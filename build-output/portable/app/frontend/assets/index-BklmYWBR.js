function Pie(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var u_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var IE={exports:{}},bx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uN;function Lie(){if(uN)return bx;uN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,i){var s=null;if(i!==void 0&&(s=""+i),a.key!==void 0&&(s=""+a.key),"key"in a){i={};for(var o in a)o!=="key"&&(i[o]=a[o])}else i=a;return a=i.ref,{$$typeof:t,type:r,key:s,ref:a!==void 0?a:null,props:i}}return bx.Fragment=e,bx.jsx=n,bx.jsxs=n,bx}var dN;function zie(){return dN||(dN=1,IE.exports=Lie()),IE.exports}var c=zie(),jE={exports:{}},An={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fN;function Fie(){if(fN)return An;fN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),m=Symbol.iterator;function y(V){return V===null||typeof V!="object"?null:(V=m&&V[m]||V["@@iterator"],typeof V=="function"?V:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,_={};function C(V,Z,q){this.props=V,this.context=Z,this.refs=_,this.updater=q||x}C.prototype.isReactComponent={},C.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},C.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function w(){}w.prototype=C.prototype;function T(V,Z,q){this.props=V,this.context=Z,this.refs=_,this.updater=q||x}var E=T.prototype=new w;E.constructor=T,v(E,C.prototype),E.isPureReactComponent=!0;var I=Array.isArray;function j(){}var O={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function N(V,Z,q){var te=q.ref;return{$$typeof:t,type:V,key:Z,ref:te!==void 0?te:null,props:q}}function M(V,Z){return N(V.type,Z,V.props)}function H(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function P(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(q){return Z[q]})}var $=/\/+/g;function D(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):Z.toString(36)}function U(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(j,j):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function F(V,Z,q,te,ae){var ie=typeof V;(ie==="undefined"||ie==="boolean")&&(V=null);var ce=!1;if(V===null)ce=!0;else switch(ie){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(V.$$typeof){case t:case e:ce=!0;break;case d:return ce=V._init,F(ce(V._payload),Z,q,te,ae)}}if(ce)return ae=ae(V),ce=te===""?"."+D(V,0):te,I(ae)?(q="",ce!=null&&(q=ce.replace($,"$&/")+"/"),F(ae,Z,q,"",function(oe){return oe})):ae!=null&&(H(ae)&&(ae=M(ae,q+(ae.key==null||V&&V.key===ae.key?"":(""+ae.key).replace($,"$&/")+"/")+ce)),Z.push(ae)),1;ce=0;var pe=te===""?".":te+":";if(I(V))for(var ge=0;ge<V.length;ge++)te=V[ge],ie=pe+D(te,ge),ce+=F(te,Z,q,ie,ae);else if(ge=y(V),typeof ge=="function")for(V=ge.call(V),ge=0;!(te=V.next()).done;)te=te.value,ie=pe+D(te,ge++),ce+=F(te,Z,q,ie,ae);else if(ie==="object"){if(typeof V.then=="function")return F(U(V),Z,q,te,ae);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ce}function W(V,Z,q){if(V==null)return V;var te=[],ae=0;return F(V,te,"","",function(ie){return Z.call(q,ie,ae++)}),te}function ee(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(q){(V._status===0||V._status===-1)&&(V._status=1,V._result=q)},function(q){(V._status===0||V._status===-1)&&(V._status=2,V._result=q)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var Q=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},K={map:W,forEach:function(V,Z,q){W(V,function(){Z.apply(this,arguments)},q)},count:function(V){var Z=0;return W(V,function(){Z++}),Z},toArray:function(V){return W(V,function(Z){return Z})||[]},only:function(V){if(!H(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return An.Activity=h,An.Children=K,An.Component=C,An.Fragment=n,An.Profiler=a,An.PureComponent=T,An.StrictMode=r,An.Suspense=l,An.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,An.__COMPILER_RUNTIME={__proto__:null,c:function(V){return O.H.useMemoCache(V)}},An.cache=function(V){return function(){return V.apply(null,arguments)}},An.cacheSignal=function(){return null},An.cloneElement=function(V,Z,q){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var te=v({},V.props),ae=V.key;if(Z!=null)for(ie in Z.key!==void 0&&(ae=""+Z.key),Z)!L.call(Z,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&Z.ref===void 0||(te[ie]=Z[ie]);var ie=arguments.length-2;if(ie===1)te.children=q;else if(1<ie){for(var ce=Array(ie),pe=0;pe<ie;pe++)ce[pe]=arguments[pe+2];te.children=ce}return N(V.type,ae,te)},An.createContext=function(V){return V={$$typeof:s,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:i,_context:V},V},An.createElement=function(V,Z,q){var te,ae={},ie=null;if(Z!=null)for(te in Z.key!==void 0&&(ie=""+Z.key),Z)L.call(Z,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ae[te]=Z[te]);var ce=arguments.length-2;if(ce===1)ae.children=q;else if(1<ce){for(var pe=Array(ce),ge=0;ge<ce;ge++)pe[ge]=arguments[ge+2];ae.children=pe}if(V&&V.defaultProps)for(te in ce=V.defaultProps,ce)ae[te]===void 0&&(ae[te]=ce[te]);return N(V,ie,ae)},An.createRef=function(){return{current:null}},An.forwardRef=function(V){return{$$typeof:o,render:V}},An.isValidElement=H,An.lazy=function(V){return{$$typeof:d,_payload:{_status:-1,_result:V},_init:ee}},An.memo=function(V,Z){return{$$typeof:u,type:V,compare:Z===void 0?null:Z}},An.startTransition=function(V){var Z=O.T,q={};O.T=q;try{var te=V(),ae=O.S;ae!==null&&ae(q,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(j,Q)}catch(ie){Q(ie)}finally{Z!==null&&q.types!==null&&(Z.types=q.types),O.T=Z}},An.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},An.use=function(V){return O.H.use(V)},An.useActionState=function(V,Z,q){return O.H.useActionState(V,Z,q)},An.useCallback=function(V,Z){return O.H.useCallback(V,Z)},An.useContext=function(V){return O.H.useContext(V)},An.useDebugValue=function(){},An.useDeferredValue=function(V,Z){return O.H.useDeferredValue(V,Z)},An.useEffect=function(V,Z){return O.H.useEffect(V,Z)},An.useEffectEvent=function(V){return O.H.useEffectEvent(V)},An.useId=function(){return O.H.useId()},An.useImperativeHandle=function(V,Z,q){return O.H.useImperativeHandle(V,Z,q)},An.useInsertionEffect=function(V,Z){return O.H.useInsertionEffect(V,Z)},An.useLayoutEffect=function(V,Z){return O.H.useLayoutEffect(V,Z)},An.useMemo=function(V,Z){return O.H.useMemo(V,Z)},An.useOptimistic=function(V,Z){return O.H.useOptimistic(V,Z)},An.useReducer=function(V,Z,q){return O.H.useReducer(V,Z,q)},An.useRef=function(V){return O.H.useRef(V)},An.useState=function(V){return O.H.useState(V)},An.useSyncExternalStore=function(V,Z,q){return O.H.useSyncExternalStore(V,Z,q)},An.useTransition=function(){return O.H.useTransition()},An.version="19.2.0",An}var hN;function Pg(){return hN||(hN=1,jE.exports=Fie()),jE.exports}var A=Pg();const je=Qf(A),W4=Pie({__proto__:null,default:je},[A]);var OE={exports:{}},xx={},DE={exports:{}},ME={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pN;function Bie(){return pN||(pN=1,(function(t){function e(F,W){var ee=F.length;F.push(W);e:for(;0<ee;){var Q=ee-1>>>1,K=F[Q];if(0<a(K,W))F[Q]=W,F[ee]=K,ee=Q;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var W=F[0],ee=F.pop();if(ee!==W){F[0]=ee;e:for(var Q=0,K=F.length,V=K>>>1;Q<V;){var Z=2*(Q+1)-1,q=F[Z],te=Z+1,ae=F[te];if(0>a(q,ee))te<K&&0>a(ae,q)?(F[Q]=ae,F[te]=ee,Q=te):(F[Q]=q,F[Z]=ee,Q=Z);else if(te<K&&0>a(ae,ee))F[Q]=ae,F[te]=ee,Q=te;else break e}}return W}function a(F,W){var ee=F.sortIndex-W.sortIndex;return ee!==0?ee:F.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,h=null,m=3,y=!1,x=!1,v=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function E(F){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=F)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function I(F){if(v=!1,E(F),!x)if(n(l)!==null)x=!0,j||(j=!0,P());else{var W=n(u);W!==null&&U(I,W.startTime-F)}}var j=!1,O=-1,L=5,N=-1;function M(){return _?!0:!(t.unstable_now()-N<L)}function H(){if(_=!1,j){var F=t.unstable_now();N=F;var W=!0;try{e:{x=!1,v&&(v=!1,w(O),O=-1),y=!0;var ee=m;try{t:{for(E(F),h=n(l);h!==null&&!(h.expirationTime>F&&M());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,m=h.priorityLevel;var K=Q(h.expirationTime<=F);if(F=t.unstable_now(),typeof K=="function"){h.callback=K,E(F),W=!0;break t}h===n(l)&&r(l),E(F)}else r(l);h=n(l)}if(h!==null)W=!0;else{var V=n(u);V!==null&&U(I,V.startTime-F),W=!1}}break e}finally{h=null,m=ee,y=!1}W=void 0}}finally{W?P():j=!1}}}var P;if(typeof T=="function")P=function(){T(H)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,D=$.port2;$.port1.onmessage=H,P=function(){D.postMessage(null)}}else P=function(){C(H,0)};function U(F,W){O=C(function(){F(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var ee=m;m=W;try{return F()}finally{m=ee}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ee=m;m=F;try{return W()}finally{m=ee}},t.unstable_scheduleCallback=function(F,W,ee){var Q=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Q+ee:Q):ee=Q,F){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ee+K,F={id:d++,callback:W,priorityLevel:F,startTime:ee,expirationTime:K,sortIndex:-1},ee>Q?(F.sortIndex=ee,e(u,F),n(l)===null&&F===n(u)&&(v?(w(O),O=-1):v=!0,U(I,ee-Q))):(F.sortIndex=K,e(l,F),x||y||(x=!0,j||(j=!0,P()))),F},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(F){var W=m;return function(){var ee=m;m=W;try{return F.apply(this,arguments)}finally{m=ee}}}})(ME)),ME}var mN;function Mj(){return mN||(mN=1,DE.exports=Bie()),DE.exports}var NE={exports:{}},zs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gN;function Hie(){if(gN)return zs;gN=1;var t=Pg();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(l,u,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:h==null?null:""+h,children:l,containerInfo:u,implementation:d}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return zs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,zs.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return i(l,u,null,d)},zs.flushSync=function(l){var u=s.T,d=r.p;try{if(s.T=null,r.p=2,l)return l()}finally{s.T=u,r.p=d,r.d.f()}},zs.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(l,u))},zs.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},zs.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin),m=typeof u.integrity=="string"?u.integrity:void 0,y=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?r.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:m,fetchPriority:y}):d==="script"&&r.d.X(l,{crossOrigin:h,integrity:m,fetchPriority:y,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},zs.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(l)},zs.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin);r.d.L(l,d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},zs.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);r.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(l)},zs.requestFormReset=function(l){r.d.r(l)},zs.unstable_batchedUpdates=function(l,u){return l(u)},zs.useFormState=function(l,u,d){return s.H.useFormState(l,u,d)},zs.useFormStatus=function(){return s.H.useHostTransitionStatus()},zs.version="19.2.0",zs}var yN;function IY(){if(yN)return NE.exports;yN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),NE.exports=Hie(),NE.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bN;function Uie(){if(bN)return xx;bN=1;var t=Mj(),e=Pg(),n=IY();function r(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)p+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function i(f){var p=f,S=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,(p.flags&4098)!==0&&(S=p.return),f=p.return;while(f)}return p.tag===3?S:null}function s(f){if(f.tag===13){var p=f.memoizedState;if(p===null&&(f=f.alternate,f!==null&&(p=f.memoizedState)),p!==null)return p.dehydrated}return null}function o(f){if(f.tag===31){var p=f.memoizedState;if(p===null&&(f=f.alternate,f!==null&&(p=f.memoizedState)),p!==null)return p.dehydrated}return null}function l(f){if(i(f)!==f)throw Error(r(188))}function u(f){var p=f.alternate;if(!p){if(p=i(f),p===null)throw Error(r(188));return p!==f?null:f}for(var S=f,R=p;;){var B=S.return;if(B===null)break;var G=B.alternate;if(G===null){if(R=B.return,R!==null){S=R;continue}break}if(B.child===G.child){for(G=B.child;G;){if(G===S)return l(B),f;if(G===R)return l(B),p;G=G.sibling}throw Error(r(188))}if(S.return!==R.return)S=B,R=G;else{for(var se=!1,fe=B.child;fe;){if(fe===S){se=!0,S=B,R=G;break}if(fe===R){se=!0,R=B,S=G;break}fe=fe.sibling}if(!se){for(fe=G.child;fe;){if(fe===S){se=!0,S=G,R=B;break}if(fe===R){se=!0,R=G,S=B;break}fe=fe.sibling}if(!se)throw Error(r(189))}}if(S.alternate!==R)throw Error(r(190))}if(S.tag!==3)throw Error(r(188));return S.stateNode.current===S?f:p}function d(f){var p=f.tag;if(p===5||p===26||p===27||p===6)return f;for(f=f.child;f!==null;){if(p=d(f),p!==null)return p;f=f.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),T=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function P(f){return f===null||typeof f!="object"?null:(f=H&&f[H]||f["@@iterator"],typeof f=="function"?f:null)}var $=Symbol.for("react.client.reference");function D(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===$?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case v:return"Fragment";case C:return"Profiler";case _:return"StrictMode";case I:return"Suspense";case j:return"SuspenseList";case N:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case x:return"Portal";case T:return f.displayName||"Context";case w:return(f._context.displayName||"Context")+".Consumer";case E:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case O:return p=f.displayName||null,p!==null?p:D(f.type)||"Memo";case L:p=f._payload,f=f._init;try{return D(f(p))}catch{}}return null}var U=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Q=[],K=-1;function V(f){return{current:f}}function Z(f){0>K||(f.current=Q[K],Q[K]=null,K--)}function q(f,p){K++,Q[K]=f.current,f.current=p}var te=V(null),ae=V(null),ie=V(null),ce=V(null);function pe(f,p){switch(q(ie,p),q(ae,f),q(te,null),p.nodeType){case 9:case 11:f=(f=p.documentElement)&&(f=f.namespaceURI)?DM(f):0;break;default:if(f=p.tagName,p=p.namespaceURI)p=DM(p),f=MM(p,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}Z(te),q(te,f)}function ge(){Z(te),Z(ae),Z(ie)}function oe(f){f.memoizedState!==null&&q(ce,f);var p=te.current,S=MM(p,f.type);p!==S&&(q(ae,f),q(te,S))}function ue(f){ae.current===f&&(Z(te),Z(ae)),ce.current===f&&(Z(ce),px._currentValue=ee)}var he,ve;function me(f){if(he===void 0)try{throw Error()}catch(S){var p=S.stack.trim().match(/\n( *(at )?)/);he=p&&p[1]||"",ve=-1<S.stack.indexOf(`
    at`)?" (<anonymous>)":-1<S.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+f+ve}var le=!1;function Se(f,p){if(!f||le)return"";le=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var R={DetermineComponentFrameRoot:function(){try{if(p){var pt=function(){throw Error()};if(Object.defineProperty(pt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pt,[])}catch(at){var Ze=at}Reflect.construct(f,[],pt)}else{try{pt.call()}catch(at){Ze=at}f.call(pt.prototype)}}else{try{throw Error()}catch(at){Ze=at}(pt=f())&&typeof pt.catch=="function"&&pt.catch(function(){})}}catch(at){if(at&&Ze&&typeof at.stack=="string")return[at.stack,Ze.stack]}return[null,null]}};R.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor(R.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty(R.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var G=R.DetermineComponentFrameRoot(),se=G[0],fe=G[1];if(se&&fe){var Ae=se.split(`
`),We=fe.split(`
`);for(B=R=0;R<Ae.length&&!Ae[R].includes("DetermineComponentFrameRoot");)R++;for(;B<We.length&&!We[B].includes("DetermineComponentFrameRoot");)B++;if(R===Ae.length||B===We.length)for(R=Ae.length-1,B=We.length-1;1<=R&&0<=B&&Ae[R]!==We[B];)B--;for(;1<=R&&0<=B;R--,B--)if(Ae[R]!==We[B]){if(R!==1||B!==1)do if(R--,B--,0>B||Ae[R]!==We[B]){var lt=`
`+Ae[R].replace(" at new "," at ");return f.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",f.displayName)),lt}while(1<=R&&0<=B);break}}}finally{le=!1,Error.prepareStackTrace=S}return(S=f?f.displayName||f.name:"")?me(S):""}function be(f,p){switch(f.tag){case 26:case 27:case 5:return me(f.type);case 16:return me("Lazy");case 13:return f.child!==p&&p!==null?me("Suspense Fallback"):me("Suspense");case 19:return me("SuspenseList");case 0:case 15:return Se(f.type,!1);case 11:return Se(f.type.render,!1);case 1:return Se(f.type,!0);case 31:return me("Activity");default:return""}}function Te(f){try{var p="",S=null;do p+=be(f,S),S=f,f=f.return;while(f);return p}catch(R){return`
Error generating stack: `+R.message+`
`+R.stack}}var Ne=Object.prototype.hasOwnProperty,Pe=t.unstable_scheduleCallback,Le=t.unstable_cancelCallback,De=t.unstable_shouldYield,Xe=t.unstable_requestPaint,ke=t.unstable_now,Ie=t.unstable_getCurrentPriorityLevel,ye=t.unstable_ImmediatePriority,Ce=t.unstable_UserBlockingPriority,Me=t.unstable_NormalPriority,He=t.unstable_LowPriority,Qe=t.unstable_IdlePriority,Je=t.log,Ge=t.unstable_setDisableYieldValue,it=null,rt=null;function st(f){if(typeof Je=="function"&&Ge(f),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(it,f)}catch{}}var ft=Math.clz32?Math.clz32:bn,qt=Math.log,Gt=Math.LN2;function bn(f){return f>>>=0,f===0?32:31-(qt(f)/Gt|0)|0}var zn=256,er=262144,Wt=4194304;function Bt(f){var p=f&42;if(p!==0)return p;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return f&261888;case 262144:case 524288:case 1048576:case 2097152:return f&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function hn(f,p,S){var R=f.pendingLanes;if(R===0)return 0;var B=0,G=f.suspendedLanes,se=f.pingedLanes;f=f.warmLanes;var fe=R&134217727;return fe!==0?(R=fe&~G,R!==0?B=Bt(R):(se&=fe,se!==0?B=Bt(se):S||(S=fe&~f,S!==0&&(B=Bt(S))))):(fe=R&~G,fe!==0?B=Bt(fe):se!==0?B=Bt(se):S||(S=R&~f,S!==0&&(B=Bt(S)))),B===0?0:p!==0&&p!==B&&(p&G)===0&&(G=B&-B,S=p&-p,G>=S||G===32&&(S&4194048)!==0)?p:B}function _n(f,p){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&p)===0}function Cn(f,p){switch(f){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ut(){var f=Wt;return Wt<<=1,(Wt&62914560)===0&&(Wt=4194304),f}function Nn(f){for(var p=[],S=0;31>S;S++)p.push(f);return p}function wt(f,p){f.pendingLanes|=p,p!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function Dt(f,p,S,R,B,G){var se=f.pendingLanes;f.pendingLanes=S,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=S,f.entangledLanes&=S,f.errorRecoveryDisabledLanes&=S,f.shellSuspendCounter=0;var fe=f.entanglements,Ae=f.expirationTimes,We=f.hiddenUpdates;for(S=se&~S;0<S;){var lt=31-ft(S),pt=1<<lt;fe[lt]=0,Ae[lt]=-1;var Ze=We[lt];if(Ze!==null)for(We[lt]=null,lt=0;lt<Ze.length;lt++){var at=Ze[lt];at!==null&&(at.lane&=-536870913)}S&=~pt}R!==0&&an(f,R,0),G!==0&&B===0&&f.tag!==0&&(f.suspendedLanes|=G&~(se&~p))}function an(f,p,S){f.pendingLanes|=p,f.suspendedLanes&=~p;var R=31-ft(p);f.entangledLanes|=p,f.entanglements[R]=f.entanglements[R]|1073741824|S&261930}function rn(f,p){var S=f.entangledLanes|=p;for(f=f.entanglements;S;){var R=31-ft(S),B=1<<R;B&p|f[R]&p&&(f[R]|=p),S&=~B}}function Rn(f,p){var S=p&-p;return S=(S&42)!==0?1:cr(S),(S&(f.suspendedLanes|p))!==0?0:S}function cr(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function vr(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function jr(){var f=W.p;return f!==0?f:(f=window.event,f===void 0?32:rN(f.type))}function sa(f,p){var S=W.p;try{return W.p=f,p()}finally{W.p=S}}var Yr=Math.random().toString(36).slice(2),Sr="__reactFiber$"+Yr,oa="__reactProps$"+Yr,ji="__reactContainer$"+Yr,ti="__reactEvents$"+Yr,Oi="__reactListeners$"+Yr,ll="__reactHandles$"+Yr,Ks="__reactResources$"+Yr,hi="__reactMarker$"+Yr;function Vi(f){delete f[Sr],delete f[oa],delete f[ti],delete f[Oi],delete f[ll]}function Xs(f){var p=f[Sr];if(p)return p;for(var S=f.parentNode;S;){if(p=S[ji]||S[Sr]){if(S=p.alternate,p.child!==null||S!==null&&S.child!==null)for(f=HM(f);f!==null;){if(S=f[Sr])return S;f=HM(f)}return p}f=S,S=f.parentNode}return null}function Es(f){if(f=f[Sr]||f[ji]){var p=f.tag;if(p===5||p===6||p===13||p===31||p===26||p===27||p===3)return f}return null}function Qs(f){var p=f.tag;if(p===5||p===26||p===27||p===6)return f.stateNode;throw Error(r(33))}function Ts(f){var p=f[Ks];return p||(p=f[Ks]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function Nr(f){f[hi]=!0}var pi=new Set,Zs={};function Di(f,p){la(f,p),la(f+"Capture",p)}function la(f,p){for(Zs[f]=p,f=0;f<p.length;f++)pi.add(p[f])}var Ga=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),As={},ur={};function Rs(f){return Ne.call(ur,f)?!0:Ne.call(As,f)?!1:Ga.test(f)?ur[f]=!0:(As[f]=!0,!1)}function Js(f,p,S){if(Rs(p))if(S===null)f.removeAttribute(p);else{switch(typeof S){case"undefined":case"function":case"symbol":f.removeAttribute(p);return;case"boolean":var R=p.toLowerCase().slice(0,5);if(R!=="data-"&&R!=="aria-"){f.removeAttribute(p);return}}f.setAttribute(p,""+S)}}function Eo(f,p,S){if(S===null)f.removeAttribute(p);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(p);return}f.setAttribute(p,""+S)}}function Mi(f,p,S,R){if(R===null)f.removeAttribute(S);else{switch(typeof R){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(S);return}f.setAttributeNS(p,S,""+R)}}function Ni(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function zu(f){var p=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Ll(f,p,S){var R=Object.getOwnPropertyDescriptor(f.constructor.prototype,p);if(!f.hasOwnProperty(p)&&typeof R<"u"&&typeof R.get=="function"&&typeof R.set=="function"){var B=R.get,G=R.set;return Object.defineProperty(f,p,{configurable:!0,get:function(){return B.call(this)},set:function(se){S=""+se,G.call(this,se)}}),Object.defineProperty(f,p,{enumerable:R.enumerable}),{getValue:function(){return S},setValue:function(se){S=""+se},stopTracking:function(){f._valueTracker=null,delete f[p]}}}}function Gc(f){if(!f._valueTracker){var p=zu(f)?"checked":"value";f._valueTracker=Ll(f,p,""+f[p])}}function ja(f){if(!f)return!1;var p=f._valueTracker;if(!p)return!0;var S=p.getValue(),R="";return f&&(R=zu(f)?f.checked?"true":"false":f.value),f=R,f!==S?(p.setValue(f),!0):!1}function mr(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var cl=/[\n"\\]/g;function Oa(f){return f.replace(cl,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function eo(f,p,S,R,B,G,se,fe){f.name="",se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?f.type=se:f.removeAttribute("type"),p!=null?se==="number"?(p===0&&f.value===""||f.value!=p)&&(f.value=""+Ni(p)):f.value!==""+Ni(p)&&(f.value=""+Ni(p)):se!=="submit"&&se!=="reset"||f.removeAttribute("value"),p!=null?mi(f,se,Ni(p)):S!=null?mi(f,se,Ni(S)):R!=null&&f.removeAttribute("value"),B==null&&G!=null&&(f.defaultChecked=!!G),B!=null&&(f.checked=B&&typeof B!="function"&&typeof B!="symbol"),fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?f.name=""+Ni(fe):f.removeAttribute("name")}function ul(f,p,S,R,B,G,se,fe){if(G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(f.type=G),p!=null||S!=null){if(!(G!=="submit"&&G!=="reset"||p!=null)){Gc(f);return}S=S!=null?""+Ni(S):"",p=p!=null?""+Ni(p):S,fe||p===f.value||(f.value=p),f.defaultValue=p}R=R??B,R=typeof R!="function"&&typeof R!="symbol"&&!!R,f.checked=fe?f.checked:!!R,f.defaultChecked=!!R,se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"&&(f.name=se),Gc(f)}function mi(f,p,S){p==="number"&&mr(f.ownerDocument)===f||f.defaultValue===""+S||(f.defaultValue=""+S)}function to(f,p,S,R){if(f=f.options,p){p={};for(var B=0;B<S.length;B++)p["$"+S[B]]=!0;for(S=0;S<f.length;S++)B=p.hasOwnProperty("$"+f[S].value),f[S].selected!==B&&(f[S].selected=B),B&&R&&(f[S].defaultSelected=!0)}else{for(S=""+Ni(S),p=null,B=0;B<f.length;B++){if(f[B].value===S){f[B].selected=!0,R&&(f[B].defaultSelected=!0);return}p!==null||f[B].disabled||(p=f[B])}p!==null&&(p.selected=!0)}}function qc(f,p,S){if(p!=null&&(p=""+Ni(p),p!==f.value&&(f.value=p),S==null)){f.defaultValue!==p&&(f.defaultValue=p);return}f.defaultValue=S!=null?""+Ni(S):""}function dl(f,p,S,R){if(p==null){if(R!=null){if(S!=null)throw Error(r(92));if(U(R)){if(1<R.length)throw Error(r(93));R=R[0]}S=R}S==null&&(S=""),p=S}S=Ni(p),f.defaultValue=S,R=f.textContent,R===S&&R!==""&&R!==null&&(f.value=R),Gc(f)}function fl(f,p){if(p){var S=f.firstChild;if(S&&S===f.lastChild&&S.nodeType===3){S.nodeValue=p;return}}f.textContent=p}var Vc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zl(f,p,S){var R=p.indexOf("--")===0;S==null||typeof S=="boolean"||S===""?R?f.setProperty(p,""):p==="float"?f.cssFloat="":f[p]="":R?f.setProperty(p,S):typeof S!="number"||S===0||Vc.has(p)?p==="float"?f.cssFloat=S:f[p]=(""+S).trim():f[p]=S+"px"}function Fl(f,p,S){if(p!=null&&typeof p!="object")throw Error(r(62));if(f=f.style,S!=null){for(var R in S)!S.hasOwnProperty(R)||p!=null&&p.hasOwnProperty(R)||(R.indexOf("--")===0?f.setProperty(R,""):R==="float"?f.cssFloat="":f[R]="");for(var B in p)R=p[B],p.hasOwnProperty(B)&&S[B]!==R&&zl(f,B,R)}else for(var G in p)p.hasOwnProperty(G)&&zl(f,G,p[G])}function Fu(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wc(f){return Bl.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}function Wi(){}var hl=null;function pl(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var ml=null,no=null;function Hl(f){var p=Es(f);if(p&&(f=p.stateNode)){var S=f[oa]||null;e:switch(f=p.stateNode,p.type){case"input":if(eo(f,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name),p=S.name,S.type==="radio"&&p!=null){for(S=f;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll('input[name="'+Oa(""+p)+'"][type="radio"]'),p=0;p<S.length;p++){var R=S[p];if(R!==f&&R.form===f.form){var B=R[oa]||null;if(!B)throw Error(r(90));eo(R,B.value,B.defaultValue,B.defaultValue,B.checked,B.defaultChecked,B.type,B.name)}}for(p=0;p<S.length;p++)R=S[p],R.form===f.form&&ja(R)}break e;case"textarea":qc(f,S.value,S.defaultValue);break e;case"select":p=S.value,p!=null&&to(f,!!S.multiple,p,!1)}}}var Bu=!1;function Ul(f,p,S){if(Bu)return f(p,S);Bu=!0;try{var R=f(p);return R}finally{if(Bu=!1,(ml!==null||no!==null)&&(wl(),ml&&(p=ml,f=no,no=ml=null,Hl(p),f)))for(p=0;p<f.length;p++)Hl(f[p])}}function ro(f,p){var S=f.stateNode;if(S===null)return null;var R=S[oa]||null;if(R===null)return null;S=R[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(f=f.type,R=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!R;break e;default:f=!1}if(f)return null;if(S&&typeof S!="function")throw Error(r(231,p,typeof S));return S}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$l=!1;if(Pi)try{var gl={};Object.defineProperty(gl,"passive",{get:function(){$l=!0}}),window.addEventListener("test",gl,gl),window.removeEventListener("test",gl,gl)}catch{$l=!1}var qa=null,yl=null,bl=null;function To(){if(bl)return bl;var f,p=yl,S=p.length,R,B="value"in qa?qa.value:qa.textContent,G=B.length;for(f=0;f<S&&p[f]===B[f];f++);var se=S-f;for(R=1;R<=se&&p[S-R]===B[G-R];R++);return bl=B.slice(f,1<R?1-R:void 0)}function Ao(f){var p=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&p===13&&(f=13)):f=p,f===10&&(f=13),32<=f||f===13?f:0}function xl(){return!0}function Yc(){return!1}function Sa(f){function p(S,R,B,G,se){this._reactName=S,this._targetInst=B,this.type=R,this.nativeEvent=G,this.target=se,this.currentTarget=null;for(var fe in f)f.hasOwnProperty(fe)&&(S=f[fe],this[fe]=S?S(G):G[fe]);return this.isDefaultPrevented=(G.defaultPrevented!=null?G.defaultPrevented:G.returnValue===!1)?xl:Yc,this.isPropagationStopped=Yc,this}return h(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),p}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ro=Sa(ls),ao=h({},ls,{view:0,detail:0}),Kc=Sa(ao),Gl,_r,ca,Da=h({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r0,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==ca&&(ca&&f.type==="mousemove"?(Gl=f.screenX-ca.screenX,_r=f.screenY-ca.screenY):_r=Gl=0,ca=f),Gl)},movementY:function(f){return"movementY"in f?f.movementY:_r}}),ql=Sa(Da),Kp=h({},Da,{dataTransfer:0}),jS=Sa(Kp),Jy=h({},ao,{relatedTarget:0}),e0=Sa(Jy),OS=h({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Xw=Sa(OS),Qw=h({},ls,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),DS=Sa(Qw),Xp=h({},ls,{data:0}),t0=Sa(Xp),n0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eb(f){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(f):(f=NS[f])?!!p[f]:!1}function r0(){return eb}var PS=h({},ao,{key:function(f){if(f.key){var p=n0[f.key]||f.key;if(p!=="Unidentified")return p}return f.type==="keypress"?(f=Ao(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?MS[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r0,charCode:function(f){return f.type==="keypress"?Ao(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Ao(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),Zd=Sa(PS),a0=h({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tb=Sa(a0),nb=h({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r0}),LS=Sa(nb),zS=h({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zw=Sa(zS),Li=h({},Da,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),FS=Sa(Li),BS=h({},ls,{newState:0,oldState:0}),HS=Sa(BS),US=[9,13,27,32],Jd=Pi&&"CompositionEvent"in window,sh=null;Pi&&"documentMode"in document&&(sh=document.documentMode);var i0=Pi&&"TextEvent"in window&&!sh,rb=Pi&&(!Jd||sh&&8<sh&&11>=sh),$S=" ",Qp=!1;function s0(f,p){switch(f){case"keyup":return US.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ab(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var ef=!1;function GS(f,p){switch(f){case"compositionend":return ab(p);case"keypress":return p.which!==32?null:(Qp=!0,$S);case"textInput":return f=p.data,f===$S&&Qp?null:f;default:return null}}function ib(f,p){if(ef)return f==="compositionend"||!Jd&&s0(f,p)?(f=To(),bl=yl=qa=null,ef=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return rb&&p.locale!=="ko"?null:p.data;default:return null}}var sb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ob(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p==="input"?!!sb[f.type]:p==="textarea"}function o0(f,p,S,R){ml?no?no.push(R):no=[R]:ml=R,p=K3(p,"onChange"),0<p.length&&(S=new Ro("onChange","change",null,S,R),f.push({event:S,listeners:p}))}var Hu=null,tf=null;function qS(f){AM(f,0)}function oh(f){var p=Qs(f);if(ja(p))return f}function lb(f,p){if(f==="change")return p}var Vl=!1;if(Pi){var Zp;if(Pi){var cb="oninput"in document;if(!cb){var ub=document.createElement("div");ub.setAttribute("oninput","return;"),cb=typeof ub.oninput=="function"}Zp=cb}else Zp=!1;Vl=Zp&&(!document.documentMode||9<document.documentMode)}function ko(){Hu&&(Hu.detachEvent("onpropertychange",Jp),tf=Hu=null)}function Jp(f){if(f.propertyName==="value"&&oh(tf)){var p=[];o0(p,tf,f,pl(f)),Ul(qS,p)}}function VS(f,p,S){f==="focusin"?(ko(),Hu=p,tf=S,Hu.attachEvent("onpropertychange",Jp)):f==="focusout"&&ko()}function db(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return oh(tf)}function WS(f,p){if(f==="click")return oh(p)}function YS(f,p){if(f==="input"||f==="change")return oh(p)}function fb(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var cs=typeof Object.is=="function"?Object.is:fb;function lh(f,p){if(cs(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var S=Object.keys(f),R=Object.keys(p);if(S.length!==R.length)return!1;for(R=0;R<S.length;R++){var B=S[R];if(!Ne.call(p,B)||!cs(f[B],p[B]))return!1}return!0}function em(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function ch(f,p){var S=em(f);f=0;for(var R;S;){if(S.nodeType===3){if(R=f+S.textContent.length,f<=p&&R>=p)return{node:S,offset:p-f};f=R}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=em(S)}}function zr(f,p){return f&&p?f===p?!0:f&&f.nodeType===3?!1:p&&p.nodeType===3?zr(f,p.parentNode):"contains"in f?f.contains(p):f.compareDocumentPosition?!!(f.compareDocumentPosition(p)&16):!1:!1}function KS(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var p=mr(f.document);p instanceof f.HTMLIFrameElement;){try{var S=typeof p.contentWindow.location.href=="string"}catch{S=!1}if(S)f=p.contentWindow;else break;p=mr(f.document)}return p}function hb(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p&&(p==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||p==="textarea"||f.contentEditable==="true")}var XS=Pi&&"documentMode"in document&&11>=document.documentMode,Wl=null,Yl=null,uh=null,l0=!1;function dh(f,p,S){var R=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;l0||Wl==null||Wl!==mr(R)||(R=Wl,"selectionStart"in R&&hb(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),uh&&lh(uh,R)||(uh=R,R=K3(Yl,"onSelect"),0<R.length&&(p=new Ro("onSelect","select",null,p,S),f.push({event:p,listeners:R}),p.target=Wl)))}function Yi(f,p){var S={};return S[f.toLowerCase()]=p.toLowerCase(),S["Webkit"+f]="webkit"+p,S["Moz"+f]="moz"+p,S}var nf={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionrun:Yi("Transition","TransitionRun"),transitionstart:Yi("Transition","TransitionStart"),transitioncancel:Yi("Transition","TransitionCancel"),transitionend:Yi("Transition","TransitionEnd")},tm={},pb={};Pi&&(pb=document.createElement("div").style,"AnimationEvent"in window||(delete nf.animationend.animation,delete nf.animationiteration.animation,delete nf.animationstart.animation),"TransitionEvent"in window||delete nf.transitionend.transition);function Xc(f){if(tm[f])return tm[f];if(!nf[f])return f;var p=nf[f],S;for(S in p)if(p.hasOwnProperty(S)&&S in pb)return tm[f]=p[S];return f}var c0=Xc("animationend"),nm=Xc("animationiteration"),mb=Xc("animationstart"),QS=Xc("transitionrun"),Jw=Xc("transitionstart"),ZS=Xc("transitioncancel"),gb=Xc("transitionend"),Io=new Map,rm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rm.push("scrollEnd");function jo(f,p){Io.set(f,p),Di(p,[f])}var am=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},Oo=[],Qc=0,gi=0;function im(){for(var f=Qc,p=gi=Qc=0;p<f;){var S=Oo[p];Oo[p++]=null;var R=Oo[p];Oo[p++]=null;var B=Oo[p];Oo[p++]=null;var G=Oo[p];if(Oo[p++]=null,R!==null&&B!==null){var se=R.pending;se===null?B.next=B:(B.next=se.next,se.next=B),R.pending=B}G!==0&&Uu(S,B,G)}}function yi(f,p,S,R){Oo[Qc++]=f,Oo[Qc++]=p,Oo[Qc++]=S,Oo[Qc++]=R,gi|=R,f.lanes|=R,f=f.alternate,f!==null&&(f.lanes|=R)}function u0(f,p,S,R){return yi(f,p,S,R),Do(f)}function us(f,p){return yi(f,null,null,p),Do(f)}function Uu(f,p,S){f.lanes|=S;var R=f.alternate;R!==null&&(R.lanes|=S);for(var B=!1,G=f.return;G!==null;)G.childLanes|=S,R=G.alternate,R!==null&&(R.childLanes|=S),G.tag===22&&(f=G.stateNode,f===null||f._visibility&1||(B=!0)),f=G,G=G.return;return f.tag===3?(G=f.stateNode,B&&p!==null&&(B=31-ft(S),f=G.hiddenUpdates,R=f[B],R===null?f[B]=[p]:R.push(p),p.lane=S|536870912),G):null}function Do(f){if(50<od)throw od=0,_f=null,Error(r(185));for(var p=f.return;p!==null;)f=p,p=f.return;return f.tag===3?f.stateNode:null}var $u={};function yb(f,p,S,R){this.tag=f,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ua(f,p,S,R){return new yb(f,p,S,R)}function d0(f){return f=f.prototype,!(!f||!f.isReactComponent)}function ks(f,p){var S=f.alternate;return S===null?(S=ua(f.tag,p,f.key,f.mode),S.elementType=f.elementType,S.type=f.type,S.stateNode=f.stateNode,S.alternate=f,f.alternate=S):(S.pendingProps=p,S.type=f.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=f.flags&65011712,S.childLanes=f.childLanes,S.lanes=f.lanes,S.child=f.child,S.memoizedProps=f.memoizedProps,S.memoizedState=f.memoizedState,S.updateQueue=f.updateQueue,p=f.dependencies,S.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},S.sibling=f.sibling,S.index=f.index,S.ref=f.ref,S.refCleanup=f.refCleanup,S}function fh(f,p){f.flags&=65011714;var S=f.alternate;return S===null?(f.childLanes=0,f.lanes=p,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=S.childLanes,f.lanes=S.lanes,f.child=S.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=S.memoizedProps,f.memoizedState=S.memoizedState,f.updateQueue=S.updateQueue,f.type=S.type,p=S.dependencies,f.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),f}function Kl(f,p,S,R,B,G){var se=0;if(R=f,typeof f=="function")d0(f)&&(se=1);else if(typeof f=="string")se=wie(f,S,te.current)?26:f==="html"||f==="head"||f==="body"?27:5;else e:switch(f){case N:return f=ua(31,S,p,B),f.elementType=N,f.lanes=G,f;case v:return Gu(S.children,B,G,p);case _:se=8,B|=24;break;case C:return f=ua(12,S,p,B|2),f.elementType=C,f.lanes=G,f;case I:return f=ua(13,S,p,B),f.elementType=I,f.lanes=G,f;case j:return f=ua(19,S,p,B),f.elementType=j,f.lanes=G,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case T:se=10;break e;case w:se=9;break e;case E:se=11;break e;case O:se=14;break e;case L:se=16,R=null;break e}se=29,S=Error(r(130,f===null?"null":typeof f,"")),R=null}return p=ua(se,S,p,B),p.elementType=f,p.type=R,p.lanes=G,p}function Gu(f,p,S,R){return f=ua(7,f,R,p),f.lanes=S,f}function f0(f,p,S){return f=ua(6,f,null,p),f.lanes=S,f}function hh(f){var p=ua(18,null,null,0);return p.stateNode=f,p}function h0(f,p,S){return p=ua(4,f.children!==null?f.children:[],f.key,p),p.lanes=S,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}var sm=new WeakMap;function io(f,p){if(typeof f=="object"&&f!==null){var S=sm.get(f);return S!==void 0?S:(p={value:f,source:p,stack:Te(p)},sm.set(f,p),p)}return{value:f,source:p,stack:Te(p)}}var qu=[],Vu=0,ph=null,mh=0,Is=[],Kr=0,Zc=null,da=1,vl="";function Xl(f,p){qu[Vu++]=mh,qu[Vu++]=ph,ph=f,mh=p}function JS(f,p,S){Is[Kr++]=da,Is[Kr++]=vl,Is[Kr++]=Zc,Zc=f;var R=da;f=vl;var B=32-ft(R)-1;R&=~(1<<B),S+=1;var G=32-ft(p)+B;if(30<G){var se=B-B%5;G=(R&(1<<se)-1).toString(32),R>>=se,B-=se,da=1<<32-ft(p)+B|S<<B|R,vl=G+f}else da=1<<G|S<<B|R,vl=f}function Ql(f){f.return!==null&&(Xl(f,1),JS(f,1,0))}function p0(f){for(;f===ph;)ph=qu[--Vu],qu[Vu]=null,mh=qu[--Vu],qu[Vu]=null;for(;f===Zc;)Zc=Is[--Kr],Is[Kr]=null,vl=Is[--Kr],Is[Kr]=null,da=Is[--Kr],Is[Kr]=null}function m0(f,p){Is[Kr++]=da,Is[Kr++]=vl,Is[Kr++]=Zc,da=p.id,vl=p.overflow,Zc=f}var _a=null,Fr=null,qn=!1,Jc=null,so=!1,gh=Error(r(519));function Zl(f){var p=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jl(io(p,f)),gh}function e3(f){var p=f.stateNode,S=f.type,R=f.memoizedProps;switch(p[Sr]=f,p[oa]=R,S){case"dialog":Xn("cancel",p),Xn("close",p);break;case"iframe":case"object":case"embed":Xn("load",p);break;case"video":case"audio":for(S=0;S<Vo.length;S++)Xn(Vo[S],p);break;case"source":Xn("error",p);break;case"img":case"image":case"link":Xn("error",p),Xn("load",p);break;case"details":Xn("toggle",p);break;case"input":Xn("invalid",p),ul(p,R.value,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name,!0);break;case"select":Xn("invalid",p);break;case"textarea":Xn("invalid",p),dl(p,R.value,R.defaultValue,R.children)}S=R.children,typeof S!="string"&&typeof S!="number"&&typeof S!="bigint"||p.textContent===""+S||R.suppressHydrationWarning===!0||jM(p.textContent,S)?(R.popover!=null&&(Xn("beforetoggle",p),Xn("toggle",p)),R.onScroll!=null&&Xn("scroll",p),R.onScrollEnd!=null&&Xn("scrollend",p),R.onClick!=null&&(p.onclick=Wi),p=!0):p=!1,p||Zl(f,!0)}function t3(f){for(_a=f.return;_a;)switch(_a.tag){case 5:case 31:case 13:so=!1;return;case 27:case 3:so=!0;return;default:_a=_a.return}}function yh(f){if(f!==_a)return!1;if(!qn)return t3(f),qn=!0,!1;var p=f.tag,S;if((S=p!==3&&p!==27)&&((S=p===5)&&(S=f.type,S=!(S!=="form"&&S!=="button")||mE(f.type,f.memoizedProps)),S=!S),S&&Fr&&Zl(f),t3(f),p===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));Fr=BM(f)}else if(p===31){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));Fr=BM(f)}else p===27?(p=Fr,Lh(f.type)?(f=vE,vE=null,Fr=f):Fr=p):Fr=_a?hc(f.stateNode.nextSibling):null;return!0}function Wu(){Fr=_a=null,qn=!1}function g0(){var f=Jc;return f!==null&&(wa===null?wa=f:wa.push.apply(wa,f),Jc=null),f}function Jl(f){Jc===null?Jc=[f]:Jc.push(f)}var bh=V(null),Yu=null,ec=null;function eu(f,p,S){q(bh,p._currentValue),p._currentValue=S}function tc(f){f._currentValue=bh.current,Z(bh)}function y0(f,p,S){for(;f!==null;){var R=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,R!==null&&(R.childLanes|=p)):R!==null&&(R.childLanes&p)!==p&&(R.childLanes|=p),f===S)break;f=f.return}}function b0(f,p,S,R){var B=f.child;for(B!==null&&(B.return=f);B!==null;){var G=B.dependencies;if(G!==null){var se=B.child;G=G.firstContext;e:for(;G!==null;){var fe=G;G=B;for(var Ae=0;Ae<p.length;Ae++)if(fe.context===p[Ae]){G.lanes|=S,fe=G.alternate,fe!==null&&(fe.lanes|=S),y0(G.return,S,f),R||(se=null);break e}G=fe.next}}else if(B.tag===18){if(se=B.return,se===null)throw Error(r(341));se.lanes|=S,G=se.alternate,G!==null&&(G.lanes|=S),y0(se,S,f),se=null}else se=B.child;if(se!==null)se.return=B;else for(se=B;se!==null;){if(se===f){se=null;break}if(B=se.sibling,B!==null){B.return=se.return,se=B;break}se=se.return}B=se}}function nc(f,p,S,R){f=null;for(var B=p,G=!1;B!==null;){if(!G){if((B.flags&524288)!==0)G=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var se=B.alternate;if(se===null)throw Error(r(387));if(se=se.memoizedProps,se!==null){var fe=B.type;cs(B.pendingProps.value,se.value)||(f!==null?f.push(fe):f=[fe])}}else if(B===ce.current){if(se=B.alternate,se===null)throw Error(r(387));se.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(f!==null?f.push(px):f=[px])}B=B.return}f!==null&&b0(p,f,S,R),p.flags|=262144}function om(f){for(f=f.firstContext;f!==null;){if(!cs(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function Ku(f){Yu=f,ec=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function mn(f){return n3(Yu,f)}function xh(f,p){return Yu===null&&Ku(f),n3(f,p)}function n3(f,p){var S=p._currentValue;if(p={context:p,memoizedValue:S,next:null},ec===null){if(f===null)throw Error(r(308));ec=p,f.dependencies={lanes:0,firstContext:p},f.flags|=524288}else ec=ec.next=p;return S}var r3=typeof AbortController<"u"?AbortController:function(){var f=[],p=this.signal={aborted:!1,addEventListener:function(S,R){f.push(R)}};this.abort=function(){p.aborted=!0,f.forEach(function(S){return S()})}},eE=t.unstable_scheduleCallback,tE=t.unstable_NormalPriority,Va={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bb(){return{controller:new r3,data:new Map,refCount:0}}function rf(f){f.refCount--,f.refCount===0&&eE(tE,function(){f.controller.abort()})}var oo=null,x0=0,tu=0,Mo=null;function xb(f,p){if(oo===null){var S=oo=[];x0=0,tu=et(),Mo={status:"pending",value:void 0,then:function(R){S.push(R)}}}return x0++,p.then(vb,vb),p}function vb(){if(--x0===0&&oo!==null){Mo!==null&&(Mo.status="fulfilled");var f=oo;oo=null,tu=0,Mo=null;for(var p=0;p<f.length;p++)(0,f[p])()}}function Sb(f,p){var S=[],R={status:"pending",value:null,reason:null,then:function(B){S.push(B)}};return f.then(function(){R.status="fulfilled",R.value=p;for(var B=0;B<S.length;B++)(0,S[B])(p)},function(B){for(R.status="rejected",R.reason=B,B=0;B<S.length;B++)(0,S[B])(void 0)}),R}var a3=F.S;F.S=function(f,p){lx=ke(),typeof p=="object"&&p!==null&&typeof p.then=="function"&&xb(f,p),a3!==null&&a3(f,p)};var Xu=V(null);function v0(){var f=Xu.current;return f!==null?f:xn.pooledCache}function lm(f,p){p===null?q(Xu,Xu.current):q(Xu,p.pool)}function _b(){var f=v0();return f===null?null:{parent:Va._currentValue,pool:f}}var af=Error(r(460)),cm=Error(r(474)),In=Error(r(542)),S0={then:function(){}};function js(f){return f=f.status,f==="fulfilled"||f==="rejected"}function _0(f,p,S){switch(S=f[S],S===void 0?f.push(p):S!==p&&(p.then(Wi,Wi),p=S),p.status){case"fulfilled":return p.value;case"rejected":throw f=p.reason,lf(f),f;default:if(typeof p.status=="string")p.then(Wi,Wi);else{if(f=xn,f!==null&&100<f.shellSuspendCounter)throw Error(r(482));f=p,f.status="pending",f.then(function(R){if(p.status==="pending"){var B=p;B.status="fulfilled",B.value=R}},function(R){if(p.status==="pending"){var B=p;B.status="rejected",B.reason=R}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw f=p.reason,lf(f),f}throw rc=p,af}}function sf(f){try{var p=f._init;return p(f._payload)}catch(S){throw S!==null&&typeof S=="object"&&typeof S.then=="function"?(rc=S,af):S}}var rc=null;function of(){if(rc===null)throw Error(r(459));var f=rc;return rc=null,f}function lf(f){if(f===af||f===In)throw Error(r(483))}var cf=null,uf=0;function um(f){var p=uf;return uf+=1,cf===null&&(cf=[]),_0(cf,f,p)}function No(f,p){p=p.props.ref,f.ref=p!==void 0?p:null}function vh(f,p){throw p.$$typeof===m?Error(r(525)):(f=Object.prototype.toString.call(p),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f)))}function C0(f){function p(ze,Oe){if(f){var Ve=ze.deletions;Ve===null?(ze.deletions=[Oe],ze.flags|=16):Ve.push(Oe)}}function S(ze,Oe){if(!f)return null;for(;Oe!==null;)p(ze,Oe),Oe=Oe.sibling;return null}function R(ze){for(var Oe=new Map;ze!==null;)ze.key!==null?Oe.set(ze.key,ze):Oe.set(ze.index,ze),ze=ze.sibling;return Oe}function B(ze,Oe){return ze=ks(ze,Oe),ze.index=0,ze.sibling=null,ze}function G(ze,Oe,Ve){return ze.index=Ve,f?(Ve=ze.alternate,Ve!==null?(Ve=Ve.index,Ve<Oe?(ze.flags|=67108866,Oe):Ve):(ze.flags|=67108866,Oe)):(ze.flags|=1048576,Oe)}function se(ze){return f&&ze.alternate===null&&(ze.flags|=67108866),ze}function fe(ze,Oe,Ve,dt){return Oe===null||Oe.tag!==6?(Oe=f0(Ve,ze.mode,dt),Oe.return=ze,Oe):(Oe=B(Oe,Ve),Oe.return=ze,Oe)}function Ae(ze,Oe,Ve,dt){var ln=Ve.type;return ln===v?lt(ze,Oe,Ve.props.children,dt,Ve.key):Oe!==null&&(Oe.elementType===ln||typeof ln=="object"&&ln!==null&&ln.$$typeof===L&&sf(ln)===Oe.type)?(Oe=B(Oe,Ve.props),No(Oe,Ve),Oe.return=ze,Oe):(Oe=Kl(Ve.type,Ve.key,Ve.props,null,ze.mode,dt),No(Oe,Ve),Oe.return=ze,Oe)}function We(ze,Oe,Ve,dt){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==Ve.containerInfo||Oe.stateNode.implementation!==Ve.implementation?(Oe=h0(Ve,ze.mode,dt),Oe.return=ze,Oe):(Oe=B(Oe,Ve.children||[]),Oe.return=ze,Oe)}function lt(ze,Oe,Ve,dt,ln){return Oe===null||Oe.tag!==7?(Oe=Gu(Ve,ze.mode,dt,ln),Oe.return=ze,Oe):(Oe=B(Oe,Ve),Oe.return=ze,Oe)}function pt(ze,Oe,Ve){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Oe=f0(""+Oe,ze.mode,Ve),Oe.return=ze,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case y:return Ve=Kl(Oe.type,Oe.key,Oe.props,null,ze.mode,Ve),No(Ve,Oe),Ve.return=ze,Ve;case x:return Oe=h0(Oe,ze.mode,Ve),Oe.return=ze,Oe;case L:return Oe=sf(Oe),pt(ze,Oe,Ve)}if(U(Oe)||P(Oe))return Oe=Gu(Oe,ze.mode,Ve,null),Oe.return=ze,Oe;if(typeof Oe.then=="function")return pt(ze,um(Oe),Ve);if(Oe.$$typeof===T)return pt(ze,xh(ze,Oe),Ve);vh(ze,Oe)}return null}function Ze(ze,Oe,Ve,dt){var ln=Oe!==null?Oe.key:null;if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return ln!==null?null:fe(ze,Oe,""+Ve,dt);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case y:return Ve.key===ln?Ae(ze,Oe,Ve,dt):null;case x:return Ve.key===ln?We(ze,Oe,Ve,dt):null;case L:return Ve=sf(Ve),Ze(ze,Oe,Ve,dt)}if(U(Ve)||P(Ve))return ln!==null?null:lt(ze,Oe,Ve,dt,null);if(typeof Ve.then=="function")return Ze(ze,Oe,um(Ve),dt);if(Ve.$$typeof===T)return Ze(ze,Oe,xh(ze,Ve),dt);vh(ze,Ve)}return null}function at(ze,Oe,Ve,dt,ln){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return ze=ze.get(Ve)||null,fe(Oe,ze,""+dt,ln);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case y:return ze=ze.get(dt.key===null?Ve:dt.key)||null,Ae(Oe,ze,dt,ln);case x:return ze=ze.get(dt.key===null?Ve:dt.key)||null,We(Oe,ze,dt,ln);case L:return dt=sf(dt),at(ze,Oe,Ve,dt,ln)}if(U(dt)||P(dt))return ze=ze.get(Ve)||null,lt(Oe,ze,dt,ln,null);if(typeof dt.then=="function")return at(ze,Oe,Ve,um(dt),ln);if(dt.$$typeof===T)return at(ze,Oe,Ve,xh(Oe,dt),ln);vh(Oe,dt)}return null}function Qt(ze,Oe,Ve,dt){for(var ln=null,br=null,Zt=Oe,Pn=Oe=0,nr=null;Zt!==null&&Pn<Ve.length;Pn++){Zt.index>Pn?(nr=Zt,Zt=null):nr=Zt.sibling;var xr=Ze(ze,Zt,Ve[Pn],dt);if(xr===null){Zt===null&&(Zt=nr);break}f&&Zt&&xr.alternate===null&&p(ze,Zt),Oe=G(xr,Oe,Pn),br===null?ln=xr:br.sibling=xr,br=xr,Zt=nr}if(Pn===Ve.length)return S(ze,Zt),qn&&Xl(ze,Pn),ln;if(Zt===null){for(;Pn<Ve.length;Pn++)Zt=pt(ze,Ve[Pn],dt),Zt!==null&&(Oe=G(Zt,Oe,Pn),br===null?ln=Zt:br.sibling=Zt,br=Zt);return qn&&Xl(ze,Pn),ln}for(Zt=R(Zt);Pn<Ve.length;Pn++)nr=at(Zt,ze,Pn,Ve[Pn],dt),nr!==null&&(f&&nr.alternate!==null&&Zt.delete(nr.key===null?Pn:nr.key),Oe=G(nr,Oe,Pn),br===null?ln=nr:br.sibling=nr,br=nr);return f&&Zt.forEach(function(Uh){return p(ze,Uh)}),qn&&Xl(ze,Pn),ln}function pn(ze,Oe,Ve,dt){if(Ve==null)throw Error(r(151));for(var ln=null,br=null,Zt=Oe,Pn=Oe=0,nr=null,xr=Ve.next();Zt!==null&&!xr.done;Pn++,xr=Ve.next()){Zt.index>Pn?(nr=Zt,Zt=null):nr=Zt.sibling;var Uh=Ze(ze,Zt,xr.value,dt);if(Uh===null){Zt===null&&(Zt=nr);break}f&&Zt&&Uh.alternate===null&&p(ze,Zt),Oe=G(Uh,Oe,Pn),br===null?ln=Uh:br.sibling=Uh,br=Uh,Zt=nr}if(xr.done)return S(ze,Zt),qn&&Xl(ze,Pn),ln;if(Zt===null){for(;!xr.done;Pn++,xr=Ve.next())xr=pt(ze,xr.value,dt),xr!==null&&(Oe=G(xr,Oe,Pn),br===null?ln=xr:br.sibling=xr,br=xr);return qn&&Xl(ze,Pn),ln}for(Zt=R(Zt);!xr.done;Pn++,xr=Ve.next())xr=at(Zt,ze,Pn,xr.value,dt),xr!==null&&(f&&xr.alternate!==null&&Zt.delete(xr.key===null?Pn:xr.key),Oe=G(xr,Oe,Pn),br===null?ln=xr:br.sibling=xr,br=xr);return f&&Zt.forEach(function(Nie){return p(ze,Nie)}),qn&&Xl(ze,Pn),ln}function Ur(ze,Oe,Ve,dt){if(typeof Ve=="object"&&Ve!==null&&Ve.type===v&&Ve.key===null&&(Ve=Ve.props.children),typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case y:e:{for(var ln=Ve.key;Oe!==null;){if(Oe.key===ln){if(ln=Ve.type,ln===v){if(Oe.tag===7){S(ze,Oe.sibling),dt=B(Oe,Ve.props.children),dt.return=ze,ze=dt;break e}}else if(Oe.elementType===ln||typeof ln=="object"&&ln!==null&&ln.$$typeof===L&&sf(ln)===Oe.type){S(ze,Oe.sibling),dt=B(Oe,Ve.props),No(dt,Ve),dt.return=ze,ze=dt;break e}S(ze,Oe);break}else p(ze,Oe);Oe=Oe.sibling}Ve.type===v?(dt=Gu(Ve.props.children,ze.mode,dt,Ve.key),dt.return=ze,ze=dt):(dt=Kl(Ve.type,Ve.key,Ve.props,null,ze.mode,dt),No(dt,Ve),dt.return=ze,ze=dt)}return se(ze);case x:e:{for(ln=Ve.key;Oe!==null;){if(Oe.key===ln)if(Oe.tag===4&&Oe.stateNode.containerInfo===Ve.containerInfo&&Oe.stateNode.implementation===Ve.implementation){S(ze,Oe.sibling),dt=B(Oe,Ve.children||[]),dt.return=ze,ze=dt;break e}else{S(ze,Oe);break}else p(ze,Oe);Oe=Oe.sibling}dt=h0(Ve,ze.mode,dt),dt.return=ze,ze=dt}return se(ze);case L:return Ve=sf(Ve),Ur(ze,Oe,Ve,dt)}if(U(Ve))return Qt(ze,Oe,Ve,dt);if(P(Ve)){if(ln=P(Ve),typeof ln!="function")throw Error(r(150));return Ve=ln.call(Ve),pn(ze,Oe,Ve,dt)}if(typeof Ve.then=="function")return Ur(ze,Oe,um(Ve),dt);if(Ve.$$typeof===T)return Ur(ze,Oe,xh(ze,Ve),dt);vh(ze,Ve)}return typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint"?(Ve=""+Ve,Oe!==null&&Oe.tag===6?(S(ze,Oe.sibling),dt=B(Oe,Ve),dt.return=ze,ze=dt):(S(ze,Oe),dt=f0(Ve,ze.mode,dt),dt.return=ze,ze=dt),se(ze)):S(ze,Oe)}return function(ze,Oe,Ve,dt){try{uf=0;var ln=Ur(ze,Oe,Ve,dt);return cf=null,ln}catch(Zt){if(Zt===af||Zt===In)throw Zt;var br=ua(29,Zt,null,ze.mode);return br.lanes=dt,br.return=ze,br}finally{}}}var nu=C0(!0),w0=C0(!1),ds=!1;function dm(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cb(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function ru(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function Qu(f,p,S){var R=f.updateQueue;if(R===null)return null;if(R=R.shared,(tn&2)!==0){var B=R.pending;return B===null?p.next=p:(p.next=B.next,B.next=p),R.pending=p,p=Do(f),Uu(f,null,S),p}return yi(f,R,p,S),Do(f)}function Zu(f,p,S){if(p=p.updateQueue,p!==null&&(p=p.shared,(S&4194048)!==0)){var R=p.lanes;R&=f.pendingLanes,S|=R,p.lanes=S,rn(f,S)}}function on(f,p){var S=f.updateQueue,R=f.alternate;if(R!==null&&(R=R.updateQueue,S===R)){var B=null,G=null;if(S=S.firstBaseUpdate,S!==null){do{var se={lane:S.lane,tag:S.tag,payload:S.payload,callback:null,next:null};G===null?B=G=se:G=G.next=se,S=S.next}while(S!==null);G===null?B=G=p:G=G.next=p}else B=G=p;S={baseState:R.baseState,firstBaseUpdate:B,lastBaseUpdate:G,shared:R.shared,callbacks:R.callbacks},f.updateQueue=S;return}f=S.lastBaseUpdate,f===null?S.firstBaseUpdate=p:f.next=p,S.lastBaseUpdate=p}var wb=!1;function fm(){if(wb){var f=Mo;if(f!==null)throw f}}function Sh(f,p,S,R){wb=!1;var B=f.updateQueue;ds=!1;var G=B.firstBaseUpdate,se=B.lastBaseUpdate,fe=B.shared.pending;if(fe!==null){B.shared.pending=null;var Ae=fe,We=Ae.next;Ae.next=null,se===null?G=We:se.next=We,se=Ae;var lt=f.alternate;lt!==null&&(lt=lt.updateQueue,fe=lt.lastBaseUpdate,fe!==se&&(fe===null?lt.firstBaseUpdate=We:fe.next=We,lt.lastBaseUpdate=Ae))}if(G!==null){var pt=B.baseState;se=0,lt=We=Ae=null,fe=G;do{var Ze=fe.lane&-536870913,at=Ze!==fe.lane;if(at?(kn&Ze)===Ze:(R&Ze)===Ze){Ze!==0&&Ze===tu&&(wb=!0),lt!==null&&(lt=lt.next={lane:0,tag:fe.tag,payload:fe.payload,callback:null,next:null});e:{var Qt=f,pn=fe;Ze=p;var Ur=S;switch(pn.tag){case 1:if(Qt=pn.payload,typeof Qt=="function"){pt=Qt.call(Ur,pt,Ze);break e}pt=Qt;break e;case 3:Qt.flags=Qt.flags&-65537|128;case 0:if(Qt=pn.payload,Ze=typeof Qt=="function"?Qt.call(Ur,pt,Ze):Qt,Ze==null)break e;pt=h({},pt,Ze);break e;case 2:ds=!0}}Ze=fe.callback,Ze!==null&&(f.flags|=64,at&&(f.flags|=8192),at=B.callbacks,at===null?B.callbacks=[Ze]:at.push(Ze))}else at={lane:Ze,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},lt===null?(We=lt=at,Ae=pt):lt=lt.next=at,se|=Ze;if(fe=fe.next,fe===null){if(fe=B.shared.pending,fe===null)break;at=fe,fe=at.next,at.next=null,B.lastBaseUpdate=at,B.shared.pending=null}}while(!0);lt===null&&(Ae=pt),B.baseState=Ae,B.firstBaseUpdate=We,B.lastBaseUpdate=lt,G===null&&(B.shared.lanes=0),uc|=se,f.lanes=se,f.memoizedState=pt}}function _h(f,p){if(typeof f!="function")throw Error(r(191,f));f.call(p)}function i3(f,p){var S=f.callbacks;if(S!==null)for(f.callbacks=null,f=0;f<S.length;f++)_h(S[f],p)}var Ch=V(null),E0=V(0);function s3(f,p){f=fo,q(E0,f),q(Ch,p),fo=f|p.baseLanes}function Eb(){q(E0,fo),q(Ch,Ch.current)}function hm(){fo=E0.current,Z(Ch),Z(E0)}var Os=V(null),fs=null;function au(f){var p=f.alternate;q(Vn,Vn.current&1),q(Os,f),fs===null&&(p===null||Ch.current!==null||p.memoizedState!==null)&&(fs=f)}function Tb(f){q(Vn,Vn.current),q(Os,f),fs===null&&(fs=f)}function o3(f){f.tag===22?(q(Vn,Vn.current),q(Os,f),fs===null&&(fs=f)):Ds()}function Ds(){q(Vn,Vn.current),q(Os,Os.current)}function Ma(f){Z(Os),fs===f&&(fs=null),Z(Vn)}var Vn=V(0);function lo(f){for(var p=f;p!==null;){if(p.tag===13){var S=p.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||bE(S)||xE(S)))return p}else if(p.tag===19&&(p.memoizedProps.revealOrder==="forwards"||p.memoizedProps.revealOrder==="backwards"||p.memoizedProps.revealOrder==="unstable_legacy-backwards"||p.memoizedProps.revealOrder==="together")){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Xr=0,En=null,Or=null,Hn=null,Po=!1,wh=!1,df=!1,T0=0,pm=0,Eh=null,Ab=0;function fa(){throw Error(r(321))}function Rb(f,p){if(p===null)return!1;for(var S=0;S<p.length&&S<f.length;S++)if(!cs(f[S],p[S]))return!1;return!0}function A0(f,p,S,R,B,G){return Xr=G,En=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,F.H=f===null||f.memoizedState===null?F3:Yb,df=!1,G=S(R,B),df=!1,wh&&(G=ff(p,S,R,B)),l3(f),G}function l3(f){F.H=Th;var p=Or!==null&&Or.next!==null;if(Xr=0,Hn=Or=En=null,Po=!1,pm=0,Eh=null,p)throw Error(r(300));f===null||Wa||(f=f.dependencies,f!==null&&om(f)&&(Wa=!0))}function ff(f,p,S,R){En=f;var B=0;do{if(wh&&(Eh=null),pm=0,wh=!1,25<=B)throw Error(r(301));if(B+=1,Hn=Or=null,f.updateQueue!=null){var G=f.updateQueue;G.lastEffect=null,G.events=null,G.stores=null,G.memoCache!=null&&(G.memoCache.index=0)}F.H=Lo,G=p(S,R)}while(wh);return G}function hf(){var f=F.H,p=f.useState()[0];return p=typeof p.then=="function"?mm(p):p,f=f.useState()[0],(Or!==null?Or.memoizedState:null)!==f&&(En.flags|=1024),p}function kb(){var f=T0!==0;return T0=0,f}function Ib(f,p,S){p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~S}function jb(f){if(Po){for(f=f.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}Po=!1}Xr=0,Hn=Or=En=null,wh=!1,pm=T0=0,Eh=null}function ni(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?En.memoizedState=Hn=f:Hn=Hn.next=f,Hn}function Na(){if(Or===null){var f=En.alternate;f=f!==null?f.memoizedState:null}else f=Or.next;var p=Hn===null?En.memoizedState:Hn.next;if(p!==null)Hn=p,Or=f;else{if(f===null)throw En.alternate===null?Error(r(467)):Error(r(310));Or=f,f={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},Hn===null?En.memoizedState=Hn=f:Hn=Hn.next=f}return Hn}function R0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mm(f){var p=pm;return pm+=1,Eh===null&&(Eh=[]),f=_0(Eh,f,p),p=En,(Hn===null?p.memoizedState:Hn.next)===null&&(p=p.alternate,F.H=p===null||p.memoizedState===null?F3:Yb),f}function Ju(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return mm(f);if(f.$$typeof===T)return mn(f)}throw Error(r(438,String(f)))}function Ob(f){var p=null,S=En.updateQueue;if(S!==null&&(p=S.memoCache),p==null){var R=En.alternate;R!==null&&(R=R.updateQueue,R!==null&&(R=R.memoCache,R!=null&&(p={data:R.data.map(function(B){return B.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),S===null&&(S=R0(),En.updateQueue=S),S.memoCache=p,S=p.data[p.index],S===void 0)for(S=p.data[p.index]=Array(f),R=0;R<f;R++)S[R]=M;return p.index++,S}function iu(f,p){return typeof p=="function"?p(f):p}function k0(f){var p=Na();return Db(p,Or,f)}function Db(f,p,S){var R=f.queue;if(R===null)throw Error(r(311));R.lastRenderedReducer=S;var B=f.baseQueue,G=R.pending;if(G!==null){if(B!==null){var se=B.next;B.next=G.next,G.next=se}p.baseQueue=B=G,R.pending=null}if(G=f.baseState,B===null)f.memoizedState=G;else{p=B.next;var fe=se=null,Ae=null,We=p,lt=!1;do{var pt=We.lane&-536870913;if(pt!==We.lane?(kn&pt)===pt:(Xr&pt)===pt){var Ze=We.revertLane;if(Ze===0)Ae!==null&&(Ae=Ae.next={lane:0,revertLane:0,gesture:null,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),pt===tu&&(lt=!0);else if((Xr&Ze)===Ze){We=We.next,Ze===tu&&(lt=!0);continue}else pt={lane:0,revertLane:We.revertLane,gesture:null,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},Ae===null?(fe=Ae=pt,se=G):Ae=Ae.next=pt,En.lanes|=Ze,uc|=Ze;pt=We.action,df&&S(G,pt),G=We.hasEagerState?We.eagerState:S(G,pt)}else Ze={lane:pt,revertLane:We.revertLane,gesture:We.gesture,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},Ae===null?(fe=Ae=Ze,se=G):Ae=Ae.next=Ze,En.lanes|=pt,uc|=pt;We=We.next}while(We!==null&&We!==p);if(Ae===null?se=G:Ae.next=fe,!cs(G,f.memoizedState)&&(Wa=!0,lt&&(S=Mo,S!==null)))throw S;f.memoizedState=G,f.baseState=se,f.baseQueue=Ae,R.lastRenderedState=G}return B===null&&(R.lanes=0),[f.memoizedState,R.dispatch]}function Mb(f){var p=Na(),S=p.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=f;var R=S.dispatch,B=S.pending,G=p.memoizedState;if(B!==null){S.pending=null;var se=B=B.next;do G=f(G,se.action),se=se.next;while(se!==B);cs(G,p.memoizedState)||(Wa=!0),p.memoizedState=G,p.baseQueue===null&&(p.baseState=G),S.lastRenderedState=G}return[G,R]}function c3(f,p,S){var R=En,B=Na(),G=qn;if(G){if(S===void 0)throw Error(r(407));S=S()}else S=p();var se=!cs((Or||B).memoizedState,S);if(se&&(B.memoizedState=S,Wa=!0),B=B.queue,Ub(f3.bind(null,R,B,f),[f]),B.getSnapshot!==p||se||Hn!==null&&Hn.memoizedState.tag&1){if(R.flags|=2048,ed(9,{destroy:void 0},d3.bind(null,R,B,S,p),null),xn===null)throw Error(r(349));G||(Xr&127)!==0||u3(R,p,S)}return S}function u3(f,p,S){f.flags|=16384,f={getSnapshot:p,value:S},p=En.updateQueue,p===null?(p=R0(),En.updateQueue=p,p.stores=[f]):(S=p.stores,S===null?p.stores=[f]:S.push(f))}function d3(f,p,S,R){p.value=S,p.getSnapshot=R,h3(p)&&p3(f)}function f3(f,p,S){return S(function(){h3(p)&&p3(f)})}function h3(f){var p=f.getSnapshot;f=f.value;try{var S=p();return!cs(f,S)}catch{return!0}}function p3(f){var p=us(f,2);p!==null&&On(p,f,2)}function Nb(f){var p=ni();if(typeof f=="function"){var S=f;if(f=S(),df){st(!0);try{S()}finally{st(!1)}}}return p.memoizedState=p.baseState=f,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iu,lastRenderedState:f},p}function Pb(f,p,S,R){return f.baseState=S,Db(f,Or,typeof R=="function"?R:iu)}function nE(f,p,S,R,B){if(D0(f))throw Error(r(485));if(f=p.action,f!==null){var G={payload:B,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(se){G.listeners.push(se)}};F.T!==null?S(!0):G.isTransition=!1,R(G),S=p.pending,S===null?(G.next=p.pending=G,m3(p,G)):(G.next=S.next,p.pending=S.next=G)}}function m3(f,p){var S=p.action,R=p.payload,B=f.state;if(p.isTransition){var G=F.T,se={};F.T=se;try{var fe=S(B,R),Ae=F.S;Ae!==null&&Ae(se,fe),g3(f,p,fe)}catch(We){Lb(f,p,We)}finally{G!==null&&se.types!==null&&(G.types=se.types),F.T=G}}else try{G=S(B,R),g3(f,p,G)}catch(We){Lb(f,p,We)}}function g3(f,p,S){S!==null&&typeof S=="object"&&typeof S.then=="function"?S.then(function(R){y3(f,p,R)},function(R){return Lb(f,p,R)}):y3(f,p,S)}function y3(f,p,S){p.status="fulfilled",p.value=S,b3(p),f.state=S,p=f.pending,p!==null&&(S=p.next,S===p?f.pending=null:(S=S.next,p.next=S,m3(f,S)))}function Lb(f,p,S){var R=f.pending;if(f.pending=null,R!==null){R=R.next;do p.status="rejected",p.reason=S,b3(p),p=p.next;while(p!==R)}f.action=null}function b3(f){f=f.listeners;for(var p=0;p<f.length;p++)(0,f[p])()}function zb(f,p){return p}function Fb(f,p){if(qn){var S=xn.formState;if(S!==null){e:{var R=En;if(qn){if(Fr){t:{for(var B=Fr,G=so;B.nodeType!==8;){if(!G){B=null;break t}if(B=hc(B.nextSibling),B===null){B=null;break t}}G=B.data,B=G==="F!"||G==="F"?B:null}if(B){Fr=hc(B.nextSibling),R=B.data==="F!";break e}}Zl(R)}R=!1}R&&(p=S[0])}}return S=ni(),S.memoizedState=S.baseState=p,R={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zb,lastRenderedState:p},S.queue=R,S=P3.bind(null,En,R),R.dispatch=S,R=Nb(!1),G=Wb.bind(null,En,!1,R.queue),R=ni(),B={state:p,dispatch:null,action:f,pending:null},R.queue=B,S=nE.bind(null,En,B,G,S),B.dispatch=S,R.memoizedState=f,[p,S,!1]}function x3(f){var p=Na();return Bb(p,Or,f)}function Bb(f,p,S){if(p=Db(f,p,zb)[0],f=k0(iu)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var R=mm(p)}catch(se){throw se===af?In:se}else R=p;p=Na();var B=p.queue,G=B.dispatch;return S!==p.memoizedState&&(En.flags|=2048,ed(9,{destroy:void 0},v3.bind(null,B,S),null)),[R,G,f]}function v3(f,p){f.action=p}function Hb(f){var p=Na(),S=Or;if(S!==null)return Bb(p,S,f);Na(),p=p.memoizedState,S=Na();var R=S.queue.dispatch;return S.memoizedState=f,[p,R,!1]}function ed(f,p,S,R){return f={tag:f,create:S,deps:R,inst:p,next:null},p=En.updateQueue,p===null&&(p=R0(),En.updateQueue=p),S=p.lastEffect,S===null?p.lastEffect=f.next=f:(R=S.next,S.next=f,f.next=R,p.lastEffect=f),f}function I0(){return Na().memoizedState}function j0(f,p,S,R){var B=ni();En.flags|=f,B.memoizedState=ed(1|p,{destroy:void 0},S,R===void 0?null:R)}function O0(f,p,S,R){var B=Na();R=R===void 0?null:R;var G=B.memoizedState.inst;Or!==null&&R!==null&&Rb(R,Or.memoizedState.deps)?B.memoizedState=ed(p,G,S,R):(En.flags|=f,B.memoizedState=ed(1|p,G,S,R))}function S3(f,p){j0(8390656,8,f,p)}function Ub(f,p){O0(2048,8,f,p)}function _3(f){En.flags|=4;var p=En.updateQueue;if(p===null)p=R0(),En.updateQueue=p,p.events=[f];else{var S=p.events;S===null?p.events=[f]:S.push(f)}}function C3(f){var p=Na().memoizedState;return _3({ref:p,nextImpl:f}),function(){if((tn&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}function w3(f,p){return O0(4,2,f,p)}function E3(f,p){return O0(4,4,f,p)}function T3(f,p){if(typeof p=="function"){f=f();var S=p(f);return function(){typeof S=="function"?S():p(null)}}if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function A3(f,p,S){S=S!=null?S.concat([f]):null,O0(4,4,T3.bind(null,p,f),S)}function $b(){}function R3(f,p){var S=Na();p=p===void 0?null:p;var R=S.memoizedState;return p!==null&&Rb(p,R[1])?R[0]:(S.memoizedState=[f,p],f)}function k3(f,p){var S=Na();p=p===void 0?null:p;var R=S.memoizedState;if(p!==null&&Rb(p,R[1]))return R[0];if(R=f(),df){st(!0);try{f()}finally{st(!1)}}return S.memoizedState=[R,p],R}function Gb(f,p,S){return S===void 0||(Xr&1073741824)!==0&&(kn&261930)===0?f.memoizedState=p:(f.memoizedState=S,f=Fn(),En.lanes|=f,uc|=f,S)}function I3(f,p,S,R){return cs(S,p)?S:Ch.current!==null?(f=Gb(f,S,R),cs(f,p)||(Wa=!0),f):(Xr&42)===0||(Xr&1073741824)!==0&&(kn&261930)===0?(Wa=!0,f.memoizedState=S):(f=Fn(),En.lanes|=f,uc|=f,p)}function j3(f,p,S,R,B){var G=W.p;W.p=G!==0&&8>G?G:8;var se=F.T,fe={};F.T=fe,Wb(f,!1,p,S);try{var Ae=B(),We=F.S;if(We!==null&&We(fe,Ae),Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var lt=Sb(Ae,R);gm(f,p,lt,po(f))}else gm(f,p,R,po(f))}catch(pt){gm(f,p,{then:function(){},status:"rejected",reason:pt},po())}finally{W.p=G,se!==null&&fe.types!==null&&(se.types=fe.types),F.T=se}}function rE(){}function qb(f,p,S,R){if(f.tag!==5)throw Error(r(476));var B=O3(f).queue;j3(f,B,p,ee,S===null?rE:function(){return D3(f),S(R)})}function O3(f){var p=f.memoizedState;if(p!==null)return p;p={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:iu,lastRenderedState:ee},next:null};var S={};return p.next={memoizedState:S,baseState:S,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:iu,lastRenderedState:S},next:null},f.memoizedState=p,f=f.alternate,f!==null&&(f.memoizedState=p),p}function D3(f){var p=O3(f);p.next===null&&(p=f.alternate.memoizedState),gm(f,p.next.queue,{},po())}function Vb(){return mn(px)}function M3(){return Na().memoizedState}function N3(){return Na().memoizedState}function aE(f){for(var p=f.return;p!==null;){switch(p.tag){case 24:case 3:var S=po();f=ru(S);var R=Qu(p,f,S);R!==null&&(On(R,p,S),Zu(R,p,S)),p={cache:bb()},f.payload=p;return}p=p.return}}function iE(f,p,S){var R=po();S={lane:R,revertLane:0,gesture:null,action:S,hasEagerState:!1,eagerState:null,next:null},D0(f)?L3(p,S):(S=u0(f,p,S,R),S!==null&&(On(S,f,R),z3(S,p,R)))}function P3(f,p,S){var R=po();gm(f,p,S,R)}function gm(f,p,S,R){var B={lane:R,revertLane:0,gesture:null,action:S,hasEagerState:!1,eagerState:null,next:null};if(D0(f))L3(p,B);else{var G=f.alternate;if(f.lanes===0&&(G===null||G.lanes===0)&&(G=p.lastRenderedReducer,G!==null))try{var se=p.lastRenderedState,fe=G(se,S);if(B.hasEagerState=!0,B.eagerState=fe,cs(fe,se))return yi(f,p,B,0),xn===null&&im(),!1}catch{}finally{}if(S=u0(f,p,B,R),S!==null)return On(S,f,R),z3(S,p,R),!0}return!1}function Wb(f,p,S,R){if(R={lane:2,revertLane:et(),gesture:null,action:R,hasEagerState:!1,eagerState:null,next:null},D0(f)){if(p)throw Error(r(479))}else p=u0(f,S,R,2),p!==null&&On(p,f,2)}function D0(f){var p=f.alternate;return f===En||p!==null&&p===En}function L3(f,p){wh=Po=!0;var S=f.pending;S===null?p.next=p:(p.next=S.next,S.next=p),f.pending=p}function z3(f,p,S){if((S&4194048)!==0){var R=p.lanes;R&=f.pendingLanes,S|=R,p.lanes=S,rn(f,S)}}var Th={readContext:mn,use:Ju,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useLayoutEffect:fa,useInsertionEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useSyncExternalStore:fa,useId:fa,useHostTransitionStatus:fa,useFormState:fa,useActionState:fa,useOptimistic:fa,useMemoCache:fa,useCacheRefresh:fa};Th.useEffectEvent=fa;var F3={readContext:mn,use:Ju,useCallback:function(f,p){return ni().memoizedState=[f,p===void 0?null:p],f},useContext:mn,useEffect:S3,useImperativeHandle:function(f,p,S){S=S!=null?S.concat([f]):null,j0(4194308,4,T3.bind(null,p,f),S)},useLayoutEffect:function(f,p){return j0(4194308,4,f,p)},useInsertionEffect:function(f,p){j0(4,2,f,p)},useMemo:function(f,p){var S=ni();p=p===void 0?null:p;var R=f();if(df){st(!0);try{f()}finally{st(!1)}}return S.memoizedState=[R,p],R},useReducer:function(f,p,S){var R=ni();if(S!==void 0){var B=S(p);if(df){st(!0);try{S(p)}finally{st(!1)}}}else B=p;return R.memoizedState=R.baseState=B,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:B},R.queue=f,f=f.dispatch=iE.bind(null,En,f),[R.memoizedState,f]},useRef:function(f){var p=ni();return f={current:f},p.memoizedState=f},useState:function(f){f=Nb(f);var p=f.queue,S=P3.bind(null,En,p);return p.dispatch=S,[f.memoizedState,S]},useDebugValue:$b,useDeferredValue:function(f,p){var S=ni();return Gb(S,f,p)},useTransition:function(){var f=Nb(!1);return f=j3.bind(null,En,f.queue,!0,!1),ni().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,p,S){var R=En,B=ni();if(qn){if(S===void 0)throw Error(r(407));S=S()}else{if(S=p(),xn===null)throw Error(r(349));(kn&127)!==0||u3(R,p,S)}B.memoizedState=S;var G={value:S,getSnapshot:p};return B.queue=G,S3(f3.bind(null,R,G,f),[f]),R.flags|=2048,ed(9,{destroy:void 0},d3.bind(null,R,G,S,p),null),S},useId:function(){var f=ni(),p=xn.identifierPrefix;if(qn){var S=vl,R=da;S=(R&~(1<<32-ft(R)-1)).toString(32)+S,p="_"+p+"R_"+S,S=T0++,0<S&&(p+="H"+S.toString(32)),p+="_"}else S=Ab++,p="_"+p+"r_"+S.toString(32)+"_";return f.memoizedState=p},useHostTransitionStatus:Vb,useFormState:Fb,useActionState:Fb,useOptimistic:function(f){var p=ni();p.memoizedState=p.baseState=f;var S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=S,p=Wb.bind(null,En,!0,S),S.dispatch=p,[f,p]},useMemoCache:Ob,useCacheRefresh:function(){return ni().memoizedState=aE.bind(null,En)},useEffectEvent:function(f){var p=ni(),S={impl:f};return p.memoizedState=S,function(){if((tn&2)!==0)throw Error(r(440));return S.impl.apply(void 0,arguments)}}},Yb={readContext:mn,use:Ju,useCallback:R3,useContext:mn,useEffect:Ub,useImperativeHandle:A3,useInsertionEffect:w3,useLayoutEffect:E3,useMemo:k3,useReducer:k0,useRef:I0,useState:function(){return k0(iu)},useDebugValue:$b,useDeferredValue:function(f,p){var S=Na();return I3(S,Or.memoizedState,f,p)},useTransition:function(){var f=k0(iu)[0],p=Na().memoizedState;return[typeof f=="boolean"?f:mm(f),p]},useSyncExternalStore:c3,useId:M3,useHostTransitionStatus:Vb,useFormState:x3,useActionState:x3,useOptimistic:function(f,p){var S=Na();return Pb(S,Or,f,p)},useMemoCache:Ob,useCacheRefresh:N3};Yb.useEffectEvent=C3;var Lo={readContext:mn,use:Ju,useCallback:R3,useContext:mn,useEffect:Ub,useImperativeHandle:A3,useInsertionEffect:w3,useLayoutEffect:E3,useMemo:k3,useReducer:Mb,useRef:I0,useState:function(){return Mb(iu)},useDebugValue:$b,useDeferredValue:function(f,p){var S=Na();return Or===null?Gb(S,f,p):I3(S,Or.memoizedState,f,p)},useTransition:function(){var f=Mb(iu)[0],p=Na().memoizedState;return[typeof f=="boolean"?f:mm(f),p]},useSyncExternalStore:c3,useId:M3,useHostTransitionStatus:Vb,useFormState:Hb,useActionState:Hb,useOptimistic:function(f,p){var S=Na();return Or!==null?Pb(S,Or,f,p):(S.baseState=f,[f,S.queue.dispatch])},useMemoCache:Ob,useCacheRefresh:N3};Lo.useEffectEvent=C3;function M0(f,p,S,R){p=f.memoizedState,S=S(R,p),S=S==null?p:h({},p,S),f.memoizedState=S,f.lanes===0&&(f.updateQueue.baseState=S)}var ym={enqueueSetState:function(f,p,S){f=f._reactInternals;var R=po(),B=ru(R);B.payload=p,S!=null&&(B.callback=S),p=Qu(f,B,R),p!==null&&(On(p,f,R),Zu(p,f,R))},enqueueReplaceState:function(f,p,S){f=f._reactInternals;var R=po(),B=ru(R);B.tag=1,B.payload=p,S!=null&&(B.callback=S),p=Qu(f,B,R),p!==null&&(On(p,f,R),Zu(p,f,R))},enqueueForceUpdate:function(f,p){f=f._reactInternals;var S=po(),R=ru(S);R.tag=2,p!=null&&(R.callback=p),p=Qu(f,R,S),p!==null&&(On(p,f,S),Zu(p,f,S))}};function Kb(f,p,S,R,B,G,se){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(R,G,se):p.prototype&&p.prototype.isPureReactComponent?!lh(S,R)||!lh(B,G):!0}function Xb(f,p,S,R){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(S,R),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(S,R),p.state!==f&&ym.enqueueReplaceState(p,p.state,null)}function td(f,p){var S=p;if("ref"in p){S={};for(var R in p)R!=="ref"&&(S[R]=p[R])}if(f=f.defaultProps){S===p&&(S=h({},S));for(var B in f)S[B]===void 0&&(S[B]=f[B])}return S}function B3(f){am(f)}function Qb(f){console.error(f)}function Zb(f){am(f)}function N0(f,p){try{var S=f.onUncaughtError;S(p.value,{componentStack:p.stack})}catch(R){setTimeout(function(){throw R})}}function H3(f,p,S){try{var R=f.onCaughtError;R(S.value,{componentStack:S.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function Jb(f,p,S){return S=ru(S),S.tag=3,S.payload={element:null},S.callback=function(){N0(f,p)},S}function ex(f){return f=ru(f),f.tag=3,f}function U3(f,p,S,R){var B=S.type.getDerivedStateFromError;if(typeof B=="function"){var G=R.value;f.payload=function(){return B(G)},f.callback=function(){H3(p,S,R)}}var se=S.stateNode;se!==null&&typeof se.componentDidCatch=="function"&&(f.callback=function(){H3(p,S,R),typeof B!="function"&&(za===null?za=new Set([this]):za.add(this));var fe=R.stack;this.componentDidCatch(R.value,{componentStack:fe!==null?fe:""})})}function ri(f,p,S,R,B){if(S.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){if(p=S.alternate,p!==null&&nc(p,S,B,!0),S=Os.current,S!==null){switch(S.tag){case 31:case 13:return fs===null?Dh():S.alternate===null&&ha===0&&(ha=3),S.flags&=-257,S.flags|=65536,S.lanes=B,R===S0?S.flags|=16384:(p=S.updateQueue,p===null?S.updateQueue=new Set([R]):p.add(R),km(f,R,B)),!1;case 22:return S.flags|=65536,R===S0?S.flags|=16384:(p=S.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([R])},S.updateQueue=p):(S=p.retryQueue,S===null?p.retryQueue=new Set([R]):S.add(R)),km(f,R,B)),!1}throw Error(r(435,S.tag))}return km(f,R,B),Dh(),!1}if(qn)return p=Os.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=B,R!==gh&&(f=Error(r(422),{cause:R}),Jl(io(f,S)))):(R!==gh&&(p=Error(r(423),{cause:R}),Jl(io(p,S))),f=f.current.alternate,f.flags|=65536,B&=-B,f.lanes|=B,R=io(R,S),B=Jb(f.stateNode,R,B),on(f,B),ha!==4&&(ha=2)),!1;var G=Error(r(520),{cause:R});if(G=io(G,S),Sf===null?Sf=[G]:Sf.push(G),ha!==4&&(ha=2),p===null)return!0;R=io(R,S),S=p;do{switch(S.tag){case 3:return S.flags|=65536,f=B&-B,S.lanes|=f,f=Jb(S.stateNode,R,f),on(S,f),!1;case 1:if(p=S.type,G=S.stateNode,(S.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(za===null||!za.has(G))))return S.flags|=65536,B&=-B,S.lanes|=B,B=ex(B),U3(B,f,S,R),on(S,B),!1}S=S.return}while(S!==null);return!1}var P0=Error(r(461)),Wa=!1;function bi(f,p,S,R){p.child=f===null?w0(p,null,S,R):nu(p,f.child,S,R)}function tx(f,p,S,R,B){S=S.render;var G=p.ref;if("ref"in R){var se={};for(var fe in R)fe!=="ref"&&(se[fe]=R[fe])}else se=R;return Ku(p),R=A0(f,p,S,se,G,B),fe=kb(),f!==null&&!Wa?(Ib(f,p,B),Pa(f,p,B)):(qn&&fe&&Ql(p),p.flags|=1,bi(f,p,R,B),p.child)}function pf(f,p,S,R,B){if(f===null){var G=S.type;return typeof G=="function"&&!d0(G)&&G.defaultProps===void 0&&S.compare===null?(p.tag=15,p.type=G,L0(f,p,G,R,B)):(f=Kl(S.type,null,R,p,p.mode,B),f.ref=p.ref,f.return=p,p.child=f)}if(G=f.child,!$0(f,B)){var se=G.memoizedProps;if(S=S.compare,S=S!==null?S:lh,S(se,R)&&f.ref===p.ref)return Pa(f,p,B)}return p.flags|=1,f=ks(G,R),f.ref=p.ref,f.return=p,p.child=f}function L0(f,p,S,R,B){if(f!==null){var G=f.memoizedProps;if(lh(G,R)&&f.ref===p.ref)if(Wa=!1,p.pendingProps=R=G,$0(f,B))(f.flags&131072)!==0&&(Wa=!0);else return p.lanes=f.lanes,Pa(f,p,B)}return Ah(f,p,S,R,B)}function mf(f,p,S,R){var B=R.children,G=f!==null?f.memoizedState:null;if(f===null&&p.stateNode===null&&(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),R.mode==="hidden"){if((p.flags&128)!==0){if(G=G!==null?G.baseLanes|S:S,f!==null){for(R=p.child=f.child,B=0;R!==null;)B=B|R.lanes|R.childLanes,R=R.sibling;R=B&~G}else R=0,p.child=null;return Ms(f,p,G,S,R)}if((S&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},f!==null&&lm(p,G!==null?G.cachePool:null),G!==null?s3(p,G):Eb(),o3(p);else return R=p.lanes=536870912,Ms(f,p,G!==null?G.baseLanes|S:S,S,R)}else G!==null?(lm(p,G.cachePool),s3(p,G),Ds(),p.memoizedState=null):(f!==null&&lm(p,null),Eb(),Ds());return bi(f,p,B,S),p.child}function ac(f,p){return f!==null&&f.tag===22||p.stateNode!==null||(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.sibling}function Ms(f,p,S,R,B){var G=v0();return G=G===null?null:{parent:Va._currentValue,pool:G},p.memoizedState={baseLanes:S,cachePool:G},f!==null&&lm(p,null),Eb(),o3(p),f!==null&&nc(f,p,R,!0),p.childLanes=B,null}function z0(f,p){return p=U0({mode:p.mode,children:p.children},f.mode),p.ref=f.ref,f.child=p,p.return=f,p}function $3(f,p,S){return nu(p,f.child,null,S),f=z0(p,p.pendingProps),f.flags|=2,Ma(p),p.memoizedState=null,f}function F0(f,p,S){var R=p.pendingProps,B=(p.flags&128)!==0;if(p.flags&=-129,f===null){if(qn){if(R.mode==="hidden")return f=z0(p,R),p.lanes=536870912,ac(null,f);if(Tb(p),(f=Fr)?(f=FM(f,so),f=f!==null&&f.data==="&"?f:null,f!==null&&(p.memoizedState={dehydrated:f,treeContext:Zc!==null?{id:da,overflow:vl}:null,retryLane:536870912,hydrationErrors:null},S=hh(f),S.return=p,p.child=S,_a=p,Fr=null)):f=null,f===null)throw Zl(p);return p.lanes=536870912,null}return z0(p,R)}var G=f.memoizedState;if(G!==null){var se=G.dehydrated;if(Tb(p),B)if(p.flags&256)p.flags&=-257,p=$3(f,p,S);else if(p.memoizedState!==null)p.child=f.child,p.flags|=128,p=null;else throw Error(r(558));else if(Wa||nc(f,p,S,!1),B=(S&f.childLanes)!==0,Wa||B){if(R=xn,R!==null&&(se=Rn(R,S),se!==0&&se!==G.retryLane))throw G.retryLane=se,us(f,se),On(R,f,se),P0;Dh(),p=$3(f,p,S)}else f=G.treeContext,Fr=hc(se.nextSibling),_a=p,qn=!0,Jc=null,so=!1,f!==null&&m0(p,f),p=z0(p,R),p.flags|=4096;return p}return f=ks(f.child,{mode:R.mode,children:R.children}),f.ref=p.ref,p.child=f,f.return=p,f}function gf(f,p){var S=p.ref;if(S===null)f!==null&&f.ref!==null&&(p.flags|=4194816);else{if(typeof S!="function"&&typeof S!="object")throw Error(r(284));(f===null||f.ref!==S)&&(p.flags|=4194816)}}function Ah(f,p,S,R,B){return Ku(p),S=A0(f,p,S,R,void 0,B),R=kb(),f!==null&&!Wa?(Ib(f,p,B),Pa(f,p,B)):(qn&&R&&Ql(p),p.flags|=1,bi(f,p,S,B),p.child)}function bm(f,p,S,R,B,G){return Ku(p),p.updateQueue=null,S=ff(p,R,S,B),l3(f),R=kb(),f!==null&&!Wa?(Ib(f,p,G),Pa(f,p,G)):(qn&&R&&Ql(p),p.flags|=1,bi(f,p,S,G),p.child)}function B0(f,p,S,R,B){if(Ku(p),p.stateNode===null){var G=$u,se=S.contextType;typeof se=="object"&&se!==null&&(G=mn(se)),G=new S(R,G),p.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,G.updater=ym,p.stateNode=G,G._reactInternals=p,G=p.stateNode,G.props=R,G.state=p.memoizedState,G.refs={},dm(p),se=S.contextType,G.context=typeof se=="object"&&se!==null?mn(se):$u,G.state=p.memoizedState,se=S.getDerivedStateFromProps,typeof se=="function"&&(M0(p,S,se,R),G.state=p.memoizedState),typeof S.getDerivedStateFromProps=="function"||typeof G.getSnapshotBeforeUpdate=="function"||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(se=G.state,typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount(),se!==G.state&&ym.enqueueReplaceState(G,G.state,null),Sh(p,R,G,B),fm(),G.state=p.memoizedState),typeof G.componentDidMount=="function"&&(p.flags|=4194308),R=!0}else if(f===null){G=p.stateNode;var fe=p.memoizedProps,Ae=td(S,fe);G.props=Ae;var We=G.context,lt=S.contextType;se=$u,typeof lt=="object"&&lt!==null&&(se=mn(lt));var pt=S.getDerivedStateFromProps;lt=typeof pt=="function"||typeof G.getSnapshotBeforeUpdate=="function",fe=p.pendingProps!==fe,lt||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(fe||We!==se)&&Xb(p,G,R,se),ds=!1;var Ze=p.memoizedState;G.state=Ze,Sh(p,R,G,B),fm(),We=p.memoizedState,fe||Ze!==We||ds?(typeof pt=="function"&&(M0(p,S,pt,R),We=p.memoizedState),(Ae=ds||Kb(p,S,Ae,R,Ze,We,se))?(lt||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(p.flags|=4194308)):(typeof G.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=R,p.memoizedState=We),G.props=R,G.state=We,G.context=se,R=Ae):(typeof G.componentDidMount=="function"&&(p.flags|=4194308),R=!1)}else{G=p.stateNode,Cb(f,p),se=p.memoizedProps,lt=td(S,se),G.props=lt,pt=p.pendingProps,Ze=G.context,We=S.contextType,Ae=$u,typeof We=="object"&&We!==null&&(Ae=mn(We)),fe=S.getDerivedStateFromProps,(We=typeof fe=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(se!==pt||Ze!==Ae)&&Xb(p,G,R,Ae),ds=!1,Ze=p.memoizedState,G.state=Ze,Sh(p,R,G,B),fm();var at=p.memoizedState;se!==pt||Ze!==at||ds||f!==null&&f.dependencies!==null&&om(f.dependencies)?(typeof fe=="function"&&(M0(p,S,fe,R),at=p.memoizedState),(lt=ds||Kb(p,S,lt,R,Ze,at,Ae)||f!==null&&f.dependencies!==null&&om(f.dependencies))?(We||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(R,at,Ae),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(R,at,Ae)),typeof G.componentDidUpdate=="function"&&(p.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof G.componentDidUpdate!="function"||se===f.memoizedProps&&Ze===f.memoizedState||(p.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||se===f.memoizedProps&&Ze===f.memoizedState||(p.flags|=1024),p.memoizedProps=R,p.memoizedState=at),G.props=R,G.state=at,G.context=Ae,R=lt):(typeof G.componentDidUpdate!="function"||se===f.memoizedProps&&Ze===f.memoizedState||(p.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||se===f.memoizedProps&&Ze===f.memoizedState||(p.flags|=1024),R=!1)}return G=R,gf(f,p),R=(p.flags&128)!==0,G||R?(G=p.stateNode,S=R&&typeof S.getDerivedStateFromError!="function"?null:G.render(),p.flags|=1,f!==null&&R?(p.child=nu(p,f.child,null,B),p.child=nu(p,null,S,B)):bi(f,p,S,B),p.memoizedState=G.state,f=p.child):f=Pa(f,p,B),f}function G3(f,p,S,R){return Wu(),p.flags|=256,bi(f,p,S,R),p.child}var nx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ki(f){return{baseLanes:f,cachePool:_b()}}function H0(f,p,S){return f=f!==null?f.childLanes&~S:0,p&&(f|=gs),f}function q3(f,p,S){var R=p.pendingProps,B=!1,G=(p.flags&128)!==0,se;if((se=G)||(se=f!==null&&f.memoizedState===null?!1:(Vn.current&2)!==0),se&&(B=!0,p.flags&=-129),se=(p.flags&32)!==0,p.flags&=-33,f===null){if(qn){if(B?au(p):Ds(),(f=Fr)?(f=FM(f,so),f=f!==null&&f.data!=="&"?f:null,f!==null&&(p.memoizedState={dehydrated:f,treeContext:Zc!==null?{id:da,overflow:vl}:null,retryLane:536870912,hydrationErrors:null},S=hh(f),S.return=p,p.child=S,_a=p,Fr=null)):f=null,f===null)throw Zl(p);return xE(f)?p.lanes=32:p.lanes=536870912,null}var fe=R.children;return R=R.fallback,B?(Ds(),B=p.mode,fe=U0({mode:"hidden",children:fe},B),R=Gu(R,B,S,null),fe.return=p,R.return=p,fe.sibling=R,p.child=fe,R=p.child,R.memoizedState=Ki(S),R.childLanes=H0(f,se,S),p.memoizedState=nx,ac(null,R)):(au(p),xm(p,fe))}var Ae=f.memoizedState;if(Ae!==null&&(fe=Ae.dehydrated,fe!==null)){if(G)p.flags&256?(au(p),p.flags&=-257,p=rx(f,p,S)):p.memoizedState!==null?(Ds(),p.child=f.child,p.flags|=128,p=null):(Ds(),fe=R.fallback,B=p.mode,R=U0({mode:"visible",children:R.children},B),fe=Gu(fe,B,S,null),fe.flags|=2,R.return=p,fe.return=p,R.sibling=fe,p.child=R,nu(p,f.child,null,S),R=p.child,R.memoizedState=Ki(S),R.childLanes=H0(f,se,S),p.memoizedState=nx,p=ac(null,R));else if(au(p),xE(fe)){if(se=fe.nextSibling&&fe.nextSibling.dataset,se)var We=se.dgst;se=We,R=Error(r(419)),R.stack="",R.digest=se,Jl({value:R,source:null,stack:null}),p=rx(f,p,S)}else if(Wa||nc(f,p,S,!1),se=(S&f.childLanes)!==0,Wa||se){if(se=xn,se!==null&&(R=Rn(se,S),R!==0&&R!==Ae.retryLane))throw Ae.retryLane=R,us(f,R),On(se,f,R),P0;bE(fe)||Dh(),p=rx(f,p,S)}else bE(fe)?(p.flags|=192,p.child=f.child,p=null):(f=Ae.treeContext,Fr=hc(fe.nextSibling),_a=p,qn=!0,Jc=null,so=!1,f!==null&&m0(p,f),p=xm(p,R.children),p.flags|=4096);return p}return B?(Ds(),fe=R.fallback,B=p.mode,Ae=f.child,We=Ae.sibling,R=ks(Ae,{mode:"hidden",children:R.children}),R.subtreeFlags=Ae.subtreeFlags&65011712,We!==null?fe=ks(We,fe):(fe=Gu(fe,B,S,null),fe.flags|=2),fe.return=p,R.return=p,R.sibling=fe,p.child=R,ac(null,R),R=p.child,fe=f.child.memoizedState,fe===null?fe=Ki(S):(B=fe.cachePool,B!==null?(Ae=Va._currentValue,B=B.parent!==Ae?{parent:Ae,pool:Ae}:B):B=_b(),fe={baseLanes:fe.baseLanes|S,cachePool:B}),R.memoizedState=fe,R.childLanes=H0(f,se,S),p.memoizedState=nx,ac(f.child,R)):(au(p),S=f.child,f=S.sibling,S=ks(S,{mode:"visible",children:R.children}),S.return=p,S.sibling=null,f!==null&&(se=p.deletions,se===null?(p.deletions=[f],p.flags|=16):se.push(f)),p.child=S,p.memoizedState=null,S)}function xm(f,p){return p=U0({mode:"visible",children:p},f.mode),p.return=f,f.child=p}function U0(f,p){return f=ua(22,f,null,p),f.lanes=0,f}function rx(f,p,S){return nu(p,f.child,null,S),f=xm(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function V3(f,p,S){f.lanes|=p;var R=f.alternate;R!==null&&(R.lanes|=p),y0(f.return,p,S)}function yf(f,p,S,R,B,G){var se=f.memoizedState;se===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:R,tail:S,tailMode:B,treeForkCount:G}:(se.isBackwards=p,se.rendering=null,se.renderingStartTime=0,se.last=R,se.tail=S,se.tailMode=B,se.treeForkCount=G)}function Ns(f,p,S){var R=p.pendingProps,B=R.revealOrder,G=R.tail;R=R.children;var se=Vn.current,fe=(se&2)!==0;if(fe?(se=se&1|2,p.flags|=128):se&=1,q(Vn,se),bi(f,p,R,S),R=qn?mh:0,!fe&&f!==null&&(f.flags&128)!==0)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&V3(f,S,p);else if(f.tag===19)V3(f,S,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}switch(B){case"forwards":for(S=p.child,B=null;S!==null;)f=S.alternate,f!==null&&lo(f)===null&&(B=S),S=S.sibling;S=B,S===null?(B=p.child,p.child=null):(B=S.sibling,S.sibling=null),yf(p,!1,B,S,G,R);break;case"backwards":case"unstable_legacy-backwards":for(S=null,B=p.child,p.child=null;B!==null;){if(f=B.alternate,f!==null&&lo(f)===null){p.child=B;break}f=B.sibling,B.sibling=S,S=B,B=f}yf(p,!0,S,null,G,R);break;case"together":yf(p,!1,null,null,void 0,R);break;default:p.memoizedState=null}return p.child}function Pa(f,p,S){if(f!==null&&(p.dependencies=f.dependencies),uc|=p.lanes,(S&p.childLanes)===0)if(f!==null){if(nc(f,p,S,!1),(S&p.childLanes)===0)return null}else return null;if(f!==null&&p.child!==f.child)throw Error(r(153));if(p.child!==null){for(f=p.child,S=ks(f,f.pendingProps),p.child=S,S.return=p;f.sibling!==null;)f=f.sibling,S=S.sibling=ks(f,f.pendingProps),S.return=p;S.sibling=null}return p.child}function $0(f,p){return(f.lanes&p)!==0?!0:(f=f.dependencies,!!(f!==null&&om(f)))}function sE(f,p,S){switch(p.tag){case 3:pe(p,p.stateNode.containerInfo),eu(p,Va,f.memoizedState.cache),Wu();break;case 27:case 5:oe(p);break;case 4:pe(p,p.stateNode.containerInfo);break;case 10:eu(p,p.type,p.memoizedProps.value);break;case 31:if(p.memoizedState!==null)return p.flags|=128,Tb(p),null;break;case 13:var R=p.memoizedState;if(R!==null)return R.dehydrated!==null?(au(p),p.flags|=128,null):(S&p.child.childLanes)!==0?q3(f,p,S):(au(p),f=Pa(f,p,S),f!==null?f.sibling:null);au(p);break;case 19:var B=(f.flags&128)!==0;if(R=(S&p.childLanes)!==0,R||(nc(f,p,S,!1),R=(S&p.childLanes)!==0),B){if(R)return Ns(f,p,S);p.flags|=128}if(B=p.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),q(Vn,Vn.current),R)break;return null;case 22:return p.lanes=0,mf(f,p,S,p.pendingProps);case 24:eu(p,Va,f.memoizedState.cache)}return Pa(f,p,S)}function G0(f,p,S){if(f!==null)if(f.memoizedProps!==p.pendingProps)Wa=!0;else{if(!$0(f,S)&&(p.flags&128)===0)return Wa=!1,sE(f,p,S);Wa=(f.flags&131072)!==0}else Wa=!1,qn&&(p.flags&1048576)!==0&&JS(p,mh,p.index);switch(p.lanes=0,p.tag){case 16:e:{var R=p.pendingProps;if(f=sf(p.elementType),p.type=f,typeof f=="function")d0(f)?(R=td(f,R),p.tag=1,p=B0(null,p,f,R,S)):(p.tag=0,p=Ah(null,p,f,R,S));else{if(f!=null){var B=f.$$typeof;if(B===E){p.tag=11,p=tx(null,p,f,R,S);break e}else if(B===O){p.tag=14,p=pf(null,p,f,R,S);break e}}throw p=D(f)||f,Error(r(306,p,""))}}return p;case 0:return Ah(f,p,p.type,p.pendingProps,S);case 1:return R=p.type,B=td(R,p.pendingProps),B0(f,p,R,B,S);case 3:e:{if(pe(p,p.stateNode.containerInfo),f===null)throw Error(r(387));R=p.pendingProps;var G=p.memoizedState;B=G.element,Cb(f,p),Sh(p,R,null,S);var se=p.memoizedState;if(R=se.cache,eu(p,Va,R),R!==G.cache&&b0(p,[Va],S,!0),fm(),R=se.element,G.isDehydrated)if(G={element:R,isDehydrated:!1,cache:se.cache},p.updateQueue.baseState=G,p.memoizedState=G,p.flags&256){p=G3(f,p,R,S);break e}else if(R!==B){B=io(Error(r(424)),p),Jl(B),p=G3(f,p,R,S);break e}else{switch(f=p.stateNode.containerInfo,f.nodeType){case 9:f=f.body;break;default:f=f.nodeName==="HTML"?f.ownerDocument.body:f}for(Fr=hc(f.firstChild),_a=p,qn=!0,Jc=null,so=!0,S=w0(p,null,R,S),p.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling}else{if(Wu(),R===B){p=Pa(f,p,S);break e}bi(f,p,R,S)}p=p.child}return p;case 26:return gf(f,p),f===null?(S=qM(p.type,null,p.pendingProps,null))?p.memoizedState=S:qn||(S=p.type,f=p.pendingProps,R=X3(ie.current).createElement(S),R[Sr]=p,R[oa]=f,bs(R,S,f),Nr(R),p.stateNode=R):p.memoizedState=qM(p.type,f.memoizedProps,p.pendingProps,f.memoizedState),null;case 27:return oe(p),f===null&&qn&&(R=p.stateNode=UM(p.type,p.pendingProps,ie.current),_a=p,so=!0,B=Fr,Lh(p.type)?(vE=B,Fr=hc(R.firstChild)):Fr=B),bi(f,p,p.pendingProps.children,S),gf(f,p),f===null&&(p.flags|=4194304),p.child;case 5:return f===null&&qn&&((B=R=Fr)&&(R=die(R,p.type,p.pendingProps,so),R!==null?(p.stateNode=R,_a=p,Fr=hc(R.firstChild),so=!1,B=!0):B=!1),B||Zl(p)),oe(p),B=p.type,G=p.pendingProps,se=f!==null?f.memoizedProps:null,R=G.children,mE(B,G)?R=null:se!==null&&mE(B,se)&&(p.flags|=32),p.memoizedState!==null&&(B=A0(f,p,hf,null,null,S),px._currentValue=B),gf(f,p),bi(f,p,R,S),p.child;case 6:return f===null&&qn&&((f=S=Fr)&&(S=fie(S,p.pendingProps,so),S!==null?(p.stateNode=S,_a=p,Fr=null,f=!0):f=!1),f||Zl(p)),null;case 13:return q3(f,p,S);case 4:return pe(p,p.stateNode.containerInfo),R=p.pendingProps,f===null?p.child=nu(p,null,R,S):bi(f,p,R,S),p.child;case 11:return tx(f,p,p.type,p.pendingProps,S);case 7:return bi(f,p,p.pendingProps,S),p.child;case 8:return bi(f,p,p.pendingProps.children,S),p.child;case 12:return bi(f,p,p.pendingProps.children,S),p.child;case 10:return R=p.pendingProps,eu(p,p.type,R.value),bi(f,p,R.children,S),p.child;case 9:return B=p.type._context,R=p.pendingProps.children,Ku(p),B=mn(B),R=R(B),p.flags|=1,bi(f,p,R,S),p.child;case 14:return pf(f,p,p.type,p.pendingProps,S);case 15:return L0(f,p,p.type,p.pendingProps,S);case 19:return Ns(f,p,S);case 31:return F0(f,p,S);case 22:return mf(f,p,S,p.pendingProps);case 24:return Ku(p),R=mn(Va),f===null?(B=v0(),B===null&&(B=xn,G=bb(),B.pooledCache=G,G.refCount++,G!==null&&(B.pooledCacheLanes|=S),B=G),p.memoizedState={parent:R,cache:B},dm(p),eu(p,Va,B)):((f.lanes&S)!==0&&(Cb(f,p),Sh(p,null,null,S),fm()),B=f.memoizedState,G=p.memoizedState,B.parent!==R?(B={parent:R,cache:R},p.memoizedState=B,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=B),eu(p,Va,R)):(R=G.cache,eu(p,Va,R),R!==B.cache&&b0(p,[Va],S,!0))),bi(f,p,p.pendingProps.children,S),p.child;case 29:throw p.pendingProps}throw Error(r(156,p.tag))}function ic(f){f.flags|=4}function vm(f,p,S,R,B){if((p=(f.mode&32)!==0)&&(p=!1),p){if(f.flags|=16777216,(B&335544128)===B)if(f.stateNode.complete)f.flags|=8192;else if(ma())f.flags|=8192;else throw rc=S0,cm}else f.flags&=-16777217}function ax(f,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!XM(p))if(ma())f.flags|=8192;else throw rc=S0,cm}function su(f,p){p!==null&&(f.flags|=4),f.flags&16384&&(p=f.tag!==22?Ut():536870912,f.lanes|=p,Gr|=p)}function sc(f,p){if(!qn)switch(f.tailMode){case"hidden":p=f.tail;for(var S=null;p!==null;)p.alternate!==null&&(S=p),p=p.sibling;S===null?f.tail=null:S.sibling=null;break;case"collapsed":S=f.tail;for(var R=null;S!==null;)S.alternate!==null&&(R=S),S=S.sibling;R===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:R.sibling=null}}function Dr(f){var p=f.alternate!==null&&f.alternate.child===f.child,S=0,R=0;if(p)for(var B=f.child;B!==null;)S|=B.lanes|B.childLanes,R|=B.subtreeFlags&65011712,R|=B.flags&65011712,B.return=f,B=B.sibling;else for(B=f.child;B!==null;)S|=B.lanes|B.childLanes,R|=B.subtreeFlags,R|=B.flags,B.return=f,B=B.sibling;return f.subtreeFlags|=R,f.childLanes=S,p}function Sm(f,p,S){var R=p.pendingProps;switch(p0(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(p),null;case 1:return Dr(p),null;case 3:return S=p.stateNode,R=null,f!==null&&(R=f.memoizedState.cache),p.memoizedState.cache!==R&&(p.flags|=2048),tc(Va),ge(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(f===null||f.child===null)&&(yh(p)?ic(p):f===null||f.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,g0())),Dr(p),null;case 26:var B=p.type,G=p.memoizedState;return f===null?(ic(p),G!==null?(Dr(p),ax(p,G)):(Dr(p),vm(p,B,null,R,S))):G?G!==f.memoizedState?(ic(p),Dr(p),ax(p,G)):(Dr(p),p.flags&=-16777217):(f=f.memoizedProps,f!==R&&ic(p),Dr(p),vm(p,B,f,R,S)),null;case 27:if(ue(p),S=ie.current,B=p.type,f!==null&&p.stateNode!=null)f.memoizedProps!==R&&ic(p);else{if(!R){if(p.stateNode===null)throw Error(r(166));return Dr(p),null}f=te.current,yh(p)?e3(p):(f=UM(B,R,S),p.stateNode=f,ic(p))}return Dr(p),null;case 5:if(ue(p),B=p.type,f!==null&&p.stateNode!=null)f.memoizedProps!==R&&ic(p);else{if(!R){if(p.stateNode===null)throw Error(r(166));return Dr(p),null}if(G=te.current,yh(p))e3(p);else{var se=X3(ie.current);switch(G){case 1:G=se.createElementNS("http://www.w3.org/2000/svg",B);break;case 2:G=se.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;default:switch(B){case"svg":G=se.createElementNS("http://www.w3.org/2000/svg",B);break;case"math":G=se.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;case"script":G=se.createElement("div"),G.innerHTML="<script><\/script>",G=G.removeChild(G.firstChild);break;case"select":G=typeof R.is=="string"?se.createElement("select",{is:R.is}):se.createElement("select"),R.multiple?G.multiple=!0:R.size&&(G.size=R.size);break;default:G=typeof R.is=="string"?se.createElement(B,{is:R.is}):se.createElement(B)}}G[Sr]=p,G[oa]=R;e:for(se=p.child;se!==null;){if(se.tag===5||se.tag===6)G.appendChild(se.stateNode);else if(se.tag!==4&&se.tag!==27&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===p)break e;for(;se.sibling===null;){if(se.return===null||se.return===p)break e;se=se.return}se.sibling.return=se.return,se=se.sibling}p.stateNode=G;e:switch(bs(G,B,R),B){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}R&&ic(p)}}return Dr(p),vm(p,p.type,f===null?null:f.memoizedProps,p.pendingProps,S),null;case 6:if(f&&p.stateNode!=null)f.memoizedProps!==R&&ic(p);else{if(typeof R!="string"&&p.stateNode===null)throw Error(r(166));if(f=ie.current,yh(p)){if(f=p.stateNode,S=p.memoizedProps,R=null,B=_a,B!==null)switch(B.tag){case 27:case 5:R=B.memoizedProps}f[Sr]=p,f=!!(f.nodeValue===S||R!==null&&R.suppressHydrationWarning===!0||jM(f.nodeValue,S)),f||Zl(p,!0)}else f=X3(f).createTextNode(R),f[Sr]=p,p.stateNode=f}return Dr(p),null;case 31:if(S=p.memoizedState,f===null||f.memoizedState!==null){if(R=yh(p),S!==null){if(f===null){if(!R)throw Error(r(318));if(f=p.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(557));f[Sr]=p}else Wu(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Dr(p),f=!1}else S=g0(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=S),f=!0;if(!f)return p.flags&256?(Ma(p),p):(Ma(p),null);if((p.flags&128)!==0)throw Error(r(558))}return Dr(p),null;case 13:if(R=p.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(B=yh(p),R!==null&&R.dehydrated!==null){if(f===null){if(!B)throw Error(r(318));if(B=p.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(r(317));B[Sr]=p}else Wu(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Dr(p),B=!1}else B=g0(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=B),B=!0;if(!B)return p.flags&256?(Ma(p),p):(Ma(p),null)}return Ma(p),(p.flags&128)!==0?(p.lanes=S,p):(S=R!==null,f=f!==null&&f.memoizedState!==null,S&&(R=p.child,B=null,R.alternate!==null&&R.alternate.memoizedState!==null&&R.alternate.memoizedState.cachePool!==null&&(B=R.alternate.memoizedState.cachePool.pool),G=null,R.memoizedState!==null&&R.memoizedState.cachePool!==null&&(G=R.memoizedState.cachePool.pool),G!==B&&(R.flags|=2048)),S!==f&&S&&(p.child.flags|=8192),su(p,p.updateQueue),Dr(p),null);case 4:return ge(),f===null&&uE(p.stateNode.containerInfo),Dr(p),null;case 10:return tc(p.type),Dr(p),null;case 19:if(Z(Vn),R=p.memoizedState,R===null)return Dr(p),null;if(B=(p.flags&128)!==0,G=R.rendering,G===null)if(B)sc(R,!1);else{if(ha!==0||f!==null&&(f.flags&128)!==0)for(f=p.child;f!==null;){if(G=lo(f),G!==null){for(p.flags|=128,sc(R,!1),f=G.updateQueue,p.updateQueue=f,su(p,f),p.subtreeFlags=0,f=S,S=p.child;S!==null;)fh(S,f),S=S.sibling;return q(Vn,Vn.current&1|2),qn&&Xl(p,R.treeForkCount),p.child}f=f.sibling}R.tail!==null&&ke()>La&&(p.flags|=128,B=!0,sc(R,!1),p.lanes=4194304)}else{if(!B)if(f=lo(G),f!==null){if(p.flags|=128,B=!0,f=f.updateQueue,p.updateQueue=f,su(p,f),sc(R,!0),R.tail===null&&R.tailMode==="hidden"&&!G.alternate&&!qn)return Dr(p),null}else 2*ke()-R.renderingStartTime>La&&S!==536870912&&(p.flags|=128,B=!0,sc(R,!1),p.lanes=4194304);R.isBackwards?(G.sibling=p.child,p.child=G):(f=R.last,f!==null?f.sibling=G:p.child=G,R.last=G)}return R.tail!==null?(f=R.tail,R.rendering=f,R.tail=f.sibling,R.renderingStartTime=ke(),f.sibling=null,S=Vn.current,q(Vn,B?S&1|2:S&1),qn&&Xl(p,R.treeForkCount),f):(Dr(p),null);case 22:case 23:return Ma(p),hm(),R=p.memoizedState!==null,f!==null?f.memoizedState!==null!==R&&(p.flags|=8192):R&&(p.flags|=8192),R?(S&536870912)!==0&&(p.flags&128)===0&&(Dr(p),p.subtreeFlags&6&&(p.flags|=8192)):Dr(p),S=p.updateQueue,S!==null&&su(p,S.retryQueue),S=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(S=f.memoizedState.cachePool.pool),R=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(R=p.memoizedState.cachePool.pool),R!==S&&(p.flags|=2048),f!==null&&Z(Xu),null;case 24:return S=null,f!==null&&(S=f.memoizedState.cache),p.memoizedState.cache!==S&&(p.flags|=2048),tc(Va),Dr(p),null;case 25:return null;case 30:return null}throw Error(r(156,p.tag))}function zo(f,p){switch(p0(p),p.tag){case 1:return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return tc(Va),ge(),f=p.flags,(f&65536)!==0&&(f&128)===0?(p.flags=f&-65537|128,p):null;case 26:case 27:case 5:return ue(p),null;case 31:if(p.memoizedState!==null){if(Ma(p),p.alternate===null)throw Error(r(340));Wu()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 13:if(Ma(p),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(r(340));Wu()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return Z(Vn),null;case 4:return ge(),null;case 10:return tc(p.type),null;case 22:case 23:return Ma(p),hm(),f!==null&&Z(Xu),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 24:return tc(Va),null;case 25:return null;default:return null}}function co(f,p){switch(p0(p),p.tag){case 3:tc(Va),ge();break;case 26:case 27:case 5:ue(p);break;case 4:ge();break;case 31:p.memoizedState!==null&&Ma(p);break;case 13:Ma(p);break;case 19:Z(Vn);break;case 10:tc(p.type);break;case 22:case 23:Ma(p),hm(),f!==null&&Z(Xu);break;case 24:tc(Va)}}function Fo(f,p){try{var S=p.updateQueue,R=S!==null?S.lastEffect:null;if(R!==null){var B=R.next;S=B;do{if((S.tag&f)===f){R=void 0;var G=S.create,se=S.inst;R=G(),se.destroy=R}S=S.next}while(S!==B)}}catch(fe){ar(p,p.return,fe)}}function zi(f,p,S){try{var R=p.updateQueue,B=R!==null?R.lastEffect:null;if(B!==null){var G=B.next;R=G;do{if((R.tag&f)===f){var se=R.inst,fe=se.destroy;if(fe!==void 0){se.destroy=void 0,B=p;var Ae=S,We=fe;try{We()}catch(lt){ar(B,Ae,lt)}}}R=R.next}while(R!==G)}}catch(lt){ar(p,p.return,lt)}}function Sl(f){var p=f.updateQueue;if(p!==null){var S=f.stateNode;try{i3(p,S)}catch(R){ar(f,f.return,R)}}}function xi(f,p,S){S.props=td(f.type,f.memoizedProps),S.state=f.memoizedState;try{S.componentWillUnmount()}catch(R){ar(f,p,R)}}function ou(f,p){try{var S=f.ref;if(S!==null){switch(f.tag){case 26:case 27:case 5:var R=f.stateNode;break;case 30:R=f.stateNode;break;default:R=f.stateNode}typeof S=="function"?f.refCleanup=S(R):S.current=R}}catch(B){ar(f,p,B)}}function Fi(f,p){var S=f.ref,R=f.refCleanup;if(S!==null)if(typeof R=="function")try{R()}catch(B){ar(f,p,B)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof S=="function")try{S(null)}catch(B){ar(f,p,B)}else S.current=null}function _m(f){var p=f.type,S=f.memoizedProps,R=f.stateNode;try{e:switch(p){case"button":case"input":case"select":case"textarea":S.autoFocus&&R.focus();break e;case"img":S.src?R.src=S.src:S.srcSet&&(R.srcset=S.srcSet)}}catch(B){ar(f,f.return,B)}}function ai(f,p,S){try{var R=f.stateNode;iie(R,f.type,S,p),R[oa]=p}catch(B){ar(f,f.return,B)}}function Qr(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27&&Lh(f.type)||f.tag===4}function Un(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||Qr(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.tag===27&&Lh(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function oc(f,p,S){var R=f.tag;if(R===5||R===6)f=f.stateNode,p?(S.nodeType===9?S.body:S.nodeName==="HTML"?S.ownerDocument.body:S).insertBefore(f,p):(p=S.nodeType===9?S.body:S.nodeName==="HTML"?S.ownerDocument.body:S,p.appendChild(f),S=S._reactRootContainer,S!=null||p.onclick!==null||(p.onclick=Wi));else if(R!==4&&(R===27&&Lh(f.type)&&(S=f.stateNode,p=null),f=f.child,f!==null))for(oc(f,p,S),f=f.sibling;f!==null;)oc(f,p,S),f=f.sibling}function hs(f,p,S){var R=f.tag;if(R===5||R===6)f=f.stateNode,p?S.insertBefore(f,p):S.appendChild(f);else if(R!==4&&(R===27&&Lh(f.type)&&(S=f.stateNode),f=f.child,f!==null))for(hs(f,p,S),f=f.sibling;f!==null;)hs(f,p,S),f=f.sibling}function q0(f){var p=f.stateNode,S=f.memoizedProps;try{for(var R=f.type,B=p.attributes;B.length;)p.removeAttributeNode(B[0]);bs(p,R,S),p[Sr]=f,p[oa]=S}catch(G){ar(f,f.return,G)}}var Bo=!1,Br=!1,_l=!1,W3=typeof WeakSet=="function"?WeakSet:Set,vi=null;function oE(f,p){if(f=f.containerInfo,hE=r_,f=KS(f),hb(f)){if("selectionStart"in f)var S={start:f.selectionStart,end:f.selectionEnd};else e:{S=(S=f.ownerDocument)&&S.defaultView||window;var R=S.getSelection&&S.getSelection();if(R&&R.rangeCount!==0){S=R.anchorNode;var B=R.anchorOffset,G=R.focusNode;R=R.focusOffset;try{S.nodeType,G.nodeType}catch{S=null;break e}var se=0,fe=-1,Ae=-1,We=0,lt=0,pt=f,Ze=null;t:for(;;){for(var at;pt!==S||B!==0&&pt.nodeType!==3||(fe=se+B),pt!==G||R!==0&&pt.nodeType!==3||(Ae=se+R),pt.nodeType===3&&(se+=pt.nodeValue.length),(at=pt.firstChild)!==null;)Ze=pt,pt=at;for(;;){if(pt===f)break t;if(Ze===S&&++We===B&&(fe=se),Ze===G&&++lt===R&&(Ae=se),(at=pt.nextSibling)!==null)break;pt=Ze,Ze=pt.parentNode}pt=at}S=fe===-1||Ae===-1?null:{start:fe,end:Ae}}else S=null}S=S||{start:0,end:0}}else S=null;for(pE={focusedElem:f,selectionRange:S},r_=!1,vi=p;vi!==null;)if(p=vi,f=p.child,(p.subtreeFlags&1028)!==0&&f!==null)f.return=p,vi=f;else for(;vi!==null;){switch(p=vi,G=p.alternate,f=p.flags,p.tag){case 0:if((f&4)!==0&&(f=p.updateQueue,f=f!==null?f.events:null,f!==null))for(S=0;S<f.length;S++)B=f[S],B.ref.impl=B.nextImpl;break;case 11:case 15:break;case 1:if((f&1024)!==0&&G!==null){f=void 0,S=p,B=G.memoizedProps,G=G.memoizedState,R=S.stateNode;try{var Qt=td(S.type,B);f=R.getSnapshotBeforeUpdate(Qt,G),R.__reactInternalSnapshotBeforeUpdate=f}catch(pn){ar(S,S.return,pn)}}break;case 3:if((f&1024)!==0){if(f=p.stateNode.containerInfo,S=f.nodeType,S===9)yE(f);else if(S===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":yE(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(r(163))}if(f=p.sibling,f!==null){f.return=p.return,vi=f;break}vi=p.return}}function Zr(f,p,S){var R=S.flags;switch(S.tag){case 0:case 11:case 15:$o(f,S),R&4&&Fo(5,S);break;case 1:if($o(f,S),R&4)if(f=S.stateNode,p===null)try{f.componentDidMount()}catch(se){ar(S,S.return,se)}else{var B=td(S.type,p.memoizedProps);p=p.memoizedState;try{f.componentDidUpdate(B,p,f.__reactInternalSnapshotBeforeUpdate)}catch(se){ar(S,S.return,se)}}R&64&&Sl(S),R&512&&ou(S,S.return);break;case 3:if($o(f,S),R&64&&(f=S.updateQueue,f!==null)){if(p=null,S.child!==null)switch(S.child.tag){case 27:case 5:p=S.child.stateNode;break;case 1:p=S.child.stateNode}try{i3(f,p)}catch(se){ar(S,S.return,se)}}break;case 27:p===null&&R&4&&q0(S);case 26:case 5:$o(f,S),p===null&&R&4&&_m(S),R&512&&ou(S,S.return);break;case 12:$o(f,S);break;case 31:$o(f,S),R&4&&nd(f,S);break;case 13:$o(f,S),R&4&&Rh(f,S),R&64&&(f=S.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&(S=k.bind(null,S),hie(f,S))));break;case 22:if(R=S.memoizedState!==null||Bo,!R){p=p!==null&&p.memoizedState!==null||Br,B=Bo;var G=Br;Bo=R,(Br=p)&&!G?ps(f,S,(S.subtreeFlags&8772)!==0):$o(f,S),Bo=B,Br=G}break;case 30:break;default:$o(f,S)}}function Cm(f){var p=f.alternate;p!==null&&(f.alternate=null,Cm(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&Vi(p)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var Cr=null,Xi=!1;function Ho(f,p,S){for(S=S.child;S!==null;)V0(f,p,S),S=S.sibling}function V0(f,p,S){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(it,S)}catch{}switch(S.tag){case 26:Br||Fi(S,p),Ho(f,p,S),S.memoizedState?S.memoizedState.count--:S.stateNode&&(S=S.stateNode,S.parentNode.removeChild(S));break;case 27:Br||Fi(S,p);var R=Cr,B=Xi;Lh(S.type)&&(Cr=S.stateNode,Xi=!1),Ho(f,p,S),dx(S.stateNode),Cr=R,Xi=B;break;case 5:Br||Fi(S,p);case 6:if(R=Cr,B=Xi,Cr=null,Ho(f,p,S),Cr=R,Xi=B,Cr!==null)if(Xi)try{(Cr.nodeType===9?Cr.body:Cr.nodeName==="HTML"?Cr.ownerDocument.body:Cr).removeChild(S.stateNode)}catch(G){ar(S,p,G)}else try{Cr.removeChild(S.stateNode)}catch(G){ar(S,p,G)}break;case 18:Cr!==null&&(Xi?(f=Cr,LM(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,S.stateNode),e1(f)):LM(Cr,S.stateNode));break;case 4:R=Cr,B=Xi,Cr=S.stateNode.containerInfo,Xi=!0,Ho(f,p,S),Cr=R,Xi=B;break;case 0:case 11:case 14:case 15:zi(2,S,p),Br||zi(4,S,p),Ho(f,p,S);break;case 1:Br||(Fi(S,p),R=S.stateNode,typeof R.componentWillUnmount=="function"&&xi(S,p,R)),Ho(f,p,S);break;case 21:Ho(f,p,S);break;case 22:Br=(R=Br)||S.memoizedState!==null,Ho(f,p,S),Br=R;break;default:Ho(f,p,S)}}function nd(f,p){if(p.memoizedState===null&&(f=p.alternate,f!==null&&(f=f.memoizedState,f!==null))){f=f.dehydrated;try{e1(f)}catch(S){ar(p,p.return,S)}}}function Rh(f,p){if(p.memoizedState===null&&(f=p.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{e1(f)}catch(S){ar(p,p.return,S)}}function ix(f){switch(f.tag){case 31:case 13:case 19:var p=f.stateNode;return p===null&&(p=f.stateNode=new W3),p;case 22:return f=f.stateNode,p=f._retryCache,p===null&&(p=f._retryCache=new W3),p;default:throw Error(r(435,f.tag))}}function lu(f,p){var S=ix(f);p.forEach(function(R){if(!S.has(R)){S.add(R);var B=z.bind(null,f,R);R.then(B,B)}})}function ii(f,p){var S=p.deletions;if(S!==null)for(var R=0;R<S.length;R++){var B=S[R],G=f,se=p,fe=se;e:for(;fe!==null;){switch(fe.tag){case 27:if(Lh(fe.type)){Cr=fe.stateNode,Xi=!1;break e}break;case 5:Cr=fe.stateNode,Xi=!1;break e;case 3:case 4:Cr=fe.stateNode.containerInfo,Xi=!0;break e}fe=fe.return}if(Cr===null)throw Error(r(160));V0(G,se,B),Cr=null,Xi=!1,G=B.alternate,G!==null&&(G.return=null),B.return=null}if(p.subtreeFlags&13886)for(p=p.child;p!==null;)rd(p,f),p=p.sibling}var Uo=null;function rd(f,p){var S=f.alternate,R=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:ii(p,f),si(f),R&4&&(zi(3,f,f.return),Fo(3,f),zi(5,f,f.return));break;case 1:ii(p,f),si(f),R&512&&(Br||S===null||Fi(S,S.return)),R&64&&Bo&&(f=f.updateQueue,f!==null&&(R=f.callbacks,R!==null&&(S=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=S===null?R:S.concat(R))));break;case 26:var B=Uo;if(ii(p,f),si(f),R&512&&(Br||S===null||Fi(S,S.return)),R&4){var G=S!==null?S.memoizedState:null;if(R=f.memoizedState,S===null)if(R===null)if(f.stateNode===null){e:{R=f.type,S=f.memoizedProps,B=B.ownerDocument||B;t:switch(R){case"title":G=B.getElementsByTagName("title")[0],(!G||G[hi]||G[Sr]||G.namespaceURI==="http://www.w3.org/2000/svg"||G.hasAttribute("itemprop"))&&(G=B.createElement(R),B.head.insertBefore(G,B.querySelector("head > title"))),bs(G,R,S),G[Sr]=f,Nr(G),R=G;break e;case"link":var se=YM("link","href",B).get(R+(S.href||""));if(se){for(var fe=0;fe<se.length;fe++)if(G=se[fe],G.getAttribute("href")===(S.href==null||S.href===""?null:S.href)&&G.getAttribute("rel")===(S.rel==null?null:S.rel)&&G.getAttribute("title")===(S.title==null?null:S.title)&&G.getAttribute("crossorigin")===(S.crossOrigin==null?null:S.crossOrigin)){se.splice(fe,1);break t}}G=B.createElement(R),bs(G,R,S),B.head.appendChild(G);break;case"meta":if(se=YM("meta","content",B).get(R+(S.content||""))){for(fe=0;fe<se.length;fe++)if(G=se[fe],G.getAttribute("content")===(S.content==null?null:""+S.content)&&G.getAttribute("name")===(S.name==null?null:S.name)&&G.getAttribute("property")===(S.property==null?null:S.property)&&G.getAttribute("http-equiv")===(S.httpEquiv==null?null:S.httpEquiv)&&G.getAttribute("charset")===(S.charSet==null?null:S.charSet)){se.splice(fe,1);break t}}G=B.createElement(R),bs(G,R,S),B.head.appendChild(G);break;default:throw Error(r(468,R))}G[Sr]=f,Nr(G),R=G}f.stateNode=R}else KM(B,f.type,f.stateNode);else f.stateNode=WM(B,R,f.memoizedProps);else G!==R?(G===null?S.stateNode!==null&&(S=S.stateNode,S.parentNode.removeChild(S)):G.count--,R===null?KM(B,f.type,f.stateNode):WM(B,R,f.memoizedProps)):R===null&&f.stateNode!==null&&ai(f,f.memoizedProps,S.memoizedProps)}break;case 27:ii(p,f),si(f),R&512&&(Br||S===null||Fi(S,S.return)),S!==null&&R&4&&ai(f,f.memoizedProps,S.memoizedProps);break;case 5:if(ii(p,f),si(f),R&512&&(Br||S===null||Fi(S,S.return)),f.flags&32){B=f.stateNode;try{fl(B,"")}catch(Qt){ar(f,f.return,Qt)}}R&4&&f.stateNode!=null&&(B=f.memoizedProps,ai(f,B,S!==null?S.memoizedProps:B)),R&1024&&(_l=!0);break;case 6:if(ii(p,f),si(f),R&4){if(f.stateNode===null)throw Error(r(162));R=f.memoizedProps,S=f.stateNode;try{S.nodeValue=R}catch(Qt){ar(f,f.return,Qt)}}break;case 3:if(J3=null,B=Uo,Uo=Q3(p.containerInfo),ii(p,f),Uo=B,si(f),R&4&&S!==null&&S.memoizedState.isDehydrated)try{e1(p.containerInfo)}catch(Qt){ar(f,f.return,Qt)}_l&&(_l=!1,W0(f));break;case 4:R=Uo,Uo=Q3(f.stateNode.containerInfo),ii(p,f),si(f),Uo=R;break;case 12:ii(p,f),si(f);break;case 31:ii(p,f),si(f),R&4&&(R=f.updateQueue,R!==null&&(f.updateQueue=null,lu(f,R)));break;case 13:ii(p,f),si(f),f.child.flags&8192&&f.memoizedState!==null!=(S!==null&&S.memoizedState!==null)&&(kh=ke()),R&4&&(R=f.updateQueue,R!==null&&(f.updateQueue=null,lu(f,R)));break;case 22:B=f.memoizedState!==null;var Ae=S!==null&&S.memoizedState!==null,We=Bo,lt=Br;if(Bo=We||B,Br=lt||Ae,ii(p,f),Br=lt,Bo=We,si(f),R&8192)e:for(p=f.stateNode,p._visibility=B?p._visibility&-2:p._visibility|1,B&&(S===null||Ae||Bo||Br||lc(f)),S=null,p=f;;){if(p.tag===5||p.tag===26){if(S===null){Ae=S=p;try{if(G=Ae.stateNode,B)se=G.style,typeof se.setProperty=="function"?se.setProperty("display","none","important"):se.display="none";else{fe=Ae.stateNode;var pt=Ae.memoizedProps.style,Ze=pt!=null&&pt.hasOwnProperty("display")?pt.display:null;fe.style.display=Ze==null||typeof Ze=="boolean"?"":(""+Ze).trim()}}catch(Qt){ar(Ae,Ae.return,Qt)}}}else if(p.tag===6){if(S===null){Ae=p;try{Ae.stateNode.nodeValue=B?"":Ae.memoizedProps}catch(Qt){ar(Ae,Ae.return,Qt)}}}else if(p.tag===18){if(S===null){Ae=p;try{var at=Ae.stateNode;B?zM(at,!0):zM(Ae.stateNode,!1)}catch(Qt){ar(Ae,Ae.return,Qt)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===f)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break e;for(;p.sibling===null;){if(p.return===null||p.return===f)break e;S===p&&(S=null),p=p.return}S===p&&(S=null),p.sibling.return=p.return,p=p.sibling}R&4&&(R=f.updateQueue,R!==null&&(S=R.retryQueue,S!==null&&(R.retryQueue=null,lu(f,S))));break;case 19:ii(p,f),si(f),R&4&&(R=f.updateQueue,R!==null&&(f.updateQueue=null,lu(f,R)));break;case 30:break;case 21:break;default:ii(p,f),si(f)}}function si(f){var p=f.flags;if(p&2){try{for(var S,R=f.return;R!==null;){if(Qr(R)){S=R;break}R=R.return}if(S==null)throw Error(r(160));switch(S.tag){case 27:var B=S.stateNode,G=Un(f);hs(f,G,B);break;case 5:var se=S.stateNode;S.flags&32&&(fl(se,""),S.flags&=-33);var fe=Un(f);hs(f,fe,se);break;case 3:case 4:var Ae=S.stateNode.containerInfo,We=Un(f);oc(f,We,Ae);break;default:throw Error(r(161))}}catch(lt){ar(f,f.return,lt)}f.flags&=-3}p&4096&&(f.flags&=-4097)}function W0(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var p=f;W0(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),f=f.sibling}}function $o(f,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)Zr(f,p.alternate,p),p=p.sibling}function lc(f){for(f=f.child;f!==null;){var p=f;switch(p.tag){case 0:case 11:case 14:case 15:zi(4,p,p.return),lc(p);break;case 1:Fi(p,p.return);var S=p.stateNode;typeof S.componentWillUnmount=="function"&&xi(p,p.return,S),lc(p);break;case 27:dx(p.stateNode);case 26:case 5:Fi(p,p.return),lc(p);break;case 22:p.memoizedState===null&&lc(p);break;case 30:lc(p);break;default:lc(p)}f=f.sibling}}function ps(f,p,S){for(S=S&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var R=p.alternate,B=f,G=p,se=G.flags;switch(G.tag){case 0:case 11:case 15:ps(B,G,S),Fo(4,G);break;case 1:if(ps(B,G,S),R=G,B=R.stateNode,typeof B.componentDidMount=="function")try{B.componentDidMount()}catch(We){ar(R,R.return,We)}if(R=G,B=R.updateQueue,B!==null){var fe=R.stateNode;try{var Ae=B.shared.hiddenCallbacks;if(Ae!==null)for(B.shared.hiddenCallbacks=null,B=0;B<Ae.length;B++)_h(Ae[B],fe)}catch(We){ar(R,R.return,We)}}S&&se&64&&Sl(G),ou(G,G.return);break;case 27:q0(G);case 26:case 5:ps(B,G,S),S&&R===null&&se&4&&_m(G),ou(G,G.return);break;case 12:ps(B,G,S);break;case 31:ps(B,G,S),S&&se&4&&nd(B,G);break;case 13:ps(B,G,S),S&&se&4&&Rh(B,G);break;case 22:G.memoizedState===null&&ps(B,G,S),ou(G,G.return);break;case 30:break;default:ps(B,G,S)}p=p.sibling}}function ad(f,p){var S=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(S=f.memoizedState.cachePool.pool),f=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(f=p.memoizedState.cachePool.pool),f!==S&&(f!=null&&f.refCount++,S!=null&&rf(S))}function bf(f,p){f=null,p.alternate!==null&&(f=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==f&&(p.refCount++,f!=null&&rf(f))}function Bi(f,p,S,R){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)sx(f,p,S,R),p=p.sibling}function sx(f,p,S,R){var B=p.flags;switch(p.tag){case 0:case 11:case 15:Bi(f,p,S,R),B&2048&&Fo(9,p);break;case 1:Bi(f,p,S,R);break;case 3:Bi(f,p,S,R),B&2048&&(f=null,p.alternate!==null&&(f=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==f&&(p.refCount++,f!=null&&rf(f)));break;case 12:if(B&2048){Bi(f,p,S,R),f=p.stateNode;try{var G=p.memoizedProps,se=G.id,fe=G.onPostCommit;typeof fe=="function"&&fe(se,p.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Ae){ar(p,p.return,Ae)}}else Bi(f,p,S,R);break;case 31:Bi(f,p,S,R);break;case 13:Bi(f,p,S,R);break;case 23:break;case 22:G=p.stateNode,se=p.alternate,p.memoizedState!==null?G._visibility&2?Bi(f,p,S,R):cc(f,p):G._visibility&2?Bi(f,p,S,R):(G._visibility|=2,Hi(f,p,S,R,(p.subtreeFlags&10256)!==0||!1)),B&2048&&ad(se,p);break;case 24:Bi(f,p,S,R),B&2048&&bf(p.alternate,p);break;default:Bi(f,p,S,R)}}function Hi(f,p,S,R,B){for(B=B&&((p.subtreeFlags&10256)!==0||!1),p=p.child;p!==null;){var G=f,se=p,fe=S,Ae=R,We=se.flags;switch(se.tag){case 0:case 11:case 15:Hi(G,se,fe,Ae,B),Fo(8,se);break;case 23:break;case 22:var lt=se.stateNode;se.memoizedState!==null?lt._visibility&2?Hi(G,se,fe,Ae,B):cc(G,se):(lt._visibility|=2,Hi(G,se,fe,Ae,B)),B&&We&2048&&ad(se.alternate,se);break;case 24:Hi(G,se,fe,Ae,B),B&&We&2048&&bf(se.alternate,se);break;default:Hi(G,se,fe,Ae,B)}p=p.sibling}}function cc(f,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var S=f,R=p,B=R.flags;switch(R.tag){case 22:cc(S,R),B&2048&&ad(R.alternate,R);break;case 24:cc(S,R),B&2048&&bf(R.alternate,R);break;default:cc(S,R)}p=p.sibling}}var xf=8192;function uo(f,p,S){if(f.subtreeFlags&xf)for(f=f.child;f!==null;)Y0(f,p,S),f=f.sibling}function Y0(f,p,S){switch(f.tag){case 26:uo(f,p,S),f.flags&xf&&f.memoizedState!==null&&Eie(S,Uo,f.memoizedState,f.memoizedProps);break;case 5:uo(f,p,S);break;case 3:case 4:var R=Uo;Uo=Q3(f.stateNode.containerInfo),uo(f,p,S),Uo=R;break;case 22:f.memoizedState===null&&(R=f.alternate,R!==null&&R.memoizedState!==null?(R=xf,xf=16777216,uo(f,p,S),xf=R):uo(f,p,S));break;default:uo(f,p,S)}}function vf(f){var p=f.alternate;if(p!==null&&(f=p.child,f!==null)){p.child=null;do p=f.sibling,f.sibling=null,f=p;while(f!==null)}}function id(f){var p=f.deletions;if((f.flags&16)!==0){if(p!==null)for(var S=0;S<p.length;S++){var R=p[S];vi=R,Ca(R,f)}vf(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Ps(f),f=f.sibling}function Ps(f){switch(f.tag){case 0:case 11:case 15:id(f),f.flags&2048&&zi(9,f,f.return);break;case 3:id(f);break;case 12:id(f);break;case 22:var p=f.stateNode;f.memoizedState!==null&&p._visibility&2&&(f.return===null||f.return.tag!==13)?(p._visibility&=-3,ms(f)):id(f);break;default:id(f)}}function ms(f){var p=f.deletions;if((f.flags&16)!==0){if(p!==null)for(var S=0;S<p.length;S++){var R=p[S];vi=R,Ca(R,f)}vf(f)}for(f=f.child;f!==null;){switch(p=f,p.tag){case 0:case 11:case 15:zi(8,p,p.return),ms(p);break;case 22:S=p.stateNode,S._visibility&2&&(S._visibility&=-3,ms(p));break;default:ms(p)}f=f.sibling}}function Ca(f,p){for(;vi!==null;){var S=vi;switch(S.tag){case 0:case 11:case 15:zi(8,S,p);break;case 23:case 22:if(S.memoizedState!==null&&S.memoizedState.cachePool!==null){var R=S.memoizedState.cachePool.pool;R!=null&&R.refCount++}break;case 24:rf(S.memoizedState.cache)}if(R=S.child,R!==null)R.return=S,vi=R;else e:for(S=f;vi!==null;){R=vi;var B=R.sibling,G=R.return;if(Cm(R),R===S){vi=null;break e}if(B!==null){B.return=G,vi=B;break e}vi=G}}}var cu={getCacheForType:function(f){var p=mn(Va),S=p.data.get(f);return S===void 0&&(S=f(),p.data.set(f,S)),S},cacheSignal:function(){return mn(Va).controller.signal}},Tn=typeof WeakMap=="function"?WeakMap:Map,tn=0,xn=null,jn=null,kn=0,Kn=0,Qi=null,Go=!1,Cl=!1,ox=!1,fo=0,ha=0,uc=0,sd=0,wm=0,gs=0,Gr=0,Sf=null,wa=null,Ea=!1,kh=0,lx=0,La=1/0,pa=null,za=null,wr=0,ho=null,Ih=null,qo=0,jh=0,Oh=null,Em=null,od=0,_f=null;function po(){return(tn&2)!==0&&kn!==0?kn&-kn:F.T!==null?et():jr()}function Fn(){if(gs===0)if((kn&536870912)===0||qn){var f=er;er<<=1,(er&3932160)===0&&(er=262144),gs=f}else gs=536870912;return f=Os.current,f!==null&&(f.flags|=32),gs}function On(f,p,S){(f===xn&&(Kn===2||Kn===9)||f.cancelPendingCommit!==null)&&(cd(f,0),Ya(f,kn,gs,!1)),wt(f,S),((tn&2)===0||f!==xn)&&(f===xn&&((tn&2)===0&&(sd|=S),ha===4&&Ya(f,kn,gs,!1)),vt(f))}function Bn(f,p,S){if((tn&6)!==0)throw Error(r(327));var R=!S&&(p&127)===0&&(p&f.expiredLanes)===0||_n(f,p),B=R?Tm(f,p):ys(f,p,!0),G=R;do{if(B===0){Cl&&!R&&Ya(f,p,0,!1);break}else{if(S=f.current.alternate,G&&!Er(S)){B=ys(f,p,!1),G=!1;continue}if(B===2){if(G=p,f.errorRecoveryDisabledLanes&G)var se=0;else se=f.pendingLanes&-536870913,se=se!==0?se:se&536870912?536870912:0;if(se!==0){p=se;e:{var fe=f;B=Sf;var Ae=fe.current.memoizedState.isDehydrated;if(Ae&&(cd(fe,se).flags|=256),se=ys(fe,se,!1),se!==2){if(ox&&!Ae){fe.errorRecoveryDisabledLanes|=G,sd|=G,B=4;break e}G=wa,wa=B,G!==null&&(wa===null?wa=G:wa.push.apply(wa,G))}B=se}if(G=!1,B!==2)continue}}if(B===1){cd(f,0),Ya(f,p,0,!0);break}e:{switch(R=f,G=B,G){case 0:case 1:throw Error(r(345));case 4:if((p&4194048)!==p)break;case 6:Ya(R,p,gs,!Go);break e;case 2:wa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((p&62914560)===p&&(B=kh+300-ke(),10<B)){if(Ya(R,p,gs,!Go),hn(R,0,!0)!==0)break e;qo=p,R.timeoutHandle=NM($n.bind(null,R,S,wa,pa,Ea,p,gs,sd,Gr,Go,G,"Throttled",-0,0),B);break e}$n(R,S,wa,pa,Ea,p,gs,sd,Gr,Go,G,null,-0,0)}}break}while(!0);vt(f)}function $n(f,p,S,R,B,G,se,fe,Ae,We,lt,pt,Ze,at){if(f.timeoutHandle=-1,pt=p.subtreeFlags,pt&8192||(pt&16785408)===16785408){pt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wi},Y0(p,G,pt);var Qt=(G&62914560)===G?kh-ke():(G&4194048)===G?lx-ke():0;if(Qt=Tie(pt,Qt),Qt!==null){qo=G,f.cancelPendingCommit=Qt(du.bind(null,f,p,G,S,R,B,se,fe,Ae,lt,pt,null,Ze,at)),Ya(f,G,se,!We);return}}du(f,p,G,S,R,B,se,fe,Ae)}function Er(f){for(var p=f;;){var S=p.tag;if((S===0||S===11||S===15)&&p.flags&16384&&(S=p.updateQueue,S!==null&&(S=S.stores,S!==null)))for(var R=0;R<S.length;R++){var B=S[R],G=B.getSnapshot;B=B.value;try{if(!cs(G(),B))return!1}catch{return!1}}if(S=p.child,p.subtreeFlags&16384&&S!==null)S.return=p,p=S;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Ya(f,p,S,R){p&=~wm,p&=~sd,f.suspendedLanes|=p,f.pingedLanes&=~p,R&&(f.warmLanes|=p),R=f.expirationTimes;for(var B=p;0<B;){var G=31-ft(B),se=1<<G;R[G]=-1,B&=~se}S!==0&&an(f,S,p)}function wl(){return(tn&6)===0?(Vt(0),!1):!0}function ld(){if(jn!==null){if(Kn===0)var f=jn.return;else f=jn,ec=Yu=null,jb(f),cf=null,uf=0,f=jn;for(;f!==null;)co(f.alternate,f),f=f.return;jn=null}}function cd(f,p){var S=f.timeoutHandle;S!==-1&&(f.timeoutHandle=-1,lie(S)),S=f.cancelPendingCommit,S!==null&&(f.cancelPendingCommit=null,S()),qo=0,ld(),xn=f,jn=S=ks(f.current,null),kn=p,Kn=0,Qi=null,Go=!1,Cl=_n(f,p),ox=!1,Gr=gs=wm=sd=uc=ha=0,wa=Sf=null,Ea=!1,(p&8)!==0&&(p|=p&32);var R=f.entangledLanes;if(R!==0)for(f=f.entanglements,R&=p;0<R;){var B=31-ft(R),G=1<<B;p|=f[B],R&=~G}return fo=p,im(),S}function dc(f,p){En=null,F.H=Th,p===af||p===In?(p=of(),Kn=3):p===cm?(p=of(),Kn=4):Kn=p===P0?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,Qi=p,jn===null&&(ha=1,N0(f,io(p,f.current)))}function ma(){var f=Os.current;return f===null?!0:(kn&4194048)===kn?fs===null:(kn&62914560)===kn||(kn&536870912)!==0?f===fs:!1}function uu(){var f=F.H;return F.H=Th,f===null?Th:f}function ud(){var f=F.A;return F.A=cu,f}function Dh(){ha=4,Go||(kn&4194048)!==kn&&Os.current!==null||(Cl=!0),(uc&134217727)===0&&(sd&134217727)===0||xn===null||Ya(xn,kn,gs,!1)}function ys(f,p,S){var R=tn;tn|=2;var B=uu(),G=ud();(xn!==f||kn!==p)&&(pa=null,cd(f,p)),p=!1;var se=ha;e:do try{if(Kn!==0&&jn!==null){var fe=jn,Ae=Qi;switch(Kn){case 8:ld(),se=6;break e;case 3:case 2:case 9:case 6:Os.current===null&&(p=!0);var We=Kn;if(Kn=0,Qi=null,Cf(f,fe,Ae,We),S&&Cl){se=0;break e}break;default:We=Kn,Kn=0,Qi=null,Cf(f,fe,Ae,We)}}Mh(),se=ha;break}catch(lt){dc(f,lt)}while(!0);return p&&f.shellSuspendCounter++,ec=Yu=null,tn=R,F.H=B,F.A=G,jn===null&&(xn=null,kn=0,im()),se}function Mh(){for(;jn!==null;)K0(jn)}function Tm(f,p){var S=tn;tn|=2;var R=uu(),B=ud();xn!==f||kn!==p?(pa=null,La=ke()+500,cd(f,p)):Cl=_n(f,p);e:do try{if(Kn!==0&&jn!==null){p=jn;var G=Qi;t:switch(Kn){case 1:Kn=0,Qi=null,Cf(f,p,G,1);break;case 2:case 9:if(js(G)){Kn=0,Qi=null,Am(p);break}p=function(){Kn!==2&&Kn!==9||xn!==f||(Kn=7),vt(f)},G.then(p,p);break e;case 3:Kn=7;break e;case 4:Kn=5;break e;case 7:js(G)?(Kn=0,Qi=null,Am(p)):(Kn=0,Qi=null,Cf(f,p,G,7));break;case 5:var se=null;switch(jn.tag){case 26:se=jn.memoizedState;case 5:case 27:var fe=jn;if(se?XM(se):fe.stateNode.complete){Kn=0,Qi=null;var Ae=fe.sibling;if(Ae!==null)jn=Ae;else{var We=fe.return;We!==null?(jn=We,dd(We)):jn=null}break t}}Kn=0,Qi=null,Cf(f,p,G,5);break;case 6:Kn=0,Qi=null,Cf(f,p,G,6);break;case 8:ld(),ha=6;break e;default:throw Error(r(462))}}Ls();break}catch(lt){dc(f,lt)}while(!0);return ec=Yu=null,F.H=R,F.A=B,tn=S,jn!==null?0:(xn=null,kn=0,im(),ha)}function Ls(){for(;jn!==null&&!De();)K0(jn)}function K0(f){var p=G0(f.alternate,f,fo);f.memoizedProps=f.pendingProps,p===null?dd(f):jn=p}function Am(f){var p=f,S=p.alternate;switch(p.tag){case 15:case 0:p=bm(S,p,p.pendingProps,p.type,void 0,kn);break;case 11:p=bm(S,p,p.pendingProps,p.type.render,p.ref,kn);break;case 5:jb(p);default:co(S,p),p=jn=fh(p,fo),p=G0(S,p,fo)}f.memoizedProps=f.pendingProps,p===null?dd(f):jn=p}function Cf(f,p,S,R){ec=Yu=null,jb(p),cf=null,uf=0;var B=p.return;try{if(ri(f,B,p,S,kn)){ha=1,N0(f,io(S,f.current)),jn=null;return}}catch(G){if(B!==null)throw jn=B,G;ha=1,N0(f,io(S,f.current)),jn=null;return}p.flags&32768?(qn||R===1?f=!0:Cl||(kn&536870912)!==0?f=!1:(Go=f=!0,(R===2||R===9||R===3||R===6)&&(R=Os.current,R!==null&&R.tag===13&&(R.flags|=16384))),Rm(p,f)):dd(p)}function dd(f){var p=f;do{if((p.flags&32768)!==0){Rm(p,Go);return}f=p.return;var S=Sm(p.alternate,p,fo);if(S!==null){jn=S;return}if(p=p.sibling,p!==null){jn=p;return}jn=p=f}while(p!==null);ha===0&&(ha=5)}function Rm(f,p){do{var S=zo(f.alternate,f);if(S!==null){S.flags&=32767,jn=S;return}if(S=f.return,S!==null&&(S.flags|=32768,S.subtreeFlags=0,S.deletions=null),!p&&(f=f.sibling,f!==null)){jn=f;return}jn=f=S}while(f!==null);ha=6,jn=null}function du(f,p,S,R,B,G,se,fe,Ae){f.cancelPendingCommit=null;do Nh();while(wr!==0);if((tn&6)!==0)throw Error(r(327));if(p!==null){if(p===f.current)throw Error(r(177));if(G=p.lanes|p.childLanes,G|=gi,Dt(f,S,G,se,fe,Ae),f===xn&&(jn=xn=null,kn=0),Ih=p,ho=f,qo=S,jh=G,Oh=B,Em=R,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,X(Me,function(){return X0(),null})):(f.callbackNode=null,f.callbackPriority=0),R=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||R){R=F.T,F.T=null,B=W.p,W.p=2,se=tn,tn|=4;try{oE(f,p,S)}finally{tn=se,W.p=B,F.T=R}}wr=1,Ka(),fu(),wf()}}function Ka(){if(wr===1){wr=0;var f=ho,p=Ih,S=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||S){S=F.T,F.T=null;var R=W.p;W.p=2;var B=tn;tn|=4;try{rd(p,f);var G=pE,se=KS(f.containerInfo),fe=G.focusedElem,Ae=G.selectionRange;if(se!==fe&&fe&&fe.ownerDocument&&zr(fe.ownerDocument.documentElement,fe)){if(Ae!==null&&hb(fe)){var We=Ae.start,lt=Ae.end;if(lt===void 0&&(lt=We),"selectionStart"in fe)fe.selectionStart=We,fe.selectionEnd=Math.min(lt,fe.value.length);else{var pt=fe.ownerDocument||document,Ze=pt&&pt.defaultView||window;if(Ze.getSelection){var at=Ze.getSelection(),Qt=fe.textContent.length,pn=Math.min(Ae.start,Qt),Ur=Ae.end===void 0?pn:Math.min(Ae.end,Qt);!at.extend&&pn>Ur&&(se=Ur,Ur=pn,pn=se);var ze=ch(fe,pn),Oe=ch(fe,Ur);if(ze&&Oe&&(at.rangeCount!==1||at.anchorNode!==ze.node||at.anchorOffset!==ze.offset||at.focusNode!==Oe.node||at.focusOffset!==Oe.offset)){var Ve=pt.createRange();Ve.setStart(ze.node,ze.offset),at.removeAllRanges(),pn>Ur?(at.addRange(Ve),at.extend(Oe.node,Oe.offset)):(Ve.setEnd(Oe.node,Oe.offset),at.addRange(Ve))}}}}for(pt=[],at=fe;at=at.parentNode;)at.nodeType===1&&pt.push({element:at,left:at.scrollLeft,top:at.scrollTop});for(typeof fe.focus=="function"&&fe.focus(),fe=0;fe<pt.length;fe++){var dt=pt[fe];dt.element.scrollLeft=dt.left,dt.element.scrollTop=dt.top}}r_=!!hE,pE=hE=null}finally{tn=B,W.p=R,F.T=S}}f.current=p,wr=2}}function fu(){if(wr===2){wr=0;var f=ho,p=Ih,S=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||S){S=F.T,F.T=null;var R=W.p;W.p=2;var B=tn;tn|=4;try{Zr(f,p.alternate,p)}finally{tn=B,W.p=R,F.T=S}}wr=3}}function wf(){if(wr===4||wr===3){wr=0,Xe();var f=ho,p=Ih,S=qo,R=Em;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?wr=5:(wr=0,Ih=ho=null,fc(f,f.pendingLanes));var B=f.pendingLanes;if(B===0&&(za=null),vr(S),p=p.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(it,p,void 0,(p.current.flags&128)===128)}catch{}if(R!==null){p=F.T,B=W.p,W.p=2,F.T=null;try{for(var G=f.onRecoverableError,se=0;se<R.length;se++){var fe=R[se];G(fe.value,{componentStack:fe.stack})}}finally{F.T=p,W.p=B}}(qo&3)!==0&&Nh(),vt(f),B=f.pendingLanes,(S&261930)!==0&&(B&42)!==0?f===_f?od++:(od=0,_f=f):od=0,Vt(0)}}function fc(f,p){(f.pooledCacheLanes&=p)===0&&(p=f.pooledCache,p!=null&&(f.pooledCache=null,rf(p)))}function Nh(){return Ka(),fu(),wf(),X0()}function X0(){if(wr!==5)return!1;var f=ho,p=jh;jh=0;var S=vr(qo),R=F.T,B=W.p;try{W.p=32>S?32:S,F.T=null,S=Oh,Oh=null;var G=ho,se=qo;if(wr=0,Ih=ho=null,qo=0,(tn&6)!==0)throw Error(r(331));var fe=tn;if(tn|=4,Ps(G.current),sx(G,G.current,se,S),tn=fe,Vt(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(it,G)}catch{}return!0}finally{W.p=B,F.T=R,fc(f,p)}}function cx(f,p,S){p=io(S,p),p=Jb(f.stateNode,p,2),f=Qu(f,p,2),f!==null&&(wt(f,2),vt(f))}function ar(f,p,S){if(f.tag===3)cx(f,f,S);else for(;p!==null;){if(p.tag===3){cx(p,f,S);break}else if(p.tag===1){var R=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(za===null||!za.has(R))){f=io(S,f),S=ex(2),R=Qu(p,S,2),R!==null&&(U3(S,R,p,f),wt(R,2),vt(R));break}}p=p.return}}function km(f,p,S){var R=f.pingCache;if(R===null){R=f.pingCache=new Tn;var B=new Set;R.set(p,B)}else B=R.get(p),B===void 0&&(B=new Set,R.set(p,B));B.has(S)||(ox=!0,B.add(S),f=g.bind(null,f,p,S),p.then(f,f))}function g(f,p,S){var R=f.pingCache;R!==null&&R.delete(p),f.pingedLanes|=f.suspendedLanes&S,f.warmLanes&=~S,xn===f&&(kn&S)===S&&(ha===4||ha===3&&(kn&62914560)===kn&&300>ke()-kh?(tn&2)===0&&cd(f,0):wm|=S,Gr===kn&&(Gr=0)),vt(f)}function b(f,p){p===0&&(p=Ut()),f=us(f,p),f!==null&&(wt(f,p),vt(f))}function k(f){var p=f.memoizedState,S=0;p!==null&&(S=p.retryLane),b(f,S)}function z(f,p){var S=0;switch(f.tag){case 31:case 13:var R=f.stateNode,B=f.memoizedState;B!==null&&(S=B.retryLane);break;case 19:R=f.stateNode;break;case 22:R=f.stateNode._retryCache;break;default:throw Error(r(314))}R!==null&&R.delete(p),b(f,S)}function X(f,p){return Pe(f,p)}var ne=null,de=null,Re=!1,tt=!1,gt=!1,It=0;function vt(f){f!==de&&f.next===null&&(de===null?ne=de=f:de=de.next=f),tt=!0,Re||(Re=!0,Fe())}function Vt(f,p){if(!gt&&tt){gt=!0;do for(var S=!1,R=ne;R!==null;){if(f!==0){var B=R.pendingLanes;if(B===0)var G=0;else{var se=R.suspendedLanes,fe=R.pingedLanes;G=(1<<31-ft(42|f)+1)-1,G&=B&~(se&~fe),G=G&201326741?G&201326741|1:G?G|2:0}G!==0&&(S=!0,Ye(R,G))}else G=kn,G=hn(R,R===xn?G:0,R.cancelPendingCommit!==null||R.timeoutHandle!==-1),(G&3)===0||_n(R,G)||(S=!0,Ye(R,G));R=R.next}while(S);gt=!1}}function wn(){Si()}function Si(){tt=Re=!1;var f=0;It!==0&&oie()&&(f=It);for(var p=ke(),S=null,R=ne;R!==null;){var B=R.next,G=Ph(R,p);G===0?(R.next=null,S===null?ne=B:S.next=B,B===null&&(de=S)):(S=R,(f!==0||(G&3)!==0)&&(tt=!0)),R=B}wr!==0&&wr!==5||Vt(f),It!==0&&(It=0)}function Ph(f,p){for(var S=f.suspendedLanes,R=f.pingedLanes,B=f.expirationTimes,G=f.pendingLanes&-62914561;0<G;){var se=31-ft(G),fe=1<<se,Ae=B[se];Ae===-1?((fe&S)===0||(fe&R)!==0)&&(B[se]=Cn(fe,p)):Ae<=p&&(f.expiredLanes|=fe),G&=~fe}if(p=xn,S=kn,S=hn(f,f===p?S:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),R=f.callbackNode,S===0||f===p&&(Kn===2||Kn===9)||f.cancelPendingCommit!==null)return R!==null&&R!==null&&Le(R),f.callbackNode=null,f.callbackPriority=0;if((S&3)===0||_n(f,S)){if(p=S&-S,p===f.callbackPriority)return p;switch(R!==null&&Le(R),vr(S)){case 2:case 8:S=Ce;break;case 32:S=Me;break;case 268435456:S=Qe;break;default:S=Me}return R=fd.bind(null,f),S=Pe(S,R),f.callbackPriority=p,f.callbackNode=S,p}return R!==null&&R!==null&&Le(R),f.callbackPriority=2,f.callbackNode=null,2}function fd(f,p){if(wr!==0&&wr!==5)return f.callbackNode=null,f.callbackPriority=0,null;var S=f.callbackNode;if(Nh()&&f.callbackNode!==S)return null;var R=kn;return R=hn(f,f===xn?R:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),R===0?null:(Bn(f,R,p),Ph(f,ke()),f.callbackNode!=null&&f.callbackNode===S?fd.bind(null,f):null)}function Ye(f,p){if(Nh())return null;Bn(f,p,!0)}function Fe(){cie(function(){(tn&6)!==0?Pe(ye,wn):Si()})}function et(){if(It===0){var f=tu;f===0&&(f=zn,zn<<=1,(zn&261888)===0&&(zn=256)),It=f}return It}function Et(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:Wc(""+f)}function cn(f,p){var S=p.ownerDocument.createElement("input");return S.name=p.name,S.value=p.value,f.id&&S.setAttribute("form",f.id),p.parentNode.insertBefore(S,p),f=new FormData(f),S.parentNode.removeChild(S),f}function ga(f,p,S,R,B){if(p==="submit"&&S&&S.stateNode===B){var G=Et((B[oa]||null).action),se=R.submitter;se&&(p=(p=se[oa]||null)?Et(p.formAction):se.getAttribute("formAction"),p!==null&&(G=p,se=null));var fe=new Ro("action","action",null,R,B);f.push({event:fe,listeners:[{instance:null,listener:function(){if(R.defaultPrevented){if(It!==0){var Ae=se?cn(B,se):new FormData(B);qb(S,{pending:!0,data:Ae,method:B.method,action:G},null,Ae)}}else typeof G=="function"&&(fe.preventDefault(),Ae=se?cn(B,se):new FormData(B),qb(S,{pending:!0,data:Ae,method:B.method,action:G},G,Ae))},currentTarget:B}]})}}for(var dn=0;dn<rm.length;dn++){var tr=rm[dn],_i=tr.toLowerCase(),dr=tr[0].toUpperCase()+tr.slice(1);jo(_i,"on"+dr)}jo(c0,"onAnimationEnd"),jo(nm,"onAnimationIteration"),jo(mb,"onAnimationStart"),jo("dblclick","onDoubleClick"),jo("focusin","onFocus"),jo("focusout","onBlur"),jo(QS,"onTransitionRun"),jo(Jw,"onTransitionStart"),jo(ZS,"onTransitionCancel"),jo(gb,"onTransitionEnd"),la("onMouseEnter",["mouseout","mouseover"]),la("onMouseLeave",["mouseout","mouseover"]),la("onPointerEnter",["pointerout","pointerover"]),la("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vo));function AM(f,p){p=(p&4)!==0;for(var S=0;S<f.length;S++){var R=f[S],B=R.event;R=R.listeners;e:{var G=void 0;if(p)for(var se=R.length-1;0<=se;se--){var fe=R[se],Ae=fe.instance,We=fe.currentTarget;if(fe=fe.listener,Ae!==G&&B.isPropagationStopped())break e;G=fe,B.currentTarget=We;try{G(B)}catch(lt){am(lt)}B.currentTarget=null,G=Ae}else for(se=0;se<R.length;se++){if(fe=R[se],Ae=fe.instance,We=fe.currentTarget,fe=fe.listener,Ae!==G&&B.isPropagationStopped())break e;G=fe,B.currentTarget=We;try{G(B)}catch(lt){am(lt)}B.currentTarget=null,G=Ae}}}}function Xn(f,p){var S=p[ti];S===void 0&&(S=p[ti]=new Set);var R=f+"__bubble";S.has(R)||(RM(p,f,2,!1),S.add(R))}function cE(f,p,S){var R=0;p&&(R|=4),RM(S,f,R,p)}var Y3="_reactListening"+Math.random().toString(36).slice(2);function uE(f){if(!f[Y3]){f[Y3]=!0,pi.forEach(function(S){S!=="selectionchange"&&(lE.has(S)||cE(S,!1,f),cE(S,!0,f))});var p=f.nodeType===9?f:f.ownerDocument;p===null||p[Y3]||(p[Y3]=!0,cE("selectionchange",!1,p))}}function RM(f,p,S,R){switch(rN(p)){case 2:var B=kie;break;case 8:B=Iie;break;default:B=EE}S=B.bind(null,p,S,f),B=void 0,!$l||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(B=!0),R?B!==void 0?f.addEventListener(p,S,{capture:!0,passive:B}):f.addEventListener(p,S,!0):B!==void 0?f.addEventListener(p,S,{passive:B}):f.addEventListener(p,S,!1)}function dE(f,p,S,R,B){var G=R;if((p&1)===0&&(p&2)===0&&R!==null)e:for(;;){if(R===null)return;var se=R.tag;if(se===3||se===4){var fe=R.stateNode.containerInfo;if(fe===B)break;if(se===4)for(se=R.return;se!==null;){var Ae=se.tag;if((Ae===3||Ae===4)&&se.stateNode.containerInfo===B)return;se=se.return}for(;fe!==null;){if(se=Xs(fe),se===null)return;if(Ae=se.tag,Ae===5||Ae===6||Ae===26||Ae===27){R=G=se;continue e}fe=fe.parentNode}}R=R.return}Ul(function(){var We=G,lt=pl(S),pt=[];e:{var Ze=Io.get(f);if(Ze!==void 0){var at=Ro,Qt=f;switch(f){case"keypress":if(Ao(S)===0)break e;case"keydown":case"keyup":at=Zd;break;case"focusin":Qt="focus",at=e0;break;case"focusout":Qt="blur",at=e0;break;case"beforeblur":case"afterblur":at=e0;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=jS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=LS;break;case c0:case nm:case mb:at=Xw;break;case gb:at=Zw;break;case"scroll":case"scrollend":at=Kc;break;case"wheel":at=FS;break;case"copy":case"cut":case"paste":at=DS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=tb;break;case"toggle":case"beforetoggle":at=HS}var pn=(p&4)!==0,Ur=!pn&&(f==="scroll"||f==="scrollend"),ze=pn?Ze!==null?Ze+"Capture":null:Ze;pn=[];for(var Oe=We,Ve;Oe!==null;){var dt=Oe;if(Ve=dt.stateNode,dt=dt.tag,dt!==5&&dt!==26&&dt!==27||Ve===null||ze===null||(dt=ro(Oe,ze),dt!=null&&pn.push(ux(Oe,dt,Ve))),Ur)break;Oe=Oe.return}0<pn.length&&(Ze=new at(Ze,Qt,null,S,lt),pt.push({event:Ze,listeners:pn}))}}if((p&7)===0){e:{if(Ze=f==="mouseover"||f==="pointerover",at=f==="mouseout"||f==="pointerout",Ze&&S!==hl&&(Qt=S.relatedTarget||S.fromElement)&&(Xs(Qt)||Qt[ji]))break e;if((at||Ze)&&(Ze=lt.window===lt?lt:(Ze=lt.ownerDocument)?Ze.defaultView||Ze.parentWindow:window,at?(Qt=S.relatedTarget||S.toElement,at=We,Qt=Qt?Xs(Qt):null,Qt!==null&&(Ur=i(Qt),pn=Qt.tag,Qt!==Ur||pn!==5&&pn!==27&&pn!==6)&&(Qt=null)):(at=null,Qt=We),at!==Qt)){if(pn=ql,dt="onMouseLeave",ze="onMouseEnter",Oe="mouse",(f==="pointerout"||f==="pointerover")&&(pn=tb,dt="onPointerLeave",ze="onPointerEnter",Oe="pointer"),Ur=at==null?Ze:Qs(at),Ve=Qt==null?Ze:Qs(Qt),Ze=new pn(dt,Oe+"leave",at,S,lt),Ze.target=Ur,Ze.relatedTarget=Ve,dt=null,Xs(lt)===We&&(pn=new pn(ze,Oe+"enter",Qt,S,lt),pn.target=Ve,pn.relatedTarget=Ur,dt=pn),Ur=dt,at&&Qt)t:{for(pn=nie,ze=at,Oe=Qt,Ve=0,dt=ze;dt;dt=pn(dt))Ve++;dt=0;for(var ln=Oe;ln;ln=pn(ln))dt++;for(;0<Ve-dt;)ze=pn(ze),Ve--;for(;0<dt-Ve;)Oe=pn(Oe),dt--;for(;Ve--;){if(ze===Oe||Oe!==null&&ze===Oe.alternate){pn=ze;break t}ze=pn(ze),Oe=pn(Oe)}pn=null}else pn=null;at!==null&&kM(pt,Ze,at,pn,!1),Qt!==null&&Ur!==null&&kM(pt,Ur,Qt,pn,!0)}}e:{if(Ze=We?Qs(We):window,at=Ze.nodeName&&Ze.nodeName.toLowerCase(),at==="select"||at==="input"&&Ze.type==="file")var br=lb;else if(ob(Ze))if(Vl)br=YS;else{br=db;var Zt=VS}else at=Ze.nodeName,!at||at.toLowerCase()!=="input"||Ze.type!=="checkbox"&&Ze.type!=="radio"?We&&Fu(We.elementType)&&(br=lb):br=WS;if(br&&(br=br(f,We))){o0(pt,br,S,lt);break e}Zt&&Zt(f,Ze,We),f==="focusout"&&We&&Ze.type==="number"&&We.memoizedProps.value!=null&&mi(Ze,"number",Ze.value)}switch(Zt=We?Qs(We):window,f){case"focusin":(ob(Zt)||Zt.contentEditable==="true")&&(Wl=Zt,Yl=We,uh=null);break;case"focusout":uh=Yl=Wl=null;break;case"mousedown":l0=!0;break;case"contextmenu":case"mouseup":case"dragend":l0=!1,dh(pt,S,lt);break;case"selectionchange":if(XS)break;case"keydown":case"keyup":dh(pt,S,lt)}var Pn;if(Jd)e:{switch(f){case"compositionstart":var nr="onCompositionStart";break e;case"compositionend":nr="onCompositionEnd";break e;case"compositionupdate":nr="onCompositionUpdate";break e}nr=void 0}else ef?s0(f,S)&&(nr="onCompositionEnd"):f==="keydown"&&S.keyCode===229&&(nr="onCompositionStart");nr&&(rb&&S.locale!=="ko"&&(ef||nr!=="onCompositionStart"?nr==="onCompositionEnd"&&ef&&(Pn=To()):(qa=lt,yl="value"in qa?qa.value:qa.textContent,ef=!0)),Zt=K3(We,nr),0<Zt.length&&(nr=new t0(nr,f,null,S,lt),pt.push({event:nr,listeners:Zt}),Pn?nr.data=Pn:(Pn=ab(S),Pn!==null&&(nr.data=Pn)))),(Pn=i0?GS(f,S):ib(f,S))&&(nr=K3(We,"onBeforeInput"),0<nr.length&&(Zt=new t0("onBeforeInput","beforeinput",null,S,lt),pt.push({event:Zt,listeners:nr}),Zt.data=Pn)),ga(pt,f,We,S,lt)}AM(pt,p)})}function ux(f,p,S){return{instance:f,listener:p,currentTarget:S}}function K3(f,p){for(var S=p+"Capture",R=[];f!==null;){var B=f,G=B.stateNode;if(B=B.tag,B!==5&&B!==26&&B!==27||G===null||(B=ro(f,S),B!=null&&R.unshift(ux(f,B,G)),B=ro(f,p),B!=null&&R.push(ux(f,B,G))),f.tag===3)return R;f=f.return}return[]}function nie(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function kM(f,p,S,R,B){for(var G=p._reactName,se=[];S!==null&&S!==R;){var fe=S,Ae=fe.alternate,We=fe.stateNode;if(fe=fe.tag,Ae!==null&&Ae===R)break;fe!==5&&fe!==26&&fe!==27||We===null||(Ae=We,B?(We=ro(S,G),We!=null&&se.unshift(ux(S,We,Ae))):B||(We=ro(S,G),We!=null&&se.push(ux(S,We,Ae)))),S=S.return}se.length!==0&&f.push({event:p,listeners:se})}var rie=/\r\n?/g,aie=/\u0000|\uFFFD/g;function IM(f){return(typeof f=="string"?f:""+f).replace(rie,`
`).replace(aie,"")}function jM(f,p){return p=IM(p),IM(f)===p}function Hr(f,p,S,R,B,G){switch(S){case"children":typeof R=="string"?p==="body"||p==="textarea"&&R===""||fl(f,R):(typeof R=="number"||typeof R=="bigint")&&p!=="body"&&fl(f,""+R);break;case"className":Eo(f,"class",R);break;case"tabIndex":Eo(f,"tabindex",R);break;case"dir":case"role":case"viewBox":case"width":case"height":Eo(f,S,R);break;case"style":Fl(f,R,G);break;case"data":if(p!=="object"){Eo(f,"data",R);break}case"src":case"href":if(R===""&&(p!=="a"||S!=="href")){f.removeAttribute(S);break}if(R==null||typeof R=="function"||typeof R=="symbol"||typeof R=="boolean"){f.removeAttribute(S);break}R=Wc(""+R),f.setAttribute(S,R);break;case"action":case"formAction":if(typeof R=="function"){f.setAttribute(S,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof G=="function"&&(S==="formAction"?(p!=="input"&&Hr(f,p,"name",B.name,B,null),Hr(f,p,"formEncType",B.formEncType,B,null),Hr(f,p,"formMethod",B.formMethod,B,null),Hr(f,p,"formTarget",B.formTarget,B,null)):(Hr(f,p,"encType",B.encType,B,null),Hr(f,p,"method",B.method,B,null),Hr(f,p,"target",B.target,B,null)));if(R==null||typeof R=="symbol"||typeof R=="boolean"){f.removeAttribute(S);break}R=Wc(""+R),f.setAttribute(S,R);break;case"onClick":R!=null&&(f.onclick=Wi);break;case"onScroll":R!=null&&Xn("scroll",f);break;case"onScrollEnd":R!=null&&Xn("scrollend",f);break;case"dangerouslySetInnerHTML":if(R!=null){if(typeof R!="object"||!("__html"in R))throw Error(r(61));if(S=R.__html,S!=null){if(B.children!=null)throw Error(r(60));f.innerHTML=S}}break;case"multiple":f.multiple=R&&typeof R!="function"&&typeof R!="symbol";break;case"muted":f.muted=R&&typeof R!="function"&&typeof R!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(R==null||typeof R=="function"||typeof R=="boolean"||typeof R=="symbol"){f.removeAttribute("xlink:href");break}S=Wc(""+R),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",S);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":R!=null&&typeof R!="function"&&typeof R!="symbol"?f.setAttribute(S,""+R):f.removeAttribute(S);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":R&&typeof R!="function"&&typeof R!="symbol"?f.setAttribute(S,""):f.removeAttribute(S);break;case"capture":case"download":R===!0?f.setAttribute(S,""):R!==!1&&R!=null&&typeof R!="function"&&typeof R!="symbol"?f.setAttribute(S,R):f.removeAttribute(S);break;case"cols":case"rows":case"size":case"span":R!=null&&typeof R!="function"&&typeof R!="symbol"&&!isNaN(R)&&1<=R?f.setAttribute(S,R):f.removeAttribute(S);break;case"rowSpan":case"start":R==null||typeof R=="function"||typeof R=="symbol"||isNaN(R)?f.removeAttribute(S):f.setAttribute(S,R);break;case"popover":Xn("beforetoggle",f),Xn("toggle",f),Js(f,"popover",R);break;case"xlinkActuate":Mi(f,"http://www.w3.org/1999/xlink","xlink:actuate",R);break;case"xlinkArcrole":Mi(f,"http://www.w3.org/1999/xlink","xlink:arcrole",R);break;case"xlinkRole":Mi(f,"http://www.w3.org/1999/xlink","xlink:role",R);break;case"xlinkShow":Mi(f,"http://www.w3.org/1999/xlink","xlink:show",R);break;case"xlinkTitle":Mi(f,"http://www.w3.org/1999/xlink","xlink:title",R);break;case"xlinkType":Mi(f,"http://www.w3.org/1999/xlink","xlink:type",R);break;case"xmlBase":Mi(f,"http://www.w3.org/XML/1998/namespace","xml:base",R);break;case"xmlLang":Mi(f,"http://www.w3.org/XML/1998/namespace","xml:lang",R);break;case"xmlSpace":Mi(f,"http://www.w3.org/XML/1998/namespace","xml:space",R);break;case"is":Js(f,"is",R);break;case"innerText":case"textContent":break;default:(!(2<S.length)||S[0]!=="o"&&S[0]!=="O"||S[1]!=="n"&&S[1]!=="N")&&(S=Qd.get(S)||S,Js(f,S,R))}}function fE(f,p,S,R,B,G){switch(S){case"style":Fl(f,R,G);break;case"dangerouslySetInnerHTML":if(R!=null){if(typeof R!="object"||!("__html"in R))throw Error(r(61));if(S=R.__html,S!=null){if(B.children!=null)throw Error(r(60));f.innerHTML=S}}break;case"children":typeof R=="string"?fl(f,R):(typeof R=="number"||typeof R=="bigint")&&fl(f,""+R);break;case"onScroll":R!=null&&Xn("scroll",f);break;case"onScrollEnd":R!=null&&Xn("scrollend",f);break;case"onClick":R!=null&&(f.onclick=Wi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zs.hasOwnProperty(S))e:{if(S[0]==="o"&&S[1]==="n"&&(B=S.endsWith("Capture"),p=S.slice(2,B?S.length-7:void 0),G=f[oa]||null,G=G!=null?G[S]:null,typeof G=="function"&&f.removeEventListener(p,G,B),typeof R=="function")){typeof G!="function"&&G!==null&&(S in f?f[S]=null:f.hasAttribute(S)&&f.removeAttribute(S)),f.addEventListener(p,R,B);break e}S in f?f[S]=R:R===!0?f.setAttribute(S,""):Js(f,S,R)}}}function bs(f,p,S){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xn("error",f),Xn("load",f);var R=!1,B=!1,G;for(G in S)if(S.hasOwnProperty(G)){var se=S[G];if(se!=null)switch(G){case"src":R=!0;break;case"srcSet":B=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,p));default:Hr(f,p,G,se,S,null)}}B&&Hr(f,p,"srcSet",S.srcSet,S,null),R&&Hr(f,p,"src",S.src,S,null);return;case"input":Xn("invalid",f);var fe=G=se=B=null,Ae=null,We=null;for(R in S)if(S.hasOwnProperty(R)){var lt=S[R];if(lt!=null)switch(R){case"name":B=lt;break;case"type":se=lt;break;case"checked":Ae=lt;break;case"defaultChecked":We=lt;break;case"value":G=lt;break;case"defaultValue":fe=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(r(137,p));break;default:Hr(f,p,R,lt,S,null)}}ul(f,G,fe,Ae,We,se,B,!1);return;case"select":Xn("invalid",f),R=se=G=null;for(B in S)if(S.hasOwnProperty(B)&&(fe=S[B],fe!=null))switch(B){case"value":G=fe;break;case"defaultValue":se=fe;break;case"multiple":R=fe;default:Hr(f,p,B,fe,S,null)}p=G,S=se,f.multiple=!!R,p!=null?to(f,!!R,p,!1):S!=null&&to(f,!!R,S,!0);return;case"textarea":Xn("invalid",f),G=B=R=null;for(se in S)if(S.hasOwnProperty(se)&&(fe=S[se],fe!=null))switch(se){case"value":R=fe;break;case"defaultValue":B=fe;break;case"children":G=fe;break;case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(91));break;default:Hr(f,p,se,fe,S,null)}dl(f,R,B,G);return;case"option":for(Ae in S)if(S.hasOwnProperty(Ae)&&(R=S[Ae],R!=null))switch(Ae){case"selected":f.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:Hr(f,p,Ae,R,S,null)}return;case"dialog":Xn("beforetoggle",f),Xn("toggle",f),Xn("cancel",f),Xn("close",f);break;case"iframe":case"object":Xn("load",f);break;case"video":case"audio":for(R=0;R<Vo.length;R++)Xn(Vo[R],f);break;case"image":Xn("error",f),Xn("load",f);break;case"details":Xn("toggle",f);break;case"embed":case"source":case"link":Xn("error",f),Xn("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(We in S)if(S.hasOwnProperty(We)&&(R=S[We],R!=null))switch(We){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,p));default:Hr(f,p,We,R,S,null)}return;default:if(Fu(p)){for(lt in S)S.hasOwnProperty(lt)&&(R=S[lt],R!==void 0&&fE(f,p,lt,R,S,void 0));return}}for(fe in S)S.hasOwnProperty(fe)&&(R=S[fe],R!=null&&Hr(f,p,fe,R,S,null))}function iie(f,p,S,R){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var B=null,G=null,se=null,fe=null,Ae=null,We=null,lt=null;for(at in S){var pt=S[at];if(S.hasOwnProperty(at)&&pt!=null)switch(at){case"checked":break;case"value":break;case"defaultValue":Ae=pt;default:R.hasOwnProperty(at)||Hr(f,p,at,null,R,pt)}}for(var Ze in R){var at=R[Ze];if(pt=S[Ze],R.hasOwnProperty(Ze)&&(at!=null||pt!=null))switch(Ze){case"type":G=at;break;case"name":B=at;break;case"checked":We=at;break;case"defaultChecked":lt=at;break;case"value":se=at;break;case"defaultValue":fe=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(r(137,p));break;default:at!==pt&&Hr(f,p,Ze,at,R,pt)}}eo(f,se,fe,Ae,We,lt,G,B);return;case"select":at=se=fe=Ze=null;for(G in S)if(Ae=S[G],S.hasOwnProperty(G)&&Ae!=null)switch(G){case"value":break;case"multiple":at=Ae;default:R.hasOwnProperty(G)||Hr(f,p,G,null,R,Ae)}for(B in R)if(G=R[B],Ae=S[B],R.hasOwnProperty(B)&&(G!=null||Ae!=null))switch(B){case"value":Ze=G;break;case"defaultValue":fe=G;break;case"multiple":se=G;default:G!==Ae&&Hr(f,p,B,G,R,Ae)}p=fe,S=se,R=at,Ze!=null?to(f,!!S,Ze,!1):!!R!=!!S&&(p!=null?to(f,!!S,p,!0):to(f,!!S,S?[]:"",!1));return;case"textarea":at=Ze=null;for(fe in S)if(B=S[fe],S.hasOwnProperty(fe)&&B!=null&&!R.hasOwnProperty(fe))switch(fe){case"value":break;case"children":break;default:Hr(f,p,fe,null,R,B)}for(se in R)if(B=R[se],G=S[se],R.hasOwnProperty(se)&&(B!=null||G!=null))switch(se){case"value":Ze=B;break;case"defaultValue":at=B;break;case"children":break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:B!==G&&Hr(f,p,se,B,R,G)}qc(f,Ze,at);return;case"option":for(var Qt in S)if(Ze=S[Qt],S.hasOwnProperty(Qt)&&Ze!=null&&!R.hasOwnProperty(Qt))switch(Qt){case"selected":f.selected=!1;break;default:Hr(f,p,Qt,null,R,Ze)}for(Ae in R)if(Ze=R[Ae],at=S[Ae],R.hasOwnProperty(Ae)&&Ze!==at&&(Ze!=null||at!=null))switch(Ae){case"selected":f.selected=Ze&&typeof Ze!="function"&&typeof Ze!="symbol";break;default:Hr(f,p,Ae,Ze,R,at)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pn in S)Ze=S[pn],S.hasOwnProperty(pn)&&Ze!=null&&!R.hasOwnProperty(pn)&&Hr(f,p,pn,null,R,Ze);for(We in R)if(Ze=R[We],at=S[We],R.hasOwnProperty(We)&&Ze!==at&&(Ze!=null||at!=null))switch(We){case"children":case"dangerouslySetInnerHTML":if(Ze!=null)throw Error(r(137,p));break;default:Hr(f,p,We,Ze,R,at)}return;default:if(Fu(p)){for(var Ur in S)Ze=S[Ur],S.hasOwnProperty(Ur)&&Ze!==void 0&&!R.hasOwnProperty(Ur)&&fE(f,p,Ur,void 0,R,Ze);for(lt in R)Ze=R[lt],at=S[lt],!R.hasOwnProperty(lt)||Ze===at||Ze===void 0&&at===void 0||fE(f,p,lt,Ze,R,at);return}}for(var ze in S)Ze=S[ze],S.hasOwnProperty(ze)&&Ze!=null&&!R.hasOwnProperty(ze)&&Hr(f,p,ze,null,R,Ze);for(pt in R)Ze=R[pt],at=S[pt],!R.hasOwnProperty(pt)||Ze===at||Ze==null&&at==null||Hr(f,p,pt,Ze,R,at)}function OM(f){switch(f){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sie(){if(typeof performance.getEntriesByType=="function"){for(var f=0,p=0,S=performance.getEntriesByType("resource"),R=0;R<S.length;R++){var B=S[R],G=B.transferSize,se=B.initiatorType,fe=B.duration;if(G&&fe&&OM(se)){for(se=0,fe=B.responseEnd,R+=1;R<S.length;R++){var Ae=S[R],We=Ae.startTime;if(We>fe)break;var lt=Ae.transferSize,pt=Ae.initiatorType;lt&&OM(pt)&&(Ae=Ae.responseEnd,se+=lt*(Ae<fe?1:(fe-We)/(Ae-We)))}if(--R,p+=8*(G+se)/(B.duration/1e3),f++,10<f)break}}if(0<f)return p/f/1e6}return navigator.connection&&(f=navigator.connection.downlink,typeof f=="number")?f:5}var hE=null,pE=null;function X3(f){return f.nodeType===9?f:f.ownerDocument}function DM(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function MM(f,p){if(f===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&p==="foreignObject"?0:f}function mE(f,p){return f==="textarea"||f==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var gE=null;function oie(){var f=window.event;return f&&f.type==="popstate"?f===gE?!1:(gE=f,!0):(gE=null,!1)}var NM=typeof setTimeout=="function"?setTimeout:void 0,lie=typeof clearTimeout=="function"?clearTimeout:void 0,PM=typeof Promise=="function"?Promise:void 0,cie=typeof queueMicrotask=="function"?queueMicrotask:typeof PM<"u"?function(f){return PM.resolve(null).then(f).catch(uie)}:NM;function uie(f){setTimeout(function(){throw f})}function Lh(f){return f==="head"}function LM(f,p){var S=p,R=0;do{var B=S.nextSibling;if(f.removeChild(S),B&&B.nodeType===8)if(S=B.data,S==="/$"||S==="/&"){if(R===0){f.removeChild(B),e1(p);return}R--}else if(S==="$"||S==="$?"||S==="$~"||S==="$!"||S==="&")R++;else if(S==="html")dx(f.ownerDocument.documentElement);else if(S==="head"){S=f.ownerDocument.head,dx(S);for(var G=S.firstChild;G;){var se=G.nextSibling,fe=G.nodeName;G[hi]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&G.rel.toLowerCase()==="stylesheet"||S.removeChild(G),G=se}}else S==="body"&&dx(f.ownerDocument.body);S=B}while(S);e1(p)}function zM(f,p){var S=f;f=0;do{var R=S.nextSibling;if(S.nodeType===1?p?(S._stashedDisplay=S.style.display,S.style.display="none"):(S.style.display=S._stashedDisplay||"",S.getAttribute("style")===""&&S.removeAttribute("style")):S.nodeType===3&&(p?(S._stashedText=S.nodeValue,S.nodeValue=""):S.nodeValue=S._stashedText||""),R&&R.nodeType===8)if(S=R.data,S==="/$"){if(f===0)break;f--}else S!=="$"&&S!=="$?"&&S!=="$~"&&S!=="$!"||f++;S=R}while(S)}function yE(f){var p=f.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var S=p;switch(p=p.nextSibling,S.nodeName){case"HTML":case"HEAD":case"BODY":yE(S),Vi(S);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(S.rel.toLowerCase()==="stylesheet")continue}f.removeChild(S)}}function die(f,p,S,R){for(;f.nodeType===1;){var B=S;if(f.nodeName.toLowerCase()!==p.toLowerCase()){if(!R&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(R){if(!f[hi])switch(p){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(G=f.getAttribute("rel"),G==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(G!==B.rel||f.getAttribute("href")!==(B.href==null||B.href===""?null:B.href)||f.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin)||f.getAttribute("title")!==(B.title==null?null:B.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(G=f.getAttribute("src"),(G!==(B.src==null?null:B.src)||f.getAttribute("type")!==(B.type==null?null:B.type)||f.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin))&&G&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(p==="input"&&f.type==="hidden"){var G=B.name==null?null:""+B.name;if(B.type==="hidden"&&f.getAttribute("name")===G)return f}else return f;if(f=hc(f.nextSibling),f===null)break}return null}function fie(f,p,S){if(p==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!S||(f=hc(f.nextSibling),f===null))return null;return f}function FM(f,p){for(;f.nodeType!==8;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!p||(f=hc(f.nextSibling),f===null))return null;return f}function bE(f){return f.data==="$?"||f.data==="$~"}function xE(f){return f.data==="$!"||f.data==="$?"&&f.ownerDocument.readyState!=="loading"}function hie(f,p){var S=f.ownerDocument;if(f.data==="$~")f._reactRetry=p;else if(f.data!=="$?"||S.readyState!=="loading")p();else{var R=function(){p(),S.removeEventListener("DOMContentLoaded",R)};S.addEventListener("DOMContentLoaded",R),f._reactRetry=R}}function hc(f){for(;f!=null;f=f.nextSibling){var p=f.nodeType;if(p===1||p===3)break;if(p===8){if(p=f.data,p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"||p==="F!"||p==="F")break;if(p==="/$"||p==="/&")return null}}return f}var vE=null;function BM(f){f=f.nextSibling;for(var p=0;f;){if(f.nodeType===8){var S=f.data;if(S==="/$"||S==="/&"){if(p===0)return hc(f.nextSibling);p--}else S!=="$"&&S!=="$!"&&S!=="$?"&&S!=="$~"&&S!=="&"||p++}f=f.nextSibling}return null}function HM(f){f=f.previousSibling;for(var p=0;f;){if(f.nodeType===8){var S=f.data;if(S==="$"||S==="$!"||S==="$?"||S==="$~"||S==="&"){if(p===0)return f;p--}else S!=="/$"&&S!=="/&"||p++}f=f.previousSibling}return null}function UM(f,p,S){switch(p=X3(S),f){case"html":if(f=p.documentElement,!f)throw Error(r(452));return f;case"head":if(f=p.head,!f)throw Error(r(453));return f;case"body":if(f=p.body,!f)throw Error(r(454));return f;default:throw Error(r(451))}}function dx(f){for(var p=f.attributes;p.length;)f.removeAttributeNode(p[0]);Vi(f)}var pc=new Map,$M=new Set;function Q3(f){return typeof f.getRootNode=="function"?f.getRootNode():f.nodeType===9?f:f.ownerDocument}var Ef=W.d;W.d={f:pie,r:mie,D:gie,C:yie,L:bie,m:xie,X:Sie,S:vie,M:_ie};function pie(){var f=Ef.f(),p=wl();return f||p}function mie(f){var p=Es(f);p!==null&&p.tag===5&&p.type==="form"?D3(p):Ef.r(f)}var Q0=typeof document>"u"?null:document;function GM(f,p,S){var R=Q0;if(R&&typeof p=="string"&&p){var B=Oa(p);B='link[rel="'+f+'"][href="'+B+'"]',typeof S=="string"&&(B+='[crossorigin="'+S+'"]'),$M.has(B)||($M.add(B),f={rel:f,crossOrigin:S,href:p},R.querySelector(B)===null&&(p=R.createElement("link"),bs(p,"link",f),Nr(p),R.head.appendChild(p)))}}function gie(f){Ef.D(f),GM("dns-prefetch",f,null)}function yie(f,p){Ef.C(f,p),GM("preconnect",f,p)}function bie(f,p,S){Ef.L(f,p,S);var R=Q0;if(R&&f&&p){var B='link[rel="preload"][as="'+Oa(p)+'"]';p==="image"&&S&&S.imageSrcSet?(B+='[imagesrcset="'+Oa(S.imageSrcSet)+'"]',typeof S.imageSizes=="string"&&(B+='[imagesizes="'+Oa(S.imageSizes)+'"]')):B+='[href="'+Oa(f)+'"]';var G=B;switch(p){case"style":G=Z0(f);break;case"script":G=J0(f)}pc.has(G)||(f=h({rel:"preload",href:p==="image"&&S&&S.imageSrcSet?void 0:f,as:p},S),pc.set(G,f),R.querySelector(B)!==null||p==="style"&&R.querySelector(fx(G))||p==="script"&&R.querySelector(hx(G))||(p=R.createElement("link"),bs(p,"link",f),Nr(p),R.head.appendChild(p)))}}function xie(f,p){Ef.m(f,p);var S=Q0;if(S&&f){var R=p&&typeof p.as=="string"?p.as:"script",B='link[rel="modulepreload"][as="'+Oa(R)+'"][href="'+Oa(f)+'"]',G=B;switch(R){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":G=J0(f)}if(!pc.has(G)&&(f=h({rel:"modulepreload",href:f},p),pc.set(G,f),S.querySelector(B)===null)){switch(R){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(S.querySelector(hx(G)))return}R=S.createElement("link"),bs(R,"link",f),Nr(R),S.head.appendChild(R)}}}function vie(f,p,S){Ef.S(f,p,S);var R=Q0;if(R&&f){var B=Ts(R).hoistableStyles,G=Z0(f);p=p||"default";var se=B.get(G);if(!se){var fe={loading:0,preload:null};if(se=R.querySelector(fx(G)))fe.loading=5;else{f=h({rel:"stylesheet",href:f,"data-precedence":p},S),(S=pc.get(G))&&SE(f,S);var Ae=se=R.createElement("link");Nr(Ae),bs(Ae,"link",f),Ae._p=new Promise(function(We,lt){Ae.onload=We,Ae.onerror=lt}),Ae.addEventListener("load",function(){fe.loading|=1}),Ae.addEventListener("error",function(){fe.loading|=2}),fe.loading|=4,Z3(se,p,R)}se={type:"stylesheet",instance:se,count:1,state:fe},B.set(G,se)}}}function Sie(f,p){Ef.X(f,p);var S=Q0;if(S&&f){var R=Ts(S).hoistableScripts,B=J0(f),G=R.get(B);G||(G=S.querySelector(hx(B)),G||(f=h({src:f,async:!0},p),(p=pc.get(B))&&_E(f,p),G=S.createElement("script"),Nr(G),bs(G,"link",f),S.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},R.set(B,G))}}function _ie(f,p){Ef.M(f,p);var S=Q0;if(S&&f){var R=Ts(S).hoistableScripts,B=J0(f),G=R.get(B);G||(G=S.querySelector(hx(B)),G||(f=h({src:f,async:!0,type:"module"},p),(p=pc.get(B))&&_E(f,p),G=S.createElement("script"),Nr(G),bs(G,"link",f),S.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},R.set(B,G))}}function qM(f,p,S,R){var B=(B=ie.current)?Q3(B):null;if(!B)throw Error(r(446));switch(f){case"meta":case"title":return null;case"style":return typeof S.precedence=="string"&&typeof S.href=="string"?(p=Z0(S.href),S=Ts(B).hoistableStyles,R=S.get(p),R||(R={type:"style",instance:null,count:0,state:null},S.set(p,R)),R):{type:"void",instance:null,count:0,state:null};case"link":if(S.rel==="stylesheet"&&typeof S.href=="string"&&typeof S.precedence=="string"){f=Z0(S.href);var G=Ts(B).hoistableStyles,se=G.get(f);if(se||(B=B.ownerDocument||B,se={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},G.set(f,se),(G=B.querySelector(fx(f)))&&!G._p&&(se.instance=G,se.state.loading=5),pc.has(f)||(S={rel:"preload",as:"style",href:S.href,crossOrigin:S.crossOrigin,integrity:S.integrity,media:S.media,hrefLang:S.hrefLang,referrerPolicy:S.referrerPolicy},pc.set(f,S),G||Cie(B,f,S,se.state))),p&&R===null)throw Error(r(528,""));return se}if(p&&R!==null)throw Error(r(529,""));return null;case"script":return p=S.async,S=S.src,typeof S=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=J0(S),S=Ts(B).hoistableScripts,R=S.get(p),R||(R={type:"script",instance:null,count:0,state:null},S.set(p,R)),R):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,f))}}function Z0(f){return'href="'+Oa(f)+'"'}function fx(f){return'link[rel="stylesheet"]['+f+"]"}function VM(f){return h({},f,{"data-precedence":f.precedence,precedence:null})}function Cie(f,p,S,R){f.querySelector('link[rel="preload"][as="style"]['+p+"]")?R.loading=1:(p=f.createElement("link"),R.preload=p,p.addEventListener("load",function(){return R.loading|=1}),p.addEventListener("error",function(){return R.loading|=2}),bs(p,"link",S),Nr(p),f.head.appendChild(p))}function J0(f){return'[src="'+Oa(f)+'"]'}function hx(f){return"script[async]"+f}function WM(f,p,S){if(p.count++,p.instance===null)switch(p.type){case"style":var R=f.querySelector('style[data-href~="'+Oa(S.href)+'"]');if(R)return p.instance=R,Nr(R),R;var B=h({},S,{"data-href":S.href,"data-precedence":S.precedence,href:null,precedence:null});return R=(f.ownerDocument||f).createElement("style"),Nr(R),bs(R,"style",B),Z3(R,S.precedence,f),p.instance=R;case"stylesheet":B=Z0(S.href);var G=f.querySelector(fx(B));if(G)return p.state.loading|=4,p.instance=G,Nr(G),G;R=VM(S),(B=pc.get(B))&&SE(R,B),G=(f.ownerDocument||f).createElement("link"),Nr(G);var se=G;return se._p=new Promise(function(fe,Ae){se.onload=fe,se.onerror=Ae}),bs(G,"link",R),p.state.loading|=4,Z3(G,S.precedence,f),p.instance=G;case"script":return G=J0(S.src),(B=f.querySelector(hx(G)))?(p.instance=B,Nr(B),B):(R=S,(B=pc.get(G))&&(R=h({},S),_E(R,B)),f=f.ownerDocument||f,B=f.createElement("script"),Nr(B),bs(B,"link",R),f.head.appendChild(B),p.instance=B);case"void":return null;default:throw Error(r(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(R=p.instance,p.state.loading|=4,Z3(R,S.precedence,f));return p.instance}function Z3(f,p,S){for(var R=S.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),B=R.length?R[R.length-1]:null,G=B,se=0;se<R.length;se++){var fe=R[se];if(fe.dataset.precedence===p)G=fe;else if(G!==B)break}G?G.parentNode.insertBefore(f,G.nextSibling):(p=S.nodeType===9?S.head:S,p.insertBefore(f,p.firstChild))}function SE(f,p){f.crossOrigin==null&&(f.crossOrigin=p.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=p.referrerPolicy),f.title==null&&(f.title=p.title)}function _E(f,p){f.crossOrigin==null&&(f.crossOrigin=p.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=p.referrerPolicy),f.integrity==null&&(f.integrity=p.integrity)}var J3=null;function YM(f,p,S){if(J3===null){var R=new Map,B=J3=new Map;B.set(S,R)}else B=J3,R=B.get(S),R||(R=new Map,B.set(S,R));if(R.has(f))return R;for(R.set(f,null),S=S.getElementsByTagName(f),B=0;B<S.length;B++){var G=S[B];if(!(G[hi]||G[Sr]||f==="link"&&G.getAttribute("rel")==="stylesheet")&&G.namespaceURI!=="http://www.w3.org/2000/svg"){var se=G.getAttribute(p)||"";se=f+se;var fe=R.get(se);fe?fe.push(G):R.set(se,[G])}}return R}function KM(f,p,S){f=f.ownerDocument||f,f.head.insertBefore(S,p==="title"?f.querySelector("head > title"):null)}function wie(f,p,S){if(S===1||p.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return f=p.disabled,typeof p.precedence=="string"&&f==null;default:return!0}case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function XM(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}function Eie(f,p,S,R){if(S.type==="stylesheet"&&(typeof R.media!="string"||matchMedia(R.media).matches!==!1)&&(S.state.loading&4)===0){if(S.instance===null){var B=Z0(R.href),G=p.querySelector(fx(B));if(G){p=G._p,p!==null&&typeof p=="object"&&typeof p.then=="function"&&(f.count++,f=e_.bind(f),p.then(f,f)),S.state.loading|=4,S.instance=G,Nr(G);return}G=p.ownerDocument||p,R=VM(R),(B=pc.get(B))&&SE(R,B),G=G.createElement("link"),Nr(G);var se=G;se._p=new Promise(function(fe,Ae){se.onload=fe,se.onerror=Ae}),bs(G,"link",R),S.instance=G}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(S,p),(p=S.state.preload)&&(S.state.loading&3)===0&&(f.count++,S=e_.bind(f),p.addEventListener("load",S),p.addEventListener("error",S))}}var CE=0;function Tie(f,p){return f.stylesheets&&f.count===0&&n_(f,f.stylesheets),0<f.count||0<f.imgCount?function(S){var R=setTimeout(function(){if(f.stylesheets&&n_(f,f.stylesheets),f.unsuspend){var G=f.unsuspend;f.unsuspend=null,G()}},6e4+p);0<f.imgBytes&&CE===0&&(CE=62500*sie());var B=setTimeout(function(){if(f.waitingForImages=!1,f.count===0&&(f.stylesheets&&n_(f,f.stylesheets),f.unsuspend)){var G=f.unsuspend;f.unsuspend=null,G()}},(f.imgBytes>CE?50:800)+p);return f.unsuspend=S,function(){f.unsuspend=null,clearTimeout(R),clearTimeout(B)}}:null}function e_(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)n_(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var t_=null;function n_(f,p){f.stylesheets=null,f.unsuspend!==null&&(f.count++,t_=new Map,p.forEach(Aie,f),t_=null,e_.call(f))}function Aie(f,p){if(!(p.state.loading&4)){var S=t_.get(f);if(S)var R=S.get(null);else{S=new Map,t_.set(f,S);for(var B=f.querySelectorAll("link[data-precedence],style[data-precedence]"),G=0;G<B.length;G++){var se=B[G];(se.nodeName==="LINK"||se.getAttribute("media")!=="not all")&&(S.set(se.dataset.precedence,se),R=se)}R&&S.set(null,R)}B=p.instance,se=B.getAttribute("data-precedence"),G=S.get(se)||R,G===R&&S.set(null,B),S.set(se,B),this.count++,R=e_.bind(this),B.addEventListener("load",R),B.addEventListener("error",R),G?G.parentNode.insertBefore(B,G.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(B,f.firstChild)),p.state.loading|=4}}var px={$$typeof:T,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function Rie(f,p,S,R,B,G,se,fe,Ae){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nn(0),this.hiddenUpdates=Nn(null),this.identifierPrefix=R,this.onUncaughtError=B,this.onCaughtError=G,this.onRecoverableError=se,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ae,this.incompleteTransitions=new Map}function QM(f,p,S,R,B,G,se,fe,Ae,We,lt,pt){return f=new Rie(f,p,S,se,Ae,We,lt,pt,fe),p=1,G===!0&&(p|=24),G=ua(3,null,null,p),f.current=G,G.stateNode=f,p=bb(),p.refCount++,f.pooledCache=p,p.refCount++,G.memoizedState={element:R,isDehydrated:S,cache:p},dm(G),f}function ZM(f){return f?(f=$u,f):$u}function JM(f,p,S,R,B,G){B=ZM(B),R.context===null?R.context=B:R.pendingContext=B,R=ru(p),R.payload={element:S},G=G===void 0?null:G,G!==null&&(R.callback=G),S=Qu(f,R,p),S!==null&&(On(S,f,p),Zu(S,f,p))}function eN(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var S=f.retryLane;f.retryLane=S!==0&&S<p?S:p}}function wE(f,p){eN(f,p),(f=f.alternate)&&eN(f,p)}function tN(f){if(f.tag===13||f.tag===31){var p=us(f,67108864);p!==null&&On(p,f,67108864),wE(f,67108864)}}function nN(f){if(f.tag===13||f.tag===31){var p=po();p=cr(p);var S=us(f,p);S!==null&&On(S,f,p),wE(f,p)}}var r_=!0;function kie(f,p,S,R){var B=F.T;F.T=null;var G=W.p;try{W.p=2,EE(f,p,S,R)}finally{W.p=G,F.T=B}}function Iie(f,p,S,R){var B=F.T;F.T=null;var G=W.p;try{W.p=8,EE(f,p,S,R)}finally{W.p=G,F.T=B}}function EE(f,p,S,R){if(r_){var B=TE(R);if(B===null)dE(f,p,R,a_,S),aN(f,R);else if(Oie(B,f,p,S,R))R.stopPropagation();else if(aN(f,R),p&4&&-1<jie.indexOf(f)){for(;B!==null;){var G=Es(B);if(G!==null)switch(G.tag){case 3:if(G=G.stateNode,G.current.memoizedState.isDehydrated){var se=Bt(G.pendingLanes);if(se!==0){var fe=G;for(fe.pendingLanes|=2,fe.entangledLanes|=2;se;){var Ae=1<<31-ft(se);fe.entanglements[1]|=Ae,se&=~Ae}vt(G),(tn&6)===0&&(La=ke()+500,Vt(0))}}break;case 31:case 13:fe=us(G,2),fe!==null&&On(fe,G,2),wl(),wE(G,2)}if(G=TE(R),G===null&&dE(f,p,R,a_,S),G===B)break;B=G}B!==null&&R.stopPropagation()}else dE(f,p,R,null,S)}}function TE(f){return f=pl(f),AE(f)}var a_=null;function AE(f){if(a_=null,f=Xs(f),f!==null){var p=i(f);if(p===null)f=null;else{var S=p.tag;if(S===13){if(f=s(p),f!==null)return f;f=null}else if(S===31){if(f=o(p),f!==null)return f;f=null}else if(S===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;f=null}else p!==f&&(f=null)}}return a_=f,null}function rN(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ie()){case ye:return 2;case Ce:return 8;case Me:case He:return 32;case Qe:return 268435456;default:return 32}default:return 32}}var RE=!1,zh=null,Fh=null,Bh=null,mx=new Map,gx=new Map,Hh=[],jie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aN(f,p){switch(f){case"focusin":case"focusout":zh=null;break;case"dragenter":case"dragleave":Fh=null;break;case"mouseover":case"mouseout":Bh=null;break;case"pointerover":case"pointerout":mx.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":gx.delete(p.pointerId)}}function yx(f,p,S,R,B,G){return f===null||f.nativeEvent!==G?(f={blockedOn:p,domEventName:S,eventSystemFlags:R,nativeEvent:G,targetContainers:[B]},p!==null&&(p=Es(p),p!==null&&tN(p)),f):(f.eventSystemFlags|=R,p=f.targetContainers,B!==null&&p.indexOf(B)===-1&&p.push(B),f)}function Oie(f,p,S,R,B){switch(p){case"focusin":return zh=yx(zh,f,p,S,R,B),!0;case"dragenter":return Fh=yx(Fh,f,p,S,R,B),!0;case"mouseover":return Bh=yx(Bh,f,p,S,R,B),!0;case"pointerover":var G=B.pointerId;return mx.set(G,yx(mx.get(G)||null,f,p,S,R,B)),!0;case"gotpointercapture":return G=B.pointerId,gx.set(G,yx(gx.get(G)||null,f,p,S,R,B)),!0}return!1}function iN(f){var p=Xs(f.target);if(p!==null){var S=i(p);if(S!==null){if(p=S.tag,p===13){if(p=s(S),p!==null){f.blockedOn=p,sa(f.priority,function(){nN(S)});return}}else if(p===31){if(p=o(S),p!==null){f.blockedOn=p,sa(f.priority,function(){nN(S)});return}}else if(p===3&&S.stateNode.current.memoizedState.isDehydrated){f.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}f.blockedOn=null}function i_(f){if(f.blockedOn!==null)return!1;for(var p=f.targetContainers;0<p.length;){var S=TE(f.nativeEvent);if(S===null){S=f.nativeEvent;var R=new S.constructor(S.type,S);hl=R,S.target.dispatchEvent(R),hl=null}else return p=Es(S),p!==null&&tN(p),f.blockedOn=S,!1;p.shift()}return!0}function sN(f,p,S){i_(f)&&S.delete(p)}function Die(){RE=!1,zh!==null&&i_(zh)&&(zh=null),Fh!==null&&i_(Fh)&&(Fh=null),Bh!==null&&i_(Bh)&&(Bh=null),mx.forEach(sN),gx.forEach(sN)}function s_(f,p){f.blockedOn===p&&(f.blockedOn=null,RE||(RE=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Die)))}var o_=null;function oN(f){o_!==f&&(o_=f,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){o_===f&&(o_=null);for(var p=0;p<f.length;p+=3){var S=f[p],R=f[p+1],B=f[p+2];if(typeof R!="function"){if(AE(R||S)===null)continue;break}var G=Es(S);G!==null&&(f.splice(p,3),p-=3,qb(G,{pending:!0,data:B,method:S.method,action:R},R,B))}}))}function e1(f){function p(Ae){return s_(Ae,f)}zh!==null&&s_(zh,f),Fh!==null&&s_(Fh,f),Bh!==null&&s_(Bh,f),mx.forEach(p),gx.forEach(p);for(var S=0;S<Hh.length;S++){var R=Hh[S];R.blockedOn===f&&(R.blockedOn=null)}for(;0<Hh.length&&(S=Hh[0],S.blockedOn===null);)iN(S),S.blockedOn===null&&Hh.shift();if(S=(f.ownerDocument||f).$$reactFormReplay,S!=null)for(R=0;R<S.length;R+=3){var B=S[R],G=S[R+1],se=B[oa]||null;if(typeof G=="function")se||oN(S);else if(se){var fe=null;if(G&&G.hasAttribute("formAction")){if(B=G,se=G[oa]||null)fe=se.formAction;else if(AE(B)!==null)continue}else fe=se.action;typeof fe=="function"?S[R+1]=fe:(S.splice(R,3),R-=3),oN(S)}}}function lN(){function f(G){G.canIntercept&&G.info==="react-transition"&&G.intercept({handler:function(){return new Promise(function(se){return B=se})},focusReset:"manual",scroll:"manual"})}function p(){B!==null&&(B(),B=null),R||setTimeout(S,20)}function S(){if(!R&&!navigation.transition){var G=navigation.currentEntry;G&&G.url!=null&&navigation.navigate(G.url,{state:G.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var R=!1,B=null;return navigation.addEventListener("navigate",f),navigation.addEventListener("navigatesuccess",p),navigation.addEventListener("navigateerror",p),setTimeout(S,100),function(){R=!0,navigation.removeEventListener("navigate",f),navigation.removeEventListener("navigatesuccess",p),navigation.removeEventListener("navigateerror",p),B!==null&&(B(),B=null)}}}function kE(f){this._internalRoot=f}l_.prototype.render=kE.prototype.render=function(f){var p=this._internalRoot;if(p===null)throw Error(r(409));var S=p.current,R=po();JM(S,R,f,p,null,null)},l_.prototype.unmount=kE.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var p=f.containerInfo;JM(f.current,2,null,f,null,null),wl(),p[ji]=null}};function l_(f){this._internalRoot=f}l_.prototype.unstable_scheduleHydration=function(f){if(f){var p=jr();f={blockedOn:null,target:f,priority:p};for(var S=0;S<Hh.length&&p!==0&&p<Hh[S].priority;S++);Hh.splice(S,0,f),S===0&&iN(f)}};var cN=e.version;if(cN!=="19.2.0")throw Error(r(527,cN,"19.2.0"));W.findDOMNode=function(f){var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=u(p),f=f!==null?d(f):null,f=f===null?null:f.stateNode,f};var Mie={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var c_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!c_.isDisabled&&c_.supportsFiber)try{it=c_.inject(Mie),rt=c_}catch{}}return xx.createRoot=function(f,p){if(!a(f))throw Error(r(299));var S=!1,R="",B=B3,G=Qb,se=Zb;return p!=null&&(p.unstable_strictMode===!0&&(S=!0),p.identifierPrefix!==void 0&&(R=p.identifierPrefix),p.onUncaughtError!==void 0&&(B=p.onUncaughtError),p.onCaughtError!==void 0&&(G=p.onCaughtError),p.onRecoverableError!==void 0&&(se=p.onRecoverableError)),p=QM(f,1,!1,null,null,S,R,null,B,G,se,lN),f[ji]=p.current,uE(f),new kE(p)},xx.hydrateRoot=function(f,p,S){if(!a(f))throw Error(r(299));var R=!1,B="",G=B3,se=Qb,fe=Zb,Ae=null;return S!=null&&(S.unstable_strictMode===!0&&(R=!0),S.identifierPrefix!==void 0&&(B=S.identifierPrefix),S.onUncaughtError!==void 0&&(G=S.onUncaughtError),S.onCaughtError!==void 0&&(se=S.onCaughtError),S.onRecoverableError!==void 0&&(fe=S.onRecoverableError),S.formState!==void 0&&(Ae=S.formState)),p=QM(f,1,!0,p,S??null,R,B,Ae,G,se,fe,lN),p.context=ZM(null),S=p.current,R=po(),R=cr(R),B=ru(R),B.callback=null,Qu(S,B,R),S=R,p.current.lanes=S,wt(p,S),vt(p),f[ji]=p.current,uE(f),new l_(p)},xx.version="19.2.0",xx}var xN;function $ie(){if(xN)return OE.exports;xN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),OE.exports=Uie(),OE.exports}var Gie=$ie(),PE={exports:{}},LE={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vN;function qie(){if(vN)return LE;vN=1;var t=Pg().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return LE.c=function(e){return t.H.useMemoCache(e)},LE}var SN;function Vie(){return SN||(SN=1,PE.exports=qie()),PE.exports}var bt=Vie();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _N="popstate";function Wie(t={}){function e(a,i){let{pathname:s="/",search:o="",hash:l=""}=Lg(a.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),uk("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){let s=a.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let l=a.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof i=="string"?i:Z2(i))}function r(a,i){Dl(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return Kie(e,n,r,t)}function ka(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Yie(){return Math.random().toString(36).substring(2,10)}function CN(t,e){return{usr:t.state,key:t.key,idx:e}}function uk(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Lg(e):e,state:n,key:e&&e.key||r||Yie()}}function Z2({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Lg(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Kie(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,s=a.history,o="POP",l=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function h(){o="POP";let _=d(),C=_==null?null:_-u;u=_,l&&l({action:o,location:v.location,delta:C})}function m(_,C){o="PUSH";let w=uk(v.location,_,C);n&&n(w,_),u=d()+1;let T=CN(w,u),E=v.createHref(w);try{s.pushState(T,"",E)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;a.location.assign(E)}i&&l&&l({action:o,location:v.location,delta:1})}function y(_,C){o="REPLACE";let w=uk(v.location,_,C);n&&n(w,_),u=d();let T=CN(w,u),E=v.createHref(w);s.replaceState(T,"",E),i&&l&&l({action:o,location:v.location,delta:0})}function x(_){return Xie(_)}let v={get action(){return o},get location(){return t(a,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(_N,h),l=_,()=>{a.removeEventListener(_N,h),l=null}},createHref(_){return e(a,_)},createURL:x,encodeLocation(_){let C=x(_);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:m,replace:y,go(_){return s.go(_)}};return v}function Xie(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ka(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Z2(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function jY(t,e,n="/"){return Qie(t,e,n,!1)}function Qie(t,e,n,r){let a=typeof e=="string"?Lg(e):e,i=Gf(a.pathname||"/",n);if(i==null)return null;let s=OY(t);Zie(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=cse(i);o=ose(s[l],u,r)}return o}function OY(t,e=[],n=[],r="",a=!1){let i=(s,o,l=a,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;ka(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let h=Ff([r,d.relativePath]),m=n.concat(d);s.children&&s.children.length>0&&(ka(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),OY(s.children,e,m,h,l)),!(s.path==null&&!s.index)&&e.push({path:h,score:ise(h,s.index),routesMeta:m})};return t.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))i(s,o);else for(let l of DY(s.path))i(s,o,!0,l)}),e}function DY(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let s=DY(r.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Zie(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sse(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Jie=/^:[\w-]+$/,ese=3,tse=2,nse=1,rse=10,ase=-2,wN=t=>t==="*";function ise(t,e){let n=t.split("/"),r=n.length;return n.some(wN)&&(r+=ase),e&&(r+=tse),n.filter(a=>!wN(a)).reduce((a,i)=>a+(Jie.test(i)?ese:i===""?nse:rse),r)}function sse(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function ose(t,e,n=!1){let{routesMeta:r}=t,a={},i="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Y4({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),m=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Y4({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(a,h.params),s.push({params:a,pathname:Ff([i,h.pathname]),pathnameBase:hse(Ff([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Ff([i,h.pathnameBase]))}return s}function Y4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lse(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},m)=>{if(d==="*"){let x=o[m]||"";s=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const y=o[m];return h&&!y?u[d]=void 0:u[d]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:t}}function lse(t,e=!1,n=!0){Dl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function cse(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dl(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Gf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function use(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Lg(t):t;return{pathname:n?n.startsWith("/")?n:dse(n,e):e,search:pse(r),hash:mse(a)}}function dse(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function zE(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fse(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Nj(t){let e=fse(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Pj(t,e,n,r=!1){let a;typeof t=="string"?a=Lg(t):(a={...t},ka(!a.pathname||!a.pathname.includes("?"),zE("?","pathname","search",a)),ka(!a.pathname||!a.pathname.includes("#"),zE("#","pathname","hash",a)),ka(!a.search||!a.search.includes("#"),zE("#","search","hash",a)));let i=t===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),h-=1;a.pathname=m.join("/")}o=h>=0?e[h]:"/"}let l=use(a,o),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var Ff=t=>t.join("/").replace(/\/\/+/g,"/"),hse=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pse=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mse=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var MY=["POST","PUT","PATCH","DELETE"];new Set(MY);var yse=["GET",...MY];new Set(yse);var vy=A.createContext(null);vy.displayName="DataRouter";var t5=A.createContext(null);t5.displayName="DataRouterState";A.createContext(!1);var NY=A.createContext({isTransitioning:!1});NY.displayName="ViewTransition";var bse=A.createContext(new Map);bse.displayName="Fetchers";var xse=A.createContext(null);xse.displayName="Await";var Ru=A.createContext(null);Ru.displayName="Navigation";var Uv=A.createContext(null);Uv.displayName="Location";var ku=A.createContext({outlet:null,matches:[],isDataRoute:!1});ku.displayName="Route";var Lj=A.createContext(null);Lj.displayName="RouteError";function vse(t,{relative:e}={}){ka(Sy(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(Ru),{hash:a,pathname:i,search:s}=$v(t,{relative:e}),o=i;return n!=="/"&&(o=i==="/"?n:Ff([n,i])),r.createHref({pathname:o,search:s,hash:a})}function Sy(){return A.useContext(Uv)!=null}function Hd(){return ka(Sy(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Uv).location}var PY="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LY(t){A.useContext(Ru).static||A.useLayoutEffect(t)}function Zf(){let{isDataRoute:t}=A.useContext(ku);return t?Dse():Sse()}function Sse(){ka(Sy(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(vy),{basename:e,navigator:n}=A.useContext(Ru),{matches:r}=A.useContext(ku),{pathname:a}=Hd(),i=JSON.stringify(Nj(r)),s=A.useRef(!1);return LY(()=>{s.current=!0}),A.useCallback((l,u={})=>{if(Dl(s.current,PY),!s.current)return;if(typeof l=="number"){n.go(l);return}let d=Pj(l,JSON.parse(i),a,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ff([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,i,a,t])}A.createContext(null);function zj(){let{matches:t}=A.useContext(ku),e=t[t.length-1];return e?e.params:{}}function $v(t,{relative:e}={}){let{matches:n}=A.useContext(ku),{pathname:r}=Hd(),a=JSON.stringify(Nj(n));return A.useMemo(()=>Pj(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function _se(t,e){return zY(t,e)}function zY(t,e,n,r,a){ka(Sy(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=A.useContext(Ru),{matches:s}=A.useContext(ku),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let w=h&&h.path||"";FY(u,!h||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let m=Hd(),y;if(e){let w=typeof e=="string"?Lg(e):e;ka(d==="/"||w.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${w.pathname}" was given in the \`location\` prop.`),y=w}else y=m;let x=y.pathname||"/",v=x;if(d!=="/"){let w=d.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(w.length).join("/")}let _=jY(t,{pathname:v});Dl(h||_!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Dl(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Ase(_&&_.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Ff([d,i.encodeLocation?i.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:Ff([d,i.encodeLocation?i.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),s,n,r,a);return e&&C?A.createElement(Uv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},C):C}function Cse(){let t=Ose(),e=gse(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:i},"ErrorBoundary")," or"," ",A.createElement("code",{style:i},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:a},n):null,s)}var wse=A.createElement(Cse,null),Ese=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?A.createElement(ku.Provider,{value:this.props.routeContext},A.createElement(Lj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Tse({routeContext:t,match:e,children:n}){let r=A.useContext(vy);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(ku.Provider,{value:t},n)}function Ase(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n?.errors;if(s!=null){let u=i.findIndex(d=>d.route.id&&s?.[d.route.id]!==void 0);ka(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,l=-1;if(n)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:h,errors:m}=n,y=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,d,h)=>{let m,y=!1,x=null,v=null;n&&(m=s&&d.route.id?s[d.route.id]:void 0,x=d.route.errorElement||wse,o&&(l<0&&h===0?(FY("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,v=null):l===h&&(y=!0,v=d.route.hydrateFallbackElement||null)));let _=e.concat(i.slice(0,h+1)),C=()=>{let w;return m?w=x:y?w=v:d.route.Component?w=A.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,A.createElement(Tse,{match:d,routeContext:{outlet:u,matches:_,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?A.createElement(Ese,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:r}):C()},null)}function Fj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rse(t){let e=A.useContext(vy);return ka(e,Fj(t)),e}function kse(t){let e=A.useContext(t5);return ka(e,Fj(t)),e}function Ise(t){let e=A.useContext(ku);return ka(e,Fj(t)),e}function Bj(t){let e=Ise(t),n=e.matches[e.matches.length-1];return ka(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function jse(){return Bj("useRouteId")}function Ose(){let t=A.useContext(Lj),e=kse("useRouteError"),n=Bj("useRouteError");return t!==void 0?t:e.errors?.[n]}function Dse(){let{router:t}=Rse("useNavigate"),e=Bj("useNavigate"),n=A.useRef(!1);return LY(()=>{n.current=!0}),A.useCallback(async(a,i={})=>{Dl(n.current,PY),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var EN={};function FY(t,e,n){!e&&!EN[t]&&(EN[t]=!0,Dl(!1,n))}A.memo(Mse);function Mse({routes:t,future:e,state:n,unstable_onError:r}){return zY(t,void 0,n,r,e)}function Nse({to:t,replace:e,state:n,relative:r}){ka(Sy(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=A.useContext(Ru);Dl(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=A.useContext(ku),{pathname:s}=Hd(),o=Zf(),l=Pj(t,Nj(i),s,r==="path"),u=JSON.stringify(l);return A.useEffect(()=>{o(JSON.parse(u),{replace:e,state:n,relative:r})},[o,u,r,e,n]),null}function mo(t){ka(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Pse({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:i=!1}){ka(!Sy(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),o=A.useMemo(()=>({basename:s,navigator:a,static:i,future:{}}),[s,a,i]);typeof n=="string"&&(n=Lg(n));let{pathname:l="/",search:u="",hash:d="",state:h=null,key:m="default"}=n,y=A.useMemo(()=>{let x=Gf(l,s);return x==null?null:{location:{pathname:x,search:u,hash:d,state:h,key:m},navigationType:r}},[s,l,u,d,h,m,r]);return Dl(y!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:A.createElement(Ru.Provider,{value:o},A.createElement(Uv.Provider,{children:e,value:y}))}function TN({children:t,location:e}){return _se(dk(t),e)}function dk(t,e=[]){let n=[];return A.Children.forEach(t,(r,a)=>{if(!A.isValidElement(r))return;let i=[...e,a];if(r.type===A.Fragment){n.push.apply(n,dk(r.props.children,i));return}ka(r.type===mo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ka(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=dk(r.props.children,i)),n.push(s)}),n}var C4="get",w4="application/x-www-form-urlencoded";function n5(t){return t!=null&&typeof t.tagName=="string"}function Lse(t){return n5(t)&&t.tagName.toLowerCase()==="button"}function zse(t){return n5(t)&&t.tagName.toLowerCase()==="form"}function Fse(t){return n5(t)&&t.tagName.toLowerCase()==="input"}function Bse(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Hse(t,e){return t.button===0&&(!e||e==="_self")&&!Bse(t)}function fk(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function Use(t,e){let n=fk(t);return e&&e.forEach((r,a)=>{n.has(a)||e.getAll(a).forEach(i=>{n.append(a,i)})}),n}var d_=null;function $se(){if(d_===null)try{new FormData(document.createElement("form"),0),d_=!1}catch{d_=!0}return d_}var Gse=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function FE(t){return t!=null&&!Gse.has(t)?(Dl(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${w4}"`),null):t}function qse(t,e){let n,r,a,i,s;if(zse(t)){let o=t.getAttribute("action");r=o?Gf(o,e):null,n=t.getAttribute("method")||C4,a=FE(t.getAttribute("enctype"))||w4,i=new FormData(t)}else if(Lse(t)||Fse(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?Gf(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||C4,a=FE(t.getAttribute("formenctype"))||FE(o.getAttribute("enctype"))||w4,i=new FormData(o,t),!$se()){let{name:u,type:d,value:h}=t;if(d==="image"){let m=u?`${u}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else u&&i.append(u,h)}}else{if(n5(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=C4,r=null,a=w4,s=t}return i&&a==="text/plain"&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hj(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vse(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Gf(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Wse(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Yse(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Kse(t,e,n){let r=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let s=await Wse(i,n);return s.links?s.links():[]}return[]}));return Jse(r.flat(1).filter(Yse).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function AN(t,e,n,r,a,i){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,o=(l,u)=>n[u].pathname!==l.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==l.params["*"];return i==="assets"?e.filter((l,u)=>s(l,u)||o(l,u)):i==="data"?e.filter((l,u)=>{let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Xse(t,e,{includeHydrateFallback:n}={}){return Qse(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function Qse(t){return[...new Set(t)]}function Zse(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Jse(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let i=JSON.stringify(Zse(a));return n.has(i)||(n.add(i),r.push({key:i,link:a})),r},[])}function BY(){let t=A.useContext(vy);return Hj(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function eoe(){let t=A.useContext(t5);return Hj(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Uj=A.createContext(void 0);Uj.displayName="FrameworkContext";function HY(){let t=A.useContext(Uj);return Hj(t,"You must render this element inside a <HydratedRouter> element"),t}function toe(t,e){let n=A.useContext(Uj),[r,a]=A.useState(!1),[i,s]=A.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,m=A.useRef(null);A.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let v=C=>{C.forEach(w=>{s(w.isIntersecting)})},_=new IntersectionObserver(v,{threshold:.5});return m.current&&_.observe(m.current),()=>{_.disconnect()}}},[t]),A.useEffect(()=>{if(r){let v=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(v)}}},[r]);let y=()=>{a(!0)},x=()=>{a(!1),s(!1)};return n?t!=="intent"?[i,m,{}]:[i,m,{onFocus:vx(o,y),onBlur:vx(l,x),onMouseEnter:vx(u,y),onMouseLeave:vx(d,x),onTouchStart:vx(h,y)}]:[!1,m,{}]}function vx(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function noe({page:t,...e}){let{router:n}=BY(),r=A.useMemo(()=>jY(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?A.createElement(aoe,{page:t,matches:r,...e}):null}function roe(t){let{manifest:e,routeModules:n}=HY(),[r,a]=A.useState([]);return A.useEffect(()=>{let i=!1;return Kse(t,e,n).then(s=>{i||a(s)}),()=>{i=!0}},[t,e,n]),r}function aoe({page:t,matches:e,...n}){let r=Hd(),{manifest:a,routeModules:i}=HY(),{basename:s}=BY(),{loaderData:o,matches:l}=eoe(),u=A.useMemo(()=>AN(t,e,l,a,r,"data"),[t,e,l,a,r]),d=A.useMemo(()=>AN(t,e,l,a,r,"assets"),[t,e,l,a,r]),h=A.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,v=!1;if(e.forEach(C=>{let w=a.routes[C.route.id];!w||!w.hasLoader||(!u.some(T=>T.route.id===C.route.id)&&C.route.id in o&&i[C.route.id]?.shouldRevalidate||w.hasClientLoader?v=!0:x.add(C.route.id))}),x.size===0)return[];let _=Vse(t,s,"data");return v&&x.size>0&&_.searchParams.set("_routes",e.filter(C=>x.has(C.route.id)).map(C=>C.route.id).join(",")),[_.pathname+_.search]},[s,o,r,a,u,e,t,i]),m=A.useMemo(()=>Xse(d,a),[d,a]),y=roe(d);return A.createElement(A.Fragment,null,h.map(x=>A.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),m.map(x=>A.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),y.map(({key:x,link:v})=>A.createElement("link",{key:x,nonce:n.nonce,...v})))}function ioe(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var UY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UY&&(window.__reactRouterVersion="7.9.3")}catch{}function soe({basename:t,children:e,window:n}){let r=A.useRef();r.current==null&&(r.current=Wie({window:n,v5Compat:!0}));let a=r.current,[i,s]=A.useState({action:a.action,location:a.location}),o=A.useCallback(l=>{A.startTransition(()=>s(l))},[s]);return A.useLayoutEffect(()=>a.listen(o),[a,o]),A.createElement(Pse,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:a})}var $Y=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K4=A.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:i,replace:s,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h,...m},y){let{basename:x}=A.useContext(Ru),v=typeof u=="string"&&$Y.test(u),_,C=!1;if(typeof u=="string"&&v&&(_=u,UY))try{let N=new URL(window.location.href),M=u.startsWith("//")?new URL(N.protocol+u):new URL(u),H=Gf(M.pathname,x);M.origin===N.origin&&H!=null?u=H+M.search+M.hash:C=!0}catch{Dl(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=vse(u,{relative:a}),[T,E,I]=toe(r,m),j=uoe(u,{replace:s,state:o,target:l,preventScrollReset:d,relative:a,viewTransition:h});function O(N){e&&e(N),N.defaultPrevented||j(N)}let L=A.createElement("a",{...m,...I,href:_||w,onClick:C||i?e:O,ref:ioe(y,E),target:l,"data-discover":!v&&n==="render"?"true":void 0});return T&&!v?A.createElement(A.Fragment,null,L,A.createElement(noe,{page:w})):L});K4.displayName="Link";var ooe=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:i,to:s,viewTransition:o,children:l,...u},d){let h=$v(s,{relative:u.relative}),m=Hd(),y=A.useContext(t5),{navigator:x,basename:v}=A.useContext(Ru),_=y!=null&&goe(h)&&o===!0,C=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,w=m.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(w=w.toLowerCase(),T=T?T.toLowerCase():null,C=C.toLowerCase()),T&&v&&(T=Gf(T,v)||T);const E=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let I=w===C||!a&&w.startsWith(C)&&w.charAt(E)==="/",j=T!=null&&(T===C||!a&&T.startsWith(C)&&T.charAt(C.length)==="/"),O={isActive:I,isPending:j,isTransitioning:_},L=I?e:void 0,N;typeof r=="function"?N=r(O):N=[r,I?"active":null,j?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let M=typeof i=="function"?i(O):i;return A.createElement(K4,{...u,"aria-current":L,className:N,ref:d,style:M,to:s,viewTransition:o},typeof l=="function"?l(O):l)});ooe.displayName="NavLink";var loe=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:i,method:s=C4,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...m},y)=>{let x=poe(),v=moe(o,{relative:u}),_=s.toLowerCase()==="get"?"get":"post",C=typeof o=="string"&&$Y.test(o),w=T=>{if(l&&l(T),T.defaultPrevented)return;T.preventDefault();let E=T.nativeEvent.submitter,I=E?.getAttribute("formmethod")||s;x(E||T.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:a,state:i,relative:u,preventScrollReset:d,viewTransition:h})};return A.createElement("form",{ref:y,method:_,action:v,onSubmit:r?l:w,...m,"data-discover":!C&&t==="render"?"true":void 0})});loe.displayName="Form";function coe(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GY(t){let e=A.useContext(vy);return ka(e,coe(t)),e}function uoe(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:s}={}){let o=Zf(),l=Hd(),u=$v(t,{relative:i});return A.useCallback(d=>{if(Hse(d,e)){d.preventDefault();let h=n!==void 0?n:Z2(l)===Z2(u);o(t,{replace:h,state:r,preventScrollReset:a,relative:i,viewTransition:s})}},[l,o,u,n,r,e,t,a,i,s])}function doe(t){Dl(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=A.useRef(fk(t)),n=A.useRef(!1),r=Hd(),a=A.useMemo(()=>Use(r.search,n.current?null:e.current),[r.search]),i=Zf(),s=A.useCallback((o,l)=>{const u=fk(typeof o=="function"?o(new URLSearchParams(a)):o);n.current=!0,i("?"+u,l)},[i,a]);return[a,s]}var foe=0,hoe=()=>`__${String(++foe)}__`;function poe(){let{router:t}=GY("useSubmit"),{basename:e}=A.useContext(Ru),n=jse();return A.useCallback(async(r,a={})=>{let{action:i,method:s,encType:o,formData:l,body:u}=qse(r,e);if(a.navigate===!1){let d=a.fetcherKey||hoe();await t.fetch(d,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||o,flushSync:a.flushSync})}else await t.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function moe(t,{relative:e}={}){let{basename:n}=A.useContext(Ru),r=A.useContext(ku);ka(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...$v(t||".",{relative:e})},s=Hd();if(t==null){i.search=s.search;let o=new URLSearchParams(i.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ff([n,i.pathname])),Z2(i)}function goe(t,{relative:e}={}){let n=A.useContext(NY);ka(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=GY("useViewTransitionState"),a=$v(t,{relative:e});if(!n.isTransitioning)return!1;let i=Gf(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Gf(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Y4(a.pathname,s)!=null||Y4(a.pathname,i)!=null}var Ym=IY();const f_=Qf(Ym);var BE={exports:{}},HE,RN;function yoe(){if(RN)return HE;RN=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return HE=t,HE}var UE,kN;function boe(){if(kN)return UE;kN=1;var t=yoe();function e(){}function n(){}return n.resetWarningCache=e,UE=function(){function r(s,o,l,u,d,h){if(h!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function a(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},UE}var IN;function xoe(){return IN||(IN=1,BE.exports=boe()()),BE.exports}var voe=xoe();const qr=Qf(voe);function qf(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function Ue(t){if(typeof t!="string")throw new Error(qf(7));return t.charAt(0).toUpperCase()+t.slice(1)}var $E={exports:{}},$r={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jN;function Soe(){if(jN)return $r;jN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function x(v){if(typeof v=="object"&&v!==null){var _=v.$$typeof;switch(_){case t:switch(v=v.type,v){case n:case a:case r:case l:case u:case m:return v;default:switch(v=v&&v.$$typeof,v){case s:case o:case h:case d:return v;case i:return v;default:return _}}case e:return _}}}return $r.ContextConsumer=i,$r.ContextProvider=s,$r.Element=t,$r.ForwardRef=o,$r.Fragment=n,$r.Lazy=h,$r.Memo=d,$r.Portal=e,$r.Profiler=a,$r.StrictMode=r,$r.Suspense=l,$r.SuspenseList=u,$r.isContextConsumer=function(v){return x(v)===i},$r.isContextProvider=function(v){return x(v)===s},$r.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},$r.isForwardRef=function(v){return x(v)===o},$r.isFragment=function(v){return x(v)===n},$r.isLazy=function(v){return x(v)===h},$r.isMemo=function(v){return x(v)===d},$r.isPortal=function(v){return x(v)===e},$r.isProfiler=function(v){return x(v)===a},$r.isStrictMode=function(v){return x(v)===r},$r.isSuspense=function(v){return x(v)===l},$r.isSuspenseList=function(v){return x(v)===u},$r.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===n||v===a||v===r||v===l||v===u||typeof v=="object"&&v!==null&&(v.$$typeof===h||v.$$typeof===d||v.$$typeof===s||v.$$typeof===i||v.$$typeof===o||v.$$typeof===y||v.getModuleId!==void 0)},$r.typeOf=x,$r}var ON;function _oe(){return ON||(ON=1,$E.exports=Soe()),$E.exports}var qY=_oe();function Ed(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function VY(t){if(A.isValidElement(t)||qY.isValidElementType(t)||!Ed(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=VY(t[n])}),e}function ns(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Ed(t)&&Ed(e)&&Object.keys(e).forEach(a=>{A.isValidElement(e[a])||qY.isValidElementType(e[a])?r[a]=e[a]:Ed(e[a])&&Object.prototype.hasOwnProperty.call(t,a)&&Ed(t[a])?r[a]=ns(t[a],e[a],n):n.clone?r[a]=Ed(e[a])?VY(e[a]):e[a]:r[a]=e[a]}),r}function _2(t,e){return e?ns(t,e,{clone:!1}):t}function DN(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,a)=>{const i=/min-width:\s*([0-9.]+)/;return+(r.match(i)?.[1]||0)-+(a.match(i)?.[1]||0)});return n.length?n.reduce((r,a)=>{const i=e[a];return delete r[a],r[a]=i,r},{...e}):e}function Coe(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function woe(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,a]=n,i=Number.isNaN(+r)?r||0:+r;return t.containerQueries(a).up(i)}function Eoe(t){const e=(i,s)=>i.replace("@media",s?`@container ${s}`:"@container");function n(i,s){i.up=(...o)=>e(t.breakpoints.up(...o),s),i.down=(...o)=>e(t.breakpoints.down(...o),s),i.between=(...o)=>e(t.breakpoints.between(...o),s),i.only=(...o)=>e(t.breakpoints.only(...o),s),i.not=(...o)=>{const l=e(t.breakpoints.not(...o),s);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},a=i=>(n(r,i),r);return n(a),{...t,containerQueries:a}}const r5={xs:0,sm:600,md:900,lg:1200,xl:1536},MN={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${r5[t]}px)`},Toe={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:r5[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Cu(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const i=r.breakpoints||MN;return e.reduce((s,o,l)=>(s[i.up(i.keys[l])]=n(e[l]),s),{})}if(typeof e=="object"){const i=r.breakpoints||MN;return Object.keys(e).reduce((s,o)=>{if(Coe(i.keys,o)){const l=woe(r.containerQueries?r:Toe,o);l&&(s[l]=n(e[o],o))}else if(Object.keys(i.values||r5).includes(o)){const l=i.up(o);s[l]=n(e[o],o)}else{const l=o;s[l]=e[l]}return s},{})}return n(e)}function WY(t={}){return t.keys?.reduce((n,r)=>{const a=t.up(r);return n[a]={},n},{})||{}}function hk(t,e){return t.reduce((n,r)=>{const a=n[r];return(!a||Object.keys(a).length===0)&&delete n[r],n},e)}function Aoe(t,...e){const n=WY(t),r=[n,...e].reduce((a,i)=>ns(a,i),{});return hk(Object.keys(n),r)}function Roe(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((a,i)=>{i<t.length&&(n[a]=!0)}):r.forEach(a=>{t[a]!=null&&(n[a]=!0)}),n}function GE({values:t,breakpoints:e,base:n}){const r=n||Roe(t,e),a=Object.keys(r);if(a.length===0)return t;let i;return a.reduce((s,o,l)=>(Array.isArray(t)?(s[o]=t[l]!=null?t[l]:t[i],i=l):typeof t=="object"?(s[o]=t[o]!=null?t[o]:t[i],i=o):s[o]=t,s),{})}function Sd(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((a,i)=>a&&a[i]?a[i]:null,t);if(r!=null)return r}return e.split(".").reduce((r,a)=>r&&r[a]!=null?r[a]:null,t)}function X4(t,e,n,r=n){let a;return typeof t=="function"?a=t(n):Array.isArray(t)?a=t[n]||r:a=Sd(t,n)||r,e&&(a=e(a,r,t)),a}function fi(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:a}=t,i=s=>{if(s[e]==null)return null;const o=s[e],l=s.theme,u=Sd(l,r)||{};return Cu(s,o,h=>{let m=X4(u,a,h);return h===m&&typeof h=="string"&&(m=X4(u,a,`${e}${h==="default"?"":Ue(h)}`,h)),n===!1?m:{[n]:m}})};return i.propTypes={},i.filterProps=[e],i}function koe(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Ioe={m:"margin",p:"padding"},joe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},NN={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Ooe=koe(t=>{if(t.length>2)if(NN[t])t=NN[t];else return[t];const[e,n]=t.split(""),r=Ioe[e],a=joe[n]||"";return Array.isArray(a)?a.map(i=>r+i):[r+a]}),$j=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Gj=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...$j,...Gj];function Gv(t,e,n,r){const a=Sd(t,e,!0)??n;return typeof a=="number"||typeof a=="string"?i=>typeof i=="string"?i:typeof a=="string"?a.startsWith("var(")&&i===0?0:a.startsWith("var(")&&i===1?a:`calc(${i} * ${a})`:a*i:Array.isArray(a)?i=>{if(typeof i=="string")return i;const s=Math.abs(i),o=a[s];return i>=0?o:typeof o=="number"?-o:typeof o=="string"&&o.startsWith("var(")?`calc(-1 * ${o})`:`-${o}`}:typeof a=="function"?a:()=>{}}function a5(t){return Gv(t,"spacing",8)}function xg(t,e){return typeof e=="string"||e==null?e:t(e)}function Doe(t,e){return n=>t.reduce((r,a)=>(r[a]=xg(e,n),r),{})}function Moe(t,e,n,r){if(!e.includes(n))return null;const a=Ooe(n),i=Doe(a,r),s=t[n];return Cu(t,s,i)}function YY(t,e){const n=a5(t.theme);return Object.keys(t).map(r=>Moe(t,e,r,n)).reduce(_2,{})}function Xa(t){return YY(t,$j)}Xa.propTypes={};Xa.filterProps=$j;function Qa(t){return YY(t,Gj)}Qa.propTypes={};Qa.filterProps=Gj;function i5(...t){const e=t.reduce((r,a)=>(a.filterProps.forEach(i=>{r[i]=a}),r),{}),n=r=>Object.keys(r).reduce((a,i)=>e[i]?_2(a,e[i](r)):a,{});return n.propTypes={},n.filterProps=t.reduce((r,a)=>r.concat(a.filterProps),[]),n}function vc(t){return typeof t!="number"?t:`${t}px solid`}function Fc(t,e){return fi({prop:t,themeKey:"borders",transform:e})}const Noe=Fc("border",vc),Poe=Fc("borderTop",vc),Loe=Fc("borderRight",vc),zoe=Fc("borderBottom",vc),Foe=Fc("borderLeft",vc),Boe=Fc("borderColor"),Hoe=Fc("borderTopColor"),Uoe=Fc("borderRightColor"),$oe=Fc("borderBottomColor"),Goe=Fc("borderLeftColor"),qoe=Fc("outline",vc),Voe=Fc("outlineColor"),s5=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Gv(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:xg(e,r)});return Cu(t,t.borderRadius,n)}return null};s5.propTypes={};s5.filterProps=["borderRadius"];i5(Noe,Poe,Loe,zoe,Foe,Boe,Hoe,Uoe,$oe,Goe,s5,qoe,Voe);const o5=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Gv(t.theme,"spacing",8),n=r=>({gap:xg(e,r)});return Cu(t,t.gap,n)}return null};o5.propTypes={};o5.filterProps=["gap"];const l5=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Gv(t.theme,"spacing",8),n=r=>({columnGap:xg(e,r)});return Cu(t,t.columnGap,n)}return null};l5.propTypes={};l5.filterProps=["columnGap"];const c5=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Gv(t.theme,"spacing",8),n=r=>({rowGap:xg(e,r)});return Cu(t,t.rowGap,n)}return null};c5.propTypes={};c5.filterProps=["rowGap"];const Woe=fi({prop:"gridColumn"}),Yoe=fi({prop:"gridRow"}),Koe=fi({prop:"gridAutoFlow"}),Xoe=fi({prop:"gridAutoColumns"}),Qoe=fi({prop:"gridAutoRows"}),Zoe=fi({prop:"gridTemplateColumns"}),Joe=fi({prop:"gridTemplateRows"}),ele=fi({prop:"gridTemplateAreas"}),tle=fi({prop:"gridArea"});i5(o5,l5,c5,Woe,Yoe,Koe,Xoe,Qoe,Zoe,Joe,ele,tle);function z1(t,e){return e==="grey"?e:t}const nle=fi({prop:"color",themeKey:"palette",transform:z1}),rle=fi({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:z1}),ale=fi({prop:"backgroundColor",themeKey:"palette",transform:z1});i5(nle,rle,ale);function Rl(t){return t<=1&&t!==0?`${t*100}%`:t}const ile=fi({prop:"width",transform:Rl}),qj=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{const r=t.theme?.breakpoints?.values?.[n]||r5[n];return r?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Rl(n)}};return Cu(t,t.maxWidth,e)}return null};qj.filterProps=["maxWidth"];const sle=fi({prop:"minWidth",transform:Rl}),ole=fi({prop:"height",transform:Rl}),lle=fi({prop:"maxHeight",transform:Rl}),cle=fi({prop:"minHeight",transform:Rl});fi({prop:"size",cssProperty:"width",transform:Rl});fi({prop:"size",cssProperty:"height",transform:Rl});const ule=fi({prop:"boxSizing"});i5(ile,qj,sle,ole,lle,cle,ule);const qv={border:{themeKey:"borders",transform:vc},borderTop:{themeKey:"borders",transform:vc},borderRight:{themeKey:"borders",transform:vc},borderBottom:{themeKey:"borders",transform:vc},borderLeft:{themeKey:"borders",transform:vc},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:vc},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:s5},color:{themeKey:"palette",transform:z1},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:z1},backgroundColor:{themeKey:"palette",transform:z1},p:{style:Qa},pt:{style:Qa},pr:{style:Qa},pb:{style:Qa},pl:{style:Qa},px:{style:Qa},py:{style:Qa},padding:{style:Qa},paddingTop:{style:Qa},paddingRight:{style:Qa},paddingBottom:{style:Qa},paddingLeft:{style:Qa},paddingX:{style:Qa},paddingY:{style:Qa},paddingInline:{style:Qa},paddingInlineStart:{style:Qa},paddingInlineEnd:{style:Qa},paddingBlock:{style:Qa},paddingBlockStart:{style:Qa},paddingBlockEnd:{style:Qa},m:{style:Xa},mt:{style:Xa},mr:{style:Xa},mb:{style:Xa},ml:{style:Xa},mx:{style:Xa},my:{style:Xa},margin:{style:Xa},marginTop:{style:Xa},marginRight:{style:Xa},marginBottom:{style:Xa},marginLeft:{style:Xa},marginX:{style:Xa},marginY:{style:Xa},marginInline:{style:Xa},marginInlineStart:{style:Xa},marginInlineEnd:{style:Xa},marginBlock:{style:Xa},marginBlockStart:{style:Xa},marginBlockEnd:{style:Xa},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:o5},rowGap:{style:c5},columnGap:{style:l5},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Rl},maxWidth:{style:qj},minWidth:{transform:Rl},height:{transform:Rl},maxHeight:{transform:Rl},minHeight:{transform:Rl},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function dle(...t){const e=t.reduce((r,a)=>r.concat(Object.keys(a)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function fle(t,e){return typeof t=="function"?t(e):t}function hle(){function t(n,r,a,i){const s={[n]:r,theme:a},o=i[n];if(!o)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:d,style:h}=o;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const m=Sd(a,u)||{};return h?h(s):Cu(s,r,x=>{let v=X4(m,d,x);return x===v&&typeof x=="string"&&(v=X4(m,d,`${n}${x==="default"?"":Ue(x)}`,x)),l===!1?v:{[l]:v}})}function e(n){const{sx:r,theme:a={},nested:i}=n||{};if(!r)return null;const s=a.unstable_sxConfig??qv;function o(l){let u=l;if(typeof l=="function")u=l(a);else if(typeof l!="object")return l;if(!u)return null;const d=WY(a.breakpoints),h=Object.keys(d);let m=d;return Object.keys(u).forEach(y=>{const x=fle(u[y],a);if(x!=null)if(typeof x=="object")if(s[y])m=_2(m,t(y,x,a,s));else{const v=Cu({theme:a},x,_=>({[y]:_}));dle(v,x)?m[y]=e({sx:x,theme:a,nested:!0}):m=_2(m,v)}else m=_2(m,t(y,x,a,s))}),!i&&a.modularCssLayers?{"@layer sx":DN(a,hk(h,m))}:DN(a,hk(h,m))}return Array.isArray(r)?r.map(o):o(r)}return e}const Ap=hle();Ap.filterProps=["sx"];const ple=t=>{const e={systemProps:{},otherProps:{}},n=t?.theme?.unstable_sxConfig??qv;return Object.keys(t).forEach(r=>{n[r]?e.systemProps[r]=t[r]:e.otherProps[r]=t[r]}),e};function u5(t){const{sx:e,...n}=t,{systemProps:r,otherProps:a}=ple(n);let i;return Array.isArray(e)?i=[r,...e]:typeof e=="function"?i=(...s)=>{const o=e(...s);return Ed(o)?{...r,...o}:r}:i={...r,...e},{...a,sx:i}}function Q4(){return Q4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q4.apply(null,arguments)}function mle(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function gle(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var yle=(function(){function t(n){var r=this;this._insertTag=function(a){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(a,i),r.tags.push(a)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(gle(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var i=mle(a);try{i.insertRule(r,i.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var a;return(a=r.parentNode)==null?void 0:a.removeChild(r)}),this.tags=[],this.ctr=0},t})(),Fs="-ms-",Z4="-moz-",Ar="-webkit-",KY="comm",Vj="rule",Wj="decl",ble="@import",XY="@keyframes",xle="@layer",vle=Math.abs,d5=String.fromCharCode,Sle=Object.assign;function _le(t,e){return vs(t,0)^45?(((e<<2^vs(t,0))<<2^vs(t,1))<<2^vs(t,2))<<2^vs(t,3):0}function QY(t){return t.trim()}function Cle(t,e){return(t=e.exec(t))?t[0]:t}function Rr(t,e,n){return t.replace(e,n)}function pk(t,e){return t.indexOf(e)}function vs(t,e){return t.charCodeAt(e)|0}function J2(t,e,n){return t.slice(e,n)}function _d(t){return t.length}function Yj(t){return t.length}function h_(t,e){return e.push(t),t}function wle(t,e){return t.map(e).join("")}var f5=1,Z1=1,ZY=0,al=0,Ei=0,_y="";function h5(t,e,n,r,a,i,s){return{value:t,root:e,parent:n,type:r,props:a,children:i,line:f5,column:Z1,length:s,return:""}}function Sx(t,e){return Sle(h5("",null,null,"",null,null,0),t,{length:-t.length},e)}function Ele(){return Ei}function Tle(){return Ei=al>0?vs(_y,--al):0,Z1--,Ei===10&&(Z1=1,f5--),Ei}function Il(){return Ei=al<ZY?vs(_y,al++):0,Z1++,Ei===10&&(Z1=1,f5++),Ei}function kd(){return vs(_y,al)}function E4(){return al}function Vv(t,e){return J2(_y,t,e)}function ev(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function JY(t){return f5=Z1=1,ZY=_d(_y=t),al=0,[]}function eK(t){return _y="",t}function T4(t){return QY(Vv(al-1,mk(t===91?t+2:t===40?t+1:t)))}function Ale(t){for(;(Ei=kd())&&Ei<33;)Il();return ev(t)>2||ev(Ei)>3?"":" "}function Rle(t,e){for(;--e&&Il()&&!(Ei<48||Ei>102||Ei>57&&Ei<65||Ei>70&&Ei<97););return Vv(t,E4()+(e<6&&kd()==32&&Il()==32))}function mk(t){for(;Il();)switch(Ei){case t:return al;case 34:case 39:t!==34&&t!==39&&mk(Ei);break;case 40:t===41&&mk(t);break;case 92:Il();break}return al}function kle(t,e){for(;Il()&&t+Ei!==57;)if(t+Ei===84&&kd()===47)break;return"/*"+Vv(e,al-1)+"*"+d5(t===47?t:Il())}function Ile(t){for(;!ev(kd());)Il();return Vv(t,al)}function jle(t){return eK(A4("",null,null,null,[""],t=JY(t),0,[0],t))}function A4(t,e,n,r,a,i,s,o,l){for(var u=0,d=0,h=s,m=0,y=0,x=0,v=1,_=1,C=1,w=0,T="",E=a,I=i,j=r,O=T;_;)switch(x=w,w=Il()){case 40:if(x!=108&&vs(O,h-1)==58){pk(O+=Rr(T4(w),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:O+=T4(w);break;case 9:case 10:case 13:case 32:O+=Ale(x);break;case 92:O+=Rle(E4()-1,7);continue;case 47:switch(kd()){case 42:case 47:h_(Ole(kle(Il(),E4()),e,n),l);break;default:O+="/"}break;case 123*v:o[u++]=_d(O)*C;case 125*v:case 59:case 0:switch(w){case 0:case 125:_=0;case 59+d:C==-1&&(O=Rr(O,/\f/g,"")),y>0&&_d(O)-h&&h_(y>32?LN(O+";",r,n,h-1):LN(Rr(O," ","")+";",r,n,h-2),l);break;case 59:O+=";";default:if(h_(j=PN(O,e,n,u,d,a,o,T,E=[],I=[],h),i),w===123)if(d===0)A4(O,e,j,j,E,i,h,o,I);else switch(m===99&&vs(O,3)===110?100:m){case 100:case 108:case 109:case 115:A4(t,j,j,r&&h_(PN(t,j,j,0,0,a,o,T,a,E=[],h),I),a,I,h,o,r?E:I);break;default:A4(O,j,j,j,[""],I,0,o,I)}}u=d=y=0,v=C=1,T=O="",h=s;break;case 58:h=1+_d(O),y=x;default:if(v<1){if(w==123)--v;else if(w==125&&v++==0&&Tle()==125)continue}switch(O+=d5(w),w*v){case 38:C=d>0?1:(O+="\f",-1);break;case 44:o[u++]=(_d(O)-1)*C,C=1;break;case 64:kd()===45&&(O+=T4(Il())),m=kd(),d=h=_d(T=O+=Ile(E4())),w++;break;case 45:x===45&&_d(O)==2&&(v=0)}}return i}function PN(t,e,n,r,a,i,s,o,l,u,d){for(var h=a-1,m=a===0?i:[""],y=Yj(m),x=0,v=0,_=0;x<r;++x)for(var C=0,w=J2(t,h+1,h=vle(v=s[x])),T=t;C<y;++C)(T=QY(v>0?m[C]+" "+w:Rr(w,/&\f/g,m[C])))&&(l[_++]=T);return h5(t,e,n,a===0?Vj:o,l,u,d)}function Ole(t,e,n){return h5(t,e,n,KY,d5(Ele()),J2(t,2,-2),0)}function LN(t,e,n,r){return h5(t,e,n,Wj,J2(t,0,r),J2(t,r+1,-1),r)}function F1(t,e){for(var n="",r=Yj(t),a=0;a<r;a++)n+=e(t[a],a,t,e)||"";return n}function Dle(t,e,n,r){switch(t.type){case xle:if(t.children.length)break;case ble:case Wj:return t.return=t.return||t.value;case KY:return"";case XY:return t.return=t.value+"{"+F1(t.children,r)+"}";case Vj:t.value=t.props.join(",")}return _d(n=F1(t.children,r))?t.return=t.value+"{"+n+"}":""}function Mle(t){var e=Yj(t);return function(n,r,a,i){for(var s="",o=0;o<e;o++)s+=t[o](n,r,a,i)||"";return s}}function Nle(t){return function(e){e.root||(e=e.return)&&t(e)}}function tK(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Ple=function(e,n,r){for(var a=0,i=0;a=i,i=kd(),a===38&&i===12&&(n[r]=1),!ev(i);)Il();return Vv(e,al)},Lle=function(e,n){var r=-1,a=44;do switch(ev(a)){case 0:a===38&&kd()===12&&(n[r]=1),e[r]+=Ple(al-1,n,r);break;case 2:e[r]+=T4(a);break;case 4:if(a===44){e[++r]=kd()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=d5(a)}while(a=Il());return e},zle=function(e,n){return eK(Lle(JY(e),n))},zN=new WeakMap,Fle=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,a=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!zN.get(r))&&!a){zN.set(e,!0);for(var i=[],s=zle(n,i),o=r.props,l=0,u=0;l<s.length;l++)for(var d=0;d<o.length;d++,u++)e.props[u]=i[l]?s[l].replace(/&\f/g,o[d]):o[d]+" "+s[l]}}},Ble=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function nK(t,e){switch(_le(t,e)){case 5103:return Ar+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ar+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ar+t+Z4+t+Fs+t+t;case 6828:case 4268:return Ar+t+Fs+t+t;case 6165:return Ar+t+Fs+"flex-"+t+t;case 5187:return Ar+t+Rr(t,/(\w+).+(:[^]+)/,Ar+"box-$1$2"+Fs+"flex-$1$2")+t;case 5443:return Ar+t+Fs+"flex-item-"+Rr(t,/flex-|-self/,"")+t;case 4675:return Ar+t+Fs+"flex-line-pack"+Rr(t,/align-content|flex-|-self/,"")+t;case 5548:return Ar+t+Fs+Rr(t,"shrink","negative")+t;case 5292:return Ar+t+Fs+Rr(t,"basis","preferred-size")+t;case 6060:return Ar+"box-"+Rr(t,"-grow","")+Ar+t+Fs+Rr(t,"grow","positive")+t;case 4554:return Ar+Rr(t,/([^-])(transform)/g,"$1"+Ar+"$2")+t;case 6187:return Rr(Rr(Rr(t,/(zoom-|grab)/,Ar+"$1"),/(image-set)/,Ar+"$1"),t,"")+t;case 5495:case 3959:return Rr(t,/(image-set\([^]*)/,Ar+"$1$`$1");case 4968:return Rr(Rr(t,/(.+:)(flex-)?(.*)/,Ar+"box-pack:$3"+Fs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ar+t+t;case 4095:case 3583:case 4068:case 2532:return Rr(t,/(.+)-inline(.+)/,Ar+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(_d(t)-1-e>6)switch(vs(t,e+1)){case 109:if(vs(t,e+4)!==45)break;case 102:return Rr(t,/(.+:)(.+)-([^]+)/,"$1"+Ar+"$2-$3$1"+Z4+(vs(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~pk(t,"stretch")?nK(Rr(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(vs(t,e+1)!==115)break;case 6444:switch(vs(t,_d(t)-3-(~pk(t,"!important")&&10))){case 107:return Rr(t,":",":"+Ar)+t;case 101:return Rr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ar+(vs(t,14)===45?"inline-":"")+"box$3$1"+Ar+"$2$3$1"+Fs+"$2box$3")+t}break;case 5936:switch(vs(t,e+11)){case 114:return Ar+t+Fs+Rr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ar+t+Fs+Rr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ar+t+Fs+Rr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ar+t+Fs+t+t}return t}var Hle=function(e,n,r,a){if(e.length>-1&&!e.return)switch(e.type){case Wj:e.return=nK(e.value,e.length);break;case XY:return F1([Sx(e,{value:Rr(e.value,"@","@"+Ar)})],a);case Vj:if(e.length)return wle(e.props,function(i){switch(Cle(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return F1([Sx(e,{props:[Rr(i,/:(read-\w+)/,":"+Z4+"$1")]})],a);case"::placeholder":return F1([Sx(e,{props:[Rr(i,/:(plac\w+)/,":"+Ar+"input-$1")]}),Sx(e,{props:[Rr(i,/:(plac\w+)/,":"+Z4+"$1")]}),Sx(e,{props:[Rr(i,/:(plac\w+)/,Fs+"input-$1")]})],a)}return""})}},Ule=[Hle],$le=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var _=v.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var a=e.stylisPlugins||Ule,i={},s,o=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var _=v.getAttribute("data-emotion").split(" "),C=1;C<_.length;C++)i[_[C]]=!0;o.push(v)});var l,u=[Fle,Ble];{var d,h=[Dle,Nle(function(v){d.insert(v)})],m=Mle(u.concat(a,h)),y=function(_){return F1(jle(_),m)};l=function(_,C,w,T){d=w,y(_?_+"{"+C.styles+"}":C.styles),T&&(x.inserted[C.name]=!0)}}var x={key:n,sheet:new yle({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return x.sheet.hydrate(o),x},qE={exports:{}},Mr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FN;function Gle(){if(FN)return Mr;FN=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,a=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,o=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,h=t?Symbol.for("react.suspense"):60113,m=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,x=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,_=t?Symbol.for("react.fundamental"):60117,C=t?Symbol.for("react.responder"):60118,w=t?Symbol.for("react.scope"):60119;function T(I){if(typeof I=="object"&&I!==null){var j=I.$$typeof;switch(j){case e:switch(I=I.type,I){case l:case u:case r:case i:case a:case h:return I;default:switch(I=I&&I.$$typeof,I){case o:case d:case x:case y:case s:return I;default:return j}}case n:return j}}}function E(I){return T(I)===u}return Mr.AsyncMode=l,Mr.ConcurrentMode=u,Mr.ContextConsumer=o,Mr.ContextProvider=s,Mr.Element=e,Mr.ForwardRef=d,Mr.Fragment=r,Mr.Lazy=x,Mr.Memo=y,Mr.Portal=n,Mr.Profiler=i,Mr.StrictMode=a,Mr.Suspense=h,Mr.isAsyncMode=function(I){return E(I)||T(I)===l},Mr.isConcurrentMode=E,Mr.isContextConsumer=function(I){return T(I)===o},Mr.isContextProvider=function(I){return T(I)===s},Mr.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===e},Mr.isForwardRef=function(I){return T(I)===d},Mr.isFragment=function(I){return T(I)===r},Mr.isLazy=function(I){return T(I)===x},Mr.isMemo=function(I){return T(I)===y},Mr.isPortal=function(I){return T(I)===n},Mr.isProfiler=function(I){return T(I)===i},Mr.isStrictMode=function(I){return T(I)===a},Mr.isSuspense=function(I){return T(I)===h},Mr.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===r||I===u||I===i||I===a||I===h||I===m||typeof I=="object"&&I!==null&&(I.$$typeof===x||I.$$typeof===y||I.$$typeof===s||I.$$typeof===o||I.$$typeof===d||I.$$typeof===_||I.$$typeof===C||I.$$typeof===w||I.$$typeof===v)},Mr.typeOf=T,Mr}var BN;function qle(){return BN||(BN=1,qE.exports=Gle()),qE.exports}var VE,HN;function Vle(){if(HN)return VE;HN=1;var t=qle(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=r,i[t.Memo]=a;function s(x){return t.isMemo(x)?a:i[x.$$typeof]||e}var o=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,m=Object.prototype;function y(x,v,_){if(typeof v!="string"){if(m){var C=h(v);C&&C!==m&&y(x,C,_)}var w=l(v);u&&(w=w.concat(u(v)));for(var T=s(x),E=s(v),I=0;I<w.length;++I){var j=w[I];if(!n[j]&&!(_&&_[j])&&!(E&&E[j])&&!(T&&T[j])){var O=d(v,j);try{o(x,j,O)}catch{}}}}return x}return VE=y,VE}Vle();var Wle=!0;function rK(t,e,n){var r="";return n.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(r+=a+" ")}),r}var Kj=function(e,n,r){var a=e.key+"-"+n.name;(r===!1||Wle===!1)&&e.registered[a]===void 0&&(e.registered[a]=n.styles)},Xj=function(e,n,r){Kj(e,n,r);var a=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+a:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function Yle(t){for(var e=0,n,r=0,a=t.length;a>=4;++r,a-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Kle={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Xle=/[A-Z]|^ms/g,Qle=/_EMO_([^_]+?)_([^]*?)_EMO_/g,aK=function(e){return e.charCodeAt(1)===45},UN=function(e){return e!=null&&typeof e!="boolean"},WE=tK(function(t){return aK(t)?t:t.replace(Xle,"-$&").toLowerCase()}),$N=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Qle,function(r,a,i){return Cd={name:a,styles:i,next:Cd},a})}return Kle[e]!==1&&!aK(e)&&typeof n=="number"&&n!==0?n+"px":n};function tv(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var a=n;if(a.anim===1)return Cd={name:a.name,styles:a.styles,next:Cd},a.name;var i=n;if(i.styles!==void 0){var s=i.next;if(s!==void 0)for(;s!==void 0;)Cd={name:s.name,styles:s.styles,next:Cd},s=s.next;var o=i.styles+";";return o}return Zle(t,e,n)}case"function":{if(t!==void 0){var l=Cd,u=n(t);return Cd=l,tv(t,e,u)}break}}var d=n;if(e==null)return d;var h=e[d];return h!==void 0?h:d}function Zle(t,e,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=tv(t,e,n[a])+";";else for(var i in n){var s=n[i];if(typeof s!="object"){var o=s;e!=null&&e[o]!==void 0?r+=i+"{"+e[o]+"}":UN(o)&&(r+=WE(i)+":"+$N(i,o)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)UN(s[l])&&(r+=WE(i)+":"+$N(i,s[l])+";");else{var u=tv(t,e,s);switch(i){case"animation":case"animationName":{r+=WE(i)+":"+u+";";break}default:r+=i+"{"+u+"}"}}}return r}var GN=/label:\s*([^\s;{]+)\s*(;|$)/g,Cd;function Wv(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,a="";Cd=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,a+=tv(n,e,i);else{var s=i;a+=s[0]}for(var o=1;o<t.length;o++)if(a+=tv(n,e,t[o]),r){var l=i;a+=l[o]}GN.lastIndex=0;for(var u="",d;(d=GN.exec(a))!==null;)u+="-"+d[1];var h=Yle(a)+u;return{name:h,styles:a,next:Cd}}var Jle=function(e){return e()},iK=W4.useInsertionEffect?W4.useInsertionEffect:!1,sK=iK||Jle,qN=iK||A.useLayoutEffect,oK=A.createContext(typeof HTMLElement<"u"?$le({key:"css"}):null);oK.Provider;var Qj=function(e){return A.forwardRef(function(n,r){var a=A.useContext(oK);return e(n,a,r)})},Yv=A.createContext({}),Zj={}.hasOwnProperty,gk="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",ece=function(e,n){var r={};for(var a in n)Zj.call(n,a)&&(r[a]=n[a]);return r[gk]=e,r},tce=function(e){var n=e.cache,r=e.serialized,a=e.isStringTag;return Kj(n,r,a),sK(function(){return Xj(n,r,a)}),null},nce=Qj(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var a=t[gk],i=[r],s="";typeof t.className=="string"?s=rK(e.registered,i,t.className):t.className!=null&&(s=t.className+" ");var o=Wv(i,void 0,A.useContext(Yv));s+=e.key+"-"+o.name;var l={};for(var u in t)Zj.call(t,u)&&u!=="css"&&u!==gk&&(l[u]=t[u]);return l.className=s,n&&(l.ref=n),A.createElement(A.Fragment,null,A.createElement(tce,{cache:e,serialized:o,isStringTag:typeof a=="string"}),A.createElement(a,l))}),rce=nce,VN=function(e,n){var r=arguments;if(n==null||!Zj.call(n,"css"))return A.createElement.apply(void 0,r);var a=r.length,i=new Array(a);i[0]=rce,i[1]=ece(e,n);for(var s=2;s<a;s++)i[s]=r[s];return A.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(VN||(VN={}));var ace=Qj(function(t,e){var n=t.styles,r=Wv([n],void 0,A.useContext(Yv)),a=A.useRef();return qN(function(){var i=e.key+"-global",s=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),o=!1,l=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(o=!0,l.setAttribute("data-emotion",i),s.hydrate([l])),a.current=[s,o],function(){s.flush()}},[e]),qN(function(){var i=a.current,s=i[0],o=i[1];if(o){i[1]=!1;return}if(r.next!==void 0&&Xj(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function Pp(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Wv(e)}function Ud(){var t=Pp.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var ice=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,sce=tK(function(t){return ice.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),oce=sce,lce=function(e){return e!=="theme"},WN=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?oce:lce},YN=function(e,n,r){var a;if(n){var i=n.shouldForwardProp;a=e.__emotion_forwardProp&&i?function(s){return e.__emotion_forwardProp(s)&&i(s)}:i}return typeof a!="function"&&r&&(a=e.__emotion_forwardProp),a},cce=function(e){var n=e.cache,r=e.serialized,a=e.isStringTag;return Kj(n,r,a),sK(function(){return Xj(n,r,a)}),null},uce=function t(e,n){var r=e.__emotion_real===e,a=r&&e.__emotion_base||e,i,s;n!==void 0&&(i=n.label,s=n.target);var o=YN(e,n,r),l=o||WN(a),u=!l("as");return function(){var d=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&h.push("label:"+i+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{var m=d[0];h.push(m[0]);for(var y=d.length,x=1;x<y;x++)h.push(d[x],m[x])}var v=Qj(function(_,C,w){var T=u&&_.as||a,E="",I=[],j=_;if(_.theme==null){j={};for(var O in _)j[O]=_[O];j.theme=A.useContext(Yv)}typeof _.className=="string"?E=rK(C.registered,I,_.className):_.className!=null&&(E=_.className+" ");var L=Wv(h.concat(I),C.registered,j);E+=C.key+"-"+L.name,s!==void 0&&(E+=" "+s);var N=u&&o===void 0?WN(T):l,M={};for(var H in _)u&&H==="as"||N(H)&&(M[H]=_[H]);return M.className=E,w&&(M.ref=w),A.createElement(A.Fragment,null,A.createElement(cce,{cache:C,serialized:L,isStringTag:typeof T=="string"}),A.createElement(T,M))});return v.displayName=i!==void 0?i:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=a,v.__emotion_styles=h,v.__emotion_forwardProp=o,Object.defineProperty(v,"toString",{value:function(){return"."+s}}),v.withComponent=function(_,C){var w=t(_,Q4({},n,C,{shouldForwardProp:YN(v,C,!0)}));return w.apply(void 0,h)},v}},dce=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],yk=uce.bind(null);dce.forEach(function(t){yk[t]=yk(t)});function fce(t){return t==null||Object.keys(t).length===0}function lK(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?a=>e(fce(a)?n:a):e;return c.jsx(ace,{styles:r})}function cK(t,e){return yk(t,e)}function hce(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const KN=[];function bp(t){return KN[0]=t,Wv(KN)}const pce=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function mce(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...a}=t,i=pce(e),s=Object.keys(i);function o(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n})`}function l(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${n})`}function u(m,y){const x=s.indexOf(y);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n}) and (max-width:${(x!==-1&&typeof e[s[x]]=="number"?e[s[x]]:y)-r/100}${n})`}function d(m){return s.indexOf(m)+1<s.length?u(m,s[s.indexOf(m)+1]):o(m)}function h(m){const y=s.indexOf(m);return y===0?o(s[1]):y===s.length-1?l(s[y]):u(m,s[s.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:s,values:i,up:o,down:l,between:u,only:d,not:h,unit:n,...a}}const gce={borderRadius:4};function uK(t=8,e=a5({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(i=>{const s=e(i);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function yce(t,e){const n=this;if(n.vars){if(!n.colorSchemes?.[t]||typeof n.getColorSchemeSelector!="function")return{};let r=n.getColorSchemeSelector(t);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return n.palette.mode===t?e:{}}function Cy(t={},...e){const{breakpoints:n={},palette:r={},spacing:a,shape:i={},...s}=t,o=mce(n),l=uK(a);let u=ns({breakpoints:o,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...gce,...i}},s);return u=Eoe(u),u.applyStyles=yce,u=e.reduce((d,h)=>ns(d,h),u),u.unstable_sxConfig={...qv,...s?.unstable_sxConfig},u.unstable_sx=function(h){return Ap({sx:h,theme:this})},u}function bce(t){return Object.keys(t).length===0}function p5(t=null){const e=A.useContext(Yv);return!e||bce(e)?t:e}const xce=Cy();function Kv(t=xce){return p5(t)}function YE(t){const e=bp(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function dK({styles:t,themeId:e,defaultTheme:n={}}){const r=Kv(n),a=e&&r[e]||r;let i=typeof t=="function"?t(a):t;return a.modularCssLayers&&(Array.isArray(i)?i=i.map(s=>YE(typeof s=="function"?s(a):s)):i=YE(i)),c.jsx(lK,{styles:i})}const XN=t=>t,vce=()=>{let t=XN;return{configure(e){t=e},generate(e){return t(e)},reset(){t=XN}}},fK=vce();function hK(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=hK(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ut(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=hK(t))&&(r&&(r+=" "),r+=e);return r}function Sce(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:a}=t,i=cK("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(Ap);return A.forwardRef(function(l,u){const d=Kv(n),{className:h,component:m="div",...y}=u5(l);return c.jsx(i,{as:m,ref:u,className:ut(h,a?a(r):r),theme:e&&d[e]||d,...y})})}const _ce={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Mt(t,e,n="Mui"){const r=_ce[e];return r?`${n}-${r}`:`${fK.generate(t)}-${e}`}function Lt(t,e,n="Mui"){const r={};return e.forEach(a=>{r[a]=Mt(t,a,n)}),r}function pK(t){const{variants:e,...n}=t,r={variants:e,style:bp(n),isProcessed:!0};return r.style===n||e&&e.forEach(a=>{typeof a.style!="function"&&(a.style=bp(a.style))}),r}const Cce=Cy();function KE(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Km(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function wce(t){return t?(e,n)=>n[t]:null}function Ece(t,e,n){t.theme=Ace(t.theme)?n:t.theme[e]||t.theme}function R4(t,e,n){const r=typeof e=="function"?e(t):e;if(Array.isArray(r))return r.flatMap(a=>R4(t,a,n));if(Array.isArray(r?.variants)){let a;if(r.isProcessed)a=n?Km(r.style,n):r.style;else{const{variants:i,...s}=r;a=n?Km(bp(s),n):s}return mK(t,r.variants,[a],n)}return r?.isProcessed?n?Km(bp(r.style),n):r.style:n?Km(bp(r),n):r}function mK(t,e,n=[],r=void 0){let a;e:for(let i=0;i<e.length;i+=1){const s=e[i];if(typeof s.props=="function"){if(a??={...t,...t.ownerState,ownerState:t.ownerState},!s.props(a))continue}else for(const o in s.props)if(t[o]!==s.props[o]&&t.ownerState?.[o]!==s.props[o])continue e;typeof s.style=="function"?(a??={...t,...t.ownerState,ownerState:t.ownerState},n.push(r?Km(bp(s.style(a)),r):s.style(a))):n.push(r?Km(bp(s.style),r):s.style)}return n}function gK(t={}){const{themeId:e,defaultTheme:n=Cce,rootShouldForwardProp:r=KE,slotShouldForwardProp:a=KE}=t;function i(o){Ece(o,e,n)}return(o,l={})=>{hce(o,j=>j.filter(O=>O!==Ap));const{name:u,slot:d,skipVariantsResolver:h,skipSx:m,overridesResolver:y=wce(kce(d)),...x}=l,v=u&&u.startsWith("Mui")||d?"components":"custom",_=h!==void 0?h:d&&d!=="Root"&&d!=="root"||!1,C=m||!1;let w=KE;d==="Root"||d==="root"?w=r:d?w=a:Rce(o)&&(w=void 0);const T=cK(o,{shouldForwardProp:w,label:Tce(),...x}),E=j=>{if(j.__emotion_real===j)return j;if(typeof j=="function")return function(L){return R4(L,j,L.theme.modularCssLayers?v:void 0)};if(Ed(j)){const O=pK(j);return function(N){return O.variants?R4(N,O,N.theme.modularCssLayers?v:void 0):N.theme.modularCssLayers?Km(O.style,v):O.style}}return j},I=(...j)=>{const O=[],L=j.map(E),N=[];if(O.push(i),u&&y&&N.push(function($){const U=$.theme.components?.[u]?.styleOverrides;if(!U)return null;const F={};for(const W in U)F[W]=R4($,U[W],$.theme.modularCssLayers?"theme":void 0);return y($,F)}),u&&!_&&N.push(function($){const U=$.theme?.components?.[u]?.variants;return U?mK($,U,[],$.theme.modularCssLayers?"theme":void 0):null}),C||N.push(Ap),Array.isArray(L[0])){const P=L.shift(),$=new Array(O.length).fill(""),D=new Array(N.length).fill("");let U;U=[...$,...P,...D],U.raw=[...$,...P.raw,...D],O.unshift(U)}const M=[...O,...L,...N],H=T(...M);return o.muiName&&(H.muiName=o.muiName),H};return T.withConfig&&(I.withConfig=T.withConfig),I}}function Tce(t,e){return void 0}function Ace(t){for(const e in t)return!1;return!0}function Rce(t){return typeof t=="string"&&t.charCodeAt(0)>96}function kce(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const Jj=gK();function J1(t,e,n=!1){const r={...e};for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)){const i=a;if(i==="components"||i==="slots")r[i]={...t[i],...r[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],o=e[i];if(!o)r[i]=s||{};else if(!s)r[i]=o;else{r[i]={...o};for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=l;r[i][u]=J1(s[u],o[u],n)}}}else i==="className"&&n&&e.className?r.className=ut(t?.className,e?.className):i==="style"&&n&&e.style?r.style={...t?.style,...e?.style}:r[i]===void 0&&(r[i]=t[i])}return r}function yK(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:J1(e.components[n].defaultProps,r)}function eO({props:t,name:e,defaultTheme:n,themeId:r}){let a=Kv(n);return r&&(a=a[r]||a),yK({theme:a,name:e,props:t})}const qs=typeof window<"u"?A.useLayoutEffect:A.useEffect;function Ice(t,e,n,r,a){const[i,s]=A.useState(()=>a&&n?n(t).matches:r?r(t).matches:e);return qs(()=>{if(!n)return;const o=n(t),l=()=>{s(o.matches)};return l(),o.addEventListener("change",l),()=>{o.removeEventListener("change",l)}},[t,n]),i}const jce={...W4},bK=jce.useSyncExternalStore;function Oce(t,e,n,r,a){const i=A.useCallback(()=>e,[e]),s=A.useMemo(()=>{if(a&&n)return()=>n(t).matches;if(r!==null){const{matches:d}=r(t);return()=>d}return i},[i,t,r,a,n]),[o,l]=A.useMemo(()=>{if(n===null)return[i,()=>()=>{}];const d=n(t);return[()=>d.matches,h=>(d.addEventListener("change",h),()=>{d.removeEventListener("change",h)})]},[i,n,t]);return bK(l,o,s)}function xK(t={}){const{themeId:e}=t;return function(r,a={}){let i=p5();i&&e&&(i=i[e]||i);const s=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:o=!1,matchMedia:l=s?window.matchMedia:null,ssrMatchMedia:u=null,noSsr:d=!1}=yK({name:"MuiUseMediaQuery",props:a,theme:i});let h=typeof r=="function"?r(i):r;return h=h.replace(/^@media( ?)/m,""),h.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(bK!==void 0?Oce:Ice)(h,o,l,u,d)}}xK();function A1(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function tO(t,e=0,n=1){return A1(t,e,n)}function Dce(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,a)=>a<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Rp(t){if(t.type)return t;if(t.charAt(0)==="#")return Rp(Dce(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(qf(9,t));let r=t.substring(e+1,t.length-1),a;if(n==="color"){if(r=r.split(" "),a=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(a))throw new Error(qf(10,a))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:a}}const Mce=t=>{const e=Rp(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},n2=(t,e)=>{try{return Mce(t)}catch{return t}};function m5(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((a,i)=>i<3?parseInt(a,10):a):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function vK(t){t=Rp(t);const{values:e}=t,n=e[0],r=e[1]/100,a=e[2]/100,i=r*Math.min(a,1-a),s=(u,d=(u+n/30)%12)=>a-i*Math.max(Math.min(d-3,9-d,1),-1);let o="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(o+="a",l.push(e[3])),m5({type:o,values:l})}function bk(t){t=Rp(t);let e=t.type==="hsl"||t.type==="hsla"?Rp(vK(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Nce(t,e){const n=bk(t),r=bk(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function _s(t,e){return t=Rp(t),e=tO(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,m5(t)}function Im(t,e,n){try{return _s(t,e)}catch{return t}}function g5(t,e){if(t=Rp(t),e=tO(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return m5(t)}function Pr(t,e,n){try{return g5(t,e)}catch{return t}}function y5(t,e){if(t=Rp(t),e=tO(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return m5(t)}function Lr(t,e,n){try{return y5(t,e)}catch{return t}}function nv(t,e=.15){return bk(t)>.5?g5(t,e):y5(t,e)}function p_(t,e,n){try{return nv(t,e)}catch{return t}}const SK=A.createContext(null);function nO(){return A.useContext(SK)}const Pce=typeof Symbol=="function"&&Symbol.for,Lce=Pce?Symbol.for("mui.nested"):"__THEME_NESTED__";function zce(t,e){return typeof e=="function"?e(t):{...t,...e}}function Fce(t){const{children:e,theme:n}=t,r=nO(),a=A.useMemo(()=>{const i=r===null?{...n}:zce(r,n);return i!=null&&(i[Lce]=r!==null),i},[n,r]);return c.jsx(SK.Provider,{value:a,children:e})}const _K=A.createContext();function Bce({value:t,...e}){return c.jsx(_K.Provider,{value:t??!0,...e})}const $d=()=>A.useContext(_K)??!1,CK=A.createContext(void 0);function Hce({value:t,children:e}){return c.jsx(CK.Provider,{value:t,children:e})}function Uce(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const a=e.components[n];return a.defaultProps?J1(a.defaultProps,r,e.components.mergeClassNameAndStyle):!a.styleOverrides&&!a.variants?J1(a,r,e.components.mergeClassNameAndStyle):r}function $ce({props:t,name:e}){const n=A.useContext(CK);return Uce({props:t,name:e,theme:{components:n}})}let QN=0;function Gce(t){const[e,n]=A.useState(t),r=t||e;return A.useEffect(()=>{e==null&&(QN+=1,n(`mui-${QN}`))},[e]),r}const qce={...W4},ZN=qce.useId;function Nd(t){if(ZN!==void 0){const e=ZN();return t??e}return Gce(t)}function Vce(t){const e=p5(),n=Nd()||"",{modularCssLayers:r}=t;let a="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?a="":typeof r=="string"?a=r.replace(/mui(?!\.)/g,a):a=`@layer ${a};`,qs(()=>{const i=document.querySelector("head");if(!i)return;const s=i.firstChild;if(a){if(s&&s.hasAttribute?.("data-mui-layer-order")&&s.getAttribute("data-mui-layer-order")===n)return;const o=document.createElement("style");o.setAttribute("data-mui-layer-order",n),o.textContent=a,i.prepend(o)}else i.querySelector(`style[data-mui-layer-order="${n}"]`)?.remove()},[a,n]),a?c.jsx(dK,{styles:a}):null}const JN={};function eP(t,e,n,r=!1){return A.useMemo(()=>{const a=t&&e[t]||e;if(typeof n=="function"){const i=n(a),s=t?{...e,[t]:i}:i;return r?()=>s:s}return t?{...e,[t]:n}:{...e,...n}},[t,e,n,r])}function wK(t){const{children:e,theme:n,themeId:r}=t,a=p5(JN),i=nO()||JN,s=eP(r,a,n),o=eP(r,i,n,!0),l=(r?s[r]:s).direction==="rtl",u=Vce(s);return c.jsx(Fce,{theme:o,children:c.jsx(Yv.Provider,{value:s,children:c.jsx(Bce,{value:l,children:c.jsxs(Hce,{value:r?s[r].components:s.components,children:[u,e]})})})})}const tP={theme:void 0};function Wce(t){let e,n;return function(a){let i=e;return(i===void 0||a.theme!==n)&&(tP.theme=a.theme,i=pK(t(tP)),e=i,n=a.theme),i}}const rO="mode",aO="color-scheme",Yce="data-color-scheme";function Kce(t){const{defaultMode:e="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:a=rO,colorSchemeStorageKey:i=aO,attribute:s=Yce,colorSchemeNode:o="document.documentElement",nonce:l}=t||{};let u="",d=s;if(s==="class"&&(d=".%s"),s==="data"&&(d="[data-%s]"),d.startsWith(".")){const m=d.substring(1);u+=`${o}.classList.remove('${m}'.replace('%s', light), '${m}'.replace('%s', dark));
      ${o}.classList.add('${m}'.replace('%s', colorScheme));`}const h=d.match(/\[([^[\]]+)\]/);if(h){const[m,y]=h[1].split("=");y||(u+=`${o}.removeAttribute('${m}'.replace('%s', light));
      ${o}.removeAttribute('${m}'.replace('%s', dark));`),u+=`
      ${o}.setAttribute('${m}'.replace('%s', colorScheme), ${y?`${y}.replace('%s', colorScheme)`:'""'});`}else u+=`${o}.setAttribute('${d}', colorScheme);`;return c.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${a}') || '${e}';
  const dark = localStorage.getItem('${i}-dark') || '${r}';
  const light = localStorage.getItem('${i}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${u}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function Xce(){}const Qce=({key:t,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(n){if(typeof window>"u")return;if(!e)return n;let r;try{r=e.localStorage.getItem(t)}catch{}return r||n},set:n=>{if(e)try{e.localStorage.setItem(t,n)}catch{}},subscribe:n=>{if(!e)return Xce;const r=a=>{const i=a.newValue;a.key===t&&n(i)};return e.addEventListener("storage",r),()=>{e.removeEventListener("storage",r)}}});function XE(){}function nP(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function EK(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function Zce(t){return EK(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function Jce(t){const{defaultMode:e="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:a=[],modeStorageKey:i=rO,colorSchemeStorageKey:s=aO,storageWindow:o=typeof window>"u"?void 0:window,storageManager:l=Qce,noSsr:u=!1}=t,d=a.join(","),h=a.length>1,m=A.useMemo(()=>l?.({key:i,storageWindow:o}),[l,i,o]),y=A.useMemo(()=>l?.({key:`${s}-light`,storageWindow:o}),[l,s,o]),x=A.useMemo(()=>l?.({key:`${s}-dark`,storageWindow:o}),[l,s,o]),[v,_]=A.useState(()=>{const L=m?.get(e)||e,N=y?.get(n)||n,M=x?.get(r)||r;return{mode:L,systemMode:nP(L),lightColorScheme:N,darkColorScheme:M}}),[C,w]=A.useState(u||!h);A.useEffect(()=>{w(!0)},[]);const T=Zce(v),E=A.useCallback(L=>{_(N=>{if(L===N.mode)return N;const M=L??e;return m?.set(M),{...N,mode:M,systemMode:nP(M)}})},[m,e]),I=A.useCallback(L=>{L?typeof L=="string"?L&&!d.includes(L)?console.error(`\`${L}\` does not exist in \`theme.colorSchemes\`.`):_(N=>{const M={...N};return EK(N,H=>{H==="light"&&(y?.set(L),M.lightColorScheme=L),H==="dark"&&(x?.set(L),M.darkColorScheme=L)}),M}):_(N=>{const M={...N},H=L.light===null?n:L.light,P=L.dark===null?r:L.dark;return H&&(d.includes(H)?(M.lightColorScheme=H,y?.set(H)):console.error(`\`${H}\` does not exist in \`theme.colorSchemes\`.`)),P&&(d.includes(P)?(M.darkColorScheme=P,x?.set(P)):console.error(`\`${P}\` does not exist in \`theme.colorSchemes\`.`)),M}):_(N=>(y?.set(n),x?.set(r),{...N,lightColorScheme:n,darkColorScheme:r}))},[d,y,x,n,r]),j=A.useCallback(L=>{v.mode==="system"&&_(N=>{const M=L?.matches?"dark":"light";return N.systemMode===M?N:{...N,systemMode:M}})},[v.mode]),O=A.useRef(j);return O.current=j,A.useEffect(()=>{if(typeof window.matchMedia!="function"||!h)return;const L=(...M)=>O.current(...M),N=window.matchMedia("(prefers-color-scheme: dark)");return N.addListener(L),L(N),()=>{N.removeListener(L)}},[h]),A.useEffect(()=>{if(h){const L=m?.subscribe(H=>{(!H||["light","dark","system"].includes(H))&&E(H||e)})||XE,N=y?.subscribe(H=>{(!H||d.match(H))&&I({light:H})})||XE,M=x?.subscribe(H=>{(!H||d.match(H))&&I({dark:H})})||XE;return()=>{L(),N(),M()}}},[I,E,d,e,o,h,m,y,x]),{...v,mode:C?v.mode:void 0,systemMode:C?v.systemMode:void 0,colorScheme:C?T:void 0,setMode:E,setColorScheme:I}}const eue="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function tue(t){const{themeId:e,theme:n={},modeStorageKey:r=rO,colorSchemeStorageKey:a=aO,disableTransitionOnChange:i=!1,defaultColorScheme:s,resolveTheme:o}=t,l={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},u=A.createContext(void 0),d=()=>A.useContext(u)||l,h={},m={};function y(C){const{children:w,theme:T,modeStorageKey:E=r,colorSchemeStorageKey:I=a,disableTransitionOnChange:j=i,storageManager:O,storageWindow:L=typeof window>"u"?void 0:window,documentNode:N=typeof document>"u"?void 0:document,colorSchemeNode:M=typeof document>"u"?void 0:document.documentElement,disableNestedContext:H=!1,disableStyleSheetGeneration:P=!1,defaultMode:$="system",forceThemeRerender:D=!1,noSsr:U}=C,F=A.useRef(!1),W=nO(),ee=A.useContext(u),Q=!!ee&&!H,K=A.useMemo(()=>T||(typeof n=="function"?n():n),[T]),V=K[e],Z=V||K,{colorSchemes:q=h,components:te=m,cssVarPrefix:ae}=Z,ie=Object.keys(q).filter(ye=>!!q[ye]).join(","),ce=A.useMemo(()=>ie.split(","),[ie]),pe=typeof s=="string"?s:s.light,ge=typeof s=="string"?s:s.dark,oe=q[pe]&&q[ge]?$:q[Z.defaultColorScheme]?.palette?.mode||Z.palette?.mode,{mode:ue,setMode:he,systemMode:ve,lightColorScheme:me,darkColorScheme:le,colorScheme:Se,setColorScheme:be}=Jce({supportedColorSchemes:ce,defaultLightColorScheme:pe,defaultDarkColorScheme:ge,modeStorageKey:E,colorSchemeStorageKey:I,defaultMode:oe,storageManager:O,storageWindow:L,noSsr:U});let Te=ue,Ne=Se;Q&&(Te=ee.mode,Ne=ee.colorScheme);let Pe=Ne||Z.defaultColorScheme;Z.vars&&!D&&(Pe=Z.defaultColorScheme);const Le=A.useMemo(()=>{const ye=Z.generateThemeVars?.()||Z.vars,Ce={...Z,components:te,colorSchemes:q,cssVarPrefix:ae,vars:ye};if(typeof Ce.generateSpacing=="function"&&(Ce.spacing=Ce.generateSpacing()),Pe){const Me=q[Pe];Me&&typeof Me=="object"&&Object.keys(Me).forEach(He=>{Me[He]&&typeof Me[He]=="object"?Ce[He]={...Ce[He],...Me[He]}:Ce[He]=Me[He]})}return o?o(Ce):Ce},[Z,Pe,te,q,ae]),De=Z.colorSchemeSelector;qs(()=>{if(Ne&&M&&De&&De!=="media"){const ye=De;let Ce=De;if(ye==="class"&&(Ce=".%s"),ye==="data"&&(Ce="[data-%s]"),ye?.startsWith("data-")&&!ye.includes("%s")&&(Ce=`[${ye}="%s"]`),Ce.startsWith("."))M.classList.remove(...ce.map(Me=>Ce.substring(1).replace("%s",Me))),M.classList.add(Ce.substring(1).replace("%s",Ne));else{const Me=Ce.replace("%s",Ne).match(/\[([^\]]+)\]/);if(Me){const[He,Qe]=Me[1].split("=");Qe||ce.forEach(Je=>{M.removeAttribute(He.replace(Ne,Je))}),M.setAttribute(He,Qe?Qe.replace(/"|'/g,""):"")}else M.setAttribute(Ce,Ne)}}},[Ne,De,M,ce]),A.useEffect(()=>{let ye;if(j&&F.current&&N){const Ce=N.createElement("style");Ce.appendChild(N.createTextNode(eue)),N.head.appendChild(Ce),window.getComputedStyle(N.body),ye=setTimeout(()=>{N.head.removeChild(Ce)},1)}return()=>{clearTimeout(ye)}},[Ne,j,N]),A.useEffect(()=>(F.current=!0,()=>{F.current=!1}),[]);const Xe=A.useMemo(()=>({allColorSchemes:ce,colorScheme:Ne,darkColorScheme:le,lightColorScheme:me,mode:Te,setColorScheme:be,setMode:he,systemMode:ve}),[ce,Ne,le,me,Te,be,he,ve,Le.colorSchemeSelector]);let ke=!0;(P||Z.cssVariables===!1||Q&&W?.cssVarPrefix===ae)&&(ke=!1);const Ie=c.jsxs(A.Fragment,{children:[c.jsx(wK,{themeId:V?e:void 0,theme:Le,children:w}),ke&&c.jsx(lK,{styles:Le.generateStyleSheets?.()||[]})]});return Q?Ie:c.jsx(u.Provider,{value:Xe,children:Ie})}const x=typeof s=="string"?s:s.light,v=typeof s=="string"?s:s.dark;return{CssVarsProvider:y,useColorScheme:d,getInitColorSchemeScript:C=>Kce({colorSchemeStorageKey:a,defaultLightColorScheme:x,defaultDarkColorScheme:v,modeStorageKey:r,...C})}}function nue(t=""){function e(...r){if(!r.length)return"";const a=r[0];return typeof a=="string"&&!a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${a}${e(...r.slice(1))})`:`, ${a}`}return(r,...a)=>`var(--${t?`${t}-`:""}${r}${e(...a)})`}const rP=(t,e,n,r=[])=>{let a=t;e.forEach((i,s)=>{s===e.length-1?Array.isArray(a)?a[Number(i)]=n:a&&typeof a=="object"&&(a[i]=n):a&&typeof a=="object"&&(a[i]||(a[i]=r.includes(i)?[]:{}),a=a[i])})},rue=(t,e,n)=>{function r(a,i=[],s=[]){Object.entries(a).forEach(([o,l])=>{(!n||n&&!n([...i,o]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...i,o],Array.isArray(l)?[...s,o]:s):e([...i,o],l,s))})}r(t)},aue=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function QE(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},a={},i={},s={};return rue(t,(o,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(o,l))){const d=`--${n?`${n}-`:""}${o.join("-")}`,h=aue(o,l);Object.assign(a,{[d]:h}),rP(i,o,`var(${d})`,u),rP(s,o,`var(${d}, ${h})`,u)}},o=>o[0]==="vars"),{css:a,vars:i,varsWithDefaults:s}}function iue(t,e={}){const{getSelector:n=C,disableCssColorScheme:r,colorSchemeSelector:a,enableContrastVars:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:l="light",...u}=t,{vars:d,css:h,varsWithDefaults:m}=QE(u,e);let y=m;const x={},{[l]:v,..._}=s;if(Object.entries(_||{}).forEach(([E,I])=>{const{vars:j,css:O,varsWithDefaults:L}=QE(I,e);y=ns(y,L),x[E]={css:O,vars:j}}),v){const{css:E,vars:I,varsWithDefaults:j}=QE(v,e);y=ns(y,j),x[l]={css:E,vars:I}}function C(E,I){let j=a;if(a==="class"&&(j=".%s"),a==="data"&&(j="[data-%s]"),a?.startsWith("data-")&&!a.includes("%s")&&(j=`[${a}="%s"]`),E){if(j==="media")return t.defaultColorScheme===E?":root":{[`@media (prefers-color-scheme: ${s[E]?.palette?.mode||E})`]:{":root":I}};if(j)return t.defaultColorScheme===E?`:root, ${j.replace("%s",String(E))}`:j.replace("%s",String(E))}return":root"}return{vars:y,generateThemeVars:()=>{let E={...d};return Object.entries(x).forEach(([,{vars:I}])=>{E=ns(E,I)}),E},generateStyleSheets:()=>{const E=[],I=t.defaultColorScheme||"light";function j(N,M){Object.keys(M).length&&E.push(typeof N=="string"?{[N]:{...M}}:N)}j(n(void 0,{...h}),h);const{[I]:O,...L}=x;if(O){const{css:N}=O,M=s[I]?.palette?.mode,H=!r&&M?{colorScheme:M,...N}:{...N};j(n(I,{...H}),H)}return Object.entries(L).forEach(([N,{css:M}])=>{const H=s[N]?.palette?.mode,P=!r&&H?{colorScheme:H,...M}:{...M};j(n(N,{...P}),P)}),i&&E.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),E}}}function sue(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function Nt(t,e,n=void 0){const r={};for(const a in t){const i=t[a];let s="",o=!0;for(let l=0;l<i.length;l+=1){const u=i[l];u&&(s+=(o===!0?"":" ")+e(u),o=!1,n&&n[u]&&(s+=" "+n[u]))}r[a]=s}return r}const oue=Cy(),lue=Jj("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ue(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),cue=t=>eO({props:t,name:"MuiContainer",defaultTheme:oue}),uue=(t,e)=>{const n=l=>Mt(e,l),{classes:r,fixed:a,disableGutters:i,maxWidth:s}=t,o={root:["root",s&&`maxWidth${Ue(String(s))}`,a&&"fixed",i&&"disableGutters"]};return Nt(o,n,r)};function due(t={}){const{createStyledComponent:e=lue,useThemeProps:n=cue,componentName:r="MuiContainer"}=t,a=e(({theme:s,ownerState:o})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!o.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}}),({theme:s,ownerState:o})=>o.fixed&&Object.keys(s.breakpoints.values).reduce((l,u)=>{const d=u,h=s.breakpoints.values[d];return h!==0&&(l[s.breakpoints.up(d)]={maxWidth:`${h}${s.breakpoints.unit}`}),l},{}),({theme:s,ownerState:o})=>({...o.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},...o.maxWidth&&o.maxWidth!=="xs"&&{[s.breakpoints.up(o.maxWidth)]:{maxWidth:`${s.breakpoints.values[o.maxWidth]}${s.breakpoints.unit}`}}}));return A.forwardRef(function(o,l){const u=n(o),{className:d,component:h="div",disableGutters:m=!1,fixed:y=!1,maxWidth:x="lg",classes:v,..._}=u,C={...u,component:h,disableGutters:m,fixed:y,maxWidth:x},w=uue(C,r);return c.jsx(a,{as:h,ownerState:C,className:ut(w.root,d),ref:l,..._})})}function C2(t,e){return A.isValidElement(t)&&e.indexOf(t.type.muiName??t.type?._payload?.value?.muiName)!==-1}const fue=(t,e)=>t.filter(n=>e.includes(n)),wy=(t,e,n)=>{const r=t.keys[0];Array.isArray(e)?e.forEach((a,i)=>{n((s,o)=>{i<=t.keys.length-1&&(i===0?Object.assign(s,o):s[t.up(t.keys[i])]=o)},a)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:fue(t.keys,Object.keys(e))).forEach(i=>{if(t.keys.includes(i)){const s=e[i];s!==void 0&&n((o,l)=>{r===i?Object.assign(o,l):o[t.up(i)]=l},s)}}):(typeof e=="number"||typeof e=="string")&&n((a,i)=>{Object.assign(a,i)},e)};function J4(t){return`--Grid-${t}Spacing`}function b5(t){return`--Grid-parent-${t}Spacing`}const aP="--Grid-columns",B1="--Grid-parent-columns",hue=({theme:t,ownerState:e})=>{const n={};return wy(t.breakpoints,e.size,(r,a)=>{let i={};a==="grow"&&(i={flexBasis:0,flexGrow:1,maxWidth:"100%"}),a==="auto"&&(i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof a=="number"&&(i={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${a} / var(${B1}) - (var(${B1}) - ${a}) * (var(${b5("column")}) / var(${B1})))`}),r(n,i)}),n},pue=({theme:t,ownerState:e})=>{const n={};return wy(t.breakpoints,e.offset,(r,a)=>{let i={};a==="auto"&&(i={marginLeft:"auto"}),typeof a=="number"&&(i={marginLeft:a===0?"0px":`calc(100% * ${a} / var(${B1}) + var(${b5("column")}) * ${a} / var(${B1}))`}),r(n,i)}),n},mue=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={[aP]:12};return wy(t.breakpoints,e.columns,(r,a)=>{const i=a??12;r(n,{[aP]:i,"> *":{[B1]:i}})}),n},gue=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return wy(t.breakpoints,e.rowSpacing,(r,a)=>{const i=typeof a=="string"?a:t.spacing?.(a);r(n,{[J4("row")]:i,"> *":{[b5("row")]:i}})}),n},yue=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return wy(t.breakpoints,e.columnSpacing,(r,a)=>{const i=typeof a=="string"?a:t.spacing?.(a);r(n,{[J4("column")]:i,"> *":{[b5("column")]:i}})}),n},bue=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return wy(t.breakpoints,e.direction,(r,a)=>{r(n,{flexDirection:a})}),n},xue=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${J4("row")}) var(${J4("column")})`}}),vue=t=>{const e=[];return Object.entries(t).forEach(([n,r])=>{r!==!1&&r!==void 0&&e.push(`grid-${n}-${String(r)}`)}),e},Sue=(t,e="xs")=>{function n(r){return r===void 0?!1:typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number"&&r>0}if(n(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const r=[];return Object.entries(t).forEach(([a,i])=>{n(i)&&r.push(`spacing-${a}-${String(i)}`)}),r}return[]},_ue=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,n])=>`direction-${e}-${n}`):[`direction-xs-${String(t)}`];function Cue(t,e){t.item!==void 0&&delete t.item,t.zeroMinWidth!==void 0&&delete t.zeroMinWidth,e.keys.forEach(n=>{t[n]!==void 0&&delete t[n]})}const wue=Cy(),Eue=Jj("div",{name:"MuiGrid",slot:"Root"});function Tue(t){return eO({props:t,name:"MuiGrid",defaultTheme:wue})}function Aue(t={}){const{createStyledComponent:e=Eue,useThemeProps:n=Tue,useTheme:r=Kv,componentName:a="MuiGrid"}=t,i=(u,d)=>{const{container:h,direction:m,spacing:y,wrap:x,size:v}=u,_={root:["root",h&&"container",x!=="wrap"&&`wrap-xs-${String(x)}`,..._ue(m),...vue(v),...h?Sue(y,d.breakpoints.keys[0]):[]]};return Nt(_,C=>Mt(a,C),{})};function s(u,d,h=()=>!0){const m={};return u===null||(Array.isArray(u)?u.forEach((y,x)=>{y!==null&&h(y)&&d.keys[x]&&(m[d.keys[x]]=y)}):typeof u=="object"?Object.keys(u).forEach(y=>{const x=u[y];x!=null&&h(x)&&(m[y]=x)}):m[d.keys[0]]=u),m}const o=e(mue,yue,gue,hue,bue,xue,pue),l=A.forwardRef(function(d,h){const m=r(),y=n(d),x=u5(y);Cue(x,m.breakpoints);const{className:v,children:_,columns:C=12,container:w=!1,component:T="div",direction:E="row",wrap:I="wrap",size:j={},offset:O={},spacing:L=0,rowSpacing:N=L,columnSpacing:M=L,unstable_level:H=0,...P}=x,$=s(j,m.breakpoints,V=>V!==!1),D=s(O,m.breakpoints),U=d.columns??(H?void 0:C),F=d.spacing??(H?void 0:L),W=d.rowSpacing??d.spacing??(H?void 0:N),ee=d.columnSpacing??d.spacing??(H?void 0:M),Q={...x,level:H,columns:U,container:w,direction:E,wrap:I,spacing:F,rowSpacing:W,columnSpacing:ee,size:$,offset:D},K=i(Q,m);return c.jsx(o,{ref:h,as:T,ownerState:Q,className:ut(K.root,v),...P,children:A.Children.map(_,V=>A.isValidElement(V)&&C2(V,["Grid"])&&w&&V.props.container?A.cloneElement(V,{unstable_level:V.props?.unstable_level??H+1}):V)})});return l.muiName="Grid",l}const Rue=Cy(),kue=Jj("div",{name:"MuiStack",slot:"Root"});function Iue(t){return eO({props:t,name:"MuiStack",defaultTheme:Rue})}function jue(t,e){const n=A.Children.toArray(t).filter(Boolean);return n.reduce((r,a,i)=>(r.push(a),i<n.length-1&&r.push(A.cloneElement(e,{key:`separator-${i}`})),r),[])}const Oue=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],Due=({ownerState:t,theme:e})=>{let n={display:"flex",flexDirection:"column",...Cu({theme:e},GE({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(t.spacing){const r=a5(e),a=Object.keys(e.breakpoints.values).reduce((l,u)=>((typeof t.spacing=="object"&&t.spacing[u]!=null||typeof t.direction=="object"&&t.direction[u]!=null)&&(l[u]=!0),l),{}),i=GE({values:t.direction,base:a}),s=GE({values:t.spacing,base:a});typeof i=="object"&&Object.keys(i).forEach((l,u,d)=>{if(!i[l]){const m=u>0?i[d[u-1]]:"column";i[l]=m}}),n=ns(n,Cu({theme:e},s,(l,u)=>t.useFlexGap?{gap:xg(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Oue(u?i[u]:t.direction)}`]:xg(r,l)}}))}return n=Aoe(e.breakpoints,n),n};function Mue(t={}){const{createStyledComponent:e=kue,useThemeProps:n=Iue,componentName:r="MuiStack"}=t,a=()=>Nt({root:["root"]},l=>Mt(r,l),{}),i=e(Due);return A.forwardRef(function(l,u){const d=n(l),h=u5(d),{component:m="div",direction:y="column",spacing:x=0,divider:v,children:_,className:C,useFlexGap:w=!1,...T}=h,E={direction:y,spacing:x,useFlexGap:w},I=a();return c.jsx(i,{as:m,ownerState:E,ref:u,className:ut(I.root,C),...T,children:v?jue(_,v):_})})}const rv={black:"#000",white:"#fff"},Nue={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},t1={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},n1={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},_x={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},r1={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},a1={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},i1={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function TK(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:rv.white,default:rv.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const AK=TK();function RK(){return{text:{primary:rv.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:rv.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const xk=RK();function iP(t,e,n,r){const a=r.light||r,i=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=y5(t.main,a):e==="dark"&&(t.dark=g5(t.main,i)))}function sP(t,e,n,r,a){const i=a.light||a,s=a.dark||a*1.5;e[n]||(e.hasOwnProperty(r)?e[n]=e[r]:n==="light"?e.light=`color-mix(in ${t}, ${e.main}, #fff ${(i*100).toFixed(0)}%)`:n==="dark"&&(e.dark=`color-mix(in ${t}, ${e.main}, #000 ${(s*100).toFixed(0)}%)`))}function Pue(t="light"){return t==="dark"?{main:r1[200],light:r1[50],dark:r1[400]}:{main:r1[700],light:r1[400],dark:r1[800]}}function Lue(t="light"){return t==="dark"?{main:t1[200],light:t1[50],dark:t1[400]}:{main:t1[500],light:t1[300],dark:t1[700]}}function zue(t="light"){return t==="dark"?{main:n1[500],light:n1[300],dark:n1[700]}:{main:n1[700],light:n1[400],dark:n1[800]}}function Fue(t="light"){return t==="dark"?{main:a1[400],light:a1[300],dark:a1[700]}:{main:a1[700],light:a1[500],dark:a1[900]}}function Bue(t="light"){return t==="dark"?{main:i1[400],light:i1[300],dark:i1[700]}:{main:i1[800],light:i1[500],dark:i1[900]}}function Hue(t="light"){return t==="dark"?{main:_x[400],light:_x[300],dark:_x[700]}:{main:"#ed6c02",light:_x[500],dark:_x[900]}}function Uue(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function iO(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:a,...i}=t,s=t.primary||Pue(e),o=t.secondary||Lue(e),l=t.error||zue(e),u=t.info||Fue(e),d=t.success||Bue(e),h=t.warning||Hue(e);function m(_){return a?Uue(_):Nce(_,xk.text.primary)>=n?xk.text.primary:AK.text.primary}const y=({color:_,name:C,mainShade:w=500,lightShade:T=300,darkShade:E=700})=>{if(_={..._},!_.main&&_[w]&&(_.main=_[w]),!_.hasOwnProperty("main"))throw new Error(qf(11,C?` (${C})`:"",w));if(typeof _.main!="string")throw new Error(qf(12,C?` (${C})`:"",JSON.stringify(_.main)));return a?(sP(a,_,"light",T,r),sP(a,_,"dark",E,r)):(iP(_,"light",T,r),iP(_,"dark",E,r)),_.contrastText||(_.contrastText=m(_.main)),_};let x;return e==="light"?x=TK():e==="dark"&&(x=RK()),ns({common:{...rv},mode:e,primary:y({color:s,name:"primary"}),secondary:y({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:l,name:"error"}),warning:y({color:h,name:"warning"}),info:y({color:u,name:"info"}),success:y({color:d,name:"success"}),grey:Nue,contrastThreshold:n,getContrastText:m,augmentColor:y,tonalOffset:r,...x},i)}function $ue(t){const e={};return Object.entries(t).forEach(r=>{const[a,i]=r;typeof i=="object"&&(e[a]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),e}function Gue(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function que(t){return Math.round(t*1e5)/1e5}const oP={textTransform:"uppercase"},lP='"Roboto", "Helvetica", "Arial", sans-serif';function kK(t,e){const{fontFamily:n=lP,fontSize:r=14,fontWeightLight:a=300,fontWeightRegular:i=400,fontWeightMedium:s=500,fontWeightBold:o=700,htmlFontSize:l=16,allVariants:u,pxToRem:d,...h}=typeof e=="function"?e(t):e,m=r/14,y=d||(_=>`${_/l*m}rem`),x=(_,C,w,T,E)=>({fontFamily:n,fontWeight:_,fontSize:y(C),lineHeight:w,...n===lP?{letterSpacing:`${que(T/C)}em`}:{},...E,...u}),v={h1:x(a,96,1.167,-1.5),h2:x(a,60,1.2,-.5),h3:x(i,48,1.167,0),h4:x(i,34,1.235,.25),h5:x(i,24,1.334,0),h6:x(s,20,1.6,.15),subtitle1:x(i,16,1.75,.15),subtitle2:x(s,14,1.57,.1),body1:x(i,16,1.5,.15),body2:x(i,14,1.43,.15),button:x(s,14,1.75,.4,oP),caption:x(i,12,1.66,.4),overline:x(i,12,2.66,1,oP),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ns({htmlFontSize:l,pxToRem:y,fontFamily:n,fontSize:r,fontWeightLight:a,fontWeightRegular:i,fontWeightMedium:s,fontWeightBold:o,...v},h,{clone:!1})}const Vue=.2,Wue=.14,Yue=.12;function Ta(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Vue})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Wue})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Yue})`].join(",")}const Kue=["none",Ta(0,2,1,-1,0,1,1,0,0,1,3,0),Ta(0,3,1,-2,0,2,2,0,0,1,5,0),Ta(0,3,3,-2,0,3,4,0,0,1,8,0),Ta(0,2,4,-1,0,4,5,0,0,1,10,0),Ta(0,3,5,-1,0,5,8,0,0,1,14,0),Ta(0,3,5,-1,0,6,10,0,0,1,18,0),Ta(0,4,5,-2,0,7,10,1,0,2,16,1),Ta(0,5,5,-3,0,8,10,1,0,3,14,2),Ta(0,5,6,-3,0,9,12,1,0,3,16,2),Ta(0,6,6,-3,0,10,14,1,0,4,18,3),Ta(0,6,7,-4,0,11,15,1,0,4,20,3),Ta(0,7,8,-4,0,12,17,2,0,5,22,4),Ta(0,7,8,-4,0,13,19,2,0,5,24,4),Ta(0,7,9,-4,0,14,21,2,0,5,26,4),Ta(0,8,9,-5,0,15,22,2,0,6,28,5),Ta(0,8,10,-5,0,16,24,2,0,6,30,5),Ta(0,8,11,-5,0,17,26,2,0,6,32,5),Ta(0,9,11,-5,0,18,28,2,0,7,34,6),Ta(0,9,12,-6,0,19,29,2,0,7,36,6),Ta(0,10,13,-6,0,20,31,3,0,8,38,7),Ta(0,10,13,-6,0,21,33,3,0,8,40,7),Ta(0,10,14,-6,0,22,35,3,0,8,42,7),Ta(0,11,14,-7,0,23,36,3,0,9,44,8),Ta(0,11,15,-7,0,24,38,3,0,9,46,8)],Xue={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},IK={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function cP(t){return`${Math.round(t)}ms`}function Que(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Zue(t){const e={...Xue,...t.easing},n={...IK,...t.duration};return{getAutoHeightDuration:Que,create:(a=["all"],i={})=>{const{duration:s=n.standard,easing:o=e.easeInOut,delay:l=0,...u}=i;return(Array.isArray(a)?a:[a]).map(d=>`${d} ${typeof s=="string"?s:cP(s)} ${o} ${typeof l=="string"?l:cP(l)}`).join(",")},...t,easing:e,duration:n}}const Jue={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function ede(t){return Ed(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function jK(t={}){const e={...t};function n(r){const a=Object.entries(r);for(let i=0;i<a.length;i++){const[s,o]=a[i];!ede(o)||s.startsWith("unstable_")?delete r[s]:Ed(o)&&(r[s]={...o},n(r[s]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function uP(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const tde=t=>{if(!Number.isNaN(+t))return+t;const e=t.match(/\d*\.?\d+/g);if(!e)return 0;let n=0;for(let r=0;r<e.length;r+=1)n+=+e[r];return n};function nde(t){Object.assign(t,{alpha(e,n){const r=this||t;return r.colorSpace?`oklch(from ${e} l c h / ${typeof n=="string"?`calc(${n})`:n})`:r.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:_s(e,tde(n))},lighten(e,n){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #fff ${uP(n)})`:y5(e,n)},darken(e,n){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #000 ${uP(n)})`:g5(e,n)}})}function vk(t={},...e){const{breakpoints:n,mixins:r={},spacing:a,palette:i={},transitions:s={},typography:o={},shape:l,colorSpace:u,...d}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(qf(20));const h=iO({...i,colorSpace:u}),m=Cy(t);let y=ns(m,{mixins:Gue(m.breakpoints,r),palette:h,shadows:Kue.slice(),typography:kK(h,o),transitions:Zue(s),zIndex:{...Jue}});return y=ns(y,d),y=e.reduce((x,v)=>ns(x,v),y),y.unstable_sxConfig={...qv,...d?.unstable_sxConfig},y.unstable_sx=function(v){return Ap({sx:v,theme:this})},y.toRuntimeSource=jK,nde(y),y}function Sk(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const rde=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=Sk(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function OK(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function DK(t){return t==="dark"?rde:[]}function ade(t){const{palette:e={mode:"light"},opacity:n,overlays:r,colorSpace:a,...i}=t,s=iO({...e,colorSpace:a});return{palette:s,opacity:{...OK(s.mode),...n},overlays:r||DK(s.mode),...i}}function ide(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const sde=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],ode=t=>(e,n)=>{const r=t.rootSelector||":root",a=t.colorSchemeSelector;let i=a;if(a==="class"&&(i=".%s"),a==="data"&&(i="[data-%s]"),a?.startsWith("data-")&&!a.includes("%s")&&(i=`[${a}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const s={};return sde(t.cssVarPrefix).forEach(o=>{s[o]=n[o],delete n[o]}),i==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:i?{[i.replace("%s",e)]:s,[`${r}, ${i.replace("%s",e)}`]:n}:{[r]:{...n,...s}}}if(i&&i!=="media")return`${r}, ${i.replace("%s",String(e))}`}else if(e){if(i==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(i)return i.replace("%s",String(e))}return r};function lde(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function ct(t,e,n){!t[e]&&n&&(t[e]=n)}function r2(t){return typeof t!="string"||!t.startsWith("hsl")?t:vK(t)}function Tf(t,e){`${e}Channel`in t||(t[`${e}Channel`]=n2(r2(t[e])))}function cde(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const hd=t=>{try{return t()}catch{}},ude=(t="mui")=>nue(t);function ZE(t,e,n,r,a){if(!n)return;n=n===!0?{}:n;const i=a==="dark"?"dark":"light";if(!r){e[a]=ade({...n,palette:{mode:i,...n?.palette},colorSpace:t});return}const{palette:s,...o}=vk({...r,palette:{mode:i,...n?.palette},colorSpace:t});return e[a]={...n,palette:s,opacity:{...OK(i),...n?.opacity},overlays:n?.overlays||DK(i)},o}function dde(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:a=!1,cssVarPrefix:i="mui",nativeColor:s=!1,shouldSkipGeneratingVar:o=ide,colorSchemeSelector:l=n.light&&n.dark?"media":void 0,rootSelector:u=":root",...d}=t,h=Object.keys(n)[0],m=r||(n.light&&h!=="light"?"light":h),y=ude(i),{[m]:x,light:v,dark:_,...C}=n,w={...C};let T=x;if((m==="dark"&&!("dark"in n)||m==="light"&&!("light"in n))&&(T=!0),!T)throw new Error(qf(21,m));let E;s&&(E="oklch");const I=ZE(E,w,T,d,m);v&&!w.light&&ZE(E,w,v,void 0,"light"),_&&!w.dark&&ZE(E,w,_,void 0,"dark");let j={defaultColorScheme:m,...I,cssVarPrefix:i,colorSchemeSelector:l,rootSelector:u,getCssVar:y,colorSchemes:w,font:{...$ue(I.typography),...I.font},spacing:cde(d.spacing)};Object.keys(j.colorSchemes).forEach(H=>{const P=j.colorSchemes[H].palette,$=U=>{const F=U.split("-"),W=F[1],ee=F[2];return y(U,P[W][ee])};P.mode==="light"&&(ct(P.common,"background","#fff"),ct(P.common,"onBackground","#000")),P.mode==="dark"&&(ct(P.common,"background","#000"),ct(P.common,"onBackground","#fff"));function D(U,F,W){if(E){let ee;return U===Im&&(ee=`transparent ${((1-W)*100).toFixed(0)}%`),U===Pr&&(ee=`#000 ${(W*100).toFixed(0)}%`),U===Lr&&(ee=`#fff ${(W*100).toFixed(0)}%`),`color-mix(in ${E}, ${F}, ${ee})`}return U(F,W)}if(lde(P,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),P.mode==="light"){ct(P.Alert,"errorColor",D(Pr,P.error.light,.6)),ct(P.Alert,"infoColor",D(Pr,P.info.light,.6)),ct(P.Alert,"successColor",D(Pr,P.success.light,.6)),ct(P.Alert,"warningColor",D(Pr,P.warning.light,.6)),ct(P.Alert,"errorFilledBg",$("palette-error-main")),ct(P.Alert,"infoFilledBg",$("palette-info-main")),ct(P.Alert,"successFilledBg",$("palette-success-main")),ct(P.Alert,"warningFilledBg",$("palette-warning-main")),ct(P.Alert,"errorFilledColor",hd(()=>P.getContrastText(P.error.main))),ct(P.Alert,"infoFilledColor",hd(()=>P.getContrastText(P.info.main))),ct(P.Alert,"successFilledColor",hd(()=>P.getContrastText(P.success.main))),ct(P.Alert,"warningFilledColor",hd(()=>P.getContrastText(P.warning.main))),ct(P.Alert,"errorStandardBg",D(Lr,P.error.light,.9)),ct(P.Alert,"infoStandardBg",D(Lr,P.info.light,.9)),ct(P.Alert,"successStandardBg",D(Lr,P.success.light,.9)),ct(P.Alert,"warningStandardBg",D(Lr,P.warning.light,.9)),ct(P.Alert,"errorIconColor",$("palette-error-main")),ct(P.Alert,"infoIconColor",$("palette-info-main")),ct(P.Alert,"successIconColor",$("palette-success-main")),ct(P.Alert,"warningIconColor",$("palette-warning-main")),ct(P.AppBar,"defaultBg",$("palette-grey-100")),ct(P.Avatar,"defaultBg",$("palette-grey-400")),ct(P.Button,"inheritContainedBg",$("palette-grey-300")),ct(P.Button,"inheritContainedHoverBg",$("palette-grey-A100")),ct(P.Chip,"defaultBorder",$("palette-grey-400")),ct(P.Chip,"defaultAvatarColor",$("palette-grey-700")),ct(P.Chip,"defaultIconColor",$("palette-grey-700")),ct(P.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ct(P.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ct(P.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ct(P.LinearProgress,"primaryBg",D(Lr,P.primary.main,.62)),ct(P.LinearProgress,"secondaryBg",D(Lr,P.secondary.main,.62)),ct(P.LinearProgress,"errorBg",D(Lr,P.error.main,.62)),ct(P.LinearProgress,"infoBg",D(Lr,P.info.main,.62)),ct(P.LinearProgress,"successBg",D(Lr,P.success.main,.62)),ct(P.LinearProgress,"warningBg",D(Lr,P.warning.main,.62)),ct(P.Skeleton,"bg",E?D(Im,P.text.primary,.11):`rgba(${$("palette-text-primaryChannel")} / 0.11)`),ct(P.Slider,"primaryTrack",D(Lr,P.primary.main,.62)),ct(P.Slider,"secondaryTrack",D(Lr,P.secondary.main,.62)),ct(P.Slider,"errorTrack",D(Lr,P.error.main,.62)),ct(P.Slider,"infoTrack",D(Lr,P.info.main,.62)),ct(P.Slider,"successTrack",D(Lr,P.success.main,.62)),ct(P.Slider,"warningTrack",D(Lr,P.warning.main,.62));const U=E?D(Pr,P.background.default,.6825):p_(P.background.default,.8);ct(P.SnackbarContent,"bg",U),ct(P.SnackbarContent,"color",hd(()=>E?xk.text.primary:P.getContrastText(U))),ct(P.SpeedDialAction,"fabHoverBg",p_(P.background.paper,.15)),ct(P.StepConnector,"border",$("palette-grey-400")),ct(P.StepContent,"border",$("palette-grey-400")),ct(P.Switch,"defaultColor",$("palette-common-white")),ct(P.Switch,"defaultDisabledColor",$("palette-grey-100")),ct(P.Switch,"primaryDisabledColor",D(Lr,P.primary.main,.62)),ct(P.Switch,"secondaryDisabledColor",D(Lr,P.secondary.main,.62)),ct(P.Switch,"errorDisabledColor",D(Lr,P.error.main,.62)),ct(P.Switch,"infoDisabledColor",D(Lr,P.info.main,.62)),ct(P.Switch,"successDisabledColor",D(Lr,P.success.main,.62)),ct(P.Switch,"warningDisabledColor",D(Lr,P.warning.main,.62)),ct(P.TableCell,"border",D(Lr,D(Im,P.divider,1),.88)),ct(P.Tooltip,"bg",D(Im,P.grey[700],.92))}if(P.mode==="dark"){ct(P.Alert,"errorColor",D(Lr,P.error.light,.6)),ct(P.Alert,"infoColor",D(Lr,P.info.light,.6)),ct(P.Alert,"successColor",D(Lr,P.success.light,.6)),ct(P.Alert,"warningColor",D(Lr,P.warning.light,.6)),ct(P.Alert,"errorFilledBg",$("palette-error-dark")),ct(P.Alert,"infoFilledBg",$("palette-info-dark")),ct(P.Alert,"successFilledBg",$("palette-success-dark")),ct(P.Alert,"warningFilledBg",$("palette-warning-dark")),ct(P.Alert,"errorFilledColor",hd(()=>P.getContrastText(P.error.dark))),ct(P.Alert,"infoFilledColor",hd(()=>P.getContrastText(P.info.dark))),ct(P.Alert,"successFilledColor",hd(()=>P.getContrastText(P.success.dark))),ct(P.Alert,"warningFilledColor",hd(()=>P.getContrastText(P.warning.dark))),ct(P.Alert,"errorStandardBg",D(Pr,P.error.light,.9)),ct(P.Alert,"infoStandardBg",D(Pr,P.info.light,.9)),ct(P.Alert,"successStandardBg",D(Pr,P.success.light,.9)),ct(P.Alert,"warningStandardBg",D(Pr,P.warning.light,.9)),ct(P.Alert,"errorIconColor",$("palette-error-main")),ct(P.Alert,"infoIconColor",$("palette-info-main")),ct(P.Alert,"successIconColor",$("palette-success-main")),ct(P.Alert,"warningIconColor",$("palette-warning-main")),ct(P.AppBar,"defaultBg",$("palette-grey-900")),ct(P.AppBar,"darkBg",$("palette-background-paper")),ct(P.AppBar,"darkColor",$("palette-text-primary")),ct(P.Avatar,"defaultBg",$("palette-grey-600")),ct(P.Button,"inheritContainedBg",$("palette-grey-800")),ct(P.Button,"inheritContainedHoverBg",$("palette-grey-700")),ct(P.Chip,"defaultBorder",$("palette-grey-700")),ct(P.Chip,"defaultAvatarColor",$("palette-grey-300")),ct(P.Chip,"defaultIconColor",$("palette-grey-300")),ct(P.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ct(P.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ct(P.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ct(P.LinearProgress,"primaryBg",D(Pr,P.primary.main,.5)),ct(P.LinearProgress,"secondaryBg",D(Pr,P.secondary.main,.5)),ct(P.LinearProgress,"errorBg",D(Pr,P.error.main,.5)),ct(P.LinearProgress,"infoBg",D(Pr,P.info.main,.5)),ct(P.LinearProgress,"successBg",D(Pr,P.success.main,.5)),ct(P.LinearProgress,"warningBg",D(Pr,P.warning.main,.5)),ct(P.Skeleton,"bg",E?D(Im,P.text.primary,.13):`rgba(${$("palette-text-primaryChannel")} / 0.13)`),ct(P.Slider,"primaryTrack",D(Pr,P.primary.main,.5)),ct(P.Slider,"secondaryTrack",D(Pr,P.secondary.main,.5)),ct(P.Slider,"errorTrack",D(Pr,P.error.main,.5)),ct(P.Slider,"infoTrack",D(Pr,P.info.main,.5)),ct(P.Slider,"successTrack",D(Pr,P.success.main,.5)),ct(P.Slider,"warningTrack",D(Pr,P.warning.main,.5));const U=E?D(Lr,P.background.default,.985):p_(P.background.default,.98);ct(P.SnackbarContent,"bg",U),ct(P.SnackbarContent,"color",hd(()=>E?AK.text.primary:P.getContrastText(U))),ct(P.SpeedDialAction,"fabHoverBg",p_(P.background.paper,.15)),ct(P.StepConnector,"border",$("palette-grey-600")),ct(P.StepContent,"border",$("palette-grey-600")),ct(P.Switch,"defaultColor",$("palette-grey-300")),ct(P.Switch,"defaultDisabledColor",$("palette-grey-600")),ct(P.Switch,"primaryDisabledColor",D(Pr,P.primary.main,.55)),ct(P.Switch,"secondaryDisabledColor",D(Pr,P.secondary.main,.55)),ct(P.Switch,"errorDisabledColor",D(Pr,P.error.main,.55)),ct(P.Switch,"infoDisabledColor",D(Pr,P.info.main,.55)),ct(P.Switch,"successDisabledColor",D(Pr,P.success.main,.55)),ct(P.Switch,"warningDisabledColor",D(Pr,P.warning.main,.55)),ct(P.TableCell,"border",D(Pr,D(Im,P.divider,1),.68)),ct(P.Tooltip,"bg",D(Im,P.grey[700],.92))}Tf(P.background,"default"),Tf(P.background,"paper"),Tf(P.common,"background"),Tf(P.common,"onBackground"),Tf(P,"divider"),Object.keys(P).forEach(U=>{const F=P[U];U!=="tonalOffset"&&F&&typeof F=="object"&&(F.main&&ct(P[U],"mainChannel",n2(r2(F.main))),F.light&&ct(P[U],"lightChannel",n2(r2(F.light))),F.dark&&ct(P[U],"darkChannel",n2(r2(F.dark))),F.contrastText&&ct(P[U],"contrastTextChannel",n2(r2(F.contrastText))),U==="text"&&(Tf(P[U],"primary"),Tf(P[U],"secondary")),U==="action"&&(F.active&&Tf(P[U],"active"),F.selected&&Tf(P[U],"selected")))})}),j=e.reduce((H,P)=>ns(H,P),j);const O={prefix:i,disableCssColorScheme:a,shouldSkipGeneratingVar:o,getSelector:ode(j),enableContrastVars:s},{vars:L,generateThemeVars:N,generateStyleSheets:M}=iue(j,O);return j.vars=L,Object.entries(j.colorSchemes[j.defaultColorScheme]).forEach(([H,P])=>{j[H]=P}),j.generateThemeVars=N,j.generateStyleSheets=M,j.generateSpacing=function(){return uK(d.spacing,a5(this))},j.getColorSchemeSelector=sue(l),j.spacing=j.generateSpacing(),j.shouldSkipGeneratingVar=o,j.unstable_sxConfig={...qv,...d?.unstable_sxConfig},j.unstable_sx=function(P){return Ap({sx:P,theme:this})},j.toRuntimeSource=jK,j}function dP(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:iO({...n===!0?{}:n.palette,mode:e})})}function x5(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:a=n?void 0:{light:!0},defaultColorScheme:i=n?.mode,...s}=t,o=i||"light",l=a?.[o],u={...a,...n?{[o]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return vk(t,...e);let d=n;"palette"in t||u[o]&&(u[o]!==!0?d=u[o].palette:o==="dark"&&(d={mode:"dark"}));const h=vk({...t,palette:d},...e);return h.defaultColorScheme=o,h.colorSchemes=u,h.palette.mode==="light"&&(h.colorSchemes.light={...u.light!==!0&&u.light,palette:h.palette},dP(h,"dark",u.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:h.palette},dP(h,"light",u.light)),h}return!n&&!("light"in u)&&o==="light"&&(u.light=!0),dde({...s,colorSchemes:u,defaultColorScheme:o,...typeof r!="boolean"&&r},...e)}const sO=x5(),vu="$$material";function os(){const t=Kv(sO);return t[vu]||t}function fde(t){return c.jsx(dK,{...t,defaultTheme:sO,themeId:vu})}function v5(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const ki=t=>v5(t)&&t!=="classes",$e=gK({themeId:vu,defaultTheme:sO,rootShouldForwardProp:ki});function oO(t){return function(n){return c.jsx(fde,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function hde(){return u5}function zt(t){return $ce(t)}const _k=typeof oO({})=="function",pde=(t,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!t.vars&&{colorScheme:t.palette.mode}}),mde=t=>({color:(t.vars||t).palette.text.primary,...t.typography.body1,backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),MK=(t,e=!1)=>{const n={};e&&t.colorSchemes&&typeof t.getColorSchemeSelector=="function"&&Object.entries(t.colorSchemes).forEach(([i,s])=>{const o=t.getColorSchemeSelector(i);o.startsWith("@")?n[o]={":root":{colorScheme:s.palette?.mode}}:n[o.replace(/\s*&/,"")]={colorScheme:s.palette?.mode}});let r={html:pde(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:{margin:0,...mde(t),"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}},...n};const a=t.components?.MuiCssBaseline?.styleOverrides;return a&&(r=[r,a]),r},k4="mui-ecs",gde=t=>{const e=MK(t,!1),n=Array.isArray(e)?e[0]:e;return!t.vars&&n&&(n.html[`:root:has(${k4})`]={colorScheme:t.palette.mode}),t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([r,a])=>{const i=t.getColorSchemeSelector(r);i.startsWith("@")?n[i]={[`:root:not(:has(.${k4}))`]:{colorScheme:a.palette?.mode}}:n[i.replace(/\s*&/,"")]={[`&:not(:has(.${k4}))`]:{colorScheme:a.palette?.mode}}}),e},yde=oO(_k?({theme:t,enableColorScheme:e})=>MK(t,e):({theme:t})=>gde(t));function bde(t){const e=zt({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return c.jsxs(A.Fragment,{children:[_k&&c.jsx(yde,{enableColorScheme:r}),!_k&&!r&&c.jsx("span",{className:k4,style:{display:"none"}}),n]})}var Ey=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xde={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},vde=class{#e=xde;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Xm=new vde;function Sde(t){setTimeout(t,0)}var vg=typeof window>"u"||"Deno"in globalThis;function xo(){}function _de(t,e){return typeof t=="function"?t(e):t}function Ck(t){return typeof t=="number"&&t>=0&&t!==1/0}function NK(t,e){return Math.max(t+(e||0)-Date.now(),0)}function xp(t,e){return typeof t=="function"?t(e):t}function yc(t,e){return typeof t=="function"?t(e):t}function fP(t,e){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:s,stale:o}=t;if(s){if(r){if(e.queryHash!==lO(s,e.options))return!1}else if(!av(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||a&&a!==e.state.fetchStatus||i&&!i(e))}function hP(t,e){const{exact:n,status:r,predicate:a,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Sg(e.options.mutationKey)!==Sg(i))return!1}else if(!av(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function lO(t,e){return(e?.queryKeyHashFn||Sg)(t)}function Sg(t){return JSON.stringify(t,(e,n)=>wk(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function av(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>av(t[n],e[n])):!1}var Cde=Object.prototype.hasOwnProperty;function PK(t,e){if(t===e)return t;const n=pP(t)&&pP(e);if(!n&&!(wk(t)&&wk(e)))return e;const a=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),s=i.length,o=n?new Array(s):{};let l=0;for(let u=0;u<s;u++){const d=n?u:i[u],h=t[d],m=e[d];if(h===m){o[d]=h,(n?u<a:Cde.call(t,d))&&l++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){o[d]=m;continue}const y=PK(h,m);o[d]=y,y===h&&l++}return a===s&&l===a?t:o}function eC(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function pP(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function wk(t){if(!mP(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!mP(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function mP(t){return Object.prototype.toString.call(t)==="[object Object]"}function wde(t){return new Promise(e=>{Xm.setTimeout(e,t)})}function Ek(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?PK(t,e):e}function Ede(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Tde(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var cO=Symbol();function LK(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===cO?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function zK(t,e){return typeof t=="function"?t(...e):!!t}var Ade=class extends Ey{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!vg&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},uO=new Ade;function Tk(){let t,e;const n=new Promise((a,i)=>{t=a,e=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),t(a)},n.reject=a=>{r({status:"rejected",reason:a}),e(a)},n}var Rde=Sde;function kde(){let t=[],e=0,n=o=>{o()},r=o=>{o()},a=Rde;const i=o=>{e?t.push(o):a(()=>{n(o)})},s=()=>{const o=t;t=[],o.length&&a(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||s()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{a=o}}}var $i=kde(),Ide=class extends Ey{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!vg&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},tC=new Ide;function jde(t){return Math.min(1e3*2**t,3e4)}function FK(t){return(t??"online")==="online"?tC.isOnline():!0}var Ak=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function BK(t){let e=!1,n=0,r;const a=Tk(),i=()=>a.status!=="pending",s=v=>{if(!i()){const _=new Ak(v);m(_),t.onCancel?.(_)}},o=()=>{e=!0},l=()=>{e=!1},u=()=>uO.isFocused()&&(t.networkMode==="always"||tC.isOnline())&&t.canRun(),d=()=>FK(t.networkMode)&&t.canRun(),h=v=>{i()||(r?.(),a.resolve(v))},m=v=>{i()||(r?.(),a.reject(v))},y=()=>new Promise(v=>{r=_=>{(i()||u())&&v(_)},t.onPause?.()}).then(()=>{r=void 0,i()||t.onContinue?.()}),x=()=>{if(i())return;let v;const _=n===0?t.initialPromise:void 0;try{v=_??t.fn()}catch(C){v=Promise.reject(C)}Promise.resolve(v).then(h).catch(C=>{if(i())return;const w=t.retry??(vg?0:3),T=t.retryDelay??jde,E=typeof T=="function"?T(n,C):T,I=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,C);if(e||!I){m(C);return}n++,t.onFail?.(n,C),wde(E).then(()=>u()?void 0:y()).then(()=>{e?m(C):x()})})};return{promise:a,status:()=>a.status,cancel:s,continue:()=>(r?.(),a),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?x():y().then(x),a)}}var HK=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ck(this.gcTime)&&(this.#e=Xm.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(vg?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Xm.clearTimeout(this.#e),this.#e=void 0)}},Ode=class extends HK{#e;#t;#n;#a;#r;#s;#o;constructor(t){super(),this.#o=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#a=t.client,this.#n=this.#a.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=gP(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=gP(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=Ek(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(xo).catch(xo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>yc(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>xp(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!NK(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const o=this.observers.find(l=>l.options.queryFn);o&&this.setOptions(o.options)}const n=new AbortController,r=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},a=()=>{const o=LK(this.options,e),u=(()=>{const d={client:this.#a,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#o=!1,this.options.persister?this.options.persister(o,u,this):o(u)},s=(()=>{const o={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:a};return r(o),o})();this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#i({type:"fetch",meta:s.fetchOptions?.meta}),this.#r=BK({initialPromise:e?.initialPromise,fn:s.fetchFn,onCancel:o=>{o instanceof Ak&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(o,l)=>{this.#i({type:"failed",failureCount:o,error:l})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0});try{const o=await this.#r.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#n.config.onSuccess?.(o,this),this.#n.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof Ak){if(o.silent)return this.#r.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#i({type:"error",error:o}),this.#n.config.onError?.(o,this),this.#n.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...UK(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),$i.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function UK(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:FK(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function gP(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $K=class extends Ey{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#o=Tk(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#a=void 0;#r;#s;#o;#i;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),yP(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Rk(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Rk(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#S(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof yc(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),e._defaulted&&!eC(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&bP(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||yc(this.options.enabled,this.#t)!==yc(e.enabled,this.#t)||xp(this.options.staleTime,this.#t)!==xp(e.staleTime,this.#t))&&this.#g();const a=this.#y();r&&(this.#t!==n||yc(this.options.enabled,this.#t)!==yc(e.enabled,this.#t)||a!==this.#l)&&this.#b(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return Mde(this,n)&&(this.#a=n,this.#s=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#a}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(t){this.#_();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(xo)),e}#g(){this.#v();const t=xp(this.options.staleTime,this.#t);if(vg||this.#a.isStale||!Ck(t))return;const n=NK(this.#a.dataUpdatedAt,t)+1;this.#c=Xm.setTimeout(()=>{this.#a.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(t){this.#S(),this.#l=t,!(vg||yc(this.options.enabled,this.#t)===!1||!Ck(this.#l)||this.#l===0)&&(this.#u=Xm.setInterval(()=>{(this.options.refetchIntervalInBackground||uO.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#b(this.#y())}#v(){this.#c&&(Xm.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(Xm.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,a=this.#a,i=this.#r,s=this.#s,l=t!==n?t.state:this.#n,{state:u}=t;let d={...u},h=!1,m;if(e._optimisticResults){const L=this.hasListeners(),N=!L&&yP(t,e),M=L&&bP(t,n,e,r);(N||M)&&(d={...d,...UK(u.data,t.options)}),e._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:y,errorUpdatedAt:x,status:v}=d;m=d.data;let _=!1;if(e.placeholderData!==void 0&&m===void 0&&v==="pending"){let L;a?.isPlaceholderData&&e.placeholderData===s?.placeholderData?(L=a.data,_=!0):L=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,L!==void 0&&(v="success",m=Ek(a?.data,L,e),h=!0)}if(e.select&&m!==void 0&&!_)if(a&&m===i?.data&&e.select===this.#m)m=this.#f;else try{this.#m=e.select,m=e.select(m),m=Ek(a?.data,m,e),this.#f=m,this.#i=null}catch(L){this.#i=L}this.#i&&(y=this.#i,m=this.#f,x=Date.now(),v="error");const C=d.fetchStatus==="fetching",w=v==="pending",T=v==="error",E=w&&C,I=m!==void 0,O={status:v,fetchStatus:d.fetchStatus,isPending:w,isSuccess:v==="success",isError:T,isInitialLoading:E,isLoading:E,data:m,dataUpdatedAt:d.dataUpdatedAt,error:y,errorUpdatedAt:x,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:C,isRefetching:C&&!w,isLoadingError:T&&!I,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:T&&I,isStale:dO(t,e),refetch:this.refetch,promise:this.#o,isEnabled:yc(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const L=H=>{O.status==="error"?H.reject(O.error):O.data!==void 0&&H.resolve(O.data)},N=()=>{const H=this.#o=O.promise=Tk();L(H)},M=this.#o;switch(M.status){case"pending":t.queryHash===n.queryHash&&L(M);break;case"fulfilled":(O.status==="error"||O.data!==M.value)&&N();break;case"rejected":(O.status!=="error"||O.error!==M.reason)&&N();break}}return O}updateResult(){const t=this.#a,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#s=this.options,this.#r.data!==void 0&&(this.#h=this.#t),eC(e,t))return;this.#a=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!this.#p.size)return!0;const i=new Set(a??this.#p);return this.options.throwOnError&&i.add("error"),Object.keys(this.#a).some(s=>{const o=s;return this.#a[o]!==t[o]&&i.has(o)})};this.#C({listeners:n()})}#_(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#C(t){$i.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Dde(t,e){return yc(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function yP(t,e){return Dde(t,e)||t.state.data!==void 0&&Rk(t,e,e.refetchOnMount)}function Rk(t,e,n){if(yc(e.enabled,t)!==!1&&xp(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&dO(t,e)}return!1}function bP(t,e,n,r){return(t!==e||yc(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&dO(t,n)}function dO(t,e){return yc(e.enabled,t)!==!1&&t.isStaleByTime(xp(e.staleTime,t))}function Mde(t,e){return!eC(t.getCurrentResult(),e)}function nC(t){return{onFetch:(e,n)=>{const r=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],s=e.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let d=!1;const h=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},m=LK(e.options,e.fetchOptions),y=async(x,v,_)=>{if(d)return Promise.reject();if(v==null&&x.pages.length)return Promise.resolve(x);const w=(()=>{const j={client:e.client,queryKey:e.queryKey,pageParam:v,direction:_?"backward":"forward",meta:e.options.meta};return h(j),j})(),T=await m(w),{maxPages:E}=e.options,I=_?Tde:Ede;return{pages:I(x.pages,T,E),pageParams:I(x.pageParams,v,E)}};if(a&&i.length){const x=a==="backward",v=x?GK:kk,_={pages:i,pageParams:s},C=v(r,_);o=await y(_,C,x)}else{const x=t??i.length;do{const v=l===0?s[0]??r.initialPageParam:kk(r,o);if(l>0&&v==null)break;o=await y(o,v),l++}while(l<x)}return o};e.options.persister?e.fetchFn=()=>e.options.persister?.(u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=u}}}function kk(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function GK(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}function Nde(t,e){return e?kk(t,e)!=null:!1}function Pde(t,e){return!e||!t.getPreviousPageParam?!1:GK(t,e)!=null}var Lde=class extends $K{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:nC()})}getOptimisticResult(t){return t.behavior=nC(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){const{state:n}=t,r=super.createResult(t,e),{isFetching:a,isRefetching:i,isError:s,isRefetchError:o}=r,l=n.fetchMeta?.fetchMore?.direction,u=s&&l==="forward",d=a&&l==="forward",h=s&&l==="backward",m=a&&l==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Nde(e,n.data),hasPreviousPage:Pde(e,n.data),isFetchNextPageError:u,isFetchingNextPage:d,isFetchPreviousPageError:h,isFetchingPreviousPage:m,isRefetchError:o&&!u&&!h,isRefetching:i&&!d&&!m}}},zde=class extends HK{#e;#t;#n;#a;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||qK(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=BK({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#r({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",a=!this.#a.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:a}),await this.#n.config.onMutate?.(t,this,n);const s=await this.options.onMutate?.(t,n);s!==this.state.context&&this.#r({type:"pending",context:s,variables:t,isPaused:a})}const i=await this.#a.start();return await this.#n.config.onSuccess?.(i,t,this.state.context,this,n),await this.options.onSuccess?.(i,t,this.state.context,n),await this.#n.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,t,this.state.context,n),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#n.config.onError?.(i,t,this.state.context,this,n),await this.options.onError?.(i,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,i,t,this.state.context,n),i}finally{this.#r({type:"error",error:i})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),$i.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function qK(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fde=class extends Ey{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new zde({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=m_(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=m_(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=m_(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(a=>a.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=m_(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){$i.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>hP(e,n))}findAll(t={}){return this.getAll().filter(e=>hP(t,e))}notify(t){$i.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return $i.batch(()=>Promise.all(t.map(e=>e.continue().catch(xo))))}};function m_(t){return t.options.scope?.id}var Bde=class extends Ey{#e;#t=void 0;#n;#a;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),eC(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Sg(n.mutationKey)!==Sg(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#s()}mutate(e,n){return this.#a=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??qK();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){$i.batch(()=>{if(this.#a&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#a.onSuccess?.(e.data,n,r,a),this.#a.onSettled?.(e.data,null,n,r,a)):e?.type==="error"&&(this.#a.onError?.(e.error,n,r,a),this.#a.onSettled?.(void 0,e.error,n,r,a))}this.listeners.forEach(n=>{n(this.#t)})})}},Hde=class extends Ey{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,a=e.queryHash??lO(r,e);let i=this.get(a);return i||(i=new Ode({client:t,queryKey:r,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$i.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>fP(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>fP(t,n)):e}notify(t){$i.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){$i.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$i.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ude=class{#e;#t;#n;#a;#r;#s;#o;#i;constructor(t={}){this.#e=t.queryCache||new Hde,this.#t=t.mutationCache||new Fde,this.#n=t.defaultOptions||{},this.#a=new Map,this.#r=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=uO.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=tC.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(xp(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(r.queryHash)?.state.data,s=_de(e,i);if(s!==void 0)return this.#e.build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return $i.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;$i.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return $i.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=$i.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(r).then(xo).catch(xo)}invalidateQueries(t,e={}){return $i.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=$i.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(xo)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(xo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(xp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(xo).catch(xo)}fetchInfiniteQuery(t){return t.behavior=nC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(xo).catch(xo)}ensureInfiniteQueryData(t){return t.behavior=nC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return tC.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#a.set(Sg(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#a.values()],n={};return e.forEach(r=>{av(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Sg(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{av(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=lO(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===cO&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},VK=A.createContext(void 0),Lp=t=>{const e=A.useContext(VK);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},$de=({client:t,children:e})=>(A.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(VK.Provider,{value:t,children:e})),WK=A.createContext(!1),Gde=()=>A.useContext(WK);WK.Provider;function qde(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Vde=A.createContext(qde()),Wde=()=>A.useContext(Vde),Yde=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Kde=t=>{A.useEffect(()=>{t.clearReset()},[t])},Xde=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(a&&t.data===void 0||zK(n,[t.error,r])),Qde=t=>{if(t.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...a)=>n(r(...a)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Zde=(t,e)=>t.isLoading&&t.isFetching&&!e,Jde=(t,e)=>t?.suspense&&e.isPending,xP=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function YK(t,e,n){const r=Gde(),a=Wde(),i=Lp(),s=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(s),s._optimisticResults=r?"isRestoring":"optimistic",Qde(s),Yde(s,a),Kde(a);const o=!i.getQueryCache().get(s.queryHash),[l]=A.useState(()=>new e(i,s)),u=l.getOptimisticResult(s),d=!r&&t.subscribed!==!1;if(A.useSyncExternalStore(A.useCallback(h=>{const m=d?l.subscribe($i.batchCalls(h)):xo;return l.updateResult(),m},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),A.useEffect(()=>{l.setOptions(s)},[s,l]),Jde(s,u))throw xP(s,l,a);if(Xde({result:u,errorResetBoundary:a,throwOnError:s.throwOnError,query:i.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(s,u),s.experimental_prefetchInRender&&!vg&&Zde(u,r)&&(o?xP(s,l,a):i.getQueryCache().get(s.queryHash)?.promise)?.catch(xo).finally(()=>{l.updateResult()}),s.notifyOnChangeProps?u:l.trackResult(u)}function Ty(t,e){return YK(t,$K)}function Xv(t,e){const n=Lp(),[r]=A.useState(()=>new Bde(n,t));A.useEffect(()=>{r.setOptions(t)},[r,t]);const a=A.useSyncExternalStore(A.useCallback(s=>r.subscribe($i.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=A.useCallback((s,o)=>{r.mutate(s,o).catch(xo)},[r]);if(a.error&&zK(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}function efe(t,e){return YK(t,Lde)}const Sn=t=>typeof t=="string",Cx=()=>{let t,e;const n=new Promise((r,a)=>{t=r,e=a});return n.resolve=t,n.reject=e,n},vP=t=>t==null?"":""+t,tfe=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},nfe=/###/g,SP=t=>t&&t.indexOf("###")>-1?t.replace(nfe,"."):t,_P=t=>!t||Sn(t),w2=(t,e,n)=>{const r=Sn(e)?e.split("."):e;let a=0;for(;a<r.length-1;){if(_P(t))return{};const i=SP(r[a]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++a}return _P(t)?{}:{obj:t,k:SP(r[a])}},CP=(t,e,n)=>{const{obj:r,k:a}=w2(t,e,Object);if(r!==void 0||e.length===1){r[a]=n;return}let i=e[e.length-1],s=e.slice(0,e.length-1),o=w2(t,s,Object);for(;o.obj===void 0&&s.length;)i=`${s[s.length-1]}.${i}`,s=s.slice(0,s.length-1),o=w2(t,s,Object),o?.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=n},rfe=(t,e,n,r)=>{const{obj:a,k:i}=w2(t,e,Object);a[i]=a[i]||[],a[i].push(n)},rC=(t,e)=>{const{obj:n,k:r}=w2(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},afe=(t,e,n)=>{const r=rC(t,n);return r!==void 0?r:rC(e,n)},KK=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?Sn(t[r])||t[r]instanceof String||Sn(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):KK(t[r],e[r],n):t[r]=e[r]);return t},s1=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ife={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const sfe=t=>Sn(t)?t.replace(/[&<>"'\/]/g,e=>ife[e]):t;class ofe{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const lfe=[" ",",","?","!",";"],cfe=new ofe(20),ufe=(t,e,n)=>{e=e||"",n=n||"";const r=lfe.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const a=cfe.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let i=!a.test(t);if(!i){const s=t.indexOf(n);s>0&&!a.test(t.substring(0,s))&&(i=!0)}return i},Ik=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let a=t;for(let i=0;i<r.length;){if(!a||typeof a!="object")return;let s,o="";for(let l=i;l<r.length;++l)if(l!==i&&(o+=n),o+=r[l],s=a[o],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&l<r.length-1)continue;i+=l-i+1;break}a=s}return a},iv=t=>t?.replace("_","-"),dfe={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class aC{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||dfe,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,a){return a&&!this.debug?null:(Sn(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new aC(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new aC(this.logger,e)}}var Rd=new aC;class S5{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const a=this.observers[r].get(n)||0;this.observers[r].set(n,a+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,i])=>{for(let s=0;s<i;s++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,i])=>{for(let s=0;s<i;s++)a.apply(a,[e,...n])})}}class wP extends S5{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,a={}){const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,s=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,n],r&&(Array.isArray(r)?o.push(...r):Sn(r)&&i?o.push(...r.split(i)):o.push(r)));const l=rC(this.data,o);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=o[0],n=o[1],r=o.slice(2).join(".")),l||!s||!Sn(r)?l:Ik(this.data?.[e]?.[n],r,i)}addResource(e,n,r,a,i={silent:!1}){const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[e,n];r&&(o=o.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(o=e.split("."),a=n,n=o[1]),this.addNamespaces(n),CP(this.data,o,a),i.silent||this.emit("added",e,n,r,a)}addResources(e,n,r,a={silent:!1}){for(const i in r)(Sn(r[i])||Array.isArray(r[i]))&&this.addResource(e,n,i,r[i],{silent:!0});a.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,a,i,s={silent:!1,skipCopy:!1}){let o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),a=r,r=n,n=o[1]),this.addNamespaces(n);let l=rC(this.data,o)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?KK(l,r,i):l={...l,...r},CP(this.data,o,l),s.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var XK={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,a){return t.forEach(i=>{e=this.processors[i]?.process(e,n,r,a)??e}),e}};const QK=Symbol("i18next/PATH_KEY");function ffe(){const t=[],e=Object.create(null);let n;return e.get=(r,a)=>(n?.revoke?.(),a===QK?t:(t.push(a),n=Proxy.revocable(r,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function jk(t,e){const{[QK]:n}=t(ffe());return n.join(e?.keySeparator??".")}const EP={},JE=t=>!Sn(t)&&typeof t!="boolean"&&typeof t!="number";class iC extends S5{constructor(e,n={}){super(),tfe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Rd.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const a=this.resolve(e,r);if(a?.res===void 0)return!1;const i=JE(a.res);return!(r.returnObjects===!1&&i)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!ufe(e,r,a);if(s&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:Sn(i)?[i]:i};const u=e.split(r);(r!==a||r===a&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(a)}return{key:e,namespaces:Sn(i)?[i]:i}}translate(e,n,r){let a=typeof n=="object"?{...n}:n;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),e==null)return"";typeof e=="function"&&(e=jk(e,{...this.options,...a})),Array.isArray(e)||(e=[String(e)]);const i=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],a),u=l[l.length-1];let d=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const h=a.lng||this.language,m=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h?.toLowerCase()==="cimode")return m?i?{res:`${u}${d}${o}`,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:`${u}${d}${o}`:i?{res:o,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:o;const y=this.resolve(e,a);let x=y?.res;const v=y?.usedKey||o,_=y?.exactUsedKey||o,C=["[object Number]","[object Function]","[object RegExp]"],w=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject,E=a.count!==void 0&&!Sn(a.count),I=iC.hasDefaultValue(a),j=E?this.pluralResolver.getSuffix(h,a.count,a):"",O=a.ordinal&&E?this.pluralResolver.getSuffix(h,a.count,{ordinal:!1}):"",L=E&&!a.ordinal&&a.count===0,N=L&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${j}`]||a[`defaultValue${O}`]||a.defaultValue;let M=x;T&&!x&&I&&(M=N);const H=JE(M),P=Object.prototype.toString.apply(M);if(T&&M&&H&&C.indexOf(P)<0&&!(Sn(w)&&Array.isArray(M))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const $=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,M,{...a,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(y.res=$,y.usedParams=this.getUsedParamsDetails(a),y):$}if(s){const $=Array.isArray(M),D=$?[]:{},U=$?_:v;for(const F in M)if(Object.prototype.hasOwnProperty.call(M,F)){const W=`${U}${s}${F}`;I&&!x?D[F]=this.translate(W,{...a,defaultValue:JE(N)?N[F]:void 0,joinArrays:!1,ns:l}):D[F]=this.translate(W,{...a,joinArrays:!1,ns:l}),D[F]===W&&(D[F]=M[F])}x=D}}else if(T&&Sn(w)&&Array.isArray(x))x=x.join(w),x&&(x=this.extendTranslation(x,e,a,r));else{let $=!1,D=!1;!this.isValidLookup(x)&&I&&($=!0,x=N),this.isValidLookup(x)||(D=!0,x=o);const F=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&D?void 0:x,W=I&&N!==x&&this.options.updateMissing;if(D||$||W){if(this.logger.log(W?"updateKey":"missingKey",h,u,o,W?N:x),s){const V=this.resolve(o,{...a,keySeparator:!1});V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ee=[];const Q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Q&&Q[0])for(let V=0;V<Q.length;V++)ee.push(Q[V]);else this.options.saveMissingTo==="all"?ee=this.languageUtils.toResolveHierarchy(a.lng||this.language):ee.push(a.lng||this.language);const K=(V,Z,q)=>{const te=I&&q!==x?q:F;this.options.missingKeyHandler?this.options.missingKeyHandler(V,u,Z,te,W,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(V,u,Z,te,W,a),this.emit("missingKey",V,u,Z,x)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?ee.forEach(V=>{const Z=this.pluralResolver.getSuffixes(V,a);L&&a[`defaultValue${this.options.pluralSeparator}zero`]&&Z.indexOf(`${this.options.pluralSeparator}zero`)<0&&Z.push(`${this.options.pluralSeparator}zero`),Z.forEach(q=>{K([V],o+q,a[`defaultValue${q}`]||N)})}):K(ee,o,N))}x=this.extendTranslation(x,e,a,y,r),D&&x===o&&this.options.appendNamespaceToMissingKey&&(x=`${u}${d}${o}`),(D||$)&&this.options.parseMissingKeyHandler&&(x=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${o}`:o,$?x:void 0,a))}return i?(y.res=x,y.usedParams=this.getUsedParamsDetails(a),y):x}extendTranslation(e,n,r,a,i){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const l=Sn(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(l){const h=e.match(this.interpolator.nestingRegexp);u=h&&h.length}let d=r.replace&&!Sn(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,r.lng||this.language||a.usedLng,r),l){const h=e.match(this.interpolator.nestingRegexp),m=h&&h.length;u<m&&(r.nest=!1)}!r.lng&&a&&a.res&&(r.lng=this.language||a.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...h)=>i?.[0]===h[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${n[0]}`),null):this.translate(...h,n),r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,o=Sn(s)?[s]:s;return e!=null&&o?.length&&r.applyPostProcessor!==!1&&(e=XK.handle(o,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,a,i,s,o;return Sn(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),d=u.key;a=d;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const m=n.count!==void 0&&!Sn(n.count),y=m&&!n.ordinal&&n.count===0,x=n.context!==void 0&&(Sn(n.context)||typeof n.context=="number")&&n.context!=="",v=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(_=>{this.isValidLookup(r)||(o=_,!EP[`${v[0]}-${_}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(EP[`${v[0]}-${_}`]=!0,this.logger.warn(`key "${a}" for languages "${v.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(C=>{if(this.isValidLookup(r))return;s=C;const w=[d];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(w,d,C,_,n);else{let E;m&&(E=this.pluralResolver.getSuffix(C,n.count,n));const I=`${this.options.pluralSeparator}zero`,j=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(n.ordinal&&E.indexOf(j)===0&&w.push(d+E.replace(j,this.options.pluralSeparator)),w.push(d+E),y&&w.push(d+I)),x){const O=`${d}${this.options.contextSeparator||"_"}${n.context}`;w.push(O),m&&(n.ordinal&&E.indexOf(j)===0&&w.push(O+E.replace(j,this.options.pluralSeparator)),w.push(O+E),y&&w.push(O+I))}}let T;for(;T=w.pop();)this.isValidLookup(r)||(i=T,r=this.getResource(C,_,T,n))}))})}),{res:r,usedKey:a,exactUsedKey:i,usedLng:s,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,r,a):this.resourceStore.getResource(e,n,r,a)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Sn(e.replace);let a=r?e.replace:e;if(r&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(const i of n)delete a[i]}return a}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class TP{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Rd.create("languageUtils")}getScriptPartFromCode(e){if(e=iv(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=iv(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Sn(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const a=this.getScriptPartFromCode(r);if(this.isSupportedCode(a))return n=a;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Sn(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),a=[],i=s=>{s&&(this.isSupportedCode(s)?a.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return Sn(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):Sn(e)&&i(this.formatLanguageCode(e)),r.forEach(s=>{a.indexOf(s)<0&&i(this.formatLanguageCode(s))}),a}}const AP={zero:0,one:1,two:2,few:3,many:4,other:5},RP={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class hfe{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Rd.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=iv(e==="dev"?"en":e),a=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:a});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let s;try{s=new Intl.PluralRules(r,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),RP;if(!e.match(/-|_/))return RP;const l=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(l,n)}return this.pluralRulesCache[i]=s,s}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(a=>`${n}${a}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((a,i)=>AP[a]-AP[i]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,n,r={}){const a=this.getRule(e,r);return a?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const kP=(t,e,n,r=".",a=!0)=>{let i=afe(t,e,n);return!i&&a&&Sn(n)&&(i=Ik(t,n,r),i===void 0&&(i=Ik(e,n,r))),i},eT=t=>t.replace(/\$/g,"$$$$");class pfe{constructor(e={}){this.logger=Rd.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:a,prefix:i,prefixEscaped:s,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:m,nestingPrefixEscaped:y,nestingSuffix:x,nestingSuffixEscaped:v,nestingOptionsSeparator:_,maxReplaces:C,alwaysFormat:w}=e.interpolation;this.escape=n!==void 0?n:sfe,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=i?s1(i):s||"{{",this.suffix=o?s1(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=m?s1(m):y||s1("$t("),this.nestingSuffix=x?s1(x):v||s1(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=C||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,a){let i,s,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=y=>{if(y.indexOf(this.formatSeparator)<0){const C=kP(n,l,y,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(C,void 0,r,{...a,...n,interpolationkey:y}):C}const x=y.split(this.formatSeparator),v=x.shift().trim(),_=x.join(this.formatSeparator).trim();return this.format(kP(n,l,v,this.options.keySeparator,this.options.ignoreJSONStructure),_,r,{...a,...n,interpolationkey:v})};this.resetRegExp();const d=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,h=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:y=>eT(y)},{regex:this.regexp,safeValue:y=>this.escapeValue?eT(this.escape(y)):eT(y)}].forEach(y=>{for(o=0;i=y.regex.exec(e);){const x=i[1].trim();if(s=u(x),s===void 0)if(typeof d=="function"){const _=d(e,i,a);s=Sn(_)?_:""}else if(a&&Object.prototype.hasOwnProperty.call(a,x))s="";else if(h){s=i[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),s="";else!Sn(s)&&!this.useRawValueToEscape&&(s=vP(s));const v=y.safeValue(s);if(e=e.replace(i[0],v),h?(y.regex.lastIndex+=s.length,y.regex.lastIndex-=i[0].length):y.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n,r={}){let a,i,s;const o=(l,u)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const h=l.split(new RegExp(`${d}[ ]*{`));let m=`{${h[1]}`;l=h[0],m=this.interpolate(m,s);const y=m.match(/'/g),x=m.match(/"/g);((y?.length??0)%2===0&&!x||x.length%2!==0)&&(m=m.replace(/'/g,'"'));try{s=JSON.parse(m),u&&(s={...u,...s})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,v),`${l}${d}${m}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,l};for(;a=this.nestingRegexp.exec(e);){let l=[];s={...r},s=s.replace&&!Sn(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const u=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(u!==-1&&(l=a[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),a[1]=a[1].slice(0,u)),i=n(o.call(this,a[1].trim(),s),s),i&&a[0]===e&&!Sn(i))return i;Sn(i)||(i=vP(i)),i||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),i=""),l.length&&(i=l.reduce((d,h)=>this.format(d,h,r.lng,{...r,interpolationkey:a[1].trim()}),i.trim())),e=e.replace(a[0],i),this.regexp.lastIndex=0}return e}}const mfe=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);e==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(s=>{if(s){const[o,...l]=s.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),d=o.trim();n[d]||(n[d]=u),u==="false"&&(n[d]=!1),u==="true"&&(n[d]=!0),isNaN(u)||(n[d]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},IP=t=>{const e={};return(n,r,a)=>{let i=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(i={...i,[a.interpolationkey]:void 0});const s=r+JSON.stringify(i);let o=e[s];return o||(o=t(iv(r),a),e[s]=o),o(n)}},gfe=t=>(e,n,r)=>t(iv(n),r)(e);class yfe{constructor(e={}){this.logger=Rd.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?IP:gfe;this.formats={number:r((a,i)=>{const s=new Intl.NumberFormat(a,{...i});return o=>s.format(o)}),currency:r((a,i)=>{const s=new Intl.NumberFormat(a,{...i,style:"currency"});return o=>s.format(o)}),datetime:r((a,i)=>{const s=new Intl.DateTimeFormat(a,{...i});return o=>s.format(o)}),relativetime:r((a,i)=>{const s=new Intl.RelativeTimeFormat(a,{...i});return o=>s.format(o,i.range||"day")}),list:r((a,i)=>{const s=new Intl.ListFormat(a,{...i});return o=>s.format(o)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=IP(n)}format(e,n,r,a={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,l)=>{const{formatName:u,formatOptions:d}=mfe(l);if(this.formats[u]){let h=o;try{const m=a?.formatParams?.[a.interpolationkey]||{},y=m.locale||m.lng||a.locale||a.lng||r;h=this.formats[u](o,y,{...d,...a,...m})}catch(m){this.logger.warn(m)}return h}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const bfe=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class xfe extends S5{constructor(e,n,r,a={}){super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=Rd.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,a.backend,a)}queueLoad(e,n,r,a){const i={},s={},o={},l={};return e.forEach(u=>{let d=!0;n.forEach(h=>{const m=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?s[m]===void 0&&(s[m]=!0):(this.state[m]=1,d=!1,s[m]===void 0&&(s[m]=!0),i[m]===void 0&&(i[m]=!0),l[h]===void 0&&(l[h]=!0)))}),d||(o[u]=!0)}),(Object.keys(i).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(i),pending:Object.keys(s),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const a=e.split("|"),i=a[0],s=a[1];n&&this.emit("failedLoading",i,s,n),!n&&r&&this.store.addResourceBundle(i,s,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const o={};this.queue.forEach(l=>{rfe(l.loaded,[i],s),bfe(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const d=l.loaded[u];d.length&&d.forEach(h=>{o[u][h]===void 0&&(o[u][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,a=0,i=this.retryTimeout,s){if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:a,wait:i,callback:s});return}this.readingCalls++;const o=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&d&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,a+1,i*2,s)},i);return}s(u,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(d=>o(null,d)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,n,o)}prepareLoading(e,n,r={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Sn(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Sn(n)&&(n=[n]);const i=this.queueLoad(e,n,r,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),a=r[0],i=r[1];this.read(a,i,"read",void 0,void 0,(s,o)=>{s&&this.logger.warn(`${n}loading namespace ${i} for language ${a} failed`,s),!s&&o&&this.logger.log(`${n}loaded namespace ${i} for language ${a}`,o),this.loaded(e,s,o)})}saveMissing(e,n,r,a,i,s={},o=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const l={...s,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(e,n,r,a,l):d=u(e,n,r,a),d&&typeof d.then=="function"?d.then(h=>o(null,h)).catch(o):o(null,d)}catch(d){o(d)}else u(e,n,r,a,o,l)}!e||!e[0]||this.store.addResource(e[0],n,r,a)}}}const jP=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Sn(t[1])&&(e.defaultValue=t[1]),Sn(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),OP=t=>(Sn(t.ns)&&(t.ns=[t.ns]),Sn(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Sn(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),g_=()=>{},vfe=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class sv extends S5{constructor(e={},n){if(super(),this.options=OP(e),this.services={},this.logger=Rd,this.modules={external:[]},vfe(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Sn(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=jP();this.options={...r,...this.options,...OP(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const a=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Rd.init(a(this.modules.logger),this.options):Rd.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=yfe;const d=new TP(this.options);this.store=new wP(this.options.resources,this.options);const h=this.services;h.logger=Rd,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new hfe(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(h.formatter=a(u),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new pfe(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new xfe(a(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(y,...x)=>{this.emit(y,...x)}),this.modules.languageDetector&&(h.languageDetector=a(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=a(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new iC(this.services,this.options),this.translator.on("*",(y,...x)=>{this.emit(y,...x)}),this.modules.external.forEach(y=>{y.init&&y.init(this)})}if(this.format=this.options.interpolation.format,n||(n=g_),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const o=Cx(),l=()=>{const u=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(h),n(d,h)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e,n=g_){let r=n;const a=Sn(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],s=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};a?s(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>s(l)),this.options.preload?.forEach?.(o=>s(o)),this.services.backendConnector.load(i,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(o)})}else r(null)}reloadResources(e,n,r){const a=Cx();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=g_),this.services.backendConnector.reload(e,n,i=>{a.resolve(),r(i)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&XK.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Cx();this.emit("languageChanging",e);const a=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},i=(o,l)=>{l?this.isLanguageChangingTo===e&&(a(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(o,(...u)=>this.t(...u))},s=o=>{!e&&!o&&this.services.languageDetector&&(o=[]);const l=Sn(o)?o:o&&o[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(Sn(o)?[o]:o);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector?.cacheUserLanguage?.(u)),this.loadResources(u,d=>{i(d,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),r}getFixedT(e,n,r){const a=(i,s,...o)=>{let l;typeof s!="object"?l=this.options.overloadTranslationOptionHandler([i,s].concat(o)):l={...s},l.lng=l.lng||a.lng,l.lngs=l.lngs||a.lngs,l.ns=l.ns||a.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||a.keyPrefix);const u=this.options.keySeparator||".";let d;return l.keyPrefix&&Array.isArray(i)?d=i.map(h=>(typeof h=="function"&&(h=jk(h,{...this.options,...s})),`${l.keyPrefix}${u}${h}`)):(typeof i=="function"&&(i=jk(i,{...this.options,...s})),d=l.keyPrefix?`${l.keyPrefix}${u}${i}`:i),this.t(d,l)};return Sn(e)?a.lng=e:a.lngs=e,a.ns=n,a.keyPrefix=r,a}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const o=n.precheck(this,s);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!a||s(i,e)))}loadNamespaces(e,n){const r=Cx();return this.options.ns?(Sn(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Cx();Sn(e)&&(e=[e]);const a=this.options.preload||[],i=e.filter(s=>a.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return i.length?(this.options.preload=a.concat(i),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const i=a.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new TP(jP());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new sv(e,n)}cloneInstance(e={},n=g_){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},i=new sv(a);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const o=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((d,h)=>(d[h]={...l[u][h]},d),l[u]),l),{});i.store=new wP(o,a),i.services.resourceStore=i.store}return i.translator=new iC(i.services,a),i.translator.on("*",(o,...l)=>{i.emit(o,...l)}),i.init(a,n),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Vs=sv.createInstance();Vs.createInstance=sv.createInstance;Vs.createInstance;Vs.dir;Vs.init;Vs.loadResources;Vs.reloadResources;Vs.use;Vs.changeLanguage;Vs.getFixedT;Vs.t;Vs.exists;Vs.setDefaultNamespace;Vs.hasLoadedNamespace;Vs.loadNamespaces;Vs.loadLanguages;const Sfe=(t,e,n,r)=>{const a=[n,{code:e,...r||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(a,"warn","react-i18next::",!0);ug(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...a):console?.warn&&console.warn(...a)},DP={},Ok=(t,e,n,r)=>{ug(n)&&DP[n]||(ug(n)&&(DP[n]=new Date),Sfe(t,e,n,r))},ZK=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Dk=(t,e,n)=>{t.loadNamespaces(e,ZK(t,n))},MP=(t,e,n,r)=>{if(ug(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Dk(t,n,r);n.forEach(a=>{t.options.ns.indexOf(a)<0&&t.options.ns.push(a)}),t.loadLanguages(e,ZK(t,r))},_fe=(t,e,n={})=>!e.languages||!e.languages.length?(Ok(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,a)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,t))return!1}}),ug=t=>typeof t=="string",Cfe=t=>typeof t=="object"&&t!==null,wfe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Efe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Tfe=t=>Efe[t],Afe=t=>t.replace(wfe,Tfe);let Mk={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Afe};const Rfe=(t={})=>{Mk={...Mk,...t}},kfe=()=>Mk;let JK;const Ife=t=>{JK=t},jfe=()=>JK,Ofe={type:"3rdParty",init(t){Rfe(t.options.react),Ife(t)}},Dfe=A.createContext();class Mfe{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Nfe=(t,e)=>{const n=A.useRef();return A.useEffect(()=>{n.current=t},[t,e]),n.current},eX=(t,e,n,r)=>t.getFixedT(e,n,r),Pfe=(t,e,n,r)=>A.useCallback(eX(t,e,n,r),[t,e,n,r]),$t=(t,e={})=>{const{i18n:n}=e,{i18n:r,defaultNS:a}=A.useContext(Dfe)||{},i=n||r||jfe();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new Mfe),!i){Ok(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const E=(j,O)=>ug(O)?O:Cfe(O)&&ug(O.defaultValue)?O.defaultValue:Array.isArray(j)?j[j.length-1]:j,I=[E,{},!1];return I.t=E,I.i18n={},I.ready=!1,I}i.options.react?.wait&&Ok(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...kfe(),...i.options.react,...e},{useSuspense:o,keyPrefix:l}=s;let u=t||a||i.options?.defaultNS;u=ug(u)?[u]:u||["translation"],i.reportNamespaces.addUsedNamespaces?.(u);const d=(i.isInitialized||i.initializedStoreOnce)&&u.every(E=>_fe(E,i,s)),h=Pfe(i,e.lng||null,s.nsMode==="fallback"?u:u[0],l),m=()=>h,y=()=>eX(i,e.lng||null,s.nsMode==="fallback"?u:u[0],l),[x,v]=A.useState(m);let _=u.join();e.lng&&(_=`${e.lng}${_}`);const C=Nfe(_),w=A.useRef(!0);A.useEffect(()=>{const{bindI18n:E,bindI18nStore:I}=s;w.current=!0,!d&&!o&&(e.lng?MP(i,e.lng,u,()=>{w.current&&v(y)}):Dk(i,u,()=>{w.current&&v(y)})),d&&C&&C!==_&&w.current&&v(y);const j=()=>{w.current&&v(y)};return E&&i?.on(E,j),I&&i?.store.on(I,j),()=>{w.current=!1,i&&E&&E?.split(" ").forEach(O=>i.off(O,j)),I&&i&&I.split(" ").forEach(O=>i.store.off(O,j))}},[i,_]),A.useEffect(()=>{w.current&&d&&v(m)},[i,l,d]);const T=[x,i,d];if(T.t=x,T.i18n=i,T.ready=d,d||!d&&!o)return T;throw new Promise(E=>{e.lng?MP(i,e.lng,u,()=>E()):Dk(i,u,()=>E())})},{slice:Lfe,forEach:zfe}=[];function Ffe(t){return zfe.call(Lfe.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function Bfe(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const NP=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Hfe=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let i=`${t}=${a}`;if(r.maxAge>0){const s=r.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(s)}`}if(r.domain){if(!NP.test(r.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${r.domain}`}if(r.path){if(!NP.test(r.path))throw new TypeError("option path is invalid");i+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(i+="; Partitioned"),i},PP={create(t,e,n,r){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),r&&(a.domain=r),document.cookie=Hfe(t,e,a)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let a=n[r];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var Ufe={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return PP.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:a,cookieOptions:i}=e;n&&typeof document<"u"&&PP.create(n,t,r,a,i)}},$fe={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const i=r.substring(1).split("&");for(let s=0;s<i.length;s++){const o=i[s].indexOf("=");o>0&&i[s].substring(0,o)===e&&(n=i[s].substring(o+1))}}return n}},Gfe={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const i=a.substring(1);if(e){const s=i.split("&");for(let o=0;o<s.length;o++){const l=s[o].indexOf("=");l>0&&s[o].substring(0,l)===e&&(r=s[o].substring(l+1))}}if(r)return r;if(!r&&n>-1){const s=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(s)?s[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return r}};let o1=null;const LP=()=>{if(o1!==null)return o1;try{if(o1=typeof window<"u"&&window.localStorage!==null,!o1)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{o1=!1}return o1};var qfe={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&LP())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&LP()&&window.localStorage.setItem(n,t)}};let l1=null;const zP=()=>{if(l1!==null)return l1;try{if(l1=typeof window<"u"&&window.sessionStorage!==null,!l1)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{l1=!1}return l1};var Vfe={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&zP())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&zP()&&window.sessionStorage.setItem(n,t)}},Wfe={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:a}=navigator;if(n)for(let i=0;i<n.length;i++)e.push(n[i]);r&&e.push(r),a&&e.push(a)}return e.length>0?e:void 0}},Yfe={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},Kfe={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof e=="number"?e:0]?.replace("/",""):void 0}},Xfe={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};let tX=!1;try{document.cookie,tX=!0}catch{}const nX=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];tX||nX.splice(1,1);const Qfe=()=>({order:nX,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class rX{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=Ffe(n,this.options||{},Qfe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(Ufe),this.addDetector($fe),this.addDetector(qfe),this.addDetector(Vfe),this.addDetector(Wfe),this.addDetector(Yfe),this.addDetector(Kfe),this.addDetector(Xfe),this.addDetector(Gfe)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let a=this.detectors[r].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(n=n.concat(a))}}),n=n.filter(r=>r!=null&&!Bfe(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}rX.type="languageDetector";const Zfe={save:"",cancel:"",delete:"",edit:"",add:"",upload:"",download:"",search:"",filter:"",reset:"",confirm:"",close:"",back:"",next:"",previous:"",select:"",deselect:" ",selectAll:" ",deselectAll:" ",apply:"",clear:""},Jfe={loading:" ...",saving:" ...",success:"",error:"",noData:" ",confirmDelete:"?",unsavedChanges:"   ",processing:" ...",uploading:" ...",downloading:" ...",deleting:" ..."},ehe={name:"",description:"",date:"",status:"",type:"",size:"",created:"",updated:"",width:"",height:"",duration:" ",resolution:""},the={tooltips:{viewDetails:" ",download:"",delete:"",select:""},badges:{auto:"",video:""},confirmDelete:{image:" ?",video:" ?"}},nhe={selectedCount:"{{count}}  ",selectedCountImages:"{{count}}  ",tooltips:{download:"",addToGroup:" ",delete:"",clearSelection:" "},confirmDelete:{mixed:" {{count}} (/) ?",images:" {{count}}  ?",videos:" {{count}}  ?",files:" {{count}}  ?"}},rhe={perPage:"",items:"",page:"",of:"/",showing:"{{total}}  {{from}}-{{to}}",goToPage:" ",rowsPerPage:"  "},ahe={loading:" ",error:"",empty:"",success:"",pending:" ",completed:"",failed:""},ihe={view:"",download:"",delete:"",edit:"",create:"",update:"",cancel:"",confirm:"",retry:"",refresh:""},she={buttons:Zfe,messages:Jfe,labels:ehe,imageCard:the,bulkActions:nhe,pagination:rhe,states:ahe,actions:ihe},ohe="",lhe="ComfyUI Image Manager   ",che={general:" ",tagger:"Tagger ",rating:"Rating  ",similarity:"  ",prompts:" ",metadata:" ",folders:" ",account:"",advanced:" "},uhe={title:" ",language:{label:"",description:"   ",ko:"",en:"English",ja:"","zh-CN":"","zh-TW":""},gallery:{label:" ",tooltip:"    .    ."},canvasCleanup:{label:"  Canvas   ",tooltip:"   Canvas     .    ."},ratingBadges:{label:"Rating  ",tooltip:"  Rating   .       ."},deleteProtection:{label:"  RecycleBin ",tooltip:"       RecycleBin  . RecycleBin    ,     ."},metadata:{title:"  ",scanMode:{title:"Stealth PNG  ",fast:{label:"Fast ()",description:"   -  200    "},full:{label:"Full",description:"   -    ()"},skip:{label:"Skip",description:"  - Secondary extraction "}},limits:{title:"    ",fileSize:{label:"   (MB)",helper:"    Stealth PNG  "},resolution:{label:"  ()",helper:"    Stealth PNG  "}},skipSettings:{title:"AI   ",description:" AI   Stealth PNG   .",comfyui:{label:"ComfyUI   ()",description:"ComfyUI Stealth PNG    "},webui:{label:"WebUI  ",description:"WebUI Stealth PNG     "}},secondary:{label:"Secondary extraction ",description:"Primary extraction   Stealth PNG  ."},performanceNote:" :  (Fast + ComfyUI )     . ComfyUI    2682ms  4ms !"}},dhe={title:"WD Tagger ",description:"AI      .",enableAutoTagging:"  ",model:{label:" ",loading:"   ...",downloaded:"Downloaded"},device:{label:" ",auto:{title:" (Auto)",description:"GPU   GPU,  CPU "},cpu:{title:"CPU",description:"CPU  ( )"},cuda:{title:"GPU (CUDA)",description:"NVIDIA GPU  (, GPU )"}},modelStatus:{title:" ",loaded:"",unloaded:"",lastUsed:" ",justNow:" ",minutesAgo:"{{minutes}} ",hoursAgo:"{{hours}} ",daysAgo:"{{days}} ",none:""},status:{downloaded:"",notDownloaded:""},buttons:{load:"",unload:"",refresh:"",download:" ",downloading:"   ...",refreshStatus:" ",checkDependencies:"Python  ",checking:"Python   ...",save:"",cancel:""},alerts:{modelDownloaded:"<strong>{{model}}</strong>   .",modelNotDownloaded:"<strong>{{model}}</strong>   .     .",modelLoaded:" ",modelUnloaded:" ",loadFailed:"  ",unloadFailed:"  ",saveFailed:"  ",dependencyCheckFailed:"  "},threshold:{general:{label:"General Tags Threshold: {{value}}",description:"     (  )"},character:{label:"Character Tags Threshold: {{value}}",description:"     (  )"}},pythonPath:{label:"Python  ",helper:"Python    (: python, python3, C:\\Python39\\python.exe)"},memoryManagement:{title:" ",description:"    .",keepModelLoaded:"    ",autoUnloadMinutes:"  : {{minutes}}",autoUnloadDescription:"        .",keepLoadedAlert:"  .     .",notKeepLoadedAlert:"   .     ,    ."},batch:{title:" ",description:"    .",untaggedCount:" : {{count}}",progress:" : {{current}} / {{total}}",buttons:{tagUnprocessed:"   ( 100)",tagAll:"  ( 100)",processing:" ..."},alerts:{complete:":  {{success}},  {{failed}}",failed:"   ",tagAllFailed:"  "},confirmDialog:{title:"  ",message:`   ?     .
( 100 )`,confirm:"",cancel:""}},test:{title:"",description:"    .",imageHash:" ",placeholderHash:": abc123def456...",button:" ",processing:" ...",result:" :",failed:" ",invalidId:"  ID "}},fhe={title:"Rating  ",description:"    ",weights:{title:" ",description:" Rating    .",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",preview:{title:"  ( Rating: general=0.001, sensitive=0.045, questionable=0.735, explicit=0.470)",score:": <strong>{{score}}</strong>"},buttons:{save:" ",cancel:"",saving:" ..."},alerts:{saveSuccess:"  .",saveFailed:"  .",loadFailed:"   ."}},tiers:{title:"  ",description:"   .",addButton:" ",table:{order:"",name:"",scoreRange:" ",color:"",actions:"",empty:" .  .",scoreFormat:"{{min}} ~ {{max}}",infinity:""},dialog:{createTitle:" ",editTitle:" ",tierName:"",minScore:" ",maxScore:"  (  = )",order:"",color:" (Hex)",colorPlaceholder:"#2196f3",colorHelper:": #22c55e, #3b82f6, #f59e0b, #ef4444",save:"",cancel:"",saving:" ...",requiredFields:"   ."},alerts:{created:" .",updated:" .",deleted:" .",saveFailed:"  .",deleteFailed:"  .",loadFailed:"   .",deleteConfirm:"  ?"}},calculator:{title:"  ",description:"Rating    .",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",calculate:" ",calculating:" ...",result:{title:" ",score:": <strong>{{score}}</strong>",breakdown:" :",generalScore:"General: {{score}}",sensitiveScore:"Sensitive: {{score}}",questionableScore:"Questionable: {{score}}",explicitScore:"Explicit: {{score}}"},failed:"  ."},recalculation:{title:"Rating  ",description:"  rating_score     . auto_tags    .",buttons:{recalculate:"   ",processing:" ..."},progress:"  ... {{current}}/{{total}}",success:" :  {{total}}  {{success}} , {{failed}} ",failed:"  .",confirmDialog:{title:"Rating  ",message:"  rating_score ?      .",confirm:"",cancel:""}}},hhe={title:"   ",description:"      ",systemStatus:{title:" ",description:"     .",totalImages:" : {{count}}",withHash:" : {{count}}",withoutHash:": {{count}}",completion:": {{percent}}%",autoGenerateHash:"    ",rebuildButton:"     ({{count}})",rebuildingButton:" ...",refreshButton:" ",rebuildProgress:"   ... {{processed}} /{{total}}  ({{percent}}% )",allComplete:"   !",allCompleteShort:"",rebuildComplete:" : {{processed}}   .",rebuildCompleteWithErrors:" : {{success}} , {{failed}} ",rebuildFailed:"  ",noImagesToProcess:"  .",autoGenerateUpdateFailed:"  "},test:{title:" & ",description:"    .",imageId:" ID",placeholder:": 123",searchType:" ",types:{duplicates:" ",similar:" ",color:" "},searchButton:" ",searching:" ...",queryImage:"  ",results:" : {{count}}",noResults:"  .",searchFailed:" ",imageDetails:{id:"ID:",filename:":",size:":",aiTool:"AI :"},matchTypes:{exact:" ",nearDuplicate:" ",similar:"",colorSimilar:" "},similarity:"{{percent}}%",colorSimilarity:": {{percent}}%"},duplicateScan:{title:"  ",description:"     .",scanButton:"  ",scanning:" ...",foundGroups:"  : {{count}}",groupLabel:" {{id}}  {{count}} ",similarityLabel:"{{percent}}% ",moreImages:"+{{count}}  ",noResults:"     .",id:"ID: {{id}}",selectAll:" ",deselectAll:" ",keepOne:"1 ",keepOneDelete:"     ",deleteSelected:" {{count}} ",deleteConfirmTitle:"  ",deleteConfirmMessage:" {{count}}  ?",deleteWarning:"    !",cancel:"",confirmDelete:"",deleting:" ...",deleteSuccess:"{{count}}  .",deletePartialSuccess:"{{success}} , {{failed}} ",deleteFailed:"  ."},thresholds:{title:" ",description:"   .",duplicate:{label:"  : {{value}}",description:"  (0= , 5= , 10=   )",strict:"0 ()",recommended:"5 ()",lenient:"10 ()"},similar:{label:"  : {{value}}",description:" ,      ",strict:"5 ()",recommended:"15 ()",lenient:"25 ()"},color:{label:"  : {{value}}%",description:"   ( )",min:"70%",recommended:"85% ()",max:"100%"},searchLimit:{label:"  ",options:{10:"10",20:"20 ()",50:"50",100:"100"}},localStorageNote:"  ,    ."}},phe={setup:{title:" ",description:"        .      .",username:" ",password:"",confirmPassword:" ",button:" ",success:"  !     .",errors:{required:"   ",mismatch:"  ",failed:"  "}},update:{title:"  ",description:"        .",currentPassword:" ",newUsername:"  ",newPassword:" ",confirmNewPassword:"  ",button:"  ",success:"   !",errors:{required:"  ",mismatch:"   ",failed:"   "}}},mhe={saveSuccess:"  ",saveFailed:"  ",loadFailed:"  "},ghe={title:ohe,subtitle:lhe,tabs:che,general:uhe,tagger:dhe,rating:fhe,similarity:hhe,auth:phe,messages:mhe},yhe={title:"ComfyUI Image Manager",menu:{home:"",gallery:"",imageGroups:"",search:"",upload:"",imageGeneration:" ",settings:"",help:""},tooltip:{home:"  ",gallery:"  ",imageGroups:" ",search:" ",upload:" ",imageGeneration:"AI  ",settings:" ",help:" "},theme:{light:" ",dark:" ",toggle:" "},mobileMenu:{open:" ",close:" "}},bhe={copyright:" 2024 ComfyUI Image Manager. All rights reserved.",version:""},xhe={title:"",sections:{setup:" ",filters:" "}},vhe={header:yhe,footer:bhe,help:xhe},She={title:" ",description:"      ."},_he={aiTool:"AI ",sortBy:" ",sortOrder:"",all:"",clearFilters:" "},Che={uploadDate:" ",filename:"",fileSize:" ",width:" ",height:" ",ascending:"",descending:""},whe={refresh:"",selectAll:" ",deselectAll:" "},Ehe={loading:"  ...",noImages:" .",uploadPrompt:"    .",error:"    ."},The={aiToolLabel:"AI : {{tool}}"},Ahe="  ({{selected}}/{{total}})",Rhe=" {{count}} ",khe={title:" "},Ihe={page:She,filters:_he,sorting:Che,actions:whe,status:Ehe,chips:The,selectAllLabel:Ahe,totalImages:Rhe,imageGridModal:khe},jhe={title:"  ",notFound:"   .",errorLoading:"    .",noIdProvided:" ID  ."},Ohe={download:"",share:"",back:"",goToDetail:" ",delete:"",deleteConfirm:" ?",deleteSuccess:" .",deleteError:"    ."},Dhe={fileInfo:" ",imageInfo:" ",videoInfo:" ",aiInfo:" ",promptInfo:" ",groupInfo:" ",fullMetadata:" "},Mhe={originalFilename:" ",filename:"",size:"",fileSize:" ",mimeType:"MIME ",uploadDate:" "},Nhe={dimensions:"",dimensionsValue:"{{width}}  {{height}}"},Phe={duration:" ",durationValue:"{{minutes}} {{seconds}}",fps:" ",fpsValue:"{{fps}} fps",videoCodec:" ",audioCodec:" ",bitrate:"",bitrateValue:"{{bitrate}} Mbps"},Lhe={tool:"AI ",toolShort:"",model:"",lora:"LoRA",steps:"",cfgScale:"CFG Scale",cfgShort:"CFG",sampler:"",scheduler:"",seed:"",denoiseStrength:" ",generationTime:" ",generationTimeValue:"{{time}}",batchSize:" ",batchIndex:" "},zhe={autoType:"",manualType:"",groupLabel:"{{name}} ({{type}})"},Fhe={controls:{zoomIn:"",zoomOut:"",rotateLeft:" ",rotateRight:" ",flipHorizontal:" ",flipVertical:" ",reset:"  ",info:"",close:""},navigation:{previous:"  ()",next:"  ()",random:"  (Space)",currentPosition:"{{current}} / {{total}}"}},Bhe={page:jhe,actions:Ohe,sections:Dhe,fileInfo:Mhe,imageInfo:Nhe,videoInfo:Phe,aiInfo:Lhe,groupInfo:zhe,viewer:Fhe},Hhe={title:" ",description:"AI         ."},Uhe={dragActive:"  ",dragInactive:"     ",supportedFormats:": JPG, PNG, GIF, BMP, WebP, TIFF | : MP4, WebM, MOV, AVI, MKV ( 500MB,    )",imageSupport:" ",videoSupport:" ",multipleSelection:"  ",divider:""},$he={selectFiles:" ",selectFolder:" "},Ghe={title:" ",fileCount:"{{completed}}/{{total}}",summary:" {{total}}  - : {{success}}, : {{failed}}"},qhe={upload:" ",metadata:" ",thumbnail:" ",autoCollect:"  ",autoTag:" "},Vhe={waiting:" ",processing:" ",complete:"",error:""},Whe={uploadComplete:" ",uploadSuccess:"  .",uploadFailed:" .",uploadError:"   .",multipleSuccess:"{{count}}   .",allFailed:"   .",partialSuccess:"{{success}} , {{failed}} ."},Yhe={title:" ",description:"  AI     . (  )",dragOrClick:"   ",dropHere:"  ",noUpload:"     ",imagePreview:" ",aiTool:"AI ",positivePrompt:"",negativePrompt:" ",terms:" ",loraModels:"LoRA ",parameters:" ",rawMetadata:"  (EXIF/PNG )",invalidFileType:"    ",extractionFailed:"  "},Khe={page:Hhe,dropzone:Uhe,buttons:$he,progress:Ghe,stages:qhe,status:Vhe,messages:Whe,promptPreview:Yhe},Xhe={title:" ",description:"",emptyTitle:"   ",emptyDescription:"     .",customGroupsTab:" ",autoFolderGroupsTab:" "},Qhe={imageCount:"{{count}} ",autoCollect:"",stats:": {{auto}} | : {{manual}}"},Zhe={edit:"",delete:"",runAutoCollection:" "},Jhe={basicInfo:" ",autoCollect:" "},epe={createTitle:"  ",editTitle:" ",basicInfo:" ",groupName:"",description:"",groupColor:" ",parentGroup:" ",noParent:" ()",selectParent:"  ",autoCollectEnable:" ",autoCollectDescription:"       .",orConditionInfo:"OR :       .",orConditionExample:`: " 'anime' " + "  "      `,conditionsTitle:" ",addCondition:" ",conditionType:" ",conditionValue:"",emptyConditions:"    .",buttonCreate:"",buttonUpdate:"",buttonCancel:""},tpe={root:"",childGroups:"  {{count}}",openSubgroups:"  ",backToParent:" ",moveGroup:" ",moveToRoot:" ",cannotMoveToSelf:"    ",cannotMoveToDescendant:"    ",maxDepthExceeded:" (5) ",circularReference:"  ",hierarchyInvalid:"  "},npe={conditionNumber:" {{number}}",removeCondition:" ",addFirstCondition:"   ",autoCollectDisabled:"     .",groups:{basic:"",prompt:"",autotag:"Auto Tag",duplicate:" "},types:{aiTool:"AI ",modelName:" ()",promptContains:" ",promptRegex:" ",negativePromptContains:"  ",negativePromptRegex:"  ",autoTagExists:"Auto Tag  ",autoTagRating:"Auto Tag: Rating",autoTagRatingScore:"Auto Tag: Rating  ()",autoTagGeneral:"Auto Tag: General ",autoTagCharacter:"Auto Tag: ",autoTagHasCharacter:"Auto Tag:   ",autoTagModel:"Auto Tag: ",duplicateExact:"  ",duplicateNear:"  ",duplicateSimilar:" ",duplicateCustom:"   "},values:{exists:"",notExists:""},ratings:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"},fields:{value:"",ratingType:"Rating ",minScore:" ",maxScore:" ",tagName:"",characterName:"",caseSensitive:" ",exactMatch:" ",exactMatchHelp:"      (: 'asd'   'aasd', 'asdf' )",weightedScore:"  ",maxWeightInfo:" 200",confidenceRange:"   (0.0 ~ 1.0): {{min}} ~ {{max}}",confidenceInfo:"      ",hammingThreshold:"Hamming Distance ",hammingThresholdHelp:"0-64   (  )",hammingInfo:" Hamming Distance   perceptual hash    .      .",duplicateNote:"   perceptual_hash   ."},duplicateInfo:{duplicate_exact:"     (Hamming Distance = 0).       .",duplicate_near:"     (Hamming Distance  5).  , ,     .",duplicate_similar:"    (Hamming Distance  15).     ."},placeholders:{regex:"  ",modelName:"  (: wd-v1-4-moat-tagger-v2)",text:"  ",tagName:" ",characterName:" "}},rpe={nameRequired:" .",conditionRequired:"   1  .",valueRequired:" {{index}}  .",ratingTypeRequired:" {{index}}: Rating  .",ratingScoreRequired:" {{index}}:         .",minScoreInvalid:" {{index}}:   0  .",maxScoreInvalid:" {{index}}:   0  .",scoreRangeInvalid:" {{index}}:      .",confidenceScoreRange:" {{index}}:   0.0 ~ 1.0  .",confidenceMaxScoreRange:" {{index}}:   0.0 ~ 1.0  .",confidenceMinMaxInvalid:" {{index}}:       .",hammingThresholdRequired:" {{index}}: Hamming Distance  .",hammingThresholdRange:" {{index}}: Hamming Distance 0 64   ."},ape={loadFailed:"   .",imageLoadFailed:"   .",deleteSuccess:" .",deleteFailed:"  .",autoCollectSuccess:" : {{added}} , {{removed}} ",autoCollectFailed:"  .",createSuccess:" .",createFailed:"  .",updateSuccess:" .",updateFailed:"  .",removeWarning:"    .",removeSuccess:"{{count}}  .",removePartialSuccess:"{{removed}}  . {{failed}} .",removeError:"    .",assignSuccess:"{{added}} , {{converted}} , {{skipped}} ",assignFailed:"  .",assignError:"    .",emptyGroup:"  "},ipe={title:"  ",message:"'{{name}}'  ?",groupInfo:{imageCount:" : {{count}}",childCount:" : {{count}}"},warning:{imageAssociations:"      .     ."},options:{title:"   ",orphan:{label:"   ()",description:"    ."},cascade:{label:"     ",description:"{{count}}    .     ."}}},spe={title:"{{name}} ({{count}} )",selectedCount:"{{count}} ",buttonRemove:"",buttonAssign:" ",infoMixedSelection:"       .     ,      .",warningAutoOnly:"       .     .",confirmRemoveTitle:"  ",confirmRemoveMessage:" {{count}}     ?",confirmRemoveNote:"    ."},ope={title:" ",description:" {{count}}   .",currentGroup:" ",emptyGroups:"  ",loadError:"   .",loadingError:"     .",buttonAssign:"",buttonCancel:""},lpe={menuTitle:" ",scopeAll:" ",scopeSelected:" {{count}}",typeThumbnail:" ()",typeOriginal:" ()",typeVideo:"   ()",confirmTitle:"  ",confirmMessage:"{{count}}  . ?",confirmButton:""},cpe={page:Xhe,groupCard:Qhe,menu:Zhe,tabs:Jhe,modal:epe,hierarchy:tpe,conditions:npe,validation:rpe,messages:ape,deleteConfirm:ipe,imageModal:spe,assignModal:ope,download:lpe},upe=" ",dpe=", AI , , Auto Tag     .",fpe={placeholder:"  ...",button:"",clear:" ",execute:" "},hpe={title:" ",searching:" ...",found:" {{count}}  .",noResults:"  ",noResultsHint:"    .",initialMessage:"   ",initialHint:", AI , , Auto Tag,     .",reset:" ",refresh:""},ppe={basic:{aiTool:{label:"AI ",all:""},modelName:{label:"",placeholder:": sd_xl_base_1.0"},startDate:{label:" "},endDate:{label:" "}},quickDate:{today:"",todayTooltip:"  ","7days":"7","7daysTooltip":" 7","30days":"30","30daysTooltip":" 30","90days":"90","90daysTooltip":" 90"},advanced:{title:" ",active:"",negativePrompt:{label:" ",placeholder:"   (: ugly, blurry)"}},autoTag:{title:"Auto Tag ",subtitle:"(WD v3 Tagger)",active:"",tabs:{rating:"Rating",character:"Character",generalTags:"General Tags"},rating:{typeMode:"Type ",scoreMode:"Score  ",typeDescription:" Rating    ",scoreDescription:"      ",type:{label:"Rating ",none:" ",general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"},confidenceRange:" ",scoreRange:" "},character:{description:"   ",existence:{label:" ",all:"",true:"",false:""},name:{label:"",placeholder:": hatsune_miku"},confidenceRange:" "},generalTags:{description:"    ",tagName:{label:"",placeholder:": 1girl, solo, landscape"},confidence:": {{min}} ~ {{max}}",addedTags:"  ({{count}})"}}},mpe={title:" "},gpe={addButton:" ",emptyMessage:"   ",countInfo:"{{count}}  .",executionOrder:" :   OR  AND",modal:{title:" ",cancel:"",back:"",next:"",add:" ",steps:{selectGroup:"  ",selectCategory:" ",configureCondition:" "},step1:{description:"   "},step2:{description:"    "},step3:{description:"  .           ."}},groupTypes:{exclude:{label:" (NOT)",description:"     "},or:{label:"OR ",description:"     "},and:{label:"AND ",description:"     "}},categories:{positive_prompt:{label:" ",description:"     "},negative_prompt:{label:" ",description:"     "},auto_tag:{label:" (WD Tagger)",description:"WD v3 Tagger    "},basic:{label:" ",description:"AI ,     "}},conditionTypes:{conditionType:" ",value:"",placeholder:"  ",scoreRange:" ",weightRange:" ",tagName:"/",tagPlaceholder:": 1girl, hatsune_miku",ratingType:"Rating ",exists:"",notExists:""}},ype={title:upe,description:dpe,searchInput:fpe,results:hpe,filters:ppe,searchHistory:mpe,filterBlock:gpe},bpe=" ",xpe="AI      .",vpe={positive:"",negative:""},Spe={search:{placeholder:"{{type}}  ..."},filters:{groupFilter:{label:" ",all:"",unassigned:""}},table:{headers:{prompt:"",usageCount:" ",assignedGroup:" ",actions:""},empty:" .",synonyms:{more:"+{{count}} "}},bulkActions:{assignSelected:"  ",bulkAssign:" ",selectedCount:"{{count}} "},actions:{assignToGroup:" ",delete:"",cannotDelete:"     ",groupManagement:" "},statistics:{unclassified:"",unknown:"  "},pagination:{rowsPerPage:"   :",displayedRows:"{{from}}-{{to}} / {{count}}"},messages:{loadFailed:"   .",deleteSuccess:" .",deleteFailed:"  .",assignSuccess:"  .",assignFailed:"  ."}},_pe={title:" ",selectGroup:{label:" ",unassigned:""},actions:{cancel:"",assign:""}},Cpe={title:"  ",groupSelect:{label:" ",placeholder:" "},textInput:{label:" ",placeholder:"  (   )",example:": 1, 2, 3"},preview:{title:" ({{count}})",empty:"  "},actions:{assign:"",cancel:"",close:""},results:{title:" ",created:": {{count}}",updated:": {{count}}",failed:": {{count}}",total:" {{count}} "}},wpe={title:"{{type}}   ",dragHint:"    ",editForm:{titleAdd:"  ",titleEdit:" ",groupName:{label:"",required:" ."},displayOrder:{label:" "},visibility:{label:"",hidden:""},actions:{save:"",cancel:""}},groupList:{title:"  ({{count}})",add:" ",empty:"  .",promptCount:"{{count}}",displayOrder:" : {{order}}"},actions:{toggleVisibility:" ",edit:"",delete:"",deleteConfirm:"   ?",close:""},messages:{loadFailed:"   .",createSuccess:" .",createFailed:"  .",updateSuccess:" .",updateFailed:"  .",deleteSuccess:" .",deleteFailed:"  .",visibilityFailed:"   .",reorderSuccess:"  .",reorderFailed:"   ."}},Epe={tabs:{positive:"",negative:"",auto:"AUTO"},labels:{prompt:"",negativePrompt:" "},noPrompt:"  .",loading:" ...",loadFailed:"    ."},Tpe={noTags:"      .",generateButton:" ",generating:" ...",generationError:"    .",sections:{rating:"Rating",characters:"Characters",tagList:"Tag List",generalTags:"General Tags ({{count}})",modelInfo:"Model Information"},modelInfo:{model:"Model",generalThreshold:"General",characterThreshold:"Character",taggedAt:"Tagged At"}},Ape={title:bpe,description:xpe,tabs:vpe,promptList:Spe,assignDialog:_pe,bulkAssignDialog:Cpe,groupManagement:wpe,promptDisplay:Epe,autoTagDisplay:Tpe},Rpe={generate:" ",history:""},kpe={title:" ",listTitle:" ",addButton:" ",editTitle:" ",createTitle:" ",noWorkflows:"  ",noWorkflowsDesc:'" "   ComfyUI  '},Ipe={active:"",inactive:"",fieldsCount:"{{count}} ",createdDate:": {{date}}",generateImage:" ",notFound:"   "},jpe={basicInfo:" ",workflowName:" ",description:"",apiEndpoint:"API Endpoint",activate:"",workflowJson:"Workflow JSON",uploadFile:" ",jsonPlaceholder:'{"prompt": {...}}',jsonHelper:"ComfyUI Export Workflow API JSON ",jsonCharCount:"{{count}} ",invalidJson:"  JSON ",nameRequired:"  ",jsonRequired:"Workflow JSON ",validateJson:"JSON  "},Ope={importantNote:":",apiFormatWarning:'ComfyUI "Save (API Format)"   JSON .   JSON  .',created:" ",updated:" ",inactiveWarning:"    .     .",noConfigurableFields:"     ."},Dpe={sectionTitle:"Marked Fields ",guideTitle:"Marked Fields  ",addField:" ",noFields:'Marked Fields .  " "  ',whatIs:"Marked Fields?",whatIsDesc:"        .  , ,  , Steps, CFG     .",howToFind:"JSON Path  :",step1:'ComfyUI    "Save (API Format)"  ',step2:"JSON       ",step3:" : [].inputs.[]",exampleTitle:" :",example1Title:"1.   (CLIPTextEncode  #6)",example1FieldId:" ID: prompt_positive",example1Label:": ",example1Type:":   (textarea)",example1Path:"JSON Path: 6.inputs.text",example1Default:": a beautiful landscape",example2Title:"2.   (KSampler  #3)",example2FieldId:" ID: seed",example2Label:": Seed",example2Type:":  (number)",example2Path:"JSON Path: 3.inputs.seed",example2Default:": 123456",example3Title:"3. Steps (KSampler  #3)",example3FieldId:" ID: steps",example3Label:": Steps",example3Type:":  (number)",example3Path:"JSON Path: 3.inputs.steps",example3Default:": 20",example3Min:": 1",example3Max:": 150",example4Title:"4. Sampler (KSampler  #3)",example4FieldId:" ID: sampler_name",example4Label:": Sampler",example4Type:":  (select)",example4Path:"JSON Path: 3.inputs.sampler_name",example4Options:" : euler, euler_ancestral, dpm++ 2m, ddim",tipTitle:" :",tipDesc:'JSON Path Workflow JSON   .   JSON {"3": {"inputs": {"seed": 123}}}  JSON Path 3.inputs.seed .',previewTitle:"Marked Fields "},Mpe={fieldId:" ID",fieldIdPlaceholder:"prompt_positive",fieldIdHelper:" ",label:"",labelPlaceholder:"",labelHelper:"  ",type:"",typeHelper:" ",typeText:" ( )",typeTextarea:"  ( )",typeNumber:"",typeSelect:" ()",jsonPath:"JSON Path *",jsonPathPlaceholder:"6.inputs.text",jsonPathHelper:"Workflow JSON  . : 6.inputs.text (6  text )",defaultValue:"",defaultValuePlaceholder:"a beautiful landscape",defaultValueHelper:"   ",required:"",minValue:"",minPlaceholder:"1",maxValue:"",maxPlaceholder:"150",selectOptions:"  ( )",selectOptionsPlaceholder:"euler, dpm++, ddim",selectOptionsHelper:": euler, dpm++ 2m, ddim"},Npe={pageTitle:" ",settingsTitle:" ",missingFields:"  : {{fields}}",selectPlaceholder:"",previewTitle:"  ",generateAll:"     ({{count}})",serversListTitle:"ComfyUI  ",serversListDesc:"      ",noServers:" ComfyUI  .     .",noConnectedServers:"  ",responseTime:" : {{time}}ms",generateButton:"  ",generating:" ...",generationComplete:"  !",generationFailed:"  ",executionTime:"{{time}}",viewImage:" "},Ppe={save:"",saving:" ...",cancel:"",create:"",update:"",delete:"",confirmDelete:"   ?"},Lpe={title:" ",enable:"  ",count:" ",infinite:"  (-1)",countHelp:"1-999  -1 ()",delay:"  ()",delayHelp:"         (1-300)",progress:"{{current}}  ",progressWithTotal:"{{current}}/{{total}}  ",stop:""},zpe={subtabs:Rpe,page:kpe,card:Ipe,form:jpe,alerts:Ope,markedFields:Dpe,fieldForm:Mpe,generate:Npe,actions:Ppe,repeat:Lpe},Fpe={title:" ",subtitle:"ComfyUI    "},Bpe={novelai:"NovelAI",comfyui:"ComfyUI",wildcards:"",ariaLabel:"  "},Hpe={subtabs:{generate:" ",history:""},login:{title:"NovelAI ",subtitle:"NovelAI  ",tabs:{credentials:"/",token:""},username:"",password:"",token:"Access Token",tokenPlaceholder:"NovelAI Access Token ",tokenHint:"NovelAI   Access Token ",loginButton:"",loggingIn:" ...",error:" ",tokenError:"  "},tabs:{basic:" ",advanced:" "},sections:{preset:" ",prompts:"",output:" ",advanced:" ",sampling:" ",quality:" ",model:" "},anlas:{balance:"Anlas ",refresh:"",subscription:"",free:"",tablet:"Tablet",scroll:"Scroll",opus:"Opus"},cost:{title:" ",anlas:"Anlas",balance:"",sufficient:"",insufficient:"",opusFree:"Opus   ",maxSamples:"  "},models:{label:" ",v45curated:"V4.5 Curated ()",v45full:"V4.5 Full",v4curated:"V4 Curated",v4full:"V4 Full",v3:"V3 ()",v3furry:"V3 Furry"},advanced:{cfgRescale:"Prompt Guidance Rescale",noiseSchedule:"Noise Schedule",uncondScale:"Undesired Content Strength"},presets:{title:" ",label:" ",quality:{name:" ",description:"   (28 steps, Euler)"},fast:{name:"",description:"  (15 steps, Euler)"},artistic:{name:"",description:"  (35 steps, DPM++ 2S Ancestral, SMEA DYN)"},realistic:{name:"",description:"  (40 steps, DPM++ 2M, SMEA)"},detail:{name:"",description:"  (50 steps, DPM++ SDE, SMEA DYN)"}},gallery:{images:"",showMetadata:" ",hideMetadata:" ",downloadAll:" "},settings:{qualityToggle:"   "},generate:{title:"NovelAI  ",logout:"",prompt:"",negativePrompt:" ",resolution:"",sampler:"",steps:"",guidance:"",samples:" ",ucPreset:" ",generateButton:" ",generating:" ...",resultTitle:" ",download:"",upload:"",metadata:"",tokenExpired:" .  .",subscriptionRequired:"  ",error:"  ",uploadSuccess:"  ",uploadError:"  ",autoUploadSuccess:"{{count}}   ",autoUploadPartial:"{{success}}  , {{fail}} ",success:"{{count}}   .   .",completed:"  ",failed:"  "},repeat:{title:" ",enable:"  ",count:" ",infinite:"  (-1)",countHelp:"1-999  -1 ()",delay:"  ()",delayHelp:"       (1-300)",progress:"{{current}}  ",progressWithTotal:"{{current}}/{{total}}  ",stop:""},history:{title:" ",comingSoon:"    .",description:"      ."}},Upe={page:Fpe,tabs:Bpe,nai:Hpe},$pe=" ",Gpe="{{count}}",qpe="  ",Vpe=" ...",Wpe="  ...",Ype="  ",Kpe="  ",Xpe="    ",Qpe="   ?",Zpe=" ",Jpe={pending:"",processing:"",completed:"",failed:""},eme={comfyui:"ComfyUI",novelai:"NovelAI"},tme={regenerate:"",delete:"",refresh:"",confirmDelete:"   ?"},nme=" ",rme="  ",ame="{{count}}    ?",ime=" ,  .",sme="",ome=" ...",lme="{{count}}   ",cme="   ",ume="  ",dme={title:"  ",status:"",service:"",positivePrompt:" ",negativePrompt:" ",size:"",model:"",sampler:"",steps:"",cfgScale:"CFG Scale",seed:"",error:"",createdAt:" ",completedAt:" "},fme={title:$pe,count:Gpe,empty:qpe,loading:Vpe,loadingMore:Wpe,allLoaded:Ype,noHistory:Kpe,noHistoryDescription:Xpe,deleteConfirm:Qpe,deleteFailed:Zpe,status:Jpe,service:eme,actions:tme,cleanupFailed:nme,cleanupFailedTitle:rme,cleanupFailedConfirm:ame,cleanupFailedNote:ime,cleanup:sme,cleaning:ome,cleanupSuccess:lme,noFailedRecords:cme,bulkDeleteFailed:ume,detail:dme},hme={title:" ",listTitle:"ComfyUI  ",addButton:" ",noServers:"  ",noServersDesc:'" "   ComfyUI  '},pme={active:"",inactive:"",priority:": {{priority}}",concurrent:": {{count}}",connectionSuccess:" ",connectionFailed:" ",testConnection:" "},mme={addTitle:" ",editTitle:" ",serverName:" ",endpointUrl:" URL",endpointPlaceholder:"http://127.0.0.1:8188",description:"",priority:"",priorityHelper:"  ",maxConcurrent:"   ",activate:"",cancel:"",add:"",update:""},gme={connected:"",disconnected:" ",testing:" ",error:"",responseTime:" : {{time}}ms"},yme={test:" ",edit:"",delete:"",confirmDelete:"   ?"},bme={page:hme,card:pme,dialog:mme,status:gme,actions:yme},xme={network:"  .   .",timeout:"  .  .",unauthorized:" .  .",forbidden:" .     .",notFound:"    .",serverError:"  .   .",badRequest:" .   .",unknown:"   .  ."},vme={fileTooLarge:"   .  50MB   .",invalidFileType:"   .      .",uploadFailed:" .  .",multipleUploadFailed:"   .",fileCountLimit:"    .",processingFailed:"  .",noFilesSelected:"  .   ."},Sme={loadFailed:"  .",deleteFailed:"  .",multipleDeleteFailed:"{{count}}   .",downloadFailed:"  .",notFound:"   .",metadataExtractionFailed:"   ."},_me={loadFailed:"  .",createFailed:"  .",updateFailed:"  .",deleteFailed:"  .",assignFailed:"  .",removeFailed:"  .",autoCollectFailed:"  .",notFound:"   ."},Cme={loadFailed:"  .",deleteFailed:"  .",assignFailed:"   .",synonymFailed:"  .",notFound:"   ."},wme={failed:" .  .",invalidQuery:" .",noResults:"  ."},Eme={required:"  .",invalid:"  .",tooShort:"   .",tooLong:"   ."},Tme={api:xme,upload:vme,image:Sme,group:_me,prompt:Cme,search:wme,validation:Eme},Ame={field:"  ",name:" ",description:" ",file:" ",image:" ",group:" "},Rme={invalid:"  ",email:"   ",url:" URL  ",number:" ",integer:" "},kme={min:" {{min}}  ",max:" {{max}}  ",exact:" {{length}} ",between:"{{min}} {{max}}  "},Ime={fileSize:"  {{max}}   ",imageSize:"  {{width}}{{height}}   ",fileTooLarge:"   (: {{max}})",fileTooSmall:"   (: {{min}})"},jme={min:"  {{min}}  ",max:"  {{max}}   ",between:" {{min}} {{max}}  "},Ome={invalid:"   ",imageOnly:"   ",videoOnly:"   ",imageOrVideo:"     ",allowedTypes:" : {{types}}"},Dme={exists:" ",name:"  ",value:"  "},Mme={required:Ame,format:Rme,length:kme,size:Ime,range:jme,fileType:Ome,duplicate:Dme},Nme={title:" ",noWildcards:"  ",noWildcardsDesc:"     "},Pme={all:"",both:""},Lme={add:" ",addItem:" ",preview:"",confirmDelete:" '{{name}}'  ?",copiedToClipboard:" ",copyFailed:" "},zme={openScanDialog:"LORA ",openLogDialog:"  "},Fme={items:"{{count}} ",itemsCount:"",moreItems:" {{count}}"},Bme={createTitle:" ",editTitle:" "},Hme={name:"",nameHelper:"++    (: , )",description:" ()",comfyuiItems:"ComfyUI  ",naiItems:"NovelAI  ",itemsHelper:"       .   ++++    .",itemPlaceholder:": , ,   , ++++"},Ume={title:" ",inputLabel:" ",inputPlaceholder:": ++++  , ++++ ",generate:" ",results:"  ( 5)",result:" {{number}}"},$me={nameRequired:"  ",itemsRequired:" 1   ",previewTextRequired:"  ",copyFailed:" "},Gme={manual:" ",autoCollected:"  (LORA)"},qme={title:"LORA   ",description:"LORA     ",folderPath:"LORA  ",folderPathHelper:"ComfyUI loras   LORA     ",loraWeight:" LORA ",loraWeightHelper:"     (: 1.0)",duplicateHandling:"   ",duplicateNumber:"  (style, style_2)",duplicateParent:"   (anime_style, realistic_style)",matchingMode:"   ",matchingModeFilename:"  (lora.txt)",matchingModeCommon:"   ",commonTextFilename:"  ",commonTextFilenameHelper:"      (: add.txt, common.txt)",matchingPriority:" ",priorityFilename:"   (    )",priorityCommon:"   (    )",scanButton:"LORA  ",scanning:" ...",lastScan:" ",noScanYet:"   ",scanLog:{title:" ",timestamp:" ",folderPath:" ",totalWildcards:" ",totalItems:"  ",details:" ",wildcardName:" ",itemCount:" "},noAutoWildcards:"   ",noAutoWildcardsDesc:"LORA    ",autoCollectedBadge:"",errors:{folderPathRequired:"LORA   ",invalidWeight:"    (0.1 ~ 2.0)",scanFailed:" : {{error}}"}},Vme={title:"LORA   ",infoMessage:"ComfyUI loras   LORA    .",scanButton:"LORA ",warningTitle:" :",warning1:".safetensors   ",warning2:"     ",warning3:"       "},Wme={title:" LORA  "},Yme={page:Nme,filters:Pme,actions:Lme,buttons:zme,card:Fme,dialog:Bme,form:Hme,preview:Ume,errors:$me,tabs:Gme,autoCollect:qme,scanDialog:Vme,logDialog:Wme},Kme={save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",add:"Add",upload:"Upload",download:"Download",search:"Search",filter:"Filter",reset:"Reset",confirm:"Confirm",close:"Close",back:"Back",next:"Next",previous:"Previous",select:"Select",deselect:"Deselect",selectAll:"Select All",deselectAll:"Deselect All",apply:"Apply",clear:"Clear"},Xme={loading:"Loading...",saving:"Saving...",success:"Success",error:"Error",noData:"No data available",confirmDelete:"Are you sure you want to delete?",unsavedChanges:"You have unsaved changes",processing:"Processing...",uploading:"Uploading...",downloading:"Downloading...",deleting:"Deleting..."},Qme={name:"Name",description:"Description",date:"Date",status:"Status",type:"Type",size:"Size",created:"Created",updated:"Updated",width:"Width",height:"Height",duration:"Duration",resolution:"Resolution"},Zme={tooltips:{viewDetails:"View Details",download:"Download",delete:"Delete",select:"Select"},badges:{auto:"Auto",video:"Video"},confirmDelete:{image:"Are you sure you want to delete this image?",video:"Are you sure you want to delete this video?"}},Jme={selectedCount:"{{count}} items selected",selectedCountImages:"{{count}} images selected",tooltips:{download:"Download",addToGroup:"Add to Group",delete:"Delete",clearSelection:"Clear Selection"},confirmDelete:{mixed:"Are you sure you want to delete {{count}} files (images/videos)?",images:"Are you sure you want to delete {{count}} images?",videos:"Are you sure you want to delete {{count}} videos?",files:"Are you sure you want to delete {{count}} files?"}},ege={perPage:"per page",items:"items",page:"Page",of:"of",showing:"Showing {{from}}-{{to}} of {{total}}",goToPage:"Go to page",rowsPerPage:"Rows per page"},tge={loading:"Loading",error:"Error",empty:"Empty",success:"Success",pending:"Pending",completed:"Completed",failed:"Failed"},nge={view:"View",download:"Download",delete:"Delete",edit:"Edit",create:"Create",update:"Update",cancel:"Cancel",confirm:"Confirm",retry:"Retry",refresh:"Refresh"},rge={buttons:Kme,messages:Xme,labels:Qme,imageCard:Zme,bulkActions:Jme,pagination:ege,states:tge,actions:nge},age="Settings",ige="Manage your ComfyUI Image Manager application settings",sge={general:"General Settings",tagger:"Tagger Settings",rating:"Rating Score Settings",similarity:"Image Similarity Search",prompts:"Prompt Management",metadata:"Metadata Extraction",folders:"Folder Management",account:"Account",advanced:"Advanced Settings"},oge={title:"General Settings",language:{label:"Language",description:"Select the application display language",ko:"",en:"English",ja:"","zh-CN":"","zh-TW":""},gallery:{label:"Enable Gallery",tooltip:"Show gallery page in menu and navigation. When disabled, only masonry view will be used."},canvasCleanup:{label:"Auto cleanup Canvas folder on shutdown",tooltip:"Automatically delete edited images in the Canvas folder when the server shuts down. When disabled, edited images are preserved."},deleteProtection:{title:"Delete File Protection",description:"Store deleted files in RecycleBin folder for recovery",enabled:{label:"Store deleted files in RecycleBin",description:"When enabled, deleted files are backed up to RecycleBin folder instead of being permanently removed."},info:"RecycleBin folder is created in the project root. Deleted files are stored with timestamps. You can manually copy files from RecycleBin if recovery is needed."},metadata:{title:"Metadata Extraction Optimization",scanMode:{title:"Stealth PNG Scan Mode",fast:{label:"Fast (Recommended)",description:"Quick signature scan - checks first 200 pixels then exits early"},full:{label:"Full",description:"Full file scan - checks all pixels (slow)"},skip:{label:"Skip",description:"Skip scanning - disables secondary extraction"}},limits:{title:"File Size and Resolution Limits",fileSize:{label:"Max File Size (MB)",helper:"Files larger than this will skip Stealth PNG scanning"},resolution:{label:"Max Resolution (Megapixels)",helper:"Images larger than this will skip Stealth PNG scanning"}},skipSettings:{title:"AI Tool Skip Settings",description:"Automatically skip Stealth PNG scanning for specific AI tool images.",comfyui:{label:"Skip ComfyUI images (Recommended)",description:"ComfyUI doesn't use Stealth PNG, scanning unnecessary"},webui:{label:"Skip WebUI images",description:"WebUI may use Stealth PNG, enable only if needed"}},secondary:{label:"Enable secondary extraction",description:"Retry with Stealth PNG method if primary extraction fails."},performanceNote:" Tip: Default settings (Fast + ComfyUI skip) provide optimal performance for most cases. ComfyUI image processing time reduced from 2682ms  4ms!"}},lge={title:"WD Tagger Settings",description:"Configure AI-based automatic image tagging",enableAutoTagging:"Enable Auto-Tagging",model:{label:"Model Selection",loading:"Loading models...",downloaded:"Downloaded"},device:{label:"Device Selection",auto:{title:"Auto",description:"Use GPU if available, otherwise CPU"},cpu:{title:"CPU",description:"CPU only (slower but stable)"},cuda:{title:"GPU (CUDA)",description:"Use NVIDIA GPU (fast, requires GPU)"}},threshold:{general:{label:"General Tags Threshold: {{value}}",description:"Lower values extract more tags (may increase noise)"},character:{label:"Character Tags Threshold: {{value}}",description:"Lower values detect more characters (may increase false positives)"}},pythonPath:{label:"Python Executable Path",helper:"Path to Python executable (e.g., python, python3, C:\\Python39\\python.exe)"},test:{title:"Test",description:"Test current settings with a specific image.",imageHash:"Image Hash",placeholderHash:"e.g., abc123def456...",button:"Run Test",processing:"Processing...",result:"Tagging Result:",failed:"Test failed"},buttons:{save:"Save",cancel:"Cancel",download:"Download Model",downloading:"Checking download info...",checkDependencies:"Check Python Dependencies",checking:"Checking dependencies..."}},cge={title:"Rating Score Settings",description:"Configure the image rating score system"},uge={title:"Image Similarity Search Settings",autoGenerateHash:"Auto-generate Hash on Upload",description:"Automatically generate hashes for similar image search",duplicateScan:{title:"Full Duplicate Analysis",description:"Find duplicate image groups across the entire database.",scanButton:"Run Full Scan",scanning:"Scanning...",foundGroups:"Found Duplicate Groups: {{count}}",groupLabel:"Group {{id}}  {{count}} images",similarityLabel:"{{percent}}% similar",moreImages:"+{{count}} more",noResults:"Run scan to display duplicate image groups.",id:"ID: {{id}}",selectAll:"Select All",deselectAll:"Deselect All",keepOne:"Keep 1",keepOneDelete:"Keep first image and select rest for deletion",deleteSelected:"Delete {{count}} Selected",deleteConfirmTitle:"Confirm Image Deletion",deleteConfirmMessage:"Are you sure you want to delete {{count}} selected images?",deleteWarning:"Deleted images cannot be recovered!",cancel:"Cancel",confirmDelete:"Delete",deleting:"Deleting...",deleteSuccess:"{{count}} images deleted successfully.",deletePartialSuccess:"{{success}} succeeded, {{failed}} failed",deleteFailed:"Failed to delete images."}},dge={setup:{title:"Setup Authentication",description:"Configure username and password to protect your image manager from unauthorized access. Once set, you will need to login to access the application.",username:"Username",password:"Password",confirmPassword:"Confirm Password",button:"Setup Authentication",success:"Authentication configured successfully! You will need to login on your next visit.",errors:{required:"Username and password are required",mismatch:"Passwords do not match",failed:"Failed to setup authentication"}},update:{title:"Change Credentials",description:"Changing your credentials will require you to login again with the new credentials.",currentPassword:"Current Password",newUsername:"New Username",newPassword:"New Password",confirmNewPassword:"Confirm New Password",button:"Update Credentials",success:"Credentials updated successfully!",errors:{required:"All fields are required",mismatch:"New passwords do not match",failed:"Failed to update credentials"}}},fge={saveSuccess:"Settings saved successfully",saveFailed:"Failed to save settings",loadFailed:"Failed to load settings"},hge={title:age,subtitle:ige,tabs:sge,general:oge,tagger:lge,rating:cge,similarity:uge,auth:dge,messages:fge},pge={title:"ComfyUI Image Manager",menu:{home:"Home",gallery:"Gallery",imageGroups:"Groups",search:"Search",upload:"Upload",imageGeneration:"Image Generation",settings:"Settings",help:"Help"},tooltip:{home:"Go to home page",gallery:"View image gallery",imageGroups:"Manage groups",search:"Search images",upload:"Upload images",imageGeneration:"Generate AI images",settings:"Manage settings",help:"View help"},theme:{light:"Light Mode",dark:"Dark Mode",toggle:"Toggle Theme"},mobileMenu:{open:"Open Menu",close:"Close Menu"}},mge={copyright:" 2024 ComfyUI Image Manager. All rights reserved.",version:"Version"},gge={title:"Help",sections:{gettingStarted:"Getting Started",imageManagement:"Image Management",autoCollection:"Auto Collection",promptSystem:"Prompt System",settings:"Settings",shortcuts:"Shortcuts"}},yge={header:pge,footer:mge,help:gge},bge={title:"Image Gallery",description:"View and manage all uploaded images."},xge={aiTool:"AI Tool",sortBy:"Sort By",sortOrder:"Order",all:"All",clearFilters:"Clear Filters"},vge={uploadDate:"Upload Date",filename:"Filename",fileSize:"File Size",width:"Width",height:"Height",ascending:"Ascending",descending:"Descending"},Sge={refresh:"Refresh",selectAll:"Select All",deselectAll:"Deselect All"},_ge={loading:"Loading images...",noImages:"No images found.",error:"An error occurred while loading images."},Cge={aiToolLabel:"AI Tool: {{tool}}"},wge={page:bge,filters:xge,sorting:vge,actions:Sge,status:_ge,chips:Cge},Ege={title:"Image Details",notFound:"Image not found.",errorLoading:"An error occurred while loading the image.",noIdProvided:"No image ID provided."},Tge={download:"Download",share:"Share",back:"Back",goToDetail:"Detail Page",delete:"Delete",deleteConfirm:"Are you sure you want to delete this image?",deleteSuccess:"Image deleted successfully.",deleteError:"Failed to delete image."},Age={fileInfo:"File Information",imageInfo:"Image Information",videoInfo:"Video Information",aiInfo:"Generation Info",promptInfo:"Prompt Information",groupInfo:"Groups",fullMetadata:"Full Metadata"},Rge={originalFilename:"Original Filename",filename:"Filename",size:"Size",fileSize:"File Size",mimeType:"MIME Type",uploadDate:"Upload Date"},kge={dimensions:"Dimensions",dimensionsValue:"{{width}}  {{height}}"},Ige={duration:"Duration",durationValue:"{{minutes}}m {{seconds}}s",fps:"Frame Rate",fpsValue:"{{fps}} fps",videoCodec:"Video Codec",audioCodec:"Audio Codec",bitrate:"Bitrate",bitrateValue:"{{bitrate}} Mbps"},jge={tool:"AI Tool",toolShort:"Tool",model:"Model",lora:"LoRA",steps:"Steps",cfgScale:"CFG Scale",cfgShort:"CFG",sampler:"Sampler",scheduler:"Scheduler",seed:"Seed",denoiseStrength:"Denoise Strength",generationTime:"Generation Time",generationTimeValue:"{{time}}s",batchSize:"Batch Size",batchIndex:"Batch Index"},Oge={autoType:"Auto",manualType:"Manual",groupLabel:"{{name}} ({{type}})"},Dge={controls:{zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateLeft:"Rotate Left",rotateRight:"Rotate Right",flipHorizontal:"Flip Horizontal",flipVertical:"Flip Vertical",reset:"Reset",info:"Info",close:"Close"},navigation:{previous:"Previous Image ()",next:"Next Image ()",random:"Random Image (Space)",currentPosition:"{{current}} / {{total}}"}},Mge={page:Ege,actions:Tge,sections:Age,fileInfo:Rge,imageInfo:kge,videoInfo:Ige,aiInfo:jge,groupInfo:Oge,viewer:Dge},Nge={title:"Media Upload",description:"Upload AI-generated images and videos to automatically extract and analyze metadata."},Pge={dragActive:"Drop files here",dragInactive:"Drag and drop images or videos, or click to upload",supportedFormats:"Images: JPG, PNG, GIF, BMP, WebP, TIFF | Videos: MP4, WebM, MOV, AVI, MKV (Max 500MB, unlimited files)",imageSupport:"Image Support",videoSupport:"Video Support",multipleSelection:"Multiple Selection",divider:"or"},Lge={selectFiles:"Select Files",selectFolder:"Select Folder"},zge={title:"Overall Progress",fileCount:"{{completed}}/{{total}}",summary:"Total {{total}} files - Success: {{success}}, Failed: {{failed}}"},Fge={upload:"Uploading",metadata:"Extracting Metadata",thumbnail:"Generating Thumbnail",autoCollect:"Auto Grouping",autoTag:"Auto Tagging"},Bge={waiting:"Waiting",processing:"Processing",complete:"Complete",error:"Error"},Hge={uploadComplete:"Upload Complete",uploadSuccess:"Image upload completed successfully.",uploadFailed:"Upload failed.",uploadError:"An error occurred during upload.",multipleSuccess:"{{count}} images uploaded successfully.",allFailed:"All image uploads failed.",partialSuccess:"{{success}} succeeded, {{failed}} failed."},Uge={title:"Prompt Preview",description:"Select an image to instantly view AI metadata without uploading to server.",dragOrClick:"Drag or click to select an image",dropHere:"Drop file here",noUpload:"Images are analyzed in browser only, not uploaded to server",imagePreview:"Image Preview",aiTool:"AI Tool",positivePrompt:"Prompt",negativePrompt:"Negative Prompt",terms:"Extracted Terms",loraModels:"LoRA Models",parameters:"Generation Parameters",rawMetadata:"Raw Metadata (EXIF/PNG Chunks)",invalidFileType:"Only image files are allowed",extractionFailed:"Failed to extract metadata"},$ge={page:Nge,dropzone:Pge,buttons:Lge,progress:zge,stages:Fge,status:Bge,messages:Hge,promptPreview:Uge},Gge={title:"Media Groups",description:"",emptyTitle:"No groups created yet",emptyDescription:"Create a new group to systematically manage your images.",customGroupsTab:"Custom Groups",autoFolderGroupsTab:"Auto Folder Groups"},qge={imageCount:"{{count}} images",autoCollect:"Auto-collect",stats:"Auto: {{auto}} | Manual: {{manual}}"},Vge={edit:"Edit",delete:"Delete",runAutoCollection:"Run Auto-collection"},Wge={basicInfo:"Basic Information",autoCollect:"Auto-collection Settings"},Yge={createTitle:"Create New Group",editTitle:"Edit Group",basicInfo:"Basic Information",groupName:"Group Name",description:"Description",groupColor:"Group Color",parentGroup:"Parent Group",noParent:"None (Root Level)",selectParent:"Select Parent Group",autoCollectEnable:"Enable Auto-collection",autoCollectDescription:"Automatically add images that match the configured conditions to this group.",orConditionInfo:"OR Condition: Multiple conditions will collect images that satisfy at least one condition.",orConditionExample:`Example: "Prompt contains 'anime'" + "Auto-tag has character"  Collects if either is satisfied`,conditionsTitle:"Auto-collection Conditions",addCondition:"Add Condition",conditionType:"Condition Type",conditionValue:"Value",emptyConditions:"Add conditions to configure auto-collection rules.",buttonCreate:"Create",buttonUpdate:"Update",buttonCancel:"Cancel"},Kge={root:"Root",childGroups:"{{count}} subgroups",openSubgroups:"Open Subgroups",backToParent:"Back to Parent",moveGroup:"Move Group",moveToRoot:"Move to Root",cannotMoveToSelf:"Cannot move to itself",cannotMoveToDescendant:"Cannot move to descendant group",maxDepthExceeded:"Maximum depth (5 levels) exceeded",circularReference:"Circular reference detected",hierarchyInvalid:"Invalid hierarchy structure"},Xge={conditionNumber:"Condition {{number}}",removeCondition:"Remove Condition",addFirstCondition:"Add First Condition",autoCollectDisabled:"Enable auto-collection to configure conditions.",groups:{basic:"Basic",prompt:"Prompt",autotag:"Auto-tag",duplicate:"Duplicate Images"},types:{aiTool:"AI Tool",modelName:"Model Name (Metadata)",promptContains:"Prompt Contains",promptRegex:"Prompt Regex",negativePromptContains:"Negative Prompt Contains",negativePromptRegex:"Negative Prompt Regex",autoTagExists:"Auto-tag Exists",autoTagRating:"Auto-tag: Rating",autoTagRatingScore:"Auto-tag: Rating Score (Weighted)",autoTagGeneral:"Auto-tag: General Tag",autoTagCharacter:"Auto-tag: Character",autoTagHasCharacter:"Auto-tag: Has Character",autoTagModel:"Auto-tag: Model Name",duplicateExact:"Exact Duplicate",duplicateNear:"Near Duplicate",duplicateSimilar:"Similar Images",duplicateCustom:"Custom Duplicate Detection"},values:{exists:"Exists",notExists:"Not Exists"},ratings:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"},fields:{value:"Value",ratingType:"Rating Type",minScore:"Min Score",maxScore:"Max Score",tagName:"Tag Name",characterName:"Character Name",caseSensitive:"Case Sensitive",exactMatch:"Exact Match",exactMatchHelp:"When checked, only exact word matches are searched (e.g., 'asd' won't match 'aasd' or 'asdf')",weightedScore:"Weighted Total Score",maxWeightInfo:"Usually up to 200",confidenceRange:"Confidence Score Range (0.0 ~ 1.0): {{min}} ~ {{max}}",confidenceInfo:" Higher scores indicate higher confidence in the tag",hammingThreshold:"Hamming Distance Threshold",hammingThresholdHelp:"Value between 0-64 (lower = stricter matching)",hammingInfo:" Hamming Distance measures bit differences between perceptual hashes. Lower values find more similar images.",duplicateNote:" This condition only searches images with perceptual_hash."},duplicateInfo:{duplicate_exact:" Finds exact duplicates (Hamming Distance = 0). Detects identical images even with different filenames or metadata.",duplicate_near:" Finds near duplicates (Hamming Distance  5). Detects images with resizing, compression, or minor edits.",duplicate_similar:" Finds similar images (Hamming Distance  15). Detects images with similar composition or content."},placeholders:{regex:"Enter regex pattern",modelName:"Enter model name (e.g., wd-v1-4-moat-tagger-v2)",text:"Enter text to search",tagName:"Enter tag name",characterName:"Enter character name"}},Qge={nameRequired:"Please enter a group name.",conditionRequired:"At least one condition is required to enable auto-collection.",valueRequired:"Please enter a value for condition {{index}}.",ratingTypeRequired:"Condition {{index}}: Please select a rating type.",ratingScoreRequired:"Condition {{index}}: Either min score or max score must be set.",minScoreInvalid:"Condition {{index}}: Min score must be 0 or greater.",maxScoreInvalid:"Condition {{index}}: Max score must be 0 or greater.",scoreRangeInvalid:"Condition {{index}}: Min score must be less than max score.",confidenceScoreRange:"Condition {{index}}: Min score must be between 0.0 and 1.0.",confidenceMaxScoreRange:"Condition {{index}}: Max score must be between 0.0 and 1.0.",confidenceMinMaxInvalid:"Condition {{index}}: Min score cannot be greater than max score.",hammingThresholdRequired:"Condition {{index}}: Hamming Distance threshold is required.",hammingThresholdRange:"Condition {{index}}: Hamming Distance must be between 0 and 64."},Zge={loadFailed:"Failed to load group list.",imageLoadFailed:"Failed to load group images.",deleteSuccess:"Group has been deleted.",deleteFailed:"Failed to delete group.",autoCollectSuccess:"Auto-collection complete: {{added}} added, {{removed}} removed",autoCollectFailed:"Failed to run auto-collection.",createSuccess:"Group has been created.",createFailed:"Failed to create group.",updateSuccess:"Group has been updated.",updateFailed:"Failed to update group.",removeWarning:"No images available to remove.",removeSuccess:"{{count}} images have been removed.",removePartialSuccess:"{{removed}} images removed. {{failed}} failed.",removeError:"An error occurred while removing images.",assignSuccess:"{{added}} added, {{converted}} converted, {{skipped}} skipped",assignFailed:"Failed to assign images.",assignError:"An error occurred while assigning images.",emptyGroup:"This group is empty"},Jge={title:"Confirm Group Deletion",message:"Are you sure you want to delete the group '{{name}}'?",groupInfo:{imageCount:"Associated images: {{count}}",childCount:"Subgroups: {{count}}"},warning:{imageAssociations:" All associations between this group and images will be removed. The image files themselves will not be deleted."},options:{title:"How to handle subgroups",orphan:{label:"Delete only this group (Recommended)",description:"Subgroups will be moved to root level."},cascade:{label:"Delete this group and all subgroups",description:"{{count}} subgroups will be deleted. This action cannot be undone."}}},e0e={title:"{{name}} ({{count}} images)",selectedCount:"{{count}} selected",buttonRemove:"Remove",buttonAssign:"Assign to Group",infoMixedSelection:"Both manual and auto-collected images are selected. Only manual images can be removed, while group assignment applies to all selected images.",warningAutoOnly:"Auto-collected images cannot be removed directly from the group. Please change or disable the auto-collection conditions.",confirmRemoveTitle:"Confirm Image Removal",confirmRemoveMessage:"Remove {{count}} manually collected images from the group?",confirmRemoveNote:"The image files themselves will not be deleted."},t0e={title:"Assign to Group",description:"Assign {{count}} selected images to a group.",currentGroup:"Current Group",emptyGroups:"No groups created",loadError:"Failed to load group list.",loadingError:"An error occurred while loading groups.",buttonAssign:"Assign",buttonCancel:"Cancel"},n0e={menuTitle:"Download Options",scopeAll:"Download All",scopeSelected:"Selected {{count}} Only",typeThumbnail:"Images (Thumbnail)",typeOriginal:"Images (Original)",typeVideo:"Videos & Animations (Original)",confirmTitle:"Confirm Large Download",confirmMessage:"Download {{count}} files. Continue?",confirmButton:"Download"},r0e={page:Gge,groupCard:qge,menu:Vge,tabs:Wge,modal:Yge,hierarchy:Kge,conditions:Xge,validation:Qge,messages:Zge,deleteConfirm:Jge,imageModal:e0e,assignModal:t0e,download:n0e},a0e="Image Search",i0e="Search for images by prompts, AI tools, model names, auto tags, and more.",s0e={placeholder:"Search by prompt keywords...",button:"Search",clear:"Reset All",execute:"Execute Search"},o0e={title:"Search Results",searching:"Searching...",found:"Found {{count}} images.",noResults:"No results found",noResultsHint:"Try different keywords or adjust filters.",initialMessage:"Enter keywords to search for images",initialHint:"You can search by prompts, AI tools, model names, auto tags, dates, and more.",reset:"Reset Search",refresh:"Refresh"},l0e={basic:{aiTool:{label:"AI Tool",all:"All"},modelName:{label:"Model Name",placeholder:"e.g. sd_xl_base_1.0"},startDate:{label:"Start Date"},endDate:{label:"End Date"}},quickDate:{today:"Today",todayTooltip:"Images uploaded today","7days":"7 Days","7daysTooltip":"Last 7 days","30days":"30 Days","30daysTooltip":"Last 30 days","90days":"90 Days","90daysTooltip":"Last 90 days"},advanced:{title:"Advanced Filters",active:"Active",negativePrompt:{label:"Negative Prompt",placeholder:"Enter keywords to exclude (e.g., ugly, blurry)"}},autoTag:{title:"Auto Tag Filters",subtitle:"(WD v3 Tagger)",active:"Active",tabs:{rating:"Rating",character:"Character",generalTags:"General Tags"},rating:{typeMode:"Filter by Type",scoreMode:"Filter by Score",typeDescription:"Filter by confidence range of specific rating type",scoreDescription:"Filter by weighted total score configured in settings",type:{label:"Rating Type",none:"None",general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"},confidenceRange:"Confidence Range",scoreRange:"Score Range"},character:{description:"Filter images by character tags",existence:{label:"Character Presence",all:"All",true:"Present",false:"Absent"},name:{label:"Character Name",placeholder:"e.g., hatsune_miku"},confidenceRange:"Confidence Range"},generalTags:{description:"Filter by general tags and confidence range",tagName:{label:"Tag Name",placeholder:"e.g., 1girl, solo, landscape"},confidence:"Confidence: {{min}} ~ {{max}}",addedTags:"Added Tags ({{count}})"}}},c0e={title:"Recent Searches"},u0e={addButton:"Add Filter",emptyMessage:"Add filters to start searching",countInfo:"{{count}} filter(s) will be applied.",executionOrder:"Execution order: Exclude  OR  AND",modal:{title:"Add Filter",cancel:"Cancel",back:"Back",next:"Next",add:"Add Filter",steps:{selectGroup:"Select Filter Group",selectCategory:"Select Category",configureCondition:"Configure Condition"},step1:{description:"Choose how to apply the filter"},step2:{description:"Select what information to search by"},step3:{description:"Configure the condition. Filters cannot be edited after creation, you must delete and recreate them."}},groupTypes:{exclude:{label:"Exclude (NOT)",description:"Exclude images matching this condition from results"},or:{label:"OR Group",description:"Include images matching this condition in results"},and:{label:"AND Group",description:"Only include images matching all conditions"}},categories:{positive_prompt:{label:"Positive Prompt",description:"Search positive prompts used in image generation"},negative_prompt:{label:"Negative Prompt",description:"Search negative prompts used in image generation"},auto_tag:{label:"Auto Tag (WD Tagger)",description:"Search auto-generated tags from WD v3 Tagger"},basic:{label:"Basic Info",description:"Search basic metadata like AI tool and model name"}},conditionTypes:{conditionType:"Condition Type",value:"Value",placeholder:"Enter value to search",scoreRange:"Score Range",weightRange:"Weight Range",tagName:"Tag/Character Name",tagPlaceholder:"e.g., 1girl, hatsune_miku",ratingType:"Rating Type",exists:"Present",notExists:"Absent"}},d0e={title:a0e,description:i0e,searchInput:s0e,results:o0e,filters:l0e,searchHistory:c0e,filterBlock:u0e},f0e="Prompt Management",h0e="Manage and analyze prompts extracted from AI-generated images.",p0e={positive:"Positive",negative:"Negative"},m0e={search:{placeholder:"Search {{type}} prompts..."},filters:{groupFilter:{label:"Group Filter",all:"All",unassigned:"Unassigned"}},table:{headers:{prompt:"Prompt",usageCount:"Usage Count",assignedGroup:"Assigned Group",actions:"Actions"},empty:"No prompts available.",synonyms:{more:"+{{count}} more"}},actions:{assignToGroup:"Assign to Group",delete:"Delete",cannotDelete:"Cannot delete prompts in use",groupManagement:"Group Management"},statistics:{unclassified:"Unclassified",unknown:"Unknown"},pagination:{rowsPerPage:"Rows per page:",displayedRows:"{{from}}-{{to}} of {{count}}"},messages:{loadFailed:"Failed to load prompt list.",deleteSuccess:"Prompt deleted successfully.",deleteFailed:"Failed to delete prompt.",assignSuccess:"Prompt assigned to group successfully.",assignFailed:"Failed to assign prompt."}},g0e={title:"Assign to Group",selectGroup:{label:"Select Group",unassigned:"Unassigned"},actions:{cancel:"Cancel",assign:"Assign"}},y0e={title:"{{type}} Prompt Group Management",dragHint:"Drag to reorder groups",editForm:{titleAdd:"Add New Group",titleEdit:"Edit Group",groupName:{label:"Group Name",required:"Please enter a group name."},displayOrder:{label:"Display Order"},visibility:{label:"Visible",hidden:"Hidden"},actions:{save:"Save",cancel:"Cancel"}},groupList:{title:"Group List ({{count}})",add:"Add Group",empty:"No groups created.",promptCount:"{{count}} prompts",displayOrder:"Display Order: {{order}}"},actions:{toggleVisibility:"Toggle Visibility",edit:"Edit",delete:"Delete",deleteConfirm:"Are you sure you want to delete this group?",close:"Close"},messages:{loadFailed:"Failed to load group list.",createSuccess:"Group created successfully.",createFailed:"Failed to create group.",updateSuccess:"Group updated successfully.",updateFailed:"Failed to update group.",deleteSuccess:"Group deleted successfully.",deleteFailed:"Failed to delete group.",visibilityFailed:"Failed to change group settings.",reorderSuccess:"Group order updated successfully.",reorderFailed:"Failed to update group order."}},b0e={tabs:{positive:"Positive",negative:"Negative",auto:"AUTO"},labels:{prompt:"Prompt",negativePrompt:"Negative Prompt"},noPrompt:"No prompt information available.",loading:"Loading...",loadFailed:"Failed to load group information."},x0e={noTags:"Auto tagging has not been generated for this image yet.",generateButton:"Generate Tags",generating:"Generating...",generationError:"An error occurred while generating tags.",sections:{rating:"Rating",characters:"Characters",tagList:"Tag List",generalTags:"General Tags ({{count}})",modelInfo:"Model Information"},modelInfo:{model:"Model",generalThreshold:"General",characterThreshold:"Character",taggedAt:"Tagged At"}},v0e={title:f0e,description:h0e,tabs:p0e,promptList:m0e,assignDialog:g0e,groupManagement:y0e,promptDisplay:b0e,autoTagDisplay:x0e},S0e={generate:"Generate",history:"History"},_0e={title:"Workflow Management",listTitle:"Workflow List",addButton:"Add Workflow",editTitle:"Edit Workflow",createTitle:"Add Workflow",noWorkflows:"No workflows registered",noWorkflowsDesc:'Click "Add Workflow" button to add a ComfyUI workflow'},C0e={active:"Active",inactive:"Inactive",fieldsCount:"{{count}} fields",createdDate:"Created: {{date}}",generateImage:"Generate Image",notFound:"Workflow not found"},w0e={basicInfo:"Basic Information",workflowName:"Workflow Name",description:"Description",apiEndpoint:"API Endpoint",activate:"Activate",workflowJson:"Workflow JSON",uploadFile:"Upload File",jsonPlaceholder:'{"prompt": {...}}',jsonHelper:"Paste the Workflow API JSON exported from ComfyUI",jsonCharCount:"{{count}} characters",invalidJson:"Invalid JSON format",nameRequired:"Please enter workflow name",jsonRequired:"Please enter Workflow JSON",validateJson:"Please check JSON format"},E0e={importantNote:"Important:",apiFormatWarning:'Use JSON saved with "Save (API Format)" button in ComfyUI. Regular workflow JSON will not work.',created:"Workflow created successfully",updated:"Workflow updated successfully",inactiveWarning:"This workflow is currently inactive. You need to activate it first to generate images.",noConfigurableFields:"This workflow has no configurable fields."},T0e={sectionTitle:"Marked Fields Configuration",guideTitle:"Marked Fields Usage Guide",addField:"Add Field",noFields:'No Marked Fields. Click "Add Field" button to add one',whatIs:"What are Marked Fields?",whatIsDesc:"Define fields that users can modify when generating images. For example, you can dynamically input prompts, seed values, Steps, CFG, etc.",howToFind:"How to find JSON Path:",step1:'Create a workflow in ComfyUI and click "Save (API Format)" button',step2:"Open the JSON file and find the node number and input field name",step3:"Path format: [node_number].inputs.[field_name]",exampleTitle:"Real Examples:",example1Title:"1. Prompt Field (CLIPTextEncode Node #6)",example1FieldId:"Field ID: prompt_positive",example1Label:"Label: Prompt",example1Type:"Type: Long Text (textarea)",example1Path:"JSON Path: 6.inputs.text",example1Default:"Default: a beautiful landscape",example2Title:"2. Seed Value (KSampler Node #3)",example2FieldId:"Field ID: seed",example2Label:"Label: Seed",example2Type:"Type: Number",example2Path:"JSON Path: 3.inputs.seed",example2Default:"Default: 123456",example3Title:"3. Steps (KSampler Node #3)",example3FieldId:"Field ID: steps",example3Label:"Label: Steps",example3Type:"Type: Number",example3Path:"JSON Path: 3.inputs.steps",example3Default:"Default: 20",example3Min:"Min: 1",example3Max:"Max: 150",example4Title:"4. Sampler (KSampler Node #3)",example4FieldId:"Field ID: sampler_name",example4Label:"Label: Sampler",example4Type:"Type: Select",example4Path:"JSON Path: 3.inputs.sampler_name",example4Options:"Options: euler, euler_ancestral, dpm++ 2m, ddim",tipTitle:" Tip:",tipDesc:'JSON Path follows the structure of Workflow JSON. For example, if JSON is {"3": {"inputs": {"seed": 123}}}, the JSON Path would be 3.inputs.seed.',previewTitle:"Marked Fields Preview"},A0e={fieldId:"Field ID",fieldIdPlaceholder:"prompt_positive",fieldIdHelper:"Unique identifier",label:"Label",labelPlaceholder:"Prompt",labelHelper:"Name displayed to users",type:"Type",typeHelper:"Input method",typeText:"Text (single line)",typeTextarea:"Long Text (multiple lines)",typeNumber:"Number",typeSelect:"Select (dropdown)",jsonPath:"JSON Path *",jsonPathPlaceholder:"6.inputs.text",jsonPathHelper:"Path in Workflow JSON. Example: 6.inputs.text (text input of node 6)",defaultValue:"Default Value",defaultValuePlaceholder:"a beautiful landscape",defaultValueHelper:"Value to display when empty",required:"Required",minValue:"Min Value",minPlaceholder:"1",maxValue:"Max Value",maxPlaceholder:"150",selectOptions:"Select Options (comma separated)",selectOptionsPlaceholder:"euler, dpm++, ddim",selectOptionsHelper:"Example: euler, dpm++ 2m, ddim"},R0e={pageTitle:"Generate Image",settingsTitle:"Generation Settings",missingFields:"Please enter required fields: {{fields}}",selectPlaceholder:"Please select",previewTitle:"Data to be sent Preview",generateAll:"Generate on all active servers ({{count}})",serversListTitle:"ComfyUI Server List",serversListDesc:"You can generate images independently on each server",noServers:"No ComfyUI servers registered. Add a server in the server management page.",noConnectedServers:"No connected servers",responseTime:"Response time: {{time}}ms",generateButton:"Generate on this server",generating:"Generating...",generationComplete:"Image generation completed!",generationFailed:"Image generation failed",executionTime:"{{time}}s",viewImage:"View Image Details"},k0e={save:"Save",saving:"Saving...",cancel:"Cancel",create:"Create",update:"Update",delete:"Delete",confirmDelete:"Are you sure you want to delete this workflow?"},I0e={title:"Repeat Execution",enable:"Enable repeat execution",count:"Repeat count",infinite:"Infinite repeat (-1)",countHelp:"1-999 or -1 (infinite)",delay:"Delay (seconds)",delayHelp:"Wait time before next generation after all servers complete (1-300 seconds)",progress:"Iteration {{current}} in progress",progressWithTotal:"Iteration {{current}}/{{total}} in progress",stop:"Stop"},j0e={subtabs:S0e,page:_0e,card:C0e,form:w0e,alerts:E0e,markedFields:T0e,fieldForm:A0e,generate:R0e,actions:k0e,repeat:I0e},O0e={title:"Image Generation",subtitle:"Manage ComfyUI workflows and generate images"},D0e={novelai:"NovelAI",comfyui:"ComfyUI",wildcards:"Wildcards",ariaLabel:"Image generation tabs"},M0e={subtabs:{generate:"Generate",history:"History"},login:{title:"NovelAI Login",subtitle:"Sign in with your NovelAI account",tabs:{credentials:"Email/Password",token:"Token"},username:"Email",password:"Password",token:"Access Token",tokenPlaceholder:"Enter your NovelAI Access Token",tokenHint:"Enter the Access Token obtained from the NovelAI website",loginButton:"Login",loggingIn:"Logging in...",error:"Login failed",tokenError:"Token authentication failed"},tabs:{basic:"Basic Settings",advanced:"Advanced Settings"},sections:{preset:"Quality Presets",prompts:"Prompts",output:"Output Settings",advanced:"Advanced Settings",sampling:"Sampling Settings",quality:"Quality Settings",model:"Model Selection"},anlas:{balance:"Anlas Balance",refresh:"Refresh",subscription:"Subscription",free:"Free",tablet:"Tablet",scroll:"Scroll",opus:"Opus"},cost:{title:"Cost Estimate",anlas:"Anlas",balance:"Balance",sufficient:"Sufficient",insufficient:"Insufficient",opusFree:"Opus Free Generation",maxSamples:"Max Samples"},models:{label:"Model Selection",v45curated:"V4.5 Curated (Recommended)",v45full:"V4.5 Full",v4curated:"V4 Curated",v4full:"V4 Full",v3:"V3 (Legacy)",v3furry:"V3 Furry"},advanced:{cfgRescale:"Prompt Guidance Rescale",noiseSchedule:"Noise Schedule",uncondScale:"Undesired Content Strength"},settings:{qualityToggle:"Auto-add quality tags"},presets:{title:"Quality Presets",label:"Quality Presets",quality:{name:"Quality",description:"Balanced quality and speed (28 steps, Euler)"},fast:{name:"Fast",description:"Quick generation (15 steps, Euler)"},artistic:{name:"Artistic",description:"Creative results (35 steps, DPM++ 2S Ancestral, SMEA DYN)"},realistic:{name:"Realistic",description:"Realistic images (40 steps, DPM++ 2M, SMEA)"},detail:{name:"Detail",description:"Maximum detail (50 steps, DPM++ SDE, SMEA DYN)"}},gallery:{images:"Images",showMetadata:"Show Metadata",hideMetadata:"Hide Metadata",downloadAll:"Download All"},generate:{title:"NovelAI Image Generation",logout:"Logout",prompt:"Prompt",negativePrompt:"Negative Prompt",resolution:"Resolution",sampler:"Sampler",steps:"Steps",guidance:"Guidance",samples:"Samples",ucPreset:"Quality Preset",generateButton:"Generate Image",generating:"Generating...",resultTitle:"Generated Images",download:"Download",upload:"Upload",metadata:"Metadata",tokenExpired:"Token expired. Please login again.",subscriptionRequired:"Active subscription required",error:"Image generation failed",uploadSuccess:"Image uploaded successfully",uploadError:"Image upload failed",autoUploadSuccess:"{{count}} image(s) uploaded automatically",autoUploadPartial:"{{success}} uploaded, {{fail}} failed",success:"{{count}} image(s) generation started. Check the History tab.",completed:"Image generation completed",failed:"Image generation failed"},repeat:{title:"Repeat Execution",enable:"Enable repeat execution",count:"Repeat count",infinite:"Infinite repeat (-1)",countHelp:"1-999 or -1 (infinite)",delay:"Delay (seconds)",delayHelp:"Wait time before next generation after completion (1-300 seconds)",progress:"Iteration {{current}} in progress",progressWithTotal:"Iteration {{current}}/{{total}} in progress",stop:"Stop"},history:{title:"Generation History",comingSoon:"This feature is coming soon.",description:"View your previously generated images and settings."}},N0e={page:O0e,tabs:D0e,nai:M0e},P0e="Generation History",L0e="{{count}} items",z0e="No generation history",F0e="Loading...",B0e="Loading more history...",H0e="All history loaded",U0e="No generation history",$0e="History will appear when you start generating images",G0e="Are you sure you want to delete this generation history?",q0e="Failed to delete",V0e={pending:"Pending",processing:"Processing",completed:"Completed",failed:"Failed"},W0e={comfyui:"ComfyUI",novelai:"NovelAI"},Y0e={regenerate:"Regenerate",delete:"Delete",refresh:"Refresh",confirmDelete:"Are you sure you want to delete this generation history?"},K0e="Failed to cleanup",X0e="Cleanup Failed Items",Q0e="Are you sure you want to delete {{count}} failed generation histories?",Z0e="Only database records will be deleted, files will be kept.",J0e="Cleanup",e1e="Cleaning...",t1e="{{count}} failed items have been deleted",n1e="No failed items to clean up",r1e="Failed to bulk delete",a1e={title:"Generation History Details",status:"Status",service:"Service",positivePrompt:"Positive Prompt",negativePrompt:"Negative Prompt",size:"Size",model:"Model",sampler:"Sampler",steps:"Steps",cfgScale:"CFG Scale",seed:"Seed",error:"Error",createdAt:"Created At",completedAt:"Completed At"},i1e={title:P0e,count:L0e,empty:z0e,loading:F0e,loadingMore:B0e,allLoaded:H0e,noHistory:U0e,noHistoryDescription:$0e,deleteConfirm:G0e,deleteFailed:q0e,status:V0e,service:W0e,actions:Y0e,cleanupFailed:K0e,cleanupFailedTitle:X0e,cleanupFailedConfirm:Q0e,cleanupFailedNote:Z0e,cleanup:J0e,cleaning:e1e,cleanupSuccess:t1e,noFailedRecords:n1e,bulkDeleteFailed:r1e,detail:a1e},s1e={title:"Server Management",listTitle:"ComfyUI Server List",addButton:"Add Server",noServers:"No servers registered",noServersDesc:'Click "Add Server" button to add a ComfyUI server'},o1e={active:"Active",inactive:"Inactive",priority:"Priority: {{priority}}",concurrent:"Concurrent: {{count}}",connectionSuccess:"Connection successful",connectionFailed:"Connection failed",testConnection:"Test Connection"},l1e={addTitle:"Add Server",editTitle:"Edit Server",serverName:"Server Name",endpointUrl:"Endpoint URL",endpointPlaceholder:"http://127.0.0.1:8188",description:"Description",priority:"Priority",priorityHelper:"Higher values are used first",maxConcurrent:"Max Concurrent Jobs",activate:"Activate",cancel:"Cancel",add:"Add",update:"Update"},c1e={connected:"Connected",disconnected:"Disconnected",testing:"Testing",error:"Error",responseTime:"Response time: {{time}}ms"},u1e={test:"Test Connection",edit:"Edit",delete:"Delete",confirmDelete:"Are you sure you want to delete this server?"},d1e={page:s1e,card:o1e,dialog:l1e,status:c1e,actions:u1e},f1e={network:"Network connection error. Please check your internet connection.",timeout:"Request timeout. Please try again.",unauthorized:"Authentication required. Please log in again.",forbidden:"Access denied. You don't have permission to perform this action.",notFound:"The requested resource was not found.",serverError:"Server error occurred. Please try again later.",badRequest:"Invalid request. Please check your input.",unknown:"An unexpected error occurred. Please try again."},h1e={fileTooLarge:"File size is too large. Maximum file size is 50MB.",invalidFileType:"Invalid file type. Only images and videos are allowed.",uploadFailed:"Upload failed. Please try again.",multipleUploadFailed:"Some files failed to upload.",fileCountLimit:"File count limit exceeded.",processingFailed:"File processing failed.",noFilesSelected:"No files selected. Please select files to upload."},p1e={loadFailed:"Failed to load image.",deleteFailed:"Failed to delete image.",multipleDeleteFailed:"{{count}} images failed to delete.",downloadFailed:"Failed to download image.",notFound:"Image not found.",metadataExtractionFailed:"Failed to extract image metadata."},m1e={loadFailed:"Failed to load groups.",createFailed:"Failed to create group.",updateFailed:"Failed to update group.",deleteFailed:"Failed to delete group.",assignFailed:"Failed to assign to group.",removeFailed:"Failed to remove from group.",autoCollectFailed:"Auto-collection failed.",notFound:"Group not found."},g1e={loadFailed:"Failed to load prompts.",deleteFailed:"Failed to delete prompt.",assignFailed:"Failed to assign prompt to group.",synonymFailed:"Failed to set synonyms.",notFound:"Prompt not found."},y1e={failed:"Search failed. Please try again.",invalidQuery:"Invalid search query.",noResults:"No results found."},b1e={required:"This field is required.",invalid:"Invalid input.",tooShort:"Input is too short.",tooLong:"Input is too long."},x1e={api:f1e,upload:h1e,image:p1e,group:m1e,prompt:g1e,search:y1e,validation:b1e},v1e={field:"This field is required",name:"Name is required",description:"Description is required",file:"Please select a file",image:"Please select an image",group:"Please select a group"},S1e={invalid:"Invalid format",email:"Invalid email format",url:"Invalid URL format",number:"Must be a number",integer:"Must be an integer"},_1e={min:"Minimum length is {{min}} characters",max:"Maximum length is {{max}} characters",exact:"Must be exactly {{length}} characters",between:"Length must be between {{min}} and {{max}} characters"},C1e={fileSize:"File size must not exceed {{max}}",imageSize:"Image dimensions must not exceed {{width}}{{height}}",fileTooLarge:"File is too large (max: {{max}})",fileTooSmall:"File is too small (min: {{min}})"},w1e={min:"Value must be at least {{min}}",max:"Value must not exceed {{max}}",between:"Value must be between {{min}} and {{max}}"},E1e={invalid:"Invalid file type",imageOnly:"Only image files are allowed",videoOnly:"Only video files are allowed",imageOrVideo:"Only images and videos are allowed",allowedTypes:"Allowed types: {{types}}"},T1e={exists:"Already exists",name:"Name already exists",value:"Value already exists"},A1e={required:v1e,format:S1e,length:_1e,size:C1e,range:w1e,fileType:E1e,duplicate:T1e},R1e={title:"Wildcard Management",noWildcards:"No wildcards registered",noWildcardsDesc:"Add new wildcards to automate prompt generation"},k1e={all:"All",both:"Both"},I1e={add:"Add Wildcard",addItem:"Add Item",preview:"Preview",confirmDelete:"Are you sure you want to delete the '{{name}}' wildcard?",copiedToClipboard:"Copied to clipboard",copyFailed:"Failed to copy"},j1e={openScanDialog:"Scan LORA",openLogDialog:"Last Scan Log"},O1e={items:"{{count}} items",itemsCount:" items",moreItems:"and {{count}} more"},D1e={createTitle:"Create Wildcard",editTitle:"Edit Wildcard"},M1e={name:"Name",nameHelper:"Enter name without ++ (e.g. flower, color)",description:"Description (optional)",comfyuiItems:"ComfyUI Prompt Items",naiItems:"NovelAI Prompt Items",itemsHelper:"Each item can contain comma-separated words. You can nest other wildcards using ++name++ format.",itemPlaceholder:"e.g. rose, red, thorns or wilted, ++flower++"},N1e={title:"Wildcard Preview",inputLabel:"Test Prompt",inputPlaceholder:"e.g. A garden with blooming ++flower++, ++color++ sky",generate:"Generate Results",results:"Parsing Results (5 random samples)",result:"Result {{number}}"},P1e={nameRequired:"Wildcard name is required",itemsRequired:"At least one item is required",previewTextRequired:"Please enter a prompt to test",copyFailed:"Failed to copy"},L1e={manual:"Manual Creation",autoCollected:"Auto-Collected (LORA)"},z1e={title:"LORA Wildcard Auto-Generation",description:"Scan LORA folders to automatically generate wildcards",folderPath:"Select LORA Folder",folderPathHelper:"Specify ComfyUI loras folder or subfolder containing LORA files",loraWeight:"Default LORA Weight",loraWeightHelper:"Default weight value for generated wildcards (e.g., 1.0)",duplicateHandling:"Duplicate Name Handling",duplicateNumber:"Number suffix (style, style_2)",duplicateParent:"Include parent folder (anime_style, realistic_style)",matchingMode:"Text File Matching Mode",matchingModeFilename:"Filename Matching (lora.txt)",matchingModeCommon:"Use Common Text File",commonTextFilename:"Common Text Filename",commonTextFilenameHelper:"Common text filename to use within folders (e.g., add.txt, common.txt)",matchingPriority:"Matching Priority",priorityFilename:"Filename Matching First (fallback to common text)",priorityCommon:"Common Text First (fallback to filename matching)",scanButton:"Scan LORA Folder",scanning:"Scanning...",lastScan:"Last Scan",noScanYet:"No scan has been performed yet",scanLog:{title:"Scan Log",timestamp:"Scan Time",folderPath:"Scan Path",totalWildcards:"Generated Wildcards",totalItems:"Total Items",details:"Details",wildcardName:"Wildcard Name",itemCount:"Item Count"},noAutoWildcards:"No auto-collected wildcards",noAutoWildcardsDesc:"Scan a LORA folder to generate wildcards",autoCollectedBadge:"Auto",errors:{folderPathRequired:"LORA folder path is required",invalidWeight:"Please enter a valid weight value (0.1 ~ 2.0)",scanFailed:"Scan failed: {{error}}"}},F1e={title:"LORA Wildcard Auto-Generation",infoMessage:"Please select ComfyUI's loras folder or a folder containing LORA files.",scanButton:"Collect LORA",warningTitle:"Scan Information:",warning1:"Automatically collects .safetensors files",warning2:"Re-scanning the same folder will update the items",warning3:"Auto-collected items can be found in this tab"},B1e={title:"Last LORA Scan Log"},H1e={page:R1e,filters:k1e,actions:I1e,buttons:j1e,card:O1e,dialog:D1e,form:M1e,preview:N1e,errors:P1e,tabs:L1e,autoCollect:z1e,scanDialog:F1e,logDialog:B1e},U1e={save:"",cancel:"",delete:"",edit:"",add:"",upload:"",download:"",search:"",filter:"",reset:"",confirm:"",close:"",back:"",next:"",previous:"",select:"",deselect:"",selectAll:"",deselectAll:"",apply:"",clear:""},$1e={loading:"...",saving:"...",success:"",error:"",noData:"",confirmDelete:"",unsavedChanges:"",processing:"...",uploading:"...",downloading:"...",deleting:"..."},G1e={name:"",description:"",date:"",status:"",type:"",size:"",created:"",updated:"",width:"",height:"",duration:"",resolution:""},q1e={tooltips:{viewDetails:"",download:"",delete:"",select:""},badges:{auto:"",video:""},confirmDelete:{image:"",video:""}},V1e={selectedCount:"{{count}}",selectedCountImages:"{{count}}",tooltips:{download:"",addToGroup:"",delete:"",clearSelection:""},confirmDelete:{mixed:"{{count}}/",images:"{{count}}",videos:"{{count}}",files:"{{count}}"}},W1e={perPage:"",items:"",page:"",of:"/",showing:"{{total}}{{from}}-{{to}}",goToPage:"",rowsPerPage:""},Y1e={loading:"",error:"",empty:"",success:"",pending:"",completed:"",failed:""},K1e={view:"",download:"",delete:"",edit:"",create:"",update:"",cancel:"",confirm:"",retry:"",refresh:""},X1e={buttons:U1e,messages:$1e,labels:G1e,imageCard:q1e,bulkActions:V1e,pagination:W1e,states:Y1e,actions:K1e},Q1e="",Z1e="ComfyUI Image Manager",J1e={general:"",tagger:"Tagger",rating:"",similarity:"",prompts:"",advanced:""},eye={title:"",language:{label:"",description:"",ko:"",en:"English",ja:"","zh-CN":"","zh-TW":""},gallery:{label:"",tooltip:""},canvasCleanup:{label:"Canvas",tooltip:"Canvas"}},tye={title:"WD Tagger",description:"AI",enabled:"Tagger",autoTagOnUpload:"",model:{label:"",loading:"...",downloaded:""},device:{label:"",auto:{title:" (Auto)",description:"GPUGPUCPU"},cpu:{title:"CPU",description:"CPU"},cuda:{title:"GPU (CUDA)",description:"NVIDIA GPUGPU"}},modelStatus:{title:"",loaded:"",unloaded:"",lastUsed:"",justNow:"",minutesAgo:"{{minutes}}",hoursAgo:"{{hours}}",daysAgo:"{{days}}",none:""},buttons:{load:"",unload:"",refresh:"",download:"",downloading:"...",refreshStatus:"",checkDependencies:"Python",checking:"Python...",save:"",cancel:""},alerts:{modelDownloaded:"<strong>{{model}}</strong>",modelNotDownloaded:"<strong>{{model}}</strong>",modelLoaded:"",modelUnloaded:"",loadFailed:"",unloadFailed:"",saveFailed:"",dependencyCheckFailed:""},threshold:{general:{label:": {{value}}",description:""},character:{label:": {{value}}",description:""}},pythonPath:{label:"Python",helper:"Python: python, python3, C:\\Python39\\python.exe"},memoryManagement:{title:"",description:"",keepModelLoaded:"",autoUnloadMinutes:": {{minutes}}",autoUnloadDescription:"",keepLoadedAlert:"",notKeepLoadedAlert:""},batch:{title:"",description:"",untaggedCount:": {{count}}",progress:": {{current}} / {{total}}",buttons:{tagUnprocessed:"100",tagAll:"100",processing:"..."},alerts:{complete:": {{success}}{{failed}}",failed:"",tagAllFailed:""},confirmDialog:{title:"",message:`
100`,confirm:"",cancel:""}},test:{title:"",description:"",imageId:"ID",placeholder:": 123",button:"",processing:"...",result:":",failed:"",invalidId:"ID"}},nye={title:"",description:"",weights:{title:"",description:"",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",preview:{title:": general=0.001, sensitive=0.045, questionable=0.735, explicit=0.470",score:": <strong>{{score}}</strong>"},buttons:{save:"",cancel:"",saving:"..."},alerts:{saveSuccess:"",saveFailed:"",loadFailed:""}},tiers:{title:"",description:"",addButton:"",table:{order:"",name:"",scoreRange:"",color:"",actions:"",empty:"",scoreFormat:"{{min}} ~ {{max}}",infinity:""},dialog:{createTitle:"",editTitle:"",tierName:"",minScore:"",maxScore:" = ",order:"",color:" (Hex)",colorPlaceholder:"#2196f3",colorHelper:": #22c55e, #3b82f6, #f59e0b, #ef4444",save:"",cancel:"",saving:"...",requiredFields:""},alerts:{created:"",updated:"",deleted:"",saveFailed:"",deleteFailed:"",loadFailed:"",deleteConfirm:""}},calculator:{title:"",description:"",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",calculate:"",calculating:"...",result:{title:"",score:": <strong>{{score}}</strong>",breakdown:":",generalScore:"General: {{score}}",sensitiveScore:"Sensitive: {{score}}",questionableScore:"Questionable: {{score}}",explicitScore:"Explicit: {{score}}"},failed:""}},rye={title:"",description:"",systemStatus:{title:"",description:"",totalImages:": {{count}}",withHash:": {{count}}",withoutHash:": {{count}}",completion:": {{percent}}%",autoGenerateHash:"",rebuildButton:"{{count}}",rebuildingButton:"...",refreshButton:"",rebuildProgress:"... {{processed}}/{{total}}{{percent}}%",allComplete:"",rebuildComplete:": {{processed}}",rebuildCompleteWithErrors:": {{success}}{{failed}}",rebuildFailed:"",noImagesToProcess:"",autoGenerateUpdateFailed:""},test:{title:" & ",description:"",imageId:"ID",placeholder:": 123",searchType:"",types:{duplicates:"",similar:"",color:""},searchButton:"",searching:"...",queryImage:"",results:": {{count}}",noResults:"",searchFailed:"",imageDetails:{id:"ID:",filename:":",size:":",aiTool:"AI:"},matchTypes:{exact:"",nearDuplicate:"",similar:"",colorSimilar:""},similarity:"{{percent}}%",colorSimilarity:": {{percent}}%"},duplicateScan:{title:"",description:"",scanButton:"",scanning:"...",foundGroups:": {{count}}",groupLabel:"{{id}}  {{count}}",similarityLabel:"{{percent}}%",moreImages:"+{{count}}",noResults:"",id:"ID: {{id}}"},thresholds:{title:"",description:"",duplicate:{label:": {{value}}",description:"0=5=10=",strict:"0",recommended:"5",lenient:"10"},similar:{label:": {{value}}",description:"",strict:"5",recommended:"15",lenient:"25"},color:{label:": {{value}}%",description:"",min:"70%",recommended:"85%",max:"100%"},searchLimit:{label:"",options:{10:"10",20:"20",50:"50",100:"100"}},localStorageNote:""}},aye={saveSuccess:"",saveFailed:"",loadFailed:""},iye={title:Q1e,subtitle:Z1e,tabs:J1e,general:eye,tagger:tye,rating:nye,similarity:rye,messages:aye},sye={title:"ComfyUI Image Manager",menu:{home:"",gallery:"",imageGroups:"",search:"",upload:"",imageGeneration:"",settings:"",help:""},tooltip:{home:"",gallery:"",imageGroups:"",search:"",upload:"",imageGeneration:"AI",settings:"",help:""},theme:{light:"",dark:"",toggle:""},mobileMenu:{open:"",close:""}},oye={copyright:" 2024 ComfyUI Image Manager. All rights reserved.",version:""},lye={title:"",sections:{gettingStarted:"",imageManagement:"",autoCollection:"",promptSystem:"",settings:"",shortcuts:""}},cye={header:sye,footer:oye,help:lye},uye={title:"",description:""},dye={aiTool:"AI",sortBy:"",sortOrder:"",all:"",clearFilters:""},fye={uploadDate:"",filename:"",fileSize:"",width:"",height:"",ascending:"",descending:""},hye={refresh:"",selectAll:"",deselectAll:""},pye={loading:"...",noImages:"",error:""},mye={aiToolLabel:"AI: {{tool}}"},gye={page:uye,filters:dye,sorting:fye,actions:hye,status:pye,chips:mye},yye={title:"",notFound:"",errorLoading:"",noIdProvided:"ID"},bye={download:"",share:"",back:"",goToDetail:"",delete:"",deleteConfirm:"",deleteSuccess:"",deleteError:""},xye={fileInfo:"",imageInfo:"",videoInfo:"",aiInfo:"",promptInfo:"",groupInfo:"",fullMetadata:""},vye={originalFilename:"",filename:"",size:"",fileSize:"",mimeType:"MIME",uploadDate:""},Sye={dimensions:"",dimensionsValue:"{{width}}  {{height}}"},_ye={duration:"",durationValue:"{{minutes}} {{seconds}}",fps:"",fpsValue:"{{fps}} fps",videoCodec:"",audioCodec:"",bitrate:"",bitrateValue:"{{bitrate}} Mbps"},Cye={tool:"AI",toolShort:"",model:"",lora:"LoRA",steps:"",cfgScale:"CFG Scale",cfgShort:"CFG",sampler:"",scheduler:"",seed:"",denoiseStrength:"",generationTime:"",generationTimeValue:"{{time}}",batchSize:"",batchIndex:""},wye={autoType:"",manualType:"",groupLabel:"{{name}} ({{type}})"},Eye={controls:{zoomIn:"",zoomOut:"",rotateLeft:"",rotateRight:"",flipHorizontal:"",flipVertical:"",reset:"",info:"",close:""},navigation:{previous:" ()",next:" ()",random:" (Space)",currentPosition:"{{current}} / {{total}}"}},Tye={page:yye,actions:bye,sections:xye,fileInfo:vye,imageInfo:Sye,videoInfo:_ye,aiInfo:Cye,groupInfo:wye,viewer:Eye},Aye={title:"",description:"AI"},Rye={dragActive:"",dragInactive:"",supportedFormats:"JPGPNGGIFBMPWebPTIFF | MP4WebMMOVAVIMKV500MB",imageSupport:"",videoSupport:"",multipleSelection:"",divider:""},kye={selectFiles:"",selectFolder:""},Iye={title:"",fileCount:"{{completed}}/{{total}}",summary:"{{total}} - {{success}}{{failed}}"},jye={upload:"",metadata:"",thumbnail:"",autoCollect:"",autoTag:""},Oye={waiting:"",processing:"",complete:"",error:""},Dye={uploadComplete:"",uploadSuccess:"",uploadFailed:"",uploadError:"",multipleSuccess:"{{count}}",allFailed:"",partialSuccess:"{{success}}{{failed}}"},Mye={page:Aye,dropzone:Rye,buttons:kye,progress:Iye,stages:jye,status:Oye,messages:Dye},Nye={title:"",description:"",emptyTitle:"",emptyDescription:""},Pye={imageCount:"{{count}}",autoCollect:"",stats:"{{auto}} | {{manual}}"},Lye={edit:"",delete:"",runAutoCollection:""},zye={basicInfo:"",autoCollect:""},Fye={createTitle:"",editTitle:"",basicInfo:"",groupName:"",description:"",groupColor:"",autoCollectEnable:"",autoCollectDescription:"",orConditionInfo:"OR",orConditionExample:"'anime'+",conditionsTitle:"",addCondition:"",conditionType:"",conditionValue:"",emptyConditions:"",buttonCreate:"",buttonUpdate:"",buttonCancel:""},Bye={conditionNumber:"{{number}}",removeCondition:"",addFirstCondition:"",autoCollectDisabled:"",groups:{basic:"",prompt:"",autotag:"Auto Tag",duplicate:""},types:{aiTool:"AI",modelName:"",promptContains:"",promptRegex:"",negativePromptContains:"",negativePromptRegex:"",autoTagExists:"Auto Tag ",autoTagRating:"Auto Tag: Rating",autoTagRatingScore:"Auto Tag: Rating ",autoTagGeneral:"Auto Tag: General ",autoTagCharacter:"Auto Tag: ",autoTagHasCharacter:"Auto Tag: ",autoTagModel:"Auto Tag: ",duplicateExact:"",duplicateNear:"",duplicateSimilar:"",duplicateCustom:""},values:{exists:"",notExists:""},ratings:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"},fields:{value:"",ratingType:"Rating ",minScore:"",maxScore:"",tagName:"",characterName:"",caseSensitive:"",exactMatch:"",exactMatchHelp:"asdaasdasdf",weightedScore:"",maxWeightInfo:"200",confidenceRange:"0.01.0{{min}}{{max}}",confidenceInfo:" ",hammingThreshold:"",hammingThresholdHelp:"064",hammingInfo:" ",duplicateNote:" perceptual_hash"},duplicateInfo:{duplicate_exact:"  = 0",duplicate_near:"   5",duplicate_similar:"   15"},placeholders:{regex:"",modelName:"wd-v1-4-moat-tagger-v2",text:"",tagName:"",characterName:""}},Hye={nameRequired:"",conditionRequired:"1",valueRequired:"{{index}}",ratingTypeRequired:"{{index}}Rating",ratingScoreRequired:"{{index}}",minScoreInvalid:"{{index}}0",maxScoreInvalid:"{{index}}0",scoreRangeInvalid:"{{index}}",confidenceScoreRange:"{{index}}0.01.0",confidenceMaxScoreRange:"{{index}}0.01.0",confidenceMinMaxInvalid:"{{index}}",hammingThresholdRequired:"{{index}}",hammingThresholdRange:"{{index}}064"},Uye={loadFailed:"",imageLoadFailed:"",deleteSuccess:"",deleteFailed:"",autoCollectSuccess:"{{added}}{{removed}}",autoCollectFailed:"",createSuccess:"",createFailed:"",updateSuccess:"",updateFailed:"",removeWarning:"",removeSuccess:"{{count}}",removePartialSuccess:"{{removed}}{{failed}}",removeError:"",assignSuccess:"{{added}}{{converted}}{{skipped}}",assignFailed:"",assignError:"",emptyGroup:""},$ye={title:"{{name}}{{count}}",selectedCount:"{{count}}",buttonRemove:"",buttonAssign:"",infoMixedSelection:"",warningAutoOnly:"",confirmRemoveTitle:"",confirmRemoveMessage:"{{count}}",confirmRemoveNote:""},Gye={title:"",description:"{{count}}",currentGroup:"",emptyGroups:"",loadError:"",loadingError:"",buttonAssign:"",buttonCancel:""},qye={page:Nye,groupCard:Pye,menu:Lye,tabs:zye,modal:Fye,conditions:Bye,validation:Hye,messages:Uye,imageModal:$ye,assignModal:Gye},Vye="",Wye="AI",Yye={placeholder:"...",button:"",clear:"",execute:""},Kye={title:"",searching:"...",found:"{{count}}",noResults:"",noResultsHint:"",initialMessage:"",initialHint:"AI",reset:"",refresh:""},Xye={basic:{aiTool:{label:"AI",all:""},modelName:{label:"",placeholder:": sd_xl_base_1.0"},startDate:{label:""},endDate:{label:""}},quickDate:{today:"",todayTooltip:"","7days":"7","7daysTooltip":"7","30days":"30","30daysTooltip":"30","90days":"90","90daysTooltip":"90"},advanced:{title:"",active:"",negativePrompt:{label:"",placeholder:" (: ugly, blurry)"}},autoTag:{title:"",subtitle:"(WD v3 Tagger)",active:"",tabs:{rating:"",character:"",generalTags:""},rating:{typeMode:"",scoreMode:"",typeDescription:"",scoreDescription:"",type:{label:"",none:"",general:"",sensitive:"",questionable:"",explicit:""},confidenceRange:"",scoreRange:""},character:{description:"",existence:{label:"",all:"",true:"",false:""},name:{label:"",placeholder:": hatsune_miku"},confidenceRange:""},generalTags:{description:"",tagName:{label:"",placeholder:": 1girl, solo, landscape"},confidence:": {{min}} ~ {{max}}",addedTags:" ({{count}})"}}},Qye={title:""},Zye={title:Vye,description:Wye,searchInput:Yye,results:Kye,filters:Xye,searchHistory:Qye},Jye="",ebe="AI",tbe={positive:"",negative:""},nbe={search:{placeholder:"{{type}}..."},filters:{groupFilter:{label:"",all:"",unassigned:""}},table:{headers:{prompt:"",usageCount:"",assignedGroup:"",actions:""},empty:"",synonyms:{more:"+{{count}}"}},actions:{assignToGroup:"",delete:"",cannotDelete:"",groupManagement:""},statistics:{unclassified:"",unknown:""},pagination:{rowsPerPage:":",displayedRows:"{{from}}-{{to}} / {{count}}"},messages:{loadFailed:"",deleteSuccess:"",deleteFailed:"",assignSuccess:"",assignFailed:""}},rbe={title:"",selectGroup:{label:"",unassigned:""},actions:{cancel:"",assign:""}},abe={title:"{{type}}",dragHint:"",editForm:{titleAdd:"",titleEdit:"",groupName:{label:"",required:""},displayOrder:{label:""},visibility:{label:"",hidden:""},actions:{save:"",cancel:""}},groupList:{title:" ({{count}})",add:"",empty:"",promptCount:"{{count}}",displayOrder:": {{order}}"},actions:{toggleVisibility:"",edit:"",delete:"",deleteConfirm:"",close:""},messages:{loadFailed:"",createSuccess:"",createFailed:"",updateSuccess:"",updateFailed:"",deleteSuccess:"",deleteFailed:"",visibilityFailed:"",reorderSuccess:"",reorderFailed:""}},ibe={tabs:{positive:"",negative:"",auto:"AUTO"},labels:{prompt:"",negativePrompt:""},noPrompt:"",loading:"...",loadFailed:""},sbe={noTags:"",generateButton:"",generating:"...",generationError:"",sections:{rating:"",characters:"",tagList:"",generalTags:" ({{count}})",modelInfo:""},modelInfo:{model:"",generalThreshold:"",characterThreshold:"",taggedAt:""}},obe={title:Jye,description:ebe,tabs:tbe,promptList:nbe,assignDialog:rbe,groupManagement:abe,promptDisplay:ibe,autoTagDisplay:sbe},lbe={generate:"",history:""},cbe={title:"",listTitle:"",addButton:"",editTitle:"",createTitle:"",noWorkflows:"",noWorkflowsDesc:"ComfyUI"},ube={active:"",inactive:"",fieldsCount:"{{count}}",createdDate:": {{date}}",generateImage:"",notFound:""},dbe={basicInfo:"",workflowName:"",description:"",apiEndpoint:"API",activate:"",workflowJson:"JSON",uploadFile:"",jsonPlaceholder:'{"prompt": {...}}',jsonHelper:"ComfyUIAPI JSON",jsonCharCount:"{{count}}",invalidJson:"JSON",nameRequired:"",jsonRequired:"JSON",validateJson:"JSON"},fbe={importantNote:":",apiFormatWarning:"ComfyUISave (API Format)JSONJSON",created:"",updated:"",inactiveWarning:"",noConfigurableFields:""},hbe={sectionTitle:"",guideTitle:"",addField:"",noFields:"",whatIs:"",whatIsDesc:"StepsCFG",howToFind:"JSON:",step1:"ComfyUISave (API Format)",step2:"JSON",step3:": [].inputs.[]",exampleTitle:":",example1Title:"1.  (CLIPTextEncode #6)",example1FieldId:"ID: prompt_positive",example1Label:": ",example1Type:":  (textarea)",example1Path:"JSON: 6.inputs.text",example1Default:": a beautiful landscape",example2Title:"2.  (KSampler #3)",example2FieldId:"ID: seed",example2Label:": ",example2Type:": ",example2Path:"JSON: 3.inputs.seed",example2Default:": 123456",example3Title:"3.  (KSampler #3)",example3FieldId:"ID: steps",example3Label:": ",example3Type:": ",example3Path:"JSON: 3.inputs.steps",example3Default:": 20",example3Min:": 1",example3Max:": 150",example4Title:"4.  (KSampler #3)",example4FieldId:"ID: sampler_name",example4Label:": ",example4Type:": ",example4Path:"JSON: 3.inputs.sampler_name",example4Options:": euler, euler_ancestral, dpm++ 2m, ddim",tipTitle:" :",tipDesc:'JSONJSONJSON{"3": {"inputs": {"seed": 123}}}JSON3.inputs.seed',previewTitle:""},pbe={fieldId:"ID",fieldIdPlaceholder:"prompt_positive",fieldIdHelper:"",label:"",labelPlaceholder:"",labelHelper:"",type:"",typeHelper:"",typeText:" (1)",typeTextarea:" ()",typeNumber:"",typeSelect:" ()",jsonPath:"JSON *",jsonPathPlaceholder:"6.inputs.text",jsonPathHelper:"JSON: 6.inputs.text (6)",defaultValue:"",defaultValuePlaceholder:"a beautiful landscape",defaultValueHelper:"",required:"",minValue:"",minPlaceholder:"1",maxValue:"",maxPlaceholder:"150",selectOptions:" ()",selectOptionsPlaceholder:"euler, dpm++, ddim",selectOptionsHelper:": euler, dpm++ 2m, ddim"},mbe={pageTitle:"",settingsTitle:"",missingFields:": {{fields}}",selectPlaceholder:"",previewTitle:"",generateAll:" ({{count}})",serversListTitle:"ComfyUI",serversListDesc:"",noServers:"ComfyUI",noConnectedServers:"",responseTime:": {{time}}ms",generateButton:"",generating:"...",generationComplete:"",generationFailed:"",executionTime:"{{time}}",viewImage:""},gbe={save:"",saving:"...",cancel:"",create:"",update:"",delete:"",confirmDelete:""},ybe={title:"",enable:"",count:"",infinite:" (-1)",countHelp:"1-999  -1 ()",delay:"",delayHelp:"1-300",progress:"{{current}}",progressWithTotal:"{{current}}/{{total}}",stop:""},bbe={subtabs:lbe,page:cbe,card:ube,form:dbe,alerts:fbe,markedFields:hbe,fieldForm:pbe,generate:mbe,actions:gbe,repeat:ybe},xbe={title:"",subtitle:"ComfyUI"},vbe={workflows:"",servers:"",novelai:"NovelAI",ariaLabel:""},Sbe={subtabs:{generate:"",history:"",helper:""},login:{title:"NovelAI",subtitle:"NovelAI",tabs:{credentials:"/",token:""},username:"",password:"",token:"",tokenPlaceholder:"NovelAI ",tokenHint:"NovelAI",loginButton:"",loggingIn:"...",error:"",tokenError:""},generate:{title:"NovelAI",logout:"",prompt:"",negativePrompt:"",resolution:"",sampler:"",steps:"",guidance:"",samples:"",ucPreset:"",generateButton:"",generating:"...",resultTitle:"",download:"",upload:"",metadata:"",tokenExpired:"",subscriptionRequired:"",error:"",uploadSuccess:"",uploadError:"",autoUploadSuccess:"{{count}}",autoUploadPartial:"{{success}}{{fail}}",success:"{{count}}",completed:"",failed:""},repeat:{title:"",enable:"",count:"",infinite:" (-1)",countHelp:"1-999  -1 ()",delay:"",delayHelp:"1-300",progress:"{{current}}",progressWithTotal:"{{current}}/{{total}}",stop:""}},_be={page:xbe,tabs:vbe,nai:Sbe},Cbe="",wbe="{{count}}",Ebe="",Tbe="...",Abe="...",Rbe="",kbe="",Ibe="",jbe="",Obe="",Dbe={pending:"",processing:"",completed:"",failed:""},Mbe={comfyui:"ComfyUI",novelai:"NovelAI"},Nbe={regenerate:"",delete:"",refresh:"",confirmDelete:""},Pbe={title:"",status:"",service:"",positivePrompt:"",negativePrompt:"",size:"",model:"",sampler:"",steps:"",cfgScale:"CFG Scale",seed:"",error:"",createdAt:"",completedAt:""},Lbe={title:Cbe,count:wbe,empty:Ebe,loading:Tbe,loadingMore:Abe,allLoaded:Rbe,noHistory:kbe,noHistoryDescription:Ibe,deleteConfirm:jbe,deleteFailed:Obe,status:Dbe,service:Mbe,actions:Nbe,detail:Pbe},zbe={title:"",listTitle:"ComfyUI",addButton:"",noServers:"",noServersDesc:"ComfyUI"},Fbe={active:"",inactive:"",priority:": {{priority}}",concurrent:": {{count}}",connectionSuccess:"",connectionFailed:"",testConnection:""},Bbe={addTitle:"",editTitle:"",serverName:"",endpointUrl:"URL",endpointPlaceholder:"http://127.0.0.1:8188",description:"",priority:"",priorityHelper:"",maxConcurrent:"",activate:"",cancel:"",add:"",update:""},Hbe={connected:"",disconnected:"",testing:"",error:"",responseTime:": {{time}}ms"},Ube={test:"",edit:"",delete:"",confirmDelete:""},$be={page:zbe,card:Fbe,dialog:Bbe,status:Hbe,actions:Ube},Gbe={network:"",timeout:"",unauthorized:"",forbidden:"",notFound:"",serverError:"",badRequest:"",unknown:""},qbe={fileTooLarge:"50MB",invalidFileType:"",uploadFailed:"",multipleUploadFailed:"",fileCountLimit:"",processingFailed:"",noFilesSelected:""},Vbe={loadFailed:"",deleteFailed:"",multipleDeleteFailed:"{{count}}",downloadFailed:"",notFound:"",metadataExtractionFailed:""},Wbe={loadFailed:"",createFailed:"",updateFailed:"",deleteFailed:"",assignFailed:"",removeFailed:"",autoCollectFailed:"",notFound:""},Ybe={loadFailed:"",deleteFailed:"",assignFailed:"",synonymFailed:"",notFound:""},Kbe={failed:"",invalidQuery:"",noResults:""},Xbe={required:"",invalid:"",tooShort:"",tooLong:""},Qbe={api:Gbe,upload:qbe,image:Vbe,group:Wbe,prompt:Ybe,search:Kbe,validation:Xbe},Zbe={field:"",name:"",description:"",file:"",image:"",group:""},Jbe={invalid:"",email:"",url:"URL",number:"",integer:""},exe={min:"{{min}}",max:"{{max}}",exact:"{{length}}",between:"{{min}}{{max}}"},txe={fileSize:"{{max}}",imageSize:"{{width}}{{height}}",fileTooLarge:"{{max}}",fileTooSmall:"{{min}}"},nxe={min:"{{min}}",max:"{{max}}",between:"{{min}}{{max}}"},rxe={invalid:"",imageOnly:"",videoOnly:"",imageOrVideo:"",allowedTypes:"{{types}}"},axe={exists:"",name:"",value:""},ixe={required:Zbe,format:Jbe,length:exe,size:txe,range:nxe,fileType:rxe,duplicate:axe},sxe={title:"",noWildcards:"",noWildcardsDesc:""},oxe={all:"",both:""},lxe={add:"",addItem:"",preview:"",confirmDelete:"'{{name}}'?"},cxe={items:"{{count}}",itemsCount:"",moreItems:"{{count}}"},uxe={createTitle:"",editTitle:""},dxe={name:"",nameHelper:"++ (: )",description:" ()",comfyuiItems:"ComfyUI",naiItems:"NovelAI",itemsHelper:"++++",itemPlaceholder:":   ++++"},fxe={title:"",inputLabel:"",inputPlaceholder:": ++++++++",generate:"",results:" (5)",result:" {{number}}"},hxe={nameRequired:"",itemsRequired:"1",previewTextRequired:""},pxe={manual:"",autoCollected:" (LORA)"},mxe={title:"LORA",description:"LORA",folderPath:"LORA",folderPathHelper:"ComfyUI lorasLORA",loraWeight:"LORA",loraWeightHelper:" (: 1.0)",duplicateHandling:"",duplicateNumber:" (style, style_2)",duplicateParent:" (anime_style, realistic_style)",scanButton:"LORA",scanning:"...",lastScan:"",noScanYet:"",scanLog:{title:"",timestamp:"",folderPath:"",totalWildcards:"",totalItems:"",details:"",wildcardName:"",itemCount:""},noAutoWildcards:"",noAutoWildcardsDesc:"LORA",autoCollectedBadge:"",errors:{folderPathRequired:"LORA",invalidWeight:" (0.1 ~ 2.0)",scanFailed:": {{error}}"}},gxe={page:sxe,filters:oxe,actions:lxe,card:cxe,dialog:uxe,form:dxe,preview:fxe,errors:hxe,tabs:pxe,autoCollect:mxe},yxe={save:"",cancel:"",delete:"",edit:"",add:"",upload:"",download:"",search:"",filter:"",reset:"",confirm:"",close:"",back:"",next:"",previous:"",select:"",deselect:"",selectAll:"",deselectAll:"",apply:"",clear:""},bxe={loading:"...",saving:"...",success:"",error:"",noData:"",confirmDelete:"",unsavedChanges:"",processing:"...",uploading:"...",downloading:"...",deleting:"..."},xxe={name:"",description:"",date:"",status:"",type:"",size:"",created:"",updated:"",width:"",height:"",duration:"",resolution:""},vxe={tooltips:{viewDetails:"",download:"",delete:"",select:""},badges:{auto:"",video:""},confirmDelete:{image:"",video:""}},Sxe={selectedCount:"{{count}}",selectedCountImages:"{{count}}",tooltips:{download:"",addToGroup:"",delete:"",clearSelection:""},confirmDelete:{mixed:"{{count}}/",images:"{{count}}",videos:"{{count}}",files:"{{count}}"}},_xe={perPage:"",items:"",page:"",of:"/",showing:"{{total}}{{from}}-{{to}}",goToPage:"",rowsPerPage:""},Cxe={loading:"",error:"",empty:"",success:"",pending:"",completed:"",failed:""},wxe={view:"",download:"",delete:"",edit:"",create:"",update:"",cancel:"",confirm:"",retry:"",refresh:""},Exe={buttons:yxe,messages:bxe,labels:xxe,imageCard:vxe,bulkActions:Sxe,pagination:_xe,states:Cxe,actions:wxe},Txe="",Axe="ComfyUI Image Manager",Rxe={general:"",tagger:"Tagger",rating:"",similarity:"",prompts:"",advanced:""},kxe={title:"",language:{label:"",description:"",ko:"",en:"English",ja:"","zh-CN":"","zh-TW":""},gallery:{label:"",tooltip:""},canvasCleanup:{label:"Canvas",tooltip:"Canvas"}},Ixe={title:"WD Tagger",description:"AI",enabled:"Tagger",autoTagOnUpload:"",model:{label:"",loading:"...",downloaded:""},device:{label:"",auto:{title:" (Auto)",description:"GPUGPUCPU"},cpu:{title:"CPU",description:"CPU"},cuda:{title:"GPU (CUDA)",description:"NVIDIA GPUGPU"}},modelStatus:{title:"",loaded:"",unloaded:"",lastUsed:"",justNow:"",minutesAgo:"{{minutes}}",hoursAgo:"{{hours}}",daysAgo:"{{days}}",none:""},buttons:{load:"",unload:"",refresh:"",download:"",downloading:"...",refreshStatus:"",checkDependencies:"Python",checking:"Python...",save:"",cancel:""},alerts:{modelDownloaded:"<strong>{{model}}</strong>",modelNotDownloaded:"<strong>{{model}}</strong>",modelLoaded:"",modelUnloaded:"",loadFailed:"",unloadFailed:"",saveFailed:"",dependencyCheckFailed:""},threshold:{general:{label:": {{value}}",description:""},character:{label:": {{value}}",description:""}},pythonPath:{label:"Python",helper:"Python: python, python3, C:\\Python39\\python.exe"},memoryManagement:{title:"",description:"",keepModelLoaded:"",autoUnloadMinutes:": {{minutes}}",autoUnloadDescription:"",keepLoadedAlert:"",notKeepLoadedAlert:""},batch:{title:"",description:"",untaggedCount:": {{count}}",progress:": {{current}} / {{total}}",buttons:{tagUnprocessed:"100",tagAll:"100",processing:"..."},alerts:{complete:": {{success}}{{failed}}",failed:"",tagAllFailed:""},confirmDialog:{title:"",message:`
100`,confirm:"",cancel:""}},test:{title:"",description:"",imageId:"ID",placeholder:": 123",button:"",processing:"...",result:":",failed:"",invalidId:"ID"}},jxe={title:"",description:"",weights:{title:"",description:"",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",preview:{title:": general=0.001, sensitive=0.045, questionable=0.735, explicit=0.470",score:": <strong>{{score}}</strong>"},buttons:{save:"",cancel:"",saving:"..."},alerts:{saveSuccess:"",saveFailed:"",loadFailed:""}},tiers:{title:"",description:"",addButton:"",table:{order:"",name:"",scoreRange:"",color:"",actions:"",empty:"",scoreFormat:"{{min}} ~ {{max}}",infinity:""},dialog:{createTitle:"",editTitle:"",tierName:"",minScore:"",maxScore:" = ",order:"",color:" (Hex)",colorPlaceholder:"#2196f3",colorHelper:": #22c55e, #3b82f6, #f59e0b, #ef4444",save:"",cancel:"",saving:"...",requiredFields:""},alerts:{created:"",updated:"",deleted:"",saveFailed:"",deleteFailed:"",loadFailed:"",deleteConfirm:""}},calculator:{title:"",description:"",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",calculate:"",calculating:"...",result:{title:"",score:": <strong>{{score}}</strong>",breakdown:":",generalScore:"General: {{score}}",sensitiveScore:"Sensitive: {{score}}",questionableScore:"Questionable: {{score}}",explicitScore:"Explicit: {{score}}"},failed:""}},Oxe={title:"",description:"",systemStatus:{title:"",description:"",totalImages:": {{count}}",withHash:": {{count}}",withoutHash:": {{count}}",completion:": {{percent}}%",autoGenerateHash:"",rebuildButton:"{{count}}",rebuildingButton:"...",refreshButton:"",rebuildProgress:"... {{processed}}/{{total}}{{percent}}%",allComplete:"",rebuildComplete:": {{processed}}",rebuildCompleteWithErrors:": {{success}}{{failed}}",rebuildFailed:"",noImagesToProcess:"",autoGenerateUpdateFailed:""},test:{title:"",description:"",imageId:"ID",placeholder:": 123",searchType:"",types:{duplicates:"",similar:"",color:""},searchButton:"",searching:"...",queryImage:"",results:": {{count}}",noResults:"",searchFailed:"",imageDetails:{id:"ID:",filename:":",size:":",aiTool:"AI:"},matchTypes:{exact:"",nearDuplicate:"",similar:"",colorSimilar:""},similarity:"{{percent}}%",colorSimilarity:": {{percent}}%"},duplicateScan:{title:"",description:"",scanButton:"",scanning:"...",foundGroups:": {{count}}",groupLabel:"{{id}}  {{count}}",similarityLabel:"{{percent}}%",moreImages:"+{{count}}",noResults:"",id:"ID: {{id}}"},thresholds:{title:"",description:"",duplicate:{label:": {{value}}",description:"0=5=10=",strict:"0",recommended:"5",lenient:"10"},similar:{label:": {{value}}",description:"",strict:"5",recommended:"15",lenient:"25"},color:{label:": {{value}}%",description:"",min:"70%",recommended:"85%",max:"100%"},searchLimit:{label:"",options:{10:"10",20:"20",50:"50",100:"100"}},localStorageNote:""}},Dxe={saveSuccess:"",saveFailed:"",loadFailed:""},Mxe={title:Txe,subtitle:Axe,tabs:Rxe,general:kxe,tagger:Ixe,rating:jxe,similarity:Oxe,messages:Dxe},Nxe={title:"ComfyUI Image Manager",menu:{home:"",gallery:"",imageGroups:"",search:"",upload:"",imageGeneration:"",settings:"",help:""},tooltip:{home:"",gallery:"",imageGroups:"",search:"",upload:"",imageGeneration:"AI",settings:"",help:""},theme:{light:"",dark:"",toggle:""},mobileMenu:{open:"",close:""}},Pxe={copyright:" 2024 ComfyUI Image Manager. ",version:""},Lxe={title:"",sections:{gettingStarted:"",imageManagement:"",autoCollection:"",promptSystem:"",settings:"",shortcuts:""}},zxe={header:Nxe,footer:Pxe,help:Lxe},Fxe={title:"",description:""},Bxe={aiTool:"AI ",sortBy:"",sortOrder:"",all:"",clearFilters:""},Hxe={uploadDate:"",filename:"",fileSize:"",width:"",height:"",ascending:"",descending:""},Uxe={refresh:"",selectAll:"",deselectAll:""},$xe={loading:"...",noImages:"",error:""},Gxe={aiToolLabel:"AI : {{tool}}"},qxe={page:Fxe,filters:Bxe,sorting:Hxe,actions:Uxe,status:$xe,chips:Gxe},Vxe={title:"",notFound:"",errorLoading:"",noIdProvided:" ID"},Wxe={download:"",share:"",back:"",goToDetail:"",delete:"",deleteConfirm:"",deleteSuccess:"",deleteError:""},Yxe={fileInfo:"",imageInfo:"",videoInfo:"",aiInfo:"",promptInfo:"",groupInfo:"",fullMetadata:""},Kxe={originalFilename:"",filename:"",size:"",fileSize:"",mimeType:"MIME ",uploadDate:""},Xxe={dimensions:"",dimensionsValue:"{{width}}  {{height}}"},Qxe={duration:"",durationValue:"{{minutes}} {{seconds}}",fps:"",fpsValue:"{{fps}} fps",videoCodec:"",audioCodec:"",bitrate:"",bitrateValue:"{{bitrate}} Mbps"},Zxe={tool:"AI ",toolShort:"",model:"",lora:"LoRA",steps:"",cfgScale:"CFG Scale",cfgShort:"CFG",sampler:"",scheduler:"",seed:"",denoiseStrength:"",generationTime:"",generationTimeValue:"{{time}}",batchSize:"",batchIndex:""},Jxe={autoType:"",manualType:"",groupLabel:"{{name}} ({{type}})"},e2e={controls:{zoomIn:"",zoomOut:"",rotateLeft:"",rotateRight:"",flipHorizontal:"",flipVertical:"",reset:"",info:"",close:""},navigation:{previous:" ()",next:" ()",random:" (Space)",currentPosition:"{{current}} / {{total}}"}},t2e={page:Vxe,actions:Wxe,sections:Yxe,fileInfo:Kxe,imageInfo:Xxe,videoInfo:Qxe,aiInfo:Zxe,groupInfo:Jxe,viewer:e2e},n2e={title:"",description:"AI"},r2e={dragActive:"",dragInactive:"",supportedFormats:"JPGPNGGIFBMPWebPTIFF | MP4WebMMOVAVIMKV500MB",imageSupport:"",videoSupport:"",multipleSelection:"",divider:""},a2e={selectFiles:"",selectFolder:""},i2e={title:"",fileCount:"{{completed}}/{{total}}",summary:"{{total}} - {{success}}{{failed}}"},s2e={upload:"",metadata:"",thumbnail:"",autoCollect:"",autoTag:""},o2e={waiting:"",processing:"",complete:"",error:""},l2e={uploadComplete:"",uploadSuccess:"",uploadFailed:"",uploadError:"",multipleSuccess:"{{count}}",allFailed:"",partialSuccess:"{{success}}{{failed}}"},c2e={page:n2e,dropzone:r2e,buttons:a2e,progress:i2e,stages:s2e,status:o2e,messages:l2e},u2e={title:"",description:"",emptyTitle:"",emptyDescription:""},d2e={imageCount:"{{count}}",autoCollect:"",stats:"{{auto}} | {{manual}}"},f2e={edit:"",delete:"",runAutoCollection:""},h2e={basicInfo:"",autoCollect:""},p2e={createTitle:"",editTitle:"",basicInfo:"",groupName:"",description:"",groupColor:"",autoCollectEnable:"",autoCollectDescription:"",orConditionInfo:"OR",orConditionExample:`"'anime'" + ""  `,conditionsTitle:"",addCondition:"",conditionType:"",conditionValue:"",emptyConditions:"",buttonCreate:"",buttonUpdate:"",buttonCancel:""},m2e={conditionNumber:"{{number}}",removeCondition:"",addFirstCondition:"",autoCollectDisabled:"",groups:{basic:"",prompt:"",autotag:"Auto Tag",duplicate:""},types:{aiTool:"AI",modelName:"",promptContains:"",promptRegex:"",negativePromptContains:"",negativePromptRegex:"",autoTagExists:"Auto Tag ",autoTagRating:"Auto Tag: ",autoTagRatingScore:"Auto Tag: ",autoTagGeneral:"Auto Tag: ",autoTagCharacter:"Auto Tag: ",autoTagHasCharacter:"Auto Tag: ",autoTagModel:"Auto Tag: ",duplicateExact:"",duplicateNear:"",duplicateSimilar:"",duplicateCustom:""},values:{exists:"",notExists:""},ratings:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"},fields:{value:"",ratingType:"",minScore:"",maxScore:"",tagName:"",characterName:"",caseSensitive:"",exactMatch:"",exactMatchHelp:"'asd''aasd''asdf'",weightedScore:"",maxWeightInfo:"200",confidenceRange:"0.01.0{{min}}{{max}}",confidenceInfo:" ",hammingThreshold:"",hammingThresholdHelp:"0-64",hammingInfo:" ",duplicateNote:" perceptual_hash"},duplicateInfo:{duplicate_exact:"  = 0",duplicate_near:"   5",duplicate_similar:"   15"},placeholders:{regex:"",modelName:"wd-v1-4-moat-tagger-v2",text:"",tagName:"",characterName:""}},g2e={nameRequired:"",conditionRequired:"",valueRequired:"{{index}}",ratingTypeRequired:"{{index}}",ratingScoreRequired:"{{index}}",minScoreInvalid:"{{index}}0",maxScoreInvalid:"{{index}}0",scoreRangeInvalid:"{{index}}",confidenceScoreRange:"{{index}}0.01.0",confidenceMaxScoreRange:"{{index}}0.01.0",confidenceMinMaxInvalid:"{{index}}",hammingThresholdRequired:"{{index}}",hammingThresholdRange:"{{index}}064"},y2e={loadFailed:"",imageLoadFailed:"",deleteSuccess:"",deleteFailed:"",autoCollectSuccess:"{{added}}{{removed}}",autoCollectFailed:"",createSuccess:"",createFailed:"",updateSuccess:"",updateFailed:"",removeWarning:"",removeSuccess:"{{count}}",removePartialSuccess:"{{removed}}{{failed}}",removeError:"",assignSuccess:"{{added}}{{converted}}{{skipped}}",assignFailed:"",assignError:"",emptyGroup:""},b2e={title:"{{name}}{{count}}",selectedCount:"{{count}}",buttonRemove:"",buttonAssign:"",infoMixedSelection:"",warningAutoOnly:"",confirmRemoveTitle:"",confirmRemoveMessage:"{{count}}",confirmRemoveNote:""},x2e={title:"",description:"{{count}}",currentGroup:"",emptyGroups:"",loadError:"",loadingError:"",buttonAssign:"",buttonCancel:""},v2e={page:u2e,groupCard:d2e,menu:f2e,tabs:h2e,modal:p2e,conditions:m2e,validation:g2e,messages:y2e,imageModal:b2e,assignModal:x2e},S2e="",_2e="AI",C2e={placeholder:"...",button:"",clear:"",execute:""},w2e={title:"",searching:"...",found:"{{count}}",noResults:"",noResultsHint:"",initialMessage:"",initialHint:"AI",reset:"",refresh:""},E2e={basic:{aiTool:{label:"AI",all:""},modelName:{label:"",placeholder:": sd_xl_base_1.0"},startDate:{label:""},endDate:{label:""}},quickDate:{today:"",todayTooltip:"","7days":"7","7daysTooltip":"7","30days":"30","30daysTooltip":"30","90days":"90","90daysTooltip":"90"},advanced:{title:"",active:"",negativePrompt:{label:"",placeholder:" (: ugly, blurry)"}},autoTag:{title:"",subtitle:"(WD v3 Tagger)",active:"",tabs:{rating:"",character:"",generalTags:""},rating:{typeMode:"",scoreMode:"",typeDescription:"",scoreDescription:"",type:{label:"",none:"",general:"",sensitive:"",questionable:"",explicit:""},confidenceRange:"",scoreRange:""},character:{description:"",existence:{label:"",all:"",true:"",false:""},name:{label:"",placeholder:": hatsune_miku"},confidenceRange:""},generalTags:{description:"",tagName:{label:"",placeholder:": 1girl, solo, landscape"},confidence:": {{min}} ~ {{max}}",addedTags:" ({{count}})"}}},T2e={title:""},A2e={title:S2e,description:_2e,searchInput:C2e,results:w2e,filters:E2e,searchHistory:T2e},R2e="",k2e="AI",I2e={positive:"",negative:""},j2e={search:{placeholder:"{{type}}..."},filters:{groupFilter:{label:"",all:"",unassigned:""}},table:{headers:{prompt:"",usageCount:"",assignedGroup:"",actions:""},empty:"",synonyms:{more:"+{{count}}"}},actions:{assignToGroup:"",delete:"",cannotDelete:"",groupManagement:""},statistics:{unclassified:"",unknown:""},pagination:{rowsPerPage:":",displayedRows:"{{from}}-{{to}} / {{count}}"},messages:{loadFailed:"",deleteSuccess:"",deleteFailed:"",assignSuccess:"",assignFailed:""}},O2e={title:"",selectGroup:{label:"",unassigned:""},actions:{cancel:"",assign:""}},D2e={title:"{{type}}",dragHint:"",editForm:{titleAdd:"",titleEdit:"",groupName:{label:"",required:""},displayOrder:{label:""},visibility:{label:"",hidden:""},actions:{save:"",cancel:""}},groupList:{title:" ({{count}})",add:"",empty:"",promptCount:"{{count}}",displayOrder:": {{order}}"},actions:{toggleVisibility:"",edit:"",delete:"",deleteConfirm:"",close:""},messages:{loadFailed:"",createSuccess:"",createFailed:"",updateSuccess:"",updateFailed:"",deleteSuccess:"",deleteFailed:"",visibilityFailed:"",reorderSuccess:"",reorderFailed:""}},M2e={tabs:{positive:"",negative:"",auto:""},labels:{prompt:"",negativePrompt:""},noPrompt:"",loading:"...",loadFailed:""},N2e={noTags:"",generateButton:"",generating:"...",generationError:"",sections:{rating:"",characters:"",tagList:"",generalTags:" ({{count}})",modelInfo:""},modelInfo:{model:"",generalThreshold:"",characterThreshold:"",taggedAt:""}},P2e={title:R2e,description:k2e,tabs:I2e,promptList:j2e,assignDialog:O2e,groupManagement:D2e,promptDisplay:M2e,autoTagDisplay:N2e},L2e={generate:"",history:""},z2e={title:"",listTitle:"",addButton:"",editTitle:"",createTitle:"",noWorkflows:"",noWorkflowsDesc:'""ComfyUI'},F2e={active:"",inactive:"",fieldsCount:"{{count}}",createdDate:": {{date}}",generateImage:"",notFound:""},B2e={basicInfo:"",workflowName:"",description:"",apiEndpoint:"API",activate:"",workflowJson:"JSON",uploadFile:"",jsonPlaceholder:'{"prompt": {...}}',jsonHelper:"ComfyUIAPI JSON",jsonCharCount:"{{count}}",invalidJson:"JSON",nameRequired:"",jsonRequired:"JSON",validateJson:"JSON"},H2e={importantNote:":",apiFormatWarning:'ComfyUI"Save (API Format)"JSONJSON',created:"",updated:"",inactiveWarning:"",noConfigurableFields:""},U2e={sectionTitle:"",guideTitle:"",addField:"",noFields:'""',whatIs:"",whatIsDesc:"CFG",howToFind:"JSON:",step1:'ComfyUI"Save (API Format)"',step2:"JSON",step3:": [].inputs.[]",exampleTitle:":",example1Title:"1.  (CLIPTextEncode #6)",example1FieldId:"ID: prompt_positive",example1Label:": ",example1Type:":  (textarea)",example1Path:"JSON: 6.inputs.text",example1Default:": a beautiful landscape",example2Title:"2.  (KSampler #3)",example2FieldId:"ID: seed",example2Label:": ",example2Type:": ",example2Path:"JSON: 3.inputs.seed",example2Default:": 123456",example3Title:"3.  (KSampler #3)",example3FieldId:"ID: steps",example3Label:": ",example3Type:": ",example3Path:"JSON: 3.inputs.steps",example3Default:": 20",example3Min:": 1",example3Max:": 150",example4Title:"4.  (KSampler #3)",example4FieldId:"ID: sampler_name",example4Label:": ",example4Type:": ",example4Path:"JSON: 3.inputs.sampler_name",example4Options:": euler, euler_ancestral, dpm++ 2m, ddim",tipTitle:" :",tipDesc:'JSONJSONJSON{\\"3\\": {\\"inputs\\": {\\"seed\\": 123}}}JSON3.inputs.seed',previewTitle:""},$2e={fieldId:"ID",fieldIdPlaceholder:"prompt_positive",fieldIdHelper:"",label:"",labelPlaceholder:"",labelHelper:"",type:"",typeHelper:"",typeText:" ()",typeTextarea:" ()",typeNumber:"",typeSelect:" ()",jsonPath:"JSON *",jsonPathPlaceholder:"6.inputs.text",jsonPathHelper:"JSON: 6.inputs.text (6text)",defaultValue:"",defaultValuePlaceholder:"a beautiful landscape",defaultValueHelper:"",required:"",minValue:"",minPlaceholder:"1",maxValue:"",maxPlaceholder:"150",selectOptions:" ()",selectOptionsPlaceholder:"euler, dpm++, ddim",selectOptionsHelper:": euler, dpm++ 2m, ddim"},G2e={pageTitle:"",settingsTitle:"",missingFields:": {{fields}}",selectPlaceholder:"",previewTitle:"",generateAll:" ({{count}})",serversListTitle:"ComfyUI",serversListDesc:"",noServers:"ComfyUI",noConnectedServers:"",responseTime:": {{time}}",generateButton:"",generating:"...",generationComplete:"",generationFailed:"",executionTime:"{{time}}",viewImage:""},q2e={save:"",saving:"...",cancel:"",create:"",update:"",delete:"",confirmDelete:""},V2e={title:"",enable:"",count:"",infinite:"-1",countHelp:"1-999  -1",delay:"",delayHelp:"1-300",progress:"{{current}}",progressWithTotal:"{{current}}/{{total}}",stop:""},W2e={subtabs:L2e,page:z2e,card:F2e,form:B2e,alerts:H2e,markedFields:U2e,fieldForm:$2e,generate:G2e,actions:q2e,repeat:V2e},Y2e={title:"",subtitle:"ComfyUI"},K2e={workflows:"",servers:"",novelai:"NovelAI",ariaLabel:""},X2e={subtabs:{generate:"",history:"",helper:""},login:{title:"NovelAI",subtitle:"NovelAI",tabs:{credentials:"/",token:""},username:"",password:"",token:"",tokenPlaceholder:"NovelAI",tokenHint:"NovelAI",loginButton:"",loggingIn:"...",error:"",tokenError:""},generate:{title:"NovelAI",logout:"",prompt:"",negativePrompt:"",resolution:"",sampler:"",steps:"",guidance:"",samples:"",ucPreset:"",generateButton:"",generating:"...",resultTitle:"",download:"",upload:"",metadata:"",tokenExpired:"",subscriptionRequired:"",error:"",uploadSuccess:"",uploadError:"",autoUploadSuccess:"{{count}}",autoUploadPartial:"{{success}}{{fail}}",success:"{{count}}",completed:"",failed:""},repeat:{title:"",enable:"",count:"",infinite:"-1",countHelp:"1-999  -1",delay:"",delayHelp:"1-300",progress:"{{current}}",progressWithTotal:"{{current}}/{{total}}",stop:""}},Q2e={page:Y2e,tabs:K2e,nai:X2e},Z2e="",J2e="{{count}}",eve="",tve="...",nve="...",rve="",ave="",ive="",sve="",ove="",lve={pending:"",processing:"",completed:"",failed:""},cve={comfyui:"ComfyUI",novelai:"NovelAI"},uve={regenerate:"",delete:"",refresh:"",confirmDelete:""},dve={title:"",status:"",service:"",positivePrompt:"",negativePrompt:"",size:"",model:"",sampler:"",steps:"",cfgScale:"CFG Scale",seed:"",error:"",createdAt:"",completedAt:""},fve={title:Z2e,count:J2e,empty:eve,loading:tve,loadingMore:nve,allLoaded:rve,noHistory:ave,noHistoryDescription:ive,deleteConfirm:sve,deleteFailed:ove,status:lve,service:cve,actions:uve,detail:dve},hve={title:"",listTitle:"ComfyUI",addButton:"",noServers:"",noServersDesc:'""ComfyUI'},pve={active:"",inactive:"",priority:": {{priority}}",concurrent:": {{count}}",connectionSuccess:"",connectionFailed:"",testConnection:""},mve={addTitle:"",editTitle:"",serverName:"",endpointUrl:"URL",endpointPlaceholder:"http://127.0.0.1:8188",description:"",priority:"",priorityHelper:"",maxConcurrent:"",activate:"",cancel:"",add:"",update:""},gve={connected:"",disconnected:"",testing:"",error:"",responseTime:": {{time}}"},yve={test:"",edit:"",delete:"",confirmDelete:""},bve={page:hve,card:pve,dialog:mve,status:gve,actions:yve},xve={network:"",timeout:"",unauthorized:"",forbidden:"",notFound:"",serverError:"",badRequest:"",unknown:""},vve={fileTooLarge:"50MB",invalidFileType:"",uploadFailed:"",multipleUploadFailed:"",fileCountLimit:"",processingFailed:"",noFilesSelected:""},Sve={loadFailed:"",deleteFailed:"",multipleDeleteFailed:"{{count}}",downloadFailed:"",notFound:"",metadataExtractionFailed:""},_ve={loadFailed:"",createFailed:"",updateFailed:"",deleteFailed:"",assignFailed:"",removeFailed:"",autoCollectFailed:"",notFound:""},Cve={loadFailed:"",deleteFailed:"",assignFailed:"",synonymFailed:"",notFound:""},wve={failed:"",invalidQuery:"",noResults:""},Eve={required:"",invalid:"",tooShort:"",tooLong:""},Tve={api:xve,upload:vve,image:Sve,group:_ve,prompt:Cve,search:wve,validation:Eve},Ave={field:"",name:"",description:"",file:"",image:"",group:""},Rve={invalid:"",email:"",url:"URL",number:"",integer:""},kve={min:"{{min}}",max:"{{max}}",exact:"{{length}}",between:"{{min}}{{max}}"},Ive={fileSize:"{{max}}",imageSize:"{{width}}{{height}}",fileTooLarge:"{{max}}",fileTooSmall:"{{min}}"},jve={min:"{{min}}",max:"{{max}}",between:"{{min}}{{max}}"},Ove={invalid:"",imageOnly:"",videoOnly:"",imageOrVideo:"",allowedTypes:"{{types}}"},Dve={exists:"",name:"",value:""},Mve={required:Ave,format:Rve,length:kve,size:Ive,range:jve,fileType:Ove,duplicate:Dve},Nve={title:"",noWildcards:"",noWildcardsDesc:""},Pve={all:"",both:""},Lve={add:"",addItem:"",preview:"",confirmDelete:"'{{name}}'?"},zve={items:"{{count}}",itemsCount:"",moreItems:"{{count}}"},Fve={createTitle:"",editTitle:""},Bve={name:"",nameHelper:"++ (: , )",description:" ()",comfyuiItems:"ComfyUI",naiItems:"NovelAI",itemsHelper:"++++",itemPlaceholder:": , ,   , ++++"},Hve={title:"",inputLabel:"",inputPlaceholder:": ++++, ++++",generate:"",results:" (5)",result:" {{number}}"},Uve={nameRequired:"",itemsRequired:"",previewTextRequired:""},$ve={manual:"",autoCollected:" (LORA)"},Gve={title:"LORA",description:"LORA",folderPath:"LORA",folderPathHelper:"ComfyUI lorasLORA",loraWeight:"LORA",loraWeightHelper:" (: 1.0)",duplicateHandling:"",duplicateNumber:" (style, style_2)",duplicateParent:" (anime_style, realistic_style)",scanButton:"LORA",scanning:"...",lastScan:"",noScanYet:"",scanLog:{title:"",timestamp:"",folderPath:"",totalWildcards:"",totalItems:"",details:"",wildcardName:"",itemCount:""},noAutoWildcards:"",noAutoWildcardsDesc:"LORA",autoCollectedBadge:"",errors:{folderPathRequired:"LORA",invalidWeight:" (0.1 ~ 2.0)",scanFailed:": {{error}}"}},qve={page:Nve,filters:Pve,actions:Lve,card:zve,dialog:Fve,form:Bve,preview:Hve,errors:Uve,tabs:$ve,autoCollect:Gve},Vve={save:"",cancel:"",delete:"",edit:"",add:"",upload:"",download:"",search:"",filter:"",reset:"",confirm:"",close:"",back:"",next:"",previous:"",select:"",deselect:"",selectAll:"",deselectAll:"",apply:"",clear:""},Wve={loading:"...",saving:"...",success:"",error:"",noData:"",confirmDelete:"",unsavedChanges:"",processing:"...",uploading:"...",downloading:"...",deleting:"..."},Yve={name:"",description:"",date:"",status:"",type:"",size:"",created:"",updated:"",width:"",height:"",duration:"",resolution:""},Kve={tooltips:{viewDetails:"",download:"",delete:"",select:""},badges:{auto:"",video:""},confirmDelete:{image:"",video:""}},Xve={selectedCount:"{{count}}",selectedCountImages:"{{count}}",tooltips:{download:"",addToGroup:"",delete:"",clearSelection:""},confirmDelete:{mixed:"{{count}}/",images:"{{count}}",videos:"{{count}}",files:"{{count}}"}},Qve={perPage:"",items:"",page:"",of:"/",showing:"{{total}}{{from}}-{{to}}",goToPage:"",rowsPerPage:""},Zve={loading:"",error:"",empty:"",success:"",pending:"",completed:"",failed:""},Jve={view:"",download:"",delete:"",edit:"",create:"",update:"",cancel:"",confirm:"",retry:"",refresh:""},eSe={buttons:Vve,messages:Wve,labels:Yve,imageCard:Kve,bulkActions:Xve,pagination:Qve,states:Zve,actions:Jve},tSe="",nSe="ComfyUI Image Manager",rSe={general:"",tagger:"Tagger",rating:"",similarity:"",prompts:"",advanced:""},aSe={title:"",language:{label:"",description:"",ko:"",en:"English",ja:"","zh-CN":"","zh-TW":""},gallery:{label:"",tooltip:""},canvasCleanup:{label:"Canvas",tooltip:"Canvas"}},iSe={title:"WD Tagger",description:"AI",enabled:"Tagger",autoTagOnUpload:"",model:{label:"",loading:"...",downloaded:""},device:{label:"",auto:{title:" (Auto)",description:"GPUGPUCPU"},cpu:{title:"CPU",description:"CPU"},cuda:{title:"GPU (CUDA)",description:"NVIDIA GPUGPU"}},modelStatus:{title:"",loaded:"",unloaded:"",lastUsed:"",justNow:"",minutesAgo:"{{minutes}}",hoursAgo:"{{hours}}",daysAgo:"{{days}}",none:""},buttons:{load:"",unload:"",refresh:"",download:"",downloading:"...",refreshStatus:"",checkDependencies:"Python",checking:"Python...",save:"",cancel:""},alerts:{modelDownloaded:"<strong>{{model}}</strong>",modelNotDownloaded:"<strong>{{model}}</strong>",modelLoaded:"",modelUnloaded:"",loadFailed:"",unloadFailed:"",saveFailed:"",dependencyCheckFailed:""},threshold:{general:{label:": {{value}}",description:""},character:{label:": {{value}}",description:""}},pythonPath:{label:"Python",helper:"Python: python, python3, C:\\Python39\\python.exe"},memoryManagement:{title:"",description:"",keepModelLoaded:"",autoUnloadMinutes:": {{minutes}}",autoUnloadDescription:"",keepLoadedAlert:"",notKeepLoadedAlert:""},batch:{title:"",description:"",untaggedCount:": {{count}}",progress:": {{current}} / {{total}}",buttons:{tagUnprocessed:"100",tagAll:"100",processing:"..."},alerts:{complete:": {{success}}{{failed}}",failed:"",tagAllFailed:""},confirmDialog:{title:"",message:`
100`,confirm:"",cancel:""}},test:{title:"",description:"",imageId:"ID",placeholder:": 123",button:"",processing:"...",result:":",failed:"",invalidId:"ID"}},sSe={title:"",description:"",weights:{title:"",description:"",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",preview:{title:": general=0.001, sensitive=0.045, questionable=0.735, explicit=0.470",score:": <strong>{{score}}</strong>"},buttons:{save:"",cancel:"",saving:"..."},alerts:{saveSuccess:"",saveFailed:"",loadFailed:""}},tiers:{title:"",description:"",addButton:"",table:{order:"",name:"",scoreRange:"",color:"",actions:"",empty:"",scoreFormat:"{{min}} ~ {{max}}",infinity:""},dialog:{createTitle:"",editTitle:"",tierName:"",minScore:"",maxScore:" = ",order:"",color:" (Hex)",colorPlaceholder:"#2196f3",colorHelper:": #22c55e, #3b82f6, #f59e0b, #ef4444",save:"",cancel:"",saving:"...",requiredFields:""},alerts:{created:"",updated:"",deleted:"",saveFailed:"",deleteFailed:"",loadFailed:"",deleteConfirm:""}},calculator:{title:"",description:"",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",calculate:"",calculating:"...",result:{title:"",score:": <strong>{{score}}</strong>",breakdown:":",generalScore:"General: {{score}}",sensitiveScore:"Sensitive: {{score}}",questionableScore:"Questionable: {{score}}",explicitScore:"Explicit: {{score}}"},failed:""}},oSe={title:"",description:"",systemStatus:{title:"",description:"",totalImages:": {{count}}",withHash:": {{count}}",withoutHash:": {{count}}",completion:": {{percent}}%",autoGenerateHash:"",rebuildButton:"{{count}}",rebuildingButton:"...",refreshButton:"",rebuildProgress:"... {{processed}}/{{total}}{{percent}}%",allComplete:"",rebuildComplete:": {{processed}}",rebuildCompleteWithErrors:": {{success}}{{failed}}",rebuildFailed:"",noImagesToProcess:"",autoGenerateUpdateFailed:""},test:{title:"",description:"",imageId:"ID",placeholder:": 123",searchType:"",types:{duplicates:"",similar:"",color:""},searchButton:"",searching:"...",queryImage:"",results:": {{count}}",noResults:"",searchFailed:"",imageDetails:{id:"ID:",filename:":",size:":",aiTool:"AI:"},matchTypes:{exact:"",nearDuplicate:"",similar:"",colorSimilar:""},similarity:"{{percent}}%",colorSimilarity:": {{percent}}%"},duplicateScan:{title:"",description:"",scanButton:"",scanning:"...",foundGroups:": {{count}}",groupLabel:"{{id}}  {{count}}",similarityLabel:"{{percent}}%",moreImages:"+{{count}}",noResults:"",id:"ID: {{id}}"},thresholds:{title:"",description:"",duplicate:{label:": {{value}}",description:"0=5=10=",strict:"0",recommended:"5",lenient:"10"},similar:{label:": {{value}}",description:"",strict:"5",recommended:"15",lenient:"25"},color:{label:": {{value}}%",description:"",min:"70%",recommended:"85%",max:"100%"},searchLimit:{label:"",options:{10:"10",20:"20",50:"50",100:"100"}},localStorageNote:""}},lSe={saveSuccess:"",saveFailed:"",loadFailed:""},cSe={title:tSe,subtitle:nSe,tabs:rSe,general:aSe,tagger:iSe,rating:sSe,similarity:oSe,messages:lSe},uSe={title:"ComfyUI Image Manager",menu:{home:"",gallery:"",imageGroups:"",search:"",upload:"",imageGeneration:"",settings:"",help:""},tooltip:{home:"",gallery:"",imageGroups:"",search:"",upload:"",imageGeneration:"AI",settings:"",help:""},theme:{light:"",dark:"",toggle:""},mobileMenu:{open:"",close:""}},dSe={copyright:" 2024 ComfyUI Image Manager. ",version:""},fSe={title:"",sections:{gettingStarted:"",imageManagement:"",autoCollection:"",promptSystem:"",settings:"",shortcuts:""}},hSe={header:uSe,footer:dSe,help:fSe},pSe={title:"",description:""},mSe={aiTool:"AI ",sortBy:"",sortOrder:"",all:"",clearFilters:""},gSe={uploadDate:"",filename:"",fileSize:"",width:"",height:"",ascending:"",descending:""},ySe={refresh:"",selectAll:"",deselectAll:""},bSe={loading:"...",noImages:"",error:""},xSe={aiToolLabel:"AI : {{tool}}"},vSe={page:pSe,filters:mSe,sorting:gSe,actions:ySe,status:bSe,chips:xSe},SSe={title:"",notFound:"",errorLoading:"",noIdProvided:" ID"},_Se={download:"",share:"",back:"",goToDetail:"",delete:"",deleteConfirm:"",deleteSuccess:"",deleteError:""},CSe={fileInfo:"",imageInfo:"",videoInfo:"",aiInfo:"",promptInfo:"",groupInfo:"",fullMetadata:""},wSe={originalFilename:"",filename:"",size:"",fileSize:"",mimeType:"MIME ",uploadDate:""},ESe={dimensions:"",dimensionsValue:"{{width}}  {{height}}"},TSe={duration:"",durationValue:"{{minutes}} {{seconds}}",fps:"",fpsValue:"{{fps}} fps",videoCodec:"",audioCodec:"",bitrate:"",bitrateValue:"{{bitrate}} Mbps"},ASe={tool:"AI ",toolShort:"",model:"",lora:"LoRA",steps:"",cfgScale:"CFG Scale",cfgShort:"CFG",sampler:"",scheduler:"",seed:"",denoiseStrength:"",generationTime:"",generationTimeValue:"{{time}}",batchSize:"",batchIndex:""},RSe={autoType:"",manualType:"",groupLabel:"{{name}} ({{type}})"},kSe={controls:{zoomIn:"",zoomOut:"",rotateLeft:"",rotateRight:"",flipHorizontal:"",flipVertical:"",reset:"",info:"",close:""},navigation:{previous:" ()",next:" ()",random:" (Space)",currentPosition:"{{current}} / {{total}}"}},ISe={page:SSe,actions:_Se,sections:CSe,fileInfo:wSe,imageInfo:ESe,videoInfo:TSe,aiInfo:ASe,groupInfo:RSe,viewer:kSe},jSe={title:"",description:"AI"},OSe={dragActive:"",dragInactive:"",supportedFormats:"JPGPNGGIFBMPWebPTIFF | MP4WebMMOVAVIMKV500MB",imageSupport:"",videoSupport:"",multipleSelection:"",divider:""},DSe={selectFiles:"",selectFolder:""},MSe={title:"",fileCount:"{{completed}}/{{total}}",summary:"{{total}} - {{success}}{{failed}}"},NSe={upload:"",metadata:"",thumbnail:"",autoCollect:"",autoTag:""},PSe={waiting:"",processing:"",complete:"",error:""},LSe={uploadComplete:"",uploadSuccess:"",uploadFailed:"",uploadError:"",multipleSuccess:"{{count}}",allFailed:"",partialSuccess:"{{success}}{{failed}}"},zSe={page:jSe,dropzone:OSe,buttons:DSe,progress:MSe,stages:NSe,status:PSe,messages:LSe},FSe={title:"",description:"",emptyTitle:"",emptyDescription:""},BSe={imageCount:"{{count}}",autoCollect:"",stats:"{{auto}} | {{manual}}"},HSe={edit:"",delete:"",runAutoCollection:""},USe={basicInfo:"",autoCollect:""},$Se={createTitle:"",editTitle:"",basicInfo:"",groupName:"",description:"",groupColor:"",autoCollectEnable:"",autoCollectDescription:"",orConditionInfo:"OR",orConditionExample:"'anime'+ ",conditionsTitle:"",addCondition:"",conditionType:"",conditionValue:"",emptyConditions:"",buttonCreate:"",buttonUpdate:"",buttonCancel:""},GSe={conditionNumber:"{{number}}",removeCondition:"",addFirstCondition:"",autoCollectDisabled:"",groups:{basic:"",prompt:"",autotag:"Auto Tag",duplicate:""},types:{aiTool:"AI",modelName:"",promptContains:"",promptRegex:"",negativePromptContains:"",negativePromptRegex:"",autoTagExists:"Auto Tag ",autoTagRating:"Auto Tag: ",autoTagRatingScore:"Auto Tag: ",autoTagGeneral:"Auto Tag: ",autoTagCharacter:"Auto Tag: ",autoTagHasCharacter:"Auto Tag: ",autoTagModel:"Auto Tag: ",duplicateExact:"",duplicateNear:"",duplicateSimilar:"",duplicateCustom:""},values:{exists:"",notExists:""},ratings:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"},fields:{value:"",ratingType:"",minScore:"",maxScore:"",tagName:"",characterName:"",caseSensitive:"",exactMatch:"",exactMatchHelp:"'asd''aasd''asdf'",weightedScore:"",maxWeightInfo:"200",confidenceRange:"0.01.0{{min}}{{max}}",confidenceInfo:" ",hammingThreshold:"",hammingThresholdHelp:"0-64",hammingInfo:" ",duplicateNote:" perceptual_hash"},duplicateInfo:{duplicate_exact:"  = 0",duplicate_near:"   5",duplicate_similar:"   15"},placeholders:{regex:"",modelName:"wd-v1-4-moat-tagger-v2",text:"",tagName:"",characterName:""}},qSe={nameRequired:"",conditionRequired:"",valueRequired:"{{index}}",ratingTypeRequired:"{{index}}",ratingScoreRequired:"{{index}}",minScoreInvalid:"{{index}}0",maxScoreInvalid:"{{index}}0",scoreRangeInvalid:"{{index}}",confidenceScoreRange:"{{index}}0.01.0",confidenceMaxScoreRange:"{{index}}0.01.0",confidenceMinMaxInvalid:"{{index}}",hammingThresholdRequired:"{{index}}",hammingThresholdRange:"{{index}}064"},VSe={loadFailed:"",imageLoadFailed:"",deleteSuccess:"",deleteFailed:"",autoCollectSuccess:"{{added}}{{removed}}",autoCollectFailed:"",createSuccess:"",createFailed:"",updateSuccess:"",updateFailed:"",removeWarning:"",removeSuccess:"{{count}}",removePartialSuccess:"{{removed}}{{failed}}",removeError:"",assignSuccess:"{{added}}{{converted}}{{skipped}}",assignFailed:"",assignError:"",emptyGroup:""},WSe={title:"{{name}}{{count}}",selectedCount:"{{count}}",buttonRemove:"",buttonAssign:"",infoMixedSelection:"",warningAutoOnly:"",confirmRemoveTitle:"",confirmRemoveMessage:"{{count}}",confirmRemoveNote:""},YSe={title:"",description:"{{count}}",currentGroup:"",emptyGroups:"",loadError:"",loadingError:"",buttonAssign:"",buttonCancel:""},KSe={page:FSe,groupCard:BSe,menu:HSe,tabs:USe,modal:$Se,conditions:GSe,validation:qSe,messages:VSe,imageModal:WSe,assignModal:YSe},XSe="",QSe="AI",ZSe={placeholder:"...",button:"",clear:"",execute:""},JSe={title:"",searching:"...",found:"{{count}}",noResults:"",noResultsHint:"",initialMessage:"",initialHint:"AI",reset:"",refresh:""},e3e={basic:{aiTool:{label:"AI",all:""},modelName:{label:"",placeholder:": sd_xl_base_1.0"},startDate:{label:""},endDate:{label:""}},quickDate:{today:"",todayTooltip:"","7days":"7","7daysTooltip":"7","30days":"30","30daysTooltip":"30","90days":"90","90daysTooltip":"90"},advanced:{title:"",active:"",negativePrompt:{label:"",placeholder:" (: ugly, blurry)"}},autoTag:{title:"",subtitle:"(WD v3 Tagger)",active:"",tabs:{rating:"",character:"",generalTags:""},rating:{typeMode:"",scoreMode:"",typeDescription:"",scoreDescription:"",type:{label:"",none:"",general:"",sensitive:"",questionable:"",explicit:""},confidenceRange:"",scoreRange:""},character:{description:"",existence:{label:"",all:"",true:"",false:""},name:{label:"",placeholder:": hatsune_miku"},confidenceRange:""},generalTags:{description:"",tagName:{label:"",placeholder:": 1girl, solo, landscape"},confidence:": {{min}} ~ {{max}}",addedTags:" ({{count}})"}}},t3e={title:""},n3e={title:XSe,description:QSe,searchInput:ZSe,results:JSe,filters:e3e,searchHistory:t3e},r3e="",a3e="AI",i3e={positive:"",negative:""},s3e={search:{placeholder:"{{type}}..."},filters:{groupFilter:{label:"",all:"",unassigned:""}},table:{headers:{prompt:"",usageCount:"",assignedGroup:"",actions:""},empty:"",synonyms:{more:"+{{count}}"}},actions:{assignToGroup:"",delete:"",cannotDelete:"",groupManagement:""},statistics:{unclassified:"",unknown:""},pagination:{rowsPerPage:":",displayedRows:"{{from}}-{{to}} / {{count}}"},messages:{loadFailed:"",deleteSuccess:"",deleteFailed:"",assignSuccess:"",assignFailed:""}},o3e={title:"",selectGroup:{label:"",unassigned:""},actions:{cancel:"",assign:""}},l3e={title:"{{type}}",dragHint:"",editForm:{titleAdd:"",titleEdit:"",groupName:{label:"",required:""},displayOrder:{label:""},visibility:{label:"",hidden:""},actions:{save:"",cancel:""}},groupList:{title:" ({{count}})",add:"",empty:"",promptCount:"{{count}}",displayOrder:": {{order}}"},actions:{toggleVisibility:"",edit:"",delete:"",deleteConfirm:"",close:""},messages:{loadFailed:"",createSuccess:"",createFailed:"",updateSuccess:"",updateFailed:"",deleteSuccess:"",deleteFailed:"",visibilityFailed:"",reorderSuccess:"",reorderFailed:""}},c3e={tabs:{positive:"",negative:"",auto:""},labels:{prompt:"",negativePrompt:""},noPrompt:"",loading:"...",loadFailed:""},u3e={noTags:"",generateButton:"",generating:"...",generationError:"",sections:{rating:"",characters:"",tagList:"",generalTags:" ({{count}})",modelInfo:""},modelInfo:{model:"",generalThreshold:"",characterThreshold:"",taggedAt:""}},d3e={title:r3e,description:a3e,tabs:i3e,promptList:s3e,assignDialog:o3e,groupManagement:l3e,promptDisplay:c3e,autoTagDisplay:u3e},f3e={generate:"",history:""},h3e={title:"",listTitle:"",addButton:"",editTitle:"",createTitle:"",noWorkflows:"",noWorkflowsDesc:"ComfyUI"},p3e={active:"",inactive:"",fieldsCount:"{{count}}",createdDate:": {{date}}",generateImage:"",notFound:""},m3e={basicInfo:"",workflowName:"",description:"",apiEndpoint:"API",activate:"",workflowJson:"JSON",uploadFile:"",jsonPlaceholder:'{"prompt": {...}}',jsonHelper:"ComfyUIAPI JSON",jsonCharCount:"{{count}}",invalidJson:"JSON",nameRequired:"",jsonRequired:"JSON",validateJson:"JSON"},g3e={importantNote:":",apiFormatWarning:"ComfyUISave (API Format)JSONJSON",created:"",updated:"",inactiveWarning:"",noConfigurableFields:""},y3e={sectionTitle:"",guideTitle:"",addField:"",noFields:"",whatIs:"",whatIsDesc:"CFG",howToFind:"JSON:",step1:"ComfyUISave (API Format)",step2:"JSON",step3:": [].inputs.[]",exampleTitle:":",example1Title:"1.  (CLIPTextEncode #6)",example1FieldId:"ID: prompt_positive",example1Label:": ",example1Type:":  (textarea)",example1Path:"JSON: 6.inputs.text",example1Default:": a beautiful landscape",example2Title:"2.  (KSampler #3)",example2FieldId:"ID: seed",example2Label:": ",example2Type:": ",example2Path:"JSON: 3.inputs.seed",example2Default:": 123456",example3Title:"3.  (KSampler #3)",example3FieldId:"ID: steps",example3Label:": ",example3Type:": ",example3Path:"JSON: 3.inputs.steps",example3Default:": 20",example3Min:": 1",example3Max:": 150",example4Title:"4.  (KSampler #3)",example4FieldId:"ID: sampler_name",example4Label:": ",example4Type:": ",example4Path:"JSON: 3.inputs.sampler_name",example4Options:": euler, euler_ancestral, dpm++ 2m, ddim",tipTitle:" :",tipDesc:'JSONJSONJSON{"3": {"inputs": {"seed": 123}}}JSON3.inputs.seed',previewTitle:""},b3e={fieldId:"ID",fieldIdPlaceholder:"prompt_positive",fieldIdHelper:"",label:"",labelPlaceholder:"",labelHelper:"",type:"",typeHelper:"",typeText:" ()",typeTextarea:" ()",typeNumber:"",typeSelect:" ()",jsonPath:"JSON *",jsonPathPlaceholder:"6.inputs.text",jsonPathHelper:"JSON: 6.inputs.text (6text)",defaultValue:"",defaultValuePlaceholder:"a beautiful landscape",defaultValueHelper:"",required:"",minValue:"",minPlaceholder:"1",maxValue:"",maxPlaceholder:"150",selectOptions:" ()",selectOptionsPlaceholder:"euler, dpm++, ddim",selectOptionsHelper:": euler, dpm++ 2m, ddim"},x3e={pageTitle:"",settingsTitle:"",missingFields:": {{fields}}",selectPlaceholder:"",previewTitle:"",generateAll:" ({{count}})",serversListTitle:"ComfyUI",serversListDesc:"",noServers:"ComfyUI",noConnectedServers:"",responseTime:": {{time}}",generateButton:"",generating:"...",generationComplete:"",generationFailed:"",executionTime:"{{time}}",viewImage:""},v3e={save:"",saving:"...",cancel:"",create:"",update:"",delete:"",confirmDelete:""},S3e={title:"",enable:"",count:"",infinite:"-1",countHelp:"1-999  -1",delay:"",delayHelp:"1-300",progress:"{{current}}",progressWithTotal:"{{current}}/{{total}}",stop:""},_3e={subtabs:f3e,page:h3e,card:p3e,form:m3e,alerts:g3e,markedFields:y3e,fieldForm:b3e,generate:x3e,actions:v3e,repeat:S3e},C3e={title:"",subtitle:"ComfyUI"},w3e={workflows:"",servers:"",novelai:"NovelAI",ariaLabel:""},E3e={subtabs:{generate:"",history:"",helper:""},login:{title:"NovelAI",subtitle:"NovelAI",tabs:{credentials:"/",token:""},username:"",password:"",token:"",tokenPlaceholder:"NovelAI",tokenHint:"NovelAI",loginButton:"",loggingIn:"...",error:"",tokenError:""},generate:{title:"NovelAI",logout:"",prompt:"",negativePrompt:"",resolution:"",sampler:"",steps:"",guidance:"",samples:"",ucPreset:"",generateButton:"",generating:"...",resultTitle:"",download:"",upload:"",metadata:"",tokenExpired:"",subscriptionRequired:"",error:"",uploadSuccess:"",uploadError:"",autoUploadSuccess:"{{count}}",autoUploadPartial:"{{success}}{{fail}}",success:"{{count}}",completed:"",failed:""},repeat:{title:"",enable:"",count:"",infinite:"-1",countHelp:"1-999  -1",delay:"",delayHelp:"1-300",progress:"{{current}}",progressWithTotal:"{{current}}/{{total}}",stop:""}},T3e={page:C3e,tabs:w3e,nai:E3e},A3e="",R3e="{{count}}",k3e="",I3e="...",j3e="...",O3e="",D3e="",M3e="",N3e="",P3e="",L3e={pending:"",processing:"",completed:"",failed:""},z3e={comfyui:"ComfyUI",novelai:"NovelAI"},F3e={regenerate:"",delete:"",refresh:"",confirmDelete:""},B3e={title:"",status:"",service:"",positivePrompt:"",negativePrompt:"",size:"",model:"",sampler:"",steps:"",cfgScale:"CFG Scale",seed:"",error:"",createdAt:"",completedAt:""},H3e={title:A3e,count:R3e,empty:k3e,loading:I3e,loadingMore:j3e,allLoaded:O3e,noHistory:D3e,noHistoryDescription:M3e,deleteConfirm:N3e,deleteFailed:P3e,status:L3e,service:z3e,actions:F3e,detail:B3e},U3e={title:"",listTitle:"ComfyUI",addButton:"",noServers:"",noServersDesc:"ComfyUI"},$3e={active:"",inactive:"",priority:": {{priority}}",concurrent:": {{count}}",connectionSuccess:"",connectionFailed:"",testConnection:""},G3e={addTitle:"",editTitle:"",serverName:"",endpointUrl:"URL",endpointPlaceholder:"http://127.0.0.1:8188",description:"",priority:"",priorityHelper:"",maxConcurrent:"",activate:"",cancel:"",add:"",update:""},q3e={connected:"",disconnected:"",testing:"",error:"",responseTime:": {{time}}"},V3e={test:"",edit:"",delete:"",confirmDelete:""},W3e={page:U3e,card:$3e,dialog:G3e,status:q3e,actions:V3e},Y3e={network:"",timeout:"",unauthorized:"",forbidden:"",notFound:"",serverError:"",badRequest:"",unknown:""},K3e={fileTooLarge:"50MB",invalidFileType:"",uploadFailed:"",multipleUploadFailed:"",fileCountLimit:"",processingFailed:"",noFilesSelected:""},X3e={loadFailed:"",deleteFailed:"",multipleDeleteFailed:"{{count}}",downloadFailed:"",notFound:"",metadataExtractionFailed:""},Q3e={loadFailed:"",createFailed:"",updateFailed:"",deleteFailed:"",assignFailed:"",removeFailed:"",autoCollectFailed:"",notFound:""},Z3e={loadFailed:"",deleteFailed:"",assignFailed:"",synonymFailed:"",notFound:""},J3e={failed:"",invalidQuery:"",noResults:""},e_e={required:"",invalid:"",tooShort:"",tooLong:""},t_e={api:Y3e,upload:K3e,image:X3e,group:Q3e,prompt:Z3e,search:J3e,validation:e_e},n_e={field:"",name:"",description:"",file:"",image:"",group:""},r_e={invalid:"",email:"",url:"URL",number:"",integer:""},a_e={min:"{{min}}",max:"{{max}}",exact:"{{length}}",between:"{{min}}{{max}}"},i_e={fileSize:"{{max}}",imageSize:"{{width}}{{height}}",fileTooLarge:"{{max}}",fileTooSmall:"{{min}}"},s_e={min:"{{min}}",max:"{{max}}",between:"{{min}}{{max}}"},o_e={invalid:"",imageOnly:"",videoOnly:"",imageOrVideo:"",allowedTypes:"{{types}}"},l_e={exists:"",name:"",value:""},c_e={required:n_e,format:r_e,length:a_e,size:i_e,range:s_e,fileType:o_e,duplicate:l_e},u_e={title:"",noWildcards:"",noWildcardsDesc:""},d_e={all:"",both:""},f_e={add:"",addItem:"",preview:"",confirmDelete:"'{{name}}'?"},h_e={items:"{{count}}",itemsCount:"",moreItems:"{{count}}"},p_e={createTitle:"",editTitle:""},m_e={name:"",nameHelper:"++ (: , )",description:" ()",comfyuiItems:"ComfyUI",naiItems:"NovelAI",itemsHelper:"++++",itemPlaceholder:": , ,   , ++++"},g_e={title:"",inputLabel:"",inputPlaceholder:": ++++, ++++",generate:"",results:" (5)",result:" {{number}}"},y_e={nameRequired:"",itemsRequired:"",previewTextRequired:""},b_e={manual:"",autoCollected:" (LORA)"},x_e={title:"LORA",description:"LORA",folderPath:"LORA",folderPathHelper:"ComfyUI lorasLORA",loraWeight:"LORA",loraWeightHelper:" (: 1.0)",duplicateHandling:"",duplicateNumber:" (style, style_2)",duplicateParent:" (anime_style, realistic_style)",scanButton:"LORA",scanning:"...",lastScan:"",noScanYet:"",scanLog:{title:"",timestamp:"",folderPath:"",totalWildcards:"",totalItems:"",details:"",wildcardName:"",itemCount:""},noAutoWildcards:"",noAutoWildcardsDesc:"LORA",autoCollectedBadge:"",errors:{folderPathRequired:"LORA",invalidWeight:" (0.1 ~ 2.0)",scanFailed:": {{error}}"}},v_e={page:u_e,filters:d_e,actions:f_e,card:h_e,dialog:p_e,form:m_e,preview:g_e,errors:y_e,tabs:b_e,autoCollect:x_e},S_e={ko:{common:she,settings:ghe,navigation:vhe,gallery:Ihe,imageDetail:Bhe,upload:Khe,imageGroups:cpe,search:ype,promptManagement:Ape,workflows:zpe,imageGeneration:Upe,generationHistory:fme,servers:bme,errors:Tme,validation:Mme,wildcards:Yme},en:{common:rge,settings:hge,navigation:yge,gallery:wge,imageDetail:Mge,upload:$ge,imageGroups:r0e,search:d0e,promptManagement:v0e,workflows:j0e,imageGeneration:N0e,generationHistory:i1e,servers:d1e,errors:x1e,validation:A1e,wildcards:H1e},ja:{common:X1e,settings:iye,navigation:cye,gallery:gye,imageDetail:Tye,upload:Mye,imageGroups:qye,search:Zye,promptManagement:obe,workflows:bbe,imageGeneration:_be,generationHistory:Lbe,servers:$be,errors:Qbe,validation:ixe,wildcards:gxe},"zh-CN":{common:Exe,settings:Mxe,navigation:zxe,gallery:qxe,imageDetail:t2e,upload:c2e,imageGroups:v2e,search:A2e,promptManagement:P2e,workflows:W2e,imageGeneration:Q2e,generationHistory:fve,servers:bve,errors:Tve,validation:Mve,wildcards:qve},"zh-TW":{common:eSe,settings:cSe,navigation:hSe,gallery:vSe,imageDetail:ISe,upload:zSe,imageGroups:KSe,search:n3e,promptManagement:d3e,workflows:_3e,imageGeneration:T3e,generationHistory:H3e,servers:W3e,errors:t_e,validation:c_e,wildcards:v_e}};Vs.use(rX).use(Ofe).init({resources:S_e,fallbackLng:"ko",defaultNS:"common",ns:["common","settings","navigation","gallery","imageDetail","upload","imageGroups","search","promptManagement","workflows","imageGeneration","generationHistory","servers","errors","validation","wildcards"],detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"},interpolation:{escapeValue:!1},react:{useSuspense:!1}});function __e(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function C_e(t){return parseFloat(t)}function w_e({theme:t,...e}){const n=vu in t?t[vu]:void 0;return c.jsx(wK,{...e,themeId:n?vu:void 0,theme:n||t})}const y_={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:E_e}=tue({themeId:vu,theme:()=>x5({cssVariables:!0}),colorSchemeStorageKey:y_.colorSchemeStorageKey,modeStorageKey:y_.modeStorageKey,defaultColorScheme:{light:y_.defaultLightColorScheme,dark:y_.defaultDarkColorScheme},resolveTheme:t=>{const e={...t,typography:kK(t.palette,t.typography)};return e.unstable_sx=function(r){return Ap({sx:r,theme:this})},e}}),T_e=E_e;function A_e({theme:t,...e}){const n=A.useMemo(()=>{if(typeof t=="function")return t;const r=vu in t?t[vu]:t;return"colorSchemes"in r?null:"vars"in r?t:{...t,vars:null}},[t]);return n?c.jsx(w_e,{theme:n,...e}):c.jsx(T_e,{theme:t,...e})}function Nk(...t){return t.reduce((e,n)=>n==null?e:function(...a){e.apply(this,a),n.apply(this,a)},()=>{})}const At=Wce;function R_e(t){return Mt("MuiSvgIcon",t)}Lt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const k_e=t=>{const{color:e,fontSize:n,classes:r}=t,a={root:["root",e!=="inherit"&&`color${Ue(e)}`,`fontSize${Ue(n)}`]};return Nt(a,R_e,r)},I_e=$e("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ue(n.color)}`],e[`fontSize${Ue(n.fontSize)}`]]}})(At(({theme:t})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(t.vars??t).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),Pk=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiSvgIcon"}),{children:a,className:i,color:s="inherit",component:o="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:h,viewBox:m="0 0 24 24",...y}=r,x=A.isValidElement(a)&&a.type==="svg",v={...r,color:s,component:o,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:m,hasSvgAsChild:x},_={};d||(_.viewBox=m);const C=k_e(v);return c.jsxs(I_e,{as:o,className:ut(C.root,i),focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n,..._,...y,...x&&a.props,ownerState:v,children:[x?a.props.children:a,h?c.jsx("title",{children:h}):null]})});Pk.muiName="SvgIcon";function mt(t,e){function n(r,a){return c.jsx(Pk,{"data-testid":void 0,ref:a,...r,children:t})}return n.muiName=Pk.muiName,A.memo(A.forwardRef(n))}function Qv(t,e=166){let n;function r(...a){const i=()=>{t.apply(this,a)};clearTimeout(n),n=setTimeout(i,e)}return r.clear=()=>{clearTimeout(n)},r}function di(t){return t&&t.ownerDocument||document}function Ml(t){return di(t).defaultView||window}function FP(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function kp(t){const{controlled:e,default:n,name:r,state:a="value"}=t,{current:i}=A.useRef(e!==void 0),[s,o]=A.useState(n),l=i?e:s,u=A.useCallback(d=>{i||o(d)},[]);return[l,u]}function rs(t){const e=A.useRef(t);return qs(()=>{e.current=t}),A.useRef((...n)=>(0,e.current)(...n)).current}function aa(...t){const e=A.useRef(void 0),n=A.useCallback(r=>{const a=t.map(i=>{if(i==null)return null;if(typeof i=="function"){const s=i,o=s(r);return typeof o=="function"?o:()=>{s(null)}}return i.current=r,()=>{i.current=null}});return()=>{a.forEach(i=>i?.())}},t);return A.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function j_e(t,e){const n=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&n>=65&&n<=90&&typeof e=="function"}function fO(t,e){if(!t)return e;function n(s,o){const l={};return Object.keys(o).forEach(u=>{j_e(u,o[u])&&typeof s[u]=="function"&&(l[u]=(...d)=>{s[u](...d),o[u](...d)})}),l}if(typeof t=="function"||typeof e=="function")return s=>{const o=typeof e=="function"?e(s):e,l=typeof t=="function"?t({...s,...o}):t,u=ut(s?.className,o?.className,l?.className),d=n(l,o);return{...o,...l,...d,...!!u&&{className:u},...o?.style&&l?.style&&{style:{...o.style,...l.style}},...o?.sx&&l?.sx&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(l.sx)?l.sx:[l.sx]]}}};const r=e,a=n(t,r),i=ut(r?.className,t?.className);return{...e,...t,...a,...!!i&&{className:i},...r?.style&&t?.style&&{style:{...r.style,...t.style}},...r?.sx&&t?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function aX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Lk(t,e){return Lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Lk(t,e)}function iX(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Lk(t,e)}const BP={disabled:!1},sC=je.createContext(null);var O_e=function(e){return e.scrollTop},a2="unmounted",Fm="exited",Bm="entering",R1="entered",zk="exiting",Bc=(function(t){iX(e,t);function e(r,a){var i;i=t.call(this,r,a)||this;var s=a,o=s&&!s.isMounting?r.enter:r.appear,l;return i.appearStatus=null,r.in?o?(l=Fm,i.appearStatus=Bm):l=R1:r.unmountOnExit||r.mountOnEnter?l=a2:l=Fm,i.state={status:l},i.nextCallback=null,i}e.getDerivedStateFromProps=function(a,i){var s=a.in;return s&&i.status===a2?{status:Fm}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(a){var i=null;if(a!==this.props){var s=this.state.status;this.props.in?s!==Bm&&s!==R1&&(i=Bm):(s===Bm||s===R1)&&(i=zk)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var a=this.props.timeout,i,s,o;return i=s=o=a,a!=null&&typeof a!="number"&&(i=a.exit,s=a.enter,o=a.appear!==void 0?a.appear:s),{exit:i,enter:s,appear:o}},n.updateStatus=function(a,i){if(a===void 0&&(a=!1),i!==null)if(this.cancelNextCallback(),i===Bm){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:f_.findDOMNode(this);s&&O_e(s)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Fm&&this.setState({status:a2})},n.performEnter=function(a){var i=this,s=this.props.enter,o=this.context?this.context.isMounting:a,l=this.props.nodeRef?[o]:[f_.findDOMNode(this),o],u=l[0],d=l[1],h=this.getTimeouts(),m=o?h.appear:h.enter;if(!a&&!s||BP.disabled){this.safeSetState({status:R1},function(){i.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:Bm},function(){i.props.onEntering(u,d),i.onTransitionEnd(m,function(){i.safeSetState({status:R1},function(){i.props.onEntered(u,d)})})})},n.performExit=function(){var a=this,i=this.props.exit,s=this.getTimeouts(),o=this.props.nodeRef?void 0:f_.findDOMNode(this);if(!i||BP.disabled){this.safeSetState({status:Fm},function(){a.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:zk},function(){a.props.onExiting(o),a.onTransitionEnd(s.exit,function(){a.safeSetState({status:Fm},function(){a.props.onExited(o)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(a,i){i=this.setNextCallback(i),this.setState(a,i)},n.setNextCallback=function(a){var i=this,s=!0;return this.nextCallback=function(o){s&&(s=!1,i.nextCallback=null,a(o))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(a,i){this.setNextCallback(i);var s=this.props.nodeRef?this.props.nodeRef.current:f_.findDOMNode(this),o=a==null&&!this.props.addEndListener;if(!s||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],d=l[1];this.props.addEndListener(u,d)}a!=null&&setTimeout(this.nextCallback,a)},n.render=function(){var a=this.state.status;if(a===a2)return null;var i=this.props,s=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var o=aX(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return je.createElement(sC.Provider,{value:null},typeof s=="function"?s(a,o):je.cloneElement(je.Children.only(s),o))},e})(je.Component);Bc.contextType=sC;Bc.propTypes={};function c1(){}Bc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:c1,onEntering:c1,onEntered:c1,onExit:c1,onExiting:c1,onExited:c1};Bc.UNMOUNTED=a2;Bc.EXITED=Fm;Bc.ENTERING=Bm;Bc.ENTERED=R1;Bc.EXITING=zk;function D_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hO(t,e){var n=function(i){return e&&A.isValidElement(i)?e(i):i},r=Object.create(null);return t&&A.Children.map(t,function(a){return a}).forEach(function(a){r[a.key]=n(a)}),r}function M_e(t,e){t=t||{},e=e||{};function n(d){return d in e?e[d]:t[d]}var r=Object.create(null),a=[];for(var i in t)i in e?a.length&&(r[i]=a,a=[]):a.push(i);var s,o={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var u=r[l][s];o[r[l][s]]=n(u)}o[l]=n(l)}for(s=0;s<a.length;s++)o[a[s]]=n(a[s]);return o}function Qm(t,e,n){return n[e]!=null?n[e]:t.props[e]}function N_e(t,e){return hO(t.children,function(n){return A.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Qm(n,"appear",t),enter:Qm(n,"enter",t),exit:Qm(n,"exit",t)})})}function P_e(t,e,n){var r=hO(t.children),a=M_e(e,r);return Object.keys(a).forEach(function(i){var s=a[i];if(A.isValidElement(s)){var o=i in e,l=i in r,u=e[i],d=A.isValidElement(u)&&!u.props.in;l&&(!o||d)?a[i]=A.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Qm(s,"exit",t),enter:Qm(s,"enter",t)}):!l&&o&&!d?a[i]=A.cloneElement(s,{in:!1}):l&&o&&A.isValidElement(u)&&(a[i]=A.cloneElement(s,{onExited:n.bind(null,s),in:u.props.in,exit:Qm(s,"exit",t),enter:Qm(s,"enter",t)}))}}),a}var L_e=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},z_e={component:"div",childFactory:function(e){return e}},pO=(function(t){iX(e,t);function e(r,a){var i;i=t.call(this,r,a)||this;var s=i.handleExited.bind(D_e(i));return i.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},i}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(a,i){var s=i.children,o=i.handleExited,l=i.firstRender;return{children:l?N_e(a,o):P_e(a,s,o),firstRender:!1}},n.handleExited=function(a,i){var s=hO(this.props.children);a.key in s||(a.props.onExited&&a.props.onExited(i),this.mounted&&this.setState(function(o){var l=Q4({},o.children);return delete l[a.key],{children:l}}))},n.render=function(){var a=this.props,i=a.component,s=a.childFactory,o=aX(a,["component","childFactory"]),l=this.state.contextValue,u=L_e(this.state.children).map(s);return delete o.appear,delete o.enter,delete o.exit,i===null?je.createElement(sC.Provider,{value:l},u):je.createElement(sC.Provider,{value:l},je.createElement(i,o,u))},e})(je.Component);pO.propTypes={};pO.defaultProps=z_e;const HP={};function sX(t,e){const n=A.useRef(HP);return n.current===HP&&(n.current=t(e)),n}const F_e=[];function B_e(t){A.useEffect(t,F_e)}class _5{static create(){return new _5}currentId=null;start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function cp(){const t=sX(_5.create).current;return B_e(t.disposeEffect),t}const mO=t=>t.scrollTop;function Ip(t,e){const{timeout:n,easing:r,style:a={}}=t;return{duration:a.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:a.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:a.transitionDelay}}function H_e(t){return Mt("MuiCollapse",t)}Lt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const U_e=t=>{const{orientation:e,classes:n}=t,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return Nt(r,H_e,n)},$_e=$e("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(At(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),G_e=$e("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),q_e=$e("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),jp=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiCollapse"}),{addEndListener:a,children:i,className:s,collapsedSize:o="0px",component:l,easing:u,in:d,onEnter:h,onEntered:m,onEntering:y,onExit:x,onExited:v,onExiting:_,orientation:C="vertical",style:w,timeout:T=IK.standard,TransitionComponent:E=Bc,...I}=r,j={...r,orientation:C,collapsedSize:o},O=U_e(j),L=os(),N=cp(),M=A.useRef(null),H=A.useRef(),P=typeof o=="number"?`${o}px`:o,$=C==="horizontal",D=$?"width":"height",U=A.useRef(null),F=aa(n,U),W=ie=>ce=>{if(ie){const pe=U.current;ce===void 0?ie(pe):ie(pe,ce)}},ee=()=>M.current?M.current[$?"clientWidth":"clientHeight"]:0,Q=W((ie,ce)=>{M.current&&$&&(M.current.style.position="absolute"),ie.style[D]=P,h&&h(ie,ce)}),K=W((ie,ce)=>{const pe=ee();M.current&&$&&(M.current.style.position="");const{duration:ge,easing:oe}=Ip({style:w,timeout:T,easing:u},{mode:"enter"});if(T==="auto"){const ue=L.transitions.getAutoHeightDuration(pe);ie.style.transitionDuration=`${ue}ms`,H.current=ue}else ie.style.transitionDuration=typeof ge=="string"?ge:`${ge}ms`;ie.style[D]=`${pe}px`,ie.style.transitionTimingFunction=oe,y&&y(ie,ce)}),V=W((ie,ce)=>{ie.style[D]="auto",m&&m(ie,ce)}),Z=W(ie=>{ie.style[D]=`${ee()}px`,x&&x(ie)}),q=W(v),te=W(ie=>{const ce=ee(),{duration:pe,easing:ge}=Ip({style:w,timeout:T,easing:u},{mode:"exit"});if(T==="auto"){const oe=L.transitions.getAutoHeightDuration(ce);ie.style.transitionDuration=`${oe}ms`,H.current=oe}else ie.style.transitionDuration=typeof pe=="string"?pe:`${pe}ms`;ie.style[D]=P,ie.style.transitionTimingFunction=ge,_&&_(ie)}),ae=ie=>{T==="auto"&&N.start(H.current||0,ie),a&&a(U.current,ie)};return c.jsx(E,{in:d,onEnter:Q,onEntered:V,onEntering:K,onExit:Z,onExited:q,onExiting:te,addEndListener:ae,nodeRef:U,timeout:T==="auto"?null:T,...I,children:(ie,{ownerState:ce,...pe})=>c.jsx($_e,{as:l,className:ut(O.root,s,{entered:O.entered,exited:!d&&P==="0px"&&O.hidden}[ie]),style:{[$?"minWidth":"minHeight"]:P,...w},ref:F,ownerState:{...j,state:ie},...pe,children:c.jsx(G_e,{ownerState:{...j,state:ie},className:O.wrapper,ref:M,children:c.jsx(q_e,{ownerState:{...j,state:ie},className:O.wrapperInner,children:i})})})})});jp&&(jp.muiSupportAuto=!0);function V_e(t){return Mt("MuiPaper",t)}Lt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const W_e=t=>{const{square:e,elevation:n,variant:r,classes:a}=t,i={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Nt(i,V_e,a)},Y_e=$e("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(At(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Yt=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiPaper"}),a=os(),{className:i,component:s="div",elevation:o=1,square:l=!1,variant:u="elevation",...d}=r,h={...r,component:s,elevation:o,square:l,variant:u},m=W_e(h);return c.jsx(Y_e,{as:s,ownerState:h,className:ut(m.root,i),ref:n,...d,style:{...u==="elevation"&&{"--Paper-shadow":(a.vars||a).shadows[o],...a.vars&&{"--Paper-overlay":a.vars.overlays?.[o]},...!a.vars&&a.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${_s("#fff",Sk(o))}, ${_s("#fff",Sk(o))})`}},...d.style}})}),oX=A.createContext({});function Id(t){return typeof t=="string"}function lX(t,e,n){return t===void 0||Id(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function cX(t,e,n){return typeof t=="function"?t(e,n):t}function dg(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function UP(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function uX(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:a,className:i}=t;if(!e){const y=ut(n?.className,i,a?.className,r?.className),x={...n?.style,...a?.style,...r?.style},v={...n,...a,...r};return y.length>0&&(v.className=y),Object.keys(x).length>0&&(v.style=x),{props:v,internalRef:void 0}}const s=dg({...a,...r}),o=UP(r),l=UP(a),u=e(s),d=ut(u?.className,n?.className,i,a?.className,r?.className),h={...u?.style,...n?.style,...a?.style,...r?.style},m={...u,...n,...l,...o};return d.length>0&&(m.className=d),Object.keys(h).length>0&&(m.style=h),{props:m,internalRef:u.ref}}function Ht(t,e){const{className:n,elementType:r,ownerState:a,externalForwardedProps:i,internalForwardedProps:s,shouldForwardComponentProp:o=!1,...l}=e,{component:u,slots:d={[t]:void 0},slotProps:h={[t]:void 0},...m}=i,y=d[t]||r,x=cX(h[t],a),{props:{component:v,..._},internalRef:C}=uX({className:n,...l,externalForwardedProps:t==="root"?m:void 0,externalSlotProps:x}),w=aa(C,x?.ref,e.ref),T=t==="root"?v||u:v,E=lX(y,{...t==="root"&&!u&&!d[t]&&s,...t!=="root"&&!d[t]&&s,..._,...T&&!o&&{as:T},...T&&o&&{component:T},ref:w},a);return[y,E]}function K_e(t){return Mt("MuiAccordion",t)}const b_=Lt("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),X_e=t=>{const{classes:e,square:n,expanded:r,disabled:a,disableGutters:i}=t;return Nt({root:["root",!n&&"rounded",r&&"expanded",a&&"disabled",!i&&"gutters"],heading:["heading"],region:["region"]},K_e,e)},Q_e=$e(Yt,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${b_.region}`]:e.region},e.root,!n.square&&e.rounded,!n.disableGutters&&e.gutters]}})(At(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],e),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${b_.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${b_.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}}),At(({theme:t})=>({variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${b_.expanded}`]:{margin:"16px 0"}}}]}))),Z_e=$e("h3",{name:"MuiAccordion",slot:"Heading"})({all:"unset"}),J_e=$e("div",{name:"MuiAccordion",slot:"Region"})({}),Dc=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiAccordion"}),{children:a,className:i,defaultExpanded:s=!1,disabled:o=!1,disableGutters:l=!1,expanded:u,onChange:d,square:h=!1,slots:m={},slotProps:y={},TransitionComponent:x,TransitionProps:v,..._}=r,[C,w]=kp({controlled:u,default:s,name:"Accordion",state:"expanded"}),T=A.useCallback(K=>{w(!C),d&&d(K,!C)},[C,d,w]),[E,...I]=A.Children.toArray(a),j=A.useMemo(()=>({expanded:C,disabled:o,disableGutters:l,toggle:T}),[C,o,l,T]),O={...r,square:h,disabled:o,disableGutters:l,expanded:C},L=X_e(O),N={transition:x,...m},M={transition:v,...y},H={slots:N,slotProps:M},[P,$]=Ht("root",{elementType:Q_e,externalForwardedProps:{...H,..._},className:ut(L.root,i),shouldForwardComponentProp:!0,ownerState:O,ref:n,additionalProps:{square:h}}),[D,U]=Ht("heading",{elementType:Z_e,externalForwardedProps:H,className:L.heading,ownerState:O}),[F,W]=Ht("transition",{elementType:jp,externalForwardedProps:H,ownerState:O}),[ee,Q]=Ht("region",{elementType:J_e,externalForwardedProps:H,ownerState:O,className:L.region,additionalProps:{"aria-labelledby":E.props.id,id:E.props["aria-controls"],role:"region"}});return c.jsxs(P,{...$,children:[c.jsx(D,{...U,children:c.jsx(oX.Provider,{value:j,children:E})}),c.jsx(F,{in:C,timeout:"auto",...W,children:c.jsx(ee,{...Q,children:I})})]})});function e4e(t){return Mt("MuiAccordionDetails",t)}Lt("MuiAccordionDetails",["root"]);const t4e=t=>{const{classes:e}=t;return Nt({root:["root"]},e4e,e)},n4e=$e("div",{name:"MuiAccordionDetails",slot:"Root"})(At(({theme:t})=>({padding:t.spacing(1,2,2)}))),Mc=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiAccordionDetails"}),{className:a,...i}=r,s=r,o=t4e(s);return c.jsx(n4e,{className:ut(o.root,a),ref:n,ownerState:s,...i})});function Op(t){try{return t.matches(":focus-visible")}catch{}return!1}class oC{static create(){return new oC}static use(){const e=sX(oC.create).current,[n,r]=A.useState(!1);return e.shouldMount=n,e.setShouldMount=r,A.useEffect(e.mountEffect,[n]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=a4e(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function r4e(){return oC.use()}function a4e(){let t,e;const n=new Promise((r,a)=>{t=r,e=a});return n.resolve=t,n.reject=e,n}function i4e(t){const{className:e,classes:n,pulsate:r=!1,rippleX:a,rippleY:i,rippleSize:s,in:o,onExited:l,timeout:u}=t,[d,h]=A.useState(!1),m=ut(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),y={width:s,height:s,top:-(s/2)+i,left:-(s/2)+a},x=ut(n.child,d&&n.childLeaving,r&&n.childPulsate);return!o&&!d&&h(!0),A.useEffect(()=>{if(!o&&l!=null){const v=setTimeout(l,u);return()=>{clearTimeout(v)}}},[l,o,u]),c.jsx("span",{className:m,style:y,children:c.jsx("span",{className:x})})}const bc=Lt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Fk=550,s4e=80,o4e=Ud`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,l4e=Ud`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,c4e=Ud`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,u4e=$e("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),d4e=$e(i4e,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${bc.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${o4e};
    animation-duration: ${Fk}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${bc.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${bc.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${bc.childLeaving} {
    opacity: 0;
    animation-name: ${l4e};
    animation-duration: ${Fk}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${bc.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${c4e};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,f4e=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiTouchRipple"}),{center:a=!1,classes:i={},className:s,...o}=r,[l,u]=A.useState([]),d=A.useRef(0),h=A.useRef(null);A.useEffect(()=>{h.current&&(h.current(),h.current=null)},[l]);const m=A.useRef(!1),y=cp(),x=A.useRef(null),v=A.useRef(null),_=A.useCallback(E=>{const{pulsate:I,rippleX:j,rippleY:O,rippleSize:L,cb:N}=E;u(M=>[...M,c.jsx(d4e,{classes:{ripple:ut(i.ripple,bc.ripple),rippleVisible:ut(i.rippleVisible,bc.rippleVisible),ripplePulsate:ut(i.ripplePulsate,bc.ripplePulsate),child:ut(i.child,bc.child),childLeaving:ut(i.childLeaving,bc.childLeaving),childPulsate:ut(i.childPulsate,bc.childPulsate)},timeout:Fk,pulsate:I,rippleX:j,rippleY:O,rippleSize:L},d.current)]),d.current+=1,h.current=N},[i]),C=A.useCallback((E={},I={},j=()=>{})=>{const{pulsate:O=!1,center:L=a||I.pulsate,fakeElement:N=!1}=I;if(E?.type==="mousedown"&&m.current){m.current=!1;return}E?.type==="touchstart"&&(m.current=!0);const M=N?null:v.current,H=M?M.getBoundingClientRect():{width:0,height:0,left:0,top:0};let P,$,D;if(L||E===void 0||E.clientX===0&&E.clientY===0||!E.clientX&&!E.touches)P=Math.round(H.width/2),$=Math.round(H.height/2);else{const{clientX:U,clientY:F}=E.touches&&E.touches.length>0?E.touches[0]:E;P=Math.round(U-H.left),$=Math.round(F-H.top)}if(L)D=Math.sqrt((2*H.width**2+H.height**2)/3),D%2===0&&(D+=1);else{const U=Math.max(Math.abs((M?M.clientWidth:0)-P),P)*2+2,F=Math.max(Math.abs((M?M.clientHeight:0)-$),$)*2+2;D=Math.sqrt(U**2+F**2)}E?.touches?x.current===null&&(x.current=()=>{_({pulsate:O,rippleX:P,rippleY:$,rippleSize:D,cb:j})},y.start(s4e,()=>{x.current&&(x.current(),x.current=null)})):_({pulsate:O,rippleX:P,rippleY:$,rippleSize:D,cb:j})},[a,_,y]),w=A.useCallback(()=>{C({},{pulsate:!0})},[C]),T=A.useCallback((E,I)=>{if(y.clear(),E?.type==="touchend"&&x.current){x.current(),x.current=null,y.start(0,()=>{T(E,I)});return}x.current=null,u(j=>j.length>0?j.slice(1):j),h.current=I},[y]);return A.useImperativeHandle(n,()=>({pulsate:w,start:C,stop:T}),[w,C,T]),c.jsx(u4e,{className:ut(bc.root,i.root,s),ref:v,...o,children:c.jsx(pO,{component:null,exit:!0,children:l})})});function h4e(t){return Mt("MuiButtonBase",t)}const p4e=Lt("MuiButtonBase",["root","disabled","focusVisible"]),m4e=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:a}=t,s=Nt({root:["root",e&&"disabled",n&&"focusVisible"]},h4e,a);return n&&r&&(s.root+=` ${r}`),s},g4e=$e("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${p4e.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Co=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiButtonBase"}),{action:a,centerRipple:i=!1,children:s,className:o,component:l="button",disabled:u=!1,disableRipple:d=!1,disableTouchRipple:h=!1,focusRipple:m=!1,focusVisibleClassName:y,LinkComponent:x="a",onBlur:v,onClick:_,onContextMenu:C,onDragLeave:w,onFocus:T,onFocusVisible:E,onKeyDown:I,onKeyUp:j,onMouseDown:O,onMouseLeave:L,onMouseUp:N,onTouchEnd:M,onTouchMove:H,onTouchStart:P,tabIndex:$=0,TouchRippleProps:D,touchRippleRef:U,type:F,...W}=r,ee=A.useRef(null),Q=r4e(),K=aa(Q.ref,U),[V,Z]=A.useState(!1);u&&V&&Z(!1),A.useImperativeHandle(a,()=>({focusVisible:()=>{Z(!0),ee.current.focus()}}),[]);const q=Q.shouldMount&&!d&&!u;A.useEffect(()=>{V&&m&&!d&&Q.pulsate()},[d,m,V,Q]);const te=Af(Q,"start",O,h),ae=Af(Q,"stop",C,h),ie=Af(Q,"stop",w,h),ce=Af(Q,"stop",N,h),pe=Af(Q,"stop",De=>{V&&De.preventDefault(),L&&L(De)},h),ge=Af(Q,"start",P,h),oe=Af(Q,"stop",M,h),ue=Af(Q,"stop",H,h),he=Af(Q,"stop",De=>{Op(De.target)||Z(!1),v&&v(De)},!1),ve=rs(De=>{ee.current||(ee.current=De.currentTarget),Op(De.target)&&(Z(!0),E&&E(De)),T&&T(De)}),me=()=>{const De=ee.current;return l&&l!=="button"&&!(De.tagName==="A"&&De.href)},le=rs(De=>{m&&!De.repeat&&V&&De.key===" "&&Q.stop(De,()=>{Q.start(De)}),De.target===De.currentTarget&&me()&&De.key===" "&&De.preventDefault(),I&&I(De),De.target===De.currentTarget&&me()&&De.key==="Enter"&&!u&&(De.preventDefault(),_&&_(De))}),Se=rs(De=>{m&&De.key===" "&&V&&!De.defaultPrevented&&Q.stop(De,()=>{Q.pulsate(De)}),j&&j(De),_&&De.target===De.currentTarget&&me()&&De.key===" "&&!De.defaultPrevented&&_(De)});let be=l;be==="button"&&(W.href||W.to)&&(be=x);const Te={};be==="button"?(Te.type=F===void 0?"button":F,Te.disabled=u):(!W.href&&!W.to&&(Te.role="button"),u&&(Te["aria-disabled"]=u));const Ne=aa(n,ee),Pe={...r,centerRipple:i,component:l,disabled:u,disableRipple:d,disableTouchRipple:h,focusRipple:m,tabIndex:$,focusVisible:V},Le=m4e(Pe);return c.jsxs(g4e,{as:be,className:ut(Le.root,o),ownerState:Pe,onBlur:he,onClick:_,onContextMenu:ae,onFocus:ve,onKeyDown:le,onKeyUp:Se,onMouseDown:te,onMouseLeave:pe,onMouseUp:ce,onDragLeave:ie,onTouchEnd:oe,onTouchMove:ue,onTouchStart:ge,ref:Ne,tabIndex:u?-1:$,type:F,...Te,...W,children:[s,q?c.jsx(f4e,{ref:K,center:i,...D}):null]})});function Af(t,e,n,r=!1){return rs(a=>(n&&n(a),r||t[e](a),!0))}function y4e(t){return Mt("MuiAccordionSummary",t)}const O1=Lt("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),b4e=t=>{const{classes:e,expanded:n,disabled:r,disableGutters:a}=t;return Nt({root:["root",n&&"expanded",r&&"disabled",!a&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!a&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},y4e,e)},x4e=$e(Co,{name:"MuiAccordionSummary",slot:"Root"})(At(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],e),[`&.${O1.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${O1.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${O1.disabled})`]:{cursor:"pointer"},variants:[{props:n=>!n.disableGutters,style:{[`&.${O1.expanded}`]:{minHeight:64}}}]}})),v4e=$e("span",{name:"MuiAccordionSummary",slot:"Content"})(At(({theme:t})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${O1.expanded}`]:{margin:"20px 0"}}}]}))),S4e=$e("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper"})(At(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${O1.expanded}`]:{transform:"rotate(180deg)"}}))),Nc=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiAccordionSummary"}),{children:a,className:i,expandIcon:s,focusVisibleClassName:o,onClick:l,slots:u,slotProps:d,...h}=r,{disabled:m=!1,disableGutters:y,expanded:x,toggle:v}=A.useContext(oX),_=M=>{v&&v(M),l&&l(M)},C={...r,expanded:x,disabled:m,disableGutters:y},w=b4e(C),T={slots:u,slotProps:d},[E,I]=Ht("root",{ref:n,shouldForwardComponentProp:!0,className:ut(w.root,i),elementType:x4e,externalForwardedProps:{...T,...h},ownerState:C,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:m,"aria-expanded":x,focusVisibleClassName:ut(w.focusVisible,o)},getSlotProps:M=>({...M,onClick:H=>{M.onClick?.(H),_(H)}})}),[j,O]=Ht("content",{className:w.content,elementType:v4e,externalForwardedProps:T,ownerState:C}),[L,N]=Ht("expandIconWrapper",{className:w.expandIconWrapper,elementType:S4e,externalForwardedProps:T,ownerState:C});return c.jsxs(E,{...I,children:[c.jsx(j,{...O,children:a}),s&&c.jsx(L,{...N,children:s})]})});function _4e(t){return typeof t.main=="string"}function C4e(t,e=[]){if(!_4e(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function rr(t=[]){return([,e])=>e&&C4e(e,t)}function w4e(t){return Mt("MuiAlert",t)}const $P=Lt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function E4e(t){return Mt("MuiCircularProgress",t)}Lt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const $h=44,Bk=Ud`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Hk=Ud`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,T4e=typeof Bk!="string"?Pp`
        animation: ${Bk} 1.4s linear infinite;
      `:null,A4e=typeof Hk!="string"?Pp`
        animation: ${Hk} 1.4s ease-in-out infinite;
      `:null,R4e=t=>{const{classes:e,variant:n,color:r,disableShrink:a}=t,i={root:["root",n,`color${Ue(r)}`],svg:["svg"],circle:["circle",`circle${Ue(n)}`,a&&"circleDisableShrink"]};return Nt(i,E4e,e)},k4e=$e("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${Ue(n.color)}`]]}})(At(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:T4e||{animation:`${Bk} 1.4s linear infinite`}},...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),I4e=$e("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),j4e=$e("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${Ue(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(At(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:A4e||{animation:`${Hk} 1.4s ease-in-out infinite`}}]}))),Kt=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiCircularProgress"}),{className:a,color:i="primary",disableShrink:s=!1,size:o=40,style:l,thickness:u=3.6,value:d=0,variant:h="indeterminate",...m}=r,y={...r,color:i,disableShrink:s,size:o,thickness:u,value:d,variant:h},x=R4e(y),v={},_={},C={};if(h==="determinate"){const w=2*Math.PI*(($h-u)/2);v.strokeDasharray=w.toFixed(3),C["aria-valuenow"]=Math.round(d),v.strokeDashoffset=`${((100-d)/100*w).toFixed(3)}px`,_.transform="rotate(-90deg)"}return c.jsx(k4e,{className:ut(x.root,a),style:{width:o,height:o,..._,...l},ownerState:y,ref:n,role:"progressbar",...C,...m,children:c.jsx(I4e,{className:x.svg,ownerState:y,viewBox:`${$h/2} ${$h/2} ${$h} ${$h}`,children:c.jsx(j4e,{className:x.circle,style:v,ownerState:y,cx:$h,cy:$h,r:($h-u)/2,fill:"none",strokeWidth:u})})})});function O4e(t){return Mt("MuiIconButton",t)}const GP=Lt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),D4e=t=>{const{classes:e,disabled:n,color:r,edge:a,size:i,loading:s}=t,o={root:["root",s&&"loading",n&&"disabled",r!=="default"&&`color${Ue(r)}`,a&&`edge${Ue(a)}`,`size${Ue(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Nt(o,O4e,e)},M4e=$e(Co,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${Ue(n.color)}`],n.edge&&e[`edge${Ue(n.edge)}`],e[`size${Ue(n.size)}`]]}})(At(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),At(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${GP.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${GP.loading}`]:{color:"transparent"}}))),N4e=$e("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),ht=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiIconButton"}),{edge:a=!1,children:i,className:s,color:o="default",disabled:l=!1,disableFocusRipple:u=!1,size:d="medium",id:h,loading:m=null,loadingIndicator:y,...x}=r,v=Nd(h),_=y??c.jsx(Kt,{"aria-labelledby":v,color:"inherit",size:16}),C={...r,edge:a,color:o,disabled:l,disableFocusRipple:u,loading:m,loadingIndicator:_,size:d},w=D4e(C);return c.jsxs(M4e,{id:m?v:h,className:ut(w.root,s),centerRipple:!0,focusRipple:!u,disabled:l||m,ref:n,...x,ownerState:C,children:[typeof m=="boolean"&&c.jsx("span",{className:w.loadingWrapper,style:{display:"contents"},children:c.jsx(N4e,{className:w.loadingIndicator,ownerState:C,children:m&&_})}),i]})}),P4e=mt(c.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),L4e=mt(c.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),z4e=mt(c.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),F4e=mt(c.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),B4e=mt(c.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),H4e=t=>{const{variant:e,color:n,severity:r,classes:a}=t,i={root:["root",`color${Ue(n||r)}`,`${e}${Ue(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return Nt(i,w4e,a)},U4e=$e(Yt,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ue(n.color||n.severity)}`]]}})(At(({theme:t})=>{const e=t.palette.mode==="light"?t.darken:t.lighten,n=t.palette.mode==="light"?t.lighten:t.darken;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(rr(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${$P.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(rr(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${$P.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(rr(["dark"])).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)}}}))]}})),$4e=$e("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),G4e=$e("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),q4e=$e("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),qP={success:c.jsx(P4e,{fontSize:"inherit"}),warning:c.jsx(L4e,{fontSize:"inherit"}),error:c.jsx(z4e,{fontSize:"inherit"}),info:c.jsx(F4e,{fontSize:"inherit"})},St=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiAlert"}),{action:a,children:i,className:s,closeText:o="Close",color:l,components:u={},componentsProps:d={},icon:h,iconMapping:m=qP,onClose:y,role:x="alert",severity:v="success",slotProps:_={},slots:C={},variant:w="standard",...T}=r,E={...r,color:l,severity:v,variant:w,colorSeverity:l||v},I=H4e(E),j={slots:{closeButton:u.CloseButton,closeIcon:u.CloseIcon,...C},slotProps:{...d,..._}},[O,L]=Ht("root",{ref:n,shouldForwardComponentProp:!0,className:ut(I.root,s),elementType:U4e,externalForwardedProps:{...j,...T},ownerState:E,additionalProps:{role:x,elevation:0}}),[N,M]=Ht("icon",{className:I.icon,elementType:$4e,externalForwardedProps:j,ownerState:E}),[H,P]=Ht("message",{className:I.message,elementType:G4e,externalForwardedProps:j,ownerState:E}),[$,D]=Ht("action",{className:I.action,elementType:q4e,externalForwardedProps:j,ownerState:E}),[U,F]=Ht("closeButton",{elementType:ht,externalForwardedProps:j,ownerState:E}),[W,ee]=Ht("closeIcon",{elementType:B4e,externalForwardedProps:j,ownerState:E});return c.jsxs(O,{...L,children:[h!==!1?c.jsx(N,{...M,children:h||m[v]||qP[v]}):null,c.jsx(H,{...P,children:i}),a!=null?c.jsx($,{...D,children:a}):null,a==null&&y?c.jsx($,{...D,children:c.jsx(U,{size:"small","aria-label":o,title:o,color:"inherit",onClick:y,...F,children:c.jsx(W,{fontSize:"small",...ee})})}):null]})});function V4e(t){return Mt("MuiTypography",t)}const VP=Lt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),W4e={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Y4e=hde(),K4e=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:a,variant:i,classes:s}=t,o={root:["root",i,t.align!=="inherit"&&`align${Ue(e)}`,n&&"gutterBottom",r&&"noWrap",a&&"paragraph"]};return Nt(o,V4e,s)},X4e=$e("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Ue(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(At(({theme:t})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([e,n])=>e!=="inherit"&&n&&typeof n=="object").map(([e,n])=>({props:{variant:e},style:n})),...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${Ue(e)}`},style:{color:(t.vars||t).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),WP={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},re=A.forwardRef(function(e,n){const{color:r,...a}=zt({props:e,name:"MuiTypography"}),i=!W4e[r],s=Y4e({...a,...i&&{color:r}}),{align:o="inherit",className:l,component:u,gutterBottom:d=!1,noWrap:h=!1,paragraph:m=!1,variant:y="body1",variantMapping:x=WP,...v}=s,_={...s,align:o,color:r,className:l,component:u,gutterBottom:d,noWrap:h,paragraph:m,variant:y,variantMapping:x},C=u||(m?"p":x[y]||WP[y])||"span",w=K4e(_);return c.jsx(X4e,{as:C,ref:n,className:ut(w.root,l),...v,ownerState:_,style:{...o!=="inherit"&&{"--Typography-textAlign":o},...v.style}})});function Q4e(t){return Mt("MuiAppBar",t)}Lt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Z4e=t=>{const{color:e,position:n,classes:r}=t,a={root:["root",`color${Ue(e)}`,`position${Ue(n)}`]};return Nt(a,Q4e,r)},YP=(t,e)=>t?`${t?.replace(")","")}, ${e})`:e,J4e=$e(Yt,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Ue(n.position)}`],e[`color${Ue(n.color)}`]]}})(At(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(rr(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(t.vars??t).palette[e].main,"--AppBar-color":(t.vars??t).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?YP(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?YP(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),eCe=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiAppBar"}),{className:a,color:i="primary",enableColorOnDark:s=!1,position:o="fixed",...l}=r,u={...r,color:i,position:o,enableColorOnDark:s},d=Z4e(u);return c.jsx(J4e,{square:!0,component:"header",ownerState:u,elevation:4,className:ut(d.root,a,o==="fixed"&&"mui-fixed"),ref:n,...l})}),dX=t=>{const e=A.useRef({});return A.useEffect(()=>{e.current=t}),e.current};var Jo="top",Pc="bottom",Lc="right",el="left",gO="auto",Zv=[Jo,Pc,Lc,el],ey="start",ov="end",tCe="clippingParents",fX="viewport",wx="popper",nCe="reference",KP=Zv.reduce(function(t,e){return t.concat([e+"-"+ey,e+"-"+ov])},[]),hX=[].concat(Zv,[gO]).reduce(function(t,e){return t.concat([e,e+"-"+ey,e+"-"+ov])},[]),rCe="beforeRead",aCe="read",iCe="afterRead",sCe="beforeMain",oCe="main",lCe="afterMain",cCe="beforeWrite",uCe="write",dCe="afterWrite",fCe=[rCe,aCe,iCe,sCe,oCe,lCe,cCe,uCe,dCe];function Pd(t){return t?(t.nodeName||"").toLowerCase():null}function Nl(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function _g(t){var e=Nl(t).Element;return t instanceof e||t instanceof Element}function jc(t){var e=Nl(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function yO(t){if(typeof ShadowRoot>"u")return!1;var e=Nl(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function hCe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},a=e.attributes[n]||{},i=e.elements[n];!jc(i)||!Pd(i)||(Object.assign(i.style,r),Object.keys(a).forEach(function(s){var o=a[s];o===!1?i.removeAttribute(s):i.setAttribute(s,o===!0?"":o)}))})}function pCe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var a=e.elements[r],i=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),o=s.reduce(function(l,u){return l[u]="",l},{});!jc(a)||!Pd(a)||(Object.assign(a.style,o),Object.keys(i).forEach(function(l){a.removeAttribute(l)}))})}}const mCe={name:"applyStyles",enabled:!0,phase:"write",fn:hCe,effect:pCe,requires:["computeStyles"]};function jd(t){return t.split("-")[0]}var fg=Math.max,lC=Math.min,ty=Math.round;function Uk(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function pX(){return!/^((?!chrome|android).)*safari/i.test(Uk())}function ny(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),a=1,i=1;e&&jc(t)&&(a=t.offsetWidth>0&&ty(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&ty(r.height)/t.offsetHeight||1);var s=_g(t)?Nl(t):window,o=s.visualViewport,l=!pX()&&n,u=(r.left+(l&&o?o.offsetLeft:0))/a,d=(r.top+(l&&o?o.offsetTop:0))/i,h=r.width/a,m=r.height/i;return{width:h,height:m,top:d,right:u+h,bottom:d+m,left:u,x:u,y:d}}function bO(t){var e=ny(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function mX(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&yO(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Vf(t){return Nl(t).getComputedStyle(t)}function gCe(t){return["table","td","th"].indexOf(Pd(t))>=0}function zp(t){return((_g(t)?t.ownerDocument:t.document)||window.document).documentElement}function C5(t){return Pd(t)==="html"?t:t.assignedSlot||t.parentNode||(yO(t)?t.host:null)||zp(t)}function XP(t){return!jc(t)||Vf(t).position==="fixed"?null:t.offsetParent}function yCe(t){var e=/firefox/i.test(Uk()),n=/Trident/i.test(Uk());if(n&&jc(t)){var r=Vf(t);if(r.position==="fixed")return null}var a=C5(t);for(yO(a)&&(a=a.host);jc(a)&&["html","body"].indexOf(Pd(a))<0;){var i=Vf(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function Jv(t){for(var e=Nl(t),n=XP(t);n&&gCe(n)&&Vf(n).position==="static";)n=XP(n);return n&&(Pd(n)==="html"||Pd(n)==="body"&&Vf(n).position==="static")?e:n||yCe(t)||e}function xO(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function E2(t,e,n){return fg(t,lC(e,n))}function bCe(t,e,n){var r=E2(t,e,n);return r>n?n:r}function gX(){return{top:0,right:0,bottom:0,left:0}}function yX(t){return Object.assign({},gX(),t)}function bX(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var xCe=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,yX(typeof e!="number"?e:bX(e,Zv))};function vCe(t){var e,n=t.state,r=t.name,a=t.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,o=jd(n.placement),l=xO(o),u=[el,Lc].indexOf(o)>=0,d=u?"height":"width";if(!(!i||!s)){var h=xCe(a.padding,n),m=bO(i),y=l==="y"?Jo:el,x=l==="y"?Pc:Lc,v=n.rects.reference[d]+n.rects.reference[l]-s[l]-n.rects.popper[d],_=s[l]-n.rects.reference[l],C=Jv(i),w=C?l==="y"?C.clientHeight||0:C.clientWidth||0:0,T=v/2-_/2,E=h[y],I=w-m[d]-h[x],j=w/2-m[d]/2+T,O=E2(E,j,I),L=l;n.modifiersData[r]=(e={},e[L]=O,e.centerOffset=O-j,e)}}function SCe(t){var e=t.state,n=t.options,r=n.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||mX(e.elements.popper,a)&&(e.elements.arrow=a))}const _Ce={name:"arrow",enabled:!0,phase:"main",fn:vCe,effect:SCe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ry(t){return t.split("-")[1]}var CCe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function wCe(t,e){var n=t.x,r=t.y,a=e.devicePixelRatio||1;return{x:ty(n*a)/a||0,y:ty(r*a)/a||0}}function QP(t){var e,n=t.popper,r=t.popperRect,a=t.placement,i=t.variation,s=t.offsets,o=t.position,l=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,h=t.isFixed,m=s.x,y=m===void 0?0:m,x=s.y,v=x===void 0?0:x,_=typeof d=="function"?d({x:y,y:v}):{x:y,y:v};y=_.x,v=_.y;var C=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),T=el,E=Jo,I=window;if(u){var j=Jv(n),O="clientHeight",L="clientWidth";if(j===Nl(n)&&(j=zp(n),Vf(j).position!=="static"&&o==="absolute"&&(O="scrollHeight",L="scrollWidth")),j=j,a===Jo||(a===el||a===Lc)&&i===ov){E=Pc;var N=h&&j===I&&I.visualViewport?I.visualViewport.height:j[O];v-=N-r.height,v*=l?1:-1}if(a===el||(a===Jo||a===Pc)&&i===ov){T=Lc;var M=h&&j===I&&I.visualViewport?I.visualViewport.width:j[L];y-=M-r.width,y*=l?1:-1}}var H=Object.assign({position:o},u&&CCe),P=d===!0?wCe({x:y,y:v},Nl(n)):{x:y,y:v};if(y=P.x,v=P.y,l){var $;return Object.assign({},H,($={},$[E]=w?"0":"",$[T]=C?"0":"",$.transform=(I.devicePixelRatio||1)<=1?"translate("+y+"px, "+v+"px)":"translate3d("+y+"px, "+v+"px, 0)",$))}return Object.assign({},H,(e={},e[E]=w?v+"px":"",e[T]=C?y+"px":"",e.transform="",e))}function ECe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,a=r===void 0?!0:r,i=n.adaptive,s=i===void 0?!0:i,o=n.roundOffsets,l=o===void 0?!0:o,u={placement:jd(e.placement),variation:ry(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,QP(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,QP(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const TCe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ECe,data:{}};var x_={passive:!0};function ACe(t){var e=t.state,n=t.instance,r=t.options,a=r.scroll,i=a===void 0?!0:a,s=r.resize,o=s===void 0?!0:s,l=Nl(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(d){d.addEventListener("scroll",n.update,x_)}),o&&l.addEventListener("resize",n.update,x_),function(){i&&u.forEach(function(d){d.removeEventListener("scroll",n.update,x_)}),o&&l.removeEventListener("resize",n.update,x_)}}const RCe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ACe,data:{}};var kCe={left:"right",right:"left",bottom:"top",top:"bottom"};function I4(t){return t.replace(/left|right|bottom|top/g,function(e){return kCe[e]})}var ICe={start:"end",end:"start"};function ZP(t){return t.replace(/start|end/g,function(e){return ICe[e]})}function vO(t){var e=Nl(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function SO(t){return ny(zp(t)).left+vO(t).scrollLeft}function jCe(t,e){var n=Nl(t),r=zp(t),a=n.visualViewport,i=r.clientWidth,s=r.clientHeight,o=0,l=0;if(a){i=a.width,s=a.height;var u=pX();(u||!u&&e==="fixed")&&(o=a.offsetLeft,l=a.offsetTop)}return{width:i,height:s,x:o+SO(t),y:l}}function OCe(t){var e,n=zp(t),r=vO(t),a=(e=t.ownerDocument)==null?void 0:e.body,i=fg(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=fg(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),o=-r.scrollLeft+SO(t),l=-r.scrollTop;return Vf(a||n).direction==="rtl"&&(o+=fg(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:s,x:o,y:l}}function _O(t){var e=Vf(t),n=e.overflow,r=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function xX(t){return["html","body","#document"].indexOf(Pd(t))>=0?t.ownerDocument.body:jc(t)&&_O(t)?t:xX(C5(t))}function T2(t,e){var n;e===void 0&&(e=[]);var r=xX(t),a=r===((n=t.ownerDocument)==null?void 0:n.body),i=Nl(r),s=a?[i].concat(i.visualViewport||[],_O(r)?r:[]):r,o=e.concat(s);return a?o:o.concat(T2(C5(s)))}function $k(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function DCe(t,e){var n=ny(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function JP(t,e,n){return e===fX?$k(jCe(t,n)):_g(e)?DCe(e,n):$k(OCe(zp(t)))}function MCe(t){var e=T2(C5(t)),n=["absolute","fixed"].indexOf(Vf(t).position)>=0,r=n&&jc(t)?Jv(t):t;return _g(r)?e.filter(function(a){return _g(a)&&mX(a,r)&&Pd(a)!=="body"}):[]}function NCe(t,e,n,r){var a=e==="clippingParents"?MCe(t):[].concat(e),i=[].concat(a,[n]),s=i[0],o=i.reduce(function(l,u){var d=JP(t,u,r);return l.top=fg(d.top,l.top),l.right=lC(d.right,l.right),l.bottom=lC(d.bottom,l.bottom),l.left=fg(d.left,l.left),l},JP(t,s,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function vX(t){var e=t.reference,n=t.element,r=t.placement,a=r?jd(r):null,i=r?ry(r):null,s=e.x+e.width/2-n.width/2,o=e.y+e.height/2-n.height/2,l;switch(a){case Jo:l={x:s,y:e.y-n.height};break;case Pc:l={x:s,y:e.y+e.height};break;case Lc:l={x:e.x+e.width,y:o};break;case el:l={x:e.x-n.width,y:o};break;default:l={x:e.x,y:e.y}}var u=a?xO(a):null;if(u!=null){var d=u==="y"?"height":"width";switch(i){case ey:l[u]=l[u]-(e[d]/2-n[d]/2);break;case ov:l[u]=l[u]+(e[d]/2-n[d]/2);break}}return l}function lv(t,e){e===void 0&&(e={});var n=e,r=n.placement,a=r===void 0?t.placement:r,i=n.strategy,s=i===void 0?t.strategy:i,o=n.boundary,l=o===void 0?tCe:o,u=n.rootBoundary,d=u===void 0?fX:u,h=n.elementContext,m=h===void 0?wx:h,y=n.altBoundary,x=y===void 0?!1:y,v=n.padding,_=v===void 0?0:v,C=yX(typeof _!="number"?_:bX(_,Zv)),w=m===wx?nCe:wx,T=t.rects.popper,E=t.elements[x?w:m],I=NCe(_g(E)?E:E.contextElement||zp(t.elements.popper),l,d,s),j=ny(t.elements.reference),O=vX({reference:j,element:T,placement:a}),L=$k(Object.assign({},T,O)),N=m===wx?L:j,M={top:I.top-N.top+C.top,bottom:N.bottom-I.bottom+C.bottom,left:I.left-N.left+C.left,right:N.right-I.right+C.right},H=t.modifiersData.offset;if(m===wx&&H){var P=H[a];Object.keys(M).forEach(function($){var D=[Lc,Pc].indexOf($)>=0?1:-1,U=[Jo,Pc].indexOf($)>=0?"y":"x";M[$]+=P[U]*D})}return M}function PCe(t,e){e===void 0&&(e={});var n=e,r=n.placement,a=n.boundary,i=n.rootBoundary,s=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?hX:l,d=ry(r),h=d?o?KP:KP.filter(function(x){return ry(x)===d}):Zv,m=h.filter(function(x){return u.indexOf(x)>=0});m.length===0&&(m=h);var y=m.reduce(function(x,v){return x[v]=lv(t,{placement:v,boundary:a,rootBoundary:i,padding:s})[jd(v)],x},{});return Object.keys(y).sort(function(x,v){return y[x]-y[v]})}function LCe(t){if(jd(t)===gO)return[];var e=I4(t);return[ZP(t),e,ZP(e)]}function zCe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var a=n.mainAxis,i=a===void 0?!0:a,s=n.altAxis,o=s===void 0?!0:s,l=n.fallbackPlacements,u=n.padding,d=n.boundary,h=n.rootBoundary,m=n.altBoundary,y=n.flipVariations,x=y===void 0?!0:y,v=n.allowedAutoPlacements,_=e.options.placement,C=jd(_),w=C===_,T=l||(w||!x?[I4(_)]:LCe(_)),E=[_].concat(T).reduce(function(te,ae){return te.concat(jd(ae)===gO?PCe(e,{placement:ae,boundary:d,rootBoundary:h,padding:u,flipVariations:x,allowedAutoPlacements:v}):ae)},[]),I=e.rects.reference,j=e.rects.popper,O=new Map,L=!0,N=E[0],M=0;M<E.length;M++){var H=E[M],P=jd(H),$=ry(H)===ey,D=[Jo,Pc].indexOf(P)>=0,U=D?"width":"height",F=lv(e,{placement:H,boundary:d,rootBoundary:h,altBoundary:m,padding:u}),W=D?$?Lc:el:$?Pc:Jo;I[U]>j[U]&&(W=I4(W));var ee=I4(W),Q=[];if(i&&Q.push(F[P]<=0),o&&Q.push(F[W]<=0,F[ee]<=0),Q.every(function(te){return te})){N=H,L=!1;break}O.set(H,Q)}if(L)for(var K=x?3:1,V=function(ae){var ie=E.find(function(ce){var pe=O.get(ce);if(pe)return pe.slice(0,ae).every(function(ge){return ge})});if(ie)return N=ie,"break"},Z=K;Z>0;Z--){var q=V(Z);if(q==="break")break}e.placement!==N&&(e.modifiersData[r]._skip=!0,e.placement=N,e.reset=!0)}}const FCe={name:"flip",enabled:!0,phase:"main",fn:zCe,requiresIfExists:["offset"],data:{_skip:!1}};function eL(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function tL(t){return[Jo,Lc,Pc,el].some(function(e){return t[e]>=0})}function BCe(t){var e=t.state,n=t.name,r=e.rects.reference,a=e.rects.popper,i=e.modifiersData.preventOverflow,s=lv(e,{elementContext:"reference"}),o=lv(e,{altBoundary:!0}),l=eL(s,r),u=eL(o,a,i),d=tL(l),h=tL(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const HCe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:BCe};function UCe(t,e,n){var r=jd(t),a=[el,Jo].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=i[0],o=i[1];return s=s||0,o=(o||0)*a,[el,Lc].indexOf(r)>=0?{x:o,y:s}:{x:s,y:o}}function $Ce(t){var e=t.state,n=t.options,r=t.name,a=n.offset,i=a===void 0?[0,0]:a,s=hX.reduce(function(d,h){return d[h]=UCe(h,e.rects,i),d},{}),o=s[e.placement],l=o.x,u=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}const GCe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$Ce};function qCe(t){var e=t.state,n=t.name;e.modifiersData[n]=vX({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const VCe={name:"popperOffsets",enabled:!0,phase:"read",fn:qCe,data:{}};function WCe(t){return t==="x"?"y":"x"}function YCe(t){var e=t.state,n=t.options,r=t.name,a=n.mainAxis,i=a===void 0?!0:a,s=n.altAxis,o=s===void 0?!1:s,l=n.boundary,u=n.rootBoundary,d=n.altBoundary,h=n.padding,m=n.tether,y=m===void 0?!0:m,x=n.tetherOffset,v=x===void 0?0:x,_=lv(e,{boundary:l,rootBoundary:u,padding:h,altBoundary:d}),C=jd(e.placement),w=ry(e.placement),T=!w,E=xO(C),I=WCe(E),j=e.modifiersData.popperOffsets,O=e.rects.reference,L=e.rects.popper,N=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,M=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),H=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,P={x:0,y:0};if(j){if(i){var $,D=E==="y"?Jo:el,U=E==="y"?Pc:Lc,F=E==="y"?"height":"width",W=j[E],ee=W+_[D],Q=W-_[U],K=y?-L[F]/2:0,V=w===ey?O[F]:L[F],Z=w===ey?-L[F]:-O[F],q=e.elements.arrow,te=y&&q?bO(q):{width:0,height:0},ae=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:gX(),ie=ae[D],ce=ae[U],pe=E2(0,O[F],te[F]),ge=T?O[F]/2-K-pe-ie-M.mainAxis:V-pe-ie-M.mainAxis,oe=T?-O[F]/2+K+pe+ce+M.mainAxis:Z+pe+ce+M.mainAxis,ue=e.elements.arrow&&Jv(e.elements.arrow),he=ue?E==="y"?ue.clientTop||0:ue.clientLeft||0:0,ve=($=H?.[E])!=null?$:0,me=W+ge-ve-he,le=W+oe-ve,Se=E2(y?lC(ee,me):ee,W,y?fg(Q,le):Q);j[E]=Se,P[E]=Se-W}if(o){var be,Te=E==="x"?Jo:el,Ne=E==="x"?Pc:Lc,Pe=j[I],Le=I==="y"?"height":"width",De=Pe+_[Te],Xe=Pe-_[Ne],ke=[Jo,el].indexOf(C)!==-1,Ie=(be=H?.[I])!=null?be:0,ye=ke?De:Pe-O[Le]-L[Le]-Ie+M.altAxis,Ce=ke?Pe+O[Le]+L[Le]-Ie-M.altAxis:Xe,Me=y&&ke?bCe(ye,Pe,Ce):E2(y?ye:De,Pe,y?Ce:Xe);j[I]=Me,P[I]=Me-Pe}e.modifiersData[r]=P}}const KCe={name:"preventOverflow",enabled:!0,phase:"main",fn:YCe,requiresIfExists:["offset"]};function XCe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function QCe(t){return t===Nl(t)||!jc(t)?vO(t):XCe(t)}function ZCe(t){var e=t.getBoundingClientRect(),n=ty(e.width)/t.offsetWidth||1,r=ty(e.height)/t.offsetHeight||1;return n!==1||r!==1}function JCe(t,e,n){n===void 0&&(n=!1);var r=jc(e),a=jc(e)&&ZCe(e),i=zp(e),s=ny(t,a,n),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Pd(e)!=="body"||_O(i))&&(o=QCe(e)),jc(e)?(l=ny(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=SO(i))),{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function e5e(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function a(i){n.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(o){if(!n.has(o)){var l=e.get(o);l&&a(l)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||a(i)}),r}function t5e(t){var e=e5e(t);return fCe.reduce(function(n,r){return n.concat(e.filter(function(a){return a.phase===r}))},[])}function n5e(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function r5e(t){var e=t.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var nL={placement:"bottom",modifiers:[],strategy:"absolute"};function rL(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function a5e(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,a=e.defaultOptions,i=a===void 0?nL:a;return function(o,l,u){u===void 0&&(u=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},nL,i),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},h=[],m=!1,y={state:d,setOptions:function(C){var w=typeof C=="function"?C(d.options):C;v(),d.options=Object.assign({},i,d.options,w),d.scrollParents={reference:_g(o)?T2(o):o.contextElement?T2(o.contextElement):[],popper:T2(l)};var T=t5e(r5e([].concat(r,d.options.modifiers)));return d.orderedModifiers=T.filter(function(E){return E.enabled}),x(),y.update()},forceUpdate:function(){if(!m){var C=d.elements,w=C.reference,T=C.popper;if(rL(w,T)){d.rects={reference:JCe(w,Jv(T),d.options.strategy==="fixed"),popper:bO(T)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(M){return d.modifiersData[M.name]=Object.assign({},M.data)});for(var E=0;E<d.orderedModifiers.length;E++){if(d.reset===!0){d.reset=!1,E=-1;continue}var I=d.orderedModifiers[E],j=I.fn,O=I.options,L=O===void 0?{}:O,N=I.name;typeof j=="function"&&(d=j({state:d,options:L,name:N,instance:y})||d)}}}},update:n5e(function(){return new Promise(function(_){y.forceUpdate(),_(d)})}),destroy:function(){v(),m=!0}};if(!rL(o,l))return y;y.setOptions(u).then(function(_){!m&&u.onFirstUpdate&&u.onFirstUpdate(_)});function x(){d.orderedModifiers.forEach(function(_){var C=_.name,w=_.options,T=w===void 0?{}:w,E=_.effect;if(typeof E=="function"){var I=E({state:d,name:C,instance:y,options:T}),j=function(){};h.push(I||j)}})}function v(){h.forEach(function(_){return _()}),h=[]}return y}}var i5e=[RCe,VCe,TCe,mCe,GCe,FCe,KCe,_Ce,HCe],s5e=a5e({defaultModifiers:i5e});function vo(t){const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:a=!1,...i}=t,s=a?{}:cX(n,r),{props:o,internalRef:l}=uX({...i,externalSlotProps:s}),u=aa(l,s?.ref,t.additionalProps?.ref);return lX(e,{...o,ref:u},r)}function Fp(t){return parseInt(A.version,10)>=19?t?.props?.ref||null:t?.ref||null}function o5e(t){return typeof t=="function"?t():t}const SX=A.forwardRef(function(e,n){const{children:r,container:a,disablePortal:i=!1}=e,[s,o]=A.useState(null),l=aa(A.isValidElement(r)?Fp(r):null,n);if(qs(()=>{i||o(o5e(a)||document.body)},[a,i]),qs(()=>{if(s&&!i)return FP(n,s),()=>{FP(n,null)}},[n,s,i]),i){if(A.isValidElement(r)){const u={ref:l};return A.cloneElement(r,u)}return r}return s&&Ym.createPortal(r,s)});function l5e(t){return Mt("MuiPopper",t)}Lt("MuiPopper",["root"]);function c5e(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function Gk(t){return typeof t=="function"?t():t}function u5e(t){return t.nodeType!==void 0}const d5e=t=>{const{classes:e}=t;return Nt({root:["root"]},l5e,e)},f5e={},h5e=A.forwardRef(function(e,n){const{anchorEl:r,children:a,direction:i,disablePortal:s,modifiers:o,open:l,placement:u,popperOptions:d,popperRef:h,slotProps:m={},slots:y={},TransitionProps:x,ownerState:v,..._}=e,C=A.useRef(null),w=aa(C,n),T=A.useRef(null),E=aa(T,h),I=A.useRef(E);qs(()=>{I.current=E},[E]),A.useImperativeHandle(h,()=>T.current,[]);const j=c5e(u,i),[O,L]=A.useState(j),[N,M]=A.useState(Gk(r));A.useEffect(()=>{T.current&&T.current.forceUpdate()}),A.useEffect(()=>{r&&M(Gk(r))},[r]),qs(()=>{if(!N||!l)return;const U=ee=>{L(ee.placement)};let F=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:ee})=>{U(ee)}}];o!=null&&(F=F.concat(o)),d&&d.modifiers!=null&&(F=F.concat(d.modifiers));const W=s5e(N,C.current,{placement:j,...d,modifiers:F});return I.current(W),()=>{W.destroy(),I.current(null)}},[N,s,o,l,d,j]);const H={placement:O};x!==null&&(H.TransitionProps=x);const P=d5e(e),$=y.root??"div",D=vo({elementType:$,externalSlotProps:m.root,externalForwardedProps:_,additionalProps:{role:"tooltip",ref:w},ownerState:e,className:P.root});return c.jsx($,{...D,children:typeof a=="function"?a(H):a})}),p5e=A.forwardRef(function(e,n){const{anchorEl:r,children:a,container:i,direction:s="ltr",disablePortal:o=!1,keepMounted:l=!1,modifiers:u,open:d,placement:h="bottom",popperOptions:m=f5e,popperRef:y,style:x,transition:v=!1,slotProps:_={},slots:C={},...w}=e,[T,E]=A.useState(!0),I=()=>{E(!1)},j=()=>{E(!0)};if(!l&&!d&&(!v||T))return null;let O;if(i)O=i;else if(r){const M=Gk(r);O=M&&u5e(M)?di(M).body:di(null).body}const L=!d&&l&&(!v||T)?"none":void 0,N=v?{in:d,onEnter:I,onExited:j}:void 0;return c.jsx(SX,{disablePortal:o,container:O,children:c.jsx(h5e,{anchorEl:r,direction:s,disablePortal:o,modifiers:u,ref:n,open:v?!T:d,placement:h,popperOptions:m,popperRef:y,slotProps:_,slots:C,...w,style:{position:"fixed",top:0,left:0,display:L,...x},TransitionProps:N,children:a})})}),m5e=$e(p5e,{name:"MuiPopper",slot:"Root"})({}),_X=A.forwardRef(function(e,n){const r=$d(),a=zt({props:e,name:"MuiPopper"}),{anchorEl:i,component:s,components:o,componentsProps:l,container:u,disablePortal:d,keepMounted:h,modifiers:m,open:y,placement:x,popperOptions:v,popperRef:_,transition:C,slots:w,slotProps:T,...E}=a,I=w?.root??o?.Root,j={anchorEl:i,container:u,disablePortal:d,keepMounted:h,modifiers:m,open:y,placement:x,popperOptions:v,popperRef:_,transition:C,...E};return c.jsx(m5e,{as:s,direction:r?"rtl":"ltr",slots:{root:I},slotProps:T??l,...j,ref:n})}),g5e=mt(c.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function y5e(t){return Mt("MuiChip",t)}const Qn=Lt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),b5e=t=>{const{classes:e,disabled:n,size:r,color:a,iconColor:i,onDelete:s,clickable:o,variant:l}=t,u={root:["root",l,n&&"disabled",`size${Ue(r)}`,`color${Ue(a)}`,o&&"clickable",o&&`clickableColor${Ue(a)}`,s&&"deletable",s&&`deletableColor${Ue(a)}`,`${l}${Ue(a)}`],label:["label",`label${Ue(r)}`],avatar:["avatar",`avatar${Ue(r)}`,`avatarColor${Ue(a)}`],icon:["icon",`icon${Ue(r)}`,`iconColor${Ue(i)}`],deleteIcon:["deleteIcon",`deleteIcon${Ue(r)}`,`deleteIconColor${Ue(a)}`,`deleteIcon${Ue(l)}Color${Ue(a)}`]};return Nt(u,y5e,e)},x5e=$e("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:a,clickable:i,onDelete:s,size:o,variant:l}=n;return[{[`& .${Qn.avatar}`]:e.avatar},{[`& .${Qn.avatar}`]:e[`avatar${Ue(o)}`]},{[`& .${Qn.avatar}`]:e[`avatarColor${Ue(r)}`]},{[`& .${Qn.icon}`]:e.icon},{[`& .${Qn.icon}`]:e[`icon${Ue(o)}`]},{[`& .${Qn.icon}`]:e[`iconColor${Ue(a)}`]},{[`& .${Qn.deleteIcon}`]:e.deleteIcon},{[`& .${Qn.deleteIcon}`]:e[`deleteIcon${Ue(o)}`]},{[`& .${Qn.deleteIcon}`]:e[`deleteIconColor${Ue(r)}`]},{[`& .${Qn.deleteIcon}`]:e[`deleteIcon${Ue(l)}Color${Ue(r)}`]},e.root,e[`size${Ue(o)}`],e[`color${Ue(r)}`],i&&e.clickable,i&&r!=="default"&&e[`clickableColor${Ue(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${Ue(r)}`],e[l],e[`${l}${Ue(r)}`]]}})(At(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Qn.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Qn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${Qn.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Qn.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Qn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Qn.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Qn.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.alpha((t.vars||t).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.alpha((t.vars||t).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Qn.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Qn.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(rr(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${Qn.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${Qn.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${Qn.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Qn.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}},...Object.entries(t.palette).filter(rr(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${Qn.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)},[`&.${Qn.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(rr(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${Qn.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Qn.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Qn.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Qn.avatar}`]:{marginLeft:4},[`& .${Qn.avatarSmall}`]:{marginLeft:2},[`& .${Qn.icon}`]:{marginLeft:4},[`& .${Qn.iconSmall}`]:{marginLeft:2},[`& .${Qn.deleteIcon}`]:{marginRight:5},[`& .${Qn.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(rr()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.alpha((t.vars||t).palette[n].main,.7)}`,[`&.${Qn.clickable}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)},[`&.${Qn.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.focusOpacity)},[`& .${Qn.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}))]}})),v5e=$e("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${Ue(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function aL(t){return t.key==="Backspace"||t.key==="Delete"}const yt=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiChip"}),{avatar:a,className:i,clickable:s,color:o="default",component:l,deleteIcon:u,disabled:d=!1,icon:h,label:m,onClick:y,onDelete:x,onKeyDown:v,onKeyUp:_,size:C="medium",variant:w="filled",tabIndex:T,skipFocusWhenDisabled:E=!1,slots:I={},slotProps:j={},...O}=r,L=A.useRef(null),N=aa(L,n),M=ie=>{ie.stopPropagation(),x&&x(ie)},H=ie=>{ie.currentTarget===ie.target&&aL(ie)&&ie.preventDefault(),v&&v(ie)},P=ie=>{ie.currentTarget===ie.target&&x&&aL(ie)&&x(ie),_&&_(ie)},$=s!==!1&&y?!0:s,D=$||x?Co:l||"div",U={...r,component:D,disabled:d,size:C,color:o,iconColor:A.isValidElement(h)&&h.props.color||o,onDelete:!!x,clickable:$,variant:w},F=b5e(U),W=D===Co?{component:l||"div",focusVisibleClassName:F.focusVisible,...x&&{disableRipple:!0}}:{};let ee=null;x&&(ee=u&&A.isValidElement(u)?A.cloneElement(u,{className:ut(u.props.className,F.deleteIcon),onClick:M}):c.jsx(g5e,{className:F.deleteIcon,onClick:M}));let Q=null;a&&A.isValidElement(a)&&(Q=A.cloneElement(a,{className:ut(F.avatar,a.props.className)}));let K=null;h&&A.isValidElement(h)&&(K=A.cloneElement(h,{className:ut(F.icon,h.props.className)}));const V={slots:I,slotProps:j},[Z,q]=Ht("root",{elementType:x5e,externalForwardedProps:{...V,...O},ownerState:U,shouldForwardComponentProp:!0,ref:N,className:ut(F.root,i),additionalProps:{disabled:$&&d?!0:void 0,tabIndex:E&&d?-1:T,...W},getSlotProps:ie=>({...ie,onClick:ce=>{ie.onClick?.(ce),y?.(ce)},onKeyDown:ce=>{ie.onKeyDown?.(ce),H(ce)},onKeyUp:ce=>{ie.onKeyUp?.(ce),P(ce)}})}),[te,ae]=Ht("label",{elementType:v5e,externalForwardedProps:V,ownerState:U,className:F.label});return c.jsxs(Z,{as:D,...q,children:[Q||K,c.jsx(te,{...ae,children:m}),ee]})});function v_(t){return parseInt(t,10)||0}const S5e={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function _5e(t){for(const e in t)return!1;return!0}function iL(t){return _5e(t)||t.outerHeightStyle===0&&!t.overflowing}const C5e=A.forwardRef(function(e,n){const{onChange:r,maxRows:a,minRows:i=1,style:s,value:o,...l}=e,{current:u}=A.useRef(o!=null),d=A.useRef(null),h=aa(n,d),m=A.useRef(null),y=A.useRef(null),x=A.useCallback(()=>{const T=d.current,E=y.current;if(!T||!E)return;const j=Ml(T).getComputedStyle(T);if(j.width==="0px")return{outerHeightStyle:0,overflowing:!1};E.style.width=j.width,E.value=T.value||e.placeholder||"x",E.value.slice(-1)===`
`&&(E.value+=" ");const O=j.boxSizing,L=v_(j.paddingBottom)+v_(j.paddingTop),N=v_(j.borderBottomWidth)+v_(j.borderTopWidth),M=E.scrollHeight;E.value="x";const H=E.scrollHeight;let P=M;i&&(P=Math.max(Number(i)*H,P)),a&&(P=Math.min(Number(a)*H,P)),P=Math.max(P,H);const $=P+(O==="border-box"?L+N:0),D=Math.abs(P-M)<=1;return{outerHeightStyle:$,overflowing:D}},[a,i,e.placeholder]),v=rs(()=>{const T=d.current,E=x();if(!T||!E||iL(E))return!1;const I=E.outerHeightStyle;return m.current!=null&&m.current!==I}),_=A.useCallback(()=>{const T=d.current,E=x();if(!T||!E||iL(E))return;const I=E.outerHeightStyle;m.current!==I&&(m.current=I,T.style.height=`${I}px`),T.style.overflow=E.overflowing?"hidden":""},[x]),C=A.useRef(-1);qs(()=>{const T=Qv(_),E=d?.current;if(!E)return;const I=Ml(E);I.addEventListener("resize",T);let j;return typeof ResizeObserver<"u"&&(j=new ResizeObserver(()=>{v()&&(j.unobserve(E),cancelAnimationFrame(C.current),_(),C.current=requestAnimationFrame(()=>{j.observe(E)}))}),j.observe(E)),()=>{T.clear(),cancelAnimationFrame(C.current),I.removeEventListener("resize",T),j&&j.disconnect()}},[x,_,v]),qs(()=>{_()});const w=T=>{u||_();const E=T.target,I=E.value.length,j=E.value.endsWith(`
`),O=E.selectionStart===I;j&&O&&E.setSelectionRange(I,I),r&&r(T)};return c.jsxs(A.Fragment,{children:[c.jsx("textarea",{value:o,onChange:w,ref:h,rows:i,style:s,...l}),c.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:y,tabIndex:-1,style:{...S5e.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function Bp({props:t,states:e,muiFormControl:n}){return e.reduce((r,a)=>(r[a]=t[a],n&&typeof t[a]>"u"&&(r[a]=n[a]),r),{})}const w5=A.createContext(void 0);function Iu(){return A.useContext(w5)}function sL(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function cC(t,e=!1){return t&&(sL(t.value)&&t.value!==""||e&&sL(t.defaultValue)&&t.defaultValue!=="")}function w5e(t){return t.startAdornment}function E5e(t){return Mt("MuiInputBase",t)}const ay=Lt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var oL;const E5=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Ue(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},T5=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},T5e=t=>{const{classes:e,color:n,disabled:r,error:a,endAdornment:i,focused:s,formControl:o,fullWidth:l,hiddenLabel:u,multiline:d,readOnly:h,size:m,startAdornment:y,type:x}=t,v={root:["root",`color${Ue(n)}`,r&&"disabled",a&&"error",l&&"fullWidth",s&&"focused",o&&"formControl",m&&m!=="medium"&&`size${Ue(m)}`,d&&"multiline",y&&"adornedStart",i&&"adornedEnd",u&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled",x==="search"&&"inputTypeSearch",d&&"inputMultiline",m==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",y&&"inputAdornedStart",i&&"inputAdornedEnd",h&&"readOnly"]};return Nt(v,E5e,e)},A5=$e("div",{name:"MuiInputBase",slot:"Root",overridesResolver:E5})(At(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ay.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),R5=$e("input",{name:"MuiInputBase",slot:"Input",overridesResolver:T5})(At(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},a=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ay.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${ay.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:i})=>!i.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:i})=>i.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),lL=oO({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),k5=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiInputBase"}),{"aria-describedby":a,autoComplete:i,autoFocus:s,className:o,color:l,components:u={},componentsProps:d={},defaultValue:h,disabled:m,disableInjectingGlobalStyles:y,endAdornment:x,error:v,fullWidth:_=!1,id:C,inputComponent:w="input",inputProps:T={},inputRef:E,margin:I,maxRows:j,minRows:O,multiline:L=!1,name:N,onBlur:M,onChange:H,onClick:P,onFocus:$,onKeyDown:D,onKeyUp:U,placeholder:F,readOnly:W,renderSuffix:ee,rows:Q,size:K,slotProps:V={},slots:Z={},startAdornment:q,type:te="text",value:ae,...ie}=r,ce=T.value!=null?T.value:ae,{current:pe}=A.useRef(ce!=null),ge=A.useRef(),oe=A.useCallback(Je=>{},[]),ue=aa(ge,E,T.ref,oe),[he,ve]=A.useState(!1),me=Iu(),le=Bp({props:r,muiFormControl:me,states:["color","disabled","error","hiddenLabel","size","required","filled"]});le.focused=me?me.focused:he,A.useEffect(()=>{!me&&m&&he&&(ve(!1),M&&M())},[me,m,he,M]);const Se=me&&me.onFilled,be=me&&me.onEmpty,Te=A.useCallback(Je=>{cC(Je)?Se&&Se():be&&be()},[Se,be]);qs(()=>{pe&&Te({value:ce})},[ce,Te,pe]);const Ne=Je=>{$&&$(Je),T.onFocus&&T.onFocus(Je),me&&me.onFocus?me.onFocus(Je):ve(!0)},Pe=Je=>{M&&M(Je),T.onBlur&&T.onBlur(Je),me&&me.onBlur?me.onBlur(Je):ve(!1)},Le=(Je,...Ge)=>{if(!pe){const it=Je.target||ge.current;if(it==null)throw new Error(qf(1));Te({value:it.value})}T.onChange&&T.onChange(Je,...Ge),H&&H(Je,...Ge)};A.useEffect(()=>{Te(ge.current)},[]);const De=Je=>{ge.current&&Je.currentTarget===Je.target&&ge.current.focus(),P&&P(Je)};let Xe=w,ke=T;L&&Xe==="input"&&(Q?ke={type:void 0,minRows:Q,maxRows:Q,...ke}:ke={type:void 0,maxRows:j,minRows:O,...ke},Xe=C5e);const Ie=Je=>{Te(Je.animationName==="mui-auto-fill-cancel"?ge.current:{value:"x"})};A.useEffect(()=>{me&&me.setAdornedStart(!!q)},[me,q]);const ye={...r,color:le.color||"primary",disabled:le.disabled,endAdornment:x,error:le.error,focused:le.focused,formControl:me,fullWidth:_,hiddenLabel:le.hiddenLabel,multiline:L,size:le.size,startAdornment:q,type:te},Ce=T5e(ye),Me=Z.root||u.Root||A5,He=V.root||d.root||{},Qe=Z.input||u.Input||R5;return ke={...ke,...V.input??d.input},c.jsxs(A.Fragment,{children:[!y&&typeof lL=="function"&&(oL||(oL=c.jsx(lL,{}))),c.jsxs(Me,{...He,ref:n,onClick:De,...ie,...!Id(Me)&&{ownerState:{...ye,...He.ownerState}},className:ut(Ce.root,He.className,o,W&&"MuiInputBase-readOnly"),children:[q,c.jsx(w5.Provider,{value:null,children:c.jsx(Qe,{"aria-invalid":le.error,"aria-describedby":a,autoComplete:i,autoFocus:s,defaultValue:h,disabled:le.disabled,id:C,onAnimationStart:Ie,name:N,placeholder:F,readOnly:W,required:le.required,rows:Q,value:ce,onKeyDown:D,onKeyUp:U,type:te,...ke,...!Id(Qe)&&{as:Xe,ownerState:{...ye,...ke.ownerState}},ref:ue,className:ut(Ce.input,ke.className,W&&"MuiInputBase-readOnly"),onBlur:Pe,onChange:Le,onFocus:Ne})}),x,ee?ee({...le,startAdornment:q}):null]})]})});function A5e(t){return Mt("MuiInput",t)}const Ex={...ay,...Lt("MuiInput",["root","underline","input"])};function R5e(t){return Mt("MuiOutlinedInput",t)}const pd={...ay,...Lt("MuiOutlinedInput",["root","notchedOutline","input"])};function k5e(t){return Mt("MuiFilledInput",t)}const jm={...ay,...Lt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},I5e=mt(c.jsx("path",{d:"M7 10l5 5 5-5z"})),j5e={entering:{opacity:1},entered:{opacity:1}},qk=A.forwardRef(function(e,n){const r=os(),a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:s=!0,children:o,easing:l,in:u,onEnter:d,onEntered:h,onEntering:m,onExit:y,onExited:x,onExiting:v,style:_,timeout:C=a,TransitionComponent:w=Bc,...T}=e,E=A.useRef(null),I=aa(E,Fp(o),n),j=D=>U=>{if(D){const F=E.current;U===void 0?D(F):D(F,U)}},O=j(m),L=j((D,U)=>{mO(D);const F=Ip({style:_,timeout:C,easing:l},{mode:"enter"});D.style.webkitTransition=r.transitions.create("opacity",F),D.style.transition=r.transitions.create("opacity",F),d&&d(D,U)}),N=j(h),M=j(v),H=j(D=>{const U=Ip({style:_,timeout:C,easing:l},{mode:"exit"});D.style.webkitTransition=r.transitions.create("opacity",U),D.style.transition=r.transitions.create("opacity",U),y&&y(D)}),P=j(x),$=D=>{i&&i(E.current,D)};return c.jsx(w,{appear:s,in:u,nodeRef:E,onEnter:L,onEntered:N,onEntering:O,onExit:H,onExited:P,onExiting:M,addEndListener:$,timeout:C,...T,children:(D,{ownerState:U,...F})=>A.cloneElement(o,{style:{opacity:0,visibility:D==="exited"&&!u?"hidden":void 0,...j5e[D],..._,...o.props.style},ref:I,...F})})});function O5e(t){return Mt("MuiBackdrop",t)}Lt("MuiBackdrop",["root","invisible"]);const D5e=t=>{const{classes:e,invisible:n}=t;return Nt({root:["root",n&&"invisible"]},O5e,e)},M5e=$e("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),CX=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiBackdrop"}),{children:a,className:i,component:s="div",invisible:o=!1,open:l,components:u={},componentsProps:d={},slotProps:h={},slots:m={},TransitionComponent:y,transitionDuration:x,...v}=r,_={...r,component:s,invisible:o},C=D5e(_),w={transition:y,root:u.Root,...m},T={...d,...h},E={component:s,slots:w,slotProps:T},[I,j]=Ht("root",{elementType:M5e,externalForwardedProps:E,className:ut(C.root,i),ownerState:_}),[O,L]=Ht("transition",{elementType:qk,externalForwardedProps:E,ownerState:_});return c.jsx(O,{in:l,timeout:x,...v,...L,children:c.jsx(I,{"aria-hidden":!0,...j,classes:C,ref:n,children:a})})});function N5e(t){const{badgeContent:e,invisible:n=!1,max:r=99,showZero:a=!1}=t,i=dX({badgeContent:e,max:r});let s=n;n===!1&&e===0&&!a&&(s=!0);const{badgeContent:o,max:l=r}=s?i:t,u=o&&Number(o)>l?`${l}+`:o;return{badgeContent:o,invisible:s,max:l,displayValue:u}}function P5e(t){return Mt("MuiBadge",t)}const Gh=Lt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),tT=10,nT=4,L5e=t=>{const{color:e,anchorOrigin:n,invisible:r,overlap:a,variant:i,classes:s={}}=t,o={root:["root"],badge:["badge",i,r&&"invisible",`anchorOrigin${Ue(n.vertical)}${Ue(n.horizontal)}`,`anchorOrigin${Ue(n.vertical)}${Ue(n.horizontal)}${Ue(a)}`,`overlap${Ue(a)}`,e!=="default"&&`color${Ue(e)}`]};return Nt(o,P5e,s)},z5e=$e("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),F5e=$e("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.badge,e[n.variant],e[`anchorOrigin${Ue(n.anchorOrigin.vertical)}${Ue(n.anchorOrigin.horizontal)}${Ue(n.overlap)}`],n.color!=="default"&&e[`color${Ue(n.color)}`],n.invisible&&e.invisible]}})(At(({theme:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:tT*2,lineHeight:1,padding:"0 6px",height:tT*2,borderRadius:tT,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(rr(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}})),{props:{variant:"dot"},style:{borderRadius:nT,height:nT*2,minWidth:nT*2,padding:0}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Gh.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Gh.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Gh.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Gh.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Gh.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Gh.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Gh.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Gh.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]})));function cL(t){return{vertical:t?.vertical??"top",horizontal:t?.horizontal??"right"}}const uL=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiBadge"}),{anchorOrigin:a,className:i,classes:s,component:o,components:l={},componentsProps:u={},children:d,overlap:h="rectangular",color:m="default",invisible:y=!1,max:x=99,badgeContent:v,slots:_,slotProps:C,showZero:w=!1,variant:T="standard",...E}=r,{badgeContent:I,invisible:j,max:O,displayValue:L}=N5e({max:x,invisible:y,badgeContent:v,showZero:w}),N=dX({anchorOrigin:cL(a),color:m,overlap:h,variant:T,badgeContent:v}),M=j||I==null&&T!=="dot",{color:H=m,overlap:P=h,anchorOrigin:$,variant:D=T}=M?N:r,U=cL($),F=D!=="dot"?L:void 0,W={...r,badgeContent:I,invisible:M,max:O,displayValue:F,showZero:w,anchorOrigin:U,color:H,overlap:P,variant:D},ee=L5e(W),Q={slots:{root:_?.root??l.Root,badge:_?.badge??l.Badge},slotProps:{root:C?.root??u.root,badge:C?.badge??u.badge}},[K,V]=Ht("root",{elementType:z5e,externalForwardedProps:{...Q,...E},ownerState:W,className:ut(ee.root,i),ref:n,additionalProps:{as:o}}),[Z,q]=Ht("badge",{elementType:F5e,externalForwardedProps:Q,ownerState:W,className:ee.badge});return c.jsxs(K,{...V,children:[d,c.jsx(Z,{...q,children:F})]})}),B5e=Lt("MuiBox",["root"]),H5e=x5(),J=Sce({themeId:vu,defaultTheme:H5e,defaultClassName:B5e.root,generateClassName:fK.generate}),U5e=mt(c.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),$5e=$e(Co,{name:"MuiBreadcrumbCollapsed"})(At(({theme:t})=>({display:"flex",marginLeft:`calc(${t.spacing(1)} * 0.5)`,marginRight:`calc(${t.spacing(1)} * 0.5)`,...t.palette.mode==="light"?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},borderRadius:2,"&:hover, &:focus":{...t.palette.mode==="light"?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}},"&:active":{boxShadow:t.shadows[0],...t.palette.mode==="light"?{backgroundColor:nv(t.palette.grey[200],.12)}:{backgroundColor:nv(t.palette.grey[600],.12)}}}))),G5e=$e(U5e)({width:24,height:16});function q5e(t){const{slots:e={},slotProps:n={},...r}=t,a=t;return c.jsx("li",{children:c.jsx($5e,{focusRipple:!0,...r,ownerState:a,children:c.jsx(G5e,{as:e.CollapsedIcon,ownerState:a,...n.collapsedIcon})})})}function V5e(t){return Mt("MuiBreadcrumbs",t)}const W5e=Lt("MuiBreadcrumbs",["root","ol","li","separator"]),Y5e=t=>{const{classes:e}=t;return Nt({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},V5e,e)},K5e=$e(re,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(t,e)=>[{[`& .${W5e.li}`]:e.li},e.root]})({}),X5e=$e("ol",{name:"MuiBreadcrumbs",slot:"Ol"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),Q5e=$e("li",{name:"MuiBreadcrumbs",slot:"Separator"})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function Z5e(t,e,n,r){return t.reduce((a,i,s)=>(s<t.length-1?a=a.concat(i,c.jsx(Q5e,{"aria-hidden":!0,className:e,ownerState:r,children:n},`separator-${s}`)):a.push(i),a),[])}const J5e=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiBreadcrumbs"}),{children:a,className:i,component:s="nav",slots:o={},slotProps:l={},expandText:u="Show path",itemsAfterCollapse:d=1,itemsBeforeCollapse:h=1,maxItems:m=8,separator:y="/",...x}=r,[v,_]=A.useState(!1),C={...r,component:s,expanded:v,expandText:u,itemsAfterCollapse:d,itemsBeforeCollapse:h,maxItems:m,separator:y},w=Y5e(C),T=vo({elementType:o.CollapsedIcon,externalSlotProps:l.collapsedIcon,ownerState:C}),E=A.useRef(null),I=O=>{const L=()=>{_(!0);const N=E.current.querySelector("a[href],button,[tabindex]");N&&N.focus()};return h+d>=O.length?O:[...O.slice(0,h),c.jsx(q5e,{"aria-label":u,slots:{CollapsedIcon:o.CollapsedIcon},slotProps:{collapsedIcon:T},onClick:L},"ellipsis"),...O.slice(O.length-d,O.length)]},j=A.Children.toArray(a).filter(O=>A.isValidElement(O)).map((O,L)=>c.jsx("li",{className:w.li,children:O},`child-${L}`));return c.jsx(K5e,{ref:n,component:s,color:"textSecondary",className:ut(w.root,i),ownerState:C,...x,children:c.jsx(X5e,{className:w.ol,ref:E,ownerState:C,children:Z5e(v||m&&j.length<=m?j:I(j),w.separator,y,C)})})});function ewe(t){return Mt("MuiButton",t)}const Om=Lt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),twe=A.createContext({}),nwe=A.createContext(void 0),rwe=t=>{const{color:e,disableElevation:n,fullWidth:r,size:a,variant:i,loading:s,loadingPosition:o,classes:l}=t,u={root:["root",s&&"loading",i,`${i}${Ue(e)}`,`size${Ue(a)}`,`${i}Size${Ue(a)}`,`color${Ue(e)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${Ue(o)}`],startIcon:["icon","startIcon",`iconSize${Ue(a)}`],endIcon:["icon","endIcon",`iconSize${Ue(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},d=Nt(u,ewe,l);return{...l,...d}},wX=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],awe=$e(Co,{shouldForwardProp:t=>ki(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ue(n.color)}`],e[`size${Ue(n.size)}`],e[`${n.variant}Size${Ue(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(At(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Om.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Om.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Om.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Om.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(rr()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Om.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Om.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Om.loading}`]:{color:"transparent"}}}]}})),iwe=$e("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${Ue(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...wX]})),swe=$e("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${Ue(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...wX]})),owe=$e("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),dL=$e("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Ke=A.forwardRef(function(e,n){const r=A.useContext(twe),a=A.useContext(nwe),i=J1(r,e),s=zt({props:i,name:"MuiButton"}),{children:o,color:l="primary",component:u="button",className:d,disabled:h=!1,disableElevation:m=!1,disableFocusRipple:y=!1,endIcon:x,focusVisibleClassName:v,fullWidth:_=!1,id:C,loading:w=null,loadingIndicator:T,loadingPosition:E="center",size:I="medium",startIcon:j,type:O,variant:L="text",...N}=s,M=Nd(C),H=T??c.jsx(Kt,{"aria-labelledby":M,color:"inherit",size:16}),P={...s,color:l,component:u,disabled:h,disableElevation:m,disableFocusRipple:y,fullWidth:_,loading:w,loadingIndicator:H,loadingPosition:E,size:I,type:O,variant:L},$=rwe(P),D=(j||w&&E==="start")&&c.jsx(iwe,{className:$.startIcon,ownerState:P,children:j||c.jsx(dL,{className:$.loadingIconPlaceholder,ownerState:P})}),U=(x||w&&E==="end")&&c.jsx(swe,{className:$.endIcon,ownerState:P,children:x||c.jsx(dL,{className:$.loadingIconPlaceholder,ownerState:P})}),F=a||"",W=typeof w=="boolean"?c.jsx("span",{className:$.loadingWrapper,style:{display:"contents"},children:w&&c.jsx(owe,{className:$.loadingIndicator,ownerState:P,children:H})}):null;return c.jsxs(awe,{ownerState:P,className:ut(r.className,$.root,d,F),component:u,disabled:h||w,focusRipple:!y,focusVisibleClassName:ut($.focusVisible,v),ref:n,type:O,id:w?M:C,...N,classes:$,children:[D,E!=="end"&&W,o,E==="end"&&W,U]})});function lwe(t){return A.Children.toArray(t).filter(e=>A.isValidElement(e))}function cwe(t){return Mt("MuiCard",t)}Lt("MuiCard",["root"]);const uwe=t=>{const{classes:e}=t;return Nt({root:["root"]},cwe,e)},dwe=$e(Yt,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),gr=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiCard"}),{className:a,raised:i=!1,...s}=r,o={...r,raised:i},l=uwe(o);return c.jsx(dwe,{className:ut(l.root,a),elevation:i?8:void 0,ref:n,ownerState:o,...s})});function fwe(t){return Mt("MuiCardActionArea",t)}const rT=Lt("MuiCardActionArea",["root","focusVisible","focusHighlight"]),hwe=t=>{const{classes:e}=t;return Nt({root:["root"],focusHighlight:["focusHighlight"]},fwe,e)},pwe=$e(Co,{name:"MuiCardActionArea",slot:"Root"})(At(({theme:t})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${rT.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${rT.focusVisible} .${rT.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}}))),mwe=$e("span",{name:"MuiCardActionArea",slot:"FocusHighlight"})(At(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})}))),gwe=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiCardActionArea"}),{children:a,className:i,focusVisibleClassName:s,slots:o={},slotProps:l={},...u}=r,d=r,h=hwe(d),m={slots:o,slotProps:l},[y,x]=Ht("root",{elementType:pwe,externalForwardedProps:{...m,...u},shouldForwardComponentProp:!0,ownerState:d,ref:n,className:ut(h.root,i),additionalProps:{focusVisibleClassName:ut(s,h.focusVisible)}}),[v,_]=Ht("focusHighlight",{elementType:mwe,externalForwardedProps:m,ownerState:d,ref:n,className:h.focusHighlight});return c.jsxs(y,{...x,children:[a,c.jsx(v,{..._})]})});function ywe(t){return Mt("MuiCardActions",t)}Lt("MuiCardActions",["root","spacing"]);const bwe=t=>{const{classes:e,disableSpacing:n}=t;return Nt({root:["root",!n&&"spacing"]},ywe,e)},xwe=$e("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Vk=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiCardActions"}),{disableSpacing:a=!1,className:i,...s}=r,o={...r,disableSpacing:a},l=bwe(o);return c.jsx(xwe,{className:ut(l.root,i),ownerState:o,ref:n,...s})});function vwe(t){return Mt("MuiCardContent",t)}Lt("MuiCardContent",["root"]);const Swe=t=>{const{classes:e}=t;return Nt({root:["root"]},vwe,e)},_we=$e("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),Ba=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiCardContent"}),{className:a,component:i="div",...s}=r,o={...r,component:i},l=Swe(o);return c.jsx(_we,{as:i,className:ut(l.root,a),ownerState:o,ref:n,...s})});function Cwe(t){return Mt("MuiCardMedia",t)}Lt("MuiCardMedia",["root","media","img"]);const wwe=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return Nt({root:["root",n&&"media",r&&"img"]},Cwe,e)},Ewe=$e("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:a}=n;return[e.root,r&&e.media,a&&e.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),Twe=["video","audio","picture","iframe","img"],Awe=["picture","img"],$s=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiCardMedia"}),{children:a,className:i,component:s="div",image:o,src:l,style:u,...d}=r,h=Twe.includes(s),m=!h&&o?{backgroundImage:`url("${o}")`,...u}:u,y={...r,component:s,isMediaComponent:h,isImageComponent:Awe.includes(s)},x=wwe(y);return c.jsx(Ewe,{className:ut(x.root,i),as:s,role:!h&&o?"img":void 0,ref:n,style:m,ownerState:y,src:h?o||l:void 0,...d,children:a})});function Rwe(t){return Mt("PrivateSwitchBase",t)}Lt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const kwe=t=>{const{classes:e,checked:n,disabled:r,edge:a}=t,i={root:["root",n&&"checked",r&&"disabled",a&&`edge${Ue(a)}`],input:["input"]};return Nt(i,Rwe,e)},Iwe=$e(Co,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),jwe=$e("input",{name:"MuiSwitchBase",shouldForwardProp:ki})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),CO=A.forwardRef(function(e,n){const{autoFocus:r,checked:a,checkedIcon:i,defaultChecked:s,disabled:o,disableFocusRipple:l=!1,edge:u=!1,icon:d,id:h,inputProps:m,inputRef:y,name:x,onBlur:v,onChange:_,onFocus:C,readOnly:w,required:T=!1,tabIndex:E,type:I,value:j,slots:O={},slotProps:L={},...N}=e,[M,H]=kp({controlled:a,default:!!s,name:"SwitchBase",state:"checked"}),P=Iu(),$=ae=>{C&&C(ae),P&&P.onFocus&&P.onFocus(ae)},D=ae=>{v&&v(ae),P&&P.onBlur&&P.onBlur(ae)},U=ae=>{if(ae.nativeEvent.defaultPrevented)return;const ie=ae.target.checked;H(ie),_&&_(ae,ie)};let F=o;P&&typeof F>"u"&&(F=P.disabled);const W=I==="checkbox"||I==="radio",ee={...e,checked:M,disabled:F,disableFocusRipple:l,edge:u},Q=kwe(ee),K={slots:O,slotProps:{input:m,...L}},[V,Z]=Ht("root",{ref:n,elementType:Iwe,className:Q.root,shouldForwardComponentProp:!0,externalForwardedProps:{...K,component:"span",...N},getSlotProps:ae=>({...ae,onFocus:ie=>{ae.onFocus?.(ie),$(ie)},onBlur:ie=>{ae.onBlur?.(ie),D(ie)}}),ownerState:ee,additionalProps:{centerRipple:!0,focusRipple:!l,disabled:F,role:void 0,tabIndex:null}}),[q,te]=Ht("input",{ref:y,elementType:jwe,className:Q.input,externalForwardedProps:K,getSlotProps:ae=>({...ae,onChange:ie=>{ae.onChange?.(ie),U(ie)}}),ownerState:ee,additionalProps:{autoFocus:r,checked:a,defaultChecked:s,disabled:F,id:W?h:void 0,name:x,readOnly:w,required:T,tabIndex:E,type:I,...I==="checkbox"&&j===void 0?{}:{value:j}}});return c.jsxs(V,{...Z,children:[c.jsx(q,{...te}),M?i:d]})}),Owe=mt(c.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),Dwe=mt(c.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),Mwe=mt(c.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function Nwe(t){return Mt("MuiCheckbox",t)}const aT=Lt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Pwe=t=>{const{classes:e,indeterminate:n,color:r,size:a}=t,i={root:["root",n&&"indeterminate",`color${Ue(r)}`,`size${Ue(a)}`]},s=Nt(i,Nwe,e);return{...e,...s}},Lwe=$e(CO,{shouldForwardProp:t=>ki(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${Ue(n.size)}`],n.color!=="default"&&e[`color${Ue(n.color)}`]]}})(At(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{[`&.${aT.checked}, &.${aT.indeterminate}`]:{color:(t.vars||t).palette[e].main},[`&.${aT.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),zwe=c.jsx(Dwe,{}),Fwe=c.jsx(Owe,{}),Bwe=c.jsx(Mwe,{}),Bf=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiCheckbox"}),{checkedIcon:a=zwe,color:i="primary",icon:s=Fwe,indeterminate:o=!1,indeterminateIcon:l=Bwe,inputProps:u,size:d="medium",disableRipple:h=!1,className:m,slots:y={},slotProps:x={},...v}=r,_=o?l:s,C=o?l:a,w={...r,disableRipple:h,color:i,indeterminate:o,size:d},T=Pwe(w),E=x.input??u,[I,j]=Ht("root",{ref:n,elementType:Lwe,className:ut(T.root,m),shouldForwardComponentProp:!0,externalForwardedProps:{slots:y,slotProps:x,...v},ownerState:w,additionalProps:{type:"checkbox",icon:A.cloneElement(_,{fontSize:_.props.fontSize??d}),checkedIcon:A.cloneElement(C,{fontSize:C.props.fontSize??d}),disableRipple:h,slots:y,slotProps:{input:fO(typeof E=="function"?E(w):E,{"data-indeterminate":o})}}});return c.jsx(I,{...j,classes:T})});function fL(t){return t.substring(2).toLowerCase()}function Hwe(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function Uwe(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:a,touchEvent:i="onTouchEnd"}=t,s=A.useRef(!1),o=A.useRef(null),l=A.useRef(!1),u=A.useRef(!1);A.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const d=aa(Fp(e),o),h=rs(x=>{const v=u.current;u.current=!1;const _=di(o.current);if(!l.current||!o.current||"clientX"in x&&Hwe(x,_))return;if(s.current){s.current=!1;return}let C;x.composedPath?C=x.composedPath().includes(o.current):C=!_.documentElement.contains(x.target)||o.current.contains(x.target),!C&&(n||!v)&&a(x)}),m=x=>v=>{u.current=!0;const _=e.props[x];_&&_(v)},y={ref:d};return i!==!1&&(y[i]=m(i)),A.useEffect(()=>{if(i!==!1){const x=fL(i),v=di(o.current),_=()=>{s.current=!0};return v.addEventListener(x,h),v.addEventListener("touchmove",_),()=>{v.removeEventListener(x,h),v.removeEventListener("touchmove",_)}}},[h,i]),r!==!1&&(y[r]=m(r)),A.useEffect(()=>{if(r!==!1){const x=fL(r),v=di(o.current);return v.addEventListener(x,h),()=>{v.removeEventListener(x,h)}}},[h,r]),A.cloneElement(e,y)}const hg=due({createStyledComponent:$e("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ue(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>zt({props:t,name:"MuiContainer"})});function EX(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function $we(t){const e=di(t);return e.body===t?Ml(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function A2(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function hL(t){return parseInt(Ml(t).getComputedStyle(t).paddingRight,10)||0}function Gwe(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function pL(t,e,n,r,a){const i=[e,n,...r];[].forEach.call(t.children,s=>{const o=!i.includes(s),l=!Gwe(s);o&&l&&A2(s,a)})}function iT(t,e){let n=-1;return t.some((r,a)=>e(r)?(n=a,!0):!1),n}function qwe(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if($we(r)){const s=EX(Ml(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${hL(r)+s}px`;const o=di(r).querySelectorAll(".mui-fixed");[].forEach.call(o,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${hL(l)+s}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=di(r).body;else{const s=r.parentElement,o=Ml(r);i=s?.nodeName==="HTML"&&o.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:s,property:o})=>{i?s.style.setProperty(o,i):s.style.removeProperty(o)})}}function Vwe(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class Wwe{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&A2(e.modalRef,!1);const a=Vwe(n);pL(n,e.mount,e.modalRef,a,!0);const i=iT(this.containers,s=>s.container===n);return i!==-1?(this.containers[i].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:a}),r)}mount(e,n){const r=iT(this.containers,i=>i.modals.includes(e)),a=this.containers[r];a.restore||(a.restore=qwe(a,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const a=iT(this.containers,s=>s.modals.includes(e)),i=this.containers[a];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),e.modalRef&&A2(e.modalRef,n),pL(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(a,1);else{const s=i.modals[i.modals.length-1];s.modalRef&&A2(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const Ywe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Kwe(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Xwe(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Qwe(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Xwe(t))}function Zwe(t){const e=[],n=[];return Array.from(t.querySelectorAll(Ywe)).forEach((r,a)=>{const i=Kwe(r);i===-1||!Qwe(r)||(i===0?e.push(r):n.push({documentOrder:a,tabIndex:i,node:r}))}),n.sort((r,a)=>r.tabIndex===a.tabIndex?r.documentOrder-a.documentOrder:r.tabIndex-a.tabIndex).map(r=>r.node).concat(e)}function Jwe(){return!0}function eEe(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:a=!1,getTabbable:i=Zwe,isEnabled:s=Jwe,open:o}=t,l=A.useRef(!1),u=A.useRef(null),d=A.useRef(null),h=A.useRef(null),m=A.useRef(null),y=A.useRef(!1),x=A.useRef(null),v=aa(Fp(e),x),_=A.useRef(null);A.useEffect(()=>{!o||!x.current||(y.current=!n)},[n,o]),A.useEffect(()=>{if(!o||!x.current)return;const T=di(x.current);return x.current.contains(T.activeElement)||(x.current.hasAttribute("tabIndex")||x.current.setAttribute("tabIndex","-1"),y.current&&x.current.focus()),()=>{a||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[o]),A.useEffect(()=>{if(!o||!x.current)return;const T=di(x.current),E=O=>{_.current=O,!(r||!s()||O.key!=="Tab")&&T.activeElement===x.current&&O.shiftKey&&(l.current=!0,d.current&&d.current.focus())},I=()=>{const O=x.current;if(O===null)return;if(!T.hasFocus()||!s()||l.current){l.current=!1;return}if(O.contains(T.activeElement)||r&&T.activeElement!==u.current&&T.activeElement!==d.current)return;if(T.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!y.current)return;let L=[];if((T.activeElement===u.current||T.activeElement===d.current)&&(L=i(x.current)),L.length>0){const N=!!(_.current?.shiftKey&&_.current?.key==="Tab"),M=L[0],H=L[L.length-1];typeof M!="string"&&typeof H!="string"&&(N?H.focus():M.focus())}else O.focus()};T.addEventListener("focusin",I),T.addEventListener("keydown",E,!0);const j=setInterval(()=>{T.activeElement&&T.activeElement.tagName==="BODY"&&I()},50);return()=>{clearInterval(j),T.removeEventListener("focusin",I),T.removeEventListener("keydown",E,!0)}},[n,r,a,s,o,i]);const C=T=>{h.current===null&&(h.current=T.relatedTarget),y.current=!0,m.current=T.target;const E=e.props.onFocus;E&&E(T)},w=T=>{h.current===null&&(h.current=T.relatedTarget),y.current=!0};return c.jsxs(A.Fragment,{children:[c.jsx("div",{tabIndex:o?0:-1,onFocus:w,ref:u,"data-testid":"sentinelStart"}),A.cloneElement(e,{ref:v,onFocus:C}),c.jsx("div",{tabIndex:o?0:-1,onFocus:w,ref:d,"data-testid":"sentinelEnd"})]})}function tEe(t){return typeof t=="function"?t():t}function nEe(t){return t?t.props.hasOwnProperty("in"):!1}const mL=()=>{},S_=new Wwe;function rEe(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:a=!1,onTransitionEnter:i,onTransitionExited:s,children:o,onClose:l,open:u,rootRef:d}=t,h=A.useRef({}),m=A.useRef(null),y=A.useRef(null),x=aa(y,d),[v,_]=A.useState(!u),C=nEe(o);let w=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(w=!1);const T=()=>di(m.current),E=()=>(h.current.modalRef=y.current,h.current.mount=m.current,h.current),I=()=>{S_.mount(E(),{disableScrollLock:r}),y.current&&(y.current.scrollTop=0)},j=rs(()=>{const U=tEe(e)||T().body;S_.add(E(),U),y.current&&I()}),O=()=>S_.isTopModal(E()),L=rs(U=>{m.current=U,U&&(u&&O()?I():y.current&&A2(y.current,w))}),N=A.useCallback(()=>{S_.remove(E(),w)},[w]);A.useEffect(()=>()=>{N()},[N]),A.useEffect(()=>{u?j():(!C||!a)&&N()},[u,N,C,a,j]);const M=U=>F=>{U.onKeyDown?.(F),!(F.key!=="Escape"||F.which===229||!O())&&(n||(F.stopPropagation(),l&&l(F,"escapeKeyDown")))},H=U=>F=>{U.onClick?.(F),F.target===F.currentTarget&&l&&l(F,"backdropClick")};return{getRootProps:(U={})=>{const F=dg(t);delete F.onTransitionEnter,delete F.onTransitionExited;const W={...F,...U};return{role:"presentation",...W,onKeyDown:M(W),ref:x}},getBackdropProps:(U={})=>{const F=U;return{"aria-hidden":!0,...F,onClick:H(F),open:u}},getTransitionProps:()=>{const U=()=>{_(!1),i&&i()},F=()=>{_(!0),s&&s(),a&&N()};return{onEnter:Nk(U,o?.props.onEnter??mL),onExited:Nk(F,o?.props.onExited??mL)}},rootRef:x,portalRef:L,isTopModal:O,exited:v,hasTransition:C}}function aEe(t){return Mt("MuiModal",t)}Lt("MuiModal",["root","hidden","backdrop"]);const iEe=t=>{const{open:e,exited:n,classes:r}=t;return Nt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},aEe,r)},sEe=$e("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(At(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),oEe=$e(CX,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),wO=A.forwardRef(function(e,n){const r=zt({name:"MuiModal",props:e}),{BackdropComponent:a=oEe,BackdropProps:i,classes:s,className:o,closeAfterTransition:l=!1,children:u,container:d,component:h,components:m={},componentsProps:y={},disableAutoFocus:x=!1,disableEnforceFocus:v=!1,disableEscapeKeyDown:_=!1,disablePortal:C=!1,disableRestoreFocus:w=!1,disableScrollLock:T=!1,hideBackdrop:E=!1,keepMounted:I=!1,onClose:j,onTransitionEnter:O,onTransitionExited:L,open:N,slotProps:M={},slots:H={},theme:P,...$}=r,D={...r,closeAfterTransition:l,disableAutoFocus:x,disableEnforceFocus:v,disableEscapeKeyDown:_,disablePortal:C,disableRestoreFocus:w,disableScrollLock:T,hideBackdrop:E,keepMounted:I},{getRootProps:U,getBackdropProps:F,getTransitionProps:W,portalRef:ee,isTopModal:Q,exited:K,hasTransition:V}=rEe({...D,rootRef:n}),Z={...D,exited:K},q=iEe(Z),te={};if(u.props.tabIndex===void 0&&(te.tabIndex="-1"),V){const{onEnter:oe,onExited:ue}=W();te.onEnter=oe,te.onExited=ue}const ae={slots:{root:m.Root,backdrop:m.Backdrop,...H},slotProps:{...y,...M}},[ie,ce]=Ht("root",{ref:n,elementType:sEe,externalForwardedProps:{...ae,...$,component:h},getSlotProps:U,ownerState:Z,className:ut(o,q?.root,!Z.open&&Z.exited&&q?.hidden)}),[pe,ge]=Ht("backdrop",{ref:i?.ref,elementType:a,externalForwardedProps:ae,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:oe=>F({...oe,onClick:ue=>{oe?.onClick&&oe.onClick(ue)}}),className:ut(i?.className,q?.backdrop),ownerState:Z});return!I&&!N&&(!V||K)?null:c.jsx(SX,{ref:ee,container:d,disablePortal:C,children:c.jsxs(ie,{...ce,children:[!E&&a?c.jsx(pe,{...ge}):null,c.jsx(eEe,{disableEnforceFocus:v,disableAutoFocus:x,disableRestoreFocus:w,isEnabled:Q,open:N,children:A.cloneElement(u,te)})]})})});function lEe(t){return Mt("MuiDialog",t)}const sT=Lt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),TX=A.createContext({}),cEe=$e(CX,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),uEe=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:a,fullScreen:i}=t,s={root:["root"],container:["container",`scroll${Ue(n)}`],paper:["paper",`paperScroll${Ue(n)}`,`paperWidth${Ue(String(r))}`,a&&"paperFullWidth",i&&"paperFullScreen"]};return Nt(s,lEe,e)},dEe=$e(wO,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),fEe=$e("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${Ue(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),hEe=$e(Yt,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${Ue(n.scroll)}`],e[`paperWidth${Ue(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(At(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${sT.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${sT.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${sT.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),or=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiDialog"}),a=os(),i={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":o,"aria-modal":l=!0,BackdropComponent:u,BackdropProps:d,children:h,className:m,disableEscapeKeyDown:y=!1,fullScreen:x=!1,fullWidth:v=!1,maxWidth:_="sm",onClick:C,onClose:w,open:T,PaperComponent:E=Yt,PaperProps:I={},scroll:j="paper",slots:O={},slotProps:L={},TransitionComponent:N=qk,transitionDuration:M=i,TransitionProps:H,...P}=r,$={...r,disableEscapeKeyDown:y,fullScreen:x,fullWidth:v,maxWidth:_,scroll:j},D=uEe($),U=A.useRef(),F=ve=>{U.current=ve.target===ve.currentTarget},W=ve=>{C&&C(ve),U.current&&(U.current=null,w&&w(ve,"backdropClick"))},ee=Nd(o),Q=A.useMemo(()=>({titleId:ee}),[ee]),K={transition:N,...O},V={transition:H,paper:I,backdrop:d,...L},Z={slots:K,slotProps:V},[q,te]=Ht("root",{elementType:dEe,shouldForwardComponentProp:!0,externalForwardedProps:Z,ownerState:$,className:ut(D.root,m),ref:n}),[ae,ie]=Ht("backdrop",{elementType:cEe,shouldForwardComponentProp:!0,externalForwardedProps:Z,ownerState:$}),[ce,pe]=Ht("paper",{elementType:hEe,shouldForwardComponentProp:!0,externalForwardedProps:Z,ownerState:$,className:ut(D.paper,I.className)}),[ge,oe]=Ht("container",{elementType:fEe,externalForwardedProps:Z,ownerState:$,className:D.container}),[ue,he]=Ht("transition",{elementType:qk,externalForwardedProps:Z,ownerState:$,additionalProps:{appear:!0,in:T,timeout:M,role:"presentation"}});return c.jsx(q,{closeAfterTransition:!0,slots:{backdrop:ae},slotProps:{backdrop:{transitionDuration:M,as:u,...ie}},disableEscapeKeyDown:y,onClose:w,open:T,onClick:W,...te,...P,children:c.jsx(ue,{...he,children:c.jsx(ge,{onMouseDown:F,...oe,children:c.jsx(ce,{as:E,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":ee,"aria-modal":l,...pe,children:c.jsx(TX.Provider,{value:Q,children:h})})})})})});function pEe(t){return Mt("MuiDialogActions",t)}Lt("MuiDialogActions",["root","spacing"]);const mEe=t=>{const{classes:e,disableSpacing:n}=t;return Nt({root:["root",!n&&"spacing"]},pEe,e)},gEe=$e("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),yr=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiDialogActions"}),{className:a,disableSpacing:i=!1,...s}=r,o={...r,disableSpacing:i},l=mEe(o);return c.jsx(gEe,{className:ut(l.root,a),ownerState:o,ref:n,...s})});function yEe(t){return Mt("MuiDialogContent",t)}Lt("MuiDialogContent",["root","dividers"]);function bEe(t){return Mt("MuiDialogTitle",t)}const xEe=Lt("MuiDialogTitle",["root"]),vEe=t=>{const{classes:e,dividers:n}=t;return Nt({root:["root",n&&"dividers"]},yEe,e)},SEe=$e("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(At(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${xEe.root} + &`]:{paddingTop:0}}}]}))),hr=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiDialogContent"}),{className:a,dividers:i=!1,...s}=r,o={...r,dividers:i},l=vEe(o);return c.jsx(SEe,{className:ut(l.root,a),ownerState:o,ref:n,...s})});function _Ee(t){return Mt("MuiDialogContentText",t)}Lt("MuiDialogContentText",["root"]);const CEe=t=>{const{classes:e}=t,r=Nt({root:["root"]},_Ee,e);return{...e,...r}},wEe=$e(re,{shouldForwardProp:t=>ki(t)||t==="classes",name:"MuiDialogContentText",slot:"Root"})({}),Dp=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiDialogContentText"}),{children:a,className:i,...s}=r,o=CEe(s);return c.jsx(wEe,{component:"p",variant:"body1",color:"textSecondary",ref:n,ownerState:s,className:ut(o.root,i),...r,classes:o})}),EEe=t=>{const{classes:e}=t;return Nt({root:["root"]},bEe,e)},TEe=$e(re,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),pr=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiDialogTitle"}),{className:a,id:i,...s}=r,o=r,l=EEe(o),{titleId:u=i}=A.useContext(TX);return c.jsx(TEe,{component:"h2",className:ut(l.root,a),ownerState:o,ref:n,variant:"h6",id:i??u,...s})});function AEe(t){return Mt("MuiDivider",t)}const gL=Lt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),REe=t=>{const{absolute:e,children:n,classes:r,flexItem:a,light:i,orientation:s,textAlign:o,variant:l}=t;return Nt({root:["root",e&&"absolute",l,i&&"light",s==="vertical"&&"vertical",a&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",o==="right"&&s!=="vertical"&&"textAlignRight",o==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},AEe,r)},kEe=$e("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(At(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.alpha((t.vars||t).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),IEe=$e("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(At(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),yn=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiDivider"}),{absolute:a=!1,children:i,className:s,orientation:o="horizontal",component:l=i||o==="vertical"?"div":"hr",flexItem:u=!1,light:d=!1,role:h=l!=="hr"?"separator":void 0,textAlign:m="center",variant:y="fullWidth",...x}=r,v={...r,absolute:a,component:l,flexItem:u,light:d,orientation:o,role:h,textAlign:m,variant:y},_=REe(v);return c.jsx(kEe,{as:l,className:ut(_.root,s),role:h,ref:n,ownerState:v,"aria-orientation":h==="separator"&&(l!=="hr"||o==="vertical")?o:void 0,...x,children:i?c.jsx(IEe,{className:_.wrapper,ownerState:v,children:i}):null})});yn&&(yn.muiSkipListHighlight=!0);function jEe(t,e,n){const r=e.getBoundingClientRect(),a=n&&n.getBoundingClientRect(),i=Ml(e);let s;if(e.fakeTransform)s=e.fakeTransform;else{const u=i.getComputedStyle(e);s=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let o=0,l=0;if(s&&s!=="none"&&typeof s=="string"){const u=s.split("(")[1].split(")")[0].split(",");o=parseInt(u[4],10),l=parseInt(u[5],10)}return t==="left"?a?`translateX(${a.right+o-r.left}px)`:`translateX(${i.innerWidth+o-r.left}px)`:t==="right"?a?`translateX(-${r.right-a.left-o}px)`:`translateX(-${r.left+r.width-o}px)`:t==="up"?a?`translateY(${a.bottom+l-r.top}px)`:`translateY(${i.innerHeight+l-r.top}px)`:a?`translateY(-${r.top-a.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function OEe(t){return typeof t=="function"?t():t}function __(t,e,n){const r=OEe(n),a=jEe(t,e,r);a&&(e.style.webkitTransform=a,e.style.transform=a)}const DEe=A.forwardRef(function(e,n){const r=os(),a={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:l,container:u,direction:d="down",easing:h=a,in:m,onEnter:y,onEntered:x,onEntering:v,onExit:_,onExited:C,onExiting:w,style:T,timeout:E=i,TransitionComponent:I=Bc,...j}=e,O=A.useRef(null),L=aa(Fp(l),O,n),N=ee=>Q=>{ee&&(Q===void 0?ee(O.current):ee(O.current,Q))},M=N((ee,Q)=>{__(d,ee,u),mO(ee),y&&y(ee,Q)}),H=N((ee,Q)=>{const K=Ip({timeout:E,style:T,easing:h},{mode:"enter"});ee.style.webkitTransition=r.transitions.create("-webkit-transform",{...K}),ee.style.transition=r.transitions.create("transform",{...K}),ee.style.webkitTransform="none",ee.style.transform="none",v&&v(ee,Q)}),P=N(x),$=N(w),D=N(ee=>{const Q=Ip({timeout:E,style:T,easing:h},{mode:"exit"});ee.style.webkitTransition=r.transitions.create("-webkit-transform",Q),ee.style.transition=r.transitions.create("transform",Q),__(d,ee,u),_&&_(ee)}),U=N(ee=>{ee.style.webkitTransition="",ee.style.transition="",C&&C(ee)}),F=ee=>{s&&s(O.current,ee)},W=A.useCallback(()=>{O.current&&__(d,O.current,u)},[d,u]);return A.useEffect(()=>{if(m||d==="down"||d==="right")return;const ee=Qv(()=>{O.current&&__(d,O.current,u)}),Q=Ml(O.current);return Q.addEventListener("resize",ee),()=>{ee.clear(),Q.removeEventListener("resize",ee)}},[d,m,u]),A.useEffect(()=>{m||W()},[m,W]),c.jsx(I,{nodeRef:O,onEnter:M,onEntered:P,onEntering:H,onExit:D,onExited:U,onExiting:$,addEndListener:F,appear:o,in:m,timeout:E,...j,children:(ee,{ownerState:Q,...K})=>A.cloneElement(l,{ref:L,style:{visibility:ee==="exited"&&!m?"hidden":void 0,...T,...l.props.style},...K})})});function MEe(t){return Mt("MuiDrawer",t)}Lt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const AX=(t,e)=>{const{ownerState:n}=t;return[e.root,(n.variant==="permanent"||n.variant==="persistent")&&e.docked,e.modal]},NEe=t=>{const{classes:e,anchor:n,variant:r}=t,a={root:["root",`anchor${Ue(n)}`],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Ue(n)}`,r!=="temporary"&&`paperAnchorDocked${Ue(n)}`]};return Nt(a,MEe,e)},PEe=$e(wO,{name:"MuiDrawer",slot:"Root",overridesResolver:AX})(At(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer}))),LEe=$e("div",{shouldForwardProp:ki,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:AX})({flex:"0 0 auto"}),zEe=$e(Yt,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`paperAnchor${Ue(n.anchor)}`],n.variant!=="temporary"&&e[`paperAnchorDocked${Ue(n.anchor)}`]]}})(At(({theme:t})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>e.anchor==="left"&&e.variant!=="temporary",style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="top"&&e.variant!=="temporary",style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="right"&&e.variant!=="temporary",style:{borderLeft:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="bottom"&&e.variant!=="temporary",style:{borderTop:`1px solid ${(t.vars||t).palette.divider}`}}]}))),RX={left:"right",right:"left",top:"down",bottom:"up"};function FEe(t){return["left","right"].includes(t)}function BEe({direction:t},e){return t==="rtl"&&FEe(e)?RX[e]:e}const uC=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiDrawer"}),a=os(),i=$d(),s={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{anchor:o="left",BackdropProps:l,children:u,className:d,elevation:h=16,hideBackdrop:m=!1,ModalProps:{BackdropProps:y,...x}={},onClose:v,open:_=!1,PaperProps:C={},SlideProps:w,TransitionComponent:T,transitionDuration:E=s,variant:I="temporary",slots:j={},slotProps:O={},...L}=r,N=A.useRef(!1);A.useEffect(()=>{N.current=!0},[]);const M=BEe({direction:i?"rtl":"ltr"},o),P={...r,anchor:o,elevation:h,open:_,variant:I,...L},$=NEe(P),D={slots:{transition:T,...j},slotProps:{paper:C,transition:w,...O,backdrop:fO(O.backdrop||{...l,...y},{transitionDuration:E})}},[U,F]=Ht("root",{ref:n,elementType:PEe,className:ut($.root,$.modal,d),shouldForwardComponentProp:!0,ownerState:P,externalForwardedProps:{...D,...L,...x},additionalProps:{open:_,onClose:v,hideBackdrop:m,slots:{backdrop:D.slots.backdrop},slotProps:{backdrop:D.slotProps.backdrop}}}),[W,ee]=Ht("paper",{elementType:zEe,shouldForwardComponentProp:!0,className:ut($.paper,C.className),ownerState:P,externalForwardedProps:D,additionalProps:{elevation:I==="temporary"?h:0,square:!0,...I==="temporary"&&{role:"dialog","aria-modal":"true"}}}),[Q,K]=Ht("docked",{elementType:LEe,ref:n,className:ut($.root,$.docked,d),ownerState:P,externalForwardedProps:D,additionalProps:L}),[V,Z]=Ht("transition",{elementType:DEe,ownerState:P,externalForwardedProps:D,additionalProps:{in:_,direction:RX[M],timeout:E,appear:N.current}}),q=c.jsx(W,{...ee,children:u});if(I==="permanent")return c.jsx(Q,{...K,children:q});const te=c.jsx(V,{...Z,children:q});return I==="persistent"?c.jsx(Q,{...K,children:te}):c.jsx(U,{...F,children:te})});function HEe(t){return Mt("MuiFab",t)}const yL=Lt("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),UEe=t=>{const{color:e,variant:n,classes:r,size:a}=t,i={root:["root",n,`size${Ue(a)}`,e==="inherit"?"colorInherit":e]},s=Nt(i,HEe,r);return{...r,...s}},$Ee=$e(Co,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>ki(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Ue(n.size)}`],n.color==="inherit"&&e.colorInherit,e[Ue(n.size)],e[n.color]]}})(At(({theme:t})=>({...t.typography.button,minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.grey[900]:t.palette.getContrastText?.(t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${yL.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},variants:[{props:{size:"small"},style:{width:40,height:40}},{props:{size:"medium"},style:{width:48,height:48}},{props:{variant:"extended"},style:{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48}},{props:{variant:"extended",size:"small"},style:{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34}},{props:{variant:"extended",size:"medium"},style:{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40}},{props:{color:"inherit"},style:{color:"inherit"}}]})),At(({theme:t})=>({variants:[...Object.entries(t.palette).filter(rr(["dark","contrastText"])).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].contrastText,backgroundColor:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:(t.vars||t).palette[e].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e].main}}}}))]})),At(({theme:t})=>({[`&.${yL.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}))),GEe=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiFab"}),{children:a,className:i,color:s="default",component:o="button",disabled:l=!1,disableFocusRipple:u=!1,focusVisibleClassName:d,size:h="large",variant:m="circular",...y}=r,x={...r,color:s,component:o,disabled:l,disableFocusRipple:u,size:h,variant:m},v=UEe(x);return c.jsx($Ee,{className:ut(v.root,i),component:o,disabled:l,focusRipple:!u,focusVisibleClassName:ut(v.focusVisible,d),ownerState:x,ref:n,...y,classes:v,children:a})}),qEe=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:a,size:i,hiddenLabel:s,multiline:o}=t,l={root:["root",!n&&"underline",r&&"adornedStart",a&&"adornedEnd",i==="small"&&`size${Ue(i)}`,s&&"hiddenLabel",o&&"multiline"],input:["input"]},u=Nt(l,k5e,e);return{...e,...u}},VEe=$e(A5,{shouldForwardProp:t=>ki(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...E5(t,e),!n.disableUnderline&&e.underline]}})(At(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${jm.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${jm.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:i},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${jm.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${jm.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${jm.disabled}, .${jm.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${jm.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(rr()).map(([s])=>({props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[s]?.main}`}}})),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:o})=>s.multiline&&o==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),WEe=$e(R5,{name:"MuiFilledInput",slot:"Input",overridesResolver:T5})(At(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),EO=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiFilledInput"}),{disableUnderline:a=!1,components:i={},componentsProps:s,fullWidth:o=!1,hiddenLabel:l,inputComponent:u="input",multiline:d=!1,slotProps:h,slots:m={},type:y="text",...x}=r,v={...r,disableUnderline:a,fullWidth:o,inputComponent:u,multiline:d,type:y},_=qEe(r),C={root:{ownerState:v},input:{ownerState:v}},w=h??s?ns(C,h??s):C,T=m.root??i.Root??VEe,E=m.input??i.Input??WEe;return c.jsx(k5,{slots:{root:T,input:E},slotProps:w,fullWidth:o,inputComponent:u,multiline:d,ref:n,type:y,...x,classes:_})});EO.muiName="Input";function YEe(t){return Mt("MuiFormControl",t)}Lt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const KEe=t=>{const{classes:e,margin:n,fullWidth:r}=t,a={root:["root",n!=="none"&&`margin${Ue(n)}`,r&&"fullWidth"]};return Nt(a,YEe,e)},XEe=$e("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${Ue(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),ra=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiFormControl"}),{children:a,className:i,color:s="primary",component:o="div",disabled:l=!1,error:u=!1,focused:d,fullWidth:h=!1,hiddenLabel:m=!1,margin:y="none",required:x=!1,size:v="medium",variant:_="outlined",...C}=r,w={...r,color:s,component:o,disabled:l,error:u,fullWidth:h,hiddenLabel:m,margin:y,required:x,size:v,variant:_},T=KEe(w),[E,I]=A.useState(()=>{let U=!1;return a&&A.Children.forEach(a,F=>{if(!C2(F,["Input","Select"]))return;const W=C2(F,["Select"])?F.props.input:F;W&&w5e(W.props)&&(U=!0)}),U}),[j,O]=A.useState(()=>{let U=!1;return a&&A.Children.forEach(a,F=>{C2(F,["Input","Select"])&&(cC(F.props,!0)||cC(F.props.inputProps,!0))&&(U=!0)}),U}),[L,N]=A.useState(!1);l&&L&&N(!1);const M=d!==void 0&&!l?d:L;let H;A.useRef(!1);const P=A.useCallback(()=>{O(!0)},[]),$=A.useCallback(()=>{O(!1)},[]),D=A.useMemo(()=>({adornedStart:E,setAdornedStart:I,color:s,disabled:l,error:u,filled:j,focused:M,fullWidth:h,hiddenLabel:m,size:v,onBlur:()=>{N(!1)},onFocus:()=>{N(!0)},onEmpty:$,onFilled:P,registerEffect:H,required:x,variant:_}),[E,s,l,u,j,M,h,m,H,$,P,x,v,_]);return c.jsx(w5.Provider,{value:D,children:c.jsx(XEe,{as:o,ownerState:w,className:ut(T.root,i),ref:n,...C,children:a})})});function QEe(t){return Mt("MuiFormControlLabel",t)}const i2=Lt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),ZEe=t=>{const{classes:e,disabled:n,labelPlacement:r,error:a,required:i}=t,s={root:["root",n&&"disabled",`labelPlacement${Ue(r)}`,a&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",a&&"error"]};return Nt(s,QEe,e)},JEe=$e("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${i2.label}`]:e.label},e.root,e[`labelPlacement${Ue(n.labelPlacement)}`]]}})(At(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${i2.disabled}`]:{cursor:"default"},[`& .${i2.label}`]:{[`&.${i2.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),eTe=$e("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(At(({theme:t})=>({[`&.${i2.error}`]:{color:(t.vars||t).palette.error.main}}))),Zn=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiFormControlLabel"}),{checked:a,className:i,componentsProps:s={},control:o,disabled:l,disableTypography:u,inputRef:d,label:h,labelPlacement:m="end",name:y,onChange:x,required:v,slots:_={},slotProps:C={},value:w,...T}=r,E=Iu(),I=l??o.props.disabled??E?.disabled,j=v??o.props.required,O={disabled:I,required:j};["checked","name","onChange","value","inputRef"].forEach(U=>{typeof o.props[U]>"u"&&typeof r[U]<"u"&&(O[U]=r[U])});const L=Bp({props:r,muiFormControl:E,states:["error"]}),N={...r,disabled:I,labelPlacement:m,required:j,error:L.error},M=ZEe(N),H={slots:_,slotProps:{...s,...C}},[P,$]=Ht("typography",{elementType:re,externalForwardedProps:H,ownerState:N});let D=h;return D!=null&&D.type!==re&&!u&&(D=c.jsx(P,{component:"span",...$,className:ut(M.label,$?.className),children:D})),c.jsxs(JEe,{className:ut(M.root,i),ownerState:N,ref:n,...T,children:[A.cloneElement(o,O),j?c.jsxs("div",{children:[D,c.jsxs(eTe,{ownerState:N,"aria-hidden":!0,className:M.asterisk,children:["","*"]})]}):D]})});function tTe(t){return Mt("MuiFormGroup",t)}Lt("MuiFormGroup",["root","row","error"]);const nTe=t=>{const{classes:e,row:n,error:r}=t;return Nt({root:["root",n&&"row",r&&"error"]},tTe,e)},rTe=$e("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.row&&e.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),kX=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiFormGroup"}),{className:a,row:i=!1,...s}=r,o=Iu(),l=Bp({props:r,muiFormControl:o,states:["error"]}),u={...r,row:i,error:l.error},d=nTe(u);return c.jsx(rTe,{className:ut(d.root,a),ownerState:u,ref:n,...s})});function aTe(t){return Mt("MuiFormHelperText",t)}const bL=Lt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var xL;const iTe=t=>{const{classes:e,contained:n,size:r,disabled:a,error:i,filled:s,focused:o,required:l}=t,u={root:["root",a&&"disabled",i&&"error",r&&`size${Ue(r)}`,n&&"contained",o&&"focused",s&&"filled",l&&"required"]};return Nt(u,aTe,e)},sTe=$e("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Ue(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(At(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${bL.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${bL.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),oTe=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiFormHelperText"}),{children:a,className:i,component:s="p",disabled:o,error:l,filled:u,focused:d,margin:h,required:m,variant:y,...x}=r,v=Iu(),_=Bp({props:r,muiFormControl:v,states:["variant","size","disabled","error","filled","focused","required"]}),C={...r,component:s,contained:_.variant==="filled"||_.variant==="outlined",variant:_.variant,size:_.size,disabled:_.disabled,error:_.error,filled:_.filled,focused:_.focused,required:_.required};delete C.ownerState;const w=iTe(C);return c.jsx(sTe,{as:s,className:ut(w.root,i),ref:n,...x,ownerState:C,children:a===" "?xL||(xL=c.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):a})});function lTe(t){return Mt("MuiFormLabel",t)}const R2=Lt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),cTe=t=>{const{classes:e,color:n,focused:r,disabled:a,error:i,filled:s,required:o}=t,l={root:["root",`color${Ue(n)}`,a&&"disabled",i&&"error",s&&"filled",r&&"focused",o&&"required"],asterisk:["asterisk",i&&"error"]};return Nt(l,lTe,e)},uTe=$e("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(At(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{[`&.${R2.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${R2.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${R2.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),dTe=$e("span",{name:"MuiFormLabel",slot:"Asterisk"})(At(({theme:t})=>({[`&.${R2.error}`]:{color:(t.vars||t).palette.error.main}}))),k2=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiFormLabel"}),{children:a,className:i,color:s,component:o="label",disabled:l,error:u,filled:d,focused:h,required:m,...y}=r,x=Iu(),v=Bp({props:r,muiFormControl:x,states:["color","required","focused","disabled","error","filled"]}),_={...r,color:v.color||"primary",component:o,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required},C=cTe(_);return c.jsxs(uTe,{as:o,ownerState:_,className:ut(C.root,i),ref:n,...y,children:[a,v.required&&c.jsxs(dTe,{ownerState:_,"aria-hidden":!0,className:C.asterisk,children:["","*"]})]})}),gn=Aue({createStyledComponent:$e("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:t=>zt({props:t,name:"MuiGrid"}),useTheme:os});function Wk(t){return`scale(${t}, ${t**2})`}const fTe={entering:{opacity:1,transform:Wk(1)},entered:{opacity:1,transform:"none"}},oT=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),cv=A.forwardRef(function(e,n){const{addEndListener:r,appear:a=!0,children:i,easing:s,in:o,onEnter:l,onEntered:u,onEntering:d,onExit:h,onExited:m,onExiting:y,style:x,timeout:v="auto",TransitionComponent:_=Bc,...C}=e,w=cp(),T=A.useRef(),E=os(),I=A.useRef(null),j=aa(I,Fp(i),n),O=U=>F=>{if(U){const W=I.current;F===void 0?U(W):U(W,F)}},L=O(d),N=O((U,F)=>{mO(U);const{duration:W,delay:ee,easing:Q}=Ip({style:x,timeout:v,easing:s},{mode:"enter"});let K;v==="auto"?(K=E.transitions.getAutoHeightDuration(U.clientHeight),T.current=K):K=W,U.style.transition=[E.transitions.create("opacity",{duration:K,delay:ee}),E.transitions.create("transform",{duration:oT?K:K*.666,delay:ee,easing:Q})].join(","),l&&l(U,F)}),M=O(u),H=O(y),P=O(U=>{const{duration:F,delay:W,easing:ee}=Ip({style:x,timeout:v,easing:s},{mode:"exit"});let Q;v==="auto"?(Q=E.transitions.getAutoHeightDuration(U.clientHeight),T.current=Q):Q=F,U.style.transition=[E.transitions.create("opacity",{duration:Q,delay:W}),E.transitions.create("transform",{duration:oT?Q:Q*.666,delay:oT?W:W||Q*.333,easing:ee})].join(","),U.style.opacity=0,U.style.transform=Wk(.75),h&&h(U)}),$=O(m),D=U=>{v==="auto"&&w.start(T.current||0,U),r&&r(I.current,U)};return c.jsx(_,{appear:a,in:o,nodeRef:I,onEnter:N,onEntered:M,onEntering:L,onExit:P,onExited:$,onExiting:H,addEndListener:D,timeout:v==="auto"?null:v,...C,children:(U,{ownerState:F,...W})=>A.cloneElement(i,{style:{opacity:0,transform:Wk(.75),visibility:U==="exited"&&!o?"hidden":void 0,...fTe[U],...x,...i.props.style},ref:j,...W})})});cv&&(cv.muiSupportAuto=!0);const hTe=t=>{const{classes:e,disableUnderline:n}=t,a=Nt({root:["root",!n&&"underline"],input:["input"]},A5e,e);return{...e,...a}},pTe=$e(A5,{shouldForwardProp:t=>ki(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...E5(t,e),!n.disableUnderline&&e.underline]}})(At(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ex.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ex.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ex.disabled}, .${Ex.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Ex.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(rr()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),mTe=$e(R5,{name:"MuiInput",slot:"Input",overridesResolver:T5})({}),TO=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiInput"}),{disableUnderline:a=!1,components:i={},componentsProps:s,fullWidth:o=!1,inputComponent:l="input",multiline:u=!1,slotProps:d,slots:h={},type:m="text",...y}=r,x=hTe(r),_={root:{ownerState:{disableUnderline:a}}},C=d??s?ns(d??s,_):_,w=h.root??i.Root??pTe,T=h.input??i.Input??mTe;return c.jsx(k5,{slots:{root:w,input:T},slotProps:C,fullWidth:o,inputComponent:l,multiline:u,ref:n,type:m,...y,classes:x})});TO.muiName="Input";function gTe(t){return Mt("MuiInputAdornment",t)}const vL=Lt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var SL;const yTe=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Ue(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},bTe=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:a,size:i,variant:s}=t,o={root:["root",n&&"disablePointerEvents",a&&`position${Ue(a)}`,s,r&&"hiddenLabel",i&&`size${Ue(i)}`]};return Nt(o,gTe,e)},xTe=$e("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:yTe})(At(({theme:t})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${vL.positionStart}&:not(.${vL.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),Yk=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiInputAdornment"}),{children:a,className:i,component:s="div",disablePointerEvents:o=!1,disableTypography:l=!1,position:u,variant:d,...h}=r,m=Iu()||{};let y=d;d&&m.variant,m&&!y&&(y=m.variant);const x={...r,hiddenLabel:m.hiddenLabel,size:m.size,disablePointerEvents:o,position:u,variant:y},v=bTe(x);return c.jsx(w5.Provider,{value:null,children:c.jsx(xTe,{as:s,ownerState:x,className:ut(v.root,i),ref:n,...h,children:typeof a=="string"&&!l?c.jsx(re,{color:"textSecondary",children:a}):c.jsxs(A.Fragment,{children:[u==="start"?SL||(SL=c.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,a]})})})});function vTe(t){return Mt("MuiInputLabel",t)}Lt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const STe=t=>{const{classes:e,formControl:n,size:r,shrink:a,disableAnimation:i,variant:s,required:o}=t,l={root:["root",n&&"formControl",!i&&"animated",a&&"shrink",r&&r!=="medium"&&`size${Ue(r)}`,s],asterisk:[o&&"asterisk"]},u=Nt(l,vTe,e);return{...e,...u}},_Te=$e(k2,{shouldForwardProp:t=>ki(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${R2.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(At(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),Ai=A.forwardRef(function(e,n){const r=zt({name:"MuiInputLabel",props:e}),{disableAnimation:a=!1,margin:i,shrink:s,variant:o,className:l,...u}=r,d=Iu();let h=s;typeof h>"u"&&d&&(h=d.filled||d.focused||d.adornedStart);const m=Bp({props:r,muiFormControl:d,states:["size","variant","required","focused"]}),y={...r,disableAnimation:a,formControl:d,shrink:h,size:m.size,variant:m.variant,required:m.required,focused:m.focused},x=STe(y);return c.jsx(_Te,{"data-shrink":h,ref:n,className:ut(x.root,l),...u,ownerState:y,classes:x})});function CTe(t){return Mt("MuiLinearProgress",t)}Lt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Kk=4,Xk=Ud`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,wTe=typeof Xk!="string"?Pp`
        animation: ${Xk} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,Qk=Ud`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,ETe=typeof Qk!="string"?Pp`
        animation: ${Qk} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,Zk=Ud`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,TTe=typeof Zk!="string"?Pp`
        animation: ${Zk} 3s infinite linear;
      `:null,ATe=t=>{const{classes:e,variant:n,color:r}=t,a={root:["root",`color${Ue(r)}`,n],dashed:["dashed",`dashedColor${Ue(r)}`],bar1:["bar","bar1",`barColor${Ue(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",n!=="buffer"&&`barColor${Ue(r)}`,n==="buffer"&&`color${Ue(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return Nt(a,CTe,e)},AO=(t,e)=>t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?t.lighten(t.palette[e].main,.62):t.darken(t.palette[e].main,.5),RTe=$e("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${Ue(n.color)}`],e[n.variant]]}})(At(({theme:t})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{backgroundColor:AO(t,e)}})),{props:({ownerState:e})=>e.color==="inherit"&&e.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),kTe=$e("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${Ue(n.color)}`]]}})(At(({theme:t})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(t.palette).filter(rr()).map(([e])=>{const n=AO(t,e);return{props:{color:e},style:{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`}}})]})),TTe||{animation:`${Zk} 3s infinite linear`}),ITe=$e("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e.bar1,e[`barColor${Ue(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(At(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main}})),{props:{variant:"determinate"},style:{transition:`transform .${Kk}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${Kk}s linear`}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:wTe||{animation:`${Xk} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),jTe=$e("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e.bar2,e[`barColor${Ue(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(At(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{"--LinearProgressBar2-barColor":(t.vars||t).palette[e].main}})),{props:({ownerState:e})=>e.variant!=="buffer"&&e.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:e})=>e.variant!=="buffer"&&e.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e,variant:"buffer"},style:{backgroundColor:AO(t,e),transition:`transform .${Kk}s linear`}})),{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:ETe||{animation:`${Qk} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),Ld=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiLinearProgress"}),{className:a,color:i="primary",value:s,valueBuffer:o,variant:l="indeterminate",...u}=r,d={...r,color:i,variant:l},h=ATe(d),m=$d(),y={},x={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&s!==void 0){y["aria-valuenow"]=Math.round(s),y["aria-valuemin"]=0,y["aria-valuemax"]=100;let v=s-100;m&&(v=-v),x.bar1.transform=`translateX(${v}%)`}if(l==="buffer"&&o!==void 0){let v=(o||0)-100;m&&(v=-v),x.bar2.transform=`translateX(${v}%)`}return c.jsxs(RTe,{className:ut(h.root,a),ownerState:d,role:"progressbar",...y,ref:n,...u,children:[l==="buffer"?c.jsx(kTe,{className:h.dashed,ownerState:d}):null,c.jsx(ITe,{className:h.bar1,ownerState:d,style:x.bar1}),l==="determinate"?null:c.jsx(jTe,{className:h.bar2,ownerState:d,style:x.bar2})]})});function OTe(t){return Mt("MuiLink",t)}const DTe=Lt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),MTe=({theme:t,ownerState:e})=>{const n=e.color;if("colorSpace"in t&&t.colorSpace){const i=Sd(t,`palette.${n}.main`)||Sd(t,`palette.${n}`)||e.color;return t.alpha(i,.4)}const r=Sd(t,`palette.${n}.main`,!1)||Sd(t,`palette.${n}`,!1)||e.color,a=Sd(t,`palette.${n}.mainChannel`)||Sd(t,`palette.${n}Channel`);return"vars"in t&&a?`rgba(${a} / 0.4)`:_s(r,.4)},_L={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},NTe=t=>{const{classes:e,component:n,focusVisible:r,underline:a}=t,i={root:["root",`underline${Ue(a)}`,n==="button"&&"button",r&&"focusVisible"]};return Nt(i,OTe,e)},PTe=$e(re,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`underline${Ue(n.underline)}`],n.component==="button"&&e.button]}})(At(({theme:t})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:n})=>e==="always"&&n.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},{props:({underline:e,ownerState:n})=>e==="always"&&n.color==="inherit",style:t.colorSpace?{textDecorationColor:t.alpha("currentColor",.4)}:null},...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":t.alpha((t.vars||t).palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.alpha((t.vars||t).palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.alpha((t.vars||t).palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${DTe.focusVisible}`]:{outline:"auto"}}}]}))),Jk=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiLink"}),a=os(),{className:i,color:s="primary",component:o="a",onBlur:l,onFocus:u,TypographyClasses:d,underline:h="always",variant:m="inherit",sx:y,...x}=r,[v,_]=A.useState(!1),C=I=>{Op(I.target)||_(!1),l&&l(I)},w=I=>{Op(I.target)&&_(!0),u&&u(I)},T={...r,color:s,component:o,focusVisible:v,underline:h,variant:m},E=NTe(T);return c.jsx(PTe,{color:s,className:ut(E.root,i),classes:d,component:o,onBlur:C,onFocus:w,ref:n,ownerState:T,variant:m,...x,sx:[..._L[s]===void 0?[{color:s}]:[],...Array.isArray(y)?y:[y]],style:{...x.style,...h==="always"&&s!=="inherit"&&!_L[s]&&{"--Link-underlineColor":MTe({theme:a,ownerState:T})}}})}),Su=A.createContext({});function LTe(t){return Mt("MuiList",t)}Lt("MuiList",["root","padding","dense","subheader"]);const zTe=t=>{const{classes:e,disablePadding:n,dense:r,subheader:a}=t;return Nt({root:["root",!n&&"padding",r&&"dense",a&&"subheader"]},LTe,e)},FTe=$e("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),Wf=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiList"}),{children:a,className:i,component:s="ul",dense:o=!1,disablePadding:l=!1,subheader:u,...d}=r,h=A.useMemo(()=>({dense:o}),[o]),m={...r,component:s,dense:o,disablePadding:l},y=zTe(m);return c.jsx(Su.Provider,{value:h,children:c.jsxs(FTe,{as:s,className:ut(y.root,i),ref:n,ownerState:m,...d,children:[u,a]})})});function BTe(t){return Mt("MuiListItem",t)}Lt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function HTe(t){return Mt("MuiListItemButton",t)}const k1=Lt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),UTe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},$Te=t=>{const{alignItems:e,classes:n,dense:r,disabled:a,disableGutters:i,divider:s,selected:o}=t,u=Nt({root:["root",r&&"dense",!i&&"gutters",s&&"divider",a&&"disabled",e==="flex-start"&&"alignItemsFlexStart",o&&"selected"]},HTe,n);return{...n,...u}},GTe=$e(Co,{shouldForwardProp:t=>ki(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:UTe})(At(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${k1.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${k1.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${k1.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${k1.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${k1.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),dC=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiListItemButton"}),{alignItems:a="center",autoFocus:i=!1,component:s="div",children:o,dense:l=!1,disableGutters:u=!1,divider:d=!1,focusVisibleClassName:h,selected:m=!1,className:y,...x}=r,v=A.useContext(Su),_=A.useMemo(()=>({dense:l||v.dense||!1,alignItems:a,disableGutters:u}),[a,v.dense,l,u]),C=A.useRef(null);qs(()=>{i&&C.current&&C.current.focus()},[i]);const w={...r,alignItems:a,dense:_.dense,disableGutters:u,divider:d,selected:m},T=$Te(w),E=aa(C,n);return c.jsx(Su.Provider,{value:_,children:c.jsx(GTe,{ref:E,href:x.href||x.to,component:(x.href||x.to)&&s==="div"?"button":s,focusVisibleClassName:ut(T.focusVisible,h),ownerState:w,className:ut(T.root,y),...x,classes:T,children:o})})});function qTe(t){return Mt("MuiListItemSecondaryAction",t)}Lt("MuiListItemSecondaryAction",["root","disableGutters"]);const VTe=t=>{const{disableGutters:e,classes:n}=t;return Nt({root:["root",e&&"disableGutters"]},qTe,n)},WTe=$e("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),RO=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiListItemSecondaryAction"}),{className:a,...i}=r,s=A.useContext(Su),o={...r,disableGutters:s.disableGutters},l=VTe(o);return c.jsx(WTe,{className:ut(l.root,a),ownerState:o,ref:n,...i})});RO.muiName="ListItemSecondaryAction";const YTe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.hasSecondaryAction&&e.secondaryAction]},KTe=t=>{const{alignItems:e,classes:n,dense:r,disableGutters:a,disablePadding:i,divider:s,hasSecondaryAction:o}=t;return Nt({root:["root",r&&"dense",!a&&"gutters",!i&&"padding",s&&"divider",e==="flex-start"&&"alignItemsFlexStart",o&&"secondaryAction"],container:["container"]},BTe,n)},XTe=$e("div",{name:"MuiListItem",slot:"Root",overridesResolver:YTe})(At(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${k1.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),QTe=$e("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),Yf=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiListItem"}),{alignItems:a="center",children:i,className:s,component:o,components:l={},componentsProps:u={},ContainerComponent:d="li",ContainerProps:{className:h,...m}={},dense:y=!1,disableGutters:x=!1,disablePadding:v=!1,divider:_=!1,secondaryAction:C,slotProps:w={},slots:T={},...E}=r,I=A.useContext(Su),j=A.useMemo(()=>({dense:y||I.dense||!1,alignItems:a,disableGutters:x}),[a,I.dense,y,x]),O=A.useRef(null),L=A.Children.toArray(i),N=L.length&&C2(L[L.length-1],["ListItemSecondaryAction"]),M={...r,alignItems:a,dense:j.dense,disableGutters:x,disablePadding:v,divider:_,hasSecondaryAction:N},H=KTe(M),P=aa(O,n),$=T.root||l.Root||XTe,D=w.root||u.root||{},U={className:ut(H.root,D.className,s),...E};let F=o||"li";return N?(F=!U.component&&!o?"div":F,d==="li"&&(F==="li"?F="div":U.component==="li"&&(U.component="div")),c.jsx(Su.Provider,{value:j,children:c.jsxs(QTe,{as:d,className:ut(H.container,h),ref:P,ownerState:M,...m,children:[c.jsx($,{...D,...!Id($)&&{as:F,ownerState:{...M,...D.ownerState}},...U,children:L}),L.pop()]})})):c.jsx(Su.Provider,{value:j,children:c.jsxs($,{...D,as:F,ref:P,...!Id($)&&{ownerState:{...M,...D.ownerState}},...U,children:[L,C&&c.jsx(RO,{children:C})]})})});function ZTe(t){return Mt("MuiListItemIcon",t)}const CL=Lt("MuiListItemIcon",["root","alignItemsFlexStart"]),JTe=t=>{const{alignItems:e,classes:n}=t;return Nt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},ZTe,n)},e6e=$e("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(At(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),pu=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiListItemIcon"}),{className:a,...i}=r,s=A.useContext(Su),o={...r,alignItems:s.alignItems},l=JTe(o);return c.jsx(e6e,{className:ut(l.root,a),ownerState:o,ref:n,...i})});function t6e(t){return Mt("MuiListItemText",t)}const D1=Lt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),n6e=t=>{const{classes:e,inset:n,primary:r,secondary:a,dense:i}=t;return Nt({root:["root",n&&"inset",i&&"dense",r&&a&&"multiline"],primary:["primary"],secondary:["secondary"]},t6e,e)},r6e=$e("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${D1.primary}`]:e.primary},{[`& .${D1.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${VP.root}:where(& .${D1.primary})`]:{display:"block"},[`.${VP.root}:where(& .${D1.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Ss=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiListItemText"}),{children:a,className:i,disableTypography:s=!1,inset:o=!1,primary:l,primaryTypographyProps:u,secondary:d,secondaryTypographyProps:h,slots:m={},slotProps:y={},...x}=r,{dense:v}=A.useContext(Su);let _=l??a,C=d;const w={...r,disableTypography:s,inset:o,primary:!!_,secondary:!!C,dense:v},T=n6e(w),E={slots:m,slotProps:{primary:u,secondary:h,...y}},[I,j]=Ht("root",{className:ut(T.root,i),elementType:r6e,externalForwardedProps:{...E,...x},ownerState:w,ref:n}),[O,L]=Ht("primary",{className:T.primary,elementType:re,externalForwardedProps:E,ownerState:w}),[N,M]=Ht("secondary",{className:T.secondary,elementType:re,externalForwardedProps:E,ownerState:w});return _!=null&&_.type!==re&&!s&&(_=c.jsx(O,{variant:v?"body2":"body1",component:L?.variant?void 0:"span",...L,children:_})),C!=null&&C.type!==re&&!s&&(C=c.jsx(N,{variant:"body2",color:"textSecondary",...M,children:C})),c.jsxs(I,{...j,children:[_,C]})});function lT(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function wL(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function IX(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function Tx(t,e,n,r,a,i){let s=!1,o=a(t,e,e?n:!1);for(;o;){if(o===t.firstChild){if(s)return!1;s=!0}const l=r?!1:o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||!IX(o,i)||l)o=a(t,o,n);else return o.focus(),!0}return!1}const a6e=A.forwardRef(function(e,n){const{actions:r,autoFocus:a=!1,autoFocusItem:i=!1,children:s,className:o,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:d,variant:h="selectedMenu",...m}=e,y=A.useRef(null),x=A.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});qs(()=>{a&&y.current.focus()},[a]),A.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(T,{direction:E})=>{const I=!y.current.style.width;if(T.clientHeight<y.current.clientHeight&&I){const j=`${EX(Ml(T))}px`;y.current.style[E==="rtl"?"paddingLeft":"paddingRight"]=j,y.current.style.width=`calc(100% + ${j})`}return y.current}}),[]);const v=T=>{const E=y.current,I=T.key;if(T.ctrlKey||T.metaKey||T.altKey){d&&d(T);return}const O=di(E).activeElement;if(I==="ArrowDown")T.preventDefault(),Tx(E,O,u,l,lT);else if(I==="ArrowUp")T.preventDefault(),Tx(E,O,u,l,wL);else if(I==="Home")T.preventDefault(),Tx(E,null,u,l,lT);else if(I==="End")T.preventDefault(),Tx(E,null,u,l,wL);else if(I.length===1){const L=x.current,N=I.toLowerCase(),M=performance.now();L.keys.length>0&&(M-L.lastTime>500?(L.keys=[],L.repeating=!0,L.previousKeyMatched=!0):L.repeating&&N!==L.keys[0]&&(L.repeating=!1)),L.lastTime=M,L.keys.push(N);const H=O&&!L.repeating&&IX(O,L);L.previousKeyMatched&&(H||Tx(E,O,!1,l,lT,L))?T.preventDefault():L.previousKeyMatched=!1}d&&d(T)},_=aa(y,n);let C=-1;A.Children.forEach(s,(T,E)=>{if(!A.isValidElement(T)){C===E&&(C+=1,C>=s.length&&(C=-1));return}T.props.disabled||(h==="selectedMenu"&&T.props.selected||C===-1)&&(C=E),C===E&&(T.props.disabled||T.props.muiSkipListHighlight||T.type.muiSkipListHighlight)&&(C+=1,C>=s.length&&(C=-1))});const w=A.Children.map(s,(T,E)=>{if(E===C){const I={};return i&&(I.autoFocus=!0),T.props.tabIndex===void 0&&h==="selectedMenu"&&(I.tabIndex=0),A.cloneElement(T,I)}return T});return c.jsx(Wf,{role:"menu",ref:_,className:o,onKeyDown:v,tabIndex:a?0:-1,...m,children:w})});function i6e(t){return Mt("MuiPopover",t)}Lt("MuiPopover",["root","paper"]);function EL(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function TL(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function AL(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function C_(t){return typeof t=="function"?t():t}const s6e=t=>{const{classes:e}=t;return Nt({root:["root"],paper:["paper"]},i6e,e)},o6e=$e(wO,{name:"MuiPopover",slot:"Root"})({}),jX=$e(Yt,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),l6e=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiPopover"}),{action:a,anchorEl:i,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:o,anchorReference:l="anchorEl",children:u,className:d,container:h,elevation:m=8,marginThreshold:y=16,open:x,PaperProps:v={},slots:_={},slotProps:C={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:T,transitionDuration:E="auto",TransitionProps:I={},disableScrollLock:j=!1,...O}=r,L=A.useRef(),N={...r,anchorOrigin:s,anchorReference:l,elevation:m,marginThreshold:y,transformOrigin:w,TransitionComponent:T,transitionDuration:E,TransitionProps:I},M=s6e(N),H=A.useCallback(()=>{if(l==="anchorPosition")return o;const oe=C_(i),he=(oe&&oe.nodeType===1?oe:di(L.current).body).getBoundingClientRect();return{top:he.top+EL(he,s.vertical),left:he.left+TL(he,s.horizontal)}},[i,s.horizontal,s.vertical,o,l]),P=A.useCallback(oe=>({vertical:EL(oe,w.vertical),horizontal:TL(oe,w.horizontal)}),[w.horizontal,w.vertical]),$=A.useCallback(oe=>{const ue={width:oe.offsetWidth,height:oe.offsetHeight},he=P(ue);if(l==="none")return{top:null,left:null,transformOrigin:AL(he)};const ve=H();let me=ve.top-he.vertical,le=ve.left-he.horizontal;const Se=me+ue.height,be=le+ue.width,Te=Ml(C_(i)),Ne=Te.innerHeight-y,Pe=Te.innerWidth-y;if(y!==null&&me<y){const Le=me-y;me-=Le,he.vertical+=Le}else if(y!==null&&Se>Ne){const Le=Se-Ne;me-=Le,he.vertical+=Le}if(y!==null&&le<y){const Le=le-y;le-=Le,he.horizontal+=Le}else if(be>Pe){const Le=be-Pe;le-=Le,he.horizontal+=Le}return{top:`${Math.round(me)}px`,left:`${Math.round(le)}px`,transformOrigin:AL(he)}},[i,l,H,P,y]),[D,U]=A.useState(x),F=A.useCallback(()=>{const oe=L.current;if(!oe)return;const ue=$(oe);ue.top!==null&&oe.style.setProperty("top",ue.top),ue.left!==null&&(oe.style.left=ue.left),oe.style.transformOrigin=ue.transformOrigin,U(!0)},[$]);A.useEffect(()=>(j&&window.addEventListener("scroll",F),()=>window.removeEventListener("scroll",F)),[i,j,F]);const W=()=>{F()},ee=()=>{U(!1)};A.useEffect(()=>{x&&F()}),A.useImperativeHandle(a,()=>x?{updatePosition:()=>{F()}}:null,[x,F]),A.useEffect(()=>{if(!x)return;const oe=Qv(()=>{F()}),ue=Ml(C_(i));return ue.addEventListener("resize",oe),()=>{oe.clear(),ue.removeEventListener("resize",oe)}},[i,x,F]);let Q=E;const K={slots:{transition:T,..._},slotProps:{transition:I,paper:v,...C}},[V,Z]=Ht("transition",{elementType:cv,externalForwardedProps:K,ownerState:N,getSlotProps:oe=>({...oe,onEntering:(ue,he)=>{oe.onEntering?.(ue,he),W()},onExited:ue=>{oe.onExited?.(ue),ee()}}),additionalProps:{appear:!0,in:x}});E==="auto"&&!V.muiSupportAuto&&(Q=void 0);const q=h||(i?di(C_(i)).body:void 0),[te,{slots:ae,slotProps:ie,...ce}]=Ht("root",{ref:n,elementType:o6e,externalForwardedProps:{...K,...O},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:_.backdrop},slotProps:{backdrop:fO(typeof C.backdrop=="function"?C.backdrop(N):C.backdrop,{invisible:!0})},container:q,open:x},ownerState:N,className:ut(M.root,d)}),[pe,ge]=Ht("paper",{ref:L,className:M.paper,elementType:jX,externalForwardedProps:K,shouldForwardComponentProp:!0,additionalProps:{elevation:m,style:D?void 0:{opacity:0}},ownerState:N});return c.jsx(te,{...ce,...!Id(te)&&{slots:ae,slotProps:ie,disableScrollLock:j},children:c.jsx(V,{...Z,timeout:Q,children:c.jsx(pe,{...ge,children:u})})})});function c6e(t){return Mt("MuiMenu",t)}Lt("MuiMenu",["root","paper","list"]);const u6e={vertical:"top",horizontal:"right"},d6e={vertical:"top",horizontal:"left"},f6e=t=>{const{classes:e}=t;return Nt({root:["root"],paper:["paper"],list:["list"]},c6e,e)},h6e=$e(l6e,{shouldForwardProp:t=>ki(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),p6e=$e(jX,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),m6e=$e(a6e,{name:"MuiMenu",slot:"List"})({outline:0}),Ay=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:i,className:s,disableAutoFocusItem:o=!1,MenuListProps:l={},onClose:u,open:d,PaperProps:h={},PopoverClasses:m,transitionDuration:y="auto",TransitionProps:{onEntering:x,...v}={},variant:_="selectedMenu",slots:C={},slotProps:w={},...T}=r,E=$d(),I={...r,autoFocus:a,disableAutoFocusItem:o,MenuListProps:l,onEntering:x,PaperProps:h,transitionDuration:y,TransitionProps:v,variant:_},j=f6e(I),O=a&&!o&&d,L=A.useRef(null),N=(Q,K)=>{L.current&&L.current.adjustStyleForScrollbar(Q,{direction:E?"rtl":"ltr"}),x&&x(Q,K)},M=Q=>{Q.key==="Tab"&&(Q.preventDefault(),u&&u(Q,"tabKeyDown"))};let H=-1;A.Children.map(i,(Q,K)=>{A.isValidElement(Q)&&(Q.props.disabled||(_==="selectedMenu"&&Q.props.selected||H===-1)&&(H=K))});const P={slots:C,slotProps:{list:l,transition:v,paper:h,...w}},$=vo({elementType:C.root,externalSlotProps:w.root,ownerState:I,className:[j.root,s]}),[D,U]=Ht("paper",{className:j.paper,elementType:p6e,externalForwardedProps:P,shouldForwardComponentProp:!0,ownerState:I}),[F,W]=Ht("list",{className:ut(j.list,l.className),elementType:m6e,shouldForwardComponentProp:!0,externalForwardedProps:P,getSlotProps:Q=>({...Q,onKeyDown:K=>{M(K),Q.onKeyDown?.(K)}}),ownerState:I}),ee=typeof P.slotProps.transition=="function"?P.slotProps.transition(I):P.slotProps.transition;return c.jsx(h6e,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:E?"right":"left"},transformOrigin:E?u6e:d6e,slots:{root:C.root,paper:D,backdrop:C.backdrop,...C.transition&&{transition:C.transition}},slotProps:{root:$,paper:U,backdrop:typeof w.backdrop=="function"?w.backdrop(I):w.backdrop,transition:{...ee,onEntering:(...Q)=>{N(...Q),ee?.onEntering?.(...Q)}}},open:d,ref:n,transitionDuration:y,ownerState:I,...T,classes:m,children:c.jsx(F,{actions:L,autoFocus:a&&(H===-1||o),autoFocusItem:O,variant:_,...W,children:i})})});function g6e(t){return Mt("MuiMenuItem",t)}const Ax=Lt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),y6e=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},b6e=t=>{const{disabled:e,dense:n,divider:r,disableGutters:a,selected:i,classes:s}=t,l=Nt({root:["root",n&&"dense",e&&"disabled",!a&&"gutters",r&&"divider",i&&"selected"]},g6e,s);return{...s,...l}},x6e=$e(Co,{shouldForwardProp:t=>ki(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:y6e})(At(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ax.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${Ax.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${Ax.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${Ax.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Ax.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${gL.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${gL.inset}`]:{marginLeft:52},[`& .${D1.root}`]:{marginTop:0,marginBottom:0},[`& .${D1.inset}`]:{paddingLeft:36},[`& .${CL.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${CL.root} svg`]:{fontSize:"1.25rem"}}}]}))),Jt=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiMenuItem"}),{autoFocus:a=!1,component:i="li",dense:s=!1,divider:o=!1,disableGutters:l=!1,focusVisibleClassName:u,role:d="menuitem",tabIndex:h,className:m,...y}=r,x=A.useContext(Su),v=A.useMemo(()=>({dense:s||x.dense||!1,disableGutters:l}),[x.dense,s,l]),_=A.useRef(null);qs(()=>{a&&_.current&&_.current.focus()},[a]);const C={...r,dense:v.dense,divider:o,disableGutters:l},w=b6e(r),T=aa(_,n);let E;return r.disabled||(E=h!==void 0?h:-1),c.jsx(Su.Provider,{value:v,children:c.jsx(x6e,{ref:T,role:d,tabIndex:E,component:i,focusVisibleClassName:ut(w.focusVisible,u),className:ut(w.root,m),...y,ownerState:C,classes:w})})});function v6e(t){return Mt("MuiNativeSelect",t)}const kO=Lt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),S6e=t=>{const{classes:e,variant:n,disabled:r,multiple:a,open:i,error:s}=t,o={select:["select",n,r&&"disabled",a&&"multiple",s&&"error"],icon:["icon",`icon${Ue(n)}`,i&&"iconOpen",r&&"disabled"]};return Nt(o,v6e,e)},OX=$e("select",{name:"MuiNativeSelect"})(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${kO.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),_6e=$e(OX,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ki,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${kO.multiple}`]:e.multiple}]}})({}),DX=$e("svg",{name:"MuiNativeSelect"})(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${kO.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),C6e=$e(DX,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ue(n.variant)}`],n.open&&e.iconOpen]}})({}),w6e=A.forwardRef(function(e,n){const{className:r,disabled:a,error:i,IconComponent:s,inputRef:o,variant:l="standard",...u}=e,d={...e,disabled:a,variant:l,error:i},h=S6e(d);return c.jsxs(A.Fragment,{children:[c.jsx(_6e,{ownerState:d,className:ut(h.select,r),disabled:a,ref:o||n,...u}),e.multiple?null:c.jsx(C6e,{as:s,ownerState:d,className:h.icon})]})});var RL;const E6e=$e("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:ki})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),T6e=$e("legend",{name:"MuiNotchedOutlined",shouldForwardProp:ki})(At(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function A6e(t){const{children:e,classes:n,className:r,label:a,notched:i,...s}=t,o=a!=null&&a!=="",l={...t,notched:i,withLabel:o};return c.jsx(E6e,{"aria-hidden":!0,className:r,ownerState:l,...s,children:c.jsx(T6e,{ownerState:l,children:o?c.jsx("span",{children:a}):RL||(RL=c.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const R6e=t=>{const{classes:e}=t,r=Nt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},R5e,e);return{...e,...r}},k6e=$e(A5,{shouldForwardProp:t=>ki(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:E5})(At(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${pd.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${pd.notchedOutline}`]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}},[`&.${pd.focused} .${pd.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(rr()).map(([n])=>({props:{color:n},style:{[`&.${pd.focused} .${pd.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${pd.error} .${pd.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${pd.disabled} .${pd.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),I6e=$e(A6e,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(At(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}})),j6e=$e(R5,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:T5})(At(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),IO=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiOutlinedInput"}),{components:a={},fullWidth:i=!1,inputComponent:s="input",label:o,multiline:l=!1,notched:u,slots:d={},slotProps:h={},type:m="text",...y}=r,x=R6e(r),v=Iu(),_=Bp({props:r,muiFormControl:v,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),C={...r,color:_.color||"primary",disabled:_.disabled,error:_.error,focused:_.focused,formControl:v,fullWidth:i,hiddenLabel:_.hiddenLabel,multiline:l,size:_.size,type:m},w=d.root??a.Root??k6e,T=d.input??a.Input??j6e,[E,I]=Ht("notchedOutline",{elementType:I6e,className:x.notchedOutline,shouldForwardComponentProp:!0,ownerState:C,externalForwardedProps:{slots:d,slotProps:h},additionalProps:{label:o!=null&&o!==""&&_.required?c.jsxs(A.Fragment,{children:[o,"","*"]}):o}});return c.jsx(k5,{slots:{root:w,input:T},slotProps:h,renderSuffix:j=>c.jsx(E,{...I,notched:typeof u<"u"?u:!!(j.startAdornment||j.filled||j.focused)}),fullWidth:i,inputComponent:s,multiline:l,ref:n,type:m,...y,classes:{...x,notchedOutline:null}})});IO.muiName="Input";function O6e(t){return Mt("MuiPagination",t)}Lt("MuiPagination",["root","ul","outlined","text"]);function D6e(t={}){const{boundaryCount:e=1,componentName:n="usePagination",count:r=1,defaultPage:a=1,disabled:i=!1,hideNextButton:s=!1,hidePrevButton:o=!1,onChange:l,page:u,showFirstButton:d=!1,showLastButton:h=!1,siblingCount:m=1,...y}=t,[x,v]=kp({controlled:u,default:a,name:n,state:"page"}),_=(N,M)=>{u||v(M),l&&l(N,M)},C=(N,M)=>{const H=M-N+1;return Array.from({length:H},(P,$)=>N+$)},w=C(1,Math.min(e,r)),T=C(Math.max(r-e+1,e+1),r),E=Math.max(Math.min(x-m,r-e-m*2-1),e+2),I=Math.min(Math.max(x+m,e+m*2+2),r-e-1),j=[...d?["first"]:[],...o?[]:["previous"],...w,...E>e+2?["start-ellipsis"]:e+1<r-e?[e+1]:[],...C(E,I),...I<r-e-1?["end-ellipsis"]:r-e>e?[r-e]:[],...T,...s?[]:["next"],...h?["last"]:[]],O=N=>{switch(N){case"first":return 1;case"previous":return x-1;case"next":return x+1;case"last":return r;default:return null}};return{items:j.map(N=>typeof N=="number"?{onClick:M=>{_(M,N)},type:"page",page:N,selected:N===x,disabled:i,"aria-current":N===x?"page":void 0}:{onClick:M=>{_(M,O(N))},type:N,page:O(N),selected:!1,disabled:i||!N.includes("ellipsis")&&(N==="next"||N==="last"?x>=r:x<=1)}),...y}}function M6e(t){return Mt("MuiPaginationItem",t)}const go=Lt("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),MX=mt(c.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),NX=mt(c.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"})),N6e=mt(c.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),P6e=mt(c.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),PX=(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Ue(n.size)}`],n.variant==="text"&&e[`text${Ue(n.color)}`],n.variant==="outlined"&&e[`outlined${Ue(n.color)}`],n.shape==="rounded"&&e.rounded,n.type==="page"&&e.page,(n.type==="start-ellipsis"||n.type==="end-ellipsis")&&e.ellipsis,(n.type==="previous"||n.type==="next")&&e.previousNext,(n.type==="first"||n.type==="last")&&e.firstLast]},L6e=t=>{const{classes:e,color:n,disabled:r,selected:a,size:i,shape:s,type:o,variant:l}=t,u={root:["root",`size${Ue(i)}`,l,s,n!=="standard"&&`color${Ue(n)}`,n!=="standard"&&`${l}${Ue(n)}`,r&&"disabled",a&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[o]],icon:["icon"]};return Nt(u,M6e,e)},z6e=$e("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:PX})(At(({theme:t})=>({...t.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,height:"auto",[`&.${go.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:{size:"small"},style:{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)}}]}))),F6e=$e(Co,{name:"MuiPaginationItem",slot:"Root",overridesResolver:PX})(At(({theme:t})=>({...t.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,[`&.${go.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${go.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},transition:t.transitions.create(["color","background-color"],{duration:t.transitions.duration.short}),"&:hover":{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${go.selected}`]:{backgroundColor:(t.vars||t).palette.action.selected,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${go.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},[`&.${go.disabled}`]:{opacity:1,color:(t.vars||t).palette.action.disabled,backgroundColor:(t.vars||t).palette.action.selected}},variants:[{props:{size:"small"},style:{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)}},{props:{shape:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"outlined"},style:{border:t.vars?`1px solid ${t.alpha(t.vars.palette.common.onBackground,.23)}`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${go.selected}`]:{[`&.${go.disabled}`]:{borderColor:(t.vars||t).palette.action.disabledBackground,color:(t.vars||t).palette.action.disabled}}}},{props:{variant:"text"},style:{[`&.${go.selected}`]:{[`&.${go.disabled}`]:{color:(t.vars||t).palette.action.disabled}}}},...Object.entries(t.palette).filter(rr(["dark","contrastText"])).map(([e])=>({props:{variant:"text",color:e},style:{[`&.${go.selected}`]:{color:(t.vars||t).palette[e].contrastText,backgroundColor:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:(t.vars||t).palette[e].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e].main}},[`&.${go.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e].dark},[`&.${go.disabled}`]:{color:(t.vars||t).palette.action.disabled}}}})),...Object.entries(t.palette).filter(rr(["light"])).map(([e])=>({props:{variant:"outlined",color:e},style:{[`&.${go.selected}`]:{color:(t.vars||t).palette[e].main,border:`1px solid ${t.alpha((t.vars||t).palette[e].main,.5)}`,backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.activatedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,`${(t.vars||t).palette.action.activatedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${go.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[e].main,`${(t.vars||t).palette.action.activatedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}}}))]}))),B6e=$e("div",{name:"MuiPaginationItem",slot:"Icon"})(At(({theme:t})=>({fontSize:t.typography.pxToRem(20),margin:"0 -8px",variants:[{props:{size:"small"},style:{fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:t.typography.pxToRem(22)}}]}))),H6e=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiPaginationItem"}),{className:a,color:i="standard",component:s,components:o={},disabled:l=!1,page:u,selected:d=!1,shape:h="circular",size:m="medium",slots:y={},slotProps:x={},type:v="page",variant:_="text",...C}=r,w={...r,color:i,disabled:l,selected:d,shape:h,size:m,type:v,variant:_},T=$d(),E=L6e(w),I={slots:{previous:y.previous??o.previous,next:y.next??o.next,first:y.first??o.first,last:y.last??o.last},slotProps:x},[j,O]=Ht("previous",{elementType:N6e,externalForwardedProps:I,ownerState:w}),[L,N]=Ht("next",{elementType:P6e,externalForwardedProps:I,ownerState:w}),[M,H]=Ht("first",{elementType:MX,externalForwardedProps:I,ownerState:w}),[P,$]=Ht("last",{elementType:NX,externalForwardedProps:I,ownerState:w}),D=T?{previous:"next",next:"previous",first:"last",last:"first"}[v]:v,U={previous:j,next:L,first:M,last:P}[D],F={previous:O,next:N,first:H,last:$}[D];return v==="start-ellipsis"||v==="end-ellipsis"?c.jsx(z6e,{ref:n,ownerState:w,className:ut(E.root,a),children:""}):c.jsxs(F6e,{ref:n,ownerState:w,component:s,disabled:l,className:ut(E.root,a),...C,children:[v==="page"&&u,U?c.jsx(B6e,{...F,className:E.icon,as:U}):null]})}),U6e=t=>{const{classes:e,variant:n}=t;return Nt({root:["root",n],ul:["ul"]},O6e,e)},$6e=$e("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant]]}})({}),G6e=$e("ul",{name:"MuiPagination",slot:"Ul"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function q6e(t,e,n){return t==="page"?`${n?"":"Go to "}page ${e}`:`Go to ${t} page`}const V6e=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiPagination"}),{boundaryCount:a=1,className:i,color:s="standard",count:o=1,defaultPage:l=1,disabled:u=!1,getItemAriaLabel:d=q6e,hideNextButton:h=!1,hidePrevButton:m=!1,onChange:y,page:x,renderItem:v=M=>c.jsx(H6e,{...M}),shape:_="circular",showFirstButton:C=!1,showLastButton:w=!1,siblingCount:T=1,size:E="medium",variant:I="text",...j}=r,{items:O}=D6e({...r,componentName:"Pagination"}),L={...r,boundaryCount:a,color:s,count:o,defaultPage:l,disabled:u,getItemAriaLabel:d,hideNextButton:h,hidePrevButton:m,renderItem:v,shape:_,showFirstButton:C,showLastButton:w,siblingCount:T,size:E,variant:I},N=U6e(L);return c.jsx($6e,{"aria-label":"pagination navigation",className:ut(N.root,i),ownerState:L,ref:n,...j,children:c.jsx(G6e,{className:N.ul,ownerState:L,children:O.map((M,H)=>c.jsx("li",{children:v({...M,color:s,"aria-label":d(M.type,M.page,M.selected),shape:_,size:E,variant:I})},H))})})}),W6e=mt(c.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),Y6e=mt(c.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"})),K6e=$e("span",{name:"MuiRadioButtonIcon",shouldForwardProp:ki})({position:"relative",display:"flex"}),X6e=$e(W6e,{name:"MuiRadioButtonIcon"})({transform:"scale(1)"}),Q6e=$e(Y6e,{name:"MuiRadioButtonIcon"})(At(({theme:t})=>({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})}}]})));function LX(t){const{checked:e=!1,classes:n={},fontSize:r}=t,a={...t,checked:e};return c.jsxs(K6e,{className:n.root,ownerState:a,children:[c.jsx(X6e,{fontSize:r,className:n.background,ownerState:a}),c.jsx(Q6e,{fontSize:r,className:n.dot,ownerState:a})]})}const zX=A.createContext(void 0);function Z6e(){return A.useContext(zX)}function J6e(t){return Mt("MuiRadio",t)}const kL=Lt("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),e8e=t=>{const{classes:e,color:n,size:r}=t,a={root:["root",`color${Ue(n)}`,r!=="medium"&&`size${Ue(r)}`]};return{...e,...Nt(a,J6e,e)}},t8e=$e(CO,{shouldForwardProp:t=>ki(t)||t==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size!=="medium"&&e[`size${Ue(n.size)}`],e[`color${Ue(n.color)}`]]}})(At(({theme:t})=>({color:(t.vars||t).palette.text.secondary,[`&.${kL.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e,disabled:!1},style:{[`&.${kL.checked}`]:{color:(t.vars||t).palette[e].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]})));function n8e(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}const r8e=c.jsx(LX,{checked:!0}),a8e=c.jsx(LX,{}),mu=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiRadio"}),{checked:a,checkedIcon:i=r8e,color:s="primary",icon:o=a8e,name:l,onChange:u,size:d="medium",className:h,disabled:m,disableRipple:y=!1,slots:x={},slotProps:v={},inputProps:_,...C}=r,w=Iu();let T=m;w&&typeof T>"u"&&(T=w.disabled),T??=!1;const E={...r,disabled:T,disableRipple:y,color:s,size:d},I=e8e(E),j=Z6e();let O=a;const L=Nk(u,j&&j.onChange);let N=l;j&&(typeof O>"u"&&(O=n8e(j.value,r.value)),typeof N>"u"&&(N=j.name));const M=v.input??_,[H,P]=Ht("root",{ref:n,elementType:t8e,className:ut(I.root,h),shouldForwardComponentProp:!0,externalForwardedProps:{slots:x,slotProps:v,...C},getSlotProps:$=>({...$,onChange:(D,...U)=>{$.onChange?.(D,...U),L(D,...U)}}),ownerState:E,additionalProps:{type:"radio",icon:A.cloneElement(o,{fontSize:o.props.fontSize??d}),checkedIcon:A.cloneElement(i,{fontSize:i.props.fontSize??d}),disabled:T,name:N,checked:O,slots:x,slotProps:{input:typeof M=="function"?M(E):M}}});return c.jsx(H,{...P,classes:I})});function i8e(t){return Mt("MuiRadioGroup",t)}Lt("MuiRadioGroup",["root","row","error"]);const s8e=t=>{const{classes:e,row:n,error:r}=t;return Nt({root:["root",n&&"row",r&&"error"]},i8e,e)},I2=A.forwardRef(function(e,n){const{actions:r,children:a,className:i,defaultValue:s,name:o,onChange:l,value:u,...d}=e,h=A.useRef(null),m=s8e(e),[y,x]=kp({controlled:u,default:s,name:"RadioGroup"});A.useImperativeHandle(r,()=>({focus:()=>{let w=h.current.querySelector("input:not(:disabled):checked");w||(w=h.current.querySelector("input:not(:disabled)")),w&&w.focus()}}),[]);const v=aa(n,h),_=Nd(o),C=A.useMemo(()=>({name:_,onChange(w){x(w.target.value),l&&l(w,w.target.value)},value:y}),[_,l,x,y]);return c.jsx(zX.Provider,{value:C,children:c.jsx(kX,{role:"radiogroup",ref:v,className:ut(m.root,i),...d,children:a})})}),o8e={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function FX(t){return Mt("MuiSelect",t)}const Rx=Lt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var IL;const l8e=$e(OX,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Rx.select}`]:e.select},{[`&.${Rx.select}`]:e[n.variant]},{[`&.${Rx.error}`]:e.error},{[`&.${Rx.multiple}`]:e.multiple}]}})({[`&.${Rx.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),c8e=$e(DX,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ue(n.variant)}`],n.open&&e.iconOpen]}})({}),u8e=$e("input",{shouldForwardProp:t=>v5(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function jL(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function d8e(t){return t==null||typeof t=="string"&&!t.trim()}const f8e=t=>{const{classes:e,variant:n,disabled:r,multiple:a,open:i,error:s}=t,o={select:["select",n,r&&"disabled",a&&"multiple",s&&"error"],icon:["icon",`icon${Ue(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Nt(o,FX,e)},h8e=A.forwardRef(function(e,n){const{"aria-describedby":r,"aria-label":a,autoFocus:i,autoWidth:s,children:o,className:l,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:m,error:y=!1,IconComponent:x,inputRef:v,labelId:_,MenuProps:C={},multiple:w,name:T,onBlur:E,onChange:I,onClose:j,onFocus:O,onOpen:L,open:N,readOnly:M,renderValue:H,required:P,SelectDisplayProps:$={},tabIndex:D,type:U,value:F,variant:W="standard",...ee}=e,[Q,K]=kp({controlled:F,default:d,name:"Select"}),[V,Z]=kp({controlled:N,default:u,name:"Select"}),q=A.useRef(null),te=A.useRef(null),[ae,ie]=A.useState(null),{current:ce}=A.useRef(N!=null),[pe,ge]=A.useState(),oe=aa(n,v),ue=A.useCallback(st=>{te.current=st,st&&ie(st)},[]),he=ae?.parentNode;A.useImperativeHandle(oe,()=>({focus:()=>{te.current.focus()},node:q.current,value:Q}),[Q]),A.useEffect(()=>{u&&V&&ae&&!ce&&(ge(s?null:he.clientWidth),te.current.focus())},[ae,s]),A.useEffect(()=>{i&&te.current.focus()},[i]),A.useEffect(()=>{if(!_)return;const st=di(te.current).getElementById(_);if(st){const ft=()=>{getSelection().isCollapsed&&te.current.focus()};return st.addEventListener("click",ft),()=>{st.removeEventListener("click",ft)}}},[_]);const ve=(st,ft)=>{st?L&&L(ft):j&&j(ft),ce||(ge(s?null:he.clientWidth),Z(st))},me=st=>{st.button===0&&(st.preventDefault(),te.current.focus(),ve(!0,st))},le=st=>{ve(!1,st)},Se=A.Children.toArray(o),be=st=>{const ft=Se.find(qt=>qt.props.value===st.target.value);ft!==void 0&&(K(ft.props.value),I&&I(st,ft))},Te=st=>ft=>{let qt;if(ft.currentTarget.hasAttribute("tabindex")){if(w){qt=Array.isArray(Q)?Q.slice():[];const Gt=Q.indexOf(st.props.value);Gt===-1?qt.push(st.props.value):qt.splice(Gt,1)}else qt=st.props.value;if(st.props.onClick&&st.props.onClick(ft),Q!==qt&&(K(qt),I)){const Gt=ft.nativeEvent||ft,bn=new Gt.constructor(Gt.type,Gt);Object.defineProperty(bn,"target",{writable:!0,value:{value:qt,name:T}}),I(bn,st)}w||ve(!1,ft)}},Ne=st=>{M||[" ","ArrowUp","ArrowDown","Enter"].includes(st.key)&&(st.preventDefault(),ve(!0,st))},Pe=ae!==null&&V,Le=st=>{!Pe&&E&&(Object.defineProperty(st,"target",{writable:!0,value:{value:Q,name:T}}),E(st))};delete ee["aria-invalid"];let De,Xe;const ke=[];let Ie=!1;(cC({value:Q})||m)&&(H?De=H(Q):Ie=!0);const ye=Se.map(st=>{if(!A.isValidElement(st))return null;let ft;if(w){if(!Array.isArray(Q))throw new Error(qf(2));ft=Q.some(qt=>jL(qt,st.props.value)),ft&&Ie&&ke.push(st.props.children)}else ft=jL(Q,st.props.value),ft&&Ie&&(Xe=st.props.children);return A.cloneElement(st,{"aria-selected":ft?"true":"false",onClick:Te(st),onKeyUp:qt=>{qt.key===" "&&qt.preventDefault(),st.props.onKeyUp&&st.props.onKeyUp(qt)},role:"option",selected:ft,value:void 0,"data-value":st.props.value})});Ie&&(w?ke.length===0?De=null:De=ke.reduce((st,ft,qt)=>(st.push(ft),qt<ke.length-1&&st.push(", "),st),[]):De=Xe);let Ce=pe;!s&&ce&&ae&&(Ce=he.clientWidth);let Me;typeof D<"u"?Me=D:Me=h?null:0;const He=$.id||(T?`mui-component-select-${T}`:void 0),Qe={...e,variant:W,value:Q,open:Pe,error:y},Je=f8e(Qe),Ge={...C.PaperProps,...typeof C.slotProps?.paper=="function"?C.slotProps.paper(Qe):C.slotProps?.paper},it={...C.MenuListProps,...typeof C.slotProps?.list=="function"?C.slotProps.list(Qe):C.slotProps?.list},rt=Nd();return c.jsxs(A.Fragment,{children:[c.jsx(l8e,{as:"div",ref:ue,tabIndex:Me,role:"combobox","aria-controls":Pe?rt:void 0,"aria-disabled":h?"true":void 0,"aria-expanded":Pe?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[_,He].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":P?"true":void 0,"aria-invalid":y?"true":void 0,onKeyDown:Ne,onMouseDown:h||M?null:me,onBlur:Le,onFocus:O,...$,ownerState:Qe,className:ut($.className,Je.select,l),id:He,children:d8e(De)?IL||(IL=c.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):De}),c.jsx(u8e,{"aria-invalid":y,value:Array.isArray(Q)?Q.join(","):Q,name:T,ref:q,"aria-hidden":!0,onChange:be,tabIndex:-1,disabled:h,className:Je.nativeInput,autoFocus:i,required:P,...ee,ownerState:Qe}),c.jsx(c8e,{as:x,className:Je.icon,ownerState:Qe}),c.jsx(Ay,{id:`menu-${T||""}`,anchorEl:he,open:Pe,onClose:le,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...C,slotProps:{...C.slotProps,list:{"aria-labelledby":_,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:rt,...it},paper:{...Ge,style:{minWidth:Ce,...Ge!=null?Ge.style:null}}},children:ye})]})}),p8e=t=>{const{classes:e}=t,r=Nt({root:["root"]},FX,e);return{...e,...r}},jO={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>ki(t)&&t!=="variant"},m8e=$e(TO,jO)(""),g8e=$e(IO,jO)(""),y8e=$e(EO,jO)(""),Ua=A.forwardRef(function(e,n){const r=zt({name:"MuiSelect",props:e}),{autoWidth:a=!1,children:i,classes:s={},className:o,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:d=I5e,id:h,input:m,inputProps:y,label:x,labelId:v,MenuProps:_,multiple:C=!1,native:w=!1,onClose:T,onOpen:E,open:I,renderValue:j,SelectDisplayProps:O,variant:L="outlined",...N}=r,M=w?w6e:h8e,H=Iu(),P=Bp({props:r,muiFormControl:H,states:["variant","error"]}),$=P.variant||L,D={...r,variant:$,classes:s},U=p8e(D),{root:F,...W}=U,ee=m||{standard:c.jsx(m8e,{ownerState:D}),outlined:c.jsx(g8e,{label:x,ownerState:D}),filled:c.jsx(y8e,{ownerState:D})}[$],Q=aa(n,Fp(ee));return c.jsx(A.Fragment,{children:A.cloneElement(ee,{inputComponent:M,inputProps:{children:i,error:P.error,IconComponent:d,variant:$,type:void 0,multiple:C,...w?{id:h}:{autoWidth:a,defaultOpen:l,displayEmpty:u,labelId:v,MenuProps:_,onClose:T,onOpen:E,open:I,renderValue:j,SelectDisplayProps:{id:h,...O}},...y,classes:y?ns(W,y.classes):W,...m?m.props.inputProps:{}},...(C&&w||u)&&$==="outlined"?{notched:!0}:{},ref:Q,className:ut(ee.props.className,o,U.root),...!m&&{variant:$},...N})})});Ua.muiName="Select";function b8e(t){return Mt("MuiSkeleton",t)}Lt("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const x8e=t=>{const{classes:e,variant:n,animation:r,hasChildren:a,width:i,height:s}=t;return Nt({root:["root",n,r,a&&"withChildren",a&&!i&&"fitContent",a&&!s&&"heightAuto"]},b8e,e)},eI=Ud`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,tI=Ud`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,v8e=typeof eI!="string"?Pp`
        animation: ${eI} 2s ease-in-out 0.5s infinite;
      `:null,S8e=typeof tI!="string"?Pp`
        &::after {
          animation: ${tI} 2s linear 0.5s infinite;
        }
      `:null,_8e=$e("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.animation!==!1&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})(At(({theme:t})=>{const e=__e(t.shape.borderRadius)||"px",n=C_e(t.shape.borderRadius);return{display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:t.alpha(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${e}/${Math.round(n/.6*10)/10}${e}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:v8e||{animation:`${eI} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(t.vars||t).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:S8e||{"&::after":{animation:`${tI} 2s linear 0.5s infinite`}}}]}})),bu=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiSkeleton"}),{animation:a="pulse",className:i,component:s="span",height:o,style:l,variant:u="text",width:d,...h}=r,m={...r,animation:a,component:s,variant:u,hasChildren:!!h.children},y=x8e(m);return c.jsx(_8e,{as:s,ref:n,className:ut(y.root,i),ownerState:m,...h,style:{width:d,height:o,...l}})});function C8e(t,e,n=(r,a)=>r===a){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}const w8e=2;function u1(t,e,n,r,a){return n===1?Math.min(t+e,a):Math.max(t-e,r)}function BX(t,e){return t-e}function OL(t,e){const{index:n}=t.reduce((r,a,i)=>{const s=Math.abs(e-a);return r===null||s<r.distance||s===r.distance?{distance:s,index:i}:r},null)??{};return n}function w_(t,e){if(e.current!==void 0&&t.changedTouches){const n=t;for(let r=0;r<n.changedTouches.length;r+=1){const a=n.changedTouches[r];if(a.identifier===e.current)return{x:a.clientX,y:a.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function fC(t,e,n){return(t-e)*100/(n-e)}function E8e(t,e,n){return(n-e)*t+e}function T8e(t){if(Math.abs(t)<1){const n=t.toExponential().split("e-"),r=n[0].split(".")[1];return(r?r.length:0)+parseInt(n[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function A8e(t,e,n){const r=Math.round((t-n)/e)*e+n;return Number(r.toFixed(T8e(e)))}function DL({values:t,newValue:e,index:n}){const r=t.slice();return r[n]=e,r.sort(BX)}function E_({sliderRef:t,activeIndex:e,setActive:n}){const r=di(t.current);(!t.current?.contains(r.activeElement)||Number(r?.activeElement?.getAttribute("data-index"))!==e)&&t.current?.querySelector(`[type="range"][data-index="${e}"]`).focus(),n&&n(e)}function T_(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?C8e(t,e):!1}const R8e={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},k8e=t=>t;let A_;function ML(){return A_===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?A_=CSS.supports("touch-action","none"):A_=!0),A_}function I8e(t){const{"aria-labelledby":e,defaultValue:n,disabled:r=!1,disableSwap:a=!1,isRtl:i=!1,marks:s=!1,max:o=100,min:l=0,name:u,onChange:d,onChangeCommitted:h,orientation:m="horizontal",rootRef:y,scale:x=k8e,step:v=1,shiftStep:_=10,tabIndex:C,value:w}=t,T=A.useRef(void 0),[E,I]=A.useState(-1),[j,O]=A.useState(-1),[L,N]=A.useState(!1),M=A.useRef(0),H=A.useRef(null),[P,$]=kp({controlled:w,default:n??l,name:"Slider"}),D=d&&((Ie,ye,Ce)=>{const Me=Ie.nativeEvent||Ie,He=new Me.constructor(Me.type,Me);Object.defineProperty(He,"target",{writable:!0,value:{value:ye,name:u}}),H.current=ye,d(He,ye,Ce)}),U=Array.isArray(P);let F=U?P.slice().sort(BX):[P];F=F.map(Ie=>Ie==null?l:A1(Ie,l,o));const W=s===!0&&v!==null?[...Array(Math.floor((o-l)/v)+1)].map((Ie,ye)=>({value:l+v*ye})):s||[],ee=W.map(Ie=>Ie.value),[Q,K]=A.useState(-1),V=A.useRef(null),Z=aa(y,V),q=Ie=>ye=>{const Ce=Number(ye.currentTarget.getAttribute("data-index"));Op(ye.target)&&K(Ce),O(Ce),Ie?.onFocus?.(ye)},te=Ie=>ye=>{Op(ye.target)||K(-1),O(-1),Ie?.onBlur?.(ye)},ae=(Ie,ye)=>{const Ce=Number(Ie.currentTarget.getAttribute("data-index")),Me=F[Ce],He=ee.indexOf(Me);let Qe=ye;if(W&&v==null){const Je=ee[ee.length-1];Qe>=Je?Qe=Je:Qe<=ee[0]?Qe=ee[0]:Qe=Qe<Me?ee[He-1]:ee[He+1]}if(Qe=A1(Qe,l,o),U){a&&(Qe=A1(Qe,F[Ce-1]||-1/0,F[Ce+1]||1/0));const Je=Qe;Qe=DL({values:F,newValue:Qe,index:Ce});let Ge=Ce;a||(Ge=Qe.indexOf(Je)),E_({sliderRef:V,activeIndex:Ge})}$(Qe),K(Ce),D&&!T_(Qe,P)&&D(Ie,Qe,Ce),h&&h(Ie,H.current??Qe)},ie=Ie=>ye=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(ye.key)){ye.preventDefault();const Ce=Number(ye.currentTarget.getAttribute("data-index")),Me=F[Ce];let He=null;if(v!=null){const Qe=ye.shiftKey?_:v;switch(ye.key){case"ArrowUp":He=u1(Me,Qe,1,l,o);break;case"ArrowRight":He=u1(Me,Qe,i?-1:1,l,o);break;case"ArrowDown":He=u1(Me,Qe,-1,l,o);break;case"ArrowLeft":He=u1(Me,Qe,i?1:-1,l,o);break;case"PageUp":He=u1(Me,_,1,l,o);break;case"PageDown":He=u1(Me,_,-1,l,o);break;case"Home":He=l;break;case"End":He=o;break}}else if(W){const Qe=ee[ee.length-1],Je=ee.indexOf(Me),Ge=[i?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],it=[i?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];Ge.includes(ye.key)?Je===0?He=ee[0]:He=ee[Je-1]:it.includes(ye.key)&&(Je===ee.length-1?He=Qe:He=ee[Je+1])}He!=null&&ae(ye,He)}Ie?.onKeyDown?.(ye)};qs(()=>{r&&V.current.contains(document.activeElement)&&document.activeElement?.blur()},[r]),r&&E!==-1&&I(-1),r&&Q!==-1&&K(-1);const ce=Ie=>ye=>{Ie.onChange?.(ye),ae(ye,ye.target.valueAsNumber)},pe=A.useRef(void 0);let ge=m;i&&m==="horizontal"&&(ge+="-reverse");const oe=({finger:Ie,move:ye=!1})=>{const{current:Ce}=V,{width:Me,height:He,bottom:Qe,left:Je}=Ce.getBoundingClientRect();let Ge;ge.startsWith("vertical")?Ge=(Qe-Ie.y)/He:Ge=(Ie.x-Je)/Me,ge.includes("-reverse")&&(Ge=1-Ge);let it;if(it=E8e(Ge,l,o),v)it=A8e(it,v,l);else{const st=OL(ee,it);it=ee[st]}it=A1(it,l,o);let rt=0;if(U){ye?rt=pe.current:rt=OL(F,it),a&&(it=A1(it,F[rt-1]||-1/0,F[rt+1]||1/0));const st=it;it=DL({values:F,newValue:it,index:rt}),a&&ye||(rt=it.indexOf(st),pe.current=rt)}return{newValue:it,activeIndex:rt}},ue=rs(Ie=>{const ye=w_(Ie,T);if(!ye)return;if(M.current+=1,Ie.type==="mousemove"&&Ie.buttons===0){he(Ie);return}const{newValue:Ce,activeIndex:Me}=oe({finger:ye,move:!0});E_({sliderRef:V,activeIndex:Me,setActive:I}),$(Ce),!L&&M.current>w8e&&N(!0),D&&!T_(Ce,P)&&D(Ie,Ce,Me)}),he=rs(Ie=>{const ye=w_(Ie,T);if(N(!1),!ye)return;const{newValue:Ce}=oe({finger:ye,move:!0});I(-1),Ie.type==="touchend"&&O(-1),h&&h(Ie,H.current??Ce),T.current=void 0,me()}),ve=rs(Ie=>{if(r)return;ML()||Ie.preventDefault();const ye=Ie.changedTouches[0];ye!=null&&(T.current=ye.identifier);const Ce=w_(Ie,T);if(Ce!==!1){const{newValue:He,activeIndex:Qe}=oe({finger:Ce});E_({sliderRef:V,activeIndex:Qe,setActive:I}),$(He),D&&!T_(He,P)&&D(Ie,He,Qe)}M.current=0;const Me=di(V.current);Me.addEventListener("touchmove",ue,{passive:!0}),Me.addEventListener("touchend",he,{passive:!0})}),me=A.useCallback(()=>{const Ie=di(V.current);Ie.removeEventListener("mousemove",ue),Ie.removeEventListener("mouseup",he),Ie.removeEventListener("touchmove",ue),Ie.removeEventListener("touchend",he)},[he,ue]);A.useEffect(()=>{const{current:Ie}=V;return Ie.addEventListener("touchstart",ve,{passive:ML()}),()=>{Ie.removeEventListener("touchstart",ve),me()}},[me,ve]),A.useEffect(()=>{r&&me()},[r,me]);const le=Ie=>ye=>{if(Ie.onMouseDown?.(ye),r||ye.defaultPrevented||ye.button!==0)return;ye.preventDefault();const Ce=w_(ye,T);if(Ce!==!1){const{newValue:He,activeIndex:Qe}=oe({finger:Ce});E_({sliderRef:V,activeIndex:Qe,setActive:I}),$(He),D&&!T_(He,P)&&D(ye,He,Qe)}M.current=0;const Me=di(V.current);Me.addEventListener("mousemove",ue,{passive:!0}),Me.addEventListener("mouseup",he)},Se=fC(U?F[0]:l,l,o),be=fC(F[F.length-1],l,o)-Se,Te=(Ie={})=>{const ye=dg(Ie),Ce={onMouseDown:le(ye||{})},Me={...ye,...Ce};return{...Ie,ref:Z,...Me}},Ne=Ie=>ye=>{Ie.onMouseOver?.(ye);const Ce=Number(ye.currentTarget.getAttribute("data-index"));O(Ce)},Pe=Ie=>ye=>{Ie.onMouseLeave?.(ye),O(-1)},Le=(Ie={})=>{const ye=dg(Ie),Ce={onMouseOver:Ne(ye||{}),onMouseLeave:Pe(ye||{})};return{...Ie,...ye,...Ce}},De=Ie=>({pointerEvents:E!==-1&&E!==Ie?"none":void 0});let Xe;return m==="vertical"&&(Xe=i?"vertical-rl":"vertical-lr"),{active:E,axis:ge,axisProps:R8e,dragging:L,focusedThumbIndex:Q,getHiddenInputProps:(Ie={})=>{const ye=dg(Ie),Ce={onChange:ce(ye||{}),onFocus:q(ye||{}),onBlur:te(ye||{}),onKeyDown:ie(ye||{})},Me={...ye,...Ce};return{tabIndex:C,"aria-labelledby":e,"aria-orientation":m,"aria-valuemax":x(o),"aria-valuemin":x(l),name:u,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":t.step??void 0,disabled:r,...Ie,...Me,style:{...o8e,direction:i?"rtl":"ltr",width:"100%",height:"100%",writingMode:Xe}}},getRootProps:Te,getThumbProps:Le,marks:W,open:j,range:U,rootRef:Z,trackLeap:be,trackOffset:Se,values:F,getThumbStyle:De}}const j8e=t=>!t||!Id(t);function O8e(t){return Mt("MuiSlider",t)}const Ac=Lt("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),D8e=t=>{const{open:e}=t;return{offset:ut(e&&Ac.valueLabelOpen),circle:Ac.valueLabelCircle,label:Ac.valueLabelLabel}};function M8e(t){const{children:e,className:n,value:r}=t,a=D8e(t);return e?A.cloneElement(e,{className:e.props.className},c.jsxs(A.Fragment,{children:[e.props.children,c.jsx("span",{className:ut(a.offset,n),"aria-hidden":!0,children:c.jsx("span",{className:a.circle,children:c.jsx("span",{className:a.label,children:r})})})]})):null}function NL(t){return t}const N8e=$e("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${Ue(n.color)}`],n.size!=="medium"&&e[`size${Ue(n.size)}`],n.marked&&e.marked,n.orientation==="vertical"&&e.vertical,n.track==="inverted"&&e.trackInverted,n.track===!1&&e.trackFalse]}})(At(({theme:t})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Ac.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${Ac.dragging}`]:{[`& .${Ac.thumb}, & .${Ac.track}`]:{transition:"none"}},variants:[...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),P8e=$e("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),L8e=$e("span",{name:"MuiSlider",slot:"Track"})(At(({theme:t})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e,track:"inverted"},style:{...t.vars?{backgroundColor:t.vars.palette.Slider[`${e}Track`],borderColor:t.vars.palette.Slider[`${e}Track`]}:{backgroundColor:t.lighten(t.palette[e].main,.62),borderColor:t.lighten(t.palette[e].main,.62),...t.applyStyles("dark",{backgroundColor:t.darken(t.palette[e].main,.5)}),...t.applyStyles("dark",{borderColor:t.darken(t.palette[e].main,.5)})}}}))]}))),z8e=$e("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.thumb,e[`thumbColor${Ue(n.color)}`],n.size!=="medium"&&e[`thumbSize${Ue(n.size)}`]]}})(At(({theme:t})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Ac.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${Ac.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${t.alpha((t.vars||t).palette[e].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${Ac.active}`]:{boxShadow:`0px 0px 0px 14px ${t.alpha((t.vars||t).palette[e].main,.16)}`}}}))]}))),F8e=$e(M8e,{name:"MuiSlider",slot:"ValueLabel"})(At(({theme:t})=>({zIndex:1,whiteSpace:"nowrap",...t.typography.body2,fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Ac.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Ac.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),B8e=$e("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>v5(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:n}=t;return[e.mark,n&&e.markActive]}})(At(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}))),H8e=$e("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>v5(t)&&t!=="markLabelActive"})(At(({theme:t})=>({...t.typography.body2,color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]}))),U8e=t=>{const{disabled:e,dragging:n,marked:r,orientation:a,track:i,classes:s,color:o,size:l}=t,u={root:["root",e&&"disabled",n&&"dragging",r&&"marked",a==="vertical"&&"vertical",i==="inverted"&&"trackInverted",i===!1&&"trackFalse",o&&`color${Ue(o)}`,l&&`size${Ue(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",l&&`thumbSize${Ue(l)}`,o&&`thumbColor${Ue(o)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Nt(u,O8e,s)},$8e=({children:t})=>t,Ha=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiSlider"}),a=$d(),{"aria-label":i,"aria-valuetext":s,"aria-labelledby":o,component:l="span",components:u={},componentsProps:d={},color:h="primary",classes:m,className:y,disableSwap:x=!1,disabled:v=!1,getAriaLabel:_,getAriaValueText:C,marks:w=!1,max:T=100,min:E=0,name:I,onChange:j,onChangeCommitted:O,orientation:L="horizontal",shiftStep:N=10,size:M="medium",step:H=1,scale:P=NL,slotProps:$,slots:D,tabIndex:U,track:F="normal",value:W,valueLabelDisplay:ee="off",valueLabelFormat:Q=NL,...K}=r,V={...r,isRtl:a,max:T,min:E,classes:m,disabled:v,disableSwap:x,orientation:L,marks:w,color:h,size:M,step:H,shiftStep:N,scale:P,track:F,valueLabelDisplay:ee,valueLabelFormat:Q},{axisProps:Z,getRootProps:q,getHiddenInputProps:te,getThumbProps:ae,open:ie,active:ce,axis:pe,focusedThumbIndex:ge,range:oe,dragging:ue,marks:he,values:ve,trackOffset:me,trackLeap:le,getThumbStyle:Se}=I8e({...V,rootRef:n});V.marked=he.length>0&&he.some(Wt=>Wt.label),V.dragging=ue,V.focusedThumbIndex=ge;const be=U8e(V),Te=D?.root??u.Root??N8e,Ne=D?.rail??u.Rail??P8e,Pe=D?.track??u.Track??L8e,Le=D?.thumb??u.Thumb??z8e,De=D?.valueLabel??u.ValueLabel??F8e,Xe=D?.mark??u.Mark??B8e,ke=D?.markLabel??u.MarkLabel??H8e,Ie=D?.input??u.Input??"input",ye=$?.root??d.root,Ce=$?.rail??d.rail,Me=$?.track??d.track,He=$?.thumb??d.thumb,Qe=$?.valueLabel??d.valueLabel,Je=$?.mark??d.mark,Ge=$?.markLabel??d.markLabel,it=$?.input??d.input,rt=vo({elementType:Te,getSlotProps:q,externalSlotProps:ye,externalForwardedProps:K,additionalProps:{...j8e(Te)&&{as:l}},ownerState:{...V,...ye?.ownerState},className:[be.root,y]}),st=vo({elementType:Ne,externalSlotProps:Ce,ownerState:V,className:be.rail}),ft=vo({elementType:Pe,externalSlotProps:Me,additionalProps:{style:{...Z[pe].offset(me),...Z[pe].leap(le)}},ownerState:{...V,...Me?.ownerState},className:be.track}),qt=vo({elementType:Le,getSlotProps:ae,externalSlotProps:He,ownerState:{...V,...He?.ownerState},className:be.thumb}),Gt=vo({elementType:De,externalSlotProps:Qe,ownerState:{...V,...Qe?.ownerState},className:be.valueLabel}),bn=vo({elementType:Xe,externalSlotProps:Je,ownerState:V,className:be.mark}),zn=vo({elementType:ke,externalSlotProps:Ge,ownerState:V,className:be.markLabel}),er=vo({elementType:Ie,getSlotProps:te,externalSlotProps:it,ownerState:V});return c.jsxs(Te,{...rt,children:[c.jsx(Ne,{...st}),c.jsx(Pe,{...ft}),he.filter(Wt=>Wt.value>=E&&Wt.value<=T).map((Wt,Bt)=>{const hn=fC(Wt.value,E,T),_n=Z[pe].offset(hn);let Cn;return F===!1?Cn=ve.includes(Wt.value):Cn=F==="normal"&&(oe?Wt.value>=ve[0]&&Wt.value<=ve[ve.length-1]:Wt.value<=ve[0])||F==="inverted"&&(oe?Wt.value<=ve[0]||Wt.value>=ve[ve.length-1]:Wt.value>=ve[0]),c.jsxs(A.Fragment,{children:[c.jsx(Xe,{"data-index":Bt,...bn,...!Id(Xe)&&{markActive:Cn},style:{..._n,...bn.style},className:ut(bn.className,Cn&&be.markActive)}),Wt.label!=null?c.jsx(ke,{"aria-hidden":!0,"data-index":Bt,...zn,...!Id(ke)&&{markLabelActive:Cn},style:{..._n,...zn.style},className:ut(be.markLabel,zn.className,Cn&&be.markLabelActive),children:Wt.label}):null]},Bt)}),ve.map((Wt,Bt)=>{const hn=fC(Wt,E,T),_n=Z[pe].offset(hn),Cn=ee==="off"?$8e:De;return c.jsx(Cn,{...!Id(Cn)&&{valueLabelFormat:Q,valueLabelDisplay:ee,value:typeof Q=="function"?Q(P(Wt),Bt):Q,index:Bt,open:ie===Bt||ce===Bt||ee==="on",disabled:v},...Gt,children:c.jsx(Le,{"data-index":Bt,...qt,className:ut(be.thumb,qt.className,ce===Bt&&be.active,ge===Bt&&be.focusVisible),style:{..._n,...Se(Bt),...qt.style},children:c.jsx(Ie,{"data-index":Bt,"aria-label":_?_(Bt):i,"aria-valuenow":P(Wt),"aria-labelledby":o,"aria-valuetext":C?C(P(Wt),Bt):s,value:ve[Bt],...er})})},Bt)})]})});function G8e(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:a,resumeHideDuration:i}=t,s=cp();A.useEffect(()=>{if(!a)return;function C(w){w.defaultPrevented||w.key==="Escape"&&r?.(w,"escapeKeyDown")}return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[a,r]);const o=rs((C,w)=>{r?.(C,w)}),l=rs(C=>{!r||C==null||s.start(C,()=>{o(null,"timeout")})});A.useEffect(()=>(a&&l(e),s.clear),[a,e,l,s]);const u=C=>{r?.(C,"clickaway")},d=s.clear,h=A.useCallback(()=>{e!=null&&l(i??e*.5)},[e,i,l]),m=C=>w=>{const T=C.onBlur;T?.(w),h()},y=C=>w=>{const T=C.onFocus;T?.(w),d()},x=C=>w=>{const T=C.onMouseEnter;T?.(w),d()},v=C=>w=>{const T=C.onMouseLeave;T?.(w),h()};return A.useEffect(()=>{if(!n&&a)return window.addEventListener("focus",h),window.addEventListener("blur",d),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",d)}},[n,a,h,d]),{getRootProps:(C={})=>{const w={...dg(t),...dg(C)};return{role:"presentation",...C,...w,onBlur:m(w),onFocus:y(w),onMouseEnter:x(w),onMouseLeave:v(w)}},onClickAway:u}}function q8e(t){return Mt("MuiSnackbarContent",t)}Lt("MuiSnackbarContent",["root","message","action"]);const V8e=t=>{const{classes:e}=t;return Nt({root:["root"],action:["action"],message:["message"]},q8e,e)},W8e=$e(Yt,{name:"MuiSnackbarContent",slot:"Root"})(At(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98;return{...t.typography.body2,color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(nv(t.palette.background.default,e)),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:nv(t.palette.background.default,e),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),Y8e=$e("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"}),K8e=$e("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),X8e=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiSnackbarContent"}),{action:a,className:i,message:s,role:o="alert",...l}=r,u=r,d=V8e(u);return c.jsxs(W8e,{role:o,elevation:6,className:ut(d.root,i),ownerState:u,ref:n,...l,children:[c.jsx(Y8e,{className:d.message,ownerState:u,children:s}),a?c.jsx(K8e,{className:d.action,ownerState:u,children:a}):null]})});function Q8e(t){return Mt("MuiSnackbar",t)}Lt("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Z8e=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${Ue(n.vertical)}${Ue(n.horizontal)}`]};return Nt(r,Q8e,e)},J8e=$e("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${Ue(n.anchorOrigin.vertical)}${Ue(n.anchorOrigin.horizontal)}`]]}})(At(({theme:t})=>({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:e})=>e.anchorOrigin.vertical==="top",style:{top:8,[t.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:e})=>e.anchorOrigin.vertical!=="top",style:{bottom:8,[t.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[t.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[t.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="center",style:{[t.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),zg=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiSnackbar"}),a=os(),i={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:o,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:u=null,children:d,className:h,ClickAwayListenerProps:m,ContentProps:y,disableWindowBlurListener:x=!1,message:v,onBlur:_,onClose:C,onFocus:w,onMouseEnter:T,onMouseLeave:E,open:I,resumeHideDuration:j,slots:O={},slotProps:L={},TransitionComponent:N,transitionDuration:M=i,TransitionProps:{onEnter:H,onExited:P,...$}={},...D}=r,U={...r,anchorOrigin:{vertical:o,horizontal:l},autoHideDuration:u,disableWindowBlurListener:x,TransitionComponent:N,transitionDuration:M},F=Z8e(U),{getRootProps:W,onClickAway:ee}=G8e({...U}),[Q,K]=A.useState(!0),V=ve=>{K(!0),P&&P(ve)},Z=(ve,me)=>{K(!1),H&&H(ve,me)},q={slots:{transition:N,...O},slotProps:{content:y,clickAwayListener:m,transition:$,...L}},[te,ae]=Ht("root",{ref:n,className:[F.root,h],elementType:J8e,getSlotProps:W,externalForwardedProps:{...q,...D},ownerState:U}),[ie,{ownerState:ce,...pe}]=Ht("clickAwayListener",{elementType:Uwe,externalForwardedProps:q,getSlotProps:ve=>({onClickAway:(...me)=>{const le=me[0];ve.onClickAway?.(...me),!le?.defaultMuiPrevented&&ee(...me)}}),ownerState:U}),[ge,oe]=Ht("content",{elementType:X8e,shouldForwardComponentProp:!0,externalForwardedProps:q,additionalProps:{message:v,action:s},ownerState:U}),[ue,he]=Ht("transition",{elementType:cv,externalForwardedProps:q,getSlotProps:ve=>({onEnter:(...me)=>{ve.onEnter?.(...me),Z(...me)},onExited:(...me)=>{ve.onExited?.(...me),V(...me)}}),additionalProps:{appear:!0,in:I,timeout:M,direction:o==="top"?"down":"up"},ownerState:U});return!I&&Q?null:c.jsx(ie,{...pe,...O.clickAwayListener&&{ownerState:ce},children:c.jsx(te,{...ae,children:c.jsx(ue,{...he,children:d||c.jsx(ge,{...oe})})})})});function eAe(t){return Mt("MuiTooltip",t)}const Ja=Lt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function tAe(t){return Math.round(t*1e5)/1e5}const nAe=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:a,placement:i}=t,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",a&&"touch",`tooltipPlacement${Ue(i.split("-")[0])}`],arrow:["arrow"]};return Nt(s,eAe,e)},rAe=$e(_X,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(At(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${Ja.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Ja.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Ja.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Ja.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Ja.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Ja.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Ja.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Ja.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),aAe=$e("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${Ue(n.placement.split("-")[0])}`]]}})(At(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${Ja.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Ja.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Ja.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Ja.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${tAe(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${Ja.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Ja.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${Ja.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Ja.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${Ja.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Ja.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${Ja.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Ja.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Ja.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Ja.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),iAe=$e("span",{name:"MuiTooltip",slot:"Arrow"})(At(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let R_=!1;const PL=new _5;let kx={x:0,y:0};function k_(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const Xt=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiTooltip"}),{arrow:a=!1,children:i,classes:s,components:o={},componentsProps:l={},describeChild:u=!1,disableFocusListener:d=!1,disableHoverListener:h=!1,disableInteractive:m=!1,disableTouchListener:y=!1,enterDelay:x=100,enterNextDelay:v=0,enterTouchDelay:_=700,followCursor:C=!1,id:w,leaveDelay:T=0,leaveTouchDelay:E=1500,onClose:I,onOpen:j,open:O,placement:L="bottom",PopperComponent:N,PopperProps:M={},slotProps:H={},slots:P={},title:$,TransitionComponent:D,TransitionProps:U,...F}=r,W=A.isValidElement(i)?i:c.jsx("span",{children:i}),ee=os(),Q=$d(),[K,V]=A.useState(),[Z,q]=A.useState(null),te=A.useRef(!1),ae=m||C,ie=cp(),ce=cp(),pe=cp(),ge=cp(),[oe,ue]=kp({controlled:O,default:!1,name:"Tooltip",state:"open"});let he=oe;const ve=Nd(w),me=A.useRef(),le=rs(()=>{me.current!==void 0&&(document.body.style.WebkitUserSelect=me.current,me.current=void 0),ge.clear()});A.useEffect(()=>le,[le]);const Se=Ut=>{PL.clear(),R_=!0,ue(!0),j&&!he&&j(Ut)},be=rs(Ut=>{PL.start(800+T,()=>{R_=!1}),ue(!1),I&&he&&I(Ut),ie.start(ee.transitions.duration.shortest,()=>{te.current=!1})}),Te=Ut=>{te.current&&Ut.type!=="touchstart"||(K&&K.removeAttribute("title"),ce.clear(),pe.clear(),x||R_&&v?ce.start(R_?v:x,()=>{Se(Ut)}):Se(Ut))},Ne=Ut=>{ce.clear(),pe.start(T,()=>{be(Ut)})},[,Pe]=A.useState(!1),Le=Ut=>{Op(Ut.target)||(Pe(!1),Ne(Ut))},De=Ut=>{K||V(Ut.currentTarget),Op(Ut.target)&&(Pe(!0),Te(Ut))},Xe=Ut=>{te.current=!0;const Nn=W.props;Nn.onTouchStart&&Nn.onTouchStart(Ut)},ke=Ut=>{Xe(Ut),pe.clear(),ie.clear(),le(),me.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ge.start(_,()=>{document.body.style.WebkitUserSelect=me.current,Te(Ut)})},Ie=Ut=>{W.props.onTouchEnd&&W.props.onTouchEnd(Ut),le(),pe.start(E,()=>{be(Ut)})};A.useEffect(()=>{if(!he)return;function Ut(Nn){Nn.key==="Escape"&&be(Nn)}return document.addEventListener("keydown",Ut),()=>{document.removeEventListener("keydown",Ut)}},[be,he]);const ye=aa(Fp(W),V,n);!$&&$!==0&&(he=!1);const Ce=A.useRef(),Me=Ut=>{const Nn=W.props;Nn.onMouseMove&&Nn.onMouseMove(Ut),kx={x:Ut.clientX,y:Ut.clientY},Ce.current&&Ce.current.update()},He={},Qe=typeof $=="string";u?(He.title=!he&&Qe&&!h?$:null,He["aria-describedby"]=he?ve:null):(He["aria-label"]=Qe?$:null,He["aria-labelledby"]=he&&!Qe?ve:null);const Je={...He,...F,...W.props,className:ut(F.className,W.props.className),onTouchStart:Xe,ref:ye,...C?{onMouseMove:Me}:{}},Ge={};y||(Je.onTouchStart=ke,Je.onTouchEnd=Ie),h||(Je.onMouseOver=k_(Te,Je.onMouseOver),Je.onMouseLeave=k_(Ne,Je.onMouseLeave),ae||(Ge.onMouseOver=Te,Ge.onMouseLeave=Ne)),d||(Je.onFocus=k_(De,Je.onFocus),Je.onBlur=k_(Le,Je.onBlur),ae||(Ge.onFocus=De,Ge.onBlur=Le));const it={...r,isRtl:Q,arrow:a,disableInteractive:ae,placement:L,PopperComponentProp:N,touch:te.current},rt=typeof H.popper=="function"?H.popper(it):H.popper,st=A.useMemo(()=>{let Ut=[{name:"arrow",enabled:!!Z,options:{element:Z,padding:4}}];return M.popperOptions?.modifiers&&(Ut=Ut.concat(M.popperOptions.modifiers)),rt?.popperOptions?.modifiers&&(Ut=Ut.concat(rt.popperOptions.modifiers)),{...M.popperOptions,...rt?.popperOptions,modifiers:Ut}},[Z,M.popperOptions,rt?.popperOptions]),ft=nAe(it),qt=typeof H.transition=="function"?H.transition(it):H.transition,Gt={slots:{popper:o.Popper,transition:o.Transition??D,tooltip:o.Tooltip,arrow:o.Arrow,...P},slotProps:{arrow:H.arrow??l.arrow,popper:{...M,...rt??l.popper},tooltip:H.tooltip??l.tooltip,transition:{...U,...qt??l.transition}}},[bn,zn]=Ht("popper",{elementType:rAe,externalForwardedProps:Gt,ownerState:it,className:ut(ft.popper,M?.className)}),[er,Wt]=Ht("transition",{elementType:cv,externalForwardedProps:Gt,ownerState:it}),[Bt,hn]=Ht("tooltip",{elementType:aAe,className:ft.tooltip,externalForwardedProps:Gt,ownerState:it}),[_n,Cn]=Ht("arrow",{elementType:iAe,className:ft.arrow,externalForwardedProps:Gt,ownerState:it,ref:q});return c.jsxs(A.Fragment,{children:[A.cloneElement(W,Je),c.jsx(bn,{as:N??_X,placement:L,anchorEl:C?{getBoundingClientRect:()=>({top:kx.y,left:kx.x,right:kx.x,bottom:kx.y,width:0,height:0})}:K,popperRef:Ce,open:K?he:!1,id:ve,transition:!0,...Ge,...zn,popperOptions:st,children:({TransitionProps:Ut})=>c.jsx(er,{timeout:ee.transitions.duration.shorter,...Ut,...Wt,children:c.jsxs(Bt,{...hn,children:[$,a?c.jsx(_n,{...Cn}):null]})})})]})}),un=Mue({createStyledComponent:$e("div",{name:"MuiStack",slot:"Root"}),useThemeProps:t=>zt({props:t,name:"MuiStack"})});function sAe(t){return Mt("MuiSwitch",t)}const bo=Lt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),oAe=t=>{const{classes:e,edge:n,size:r,color:a,checked:i,disabled:s}=t,o={root:["root",n&&`edge${Ue(n)}`,`size${Ue(r)}`],switchBase:["switchBase",`color${Ue(a)}`,i&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=Nt(o,sAe,e);return{...e,...l}},lAe=$e("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.edge&&e[`edge${Ue(n.edge)}`],e[`size${Ue(n.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${bo.thumb}`]:{width:16,height:16},[`& .${bo.switchBase}`]:{padding:4,[`&.${bo.checked}`]:{transform:"translateX(16px)"}}}}]}),cAe=$e(CO,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.switchBase,{[`& .${bo.input}`]:e.input},n.color!=="default"&&e[`color${Ue(n.color)}`]]}})(At(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${bo.checked}`]:{transform:"translateX(20px)"},[`&.${bo.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${bo.checked} + .${bo.track}`]:{opacity:.5},[`&.${bo.disabled} + .${bo.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${bo.input}`]:{left:"-100%",width:"300%"}})),At(({theme:t})=>({"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(rr(["light"])).map(([e])=>({props:{color:e},style:{[`&.${bo.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${bo.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?t.lighten(t.palette[e].main,.62):t.darken(t.palette[e].main,.55)}`}},[`&.${bo.checked} + .${bo.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]}))),uAe=$e("span",{name:"MuiSwitch",slot:"Track"})(At(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`}))),dAe=$e("span",{name:"MuiSwitch",slot:"Thumb"})(At(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),oi=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiSwitch"}),{className:a,color:i="primary",edge:s=!1,size:o="medium",sx:l,slots:u={},slotProps:d={},...h}=r,m={...r,color:i,edge:s,size:o},y=oAe(m),x={slots:u,slotProps:d},[v,_]=Ht("root",{className:ut(y.root,a),elementType:lAe,externalForwardedProps:x,ownerState:m,additionalProps:{sx:l}}),[C,w]=Ht("thumb",{className:y.thumb,elementType:dAe,externalForwardedProps:x,ownerState:m}),T=c.jsx(C,{...w}),[E,I]=Ht("track",{className:y.track,elementType:uAe,externalForwardedProps:x,ownerState:m});return c.jsxs(v,{..._,children:[c.jsx(cAe,{type:"checkbox",icon:T,checkedIcon:T,ref:n,ownerState:m,...h,classes:{...y,root:y.switchBase},slots:{...u.switchBase&&{root:u.switchBase},...u.input&&{input:u.input}},slotProps:{...d.switchBase&&{root:typeof d.switchBase=="function"?d.switchBase(m):d.switchBase},input:{role:"switch"},...d.input&&{input:typeof d.input=="function"?d.input(m):d.input}}}),c.jsx(E,{...I})]})});function fAe(t){return Mt("MuiTab",t)}const mc=Lt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),hAe=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:a,icon:i,label:s,selected:o,disabled:l}=t,u={root:["root",i&&s&&"labelIcon",`textColor${Ue(n)}`,r&&"fullWidth",a&&"wrapped",o&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]};return Nt(u,fAe,e)},pAe=$e(Co,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${Ue(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped,{[`& .${mc.iconWrapper}`]:e.iconWrapper},{[`& .${mc.icon}`]:e.icon}]}})(At(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="top",style:{[`& > .${mc.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="bottom",style:{[`& > .${mc.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="start",style:{[`& > .${mc.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="end",style:{[`& > .${mc.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${mc.selected}`]:{opacity:1},[`&.${mc.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${mc.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${mc.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${mc.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${mc.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),Gn=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiTab"}),{className:a,disabled:i=!1,disableFocusRipple:s=!1,fullWidth:o,icon:l,iconPosition:u="top",indicator:d,label:h,onChange:m,onClick:y,onFocus:x,selected:v,selectionFollowsFocus:_,textColor:C="inherit",value:w,wrapped:T=!1,...E}=r,I={...r,disabled:i,disableFocusRipple:s,selected:v,icon:!!l,iconPosition:u,label:!!h,fullWidth:o,textColor:C,wrapped:T},j=hAe(I),O=l&&h&&A.isValidElement(l)?A.cloneElement(l,{className:ut(j.icon,l.props.className)}):l,L=M=>{!v&&m&&m(M,w),y&&y(M)},N=M=>{_&&!v&&m&&m(M,w),x&&x(M)};return c.jsxs(pAe,{focusRipple:!s,className:ut(j.root,a),ref:n,role:"tab","aria-selected":v,disabled:i,onClick:L,onFocus:N,ownerState:I,tabIndex:v?0:-1,...E,children:[u==="top"||u==="start"?c.jsxs(A.Fragment,{children:[O,h]}):c.jsxs(A.Fragment,{children:[h,O]}),d]})}),HX=A.createContext();function mAe(t){return Mt("MuiTable",t)}Lt("MuiTable",["root","stickyHeader"]);const gAe=t=>{const{classes:e,stickyHeader:n}=t;return Nt({root:["root",n&&"stickyHeader"]},mAe,e)},yAe=$e("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(At(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),LL="table",I5=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiTable"}),{className:a,component:i=LL,padding:s="normal",size:o="medium",stickyHeader:l=!1,...u}=r,d={...r,component:i,padding:s,size:o,stickyHeader:l},h=gAe(d),m=A.useMemo(()=>({padding:s,size:o,stickyHeader:l}),[s,o,l]);return c.jsx(HX.Provider,{value:m,children:c.jsx(yAe,{as:i,role:i===LL?null:"table",ref:n,className:ut(h.root,a),ownerState:d,...u})})}),j5=A.createContext();function bAe(t){return Mt("MuiTableBody",t)}Lt("MuiTableBody",["root"]);const xAe=t=>{const{classes:e}=t;return Nt({root:["root"]},bAe,e)},vAe=$e("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),SAe={variant:"body"},zL="tbody",O5=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiTableBody"}),{className:a,component:i=zL,...s}=r,o={...r,component:i},l=xAe(o);return c.jsx(j5.Provider,{value:SAe,children:c.jsx(vAe,{className:ut(l.root,a),as:i,ref:n,role:i===zL?null:"rowgroup",ownerState:o,...s})})});function _Ae(t){return Mt("MuiTableCell",t)}const CAe=Lt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),wAe=t=>{const{classes:e,variant:n,align:r,padding:a,size:i,stickyHeader:s}=t,o={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${Ue(r)}`,a!=="normal"&&`padding${Ue(a)}`,`size${Ue(i)}`]};return Nt(o,_Ae,e)},EAe=$e("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Ue(n.size)}`],n.padding!=="normal"&&e[`padding${Ue(n.padding)}`],n.align!=="inherit"&&e[`align${Ue(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(At(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?t.lighten(t.alpha(t.palette.divider,1),.88):t.darken(t.alpha(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${CAe.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),nn=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiTableCell"}),{align:a="inherit",className:i,component:s,padding:o,scope:l,size:u,sortDirection:d,variant:h,...m}=r,y=A.useContext(HX),x=A.useContext(j5),v=x&&x.variant==="head";let _;s?_=s:_=v?"th":"td";let C=l;_==="td"?C=void 0:!C&&v&&(C="col");const w=h||x&&x.variant,T={...r,align:a,component:_,padding:o||(y&&y.padding?y.padding:"normal"),size:u||(y&&y.size?y.size:"medium"),sortDirection:d,stickyHeader:w==="head"&&y&&y.stickyHeader,variant:w},E=wAe(T);let I=null;return d&&(I=d==="asc"?"ascending":"descending"),c.jsx(EAe,{as:_,ref:n,className:ut(E.root,i),"aria-sort":I,scope:C,ownerState:T,...m})});function TAe(t){return Mt("MuiTableContainer",t)}Lt("MuiTableContainer",["root"]);const AAe=t=>{const{classes:e}=t;return Nt({root:["root"]},TAe,e)},RAe=$e("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),D5=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiTableContainer"}),{className:a,component:i="div",...s}=r,o={...r,component:i},l=AAe(o);return c.jsx(RAe,{ref:n,as:i,className:ut(l.root,a),ownerState:o,...s})});function kAe(t){return Mt("MuiTableHead",t)}Lt("MuiTableHead",["root"]);const IAe=t=>{const{classes:e}=t;return Nt({root:["root"]},kAe,e)},jAe=$e("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),OAe={variant:"head"},FL="thead",M5=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiTableHead"}),{className:a,component:i=FL,...s}=r,o={...r,component:i},l=IAe(o);return c.jsx(j5.Provider,{value:OAe,children:c.jsx(jAe,{as:i,className:ut(l.root,a),ref:n,role:i===FL?null:"rowgroup",ownerState:o,...s})})});function DAe(t){return Mt("MuiToolbar",t)}Lt("MuiToolbar",["root","gutters","regular","dense"]);const MAe=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Nt({root:["root",!n&&"gutters",r]},DAe,e)},NAe=$e("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(At(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}))),OO=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiToolbar"}),{className:a,component:i="div",disableGutters:s=!1,variant:o="regular",...l}=r,u={...r,component:i,disableGutters:s,variant:o},d=MAe(u);return c.jsx(NAe,{as:i,className:ut(d.root,a),ref:n,ownerState:u,...l})}),UX=mt(c.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),$X=mt(c.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function PAe(t){return Mt("MuiTablePaginationActions",t)}Lt("MuiTablePaginationActions",["root"]);const LAe=t=>{const{classes:e}=t;return Nt({root:["root"]},PAe,e)},zAe=$e("div",{name:"MuiTablePaginationActions",slot:"Root"})({}),FAe=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiTablePaginationActions"}),{backIconButtonProps:a,className:i,count:s,disabled:o=!1,getItemAriaLabel:l,nextIconButtonProps:u,onPageChange:d,page:h,rowsPerPage:m,showFirstButton:y,showLastButton:x,slots:v={},slotProps:_={},...C}=r,w=$d(),E=LAe(r),I=ae=>{d(ae,0)},j=ae=>{d(ae,h-1)},O=ae=>{d(ae,h+1)},L=ae=>{d(ae,Math.max(0,Math.ceil(s/m)-1))},N=v.firstButton??ht,M=v.lastButton??ht,H=v.nextButton??ht,P=v.previousButton??ht,$=v.firstButtonIcon??MX,D=v.lastButtonIcon??NX,U=v.nextButtonIcon??$X,F=v.previousButtonIcon??UX,W=w?M:N,ee=w?H:P,Q=w?P:H,K=w?N:M,V=w?_.lastButton:_.firstButton,Z=w?_.nextButton:_.previousButton,q=w?_.previousButton:_.nextButton,te=w?_.firstButton:_.lastButton;return c.jsxs(zAe,{ref:n,className:ut(E.root,i),...C,children:[y&&c.jsx(W,{onClick:I,disabled:o||h===0,"aria-label":l("first",h),title:l("first",h),...V,children:w?c.jsx(D,{..._.lastButtonIcon}):c.jsx($,{..._.firstButtonIcon})}),c.jsx(ee,{onClick:j,disabled:o||h===0,color:"inherit","aria-label":l("previous",h),title:l("previous",h),...Z??a,children:w?c.jsx(U,{..._.nextButtonIcon}):c.jsx(F,{..._.previousButtonIcon})}),c.jsx(Q,{onClick:O,disabled:o||(s!==-1?h>=Math.ceil(s/m)-1:!1),color:"inherit","aria-label":l("next",h),title:l("next",h),...q??u,children:w?c.jsx(F,{..._.previousButtonIcon}):c.jsx(U,{..._.nextButtonIcon})}),x&&c.jsx(K,{onClick:L,disabled:o||h>=Math.ceil(s/m)-1,"aria-label":l("last",h),title:l("last",h),...te,children:w?c.jsx($,{..._.firstButtonIcon}):c.jsx(D,{..._.lastButtonIcon})})]})});function BAe(t){return Mt("MuiTablePagination",t)}const j2=Lt("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var BL;const HAe=$e(nn,{name:"MuiTablePagination",slot:"Root"})(At(({theme:t})=>({overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}}))),UAe=$e(OO,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(t,e)=>({[`& .${j2.actions}`]:e.actions,...e.toolbar})})(At(({theme:t})=>({minHeight:52,paddingRight:2,[`${t.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${j2.actions}`]:{flexShrink:0,marginLeft:20}}))),$Ae=$e("div",{name:"MuiTablePagination",slot:"Spacer"})({flex:"1 1 100%"}),GAe=$e("p",{name:"MuiTablePagination",slot:"SelectLabel"})(At(({theme:t})=>({...t.typography.body2,flexShrink:0}))),qAe=$e(Ua,{name:"MuiTablePagination",slot:"Select",overridesResolver:(t,e)=>({[`& .${j2.selectIcon}`]:e.selectIcon,[`& .${j2.select}`]:e.select,...e.input,...e.selectRoot})})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${j2.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),VAe=$e(Jt,{name:"MuiTablePagination",slot:"MenuItem"})({}),WAe=$e("p",{name:"MuiTablePagination",slot:"DisplayedRows"})(At(({theme:t})=>({...t.typography.body2,flexShrink:0})));function YAe({from:t,to:e,count:n}){return`${t}${e} of ${n!==-1?n:`more than ${e}`}`}function KAe(t){return`Go to ${t} page`}const XAe=t=>{const{classes:e}=t;return Nt({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},BAe,e)},QAe=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiTablePagination"}),{ActionsComponent:a=FAe,backIconButtonProps:i,colSpan:s,component:o=nn,count:l,disabled:u=!1,getItemAriaLabel:d=KAe,labelDisplayedRows:h=YAe,labelRowsPerPage:m="Rows per page:",nextIconButtonProps:y,onPageChange:x,onRowsPerPageChange:v,page:_,rowsPerPage:C,rowsPerPageOptions:w=[10,25,50,100],SelectProps:T={},showFirstButton:E=!1,showLastButton:I=!1,slotProps:j={},slots:O={},...L}=r,N=r,M=XAe(N),H=j?.select??T,P=H.native?"option":VAe;let $;(o===nn||o==="td")&&($=s||1e3);const D=Nd(H.id),U=Nd(H.labelId),F=()=>l===-1?(_+1)*C:C===-1?l:Math.min(l,(_+1)*C),W={slots:O,slotProps:j},[ee,Q]=Ht("root",{ref:n,className:M.root,elementType:HAe,externalForwardedProps:{...W,component:o,...L},ownerState:N,additionalProps:{colSpan:$}}),[K,V]=Ht("toolbar",{className:M.toolbar,elementType:UAe,externalForwardedProps:W,ownerState:N}),[Z,q]=Ht("spacer",{className:M.spacer,elementType:$Ae,externalForwardedProps:W,ownerState:N}),[te,ae]=Ht("selectLabel",{className:M.selectLabel,elementType:GAe,externalForwardedProps:W,ownerState:N,additionalProps:{id:U}}),[ie,ce]=Ht("select",{className:M.select,elementType:qAe,externalForwardedProps:W,ownerState:N}),[pe,ge]=Ht("menuItem",{className:M.menuItem,elementType:P,externalForwardedProps:W,ownerState:N}),[oe,ue]=Ht("displayedRows",{className:M.displayedRows,elementType:WAe,externalForwardedProps:W,ownerState:N});return c.jsx(ee,{...Q,children:c.jsxs(K,{...V,children:[c.jsx(Z,{...q}),w.length>1&&c.jsx(te,{...ae,children:m}),w.length>1&&c.jsx(ie,{variant:"standard",...!H.variant&&{input:BL||(BL=c.jsx(k5,{}))},value:C,onChange:v,id:D,labelId:U,...H,classes:{...H.classes,root:ut(M.input,M.selectRoot,(H.classes||{}).root),select:ut(M.select,(H.classes||{}).select),icon:ut(M.selectIcon,(H.classes||{}).icon)},disabled:u,...ce,children:w.map(he=>A.createElement(pe,{...ge,key:he.label?he.label:he,value:he.value?he.value:he},he.label?he.label:he))}),c.jsx(oe,{...ue,children:h({from:l===0?0:_*C+1,to:F(),count:l===-1?-1:l,page:_})}),c.jsx(a,{className:M.actions,backIconButtonProps:i,count:l,nextIconButtonProps:y,onPageChange:x,page:_,rowsPerPage:C,showFirstButton:E,showLastButton:I,slotProps:j.actions,slots:O.actions,getItemAriaLabel:d,disabled:u})]})})});function ZAe(t){return Mt("MuiTableRow",t)}const HL=Lt("MuiTableRow",["root","selected","hover","head","footer"]),JAe=t=>{const{classes:e,selected:n,hover:r,head:a,footer:i}=t;return Nt({root:["root",n&&"selected",r&&"hover",a&&"head",i&&"footer"]},ZAe,e)},eRe=$e("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(At(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${HL.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${HL.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)}}}))),UL="tr",Rc=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiTableRow"}),{className:a,component:i=UL,hover:s=!1,selected:o=!1,...l}=r,u=A.useContext(j5),d={...r,component:i,hover:s,selected:o,head:u&&u.variant==="head",footer:u&&u.variant==="footer"},h=JAe(d);return c.jsx(eRe,{as:i,ref:n,className:ut(h.root,a),role:i===UL?null:"row",ownerState:d,...l})});function tRe(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function nRe(t,e,n,r={},a=()=>{}){const{ease:i=tRe,duration:s=300}=r;let o=null;const l=e[t];let u=!1;const d=()=>{u=!0},h=m=>{if(u){a(new Error("Animation cancelled"));return}o===null&&(o=m);const y=Math.min(1,(m-o)/s);if(e[t]=i(y)*(n-l)+l,y>=1){requestAnimationFrame(()=>{a(null)});return}requestAnimationFrame(h)};return l===n?(a(new Error("Element already at target position")),d):(requestAnimationFrame(h),d)}const rRe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function aRe(t){const{onChange:e,...n}=t,r=A.useRef(),a=A.useRef(null),i=()=>{r.current=a.current.offsetHeight-a.current.clientHeight};return qs(()=>{const s=Qv(()=>{const l=r.current;i(),l!==r.current&&e(r.current)}),o=Ml(a.current);return o.addEventListener("resize",s),()=>{s.clear(),o.removeEventListener("resize",s)}},[e]),A.useEffect(()=>{i(),e(r.current)},[e]),c.jsx("div",{style:rRe,...n,ref:a})}function iRe(t){return Mt("MuiTabScrollButton",t)}const sRe=Lt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),oRe=t=>{const{classes:e,orientation:n,disabled:r}=t;return Nt({root:["root",n,r&&"disabled"]},iRe,e)},lRe=$e(Co,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${sRe.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),cRe=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiTabScrollButton"}),{className:a,slots:i={},slotProps:s={},direction:o,orientation:l,disabled:u,...d}=r,h=$d(),m={isRtl:h,...r},y=oRe(m),x=i.StartScrollButtonIcon??UX,v=i.EndScrollButtonIcon??$X,_=vo({elementType:x,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m}),C=vo({elementType:v,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m});return c.jsx(lRe,{component:"div",className:ut(y.root,a),ref:n,role:null,ownerState:m,tabIndex:null,...d,style:{...d.style,...l==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${h?-90:90}deg)`}},children:o==="left"?c.jsx(x,{..._}):c.jsx(v,{...C})})});function uRe(t){return Mt("MuiTabs",t)}const cT=Lt("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),$L=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,GL=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,I_=(t,e,n)=>{let r=!1,a=n(t,e);for(;a;){if(a===t.firstChild){if(r)return;r=!0}const i=a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||i)a=n(t,a);else{a.focus();return}}},dRe=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:a,scrollableY:i,centered:s,scrollButtonsHideMobile:o,classes:l}=t;return Nt({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",a&&"scrollableX",i&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",o&&"scrollButtonsHideMobile"],scrollableX:[a&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},uRe,l)},fRe=$e("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${cT.scrollButtons}`]:e.scrollButtons},{[`& .${cT.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(At(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${cT.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),hRe=$e("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),pRe=$e("div",{name:"MuiTabs",slot:"List",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.list,e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),mRe=$e("span",{name:"MuiTabs",slot:"Indicator"})(At(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),gRe=$e(aRe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),qL={},il=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiTabs"}),a=os(),i=$d(),{"aria-label":s,"aria-labelledby":o,action:l,centered:u=!1,children:d,className:h,component:m="div",allowScrollButtonsMobile:y=!1,indicatorColor:x="primary",onChange:v,orientation:_="horizontal",ScrollButtonComponent:C,scrollButtons:w="auto",selectionFollowsFocus:T,slots:E={},slotProps:I={},TabIndicatorProps:j={},TabScrollButtonProps:O={},textColor:L="primary",value:N,variant:M="standard",visibleScrollbar:H=!1,...P}=r,$=M==="scrollable",D=_==="vertical",U=D?"scrollTop":"scrollLeft",F=D?"top":"left",W=D?"bottom":"right",ee=D?"clientHeight":"clientWidth",Q=D?"height":"width",K={...r,component:m,allowScrollButtonsMobile:y,indicatorColor:x,orientation:_,vertical:D,scrollButtons:w,textColor:L,variant:M,visibleScrollbar:H,fixed:!$,hideScrollbar:$&&!H,scrollableX:$&&!D,scrollableY:$&&D,centered:u&&!$,scrollButtonsHideMobile:!y},V=dRe(K),Z=vo({elementType:E.StartScrollButtonIcon,externalSlotProps:I.startScrollButtonIcon,ownerState:K}),q=vo({elementType:E.EndScrollButtonIcon,externalSlotProps:I.endScrollButtonIcon,ownerState:K}),[te,ae]=A.useState(!1),[ie,ce]=A.useState(qL),[pe,ge]=A.useState(!1),[oe,ue]=A.useState(!1),[he,ve]=A.useState(!1),[me,le]=A.useState({overflow:"hidden",scrollbarWidth:0}),Se=new Map,be=A.useRef(null),Te=A.useRef(null),Ne={slots:E,slotProps:{indicator:j,scrollButton:O,...I}},Pe=()=>{const wt=be.current;let Dt;if(wt){const rn=wt.getBoundingClientRect();Dt={clientWidth:wt.clientWidth,scrollLeft:wt.scrollLeft,scrollTop:wt.scrollTop,scrollWidth:wt.scrollWidth,top:rn.top,bottom:rn.bottom,left:rn.left,right:rn.right}}let an;if(wt&&N!==!1){const rn=Te.current.children;if(rn.length>0){const Rn=rn[Se.get(N)];an=Rn?Rn.getBoundingClientRect():null}}return{tabsMeta:Dt,tabMeta:an}},Le=rs(()=>{const{tabsMeta:wt,tabMeta:Dt}=Pe();let an=0,rn;D?(rn="top",Dt&&wt&&(an=Dt.top-wt.top+wt.scrollTop)):(rn=i?"right":"left",Dt&&wt&&(an=(i?-1:1)*(Dt[rn]-wt[rn]+wt.scrollLeft)));const Rn={[rn]:an,[Q]:Dt?Dt[Q]:0};if(typeof ie[rn]!="number"||typeof ie[Q]!="number")ce(Rn);else{const cr=Math.abs(ie[rn]-Rn[rn]),vr=Math.abs(ie[Q]-Rn[Q]);(cr>=1||vr>=1)&&ce(Rn)}}),De=(wt,{animation:Dt=!0}={})=>{Dt?nRe(U,be.current,wt,{duration:a.transitions.duration.standard}):be.current[U]=wt},Xe=wt=>{let Dt=be.current[U];D?Dt+=wt:Dt+=wt*(i?-1:1),De(Dt)},ke=()=>{const wt=be.current[ee];let Dt=0;const an=Array.from(Te.current.children);for(let rn=0;rn<an.length;rn+=1){const Rn=an[rn];if(Dt+Rn[ee]>wt){rn===0&&(Dt=wt);break}Dt+=Rn[ee]}return Dt},Ie=()=>{Xe(-1*ke())},ye=()=>{Xe(ke())},[Ce,{onChange:Me,...He}]=Ht("scrollbar",{className:ut(V.scrollableX,V.hideScrollbar),elementType:gRe,shouldForwardComponentProp:!0,externalForwardedProps:Ne,ownerState:K}),Qe=A.useCallback(wt=>{Me?.(wt),le({overflow:null,scrollbarWidth:wt})},[Me]),[Je,Ge]=Ht("scrollButtons",{className:ut(V.scrollButtons,O.className),elementType:cRe,externalForwardedProps:Ne,ownerState:K,additionalProps:{orientation:_,slots:{StartScrollButtonIcon:E.startScrollButtonIcon||E.StartScrollButtonIcon,EndScrollButtonIcon:E.endScrollButtonIcon||E.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:Z,endScrollButtonIcon:q}}}),it=()=>{const wt={};wt.scrollbarSizeListener=$?c.jsx(Ce,{...He,onChange:Qe}):null;const an=$&&(w==="auto"&&(pe||oe)||w===!0);return wt.scrollButtonStart=an?c.jsx(Je,{direction:i?"right":"left",onClick:Ie,disabled:!pe,...Ge}):null,wt.scrollButtonEnd=an?c.jsx(Je,{direction:i?"left":"right",onClick:ye,disabled:!oe,...Ge}):null,wt},rt=rs(wt=>{const{tabsMeta:Dt,tabMeta:an}=Pe();if(!(!an||!Dt)){if(an[F]<Dt[F]){const rn=Dt[U]+(an[F]-Dt[F]);De(rn,{animation:wt})}else if(an[W]>Dt[W]){const rn=Dt[U]+(an[W]-Dt[W]);De(rn,{animation:wt})}}}),st=rs(()=>{$&&w!==!1&&ve(!he)});A.useEffect(()=>{const wt=Qv(()=>{be.current&&Le()});let Dt;const an=cr=>{cr.forEach(vr=>{vr.removedNodes.forEach(jr=>{Dt?.unobserve(jr)}),vr.addedNodes.forEach(jr=>{Dt?.observe(jr)})}),wt(),st()},rn=Ml(be.current);rn.addEventListener("resize",wt);let Rn;return typeof ResizeObserver<"u"&&(Dt=new ResizeObserver(wt),Array.from(Te.current.children).forEach(cr=>{Dt.observe(cr)})),typeof MutationObserver<"u"&&(Rn=new MutationObserver(an),Rn.observe(Te.current,{childList:!0})),()=>{wt.clear(),rn.removeEventListener("resize",wt),Rn?.disconnect(),Dt?.disconnect()}},[Le,st]),A.useEffect(()=>{const wt=Array.from(Te.current.children),Dt=wt.length;if(typeof IntersectionObserver<"u"&&Dt>0&&$&&w!==!1){const an=wt[0],rn=wt[Dt-1],Rn={root:be.current,threshold:.99},cr=Yr=>{ge(!Yr[0].isIntersecting)},vr=new IntersectionObserver(cr,Rn);vr.observe(an);const jr=Yr=>{ue(!Yr[0].isIntersecting)},sa=new IntersectionObserver(jr,Rn);return sa.observe(rn),()=>{vr.disconnect(),sa.disconnect()}}},[$,w,he,d?.length]),A.useEffect(()=>{ae(!0)},[]),A.useEffect(()=>{Le()}),A.useEffect(()=>{rt(qL!==ie)},[rt,ie]),A.useImperativeHandle(l,()=>({updateIndicator:Le,updateScrollButtons:st}),[Le,st]);const[ft,qt]=Ht("indicator",{className:ut(V.indicator,j.className),elementType:mRe,externalForwardedProps:Ne,ownerState:K,additionalProps:{style:ie}}),Gt=c.jsx(ft,{...qt});let bn=0;const zn=A.Children.map(d,wt=>{if(!A.isValidElement(wt))return null;const Dt=wt.props.value===void 0?bn:wt.props.value;Se.set(Dt,bn);const an=Dt===N;return bn+=1,A.cloneElement(wt,{fullWidth:M==="fullWidth",indicator:an&&!te&&Gt,selected:an,selectionFollowsFocus:T,onChange:v,textColor:L,value:Dt,...bn===1&&N===!1&&!wt.props.tabIndex?{tabIndex:0}:{}})}),er=wt=>{if(wt.altKey||wt.shiftKey||wt.ctrlKey||wt.metaKey)return;const Dt=Te.current,an=di(Dt).activeElement;if(an.getAttribute("role")!=="tab")return;let Rn=_==="horizontal"?"ArrowLeft":"ArrowUp",cr=_==="horizontal"?"ArrowRight":"ArrowDown";switch(_==="horizontal"&&i&&(Rn="ArrowRight",cr="ArrowLeft"),wt.key){case Rn:wt.preventDefault(),I_(Dt,an,GL);break;case cr:wt.preventDefault(),I_(Dt,an,$L);break;case"Home":wt.preventDefault(),I_(Dt,null,$L);break;case"End":wt.preventDefault(),I_(Dt,null,GL);break}},Wt=it(),[Bt,hn]=Ht("root",{ref:n,className:ut(V.root,h),elementType:fRe,externalForwardedProps:{...Ne,...P,component:m},ownerState:K}),[_n,Cn]=Ht("scroller",{ref:be,className:V.scroller,elementType:hRe,externalForwardedProps:Ne,ownerState:K,additionalProps:{style:{overflow:me.overflow,[D?`margin${i?"Left":"Right"}`:"marginBottom"]:H?void 0:-me.scrollbarWidth}}}),[Ut,Nn]=Ht("list",{ref:Te,className:ut(V.list,V.flexContainer),elementType:pRe,externalForwardedProps:Ne,ownerState:K,getSlotProps:wt=>({...wt,onKeyDown:Dt=>{er(Dt),wt.onKeyDown?.(Dt)}})});return c.jsxs(Bt,{...hn,children:[Wt.scrollButtonStart,Wt.scrollbarSizeListener,c.jsxs(_n,{...Cn,children:[c.jsx(Ut,{"aria-label":s,"aria-labelledby":o,"aria-orientation":_==="vertical"?"vertical":null,role:"tablist",...Nn,children:zn}),te&&Gt]}),Wt.scrollButtonEnd]})});function yRe(t){return Mt("MuiTextField",t)}Lt("MuiTextField",["root"]);const bRe={standard:TO,filled:EO,outlined:IO},xRe=t=>{const{classes:e}=t;return Nt({root:["root"]},yRe,e)},vRe=$e(ra,{name:"MuiTextField",slot:"Root"})({}),jt=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiTextField"}),{autoComplete:a,autoFocus:i=!1,children:s,className:o,color:l="primary",defaultValue:u,disabled:d=!1,error:h=!1,FormHelperTextProps:m,fullWidth:y=!1,helperText:x,id:v,InputLabelProps:_,inputProps:C,InputProps:w,inputRef:T,label:E,maxRows:I,minRows:j,multiline:O=!1,name:L,onBlur:N,onChange:M,onFocus:H,placeholder:P,required:$=!1,rows:D,select:U=!1,SelectProps:F,slots:W={},slotProps:ee={},type:Q,value:K,variant:V="outlined",...Z}=r,q={...r,autoFocus:i,color:l,disabled:d,error:h,fullWidth:y,multiline:O,required:$,select:U,variant:V},te=xRe(q),ae=Nd(v),ie=x&&ae?`${ae}-helper-text`:void 0,ce=E&&ae?`${ae}-label`:void 0,pe=bRe[V],ge={slots:W,slotProps:{input:w,inputLabel:_,htmlInput:C,formHelperText:m,select:F,...ee}},oe={},ue=ge.slotProps.inputLabel;V==="outlined"&&(ue&&typeof ue.shrink<"u"&&(oe.notched=ue.shrink),oe.label=E),U&&((!F||!F.native)&&(oe.id=void 0),oe["aria-describedby"]=void 0);const[he,ve]=Ht("root",{elementType:vRe,shouldForwardComponentProp:!0,externalForwardedProps:{...ge,...Z},ownerState:q,className:ut(te.root,o),ref:n,additionalProps:{disabled:d,error:h,fullWidth:y,required:$,color:l,variant:V}}),[me,le]=Ht("input",{elementType:pe,externalForwardedProps:ge,additionalProps:oe,ownerState:q}),[Se,be]=Ht("inputLabel",{elementType:Ai,externalForwardedProps:ge,ownerState:q}),[Te,Ne]=Ht("htmlInput",{elementType:"input",externalForwardedProps:ge,ownerState:q}),[Pe,Le]=Ht("formHelperText",{elementType:oTe,externalForwardedProps:ge,ownerState:q}),[De,Xe]=Ht("select",{elementType:Ua,externalForwardedProps:ge,ownerState:q}),ke=c.jsx(me,{"aria-describedby":ie,autoComplete:a,autoFocus:i,defaultValue:u,fullWidth:y,multiline:O,name:L,rows:D,maxRows:I,minRows:j,type:Q,value:K,id:ae,inputRef:T,onBlur:N,onChange:M,onFocus:H,placeholder:P,inputProps:Ne,slots:{input:W.htmlInput?Te:void 0},...le});return c.jsxs(he,{...ve,children:[E!=null&&E!==""&&c.jsx(Se,{htmlFor:ae,id:ce,...be,children:E}),U?c.jsx(De,{"aria-describedby":ie,id:ae,labelId:ce,value:K,input:ke,...Xe,children:s}):ke,x&&c.jsx(Pe,{id:ie,...Le,children:x})]})});function SRe(t){return Mt("MuiToggleButton",t)}const Zm=Lt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),GX=A.createContext({}),qX=A.createContext(void 0);function _Re(t,e){return e===void 0||t===void 0?!1:Array.isArray(e)?e.includes(t):t===e}const CRe=t=>{const{classes:e,fullWidth:n,selected:r,disabled:a,size:i,color:s}=t,o={root:["root",r&&"selected",a&&"disabled",n&&"fullWidth",`size${Ue(i)}`,s]};return Nt(o,SRe,e)},wRe=$e(Co,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`size${Ue(n.size)}`]]}})(At(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${Zm.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${Zm.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.text.primary,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{[`&.${Zm.selected}`]:{color:(t.vars||t).palette[e].main,backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),Dm=A.forwardRef(function(e,n){const{value:r,...a}=A.useContext(GX),i=A.useContext(qX),s=J1({...a,selected:_Re(e.value,r)},e),o=zt({props:s,name:"MuiToggleButton"}),{children:l,className:u,color:d="standard",disabled:h=!1,disableFocusRipple:m=!1,fullWidth:y=!1,onChange:x,onClick:v,selected:_,size:C="medium",value:w,...T}=o,E={...o,color:d,disabled:h,disableFocusRipple:m,fullWidth:y,size:C},I=CRe(E),j=L=>{v&&(v(L,w),L.defaultPrevented)||x&&x(L,w)},O=i||"";return c.jsx(wRe,{className:ut(a.className,I.root,u,O),disabled:h,focusRipple:!m,ref:n,onClick:j,onChange:x,value:w,ownerState:E,"aria-pressed":_,...T,children:l})});function ERe(t){return Mt("MuiToggleButtonGroup",t)}const ya=Lt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),TRe=t=>{const{classes:e,orientation:n,fullWidth:r,disabled:a}=t,i={root:["root",n,r&&"fullWidth"],grouped:["grouped",`grouped${Ue(n)}`,a&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Nt(i,ERe,e)},ARe=$e("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${ya.grouped}`]:e.grouped},{[`& .${ya.grouped}`]:e[`grouped${Ue(n.orientation)}`]},{[`& .${ya.firstButton}`]:e.firstButton},{[`& .${ya.lastButton}`]:e.lastButton},{[`& .${ya.middleButton}`]:e.middleButton},e.root,n.orientation==="vertical"&&e.vertical,n.fullWidth&&e.fullWidth]}})(At(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${ya.grouped}`]:{[`&.${ya.selected} + .${ya.grouped}.${ya.selected}`]:{borderTop:0,marginTop:0}},[`& .${ya.firstButton},& .${ya.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${ya.lastButton},& .${ya.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${ya.lastButton}.${Zm.disabled},& .${ya.middleButton}.${Zm.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${ya.grouped}`]:{[`&.${ya.selected} + .${ya.grouped}.${ya.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${ya.firstButton},& .${ya.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${ya.lastButton},& .${ya.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${ya.lastButton}.${Zm.disabled},& .${ya.middleButton}.${Zm.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),RRe=A.forwardRef(function(e,n){const r=zt({props:e,name:"MuiToggleButtonGroup"}),{children:a,className:i,color:s="standard",disabled:o=!1,exclusive:l=!1,fullWidth:u=!1,onChange:d,orientation:h="horizontal",size:m="medium",value:y,...x}=r,v={...r,disabled:o,fullWidth:u,orientation:h,size:m},_=TRe(v),C=A.useCallback((O,L)=>{if(!d)return;const N=y&&y.indexOf(L);let M;y&&N>=0?(M=y.slice(),M.splice(N,1)):M=y?y.concat(L):[L],d(O,M)},[d,y]),w=A.useCallback((O,L)=>{d&&d(O,y===L?null:L)},[d,y]),T=A.useMemo(()=>({className:_.grouped,onChange:l?w:C,value:y,size:m,fullWidth:u,color:s,disabled:o}),[_.grouped,l,w,C,y,m,u,s,o]),E=lwe(a),I=E.length,j=O=>{const L=O===0,N=O===I-1;return L&&N?"":L?_.firstButton:N?_.lastButton:_.middleButton};return c.jsx(ARe,{role:"group",className:ut(_.root,i),ref:n,ownerState:v,...x,children:c.jsx(GX.Provider,{value:T,children:E.map((O,L)=>c.jsx(qX.Provider,{value:j(L),children:O},L))})})}),uv=xK({themeId:vu}),VX=mt(c.jsx("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"})),Gs=mt(c.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),hC=mt(c.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),Mp=mt(c.jsx("path",{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25z"})),kRe=mt(c.jsx("path",{d:"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6m6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26"})),WX=mt(c.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12m8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8"})),uT=mt(c.jsx("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6"})),dT=mt(c.jsx("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6m0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4"})),IRe=mt(c.jsx("path",{d:"M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3m13.71-9.37-1.34-1.34a.996.996 0 0 0-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41"})),YX=mt(c.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5.97 4.06L14.09 6l1.41 1.41L16.91 6l1.06 1.06-1.41 1.41 1.41 1.41-1.06 1.06-1.41-1.4-1.41 1.41-1.06-1.06 1.41-1.41zm-6.78.66h5v1.5h-5zM11.5 16h-2v2H8v-2H6v-1.5h2v-2h1.5v2h2zm6.5 1.25h-5v-1.5h5zm0-2.5h-5v-1.5h5z"})),DO=mt(c.jsx("path",{d:"m14 4 2.29 2.29-2.88 2.88 1.42 1.42 2.88-2.88L20 10V4zm-4 0H4v6l2.29-2.29 4.71 4.7V20h2v-8.41l-5.29-5.3z"})),KX=mt([c.jsx("path",{d:"m12 2-5.5 9h11z"},"0"),c.jsx("circle",{cx:"17.5",cy:"17.5",r:"4.5"},"1"),c.jsx("path",{d:"M3 13.5h8v8H3z"},"2")]),Cs=mt(c.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),jRe=mt(c.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),ORe=mt(c.jsx("path",{d:"M16 11h-1V3c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v8H8c-2.76 0-5 2.24-5 5v7h18v-7c0-2.76-2.24-5-5-5m3 10h-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v3h-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v3H9v-3c0-.55-.45-1-1-1s-1 .45-1 1v3H5v-5c0-1.65 1.35-3 3-3h8c1.65 0 3 1.35 3 3z"})),Ry=mt(c.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Np=mt(c.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),DRe=mt(c.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M17 13l-5 5-5-5h3V9h4v4z"})),MRe=mt(c.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96M3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4z"})),dv=mt(c.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"})),NRe=mt(c.jsx("path",{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2m-11-4 2.03 2.71L16 11l4 5H8zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"})),eS=mt(c.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"})),PRe=mt(c.jsx("path",{d:"M17 15h2V7c0-1.1-.9-2-2-2H9v2h8zM7 17V1H5v4H1v2h4v10c0 1.1.9 2 2 2h10v4h2v-4h4v-2z"})),xa=mt(c.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),XX=mt(c.jsx("path",{d:"M3 13h2v-2H3zm4 8h2v-2H7zm6-18h-2v2h2zm6 0v2h2c0-1.1-.9-2-2-2M5 21v-2H3c0 1.1.9 2 2 2m-2-4h2v-2H3zm8 4h2v-2h-2zm8-8h2v-2h-2zm0-4h2V7h-2zm-4-4h2V3h-2zM7.83 5 7 4.17V3h2v2zm12 12-.83-.83V15h2v2zm1.36 4.19L2.81 2.81 1.39 4.22 4.17 7H3v2h2V7.83l2 2V17h7.17l2 2H15v2h2v-1.17l2.78 2.78zM9 15v-3.17L12.17 15zm6-2.83V9h-3.17l-2-2H17v7.17z"})),tS=mt(c.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),QX=mt(c.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),LRe=mt(c.jsx("path",{d:"M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m-6 12v-3h-4v-4h4V8l5 5z"})),zd=mt(c.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),Cg=mt(c.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"})),MO=mt(c.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"})),is=mt(c.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),zRe=mt(c.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"})),FRe=mt(c.jsx("path",{d:"M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3"})),BRe=mt(c.jsx("path",{d:"M17 4h3c1.1 0 2 .9 2 2v2h-2V6h-3zM4 8V6h3V4H4c-1.1 0-2 .9-2 2v2zm16 8v2h-3v2h3c1.1 0 2-.9 2-2v-2zM7 18H4v-2H2v2c0 1.1.9 2 2 2h3zM18 8H6v8h12z"})),ZX=mt(c.jsx("path",{d:"M15 21h2v-2h-2zm4-12h2V7h-2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2m16-2v2h2c0-1.1-.9-2-2-2m-8 20h2V1h-2zm8-6h2v-2h-2zM15 5h2V3h-2zm4 8h2v-2h-2zm0 8c1.1 0 2-.9 2-2h-2z"})),HRe=mt([c.jsx("path",{d:"M9 12c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3"},"0"),c.jsx("path",{d:"M8 10V8H5.09C6.47 5.61 9.05 4 12 4c3.72 0 6.85 2.56 7.74 6h2.06c-.93-4.56-4.96-8-9.8-8-3.27 0-6.18 1.58-8 4.01V4H2v6zm8 4v2h2.91c-1.38 2.39-3.96 4-6.91 4-3.72 0-6.85-2.56-7.74-6H2.2c.93 4.56 4.96 8 9.8 8 3.27 0 6.18-1.58 8-4.01V20h2v-6z"},"1")]),ky=mt(c.jsx("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z"})),wu=mt(c.jsx("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 12H4V8h16z"})),NO=mt(c.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"})),H1=mt(c.jsx("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"})),URe=mt(c.jsx("path",{d:"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-8 11H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11zm7-1c0 .55-.45 1-1 1h-.75v1.5h-1.5V15H14c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1zm-3.5-.5h2v-3h-2z"})),pC=mt(c.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"})),JX=mt(c.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})),nS=mt(c.jsx("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2zm10 14.5V20H8v-3.5l4-4zm-4-5-4-4V4h8v3.5z"})),Eu=mt(c.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"})),fv=mt(c.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),Sc=mt(c.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"})),$Re=mt(c.jsx("path",{d:"M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2M11 16l4-4-4-4v3H1v2h10z"})),GRe=mt(c.jsx("path",{d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12z"})),qRe=mt(c.jsx("path",{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27z"})),VRe=mt(c.jsx("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"})),WRe=mt(c.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2M9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9zm9 14H6V10h12zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2"})),VL=mt(c.jsx("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"})),eQ=mt(c.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),tQ=mt(c.jsx("path",{d:"M17 20.41 18.41 19 15 15.59 13.59 17zM7.5 8H11v5.59L5.59 19 7 20.41l6-6V8h3.5L12 3.5z"})),YRe=mt(c.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),nQ=mt(c.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),KRe=mt([c.jsx("path",{d:"m17 17 5-5-5-5-1.41 1.41L18.17 11H9v2h9.17l-2.58 2.59z"},"0"),c.jsx("path",{d:"M19 19H5V5h14v2h2V5c0-1.1-.89-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.11 0 2-.9 2-2v-2h-2z"},"1")]),XRe=mt(c.jsx("path",{d:"M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5"})),QRe=mt(c.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),nI=mt(c.jsx("path",{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2m-11-4 2.03 2.71L16 11l4 5H8zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"})),vp=mt(c.jsx("path",{d:"M8 5v14l11-7z"})),rI=mt(c.jsx("path",{d:"M14 10H3v2h11zm0-4H3v2h11zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2zM3 16h7v-2H3z"})),ZRe=mt(c.jsx("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7z"})),wo=mt(c.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"})),JRe=mt(c.jsx("path",{d:"M19 13H5v-2h14z"})),e9e=mt(c.jsx("path",{d:"M7 7h10v3l4-4-4-4v3H5v6h2zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2z"})),t9e=mt(c.jsx("path",{d:"M7.11 8.53 5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47M6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47m1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93"})),rQ=mt(c.jsx("path",{d:"M15.55 5.55 11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10zM19.93 11c-.17-1.39-.72-2.73-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47zM13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.44-1.44c-.75.54-1.59.89-2.46 1.03m3.89-2.42 1.42 1.41c.9-1.16 1.45-2.5 1.62-3.89h-2.02c-.14.87-.48 1.72-1.02 2.48"})),PO=mt(c.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),n9e=mt(c.jsx("path",{d:"M19.8 18.4 14 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81H9.04c-.42 0-.65.48-.39.81L10 6.5v4.17L4.2 18.4c-.49.66-.02 1.6.8 1.6h14c.82 0 1.29-.94.8-1.6"})),Jf=mt(c.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),r9e=mt(c.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"})),aQ=mt(c.jsx("path",{d:"M3 5h2V3c-1.1 0-2 .9-2 2m0 8h2v-2H3zm4 8h2v-2H7zM3 9h2V7H3zm10-6h-2v2h2zm6 0v2h2c0-1.1-.9-2-2-2M5 21v-2H3c0 1.1.9 2 2 2m-2-4h2v-2H3zM9 3H7v2h2zm2 18h2v-2h-2zm8-8h2v-2h-2zm0 8c1.1 0 2-.9 2-2h-2zm0-12h2V7h-2zm0 8h2v-2h-2zm-4 4h2v-2h-2zm0-16h2V3h-2zM7 17h10V7H7zm2-8h6v6H9z"})),iy=mt(c.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"})),a9e=mt(c.jsx("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"})),i9e=mt(c.jsx("path",{d:"M6 6h12v12H6z"})),iQ=mt(c.jsx("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"})),s9e=mt(c.jsx("path",{d:"M20 10V8h-4V4h-2v4h-4V4H8v4H4v2h4v4H4v2h4v4h2v-4h4v4h2v-4h4v-2h-4v-4zm-6 4h-4v-4h4z"})),o9e=mt(c.jsx("path",{d:"M2.5 4v3h5v12h3V7h5V4zm19 5h-9v3h3v7h3v-7h3z"})),l9e=mt(c.jsx("path",{d:"M3 17v2h6v-2zM3 5v2h10V5zm10 16v-2h8v-2h-8v-2h-2v6zM7 9v2H3v2h4v2h2V9zm14 4v-2H11v2zm-6-4h2V7h4V5h-4V3h-2z"})),c9e=mt(c.jsx("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"})),sQ=mt(c.jsx("path",{d:"M7.41 18.59 8.83 20 12 16.83 15.17 20l1.41-1.41L12 14zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10z"})),oQ=mt(c.jsx("path",{d:"M12 5.83 15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15z"})),hv=mt(c.jsx("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"})),LO=mt(c.jsx("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8 12.5v-9l6 4.5z"})),WL=mt(c.jsx("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11z"})),u9e=mt(c.jsx("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"})),d9e=mt(c.jsx("path",{d:"M14.67 5v6.5H9.33V5zm1 6.5H21V5h-5.33zm-1 7.5v-6.5H9.33V19zm1-6.5V19H21v-6.5zm-7.34 0H3V19h5.33zm0-1V5H3v6.5z"})),N5=mt(c.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),aI=mt(c.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"})),iI=mt(c.jsx("path",{d:"M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"})),f9e=mt(c.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"})),lQ=mt([c.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"},"0"),c.jsx("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"},"1")]),cQ=mt(c.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14M7 9h5v1H7z"}));function h9e(t,e){if(t==null)return{};var n=p9e(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p9e(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function mC(){return mC=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mC.apply(this,arguments)}function YL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ix(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YL(Object(n),!0).forEach(function(r){m9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m9e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const g9e={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},fT=2;class gC extends je.Component{constructor(e){super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let n;this.props.breakpointCols&&this.props.breakpointCols.default?n=this.props.breakpointCols.default:n=parseInt(this.props.breakpointCols)||fT,this.state={columnCount:n}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const e=window&&window.innerWidth||1/0;let n=this.props.breakpointCols;typeof n!="object"&&(n={default:parseInt(n)||fT});let r=1/0,a=n.default||fT;for(let i in n){const s=parseInt(i);s>0&&e<=s&&s<r&&(r=s,a=n[i])}a=Math.max(1,parseInt(a)||1),this.state.columnCount!==a&&this.setState({columnCount:a})}itemsInColumns(){const e=this.state.columnCount,n=new Array(e),r=je.Children.toArray(this.props.children);for(let a=0;a<r.length;a++){const i=a%e;n[i]||(n[i]=[]),n[i].push(r[a])}return n}renderColumns(){const{column:e,columnAttrs:n={},columnClassName:r}=this.props,a=this.itemsInColumns(),i=`${100/a.length}%`;let s=r;s&&typeof s!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof s>"u"&&(s="my-masonry-grid_column"));const o=Ix(Ix(Ix({},e),n),{},{style:Ix(Ix({},n.style),{},{width:i}),className:s});return a.map((l,u)=>je.createElement("div",mC({},o,{key:u}),l))}logDeprecated(e){console.error("[Masonry]",e)}render(){const e=this.props,{children:n,breakpointCols:r,columnClassName:a,columnAttrs:i,column:s,className:o}=e,l=h9e(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let u=o;return typeof o!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof o>"u"&&(u="my-masonry-grid")),je.createElement("div",mC({},l,{className:u}),this.renderColumns())}}gC.defaultProps=g9e;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var sI=function(t,e){return sI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},sI(t,e)};function y9e(t,e){sI(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var O2=function(){return O2=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},O2.apply(this,arguments)};function b9e(t,e,n,r){var a,i=!1,s=0;function o(){a&&clearTimeout(a)}function l(){o(),i=!0}typeof e!="boolean"&&(r=n,n=e,e=void 0);function u(){var d=this,h=Date.now()-s,m=arguments;if(i)return;function y(){s=Date.now(),n.apply(d,m)}function x(){a=void 0}r&&!a&&y(),o(),r===void 0&&h>t?y():e!==!0&&(a=setTimeout(r?x:y,r===void 0?t-h:t))}return u.cancel=l,u}var U1={Pixel:"Pixel",Percent:"Percent"},KL={unit:U1.Percent,value:.8};function XL(t){return typeof t=="number"?{unit:U1.Percent,value:t*100}:typeof t=="string"?t.match(/^(\d*(\.\d+)?)px$/)?{unit:U1.Pixel,value:parseFloat(t)}:t.match(/^(\d*(\.\d+)?)%$/)?{unit:U1.Percent,value:parseFloat(t)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),KL):(console.warn("scrollThreshold should be string or number"),KL)}var uQ=(function(t){y9e(e,t);function e(n){var r=t.call(this,n)||this;return r.lastScrollTop=0,r.actionTriggered=!1,r.startY=0,r.currentY=0,r.dragging=!1,r.maxPullDownDistance=0,r.getScrollableTarget=function(){return r.props.scrollableTarget instanceof HTMLElement?r.props.scrollableTarget:typeof r.props.scrollableTarget=="string"?document.getElementById(r.props.scrollableTarget):(r.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},r.onStart=function(a){r.lastScrollTop||(r.dragging=!0,a instanceof MouseEvent?r.startY=a.pageY:a instanceof TouchEvent&&(r.startY=a.touches[0].pageY),r.currentY=r.startY,r._infScroll&&(r._infScroll.style.willChange="transform",r._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},r.onMove=function(a){r.dragging&&(a instanceof MouseEvent?r.currentY=a.pageY:a instanceof TouchEvent&&(r.currentY=a.touches[0].pageY),!(r.currentY<r.startY)&&(r.currentY-r.startY>=Number(r.props.pullDownToRefreshThreshold)&&r.setState({pullToRefreshThresholdBreached:!0}),!(r.currentY-r.startY>r.maxPullDownDistance*1.5)&&r._infScroll&&(r._infScroll.style.overflow="visible",r._infScroll.style.transform="translate3d(0px, "+(r.currentY-r.startY)+"px, 0px)")))},r.onEnd=function(){r.startY=0,r.currentY=0,r.dragging=!1,r.state.pullToRefreshThresholdBreached&&(r.props.refreshFunction&&r.props.refreshFunction(),r.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){r._infScroll&&(r._infScroll.style.overflow="auto",r._infScroll.style.transform="none",r._infScroll.style.willChange="unset")})},r.onScrollListener=function(a){typeof r.props.onScroll=="function"&&setTimeout(function(){return r.props.onScroll&&r.props.onScroll(a)},0);var i=r.props.height||r._scrollableNode?a.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!r.actionTriggered){var s=r.props.inverse?r.isElementAtTop(i,r.props.scrollThreshold):r.isElementAtBottom(i,r.props.scrollThreshold);s&&r.props.hasMore&&(r.actionTriggered=!0,r.setState({showLoader:!0}),r.props.next&&r.props.next()),r.lastScrollTop=i.scrollTop}},r.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:n.dataLength},r.throttledOnScrollListener=b9e(150,r.onScrollListener).bind(r),r.onStart=r.onStart.bind(r),r.onMove=r.onMove.bind(r),r.onEnd=r.onEnd.bind(r),r}return e.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},e.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},e.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},e.getDerivedStateFromProps=function(n,r){var a=n.dataLength!==r.prevDataLength;return a?O2(O2({},r),{prevDataLength:n.dataLength}):null},e.prototype.isElementAtTop=function(n,r){r===void 0&&(r=.8);var a=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,i=XL(r);return i.unit===U1.Pixel?n.scrollTop<=i.value+a-n.scrollHeight+1:n.scrollTop<=i.value/100+a-n.scrollHeight+1},e.prototype.isElementAtBottom=function(n,r){r===void 0&&(r=.8);var a=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,i=XL(r);return i.unit===U1.Pixel?n.scrollTop+a>=n.scrollHeight-i.value:n.scrollTop+a>=i.value/100*n.scrollHeight},e.prototype.render=function(){var n=this,r=O2({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),a=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),i=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return je.createElement("div",{style:i,className:"infinite-scroll-component__outerdiv"},je.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(s){return n._infScroll=s},style:r},this.props.pullDownToRefresh&&je.createElement("div",{style:{position:"relative"},ref:function(s){return n._pullDown=s}},je.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!a&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},e})(A.Component);const x9e=()=>"http://localhost:1566",v9e=t=>t.replace(/\/+$/,""),S9e=t=>/^https?:\/\//i.test(t)?t:`http://${t}`,_9e=()=>{if(typeof window>"u")return;const t=window?.electronAPI;return t?.backendOrigin||t?.publicBaseUrl},C9e=()=>[void 0,void 0,void 0].find(e=>e&&e.trim().length>0);let jx=null;const Gd=()=>{if(jx)return jx;const t=_9e()||C9e();return t?jx=v9e(S9e(t.trim())):jx=x9e(),jx},w9e=t=>/^https?:\/\//i.test(t),E9e=t=>t.replace(/^[/\\]+/,"").replace(/^uploads[/\\]+/i,"").replace(/\\/g,"/"),yC=t=>{if(!t||t.trim().length===0)return null;if(w9e(t))return t;const e=E9e(t.trim());return`${Gd()}/uploads/${e}`},T9e=t=>{const e=bt.c(13),{tier:n,score:r}=t,a=n.max_score!==null?`${n.min_score} ~ ${n.max_score}`:`${n.min_score} `,i=n.tier_name;let s;e[0]!==r?(s=r.toFixed(1),e[0]=r,e[1]=s):s=e[1];const o=`${i}: ${s} (${a})`,l=n.color||"#757575";let u;e[2]!==l?(u={bgcolor:l,filter:"brightness(1.1)"},e[2]=l,e[3]=u):u=e[3];let d;e[4]!==l||e[5]!==u?(d={fontSize:"0.7rem",height:"26px",fontWeight:600,bgcolor:l,color:"#ffffff",backdropFilter:"blur(4px)",boxShadow:"0 2px 4px rgba(0,0,0,0.2)","&:hover":u},e[4]=l,e[5]=u,e[6]=d):d=e[6];let h;e[7]!==d||e[8]!==n.tier_name?(h=c.jsx(yt,{label:n.tier_name,size:"small",sx:d}),e[7]=d,e[8]=n.tier_name,e[9]=h):h=e[9];let m;return e[10]!==h||e[11]!==o?(m=c.jsx(Xt,{title:o,placement:"top",arrow:!0,children:h}),e[10]=h,e[11]=o,e[12]=m):m=e[12],m},dQ=A.memo(T9e);function fQ(t,e){return function(){return t.apply(e,arguments)}}const{toString:A9e}=Object.prototype,{getPrototypeOf:zO}=Object,{iterator:P5,toStringTag:hQ}=Symbol,L5=(t=>e=>{const n=A9e.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ju=t=>(t=t.toLowerCase(),e=>L5(e)===t),z5=t=>e=>typeof e===t,{isArray:Iy}=Array,sy=z5("undefined");function rS(t){return t!==null&&!sy(t)&&t.constructor!==null&&!sy(t.constructor)&&tl(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const pQ=ju("ArrayBuffer");function R9e(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&pQ(t.buffer),e}const k9e=z5("string"),tl=z5("function"),mQ=z5("number"),aS=t=>t!==null&&typeof t=="object",I9e=t=>t===!0||t===!1,j4=t=>{if(L5(t)!=="object")return!1;const e=zO(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(hQ in t)&&!(P5 in t)},j9e=t=>{if(!aS(t)||rS(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},O9e=ju("Date"),D9e=ju("File"),M9e=ju("Blob"),N9e=ju("FileList"),P9e=t=>aS(t)&&tl(t.pipe),L9e=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||tl(t.append)&&((e=L5(t))==="formdata"||e==="object"&&tl(t.toString)&&t.toString()==="[object FormData]"))},z9e=ju("URLSearchParams"),[F9e,B9e,H9e,U9e]=["ReadableStream","Request","Response","Headers"].map(ju),$9e=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function iS(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,a;if(typeof t!="object"&&(t=[t]),Iy(t))for(r=0,a=t.length;r<a;r++)e.call(null,t[r],r,t);else{if(rS(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let o;for(r=0;r<s;r++)o=i[r],e.call(null,t[o],o,t)}}function gQ(t,e){if(rS(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,a;for(;r-- >0;)if(a=n[r],e===a.toLowerCase())return a;return null}const Jm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yQ=t=>!sy(t)&&t!==Jm;function oI(){const{caseless:t,skipUndefined:e}=yQ(this)&&this||{},n={},r=(a,i)=>{const s=t&&gQ(n,i)||i;j4(n[s])&&j4(a)?n[s]=oI(n[s],a):j4(a)?n[s]=oI({},a):Iy(a)?n[s]=a.slice():(!e||!sy(a))&&(n[s]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&iS(arguments[a],r);return n}const G9e=(t,e,n,{allOwnKeys:r}={})=>(iS(e,(a,i)=>{n&&tl(a)?t[i]=fQ(a,n):t[i]=a},{allOwnKeys:r}),t),q9e=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),V9e=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},W9e=(t,e,n,r)=>{let a,i,s;const o={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)s=a[i],(!r||r(s,t,e))&&!o[s]&&(e[s]=t[s],o[s]=!0);t=n!==!1&&zO(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Y9e=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},K9e=t=>{if(!t)return null;if(Iy(t))return t;let e=t.length;if(!mQ(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},X9e=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&zO(Uint8Array)),Q9e=(t,e)=>{const r=(t&&t[P5]).call(t);let a;for(;(a=r.next())&&!a.done;){const i=a.value;e.call(t,i[0],i[1])}},Z9e=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},J9e=ju("HTMLFormElement"),e7e=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),QL=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),t7e=ju("RegExp"),bQ=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};iS(n,(a,i)=>{let s;(s=e(a,i,t))!==!1&&(r[i]=s||a)}),Object.defineProperties(t,r)},n7e=t=>{bQ(t,(e,n)=>{if(tl(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(tl(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},r7e=(t,e)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return Iy(t)?r(t):r(String(t).split(e)),n},a7e=()=>{},i7e=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function s7e(t){return!!(t&&tl(t.append)&&t[hQ]==="FormData"&&t[P5])}const o7e=t=>{const e=new Array(10),n=(r,a)=>{if(aS(r)){if(e.indexOf(r)>=0)return;if(rS(r))return r;if(!("toJSON"in r)){e[a]=r;const i=Iy(r)?[]:{};return iS(r,(s,o)=>{const l=n(s,a+1);!sy(l)&&(i[o]=l)}),e[a]=void 0,i}}return r};return n(t,0)},l7e=ju("AsyncFunction"),c7e=t=>t&&(aS(t)||tl(t))&&tl(t.then)&&tl(t.catch),xQ=((t,e)=>t?setImmediate:e?((n,r)=>(Jm.addEventListener("message",({source:a,data:i})=>{a===Jm&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Jm.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",tl(Jm.postMessage)),u7e=typeof queueMicrotask<"u"?queueMicrotask.bind(Jm):typeof process<"u"&&process.nextTick||xQ,d7e=t=>t!=null&&tl(t[P5]),nt={isArray:Iy,isArrayBuffer:pQ,isBuffer:rS,isFormData:L9e,isArrayBufferView:R9e,isString:k9e,isNumber:mQ,isBoolean:I9e,isObject:aS,isPlainObject:j4,isEmptyObject:j9e,isReadableStream:F9e,isRequest:B9e,isResponse:H9e,isHeaders:U9e,isUndefined:sy,isDate:O9e,isFile:D9e,isBlob:M9e,isRegExp:t7e,isFunction:tl,isStream:P9e,isURLSearchParams:z9e,isTypedArray:X9e,isFileList:N9e,forEach:iS,merge:oI,extend:G9e,trim:$9e,stripBOM:q9e,inherits:V9e,toFlatObject:W9e,kindOf:L5,kindOfTest:ju,endsWith:Y9e,toArray:K9e,forEachEntry:Q9e,matchAll:Z9e,isHTMLForm:J9e,hasOwnProperty:QL,hasOwnProp:QL,reduceDescriptors:bQ,freezeMethods:n7e,toObjectSet:r7e,toCamelCase:e7e,noop:a7e,toFiniteNumber:i7e,findKey:gQ,global:Jm,isContextDefined:yQ,isSpecCompliantForm:s7e,toJSONObject:o7e,isAsyncFn:l7e,isThenable:c7e,setImmediate:xQ,asap:u7e,isIterable:d7e};function Mn(t,e,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}nt.inherits(Mn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:nt.toJSONObject(this.config),code:this.code,status:this.status}}});const vQ=Mn.prototype,SQ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{SQ[t]={value:t}});Object.defineProperties(Mn,SQ);Object.defineProperty(vQ,"isAxiosError",{value:!0});Mn.from=(t,e,n,r,a,i)=>{const s=Object.create(vQ);nt.toFlatObject(t,s,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Mn.call(s,o,l,n,r,a),t&&s.cause==null&&Object.defineProperty(s,"cause",{value:t,configurable:!0}),s.name=t&&t.name||"Error",i&&Object.assign(s,i),s};const f7e=null;function lI(t){return nt.isPlainObject(t)||nt.isArray(t)}function _Q(t){return nt.endsWith(t,"[]")?t.slice(0,-2):t}function ZL(t,e,n){return t?t.concat(e).map(function(a,i){return a=_Q(a),!n&&i?"["+a+"]":a}).join(n?".":""):e}function h7e(t){return nt.isArray(t)&&!t.some(lI)}const p7e=nt.toFlatObject(nt,{},null,function(e){return/^is[A-Z]/.test(e)});function F5(t,e,n){if(!nt.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=nt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,_){return!nt.isUndefined(_[v])});const r=n.metaTokens,a=n.visitor||d,i=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&nt.isSpecCompliantForm(e);if(!nt.isFunction(a))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(nt.isDate(x))return x.toISOString();if(nt.isBoolean(x))return x.toString();if(!l&&nt.isBlob(x))throw new Mn("Blob is not supported. Use a Buffer instead.");return nt.isArrayBuffer(x)||nt.isTypedArray(x)?l&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,v,_){let C=x;if(x&&!_&&typeof x=="object"){if(nt.endsWith(v,"{}"))v=r?v:v.slice(0,-2),x=JSON.stringify(x);else if(nt.isArray(x)&&h7e(x)||(nt.isFileList(x)||nt.endsWith(v,"[]"))&&(C=nt.toArray(x)))return v=_Q(v),C.forEach(function(T,E){!(nt.isUndefined(T)||T===null)&&e.append(s===!0?ZL([v],E,i):s===null?v:v+"[]",u(T))}),!1}return lI(x)?!0:(e.append(ZL(_,v,i),u(x)),!1)}const h=[],m=Object.assign(p7e,{defaultVisitor:d,convertValue:u,isVisitable:lI});function y(x,v){if(!nt.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(x),nt.forEach(x,function(C,w){(!(nt.isUndefined(C)||C===null)&&a.call(e,C,nt.isString(w)?w.trim():w,v,m))===!0&&y(C,v?v.concat(w):[w])}),h.pop()}}if(!nt.isObject(t))throw new TypeError("data must be an object");return y(t),e}function JL(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function FO(t,e){this._pairs=[],t&&F5(t,this,e)}const CQ=FO.prototype;CQ.append=function(e,n){this._pairs.push([e,n])};CQ.toString=function(e){const n=e?function(r){return e.call(this,r,JL)}:JL;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function m7e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function wQ(t,e,n){if(!e)return t;const r=n&&n.encode||m7e;nt.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(e,n):i=nt.isURLSearchParams(e)?e.toString():new FO(e,n).toString(r),i){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class ez{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){nt.forEach(this.handlers,function(r){r!==null&&e(r)})}}const EQ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},g7e=typeof URLSearchParams<"u"?URLSearchParams:FO,y7e=typeof FormData<"u"?FormData:null,b7e=typeof Blob<"u"?Blob:null,x7e={isBrowser:!0,classes:{URLSearchParams:g7e,FormData:y7e,Blob:b7e},protocols:["http","https","file","blob","url","data"]},BO=typeof window<"u"&&typeof document<"u",cI=typeof navigator=="object"&&navigator||void 0,v7e=BO&&(!cI||["ReactNative","NativeScript","NS"].indexOf(cI.product)<0),S7e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_7e=BO&&window.location.href||"http://localhost",C7e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:BO,hasStandardBrowserEnv:v7e,hasStandardBrowserWebWorkerEnv:S7e,navigator:cI,origin:_7e},Symbol.toStringTag,{value:"Module"})),Hs={...C7e,...x7e};function w7e(t,e){return F5(t,new Hs.classes.URLSearchParams,{visitor:function(n,r,a,i){return Hs.isNode&&nt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function E7e(t){return nt.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function T7e(t){const e={},n=Object.keys(t);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],e[i]=t[i];return e}function TQ(t){function e(n,r,a,i){let s=n[i++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),l=i>=n.length;return s=!s&&nt.isArray(a)?a.length:s,l?(nt.hasOwnProp(a,s)?a[s]=[a[s],r]:a[s]=r,!o):((!a[s]||!nt.isObject(a[s]))&&(a[s]=[]),e(n,r,a[s],i)&&nt.isArray(a[s])&&(a[s]=T7e(a[s])),!o)}if(nt.isFormData(t)&&nt.isFunction(t.entries)){const n={};return nt.forEachEntry(t,(r,a)=>{e(E7e(r),a,n,0)}),n}return null}function A7e(t,e,n){if(nt.isString(t))try{return(e||JSON.parse)(t),nt.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const sS={transitional:EQ,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=nt.isObject(e);if(i&&nt.isHTMLForm(e)&&(e=new FormData(e)),nt.isFormData(e))return a?JSON.stringify(TQ(e)):e;if(nt.isArrayBuffer(e)||nt.isBuffer(e)||nt.isStream(e)||nt.isFile(e)||nt.isBlob(e)||nt.isReadableStream(e))return e;if(nt.isArrayBufferView(e))return e.buffer;if(nt.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return w7e(e,this.formSerializer).toString();if((o=nt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return F5(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),A7e(e)):e}],transformResponse:[function(e){const n=this.transitional||sS.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(nt.isResponse(e)||nt.isReadableStream(e))return e;if(e&&nt.isString(e)&&(r&&!this.responseType||a)){const s=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(o){if(s)throw o.name==="SyntaxError"?Mn.from(o,Mn.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hs.classes.FormData,Blob:Hs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};nt.forEach(["delete","get","head","post","put","patch"],t=>{sS.headers[t]={}});const R7e=nt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),k7e=t=>{const e={};let n,r,a;return t&&t.split(`
`).forEach(function(s){a=s.indexOf(":"),n=s.substring(0,a).trim().toLowerCase(),r=s.substring(a+1).trim(),!(!n||e[n]&&R7e[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},tz=Symbol("internals");function Ox(t){return t&&String(t).trim().toLowerCase()}function O4(t){return t===!1||t==null?t:nt.isArray(t)?t.map(O4):String(t)}function I7e(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const j7e=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function hT(t,e,n,r,a){if(nt.isFunction(r))return r.call(this,e,n);if(a&&(e=n),!!nt.isString(e)){if(nt.isString(r))return e.indexOf(r)!==-1;if(nt.isRegExp(r))return r.test(e)}}function O7e(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function D7e(t,e){const n=nt.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(a,i,s){return this[r].call(this,e,a,i,s)},configurable:!0})})}let nl=class{constructor(e){e&&this.set(e)}set(e,n,r){const a=this;function i(o,l,u){const d=Ox(l);if(!d)throw new Error("header name must be a non-empty string");const h=nt.findKey(a,d);(!h||a[h]===void 0||u===!0||u===void 0&&a[h]!==!1)&&(a[h||l]=O4(o))}const s=(o,l)=>nt.forEach(o,(u,d)=>i(u,d,l));if(nt.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(nt.isString(e)&&(e=e.trim())&&!j7e(e))s(k7e(e),n);else if(nt.isObject(e)&&nt.isIterable(e)){let o={},l,u;for(const d of e){if(!nt.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(l=o[u])?nt.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}s(o,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=Ox(e),e){const r=nt.findKey(this,e);if(r){const a=this[r];if(!n)return a;if(n===!0)return I7e(a);if(nt.isFunction(n))return n.call(this,a,r);if(nt.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ox(e),e){const r=nt.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||hT(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let a=!1;function i(s){if(s=Ox(s),s){const o=nt.findKey(r,s);o&&(!n||hT(r,r[o],o,n))&&(delete r[o],a=!0)}}return nt.isArray(e)?e.forEach(i):i(e),a}clear(e){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!e||hT(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){const n=this,r={};return nt.forEach(this,(a,i)=>{const s=nt.findKey(r,i);if(s){n[s]=O4(a),delete n[i];return}const o=e?O7e(i):String(i).trim();o!==i&&delete n[i],n[o]=O4(a),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return nt.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=e&&nt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(a=>r.set(a)),r}static accessor(e){const r=(this[tz]=this[tz]={accessors:{}}).accessors,a=this.prototype;function i(s){const o=Ox(s);r[o]||(D7e(a,s),r[o]=!0)}return nt.isArray(e)?e.forEach(i):i(e),this}};nl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);nt.reduceDescriptors(nl.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});nt.freezeMethods(nl);function pT(t,e){const n=this||sS,r=e||n,a=nl.from(r.headers);let i=r.data;return nt.forEach(t,function(o){i=o.call(n,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function AQ(t){return!!(t&&t.__CANCEL__)}function jy(t,e,n){Mn.call(this,t??"canceled",Mn.ERR_CANCELED,e,n),this.name="CanceledError"}nt.inherits(jy,Mn,{__CANCEL__:!0});function RQ(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Mn("Request failed with status code "+n.status,[Mn.ERR_BAD_REQUEST,Mn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function M7e(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function N7e(t,e){t=t||10;const n=new Array(t),r=new Array(t);let a=0,i=0,s;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[i];s||(s=u),n[a]=l,r[a]=u;let h=i,m=0;for(;h!==a;)m+=n[h++],h=h%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),u-s<e)return;const y=d&&u-d;return y?Math.round(m*1e3/y):void 0}}function P7e(t,e){let n=0,r=1e3/e,a,i;const s=(u,d=Date.now())=>{n=d,a=null,i&&(clearTimeout(i),i=null),t(...u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?s(u,d):(a=u,i||(i=setTimeout(()=>{i=null,s(a)},r-h)))},()=>a&&s(a)]}const bC=(t,e,n=3)=>{let r=0;const a=N7e(50,250);return P7e(i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,l=s-r,u=a(l),d=s<=o;r=s;const h={loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&d?(o-s)/u:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},n)},nz=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},rz=t=>(...e)=>nt.asap(()=>t(...e)),L7e=Hs.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Hs.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Hs.origin),Hs.navigator&&/(msie|trident)/i.test(Hs.navigator.userAgent)):()=>!0,z7e=Hs.hasStandardBrowserEnv?{write(t,e,n,r,a,i){const s=[t+"="+encodeURIComponent(e)];nt.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),nt.isString(r)&&s.push("path="+r),nt.isString(a)&&s.push("domain="+a),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function F7e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function B7e(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function kQ(t,e,n){let r=!F7e(e);return t&&(r||n==!1)?B7e(t,e):e}const az=t=>t instanceof nl?{...t}:t;function wg(t,e){e=e||{};const n={};function r(u,d,h,m){return nt.isPlainObject(u)&&nt.isPlainObject(d)?nt.merge.call({caseless:m},u,d):nt.isPlainObject(d)?nt.merge({},d):nt.isArray(d)?d.slice():d}function a(u,d,h,m){if(nt.isUndefined(d)){if(!nt.isUndefined(u))return r(void 0,u,h,m)}else return r(u,d,h,m)}function i(u,d){if(!nt.isUndefined(d))return r(void 0,d)}function s(u,d){if(nt.isUndefined(d)){if(!nt.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function o(u,d,h){if(h in e)return r(u,d);if(h in t)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(u,d,h)=>a(az(u),az(d),h,!0)};return nt.forEach(Object.keys({...t,...e}),function(d){const h=l[d]||a,m=h(t[d],e[d],d);nt.isUndefined(m)&&h!==o||(n[d]=m)}),n}const IQ=t=>{const e=wg({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:o}=e;if(e.headers=s=nl.from(s),e.url=wQ(kQ(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),nt.isFormData(n)){if(Hs.hasStandardBrowserEnv||Hs.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(nt.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([d,h])=>{u.includes(d.toLowerCase())&&s.set(d,h)})}}if(Hs.hasStandardBrowserEnv&&(r&&nt.isFunction(r)&&(r=r(e)),r||r!==!1&&L7e(e.url))){const l=a&&i&&z7e.read(i);l&&s.set(a,l)}return e},H7e=typeof XMLHttpRequest<"u",U7e=H7e&&function(t){return new Promise(function(n,r){const a=IQ(t);let i=a.data;const s=nl.from(a.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=a,d,h,m,y,x;function v(){y&&y(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let _=new XMLHttpRequest;_.open(a.method.toUpperCase(),a.url,!0),_.timeout=a.timeout;function C(){if(!_)return;const T=nl.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),I={data:!o||o==="text"||o==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:T,config:t,request:_};RQ(function(O){n(O),v()},function(O){r(O),v()},I),_=null}"onloadend"in _?_.onloadend=C:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(C)},_.onabort=function(){_&&(r(new Mn("Request aborted",Mn.ECONNABORTED,t,_)),_=null)},_.onerror=function(E){const I=E&&E.message?E.message:"Network Error",j=new Mn(I,Mn.ERR_NETWORK,t,_);j.event=E||null,r(j),_=null},_.ontimeout=function(){let E=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const I=a.transitional||EQ;a.timeoutErrorMessage&&(E=a.timeoutErrorMessage),r(new Mn(E,I.clarifyTimeoutError?Mn.ETIMEDOUT:Mn.ECONNABORTED,t,_)),_=null},i===void 0&&s.setContentType(null),"setRequestHeader"in _&&nt.forEach(s.toJSON(),function(E,I){_.setRequestHeader(I,E)}),nt.isUndefined(a.withCredentials)||(_.withCredentials=!!a.withCredentials),o&&o!=="json"&&(_.responseType=a.responseType),u&&([m,x]=bC(u,!0),_.addEventListener("progress",m)),l&&_.upload&&([h,y]=bC(l),_.upload.addEventListener("progress",h),_.upload.addEventListener("loadend",y)),(a.cancelToken||a.signal)&&(d=T=>{_&&(r(!T||T.type?new jy(null,t,_):T),_.abort(),_=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const w=M7e(a.url);if(w&&Hs.protocols.indexOf(w)===-1){r(new Mn("Unsupported protocol "+w+":",Mn.ERR_BAD_REQUEST,t));return}_.send(i||null)})},$7e=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,a;const i=function(u){if(!a){a=!0,o();const d=u instanceof Error?u:this.reason;r.abort(d instanceof Mn?d:new jy(d instanceof Error?d.message:d))}};let s=e&&setTimeout(()=>{s=null,i(new Mn(`timeout ${e} of ms exceeded`,Mn.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>nt.asap(o),l}},G7e=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,a;for(;r<n;)a=r+e,yield t.slice(r,a),r=a},q7e=async function*(t,e){for await(const n of V7e(t))yield*G7e(n,e)},V7e=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},iz=(t,e,n,r)=>{const a=q7e(t,e);let i=0,s,o=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await a.next();if(u){o(),l.close();return}let h=d.byteLength;if(n){let m=i+=h;n(m)}l.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(l){return o(l),a.return()}},{highWaterMark:2})},sz=64*1024,{isFunction:j_}=nt,W7e=(({Request:t,Response:e})=>({Request:t,Response:e}))(nt.global),{ReadableStream:oz,TextEncoder:lz}=nt.global,cz=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Y7e=t=>{t=nt.merge.call({skipUndefined:!0},W7e,t);const{fetch:e,Request:n,Response:r}=t,a=e?j_(e):typeof fetch=="function",i=j_(n),s=j_(r);if(!a)return!1;const o=a&&j_(oz),l=a&&(typeof lz=="function"?(x=>v=>x.encode(v))(new lz):async x=>new Uint8Array(await new n(x).arrayBuffer())),u=i&&o&&cz(()=>{let x=!1;const v=new n(Hs.origin,{body:new oz,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!v}),d=s&&o&&cz(()=>nt.isReadableStream(new r("").body)),h={stream:d&&(x=>x.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!h[x]&&(h[x]=(v,_)=>{let C=v&&v[x];if(C)return C.call(v);throw new Mn(`Response type '${x}' is not supported`,Mn.ERR_NOT_SUPPORT,_)})});const m=async x=>{if(x==null)return 0;if(nt.isBlob(x))return x.size;if(nt.isSpecCompliantForm(x))return(await new n(Hs.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(nt.isArrayBufferView(x)||nt.isArrayBuffer(x))return x.byteLength;if(nt.isURLSearchParams(x)&&(x=x+""),nt.isString(x))return(await l(x)).byteLength},y=async(x,v)=>{const _=nt.toFiniteNumber(x.getContentLength());return _??m(v)};return async x=>{let{url:v,method:_,data:C,signal:w,cancelToken:T,timeout:E,onDownloadProgress:I,onUploadProgress:j,responseType:O,headers:L,withCredentials:N="same-origin",fetchOptions:M}=IQ(x),H=e||fetch;O=O?(O+"").toLowerCase():"text";let P=$7e([w,T&&T.toAbortSignal()],E),$=null;const D=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let U;try{if(j&&u&&_!=="get"&&_!=="head"&&(U=await y(L,C))!==0){let V=new n(v,{method:"POST",body:C,duplex:"half"}),Z;if(nt.isFormData(C)&&(Z=V.headers.get("content-type"))&&L.setContentType(Z),V.body){const[q,te]=nz(U,bC(rz(j)));C=iz(V.body,sz,q,te)}}nt.isString(N)||(N=N?"include":"omit");const F=i&&"credentials"in n.prototype,W={...M,signal:P,method:_.toUpperCase(),headers:L.normalize().toJSON(),body:C,duplex:"half",credentials:F?N:void 0};$=i&&new n(v,W);let ee=await(i?H($,M):H(v,W));const Q=d&&(O==="stream"||O==="response");if(d&&(I||Q&&D)){const V={};["status","statusText","headers"].forEach(ae=>{V[ae]=ee[ae]});const Z=nt.toFiniteNumber(ee.headers.get("content-length")),[q,te]=I&&nz(Z,bC(rz(I),!0))||[];ee=new r(iz(ee.body,sz,q,()=>{te&&te(),D&&D()}),V)}O=O||"text";let K=await h[nt.findKey(h,O)||"text"](ee,x);return!Q&&D&&D(),await new Promise((V,Z)=>{RQ(V,Z,{data:K,headers:nl.from(ee.headers),status:ee.status,statusText:ee.statusText,config:x,request:$})})}catch(F){throw D&&D(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new Mn("Network Error",Mn.ERR_NETWORK,x,$),{cause:F.cause||F}):Mn.from(F,F&&F.code,x,$)}}},K7e=new Map,jQ=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:a}=e,i=[r,a,n];let s=i.length,o=s,l,u,d=K7e;for(;o--;)l=i[o],u=d.get(l),u===void 0&&d.set(l,u=o?new Map:Y7e(e)),d=u;return u};jQ();const uI={http:f7e,xhr:U7e,fetch:{get:jQ}};nt.forEach(uI,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const uz=t=>`- ${t}`,X7e=t=>nt.isFunction(t)||t===null||t===!1,OQ={getAdapter:(t,e)=>{t=nt.isArray(t)?t:[t];const{length:n}=t;let r,a;const i={};for(let s=0;s<n;s++){r=t[s];let o;if(a=r,!X7e(r)&&(a=uI[(o=String(r)).toLowerCase()],a===void 0))throw new Mn(`Unknown adapter '${o}'`);if(a&&(nt.isFunction(a)||(a=a.get(e))))break;i[o||"#"+s]=a}if(!a){const s=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=n?s.length>1?`since :
`+s.map(uz).join(`
`):" "+uz(s[0]):"as no adapter specified";throw new Mn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:uI};function mT(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new jy(null,t)}function dz(t){return mT(t),t.headers=nl.from(t.headers),t.data=pT.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),OQ.getAdapter(t.adapter||sS.adapter,t)(t).then(function(r){return mT(t),r.data=pT.call(t,t.transformResponse,r),r.headers=nl.from(r.headers),r},function(r){return AQ(r)||(mT(t),r&&r.response&&(r.response.data=pT.call(t,t.transformResponse,r.response),r.response.headers=nl.from(r.response.headers))),Promise.reject(r)})}const DQ="1.12.2",B5={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{B5[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const fz={};B5.transitional=function(e,n,r){function a(i,s){return"[Axios v"+DQ+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,o)=>{if(e===!1)throw new Mn(a(s," has been removed"+(n?" in "+n:"")),Mn.ERR_DEPRECATED);return n&&!fz[s]&&(fz[s]=!0,console.warn(a(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,s,o):!0}};B5.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Q7e(t,e,n){if(typeof t!="object")throw new Mn("options must be an object",Mn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let a=r.length;for(;a-- >0;){const i=r[a],s=e[i];if(s){const o=t[i],l=o===void 0||s(o,i,t);if(l!==!0)throw new Mn("option "+i+" must be "+l,Mn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Mn("Unknown option "+i,Mn.ERR_BAD_OPTION)}}const D4={assertOptions:Q7e,validators:B5},md=D4.validators;let pg=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ez,response:new ez}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=wg(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&D4.assertOptions(r,{silentJSONParsing:md.transitional(md.boolean),forcedJSONParsing:md.transitional(md.boolean),clarifyTimeoutError:md.transitional(md.boolean)},!1),a!=null&&(nt.isFunction(a)?n.paramsSerializer={serialize:a}:D4.assertOptions(a,{encode:md.function,serialize:md.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),D4.assertOptions(n,{baseUrl:md.spelling("baseURL"),withXsrfToken:md.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&nt.merge(i.common,i[n.method]);i&&nt.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=nl.concat(s,i);const o=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,h=0,m;if(!l){const x=[dz.bind(this),void 0];for(x.unshift(...o),x.push(...u),m=x.length,d=Promise.resolve(n);h<m;)d=d.then(x[h++],x[h++]);return d}m=o.length;let y=n;for(;h<m;){const x=o[h++],v=o[h++];try{y=x(y)}catch(_){v.call(this,_);break}}try{d=dz.call(this,y)}catch(x){return Promise.reject(x)}for(h=0,m=u.length;h<m;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=wg(this.defaults,e);const n=kQ(e.baseURL,e.url,e.allowAbsoluteUrls);return wQ(n,e.params,e.paramsSerializer)}};nt.forEach(["delete","get","head","options"],function(e){pg.prototype[e]=function(n,r){return this.request(wg(r||{},{method:e,url:n,data:(r||{}).data}))}});nt.forEach(["post","put","patch"],function(e){function n(r){return function(i,s,o){return this.request(wg(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}pg.prototype[e]=n(),pg.prototype[e+"Form"]=n(!0)});let Z7e=class MQ{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const s=new Promise(o=>{r.subscribe(o),i=o}).then(a);return s.cancel=function(){r.unsubscribe(i)},s},e(function(i,s,o){r.reason||(r.reason=new jy(i,s,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new MQ(function(a){e=a}),cancel:e}}};function J7e(t){return function(n){return t.apply(null,n)}}function eke(t){return nt.isObject(t)&&t.isAxiosError===!0}const dI={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dI).forEach(([t,e])=>{dI[e]=t});function NQ(t){const e=new pg(t),n=fQ(pg.prototype.request,e);return nt.extend(n,pg.prototype,e,{allOwnKeys:!0}),nt.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return NQ(wg(t,a))},n}const en=NQ(sS);en.Axios=pg;en.CanceledError=jy;en.CancelToken=Z7e;en.isCancel=AQ;en.VERSION=DQ;en.toFormData=F5;en.AxiosError=Mn;en.Cancel=en.CanceledError;en.all=function(e){return Promise.all(e)};en.spread=J7e;en.isAxiosError=eke;en.mergeConfig=wg;en.AxiosHeaders=nl;en.formToJSON=t=>TQ(nt.isHTMLForm(t)?new FormData(t):t);en.getAdapter=OQ.getAdapter;en.HttpStatusCode=dI;en.default=en;const{Axios:bdt,AxiosError:xdt,CanceledError:vdt,isCancel:Sdt,CancelToken:_dt,VERSION:Cdt,all:wdt,Cancel:Edt,isAxiosError:Tdt,spread:Adt,toFormData:Rdt,AxiosHeaders:kdt,HttpStatusCode:Idt,formToJSON:jdt,getAdapter:Odt,mergeConfig:Ddt}=en,Ir=Gd();class tke{cache=new Map;defaultTTL=300*1e3;getCacheKey(e){const n=e.url||"",r=JSON.stringify(e.params||{});return`${e.method}:${n}?${r}`}isValid(e,n){return Date.now()-e.timestamp<n}get(e,n){const r=this.getCacheKey(e),a=this.cache.get(r);if(!a)return null;const i=n??this.defaultTTL;return this.isValid(a,i)?a.data:(this.cache.delete(r),null)}set(e,n){const r=this.getCacheKey(e);this.cache.set(r,{data:n,timestamp:Date.now()})}clear(e){const n=this.getCacheKey(e);this.cache.delete(n)}clearAll(){this.cache.clear()}clearPattern(e){for(const n of this.cache.keys())e.test(n)&&this.cache.delete(n)}}class nke{pendingRequests=new Map;getRequestKey(e){const n=e.url||"",r=JSON.stringify(e.params||{});return`${e.method}:${n}?${r}`}deduplicate(e,n){const r=this.getRequestKey(e),a=this.pendingRequests.get(r);if(a)return a;const i=n().finally(()=>{this.pendingRequests.delete(r)});return this.pendingRequests.set(r,i),i}clear(){this.pendingRequests.clear()}}const PQ=new tke,rke=new nke,Tt=en.create({baseURL:Ir,headers:{"Content-Type":"application/json"},withCredentials:!0});Tt.interceptors.request.use(t=>{if(t.method?.toLowerCase()==="get"){const e=PQ.get(t);if(e)return Promise.reject({__cached:!0,response:e})}return t},t=>Promise.reject(t));Tt.interceptors.response.use(t=>(t.config.method?.toLowerCase()==="get"&&PQ.set(t.config,t),t),t=>t.__cached?Promise.resolve(t.response):Promise.reject(t));const hz=Tt.request.bind(Tt);Tt.request=function(t){return t.method?.toLowerCase()==="get"?rke.deduplicate(t,()=>hz(t)):hz(t)};const ba={getImages:async(t=1,e=25,n="first_seen_date",r="DESC")=>(await Tt.get(`/api/images?page=${t}&limit=${e}&sortBy=${n}&sortOrder=${r}`)).data,searchImages:async t=>(await Tt.post("/api/images/search",t)).data,searchByAutoTags:async t=>(await Tt.post("/api/images/search-by-autotags",t)).data,searchComplex:async t=>(await Tt.post("/api/images/search/complex",t)).data,searchComplexIds:async t=>(await Tt.post("/api/images/search/complex/ids",t)).data,getImage:async t=>(await Tt.get(`/api/images/${t}`)).data,deleteImage:async t=>(await Tt.delete(`/api/images/${t}`)).data,deleteImages:async t=>{try{const n=(await Promise.all(t.map(r=>ba.deleteImage(r)))).filter(r=>!r.success);return n.length>0?{success:!1,error:`${n.length}/${t.length}   `,details:{failed:n,total:t.length}}:{success:!0,details:{deleted:t.length}}}catch{return{success:!1,error:"    ."}}},deleteImageFiles:async t=>{try{return(await Tt.delete("/api/images/files/bulk",{data:{fileIds:t}})).data}catch{return{success:!1,error:"    ."}}},getRandomImage:async()=>(await Tt.get("/api/images/random")).data,getRandomFromSearch:async t=>(await Tt.post("/api/images/random-from-search",t)).data,searchImageIds:async t=>(await Tt.post("/api/images/search/ids",t)).data,getMetadata:async t=>{const e=await Tt.get(`/api/images/metadata/${t}`);if(e.data.success&&e.data.data)return e.data.data;throw new Error(e.data.error||"Failed to fetch metadata")},generateHash:async t=>(await Tt.post("/api/images/generate-hash",t)).data,getDownloadUrl:t=>`${Ir}/api/images/${t}/download/original`,getThumbnailUrl:t=>`${Ir}/api/images/${t}/thumbnail`},li={getGroups:async()=>(await Tt.get("/api/groups")).data,getGroup:async t=>(await Tt.get(`/api/groups/${t}`)).data,createGroup:async t=>(await Tt.post("/api/groups",t)).data,updateGroup:async(t,e)=>(await Tt.put(`/api/groups/${t}`,e)).data,deleteGroup:async(t,e=!1)=>(await Tt.delete(`/api/groups/${t}?cascade=${e}`)).data,getGroupImages:async(t,e=1,n=20,r)=>{let a=`/api/groups/${t}/images?page=${e}&limit=${n}`;return r&&(a+=`&collection_type=${r}`),(await Tt.get(a)).data},addImageToGroup:async(t,e,n=0)=>(await Tt.post(`/api/groups/${t}/images`,{composite_hash:e,order_index:n})).data,addImagesToGroup:async(t,e)=>(await Tt.post(`/api/groups/${t}/images/bulk`,{composite_hashes:e})).data,removeImageFromGroup:async(t,e)=>(await Tt.delete(`/api/groups/${t}/images/${e}`)).data,removeImagesFromGroup:async(t,e)=>{let n=0;const r=[];for(const a of e)try{const i=await Tt.delete(`/api/groups/${t}/images/${a}`);i.data.success?n++:r.push(`Image ${a}: ${i.data.error||"Failed to remove"}`)}catch(i){r.push(`Image ${a}: ${i.response?.data?.error||i.message||"Failed to remove"}`)}return{success:r.length===0,removed:n,errors:r}},runAutoCollection:async t=>(await Tt.post(`/api/groups/${t}/auto-collect`)).data,runAllAutoCollection:async()=>(await Tt.post("/api/groups/auto-collect-all")).data,getThumbnailUrl:t=>`${Ir}/api/groups/${t}/thumbnail`,getRandomImageFromGroup:async t=>(await Tt.get(`/api/groups/${t}/random-image`)).data,getPreviewImages:async(t,e=8,n=!0)=>(await Tt.get(`/api/groups/${t}/preview-images?count=${e}&includeChildren=${n}`)).data,getImageIdsForGroup:async t=>(await Tt.get(`/api/groups/${t}/image-ids`)).data,getDownloadUrl:(t,e,n)=>{let r=`${Ir}/api/groups/${t}/download?type=${e}`;return n&&n.length>0&&(r+=`&hashes=${encodeURIComponent(JSON.stringify(n))}`),r},getFileCountsByType:async t=>(await Tt.get(`/api/groups/${t}/file-counts`)).data,getRootGroups:async()=>(await Tt.get("/api/groups/hierarchy/roots")).data,getChildGroups:async t=>(await Tt.get(`/api/groups/${t}/children`)).data,getBreadcrumbPath:async t=>(await Tt.get(`/api/groups/${t}/breadcrumb`)).data,moveGroup:async(t,e)=>{const n={parent_id:e};return(await Tt.post(`/api/groups/${t}/move`,n)).data},validateHierarchy:async(t,e)=>(await Tt.post(`/api/groups/${t}/validate-hierarchy`,{parent_id:e})).data,getAllGroupsWithHierarchy:async()=>(await Tt.get("/api/groups/hierarchy/all")).data},Hf={getAll:async()=>(await Tt.get("/api/auto-folder-groups")).data,getRootGroups:async()=>(await Tt.get("/api/auto-folder-groups/children/root")).data,getChildGroups:async t=>(await Tt.get(`/api/auto-folder-groups/children/${t}`)).data,getGroup:async t=>(await Tt.get(`/api/auto-folder-groups/${t}`)).data,getGroupImages:async(t,e=1,n=50)=>(await Tt.get(`/api/auto-folder-groups/${t}/images`,{params:{page:e,pageSize:n}})).data,getBreadcrumbPath:async t=>(await Tt.get(`/api/auto-folder-groups/${t}/breadcrumb`)).data,getThumbnailUrl:t=>`${Ir}/api/auto-folder-groups/${t}/thumbnail?t=${Date.now()}`,getPreviewImages:async(t,e=8,n=!0)=>(await Tt.get(`/api/auto-folder-groups/${t}/preview-images?count=${e}&includeChildren=${n}`)).data,rebuild:async()=>(await Tt.post("/api/auto-folder-groups/rebuild")).data,getFileCounts:async(t,e)=>{const n={};return e&&e.length>0&&(n.hashes=e.join(",")),(await Tt.get(`/api/auto-folder-groups/${t}/file-counts`,{params:n})).data},downloadGroup:async(t,e="original",n)=>{const r={type:e};n&&n.length>0&&(r.hashes=n.join(","));const a=await Tt.get(`/api/auto-folder-groups/${t}/download`,{params:r,responseType:"blob"}),i=window.URL.createObjectURL(new Blob([a.data])),s=document.createElement("a");s.href=i;const o=a.headers["content-disposition"];let l=`folder-group-${t}.zip`;if(o){const u=o.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/);u&&u[1]&&(l=u[1].replace(/['"]/g,""))}s.setAttribute("download",l),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(i)}},M4={searchPrompts:async(t="",e="both",n=1,r=20,a="usage_count",i="DESC",s)=>{let o=`/api/prompt-collection/search?q=${encodeURIComponent(t)}&type=${e}&page=${n}&limit=${r}&sortBy=${a}&sortOrder=${i}`;return s!==void 0&&(o+=`&group_id=${s}`),(await Tt.get(o)).data},deletePrompt:async(t,e="positive")=>(await Tt.delete(`/api/prompt-collection/${t}?type=${e}`)).data,assignPromptToGroup:async(t,e,n="positive")=>(await Tt.put("/api/prompt-collection/assign-group",{prompt_id:t,group_id:e,type:n})).data,batchAssignPromptsToGroup:async(t,e,n="positive")=>(await Tt.post("/api/prompt-collection/batch-assign",{prompts:t,group_id:e,type:n})).data,getStatistics:async()=>(await Tt.get("/api/prompt-collection/statistics")).data,getTopPrompts:async(t=20,e="both")=>(await Tt.get(`/api/prompt-collection/top?limit=${t}&type=${e}`)).data,setSynonyms:async(t,e,n="positive")=>(await Tt.post("/api/prompt-collection/synonyms",{mainPrompt:t,synonyms:e,type:n})).data,removeSynonym:async(t,e,n="positive")=>(await Tt.delete(`/api/prompt-collection/synonyms/${t}`,{data:{synonym:e,type:n}})).data},Hm={getGroups:async(t=!1,e="positive")=>(await Tt.get(`/api/prompt-groups?include_hidden=${t}&type=${e}`)).data,getGroup:async(t,e="positive")=>(await Tt.get(`/api/prompt-groups/${t}?type=${e}`)).data,getGroupPrompts:async(t,e="positive",n=1,r=20)=>(await Tt.get(`/api/prompt-groups/${t}/prompts?type=${e}&page=${n}&limit=${r}`)).data,createGroup:async(t,e="positive")=>(await Tt.post(`/api/prompt-groups?type=${e}`,t)).data,updateGroup:async(t,e,n="positive")=>(await Tt.put(`/api/prompt-groups/${t}`,{...e,type:n})).data,deleteGroup:async(t,e="positive")=>(await Tt.delete(`/api/prompt-groups/${t}?type=${e}`)).data,movePromptToGroup:async(t,e,n="positive")=>(await Tt.put("/api/prompt-groups/move-prompt",{prompt_id:t,target_group_id:e,type:n})).data,updateGroupOrders:async(t,e="positive")=>(await Tt.put("/api/prompt-groups/reorder",{group_orders:t,type:e})).data},pz={uploadImage:async t=>{try{const e=new FormData;return e.append("image",t),(await Tt.post("/api/images/upload",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(e){return e.response?.status===413?{success:!1,error:"   .  50MB   ."}:{success:!1,error:e.response?.data?.error||e.message||"   ."}}},uploadImages:async t=>{try{const e=new FormData;t.forEach(r=>{e.append("images",r)});const n=await Tt.post("/api/images/upload-multiple",e,{headers:{"Content-Type":"multipart/form-data"}});if(n.data.success&&n.data.data){const{uploaded:r,failed:a}=n.data.data,i=[];return r.forEach(s=>{i.push({success:!0,data:s})}),a.forEach(s=>{i.push({success:!1,error:s.error})}),i}return[{success:!1,error:n.data.error||" ."}]}catch(e){return e.response?.status===400&&e.response?.data?.error?.includes("LIMIT_FILE_COUNT")?[{success:!1,error:"    ."}]:e.response?.status===413?[{success:!1,error:"   .   50MB   ."}]:[{success:!1,error:e.response?.data?.error||e.message||"   ."}]}},uploadImagesWithProgress:async(t,e)=>{const n=new FormData;t.forEach(o=>{n.append("images",o)});const r=await fetch(`${Ir}/api/images/upload-multiple-stream`,{method:"POST",body:n});if(!r.ok)throw new Error(`Upload failed: ${r.statusText}`);const a=r.body.getReader(),i=new TextDecoder;let s="";try{for(;;){const{done:o,value:l}=await a.read();if(o)break;s+=i.decode(l,{stream:!0});const u=s.split(`
`);s=u.pop()||"";for(const d of u)if(d.startsWith("data: "))try{const h=JSON.parse(d.slice(6));e(h)}catch(h){console.warn("Failed to parse SSE event:",d,h)}}}finally{a.releaseLock()}}},vd={getAll:async t=>{const e=new URLSearchParams;return t?.service_type&&e.append("service_type",t.service_type),t?.generation_status&&e.append("generation_status",t.generation_status),t?.limit&&e.append("limit",t.limit.toString()),t?.offset&&e.append("offset",t.offset.toString()),t?.bustCache&&e.append("_t",Date.now().toString()),(await Tt.get(`/api/generation-history?${e.toString()}`,{headers:t?.bustCache?{"Cache-Control":"no-cache, no-store, must-revalidate"}:{}})).data},getRecent:async(t=50)=>(await Tt.get(`/api/generation-history/recent?limit=${t}`)).data,getStatistics:async()=>(await Tt.get("/api/generation-history/statistics")).data,getById:async(t,e=!1)=>{const n=e?`/api/generation-history/${t}?_t=${Date.now()}`:`/api/generation-history/${t}`;return(await Tt.get(n,{headers:e?{"Cache-Control":"no-cache, no-store, must-revalidate"}:{}})).data},createComfyUI:async t=>(await Tt.post("/api/generation-history/comfyui",t)).data,createNovelAI:async t=>(await Tt.post("/api/generation-history/novelai",t)).data,uploadImage:async(t,e)=>{const n=new FormData;return n.append("image",e,"generated.png"),(await Tt.post(`/api/generation-history/${t}/upload-image`,n,{headers:{"Content-Type":"multipart/form-data"}})).data},delete:async t=>(await Tt.delete(`/api/generation-history/${t}`)).data,getByWorkflow:async(t,e)=>{const n=new URLSearchParams;return e?.generation_status&&n.append("generation_status",e.generation_status),e?.limit&&n.append("limit",e.limit.toString()),e?.offset&&n.append("offset",e.offset.toString()),e?.bustCache&&n.append("_t",Date.now().toString()),(await Tt.get(`/api/generation-history/workflow/${t}?${n.toString()}`,{headers:e?.bustCache?{"Cache-Control":"no-cache, no-store, must-revalidate"}:{}})).data},getWorkflowStatistics:async t=>(await Tt.get(`/api/generation-history/workflow/${t}/statistics`)).data,cleanupFailed:async(t=!1)=>{const e=new URLSearchParams;return t&&e.append("dry_run","true"),(await Tt.post(`/api/generation-history/cleanup-failed?${e.toString()}`)).data}},fI={login:async(t,e)=>(await Tt.post("/api/nai/auth/login",{username:t,password:e})).data,loginWithToken:async t=>(await Tt.post("/api/nai/auth/login-with-token",{token:t})).data,generateImage:async(t,e)=>(await Tt.post("/api/nai/generate/image",e,{headers:{Authorization:`Bearer ${t}`}})).data},ake="http://localhost:1566/api",Wo=en.create({baseURL:ake,withCredentials:!0}),Sp={getAllWorkflows:async(t=!1)=>(await Wo.get("/workflows",{params:{active:t}})).data,getWorkflow:async t=>(await Wo.get(`/workflows/${t}`)).data,createWorkflow:async t=>(await Wo.post("/workflows",t)).data,updateWorkflow:async(t,e)=>(await Wo.put(`/workflows/${t}`,e)).data,deleteWorkflow:async t=>(await Wo.delete(`/workflows/${t}`)).data,generateImage:async(t,e)=>(await Wo.post(`/workflows/${t}/generate`,{prompt_data:e})).data,generateImageOnServer:async(t,e,n,r)=>(await Wo.post(`/workflows/${t}/generate`,{prompt_data:n,server_id:e,groupId:r})).data,generateImageParallel:async(t,e)=>(await Wo.post(`/workflows/${t}/generate-parallel`,{prompt_data:e})).data,getHistory:async(t,e=1,n=20)=>(await Wo.get(`/workflows/${t}/history`,{params:{page:e,limit:n}})).data,getGenerationStatus:async t=>(await Wo.get(`/workflows/history/${t}`)).data,getWorkflowServers:async t=>(await Wo.get(`/workflows/${t}/servers`)).data,linkServers:async(t,e)=>(await Wo.post(`/workflows/${t}/servers`,{server_ids:e})).data,unlinkServer:async(t,e)=>(await Wo.delete(`/workflows/${t}/servers/${e}`)).data,getCanvasImages:async()=>(await Wo.get("/workflows/canvas-images")).data},qh=en.create({baseURL:`${Ir}/api/settings/rating`,headers:{"Content-Type":"application/json"},withCredentials:!0}),up={getWeights:async()=>(await qh.get("/weights")).data.data,updateWeights:async t=>(await qh.put("/weights",t)).data.data,getAllTiers:async()=>(await qh.get("/tiers")).data.data,createTier:async t=>(await qh.post("/tiers",t)).data.data,updateTier:async(t,e)=>(await qh.put(`/tiers/${t}`,e)).data.data,deleteTier:async t=>{await qh.delete(`/tiers/${t}`)},updateAllTiers:async t=>(await qh.put("/tiers",t)).data.data,calculateScore:async t=>(await qh.post("/calculate",t)).data.data};function LQ(){const[t,e]=A.useState([]),[n,r]=A.useState(!0),[a,i]=A.useState(null),s=A.useCallback(async()=>{try{r(!0),i(null);const u=[...await up.getAllTiers()].sort((d,h)=>d.tier_order-h.tier_order);e(u),console.log("[useRatingTiers] Loaded tiers:",u.map(d=>({name:d.tier_name,min:d.min_score,max:d.max_score,color:d.color})))}catch(l){console.error("[useRatingTiers] Error fetching tiers:",l),i(l instanceof Error?l.message:"Unknown error")}finally{r(!1)}},[]);A.useEffect(()=>{s()},[s]);const o=A.useCallback(l=>l==null||t.length===0?null:t.find(d=>{const h=l>=d.min_score,m=d.max_score===null||l<d.max_score;return h&&m})||null,[t]);return{tiers:t,loading:n,error:a,getTierByScore:o,refetch:s}}const ike=t=>{const e=bt.c(63),{image:n,onClick:r,selected:a,selectable:i,onSelectionChange:s}=t,o=a===void 0?!1:a,l=i===void 0?!1:i,[u,d]=A.useState(!1),[h,m]=A.useState(!1),[y,x]=A.useState(!1),v=A.useRef(null);let _;e[0]===Symbol.for("react.memo_cache_sentinel")?(_=Gd(),e[0]=_):_=e[0];const C=_,{getTierByScore:w}=LQ();let T;e[1]!==w||e[2]!==n.rating_score?(T=w(n.rating_score),e[1]=w,e[2]=n.rating_score,e[3]=T):T=e[3];const E=T;Math.random()<.05&&console.log("[MasonryImageCard] Rating debug:",{composite_hash:n.composite_hash,rating_score:n.rating_score,rating_score_type:typeof n.rating_score,has_auto_tags:!!n.auto_tags,tier_found:!!E,tier_name:E?.tier_name,will_show_badge:!!(E&&n.rating_score!==null&&n.rating_score!==void 0)});const I=E,j=n.file_type==="animated",O=n.file_type==="video",L=n.is_processing||!n.composite_hash;let N;e:{if(L){N=`${C}/api/images/by-path/${encodeURIComponent(n.original_file_path||"")}`;break e}if(O||j){N=`${C}/api/images/${n.composite_hash}/file`;break e}let Se;e[4]!==n.first_seen_date||e[5]!==n.thumbnail_path?(Se=n.thumbnail_path?`?v=${Date.parse(n.first_seen_date)}`:"",e[4]=n.first_seen_date,e[5]=n.thumbnail_path,e[6]=Se):Se=e[6];const be=Se;N=`${C}/api/images/${n.composite_hash}/thumbnail${be}`}const M=N;let H;e[7]!==n.id||e[8]!==s||e[9]!==l?(H=Se=>{Se.stopPropagation(),console.log("[MasonryImageCard] Selection clicked:",{imageId:n.id,hasCallback:!!s,selectable:l}),s&&n.id&&s(n.id,Se)},e[7]=n.id,e[8]=s,e[9]=l,e[10]=H):H=e[10];const P=H;let $;e[11]!==r?($=Se=>{Se.target.closest(".image-card-actions")||r()},e[11]=r,e[12]=$):$=e[12];const D=$,U=n.width&&n.height?n.width/n.height:1;let F;e[13]===Symbol.for("react.memo_cache_sentinel")?(F=()=>{d(!0)},e[13]=F):F=e[13];const W=F;let ee,Q;e[14]===Symbol.for("react.memo_cache_sentinel")?(Q=()=>{if(!v.current)return;const Se=new IntersectionObserver(be=>{be.forEach(Te=>{Te.isIntersecting&&(m(!0),Se.disconnect())})},{rootMargin:"200px"});return Se.observe(v.current),()=>{Se.disconnect()}},ee=[],e[14]=ee,e[15]=Q):(ee=e[14],Q=e[15]),A.useEffect(Q,ee);let K,V;e[16]===Symbol.for("react.memo_cache_sentinel")?(K=()=>x(!0),V=()=>x(!1),e[16]=K,e[17]=V):(K=e[16],V=e[17]);const Z=o?3:1,q=o?"primary.main":"divider";let te;e[18]===Symbol.for("react.memo_cache_sentinel")?(te={transform:"translateY(-4px)",boxShadow:6},e[18]=te):te=e[18];let ae;e[19]!==Z||e[20]!==q?(ae={cursor:"pointer",transition:"all 0.2s ease-in-out",position:"relative",border:Z,borderColor:q,"&:hover":te},e[19]=Z,e[20]=q,e[21]=ae):ae=e[21];let ie;e[22]!==P||e[23]!==y||e[24]!==l||e[25]!==o?(ie=l&&c.jsx(J,{className:"image-card-actions",sx:{position:"absolute",top:8,left:8,zIndex:2,opacity:y||o?1:.3,transition:"opacity 0.2s ease-in-out"},onClick:P,children:o?c.jsx(Cs,{sx:{fontSize:32,color:"primary.main",bgcolor:"white",borderRadius:"50%",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"}}):c.jsx(J,{sx:{width:32,height:32,borderRadius:"50%",border:"2px solid white",bgcolor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease-in-out","&:hover":{bgcolor:"rgba(0, 0, 0, 0.7)",transform:"scale(1.1)"}}})}),e[22]=P,e[23]=y,e[24]=l,e[25]=o,e[26]=ie):ie=e[26];let ce;e[27]!==o?(ce=o&&c.jsx(J,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(33, 150, 243, 0.15)",zIndex:1,pointerEvents:"none"}}),e[27]=o,e[28]=ce):ce=e[28];let pe;e[29]!==U||e[30]!==j||e[31]!==O?(pe={position:"relative",width:"100%",...O||j?{}:{paddingTop:`${1/U*100}%`},overflow:"hidden",bgcolor:"transparent"},e[29]=U,e[30]=j,e[31]=O,e[32]=pe):pe=e[32];let ge;e[33]!==u?(ge=!u&&c.jsx(bu,{variant:"rectangular",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),e[33]=u,e[34]=ge):ge=e[34];let oe;e[35]!==n.original_file_path||e[36]!==u||e[37]!==M||e[38]!==j||e[39]!==O||e[40]!==h?(oe=h&&(O?c.jsx(J,{component:"video",src:M,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,onLoadedData:W,sx:{width:"100%",height:"auto",display:"block",opacity:u?1:0,transition:"opacity 0.15s ease-in-out"}}):j?c.jsx($s,{component:"img",image:M,alt:n.original_file_path||"Image",loading:"lazy",decoding:"async",draggable:!1,onLoad:W,sx:{width:"100%",height:"auto",display:"block",opacity:u?1:0,transition:"opacity 0.15s ease-in-out"}}):c.jsx($s,{component:"img",image:M,alt:n.original_file_path||"Image",loading:"lazy",decoding:"async",draggable:!1,onLoad:W,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain",display:"block",opacity:u?1:0,transition:"opacity 0.15s ease-in-out"}})),e[35]=n.original_file_path,e[36]=u,e[37]=M,e[38]=j,e[39]=O,e[40]=h,e[41]=oe):oe=e[41];let ue;e[42]!==pe||e[43]!==ge||e[44]!==oe?(ue=c.jsxs(J,{sx:pe,children:[ge,oe]}),e[42]=pe,e[43]=ge,e[44]=oe,e[45]=ue):ue=e[45];let he;e[46]!==n.is_processing?(he=n.is_processing&&c.jsx(J,{sx:{position:"absolute",top:8,right:8,zIndex:1},children:c.jsx(yt,{icon:c.jsx(nS,{sx:{fontSize:"0.8rem"}}),label:"Processing",size:"small",sx:{fontSize:"0.7rem",height:"22px",fontWeight:600,bgcolor:"rgba(255, 152, 0, 0.9)",color:"white",backdropFilter:"blur(4px)","& .MuiChip-icon":{color:"white"}}})}),e[46]=n.is_processing,e[47]=he):he=e[47];let ve;e[48]!==n.duration||e[49]!==O?(ve=O&&n.duration&&c.jsx(J,{sx:{position:"absolute",bottom:8,left:8,zIndex:1},children:c.jsx(yt,{icon:c.jsx(LO,{sx:{fontSize:"0.8rem"}}),label:`${Math.floor(n.duration/60)}:${String(Math.floor(n.duration%60)).padStart(2,"0")}`,size:"small",sx:{fontSize:"0.7rem",height:"22px",fontWeight:600,bgcolor:"rgba(0, 0, 0, 0.75)",color:"white",backdropFilter:"blur(4px)","& .MuiChip-icon":{color:"white"}}})}),e[48]=n.duration,e[49]=O,e[50]=ve):ve=e[50];let me;e[51]!==n.rating_score||e[52]!==I?(me=I&&n.rating_score!==null&&n.rating_score!==void 0&&c.jsx(J,{sx:{position:"absolute",bottom:8,right:8,zIndex:1},children:c.jsx(dQ,{tier:I,score:n.rating_score})}),e[51]=n.rating_score,e[52]=I,e[53]=me):me=e[53];let le;return e[54]!==D||e[55]!==ae||e[56]!==ie||e[57]!==ce||e[58]!==ue||e[59]!==he||e[60]!==ve||e[61]!==me?(le=c.jsxs(gr,{ref:v,onClick:D,onMouseEnter:K,onMouseLeave:V,sx:ae,children:[ie,ce,ue,he,ve,me]}),e[54]=D,e[55]=ae,e[56]=ie,e[57]=ce,e[58]=ue,e[59]=he,e[60]=ve,e[61]=me,e[62]=le):le=e[62],le},ske=A.memo(ike),oke=t=>{const e=bt.c(37),{currentIndex:n,totalCount:r,onPrevious:a,onNext:i,onRandom:s,disabled:o,isRandomMode:l}=t,u=o===void 0?!1:o,d=l===void 0?!1:l,{t:h}=$t(),m=uv("(max-width:420px)"),y=n>0,x=n<r-1,v=m?.25:1;let _;e[0]!==v?(_={display:"flex",alignItems:"center",gap:v},e[0]=v,e[1]=_):_=e[1];let C;e[2]!==h?(C=h("imageDetail:viewer.navigation.previous"),e[2]=h,e[3]=C):C=e[3];const w=u||!y;let T;e[4]===Symbol.for("react.memo_cache_sentinel")?(T=c.jsx(YRe,{}),e[4]=T):T=e[4];let E;e[5]!==a||e[6]!==w?(E=c.jsx("span",{children:c.jsx(ht,{onClick:a,disabled:w,size:"small",children:T})}),e[5]=a,e[6]=w,e[7]=E):E=e[7];let I;e[8]!==C||e[9]!==E?(I=c.jsx(Xt,{title:C,children:E}),e[8]=C,e[9]=E,e[10]=I):I=e[10];const j=m?"60px":"80px",O=m?"0.75rem":"0.875rem";let L;e[11]!==j||e[12]!==O?(L={minWidth:j,textAlign:"center",fontSize:O},e[11]=j,e[12]=O,e[13]=L):L=e[13];const N=d?"Random":r>0?`${n+1} / ${r}`:"0 / 0";let M;e[14]!==L||e[15]!==N?(M=c.jsx(re,{variant:"body2",color:"text.secondary",sx:L,children:N}),e[14]=L,e[15]=N,e[16]=M):M=e[16];let H;e[17]!==h?(H=h("imageDetail:viewer.navigation.next"),e[17]=h,e[18]=H):H=e[18];const P=u||!x;let $;e[19]===Symbol.for("react.memo_cache_sentinel")?($=c.jsx(nQ,{}),e[19]=$):$=e[19];let D;e[20]!==i||e[21]!==P?(D=c.jsx("span",{children:c.jsx(ht,{onClick:i,disabled:P,size:"small",children:$})}),e[20]=i,e[21]=P,e[22]=D):D=e[22];let U;e[23]!==H||e[24]!==D?(U=c.jsx(Xt,{title:H,children:D}),e[23]=H,e[24]=D,e[25]=U):U=e[25];let F;e[26]!==u||e[27]!==s||e[28]!==h||e[29]!==r?(F=s&&c.jsx(Xt,{title:h("imageDetail:viewer.navigation.random"),children:c.jsx("span",{children:c.jsx(ht,{onClick:s,disabled:u||r<=1,size:"small",color:"primary",children:c.jsx(a9e,{})})})}),e[26]=u,e[27]=s,e[28]=h,e[29]=r,e[30]=F):F=e[30];let W;return e[31]!==M||e[32]!==U||e[33]!==F||e[34]!==_||e[35]!==I?(W=c.jsxs(J,{sx:_,children:[I,M,U,F]}),e[31]=M,e[32]=U,e[33]=F,e[34]=_,e[35]=I,e[36]=W):W=e[36],W},lke=t=>{const e=bt.c(95),{image:n,selected:r,selectable:a,onSelectionChange:i,onDelete:s,onImageClick:o,showCollectionType:l,currentGroupId:u}=t,d=r===void 0?!1:r,h=a===void 0?!1:a,m=l===void 0?!1:l;let y;e[0]===Symbol.for("react.memo_cache_sentinel")?(y=["common"],e[0]=y):y=e[0];const{t:x}=$t(y),[v,_]=A.useState(!1),[C,w]=A.useState(!1);let T;e[1]===Symbol.for("react.memo_cache_sentinel")?(T=Gd(),e[1]=T):T=e[1];const E=T,{getTierByScore:I}=LQ();let j;e[2]!==I||e[3]!==n.rating_score?(j=I(n.rating_score),e[2]=I,e[3]=n.rating_score,e[4]=j):j=e[4];const O=j;n.composite_hash&&Math.random()<.1&&console.log("[ImageCard] Rating debug:",{has_rating_score:n.rating_score!==null,rating_score:n.rating_score,tier_found:!!O,tier_name:O?.tier_name});const L=O;let N;e[5]!==u||e[6]!==n.groups?(N=u?n.groups?.find(rt=>rt.id===u):null,e[5]=u,e[6]=n.groups,e[7]=N):N=e[7];const H=N?.collection_type==="auto";let P;e[8]!==n.id||e[9]!==i?(P=rt=>{rt.stopPropagation(),i&&n.id&&i(n.id,rt)},e[8]=n.id,e[9]=i,e[10]=P):P=e[10];const $=P;let D;e[11]!==n.composite_hash||e[12]!==n.is_processing||e[13]!==n.original_file_path?(D=rt=>{rt.stopPropagation();const st=document.createElement("a");n.is_processing||!n.composite_hash?st.href=`${E}/api/images/by-path/${encodeURIComponent(n.original_file_path||"")}`:st.href=`${E}/api/images/${n.composite_hash}/download/original`,st.download=n.original_file_path||`image_${n.composite_hash?.substring(0,8)||"unknown"}.png`,document.body.appendChild(st),st.click(),document.body.removeChild(st)},e[11]=n.composite_hash,e[12]=n.is_processing,e[13]=n.original_file_path,e[14]=D):D=e[14];const U=D;let F;e[15]!==n.composite_hash||e[16]!==n.mime_type||e[17]!==s||e[18]!==x?(F=rt=>{rt.stopPropagation();const st=n.mime_type?.startsWith("video/"),ft=x(st?"common:imageCard.confirmDelete.video":"common:imageCard.confirmDelete.image");s&&n.composite_hash&&window.confirm(ft)&&s(n.composite_hash)},e[15]=n.composite_hash,e[16]=n.mime_type,e[17]=s,e[18]=x,e[19]=F):F=e[19];const W=F,ee=n.file_type==="animated",Q=n.file_type==="video",K=n.is_processing||!n.composite_hash;let V;e:{if(K){V=`${E}/api/images/by-path/${encodeURIComponent(n.original_file_path||"")}`;break e}if(ee||Q){V=`${E}/api/images/${n.composite_hash}/file`;break e}let rt;e[20]!==n.first_seen_date||e[21]!==n.thumbnail_path?(rt=n.thumbnail_path?`?v=${Date.parse(n.first_seen_date)}`:"",e[20]=n.first_seen_date,e[21]=n.thumbnail_path,e[22]=rt):rt=e[22];const st=rt;V=`${E}/api/images/${n.composite_hash}/thumbnail${st}`}const Z=V;let q;e:{if(K){q=`${E}/api/images/by-path/${encodeURIComponent(n.original_file_path||"")}`;break e}if(ee||Q){q=n.original_file_path?`${E}/api/images/by-path/${encodeURIComponent(n.original_file_path)}`:`${E}/api/images/${n.composite_hash}/thumbnail`;break e}q=`${E}/api/images/${n.composite_hash}/file`}const te=q,ae=h?"selectable-image":"",ie=n.composite_hash;let ce,pe;e[23]===Symbol.for("react.memo_cache_sentinel")?(ce=()=>w(!0),pe=()=>w(!1),e[23]=ce,e[24]=pe):(ce=e[23],pe=e[24]);const ge=d||m&&H?3:1,oe=d?"primary.main":m&&H?uke:"divider",ue=m&&H?"dashed":"solid",he=m&&H?dke:"none",ve=m&&H?fke:8;let me;e[25]!==ve?(me={boxShadow:ve,transform:"translateY(-2px)"},e[25]=ve,e[26]=me):me=e[26];let le;e[27]!==ge||e[28]!==oe||e[29]!==ue||e[30]!==he||e[31]!==me?(le={position:"relative",aspectRatio:"5 / 7",overflow:"hidden",border:ge,borderColor:oe,borderStyle:ue,borderRadius:2,transition:"all 0.3s ease",boxShadow:he,"&:hover":me},e[27]=ge,e[28]=oe,e[29]=ue,e[30]=he,e[31]=me,e[32]=le):le=e[32];let Se;e[33]===Symbol.for("react.memo_cache_sentinel")?(Se=c.jsx(J,{sx:{width:"100%",paddingTop:"140%"}}),e[33]=Se):Se=e[33];let be;e[34]!==$||e[35]!==C||e[36]!==h||e[37]!==d?(be=h&&c.jsx(J,{className:"image-card-actions",sx:{position:"absolute",top:8,left:8,zIndex:2,opacity:C||d?1:.3,transition:"opacity 0.2s ease-in-out"},onClick:$,children:d?c.jsx(Cs,{sx:{fontSize:32,color:"primary.main",bgcolor:"white",borderRadius:"50%",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"}}):c.jsx(J,{sx:{width:32,height:32,borderRadius:"50%",border:"2px solid white",bgcolor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease-in-out","&:hover":{bgcolor:"rgba(0, 0, 0, 0.7)",transform:"scale(1.1)"}}})}),e[34]=$,e[35]=C,e[36]=h,e[37]=d,e[38]=be):be=e[38];let Te;e[39]!==d?(Te=d&&c.jsx(J,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(33, 150, 243, 0.15)",zIndex:1,pointerEvents:"none"}}),e[39]=d,e[40]=Te):Te=e[40];let Ne;e[41]!==n.is_processing?(Ne=n.is_processing&&c.jsx(J,{sx:{position:"absolute",top:8,right:8,zIndex:1},children:c.jsx(yt,{icon:c.jsx(nS,{sx:{fontSize:"0.8rem"}}),label:"Processing",size:"small",sx:{fontSize:"0.7rem",height:"22px",fontWeight:600,bgcolor:"rgba(255, 152, 0, 0.9)",color:"white",backdropFilter:"blur(4px)","& .MuiChip-icon":{color:"white"}}})}),e[41]=n.is_processing,e[42]=Ne):Ne=e[42];let Pe;e[43]!==n.duration||e[44]!==n.mime_type?(Pe=n.mime_type?.startsWith("video/")&&n.duration&&c.jsx(J,{sx:{position:"absolute",bottom:8,left:8,zIndex:1},children:c.jsx(yt,{icon:c.jsx(LO,{sx:{fontSize:"0.8rem"}}),label:`${Math.floor(n.duration/60)}:${String(Math.floor(n.duration%60)).padStart(2,"0")}`,size:"small",sx:{fontSize:"0.7rem",height:"22px",fontWeight:600,bgcolor:"rgba(0, 0, 0, 0.75)",color:"white",backdropFilter:"blur(4px)","& .MuiChip-icon":{color:"white"}}})}),e[43]=n.duration,e[44]=n.mime_type,e[45]=Pe):Pe=e[45];let Le;e[46]!==n.rating_score||e[47]!==H||e[48]!==L||e[49]!==m?(Le=(L||m&&H)&&c.jsxs(J,{sx:{position:"absolute",bottom:8,right:8,display:"flex",gap:.5,alignItems:"center",zIndex:1},children:[m&&H&&c.jsx(yt,{icon:c.jsx(Mp,{sx:{fontSize:"0.85rem",color:"white !important"}}),size:"small",sx:{height:"26px",minWidth:"26px",width:"26px",padding:0,bgcolor:hke,backdropFilter:"blur(4px)","& .MuiChip-icon":{margin:0},"& .MuiChip-label":{display:"none"}}}),L&&n.rating_score!==null&&n.rating_score!==void 0&&c.jsx(dQ,{tier:L,score:n.rating_score})]}),e[46]=n.rating_score,e[47]=H,e[48]=L,e[49]=m,e[50]=Le):Le=e[50];let De;e[51]===Symbol.for("react.memo_cache_sentinel")?(De={position:"absolute",top:8,right:8,zIndex:1},e[51]=De):De=e[51];let Xe;e[52]===Symbol.for("react.memo_cache_sentinel")?(Xe={display:"flex",gap:.5},e[52]=Xe):Xe=e[52];let ke;e[53]!==x?(ke=x("common:imageCard.tooltips.download"),e[53]=x,e[54]=ke):ke=e[54];let Ie,ye;e[55]===Symbol.for("react.memo_cache_sentinel")?(Ie={bgcolor:pke,borderRadius:1,"&:hover":{bgcolor:mke}},ye=c.jsx(tS,{fontSize:"small"}),e[55]=Ie,e[56]=ye):(Ie=e[55],ye=e[56]);let Ce;e[57]!==U?(Ce=c.jsx(ht,{size:"small",onClick:U,sx:Ie,children:ye}),e[57]=U,e[58]=Ce):Ce=e[58];let Me;e[59]!==ke||e[60]!==Ce?(Me=c.jsx(Xt,{title:ke,children:Ce}),e[59]=ke,e[60]=Ce,e[61]=Me):Me=e[61];let He;e[62]!==W||e[63]!==s||e[64]!==x?(He=s&&c.jsx(Xt,{title:x("common:imageCard.tooltips.delete"),children:c.jsx(ht,{size:"small",onClick:W,sx:{bgcolor:gke,borderRadius:1,"&:hover":{bgcolor:yke}},children:c.jsx(xa,{fontSize:"small"})})}),e[62]=W,e[63]=s,e[64]=x,e[65]=He):He=e[65];let Qe;e[66]!==Me||e[67]!==He?(Qe=c.jsx(J,{className:"image-card-actions",sx:De,children:c.jsxs(J,{sx:Xe,children:[Me,He]})}),e[66]=Me,e[67]=He,e[68]=Qe):Qe=e[68];let Je;e[69]!==te||e[70]!==n.mime_type||e[71]!==n.original_file_path||e[72]!==v||e[73]!==ee||e[74]!==Q||e[75]!==o||e[76]!==Z?(Je=Q?c.jsx(J,{component:"video",src:Z,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,onError:rt=>{console.error("[ImageCard] Video load error:",Z,rt),_(!0)},sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",cursor:"pointer"},onClick:o}):ee?c.jsx($s,{component:"img",image:v?te:Z,alt:n.original_file_path??"",draggable:!1,onError:rt=>{console.error("[ImageCard] Image load error:",v?te:Z,"isGif:",ee,"mime_type:",n.mime_type,rt),_(!0)},sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",cursor:"pointer"},onClick:o}):c.jsx($s,{component:"img",image:v?te:Z,alt:n.original_file_path??"",draggable:!1,onError:rt=>{console.error("[ImageCard] Image load error:",v?te:Z,"isGif:",ee,"mime_type:",n.mime_type,rt),_(!0)},sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",cursor:"pointer"},onClick:o}),e[69]=te,e[70]=n.mime_type,e[71]=n.original_file_path,e[72]=v,e[73]=ee,e[74]=Q,e[75]=o,e[76]=Z,e[77]=Je):Je=e[77];let Ge;e[78]!==n.ai_tool||e[79]!==n.groups||e[80]!==m?(Ge=!m&&c.jsxs(J,{sx:{position:"absolute",bottom:8,left:8,right:8,display:"flex",flexWrap:"wrap",gap:.5,alignItems:"center",zIndex:1},children:[n.groups&&n.groups.length>0&&c.jsxs(c.Fragment,{children:[n.groups.slice(0,1).map(bke),n.groups.length>1&&c.jsx(yt,{label:`+${n.groups.length-1}`,size:"small",variant:"outlined",sx:{fontSize:{xs:"0.6rem",sm:"0.7rem"},height:{xs:"20px",sm:"22px"},bgcolor:"rgba(0, 0, 0, 0.6)",color:"white",borderColor:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(4px)"}})]}),n.ai_tool&&c.jsx(yt,{label:n.ai_tool,size:"small",variant:"outlined",sx:{fontSize:{xs:"0.65rem",sm:"0.75rem"},height:{xs:"20px",sm:"22px"},bgcolor:"rgba(25, 118, 210, 0.9)",color:"white",borderColor:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(4px)"}})]}),e[78]=n.ai_tool,e[79]=n.groups,e[80]=m,e[81]=Ge):Ge=e[81];let it;return e[82]!==n.composite_hash||e[83]!==h||e[84]!==ae||e[85]!==le||e[86]!==be||e[87]!==Te||e[88]!==Ne||e[89]!==Pe||e[90]!==Le||e[91]!==Qe||e[92]!==Je||e[93]!==Ge?(it=c.jsx(c.Fragment,{children:c.jsxs(gr,{className:ae,"data-image-id":ie,"data-selectable":h,onMouseEnter:ce,onMouseLeave:pe,sx:le,children:[Se,be,Te,Ne,Pe,Le,Qe,Je,Ge]})}),e[82]=n.composite_hash,e[83]=h,e[84]=ae,e[85]=le,e[86]=be,e[87]=Te,e[88]=Ne,e[89]=Pe,e[90]=Le,e[91]=Qe,e[92]=Je,e[93]=Ge,e[94]=it):it=e[94],it},cke=A.memo(lke);function uke(t){return t.palette.mode==="dark"?"#42a5f5":"#1976d2"}function dke(t){return`0 0 8px ${t.palette.mode==="dark"?"rgba(66, 165, 245, 0.4)":"rgba(25, 118, 210, 0.3)"}`}function fke(t){return`0 4px 12px ${t.palette.mode==="dark"?"rgba(66, 165, 245, 0.5)":"rgba(25, 118, 210, 0.4)"}, 0 8px 24px rgba(0,0,0,0.2)`}function hke(t){return t.palette.mode==="dark"?"rgba(33, 150, 243, 0.9)":"rgba(33, 150, 243, 0.95)"}function pke(t){return t.palette.mode==="dark"?"rgba(0, 0, 0, 0.6)":"rgba(255, 255, 255, 0.8)"}function mke(t){return t.palette.mode==="dark"?"rgba(0, 0, 0, 0.8)":"rgba(255, 255, 255, 0.9)"}function gke(t){return t.palette.mode==="dark"?"rgba(0, 0, 0, 0.6)":"rgba(255, 255, 255, 0.8)"}function yke(t){return t.palette.mode==="dark"?"rgba(0, 0, 0, 0.8)":"rgba(255, 255, 255, 0.9)"}function bke(t){return c.jsx(yt,{label:t.name,size:"small",variant:"filled",sx:{fontSize:{xs:"0.6rem",sm:"0.7rem"},height:{xs:"20px",sm:"22px"},maxWidth:"120px",backgroundColor:t.color||(t.collection_type==="auto"?"#e3f2fd":"#f3e5f5"),color:t.color?"#fff":t.collection_type==="auto"?"#1976d2":"#7b1fa2",backdropFilter:"blur(4px)","& .MuiChip-label":{px:.5,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},t.id)}const xke=t=>{const e=bt.c(24),{value:n,onChange:r,disabled:a}=t,i=a===void 0?!1:a;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=["common"],e[0]=s):s=e[0];const{t:o}=$t(s);let l;e[1]!==r?(l=I=>{r(I.target.value)},e[1]=r,e[2]=l):l=e[2];const u=l;let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d={display:"flex",alignItems:"center",gap:1},e[3]=d):d=e[3];let h;e[4]!==o?(h=o("common:pagination.perPage"),e[4]=o,e[5]=h):h=e[5];let m;e[6]!==h?(m=c.jsx(re,{variant:"body2",color:"text.secondary",children:h}),e[6]=h,e[7]=m):m=e[7];let y;e[8]===Symbol.for("react.memo_cache_sentinel")?(y={minWidth:80},e[8]=y):y=e[8];let x,v,_;e[9]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx(Jt,{value:25,children:"25"}),_=c.jsx(Jt,{value:50,children:"50"}),x=c.jsx(Jt,{value:100,children:"100"}),e[9]=x,e[10]=v,e[11]=_):(x=e[9],v=e[10],_=e[11]);let C;e[12]!==i||e[13]!==u||e[14]!==n?(C=c.jsx(ra,{size:"small",sx:y,children:c.jsxs(Ua,{value:n,onChange:u,disabled:i,variant:"outlined",children:[v,_,x]})}),e[12]=i,e[13]=u,e[14]=n,e[15]=C):C=e[15];let w;e[16]!==o?(w=o("common:pagination.items"),e[16]=o,e[17]=w):w=e[17];let T;e[18]!==w?(T=c.jsx(re,{variant:"body2",color:"text.secondary",children:w}),e[18]=w,e[19]=T):T=e[19];let E;return e[20]!==C||e[21]!==T||e[22]!==m?(E=c.jsxs(J,{sx:d,children:[m,C,T]}),e[20]=C,e[21]=T,e[22]=m,e[23]=E):E=e[23],E},H5=({images:t=[],loading:e=!1,selectable:n=!1,selectedIds:r=[],onSelectionChange:a,pageSize:i=25,onPageSizeChange:s,currentPage:o=1,totalPages:l=1,total:u=0,onPageChange:d,onImageDelete:h,showCollectionType:m=!1,currentGroupId:y,searchParams:x,allImageIds:v})=>{const{t:_}=$t(["common","gallery"]),[C,w]=A.useState(!1),[T,E]=A.useState(0),[I,j]=A.useState(-1),[O,L]=A.useState([]),N=t||[],M=v||O;A.useEffect(()=>{if(v&&v.length>0)return;(async()=>{try{if(y){const K=await li.getImageIdsForGroup(y);K.success&&K.data&&L(K.data.ids)}else if(x){const K=await ba.searchImageIds(x);K.success&&K.data&&L(K.data.ids)}else L([])}catch(K){console.error("Failed to fetch all image IDs:",K),L([])}})()},[y,x,v]);const H=(Q,K)=>{if(!a)return;const V=N.findIndex(q=>q.id===Q);if(K&&(K.ctrlKey||K.metaKey)){const q=r.includes(Q)?r.filter(te=>te!==Q):[...r,Q];a(q),j(V);return}if(K&&K.shiftKey&&I>=0){const q=Math.min(I,V),te=Math.max(I,V),ae=N.slice(q,te+1).map(ce=>ce.id).filter(ce=>ce!=null),ie=Array.from(new Set([...r,...ae]));a(ie);return}const Z=r.includes(Q)?r.filter(q=>q!==Q):[...r,Q];a(Z),j(V)},P=Q=>{if(a)if(Q){const K=N.map(V=>V.id).filter(V=>V!=null);a(K)}else a([])},$=N.filter(Q=>Q.id!==void 0&&Q.id!==null).length,D=$>0&&r.length===$,U=r.length>0&&r.length<$,F=Q=>{E(Q),w(!0)},W=Q=>{E(Q)},ee=Q=>{const K=Q.target,V=K.closest(".MuiCard-root"),Z=K.closest(".image-card-actions"),q=K.closest(".no-drag-select"),te=K.closest(".MuiPagination-root");!V&&!Z&&!q&&!te&&a&&r.length>0&&(a([]),j(-1))};return A.useEffect(()=>{if(!n||!a)return;const Q=K=>{if((K.ctrlKey||K.metaKey)&&K.key==="a"){K.preventDefault();const V=N.map(Z=>Z.id).filter(Z=>Z!=null);a(V)}K.key==="Escape"&&(K.preventDefault(),a([]),j(-1))};return window.addEventListener("keydown",Q),()=>{window.removeEventListener("keydown",Q)}},[n,a,N]),e?c.jsx(J,{children:c.jsx(gn,{container:!0,spacing:2,children:Array.from({length:i},(Q,K)=>c.jsxs(gn,{size:{xs:12,sm:6,md:4,lg:3,xl:2},children:[c.jsx(bu,{variant:"rectangular",height:200}),c.jsxs(J,{sx:{pt:.5},children:[c.jsx(bu,{}),c.jsx(bu,{width:"60%"})]})]},K))})}):N.length===0?c.jsxs(J,{sx:{textAlign:"center",py:8},children:[c.jsx(re,{variant:"h6",color:"text.secondary",children:_("gallery:status.noImages")}),c.jsx(re,{variant:"body2",color:"text.secondary",children:_("gallery:status.uploadPrompt","    .")})]}):c.jsxs(J,{onClick:ee,sx:{position:"relative"},children:[c.jsxs(J,{sx:{mb:3},children:[c.jsxs(un,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"stretch",sm:"center"},spacing:2,children:[c.jsxs(J,{sx:{display:"flex",alignItems:"center",gap:2},children:[c.jsx(Zn,{control:c.jsx(Bf,{checked:D,indeterminate:U,onChange:Q=>P(Q.target.checked),disabled:!n}),label:_("gallery:selectAllLabel",{selected:r.length,total:N.length,defaultValue:`  (${r.length}/${N.length})`})}),c.jsx(re,{variant:"body2",color:"text.secondary",children:_("gallery:totalImages",{count:u,defaultValue:` ${u.toLocaleString()} `})})]}),s&&c.jsx(xke,{value:i,onChange:s,disabled:e})]}),c.jsx(yn,{sx:{mt:2}})]}),c.jsx(gn,{container:!0,spacing:3,children:N.map((Q,K)=>c.jsx(gn,{size:{xs:6,sm:4,md:3,lg:2,xl:1.5},children:c.jsx(cke,{image:Q,selected:Q.id?r.includes(Q.id):!1,selectable:n,onSelectionChange:(V,Z)=>H(V,Z),onDelete:h,onImageClick:()=>F(K),showCollectionType:m,currentGroupId:y})},Q.id?`id-${Q.id}`:`hash-${Q.composite_hash||"processing"}-${K}`))}),l>1&&d&&c.jsx(J,{sx:{display:"flex",justifyContent:"center",mt:4},children:c.jsx(V6e,{count:l,page:o,onChange:(Q,K)=>d(K),color:"primary",size:"large",showFirstButton:!0,showLastButton:!0})}),c.jsx(W5,{open:C,onClose:()=>w(!1),image:N[T]||null,images:N,currentIndex:T,onImageChange:W,onImageDeleted:h,searchContext:x?"search":y?"group":"all",searchParams:x,groupId:y,allImageIds:M})]})},vke=t=>{const e=bt.c(36),{open:n,onClose:r,images:a,loading:i,selectable:s,selectedIds:o,onSelectionChange:l,pageSize:u,onPageSizeChange:d,currentPage:h,totalPages:m,total:y,onPageChange:x,onImageDelete:v,title:_}=t,C=i===void 0?!1:i,w=s===void 0?!1:s;let T;e[0]!==o?(T=o===void 0?[]:o,e[0]=o,e[1]=T):T=e[1];const E=T,I=u===void 0?25:u,j=h===void 0?1:h,O=m===void 0?1:m,L=y===void 0?0:y;let N;e[2]===Symbol.for("react.memo_cache_sentinel")?(N=["gallery"],e[2]=N):N=e[2];const{t:M}=$t(N);let H;e[3]!==M||e[4]!==_?(H=_||M("gallery:imageGridModal.title"," "),e[3]=M,e[4]=_,e[5]=H):H=e[5];const P=H;let $;e[6]===Symbol.for("react.memo_cache_sentinel")?($={sx:{height:"90vh",maxHeight:"90vh"}},e[6]=$):$=e[6];let D;e[7]===Symbol.for("react.memo_cache_sentinel")?(D={display:"flex",justifyContent:"space-between",alignItems:"center"},e[7]=D):D=e[7];let U;e[8]!==P?(U=c.jsx(re,{variant:"h6",children:P}),e[8]=P,e[9]=U):U=e[9];let F,W;e[10]===Symbol.for("react.memo_cache_sentinel")?(F={color:Ske},W=c.jsx(Np,{}),e[10]=F,e[11]=W):(F=e[10],W=e[11]);let ee;e[12]!==r?(ee=c.jsx(ht,{"aria-label":"close",onClick:r,sx:F,children:W}),e[12]=r,e[13]=ee):ee=e[13];let Q;e[14]!==U||e[15]!==ee?(Q=c.jsx(pr,{children:c.jsxs(J,{sx:D,children:[U,ee]})}),e[14]=U,e[15]=ee,e[16]=Q):Q=e[16];let K;e[17]===Symbol.for("react.memo_cache_sentinel")?(K={p:2,overflow:"auto",flex:1},e[17]=K):K=e[17];let V;e[18]!==j||e[19]!==a||e[20]!==C||e[21]!==v||e[22]!==x||e[23]!==d||e[24]!==l||e[25]!==I||e[26]!==w||e[27]!==E||e[28]!==L||e[29]!==O?(V=c.jsx(hr,{sx:K,children:c.jsx(H5,{images:a,loading:C,selectable:w,selectedIds:E,onSelectionChange:l,pageSize:I,onPageSizeChange:d,currentPage:j,totalPages:O,total:L,onPageChange:x,onImageDelete:v})}),e[18]=j,e[19]=a,e[20]=C,e[21]=v,e[22]=x,e[23]=d,e[24]=l,e[25]=I,e[26]=w,e[27]=E,e[28]=L,e[29]=O,e[30]=V):V=e[30];let Z;return e[31]!==r||e[32]!==n||e[33]!==Q||e[34]!==V?(Z=c.jsxs(or,{open:n,onClose:r,maxWidth:"xl",fullWidth:!0,PaperProps:$,children:[Q,V]}),e[31]=r,e[32]=n,e[33]=Q,e[34]=V,e[35]=Z):Z=e[35],Z};function Ske(t){return t.palette.grey[500]}const gc=en.create({baseURL:`${Ir}/api/settings`,headers:{"Content-Type":"application/json"},withCredentials:!0}),Bs={getSettings:async()=>(await gc.get("/")).data.data,updateGeneralSettings:async t=>(await gc.put("/general",t)).data.data,updateTaggerSettings:async t=>(await gc.put("/tagger",t)).data.data,getModelsList:async()=>(await gc.get("/tagger/models")).data.data,checkDependencies:async()=>(await gc.post("/tagger/check-dependencies")).data.data,downloadModel:async t=>{const e=await gc.post("/tagger/download",{model:t});return{downloaded:e.data.data.downloaded,message:e.data.message}},getTaggerStatus:async()=>(await gc.get("/tagger/status")).data.data,loadModel:async t=>{await gc.post("/tagger/load-model",{model:t})},unloadModel:async()=>{await gc.post("/tagger/unload-model")},updateSimilaritySettings:async t=>(await gc.put("/similarity",t)).data.data,updateMetadataSettings:async t=>(await gc.put("/metadata",t)).data.data,updateThumbnailSettings:async t=>(await gc.put("/thumbnail",t)).data.data},O_=en.create({baseURL:"/api/images",headers:{"Content-Type":"application/json"},withCredentials:!0}),zQ={tagUnprocessed:async t=>(await O_.post("/batch-tag-unprocessed",{limit:t})).data.data,tagAll:async(t,e)=>(await O_.post("/batch-tag-all",{limit:t,force:e})).data.data,testImage:async t=>(await O_.post(`/${t}/tag`)).data.data,getUntaggedCount:async()=>(await O_.get("/untagged-count")).data.data.count},gT=en.create({baseURL:`${Ir}/api/thumbnails`,headers:{"Content-Type":"application/json"},withCredentials:!0}),yT={regenerate:async()=>{await gT.post("/regenerate")},getProgress:async()=>(await gT.get("/progress")).data.data,getStats:async()=>(await gT.get("/stats")).data.data},_ke=(t,e)=>{const n=bt.c(40),r=e===void 0?!1:e,[a,i]=A.useState(1),[s,o]=A.useState(0),[l,u]=A.useState(!1),[d,h]=A.useState(!1);let m;n[0]===Symbol.for("react.memo_cache_sentinel")?(m={x:0,y:0},n[0]=m):m=n[0];const[y,x]=A.useState(m),[v,_]=A.useState(!1);let C;n[1]===Symbol.for("react.memo_cache_sentinel")?(C={x:0,y:0},n[1]=C):C=n[1];const[w,T]=A.useState(C),E=A.useRef(null),[I,j]=A.useState(0),[O,L]=A.useState(1);let N;n[2]===Symbol.for("react.memo_cache_sentinel")?(N=()=>{i(1),o(0),u(!1),h(!1),x({x:0,y:0}),_(!1)},n[2]=N):N=n[2];let M;n[3]!==t?(M=[t],n[3]=t,n[4]=M):M=n[4],A.useEffect(N,M);let H;n[5]===Symbol.for("react.memo_cache_sentinel")?(H=()=>{i(Cke)},n[5]=H):H=n[5];const P=H;let $;n[6]===Symbol.for("react.memo_cache_sentinel")?($=()=>{i(me=>{const le=Math.max(me/1.2,.1);return le<=1&&x({x:0,y:0}),le})},n[6]=$):$=n[6];const D=$;let U;n[7]===Symbol.for("react.memo_cache_sentinel")?(U=()=>{o(wke)},n[7]=U):U=n[7];const F=U;let W;n[8]===Symbol.for("react.memo_cache_sentinel")?(W=()=>{o(Eke)},n[8]=W):W=n[8];const ee=W;let Q;n[9]===Symbol.for("react.memo_cache_sentinel")?(Q=()=>{u(Tke)},n[9]=Q):Q=n[9];const K=Q;let V;n[10]===Symbol.for("react.memo_cache_sentinel")?(V=()=>{h(Ake)},n[10]=V):V=n[10];const Z=V;let q;n[11]===Symbol.for("react.memo_cache_sentinel")?(q=()=>{i(1),o(0),u(!1),h(!1),x({x:0,y:0})},n[11]=q):q=n[11];const te=q;let ae;n[12]!==y||n[13]!==a?(ae=me=>{a>1&&(me.preventDefault(),_(!0),T({x:me.clientX-y.x,y:me.clientY-y.y}))},n[12]=y,n[13]=a,n[14]=ae):ae=n[14];const ie=ae;let ce,pe;n[15]!==w||n[16]!==v||n[17]!==a?(ce=()=>{if(!v)return;const me=Se=>{a>1&&x({x:Se.clientX-w.x,y:Se.clientY-w.y})},le=()=>{_(!1)};return document.addEventListener("mousemove",me),document.addEventListener("mouseup",le),()=>{document.removeEventListener("mousemove",me),document.removeEventListener("mouseup",le)}},pe=[v,a,w],n[15]=w,n[16]=v,n[17]=a,n[18]=ce,n[19]=pe):(ce=n[18],pe=n[19]),A.useEffect(ce,pe);let ge,oe;n[20]!==r?(ge=()=>{if(!r)return;const me=setTimeout(()=>{const le=E.current;if(!le)return;const Se=be=>{be.preventDefault(),be.stopPropagation();const Ne=1+(be.deltaY>0?-1:1)*.1;i(Pe=>{const Le=Math.max(.1,Math.min(5,Pe*Ne));return Le<=1&&x({x:0,y:0}),Le})};return le.addEventListener("wheel",Se,{passive:!1}),()=>{le.removeEventListener("wheel",Se)}},100);return()=>{clearTimeout(me)}},oe=[r],n[20]=r,n[21]=ge,n[22]=oe):(ge=n[21],oe=n[22]),A.useEffect(ge,oe);let ue,he;n[23]!==w||n[24]!==y||n[25]!==v||n[26]!==r||n[27]!==a||n[28]!==I||n[29]!==O?(ue=()=>{if(!r)return;const me=E.current;if(!me)return;const le=Rke,Se=Ne=>{if(Ne.touches.length===2){Ne.preventDefault();const Pe=le(Ne.touches);j(Pe),L(a)}else if(Ne.touches.length===1&&a>1){Ne.preventDefault();const Pe=Ne.touches[0];_(!0),T({x:Pe.clientX-y.x,y:Pe.clientY-y.y})}},be=Ne=>{if(Ne.touches.length===2){Ne.preventDefault();const Pe=le(Ne.touches);if(I>0){const Le=Pe/I,De=Math.max(.1,Math.min(5,O*Le));i(De),De<=1&&x({x:0,y:0})}}else if(Ne.touches.length===1&&a>1&&v){Ne.preventDefault();const Pe=Ne.touches[0];x({x:Pe.clientX-w.x,y:Pe.clientY-w.y})}},Te=Ne=>{Ne.touches.length<2&&(j(0),L(1)),Ne.touches.length===0&&_(!1)};return me.addEventListener("touchstart",Se,{passive:!1}),me.addEventListener("touchmove",be,{passive:!1}),me.addEventListener("touchend",Te,{passive:!1}),()=>{me.removeEventListener("touchstart",Se),me.removeEventListener("touchmove",be),me.removeEventListener("touchend",Te)}},he=[r,a,I,O,y,v,w],n[23]=w,n[24]=y,n[25]=v,n[26]=r,n[27]=a,n[28]=I,n[29]=O,n[30]=ue,n[31]=he):(ue=n[30],he=n[31]),A.useEffect(ue,he);let ve;return n[32]!==l||n[33]!==d||n[34]!==ie||n[35]!==y||n[36]!==v||n[37]!==s||n[38]!==a?(ve={scale:a,rotation:s,flipX:l,flipY:d,imagePosition:y,isDragging:v,imageContainerRef:E,handleZoomIn:P,handleZoomOut:D,handleRotateLeft:F,handleRotateRight:ee,handleFlipHorizontal:K,handleFlipVertical:Z,handleReset:te,handleMouseDown:ie},n[32]=l,n[33]=d,n[34]=ie,n[35]=y,n[36]=v,n[37]=s,n[38]=a,n[39]=ve):ve=n[39],ve};function Cke(t){return Math.min(t*1.2,5)}function wke(t){return(t-90)%360}function Eke(t){return(t+90)%360}function Tke(t){return!t}function Ake(t){return!t}function Rke(t){if(t.length<2)return 0;const e=t[0],n=t[1],r=e.clientX-n.clientX,a=e.clientY-n.clientY;return Math.sqrt(r*r+a*a)}const kke=({images:t,currentIndex:e,onImageChange:n,isOpen:r,onClose:a,searchContext:i="all",searchParams:s,groupId:o,allImageIds:l=[],onRandomImageLoaded:u,onRandomModeChange:d})=>{const h=A.useCallback(()=>{e>0&&n&&(n(e-1),d&&d(!1))},[e,n,d]),m=A.useCallback(()=>{const x=t?.length??0;e<x-1&&n&&(n(e+1),d&&d(!1))},[e,t,n,d]),y=A.useCallback(async()=>{if(l&&l.length>0)try{const _=l[Math.floor(Math.random()*l.length)],C=t?.findIndex(w=>w.id===_)??-1;C>=0&&n?(n(C),d&&d(!1)):console.warn("Random image not in current page - falling back to API random");return}catch(_){console.error("Failed to load random image:",_)}try{let _=null;if(i==="all"?_=await ba.getRandomImage():i==="search"&&s?_=await ba.getRandomFromSearch(s):i==="group"&&o!==void 0&&(_=await li.getRandomImageFromGroup(o)),_?.success&&_.data){const C=t?.findIndex(w=>w.composite_hash===_.data.composite_hash)??-1;C>=0&&n?(n(C),d&&d(!1)):(u&&u(_.data),d&&d(!0));return}}catch(_){console.error("Failed to get random image from server:",_)}const x=t?.length??0;if(x<=1||!n)return;let v;do v=Math.floor(Math.random()*x);while(v===e);n(v),d&&d(!1)},[l,t,e,n,u,d,i,s,o]);return A.useEffect(()=>{if(!r)return;const x=v=>{switch(v.key){case"ArrowLeft":v.preventDefault(),h();break;case"ArrowRight":v.preventDefault(),m();break;case" ":v.preventDefault(),y();break;case"Escape":v.preventDefault(),a();break}};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[r,h,m,y,a]),{handlePrevious:h,handleNext:m,handleRandom:y}},Ike=()=>{const[t,e]=A.useState(!1),[n,r]=A.useState(null),[a,i]=A.useState([]),[s,o]=A.useState(!1),[l,u]=A.useState(1),[d,h]=A.useState(1),[m,y]=A.useState(0),[x,v]=A.useState(25),_=A.useCallback(async(I,j=1,O)=>{try{o(!0);const L=O||x,N=await li.getGroupImages(I,j,L);N.success&&N.data?(i(N.data.images||[]),u(N.data.pagination?.page||1),h(N.data.pagination?.totalPages||1),y(N.data.pagination?.total||0)):i([])}catch(L){console.error("Error fetching group images:",L),i([])}finally{o(!1)}},[x]),C=A.useCallback(async I=>{r(I),o(!0),e(!0),await _(I.id,1,x)},[_,x]),w=A.useCallback(()=>{e(!1)},[]),T=A.useCallback(I=>{n&&_(n.id,I,x)},[n,_,x]),E=A.useCallback(I=>{v(I),n&&_(n.id,1,I)},[n,_]);return{groupModalOpen:t,selectedGroup:n,groupImages:a,groupImagesLoading:s,groupImagesPage:l,groupImagesTotalPages:d,groupImagesTotal:m,groupImagesPageSize:x,handleGroupClick:C,handleGroupModalClose:w,handleGroupImagesPageChange:T,handleGroupImagesPageSizeChange:E}},jke=t=>{const e=bt.c(94),{scale:n,isMobile:r,showOriginal:a,isGif:i,isVideo:s,onZoomIn:o,onZoomOut:l,onRotateLeft:u,onRotateRight:d,onFlipHorizontal:h,onFlipVertical:m,onReset:y,onToggleOriginal:x,onEdit:v,onOpenDrawer:_,onClose:C}=t,{t:w}=$t();let T;e[0]===Symbol.for("react.memo_cache_sentinel")?(T={position:"absolute",top:0,left:0,right:0,zIndex:2,display:"flex",justifyContent:"space-between",alignItems:"center",p:1,background:"linear-gradient(to bottom, rgba(0,0,0,0.5), transparent)"},e[0]=T):T=e[0];let E;e[1]===Symbol.for("react.memo_cache_sentinel")?(E={display:"flex",gap:.5,alignItems:"center"},e[1]=E):E=e[1];let I;e[2]===Symbol.for("react.memo_cache_sentinel")?(I={color:"white"},e[2]=I):I=e[2];let j;e[3]!==w?(j=w("imageDetail:controls.zoomOut"),e[3]=w,e[4]=j):j=e[4];let O;e[5]===Symbol.for("react.memo_cache_sentinel")?(O=c.jsx(cQ,{}),e[5]=O):O=e[5];let L;e[6]!==l||e[7]!==j?(L=c.jsx(ht,{onClick:l,sx:I,size:"small",title:j,children:O}),e[6]=l,e[7]=j,e[8]=L):L=e[8];let N;e[9]===Symbol.for("react.memo_cache_sentinel")?(N={color:"white",minWidth:"50px",textAlign:"center"},e[9]=N):N=e[9];let M;e[10]!==n?(M=Math.round(n*100),e[10]=n,e[11]=M):M=e[11];let H;e[12]!==M?(H=c.jsxs(re,{variant:"caption",sx:N,children:[M,"%"]}),e[12]=M,e[13]=H):H=e[13];let P;e[14]===Symbol.for("react.memo_cache_sentinel")?(P={color:"white"},e[14]=P):P=e[14];let $;e[15]!==w?($=w("imageDetail:controls.zoomIn"),e[15]=w,e[16]=$):$=e[16];let D;e[17]===Symbol.for("react.memo_cache_sentinel")?(D=c.jsx(lQ,{}),e[17]=D):D=e[17];let U;e[18]!==o||e[19]!==$?(U=c.jsx(ht,{onClick:o,sx:P,size:"small",title:$,children:D}),e[18]=o,e[19]=$,e[20]=U):U=e[20];let F;e[21]===Symbol.for("react.memo_cache_sentinel")?(F={color:"white"},e[21]=F):F=e[21];let W;e[22]!==w?(W=w("imageDetail:controls.rotateLeft"),e[22]=w,e[23]=W):W=e[23];let ee;e[24]===Symbol.for("react.memo_cache_sentinel")?(ee=c.jsx(t9e,{}),e[24]=ee):ee=e[24];let Q;e[25]!==u||e[26]!==W?(Q=c.jsx(ht,{onClick:u,sx:F,size:"small",title:W,children:ee}),e[25]=u,e[26]=W,e[27]=Q):Q=e[27];let K;e[28]===Symbol.for("react.memo_cache_sentinel")?(K={color:"white"},e[28]=K):K=e[28];let V;e[29]!==w?(V=w("imageDetail:controls.rotateRight"),e[29]=w,e[30]=V):V=e[30];let Z;e[31]===Symbol.for("react.memo_cache_sentinel")?(Z=c.jsx(rQ,{}),e[31]=Z):Z=e[31];let q;e[32]!==d||e[33]!==V?(q=c.jsx(ht,{onClick:d,sx:K,size:"small",title:V,children:Z}),e[32]=d,e[33]=V,e[34]=q):q=e[34];let te;e[35]===Symbol.for("react.memo_cache_sentinel")?(te={color:"white"},e[35]=te):te=e[35];let ae;e[36]!==w?(ae=w("imageDetail:controls.flipHorizontal"),e[36]=w,e[37]=ae):ae=e[37];let ie;e[38]===Symbol.for("react.memo_cache_sentinel")?(ie=c.jsx(ZX,{}),e[38]=ie):ie=e[38];let ce;e[39]!==h||e[40]!==ae?(ce=c.jsx(ht,{onClick:h,sx:te,size:"small",title:ae,children:ie}),e[39]=h,e[40]=ae,e[41]=ce):ce=e[41];let pe;e[42]===Symbol.for("react.memo_cache_sentinel")?(pe={color:"white"},e[42]=pe):pe=e[42];let ge;e[43]!==w?(ge=w("imageDetail:controls.flipVertical"),e[43]=w,e[44]=ge):ge=e[44];let oe;e[45]===Symbol.for("react.memo_cache_sentinel")?(oe=c.jsx(HRe,{}),e[45]=oe):oe=e[45];let ue;e[46]!==m||e[47]!==ge?(ue=c.jsx(ht,{onClick:m,sx:pe,size:"small",title:ge,children:oe}),e[46]=m,e[47]=ge,e[48]=ue):ue=e[48];let he;e[49]===Symbol.for("react.memo_cache_sentinel")?(he={color:"white"},e[49]=he):he=e[49];let ve;e[50]!==w?(ve=w("imageDetail:controls.reset"),e[50]=w,e[51]=ve):ve=e[51];let me;e[52]===Symbol.for("react.memo_cache_sentinel")?(me=c.jsx(wo,{}),e[52]=me):me=e[52];let le;e[53]!==y||e[54]!==ve?(le=c.jsx(ht,{onClick:y,sx:he,size:"small",title:ve,children:me}),e[53]=y,e[54]=ve,e[55]=le):le=e[55];let Se;e[56]!==i||e[57]!==s||e[58]!==x||e[59]!==a?(Se=!i&&!s&&c.jsx(ht,{onClick:x,sx:{color:"white",bgcolor:a?"rgba(255, 255, 255, 0.2)":"transparent","&:hover":{bgcolor:a?"rgba(255, 255, 255, 0.3)":"rgba(255, 255, 255, 0.1)"}},size:"small",title:a?"  ( )":"   ()",children:a?c.jsx(Eu,{}):c.jsx(URe,{})}),e[56]=i,e[57]=s,e[58]=x,e[59]=a,e[60]=Se):Se=e[60];let be;e[61]!==i||e[62]!==s||e[63]!==v?(be=v&&!i&&!s&&c.jsx(ht,{onClick:v,sx:{color:"white"},size:"small",title:"Edit for img2img",children:c.jsx(zd,{})}),e[61]=i,e[62]=s,e[63]=v,e[64]=be):be=e[64];let Te;e[65]!==U||e[66]!==Q||e[67]!==q||e[68]!==ce||e[69]!==ue||e[70]!==le||e[71]!==Se||e[72]!==be||e[73]!==L||e[74]!==H?(Te=c.jsxs(J,{sx:E,children:[L,H,U,Q,q,ce,ue,le,Se,be]}),e[65]=U,e[66]=Q,e[67]=q,e[68]=ce,e[69]=ue,e[70]=le,e[71]=Se,e[72]=be,e[73]=L,e[74]=H,e[75]=Te):Te=e[75];let Ne;e[76]===Symbol.for("react.memo_cache_sentinel")?(Ne={display:"flex",gap:.5},e[76]=Ne):Ne=e[76];let Pe;e[77]!==r||e[78]!==_||e[79]!==w?(Pe=r&&_&&c.jsx(ht,{onClick:_,sx:{color:"white"},size:"small",title:w("imageDetail:controls.info"),children:c.jsx(fv,{})}),e[77]=r,e[78]=_,e[79]=w,e[80]=Pe):Pe=e[80];let Le;e[81]===Symbol.for("react.memo_cache_sentinel")?(Le={color:"white"},e[81]=Le):Le=e[81];let De;e[82]!==w?(De=w("imageDetail:controls.close"),e[82]=w,e[83]=De):De=e[83];let Xe;e[84]===Symbol.for("react.memo_cache_sentinel")?(Xe=c.jsx(Np,{}),e[84]=Xe):Xe=e[84];let ke;e[85]!==C||e[86]!==De?(ke=c.jsx(ht,{onClick:C,sx:Le,size:"small",title:De,children:Xe}),e[85]=C,e[86]=De,e[87]=ke):ke=e[87];let Ie;e[88]!==Pe||e[89]!==ke?(Ie=c.jsxs(J,{sx:Ne,children:[Pe,ke]}),e[88]=Pe,e[89]=ke,e[90]=Ie):Ie=e[90];let ye;return e[91]!==Te||e[92]!==Ie?(ye=c.jsxs(J,{sx:T,children:[Te,Ie]}),e[91]=Te,e[92]=Ie,e[93]=ye):ye=e[93],ye},Oke=t=>{const e=bt.c(51),{image:n,scale:r,rotation:a,flipX:i,flipY:s,imagePosition:o,isDragging:l,containerRef:u,onMouseDown:d,showOriginal:h,onOriginalLoadError:m}=t,y=h===void 0?!1:h,[x,v]=A.useState(!1),[_,C]=A.useState(!0),[w,T]=A.useState(!1),[E,I]=A.useState(!1);let j;e[0]===Symbol.for("react.memo_cache_sentinel")?(j=Gd(),e[0]=j):j=e[0];const O=j,L=A.useRef(null),N=A.useRef(null);let M;e[1]===Symbol.for("react.memo_cache_sentinel")?(M=()=>{v(!1),T(!1),I(!1),C(!0)},e[1]=M):M=e[1];let H;e[2]!==n.composite_hash||e[3]!==y?(H=[n.composite_hash,y],e[2]=n.composite_hash,e[3]=y,e[4]=H):H=e[4],A.useEffect(M,H);let P;e[5]!==n.file_type?(P=()=>{(()=>{n.file_type==="video"&&N.current?N.current.readyState>=3&&C(!1):L.current&&L.current.complete&&L.current.naturalHeight>0&&C(!1)})();const q=setTimeout(()=>{C(!1)},2e3);return()=>{clearTimeout(q)}},e[5]=n.file_type,e[6]=P):P=e[6];let $;e[7]!==n.composite_hash||e[8]!==n.file_type||e[9]!==y||e[10]!==w||e[11]!==E?($=[n.composite_hash,y,w,E,n.file_type],e[7]=n.composite_hash,e[8]=n.file_type,e[9]=y,e[10]=w,e[11]=E,e[12]=$):$=e[12],A.useEffect(P,$);let D;e[13]!==n.composite_hash||e[14]!==n.file_type||e[15]!==n.image_url||e[16]!==n.thumbnail_url||e[17]!==y||e[18]!==w||e[19]!==E?(D=(()=>{if(E)return`${O}/api/images/placeholder`;const q=n.file_type==="animated",te=n.file_type==="video";return w?n.thumbnail_url?n.thumbnail_url.startsWith("http")?n.thumbnail_url:`${O}${n.thumbnail_url}`:n.composite_hash?`${O}/api/images/${n.composite_hash}/thumbnail`:`${O}/api/images/placeholder`:n.composite_hash?q||te?`${O}/api/images/${n.composite_hash}/file`:y?n.image_url?n.image_url.startsWith("http")?n.image_url:`${O}${n.image_url}`:`${O}/api/images/${n.composite_hash}/download/original`:n.thumbnail_url?n.thumbnail_url.startsWith("http")?n.thumbnail_url:`${O}${n.thumbnail_url}`:`${O}/api/images/${n.composite_hash}/thumbnail`:n.image_url?n.image_url.startsWith("http")?n.image_url:`${O}${n.image_url}`:n.thumbnail_url?n.thumbnail_url.startsWith("http")?n.thumbnail_url:`${O}${n.thumbnail_url}`:`${O}/api/images/placeholder`})(),e[13]=n.composite_hash,e[14]=n.file_type,e[15]=n.image_url,e[16]=n.thumbnail_url,e[17]=y,e[18]=w,e[19]=E,e[20]=D):D=e[20];const U=D;let F;e[21]!==x||e[22]!==m||e[23]!==y||e[24]!==w||e[25]!==E?(F=()=>{x||(v(!0),y&&!w?(T(!0),C(!0),m&&m()):w&&!E&&(I(!0),C(!0)))},e[21]=x,e[22]=m,e[23]=y,e[24]=w,e[25]=E,e[26]=F):F=e[26];const W=F;let ee;e[27]===Symbol.for("react.memo_cache_sentinel")?(ee={flex:1,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",touchAction:"none"},e[27]=ee):ee=e[27];let Q;e[28]!==_?(Q=_&&c.jsx(bu,{variant:"rectangular",sx:{position:"absolute",width:"100%",height:"100%",bgcolor:"grey.800"}}),e[28]=_,e[29]=Q):Q=e[29];let K;e[30]!==i||e[31]!==s||e[32]!==W||e[33]!==n.composite_hash||e[34]!==n.file_type||e[35]!==n.original_file_path||e[36]!==_||e[37]!==o.x||e[38]!==o.y||e[39]!==U||e[40]!==l||e[41]!==a||e[42]!==r||e[43]!==w||e[44]!==E?(K=n.file_type==="video"?c.jsx(J,{component:"video",ref:N,src:U,controls:!0,autoPlay:!0,loop:!0,muted:!0,onError:W,onLoadedData:()=>C(!1),sx:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",opacity:_?0:1,transition:l?"opacity 0.3s ease":"opacity 0.3s ease, transform 0.15s ease-out",transform:`translate(${o.x}px, ${o.y}px) scale(${r}) rotate(${a}deg) scaleX(${i?-1:1}) scaleY(${s?-1:1})`,transformOrigin:"center center",cursor:r>1?l?"grabbing":"grab":"default",userSelect:"none",pointerEvents:"auto"}},`video-${n.composite_hash}-${w}-${E}`):c.jsx(J,{component:"img",ref:L,src:U,alt:n.original_file_path??"",draggable:!1,onError:W,onLoad:()=>C(!1),sx:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",opacity:_?0:1,transition:l?"opacity 0.3s ease":"opacity 0.3s ease, transform 0.15s ease-out",transform:`translate(${o.x}px, ${o.y}px) scale(${r}) rotate(${a}deg) scaleX(${i?-1:1}) scaleY(${s?-1:1})`,transformOrigin:"center center",cursor:r>1?l?"grabbing":"grab":"default",userSelect:"none",pointerEvents:"none"}},`img-${n.composite_hash}-${w}-${E}`),e[30]=i,e[31]=s,e[32]=W,e[33]=n.composite_hash,e[34]=n.file_type,e[35]=n.original_file_path,e[36]=_,e[37]=o.x,e[38]=o.y,e[39]=U,e[40]=l,e[41]=a,e[42]=r,e[43]=w,e[44]=E,e[45]=K):K=e[45];let V;return e[46]!==u||e[47]!==d||e[48]!==Q||e[49]!==K?(V=c.jsxs(J,{id:"image-container",sx:ee,onMouseDown:d,ref:u,children:[Q,K]}),e[46]=u,e[47]=d,e[48]=Q,e[49]=K,e[50]=V):V=e[50],V},Dke=[{code:"ko",name:"",englishName:"Korean"},{code:"en",name:"English",englishName:"English"},{code:"ja",name:"",englishName:"Japanese"},{code:"zh-CN",name:"",englishName:"Chinese (Simplified)"},{code:"zh-TW",name:"",englishName:"Chinese (Traditional)"}],FQ=t=>t?t.replace(/\(([^:)]+):[+-]?[\d.]+\)/g,"$1"):"",Mke=t=>t?t.split(",").map(e=>e.trim()).filter(e=>e.length>0).map(e=>FQ(e)):[],mz=t=>{const e=FQ(t),n=Mke(e);return{original:t,cleaned:e,terms:n}},Nke=t=>{if(!t)return"";let e=t;const n=/([(\[{]+)([^)\]}]+)([)\]}]+)/g;return e=e.replace(n,(r,a,i,s)=>i.includes(",")?i.split(",").map(l=>l.trim()).filter(l=>l.length>0).map(l=>`${a}${l}${s}`).join(", "):r),e},Pke=t=>{if(!t)return"";let e=t;const n=/[^a-zA-Z0-9\s,.:_<>()[\]{}]*\s*([-+]?[\d.]+)::(.*?)::/g;return e=e.replace(n,(r,a,i)=>{const s=i.trim();return s?`(${s}:${a})`:""}),e},Lke=t=>{if(!t)return"";let e=t;return e=Pke(e),e=Nke(e),e=e.replace(/\s*,\s*,\s*/g,", ").replace(/,\s*$/,"").trim(),e},zke=t=>{if(!t)return!1;const e=t.trim();return e.startsWith("<lora:")&&e.includes(">")},Fke=t=>t?t.replace(/(<lora:[^:>]+):[^>]+>/,"$1>"):"",BQ=t=>{if(!t)return{loras:[],terms:[]};const e=[],n=[],r=t.split(",").map(a=>a.trim()).filter(a=>a.length>0);for(const a of r)zke(a)?e.push(a):n.push(a);return{loras:e,terms:n}},Bke=t=>{if(!t)return"";let e=t,n=0;for(;e.length!==n;)n=e.length,e=e.replace(/[()[\]{}]/g,"");return e=e.replace(/:[+-]?[\d.]+/g,""),e=e.replace(/_/g," "),e=e.replace(/\s+/g," ").trim(),e},Hke=t=>{if(t===0)return"0 Bytes";const e=1024,n=["Bytes","KB","MB","GB","TB"],r=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,r)).toFixed(2))+" "+n[r]},Uke=(t,e="ko-KR")=>new Date(t).toLocaleString(e),$ke=(t,e=40)=>{if(t.length<=e)return t;const n=t.split(".").pop();return n?`${t.substring(0,t.lastIndexOf(".")).substring(0,e-n.length-4)+"..."}.${n}`:t.substring(0,e)+"..."},Gke=async t=>{try{const n=await(await fetch(`${Ir}/api/prompt-groups?type=${t}&include_hidden=false`)).json();return n.success?n.data.filter(r=>r.id!==0):(console.error("Failed to fetch prompt groups:",n.error),[])}catch(e){return console.error("Error fetching prompt groups:",e),[]}},qke=async(t,e)=>{try{const r=await(await fetch(`${Ir}/api/prompt-groups/${t}/prompts?type=${e}&limit=1000`)).json();return r.success&&r.data.prompts?r.data.prompts.map(a=>a.prompt):[]}catch(n){return console.error("Error fetching group prompts:",n),[]}},gz=new Map,Vke=300*1e3,Wke=async t=>{const e=`groups_${t}`,n=gz.get(e);if(n&&Date.now()-n.timestamp<Vke)return n.data;const r=await Gke(t);return gz.set(e,{data:r,timestamp:Date.now()}),r},yz=async(t,e)=>{if(!t)return{groups:[],unclassified_terms:[]};const n=Lke(t),{loras:r,terms:a}=BQ(n),i=await Wke(e),s=new Map,o=i.map(async m=>{const y=await qke(m.id,e);return{groupId:m.id,prompts:y.map(x=>x.toLowerCase())}}),l=await Promise.all(o);for(const m of l)s.set(m.groupId,m.prompts);const u=new Map,d=[];for(const m of a){const y=Bke(m).toLowerCase();let x=!1;for(const[v,_]of s)if(_.includes(y)){u.has(v)||u.set(v,[]),u.get(v).push(m),x=!0;break}x||d.push(m)}for(const m of r){const y=Fke(m).toLowerCase();let x=!1;for(const[v,_]of s)if(_.includes(y)){u.has(v)||u.set(v,[]),u.get(v).push(m),x=!0;break}x||d.push(m)}const h=[];for(const m of i){const y=u.get(m.id)||[];y.length>0&&h.push({id:m.id,group_name:m.group_name,terms:y})}return h.sort((m,y)=>{const x=i.find(_=>_.id===m.id),v=i.find(_=>_.id===y.id);return(x?.display_order||0)-(v?.display_order||0)}),{groups:h,unclassified_terms:d}},Yke=({imageId:t,autoTags:e,onTagGenerated:n})=>{const{t:r}=$t("promptManagement"),[a,i]=A.useState(!1),[s,o]=A.useState(null),l=async()=>{i(!0),o(null);try{await zQ.testImage(t),n&&n()}catch(_){const C=_ instanceof Error?_.message:r("autoTagDisplay.generationError");o(C)}finally{i(!1)}};if(!e)return c.jsxs(J,{sx:{p:2,textAlign:"center"},children:[s&&c.jsx(St,{severity:"error",sx:{mb:2},children:s}),c.jsx(re,{variant:"body2",color:"text.secondary",sx:{mb:2},children:r("autoTagDisplay.noTags")}),c.jsx(Ke,{variant:"contained",onClick:l,disabled:a,startIcon:a?c.jsx(Kt,{size:20}):void 0,children:r(a?"autoTagDisplay.generating":"autoTagDisplay.generateButton")})]});const u=_=>({general:"#4caf50",sensitive:"#ffeb3b",questionable:"#ff9800",explicit:"#d32f2f"})[_]||"#9e9e9e",d=_=>_<.33?"#9e9e9e":_<.66?"#2196f3":"#4caf50",h=()=>{if(!e.rating)return null;const _=Object.entries(e.rating).map(([w,T])=>({key:w,value:Math.round(T*100)/100,color:u(w)})).filter(w=>w.value>0);if(_.length===0)return null;const C=_.reduce((w,T)=>w+T.value,0);return c.jsxs(J,{sx:{mb:3},children:[c.jsx(re,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:r("autoTagDisplay.sections.rating")}),c.jsx(J,{sx:{display:"flex",height:32,borderRadius:1,overflow:"hidden",border:"1px solid",borderColor:"divider"},children:_.map(w=>c.jsx(J,{sx:{flex:w.value/C,backgroundColor:w.color,display:"flex",alignItems:"center",justifyContent:"center",position:"relative","&:not(:last-child)":{borderRight:"1px solid rgba(0,0,0,0.1)"}},children:w.value>=.33&&c.jsxs(re,{variant:"caption",sx:{color:w.key==="sensitive"?"rgba(0,0,0,0.7)":"white",fontWeight:600,fontSize:"0.7rem",textShadow:w.key==="sensitive"?"none":"0 1px 2px rgba(0,0,0,0.3)"},children:[w.key.substring(0,3).toUpperCase()," ",(w.value*100).toFixed(0),"%"]})},w.key))})]})},m=()=>{if(!e.character)return null;const _=Object.entries(e.character).sort((C,w)=>w[1]-C[1]);return _.length===0?null:c.jsxs(J,{sx:{mb:2},children:[c.jsx(re,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:r("autoTagDisplay.sections.characters")}),c.jsx(J,{sx:{display:"flex",flexDirection:"column",gap:1},children:_.map(([C,w])=>c.jsxs(J,{children:[c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[c.jsx(re,{variant:"body2",sx:{fontSize:"0.85rem"},children:C}),c.jsxs(re,{variant:"caption",color:"text.secondary",children:[(w*100).toFixed(1),"%"]})]}),c.jsx(Ld,{variant:"determinate",value:w*100,sx:{height:6,borderRadius:1,backgroundColor:"rgba(0,0,0,0.1)","& .MuiLinearProgress-bar":{backgroundColor:d(w),borderRadius:1}}})]},C))})]})},y=()=>e.taglist?c.jsxs(J,{sx:{mb:2},children:[c.jsx(re,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:r("autoTagDisplay.sections.tagList")}),c.jsx(re,{variant:"body2",sx:{lineHeight:1.6,wordBreak:"break-word"},children:e.taglist})]}):null,x=()=>{if(!e.general)return null;const _=Object.entries(e.general).sort((C,w)=>w[1]-C[1]);return _.length===0?null:c.jsxs(Dc,{defaultExpanded:!1,children:[c.jsx(Nc,{expandIcon:c.jsx(is,{}),children:c.jsx(re,{variant:"subtitle2",sx:{fontWeight:600},children:r("autoTagDisplay.sections.generalTags",{count:_.length})})}),c.jsx(Mc,{children:c.jsx(J,{sx:{display:"flex",flexDirection:"column",gap:1},children:_.map(([C,w])=>c.jsxs(J,{children:[c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[c.jsx(re,{variant:"body2",sx:{fontSize:"0.85rem"},children:C}),c.jsxs(re,{variant:"caption",color:"text.secondary",children:[(w*100).toFixed(1),"%"]})]}),c.jsx(Ld,{variant:"determinate",value:w*100,sx:{height:6,borderRadius:1,backgroundColor:"rgba(0,0,0,0.1)","& .MuiLinearProgress-bar":{backgroundColor:d(w),borderRadius:1}}})]},C))})})]})},v=()=>c.jsxs(Dc,{defaultExpanded:!1,sx:{mb:2},children:[c.jsx(Nc,{expandIcon:c.jsx(is,{}),children:c.jsx(re,{variant:"subtitle2",sx:{fontWeight:600},children:r("autoTagDisplay.sections.modelInfo")})}),c.jsx(Mc,{children:c.jsxs(J,{sx:{display:"flex",flexDirection:"column",gap:1},children:[c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[r("autoTagDisplay.modelInfo.model"),":"]})," ",e.model]}),c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[r("autoTagDisplay.modelInfo.generalThreshold"),":"]})," ",e.thresholds.general]}),c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[r("autoTagDisplay.modelInfo.characterThreshold"),":"]})," ",e.thresholds.character]}),e.tagged_at&&c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[r("autoTagDisplay.modelInfo.taggedAt"),":"]})," ",new Date(e.tagged_at).toLocaleString("ko-KR")]})]})})]});return c.jsxs(J,{sx:{p:2,height:"100%",overflowY:"auto"},children:[h(),v(),m(),y(),x()]})};function bT(t){const e=bt.c(20);let n,r,a,i;e[0]!==t?({children:n,value:i,index:r,...a}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i):(n=e[1],r=e[2],a=e[3],i=e[4]);const s=i!==r,o=`prompt-tabpanel-${r}`,l=`prompt-tab-${r}`,u=i===r?"100%":"0",d=i===r?"1 1 0%":"0 0 0%",h=i===r?"flex":"none";let m;e[5]!==u||e[6]!==d||e[7]!==h?(m={height:u,flex:d,display:h,flexDirection:"column"},e[5]=u,e[6]=d,e[7]=h,e[8]=m):m=e[8];let y;e[9]!==n||e[10]!==r||e[11]!==i?(y=i===r&&c.jsx(J,{sx:{p:1,height:"100%",overflow:"hidden",flex:1,display:"flex",flexDirection:"column"},children:n}),e[9]=n,e[10]=r,e[11]=i,e[12]=y):y=e[12];let x;return e[13]!==a||e[14]!==s||e[15]!==o||e[16]!==l||e[17]!==m||e[18]!==y?(x=c.jsx("div",{role:"tabpanel",hidden:s,id:o,"aria-labelledby":l,...a,style:m,children:y}),e[13]=a,e[14]=s,e[15]=o,e[16]=l,e[17]=m,e[18]=y,e[19]=x):x=e[19],x}const HQ=({prompt:t,negativePrompt:e,maxHeight:n,showLabels:r=!0,variant:a="outlined",showGrouped:i=!1,imageId:s,autoTags:o,isTaggerEnabled:l=!1,onAutoTagGenerated:u})=>{const{t:d}=$t("promptManagement"),[h,m]=A.useState(0),[y,x]=A.useState(null),[v,_]=A.useState(null),[C,w]=A.useState(!1),T=je.useRef("positive"),E=t&&t.trim(),I=e&&e.trim(),j=l&&s!==void 0||o&&Object.keys(o).length>0,O=je.useMemo(()=>t?.trim()||"",[t?.trim()]),L=je.useMemo(()=>e?.trim()||"",[e?.trim()]);A.useEffect(()=>{i?(async()=>{w(!0);try{if(E){const U=await yz(O,"positive");x(U)}if(I){const U=await yz(L,"negative");_(U)}}catch(U){console.error("Error grouping prompts:",U)}finally{w(!1)}})():(x(null),_(null))},[i,O,L,E,I]),A.useEffect(()=>{const D=T.current;let U=0;if(E){if(D==="positive"){m(U);return}U++}if(I){if(D==="negative"){m(U);return}U++}if(j&&D==="auto"){m(U);return}m(0)},[t,e,E,I,j]);const N=(D,U)=>{m(U);let F=0;if(E){if(U===F){T.current="positive";return}F++}if(I){if(U===F){T.current="negative";return}F++}j&&U===F&&(T.current="auto")},M=(D,U=!1)=>c.jsxs(J,{sx:{height:"100%",overflow:"auto",p:2},children:[D.groups.map(F=>c.jsxs(J,{sx:{mb:1.5},children:[c.jsx(re,{variant:"subtitle2",sx:{mb:.5,fontWeight:600,color:U?"error.main":"primary.main",fontSize:"0.9rem"},children:F.group_name}),c.jsx(re,{variant:"body2",sx:{lineHeight:1.6,wordBreak:"break-word",color:"text.primary"},children:F.terms.join(", ")})]},F.id)),D.unclassified_terms.length>0&&c.jsx(J,{sx:{mb:1.5},children:c.jsx(re,{variant:"body2",sx:{lineHeight:1.6,wordBreak:"break-word",color:"text.secondary"},children:D.unclassified_terms.join(", ")})})]}),H=n||"100%";if(!E&&!I&&!j)return c.jsx(J,{sx:{py:2,textAlign:"center",height:H,display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(re,{variant:"body2",color:"text.secondary",children:d("promptDisplay.noPrompt")})});if(E&&!I&&!j){const D={height:"100%",borderRadius:a==="none"?0:2,display:"flex",flexDirection:"column"},U=i?C?c.jsx(J,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:c.jsx(re,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loading")})}):y?M(y,!1):c.jsx(J,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:c.jsx(re,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loadFailed")})}):c.jsxs(J,{sx:{flex:1,p:2,overflowY:"auto",minHeight:0,"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"rgba(0,0,0,0.2)",borderRadius:"3px","&:hover":{background:"rgba(0,0,0,0.3)"}}},children:[r&&c.jsx(re,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:600,color:"primary.main",mb:1},children:d("promptDisplay.labels.prompt")}),c.jsx(re,{variant:"body2",sx:{whiteSpace:"pre-wrap",lineHeight:1.6,wordBreak:"break-word"},children:t})]});return c.jsx(J,{sx:{height:H,width:"100%",display:"flex",flexDirection:"column"},children:a==="none"?c.jsx(J,{sx:D,children:U}):c.jsx(Yt,{variant:a,sx:D,children:U})})}if(!E&&I&&!j){const D={height:"100%",borderRadius:a==="none"?0:2,display:"flex",flexDirection:"column"},U=i?C?c.jsx(J,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:c.jsx(re,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loading")})}):v?M(v,!0):c.jsx(J,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:c.jsx(re,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loadFailed")})}):c.jsxs(J,{sx:{flex:1,p:2,overflowY:"auto",minHeight:0,"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"rgba(0,0,0,0.2)",borderRadius:"3px","&:hover":{background:"rgba(0,0,0,0.3)"}}},children:[r&&c.jsx(re,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:600,color:"error.main",mb:1},children:d("promptDisplay.labels.negativePrompt")}),c.jsx(re,{variant:"body2",sx:{whiteSpace:"pre-wrap",lineHeight:1.6,wordBreak:"break-word",color:"text.secondary"},children:e})]});return c.jsx(J,{sx:{height:H,width:"100%",display:"flex",flexDirection:"column"},children:a==="none"?c.jsx(J,{sx:D,children:U}):c.jsx(Yt,{variant:a,sx:D,children:U})})}const P={height:"100%",borderRadius:a==="none"?0:2,display:"flex",flexDirection:"column"},$=c.jsxs(c.Fragment,{children:[c.jsxs(il,{value:h,onChange:N,"aria-label":" ",sx:{borderBottom:1,borderColor:"divider",flexShrink:0,"& .MuiTabs-flexContainer":{height:48}},children:[E&&c.jsx(Gn,{label:d("promptDisplay.tabs.positive"),id:"prompt-tab-0","aria-controls":"prompt-tabpanel-0",sx:{minHeight:48,color:"primary.main","&.Mui-selected":{fontWeight:600}}}),I&&c.jsx(Gn,{label:d("promptDisplay.tabs.negative"),id:`prompt-tab-${E?1:0}`,"aria-controls":`prompt-tabpanel-${E?1:0}`,sx:{minHeight:48,color:"error.main","&.Mui-selected":{fontWeight:600}}}),j&&c.jsx(Gn,{label:d("promptDisplay.tabs.auto"),id:`prompt-tab-${(E?1:0)+(I?1:0)}`,"aria-controls":`prompt-tabpanel-${(E?1:0)+(I?1:0)}`,sx:{minHeight:48,color:"info.main","&.Mui-selected":{fontWeight:600}}})]}),c.jsxs(J,{sx:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",minHeight:0},children:[E&&c.jsx(bT,{value:h,index:0,children:i?C?c.jsx(J,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:c.jsx(re,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loading")})}):y?M(y,!1):c.jsx(J,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:c.jsx(re,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loadFailed")})}):c.jsx(J,{sx:{height:"100%",overflowY:"auto",p:2,"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"rgba(0,0,0,0.2)",borderRadius:"3px","&:hover":{background:"rgba(0,0,0,0.3)"}}},children:c.jsx(re,{variant:"body2",sx:{whiteSpace:"pre-wrap",lineHeight:1.6,wordBreak:"break-word"},children:t})})}),I&&c.jsx(bT,{value:h,index:E?1:0,children:i?C?c.jsx(J,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:c.jsx(re,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loading")})}):v?M(v,!0):c.jsx(J,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:c.jsx(re,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loadFailed")})}):c.jsx(J,{sx:{height:"100%",overflowY:"auto",p:2,"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"rgba(0,0,0,0.2)",borderRadius:"3px","&:hover":{background:"rgba(0,0,0,0.3)"}}},children:c.jsx(re,{variant:"body2",sx:{whiteSpace:"pre-wrap",lineHeight:1.6,wordBreak:"break-word",color:"text.secondary"},children:e})})}),j&&c.jsx(bT,{value:h,index:(E?1:0)+(I?1:0),children:c.jsx(Yke,{imageId:s,autoTags:o??null,onTagGenerated:u})})]})]});return c.jsx(J,{sx:{height:H,width:"100%",display:"flex",flexDirection:"column"},children:a==="none"?c.jsx(J,{sx:P,children:$}):c.jsx(Yt,{variant:a,sx:P,children:$})})},Kke=t=>{const e=bt.c(55),{image:n}=t,{t:r}=$t(),[a,i]=A.useState(!1);let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={mb:3},e[0]=s):s=e[0];let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o={display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer","&:hover":{bgcolor:"action.hover"},px:1,py:.5,borderRadius:1,mb:1},e[1]=o):o=e[1];let l;e[2]!==a?(l=()=>i(!a),e[2]=a,e[3]=l):l=e[3];let u;e[4]!==r?(u=r("imageDetail:sections.fileInfo"),e[4]=r,e[5]=u):u=e[5];let d;e[6]!==u?(d=c.jsx(re,{variant:"subtitle2",color:"primary",children:u}),e[6]=u,e[7]=d):d=e[7];let h;e[8]===Symbol.for("react.memo_cache_sentinel")?(h={p:0},e[8]=h):h=e[8];let m;e[9]!==a?(m=c.jsx(ht,{size:"small",sx:h,children:a?c.jsx(MO,{fontSize:"small"}):c.jsx(is,{fontSize:"small"})}),e[9]=a,e[10]=m):m=e[10];let y;e[11]!==l||e[12]!==d||e[13]!==m?(y=c.jsxs(J,{sx:o,onClick:l,children:[d,m]}),e[11]=l,e[12]=d,e[13]=m,e[14]=y):y=e[14];let x;e[15]===Symbol.for("react.memo_cache_sentinel")?(x={display:"flex",flexDirection:"column",gap:.5,pl:1},e[15]=x):x=e[15];const v=n.original_file_path??"";let _;e[16]!==r?(_=r("imageDetail:fileInfo.filename"),e[16]=r,e[17]=_):_=e[17];const C=n.original_file_path||"";let w;e[18]!==C?(w=$ke(C),e[18]=C,e[19]=w):w=e[19];let T;e[20]!==v||e[21]!==_||e[22]!==w?(T=c.jsxs(re,{variant:"body2",title:v,children:[_,": ",w]}),e[20]=v,e[21]=_,e[22]=w,e[23]=T):T=e[23];let E;e[24]!==r?(E=r("imageDetail:imageInfo.dimensions"),e[24]=r,e[25]=E):E=e[25];let I;e[26]!==n.height||e[27]!==n.width||e[28]!==E?(I=c.jsxs(re,{variant:"body2",children:[E,": ",n.width,"  ",n.height]}),e[26]=n.height,e[27]=n.width,e[28]=E,e[29]=I):I=e[29];let j;e[30]!==r?(j=r("imageDetail:fileInfo.fileSize"),e[30]=r,e[31]=j):j=e[31];const O=n.file_size??0;let L;e[32]!==O?(L=Hke(O),e[32]=O,e[33]=L):L=e[33];let N;e[34]!==j||e[35]!==L?(N=c.jsxs(re,{variant:"body2",children:[j,": ",L]}),e[34]=j,e[35]=L,e[36]=N):N=e[36];let M;e[37]!==r?(M=r("imageDetail:fileInfo.uploadDate"),e[37]=r,e[38]=M):M=e[38];let H;e[39]!==n.first_seen_date?(H=Uke(n.first_seen_date),e[39]=n.first_seen_date,e[40]=H):H=e[40];let P;e[41]!==M||e[42]!==H?(P=c.jsxs(re,{variant:"body2",children:[M,": ",H]}),e[41]=M,e[42]=H,e[43]=P):P=e[43];let $;e[44]!==T||e[45]!==I||e[46]!==N||e[47]!==P?($=c.jsxs(J,{sx:x,children:[T,I,N,P]}),e[44]=T,e[45]=I,e[46]=N,e[47]=P,e[48]=$):$=e[48];let D;e[49]!==a||e[50]!==$?(D=c.jsx(jp,{in:a,children:$}),e[49]=a,e[50]=$,e[51]=D):D=e[51];let U;return e[52]!==D||e[53]!==y?(U=c.jsxs(J,{sx:s,children:[y,D]}),e[52]=D,e[53]=y,e[54]=U):U=e[54],U},Xke=t=>{const e=bt.c(16),{groups:n,onGroupClick:r}=t,{t:a}=$t();if(!n||n.length===0)return null;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={mb:3},e[0]=i):i=e[0];let s;e[1]!==a?(s=a("imageDetail:sections.groupInfo"),e[1]=a,e[2]=s):s=e[2];let o;e[3]!==s?(o=c.jsx(re,{variant:"subtitle2",gutterBottom:!0,color:"primary",children:s}),e[3]=s,e[4]=o):o=e[4];let l;e[5]===Symbol.for("react.memo_cache_sentinel")?(l={display:"flex",flexWrap:"wrap",gap:.5},e[5]=l):l=e[5];let u;if(e[6]!==n||e[7]!==r){let m;e[9]!==r?(m=(y,x)=>c.jsx(yt,{label:y.name,size:"small",variant:"filled",clickable:!0,onClick:()=>r(y),sx:{backgroundColor:y.color||(y.collection_type==="auto"?"#e3f2fd":"#f3e5f5"),color:y.color?"#fff":y.collection_type==="auto"?"#1976d2":"#7b1fa2",fontSize:"0.7rem",cursor:"pointer","&:hover":{opacity:.8}}},y.id??`group-${x}`),e[9]=r,e[10]=m):m=e[10],u=n.map(m),e[6]=n,e[7]=r,e[8]=u}else u=e[8];let d;e[11]!==u?(d=c.jsx(J,{sx:l,children:u}),e[11]=u,e[12]=d):d=e[12];let h;return e[13]!==o||e[14]!==d?(h=c.jsxs(J,{sx:i,children:[o,d]}),e[13]=o,e[14]=d,e[15]=h):h=e[15],h},Qke=t=>{const e=bt.c(47),{image:n}=t,{t:r}=$t(),[a,i]=A.useState(!0);if(!(n.ai_tool||n.model_name||n.steps||n.cfg_scale||n.sampler||n.seed))return null;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={mb:3},e[0]=o):o=e[0];let l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l={display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer","&:hover":{bgcolor:"action.hover"},px:1,py:.5,borderRadius:1,mb:1},e[1]=l):l=e[1];let u;e[2]!==a?(u=()=>i(!a),e[2]=a,e[3]=u):u=e[3];let d;e[4]!==r?(d=r("imageDetail:sections.aiInfo"),e[4]=r,e[5]=d):d=e[5];let h;e[6]!==d?(h=c.jsx(re,{variant:"subtitle2",color:"primary",children:d}),e[6]=d,e[7]=h):h=e[7];let m;e[8]===Symbol.for("react.memo_cache_sentinel")?(m={p:0},e[8]=m):m=e[8];let y;e[9]!==a?(y=c.jsx(ht,{size:"small",sx:m,children:a?c.jsx(MO,{fontSize:"small"}):c.jsx(is,{fontSize:"small"})}),e[9]=a,e[10]=y):y=e[10];let x;e[11]!==u||e[12]!==h||e[13]!==y?(x=c.jsxs(J,{sx:l,onClick:u,children:[h,y]}),e[11]=u,e[12]=h,e[13]=y,e[14]=x):x=e[14];let v;e[15]===Symbol.for("react.memo_cache_sentinel")?(v={display:"flex",flexDirection:"column",gap:.5,pl:1},e[15]=v):v=e[15];let _;e[16]!==n.ai_tool||e[17]!==r?(_=n.ai_tool&&c.jsxs(re,{variant:"body2",children:[r("imageDetail:aiInfo.toolShort"),": ",n.ai_tool]}),e[16]=n.ai_tool,e[17]=r,e[18]=_):_=e[18];let C;e[19]!==n.model_name||e[20]!==r?(C=n.model_name&&c.jsxs(re,{variant:"body2",children:[r("imageDetail:aiInfo.model"),": ",n.model_name]}),e[19]=n.model_name,e[20]=r,e[21]=C):C=e[21];let w;e[22]!==n.steps||e[23]!==r?(w=n.steps&&c.jsxs(re,{variant:"body2",children:[r("imageDetail:aiInfo.steps"),": ",n.steps]}),e[22]=n.steps,e[23]=r,e[24]=w):w=e[24];let T;e[25]!==n.cfg_scale||e[26]!==r?(T=n.cfg_scale&&c.jsxs(re,{variant:"body2",children:[r("imageDetail:aiInfo.cfgShort"),": ",n.cfg_scale]}),e[25]=n.cfg_scale,e[26]=r,e[27]=T):T=e[27];let E;e[28]!==n.sampler||e[29]!==r?(E=n.sampler&&c.jsxs(re,{variant:"body2",children:[r("imageDetail:aiInfo.sampler"),": ",n.sampler]}),e[28]=n.sampler,e[29]=r,e[30]=E):E=e[30];let I;e[31]!==n.seed||e[32]!==r?(I=n.seed&&c.jsxs(re,{variant:"body2",children:[r("imageDetail:aiInfo.seed"),": ",n.seed]}),e[31]=n.seed,e[32]=r,e[33]=I):I=e[33];let j;e[34]!==_||e[35]!==C||e[36]!==w||e[37]!==T||e[38]!==E||e[39]!==I?(j=c.jsxs(J,{sx:v,children:[_,C,w,T,E,I]}),e[34]=_,e[35]=C,e[36]=w,e[37]=T,e[38]=E,e[39]=I,e[40]=j):j=e[40];let O;e[41]!==a||e[42]!==j?(O=c.jsx(jp,{in:a,children:j}),e[41]=a,e[42]=j,e[43]=O):O=e[43];let L;return e[44]!==O||e[45]!==x?(L=c.jsxs(J,{sx:o,children:[x,O]}),e[44]=O,e[45]=x,e[46]=L):L=e[46],L},bz=t=>{const e=bt.c(40),{image:n,onGroupClick:r,isTaggerEnabled:a,onAutoTagGenerated:i,isHistoryContext:s}=t,o=a===void 0?!1:a,l=s===void 0?!1:s,[u,d]=A.useState(!1),h=n.ai_metadata&&(n.ai_metadata.prompts.prompt||n.ai_metadata.prompts.negative_prompt);let m;e[0]!==n.auto_tags?(m=n.auto_tags&&Object.keys(n.auto_tags).length>0,e[0]=n.auto_tags,e[1]=m):m=e[1];const x=h||o||m;let v;e[2]!==n.composite_hash?(v=async()=>{if(n.composite_hash)try{await navigator.clipboard.writeText(n.composite_hash),d(!0)}catch(F){console.error("Failed to copy hash:",F)}},e[2]=n.composite_hash,e[3]=v):v=e[3];const _=v;let C;e[4]===Symbol.for("react.memo_cache_sentinel")?(C={p:{xs:2,sm:3},height:"100%",display:"flex",flexDirection:"column"},e[4]=C):C=e[4];let w;e[5]===Symbol.for("react.memo_cache_sentinel")?(w={flexShrink:0,overflowY:"auto",mb:2},e[5]=w):w=e[5];let T;e[6]===Symbol.for("react.memo_cache_sentinel")?(T=c.jsx(re,{variant:"h6",gutterBottom:!0,sx:{mb:2},children:" "}),e[6]=T):T=e[6];let E;e[7]===Symbol.for("react.memo_cache_sentinel")?(E={mb:2,p:1.5,bgcolor:"action.hover",borderRadius:1,display:"flex",alignItems:"center",gap:1},e[7]=E):E=e[7];let I;e[8]!==_||e[9]!==n.composite_hash?(I=c.jsx(J,{sx:E,children:n.composite_hash?c.jsxs(c.Fragment,{children:[c.jsx(Xt,{title:" ",children:c.jsx(J,{onClick:_,sx:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer",fontFamily:"monospace",fontSize:"0.75rem",color:"text.secondary","&:hover":{color:"primary.main"}},children:n.composite_hash})}),c.jsx(Xt,{title:" ",children:c.jsx(ht,{size:"small",onClick:_,sx:{flexShrink:0},children:c.jsx(eS,{fontSize:"small"})})})]}):c.jsxs(c.Fragment,{children:[c.jsx(nS,{fontSize:"small",color:"disabled"}),c.jsx(re,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:"   ..."})]})}),e[8]=_,e[9]=n.composite_hash,e[10]=I):I=e[10];let j;e[11]!==n?(j=c.jsx(Kke,{image:n}),e[11]=n,e[12]=j):j=e[12];let O;e[13]!==n.groups||e[14]!==r?(O=c.jsx(Xke,{groups:n.groups,onGroupClick:r}),e[13]=n.groups,e[14]=r,e[15]=O):O=e[15];let L;e[16]!==n?(L=c.jsx(Qke,{image:n}),e[16]=n,e[17]=L):L=e[17];let N;e[18]!==j||e[19]!==O||e[20]!==L||e[21]!==I?(N=c.jsxs(J,{sx:w,children:[T,I,j,O,L]}),e[18]=j,e[19]=O,e[20]=L,e[21]=I,e[22]=N):N=e[22];let M;e[23]!==n.ai_metadata?.prompts||e[24]!==n.auto_tags||e[25]!==n.composite_hash||e[26]!==l||e[27]!==o||e[28]!==i||e[29]!==x?(M=x&&c.jsx(J,{sx:{flex:1,display:"flex",flexDirection:"column",minHeight:0},children:c.jsx(HQ,{prompt:n.ai_metadata?.prompts.prompt,negativePrompt:n.ai_metadata?.prompts.negative_prompt,variant:"outlined",showGrouped:!0,imageId:n.composite_hash||void 0,autoTags:n.auto_tags,isTaggerEnabled:o,onAutoTagGenerated:i,isHistoryContext:l})}),e[23]=n.ai_metadata?.prompts,e[24]=n.auto_tags,e[25]=n.composite_hash,e[26]=l,e[27]=o,e[28]=i,e[29]=x,e[30]=M):M=e[30];let H,P;e[31]===Symbol.for("react.memo_cache_sentinel")?(H=()=>d(!1),P={vertical:"bottom",horizontal:"center"},e[31]=H,e[32]=P):(H=e[31],P=e[32]);let $;e[33]===Symbol.for("react.memo_cache_sentinel")?($=c.jsx(St,{onClose:()=>d(!1),severity:"success",variant:"filled",children:" "}),e[33]=$):$=e[33];let D;e[34]!==u?(D=c.jsx(zg,{open:u,autoHideDuration:2e3,onClose:H,anchorOrigin:P,children:$}),e[34]=u,e[35]=D):D=e[35];let U;return e[36]!==N||e[37]!==M||e[38]!==D?(U=c.jsxs(J,{sx:C,children:[N,M,D]}),e[36]=N,e[37]=M,e[38]=D,e[39]=U):U=e[39],U},Zke=()=>{const t=bt.c(17);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[[]],t[0]=e):e=t[0];const[n,r]=A.useState(e),[a,i]=A.useState(0);let s;t[1]!==n||t[2]!==a?(s=C=>{const w=n.slice(0,a+1);w.push([...C]),r(w),i(w.length-1)},t[1]=n,t[2]=a,t[3]=s):s=t[3];const o=s;let l;t[4]!==n||t[5]!==a?(l=()=>a>0?(i(a-1),n[a-1]):null,t[4]=n,t[5]=a,t[6]=l):l=t[6];const u=l;let d;t[7]!==n||t[8]!==a?(d=()=>a<n.length-1?(i(a+1),n[a+1]):null,t[7]=n,t[8]=a,t[9]=d):d=t[9];const h=d,m=a>0,y=a<n.length-1;let x;t[10]===Symbol.for("react.memo_cache_sentinel")?(x=()=>{r([[]]),i(0)},t[10]=x):x=t[10];const v=x;let _;return t[11]!==y||t[12]!==m||t[13]!==h||t[14]!==o||t[15]!==u?(_={saveToHistory:o,undo:u,redo:h,canUndo:m,canRedo:y,reset:v},t[11]=y,t[12]=m,t[13]=h,t[14]=o,t[15]=u,t[16]=_):_=t[16],_},Jke=(t=1)=>{const[e,n]=A.useState(t),[r,a]=A.useState({x:0,y:0}),[i,s]=A.useState(0),[o,l]=A.useState(1),u=A.useRef(!1),d=A.useRef({x:0,y:0}),h=A.useCallback(()=>{n(j=>Math.min(j*1.2,5))},[]),m=A.useCallback(()=>{n(j=>Math.max(j/1.2,.1))},[]),y=A.useCallback(()=>{n(1),a({x:0,y:0})},[]),x=A.useCallback((j,O)=>{j.evt.preventDefault();const L=O.current;if(!L)return;const N=e,M=L.getPointerPosition(),H={x:(M.x-r.x)/N,y:(M.y-r.y)/N},P=j.evt.deltaY>0?N/1.1:N*1.1,$=Math.max(.1,Math.min(5,P));n($);const D={x:M.x-H.x*$,y:M.y-H.y*$};a(D)},[e,r.x,r.y]),v=A.useCallback(j=>{u.current=!0,d.current=j},[]),_=A.useCallback(j=>{if(!u.current)return!1;const O=j.x-d.current.x,L=j.y-d.current.y;return a(N=>({x:N.x+O,y:N.y+L})),d.current=j,!0},[]),C=A.useCallback(()=>{u.current=!1},[]),w=A.useCallback(()=>{s(j=>(j+90)%360)},[]),T=A.useCallback(()=>{l(j=>j*-1)},[]),E=A.useCallback(()=>{n(1),a({x:0,y:0}),s(0),l(1)},[]),I=A.useCallback(j=>{n(j)},[]);return{zoom:e,stagePos:r,rotation:i,scaleX:o,isPanning:u.current,handleZoomIn:h,handleZoomOut:m,handleFitScreen:y,handleWheel:x,startPan:v,movePan:_,endPan:C,handleRotate:w,handleFlip:T,reset:E,setInitialZoom:I}},eIe=({tool:t,brushSize:e,brushColor:n,eraserSize:r,zoom:a,stagePos:i,onDrawingComplete:s})=>{const[o,l]=A.useState([]),u=A.useRef(!1),d=A.useCallback(_=>{if(t!=="brush"&&t!=="eraser")return;u.current=!0;const C={x:(_.x-i.x)/a,y:(_.y-i.y)/a},w={tool:t,points:[C.x,C.y],color:t==="brush"?n:"#ffffff",strokeWidth:t==="brush"?e:r};l(T=>[...T,w])},[t,e,n,r,a,i]),h=A.useCallback(_=>{if(!u.current)return;const C={x:(_.x-i.x)/a,y:(_.y-i.y)/a};l(w=>{const T=w[w.length-1];if(!T)return w;const E={...T,points:T.points.concat([C.x,C.y])};return[...w.slice(0,-1),E]})},[a,i]),m=A.useCallback(()=>{u.current&&(u.current=!1,s(o))},[o,s]),y=A.useCallback(()=>{l([]),s([])},[s]),x=A.useCallback(_=>{l(_)},[]),v=A.useCallback(()=>{l([]),u.current=!1},[]);return{lines:o,isDrawing:u.current,startDrawing:d,continueDrawing:h,endDrawing:m,clearLines:y,setLinesFromHistory:x,reset:v}},tIe=(t,e,n,r,a)=>{if(!t)return{x:0,y:0,width:0,height:0};const i=r/2,s=a/2;return{x:i,y:s,width:e.width,height:e.height}},nIe=(t,e,n,r)=>{if(!t||!e||!n||!r)return 1;const a=n*.9,i=r*.9,s=a/t,o=i/e;return Math.min(s,o,1)},rIe=async(t,e,n,r)=>{if(!t)throw new Error("Layer reference not available");const i=t.toDataURL({x:e.x-e.width/2,y:e.y-e.height/2,width:e.width,height:e.height,pixelRatio:1/r});await en.post(`/api/image-editor/${n}/save`,{imageData:i})},aIe=t=>{const e=bt.c(29),{zoom:n,onZoomIn:r,onZoomOut:a,onFitScreen:i,onClose:s}=t;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:1,borderColor:"divider",py:1.5,px:2},e[0]=o):o=e[0];let l,u;e[1]===Symbol.for("react.memo_cache_sentinel")?(l={display:"flex",alignItems:"center",gap:2},u=c.jsx(re,{variant:"h6",children:"Image Editor"}),e[1]=l,e[2]=u):(l=e[1],u=e[2]);let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d={display:"flex",gap:1},e[3]=d):d=e[3];let h;e[4]===Symbol.for("react.memo_cache_sentinel")?(h=c.jsx(cQ,{fontSize:"small"}),e[4]=h):h=e[4];let m;e[5]!==a?(m=c.jsx(ht,{onClick:a,size:"small",children:h}),e[5]=a,e[6]=m):m=e[6];let y;e[7]===Symbol.for("react.memo_cache_sentinel")?(y={minWidth:60,textAlign:"center",lineHeight:"32px"},e[7]=y):y=e[7];let x;e[8]!==n?(x=Math.round(n*100),e[8]=n,e[9]=x):x=e[9];let v;e[10]!==x?(v=c.jsxs(re,{variant:"body2",sx:y,children:[x,"%"]}),e[10]=x,e[11]=v):v=e[11];let _;e[12]===Symbol.for("react.memo_cache_sentinel")?(_=c.jsx(lQ,{fontSize:"small"}),e[12]=_):_=e[12];let C;e[13]!==r?(C=c.jsx(ht,{onClick:r,size:"small",children:_}),e[13]=r,e[14]=C):C=e[14];let w;e[15]===Symbol.for("react.memo_cache_sentinel")?(w=c.jsx(BRe,{fontSize:"small"}),e[15]=w):w=e[15];let T;e[16]!==i?(T=c.jsx(ht,{onClick:i,size:"small",children:w}),e[16]=i,e[17]=T):T=e[17];let E;e[18]!==C||e[19]!==T||e[20]!==m||e[21]!==v?(E=c.jsxs(J,{sx:l,children:[u,c.jsxs(J,{sx:d,children:[m,v,C,T]})]}),e[18]=C,e[19]=T,e[20]=m,e[21]=v,e[22]=E):E=e[22];let I;e[23]===Symbol.for("react.memo_cache_sentinel")?(I=c.jsx(Np,{}),e[23]=I):I=e[23];let j;e[24]!==s?(j=c.jsx(ht,{onClick:s,size:"small",children:I}),e[24]=s,e[25]=j):j=e[25];let O;return e[26]!==E||e[27]!==j?(O=c.jsxs(pr,{sx:o,children:[E,j]}),e[26]=E,e[27]=j,e[28]=O):O=e[28],O},iIe=t=>{const e=bt.c(49),{tool:n,canUndo:r,canRedo:a,onToolChange:i,onUndo:s,onRedo:o,onClear:l,onRotate:u,onFlip:d}=t;let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h={width:60,display:"flex",flexDirection:"column",alignItems:"center",gap:.5,py:2,borderRight:1,borderColor:"divider",bgcolor:"background.paper"},e[0]=h):h=e[0];let m;e[1]!==i?(m=()=>i("pan"),e[1]=i,e[2]=m):m=e[2];const y=n==="pan"?"primary":"default";let x;e[3]===Symbol.for("react.memo_cache_sentinel")?(x=c.jsx(XRe,{}),e[3]=x):x=e[3];let v;e[4]!==m||e[5]!==y?(v=c.jsx(ht,{onClick:m,color:y,size:"medium",children:x}),e[4]=m,e[5]=y,e[6]=v):v=e[6];let _;e[7]!==i?(_=()=>i("brush"),e[7]=i,e[8]=_):_=e[8];const C=n==="brush"?"primary":"default";let w;e[9]===Symbol.for("react.memo_cache_sentinel")?(w=c.jsx(IRe,{}),e[9]=w):w=e[9];let T;e[10]!==_||e[11]!==C?(T=c.jsx(ht,{onClick:_,color:C,size:"medium",children:w}),e[10]=_,e[11]=C,e[12]=T):T=e[12];let E;e[13]!==i?(E=()=>i("eraser"),e[13]=i,e[14]=E):E=e[14];const I=n==="eraser"?"primary":"default";let j;e[15]===Symbol.for("react.memo_cache_sentinel")?(j={fontSize:20},e[15]=j):j=e[15];let O;e[16]!==E||e[17]!==I?(O=c.jsx(ht,{onClick:E,color:I,size:"medium",sx:j,children:""}),e[16]=E,e[17]=I,e[18]=O):O=e[18];let L;e[19]===Symbol.for("react.memo_cache_sentinel")?(L=c.jsx(J,{sx:{width:"80%",borderTop:1,borderColor:"divider",my:1}}),e[19]=L):L=e[19];const N=!r;let M;e[20]===Symbol.for("react.memo_cache_sentinel")?(M=c.jsx(c9e,{}),e[20]=M):M=e[20];let H;e[21]!==s||e[22]!==N?(H=c.jsx(ht,{onClick:s,disabled:N,size:"medium",children:M}),e[21]=s,e[22]=N,e[23]=H):H=e[23];const P=!a;let $;e[24]===Symbol.for("react.memo_cache_sentinel")?($=c.jsx(ZRe,{}),e[24]=$):$=e[24];let D;e[25]!==o||e[26]!==P?(D=c.jsx(ht,{onClick:o,disabled:P,size:"medium",children:$}),e[25]=o,e[26]=P,e[27]=D):D=e[27];let U;e[28]===Symbol.for("react.memo_cache_sentinel")?(U=c.jsx(xa,{}),e[28]=U):U=e[28];let F;e[29]!==l?(F=c.jsx(ht,{onClick:l,size:"medium",children:U}),e[29]=l,e[30]=F):F=e[30];let W;e[31]===Symbol.for("react.memo_cache_sentinel")?(W=c.jsx(J,{sx:{width:"80%",borderTop:1,borderColor:"divider",my:1}}),e[31]=W):W=e[31];let ee;e[32]===Symbol.for("react.memo_cache_sentinel")?(ee=c.jsx(rQ,{}),e[32]=ee):ee=e[32];let Q;e[33]!==u?(Q=c.jsx(ht,{onClick:u,size:"medium",children:ee}),e[33]=u,e[34]=Q):Q=e[34];let K;e[35]===Symbol.for("react.memo_cache_sentinel")?(K=c.jsx(ZX,{}),e[35]=K):K=e[35];let V;e[36]!==d?(V=c.jsx(ht,{onClick:d,size:"medium",children:K}),e[36]=d,e[37]=V):V=e[37];let Z;e[38]===Symbol.for("react.memo_cache_sentinel")?(Z=c.jsx(ht,{disabled:!0,size:"medium",sx:{opacity:.3},children:c.jsx(PRe,{})}),e[38]=Z):Z=e[38];let q;e[39]===Symbol.for("react.memo_cache_sentinel")?(q=c.jsx(ht,{disabled:!0,size:"medium",sx:{opacity:.3},children:c.jsx(qRe,{})}),e[39]=q):q=e[39];let te;return e[40]!==O||e[41]!==H||e[42]!==D||e[43]!==F||e[44]!==Q||e[45]!==V||e[46]!==v||e[47]!==T?(te=c.jsxs(J,{sx:h,children:[v,T,O,L,H,D,F,W,Q,V,Z,q]}),e[40]=O,e[41]=H,e[42]=D,e[43]=F,e[44]=Q,e[45]=V,e[46]=v,e[47]=T,e[48]=te):te=e[48],te},sIe=Math.PI/180;function oIe(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const eg=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Ft={_global:eg,version:"10.0.8",isBrowser:oIe(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return Ft.angleDeg?t*sIe:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Ft.DD.isDragging},isTransforming(){var t,e;return(e=(t=Ft.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!Ft.DD.node},releaseCanvasOnDestroy:!0,document:eg.document,_injectGlobal(t){typeof eg.Konva<"u"&&console.error("Several Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),eg.Konva=t}},$a=t=>{Ft[t.prototype.getClassName()]=t};Ft._injectGlobal(Ft);const lIe=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,xz=()=>{if(typeof document>"u")throw new Error(lIe)};let gu=class UQ{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new UQ(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),a=this.m[0]*n+this.m[2]*r,i=this.m[1]*n+this.m[3]*r,s=this.m[0]*-r+this.m[2]*n,o=this.m[1]*-r+this.m[3]*n;return this.m[0]=a,this.m[1]=i,this.m[2]=s,this.m[3]=o,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){const r=this.m[0]+this.m[2]*n,a=this.m[1]+this.m[3]*n,i=this.m[2]+this.m[0]*e,s=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=a,this.m[2]=i,this.m[3]=s,this}multiply(e){const n=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],a=this.m[0]*e.m[2]+this.m[2]*e.m[3],i=this.m[1]*e.m[2]+this.m[3]*e.m[3],s=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],o=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=r,this.m[2]=a,this.m[3]=i,this.m[4]=s,this.m[5]=o,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,r=-this.m[1]*e,a=-this.m[2]*e,i=this.m[0]*e,s=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=r,this.m[2]=a,this.m[3]=i,this.m[4]=s,this.m[5]=o,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],r=this.m[2],a=this.m[3],i=this.m[4],s=this.m[5],o=e*a-n*r,l={x:i,y:s,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){const u=Math.sqrt(e*e+n*n);l.rotation=n>0?Math.acos(e/u):-Math.acos(e/u),l.scaleX=u,l.scaleY=o/u,l.skewX=(e*r+n*a)/o,l.skewY=0}else if(r!=0||a!=0){const u=Math.sqrt(r*r+a*a);l.rotation=Math.PI/2-(a>0?Math.acos(-r/u):-Math.acos(r/u)),l.scaleX=o/u,l.scaleY=u,l.skewX=0,l.skewY=(e*r+n*a)/o}return l.rotation=Be._getRotation(l.rotation),l}};const cIe="[object Array]",uIe="[object Number]",dIe="[object String]",fIe="[object Boolean]",hIe=Math.PI/180,pIe=180/Math.PI,xT="#",mIe="",gIe="0",yIe="Konva warning: ",vz="Konva error: ",bIe="rgb(",vT={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},xIe=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let D_=[];const vIe=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},Be={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===cIe},_isNumber(t){return Object.prototype.toString.call(t)===uIe&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===dIe},_isBoolean(t){return Object.prototype.toString.call(t)===fIe},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){D_.push(t),D_.length===1&&vIe(function(){const e=D_;D_=[],e.forEach(function(n){n()})})},createCanvasElement(){xz();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return xz(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const n=Be.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(xT,mIe);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=gIe+t;return xT+t},getRGB(t){let e;return t in vT?(e=vT[t],{r:e[0],g:e[1],b:e[2]}):t[0]===xT?this._hexToRgb(t.substring(1)):t.substr(0,4)===bIe?(e=xIe.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",Be._namedColorToRBA(t)||Be._hex3ColorToRGBA(t)||Be._hex4ColorToRGBA(t)||Be._hex6ColorToRGBA(t)||Be._hex8ColorToRGBA(t)||Be._rgbColorToRGBA(t)||Be._rgbaColorToRGBA(t)||Be._hslColorToRGBA(t)},_namedColorToRBA(t){const e=vT[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((n,r)=>n.slice(-1)==="%"?r===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),r=Number(n[0])/360,a=Number(n[1])/100,i=Number(n[2])/100;let s,o,l;if(a===0)return l=i*255,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};i<.5?s=i*(1+a):s=i+a-i*a;const u=2*i-s,d=[0,0,0];for(let h=0;h<3;h++)o=r+1/3*-(h-1),o<0&&o++,o>1&&o--,6*o<1?l=u+(s-u)*6*o:2*o<1?l=s:3*o<2?l=u+(s-u)*(2/3-o)*6:l=u,d[h]=l*255;return{r:Math.round(d[0]),g:Math.round(d[1]),b:Math.round(d[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*hIe},radToDeg(t){return t*pIe},_degToRad(t){return Be.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),Be.degToRad(t)},_radToDeg(t){return Be.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),Be.radToDeg(t)},_getRotation(t){return Ft.angleDeg?Be.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(vz+t)},error(t){console.error(vz+t)},warn(t){Ft.showWarnings&&console.warn(yIe+t)},each(t,e){for(const n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,r,a,i){let s,o,l;const u=(t-n)*(t-n)+(e-r)*(e-r);if(u==0)s=t,o=e,l=(a-n)*(a-n)+(i-r)*(i-r);else{const d=((a-t)*(n-t)+(i-e)*(r-e))/u;d<0?(s=t,o=e,l=(t-a)*(t-a)+(e-i)*(e-i)):d>1?(s=n,o=r,l=(n-a)*(n-a)+(r-i)*(r-i)):(s=t+d*(n-t),o=e+d*(r-e),l=(s-a)*(s-a)+(o-i)*(o-i))}return[s,o,l]},_getProjectionToLine(t,e,n){const r=Be.cloneObject(t);let a=Number.MAX_VALUE;return e.forEach(function(i,s){if(!n&&s===e.length-1)return;const o=e[(s+1)%e.length],l=Be._getProjectionToSegment(i.x,i.y,o.x,o.y,t.x,t.y),u=l[0],d=l[1],h=l[2];h<a&&(r.x=u,r.y=d,a=h)}),r},_prepareArrayForTween(t,e,n){const r=[],a=[];if(t.length>e.length){const s=e;e=t,t=s}for(let s=0;s<t.length;s+=2)r.push({x:t[s],y:t[s+1]});for(let s=0;s<e.length;s+=2)a.push({x:e[s],y:e[s+1]});const i=[];return a.forEach(function(s){const o=Be._getProjectionToLine(s,r,n);i.push(o.x),i.push(o.y)}),i},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||Be._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(Be._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){Ft.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,r){let a=e<0?e:0,i=n<0?n:0;e=Math.abs(e),n=Math.abs(n);let s=0,o=0,l=0,u=0;typeof r=="number"?s=o=l=u=Math.min(r,e/2,n/2):(s=Math.min(r[0]||0,e/2,n/2),o=Math.min(r[1]||0,e/2,n/2),u=Math.min(r[2]||0,e/2,n/2),l=Math.min(r[3]||0,e/2,n/2)),t.moveTo(a+s,i),t.lineTo(a+e-o,i),t.arc(a+e-o,i+o,o,Math.PI*3/2,0,!1),t.lineTo(a+e,i+n-u),t.arc(a+e-u,i+n-u,u,0,Math.PI/2,!1),t.lineTo(a+l,i+n),t.arc(a+l,i+n-l,l,Math.PI/2,Math.PI,!1),t.lineTo(a,i+s),t.arc(a+s,i+s,s,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,n,r,a){r=Math.abs(r);for(let i=0;i<n;i++){const s=e[(i-1+n)%n],o=e[i],l=e[(i+1)%n],u={x:o.x-s.x,y:o.y-s.y},d={x:l.x-o.x,y:l.y-o.y},h=Math.hypot(u.x,u.y),m=Math.hypot(d.x,d.y);let y;typeof a=="number"?y=a:y=i<a.length?a[i]:0,y=r*Math.cos(Math.PI/n)*Math.min(1,y/r*2);const v={x:u.x/h,y:u.y/h},_={x:d.x/m,y:d.y/m},C={x:o.x-v.x*y,y:o.y-v.y*y},w={x:o.x+_.x*y,y:o.y+_.y*y};i===0?t.moveTo(C.x,C.y):t.lineTo(C.x,C.y),t.arcTo(o.x,o.y,w.x,w.y,y)}}};function SIe(t){const e=[],n=t.length,r=Be;for(let a=0;a<n;a++){let i=t[a];r._isNumber(i)?i=Math.round(i*1e3)/1e3:r._isString(i)||(i=i+""),e.push(i)}return e}const Sz=",",_Ie="(",CIe=")",wIe="([",EIe="])",TIe=";",AIe="()",RIe="=",_z=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],kIe=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],IIe=100;let M_=null;function Cz(){if(M_!==null)return M_;try{const e=Be.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(M_=!1,!1)}catch{return M_=!1,!1}}let U5=class{constructor(e){this.canvas=e,Ft.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let r=this.traceArr,a=r.length,i="",s,o,l,u;for(s=0;s<a;s++)o=r[s],l=o.method,l?(u=o.args,i+=l,e?i+=AIe:Be._isArray(u[0])?i+=wIe+u.join(Sz)+EIe:(n&&(u=u.map(d=>typeof d=="number"?Math.floor(d):d)),i+=_Ie+u.join(Sz)+CIe)):(i+=o.property,e||(i+=RIe+o.val)),i+=TIe;return i}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,r;n.push(e),r=n.length,r>=IIe&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(e){const n=e.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,a,i,s){this._context.arc(e,n,r,a,i,s)}arcTo(e,n,r,a,i){this._context.arcTo(e,n,r,a,i)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,a,i,s){this._context.bezierCurveTo(e,n,r,a,i,s)}clearRect(e,n,r,a){this._context.clearRect(e,n,r,a)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,a){return this._context.createLinearGradient(e,n,r,a)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,a,i,s){return this._context.createRadialGradient(e,n,r,a,i,s)}drawImage(e,n,r,a,i,s,o,l,u){const d=arguments,h=this._context;d.length===3?h.drawImage(e,n,r):d.length===5?h.drawImage(e,n,r,a,i):d.length===9&&h.drawImage(e,n,r,a,i,s,o,l,u)}ellipse(e,n,r,a,i,s,o,l){this._context.ellipse(e,n,r,a,i,s,o,l)}isPointInPath(e,n,r,a){return r?this._context.isPointInPath(r,e,n,a):this._context.isPointInPath(e,n,a)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,r,a){this._context.fillRect(e,n,r,a)}strokeRect(e,n,r,a){this._context.strokeRect(e,n,r,a)}fillText(e,n,r,a){a?this._context.fillText(e,n,r,a):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,a){return this._context.getImageData(e,n,r,a)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,a){this._context.rect(e,n,r,a)}roundRect(e,n,r,a,i){this._context.roundRect(e,n,r,a,i)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,a){this._context.quadraticCurveTo(e,n,r,a)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,a,i,s){this._context.setTransform(e,n,r,a,i,s)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,a){this._context.strokeText(e,n,r,a)}transform(e,n,r,a,i,s){this._context.transform(e,n,r,a,i,s)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=_z.length,r=this.setAttr,a,i;const s=function(o){let l=e[o],u;e[o]=function(){return i=SIe(Array.prototype.slice.call(arguments,0)),u=l.apply(e,arguments),e._trace({method:o,args:i}),u}};for(a=0;a<n;a++)s(_z[a]);e.setAttr=function(){r.apply(e,arguments);const o=arguments[0];let l=arguments[1];(o==="shadowOffsetX"||o==="shadowOffsetY"||o==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:o,val:l})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}};kIe.forEach(function(t){Object.defineProperty(U5.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class jIe extends U5{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}const a=e.getFillPatternImage();if(a&&r==="pattern"){this._fillPattern(e);return}const i=e.getFillLinearGradientColorStops();if(i&&r==="linear-gradient"){this._fillLinearGradient(e);return}const s=e.getFillRadialGradientColorStops();if(s&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):a?this._fillPattern(e):i?this._fillLinearGradient(e):s&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),a=e.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(n.x,n.y,r.x,r.y);if(a){for(let s=0;s<a.length;s+=2)i.addColorStop(a[s],a[s+1]);this.setAttr("strokeStyle",i)}}_stroke(e){const n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();const i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,a;const i=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",s=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,o=(a=e.getShadowOffset())!==null&&a!==void 0?a:{x:0,y:0},l=e.getAbsoluteScale(),u=this.canvas.getPixelRatio(),d=l.x*u,h=l.y*u;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",s*Math.min(Math.abs(d),Math.abs(h))),this.setAttr("shadowOffsetX",o.x*d),this.setAttr("shadowOffsetY",o.y*h)}}class OIe extends U5{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e);const r=e.hitStrokeWidth(),a=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",a),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}let N_;function DIe(){if(N_)return N_;const t=Be.createCanvasElement(),e=t.getContext("2d");return N_=(function(){const n=Ft._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r})(),Be.releaseCanvas(t),N_}class HO{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const r=(e||{}).pixelRatio||Ft.pixelRatio||DIe();this.pixelRatio=r,this._canvas=Be.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(a){return Be.error("Unable to get data URL. "+a.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class sp extends HO{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new jIe(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}function wz(){const t=Be.createCanvasElement();t.width=1,t.height=1;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,1,1),e.fillStyle="rgba(255,0,255,1)",e.fillRect(0,0,1,1);const n=e.getImageData(0,0,1,1).data;return!(n[0]===255&&n[1]===0&&n[2]===255&&n[3]===255)}function Ez(){var t,e;return typeof navigator>"u"?!1:(e=(t=navigator.brave)===null||t===void 0?void 0:t.isBrave())!==null&&e!==void 0?e:!1}let Tz=!1;function MIe(){return Ez()&&wz()&&!Tz&&(Tz=!0,Be.error('Looks like you have "Brave shield" enabled in your browser. It breaks KonvaJS internals. Please disable it. You may need to ask your users to do the same.')),Ez()&&wz()}class UO extends HO{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new OIe(this),this.setSize(e.width,e.height),MIe()}}const kr={get isDragging(){let t=!1;return kr._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return kr._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];kr._dragElements.forEach((n,r)=>{const{node:a}=n,i=a.getStage();i.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=Be._getFirstPointerId(t));const s=i._changedPointerPositions.find(o=>o.id===n.pointerId);if(s){if(n.dragStatus!=="dragging"){const o=a.dragDistance();if(Math.max(Math.abs(s.x-n.startPointerPos.x),Math.abs(s.y-n.startPointerPos.y))<o||(a.startDrag({evt:t}),!a.isDragging()))return}a._setDragPosition(t,n),e.push(a)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];kr._dragElements.forEach(n=>{const{node:r}=n,a=r.getStage();if(t&&a.setPointersPositions(t),!a._changedPointerPositions.find(o=>o.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(kr.justDragged=!0,Ft._mouseListenClick=!1,Ft._touchListenClick=!1,Ft._pointerListenClick=!1,n.dragStatus="stopped");const s=n.node.getLayer()||n.node instanceof Ft.Stage&&n.node;s&&e.indexOf(s)===-1&&e.push(s)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){kr._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&kr._dragElements.delete(n)})}};Ft.isBrowser&&(window.addEventListener("mouseup",kr._endDragBefore,!0),window.addEventListener("touchend",kr._endDragBefore,!0),window.addEventListener("touchcancel",kr._endDragBefore,!0),window.addEventListener("mousemove",kr._drag),window.addEventListener("touchmove",kr._drag),window.addEventListener("mouseup",kr._endDragAfter,!1),window.addEventListener("touchend",kr._endDragAfter,!1),window.addEventListener("touchcancel",kr._endDragAfter,!1));function Hp(t){return Be._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||Be._isBoolean(t)?t:Object.prototype.toString.call(t)}function $Q(t){return t>255?255:t<0?0:Math.round(t)}function Pt(){if(Ft.isUnminified)return function(t,e){return Be._isNumber(t)||Be.warn(Hp(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function $5(t){if(Ft.isUnminified)return function(e,n){let r=Be._isNumber(e),a=Be._isArray(e)&&e.length==t;return!r&&!a&&Be.warn(Hp(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function $O(){if(Ft.isUnminified)return function(t,e){return Be._isNumber(t)||t==="auto"||Be.warn(Hp(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Fg(){if(Ft.isUnminified)return function(t,e){return Be._isString(t)||Be.warn(Hp(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function GQ(){if(Ft.isUnminified)return function(t,e){const n=Be._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||Be.warn(Hp(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function NIe(){if(Ft.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(Be._isArray(t)?t.forEach(function(r){Be._isNumber(r)||Be.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):Be.warn(Hp(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function Ou(){if(Ft.isUnminified)return function(t,e){return t===!0||t===!1||Be.warn(Hp(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function PIe(t){if(Ft.isUnminified)return function(e,n){return e==null||Be.isObject(e)||Be.warn(Hp(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}const Dx="get",Mx="set",we={addGetterSetter(t,e,n,r,a){we.addGetter(t,e,n),we.addSetter(t,e,r,a),we.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){const r=Dx+Be._capitalize(e);t.prototype[r]=t.prototype[r]||function(){const a=this.attrs[e];return a===void 0?n:a}},addSetter(t,e,n,r){const a=Mx+Be._capitalize(e);t.prototype[a]||we.overWriteSetter(t,e,n,r)},overWriteSetter(t,e,n,r){const a=Mx+Be._capitalize(e);t.prototype[a]=function(i){return n&&i!==void 0&&i!==null&&(i=n.call(this,i,e)),this._setAttr(e,i),r&&r.call(this),this}},addComponentsGetterSetter(t,e,n,r,a){const i=n.length,s=Be._capitalize,o=Dx+s(e),l=Mx+s(e);t.prototype[o]=function(){const d={};for(let h=0;h<i;h++){const m=n[h];d[m]=this.getAttr(e+s(m))}return d};const u=PIe(n);t.prototype[l]=function(d){const h=this.attrs[e];r&&(d=r.call(this,d,e)),u&&u.call(this,d,e);for(const m in d)d.hasOwnProperty(m)&&this._setAttr(e+s(m),d[m]);return d||n.forEach(m=>{this._setAttr(e+s(m),void 0)}),this._fireChangeEvent(e,h,d),a&&a.call(this),this},we.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const n=Be._capitalize(e),r=Mx+n,a=Dx+n;t.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[a]()}},addDeprecatedGetterSetter(t,e,n,r){Be.error("Adding deprecated "+e);const a=Dx+Be._capitalize(e),i=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[a]=function(){Be.error(i);const s=this.attrs[e];return s===void 0?n:s},we.addSetter(t,e,r,function(){Be.error(i)}),we.addOverloadedGetterSetter(t,e)},backCompat(t,e){Be.each(e,function(n,r){const a=t.prototype[r],i=Dx+Be._capitalize(n),s=Mx+Be._capitalize(n);function o(){a.apply(this,arguments),Be.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}t.prototype[n]=o,t.prototype[i]=o,t.prototype[s]=o})},afterSetFilter(){this._filterUpToDate=!1}};function LIe(t){const e=/(\w+)\(([^)]+)\)/g;let n;for(;(n=e.exec(t))!==null;){const[,r,a]=n;switch(r){case"blur":{const i=parseFloat(a.replace("px",""));return function(s){this.blurRadius(i*.5);const o=Ft.Filters;o&&o.Blur&&o.Blur.call(this,s)}}case"brightness":{const i=a.includes("%")?parseFloat(a)/100:parseFloat(a);return function(s){this.brightness(i);const o=Ft.Filters;o&&o.Brightness&&o.Brightness.call(this,s)}}case"contrast":{const i=parseFloat(a);return function(s){const o=100*(Math.sqrt(i)-1);this.contrast(o);const l=Ft.Filters;l&&l.Contrast&&l.Contrast.call(this,s)}}case"grayscale":return function(i){const s=Ft.Filters;s&&s.Grayscale&&s.Grayscale.call(this,i)};case"sepia":return function(i){const s=Ft.Filters;s&&s.Sepia&&s.Sepia.call(this,i)};case"invert":return function(i){const s=Ft.Filters;s&&s.Invert&&s.Invert.call(this,i)};default:Be.warn(`CSS filter "${r}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const N4="absoluteOpacity",P_="allEventListeners",Mf="absoluteTransform",Az="absoluteScale",Mm="canvas",zIe="Change",FIe="children",BIe="konva",hI="listening",HIe="mouseenter",UIe="mouseleave",$Ie="pointerenter",GIe="pointerleave",qIe="touchenter",VIe="touchleave",Rz="set",kz="Shape",P4=" ",Iz="stage",Qh="transform",WIe="Stage",pI="visible",YIe=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(P4);let KIe=1;class Ot{constructor(e){this._id=KIe++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Qh||e===Mf)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let r=this._cache.get(e);return(r===void 0||(e===Qh||e===Mf)&&r.dirty===!0)&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const a=n.map(i=>i+"Change.konva").join(P4);this.on(a,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(Mm)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Mf&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Mm)){const{scene:e,filter:n,hit:r,buffer:a}=this._cache.get(Mm);Be.releaseCanvas(e,n,r,a),this._cache.delete(Mm)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let a=Math.ceil(n.width||r.width),i=Math.ceil(n.height||r.height),s=n.pixelRatio,o=n.x===void 0?Math.floor(r.x):n.x,l=n.y===void 0?Math.floor(r.y):n.y,u=n.offset||0,d=n.drawBorder||!1,h=n.hitCanvasPixelRatio||1;if(!a||!i){Be.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const m=Math.abs(Math.round(r.x)-o)>.5?1:0,y=Math.abs(Math.round(r.y)-l)>.5?1:0;a+=u*2+m,i+=u*2+y,o-=u,l-=u;const x=new sp({pixelRatio:s,width:a,height:i}),v=new sp({pixelRatio:s,width:0,height:0,willReadFrequently:!0}),_=new UO({pixelRatio:h,width:a,height:i}),C=x.getContext(),w=_.getContext(),T=new sp({width:x.width/x.pixelRatio+Math.abs(o),height:x.height/x.pixelRatio+Math.abs(l),pixelRatio:x.pixelRatio}),E=T.getContext();return _.isCache=!0,x.isCache=!0,this._cache.delete(Mm),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(x.getContext()._context.imageSmoothingEnabled=!1,v.getContext()._context.imageSmoothingEnabled=!1),C.save(),w.save(),E.save(),C.translate(-o,-l),w.translate(-o,-l),E.translate(-o,-l),T.x=o,T.y=l,this._isUnderCache=!0,this._clearSelfAndDescendantCache(N4),this._clearSelfAndDescendantCache(Az),this.drawScene(x,this,T),this.drawHit(_,this),this._isUnderCache=!1,C.restore(),w.restore(),d&&(C.save(),C.beginPath(),C.rect(0,0,a,i),C.closePath(),C.setAttr("strokeStyle","red"),C.setAttr("lineWidth",5),C.stroke(),C.restore()),this._cache.set(Mm,{scene:x,filter:v,hit:_,buffer:T,x:o,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(Mm)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let a=1/0,i=1/0,s=-1/0,o=-1/0;const l=this.getAbsoluteTransform(n);return r.forEach(function(u){const d=l.point(u);a===void 0&&(a=s=d.x,i=o=d.y),a=Math.min(a,d.x),i=Math.min(i,d.y),s=Math.max(s,d.x),o=Math.max(o,d.y)}),{x:a,y:i,width:s-a,height:o-i}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const r=this._getCachedSceneCanvas(),a=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/a,r.height/a),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),r=n.scene,a=n.filter,i=a.getContext(),s,o,l,u;if(!e||e.length===0)return r;if(this._filterUpToDate)return a;let d=!0;for(let m=0;m<e.length;m++)if(typeof e[m]=="string"&&Cz(),typeof e[m]!="string"||!Cz()){d=!1;break}const h=r.pixelRatio;if(a.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio),d){const m=e.join(" ");return i.save(),i.setAttr("filter",m),i.drawImage(r._canvas,0,0,r.getWidth()/h,r.getHeight()/h),i.restore(),this._filterUpToDate=!0,a}try{for(s=e.length,i.clear(),i.drawImage(r._canvas,0,0,r.getWidth()/h,r.getHeight()/h),o=i.getImageData(0,0,a.getWidth(),a.getHeight()),l=0;l<s;l++)u=e[l],typeof u=="string"&&(u=LIe(u)),u.call(this,o),i.putImageData(o,0,0)}catch(m){Be.error("Unable to apply filter. "+m.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,a}on(e,n){if(this._cache&&this._cache.delete(P_),arguments.length===3)return this._delegate.apply(this,arguments);const r=e.split(P4);for(let a=0;a<r.length;a++){const s=r[a].split("."),o=s[0],l=s[1]||"";this.eventListeners[o]||(this.eventListeners[o]=[]),this.eventListeners[o].push({name:l,handler:n})}return this}off(e,n){let r=(e||"").split(P4),a=r.length,i,s,o,l,u,d;if(this._cache&&this._cache.delete(P_),!e)for(s in this.eventListeners)this._off(s);for(i=0;i<a;i++)if(o=r[i],l=o.split("."),u=l[0],d=l[1],u)this.eventListeners[u]&&this._off(u,d,n);else for(s in this.eventListeners)this._off(s,d,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){const a=this;this.on(e,function(i){const s=i.target.findAncestors(n,!0,a);for(let o=0;o<s.length;o++)i=Be.cloneObject(i),i.currentTarget=s[o],r.call(s[o],i)})}remove(){return this.isDragging()&&this.stopDrag(),kr._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Mf),this._clearSelfAndDescendantCache(N4),this._clearSelfAndDescendantCache(Az),this._clearSelfAndDescendantCache(Iz),this._clearSelfAndDescendantCache(pI),this._clearSelfAndDescendantCache(hI)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+Be._capitalize(e);return Be._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,r;if(!e)return this;for(n in e)n!==FIe&&(r=Rz+Be._capitalize(n),Be._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(hI,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(pI,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const r=this.getLayer();let a=!1;kr._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(s.node.nodeType==="Stage"||s.node.getLayer()===r)&&(a=!0)});const i=!n&&!Ft.hitOnDragEnabled&&(a||Ft.isTransforming());return this.isListening()&&this.isVisible()&&!i}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,r=0,a,i,s,o;function l(d){for(a=[],i=d.length,s=0;s<i;s++)o=d[s],r++,o.nodeType!==kz&&(a=a.concat(o.getChildren().slice())),o._id===n._id&&(s=i);a.length>0&&a[0].getDepth()<=e&&l(a)}const u=this.getStage();return n.nodeType!==WIe&&u&&l(u.getChildren()),r}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Qh),this._clearSelfAndDescendantCache(Mf)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const r=this.getAbsoluteTransform().copy();return r.invert(),r.point(n)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);const a=this.getAbsoluteTransform(e).getMatrix(),i=new gu,s=this.offset();return i.m=a.slice(),i.translate(s.x,s.y),i.getTranslation()}setAbsolutePosition(e){const{x:n,y:r,...a}=this._clearTransform();this.attrs.x=n,this.attrs.y=r,this._clearCache(Qh);const i=this._getAbsoluteTransform().copy();return i.invert(),i.translate(e.x,e.y),e={x:this.attrs.x+i.getTranslation().x,y:this.attrs.y+i.getTranslation().y},this._setTransform(a),this.setPosition({x:e.x,y:e.y}),this._clearCache(Qh),this._clearSelfAndDescendantCache(Mf),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,r=e.y,a=this.x(),i=this.y();return n!==void 0&&(a+=n),r!==void 0&&(i+=r),this.setPosition({x:a,y:i}),this}_eachAncestorReverse(e,n){let r=[],a=this.getParent(),i,s;if(!(n&&n._id===this._id)){for(r.unshift(this);a&&(!n||a._id!==n._id);)r.unshift(a),a=a.parent;for(i=r.length,s=0;s<i;s++)e(r[s])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return Be.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Be.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Be.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Be.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return Be.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&Be.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(N4,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,r,a,i,s;const o={attrs:{},className:this.getClassName()};for(n in e)r=e[n],s=Be.isObject(r)&&!Be._isPlainObject(r)&&!Be._isArray(r),!s&&(a=typeof this[n]=="function"&&this[n],delete e[n],i=a?a.call(this):null,e[n]=r,i!==r&&(o.attrs[n]=r));return Be._prepareToStringify(o)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){const a=[];n&&this._isMatch(e)&&a.push(this);let i=this.parent;for(;i;){if(i===r)return a;i._isMatch(e)&&a.push(i),i=i.parent}return a}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),r=n.length,a,i;for(a=0;a<r;a++)if(i=n[a],Be.isValidSelector(i)||(Be.warn('Selector "'+i+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Be.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Be.warn("Konva is awesome, right?")),i.charAt(0)==="#"){if(this.id()===i.slice(1))return!0}else if(i.charAt(0)==="."){if(this.hasName(i.slice(1)))return!0}else if(this.className===i||this.nodeType===i)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(Iz,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Mf,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new gu,this._eachAncestorReverse(function(r){const a=r.transformsEnabled();a==="all"?n.multiply(r.getTransform()):a==="position"&&n.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),n;{n=this._cache.get(Mf)||new gu,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const a=this.attrs.x||0,i=this.attrs.y||0,s=this.attrs.offsetX||0,o=this.attrs.offsetY||0;n.translate(a-s,i-o)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const a=this.getAbsoluteTransform(e).decompose();return{x:a.scaleX,y:a.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Qh,this._getTransform)}_getTransform(){var e,n;const r=this._cache.get(Qh)||new gu;r.reset();const a=this.x(),i=this.y(),s=Ft.getAngle(this.rotation()),o=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,u=this.attrs.skewX||0,d=this.attrs.skewY||0,h=this.attrs.offsetX||0,m=this.attrs.offsetY||0;return(a!==0||i!==0)&&r.translate(a,i),s!==0&&r.rotate(s),(u!==0||d!==0)&&r.skew(u,d),(o!==1||l!==1)&&r.scale(o,l),(h!==0||m!==0)&&r.translate(-1*h,-1*m),r.dirty=!1,r}clone(e){let n=Be.cloneObject(this.attrs),r,a,i,s,o;for(r in e)n[r]=e[r];const l=new this.constructor(n);for(r in this.eventListeners)for(a=this.eventListeners[r],i=a.length,s=0;s<i;s++)o=a[s],o.name.indexOf(BIe)<0&&(l.eventListeners[r]||(l.eventListeners[r]=[]),l.eventListeners[r].push(o));return l}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),r=this.getStage(),a=e.x!==void 0?e.x:Math.floor(n.x),i=e.y!==void 0?e.y:Math.floor(n.y),s=e.pixelRatio||1,o=new sp({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:s}),l=o.getContext(),u=new sp({width:o.width/o.pixelRatio+Math.abs(a),height:o.height/o.pixelRatio+Math.abs(i),pixelRatio:o.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(a||i)&&l.translate(-1*a,-1*i),this.drawScene(o,void 0,u),l.restore(),o}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,r=e.quality||null,a=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(a),a}toImage(e){return new Promise((n,r)=>{try{const a=e?.callback;a&&delete e.callback,Be._urlToImage(this.toDataURL(e),function(i){n(i),a?.(i)})}catch(a){r(a)}})}toBlob(e){return new Promise((n,r)=>{try{const a=e?.callback;a&&delete e.callback,this.toCanvas(e).toBlob(i=>{n(i),a?.(i)},e?.mimeType,e?.quality)}catch(a){r(a)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Ft.dragDistance}_off(e,n,r){let a=this.eventListeners[e],i,s,o;for(i=0;i<a.length;i++)if(s=a[i].name,o=a[i].handler,(s!=="konva"||n==="konva")&&(!n||s===n)&&(!r||r===o)){if(a.splice(i,1),a.length===0){delete this.eventListeners[e];break}i--}}_fireChangeEvent(e,n,r){this._fire(e+zIe,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){const n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){const r=this[Rz+Be._capitalize(e)];return Be._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Ft.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,n){const r=this.attrs[e];r===n&&!Be.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){let a;r!==void 0&&(a=this.attrs[e],a||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,a,r))}_fireAndBubble(e,n,r){n&&this.nodeType===kz&&(n.target=this);const a=[HIe,UIe,$Ie,GIe,qIe,VIe];if(!(a.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,n);const s=a.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!s&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,r,a;const i=(n=this._cache.get(P_))!==null&&n!==void 0?n:{};let s=i?.[e];if(s===void 0){s=[];let o=Object.getPrototypeOf(this);for(;o;){const l=(a=(r=o.eventListeners)===null||r===void 0?void 0:r[e])!==null&&a!==void 0?a:[];s.push(...l),o=Object.getPrototypeOf(o)}i[e]=s,this._cache.set(P_,i)}return s}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(let i=0;i<r.length;i++)r[i].handler.call(this,n);const a=this.eventListeners[e];if(a)for(let i=0;i<a.length;i++)a[i].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,r=this.getStage(),a=this.getAbsolutePosition();if(!r)return;const i=r._getPointerById(n)||r._changedPointerPositions[0]||a;kr._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-a.x,y:i.y-a.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){kr._dragElements.has(this._id)||this._createDragElement(e);const r=kr._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(!r)return;let a={x:r.x-n.offset.x,y:r.y-n.offset.y};const i=this.dragBoundFunc();if(i!==void 0){const s=i.call(this,a,e);s?a=s:Be.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==a.x||this._lastPos.y!==a.y)&&(this.setAbsolutePosition(a),this._requestDraw()),this._lastPos=a}stopDrag(e){const n=kr._dragElements.get(this._id);n&&(n.dragStatus="stopped"),kr._endDragBefore(e),kr._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=kr._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Ft.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let a=!1;kr._dragElements.forEach(i=>{this.isAncestorOf(i.node)&&(a=!0)}),a||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=kr._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",a=n&&n.dragStatus==="ready";r?this.stopDrag():a&&kr._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return Be.haveIntersection(r,this.getClientRect())}static create(e,n){return Be._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let r=Ot.prototype.getClassName.call(e),a=e.children,i,s,o;n&&(e.attrs.container=n),Ft[r]||(Be.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const l=Ft[r];if(i=new l(e.attrs),a)for(s=a.length,o=0;o<s;o++)i.add(Ot._createNode(a[o]));return i}}Ot.prototype.nodeType="Node";Ot.prototype._attrsAffectingSize=[];Ot.prototype.eventListeners={};Ot.prototype.on.call(Ot.prototype,YIe,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Qh),this._clearSelfAndDescendantCache(Mf)});Ot.prototype.on.call(Ot.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(pI)});Ot.prototype.on.call(Ot.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(hI)});Ot.prototype.on.call(Ot.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(N4)});const Wr=we.addGetterSetter;Wr(Ot,"zIndex");Wr(Ot,"absolutePosition");Wr(Ot,"position");Wr(Ot,"x",0,Pt());Wr(Ot,"y",0,Pt());Wr(Ot,"globalCompositeOperation","source-over",Fg());Wr(Ot,"opacity",1,Pt());Wr(Ot,"name","",Fg());Wr(Ot,"id","",Fg());Wr(Ot,"rotation",0,Pt());we.addComponentsGetterSetter(Ot,"scale",["x","y"]);Wr(Ot,"scaleX",1,Pt());Wr(Ot,"scaleY",1,Pt());we.addComponentsGetterSetter(Ot,"skew",["x","y"]);Wr(Ot,"skewX",0,Pt());Wr(Ot,"skewY",0,Pt());we.addComponentsGetterSetter(Ot,"offset",["x","y"]);Wr(Ot,"offsetX",0,Pt());Wr(Ot,"offsetY",0,Pt());Wr(Ot,"dragDistance",void 0,Pt());Wr(Ot,"width",0,Pt());Wr(Ot,"height",0,Pt());Wr(Ot,"listening",!0,Ou());Wr(Ot,"preventDefault",!0,Ou());Wr(Ot,"filters",void 0,function(t){return this._filterUpToDate=!1,t});Wr(Ot,"visible",!0,Ou());Wr(Ot,"transformsEnabled","all",Fg());Wr(Ot,"size");Wr(Ot,"dragBoundFunc");Wr(Ot,"draggable",!1,Ou());we.backCompat(Ot,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class jl extends Ot{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const r=[];return this._descendants(a=>{const i=a._isMatch(e);return i&&r.push(a),!!(i&&n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const a of r){if(n=e(a),n)return!0;if(a.hasChildren()&&(n=a._descendants(e),n))return!0}return!1}toObject(){const e=Ot.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=Ot.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n,r){const a=this.getLayer(),i=e||a&&a.getCanvas(),s=i&&i.getContext(),o=this._getCanvasCache(),l=o&&o.scene,u=i&&i.isCache;if(!this.isVisible()&&!u)return this;if(l){s.save();const d=this.getAbsoluteTransform(n).getMatrix();s.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedSceneCanvas(s),s.restore()}else this._drawChildren("drawScene",i,n,r);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const r=this.getLayer(),a=e||r&&r.hitCanvas,i=a&&a.getContext(),s=this._getCanvasCache();if(s&&s.hit){i.save();const l=this.getAbsoluteTransform(n).getMatrix();i.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(i),i.restore()}else this._drawChildren("drawHit",a,n);return this}_drawChildren(e,n,r,a){var i;const s=n&&n.getContext(),o=this.clipWidth(),l=this.clipHeight(),u=this.clipFunc(),d=typeof o=="number"&&typeof l=="number"||u,h=r===this;if(d){s.save();const y=this.getAbsoluteTransform(r);let x=y.getMatrix();s.transform(x[0],x[1],x[2],x[3],x[4],x[5]),s.beginPath();let v;if(u)v=u.call(this,s,this);else{const _=this.clipX(),C=this.clipY();s.rect(_||0,C||0,o,l)}s.clip.apply(s,v),x=y.copy().invert().getMatrix(),s.transform(x[0],x[1],x[2],x[3],x[4],x[5])}const m=!h&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";m&&(s.save(),s._applyGlobalCompositeOperation(this)),(i=this.children)===null||i===void 0||i.forEach(function(y){y[e](n,r,a)}),m&&s.restore(),d&&s.restore()}getClientRect(e={}){var n;const r=e.skipTransform,a=e.relativeTo;let i,s,o,l,u={x:1/0,y:1/0,width:0,height:0};const d=this;(n=this.children)===null||n===void 0||n.forEach(function(y){if(!y.visible())return;const x=y.getClientRect({relativeTo:d,skipShadow:e.skipShadow,skipStroke:e.skipStroke});x.width===0&&x.height===0||(i===void 0?(i=x.x,s=x.y,o=x.x+x.width,l=x.y+x.height):(i=Math.min(i,x.x),s=Math.min(s,x.y),o=Math.max(o,x.x+x.width),l=Math.max(l,x.y+x.height)))});const h=this.find("Shape");let m=!1;for(let y=0;y<h.length;y++)if(h[y]._isVisible(this)){m=!0;break}return m&&i!==void 0?u={x:i,y:s,width:o-i,height:l-s}:u={x:0,y:0,width:0,height:0},r?u:this._transformedRect(u,a)}}we.addComponentsGetterSetter(jl,"clip",["x","y","width","height"]);we.addGetterSetter(jl,"clipX",void 0,Pt());we.addGetterSetter(jl,"clipY",void 0,Pt());we.addGetterSetter(jl,"clipWidth",void 0,Pt());we.addGetterSetter(jl,"clipHeight",void 0,Pt());we.addGetterSetter(jl,"clipFunc");const pv=new Map,qQ=Ft._global.PointerEvent!==void 0;function ST(t){return pv.get(t)}function GO(t){return{evt:t,pointerId:t.pointerId}}function VQ(t,e){return pv.get(t)===e}function WQ(t,e){D2(t),e.getStage()&&(pv.set(t,e),qQ&&e._fire("gotpointercapture",GO(new PointerEvent("gotpointercapture"))))}function D2(t,e){const n=pv.get(t);if(!n)return;const r=n.getStage();r&&r.content,pv.delete(t),qQ&&n._fire("lostpointercapture",GO(new PointerEvent("lostpointercapture")))}const XIe="Stage",QIe="string",jz="px",ZIe="mouseout",YQ="mouseleave",KQ="mouseover",XQ="mouseenter",QQ="mousemove",ZQ="mousedown",JQ="mouseup",s2="pointermove",o2="pointerdown",M1="pointerup",l2="pointercancel",JIe="lostpointercapture",L_="pointerout",c2="pointerleave",z_="pointerover",F_="pointerenter",mI="contextmenu",eZ="touchstart",tZ="touchend",nZ="touchmove",rZ="touchcancel",gI="wheel",eje=5,tje=[[XQ,"_pointerenter"],[ZQ,"_pointerdown"],[QQ,"_pointermove"],[JQ,"_pointerup"],[YQ,"_pointerleave"],[eZ,"_pointerdown"],[nZ,"_pointermove"],[tZ,"_pointerup"],[rZ,"_pointercancel"],[KQ,"_pointerover"],[gI,"_wheel"],[mI,"_contextmenu"],[o2,"_pointerdown"],[s2,"_pointermove"],[M1,"_pointerup"],[l2,"_pointercancel"],[c2,"_pointerleave"],[JIe,"_lostpointercapture"]],_T={mouse:{[L_]:ZIe,[c2]:YQ,[z_]:KQ,[F_]:XQ,[s2]:QQ,[o2]:ZQ,[M1]:JQ,[l2]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[L_]:"touchout",[c2]:"touchleave",[z_]:"touchover",[F_]:"touchenter",[s2]:nZ,[o2]:eZ,[M1]:tZ,[l2]:rZ,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[L_]:L_,[c2]:c2,[z_]:z_,[F_]:F_,[s2]:s2,[o2]:o2,[M1]:M1,[l2]:l2,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},u2=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",d1=t=>{const e=u2(t);if(e==="pointer")return Ft.pointerEventsEnabled&&_T.pointer;if(e==="touch")return _T.touch;if(e==="mouse")return _T.mouse};function Oz(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&Be.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const nje="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",M2=[];let G5=class extends jl{constructor(e){super(Oz(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),M2.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Oz(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",r=e.getType()==="FastLayer";n||r||Be.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===QIe){let n;if(e.charAt(0)==="."){const r=e.slice(1);e=document.getElementsByClassName(r)[0]}else e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n);if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,n=e.length;for(let r=0;r<n;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),jl.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&Be._isInDocument(e)&&this.container().removeChild(e);const n=M2.indexOf(this);return n>-1&&M2.splice(n,1),Be.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(Be.warn(nje),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const n=new sp({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=n.getContext()._context,a=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),a.forEach(function(i){if(!i.isVisible())return;const s=i._toKonvaCanvas(e);r.drawImage(s._canvas,e.x,e.y,s.getWidth()/s.getPixelRatio(),s.getHeight()/s.getPixelRatio())}),n}getIntersection(e){if(!e)return null;const n=this.children,r=n.length,a=r-1;for(let i=a;i>=0;i--){const s=n[i].getIntersection(e);if(s)return s}return null}_resizeDOM(){const e=this.width(),n=this.height();this.content&&(this.content.style.width=e+jz,this.content.style.height=n+jz),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(r=>{r.setSize({width:e,height:n}),r.draw()})}add(e,...n){if(arguments.length>1){for(let a=0;a<arguments.length;a++)this.add(arguments[a]);return this}super.add(e);const r=this.children.length;return r>eje&&Be.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Ft.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return VQ(e,this)}setPointerCapture(e){WQ(e,this)}releaseCapture(e){D2(e)}getLayers(){return this.children}_bindContentEvents(){Ft.isBrowser&&tje.forEach(([e,n])=>{this.content.addEventListener(e,r=>{this[n](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=d1(e.type);n&&this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=d1(e.type);n&&this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=d1(e.type),r=u2(e.type);if(!n)return;this.setPointersPositions(e);const a=this._getTargetShape(r),i=!(Ft.isDragging()||Ft.isTransforming())||Ft.hitOnDragEnabled;a&&i?(a._fireAndBubble(n.pointerout,{evt:e}),a._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):i&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const n=d1(e.type),r=u2(e.type);if(!n)return;this.setPointersPositions(e);let a=!1;this._changedPointerPositions.forEach(i=>{const s=this.getIntersection(i);if(kr.justDragged=!1,Ft["_"+r+"ListenClick"]=!0,!s||!s.isListening()){this[r+"ClickStartShape"]=void 0;return}Ft.capturePointerEventsEnabled&&s.setPointerCapture(i.id),this[r+"ClickStartShape"]=s,s._fireAndBubble(n.pointerdown,{evt:e,pointerId:i.id}),a=!0;const o=e.type.indexOf("touch")>=0;s.preventDefault()&&e.cancelable&&o&&e.preventDefault()}),a||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const n=d1(e.type),r=u2(e.type);if(!n)return;const a=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(Ft.isDragging()&&kr.node.preventDefault()&&e.cancelable&&a&&e.preventDefault(),this.setPointersPositions(e),!(!(Ft.isDragging()||Ft.isTransforming())||Ft.hitOnDragEnabled))return;const s={};let o=!1;const l=this._getTargetShape(r);this._changedPointerPositions.forEach(u=>{const d=ST(u.id)||this.getIntersection(u),h=u.id,m={evt:e,pointerId:h},y=l!==d;if(y&&l&&(l._fireAndBubble(n.pointerout,{...m},d),l._fireAndBubble(n.pointerleave,{...m},d)),d){if(s[d._id])return;s[d._id]=!0}d&&d.isListening()?(o=!0,y&&(d._fireAndBubble(n.pointerover,{...m},l),d._fireAndBubble(n.pointerenter,{...m},l),this[r+"targetShape"]=d),d._fireAndBubble(n.pointermove,{...m})):l&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:h}),this[r+"targetShape"]=null)}),o||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=d1(e.type),r=u2(e.type);if(!n)return;this.setPointersPositions(e);const a=this[r+"ClickStartShape"],i=this[r+"ClickEndShape"],s={};let o=!1;this._changedPointerPositions.forEach(l=>{const u=ST(l.id)||this.getIntersection(l);if(u){if(u.releaseCapture(l.id),s[u._id])return;s[u._id]=!0}const d=l.id,h={evt:e,pointerId:d};let m=!1;Ft["_"+r+"InDblClickWindow"]?(m=!0,clearTimeout(this[r+"DblTimeout"])):kr.justDragged||(Ft["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){Ft["_"+r+"InDblClickWindow"]=!1},Ft.dblClickWindow),u&&u.isListening()?(o=!0,this[r+"ClickEndShape"]=u,u._fireAndBubble(n.pointerup,{...h}),Ft["_"+r+"ListenClick"]&&a&&a===u&&(u._fireAndBubble(n.pointerclick,{...h}),m&&i&&i===u&&u._fireAndBubble(n.pointerdblclick,{...h}))):(this[r+"ClickEndShape"]=null,o||(this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),o=!0),Ft["_"+r+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:d}),m&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:d}))}),o||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Ft["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&r!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(mI,{evt:e}):this._fire(mI,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(gI,{evt:e}):this._fire(gI,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=ST(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(M1,GO(e)),D2(e.pointerId)}_lostpointercapture(e){D2(e.pointerId)}setPointersPositions(e){const n=this._getContentPosition();let r=null,a=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,i=>{this._pointerPositions.push({id:i.identifier,x:(i.clientX-n.left)/n.scaleX,y:(i.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,i=>{this._changedPointerPositions.push({id:i.identifier,x:(i.clientX-n.left)/n.scaleX,y:(i.clientY-n.top)/n.scaleY})})):(r=(e.clientX-n.left)/n.scaleX,a=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:a},this._pointerPositions=[{x:r,y:a,id:Be._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:a,id:Be._getFirstPointerId(e)}])}_setPointerPosition(e){Be.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new sp({width:this.width(),height:this.height()}),this.bufferHitCanvas=new UO({pixelRatio:1,width:this.width(),height:this.height()}),!Ft.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return Be.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};G5.prototype.nodeType=XIe;$a(G5);we.addGetterSetter(G5,"container");Ft.isBrowser&&document.addEventListener("visibilitychange",()=>{M2.forEach(t=>{t.batchDraw()})});const aZ="hasShadow",iZ="shadowRGBA",sZ="patternImage",oZ="linearGradient",lZ="radialGradient";let B_;function CT(){return B_||(B_=Be.createCanvasElement().getContext("2d"),B_)}const N2={};function rje(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function aje(t){t.stroke()}function ije(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function sje(t){t.stroke()}function oje(){this._clearCache(aZ)}function lje(){this._clearCache(iZ)}function cje(){this._clearCache(sZ)}function uje(){this._clearCache(oZ)}function dje(){this._clearCache(lZ)}class _t extends Ot{constructor(e){super(e);let n;for(;n=Be.getRandomColor(),!(n&&!(n in N2)););this.colorKey=n,N2[n]=this}getContext(){return Be.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return Be.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(aZ,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(sZ,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=CT().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const r=new gu;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(Ft.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const a=r.getMatrix(),i=typeof DOMMatrix>"u"?{a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5]}:new DOMMatrix(a);n.setTransform(i)}return n}}_getLinearGradient(){return this._getCache(oZ,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const n=CT(),r=this.fillLinearGradientStartPoint(),a=this.fillLinearGradientEndPoint(),i=n.createLinearGradient(r.x,r.y,a.x,a.y);for(let s=0;s<e.length;s+=2)i.addColorStop(e[s],e[s+1]);return i}}_getRadialGradient(){return this._getCache(lZ,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const n=CT(),r=this.fillRadialGradientStartPoint(),a=this.fillRadialGradientEndPoint(),i=n.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),a.x,a.y,this.fillRadialGradientEndRadius());for(let s=0;s<e.length;s+=2)i.addColorStop(e[s],e[s+1]);return i}}getShadowRGBA(){return this._getCache(iZ,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=Be.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const n=this.getStage();if(!n)return!1;const r=n.bufferHitCanvas;return r.getContext().clear(),this.drawHit(r,void 0,!0),r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return Ot.prototype.destroy.call(this),delete N2[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const a=e||this.hasFill(),i=this.hasStroke(),s=this.getAbsoluteOpacity()!==1;if(a&&i&&s)return!0;const o=this.hasShadow(),l=this.shadowForStrokeEnabled();return!!(a&&i&&o&&l)}setStrokeHitEnabled(e){Be.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let n=!1,r=this.getParent();for(;r;){if(r.isCached()){n=!0;break}r=r.getParent()}const a=e.skipTransform,i=e.relativeTo||n&&this.getStage()||void 0,s=this.getSelfRect(),l=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,u=s.width+l,d=s.height+l,h=!e.skipShadow&&this.hasShadow(),m=h?this.shadowOffsetX():0,y=h?this.shadowOffsetY():0,x=u+Math.abs(m),v=d+Math.abs(y),_=h&&this.shadowBlur()||0,C=x+_*2,w=v+_*2,T={width:C,height:w,x:-(l/2+_)+Math.min(m,0)+s.x,y:-(l/2+_)+Math.min(y,0)+s.y};return a?T:this._transformedRect(T,i)}drawScene(e,n,r){const a=this.getLayer(),i=e||a.getCanvas(),s=i.getContext(),o=this._getCanvasCache(),l=this.getSceneFunc(),u=this.hasShadow();let d;const h=n===this;if(!this.isVisible()&&!h)return this;if(o){s.save();const m=this.getAbsoluteTransform(n).getMatrix();return s.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!l)return this;if(s.save(),this._useBufferCanvas()){d=this.getStage();const m=r||d.bufferCanvas,y=m.getContext();y.clear(),y.save(),y._applyLineJoin(this),y._applyMiterLimit(this);const x=this.getAbsoluteTransform(n).getMatrix();y.transform(x[0],x[1],x[2],x[3],x[4],x[5]),l.call(this,y,this),y.restore();const v=m.pixelRatio;u&&s._applyShadow(this),h||(s._applyOpacity(this),s._applyGlobalCompositeOperation(this)),s.drawImage(m._canvas,m.x||0,m.y||0,m.width/v,m.height/v)}else{if(s._applyLineJoin(this),s._applyMiterLimit(this),!h){const m=this.getAbsoluteTransform(n).getMatrix();s.transform(m[0],m[1],m[2],m[3],m[4],m[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)}u&&s._applyShadow(this),l.call(this,s,this)}return s.restore(),this}drawHit(e,n,r=!1){if(!this.shouldDrawHit(n,r))return this;const a=this.getLayer(),i=e||a.hitCanvas,s=i&&i.getContext(),o=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),u=l&&l.hit;if(this.colorKey||Be.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),u){s.save();const h=this.getAbsoluteTransform(n).getMatrix();return s.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedHitCanvas(s),s.restore(),this}if(!o)return this;if(s.save(),s._applyLineJoin(this),s._applyMiterLimit(this),!(this===n)){const h=this.getAbsoluteTransform(n).getMatrix();s.transform(h[0],h[1],h[2],h[3],h[4],h[5])}return o.call(this,s,this),s.restore(),this}drawHitFromCache(e=0){const n=this._getCanvasCache(),r=this._getCachedSceneCanvas(),a=n.hit,i=a.getContext(),s=a.getWidth(),o=a.getHeight();i.clear(),i.drawImage(r._canvas,0,0,s,o);try{const l=i.getImageData(0,0,s,o),u=l.data,d=u.length,h=Be._hexToRgb(this.colorKey);for(let m=0;m<d;m+=4)u[m+3]>e?(u[m]=h.r,u[m+1]=h.g,u[m+2]=h.b,u[m+3]=255):u[m+3]=0;i.putImageData(l,0,0)}catch(l){Be.error("Unable to draw hit graph from cached scene canvas. "+l.message)}return this}hasPointerCapture(e){return VQ(e,this)}setPointerCapture(e){WQ(e,this)}releaseCapture(e){D2(e)}}_t.prototype._fillFunc=rje;_t.prototype._strokeFunc=aje;_t.prototype._fillFuncHit=ije;_t.prototype._strokeFuncHit=sje;_t.prototype._centroid=!1;_t.prototype.nodeType="Shape";$a(_t);_t.prototype.eventListeners={};_t.prototype.on.call(_t.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",oje);_t.prototype.on.call(_t.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",lje);_t.prototype.on.call(_t.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",cje);_t.prototype.on.call(_t.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",uje);_t.prototype.on.call(_t.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",dje);we.addGetterSetter(_t,"stroke",void 0,GQ());we.addGetterSetter(_t,"strokeWidth",2,Pt());we.addGetterSetter(_t,"fillAfterStrokeEnabled",!1);we.addGetterSetter(_t,"hitStrokeWidth","auto",$O());we.addGetterSetter(_t,"strokeHitEnabled",!0,Ou());we.addGetterSetter(_t,"perfectDrawEnabled",!0,Ou());we.addGetterSetter(_t,"shadowForStrokeEnabled",!0,Ou());we.addGetterSetter(_t,"lineJoin");we.addGetterSetter(_t,"lineCap");we.addGetterSetter(_t,"miterLimit");we.addGetterSetter(_t,"sceneFunc");we.addGetterSetter(_t,"hitFunc");we.addGetterSetter(_t,"dash");we.addGetterSetter(_t,"dashOffset",0,Pt());we.addGetterSetter(_t,"shadowColor",void 0,Fg());we.addGetterSetter(_t,"shadowBlur",0,Pt());we.addGetterSetter(_t,"shadowOpacity",1,Pt());we.addComponentsGetterSetter(_t,"shadowOffset",["x","y"]);we.addGetterSetter(_t,"shadowOffsetX",0,Pt());we.addGetterSetter(_t,"shadowOffsetY",0,Pt());we.addGetterSetter(_t,"fillPatternImage");we.addGetterSetter(_t,"fill",void 0,GQ());we.addGetterSetter(_t,"fillPatternX",0,Pt());we.addGetterSetter(_t,"fillPatternY",0,Pt());we.addGetterSetter(_t,"fillLinearGradientColorStops");we.addGetterSetter(_t,"strokeLinearGradientColorStops");we.addGetterSetter(_t,"fillRadialGradientStartRadius",0);we.addGetterSetter(_t,"fillRadialGradientEndRadius",0);we.addGetterSetter(_t,"fillRadialGradientColorStops");we.addGetterSetter(_t,"fillPatternRepeat","repeat");we.addGetterSetter(_t,"fillEnabled",!0);we.addGetterSetter(_t,"strokeEnabled",!0);we.addGetterSetter(_t,"shadowEnabled",!0);we.addGetterSetter(_t,"dashEnabled",!0);we.addGetterSetter(_t,"strokeScaleEnabled",!0);we.addGetterSetter(_t,"fillPriority","color");we.addComponentsGetterSetter(_t,"fillPatternOffset",["x","y"]);we.addGetterSetter(_t,"fillPatternOffsetX",0,Pt());we.addGetterSetter(_t,"fillPatternOffsetY",0,Pt());we.addComponentsGetterSetter(_t,"fillPatternScale",["x","y"]);we.addGetterSetter(_t,"fillPatternScaleX",1,Pt());we.addGetterSetter(_t,"fillPatternScaleY",1,Pt());we.addComponentsGetterSetter(_t,"fillLinearGradientStartPoint",["x","y"]);we.addComponentsGetterSetter(_t,"strokeLinearGradientStartPoint",["x","y"]);we.addGetterSetter(_t,"fillLinearGradientStartPointX",0);we.addGetterSetter(_t,"strokeLinearGradientStartPointX",0);we.addGetterSetter(_t,"fillLinearGradientStartPointY",0);we.addGetterSetter(_t,"strokeLinearGradientStartPointY",0);we.addComponentsGetterSetter(_t,"fillLinearGradientEndPoint",["x","y"]);we.addComponentsGetterSetter(_t,"strokeLinearGradientEndPoint",["x","y"]);we.addGetterSetter(_t,"fillLinearGradientEndPointX",0);we.addGetterSetter(_t,"strokeLinearGradientEndPointX",0);we.addGetterSetter(_t,"fillLinearGradientEndPointY",0);we.addGetterSetter(_t,"strokeLinearGradientEndPointY",0);we.addComponentsGetterSetter(_t,"fillRadialGradientStartPoint",["x","y"]);we.addGetterSetter(_t,"fillRadialGradientStartPointX",0);we.addGetterSetter(_t,"fillRadialGradientStartPointY",0);we.addComponentsGetterSetter(_t,"fillRadialGradientEndPoint",["x","y"]);we.addGetterSetter(_t,"fillRadialGradientEndPointX",0);we.addGetterSetter(_t,"fillRadialGradientEndPointY",0);we.addGetterSetter(_t,"fillPatternRotation",0);we.addGetterSetter(_t,"fillRule",void 0,Fg());we.backCompat(_t,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const fje="#",hje="beforeDraw",pje="draw",cZ=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],mje=cZ.length;let Bg=class extends jl{constructor(e){super(e),this.canvas=new sp,this.hitCanvas=new UO({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Ot.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Ot.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Ot.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Ot.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return Ot.prototype.remove.call(this),e&&e.parentNode&&Be._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&Be.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Ot.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Be.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Be.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Be.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,r=!1;for(;;){for(let a=0;a<mje;a++){const i=cZ[a],s=this._getIntersection({x:e.x+i.x*n,y:e.y+i.y*n}),o=s.shape;if(o)return o;if(r=!!s.antialiased,!s.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,a=r[3];if(a===255){const i=Be._rgbToHex(r[0],r[1],r[2]),s=N2[fje+i];return s?{shape:s}:{antialiased:!0}}else if(a>0)return{antialiased:!0};return{}}drawScene(e,n,r){const a=this.getLayer(),i=e||a&&a.getCanvas();return this._fire(hje,{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),jl.prototype.drawScene.call(this,i,n,r),this._fire(pje,{node:this}),this}drawHit(e,n){const r=this.getLayer(),a=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),jl.prototype.drawHit.call(this,a,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){Be.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return Be.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return Be.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Bg.prototype.nodeType="Layer";$a(Bg);we.addGetterSetter(Bg,"imageSmoothingEnabled",!0);we.addGetterSetter(Bg,"clearBeforeDraw",!0);we.addGetterSetter(Bg,"hitGraphEnabled",!0,Ou());class qO extends Bg{constructor(e){super(e),this.listening(!1),Be.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}qO.prototype.nodeType="FastLayer";$a(qO);class oy extends jl{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&Be.throw("You may only add groups and shapes to groups.")}}oy.prototype.nodeType="Group";$a(oy);const wT=(function(){return eg.performance&&eg.performance.now?function(){return eg.performance.now()}:function(){return new Date().getTime()}})();class wc{constructor(e,n){this.id=wc.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:wT(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,r=n.length;for(let a=0;a<r;a++)if(n[a]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=wc.animations,r=n.length;for(let a=0;a<r;a++)if(n[a].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=wT(),wc._addAnimation(this),this}stop(){return wc._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,r=this.animations,a=r.length;for(let i=0;i<a;i++)if(r[i].id===n){this.animations.splice(i,1);break}}static _runFrames(){const e={},n=this.animations;for(let r=0;r<n.length;r++){const a=n[r],i=a.layers,s=a.func;a._updateFrameObject(wT());const o=i.length;let l;if(s?l=s.call(a,a.frame)!==!1:l=!0,!!l)for(let u=0;u<o;u++){const d=i[u];d._id!==void 0&&(e[d._id]=d)}}for(const r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=wc;e.animations.length?(e._runFrames(),Be.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,Be.requestAnimFrame(this._animationLoop))}}wc.animations=[];wc.animIdCounter=0;wc.animRunning=!1;const gje={node:1,duration:1,easing:1,onFinish:1,yoyo:1},yje=1,Dz=2,Mz=3,Nz=["fill","stroke","shadowColor"];let bje=0;class xje{constructor(e,n,r,a,i,s,o){this.prop=e,this.propFunc=n,this.begin=a,this._pos=a,this.duration=s,this._change=0,this.prevPos=0,this.yoyo=o,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=i-this.begin,this.pause()}fire(e){const n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=Dz,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=Mz,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===Dz?this.setTime(e):this.state===Mz&&this.setTime(this.duration-e)}pause(){this.state=yje,this.fire("onPause")}getTimer(){return new Date().getTime()}}class Jr{constructor(e){const n=this,r=e.node,a=r._id,i=e.easing||P2.Linear,s=!!e.yoyo;let o,l;typeof e.duration>"u"?o=.3:e.duration===0?o=.001:o=e.duration,this.node=r,this._id=bje++;const u=r.getLayer()||(r instanceof Ft.Stage?r.getLayers():null);u||Be.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new wc(function(){n.tween.onEnterFrame()},u),this.tween=new xje(l,function(d){n._tweenFunc(d)},i,0,1,o*1e3,s),this._addListeners(),Jr.attrs[a]||(Jr.attrs[a]={}),Jr.attrs[a][this._id]||(Jr.attrs[a][this._id]={}),Jr.tweens[a]||(Jr.tweens[a]={});for(l in e)gje[l]===void 0&&this._addAttr(l,e[l]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){const r=this.node,a=r._id;let i,s,o,l,u;const d=Jr.tweens[a][e];d&&delete Jr.attrs[a][d][e];let h=r.getAttr(e);if(Be._isArray(n))if(i=[],s=Math.max(n.length,h.length),e==="points"&&n.length!==h.length&&(n.length>h.length?(l=h,h=Be._prepareArrayForTween(h,n,r.closed())):(o=n,n=Be._prepareArrayForTween(n,h,r.closed()))),e.indexOf("fill")===0)for(let m=0;m<s;m++)if(m%2===0)i.push(n[m]-h[m]);else{const y=Be.colorToRGBA(h[m]);u=Be.colorToRGBA(n[m]),h[m]=y,i.push({r:u.r-y.r,g:u.g-y.g,b:u.b-y.b,a:u.a-y.a})}else for(let m=0;m<s;m++)i.push(n[m]-h[m]);else Nz.indexOf(e)!==-1?(h=Be.colorToRGBA(h),u=Be.colorToRGBA(n),i={r:u.r-h.r,g:u.g-h.g,b:u.b-h.b,a:u.a-h.a}):i=n-h;Jr.attrs[a][this._id][e]={start:h,diff:i,end:n,trueEnd:o,trueStart:l},Jr.tweens[a][e]=this._id}_tweenFunc(e){const n=this.node,r=Jr.attrs[n._id][this._id];let a,i,s,o,l,u,d,h;for(a in r){if(i=r[a],s=i.start,o=i.diff,h=i.end,Be._isArray(s))if(l=[],d=Math.max(s.length,h.length),a.indexOf("fill")===0)for(u=0;u<d;u++)u%2===0?l.push((s[u]||0)+o[u]*e):l.push("rgba("+Math.round(s[u].r+o[u].r*e)+","+Math.round(s[u].g+o[u].g*e)+","+Math.round(s[u].b+o[u].b*e)+","+(s[u].a+o[u].a*e)+")");else for(u=0;u<d;u++)l.push((s[u]||0)+o[u]*e);else Nz.indexOf(a)!==-1?l="rgba("+Math.round(s.r+o.r*e)+","+Math.round(s.g+o.g*e)+","+Math.round(s.b+o.b*e)+","+(s.a+o.a*e)+")":l=s+o*e;n.setAttr(a,l)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,n=Jr.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,n=Jr.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,n=this._id,r=Jr.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const a in r)delete Jr.tweens[e][a];delete Jr.attrs[e][n],Jr.tweens[e]&&(Object.keys(Jr.tweens[e]).length===0&&delete Jr.tweens[e],Object.keys(Jr.attrs[e]).length===0&&delete Jr.attrs[e])}}Jr.attrs={};Jr.tweens={};Ot.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new Jr(t).play()};const P2={BackEaseIn(t,e,n,r){return n*(t/=r)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,n,r){return n*((t=t/r-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,n,r){let a=1.70158;return(t/=r/2)<1?n/2*(t*t*(((a*=1.525)+1)*t-a))+e:n/2*((t-=2)*t*(((a*=1.525)+1)*t+a)+2)+e},ElasticEaseIn(t,e,n,r,a,i){let s=0;return t===0?e:(t/=r)===1?e+n:(i||(i=r*.3),!a||a<Math.abs(n)?(a=n,s=i/4):s=i/(2*Math.PI)*Math.asin(n/a),-(a*Math.pow(2,10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/i))+e)},ElasticEaseOut(t,e,n,r,a,i){let s=0;return t===0?e:(t/=r)===1?e+n:(i||(i=r*.3),!a||a<Math.abs(n)?(a=n,s=i/4):s=i/(2*Math.PI)*Math.asin(n/a),a*Math.pow(2,-10*t)*Math.sin((t*r-s)*(2*Math.PI)/i)+n+e)},ElasticEaseInOut(t,e,n,r,a,i){let s=0;return t===0?e:(t/=r/2)===2?e+n:(i||(i=r*(.3*1.5)),!a||a<Math.abs(n)?(a=n,s=i/4):s=i/(2*Math.PI)*Math.asin(n/a),t<1?-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/i))+e:a*Math.pow(2,-10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/i)*.5+n+e)},BounceEaseOut(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,r){return n-P2.BounceEaseOut(r-t,0,n,r)+e},BounceEaseInOut(t,e,n,r){return t<r/2?P2.BounceEaseIn(t*2,0,n,r)*.5+e:P2.BounceEaseOut(t*2-r,0,n,r)*.5+n*.5+e},EaseIn(t,e,n,r){return n*(t/=r)*t+e},EaseOut(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,r){return n*t/r+e}},ly=Be._assign(Ft,{Util:Be,Transform:gu,Node:Ot,Container:jl,Stage:G5,stages:M2,Layer:Bg,FastLayer:qO,Group:oy,DD:kr,Shape:_t,shapes:N2,Animation:wc,Tween:Jr,Easings:P2,Context:U5,Canvas:HO});class eh extends _t{_sceneFunc(e){const n=Ft.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),a=Ft.getAngle(r?360-this.angle():this.angle()),i=Math.cos(Math.min(a,Math.PI)),s=1,o=Math.sin(Math.min(Math.max(Math.PI,a),3*Math.PI/2)),l=Math.sin(Math.min(a,Math.PI/2)),u=i*(i>0?e:n),d=s*n,h=o*(o>0?e:n),m=l*(l>0?n:e);return{x:u,y:r?-1*m:h,width:d-u,height:m-h}}}eh.prototype._centroid=!0;eh.prototype.className="Arc";eh.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];$a(eh);we.addGetterSetter(eh,"innerRadius",0,Pt());we.addGetterSetter(eh,"outerRadius",0,Pt());we.addGetterSetter(eh,"angle",0,Pt());we.addGetterSetter(eh,"clockwise",!1,Ou());function yI(t,e,n,r,a,i,s){const o=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(a-n,2)+Math.pow(i-r,2)),u=s*o/(o+l),d=s*l/(o+l),h=n-u*(a-t),m=r-u*(i-e),y=n+d*(a-t),x=r+d*(i-e);return[h,m,y,x]}function Pz(t,e){const n=t.length,r=[];for(let a=2;a<n-2;a+=2){const i=yI(t[a-2],t[a-1],t[a],t[a+1],t[a+2],t[a+3],e);isNaN(i[0])||(r.push(i[0]),r.push(i[1]),r.push(t[a]),r.push(t[a+1]),r.push(i[2]),r.push(i[3]))}return r}let th=class extends _t{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),r=n.length,a=this.tension(),i=this.closed(),s=this.bezier();if(!r)return;let o=0;if(e.beginPath(),e.moveTo(n[0],n[1]),a!==0&&r>4){const l=this.getTensionPoints(),u=l.length;for(o=i?0:4,i||e.quadraticCurveTo(l[0],l[1],l[2],l[3]);o<u-2;)e.bezierCurveTo(l[o++],l[o++],l[o++],l[o++],l[o++],l[o++]);i||e.quadraticCurveTo(l[u-2],l[u-1],n[r-2],n[r-1])}else if(s)for(o=2;o<r;)e.bezierCurveTo(n[o++],n[o++],n[o++],n[o++],n[o++],n[o++]);else for(o=2;o<r;o+=2)e.lineTo(n[o],n[o+1]);i?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():Pz(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,r=this.tension(),a=yI(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),i=yI(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),s=Pz(e,r);return[a[2],a[3]].concat(s).concat([i[0],i[1],e[n-2],e[n-1],i[2],i[3],a[0],a[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],r=e[0],a=e[1],i=e[1],s,o;for(let l=0;l<e.length/2;l++)s=e[l*2],o=e[l*2+1],n=Math.min(n,s),r=Math.max(r,s),a=Math.min(a,o),i=Math.max(i,o);return{x:n,y:a,width:r-n,height:i-a}}};th.prototype.className="Line";th.prototype._attrsAffectingSize=["points","bezier","tension"];$a(th);we.addGetterSetter(th,"closed",!1);we.addGetterSetter(th,"bezier",!1);we.addGetterSetter(th,"tension",0,Pt());we.addGetterSetter(th,"points",[],NIe());const vje=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],Sje=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],_je=[[1],[1,1],[1,2,1],[1,3,3,1]],Lz=(t,e,n)=>{let r,a;const s=n/2;r=0;for(let o=0;o<20;o++)a=s*vje[20][o]+s,r+=Sje[20][o]*Cje(t,e,a);return s*r},zz=(t,e,n)=>{n===void 0&&(n=1);const r=t[0]-2*t[1]+t[2],a=e[0]-2*e[1]+e[2],i=2*t[1]-2*t[0],s=2*e[1]-2*e[0],o=4*(r*r+a*a),l=4*(r*i+a*s),u=i*i+s*s;if(o===0)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const d=l/(2*o),h=u/o,m=n+d,y=h-d*d,x=m*m+y>0?Math.sqrt(m*m+y):0,v=d*d+y>0?Math.sqrt(d*d+y):0,_=d+Math.sqrt(d*d+y)!==0?y*Math.log(Math.abs((m+x)/(d+v))):0;return Math.sqrt(o)/2*(m*x-d*v+_)};function Cje(t,e,n){const r=bI(1,n,t),a=bI(1,n,e),i=r*r+a*a;return Math.sqrt(i)}const bI=(t,e,n)=>{const r=n.length-1;let a,i;if(r===0)return 0;if(t===0){i=0;for(let s=0;s<=r;s++)i+=_je[r][s]*Math.pow(1-e,r-s)*Math.pow(e,s)*n[s];return i}else{a=new Array(r);for(let s=0;s<r;s++)a[s]=r*(n[s+1]-n[s]);return bI(t-1,e,a)}},Fz=(t,e,n)=>{let r=1,a=t/e,i=(t-n(a))/e,s=0;for(;r>.001;){const o=n(a+i),l=Math.abs(t-o)/e;if(l<r)r=l,a+=i;else{const u=n(a-i),d=Math.abs(t-u)/e;d<r?(r=d,a-=i):i/=2}if(s++,s>500)break}return a};class na extends _t{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=na.parsePathData(this.data()),this.pathLength=na.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let r=!1;for(let a=0;a<n.length;a++){const i=n[a].command,s=n[a].points;switch(i){case"L":e.lineTo(s[0],s[1]);break;case"M":e.moveTo(s[0],s[1]);break;case"C":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"Q":e.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case"A":const o=s[0],l=s[1],u=s[2],d=s[3],h=s[4],m=s[5],y=s[6],x=s[7],v=u>d?u:d,_=u>d?1:u/d,C=u>d?d/u:1;e.translate(o,l),e.rotate(y),e.scale(_,C),e.arc(0,0,v,h,h+m,1-x),e.scale(1/_,1/C),e.rotate(-y),e.translate(-o,-l);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(l){if(l.command==="A"){const u=l.points[4],d=l.points[5],h=l.points[4]+d;let m=Math.PI/180;if(Math.abs(u-h)<m&&(m=Math.abs(u-h)),d<0)for(let y=u-m;y>h;y-=m){const x=na.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],y,0);e.push(x.x,x.y)}else for(let y=u+m;y<h;y+=m){const x=na.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],y,0);e.push(x.x,x.y)}}else if(l.command==="C")for(let u=0;u<=1;u+=.01){const d=na.getPointOnCubicBezier(u,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);e.push(d.x,d.y)}else e=e.concat(l.points)});let n=e[0],r=e[0],a=e[1],i=e[1],s,o;for(let l=0;l<e.length/2;l++)s=e[l*2],o=e[l*2+1],isNaN(s)||(n=Math.min(n,s),r=Math.max(r,s)),isNaN(o)||(a=Math.min(a,o),i=Math.max(i,o));return{x:n,y:a,width:r-n,height:i-a}}getLength(){return this.pathLength}getPointAtLength(e){return na.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,r,a){return Math.sqrt((r-e)*(r-e)+(a-n)*(a-n))}static getPathLength(e){let n=0;for(let r=0;r<e.length;++r)n+=e[r].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let r,a=0,i=n.length;if(!i)return null;for(;a<i&&e>n[a].pathLength;)e-=n[a].pathLength,++a;if(a===i)return r=n[a-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return n[a].command==="M"?(r=n[a].points.slice(0,2),{x:r[0],y:r[1]}):{x:n[a].start.x,y:n[a].start.y};const s=n[a],o=s.points;switch(s.command){case"L":return na.getPointOnLine(e,s.start.x,s.start.y,o[0],o[1]);case"C":return na.getPointOnCubicBezier(Fz(e,na.getPathLength(n),v=>Lz([s.start.x,o[0],o[2],o[4]],[s.start.y,o[1],o[3],o[5]],v)),s.start.x,s.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return na.getPointOnQuadraticBezier(Fz(e,na.getPathLength(n),v=>zz([s.start.x,o[0],o[2]],[s.start.y,o[1],o[3]],v)),s.start.x,s.start.y,o[0],o[1],o[2],o[3]);case"A":const l=o[0],u=o[1],d=o[2],h=o[3],m=o[5],y=o[6];let x=o[4];return x+=m*e/s.pathLength,na.getPointOnEllipticalArc(l,u,d,h,x,y)}return null}static getPointOnLine(e,n,r,a,i,s,o){s=s??n,o=o??r;const l=this.getLineLength(n,r,a,i);if(l<1e-10)return{x:n,y:r};if(a===n)return{x:s,y:o+(i>r?e:-e)};const u=(i-r)/(a-n),d=Math.sqrt(e*e/(1+u*u))*(a<n?-1:1),h=u*d;if(Math.abs(o-r-u*(s-n))<1e-10)return{x:s+d,y:o+h};const m=((s-n)*(a-n)+(o-r)*(i-r))/(l*l),y=n+m*(a-n),x=r+m*(i-r),v=this.getLineLength(s,o,y,x),_=Math.sqrt(e*e-v*v),C=Math.sqrt(_*_/(1+u*u))*(a<n?-1:1),w=u*C;return{x:y+C,y:x+w}}static getPointOnCubicBezier(e,n,r,a,i,s,o,l,u){function d(_){return _*_*_}function h(_){return 3*_*_*(1-_)}function m(_){return 3*_*(1-_)*(1-_)}function y(_){return(1-_)*(1-_)*(1-_)}const x=l*d(e)+s*h(e)+a*m(e)+n*y(e),v=u*d(e)+o*h(e)+i*m(e)+r*y(e);return{x,y:v}}static getPointOnQuadraticBezier(e,n,r,a,i,s,o){function l(y){return y*y}function u(y){return 2*y*(1-y)}function d(y){return(1-y)*(1-y)}const h=s*l(e)+a*u(e)+n*d(e),m=o*l(e)+i*u(e)+r*d(e);return{x:h,y:m}}static getPointOnEllipticalArc(e,n,r,a,i,s){const o=Math.cos(s),l=Math.sin(s),u={x:r*Math.cos(i),y:a*Math.sin(i)};return{x:e+(u.x*o-u.y*l),y:n+(u.x*l+u.y*o)}}static parsePathData(e){if(!e)return[];let n=e;const r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let h=0;h<r.length;h++)n=n.replace(new RegExp(r[h],"g"),"|"+r[h]);const a=n.split("|"),i=[],s=[];let o=0,l=0;const u=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let d;for(let h=1;h<a.length;h++){let m=a[h],y=m.charAt(0);for(m=m.slice(1),s.length=0;d=u.exec(m);)s.push(d[0]);let x=[],v=y==="A"||y==="a"?0:-1;for(let _=0,C=s.length;_<C;_++){const w=s[_];if(w==="00"){x.push(0,0),v>=0&&(v+=2,v>=7&&(v-=7));continue}if(v>=0){if(v===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(w)){x.push(parseInt(w[0],10)),x.push(parseInt(w[1],10)),x.push(parseFloat(w.slice(2))),v+=3,v>=7&&(v-=7);continue}if(w==="11"||w==="10"||w==="01"){x.push(parseInt(w[0],10)),x.push(parseInt(w[1],10)),v+=2,v>=7&&(v-=7);continue}if(w==="0"||w==="1"){x.push(parseInt(w,10)),v+=1,v>=7&&(v-=7);continue}}else if(v===4){if(/^[01]\d+(?:\.\d+)?$/.test(w)){x.push(parseInt(w[0],10)),x.push(parseFloat(w.slice(1))),v+=2,v>=7&&(v-=7);continue}if(w==="0"||w==="1"){x.push(parseInt(w,10)),v+=1,v>=7&&(v-=7);continue}}const T=parseFloat(w);isNaN(T)?x.push(0):x.push(T),v+=1,v>=7&&(v-=7)}else{const T=parseFloat(w);isNaN(T)?x.push(0):x.push(T)}}for(;x.length>0&&!isNaN(x[0]);){let _="",C=[];const w=o,T=l;let E,I,j,O,L,N,M,H,P,$;switch(y){case"l":o+=x.shift(),l+=x.shift(),_="L",C.push(o,l);break;case"L":o=x.shift(),l=x.shift(),C.push(o,l);break;case"m":const D=x.shift(),U=x.shift();if(o+=D,l+=U,_="M",i.length>2&&i[i.length-1].command==="z"){for(let F=i.length-2;F>=0;F--)if(i[F].command==="M"){o=i[F].points[0]+D,l=i[F].points[1]+U;break}}C.push(o,l),y="l";break;case"M":o=x.shift(),l=x.shift(),_="M",C.push(o,l),y="L";break;case"h":o+=x.shift(),_="L",C.push(o,l);break;case"H":o=x.shift(),_="L",C.push(o,l);break;case"v":l+=x.shift(),_="L",C.push(o,l);break;case"V":l=x.shift(),_="L",C.push(o,l);break;case"C":C.push(x.shift(),x.shift(),x.shift(),x.shift()),o=x.shift(),l=x.shift(),C.push(o,l);break;case"c":C.push(o+x.shift(),l+x.shift(),o+x.shift(),l+x.shift()),o+=x.shift(),l+=x.shift(),_="C",C.push(o,l);break;case"S":I=o,j=l,E=i[i.length-1],E.command==="C"&&(I=o+(o-E.points[2]),j=l+(l-E.points[3])),C.push(I,j,x.shift(),x.shift()),o=x.shift(),l=x.shift(),_="C",C.push(o,l);break;case"s":I=o,j=l,E=i[i.length-1],E.command==="C"&&(I=o+(o-E.points[2]),j=l+(l-E.points[3])),C.push(I,j,o+x.shift(),l+x.shift()),o+=x.shift(),l+=x.shift(),_="C",C.push(o,l);break;case"Q":C.push(x.shift(),x.shift()),o=x.shift(),l=x.shift(),C.push(o,l);break;case"q":C.push(o+x.shift(),l+x.shift()),o+=x.shift(),l+=x.shift(),_="Q",C.push(o,l);break;case"T":I=o,j=l,E=i[i.length-1],E.command==="Q"&&(I=o+(o-E.points[0]),j=l+(l-E.points[1])),o=x.shift(),l=x.shift(),_="Q",C.push(I,j,o,l);break;case"t":I=o,j=l,E=i[i.length-1],E.command==="Q"&&(I=o+(o-E.points[0]),j=l+(l-E.points[1])),o+=x.shift(),l+=x.shift(),_="Q",C.push(I,j,o,l);break;case"A":O=x.shift(),L=x.shift(),N=x.shift(),M=x.shift(),H=x.shift(),P=o,$=l,o=x.shift(),l=x.shift(),_="A",C=this.convertEndpointToCenterParameterization(P,$,o,l,M,H,O,L,N);break;case"a":O=x.shift(),L=x.shift(),N=x.shift(),M=x.shift(),H=x.shift(),P=o,$=l,o+=x.shift(),l+=x.shift(),_="A",C=this.convertEndpointToCenterParameterization(P,$,o,l,M,H,O,L,N);break}i.push({command:_||y,points:C,start:{x:w,y:T},pathLength:this.calcLength(w,T,_||y,C)})}(y==="z"||y==="Z")&&i.push({command:"z",points:[],start:void 0,pathLength:0})}return i}static calcLength(e,n,r,a){let i,s,o,l;const u=na;switch(r){case"L":return u.getLineLength(e,n,a[0],a[1]);case"C":return Lz([e,a[0],a[2],a[4]],[n,a[1],a[3],a[5]],1);case"Q":return zz([e,a[0],a[2]],[n,a[1],a[3]],1);case"A":i=0;const d=a[4],h=a[5],m=a[4]+h;let y=Math.PI/180;if(Math.abs(d-m)<y&&(y=Math.abs(d-m)),s=u.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],d,0),h<0)for(l=d-y;l>m;l-=y)o=u.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],l,0),i+=u.getLineLength(s.x,s.y,o.x,o.y),s=o;else for(l=d+y;l<m;l+=y)o=u.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],l,0),i+=u.getLineLength(s.x,s.y,o.x,o.y),s=o;return o=u.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],m,0),i+=u.getLineLength(s.x,s.y,o.x,o.y),i}return 0}static convertEndpointToCenterParameterization(e,n,r,a,i,s,o,l,u){const d=u*(Math.PI/180),h=Math.cos(d)*(e-r)/2+Math.sin(d)*(n-a)/2,m=-1*Math.sin(d)*(e-r)/2+Math.cos(d)*(n-a)/2,y=h*h/(o*o)+m*m/(l*l);y>1&&(o*=Math.sqrt(y),l*=Math.sqrt(y));let x=Math.sqrt((o*o*(l*l)-o*o*(m*m)-l*l*(h*h))/(o*o*(m*m)+l*l*(h*h)));i===s&&(x*=-1),isNaN(x)&&(x=0);const v=x*o*m/l,_=x*-l*h/o,C=(e+r)/2+Math.cos(d)*v-Math.sin(d)*_,w=(n+a)/2+Math.sin(d)*v+Math.cos(d)*_,T=function(M){return Math.sqrt(M[0]*M[0]+M[1]*M[1])},E=function(M,H){return(M[0]*H[0]+M[1]*H[1])/(T(M)*T(H))},I=function(M,H){return(M[0]*H[1]<M[1]*H[0]?-1:1)*Math.acos(E(M,H))},j=I([1,0],[(h-v)/o,(m-_)/l]),O=[(h-v)/o,(m-_)/l],L=[(-1*h-v)/o,(-1*m-_)/l];let N=I(O,L);return E(O,L)<=-1&&(N=Math.PI),E(O,L)>=1&&(N=0),s===0&&N>0&&(N=N-2*Math.PI),s===1&&N<0&&(N=N+2*Math.PI),[C,w,o,l,j,N,d,s]}}na.prototype.className="Path";na.prototype._attrsAffectingSize=["data"];$a(na);we.addGetterSetter(na,"data");class Hg extends th{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,r=this.points();let a=r;const i=this.tension()!==0&&r.length>4;i&&(a=this.getTensionPoints());const s=this.pointerLength(),o=r.length;let l,u;if(i){const m=[a[a.length-4],a[a.length-3],a[a.length-2],a[a.length-1],r[o-2],r[o-1]],y=na.calcLength(a[a.length-4],a[a.length-3],"C",m),x=na.getPointOnQuadraticBezier(Math.min(1,1-s/y),m[0],m[1],m[2],m[3],m[4],m[5]);l=r[o-2]-x.x,u=r[o-1]-x.y}else l=r[o-2]-r[o-4],u=r[o-1]-r[o-3];const d=(Math.atan2(u,l)+n)%n,h=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[o-2],r[o-1]),e.rotate(d),e.moveTo(0,0),e.lineTo(-s,h/2),e.lineTo(-s,-h/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),i?(l=(a[0]+a[2])/2-r[0],u=(a[1]+a[3])/2-r[1]):(l=r[2]-r[0],u=r[3]-r[1]),e.rotate((Math.atan2(-u,-l)+n)%n),e.moveTo(0,0),e.lineTo(-s,h/2),e.lineTo(-s,-h/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}}Hg.prototype.className="Arrow";$a(Hg);we.addGetterSetter(Hg,"pointerLength",10,Pt());we.addGetterSetter(Hg,"pointerWidth",10,Pt());we.addGetterSetter(Hg,"pointerAtBeginning",!1);we.addGetterSetter(Hg,"pointerAtEnding",!0);class Oy extends _t{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}Oy.prototype._centroid=!0;Oy.prototype.className="Circle";Oy.prototype._attrsAffectingSize=["radius"];$a(Oy);we.addGetterSetter(Oy,"radius",0,Pt());class Up extends _t{_sceneFunc(e){const n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Up.prototype.className="Ellipse";Up.prototype._centroid=!0;Up.prototype._attrsAffectingSize=["radiusX","radiusY"];$a(Up);we.addComponentsGetterSetter(Up,"radius",["x","y"]);we.addGetterSetter(Up,"radiusX",0,Pt());we.addGetterSetter(Up,"radiusY",0,Pt());let Du=class uZ extends _t{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),a=this.cornerRadius(),i=this.attrs.image;let s;if(i){const o=this.attrs.cropWidth,l=this.attrs.cropHeight;o&&l?s=[i,this.cropX(),this.cropY(),o,l,0,0,n,r]:s=[i,0,0,n,r]}(this.hasFill()||this.hasStroke()||a)&&(e.beginPath(),a?Be.drawRoundedRectPath(e,n,r,a):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),i&&(a&&e.clip(),e.drawImage.apply(e,s))}_hitFunc(e){const n=this.width(),r=this.height(),a=this.cornerRadius();e.beginPath(),a?Be.drawRoundedRectPath(e,n,r,a):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n,r;return(r=(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width)!==null&&r!==void 0?r:0}getHeight(){var e,n,r;return(r=(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height)!==null&&r!==void 0?r:0}static fromURL(e,n,r=null){const a=Be.createImageElement();a.onload=function(){const i=new uZ({image:a});n(i)},a.onerror=r,a.crossOrigin="Anonymous",a.src=e}};Du.prototype.className="Image";Du.prototype._attrsAffectingSize=["image"];$a(Du);we.addGetterSetter(Du,"cornerRadius",0,$5(4));we.addGetterSetter(Du,"image");we.addComponentsGetterSetter(Du,"crop",["x","y","width","height"]);we.addGetterSetter(Du,"cropX",0,Pt());we.addGetterSetter(Du,"cropY",0,Pt());we.addGetterSetter(Du,"cropWidth",0,Pt());we.addGetterSetter(Du,"cropHeight",0,Pt());const dZ=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],wje="Change.konva",Eje="none",xI="up",vI="right",SI="down",_I="left",Tje=dZ.length;class VO extends oy{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,r;const a=function(){n._sync()};for(r=0;r<Tje;r++)e.on(dZ[r]+wje,a)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),r,a,i,s,o,l,u;if(e&&n){switch(r=e.width(),a=e.height(),i=n.pointerDirection(),s=n.pointerWidth(),u=n.pointerHeight(),o=0,l=0,i){case xI:o=r/2,l=-1*u;break;case vI:o=r+s,l=a/2;break;case SI:o=r/2,l=a+u;break;case _I:o=-1*s,l=a/2;break}n.setAttrs({x:-1*o,y:-1*l,width:r,height:a}),e.setAttrs({x:-1*o,y:-1*l})}}}VO.prototype.className="Label";$a(VO);class Ug extends _t{_sceneFunc(e){const n=this.width(),r=this.height(),a=this.pointerDirection(),i=this.pointerWidth(),s=this.pointerHeight(),o=this.cornerRadius();let l=0,u=0,d=0,h=0;typeof o=="number"?l=u=d=h=Math.min(o,n/2,r/2):(l=Math.min(o[0]||0,n/2,r/2),u=Math.min(o[1]||0,n/2,r/2),h=Math.min(o[2]||0,n/2,r/2),d=Math.min(o[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(l,0),a===xI&&(e.lineTo((n-i)/2,0),e.lineTo(n/2,-1*s),e.lineTo((n+i)/2,0)),e.lineTo(n-u,0),e.arc(n-u,u,u,Math.PI*3/2,0,!1),a===vI&&(e.lineTo(n,(r-s)/2),e.lineTo(n+i,r/2),e.lineTo(n,(r+s)/2)),e.lineTo(n,r-h),e.arc(n-h,r-h,h,0,Math.PI/2,!1),a===SI&&(e.lineTo((n+i)/2,r),e.lineTo(n/2,r+s),e.lineTo((n-i)/2,r)),e.lineTo(d,r),e.arc(d,r-d,d,Math.PI/2,Math.PI,!1),a===_I&&(e.lineTo(0,(r+s)/2),e.lineTo(-1*i,r/2),e.lineTo(0,(r-s)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,r=this.pointerWidth(),a=this.pointerHeight(),i=this.pointerDirection(),s=this.width(),o=this.height();return i===xI?(n-=a,o+=a):i===SI?o+=a:i===_I?(e-=r*1.5,s+=r):i===vI&&(s+=r*1.5),{x:e,y:n,width:s,height:o}}}Ug.prototype.className="Tag";$a(Ug);we.addGetterSetter(Ug,"pointerDirection",Eje);we.addGetterSetter(Ug,"pointerWidth",0,Pt());we.addGetterSetter(Ug,"pointerHeight",0,Pt());we.addGetterSetter(Ug,"cornerRadius",0,$5(4));let oS=class extends _t{_sceneFunc(e){const n=this.cornerRadius(),r=this.width(),a=this.height();e.beginPath(),n?Be.drawRoundedRectPath(e,r,a,n):e.rect(0,0,r,a),e.closePath(),e.fillStrokeShape(this)}};oS.prototype.className="Rect";$a(oS);we.addGetterSetter(oS,"cornerRadius",0,$5(4));class $p extends _t{_sceneFunc(e){const n=this._getPoints(),r=this.radius(),a=this.sides(),i=this.cornerRadius();if(e.beginPath(),i)Be.drawRoundedPolygonPath(e,n,a,r,i);else{e.moveTo(n[0].x,n[0].y);for(let s=1;s<n.length;s++)e.lineTo(n[s].x,n[s].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(let a=0;a<e;a++)r.push({x:n*Math.sin(a*2*Math.PI/e),y:-1*n*Math.cos(a*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();let n=e[0].x,r=e[0].y,a=e[0].x,i=e[0].y;return e.forEach(s=>{n=Math.min(n,s.x),r=Math.max(r,s.x),a=Math.min(a,s.y),i=Math.max(i,s.y)}),{x:n,y:a,width:r-n,height:i-a}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}$p.prototype.className="RegularPolygon";$p.prototype._centroid=!0;$p.prototype._attrsAffectingSize=["radius"];$a($p);we.addGetterSetter($p,"radius",0,Pt());we.addGetterSetter($p,"sides",0,Pt());we.addGetterSetter($p,"cornerRadius",0,$5(4));const Bz=Math.PI*2;class $g extends _t{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,Bz,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),Bz,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}$g.prototype.className="Ring";$g.prototype._centroid=!0;$g.prototype._attrsAffectingSize=["innerRadius","outerRadius"];$a($g);we.addGetterSetter($g,"innerRadius",0,Pt());we.addGetterSetter($g,"outerRadius",0,Pt());class qd extends _t{constructor(e){super(e),this._updated=!0,this.anim=new wc(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),r=this.frameIndex(),a=r*4,i=this.animations()[n],s=this.frameOffsets(),o=i[a+0],l=i[a+1],u=i[a+2],d=i[a+3],h=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,u,d),e.closePath(),e.fillStrokeShape(this)),h)if(s){const m=s[n],y=r*2;e.drawImage(h,o,l,u,d,m[y+0],m[y+1],u,d)}else e.drawImage(h,o,l,u,d,0,0,u,d)}_hitFunc(e){const n=this.animation(),r=this.frameIndex(),a=r*4,i=this.animations()[n],s=this.frameOffsets(),o=i[a+2],l=i[a+3];if(e.beginPath(),s){const u=s[n],d=r*2;e.rect(u[d+0],u[d+1],o,l)}else e.rect(0,0,o,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),r=this.animations(),a=r[n],i=a.length/4;e<i-1?this.frameIndex(e+1):this.frameIndex(0)}}qd.prototype.className="Sprite";$a(qd);we.addGetterSetter(qd,"animation");we.addGetterSetter(qd,"animations");we.addGetterSetter(qd,"frameOffsets");we.addGetterSetter(qd,"image");we.addGetterSetter(qd,"frameIndex",0,Pt());we.addGetterSetter(qd,"frameRate",17,Pt());we.backCompat(qd,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Gp extends _t{_sceneFunc(e){const n=this.innerRadius(),r=this.outerRadius(),a=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let i=1;i<a*2;i++){const s=i%2===0?r:n,o=s*Math.sin(i*Math.PI/a),l=-1*s*Math.cos(i*Math.PI/a);e.lineTo(o,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Gp.prototype.className="Star";Gp.prototype._centroid=!0;Gp.prototype._attrsAffectingSize=["innerRadius","outerRadius"];$a(Gp);we.addGetterSetter(Gp,"numPoints",5,Pt());we.addGetterSetter(Gp,"innerRadius",0,Pt());we.addGetterSetter(Gp,"outerRadius",0,Pt());function Zh(t){return[...t].reduce((e,n,r,a)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const i=a[r+1];i&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(i)?(e.push(n+i),a[r+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(a[r+1]||""))?e.push(n+a[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const f1="auto",Aje="center",fZ="inherit",h1="justify",Rje="Change.konva",kje="2d",Hz="-",hZ="left",Ije="text",jje="Text",Oje="top",Dje="bottom",Uz="middle",pZ="normal",Mje="px ",H_=" ",Nje="right",$z="rtl",Pje="word",Lje="char",Gz="none",ET="",mZ=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],zje=mZ.length;function Fje(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}let U_;function TT(){return U_||(U_=Be.createCanvasElement().getContext(kje),U_)}function Bje(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function Hje(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function Uje(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}class va extends _t{constructor(e){super(Uje(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<zje;n++)this.on(mZ[n]+Rje,this._setTextData);this._setTextData()}_sceneFunc(e){var n,r;const a=this.textArr,i=a.length;if(!this.text())return;let s=this.padding(),o=this.fontSize(),l=this.lineHeight()*o,u=this.verticalAlign(),d=this.direction(),h=0,m=this.align(),y=this.getWidth(),x=this.letterSpacing(),v=this.charRenderFunc(),_=this.fill(),C=this.textDecoration(),w=C.indexOf("underline")!==-1,T=C.indexOf("line-through")!==-1,E;d=d===fZ?e.direction:d;let I=l/2,j=Uz;if(!Ft.legacyTextRendering){const O=this.measureSize("M");j="alphabetic";const L=(n=O.fontBoundingBoxAscent)!==null&&n!==void 0?n:O.actualBoundingBoxAscent,N=(r=O.fontBoundingBoxDescent)!==null&&r!==void 0?r:O.actualBoundingBoxDescent;I=(L-N)/2+l/2}for(d===$z&&e.setAttr("direction",d),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",j),e.setAttr("textAlign",hZ),u===Uz?h=(this.getHeight()-i*l-s*2)/2:u===Dje&&(h=this.getHeight()-i*l-s*2),e.translate(s,h+s),E=0;E<i;E++){let O=0,L=0;const N=a[E],M=N.text,H=N.width,P=N.lastInParagraph;if(e.save(),m===Nje?O+=y-H-s*2:m===Aje&&(O+=(y-H-s*2)/2),w){e.save(),e.beginPath();const $=Ft.legacyTextRendering?Math.round(o/2):Math.round(o/4),D=O,U=I+L+$;e.moveTo(D,U);const F=m===h1&&!P?y-s*2:H;e.lineTo(D+Math.round(F),U),e.lineWidth=o/15;const W=this._getLinearGradient();e.strokeStyle=W||_,e.stroke(),e.restore()}if(d!==$z&&(x!==0||m===h1||v)){const $=M.split(" ").length-1,D=Zh(M);for(let U=0;U<D.length;U++){const F=D[U];if(F===" "&&!P&&m===h1&&(O+=(y-s*2-H)/$),this._partialTextX=O,this._partialTextY=I+L,this._partialText=F,v){e.save();const ee=a.slice(0,E).reduce((K,V)=>K+Zh(V.text).length,0),Q=U+ee;v({char:F,index:Q,x:O,y:I+L,lineIndex:E,column:U,isLastInLine:P,width:this.measureSize(F).width,context:e})}e.fillStrokeShape(this),v&&e.restore(),O+=this.measureSize(F).width+x}}else x!==0&&e.setAttr("letterSpacing",`${x}px`),this._partialTextX=O,this._partialTextY=I+L,this._partialText=M,e.fillStrokeShape(this);if(T){e.save(),e.beginPath();const $=Ft.legacyTextRendering?0:-Math.round(o/4),D=m===h1?0:O;e.moveTo(D,I+L+$);const U=m===h1&&!P?y-s*2:H;e.lineTo(D+Math.round(U),I+L+$),e.lineWidth=o/15;const F=this._getLinearGradient();e.strokeStyle=F||_,e.stroke(),e.restore()}e.restore(),i>1&&(I+=l)}}_hitFunc(e){const n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=Be._isString(e)?e:e==null?"":e+"";return this._setAttr(Ije,n),this}getWidth(){return this.attrs.width===f1||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===f1||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Be.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,r,a,i,s,o,l,u,d,h,m;let y=TT(),x=this.fontSize(),v;y.save(),y.font=this._getContextFont(),v=y.measureText(e),y.restore();const _=x/100;return{actualBoundingBoxAscent:(n=v.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*_,actualBoundingBoxDescent:(r=v.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(a=v.actualBoundingBoxLeft)!==null&&a!==void 0?a:-7.421875*_,actualBoundingBoxRight:(i=v.actualBoundingBoxRight)!==null&&i!==void 0?i:75.732421875*_,alphabeticBaseline:(s=v.alphabeticBaseline)!==null&&s!==void 0?s:0,emHeightAscent:(o=v.emHeightAscent)!==null&&o!==void 0?o:100*_,emHeightDescent:(l=v.emHeightDescent)!==null&&l!==void 0?l:-20*_,fontBoundingBoxAscent:(u=v.fontBoundingBoxAscent)!==null&&u!==void 0?u:91*_,fontBoundingBoxDescent:(d=v.fontBoundingBoxDescent)!==null&&d!==void 0?d:21*_,hangingBaseline:(h=v.hangingBaseline)!==null&&h!==void 0?h:72.80000305175781*_,ideographicBaseline:(m=v.ideographicBaseline)!==null&&m!==void 0?m:-21*_,width:v.width,height:x}}_getContextFont(){return this.fontStyle()+H_+this.fontVariant()+H_+(this.fontSize()+Mje)+Fje(this.fontFamily())}_addTextLine(e){this.align()===h1&&(e=e.trim());const r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),r=e.length;return TT().measureText(e).width+n*r}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),r=0,a=this.lineHeight()*n,i=this.attrs.width,s=this.attrs.height,o=i!==f1&&i!==void 0,l=s!==f1&&s!==void 0,u=this.padding(),d=i-u*2,h=s-u*2,m=0,y=this.wrap(),x=y!==Gz,v=y!==Lje&&x,_=this.ellipsis();this.textArr=[],TT().font=this._getContextFont();const C=_?this._getTextWidth(ET):0;for(let w=0,T=e.length;w<T;++w){let E=e[w],I=this._getTextWidth(E);if(o&&I>d)for(;E.length>0;){let j=0,O=Zh(E).length,L="",N=0;for(;j<O;){const M=j+O>>>1,H=Zh(E),P=H.slice(0,M+1).join(""),$=this._getTextWidth(P);(_&&l&&m+a>h?$+C:$)<=d?(j=M+1,L=P,N=$):O=M}if(L){if(v){const P=Zh(E),$=Zh(L),D=P[$.length],U=D===H_||D===Hz;let F;if(U&&N<=d)F=$.length;else{const W=$.lastIndexOf(H_),ee=$.lastIndexOf(Hz);F=Math.max(W,ee)+1}F>0&&(j=F,L=P.slice(0,j).join(""),N=this._getTextWidth(L))}if(L=L.trimRight(),this._addTextLine(L),r=Math.max(r,N),m+=a,this._shouldHandleEllipsis(m)){this._tryToAddEllipsisToLastLine();break}if(E=Zh(E).slice(j).join("").trimLeft(),E.length>0&&(I=this._getTextWidth(E),I<=d)){this._addTextLine(E),m+=a,r=Math.max(r,I);break}}else break}else this._addTextLine(E),m+=a,r=Math.max(r,I),this._shouldHandleEllipsis(m)&&w<T-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&m+a>h)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){const n=+this.fontSize(),r=this.lineHeight()*n,a=this.attrs.height,i=a!==f1&&a!==void 0,s=this.padding(),o=a-s*2;return!(this.wrap()!==Gz)||i&&e+r>o}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==f1&&e!==void 0,r=this.padding(),a=e-r*2,i=this.ellipsis(),s=this.textArr[this.textArr.length-1];!s||!i||(n&&(this._getTextWidth(s.text+ET)<a||(s.text=s.text.slice(0,s.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(s.text+ET))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}}va.prototype._fillFunc=Bje;va.prototype._strokeFunc=Hje;va.prototype.className=jje;va.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];$a(va);we.overWriteSetter(va,"width",$O());we.overWriteSetter(va,"height",$O());we.addGetterSetter(va,"direction",fZ);we.addGetterSetter(va,"fontFamily","Arial");we.addGetterSetter(va,"fontSize",12,Pt());we.addGetterSetter(va,"fontStyle",pZ);we.addGetterSetter(va,"fontVariant",pZ);we.addGetterSetter(va,"padding",0,Pt());we.addGetterSetter(va,"align",hZ);we.addGetterSetter(va,"verticalAlign",Oje);we.addGetterSetter(va,"lineHeight",1,Pt());we.addGetterSetter(va,"wrap",Pje);we.addGetterSetter(va,"ellipsis",!1,Ou());we.addGetterSetter(va,"letterSpacing",0,Pt());we.addGetterSetter(va,"text","",Fg());we.addGetterSetter(va,"textDecoration","");we.addGetterSetter(va,"charRenderFunc",void 0);const $je="",gZ="normal";function yZ(t){t.fillText(this.partialText,0,0)}function bZ(t){t.strokeText(this.partialText,0,0)}class Gi extends _t{constructor(e){super(e),this.dummyCanvas=Be.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return na.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e>n?null:na.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=na.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),r=this.fill(),a=this.fontSize(),i=this.glyphInfo,s=n.indexOf("underline")!==-1,o=n.indexOf("line-through")!==-1;s&&e.beginPath();for(let l=0;l<i.length;l++){e.save();const u=i[l].p0;e.translate(u.x,u.y),e.rotate(i[l].rotation),this.partialText=i[l].text,e.fillStrokeShape(this),s&&(l===0&&e.moveTo(0,a/2+1),e.lineTo(i[l].width,a/2+1)),e.restore()}if(s&&(e.strokeStyle=r,e.lineWidth=a/20,e.stroke()),o){e.beginPath();for(let l=0;l<i.length;l++){e.save();const u=i[l].p0;e.translate(u.x,u.y),e.rotate(i[l].rotation),l===0&&e.moveTo(0,0),e.lineTo(i[l].width,0),e.restore()}e.strokeStyle=r,e.lineWidth=a/20,e.stroke()}e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const r=n[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<n.length;r++){const a=n[r].p1;e.lineTo(a.x,a.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Be.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return va.prototype.setText.call(this,e)}_getContextFont(){return va.prototype._getContextFont.call(this)}_getTextSize(e){const r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();const a=r.measureText(e);return r.restore(),{width:a.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=Zh(this.text()),n=[];let r=0;for(let h=0;h<e.length;h++)n.push({char:e[h],width:this._getTextSize(e[h]).width}),r+=n[h].width;const{height:a}=this._getTextSize(this.attrs.text);if(this.textWidth=r,this.textHeight=a,this.glyphInfo=[],!this.attrs.data)return null;const i=this.letterSpacing(),s=this.align(),o=this.kerningFunc(),l=Math.max(this.textWidth+((this.attrs.text||"").length-1)*i,0);let u=0;s==="center"&&(u=Math.max(0,this.pathLength/2-l/2)),s==="right"&&(u=Math.max(0,this.pathLength-l));let d=u;for(let h=0;h<n.length;h++){const m=this._getPointAtLength(d);if(!m)return;const y=n[h].char;let x=n[h].width+i;if(y===" "&&s==="justify"){const E=this.text().split(" ").length-1;x+=(this.pathLength-l)/E}const v=this._getPointAtLength(d+x);if(!v)return;const _=na.getLineLength(m.x,m.y,v.x,v.y);let C=0;if(o)try{C=o(n[h-1].char,y)*this.fontSize()}catch{C=0}m.x+=C,v.x+=C,this.textWidth+=C;const w=na.getPointOnLine(C+_/2,m.x,m.y,v.x,v.y),T=Math.atan2(v.y-m.y,v.x-m.x);this.glyphInfo.push({transposeX:w.x,transposeY:w.y,text:e[h],rotation:T,p0:m,p1:v,width:_}),d+=x}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(u){e.push(u.p0.x),e.push(u.p0.y),e.push(u.p1.x),e.push(u.p1.y)});let n=e[0]||0,r=e[0]||0,a=e[1]||0,i=e[1]||0,s,o;for(let u=0;u<e.length/2;u++)s=e[u*2],o=e[u*2+1],n=Math.min(n,s),r=Math.max(r,s),a=Math.min(a,o),i=Math.max(i,o);const l=this.fontSize();return{x:n-l/2,y:a-l/2,width:r-n+l,height:i-a+l}}destroy(){return Be.releaseCanvas(this.dummyCanvas),super.destroy()}}Gi.prototype._fillFunc=yZ;Gi.prototype._strokeFunc=bZ;Gi.prototype._fillFuncHit=yZ;Gi.prototype._strokeFuncHit=bZ;Gi.prototype.className="TextPath";Gi.prototype._attrsAffectingSize=["text","fontSize","data"];$a(Gi);we.addGetterSetter(Gi,"data");we.addGetterSetter(Gi,"fontFamily","Arial");we.addGetterSetter(Gi,"fontSize",12,Pt());we.addGetterSetter(Gi,"fontStyle",gZ);we.addGetterSetter(Gi,"align","left");we.addGetterSetter(Gi,"letterSpacing",0,Pt());we.addGetterSetter(Gi,"textBaseline","middle");we.addGetterSetter(Gi,"fontVariant",gZ);we.addGetterSetter(Gi,"text",$je);we.addGetterSetter(Gi,"textDecoration","");we.addGetterSetter(Gi,"kerningFunc",void 0);const xZ="tr-konva",Gje=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${xZ}`).join(" "),qz="nodesRect",qje=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],Vje={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},Wje="ontouchstart"in Ft._global;function Yje(t,e,n){if(t==="rotater")return n;e+=Be.degToRad(Vje[t]||0);const r=(Be.radToDeg(e)%360+360)%360;return Be._inRange(r,315+22.5,360)||Be._inRange(r,0,22.5)?"ns-resize":Be._inRange(r,45-22.5,45+22.5)?"nesw-resize":Be._inRange(r,90-22.5,90+22.5)?"ew-resize":Be._inRange(r,135-22.5,135+22.5)?"nwse-resize":Be._inRange(r,180-22.5,180+22.5)?"ns-resize":Be._inRange(r,225-22.5,225+22.5)?"nesw-resize":Be._inRange(r,270-22.5,270+22.5)?"ew-resize":Be._inRange(r,315-22.5,315+22.5)?"nwse-resize":(Be.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}const xC=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function Kje(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function vZ(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),a=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:r,y:a}}function Xje(t,e){const n=Kje(t);return vZ(t,e,n)}function Qje(t,e,n){let r=e;for(let a=0;a<t.length;a++){const i=Ft.getAngle(t[a]),s=Math.abs(i-e)%(Math.PI*2);Math.min(s,Math.PI*2-s)<n&&(r=i)}return r}let CI=0;class lr extends oy{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(Gje,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return Be.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return xZ+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(a=>a.isAncestorOf(this)?(Be.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(a=>{const i=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(a._attrsAffectingSize.length){const s=a._attrsAffectingSize.map(o=>o+"Change."+this._getEventNamespace()).join(" ");a.on(s,i)}a.on(qje.map(s=>s+`.${this._getEventNamespace()}`).join(" "),i),a.on(`absoluteTransformChange.${this._getEventNamespace()}`,i),this._proxyDrag(a)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const a=e.getAbsolutePosition(),i=a.x-n.x,s=a.y-n.y;this.nodes().forEach(o=>{if(o===e||o.isDragging())return;const l=o.getAbsolutePosition();o.setAbsolutePosition({x:l.x+i,y:l.y+s}),o.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(qz),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(qz,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){const a=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=e.getAbsoluteScale(r),s=e.getAbsolutePosition(r),o=a.x*i.x-e.offsetX()*i.x,l=a.y*i.y-e.offsetY()*i.y,u=(Ft.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),d={x:s.x+o*Math.cos(u)+l*Math.sin(-u),y:s.y+l*Math.cos(u)+o*Math.sin(u),width:a.width*i.x,height:a.height*i.y,rotation:u};return vZ(d,-Ft.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(u=>{const d=u.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),h=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}],m=u.getAbsoluteTransform();h.forEach(function(y){const x=m.point(y);n.push(x)})});const r=new gu;r.rotate(-Ft.getAngle(this.rotation()));let a=1/0,i=1/0,s=-1/0,o=-1/0;n.forEach(function(u){const d=r.point(u);a===void 0&&(a=s=d.x,i=o=d.y),a=Math.min(a,d.x),i=Math.min(i,d.y),s=Math.max(s,d.x),o=Math.max(o,d.y)}),r.invert();const l=r.point({x:a,y:i});return{x:l.x,y:l.y,width:s-a,height:o-i,rotation:Ft.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),xC.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new oS({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:Wje?10:"auto"}),r=this;n.on("mousedown touchstart",function(a){r._handleMouseDown(a)}),n.on("dragstart",a=>{n.stopDrag(),a.cancelBubble=!0}),n.on("dragend",a=>{a.cancelBubble=!0}),n.on("mouseenter",()=>{const a=Ft.getAngle(this.rotation()),i=this.rotateAnchorCursor(),s=Yje(e,a,i);n.getStage().content&&(n.getStage().content.style.cursor=s),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new _t({name:"back",width:0,height:0,sceneFunc(n,r){const a=r.getParent(),i=a.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.moveTo(r.width()/2,-i),a.rotateEnabled()&&a.rotateLineVisible()&&n.lineTo(r.width()/2,-a.rotateAnchorOffset()*Be._sign(r.height())-i),n.fillStrokeShape(r)},hitFunc:(n,r)=>{if(!this.shouldOverdrawWholeArea())return;const a=this.padding();n.beginPath(),n.rect(-a,-a,r.width()+a*2,r.height()+a*2),n.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),r=n.width,a=n.height,i=Math.sqrt(Math.pow(r,2)+Math.pow(a,2));this.sin=Math.abs(a/i),this.cos=Math.abs(r/i),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const s=e.target.getAbsolutePosition(),o=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-s.x,y:o.y-s.y},CI++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){let n,r,a;const i=this.findOne("."+this._movingAnchorName),s=i.getStage();s.setPointersPositions(e);const o=s.getPointerPosition();let l={x:o.x-this._anchorDragOffset.x,y:o.y-this._anchorDragOffset.y};const u=i.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(u,l,e)),i.setAbsolutePosition(l);const d=i.getAbsolutePosition();if(u.x===d.x&&u.y===d.y)return;if(this._movingAnchorName==="rotater"){const w=this._getNodeRect();n=i.x()-w.width/2,r=-i.y()+w.height/2;let T=Math.atan2(-r,n)+Math.PI/2;w.height<0&&(T-=Math.PI);const I=Ft.getAngle(this.rotation())+T,j=Ft.getAngle(this.rotationSnapTolerance()),L=Qje(this.rotationSnaps(),I,j)-w.rotation,N=Xje(w,L);this._fitNodesInto(N,e);return}const h=this.shiftBehavior();let m;h==="inverted"?m=this.keepRatio()&&!e.shiftKey:h==="none"?m=this.keepRatio():m=this.keepRatio()||e.shiftKey;let y=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(m){const w=y?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};a=Math.sqrt(Math.pow(w.x-i.x(),2)+Math.pow(w.y-i.y(),2));const T=this.findOne(".top-left").x()>w.x?-1:1,E=this.findOne(".top-left").y()>w.y?-1:1;n=a*this.cos*T,r=a*this.sin*E,this.findOne(".top-left").x(w.x-n),this.findOne(".top-left").y(w.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(i.y());else if(this._movingAnchorName==="top-right"){if(m){const w=y?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};a=Math.sqrt(Math.pow(i.x()-w.x,2)+Math.pow(w.y-i.y(),2));const T=this.findOne(".top-right").x()<w.x?-1:1,E=this.findOne(".top-right").y()>w.y?-1:1;n=a*this.cos*T,r=a*this.sin*E,this.findOne(".top-right").x(w.x+n),this.findOne(".top-right").y(w.y-r)}var x=i.position();this.findOne(".top-left").y(x.y),this.findOne(".bottom-right").x(x.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(i.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(i.x());else if(this._movingAnchorName==="bottom-left"){if(m){const w=y?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};a=Math.sqrt(Math.pow(w.x-i.x(),2)+Math.pow(i.y()-w.y,2));const T=w.x<i.x()?-1:1,E=i.y()<w.y?-1:1;n=a*this.cos*T,r=a*this.sin*E,i.x(w.x-n),i.y(w.y+r)}x=i.position(),this.findOne(".top-left").x(x.x),this.findOne(".bottom-right").y(x.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(i.y());else if(this._movingAnchorName==="bottom-right"){if(m){const w=y?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};a=Math.sqrt(Math.pow(i.x()-w.x,2)+Math.pow(i.y()-w.y,2));const T=this.findOne(".bottom-right").x()<w.x?-1:1,E=this.findOne(".bottom-right").y()<w.y?-1:1;n=a*this.cos*T,r=a*this.sin*E,this.findOne(".bottom-right").x(w.x+n),this.findOne(".bottom-right").y(w.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(y=this.centeredScaling()||e.altKey,y){const w=this.findOne(".top-left"),T=this.findOne(".bottom-right"),E=w.x(),I=w.y(),j=this.getWidth()-T.x(),O=this.getHeight()-T.y();T.move({x:-E,y:-I}),w.move({x:j,y:O})}const v=this.findOne(".top-left").getAbsolutePosition();n=v.x,r=v.y;const _=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),C=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:_,height:C,rotation:Ft.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const r=this.getNode();CI--,this._fire("transformend",{evt:e,target:r}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),r&&this._nodes.forEach(a=>{var i;a._fire("transformend",{evt:e,target:a}),(i=a.getLayer())===null||i===void 0||i.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const r=this._getNodeRect(),a=1;if(Be._inRange(e.width,-this.padding()*2-a,a)){this.update();return}if(Be._inRange(e.height,-this.padding()*2-a,a)){this.update();return}const i=new gu;if(i.rotate(Ft.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const m=i.point({x:-this.padding()*2,y:0});e.x+=m.x,e.y+=m.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const m=i.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const m=i.point({x:0,y:-this.padding()*2});e.x+=m.x,e.y+=m.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const m=i.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const m=this.boundBoxFunc()(r,e);m?e=m:Be.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const s=1e7,o=new gu;o.translate(r.x,r.y),o.rotate(r.rotation),o.scale(r.width/s,r.height/s);const l=new gu,u=e.width/s,d=e.height/s;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(u),Math.abs(d))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(u,d));const h=l.multiply(o.invert());this._nodes.forEach(m=>{var y;if(!m.getStage())return;const x=m.getParent().getAbsoluteTransform(),v=m.getTransform().copy();v.translate(m.offsetX(),m.offsetY());const _=new gu;_.multiply(x.copy().invert()).multiply(h).multiply(x).multiply(v);const C=_.decompose();m.setAttrs(C),(y=m.getLayer())===null||y===void 0||y.batchDraw()}),this.rotation(Be._getRotation(e.rotation)),this._nodes.forEach(m=>{this._fire("transform",{evt:n,target:m}),m._fire("transform",{evt:n,target:m})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(Be._getRotation(n.rotation));const r=n.width,a=n.height,i=this.enabledAnchors(),s=this.resizeEnabled(),o=this.padding(),l=this.anchorSize(),u=this.find("._anchor");u.forEach(h=>{h.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+o,offsetY:l/2+o,visible:s&&i.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+o,visible:s&&i.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-o,offsetY:l/2+o,visible:s&&i.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:a/2,offsetX:l/2+o,visible:s&&i.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:a/2,offsetX:l/2-o,visible:s&&i.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:a,offsetX:l/2+o,offsetY:l/2-o,visible:s&&i.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:a,offsetY:l/2-o,visible:s&&i.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:a,offsetX:l/2-o,offsetY:l/2-o,visible:s&&i.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*Be._sign(a)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:a,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(h=>h.draggable()),x:0,y:0});const d=this.anchorStyleFunc();d&&u.forEach(h=>{d(h)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),oy.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Ot.prototype.toObject.call(this)}clone(e){return Ot.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}lr.isTransforming=()=>CI>0;function Zje(t){return t instanceof Array||Be.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){xC.indexOf(e)===-1&&Be.warn("Unknown anchor name: "+e+". Available names are: "+xC.join(", "))}),t||[]}lr.prototype.className="Transformer";$a(lr);we.addGetterSetter(lr,"enabledAnchors",xC,Zje);we.addGetterSetter(lr,"flipEnabled",!0,Ou());we.addGetterSetter(lr,"resizeEnabled",!0);we.addGetterSetter(lr,"anchorSize",10,Pt());we.addGetterSetter(lr,"rotateEnabled",!0);we.addGetterSetter(lr,"rotateLineVisible",!0);we.addGetterSetter(lr,"rotationSnaps",[]);we.addGetterSetter(lr,"rotateAnchorOffset",50,Pt());we.addGetterSetter(lr,"rotateAnchorCursor","crosshair");we.addGetterSetter(lr,"rotationSnapTolerance",5,Pt());we.addGetterSetter(lr,"borderEnabled",!0);we.addGetterSetter(lr,"anchorStroke","rgb(0, 161, 255)");we.addGetterSetter(lr,"anchorStrokeWidth",1,Pt());we.addGetterSetter(lr,"anchorFill","white");we.addGetterSetter(lr,"anchorCornerRadius",0,Pt());we.addGetterSetter(lr,"borderStroke","rgb(0, 161, 255)");we.addGetterSetter(lr,"borderStrokeWidth",1,Pt());we.addGetterSetter(lr,"borderDash");we.addGetterSetter(lr,"keepRatio",!0);we.addGetterSetter(lr,"shiftBehavior","default");we.addGetterSetter(lr,"centeredScaling",!1);we.addGetterSetter(lr,"ignoreStroke",!1);we.addGetterSetter(lr,"padding",0,Pt());we.addGetterSetter(lr,"nodes");we.addGetterSetter(lr,"node");we.addGetterSetter(lr,"boundBoxFunc");we.addGetterSetter(lr,"anchorDragBoundFunc");we.addGetterSetter(lr,"anchorStyleFunc");we.addGetterSetter(lr,"shouldOverdrawWholeArea",!1);we.addGetterSetter(lr,"useSingleNodeRotation",!0);we.backCompat(lr,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class nh extends _t{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Ft.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}nh.prototype.className="Wedge";nh.prototype._centroid=!0;nh.prototype._attrsAffectingSize=["radius"];$a(nh);we.addGetterSetter(nh,"radius",0,Pt());we.addGetterSetter(nh,"angle",0,Pt());we.addGetterSetter(nh,"clockwise",!1);we.backCompat(nh,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function Vz(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const Jje=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],eOe=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function tOe(t,e){const n=t.data,r=t.width,a=t.height;let i,s,o,l,u,d,h,m,y,x,v,_,C,w,T,E,I,j,O,L;const N=e+e+1,M=r-1,H=a-1,P=e+1,$=P*(P+1)/2,D=new Vz,U=Jje[e],F=eOe[e];let W=null,ee=D,Q=null,K=null;for(let V=1;V<N;V++)ee=ee.next=new Vz,V===P&&(W=ee);ee.next=D,o=s=0;for(let V=0;V<a;V++){_=C=w=T=l=u=d=h=0,m=P*(E=n[s]),y=P*(I=n[s+1]),x=P*(j=n[s+2]),v=P*(O=n[s+3]),l+=$*E,u+=$*I,d+=$*j,h+=$*O,ee=D;for(let Z=0;Z<P;Z++)ee.r=E,ee.g=I,ee.b=j,ee.a=O,ee=ee.next;for(let Z=1;Z<P;Z++)i=s+((M<Z?M:Z)<<2),l+=(ee.r=E=n[i])*(L=P-Z),u+=(ee.g=I=n[i+1])*L,d+=(ee.b=j=n[i+2])*L,h+=(ee.a=O=n[i+3])*L,_+=E,C+=I,w+=j,T+=O,ee=ee.next;Q=D,K=W;for(let Z=0;Z<r;Z++)n[s+3]=O=h*U>>F,O!==0?(O=255/O,n[s]=(l*U>>F)*O,n[s+1]=(u*U>>F)*O,n[s+2]=(d*U>>F)*O):n[s]=n[s+1]=n[s+2]=0,l-=m,u-=y,d-=x,h-=v,m-=Q.r,y-=Q.g,x-=Q.b,v-=Q.a,i=o+((i=Z+e+1)<M?i:M)<<2,_+=Q.r=n[i],C+=Q.g=n[i+1],w+=Q.b=n[i+2],T+=Q.a=n[i+3],l+=_,u+=C,d+=w,h+=T,Q=Q.next,m+=E=K.r,y+=I=K.g,x+=j=K.b,v+=O=K.a,_-=E,C-=I,w-=j,T-=O,K=K.next,s+=4;o+=r}for(let V=0;V<r;V++){C=w=T=_=u=d=h=l=0,s=V<<2,m=P*(E=n[s]),y=P*(I=n[s+1]),x=P*(j=n[s+2]),v=P*(O=n[s+3]),l+=$*E,u+=$*I,d+=$*j,h+=$*O,ee=D;for(let q=0;q<P;q++)ee.r=E,ee.g=I,ee.b=j,ee.a=O,ee=ee.next;let Z=r;for(let q=1;q<=e;q++)s=Z+V<<2,l+=(ee.r=E=n[s])*(L=P-q),u+=(ee.g=I=n[s+1])*L,d+=(ee.b=j=n[s+2])*L,h+=(ee.a=O=n[s+3])*L,_+=E,C+=I,w+=j,T+=O,ee=ee.next,q<H&&(Z+=r);s=V,Q=D,K=W;for(let q=0;q<a;q++)i=s<<2,n[i+3]=O=h*U>>F,O>0?(O=255/O,n[i]=(l*U>>F)*O,n[i+1]=(u*U>>F)*O,n[i+2]=(d*U>>F)*O):n[i]=n[i+1]=n[i+2]=0,l-=m,u-=y,d-=x,h-=v,m-=Q.r,y-=Q.g,x-=Q.b,v-=Q.a,i=V+((i=q+P)<H?i:H)*r<<2,l+=_+=Q.r=n[i],u+=C+=Q.g=n[i+1],d+=w+=Q.b=n[i+2],h+=T+=Q.a=n[i+3],Q=Q.next,m+=E=K.r,y+=I=K.g,x+=j=K.b,v+=O=K.a,_-=E,C-=I,w-=j,T-=O,K=K.next,s+=r}}const nOe=function(e){const n=Math.round(this.blurRadius());n>0&&tOe(e,n)};we.addGetterSetter(Ot,"blurRadius",0,Pt(),we.afterSetFilter);const rOe=function(t){const e=this.brightness()*255,n=t.data,r=n.length;for(let a=0;a<r;a+=4)n[a]+=e,n[a+1]+=e,n[a+2]+=e};we.addGetterSetter(Ot,"brightness",0,Pt(),we.afterSetFilter);const aOe=function(t){const e=this.brightness(),n=t.data,r=n.length;for(let a=0;a<r;a+=4)n[a]=Math.min(255,n[a]*e),n[a+1]=Math.min(255,n[a+1]*e),n[a+2]=Math.min(255,n[a+2]*e)},iOe=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length;let a=150,i=150,s=150;for(let o=0;o<r;o+=4)a=n[o],i=n[o+1],s=n[o+2],a/=255,a-=.5,a*=e,a+=.5,a*=255,i/=255,i-=.5,i*=e,i+=.5,i*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,a=a<0?0:a>255?255:a,i=i<0?0:i>255?255:i,s=s<0?0:s>255?255:s,n[o]=a,n[o+1]=i,n[o+2]=s};we.addGetterSetter(Ot,"contrast",0,Pt(),we.afterSetFilter);const sOe=function(t){var e,n,r,a,i,s,o,l,u;const d=t.data,h=t.width,m=t.height,y=Math.min(1,Math.max(0,(n=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:.5)),x=Math.min(1,Math.max(0,(a=(r=this.embossWhiteLevel)===null||r===void 0?void 0:r.call(this))!==null&&a!==void 0?a:.5)),_=(o={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(s=(i=this.embossDirection)===null||i===void 0?void 0:i.call(this))!==null&&s!==void 0?s:"top-left"])!==null&&o!==void 0?o:315,C=!!((u=(l=this.embossBlend)===null||l===void 0?void 0:l.call(this))!==null&&u!==void 0&&u),w=y*10,T=x*255,E=_*Math.PI/180,I=Math.cos(E),j=Math.sin(E),O=128/1020*w,L=new Uint8ClampedArray(d),N=new Float32Array(h*m);for(let D=0,U=0;U<d.length;U+=4,D++)N[D]=.2126*L[U]+.7152*L[U+1]+.0722*L[U+2];const M=[-1,0,1,-2,0,2,-1,0,1],H=[-1,-2,-1,0,0,0,1,2,1],P=[-h-1,-h,-h+1,-1,0,1,h-1,h,h+1],$=D=>D<0?0:D>255?255:D;for(let D=1;D<m-1;D++)for(let U=1;U<h-1;U++){const F=D*h+U;let W=0,ee=0;W+=N[F+P[0]]*M[0],ee+=N[F+P[0]]*H[0],W+=N[F+P[1]]*M[1],ee+=N[F+P[1]]*H[1],W+=N[F+P[2]]*M[2],ee+=N[F+P[2]]*H[2],W+=N[F+P[3]]*M[3],ee+=N[F+P[3]]*H[3],W+=N[F+P[5]]*M[5],ee+=N[F+P[5]]*H[5],W+=N[F+P[6]]*M[6],ee+=N[F+P[6]]*H[6],W+=N[F+P[7]]*M[7],ee+=N[F+P[7]]*H[7],W+=N[F+P[8]]*M[8],ee+=N[F+P[8]]*H[8];const Q=I*W+j*ee,K=$(T+Q*O),V=F*4;if(C){const Z=K-T;d[V]=$(L[V]+Z),d[V+1]=$(L[V+1]+Z),d[V+2]=$(L[V+2]+Z),d[V+3]=L[V+3]}else d[V]=d[V+1]=d[V+2]=K,d[V+3]=L[V+3]}for(let D=0;D<h;D++){let U=D*4,F=((m-1)*h+D)*4;d[U]=L[U],d[U+1]=L[U+1],d[U+2]=L[U+2],d[U+3]=L[U+3],d[F]=L[F],d[F+1]=L[F+1],d[F+2]=L[F+2],d[F+3]=L[F+3]}for(let D=1;D<m-1;D++){let U=D*h*4,F=(D*h+(h-1))*4;d[U]=L[U],d[U+1]=L[U+1],d[U+2]=L[U+2],d[U+3]=L[U+3],d[F]=L[F],d[F+1]=L[F+1],d[F+2]=L[F+2],d[F+3]=L[F+3]}return t};we.addGetterSetter(Ot,"embossStrength",.5,Pt(),we.afterSetFilter);we.addGetterSetter(Ot,"embossWhiteLevel",.5,Pt(),we.afterSetFilter);we.addGetterSetter(Ot,"embossDirection","top-left",void 0,we.afterSetFilter);we.addGetterSetter(Ot,"embossBlend",!1,void 0,we.afterSetFilter);function AT(t,e,n,r,a){const i=n-e,s=a-r;if(i===0)return r+s/2;if(s===0)return r;let o=(t-e)/i;return o=s*o+r,o}const oOe=function(t){const e=t.data,n=e.length;let r=e[0],a=r,i,s=e[1],o=s,l,u=e[2],d=u,h;const m=this.enhance();if(m===0)return;for(let T=0;T<n;T+=4)i=e[T+0],i<r?r=i:i>a&&(a=i),l=e[T+1],l<s?s=l:l>o&&(o=l),h=e[T+2],h<u?u=h:h>d&&(d=h);a===r&&(a=255,r=0),o===s&&(o=255,s=0),d===u&&(d=255,u=0);let y,x,v,_,C,w;if(m>0)y=a+m*(255-a),x=r-m*(r-0),v=o+m*(255-o),_=s-m*(s-0),C=d+m*(255-d),w=u-m*(u-0);else{const T=(a+r)*.5;y=a+m*(a-T),x=r+m*(r-T);const E=(o+s)*.5;v=o+m*(o-E),_=s+m*(s-E);const I=(d+u)*.5;C=d+m*(d-I),w=u+m*(u-I)}for(let T=0;T<n;T+=4)e[T+0]=AT(e[T+0],r,a,x,y),e[T+1]=AT(e[T+1],s,o,_,v),e[T+2]=AT(e[T+2],u,d,w,C)};we.addGetterSetter(Ot,"enhance",0,Pt(),we.afterSetFilter);const lOe=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const a=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=a,e[r+1]=a,e[r+2]=a}};we.addGetterSetter(Ot,"hue",0,Pt(),we.afterSetFilter);we.addGetterSetter(Ot,"saturation",0,Pt(),we.afterSetFilter);we.addGetterSetter(Ot,"luminance",0,Pt(),we.afterSetFilter);const cOe=function(t){const e=t.data,n=e.length,r=1,a=Math.pow(2,this.saturation()),i=Math.abs(this.hue()+360)%360,s=this.luminance()*127,o=r*a*Math.cos(i*Math.PI/180),l=r*a*Math.sin(i*Math.PI/180),u=.299*r+.701*o+.167*l,d=.587*r-.587*o+.33*l,h=.114*r-.114*o-.497*l,m=.299*r-.299*o-.328*l,y=.587*r+.413*o+.035*l,x=.114*r-.114*o+.293*l,v=.299*r-.3*o+1.25*l,_=.587*r-.586*o-1.05*l,C=.114*r+.886*o-.2*l;let w,T,E,I;for(let j=0;j<n;j+=4)w=e[j+0],T=e[j+1],E=e[j+2],I=e[j+3],e[j+0]=u*w+d*T+h*E+s,e[j+1]=m*w+y*T+x*E+s,e[j+2]=v*w+_*T+C*E+s,e[j+3]=I},uOe=function(t){const e=t.data,n=e.length,r=Math.pow(2,this.value()),a=Math.pow(2,this.saturation()),i=Math.abs(this.hue()+360)%360,s=r*a*Math.cos(i*Math.PI/180),o=r*a*Math.sin(i*Math.PI/180),l=.299*r+.701*s+.167*o,u=.587*r-.587*s+.33*o,d=.114*r-.114*s-.497*o,h=.299*r-.299*s-.328*o,m=.587*r+.413*s+.035*o,y=.114*r-.114*s+.293*o,x=.299*r-.3*s+1.25*o,v=.587*r-.586*s-1.05*o,_=.114*r+.886*s-.2*o;for(let C=0;C<n;C+=4){const w=e[C+0],T=e[C+1],E=e[C+2],I=e[C+3];e[C+0]=l*w+u*T+d*E,e[C+1]=h*w+m*T+y*E,e[C+2]=x*w+v*T+_*E,e[C+3]=I}};we.addGetterSetter(Ot,"hue",0,Pt(),we.afterSetFilter);we.addGetterSetter(Ot,"saturation",0,Pt(),we.afterSetFilter);we.addGetterSetter(Ot,"value",0,Pt(),we.afterSetFilter);const dOe=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]},fOe=function(t,e,n){const r=t.data,a=e.data,i=t.width,s=t.height,o=n.polarCenterX||i/2,l=n.polarCenterY||s/2;let u=Math.sqrt(o*o+l*l),d=i-o,h=s-l;const m=Math.sqrt(d*d+h*h);u=m>u?m:u;const y=s,x=i,v=360/x*Math.PI/180;for(let _=0;_<x;_+=1){const C=Math.sin(_*v),w=Math.cos(_*v);for(let T=0;T<y;T+=1){d=Math.floor(o+u*T/y*w),h=Math.floor(l+u*T/y*C);let E=(h*i+d)*4;const I=r[E+0],j=r[E+1],O=r[E+2],L=r[E+3];E=(_+T*i)*4,a[E+0]=I,a[E+1]=j,a[E+2]=O,a[E+3]=L}}},hOe=function(t,e,n){const r=t.data,a=e.data,i=t.width,s=t.height,o=n.polarCenterX||i/2,l=n.polarCenterY||s/2;let u=Math.sqrt(o*o+l*l),d=i-o,h=s-l;const m=Math.sqrt(d*d+h*h);u=m>u?m:u;const y=s,x=i,v=0;let _,C;for(d=0;d<i;d+=1)for(h=0;h<s;h+=1){const w=d-o,T=h-l,E=Math.sqrt(w*w+T*T)*y/u;let I=(Math.atan2(T,w)*180/Math.PI+360+v)%360;I=I*x/360,_=Math.floor(I),C=Math.floor(E);let j=(C*i+_)*4;const O=r[j+0],L=r[j+1],N=r[j+2],M=r[j+3];j=(h*i+d)*4,a[j+0]=O,a[j+1]=L,a[j+2]=N,a[j+3]=M}},pOe=function(t){const e=t.width,n=t.height;let r,a,i,s,o,l,u,d,h,m,y=Math.round(this.kaleidoscopePower());const x=Math.round(this.kaleidoscopeAngle()),v=Math.floor(e*(x%360)/360);if(y<1)return;const _=Be.createCanvasElement();_.width=e,_.height=n;const C=_.getContext("2d").getImageData(0,0,e,n);Be.releaseCanvas(_),fOe(t,C,{polarCenterX:e/2,polarCenterY:n/2});let w=e/Math.pow(2,y);for(;w<=8;)w=w*2,y-=1;w=Math.ceil(w);let T=w,E=0,I=T,j=1;for(v+w>e&&(E=T,I=0,j=-1),a=0;a<n;a+=1)for(r=E;r!==I;r+=j)i=Math.round(r+v)%e,h=(e*a+i)*4,o=C.data[h+0],l=C.data[h+1],u=C.data[h+2],d=C.data[h+3],m=(e*a+r)*4,C.data[m+0]=o,C.data[m+1]=l,C.data[m+2]=u,C.data[m+3]=d;for(a=0;a<n;a+=1)for(T=Math.floor(w),s=0;s<y;s+=1){for(r=0;r<T+1;r+=1)h=(e*a+r)*4,o=C.data[h+0],l=C.data[h+1],u=C.data[h+2],d=C.data[h+3],m=(e*a+T*2-r-1)*4,C.data[m+0]=o,C.data[m+1]=l,C.data[m+2]=u,C.data[m+3]=d;T*=2}hOe(C,t,{})};we.addGetterSetter(Ot,"kaleidoscopePower",2,Pt(),we.afterSetFilter);we.addGetterSetter(Ot,"kaleidoscopeAngle",0,Pt(),we.afterSetFilter);function $_(t,e,n){let r=(n*t.width+e)*4;const a=[];return a.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),a}function Nx(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function mOe(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function gOe(t,e){const n=$_(t,0,0),r=$_(t,t.width-1,0),a=$_(t,0,t.height-1),i=$_(t,t.width-1,t.height-1),s=e||10;if(Nx(n,r)<s&&Nx(r,i)<s&&Nx(i,a)<s&&Nx(a,n)<s){const o=mOe([r,n,i,a]),l=[];for(let u=0;u<t.width*t.height;u++){const d=Nx(o,[t.data[u*4],t.data[u*4+1],t.data[u*4+2]]);l[u]=d<s?0:255}return l}}function yOe(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function bOe(t,e,n){const r=[1,1,1,1,0,1,1,1,1],a=Math.round(Math.sqrt(r.length)),i=Math.floor(a/2),s=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const u=o*e+l;let d=0;for(let h=0;h<a;h++)for(let m=0;m<a;m++){const y=o+h-i,x=l+m-i;if(y>=0&&y<n&&x>=0&&x<e){const v=y*e+x,_=r[h*a+m];d+=t[v]*_}}s[u]=d===2040?255:0}return s}function xOe(t,e,n){const r=[1,1,1,1,1,1,1,1,1],a=Math.round(Math.sqrt(r.length)),i=Math.floor(a/2),s=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const u=o*e+l;let d=0;for(let h=0;h<a;h++)for(let m=0;m<a;m++){const y=o+h-i,x=l+m-i;if(y>=0&&y<n&&x>=0&&x<e){const v=y*e+x,_=r[h*a+m];d+=t[v]*_}}s[u]=d>=1020?255:0}return s}function vOe(t,e,n){const r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],a=Math.round(Math.sqrt(r.length)),i=Math.floor(a/2),s=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const u=o*e+l;let d=0;for(let h=0;h<a;h++)for(let m=0;m<a;m++){const y=o+h-i,x=l+m-i;if(y>=0&&y<n&&x>=0&&x<e){const v=y*e+x,_=r[h*a+m];d+=t[v]*_}}s[u]=d}return s}const SOe=function(t){const e=this.threshold();let n=gOe(t,e);return n&&(n=bOe(n,t.width,t.height),n=xOe(n,t.width,t.height),n=vOe(n,t.width,t.height),yOe(t,n)),t};we.addGetterSetter(Ot,"threshold",0,Pt(),we.afterSetFilter);const _Oe=function(t){const e=this.noise()*255,n=t.data,r=n.length,a=e/2;for(let i=0;i<r;i+=4)n[i+0]+=a-2*a*Math.random(),n[i+1]+=a-2*a*Math.random(),n[i+2]+=a-2*a*Math.random()};we.addGetterSetter(Ot,"noise",.2,Pt(),we.afterSetFilter);const COe=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,a=Math.ceil(n/e),i=Math.ceil(r/e),s=t.data;if(e<=0){Be.error("pixelSize value can not be <= 0");return}for(let o=0;o<a;o+=1)for(let l=0;l<i;l+=1){let u=0,d=0,h=0,m=0;const y=o*e,x=y+e,v=l*e,_=v+e;let C=0;for(let w=y;w<x;w+=1)if(!(w>=n))for(let T=v;T<_;T+=1){if(T>=r)continue;const E=(n*T+w)*4;u+=s[E+0],d+=s[E+1],h+=s[E+2],m+=s[E+3],C+=1}u=u/C,d=d/C,h=h/C,m=m/C;for(let w=y;w<x;w+=1)if(!(w>=n))for(let T=v;T<_;T+=1){if(T>=r)continue;const E=(n*T+w)*4;s[E+0]=u,s[E+1]=d,s[E+2]=h,s[E+3]=m}}};we.addGetterSetter(Ot,"pixelSize",8,Pt(),we.afterSetFilter);const wOe=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,a=255/e;for(let i=0;i<r;i+=1)n[i]=Math.floor(n[i]/a)*a};we.addGetterSetter(Ot,"levels",.5,Pt(),we.afterSetFilter);const EOe=function(t){const e=t.data,n=e.length,r=this.red(),a=this.green(),i=this.blue();for(let s=0;s<n;s+=4){const o=(.34*e[s]+.5*e[s+1]+.16*e[s+2])/255;e[s]=o*r,e[s+1]=o*a,e[s+2]=o*i,e[s+3]=e[s+3]}};we.addGetterSetter(Ot,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});we.addGetterSetter(Ot,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});we.addGetterSetter(Ot,"blue",0,$Q,we.afterSetFilter);const TOe=function(t){const e=t.data,n=e.length,r=this.red(),a=this.green(),i=this.blue(),s=this.alpha();for(let o=0;o<n;o+=4){const l=1-s;e[o]=r*s+e[o]*l,e[o+1]=a*s+e[o+1]*l,e[o+2]=i*s+e[o+2]*l}};we.addGetterSetter(Ot,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});we.addGetterSetter(Ot,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});we.addGetterSetter(Ot,"blue",0,$Q,we.afterSetFilter);we.addGetterSetter(Ot,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const AOe=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const a=e[r+0],i=e[r+1],s=e[r+2];e[r+0]=Math.min(255,a*.393+i*.769+s*.189),e[r+1]=Math.min(255,a*.349+i*.686+s*.168),e[r+2]=Math.min(255,a*.272+i*.534+s*.131)}},ROe=function(t){const n=t.data;for(let r=0;r<n.length;r+=4){const a=n[r],i=n[r+1],s=n[r+2];.2126*a+.7152*i+.0722*s>=128&&(n[r]=255-a,n[r+1]=255-i,n[r+2]=255-s)}return t},kOe=function(t){const e=this.threshold()*255,n=t.data,r=n.length;for(let a=0;a<r;a+=1)n[a]=n[a]<e?0:255};we.addGetterSetter(Ot,"threshold",.5,Pt(),we.afterSetFilter);ly.Util._assign(ly,{Arc:eh,Arrow:Hg,Circle:Oy,Ellipse:Up,Image:Du,Label:VO,Tag:Ug,Line:th,Path:na,Rect:oS,RegularPolygon:$p,Ring:$g,Sprite:qd,Star:Gp,Text:va,TextPath:Gi,Transformer:lr,Wedge:nh,Filters:{Blur:nOe,Brightness:aOe,Brighten:rOe,Contrast:iOe,Emboss:sOe,Enhance:oOe,Grayscale:lOe,HSL:cOe,HSV:uOe,Invert:dOe,Kaleidoscope:pOe,Mask:SOe,Noise:_Oe,Pixelate:COe,Posterize:wOe,RGB:EOe,RGBA:TOe,Sepia:AOe,Solarize:ROe,Threshold:kOe}});var RT={exports:{}},kT={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wz;function IOe(){return Wz||(Wz=1,(function(t){t.exports=function(e){function n(g,b,k,z){return new bb(g,b,k,z)}function r(){}function a(g){var b="https://react.dev/errors/"+g;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var k=2;k<arguments.length;k++)b+="&args[]="+encodeURIComponent(arguments[k])}return"Minified React error #"+g+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(g){var b=g,k=g;if(g.alternate)for(;b.return;)b=b.return;else{g=b;do b=g,(b.flags&4098)!==0&&(k=b.return),g=b.return;while(g)}return b.tag===3?k:null}function s(g){if(i(g)!==g)throw Error(a(188))}function o(g){var b=g.alternate;if(!b){if(b=i(g),b===null)throw Error(a(188));return b!==g?null:g}for(var k=g,z=b;;){var X=k.return;if(X===null)break;var ne=X.alternate;if(ne===null){if(z=X.return,z!==null){k=z;continue}break}if(X.child===ne.child){for(ne=X.child;ne;){if(ne===k)return s(X),g;if(ne===z)return s(X),b;ne=ne.sibling}throw Error(a(188))}if(k.return!==z.return)k=X,z=ne;else{for(var de=!1,Re=X.child;Re;){if(Re===k){de=!0,k=X,z=ne;break}if(Re===z){de=!0,z=X,k=ne;break}Re=Re.sibling}if(!de){for(Re=ne.child;Re;){if(Re===k){de=!0,k=ne,z=X;break}if(Re===z){de=!0,z=ne,k=X;break}Re=Re.sibling}if(!de)throw Error(a(189))}}if(k.alternate!==z)throw Error(a(190))}if(k.tag!==3)throw Error(a(188));return k.stateNode.current===k?g:b}function l(g){var b=g.tag;if(b===5||b===26||b===27||b===6)return g;for(g=g.child;g!==null;){if(b=l(g),b!==null)return b;g=g.sibling}return null}function u(g){var b=g.tag;if(b===5||b===26||b===27||b===6)return g;for(g=g.child;g!==null;){if(g.tag!==4&&(b=u(g),b!==null))return b;g=g.sibling}return null}function d(g){return g===null||typeof g!="object"?null:(g=ru&&g[ru]||g["@@iterator"],typeof g=="function"?g:null)}function h(g){if(g==null)return null;if(typeof g=="function")return g.$$typeof===Qu?null:g.displayName||g.name||null;if(typeof g=="string")return g;switch(g){case lf:return"Fragment";case uf:return"Profiler";case cf:return"StrictMode";case C0:return"Suspense";case nu:return"SuspenseList";case dm:return"Activity"}if(typeof g=="object")switch(g.$$typeof){case of:return"Portal";case No:return g.displayName||"Context";case um:return(g._context.displayName||"Context")+".Consumer";case vh:var b=g.render;return g=g.displayName,g||(g=b.displayName||b.name||"",g=g!==""?"ForwardRef("+g+")":"ForwardRef"),g;case w0:return b=g.displayName||null,b!==null?b:h(g.type)||"Memo";case ds:b=g._payload,g=g._init;try{return h(g(b))}catch{}}return null}function m(g){return{current:g}}function y(g){0>mf||(g.current=L0[mf],L0[mf]=null,mf--)}function x(g,b){mf++,L0[mf]=g.current,g.current=b}function v(g){return g>>>=0,g===0?32:31-(z0(g)/$3|0)|0}function _(g){var b=g&42;if(b!==0)return b;switch(g&-g){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return g&261888;case 262144:case 524288:case 1048576:case 2097152:return g&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return g&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return g}}function C(g,b,k){var z=g.pendingLanes;if(z===0)return 0;var X=0,ne=g.suspendedLanes,de=g.pingedLanes;g=g.warmLanes;var Re=z&134217727;return Re!==0?(z=Re&~ne,z!==0?X=_(z):(de&=Re,de!==0?X=_(de):k||(k=Re&~g,k!==0&&(X=_(k))))):(Re=z&~ne,Re!==0?X=_(Re):de!==0?X=_(de):k||(k=z&~g,k!==0&&(X=_(k)))),X===0?0:b!==0&&b!==X&&(b&ne)===0&&(ne=X&-X,k=b&-b,ne>=k||ne===32&&(k&4194048)!==0)?b:X}function w(g,b){return(g.pendingLanes&~(g.suspendedLanes&~g.pingedLanes)&b)===0}function T(g,b){switch(g){case 1:case 2:case 4:case 8:case 64:return b+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E(){var g=Ah;return Ah<<=1,(Ah&62914560)===0&&(Ah=4194304),g}function I(g){for(var b=[],k=0;31>k;k++)b.push(g);return b}function j(g,b){g.pendingLanes|=b,b!==268435456&&(g.suspendedLanes=0,g.pingedLanes=0,g.warmLanes=0)}function O(g,b,k,z,X,ne){var de=g.pendingLanes;g.pendingLanes=k,g.suspendedLanes=0,g.pingedLanes=0,g.warmLanes=0,g.expiredLanes&=k,g.entangledLanes&=k,g.errorRecoveryDisabledLanes&=k,g.shellSuspendCounter=0;var Re=g.entanglements,tt=g.expirationTimes,gt=g.hiddenUpdates;for(k=de&~k;0<k;){var It=31-Ms(k),vt=1<<It;Re[It]=0,tt[It]=-1;var Vt=gt[It];if(Vt!==null)for(gt[It]=null,It=0;It<Vt.length;It++){var wn=Vt[It];wn!==null&&(wn.lane&=-536870913)}k&=~vt}z!==0&&L(g,z,0),ne!==0&&X===0&&g.tag!==0&&(g.suspendedLanes|=ne&~(de&~b))}function L(g,b,k){g.pendingLanes|=b,g.suspendedLanes&=~b;var z=31-Ms(b);g.entangledLanes|=b,g.entanglements[z]=g.entanglements[z]|1073741824|k&261930}function N(g,b){var k=g.entangledLanes|=b;for(g=g.entanglements;k;){var z=31-Ms(k),X=1<<z;X&b|g[z]&b&&(g[z]|=b),k&=~X}}function M(g,b){var k=b&-b;return k=(k&42)!==0?1:H(k),(k&(g.suspendedLanes|b))!==0?0:k}function H(g){switch(g){case 2:g=1;break;case 8:g=4;break;case 32:g=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:g=128;break;case 268435456:g=134217728;break;default:g=0}return g}function P(g){return g&=-g,2<g?8<g?(g&134217727)!==0?32:268435456:8:2}function $(g){if(typeof rx=="function"&&V3(g),Ns&&typeof Ns.setStrictMode=="function")try{Ns.setStrictMode(yf,g)}catch{}}function D(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}function U(g){if(G0===void 0)try{throw Error()}catch(k){var b=k.stack.trim().match(/\n( *(at )?)/);G0=b&&b[1]||"",ic=-1<k.stack.indexOf(`
    at`)?" (<anonymous>)":-1<k.stack.indexOf("@")?"@unknown:0:0":""}return`
`+G0+g+ic}function F(g,b){if(!g||vm)return"";vm=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var z={DetermineComponentFrameRoot:function(){try{if(b){var vt=function(){throw Error()};if(Object.defineProperty(vt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(vt,[])}catch(wn){var Vt=wn}Reflect.construct(g,[],vt)}else{try{vt.call()}catch(wn){Vt=wn}g.call(vt.prototype)}}else{try{throw Error()}catch(wn){Vt=wn}(vt=g())&&typeof vt.catch=="function"&&vt.catch(function(){})}}catch(wn){if(wn&&Vt&&typeof wn.stack=="string")return[wn.stack,Vt.stack]}return[null,null]}};z.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var X=Object.getOwnPropertyDescriptor(z.DetermineComponentFrameRoot,"name");X&&X.configurable&&Object.defineProperty(z.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var ne=z.DetermineComponentFrameRoot(),de=ne[0],Re=ne[1];if(de&&Re){var tt=de.split(`
`),gt=Re.split(`
`);for(X=z=0;z<tt.length&&!tt[z].includes("DetermineComponentFrameRoot");)z++;for(;X<gt.length&&!gt[X].includes("DetermineComponentFrameRoot");)X++;if(z===tt.length||X===gt.length)for(z=tt.length-1,X=gt.length-1;1<=z&&0<=X&&tt[z]!==gt[X];)X--;for(;1<=z&&0<=X;z--,X--)if(tt[z]!==gt[X]){if(z!==1||X!==1)do if(z--,X--,0>X||tt[z]!==gt[X]){var It=`
`+tt[z].replace(" at new "," at ");return g.displayName&&It.includes("<anonymous>")&&(It=It.replace("<anonymous>",g.displayName)),It}while(1<=z&&0<=X);break}}}finally{vm=!1,Error.prepareStackTrace=k}return(k=g?g.displayName||g.name:"")?U(k):""}function W(g,b){switch(g.tag){case 26:case 27:case 5:return U(g.type);case 16:return U("Lazy");case 13:return g.child!==b&&b!==null?U("Suspense Fallback"):U("Suspense");case 19:return U("SuspenseList");case 0:case 15:return F(g.type,!1);case 11:return F(g.type.render,!1);case 1:return F(g.type,!0);case 31:return U("Activity");default:return""}}function ee(g){try{var b="",k=null;do b+=W(g,k),k=g,g=g.return;while(g);return b}catch(z){return`
Error generating stack: `+z.message+`
`+z.stack}}function Q(g,b){if(typeof g=="object"&&g!==null){var k=ax.get(g);return k!==void 0?k:(b={value:g,source:b,stack:ee(b)},ax.set(g,b),b)}return{value:g,source:b,stack:ee(b)}}function K(g,b){su[sc++]=Sm,su[sc++]=Dr,Dr=g,Sm=b}function V(g,b,k){zo[co++]=zi,zo[co++]=Sl,zo[co++]=Fo,Fo=g;var z=zi;g=Sl;var X=32-Ms(z)-1;z&=~(1<<X),k+=1;var ne=32-Ms(b)+X;if(30<ne){var de=X-X%5;ne=(z&(1<<de)-1).toString(32),z>>=de,X-=de,zi=1<<32-Ms(b)+X|k<<X|z,Sl=ne+g}else zi=1<<ne|k<<X|z,Sl=g}function Z(g){g.return!==null&&(K(g,1),V(g,1,0))}function q(g){for(;g===Dr;)Dr=su[--sc],su[sc]=null,Sm=su[--sc],su[sc]=null;for(;g===Fo;)Fo=zo[--co],zo[co]=null,Sl=zo[--co],zo[co]=null,zi=zo[--co],zo[co]=null}function te(g,b){zo[co++]=zi,zo[co++]=Sl,zo[co++]=Fo,zi=b.id,Sl=b.overflow,Fo=g}function ae(g,b){x(Fi,b),x(ou,g),x(xi,null),g=i3(b),y(xi),x(xi,g)}function ie(){y(xi),y(ou),y(Fi)}function ce(g){g.memoizedState!==null&&x(_m,g);var b=xi.current,k=Ch(b,g.type);b!==k&&(x(ou,g),x(xi,k))}function pe(g){ou.current===g&&(y(xi),y(ou)),_m.current===g&&(y(_m),Ma?hf._currentValue=ff:hf._currentValue2=ff)}function ge(g){var b=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw le(Q(b,g)),q0}function oe(g,b){if(!Xr)throw Error(a(175));j3(g.stateNode,g.type,g.memoizedProps,b,g)||ge(g,!0)}function ue(g){for(ai=g.return;ai;)switch(ai.tag){case 5:case 31:case 13:hs=!1;return;case 27:case 3:hs=!0;return;default:ai=ai.return}}function he(g){if(!Xr||g!==ai)return!1;if(!Un)return ue(g),Un=!0,!1;var b=g.tag;if(ri?b!==3&&b!==27&&(b!==5||Th(g.type)&&!fs(g.type,g.memoizedProps))&&Qr&&ge(g):b!==3&&(b!==5||Th(g.type)&&!fs(g.type,g.memoizedProps))&&Qr&&ge(g),ue(g),b===13){if(!Xr)throw Error(a(316));if(g=g.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));Qr=Vb(g)}else if(b===31){if(g=g.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));Qr=D3(g)}else Qr=ri&&b===27?C3(g.type,Qr):ai?_3(g.stateNode):null;return!0}function ve(){Xr&&(Qr=ai=null,Un=!1)}function me(){var g=oc;return g!==null&&(Ls===null?Ls=g:Ls.push.apply(Ls,g),oc=null),g}function le(g){oc===null?oc=[g]:oc.push(g)}function Se(g,b,k){Ma?(x(Bo,b._currentValue),b._currentValue=k):(x(Bo,b._currentValue2),b._currentValue2=k)}function be(g){var b=Bo.current;Ma?g._currentValue=b:g._currentValue2=b,y(Bo)}function Te(g,b,k){for(;g!==null;){var z=g.alternate;if((g.childLanes&b)!==b?(g.childLanes|=b,z!==null&&(z.childLanes|=b)):z!==null&&(z.childLanes&b)!==b&&(z.childLanes|=b),g===k)break;g=g.return}}function Ne(g,b,k,z){var X=g.child;for(X!==null&&(X.return=g);X!==null;){var ne=X.dependencies;if(ne!==null){var de=X.child;ne=ne.firstContext;e:for(;ne!==null;){var Re=ne;ne=X;for(var tt=0;tt<b.length;tt++)if(Re.context===b[tt]){ne.lanes|=k,Re=ne.alternate,Re!==null&&(Re.lanes|=k),Te(ne.return,k,g),z||(de=null);break e}ne=Re.next}}else if(X.tag===18){if(de=X.return,de===null)throw Error(a(341));de.lanes|=k,ne=de.alternate,ne!==null&&(ne.lanes|=k),Te(de,k,g),de=null}else de=X.child;if(de!==null)de.return=X;else for(de=X;de!==null;){if(de===g){de=null;break}if(X=de.sibling,X!==null){X.return=de.return,de=X;break}de=de.return}X=de}}function Pe(g,b,k,z){g=null;for(var X=b,ne=!1;X!==null;){if(!ne){if((X.flags&524288)!==0)ne=!0;else if((X.flags&262144)!==0)break}if(X.tag===10){var de=X.alternate;if(de===null)throw Error(a(387));if(de=de.memoizedProps,de!==null){var Re=X.type;Pa(X.pendingProps.value,de.value)||(g!==null?g.push(Re):g=[Re])}}else if(X===_m.current){if(de=X.alternate,de===null)throw Error(a(387));de.memoizedState.memoizedState!==X.memoizedState.memoizedState&&(g!==null?g.push(hf):g=[hf])}X=X.return}g!==null&&Ne(b,g,k,z),b.flags|=262144}function Le(g){for(g=g.firstContext;g!==null;){var b=g.context;if(!Pa(Ma?b._currentValue:b._currentValue2,g.memoizedValue))return!0;g=g.next}return!1}function De(g){Br=g,_l=null,g=g.dependencies,g!==null&&(g.firstContext=null)}function Xe(g){return Ie(Br,g)}function ke(g,b){return Br===null&&De(g),Ie(g,b)}function Ie(g,b){var k=Ma?b._currentValue:b._currentValue2;if(b={context:b,memoizedValue:k,next:null},_l===null){if(g===null)throw Error(a(308));_l=b,g.dependencies={lanes:0,firstContext:b},g.flags|=524288}else _l=_l.next=b;return k}function ye(){return{controller:new W3,data:new Map,refCount:0}}function Ce(g){g.refCount--,g.refCount===0&&vi(oE,function(){g.controller.abort()})}function Me(){}function He(g){g!==Cr&&g.next===null&&(Cr===null?Cm=Cr=g:Cr=Cr.next=g),Ho=!0,Xi||(Xi=!0,ft())}function Qe(g,b){if(!V0&&Ho){V0=!0;do for(var k=!1,z=Cm;z!==null;){if(g!==0){var X=z.pendingLanes;if(X===0)var ne=0;else{var de=z.suspendedLanes,Re=z.pingedLanes;ne=(1<<31-Ms(42|g)+1)-1,ne&=X&~(de&~Re),ne=ne&201326741?ne&201326741|1:ne?ne|2:0}ne!==0&&(k=!0,st(z,ne))}else ne=$n,ne=C(z,z===On?ne:0,z.cancelPendingCommit!==null||z.timeoutHandle!==Ds),(ne&3)===0||w(z,ne)||(k=!0,st(z,ne));z=z.next}while(k);V0=!1}}function Je(){Ge()}function Ge(){Ho=Xi=!1;var g=0;nd!==0&&df()&&(g=nd);for(var b=Ki(),k=null,z=Cm;z!==null;){var X=z.next,ne=it(z,b);ne===0?(z.next=null,k===null?Cm=X:k.next=X,X===null&&(Cr=k)):(k=z,(g!==0||(ne&3)!==0)&&(Ho=!0)),z=X}Ka!==0&&Ka!==5||Qe(g),nd!==0&&(nd=0)}function it(g,b){for(var k=g.suspendedLanes,z=g.pingedLanes,X=g.expirationTimes,ne=g.pendingLanes&-62914561;0<ne;){var de=31-Ms(ne),Re=1<<de,tt=X[de];tt===-1?((Re&k)===0||(Re&z)!==0)&&(X[de]=T(Re,b)):tt<=b&&(g.expiredLanes|=Re),ne&=~Re}if(b=On,k=$n,k=C(g,g===b?k:0,g.cancelPendingCommit!==null||g.timeoutHandle!==Ds),z=g.callbackNode,k===0||g===b&&(Er===2||Er===9)||g.cancelPendingCommit!==null)return z!==null&&z!==null&&B0(z),g.callbackNode=null,g.callbackPriority=0;if((k&3)===0||w(g,k)){if(b=k&-k,b===g.callbackPriority)return b;switch(z!==null&&B0(z),P(k)){case 2:case 8:k=q3;break;case 32:k=xm;break;case 268435456:k=U0;break;default:k=xm}return z=rt.bind(null,g),k=bm(k,z),g.callbackPriority=b,g.callbackNode=k,b}return z!==null&&z!==null&&B0(z),g.callbackPriority=2,g.callbackNode=null,2}function rt(g,b){if(Ka!==0&&Ka!==5)return g.callbackNode=null,g.callbackPriority=0,null;var k=g.callbackNode;if(nc()&&g.callbackNode!==k)return null;var z=$n;return z=C(g,g===On?z:0,g.cancelPendingCommit!==null||g.timeoutHandle!==Ds),z===0?null:(vl(g,z,b),it(g,Ki()),g.callbackNode!=null&&g.callbackNode===k?rt.bind(null,g):null)}function st(g,b){if(nc())return null;vl(g,b,!0)}function ft(){Ib?jb(function(){(Fn&6)!==0?bm(H0,Je):Ge()}):bm(H0,Je)}function qt(){if(nd===0){var g=lu;g===0&&(g=F0,F0<<=1,(F0&261888)===0&&(F0=256)),nd=g}return nd}function Gt(g,b){if(Rh===null){var k=Rh=[];ix=0,lu=qt(),ii={status:"pending",value:void 0,then:function(z){k.push(z)}}}return ix++,b.then(bn,bn),b}function bn(){if(--ix===0&&Rh!==null){ii!==null&&(ii.status="fulfilled");var g=Rh;Rh=null,lu=0,ii=null;for(var b=0;b<g.length;b++)(0,g[b])()}}function zn(g,b){var k=[],z={status:"pending",value:null,reason:null,then:function(X){k.push(X)}};return g.then(function(){z.status="fulfilled",z.value=b;for(var X=0;X<k.length;X++)(0,k[X])(b)},function(X){for(z.status="rejected",z.reason=X,X=0;X<k.length;X++)(0,k[X])(void 0)}),z}function er(){var g=rd.current;return g!==null?g:On.pooledCache}function Wt(g,b){b===null?x(rd,rd.current):x(rd,b.pool)}function Bt(){var g=er();return g===null?null:{parent:Ma?Zr._currentValue:Zr._currentValue2,pool:g}}function hn(g,b){if(Pa(g,b))return!0;if(typeof g!="object"||g===null||typeof b!="object"||b===null)return!1;var k=Object.keys(g),z=Object.keys(b);if(k.length!==z.length)return!1;for(z=0;z<k.length;z++){var X=k[z];if(!sE.call(b,X)||!Pa(g[X],b[X]))return!1}return!0}function _n(g){return g=g.status,g==="fulfilled"||g==="rejected"}function Cn(g,b,k){switch(k=g[k],k===void 0?g.push(b):k!==b&&(b.then(Me,Me),b=k),b.status){case"fulfilled":return b.value;case"rejected":throw g=b.reason,wt(g),g;default:if(typeof b.status=="string")b.then(Me,Me);else{if(g=On,g!==null&&100<g.shellSuspendCounter)throw Error(a(482));g=b,g.status="pending",g.then(function(z){if(b.status==="pending"){var X=b;X.status="fulfilled",X.value=z}},function(z){if(b.status==="pending"){var X=b;X.status="rejected",X.reason=z}})}switch(b.status){case"fulfilled":return b.value;case"rejected":throw g=b.reason,wt(g),g}throw ps=b,si}}function Ut(g){try{var b=g._init;return b(g._payload)}catch(k){throw k!==null&&typeof k=="object"&&typeof k.then=="function"?(ps=k,si):k}}function Nn(){if(ps===null)throw Error(a(459));var g=ps;return ps=null,g}function wt(g){if(g===si||g===$o)throw Error(a(483))}function Dt(g){var b=bf;return bf+=1,ad===null&&(ad=[]),Cn(ad,g,b)}function an(g,b){b=b.props.ref,g.ref=b!==void 0?b:null}function rn(g,b){throw b.$$typeof===sf?Error(a(525)):(g=Object.prototype.toString.call(b),Error(a(31,g==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":g)))}function Rn(g){function b(Ye,Fe){if(g){var et=Ye.deletions;et===null?(Ye.deletions=[Fe],Ye.flags|=16):et.push(Fe)}}function k(Ye,Fe){if(!g)return null;for(;Fe!==null;)b(Ye,Fe),Fe=Fe.sibling;return null}function z(Ye){for(var Fe=new Map;Ye!==null;)Ye.key!==null?Fe.set(Ye.key,Ye):Fe.set(Ye.index,Ye),Ye=Ye.sibling;return Fe}function X(Ye,Fe){return Ye=oo(Ye,Fe),Ye.index=0,Ye.sibling=null,Ye}function ne(Ye,Fe,et){return Ye.index=et,g?(et=Ye.alternate,et!==null?(et=et.index,et<Fe?(Ye.flags|=67108866,Fe):et):(Ye.flags|=67108866,Fe)):(Ye.flags|=1048576,Fe)}function de(Ye){return g&&Ye.alternate===null&&(Ye.flags|=67108866),Ye}function Re(Ye,Fe,et,Et){return Fe===null||Fe.tag!==6?(Fe=xb(et,Ye.mode,Et),Fe.return=Ye,Fe):(Fe=X(Fe,et),Fe.return=Ye,Fe)}function tt(Ye,Fe,et,Et){var cn=et.type;return cn===lf?It(Ye,Fe,et.props.children,Et,et.key):Fe!==null&&(Fe.elementType===cn||typeof cn=="object"&&cn!==null&&cn.$$typeof===ds&&Ut(cn)===Fe.type)?(Fe=X(Fe,et.props),an(Fe,et),Fe.return=Ye,Fe):(Fe=tu(et.type,et.key,et.props,null,Ye.mode,Et),an(Fe,et),Fe.return=Ye,Fe)}function gt(Ye,Fe,et,Et){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==et.containerInfo||Fe.stateNode.implementation!==et.implementation?(Fe=Sb(et,Ye.mode,Et),Fe.return=Ye,Fe):(Fe=X(Fe,et.children||[]),Fe.return=Ye,Fe)}function It(Ye,Fe,et,Et,cn){return Fe===null||Fe.tag!==7?(Fe=Mo(et,Ye.mode,Et,cn),Fe.return=Ye,Fe):(Fe=X(Fe,et),Fe.return=Ye,Fe)}function vt(Ye,Fe,et){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Fe=xb(""+Fe,Ye.mode,et),Fe.return=Ye,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case rc:return et=tu(Fe.type,Fe.key,Fe.props,null,Ye.mode,et),an(et,Fe),et.return=Ye,et;case of:return Fe=Sb(Fe,Ye.mode,et),Fe.return=Ye,Fe;case ds:return Fe=Ut(Fe),vt(Ye,Fe,et)}if(Zu(Fe)||d(Fe))return Fe=Mo(Fe,Ye.mode,et,null),Fe.return=Ye,Fe;if(typeof Fe.then=="function")return vt(Ye,Dt(Fe),et);if(Fe.$$typeof===No)return vt(Ye,ke(Ye,Fe),et);rn(Ye,Fe)}return null}function Vt(Ye,Fe,et,Et){var cn=Fe!==null?Fe.key:null;if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return cn!==null?null:Re(Ye,Fe,""+et,Et);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case rc:return et.key===cn?tt(Ye,Fe,et,Et):null;case of:return et.key===cn?gt(Ye,Fe,et,Et):null;case ds:return et=Ut(et),Vt(Ye,Fe,et,Et)}if(Zu(et)||d(et))return cn!==null?null:It(Ye,Fe,et,Et,null);if(typeof et.then=="function")return Vt(Ye,Fe,Dt(et),Et);if(et.$$typeof===No)return Vt(Ye,Fe,ke(Ye,et),Et);rn(Ye,et)}return null}function wn(Ye,Fe,et,Et,cn){if(typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint")return Ye=Ye.get(et)||null,Re(Fe,Ye,""+Et,cn);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case rc:return Ye=Ye.get(Et.key===null?et:Et.key)||null,tt(Fe,Ye,Et,cn);case of:return Ye=Ye.get(Et.key===null?et:Et.key)||null,gt(Fe,Ye,Et,cn);case ds:return Et=Ut(Et),wn(Ye,Fe,et,Et,cn)}if(Zu(Et)||d(Et))return Ye=Ye.get(et)||null,It(Fe,Ye,Et,cn,null);if(typeof Et.then=="function")return wn(Ye,Fe,et,Dt(Et),cn);if(Et.$$typeof===No)return wn(Ye,Fe,et,ke(Fe,Et),cn);rn(Fe,Et)}return null}function Si(Ye,Fe,et,Et){for(var cn=null,ga=null,dn=Fe,tr=Fe=0,_i=null;dn!==null&&tr<et.length;tr++){dn.index>tr?(_i=dn,dn=null):_i=dn.sibling;var dr=Vt(Ye,dn,et[tr],Et);if(dr===null){dn===null&&(dn=_i);break}g&&dn&&dr.alternate===null&&b(Ye,dn),Fe=ne(dr,Fe,tr),ga===null?cn=dr:ga.sibling=dr,ga=dr,dn=_i}if(tr===et.length)return k(Ye,dn),Un&&K(Ye,tr),cn;if(dn===null){for(;tr<et.length;tr++)dn=vt(Ye,et[tr],Et),dn!==null&&(Fe=ne(dn,Fe,tr),ga===null?cn=dn:ga.sibling=dn,ga=dn);return Un&&K(Ye,tr),cn}for(dn=z(dn);tr<et.length;tr++)_i=wn(dn,Ye,tr,et[tr],Et),_i!==null&&(g&&_i.alternate!==null&&dn.delete(_i.key===null?tr:_i.key),Fe=ne(_i,Fe,tr),ga===null?cn=_i:ga.sibling=_i,ga=_i);return g&&dn.forEach(function(Vo){return b(Ye,Vo)}),Un&&K(Ye,tr),cn}function Ph(Ye,Fe,et,Et){if(et==null)throw Error(a(151));for(var cn=null,ga=null,dn=Fe,tr=Fe=0,_i=null,dr=et.next();dn!==null&&!dr.done;tr++,dr=et.next()){dn.index>tr?(_i=dn,dn=null):_i=dn.sibling;var Vo=Vt(Ye,dn,dr.value,Et);if(Vo===null){dn===null&&(dn=_i);break}g&&dn&&Vo.alternate===null&&b(Ye,dn),Fe=ne(Vo,Fe,tr),ga===null?cn=Vo:ga.sibling=Vo,ga=Vo,dn=_i}if(dr.done)return k(Ye,dn),Un&&K(Ye,tr),cn;if(dn===null){for(;!dr.done;tr++,dr=et.next())dr=vt(Ye,dr.value,Et),dr!==null&&(Fe=ne(dr,Fe,tr),ga===null?cn=dr:ga.sibling=dr,ga=dr);return Un&&K(Ye,tr),cn}for(dn=z(dn);!dr.done;tr++,dr=et.next())dr=wn(dn,Ye,tr,dr.value,Et),dr!==null&&(g&&dr.alternate!==null&&dn.delete(dr.key===null?tr:dr.key),Fe=ne(dr,Fe,tr),ga===null?cn=dr:ga.sibling=dr,ga=dr);return g&&dn.forEach(function(lE){return b(Ye,lE)}),Un&&K(Ye,tr),cn}function fd(Ye,Fe,et,Et){if(typeof et=="object"&&et!==null&&et.type===lf&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case rc:e:{for(var cn=et.key;Fe!==null;){if(Fe.key===cn){if(cn=et.type,cn===lf){if(Fe.tag===7){k(Ye,Fe.sibling),Et=X(Fe,et.props.children),Et.return=Ye,Ye=Et;break e}}else if(Fe.elementType===cn||typeof cn=="object"&&cn!==null&&cn.$$typeof===ds&&Ut(cn)===Fe.type){k(Ye,Fe.sibling),Et=X(Fe,et.props),an(Et,et),Et.return=Ye,Ye=Et;break e}k(Ye,Fe);break}else b(Ye,Fe);Fe=Fe.sibling}et.type===lf?(Et=Mo(et.props.children,Ye.mode,Et,et.key),Et.return=Ye,Ye=Et):(Et=tu(et.type,et.key,et.props,null,Ye.mode,Et),an(Et,et),Et.return=Ye,Ye=Et)}return de(Ye);case of:e:{for(cn=et.key;Fe!==null;){if(Fe.key===cn)if(Fe.tag===4&&Fe.stateNode.containerInfo===et.containerInfo&&Fe.stateNode.implementation===et.implementation){k(Ye,Fe.sibling),Et=X(Fe,et.children||[]),Et.return=Ye,Ye=Et;break e}else{k(Ye,Fe);break}else b(Ye,Fe);Fe=Fe.sibling}Et=Sb(et,Ye.mode,Et),Et.return=Ye,Ye=Et}return de(Ye);case ds:return et=Ut(et),fd(Ye,Fe,et,Et)}if(Zu(et))return Si(Ye,Fe,et,Et);if(d(et)){if(cn=d(et),typeof cn!="function")throw Error(a(150));return et=cn.call(et),Ph(Ye,Fe,et,Et)}if(typeof et.then=="function")return fd(Ye,Fe,Dt(et),Et);if(et.$$typeof===No)return fd(Ye,Fe,ke(Ye,et),Et);rn(Ye,et)}return typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint"?(et=""+et,Fe!==null&&Fe.tag===6?(k(Ye,Fe.sibling),Et=X(Fe,et),Et.return=Ye,Ye=Et):(k(Ye,Fe),Et=xb(et,Ye.mode,Et),Et.return=Ye,Ye=Et),de(Ye)):k(Ye,Fe)}return function(Ye,Fe,et,Et){try{bf=0;var cn=fd(Ye,Fe,et,Et);return ad=null,cn}catch(dn){if(dn===si||dn===$o)throw dn;var ga=n(29,dn,null,Ye.mode);return ga.lanes=Et,ga.return=Ye,ga}finally{}}}function cr(){for(var g=cc,b=xf=cc=0;b<g;){var k=Hi[b];Hi[b++]=null;var z=Hi[b];Hi[b++]=null;var X=Hi[b];Hi[b++]=null;var ne=Hi[b];if(Hi[b++]=null,z!==null&&X!==null){var de=z.pending;de===null?X.next=X:(X.next=de.next,de.next=X),z.pending=X}ne!==0&&Yr(k,X,ne)}}function vr(g,b,k,z){Hi[cc++]=g,Hi[cc++]=b,Hi[cc++]=k,Hi[cc++]=z,xf|=z,g.lanes|=z,g=g.alternate,g!==null&&(g.lanes|=z)}function jr(g,b,k,z){return vr(g,b,k,z),Sr(g)}function sa(g,b){return vr(g,null,null,b),Sr(g)}function Yr(g,b,k){g.lanes|=k;var z=g.alternate;z!==null&&(z.lanes|=k);for(var X=!1,ne=g.return;ne!==null;)ne.childLanes|=k,z=ne.alternate,z!==null&&(z.childLanes|=k),ne.tag===22&&(g=ne.stateNode,g===null||g._visibility&1||(X=!0)),g=ne,ne=ne.return;return g.tag===3?(ne=g.stateNode,X&&b!==null&&(X=31-Ms(k),g=ne.hiddenUpdates,z=g[X],z===null?g[X]=[b]:z.push(b),b.lane=k|536870912),ne):null}function Sr(g){if(50<ar)throw ar=0,km=null,Error(a(185));for(var b=g.return;b!==null;)g=b,b=g.return;return g.tag===3?g.stateNode:null}function oa(g){g.updateQueue={baseState:g.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ji(g,b){g=g.updateQueue,b.updateQueue===g&&(b.updateQueue={baseState:g.baseState,firstBaseUpdate:g.firstBaseUpdate,lastBaseUpdate:g.lastBaseUpdate,shared:g.shared,callbacks:null})}function ti(g){return{lane:g,tag:0,payload:null,callback:null,next:null}}function Oi(g,b,k){var z=g.updateQueue;if(z===null)return null;if(z=z.shared,(Fn&2)!==0){var X=z.pending;return X===null?b.next=b:(b.next=X.next,X.next=b),z.pending=b,b=Sr(g),Yr(g,null,k),b}return vr(g,z,b,k),Sr(g)}function ll(g,b,k){if(b=b.updateQueue,b!==null&&(b=b.shared,(k&4194048)!==0)){var z=b.lanes;z&=g.pendingLanes,k|=z,b.lanes=k,N(g,k)}}function Ks(g,b){var k=g.updateQueue,z=g.alternate;if(z!==null&&(z=z.updateQueue,k===z)){var X=null,ne=null;if(k=k.firstBaseUpdate,k!==null){do{var de={lane:k.lane,tag:k.tag,payload:k.payload,callback:null,next:null};ne===null?X=ne=de:ne=ne.next=de,k=k.next}while(k!==null);ne===null?X=ne=b:ne=ne.next=b}else X=ne=b;k={baseState:z.baseState,firstBaseUpdate:X,lastBaseUpdate:ne,shared:z.shared,callbacks:z.callbacks},g.updateQueue=k;return}g=k.lastBaseUpdate,g===null?k.firstBaseUpdate=b:g.next=b,k.lastBaseUpdate=b}function hi(){if(Y0){var g=ii;if(g!==null)throw g}}function Vi(g,b,k,z){Y0=!1;var X=g.updateQueue;uo=!1;var ne=X.firstBaseUpdate,de=X.lastBaseUpdate,Re=X.shared.pending;if(Re!==null){X.shared.pending=null;var tt=Re,gt=tt.next;tt.next=null,de===null?ne=gt:de.next=gt,de=tt;var It=g.alternate;It!==null&&(It=It.updateQueue,Re=It.lastBaseUpdate,Re!==de&&(Re===null?It.firstBaseUpdate=gt:Re.next=gt,It.lastBaseUpdate=tt))}if(ne!==null){var vt=X.baseState;de=0,It=gt=tt=null,Re=ne;do{var Vt=Re.lane&-536870913,wn=Vt!==Re.lane;if(wn?($n&Vt)===Vt:(z&Vt)===Vt){Vt!==0&&Vt===lu&&(Y0=!0),It!==null&&(It=It.next={lane:0,tag:Re.tag,payload:Re.payload,callback:null,next:null});e:{var Si=g,Ph=Re;Vt=b;var fd=k;switch(Ph.tag){case 1:if(Si=Ph.payload,typeof Si=="function"){vt=Si.call(fd,vt,Vt);break e}vt=Si;break e;case 3:Si.flags=Si.flags&-65537|128;case 0:if(Si=Ph.payload,Vt=typeof Si=="function"?Si.call(fd,vt,Vt):Si,Vt==null)break e;vt=_0({},vt,Vt);break e;case 2:uo=!0}}Vt=Re.callback,Vt!==null&&(g.flags|=64,wn&&(g.flags|=8192),wn=X.callbacks,wn===null?X.callbacks=[Vt]:wn.push(Vt))}else wn={lane:Vt,tag:Re.tag,payload:Re.payload,callback:Re.callback,next:null},It===null?(gt=It=wn,tt=vt):It=It.next=wn,de|=Vt;if(Re=Re.next,Re===null){if(Re=X.shared.pending,Re===null)break;wn=Re,Re=wn.next,wn.next=null,X.lastBaseUpdate=wn,X.shared.pending=null}}while(!0);It===null&&(tt=vt),X.baseState=tt,X.firstBaseUpdate=gt,X.lastBaseUpdate=It,ne===null&&(X.shared.lanes=0),uu|=de,g.lanes=de,g.memoizedState=vt}}function Xs(g,b){if(typeof g!="function")throw Error(a(191,g));g.call(b)}function Es(g,b){var k=g.callbacks;if(k!==null)for(g.callbacks=null,g=0;g<k.length;g++)Xs(k[g],b)}function Qs(g,b){g=dc,x(id,g),x(vf,b),dc=g|b.baseLanes}function Ts(){x(id,dc),x(vf,vf.current)}function Nr(){dc=id.current,y(vf),y(id)}function pi(g){var b=g.alternate;x(Ca,Ca.current&1),x(Ps,g),ms===null&&(b===null||vf.current!==null||b.memoizedState!==null)&&(ms=g)}function Zs(g){x(Ca,Ca.current),x(Ps,g),ms===null&&(ms=g)}function Di(g){g.tag===22?(x(Ca,Ca.current),x(Ps,g),ms===null&&(ms=g)):la()}function la(){x(Ca,Ca.current),x(Ps,Ps.current)}function Ga(g){y(Ps),ms===g&&(ms=null),y(Ca)}function As(g){for(var b=g;b!==null;){if(b.tag===13){var k=b.memoizedState;if(k!==null&&(k=k.dehydrated,k===null||ed(k)||I0(k)))return b}else if(b.tag===19&&(b.memoizedProps.revealOrder==="forwards"||b.memoizedProps.revealOrder==="backwards"||b.memoizedProps.revealOrder==="unstable_legacy-backwards"||b.memoizedProps.revealOrder==="together")){if((b.flags&128)!==0)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===g)break;for(;b.sibling===null;){if(b.return===null||b.return===g)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}function ur(){throw Error(a(321))}function Rs(g,b){if(b===null)return!1;for(var k=0;k<b.length&&k<g.length;k++)if(!Pa(g[k],b[k]))return!1;return!0}function Js(g,b,k,z,X,ne){return cu=ne,Tn=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,on.H=g===null||g.memoizedState===null?ha:uc,Kn=!1,ne=k(z,X),Kn=!1,kn&&(ne=Mi(b,k,z,X)),Eo(g),ne}function Eo(g){on.H=fo;var b=tn!==null&&tn.next!==null;if(cu=0,xn=tn=Tn=null,jn=!1,Go=0,Cl=null,b)throw Error(a(300));g===null||Gr||(g=g.dependencies,g!==null&&Le(g)&&(Gr=!0))}function Mi(g,b,k,z){Tn=g;var X=0;do{if(kn&&(Cl=null),Go=0,kn=!1,25<=X)throw Error(a(301));if(X+=1,xn=tn=null,g.updateQueue!=null){var ne=g.updateQueue;ne.lastEffect=null,ne.events=null,ne.stores=null,ne.memoCache!=null&&(ne.memoCache.index=0)}on.H=sd,ne=b(k,z)}while(kn);return ne}function Ni(){var g=on.H,b=g.useState()[0];return b=typeof b.then=="function"?Oa(b):b,g=g.useState()[0],(tn!==null?tn.memoizedState:null)!==g&&(Tn.flags|=1024),b}function zu(){var g=Qi!==0;return Qi=0,g}function Ll(g,b,k){b.updateQueue=g.updateQueue,b.flags&=-2053,g.lanes&=~k}function Gc(g){if(jn){for(g=g.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}jn=!1}cu=0,xn=tn=Tn=null,kn=!1,Go=Qi=0,Cl=null}function ja(){var g={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?Tn.memoizedState=xn=g:xn=xn.next=g,xn}function mr(){if(tn===null){var g=Tn.alternate;g=g!==null?g.memoizedState:null}else g=tn.next;var b=xn===null?Tn.memoizedState:xn.next;if(b!==null)xn=b,tn=g;else{if(g===null)throw Tn.alternate===null?Error(a(467)):Error(a(310));tn=g,g={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},xn===null?Tn.memoizedState=xn=g:xn=xn.next=g}return xn}function cl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oa(g){var b=Go;return Go+=1,Cl===null&&(Cl=[]),g=Cn(Cl,g,b),b=Tn,(xn===null?b.memoizedState:xn.next)===null&&(b=b.alternate,on.H=b===null||b.memoizedState===null?ha:uc),g}function eo(g){if(g!==null&&typeof g=="object"){if(typeof g.then=="function")return Oa(g);if(g.$$typeof===No)return Xe(g)}throw Error(a(438,String(g)))}function ul(g){var b=null,k=Tn.updateQueue;if(k!==null&&(b=k.memoCache),b==null){var z=Tn.alternate;z!==null&&(z=z.updateQueue,z!==null&&(z=z.memoCache,z!=null&&(b={data:z.data.map(function(X){return X.slice()}),index:0})))}if(b==null&&(b={data:[],index:0}),k===null&&(k=cl(),Tn.updateQueue=k),k.memoCache=b,k=b.data[b.index],k===void 0)for(k=b.data[b.index]=Array(g),z=0;z<g;z++)k[z]=Cb;return b.index++,k}function mi(g,b){return typeof b=="function"?b(g):b}function to(g){var b=mr();return qc(b,tn,g)}function qc(g,b,k){var z=g.queue;if(z===null)throw Error(a(311));z.lastRenderedReducer=k;var X=g.baseQueue,ne=z.pending;if(ne!==null){if(X!==null){var de=X.next;X.next=ne.next,ne.next=de}b.baseQueue=X=ne,z.pending=null}if(ne=g.baseState,X===null)g.memoizedState=ne;else{b=X.next;var Re=de=null,tt=null,gt=b,It=!1;do{var vt=gt.lane&-536870913;if(vt!==gt.lane?($n&vt)===vt:(cu&vt)===vt){var Vt=gt.revertLane;if(Vt===0)tt!==null&&(tt=tt.next={lane:0,revertLane:0,gesture:null,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null}),vt===lu&&(It=!0);else if((cu&Vt)===Vt){gt=gt.next,Vt===lu&&(It=!0);continue}else vt={lane:0,revertLane:gt.revertLane,gesture:null,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null},tt===null?(Re=tt=vt,de=ne):tt=tt.next=vt,Tn.lanes|=Vt,uu|=Vt;vt=gt.action,Kn&&k(ne,vt),ne=gt.hasEagerState?gt.eagerState:k(ne,vt)}else Vt={lane:vt,revertLane:gt.revertLane,gesture:gt.gesture,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null},tt===null?(Re=tt=Vt,de=ne):tt=tt.next=Vt,Tn.lanes|=vt,uu|=vt;gt=gt.next}while(gt!==null&&gt!==b);if(tt===null?de=ne:tt.next=Re,!Pa(ne,g.memoizedState)&&(Gr=!0,It&&(k=ii,k!==null)))throw k;g.memoizedState=ne,g.baseState=de,g.baseQueue=tt,z.lastRenderedState=ne}return X===null&&(z.lanes=0),[g.memoizedState,z.dispatch]}function dl(g){var b=mr(),k=b.queue;if(k===null)throw Error(a(311));k.lastRenderedReducer=g;var z=k.dispatch,X=k.pending,ne=b.memoizedState;if(X!==null){k.pending=null;var de=X=X.next;do ne=g(ne,de.action),de=de.next;while(de!==X);Pa(ne,b.memoizedState)||(Gr=!0),b.memoizedState=ne,b.baseQueue===null&&(b.baseState=ne),k.lastRenderedState=ne}return[ne,z]}function fl(g,b,k){var z=Tn,X=mr(),ne=Un;if(ne){if(k===void 0)throw Error(a(407));k=k()}else k=b();var de=!Pa((tn||X).memoizedState,k);if(de&&(X.memoizedState=k,Gr=!0),X=X.queue,xl(Fl.bind(null,z,X,g),[g]),X.getSnapshot!==b||de||xn!==null&&xn.memoizedState.tag&1){if(z.flags|=2048,qa(9,{destroy:void 0},zl.bind(null,z,X,k,b),null),On===null)throw Error(a(349));ne||(cu&127)!==0||Vc(z,b,k)}return k}function Vc(g,b,k){g.flags|=16384,g={getSnapshot:b,value:k},b=Tn.updateQueue,b===null?(b=cl(),Tn.updateQueue=b,b.stores=[g]):(k=b.stores,k===null?b.stores=[g]:k.push(g))}function zl(g,b,k,z){b.value=k,b.getSnapshot=z,Fu(b)&&Qd(g)}function Fl(g,b,k){return k(function(){Fu(b)&&Qd(g)})}function Fu(g){var b=g.getSnapshot;g=g.value;try{var k=b();return!Pa(g,k)}catch{return!0}}function Qd(g){var b=sa(g,2);b!==null&&da(b,g,2)}function Bl(g){var b=ja();if(typeof g=="function"){var k=g;if(g=k(),Kn){$(!0);try{k()}finally{$(!1)}}}return b.memoizedState=b.baseState=g,b.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:g},b}function Wc(g,b,k,z){return g.baseState=k,qc(g,tn,typeof z=="function"?z:mi)}function Wi(g,b,k,z,X){if(n0(g))throw Error(a(485));if(g=b.action,g!==null){var ne={payload:X,action:g,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(de){ne.listeners.push(de)}};on.T!==null?k(!0):ne.isTransition=!1,z(ne),k=b.pending,k===null?(ne.next=b.pending=ne,hl(b,ne)):(ne.next=k.next,b.pending=k.next=ne)}}function hl(g,b){var k=b.action,z=b.payload,X=g.state;if(b.isTransition){var ne=on.T,de={};on.T=de;try{var Re=k(X,z),tt=on.S;tt!==null&&tt(de,Re),pl(g,b,Re)}catch(gt){no(g,b,gt)}finally{ne!==null&&de.types!==null&&(ne.types=de.types),on.T=ne}}else try{ne=k(X,z),pl(g,b,ne)}catch(gt){no(g,b,gt)}}function pl(g,b,k){k!==null&&typeof k=="object"&&typeof k.then=="function"?k.then(function(z){ml(g,b,z)},function(z){return no(g,b,z)}):ml(g,b,k)}function ml(g,b,k){b.status="fulfilled",b.value=k,Hl(b),g.state=k,b=g.pending,b!==null&&(k=b.next,k===b?g.pending=null:(k=k.next,b.next=k,hl(g,k)))}function no(g,b,k){var z=g.pending;if(g.pending=null,z!==null){z=z.next;do b.status="rejected",b.reason=k,Hl(b),b=b.next;while(b!==z)}g.action=null}function Hl(g){g=g.listeners;for(var b=0;b<g.length;b++)(0,g[b])()}function Bu(g,b){return b}function Ul(g,b){if(Un){var k=On.formState;if(k!==null){e:{var z=Tn;if(Un){if(Qr){var X=S3(Qr,hs);if(X){Qr=_3(X),z=Ub(X);break e}}ge(z)}z=!1}z&&(b=k[0])}}k=ja(),k.memoizedState=k.baseState=b,z={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bu,lastRenderedState:b},k.queue=z,k=DS.bind(null,Tn,z),z.dispatch=k,z=Bl(!1);var ne=t0.bind(null,Tn,!1,z.queue);return z=ja(),X={state:b,dispatch:null,action:g,pending:null},z.queue=X,k=Wi.bind(null,Tn,X,ne,k),X.dispatch=k,z.memoizedState=g,[b,k,!1]}function ro(g){var b=mr();return Pi(b,tn,g)}function Pi(g,b,k){if(b=qc(g,b,Bu)[0],g=to(mi)[0],typeof b=="object"&&b!==null&&typeof b.then=="function")try{var z=Oa(b)}catch(de){throw de===si?$o:de}else z=b;b=mr();var X=b.queue,ne=X.dispatch;return k!==b.memoizedState&&(Tn.flags|=2048,qa(9,{destroy:void 0},$l.bind(null,X,k),null)),[z,ne,g]}function $l(g,b){g.action=b}function gl(g){var b=mr(),k=tn;if(k!==null)return Pi(b,k,g);mr(),b=b.memoizedState,k=mr();var z=k.queue.dispatch;return k.memoizedState=g,[b,z,!1]}function qa(g,b,k,z){return g={tag:g,create:k,deps:z,inst:b,next:null},b=Tn.updateQueue,b===null&&(b=cl(),Tn.updateQueue=b),k=b.lastEffect,k===null?b.lastEffect=g.next=g:(z=k.next,k.next=g,g.next=z,b.lastEffect=g),g}function yl(){return mr().memoizedState}function bl(g,b,k,z){var X=ja();Tn.flags|=g,X.memoizedState=qa(1|b,{destroy:void 0},k,z===void 0?null:z)}function To(g,b,k,z){var X=mr();z=z===void 0?null:z;var ne=X.memoizedState.inst;tn!==null&&z!==null&&Rs(z,tn.memoizedState.deps)?X.memoizedState=qa(b,ne,k,z):(Tn.flags|=g,X.memoizedState=qa(1|b,ne,k,z))}function Ao(g,b){bl(8390656,8,g,b)}function xl(g,b){To(2048,8,g,b)}function Yc(g){Tn.flags|=4;var b=Tn.updateQueue;if(b===null)b=cl(),Tn.updateQueue=b,b.events=[g];else{var k=b.events;k===null?b.events=[g]:k.push(g)}}function Sa(g){var b=mr().memoizedState;return Yc({ref:b,nextImpl:g}),function(){if((Fn&2)!==0)throw Error(a(440));return b.impl.apply(void 0,arguments)}}function ls(g,b){return To(4,2,g,b)}function Ro(g,b){return To(4,4,g,b)}function ao(g,b){if(typeof b=="function"){g=g();var k=b(g);return function(){typeof k=="function"?k():b(null)}}if(b!=null)return g=g(),b.current=g,function(){b.current=null}}function Kc(g,b,k){k=k!=null?k.concat([g]):null,To(4,4,ao.bind(null,b,g),k)}function Gl(){}function _r(g,b){var k=mr();b=b===void 0?null:b;var z=k.memoizedState;return b!==null&&Rs(b,z[1])?z[0]:(k.memoizedState=[g,b],g)}function ca(g,b){var k=mr();b=b===void 0?null:b;var z=k.memoizedState;if(b!==null&&Rs(b,z[1]))return z[0];if(z=g(),Kn){$(!0);try{g()}finally{$(!1)}}return k.memoizedState=[z,b],z}function Da(g,b,k){return k===void 0||(cu&1073741824)!==0&&($n&261930)===0?g.memoizedState=b:(g.memoizedState=k,g=Zc(),Tn.lanes|=g,uu|=g,k)}function ql(g,b,k,z){return Pa(k,b)?k:vf.current!==null?(g=Da(g,k,z),Pa(g,b)||(Gr=!0),g):(cu&42)===0||(cu&1073741824)!==0&&($n&261930)===0?(Gr=!0,g.memoizedState=k):(g=Zc(),Tn.lanes|=g,uu|=g,b)}function Kp(g,b,k,z,X){var ne=Po();Hn(ne!==0&&8>ne?ne:8);var de=on.T,Re={};on.T=Re,t0(g,!1,b,k);try{var tt=X(),gt=on.S;if(gt!==null&&gt(Re,tt),tt!==null&&typeof tt=="object"&&typeof tt.then=="function"){var It=zn(tt,z);Xp(g,b,It,Kr(g))}else Xp(g,b,z,Kr(g))}catch(vt){Xp(g,b,{then:function(){},status:"rejected",reason:vt},Kr())}finally{Hn(ne),de!==null&&Re.types!==null&&(de.types=Re.types),on.T=de}}function jS(g){var b=g.memoizedState;if(b!==null)return b;b={memoizedState:ff,baseState:ff,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:ff},next:null};var k={};return b.next={memoizedState:k,baseState:k,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:k},next:null},g.memoizedState=b,g=g.alternate,g!==null&&(g.memoizedState=b),b}function Jy(){return Xe(hf)}function e0(){return mr().memoizedState}function OS(){return mr().memoizedState}function Xw(g){for(var b=g.return;b!==null;){switch(b.tag){case 24:case 3:var k=Kr();g=ti(k);var z=Oi(b,g,k);z!==null&&(da(z,b,k),ll(z,b,k)),b={cache:ye()},g.payload=b;return}b=b.return}}function Qw(g,b,k){var z=Kr();k={lane:z,revertLane:0,gesture:null,action:k,hasEagerState:!1,eagerState:null,next:null},n0(g)?MS(b,k):(k=jr(g,b,k,z),k!==null&&(da(k,g,z),NS(k,b,z)))}function DS(g,b,k){var z=Kr();Xp(g,b,k,z)}function Xp(g,b,k,z){var X={lane:z,revertLane:0,gesture:null,action:k,hasEagerState:!1,eagerState:null,next:null};if(n0(g))MS(b,X);else{var ne=g.alternate;if(g.lanes===0&&(ne===null||ne.lanes===0)&&(ne=b.lastRenderedReducer,ne!==null))try{var de=b.lastRenderedState,Re=ne(de,k);if(X.hasEagerState=!0,X.eagerState=Re,Pa(Re,de))return vr(g,b,X,0),On===null&&cr(),!1}catch{}finally{}if(k=jr(g,b,X,z),k!==null)return da(k,g,z),NS(k,b,z),!0}return!1}function t0(g,b,k,z){if(z={lane:2,revertLane:qt(),gesture:null,action:z,hasEagerState:!1,eagerState:null,next:null},n0(g)){if(b)throw Error(a(479))}else b=jr(g,k,z,2),b!==null&&da(b,g,2)}function n0(g){var b=g.alternate;return g===Tn||b!==null&&b===Tn}function MS(g,b){kn=jn=!0;var k=g.pending;k===null?b.next=b:(b.next=k.next,k.next=b),g.pending=b}function NS(g,b,k){if((k&4194048)!==0){var z=b.lanes;z&=g.pendingLanes,k|=z,b.lanes=k,N(g,k)}}function eb(g,b,k,z){b=g.memoizedState,k=k(z,b),k=k==null?b:_0({},b,k),g.memoizedState=k,g.lanes===0&&(g.updateQueue.baseState=k)}function r0(g,b,k,z,X,ne,de){return g=g.stateNode,typeof g.shouldComponentUpdate=="function"?g.shouldComponentUpdate(z,ne,de):b.prototype&&b.prototype.isPureReactComponent?!hn(k,z)||!hn(X,ne):!0}function PS(g,b,k,z){g=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(k,z),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(k,z),b.state!==g&&wm.enqueueReplaceState(b,b.state,null)}function Zd(g,b){var k=b;if("ref"in b){k={};for(var z in b)z!=="ref"&&(k[z]=b[z])}if(g=g.defaultProps){k===b&&(k=_0({},k));for(var X in g)k[X]===void 0&&(k[X]=g[X])}return k}function a0(g,b){try{var k=g.onUncaughtError;k(b.value,{componentStack:b.stack})}catch(z){setTimeout(function(){throw z})}}function tb(g,b,k){try{var z=g.onCaughtError;z(k.value,{componentStack:k.stack,errorBoundary:b.tag===1?b.stateNode:null})}catch(X){setTimeout(function(){throw X})}}function nb(g,b,k){return k=ti(k),k.tag=3,k.payload={element:null},k.callback=function(){a0(g,b)},k}function LS(g){return g=ti(g),g.tag=3,g}function zS(g,b,k,z){var X=k.type.getDerivedStateFromError;if(typeof X=="function"){var ne=z.value;g.payload=function(){return X(ne)},g.callback=function(){tb(b,k,z)}}var de=k.stateNode;de!==null&&typeof de.componentDidCatch=="function"&&(g.callback=function(){tb(b,k,z),typeof X!="function"&&(du===null?du=new Set([this]):du.add(this));var Re=z.stack;this.componentDidCatch(z.value,{componentStack:Re!==null?Re:""})})}function Zw(g,b,k,z,X){if(k.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){if(b=k.alternate,b!==null&&Pe(b,k,X,!0),k=Ps.current,k!==null){switch(k.tag){case 31:case 13:return ms===null?gh():k.alternate===null&&ma===0&&(ma=3),k.flags&=-257,k.flags|=65536,k.lanes=X,z===lc?k.flags|=16384:(b=k.updateQueue,b===null?k.updateQueue=new Set([z]):b.add(z),xh(g,z,X)),!1;case 22:return k.flags|=65536,z===lc?k.flags|=16384:(b=k.updateQueue,b===null?(b={transitions:null,markerInstances:null,retryQueue:new Set([z])},k.updateQueue=b):(k=b.retryQueue,k===null?b.retryQueue=new Set([z]):k.add(z)),xh(g,z,X)),!1}throw Error(a(435,k.tag))}return xh(g,z,X),gh(),!1}if(Un)return b=Ps.current,b!==null?((b.flags&65536)===0&&(b.flags|=256),b.flags|=65536,b.lanes=X,z!==q0&&(g=Error(a(422),{cause:z}),le(Q(g,k)))):(z!==q0&&(b=Error(a(423),{cause:z}),le(Q(b,k))),g=g.current.alternate,g.flags|=65536,X&=-X,g.lanes|=X,z=Q(z,k),X=nb(g.stateNode,z,X),Ks(g,X),ma!==4&&(ma=2)),!1;var ne=Error(a(520),{cause:z});if(ne=Q(ne,k),Tm===null?Tm=[ne]:Tm.push(ne),ma!==4&&(ma=2),b===null)return!0;z=Q(z,k),k=b;do{switch(k.tag){case 3:return k.flags|=65536,g=X&-X,k.lanes|=g,g=nb(k.stateNode,z,g),Ks(k,g),!1;case 1:if(b=k.type,ne=k.stateNode,(k.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(du===null||!du.has(ne))))return k.flags|=65536,X&=-X,k.lanes|=X,X=LS(X),zS(X,g,k,z),Ks(k,X),!1}k=k.return}while(k!==null);return!1}function Li(g,b,k,z){b.child=g===null?sx(b,null,k,z):Bi(b,g.child,k,z)}function FS(g,b,k,z,X){k=k.render;var ne=b.ref;if("ref"in z){var de={};for(var Re in z)Re!=="ref"&&(de[Re]=z[Re])}else de=z;return De(b),z=Js(g,b,k,de,ne,X),Re=zu(),g!==null&&!Gr?(Ll(g,b,X),Vl(g,b,X)):(Un&&Re&&Z(b),b.flags|=1,Li(g,b,z,X),b.child)}function BS(g,b,k,z,X){if(g===null){var ne=k.type;return typeof ne=="function"&&!rf(ne)&&ne.defaultProps===void 0&&k.compare===null?(b.tag=15,b.type=ne,HS(g,b,ne,z,X)):(g=tu(k.type,null,z,b,b.mode,X),g.ref=b.ref,g.return=b,b.child=g)}if(ne=g.child,!Zp(g,X)){var de=ne.memoizedProps;if(k=k.compare,k=k!==null?k:hn,k(de,z)&&g.ref===b.ref)return Vl(g,b,X)}return b.flags|=1,g=oo(ne,z),g.ref=b.ref,g.return=b,b.child=g}function HS(g,b,k,z,X){if(g!==null){var ne=g.memoizedProps;if(hn(ne,z)&&g.ref===b.ref)if(Gr=!1,b.pendingProps=z=ne,Zp(g,X))(g.flags&131072)!==0&&(Gr=!0);else return b.lanes=g.lanes,Vl(g,b,X)}return s0(g,b,k,z,X)}function US(g,b,k,z){var X=z.children,ne=g!==null?g.memoizedState:null;if(g===null&&b.stateNode===null&&(b.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),z.mode==="hidden"){if((b.flags&128)!==0){if(ne=ne!==null?ne.baseLanes|k:k,g!==null){for(z=b.child=g.child,X=0;z!==null;)X=X|z.lanes|z.childLanes,z=z.sibling;z=X&~ne}else z=0,b.child=null;return sh(g,b,ne,k,z)}if((k&536870912)!==0)b.memoizedState={baseLanes:0,cachePool:null},g!==null&&Wt(b,ne!==null?ne.cachePool:null),ne!==null?Qs(b,ne):Ts(),Di(b);else return z=b.lanes=536870912,sh(g,b,ne!==null?ne.baseLanes|k:k,k,z)}else ne!==null?(Wt(b,ne.cachePool),Qs(b,ne),la(),b.memoizedState=null):(g!==null&&Wt(b,null),Ts(),la());return Li(g,b,X,k),b.child}function Jd(g,b){return g!==null&&g.tag===22||b.stateNode!==null||(b.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.sibling}function sh(g,b,k,z,X){var ne=er();return ne=ne===null?null:{parent:Ma?Zr._currentValue:Zr._currentValue2,pool:ne},b.memoizedState={baseLanes:k,cachePool:ne},g!==null&&Wt(b,null),Ts(),Di(b),g!==null&&Pe(g,b,z,!0),b.childLanes=X,null}function i0(g,b){return b=Hu({mode:b.mode,children:b.children},g.mode),b.ref=g.ref,g.child=b,b.return=g,b}function rb(g,b,k){return Bi(b,g.child,null,k),g=i0(b,b.pendingProps),g.flags|=2,Ga(b),b.memoizedState=null,g}function $S(g,b,k){var z=b.pendingProps,X=(b.flags&128)!==0;if(b.flags&=-129,g===null){if(Un){if(z.mode==="hidden")return g=i0(b,z),b.lanes=536870912,Jd(null,g);if(Zs(b),(g=Qr)?(g=Gb(g,hs),g!==null&&(b.memoizedState={dehydrated:g,treeContext:Fo!==null?{id:zi,overflow:Sl}:null,retryLane:536870912,hydrationErrors:null},k=vb(g),k.return=b,b.child=k,ai=b,Qr=null)):g=null,g===null)throw ge(b);return b.lanes=536870912,null}return i0(b,z)}var ne=g.memoizedState;if(ne!==null){var de=ne.dehydrated;if(Zs(b),X)if(b.flags&256)b.flags&=-257,b=rb(g,b,k);else if(b.memoizedState!==null)b.child=g.child,b.flags|=128,b=null;else throw Error(a(558));else if(Gr||Pe(g,b,k,!1),X=(k&g.childLanes)!==0,Gr||X){if(z=On,z!==null&&(de=M(z,k),de!==0&&de!==ne.retryLane))throw ne.retryLane=de,sa(g,de),da(z,g,de),gs;gh(),b=rb(g,b,k)}else g=ne.treeContext,Xr&&(Qr=T3(de),ai=b,Un=!0,oc=null,hs=!1,g!==null&&te(b,g)),b=i0(b,z),b.flags|=4096;return b}return g=oo(g.child,{mode:z.mode,children:z.children}),g.ref=b.ref,b.child=g,g.return=b,g}function Qp(g,b){var k=b.ref;if(k===null)g!==null&&g.ref!==null&&(b.flags|=4194816);else{if(typeof k!="function"&&typeof k!="object")throw Error(a(284));(g===null||g.ref!==k)&&(b.flags|=4194816)}}function s0(g,b,k,z,X){return De(b),k=Js(g,b,k,z,void 0,X),z=zu(),g!==null&&!Gr?(Ll(g,b,X),Vl(g,b,X)):(Un&&z&&Z(b),b.flags|=1,Li(g,b,k,X),b.child)}function ab(g,b,k,z,X,ne){return De(b),b.updateQueue=null,k=Mi(b,z,k,X),Eo(g),z=zu(),g!==null&&!Gr?(Ll(g,b,ne),Vl(g,b,ne)):(Un&&z&&Z(b),b.flags|=1,Li(g,b,k,ne),b.child)}function ef(g,b,k,z,X){if(De(b),b.stateNode===null){var ne=ac,de=k.contextType;typeof de=="object"&&de!==null&&(ne=Xe(de)),ne=new k(z,ne),b.memoizedState=ne.state!==null&&ne.state!==void 0?ne.state:null,ne.updater=wm,b.stateNode=ne,ne._reactInternals=b,ne=b.stateNode,ne.props=z,ne.state=b.memoizedState,ne.refs={},oa(b),de=k.contextType,ne.context=typeof de=="object"&&de!==null?Xe(de):ac,ne.state=b.memoizedState,de=k.getDerivedStateFromProps,typeof de=="function"&&(eb(b,k,de,z),ne.state=b.memoizedState),typeof k.getDerivedStateFromProps=="function"||typeof ne.getSnapshotBeforeUpdate=="function"||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(de=ne.state,typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount(),de!==ne.state&&wm.enqueueReplaceState(ne,ne.state,null),Vi(b,z,ne,X),hi(),ne.state=b.memoizedState),typeof ne.componentDidMount=="function"&&(b.flags|=4194308),z=!0}else if(g===null){ne=b.stateNode;var Re=b.memoizedProps,tt=Zd(k,Re);ne.props=tt;var gt=ne.context,It=k.contextType;de=ac,typeof It=="object"&&It!==null&&(de=Xe(It));var vt=k.getDerivedStateFromProps;It=typeof vt=="function"||typeof ne.getSnapshotBeforeUpdate=="function",Re=b.pendingProps!==Re,It||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(Re||gt!==de)&&PS(b,ne,z,de),uo=!1;var Vt=b.memoizedState;ne.state=Vt,Vi(b,z,ne,X),hi(),gt=b.memoizedState,Re||Vt!==gt||uo?(typeof vt=="function"&&(eb(b,k,vt,z),gt=b.memoizedState),(tt=uo||r0(b,k,tt,z,Vt,gt,de))?(It||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount()),typeof ne.componentDidMount=="function"&&(b.flags|=4194308)):(typeof ne.componentDidMount=="function"&&(b.flags|=4194308),b.memoizedProps=z,b.memoizedState=gt),ne.props=z,ne.state=gt,ne.context=de,z=tt):(typeof ne.componentDidMount=="function"&&(b.flags|=4194308),z=!1)}else{ne=b.stateNode,ji(g,b),de=b.memoizedProps,It=Zd(k,de),ne.props=It,vt=b.pendingProps,Vt=ne.context,gt=k.contextType,tt=ac,typeof gt=="object"&&gt!==null&&(tt=Xe(gt)),Re=k.getDerivedStateFromProps,(gt=typeof Re=="function"||typeof ne.getSnapshotBeforeUpdate=="function")||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(de!==vt||Vt!==tt)&&PS(b,ne,z,tt),uo=!1,Vt=b.memoizedState,ne.state=Vt,Vi(b,z,ne,X),hi();var wn=b.memoizedState;de!==vt||Vt!==wn||uo||g!==null&&g.dependencies!==null&&Le(g.dependencies)?(typeof Re=="function"&&(eb(b,k,Re,z),wn=b.memoizedState),(It=uo||r0(b,k,It,z,Vt,wn,tt)||g!==null&&g.dependencies!==null&&Le(g.dependencies))?(gt||typeof ne.UNSAFE_componentWillUpdate!="function"&&typeof ne.componentWillUpdate!="function"||(typeof ne.componentWillUpdate=="function"&&ne.componentWillUpdate(z,wn,tt),typeof ne.UNSAFE_componentWillUpdate=="function"&&ne.UNSAFE_componentWillUpdate(z,wn,tt)),typeof ne.componentDidUpdate=="function"&&(b.flags|=4),typeof ne.getSnapshotBeforeUpdate=="function"&&(b.flags|=1024)):(typeof ne.componentDidUpdate!="function"||de===g.memoizedProps&&Vt===g.memoizedState||(b.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||de===g.memoizedProps&&Vt===g.memoizedState||(b.flags|=1024),b.memoizedProps=z,b.memoizedState=wn),ne.props=z,ne.state=wn,ne.context=tt,z=It):(typeof ne.componentDidUpdate!="function"||de===g.memoizedProps&&Vt===g.memoizedState||(b.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||de===g.memoizedProps&&Vt===g.memoizedState||(b.flags|=1024),z=!1)}return ne=z,Qp(g,b),z=(b.flags&128)!==0,ne||z?(ne=b.stateNode,k=z&&typeof k.getDerivedStateFromError!="function"?null:ne.render(),b.flags|=1,g!==null&&z?(b.child=Bi(b,g.child,null,X),b.child=Bi(b,null,k,X)):Li(g,b,k,X),b.memoizedState=ne.state,g=b.child):g=Vl(g,b,X),g}function GS(g,b,k,z){return ve(),b.flags|=256,Li(g,b,k,z),b.child}function ib(g){return{baseLanes:g,cachePool:Bt()}}function sb(g,b,k){return g=g!==null?g.childLanes&~k:0,b&&(g|=ys),g}function ob(g,b,k){var z=b.pendingProps,X=!1,ne=(b.flags&128)!==0,de;if((de=ne)||(de=g!==null&&g.memoizedState===null?!1:(Ca.current&2)!==0),de&&(X=!0,b.flags&=-129),de=(b.flags&32)!==0,b.flags&=-33,g===null){if(Un){if(X?pi(b):la(),(g=Qr)?(g=I3(g,hs),g!==null&&(b.memoizedState={dehydrated:g,treeContext:Fo!==null?{id:zi,overflow:Sl}:null,retryLane:536870912,hydrationErrors:null},k=vb(g),k.return=b,b.child=k,ai=b,Qr=null)):g=null,g===null)throw ge(b);return I0(g)?b.lanes=32:b.lanes=536870912,null}var Re=z.children;return z=z.fallback,X?(la(),X=b.mode,Re=Hu({mode:"hidden",children:Re},X),z=Mo(z,X,k,null),Re.return=b,z.return=b,Re.sibling=z,b.child=Re,z=b.child,z.memoizedState=ib(k),z.childLanes=sb(g,de,k),b.memoizedState=Sf,Jd(null,z)):(pi(b),o0(b,Re))}var tt=g.memoizedState;if(tt!==null&&(Re=tt.dehydrated,Re!==null)){if(ne)b.flags&256?(pi(b),b.flags&=-257,b=tf(g,b,k)):b.memoizedState!==null?(la(),b.child=g.child,b.flags|=128,b=null):(la(),Re=z.fallback,X=b.mode,z=Hu({mode:"visible",children:z.children},X),Re=Mo(Re,X,k,null),Re.flags|=2,z.return=b,Re.return=b,z.sibling=Re,b.child=z,Bi(b,g.child,null,k),z=b.child,z.memoizedState=ib(k),z.childLanes=sb(g,de,k),b.memoizedState=Sf,b=Jd(null,z));else if(pi(b),I0(Re))de=j0(Re).digest,z=Error(a(419)),z.stack="",z.digest=de,le({value:z,source:null,stack:null}),b=tf(g,b,k);else if(Gr||Pe(g,b,k,!1),de=(k&g.childLanes)!==0,Gr||de){if(de=On,de!==null&&(z=M(de,k),z!==0&&z!==tt.retryLane))throw tt.retryLane=z,sa(g,z),da(de,g,z),gs;ed(Re)||gh(),b=tf(g,b,k)}else ed(Re)?(b.flags|=192,b.child=g.child,b=null):(g=tt.treeContext,Xr&&(Qr=A3(Re),ai=b,Un=!0,oc=null,hs=!1,g!==null&&te(b,g)),b=o0(b,z.children),b.flags|=4096);return b}return X?(la(),Re=z.fallback,X=b.mode,tt=g.child,ne=tt.sibling,z=oo(tt,{mode:"hidden",children:z.children}),z.subtreeFlags=tt.subtreeFlags&65011712,ne!==null?Re=oo(ne,Re):(Re=Mo(Re,X,k,null),Re.flags|=2),Re.return=b,z.return=b,z.sibling=Re,b.child=z,Jd(null,z),z=b.child,Re=g.child.memoizedState,Re===null?Re=ib(k):(X=Re.cachePool,X!==null?(tt=Ma?Zr._currentValue:Zr._currentValue2,X=X.parent!==tt?{parent:tt,pool:tt}:X):X=Bt(),Re={baseLanes:Re.baseLanes|k,cachePool:X}),z.memoizedState=Re,z.childLanes=sb(g,de,k),b.memoizedState=Sf,Jd(g.child,z)):(pi(b),k=g.child,g=k.sibling,k=oo(k,{mode:"visible",children:z.children}),k.return=b,k.sibling=null,g!==null&&(de=b.deletions,de===null?(b.deletions=[g],b.flags|=16):de.push(g)),b.child=k,b.memoizedState=null,k)}function o0(g,b){return b=Hu({mode:"visible",children:b},g.mode),b.return=g,g.child=b}function Hu(g,b){return g=n(22,g,null,b),g.lanes=0,g}function tf(g,b,k){return Bi(b,g.child,null,k),g=o0(b,b.pendingProps.children),g.flags|=2,b.memoizedState=null,g}function qS(g,b,k){g.lanes|=b;var z=g.alternate;z!==null&&(z.lanes|=b),Te(g.return,b,k)}function oh(g,b,k,z,X,ne){var de=g.memoizedState;de===null?g.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:z,tail:k,tailMode:X,treeForkCount:ne}:(de.isBackwards=b,de.rendering=null,de.renderingStartTime=0,de.last=z,de.tail=k,de.tailMode=X,de.treeForkCount=ne)}function lb(g,b,k){var z=b.pendingProps,X=z.revealOrder,ne=z.tail;z=z.children;var de=Ca.current,Re=(de&2)!==0;if(Re?(de=de&1|2,b.flags|=128):de&=1,x(Ca,de),Li(g,b,z,k),z=Un?Sm:0,!Re&&g!==null&&(g.flags&128)!==0)e:for(g=b.child;g!==null;){if(g.tag===13)g.memoizedState!==null&&qS(g,k,b);else if(g.tag===19)qS(g,k,b);else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===b)break e;for(;g.sibling===null;){if(g.return===null||g.return===b)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}switch(X){case"forwards":for(k=b.child,X=null;k!==null;)g=k.alternate,g!==null&&As(g)===null&&(X=k),k=k.sibling;k=X,k===null?(X=b.child,b.child=null):(X=k.sibling,k.sibling=null),oh(b,!1,X,k,ne,z);break;case"backwards":case"unstable_legacy-backwards":for(k=null,X=b.child,b.child=null;X!==null;){if(g=X.alternate,g!==null&&As(g)===null){b.child=X;break}g=X.sibling,X.sibling=k,k=X,X=g}oh(b,!0,k,null,ne,z);break;case"together":oh(b,!1,null,null,void 0,z);break;default:b.memoizedState=null}return b.child}function Vl(g,b,k){if(g!==null&&(b.dependencies=g.dependencies),uu|=b.lanes,(k&b.childLanes)===0)if(g!==null){if(Pe(g,b,k,!1),(k&b.childLanes)===0)return null}else return null;if(g!==null&&b.child!==g.child)throw Error(a(153));if(b.child!==null){for(g=b.child,k=oo(g,g.pendingProps),b.child=k,k.return=b;g.sibling!==null;)g=g.sibling,k=k.sibling=oo(g,g.pendingProps),k.return=b;k.sibling=null}return b.child}function Zp(g,b){return(g.lanes&b)!==0?!0:(g=g.dependencies,!!(g!==null&&Le(g)))}function cb(g,b,k){switch(b.tag){case 3:ae(b,b.stateNode.containerInfo),Se(b,Zr,g.memoizedState.cache),ve();break;case 27:case 5:ce(b);break;case 4:ae(b,b.stateNode.containerInfo);break;case 10:Se(b,b.type,b.memoizedProps.value);break;case 31:if(b.memoizedState!==null)return b.flags|=128,Zs(b),null;break;case 13:var z=b.memoizedState;if(z!==null)return z.dehydrated!==null?(pi(b),b.flags|=128,null):(k&b.child.childLanes)!==0?ob(g,b,k):(pi(b),g=Vl(g,b,k),g!==null?g.sibling:null);pi(b);break;case 19:var X=(g.flags&128)!==0;if(z=(k&b.childLanes)!==0,z||(Pe(g,b,k,!1),z=(k&b.childLanes)!==0),X){if(z)return lb(g,b,k);b.flags|=128}if(X=b.memoizedState,X!==null&&(X.rendering=null,X.tail=null,X.lastEffect=null),x(Ca,Ca.current),z)break;return null;case 22:return b.lanes=0,US(g,b,k,b.pendingProps);case 24:Se(b,Zr,g.memoizedState.cache)}return Vl(g,b,k)}function ub(g,b,k){if(g!==null)if(g.memoizedProps!==b.pendingProps)Gr=!0;else{if(!Zp(g,k)&&(b.flags&128)===0)return Gr=!1,cb(g,b,k);Gr=(g.flags&131072)!==0}else Gr=!1,Un&&(b.flags&1048576)!==0&&V(b,Sm,b.index);switch(b.lanes=0,b.tag){case 16:e:{var z=b.pendingProps;if(g=Ut(b.elementType),b.type=g,typeof g=="function")rf(g)?(z=Zd(g,z),b.tag=1,b=ef(null,b,g,z,k)):(b.tag=0,b=s0(null,b,g,z,k));else{if(g!=null){var X=g.$$typeof;if(X===vh){b.tag=11,b=FS(null,b,g,z,k);break e}else if(X===w0){b.tag=14,b=BS(null,b,g,z,k);break e}}throw b=h(g)||g,Error(a(306,b,""))}}return b;case 0:return s0(g,b,b.type,b.pendingProps,k);case 1:return z=b.type,X=Zd(z,b.pendingProps),ef(g,b,z,X,k);case 3:e:{if(ae(b,b.stateNode.containerInfo),g===null)throw Error(a(387));var ne=b.pendingProps;X=b.memoizedState,z=X.element,ji(g,b),Vi(b,ne,null,k);var de=b.memoizedState;if(ne=de.cache,Se(b,Zr,ne),ne!==X.cache&&Ne(b,[Zr],k,!0),hi(),ne=de.element,Xr&&X.isDehydrated)if(X={element:ne,isDehydrated:!1,cache:de.cache},b.updateQueue.baseState=X,b.memoizedState=X,b.flags&256){b=GS(g,b,ne,k);break e}else if(ne!==z){z=Q(Error(a(424)),b),le(z),b=GS(g,b,ne,k);break e}else for(Xr&&(Qr=E3(b.stateNode.containerInfo),ai=b,Un=!0,oc=null,hs=!0),k=sx(b,null,ne,k),b.child=k;k;)k.flags=k.flags&-3|4096,k=k.sibling;else{if(ve(),ne===z){b=Vl(g,b,k);break e}Li(g,b,ne,k)}b=b.child}return b;case 26:if(Lo)return Qp(g,b),g===null?(k=Kb(b.type,null,b.pendingProps,null))?b.memoizedState=k:Un||(b.stateNode=N0(b.type,b.pendingProps,Fi.current,b)):b.memoizedState=Kb(b.type,g.memoizedProps,b.pendingProps,g.memoizedState),null;case 27:if(ri)return ce(b),g===null&&ri&&Un&&(z=b.stateNode=P0(b.type,b.pendingProps,Fi.current,xi.current,!1),ai=b,hs=!0,Qr=$b(b.type,z,Qr)),Li(g,b,b.pendingProps.children,k),Qp(g,b),g===null&&(b.flags|=4194304),b.child;case 5:return g===null&&Un&&(F3(b.type,b.pendingProps,xi.current),(X=z=Qr)&&(z=R3(z,b.type,b.pendingProps,hs),z!==null?(b.stateNode=z,ai=b,Qr=w3(z),hs=!1,X=!0):X=!1),X||ge(b)),ce(b),X=b.type,ne=b.pendingProps,de=g!==null?g.memoizedProps:null,z=ne.children,fs(X,ne)?z=null:de!==null&&fs(X,de)&&(b.flags|=32),b.memoizedState!==null&&(X=Js(g,b,Ni,null,null,k),Ma?hf._currentValue=X:hf._currentValue2=X),Qp(g,b),Li(g,b,z,k),b.child;case 6:return g===null&&Un&&(Yb(b.pendingProps,xi.current),(g=k=Qr)&&(k=k3(k,b.pendingProps,hs),k!==null?(b.stateNode=k,ai=b,Qr=null,g=!0):g=!1),g||ge(b)),null;case 13:return ob(g,b,k);case 4:return ae(b,b.stateNode.containerInfo),z=b.pendingProps,g===null?b.child=Bi(b,null,z,k):Li(g,b,z,k),b.child;case 11:return FS(g,b,b.type,b.pendingProps,k);case 7:return Li(g,b,b.pendingProps,k),b.child;case 8:return Li(g,b,b.pendingProps.children,k),b.child;case 12:return Li(g,b,b.pendingProps.children,k),b.child;case 10:return z=b.pendingProps,Se(b,b.type,z.value),Li(g,b,z.children,k),b.child;case 9:return X=b.type._context,z=b.pendingProps.children,De(b),X=Xe(X),z=z(X),b.flags|=1,Li(g,b,z,k),b.child;case 14:return BS(g,b,b.type,b.pendingProps,k);case 15:return HS(g,b,b.type,b.pendingProps,k);case 19:return lb(g,b,k);case 31:return $S(g,b,k);case 22:return US(g,b,k,b.pendingProps);case 24:return De(b),z=Xe(Zr),g===null?(X=er(),X===null&&(X=On,ne=ye(),X.pooledCache=ne,ne.refCount++,ne!==null&&(X.pooledCacheLanes|=k),X=ne),b.memoizedState={parent:z,cache:X},oa(b),Se(b,Zr,X)):((g.lanes&k)!==0&&(ji(g,b),Vi(b,null,null,k),hi()),X=g.memoizedState,ne=b.memoizedState,X.parent!==z?(X={parent:z,cache:z},b.memoizedState=X,b.lanes===0&&(b.memoizedState=b.updateQueue.baseState=X),Se(b,Zr,z)):(z=ne.cache,Se(b,Zr,z),z!==X.cache&&Ne(b,[Zr],k,!0))),Li(g,b,b.pendingProps.children,k),b.child;case 29:throw b.pendingProps}throw Error(a(156,b.tag))}function ko(g){g.flags|=4}function Jp(g){lo&&(g.flags|=8)}function VS(g,b){if(g!==null&&g.child===b.child)return!1;if((b.flags&16)!==0)return!0;for(g=b.child;g!==null;){if((g.flags&8218)!==0||(g.subtreeFlags&8218)!==0)return!0;g=g.sibling}return!1}function db(g,b,k,z){if(Vn)for(k=b.child;k!==null;){if(k.tag===5||k.tag===6)hm(g,k.stateNode);else if(!(k.tag===4||ri&&k.tag===27)&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===b)break;for(;k.sibling===null;){if(k.return===null||k.return===b)return;k=k.return}k.sibling.return=k.return,k=k.sibling}else if(lo)for(var X=b.child;X!==null;){if(X.tag===5){var ne=X.stateNode;k&&z&&(ne=v3(ne,X.type,X.memoizedProps)),hm(g,ne)}else if(X.tag===6)ne=X.stateNode,k&&z&&(ne=Hb(ne,X.memoizedProps)),hm(g,ne);else if(X.tag!==4){if(X.tag===22&&X.memoizedState!==null)ne=X.child,ne!==null&&(ne.return=X),db(g,X,!0,!0);else if(X.child!==null){X.child.return=X,X=X.child;continue}}if(X===b)break;for(;X.sibling===null;){if(X.return===null||X.return===b)return;X=X.return}X.sibling.return=X.return,X=X.sibling}}function WS(g,b,k,z){var X=!1;if(lo)for(var ne=b.child;ne!==null;){if(ne.tag===5){var de=ne.stateNode;k&&z&&(de=v3(de,ne.type,ne.memoizedProps)),Fb(g,de)}else if(ne.tag===6)de=ne.stateNode,k&&z&&(de=Hb(de,ne.memoizedProps)),Fb(g,de);else if(ne.tag!==4){if(ne.tag===22&&ne.memoizedState!==null)X=ne.child,X!==null&&(X.return=ne),WS(g,ne,!0,!0),X=!0;else if(ne.child!==null){ne.child.return=ne,ne=ne.child;continue}}if(ne===b)break;for(;ne.sibling===null;){if(ne.return===null||ne.return===b)return X;ne=ne.return}ne.sibling.return=ne.return,ne=ne.sibling}return X}function YS(g,b){if(lo&&VS(g,b)){g=b.stateNode;var k=g.containerInfo,z=zb();WS(z,b,!1,!1),g.pendingChildren=z,ko(b),x3(k,z)}}function fb(g,b,k,z){if(Vn)g.memoizedProps!==z&&ko(b);else if(lo){var X=g.stateNode,ne=g.memoizedProps;if((g=VS(g,b))||ne!==z){var de=xi.current;ne=b3(X,k,ne,z,!g,null),ne===X?b.stateNode=X:(Jp(b),Os(ne,k,z,de)&&ko(b),b.stateNode=ne,g&&db(ne,b,!1,!1))}else b.stateNode=X}}function cs(g,b,k,z,X){if((g.mode&32)!==0&&(k===null?pm(b,z):Eh(b,k,z))){if(g.flags|=16777216,(X&335544128)===X||Ab(b,z))if(fa(g.stateNode,b,z))g.flags|=8192;else if(qn())g.flags|=8192;else throw ps=lc,W0}else g.flags&=-16777217}function lh(g,b){if(Jb(b)){if(g.flags|=16777216,!ex(b))if(qn())g.flags|=8192;else throw ps=lc,W0}else g.flags&=-16777217}function em(g,b){b!==null&&(g.flags|=4),g.flags&16384&&(b=g.tag!==22?E():536870912,g.lanes|=b,Mh|=b)}function ch(g,b){if(!Un)switch(g.tailMode){case"hidden":b=g.tail;for(var k=null;b!==null;)b.alternate!==null&&(k=b),b=b.sibling;k===null?g.tail=null:k.sibling=null;break;case"collapsed":k=g.tail;for(var z=null;k!==null;)k.alternate!==null&&(z=k),k=k.sibling;z===null?b||g.tail===null?g.tail=null:g.tail.sibling=null:z.sibling=null}}function zr(g){var b=g.alternate!==null&&g.alternate.child===g.child,k=0,z=0;if(b)for(var X=g.child;X!==null;)k|=X.lanes|X.childLanes,z|=X.subtreeFlags&65011712,z|=X.flags&65011712,X.return=g,X=X.sibling;else for(X=g.child;X!==null;)k|=X.lanes|X.childLanes,z|=X.subtreeFlags,z|=X.flags,X.return=g,X=X.sibling;return g.subtreeFlags|=z,g.childLanes=k,b}function KS(g,b,k){var z=b.pendingProps;switch(q(b),b.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zr(b),null;case 1:return zr(b),null;case 3:return k=b.stateNode,z=null,g!==null&&(z=g.memoizedState.cache),b.memoizedState.cache!==z&&(b.flags|=2048),be(Zr),ie(),k.pendingContext&&(k.context=k.pendingContext,k.pendingContext=null),(g===null||g.child===null)&&(he(b)?ko(b):g===null||g.memoizedState.isDehydrated&&(b.flags&256)===0||(b.flags|=1024,me())),YS(g,b),zr(b),null;case 26:if(Lo){var X=b.type,ne=b.memoizedState;return g===null?(ko(b),ne!==null?(zr(b),lh(b,ne)):(zr(b),cs(b,X,null,z,k))):ne?ne!==g.memoizedState?(ko(b),zr(b),lh(b,ne)):(zr(b),b.flags&=-16777217):(ne=g.memoizedProps,Vn?ne!==z&&ko(b):fb(g,b,X,z),zr(b),cs(b,X,ne,z,k)),null}case 27:if(ri){if(pe(b),k=Fi.current,X=b.type,g!==null&&b.stateNode!=null)Vn?g.memoizedProps!==z&&ko(b):fb(g,b,X,z);else{if(!z){if(b.stateNode===null)throw Error(a(166));return zr(b),null}g=xi.current,he(b)?oe(b,g):(g=P0(X,z,k,g,!0),b.stateNode=g,ko(b))}return zr(b),null}case 5:if(pe(b),X=b.type,g!==null&&b.stateNode!=null)fb(g,b,X,z);else{if(!z){if(b.stateNode===null)throw Error(a(166));return zr(b),null}if(ne=xi.current,he(b))oe(b,ne),P3(b.stateNode,X,z,ne)&&(b.flags|=64);else{var de=Eb(X,z,Fi.current,ne,b);Jp(b),db(de,b,!1,!1),b.stateNode=de,Os(de,X,z,ne)&&ko(b)}}return zr(b),cs(b,b.type,g===null?null:g.memoizedProps,b.pendingProps,k),null;case 6:if(g&&b.stateNode!=null)k=g.memoizedProps,Vn?k!==z&&ko(b):lo&&(k!==z?(g=Fi.current,k=xi.current,Jp(b),b.stateNode=au(z,g,k,b)):b.stateNode=g.stateNode);else{if(typeof z!="string"&&b.stateNode===null)throw Error(a(166));if(g=Fi.current,k=xi.current,he(b)){if(!Xr)throw Error(a(176));if(g=b.stateNode,k=b.memoizedProps,z=null,X=ai,X!==null)switch(X.tag){case 27:case 5:z=X.memoizedProps}rE(g,k,b,z)||ge(b,!0)}else Jp(b),b.stateNode=au(z,g,k,b)}return zr(b),null;case 31:if(k=b.memoizedState,g===null||g.memoizedState!==null){if(z=he(b),k!==null){if(g===null){if(!z)throw Error(a(318));if(!Xr)throw Error(a(556));if(g=b.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(557));qb(g,b)}else ve(),(b.flags&128)===0&&(b.memoizedState=null),b.flags|=4;zr(b),g=!1}else k=me(),g!==null&&g.memoizedState!==null&&(g.memoizedState.hydrationErrors=k),g=!0;if(!g)return b.flags&256?(Ga(b),b):(Ga(b),null);if((b.flags&128)!==0)throw Error(a(558))}return zr(b),null;case 13:if(z=b.memoizedState,g===null||g.memoizedState!==null&&g.memoizedState.dehydrated!==null){if(X=he(b),z!==null&&z.dehydrated!==null){if(g===null){if(!X)throw Error(a(318));if(!Xr)throw Error(a(344));if(X=b.memoizedState,X=X!==null?X.dehydrated:null,!X)throw Error(a(317));O3(X,b)}else ve(),(b.flags&128)===0&&(b.memoizedState=null),b.flags|=4;zr(b),X=!1}else X=me(),g!==null&&g.memoizedState!==null&&(g.memoizedState.hydrationErrors=X),X=!0;if(!X)return b.flags&256?(Ga(b),b):(Ga(b),null)}return Ga(b),(b.flags&128)!==0?(b.lanes=k,b):(k=z!==null,g=g!==null&&g.memoizedState!==null,k&&(z=b.child,X=null,z.alternate!==null&&z.alternate.memoizedState!==null&&z.alternate.memoizedState.cachePool!==null&&(X=z.alternate.memoizedState.cachePool.pool),ne=null,z.memoizedState!==null&&z.memoizedState.cachePool!==null&&(ne=z.memoizedState.cachePool.pool),ne!==X&&(z.flags|=2048)),k!==g&&k&&(b.child.flags|=8192),em(b,b.updateQueue),zr(b),null);case 4:return ie(),YS(g,b),g===null&&Or(b.stateNode.containerInfo),zr(b),null;case 10:return be(b.type),zr(b),null;case 19:if(y(Ca),z=b.memoizedState,z===null)return zr(b),null;if(X=(b.flags&128)!==0,ne=z.rendering,ne===null)if(X)ch(z,!1);else{if(ma!==0||g!==null&&(g.flags&128)!==0)for(g=b.child;g!==null;){if(ne=As(g),ne!==null){for(b.flags|=128,ch(z,!1),g=ne.updateQueue,b.updateQueue=g,em(b,g),b.subtreeFlags=0,g=k,k=b.child;k!==null;)x0(k,g),k=k.sibling;return x(Ca,Ca.current&1|2),Un&&K(b,z.treeForkCount),b.child}g=g.sibling}z.tail!==null&&Ki()>dd&&(b.flags|=128,X=!0,ch(z,!1),b.lanes=4194304)}else{if(!X)if(g=As(ne),g!==null){if(b.flags|=128,X=!0,g=g.updateQueue,b.updateQueue=g,em(b,g),ch(z,!0),z.tail===null&&z.tailMode==="hidden"&&!ne.alternate&&!Un)return zr(b),null}else 2*Ki()-z.renderingStartTime>dd&&k!==536870912&&(b.flags|=128,X=!0,ch(z,!1),b.lanes=4194304);z.isBackwards?(ne.sibling=b.child,b.child=ne):(g=z.last,g!==null?g.sibling=ne:b.child=ne,z.last=ne)}return z.tail!==null?(g=z.tail,z.rendering=g,z.tail=g.sibling,z.renderingStartTime=Ki(),g.sibling=null,k=Ca.current,x(Ca,X?k&1|2:k&1),Un&&K(b,z.treeForkCount),g):(zr(b),null);case 22:case 23:return Ga(b),Nr(),z=b.memoizedState!==null,g!==null?g.memoizedState!==null!==z&&(b.flags|=8192):z&&(b.flags|=8192),z?(k&536870912)!==0&&(b.flags&128)===0&&(zr(b),b.subtreeFlags&6&&(b.flags|=8192)):zr(b),k=b.updateQueue,k!==null&&em(b,k.retryQueue),k=null,g!==null&&g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(k=g.memoizedState.cachePool.pool),z=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(z=b.memoizedState.cachePool.pool),z!==k&&(b.flags|=2048),g!==null&&y(rd),null;case 24:return k=null,g!==null&&(k=g.memoizedState.cache),b.memoizedState.cache!==k&&(b.flags|=2048),be(Zr),zr(b),null;case 25:return null;case 30:return null}throw Error(a(156,b.tag))}function hb(g,b){switch(q(b),b.tag){case 1:return g=b.flags,g&65536?(b.flags=g&-65537|128,b):null;case 3:return be(Zr),ie(),g=b.flags,(g&65536)!==0&&(g&128)===0?(b.flags=g&-65537|128,b):null;case 26:case 27:case 5:return pe(b),null;case 31:if(b.memoizedState!==null){if(Ga(b),b.alternate===null)throw Error(a(340));ve()}return g=b.flags,g&65536?(b.flags=g&-65537|128,b):null;case 13:if(Ga(b),g=b.memoizedState,g!==null&&g.dehydrated!==null){if(b.alternate===null)throw Error(a(340));ve()}return g=b.flags,g&65536?(b.flags=g&-65537|128,b):null;case 19:return y(Ca),null;case 4:return ie(),null;case 10:return be(b.type),null;case 22:case 23:return Ga(b),Nr(),g!==null&&y(rd),g=b.flags,g&65536?(b.flags=g&-65537|128,b):null;case 24:return be(Zr),null;case 25:return null;default:return null}}function XS(g,b){switch(q(b),b.tag){case 3:be(Zr),ie();break;case 26:case 27:case 5:pe(b);break;case 4:ie();break;case 31:b.memoizedState!==null&&Ga(b);break;case 13:Ga(b);break;case 19:y(Ca);break;case 10:be(b.type);break;case 22:case 23:Ga(b),Nr(),g!==null&&y(rd);break;case 24:be(Zr)}}function Wl(g,b){try{var k=b.updateQueue,z=k!==null?k.lastEffect:null;if(z!==null){var X=z.next;k=X;do{if((k.tag&g)===g){z=void 0;var ne=k.create,de=k.inst;z=ne(),de.destroy=z}k=k.next}while(k!==X)}}catch(Re){mn(b,b.return,Re)}}function Yl(g,b,k){try{var z=b.updateQueue,X=z!==null?z.lastEffect:null;if(X!==null){var ne=X.next;z=ne;do{if((z.tag&g)===g){var de=z.inst,Re=de.destroy;if(Re!==void 0){de.destroy=void 0,X=b;var tt=k,gt=Re;try{gt()}catch(It){mn(X,tt,It)}}}z=z.next}while(z!==ne)}}catch(It){mn(b,b.return,It)}}function uh(g){var b=g.updateQueue;if(b!==null){var k=g.stateNode;try{Es(b,k)}catch(z){mn(g,g.return,z)}}}function l0(g,b,k){k.props=Zd(g.type,g.memoizedProps),k.state=g.memoizedState;try{k.componentWillUnmount()}catch(z){mn(g,b,z)}}function dh(g,b){try{var k=g.ref;if(k!==null){switch(g.tag){case 26:case 27:case 5:var z=_h(g.stateNode);break;case 30:z=g.stateNode;break;default:z=g.stateNode}typeof k=="function"?g.refCleanup=k(z):k.current=z}}catch(X){mn(g,b,X)}}function Yi(g,b){var k=g.ref,z=g.refCleanup;if(k!==null)if(typeof z=="function")try{z()}catch(X){mn(g,b,X)}finally{g.refCleanup=null,g=g.alternate,g!=null&&(g.refCleanup=null)}else if(typeof k=="function")try{k(null)}catch(X){mn(g,b,X)}else k.current=null}function nf(g){var b=g.type,k=g.memoizedProps,z=g.stateNode;try{u3(z,b,k,g)}catch(X){mn(g,g.return,X)}}function tm(g,b,k){try{d3(g.stateNode,g.type,k,b,g)}catch(z){mn(g,g.return,z)}}function pb(g){return g.tag===5||g.tag===3||(Lo?g.tag===26:!1)||(ri?g.tag===27&&pf(g.type):!1)||g.tag===4}function Xc(g){e:for(;;){for(;g.sibling===null;){if(g.return===null||pb(g.return))return null;g=g.return}for(g.sibling.return=g.return,g=g.sibling;g.tag!==5&&g.tag!==6&&g.tag!==18;){if(ri&&g.tag===27&&pf(g.type)||g.flags&2||g.child===null||g.tag===4)continue e;g.child.return=g,g=g.child}if(!(g.flags&2))return g.stateNode}}function c0(g,b,k){var z=g.tag;if(z===5||z===6)g=g.stateNode,b?h3(k,g,b):Mb(k,g);else if(z!==4&&(ri&&z===27&&pf(g.type)&&(k=g.stateNode,b=null),g=g.child,g!==null))for(c0(g,b,k),g=g.sibling;g!==null;)c0(g,b,k),g=g.sibling}function nm(g,b,k){var z=g.tag;if(z===5||z===6)g=g.stateNode,b?f3(k,g,b):Db(k,g);else if(z!==4&&(ri&&z===27&&pf(g.type)&&(k=g.stateNode),g=g.child,g!==null))for(nm(g,b,k),g=g.sibling;g!==null;)nm(g,b,k),g=g.sibling}function mb(g,b,k){g=g.containerInfo;try{Bb(g,k)}catch(z){mn(b,b.return,z)}}function QS(g){var b=g.stateNode,k=g.memoizedProps;try{Wa(g.type,k,b,g)}catch(z){mn(g,g.return,z)}}function Jw(g,b){for(E0(g.containerInfo),La=b;La!==null;)if(g=La,b=g.child,(g.subtreeFlags&1028)!==0&&b!==null)b.return=g,La=b;else for(;La!==null;){g=La;var k=g.alternate;switch(b=g.flags,g.tag){case 0:if((b&4)!==0&&(b=g.updateQueue,b=b!==null?b.events:null,b!==null))for(var z=0;z<b.length;z++){var X=b[z];X.ref.impl=X.nextImpl}break;case 11:case 15:break;case 1:if((b&1024)!==0&&k!==null){b=void 0,z=g,X=k.memoizedProps,k=k.memoizedState;var ne=z.stateNode;try{var de=Zd(z.type,X);b=ne.getSnapshotBeforeUpdate(de,k),ne.__reactInternalSnapshotBeforeUpdate=b}catch(Re){mn(z,z.return,Re)}}break;case 3:(b&1024)!==0&&Vn&&Lb(g.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((b&1024)!==0)throw Error(a(163))}if(b=g.sibling,b!==null){b.return=g.return,La=b;break}La=g.return}}function ZS(g,b,k){var z=k.flags;switch(k.tag){case 0:case 11:case 15:us(g,k),z&4&&Wl(5,k);break;case 1:if(us(g,k),z&4)if(g=k.stateNode,b===null)try{g.componentDidMount()}catch(de){mn(k,k.return,de)}else{var X=Zd(k.type,b.memoizedProps);b=b.memoizedState;try{g.componentDidUpdate(X,b,g.__reactInternalSnapshotBeforeUpdate)}catch(de){mn(k,k.return,de)}}z&64&&uh(k),z&512&&dh(k,k.return);break;case 3:if(us(g,k),z&64&&(z=k.updateQueue,z!==null)){if(g=null,k.child!==null)switch(k.child.tag){case 27:case 5:g=_h(k.child.stateNode);break;case 1:g=k.child.stateNode}try{Es(z,g)}catch(de){mn(k,k.return,de)}}break;case 27:ri&&b===null&&z&4&&QS(k);case 26:case 5:if(us(g,k),b===null){if(z&4)nf(k);else if(z&64){g=k.type,b=k.memoizedProps,X=k.stateNode;try{M3(X,g,b,k)}catch(de){mn(k,k.return,de)}}}z&512&&dh(k,k.return);break;case 12:us(g,k);break;case 31:us(g,k),z&4&&jo(g,k);break;case 13:us(g,k),z&4&&am(g,k),z&64&&(z=k.memoizedState,z!==null&&(z=z.dehydrated,z!==null&&(k=eE.bind(null,k),O0(z,k))));break;case 22:if(z=k.memoizedState!==null||wa,!z){b=b!==null&&b.memoizedState!==null||Ea,X=wa;var ne=Ea;wa=z,(Ea=b)&&!ne?Do(g,k,(k.subtreeFlags&8772)!==0):us(g,k),wa=X,Ea=ne}break;case 30:break;default:us(g,k)}}function gb(g){var b=g.alternate;b!==null&&(g.alternate=null,gb(b)),g.child=null,g.deletions=null,g.sibling=null,g.tag===5&&(b=g.stateNode,b!==null&&T0(b)),g.stateNode=null,g.return=null,g.dependencies=null,g.memoizedProps=null,g.memoizedState=null,g.pendingProps=null,g.stateNode=null,g.updateQueue=null}function Io(g,b,k){for(k=k.child;k!==null;)rm(g,b,k),k=k.sibling}function rm(g,b,k){if(Ns&&typeof Ns.onCommitFiberUnmount=="function")try{Ns.onCommitFiberUnmount(yf,k)}catch{}switch(k.tag){case 26:if(Lo){Ea||Yi(k,b),Io(g,b,k),k.memoizedState?td(k.memoizedState):k.stateNode&&Zb(k.stateNode);break}case 27:if(ri){Ea||Yi(k,b);var z=pa,X=za;pf(k.type)&&(pa=k.stateNode,za=!1),Io(g,b,k),bi(k.stateNode),pa=z,za=X;break}case 5:Ea||Yi(k,b);case 6:if(Vn){if(z=pa,X=za,pa=null,Io(g,b,k),pa=z,za=X,pa!==null)if(za)try{Nb(pa,k.stateNode)}catch(ne){mn(k,b,ne)}else try{p3(pa,k.stateNode)}catch(ne){mn(k,b,ne)}}else Io(g,b,k);break;case 18:Vn&&pa!==null&&(za?D0(pa,k.stateNode):Wb(pa,k.stateNode));break;case 4:Vn?(z=pa,X=za,pa=k.stateNode.containerInfo,za=!0,Io(g,b,k),pa=z,za=X):(lo&&mb(k.stateNode,k,zb()),Io(g,b,k));break;case 0:case 11:case 14:case 15:Yl(2,k,b),Ea||Yl(4,k,b),Io(g,b,k);break;case 1:Ea||(Yi(k,b),z=k.stateNode,typeof z.componentWillUnmount=="function"&&l0(k,b,z)),Io(g,b,k);break;case 21:Io(g,b,k);break;case 22:Ea=(z=Ea)||k.memoizedState!==null,Io(g,b,k),Ea=z;break;default:Io(g,b,k)}}function jo(g,b){if(Xr&&b.memoizedState===null&&(g=b.alternate,g!==null&&(g=g.memoizedState,g!==null))){g=g.dehydrated;try{aE(g)}catch(k){mn(b,b.return,k)}}}function am(g,b){if(Xr&&b.memoizedState===null&&(g=b.alternate,g!==null&&(g=g.memoizedState,g!==null&&(g=g.dehydrated,g!==null))))try{iE(g)}catch(k){mn(b,b.return,k)}}function Oo(g){switch(g.tag){case 31:case 13:case 19:var b=g.stateNode;return b===null&&(b=g.stateNode=new lx),b;case 22:return g=g.stateNode,b=g._retryCache,b===null&&(b=g._retryCache=new lx),b;default:throw Error(a(435,g.tag))}}function Qc(g,b){var k=Oo(g);b.forEach(function(z){if(!k.has(z)){k.add(z);var X=tE.bind(null,g,z);z.then(X,X)}})}function gi(g,b){var k=b.deletions;if(k!==null)for(var z=0;z<k.length;z++){var X=k[z],ne=g,de=b;if(Vn){var Re=de;e:for(;Re!==null;){switch(Re.tag){case 27:if(ri){if(pf(Re.type)){pa=Re.stateNode,za=!1;break e}break}case 5:pa=Re.stateNode,za=!1;break e;case 3:case 4:pa=Re.stateNode.containerInfo,za=!0;break e}Re=Re.return}if(pa===null)throw Error(a(160));rm(ne,de,X),pa=null,za=!1}else rm(ne,de,X);ne=X.alternate,ne!==null&&(ne.return=null),X.return=null}if(b.subtreeFlags&13886)for(b=b.child;b!==null;)im(b,g),b=b.sibling}function im(g,b){var k=g.alternate,z=g.flags;switch(g.tag){case 0:case 11:case 14:case 15:gi(b,g),yi(g),z&4&&(Yl(3,g,g.return),Wl(3,g),Yl(5,g,g.return));break;case 1:gi(b,g),yi(g),z&512&&(Ea||k===null||Yi(k,k.return)),z&64&&wa&&(g=g.updateQueue,g!==null&&(z=g.callbacks,z!==null&&(k=g.shared.hiddenCallbacks,g.shared.hiddenCallbacks=k===null?z:k.concat(z))));break;case 26:if(Lo){var X=wr;if(gi(b,g),yi(g),z&512&&(Ea||k===null||Yi(k,k.return)),z&4){z=k!==null?k.memoizedState:null;var ne=g.memoizedState;k===null?ne===null?g.stateNode===null?g.stateNode=B3(X,g.type,g.memoizedProps,g):Qb(X,g.type,g.stateNode):g.stateNode=Xb(X,ne,g.memoizedProps):z!==ne?(z===null?k.stateNode!==null&&Zb(k.stateNode):td(z),ne===null?Qb(X,g.type,g.stateNode):Xb(X,ne,g.memoizedProps)):ne===null&&g.stateNode!==null&&tm(g,g.memoizedProps,k.memoizedProps)}break}case 27:if(ri){gi(b,g),yi(g),z&512&&(Ea||k===null||Yi(k,k.return)),k!==null&&z&4&&tm(g,g.memoizedProps,k.memoizedProps);break}case 5:if(gi(b,g),yi(g),z&512&&(Ea||k===null||Yi(k,k.return)),Vn){if(g.flags&32){X=g.stateNode;try{Pb(X)}catch(vt){mn(g,g.return,vt)}}z&4&&g.stateNode!=null&&(X=g.memoizedProps,tm(g,X,k!==null?k.memoizedProps:X)),z&1024&&(kh=!0)}else lo&&g.alternate!==null&&(g.alternate.stateNode=g.stateNode);break;case 6:if(gi(b,g),yi(g),z&4&&Vn){if(g.stateNode===null)throw Error(a(162));z=g.memoizedProps,k=k!==null?k.memoizedProps:z,X=g.stateNode;try{c3(X,k,z)}catch(vt){mn(g,g.return,vt)}}break;case 3:if(Lo?(H3(),X=wr,wr=ym(b.containerInfo),gi(b,g),wr=X):gi(b,g),yi(g),z&4){if(Vn&&Xr&&k!==null&&k.memoizedState.isDehydrated)try{N3(b.containerInfo)}catch(vt){mn(g,g.return,vt)}if(lo){z=b.containerInfo,k=b.pendingChildren;try{Bb(z,k)}catch(vt){mn(g,g.return,vt)}}}kh&&(kh=!1,u0(g));break;case 4:Lo?(k=wr,wr=ym(g.stateNode.containerInfo),gi(b,g),yi(g),wr=k):(gi(b,g),yi(g)),z&4&&lo&&mb(g.stateNode,g,g.stateNode.pendingChildren);break;case 12:gi(b,g),yi(g);break;case 31:gi(b,g),yi(g),z&4&&(z=g.updateQueue,z!==null&&(g.updateQueue=null,Qc(g,z)));break;case 13:gi(b,g),yi(g),g.child.flags&8192&&g.memoizedState!==null!=(k!==null&&k.memoizedState!==null)&&(Am=Ki()),z&4&&(z=g.updateQueue,z!==null&&(g.updateQueue=null,Qc(g,z)));break;case 22:X=g.memoizedState!==null;var de=k!==null&&k.memoizedState!==null,Re=wa,tt=Ea;if(wa=Re||X,Ea=tt||de,gi(b,g),Ea=tt,wa=Re,yi(g),z&8192&&(b=g.stateNode,b._visibility=X?b._visibility&-2:b._visibility|1,X&&(k===null||de||wa||Ea||Uu(g)),Vn)){e:if(k=null,Vn)for(b=g;;){if(b.tag===5||Lo&&b.tag===26){if(k===null){de=k=b;try{ne=de.stateNode,X?nE(ne):g3(de.stateNode,de.memoizedProps)}catch(vt){mn(de,de.return,vt)}}}else if(b.tag===6){if(k===null){de=b;try{var gt=de.stateNode;X?m3(gt):y3(gt,de.memoizedProps)}catch(vt){mn(de,de.return,vt)}}}else if(b.tag===18){if(k===null){de=b;try{var It=de.stateNode;X?L3(It):z3(de.stateNode)}catch(vt){mn(de,de.return,vt)}}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===g)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===g)break e;for(;b.sibling===null;){if(b.return===null||b.return===g)break e;k===b&&(k=null),b=b.return}k===b&&(k=null),b.sibling.return=b.return,b=b.sibling}}z&4&&(z=g.updateQueue,z!==null&&(k=z.retryQueue,k!==null&&(z.retryQueue=null,Qc(g,k))));break;case 19:gi(b,g),yi(g),z&4&&(z=g.updateQueue,z!==null&&(g.updateQueue=null,Qc(g,z)));break;case 30:break;case 21:break;default:gi(b,g),yi(g)}}function yi(g){var b=g.flags;if(b&2){try{for(var k,z=g.return;z!==null;){if(pb(z)){k=z;break}z=z.return}if(Vn){if(k==null)throw Error(a(160));switch(k.tag){case 27:if(ri){var X=k.stateNode,ne=Xc(g);nm(g,ne,X);break}case 5:var de=k.stateNode;k.flags&32&&(Pb(de),k.flags&=-33);var Re=Xc(g);nm(g,Re,de);break;case 3:case 4:var tt=k.stateNode.containerInfo,gt=Xc(g);c0(g,gt,tt);break;default:throw Error(a(161))}}}catch(It){mn(g,g.return,It)}g.flags&=-3}b&4096&&(g.flags&=-4097)}function u0(g){if(g.subtreeFlags&1024)for(g=g.child;g!==null;){var b=g;u0(b),b.tag===5&&b.flags&1024&&kb(b.stateNode),g=g.sibling}}function us(g,b){if(b.subtreeFlags&8772)for(b=b.child;b!==null;)ZS(g,b.alternate,b),b=b.sibling}function Uu(g){for(g=g.child;g!==null;){var b=g;switch(b.tag){case 0:case 11:case 14:case 15:Yl(4,b,b.return),Uu(b);break;case 1:Yi(b,b.return);var k=b.stateNode;typeof k.componentWillUnmount=="function"&&l0(b,b.return,k),Uu(b);break;case 27:ri&&bi(b.stateNode);case 26:case 5:Yi(b,b.return),Uu(b);break;case 22:b.memoizedState===null&&Uu(b);break;case 30:Uu(b);break;default:Uu(b)}g=g.sibling}}function Do(g,b,k){for(k=k&&(b.subtreeFlags&8772)!==0,b=b.child;b!==null;){var z=b.alternate,X=g,ne=b,de=ne.flags;switch(ne.tag){case 0:case 11:case 15:Do(X,ne,k),Wl(4,ne);break;case 1:if(Do(X,ne,k),z=ne,X=z.stateNode,typeof X.componentDidMount=="function")try{X.componentDidMount()}catch(gt){mn(z,z.return,gt)}if(z=ne,X=z.updateQueue,X!==null){var Re=z.stateNode;try{var tt=X.shared.hiddenCallbacks;if(tt!==null)for(X.shared.hiddenCallbacks=null,X=0;X<tt.length;X++)Xs(tt[X],Re)}catch(gt){mn(z,z.return,gt)}}k&&de&64&&uh(ne),dh(ne,ne.return);break;case 27:ri&&QS(ne);case 26:case 5:Do(X,ne,k),k&&z===null&&de&4&&nf(ne),dh(ne,ne.return);break;case 12:Do(X,ne,k);break;case 31:Do(X,ne,k),k&&de&4&&jo(X,ne);break;case 13:Do(X,ne,k),k&&de&4&&am(X,ne);break;case 22:ne.memoizedState===null&&Do(X,ne,k),dh(ne,ne.return);break;case 30:break;default:Do(X,ne,k)}b=b.sibling}}function $u(g,b){var k=null;g!==null&&g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(k=g.memoizedState.cachePool.pool),g=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(g=b.memoizedState.cachePool.pool),g!==k&&(g!=null&&g.refCount++,k!=null&&Ce(k))}function yb(g,b){g=null,b.alternate!==null&&(g=b.alternate.memoizedState.cache),b=b.memoizedState.cache,b!==g&&(b.refCount++,g!=null&&Ce(g))}function ua(g,b,k,z){if(b.subtreeFlags&10256)for(b=b.child;b!==null;)d0(g,b,k,z),b=b.sibling}function d0(g,b,k,z){var X=b.flags;switch(b.tag){case 0:case 11:case 15:ua(g,b,k,z),X&2048&&Wl(9,b);break;case 1:ua(g,b,k,z);break;case 3:ua(g,b,k,z),X&2048&&(g=null,b.alternate!==null&&(g=b.alternate.memoizedState.cache),b=b.memoizedState.cache,b!==g&&(b.refCount++,g!=null&&Ce(g)));break;case 12:if(X&2048){ua(g,b,k,z),g=b.stateNode;try{var ne=b.memoizedProps,de=ne.id,Re=ne.onPostCommit;typeof Re=="function"&&Re(de,b.alternate===null?"mount":"update",g.passiveEffectDuration,-0)}catch(tt){mn(b,b.return,tt)}}else ua(g,b,k,z);break;case 31:ua(g,b,k,z);break;case 13:ua(g,b,k,z);break;case 23:break;case 22:ne=b.stateNode,de=b.alternate,b.memoizedState!==null?ne._visibility&2?ua(g,b,k,z):fh(g,b):ne._visibility&2?ua(g,b,k,z):(ne._visibility|=2,ks(g,b,k,z,(b.subtreeFlags&10256)!==0||!1)),X&2048&&$u(de,b);break;case 24:ua(g,b,k,z),X&2048&&yb(b.alternate,b);break;default:ua(g,b,k,z)}}function ks(g,b,k,z,X){for(X=X&&((b.subtreeFlags&10256)!==0||!1),b=b.child;b!==null;){var ne=g,de=b,Re=k,tt=z,gt=de.flags;switch(de.tag){case 0:case 11:case 15:ks(ne,de,Re,tt,X),Wl(8,de);break;case 23:break;case 22:var It=de.stateNode;de.memoizedState!==null?It._visibility&2?ks(ne,de,Re,tt,X):fh(ne,de):(It._visibility|=2,ks(ne,de,Re,tt,X)),X&&gt&2048&&$u(de.alternate,de);break;case 24:ks(ne,de,Re,tt,X),X&&gt&2048&&yb(de.alternate,de);break;default:ks(ne,de,Re,tt,X)}b=b.sibling}}function fh(g,b){if(b.subtreeFlags&10256)for(b=b.child;b!==null;){var k=g,z=b,X=z.flags;switch(z.tag){case 22:fh(k,z),X&2048&&$u(z.alternate,z);break;case 24:fh(k,z),X&2048&&yb(z.alternate,z);break;default:fh(k,z)}b=b.sibling}}function Kl(g,b,k){if(g.subtreeFlags&ho)for(g=g.child;g!==null;)Gu(g,b,k),g=g.sibling}function Gu(g,b,k){switch(g.tag){case 26:if(Kl(g,b,k),g.flags&ho)if(g.memoizedState!==null)U3(k,wr,g.memoizedState,g.memoizedProps);else{var z=g.stateNode,X=g.type;g=g.memoizedProps,((b&335544128)===b||Ab(X,g))&&A0(k,z,X,g)}break;case 5:Kl(g,b,k),g.flags&ho&&(z=g.stateNode,X=g.type,g=g.memoizedProps,((b&335544128)===b||Ab(X,g))&&A0(k,z,X,g));break;case 3:case 4:Lo?(z=wr,wr=ym(g.stateNode.containerInfo),Kl(g,b,k),wr=z):Kl(g,b,k);break;case 22:g.memoizedState===null&&(z=g.alternate,z!==null&&z.memoizedState!==null?(z=ho,ho=16777216,Kl(g,b,k),ho=z):Kl(g,b,k));break;default:Kl(g,b,k)}}function f0(g){var b=g.alternate;if(b!==null&&(g=b.child,g!==null)){b.child=null;do b=g.sibling,g.sibling=null,g=b;while(g!==null)}}function hh(g){var b=g.deletions;if((g.flags&16)!==0){if(b!==null)for(var k=0;k<b.length;k++){var z=b[k];La=z,io(z,g)}f0(g)}if(g.subtreeFlags&10256)for(g=g.child;g!==null;)h0(g),g=g.sibling}function h0(g){switch(g.tag){case 0:case 11:case 15:hh(g),g.flags&2048&&Yl(9,g,g.return);break;case 3:hh(g);break;case 12:hh(g);break;case 22:var b=g.stateNode;g.memoizedState!==null&&b._visibility&2&&(g.return===null||g.return.tag!==13)?(b._visibility&=-3,sm(g)):hh(g);break;default:hh(g)}}function sm(g){var b=g.deletions;if((g.flags&16)!==0){if(b!==null)for(var k=0;k<b.length;k++){var z=b[k];La=z,io(z,g)}f0(g)}for(g=g.child;g!==null;){switch(b=g,b.tag){case 0:case 11:case 15:Yl(8,b,b.return),sm(b);break;case 22:k=b.stateNode,k._visibility&2&&(k._visibility&=-3,sm(b));break;default:sm(b)}g=g.sibling}}function io(g,b){for(;La!==null;){var k=La;switch(k.tag){case 0:case 11:case 15:Yl(8,k,b);break;case 23:case 22:if(k.memoizedState!==null&&k.memoizedState.cachePool!==null){var z=k.memoizedState.cachePool.pool;z!=null&&z.refCount++}break;case 24:Ce(k.memoizedState.cache)}if(z=k.child,z!==null)z.return=k,La=z;else e:for(k=g;La!==null;){z=La;var X=z.sibling,ne=z.return;if(gb(z),z===k){La=null;break e}if(X!==null){X.return=ne,La=X;break e}La=ne}}}function qu(g){var b=En(g);if(b!=null){if(typeof b.memoizedProps["data-testname"]!="string")throw Error(a(364));return b}if(g=Na(g),g===null)throw Error(a(362));return g.stateNode.current}function Vu(g,b){var k=g.tag;switch(b.$$typeof){case qo:if(g.type===b.value)return!0;break;case jh:e:{for(b=b.value,g=[g,0],k=0;k<g.length;){var z=g[k++],X=z.tag,ne=g[k++],de=b[ne];if(X!==5&&X!==26&&X!==27||!Ju(z)){for(;de!=null&&Vu(z,de);)ne++,de=b[ne];if(ne===b.length){b=!0;break e}else for(z=z.child;z!==null;)g.push(z,ne),z=z.sibling}}b=!1}return b;case Oh:if((k===5||k===26||k===27)&&Ob(g.stateNode,b.value))return!0;break;case od:if((k===5||k===6||k===26||k===27)&&(g=mm(g),g!==null&&0<=g.indexOf(b.value)))return!0;break;case Em:if((k===5||k===26||k===27)&&(g=g.memoizedProps["data-testname"],typeof g=="string"&&g.toLowerCase()===b.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function ph(g){switch(g.$$typeof){case qo:return"<"+(h(g.value)||"Unknown")+">";case jh:return":has("+(ph(g)||"")+")";case Oh:return'[role="'+g.value+'"]';case od:return'"'+g.value+'"';case Em:return'[data-testname="'+g.value+'"]';default:throw Error(a(365))}}function mh(g,b){var k=[];g=[g,0];for(var z=0;z<g.length;){var X=g[z++],ne=X.tag,de=g[z++],Re=b[de];if(ne!==5&&ne!==26&&ne!==27||!Ju(X)){for(;Re!=null&&Vu(X,Re);)de++,Re=b[de];if(de===b.length)k.push(X);else for(X=X.child;X!==null;)g.push(X,de),X=X.sibling}}return k}function Is(g,b){if(!ni)throw Error(a(363));g=qu(g),g=mh(g,b),b=[],g=Array.from(g);for(var k=0;k<g.length;){var z=g[k++],X=z.tag;if(X===5||X===26||X===27)Ju(z)||b.push(z.stateNode);else for(z=z.child;z!==null;)g.push(z),z=z.sibling}return b}function Kr(){return(Fn&2)!==0&&$n!==0?$n&-$n:on.T!==null?qt():wh()}function Zc(){if(ys===0)if(($n&536870912)===0||Un){var g=gf;gf<<=1,(gf&3932160)===0&&(gf=262144),ys=g}else ys=536870912;return g=Ps.current,g!==null&&(g.flags|=32),ys}function da(g,b,k){(g===On&&(Er===2||Er===9)||g.cancelPendingCommit!==null)&&(_a(g,0),Ql(g,$n,ys,!1)),j(g,k),((Fn&2)===0||g!==On)&&(g===On&&((Fn&2)===0&&(ud|=k),ma===4&&Ql(g,$n,ys,!1)),He(g))}function vl(g,b,k){if((Fn&6)!==0)throw Error(a(327));var z=!k&&(b&127)===0&&(b&g.expiredLanes)===0||w(g,b),X=z?t3(g,b):Zl(g,b,!0),ne=z;do{if(X===0){ld&&!z&&Ql(g,b,0,!1);break}else{if(k=g.current.alternate,ne&&!JS(k)){X=Zl(g,b,!1),ne=!1;continue}if(X===2){if(ne=b,g.errorRecoveryDisabledLanes&ne)var de=0;else de=g.pendingLanes&-536870913,de=de!==0?de:de&536870912?536870912:0;if(de!==0){b=de;e:{var Re=g;X=Tm;var tt=Xr&&Re.current.memoizedState.isDehydrated;if(tt&&(_a(Re,de).flags|=256),de=Zl(Re,de,!1),de!==2){if(cd&&!tt){Re.errorRecoveryDisabledLanes|=ne,ud|=ne,X=4;break e}ne=Ls,Ls=X,ne!==null&&(Ls===null?Ls=ne:Ls.push.apply(Ls,ne))}X=de}if(ne=!1,X!==2)continue}}if(X===1){_a(g,0),Ql(g,b,0,!0);break}e:{switch(z=g,ne=X,ne){case 0:case 1:throw Error(a(345));case 4:if((b&4194048)!==b)break;case 6:Ql(z,b,ys,!wl);break e;case 2:Ls=null;break;case 3:case 5:break;default:throw Error(a(329))}if((b&62914560)===b&&(X=Am+300-Ki(),10<X)){if(Ql(z,b,ys,!wl),C(z,0,!0)!==0)break e;fc=b,z.timeoutHandle=Tb(Xl.bind(null,z,k,Ls,Rm,K0,b,ys,ud,Mh,wl,ne,"Throttled",-0,0),X);break e}Xl(z,k,Ls,Rm,K0,b,ys,ud,Mh,wl,ne,null,-0,0)}}break}while(!0);He(g)}function Xl(g,b,k,z,X,ne,de,Re,tt,gt,It,vt,Vt,wn){if(g.timeoutHandle=Ds,vt=b.subtreeFlags,vt&8192||(vt&16785408)===16785408){vt=Rb(),Gu(b,ne,vt);var Si=(ne&62914560)===ne?Am-Ki():(ne&4194048)===ne?Cf-Ki():0;if(Si=l3(vt,Si),Si!==null){fc=ne,g.cancelPendingCommit=Si(ec.bind(null,g,b,ne,k,z,X,de,Re,tt,It,vt,null,Vt,wn)),Ql(g,ne,de,!gt);return}}ec(g,b,ne,k,z,X,de,Re,tt)}function JS(g){for(var b=g;;){var k=b.tag;if((k===0||k===11||k===15)&&b.flags&16384&&(k=b.updateQueue,k!==null&&(k=k.stores,k!==null)))for(var z=0;z<k.length;z++){var X=k[z],ne=X.getSnapshot;X=X.value;try{if(!Pa(ne(),X))return!1}catch{return!1}}if(k=b.child,b.subtreeFlags&16384&&k!==null)k.return=b,b=k;else{if(b===g)break;for(;b.sibling===null;){if(b.return===null||b.return===g)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}}return!0}function Ql(g,b,k,z){b&=~Dh,b&=~ud,g.suspendedLanes|=b,g.pingedLanes&=~b,z&&(g.warmLanes|=b),z=g.expirationTimes;for(var X=b;0<X;){var ne=31-Ms(X),de=1<<ne;z[ne]=-1,X&=~de}k!==0&&L(g,k,b)}function p0(){return(Fn&6)===0?(Qe(0),!1):!0}function m0(){if(Bn!==null){if(Er===0)var g=Bn.return;else g=Bn,_l=Br=null,Gc(g),ad=null,bf=0,g=Bn;for(;g!==null;)XS(g.alternate,g),g=g.return;Bn=null}}function _a(g,b){var k=g.timeoutHandle;k!==Ds&&(g.timeoutHandle=Ds,o3(k)),k=g.cancelPendingCommit,k!==null&&(g.cancelPendingCommit=null,k()),fc=0,m0(),On=g,Bn=k=oo(g.current,null),$n=b,Er=0,Ya=null,wl=!1,ld=w(g,b),cd=!1,Mh=ys=Dh=ud=uu=ma=0,Ls=Tm=null,K0=!1,(b&8)!==0&&(b|=b&32);var z=g.entangledLanes;if(z!==0)for(g=g.entanglements,z&=b;0<z;){var X=31-Ms(z),ne=1<<X;b|=g[X],z&=~ne}return dc=b,cr(),k}function Fr(g,b){Tn=null,on.H=fo,b===si||b===$o?(b=Nn(),Er=3):b===W0?(b=Nn(),Er=4):Er=b===gs?8:b!==null&&typeof b=="object"&&typeof b.then=="function"?6:1,Ya=b,Bn===null&&(ma=1,a0(g,Q(b,g.current)))}function qn(){var g=Ps.current;return g===null?!0:($n&4194048)===$n?ms===null:($n&62914560)===$n||($n&536870912)!==0?g===ms:!1}function Jc(){var g=on.H;return on.H=fo,g===null?fo:g}function so(){var g=on.A;return on.A=Ih,g}function gh(){ma=4,wl||($n&4194048)!==$n&&Ps.current!==null||(ld=!0),(uu&134217727)===0&&(ud&134217727)===0||On===null||Ql(On,$n,ys,!1)}function Zl(g,b,k){var z=Fn;Fn|=2;var X=Jc(),ne=so();(On!==g||$n!==b)&&(Rm=null,_a(g,b)),b=!1;var de=ma;e:do try{if(Er!==0&&Bn!==null){var Re=Bn,tt=Ya;switch(Er){case 8:m0(),de=6;break e;case 3:case 2:case 9:case 6:Ps.current===null&&(b=!0);var gt=Er;if(Er=0,Ya=null,Jl(g,Re,tt,gt),k&&ld){de=0;break e}break;default:gt=Er,Er=0,Ya=null,Jl(g,Re,tt,gt)}}e3(),de=ma;break}catch(It){Fr(g,It)}while(!0);return b&&g.shellSuspendCounter++,_l=Br=null,Fn=z,on.H=X,on.A=ne,Bn===null&&(On=null,$n=0,cr()),de}function e3(){for(;Bn!==null;)Wu(Bn)}function t3(g,b){var k=Fn;Fn|=2;var z=Jc(),X=so();On!==g||$n!==b?(Rm=null,dd=Ki()+500,_a(g,b)):ld=w(g,b);e:do try{if(Er!==0&&Bn!==null){b=Bn;var ne=Ya;t:switch(Er){case 1:Er=0,Ya=null,Jl(g,b,ne,1);break;case 2:case 9:if(_n(ne)){Er=0,Ya=null,g0(b);break}b=function(){Er!==2&&Er!==9||On!==g||(Er=7),He(g)},ne.then(b,b);break e;case 3:Er=7;break e;case 4:Er=5;break e;case 7:_n(ne)?(Er=0,Ya=null,g0(b)):(Er=0,Ya=null,Jl(g,b,ne,7));break;case 5:var de=null;switch(Bn.tag){case 26:de=Bn.memoizedState;case 5:case 27:var Re=Bn,tt=Re.type,gt=Re.pendingProps;if(de?ex(de):fa(Re.stateNode,tt,gt)){Er=0,Ya=null;var It=Re.sibling;if(It!==null)Bn=It;else{var vt=Re.return;vt!==null?(Bn=vt,bh(vt)):Bn=null}break t}}Er=0,Ya=null,Jl(g,b,ne,5);break;case 6:Er=0,Ya=null,Jl(g,b,ne,6);break;case 8:m0(),ma=6;break e;default:throw Error(a(462))}}yh();break}catch(Vt){Fr(g,Vt)}while(!0);return _l=Br=null,on.H=z,on.A=X,Fn=k,Bn!==null?0:(On=null,$n=0,cr(),ma)}function yh(){for(;Bn!==null&&!G3();)Wu(Bn)}function Wu(g){var b=ub(g.alternate,g,dc);g.memoizedProps=g.pendingProps,b===null?bh(g):Bn=b}function g0(g){var b=g,k=b.alternate;switch(b.tag){case 15:case 0:b=ab(k,b,b.pendingProps,b.type,void 0,$n);break;case 11:b=ab(k,b,b.pendingProps,b.type.render,b.ref,$n);break;case 5:Gc(b);default:XS(k,b),b=Bn=x0(b,dc),b=ub(k,b,dc)}g.memoizedProps=g.pendingProps,b===null?bh(g):Bn=b}function Jl(g,b,k,z){_l=Br=null,Gc(b),ad=null,bf=0;var X=b.return;try{if(Zw(g,X,b,k,$n)){ma=1,a0(g,Q(k,g.current)),Bn=null;return}}catch(ne){if(X!==null)throw Bn=X,ne;ma=1,a0(g,Q(k,g.current)),Bn=null;return}b.flags&32768?(Un||z===1?g=!0:ld||($n&536870912)!==0?g=!1:(wl=g=!0,(z===2||z===9||z===3||z===6)&&(z=Ps.current,z!==null&&z.tag===13&&(z.flags|=16384))),Yu(b,g)):bh(b)}function bh(g){var b=g;do{if((b.flags&32768)!==0){Yu(b,wl);return}g=b.return;var k=KS(b.alternate,b,dc);if(k!==null){Bn=k;return}if(b=b.sibling,b!==null){Bn=b;return}Bn=b=g}while(b!==null);ma===0&&(ma=5)}function Yu(g,b){do{var k=hb(g.alternate,g);if(k!==null){k.flags&=32767,Bn=k;return}if(k=g.return,k!==null&&(k.flags|=32768,k.subtreeFlags=0,k.deletions=null),!b&&(g=g.sibling,g!==null)){Bn=g;return}Bn=g=k}while(g!==null);ma=6,Bn=null}function ec(g,b,k,z,X,ne,de,Re,tt){g.cancelPendingCommit=null;do nc();while(Ka!==0);if((Fn&6)!==0)throw Error(a(327));if(b!==null){if(b===g.current)throw Error(a(177));if(ne=b.lanes|b.childLanes,ne|=xf,O(g,k,ne,de,Re,tt),g===On&&(Bn=On=null,$n=0),wf=b,fu=g,fc=k,Nh=ne,X0=X,cx=z,(b.subtreeFlags&10256)!==0||(b.flags&10256)!==0?(g.callbackNode=null,g.callbackPriority=0,Va(xm,function(){return om(),null})):(g.callbackNode=null,g.callbackPriority=0),z=(b.flags&13878)!==0,(b.subtreeFlags&13878)!==0||z){z=on.T,on.T=null,X=Po(),Hn(2),de=Fn,Fn|=4;try{Jw(g,b,k)}finally{Fn=de,Hn(X),on.T=z}}Ka=1,eu(),tc(),y0()}}function eu(){if(Ka===1){Ka=0;var g=fu,b=wf,k=(b.flags&13878)!==0;if((b.subtreeFlags&13878)!==0||k){k=on.T,on.T=null;var z=Po();Hn(2);var X=Fn;Fn|=4;try{im(b,g),s3(g.containerInfo)}finally{Fn=X,Hn(z),on.T=k}}g.current=b,Ka=2}}function tc(){if(Ka===2){Ka=0;var g=fu,b=wf,k=(b.flags&8772)!==0;if((b.subtreeFlags&8772)!==0||k){k=on.T,on.T=null;var z=Po();Hn(2);var X=Fn;Fn|=4;try{ZS(g,b.alternate,b)}finally{Fn=X,Hn(z),on.T=k}}Ka=3}}function y0(){if(Ka===4||Ka===3){Ka=0,nx();var g=fu,b=wf,k=fc,z=cx;(b.subtreeFlags&10256)!==0||(b.flags&10256)!==0?Ka=5:(Ka=0,wf=fu=null,b0(g,g.pendingLanes));var X=g.pendingLanes;if(X===0&&(du=null),P(k),b=b.stateNode,Ns&&typeof Ns.onCommitFiberRoot=="function")try{Ns.onCommitFiberRoot(yf,b,void 0,(b.current.flags&128)===128)}catch{}if(z!==null){b=on.T,X=Po(),Hn(2),on.T=null;try{for(var ne=g.onRecoverableError,de=0;de<z.length;de++){var Re=z[de];ne(Re.value,{componentStack:Re.stack})}}finally{on.T=b,Hn(X)}}(fc&3)!==0&&nc(),He(g),X=g.pendingLanes,(k&261930)!==0&&(X&42)!==0?g===km?ar++:(ar=0,km=g):ar=0,Xr&&gm(),Qe(0)}}function b0(g,b){(g.pooledCacheLanes&=b)===0&&(b=g.pooledCache,b!=null&&(g.pooledCache=null,Ce(b)))}function nc(){return eu(),tc(),y0(),om()}function om(){if(Ka!==5)return!1;var g=fu,b=Nh;Nh=0;var k=P(fc),z=32>k?32:k;k=on.T;var X=Po();try{Hn(z),on.T=null,z=X0,X0=null;var ne=fu,de=fc;if(Ka=0,wf=fu=null,fc=0,(Fn&6)!==0)throw Error(a(331));var Re=Fn;if(Fn|=4,h0(ne.current),d0(ne,ne.current,de,z),Fn=Re,Qe(0,!1),Ns&&typeof Ns.onPostCommitFiberRoot=="function")try{Ns.onPostCommitFiberRoot(yf,ne)}catch{}return!0}finally{Hn(X),on.T=k,b0(g,b)}}function Ku(g,b,k){b=Q(k,b),b=nb(g.stateNode,b,2),g=Oi(g,b,2),g!==null&&(j(g,2),He(g))}function mn(g,b,k){if(g.tag===3)Ku(g,g,k);else for(;b!==null;){if(b.tag===3){Ku(b,g,k);break}else if(b.tag===1){var z=b.stateNode;if(typeof b.type.getDerivedStateFromError=="function"||typeof z.componentDidCatch=="function"&&(du===null||!du.has(z))){g=Q(k,g),k=LS(2),z=Oi(b,k,2),z!==null&&(zS(k,z,b,g),j(z,2),He(z));break}}b=b.return}}function xh(g,b,k){var z=g.pingCache;if(z===null){z=g.pingCache=new po;var X=new Set;z.set(b,X)}else X=z.get(b),X===void 0&&(X=new Set,z.set(b,X));X.has(k)||(cd=!0,X.add(k),g=n3.bind(null,g,b,k),b.then(g,g))}function n3(g,b,k){var z=g.pingCache;z!==null&&z.delete(b),g.pingedLanes|=g.suspendedLanes&k,g.warmLanes&=~k,On===g&&($n&k)===k&&(ma===4||ma===3&&($n&62914560)===$n&&300>Ki()-Am?(Fn&2)===0&&_a(g,0):Dh|=k,Mh===$n&&(Mh=0)),He(g)}function r3(g,b){b===0&&(b=E()),g=sa(g,b),g!==null&&(j(g,b),He(g))}function eE(g){var b=g.memoizedState,k=0;b!==null&&(k=b.retryLane),r3(g,k)}function tE(g,b){var k=0;switch(g.tag){case 31:case 13:var z=g.stateNode,X=g.memoizedState;X!==null&&(k=X.retryLane);break;case 19:z=g.stateNode;break;case 22:z=g.stateNode._retryCache;break;default:throw Error(a(314))}z!==null&&z.delete(b),r3(g,k)}function Va(g,b){return bm(g,b)}function bb(g,b,k,z){this.tag=g,this.key=k,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=z,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rf(g){return g=g.prototype,!(!g||!g.isReactComponent)}function oo(g,b){var k=g.alternate;return k===null?(k=n(g.tag,b,g.key,g.mode),k.elementType=g.elementType,k.type=g.type,k.stateNode=g.stateNode,k.alternate=g,g.alternate=k):(k.pendingProps=b,k.type=g.type,k.flags=0,k.subtreeFlags=0,k.deletions=null),k.flags=g.flags&65011712,k.childLanes=g.childLanes,k.lanes=g.lanes,k.child=g.child,k.memoizedProps=g.memoizedProps,k.memoizedState=g.memoizedState,k.updateQueue=g.updateQueue,b=g.dependencies,k.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},k.sibling=g.sibling,k.index=g.index,k.ref=g.ref,k.refCleanup=g.refCleanup,k}function x0(g,b){g.flags&=65011714;var k=g.alternate;return k===null?(g.childLanes=0,g.lanes=b,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=k.childLanes,g.lanes=k.lanes,g.child=k.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=k.memoizedProps,g.memoizedState=k.memoizedState,g.updateQueue=k.updateQueue,g.type=k.type,b=k.dependencies,g.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),g}function tu(g,b,k,z,X,ne){var de=0;if(z=g,typeof g=="function")rf(g)&&(de=1);else if(typeof g=="string")de=Lo&&ri?M0(g,k,xi.current)?26:tx(g)?27:5:Lo?M0(g,k,xi.current)?26:5:ri&&tx(g)?27:5;else e:switch(g){case dm:return g=n(31,k,b,X),g.elementType=dm,g.lanes=ne,g;case lf:return Mo(k.children,X,ne,b);case cf:de=8,X|=24;break;case uf:return g=n(12,k,b,X|2),g.elementType=uf,g.lanes=ne,g;case C0:return g=n(13,k,b,X),g.elementType=C0,g.lanes=ne,g;case nu:return g=n(19,k,b,X),g.elementType=nu,g.lanes=ne,g;default:if(typeof g=="object"&&g!==null)switch(g.$$typeof){case No:de=10;break e;case um:de=9;break e;case vh:de=11;break e;case w0:de=14;break e;case ds:de=16,z=null;break e}de=29,k=Error(a(130,g===null?"null":typeof g,"")),z=null}return b=n(de,k,b,X),b.elementType=g,b.type=z,b.lanes=ne,b}function Mo(g,b,k,z){return g=n(7,g,z,b),g.lanes=k,g}function xb(g,b,k){return g=n(6,g,null,b),g.lanes=k,g}function vb(g){var b=n(18,null,null,0);return b.stateNode=g,b}function Sb(g,b,k){return b=n(4,g.children!==null?g.children:[],g.key,b),b.lanes=k,b.stateNode={containerInfo:g.containerInfo,pendingChildren:null,implementation:g.implementation},b}function a3(g,b,k,z,X,ne,de,Re,tt){this.tag=1,this.containerInfo=g,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ds,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=I(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I(0),this.hiddenUpdates=I(null),this.identifierPrefix=z,this.onUncaughtError=X,this.onCaughtError=ne,this.onRecoverableError=de,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=tt,this.incompleteTransitions=new Map}function Xu(g,b,k,z,X,ne,de,Re,tt,gt,It,vt){return g=new a3(g,b,k,de,tt,gt,It,vt,Re),b=1,ne===!0&&(b|=24),ne=n(3,null,null,b),g.current=ne,ne.stateNode=g,b=ye(),b.refCount++,g.pooledCache=b,b.refCount++,ne.memoizedState={element:z,isDehydrated:k,cache:b},oa(ne),g}function v0(g){return g?(g=ac,g):ac}function lm(g){var b=g._reactInternals;if(b===void 0)throw typeof g.render=="function"?Error(a(188)):(g=Object.keys(g).join(","),Error(a(268,g)));return g=o(b),g=g!==null?l(g):null,g===null?null:_h(g.stateNode)}function _b(g,b,k,z,X,ne){X=v0(X),z.context===null?z.context=X:z.pendingContext=X,z=ti(b),z.payload={element:k},ne=ne===void 0?null:ne,ne!==null&&(z.callback=ne),k=Oi(g,z,b),k!==null&&(da(k,g,b),ll(k,g,b))}function af(g,b){if(g=g.memoizedState,g!==null&&g.dehydrated!==null){var k=g.retryLane;g.retryLane=k!==0&&k<b?k:b}}function cm(g,b){af(g,b),(g=g.alternate)&&af(g,b)}var In={},S0=Pg(),js=Mj(),_0=Object.assign,sf=Symbol.for("react.element"),rc=Symbol.for("react.transitional.element"),of=Symbol.for("react.portal"),lf=Symbol.for("react.fragment"),cf=Symbol.for("react.strict_mode"),uf=Symbol.for("react.profiler"),um=Symbol.for("react.consumer"),No=Symbol.for("react.context"),vh=Symbol.for("react.forward_ref"),C0=Symbol.for("react.suspense"),nu=Symbol.for("react.suspense_list"),w0=Symbol.for("react.memo"),ds=Symbol.for("react.lazy"),dm=Symbol.for("react.activity"),Cb=Symbol.for("react.memo_cache_sentinel"),ru=Symbol.iterator,Qu=Symbol.for("react.client.reference"),Zu=Array.isArray,on=S0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wb=e.rendererVersion,fm=e.rendererPackageName,Sh=e.extraDevToolsConfig,_h=e.getPublicInstance,i3=e.getRootHostContext,Ch=e.getChildHostContext,E0=e.prepareForCommit,s3=e.resetAfterCommit,Eb=e.createInstance;e.cloneMutableInstance;var hm=e.appendInitialChild,Os=e.finalizeInitialChildren,fs=e.shouldSetTextContent,au=e.createTextInstance;e.cloneMutableTextInstance;var Tb=e.scheduleTimeout,o3=e.cancelTimeout,Ds=e.noTimeout,Ma=e.isPrimaryRenderer;e.warnsIfNotActing;var Vn=e.supportsMutation,lo=e.supportsPersistence,Xr=e.supportsHydration,En=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var Or=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Hn=e.setCurrentUpdatePriority,Po=e.getCurrentUpdatePriority,wh=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var df=e.shouldAttemptEagerTransition,T0=e.detachDeletedInstance;e.requestPostPaintCallback;var pm=e.maySuspendCommit,Eh=e.maySuspendCommitOnUpdate,Ab=e.maySuspendCommitInSyncRender,fa=e.preloadInstance,Rb=e.startSuspendingCommit,A0=e.suspendInstance;e.suspendOnActiveViewTransition;var l3=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var ff=e.NotPendingTransition,hf=e.HostTransitionContext,kb=e.resetFormInstance;e.bindToConsole;var Ib=e.supportsMicrotasks,jb=e.scheduleMicrotask,ni=e.supportsTestSelectors,Na=e.findFiberRoot,R0=e.getBoundingRect,mm=e.getTextContent,Ju=e.isHiddenSubtree,Ob=e.matchAccessibilityRole,iu=e.setFocusIfFocusable,k0=e.setupIntersectionObserver,Db=e.appendChild,Mb=e.appendChildToContainer,c3=e.commitTextUpdate,u3=e.commitMount,d3=e.commitUpdate,f3=e.insertBefore,h3=e.insertInContainerBefore,p3=e.removeChild,Nb=e.removeChildFromContainer,Pb=e.resetTextContent,nE=e.hideInstance,m3=e.hideTextInstance,g3=e.unhideInstance,y3=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var Lb=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var b3=e.cloneInstance,zb=e.createContainerChildSet,Fb=e.appendChildToContainerChildSet,x3=e.finalizeContainerChildren,Bb=e.replaceContainerChildren,v3=e.cloneHiddenInstance,Hb=e.cloneHiddenTextInstance,ed=e.isSuspenseInstancePending,I0=e.isSuspenseInstanceFallback,j0=e.getSuspenseInstanceFallbackErrorDetails,O0=e.registerSuspenseInstanceRetry,S3=e.canHydrateFormStateMarker,Ub=e.isFormStateMarkerMatching,_3=e.getNextHydratableSibling,C3=e.getNextHydratableSiblingAfterSingleton,w3=e.getFirstHydratableChild,E3=e.getFirstHydratableChildWithinContainer,T3=e.getFirstHydratableChildWithinActivityInstance,A3=e.getFirstHydratableChildWithinSuspenseInstance,$b=e.getFirstHydratableChildWithinSingleton,R3=e.canHydrateInstance,k3=e.canHydrateTextInstance,Gb=e.canHydrateActivityInstance,I3=e.canHydrateSuspenseInstance,j3=e.hydrateInstance,rE=e.hydrateTextInstance,qb=e.hydrateActivityInstance,O3=e.hydrateSuspenseInstance,D3=e.getNextHydratableInstanceAfterActivityInstance,Vb=e.getNextHydratableInstanceAfterSuspenseInstance,M3=e.commitHydratedInstance,N3=e.commitHydratedContainer,aE=e.commitHydratedActivityInstance,iE=e.commitHydratedSuspenseInstance,P3=e.finalizeHydratedChildren,gm=e.flushHydrationEvents;e.clearActivityBoundary;var Wb=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var D0=e.clearSuspenseBoundaryFromContainer,L3=e.hideDehydratedBoundary,z3=e.unhideDehydratedBoundary,Th=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var F3=e.validateHydratableInstance,Yb=e.validateHydratableTextInstance,Lo=e.supportsResources,M0=e.isHostHoistableType,ym=e.getHoistableRoot,Kb=e.getResource,Xb=e.acquireResource,td=e.releaseResource,B3=e.hydrateHoistable,Qb=e.mountHoistable,Zb=e.unmountHoistable,N0=e.createHoistableInstance,H3=e.prepareToCommitHoistables,Jb=e.mayResourceSuspendCommit,ex=e.preloadResource,U3=e.suspendResource,ri=e.supportsSingletons,P0=e.resolveSingletonInstance,Wa=e.acquireSingletonInstance,bi=e.releaseSingletonInstance,tx=e.isHostSingletonType,pf=e.isSingletonScope,L0=[],mf=-1,ac={},Ms=Math.clz32?Math.clz32:v,z0=Math.log,$3=Math.LN2,F0=256,gf=262144,Ah=4194304,bm=js.unstable_scheduleCallback,B0=js.unstable_cancelCallback,G3=js.unstable_shouldYield,nx=js.unstable_requestPaint,Ki=js.unstable_now,H0=js.unstable_ImmediatePriority,q3=js.unstable_UserBlockingPriority,xm=js.unstable_NormalPriority,U0=js.unstable_IdlePriority,rx=js.log,V3=js.unstable_setDisableYieldValue,yf=null,Ns=null,Pa=typeof Object.is=="function"?Object.is:D,$0=typeof reportError=="function"?reportError:function(g){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var b=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof g=="object"&&g!==null&&typeof g.message=="string"?String(g.message):String(g),error:g});if(!window.dispatchEvent(b))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",g);return}console.error(g)},sE=Object.prototype.hasOwnProperty,G0,ic,vm=!1,ax=new WeakMap,su=[],sc=0,Dr=null,Sm=0,zo=[],co=0,Fo=null,zi=1,Sl="",xi=m(null),ou=m(null),Fi=m(null),_m=m(null),ai=null,Qr=null,Un=!1,oc=null,hs=!1,q0=Error(a(519)),Bo=m(null),Br=null,_l=null,W3=typeof AbortController<"u"?AbortController:function(){var g=[],b=this.signal={aborted:!1,addEventListener:function(k,z){g.push(z)}};this.abort=function(){b.aborted=!0,g.forEach(function(k){return k()})}},vi=js.unstable_scheduleCallback,oE=js.unstable_NormalPriority,Zr={$$typeof:No,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Cm=null,Cr=null,Xi=!1,Ho=!1,V0=!1,nd=0,Rh=null,ix=0,lu=0,ii=null,Uo=on.S;on.S=function(g,b){Cf=Ki(),typeof b=="object"&&b!==null&&typeof b.then=="function"&&Gt(g,b),Uo!==null&&Uo(g,b)};var rd=m(null),si=Error(a(460)),W0=Error(a(474)),$o=Error(a(542)),lc={then:function(){}},ps=null,ad=null,bf=0,Bi=Rn(!0),sx=Rn(!1),Hi=[],cc=0,xf=0,uo=!1,Y0=!1,vf=m(null),id=m(0),Ps=m(null),ms=null,Ca=m(0),cu=0,Tn=null,tn=null,xn=null,jn=!1,kn=!1,Kn=!1,Qi=0,Go=0,Cl=null,ox=0,fo={readContext:Xe,use:eo,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useLayoutEffect:ur,useInsertionEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useSyncExternalStore:ur,useId:ur,useHostTransitionStatus:ur,useFormState:ur,useActionState:ur,useOptimistic:ur,useMemoCache:ur,useCacheRefresh:ur};fo.useEffectEvent=ur;var ha={readContext:Xe,use:eo,useCallback:function(g,b){return ja().memoizedState=[g,b===void 0?null:b],g},useContext:Xe,useEffect:Ao,useImperativeHandle:function(g,b,k){k=k!=null?k.concat([g]):null,bl(4194308,4,ao.bind(null,b,g),k)},useLayoutEffect:function(g,b){return bl(4194308,4,g,b)},useInsertionEffect:function(g,b){bl(4,2,g,b)},useMemo:function(g,b){var k=ja();b=b===void 0?null:b;var z=g();if(Kn){$(!0);try{g()}finally{$(!1)}}return k.memoizedState=[z,b],z},useReducer:function(g,b,k){var z=ja();if(k!==void 0){var X=k(b);if(Kn){$(!0);try{k(b)}finally{$(!1)}}}else X=b;return z.memoizedState=z.baseState=X,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g,lastRenderedState:X},z.queue=g,g=g.dispatch=Qw.bind(null,Tn,g),[z.memoizedState,g]},useRef:function(g){var b=ja();return g={current:g},b.memoizedState=g},useState:function(g){g=Bl(g);var b=g.queue,k=DS.bind(null,Tn,b);return b.dispatch=k,[g.memoizedState,k]},useDebugValue:Gl,useDeferredValue:function(g,b){var k=ja();return Da(k,g,b)},useTransition:function(){var g=Bl(!1);return g=Kp.bind(null,Tn,g.queue,!0,!1),ja().memoizedState=g,[!1,g]},useSyncExternalStore:function(g,b,k){var z=Tn,X=ja();if(Un){if(k===void 0)throw Error(a(407));k=k()}else{if(k=b(),On===null)throw Error(a(349));($n&127)!==0||Vc(z,b,k)}X.memoizedState=k;var ne={value:k,getSnapshot:b};return X.queue=ne,Ao(Fl.bind(null,z,ne,g),[g]),z.flags|=2048,qa(9,{destroy:void 0},zl.bind(null,z,ne,k,b),null),k},useId:function(){var g=ja(),b=On.identifierPrefix;if(Un){var k=Sl,z=zi;k=(z&~(1<<32-Ms(z)-1)).toString(32)+k,b="_"+b+"R_"+k,k=Qi++,0<k&&(b+="H"+k.toString(32)),b+="_"}else k=ox++,b="_"+b+"r_"+k.toString(32)+"_";return g.memoizedState=b},useHostTransitionStatus:Jy,useFormState:Ul,useActionState:Ul,useOptimistic:function(g){var b=ja();b.memoizedState=b.baseState=g;var k={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return b.queue=k,b=t0.bind(null,Tn,!0,k),k.dispatch=b,[g,b]},useMemoCache:ul,useCacheRefresh:function(){return ja().memoizedState=Xw.bind(null,Tn)},useEffectEvent:function(g){var b=ja(),k={impl:g};return b.memoizedState=k,function(){if((Fn&2)!==0)throw Error(a(440));return k.impl.apply(void 0,arguments)}}},uc={readContext:Xe,use:eo,useCallback:_r,useContext:Xe,useEffect:xl,useImperativeHandle:Kc,useInsertionEffect:ls,useLayoutEffect:Ro,useMemo:ca,useReducer:to,useRef:yl,useState:function(){return to(mi)},useDebugValue:Gl,useDeferredValue:function(g,b){var k=mr();return ql(k,tn.memoizedState,g,b)},useTransition:function(){var g=to(mi)[0],b=mr().memoizedState;return[typeof g=="boolean"?g:Oa(g),b]},useSyncExternalStore:fl,useId:e0,useHostTransitionStatus:Jy,useFormState:ro,useActionState:ro,useOptimistic:function(g,b){var k=mr();return Wc(k,tn,g,b)},useMemoCache:ul,useCacheRefresh:OS};uc.useEffectEvent=Sa;var sd={readContext:Xe,use:eo,useCallback:_r,useContext:Xe,useEffect:xl,useImperativeHandle:Kc,useInsertionEffect:ls,useLayoutEffect:Ro,useMemo:ca,useReducer:dl,useRef:yl,useState:function(){return dl(mi)},useDebugValue:Gl,useDeferredValue:function(g,b){var k=mr();return tn===null?Da(k,g,b):ql(k,tn.memoizedState,g,b)},useTransition:function(){var g=dl(mi)[0],b=mr().memoizedState;return[typeof g=="boolean"?g:Oa(g),b]},useSyncExternalStore:fl,useId:e0,useHostTransitionStatus:Jy,useFormState:gl,useActionState:gl,useOptimistic:function(g,b){var k=mr();return tn!==null?Wc(k,tn,g,b):(k.baseState=g,[g,k.queue.dispatch])},useMemoCache:ul,useCacheRefresh:OS};sd.useEffectEvent=Sa;var wm={enqueueSetState:function(g,b,k){g=g._reactInternals;var z=Kr(),X=ti(z);X.payload=b,k!=null&&(X.callback=k),b=Oi(g,X,z),b!==null&&(da(b,g,z),ll(b,g,z))},enqueueReplaceState:function(g,b,k){g=g._reactInternals;var z=Kr(),X=ti(z);X.tag=1,X.payload=b,k!=null&&(X.callback=k),b=Oi(g,X,z),b!==null&&(da(b,g,z),ll(b,g,z))},enqueueForceUpdate:function(g,b){g=g._reactInternals;var k=Kr(),z=ti(k);z.tag=2,b!=null&&(z.callback=b),b=Oi(g,z,k),b!==null&&(da(b,g,k),ll(b,g,k))}},gs=Error(a(461)),Gr=!1,Sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},wa=!1,Ea=!1,kh=!1,lx=typeof WeakSet=="function"?WeakSet:Set,La=null,pa=null,za=!1,wr=null,ho=8192,Ih={getCacheForType:function(g){var b=Xe(Zr),k=b.data.get(g);return k===void 0&&(k=g(),b.data.set(g,k)),k},cacheSignal:function(){return Xe(Zr).controller.signal}},qo=0,jh=1,Oh=2,Em=3,od=4;if(typeof Symbol=="function"&&Symbol.for){var _f=Symbol.for;qo=_f("selector.component"),jh=_f("selector.has_pseudo_class"),Oh=_f("selector.role"),Em=_f("selector.test_id"),od=_f("selector.text")}var po=typeof WeakMap=="function"?WeakMap:Map,Fn=0,On=null,Bn=null,$n=0,Er=0,Ya=null,wl=!1,ld=!1,cd=!1,dc=0,ma=0,uu=0,ud=0,Dh=0,ys=0,Mh=0,Tm=null,Ls=null,K0=!1,Am=0,Cf=0,dd=1/0,Rm=null,du=null,Ka=0,fu=null,wf=null,fc=0,Nh=0,X0=null,cx=null,ar=0,km=null;return In.attemptContinuousHydration=function(g){if(g.tag===13||g.tag===31){var b=sa(g,67108864);b!==null&&da(b,g,67108864),cm(g,67108864)}},In.attemptHydrationAtCurrentPriority=function(g){if(g.tag===13||g.tag===31){var b=Kr();b=H(b);var k=sa(g,b);k!==null&&da(k,g,b),cm(g,b)}},In.attemptSynchronousHydration=function(g){switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=_(g.pendingLanes);if(b!==0){for(g.pendingLanes|=2,g.entangledLanes|=2;b;){var k=1<<31-Ms(b);g.entanglements[1]|=k,b&=~k}He(g),(Fn&6)===0&&(dd=Ki()+500,Qe(0))}}break;case 31:case 13:b=sa(g,2),b!==null&&da(b,g,2),p0(),cm(g,2)}},In.batchedUpdates=function(g,b){return g(b)},In.createComponentSelector=function(g){return{$$typeof:qo,value:g}},In.createContainer=function(g,b,k,z,X,ne,de,Re,tt,gt){return Xu(g,b,!1,null,k,z,ne,null,de,Re,tt,gt)},In.createHasPseudoClassSelector=function(g){return{$$typeof:jh,value:g}},In.createHydrationContainer=function(g,b,k,z,X,ne,de,Re,tt,gt,It,vt,Vt,wn){return g=Xu(k,z,!0,g,X,ne,Re,wn,tt,gt,It,vt),g.context=v0(null),k=g.current,z=Kr(),z=H(z),X=ti(z),X.callback=b??null,Oi(k,X,z),b=z,g.current.lanes=b,j(g,b),He(g),g},In.createPortal=function(g,b,k){var z=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:of,key:z==null?null:""+z,children:g,containerInfo:b,implementation:k}},In.createRoleSelector=function(g){return{$$typeof:Oh,value:g}},In.createTestNameSelector=function(g){return{$$typeof:Em,value:g}},In.createTextSelector=function(g){return{$$typeof:od,value:g}},In.defaultOnCaughtError=function(g){console.error(g)},In.defaultOnRecoverableError=function(g){$0(g)},In.defaultOnUncaughtError=function(g){$0(g)},In.deferredUpdates=function(g){var b=on.T,k=Po();try{return Hn(32),on.T=null,g()}finally{Hn(k),on.T=b}},In.discreteUpdates=function(g,b,k,z,X){var ne=on.T,de=Po();try{return Hn(2),on.T=null,g(b,k,z,X)}finally{Hn(de),on.T=ne,Fn===0&&(dd=Ki()+500)}},In.findAllNodes=Is,In.findBoundingRects=function(g,b){if(!ni)throw Error(a(363));b=Is(g,b),g=[];for(var k=0;k<b.length;k++)g.push(R0(b[k]));for(b=g.length-1;0<b;b--){k=g[b];for(var z=k.x,X=z+k.width,ne=k.y,de=ne+k.height,Re=b-1;0<=Re;Re--)if(b!==Re){var tt=g[Re],gt=tt.x,It=gt+tt.width,vt=tt.y,Vt=vt+tt.height;if(z>=gt&&ne>=vt&&X<=It&&de<=Vt){g.splice(b,1);break}else if(z!==gt||k.width!==tt.width||Vt<ne||vt>de){if(!(ne!==vt||k.height!==tt.height||It<z||gt>X)){gt>z&&(tt.width+=gt-z,tt.x=z),It<X&&(tt.width=X-gt),g.splice(b,1);break}}else{vt>ne&&(tt.height+=vt-ne,tt.y=ne),Vt<de&&(tt.height=de-vt),g.splice(b,1);break}}}return g},In.findHostInstance=lm,In.findHostInstanceWithNoPortals=function(g){return g=o(g),g=g!==null?u(g):null,g===null?null:_h(g.stateNode)},In.findHostInstanceWithWarning=function(g){return lm(g)},In.flushPassiveEffects=nc,In.flushSyncFromReconciler=function(g){var b=Fn;Fn|=1;var k=on.T,z=Po();try{if(Hn(2),on.T=null,g)return g()}finally{Hn(z),on.T=k,Fn=b,(Fn&6)===0&&Qe(0)}},In.flushSyncWork=p0,In.focusWithin=function(g,b){if(!ni)throw Error(a(363));for(g=qu(g),b=mh(g,b),b=Array.from(b),g=0;g<b.length;){var k=b[g++],z=k.tag;if(!Ju(k)){if((z===5||z===26||z===27)&&iu(k.stateNode))return!0;for(k=k.child;k!==null;)b.push(k),k=k.sibling}}return!1},In.getFindAllNodesFailureDescription=function(g,b){if(!ni)throw Error(a(363));var k=0,z=[];g=[qu(g),0];for(var X=0;X<g.length;){var ne=g[X++],de=ne.tag,Re=g[X++],tt=b[Re];if((de!==5&&de!==26&&de!==27||!Ju(ne))&&(Vu(ne,tt)&&(z.push(ph(tt)),Re++,Re>k&&(k=Re)),Re<b.length))for(ne=ne.child;ne!==null;)g.push(ne,Re),ne=ne.sibling}if(k<b.length){for(g=[];k<b.length;k++)g.push(ph(b[k]));return`findAllNodes was able to match part of the selector:
  `+(z.join(" > ")+`

No matching component was found for:
  `)+g.join(" > ")}return null},In.getPublicRootInstance=function(g){if(g=g.current,!g.child)return null;switch(g.child.tag){case 27:case 5:return _h(g.child.stateNode);default:return g.child.stateNode}},In.injectIntoDevTools=function(){var g={bundleType:0,version:wb,rendererPackageName:fm,currentDispatcherRef:on,reconcilerVersion:"19.2.0"};if(Sh!==null&&(g.rendererConfig=Sh),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")g=!1;else{var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)g=!0;else{try{yf=b.inject(g),Ns=b}catch{}g=!!b.checkDCE}}return g},In.isAlreadyRendering=function(){return(Fn&6)!==0},In.observeVisibleRects=function(g,b,k,z){if(!ni)throw Error(a(363));g=Is(g,b);var X=k0(g,k,z).disconnect;return{disconnect:function(){X()}}},In.shouldError=function(){return null},In.shouldSuspend=function(){return!1},In.startHostTransition=function(g,b,k,z){if(g.tag!==5)throw Error(a(476));var X=jS(g).queue;Kp(g,X,b,ff,k===null?r:function(){var ne=jS(g);return ne.next===null&&(ne=g.alternate.memoizedState),Xp(g,ne.next.queue,{},Kr()),k(z)})},In.updateContainer=function(g,b,k,z){var X=b.current,ne=Kr();return _b(X,ne,g,b,k,z),ne},In.updateContainerSync=function(g,b,k,z){return _b(b.current,2,g,b,k,z),2},In},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(kT)),kT.exports}var Yz;function jOe(){return Yz||(Yz=1,RT.exports=IOe()),RT.exports}var OOe=jOe();const DOe=Qf(OOe);var IT={exports:{}},Rf={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kz;function MOe(){return Kz||(Kz=1,Rf.ConcurrentRoot=1,Rf.ContinuousEventPriority=8,Rf.DefaultEventPriority=32,Rf.DiscreteEventPriority=2,Rf.IdleEventPriority=268435456,Rf.LegacyRoot=0,Rf.NoEventPriority=0),Rf}var Xz;function NOe(){return Xz||(Xz=1,IT.exports=MOe()),IT.exports}var q5=NOe();const Qz={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let Zz=!1,Jz=!1;const vC=".react-konva-event",POe=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,LOe=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,zOe={};function V5(t,e,n=zOe){if(!Zz&&"zIndex"in e&&(console.warn(LOe),Zz=!0),!Jz&&e.draggable){var r=e.x!==void 0||e.y!==void 0,a=e.onDragEnd||e.onDragMove;r&&!a&&(console.warn(POe),Jz=!0)}for(var i in n)if(!Qz[i]){var s=i.slice(0,2)==="on",o=n[i]!==e[i];if(s&&o){var l=i.substr(2).toLowerCase();l.substr(0,7)==="content"&&(l="content"+l.substr(7,1).toUpperCase()+l.substr(8)),t.off(l,n[i])}var u=!e.hasOwnProperty(i);u&&t.setAttr(i,void 0)}var d=e._useStrictMode,h={},m=!1;const y={};for(var i in e)if(!Qz[i]){var s=i.slice(0,2)==="on",x=n[i]!==e[i];if(s&&x){var l=i.substr(2).toLowerCase();l.substr(0,7)==="content"&&(l="content"+l.substr(7,1).toUpperCase()+l.substr(8)),e[i]&&(y[l]=e[i])}!s&&(e[i]!==n[i]||d&&e[i]!==t.getAttr(i))&&(m=!0,h[i]=e[i])}m&&(t.setAttrs(h),qp(t));for(var l in y)t.off(l+vC),t.on(l+vC,y[l])}function qp(t){if(!Ft.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}var jT=Mj();const SZ={},FOe={};ly.Node.prototype._applyProps=V5;let _Z=q5.DefaultEventPriority;function BOe(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),qp(t)}function HOe(t,e,n){let r=ly[t];r||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=ly.Group);const a={},i={};for(var s in e)if(s!=="ref"){var o=s.slice(0,2)==="on";o?i[s]=e[s]:a[s]=e[s]}const l=new r(a);return V5(l,i),l}function UOe(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function $Oe(t,e,n){return!1}function GOe(t){return t}function qOe(){return null}function VOe(){return null}function WOe(t,e,n,r){return FOe}function YOe(){}function KOe(t){}function XOe(t,e){return!1}function QOe(){return SZ}function ZOe(){return SZ}const JOe=setTimeout,eDe=clearTimeout,tDe=!0,nDe=t=>{t()},rDe=-1;function aDe(t,e){return!1}const iDe=!1,sDe=!1,oDe=!0,lDe=!1,cDe=!1;function uDe(t,e){e.parent===t?e.moveToTop():t.add(e),qp(t)}function dDe(t,e){e.parent===t?e.moveToTop():t.add(e),qp(t)}function CZ(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),qp(t)}function fDe(t,e,n){CZ(t,e,n)}function hDe(t,e){e.destroy(),e.off(vC),qp(t)}function pDe(t,e){e.destroy(),e.off(vC),qp(t)}function mDe(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function gDe(t,e,n){}function yDe(t,e,n,r){V5(t,r,n)}function bDe(t){t.hide(),qp(t)}function xDe(t){}function vDe(t,e){(e.visible==null||e.visible)&&t.show()}function SDe(t,e){}function _De(t){}function CDe(){}function wDe(){return null}function EDe(){}function TDe(){}function ADe(){return q5.DefaultEventPriority}function RDe(){}function kDe(){return null}function IDe(t){_Z=t}function jDe(){return _Z}function ODe(){return q5.DiscreteEventPriority}function DDe(){return!1}function MDe(){}function NDe(){return null}function PDe(){return-1.1}function LDe(){}function zDe(){return!1}function FDe(){return!0}function BDe(){}function HDe(){}function UDe(){return null}const $De=null,GDe=je.createContext(null);function qDe(){}const VDe=Object.freeze(Object.defineProperty({__proto__:null,HostTransitionContext:GDe,NotPendingTransition:$De,afterActiveInstanceBlur:TDe,appendChild:uDe,appendChildToContainer:dDe,appendInitialChild:BOe,beforeActiveInstanceBlur:EDe,cancelTimeout:eDe,clearContainer:_De,commitMount:gDe,commitTextUpdate:mDe,commitUpdate:yDe,createInstance:HOe,createTextInstance:UOe,detachDeletedInstance:CDe,finalizeInitialChildren:$Oe,getChildHostContext:ZOe,getCurrentEventPriority:ADe,getCurrentUpdatePriority:jDe,getInstanceFromNode:wDe,getInstanceFromScope:kDe,getPublicInstance:GOe,getRootHostContext:QOe,hideInstance:bDe,hideTextInstance:xDe,idlePriority:jT.unstable_IdlePriority,insertBefore:CZ,insertInContainerBefore:fDe,isPrimaryRenderer:iDe,maySuspendCommit:zDe,noTimeout:rDe,now:jT.unstable_now,preloadInstance:FDe,prepareForCommit:qOe,preparePortalMount:VOe,prepareScopeUpdate:RDe,prepareUpdate:WOe,removeChild:hDe,removeChildFromContainer:pDe,requestPostPaintCallback:LDe,resetAfterCommit:YOe,resetFormInstance:qDe,resetTextContent:KOe,resolveEventTimeStamp:PDe,resolveEventType:NDe,resolveUpdatePriority:ODe,run:jT.unstable_runWithPriority,scheduleMicrotask:nDe,scheduleTimeout:JOe,setCurrentUpdatePriority:IDe,shouldAttemptEagerTransition:DDe,shouldDeprioritizeSubtree:XOe,shouldSetTextContent:aDe,startSuspendingCommit:BDe,supportsHydration:cDe,supportsMicrotasks:tDe,supportsMutation:oDe,supportsPersistence:lDe,suspendInstance:HDe,trackSchedulerEvent:MDe,unhideInstance:vDe,unhideTextInstance:SDe,waitForCommitToBeReady:UDe,warnsIfNotActing:sDe},Symbol.toStringTag,{value:"Module"}));function wZ(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const a=wZ(r,e,n);if(a)return a;r=r.sibling}}function EZ(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const WO=EZ(A.createContext(null));let TZ=class extends A.Component{render(){return A.createElement(WO.Provider,{value:this._reactInternals},this.props.children)}};function WDe(){const t=A.useContext(WO);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=A.useId();return A.useMemo(()=>{for(const n of[t,t?.alternate]){if(!n)continue;const r=wZ(n,!1,a=>{let i=a.memoizedState;for(;i;){if(i.memoizedState===e)return!0;i=i.next}});if(r)return r}},[t,e])}const YDe=Symbol.for("react.context"),KDe=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===YDe;function XDe(){const t=WDe(),[e]=A.useState(()=>new Map);e.clear();let n=t;for(;n;){const r=n.type;KDe(r)&&r!==WO&&!e.has(r)&&e.set(r,A.use(EZ(r))),n=n.return}return e}function QDe(){const t=XDe();return A.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>A.createElement(e,null,A.createElement(n.Provider,{...r,value:t.get(n)})),e=>A.createElement(TZ,{...e})),[t])}if(je.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function ZDe(t){const e=je.useRef({});return je.useLayoutEffect(()=>{e.current=t}),je.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const JDe=()=>{const t=je.useRef(0);return je.useMemo(()=>{t.current++},[]),t.current>1},eMe=t=>{const e=je.useRef(null),n=je.useRef(null),r=je.useRef(null),a=ZDe(t),i=QDe(),s=je.useRef(!1),o=u=>{const{forwardedRef:d}=t;d&&(typeof d=="function"?d(u):d.current=u)},l=JDe();return je.useLayoutEffect(()=>s.current&&l?()=>{s.current=!1,o(null),Px.updateContainer(null,r.current,null),n.current.destroy()}:(s.current=!0,n.current=new ly.Stage({width:t.width,height:t.height,container:e.current}),o(n.current),r.current=Px.createContainer(n.current,q5.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),Px.updateContainer(je.createElement(i,{},t.children),r.current,null,()=>{}),()=>{l||(o(null),Px.updateContainer(null,r.current,null),n.current.destroy())}),[]),je.useLayoutEffect(()=>{o(n.current),V5(n.current,t,a),Px.updateContainer(je.createElement(i,{},t.children),r.current,null)}),je.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},tMe="Layer",nMe="Rect",rMe="Line",aMe="Image",Px=DOe(VDe),iMe=je.forwardRef((t,e)=>je.createElement(TZ,{},je.createElement(eMe,{...t,forwardedRef:e}))),sMe=t=>{const e=bt.c(30),{image:n,error:r,lines:a,imageTransform:i,rotation:s,scaleX:o,zoom:l,stagePos:u,cursor:d,stageRef:h,layerRef:m,onMouseDown:y,onMouseMove:x,onMouseUp:v,onWheel:_,onViewportResize:C}=t,w=A.useRef(null);let T;e[0]===Symbol.for("react.memo_cache_sentinel")?(T={width:800,height:600},e[0]=T):T=e[0];const[E,I]=A.useState(T);let j,O;e[1]!==C?(j=()=>{const $=()=>{if(w.current){const{width:D,height:U}=w.current.getBoundingClientRect();I({width:D,height:U}),C?.(D,U)}};return $(),window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},O=[C],e[1]=C,e[2]=j,e[3]=O):(j=e[2],O=e[3]),A.useEffect(j,O);let L;e[4]===Symbol.for("react.memo_cache_sentinel")?(L={flex:1,display:"flex",justifyContent:"center",alignItems:"center",bgcolor:"#2a2a2a",position:"relative",overflow:"hidden",backgroundImage:`
          linear-gradient(45deg, #1a1a1a 25%, transparent 25%),
          linear-gradient(-45deg, #1a1a1a 25%, transparent 25%),
          linear-gradient(45deg, transparent 75%, #1a1a1a 75%),
          linear-gradient(-45deg, transparent 75%, #1a1a1a 75%)
        `,backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px"},e[4]=L):L=e[4];let N;e[5]!==r?(N=r&&c.jsx(St,{severity:"error",sx:{position:"absolute",top:16,left:16,right:16,zIndex:10},children:r}),e[5]=r,e[6]=N):N=e[6];let M;e[7]!==r||e[8]!==n?(M=!n&&!r&&c.jsx(Kt,{}),e[7]=r,e[8]=n,e[9]=M):M=e[9];let H;e[10]!==d||e[11]!==n||e[12]!==i||e[13]!==m||e[14]!==a||e[15]!==y||e[16]!==x||e[17]!==v||e[18]!==_||e[19]!==s||e[20]!==o||e[21]!==u||e[22]!==h||e[23]!==E||e[24]!==l?(H=n&&c.jsx(iMe,{ref:h,width:E.width,height:E.height,scaleX:l,scaleY:l,x:u.x,y:u.y,onMouseDown:y,onMousemove:x,onMouseup:v,onMouseleave:v,onWheel:_,style:{cursor:d},children:c.jsxs(tMe,{ref:m,children:[c.jsx(nMe,{x:i.x-i.width/2,y:i.y-i.height/2,width:i.width,height:i.height,stroke:"white",strokeWidth:2/l,listening:!1}),c.jsx(aMe,{image:n,x:i.x,y:i.y,offsetX:i.width/2,offsetY:i.height/2,width:i.width,height:i.height,scaleX:o,scaleY:1,rotation:s}),a.map(($,D)=>c.jsx(rMe,{points:$.points,stroke:$.color,strokeWidth:$.strokeWidth/l,tension:.5,lineCap:"round",lineJoin:"round",globalCompositeOperation:$.tool==="eraser"?"destination-out":"source-over"},D))]})}),e[10]=d,e[11]=n,e[12]=i,e[13]=m,e[14]=a,e[15]=y,e[16]=x,e[17]=v,e[18]=_,e[19]=s,e[20]=o,e[21]=u,e[22]=h,e[23]=E,e[24]=l,e[25]=H):H=e[25];let P;return e[26]!==N||e[27]!==M||e[28]!==H?(P=c.jsxs(J,{ref:w,sx:L,children:[N,M,H]}),e[26]=N,e[27]=M,e[28]=H,e[29]=P):P=e[29],P},oMe=["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ffffff","#000000"],lMe=t=>{const e=bt.c(24),{tool:n,canvasSize:r,brushSize:a,brushColor:i,eraserSize:s,onBrushSizeChange:o,onBrushColorChange:l,onEraserSizeChange:u}=t;let d,h;e[0]===Symbol.for("react.memo_cache_sentinel")?(d={width:250,borderLeft:1,borderColor:"divider",bgcolor:"background.paper",p:2,overflowY:"auto"},h=c.jsx(re,{variant:"subtitle2",gutterBottom:!0,children:"Canvas Info"}),e[0]=d,e[1]=h):(d=e[0],h=e[1]);let m;e[2]!==r.height||e[3]!==r.width?(m=c.jsxs(re,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Size: ",r.width," x ",r.height," px"]}),e[2]=r.height,e[3]=r.width,e[4]=m):m=e[4];let y,x;e[5]===Symbol.for("react.memo_cache_sentinel")?(y=c.jsx(yn,{sx:{my:2}}),x=c.jsx(re,{variant:"subtitle2",gutterBottom:!0,children:"Tool Properties"}),e[5]=y,e[6]=x):(y=e[5],x=e[6]);let v;e[7]!==i||e[8]!==a||e[9]!==l||e[10]!==o||e[11]!==n?(v=n==="brush"&&c.jsxs(c.Fragment,{children:[c.jsxs(re,{variant:"body2",gutterBottom:!0,sx:{mt:2},children:["Brush Size: ",a,"px"]}),c.jsx(Ha,{value:a,onChangeCommitted:(T,E)=>o(E),min:1,max:50,sx:{mb:3}}),c.jsx(re,{variant:"body2",gutterBottom:!0,children:"Brush Color"}),c.jsx(J,{sx:{display:"flex",gap:1,flexWrap:"wrap",mb:2},onMouseDown:cMe,onMouseMove:uMe,children:oMe.map(T=>c.jsx(J,{onClick:()=>l(T),sx:{width:32,height:32,bgcolor:T,border:i===T?3:1,borderColor:i===T?"primary.main":"divider",borderRadius:1,cursor:"pointer"}},T))}),c.jsx("input",{type:"color",value:i,onChange:T=>l(T.target.value),onMouseDown:dMe,onMouseMove:fMe,style:{width:"100%",height:40}})]}),e[7]=i,e[8]=a,e[9]=l,e[10]=o,e[11]=n,e[12]=v):v=e[12];let _;e[13]!==s||e[14]!==u||e[15]!==n?(_=n==="eraser"&&c.jsxs(c.Fragment,{children:[c.jsxs(re,{variant:"body2",gutterBottom:!0,sx:{mt:2},children:["Eraser Size: ",s,"px"]}),c.jsx(Ha,{value:s,onChangeCommitted:(T,E)=>u(E),min:5,max:100,sx:{mb:3}})]}),e[13]=s,e[14]=u,e[15]=n,e[16]=_):_=e[16];let C;e[17]!==n?(C=n==="pan"&&c.jsx(re,{variant:"body2",color:"text.secondary",sx:{mt:2},children:"Click and drag to move the canvas. Use mouse wheel to zoom in/out."}),e[17]=n,e[18]=C):C=e[18];let w;return e[19]!==m||e[20]!==v||e[21]!==_||e[22]!==C?(w=c.jsxs(J,{sx:d,children:[h,m,y,x,v,_,C]}),e[19]=m,e[20]=v,e[21]=_,e[22]=C,e[23]=w):w=e[23],w};function cMe(t){return t.stopPropagation()}function uMe(t){return t.stopPropagation()}function dMe(t){return t.stopPropagation()}function fMe(t){return t.stopPropagation()}const hMe=t=>{const e=bt.c(14),{saving:n,imageLoaded:r,onSave:a,onCancel:i}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={borderTop:1,borderColor:"divider",p:2},e[0]=s):s=e[0];let o;e[1]!==i||e[2]!==n?(o=c.jsx(Ke,{onClick:i,disabled:n,children:"Cancel"}),e[1]=i,e[2]=n,e[3]=o):o=e[3];let l;e[4]!==n?(l=n?c.jsx(Kt,{size:16}):c.jsx(PO,{}),e[4]=n,e[5]=l):l=e[5];const u=n||!r,d=n?"Saving...":"Save";let h;e[6]!==a||e[7]!==l||e[8]!==u||e[9]!==d?(h=c.jsx(Ke,{onClick:a,variant:"contained",startIcon:l,disabled:u,children:d}),e[6]=a,e[7]=l,e[8]=u,e[9]=d,e[10]=h):h=e[10];let m;return e[11]!==o||e[12]!==h?(m=c.jsxs(yr,{sx:s,children:[o,h]}),e[11]=o,e[12]=h,e[13]=m):m=e[13],m},pMe=({open:t,imageId:e,imageUrl:n,onClose:r,onSaved:a})=>{const[i,s]=A.useState(null),[o,l]=A.useState({width:0,height:0}),[u,d]=A.useState({width:800,height:600}),[h,m]=A.useState(null),[y,x]=A.useState(!1),[v,_]=A.useState("brush"),[C,w]=A.useState(5),[T,E]=A.useState("#ff0000"),[I,j]=A.useState(20),O=A.useRef(null),L=A.useRef(null),N=Zke(),M=Jke(),H=eIe({tool:v,brushSize:C,brushColor:T,eraserSize:I,zoom:M.zoom,stagePos:M.stagePos,onDrawingComplete:N.saveToHistory}),P=A.useCallback((Z,q)=>{d({width:Z,height:q})},[]);A.useEffect(()=>{if(!t)return;const Z=new window.Image;return Z.crossOrigin="anonymous",Z.onload=()=>{s(Z),l({width:Z.width,height:Z.height});const q=nIe(Z.width,Z.height,u.width,u.height);M.setInitialZoom(q)},Z.onerror=()=>{m("Failed to load image")},Z.src=n,()=>{s(null),l({width:0,height:0}),m(null),N.reset(),M.reset(),H.reset()}},[t,n,u.width,u.height]);const $=tIe(i,o,M.rotation,u.width,u.height),D=Z=>{if(v==="pan"){const q=Z.target.getStage().getPointerPosition();M.startPan(q);return}if(v==="brush"||v==="eraser"){const q=Z.target.getStage().getPointerPosition();H.startDrawing(q)}},U=Z=>{const te=Z.target.getStage().getPointerPosition();if(v==="pan"){M.movePan(te);return}H.isDrawing&&H.continueDrawing(te)},F=()=>{v==="pan"&&M.endPan(),H.isDrawing&&H.endDrawing()},W=()=>{const Z=N.undo();Z!==null&&H.setLinesFromHistory(Z)},ee=()=>{const Z=N.redo();Z!==null&&H.setLinesFromHistory(Z)},Q=()=>{H.clearLines()},K=async()=>{if(L.current)try{x(!0),m(null),await rIe(L.current,$,e,M.zoom),x(!1),a?.(),r()}catch(Z){console.error("Failed to save edited image:",Z),m(Z.response?.data?.error||"Failed to save image"),x(!1)}},V=()=>v==="pan"?M.isPanning?"grabbing":"grab":v==="brush"||v==="eraser"?"crosshair":"default";return c.jsxs(or,{open:t,onClose:r,maxWidth:!1,PaperProps:{sx:{width:"95vw",height:"95vh",maxWidth:"none",bgcolor:"background.paper"}},children:[c.jsx(aIe,{zoom:M.zoom,onZoomIn:M.handleZoomIn,onZoomOut:M.handleZoomOut,onFitScreen:M.handleFitScreen,onClose:r}),c.jsxs(hr,{sx:{p:0,display:"flex",height:"100%",overflow:"hidden"},children:[c.jsx(iIe,{tool:v,canUndo:N.canUndo,canRedo:N.canRedo,onToolChange:_,onUndo:W,onRedo:ee,onClear:Q,onRotate:M.handleRotate,onFlip:M.handleFlip}),c.jsx(sMe,{image:i,error:h,lines:H.lines,imageTransform:$,rotation:M.rotation,scaleX:M.scaleX,zoom:M.zoom,stagePos:M.stagePos,cursor:V(),stageRef:O,layerRef:L,onMouseDown:D,onMouseMove:U,onMouseUp:F,onWheel:Z=>M.handleWheel(Z,O),onViewportResize:P}),c.jsx(lMe,{tool:v,canvasSize:o,brushSize:C,brushColor:T,eraserSize:I,onBrushSizeChange:w,onBrushColorChange:E,onEraserSizeChange:j})]}),c.jsx(hMe,{saving:y,imageLoaded:!!i,onSave:K,onCancel:r})]})},W5=({open:t,onClose:e,image:n,images:r=[],currentIndex:a=0,onImageChange:i,onImageDeleted:s,searchContext:o="all",searchParams:l,groupId:u,allImageIds:d=[],isHistoryContext:h=!1})=>{const{t:m}=$t(),y=os(),x=uv(y.breakpoints.down("md")),v=Zf(),_=Gd(),[C,w]=A.useState(!x),[T,E]=A.useState(!1),[I,j]=A.useState(n),[O,L]=A.useState(!1),[N,M]=A.useState(!1),[H,P]=A.useState(!1),[$,D]=A.useState(!1),[U,F]=A.useState({open:!1,message:"",severity:"success"}),[W,ee]=A.useState(null),Q=_ke(n?.composite_hash||void 0,t),K=kke({images:r,currentIndex:a,onImageChange:i,isOpen:t,onClose:e,searchContext:o,searchParams:l,groupId:u,allImageIds:d,onRandomImageLoaded:he=>{j(he)},onRandomModeChange:he=>{M(he)}}),V=Ike();A.useEffect(()=>{(async()=>{try{const ve=await Bs.getSettings();E(ve.tagger.enabled)}catch(ve){console.error("Failed to load settings:",ve),E(!1)}})()},[]),A.useEffect(()=>{if(!N&&n){if(!n.composite_hash){console.warn("[ImageViewerModal] No composite_hash, using props data"),j(n);return}if(I?.composite_hash===n.composite_hash)return;(async()=>{try{const ve=await ba.getMetadata(n.composite_hash);j(ve)}catch(ve){console.error("[ImageViewerModal] Metadata fetch failed, using props data:",ve),j(n)}})()}},[n?.composite_hash,N,I?.composite_hash]);const Z=async()=>{if(n?.composite_hash)try{const he=await ba.getImage(n.composite_hash);he.success&&he.data&&j(he.data)}catch(he){console.error("Failed to reload image after tagging:",he)}},q=async()=>{if(!n)return;let he="";if(h&&n.image_url&&n.image_url.trim().length>0)he=n.image_url.startsWith("http")?n.image_url:`${_}${n.image_url}`;else if(n.image_url&&n.image_url.trim().length>0)he=n.image_url.startsWith("http")?n.image_url:`${_}${n.image_url}`;else if(n.original_file_path)he=`${_}/api/images/by-path/${encodeURIComponent(n.original_file_path)}`;else if(n.composite_hash)he=`${_}/api/images/${n.composite_hash}/download/original`;else{console.error("Cannot download: no valid identifier found");return}try{const ve=await fetch(he,{credentials:"include"});if(!ve.ok)throw new Error(`Failed to download: ${ve.statusText}`);const me=await ve.blob(),le=window.URL.createObjectURL(me),Se=document.createElement("a");Se.href=le,Se.download=n.original_file_path||`image_${n.composite_hash?.substring(0,8)||"unknown"}.png`,document.body.appendChild(Se),Se.click(),document.body.removeChild(Se),window.URL.revokeObjectURL(le)}catch(ve){console.error("Download failed:",ve);const me=document.createElement("a");me.href=he,me.download=n.original_file_path||`image_${n.composite_hash?.substring(0,8)||"unknown"}.png`,me.target="_blank",document.body.appendChild(me),me.click(),document.body.removeChild(me)}},te=()=>{n&&n.composite_hash&&(v(`/image/${n.composite_hash}`),e())},ae=()=>{ee(document.activeElement),L(!0)},ie=async()=>{if(I)try{let he;if(h)he=await vd.delete(I.id||I.composite_hash);else{if(!I.composite_hash)throw new Error("Image is still processing");he=await ba.deleteImage(I.composite_hash)}he.success?(F({open:!0,message:m("imageDetail:actions.deleteSuccess"),severity:"success"}),s&&I.composite_hash&&s(I.composite_hash),r.length>1?a<r.length-1?K.handleNext():a>0?K.handlePrevious():e():e()):F({open:!0,message:he.error||m("imageDetail:actions.deleteError"),severity:"error"})}catch(he){console.error("Failed to delete:",he),F({open:!0,message:m("imageDetail:actions.deleteError"),severity:"error"})}finally{L(!1)}},ce=()=>{L(!1),W&&setTimeout(()=>{W.focus()},0)},pe=()=>{ee(document.activeElement),D(!0)},ge=()=>{D(!1),W&&setTimeout(()=>{W.focus()},0)},oe=()=>{F({...U,open:!1})},ue=()=>{F({open:!0,message:"    .  .",severity:"error"}),P(!1)};return I?c.jsxs(or,{open:t,onClose:e,maxWidth:!1,fullWidth:!0,PaperProps:{sx:{width:"90vw",height:"90vh",maxWidth:"90vw",maxHeight:"90vh",borderRadius:2,overflow:"hidden",display:"flex",flexDirection:"column"}},children:[c.jsxs(J,{sx:{display:"flex",flex:1,minHeight:0},children:[c.jsxs(J,{sx:{flex:x?1:"1 1 auto",minWidth:0,display:"flex",flexDirection:"column",bgcolor:"black",position:"relative"},children:[c.jsx(jke,{scale:Q.scale,isMobile:x,showOriginal:H,isGif:I?.file_type==="animated",isVideo:I?.file_type==="video",onZoomIn:Q.handleZoomIn,onZoomOut:Q.handleZoomOut,onRotateLeft:Q.handleRotateLeft,onRotateRight:Q.handleRotateRight,onFlipHorizontal:Q.handleFlipHorizontal,onFlipVertical:Q.handleFlipVertical,onReset:Q.handleReset,onToggleOriginal:()=>P(he=>!he),onEdit:I?.file_type==="image"?pe:void 0,onOpenDrawer:x?()=>w(!0):void 0,onClose:e}),c.jsx(Oke,{image:I,scale:Q.scale,rotation:Q.rotation,flipX:Q.flipX,flipY:Q.flipY,imagePosition:Q.imagePosition,isDragging:Q.isDragging,containerRef:Q.imageContainerRef,onMouseDown:Q.handleMouseDown,showOriginal:H,onOriginalLoadError:ue})]}),!x&&c.jsx(Yt,{sx:{flex:"0 0 30%",minWidth:"325px",display:"flex",flexDirection:"column",borderRadius:0},elevation:0,children:c.jsx(bz,{image:I,onGroupClick:V.handleGroupClick,isTaggerEnabled:T,onAutoTagGenerated:Z,isHistoryContext:h})}),x&&c.jsx(uC,{anchor:"right",open:C,onClose:()=>w(!1),ModalProps:{style:{zIndex:1400},keepMounted:!1,disablePortal:!1},slotProps:{paper:{sx:{width:"80vw",maxWidth:400}}},children:c.jsx(bz,{image:I,onGroupClick:V.handleGroupClick,isTaggerEnabled:T,onAutoTagGenerated:Z,isHistoryContext:h})})]}),c.jsxs(yr,{sx:{flexShrink:0,justifyContent:"space-between",px:2,py:1,borderTop:1,borderColor:"divider"},children:[c.jsx(oke,{currentIndex:a,totalCount:r?.length??0,onPrevious:K.handlePrevious,onNext:K.handleNext,...!h&&{onRandom:K.handleRandom},isRandomMode:N,currentImage:I}),c.jsxs(J,{sx:{display:"flex",gap:.5},children:[!h&&c.jsx(Xt,{title:m("imageDetail:actions.goToDetail"),children:c.jsx(ht,{size:"small",onClick:te,children:c.jsx(Sc,{})})}),c.jsx(Xt,{title:m("imageDetail:actions.download"),children:c.jsx(ht,{size:"small",onClick:q,children:c.jsx(tS,{})})}),c.jsx(Xt,{title:m("imageDetail:actions.delete"),children:c.jsx(ht,{size:"small",onClick:ae,color:"error",children:c.jsx(xa,{})})})]})]}),V.groupModalOpen&&c.jsx(vke,{open:V.groupModalOpen,onClose:V.handleGroupModalClose,images:V.groupImages,loading:V.groupImagesLoading,title:V.selectedGroup?m("imageDetail:groupModal.title",{name:V.selectedGroup.name}):m("imageDetail:groupModal.defaultTitle"),pageSize:V.groupImagesPageSize,onPageSizeChange:V.handleGroupImagesPageSizeChange,currentPage:V.groupImagesPage,totalPages:V.groupImagesTotalPages,total:V.groupImagesTotal,onPageChange:V.handleGroupImagesPageChange}),c.jsxs(or,{open:O,onClose:ce,maxWidth:"xs",fullWidth:!0,hideBackdrop:!1,disablePortal:!1,style:{zIndex:1400},children:[c.jsx(pr,{children:m("imageDetail:actions.delete")}),c.jsx(hr,{children:c.jsx(Dp,{children:m("imageDetail:actions.deleteConfirm")})}),c.jsxs(yr,{children:[c.jsx(Ke,{onClick:ce,color:"primary",children:m("common:actions.cancel")}),c.jsx(Ke,{onClick:ie,color:"error",variant:"contained",children:m("imageDetail:actions.delete")})]})]}),c.jsx(zg,{open:U.open,autoHideDuration:3e3,onClose:oe,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:c.jsx(St,{onClose:oe,severity:U.severity,variant:"filled",children:U.message})}),I&&I.file_id&&c.jsx(pMe,{open:$,onClose:ge,imageId:I.file_id,imageUrl:yC(H&&I.original_file_path||I.thumbnail_path)||"",onSaved:async()=>{if(I.composite_hash)try{const he=await ba.getImage(I.composite_hash);he.success&&he.data&&j(he.data)}catch(he){console.error("Failed to reload image after editing:",he)}}})]}):null},mMe=t=>{const e=bt.c(55),{images:n,loading:r,hasMore:a,onLoadMore:i,selectable:s,selectedIds:o,onSelectionChange:l}=t,u=r===void 0?!1:r,d=s===void 0?!1:s;let h;e[0]!==o?(h=o===void 0?[]:o,e[0]=o,e[1]=h):h=e[1];const m=h,[y,x]=A.useState(!1),[v,_]=A.useState(0),[C,w]=A.useState(-1);let T;e[2]!==m?(T=new Set(m),e[2]=m,e[3]=T):T=e[3];const E=T;let I;e[4]===Symbol.for("react.memo_cache_sentinel")?(I={default:6,1536:5,1200:4,900:3,600:2},e[4]=I):I=e[4];const j=I;let O;e[5]===Symbol.for("react.memo_cache_sentinel")?(O=oe=>{_(oe),x(!0)},e[5]=O):O=e[5];const L=O;let N;e[6]===Symbol.for("react.memo_cache_sentinel")?(N=oe=>{_(oe)},e[6]=N):N=e[6];const M=N;let H;e[7]!==n||e[8]!==C||e[9]!==l||e[10]!==m||e[11]!==E?(H=(oe,ue)=>{if(console.log("[ImageMasonry] handleSelectionChange called:",{id:oe,hasCallback:!!l,imageIndex:n.findIndex(me=>me.id===oe)}),!l)return;const he=n.findIndex(me=>me.id===oe);if(ue&&(ue.ctrlKey||ue.metaKey)){const me=E.has(oe)?m.filter(le=>le!==oe):[...m,oe];l(me),w(he);return}if(ue&&ue.shiftKey&&C>=0){const me=Math.min(C,he),le=Math.max(C,he),Se=n.slice(me,le+1).map(gMe).filter(yMe),be=Array.from(new Set([...m,...Se]));l(be);return}const ve=E.has(oe)?m.filter(me=>me!==oe):[...m,oe];l(ve),w(he)},e[7]=n,e[8]=C,e[9]=l,e[10]=m,e[11]=E,e[12]=H):H=e[12];const P=H;let $;e[13]!==l||e[14]!==m?($=oe=>{const ue=oe.target,he=ue.closest(".selectable-image"),ve=ue.closest(".image-card-actions"),me=ue.closest(".no-drag-select");!he&&!ve&&!me&&l&&m.length>0&&(l([]),w(-1))},e[13]=l,e[14]=m,e[15]=$):$=e[15];const D=$;let U,F;if(e[16]!==n||e[17]!==l||e[18]!==d?(U=()=>{if(!d||!l)return;const oe=ue=>{if((ue.ctrlKey||ue.metaKey)&&ue.key==="a"){ue.preventDefault();const he=n.map(bMe).filter(xMe);l(he)}ue.key==="Escape"&&(ue.preventDefault(),l([]),w(-1))};return window.addEventListener("keydown",oe),()=>{window.removeEventListener("keydown",oe)}},F=[d,l,n],e[16]=n,e[17]=l,e[18]=d,e[19]=U,e[20]=F):(U=e[19],F=e[20]),A.useEffect(U,F),u&&n.length===0){let oe;e[21]===Symbol.for("react.memo_cache_sentinel")?(oe={width:"100%"},e[21]=oe):oe=e[21];let ue;return e[22]===Symbol.for("react.memo_cache_sentinel")?(ue=c.jsx(J,{sx:oe,children:c.jsx(gC,{breakpointCols:j,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:Array.from({length:20},vMe)})}),e[22]=ue):ue=e[22],ue}if(n.length===0){let oe;return e[23]===Symbol.for("react.memo_cache_sentinel")?(oe=c.jsxs(J,{sx:{textAlign:"center",py:8},children:[c.jsx(re,{variant:"h6",color:"text.secondary",children:" "}),c.jsx(re,{variant:"body2",color:"text.secondary",children:" ."})]}),e[23]=oe):oe=e[23],oe}let W;e[24]===Symbol.for("react.memo_cache_sentinel")?(W={width:"100%",position:"relative"},e[24]=W):W=e[24];const ee=n.length;let Q;e[25]===Symbol.for("react.memo_cache_sentinel")?(Q={mt:2,width:"100%"},e[25]=Q):Q=e[25];let K;e[26]===Symbol.for("react.memo_cache_sentinel")?(K=c.jsx(J,{sx:Q,children:c.jsx(J,{sx:{textAlign:"center",py:2},children:c.jsx(re,{variant:"body2",color:"text.secondary",children:"  ..."})})}),e[26]=K):K=e[26];let V;e[27]===Symbol.for("react.memo_cache_sentinel")?(V=c.jsx(J,{sx:{textAlign:"center",py:4,mt:2},children:c.jsx(re,{variant:"body2",color:"text.secondary",children:"  "})}),e[27]=V):V=e[27];let Z;e[28]===Symbol.for("react.memo_cache_sentinel")?(Z={overflow:"visible"},e[28]=Z):Z=e[28];let q;if(e[29]!==P||e[30]!==n||e[31]!==d||e[32]!==E){let oe;e[34]!==P||e[35]!==d||e[36]!==E?(oe=(ue,he)=>c.jsx(ske,{image:ue,onClick:()=>L(he),selected:ue.id?E.has(ue.id):!1,selectable:d,onSelectionChange:P},ue.id?`id-${ue.id}`:`hash-${ue.composite_hash||"processing"}-${he}`),e[34]=P,e[35]=d,e[36]=E,e[37]=oe):oe=e[37],q=n.map(oe),e[29]=P,e[30]=n,e[31]=d,e[32]=E,e[33]=q}else q=e[33];let te;e[38]!==q?(te=c.jsx(gC,{breakpointCols:j,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:q}),e[38]=q,e[39]=te):te=e[39];let ae;e[40]!==a||e[41]!==n.length||e[42]!==i||e[43]!==te?(ae=c.jsx(uQ,{dataLength:ee,next:i,hasMore:a,loader:K,endMessage:V,scrollThreshold:.8,style:Z,children:te}),e[40]=a,e[41]=n.length,e[42]=i,e[43]=te,e[44]=ae):ae=e[44];let ie;e[45]===Symbol.for("react.memo_cache_sentinel")?(ie=()=>x(!1),e[45]=ie):ie=e[45];const ce=n[v]||null;let pe;e[46]!==v||e[47]!==n||e[48]!==ce||e[49]!==y?(pe=c.jsx(W5,{open:y,onClose:ie,image:ce,images:n,currentIndex:v,onImageChange:M}),e[46]=v,e[47]=n,e[48]=ce,e[49]=y,e[50]=pe):pe=e[50];let ge;return e[51]!==D||e[52]!==ae||e[53]!==pe?(ge=c.jsxs(J,{onClick:D,sx:W,children:[ae,pe]}),e[51]=D,e[52]=ae,e[53]=pe,e[54]=ge):ge=e[54],ge};function gMe(t){return t.id}function yMe(t){return t!=null}function bMe(t){return t.id}function xMe(t){return t!=null}function vMe(t,e){return c.jsx(bu,{variant:"rectangular",height:Math.random()*200+150,sx:{borderRadius:1}},e)}const SMe=()=>{const[t,e]=A.useState(!1),[n,r]=A.useState(null),a=A.useCallback(async o=>{if(o.length===0)return!1;e(!0),r(null);try{const l=await ba.deleteImages(o);return l.success?!0:(r(l.error||"  ."),!1)}catch(l){return r("    ."),console.error("Bulk delete error:",l),!1}finally{e(!1)}},[]),i=A.useCallback(async o=>{if(o.length!==0){e(!0),r(null);try{for(const l of o){const u=document.createElement("a");u.href=ba.getDownloadUrl(l),u.download=`image_${l.substring(0,8)}`,document.body.appendChild(u),u.click(),document.body.removeChild(u),await new Promise(d=>setTimeout(d,100))}}catch(l){r("    ."),console.error("Bulk download error:",l)}finally{e(!1)}}},[]),s=A.useCallback(async(o,l)=>{if(o.length===0)return!1;e(!0),r(null);try{const u=await li.addImagesToGroup(l,o);return u.success?!0:(r(u.error||"  ."),!1)}catch(u){return r("    ."),console.error("Group assignment error:",u),!1}finally{e(!1)}},[]);return{loading:t,error:n,deleteImages:a,downloadImages:i,assignToGroup:s,clearError:()=>r(null)}},AZ=t=>{const e=bt.c(38),{groups:n,excludeIds:r,selectedIds:a,onSelectionChange:i,multiSelect:s}=t;let o;e[0]!==r?(o=r===void 0?[]:r,e[0]=r,e[1]=o):o=e[1];const l=o;let u;e[2]!==a?(u=a===void 0?[]:a,e[2]=a,e[3]=u):u=e[3];const d=u,h=s===void 0?!1:s;let m;e[4]===Symbol.for("react.memo_cache_sentinel")?(m=new Set,e[4]=m):m=e[4];const[y,x]=A.useState(m);let v;e[5]!==d?(v=new Set(d),e[5]=d,e[6]=v):v=e[6];const[_,C]=A.useState(v);let w,T;e[7]!==d?(w=()=>{C(new Set(d))},T=[d],e[7]=d,e[8]=w,e[9]=T):(w=e[8],T=e[9]),A.useEffect(w,T);let E;if(e[10]!==l||e[11]!==n){const V=n.filter(te=>!l.includes(te.id)),Z=new Map;V.forEach(te=>{Z.set(te.id,{group:te,children:[],level:0})}),E=[],V.forEach(te=>{const ae=Z.get(te.id);if(ae)if(te.parent_id&&Z.has(te.parent_id)){const ie=Z.get(te.parent_id);ae.level=ie.level+1,ie.children.push(ae)}else E.push(ae)});const q=te=>{te.sort(_Me),te.forEach(ae=>q(ae.children))};q(E),e[10]=l,e[11]=n,e[12]=E}else E=e[12];const I=E;let j;e[13]===Symbol.for("react.memo_cache_sentinel")?(j=V=>{x(Z=>{const q=new Set(Z);return q.has(V)?q.delete(V):q.add(V),q})},e[13]=j):j=e[13];const O=j;let L;e[14]!==I?(L=()=>{const V=new Set,Z=q=>{q.forEach(te=>{te.children.length>0&&(V.add(te.group.id),Z(te.children))})};Z(I),x(V)},e[14]=I,e[15]=L):L=e[15];const N=L;let M;e[16]===Symbol.for("react.memo_cache_sentinel")?(M=()=>{x(new Set)},e[16]=M):M=e[16];const H=M;let P;e[17]!==_||e[18]!==h||e[19]!==i?(P=V=>{let Z;h?(Z=new Set(_),Z.has(V)?Z.delete(V):Z.add(V)):Z=new Set([V]),C(Z),i?.(Array.from(Z))},e[17]=_,e[18]=h,e[19]=i,e[20]=P):P=e[20];const $=P;let D;if(e[21]!==I){D=Z=>{const q=[],te=V(I,Z);if(!te)return q;const ae=ie=>{ie.children.forEach(ce=>{q.push(ce.group.id),ae(ce)})};return ae(te),q};const V=(Z,q)=>{for(const te of Z){if(te.group.id===q)return te;const ae=V(te.children,q);if(ae)return ae}return null};e[21]=I,e[22]=D}else D=e[22];let U;e[23]!==y?(U=V=>y.has(V),e[23]=y,e[24]=U):U=e[24];const F=U;let W;e[25]!==_?(W=V=>_.has(V),e[25]=_,e[26]=W):W=e[26];const ee=W;let Q;e[27]!==_?(Q=Array.from(_),e[27]=_,e[28]=Q):Q=e[28];let K;return e[29]!==N||e[30]!==y||e[31]!==D||e[32]!==$||e[33]!==F||e[34]!==ee||e[35]!==Q||e[36]!==I?(K={treeData:I,expandedIds:y,selectedIds:Q,toggleExpand:O,expandAll:N,collapseAll:H,handleSelect:$,isExpanded:F,isSelected:ee,getDescendantIds:D},e[29]=N,e[30]=y,e[31]=D,e[32]=$,e[33]=F,e[34]=ee,e[35]=Q,e[36]=I,e[37]=K):K=e[37],K};function _Me(t,e){return t.group.name.localeCompare(e.group.name)}const RZ=t=>{const e=bt.c(55),{group:n,level:r,hasChildren:a,isExpanded:i,isSelected:s,onToggleExpand:o,onSelect:l}=t,u=os(),d=n.color||u.palette.primary.main,h=`${r*24}px`;let m;e[0]!==d||e[1]!==s?(m=s?_s(d,.15):"transparent",e[0]=d,e[1]=s,e[2]=m):m=e[2];const y=s?`3px solid ${d}`:"3px solid transparent";let x;e[3]!==d||e[4]!==s||e[5]!==u.palette.action?(x=s?_s(d,.2):_s(u.palette.action.hover,.08),e[3]=d,e[4]=s,e[5]=u.palette.action,e[6]=x):x=e[6];let v;e[7]!==x?(v={backgroundColor:x},e[7]=x,e[8]=v):v=e[8];let _;e[9]!==h||e[10]!==m||e[11]!==y||e[12]!==v?(_={display:"flex",alignItems:"center",paddingLeft:h,paddingY:.5,cursor:"pointer",backgroundColor:m,borderLeft:y,transition:"all 0.2s ease","&:hover":v},e[9]=h,e[10]=m,e[11]=y,e[12]=v,e[13]=_):_=e[13];let C;e[14]!==a||e[15]!==l||e[16]!==o?(C=()=>{l(),a&&o()},e[14]=a,e[15]=l,e[16]=o,e[17]=C):C=e[17];let w;e[18]===Symbol.for("react.memo_cache_sentinel")?(w={width:24,height:24,flexShrink:0},e[18]=w):w=e[18];let T;e[19]!==a||e[20]!==i||e[21]!==o?(T=a&&c.jsx(ht,{size:"small",onClick:F=>{F.stopPropagation(),o()},sx:{padding:0},children:i?c.jsx(is,{fontSize:"small"}):c.jsx(jRe,{fontSize:"small"})}),e[19]=a,e[20]=i,e[21]=o,e[22]=T):T=e[22];let E;e[23]!==T?(E=c.jsx(J,{sx:w,children:T}),e[23]=T,e[24]=E):E=e[24];let I;e[25]!==d?(I={width:24,height:24,flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",marginLeft:.5,marginRight:1,color:d},e[25]=d,e[26]=I):I=e[26];let j;e[27]!==a||e[28]!==i?(j=i&&a?c.jsx(wu,{fontSize:"small"}):c.jsx(ky,{fontSize:"small"}),e[27]=a,e[28]=i,e[29]=j):j=e[29];let O;e[30]!==I||e[31]!==j?(O=c.jsx(J,{sx:I,children:j}),e[30]=I,e[31]=j,e[32]=O):O=e[32];let L;e[33]!==d?(L=c.jsx(J,{sx:{width:4,height:24,backgroundColor:d,borderRadius:1,marginRight:1.5,flexShrink:0}}),e[33]=d,e[34]=L):L=e[34];const N=s?600:400,M=s?u.palette.text.primary:u.palette.text.secondary;let H;e[35]!==N||e[36]!==M?(H={flexGrow:1,fontWeight:N,color:M,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e[35]=N,e[36]=M,e[37]=H):H=e[37];let P;e[38]!==n.name||e[39]!==H?(P=c.jsx(re,{variant:"body2",sx:H,children:n.name}),e[38]=n.name,e[39]=H,e[40]=P):P=e[40];let $;e[41]!==n.image_count||e[42]!==u.palette.primary?($=(n.image_count??0)>0&&c.jsx(yt,{label:n.image_count,size:"small",sx:{height:20,fontSize:"0.7rem",marginLeft:1,backgroundColor:_s(u.palette.primary.main,.1),color:u.palette.primary.main}}),e[41]=n.image_count,e[42]=u.palette.primary,e[43]=$):$=e[43];let D;e[44]!==n.auto_collect_enabled?(D=!!n.auto_collect_enabled&&c.jsx(yt,{icon:c.jsx(Mp,{sx:{fontSize:"0.8rem"}}),label:"Auto",size:"small",color:"secondary",sx:{height:20,fontSize:"0.65rem",marginLeft:.5,"& .MuiChip-icon":{marginLeft:"4px"}}}),e[44]=n.auto_collect_enabled,e[45]=D):D=e[45];let U;return e[46]!==E||e[47]!==O||e[48]!==L||e[49]!==P||e[50]!==$||e[51]!==D||e[52]!==_||e[53]!==C?(U=c.jsxs(J,{sx:_,onClick:C,children:[E,O,L,P,$,D]}),e[46]=E,e[47]=O,e[48]=L,e[49]=P,e[50]=$,e[51]=D,e[52]=_,e[53]=C,e[54]=U):U=e[54],U},CMe=t=>{const e=bt.c(58),{groups:n,selectedIds:r,onSelectionChange:a,excludeIds:i,multiSelect:s,showSearch:o,emptyMessage:l,maxHeight:u}=t;let d;e[0]!==r?(d=r===void 0?[]:r,e[0]=r,e[1]=d):d=e[1];const h=d;let m;e[2]!==i?(m=i===void 0?[]:i,e[2]=i,e[3]=m):m=e[3];const y=m,x=s===void 0?!1:s,v=o===void 0?!0:o,_=l===void 0?"No groups available":l,C=u===void 0?400:u,[w,T]=A.useState("");let E;e:{if(!w.trim()){E=n;break e}let te;if(e[4]!==n||e[5]!==w){const ae=w.toLowerCase();te=n.filter(ie=>ie.name.toLowerCase().includes(ae)||ie.description?.toLowerCase().includes(ae)),e[4]=n,e[5]=w,e[6]=te}else te=e[6];E=te}const I=E;let j;e[7]!==y||e[8]!==I||e[9]!==x||e[10]!==a||e[11]!==h?(j={groups:I,excludeIds:y,selectedIds:h,onSelectionChange:a,multiSelect:x},e[7]=y,e[8]=I,e[9]=x,e[10]=a,e[11]=h,e[12]=j):j=e[12];const{treeData:O,toggleExpand:L,expandAll:N,collapseAll:M,handleSelect:H,isExpanded:P,isSelected:$}=AZ(j);let D,U,F,W,ee,Q,K;if(e[13]!==M||e[14]!==_||e[15]!==N||e[16]!==H||e[17]!==P||e[18]!==$||e[19]!==C||e[20]!==w||e[21]!==v||e[22]!==L||e[23]!==O){const te=ue=>ue.map(he=>c.jsxs(je.Fragment,{children:[c.jsx(RZ,{group:he.group,level:he.level,hasChildren:he.children.length>0,isExpanded:P(he.group.id),isSelected:$(he.group.id),onToggleExpand:()=>L(he.group.id),onSelect:()=>H(he.group.id)}),P(he.group.id)&&he.children.length>0&&c.jsx(J,{children:te(he.children)})]},he.group.id));let ae;e[31]===Symbol.for("react.memo_cache_sentinel")?(ae=()=>{T("")},e[31]=ae):ae=e[31];const ie=ae;U=J,e[32]===Symbol.for("react.memo_cache_sentinel")?(Q={display:"flex",flexDirection:"column",gap:1},e[32]=Q):Q=e[32],e[33]!==M||e[34]!==N||e[35]!==w||e[36]!==v?(K=v&&c.jsxs(J,{sx:{display:"flex",gap:1,alignItems:"center"},children:[c.jsx(jt,{size:"small",placeholder:"Search groups...",value:w,onChange:ue=>T(ue.target.value),fullWidth:!0,InputProps:{startAdornment:c.jsx(Yk,{position:"start",children:c.jsx(Jf,{fontSize:"small"})}),endAdornment:w&&c.jsx(Yk,{position:"end",children:c.jsx(ht,{size:"small",onClick:ie,children:c.jsx(Ry,{fontSize:"small"})})})}}),c.jsx(Xt,{title:"Expand All",children:c.jsx(ht,{size:"small",onClick:N,children:c.jsx(oQ,{})})}),c.jsx(Xt,{title:"Collapse All",children:c.jsx(ht,{size:"small",onClick:M,children:c.jsx(sQ,{})})})]}),e[33]=M,e[34]=N,e[35]=w,e[36]=v,e[37]=K):K=e[37],D=Yt,F="outlined";let ce,pe,ge,oe;e[38]===Symbol.for("react.memo_cache_sentinel")?(ce={width:"8px"},pe={backgroundColor:"transparent"},ge={backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"4px"},oe={backgroundColor:"rgba(0,0,0,0.3)"},e[38]=ce,e[39]=pe,e[40]=ge,e[41]=oe):(ce=e[38],pe=e[39],ge=e[40],oe=e[41]),e[42]!==C?(W={maxHeight:C,overflowY:"auto",overflowX:"hidden","&::-webkit-scrollbar":ce,"&::-webkit-scrollbar-track":pe,"&::-webkit-scrollbar-thumb":ge,"&::-webkit-scrollbar-thumb:hover":oe},e[42]=C,e[43]=W):W=e[43],ee=O.length>0?c.jsx(J,{sx:{paddingY:.5},children:te(O)}):c.jsx(J,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:200,color:"text.secondary"},children:c.jsx(re,{variant:"body2",children:_})}),e[13]=M,e[14]=_,e[15]=N,e[16]=H,e[17]=P,e[18]=$,e[19]=C,e[20]=w,e[21]=v,e[22]=L,e[23]=O,e[24]=D,e[25]=U,e[26]=F,e[27]=W,e[28]=ee,e[29]=Q,e[30]=K}else D=e[24],U=e[25],F=e[26],W=e[27],ee=e[28],Q=e[29],K=e[30];let V;e[44]!==D||e[45]!==F||e[46]!==W||e[47]!==ee?(V=c.jsx(D,{variant:F,sx:W,children:ee}),e[44]=D,e[45]=F,e[46]=W,e[47]=ee,e[48]=V):V=e[48];let Z;e[49]!==x||e[50]!==h?(Z=x&&h.length>0&&c.jsxs(re,{variant:"caption",color:"text.secondary",children:[h.length," group",h.length!==1?"s":""," ","selected"]}),e[49]=x,e[50]=h,e[51]=Z):Z=e[51];let q;return e[52]!==U||e[53]!==Q||e[54]!==K||e[55]!==V||e[56]!==Z?(q=c.jsxs(U,{sx:Q,children:[K,V,Z]}),e[52]=U,e[53]=Q,e[54]=K,e[55]=V,e[56]=Z,e[57]=q):q=e[57],q},wMe=t=>{const e=bt.c(109),{groups:n,selectedParentId:r,onParentChange:a,excludeIds:i,label:s,noParentLabel:o}=t;let l;e[0]!==i?(l=i===void 0?[]:i,e[0]=i,e[1]=l):l=e[1];const u=l,d=s===void 0?"Parent Group":s,h=o===void 0?"No Parent":o,m=os(),[y,x]=A.useState(!1);let v;e[2]!==r?(v=r?[r]:[],e[2]=r,e[3]=v):v=e[3];let _;e[4]!==a?(_=q=>{a(q[0]||null),x(!1)},e[4]=a,e[5]=_):_=e[5];let C;e[6]!==u||e[7]!==n||e[8]!==v||e[9]!==_?(C={groups:n,excludeIds:u,selectedIds:v,onSelectionChange:_,multiSelect:!1},e[6]=u,e[7]=n,e[8]=v,e[9]=_,e[10]=C):C=e[10];const{treeData:w,toggleExpand:T,handleSelect:E,isExpanded:I,isSelected:j}=AZ(C);let O;e[11]!==n||e[12]!==r?(O=r?n.find(q=>q.id===r):null,e[11]=n,e[12]=r,e[13]=O):O=e[13];const L=O;let N,M,H,P,$,D,U,F,W,ee,Q;if(e[14]!==E||e[15]!==I||e[16]!==y||e[17]!==j||e[18]!==d||e[19]!==h||e[20]!==a||e[21]!==L||e[22]!==r||e[23]!==m.palette.action.hover||e[24]!==m.palette.primary.main||e[25]!==T||e[26]!==w){const q=Ie=>Ie.map(ye=>c.jsxs(je.Fragment,{children:[c.jsx(RZ,{group:ye.group,level:ye.level,hasChildren:ye.children.length>0,isExpanded:I(ye.group.id),isSelected:j(ye.group.id),onToggleExpand:()=>T(ye.group.id),onSelect:()=>E(ye.group.id)}),I(ye.group.id)&&ye.children.length>0&&c.jsx(J,{children:q(ye.children)})]},ye.group.id));H=J,e[38]===Symbol.for("react.memo_cache_sentinel")?(F={mb:3},e[38]=F):F=e[38];let te;e[39]===Symbol.for("react.memo_cache_sentinel")?(te={mb:1},e[39]=te):te=e[39],e[40]!==d?(W=c.jsx(re,{variant:"subtitle2",sx:te,children:d}),e[40]=d,e[41]=W):W=e[41];let ae;e[42]!==y||e[43]!==m.palette.primary.main?(ae=y?_s(m.palette.primary.main,.05):"transparent",e[42]=y,e[43]=m.palette.primary.main,e[44]=ae):ae=e[44];const ie=y?"primary.main":"divider";let ce;e[45]!==m.palette.primary.main?(ce=_s(m.palette.primary.main,.02),e[45]=m.palette.primary.main,e[46]=ce):ce=e[46];let pe;e[47]!==ce?(pe={borderColor:"primary.main",backgroundColor:ce},e[47]=ce,e[48]=pe):pe=e[48];let ge;e[49]!==ae||e[50]!==ie||e[51]!==pe?(ge={padding:1.5,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:ae,borderColor:ie,transition:"all 0.2s ease","&:hover":pe},e[49]=ae,e[50]=ie,e[51]=pe,e[52]=ge):ge=e[52];let oe;e[53]!==y?(oe=()=>x(!y),e[53]=y,e[54]=oe):oe=e[54];let ue;e[55]===Symbol.for("react.memo_cache_sentinel")?(ue={display:"flex",alignItems:"center",gap:1,flex:1},e[55]=ue):ue=e[55];let he;e[56]!==h||e[57]!==L?(he=c.jsx(J,{sx:ue,children:L?c.jsxs(c.Fragment,{children:[L.color&&c.jsx(J,{sx:{width:4,height:20,backgroundColor:L.color,borderRadius:1}}),c.jsx(re,{variant:"body2",children:L.name})]}):c.jsx(re,{variant:"body2",color:"text.secondary",children:h})}),e[56]=h,e[57]=L,e[58]=he):he=e[58];let ve;e[59]===Symbol.for("react.memo_cache_sentinel")?(ve={display:"flex",alignItems:"center",gap:.5},e[59]=ve):ve=e[59];let me;e[60]!==a||e[61]!==r?(me=r&&c.jsx(Ke,{size:"small",onClick:Ie=>{Ie.stopPropagation(),a(null)},sx:{minWidth:"auto",padding:.5},children:c.jsx(Ry,{fontSize:"small"})}),e[60]=a,e[61]=r,e[62]=me):me=e[62];const le=y?"rotate(180deg)":"rotate(0deg)";let Se;e[63]!==le?(Se=c.jsx(is,{sx:{transition:"transform 0.2s ease",transform:le}}),e[63]=le,e[64]=Se):Se=e[64];let be;e[65]!==me||e[66]!==Se?(be=c.jsxs(J,{sx:ve,children:[me,Se]}),e[65]=me,e[66]=Se,e[67]=be):be=e[67],e[68]!==ge||e[69]!==oe||e[70]!==he||e[71]!==be?(ee=c.jsxs(Yt,{variant:"outlined",sx:ge,onClick:oe,children:[he,be]}),e[68]=ge,e[69]=oe,e[70]=he,e[71]=be,e[72]=ee):ee=e[72],M=jp,U=y,N=Yt,Q="outlined",e[73]===Symbol.for("react.memo_cache_sentinel")?(P={mt:1,maxHeight:300,overflowY:"auto","&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"4px"}},e[73]=P):P=e[73];let Te;e[74]!==r||e[75]!==m.palette.primary.main?(Te=r?"transparent":_s(m.palette.primary.main,.15),e[74]=r,e[75]=m.palette.primary.main,e[76]=Te):Te=e[76];const Ne=r?"3px solid transparent":`3px solid ${m.palette.primary.main}`;let Pe;e[77]!==m.palette.action.hover?(Pe=_s(m.palette.action.hover,.08),e[77]=m.palette.action.hover,e[78]=Pe):Pe=e[78];let Le;e[79]!==Pe?(Le={backgroundColor:Pe},e[79]=Pe,e[80]=Le):Le=e[80];let De;e[81]!==Te||e[82]!==Ne||e[83]!==Le?(De={padding:1.5,cursor:"pointer",backgroundColor:Te,borderLeft:Ne,transition:"all 0.2s ease","&:hover":Le},e[81]=Te,e[82]=Ne,e[83]=Le,e[84]=De):De=e[84];let Xe;e[85]!==a?(Xe=()=>{a(null),x(!1)},e[85]=a,e[86]=Xe):Xe=e[86];let ke;e[87]!==h?(ke=c.jsx(re,{variant:"body2",color:"text.secondary",children:h}),e[87]=h,e[88]=ke):ke=e[88],e[89]!==De||e[90]!==Xe||e[91]!==ke?($=c.jsx(J,{sx:De,onClick:Xe,children:ke}),e[89]=De,e[90]=Xe,e[91]=ke,e[92]=$):$=e[92],D=w.length>0?c.jsx(J,{sx:{paddingY:.5},children:q(w)}):c.jsx(J,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:100,color:"text.secondary"},children:c.jsx(re,{variant:"body2",children:"No groups available"})}),e[14]=E,e[15]=I,e[16]=y,e[17]=j,e[18]=d,e[19]=h,e[20]=a,e[21]=L,e[22]=r,e[23]=m.palette.action.hover,e[24]=m.palette.primary.main,e[25]=T,e[26]=w,e[27]=N,e[28]=M,e[29]=H,e[30]=P,e[31]=$,e[32]=D,e[33]=U,e[34]=F,e[35]=W,e[36]=ee,e[37]=Q}else N=e[27],M=e[28],H=e[29],P=e[30],$=e[31],D=e[32],U=e[33],F=e[34],W=e[35],ee=e[36],Q=e[37];let K;e[93]!==N||e[94]!==P||e[95]!==$||e[96]!==D||e[97]!==Q?(K=c.jsxs(N,{variant:Q,sx:P,children:[$,D]}),e[93]=N,e[94]=P,e[95]=$,e[96]=D,e[97]=Q,e[98]=K):K=e[98];let V;e[99]!==M||e[100]!==U||e[101]!==K?(V=c.jsx(M,{in:U,children:K}),e[99]=M,e[100]=U,e[101]=K,e[102]=V):V=e[102];let Z;return e[103]!==H||e[104]!==F||e[105]!==W||e[106]!==ee||e[107]!==V?(Z=c.jsxs(H,{sx:F,children:[W,ee,V]}),e[103]=H,e[104]=F,e[105]=W,e[106]=ee,e[107]=V,e[108]=Z):Z=e[108],Z},kc={all:["groups"],root:(t=null)=>[...kc.all,"root",t],children:t=>[...kc.all,"children",t],hierarchy:()=>[...kc.all,"hierarchy"],detail:t=>[...kc.all,"detail",t]};function EMe(t){const e=bt.c(4),n=t===void 0?null:t;let r;e[0]!==n?(r=kc.root(n),e[0]=n,e[1]=r):r=e[1];let a;return e[2]!==r?(a={queryKey:r,queryFn:TMe,staleTime:3e4},e[2]=r,e[3]=a):a=e[3],Ty(a)}async function TMe(){const t=await li.getRootGroups();if(!t.success||!t.data)throw new Error("Failed to fetch root groups");return t.data}function AMe(t){const e=bt.c(8);let n;e[0]!==t?(n=kc.children(t??0),e[0]=t,e[1]=n):n=e[1];let r;e[2]!==t?(r=async()=>{if(t===null)return[];const s=await li.getChildGroups(t);if(!s.success||!s.data)throw new Error("Failed to fetch child groups");return s.data},e[2]=t,e[3]=r):r=e[3];const a=t!==null;let i;return e[4]!==n||e[5]!==r||e[6]!==a?(i={queryKey:n,queryFn:r,enabled:a,placeholderData:RMe,staleTime:3e4},e[4]=n,e[5]=r,e[6]=a,e[7]=i):i=e[7],Ty(i)}function RMe(t){return t}function kZ(){const t=bt.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:kc.hierarchy(),queryFn:kMe,staleTime:3e4},t[0]=e):e=t[0],Ty(e)}async function kMe(){const t=await li.getAllGroupsWithHierarchy();if(!t.success||!t.data)throw new Error("Failed to fetch groups hierarchy");return t.data}function IMe(){const t=bt.c(2),e=Lp();let n;return t[0]!==e?(n={mutationFn:jMe,onSuccess:()=>{e.invalidateQueries({queryKey:kc.all}),e.invalidateQueries({queryKey:["groupPreviewImages","group"]})}},t[0]=e,t[1]=n):n=t[1],Xv(n)}async function jMe(t){const e=await li.createGroup(t);if(!e.success||!e.data)throw new Error(e.error||"Failed to create group");return e.data}function OMe(){const t=bt.c(2),e=Lp();let n;return t[0]!==e?(n={mutationFn:DMe,onSuccess:r=>{e.invalidateQueries({queryKey:kc.all}),e.invalidateQueries({queryKey:kc.detail(r.id)}),e.invalidateQueries({queryKey:["groupPreviewImages","group"]})}},t[0]=e,t[1]=n):n=t[1],Xv(n)}async function DMe(t){const{id:e,data:n}=t,r=await li.updateGroup(e,n);if(!r.success||!r.data)throw new Error(r.error||"Failed to update group");return r.data}function IZ(){const t=bt.c(2),e=Lp();let n;return t[0]!==e?(n={mutationFn:MMe,onSuccess:()=>{e.invalidateQueries({queryKey:kc.all}),e.invalidateQueries({queryKey:["groupPreviewImages","group"]})}},t[0]=e,t[1]=n):n=t[1],Xv(n)}async function MMe(t){const{id:e,cascade:n}=t,r=n===void 0?!1:n,a=await li.deleteGroup(e,r);if(!a.success)throw new Error(a.error||"Failed to delete group");return e}function NMe(){const t=bt.c(2),e=Lp();let n;return t[0]!==e?(n={mutationFn:PMe,onSuccess:()=>{e.invalidateQueries({queryKey:kc.all}),e.invalidateQueries({queryKey:["groupPreviewImages"]})}},t[0]=e,t[1]=n):n=t[1],Xv(n)}async function PMe(t){const e=await li.runAutoCollection(t);if(!e.success||!e.data)throw new Error(e.error||"Failed to run auto-collection");return e.data}const Y5=t=>{const e=bt.c(56),{open:n,onClose:r,selectedImageCount:a,onAssign:i,currentGroupId:s}=t;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=["common","imageGroups"],e[0]=o):o=e[0];const{t:l}=$t(o),[u,d]=A.useState(null),{data:h,isLoading:m,error:y}=kZ();let x;e[1]!==h?(x=h===void 0?[]:h,e[1]=h,e[2]=x):x=e[2];const v=x;let _;e[3]!==y||e[4]!==l?(_=y?l("imageGroups:assignModal.loadError"):null,e[3]=y,e[4]=l,e[5]=_):_=e[5];const C=_;let w,T;e[6]!==n?(w=()=>{n&&d(null)},T=[n],e[6]=n,e[7]=w,e[8]=T):(w=e[7],T=e[8]),A.useEffect(w,T);let E;e[9]===Symbol.for("react.memo_cache_sentinel")?(E=ae=>{d(ae[0]||null)},e[9]=E):E=e[9];const I=E;let j;e[10]!==s||e[11]!==i||e[12]!==r||e[13]!==u?(j=async()=>{u&&u!==s&&(await i(u),r())},e[10]=s,e[11]=i,e[12]=r,e[13]=u,e[14]=j):j=e[14];const O=j,L=LMe,N=zMe;let M;e[15]!==l?(M=l("imageGroups:assignModal.title"),e[15]=l,e[16]=M):M=e[16];let H;e[17]!==M?(H=c.jsx(pr,{children:M}),e[17]=M,e[18]=H):H=e[18];let P;e[19]===Symbol.for("react.memo_cache_sentinel")?(P={mb:2},e[19]=P):P=e[19];let $;e[20]!==a||e[21]!==l?($=l("imageGroups:assignModal.description",{count:a}),e[20]=a,e[21]=l,e[22]=$):$=e[22];let D;e[23]!==$?(D=c.jsx(Dp,{sx:P,children:$}),e[23]=$,e[24]=D):D=e[24];let U;e[25]!==C?(U=C&&c.jsx(St,{severity:"error",sx:{mb:2},children:C}),e[25]=C,e[26]=U):U=e[26];let F;e[27]!==v||e[28]!==m||e[29]!==u||e[30]!==l?(F=m?c.jsx(J,{sx:{display:"flex",justifyContent:"center",py:4},children:c.jsx(Kt,{})}):v.length===0?c.jsx(J,{sx:{textAlign:"center",py:4},children:c.jsx(re,{color:"text.secondary",children:l("imageGroups:assignModal.emptyGroups")})}):c.jsx(CMe,{groups:v,selectedIds:u?[u]:[],onSelectionChange:I,multiSelect:!1,showSearch:!0,emptyMessage:l("imageGroups:assignModal.emptyGroups"),maxHeight:500}),e[27]=v,e[28]=m,e[29]=u,e[30]=l,e[31]=F):F=e[31];let W;e[32]!==D||e[33]!==U||e[34]!==F?(W=c.jsxs(hr,{children:[D,U,F]}),e[32]=D,e[33]=U,e[34]=F,e[35]=W):W=e[35];let ee;e[36]!==l?(ee=l("imageGroups:assignModal.buttonCancel"),e[36]=l,e[37]=ee):ee=e[37];let Q;e[38]!==r||e[39]!==ee?(Q=c.jsx(Ke,{onClick:r,children:ee}),e[38]=r,e[39]=ee,e[40]=Q):Q=e[40];const K=!u;let V;e[41]!==l?(V=l("imageGroups:assignModal.buttonAssign"),e[41]=l,e[42]=V):V=e[42];let Z;e[43]!==O||e[44]!==K||e[45]!==V?(Z=c.jsx(Ke,{onClick:O,color:"primary",variant:"contained",disabled:K,children:V}),e[43]=O,e[44]=K,e[45]=V,e[46]=Z):Z=e[46];let q;e[47]!==Q||e[48]!==Z?(q=c.jsxs(yr,{children:[Q,Z]}),e[47]=Q,e[48]=Z,e[49]=q):q=e[49];let te;return e[50]!==r||e[51]!==n||e[52]!==H||e[53]!==W||e[54]!==q?(te=c.jsxs(or,{open:n,onClose:r,maxWidth:"sm",fullWidth:!0,onMouseDown:L,onPointerDown:N,children:[H,W,q]}),e[50]=r,e[51]=n,e[52]=H,e[53]=W,e[54]=q,e[55]=te):te=e[55],te};function LMe(t){t.stopPropagation()}function zMe(t){t.stopPropagation()}const YO=t=>{const e=bt.c(86),{selectedCount:n,selectedImages:r,onSelectionClear:a,onActionComplete:i,onModalStateChange:s}=t;let o;e[0]!==r?(o=r===void 0?[]:r,e[0]=r,e[1]=o):o=e[1];const l=o;let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=["common"],e[2]=u):u=e[2];const{t:d}=$t(u),[h,m]=A.useState(!1),{loading:y,error:x,deleteImages:v,downloadImages:_,assignToGroup:C,clearError:w}=SMe();let T;e[3]!==s?(T=Pe=>{m(Pe),s&&s(Pe)},e[3]=s,e[4]=T):T=e[4];const E=T;let I;e[5]!==v||e[6]!==i||e[7]!==n||e[8]!==l||e[9]!==d?(I=async()=>{const Pe=l.some(FMe),Le=l.some(BMe);let De;if(Pe&&Le?De=d("common:bulkActions.confirmDelete.mixed",{count:n}):Pe?De=d("common:bulkActions.confirmDelete.videos",{count:n}):Le?De=d("common:bulkActions.confirmDelete.images",{count:n}):De=d("common:bulkActions.confirmDelete.files",{count:n}),!window.confirm(De))return;const Xe=l.map(HMe).filter(UMe);await v(Xe)&&i&&i(Xe)},e[5]=v,e[6]=i,e[7]=n,e[8]=l,e[9]=d,e[10]=I):I=e[10];const j=I;let O;e[11]!==_||e[12]!==l?(O=async()=>{const Pe=l.map($Me).filter(GMe);await _(Pe)},e[11]=_,e[12]=l,e[13]=O):O=e[13];const L=O;let N;e[14]!==C||e[15]!==E||e[16]!==a||e[17]!==l?(N=async Pe=>{const Le=l.map(qMe).filter(VMe);await C(Le,Pe)&&(E(!1),a())},e[14]=C,e[15]=E,e[16]=a,e[17]=l,e[18]=N):N=e[18];const M=N;if(n===0)return null;const H=WMe,P=YMe;let $;e[19]===Symbol.for("react.memo_cache_sentinel")?($={position:"fixed",bottom:24,left:"50%",transform:"translateX(-50%)",p:2,zIndex:1100,display:"flex",alignItems:"center",gap:2,minWidth:400},e[19]=$):$=e[19];let D;e[20]===Symbol.for("react.memo_cache_sentinel")?(D={flexGrow:1},e[20]=D):D=e[20];let U;e[21]!==n||e[22]!==d?(U=d("common:bulkActions.selectedCountImages",{count:n}),e[21]=n,e[22]=d,e[23]=U):U=e[23];let F;e[24]!==U?(F=c.jsx(re,{variant:"body1",sx:D,children:U}),e[24]=U,e[25]=F):F=e[25];let W;e[26]!==y?(W=y&&c.jsx(Kt,{size:24}),e[26]=y,e[27]=W):W=e[27];let ee;e[28]!==d?(ee=d("common:bulkActions.tooltips.download"),e[28]=d,e[29]=ee):ee=e[29];let Q;e[30]===Symbol.for("react.memo_cache_sentinel")?(Q=c.jsx(tS,{}),e[30]=Q):Q=e[30];let K;e[31]!==L||e[32]!==y?(K=c.jsx(ht,{onClick:L,disabled:y,color:"primary",children:Q}),e[31]=L,e[32]=y,e[33]=K):K=e[33];let V;e[34]!==ee||e[35]!==K?(V=c.jsx(Xt,{title:ee,children:K}),e[34]=ee,e[35]=K,e[36]=V):V=e[36];let Z;e[37]!==d?(Z=d("common:bulkActions.tooltips.addToGroup"),e[37]=d,e[38]=Z):Z=e[38];let q;e[39]!==E?(q=()=>E(!0),e[39]=E,e[40]=q):q=e[40];let te;e[41]===Symbol.for("react.memo_cache_sentinel")?(te=c.jsx(wu,{}),e[41]=te):te=e[41];let ae;e[42]!==y||e[43]!==q?(ae=c.jsx(ht,{onClick:q,disabled:y,color:"primary",children:te}),e[42]=y,e[43]=q,e[44]=ae):ae=e[44];let ie;e[45]!==Z||e[46]!==ae?(ie=c.jsx(Xt,{title:Z,children:ae}),e[45]=Z,e[46]=ae,e[47]=ie):ie=e[47];let ce;e[48]!==d?(ce=d("common:bulkActions.tooltips.delete"),e[48]=d,e[49]=ce):ce=e[49];let pe;e[50]===Symbol.for("react.memo_cache_sentinel")?(pe=c.jsx(xa,{}),e[50]=pe):pe=e[50];let ge;e[51]!==j||e[52]!==y?(ge=c.jsx(ht,{onClick:j,disabled:y,color:"error",children:pe}),e[51]=j,e[52]=y,e[53]=ge):ge=e[53];let oe;e[54]!==ce||e[55]!==ge?(oe=c.jsx(Xt,{title:ce,children:ge}),e[54]=ce,e[55]=ge,e[56]=oe):oe=e[56];let ue;e[57]!==d?(ue=d("common:bulkActions.tooltips.clearSelection"),e[57]=d,e[58]=ue):ue=e[58];let he;e[59]===Symbol.for("react.memo_cache_sentinel")?(he=c.jsx(Np,{}),e[59]=he):he=e[59];let ve;e[60]!==a?(ve=c.jsx(ht,{onClick:a,size:"small",children:he}),e[60]=a,e[61]=ve):ve=e[61];let me;e[62]!==ue||e[63]!==ve?(me=c.jsx(Xt,{title:ue,children:ve}),e[62]=ue,e[63]=ve,e[64]=me):me=e[64];let le;e[65]!==F||e[66]!==W||e[67]!==V||e[68]!==ie||e[69]!==oe||e[70]!==me?(le=c.jsxs(Yt,{className:"no-drag-select",elevation:4,onMouseDown:H,onPointerDown:P,sx:$,children:[F,W,V,ie,oe,me]}),e[65]=F,e[66]=W,e[67]=V,e[68]=ie,e[69]=oe,e[70]=me,e[71]=le):le=e[71];let Se;e[72]!==E?(Se=()=>E(!1),e[72]=E,e[73]=Se):Se=e[73];let be;e[74]!==h||e[75]!==M||e[76]!==n||e[77]!==Se?(be=c.jsx(Y5,{open:h,onClose:Se,selectedImageCount:n,onAssign:M}),e[74]=h,e[75]=M,e[76]=n,e[77]=Se,e[78]=be):be=e[78];let Te;e[79]!==w||e[80]!==x?(Te=x&&c.jsx(J,{sx:{position:"fixed",top:24,right:24,zIndex:1001,maxWidth:400},children:c.jsx(St,{severity:"error",onClose:w,action:c.jsx(ht,{"aria-label":"close",color:"inherit",size:"small",onClick:w,children:c.jsx(Np,{fontSize:"inherit"})}),children:x})}),e[79]=w,e[80]=x,e[81]=Te):Te=e[81];let Ne;return e[82]!==le||e[83]!==be||e[84]!==Te?(Ne=c.jsxs(c.Fragment,{children:[le,be,Te]}),e[82]=le,e[83]=be,e[84]=Te,e[85]=Ne):Ne=e[85],Ne};function FMe(t){return t.mime_type?.startsWith("video/")}function BMe(t){return!t.mime_type?.startsWith("video/")}function HMe(t){return t.composite_hash}function UMe(t){return t!==null}function $Me(t){return t.composite_hash}function GMe(t){return t!==null}function qMe(t){return t.composite_hash}function VMe(t){return t!==null}function WMe(t){t.stopPropagation()}function YMe(t){t.stopPropagation()}const KMe=50,XMe=()=>{const t=bt.c(20),e=Lp();let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n={queryKey:["images","infinite"],queryFn:QMe,getNextPageParam:ZMe,initialPageParam:1,staleTime:6e4,gcTime:3e5},t[0]=n):n=t[0];const{data:r,error:a,fetchNextPage:i,hasNextPage:s,isFetching:o,isFetchingNextPage:l,refetch:u}=efe(n);let d;t[1]!==r?.pages?(d=r?.pages.flatMap(JMe)??[],t[1]=r?.pages,t[2]=d):d=t[2];const h=d,m=o&&!l,y=a?a.message:null;let x;t[3]!==i||t[4]!==s||t[5]!==l?(x=()=>{s&&!l&&i()},t[3]=i,t[4]=s,t[5]=l,t[6]=x):x=t[6];const v=x;let _;t[7]!==e||t[8]!==u?(_=async()=>{console.log(" [useInfiniteImages] Refreshing images..."),e.removeQueries({queryKey:["images"]}),await u(),console.log(" [useInfiniteImages] Refresh complete")},t[7]=e,t[8]=u,t[9]=_):_=t[9];const C=_;let w;t[10]!==e?(w=async j=>{try{await ba.deleteImage(j),e.setQueryData(["images","infinite"],O=>O&&{...O,pages:O.pages.map(L=>({...L,images:L.images.filter(N=>N.composite_hash!==j)}))}),e.invalidateQueries({queryKey:["images"]})}catch(O){throw console.error("Error deleting image:",O),new Error("  .")}},t[10]=e,t[11]=w):w=t[11];const T=w,E=s??!1;let I;return t[12]!==T||t[13]!==y||t[14]!==h||t[15]!==v||t[16]!==m||t[17]!==C||t[18]!==E?(I={images:h,loading:m,error:y,hasMore:E,loadMore:v,refreshImages:C,deleteImage:T},t[12]=T,t[13]=y,t[14]=h,t[15]=v,t[16]=m,t[17]=C,t[18]=E,t[19]=I):I=t[19],I};async function QMe(t){const{pageParam:e}=t,n=e===void 0?1:e,r=await ba.getImages(n,KMe);if(!r.success||!r.data)throw new Error(r.error||"  .");return r.data}function ZMe(t){return t.page<t.totalPages?t.page+1:void 0}function JMe(t){return t.images}const eNe=()=>{const t=bt.c(37),{images:e,loading:n,error:r,hasMore:a,loadMore:i,refreshImages:s}=XMe();let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[],t[0]=o):o=t[0];const[l,u]=A.useState(o);let d;t[1]!==l?(d=H=>{console.log("[HomePage] handleSelectionChange called:",{newSelectedIds:H,currentSelectedIds:l}),u(H)},t[1]=l,t[2]=d):d=t[2];const h=d;let m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m=()=>{u([])},t[3]=m):m=t[3];const y=m;let x;t[4]!==e||t[5]!==s?(x=async H=>{if(H&&H.length>0){const P=e.filter($=>$.composite_hash&&H.includes($.composite_hash)).map(tNe).filter(nNe);u($=>$.filter(D=>!P.includes(D)))}await s()},t[4]=e,t[5]=s,t[6]=x):x=t[6];const v=x;let _;t[7]===Symbol.for("react.memo_cache_sentinel")?(_={width:"100%"},t[7]=_):_=t[7];let C;t[8]===Symbol.for("react.memo_cache_sentinel")?(C={mb:{xs:2,sm:3},display:"flex",justifyContent:"space-between",alignItems:"center"},t[8]=C):C=t[8];let w;t[9]===Symbol.for("react.memo_cache_sentinel")?(w=c.jsx(J,{children:c.jsx(re,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontSize:{xs:"1.75rem",sm:"2rem",md:"2.25rem"},fontWeight:600},children:"Home"})}),t[9]=w):w=t[9];let T;t[10]===Symbol.for("react.memo_cache_sentinel")?(T=c.jsx(wo,{}),t[10]=T):T=t[10];let E;t[11]!==n||t[12]!==s?(E=c.jsxs(J,{sx:C,children:[w,c.jsx(Xt,{title:"",children:c.jsx("span",{children:c.jsx(ht,{onClick:s,disabled:n,children:T})})})]}),t[11]=n,t[12]=s,t[13]=E):E=t[13];let I;t[14]!==r?(I=r&&c.jsx(J,{sx:{mb:{xs:2,sm:3},p:2,bgcolor:"error.light",color:"error.contrastText",borderRadius:2},children:c.jsx(re,{variant:"body2",children:r})}),t[14]=r,t[15]=I):I=t[15];let j;t[16]!==h||t[17]!==a||t[18]!==e||t[19]!==i||t[20]!==n||t[21]!==l?(j=c.jsx(mMe,{images:e,loading:n,hasMore:a,onLoadMore:i,selectable:!0,selectedIds:l,onSelectionChange:h}),t[16]=h,t[17]=a,t[18]=e,t[19]=i,t[20]=n,t[21]=l,t[22]=j):j=t[22];const O=l.length;let L;if(t[23]!==e||t[24]!==l){let H;t[26]!==l?(H=P=>P.id&&l.includes(P.id),t[26]=l,t[27]=H):H=t[27],L=e.filter(H),t[23]=e,t[24]=l,t[25]=L}else L=t[25];let N;t[28]!==v||t[29]!==l||t[30]!==L?(N=c.jsx(YO,{selectedCount:O,selectedIds:l,selectedImages:L,onSelectionClear:y,onActionComplete:v}),t[28]=v,t[29]=l,t[30]=L,t[31]=N):N=t[31];let M;return t[32]!==j||t[33]!==N||t[34]!==E||t[35]!==I?(M=c.jsxs(J,{sx:_,children:[E,I,j,N]}),t[32]=j,t[33]=N,t[34]=E,t[35]=I,t[36]=M):M=t[36],M};function tNe(t){return t.id}function nNe(t){return t!==void 0}function Gg(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function o(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})}const rNe=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function cy(t,e,n){const r=aNe(t),{webkitRelativePath:a}=t,i=typeof e=="string"?e:typeof a=="string"&&a.length>0?a:`./${t.name}`;return typeof r.path!="string"&&eF(r,"path",i),eF(r,"relativePath",i),r}function aNe(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),a=rNe.get(r);a&&Object.defineProperty(t,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return t}function eF(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const iNe=[".DS_Store","Thumbs.db"];function sNe(t){return Gg(this,void 0,void 0,function*(){return SC(t)&&oNe(t.dataTransfer)?dNe(t.dataTransfer,t.type):lNe(t)?cNe(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?uNe(t):[]})}function oNe(t){return SC(t)}function lNe(t){return SC(t)&&SC(t.target)}function SC(t){return typeof t=="object"&&t!==null}function cNe(t){return wI(t.target.files).map(e=>cy(e))}function uNe(t){return Gg(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>cy(n))})}function dNe(t,e){return Gg(this,void 0,void 0,function*(){if(t.items){const n=wI(t.items).filter(a=>a.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(fNe));return tF(jZ(r))}return tF(wI(t.files).map(n=>cy(n)))})}function tF(t){return t.filter(e=>iNe.indexOf(e.name)===-1)}function wI(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function fNe(t){if(typeof t.webkitGetAsEntry!="function")return nF(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?OZ(e):nF(t,e)}function jZ(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?jZ(n):[n]],[])}function nF(t,e){return Gg(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const i=yield t.getAsFileSystemHandle();if(i===null)throw new Error(`${t} is not a File`);if(i!==void 0){const s=yield i.getFile();return s.handle=i,cy(s)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return cy(r,(n=e?.fullPath)!==null&&n!==void 0?n:void 0)})}function hNe(t){return Gg(this,void 0,void 0,function*(){return t.isDirectory?OZ(t):pNe(t)})}function OZ(t){const e=t.createReader();return new Promise((n,r)=>{const a=[];function i(){e.readEntries(s=>Gg(this,void 0,void 0,function*(){if(s.length){const o=Promise.all(s.map(hNe));a.push(o),i()}else try{const o=yield Promise.all(a);n(o)}catch(o){r(o)}}),s=>{r(s)})}i()})}function pNe(t){return Gg(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const a=cy(r,t.fullPath);e(a)},r=>{n(r)})})})}var G_={},rF;function mNe(){return rF||(rF=1,G_.__esModule=!0,G_.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",a=(t.type||"").toLowerCase(),i=a.replace(/\/.*$/,"");return n.some(function(s){var o=s.trim().toLowerCase();return o.charAt(0)==="."?r.toLowerCase().endsWith(o):o.endsWith("/*")?i===o.replace(/\/.*$/,""):a===o})}return!0}),G_}var gNe=mNe();const OT=Qf(gNe);function aF(t){return xNe(t)||bNe(t)||MZ(t)||yNe()}function yNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xNe(t){if(Array.isArray(t))return EI(t)}function iF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function sF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iF(Object(n),!0).forEach(function(r){DZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DZ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mv(t,e){return _Ne(t)||SNe(t,e)||MZ(t,e)||vNe()}function vNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MZ(t,e){if(t){if(typeof t=="string")return EI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EI(t,e)}}function EI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,s,o;try{for(n=n.call(t);!(a=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));a=!0);}catch(l){i=!0,o=l}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw o}}return r}}function _Ne(t){if(Array.isArray(t))return t}var CNe=typeof OT=="function"?OT:OT.default,wNe="file-invalid-type",ENe="file-too-large",TNe="file-too-small",ANe="too-many-files",RNe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:wNe,message:"File type must be ".concat(r)}},oF=function(e){return{code:ENe,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},lF=function(e){return{code:TNe,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},kNe={code:ANe,message:"Too many files"};function NZ(t,e){var n=t.type==="application/x-moz-file"||CNe(t,e);return[n,n?null:RNe(e)]}function PZ(t,e,n){if(Gm(t.size))if(Gm(e)&&Gm(n)){if(t.size>n)return[!1,oF(n)];if(t.size<e)return[!1,lF(e)]}else{if(Gm(e)&&t.size<e)return[!1,lF(e)];if(Gm(n)&&t.size>n)return[!1,oF(n)]}return[!0,null]}function Gm(t){return t!=null}function INe(t){var e=t.files,n=t.accept,r=t.minSize,a=t.maxSize,i=t.multiple,s=t.maxFiles,o=t.validator;return!i&&e.length>1||i&&s>=1&&e.length>s?!1:e.every(function(l){var u=NZ(l,n),d=mv(u,1),h=d[0],m=PZ(l,r,a),y=mv(m,1),x=y[0],v=o?o(l):null;return h&&x&&!v})}function _C(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function q_(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function cF(t){t.preventDefault()}function jNe(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function ONe(t){return t.indexOf("Edge/")!==-1}function DNe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return jNe(t)||ONe(t)}function gd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return e.some(function(o){return!_C(r)&&o&&o.apply(void 0,[r].concat(i)),_C(r)})}}function MNe(){return"showOpenFilePicker"in window}function NNe(t){if(Gm(t)){var e=Object.entries(t).filter(function(n){var r=mv(n,2),a=r[0],i=r[1],s=!0;return LZ(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(i)||!i.every(zZ))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,r){var a=mv(r,2),i=a[0],s=a[1];return sF(sF({},n),{},DZ({},i,s))},{});return[{description:"Files",accept:e}]}return t}function PNe(t){if(Gm(t))return Object.entries(t).reduce(function(e,n){var r=mv(n,2),a=r[0],i=r[1];return[].concat(aF(e),[a],aF(i))},[]).filter(function(e){return LZ(e)||zZ(e)}).join(",")}function LNe(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function zNe(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function LZ(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function zZ(t){return/^.*\.[\w]+$/.test(t)}var FNe=["children"],BNe=["open"],HNe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],UNe=["refKey","onChange","onClick"];function $Ne(t){return VNe(t)||qNe(t)||FZ(t)||GNe()}function GNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VNe(t){if(Array.isArray(t))return TI(t)}function DT(t,e){return KNe(t)||YNe(t,e)||FZ(t,e)||WNe()}function WNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FZ(t,e){if(t){if(typeof t=="string")return TI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TI(t,e)}}function TI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,s,o;try{for(n=n.call(t);!(a=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));a=!0);}catch(l){i=!0,o=l}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw o}}return r}}function KNe(t){if(Array.isArray(t))return t}function uF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Fa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uF(Object(n),!0).forEach(function(r){AI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AI(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CC(t,e){if(t==null)return{};var n=XNe(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XNe(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}var KO=A.forwardRef(function(t,e){var n=t.children,r=CC(t,FNe),a=HZ(r),i=a.open,s=CC(a,BNe);return A.useImperativeHandle(e,function(){return{open:i}},[i]),je.createElement(A.Fragment,null,n(Fa(Fa({},s),{},{open:i})))});KO.displayName="Dropzone";var BZ={disabled:!1,getFilesFromEvent:sNe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};KO.defaultProps=BZ;KO.propTypes={children:qr.func,accept:qr.objectOf(qr.arrayOf(qr.string)),multiple:qr.bool,preventDropOnDocument:qr.bool,noClick:qr.bool,noKeyboard:qr.bool,noDrag:qr.bool,noDragEventsBubbling:qr.bool,minSize:qr.number,maxSize:qr.number,maxFiles:qr.number,disabled:qr.bool,getFilesFromEvent:qr.func,onFileDialogCancel:qr.func,onFileDialogOpen:qr.func,useFsAccessApi:qr.bool,autoFocus:qr.bool,onDragEnter:qr.func,onDragLeave:qr.func,onDragOver:qr.func,onDrop:qr.func,onDropAccepted:qr.func,onDropRejected:qr.func,onError:qr.func,validator:qr.func};var RI={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function HZ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Fa(Fa({},BZ),t),n=e.accept,r=e.disabled,a=e.getFilesFromEvent,i=e.maxSize,s=e.minSize,o=e.multiple,l=e.maxFiles,u=e.onDragEnter,d=e.onDragLeave,h=e.onDragOver,m=e.onDrop,y=e.onDropAccepted,x=e.onDropRejected,v=e.onFileDialogCancel,_=e.onFileDialogOpen,C=e.useFsAccessApi,w=e.autoFocus,T=e.preventDropOnDocument,E=e.noClick,I=e.noKeyboard,j=e.noDrag,O=e.noDragEventsBubbling,L=e.onError,N=e.validator,M=A.useMemo(function(){return PNe(n)},[n]),H=A.useMemo(function(){return NNe(n)},[n]),P=A.useMemo(function(){return typeof _=="function"?_:dF},[_]),$=A.useMemo(function(){return typeof v=="function"?v:dF},[v]),D=A.useRef(null),U=A.useRef(null),F=A.useReducer(QNe,RI),W=DT(F,2),ee=W[0],Q=W[1],K=ee.isFocused,V=ee.isFileDialogActive,Z=A.useRef(typeof window<"u"&&window.isSecureContext&&C&&MNe()),q=function(){!Z.current&&V&&setTimeout(function(){if(U.current){var Ie=U.current.files;Ie.length||(Q({type:"closeDialog"}),$())}},300)};A.useEffect(function(){return window.addEventListener("focus",q,!1),function(){window.removeEventListener("focus",q,!1)}},[U,V,$,Z]);var te=A.useRef([]),ae=function(Ie){D.current&&D.current.contains(Ie.target)||(Ie.preventDefault(),te.current=[])};A.useEffect(function(){return T&&(document.addEventListener("dragover",cF,!1),document.addEventListener("drop",ae,!1)),function(){T&&(document.removeEventListener("dragover",cF),document.removeEventListener("drop",ae))}},[D,T]),A.useEffect(function(){return!r&&w&&D.current&&D.current.focus(),function(){}},[D,w,r]);var ie=A.useCallback(function(ke){L?L(ke):console.error(ke)},[L]),ce=A.useCallback(function(ke){ke.preventDefault(),ke.persist(),Pe(ke),te.current=[].concat($Ne(te.current),[ke.target]),q_(ke)&&Promise.resolve(a(ke)).then(function(Ie){if(!(_C(ke)&&!O)){var ye=Ie.length,Ce=ye>0&&INe({files:Ie,accept:M,minSize:s,maxSize:i,multiple:o,maxFiles:l,validator:N}),Me=ye>0&&!Ce;Q({isDragAccept:Ce,isDragReject:Me,isDragActive:!0,type:"setDraggedFiles"}),u&&u(ke)}}).catch(function(Ie){return ie(Ie)})},[a,u,ie,O,M,s,i,o,l,N]),pe=A.useCallback(function(ke){ke.preventDefault(),ke.persist(),Pe(ke);var Ie=q_(ke);if(Ie&&ke.dataTransfer)try{ke.dataTransfer.dropEffect="copy"}catch{}return Ie&&h&&h(ke),!1},[h,O]),ge=A.useCallback(function(ke){ke.preventDefault(),ke.persist(),Pe(ke);var Ie=te.current.filter(function(Ce){return D.current&&D.current.contains(Ce)}),ye=Ie.indexOf(ke.target);ye!==-1&&Ie.splice(ye,1),te.current=Ie,!(Ie.length>0)&&(Q({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),q_(ke)&&d&&d(ke))},[D,d,O]),oe=A.useCallback(function(ke,Ie){var ye=[],Ce=[];ke.forEach(function(Me){var He=NZ(Me,M),Qe=DT(He,2),Je=Qe[0],Ge=Qe[1],it=PZ(Me,s,i),rt=DT(it,2),st=rt[0],ft=rt[1],qt=N?N(Me):null;if(Je&&st&&!qt)ye.push(Me);else{var Gt=[Ge,ft];qt&&(Gt=Gt.concat(qt)),Ce.push({file:Me,errors:Gt.filter(function(bn){return bn})})}}),(!o&&ye.length>1||o&&l>=1&&ye.length>l)&&(ye.forEach(function(Me){Ce.push({file:Me,errors:[kNe]})}),ye.splice(0)),Q({acceptedFiles:ye,fileRejections:Ce,isDragReject:Ce.length>0,type:"setFiles"}),m&&m(ye,Ce,Ie),Ce.length>0&&x&&x(Ce,Ie),ye.length>0&&y&&y(ye,Ie)},[Q,o,M,s,i,l,m,y,x,N]),ue=A.useCallback(function(ke){ke.preventDefault(),ke.persist(),Pe(ke),te.current=[],q_(ke)&&Promise.resolve(a(ke)).then(function(Ie){_C(ke)&&!O||oe(Ie,ke)}).catch(function(Ie){return ie(Ie)}),Q({type:"reset"})},[a,oe,ie,O]),he=A.useCallback(function(){if(Z.current){Q({type:"openDialog"}),P();var ke={multiple:o,types:H};window.showOpenFilePicker(ke).then(function(Ie){return a(Ie)}).then(function(Ie){oe(Ie,null),Q({type:"closeDialog"})}).catch(function(Ie){LNe(Ie)?($(Ie),Q({type:"closeDialog"})):zNe(Ie)?(Z.current=!1,U.current?(U.current.value=null,U.current.click()):ie(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ie(Ie)});return}U.current&&(Q({type:"openDialog"}),P(),U.current.value=null,U.current.click())},[Q,P,$,C,oe,ie,H,o]),ve=A.useCallback(function(ke){!D.current||!D.current.isEqualNode(ke.target)||(ke.key===" "||ke.key==="Enter"||ke.keyCode===32||ke.keyCode===13)&&(ke.preventDefault(),he())},[D,he]),me=A.useCallback(function(){Q({type:"focus"})},[]),le=A.useCallback(function(){Q({type:"blur"})},[]),Se=A.useCallback(function(){E||(DNe()?setTimeout(he,0):he())},[E,he]),be=function(Ie){return r?null:Ie},Te=function(Ie){return I?null:be(Ie)},Ne=function(Ie){return j?null:be(Ie)},Pe=function(Ie){O&&Ie.stopPropagation()},Le=A.useMemo(function(){return function(){var ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ie=ke.refKey,ye=Ie===void 0?"ref":Ie,Ce=ke.role,Me=ke.onKeyDown,He=ke.onFocus,Qe=ke.onBlur,Je=ke.onClick,Ge=ke.onDragEnter,it=ke.onDragOver,rt=ke.onDragLeave,st=ke.onDrop,ft=CC(ke,HNe);return Fa(Fa(AI({onKeyDown:Te(gd(Me,ve)),onFocus:Te(gd(He,me)),onBlur:Te(gd(Qe,le)),onClick:be(gd(Je,Se)),onDragEnter:Ne(gd(Ge,ce)),onDragOver:Ne(gd(it,pe)),onDragLeave:Ne(gd(rt,ge)),onDrop:Ne(gd(st,ue)),role:typeof Ce=="string"&&Ce!==""?Ce:"presentation"},ye,D),!r&&!I?{tabIndex:0}:{}),ft)}},[D,ve,me,le,Se,ce,pe,ge,ue,I,j,r]),De=A.useCallback(function(ke){ke.stopPropagation()},[]),Xe=A.useMemo(function(){return function(){var ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ie=ke.refKey,ye=Ie===void 0?"ref":Ie,Ce=ke.onChange,Me=ke.onClick,He=CC(ke,UNe),Qe=AI({accept:M,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:be(gd(Ce,ue)),onClick:be(gd(Me,De)),tabIndex:-1},ye,U);return Fa(Fa({},Qe),He)}},[U,n,o,ue,r]);return Fa(Fa({},ee),{},{isFocused:K&&!r,getRootProps:Le,getInputProps:Xe,rootRef:D,inputRef:U,open:be(he)})}function QNe(t,e){switch(e.type){case"focus":return Fa(Fa({},t),{},{isFocused:!0});case"blur":return Fa(Fa({},t),{},{isFocused:!1});case"openDialog":return Fa(Fa({},RI),{},{isFileDialogActive:!0});case"closeDialog":return Fa(Fa({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Fa(Fa({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Fa(Fa({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Fa({},RI);default:return t}}function dF(){}const ZNe=({onUploadComplete:t})=>{const{t:e}=$t("upload"),[n,r]=A.useState([]),[a,i]=A.useState(!1),[s,o]=A.useState(0),[l,u]=A.useState(null),d={upload:e("stages.upload"),metadata:e("stages.metadata"),thumbnail:e("stages.thumbnail"),"auto-collect":e("stages.autoCollect"),"auto-tag":e("stages.autoTag")},h=A.useCallback(async T=>{if(T.length===0)return;i(!0),u(null);const E=T.map(I=>({filename:I.name,status:"waiting"}));r(E),o(0);try{if(T.length===1){const I=await pz.uploadImage(T[0]);I.success?(r([{filename:T[0].name,status:"complete",message:e("messages.uploadComplete"),imageId:I.data?.composite_hash}]),u({type:"success",text:e("messages.uploadSuccess")})):(r([{filename:T[0].name,status:"error",error:I.error}]),u({type:"error",text:I.error||e("messages.uploadFailed")}))}else{let I=0,j=0;await pz.uploadImagesWithProgress(T,O=>{const L=O.currentFile-1;o(L),r(N=>{const M=[...N],H=M[L];return O.type==="start"?(H.status="processing",H.message=O.message):O.type==="stage"?(H.status="processing",H.currentStage=O.stage,H.message=O.message||(O.stage?d[O.stage]:"")):O.type==="complete"?(H.status="complete",H.message=O.message,H.imageId=O.compositeHash,I++):O.type==="error"&&(H.status="error",H.error=O.error,j++),M})}),u(j===0?{type:"success",text:e("messages.multipleSuccess",{count:I})}:I===0?{type:"error",text:e("messages.allFailed")}:{type:"info",text:e("messages.partialSuccess",{success:I,failed:j})})}t&&t()}catch(I){u({type:"error",text:e("messages.uploadError")}),console.error("Upload error:",I)}finally{i(!1)}},[t,e,d]),{getRootProps:m,getInputProps:y,isDragActive:x}=HZ({onDrop:h,accept:{"image/*":[".jpg",".jpeg",".png",".gif",".bmp",".webp",".tiff"],"video/*":[".mp4",".webm",".mov",".avi",".mkv"]},multiple:!0}),v=()=>{const T=document.createElement("input");T.type="file",T.multiple=!0,T.accept="image/*,video/*",T.onchange=E=>{const I=Array.from(E.target.files||[]);I.length>0&&h(I)},T.click()},_=()=>{const T=document.createElement("input");T.type="file",T.webkitdirectory=!0,T.multiple=!0,T.onchange=E=>{const I=Array.from(E.target.files||[]).filter(j=>j.type.startsWith("image/")||j.type.startsWith("video/"));I.length>0&&h(I)},T.click()},C=n.length>0?n.filter(T=>T.status==="complete"||T.status==="error").length/n.length*100:0,w=T=>{switch(T){case"complete":return c.jsx(Cs,{sx:{color:"success.main"}});case"error":return c.jsx(Cg,{sx:{color:"error.main"}});case"processing":return c.jsx(Mp,{sx:{color:"primary.main"}});default:return c.jsx(nS,{sx:{color:"text.secondary"}})}};return c.jsxs(J,{sx:{width:"100%"},children:[c.jsxs(Yt,{...m(),elevation:x?8:2,sx:{p:4,textAlign:"center",border:"2px dashed",borderColor:x?"primary.main":"grey.300",backgroundColor:x?"action.hover":"background.paper",cursor:"pointer",transition:"all 0.2s ease-in-out","&:hover":{borderColor:"primary.main",backgroundColor:"action.hover"}},children:[c.jsx("input",{...y()}),c.jsx(dv,{sx:{fontSize:64,color:"primary.main",mb:2}}),c.jsx(re,{variant:"h5",gutterBottom:!0,children:e(x?"dropzone.dragActive":"dropzone.dragInactive")}),c.jsx(re,{variant:"body2",color:"text.secondary",sx:{mb:3},children:e("dropzone.supportedFormats")}),c.jsxs(un,{direction:"row",spacing:2,justifyContent:"center",flexWrap:"wrap",children:[c.jsx(yt,{icon:c.jsx(Eu,{}),label:e("dropzone.imageSupport"),variant:"outlined",size:"small"}),c.jsx(yt,{icon:c.jsx(LO,{}),label:e("dropzone.videoSupport"),variant:"outlined",size:"small"}),c.jsx(yt,{label:e("dropzone.multipleSelection"),variant:"outlined",size:"small"})]})]}),c.jsx(yn,{sx:{my:3},children:e("dropzone.divider")}),c.jsxs(gn,{container:!0,spacing:2,children:[c.jsx(gn,{size:{xs:12,sm:6},children:c.jsx(Ke,{fullWidth:!0,variant:"outlined",size:"large",startIcon:c.jsx(Eu,{}),onClick:v,disabled:a,children:e("buttons.selectFiles")})}),c.jsx(gn,{size:{xs:12,sm:6},children:c.jsx(Ke,{fullWidth:!0,variant:"outlined",size:"large",startIcon:c.jsx(wu,{}),onClick:_,disabled:a,children:e("buttons.selectFolder")})})]}),a&&n.length>0&&c.jsxs(J,{sx:{mt:3},children:[c.jsxs(re,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:[e("progress.title"),": ",e("progress.fileCount",{completed:n.filter(T=>T.status==="complete"||T.status==="error").length,total:n.length})]}),c.jsx(Ld,{variant:"determinate",value:C,sx:{height:8,borderRadius:4,mb:2}}),c.jsx(Yt,{variant:"outlined",sx:{maxHeight:400,overflow:"auto",p:2},children:c.jsx(Wf,{dense:!0,children:n.map((T,E)=>c.jsxs(Yf,{sx:{bgcolor:E===s&&T.status==="processing"?"action.selected":"transparent",borderRadius:1,mb:.5},children:[c.jsx(pu,{sx:{minWidth:40},children:w(T.status)}),c.jsx(Ss,{primary:T.filename,secondary:c.jsxs(c.Fragment,{children:[T.status==="processing"&&T.currentStage&&c.jsx(re,{component:"span",variant:"caption",color:"primary",children:d[T.currentStage]}),T.message&&c.jsx(re,{component:"span",variant:"caption",color:"text.secondary",sx:{ml:1},children:T.message}),T.error&&c.jsx(re,{component:"span",variant:"caption",color:"error",children:T.error})]})})]},E))})})]}),l&&c.jsx(St,{severity:l.type,sx:{mt:3},onClose:()=>u(null),children:l.text}),n.length>0&&!a&&c.jsx(J,{sx:{mt:2},children:c.jsx(re,{variant:"body2",color:"text.secondary",children:e("progress.summary",{total:n.length,success:n.filter(T=>T.status==="complete").length,failed:n.filter(T=>T.status==="error").length})})})]})};var K5=typeof self<"u"?self:global;const gv=typeof navigator<"u",JNe=gv&&typeof HTMLImageElement>"u",wC=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),X5=K5.Buffer,V_=K5.BigInt,Q5=!!X5,ePe=t=>t;function EC(t,e=ePe){if(wC)try{return typeof require=="function"?Promise.resolve(e(require(t))):import(t).then(e)}catch{console.warn(`Couldn't load ${t}`)}}let XO=K5.fetch;const tPe=t=>XO=t;if(!K5.fetch){const t=EC("http",(r=>r)),e=EC("https",(r=>r)),n=(r,{headers:a}={})=>new Promise((async(i,s)=>{let{port:o,hostname:l,pathname:u,protocol:d,search:h}=new URL(r);const m={method:"GET",hostname:l,path:encodeURI(u)+h,headers:a};o!==""&&(m.port=Number(o));const y=(d==="https:"?await e:await t).request(m,(x=>{if(x.statusCode===301||x.statusCode===302){let v=new URL(x.headers.location,r).toString();return n(v,{headers:a}).then(i).catch(s)}i({status:x.statusCode,arrayBuffer:()=>new Promise((v=>{let _=[];x.on("data",(C=>_.push(C))),x.on("end",(()=>v(Buffer.concat(_))))}))})}));y.on("error",s),y.end()}));tPe(n)}function vn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const TC=t=>UZ(t)?void 0:t,nPe=t=>t!==void 0;function UZ(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(nPe).length===0)}function Ri(t){let e=new Error(t);throw delete e.stack,e}function tg(t){return(t=(function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e})(t).trim())===""?void 0:t}function kI(t){let e=(function(n){let r=0;return n.ifd0.enabled&&(r+=1024),n.exif.enabled&&(r+=2048),n.makerNote&&(r+=2048),n.userComment&&(r+=1024),n.gps.enabled&&(r+=512),n.interop.enabled&&(r+=100),n.ifd1.enabled&&(r+=1024),r+2048})(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}const II=t=>String.fromCharCode.apply(null,t),fF=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function $Z(t){return fF?fF.decode(t):Q5?Buffer.from(t).toString("utf8"):decodeURIComponent(escape(II(t)))}class Xo{static from(e,n){return e instanceof this&&e.le===n?e:new Xo(e,void 0,void 0,n)}constructor(e,n=0,r,a){if(typeof a=="boolean"&&(this.le=a),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){r===void 0&&(r=e.byteLength-n);let i=new DataView(e,n,r);this._swapDataView(i)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof Xo){r===void 0&&(r=e.byteLength-n),(n+=e.byteOffset)+r>e.byteOffset+e.byteLength&&Ri("Creating view outside of available memory in ArrayBuffer");let i=new DataView(e.buffer,n,r);this._swapDataView(i)}else if(typeof e=="number"){let i=new DataView(new ArrayBuffer(e));this._swapDataView(i)}else Ri("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,n,r=Xo){return e instanceof DataView||e instanceof Xo?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||Ri("BufferView.set(): Invalid data argument."),this.toUint8().set(e,n),new r(this,n,e.byteLength)}subarray(e,n){return n=n||this._lengthToEnd(e),new Xo(this,e,n)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,n){return new Uint8Array(this.buffer,this.byteOffset+e,n)}getString(e=0,n=this.byteLength){return $Z(this.getUint8Array(e,n))}getLatin1String(e=0,n=this.byteLength){let r=this.getUint8Array(e,n);return II(r)}getUnicodeString(e=0,n=this.byteLength){const r=[];for(let a=0;a<n&&e+a<this.byteLength;a+=2)r.push(this.getUint16(e+a));return II(r)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,n=this.le){return this.dataView.getInt16(e,n)}getInt32(e,n=this.le){return this.dataView.getInt32(e,n)}getUint16(e,n=this.le){return this.dataView.getUint16(e,n)}getUint32(e,n=this.le){return this.dataView.getUint32(e,n)}getFloat32(e,n=this.le){return this.dataView.getFloat32(e,n)}getFloat64(e,n=this.le){return this.dataView.getFloat64(e,n)}getFloat(e,n=this.le){return this.dataView.getFloat32(e,n)}getDouble(e,n=this.le){return this.dataView.getFloat64(e,n)}getUintBytes(e,n,r){switch(n){case 1:return this.getUint8(e,r);case 2:return this.getUint16(e,r);case 4:return this.getUint32(e,r);case 8:return this.getUint64&&this.getUint64(e,r)}}getUint(e,n,r){switch(n){case 8:return this.getUint8(e,r);case 16:return this.getUint16(e,r);case 32:return this.getUint32(e,r);case 64:return this.getUint64&&this.getUint64(e,r)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function jI(t,e){Ri(`${t} '${e}' was not loaded, try using full build of exifr.`)}class QO extends Map{constructor(e){super(),this.kind=e}get(e,n){return this.has(e)||jI(this.kind,e),n&&(e in n||(function(r,a){Ri(`Unknown ${r} '${a}'.`)})(this.kind,e),n[e].enabled||jI(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var Fd=new QO("file parser"),Ti=new QO("segment parser"),Vd=new QO("file reader");function rPe(t,e){return typeof t=="string"?hF(t,e):gv&&!JNe&&t instanceof HTMLImageElement?hF(t.src,e):t instanceof Uint8Array||t instanceof ArrayBuffer||t instanceof DataView?new Xo(t):gv&&t instanceof Blob?OI(t,e,"blob",Tg):void Ri("Invalid input argument")}function hF(t,e){return(n=t).startsWith("data:")||n.length>1e4?DI(t,e,"base64"):wC&&t.includes("://")?OI(t,e,"url",Eg):wC?DI(t,e,"fs"):gv?OI(t,e,"url",Eg):void Ri("Invalid input argument");var n}async function OI(t,e,n,r){return Vd.has(n)?DI(t,e,n):r?(async function(a,i){let s=await i(a);return new Xo(s)})(t,r):void Ri(`Parser ${n} is not loaded`)}async function DI(t,e,n){let r=new(Vd.get(n))(t,e);return await r.read(),r}const Eg=t=>XO(t).then((e=>e.arrayBuffer())),Tg=t=>new Promise(((e,n)=>{let r=new FileReader;r.onloadend=()=>e(r.result||new ArrayBuffer),r.onerror=n,r.readAsArrayBuffer(t)}));class aPe extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function ui(t,e,n){let r=new aPe;for(let[a,i]of n)r.set(a,i);if(Array.isArray(e))for(let a of e)t.set(a,r);else t.set(e,r);return r}function Ag(t,e,n){let r,a=t.get(e);for(r of n)a.set(r[0],r[1])}const as=new Map,Mu=new Map,_p=new Map,dp=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],Dy=["jfif","xmp","icc","iptc","ihdr"],Rg=["tiff",...Dy],Za=["ifd0","ifd1","exif","gps","interop"],fp=[...Rg,...Za],hp=["makerNote","userComment"],My=["translateKeys","translateValues","reviveValues","multiSegment"],pp=[...My,"sanitize","mergeOutput","silentErrors"];class GZ{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class Lx extends GZ{get needed(){return this.enabled||this.deps.size>0}constructor(e,n,r,a){if(super(),vn(this,"enabled",!1),vn(this,"skip",new Set),vn(this,"pick",new Set),vn(this,"deps",new Set),vn(this,"translateKeys",!1),vn(this,"translateValues",!1),vn(this,"reviveValues",!1),this.key=e,this.enabled=n,this.parse=this.enabled,this.applyInheritables(a),this.canBeFiltered=Za.includes(e),this.canBeFiltered&&(this.dict=as.get(e)),r!==void 0)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if(typeof r=="object"){if(this.enabled=!0,this.parse=r.parse!==!1,this.canBeFiltered){let{pick:i,skip:s}=r;i&&i.length>0&&this.translateTagSet(i,this.pick),s&&s.length>0&&this.translateTagSet(s,this.skip)}this.applyInheritables(r)}else r===!0||r===!1?this.parse=this.enabled=r:Ri(`Invalid options argument: ${r}`)}applyInheritables(e){let n,r;for(n of My)r=e[n],r!==void 0&&(this[n]=r)}translateTagSet(e,n){if(this.dict){let r,a,{tagKeys:i,tagValues:s}=this.dict;for(r of e)typeof r=="string"?(a=s.indexOf(r),a===-1&&(a=i.indexOf(Number(r))),a!==-1&&n.add(Number(i[a]))):n.add(r)}else for(let r of e)n.add(r)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,AC(this.pick,this.deps)):this.enabled&&this.pick.size>0&&AC(this.pick,this.deps)}}var yo={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},pF=new Map;class qg extends GZ{static useCached(e){let n=pF.get(e);return n!==void 0||(n=new this(e),pF.set(e,n)),n}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):Ri(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=gv?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of dp)this[e]=yo[e];for(e of pp)this[e]=yo[e];for(e of hp)this[e]=yo[e];for(e of fp)this[e]=new Lx(e,yo[e],void 0,this)}setupFromTrue(){let e;for(e of dp)this[e]=yo[e];for(e of pp)this[e]=yo[e];for(e of hp)this[e]=!0;for(e of fp)this[e]=new Lx(e,!0,void 0,this)}setupFromArray(e){let n;for(n of dp)this[n]=yo[n];for(n of pp)this[n]=yo[n];for(n of hp)this[n]=yo[n];for(n of fp)this[n]=new Lx(n,!1,void 0,this);this.setupGlobalFilters(e,void 0,Za)}setupFromObject(e){let n;for(n of(Za.ifd0=Za.ifd0||Za.image,Za.ifd1=Za.ifd1||Za.thumbnail,Object.assign(this,e),dp))this[n]=MT(e[n],yo[n]);for(n of pp)this[n]=MT(e[n],yo[n]);for(n of hp)this[n]=MT(e[n],yo[n]);for(n of Rg)this[n]=new Lx(n,yo[n],e[n],this);for(n of Za)this[n]=new Lx(n,yo[n],e[n],this.tiff);this.setupGlobalFilters(e.pick,e.skip,Za,fp),e.tiff===!0?this.batchEnableWithBool(Za,!0):e.tiff===!1?this.batchEnableWithUserValue(Za,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,Za):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,Za)}batchEnableWithBool(e,n){for(let r of e)this[r].enabled=n}batchEnableWithUserValue(e,n){for(let r of e){let a=n[r];this[r].enabled=a!==!1&&a!==void 0}}setupGlobalFilters(e,n,r,a=r){if(e&&e.length){for(let s of a)this[s].enabled=!1;let i=mF(e,r);for(let[s,o]of i)AC(this[s].pick,o),this[s].enabled=!0}else if(n&&n.length){let i=mF(n,r);for(let[s,o]of i)AC(this[s].skip,o)}}filterNestedSegmentTags(){let{ifd0:e,exif:n,xmp:r,iptc:a,icc:i}=this;this.makerNote?n.deps.add(37500):n.skip.add(37500),this.userComment?n.deps.add(37510):n.skip.add(37510),r.enabled||e.skip.add(700),a.enabled||e.skip.add(33723),i.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:n,gps:r,interop:a}=this;a.needed&&(n.deps.add(40965),e.deps.add(40965)),n.needed&&e.deps.add(34665),r.needed&&e.deps.add(34853),this.tiff.enabled=Za.some((i=>this[i].enabled===!0))||this.makerNote||this.userComment;for(let i of Za)this[i].finalizeFilters()}get onlyTiff(){return!Dy.map((e=>this[e].enabled)).some((e=>e===!0))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of Rg)this[e].enabled&&!Ti.has(e)&&jI("segment parser",e)}}function mF(t,e){let n,r,a,i,s=[];for(a of e){for(i of(n=as.get(a),r=[],n))(t.includes(i[0])||t.includes(i[1]))&&r.push(i[0]);r.length&&s.push([a,r])}return s}function MT(t,e){return t!==void 0?t:e!==void 0?e:void 0}function AC(t,e){for(let n of e)t.add(n)}vn(qg,"default",yo);class Vp{constructor(e){vn(this,"parsers",{}),vn(this,"output",{}),vn(this,"errors",[]),vn(this,"pushToErrors",(n=>this.errors.push(n))),this.options=qg.useCached(e)}async read(e){this.file=await rPe(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,n=e.getUint16(0);for(let[r,a]of Fd)if(a.canHandle(e,n))return this.fileParser=new a(this.options,this.file,this.parsers),e[r]=!0;this.file.close&&this.file.close(),Ri("Unknown file format")}async parse(){let{output:e,errors:n}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),n.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&n.length>0&&(e.errors=n),TC(e)}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let n=Object.values(this.parsers).map((async r=>{let a=await r.parse();r.assignToOutput(e,a)}));this.options.silentErrors&&(n=n.map((r=>r.catch(this.pushToErrors)))),await Promise.all(n)}async extractThumbnail(){this.setup();let{options:e,file:n}=this,r=Ti.get("tiff",e);var a;if(n.tiff?a={start:0,type:"tiff"}:n.jpeg&&(a=await this.fileParser.getOrFindSegment("tiff")),a===void 0)return;let i=await this.fileParser.ensureSegmentChunk(a),s=this.parsers.tiff=new r(i,e,n),o=await s.extractThumbnail();return n.close&&n.close(),o}}async function Z5(t,e){let n=new Vp(e);return await n.read(t),n.parse()}var iPe=Object.freeze({__proto__:null,parse:Z5,Exifr:Vp,fileParsers:Fd,segmentParsers:Ti,fileReaders:Vd,tagKeys:as,tagValues:Mu,tagRevivers:_p,createDictionary:ui,extendDictionary:Ag,fetchUrlAsArrayBuffer:Eg,readBlobAsArrayBuffer:Tg,chunkedProps:dp,otherSegments:Dy,segments:Rg,tiffBlocks:Za,segmentsAndBlocks:fp,tiffExtractables:hp,inheritables:My,allFormatters:pp,Options:qg});class J5{constructor(e,n,r){vn(this,"errors",[]),vn(this,"ensureSegmentChunk",(async a=>{let i=a.start,s=a.size||65536;if(this.file.chunked)if(this.file.available(i,s))a.chunk=this.file.subarray(i,s);else try{a.chunk=await this.file.readChunk(i,s)}catch(o){Ri(`Couldn't read segment: ${JSON.stringify(a)}. ${o.message}`)}else this.file.byteLength>i+s?a.chunk=this.file.subarray(i,s):a.size===void 0?a.chunk=this.file.subarray(i):Ri("Segment unreachable: "+JSON.stringify(a));return a.chunk})),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=n,this.parsers=r}injectSegment(e,n){this.options[e].enabled&&this.createParser(e,n)}createParser(e,n){let r=new(Ti.get(e))(n,this.options,this.file);return this.parsers[e]=r}createParsers(e){for(let n of e){let{type:r,chunk:a}=n,i=this.options[r];if(i&&i.enabled){let s=this.parsers[r];s&&s.append||s||this.createParser(r,a)}}}async readSegments(e){let n=e.map(this.ensureSegmentChunk);await Promise.all(n)}}let xu=class{static findPosition(e,n){let r=e.getUint16(n+2)+2,a=typeof this.headerLength=="function"?this.headerLength(e,n,r):this.headerLength,i=n+a,s=r-a;return{offset:n,length:r,headerLength:a,start:i,size:s,end:i+s}}static parse(e,n={}){return new this(e,new qg({[this.type]:n}),e).parse()}normalizeInput(e){return e instanceof Xo?e:new Xo(e)}constructor(e,n={},r){vn(this,"errors",[]),vn(this,"raw",new Map),vn(this,"handleError",(a=>{if(!this.options.silentErrors)throw a;this.errors.push(a.message)})),this.chunk=this.normalizeInput(e),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,n){let r=_p.get(n),a=Mu.get(n),i=as.get(n),s=this.options[n],o=s.reviveValues&&!!r,l=s.translateValues&&!!a,u=s.translateKeys&&!!i,d={};for(let[h,m]of e)o&&r.has(h)?m=r.get(h)(m):l&&a.has(h)&&(m=this.translateValue(m,a.get(h))),u&&i.has(h)&&(h=i.get(h)||h),d[h]=m;return d}translateValue(e,n){return n[e]||n.DEFAULT||e}assignToOutput(e,n){this.assignObjectToOutput(e,this.constructor.type,n)}assignObjectToOutput(e,n,r){if(this.globalOptions.mergeOutput)return Object.assign(e,r);e[n]?Object.assign(e[n],r):e[n]=r}};vn(xu,"headerLength",4),vn(xu,"type",void 0),vn(xu,"multiSegment",!1),vn(xu,"canHandle",(()=>!1));function sPe(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function oPe(t){return t>=224&&t<=239}function lPe(t,e,n){for(let[r,a]of Ti)if(a.canHandle(t,e,n))return r}class gF extends J5{constructor(...e){super(...e),vn(this,"appSegments",[]),vn(this,"jpegSegments",[]),vn(this,"unknownSegments",[])}static canHandle(e,n){return n===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(Ti.keyList())):(e=e===void 0?Ti.keyList().filter((n=>this.options[n].enabled)):e.filter((n=>this.options[n].enabled&&Ti.has(n))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,n){this.setupSegmentFinderArgs(n);let{file:r,findAll:a,wanted:i,remaining:s}=this;if(!a&&this.file.chunked&&(a=Array.from(i).some((o=>{let l=Ti.get(o),u=this.options[o];return l.multiSegment&&u.multiSegment})),a&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,r.byteLength),!this.options.onlyTiff&&r.chunked){let o=!1;for(;s.size>0&&!o&&(r.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:l}=r,u=this.appSegments.some((d=>!this.file.available(d.offset||d.start,d.length||d.size)));if(o=e>l&&!u?!await r.readNextChunk(e):!await r.readNextChunk(l),(e=this.findAppSegmentsInRange(e,r.byteLength))===void 0)return}}}findAppSegmentsInRange(e,n){n-=2;let r,a,i,s,o,l,{file:u,findAll:d,wanted:h,remaining:m,options:y}=this;for(;e<n;e++)if(u.getUint8(e)===255){if(r=u.getUint8(e+1),oPe(r)){if(a=u.getUint16(e+2),i=lPe(u,e,a),i&&h.has(i)&&(s=Ti.get(i),o=s.findPosition(u,e),l=y[i],o.type=i,this.appSegments.push(o),!d&&(s.multiSegment&&l.multiSegment?(this.unfinishedMultiSegment=o.chunkNumber<o.chunkCount,this.unfinishedMultiSegment||m.delete(i)):m.delete(i),m.size===0)))break;y.recordUnknownSegments&&(o=xu.findPosition(u,e),o.marker=r,this.unknownSegments.push(o)),e+=a+1}else if(sPe(r)){if(a=u.getUint16(e+2),r===218&&y.stopAfterSos!==!1)return;y.recordJpegSegments&&this.jpegSegments.push({offset:e,length:a,marker:r}),e+=a+1}}return e}mergeMultiSegments(){if(!this.appSegments.some((n=>n.multiSegment)))return;let e=(function(n,r){let a,i,s,o=new Map;for(let l=0;l<n.length;l++)a=n[l],i=a[r],o.has(i)?s=o.get(i):o.set(i,s=[]),s.push(a);return Array.from(o)})(this.appSegments,"type");this.mergedAppSegments=e.map((([n,r])=>{let a=Ti.get(n,this.options);return a.handleMultiSegments?{type:n,chunk:a.handleMultiSegments(r)}:r[0]}))}getSegment(e){return this.appSegments.find((n=>n.type===e))}async getOrFindSegment(e){let n=this.getSegment(e);return n===void 0&&(await this.findAppSegments(0,[e]),n=this.getSegment(e)),n}}vn(gF,"type","jpeg"),Fd.set("jpeg",gF);const cPe=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class uPe extends xu{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,n,r=new Map){let{pick:a,skip:i}=this.options[n];a=new Set(a);let s=a.size>0,o=i.size===0,l=this.chunk.getUint16(e);e+=2;for(let u=0;u<l;u++){let d=this.chunk.getUint16(e);if(s){if(a.has(d)&&(r.set(d,this.parseTag(e,d,n)),a.delete(d),a.size===0))break}else!o&&i.has(d)||r.set(d,this.parseTag(e,d,n));e+=12}return r}parseTag(e,n,r){let{chunk:a}=this,i=a.getUint16(e+2),s=a.getUint32(e+4),o=cPe[i];if(o*s<=4?e+=8:e=a.getUint32(e+8),(i<1||i>13)&&Ri(`Invalid TIFF value type. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${i}, offset ${e}`),e>a.byteLength&&Ri(`Invalid TIFF value offset. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${i}, offset ${e} is outside of chunk size ${a.byteLength}`),i===1)return a.getUint8Array(e,s);if(i===2)return tg(a.getString(e,s));if(i===7)return a.getUint8Array(e,s);if(s===1)return this.parseTagValue(i,e);{let l=new((function(d){switch(d){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}})(i))(s),u=o;for(let d=0;d<s;d++)l[d]=this.parseTagValue(i,e),e+=u;return l}}parseTagValue(e,n){let{chunk:r}=this;switch(e){case 1:return r.getUint8(n);case 3:return r.getUint16(n);case 4:return r.getUint32(n);case 5:return r.getUint32(n)/r.getUint32(n+4);case 6:return r.getInt8(n);case 8:return r.getInt16(n);case 9:return r.getInt32(n);case 10:return r.getInt32(n)/r.getInt32(n+4);case 11:return r.getFloat(n);case 12:return r.getDouble(n);case 13:return r.getUint32(n);default:Ri(`Invalid tiff type ${e}`)}}}class NT extends uPe{static canHandle(e,n){return e.getUint8(n+1)===225&&e.getUint32(n+4)===1165519206&&e.getUint16(n+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let n=this[e]();return n.catch!==void 0&&(n=n.catch(this.handleError)),n}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),n=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(n)}}parseBlock(e,n){let r=new Map;return this[n]=r,this.parseTags(e,n,r),r}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Ri("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&Ri(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,kI(this.options));let n=this.parseBlock(this.ifd0Offset,"ifd0");return n.size!==0?(this.exifOffset=n.get(34665),this.interopOffset=n.get(40965),this.gpsOffset=n.get(34853),this.xmp=n.get(700),this.iptc=n.get(33723),this.icc=n.get(34675),this.options.sanitize&&(n.delete(34665),n.delete(40965),n.delete(34853),n.delete(700),n.delete(33723),n.delete(34675)),n):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,kI(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,n){let r=e.get(n);r&&r.length===1&&e.set(n,r[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",yF(...e.get(2),e.get(1))),e.set("longitude",yF(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),n=this.ifd1.get(514);return this.chunk.getUint8Array(e,n)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,n,r,a={};for(n of Za)if(e=this[n],!UZ(e))if(r=this.canTranslate?this.translateBlock(e,n):Object.fromEntries(e),this.options.mergeOutput){if(n==="ifd1")continue;Object.assign(a,r)}else a[n]=r;return this.makerNote&&(a.makerNote=this.makerNote),this.userComment&&(a.userComment=this.userComment),a}assignToOutput(e,n){if(this.globalOptions.mergeOutput)Object.assign(e,n);else for(let[r,a]of Object.entries(n))this.assignObjectToOutput(e,r,a)}}function yF(t,e,n,r){var a=t+e/60+n/3600;return r!=="S"&&r!=="W"||(a*=-1),a}vn(NT,"type","tiff"),vn(NT,"headerLength",10),Ti.set("tiff",NT);var dPe=Object.freeze({__proto__:null,default:iPe,Exifr:Vp,fileParsers:Fd,segmentParsers:Ti,fileReaders:Vd,tagKeys:as,tagValues:Mu,tagRevivers:_p,createDictionary:ui,extendDictionary:Ag,fetchUrlAsArrayBuffer:Eg,readBlobAsArrayBuffer:Tg,chunkedProps:dp,otherSegments:Dy,segments:Rg,tiffBlocks:Za,segmentsAndBlocks:fp,tiffExtractables:hp,inheritables:My,allFormatters:pp,Options:qg,parse:Z5});const ZO={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},JO=Object.assign({},ZO,{firstChunkSize:4e4,gps:[1,2,3,4]});async function qZ(t){let e=new Vp(JO);await e.read(t);let n=await e.parse();if(n&&n.gps){let{latitude:r,longitude:a}=n.gps;return{latitude:r,longitude:a}}}const eD=Object.assign({},ZO,{tiff:!1,ifd1:!0,mergeOutput:!1});async function VZ(t){let e=new Vp(eD);await e.read(t);let n=await e.extractThumbnail();return n&&Q5?X5.from(n):n}async function WZ(t){let e=await this.thumbnail(t);if(e!==void 0){let n=new Blob([e]);return URL.createObjectURL(n)}}const tD=Object.assign({},ZO,{firstChunkSize:4e4,ifd0:[274]});async function nD(t){let e=new Vp(tD);await e.read(t);let n=await e.parse();if(n&&n.ifd0)return n.ifd0[274]}const rD=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let ng=!0,rg=!0;if(typeof navigator=="object"){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let e=t.match(/OS (\d+)_(\d+)/);if(e){let[,n,r]=e;ng=Number(n)+.1*Number(r)<13.4,rg=!1}}else if(t.includes("OS X 10")){let[,e]=t.match(/OS X 10[_.](\d+)/);ng=rg=Number(e)<15}if(t.includes("Chrome/")){let[,e]=t.match(/Chrome\/(\d+)/);ng=rg=Number(e)<81}else if(t.includes("Firefox/")){let[,e]=t.match(/Firefox\/(\d+)/);ng=rg=Number(e)<77}}async function YZ(t){let e=await nD(t);return Object.assign({canvas:ng,css:rg},rD[e])}class fPe extends Xo{constructor(...e){super(...e),vn(this,"ranges",new hPe),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,n,r){if(e===0&&this.byteLength===0&&r){let a=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(a)}else{let a=e+n;if(a>this.byteLength){let{dataView:i}=this._extend(a);this._swapDataView(i)}}}_extend(e){let n;n=Q5?X5.allocUnsafe(e):new Uint8Array(e);let r=new DataView(n.buffer,n.byteOffset,n.byteLength);return n.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:n,dataView:r}}subarray(e,n,r=!1){return n=n||this._lengthToEnd(e),r&&this._tryExtend(e,n),this.ranges.add(e,n),super.subarray(e,n)}set(e,n,r=!1){r&&this._tryExtend(n,e.byteLength,e);let a=super.set(e,n);return this.ranges.add(n,a.byteLength),a}async ensureChunk(e,n){this.chunked&&(this.ranges.available(e,n)||await this.readChunk(e,n))}available(e,n){return this.ranges.available(e,n)}}class hPe{constructor(){vn(this,"list",[])}get length(){return this.list.length}add(e,n,r=0){let a=e+n,i=this.list.filter((s=>bF(e,s.offset,a)||bF(e,s.end,a)));if(i.length>0){e=Math.min(e,...i.map((o=>o.offset))),a=Math.max(a,...i.map((o=>o.end))),n=a-e;let s=i.shift();s.offset=e,s.length=n,s.end=a,this.list=this.list.filter((o=>!i.includes(o)))}else this.list.push({offset:e,length:n,end:a})}available(e,n){let r=e+n;return this.list.some((a=>a.offset<=e&&r<=a.end))}}function bF(t,e,n){return t<=e&&e<=n}class ew extends fPe{constructor(e,n){super(0),vn(this,"chunksRead",0),this.input=e,this.options=n}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let n=this.options.chunkSize,r=await this.readChunk(e,n);return!!r&&r.byteLength===n}async readChunk(e,n){if(this.chunksRead++,(n=this.safeWrapAddress(e,n))!==0)return this._readChunk(e,n)}safeWrapAddress(e,n){return this.size!==void 0&&e+n>this.size?Math.max(0,this.size-e):n}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}Vd.set("blob",class extends ew{async readWhole(){this.chunked=!1;let t=await Tg(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,e){let n=e?t+e:void 0,r=this.input.slice(t,n),a=await Tg(r);return this.set(a,t,!0)}});var pPe=Object.freeze({__proto__:null,default:dPe,Exifr:Vp,fileParsers:Fd,segmentParsers:Ti,fileReaders:Vd,tagKeys:as,tagValues:Mu,tagRevivers:_p,createDictionary:ui,extendDictionary:Ag,fetchUrlAsArrayBuffer:Eg,readBlobAsArrayBuffer:Tg,chunkedProps:dp,otherSegments:Dy,segments:Rg,tiffBlocks:Za,segmentsAndBlocks:fp,tiffExtractables:hp,inheritables:My,allFormatters:pp,Options:qg,parse:Z5,gpsOnlyOptions:JO,gps:qZ,thumbnailOnlyOptions:eD,thumbnail:VZ,thumbnailUrl:WZ,orientationOnlyOptions:tD,orientation:nD,rotations:rD,get rotateCanvas(){return ng},get rotateCss(){return rg},rotation:YZ});Vd.set("url",class extends ew{async readWhole(){this.chunked=!1;let t=await Eg(this.input);t instanceof ArrayBuffer?this._swapArrayBuffer(t):t instanceof Uint8Array&&this._swapBuffer(t)}async _readChunk(t,e){let n=e?t+e-1:void 0,r=this.options.httpHeaders||{};(t||n)&&(r.range=`bytes=${[t,n].join("-")}`);let a=await XO(this.input,{headers:r}),i=await a.arrayBuffer(),s=i.byteLength;if(a.status!==416)return s!==e&&(this.size=t+s),this.set(i,t,!0)}});Xo.prototype.getUint64=function(t){let e=this.getUint32(t),n=this.getUint32(t+4);return e<1048575?e<<32|n:typeof V_!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),V_(e)<<V_(32)|V_(n)):void Ri("Trying to read 64b value but JS can only handle 53b numbers.")};class mPe extends J5{parseBoxes(e=0){let n=[];for(;e<this.file.byteLength-4;){let r=this.parseBoxHead(e);if(n.push(r),r.length===0)break;e+=r.length}return n}parseSubBoxes(e){e.boxes=this.parseBoxes(e.start)}findBox(e,n){return e.boxes===void 0&&this.parseSubBoxes(e),e.boxes.find((r=>r.kind===n))}parseBoxHead(e){let n=this.file.getUint32(e),r=this.file.getString(e+4,4),a=e+8;return n===1&&(n=this.file.getUint64(e+8),a+=8),{offset:e,length:n,kind:r,start:a}}parseBoxFullHead(e){if(e.version!==void 0)return;let n=this.file.getUint32(e.start);e.version=n>>24,e.start+=4}}class KZ extends mPe{static canHandle(e,n){if(n!==0)return!1;let r=e.getUint16(2);if(r>50)return!1;let a=16,i=[];for(;a<r;)i.push(e.getString(a,4)),a+=4;return i.includes(this.type)}async parse(){let e=this.file.getUint32(0),n=this.parseBoxHead(e);for(;n.kind!=="meta";)e+=n.length,await this.file.ensureChunk(e,16),n=this.parseBoxHead(e);await this.file.ensureChunk(n.offset,n.length),this.parseBoxFullHead(n),this.parseSubBoxes(n),this.options.icc.enabled&&await this.findIcc(n),this.options.tiff.enabled&&await this.findExif(n)}async registerSegment(e,n,r){await this.file.ensureChunk(n,r);let a=this.file.subarray(n,r);this.createParser(e,a)}async findIcc(e){let n=this.findBox(e,"iprp");if(n===void 0)return;let r=this.findBox(n,"ipco");if(r===void 0)return;let a=this.findBox(r,"colr");a!==void 0&&await this.registerSegment("icc",a.offset+12,a.length)}async findExif(e){let n=this.findBox(e,"iinf");if(n===void 0)return;let r=this.findBox(e,"iloc");if(r===void 0)return;let a=this.findExifLocIdInIinf(n),i=this.findExtentInIloc(r,a);if(i===void 0)return;let[s,o]=i;await this.file.ensureChunk(s,o);let l=4+this.file.getUint32(s);s+=l,o-=l,await this.registerSegment("tiff",s,o)}findExifLocIdInIinf(e){this.parseBoxFullHead(e);let n,r,a,i,s=e.start,o=this.file.getUint16(s);for(s+=2;o--;){if(n=this.parseBoxHead(s),this.parseBoxFullHead(n),r=n.start,n.version>=2&&(a=n.version===3?4:2,i=this.file.getString(r+a+2,4),i==="Exif"))return this.file.getUintBytes(r,a);s+=n.length}}get8bits(e){let n=this.file.getUint8(e);return[n>>4,15&n]}findExtentInIloc(e,n){this.parseBoxFullHead(e);let r=e.start,[a,i]=this.get8bits(r++),[s,o]=this.get8bits(r++),l=e.version===2?4:2,u=e.version===1||e.version===2?2:0,d=o+a+i,h=e.version===2?4:2,m=this.file.getUintBytes(r,h);for(r+=h;m--;){let y=this.file.getUintBytes(r,l);r+=l+u+2+s;let x=this.file.getUint16(r);if(r+=2,y===n)return x>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(r+o,a),this.file.getUintBytes(r+o+a,i)];r+=x*d}}}class XZ extends KZ{}vn(XZ,"type","heic");class xF extends KZ{}vn(xF,"type","avif"),Fd.set("heic",XZ),Fd.set("avif",xF),ui(as,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),ui(as,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),ui(as,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),ui(Mu,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);let L2=ui(Mu,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]);const vF={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};L2.set(37392,vF),L2.set(41488,vF);const PT={0:"Normal",1:"Low",2:"High"};function SF(t){return typeof t=="object"&&t.length!==void 0?t[0]:t}function _F(t){let e=Array.from(t).slice(1);return e[1]>15&&(e=e.map((n=>String.fromCharCode(n)))),e[2]!=="0"&&e[2]!==0||e.pop(),e.join(".")}function LT(t){if(typeof t=="string"){var[e,n,r,a,i,s]=t.trim().split(/[-: ]/g).map(Number),o=new Date(e,n-1,r);return Number.isNaN(a)||Number.isNaN(i)||Number.isNaN(s)||(o.setHours(a),o.setMinutes(i),o.setSeconds(s)),Number.isNaN(+o)?t:o}}function zx(t){if(typeof t=="string")return t;let e=[];if(t[1]===0&&t[t.length-1]===0)for(let n=0;n<t.length;n+=2)e.push(CF(t[n+1],t[n]));else for(let n=0;n<t.length;n+=2)e.push(CF(t[n],t[n+1]));return tg(String.fromCodePoint(...e))}function CF(t,e){return t<<8|e}L2.set(41992,PT),L2.set(41993,PT),L2.set(41994,PT),ui(_p,["ifd0","ifd1"],[[50827,function(t){return typeof t!="string"?$Z(t):t}],[306,LT],[40091,zx],[40092,zx],[40093,zx],[40094,zx],[40095,zx]]),ui(_p,"exif",[[40960,_F],[36864,_F],[36867,LT],[36868,LT],[40962,SF],[40963,SF]]),ui(_p,"gps",[[0,t=>Array.from(t).join(".")],[7,t=>Array.from(t).join(":")]]);class zT extends xu{static canHandle(e,n){return e.getUint8(n+1)===225&&e.getUint32(n+4)===1752462448&&e.getString(n+4,20)==="http://ns.adobe.com/"}static headerLength(e,n){return e.getString(n+4,34)==="http://ns.adobe.com/xmp/extension/"?79:33}static findPosition(e,n){let r=super.findPosition(e,n);return r.multiSegment=r.extended=r.headerLength===79,r.multiSegment?(r.chunkCount=e.getUint8(n+72),r.chunkNumber=e.getUint8(n+76),e.getUint8(n+77)!==0&&r.chunkNumber++):(r.chunkCount=1/0,r.chunkNumber=-1),r}static handleMultiSegments(e){return e.map((n=>n.chunk.getString())).join("")}normalizeInput(e){return typeof e=="string"?e:Xo.from(e).getString()}parse(e=this.chunk){if(!this.localOptions.parse)return e;e=(function(i){let s={},o={};for(let l of eJ)s[l]=[],o[l]=0;return i.replace(xPe,((l,u,d)=>{if(u==="<"){let h=++o[d];return s[d].push(h),`${l}#${h}`}return`${l}#${s[d].pop()}`}))})(e);let n=$1.findAll(e,"rdf","Description");n.length===0&&n.push(new $1("rdf","Description",void 0,e));let r,a={};for(let i of n)for(let s of i.properties)r=bPe(s.ns,a),QZ(s,r);return(function(i){let s;for(let o in i)s=i[o]=TC(i[o]),s===void 0&&delete i[o];return TC(i)})(a)}assignToOutput(e,n){if(this.localOptions.parse)for(let[r,a]of Object.entries(n))switch(r){case"tiff":this.assignObjectToOutput(e,"ifd0",a);break;case"exif":this.assignObjectToOutput(e,"exif",a);break;case"xmlns":break;default:this.assignObjectToOutput(e,r,a)}else e.xmp=n}}vn(zT,"type","xmp"),vn(zT,"multiSegment",!0),Ti.set("xmp",zT);class RC{static findAll(e){return ZZ(e,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(RC.unpackMatch)}static unpackMatch(e){let n=e[1],r=e[2],a=e[3].slice(1,-1);return a=JZ(a),new RC(n,r,a)}constructor(e,n,r){this.ns=e,this.name=n,this.value=r}serialize(){return this.value}}class $1{static findAll(e,n,r){if(n!==void 0||r!==void 0){n=n||"[\\w\\d-]+",r=r||"[\\w\\d-]+";var a=new RegExp(`<(${n}):(${r})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else a=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return ZZ(e,a).map($1.unpackMatch)}static unpackMatch(e){let n=e[1],r=e[2],a=e[4],i=e[8];return new $1(n,r,a,i)}constructor(e,n,r,a){this.ns=e,this.name=n,this.attrString=r,this.innerXml=a,this.attrs=RC.findAll(r),this.children=$1.findAll(a),this.value=this.children.length===0?JZ(a):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:e,name:n}=this;return e==="rdf"&&(n==="Seq"||n==="Bag"||n==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return yPe(this.children.map(gPe));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let e={};for(let n of this.properties)QZ(n,e);return this.value!==void 0&&(e.value=this.value),TC(e)}}function QZ(t,e){let n=t.serialize();n!==void 0&&(e[t.name]=n)}var gPe=t=>t.serialize(),yPe=t=>t.length===1?t[0]:t,bPe=(t,e)=>e[t]?e[t]:e[t]={};function ZZ(t,e){let n,r=[];if(!t)return r;for(;(n=e.exec(t))!==null;)r.push(n);return r}function JZ(t){if((function(r){return r==null||r==="null"||r==="undefined"||r===""||r.trim()===""})(t))return;let e=Number(t);if(!Number.isNaN(e))return e;let n=t.toLowerCase();return n==="true"||n!=="false"&&t.trim()}const eJ=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],xPe=new RegExp(`(<|\\/)(${eJ.join("|")})`,"g");var vPe=Object.freeze({__proto__:null,default:pPe,Exifr:Vp,fileParsers:Fd,segmentParsers:Ti,fileReaders:Vd,tagKeys:as,tagValues:Mu,tagRevivers:_p,createDictionary:ui,extendDictionary:Ag,fetchUrlAsArrayBuffer:Eg,readBlobAsArrayBuffer:Tg,chunkedProps:dp,otherSegments:Dy,segments:Rg,tiffBlocks:Za,segmentsAndBlocks:fp,tiffExtractables:hp,inheritables:My,allFormatters:pp,Options:qg,parse:Z5,gpsOnlyOptions:JO,gps:qZ,thumbnailOnlyOptions:eD,thumbnail:VZ,thumbnailUrl:WZ,orientationOnlyOptions:tD,orientation:nD,rotations:rD,get rotateCanvas(){return ng},get rotateCss(){return rg},rotation:YZ});let wF=EC("fs",(t=>t.promises));Vd.set("fs",class extends ew{async readWhole(){this.chunked=!1,this.fs=await wF;let t=await this.fs.readFile(this.input);this._swapBuffer(t)}async readChunked(){this.chunked=!0,this.fs=await wF,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){this.fh===void 0&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(t,e){this.fh===void 0&&await this.open(),t+e>this.size&&(e=this.size-t);var n=this.subarray(t,e,!0);return await this.fh.read(n.dataView,0,e,t),n}async close(){if(this.fh){let t=this.fh;this.fh=void 0,await t.close()}}});Vd.set("base64",class extends ew{constructor(...t){super(...t),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(t,e){let n,r,a=this.input;t===void 0?(t=0,n=0,r=0):(n=4*Math.floor(t/3),r=t-n/4*3),e===void 0&&(e=this.size);let i=t+e,s=n+4*Math.ceil(i/3);a=a.slice(n,s);let o=Math.min(e,this.size-t);if(Q5){let l=X5.from(a,"base64").slice(r,r+o);return this.set(l,t,!0)}{let l=this.subarray(t,o,!0),u=atob(a),d=l.toUint8();for(let h=0;h<o;h++)d[h]=u.charCodeAt(r+h);return l}}});class EF extends J5{static canHandle(e,n){return n===18761||n===19789}extendOptions(e){let{ifd0:n,xmp:r,iptc:a,icc:i}=e;r.enabled&&n.deps.add(700),a.enabled&&n.deps.add(33723),i.enabled&&n.deps.add(34675),n.finalizeFilters()}async parse(){let{tiff:e,xmp:n,iptc:r,icc:a}=this.options;if(e.enabled||n.enabled||r.enabled||a.enabled){let i=Math.max(kI(this.options),this.options.chunkSize);await this.file.ensureChunk(0,i),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(e){if(this.parsers.tiff[e]){let n=this.parsers.tiff[e];this.injectSegment(e,n)}}}vn(EF,"type","tiff"),Fd.set("tiff",EF);let SPe=EC("zlib");const _Pe=["ihdr","iccp","text","itxt","exif"];class TF extends J5{constructor(...e){super(...e),vn(this,"catchError",(n=>this.errors.push(n))),vn(this,"metaChunks",[]),vn(this,"unknownChunks",[])}static canHandle(e,n){return n===35152&&e.getUint32(0)===2303741511&&e.getUint32(4)===218765834}async parse(){let{file:e}=this;await this.findPngChunksInRange(8,e.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(e,n){let{file:r}=this;for(;e<n;){let a=r.getUint32(e),i=r.getUint32(e+4),s=r.getString(e+4,4).toLowerCase(),o=a+4+4+4,l={type:s,offset:e,length:o,start:e+4+4,size:a,marker:i};_Pe.includes(s)?this.metaChunks.push(l):this.unknownChunks.push(l),e+=o}}parseTextChunks(){let e=this.metaChunks.filter((n=>n.type==="text"));for(let n of e){let[r,a]=this.file.getString(n.start,n.size).split("\0");this.injectKeyValToIhdr(r,a)}}injectKeyValToIhdr(e,n){let r=this.parsers.ihdr;r&&r.raw.set(e,n)}findIhdr(){let e=this.metaChunks.find((n=>n.type==="ihdr"));e&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",e.chunk)}async findExif(){let e=this.metaChunks.find((n=>n.type==="exif"));e&&this.injectSegment("tiff",e.chunk)}async findXmp(){let e=this.metaChunks.filter((n=>n.type==="itxt"));for(let n of e)n.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",n.chunk)}async findIcc(){let e=this.metaChunks.find((o=>o.type==="iccp"));if(!e)return;let{chunk:n}=e,r=n.getUint8Array(0,81),a=0;for(;a<80&&r[a]!==0;)a++;let i=a+2,s=n.getString(0,a);if(this.injectKeyValToIhdr("ProfileName",s),wC){let o=await SPe,l=n.getUint8Array(i);l=o.inflateSync(l),this.injectSegment("icc",l)}}}vn(TF,"type","png"),Fd.set("png",TF),ui(as,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),Ag(as,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);let AF=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];Ag(as,"ifd0",AF),Ag(as,"exif",AF),ui(Mu,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class FT extends xu{static canHandle(e,n){return e.getUint8(n+1)===224&&e.getUint32(n+4)===1246120262&&e.getUint8(n+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}vn(FT,"type","jfif"),vn(FT,"headerLength",9),Ti.set("jfif",FT),ui(as,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class RF extends xu{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}vn(RF,"type","ihdr"),Ti.set("ihdr",RF),ui(as,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),ui(Mu,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class L4 extends xu{static canHandle(e,n){return e.getUint8(n+1)===226&&e.getUint32(n+4)===1229144927}static findPosition(e,n){let r=super.findPosition(e,n);return r.chunkNumber=e.getUint8(n+16),r.chunkCount=e.getUint8(n+17),r.multiSegment=r.chunkCount>1,r}static handleMultiSegments(e){return(function(n){let r=(function(a){let i=a[0].constructor,s=0;for(let u of a)s+=u.length;let o=new i(s),l=0;for(let u of a)o.set(u,l),l+=u.length;return o})(n.map((a=>a.chunk.toUint8())));return new Xo(r)})(e)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:e}=this;this.chunk.byteLength<84&&Ri("ICC header is too short");for(let[n,r]of Object.entries(CPe)){n=parseInt(n,10);let a=r(this.chunk,n);a!=="\0\0\0\0"&&e.set(n,a)}}parseTags(){let e,n,r,a,i,{raw:s}=this,o=this.chunk.getUint32(128),l=132,u=this.chunk.byteLength;for(;o--;){if(e=this.chunk.getString(l,4),n=this.chunk.getUint32(l+4),r=this.chunk.getUint32(l+8),a=this.chunk.getString(n,4),n+r>u)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");i=this.parseTag(a,n,r),i!==void 0&&i!=="\0\0\0\0"&&s.set(e,i),l+=12}}parseTag(e,n,r){switch(e){case"desc":return this.parseDesc(n);case"mluc":return this.parseMluc(n);case"text":return this.parseText(n,r);case"sig ":return this.parseSig(n)}if(!(n+r>this.chunk.byteLength))return this.chunk.getUint8Array(n,r)}parseDesc(e){let n=this.chunk.getUint32(e+8)-1;return tg(this.chunk.getString(e+12,n))}parseText(e,n){return tg(this.chunk.getString(e+8,n-8))}parseSig(e){return tg(this.chunk.getString(e+8,4))}parseMluc(e){let{chunk:n}=this,r=n.getUint32(e+8),a=n.getUint32(e+12),i=e+16,s=[];for(let o=0;o<r;o++){let l=n.getString(i+0,2),u=n.getString(i+2,2),d=n.getUint32(i+4),h=n.getUint32(i+8)+e,m=tg(n.getUnicodeString(h,d));s.push({lang:l,country:u,text:m}),i+=a}return r===1?s[0].text:s}translateValue(e,n){return typeof e=="string"?n[e]||n[e.toLowerCase()]||e:n[e]||e}}vn(L4,"type","icc"),vn(L4,"multiSegment",!0),vn(L4,"headerLength",18);const CPe={4:kf,8:function(t,e){return[t.getUint8(e),t.getUint8(e+1)>>4,t.getUint8(e+1)%16].map((n=>n.toString(10))).join(".")},12:kf,16:kf,20:kf,24:function(t,e){const n=t.getUint16(e),r=t.getUint16(e+2)-1,a=t.getUint16(e+4),i=t.getUint16(e+6),s=t.getUint16(e+8),o=t.getUint16(e+10);return new Date(Date.UTC(n,r,a,i,s,o))},36:kf,40:kf,48:kf,52:kf,64:(t,e)=>t.getUint32(e),80:kf};function kf(t,e){return tg(t.getString(e,4))}Ti.set("icc",L4),ui(as,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);const W_={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},kF={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};ui(Mu,"icc",[[4,W_],[12,kF],[40,Object.assign({},W_,kF)],[48,W_],[80,W_],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class Y_ extends xu{static canHandle(e,n,r){return e.getUint8(n+1)===237&&e.getString(n+4,9)==="Photoshop"&&this.containsIptc8bim(e,n,r)!==void 0}static headerLength(e,n,r){let a,i=this.containsIptc8bim(e,n,r);if(i!==void 0)return a=e.getUint8(n+i+7),a%2!=0&&(a+=1),a===0&&(a=4),i+8+a}static containsIptc8bim(e,n,r){for(let a=0;a<r;a++)if(this.isIptcSegmentHead(e,n+a))return a}static isIptcSegmentHead(e,n){return e.getUint8(n)===56&&e.getUint32(n)===943868237&&e.getUint16(n+4)===1028}parse(){let{raw:e}=this,n=this.chunk.byteLength-1,r=!1;for(let a=0;a<n;a++)if(this.chunk.getUint8(a)===28&&this.chunk.getUint8(a+1)===2){r=!0;let i=this.chunk.getUint16(a+3),s=this.chunk.getUint8(a+2),o=this.chunk.getLatin1String(a+5,i);e.set(s,this.pluralizeValue(e.get(s),o)),a+=4+i}else if(r)break;return this.translate(),this.output}pluralizeValue(e,n){return e!==void 0?e instanceof Array?(e.push(n),e):[e,n]:n}}vn(Y_,"type","iptc"),vn(Y_,"translateValues",!1),vn(Y_,"reviveValues",!1),Ti.set("iptc",Y_),ui(as,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),ui(Mu,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const wPe=4,IF=0,jF=1,EPe=2;function Ny(t){let e=t.length;for(;--e>=0;)t[e]=0}const TPe=0,tJ=1,APe=2,RPe=3,kPe=258,aD=29,lS=256,yv=lS+1+aD,G1=30,iD=19,nJ=2*yv+1,ag=15,BT=16,IPe=7,sD=256,rJ=16,aJ=17,iJ=18,MI=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),z4=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),jPe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),sJ=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),OPe=512,Nf=new Array((yv+2)*2);Ny(Nf);const z2=new Array(G1*2);Ny(z2);const bv=new Array(OPe);Ny(bv);const xv=new Array(kPe-RPe+1);Ny(xv);const oD=new Array(aD);Ny(oD);const kC=new Array(G1);Ny(kC);function HT(t,e,n,r,a){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=t&&t.length}let oJ,lJ,cJ;function UT(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const uJ=t=>t<256?bv[t]:bv[256+(t>>>7)],vv=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},Qo=(t,e,n)=>{t.bi_valid>BT-n?(t.bi_buf|=e<<t.bi_valid&65535,vv(t,t.bi_buf),t.bi_buf=e>>BT-t.bi_valid,t.bi_valid+=n-BT):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},Td=(t,e,n)=>{Qo(t,n[e*2],n[e*2+1])},dJ=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},DPe=t=>{t.bi_valid===16?(vv(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},MPe=(t,e)=>{const n=e.dyn_tree,r=e.max_code,a=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,l=e.stat_desc.max_length;let u,d,h,m,y,x,v=0;for(m=0;m<=ag;m++)t.bl_count[m]=0;for(n[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<nJ;u++)d=t.heap[u],m=n[n[d*2+1]*2+1]+1,m>l&&(m=l,v++),n[d*2+1]=m,!(d>r)&&(t.bl_count[m]++,y=0,d>=o&&(y=s[d-o]),x=n[d*2],t.opt_len+=x*(m+y),i&&(t.static_len+=x*(a[d*2+1]+y)));if(v!==0){do{for(m=l-1;t.bl_count[m]===0;)m--;t.bl_count[m]--,t.bl_count[m+1]+=2,t.bl_count[l]--,v-=2}while(v>0);for(m=l;m!==0;m--)for(d=t.bl_count[m];d!==0;)h=t.heap[--u],!(h>r)&&(n[h*2+1]!==m&&(t.opt_len+=(m-n[h*2+1])*n[h*2],n[h*2+1]=m),d--)}},fJ=(t,e,n)=>{const r=new Array(ag+1);let a=0,i,s;for(i=1;i<=ag;i++)a=a+n[i-1]<<1,r[i]=a;for(s=0;s<=e;s++){let o=t[s*2+1];o!==0&&(t[s*2]=dJ(r[o]++,o))}},NPe=()=>{let t,e,n,r,a;const i=new Array(ag+1);for(n=0,r=0;r<aD-1;r++)for(oD[r]=n,t=0;t<1<<MI[r];t++)xv[n++]=r;for(xv[n-1]=r,a=0,r=0;r<16;r++)for(kC[r]=a,t=0;t<1<<z4[r];t++)bv[a++]=r;for(a>>=7;r<G1;r++)for(kC[r]=a<<7,t=0;t<1<<z4[r]-7;t++)bv[256+a++]=r;for(e=0;e<=ag;e++)i[e]=0;for(t=0;t<=143;)Nf[t*2+1]=8,t++,i[8]++;for(;t<=255;)Nf[t*2+1]=9,t++,i[9]++;for(;t<=279;)Nf[t*2+1]=7,t++,i[7]++;for(;t<=287;)Nf[t*2+1]=8,t++,i[8]++;for(fJ(Nf,yv+1,i),t=0;t<G1;t++)z2[t*2+1]=5,z2[t*2]=dJ(t,5);oJ=new HT(Nf,MI,lS+1,yv,ag),lJ=new HT(z2,z4,0,G1,ag),cJ=new HT(new Array(0),jPe,0,iD,IPe)},hJ=t=>{let e;for(e=0;e<yv;e++)t.dyn_ltree[e*2]=0;for(e=0;e<G1;e++)t.dyn_dtree[e*2]=0;for(e=0;e<iD;e++)t.bl_tree[e*2]=0;t.dyn_ltree[sD*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},pJ=t=>{t.bi_valid>8?vv(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},OF=(t,e,n,r)=>{const a=e*2,i=n*2;return t[a]<t[i]||t[a]===t[i]&&r[e]<=r[n]},$T=(t,e,n)=>{const r=t.heap[n];let a=n<<1;for(;a<=t.heap_len&&(a<t.heap_len&&OF(e,t.heap[a+1],t.heap[a],t.depth)&&a++,!OF(e,r,t.heap[a],t.depth));)t.heap[n]=t.heap[a],n=a,a<<=1;t.heap[n]=r},DF=(t,e,n)=>{let r,a,i=0,s,o;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+i++]&255,r+=(t.pending_buf[t.sym_buf+i++]&255)<<8,a=t.pending_buf[t.sym_buf+i++],r===0?Td(t,a,e):(s=xv[a],Td(t,s+lS+1,e),o=MI[s],o!==0&&(a-=oD[s],Qo(t,a,o)),r--,s=uJ(r),Td(t,s,n),o=z4[s],o!==0&&(r-=kC[s],Qo(t,r,o)));while(i<t.sym_next);Td(t,sD,e)},NI=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,a=e.stat_desc.has_stree,i=e.stat_desc.elems;let s,o,l=-1,u;for(t.heap_len=0,t.heap_max=nJ,s=0;s<i;s++)n[s*2]!==0?(t.heap[++t.heap_len]=l=s,t.depth[s]=0):n[s*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=l<2?++l:0,n[u*2]=1,t.depth[u]=0,t.opt_len--,a&&(t.static_len-=r[u*2+1]);for(e.max_code=l,s=t.heap_len>>1;s>=1;s--)$T(t,n,s);u=i;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],$T(t,n,1),o=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=o,n[u*2]=n[s*2]+n[o*2],t.depth[u]=(t.depth[s]>=t.depth[o]?t.depth[s]:t.depth[o])+1,n[s*2+1]=n[o*2+1]=u,t.heap[1]=u++,$T(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],MPe(t,e),fJ(n,l,t.bl_count)},MF=(t,e,n)=>{let r,a=-1,i,s=e[1],o=0,l=7,u=4;for(s===0&&(l=138,u=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)i=s,s=e[(r+1)*2+1],!(++o<l&&i===s)&&(o<u?t.bl_tree[i*2]+=o:i!==0?(i!==a&&t.bl_tree[i*2]++,t.bl_tree[rJ*2]++):o<=10?t.bl_tree[aJ*2]++:t.bl_tree[iJ*2]++,o=0,a=i,s===0?(l=138,u=3):i===s?(l=6,u=3):(l=7,u=4))},NF=(t,e,n)=>{let r,a=-1,i,s=e[1],o=0,l=7,u=4;for(s===0&&(l=138,u=3),r=0;r<=n;r++)if(i=s,s=e[(r+1)*2+1],!(++o<l&&i===s)){if(o<u)do Td(t,i,t.bl_tree);while(--o!==0);else i!==0?(i!==a&&(Td(t,i,t.bl_tree),o--),Td(t,rJ,t.bl_tree),Qo(t,o-3,2)):o<=10?(Td(t,aJ,t.bl_tree),Qo(t,o-3,3)):(Td(t,iJ,t.bl_tree),Qo(t,o-11,7));o=0,a=i,s===0?(l=138,u=3):i===s?(l=6,u=3):(l=7,u=4)}},PPe=t=>{let e;for(MF(t,t.dyn_ltree,t.l_desc.max_code),MF(t,t.dyn_dtree,t.d_desc.max_code),NI(t,t.bl_desc),e=iD-1;e>=3&&t.bl_tree[sJ[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},LPe=(t,e,n,r)=>{let a;for(Qo(t,e-257,5),Qo(t,n-1,5),Qo(t,r-4,4),a=0;a<r;a++)Qo(t,t.bl_tree[sJ[a]*2+1],3);NF(t,t.dyn_ltree,e-1),NF(t,t.dyn_dtree,n-1)},zPe=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return IF;if(t.dyn_ltree[18]!==0||t.dyn_ltree[20]!==0||t.dyn_ltree[26]!==0)return jF;for(n=32;n<lS;n++)if(t.dyn_ltree[n*2]!==0)return jF;return IF};let PF=!1;const FPe=t=>{PF||(NPe(),PF=!0),t.l_desc=new UT(t.dyn_ltree,oJ),t.d_desc=new UT(t.dyn_dtree,lJ),t.bl_desc=new UT(t.bl_tree,cJ),t.bi_buf=0,t.bi_valid=0,hJ(t)},mJ=(t,e,n,r)=>{Qo(t,(TPe<<1)+(r?1:0),3),pJ(t),vv(t,n),vv(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},BPe=t=>{Qo(t,tJ<<1,3),Td(t,sD,Nf),DPe(t)},HPe=(t,e,n,r)=>{let a,i,s=0;t.level>0?(t.strm.data_type===EPe&&(t.strm.data_type=zPe(t)),NI(t,t.l_desc),NI(t,t.d_desc),s=PPe(t),a=t.opt_len+3+7>>>3,i=t.static_len+3+7>>>3,i<=a&&(a=i)):a=i=n+5,n+4<=a&&e!==-1?mJ(t,e,n,r):t.strategy===wPe||i===a?(Qo(t,(tJ<<1)+(r?1:0),3),DF(t,Nf,z2)):(Qo(t,(APe<<1)+(r?1:0),3),LPe(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),DF(t,t.dyn_ltree,t.dyn_dtree)),hJ(t),r&&pJ(t)},UPe=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(xv[n]+lS+1)*2]++,t.dyn_dtree[uJ(e)*2]++),t.sym_next===t.sym_end);var $Pe=FPe,GPe=mJ,qPe=HPe,VPe=UPe,WPe=BPe,YPe={_tr_init:$Pe,_tr_stored_block:GPe,_tr_flush_block:qPe,_tr_tally:VPe,_tr_align:WPe};const KPe=(t,e,n,r)=>{let a=t&65535|0,i=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do a=a+e[r++]|0,i=i+a|0;while(--s);a%=65521,i%=65521}return a|i<<16|0};var Sv=KPe;const XPe=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},QPe=new Uint32Array(XPe()),ZPe=(t,e,n,r)=>{const a=QPe,i=r+n;t^=-1;for(let s=r;s<i;s++)t=t>>>8^a[(t^e[s])&255];return t^-1};var Ji=ZPe,kg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},cS={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:JPe,_tr_stored_block:PI,_tr_flush_block:eLe,_tr_tally:Cp,_tr_align:tLe}=YPe,{Z_NO_FLUSH:wp,Z_PARTIAL_FLUSH:nLe,Z_FULL_FLUSH:rLe,Z_FINISH:Ec,Z_BLOCK:LF,Z_OK:xs,Z_STREAM_END:zF,Z_STREAM_ERROR:Od,Z_DATA_ERROR:aLe,Z_BUF_ERROR:GT,Z_DEFAULT_COMPRESSION:iLe,Z_FILTERED:sLe,Z_HUFFMAN_ONLY:K_,Z_RLE:oLe,Z_FIXED:lLe,Z_DEFAULT_STRATEGY:cLe,Z_UNKNOWN:uLe,Z_DEFLATED:tw}=cS,dLe=9,fLe=15,hLe=8,pLe=29,mLe=256,LI=mLe+1+pLe,gLe=30,yLe=19,bLe=2*LI+1,xLe=15,sr=3,mp=258,Dd=mp+sr+1,vLe=32,uy=42,lD=57,zI=69,FI=73,BI=91,HI=103,ig=113,d2=666,_o=1,Py=2,Ig=3,Ly=4,SLe=3,sg=(t,e)=>(t.msg=kg[e],e),FF=t=>t*2-(t>4?9:0),op=t=>{let e=t.length;for(;--e>=0;)t[e]=0},_Le=t=>{let e,n,r,a=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=a?n-a:0;while(--e);e=a,r=e;do n=t.prev[--r],t.prev[r]=n>=a?n-a:0;while(--e)};let CLe=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,Ep=CLe;const Al=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},kl=(t,e)=>{eLe(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Al(t.strm)},Tr=(t,e)=>{t.pending_buf[t.pending++]=e},Fx=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},UI=(t,e,n,r)=>{let a=t.avail_in;return a>r&&(a=r),a===0?0:(t.avail_in-=a,e.set(t.input.subarray(t.next_in,t.next_in+a),n),t.state.wrap===1?t.adler=Sv(t.adler,e,a,n):t.state.wrap===2&&(t.adler=Ji(t.adler,e,a,n)),t.next_in+=a,t.total_in+=a,a)},gJ=(t,e)=>{let n=t.max_chain_length,r=t.strstart,a,i,s=t.prev_length,o=t.nice_match;const l=t.strstart>t.w_size-Dd?t.strstart-(t.w_size-Dd):0,u=t.window,d=t.w_mask,h=t.prev,m=t.strstart+mp;let y=u[r+s-1],x=u[r+s];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do if(a=e,!(u[a+s]!==x||u[a+s-1]!==y||u[a]!==u[r]||u[++a]!==u[r+1])){r+=2,a++;do;while(u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&r<m);if(i=mp-(m-r),r=m-mp,i>s){if(t.match_start=e,s=i,i>=o)break;y=u[r+s-1],x=u[r+s]}}while((e=h[e&d])>l&&--n!==0);return s<=t.lookahead?s:t.lookahead},dy=t=>{const e=t.w_size;let n,r,a;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Dd)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),_Le(t),r+=e),t.strm.avail_in===0)break;if(n=UI(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=sr)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=Ep(t,t.ins_h,t.window[a+1]);t.insert&&(t.ins_h=Ep(t,t.ins_h,t.window[a+sr-1]),t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<sr)););}while(t.lookahead<Dd&&t.strm.avail_in!==0)},yJ=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,a,i,s=0,o=t.strm.avail_in;do{if(r=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i||(i=t.strm.avail_out-i,a=t.strstart-t.block_start,r>a+t.strm.avail_in&&(r=a+t.strm.avail_in),r>i&&(r=i),r<n&&(r===0&&e!==Ec||e===wp||r!==a+t.strm.avail_in)))break;s=e===Ec&&r===a+t.strm.avail_in?1:0,PI(t,0,0,s),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,Al(t.strm),a&&(a>r&&(a=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+a),t.strm.next_out),t.strm.next_out+=a,t.strm.avail_out-=a,t.strm.total_out+=a,t.block_start+=a,r-=a),r&&(UI(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(s===0);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?Ly:e!==wp&&e!==Ec&&t.strm.avail_in===0&&t.strstart===t.block_start?Py:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(UI(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,n=i>t.w_size?t.w_size:i,a=t.strstart-t.block_start,(a>=n||(a||e===Ec)&&e!==wp&&t.strm.avail_in===0&&a<=i)&&(r=a>i?i:a,s=e===Ec&&t.strm.avail_in===0&&r===a?1:0,PI(t,t.block_start,r,s),t.block_start+=r,Al(t.strm)),s?Ig:_o)},qT=(t,e)=>{let n,r;for(;;){if(t.lookahead<Dd){if(dy(t),t.lookahead<Dd&&e===wp)return _o;if(t.lookahead===0)break}if(n=0,t.lookahead>=sr&&(t.ins_h=Ep(t,t.ins_h,t.window[t.strstart+sr-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-Dd&&(t.match_length=gJ(t,n)),t.match_length>=sr)if(r=Cp(t,t.strstart-t.match_start,t.match_length-sr),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=sr){t.match_length--;do t.strstart++,t.ins_h=Ep(t,t.ins_h,t.window[t.strstart+sr-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Ep(t,t.ins_h,t.window[t.strstart+1]);else r=Cp(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(kl(t,!1),t.strm.avail_out===0))return _o}return t.insert=t.strstart<sr-1?t.strstart:sr-1,e===Ec?(kl(t,!0),t.strm.avail_out===0?Ig:Ly):t.sym_next&&(kl(t,!1),t.strm.avail_out===0)?_o:Py},p1=(t,e)=>{let n,r,a;for(;;){if(t.lookahead<Dd){if(dy(t),t.lookahead<Dd&&e===wp)return _o;if(t.lookahead===0)break}if(n=0,t.lookahead>=sr&&(t.ins_h=Ep(t,t.ins_h,t.window[t.strstart+sr-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=sr-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Dd&&(t.match_length=gJ(t,n),t.match_length<=5&&(t.strategy===sLe||t.match_length===sr&&t.strstart-t.match_start>4096)&&(t.match_length=sr-1)),t.prev_length>=sr&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-sr,r=Cp(t,t.strstart-1-t.prev_match,t.prev_length-sr),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=a&&(t.ins_h=Ep(t,t.ins_h,t.window[t.strstart+sr-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=sr-1,t.strstart++,r&&(kl(t,!1),t.strm.avail_out===0))return _o}else if(t.match_available){if(r=Cp(t,0,t.window[t.strstart-1]),r&&kl(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return _o}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Cp(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<sr-1?t.strstart:sr-1,e===Ec?(kl(t,!0),t.strm.avail_out===0?Ig:Ly):t.sym_next&&(kl(t,!1),t.strm.avail_out===0)?_o:Py},wLe=(t,e)=>{let n,r,a,i;const s=t.window;for(;;){if(t.lookahead<=mp){if(dy(t),t.lookahead<=mp&&e===wp)return _o;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=sr&&t.strstart>0&&(a=t.strstart-1,r=s[a],r===s[++a]&&r===s[++a]&&r===s[++a])){i=t.strstart+mp;do;while(r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&a<i);t.match_length=mp-(i-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=sr?(n=Cp(t,1,t.match_length-sr),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Cp(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(kl(t,!1),t.strm.avail_out===0))return _o}return t.insert=0,e===Ec?(kl(t,!0),t.strm.avail_out===0?Ig:Ly):t.sym_next&&(kl(t,!1),t.strm.avail_out===0)?_o:Py},ELe=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(dy(t),t.lookahead===0)){if(e===wp)return _o;break}if(t.match_length=0,n=Cp(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(kl(t,!1),t.strm.avail_out===0))return _o}return t.insert=0,e===Ec?(kl(t,!0),t.strm.avail_out===0?Ig:Ly):t.sym_next&&(kl(t,!1),t.strm.avail_out===0)?_o:Py};function yd(t,e,n,r,a){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=a}const f2=[new yd(0,0,0,0,yJ),new yd(4,4,8,4,qT),new yd(4,5,16,8,qT),new yd(4,6,32,32,qT),new yd(4,4,16,16,p1),new yd(8,16,32,32,p1),new yd(8,16,128,128,p1),new yd(8,32,128,256,p1),new yd(32,128,258,1024,p1),new yd(32,258,258,4096,p1)],TLe=t=>{t.window_size=2*t.w_size,op(t.head),t.max_lazy_match=f2[t.level].max_lazy,t.good_match=f2[t.level].good_length,t.nice_match=f2[t.level].nice_length,t.max_chain_length=f2[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=sr-1,t.match_available=0,t.ins_h=0};function ALe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=tw,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(bLe*2),this.dyn_dtree=new Uint16Array((2*gLe+1)*2),this.bl_tree=new Uint16Array((2*yLe+1)*2),op(this.dyn_ltree),op(this.dyn_dtree),op(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(xLe+1),this.heap=new Uint16Array(2*LI+1),op(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*LI+1),op(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const uS=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==uy&&e.status!==lD&&e.status!==zI&&e.status!==FI&&e.status!==BI&&e.status!==HI&&e.status!==ig&&e.status!==d2?1:0},bJ=t=>{if(uS(t))return sg(t,Od);t.total_in=t.total_out=0,t.data_type=uLe;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?lD:e.wrap?uy:ig,t.adler=e.wrap===2?0:1,e.last_flush=-2,JPe(e),xs},xJ=t=>{const e=bJ(t);return e===xs&&TLe(t.state),e},RLe=(t,e)=>uS(t)||t.state.wrap!==2?Od:(t.state.gzhead=e,xs),vJ=(t,e,n,r,a,i)=>{if(!t)return Od;let s=1;if(e===iLe&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>dLe||n!==tw||r<8||r>15||e<0||e>9||i<0||i>lLe||r===8&&s!==1)return sg(t,Od);r===8&&(r=9);const o=new ALe;return t.state=o,o.strm=t,o.status=uy,o.wrap=s,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+sr-1)/sr),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=e,o.strategy=i,o.method=n,xJ(t)},kLe=(t,e)=>vJ(t,e,tw,fLe,hLe,cLe),ILe=(t,e)=>{if(uS(t)||e>LF||e<0)return t?sg(t,Od):Od;const n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===d2&&e!==Ec)return sg(t,t.avail_out===0?GT:Od);const r=n.last_flush;if(n.last_flush=e,n.pending!==0){if(Al(t),t.avail_out===0)return n.last_flush=-1,xs}else if(t.avail_in===0&&FF(e)<=FF(r)&&e!==Ec)return sg(t,GT);if(n.status===d2&&t.avail_in!==0)return sg(t,GT);if(n.status===uy&&n.wrap===0&&(n.status=ig),n.status===uy){let a=tw+(n.w_bits-8<<4)<<8,i=-1;if(n.strategy>=K_||n.level<2?i=0:n.level<6?i=1:n.level===6?i=2:i=3,a|=i<<6,n.strstart!==0&&(a|=vLe),a+=31-a%31,Fx(n,a),n.strstart!==0&&(Fx(n,t.adler>>>16),Fx(n,t.adler&65535)),t.adler=1,n.status=ig,Al(t),n.pending!==0)return n.last_flush=-1,xs}if(n.status===lD){if(t.adler=0,Tr(n,31),Tr(n,139),Tr(n,8),n.gzhead)Tr(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Tr(n,n.gzhead.time&255),Tr(n,n.gzhead.time>>8&255),Tr(n,n.gzhead.time>>16&255),Tr(n,n.gzhead.time>>24&255),Tr(n,n.level===9?2:n.strategy>=K_||n.level<2?4:0),Tr(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Tr(n,n.gzhead.extra.length&255),Tr(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Ji(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=zI;else if(Tr(n,0),Tr(n,0),Tr(n,0),Tr(n,0),Tr(n,0),Tr(n,n.level===9?2:n.strategy>=K_||n.level<2?4:0),Tr(n,SLe),n.status=ig,Al(t),n.pending!==0)return n.last_flush=-1,xs}if(n.status===zI){if(n.gzhead.extra){let a=n.pending,i=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let o=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>a&&(t.adler=Ji(t.adler,n.pending_buf,n.pending-a,a)),n.gzindex+=o,Al(t),n.pending!==0)return n.last_flush=-1,xs;a=0,i-=o}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>a&&(t.adler=Ji(t.adler,n.pending_buf,n.pending-a,a)),n.gzindex=0}n.status=FI}if(n.status===FI){if(n.gzhead.name){let a=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>a&&(t.adler=Ji(t.adler,n.pending_buf,n.pending-a,a)),Al(t),n.pending!==0)return n.last_flush=-1,xs;a=0}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,Tr(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>a&&(t.adler=Ji(t.adler,n.pending_buf,n.pending-a,a)),n.gzindex=0}n.status=BI}if(n.status===BI){if(n.gzhead.comment){let a=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>a&&(t.adler=Ji(t.adler,n.pending_buf,n.pending-a,a)),Al(t),n.pending!==0)return n.last_flush=-1,xs;a=0}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,Tr(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>a&&(t.adler=Ji(t.adler,n.pending_buf,n.pending-a,a))}n.status=HI}if(n.status===HI){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Al(t),n.pending!==0))return n.last_flush=-1,xs;Tr(n,t.adler&255),Tr(n,t.adler>>8&255),t.adler=0}if(n.status=ig,Al(t),n.pending!==0)return n.last_flush=-1,xs}if(t.avail_in!==0||n.lookahead!==0||e!==wp&&n.status!==d2){let a=n.level===0?yJ(n,e):n.strategy===K_?ELe(n,e):n.strategy===oLe?wLe(n,e):f2[n.level].func(n,e);if((a===Ig||a===Ly)&&(n.status=d2),a===_o||a===Ig)return t.avail_out===0&&(n.last_flush=-1),xs;if(a===Py&&(e===nLe?tLe(n):e!==LF&&(PI(n,0,0,!1),e===rLe&&(op(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Al(t),t.avail_out===0))return n.last_flush=-1,xs}return e!==Ec?xs:n.wrap<=0?zF:(n.wrap===2?(Tr(n,t.adler&255),Tr(n,t.adler>>8&255),Tr(n,t.adler>>16&255),Tr(n,t.adler>>24&255),Tr(n,t.total_in&255),Tr(n,t.total_in>>8&255),Tr(n,t.total_in>>16&255),Tr(n,t.total_in>>24&255)):(Fx(n,t.adler>>>16),Fx(n,t.adler&65535)),Al(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?xs:zF)},jLe=t=>{if(uS(t))return Od;const e=t.state.status;return t.state=null,e===ig?sg(t,aLe):xs},OLe=(t,e)=>{let n=e.length;if(uS(t))return Od;const r=t.state,a=r.wrap;if(a===2||a===1&&r.status!==uy||r.lookahead)return Od;if(a===1&&(t.adler=Sv(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){a===0&&(op(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(n-r.w_size,n),0),e=l,n=r.w_size}const i=t.avail_in,s=t.next_in,o=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,dy(r);r.lookahead>=sr;){let l=r.strstart,u=r.lookahead-(sr-1);do r.ins_h=Ep(r,r.ins_h,r.window[l+sr-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--u);r.strstart=l,r.lookahead=sr-1,dy(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=sr-1,r.match_available=0,t.next_in=s,t.input=o,t.avail_in=i,r.wrap=a,xs};var DLe=kLe,MLe=vJ,NLe=xJ,PLe=bJ,LLe=RLe,zLe=ILe,FLe=jLe,BLe=OLe,HLe="pako deflate (from Nodeca project)",F2={deflateInit:DLe,deflateInit2:MLe,deflateReset:NLe,deflateResetKeep:PLe,deflateSetHeader:LLe,deflate:zLe,deflateEnd:FLe,deflateSetDictionary:BLe,deflateInfo:HLe};const ULe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var $Le=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)ULe(n,r)&&(t[r]=n[r])}}return t},GLe=t=>{let e=0;for(let r=0,a=t.length;r<a;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,a=0,i=t.length;r<i;r++){let s=t[r];n.set(s,a),a+=s.length}return n},nw={assign:$Le,flattenChunks:GLe};let SJ=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{SJ=!1}const _v=new Uint8Array(256);for(let t=0;t<256;t++)_v[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;_v[254]=_v[254]=1;var qLe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,a,i,s=t.length,o=0;for(a=0;a<s;a++)n=t.charCodeAt(a),(n&64512)===55296&&a+1<s&&(r=t.charCodeAt(a+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),a++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),i=0,a=0;i<o;a++)n=t.charCodeAt(a),(n&64512)===55296&&a+1<s&&(r=t.charCodeAt(a+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|n&63):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|n&63):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|n&63);return e};const VLe=(t,e)=>{if(e<65534&&t.subarray&&SJ)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var WLe=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,a;const i=new Array(n*2);for(a=0,r=0;r<n;){let s=t[r++];if(s<128){i[a++]=s;continue}let o=_v[s];if(o>4){i[a++]=65533,r+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&r<n;)s=s<<6|t[r++]&63,o--;if(o>1){i[a++]=65533;continue}s<65536?i[a++]=s:(s-=65536,i[a++]=55296|s>>10&1023,i[a++]=56320|s&1023)}return VLe(i,a)},YLe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+_v[t[n]]>e?n:e},Cv={string2buf:qLe,buf2string:WLe,utf8border:YLe};function KLe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var _J=KLe;const CJ=Object.prototype.toString,{Z_NO_FLUSH:XLe,Z_SYNC_FLUSH:QLe,Z_FULL_FLUSH:ZLe,Z_FINISH:JLe,Z_OK:IC,Z_STREAM_END:eze,Z_DEFAULT_COMPRESSION:tze,Z_DEFAULT_STRATEGY:nze,Z_DEFLATED:rze}=cS;function dS(t){this.options=nw.assign({level:tze,method:rze,chunkSize:16384,windowBits:15,memLevel:8,strategy:nze},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _J,this.strm.avail_out=0;let n=F2.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==IC)throw new Error(kg[n]);if(e.header&&F2.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=Cv.string2buf(e.dictionary):CJ.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=F2.deflateSetDictionary(this.strm,r),n!==IC)throw new Error(kg[n]);this._dict_set=!0}}dS.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let a,i;if(this.ended)return!1;for(e===~~e?i=e:i=e===!0?JLe:XLe,typeof t=="string"?n.input=Cv.string2buf(t):CJ.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===QLe||i===ZLe)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(a=F2.deflate(n,i),a===eze)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),a=F2.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===IC;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};dS.prototype.onData=function(t){this.chunks.push(t)};dS.prototype.onEnd=function(t){t===IC&&(this.result=nw.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function cD(t,e){const n=new dS(e);if(n.push(t,!0),n.err)throw n.msg||kg[n.err];return n.result}function aze(t,e){return e=e||{},e.raw=!0,cD(t,e)}function ize(t,e){return e=e||{},e.gzip=!0,cD(t,e)}var sze=dS,oze=cD,lze=aze,cze=ize,uze={Deflate:sze,deflate:oze,deflateRaw:lze,gzip:cze};const X_=16209,dze=16191;var fze=function(e,n){let r,a,i,s,o,l,u,d,h,m,y,x,v,_,C,w,T,E,I,j,O,L,N,M;const H=e.state;r=e.next_in,N=e.input,a=r+(e.avail_in-5),i=e.next_out,M=e.output,s=i-(n-e.avail_out),o=i+(e.avail_out-257),l=H.dmax,u=H.wsize,d=H.whave,h=H.wnext,m=H.window,y=H.hold,x=H.bits,v=H.lencode,_=H.distcode,C=(1<<H.lenbits)-1,w=(1<<H.distbits)-1;e:do{x<15&&(y+=N[r++]<<x,x+=8,y+=N[r++]<<x,x+=8),T=v[y&C];t:for(;;){if(E=T>>>24,y>>>=E,x-=E,E=T>>>16&255,E===0)M[i++]=T&65535;else if(E&16){I=T&65535,E&=15,E&&(x<E&&(y+=N[r++]<<x,x+=8),I+=y&(1<<E)-1,y>>>=E,x-=E),x<15&&(y+=N[r++]<<x,x+=8,y+=N[r++]<<x,x+=8),T=_[y&w];n:for(;;){if(E=T>>>24,y>>>=E,x-=E,E=T>>>16&255,E&16){if(j=T&65535,E&=15,x<E&&(y+=N[r++]<<x,x+=8,x<E&&(y+=N[r++]<<x,x+=8)),j+=y&(1<<E)-1,j>l){e.msg="invalid distance too far back",H.mode=X_;break e}if(y>>>=E,x-=E,E=i-s,j>E){if(E=j-E,E>d&&H.sane){e.msg="invalid distance too far back",H.mode=X_;break e}if(O=0,L=m,h===0){if(O+=u-E,E<I){I-=E;do M[i++]=m[O++];while(--E);O=i-j,L=M}}else if(h<E){if(O+=u+h-E,E-=h,E<I){I-=E;do M[i++]=m[O++];while(--E);if(O=0,h<I){E=h,I-=E;do M[i++]=m[O++];while(--E);O=i-j,L=M}}}else if(O+=h-E,E<I){I-=E;do M[i++]=m[O++];while(--E);O=i-j,L=M}for(;I>2;)M[i++]=L[O++],M[i++]=L[O++],M[i++]=L[O++],I-=3;I&&(M[i++]=L[O++],I>1&&(M[i++]=L[O++]))}else{O=i-j;do M[i++]=M[O++],M[i++]=M[O++],M[i++]=M[O++],I-=3;while(I>2);I&&(M[i++]=M[O++],I>1&&(M[i++]=M[O++]))}}else if((E&64)===0){T=_[(T&65535)+(y&(1<<E)-1)];continue n}else{e.msg="invalid distance code",H.mode=X_;break e}break}}else if((E&64)===0){T=v[(T&65535)+(y&(1<<E)-1)];continue t}else if(E&32){H.mode=dze;break e}else{e.msg="invalid literal/length code",H.mode=X_;break e}break}}while(r<a&&i<o);I=x>>3,r-=I,x-=I<<3,y&=(1<<x)-1,e.next_in=r,e.next_out=i,e.avail_in=r<a?5+(a-r):5-(r-a),e.avail_out=i<o?257+(o-i):257-(i-o),H.hold=y,H.bits=x};const m1=15,BF=852,HF=592,UF=0,VT=1,$F=2,hze=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),pze=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),mze=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),gze=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),yze=(t,e,n,r,a,i,s,o)=>{const l=o.bits;let u=0,d=0,h=0,m=0,y=0,x=0,v=0,_=0,C=0,w=0,T,E,I,j,O,L=null,N;const M=new Uint16Array(m1+1),H=new Uint16Array(m1+1);let P=null,$,D,U;for(u=0;u<=m1;u++)M[u]=0;for(d=0;d<r;d++)M[e[n+d]]++;for(y=l,m=m1;m>=1&&M[m]===0;m--);if(y>m&&(y=m),m===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,o.bits=1,0;for(h=1;h<m&&M[h]===0;h++);for(y<h&&(y=h),_=1,u=1;u<=m1;u++)if(_<<=1,_-=M[u],_<0)return-1;if(_>0&&(t===UF||m!==1))return-1;for(H[1]=0,u=1;u<m1;u++)H[u+1]=H[u]+M[u];for(d=0;d<r;d++)e[n+d]!==0&&(s[H[e[n+d]]++]=d);if(t===UF?(L=P=s,N=20):t===VT?(L=hze,P=pze,N=257):(L=mze,P=gze,N=0),w=0,d=0,u=h,O=i,x=y,v=0,I=-1,C=1<<y,j=C-1,t===VT&&C>BF||t===$F&&C>HF)return 1;for(;;){$=u-v,s[d]+1<N?(D=0,U=s[d]):s[d]>=N?(D=P[s[d]-N],U=L[s[d]-N]):(D=96,U=0),T=1<<u-v,E=1<<x,h=E;do E-=T,a[O+(w>>v)+E]=$<<24|D<<16|U|0;while(E!==0);for(T=1<<u-1;w&T;)T>>=1;if(T!==0?(w&=T-1,w+=T):w=0,d++,--M[u]===0){if(u===m)break;u=e[n+s[d]]}if(u>y&&(w&j)!==I){for(v===0&&(v=y),O+=h,x=u-v,_=1<<x;x+v<m&&(_-=M[x+v],!(_<=0));)x++,_<<=1;if(C+=1<<x,t===VT&&C>BF||t===$F&&C>HF)return 1;I=w&j,a[I]=y<<24|x<<16|O-i|0}}return w!==0&&(a[O+w]=u-v<<24|64<<16|0),o.bits=y,0};var B2=yze;const bze=0,wJ=1,EJ=2,{Z_FINISH:GF,Z_BLOCK:xze,Z_TREES:Q_,Z_OK:jg,Z_STREAM_END:vze,Z_NEED_DICT:Sze,Z_STREAM_ERROR:zc,Z_DATA_ERROR:TJ,Z_MEM_ERROR:AJ,Z_BUF_ERROR:_ze,Z_DEFLATED:qF}=cS,rw=16180,VF=16181,WF=16182,YF=16183,KF=16184,XF=16185,QF=16186,ZF=16187,JF=16188,eB=16189,jC=16190,If=16191,WT=16192,tB=16193,YT=16194,nB=16195,rB=16196,aB=16197,iB=16198,Z_=16199,J_=16200,sB=16201,oB=16202,lB=16203,cB=16204,uB=16205,KT=16206,dB=16207,fB=16208,Aa=16209,RJ=16210,kJ=16211,Cze=852,wze=592,Eze=15,Tze=Eze,hB=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Aze(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Vg=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<rw||e.mode>kJ?1:0},IJ=t=>{if(Vg(t))return zc;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=rw,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Cze),e.distcode=e.distdyn=new Int32Array(wze),e.sane=1,e.back=-1,jg},jJ=t=>{if(Vg(t))return zc;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,IJ(t)},OJ=(t,e)=>{let n;if(Vg(t))return zc;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?zc:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,jJ(t))},DJ=(t,e)=>{if(!t)return zc;const n=new Aze;t.state=n,n.strm=t,n.window=null,n.mode=rw;const r=OJ(t,e);return r!==jg&&(t.state=null),r},Rze=t=>DJ(t,Tze);let pB=!0,XT,QT;const kze=t=>{if(pB){XT=new Int32Array(512),QT=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(B2(wJ,t.lens,0,288,XT,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;B2(EJ,t.lens,0,32,QT,0,t.work,{bits:5}),pB=!1}t.lencode=XT,t.lenbits=9,t.distcode=QT,t.distbits=5},MJ=(t,e,n,r)=>{let a;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>r&&(a=r),i.window.set(e.subarray(n-r,n-r+a),i.wnext),r-=a,r?(i.window.set(e.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},Ize=(t,e)=>{let n,r,a,i,s,o,l,u,d,h,m,y,x,v,_=0,C,w,T,E,I,j,O,L;const N=new Uint8Array(4);let M,H;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Vg(t)||!t.output||!t.input&&t.avail_in!==0)return zc;n=t.state,n.mode===If&&(n.mode=WT),s=t.next_out,a=t.output,l=t.avail_out,i=t.next_in,r=t.input,o=t.avail_in,u=n.hold,d=n.bits,h=o,m=l,L=jg;e:for(;;)switch(n.mode){case rw:if(n.wrap===0){n.mode=WT;break}for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,N[0]=u&255,N[1]=u>>>8&255,n.check=Ji(n.check,N,2,0),u=0,d=0,n.mode=VF;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Aa;break}if((u&15)!==qF){t.msg="unknown compression method",n.mode=Aa;break}if(u>>>=4,d-=4,O=(u&15)+8,n.wbits===0&&(n.wbits=O),O>15||O>n.wbits){t.msg="invalid window size",n.mode=Aa;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?eB:If,u=0,d=0;break;case VF:for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==qF){t.msg="unknown compression method",n.mode=Aa;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Aa;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,n.check=Ji(n.check,N,2,0)),u=0,d=0,n.mode=WF;case WF:for(;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,N[2]=u>>>16&255,N[3]=u>>>24&255,n.check=Ji(n.check,N,4,0)),u=0,d=0,n.mode=YF;case YF:for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,n.check=Ji(n.check,N,2,0)),u=0,d=0,n.mode=KF;case KF:if(n.flags&1024){for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,n.check=Ji(n.check,N,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=XF;case XF:if(n.flags&1024&&(y=n.length,y>o&&(y=o),y&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+y),O)),n.flags&512&&n.wrap&4&&(n.check=Ji(n.check,r,y,i)),o-=y,i+=y,n.length-=y),n.length))break e;n.length=0,n.mode=QF;case QF:if(n.flags&2048){if(o===0)break e;y=0;do O=r[i+y++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O));while(O&&y<o);if(n.flags&512&&n.wrap&4&&(n.check=Ji(n.check,r,y,i)),o-=y,i+=y,O)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=ZF;case ZF:if(n.flags&4096){if(o===0)break e;y=0;do O=r[i+y++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O));while(O&&y<o);if(n.flags&512&&n.wrap&4&&(n.check=Ji(n.check,r,y,i)),o-=y,i+=y,O)break e}else n.head&&(n.head.comment=null);n.mode=JF;case JF:if(n.flags&512){for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Aa;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=If;break;case eB:for(;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}t.adler=n.check=hB(u),u=0,d=0,n.mode=jC;case jC:if(n.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=o,n.hold=u,n.bits=d,Sze;t.adler=n.check=1,n.mode=If;case If:if(e===xze||e===Q_)break e;case WT:if(n.last){u>>>=d&7,d-=d&7,n.mode=KT;break}for(;d<3;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=tB;break;case 1:if(kze(n),n.mode=Z_,e===Q_){u>>>=2,d-=2;break e}break;case 2:n.mode=rB;break;case 3:t.msg="invalid block type",n.mode=Aa}u>>>=2,d-=2;break;case tB:for(u>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Aa;break}if(n.length=u&65535,u=0,d=0,n.mode=YT,e===Q_)break e;case YT:n.mode=nB;case nB:if(y=n.length,y){if(y>o&&(y=o),y>l&&(y=l),y===0)break e;a.set(r.subarray(i,i+y),s),o-=y,i+=y,l-=y,s+=y,n.length-=y;break}n.mode=If;break;case rB:for(;d<14;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Aa;break}n.have=0,n.mode=aB;case aB:for(;n.have<n.ncode;){for(;d<3;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.lens[P[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[P[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},L=B2(bze,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,L){t.msg="invalid code lengths set",n.mode=Aa;break}n.have=0,n.mode=iB;case iB:for(;n.have<n.nlen+n.ndist;){for(;_=n.lencode[u&(1<<n.lenbits)-1],C=_>>>24,w=_>>>16&255,T=_&65535,!(C<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(T<16)u>>>=C,d-=C,n.lens[n.have++]=T;else{if(T===16){for(H=C+2;d<H;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(u>>>=C,d-=C,n.have===0){t.msg="invalid bit length repeat",n.mode=Aa;break}O=n.lens[n.have-1],y=3+(u&3),u>>>=2,d-=2}else if(T===17){for(H=C+3;d<H;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,O=0,y=3+(u&7),u>>>=3,d-=3}else{for(H=C+7;d<H;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,O=0,y=11+(u&127),u>>>=7,d-=7}if(n.have+y>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Aa;break}for(;y--;)n.lens[n.have++]=O}}if(n.mode===Aa)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Aa;break}if(n.lenbits=9,M={bits:n.lenbits},L=B2(wJ,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,L){t.msg="invalid literal/lengths set",n.mode=Aa;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},L=B2(EJ,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,L){t.msg="invalid distances set",n.mode=Aa;break}if(n.mode=Z_,e===Q_)break e;case Z_:n.mode=J_;case J_:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=o,n.hold=u,n.bits=d,fze(t,m),s=t.next_out,a=t.output,l=t.avail_out,i=t.next_in,r=t.input,o=t.avail_in,u=n.hold,d=n.bits,n.mode===If&&(n.back=-1);break}for(n.back=0;_=n.lencode[u&(1<<n.lenbits)-1],C=_>>>24,w=_>>>16&255,T=_&65535,!(C<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(w&&(w&240)===0){for(E=C,I=w,j=T;_=n.lencode[j+((u&(1<<E+I)-1)>>E)],C=_>>>24,w=_>>>16&255,T=_&65535,!(E+C<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=E,d-=E,n.back+=E}if(u>>>=C,d-=C,n.back+=C,n.length=T,w===0){n.mode=uB;break}if(w&32){n.back=-1,n.mode=If;break}if(w&64){t.msg="invalid literal/length code",n.mode=Aa;break}n.extra=w&15,n.mode=sB;case sB:if(n.extra){for(H=n.extra;d<H;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=oB;case oB:for(;_=n.distcode[u&(1<<n.distbits)-1],C=_>>>24,w=_>>>16&255,T=_&65535,!(C<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if((w&240)===0){for(E=C,I=w,j=T;_=n.distcode[j+((u&(1<<E+I)-1)>>E)],C=_>>>24,w=_>>>16&255,T=_&65535,!(E+C<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=E,d-=E,n.back+=E}if(u>>>=C,d-=C,n.back+=C,w&64){t.msg="invalid distance code",n.mode=Aa;break}n.offset=T,n.extra=w&15,n.mode=lB;case lB:if(n.extra){for(H=n.extra;d<H;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Aa;break}n.mode=cB;case cB:if(l===0)break e;if(y=m-l,n.offset>y){if(y=n.offset-y,y>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Aa;break}y>n.wnext?(y-=n.wnext,x=n.wsize-y):x=n.wnext-y,y>n.length&&(y=n.length),v=n.window}else v=a,x=s-n.offset,y=n.length;y>l&&(y=l),l-=y,n.length-=y;do a[s++]=v[x++];while(--y);n.length===0&&(n.mode=J_);break;case uB:if(l===0)break e;a[s++]=n.length,l--,n.mode=J_;break;case KT:if(n.wrap){for(;d<32;){if(o===0)break e;o--,u|=r[i++]<<d,d+=8}if(m-=l,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?Ji(n.check,a,m,s-m):Sv(n.check,a,m,s-m)),m=l,n.wrap&4&&(n.flags?u:hB(u))!==n.check){t.msg="incorrect data check",n.mode=Aa;break}u=0,d=0}n.mode=dB;case dB:if(n.wrap&&n.flags){for(;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Aa;break}u=0,d=0}n.mode=fB;case fB:L=vze;break e;case Aa:L=TJ;break e;case RJ:return AJ;case kJ:default:return zc}return t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=o,n.hold=u,n.bits=d,(n.wsize||m!==t.avail_out&&n.mode<Aa&&(n.mode<KT||e!==GF))&&MJ(t,t.output,t.next_out,m-t.avail_out),h-=t.avail_in,m-=t.avail_out,t.total_in+=h,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?Ji(n.check,a,m,t.next_out-m):Sv(n.check,a,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===If?128:0)+(n.mode===Z_||n.mode===YT?256:0),(h===0&&m===0||e===GF)&&L===jg&&(L=_ze),L},jze=t=>{if(Vg(t))return zc;let e=t.state;return e.window&&(e.window=null),t.state=null,jg},Oze=(t,e)=>{if(Vg(t))return zc;const n=t.state;return(n.wrap&2)===0?zc:(n.head=e,e.done=!1,jg)},Dze=(t,e)=>{const n=e.length;let r,a,i;return Vg(t)||(r=t.state,r.wrap!==0&&r.mode!==jC)?zc:r.mode===jC&&(a=1,a=Sv(a,e,n,0),a!==r.check)?TJ:(i=MJ(t,e,n,n),i?(r.mode=RJ,AJ):(r.havedict=1,jg))};var Mze=jJ,Nze=OJ,Pze=IJ,Lze=Rze,zze=DJ,Fze=Ize,Bze=jze,Hze=Oze,Uze=Dze,$ze="pako inflate (from Nodeca project)",Pf={inflateReset:Mze,inflateReset2:Nze,inflateResetKeep:Pze,inflateInit:Lze,inflateInit2:zze,inflate:Fze,inflateEnd:Bze,inflateGetHeader:Hze,inflateSetDictionary:Uze,inflateInfo:$ze};function Gze(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var qze=Gze;const NJ=Object.prototype.toString,{Z_NO_FLUSH:Vze,Z_FINISH:Wze,Z_OK:wv,Z_STREAM_END:ZT,Z_NEED_DICT:JT,Z_STREAM_ERROR:Yze,Z_DATA_ERROR:mB,Z_MEM_ERROR:Kze}=cS;function fS(t){this.options=nw.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _J,this.strm.avail_out=0;let n=Pf.inflateInit2(this.strm,e.windowBits);if(n!==wv)throw new Error(kg[n]);if(this.header=new qze,Pf.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Cv.string2buf(e.dictionary):NJ.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Pf.inflateSetDictionary(this.strm,e.dictionary),n!==wv)))throw new Error(kg[n])}fS.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let i,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Wze:Vze,NJ.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=Pf.inflate(n,s),i===JT&&a&&(i=Pf.inflateSetDictionary(n,a),i===wv?i=Pf.inflate(n,s):i===mB&&(i=JT));n.avail_in>0&&i===ZT&&n.state.wrap>0&&t[n.next_in]!==0;)Pf.inflateReset(n),i=Pf.inflate(n,s);switch(i){case Yze:case mB:case JT:case Kze:return this.onEnd(i),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||i===ZT))if(this.options.to==="string"){let l=Cv.utf8border(n.output,n.next_out),u=n.next_out-l,d=Cv.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===wv&&o===0)){if(i===ZT)return i=Pf.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};fS.prototype.onData=function(t){this.chunks.push(t)};fS.prototype.onEnd=function(t){t===wv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=nw.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function uD(t,e){const n=new fS(e);if(n.push(t),n.err)throw n.msg||kg[n.err];return n.result}function Xze(t,e){return e=e||{},e.raw=!0,uD(t,e)}var Qze=fS,Zze=uD,Jze=Xze,eFe=uD,tFe={Inflate:Qze,inflate:Zze,inflateRaw:Jze,ungzip:eFe};const{Deflate:nFe,deflate:rFe,deflateRaw:aFe,gzip:iFe}=uze,{Inflate:sFe,inflate:oFe,inflateRaw:lFe,ungzip:cFe}=tFe;var uFe=nFe,dFe=rFe,fFe=aFe,hFe=iFe,pFe=sFe,mFe=oFe,gFe=lFe,yFe=cFe,bFe=cS,xFe={Deflate:uFe,deflate:dFe,deflateRaw:fFe,gzip:hFe,Inflate:pFe,inflate:mFe,inflateRaw:gFe,ungzip:yFe,constants:bFe};const h2={ALPHA_UNCOMPRESSED:"stealth_pnginfo",ALPHA_COMPRESSED:"stealth_pngcomp",RGB_UNCOMPRESSED:"stealth_rgbinfo",RGB_COMPRESSED:"stealth_rgbcomp"};async function vFe(t){console.log(" [extractStealthPngInfo] Starting extraction...");try{const e=await SFe(t);if(e)return console.log(" [extractStealthPngInfo] LSB method successful"),e;console.log(" [extractStealthPngInfo] LSB failed, trying simple marker method...");const n=await _Fe(t);return n?(console.log(" [extractStealthPngInfo] Marker method successful"),n):(console.log(" [extractStealthPngInfo] Both methods failed"),null)}catch(e){return console.error(" [extractStealthPngInfo] Error:",e),null}}async function SFe(t){return new Promise(e=>{const n=new Image,r=URL.createObjectURL(t);n.onload=()=>{try{const a=document.createElement("canvas"),i=a.getContext("2d");if(!i){URL.revokeObjectURL(r),e(null);return}a.width=n.width,a.height=n.height,i.drawImage(n,0,0);const o=i.getImageData(0,0,a.width,a.height).data,l=a.width,u=a.height,d=!0;console.log(` [LSB] Scanning ${l}x${u} image (4 channels)`);let h=null,m=!1,y="",x="",v="",_=0,C=0,w=!1,T=!0,E=!1,I=!1,j=!1,O=0;const L=h2.ALPHA_UNCOMPRESSED.length*8;e:for(let M=0;M<l;M++){for(let H=0;H<u;H++){const P=(H*l+M)*4,$=o[P],D=o[P+1],U=o[P+2],F=o[P+3];if(d&&(x+=(F&1).toString(),_++),v+=($&1).toString(),v+=(D&1).toString(),v+=(U&1).toString(),C+=3,T){if(_===L&&d){const W=gB(x),ee=yB(W);if(ee)T=!1,w=!0,E=!0,h="alpha",m=ee.compressed,console.log(` [LSB] Signature found: ${W} (mode: alpha, compressed: ${m})`),x="",_=0;else{console.log(` [LSB] No valid signature in alpha channel: ${W}`),j=!0;break e}}else if(C===L){const W=gB(v),ee=yB(W);ee&&(T=!1,w=!0,E=!0,h="rgb",m=ee.compressed,console.log(` [LSB] Signature found: ${W} (mode: rgb, compressed: ${m})`),v="",C=0)}}else if(E){if(h==="alpha")_===32&&(O=parseInt(x,2),console.log(` [LSB] Data length: ${O} bits`),E=!1,I=!0,x="",_=0);else if(C===33){const W=v[v.length-1];v=v.slice(0,-1),O=parseInt(v,2),console.log(` [LSB] Data length: ${O} bits`),E=!1,I=!0,v=W,C=1}}else if(I){if(h==="alpha"){if(_===O){y=x,console.log(" [LSB] Data extraction complete"),j=!0;break e}}else if(C>=O){const W=O-C;W<0&&(v=v.slice(0,W)),y=v,console.log(" [LSB] Data extraction complete"),j=!0;break e}}else{j=!0;break e}}if(j)break}if(URL.revokeObjectURL(r),!w||y===""){console.log(" [LSB] No stealth data found"),e(null);return}const N=CFe(y);try{let M;if(m){console.log(" [LSB] Decompressing gzip data with pako...");try{const H=xFe.ungzip(new Uint8Array(N));M=new TextDecoder("utf-8").decode(H),console.log(" [LSB] Successfully decompressed gzip data")}catch(H){console.error(" [LSB] Decompression error:",H),e(null);return}}else M=new TextDecoder("utf-8").decode(new Uint8Array(N));console.log(` [LSB] Successfully decoded ${M.length} characters`),e(M)}catch(M){console.error(" [LSB] Decoding error:",M),e(null)}}catch(a){console.error(" [LSB] Extraction error:",a),URL.revokeObjectURL(r),e(null)}},n.onerror=()=>{console.error(" [LSB] Image load error"),URL.revokeObjectURL(r),e(null)},n.src=r})}async function _Fe(t){return new Promise(e=>{const n=new FileReader;n.onload=r=>{try{const a=r.target?.result,i=new Uint8Array(a),s=new TextEncoder().encode("stealth_pnginfo");for(let o=0;o<i.length-s.length-4;o++){let l=!0;for(let u=0;u<s.length;u++)if(i[o+u]!==s[u]){l=!1;break}if(l){const u=o+s.length,d=i[u]|i[u+1]<<8|i[u+2]<<16|i[u+3]<<24,h=u+4,m=i.slice(h,h+d),y=new TextDecoder().decode(m);console.log(" [Marker] Successfully extracted"),e(y);return}}e(null)}catch(a){console.error(" [Marker] Error:",a),e(null)}},n.onerror=()=>e(null),n.readAsArrayBuffer(t)})}function gB(t){const e=[];for(let n=0;n<t.length;n+=8){const r=t.substring(n,n+8);r.length===8&&e.push(parseInt(r,2))}return new TextDecoder("utf-8").decode(new Uint8Array(e))}function CFe(t){const e=[];for(let n=0;n<t.length;n+=8){const r=t.substring(n,n+8);r.length===8&&e.push(parseInt(r,2))}return e}function yB(t){return t===h2.ALPHA_UNCOMPRESSED?{type:"alpha",compressed:!1}:t===h2.ALPHA_COMPRESSED?{type:"alpha",compressed:!0}:t===h2.RGB_UNCOMPRESSED?{type:"rgb",compressed:!1}:t===h2.RGB_COMPRESSED?{type:"rgb",compressed:!0}:null}class wFe{static extract(e){try{const{textChunks:n,rawStrings:r}=this.extractRawPngMetadata(e);if((n.Software==="NovelAI"||n.Source?.includes("NovelAI"))&&(console.log(" NovelAI image detected in PNG"),n.Comment))return{Comment:n.Comment,Source:n.Source};for(const a of r)if(a.includes("parameters")&&a.includes("Steps:"))return{parameters:a};return{textChunks:n,rawStrings:r}}catch(n){return console.warn("PNG metadata extraction error:",n),{}}}static extractRawPngMetadata(e){const n={},r=[];try{const a=new Uint8Array(e);if(a[0]!==137||a[1]!==80||a[2]!==78||a[3]!==71)return{textChunks:n,rawStrings:r};let i=8;for(;i<a.length-8;){const s=a[i]<<24|a[i+1]<<16|a[i+2]<<8|a[i+3],o=String.fromCharCode(a[i+4],a[i+5],a[i+6],a[i+7]);if(o==="tEXt"||o==="zTXt"){const l=a.slice(i+8,i+8+s),u=new TextDecoder("utf-8").decode(l);r.push(u);const d=u.indexOf("\0");if(d>0){const h=u.substring(0,d),m=u.substring(d+1);n[h]=m}}i+=8+s+4}}catch(a){console.error("PNG parsing error:",a)}return{textChunks:n,rawStrings:r}}}class e4{static isNovelAIFormat(e){if(console.log(" [NovelAIParser.isNovelAIFormat] Checking data type:",typeof e),typeof e=="string")try{const n=JSON.parse(e);if(console.log(" [NovelAIParser] Parsed JSON keys:",Object.keys(n)),n.Comment){console.log(" [NovelAIParser] Found Comment field");try{const a=JSON.parse(n.Comment),i=this.hasNovelAIFields(a);if(console.log(" [NovelAIParser] Comment contains NAI fields:",i),i)return!0}catch{console.warn(" [NovelAIParser] Comment field is not valid JSON")}}const r=this.hasNovelAIFields(n);return console.log(" [NovelAIParser] Direct NAI fields:",r),r}catch(n){return console.warn(" [NovelAIParser] JSON parse failed:",n),!1}if(typeof e=="object"&&e!==null){if(console.log(" [NovelAIParser] Checking object data, keys:",Object.keys(e)),this.hasCommentField(e))return console.log(" [NovelAIParser] Object has valid Comment field"),!0;const n=this.hasNovelAIFields(e);return console.log(" [NovelAIParser] Object has NAI fields:",n),n}return console.log(" [NovelAIParser] Not a NovelAI format"),!1}static hasCommentField(e){if(!e.Comment)return!1;try{const n=JSON.parse(e.Comment);return this.hasNovelAIFields(n)}catch{return!1}}static hasNovelAIFields(e){return e&&(e.prompt!==void 0||e.v4_prompt!==void 0||e.uc!==void 0||e.scale!==void 0||e.noise_schedule!==void 0)}static parse(e){console.log(" [NovelAIParser.parse] Input type:",typeof e);try{let n,r=e;if(typeof e=="string")if(console.log(" [NovelAIParser] Parsing string input"),r=JSON.parse(e),console.log(" [NovelAIParser] Top-level keys:",Object.keys(r)),r.Comment){console.log(" [NovelAIParser] Parsing Comment field");try{n=JSON.parse(r.Comment),console.log(" [NovelAIParser] Successfully parsed Comment from Stealth PNG"),console.log(" [NovelAIParser] NAI data keys:",Object.keys(n))}catch(i){console.warn(" [NovelAIParser] Failed to parse Comment field:",i),n=r}}else console.log(" [NovelAIParser] No Comment field, using top-level data"),n=r;else if(e.Comment){console.log(" [NovelAIParser] Object has Comment field"),r=e;try{n=JSON.parse(e.Comment),console.log(" [NovelAIParser] Successfully parsed Comment field")}catch(i){console.warn(" [NovelAIParser] Failed to parse Comment field:",i),n=e}}else console.log(" [NovelAIParser] Using data directly"),n=e;const a={};if(n.v4_prompt?.caption?.base_caption?(a.positive_prompt=n.v4_prompt.caption.base_caption,a.prompt=a.positive_prompt):n.prompt&&(a.positive_prompt=n.prompt,a.prompt=n.prompt),n.v4_negative_prompt?.caption?.base_caption?a.negative_prompt=n.v4_negative_prompt.caption.base_caption:n.uc&&(a.negative_prompt=n.uc),n.steps&&(a.steps=n.steps),n.scale&&(a.cfg_scale=n.scale),n.seed&&(a.seed=Number(n.seed)),n.sampler&&(a.sampler=n.sampler),n.noise_schedule&&(a.scheduler=n.noise_schedule),n.width&&(a.width=n.width),n.height&&(a.height=n.height),r.Source){const i=r.Source.match(/NovelAI Diffusion (V[\d.]+)/i);i&&(a.model=`NovelAI Diffusion ${i[1]}`)}return a.ai_tool="NovelAI",console.log(" [NovelAIParser] Successfully parsed:",{hasPrompt:!!a.prompt,hasNegativePrompt:!!a.negative_prompt,promptLength:a.prompt?.length||0,negativePromptLength:a.negative_prompt?.length||0,steps:a.steps,scale:a.cfg_scale,sampler:a.sampler,model:a.model}),a}catch(n){return console.error(" [NovelAIParser] Parse error:",n),{}}}}class t4{static isWebUIFormat(e){return typeof e=="string"?e.includes("parameters")||e.includes("Steps:")&&e.includes("Sampler:"):typeof e=="object"&&e!==null?e.parameters!==void 0:!1}static parse(e){try{let n;if(typeof e=="string")n=e;else if(e.parameters)n=e.parameters;else return{};return n.startsWith("parameters")&&(n=n.substring(10)),this.parseParametersText(n)}catch(n){return console.warn("WebUI parsing error:",n),{}}}static parseParametersText(e){const n={},r=e.split(/\r?\n/);let a=-1;for(let i=0;i<r.length;i++)if(r[i].trim().startsWith("Negative prompt:")){a=i;break}if(a>0){const i=r.slice(0,a);n.positive_prompt=i.join(`
`).trim().replace(/\u0000/g,""),n.prompt=n.positive_prompt;const s=r[a];n.negative_prompt=s.substring(16).trim().replace(/\u0000/g,"");const o=r.slice(a+1);this.parseOptionLines(o,n)}else n.positive_prompt=e.trim().replace(/\u0000/g,""),n.prompt=n.positive_prompt,n.negative_prompt="";return n}static parseOptionLines(e,n){const r=e.join(" ").trim();if(!r)return;const a=r.split(",");for(const i of a){const s=i.trim();if(!s||!s.includes(":"))continue;const o=s.indexOf(":"),l=s.substring(0,o).trim(),u=s.substring(o+1).trim().replace(/\u0000/g,"");this.parseOptionField(l,u,n)}}static parseOptionField(e,n,r){const a=e.toLowerCase();let i;try{if(n.includes("."))i=parseFloat(n);else{const s=parseInt(n);isNaN(s)||(i=s)}}catch{}switch(a){case"steps":r.steps=i;break;case"sampler":r.sampler=n;break;case"cfg scale":r.cfg_scale=i;break;case"seed":r.seed=i;break;case"size":const[s,o]=n.split("x").map(Number);s&&o&&(r.width=s,r.height=o);break;case"model":r.model=n;break;case"model hash":r.model_hash=n;break;case"denoising strength":r.denoising_strength=i;break;case"clip skip":r.clip_skip=i;break;default:r[e]=i!==void 0?i:n;break}}}async function EFe(t){const e={};try{const n=await vPe.parse(t,{tiff:!0,exif:!0,gps:!0,interop:!0,ifd1:!0,iptc:!0,jfif:!0,ihdr:!0});n&&Object.assign(e,n)}catch(n){console.warn("EXIF extraction failed:",n)}if(t.type==="image/png"||t.name.toLowerCase().endsWith(".png")){const n=await t.arrayBuffer(),r=wFe.extract(n);let a=bB(r);const i=!!(a.prompt&&a.prompt.trim()||a.positive_prompt&&a.positive_prompt.trim());if(console.log(" [extractFromFile] Primary extraction result:",{hasPrompt:i,promptLength:a.prompt?.length||0,positivePromptLength:a.positive_prompt?.length||0,promptPreview:(a.prompt||a.positive_prompt)?.substring(0,50)}),!i){console.log(" [extractFromFile] Primary extraction failed - attempting Stealth PNG Info");const s=await vFe(t);if(s){console.log(" [extractFromFile] Stealth PNG Info extracted successfully!"),console.log(" [extractFromFile] Stealth data length:",s.length),console.log(" [extractFromFile] First 200 chars:",s.substring(0,200)),e["Stealth PNG Info"]=s;const o=bB({stealthData:s});console.log(" [extractFromFile] Stealth parse result:",{hasPrompt:!!o.prompt,hasPositivePrompt:!!o.positive_prompt,promptLength:o.prompt?.length||0}),o.prompt||o.positive_prompt?(console.log(" [extractFromFile] Using Stealth PNG data"),a=o):console.log(" [extractFromFile] Stealth data parsing failed - no valid prompts")}else console.log(" [extractFromFile] Stealth PNG Info not found")}return{...e,...a}}return e}function bB(t){if(console.log(" [parseRawData] Input type:",typeof t,{hasStealthData:!!t.stealthData,stealthDataLength:t.stealthData?.length||0,stealthDataPreview:t.stealthData?.substring(0,100)}),e4.isNovelAIFormat(t))return console.log(" [parseRawData] Parsing as NovelAI format"),e4.parse(t);if(t4.isWebUIFormat(t))return console.log(" [parseRawData] Parsing as WebUI format"),t4.parse(t);if(t.stealthData){console.log(" [parseRawData] Attempting to parse stealth data...");const e=e4.isNovelAIFormat(t.stealthData);if(console.log(" [parseRawData] Is NovelAI format?",e),e){console.log(" [parseRawData] Parsing stealth data as NovelAI format");const r=e4.parse(t.stealthData);return console.log(" [parseRawData] NovelAI parse result:",{hasPrompt:!!r.prompt,hasPositivePrompt:!!r.positive_prompt,hasNegativePrompt:!!r.negative_prompt}),r}const n=t4.isWebUIFormat(t.stealthData);if(console.log(" [parseRawData] Is WebUI format?",n),n){console.log(" [parseRawData] Parsing stealth data as WebUI format");const r=t4.parse(t.stealthData);return console.log(" [parseRawData] WebUI parse result:",{hasPrompt:!!r.prompt,hasPositivePrompt:!!r.positive_prompt,hasNegativePrompt:!!r.negative_prompt}),r}console.log(" [parseRawData] Stealth data found but format not recognized"),console.log(" [parseRawData] Raw stealth data sample:",t.stealthData.substring(0,200))}return console.log(" [parseRawData] No recognized format found"),{}}function TFe(t){if(t.ai_tool)return t.ai_tool;const e=JSON.stringify(t).toLowerCase();return e.includes("comfyui")||e.includes("comfy ui")?"ComfyUI":e.includes("novelai")||e.includes("novel ai")?"NovelAI":e.includes("automatic1111")||e.includes("webui")?"Automatic1111":"Unknown"}async function AFe(t){try{const e=await EFe(t),n=TFe(e),r={},a=["ai_tool","prompt","positive_prompt","negative_prompt","textChunks","rawStrings"];for(const[i,s]of Object.entries(e))!a.includes(i)&&s!==void 0&&s!==null&&(r[i]=s);return{aiTool:n,prompt:e.prompt,positivePrompt:e.positive_prompt||e.prompt,negativePrompt:e.negative_prompt,parameters:Object.keys(r).length>0?r:void 0,rawMetadata:e}}catch(e){return console.error("Failed to extract metadata:",e),{aiTool:"Unknown",rawMetadata:{}}}}const RFe=()=>{const{t}=$t(["upload","common"]),[e,n]=A.useState(null),[r,a]=A.useState(!1),[i,s]=A.useState(null),[o,l]=A.useState(!1),[u,d]=A.useState(null),h=A.useCallback(async T=>{if(!T.type.startsWith("image/")){s(t("upload:promptPreview.invalidFileType"));return}a(!0),s(null);try{const E=URL.createObjectURL(T);d(E);const I=await AFe(T);n(I)}catch(E){console.error("Failed to extract metadata:",E),s(t("upload:promptPreview.extractionFailed"))}finally{a(!1)}},[t]),m=A.useCallback(T=>{T.preventDefault(),T.stopPropagation(),l(!1),T.dataTransfer.files&&T.dataTransfer.files.length>0&&h(T.dataTransfer.files[0])},[h]),y=A.useCallback(T=>{T.preventDefault(),T.stopPropagation(),l(!0)},[]),x=A.useCallback(T=>{T.preventDefault(),T.stopPropagation(),l(!1)},[]),v=A.useCallback(T=>{T.target.files&&T.target.files.length>0&&h(T.target.files[0])},[h]),_=e?.positivePrompt?mz(e.positivePrompt):null,C=e?.negativePrompt?mz(e.negativePrompt):null,w=e?.positivePrompt?BQ(e.positivePrompt):null;return je.useEffect(()=>()=>{u&&URL.revokeObjectURL(u)},[u]),c.jsxs(Yt,{elevation:1,sx:{p:{xs:2,sm:3},mt:{xs:3,sm:4},borderRadius:2},children:[c.jsx(re,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"1.1rem",sm:"1.25rem"},fontWeight:600},children:t("upload:promptPreview.title")}),c.jsx(re,{variant:"body2",color:"text.secondary",sx:{mb:2},children:t("upload:promptPreview.description")}),c.jsxs(J,{onDrop:m,onDragOver:y,onDragLeave:x,sx:{border:"2px dashed",borderColor:o?"primary.main":"grey.300",borderRadius:2,p:3,textAlign:"center",backgroundColor:o?"action.hover":"background.default",cursor:"pointer",transition:"all 0.2s","&:hover":{borderColor:"primary.main",backgroundColor:"action.hover"}},onClick:()=>document.getElementById("prompt-preview-input")?.click(),children:[c.jsx("input",{id:"prompt-preview-input",type:"file",accept:"image/*",style:{display:"none"},onChange:v}),c.jsx(Eu,{sx:{fontSize:48,color:"text.secondary",mb:1}}),c.jsx(re,{variant:"body1",color:"text.secondary",children:t(o?"upload:promptPreview.dropHere":"upload:promptPreview.dragOrClick")}),c.jsx(re,{variant:"caption",color:"text.secondary",children:t("upload:promptPreview.noUpload")})]}),r&&c.jsx(J,{sx:{display:"flex",justifyContent:"center",my:3},children:c.jsx(Kt,{})}),i&&c.jsx(St,{severity:"error",sx:{mt:2},children:i}),e&&!r&&c.jsxs(J,{sx:{mt:3},children:[u&&c.jsxs(J,{sx:{mb:3},children:[c.jsx(re,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:t("upload:promptPreview.imagePreview")}),c.jsx(Yt,{variant:"outlined",sx:{p:1,backgroundColor:"background.default",display:"flex",justifyContent:"center",alignItems:"center"},children:c.jsx(J,{component:"img",src:u,alt:"Preview",sx:{maxWidth:"100%",maxHeight:400,objectFit:"contain",borderRadius:1}})})]}),c.jsxs(J,{sx:{mb:2},children:[c.jsx(re,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:t("upload:promptPreview.aiTool")}),c.jsx(yt,{label:e.aiTool||"Unknown",color:e.aiTool!=="Unknown"?"primary":"default",size:"small"})]}),_&&c.jsxs(J,{sx:{mb:2},children:[c.jsx(re,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:t("upload:promptPreview.positivePrompt")}),c.jsx(Yt,{variant:"outlined",sx:{p:2,backgroundColor:"background.default",maxHeight:200,overflow:"auto"},children:c.jsx(re,{variant:"body2",sx:{whiteSpace:"pre-wrap"},children:_.cleaned})}),_.terms.length>0&&c.jsxs(J,{sx:{mt:1},children:[c.jsxs(re,{variant:"caption",color:"text.secondary",children:[t("upload:promptPreview.terms")," (",_.terms.length,")"]}),c.jsxs(un,{direction:"row",spacing:.5,flexWrap:"wrap",sx:{mt:.5},children:[_.terms.slice(0,20).map((T,E)=>c.jsx(yt,{label:T,size:"small",variant:"outlined",sx:{mb:.5}},E)),_.terms.length>20&&c.jsx(yt,{label:`+${_.terms.length-20} more`,size:"small",variant:"outlined",sx:{mb:.5}})]})]})]}),C&&C.cleaned&&c.jsxs(J,{sx:{mb:2},children:[c.jsx(re,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:t("upload:promptPreview.negativePrompt")}),c.jsx(Yt,{variant:"outlined",sx:{p:2,backgroundColor:"background.default",maxHeight:150,overflow:"auto"},children:c.jsx(re,{variant:"body2",sx:{whiteSpace:"pre-wrap"},children:C.cleaned})})]}),w&&w.loras.length>0&&c.jsxs(J,{sx:{mb:2},children:[c.jsxs(re,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:[t("upload:promptPreview.loraModels")," (",w.loras.length,")"]}),c.jsx(un,{direction:"row",spacing:.5,flexWrap:"wrap",children:w.loras.map((T,E)=>c.jsx(yt,{label:T,size:"small",color:"secondary",sx:{mb:.5}},E))})]}),e.parameters&&Object.keys(e.parameters).length>0&&c.jsxs(J,{sx:{mb:2},children:[c.jsx(re,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:t("upload:promptPreview.parameters")}),c.jsx(Yt,{variant:"outlined",sx:{p:2,backgroundColor:"background.default"},children:c.jsx(un,{spacing:.5,children:Object.entries(e.parameters).filter(([T,E])=>E!=null).map(([T,E])=>c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[T,":"]})," ",String(E)]},T))})})]}),c.jsxs(Dc,{sx:{mt:2},children:[c.jsx(Nc,{expandIcon:c.jsx(is,{}),children:c.jsx(re,{variant:"subtitle2",children:t("upload:promptPreview.rawMetadata")})}),c.jsx(Mc,{children:c.jsx(Yt,{variant:"outlined",sx:{p:2,backgroundColor:"background.default",maxHeight:400,overflow:"auto"},children:c.jsx("pre",{style:{margin:0,fontSize:"0.75rem",whiteSpace:"pre-wrap"},children:JSON.stringify(e.rawMetadata,null,2)})})})]})]})]})},kFe=()=>{const t=bt.c(17);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=["upload","common"],t[0]=e):e=t[0];const{t:n}=$t(e),r=IFe;let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a={width:"100%"},t[1]=a):a=t[1];let i;t[2]===Symbol.for("react.memo_cache_sentinel")?(i={fontSize:{xs:"1.75rem",sm:"2rem",md:"2.25rem"},fontWeight:600},t[2]=i):i=t[2];let s;t[3]!==n?(s=n("upload:page.title"),t[3]=n,t[4]=s):s=t[4];let o;t[5]!==s?(o=c.jsx(re,{variant:"h4",component:"h1",gutterBottom:!0,sx:i,children:s}),t[5]=s,t[6]=o):o=t[6];let l;t[7]===Symbol.for("react.memo_cache_sentinel")?(l={mb:{xs:3,sm:4},fontSize:{xs:"0.875rem",sm:"1rem"}},t[7]=l):l=t[7];let u;t[8]!==n?(u=n("upload:page.description"),t[8]=n,t[9]=u):u=t[9];let d;t[10]!==u?(d=c.jsx(re,{variant:"body1",color:"text.secondary",sx:l,children:u}),t[10]=u,t[11]=d):d=t[11];let h,m;t[12]===Symbol.for("react.memo_cache_sentinel")?(h=c.jsx(ZNe,{onUploadComplete:r}),m=c.jsx(RFe,{}),t[12]=h,t[13]=m):(h=t[12],m=t[13]);let y;return t[14]!==o||t[15]!==d?(y=c.jsxs(J,{sx:a,children:[o,d,h,m]}),t[14]=o,t[15]=d,t[16]=y):y=t[16],y};function IFe(){console.log("Upload completed")}const jFe=(t={})=>{const[e,n]=A.useState([]),[r,a]=A.useState(!1),[i,s]=A.useState(null),[o,l]=A.useState(1),[u,d]=A.useState(25),[h,m]=A.useState(0),[y,x]=A.useState(0),[v,_]=A.useState(t.initialSortBy||"first_seen_date"),[C,w]=A.useState(t.initialSortOrder||"DESC"),[T,E]=A.useState(t.initialAiToolFilter||""),I=A.useCallback(async(P=o,$=u,D=v,U=C,F=T)=>{a(!0),s(null);try{let W;F?W=await ba.searchImages({ai_tool:F,page:P,limit:$,sortBy:D,sortOrder:U}):W=await ba.getImages(P,$,D,U),W.success&&W.data?(n(W.data.images),m(W.data.totalPages),x(W.data.total),l(W.data.page)):s(W.error||"  .")}catch(W){s("  ."),console.error("Error fetching images:",W)}finally{a(!1)}},[o,u,v,C,T]),j=A.useCallback(P=>{l(P),I(P,u,v,C,T)},[I,u,v,C,T]),O=A.useCallback(P=>{d(P),l(1),I(1,P,v,C,T),localStorage.setItem("imagePageSize",P.toString())},[I,v,C,T]),L=A.useCallback((P,$)=>{_(P),w($),l(1),I(1,u,P,$,T)},[I,u,T]),N=A.useCallback(P=>{E(P),l(1),I(1,u,v,C,P)},[I,u,v,C]),M=A.useCallback(async P=>{console.log(" [Frontend] Deleting images:",P);try{n(D=>{const U=D.filter(F=>F.composite_hash&&!P.includes(F.composite_hash));return console.log(" [Frontend] Images after optimistic update:",U.length),U});const $=await ba.deleteImages(P);if(!$.success)throw new Error($.error||"Delete failed");console.log(" [Frontend] Delete successful, refreshing data"),await I(o,u,v,C,T)}catch($){console.error(" [Frontend] Delete error:",$),s("  ."),await I(o,u,v,C,T)}},[I,o,u,v,C,T]),H=A.useCallback(()=>{I(o,u,v,C,T)},[I,o,u,v,C,T]);return A.useEffect(()=>{const P=localStorage.getItem("imagePageSize");if(P){const $=parseInt(P);[25,50,100].includes($)&&d($)}},[]),A.useEffect(()=>{I()},[I]),{images:e,loading:r,error:i,currentPage:o,pageSize:u,totalPages:h,total:y,sortBy:v,sortOrder:C,aiToolFilter:T,changePage:j,changePageSize:O,changeSorting:L,changeAiToolFilter:N,deleteImages:M,refreshImages:H,fetchImages:I}},PJ=()=>{const t=bt.c(12);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0];const[n,r]=A.useState(e);let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=v=>{r(_=>_.includes(v)?_.filter(C=>C!==v):[..._,v])},t[1]=a):a=t[1];const i=a;let s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=v=>{r(v)},t[2]=s):s=t[2];const o=s;let l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{r([])},t[3]=l):l=t[3];const u=l;let d;t[4]!==n?(d=v=>n.includes(v),t[4]=n,t[5]=d):d=t[5];const h=d;let m;t[6]!==n.length?(m=v=>{n.length===v.length?u():o(v)},t[6]=n.length,t[7]=m):m=t[7];const y=m;let x;return t[8]!==h||t[9]!==n||t[10]!==y?(x={selectedIds:n,toggleSelection:i,selectAll:o,deselectAll:u,isSelected:h,toggleSelectAll:y,selectedCount:n.length},t[8]=h,t[9]=n,t[10]=y,t[11]=x):x=t[11],x},OFe=()=>{const{t}=$t(["gallery","common"]),{images:e,loading:n,error:r,currentPage:a,pageSize:i,totalPages:s,total:o,sortBy:l,sortOrder:u,aiToolFilter:d,changePage:h,changePageSize:m,changeSorting:y,changeAiToolFilter:x,deleteImages:v,refreshImages:_}=jFe({initialSortBy:"first_seen_date",initialSortOrder:"DESC"}),{selectedIds:C,toggleSelection:w,selectAll:T,deselectAll:E,selectedCount:I}=PJ(),j=U=>{T(U)},O=async U=>{await v([U]);const F=e.find(W=>W.composite_hash===U);F?.id&&C.includes(F.id)&&w(F.id)},L=()=>{E(),_()},N=U=>{y(U,u)},M=U=>{y(l,U)},[H,P]=A.useState([]);A.useEffect(()=>{(async()=>{try{const F=await ba.getImages(1,1e3,"first_seen_date","DESC");if(F.success&&F.data){const W=Array.from(new Set(F.data.images.map(ee=>ee.ai_tool).filter(ee=>ee!==null)));P(W)}}catch(F){console.error("Failed to fetch AI tools:",F)}})()},[]);const $=()=>{x(""),y("first_seen_date","DESC")},D=d!=="";return c.jsxs(J,{sx:{width:"100%"},children:[c.jsxs(J,{sx:{mb:{xs:2,sm:3}},children:[c.jsx(re,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontSize:{xs:"1.75rem",sm:"2rem",md:"2.25rem"},fontWeight:600},children:t("gallery:page.title")}),c.jsx(re,{variant:"body1",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:t("gallery:page.description")})]}),c.jsxs(Yt,{elevation:1,sx:{p:{xs:2,sm:3},mb:{xs:2,sm:3},borderRadius:2},children:[c.jsxs(un,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:{xs:"stretch",sm:"center"},children:[c.jsxs(J,{sx:{display:"flex",gap:2,flexWrap:"wrap",flex:1},children:[c.jsxs(ra,{size:"small",sx:{minWidth:150},children:[c.jsx(Ai,{children:t("gallery:filters.aiTool")}),c.jsxs(Ua,{value:d,label:t("gallery:filters.aiTool"),onChange:U=>x(U.target.value),children:[c.jsx(Jt,{value:"",children:t("gallery:filters.all")}),H.map(U=>U&&c.jsx(Jt,{value:U,children:U},U))]})]}),c.jsxs(ra,{size:"small",sx:{minWidth:120},children:[c.jsx(Ai,{children:t("gallery:filters.sortBy")}),c.jsxs(Ua,{value:l,label:t("gallery:filters.sortBy"),onChange:U=>N(U.target.value),children:[c.jsx(Jt,{value:"first_seen_date",children:t("gallery:sorting.uploadDate")}),c.jsx(Jt,{value:"file_size",children:t("gallery:sorting.fileSize")}),c.jsx(Jt,{value:"width",children:t("gallery:sorting.width")}),c.jsx(Jt,{value:"height",children:t("gallery:sorting.height")})]})]}),c.jsxs(ra,{size:"small",sx:{minWidth:100},children:[c.jsx(Ai,{children:t("gallery:filters.sortOrder")}),c.jsxs(Ua,{value:u,label:t("gallery:filters.sortOrder"),onChange:U=>M(U.target.value),children:[c.jsx(Jt,{value:"DESC",children:t("gallery:sorting.descending")}),c.jsx(Jt,{value:"ASC",children:t("gallery:sorting.ascending")})]})]})]}),c.jsxs(J,{sx:{display:"flex",gap:1,alignItems:"center"},children:[D&&c.jsx(Ke,{variant:"outlined",size:"small",onClick:$,startIcon:c.jsx(zRe,{}),children:t("gallery:actions.clearFilters")}),c.jsx(Xt,{title:t("gallery:actions.refresh"),children:c.jsx("span",{children:c.jsx(ht,{onClick:_,disabled:n,children:c.jsx(wo,{})})})})]})]}),D&&c.jsx(J,{sx:{mt:2,display:"flex",gap:1,flexWrap:"wrap"},children:d&&c.jsx(yt,{label:t("gallery:filters.aiToolLabel",{tool:d}),onDelete:()=>x(""),size:"small",variant:"outlined"})})]}),r&&c.jsx(J,{sx:{mb:{xs:2,sm:3},p:2,bgcolor:"error.light",color:"error.contrastText",borderRadius:2},children:c.jsx(re,{variant:"body2",children:r})}),c.jsx(H5,{images:e,loading:n,selectable:!0,selectedIds:C,onSelectionChange:j,pageSize:i,onPageSizeChange:m,currentPage:a,totalPages:s,total:o,onPageChange:h,onImageDelete:O}),c.jsx(YO,{selectedCount:I,selectedIds:C,selectedImages:e.filter(U=>U.id&&C.includes(U.id)),onSelectionClear:E,onActionComplete:L})]})},DFe=t=>{const e=bt.c(12),{searchText:n,onSearchTextChange:r,onKeyPress:a}=t;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={py:2},e[0]=i):i=e[0];let s,o;e[1]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex",alignItems:"center",gap:1,mb:2},o=c.jsx(re,{variant:"body2",color:"text.secondary",children:"   ."}),e[1]=s,e[2]=o):(s=e[1],o=e[2]);let l;e[3]===Symbol.for("react.memo_cache_sentinel")?(l=c.jsxs(un,{spacing:.5,children:[c.jsx(re,{variant:"caption",children:"  :  ,  General/Character"}),c.jsx(re,{variant:"caption",children:"  "}),c.jsx(re,{variant:"caption",children:'   " " '})]}),e[3]=l):l=e[3];let u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u=c.jsxs(J,{sx:s,children:[o,c.jsx(Xt,{title:l,arrow:!0,placement:"right",children:c.jsx(ht,{size:"small",sx:{p:.5},children:c.jsx(H1,{fontSize:"small"})})})]}),e[4]=u):u=e[4];let d;e[5]!==r?(d=y=>r(y.target.value),e[5]=r,e[6]=d):d=e[6];let h;e[7]===Symbol.for("react.memo_cache_sentinel")?(h={startAdornment:c.jsx(Yk,{position:"start",children:c.jsx(Jf,{})})},e[7]=h):h=e[7];let m;return e[8]!==a||e[9]!==n||e[10]!==d?(m=c.jsxs(J,{sx:i,children:[u,c.jsx(jt,{fullWidth:!0,variant:"outlined",placeholder:"  (: girl, masterpiece, hatsune miku)",value:n,onChange:d,onKeyPress:a,InputProps:h})]}),e[8]=a,e[9]=n,e[10]=d,e[11]=m):m=e[11],m},MFe={exclude:{label:"",color:"#f44336",icon:WX,bgColor:"#ffebee",darkBgColor:"#5d1f1f"},or:{label:"OR",color:"#2196f3",icon:DO,bgColor:"#e3f2fd",darkBgColor:"#1a3a52"},and:{label:"AND",color:"#4caf50",icon:tQ,bgColor:"#e8f5e9",darkBgColor:"#1e4620"}},NFe={positive_prompt:" ",negative_prompt:" ",auto_tag:"",basic:""},PFe={prompt_contains:"",prompt_regex:"",negative_prompt_contains:"",negative_prompt_regex:"",auto_tag_exists:" ",auto_tag_has_character:" ",auto_tag_rating:"Rating ",auto_tag_rating_score:"Rating ",auto_tag_general:"General ",auto_tag_character:"Character ",auto_tag_model:"",ai_tool:"AI ",model_name:""},LFe=t=>{const e=bt.c(64),{groupType:n,condition:r,onRemove:a,onEdit:i}=t,s=MFe[n],o=s.icon;let l;e[0]!==r.category||e[1]!==r.max_score||e[2]!==r.min_score||e[3]!==r.rating_type||e[4]!==r.type||e[5]!==r.value?(l=(()=>{const ge=NFe[r.category]||r.category,oe=PFe[r.type]||r.type;let ue=String(r.value);typeof r.value=="boolean"&&(ue=r.value?"":""),r.type==="auto_tag_rating"&&r.rating_type&&(ue=r.rating_type);let he="";if(r.min_score!==void 0||r.max_score!==void 0){const ve=r.min_score??0,me=r.max_score??1;he=` (${ve.toFixed(2)} ~ ${me.toFixed(2)})`}return{category:ge,type:oe,value:ue,scoreRange:he}})(),e[0]=r.category,e[1]=r.max_score,e[2]=r.min_score,e[3]=r.rating_type,e[4]=r.type,e[5]=r.value,e[6]=l):l=e[6];const{category:u,type:d,value:h,scoreRange:m}=l,y=`3px solid ${s.color}`;let x;e[7]===Symbol.for("react.memo_cache_sentinel")?(x={boxShadow:3,transform:"translateY(-1px)"},e[7]=x):x=e[7];let v;e[8]!==s.bgColor||e[9]!==s.darkBgColor?(v=pe=>pe.palette.mode==="dark"?s.darkBgColor:s.bgColor,e[8]=s.bgColor,e[9]=s.darkBgColor,e[10]=v):v=e[10];let _;e[11]!==y||e[12]!==v?(_={height:"100%",borderLeft:y,position:"relative",transition:"all 0.2s ease-in-out","&:hover":x,bgcolor:v},e[11]=y,e[12]=v,e[13]=_):_=e[13];let C;e[14]===Symbol.for("react.memo_cache_sentinel")?(C={p:1.5,"&:last-child":{pb:1.5}},e[14]=C):C=e[14];let w;e[15]===Symbol.for("react.memo_cache_sentinel")?(w={display:"flex",alignItems:"center",justifyContent:"space-between"},e[15]=w):w=e[15];let T;e[16]===Symbol.for("react.memo_cache_sentinel")?(T={fontSize:"0.875rem"},e[16]=T):T=e[16];let E;e[17]!==o?(E=c.jsx(o,{sx:T}),e[17]=o,e[18]=E):E=e[18];let I;e[19]===Symbol.for("react.memo_cache_sentinel")?(I={color:"white"},e[19]=I):I=e[19];let j;e[20]!==s.color?(j={bgcolor:s.color,color:"white",fontWeight:600,fontSize:"0.75rem",height:"24px","& .MuiChip-icon":I},e[20]=s.color,e[21]=j):j=e[21];let O;e[22]!==s.label||e[23]!==j||e[24]!==E?(O=c.jsx(yt,{icon:E,label:s.label,size:"small",sx:j}),e[22]=s.label,e[23]=j,e[24]=E,e[25]=O):O=e[25];let L;e[26]===Symbol.for("react.memo_cache_sentinel")?(L={display:"flex",gap:.5},e[26]=L):L=e[26];let N;e[27]===Symbol.for("react.memo_cache_sentinel")?(N={p:.5,color:"primary.main","&:hover":{bgcolor:"primary.light",color:"primary.dark"}},e[27]=N):N=e[27];let M;e[28]===Symbol.for("react.memo_cache_sentinel")?(M=c.jsx(zd,{sx:{fontSize:"1rem"}}),e[28]=M):M=e[28];let H;e[29]!==i?(H=c.jsx(ht,{size:"small",onClick:i,sx:N,children:M}),e[29]=i,e[30]=H):H=e[30];let P;e[31]===Symbol.for("react.memo_cache_sentinel")?(P={p:.5,color:"error.main","&:hover":{bgcolor:"error.light",color:"error.dark"}},e[31]=P):P=e[31];let $;e[32]===Symbol.for("react.memo_cache_sentinel")?($=c.jsx(Np,{sx:{fontSize:"1rem"}}),e[32]=$):$=e[32];let D;e[33]!==a?(D=c.jsx(ht,{size:"small",onClick:a,sx:P,children:$}),e[33]=a,e[34]=D):D=e[34];let U;e[35]!==H||e[36]!==D?(U=c.jsxs(J,{sx:L,children:[H,D]}),e[35]=H,e[36]=D,e[37]=U):U=e[37];let F;e[38]!==O||e[39]!==U?(F=c.jsxs(J,{sx:w,children:[O,U]}),e[38]=O,e[39]=U,e[40]=F):F=e[40];let W;e[41]===Symbol.for("react.memo_cache_sentinel")?(W={fontWeight:500,textTransform:"uppercase",fontSize:"0.65rem"},e[41]=W):W=e[41];let ee;e[42]!==u?(ee=c.jsx(re,{variant:"caption",color:"text.secondary",sx:W,children:u}),e[42]=u,e[43]=ee):ee=e[43];let Q;e[44]===Symbol.for("react.memo_cache_sentinel")?(Q={fontWeight:600,fontSize:"0.813rem"},e[44]=Q):Q=e[44];let K;e[45]!==d?(K=c.jsx(re,{variant:"body2",sx:Q,children:d}),e[45]=d,e[46]=K):K=e[46];let V;e[47]===Symbol.for("react.memo_cache_sentinel")?(V={bgcolor:zFe,borderRadius:1,p:.75},e[47]=V):V=e[47];let Z;e[48]===Symbol.for("react.memo_cache_sentinel")?(Z={wordBreak:"break-word",fontFamily:"monospace",fontSize:"0.75rem"},e[48]=Z):Z=e[48];let q;e[49]!==h?(q=c.jsx(re,{variant:"body2",sx:Z,children:h}),e[49]=h,e[50]=q):q=e[50];let te;e[51]!==m?(te=m&&c.jsxs(re,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.25,fontSize:"0.65rem"},children:[": ",m]}),e[51]=m,e[52]=te):te=e[52];let ae;e[53]!==q||e[54]!==te?(ae=c.jsxs(J,{sx:V,children:[q,te]}),e[53]=q,e[54]=te,e[55]=ae):ae=e[55];let ie;e[56]!==F||e[57]!==ee||e[58]!==K||e[59]!==ae?(ie=c.jsx(Ba,{sx:C,children:c.jsxs(un,{spacing:1,children:[F,ee,K,ae]})}),e[56]=F,e[57]=ee,e[58]=K,e[59]=ae,e[60]=ie):ie=e[60];let ce;return e[61]!==ie||e[62]!==_?(ce=c.jsx(gr,{sx:_,children:ie}),e[61]=ie,e[62]=_,e[63]=ce):ce=e[63],ce};function zFe(t){return t.palette.mode==="dark"?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)"}const FFe=t=>{const e={exclude:0,or:1,and:2};return[...t].sort((n,r)=>e[n.groupType]-e[r.groupType])},BFe=t=>{const e=bt.c(24),{blocks:n,onRemove:r,onEdit:a,onAdd:i}=t;let s,o,l,u;if(e[0]!==n||e[1]!==a||e[2]!==r){const _=FFe(n);o=J,s=J,e[7]===Symbol.for("react.memo_cache_sentinel")?(l={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(4, 1fr)",lg:"repeat(5, 1fr)",xl:"repeat(6, 1fr)"},gap:1.5},e[7]=l):l=e[7];let C;e[8]!==a||e[9]!==r?(C=w=>c.jsx(J,{sx:{animation:"fadeIn 0.3s ease-in-out","@keyframes fadeIn":{from:{opacity:0,transform:"translateY(10px)"},to:{opacity:1,transform:"translateY(0)"}}},children:c.jsx(LFe,{id:w.id,groupType:w.groupType,condition:w.condition,onRemove:()=>r(w.id),onEdit:()=>a(w.id)})},w.id),e[8]=a,e[9]=r,e[10]=C):C=e[10],u=_.map(C),e[0]=n,e[1]=a,e[2]=r,e[3]=s,e[4]=o,e[5]=l,e[6]=u}else s=e[3],o=e[4],l=e[5],u=e[6];let d;e[11]===Symbol.for("react.memo_cache_sentinel")?(d={bgcolor:UFe,borderColor:"primary.dark",transform:"scale(1.02)"},e[11]=d):d=e[11];let h;e[12]===Symbol.for("react.memo_cache_sentinel")?(h={display:"flex",alignItems:"center",justifyContent:"center",minHeight:120,border:"2px dashed",borderColor:"primary.main",borderRadius:2,cursor:"pointer",transition:"all 0.2s ease-in-out",bgcolor:HFe,"&:hover":d,animation:"fadeIn 0.3s ease-in-out","@keyframes fadeIn":{from:{opacity:0,transform:"translateY(10px)"},to:{opacity:1,transform:"translateY(0)"}}},e[12]=h):h=e[12];let m;e[13]===Symbol.for("react.memo_cache_sentinel")?(m=c.jsx(ht,{color:"primary",sx:{width:56,height:56,bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark",transform:"rotate(90deg)"},transition:"all 0.3s ease-in-out"},children:c.jsx(Gs,{fontSize:"large"})}),e[13]=m):m=e[13];let y;e[14]!==i?(y=c.jsx(J,{onClick:i,sx:h,children:m}),e[14]=i,e[15]=y):y=e[15];let x;e[16]!==s||e[17]!==l||e[18]!==u||e[19]!==y?(x=c.jsxs(s,{sx:l,children:[u,y]}),e[16]=s,e[17]=l,e[18]=u,e[19]=y,e[20]=x):x=e[20];let v;return e[21]!==o||e[22]!==x?(v=c.jsx(o,{children:x}),e[21]=o,e[22]=x,e[23]=v):v=e[23],v};function HFe(t){return t.palette.mode==="dark"?"rgba(33, 150, 243, 0.05)":"rgba(33, 150, 243, 0.02)"}function UFe(t){return t.palette.mode==="dark"?"rgba(33, 150, 243, 0.15)":"rgba(33, 150, 243, 0.08)"}const e6={exclude:{color:"#f44336","&.Mui-selected":{backgroundColor:"rgba(244, 67, 54, 0.12)",borderColor:"#f44336 !important",color:"#f44336",fontWeight:600,"&:hover":{backgroundColor:"rgba(244, 67, 54, 0.2)"}}},or:{color:"#2196f3","&.Mui-selected":{backgroundColor:"rgba(33, 150, 243, 0.12)",borderColor:"#2196f3 !important",color:"#2196f3",fontWeight:600,"&:hover":{backgroundColor:"rgba(33, 150, 243, 0.2)"}}},and:{color:"#4caf50","&.Mui-selected":{backgroundColor:"rgba(76, 175, 80, 0.12)",borderColor:"#4caf50 !important",color:"#4caf50",fontWeight:600,"&:hover":{backgroundColor:"rgba(76, 175, 80, 0.2)"}}}},xB={positive_prompt:[{value:"prompt_contains",label:""},{value:"prompt_regex",label:""}],negative_prompt:[{value:"negative_prompt_contains",label:""},{value:"negative_prompt_regex",label:""}],auto_tag:[{value:"auto_tag_exists",label:" "},{value:"auto_tag_has_character",label:" "},{value:"auto_tag_rating",label:"Rating "},{value:"auto_tag_rating_score",label:"Rating "},{value:"auto_tag_general",label:"General "},{value:"auto_tag_character",label:"Character "},{value:"auto_tag_model",label:""}],basic:[{value:"ai_tool",label:"AI "},{value:"model_name",label:""}]},$Fe=t=>{const e=bt.c(71),{open:n,onClose:r,onAdd:a,initialData:i}=t,[s,o]=A.useState(null),[l,u]=A.useState(null),[d,h]=A.useState(""),[m,y]=A.useState(""),[x,v]=A.useState(0),[_,C]=A.useState(1),[w,T]=A.useState("general");let E,I;e[0]!==i||e[1]!==n?(E=()=>{n&&i&&(o(i.groupType),u(i.condition.category),h(i.condition.type),y(i.condition.value),v(i.condition.min_score??0),C(i.condition.max_score??1),T(i.condition.rating_type??"general"))},I=[n,i],e[0]=i,e[1]=n,e[2]=E,e[3]=I):(E=e[2],I=e[3]),A.useEffect(E,I);let j,O;e[4]!==i||e[5]!==l?(j=()=>{if(l&&!i){const Le=xB[l][0].value;h(Le),y(Le==="auto_tag_exists"||Le==="auto_tag_has_character"?!0:""),v(0),C(1),T("general")}},O=[l,i],e[4]=i,e[5]=l,e[6]=j,e[7]=O):(j=e[6],O=e[7]),A.useEffect(j,O);let L;e[8]!==r?(L=()=>{o(null),u(null),h(""),y(""),v(0),C(1),T("general"),r()},e[8]=r,e[9]=L):L=e[9];const N=L;let M;e[10]===Symbol.for("react.memo_cache_sentinel")?(M=(Le,De)=>{De!==null&&o(De)},e[10]=M):M=e[10];const H=M;let P;e[11]===Symbol.for("react.memo_cache_sentinel")?(P=(Le,De)=>{De!==null&&u(De)},e[11]=P):P=e[11];const $=P;let D;e[12]===Symbol.for("react.memo_cache_sentinel")?(D=Le=>{h(Le),y(Le==="auto_tag_exists"||Le==="auto_tag_has_character"||Le==="auto_tag_rating_score"?!0:"")},e[12]=D):D=e[12];const U=D;let F;e[13]!==d||e[14]!==m||e[15]!==N||e[16]!==_||e[17]!==x||e[18]!==a||e[19]!==w||e[20]!==l||e[21]!==s?(F=()=>{if(!s||!l||!d)return;const Le={category:l,type:d,value:m};d==="auto_tag_rating"?(Le.rating_type=w,Le.min_score=x,Le.max_score=_):(d==="auto_tag_general"||d==="auto_tag_character"||d==="auto_tag_rating_score")&&(Le.min_score=x,Le.max_score=_),a(s,Le),N()},e[13]=d,e[14]=m,e[15]=N,e[16]=_,e[17]=x,e[18]=a,e[19]=w,e[20]=l,e[21]=s,e[22]=F):F=e[22];const W=F;let ee;e[23]!==d||e[24]!==m||e[25]!==l||e[26]!==s?(ee=()=>!s||!l||!d?!1:d==="auto_tag_exists"||d==="auto_tag_has_character"||d==="auto_tag_rating_score"||d==="auto_tag_rating"?!0:typeof m=="string"?m.trim().length>0:!1,e[23]=d,e[24]=m,e[25]=l,e[26]=s,e[27]=ee):ee=e[27];const Q=ee;let K;e[28]!==d||e[29]!==m||e[30]!==_||e[31]!==x||e[32]!==w||e[33]!==l?(K=()=>l?c.jsxs(J,{children:[c.jsxs(ra,{fullWidth:!0,sx:{mb:2},children:[c.jsx(Ai,{children:" "}),c.jsx(Ua,{value:d,label:" ",onChange:Le=>U(Le.target.value),children:xB[l].map(GFe)})]}),(d==="auto_tag_exists"||d==="auto_tag_has_character")&&c.jsx(Zn,{control:c.jsx(oi,{checked:!!m,onChange:Le=>y(Le.target.checked)}),label:m?"":""}),d==="auto_tag_rating"&&c.jsxs(c.Fragment,{children:[c.jsxs(ra,{fullWidth:!0,sx:{mb:2},children:[c.jsx(Ai,{children:"Rating "}),c.jsxs(Ua,{value:w,label:"Rating ",onChange:Le=>T(Le.target.value),children:[c.jsx(Jt,{value:"general",children:"General"}),c.jsx(Jt,{value:"sensitive",children:"Sensitive"}),c.jsx(Jt,{value:"questionable",children:"Questionable"}),c.jsx(Jt,{value:"explicit",children:"Explicit"})]})]}),c.jsxs(J,{children:[c.jsxs(re,{variant:"body2",gutterBottom:!0,children:[" : ",x.toFixed(2)," ~ ",_.toFixed(2)]}),c.jsx(Ha,{value:[x,_],onChange:(Le,De)=>{const[Xe,ke]=De;v(Xe),C(ke)},min:0,max:1,step:.05,valueLabelDisplay:"auto",marks:!0})]})]}),(d==="auto_tag_general"||d==="auto_tag_character")&&c.jsxs(c.Fragment,{children:[c.jsx(jt,{fullWidth:!0,label:"/",value:m,onChange:Le=>y(Le.target.value),placeholder:": 1girl, hatsune_miku",sx:{mb:2}}),c.jsxs(J,{children:[c.jsxs(re,{variant:"body2",gutterBottom:!0,children:[" : ",x.toFixed(2)," ~ ",_.toFixed(2)]}),c.jsx(Ha,{value:[x,_],onChange:(Le,De)=>{const[Xe,ke]=De;v(Xe),C(ke)},min:0,max:1,step:.05,valueLabelDisplay:"auto",marks:!0})]})]}),d==="auto_tag_rating_score"&&c.jsxs(J,{children:[c.jsxs(re,{variant:"body2",gutterBottom:!0,children:[" : ",x.toFixed(2)," ~ ",_.toFixed(2)]}),c.jsx(Ha,{value:[x,_],onChange:(Le,De)=>{const[Xe,ke]=De;v(Xe),C(ke)},min:0,max:1,step:.05,valueLabelDisplay:"auto",marks:!0})]}),d!=="auto_tag_exists"&&d!=="auto_tag_has_character"&&d!=="auto_tag_rating"&&d!=="auto_tag_general"&&d!=="auto_tag_character"&&d!=="auto_tag_rating_score"&&c.jsx(jt,{fullWidth:!0,label:"",value:m,onChange:Le=>y(Le.target.value),placeholder:"  "})]}):null,e[28]=d,e[29]=m,e[30]=_,e[31]=x,e[32]=w,e[33]=l,e[34]=K):K=e[34];const V=K,Z=i?" ":" ";let q;e[35]!==Z?(q=c.jsx(pr,{children:c.jsx(re,{variant:"h6",fontWeight:600,children:Z})}),e[35]=Z,e[36]=q):q=e[36];let te,ae;e[37]===Symbol.for("react.memo_cache_sentinel")?(te={mb:3},ae=c.jsx(re,{variant:"subtitle2",gutterBottom:!0,fontWeight:500,children:" "}),e[37]=te,e[38]=ae):(te=e[37],ae=e[38]);let ie;e[39]===Symbol.for("react.memo_cache_sentinel")?(ie={mt:1},e[39]=ie):ie=e[39];let ce;e[40]===Symbol.for("react.memo_cache_sentinel")?(ce=c.jsxs(Dm,{value:"exclude",sx:e6.exclude,children:[c.jsx(WX,{sx:{mr:.5,fontSize:"1.2rem"}}),""]}),e[40]=ce):ce=e[40];let pe;e[41]===Symbol.for("react.memo_cache_sentinel")?(pe=c.jsxs(Dm,{value:"or",sx:e6.or,children:[c.jsx(DO,{sx:{mr:.5,fontSize:"1.2rem"}}),"OR"]}),e[41]=pe):pe=e[41];let ge;e[42]===Symbol.for("react.memo_cache_sentinel")?(ge=c.jsxs(Dm,{value:"and",sx:e6.and,children:[c.jsx(tQ,{sx:{mr:.5,fontSize:"1.2rem"}}),"AND"]}),e[42]=ge):ge=e[42];let oe;e[43]!==s?(oe=c.jsxs(J,{sx:te,children:[ae,c.jsxs(RRe,{value:s,exclusive:!0,onChange:H,fullWidth:!0,sx:ie,children:[ce,pe,ge]})]}),e[43]=s,e[44]=oe):oe=e[44];let ue;e[45]!==l||e[46]!==s?(ue=s&&c.jsxs(J,{sx:{mb:3},children:[c.jsx(re,{variant:"subtitle2",gutterBottom:!0,fontWeight:500,children:""}),c.jsxs(gn,{container:!0,spacing:1,sx:{mt:1},children:[c.jsx(gn,{size:{xs:6,sm:3},children:c.jsx(Dm,{value:"positive_prompt",selected:l==="positive_prompt",onChange:$,fullWidth:!0,sx:{py:1.5},children:""})}),c.jsx(gn,{size:{xs:6,sm:3},children:c.jsx(Dm,{value:"negative_prompt",selected:l==="negative_prompt",onChange:$,fullWidth:!0,sx:{py:1.5},children:""})}),c.jsx(gn,{size:{xs:6,sm:3},children:c.jsx(Dm,{value:"auto_tag",selected:l==="auto_tag",onChange:$,fullWidth:!0,sx:{py:1.5},children:""})}),c.jsx(gn,{size:{xs:6,sm:3},children:c.jsx(Dm,{value:"basic",selected:l==="basic",onChange:$,fullWidth:!0,sx:{py:1.5},children:""})})]})]}),e[45]=l,e[46]=s,e[47]=ue):ue=e[47];let he;e[48]!==V||e[49]!==l?(he=l&&c.jsxs(c.Fragment,{children:[c.jsx(yn,{sx:{my:3}}),c.jsxs(J,{children:[c.jsx(re,{variant:"subtitle2",gutterBottom:!0,fontWeight:500,sx:{mb:2},children:" "}),V()]})]}),e[48]=V,e[49]=l,e[50]=he):he=e[50];let ve;e[51]!==oe||e[52]!==ue||e[53]!==he?(ve=c.jsxs(hr,{children:[oe,ue,he]}),e[51]=oe,e[52]=ue,e[53]=he,e[54]=ve):ve=e[54];let me;e[55]===Symbol.for("react.memo_cache_sentinel")?(me={px:3,pb:2},e[55]=me):me=e[55];let le;e[56]!==N?(le=c.jsx(Ke,{onClick:N,children:""}),e[56]=N,e[57]=le):le=e[57];const Se=!Q(),be=i?"":"";let Te;e[58]!==W||e[59]!==Se||e[60]!==be?(Te=c.jsx(Ke,{variant:"contained",onClick:W,disabled:Se,children:be}),e[58]=W,e[59]=Se,e[60]=be,e[61]=Te):Te=e[61];let Ne;e[62]!==le||e[63]!==Te?(Ne=c.jsxs(yr,{sx:me,children:[le,Te]}),e[62]=le,e[63]=Te,e[64]=Ne):Ne=e[64];let Pe;return e[65]!==N||e[66]!==n||e[67]!==q||e[68]!==ve||e[69]!==Ne?(Pe=c.jsxs(or,{open:n,onClose:N,maxWidth:"sm",fullWidth:!0,disableRestoreFocus:!0,children:[q,ve,Ne]}),e[65]=N,e[66]=n,e[67]=q,e[68]=ve,e[69]=Ne,e[70]=Pe):Pe=e[70],Pe};function GFe(t){return c.jsx(Jt,{value:t.value,children:t.label},t.value)}const LJ=t=>{const e=bt.c(26),{filterBlocks:n,onAddBlock:r,onRemoveBlock:a,onEditBlock:i,showHeader:s}=t,o=s===void 0?!1:s,[l,u]=A.useState(!1),[d,h]=A.useState(null),[m,y]=A.useState(null);let x;e[0]===Symbol.for("react.memo_cache_sentinel")?(x=()=>{h(null),y(null),u(!0)},e[0]=x):x=e[0];const v=x;let _;e[1]===Symbol.for("react.memo_cache_sentinel")?(_=()=>{u(!1),h(null),y(null)},e[1]=_):_=e[1];const C=_;let w;e[2]!==n?(w=$=>{const D=n.find(U=>U.id===$);D&&(h($),y(D),u(!0))},e[2]=n,e[3]=w):w=e[3];const T=w;let E;e[4]!==d||e[5]!==r||e[6]!==i?(E=($,D)=>{d?i(d,$,D):r($,D)},e[4]=d,e[5]=r,e[6]=i,e[7]=E):E=e[7];const I=E,j=qFe;let O;e[8]===Symbol.for("react.memo_cache_sentinel")?(O={py:2},e[8]=O):O=e[8];let L;e[9]!==n.length||e[10]!==o?(L=o&&c.jsxs(J,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2,p:1.5,backgroundColor:VFe,borderRadius:1,border:"1px solid",borderColor:WFe},children:[c.jsxs(J,{children:[c.jsx(re,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:"  "}),c.jsx(re,{variant:"body2",color:"text.secondary",children:n.length>0?`${n.length}      :   OR  AND`:"    "})]}),c.jsx(Xt,{title:"  ",arrow:!0,children:c.jsx(ht,{onClick:j,size:"small",color:"primary",children:c.jsx(H1,{})})})]}),e[9]=n.length,e[10]=o,e[11]=L):L=e[11];let N;e[12]!==n||e[13]!==T||e[14]!==a?(N=c.jsx(BFe,{blocks:n,onRemove:a,onEdit:T,onAdd:v}),e[12]=n,e[13]=T,e[14]=a,e[15]=N):N=e[15];let M;e[16]!==m?(M=m?{groupType:m.groupType,condition:m.condition}:void 0,e[16]=m,e[17]=M):M=e[17];let H;e[18]!==I||e[19]!==l||e[20]!==M?(H=c.jsx($Fe,{open:l,onClose:C,onAdd:I,initialData:M}),e[18]=I,e[19]=l,e[20]=M,e[21]=H):H=e[21];let P;return e[22]!==H||e[23]!==L||e[24]!==N?(P=c.jsxs(J,{sx:O,children:[L,N,H]}),e[22]=H,e[23]=L,e[24]=N,e[25]=P):P=e[25],P};function qFe(){window.open("/help?page=filters#/help","_blank")}function VFe(t){return t.palette.mode==="dark"?"rgb(7, 19, 24)":"rgb(229, 246, 253)"}function WFe(t){return t.palette.mode==="dark","rgb(1, 67, 97)"}const vB=t=>{const e=bt.c(9),{children:n,value:r,index:a}=t,i=r!==a,s=`search-tabpanel-${a}`,o=`search-tab-${a}`;let l;e[0]!==n||e[1]!==a||e[2]!==r?(l=r===a&&c.jsx(J,{children:n}),e[0]=n,e[1]=a,e[2]=r,e[3]=l):l=e[3];let u;return e[4]!==i||e[5]!==s||e[6]!==o||e[7]!==l?(u=c.jsx("div",{role:"tabpanel",hidden:i,id:s,"aria-labelledby":o,children:l}),e[4]=i,e[5]=s,e[6]=o,e[7]=l,e[8]=u):u=e[8],u},YFe=t=>{const e=bt.c(64),{onSearch:n,loading:r}=t,a=r===void 0?!1:r,[i,s]=A.useState(0),[o,l]=A.useState("");let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=[],e[0]=u):u=e[0];const[d,h]=A.useState(u),[m,y]=A.useState(null);let x;e[1]!==d?(x=(Se,be)=>{const Te={id:`${Date.now()}-${Math.random()}`,groupType:Se,condition:be};h([...d,Te])},e[1]=d,e[2]=x):x=e[2];const v=x;let _;e[3]!==d?(_=(Se,be,Te)=>{h(d.map(Ne=>Ne.id===Se?{...Ne,groupType:be,condition:Te}:Ne))},e[3]=d,e[4]=_):_=e[4];const C=_;let w;e[5]!==d?(w=Se=>{h(d.filter(be=>be.id!==Se))},e[5]=d,e[6]=w):w=e[6];const T=w,E=KFe;let I;e[7]!==i||e[8]!==d||e[9]!==n||e[10]!==o?(I=()=>{if(y(null),i===0){if(!o.trim()){y(" ");return}const Se={simple_search:{text:o.trim()},page:1,limit:25};n(Se)}else{if(d.length===0){y("   ");return}for(let Pe=0;Pe<d.length;Pe++){const Le=E(d[Pe].condition);if(Le){y(` ${Pe+1}: ${Le}`);return}}const Se=d.filter(XFe).map(QFe),be=d.filter(ZFe).map(JFe),Te=d.filter(eBe).map(tBe),Ne={complex_filter:{exclude_group:Se.length>0?Se:void 0,or_group:be.length>0?be:void 0,and_group:Te.length>0?Te:void 0},page:1,limit:25};n(Ne)}},e[7]=i,e[8]=d,e[9]=n,e[10]=o,e[11]=I):I=e[11];const j=I;let O;e[12]!==i?(O=()=>{i===0?l(""):h([])},e[12]=i,e[13]=O):O=e[13];const L=O;let N;e[14]!==j?(N=Se=>{Se.key==="Enter"&&j()},e[14]=j,e[15]=N):N=e[15];const M=N;let H;e[16]!==i||e[17]!==d.length||e[18]!==o?(H=i===0?o.trim().length>0:d.length>0,e[16]=i,e[17]=d.length,e[18]=o,e[19]=H):H=e[19];const P=H;let $;e[20]===Symbol.for("react.memo_cache_sentinel")?($={p:3},e[20]=$):$=e[20];let D;e[21]!==m?(D=m&&c.jsx(J,{sx:{mb:2,p:2,bgcolor:"error.light",color:"error.contrastText",borderRadius:1},children:c.jsx(re,{variant:"body2",children:m})}),e[21]=m,e[22]=D):D=e[22];let U;e[23]===Symbol.for("react.memo_cache_sentinel")?(U=(Se,be)=>{s(be),y(null)},e[23]=U):U=e[23];let F,W,ee;e[24]===Symbol.for("react.memo_cache_sentinel")?(F={borderBottom:1,borderColor:"divider",mb:2},W=c.jsx(Gn,{label:" ",id:"search-tab-0","aria-controls":"search-tabpanel-0"}),ee=c.jsx(Gn,{label:" ",id:"search-tab-1","aria-controls":"search-tabpanel-1"}),e[24]=F,e[25]=W,e[26]=ee):(F=e[24],W=e[25],ee=e[26]);let Q;e[27]!==i?(Q=c.jsxs(il,{value:i,onChange:U,"aria-label":"search tabs",sx:F,children:[W,ee]}),e[27]=i,e[28]=Q):Q=e[28];let K;e[29]!==M||e[30]!==o?(K=c.jsx(DFe,{searchText:o,onSearchTextChange:l,onKeyPress:M}),e[29]=M,e[30]=o,e[31]=K):K=e[31];let V;e[32]!==i||e[33]!==K?(V=c.jsx(vB,{value:i,index:0,children:K}),e[32]=i,e[33]=K,e[34]=V):V=e[34];let Z;e[35]!==d||e[36]!==v||e[37]!==C||e[38]!==T?(Z=c.jsx(LJ,{filterBlocks:d,onAddBlock:v,onRemoveBlock:T,onEditBlock:C,showHeader:!0}),e[35]=d,e[36]=v,e[37]=C,e[38]=T,e[39]=Z):Z=e[39];let q;e[40]!==i||e[41]!==Z?(q=c.jsx(vB,{value:i,index:1,children:Z}),e[40]=i,e[41]=Z,e[42]=q):q=e[42];let te;e[43]===Symbol.for("react.memo_cache_sentinel")?(te={mt:3,alignItems:"center"},e[43]=te):te=e[43];let ae;e[44]===Symbol.for("react.memo_cache_sentinel")?(ae=c.jsx(Jf,{}),e[44]=ae):ae=e[44];const ie=a||!P;let ce;e[45]===Symbol.for("react.memo_cache_sentinel")?(ce={py:1},e[45]=ce):ce=e[45];const pe=a?" ...":"";let ge;e[46]!==j||e[47]!==ie||e[48]!==pe?(ge=c.jsx(Ke,{variant:"contained",size:"medium",startIcon:ae,onClick:j,disabled:ie,fullWidth:!0,sx:ce,children:pe}),e[46]=j,e[47]=ie,e[48]=pe,e[49]=ge):ge=e[49];const oe=a||!P;let ue,he;e[50]===Symbol.for("react.memo_cache_sentinel")?(ue={border:"1px solid",borderColor:"divider","&:hover":{backgroundColor:"action.hover"}},he=c.jsx(Ry,{}),e[50]=ue,e[51]=he):(ue=e[50],he=e[51]);let ve;e[52]!==L||e[53]!==oe?(ve=c.jsx(Xt,{title:"",arrow:!0,children:c.jsx("span",{children:c.jsx(ht,{onClick:L,disabled:oe,color:"default",sx:ue,children:he})})}),e[52]=L,e[53]=oe,e[54]=ve):ve=e[54];let me;e[55]!==ge||e[56]!==ve?(me=c.jsxs(un,{direction:"row",spacing:2,sx:te,children:[ge,ve]}),e[55]=ge,e[56]=ve,e[57]=me):me=e[57];let le;return e[58]!==D||e[59]!==Q||e[60]!==V||e[61]!==q||e[62]!==me?(le=c.jsxs(Yt,{elevation:2,sx:$,children:[D,Q,V,q,me]}),e[58]=D,e[59]=Q,e[60]=V,e[61]=q,e[62]=me,e[63]=le):le=e[63],le};function KFe(t){if(t.type==="auto_tag_exists"||t.type==="auto_tag_has_character"){if(typeof t.value!="boolean")return"  / "}else if(t.type==="auto_tag_general"||t.type==="auto_tag_character"||t.type==="prompt_contains"||t.type==="prompt_regex"||t.type==="negative_prompt_contains"||t.type==="negative_prompt_regex"||t.type==="ai_tool"||t.type==="model_name"||t.type==="auto_tag_model"){if(!t.value||typeof t.value=="string"&&t.value.trim()==="")return"  "}else if((t.type==="auto_tag_rating"||t.type==="auto_tag_rating_score")&&t.min_score===void 0&&t.max_score===void 0)return"     ";return null}function XFe(t){return t.groupType==="exclude"}function QFe(t){return t.condition}function ZFe(t){return t.groupType==="or"}function JFe(t){return t.condition}function eBe(t){return t.groupType==="and"}function tBe(t){return t.condition}const nBe=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!1),[a,i]=A.useState(null),[s,o]=A.useState(1),[l,u]=A.useState(25),[d,h]=A.useState(0),[m,y]=A.useState(0),[x,v]=A.useState(null),[_,C]=A.useState(null),[w,T]=A.useState(null),[E,I]=A.useState([]),j=A.useCallback(async($,D)=>{r(!0),i(null);const U={...$,page:$.page||1,limit:$.limit||l};try{let F;if(D){const W={...D,page:U.page,limit:U.limit};F=await ba.searchByAutoTags(W),C(W)}else F=await ba.searchImages(U),C(null);F.success&&F.data?(e(F.data.images),h(F.data.totalPages),y(F.data.total),o(F.data.page),v(U)):(i(F.error||" ."),e([]),y(0),h(0))}catch(F){i("   ."),e([]),y(0),h(0),console.error("Search error:",F)}finally{r(!1)}},[l]),O=A.useCallback(async $=>{r(!0),i(null);const D={...$,page:$.page||1,limit:$.limit||l};try{const[U,F]=await Promise.all([ba.searchComplex(D),ba.searchComplexIds(D)]);U.success&&U.data?(e(U.data.images),h(U.data.totalPages),y(U.data.total),o(U.data.page),T(D),v(null),C(null),F.success&&F.data&&I(F.data.composite_hashes)):(i(U.error||" ."),e([]),y(0),h(0),I([]))}catch(U){const F=U.response?.data?.error||U.message||"   .";i(F),e([]),y(0),h(0),I([]),console.error("Complex search error:",{message:U.message,response:U.response?.data,request:D})}finally{r(!1)}},[l]),L=A.useCallback($=>{if(w){const D={...w,page:$};O(D)}else if(x){const D={...x,page:$};j(D,_||void 0)}},[w,x,_,O,j]),N=A.useCallback($=>{if(u($),w){const D={...w,page:1,limit:$};O(D)}else if(x){const D={...x,page:1,limit:$};j(D,_||void 0)}localStorage.setItem("searchPageSize",$.toString())},[w,x,_,O,j]),M=A.useCallback(async $=>{r(!0);try{await ba.deleteImages($),w?await O(w):x&&await j(x,_||void 0)}catch(D){i("  ."),console.error("Error deleting images:",D)}finally{r(!1)}},[w,x,_,O,j]),H=A.useCallback(()=>{w?O(w):x&&j(x,_||void 0)},[w,x,_,O,j]),P=A.useCallback(()=>{e([]),y(0),h(0),o(1),v(null),C(null),T(null),i(null)},[]);return je.useEffect(()=>{const $=localStorage.getItem("searchPageSize");if($){const D=parseInt($);[25,50,100].includes(D)&&u(D)}},[]),{images:t,loading:n,error:a,currentPage:s,pageSize:l,totalPages:d,total:m,lastSearchParams:x,lastComplexRequest:w,allResultIds:E,searchImages:j,searchComplex:O,changePage:L,changePageSize:N,deleteImages:M,refreshSearch:H,clearSearch:P}},rBe=()=>{const t=bt.c(77);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=["search","common"],t[0]=e):e=t[0];const{t:n}=$t(e),{images:r,loading:a,error:i,currentPage:s,pageSize:o,totalPages:l,total:u,lastSearchParams:d,lastComplexRequest:h,searchComplex:m,changePage:y,changePageSize:x,deleteImages:v,refreshSearch:_,clearSearch:C}=nBe(),{selectedIds:w,toggleSelection:T,selectAll:E,deselectAll:I,selectedCount:j}=PJ();let O;t[1]!==I||t[2]!==m?(O=ve=>{I(),m(ve)},t[1]=I,t[2]=m,t[3]=O):O=t[3];const L=O;let N;t[4]!==I||t[5]!==r.length||t[6]!==E||t[7]!==w||t[8]!==T?(N=ve=>{if(ve.length===0)I();else if(ve.length===r.length)E(ve);else{const me=ve.find(Se=>!w.includes(Se)),le=w.find(Se=>!ve.includes(Se));me?T(me):le&&T(le)}},t[4]=I,t[5]=r.length,t[6]=E,t[7]=w,t[8]=T,t[9]=N):N=t[9];const M=N;let H;t[10]!==v||t[11]!==r||t[12]!==w||t[13]!==T?(H=async ve=>{await v([ve]);const me=r.find(le=>le.composite_hash===ve);me?.id&&w.includes(me.id)&&T(me.id)},t[10]=v,t[11]=r,t[12]=w,t[13]=T,t[14]=H):H=t[14];const P=H;let $;t[15]!==I||t[16]!==_?($=()=>{I(),_()},t[15]=I,t[16]=_,t[17]=$):$=t[17];const D=$,U=d!==null||h!==null,F=r.length>0;let W;t[18]===Symbol.for("react.memo_cache_sentinel")?(W={width:"100%"},t[18]=W):W=t[18];let ee;t[19]===Symbol.for("react.memo_cache_sentinel")?(ee={mb:{xs:2,sm:3}},t[19]=ee):ee=t[19];let Q;t[20]===Symbol.for("react.memo_cache_sentinel")?(Q={fontSize:{xs:"1.75rem",sm:"2rem",md:"2.25rem"},fontWeight:600},t[20]=Q):Q=t[20];let K;t[21]!==n?(K=n("search:title"),t[21]=n,t[22]=K):K=t[22];let V;t[23]!==K?(V=c.jsx(re,{variant:"h4",component:"h1",gutterBottom:!0,sx:Q,children:K}),t[23]=K,t[24]=V):V=t[24];let Z;t[25]===Symbol.for("react.memo_cache_sentinel")?(Z={fontSize:{xs:"0.875rem",sm:"1rem"}},t[25]=Z):Z=t[25];let q;t[26]!==n?(q=n("search:description"),t[26]=n,t[27]=q):q=t[27];let te;t[28]!==q?(te=c.jsx(re,{variant:"body1",color:"text.secondary",sx:Z,children:q}),t[28]=q,t[29]=te):te=t[29];let ae;t[30]!==te||t[31]!==V?(ae=c.jsxs(J,{sx:ee,children:[V,te]}),t[30]=te,t[31]=V,t[32]=ae):ae=t[32];let ie;t[33]===Symbol.for("react.memo_cache_sentinel")?(ie={mb:{xs:2,sm:3}},t[33]=ie):ie=t[33];let ce;t[34]!==L||t[35]!==a?(ce=c.jsx(J,{sx:ie,children:c.jsx(YFe,{onSearch:L,loading:a})}),t[34]=L,t[35]=a,t[36]=ce):ce=t[36];let pe;t[37]!==C||t[38]!==F||t[39]!==U||t[40]!==a||t[41]!==_||t[42]!==n||t[43]!==u?(pe=U&&c.jsx(J,{sx:{mb:{xs:2,sm:3}},children:c.jsxs(un,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"stretch",sm:"center"},spacing:2,children:[c.jsxs(J,{children:[c.jsx(re,{variant:"h6",children:n("search:results.title")}),c.jsx(re,{variant:"body2",color:"text.secondary",children:a?n("search:results.searching"):n("search:results.found",{count:u})})]}),c.jsxs(J,{sx:{display:"flex",gap:1},children:[c.jsx(Ke,{variant:"outlined",size:"small",onClick:C,startIcon:c.jsx(Ry,{}),children:n("search:results.reset")}),F&&c.jsx(Ke,{variant:"outlined",size:"small",onClick:_,disabled:a,startIcon:c.jsx(wo,{}),children:n("search:results.refresh")})]})]})}),t[37]=C,t[38]=F,t[39]=U,t[40]=a,t[41]=_,t[42]=n,t[43]=u,t[44]=pe):pe=t[44];let ge;t[45]!==i?(ge=i&&c.jsx(St,{severity:"error",sx:{mb:{xs:2,sm:3},borderRadius:2},children:i}),t[45]=i,t[46]=ge):ge=t[46];let oe;t[47]!==y||t[48]!==x||t[49]!==s||t[50]!==P||t[51]!==M||t[52]!==F||t[53]!==U||t[54]!==r||t[55]!==d||t[56]!==a||t[57]!==o||t[58]!==w||t[59]!==n||t[60]!==u||t[61]!==l?(oe=U?F?c.jsx(H5,{images:r,loading:a,selectable:!0,selectedIds:w,onSelectionChange:M,pageSize:o,onPageSizeChange:x,currentPage:s,totalPages:l,total:u,onPageChange:y,onImageDelete:P,searchParams:d||void 0}):a?null:c.jsxs(J,{sx:{textAlign:"center",py:8},children:[c.jsx(re,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:n("search:results.noResults")}),c.jsx(re,{variant:"body2",color:"text.secondary",children:n("search:results.noResultsHint")})]}):c.jsxs(J,{sx:{textAlign:"center",py:8},children:[c.jsx(re,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:n("search:results.initialMessage")}),c.jsx(re,{variant:"body2",color:"text.secondary",children:n("search:results.initialHint")})]}),t[47]=y,t[48]=x,t[49]=s,t[50]=P,t[51]=M,t[52]=F,t[53]=U,t[54]=r,t[55]=d,t[56]=a,t[57]=o,t[58]=w,t[59]=n,t[60]=u,t[61]=l,t[62]=oe):oe=t[62];let ue;t[63]!==I||t[64]!==D||t[65]!==F||t[66]!==r||t[67]!==j||t[68]!==w?(ue=F&&c.jsx(YO,{selectedCount:j,selectedIds:w,selectedImages:r.filter(ve=>ve.id&&w.includes(ve.id)),onSelectionClear:I,onActionComplete:D}),t[63]=I,t[64]=D,t[65]=F,t[66]=r,t[67]=j,t[68]=w,t[69]=ue):ue=t[69];let he;return t[70]!==ae||t[71]!==ce||t[72]!==pe||t[73]!==ge||t[74]!==oe||t[75]!==ue?(he=c.jsxs(J,{sx:W,children:[ae,ce,pe,ge,oe,ue]}),t[70]=ae,t[71]=ce,t[72]=pe,t[73]=ge,t[74]=oe,t[75]=ue,t[76]=he):he=t[76],he},aBe=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],iBe=t=>{const e=bt.c(55),{formData:n,onFormChange:r,availableParents:a,currentGroupId:i,isEditMode:s}=t;let o;e[0]!==a?(o=a===void 0?[]:a,e[0]=a,e[1]=o):o=e[1];const l=o,u=s===void 0?!1:s;let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=["imageGroups"],e[2]=d):d=e[2];const{t:h}=$t(d);let m;e[3]!==h?(m=h("imageGroups:modal.groupName"),e[3]=h,e[4]=m):m=e[4];let y;e[5]!==r?(y=W=>r("name",W.target.value),e[5]=r,e[6]=y):y=e[6];let x;e[7]===Symbol.for("react.memo_cache_sentinel")?(x={mb:2},e[7]=x):x=e[7];let v;e[8]!==n.name||e[9]!==m||e[10]!==y?(v=c.jsx(jt,{label:m,fullWidth:!0,required:!0,value:n.name,onChange:y,sx:x,autoFocus:!0}),e[8]=n.name,e[9]=m,e[10]=y,e[11]=v):v=e[11];let _;e[12]!==h?(_=h("imageGroups:modal.description"),e[12]=h,e[13]=_):_=e[13];let C;e[14]!==r?(C=W=>r("description",W.target.value),e[14]=r,e[15]=C):C=e[15];let w;e[16]===Symbol.for("react.memo_cache_sentinel")?(w={mb:2},e[16]=w):w=e[16];let T;e[17]!==n.description||e[18]!==C||e[19]!==_?(T=c.jsx(jt,{label:_,fullWidth:!0,multiline:!0,rows:3,value:n.description,onChange:C,sx:w}),e[17]=n.description,e[18]=C,e[19]=_,e[20]=T):T=e[20];const E=n.parent_id;let I;e[21]!==r?(I=W=>r("parent_id",W),e[21]=r,e[22]=I):I=e[22];let j;e[23]!==i||e[24]!==u?(j=u&&i?[i]:[],e[23]=i,e[24]=u,e[25]=j):j=e[25];let O;e[26]!==h?(O=h("imageGroups:modal.parentGroup"),e[26]=h,e[27]=O):O=e[27];let L;e[28]!==h?(L=h("imageGroups:modal.noParent"),e[28]=h,e[29]=L):L=e[29];let N;e[30]!==l||e[31]!==n.parent_id||e[32]!==I||e[33]!==j||e[34]!==O||e[35]!==L?(N=c.jsx(wMe,{groups:l,selectedParentId:E,onParentChange:I,excludeIds:j,label:O,noParentLabel:L}),e[30]=l,e[31]=n.parent_id,e[32]=I,e[33]=j,e[34]=O,e[35]=L,e[36]=N):N=e[36];let M;e[37]!==h?(M=h("imageGroups:modal.groupColor"),e[37]=h,e[38]=M):M=e[38];let H;e[39]!==M?(H=c.jsx(re,{variant:"subtitle2",gutterBottom:!0,children:M}),e[39]=M,e[40]=H):H=e[40];let P;e[41]===Symbol.for("react.memo_cache_sentinel")?(P={display:"flex",flexWrap:"wrap",gap:1,mt:1},e[41]=P):P=e[41];let $;e[42]!==n.color||e[43]!==r?($=aBe.map(W=>c.jsx(J,{sx:{width:40,height:40,backgroundColor:W,borderRadius:"50%",cursor:"pointer",border:n.color===W?"3px solid #000":"2px solid #e0e0e0",transition:"all 0.2s","&:hover":{transform:"scale(1.15)",boxShadow:2}},onClick:()=>r("color",W),role:"button","aria-label":`Select color ${W}`,tabIndex:0,onKeyDown:ee=>{(ee.key==="Enter"||ee.key===" ")&&r("color",W)}},W)),e[42]=n.color,e[43]=r,e[44]=$):$=e[44];let D;e[45]!==$?(D=c.jsx(J,{sx:P,children:$}),e[45]=$,e[46]=D):D=e[46];let U;e[47]!==H||e[48]!==D?(U=c.jsxs(J,{children:[H,D]}),e[47]=H,e[48]=D,e[49]=U):U=e[49];let F;return e[50]!==T||e[51]!==N||e[52]!==U||e[53]!==v?(F=c.jsxs(J,{children:[v,T,N,U]}),e[50]=T,e[51]=N,e[52]=U,e[53]=v,e[54]=F):F=e[54],F},sBe=({enabled:t,conditions:e,onEnabledChange:n,onConditionsChange:r})=>{const{t:a}=$t(["imageGroups"]),[i,s]=A.useState(()=>{const m=[];let y=0;return e.exclude_group&&e.exclude_group.forEach(x=>{m.push({id:`exclude-${y++}`,groupType:"exclude",condition:x})}),e.or_group&&e.or_group.forEach(x=>{m.push({id:`or-${y++}`,groupType:"or",condition:x})}),e.and_group&&e.and_group.forEach(x=>{m.push({id:`and-${y++}`,groupType:"and",condition:x})}),m});je.useEffect(()=>{const m=i.filter(_=>_.groupType==="exclude").map(_=>_.condition),y=i.filter(_=>_.groupType==="or").map(_=>_.condition),x=i.filter(_=>_.groupType==="and").map(_=>_.condition),v={exclude_group:m.length>0?m:void 0,or_group:y.length>0?y:void 0,and_group:x.length>0?x:void 0};r(v)},[i]);const o=(m,y)=>{const x={id:`${m}-${Date.now()}-${Math.random()}`,groupType:m,condition:y};s([...i,x])},l=(m,y,x)=>{s(i.map(v=>v.id===m?{...v,groupType:y,condition:x}:v))},u=m=>{s(i.filter(y=>y.id!==m))},d=()=>{window.open("/help?page=filters#/help","_blank")},h=t?(e.exclude_group?.length||0)+(e.or_group?.length||0)+(e.and_group?.length||0):0;return c.jsxs(J,{children:[c.jsxs(J,{sx:{mb:3},children:[c.jsx(Zn,{control:c.jsx(oi,{checked:t,onChange:m=>n(m.target.checked),color:"primary"}),label:c.jsx(re,{variant:"subtitle1",fontWeight:500,children:a("imageGroups:modal.autoCollectEnable")})}),c.jsx(re,{variant:"body2",color:"text.secondary",sx:{mt:1,ml:4},children:a("imageGroups:modal.autoCollectDescription")})]}),t&&c.jsxs(J,{children:[c.jsxs(J,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2,p:1.5,backgroundColor:m=>m.palette.mode==="dark"?"rgb(7, 19, 24)":"rgb(229, 246, 253)",borderRadius:1,border:"1px solid",borderColor:m=>(m.palette.mode==="dark","rgb(1, 67, 97)")},children:[c.jsx(re,{variant:"body2",color:"text.secondary",children:h>0?`${h}  .  :   OR  AND`:"    "}),c.jsx(Xt,{title:"  ",arrow:!0,children:c.jsx(ht,{onClick:d,size:"small",color:"primary",children:c.jsx(H1,{fontSize:"small"})})})]}),c.jsx(LJ,{filterBlocks:i,onAddBlock:o,onRemoveBlock:u,onEditBlock:l})]}),!t&&c.jsx(J,{sx:{border:"1px solid",borderColor:"divider",borderRadius:2,p:3,textAlign:"center",backgroundColor:m=>m.palette.mode==="dark"?"background.paper":"grey.50"},children:c.jsx(re,{variant:"body2",color:"text.secondary",children:"           ."})})]})},oBe=t=>{const e=bt.c(61),{open:n,group:r,childCount:a,onClose:i,onConfirm:s}=t;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=["imageGroups","common"],e[0]=o):o=e[0];const{t:l}=$t(o),[u,d]=je.useState("orphan"),h=a>0;let m;e[1]!==u||e[2]!==s?(m=()=>{s(u==="cascade")},e[1]=u,e[2]=s,e[3]=m):m=e[3];const y=m;if(!r)return null;let x;e[4]!==l?(x=l("imageGroups:deleteConfirm.title"),e[4]=l,e[5]=x):x=e[5];let v;e[6]!==x?(v=c.jsx(pr,{children:x}),e[6]=x,e[7]=v):v=e[7];let _;e[8]===Symbol.for("react.memo_cache_sentinel")?(_={mb:2},e[8]=_):_=e[8];let C;e[9]!==r.name||e[10]!==l?(C=l("imageGroups:deleteConfirm.message",{name:r.name}),e[9]=r.name,e[10]=l,e[11]=C):C=e[11];let w;e[12]!==C?(w=c.jsx(J,{sx:_,children:c.jsx(re,{variant:"body1",gutterBottom:!0,children:C})}),e[12]=C,e[13]=w):w=e[13];let T;e[14]===Symbol.for("react.memo_cache_sentinel")?(T={mb:2,p:2,bgcolor:"action.hover",borderRadius:1},e[14]=T):T=e[14];let E;e[15]!==r.image_count||e[16]!==l?(E=l("imageGroups:deleteConfirm.groupInfo.imageCount",{count:r.image_count}),e[15]=r.image_count,e[16]=l,e[17]=E):E=e[17];let I;e[18]!==E?(I=c.jsx(re,{variant:"body2",color:"text.secondary",children:E}),e[18]=E,e[19]=I):I=e[19];let j;e[20]!==a||e[21]!==h||e[22]!==l?(j=h&&c.jsx(re,{variant:"body2",color:"text.secondary",children:l("imageGroups:deleteConfirm.groupInfo.childCount",{count:a})}),e[20]=a,e[21]=h,e[22]=l,e[23]=j):j=e[23];let O;e[24]!==I||e[25]!==j?(O=c.jsxs(J,{sx:T,children:[I,j]}),e[24]=I,e[25]=j,e[26]=O):O=e[26];let L;e[27]===Symbol.for("react.memo_cache_sentinel")?(L={mb:2},e[27]=L):L=e[27];let N;e[28]!==l?(N=l("imageGroups:deleteConfirm.warning.imageAssociations"),e[28]=l,e[29]=N):N=e[29];let M;e[30]!==N?(M=c.jsx(St,{severity:"warning",sx:L,children:N}),e[30]=N,e[31]=M):M=e[31];let H;e[32]!==a||e[33]!==u||e[34]!==h||e[35]!==l?(H=h&&c.jsxs(ra,{component:"fieldset",fullWidth:!0,children:[c.jsx(re,{variant:"subtitle2",gutterBottom:!0,children:l("imageGroups:deleteConfirm.options.title")}),c.jsxs(I2,{value:u,onChange:Q=>d(Q.target.value),children:[c.jsx(Zn,{value:"orphan",control:c.jsx(mu,{}),label:c.jsxs(J,{children:[c.jsx(re,{variant:"body2",children:l("imageGroups:deleteConfirm.options.orphan.label")}),c.jsx(re,{variant:"caption",color:"text.secondary",children:l("imageGroups:deleteConfirm.options.orphan.description")})]})}),c.jsx(Zn,{value:"cascade",control:c.jsx(mu,{color:"error"}),label:c.jsxs(J,{children:[c.jsx(re,{variant:"body2",color:"error",children:l("imageGroups:deleteConfirm.options.cascade.label")}),c.jsx(re,{variant:"caption",color:"text.secondary",children:l("imageGroups:deleteConfirm.options.cascade.description",{count:a})})]})})]})]}),e[32]=a,e[33]=u,e[34]=h,e[35]=l,e[36]=H):H=e[36];let P;e[37]!==O||e[38]!==M||e[39]!==H||e[40]!==w?(P=c.jsxs(hr,{children:[w,O,M,H]}),e[37]=O,e[38]=M,e[39]=H,e[40]=w,e[41]=P):P=e[41];let $;e[42]!==l?($=l("common:cancel"),e[42]=l,e[43]=$):$=e[43];let D;e[44]!==i||e[45]!==$?(D=c.jsx(Ke,{onClick:i,children:$}),e[44]=i,e[45]=$,e[46]=D):D=e[46];let U;e[47]!==l?(U=l("common:delete"),e[47]=l,e[48]=U):U=e[48];let F;e[49]!==y||e[50]!==U?(F=c.jsx(Ke,{onClick:y,color:"error",variant:"contained",children:U}),e[49]=y,e[50]=U,e[51]=F):F=e[51];let W;e[52]!==D||e[53]!==F?(W=c.jsxs(yr,{children:[D,F]}),e[52]=D,e[53]=F,e[54]=W):W=e[54];let ee;return e[55]!==i||e[56]!==n||e[57]!==P||e[58]!==W||e[59]!==v?(ee=c.jsxs(or,{open:n,onClose:i,maxWidth:"sm",fullWidth:!0,children:[v,P,W]}),e[55]=i,e[56]=n,e[57]=P,e[58]=W,e[59]=v,e[60]=ee):ee=e[60],ee},SB=t=>{const e=bt.c(9),{children:n,value:r,index:a}=t,i=r!==a,s=`group-tabpanel-${a}`,o=`group-tab-${a}`;let l;e[0]!==n||e[1]!==a||e[2]!==r?(l=r===a&&c.jsx(J,{sx:{py:2},children:n}),e[0]=n,e[1]=a,e[2]=r,e[3]=l):l=e[3];let u;return e[4]!==i||e[5]!==s||e[6]!==o||e[7]!==l?(u=c.jsx("div",{role:"tabpanel",hidden:i,id:s,"aria-labelledby":o,children:l}),e[4]=i,e[5]=s,e[6]=o,e[7]=l,e[8]=u):u=e[8],u},_B=({open:t,onClose:e,onSuccess:n,group:r})=>{const{t:a}=$t(["imageGroups","common"]),[i,s]=A.useState(0),[o,l]=A.useState({name:"",description:"",color:"#2196f3",parent_id:null,auto_collect_enabled:!1}),[u,d]=A.useState({}),[h,m]=A.useState(null),[y,x]=A.useState(!1),v=!!r,{data:_=[]}=kZ(),C=IMe(),w=OMe(),T=IZ(),E=r?.child_count||0;A.useEffect(()=>{if(r)if(l({name:r.name,description:r.description||"",color:r.color||"#2196f3",parent_id:r.parent_id||null,auto_collect_enabled:!!r.auto_collect_enabled}),r.auto_collect_conditions)try{const H=JSON.parse(r.auto_collect_conditions);H&&typeof H=="object"&&("exclude_group"in H||"or_group"in H||"and_group"in H)?d(H):Array.isArray(H)?d({}):d({})}catch{d({})}else d({});else l({name:"",description:"",color:"#2196f3",parent_id:null,auto_collect_enabled:!1}),d({});m(null),s(0)},[r,t]);const I=(H,P)=>{l($=>({...$,[H]:P}))},j=H=>{d(H)},O=()=>o.name.trim()?o.auto_collect_enabled&&!(u&&typeof u=="object"&&!Array.isArray(u)?(u.exclude_group?.length||0)+(u.or_group?.length||0)+(u.and_group?.length||0)>0:u.length>0)?(m(a("imageGroups:validation.conditionRequired")),!1):!0:(m(a("imageGroups:validation.nameRequired")),!1),L=async()=>{if(O()){m(null);try{const P=u&&typeof u=="object"&&!Array.isArray(u)?(u.exclude_group?.length||0)+(u.or_group?.length||0)+(u.and_group?.length||0)>0:u.length>0,$={name:o.name.trim(),description:o.description.trim()||void 0,color:o.color,parent_id:o.parent_id||void 0,auto_collect_enabled:o.auto_collect_enabled,auto_collect_conditions:o.auto_collect_enabled&&P?u:void 0};v?await w.mutateAsync({id:r.id,data:$}):await C.mutateAsync($),n()}catch(H){console.error("Error saving group:",H),m(a(`imageGroups:messages.${v?"updateFailed":"createFailed"}`))}}},N=()=>{x(!0)},M=async H=>{if(r)try{await T.mutateAsync({id:r.id,cascade:H}),x(!1),n()}catch(P){console.error("Error deleting group:",P),m(a("imageGroups:messages.deleteFailed"))}};return c.jsxs(or,{open:t,onClose:e,maxWidth:"md",fullWidth:!0,children:[c.jsx(pr,{children:a(v?"imageGroups:modal.editTitle":"imageGroups:modal.createTitle")}),c.jsxs(hr,{dividers:!0,children:[h&&c.jsx(St,{severity:"error",sx:{mb:2},children:h}),c.jsxs(il,{value:i,onChange:(H,P)=>s(P),"aria-label":"group editor tabs",sx:{borderBottom:1,borderColor:"divider",mb:2},children:[c.jsx(Gn,{label:a("imageGroups:tabs.basicInfo"),id:"group-tab-0","aria-controls":"group-tabpanel-0"}),c.jsx(Gn,{label:a("imageGroups:tabs.autoCollect"),id:"group-tab-1","aria-controls":"group-tabpanel-1"})]}),c.jsx(SB,{value:i,index:0,children:c.jsx(iBe,{formData:o,onFormChange:I,availableParents:_,currentGroupId:r?.id,isEditMode:v})}),c.jsx(SB,{value:i,index:1,children:c.jsx(sBe,{enabled:o.auto_collect_enabled,conditions:u,onEnabledChange:H=>I("auto_collect_enabled",H),onConditionsChange:j})})]}),c.jsxs(yr,{sx:{justifyContent:"space-between"},children:[c.jsx(J,{children:v&&c.jsx(Ke,{onClick:N,color:"error",startIcon:c.jsx(xa,{}),disabled:C.isPending||w.isPending||T.isPending,children:a("common:delete")})}),c.jsxs(J,{children:[c.jsx(Ke,{onClick:e,disabled:C.isPending||w.isPending||T.isPending,children:a("imageGroups:modal.buttonCancel")}),c.jsx(Ke,{onClick:L,variant:"contained",disabled:C.isPending||w.isPending||T.isPending,startIcon:C.isPending||w.isPending?c.jsx(Kt,{size:20}):null,sx:{ml:1},children:a(v?"imageGroups:modal.buttonUpdate":"imageGroups:modal.buttonCreate")})]})]}),c.jsx(oBe,{open:y,group:r||null,childCount:E,onClose:()=>x(!1),onConfirm:M})]})},zJ=t=>{const e=bt.c(216),{open:n,onClose:r,images:a,loading:i,currentGroup:s,pageSize:o,onPageSizeChange:l,currentPage:u,totalPages:d,total:h,onPageChange:m,readOnly:y,onImagesRemoved:x,onImagesAssigned:v,groupType:_,onShowSnackbar:C}=t,w=i===void 0?!1:i,T=o===void 0?25:o,E=u===void 0?1:u,I=d===void 0?1:d,j=h===void 0?0:h,O=y===void 0?!1:y,L=_===void 0?"custom":_;let N;e[0]===Symbol.for("react.memo_cache_sentinel")?(N=["imageGroups","common"],e[0]=N):N=e[0];const{t:M}=$t(N);let H;e[1]===Symbol.for("react.memo_cache_sentinel")?(H=[],e[1]=H):H=e[1];const[P,$]=A.useState(H),[D,U]=A.useState(!1),[F,W]=A.useState(!1),[ee,Q]=A.useState(null),[K,V]=A.useState("all"),[Z,q]=A.useState(!1),[te,ae]=A.useState(null),[ie,ce]=A.useState(null),[pe,ge]=A.useState(!1);let oe,ue;e[2]!==n?(oe=()=>{n&&$([])},ue=[n],e[2]=n,e[3]=oe,e[4]=ue):(oe=e[3],ue=e[4]),A.useEffect(oe,ue);let he;e[5]===Symbol.for("react.memo_cache_sentinel")?(he=()=>{$([])},e[5]=he):he=e[5];let ve;e[6]!==E?(ve=[E],e[6]=E,e[7]=ve):ve=e[7],A.useEffect(he,ve);let me;e[8]===Symbol.for("react.memo_cache_sentinel")?(me=()=>{$([])},e[8]=me):me=e[8];const le=s?.id;let Se;e[9]!==le?(Se=[le],e[9]=le,e[10]=Se):Se=e[10],A.useEffect(me,Se);let be;e[11]!==P?(be=_r=>_r.id&&P.includes(_r.id),e[11]=P,e[12]=be):be=e[12];const Te=a.filter(be);let Ne;e[13]!==s?.id?(Ne=_r=>_r.groups?.find(Da=>Da.id===s?.id)?.collection_type==="manual",e[13]=s?.id,e[14]=Ne):Ne=e[14];const Pe=Te.some(Ne);let Le;e[15]!==s?.id?(Le=_r=>_r.groups?.find(Da=>Da.id===s?.id)?.collection_type==="auto",e[15]=s?.id,e[16]=Le):Le=e[16];const De=Te.some(Le),Xe=Pe&&!De&&P.length>0,ke=P.length>0;let Ie;e[17]===Symbol.for("react.memo_cache_sentinel")?(Ie=()=>{W(!0)},e[17]=Ie):Ie=e[17];const ye=Ie,Ce=()=>{if(W(!1),x){const _r=Te.filter(ca=>ca.groups?.find(ql=>ql.id===s?.id)?.collection_type==="manual").map(lBe).filter(cBe);x(_r)}$([])};let Me;e[18]===Symbol.for("react.memo_cache_sentinel")?(Me=()=>{U(!0)},e[18]=Me):Me=e[18];const He=Me,Qe=async _r=>{if(v){const ca=Te.map(uBe).filter(dBe);v(_r,ca),$([])}};let Je;e[19]!==s||e[20]!==L||e[21]!==n?(Je=()=>{n&&s?.id&&(ge(!0),(L==="custom"?li.getFileCountsByType(s.id):Hf.getFileCounts(s.id)).then(ca=>{ca.success&&ca.data&&ce(ca.data)}).catch(fBe).finally(()=>ge(!1)))},e[19]=s,e[20]=L,e[21]=n,e[22]=Je):Je=e[22];const Ge=s?.id;let it;e[23]!==L||e[24]!==n||e[25]!==Ge?(it=[n,Ge,L],e[23]=L,e[24]=n,e[25]=Ge,e[26]=it):it=e[26],A.useEffect(Je,it);let rt;e[27]===Symbol.for("react.memo_cache_sentinel")?(rt=_r=>{Q(_r.currentTarget)},e[27]=rt):rt=e[27];const st=rt;let ft;e[28]===Symbol.for("react.memo_cache_sentinel")?(ft=()=>{Q(null)},e[28]=ft):ft=e[28];const qt=ft,Gt=(_r,ca)=>{if(qt(),!s?.id)return;const Da=ca==="all"?ie?.[_r]||0:P.length;if(Da===0){C&&C(` ${_r==="thumbnail"?"":_r==="original"?"":""}  .`,"warning");return}Da>=100?(ae(_r),V(ca),q(!0)):bn(_r,ca)},bn=(_r,ca)=>{if(!s?.id)return;let Da;ca==="selected"&&P.length>0&&(Da=Te.map(hBe).filter(pBe));let ql;if(L==="custom")ql=li.getDownloadUrl(s.id,_r,Da);else{const Kp=Da?Da.join(","):void 0;ql=`/api/auto-folder-groups/${s.id}/download?type=${_r}${Kp?`&hashes=${Kp}`:""}`}window.open(ql,"_blank")},zn=()=>{te&&bn(te,K),q(!1),ae(null)},er=()=>P.length===0?null:Pe&&De?c.jsx(St,{severity:"info",sx:{mb:2},children:M("imageGroups:imageModal.infoMixedSelection")}):De&&!Pe?c.jsx(St,{severity:"warning",sx:{mb:2},children:M("imageGroups:imageModal.warningAutoOnly")}):null;let Wt;e[29]===Symbol.for("react.memo_cache_sentinel")?(Wt={sx:{height:"90vh",maxHeight:"90vh"}},e[29]=Wt):Wt=e[29];let Bt;e[30]===Symbol.for("react.memo_cache_sentinel")?(Bt={display:"flex",justifyContent:"space-between",alignItems:"center"},e[30]=Bt):Bt=e[30];const hn=s?.name;let _n;e[31]!==M||e[32]!==hn||e[33]!==j?(_n=M("imageGroups:imageModal.title",{name:hn,count:j}),e[31]=M,e[32]=hn,e[33]=j,e[34]=_n):_n=e[34];let Cn;e[35]!==_n?(Cn=c.jsx(re,{variant:"h6",children:_n}),e[35]=_n,e[36]=Cn):Cn=e[36];let Ut;e[37]===Symbol.for("react.memo_cache_sentinel")?(Ut={display:"flex",gap:1},e[37]=Ut):Ut=e[37];const Nn=pe||j===0;let wt;e[38]===Symbol.for("react.memo_cache_sentinel")?(wt={color:mBe},e[38]=wt):wt=e[38];let Dt;e[39]!==pe?(Dt=pe?c.jsx(Kt,{size:24}):c.jsx(tS,{}),e[39]=pe,e[40]=Dt):Dt=e[40];let an;e[41]!==Nn||e[42]!==Dt?(an=c.jsx(ht,{"aria-label":"download",onClick:st,disabled:Nn,sx:wt,children:Dt}),e[41]=Nn,e[42]=Dt,e[43]=an):an=e[43];let rn,Rn;e[44]===Symbol.for("react.memo_cache_sentinel")?(rn={color:gBe},Rn=c.jsx(Np,{}),e[44]=rn,e[45]=Rn):(rn=e[44],Rn=e[45]);let cr;e[46]!==r?(cr=c.jsx(ht,{"aria-label":"close",onClick:r,sx:rn,children:Rn}),e[46]=r,e[47]=cr):cr=e[47];let vr;e[48]!==an||e[49]!==cr?(vr=c.jsxs(J,{sx:Ut,children:[an,cr]}),e[48]=an,e[49]=cr,e[50]=vr):vr=e[50];let jr;e[51]!==Cn||e[52]!==vr?(jr=c.jsx(pr,{children:c.jsxs(J,{sx:Bt,children:[Cn,vr]})}),e[51]=Cn,e[52]=vr,e[53]=jr):jr=e[53];const sa=P.length>0&&c.jsxs(OO,{sx:{bgcolor:"action.hover",borderTop:1,borderBottom:1,borderColor:"divider"},children:[c.jsx(re,{variant:"body2",sx:{flex:1},children:M("imageGroups:imageModal.selectedCount",{count:P.length})}),c.jsx(J,{sx:{display:"flex",gap:1},children:!O&&c.jsxs(c.Fragment,{children:[c.jsx(Ke,{variant:"outlined",color:"error",startIcon:c.jsx(xa,{}),onClick:ye,disabled:!Xe,children:M("imageGroups:imageModal.buttonRemove")}),c.jsx(Ke,{variant:"outlined",color:"primary",startIcon:c.jsx(LRe,{}),onClick:He,disabled:!ke,children:M("imageGroups:imageModal.buttonAssign")})]})})]});let Yr;e[54]===Symbol.for("react.memo_cache_sentinel")?(Yr={p:2,overflow:"auto",flex:1},e[54]=Yr):Yr=e[54];let Sr;e[55]!==er?(Sr=er(),e[55]=er,e[56]=Sr):Sr=e[56];const oa=s?.id;let ji;e[57]!==E||e[58]!==a||e[59]!==w||e[60]!==m||e[61]!==l||e[62]!==T||e[63]!==P||e[64]!==oa||e[65]!==j||e[66]!==I?(ji=c.jsx(H5,{images:a,loading:w,selectable:!0,selectedIds:P,onSelectionChange:$,pageSize:T,onPageSizeChange:l,currentPage:E,totalPages:I,total:j,onPageChange:m,showCollectionType:!0,currentGroupId:oa}),e[57]=E,e[58]=a,e[59]=w,e[60]=m,e[61]=l,e[62]=T,e[63]=P,e[64]=oa,e[65]=j,e[66]=I,e[67]=ji):ji=e[67];let ti;e[68]!==Sr||e[69]!==ji?(ti=c.jsxs(hr,{sx:Yr,children:[Sr,ji]}),e[68]=Sr,e[69]=ji,e[70]=ti):ti=e[70];let Oi;e[71]!==r||e[72]!==n||e[73]!==jr||e[74]!==sa||e[75]!==ti?(Oi=c.jsxs(or,{open:n,onClose:r,maxWidth:"xl",fullWidth:!0,PaperProps:Wt,children:[jr,sa,ti]}),e[71]=r,e[72]=n,e[73]=jr,e[74]=sa,e[75]=ti,e[76]=Oi):Oi=e[76];const ll=or;let Ks;e[77]===Symbol.for("react.memo_cache_sentinel")?(Ks=()=>W(!1),e[77]=Ks):Ks=e[77];let hi;e[78]!==M?(hi=M("imageGroups:imageModal.confirmRemoveTitle"),e[78]=M,e[79]=hi):hi=e[79];let Vi;e[80]!==hi?(Vi=c.jsx(pr,{children:hi}),e[80]=hi,e[81]=Vi):Vi=e[81];const Xs=hr,Es=Dp;let Qs;e[82]!==s?.id?(Qs=_r=>_r.groups?.find(Da=>Da.id===s?.id)?.collection_type==="manual",e[82]=s?.id,e[83]=Qs):Qs=e[83];const Ts=M("imageGroups:imageModal.confirmRemoveMessage",{count:Te.filter(Qs).length});let Nr;e[84]===Symbol.for("react.memo_cache_sentinel")?(Nr=c.jsx("br",{}),e[84]=Nr):Nr=e[84];let pi;e[85]!==M?(pi=M("imageGroups:imageModal.confirmRemoveNote"),e[85]=M,e[86]=pi):pi=e[86];let Zs;e[87]!==pi?(Zs=c.jsx("strong",{children:pi}),e[87]=pi,e[88]=Zs):Zs=e[88];let Di;e[89]!==Es||e[90]!==Ts||e[91]!==Zs?(Di=c.jsxs(Es,{children:[Ts,Nr,Zs]}),e[89]=Es,e[90]=Ts,e[91]=Zs,e[92]=Di):Di=e[92];let la;e[93]!==Xs||e[94]!==Di?(la=c.jsx(Xs,{children:Di}),e[93]=Xs,e[94]=Di,e[95]=la):la=e[95];let Ga;e[96]===Symbol.for("react.memo_cache_sentinel")?(Ga=()=>W(!1),e[96]=Ga):Ga=e[96];let As;e[97]!==M?(As=M("common:buttons.cancel"),e[97]=M,e[98]=As):As=e[98];let ur;e[99]!==As?(ur=c.jsx(Ke,{onClick:Ga,children:As}),e[99]=As,e[100]=ur):ur=e[100];let Rs;e[101]!==M?(Rs=M("imageGroups:imageModal.buttonRemove"),e[101]=M,e[102]=Rs):Rs=e[102];let Js;e[103]!==Ce||e[104]!==Rs?(Js=c.jsx(Ke,{onClick:Ce,color:"error",variant:"contained",children:Rs}),e[103]=Ce,e[104]=Rs,e[105]=Js):Js=e[105];let Eo;e[106]!==ur||e[107]!==Js?(Eo=c.jsxs(yr,{children:[ur,Js]}),e[106]=ur,e[107]=Js,e[108]=Eo):Eo=e[108];let Mi;e[109]!==ll||e[110]!==F||e[111]!==Ks||e[112]!==Vi||e[113]!==la||e[114]!==Eo?(Mi=c.jsxs(ll,{open:F,onClose:Ks,children:[Vi,la,Eo]}),e[109]=ll,e[110]=F,e[111]=Ks,e[112]=Vi,e[113]=la,e[114]=Eo,e[115]=Mi):Mi=e[115];let Ni;e[116]===Symbol.for("react.memo_cache_sentinel")?(Ni=()=>U(!1),e[116]=Ni):Ni=e[116];const zu=s?.id;let Ll;e[117]!==D||e[118]!==Qe||e[119]!==P.length||e[120]!==zu?(Ll=c.jsx(Y5,{open:D,onClose:Ni,selectedImageCount:P.length,onAssign:Qe,currentGroupId:zu}),e[117]=D,e[118]=Qe,e[119]=P.length,e[120]=zu,e[121]=Ll):Ll=e[121];const Gc=!!ee;let ja;e[122]===Symbol.for("react.memo_cache_sentinel")?(ja={opacity:"1 !important"},e[122]=ja):ja=e[122];let mr;e[123]!==M?(mr=M("imageGroups:download.menuTitle"),e[123]=M,e[124]=mr):mr=e[124];let cl;e[125]!==mr?(cl=c.jsx(Jt,{disabled:!0,sx:ja,children:c.jsx(re,{variant:"subtitle2",color:"text.secondary",children:mr})}),e[125]=mr,e[126]=cl):cl=e[126];let Oa;e[127]===Symbol.for("react.memo_cache_sentinel")?(Oa={opacity:"1 !important",mt:1},e[127]=Oa):Oa=e[127];let eo;e[128]!==M?(eo=M("imageGroups:download.scopeAll"),e[128]=M,e[129]=eo):eo=e[129];let ul;e[130]!==eo?(ul=c.jsx(Jt,{disabled:!0,sx:Oa,children:c.jsx(re,{variant:"caption",color:"text.secondary",children:eo})}),e[130]=eo,e[131]=ul):ul=e[131];let mi;e[132]!==Gt?(mi=()=>Gt("thumbnail","all"),e[132]=Gt,e[133]=mi):mi=e[133];const to=!ie||ie.thumbnail===0;let qc;e[134]===Symbol.for("react.memo_cache_sentinel")?(qc=c.jsx(pu,{children:c.jsx(Eu,{fontSize:"small"})}),e[134]=qc):qc=e[134];let dl;e[135]!==M?(dl=M("imageGroups:download.typeThumbnail"),e[135]=M,e[136]=dl):dl=e[136];const fl=ie&&` (${ie.thumbnail})`;let Vc;e[137]!==dl||e[138]!==fl?(Vc=c.jsxs(Ss,{children:[dl,fl]}),e[137]=dl,e[138]=fl,e[139]=Vc):Vc=e[139];let zl;e[140]!==mi||e[141]!==to||e[142]!==Vc?(zl=c.jsxs(Jt,{onClick:mi,disabled:to,children:[qc,Vc]}),e[140]=mi,e[141]=to,e[142]=Vc,e[143]=zl):zl=e[143];let Fl;e[144]!==Gt?(Fl=()=>Gt("original","all"),e[144]=Gt,e[145]=Fl):Fl=e[145];const Fu=!ie||ie.original===0;let Qd;e[146]===Symbol.for("react.memo_cache_sentinel")?(Qd=c.jsx(pu,{children:c.jsx(nI,{fontSize:"small"})}),e[146]=Qd):Qd=e[146];let Bl;e[147]!==M?(Bl=M("imageGroups:download.typeOriginal"),e[147]=M,e[148]=Bl):Bl=e[148];const Wc=ie&&` (${ie.original})`;let Wi;e[149]!==Bl||e[150]!==Wc?(Wi=c.jsxs(Ss,{children:[Bl,Wc]}),e[149]=Bl,e[150]=Wc,e[151]=Wi):Wi=e[151];let hl;e[152]!==Fl||e[153]!==Fu||e[154]!==Wi?(hl=c.jsxs(Jt,{onClick:Fl,disabled:Fu,children:[Qd,Wi]}),e[152]=Fl,e[153]=Fu,e[154]=Wi,e[155]=hl):hl=e[155];let pl;e[156]!==Gt?(pl=()=>Gt("video","all"),e[156]=Gt,e[157]=pl):pl=e[157];const ml=!ie||ie.video===0;let no;e[158]===Symbol.for("react.memo_cache_sentinel")?(no=c.jsx(pu,{children:c.jsx(WL,{fontSize:"small"})}),e[158]=no):no=e[158];let Hl;e[159]!==M?(Hl=M("imageGroups:download.typeVideo"),e[159]=M,e[160]=Hl):Hl=e[160];const Bu=ie&&` (${ie.video})`;let Ul;e[161]!==Hl||e[162]!==Bu?(Ul=c.jsxs(Ss,{children:[Hl,Bu]}),e[161]=Hl,e[162]=Bu,e[163]=Ul):Ul=e[163];let ro;e[164]!==pl||e[165]!==ml||e[166]!==Ul?(ro=c.jsxs(Jt,{onClick:pl,disabled:ml,children:[no,Ul]}),e[164]=pl,e[165]=ml,e[166]=Ul,e[167]=ro):ro=e[167];let Pi;e[168]!==Gt||e[169]!==P.length||e[170]!==M?(Pi=P.length>0&&[c.jsx(Jt,{disabled:!0,sx:{opacity:"1 !important",mt:1},children:c.jsx(re,{variant:"caption",color:"text.secondary",children:M("imageGroups:download.scopeSelected",{count:P.length})})},"selected-header"),c.jsxs(Jt,{onClick:()=>Gt("thumbnail","selected"),children:[c.jsx(pu,{children:c.jsx(Eu,{fontSize:"small"})}),c.jsx(Ss,{children:M("imageGroups:download.typeThumbnail")})]},"selected-thumbnail"),c.jsxs(Jt,{onClick:()=>Gt("original","selected"),children:[c.jsx(pu,{children:c.jsx(nI,{fontSize:"small"})}),c.jsx(Ss,{children:M("imageGroups:download.typeOriginal")})]},"selected-original"),c.jsxs(Jt,{onClick:()=>Gt("video","selected"),children:[c.jsx(pu,{children:c.jsx(WL,{fontSize:"small"})}),c.jsx(Ss,{children:M("imageGroups:download.typeVideo")})]},"selected-video")],e[168]=Gt,e[169]=P.length,e[170]=M,e[171]=Pi):Pi=e[171];let $l;e[172]!==ee||e[173]!==qt||e[174]!==Gc||e[175]!==cl||e[176]!==ul||e[177]!==zl||e[178]!==hl||e[179]!==ro||e[180]!==Pi?($l=c.jsxs(Ay,{anchorEl:ee,open:Gc,onClose:qt,children:[cl,ul,zl,hl,ro,Pi]}),e[172]=ee,e[173]=qt,e[174]=Gc,e[175]=cl,e[176]=ul,e[177]=zl,e[178]=hl,e[179]=ro,e[180]=Pi,e[181]=$l):$l=e[181];let gl;e[182]===Symbol.for("react.memo_cache_sentinel")?(gl=()=>q(!1),e[182]=gl):gl=e[182];let qa;e[183]!==M?(qa=M("imageGroups:download.confirmTitle"),e[183]=M,e[184]=qa):qa=e[184];let yl;e[185]!==qa?(yl=c.jsx(pr,{children:qa}),e[185]=qa,e[186]=yl):yl=e[186];const bl=K==="all"?ie?.[te||"thumbnail"]||0:P.length;let To;e[187]!==M||e[188]!==bl?(To=M("imageGroups:download.confirmMessage",{count:bl}),e[187]=M,e[188]=bl,e[189]=To):To=e[189];let Ao;e[190]!==To?(Ao=c.jsx(hr,{children:c.jsx(Dp,{children:To})}),e[190]=To,e[191]=Ao):Ao=e[191];let xl;e[192]===Symbol.for("react.memo_cache_sentinel")?(xl=()=>q(!1),e[192]=xl):xl=e[192];let Yc;e[193]!==M?(Yc=M("common:buttons.cancel"),e[193]=M,e[194]=Yc):Yc=e[194];let Sa;e[195]!==Yc?(Sa=c.jsx(Ke,{onClick:xl,children:Yc}),e[195]=Yc,e[196]=Sa):Sa=e[196];let ls;e[197]!==M?(ls=M("imageGroups:download.confirmButton"),e[197]=M,e[198]=ls):ls=e[198];let Ro;e[199]!==zn||e[200]!==ls?(Ro=c.jsx(Ke,{onClick:zn,color:"primary",variant:"contained",children:ls}),e[199]=zn,e[200]=ls,e[201]=Ro):Ro=e[201];let ao;e[202]!==Sa||e[203]!==Ro?(ao=c.jsxs(yr,{children:[Sa,Ro]}),e[202]=Sa,e[203]=Ro,e[204]=ao):ao=e[204];let Kc;e[205]!==Z||e[206]!==yl||e[207]!==Ao||e[208]!==ao?(Kc=c.jsxs(or,{open:Z,onClose:gl,children:[yl,Ao,ao]}),e[205]=Z,e[206]=yl,e[207]=Ao,e[208]=ao,e[209]=Kc):Kc=e[209];let Gl;return e[210]!==Kc||e[211]!==Oi||e[212]!==Mi||e[213]!==Ll||e[214]!==$l?(Gl=c.jsxs(c.Fragment,{children:[Oi,Mi,Ll,$l,Kc]}),e[210]=Kc,e[211]=Oi,e[212]=Mi,e[213]=Ll,e[214]=$l,e[215]=Gl):Gl=e[215],Gl};function lBe(t){return t.composite_hash}function cBe(t){return t!==null}function uBe(t){return t.composite_hash}function dBe(t){return t!==null}function fBe(t){return console.error("Failed to fetch file counts:",t)}function hBe(t){return t.composite_hash}function pBe(t){return t!==null}function mBe(t){return t.palette.primary.main}function gBe(t){return t.palette.grey[500]}const FJ=t=>{const e=bt.c(25),{breadcrumb:n,currentGroupName:r,onNavigate:a,showGroupListRoot:i}=t,s=i===void 0?!1:i,{t:o}=$t();let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={mb:2,p:1,bgcolor:"background.paper",borderRadius:1},e[0]=l):l=e[0];let u;e[1]===Symbol.for("react.memo_cache_sentinel")?(u=c.jsx(nQ,{fontSize:"small"}),e[1]=u):u=e[1];let d;e[2]!==a?(d=()=>a(null),e[2]=a,e[3]=d):d=e[3];let h;e[4]===Symbol.for("react.memo_cache_sentinel")?(h={display:"flex",alignItems:"center",gap:.5,textDecoration:"none",color:"primary.main","&:hover":{textDecoration:"underline",cursor:"pointer"}},e[4]=h):h=e[4];let m;e[5]!==s?(m=s?c.jsx(wu,{fontSize:"small"}):c.jsx(JX,{fontSize:"small"}),e[5]=s,e[6]=m):m=e[6];let y;e[7]!==s||e[8]!==o?(y=s?" ":o("imageGroups:hierarchy.root"),e[7]=s,e[8]=o,e[9]=y):y=e[9];let x;e[10]!==d||e[11]!==m||e[12]!==y?(x=c.jsxs(Jk,{component:"button",variant:"body1",onClick:d,sx:h,children:[m,y]}),e[10]=d,e[11]=m,e[12]=y,e[13]=x):x=e[13];let v;if(e[14]!==n||e[15]!==a){let w;e[17]!==a?(w=T=>c.jsx(Jk,{component:"button",variant:"body1",onClick:()=>a(T.id),sx:{textDecoration:"none",color:"primary.main","&:hover":{textDecoration:"underline",cursor:"pointer"}},children:T.name},T.id),e[17]=a,e[18]=w):w=e[18],v=n.map(w),e[14]=n,e[15]=a,e[16]=v}else v=e[16];let _;e[19]!==r?(_=r&&c.jsx(re,{variant:"body1",color:"text.primary",fontWeight:"medium",children:r}),e[19]=r,e[20]=_):_=e[20];let C;return e[21]!==_||e[22]!==x||e[23]!==v?(C=c.jsx(J,{sx:l,children:c.jsxs(J5e,{separator:u,"aria-label":"group navigation",children:[x,v,_]})}),e[21]=_,e[22]=x,e[23]=v,e[24]=C):C=e[24],C};function aw(t,e){const n=bt.c(36),{groupId:r,groupType:a,interval:i,preloadCount:s,includeChildren:o,enabled:l}=e,u=a===void 0?"group":a,d=s===void 0?8:s,h=o===void 0?!0:o,m=l===void 0?!0:l,[y,x]=A.useState(0),[v,_]=A.useState(!1),[C,w]=A.useState(0),T=A.useRef(null),E=A.useRef(null);let I;n[0]!==r||n[1]!==u||n[2]!==h||n[3]!==d?(I=["groupPreviewImages",u,r,d,h],n[0]=r,n[1]=u,n[2]=h,n[3]=d,n[4]=I):I=n[4];let j;n[5]!==t||n[6]!==h||n[7]!==d?(j=()=>t(d,h),n[5]=t,n[6]=h,n[7]=d,n[8]=j):j=n[8];let O;n[9]!==m||n[10]!==I||n[11]!==j?(O={queryKey:I,queryFn:j,staleTime:3e4,gcTime:6e5,enabled:m,retry:1},n[9]=m,n[10]=I,n[11]=j,n[12]=O):O=n[12];const{data:L,isLoading:N,error:M}=Ty(O);let H;n[13]!==L?(H=L===void 0?[]:L,n[13]=L,n[14]=H):H=n[14];const P=H;let $;if(n[15]!==P){const ie=new Set;$=P.filter(ce=>!ce.composite_hash||ie.has(ce.composite_hash)?!1:(ie.add(ce.composite_hash),!0)),n[15]=P,n[16]=$}else $=n[16];const D=$,U=M instanceof Error?M:null;let F,W;n[17]!==m||n[18]!==D.length?(F=()=>{if(!m||D.length<=1)return;const ie=()=>{const ce=2e3+Math.random()*4e3;T.current=setTimeout(()=>{_(!0),w(-100),E.current=setTimeout(()=>{x(pe=>(pe+1)%D.length),w(0),_(!1),ie()},600)},ce)};return ie(),()=>{T.current&&(clearTimeout(T.current),T.current=null),E.current&&(clearTimeout(E.current),E.current=null)}},W=[m,D.length],n[17]=m,n[18]=D.length,n[19]=F,n[20]=W):(F=n[19],W=n[20]),A.useEffect(F,W);let ee;n[21]!==D.length?(ee=()=>{D.length>0&&(_(!0),w(-100),setTimeout(()=>{x(ie=>(ie+1)%D.length),w(0),_(!1)},600))},n[21]=D.length,n[22]=ee):ee=n[22];const Q=ee;let K;n[23]!==D.length?(K=()=>{D.length>0&&(_(!0),w(100),setTimeout(()=>{x(ie=>(ie-1+D.length)%D.length),w(0),_(!1)},600))},n[23]=D.length,n[24]=K):K=n[24];const V=K,Z=D.length>0?(y+1)%D.length:0,q=D[y]||null,te=D[Z]||null;let ae;return n[25]!==y||n[26]!==U||n[27]!==D||n[28]!==N||n[29]!==v||n[30]!==Q||n[31]!==C||n[32]!==V||n[33]!==q||n[34]!==te?(ae={currentImage:q,nextImage:te,images:D,currentIndex:y,isTransitioning:v,offset:C,isLoading:N,error:U,next:Q,previous:V},n[25]=y,n[26]=U,n[27]=D,n[28]=N,n[29]=v,n[30]=Q,n[31]=C,n[32]=V,n[33]=q,n[34]=te,n[35]=ae):ae=n[35],ae}function yBe({group:t,onClick:e}){const n=Gd(),r=A.useCallback(async(E,I)=>{try{return(await Hf.getPreviewImages(t.id,E,I)).data||[]}catch(j){return console.error(`Failed to load preview images for auto folder group ${t.id}:`,j),[]}},[t.id]),{currentImage:a,nextImage:i,images:s,isTransitioning:o,offset:l,isLoading:u}=aw(r,{groupId:t.id,groupType:"auto-folder",interval:3e3,preloadCount:8,includeChildren:!0,enabled:!0}),d=A.useMemo(()=>a?.file_type==="video",[a]),h=A.useMemo(()=>a?.file_type==="animated",[a]),m=A.useMemo(()=>a?.is_processing||!a?.composite_hash,[a]),y=A.useMemo(()=>i?.file_type==="video",[i]),x=A.useMemo(()=>i?.file_type==="animated",[i]),v=A.useMemo(()=>i?.is_processing||!i?.composite_hash,[i]),_=A.useMemo(()=>`data:image/svg+xml,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 24 24">
        <rect width="24" height="24" fill="#1a1a1a"/>
        <path fill="#666" d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/>
      </svg>`)}`,[]),C=A.useMemo(()=>`/placeholders/folder-overlay-${Math.floor(Math.random()*12)+1}.webp`,[t.id]),w=A.useMemo(()=>{if(!a)return _;if(m)return`${n}/api/images/by-path/${encodeURIComponent(a.original_file_path||"")}`;if(d||h)return`${n}/api/images/${a.composite_hash}/file`;const E=a.thumbnail_path?`?v=${Date.parse(a.first_seen_date)}`:"";return`${n}/api/images/${a.composite_hash}/thumbnail${E}`},[a,d,h,m,n,_]),T=A.useMemo(()=>{if(!i)return _;if(v)return`${n}/api/images/by-path/${encodeURIComponent(i.original_file_path||"")}`;if(y||x)return`${n}/api/images/${i.composite_hash}/file`;const E=i.thumbnail_path?`?v=${Date.parse(i.first_seen_date)}`:"";return`${n}/api/images/${i.composite_hash}/thumbnail${E}`},[i,y,x,v,n,_]);return c.jsxs(gr,{sx:{cursor:"pointer",transition:"all 0.2s",aspectRatio:"5 / 7",position:"relative",overflow:"hidden",borderRadius:1,"&:hover":{transform:"translateY(-4px)",boxShadow:4,"& .hover-info":{opacity:1},"& .hover-overlay":{opacity:1}},opacity:s.length>0||u?1:.7},onClick:e,children:[c.jsx(J,{sx:{width:"100%",paddingTop:"140%"}}),a?d?c.jsx(J,{component:"video",src:w,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:1,transform:`translateX(${l}%)`,transition:o?"transform 0.6s ease-in-out":"none"}}):c.jsx($s,{component:"img",image:w,alt:t.display_name,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:1,transform:`translateX(${l}%)`,transition:o?"transform 0.6s ease-in-out":"none"}}):c.jsxs(J,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1},children:[c.jsx($s,{component:"img",image:_,alt:"Empty folder",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",opacity:.4}}),c.jsx(J,{component:"img",src:C,alt:"Placeholder",sx:{position:"absolute",top:"58%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",height:"auto",maxWidth:"200px",opacity:.8,objectFit:"contain"}})]}),s.length>1&&(y?c.jsx(J,{component:"video",src:T,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,transform:`translateX(${l+100}%)`,transition:o?"transform 0.6s ease-in-out":"none"}}):c.jsx($s,{component:"img",image:T,alt:t.display_name,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,transform:`translateX(${l+100}%)`,transition:o?"transform 0.6s ease-in-out":"none"}})),c.jsx(J,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.6) 70%, transparent 100%)",p:1.5,pb:1,zIndex:2},children:c.jsxs(J,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(ky,{sx:{color:"primary.light",fontSize:"1.2rem"}}),c.jsx(re,{variant:"subtitle1",component:"div",sx:{flex:1,color:"white",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.display_name})]})}),c.jsx(J,{className:"hover-overlay",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(0, 0, 0, 0.6)",opacity:0,transition:"opacity 0.2s",zIndex:2}}),c.jsxs(J,{className:"hover-info",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,p:2,opacity:0,transition:"opacity 0.2s",display:"flex",flexDirection:"column",gap:1.5,zIndex:3},children:[c.jsx(re,{variant:"h6",sx:{color:"white",fontWeight:600},children:t.display_name}),c.jsx(re,{variant:"caption",sx:{color:"rgba(255, 255, 255, 0.7)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.folder_path}),c.jsxs(J,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:[c.jsx(yt,{label:`${t.image_count||0} `,size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white"}}),t.child_count!==void 0&&t.child_count>0&&c.jsx(yt,{label:`${t.child_count} `,size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white"}})]})]})]})}function bBe({group:t,onClick:e}){const n=A.useCallback(async l=>{try{return(await Hf.getPreviewImages(t.id,l,!1)).data||[]}catch(u){return console.error(`Failed to load preview images for auto folder group ${t.id}:`,u),[]}},[t.id]),{currentImage:r,images:a,isLoading:i}=aw(n,{groupId:`${t.id}-direct`,groupType:"auto-folder-direct",interval:3e3,preloadCount:8,includeChildren:!1,enabled:!0}),s=A.useMemo(()=>r?.file_type==="video",[r]),o=A.useMemo(()=>r?.thumbnail_url?r.thumbnail_url:`data:image/svg+xml,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 24 24">
        <rect width="24" height="24" fill="#1a1a1a"/>
        <path fill="#666" d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
      </svg>`)}`,[r]);return c.jsxs(gr,{sx:{cursor:"pointer",transition:"all 0.2s",aspectRatio:"5 / 7",position:"relative",overflow:"hidden",borderRadius:1,border:"2px solid",borderColor:"primary.main","&:hover":{transform:"translateY(-4px)",boxShadow:4,borderColor:"primary.light","& .hover-info":{opacity:1},"& .hover-overlay":{opacity:1}},opacity:a.length>0||i?1:.7},onClick:e,children:[s?c.jsx(J,{component:"video",src:o,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transition:"opacity 0.6s ease-in-out"}}):c.jsx($s,{component:"img",image:o,alt:" ",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transition:"opacity 0.6s ease-in-out"}}),c.jsx(J,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.6) 70%, transparent 100%)",p:1.5,pb:1},children:c.jsxs(J,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(Eu,{sx:{color:"primary.light",fontSize:"1.2rem"}}),c.jsx(re,{variant:"subtitle1",component:"div",sx:{flex:1,color:"white",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:" "})]})}),c.jsx(J,{className:"hover-overlay",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(0, 0, 0, 0.6)",opacity:0,transition:"opacity 0.2s"}}),c.jsxs(J,{className:"hover-info",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,p:2,opacity:0,transition:"opacity 0.2s",display:"flex",flexDirection:"column",gap:1.5},children:[c.jsxs(re,{variant:"h6",sx:{color:"white",fontWeight:600},children:[t.display_name," - "]}),c.jsx(re,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.9)"},children:"    "}),c.jsx(J,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:c.jsx(yt,{label:`${t.image_count||0} `,size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white"}})})]})]})}const q1={all:["autoFolderGroups"],root:()=>[...q1.all,"root"],children:t=>[...q1.all,"children",t],detail:t=>[...q1.all,"detail",t]};function xBe(){const t=bt.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:q1.root(),queryFn:vBe,staleTime:3e4,gcTime:3e5,refetchOnMount:!0},t[0]=e):e=t[0],Ty(e)}async function vBe(){console.log("[useAutoFolderRootGroups] Fetching root groups...");const t=await Hf.getRootGroups();if(console.log("[useAutoFolderRootGroups] Response:",t),!t.success||!t.data)throw new Error("Failed to fetch auto-folder root groups");return t.data}function SBe(t){const e=bt.c(8);let n;e[0]!==t?(n=q1.children(t??0),e[0]=t,e[1]=n):n=e[1];let r;e[2]!==t?(r=async()=>{if(t===null)return[];console.log("[useAutoFolderChildGroups] Fetching child groups for parent:",t);const s=await Hf.getChildGroups(t);if(console.log("[useAutoFolderChildGroups] Response:",s),!s.success||!s.data)throw new Error("Failed to fetch auto-folder child groups");return s.data},e[2]=t,e[3]=r):r=e[3];const a=t!==null;let i;return e[4]!==n||e[5]!==r||e[6]!==a?(i={queryKey:n,queryFn:r,enabled:a,placeholderData:_Be,staleTime:3e4,gcTime:3e5,refetchOnMount:!0},e[4]=n,e[5]=r,e[6]=a,e[7]=i):i=e[7],Ty(i)}function _Be(t){return t}function CBe(){const t=bt.c(2),e=Lp();let n;return t[0]!==e?(n={mutationFn:wBe,onSuccess:()=>{e.invalidateQueries({queryKey:q1.all}),e.invalidateQueries({queryKey:["groupPreviewImages","auto-folder"]})}},t[0]=e,t[1]=n):n=t[1],Xv(n)}async function wBe(){const t=await Hf.rebuild();if(!t.success||!t.data)throw new Error(t.error||"Failed to rebuild auto-folder groups");return t.data}const EBe=({onShowSnackbar:t})=>{const{t:e}=$t(["imageGroups","common"]),[n,r]=A.useState(null),[a,i]=A.useState(null),[s,o]=A.useState(!0),[l,u]=A.useState(null),[d,h]=A.useState(null),[m,y]=A.useState(null),[x,v]=A.useState([]),{data:_,isLoading:C,error:w}=xBe(),{data:T,isLoading:E,error:I}=SBe(d),j=CBe(),O=(d===null?_:T)||[],L=d===null?C:E;A.useEffect(()=>{console.log("[AutoFolderGroupsContent] State:",{currentParentId:d,isGroupListView:s,rootGroupsData:_,childGroupsData:T,groups:O.length,loading:L,rootError:w,childError:I})},[d,s,_,T,L]);const[N,M]=A.useState(!1),[H,P]=A.useState(null),[$,D]=A.useState([]),[U,F]=A.useState(!1),[W,ee]=A.useState(1),[Q,K]=A.useState(1),[V,Z]=A.useState(0),[q,te]=A.useState(25),ae=async le=>{try{const Se=await Hf.getBreadcrumbPath(le);Se.success&&Se.data&&v(Se.data)}catch(Se){console.error("Error loading breadcrumb:",Se)}};A.useEffect(()=>{d!==null&&ae(d)},[d]);const ie=async()=>{try{const le=await j.mutateAsync();t(` : ${le.groups_created} , ${le.images_assigned}  (${le.duration_ms}ms)`,"success"),h(null),y(null),v([]),o(!0),setTimeout(()=>{window.location.reload()},1e3)}catch(le){console.error("Error rebuilding:",le),t("   ","error")}},ce=async le=>{h(le.id),y(le),await ae(le.id)};A.useEffect(()=>{if(O.length===1&&d!==null){const le=O[0];if(le.image_count===0&&le.child_count===1){const Se=m?.display_name||"";t(`   : ${Se}  ${le.display_name}`,"info"),ce(le)}}},[O,d]);const pe=async le=>{if(le===null)o(!0),u(null),h(null),y(null),v([]);else{h(le),await ae(le);try{const Se=await Hf.getGroup(le);Se.success&&Se.data&&y(Se.data)}catch(Se){console.error("Error loading current group info:",Se)}}},ge=()=>{r(null),i(null)},oe=()=>{const le=O.find(Se=>Se.id===a);le&&(P(le),M(!0),ue(le.id,1)),ge()},ue=async(le,Se)=>{try{F(!0);const be=await Hf.getGroupImages(le,Se,q);be.success&&be.data&&(D(be.data.items),ee(be.data.pagination.page),K(be.data.pagination.totalPages),Z(be.data.pagination.total))}catch(be){console.error("Error loading group images:",be),t(e("imageGroups:messages.imageLoadFailed"),"error")}finally{F(!1)}},he=()=>{M(!1),P(null),D([]),ee(1)},ve=le=>{H&&ue(H.id,le)},me=le=>{te(le),H&&ue(H.id,1)};return L&&O.length===0?c.jsx(J,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:c.jsx(Kt,{})}):c.jsxs(c.Fragment,{children:[c.jsxs(J,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx(St,{severity:"info",sx:{flex:1,mr:2},children:"  .     ."}),c.jsx(Ke,{variant:"contained",startIcon:j.isPending?c.jsx(Kt,{size:20}):c.jsx(wo,{}),onClick:ie,disabled:j.isPending,children:j.isPending?" ...":""})]}),!s&&c.jsx(FJ,{breadcrumb:x,onNavigate:pe,showGroupListRoot:!0}),L?c.jsx(J,{sx:{display:"flex",justifyContent:"center",alignItems:"center",py:8},children:c.jsx(Kt,{})}):O.length===0?c.jsxs(J,{sx:{textAlign:"center",py:8},children:[c.jsx(wu,{sx:{fontSize:80,color:"text.secondary",mb:2}}),c.jsx(re,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:s?"   ":"  "}),c.jsx(re,{variant:"body2",color:"text.secondary",children:s?"     ":"    "})]}):c.jsxs(gn,{container:!0,spacing:2,children:[!s&&d!==null&&m&&m.image_count>0&&c.jsx(gn,{size:{xs:6,sm:4,md:3,lg:2,xl:1.5},children:c.jsx(bBe,{group:m,onClick:()=>{P(m),M(!0),ue(m.id,1)}})},`image-view-${d}`),O.map(le=>c.jsx(gn,{size:{xs:6,sm:4,md:3,lg:2,xl:1.5},children:c.jsx(yBe,{group:le,onClick:()=>{if(s){o(!1),u(le.id),ce(le);return}le.child_count&&le.child_count>0?ce(le):le.image_count>0&&(P(le),M(!0),ue(le.id,1))}})},le.id))]}),c.jsx(Ay,{anchorEl:n,open:!!n,onClose:ge,children:c.jsx(Jt,{onClick:oe,children:" "})}),c.jsx(zJ,{open:N,onClose:he,images:$,loading:U,currentGroup:H,allGroups:[],pageSize:q,onPageSizeChange:me,currentPage:W,totalPages:Q,total:V,onPageChange:ve,onImagesRemoved:()=>{},onImagesAssigned:()=>{},readOnly:!0,groupType:"auto-folder",onShowSnackbar:t})]})};function TBe({group:t,onClick:e,onSettingsClick:n}){const r=Gd(),a=A.useCallback(j=>{j.stopPropagation(),n?.(t.id)},[t.id,n]),i=A.useCallback(async(j,O)=>{try{return(await li.getPreviewImages(t.id,j,O)).data||[]}catch(L){return console.error(`Failed to load preview images for group ${t.id}:`,L),[]}},[t.id]),{currentImage:s,nextImage:o,images:l,isTransitioning:u,offset:d,isLoading:h}=aw(i,{groupId:t.id,groupType:"group",interval:3e3,preloadCount:8,includeChildren:!0,enabled:!0}),m=A.useMemo(()=>s?.file_type==="video",[s]),y=A.useMemo(()=>s?.file_type==="animated",[s]),x=A.useMemo(()=>s?.is_processing||!s?.composite_hash,[s]),v=A.useMemo(()=>o?.file_type==="video",[o]),_=A.useMemo(()=>o?.file_type==="animated",[o]),C=A.useMemo(()=>o?.is_processing||!o?.composite_hash,[o]),w=A.useMemo(()=>`data:image/svg+xml,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 24 24">
        <rect width="24" height="24" fill="#1a1a1a"/>
        <path fill="#666" d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/>
      </svg>`)}`,[]),T=A.useMemo(()=>`/placeholders/folder-overlay-${Math.floor(Math.random()*12)+1}.webp`,[t.id]),E=A.useMemo(()=>{if(!s)return w;if(x)return`${r}/api/images/by-path/${encodeURIComponent(s.original_file_path||"")}`;if(m||y)return`${r}/api/images/${s.composite_hash}/file`;const j=s.thumbnail_path?`?v=${Date.parse(s.first_seen_date)}`:"";return`${r}/api/images/${s.composite_hash}/thumbnail${j}`},[s,m,y,x,r,w]),I=A.useMemo(()=>{if(!o)return w;if(C)return`${r}/api/images/by-path/${encodeURIComponent(o.original_file_path||"")}`;if(v||_)return`${r}/api/images/${o.composite_hash}/file`;const j=o.thumbnail_path?`?v=${Date.parse(o.first_seen_date)}`:"";return`${r}/api/images/${o.composite_hash}/thumbnail${j}`},[o,v,_,C,r,w]);return c.jsxs(gr,{sx:{cursor:"pointer",transition:"all 0.2s",aspectRatio:"5 / 7",position:"relative",overflow:"hidden",borderRadius:1,"&:hover":{transform:"translateY(-4px)",boxShadow:4,"& .hover-info":{opacity:1},"& .hover-overlay":{opacity:1}},opacity:l.length>0||h?1:.7},onClick:e,children:[c.jsx(J,{sx:{width:"100%",paddingTop:"140%"}}),s?m?c.jsx(J,{component:"video",src:E,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:1,transform:`translateX(${d}%)`,transition:u?"transform 0.6s ease-in-out":"none"}}):c.jsx($s,{component:"img",image:E,alt:t.name,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:1,transform:`translateX(${d}%)`,transition:u?"transform 0.6s ease-in-out":"none"}}):c.jsxs(J,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1},children:[c.jsx($s,{component:"img",image:w,alt:"Empty folder",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",opacity:.4}}),c.jsx(J,{component:"img",src:T,alt:"Placeholder",sx:{position:"absolute",top:"58%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",height:"auto",maxWidth:"200px",opacity:.8,objectFit:"contain"}})]}),l.length>1&&(v?c.jsx(J,{component:"video",src:I,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,transform:`translateX(${d+100}%)`,transition:u?"transform 0.6s ease-in-out":"none"}}):c.jsx($s,{component:"img",image:I,alt:t.name,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,transform:`translateX(${d+100}%)`,transition:u?"transform 0.6s ease-in-out":"none"}})),n&&c.jsx(ht,{onClick:a,sx:{position:"absolute",bottom:8,right:8,zIndex:4,bgcolor:"rgba(0, 0, 0, 0.6)",color:"white",width:32,height:32,"&:hover":{bgcolor:"rgba(0, 0, 0, 0.8)",color:"primary.light"},transition:"all 0.2s"},size:"small",children:c.jsx(iy,{sx:{fontSize:"1.1rem"}})}),c.jsx(J,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.6) 70%, transparent 100%)",p:1.5,pb:1,pr:n?6:1.5,zIndex:2},children:c.jsxs(J,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(ky,{sx:{color:t.color||"primary.light",fontSize:"1.2rem"}}),c.jsx(re,{variant:"subtitle1",component:"div",sx:{flex:1,color:"white",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.name})]})}),c.jsx(J,{className:"hover-overlay",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(0, 0, 0, 0.6)",opacity:0,transition:"opacity 0.2s",zIndex:2}}),c.jsxs(J,{className:"hover-info",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,p:2,opacity:0,transition:"opacity 0.2s",display:"flex",flexDirection:"column",gap:1.5,zIndex:3},children:[c.jsx(re,{variant:"h6",sx:{color:"white",fontWeight:600},children:t.name}),t.description&&c.jsx(re,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.9)",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:t.description}),c.jsxs(J,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:[c.jsx(yt,{label:`${t.image_count||0} `,size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white"}}),t.child_count!==void 0&&t.child_count>0&&c.jsx(yt,{label:`${t.child_count} `,size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white"}}),!!t.auto_collect_enabled&&c.jsx(yt,{icon:c.jsx(Mp,{sx:{fontSize:"0.9rem",color:"white !important"}}),size:"small",color:"primary",sx:{color:"white","& .MuiChip-icon":{marginLeft:"4px",marginRight:"-4px"}}})]})]})]})}function ABe({group:t,onClick:e}){const n=A.useCallback(async l=>{try{return(await li.getPreviewImages(t.id,l,!1)).data||[]}catch(u){return console.error(`Failed to load preview images for group ${t.id}:`,u),[]}},[t.id]),{currentImage:r,images:a,isLoading:i}=aw(n,{groupId:`${t.id}-direct`,groupType:"group-direct",interval:3e3,preloadCount:8,includeChildren:!1,enabled:!0}),s=A.useMemo(()=>r?.file_type==="video",[r]),o=A.useMemo(()=>r?.thumbnail_url?r.thumbnail_url:`data:image/svg+xml,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 24 24">
        <rect width="24" height="24" fill="#1a1a1a"/>
        <path fill="#666" d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
      </svg>`)}`,[r]);return c.jsxs(gr,{sx:{cursor:"pointer",transition:"all 0.2s",aspectRatio:"5 / 7",position:"relative",overflow:"hidden",borderRadius:1,border:"2px solid",borderColor:"primary.main","&:hover":{transform:"translateY(-4px)",boxShadow:4,borderColor:"primary.light","& .hover-info":{opacity:1},"& .hover-overlay":{opacity:1}},opacity:a.length>0||i?1:.7},onClick:e,children:[s?c.jsx(J,{component:"video",src:o,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transition:"opacity 0.6s ease-in-out"}}):c.jsx($s,{component:"img",image:o,alt:" ",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transition:"opacity 0.6s ease-in-out"}}),c.jsx(J,{sx:{position:"absolute",top:5,left:5,backgroundColor:"primary.main",color:"white",px:1,py:.75,borderRadius:2,boxShadow:2,display:"flex",gap:.75,zIndex:2},children:c.jsx(Eu,{sx:{fontSize:"1.1rem"}})}),c.jsx(J,{className:"hover-overlay",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(0, 0, 0, 0.6)",opacity:0,transition:"opacity 0.2s"}}),c.jsxs(J,{className:"hover-info",sx:{position:"absolute",top:20,left:0,right:0,bottom:0,p:2,opacity:0,transition:"opacity 0.2s",display:"flex",flexDirection:"column",gap:1.5},children:[c.jsxs(re,{variant:"h6",sx:{color:"white",fontWeight:600},children:[t.name," - "]}),c.jsx(re,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.9)"},children:"    "}),c.jsx(J,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:c.jsx(yt,{label:`${t.image_count||0} `,size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white"}})})]})]})}const RBe=()=>{const{t}=$t(["imageGroups","common"]),[e,n]=A.useState(0),[r,a]=A.useState(null),[i,s]=A.useState(!1),[o,l]=A.useState(!1),[u,d]=A.useState(null),[h,m]=A.useState(null),[y,x]=A.useState({open:!1,message:"",severity:"success"}),[v,_]=A.useState(!0),[C,w]=A.useState(null),[T,E]=A.useState(null),[I,j]=A.useState(null),[O,L]=A.useState([]),{data:N,isLoading:M}=EMe(T),{data:H,isLoading:P}=AMe(T),$=IZ(),D=NMe(),U=(T===null?N:H)||[],F=T===null?M:P,[W,ee]=A.useState(!1),[Q,K]=A.useState(null),[V,Z]=A.useState([]),[q,te]=A.useState(!1),[ae,ie]=A.useState(1),[ce,pe]=A.useState(1),[ge,oe]=A.useState(0),[ue,he]=A.useState(25),ve=async Ge=>{try{const it=await li.getBreadcrumbPath(Ge);it.success&&it.data&&L(it.data)}catch(it){console.error("Error loading breadcrumb:",it)}},me=async(Ge,it=!0)=>{if(E(Ge),Ge===null)L([]),j(null);else{await ve(Ge);try{const rt=await li.getGroup(Ge);console.log("[navigateToGroup] Group API response:",rt),rt.success&&rt.data?(console.log("[navigateToGroup] Setting currentGroupInfo:",rt.data),j(rt.data)):console.error("[navigateToGroup] Failed to load group info:",rt)}catch(rt){console.error("Error loading current group info:",rt)}}},le=Ge=>{Ge===null?(_(!0),w(null),E(null),j(null),L([])):me(Ge,!1)};A.useEffect(()=>{if(U.length===1&&T!==null){const Ge=U[0];if(Ge.image_count===0&&Ge.child_count===1){const it=I?.name||"";be(`   : ${it}  ${Ge.name}`,"info"),me(Ge.id,!0)}}},[U,T]);const Se=async(Ge,it=1,rt)=>{try{te(!0);const st=rt||ue,ft=await li.getGroupImages(Ge,it,st);ft.success&&ft.data?(Z(ft.data.images||[]),ie(ft.data.pagination?.page||1),pe(ft.data.pagination?.totalPages||1),oe(ft.data.pagination?.total||0)):(be(t("imageGroups:messages.imageLoadFailed"),"error"),Z([]))}catch(st){console.error("Error fetching group images:",st),be(t("imageGroups:messages.imageLoadFailed"),"error"),Z([])}finally{te(!1)}},be=(Ge,it)=>{x({open:!0,message:Ge,severity:it})},Te=()=>{x({...y,open:!1})},Ne=()=>{d(null),m(null)},Pe=Ge=>{const it=U.find(rt=>rt.id===Ge);it&&(a(it),l(!0))},Le=()=>{const Ge=U.find(it=>it.id===h);Ge&&(a(Ge),l(!0)),Ne()},De=async()=>{if(h){try{await $.mutateAsync({id:h,cascade:!1}),be(t("imageGroups:messages.deleteSuccess"),"success")}catch(Ge){console.error("Error deleting group:",Ge),be(t("imageGroups:messages.deleteFailed"),"error")}Ne()}},Xe=async()=>{if(h){try{const Ge=await D.mutateAsync(h);be(t("imageGroups:messages.autoCollectSuccess",{added:Ge.images_added,removed:Ge.images_removed}),"success")}catch(Ge){console.error("Error running auto collection:",Ge),be(t("imageGroups:messages.autoCollectFailed"),"error")}Ne()}},ke=()=>{s(!1),be(" .  .","info")},Ie=()=>{l(!1),a(null),be(" .  .","info")},ye=Ge=>{if(v){_(!1),w(Ge.id),E(Ge.id),me(Ge.id);return}Ge.child_count&&Ge.child_count>0?me(Ge.id):Ge.image_count>0?(K(Ge),ee(!0),ie(1),Se(Ge.id,1,ue)):be(t("imageGroups:messages.emptyGroup"),"info")},Ce=()=>{ee(!1),K(null),Z([]),ie(1)},Me=Ge=>{Q&&(ie(Ge),Se(Q.id,Ge,ue))},He=Ge=>{he(Ge),Q&&(ie(1),Se(Q.id,1,Ge))},Qe=async Ge=>{if(Q)try{if(Ge.length===0){be(t("imageGroups:messages.removeWarning"),"warning");return}const it=await li.removeImagesFromGroup(Q.id,Ge);it.success?be(t("imageGroups:messages.removeSuccess",{count:it.removed}),"success"):be(t("imageGroups:messages.removePartialSuccess",{removed:it.removed,failed:it.errors.length}),"warning");const rt=await li.getGroupImages(Q.id,ae,ue);if(rt.success&&rt.data){const st=rt.data.images&&rt.data.images.length>0,ft=ae>1;!st&&ft?(ie(ae-1),Se(Q.id,ae-1,ue)):Se(Q.id,ae,ue)}else Se(Q.id,ae,ue)}catch(it){console.error("Error removing images:",it),be(t("imageGroups:messages.removeError"),"error")}},Je=async(Ge,it)=>{try{const rt=await li.addImagesToGroup(Ge,it);if(rt.success&&rt.data){const{added_count:st,converted_count:ft,skipped_count:qt}=rt.data;be(t("imageGroups:messages.assignSuccess",{added:st,converted:ft,skipped:qt}),"success")}else be(rt.error||t("imageGroups:messages.assignFailed"),"error")}catch(rt){console.error("Error assigning images:",rt),be(t("imageGroups:messages.assignError"),"error")}};return F?c.jsx(J,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:c.jsx(Kt,{})}):c.jsxs(hg,{maxWidth:"xl",sx:{py:3},children:[c.jsxs(J,{sx:{mb:3},children:[c.jsx(re,{variant:"h4",component:"h1",gutterBottom:!0,children:t("imageGroups:page.title")}),c.jsxs(il,{value:e,onChange:(Ge,it)=>n(it),sx:{mt:2,borderBottom:1,borderColor:"divider"},children:[c.jsx(Gn,{label:t("imageGroups:page.customGroupsTab")}),c.jsx(Gn,{label:t("imageGroups:page.autoFolderGroupsTab")})]})]}),c.jsxs(J,{sx:{display:e===0?"block":"none"},children:[!v&&c.jsx(FJ,{breadcrumb:O,onNavigate:le,showGroupListRoot:!0}),(console.log("[Render] isGroupListView:",v),console.log("[Render] currentParentId:",T),console.log("[Render] currentGroupInfo:",I),console.log("[Render] groups.length:",U.length),!v&&T!==null&&I&&I.image_count>0||U.length>0)?c.jsxs(gn,{container:!0,spacing:3,children:[!v&&T!==null&&I&&I.image_count>0&&c.jsx(gn,{size:{xs:6,sm:4,md:3,lg:2,xl:1.5},children:c.jsx(ABe,{group:I,onClick:()=>{K(I),ee(!0),ie(1),Se(I.id,1,ue)}})},`image-view-${T}`),U.map(Ge=>c.jsx(gn,{size:{xs:6,sm:4,md:3,lg:2,xl:1.5},children:c.jsx(TBe,{group:Ge,onClick:()=>ye(Ge),onSettingsClick:Pe})},Ge.id))]}):c.jsxs(J,{textAlign:"center",py:8,children:[c.jsx(NRe,{sx:{fontSize:64,color:"text.secondary",mb:2}}),c.jsx(re,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:v?"  ":"  "}),c.jsx(re,{variant:"body2",color:"text.secondary",mb:3,children:v?"+     ":"    "})]}),c.jsx(GEe,{color:"primary","aria-label":"add group",sx:{position:"fixed",bottom:24,right:24},onClick:()=>s(!0),children:c.jsx(Gs,{})}),c.jsxs(Ay,{anchorEl:u,open:!!u,onClose:Ne,children:[c.jsxs(Jt,{onClick:Le,children:[c.jsx(zd,{sx:{mr:1},fontSize:"small"}),t("common:edit")]}),U.find(Ge=>Ge.id===h)?.auto_collect_enabled?c.jsxs(Jt,{onClick:Xe,children:[c.jsx(vp,{sx:{mr:1},fontSize:"small"}),t("imageGroups:menu.runAutoCollection")]}):null,c.jsxs(Jt,{onClick:De,sx:{color:"error.main"},children:[c.jsx(xa,{sx:{mr:1},fontSize:"small"}),t("common:delete")]})]}),c.jsx(_B,{open:i,onClose:()=>s(!1),onSuccess:ke}),r?c.jsx(_B,{open:o,onClose:()=>{l(!1),a(null)},onSuccess:Ie,group:r}):null,c.jsx(zJ,{open:W,onClose:Ce,images:V,loading:q,currentGroup:Q,allGroups:U,pageSize:ue,onPageSizeChange:He,currentPage:ae,totalPages:ce,total:ge,onPageChange:Me,onImagesRemoved:Qe,onImagesAssigned:Je,groupType:"custom",onShowSnackbar:be})]}),c.jsx(J,{sx:{display:e===1?"block":"none"},children:c.jsx(EBe,{onShowSnackbar:be})}),c.jsx(zg,{open:y.open,autoHideDuration:2e3,onClose:Te,children:c.jsx(St,{onClose:Te,severity:y.severity,sx:{width:"100%"},children:y.message})})]})},kBe=()=>{const{t}=$t(["imageDetail","common"]),{compositeHash:e}=zj(),n=Zf(),[r,a]=A.useState(null),[i,s]=A.useState(!0),[o,l]=A.useState(null),[u,d]=A.useState(!1),[h,m]=A.useState(!1),[y,x]=A.useState(!1),v=Gd();A.useEffect(()=>{(async()=>{try{const M=await Bs.getSettings();m(M.tagger.enabled)}catch(M){console.error("Failed to load settings:",M),m(!1)}})()},[]),A.useEffect(()=>{(async()=>{if(!e){l(t("imageDetail:page.noIdProvided")),s(!1);return}try{s(!0);const M=await ba.getImage(e);M.success&&M.data?a(M.data):l(M.error||t("imageDetail:page.notFound"))}catch{l(t("imageDetail:page.errorLoading"))}finally{s(!1)}})()},[e,t]);const _=async()=>{if(e)try{const N=await ba.getImage(e);N.success&&N.data&&a(N.data)}catch(N){console.error("Failed to reload image after tagging:",N)}},C=N=>{if(N===0)return"0 Bytes";const M=1024,H=["Bytes","KB","MB","GB"],P=Math.floor(Math.log(N)/Math.log(M));return parseFloat((N/Math.pow(M,P)).toFixed(2))+" "+H[P]},w=N=>new Date(N).toLocaleString("ko-KR"),T=()=>{if(!r||!r.composite_hash)return;const N=document.createElement("a");N.href=`${v}/api/images/${r.composite_hash}/download/original`,N.download=r.original_file_path||`image_${r.composite_hash.substring(0,8)}.png`,document.body.appendChild(N),N.click(),document.body.removeChild(N)},E=()=>{window.history.length>1?n(-1):n("/gallery")},I=(N,M=50)=>{if(N.length<=M)return N;const H=N.split(".").pop();return`${N.substring(0,N.lastIndexOf(".")).substring(0,M-H.length-4)+"..."}.${H}`},j=async()=>{if(r?.composite_hash)try{await navigator.clipboard.writeText(r.composite_hash),x(!0)}catch(N){console.error("Failed to copy hash:",N)}};if(i)return c.jsxs(J,{sx:{maxWidth:1200,mx:"auto",p:3},children:[c.jsxs(J,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[c.jsx(bu,{variant:"circular",width:40,height:40}),c.jsx(bu,{variant:"text",width:200,height:40})]}),c.jsxs(gn,{container:!0,spacing:3,children:[c.jsx(gn,{size:{xs:12,md:8},children:c.jsx(bu,{variant:"rectangular",height:600})}),c.jsx(gn,{size:{xs:12,md:4},children:c.jsx(bu,{variant:"rectangular",height:600})})]})]});if(o||!r)return c.jsxs(J,{sx:{maxWidth:1200,mx:"auto",p:3},children:[c.jsxs(J,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[c.jsx(ht,{onClick:E,children:c.jsx(hC,{})}),c.jsx(re,{variant:"h5",children:t("imageDetail:page.title")})]}),c.jsx(St,{severity:"error",children:o||t("imageDetail:page.notFound")})]});const O=r?`${v}/api/images/${r.composite_hash}/thumbnail`:"",L=r?`${v}/api/images/${r.composite_hash}/download/original`:"";return c.jsxs(J,{sx:{maxWidth:1200,mx:"auto",p:3},children:[c.jsxs(J,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[c.jsx(ht,{onClick:E,children:c.jsx(hC,{})}),c.jsx(re,{variant:"h5",sx:{flex:1},children:t("imageDetail:page.title")}),c.jsx(J,{sx:{display:"flex",gap:1},children:c.jsx(Ke,{variant:"outlined",startIcon:c.jsx(tS,{}),onClick:T,children:t("imageDetail:actions.download")})})]}),c.jsxs(gn,{container:!0,spacing:3,children:[c.jsx(gn,{size:{xs:12,md:7},children:c.jsxs(J,{sx:{display:"flex",flexDirection:"column",gap:3},children:[c.jsx(Yt,{sx:{p:2,borderRadius:2},children:r.mime_type?.startsWith("video/")?c.jsx(J,{component:"video",src:u?L:O,controls:!0,onError:()=>d(!0),sx:{width:"100%",height:"auto",maxHeight:"80vh",borderRadius:1}}):c.jsx(J,{component:"img",src:u?L:O,alt:r.original_file_path??"",onError:()=>d(!0),sx:{width:"100%",height:"auto",maxHeight:"80vh",objectFit:"contain",borderRadius:1}})}),c.jsxs(Yt,{sx:{p:2,borderRadius:2},children:[c.jsx(re,{variant:"h6",gutterBottom:!0,children:t("imageDetail:sections.fileInfo")}),c.jsxs(re,{variant:"body2",color:"text.secondary",title:r.original_file_path??"",sx:{mb:1},children:[t("imageDetail:fileInfo.originalFilename"),": ",I(r.original_file_path??"")]})]}),c.jsxs(Yt,{sx:{p:2,borderRadius:2},children:[c.jsx(re,{variant:"h6",gutterBottom:!0,children:r.mime_type?.startsWith("video/")?t("imageDetail:sections.videoInfo"):t("imageDetail:sections.imageInfo")}),c.jsxs(J,{sx:{display:"flex",flexDirection:"column",gap:1},children:[c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:fileInfo.size"),":"]})," ",r.width,"  ",r.height]}),c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:fileInfo.fileSize"),":"]})," ",C(r.file_size??0)]}),c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:fileInfo.mimeType"),":"]})," ",r.mime_type]}),r.mime_type?.startsWith("video/")&&c.jsxs(c.Fragment,{children:[r.duration&&c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:videoInfo.duration"),":"]})," ",t("imageDetail:videoInfo.durationValue",{minutes:Math.floor(r.duration/60),seconds:Math.floor(r.duration%60)})]}),r.fps&&c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:videoInfo.fps"),":"]})," ",t("imageDetail:videoInfo.fpsValue",{fps:r.fps.toFixed(2)})]}),r.video_codec&&c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:videoInfo.videoCodec"),":"]})," ",r.video_codec]}),r.audio_codec&&c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:videoInfo.audioCodec"),":"]})," ",r.audio_codec]}),r.bitrate&&c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:videoInfo.bitrate"),":"]})," ",t("imageDetail:videoInfo.bitrateValue",{bitrate:(r.bitrate/1e3).toFixed(2)})]})]}),c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:fileInfo.uploadDate"),":"]})," ",w(r.first_seen_date)]})]})]}),r.groups&&r.groups.length>0&&c.jsxs(Yt,{sx:{p:2,borderRadius:2},children:[c.jsx(re,{variant:"h6",gutterBottom:!0,children:t("imageDetail:sections.groupInfo")}),c.jsx(J,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r.groups.map(N=>c.jsx(yt,{label:t("imageDetail:groupInfo.groupLabel",{name:N.name,type:N.collection_type==="auto"?t("imageDetail:groupInfo.autoType"):t("imageDetail:groupInfo.manualType")}),size:"small",variant:"filled",sx:{backgroundColor:N.color||(N.collection_type==="auto"?"#e3f2fd":"#f3e5f5"),color:N.color?"#fff":N.collection_type==="auto"?"#1976d2":"#7b1fa2"}},N.id))})]})]})}),c.jsx(gn,{size:{xs:12,md:5},children:c.jsxs(J,{sx:{display:"flex",flexDirection:"column",gap:3,minWidth:325},children:[c.jsxs(Yt,{sx:{p:2,borderRadius:2},children:[c.jsx(re,{variant:"h6",gutterBottom:!0,children:" "}),c.jsx(J,{sx:{p:1.5,bgcolor:"action.hover",borderRadius:1,display:"flex",alignItems:"center",gap:1},children:r.composite_hash?c.jsxs(c.Fragment,{children:[c.jsx(Xt,{title:" ",children:c.jsx(J,{onClick:j,sx:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer",fontFamily:"monospace",fontSize:"0.75rem",color:"text.secondary","&:hover":{color:"primary.main"}},children:r.composite_hash})}),c.jsx(Xt,{title:" ",children:c.jsx(ht,{size:"small",onClick:j,sx:{flexShrink:0},children:c.jsx(eS,{fontSize:"small"})})})]}):c.jsxs(c.Fragment,{children:[c.jsx(nS,{fontSize:"small",color:"disabled"}),c.jsx(re,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:"   ..."})]})})]}),r.ai_metadata&&c.jsxs(Yt,{sx:{p:2,borderRadius:2},children:[c.jsx(re,{variant:"h6",gutterBottom:!0,children:t("imageDetail:sections.aiInfo")}),c.jsxs(J,{sx:{display:"flex",flexDirection:"column",gap:1},children:[r.ai_metadata.ai_tool&&c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.tool"),":"]})," ",r.ai_metadata.ai_tool]}),r.ai_metadata.model_name&&c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.model"),":"]})," ",r.ai_metadata.model_name]}),r.ai_metadata.lora_models&&c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.lora"),":"]})," ",JSON.stringify(r.ai_metadata.lora_models)]}),r.ai_metadata.generation_params.steps&&c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.steps"),":"]})," ",r.ai_metadata.generation_params.steps]}),r.ai_metadata.generation_params.cfg_scale&&c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.cfgScale"),":"]})," ",r.ai_metadata.generation_params.cfg_scale]}),r.ai_metadata.generation_params.sampler&&c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.sampler"),":"]})," ",r.ai_metadata.generation_params.sampler]}),r.ai_metadata.generation_params.scheduler&&c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.scheduler"),":"]})," ",r.ai_metadata.generation_params.scheduler]}),r.ai_metadata.generation_params.seed&&c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.seed"),":"]})," ",r.ai_metadata.generation_params.seed]}),r.ai_metadata.generation_params.denoise_strength&&c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.denoiseStrength"),":"]})," ",r.ai_metadata.generation_params.denoise_strength]}),r.ai_metadata.generation_params.generation_time&&c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.generationTime"),":"]})," ",t("imageDetail:aiInfo.generationTimeValue",{time:r.ai_metadata.generation_params.generation_time})]}),r.ai_metadata.generation_params.batch_size&&c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.batchSize"),":"]})," ",r.ai_metadata.generation_params.batch_size]}),r.ai_metadata.generation_params.batch_index&&c.jsxs(re,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.batchIndex"),":"]})," ",r.ai_metadata.generation_params.batch_index]})]})]}),r.ai_metadata&&(r.ai_metadata.prompts.prompt||r.ai_metadata.prompts.negative_prompt)||h?c.jsxs(Yt,{sx:{p:2,borderRadius:2},children:[c.jsx(re,{variant:"h6",gutterBottom:!0,children:t("imageDetail:sections.promptInfo")}),c.jsx(HQ,{prompt:r.ai_metadata?.prompts.prompt,negativePrompt:r.ai_metadata?.prompts.negative_prompt,maxHeight:800,variant:"none",imageId:r.composite_hash,autoTags:r.auto_tags,isTaggerEnabled:h,onAutoTagGenerated:_})]}):null]})})]}),c.jsx(J,{sx:{mt:3},children:c.jsxs(Dc,{defaultExpanded:!1,children:[c.jsx(Nc,{expandIcon:c.jsx(is,{}),"aria-controls":"metadata-content",id:"metadata-header",children:c.jsx(re,{variant:"h6",children:t("imageDetail:sections.fullMetadata")})}),c.jsx(Mc,{children:c.jsx(J,{component:"pre",sx:{p:2,borderRadius:1,overflow:"auto",maxHeight:"750px",fontSize:"0.875rem"},children:JSON.stringify(r,null,2)})})]})}),c.jsx(zg,{open:y,autoHideDuration:2e3,onClose:()=>x(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:c.jsx(St,{onClose:()=>x(!1),severity:"success",variant:"filled",children:" "})})]})},IBe=({open:t,onClose:e})=>{const[n,r]=A.useState(null),[a,i]=A.useState(null),[s,o]=A.useState(!1),[l,u]=A.useState(null),[d,h]=A.useState(!1),m=A.useRef(null);A.useEffect(()=>(t&&(y(),x()),()=>{m.current&&clearInterval(m.current)}),[t]),A.useEffect(()=>{if(d)return m.current=setInterval(async()=>{await x()},1e3),()=>{m.current&&clearInterval(m.current)};m.current&&clearInterval(m.current)},[d]),A.useEffect(()=>{a&&a.currentPhase==="completed"?(h(!1),y()):a&&a.isRunning?h(!0):a&&!a.isRunning&&h(!1)},[a]);const y=async()=>{try{const E=await yT.getStats();r(E)}catch(E){console.error("Failed to load thumbnail stats:",E),u("  ")}},x=async()=>{try{const E=await yT.getProgress();i(E)}catch(E){console.error("Failed to load progress:",E)}},v=async()=>{o(!0),u(null);try{await yT.regenerate(),h(!0),await x()}catch(E){console.error("Failed to start thumbnail regeneration:",E),E.response?.status===409?u("    "):u("   ")}finally{o(!1)}},_=()=>{d||e()},C=()=>!a||a.totalFiles===0?0:Math.round(a.processedFiles/a.totalFiles*100),w=E=>{switch(E){case"verification":return"  ...";case"deletion":return"   ...";case"generation":return"  ...";case"completed":return"";case"idle":default:return" "}},T=()=>{if(!a||!a.startTime)return"0";const E=Math.floor((Date.now()-a.startTime)/1e3);if(E<60)return`${E}`;const I=Math.floor(E/60),j=E%60;return`${I} ${j}`};return c.jsxs(or,{open:t,onClose:_,maxWidth:"sm",fullWidth:!0,children:[c.jsx(pr,{children:c.jsxs(J,{display:"flex",alignItems:"center",gap:1,children:[c.jsx(Eu,{color:"primary"}),c.jsx(re,{variant:"h6",children:" "})]})}),c.jsxs(hr,{dividers:!0,children:[l&&c.jsx(St,{severity:"error",sx:{mb:2},children:l}),n&&!d&&c.jsxs(J,{sx:{mb:3},children:[c.jsx(re,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:" "}),c.jsxs(J,{sx:{display:"flex",flexDirection:"column",gap:1},children:[c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between"},children:[c.jsx(re,{variant:"body2",color:"text.secondary",children:" :"}),c.jsxs(re,{variant:"body2",fontWeight:"medium",children:[n.totalFiles.toLocaleString(),""]})]}),c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between"},children:[c.jsx(re,{variant:"body2",color:"text.secondary",children:" :"}),c.jsxs(re,{variant:"body2",fontWeight:"medium",color:"success.main",children:[n.withThumbnails.toLocaleString(),""]})]}),c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between"},children:[c.jsx(re,{variant:"body2",color:"text.secondary",children:" :"}),c.jsxs(re,{variant:"body2",fontWeight:"medium",color:"error.main",children:[n.withoutThumbnails.toLocaleString(),""]})]})]})]}),d&&a&&c.jsxs(J,{sx:{mb:3},children:[c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[c.jsx(re,{variant:"subtitle1",fontWeight:"bold",children:w(a.currentPhase)}),c.jsx(yt,{label:a.currentPhase==="completed"?"":" ",color:a.currentPhase==="completed"?"success":"primary",size:"small"})]}),a.currentPhase==="generation"&&c.jsxs(c.Fragment,{children:[c.jsx(Ld,{variant:"determinate",value:C(),sx:{mb:1,height:8,borderRadius:4}}),c.jsxs(re,{variant:"body2",color:"text.secondary",align:"center",sx:{mb:2},children:[a.processedFiles.toLocaleString()," / ",a.totalFiles.toLocaleString()," (",C(),"%)"]})]}),c.jsx(yn,{sx:{my:2}}),c.jsxs(J,{sx:{display:"flex",flexDirection:"column",gap:1},children:[c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between"},children:[c.jsx(re,{variant:"body2",color:"text.secondary",children:" :"}),c.jsxs(re,{variant:"body2",fontWeight:"medium",children:[a.deletedThumbnails.toLocaleString(),""]})]}),c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between"},children:[c.jsx(re,{variant:"body2",color:"text.secondary",children:" :"}),c.jsxs(re,{variant:"body2",fontWeight:"medium",color:"success.main",children:[a.generatedThumbnails.toLocaleString(),""]})]}),c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between"},children:[c.jsx(re,{variant:"body2",color:"text.secondary",children:" :"}),c.jsx(re,{variant:"body2",fontWeight:"medium",children:T()})]})]})]}),a&&a.currentPhase==="completed"&&c.jsx(St,{severity:"success",icon:c.jsx(Cs,{}),children:"  !"}),!d&&c.jsxs(St,{severity:"info",sx:{mt:2},children:["    :",c.jsx("br",{}),"1.   ",c.jsx("br",{}),"2.   ",c.jsx("br",{}),"3.   ",c.jsx("br",{}),c.jsx("br",{}),c.jsx("strong",{children:":"}),"        ."]})]}),c.jsxs(yr,{children:[c.jsx(Ke,{onClick:_,disabled:d,children:d?" ...":""}),!d&&c.jsx(Ke,{onClick:v,variant:"contained",color:"primary",disabled:s||d,children:s?" ...":" "})]})]})},jBe=({settings:t,metadataSettings:e,thumbnailSettings:n,onUpdate:r,onMetadataUpdate:a,onThumbnailUpdate:i})=>{const{t:s,i18n:o}=$t("settings"),[l,u]=A.useState(!1),[d,h]=A.useState(null),[m,y]=A.useState(!1),x=async O=>{const L=O.target.value;u(!0),h(null);try{await r({language:L}),await o.changeLanguage(L)}catch(N){console.error("Failed to update language:",N),h("Failed to update language setting")}finally{u(!1)}},v=async O=>{u(!0),h(null);try{await a(O)}catch(L){console.error("Failed to update metadata settings:",L),h(s("messages.saveFailed"))}finally{u(!1)}},_=O=>{v({stealthScanMode:O.target.value})},C=O=>{const L=parseFloat(O.target.value);!isNaN(L)&&L>0&&v({stealthMaxFileSizeMB:L})},w=O=>{const L=parseFloat(O.target.value);!isNaN(L)&&L>0&&v({stealthMaxResolutionMP:L})},T=O=>L=>{v({[O]:L.target.checked})},E=async O=>{u(!0),h(null);try{await i(O)}catch(L){console.error("Failed to update thumbnail settings:",L),h("   ")}finally{u(!1)}},I=O=>{E({size:O.target.value})},j=O=>{const L=parseInt(O.target.value,10);!isNaN(L)&&L>=60&&L<=100&&E({quality:L})};return c.jsxs(J,{children:[c.jsx(re,{variant:"h6",gutterBottom:!0,children:s("general.title")}),d&&c.jsx(St,{severity:"error",sx:{mb:2},children:d}),c.jsxs(Yt,{sx:{p:3},children:[c.jsxs(ra,{fullWidth:!0,disabled:l,children:[c.jsx(Ai,{id:"language-select-label",children:s("general.language.label")}),c.jsx(Ua,{labelId:"language-select-label",id:"language-select",value:t.language,label:s("general.language.label"),onChange:x,children:Dke.map(O=>c.jsxs(Jt,{value:O.code,children:[O.name," (",O.englishName,")"]},O.code))})]}),c.jsx(J,{sx:{mb:2,mt:3},children:c.jsx(Zn,{control:c.jsx(oi,{checked:t.enableGallery??!0,onChange:async O=>{try{await r({enableGallery:O.target.checked})}catch(L){console.error("Failed to update gallery setting:",L),h(s("messages.saveFailed"))}},disabled:l}),label:c.jsxs(J,{sx:{display:"flex",alignItems:"center"},children:[c.jsx(re,{variant:"body1",children:s("general.gallery.label")}),c.jsx(Xt,{title:s("general.gallery.tooltip"),arrow:!0,children:c.jsx(Sc,{fontSize:"small",sx:{ml:1,color:"text.secondary"}})})]})})}),c.jsx(J,{sx:{mb:2},children:c.jsx(Zn,{control:c.jsx(oi,{checked:t.autoCleanupCanvasOnShutdown??!1,onChange:async O=>{try{await r({autoCleanupCanvasOnShutdown:O.target.checked})}catch(L){console.error("Failed to update canvas cleanup setting:",L),h(s("messages.saveFailed"))}},disabled:l}),label:c.jsxs(J,{sx:{display:"flex",alignItems:"center"},children:[c.jsx(re,{variant:"body1",children:s("general.canvasCleanup.label")}),c.jsx(Xt,{title:s("general.canvasCleanup.tooltip"),arrow:!0,children:c.jsx(Sc,{fontSize:"small",sx:{ml:1,color:"text.secondary"}})})]})})}),c.jsx(J,{sx:{mb:2},children:c.jsx(Zn,{control:c.jsx(oi,{checked:t.showRatingBadges??!0,onChange:async O=>{try{await r({showRatingBadges:O.target.checked})}catch(L){console.error("Failed to update rating badges setting:",L),h(s("messages.saveFailed"))}},disabled:l}),label:c.jsxs(J,{sx:{display:"flex",alignItems:"center"},children:[c.jsx(re,{variant:"body1",children:s("general.ratingBadges.label")}),c.jsx(Xt,{title:s("general.ratingBadges.tooltip"),arrow:!0,children:c.jsx(Sc,{fontSize:"small",sx:{ml:1,color:"text.secondary"}})})]})})}),c.jsx(J,{sx:{mb:2},children:c.jsx(Zn,{control:c.jsx(oi,{checked:t.deleteProtection?.enabled??!0,onChange:async O=>{try{await r({deleteProtection:{...t.deleteProtection,enabled:O.target.checked,recycleBinPath:"RecycleBin"}})}catch(L){console.error("Failed to update delete protection:",L),h(s("messages.saveFailed"))}},disabled:l}),label:c.jsxs(J,{sx:{display:"flex",alignItems:"center"},children:[c.jsx(re,{variant:"body1",children:s("general.deleteProtection.label")}),c.jsx(Xt,{title:s("general.deleteProtection.tooltip"),arrow:!0,children:c.jsx(Sc,{fontSize:"small",sx:{ml:1,color:"text.secondary"}})})]})})}),c.jsx(yn,{sx:{my:4}}),c.jsxs(J,{sx:{display:"flex",alignItems:"center",mb:3},children:[c.jsx(re,{variant:"h6",children:" "}),c.jsx(Xt,{title:"      ",arrow:!0,children:c.jsx(Sc,{fontSize:"small",sx:{ml:1,color:"text.secondary"}})})]}),c.jsxs(ra,{fullWidth:!0,disabled:l,sx:{mb:3},children:[c.jsx(Ai,{id:"thumbnail-size-label",children:" "}),c.jsxs(Ua,{labelId:"thumbnail-size-label",value:n.size,label:" ",onChange:I,children:[c.jsx(Jt,{value:"original",children:"  "}),c.jsx(Jt,{value:"2048",children:"2048px"}),c.jsx(Jt,{value:"1080",children:"1080px ()"}),c.jsx(Jt,{value:"720",children:"720px"}),c.jsx(Jt,{value:"512",children:"512px"})]})]}),c.jsx(jt,{fullWidth:!0,type:"number",label:" ",value:n.quality,onChange:j,helperText:"     (60-100%)",inputProps:{min:60,max:100},disabled:l,sx:{mb:3}}),c.jsxs(J,{sx:{mb:3},children:[c.jsx(Ke,{variant:"contained",color:"primary",onClick:()=>y(!0),disabled:l,fullWidth:!0,children:" "}),c.jsx(re,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"      "})]}),c.jsx(yn,{sx:{my:4}}),c.jsxs(J,{sx:{display:"flex",alignItems:"center",mb:3},children:[c.jsx(re,{variant:"h6",children:s("general.metadata.title")}),c.jsx(Xt,{title:s("general.metadata.performanceNote"),arrow:!0,children:c.jsx(Sc,{fontSize:"small",sx:{ml:1,color:"text.secondary"}})})]}),c.jsxs(ra,{component:"fieldset",fullWidth:!0,sx:{mb:3},disabled:l,children:[c.jsx(k2,{component:"legend",children:c.jsx(re,{variant:"subtitle1",gutterBottom:!0,children:s("general.metadata.scanMode.title")})}),c.jsxs(I2,{value:e.stealthScanMode,onChange:_,children:[c.jsx(Zn,{value:"fast",control:c.jsx(mu,{}),label:c.jsxs(J,{children:[c.jsx(re,{variant:"body1",children:s("general.metadata.scanMode.fast.label")}),c.jsx(re,{variant:"body2",color:"text.secondary",children:s("general.metadata.scanMode.fast.description")})]})}),c.jsx(Zn,{value:"full",control:c.jsx(mu,{}),label:c.jsxs(J,{children:[c.jsx(re,{variant:"body1",children:s("general.metadata.scanMode.full.label")}),c.jsx(re,{variant:"body2",color:"text.secondary",children:s("general.metadata.scanMode.full.description")})]})}),c.jsx(Zn,{value:"skip",control:c.jsx(mu,{}),label:c.jsxs(J,{children:[c.jsx(re,{variant:"body1",children:s("general.metadata.scanMode.skip.label")}),c.jsx(re,{variant:"body2",color:"text.secondary",children:s("general.metadata.scanMode.skip.description")})]})})]})]}),c.jsx(yn,{sx:{my:3}}),c.jsxs(J,{sx:{mb:3},children:[c.jsx(re,{variant:"subtitle1",gutterBottom:!0,children:s("general.metadata.limits.title")}),c.jsx(jt,{fullWidth:!0,type:"number",label:s("general.metadata.limits.fileSize.label"),value:e.stealthMaxFileSizeMB,onChange:C,helperText:s("general.metadata.limits.fileSize.helper"),inputProps:{min:1,step:.5},disabled:l,sx:{mb:2}}),c.jsx(jt,{fullWidth:!0,type:"number",label:s("general.metadata.limits.resolution.label"),value:e.stealthMaxResolutionMP,onChange:w,helperText:s("general.metadata.limits.resolution.helper"),inputProps:{min:1,step:.5},disabled:l})]}),c.jsx(yn,{sx:{my:3}}),c.jsxs(J,{sx:{mb:3},children:[c.jsx(re,{variant:"subtitle1",gutterBottom:!0,children:s("general.metadata.skipSettings.title")}),c.jsx(re,{variant:"body2",color:"text.secondary",sx:{mb:2},children:s("general.metadata.skipSettings.description")}),c.jsx(Zn,{control:c.jsx(oi,{checked:e.skipStealthForComfyUI,onChange:T("skipStealthForComfyUI"),disabled:l}),label:c.jsxs(J,{children:[c.jsx(re,{variant:"body1",children:s("general.metadata.skipSettings.comfyui.label")}),c.jsx(re,{variant:"body2",color:"text.secondary",children:s("general.metadata.skipSettings.comfyui.description")})]})}),c.jsx(Zn,{control:c.jsx(oi,{checked:e.skipStealthForWebUI,onChange:T("skipStealthForWebUI"),disabled:l}),label:c.jsxs(J,{children:[c.jsx(re,{variant:"body1",children:s("general.metadata.skipSettings.webui.label")}),c.jsx(re,{variant:"body2",color:"text.secondary",children:s("general.metadata.skipSettings.webui.description")})]})})]}),c.jsx(yn,{sx:{my:3}}),c.jsx(J,{sx:{mb:3},children:c.jsx(Zn,{control:c.jsx(oi,{checked:e.enableSecondaryExtraction,onChange:T("enableSecondaryExtraction"),disabled:l}),label:c.jsxs(J,{children:[c.jsx(re,{variant:"body1",children:s("general.metadata.secondary.label")}),c.jsx(re,{variant:"body2",color:"text.secondary",children:s("general.metadata.secondary.description")})]})})})]}),c.jsx(IBe,{open:m,onClose:()=>y(!1)})]})},OBe=({settings:t,onUpdate:e})=>{const[n,r]=A.useState(t),[a,i]=A.useState(!1),[s,o]=A.useState(!1);return A.useEffect(()=>{r(t)},[t]),A.useEffect(()=>{const h=JSON.stringify(n)!==JSON.stringify(t);o(h)},[n,t]),{localSettings:n,loading:a,hasChanges:s,updateSettings:h=>{r({...n,...h})},handleSave:async()=>{i(!0);try{await e(n),o(!1)}catch(h){throw console.error("Failed to save settings:",h),h}finally{i(!1)}},handleReset:()=>{r(t),o(!1)}}},DBe=t=>{const[e,n]=A.useState([]),[r,a]=A.useState(null),[i,s]=A.useState(!1),[o,l]=A.useState(!1);A.useEffect(()=>{u(),d()},[]),A.useEffect(()=>{if(t){const v=setInterval(d,5e3);return()=>clearInterval(v)}},[t]);const u=async()=>{try{const v=await Bs.getModelsList();n(v)}catch(v){console.error("Failed to load models:",v)}},d=async()=>{try{s(!0);const v=await Bs.getTaggerStatus();a(v)}catch(v){console.error("Failed to load model status:",v)}finally{s(!1)}};return{models:e,modelStatus:r,statusLoading:i,loading:o,loadModels:u,loadModelStatus:d,handleLoadModel:async(v,_)=>{l(!0);try{await Bs.loadModel(v),await d(),alert(_("tagger.alerts.modelLoaded"))}catch(C){alert(_("tagger.alerts.loadFailed")),console.error("Failed to load model:",C)}finally{l(!1)}},handleUnloadModel:async v=>{l(!0);try{await Bs.unloadModel(),await d(),alert(v("tagger.alerts.modelUnloaded"))}catch(_){alert(v("tagger.alerts.unloadFailed")),console.error("Failed to unload model:",_)}finally{l(!1)}},handleDownloadModel:async(v,_)=>{l(!0);try{const C=await Bs.downloadModel(v);alert(C.message),await u(),_&&_()}catch(C){alert("Failed to download model"),console.error("Failed to download model:",C)}finally{l(!1)}},handleCheckDependencies:async()=>{try{return await Bs.checkDependencies()}catch(v){return console.error("Failed to check dependencies:",v),{available:!1,message:"Failed to check dependencies"}}}}},MBe=(t,e)=>{if(!t)return e("tagger.modelStatus.none");const n=new Date(t),a=new Date().getTime()-n.getTime(),i=Math.floor(a/6e4);if(i<1)return e("tagger.modelStatus.justNow");if(i<60)return e("tagger.modelStatus.minutesAgo",{minutes:i});const s=Math.floor(i/60);if(s<24)return e("tagger.modelStatus.hoursAgo",{hours:s});const o=Math.floor(s/24);return e("tagger.modelStatus.daysAgo",{days:o})},NBe=t=>{const e=parseInt(t);return isNaN(e)||e<=0?{isValid:!1}:{isValid:!0,imageId:e}},PBe=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(!1),[a,i]=A.useState(null);return{testImageId:t,testProcessing:n,testResult:a,setTestImageId:e,handleTestImage:async o=>{const l=NBe(t);if(!l.isValid){alert(o("tagger.test.invalidId"));return}r(!0),i(null);try{const u=await zQ.testImage(String(l.imageId));i(u)}catch(u){alert(o("tagger.test.failed")),console.error("Failed to test image:",u)}finally{r(!1)}}}},LBe=t=>{const e=bt.c(62),{modelStatus:n,statusLoading:r,models:a,loading:i,onLoadModel:s,onUnloadModel:o,onRefreshStatus:l}=t,{t:u}=$t("settings");let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d={bgcolor:"background.default"},e[0]=d):d=e[0];let h;e[1]!==u?(h=u("tagger.modelStatus.title"),e[1]=u,e[2]=h):h=e[2];let m;e[3]!==h?(m=c.jsx(re,{variant:"subtitle1",gutterBottom:!0,children:h}),e[3]=h,e[4]=m):m=e[4];let y;e[5]===Symbol.for("react.memo_cache_sentinel")?(y={mb:1},e[5]=y):y=e[5];let x;e[6]!==n?.modelLoaded||e[7]!==u?(x=n?.modelLoaded?u("tagger.modelStatus.loaded"):u("tagger.modelStatus.unloaded"),e[6]=n?.modelLoaded,e[7]=u,e[8]=x):x=e[8];const v=n?.modelLoaded?"success":"default";let _;e[9]!==n?.modelLoaded?(_=n?.modelLoaded?c.jsx(Cs,{}):void 0,e[9]=n?.modelLoaded,e[10]=_):_=e[10];let C;e[11]!==x||e[12]!==v||e[13]!==_?(C=c.jsx(yt,{label:x,color:v,size:"small",icon:_}),e[11]=x,e[12]=v,e[13]=_,e[14]=C):C=e[14];let w;e[15]!==n||e[16]!==a?(w=n?.currentModel&&c.jsx(yt,{label:a.find(V=>V.name===n.currentModel)?.label||n.currentModel,size:"small",variant:"outlined"}),e[15]=n,e[16]=a,e[17]=w):w=e[17];let T;e[18]!==n?(T=n?.currentDevice&&c.jsx(yt,{label:n.currentDevice,size:"small",color:n.currentDevice.includes("cuda")?"success":"default",variant:"outlined"}),e[18]=n,e[19]=T):T=e[19];let E;e[20]!==r?(E=r&&c.jsx(Kt,{size:16}),e[20]=r,e[21]=E):E=e[21];let I;e[22]!==T||e[23]!==E||e[24]!==C||e[25]!==w?(I=c.jsxs(un,{direction:"row",spacing:1,alignItems:"center",sx:y,children:[C,w,T,E]}),e[22]=T,e[23]=E,e[24]=C,e[25]=w,e[26]=I):I=e[26];let j;e[27]!==n||e[28]!==u?(j=n?.lastUsedAt&&c.jsxs(re,{variant:"caption",color:"text.secondary",children:[u("tagger.modelStatus.lastUsed"),": ",MBe(n.lastUsedAt,u)]}),e[27]=n,e[28]=u,e[29]=j):j=e[29];let O;e[30]!==I||e[31]!==j||e[32]!==m?(O=c.jsxs(J,{flex:1,children:[m,I,j]}),e[30]=I,e[31]=j,e[32]=m,e[33]=O):O=e[33];const L=n?.modelLoaded||i;let N;e[34]===Symbol.for("react.memo_cache_sentinel")?(N=c.jsx(dv,{}),e[34]=N):N=e[34];let M;e[35]!==u?(M=u("tagger.buttons.load"),e[35]=u,e[36]=M):M=e[36];let H;e[37]!==s||e[38]!==L||e[39]!==M?(H=c.jsx(Ke,{onClick:s,disabled:L,startIcon:N,size:"small",children:M}),e[37]=s,e[38]=L,e[39]=M,e[40]=H):H=e[40];const P=!n?.modelLoaded||i;let $;e[41]===Symbol.for("react.memo_cache_sentinel")?($=c.jsx(MRe,{}),e[41]=$):$=e[41];let D;e[42]!==u?(D=u("tagger.buttons.unload"),e[42]=u,e[43]=D):D=e[43];let U;e[44]!==o||e[45]!==P||e[46]!==D?(U=c.jsx(Ke,{onClick:o,disabled:P,startIcon:$,color:"warning",size:"small",children:D}),e[44]=o,e[45]=P,e[46]=D,e[47]=U):U=e[47];let F;e[48]===Symbol.for("react.memo_cache_sentinel")?(F=c.jsx(wo,{}),e[48]=F):F=e[48];let W;e[49]!==u?(W=u("tagger.buttons.refresh"),e[49]=u,e[50]=W):W=e[50];let ee;e[51]!==l||e[52]!==r||e[53]!==W?(ee=c.jsx(Ke,{onClick:l,disabled:r,startIcon:F,size:"small",variant:"outlined",children:W}),e[51]=l,e[52]=r,e[53]=W,e[54]=ee):ee=e[54];let Q;e[55]!==H||e[56]!==U||e[57]!==ee?(Q=c.jsxs(un,{direction:"row",spacing:1,children:[H,U,ee]}),e[55]=H,e[56]=U,e[57]=ee,e[58]=Q):Q=e[58];let K;return e[59]!==O||e[60]!==Q?(K=c.jsx(gr,{variant:"outlined",sx:d,children:c.jsx(Ba,{children:c.jsxs(un,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[O,Q]})})}),e[59]=O,e[60]=Q,e[61]=K):K=e[61],K},zBe=t=>{const e=bt.c(147),{localSettings:n,models:r,onUpdateSettings:a,onDownloadModel:i,onRefreshModels:s,downloading:o}=t,{t:l}=$t("settings");let u,d,h,m,y,x;if(e[0]!==o||e[1]!==n.device||e[2]!==n.enabled||e[3]!==n.model||e[4]!==r||e[5]!==i||e[6]!==s||e[7]!==a||e[8]!==l){let te;e[15]!==n.model?(te=Ge=>Ge.name===n.model,e[15]=n.model,e[16]=te):te=e[16];const ae=r.find(te),ie=ae?.downloaded||!1;u=un,d=3;let ce;e[17]!==a?(ce=Ge=>a({enabled:Ge.target.checked}),e[17]=a,e[18]=ce):ce=e[18];let pe;e[19]!==n.enabled||e[20]!==ce?(pe=c.jsx(oi,{checked:n.enabled,onChange:ce}),e[19]=n.enabled,e[20]=ce,e[21]=pe):pe=e[21];let ge;e[22]!==l?(ge=l("tagger.enableAutoTagging"),e[22]=l,e[23]=ge):ge=e[23],e[24]!==pe||e[25]!==ge?(h=c.jsx(Zn,{control:pe,label:ge}),e[24]=pe,e[25]=ge,e[26]=h):h=e[26],e[27]!==n.enabled||e[28]!==n.model||e[29]!==r||e[30]!==a||e[31]!==l?(m=r.length>0?c.jsxs(ra,{fullWidth:!0,disabled:!n.enabled,children:[c.jsx(Ai,{children:l("tagger.model.label")}),c.jsx(Ua,{value:n.model,label:l("tagger.model.label"),onChange:Ge=>a({model:Ge.target.value}),children:r.map(Ge=>c.jsx(Jt,{value:Ge.name,children:c.jsxs(J,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[c.jsxs(J,{children:[c.jsx(re,{variant:"body1",children:Ge.label}),c.jsx(re,{variant:"caption",color:"text.secondary",children:Ge.description})]}),Ge.downloaded&&c.jsx(yt,{size:"small",icon:c.jsx(Cs,{}),label:l("tagger.model.downloaded"),color:"success",sx:{ml:2}})]})},Ge.name))})]}):c.jsxs(J,{sx:{display:"flex",alignItems:"center",gap:2},children:[c.jsx(Kt,{size:20}),c.jsx(re,{variant:"body2",color:"text.secondary",children:l("tagger.model.loading")})]}),e[27]=n.enabled,e[28]=n.model,e[29]=r,e[30]=a,e[31]=l,e[32]=m):m=e[32];const oe=!n.enabled;let ue;e[33]!==l?(ue=l("tagger.device.label"),e[33]=l,e[34]=ue):ue=e[34];let he;e[35]!==ue?(he=c.jsx(Ai,{children:ue}),e[35]=ue,e[36]=he):he=e[36];const ve=n.device;let me;e[37]!==l?(me=l("tagger.device.label"),e[37]=l,e[38]=me):me=e[38];let le;e[39]!==a?(le=Ge=>a({device:Ge.target.value}),e[39]=a,e[40]=le):le=e[40];let Se;e[41]!==l?(Se=l("tagger.device.auto.title"),e[41]=l,e[42]=Se):Se=e[42];let be;e[43]!==Se?(be=c.jsx(re,{variant:"body1",children:Se}),e[43]=Se,e[44]=be):be=e[44];let Te;e[45]!==l?(Te=l("tagger.device.auto.description"),e[45]=l,e[46]=Te):Te=e[46];let Ne;e[47]!==Te?(Ne=c.jsx(re,{variant:"caption",color:"text.secondary",children:Te}),e[47]=Te,e[48]=Ne):Ne=e[48];let Pe;e[49]!==be||e[50]!==Ne?(Pe=c.jsx(Jt,{value:"auto",children:c.jsxs(J,{children:[be,Ne]})}),e[49]=be,e[50]=Ne,e[51]=Pe):Pe=e[51];let Le;e[52]!==l?(Le=l("tagger.device.cpu.title"),e[52]=l,e[53]=Le):Le=e[53];let De;e[54]!==Le?(De=c.jsx(re,{variant:"body1",children:Le}),e[54]=Le,e[55]=De):De=e[55];let Xe;e[56]!==l?(Xe=l("tagger.device.cpu.description"),e[56]=l,e[57]=Xe):Xe=e[57];let ke;e[58]!==Xe?(ke=c.jsx(re,{variant:"caption",color:"text.secondary",children:Xe}),e[58]=Xe,e[59]=ke):ke=e[59];let Ie;e[60]!==De||e[61]!==ke?(Ie=c.jsx(Jt,{value:"cpu",children:c.jsxs(J,{children:[De,ke]})}),e[60]=De,e[61]=ke,e[62]=Ie):Ie=e[62];let ye;e[63]!==l?(ye=l("tagger.device.cuda.title"),e[63]=l,e[64]=ye):ye=e[64];let Ce;e[65]!==ye?(Ce=c.jsx(re,{variant:"body1",children:ye}),e[65]=ye,e[66]=Ce):Ce=e[66];let Me;e[67]!==l?(Me=l("tagger.device.cuda.description"),e[67]=l,e[68]=Me):Me=e[68];let He;e[69]!==Me?(He=c.jsx(re,{variant:"caption",color:"text.secondary",children:Me}),e[69]=Me,e[70]=He):He=e[70];let Qe;e[71]!==Ce||e[72]!==He?(Qe=c.jsx(Jt,{value:"cuda",children:c.jsxs(J,{children:[Ce,He]})}),e[71]=Ce,e[72]=He,e[73]=Qe):Qe=e[73];let Je;e[74]!==n.device||e[75]!==me||e[76]!==le||e[77]!==Pe||e[78]!==Ie||e[79]!==Qe?(Je=c.jsxs(Ua,{value:ve,label:me,onChange:le,children:[Pe,Ie,Qe]}),e[74]=n.device,e[75]=me,e[76]=le,e[77]=Pe,e[78]=Ie,e[79]=Qe,e[80]=Je):Je=e[80],e[81]!==oe||e[82]!==he||e[83]!==Je?(y=c.jsxs(ra,{fullWidth:!0,disabled:oe,children:[he,Je]}),e[81]=oe,e[82]=he,e[83]=Je,e[84]=y):y=e[84],x=n.enabled&&c.jsxs(J,{children:[c.jsxs(J,{sx:{display:"flex",alignItems:"center",mb:2,gap:1},children:[c.jsx(yt,{icon:ie?c.jsx(Cs,{}):c.jsx(fv,{}),label:l(ie?"tagger.status.downloaded":"tagger.status.notDownloaded"),color:ie?"success":"warning",size:"small"}),c.jsx(Xt,{title:ie?l("tagger.alerts.modelDownloaded",{model:ae?.label}):l("tagger.alerts.modelNotDownloaded",{model:ae?.label}),arrow:!0,children:c.jsx(fv,{fontSize:"small",sx:{color:"text.secondary",cursor:"help"}})})]}),c.jsxs(un,{direction:{xs:"column",sm:"row"},spacing:2,children:[c.jsx(Ke,{fullWidth:!0,variant:"outlined",startIcon:o?c.jsx(Kt,{size:20}):c.jsx(DRe,{}),onClick:i,disabled:o||ie,children:l(o?"tagger.buttons.downloading":"tagger.buttons.download")}),c.jsx(Ke,{fullWidth:!0,variant:"outlined",startIcon:c.jsx(wo,{}),onClick:s,children:l("tagger.buttons.refreshStatus")})]})]}),e[0]=o,e[1]=n.device,e[2]=n.enabled,e[3]=n.model,e[4]=r,e[5]=i,e[6]=s,e[7]=a,e[8]=l,e[9]=u,e[10]=d,e[11]=h,e[12]=m,e[13]=y,e[14]=x}else u=e[9],d=e[10],h=e[11],m=e[12],y=e[13],x=e[14];let v;e[85]!==n.generalThreshold||e[86]!==l?(v=l("tagger.threshold.general.label",{value:n.generalThreshold.toFixed(2)}),e[85]=n.generalThreshold,e[86]=l,e[87]=v):v=e[87];let _;e[88]!==v?(_=c.jsx(re,{gutterBottom:!0,children:v}),e[88]=v,e[89]=_):_=e[89];let C;e[90]!==a?(C=(te,ae)=>a({generalThreshold:ae}),e[90]=a,e[91]=C):C=e[91];let w;e[92]===Symbol.for("react.memo_cache_sentinel")?(w=[{value:0,label:"0.0"},{value:.5,label:"0.5"},{value:1,label:"1.0"}],e[92]=w):w=e[92];const T=!n.enabled;let E;e[93]!==n.generalThreshold||e[94]!==T||e[95]!==C?(E=c.jsx(Ha,{value:n.generalThreshold,onChange:C,min:0,max:1,step:.05,marks:w,disabled:T}),e[93]=n.generalThreshold,e[94]=T,e[95]=C,e[96]=E):E=e[96];let I;e[97]!==l?(I=l("tagger.threshold.general.description"),e[97]=l,e[98]=I):I=e[98];let j;e[99]!==I?(j=c.jsx(re,{variant:"caption",color:"text.secondary",children:I}),e[99]=I,e[100]=j):j=e[100];let O;e[101]!==E||e[102]!==j||e[103]!==_?(O=c.jsxs(J,{children:[_,E,j]}),e[101]=E,e[102]=j,e[103]=_,e[104]=O):O=e[104];let L;e[105]!==n.characterThreshold||e[106]!==l?(L=l("tagger.threshold.character.label",{value:n.characterThreshold.toFixed(2)}),e[105]=n.characterThreshold,e[106]=l,e[107]=L):L=e[107];let N;e[108]!==L?(N=c.jsx(re,{gutterBottom:!0,children:L}),e[108]=L,e[109]=N):N=e[109];let M;e[110]!==a?(M=(te,ae)=>a({characterThreshold:ae}),e[110]=a,e[111]=M):M=e[111];let H;e[112]===Symbol.for("react.memo_cache_sentinel")?(H=[{value:0,label:"0.0"},{value:.5,label:"0.5"},{value:1,label:"1.0"}],e[112]=H):H=e[112];const P=!n.enabled;let $;e[113]!==n.characterThreshold||e[114]!==M||e[115]!==P?($=c.jsx(Ha,{value:n.characterThreshold,onChange:M,min:0,max:1,step:.05,marks:H,disabled:P}),e[113]=n.characterThreshold,e[114]=M,e[115]=P,e[116]=$):$=e[116];let D;e[117]!==l?(D=l("tagger.threshold.character.description"),e[117]=l,e[118]=D):D=e[118];let U;e[119]!==D?(U=c.jsx(re,{variant:"caption",color:"text.secondary",children:D}),e[119]=D,e[120]=U):U=e[120];let F;e[121]!==N||e[122]!==$||e[123]!==U?(F=c.jsxs(J,{children:[N,$,U]}),e[121]=N,e[122]=$,e[123]=U,e[124]=F):F=e[124];let W;e[125]!==l?(W=l("tagger.pythonPath.label"),e[125]=l,e[126]=W):W=e[126];const ee=n.pythonPath;let Q;e[127]!==a?(Q=te=>a({pythonPath:te.target.value}),e[127]=a,e[128]=Q):Q=e[128];const K=!n.enabled;let V;e[129]!==l?(V=l("tagger.pythonPath.helper"),e[129]=l,e[130]=V):V=e[130];let Z;e[131]!==n.pythonPath||e[132]!==W||e[133]!==Q||e[134]!==K||e[135]!==V?(Z=c.jsx(jt,{label:W,value:ee,onChange:Q,fullWidth:!0,disabled:K,helperText:V}),e[131]=n.pythonPath,e[132]=W,e[133]=Q,e[134]=K,e[135]=V,e[136]=Z):Z=e[136];let q;return e[137]!==u||e[138]!==d||e[139]!==O||e[140]!==h||e[141]!==F||e[142]!==Z||e[143]!==m||e[144]!==y||e[145]!==x?(q=c.jsxs(u,{spacing:d,children:[h,m,y,x,O,F,Z]}),e[137]=u,e[138]=d,e[139]=O,e[140]=h,e[141]=F,e[142]=Z,e[143]=m,e[144]=y,e[145]=x,e[146]=q):q=e[146],q},FBe=t=>{const e=bt.c(40),{localSettings:n,onUpdateSettings:r}=t,{t:a}=$t("settings");let i;e[0]!==a?(i=a("tagger.memoryManagement.title"),e[0]=a,e[1]=i):i=e[1];let s;e[2]!==i?(s=c.jsx(re,{variant:"h6",gutterBottom:!0,children:i}),e[2]=i,e[3]=s):s=e[3];let o;e[4]!==a?(o=a("tagger.memoryManagement.description"),e[4]=a,e[5]=o):o=e[5];let l;e[6]!==o?(l=c.jsx(re,{variant:"body2",color:"text.secondary",paragraph:!0,children:o}),e[6]=o,e[7]=l):l=e[7];let u;e[8]===Symbol.for("react.memo_cache_sentinel")?(u={display:"flex",alignItems:"center"},e[8]=u):u=e[8];let d;e[9]!==r?(d=I=>r({keepModelLoaded:I.target.checked}),e[9]=r,e[10]=d):d=e[10];let h;e[11]!==n.keepModelLoaded||e[12]!==d?(h=c.jsx(oi,{checked:n.keepModelLoaded,onChange:d}),e[11]=n.keepModelLoaded,e[12]=d,e[13]=h):h=e[13];let m;e[14]!==a?(m=a("tagger.memoryManagement.keepModelLoaded"),e[14]=a,e[15]=m):m=e[15];let y;e[16]!==h||e[17]!==m?(y=c.jsx(Zn,{control:h,label:m}),e[16]=h,e[17]=m,e[18]=y):y=e[18];let x;e[19]!==n.keepModelLoaded||e[20]!==a?(x=n.keepModelLoaded?a("tagger.memoryManagement.keepLoadedAlert"):a("tagger.memoryManagement.notKeepLoadedAlert"),e[19]=n.keepModelLoaded,e[20]=a,e[21]=x):x=e[21];let v;e[22]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx(Sc,{fontSize:"small",sx:{ml:1,color:"text.secondary"}}),e[22]=v):v=e[22];let _;e[23]!==x?(_=c.jsx(Xt,{title:x,arrow:!0,children:v}),e[23]=x,e[24]=_):_=e[24];let C;e[25]!==_||e[26]!==y?(C=c.jsxs(J,{sx:u,children:[y,_]}),e[25]=_,e[26]=y,e[27]=C):C=e[27];let w;e[28]!==n.autoUnloadMinutes||e[29]!==n.keepModelLoaded||e[30]!==r||e[31]!==a?(w=n.keepModelLoaded&&c.jsxs(J,{children:[c.jsx(re,{gutterBottom:!0,children:a("tagger.memoryManagement.autoUnloadMinutes",{minutes:n.autoUnloadMinutes})}),c.jsx(Ha,{value:n.autoUnloadMinutes,onChange:(I,j)=>r({autoUnloadMinutes:j}),min:1,max:60,step:1,marks:[{value:1,label:"1min"},{value:15,label:"15min"},{value:30,label:"30min"},{value:60,label:"60min"}]}),c.jsx(re,{variant:"caption",color:"text.secondary",children:a("tagger.memoryManagement.autoUnloadDescription")})]}),e[28]=n.autoUnloadMinutes,e[29]=n.keepModelLoaded,e[30]=r,e[31]=a,e[32]=w):w=e[32];let T;e[33]!==C||e[34]!==w?(T=c.jsxs(un,{spacing:2,children:[C,w]}),e[33]=C,e[34]=w,e[35]=T):T=e[35];let E;return e[36]!==T||e[37]!==s||e[38]!==l?(E=c.jsxs(J,{children:[s,l,T]}),e[36]=T,e[37]=s,e[38]=l,e[39]=E):E=e[39],E},BBe=t=>{const e=bt.c(42),{testImageId:n,testProcessing:r,testResult:a,onSetTestImageId:i,onTestImage:s}=t,{t:o}=$t("settings");let l;e[0]!==o?(l=o("tagger.test.title"),e[0]=o,e[1]=l):l=e[1];let u;e[2]!==l?(u=c.jsx(re,{variant:"h6",gutterBottom:!0,children:l}),e[2]=l,e[3]=u):u=e[3];let d;e[4]!==o?(d=o("tagger.test.description"),e[4]=o,e[5]=d):d=e[5];let h;e[6]!==d?(h=c.jsx(re,{variant:"body2",color:"text.secondary",paragraph:!0,children:d}),e[6]=d,e[7]=h):h=e[7];let m;e[8]===Symbol.for("react.memo_cache_sentinel")?(m={mb:2},e[8]=m):m=e[8];let y;e[9]!==o?(y=o("tagger.test.imageHash"),e[9]=o,e[10]=y):y=e[10];let x;e[11]!==i?(x=N=>i(N.target.value),e[11]=i,e[12]=x):x=e[12];let v;e[13]!==o?(v=o("tagger.test.placeholderHash"),e[13]=o,e[14]=v):v=e[14];let _;e[15]!==y||e[16]!==x||e[17]!==v||e[18]!==n?(_=c.jsx(jt,{label:y,value:n,onChange:x,fullWidth:!0,placeholder:v}),e[15]=y,e[16]=x,e[17]=v,e[18]=n,e[19]=_):_=e[19];let C;e[20]!==r?(C=r?c.jsx(Kt,{size:20}):c.jsx(n9e,{}),e[20]=r,e[21]=C):C=e[21];const w=r||!n;let T;e[22]===Symbol.for("react.memo_cache_sentinel")?(T={minWidth:150},e[22]=T):T=e[22];let E;e[23]!==o||e[24]!==r?(E=o(r?"tagger.test.processing":"tagger.test.button"),e[23]=o,e[24]=r,e[25]=E):E=e[25];let I;e[26]!==s||e[27]!==C||e[28]!==w||e[29]!==E?(I=c.jsx(Ke,{variant:"contained",startIcon:C,onClick:s,disabled:w,sx:T,children:E}),e[26]=s,e[27]=C,e[28]=w,e[29]=E,e[30]=I):I=e[30];let j;e[31]!==I||e[32]!==_?(j=c.jsxs(un,{direction:"row",spacing:2,sx:m,children:[_,I]}),e[31]=I,e[32]=_,e[33]=j):j=e[33];let O;e[34]!==o||e[35]!==a?(O=a&&c.jsxs(St,{severity:"success",sx:{mt:2},children:[c.jsx(re,{variant:"subtitle2",gutterBottom:!0,children:o("tagger.test.result")}),c.jsx(re,{variant:"body2",component:"pre",sx:{whiteSpace:"pre-wrap",fontSize:"0.875rem"},children:JSON.stringify(a.auto_tags,null,2)})]}),e[34]=o,e[35]=a,e[36]=O):O=e[36];let L;return e[37]!==j||e[38]!==O||e[39]!==u||e[40]!==h?(L=c.jsxs(J,{children:[u,h,j,O]}),e[37]=j,e[38]=O,e[39]=u,e[40]=h,e[41]=L):L=e[41],L},HBe=({settings:t,onUpdate:e})=>{const{t:n}=$t("settings"),{localSettings:r,loading:a,hasChanges:i,updateSettings:s,handleSave:o,handleReset:l}=OBe({settings:t,onUpdate:e}),{models:u,modelStatus:d,statusLoading:h,loading:m,loadModels:y,loadModelStatus:x,handleLoadModel:v,handleUnloadModel:_,handleDownloadModel:C,handleCheckDependencies:w}=DBe(r.enabled),{testImageId:T,testProcessing:E,testResult:I,setTestImageId:j,handleTestImage:O}=PBe(),[L,N]=A.useState(!1),[M,H]=A.useState(!1),[P,$]=A.useState(null),[D,U]=A.useState(null),F=async()=>{N(!0),$(null);try{const ee=await w();U(ee.available),$(ee.message)}catch{U(!1),$("Failed to check dependencies")}finally{N(!1)}},W=async()=>{H(!0),await C(r.model,n),H(!1)};return c.jsx(J,{children:c.jsx(gr,{children:c.jsxs(Ba,{children:[c.jsx(re,{variant:"h6",gutterBottom:!0,children:n("tagger.title")}),c.jsx(re,{variant:"body2",color:"text.secondary",paragraph:!0,children:n("tagger.description")}),c.jsxs(un,{spacing:3,sx:{mt:3},children:[r.enabled&&c.jsx(LBe,{modelStatus:d,statusLoading:h,models:u,loading:m,onLoadModel:()=>v(r.model,n),onUnloadModel:()=>_(n),onRefreshStatus:x}),c.jsx(yn,{}),c.jsx(zBe,{localSettings:r,models:u,onUpdateSettings:s,onDownloadModel:W,onRefreshModels:y,downloading:M}),c.jsx(yn,{sx:{my:2}}),r.enabled&&c.jsx(FBe,{localSettings:r,onUpdateSettings:s}),c.jsx(yn,{sx:{my:2}}),c.jsxs(J,{children:[c.jsx(Ke,{variant:"outlined",startIcon:L?c.jsx(Kt,{size:20}):c.jsx(Cs,{}),onClick:F,disabled:L||!r.enabled,fullWidth:!0,children:n(L?"tagger.buttons.checking":"tagger.buttons.checkDependencies")}),P&&c.jsx(St,{severity:D?"success":"error",sx:{mt:2},children:P})]}),c.jsx(yn,{sx:{my:2}}),r.enabled&&c.jsx(BBe,{testImageId:T,testProcessing:E,testResult:I,onSetTestImageId:j,onTestImage:()=>O(n)}),c.jsxs(un,{direction:"row",spacing:2,sx:{mt:3},children:[c.jsx(Ke,{variant:"contained",onClick:o,disabled:!i||a,fullWidth:!0,children:a?c.jsx(Kt,{size:24}):n("tagger.buttons.save")}),c.jsx(Ke,{variant:"outlined",onClick:l,disabled:!i||a,fullWidth:!0,children:n("tagger.buttons.cancel")})]})]})]})})})},UBe=()=>{const[t,e]=A.useState(null),[n,r]=A.useState({}),[a,i]=A.useState(!0),[s,o]=A.useState(!1);A.useEffect(()=>{l()},[]),A.useEffect(()=>{if(t){const h=n.general_weight!==void 0||n.sensitive_weight!==void 0||n.questionable_weight!==void 0||n.explicit_weight!==void 0;o(h)}},[n,t]);const l=async()=>{i(!0);try{const h=await up.getWeights();e(h),r({})}catch(h){throw console.error("Failed to load weights:",h),h}finally{i(!1)}};return{weights:t,localWeights:n,weightsLoading:a,weightsHasChanges:s,setLocalWeights:r,loadWeights:l,handleSaveWeights:async()=>{if(s)try{const h=await up.updateWeights(n);return e(h),r({}),h}catch(h){throw console.error("Failed to save weights:",h),h}},handleResetWeights:()=>{r({})}}},$Be=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!0),[a,i]=A.useState({open:!1,mode:"create",tier:{}});A.useEffect(()=>{s()},[]);const s=async()=>{r(!0);try{const h=await up.getAllTiers();e(h)}catch(h){throw console.error("Failed to load tiers:",h),h}finally{r(!1)}},o=(h,m)=>{if(h==="edit"&&m)i({open:!0,mode:"edit",tier:{tier_name:m.tier_name,min_score:m.min_score,max_score:m.max_score,tier_order:m.tier_order,color:m.color},editId:m.id});else{const y=t.length>0?Math.max(...t.map(x=>x.tier_order))+1:1;i({open:!0,mode:"create",tier:{tier_name:"",min_score:0,max_score:null,tier_order:y,color:"#2196f3"}})}},l=()=>{i({open:!1,mode:"create",tier:{}})};return{tiers:t,tiersLoading:n,tierDialog:a,setTierDialog:i,loadTiers:s,handleOpenTierDialog:o,handleCloseTierDialog:l,handleSaveTier:async()=>{const{mode:h,tier:m,editId:y}=a;if(!m.tier_name||m.min_score===void 0||m.tier_order===void 0)throw new Error("Required fields missing");try{return h==="create"?await up.createTier(m):y&&await up.updateTier(y,m),await s(),l(),h}catch(x){throw console.error("Failed to save tier:",x),x}},handleDeleteTier:async h=>{try{await up.deleteTier(h),await s()}catch(m){throw console.error("Failed to delete tier:",m),m}}}},Vh=(t,e,n)=>{if(!t)return 0;const r=e[n];return r!==void 0?r:t[n]??0},Wh=t=>Math.round(t*1e3)/1e3,GBe=(t,e,n)=>{const[r,a]=A.useState({general:.001,sensitive:.045,questionable:.735,explicit:.47}),[i,s]=A.useState(null),[o,l]=A.useState(!1),[u,d]=A.useState(null);A.useEffect(()=>{e&&Object.keys(e).length>0&&h()},[e,t,n]);const h=()=>{if(t)try{const y={general_weight:e.general_weight??t.general_weight,sensitive_weight:e.sensitive_weight??t.sensitive_weight,questionable_weight:e.questionable_weight??t.questionable_weight,explicit_weight:e.explicit_weight??t.explicit_weight},x=Wh(.001)*(y.general_weight||0)+Wh(.045)*(y.sensitive_weight||0)+Wh(.735)*(y.questionable_weight||0)+Wh(.47)*(y.explicit_weight||0),v=n.find(_=>_.min_score<=x&&(_.max_score===null||_.max_score>x));d({score:x,tier:v||null,breakdown:{general:Wh(.001)*(y.general_weight||0),sensitive:Wh(.045)*(y.sensitive_weight||0),questionable:Wh(.735)*(y.questionable_weight||0),explicit:Wh(.47)*(y.explicit_weight||0)},rawRating:{general:.001,sensitive:.045,questionable:.735,explicit:.47}})}catch(y){console.error("Failed to calculate preview:",y)}};return{testRating:r,testResult:i,testLoading:o,previewResult:u,setTestRating:a,handleCalculateTest:async()=>{l(!0);try{const y=await up.calculateScore(r);s(y)}catch(y){throw console.error("Failed to calculate score:",y),y}finally{l(!1)}}}},qBe=t=>{const e=bt.c(116),{weights:n,localWeights:r,weightsHasChanges:a,saving:i,previewResult:s,onUpdateWeights:o,onSaveWeights:l,onResetWeights:u}=t,{t:d}=$t("settings");let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h={mb:3},e[0]=h):h=e[0];let m;e[1]!==d?(m=d("rating.weights.title"),e[1]=d,e[2]=m):m=e[2];let y;e[3]!==m?(y=c.jsx(re,{variant:"h6",gutterBottom:!0,children:m}),e[3]=m,e[4]=y):y=e[4];let x;e[5]!==d?(x=d("rating.weights.description"),e[5]=d,e[6]=x):x=e[6];let v;e[7]!==x?(v=c.jsx(re,{variant:"body2",color:"text.secondary",paragraph:!0,children:x}),e[7]=x,e[8]=v):v=e[8];let _;e[9]===Symbol.for("react.memo_cache_sentinel")?(_={mt:3},e[9]=_):_=e[9];let C;e[10]!==r||e[11]!==d||e[12]!==n?(C=d("rating.weights.general",{value:Vh(n,r,"general_weight")}),e[10]=r,e[11]=d,e[12]=n,e[13]=C):C=e[13];let w;e[14]!==C?(w=c.jsx(re,{gutterBottom:!0,children:C}),e[14]=C,e[15]=w):w=e[15];let T;e[16]!==r||e[17]!==n?(T=Vh(n,r,"general_weight"),e[16]=r,e[17]=n,e[18]=T):T=e[18];let E;e[19]!==r||e[20]!==o?(E=(Ne,Pe)=>o({...r,general_weight:Pe}),e[19]=r,e[20]=o,e[21]=E):E=e[21];let I;e[22]===Symbol.for("react.memo_cache_sentinel")?(I=[{value:0,label:"0"},{value:50,label:"50"},{value:100,label:"100"}],e[22]=I):I=e[22];let j;e[23]!==E||e[24]!==T?(j=c.jsx(Ha,{value:T,onChange:E,min:0,max:100,step:1,marks:I}),e[23]=E,e[24]=T,e[25]=j):j=e[25];let O;e[26]!==j||e[27]!==w?(O=c.jsxs(J,{children:[w,j]}),e[26]=j,e[27]=w,e[28]=O):O=e[28];let L;e[29]!==r||e[30]!==d||e[31]!==n?(L=d("rating.weights.sensitive",{value:Vh(n,r,"sensitive_weight")}),e[29]=r,e[30]=d,e[31]=n,e[32]=L):L=e[32];let N;e[33]!==L?(N=c.jsx(re,{gutterBottom:!0,children:L}),e[33]=L,e[34]=N):N=e[34];let M;e[35]!==r||e[36]!==n?(M=Vh(n,r,"sensitive_weight"),e[35]=r,e[36]=n,e[37]=M):M=e[37];let H;e[38]!==r||e[39]!==o?(H=(Ne,Pe)=>o({...r,sensitive_weight:Pe}),e[38]=r,e[39]=o,e[40]=H):H=e[40];let P;e[41]===Symbol.for("react.memo_cache_sentinel")?(P=[{value:0,label:"0"},{value:50,label:"50"},{value:100,label:"100"}],e[41]=P):P=e[41];let $;e[42]!==M||e[43]!==H?($=c.jsx(Ha,{value:M,onChange:H,min:0,max:100,step:1,marks:P}),e[42]=M,e[43]=H,e[44]=$):$=e[44];let D;e[45]!==N||e[46]!==$?(D=c.jsxs(J,{children:[N,$]}),e[45]=N,e[46]=$,e[47]=D):D=e[47];let U;e[48]!==r||e[49]!==d||e[50]!==n?(U=d("rating.weights.questionable",{value:Vh(n,r,"questionable_weight")}),e[48]=r,e[49]=d,e[50]=n,e[51]=U):U=e[51];let F;e[52]!==U?(F=c.jsx(re,{gutterBottom:!0,children:U}),e[52]=U,e[53]=F):F=e[53];let W;e[54]!==r||e[55]!==n?(W=Vh(n,r,"questionable_weight"),e[54]=r,e[55]=n,e[56]=W):W=e[56];let ee;e[57]!==r||e[58]!==o?(ee=(Ne,Pe)=>o({...r,questionable_weight:Pe}),e[57]=r,e[58]=o,e[59]=ee):ee=e[59];let Q;e[60]===Symbol.for("react.memo_cache_sentinel")?(Q=[{value:0,label:"0"},{value:50,label:"50"},{value:100,label:"100"}],e[60]=Q):Q=e[60];let K;e[61]!==W||e[62]!==ee?(K=c.jsx(Ha,{value:W,onChange:ee,min:0,max:100,step:1,marks:Q}),e[61]=W,e[62]=ee,e[63]=K):K=e[63];let V;e[64]!==F||e[65]!==K?(V=c.jsxs(J,{children:[F,K]}),e[64]=F,e[65]=K,e[66]=V):V=e[66];let Z;e[67]!==r||e[68]!==d||e[69]!==n?(Z=d("rating.weights.explicit",{value:Vh(n,r,"explicit_weight")}),e[67]=r,e[68]=d,e[69]=n,e[70]=Z):Z=e[70];let q;e[71]!==Z?(q=c.jsx(re,{gutterBottom:!0,children:Z}),e[71]=Z,e[72]=q):q=e[72];let te;e[73]!==r||e[74]!==n?(te=Vh(n,r,"explicit_weight"),e[73]=r,e[74]=n,e[75]=te):te=e[75];let ae;e[76]!==r||e[77]!==o?(ae=(Ne,Pe)=>o({...r,explicit_weight:Pe}),e[76]=r,e[77]=o,e[78]=ae):ae=e[78];let ie;e[79]===Symbol.for("react.memo_cache_sentinel")?(ie=[{value:0,label:"0"},{value:50,label:"50"},{value:100,label:"100"}],e[79]=ie):ie=e[79];let ce;e[80]!==te||e[81]!==ae?(ce=c.jsx(Ha,{value:te,onChange:ae,min:0,max:100,step:1,marks:ie}),e[80]=te,e[81]=ae,e[82]=ce):ce=e[82];let pe;e[83]!==q||e[84]!==ce?(pe=c.jsxs(J,{children:[q,ce]}),e[83]=q,e[84]=ce,e[85]=pe):pe=e[85];let ge;e[86]!==s||e[87]!==d?(ge=s&&c.jsxs(St,{severity:"info",icon:c.jsx(YX,{}),children:[c.jsx(re,{variant:"subtitle2",gutterBottom:!0,children:d("rating.weights.preview.title")}),c.jsxs(J,{sx:{display:"flex",alignItems:"center",gap:1,mt:1},children:[c.jsx(re,{variant:"body2",dangerouslySetInnerHTML:{__html:d("rating.weights.preview.score",{score:s.score.toFixed(2)})}}),s.tier&&c.jsx(yt,{label:s.tier.tier_name,size:"small",sx:{bgcolor:s.tier.color||void 0,color:"white"}})]})]}),e[86]=s,e[87]=d,e[88]=ge):ge=e[88];const oe=!a||i;let ue;e[89]!==i||e[90]!==d?(ue=i?c.jsx(Kt,{size:24}):d("rating.weights.buttons.save"),e[89]=i,e[90]=d,e[91]=ue):ue=e[91];let he;e[92]!==l||e[93]!==oe||e[94]!==ue?(he=c.jsx(Ke,{variant:"contained",onClick:l,disabled:oe,fullWidth:!0,children:ue}),e[92]=l,e[93]=oe,e[94]=ue,e[95]=he):he=e[95];const ve=!a||i;let me;e[96]!==d?(me=d("rating.weights.buttons.cancel"),e[96]=d,e[97]=me):me=e[97];let le;e[98]!==u||e[99]!==ve||e[100]!==me?(le=c.jsx(Ke,{variant:"outlined",onClick:u,disabled:ve,fullWidth:!0,children:me}),e[98]=u,e[99]=ve,e[100]=me,e[101]=le):le=e[101];let Se;e[102]!==he||e[103]!==le?(Se=c.jsxs(un,{direction:"row",spacing:2,children:[he,le]}),e[102]=he,e[103]=le,e[104]=Se):Se=e[104];let be;e[105]!==O||e[106]!==D||e[107]!==V||e[108]!==pe||e[109]!==ge||e[110]!==Se?(be=c.jsxs(un,{spacing:3,sx:_,children:[O,D,V,pe,ge,Se]}),e[105]=O,e[106]=D,e[107]=V,e[108]=pe,e[109]=ge,e[110]=Se,e[111]=be):be=e[111];let Te;return e[112]!==y||e[113]!==be||e[114]!==v?(Te=c.jsx(gr,{sx:h,children:c.jsxs(Ba,{children:[y,v,be]})}),e[112]=y,e[113]=be,e[114]=v,e[115]=Te):Te=e[115],Te},VBe=t=>{const e=bt.c(76),{tiers:n,saving:r,onOpenTierDialog:a,onDeleteTier:i}=t,{t:s}=$t("settings");let o;e[0]!==i||e[1]!==s?(o=V=>{window.confirm(s("rating.tiers.alerts.deleteConfirm"))&&i(V)},e[0]=i,e[1]=s,e[2]=o):o=e[2];const l=o;let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u={mb:3},e[3]=u):u=e[3];let d;e[4]===Symbol.for("react.memo_cache_sentinel")?(d={display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},e[4]=d):d=e[4];let h;e[5]!==s?(h=s("rating.tiers.title"),e[5]=s,e[6]=h):h=e[6];let m;e[7]!==h?(m=c.jsx(re,{variant:"h6",gutterBottom:!0,children:h}),e[7]=h,e[8]=m):m=e[8];let y;e[9]!==s?(y=s("rating.tiers.description"),e[9]=s,e[10]=y):y=e[10];let x;e[11]!==y?(x=c.jsx(re,{variant:"body2",color:"text.secondary",children:y}),e[11]=y,e[12]=x):x=e[12];let v;e[13]!==m||e[14]!==x?(v=c.jsxs(J,{children:[m,x]}),e[13]=m,e[14]=x,e[15]=v):v=e[15];let _;e[16]===Symbol.for("react.memo_cache_sentinel")?(_=c.jsx(Gs,{}),e[16]=_):_=e[16];let C;e[17]!==a?(C=()=>a("create"),e[17]=a,e[18]=C):C=e[18];let w;e[19]!==s?(w=s("rating.tiers.addButton"),e[19]=s,e[20]=w):w=e[20];let T;e[21]!==C||e[22]!==w?(T=c.jsx(Ke,{variant:"contained",startIcon:_,onClick:C,children:w}),e[21]=C,e[22]=w,e[23]=T):T=e[23];let E;e[24]!==T||e[25]!==v?(E=c.jsxs(J,{sx:d,children:[v,T]}),e[24]=T,e[25]=v,e[26]=E):E=e[26];let I;e[27]!==s?(I=s("rating.tiers.table.order"),e[27]=s,e[28]=I):I=e[28];let j;e[29]!==I?(j=c.jsx(nn,{children:I}),e[29]=I,e[30]=j):j=e[30];let O;e[31]!==s?(O=s("rating.tiers.table.name"),e[31]=s,e[32]=O):O=e[32];let L;e[33]!==O?(L=c.jsx(nn,{children:O}),e[33]=O,e[34]=L):L=e[34];let N;e[35]!==s?(N=s("rating.tiers.table.scoreRange"),e[35]=s,e[36]=N):N=e[36];let M;e[37]!==N?(M=c.jsx(nn,{children:N}),e[37]=N,e[38]=M):M=e[38];let H;e[39]!==s?(H=s("rating.tiers.table.color"),e[39]=s,e[40]=H):H=e[40];let P;e[41]!==H?(P=c.jsx(nn,{children:H}),e[41]=H,e[42]=P):P=e[42];let $;e[43]!==s?($=s("rating.tiers.table.actions"),e[43]=s,e[44]=$):$=e[44];let D;e[45]!==$?(D=c.jsx(nn,{align:"right",children:$}),e[45]=$,e[46]=D):D=e[46];let U;e[47]!==j||e[48]!==L||e[49]!==M||e[50]!==P||e[51]!==D?(U=c.jsx(M5,{children:c.jsxs(Rc,{children:[j,L,M,P,D]})}),e[47]=j,e[48]=L,e[49]=M,e[50]=P,e[51]=D,e[52]=U):U=e[52];let F;if(e[53]!==l||e[54]!==a||e[55]!==r||e[56]!==s||e[57]!==n){let V;e[59]!==l||e[60]!==a||e[61]!==r||e[62]!==s?(V=Z=>c.jsxs(Rc,{children:[c.jsx(nn,{children:Z.tier_order}),c.jsx(nn,{children:c.jsx(yt,{label:Z.tier_name,sx:{bgcolor:Z.color||void 0,color:"white"}})}),c.jsx(nn,{children:s("rating.tiers.table.scoreFormat",{min:Z.min_score,max:Z.max_score!==null?Z.max_score:s("rating.tiers.table.infinity")})}),c.jsx(nn,{children:c.jsx(J,{sx:{width:24,height:24,bgcolor:Z.color||"#ccc",borderRadius:1}})}),c.jsxs(nn,{align:"right",children:[c.jsx(ht,{size:"small",onClick:()=>a("edit",Z),disabled:r,children:c.jsx(zd,{fontSize:"small"})}),c.jsx(ht,{size:"small",onClick:()=>l(Z.id),disabled:r,color:"error",children:c.jsx(xa,{fontSize:"small"})})]})]},Z.id),e[59]=l,e[60]=a,e[61]=r,e[62]=s,e[63]=V):V=e[63],F=n.map(V),e[53]=l,e[54]=a,e[55]=r,e[56]=s,e[57]=n,e[58]=F}else F=e[58];let W;e[64]!==s||e[65]!==n.length?(W=n.length===0&&c.jsx(Rc,{children:c.jsx(nn,{colSpan:5,align:"center",children:c.jsx(re,{variant:"body2",color:"text.secondary",children:s("rating.tiers.table.empty")})})}),e[64]=s,e[65]=n.length,e[66]=W):W=e[66];let ee;e[67]!==F||e[68]!==W?(ee=c.jsxs(O5,{children:[F,W]}),e[67]=F,e[68]=W,e[69]=ee):ee=e[69];let Q;e[70]!==U||e[71]!==ee?(Q=c.jsx(D5,{component:Yt,variant:"outlined",children:c.jsxs(I5,{children:[U,ee]})}),e[70]=U,e[71]=ee,e[72]=Q):Q=e[72];let K;return e[73]!==E||e[74]!==Q?(K=c.jsx(gr,{sx:u,children:c.jsxs(Ba,{children:[E,Q]})}),e[73]=E,e[74]=Q,e[75]=K):K=e[75],K},WBe=t=>{const e=bt.c(80),{open:n,mode:r,tier:a,saving:i,onClose:s,onSave:o,onUpdateTier:l}=t,{t:u}=$t("settings");let d;e[0]!==r||e[1]!==u?(d=u(r==="create"?"rating.tiers.dialog.createTitle":"rating.tiers.dialog.editTitle"),e[0]=r,e[1]=u,e[2]=d):d=e[2];let h;e[3]!==d?(h=c.jsx(pr,{children:d}),e[3]=d,e[4]=h):h=e[4];let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m={mt:1},e[5]=m):m=e[5];let y;e[6]!==u?(y=u("rating.tiers.dialog.tierName"),e[6]=u,e[7]=y):y=e[7];const x=a.tier_name||"";let v;e[8]!==l?(v=ie=>l({tier_name:ie.target.value}),e[8]=l,e[9]=v):v=e[9];let _;e[10]!==y||e[11]!==x||e[12]!==v?(_=c.jsx(jt,{label:y,value:x,onChange:v,fullWidth:!0,required:!0}),e[10]=y,e[11]=x,e[12]=v,e[13]=_):_=e[13];let C;e[14]!==u?(C=u("rating.tiers.dialog.minScore"),e[14]=u,e[15]=C):C=e[15];const w=a.min_score??"";let T;e[16]!==l?(T=ie=>l({min_score:parseFloat(ie.target.value)}),e[16]=l,e[17]=T):T=e[17];let E;e[18]!==T||e[19]!==C||e[20]!==w?(E=c.jsx(jt,{label:C,type:"number",value:w,onChange:T,fullWidth:!0,required:!0}),e[18]=T,e[19]=C,e[20]=w,e[21]=E):E=e[21];let I;e[22]!==u?(I=u("rating.tiers.dialog.maxScore"),e[22]=u,e[23]=I):I=e[23];const j=a.max_score??"";let O;e[24]!==l?(O=ie=>l({max_score:ie.target.value===""?null:parseFloat(ie.target.value)}),e[24]=l,e[25]=O):O=e[25];let L;e[26]!==I||e[27]!==j||e[28]!==O?(L=c.jsx(jt,{label:I,type:"number",value:j,onChange:O,fullWidth:!0}),e[26]=I,e[27]=j,e[28]=O,e[29]=L):L=e[29];let N;e[30]!==u?(N=u("rating.tiers.dialog.order"),e[30]=u,e[31]=N):N=e[31];const M=a.tier_order??"";let H;e[32]!==l?(H=ie=>l({tier_order:parseInt(ie.target.value,10)}),e[32]=l,e[33]=H):H=e[33];let P;e[34]!==N||e[35]!==M||e[36]!==H?(P=c.jsx(jt,{label:N,type:"number",value:M,onChange:H,fullWidth:!0,required:!0}),e[34]=N,e[35]=M,e[36]=H,e[37]=P):P=e[37];let $;e[38]!==u?($=u("rating.tiers.dialog.color"),e[38]=u,e[39]=$):$=e[39];const D=a.color||"";let U;e[40]!==l?(U=ie=>l({color:ie.target.value}),e[40]=l,e[41]=U):U=e[41];let F;e[42]!==u?(F=u("rating.tiers.dialog.colorPlaceholder"),e[42]=u,e[43]=F):F=e[43];let W;e[44]!==u?(W=u("rating.tiers.dialog.colorHelper"),e[44]=u,e[45]=W):W=e[45];let ee;e[46]!==$||e[47]!==D||e[48]!==U||e[49]!==F||e[50]!==W?(ee=c.jsx(jt,{label:$,value:D,onChange:U,fullWidth:!0,placeholder:F,helperText:W}),e[46]=$,e[47]=D,e[48]=U,e[49]=F,e[50]=W,e[51]=ee):ee=e[51];let Q;e[52]!==E||e[53]!==L||e[54]!==P||e[55]!==ee||e[56]!==_?(Q=c.jsx(hr,{children:c.jsxs(un,{spacing:2,sx:m,children:[_,E,L,P,ee]})}),e[52]=E,e[53]=L,e[54]=P,e[55]=ee,e[56]=_,e[57]=Q):Q=e[57];let K;e[58]!==u?(K=u("rating.tiers.dialog.cancel"),e[58]=u,e[59]=K):K=e[59];let V;e[60]!==s||e[61]!==i||e[62]!==K?(V=c.jsx(Ke,{onClick:s,disabled:i,children:K}),e[60]=s,e[61]=i,e[62]=K,e[63]=V):V=e[63];let Z;e[64]!==i||e[65]!==u?(Z=i?c.jsx(Kt,{size:20}):u("rating.tiers.dialog.save"),e[64]=i,e[65]=u,e[66]=Z):Z=e[66];let q;e[67]!==o||e[68]!==i||e[69]!==Z?(q=c.jsx(Ke,{onClick:o,variant:"contained",disabled:i,children:Z}),e[67]=o,e[68]=i,e[69]=Z,e[70]=q):q=e[70];let te;e[71]!==V||e[72]!==q?(te=c.jsxs(yr,{children:[V,q]}),e[71]=V,e[72]=q,e[73]=te):te=e[73];let ae;return e[74]!==s||e[75]!==n||e[76]!==h||e[77]!==Q||e[78]!==te?(ae=c.jsxs(or,{open:n,onClose:s,maxWidth:"sm",fullWidth:!0,children:[h,Q,te]}),e[74]=s,e[75]=n,e[76]=h,e[77]=Q,e[78]=te,e[79]=ae):ae=e[79],ae},YBe=t=>{const e=bt.c(93),{testRating:n,testResult:r,testLoading:a,onUpdateTestRating:i,onCalculateTest:s}=t,{t:o}=$t("settings");let l;e[0]!==o?(l=o("rating.calculator.title"),e[0]=o,e[1]=l):l=e[1];let u;e[2]!==l?(u=c.jsx(re,{variant:"h6",gutterBottom:!0,children:l}),e[2]=l,e[3]=u):u=e[3];let d;e[4]!==o?(d=o("rating.calculator.description"),e[4]=o,e[5]=d):d=e[5];let h;e[6]!==d?(h=c.jsx(re,{variant:"body2",color:"text.secondary",paragraph:!0,children:d}),e[6]=d,e[7]=h):h=e[7];let m;e[8]===Symbol.for("react.memo_cache_sentinel")?(m={mt:3},e[8]=m):m=e[8];let y;e[9]!==o||e[10]!==n.general?(y=o("rating.calculator.general",{value:n.general.toFixed(3)}),e[9]=o,e[10]=n.general,e[11]=y):y=e[11];let x;e[12]!==y?(x=c.jsx(re,{gutterBottom:!0,children:y}),e[12]=y,e[13]=x):x=e[13];let v;e[14]!==i||e[15]!==n?(v=(ce,pe)=>i({...n,general:pe}),e[14]=i,e[15]=n,e[16]=v):v=e[16];let _;e[17]===Symbol.for("react.memo_cache_sentinel")?(_=[{value:0,label:"0.0"},{value:.5,label:"0.5"},{value:1,label:"1.0"}],e[17]=_):_=e[17];let C;e[18]!==v||e[19]!==n.general?(C=c.jsx(Ha,{value:n.general,onChange:v,min:0,max:1,step:.001,marks:_}),e[18]=v,e[19]=n.general,e[20]=C):C=e[20];let w;e[21]!==C||e[22]!==x?(w=c.jsxs(J,{children:[x,C]}),e[21]=C,e[22]=x,e[23]=w):w=e[23];let T;e[24]!==o||e[25]!==n.sensitive?(T=o("rating.calculator.sensitive",{value:n.sensitive.toFixed(3)}),e[24]=o,e[25]=n.sensitive,e[26]=T):T=e[26];let E;e[27]!==T?(E=c.jsx(re,{gutterBottom:!0,children:T}),e[27]=T,e[28]=E):E=e[28];let I;e[29]!==i||e[30]!==n?(I=(ce,pe)=>i({...n,sensitive:pe}),e[29]=i,e[30]=n,e[31]=I):I=e[31];let j;e[32]===Symbol.for("react.memo_cache_sentinel")?(j=[{value:0,label:"0.0"},{value:.5,label:"0.5"},{value:1,label:"1.0"}],e[32]=j):j=e[32];let O;e[33]!==I||e[34]!==n.sensitive?(O=c.jsx(Ha,{value:n.sensitive,onChange:I,min:0,max:1,step:.001,marks:j}),e[33]=I,e[34]=n.sensitive,e[35]=O):O=e[35];let L;e[36]!==E||e[37]!==O?(L=c.jsxs(J,{children:[E,O]}),e[36]=E,e[37]=O,e[38]=L):L=e[38];let N;e[39]!==o||e[40]!==n.questionable?(N=o("rating.calculator.questionable",{value:n.questionable.toFixed(3)}),e[39]=o,e[40]=n.questionable,e[41]=N):N=e[41];let M;e[42]!==N?(M=c.jsx(re,{gutterBottom:!0,children:N}),e[42]=N,e[43]=M):M=e[43];let H;e[44]!==i||e[45]!==n?(H=(ce,pe)=>i({...n,questionable:pe}),e[44]=i,e[45]=n,e[46]=H):H=e[46];let P;e[47]===Symbol.for("react.memo_cache_sentinel")?(P=[{value:0,label:"0.0"},{value:.5,label:"0.5"},{value:1,label:"1.0"}],e[47]=P):P=e[47];let $;e[48]!==H||e[49]!==n.questionable?($=c.jsx(Ha,{value:n.questionable,onChange:H,min:0,max:1,step:.001,marks:P}),e[48]=H,e[49]=n.questionable,e[50]=$):$=e[50];let D;e[51]!==M||e[52]!==$?(D=c.jsxs(J,{children:[M,$]}),e[51]=M,e[52]=$,e[53]=D):D=e[53];let U;e[54]!==o||e[55]!==n.explicit?(U=o("rating.calculator.explicit",{value:n.explicit.toFixed(3)}),e[54]=o,e[55]=n.explicit,e[56]=U):U=e[56];let F;e[57]!==U?(F=c.jsx(re,{gutterBottom:!0,children:U}),e[57]=U,e[58]=F):F=e[58];let W;e[59]!==i||e[60]!==n?(W=(ce,pe)=>i({...n,explicit:pe}),e[59]=i,e[60]=n,e[61]=W):W=e[61];let ee;e[62]===Symbol.for("react.memo_cache_sentinel")?(ee=[{value:0,label:"0.0"},{value:.5,label:"0.5"},{value:1,label:"1.0"}],e[62]=ee):ee=e[62];let Q;e[63]!==W||e[64]!==n.explicit?(Q=c.jsx(Ha,{value:n.explicit,onChange:W,min:0,max:1,step:.001,marks:ee}),e[63]=W,e[64]=n.explicit,e[65]=Q):Q=e[65];let K;e[66]!==F||e[67]!==Q?(K=c.jsxs(J,{children:[F,Q]}),e[66]=F,e[67]=Q,e[68]=K):K=e[68];let V;e[69]!==a?(V=a?c.jsx(Kt,{size:20}):c.jsx(YX,{}),e[69]=a,e[70]=V):V=e[70];let Z;e[71]!==o||e[72]!==a?(Z=o(a?"rating.calculator.calculating":"rating.calculator.calculate"),e[71]=o,e[72]=a,e[73]=Z):Z=e[73];let q;e[74]!==s||e[75]!==V||e[76]!==Z||e[77]!==a?(q=c.jsx(Ke,{variant:"contained",startIcon:V,onClick:s,disabled:a,children:Z}),e[74]=s,e[75]=V,e[76]=Z,e[77]=a,e[78]=q):q=e[78];let te;e[79]!==o||e[80]!==r?(te=r&&c.jsxs(St,{severity:"success",children:[c.jsx(re,{variant:"subtitle2",gutterBottom:!0,children:o("rating.calculator.result.title")}),c.jsxs(J,{sx:{mt:2},children:[c.jsxs(J,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[c.jsx(re,{variant:"body1",dangerouslySetInnerHTML:{__html:o("rating.calculator.result.score",{score:r.score.toFixed(2)})}}),r.tier&&c.jsx(yt,{label:r.tier.tier_name,sx:{bgcolor:r.tier.color||void 0,color:"white"}})]}),c.jsx(yn,{sx:{my:1}}),c.jsx(re,{variant:"caption",color:"text.secondary",children:o("rating.calculator.result.breakdown")}),c.jsxs(J,{sx:{mt:1},children:[c.jsx(re,{variant:"body2",children:o("rating.calculator.result.generalScore",{score:r.breakdown.general.toFixed(3)})}),c.jsx(re,{variant:"body2",children:o("rating.calculator.result.sensitiveScore",{score:r.breakdown.sensitive.toFixed(3)})}),c.jsx(re,{variant:"body2",children:o("rating.calculator.result.questionableScore",{score:r.breakdown.questionable.toFixed(3)})}),c.jsx(re,{variant:"body2",children:o("rating.calculator.result.explicitScore",{score:r.breakdown.explicit.toFixed(3)})})]})]})]}),e[79]=o,e[80]=r,e[81]=te):te=e[81];let ae;e[82]!==w||e[83]!==L||e[84]!==D||e[85]!==K||e[86]!==q||e[87]!==te?(ae=c.jsxs(un,{spacing:3,sx:m,children:[w,L,D,K,q,te]}),e[82]=w,e[83]=L,e[84]=D,e[85]=K,e[86]=q,e[87]=te,e[88]=ae):ae=e[88];let ie;return e[89]!==u||e[90]!==ae||e[91]!==h?(ie=c.jsx(gr,{children:c.jsxs(Ba,{children:[u,h,ae]})}),e[89]=u,e[90]=ae,e[91]=h,e[92]=ie):ie=e[92],ie},KBe=()=>{const{t}=$t("settings"),[e,n]=A.useState(!1),[r,a]=A.useState(0),[i,s]=A.useState(0),[o,l]=A.useState(!1),[u,d]=A.useState(null),[h,m]=A.useState(null),y=async()=>{l(!1),n(!0),d(null),m(null),a(0),s(0);try{const x=await en.post("/api/images/recalculate-rating-scores");if(x.data.success){const{total:v,success_count:_,fail_count:C}=x.data.data;s(v),a(v),m(t("rating.recalculation.success",{total:v,success:_,failed:C}))}else d(x.data.error||t("rating.recalculation.failed"))}catch(x){console.error("[RatingScoreRecalculation] Error:",x),d(x.response?.data?.error||t("rating.recalculation.failed"))}finally{n(!1)}};return c.jsxs(J,{children:[c.jsx(re,{variant:"h6",gutterBottom:!0,children:t("rating.recalculation.title")}),c.jsx(re,{variant:"body2",color:"text.secondary",paragraph:!0,children:t("rating.recalculation.description")}),u&&c.jsx(St,{severity:"error",sx:{mb:2},children:u}),h&&c.jsx(St,{severity:"success",sx:{mb:2},children:h}),e&&i>0&&c.jsxs(J,{sx:{mb:2},children:[c.jsx(re,{variant:"body2",gutterBottom:!0,children:t("rating.recalculation.progress",{current:r,total:i})}),c.jsx(Ld,{variant:"determinate",value:r/i*100})]}),c.jsx(un,{spacing:2,children:c.jsx(Ke,{variant:"contained",color:"primary",startIcon:e?c.jsx(Kt,{size:20}):c.jsx(wo,{}),onClick:()=>l(!0),disabled:e,fullWidth:!0,children:t(e?"rating.recalculation.buttons.processing":"rating.recalculation.buttons.recalculate")})}),c.jsxs(or,{open:o,onClose:()=>l(!1),children:[c.jsx(pr,{children:t("rating.recalculation.confirmDialog.title")}),c.jsx(hr,{children:c.jsx(Dp,{children:t("rating.recalculation.confirmDialog.message")})}),c.jsxs(yr,{children:[c.jsx(Ke,{onClick:()=>l(!1),children:t("rating.recalculation.confirmDialog.cancel")}),c.jsx(Ke,{onClick:y,color:"primary",variant:"contained",children:t("rating.recalculation.confirmDialog.confirm")})]})]})]})},XBe=()=>{const{t}=$t("settings"),[e,n]=A.useState(!1),[r,a]=A.useState(null),[i,s]=A.useState(null),{weights:o,localWeights:l,weightsLoading:u,weightsHasChanges:d,setLocalWeights:h,handleSaveWeights:m,handleResetWeights:y}=UBe(),{tiers:x,tiersLoading:v,tierDialog:_,setTierDialog:C,handleOpenTierDialog:w,handleCloseTierDialog:T,handleSaveTier:E,handleDeleteTier:I}=$Be(),{testRating:j,testResult:O,testLoading:L,previewResult:N,setTestRating:M,handleCalculateTest:H}=GBe(o,l,x),P=async()=>{n(!0),a(null),s(null);try{await m(),s(t("rating.weights.alerts.saveSuccess")),setTimeout(()=>s(null),3e3)}catch{a(t("rating.weights.alerts.saveFailed"))}finally{n(!1)}},$=async()=>{n(!0),a(null);try{const F=await E();s(t(F==="create"?"rating.tiers.alerts.created":"rating.tiers.alerts.updated")),setTimeout(()=>s(null),3e3)}catch(F){F.message==="Required fields missing"?a(t("rating.tiers.dialog.requiredFields")):a(t("rating.tiers.alerts.saveFailed"))}finally{n(!1)}},D=async F=>{n(!0),a(null);try{await I(F),s(t("rating.tiers.alerts.deleted")),setTimeout(()=>s(null),3e3)}catch{a(t("rating.tiers.alerts.deleteFailed"))}finally{n(!1)}},U=async()=>{a(null);try{await H()}catch{a(t("rating.calculator.failed"))}};return u||v?c.jsx(J,{sx:{display:"flex",justifyContent:"center",py:4},children:c.jsx(Kt,{})}):c.jsxs(J,{children:[i&&c.jsx(St,{severity:"success",sx:{mb:3},children:i}),r&&c.jsx(St,{severity:"error",sx:{mb:3},children:r}),c.jsx(qBe,{weights:o,localWeights:l,weightsHasChanges:d,saving:e,previewResult:N,onUpdateWeights:h,onSaveWeights:P,onResetWeights:y}),c.jsx(VBe,{tiers:x,saving:e,onOpenTierDialog:w,onDeleteTier:D}),c.jsx(YBe,{testRating:j,testResult:O,testLoading:L,onUpdateTestRating:M,onCalculateTest:U}),c.jsx(KBe,{}),c.jsx(WBe,{open:_.open,mode:_.mode,tier:_.tier,saving:e,onClose:T,onSave:$,onUpdateTier:F=>C({..._,tier:{..._.tier,...F}})})]})},g1=en.create({baseURL:`${Ir}/api/images`,headers:{"Content-Type":"application/json"},withCredentials:!0}),Uf={findDuplicates:async(t,e=5,n=!0)=>(await g1.get(`/${t}/duplicates`,{params:{threshold:e,includeMetadata:n}})).data.data.similar,findSimilar:async(t,e={})=>{const{threshold:n=15,limit:r=20,includeColorSimilarity:a=!1,sortBy:i="similarity",sortOrder:s="DESC"}=e;return(await g1.get(`/${t}/similar`,{params:{threshold:n,limit:r,includeColorSimilarity:a,sortBy:i,sortOrder:s}})).data.data.similar},findSimilarByColor:async(t,e=85,n=20)=>(await g1.get(`/${t}/similar-color`,{params:{threshold:e,limit:n}})).data.data.similar,findAllDuplicates:async(t={})=>{const{threshold:e=5,minGroupSize:n=2}=t;return(await g1.get("/duplicates/all",{params:{threshold:e,minGroupSize:n}})).data.data.groups},rebuildHashes:async(t=50)=>(await g1.post("/similarity/rebuild",null,{params:{limit:t}})).data.data,getStats:async()=>(await g1.get("/similarity/stats")).data.data},QBe=()=>{const[t,e]=A.useState(null),[n,r]=A.useState(!1),[a,i]=A.useState(0),[s,o]=A.useState(0),[l,u]=A.useState(0),[d,h]=A.useState(!0);A.useEffect(()=>{m(),y()},[]);const m=async()=>{try{const _=await Uf.getStats();e(_)}catch(_){console.error("Failed to load stats:",_)}},y=async()=>{try{const _=await Bs.getSettings();h(_.similarity.autoGenerateHashOnUpload)}catch(_){console.error("Failed to load settings:",_)}};return{stats:t,rebuilding:n,rebuildProgress:a,rebuildProcessed:s,rebuildTotal:l,autoGenerateHash:d,loadStats:m,handleAutoGenerateHashChange:async(_,C)=>{h(_);try{await Bs.updateSimilaritySettings({autoGenerateHashOnUpload:_})}catch(w){console.error("Failed to update similarity settings:",w),alert(C("similarity.systemStatus.autoGenerateUpdateFailed")),h(!_)}},handleRebuildHashes:async _=>{r(!0),i(0),o(0),u(0);try{const w=(await Uf.getStats()).imagesWithoutHash;if(u(w),w===0){alert(_("similarity.systemStatus.noImagesToProcess"));return}let T=0,E=0;const I=50;for(;T<w;){const j=await Uf.rebuildHashes(I);if(T+=j.processed,E+=j.failed,o(T),i(T/w*100),j.remaining===0)break}E>0?alert(_("similarity.systemStatus.rebuildCompleteWithErrors",{success:T,failed:E})):alert(_("similarity.systemStatus.rebuildComplete",{processed:T})),await m()}catch(C){alert(_("similarity.systemStatus.rebuildFailed")),console.error("Failed to rebuild hashes:",C)}finally{r(!1)}}}},ZBe=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(!1),[a,i]=A.useState([]),[s,o]=A.useState("similar"),[l,u]=A.useState(null),[d,h]=A.useState(5),[m,y]=A.useState(15),[x,v]=A.useState(85),[_,C]=A.useState(20);return{testImageId:t,testLoading:n,testResults:a,testType:s,queryImage:l,duplicateThreshold:d,similarThreshold:m,colorThreshold:x,searchLimit:_,setTestImageId:e,setTestType:o,setDuplicateThreshold:h,setSimilarThreshold:y,setColorThreshold:v,setSearchLimit:C,handleTestSearch:async T=>{const E=t.trim();if(!E){alert(T("similarity.test.invalidId")||"Please enter a composite hash");return}if(!/^[0-9a-fA-F]{48}$/.test(E)){alert(T("similarity.test.invalidHashFormat")||"Invalid hash format. Expected 48 hexadecimal characters.");return}r(!0),i([]),u(null);try{const j=await ba.getImage(E);j.success&&j.data&&u(j.data);let O=[];s==="duplicates"?O=await Uf.findDuplicates(E,d):s==="similar"?O=await Uf.findSimilar(E,{threshold:m,limit:_,includeColorSimilarity:!0}):s==="color"&&(O=await Uf.findSimilarByColor(E,x,_)),i(O)}catch(j){alert(j.response?.data?.error||T("similarity.test.searchFailed")),console.error("Failed to search:",j)}finally{r(!1)}}}},JBe=t=>{const[e,n]=A.useState([]),[r,a]=A.useState(!1);return{duplicateGroups:e,scanLoading:r,handleScanDuplicates:async s=>{a(!0),n([]);try{const o=await Uf.findAllDuplicates({threshold:t,minGroupSize:2});n(o)}catch(o){alert(s("similarity.test.searchFailed")),console.error("Failed to scan duplicates:",o)}finally{a(!1)}}}},eHe=t=>{const e=bt.c(86),{stats:n,rebuilding:r,rebuildProgress:a,rebuildProcessed:i,rebuildTotal:s,autoGenerateHash:o,onAutoGenerateHashChange:l,onRebuildHashes:u,onRefreshStats:d}=t,{t:h}=$t("settings");if(!n){let pe;return e[0]===Symbol.for("react.memo_cache_sentinel")?(pe=c.jsx(Kt,{}),e[0]=pe):pe=e[0],pe}let m;e[1]===Symbol.for("react.memo_cache_sentinel")?(m={mb:3},e[1]=m):m=e[1];let y;e[2]!==h?(y=h("similarity.systemStatus.title"),e[2]=h,e[3]=y):y=e[3];let x;e[4]!==y?(x=c.jsx(re,{variant:"h6",gutterBottom:!0,children:y}),e[4]=y,e[5]=x):x=e[5];let v;e[6]!==h?(v=h("similarity.systemStatus.description"),e[6]=h,e[7]=v):v=e[7];let _;e[8]!==v?(_=c.jsx(re,{variant:"body2",color:"text.secondary",paragraph:!0,children:v}),e[8]=v,e[9]=_):_=e[9];let C;e[10]!==n.totalImages||e[11]!==h?(C=h("similarity.systemStatus.totalImages",{count:n.totalImages}),e[10]=n.totalImages,e[11]=h,e[12]=C):C=e[12];let w;e[13]!==C?(w=c.jsx(yt,{label:C,color:"primary",variant:"outlined"}),e[13]=C,e[14]=w):w=e[14];let T;e[15]!==n.imagesWithHash||e[16]!==h?(T=h("similarity.systemStatus.withHash",{count:n.imagesWithHash}),e[15]=n.imagesWithHash,e[16]=h,e[17]=T):T=e[17];let E;e[18]===Symbol.for("react.memo_cache_sentinel")?(E=c.jsx(Cs,{}),e[18]=E):E=e[18];let I;e[19]!==T?(I=c.jsx(yt,{label:T,color:"success",icon:E}),e[19]=T,e[20]=I):I=e[20];let j;e[21]!==n.imagesWithoutHash||e[22]!==h?(j=h("similarity.systemStatus.withoutHash",{count:n.imagesWithoutHash}),e[21]=n.imagesWithoutHash,e[22]=h,e[23]=j):j=e[23];let O;e[24]!==j?(O=c.jsx(yt,{label:j,color:"warning"}),e[24]=j,e[25]=O):O=e[25];let L;e[26]!==n.completionPercentage||e[27]!==h?(L=h("similarity.systemStatus.completion",{percent:n.completionPercentage}),e[26]=n.completionPercentage,e[27]=h,e[28]=L):L=e[28];const N=n.completionPercentage===100?"success":"info";let M;e[29]!==L||e[30]!==N?(M=c.jsx(yt,{label:L,color:N}),e[29]=L,e[30]=N,e[31]=M):M=e[31];let H;e[32]!==I||e[33]!==O||e[34]!==M||e[35]!==w?(H=c.jsxs(un,{direction:"row",spacing:1,flexWrap:"wrap",children:[w,I,O,M]}),e[32]=I,e[33]=O,e[34]=M,e[35]=w,e[36]=H):H=e[36];let P;e[37]!==i||e[38]!==a||e[39]!==s||e[40]!==r||e[41]!==h?(P=r&&c.jsxs(J,{children:[c.jsx(re,{variant:"body2",gutterBottom:!0,children:h("similarity.systemStatus.rebuildProgress",{processed:i,total:s,percent:a.toFixed(0)})}),c.jsx(Ld,{variant:"determinate",value:a})]}),e[37]=i,e[38]=a,e[39]=s,e[40]=r,e[41]=h,e[42]=P):P=e[42];let $;e[43]!==l?($=pe=>l(pe.target.checked),e[43]=l,e[44]=$):$=e[44];let D;e[45]!==o||e[46]!==$?(D=c.jsx(oi,{checked:o,onChange:$,color:"primary"}),e[45]=o,e[46]=$,e[47]=D):D=e[47];let U;e[48]!==h?(U=h("similarity.systemStatus.autoGenerateHash"),e[48]=h,e[49]=U):U=e[49];let F;e[50]!==D||e[51]!==U?(F=c.jsx(Zn,{control:D,label:U}),e[50]=D,e[51]=U,e[52]=F):F=e[52];let W;e[53]!==r?(W=r?c.jsx(Kt,{size:20}):c.jsx(wo,{}),e[53]=r,e[54]=W):W=e[54];const ee=r||n.imagesWithoutHash===0;let Q;e[55]!==r||e[56]!==n.imagesWithoutHash||e[57]!==h?(Q=r?h("similarity.systemStatus.rebuildingButton"):h("similarity.systemStatus.rebuildButton",{count:n.imagesWithoutHash}),e[55]=r,e[56]=n.imagesWithoutHash,e[57]=h,e[58]=Q):Q=e[58];let K;e[59]!==u||e[60]!==W||e[61]!==ee||e[62]!==Q?(K=c.jsx(Ke,{variant:"contained",startIcon:W,onClick:u,disabled:ee,children:Q}),e[59]=u,e[60]=W,e[61]=ee,e[62]=Q,e[63]=K):K=e[63];let V;e[64]===Symbol.for("react.memo_cache_sentinel")?(V=c.jsx(wo,{}),e[64]=V):V=e[64];let Z;e[65]!==h?(Z=h("similarity.systemStatus.refreshButton"),e[65]=h,e[66]=Z):Z=e[66];let q;e[67]!==d||e[68]!==Z?(q=c.jsx(Ke,{variant:"outlined",startIcon:V,onClick:d,children:Z}),e[67]=d,e[68]=Z,e[69]=q):q=e[69];let te;e[70]!==K||e[71]!==q?(te=c.jsxs(un,{direction:"row",spacing:2,children:[K,q]}),e[70]=K,e[71]=q,e[72]=te):te=e[72];let ae;e[73]!==n.imagesWithoutHash||e[74]!==h?(ae=n.imagesWithoutHash===0&&c.jsx(Xt,{title:h("similarity.systemStatus.allComplete"),arrow:!0,children:c.jsx(yt,{icon:c.jsx(Cs,{}),label:h("similarity.systemStatus.allCompleteShort"),color:"success",size:"small"})}),e[73]=n.imagesWithoutHash,e[74]=h,e[75]=ae):ae=e[75];let ie;e[76]!==H||e[77]!==P||e[78]!==F||e[79]!==te||e[80]!==ae?(ie=c.jsxs(un,{spacing:2,children:[H,P,F,te,ae]}),e[76]=H,e[77]=P,e[78]=F,e[79]=te,e[80]=ae,e[81]=ie):ie=e[81];let ce;return e[82]!==x||e[83]!==ie||e[84]!==_?(ce=c.jsx(gr,{sx:m,children:c.jsxs(Ba,{children:[x,_,ie]})}),e[82]=x,e[83]=ie,e[84]=_,e[85]=ce):ce=e[85],ce},p2=t=>{const e=t.thumbnail_url??t.original_file_path;return e?yC(e):null},tHe=t=>{switch(t){case"exact":return"error";case"near-duplicate":return"warning";case"similar":return"info";case"color-similar":return"success";default:return"info"}},nHe=(t,e)=>{switch(t){case"exact":return e("similarity.test.matchTypes.exact");case"near-duplicate":return e("similarity.test.matchTypes.nearDuplicate");case"similar":return e("similarity.test.matchTypes.similar");case"color-similar":return e("similarity.test.matchTypes.colorSimilar");default:return e("similarity.test.matchTypes.similar")}},rHe=t=>{const e=bt.c(56),{queryImage:n,testResults:r}=t,{t:a}=$t("settings"),[i,s]=A.useState(null),[o,l]=A.useState(0);let u;e[0]!==a?(u=a("similarity.test.queryImage"),e[0]=a,e[1]=u):u=e[1];let d;e[2]!==u?(d=c.jsx(re,{variant:"subtitle2",gutterBottom:!0,children:u}),e[2]=u,e[3]=d):d=e[3];let h;e[4]===Symbol.for("react.memo_cache_sentinel")?(h={maxWidth:400,mx:"auto",mb:3},e[4]=h):h=e[4];let m;e[5]!==n?(m=p2(n)?c.jsx(J,{component:"img",src:p2(n),alt:n.original_file_path??"",sx:{width:"100%",maxHeight:300,objectFit:"contain"}}):c.jsx(J,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"grey.100"},children:c.jsx(re,{color:"text.secondary",children:"No thumbnail available"})}),e[5]=n,e[6]=m):m=e[6];let y;e[7]!==a?(y=a("similarity.test.imageDetails.id"),e[7]=a,e[8]=y):y=e[8];let x;e[9]!==y?(x=c.jsx("strong",{children:y}),e[9]=y,e[10]=x):x=e[10];let v;e[11]!==n.composite_hash||e[12]!==x?(v=c.jsxs(re,{variant:"body2",children:[x," ",n.composite_hash]}),e[11]=n.composite_hash,e[12]=x,e[13]=v):v=e[13];let _;e[14]!==a?(_=a("similarity.test.imageDetails.filename"),e[14]=a,e[15]=_):_=e[15];let C;e[16]!==_?(C=c.jsx("strong",{children:_}),e[16]=_,e[17]=C):C=e[17];const w=n.original_file_path??"";let T;e[18]!==w||e[19]!==C?(T=c.jsxs(re,{variant:"body2",noWrap:!0,children:[C," ",w]}),e[18]=w,e[19]=C,e[20]=T):T=e[20];let E;e[21]!==a?(E=a("similarity.test.imageDetails.size"),e[21]=a,e[22]=E):E=e[22];let I;e[23]!==E?(I=c.jsx("strong",{children:E}),e[23]=E,e[24]=I):I=e[24];let j;e[25]!==n.height||e[26]!==n.width||e[27]!==I?(j=c.jsxs(re,{variant:"body2",children:[I," ",n.width,"  ",n.height]}),e[25]=n.height,e[26]=n.width,e[27]=I,e[28]=j):j=e[28];let O;e[29]!==n.ai_tool||e[30]!==a?(O=n.ai_tool&&c.jsxs(re,{variant:"body2",children:[c.jsx("strong",{children:a("similarity.test.imageDetails.aiTool")})," ",n.ai_tool]}),e[29]=n.ai_tool,e[30]=a,e[31]=O):O=e[31];let L;e[32]!==T||e[33]!==j||e[34]!==O||e[35]!==v?(L=c.jsxs(Ba,{children:[v,T,j,O]}),e[32]=T,e[33]=j,e[34]=O,e[35]=v,e[36]=L):L=e[36];let N;e[37]!==L||e[38]!==m?(N=c.jsxs(gr,{variant:"outlined",sx:h,children:[m,L]}),e[37]=L,e[38]=m,e[39]=N):N=e[39];let M;e[40]!==a||e[41]!==r?(M=r.length>0&&c.jsxs(J,{children:[c.jsx(re,{variant:"subtitle2",gutterBottom:!0,children:a("similarity.test.results",{count:r.length})}),c.jsx(J,{sx:{display:"grid",gridTemplateColumns:{xs:"repeat(2, 1fr)",sm:"repeat(3, 1fr)",md:"repeat(4, 1fr)"},gap:2},children:r.slice(0,12).map((F,W)=>c.jsx(J,{children:c.jsxs(gr,{variant:"outlined",onClick:()=>{s(F.image),l(W)},sx:{cursor:"pointer",transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:4}},children:[p2(F.image)?c.jsx(J,{component:"img",src:p2(F.image),alt:F.image.original_file_path??"",sx:{width:"100%",height:150,objectFit:"cover"}}):c.jsx(J,{sx:{height:150,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"grey.100"},children:c.jsx(re,{variant:"caption",color:"text.secondary",children:"No image"})}),c.jsxs(Ba,{sx:{p:1},children:[c.jsxs(un,{direction:"row",spacing:.5,sx:{flexWrap:"wrap"},children:[c.jsx(yt,{label:a("similarity.test.similarity",{percent:F.similarity.toFixed(1)}),size:"small",color:"primary"}),c.jsx(yt,{label:nHe(F.matchType,a),size:"small",color:tHe(F.matchType)})]}),F.colorSimilarity&&c.jsx(re,{variant:"caption",color:"text.secondary",children:a("similarity.test.colorSimilarity",{percent:F.colorSimilarity.toFixed(1)})})]})]})},F.image.file_id?`file-${F.image.file_id}`:`hash-${F.image.composite_hash}-${W}`))})]}),e[40]=a,e[41]=r,e[42]=M):M=e[42];const H=i!==null;let P;e[43]===Symbol.for("react.memo_cache_sentinel")?(P=()=>s(null),e[43]=P):P=e[43];let $;e[44]!==r?($=r.map(aHe),e[44]=r,e[45]=$):$=e[45];let D;e[46]!==i||e[47]!==o||e[48]!==H||e[49]!==$?(D=c.jsx(W5,{open:H,onClose:P,image:i,images:$,currentIndex:o,onImageChange:l}),e[46]=i,e[47]=o,e[48]=H,e[49]=$,e[50]=D):D=e[50];let U;return e[51]!==N||e[52]!==M||e[53]!==d||e[54]!==D?(U=c.jsxs(J,{children:[d,N,M,D]}),e[51]=N,e[52]=M,e[53]=d,e[54]=D,e[55]=U):U=e[55],U};function aHe(t){return t.image}const iHe=({testImageId:t,testLoading:e,testType:n,queryImage:r,testResults:a,onSetTestImageId:i,onSetTestType:s,onTestSearch:o})=>{const{t:l}=$t("settings"),[u,d]=A.useState(null),[h,m]=A.useState(!1),[y,x]=A.useState(!1),[v,_]=A.useState("");A.useEffect(()=>{C()},[]);const C=async()=>{m(!0);try{const T=await Uf.getStats();d(T)}catch(T){console.error("Failed to load stats:",T)}finally{m(!1)}},w=async()=>{x(!0),_("");try{const T=await Uf.rebuildHashes(100);_(` Processed: ${T.processed}, Failed: ${T.failed}, Remaining: ${T.remaining}`),await C()}catch(T){_(` Error: ${T.response?.data?.error||T.message}`)}finally{x(!1)}};return c.jsx(gr,{sx:{mb:3},children:c.jsxs(Ba,{children:[c.jsx(re,{variant:"h6",gutterBottom:!0,children:l("similarity.test.title")}),c.jsx(re,{variant:"body2",color:"text.secondary",paragraph:!0,children:l("similarity.test.description")}),h?c.jsx(J,{sx:{mb:2},children:c.jsx(Kt,{size:20})}):u?c.jsxs(J,{sx:{mb:2},children:[c.jsxs(un,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[c.jsx(re,{variant:"body2",color:"text.secondary",children:"Hash Status:"}),c.jsx(yt,{size:"small",icon:u.completionPercentage>=100?c.jsx(Cs,{}):c.jsx(f9e,{}),label:`${u.imagesWithHash} / ${u.totalImages} (${u.completionPercentage.toFixed(1)}%)`,color:u.completionPercentage>=100?"success":"warning"})]}),u.completionPercentage<100&&c.jsx(Ld,{variant:"determinate",value:u.completionPercentage,sx:{mb:1}}),u.imagesWithoutHash>0&&c.jsx(Ke,{size:"small",variant:"outlined",startIcon:y?c.jsx(Kt,{size:16}):c.jsx(wo,{}),onClick:w,disabled:y,sx:{mt:1},children:y?"Rebuilding...":`Rebuild ${u.imagesWithoutHash} Missing Hashes`}),v&&c.jsx(St,{severity:v.startsWith("")?"success":"error",sx:{mt:1},children:v})]}):null,c.jsxs(un,{spacing:2,children:[c.jsxs(un,{direction:"row",spacing:2,alignItems:"flex-end",children:[c.jsx(jt,{label:l("similarity.test.imageId"),value:t,onChange:T=>i(T.target.value),type:"text",placeholder:"e.g., a1b2c3d4e5f6... (48-character composite hash)",fullWidth:!0}),c.jsxs(ra,{sx:{minWidth:150},children:[c.jsx(Ai,{children:l("similarity.test.searchType")}),c.jsxs(Ua,{value:n,label:l("similarity.test.searchType"),onChange:T=>s(T.target.value),children:[c.jsx(Jt,{value:"duplicates",children:l("similarity.test.types.duplicates")}),c.jsx(Jt,{value:"similar",children:l("similarity.test.types.similar")}),c.jsx(Jt,{value:"color",children:l("similarity.test.types.color")})]})]})]}),c.jsx(un,{direction:"row",spacing:2,children:c.jsx(Ke,{variant:"contained",startIcon:e?c.jsx(Kt,{size:20}):c.jsx(Jf,{}),onClick:o,disabled:e||!t,fullWidth:!0,children:l(e?"similarity.test.searching":"similarity.test.searchButton")})}),r&&c.jsx(rHe,{queryImage:r,testResults:a}),a.length===0&&t&&!e&&c.jsx(St,{severity:"info",children:l("similarity.test.noResults")})]})]})})},sHe=({duplicateGroups:t,scanLoading:e,onScanDuplicates:n,onImagesDeleted:r})=>{const{t:a}=$t("settings"),[i,s]=A.useState(new Set),[o,l]=A.useState(!1),[u,d]=A.useState(!1),h=C=>{s(w=>{const T=new Set(w);return T.has(C)?T.delete(C):T.add(C),T})},m=(C,w)=>{s(T=>{const E=new Set(T);return C.images.forEach(I=>{I.file_id&&(w?E.add(I.file_id):E.delete(I.file_id))}),E})},y=C=>{s(w=>{const T=new Set(w);return C.images.slice(1).forEach(E=>{E.file_id&&T.add(E.file_id)}),T})},x=async()=>{if(i.size!==0){d(!0);try{const C=Array.from(i),w=await ba.deleteImageFiles(C);if(!w.success)alert(w.error||a("similarity.duplicateScan.deleteError"));else{const T=w.details?.deletedFiles?.length||C.length;alert(a("similarity.duplicateScan.deleteSuccess",{count:T}))}s(new Set),l(!1),r&&r()}catch(C){console.error("Failed to delete images:",C),alert(a("similarity.duplicateScan.deleteFailed"))}finally{d(!1)}}},v=C=>C.images.every(w=>w.file_id&&i.has(w.file_id)),_=C=>C.images.some(w=>w.file_id&&i.has(w.file_id))&&!v(C);return c.jsxs(gr,{sx:{mb:3},children:[c.jsxs(Ba,{children:[c.jsx(re,{variant:"h6",gutterBottom:!0,children:a("similarity.duplicateScan.title")}),c.jsx(re,{variant:"body2",color:"text.secondary",paragraph:!0,children:a("similarity.duplicateScan.description")}),c.jsxs(un,{spacing:2,children:[c.jsxs(un,{direction:"row",spacing:2,children:[c.jsx(Ke,{variant:"contained",color:"secondary",startIcon:e?c.jsx(Kt,{size:20}):c.jsx(FRe,{}),onClick:n,disabled:e,children:a(e?"similarity.duplicateScan.scanning":"similarity.duplicateScan.scanButton")}),i.size>0&&c.jsx(Ke,{variant:"contained",color:"error",startIcon:c.jsx(xa,{}),onClick:()=>l(!0),children:a("similarity.duplicateScan.deleteSelected",{count:i.size})})]}),t.length>0&&c.jsxs(J,{children:[c.jsx(re,{variant:"subtitle2",gutterBottom:!0,children:a("similarity.duplicateScan.foundGroups",{count:t.length})}),t.map(C=>c.jsxs(Dc,{children:[c.jsx(Nc,{expandIcon:c.jsx(is,{}),children:c.jsxs(un,{direction:"row",spacing:2,alignItems:"center",sx:{width:"100%"},children:[c.jsx(eS,{color:"warning"}),c.jsx(re,{sx:{flex:1},children:a("similarity.duplicateScan.groupLabel",{id:C.groupId,count:C.images.length})}),c.jsx(yt,{label:a("similarity.duplicateScan.similarityLabel",{percent:C.similarity.toFixed(1)}),size:"small",color:"warning"})]})}),c.jsxs(Mc,{children:[c.jsxs(un,{direction:"row",spacing:1,sx:{mb:2},flexWrap:"wrap",children:[c.jsx(Xt,{title:a("similarity.duplicateScan.selectAll"),children:c.jsx(Ke,{size:"small",variant:v(C)?"contained":"outlined",startIcon:c.jsx(aQ,{}),onClick:w=>{w.stopPropagation(),m(C,!v(C))},children:a("similarity.duplicateScan.selectAll")})}),c.jsx(Xt,{title:a("similarity.duplicateScan.keepOneDelete"),children:c.jsx(Ke,{size:"small",variant:"outlined",color:"warning",onClick:w=>{w.stopPropagation(),y(C)},children:a("similarity.duplicateScan.keepOne")})}),(v(C)||_(C))&&c.jsx(Xt,{title:a("similarity.duplicateScan.deselectAll"),children:c.jsx(Ke,{size:"small",variant:"outlined",startIcon:c.jsx(XX,{}),onClick:w=>{w.stopPropagation(),m(C,!1)},children:a("similarity.duplicateScan.deselectAll")})})]}),c.jsx(J,{sx:{display:"grid",gridTemplateColumns:{xs:"repeat(2, 1fr)",sm:"repeat(3, 1fr)",md:"repeat(5, 1fr)"},gap:2},children:C.images.map(w=>{if(!w.file_id)return null;const T=i.has(w.file_id);return c.jsxs(J,{sx:{position:"relative",cursor:"pointer",border:T?"3px solid":"1px solid",borderColor:T?"error.main":"divider",borderRadius:1,overflow:"hidden",transition:"all 0.2s","&:hover":{borderColor:T?"error.dark":"primary.main",transform:"scale(1.02)"}},onClick:()=>h(w.file_id),children:[c.jsx(Bf,{checked:T,onChange:()=>h(w.file_id),sx:{position:"absolute",top:4,right:4,bgcolor:"background.paper",borderRadius:"50%","&:hover":{bgcolor:"background.paper"}},onClick:E=>E.stopPropagation()}),c.jsx(J,{component:"img",src:p2(w)||"",alt:w.original_file_path??"",sx:{width:"100%",height:150,objectFit:"cover",opacity:T?.6:1}}),c.jsxs(J,{sx:{p:1,bgcolor:T?"error.light":"background.paper"},children:[c.jsxs(re,{variant:"caption",display:"block",noWrap:!0,sx:{color:T?"error.contrastText":"text.primary"},children:["ID: ",w.file_id]}),c.jsxs(re,{variant:"caption",display:"block",noWrap:!0,sx:{color:T?"error.contrastText":"text.secondary"},children:[w.width,"  ",w.height]})]}),T&&c.jsx(J,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"rgba(211, 47, 47, 0.9)",borderRadius:"50%",p:1},children:c.jsx(xa,{sx:{color:"white",fontSize:32}})})]},`file-${w.file_id}`)})})]})]},C.groupId))]}),t.length===0&&!e&&c.jsx(St,{severity:"info",children:a("similarity.duplicateScan.noResults")})]})]}),c.jsxs(or,{open:o,onClose:()=>!u&&l(!1),children:[c.jsx(pr,{children:a("similarity.duplicateScan.deleteConfirmTitle")}),c.jsxs(hr,{children:[c.jsx(Dp,{children:a("similarity.duplicateScan.deleteConfirmMessage",{count:i.size})}),c.jsx(St,{severity:"warning",sx:{mt:2},children:a("similarity.duplicateScan.deleteWarning")})]}),c.jsxs(yr,{children:[c.jsx(Ke,{onClick:()=>l(!1),disabled:u,children:a("similarity.duplicateScan.cancel")}),c.jsx(Ke,{onClick:x,color:"error",variant:"contained",disabled:u,startIcon:u?c.jsx(Kt,{size:20}):c.jsx(xa,{}),children:a(u?"similarity.duplicateScan.deleting":"similarity.duplicateScan.confirmDelete")})]})]})]})},oHe=t=>{const e=bt.c(166),{duplicateThreshold:n,similarThreshold:r,colorThreshold:a,searchLimit:i,onSetDuplicateThreshold:s,onSetSimilarThreshold:o,onSetColorThreshold:l,onSetSearchLimit:u}=t,{t:d}=$t("settings");let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h={display:"flex",alignItems:"center",mb:1},e[0]=h):h=e[0];let m;e[1]!==d?(m=d("similarity.thresholds.title"),e[1]=d,e[2]=m):m=e[2];let y;e[3]!==m?(y=c.jsx(re,{variant:"h6",children:m}),e[3]=m,e[4]=y):y=e[4];let x;e[5]!==d?(x=d("similarity.thresholds.localStorageNote"),e[5]=d,e[6]=x):x=e[6];let v;e[7]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx(Sc,{fontSize:"small",sx:{ml:1,color:"text.secondary"}}),e[7]=v):v=e[7];let _;e[8]!==x?(_=c.jsx(Xt,{title:x,arrow:!0,children:v}),e[8]=x,e[9]=_):_=e[9];let C;e[10]!==y||e[11]!==_?(C=c.jsxs(J,{sx:h,children:[y,_]}),e[10]=y,e[11]=_,e[12]=C):C=e[12];let w;e[13]!==d?(w=d("similarity.thresholds.description"),e[13]=d,e[14]=w):w=e[14];let T;e[15]!==w?(T=c.jsx(re,{variant:"body2",color:"text.secondary",paragraph:!0,children:w}),e[15]=w,e[16]=T):T=e[16];let E;e[17]!==n||e[18]!==d?(E=d("similarity.thresholds.duplicate.label",{value:n}),e[17]=n,e[18]=d,e[19]=E):E=e[19];let I;e[20]!==E?(I=c.jsx(re,{gutterBottom:!0,children:E}),e[20]=E,e[21]=I):I=e[21];let j;e[22]!==s?(j=(Wt,Bt)=>s(Bt),e[22]=s,e[23]=j):j=e[23];let O;e[24]!==d?(O=d("similarity.thresholds.duplicate.strict"),e[24]=d,e[25]=O):O=e[25];let L;e[26]!==O?(L={value:0,label:O},e[26]=O,e[27]=L):L=e[27];let N;e[28]!==d?(N=d("similarity.thresholds.duplicate.recommended"),e[28]=d,e[29]=N):N=e[29];let M;e[30]!==N?(M={value:5,label:N},e[30]=N,e[31]=M):M=e[31];let H;e[32]!==d?(H=d("similarity.thresholds.duplicate.lenient"),e[32]=d,e[33]=H):H=e[33];let P;e[34]!==H?(P={value:10,label:H},e[34]=H,e[35]=P):P=e[35];let $;e[36]!==L||e[37]!==M||e[38]!==P?($=[L,M,P],e[36]=L,e[37]=M,e[38]=P,e[39]=$):$=e[39];let D;e[40]!==n||e[41]!==j||e[42]!==$?(D=c.jsx(Ha,{value:n,onChange:j,min:0,max:10,step:1,marks:$}),e[40]=n,e[41]=j,e[42]=$,e[43]=D):D=e[43];let U;e[44]!==d?(U=d("similarity.thresholds.duplicate.description"),e[44]=d,e[45]=U):U=e[45];let F;e[46]!==U?(F=c.jsx(re,{variant:"caption",color:"text.secondary",children:U}),e[46]=U,e[47]=F):F=e[47];let W;e[48]!==I||e[49]!==D||e[50]!==F?(W=c.jsxs(J,{children:[I,D,F]}),e[48]=I,e[49]=D,e[50]=F,e[51]=W):W=e[51];let ee;e[52]!==r||e[53]!==d?(ee=d("similarity.thresholds.similar.label",{value:r}),e[52]=r,e[53]=d,e[54]=ee):ee=e[54];let Q;e[55]!==ee?(Q=c.jsx(re,{gutterBottom:!0,children:ee}),e[55]=ee,e[56]=Q):Q=e[56];let K;e[57]!==o?(K=(Wt,Bt)=>o(Bt),e[57]=o,e[58]=K):K=e[58];let V;e[59]!==d?(V=d("similarity.thresholds.similar.strict"),e[59]=d,e[60]=V):V=e[60];let Z;e[61]!==V?(Z={value:5,label:V},e[61]=V,e[62]=Z):Z=e[62];let q;e[63]!==d?(q=d("similarity.thresholds.similar.recommended"),e[63]=d,e[64]=q):q=e[64];let te;e[65]!==q?(te={value:15,label:q},e[65]=q,e[66]=te):te=e[66];let ae;e[67]!==d?(ae=d("similarity.thresholds.similar.lenient"),e[67]=d,e[68]=ae):ae=e[68];let ie;e[69]!==ae?(ie={value:25,label:ae},e[69]=ae,e[70]=ie):ie=e[70];let ce;e[71]!==Z||e[72]!==te||e[73]!==ie?(ce=[Z,te,ie],e[71]=Z,e[72]=te,e[73]=ie,e[74]=ce):ce=e[74];let pe;e[75]!==r||e[76]!==K||e[77]!==ce?(pe=c.jsx(Ha,{value:r,onChange:K,min:5,max:25,step:1,marks:ce}),e[75]=r,e[76]=K,e[77]=ce,e[78]=pe):pe=e[78];let ge;e[79]!==d?(ge=d("similarity.thresholds.similar.description"),e[79]=d,e[80]=ge):ge=e[80];let oe;e[81]!==ge?(oe=c.jsx(re,{variant:"caption",color:"text.secondary",children:ge}),e[81]=ge,e[82]=oe):oe=e[82];let ue;e[83]!==Q||e[84]!==pe||e[85]!==oe?(ue=c.jsxs(J,{children:[Q,pe,oe]}),e[83]=Q,e[84]=pe,e[85]=oe,e[86]=ue):ue=e[86];let he;e[87]!==a||e[88]!==d?(he=d("similarity.thresholds.color.label",{value:a}),e[87]=a,e[88]=d,e[89]=he):he=e[89];let ve;e[90]!==he?(ve=c.jsx(re,{gutterBottom:!0,children:he}),e[90]=he,e[91]=ve):ve=e[91];let me;e[92]!==l?(me=(Wt,Bt)=>l(Bt),e[92]=l,e[93]=me):me=e[93];let le;e[94]!==d?(le=d("similarity.thresholds.color.min"),e[94]=d,e[95]=le):le=e[95];let Se;e[96]!==le?(Se={value:70,label:le},e[96]=le,e[97]=Se):Se=e[97];let be;e[98]!==d?(be=d("similarity.thresholds.color.recommended"),e[98]=d,e[99]=be):be=e[99];let Te;e[100]!==be?(Te={value:85,label:be},e[100]=be,e[101]=Te):Te=e[101];let Ne;e[102]!==d?(Ne=d("similarity.thresholds.color.max"),e[102]=d,e[103]=Ne):Ne=e[103];let Pe;e[104]!==Ne?(Pe={value:100,label:Ne},e[104]=Ne,e[105]=Pe):Pe=e[105];let Le;e[106]!==Se||e[107]!==Te||e[108]!==Pe?(Le=[Se,Te,Pe],e[106]=Se,e[107]=Te,e[108]=Pe,e[109]=Le):Le=e[109];let De;e[110]!==a||e[111]!==me||e[112]!==Le?(De=c.jsx(Ha,{value:a,onChange:me,min:70,max:100,step:5,marks:Le}),e[110]=a,e[111]=me,e[112]=Le,e[113]=De):De=e[113];let Xe;e[114]!==d?(Xe=d("similarity.thresholds.color.description"),e[114]=d,e[115]=Xe):Xe=e[115];let ke;e[116]!==Xe?(ke=c.jsx(re,{variant:"caption",color:"text.secondary",children:Xe}),e[116]=Xe,e[117]=ke):ke=e[117];let Ie;e[118]!==ve||e[119]!==De||e[120]!==ke?(Ie=c.jsxs(J,{children:[ve,De,ke]}),e[118]=ve,e[119]=De,e[120]=ke,e[121]=Ie):Ie=e[121];let ye;e[122]!==d?(ye=d("similarity.thresholds.searchLimit.label"),e[122]=d,e[123]=ye):ye=e[123];let Ce;e[124]!==ye?(Ce=c.jsx(Ai,{children:ye}),e[124]=ye,e[125]=Ce):Ce=e[125];let Me;e[126]!==d?(Me=d("similarity.thresholds.searchLimit.label"),e[126]=d,e[127]=Me):Me=e[127];let He;e[128]!==u?(He=Wt=>u(Wt.target.value),e[128]=u,e[129]=He):He=e[129];let Qe;e[130]!==d?(Qe=d("similarity.thresholds.searchLimit.options.10"),e[130]=d,e[131]=Qe):Qe=e[131];let Je;e[132]!==Qe?(Je=c.jsx(Jt,{value:10,children:Qe}),e[132]=Qe,e[133]=Je):Je=e[133];let Ge;e[134]!==d?(Ge=d("similarity.thresholds.searchLimit.options.20"),e[134]=d,e[135]=Ge):Ge=e[135];let it;e[136]!==Ge?(it=c.jsx(Jt,{value:20,children:Ge}),e[136]=Ge,e[137]=it):it=e[137];let rt;e[138]!==d?(rt=d("similarity.thresholds.searchLimit.options.50"),e[138]=d,e[139]=rt):rt=e[139];let st;e[140]!==rt?(st=c.jsx(Jt,{value:50,children:rt}),e[140]=rt,e[141]=st):st=e[141];let ft;e[142]!==d?(ft=d("similarity.thresholds.searchLimit.options.100"),e[142]=d,e[143]=ft):ft=e[143];let qt;e[144]!==ft?(qt=c.jsx(Jt,{value:100,children:ft}),e[144]=ft,e[145]=qt):qt=e[145];let Gt;e[146]!==i||e[147]!==Me||e[148]!==He||e[149]!==Je||e[150]!==it||e[151]!==st||e[152]!==qt?(Gt=c.jsxs(Ua,{value:i,label:Me,onChange:He,children:[Je,it,st,qt]}),e[146]=i,e[147]=Me,e[148]=He,e[149]=Je,e[150]=it,e[151]=st,e[152]=qt,e[153]=Gt):Gt=e[153];let bn;e[154]!==Ce||e[155]!==Gt?(bn=c.jsxs(ra,{fullWidth:!0,children:[Ce,Gt]}),e[154]=Ce,e[155]=Gt,e[156]=bn):bn=e[156];let zn;e[157]!==W||e[158]!==ue||e[159]!==Ie||e[160]!==bn?(zn=c.jsxs(un,{spacing:3,children:[W,ue,Ie,bn]}),e[157]=W,e[158]=ue,e[159]=Ie,e[160]=bn,e[161]=zn):zn=e[161];let er;return e[162]!==zn||e[163]!==C||e[164]!==T?(er=c.jsx(gr,{children:c.jsxs(Ba,{children:[C,T,zn]})}),e[162]=zn,e[163]=C,e[164]=T,e[165]=er):er=e[165],er},lHe=()=>{const t=bt.c(54),{t:e}=$t("settings"),{stats:n,rebuilding:r,rebuildProgress:a,rebuildProcessed:i,rebuildTotal:s,autoGenerateHash:o,loadStats:l,handleAutoGenerateHashChange:u,handleRebuildHashes:d}=QBe(),{testImageId:h,testLoading:m,testResults:y,testType:x,queryImage:v,duplicateThreshold:_,similarThreshold:C,colorThreshold:w,searchLimit:T,setTestImageId:E,setTestType:I,setDuplicateThreshold:j,setSimilarThreshold:O,setColorThreshold:L,setSearchLimit:N,handleTestSearch:M}=ZBe(),{duplicateGroups:H,scanLoading:P,handleScanDuplicates:$}=JBe(_);let D;t[0]!==u||t[1]!==e?(D=ce=>u(ce,e),t[0]=u,t[1]=e,t[2]=D):D=t[2];let U;t[3]!==d||t[4]!==e?(U=()=>d(e),t[3]=d,t[4]=e,t[5]=U):U=t[5];let F;t[6]!==o||t[7]!==l||t[8]!==i||t[9]!==a||t[10]!==s||t[11]!==r||t[12]!==n||t[13]!==D||t[14]!==U?(F=c.jsx(eHe,{stats:n,rebuilding:r,rebuildProgress:a,rebuildProcessed:i,rebuildTotal:s,autoGenerateHash:o,onAutoGenerateHashChange:D,onRebuildHashes:U,onRefreshStats:l}),t[6]=o,t[7]=l,t[8]=i,t[9]=a,t[10]=s,t[11]=r,t[12]=n,t[13]=D,t[14]=U,t[15]=F):F=t[15];let W;t[16]===Symbol.for("react.memo_cache_sentinel")?(W=c.jsx(yn,{sx:{my:3}}),t[16]=W):W=t[16];let ee;t[17]!==M||t[18]!==e?(ee=()=>M(e),t[17]=M,t[18]=e,t[19]=ee):ee=t[19];let Q;t[20]!==v||t[21]!==E||t[22]!==I||t[23]!==ee||t[24]!==h||t[25]!==m||t[26]!==y||t[27]!==x?(Q=c.jsx(iHe,{testImageId:h,testLoading:m,testType:x,queryImage:v,testResults:y,onSetTestImageId:E,onSetTestType:I,onTestSearch:ee}),t[20]=v,t[21]=E,t[22]=I,t[23]=ee,t[24]=h,t[25]=m,t[26]=y,t[27]=x,t[28]=Q):Q=t[28];let K;t[29]===Symbol.for("react.memo_cache_sentinel")?(K=c.jsx(yn,{sx:{my:3}}),t[29]=K):K=t[29];let V,Z;t[30]!==$||t[31]!==e?(V=()=>$(e),Z=()=>{$(e)},t[30]=$,t[31]=e,t[32]=V,t[33]=Z):(V=t[32],Z=t[33]);let q;t[34]!==H||t[35]!==P||t[36]!==V||t[37]!==Z?(q=c.jsx(sHe,{duplicateGroups:H,scanLoading:P,onScanDuplicates:V,onImagesDeleted:Z}),t[34]=H,t[35]=P,t[36]=V,t[37]=Z,t[38]=q):q=t[38];let te;t[39]===Symbol.for("react.memo_cache_sentinel")?(te=c.jsx(yn,{sx:{my:3}}),t[39]=te):te=t[39];let ae;t[40]!==w||t[41]!==_||t[42]!==T||t[43]!==L||t[44]!==j||t[45]!==N||t[46]!==O||t[47]!==C?(ae=c.jsx(oHe,{duplicateThreshold:_,similarThreshold:C,colorThreshold:w,searchLimit:T,onSetDuplicateThreshold:j,onSetSimilarThreshold:O,onSetColorThreshold:L,onSetSearchLimit:N}),t[40]=w,t[41]=_,t[42]=T,t[43]=L,t[44]=j,t[45]=N,t[46]=O,t[47]=C,t[48]=ae):ae=t[48];let ie;return t[49]!==ae||t[50]!==F||t[51]!==Q||t[52]!==q?(ie=c.jsxs(J,{children:[F,W,Q,K,q,te,ae]}),t[49]=ae,t[50]=F,t[51]=Q,t[52]=q,t[53]=ie):ie=t[53],ie},cHe=async t=>(await en.get(`${Ir}/api/folders`,{params:t,withCredentials:!0})).data.data,uHe=async t=>(await en.get(`${Ir}/api/folders/${t}`,{withCredentials:!0})).data.data,dHe=async t=>(await en.post(`${Ir}/api/folders`,t,{withCredentials:!0})).data.data,fHe=async(t,e)=>(await en.patch(`${Ir}/api/folders/${t}`,e,{withCredentials:!0})).data.data,hHe=async(t,e=!1)=>(await en.delete(`${Ir}/api/folders/${t}`,{params:{delete_files:e},withCredentials:!0})).data.data,pHe=async(t,e=!1)=>(await en.post(`${Ir}/api/folders/${t}/scan`,null,{params:{full:e},withCredentials:!0})).data.data,mHe=async()=>(await en.post(`${Ir}/api/folders/scan-all`,null,{withCredentials:!0})).data.data,gHe=async t=>(await en.post(`${Ir}/api/folders/validate-path`,{folder_path:t},{withCredentials:!0})).data.data,yHe=async t=>(await en.post(`${Ir}/api/folders/${t}/watcher/start`,null,{withCredentials:!0})).data.data,bHe=async t=>(await en.post(`${Ir}/api/folders/${t}/watcher/stop`,null,{withCredentials:!0})).data.data,xHe=async t=>(await en.post(`${Ir}/api/folders/${t}/watcher/restart`,null,{withCredentials:!0})).data.data,vHe=async t=>(await en.get(`${Ir}/api/folders/${t}/watcher/status`,{withCredentials:!0})).data.data,SHe=async()=>(await en.get(`${Ir}/api/folders/watchers/health`,{withCredentials:!0})).data.data,tp={getFolders:cHe,getFolder:uHe,addFolder:dHe,updateFolder:fHe,deleteFolder:hHe,scanFolder:pHe,scanAllFolders:mHe,validateFolderPath:gHe,startWatcher:yHe,stopWatcher:bHe,restartWatcher:xHe,getWatcherStatus:vHe,getWatchersHealth:SHe},_He=({open:t,onClose:e,folder:n,onSuccess:r})=>{const a=!!n,[i,s]=A.useState({folder_path:"",folder_name:"",auto_scan:!0,scan_interval:60,recursive:!0,exclude_extensions:[],exclude_patterns:[],watcher_enabled:!0,watcher_polling_interval:null}),[o,l]=A.useState(""),[u,d]=A.useState(""),[h,m]=A.useState(null),[y,x]=A.useState(!1);A.useEffect(()=>{s(n?{folder_path:n.folder_path,folder_name:n.folder_name||"",auto_scan:n.auto_scan===1,scan_interval:n.scan_interval,recursive:n.recursive===1,exclude_extensions:n.exclude_extensions?JSON.parse(n.exclude_extensions):[],exclude_patterns:n.exclude_patterns?JSON.parse(n.exclude_patterns):[],watcher_enabled:n.watcher_enabled===1,watcher_polling_interval:n.watcher_polling_interval}:{folder_path:"",folder_name:"",auto_scan:!0,scan_interval:60,recursive:!0,exclude_extensions:[],exclude_patterns:[],watcher_enabled:!0,watcher_polling_interval:null}),m(null)},[n,t]);const v=()=>{if(!o.trim())return;const E=o.trim().startsWith(".")?o.trim():`.${o.trim()}`;i.exclude_extensions?.includes(E)||s({...i,exclude_extensions:[...i.exclude_extensions||[],E]}),l("")},_=E=>{s({...i,exclude_extensions:i.exclude_extensions?.filter(I=>I!==E)})},C=()=>{u.trim()&&(i.exclude_patterns?.includes(u.trim())||s({...i,exclude_patterns:[...i.exclude_patterns||[],u.trim()]}),d(""))},w=E=>{s({...i,exclude_patterns:i.exclude_patterns?.filter(I=>I!==E)})},T=async()=>{if(!i.folder_path.trim()){m("  ");return}x(!0);try{if(m(null),a&&n){const E={folder_name:i.folder_name,auto_scan:i.auto_scan,scan_interval:i.scan_interval,recursive:i.recursive,exclude_extensions:i.exclude_extensions,exclude_patterns:i.exclude_patterns,watcher_enabled:i.watcher_enabled,watcher_polling_interval:i.watcher_polling_interval};await tp.updateFolder(n.id,E)}else await tp.addFolder(i);await new Promise(E=>setTimeout(E,500)),r(),e()}catch(E){m(E.response?.data?.message||"  ")}finally{x(!1)}};return c.jsxs(or,{open:t,onClose:e,maxWidth:"md",fullWidth:!0,children:[c.jsx(pr,{children:a?" ":" "}),c.jsxs(hr,{children:[h&&c.jsx(St,{severity:"error",sx:{mb:2},children:h}),c.jsxs(J,{sx:{display:"flex",flexDirection:"column",gap:1.5,mt:.5},children:[c.jsx(jt,{fullWidth:!0,label:"  *",value:i.folder_path,onChange:E=>s({...i,folder_path:E.target.value}),disabled:a,helperText:a?"    ":"   (: D:\\Images  \\\\192.168.1.100\\Share\\Images)"}),c.jsx(jt,{fullWidth:!0,label:" ",value:i.folder_name,onChange:E=>s({...i,folder_name:E.target.value}),helperText:"    "}),c.jsxs(J,{sx:{display:"flex",alignItems:"center",gap:.5},children:[c.jsx(Zn,{control:c.jsx(oi,{checked:i.watcher_enabled,onChange:E=>s({...i,watcher_enabled:E.target.checked})}),label:"   "}),c.jsx(Xt,{title:"     //    .    ,     .",arrow:!0,placement:"right",children:c.jsx(ht,{size:"small",children:c.jsx(Sc,{fontSize:"small",color:"action"})})})]}),i.watcher_enabled&&c.jsxs(J,{sx:{display:"flex",flexDirection:"column",gap:1},children:[c.jsxs(J,{sx:{display:"flex",alignItems:"center",gap:.5},children:[c.jsx(re,{variant:"body2",color:"text.secondary",children:"  ( )"}),c.jsx(Xt,{title:"       .         .    (: 1000ms).",arrow:!0,children:c.jsx(H1,{fontSize:"small",color:"action",sx:{cursor:"help"}})})]}),c.jsx(jt,{size:"small",type:"number",label:"  ()",value:i.watcher_polling_interval??"",onChange:E=>s({...i,watcher_polling_interval:E.target.value===""?null:parseInt(E.target.value)||null}),placeholder:"  ( : 1000ms)",helperText:"  . : 500-3000ms",sx:{maxWidth:300},inputProps:{min:100,step:100}})]}),c.jsx(Zn,{control:c.jsx(oi,{checked:i.auto_scan,onChange:E=>s({...i,auto_scan:E.target.checked})}),label:"  "}),i.auto_scan&&c.jsx(jt,{fullWidth:!0,type:"number",label:"  ()",value:i.scan_interval,onChange:E=>s({...i,scan_interval:parseInt(E.target.value)||60}),helperText:"   ( )"}),c.jsxs(Dc,{sx:{boxShadow:"none","&:before":{display:"none"}},children:[c.jsx(Nc,{expandIcon:c.jsx(is,{}),sx:{minHeight:40,"& .MuiAccordionSummary-content":{my:.5}},children:c.jsx(re,{variant:"body2",color:"text.secondary",children:" "})}),c.jsx(Mc,{sx:{pt:0},children:c.jsxs(J,{sx:{display:"flex",flexDirection:"column",gap:1.5},children:[c.jsx(Zn,{control:c.jsx(oi,{checked:i.recursive,onChange:E=>s({...i,recursive:E.target.checked})}),label:"   ( )"}),c.jsxs(J,{sx:{display:"flex",alignItems:"center",gap:.5,mt:.5},children:[c.jsx(re,{variant:"body2",color:"text.secondary",children:" "}),c.jsx(Xt,{title:"    (.jpg, .png, .webp, .gif, .bmp, .tiff) .      .",arrow:!0,children:c.jsx(H1,{fontSize:"small",color:"action",sx:{cursor:"help"}})})]}),c.jsxs(J,{sx:{display:"flex",gap:1},children:[c.jsx(jt,{size:"small",value:o,onChange:E=>l(E.target.value),onKeyDown:E=>E.key==="Enter"&&v(),placeholder:".tmp",sx:{width:200}}),c.jsx(Ke,{onClick:v,startIcon:c.jsx(Gs,{}),variant:"outlined",size:"small",children:""})]}),i.exclude_extensions&&i.exclude_extensions.length>0&&c.jsx(J,{sx:{display:"flex",gap:.5,flexWrap:"wrap"},children:i.exclude_extensions.map(E=>c.jsx(yt,{label:E,onDelete:()=>_(E),size:"small",color:"error",variant:"outlined"},E))}),c.jsxs(J,{sx:{display:"flex",alignItems:"center",gap:.5,mt:.5},children:[c.jsx(re,{variant:"body2",color:"text.secondary",children:" "}),c.jsx(Xt,{title:"       . : node_modules, .git, temp",arrow:!0,children:c.jsx(H1,{fontSize:"small",color:"action",sx:{cursor:"help"}})})]}),c.jsxs(J,{sx:{display:"flex",gap:1},children:[c.jsx(jt,{size:"small",value:u,onChange:E=>d(E.target.value),onKeyDown:E=>E.key==="Enter"&&C(),placeholder:": node_modules, .git",sx:{width:300}}),c.jsx(Ke,{onClick:C,startIcon:c.jsx(Gs,{}),variant:"outlined",size:"small",children:""})]}),i.exclude_patterns&&i.exclude_patterns.length>0&&c.jsx(J,{sx:{display:"flex",gap:.5,flexWrap:"wrap"},children:i.exclude_patterns.map(E=>c.jsx(yt,{label:E,onDelete:()=>w(E),size:"small"},E))})]})})]})]})]}),c.jsxs(yr,{children:[c.jsx(Ke,{onClick:e,disabled:y,children:""}),c.jsx(Ke,{onClick:T,variant:"contained",disabled:y,children:y?" ...":""})]})]})},CB="http://localhost:1566",CHe=({open:t,onClose:e,folderId:n})=>{const[r,a]=A.useState([]),[i,s]=A.useState(!1),[o,l]=A.useState(null);A.useEffect(()=>{t&&u()},[t,n]);const u=async()=>{s(!0),l(null);try{const m=n?`${CB}/api/folders/${n}/scan-logs`:`${CB}/api/folders/scan-logs/recent`,y=await en.get(m);a(y.data.data)}catch(m){console.error("Failed to load scan logs:",m),l("   ")}finally{s(!1)}},d=m=>{switch(m){case"success":return"success";case"error":return"error";default:return"default"}},h=m=>{switch(m){case"success":return"";case"error":return"";default:return m}};return c.jsxs(or,{open:t,onClose:e,maxWidth:"lg",fullWidth:!0,children:[c.jsxs(pr,{children:["  ",n?"( )":"()"]}),c.jsxs(hr,{children:[o&&c.jsx(St,{severity:"error",sx:{mb:2},children:o}),i?c.jsx(J,{sx:{display:"flex",justifyContent:"center",py:4},children:c.jsx(Kt,{})}):r.length===0?c.jsx(St,{severity:"info",children:"  "}):c.jsx(D5,{component:Yt,variant:"outlined",children:c.jsxs(I5,{size:"small",children:[c.jsx(M5,{children:c.jsxs(Rc,{children:[c.jsx(nn,{children:" "}),!n&&c.jsx(nn,{children:""}),c.jsx(nn,{align:"center",children:""}),c.jsx(nn,{align:"right",children:""}),c.jsx(nn,{align:"right",children:""}),c.jsx(nn,{align:"right",children:""}),c.jsx(nn,{align:"right",children:""}),c.jsx(nn,{align:"right",children:""}),c.jsx(nn,{children:""})]})}),c.jsx(O5,{children:r.map(m=>c.jsxs(Rc,{children:[c.jsx(nn,{children:c.jsx(re,{variant:"caption",children:new Date(m.scan_date).toLocaleString()})}),!n&&c.jsx(nn,{children:c.jsx(re,{variant:"caption",noWrap:!0,children:m.folder_name||m.folder_path})}),c.jsx(nn,{align:"center",children:c.jsx(yt,{label:h(m.scan_status),size:"small",color:d(m.scan_status)})}),c.jsx(nn,{align:"right",children:m.total_scanned}),c.jsx(nn,{align:"right",children:m.new_images}),c.jsx(nn,{align:"right",children:m.existing_images}),c.jsx(nn,{align:"right",children:m.errors_count>0&&c.jsx(yt,{label:m.errors_count,size:"small",color:"error",icon:c.jsx(Cg,{})})}),c.jsx(nn,{align:"right",children:c.jsxs(re,{variant:"caption",children:[(m.duration_ms/1e3).toFixed(2),""]})}),c.jsx(nn,{children:m.error_details&&m.error_details.length>0&&c.jsxs(Dc,{children:[c.jsx(Nc,{expandIcon:c.jsx(is,{}),children:c.jsxs(re,{variant:"caption",children:["  (",m.error_details.length,")"]})}),c.jsx(Mc,{children:c.jsx(J,{sx:{maxHeight:200,overflow:"auto"},children:m.error_details.map((y,x)=>c.jsxs(J,{sx:{mb:1},children:[c.jsx(re,{variant:"caption",fontWeight:"bold",children:y.file}),c.jsx(re,{variant:"caption",color:"error",display:"block",children:y.error})]},x))})})]})})]},m.id))})]})})]}),c.jsxs(yr,{children:[c.jsx(Ke,{onClick:u,disabled:i,children:""}),c.jsx(Ke,{onClick:e,children:""})]})]})},wHe=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!0),[a,i]=A.useState(null),[s,o]=A.useState(!1),[l,u]=A.useState(null),[d,h]=A.useState(null),[m,y]=A.useState(!1),[x,v]=A.useState(!1),[_,C]=A.useState(void 0),[w,T]=A.useState(null),E=async()=>{try{i(null);const D=await tp.getFolders();e(D.filter(U=>!U.is_default))}catch(D){console.error("Failed to load folders:",D),i("   ")}finally{r(!1)}};A.useEffect(()=>{E();const D=setInterval(()=>{E()},1e4);return()=>clearInterval(D)},[]);const I=D=>{u(D||null),o(!0)},j=()=>{o(!1),u(null)},O=()=>{E()},L=async D=>{if(window.confirm(`"${D.folder_name||D.folder_path}"  ?`))try{await tp.deleteFolder(D.id),E()}catch(U){console.error("Failed to delete folder:",U),i("  ")}},N=async D=>{h(D);try{await tp.scanFolder(D),E()}catch(U){console.error("Failed to scan folder:",U),i("  ")}finally{h(null)}},M=async()=>{y(!0);try{i(null);const D=await tp.scanAllFolders(),U=`  : ${D.totalFolders} ,  ${D.totalNew},  ${D.totalExisting}${D.totalErrors>0?`,  ${D.totalErrors}`:""}`;alert(U),E()}catch(D){console.error("Failed to scan all folders:",D),i("   ")}finally{y(!1)}},H=async D=>{T(D);try{await tp.startWatcher(D),E()}catch(U){console.error("Failed to start watcher:",U),i("   ")}finally{T(null)}},P=async D=>{T(D);try{await tp.stopWatcher(D),E()}catch(U){console.error("Failed to stop watcher:",U),i("   ")}finally{T(null)}},$=D=>{const{watcher_status:U,watcher_enabled:F}=D;if(F===1&&!U)return" ...";switch(U){case"watching":return" ";case"error":return"";case"stopped":return"";default:return""}};return n?c.jsx(Yt,{sx:{p:3},children:c.jsx(J,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:c.jsx(Kt,{})})}):c.jsxs(J,{children:[c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[c.jsx(re,{variant:"h6",children:"  "}),c.jsxs(J,{sx:{display:"flex",gap:1},children:[c.jsx(Ke,{startIcon:c.jsx(pC,{}),onClick:()=>{C(void 0),v(!0)},size:"small",variant:"outlined",children:" "}),c.jsx(Ke,{startIcon:m?c.jsx(Kt,{size:16}):c.jsx(vp,{}),onClick:M,disabled:m||t.length===0,variant:"outlined",color:"primary",children:" "}),c.jsx(Ke,{startIcon:c.jsx(wo,{}),onClick:E,size:"small",children:""})]})]}),a&&c.jsx(St,{severity:"error",sx:{mb:2},onClose:()=>i(null),children:a}),c.jsxs(gn,{container:!0,spacing:2,children:[t.map(D=>c.jsx(gn,{size:{xs:12,sm:6,md:4},children:c.jsxs(gr,{sx:{display:"flex",flexDirection:"column",height:"100%",minHeight:220,position:"relative"},children:[c.jsxs(J,{sx:{p:2,pb:1.5,borderBottom:"1px solid",borderColor:"divider"},children:[c.jsx(Xt,{title:D.folder_path,placement:"top",arrow:!0,children:c.jsx(re,{variant:"h6",component:"div",sx:{fontWeight:600,fontSize:"1.1rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",mb:.5},children:D.folder_name||" "})}),c.jsxs(J,{sx:{display:"flex",gap:.5,alignItems:"center",flexWrap:"wrap"},children:[c.jsx(yt,{label:D.is_active?"":"",size:"small",color:D.is_active?"success":"default",sx:{height:20,fontSize:"0.7rem"}}),D.auto_scan===1&&c.jsx(yt,{icon:c.jsx(kRe,{sx:{fontSize:14}}),label:`${D.scan_interval}`,size:"small",variant:"outlined",sx:{height:20,fontSize:"0.7rem"}}),D.last_scan_status&&c.jsx(yt,{label:"",size:"small",sx:{height:20,fontSize:"0.7rem",color:D.last_scan_status==="success"?"success.main":D.last_scan_status==="error"?"error.main":D.last_scan_status==="in_progress"?"info.main":"grey.500",borderColor:D.last_scan_status==="success"?"success.main":D.last_scan_status==="error"?"error.main":D.last_scan_status==="in_progress"?"info.main":"grey.400"},variant:"outlined"}),D.watcher_enabled===1&&c.jsx(Xt,{title:$(D),arrow:!0,children:c.jsx(J,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:32,height:20,border:"1px solid",borderRadius:"10px",color:D.watcher_status==="watching"?"success.main":D.watcher_status==="error"?"error.main":"grey.500",borderColor:D.watcher_status==="watching"?"success.main":D.watcher_status==="error"?"error.main":"grey.400"},children:D.watcher_status==="watching"?c.jsx(N5,{sx:{fontSize:14}}):D.watcher_status==="error"?c.jsx(aI,{sx:{fontSize:14}}):c.jsx(aI,{sx:{fontSize:14}})})})]})]}),c.jsx(Ba,{sx:{flexGrow:1,p:2,pb:1,minHeight:60},children:D.watcher_error?c.jsx(St,{severity:"error",sx:{py:.5,fontSize:"0.75rem"},children:D.watcher_error}):c.jsx(J,{children:D.last_scan_date?c.jsxs(re,{variant:"caption",color:"text.disabled",sx:{fontSize:"0.75rem"},children:[" : ",new Date(D.last_scan_date).toLocaleString("ko-KR",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})]}):c.jsx(re,{variant:"caption",color:"text.disabled",sx:{fontSize:"0.75rem"},children:"  "})})}),c.jsxs(Vk,{sx:{p:2,pt:1,borderTop:"1px solid",borderColor:"divider",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx(J,{sx:{display:"flex",alignItems:"center"},children:D.watcher_enabled===1&&c.jsx(Xt,{title:w===D.id?" ...":D.watcher_status==="watching"?" ":" ",arrow:!0,children:c.jsx(oi,{size:"small",checked:D.watcher_status==="watching",onChange:U=>{U.target.checked?H(D.id):P(D.id)},disabled:w===D.id,color:"success"})})}),c.jsxs(J,{sx:{display:"flex",gap:.5,alignItems:"center"},children:[c.jsx(Xt,{title:"",arrow:!0,children:c.jsx("span",{children:c.jsx(ht,{size:"small",onClick:()=>N(D.id),disabled:d===D.id,color:"primary",children:d===D.id?c.jsx(Kt,{size:18}):c.jsx(vp,{fontSize:"small"})})})}),c.jsx(Xt,{title:"",arrow:!0,children:c.jsx(ht,{size:"small",onClick:()=>{C(D.id),v(!0)},children:c.jsx(pC,{fontSize:"small"})})}),c.jsx(Xt,{title:"",arrow:!0,children:c.jsx(ht,{size:"small",onClick:()=>I(D),children:c.jsx(zd,{fontSize:"small"})})}),c.jsx(Xt,{title:"",arrow:!0,children:c.jsx(ht,{size:"small",onClick:()=>L(D),color:"error",children:c.jsx(xa,{fontSize:"small"})})})]})]})]})},D.id)),c.jsx(gn,{size:{xs:12,sm:6,md:4},children:c.jsx(gr,{sx:{border:"2px dashed",borderColor:"primary.main",backgroundColor:"transparent",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",minHeight:220,transition:"all 0.2s","&:hover":{backgroundColor:"action.hover",borderColor:"primary.dark","& .add-icon-circle":{transform:"scale(1.1)",backgroundColor:"primary.dark"}}},onClick:()=>I(),children:c.jsxs(J,{sx:{textAlign:"center",p:2},children:[c.jsx(J,{className:"add-icon-circle",sx:{width:60,height:60,borderRadius:"50%",backgroundColor:"primary.main",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",transition:"all 0.2s"},children:c.jsx(Gs,{sx:{fontSize:32,color:"white"}})}),c.jsx(re,{variant:"body2",color:"text.secondary",children:" "})]})})})]}),c.jsx(_He,{open:s,onClose:j,onSuccess:O,folder:l}),c.jsx(CHe,{open:x,onClose:()=>v(!1),folderId:_})]})},EHe=async()=>(await en.get(`${Ir}/api/background-queue/status`,{withCredentials:!0})).data.data,THe=async()=>(await en.post(`${Ir}/api/background-queue/clear`,null,{withCredentials:!0})).data.data,AHe=async()=>(await en.post(`${Ir}/api/background-queue/trigger-auto-tag`,null,{withCredentials:!0})).data.data,RHe=async()=>(await en.get(`${Ir}/api/images/similarity/stats`,{withCredentials:!0})).data.data,kHe=async()=>(await en.post(`${Ir}/api/images/similarity/rebuild-hashes`,null,{withCredentials:!0})).data.data,Bx={getQueueStatus:EHe,clearQueue:THe,triggerAutoTag:AHe,getHashStats:RHe,rebuildHashes:kHe},I1={async getStats(){const t=await Tt.get("/api/file-verification/stats");return t.data.data||t.data},async getProgress(){const t=await Tt.get("/api/file-verification/progress");return t.data.data||t.data},async triggerVerification(){return(await Tt.post("/api/file-verification/verify")).data},async getLogs(t=50){const e=await Tt.get("/api/file-verification/logs",{params:{limit:t}});return e.data.data||e.data},async getSettings(){const t=await Tt.get("/api/file-verification/settings");return t.data.data||t.data},async updateSettings(t){return(await Tt.put("/api/file-verification/settings",t)).data}},IHe=({open:t,onClose:e})=>{const[n,r]=A.useState([]),[a,i]=A.useState(!1),[s,o]=A.useState(null);A.useEffect(()=>{t&&l()},[t]);const l=async()=>{i(!0),o(null);try{const y=await I1.getLogs(50);r(y)}catch(y){console.error("Failed to load verification logs:",y),o("   ")}finally{i(!1)}},u=y=>new Date(y).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),d=y=>y<1e3?`${y}ms`:`${(y/1e3).toFixed(2)}`,h=y=>{switch(y){case"auto":return" ";case"manual":return" ";default:return y}},m=y=>{if(!y)return[];try{return JSON.parse(y)}catch{return[]}};return c.jsxs(or,{open:t,onClose:e,maxWidth:"lg",fullWidth:!0,children:[c.jsx(pr,{children:c.jsxs(J,{display:"flex",alignItems:"center",gap:1,children:[c.jsx(Cs,{color:"primary"}),c.jsx(re,{variant:"h6",children:"  "})]})}),c.jsxs(hr,{dividers:!0,children:[a&&c.jsx(J,{display:"flex",justifyContent:"center",alignItems:"center",py:4,children:c.jsx(Kt,{})}),s&&c.jsx(St,{severity:"error",sx:{mb:2},children:s}),!a&&!s&&n.length===0&&c.jsx(St,{severity:"info",children:"  "}),!a&&!s&&n.length>0&&c.jsx(D5,{component:Yt,variant:"outlined",children:c.jsxs(I5,{size:"small",children:[c.jsx(M5,{children:c.jsxs(Rc,{children:[c.jsx(nn,{children:" "}),c.jsx(nn,{align:"center",children:" "}),c.jsx(nn,{align:"right",children:" "}),c.jsx(nn,{align:"right",children:" "}),c.jsx(nn,{align:"right",children:" "}),c.jsx(nn,{align:"right",children:""}),c.jsx(nn,{align:"right",children:" "})]})}),c.jsx(O5,{children:n.map(y=>{const x=m(y.error_details),v=y.error_count>0||x.length>0;return c.jsxs(je.Fragment,{children:[c.jsxs(Rc,{hover:!0,children:[c.jsx(nn,{children:u(y.verification_date)}),c.jsx(nn,{align:"center",children:c.jsx(yt,{label:h(y.verification_type),size:"small",color:y.verification_type==="auto"?"default":"primary"})}),c.jsxs(nn,{align:"right",children:[y.total_checked.toLocaleString(),""]}),c.jsx(nn,{align:"right",children:y.missing_found>0?c.jsx(yt,{label:`${y.missing_found}`,size:"small",color:"warning"}):c.jsx(re,{variant:"body2",color:"text.secondary",children:"0"})}),c.jsx(nn,{align:"right",children:y.deleted_records>0?c.jsx(yt,{label:`${y.deleted_records}`,size:"small",color:"error"}):c.jsx(re,{variant:"body2",color:"text.secondary",children:"0"})}),c.jsx(nn,{align:"right",children:v?c.jsx(yt,{label:`${y.error_count}`,size:"small",color:"error",icon:c.jsx(Cg,{})}):c.jsx(re,{variant:"body2",color:"text.secondary",children:""})}),c.jsx(nn,{align:"right",children:d(y.duration_ms)})]}),v&&x.length>0&&c.jsx(Rc,{children:c.jsx(nn,{colSpan:7,sx:{py:0},children:c.jsxs(Dc,{sx:{boxShadow:"none","&:before":{display:"none"}},children:[c.jsx(Nc,{expandIcon:c.jsx(is,{}),sx:{minHeight:"auto","& .MuiAccordionSummary-content":{my:1}},children:c.jsxs(J,{display:"flex",alignItems:"center",gap:1,children:[c.jsx(Cg,{color:"error",fontSize:"small"}),c.jsxs(re,{variant:"body2",color:"error",children:["  (",x.length,")"]})]})}),c.jsx(Mc,{children:c.jsx(J,{sx:{maxHeight:300,overflow:"auto"},children:x.map((_,C)=>c.jsxs(J,{sx:{mb:1,p:1,bgcolor:"grey.50",borderRadius:1},children:[c.jsxs(re,{variant:"caption",display:"block",color:"error",fontWeight:"bold",children:[" ID: ",_.fileId]}),c.jsxs(re,{variant:"caption",display:"block",sx:{wordBreak:"break-all"},children:[": ",_.filePath]}),c.jsxs(re,{variant:"caption",display:"block",color:"text.secondary",children:[": ",_.error]})]},C))})})]})})})]},y.id)})})]})})]}),c.jsxs(yr,{children:[c.jsx(Ke,{onClick:l,disabled:a,children:""}),c.jsx(Ke,{onClick:e,variant:"contained",children:""})]})]})},jHe=()=>{const[t,e]=A.useState(null),[n,r]=A.useState(!0),[a,i]=A.useState(null),[s]=A.useState(!0),[o,l]=A.useState(null),[u,d]=A.useState(!1),[h,m]=A.useState(null),[y,x]=A.useState(null),[v,_]=A.useState(null),[C,w]=A.useState(!1),[T,E]=A.useState(!1),[I,j]=A.useState("3600"),[O,L]=A.useState(!1),N=async()=>{try{i(null);const[F,W,ee,Q,K]=await Promise.all([Bx.getQueueStatus(),Bx.getHashStats(),I1.getStats(),I1.getProgress(),I1.getSettings()]);e(F),l(W),m(ee),x(Q),_(K),K&&(L(K.enabled??!1),j(K.interval?.toString()??"3600"))}catch(F){console.error("Failed to fetch background queue status:",F),i("    ")}finally{r(!1)}},M=async()=>{if(window.confirm("  ?     ."))try{await Bx.clearQueue(),await N()}catch(F){console.error("Failed to clear queue:",F),i("  ")}},H=async()=>{try{await Bx.triggerAutoTag(),await N()}catch(F){console.error("Failed to trigger auto-tag:",F),i("   ")}},P=async()=>{if(!(!o||o.imagesWithoutHash===0)&&window.confirm(`${o.imagesWithoutHash}   ?`))try{d(!0),i(null);const F=await Bx.rebuildHashes();await N(),F.failed>0&&i(`  :  ${F.processed},  ${F.failed}`)}catch(F){console.error("Failed to rebuild hashes:",F),i("  ")}finally{d(!1)}},$=async()=>{if(!h)return;const F=` ${h.totalFiles}  ?
      .`;if(window.confirm(F))try{E(!0),i(null),await I1.triggerVerification(),await N()}catch(W){console.error("Failed to trigger verification:",W),i("   ")}finally{E(!1)}},D=async()=>{const F=parseInt(I,10);if(isNaN(F)||F<300||F>86400){i("  300-86400  ");return}try{i(null),await I1.updateSettings({enabled:O,interval:F}),await N()}catch(W){console.error("Failed to update verification settings:",W),i("    ")}};A.useEffect(()=>{N()},[]),A.useEffect(()=>{if(!s)return;const F=setInterval(()=>{N()},5e3);return()=>clearInterval(F)},[s]);const U=F=>F?new Date(F).toLocaleString("ko-KR",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"";return n?c.jsx(Yt,{sx:{p:3},children:c.jsx(J,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:c.jsx(Kt,{})})}):t?c.jsxs(c.Fragment,{children:[c.jsxs(Yt,{sx:{p:3},children:[c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[c.jsx(re,{variant:"h6",children:"  "}),c.jsxs(J,{children:[c.jsx(ht,{onClick:N,size:"small",title:"",children:c.jsx(wo,{})}),c.jsx(ht,{onClick:M,size:"small",color:"error",title:" ",disabled:t.queue.queueLength===0,children:c.jsx(Ry,{})})]})]}),a&&c.jsx(St,{severity:"error",sx:{mb:2},onClose:()=>i(null),children:a}),c.jsxs(J,{sx:{mb:3},children:[c.jsx(re,{variant:"subtitle1",sx:{mb:2,fontWeight:"bold"},children:" "}),c.jsxs(J,{sx:{display:"flex",gap:2,mb:2},children:[c.jsx(yt,{label:` : ${t.queue.queueLength}`,color:t.queue.queueLength>0?"primary":"default"}),c.jsx(yt,{label:t.queue.processing?" ":"",color:t.queue.processing?"success":"default"})]}),t.queue.queueLength>0&&c.jsxs(Wf,{dense:!0,children:[c.jsxs(Yf,{children:[c.jsx(Ss,{primary:" ",secondary:`${t.queue.tasksByType.metadata_extraction}  `}),t.queue.tasksByType.metadata_extraction>0&&c.jsx(Kt,{size:20})]}),c.jsxs(Yf,{children:[c.jsx(Ss,{primary:" ",secondary:`${t.queue.tasksByType.prompt_collection}  `}),t.queue.tasksByType.prompt_collection>0&&c.jsx(Kt,{size:20})]})]})]}),c.jsx(yn,{sx:{my:3}}),c.jsxs(J,{sx:{mb:3},children:[c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[c.jsxs(re,{variant:"subtitle1",sx:{fontWeight:"bold",display:"flex",alignItems:"center",gap:1},children:[c.jsx(GRe,{fontSize:"small"}),"  "]}),c.jsx(Ke,{variant:"outlined",size:"small",startIcon:c.jsx(vp,{}),onClick:H,disabled:!t.autoTag.isRunning||t.autoTag.untaggedCount===0,children:" "})]}),c.jsxs(J,{sx:{display:"flex",gap:2,mb:2,flexWrap:"wrap"},children:[c.jsx(yt,{label:t.autoTag.isRunning?" ":"",color:t.autoTag.isRunning?"success":"default",icon:t.autoTag.isRunning?c.jsx(Kt,{size:16}):void 0}),c.jsx(yt,{label:` : ${t.autoTag.untaggedCount}`,color:t.autoTag.untaggedCount>0?"warning":"default"}),c.jsx(yt,{label:` : ${t.autoTag.pollingIntervalSeconds}`,variant:"outlined"}),c.jsx(yt,{label:` : ${t.autoTag.batchSize}`,variant:"outlined"})]})]}),c.jsx(yn,{sx:{my:3}}),o&&c.jsxs(J,{sx:{mb:3},children:[c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[c.jsx(re,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"  "}),c.jsx(Ke,{variant:"outlined",size:"small",startIcon:u?c.jsx(Kt,{size:16}):c.jsx(vp,{}),onClick:P,disabled:u||o.imagesWithoutHash===0,children:" "})]}),c.jsxs(J,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[c.jsx(yt,{label:`: ${o.totalImages}`,variant:"outlined"}),c.jsx(yt,{label:`  : ${o.imagesWithHash}`,color:"success"}),c.jsx(yt,{label:`: ${o.imagesWithoutHash}`,color:o.imagesWithoutHash>0?"warning":"default"}),c.jsx(yt,{label:`: ${o.completionPercentage}%`,color:o.completionPercentage===100?"success":"default"})]})]}),c.jsx(yn,{sx:{my:3}}),h&&v&&c.jsxs(J,{children:[c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[c.jsxs(re,{variant:"subtitle1",sx:{fontWeight:"bold",display:"flex",alignItems:"center",gap:1},children:[c.jsx(Cs,{fontSize:"small"}),"  "]}),c.jsxs(J,{sx:{display:"flex",gap:1},children:[c.jsx(Ke,{variant:"outlined",size:"small",onClick:()=>w(!0),children:" "}),c.jsx(Ke,{variant:"outlined",size:"small",startIcon:T||y?.isRunning?c.jsx(Kt,{size:16}):c.jsx(vp,{}),onClick:$,disabled:T||y?.isRunning,children:" "})]})]}),y?.isRunning&&c.jsxs(St,{severity:"info",sx:{mb:2},children:["   : ",y.checkedFiles,"/",y.totalFiles,"(",y.progressPercentage,"%)",y.missingFiles>0&&` - : ${y.missingFiles}`]}),c.jsxs(J,{sx:{display:"flex",gap:2,mb:2,flexWrap:"wrap"},children:[c.jsx(yt,{label:` : ${h.totalFiles}`,variant:"outlined"}),c.jsx(yt,{label:` : ${h.missingFiles}`,color:h.missingFiles>0?"warning":"default"}),c.jsx(yt,{label:` : ${U(h.lastVerificationDate)}`,variant:"outlined"})]}),c.jsxs(J,{sx:{mt:2,p:2,borderRadius:1},children:[c.jsx(re,{variant:"subtitle2",sx:{mb:1,fontWeight:"bold"},children:"  "}),c.jsxs(un,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:"center",children:[c.jsx(J,{sx:{minWidth:{xs:"100%",sm:"150px"}},children:c.jsx(Zn,{control:c.jsx(oi,{checked:O,onChange:F=>L(F.target.checked)}),label:O?"":""})}),c.jsx(J,{sx:{flex:1,minWidth:{xs:"100%",sm:"200px"}},children:c.jsx(jt,{label:"  ()",type:"number",size:"small",fullWidth:!0,value:I,onChange:F=>j(F.target.value),disabled:!O,inputProps:{min:300,max:86400},helperText:"300-86400 (5-24)",InputProps:{endAdornment:c.jsx(Xt,{title:"          ",children:c.jsx(fv,{fontSize:"small",color:"action"})})}})}),c.jsx(J,{sx:{minWidth:{xs:"100%",sm:"100px"}},children:c.jsx(Ke,{variant:"contained",size:"small",fullWidth:!0,onClick:D,disabled:!v||O===v.enabled&&I===v.interval.toString(),children:""})})]})]})]}),c.jsx(J,{sx:{mt:2},children:c.jsx(re,{variant:"caption",color:"text.secondary",children:s?"5  .":"  ."})})]}),c.jsx(IHe,{open:C,onClose:()=>w(!1)})]}):null},OHe=()=>{const[t,e]=A.useState(30),[n,r]=A.useState(30),[a,i]=A.useState(10),[s,o]=A.useState(!1),[l,u]=A.useState(!1),[d,h]=A.useState(null),[m,y]=A.useState(null),[x,v]=A.useState(null),[_,C]=A.useState(null);A.useEffect(()=>{w(),T()},[]);const w=async()=>{try{const j=await en.get("/api/settings/phase2-interval");e(j.data.data.interval)}catch(j){console.error("Failed to load phase2 interval:",j)}},T=async()=>{try{const j=await en.get("/api/settings/auto-tag-config");r(j.data.data.pollingInterval),i(j.data.data.batchSize)}catch(j){console.error("Failed to load auto-tag config:",j)}},E=async()=>{if(t<5||t>300){h(" 5-300  ");return}o(!0),h(null),y(null);try{const j=await en.put("/api/settings/phase2-interval",{interval:t});y(j.data.message),setTimeout(()=>y(null),3e3)}catch(j){h(j.response?.data?.error||"  ")}finally{o(!1)}},I=async()=>{if(n<5||n>300){v("  5-300  ");return}if(a<1||a>100){v("  1-100  ");return}u(!0),v(null),C(null);try{const j=await en.put("/api/settings/auto-tag-config",{pollingInterval:n,batchSize:a});C(j.data.message),setTimeout(()=>C(null),3e3)}catch(j){v(j.response?.data?.error||"  ")}finally{u(!1)}};return c.jsxs(J,{children:[c.jsx(re,{variant:"h5",gutterBottom:!0,children:" "}),c.jsx(re,{variant:"body2",color:"text.secondary",sx:{mb:4},children:"  ,    ."}),c.jsxs(Yt,{sx:{p:3,mb:4},children:[c.jsx(re,{variant:"h6",sx:{mb:3},children:" "}),c.jsxs(J,{sx:{mb:4},children:[c.jsxs(J,{sx:{display:"flex",alignItems:"center",gap:.5,mb:2},children:[c.jsx(re,{variant:"subtitle1",sx:{fontWeight:"medium"},children:"   "}),c.jsx(Xt,{title:"     (Phase 2)  .       .",arrow:!0,children:c.jsx(ht,{size:"small",children:c.jsx(Sc,{fontSize:"small",color:"action"})})})]}),d&&c.jsx(St,{severity:"error",sx:{mb:2},onClose:()=>h(null),children:d}),m&&c.jsx(St,{severity:"success",sx:{mb:2},onClose:()=>y(null),children:m}),c.jsxs(J,{sx:{display:"flex",gap:2,alignItems:"center"},children:[c.jsx(Xt,{title:"    . 5-300    .",arrow:!0,children:c.jsx(jt,{type:"number",value:t,onChange:j=>e(parseInt(j.target.value)||30),inputProps:{min:5,max:300},label:" ()",size:"small",sx:{width:200}})}),c.jsx(Ke,{variant:"outlined",size:"small",onClick:E,disabled:s,children:s?" ...":""})]})]}),c.jsx(yn,{sx:{my:3}}),c.jsxs(J,{children:[c.jsxs(J,{sx:{display:"flex",alignItems:"center",gap:.5,mb:2},children:[c.jsx(re,{variant:"subtitle1",sx:{fontWeight:"medium"},children:"  "}),c.jsx(Xt,{title:"       .           .",arrow:!0,children:c.jsx(ht,{size:"small",children:c.jsx(Sc,{fontSize:"small",color:"action"})})})]}),x&&c.jsx(St,{severity:"error",sx:{mb:2},onClose:()=>v(null),children:x}),_&&c.jsx(St,{severity:"success",sx:{mb:2},onClose:()=>C(null),children:_}),c.jsxs(J,{sx:{display:"flex",gap:2,alignItems:"center",flexWrap:"wrap"},children:[c.jsx(Xt,{title:"   . 5-300    .",arrow:!0,children:c.jsx(jt,{type:"number",value:n,onChange:j=>r(parseInt(j.target.value)||30),inputProps:{min:5,max:300},label:"  ()",size:"small",sx:{width:200}})}),c.jsx(Xt,{title:"    . 1-100    .",arrow:!0,children:c.jsx(jt,{type:"number",value:a,onChange:j=>i(parseInt(j.target.value)||10),inputProps:{min:1,max:100},label:"  ()",size:"small",sx:{width:200}})}),c.jsx(Ke,{variant:"outlined",size:"small",onClick:I,disabled:l,children:l?" ...":""})]})]})]}),c.jsx(J,{sx:{mb:4},children:c.jsx(jHe,{})}),c.jsx(yn,{sx:{my:4}}),c.jsx(J,{children:c.jsx(wHe,{})})]})},y1="http://localhost:1566",mg={async checkStatus(){return(await en.get(`${y1}/api/auth/status`,{withCredentials:!0})).data},async login(t,e){return(await en.post(`${y1}/api/auth/login`,{username:t,password:e},{withCredentials:!0})).data},async logout(){return(await en.post(`${y1}/api/auth/logout`,{},{withCredentials:!0})).data},async setup(t,e){return(await en.post(`${y1}/api/auth/setup`,{username:t,password:e},{withCredentials:!0})).data},async updateCredentials(t,e,n){return(await en.put(`${y1}/api/auth/credentials`,{currentPassword:t,newUsername:e,newPassword:n},{withCredentials:!0})).data},async getDatabaseInfo(){return(await en.get(`${y1}/api/auth/database-info`)).data}},BJ=A.createContext(void 0),DHe=({children:t})=>{const[e,n]=A.useState(!1),[r,a]=A.useState(!0),[i,s]=A.useState(!1),[o,l]=A.useState(null),u=async()=>{try{a(!0);const y=await mg.checkStatus();s(y.hasCredentials),n(y.authenticated),l(y.username)}catch(y){console.error("Failed to check auth status:",y),n(!1),l(null)}finally{a(!1)}},d=async(y,x)=>{try{await mg.login(y,x),await u()}catch(v){throw v instanceof Error?new Error(v.message):new Error("Login failed")}},h=async()=>{try{await mg.logout(),n(!1),l(null)}catch(y){throw console.error("Logout failed:",y),y}};A.useEffect(()=>{u()},[]);const m={isAuthenticated:e,isLoading:r,hasCredentials:i,username:o,login:d,logout:h,checkAuth:u};return c.jsx(BJ.Provider,{value:m,children:t})},dD=()=>{const t=A.useContext(BJ);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},MHe=()=>{const{t}=$t("settings"),{hasCredentials:e,checkAuth:n}=dD(),[r,a]=A.useState(!1),[i,s]=A.useState(""),[o,l]=A.useState(""),[u,d]=A.useState(null),[h,m]=A.useState(""),[y,x]=A.useState(""),[v,_]=A.useState(""),[C,w]=A.useState(""),[T,E]=A.useState(""),[I,j]=A.useState(""),[O,L]=A.useState(""),N=()=>{s(""),l("")},M=()=>{m(""),x(""),_("")},H=()=>{w(""),E(""),j(""),L("")};A.useEffect(()=>{(async()=>{try{const U=await mg.getDatabaseInfo();d(U)}catch(U){console.error("Failed to load database info:",U)}})()},[]);const P=async()=>{if(N(),!h||!y){s(t("auth.setup.errors.required"));return}if(y!==v){s(t("auth.setup.errors.mismatch"));return}a(!0);try{await mg.setup(h,y),l(t("auth.setup.success")),M(),await n()}catch(D){D instanceof Error?s(D.message||t("auth.setup.errors.failed")):s(t("auth.setup.errors.failed"))}finally{a(!1)}},$=async()=>{if(N(),!C||!T||!I){s(t("auth.update.errors.required"));return}if(I!==O){s(t("auth.update.errors.mismatch"));return}a(!0);try{await mg.updateCredentials(C,T,I),l(t("auth.update.success")),H(),await n()}catch(D){D instanceof Error?s(D.message||t("auth.update.errors.failed")):s(t("auth.update.errors.failed"))}finally{a(!1)}};return c.jsxs(J,{children:[i&&c.jsx(St,{severity:"error",sx:{mb:3},onClose:N,children:i}),o&&c.jsx(St,{severity:"success",sx:{mb:3},onClose:N,children:o}),e?c.jsxs(Yt,{sx:{p:3},children:[c.jsxs(J,{sx:{display:"flex",alignItems:"center",mb:2},children:[c.jsx(iI,{sx:{mr:1,color:"primary.main"}}),c.jsx(re,{variant:"h6",children:t("auth.update.title")})]}),c.jsx(St,{severity:"warning",sx:{mb:3},children:t("auth.update.description")}),c.jsx(jt,{fullWidth:!0,type:"password",label:t("auth.update.currentPassword"),value:C,onChange:D=>w(D.target.value),disabled:r,sx:{mb:2}}),c.jsx(yn,{sx:{my:2}}),c.jsx(jt,{fullWidth:!0,label:t("auth.update.newUsername"),value:T,onChange:D=>E(D.target.value),disabled:r,sx:{mb:2}}),c.jsx(jt,{fullWidth:!0,type:"password",label:t("auth.update.newPassword"),value:I,onChange:D=>j(D.target.value),disabled:r,sx:{mb:2}}),c.jsx(jt,{fullWidth:!0,type:"password",label:t("auth.update.confirmNewPassword"),value:O,onChange:D=>L(D.target.value),disabled:r,sx:{mb:3}}),c.jsx(Ke,{variant:"contained",onClick:$,disabled:r||!C||!T||!I||!O,fullWidth:!0,children:r?c.jsx(Kt,{size:24}):t("auth.update.button")}),c.jsx(J,{sx:{mt:3},children:c.jsxs(Dc,{children:[c.jsx(Nc,{expandIcon:c.jsx(is,{}),children:c.jsxs(J,{sx:{display:"flex",alignItems:"center"},children:[c.jsx(NO,{sx:{mr:1,color:"warning.main"}}),c.jsx(re,{children:" ?"})]})}),c.jsx(Mc,{children:c.jsxs(St,{severity:"info",sx:{mb:2},children:[c.jsx(re,{variant:"body2",sx:{mb:2},children:"  ,      ."}),c.jsx(re,{variant:"body2",component:"div",sx:{mb:1},children:c.jsx("strong",{children:" :"})}),c.jsxs(re,{variant:"body2",component:"ol",sx:{pl:2,mb:2},children:[c.jsx("li",{children:" "}),c.jsx("li",{children:"  "}),c.jsx("li",{children:"  "}),c.jsx("li",{children:"  "})]}),u&&c.jsxs(J,{sx:{bgcolor:"background.default",p:2,borderRadius:1,mt:2},children:[c.jsx(re,{variant:"caption",sx:{display:"block",mb:1},children:c.jsx("strong",{children:" :"})}),c.jsx(re,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.85rem",wordBreak:"break-all",bgcolor:"grey.900",color:"success.light",p:1,borderRadius:1},children:u.authDbPath})]}),c.jsx(St,{severity:"warning",sx:{mt:2},children:c.jsx(re,{variant:"caption",children:" :      ,   . ,       ."})})]})})]})})]}):c.jsxs(Yt,{sx:{p:3},children:[c.jsxs(J,{sx:{display:"flex",alignItems:"center",mb:2},children:[c.jsx(r9e,{sx:{mr:1,color:"primary.main"}}),c.jsx(re,{variant:"h6",children:t("auth.setup.title")})]}),c.jsx(St,{severity:"info",sx:{mb:3},children:t("auth.setup.description")}),c.jsx(jt,{fullWidth:!0,label:t("auth.setup.username"),value:h,onChange:D=>m(D.target.value),disabled:r,sx:{mb:2}}),c.jsx(jt,{fullWidth:!0,type:"password",label:t("auth.setup.password"),value:y,onChange:D=>x(D.target.value),disabled:r,sx:{mb:2}}),c.jsx(jt,{fullWidth:!0,type:"password",label:t("auth.setup.confirmPassword"),value:v,onChange:D=>_(D.target.value),disabled:r,sx:{mb:3}}),c.jsx(Ke,{variant:"contained",onClick:P,disabled:r||!h||!y||!v,fullWidth:!0,children:r?c.jsx(Kt,{size:24}):t("auth.setup.button")})]})]})},NHe=()=>{const t=bt.c(5);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e={open:!1,message:"",severity:"success"},t[0]=e):e=t[0];const[n,r]=A.useState(e);let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=(u,d)=>{r({open:!0,message:u,severity:d})},t[1]=a):a=t[1];const i=a;let s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{r(PHe)},t[2]=s):s=t[2];const o=s;let l;return t[3]!==n?(l={snackbar:n,showSnackbar:i,hideSnackbar:o},t[3]=n,t[4]=l):l=t[4],l};function PHe(t){return{...t,open:!1}}const LHe=(t,e,n)=>{const[r,a]=A.useState([]),[i,s]=A.useState(!1),[o,l]=A.useState(null),[u,d]=A.useState(!1),h=A.useCallback(async()=>{try{s(!0);const E=await Hm.getGroups(!0,t);if(E.success&&E.data){const I=E.data.sort((j,O)=>j.display_order-O.display_order);a(I)}else n("Failed to load groups")}catch(E){console.error("Error fetching groups:",E),n("Failed to load groups")}finally{s(!1)}},[t,n]),m=A.useCallback(()=>{const E=r.length>0?Math.max(...r.map(I=>I.display_order)):0;l({group_name:"",display_order:E+1,is_visible:!0}),d(!0)},[r]),y=A.useCallback(E=>{l({id:E.id,group_name:E.group_name,display_order:E.display_order,is_visible:E.is_visible}),d(!0)},[]),x=A.useCallback(()=>{l(null),d(!1)},[]),v=A.useCallback(async E=>{if(!o||!o.group_name.trim()){n("Group name is required");return}try{const I={group_name:o.group_name.trim(),display_order:o.display_order,is_visible:o.is_visible};let j;o.id?j=await Hm.updateGroup(o.id,I,t):j=await Hm.createGroup(I,t),j.success?(e(o.id?"Group updated successfully":"Group created successfully"),await h(),E(),x()):n(j.error||(o.id?"Failed to update group":"Failed to create group"))}catch(I){console.error("Error saving group:",I),n(o?.id?"Failed to update group":"Failed to create group")}},[o,t,e,n,h,x]),_=A.useCallback(async(E,I)=>{if(confirm("Are you sure you want to delete this group?"))try{const j=await Hm.deleteGroup(E,t);j.success?(e("Group deleted successfully"),await h(),I()):n(j.error||"Failed to delete group")}catch(j){console.error("Error deleting group:",j),n("Failed to delete group")}},[t,e,n,h]),C=A.useCallback(async(E,I)=>{try{const j={group_name:E.group_name,display_order:E.display_order,is_visible:!E.is_visible},O=await Hm.updateGroup(E.id,j,t);O.success?(await h(),I()):n(O.error||"Failed to toggle visibility")}catch(j){console.error("Error toggling visibility:",j),n("Failed to toggle visibility")}},[t,n,h]),w=A.useCallback(async(E,I)=>{try{a(E);const j=E.map((N,M)=>{const H={group_name:N.group_name,display_order:M+1,is_visible:N.is_visible};return Hm.updateGroup(N.id,H,t)});(await Promise.all(j)).some(N=>!N.success)?(n("Failed to update group order"),await h()):(e("Group order updated successfully"),I())}catch(j){console.error("Error updating groups order:",j),n("Failed to update group order"),await h()}},[t,e,n,h]),T=A.useCallback(E=>{l(I=>I?{...I,...E}:null)},[]);return{groups:r,loading:i,editingGroup:o,isEditing:u,fetchGroups:h,startAddGroup:m,startEditGroup:y,cancelEdit:x,saveGroup:v,deleteGroup:_,toggleVisibility:C,updateGroupsOrder:w,updateEditingGroup:T,setGroups:a}};function zHe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A.useMemo(()=>r=>{e.forEach(a=>a(r))},e)}const iw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function zy(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function fD(t){return"nodeType"in t}function sl(t){var e,n;return t?zy(t)?t:fD(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function hD(t){const{Document:e}=sl(t);return t instanceof e}function hS(t){return zy(t)?!1:t instanceof sl(t).HTMLElement}function HJ(t){return t instanceof sl(t).SVGElement}function Fy(t){return t?zy(t)?t.document:fD(t)?hD(t)?t:hS(t)||HJ(t)?t.ownerDocument:document:document:document}const Bd=iw?A.useLayoutEffect:A.useEffect;function pD(t){const e=A.useRef(t);return Bd(()=>{e.current=t}),A.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}function FHe(){const t=A.useRef(null),e=A.useCallback((r,a)=>{t.current=setInterval(r,a)},[]),n=A.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Ev(t,e){e===void 0&&(e=[t]);const n=A.useRef(t);return Bd(()=>{n.current!==t&&(n.current=t)},e),n}function pS(t,e){const n=A.useRef();return A.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function OC(t){const e=pD(t),n=A.useRef(null),r=A.useCallback(a=>{a!==n.current&&e?.(a,n.current),n.current=a},[]);return[n,r]}function $I(t){const e=A.useRef();return A.useEffect(()=>{e.current=t},[t]),e.current}let t6={};function mS(t,e){return A.useMemo(()=>{if(e)return e;const n=t6[t]==null?0:t6[t]+1;return t6[t]=n,t+"-"+n},[t,e])}function UJ(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((i,s)=>{const o=Object.entries(s);for(const[l,u]of o){const d=i[l];d!=null&&(i[l]=d+t*u)}return i},{...e})}}const V1=UJ(1),Tv=UJ(-1);function BHe(t){return"clientX"in t&&"clientY"in t}function mD(t){if(!t)return!1;const{KeyboardEvent:e}=sl(t.target);return e&&t instanceof e}function HHe(t){if(!t)return!1;const{TouchEvent:e}=sl(t.target);return e&&t instanceof e}function GI(t){if(HHe(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return BHe(t)?{x:t.clientX,y:t.clientY}:null}const fy=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[fy.Translate.toString(t),fy.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),wB="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function UHe(t){return t.matches(wB)?t:t.querySelector(wB)}const $He={display:"none"};function GHe(t){let{id:e,value:n}=t;return je.createElement("div",{id:e,style:$He},n)}function qHe(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return je.createElement("div",{id:e,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function VHe(){const[t,e]=A.useState("");return{announce:A.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const $J=A.createContext(null);function WHe(t){const e=A.useContext($J);A.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function YHe(){const[t]=A.useState(()=>new Set),e=A.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[A.useCallback(r=>{let{type:a,event:i}=r;t.forEach(s=>{var o;return(o=s[a])==null?void 0:o.call(s,i)})},[t]),e]}const KHe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},XHe={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function QHe(t){let{announcements:e=XHe,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=KHe}=t;const{announce:i,announcement:s}=VHe(),o=mS("DndLiveRegion"),[l,u]=A.useState(!1);if(A.useEffect(()=>{u(!0)},[]),WHe(A.useMemo(()=>({onDragStart(h){let{active:m}=h;i(e.onDragStart({active:m}))},onDragMove(h){let{active:m,over:y}=h;e.onDragMove&&i(e.onDragMove({active:m,over:y}))},onDragOver(h){let{active:m,over:y}=h;i(e.onDragOver({active:m,over:y}))},onDragEnd(h){let{active:m,over:y}=h;i(e.onDragEnd({active:m,over:y}))},onDragCancel(h){let{active:m,over:y}=h;i(e.onDragCancel({active:m,over:y}))}}),[i,e])),!l)return null;const d=je.createElement(je.Fragment,null,je.createElement(GHe,{id:r,value:a.draggable}),je.createElement(qHe,{id:o,announcement:s}));return n?Ym.createPortal(d,n):d}var Ui;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Ui||(Ui={}));function DC(){}function qI(t,e){return A.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function GJ(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Tu=Object.freeze({x:0,y:0});function qJ(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function VJ(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function ZHe(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function EB(t){let{left:e,top:n,height:r,width:a}=t;return[{x:e,y:n},{x:e+a,y:n},{x:e,y:n+r},{x:e+a,y:n+r}]}function WJ(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function TB(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const YJ=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=TB(e,e.left,e.top),i=[];for(const s of r){const{id:o}=s,l=n.get(o);if(l){const u=qJ(TB(l),a);i.push({id:o,data:{droppableContainer:s,value:u}})}}return i.sort(VJ)},JHe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=EB(e),i=[];for(const s of r){const{id:o}=s,l=n.get(o);if(l){const u=EB(l),d=a.reduce((m,y,x)=>m+qJ(u[x],y),0),h=Number((d/4).toFixed(4));i.push({id:o,data:{droppableContainer:s,value:h}})}}return i.sort(VJ)};function eUe(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),a=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),s=a-r,o=i-n;if(r<a&&n<i){const l=e.width*e.height,u=t.width*t.height,d=s*o,h=d/(l+u-d);return Number(h.toFixed(4))}return 0}const tUe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=[];for(const i of r){const{id:s}=i,o=n.get(s);if(o){const l=eUe(o,e);l>0&&a.push({id:s,data:{droppableContainer:i,value:l}})}}return a.sort(ZHe)};function nUe(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function KJ(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Tu}function rUe(t){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return a.reduce((s,o)=>({...s,top:s.top+t*o.y,bottom:s.bottom+t*o.y,left:s.left+t*o.x,right:s.right+t*o.x}),{...n})}}const aUe=rUe(1);function iUe(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function sUe(t,e,n){const r=iUe(e);if(!r)return t;const{scaleX:a,scaleY:i,x:s,y:o}=r,l=t.left-s-(1-a)*parseFloat(n),u=t.top-o-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=a?t.width/a:t.width,h=i?t.height/i:t.height;return{width:d,height:h,top:u,right:l+d,bottom:u+h,left:l}}const oUe={ignoreTransform:!1};function By(t,e){e===void 0&&(e=oUe);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:d}=sl(t).getComputedStyle(t);u&&(n=sUe(n,u,d))}const{top:r,left:a,width:i,height:s,bottom:o,right:l}=n;return{top:r,left:a,width:i,height:s,bottom:o,right:l}}function AB(t){return By(t,{ignoreTransform:!0})}function lUe(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function cUe(t,e){return e===void 0&&(e=sl(t).getComputedStyle(t)),e.position==="fixed"}function uUe(t,e){e===void 0&&(e=sl(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=e[a];return typeof i=="string"?n.test(i):!1})}function sw(t,e){const n=[];function r(a){if(e!=null&&n.length>=e||!a)return n;if(hD(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!hS(a)||HJ(a)||n.includes(a))return n;const i=sl(t).getComputedStyle(a);return a!==t&&uUe(a,i)&&n.push(a),cUe(a,i)?n:r(a.parentNode)}return t?r(t):n}function XJ(t){const[e]=sw(t,1);return e??null}function n6(t){return!iw||!t?null:zy(t)?t:fD(t)?hD(t)||t===Fy(t).scrollingElement?window:hS(t)?t:null:null}function QJ(t){return zy(t)?t.scrollX:t.scrollLeft}function ZJ(t){return zy(t)?t.scrollY:t.scrollTop}function VI(t){return{x:QJ(t),y:ZJ(t)}}var es;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(es||(es={}));function JJ(t){return!iw||!t?!1:t===document.scrollingElement}function eee(t){const e={x:0,y:0},n=JJ(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},a=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,s=t.scrollTop>=r.y,o=t.scrollLeft>=r.x;return{isTop:a,isLeft:i,isBottom:s,isRight:o,maxScroll:r,minScroll:e}}const dUe={x:.2,y:.2};function fUe(t,e,n,r,a){let{top:i,left:s,right:o,bottom:l}=n;r===void 0&&(r=10),a===void 0&&(a=dUe);const{isTop:u,isBottom:d,isLeft:h,isRight:m}=eee(t),y={x:0,y:0},x={x:0,y:0},v={height:e.height*a.y,width:e.width*a.x};return!u&&i<=e.top+v.height?(y.y=es.Backward,x.y=r*Math.abs((e.top+v.height-i)/v.height)):!d&&l>=e.bottom-v.height&&(y.y=es.Forward,x.y=r*Math.abs((e.bottom-v.height-l)/v.height)),!m&&o>=e.right-v.width?(y.x=es.Forward,x.x=r*Math.abs((e.right-v.width-o)/v.width)):!h&&s<=e.left+v.width&&(y.x=es.Backward,x.x=r*Math.abs((e.left+v.width-s)/v.width)),{direction:y,speed:x}}function hUe(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:e,left:n,right:r,bottom:a}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:a,width:t.clientWidth,height:t.clientHeight}}function tee(t){return t.reduce((e,n)=>V1(e,VI(n)),Tu)}function pUe(t){return t.reduce((e,n)=>e+QJ(n),0)}function mUe(t){return t.reduce((e,n)=>e+ZJ(n),0)}function gUe(t,e){if(e===void 0&&(e=By),!t)return;const{top:n,left:r,bottom:a,right:i}=e(t);XJ(t)&&(a<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const yUe=[["x",["left","right"],pUe],["y",["top","bottom"],mUe]];class gD{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=sw(n),a=tee(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,s,o]of yUe)for(const l of s)Object.defineProperty(this,l,{get:()=>{const u=o(r),d=a[i]-u;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class H2{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var a;(a=this.target)==null||a.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function bUe(t){const{EventTarget:e}=sl(t);return t instanceof e?t:Fy(t)}function r6(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var xc;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(xc||(xc={}));function RB(t){t.preventDefault()}function xUe(t){t.stopPropagation()}var ir;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ir||(ir={}));const nee={start:[ir.Space,ir.Enter],cancel:[ir.Esc],end:[ir.Space,ir.Enter,ir.Tab]},vUe=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case ir.Right:return{...n,x:n.x+25};case ir.Left:return{...n,x:n.x-25};case ir.Down:return{...n,y:n.y+25};case ir.Up:return{...n,y:n.y-25}}};class yD{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new H2(Fy(n)),this.windowListeners=new H2(sl(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(xc.Resize,this.handleCancel),this.windowListeners.add(xc.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(xc.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&gUe(r),n(Tu)}handleKeyDown(e){if(mD(e)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:i=nee,coordinateGetter:s=vUe,scrollBehavior:o="smooth"}=a,{code:l}=e;if(i.end.includes(l)){this.handleEnd(e);return}if(i.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Tu;this.referenceCoordinates||(this.referenceCoordinates=d);const h=s(e,{active:n,context:r.current,currentCoordinates:d});if(h){const m=Tv(h,d),y={x:0,y:0},{scrollableAncestors:x}=r.current;for(const v of x){const _=e.code,{isTop:C,isRight:w,isLeft:T,isBottom:E,maxScroll:I,minScroll:j}=eee(v),O=hUe(v),L={x:Math.min(_===ir.Right?O.right-O.width/2:O.right,Math.max(_===ir.Right?O.left:O.left+O.width/2,h.x)),y:Math.min(_===ir.Down?O.bottom-O.height/2:O.bottom,Math.max(_===ir.Down?O.top:O.top+O.height/2,h.y))},N=_===ir.Right&&!w||_===ir.Left&&!T,M=_===ir.Down&&!E||_===ir.Up&&!C;if(N&&L.x!==h.x){const H=v.scrollLeft+m.x,P=_===ir.Right&&H<=I.x||_===ir.Left&&H>=j.x;if(P&&!m.y){v.scrollTo({left:H,behavior:o});return}P?y.x=v.scrollLeft-H:y.x=_===ir.Right?v.scrollLeft-I.x:v.scrollLeft-j.x,y.x&&v.scrollBy({left:-y.x,behavior:o});break}else if(M&&L.y!==h.y){const H=v.scrollTop+m.y,P=_===ir.Down&&H<=I.y||_===ir.Up&&H>=j.y;if(P&&!m.x){v.scrollTo({top:H,behavior:o});return}P?y.y=v.scrollTop-H:y.y=_===ir.Down?v.scrollTop-I.y:v.scrollTop-j.y,y.y&&v.scrollBy({top:-y.y,behavior:o});break}}this.handleMove(e,V1(Tv(h,this.referenceCoordinates),y))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}yD.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=nee,onActivation:a}=e,{active:i}=n;const{code:s}=t.nativeEvent;if(r.start.includes(s)){const o=i.activatorNode.current;return o&&t.target!==o?!1:(t.preventDefault(),a?.({event:t.nativeEvent}),!0)}return!1}}];function kB(t){return!!(t&&"distance"in t)}function IB(t){return!!(t&&"delay"in t)}class bD{constructor(e,n,r){var a;r===void 0&&(r=bUe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:i}=e,{target:s}=i;this.props=e,this.events=n,this.document=Fy(s),this.documentListeners=new H2(this.document),this.listeners=new H2(r),this.windowListeners=new H2(sl(s)),this.initialCoordinates=(a=GI(i))!=null?a:Tu,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(xc.Resize,this.handleCancel),this.windowListeners.add(xc.DragStart,RB),this.windowListeners.add(xc.VisibilityChange,this.handleCancel),this.windowListeners.add(xc.ContextMenu,RB),this.documentListeners.add(xc.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(IB(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(kB(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:a}=this.props;a(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(xc.Click,xUe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(xc.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:a,props:i}=this,{onMove:s,options:{activationConstraint:o}}=i;if(!a)return;const l=(n=GI(e))!=null?n:Tu,u=Tv(a,l);if(!r&&o){if(kB(o)){if(o.tolerance!=null&&r6(u,o.tolerance))return this.handleCancel();if(r6(u,o.distance))return this.handleStart()}if(IB(o)&&r6(u,o.tolerance))return this.handleCancel();this.handlePending(o,u);return}e.cancelable&&e.preventDefault(),s(l)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===ir.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const SUe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ow extends bD{constructor(e){const{event:n}=e,r=Fy(n.target);super(e,SUe,r)}}ow.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const _Ue={move:{name:"mousemove"},end:{name:"mouseup"}};var WI;(function(t){t[t.RightClick=2]="RightClick"})(WI||(WI={}));class CUe extends bD{constructor(e){super(e,_Ue,Fy(e.event.target))}}CUe.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===WI.RightClick?!1:(r?.({event:n}),!0)}}];const a6={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class wUe extends bD{constructor(e){super(e,a6)}static setup(){return window.addEventListener(a6.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(a6.move.name,e)};function e(){}}}wUe.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:a}=n;return a.length>1?!1:(r?.({event:n}),!0)}}];var U2;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(U2||(U2={}));var MC;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(MC||(MC={}));function EUe(t){let{acceleration:e,activator:n=U2.Pointer,canScroll:r,draggingRect:a,enabled:i,interval:s=5,order:o=MC.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:m}=t;const y=AUe({delta:h,disabled:!i}),[x,v]=FHe(),_=A.useRef({x:0,y:0}),C=A.useRef({x:0,y:0}),w=A.useMemo(()=>{switch(n){case U2.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case U2.DraggableRect:return a}},[n,a,l]),T=A.useRef(null),E=A.useCallback(()=>{const j=T.current;if(!j)return;const O=_.current.x*C.current.x,L=_.current.y*C.current.y;j.scrollBy(O,L)},[]),I=A.useMemo(()=>o===MC.TreeOrder?[...u].reverse():u,[o,u]);A.useEffect(()=>{if(!i||!u.length||!w){v();return}for(const j of I){if(r?.(j)===!1)continue;const O=u.indexOf(j),L=d[O];if(!L)continue;const{direction:N,speed:M}=fUe(j,L,w,e,m);for(const H of["x","y"])y[H][N[H]]||(M[H]=0,N[H]=0);if(M.x>0||M.y>0){v(),T.current=j,x(E,s),_.current=M,C.current=N;return}}_.current={x:0,y:0},C.current={x:0,y:0},v()},[e,E,r,v,i,s,JSON.stringify(w),JSON.stringify(y),x,u,I,d,JSON.stringify(m)])}const TUe={x:{[es.Backward]:!1,[es.Forward]:!1},y:{[es.Backward]:!1,[es.Forward]:!1}};function AUe(t){let{delta:e,disabled:n}=t;const r=$I(e);return pS(a=>{if(n||!r||!a)return TUe;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[es.Backward]:a.x[es.Backward]||i.x===-1,[es.Forward]:a.x[es.Forward]||i.x===1},y:{[es.Backward]:a.y[es.Backward]||i.y===-1,[es.Forward]:a.y[es.Forward]||i.y===1}}},[n,e,r])}function RUe(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return pS(a=>{var i;return e==null?null:(i=r??a)!=null?i:null},[r,e])}function kUe(t,e){return A.useMemo(()=>t.reduce((n,r)=>{const{sensor:a}=r,i=a.activators.map(s=>({eventName:s.eventName,handler:e(s.handler,r)}));return[...n,...i]},[]),[t,e])}var Av;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Av||(Av={}));var YI;(function(t){t.Optimized="optimized"})(YI||(YI={}));const jB=new Map;function IUe(t,e){let{dragging:n,dependencies:r,config:a}=e;const[i,s]=A.useState(null),{frequency:o,measure:l,strategy:u}=a,d=A.useRef(t),h=_(),m=Ev(h),y=A.useCallback(function(C){C===void 0&&(C=[]),!m.current&&s(w=>w===null?C:w.concat(C.filter(T=>!w.includes(T))))},[m]),x=A.useRef(null),v=pS(C=>{if(h&&!n)return jB;if(!C||C===jB||d.current!==t||i!=null){const w=new Map;for(let T of t){if(!T)continue;if(i&&i.length>0&&!i.includes(T.id)&&T.rect.current){w.set(T.id,T.rect.current);continue}const E=T.node.current,I=E?new gD(l(E),E):null;T.rect.current=I,I&&w.set(T.id,I)}return w}return C},[t,i,n,h,l]);return A.useEffect(()=>{d.current=t},[t]),A.useEffect(()=>{h||y()},[n,h]),A.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),A.useEffect(()=>{h||typeof o!="number"||x.current!==null||(x.current=setTimeout(()=>{y(),x.current=null},o))},[o,h,y,...r]),{droppableRects:v,measureDroppableContainers:y,measuringScheduled:i!=null};function _(){switch(u){case Av.Always:return!1;case Av.BeforeDragging:return n;default:return!n}}}function ree(t,e){return pS(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function jUe(t,e){return ree(t,e)}function OUe(t){let{callback:e,disabled:n}=t;const r=pD(e),a=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return A.useEffect(()=>()=>a?.disconnect(),[a]),a}function lw(t){let{callback:e,disabled:n}=t;const r=pD(e),a=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return A.useEffect(()=>()=>a?.disconnect(),[a]),a}function DUe(t){return new gD(By(t),t)}function OB(t,e,n){e===void 0&&(e=DUe);const[r,a]=A.useState(null);function i(){a(l=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=l??n)!=null?u:null}const d=e(t);return JSON.stringify(l)===JSON.stringify(d)?l:d})}const s=OUe({callback(l){if(t)for(const u of l){const{type:d,target:h}=u;if(d==="childList"&&h instanceof HTMLElement&&h.contains(t)){i();break}}}}),o=lw({callback:i});return Bd(()=>{i(),t?(o?.observe(t),s?.observe(document.body,{childList:!0,subtree:!0})):(o?.disconnect(),s?.disconnect())},[t]),r}function MUe(t){const e=ree(t);return KJ(t,e)}const DB=[];function NUe(t){const e=A.useRef(t),n=pS(r=>t?r&&r!==DB&&t&&e.current&&t.parentNode===e.current.parentNode?r:sw(t):DB,[t]);return A.useEffect(()=>{e.current=t},[t]),n}function PUe(t){const[e,n]=A.useState(null),r=A.useRef(t),a=A.useCallback(i=>{const s=n6(i.target);s&&n(o=>o?(o.set(s,VI(s)),new Map(o)):null)},[]);return A.useEffect(()=>{const i=r.current;if(t!==i){s(i);const o=t.map(l=>{const u=n6(l);return u?(u.addEventListener("scroll",a,{passive:!0}),[u,VI(u)]):null}).filter(l=>l!=null);n(o.length?new Map(o):null),r.current=t}return()=>{s(t),s(i)};function s(o){o.forEach(l=>{const u=n6(l);u?.removeEventListener("scroll",a)})}},[a,t]),A.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,s)=>V1(i,s),Tu):tee(t):Tu,[t,e])}function MB(t,e){e===void 0&&(e=[]);const n=A.useRef(null);return A.useEffect(()=>{n.current=null},e),A.useEffect(()=>{const r=t!==Tu;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Tv(t,n.current):Tu}function LUe(t){A.useEffect(()=>{if(!iw)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function zUe(t,e){return A.useMemo(()=>t.reduce((n,r)=>{let{eventName:a,handler:i}=r;return n[a]=s=>{i(s,e)},n},{}),[t,e])}function aee(t){return A.useMemo(()=>t?lUe(t):null,[t])}const NB=[];function FUe(t,e){e===void 0&&(e=By);const[n]=t,r=aee(n?sl(n):null),[a,i]=A.useState(NB);function s(){i(()=>t.length?t.map(l=>JJ(l)?r:new gD(e(l),l)):NB)}const o=lw({callback:s});return Bd(()=>{o?.disconnect(),s(),t.forEach(l=>o?.observe(l))},[t]),a}function BUe(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return hS(e)?e:t}function HUe(t){let{measure:e}=t;const[n,r]=A.useState(null),a=A.useCallback(u=>{for(const{target:d}of u)if(hS(d)){r(h=>{const m=e(d);return h?{...h,width:m.width,height:m.height}:m});break}},[e]),i=lw({callback:a}),s=A.useCallback(u=>{const d=BUe(u);i?.disconnect(),d&&i?.observe(d),r(d?e(d):null)},[e,i]),[o,l]=OC(s);return A.useMemo(()=>({nodeRef:o,rect:n,setRef:l}),[n,o,l])}const UUe=[{sensor:ow,options:{}},{sensor:yD,options:{}}],$Ue={current:{}},F4={draggable:{measure:AB},droppable:{measure:AB,strategy:Av.WhileDragging,frequency:YI.Optimized},dragOverlay:{measure:By}};class $2 extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const GUe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new $2,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:DC},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:F4,measureDroppableContainers:DC,windowRect:null,measuringScheduled:!1},qUe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:DC,draggableNodes:new Map,over:null,measureDroppableContainers:DC},cw=A.createContext(qUe),iee=A.createContext(GUe);function VUe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new $2}}}function WUe(t,e){switch(e.type){case Ui.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ui.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Ui.DragEnd:case Ui.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ui.RegisterDroppable:{const{element:n}=e,{id:r}=n,a=new $2(t.droppable.containers);return a.set(r,n),{...t,droppable:{...t.droppable,containers:a}}}case Ui.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new $2(t.droppable.containers);return s.set(n,{...i,disabled:a}),{...t,droppable:{...t.droppable,containers:s}}}case Ui.UnregisterDroppable:{const{id:n,key:r}=e,a=t.droppable.containers.get(n);if(!a||r!==a.key)return t;const i=new $2(t.droppable.containers);return i.delete(n),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function YUe(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:a}=A.useContext(cw),i=$I(r),s=$I(n?.id);return A.useEffect(()=>{if(!e&&!r&&i&&s!=null){if(!mD(i)||document.activeElement===i.target)return;const o=a.get(s);if(!o)return;const{activatorNode:l,node:u}=o;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[l.current,u.current]){if(!d)continue;const h=UHe(d);if(h){h.focus();break}}})}},[r,e,a,s,i]),null}function KUe(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((a,i)=>i({transform:a,...r}),n):n}function XUe(t){return A.useMemo(()=>({draggable:{...F4.draggable,...t?.draggable},droppable:{...F4.droppable,...t?.droppable},dragOverlay:{...F4.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function QUe(t){let{activeNode:e,measure:n,initialRect:r,config:a=!0}=t;const i=A.useRef(!1),{x:s,y:o}=typeof a=="boolean"?{x:a,y:a}:a;Bd(()=>{if(!s&&!o||!e){i.current=!1;return}if(i.current||!r)return;const u=e?.node.current;if(!u||u.isConnected===!1)return;const d=n(u),h=KJ(d,r);if(s||(h.x=0),o||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=XJ(u);m&&m.scrollBy({top:h.y,left:h.x})}},[e,s,o,r,n])}const see=A.createContext({...Tu,scaleX:1,scaleY:1});var np;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(np||(np={}));const oee=A.memo(function(e){var n,r,a,i;let{id:s,accessibility:o,autoScroll:l=!0,children:u,sensors:d=UUe,collisionDetection:h=tUe,measuring:m,modifiers:y,...x}=e;const v=A.useReducer(WUe,void 0,VUe),[_,C]=v,[w,T]=YHe(),[E,I]=A.useState(np.Uninitialized),j=E===np.Initialized,{draggable:{active:O,nodes:L,translate:N},droppable:{containers:M}}=_,H=O!=null?L.get(O):null,P=A.useRef({initial:null,translated:null}),$=A.useMemo(()=>{var Wt;return O!=null?{id:O,data:(Wt=H?.data)!=null?Wt:$Ue,rect:P}:null},[O,H]),D=A.useRef(null),[U,F]=A.useState(null),[W,ee]=A.useState(null),Q=Ev(x,Object.values(x)),K=mS("DndDescribedBy",s),V=A.useMemo(()=>M.getEnabled(),[M]),Z=XUe(m),{droppableRects:q,measureDroppableContainers:te,measuringScheduled:ae}=IUe(V,{dragging:j,dependencies:[N.x,N.y],config:Z.droppable}),ie=RUe(L,O),ce=A.useMemo(()=>W?GI(W):null,[W]),pe=er(),ge=jUe(ie,Z.draggable.measure);QUe({activeNode:O!=null?L.get(O):null,config:pe.layoutShiftCompensation,initialRect:ge,measure:Z.draggable.measure});const oe=OB(ie,Z.draggable.measure,ge),ue=OB(ie?ie.parentElement:null),he=A.useRef({activatorEvent:null,active:null,activeNode:ie,collisionRect:null,collisions:null,droppableRects:q,draggableNodes:L,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ve=M.getNodeFor((n=he.current.over)==null?void 0:n.id),me=HUe({measure:Z.dragOverlay.measure}),le=(r=me.nodeRef.current)!=null?r:ie,Se=j?(a=me.rect)!=null?a:oe:null,be=!!(me.nodeRef.current&&me.rect),Te=MUe(be?null:oe),Ne=aee(le?sl(le):null),Pe=NUe(j?ve??ie:null),Le=FUe(Pe),De=KUe(y,{transform:{x:N.x-Te.x,y:N.y-Te.y,scaleX:1,scaleY:1},activatorEvent:W,active:$,activeNodeRect:oe,containerNodeRect:ue,draggingNodeRect:Se,over:he.current.over,overlayNodeRect:me.rect,scrollableAncestors:Pe,scrollableAncestorRects:Le,windowRect:Ne}),Xe=ce?V1(ce,N):null,ke=PUe(Pe),Ie=MB(ke),ye=MB(ke,[oe]),Ce=V1(De,Ie),Me=Se?aUe(Se,De):null,He=$&&Me?h({active:$,collisionRect:Me,droppableRects:q,droppableContainers:V,pointerCoordinates:Xe}):null,Qe=WJ(He,"id"),[Je,Ge]=A.useState(null),it=be?De:V1(De,ye),rt=nUe(it,(i=Je?.rect)!=null?i:null,oe),st=A.useRef(null),ft=A.useCallback((Wt,Bt)=>{let{sensor:hn,options:_n}=Bt;if(D.current==null)return;const Cn=L.get(D.current);if(!Cn)return;const Ut=Wt.nativeEvent,Nn=new hn({active:D.current,activeNode:Cn,event:Ut,options:_n,context:he,onAbort(Dt){if(!L.get(Dt))return;const{onDragAbort:rn}=Q.current,Rn={id:Dt};rn?.(Rn),w({type:"onDragAbort",event:Rn})},onPending(Dt,an,rn,Rn){if(!L.get(Dt))return;const{onDragPending:vr}=Q.current,jr={id:Dt,constraint:an,initialCoordinates:rn,offset:Rn};vr?.(jr),w({type:"onDragPending",event:jr})},onStart(Dt){const an=D.current;if(an==null)return;const rn=L.get(an);if(!rn)return;const{onDragStart:Rn}=Q.current,cr={activatorEvent:Ut,active:{id:an,data:rn.data,rect:P}};Ym.unstable_batchedUpdates(()=>{Rn?.(cr),I(np.Initializing),C({type:Ui.DragStart,initialCoordinates:Dt,active:an}),w({type:"onDragStart",event:cr}),F(st.current),ee(Ut)})},onMove(Dt){C({type:Ui.DragMove,coordinates:Dt})},onEnd:wt(Ui.DragEnd),onCancel:wt(Ui.DragCancel)});st.current=Nn;function wt(Dt){return async function(){const{active:rn,collisions:Rn,over:cr,scrollAdjustedTranslate:vr}=he.current;let jr=null;if(rn&&vr){const{cancelDrop:sa}=Q.current;jr={activatorEvent:Ut,active:rn,collisions:Rn,delta:vr,over:cr},Dt===Ui.DragEnd&&typeof sa=="function"&&await Promise.resolve(sa(jr))&&(Dt=Ui.DragCancel)}D.current=null,Ym.unstable_batchedUpdates(()=>{C({type:Dt}),I(np.Uninitialized),Ge(null),F(null),ee(null),st.current=null;const sa=Dt===Ui.DragEnd?"onDragEnd":"onDragCancel";if(jr){const Yr=Q.current[sa];Yr?.(jr),w({type:sa,event:jr})}})}}},[L]),qt=A.useCallback((Wt,Bt)=>(hn,_n)=>{const Cn=hn.nativeEvent,Ut=L.get(_n);if(D.current!==null||!Ut||Cn.dndKit||Cn.defaultPrevented)return;const Nn={active:Ut};Wt(hn,Bt.options,Nn)===!0&&(Cn.dndKit={capturedBy:Bt.sensor},D.current=_n,ft(hn,Bt))},[L,ft]),Gt=kUe(d,qt);LUe(d),Bd(()=>{oe&&E===np.Initializing&&I(np.Initialized)},[oe,E]),A.useEffect(()=>{const{onDragMove:Wt}=Q.current,{active:Bt,activatorEvent:hn,collisions:_n,over:Cn}=he.current;if(!Bt||!hn)return;const Ut={active:Bt,activatorEvent:hn,collisions:_n,delta:{x:Ce.x,y:Ce.y},over:Cn};Ym.unstable_batchedUpdates(()=>{Wt?.(Ut),w({type:"onDragMove",event:Ut})})},[Ce.x,Ce.y]),A.useEffect(()=>{const{active:Wt,activatorEvent:Bt,collisions:hn,droppableContainers:_n,scrollAdjustedTranslate:Cn}=he.current;if(!Wt||D.current==null||!Bt||!Cn)return;const{onDragOver:Ut}=Q.current,Nn=_n.get(Qe),wt=Nn&&Nn.rect.current?{id:Nn.id,rect:Nn.rect.current,data:Nn.data,disabled:Nn.disabled}:null,Dt={active:Wt,activatorEvent:Bt,collisions:hn,delta:{x:Cn.x,y:Cn.y},over:wt};Ym.unstable_batchedUpdates(()=>{Ge(wt),Ut?.(Dt),w({type:"onDragOver",event:Dt})})},[Qe]),Bd(()=>{he.current={activatorEvent:W,active:$,activeNode:ie,collisionRect:Me,collisions:He,droppableRects:q,draggableNodes:L,draggingNode:le,draggingNodeRect:Se,droppableContainers:M,over:Je,scrollableAncestors:Pe,scrollAdjustedTranslate:Ce},P.current={initial:Se,translated:Me}},[$,ie,He,Me,L,le,Se,q,M,Je,Pe,Ce]),EUe({...pe,delta:N,draggingRect:Me,pointerCoordinates:Xe,scrollableAncestors:Pe,scrollableAncestorRects:Le});const bn=A.useMemo(()=>({active:$,activeNode:ie,activeNodeRect:oe,activatorEvent:W,collisions:He,containerNodeRect:ue,dragOverlay:me,draggableNodes:L,droppableContainers:M,droppableRects:q,over:Je,measureDroppableContainers:te,scrollableAncestors:Pe,scrollableAncestorRects:Le,measuringConfiguration:Z,measuringScheduled:ae,windowRect:Ne}),[$,ie,oe,W,He,ue,me,L,M,q,Je,te,Pe,Le,Z,ae,Ne]),zn=A.useMemo(()=>({activatorEvent:W,activators:Gt,active:$,activeNodeRect:oe,ariaDescribedById:{draggable:K},dispatch:C,draggableNodes:L,over:Je,measureDroppableContainers:te}),[W,Gt,$,oe,C,K,L,Je,te]);return je.createElement($J.Provider,{value:T},je.createElement(cw.Provider,{value:zn},je.createElement(iee.Provider,{value:bn},je.createElement(see.Provider,{value:rt},u)),je.createElement(YUe,{disabled:o?.restoreFocus===!1})),je.createElement(QHe,{...o,hiddenTextDescribedById:K}));function er(){const Wt=U?.autoScrollEnabled===!1,Bt=typeof l=="object"?l.enabled===!1:l===!1,hn=j&&!Wt&&!Bt;return typeof l=="object"?{...l,enabled:hn}:{enabled:hn}}}),ZUe=A.createContext(null),PB="button",JUe="Draggable";function e$e(t){let{id:e,data:n,disabled:r=!1,attributes:a}=t;const i=mS(JUe),{activators:s,activatorEvent:o,active:l,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:m}=A.useContext(cw),{role:y=PB,roleDescription:x="draggable",tabIndex:v=0}=a??{},_=l?.id===e,C=A.useContext(_?see:ZUe),[w,T]=OC(),[E,I]=OC(),j=zUe(s,e),O=Ev(n);Bd(()=>(h.set(e,{id:e,key:i,node:w,activatorNode:E,data:O}),()=>{const N=h.get(e);N&&N.key===i&&h.delete(e)}),[h,e]);const L=A.useMemo(()=>({role:y,tabIndex:v,"aria-disabled":r,"aria-pressed":_&&y===PB?!0:void 0,"aria-roledescription":x,"aria-describedby":d.draggable}),[r,y,v,_,x,d.draggable]);return{active:l,activatorEvent:o,activeNodeRect:u,attributes:L,isDragging:_,listeners:r?void 0:j,node:w,over:m,setNodeRef:T,setActivatorNodeRef:I,transform:C}}function t$e(){return A.useContext(iee)}const n$e="Droppable",r$e={timeout:25};function a$e(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:a}=t;const i=mS(n$e),{active:s,dispatch:o,over:l,measureDroppableContainers:u}=A.useContext(cw),d=A.useRef({disabled:n}),h=A.useRef(!1),m=A.useRef(null),y=A.useRef(null),{disabled:x,updateMeasurementsFor:v,timeout:_}={...r$e,...a},C=Ev(v??r),w=A.useCallback(()=>{if(!h.current){h.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{u(Array.isArray(C.current)?C.current:[C.current]),y.current=null},_)},[_]),T=lw({callback:w,disabled:x||!s}),E=A.useCallback((L,N)=>{T&&(N&&(T.unobserve(N),h.current=!1),L&&T.observe(L))},[T]),[I,j]=OC(E),O=Ev(e);return A.useEffect(()=>{!T||!I.current||(T.disconnect(),h.current=!1,T.observe(I.current))},[I,T]),A.useEffect(()=>(o({type:Ui.RegisterDroppable,element:{id:r,key:i,disabled:n,node:I,rect:m,data:O}}),()=>o({type:Ui.UnregisterDroppable,key:i,id:r})),[r]),A.useEffect(()=>{n!==d.current.disabled&&(o({type:Ui.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,o]),{active:s,rect:m,isOver:l?.id===r,node:I,over:l,setNodeRef:j}}function uw(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function i$e(t,e){return t.reduce((n,r,a)=>{const i=e.get(r);return i&&(n[a]=i),n},Array(t.length))}function n4(t){return t!==null&&t>=0}function s$e(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function o$e(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const lee=t=>{let{rects:e,activeIndex:n,overIndex:r,index:a}=t;const i=uw(e,r,n),s=e[a],o=i[a];return!o||!s?null:{x:o.left-s.left,y:o.top-s.top,scaleX:o.width/s.width,scaleY:o.height/s.height}},r4={scaleX:1,scaleY:1},cee=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:a,rects:i,overIndex:s}=t;const o=(e=i[n])!=null?e:r;if(!o)return null;if(a===n){const u=i[s];return u?{x:0,y:n<s?u.top+u.height-(o.top+o.height):u.top-o.top,...r4}:null}const l=l$e(i,a,n);return a>n&&a<=s?{x:0,y:-o.height-l,...r4}:a<n&&a>=s?{x:0,y:o.height+l,...r4}:{x:0,y:0,...r4}};function l$e(t,e,n){const r=t[e],a=t[e-1],i=t[e+1];return r?n<e?a?r.top-(a.top+a.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):a?r.top-(a.top+a.height):0:0}const uee="Sortable",dee=je.createContext({activeIndex:-1,containerId:uee,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:lee,disabled:{draggable:!1,droppable:!1}});function fee(t){let{children:e,id:n,items:r,strategy:a=lee,disabled:i=!1}=t;const{active:s,dragOverlay:o,droppableRects:l,over:u,measureDroppableContainers:d}=t$e(),h=mS(uee,n),m=o.rect!==null,y=A.useMemo(()=>r.map(j=>typeof j=="object"&&"id"in j?j.id:j),[r]),x=s!=null,v=s?y.indexOf(s.id):-1,_=u?y.indexOf(u.id):-1,C=A.useRef(y),w=!s$e(y,C.current),T=_!==-1&&v===-1||w,E=o$e(i);Bd(()=>{w&&x&&d(y)},[w,y,x,d]),A.useEffect(()=>{C.current=y},[y]);const I=A.useMemo(()=>({activeIndex:v,containerId:h,disabled:E,disableTransforms:T,items:y,overIndex:_,useDragOverlay:m,sortedRects:i$e(y,l),strategy:a}),[v,h,E.draggable,E.droppable,T,y,_,l,m,a]);return je.createElement(dee.Provider,{value:I},e)}const c$e=t=>{let{id:e,items:n,activeIndex:r,overIndex:a}=t;return uw(n,r,a).indexOf(e)},u$e=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:a,items:i,newIndex:s,previousItems:o,previousContainerId:l,transition:u}=t;return!u||!r||o!==i&&a===s?!1:n?!0:s!==a&&e===l},d$e={duration:200,easing:"ease"},hee="transform",f$e=fy.Transition.toString({property:hee,duration:0,easing:"linear"}),h$e={roleDescription:"sortable"};function p$e(t){let{disabled:e,index:n,node:r,rect:a}=t;const[i,s]=A.useState(null),o=A.useRef(n);return Bd(()=>{if(!e&&n!==o.current&&r.current){const l=a.current;if(l){const u=By(r.current,{ignoreTransform:!0}),d={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(d.x||d.y)&&s(d)}}n!==o.current&&(o.current=n)},[e,n,r,a]),A.useEffect(()=>{i&&s(null)},[i]),i}function pee(t){let{animateLayoutChanges:e=u$e,attributes:n,disabled:r,data:a,getNewIndex:i=c$e,id:s,strategy:o,resizeObserverConfig:l,transition:u=d$e}=t;const{items:d,containerId:h,activeIndex:m,disabled:y,disableTransforms:x,sortedRects:v,overIndex:_,useDragOverlay:C,strategy:w}=A.useContext(dee),T=m$e(r,y),E=d.indexOf(s),I=A.useMemo(()=>({sortable:{containerId:h,index:E,items:d},...a}),[h,a,E,d]),j=A.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:O,node:L,isOver:N,setNodeRef:M}=a$e({id:s,data:I,disabled:T.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...l}}),{active:H,activatorEvent:P,activeNodeRect:$,attributes:D,setNodeRef:U,listeners:F,isDragging:W,over:ee,setActivatorNodeRef:Q,transform:K}=e$e({id:s,data:I,attributes:{...h$e,...n},disabled:T.draggable}),V=zHe(M,U),Z=!!H,q=Z&&!x&&n4(m)&&n4(_),te=!C&&W,ae=te&&q?K:null,ce=q?ae??(o??w)({rects:v,activeNodeRect:$,activeIndex:m,overIndex:_,index:E}):null,pe=n4(m)&&n4(_)?i({id:s,items:d,activeIndex:m,overIndex:_}):E,ge=H?.id,oe=A.useRef({activeId:ge,items:d,newIndex:pe,containerId:h}),ue=d!==oe.current.items,he=e({active:H,containerId:h,isDragging:W,isSorting:Z,id:s,index:E,items:d,newIndex:oe.current.newIndex,previousItems:oe.current.items,previousContainerId:oe.current.containerId,transition:u,wasDragging:oe.current.activeId!=null}),ve=p$e({disabled:!he,index:E,node:L,rect:O});return A.useEffect(()=>{Z&&oe.current.newIndex!==pe&&(oe.current.newIndex=pe),h!==oe.current.containerId&&(oe.current.containerId=h),d!==oe.current.items&&(oe.current.items=d)},[Z,pe,h,d]),A.useEffect(()=>{if(ge===oe.current.activeId)return;if(ge!=null&&oe.current.activeId==null){oe.current.activeId=ge;return}const le=setTimeout(()=>{oe.current.activeId=ge},50);return()=>clearTimeout(le)},[ge]),{active:H,activeIndex:m,attributes:D,data:I,rect:O,index:E,newIndex:pe,items:d,isOver:N,isSorting:Z,isDragging:W,listeners:F,node:L,overIndex:_,over:ee,setNodeRef:V,setActivatorNodeRef:Q,setDroppableNodeRef:M,setDraggableNodeRef:U,transform:ve??ce,transition:me()};function me(){if(ve||ue&&oe.current.newIndex===E)return f$e;if(!(te&&!mD(P)||!u)&&(Z||he))return fy.Transition.toString({...u,property:hee})}}function m$e(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}function NC(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const g$e=[ir.Down,ir.Right,ir.Up,ir.Left],y$e=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:a,droppableContainers:i,over:s,scrollableAncestors:o}}=e;if(g$e.includes(t.code)){if(t.preventDefault(),!n||!r)return;const l=[];i.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const m=a.get(h.id);if(m)switch(t.code){case ir.Down:r.top<m.top&&l.push(h);break;case ir.Up:r.top>m.top&&l.push(h);break;case ir.Left:r.left>m.left&&l.push(h);break;case ir.Right:r.left<m.left&&l.push(h);break}});const u=JHe({collisionRect:r,droppableRects:a,droppableContainers:l});let d=WJ(u,"id");if(d===s?.id&&u.length>1&&(d=u[1].id),d!=null){const h=i.get(n.id),m=i.get(d),y=m?a.get(m.id):null,x=m?.node.current;if(x&&y&&h&&m){const _=sw(x).some((j,O)=>o[O]!==j),C=mee(h,m),w=b$e(h,m),T=_||!C?{x:0,y:0}:{x:w?r.width-y.width:0,y:w?r.height-y.height:0},E={x:y.left,y:y.top};return T.x&&T.y?E:Tv(E,T)}}}};function mee(t,e){return!NC(t)||!NC(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function b$e(t,e){return!NC(t)||!NC(e)||!mee(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const x$e=()=>{const t=bt.c(5),[e,n]=A.useState(null);let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=d=>{n(d.active.id)},t[0]=r):r=t[0];const a=r;let i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=(d,h,m)=>{const{active:y,over:x}=d;if(!x||y.id===x.id){n(null);return}const v=h.findIndex(C=>C.id===y.id),_=h.findIndex(C=>C.id===x.id);if(v!==-1&&_!==-1){const C=uw(h,v,_).map(v$e);m(C)}n(null)},t[1]=i):i=t[1];const s=i;let o;t[2]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{n(null)},t[2]=o):o=t[2];const l=o;let u;return t[3]!==e?(u={activeId:e,handleDragStart:a,handleDragEnd:s,handleDragCancel:l},t[3]=e,t[4]=u):u=t[4],u};function v$e(t,e){return{...t,display_order:e+1}}const S$e=t=>{const e=bt.c(56),{open:n,editingGroup:r,onUpdate:a,onSave:i,onCancel:s}=t,{t:o}=$t("promptManagement");if(!r)return null;let l;e[0]!==r.id||e[1]!==o?(l=r.id?o("groupManagement.editForm.titleEdit"):o("groupManagement.editForm.titleAdd"),e[0]=r.id,e[1]=o,e[2]=l):l=e[2];let u;e[3]!==l?(u=c.jsx(pr,{children:l}),e[3]=l,e[4]=u):u=e[4];let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d={display:"flex",flexDirection:"column",gap:2,pt:1},e[5]=d):d=e[5];let h;e[6]!==o?(h=o("groupManagement.editForm.groupName.label"),e[6]=o,e[7]=h):h=e[7];let m;e[8]!==a?(m=$=>a({group_name:$.target.value}),e[8]=a,e[9]=m):m=e[9];let y;e[10]!==r.group_name||e[11]!==h||e[12]!==m?(y=c.jsx(jt,{label:h,fullWidth:!0,value:r.group_name,onChange:m,autoFocus:!0}),e[10]=r.group_name,e[11]=h,e[12]=m,e[13]=y):y=e[13];let x;e[14]!==o?(x=o("groupManagement.editForm.displayOrder.label"),e[14]=o,e[15]=x):x=e[15];let v;e[16]!==a?(v=$=>a({display_order:parseInt($.target.value)||0}),e[16]=a,e[17]=v):v=e[17];let _;e[18]===Symbol.for("react.memo_cache_sentinel")?(_={width:150},e[18]=_):_=e[18];let C;e[19]!==r.display_order||e[20]!==x||e[21]!==v?(C=c.jsx(jt,{label:x,type:"number",value:r.display_order,onChange:v,sx:_}),e[19]=r.display_order,e[20]=x,e[21]=v,e[22]=C):C=e[22];let w;e[23]!==a?(w=$=>a({is_visible:$.target.checked}),e[23]=a,e[24]=w):w=e[24];let T;e[25]!==r.is_visible||e[26]!==w?(T=c.jsx(oi,{checked:r.is_visible,onChange:w}),e[25]=r.is_visible,e[26]=w,e[27]=T):T=e[27];let E;e[28]!==o?(E=o("groupManagement.editForm.visibility.label"),e[28]=o,e[29]=E):E=e[29];let I;e[30]!==T||e[31]!==E?(I=c.jsx(Zn,{control:T,label:E}),e[30]=T,e[31]=E,e[32]=I):I=e[32];let j;e[33]!==C||e[34]!==I||e[35]!==y?(j=c.jsx(hr,{dividers:!0,children:c.jsxs(J,{sx:d,children:[y,C,I]})}),e[33]=C,e[34]=I,e[35]=y,e[36]=j):j=e[36];let O;e[37]!==o?(O=o("groupManagement.editForm.actions.cancel"),e[37]=o,e[38]=O):O=e[38];let L;e[39]!==s||e[40]!==O?(L=c.jsx(Ke,{onClick:s,children:O}),e[39]=s,e[40]=O,e[41]=L):L=e[41];let N;e[42]!==o?(N=o("groupManagement.editForm.actions.save"),e[42]=o,e[43]=N):N=e[43];let M;e[44]!==i||e[45]!==N?(M=c.jsx(Ke,{onClick:i,variant:"contained",children:N}),e[44]=i,e[45]=N,e[46]=M):M=e[46];let H;e[47]!==L||e[48]!==M?(H=c.jsxs(yr,{children:[L,M]}),e[47]=L,e[48]=M,e[49]=H):H=e[49];let P;return e[50]!==s||e[51]!==n||e[52]!==j||e[53]!==u||e[54]!==H?(P=c.jsxs(or,{open:n,onClose:s,maxWidth:"sm",fullWidth:!0,children:[u,j,H]}),e[50]=s,e[51]=n,e[52]=j,e[53]=u,e[54]=H,e[55]=P):P=e[55],P},_$e=t=>{const e=bt.c(78),{group:n,isEditing:r,onEdit:a,onDelete:i,onToggleVisibility:s}=t,{t:o}=$t("promptManagement");let l;e[0]!==n.id?(l={id:n.id},e[0]=n.id,e[1]=l):l=e[1];const{attributes:u,listeners:d,setNodeRef:h,transform:m,transition:y,isDragging:x}=pee(l);let v;e[2]!==m?(v=fy.Transform.toString(m),e[2]=m,e[3]=v):v=e[3];const _=x?.5:1;let C;e[4]!==v||e[5]!==_||e[6]!==y?(C={transform:v,transition:y,opacity:_},e[4]=v,e[5]=_,e[6]=y,e[7]=C):C=e[7];const w=C,T=x?"grabbing":"default";let E;e[8]===Symbol.for("react.memo_cache_sentinel")?(E={bgcolor:"action.hover"},e[8]=E):E=e[8];let I;e[9]!==T?(I={cursor:T,bgcolor:"background.paper","&:hover":E},e[9]=T,e[10]=I):I=e[10];const j=x?"grabbing":"grab";let O;e[11]!==j?(O={cursor:j,display:"flex",alignItems:"center",mr:2,color:"text.secondary"},e[11]=j,e[12]=O):O=e[12];let L;e[13]===Symbol.for("react.memo_cache_sentinel")?(L=c.jsx(QX,{}),e[13]=L):L=e[13];let N;e[14]!==u||e[15]!==d||e[16]!==O?(N=c.jsx(J,{...u,...d,sx:O,children:L}),e[14]=u,e[15]=d,e[16]=O,e[17]=N):N=e[17];let M;e[18]===Symbol.for("react.memo_cache_sentinel")?(M={minWidth:30,color:"text.secondary",mr:2},e[18]=M):M=e[18];let H;e[19]!==n.display_order?(H=c.jsx(re,{variant:"body2",sx:M,children:n.display_order}),e[19]=n.display_order,e[20]=H):H=e[20];let P;e[21]===Symbol.for("react.memo_cache_sentinel")?(P={display:"flex",alignItems:"center",gap:1},e[21]=P):P=e[21];let $;e[22]!==n.group_name?($=c.jsx(re,{variant:"body1",children:n.group_name}),e[22]=n.group_name,e[23]=$):$=e[23];let D;e[24]!==n.prompt_count||e[25]!==o?(D=o("groupManagement.groupList.promptCount",{count:n.prompt_count}),e[24]=n.prompt_count,e[25]=o,e[26]=D):D=e[26];let U;e[27]!==D?(U=c.jsx(yt,{label:D,size:"small",variant:"outlined",color:"primary"}),e[27]=D,e[28]=U):U=e[28];let F;e[29]!==n.is_visible||e[30]!==o?(F=!n.is_visible&&c.jsx(yt,{label:o("groupManagement.editForm.visibility.hidden"),size:"small",color:"default"}),e[29]=n.is_visible,e[30]=o,e[31]=F):F=e[31];let W;e[32]!==$||e[33]!==U||e[34]!==F?(W=c.jsxs(J,{sx:P,children:[$,U,F]}),e[32]=$,e[33]=U,e[34]=F,e[35]=W):W=e[35];let ee;e[36]!==n.display_order||e[37]!==o?(ee=o("groupManagement.groupList.displayOrder",{order:n.display_order}),e[36]=n.display_order,e[37]=o,e[38]=ee):ee=e[38];let Q;e[39]!==W||e[40]!==ee?(Q=c.jsx(Ss,{primary:W,secondary:ee}),e[39]=W,e[40]=ee,e[41]=Q):Q=e[41];let K;e[42]!==n||e[43]!==s?(K=()=>s(n),e[42]=n,e[43]=s,e[44]=K):K=e[44];let V;e[45]===Symbol.for("react.memo_cache_sentinel")?(V={mr:1},e[45]=V):V=e[45];let Z;e[46]!==n.is_visible?(Z=n.is_visible?c.jsx(N5,{}):c.jsx(aI,{}),e[46]=n.is_visible,e[47]=Z):Z=e[47];let q;e[48]!==K||e[49]!==Z?(q=c.jsx(ht,{edge:"end",onClick:K,sx:V,children:Z}),e[48]=K,e[49]=Z,e[50]=q):q=e[50];let te;e[51]!==n||e[52]!==a?(te=()=>a(n),e[51]=n,e[52]=a,e[53]=te):te=e[53];let ae,ie;e[54]===Symbol.for("react.memo_cache_sentinel")?(ae={mr:1},ie=c.jsx(zd,{}),e[54]=ae,e[55]=ie):(ae=e[54],ie=e[55]);let ce;e[56]!==r||e[57]!==te?(ce=c.jsx(ht,{edge:"end",onClick:te,disabled:r,sx:ae,children:ie}),e[56]=r,e[57]=te,e[58]=ce):ce=e[58];let pe;e[59]!==n.id||e[60]!==i?(pe=()=>i(n.id),e[59]=n.id,e[60]=i,e[61]=pe):pe=e[61];let ge;e[62]===Symbol.for("react.memo_cache_sentinel")?(ge=c.jsx(xa,{}),e[62]=ge):ge=e[62];let oe;e[63]!==r||e[64]!==pe?(oe=c.jsx(ht,{edge:"end",onClick:pe,disabled:r,color:"error",children:ge}),e[63]=r,e[64]=pe,e[65]=oe):oe=e[65];let ue;e[66]!==q||e[67]!==ce||e[68]!==oe?(ue=c.jsxs(RO,{children:[q,ce,oe]}),e[66]=q,e[67]=ce,e[68]=oe,e[69]=ue):ue=e[69];let he;return e[70]!==h||e[71]!==w||e[72]!==N||e[73]!==H||e[74]!==Q||e[75]!==ue||e[76]!==I?(he=c.jsxs(Yf,{ref:h,style:w,sx:I,children:[N,H,Q,ue]}),e[70]=h,e[71]=w,e[72]=N,e[73]=H,e[74]=Q,e[75]=ue,e[76]=I,e[77]=he):he=e[77],he},C$e=t=>{const e=bt.c(32),{groups:n,isEditing:r,onAddGroup:a,onEditGroup:i,onDeleteGroup:s,onToggleVisibility:o,onDragEnd:l}=t,{t:u}=$t("promptManagement");let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d={activationConstraint:{distance:8}},e[0]=d):d=e[0];const h=GJ(qI(ow,d));let m;e[1]===Symbol.for("react.memo_cache_sentinel")?(m={display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},e[1]=m):m=e[1];let y;e[2]!==n.length||e[3]!==u?(y=u("groupManagement.groupList.title",{count:n.length}),e[2]=n.length,e[3]=u,e[4]=y):y=e[4];let x;e[5]!==y?(x=c.jsx(re,{variant:"h6",children:y}),e[5]=y,e[6]=x):x=e[6];let v;e[7]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx(Gs,{}),e[7]=v):v=e[7];let _;e[8]!==u?(_=u("groupManagement.groupList.add"),e[8]=u,e[9]=_):_=e[9];let C;e[10]!==a||e[11]!==_?(C=c.jsx(Ke,{variant:"contained",startIcon:v,onClick:a,children:_}),e[10]=a,e[11]=_,e[12]=C):C=e[12];let w;e[13]!==x||e[14]!==C?(w=c.jsxs(J,{sx:m,children:[x,C]}),e[13]=x,e[14]=C,e[15]=w):w=e[15];let T;e[16]!==n.length||e[17]!==u?(T=n.length>0&&c.jsx(St,{severity:"info",sx:{mb:2},children:u("groupManagement.dragHint")}),e[16]=n.length,e[17]=u,e[18]=T):T=e[18];let E;e[19]!==n||e[20]!==r||e[21]!==s||e[22]!==l||e[23]!==i||e[24]!==o||e[25]!==h||e[26]!==u?(E=n.length===0?c.jsx(J,{sx:{textAlign:"center",py:6,color:"text.secondary"},children:c.jsx(re,{variant:"body1",children:u("groupManagement.groupList.empty")})}):c.jsx(oee,{sensors:h,collisionDetection:YJ,onDragEnd:l,children:c.jsx(fee,{items:n.map(w$e),strategy:cee,children:c.jsx(Wf,{children:n.map((j,O)=>c.jsxs(je.Fragment,{children:[c.jsx(_$e,{group:j,isEditing:r,onEdit:i,onDelete:s,onToggleVisibility:o}),O<n.length-1&&c.jsx(yn,{})]},j.id))})})}),e[19]=n,e[20]=r,e[21]=s,e[22]=l,e[23]=i,e[24]=o,e[25]=h,e[26]=u,e[27]=E):E=e[27];let I;return e[28]!==E||e[29]!==w||e[30]!==T?(I=c.jsxs(J,{children:[w,T,E]}),e[28]=E,e[29]=w,e[30]=T,e[31]=I):I=e[31],I};function w$e(t){return t.id}const E$e=t=>{const e=bt.c(72),{open:n,onClose:r,type:a,onGroupsChange:i}=t,{t:s}=$t("promptManagement"),{snackbar:o,showSnackbar:l,hideSnackbar:u}=NHe();let d,h;e[0]!==l||e[1]!==s?(d=be=>l(s(be)||be,"success"),h=be=>l(s(be)||be,"error"),e[0]=l,e[1]=s,e[2]=d,e[3]=h):(d=e[2],h=e[3]);const{groups:m,loading:y,editingGroup:x,isEditing:v,fetchGroups:_,startAddGroup:C,startEditGroup:w,cancelEdit:T,saveGroup:E,deleteGroup:I,toggleVisibility:j,updateGroupsOrder:O,updateEditingGroup:L,setGroups:N}=LHe(a,d,h),{handleDragEnd:M}=x$e();let H,P;e[4]!==_||e[5]!==n?(H=()=>{n&&_()},P=[n,_],e[4]=_,e[5]=n,e[6]=H,e[7]=P):(H=e[6],P=e[7]),A.useEffect(H,P);let $;e[8]!==T||e[9]!==r?($=()=>{T(),r()},e[8]=T,e[9]=r,e[10]=$):$=e[10];const D=$;let U;e[11]!==i||e[12]!==E?(U=()=>{E(i)},e[11]=i,e[12]=E,e[13]=U):U=e[13];const F=U;let W;e[14]!==I||e[15]!==i?(W=be=>{I(be,i)},e[14]=I,e[15]=i,e[16]=W):W=e[16];const ee=W;let Q;e[17]!==i||e[18]!==j?(Q=be=>{j(be,i)},e[17]=i,e[18]=j,e[19]=Q):Q=e[19];const K=Q;let V;e[20]!==m||e[21]!==M||e[22]!==i||e[23]!==N||e[24]!==O?(V=be=>{M(be,m,Te=>{N(Te),O(Te,i)})},e[20]=m,e[21]=M,e[22]=i,e[23]=N,e[24]=O,e[25]=V):V=e[25];const Z=V,q=a==="positive"?"Positive":"Negative";let te;e[26]!==s||e[27]!==q?(te=s("groupManagement.title",{type:q}),e[26]=s,e[27]=q,e[28]=te):te=e[28];let ae;e[29]!==te?(ae=c.jsx(pr,{children:te}),e[29]=te,e[30]=ae):ae=e[30];let ie;e[31]===Symbol.for("react.memo_cache_sentinel")?(ie={minHeight:400},e[31]=ie):ie=e[31];let ce;e[32]!==m||e[33]!==ee||e[34]!==Z||e[35]!==K||e[36]!==v||e[37]!==y||e[38]!==C||e[39]!==w?(ce=c.jsx(hr,{dividers:!0,sx:ie,children:y?c.jsx(J,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"300px",children:c.jsx(Kt,{})}):c.jsx(C$e,{groups:m,isEditing:v,onAddGroup:C,onEditGroup:w,onDeleteGroup:ee,onToggleVisibility:K,onDragEnd:Z})}),e[32]=m,e[33]=ee,e[34]=Z,e[35]=K,e[36]=v,e[37]=y,e[38]=C,e[39]=w,e[40]=ce):ce=e[40];let pe;e[41]!==s?(pe=s("groupManagement.actions.close"),e[41]=s,e[42]=pe):pe=e[42];let ge;e[43]!==D||e[44]!==pe?(ge=c.jsx(yr,{children:c.jsx(Ke,{onClick:D,children:pe})}),e[43]=D,e[44]=pe,e[45]=ge):ge=e[45];let oe;e[46]!==D||e[47]!==n||e[48]!==ae||e[49]!==ce||e[50]!==ge?(oe=c.jsxs(or,{open:n,onClose:D,maxWidth:"md",fullWidth:!0,children:[ae,ce,ge]}),e[46]=D,e[47]=n,e[48]=ae,e[49]=ce,e[50]=ge,e[51]=oe):oe=e[51];let ue;e[52]!==T||e[53]!==x||e[54]!==F||e[55]!==v||e[56]!==L?(ue=c.jsx(S$e,{open:v,editingGroup:x,onUpdate:L,onSave:F,onCancel:T}),e[52]=T,e[53]=x,e[54]=F,e[55]=v,e[56]=L,e[57]=ue):ue=e[57];let he;e[58]===Symbol.for("react.memo_cache_sentinel")?(he={vertical:"bottom",horizontal:"center"},e[58]=he):he=e[58];let ve;e[59]===Symbol.for("react.memo_cache_sentinel")?(ve={width:"100%"},e[59]=ve):ve=e[59];let me;e[60]!==u||e[61]!==o.message||e[62]!==o.severity?(me=c.jsx(St,{onClose:u,severity:o.severity,sx:ve,variant:"filled",children:o.message}),e[60]=u,e[61]=o.message,e[62]=o.severity,e[63]=me):me=e[63];let le;e[64]!==u||e[65]!==o.open||e[66]!==me?(le=c.jsx(zg,{open:o.open,autoHideDuration:6e3,onClose:u,anchorOrigin:he,children:me}),e[64]=u,e[65]=o.open,e[66]=me,e[67]=le):le=e[67];let Se;return e[68]!==oe||e[69]!==ue||e[70]!==le?(Se=c.jsxs(c.Fragment,{children:[oe,ue,le]}),e[68]=oe,e[69]=ue,e[70]=le,e[71]=Se):Se=e[71],Se},T$e=({open:t,onClose:e,type:n,groups:r,onSuccess:a,selectedPromptTexts:i=[]})=>{const{t:s}=$t("promptManagement"),[o,l]=A.useState(null),[u,d]=A.useState(""),[h,m]=A.useState(!1),[y,x]=A.useState(null);A.useEffect(()=>{t&&i.length>0&&d(i.join(`
`))},[t,i]);const _=(T=>{const E=T.split(/[,\n]+/).map(I=>I.trim()).filter(I=>I.length>0);return Array.from(new Set(E))})(u),C=async()=>{if(_.length!==0){m(!0),x(null);try{const T=await M4.batchAssignPromptsToGroup(_,o,n);T.success&&(x({created:T.created||0,updated:T.updated||0,failed:T.failed||[]}),a())}catch(T){console.error("Error batch assigning prompts:",T),x({created:0,updated:0,failed:_})}finally{m(!1)}}},w=()=>{h||(l(null),d(""),x(null),e())};return c.jsxs(or,{open:t,onClose:w,maxWidth:"md",fullWidth:!0,children:[c.jsx(pr,{children:s("bulkAssignDialog.title")}),c.jsx(hr,{dividers:!0,children:c.jsxs(J,{sx:{display:"flex",flexDirection:"column",gap:2},children:[c.jsxs(ra,{fullWidth:!0,children:[c.jsx(Ai,{children:s("bulkAssignDialog.groupSelect.label")}),c.jsxs(Ua,{value:o||"",label:s("bulkAssignDialog.groupSelect.label"),onChange:T=>l(T.target.value),disabled:h||y!==null,children:[c.jsx(Jt,{value:"",children:s("assignDialog.selectGroup.unassigned")}),r.filter(T=>T.is_visible).map(T=>c.jsxs(Jt,{value:T.id,children:[T.group_name," (",T.prompt_count,")"]},T.id))]})]}),c.jsx(jt,{label:s("bulkAssignDialog.textInput.label"),placeholder:s("bulkAssignDialog.textInput.placeholder"),multiline:!0,rows:6,value:u,onChange:T=>d(T.target.value),disabled:h||y!==null,helperText:s("bulkAssignDialog.textInput.example")}),_.length>0&&!y&&c.jsxs(J,{children:[c.jsx(re,{variant:"subtitle2",gutterBottom:!0,children:s("bulkAssignDialog.preview.title",{count:_.length})}),c.jsxs(J,{sx:{display:"flex",flexWrap:"wrap",gap:.5,maxHeight:150,overflow:"auto",p:1,bgcolor:"background.default",borderRadius:1},children:[_.slice(0,20).map((T,E)=>c.jsx(yt,{label:T,size:"small",variant:"outlined"},E)),_.length>20&&c.jsx(yt,{label:`+${_.length-20} `,size:"small",color:"primary"})]})]}),y&&c.jsxs(J,{children:[c.jsx(yn,{sx:{my:2}}),c.jsx(re,{variant:"h6",gutterBottom:!0,children:s("bulkAssignDialog.results.title")}),c.jsxs(J,{sx:{display:"flex",flexDirection:"column",gap:1},children:[c.jsx(St,{severity:"success",children:s("bulkAssignDialog.results.created",{count:y.created})}),c.jsx(St,{severity:"info",children:s("bulkAssignDialog.results.updated",{count:y.updated})}),y.failed.length>0&&c.jsxs(St,{severity:"error",children:[s("bulkAssignDialog.results.failed",{count:y.failed.length}),c.jsxs(J,{sx:{mt:1},children:[y.failed.slice(0,5).map((T,E)=>c.jsxs(re,{variant:"body2",children:[" ",T]},E)),y.failed.length>5&&c.jsxs(re,{variant:"body2",color:"text.secondary",children:["...  ",y.failed.length-5," "]})]})]}),c.jsx(St,{severity:"success",children:s("bulkAssignDialog.results.total",{count:y.created+y.updated})})]})]})]})}),c.jsxs(yr,{children:[c.jsx(Ke,{onClick:w,disabled:h,children:y?"":s("bulkAssignDialog.actions.cancel")}),!y&&c.jsx(Ke,{onClick:C,variant:"contained",disabled:h||_.length===0,startIcon:h?c.jsx(Kt,{size:20}):null,children:s("bulkAssignDialog.actions.assign")})]})]})},LB=({type:t})=>{const{t:e}=$t("promptManagement"),[n,r]=A.useState([]),[a,i]=A.useState([]),[s,o]=A.useState(!0),[l,u]=A.useState(""),[d,h]=A.useState("all"),[m,y]=A.useState(0),[x,v]=A.useState(25),[_,C]=A.useState(0),[w,T]=A.useState(!1),[E,I]=A.useState(!1),[j,O]=A.useState(null),[L,N]=A.useState(null),[M,H]=A.useState(!1),[P,$]=A.useState(new Set),[D,U]=A.useState(null),[F,W]=A.useState({open:!1,message:"",severity:"success"}),ee=async()=>{try{o(!0);let le;d==="unassigned"?le=null:typeof d=="number"&&(le=d);const Se=await M4.searchPrompts(l,t,m+1,x,"usage_count","DESC",le);Se.success&&Se.data?(r(Array.isArray(Se.data)?Se.data:[]),C(Se.pagination?.total||0)):K(e("promptList.messages.loadFailed"),"error")}catch(le){console.error("Error fetching prompts:",le),K(e("promptList.messages.loadFailed"),"error")}finally{o(!1)}},Q=async()=>{try{const le=await Hm.getGroups(!0,t);le.success&&le.data&&i(le.data)}catch(le){console.error("Error fetching groups:",le)}};A.useEffect(()=>{Q()},[t]),A.useEffect(()=>{const le=setTimeout(()=>{ee()},300);return()=>clearTimeout(le)},[l,d,m,x,t]);const K=(le,Se)=>{W({open:!0,message:le,severity:Se})},V=()=>{W({...F,open:!1})},Z=(le,Se)=>{y(Se)},q=le=>{v(parseInt(le.target.value,10)),y(0)},te=async le=>{try{const Se=await M4.deletePrompt(le,t);Se.success?(K(e("promptList.messages.deleteSuccess"),"success"),ee()):K(Se.error||e("promptList.messages.deleteFailed"),"error")}catch(Se){console.error("Error deleting prompt:",Se),K(e("promptList.messages.deleteFailed"),"error")}},ae=le=>{O(le),I(!0)},ie=async()=>{if(j!==null){try{const le=await M4.assignPromptToGroup(j,L,t);le.success?(K(e("promptList.messages.assignSuccess"),"success"),ee()):K(le.error||e("promptList.messages.assignFailed"),"error")}catch(le){console.error("Error assigning prompt:",le),K(e("promptList.messages.assignFailed"),"error")}I(!1),O(null),N(null)}},ce=le=>{U(le.currentTarget)},pe=()=>{U(null)},ge=le=>le===null?e("promptList.statistics.unclassified"):a.find(be=>be.id===le)?.group_name||e("promptList.statistics.unknown"),oe=le=>le.usage_count===0,ue=le=>{$(Se=>{const be=new Set(Se);return be.has(le)?be.delete(le):be.add(le),be})},he=le=>{le.target.checked?$(new Set(n.map(Se=>Se.id))):$(new Set)},ve=()=>{P.size!==0&&H(!0)},me=()=>{$(new Set),ee()};return c.jsxs(J,{children:[c.jsxs(J,{sx:{display:"flex",gap:2,mb:3,alignItems:"center"},children:[c.jsx(jt,{placeholder:e("promptList.search.placeholder",{type:t==="positive"?"Positive":"Negative"}),variant:"outlined",size:"small",value:l,onChange:le=>u(le.target.value),InputProps:{startAdornment:c.jsx(Jf,{sx:{mr:1,color:"text.secondary"}})},sx:{flexGrow:1}}),c.jsxs(ra,{size:"small",sx:{minWidth:150},children:[c.jsx(Ai,{children:e("promptList.filters.groupFilter.label")}),c.jsxs(Ua,{value:d,label:e("promptList.filters.groupFilter.label"),onChange:le=>h(le.target.value),children:[c.jsx(Jt,{value:"all",children:e("promptList.filters.groupFilter.all")}),c.jsx(Jt,{value:"unassigned",children:e("promptList.filters.groupFilter.unassigned")}),a.filter(le=>le.is_visible).map(le=>c.jsxs(Jt,{value:le.id,children:[le.group_name," (",le.prompt_count,")"]},le.id))]})]}),c.jsx(Ke,{variant:"outlined",startIcon:c.jsx(iy,{}),onClick:ce,children:e("promptList.actions.groupManagement")})]}),P.size>0&&c.jsxs(J,{sx:{mb:2,p:2,bgcolor:"primary.light",borderRadius:1,display:"flex",gap:2,alignItems:"center"},children:[c.jsx(re,{variant:"body2",sx:{color:"primary.contrastText",fontWeight:500},children:e("promptList.bulkActions.selectedCount",{count:P.size})}),c.jsx(Ke,{variant:"contained",size:"small",startIcon:c.jsx(rI,{}),onClick:ve,sx:{bgcolor:"white",color:"primary.main","&:hover":{bgcolor:"grey.100"}},children:e("promptList.bulkActions.assignSelected")}),c.jsx(Ke,{variant:"outlined",size:"small",onClick:()=>$(new Set),sx:{borderColor:"white",color:"white","&:hover":{borderColor:"white",bgcolor:"rgba(255,255,255,0.1)"}},children:""})]}),c.jsx(J,{sx:{mb:2,display:"flex",gap:2},children:c.jsx(Ke,{variant:"outlined",startIcon:c.jsx(rI,{}),onClick:()=>H(!0),children:e("promptList.bulkActions.bulkAssign")})}),c.jsx(D5,{children:c.jsxs(I5,{children:[c.jsx(M5,{children:c.jsxs(Rc,{children:[c.jsx(nn,{padding:"checkbox",children:c.jsx(Bf,{indeterminate:P.size>0&&P.size<n.length,checked:n.length>0&&P.size===n.length,onChange:he})}),c.jsx(nn,{children:e("promptList.table.headers.prompt")}),c.jsx(nn,{align:"center",children:e("promptList.table.headers.usageCount")}),c.jsx(nn,{align:"center",children:e("promptList.table.headers.assignedGroup")}),c.jsx(nn,{align:"center",children:e("promptList.table.headers.actions")})]})}),c.jsx(O5,{children:s?c.jsx(Rc,{children:c.jsx(nn,{colSpan:5,align:"center",sx:{py:4},children:c.jsx(Kt,{})})}):n.length===0?c.jsx(Rc,{children:c.jsx(nn,{colSpan:5,align:"center",sx:{py:4},children:c.jsx(re,{color:"text.secondary",children:e("promptList.table.empty")})})}):n.map(le=>c.jsxs(Rc,{hover:!0,selected:P.has(le.id),children:[c.jsx(nn,{padding:"checkbox",children:c.jsx(Bf,{checked:P.has(le.id),onChange:()=>ue(le.id)})}),c.jsxs(nn,{children:[c.jsx(re,{variant:"body2",sx:{maxWidth:400},children:le.prompt}),le.synonyms&&le.synonyms.length>0&&c.jsxs(J,{sx:{mt:1},children:[le.synonyms.slice(0,3).map((Se,be)=>c.jsx(yt,{label:Se,size:"small",variant:"outlined",sx:{mr:.5,mb:.5}},be)),le.synonyms.length>3&&c.jsx(yt,{label:e("promptList.table.synonyms.more",{count:le.synonyms.length-3}),size:"small",variant:"outlined",color:"primary"})]})]}),c.jsx(nn,{align:"center",children:c.jsx(yt,{label:le.usage_count,size:"small",color:le.usage_count>0?"primary":"default"})}),c.jsx(nn,{align:"center",children:c.jsx(yt,{label:ge(le.group_id),size:"small",variant:"outlined",color:le.group_id===null?"default":"primary"})}),c.jsx(nn,{align:"center",children:c.jsxs(J,{sx:{display:"flex",gap:1,justifyContent:"center"},children:[c.jsx(Xt,{title:e("promptList.actions.assignToGroup"),children:c.jsx(ht,{size:"small",onClick:()=>ae(le.id),children:c.jsx(DO,{})})}),c.jsx(Xt,{title:oe(le)?e("promptList.actions.delete"):e("promptList.actions.cannotDelete"),children:c.jsx("span",{children:c.jsx(ht,{size:"small",color:"error",disabled:!oe(le),onClick:()=>te(le.id),children:c.jsx(xa,{})})})})]})})]},le.id))})]})}),c.jsx(QAe,{rowsPerPageOptions:[10,25,50,100],component:"div",count:_,rowsPerPage:x,page:m,onPageChange:Z,onRowsPerPageChange:q,labelRowsPerPage:e("promptList.pagination.rowsPerPage"),labelDisplayedRows:({from:le,to:Se,count:be})=>{const Te=be!==-1?be:`${Se}+`;return`${le}-${Se} / ${Te}`}}),c.jsx(Ay,{anchorEl:D,open:!!D,onClose:pe,children:c.jsxs(Jt,{onClick:()=>{T(!0),pe()},children:[c.jsx(pu,{children:c.jsx(iy,{fontSize:"small"})}),c.jsx(Ss,{children:e("promptList.actions.groupManagement")})]})}),c.jsxs(or,{open:E,onClose:()=>I(!1),children:[c.jsx(pr,{children:e("assignDialog.title")}),c.jsx(hr,{children:c.jsxs(ra,{fullWidth:!0,sx:{mt:1,minWidth:300},children:[c.jsx(Ai,{children:e("assignDialog.selectGroup.label")}),c.jsxs(Ua,{value:L||"",label:e("assignDialog.selectGroup.label"),onChange:le=>N(le.target.value),children:[c.jsx(Jt,{value:"",children:e("assignDialog.selectGroup.unassigned")}),a.filter(le=>le.is_visible).map(le=>c.jsx(Jt,{value:le.id,children:le.group_name},le.id))]})]})}),c.jsxs(yr,{children:[c.jsx(Ke,{onClick:()=>I(!1),children:e("assignDialog.actions.cancel")}),c.jsx(Ke,{onClick:ie,variant:"contained",children:e("assignDialog.actions.assign")})]})]}),c.jsx(E$e,{open:w,onClose:()=>T(!1),type:t,onGroupsChange:Q}),c.jsx(T$e,{open:M,onClose:()=>H(!1),type:t,groups:a,onSuccess:me,selectedPromptTexts:n.filter(le=>P.has(le.id)).map(le=>le.prompt)}),c.jsx(zg,{open:F.open,autoHideDuration:6e3,onClose:V,children:c.jsx(St,{onClose:V,severity:F.severity,sx:{width:"100%"},children:F.message})})]})},Nm=t=>{const e=bt.c(7),{children:n,value:r,index:a}=t,i=r!==a;let s;e[0]!==n||e[1]!==a||e[2]!==r?(s=r===a&&c.jsx(J,{sx:{py:3},children:n}),e[0]=n,e[1]=a,e[2]=r,e[3]=s):s=e[3];let o;return e[4]!==i||e[5]!==s?(o=c.jsx("div",{role:"tabpanel",hidden:i,children:s}),e[4]=i,e[5]=s,e[6]=o):o=e[6],o},A$e=()=>{const{t}=$t("settings"),[e,n]=A.useState(0),[r,a]=A.useState(0),[i,s]=A.useState(null),[o,l]=A.useState(!0),[u,d]=A.useState(null),[h,m]=A.useState(null);A.useEffect(()=>{y()},[]);const y=async()=>{l(!0),d(null);try{const T=await Bs.getSettings();s(T)}catch(T){d("Failed to load settings"),console.error("Failed to load settings:",T)}finally{l(!1)}},x=async T=>{d(null),m(null);try{const E=await Bs.updateGeneralSettings(T);s(E),m(t("messages.saveSuccess")),setTimeout(()=>{m(null)},3e3)}catch(E){throw d(t("messages.saveFailed")),console.error("Failed to update settings:",E),E}},v=async T=>{d(null),m(null);try{const E=await Bs.updateTaggerSettings(T);s(E),m(t("messages.saveSuccess")),setTimeout(()=>{m(null)},3e3)}catch(E){throw d(t("messages.saveFailed")),console.error("Failed to update settings:",E),E}},_=async T=>{d(null),m(null);try{const E=await Bs.updateMetadataSettings(T);s(E),m(t("messages.saveSuccess")),setTimeout(()=>{m(null)},3e3)}catch(E){throw d(t("messages.saveFailed")),console.error("Failed to update settings:",E),E}},C=async T=>{d(null),m(null);try{const E=await Bs.updateThumbnailSettings(T);s(E),m(t("messages.saveSuccess")),setTimeout(()=>{m(null)},3e3)}catch(E){throw d(t("messages.saveFailed")),console.error("Failed to update settings:",E),E}},w=(T,E)=>{n(E)};return o?c.jsx(hg,{maxWidth:"md",children:c.jsx(J,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:c.jsx(Kt,{})})}):u||!i?c.jsx(hg,{maxWidth:"md",children:c.jsx(J,{sx:{py:4},children:c.jsx(St,{severity:"error",children:u||"Failed to load settings"})})}):c.jsx(hg,{maxWidth:"md",children:c.jsxs(J,{sx:{py:4},children:[c.jsxs(J,{sx:{mb:4},children:[c.jsxs(J,{sx:{display:"flex",alignItems:"center",mb:1},children:[c.jsx(iy,{sx:{mr:1,fontSize:32}}),c.jsx(re,{variant:"h4",component:"h1",children:t("title")})]}),c.jsx(re,{variant:"body1",color:"text.secondary",children:t("subtitle")})]}),h&&c.jsx(St,{severity:"success",sx:{mb:3},children:h}),c.jsx(J,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:c.jsxs(il,{value:e,onChange:w,variant:"scrollable",scrollButtons:"auto",children:[c.jsx(Gn,{label:t("tabs.general")}),c.jsx(Gn,{label:t("tabs.folders")}),c.jsx(Gn,{label:t("tabs.tagger")}),c.jsx(Gn,{label:t("tabs.prompts")}),c.jsx(Gn,{label:t("tabs.rating")}),c.jsx(Gn,{label:t("tabs.similarity")}),c.jsx(Gn,{label:t("tabs.account")})]})}),c.jsx(Nm,{value:e,index:0,children:c.jsx(jBe,{settings:i.general,metadataSettings:i.metadataExtraction,thumbnailSettings:i.thumbnail,onUpdate:x,onMetadataUpdate:_,onThumbnailUpdate:C})}),c.jsx(Nm,{value:e,index:1,children:c.jsx(OHe,{})}),c.jsx(Nm,{value:e,index:2,children:c.jsx(HBe,{settings:i.tagger,onUpdate:v})}),c.jsx(Nm,{value:e,index:3,children:c.jsxs(Yt,{sx:{width:"100%"},children:[c.jsx(J,{sx:{borderBottom:1,borderColor:"divider"},children:c.jsxs(il,{value:r,onChange:(T,E)=>a(E),"aria-label":"prompt management tabs",children:[c.jsx(Gn,{label:"Positive "}),c.jsx(Gn,{label:"Negative "})]})}),c.jsxs(J,{sx:{p:3},children:[r===0&&c.jsx(LB,{type:"positive"}),r===1&&c.jsx(LB,{type:"negative"})]})]})}),c.jsx(Nm,{value:e,index:4,children:c.jsx(XBe,{})}),c.jsx(Nm,{value:e,index:5,children:c.jsx(lHe,{})}),c.jsx(Nm,{value:e,index:6,children:c.jsx(MHe,{})})]})})};function R$e({onLoginSuccess:t}){const{t:e}=$t(["imageGeneration"]),[n,r]=A.useState(0),[a,i]=A.useState({username:"",password:""}),[s,o]=A.useState(""),[l,u]=A.useState(!1),[d,h]=A.useState(null),m=async x=>{x.preventDefault(),u(!0),h(null);try{const v=await fI.login(a.username,a.password);localStorage.setItem("nai_token",v.accessToken),localStorage.setItem("nai_token_expires",v.expiresAt),t(v.accessToken,v.expiresAt)}catch(v){h(v.response?.data?.error||e("imageGeneration:nai.login.error"))}finally{u(!1)}},y=async x=>{x.preventDefault(),u(!0),h(null);try{const v=s.trim();if(!v){h(e("imageGeneration:nai.login.tokenError")),u(!1);return}const _=await fI.loginWithToken(v);localStorage.setItem("nai_token",_.accessToken),localStorage.setItem("nai_token_expires",_.expiresAt),t(_.accessToken,_.expiresAt)}catch(v){console.error("[NAI Login] Token login error:",v),h(v.response?.data?.error||e("imageGeneration:nai.login.tokenError"))}finally{u(!1)}};return c.jsx(J,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:c.jsxs(Yt,{sx:{p:4,maxWidth:500,width:"100%"},children:[c.jsxs(J,{sx:{textAlign:"center",mb:3},children:[c.jsx(re,{variant:"h5",gutterBottom:!0,children:e("imageGeneration:nai.login.title")}),c.jsx(re,{variant:"body2",color:"text.secondary",children:e("imageGeneration:nai.login.subtitle")})]}),c.jsxs(il,{value:n,onChange:(x,v)=>{r(v),h(null)},variant:"fullWidth",sx:{mb:3},children:[c.jsx(Gn,{icon:c.jsx(VL,{}),iconPosition:"start",label:e("imageGeneration:nai.login.tabs.credentials")}),c.jsx(Gn,{icon:c.jsx(iI,{}),iconPosition:"start",label:e("imageGeneration:nai.login.tabs.token")})]}),d&&c.jsx(St,{severity:"error",sx:{mb:2},children:d}),n===0&&c.jsxs("form",{onSubmit:m,children:[c.jsx(jt,{fullWidth:!0,label:e("imageGeneration:nai.login.username"),type:"email",value:a.username,onChange:x=>i({...a,username:x.target.value}),required:!0,disabled:l,sx:{mb:2}}),c.jsx(jt,{fullWidth:!0,label:e("imageGeneration:nai.login.password"),type:"password",value:a.password,onChange:x=>i({...a,password:x.target.value}),required:!0,disabled:l,sx:{mb:3}}),c.jsx(Ke,{fullWidth:!0,type:"submit",variant:"contained",size:"large",disabled:l,startIcon:l?c.jsx(Kt,{size:20}):c.jsx(VL,{}),children:e(l?"imageGeneration:nai.login.loggingIn":"imageGeneration:nai.login.loginButton")})]}),n===1&&c.jsxs("form",{onSubmit:y,children:[c.jsx(re,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e("imageGeneration:nai.login.tokenHint")}),c.jsx(jt,{fullWidth:!0,label:e("imageGeneration:nai.login.token"),type:"password",multiline:!0,rows:3,value:s,onChange:x=>o(x.target.value),placeholder:e("imageGeneration:nai.login.tokenPlaceholder"),required:!0,disabled:l,sx:{mb:3}}),c.jsx(Ke,{fullWidth:!0,type:"submit",variant:"contained",size:"large",disabled:l,startIcon:l?c.jsx(Kt,{size:20}):c.jsx(iI,{}),children:e(l?"imageGeneration:nai.login.loggingIn":"imageGeneration:nai.login.loginButton")})]})]})})}var gee={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zB=je.createContext&&je.createContext(gee),k$e=["attr","size","title"];function I$e(t,e){if(t==null)return{};var n=j$e(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function j$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PC(){return PC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PC.apply(this,arguments)}function FB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function LC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FB(Object(n),!0).forEach(function(r){O$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O$e(t,e,n){return e=D$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D$e(t){var e=M$e(t,"string");return typeof e=="symbol"?e:e+""}function M$e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yee(t){return t&&t.map((e,n)=>je.createElement(e.tag,LC({key:n},e.attr),yee(e.child)))}function N$e(t){return e=>je.createElement(P$e,PC({attr:LC({},t.attr)},e),yee(t.child))}function P$e(t){var e=n=>{var{attr:r,size:a,title:i}=t,s=I$e(t,k$e),o=a||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),je.createElement("svg",PC({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:LC(LC({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&je.createElement("title",null,i),t.children)};return zB!==void 0?je.createElement(zB.Consumer,null,n=>e(n)):e(gee)}function L$e(t){return N$e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}const z$e=({token:t})=>{const{t:e}=$t(["imageGeneration"]),[n,r]=A.useState(null),[a,i]=A.useState(!1),[s,o]=A.useState(null),l=async()=>{if(t){i(!0),o(null);try{const d=await Tt.get("/api/nai/user/data",{headers:{Authorization:`Bearer ${t}`}});r(d.data)}catch(d){console.error("[NAI] User data fetch error:",d),o(d.response?.data?.error||"Failed to fetch user data")}finally{i(!1)}}};A.useEffect(()=>{t&&l()},[t]);const u=d=>{switch(d){case 3:return"tier-opus";case 2:return"tier-scroll";case 1:return"tier-tablet";default:return"tier-free"}};return s?null:c.jsx("div",{className:"nai-anlas-display",children:a?c.jsx("span",{className:"loading-text",children:"Loading..."}):n?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"anlas-info",children:[c.jsxs("span",{className:"anlas-label",children:[e("imageGeneration:nai.anlas.balance"),":"]}),c.jsx("span",{className:"anlas-value",children:n.anlasBalance.toLocaleString()})]}),c.jsxs("div",{className:"subscription-info",children:[c.jsxs("span",{className:"subscription-label",children:[e("imageGeneration:nai.anlas.subscription"),":"]}),c.jsx("span",{className:`tier-badge ${u(n.subscription.tier)}`,children:n.subscription.tierName})]}),c.jsx("button",{onClick:l,className:"refresh-button",title:e("imageGeneration:nai.anlas.refresh"),children:c.jsx(L$e,{})})]}):c.jsx("span",{className:"no-data-text",children:"No data"})})},dw={"Small Portrait":{width:512,height:768},"Small Landscape":{width:768,height:512},"Small Square":{width:640,height:640},"Normal Portrait":{width:832,height:1216},"Normal Landscape":{width:1216,height:832},"Normal Square":{width:1024,height:1024},"Large Portrait":{width:1024,height:1536},"Large Landscape":{width:1536,height:1024},"Wallpaper Portrait":{width:1088,height:1920},"Wallpaper Landscape":{width:1920,height:1088}},F$e=[{value:"nai-diffusion-4-5-curated",label:"V4.5 Curated ()"},{value:"nai-diffusion-4-5-full",label:"V4.5 Full"},{value:"nai-diffusion-4-curated-preview",label:"V4 Curated"},{value:"nai-diffusion-4-full",label:"V4 Full"},{value:"nai-diffusion-3",label:"V3 ()"},{value:"nai-diffusion-3-furry",label:"V3 Furry"}],B$e=[{value:"k_euler",label:"Euler"},{value:"k_euler_ancestral",label:"Euler Ancestral"},{value:"k_dpmpp_2s_ancestral",label:"DPM++ 2S Ancestral"},{value:"k_dpmpp_2m",label:"DPM++ 2M"},{value:"k_dpmpp_sde",label:"DPM++ SDE"},{value:"ddim_v3",label:"DDIM"}],H$e=[{value:"native",label:"Native"},{value:"karras",label:"Karras ()"},{value:"exponential",label:"Exponential"},{value:"polyexponential",label:"Polyexponential"}],BB="nai_generation_params",i6="nai_selected_group_id",HB={model:"nai-diffusion-4-5-curated",prompt:"",negative_prompt:"",resolution:"Normal Portrait",steps:28,scale:6,sampler:"k_euler",n_samples:1,variety_plus:!1,cfg_rescale:.7,noise_schedule:"karras",uncond_scale:1};function U$e(t){const e=bt.c(44),{params:n,onChange:r,disabled:a}=t,i=a===void 0?!1:a;let s,o;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={p:3},o=c.jsx(re,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:" "}),e[0]=s,e[1]=o):(s=e[0],o=e[1]);let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=c.jsx(yn,{sx:{mb:2}}),e[2]=l):l=e[2];let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=c.jsx(Ai,{children:""}),e[3]=u):u=e[3];const d=n.model;let h;e[4]!==r||e[5]!==n?(h=M=>r({...n,model:M.target.value}),e[4]=r,e[5]=n,e[6]=h):h=e[6];let m;e[7]===Symbol.for("react.memo_cache_sentinel")?(m=F$e.map(G$e),e[7]=m):m=e[7];let y;e[8]!==n.model||e[9]!==h?(y=c.jsx(Ua,{value:d,onChange:h,label:"",children:m}),e[8]=n.model,e[9]=h,e[10]=y):y=e[10];let x;e[11]!==i||e[12]!==y?(x=c.jsx(gn,{size:12,children:c.jsxs(ra,{fullWidth:!0,disabled:i,children:[u,y]})}),e[11]=i,e[12]=y,e[13]=x):x=e[13];let v;e[14]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx(Ai,{children:""}),e[14]=v):v=e[14];const _=n.resolution;let C;e[15]!==r||e[16]!==n?(C=M=>r({...n,resolution:M.target.value}),e[15]=r,e[16]=n,e[17]=C):C=e[17];let w;e[18]===Symbol.for("react.memo_cache_sentinel")?(w=Object.keys(dw).map($$e),e[18]=w):w=e[18];let T;e[19]!==n.resolution||e[20]!==C?(T=c.jsx(Ua,{value:_,onChange:C,label:"",children:w}),e[19]=n.resolution,e[20]=C,e[21]=T):T=e[21];let E;e[22]!==i||e[23]!==T?(E=c.jsx(gn,{size:12,children:c.jsxs(ra,{fullWidth:!0,disabled:i,children:[v,T]})}),e[22]=i,e[23]=T,e[24]=E):E=e[24];let I;e[25]!==r||e[26]!==n?(I=M=>r({...n,prompt:M.target.value}),e[25]=r,e[26]=n,e[27]=I):I=e[27];let j;e[28]!==i||e[29]!==n.prompt||e[30]!==I?(j=c.jsx(gn,{size:12,children:c.jsx(jt,{fullWidth:!0,multiline:!0,rows:4,label:"",value:n.prompt,onChange:I,placeholder:"1girl, portrait, detailed face, masterpiece...",required:!0,disabled:i})}),e[28]=i,e[29]=n.prompt,e[30]=I,e[31]=j):j=e[31];let O;e[32]!==r||e[33]!==n?(O=M=>r({...n,negative_prompt:M.target.value}),e[32]=r,e[33]=n,e[34]=O):O=e[34];let L;e[35]!==i||e[36]!==n.negative_prompt||e[37]!==O?(L=c.jsx(gn,{size:12,children:c.jsx(jt,{fullWidth:!0,multiline:!0,rows:2,label:" ",value:n.negative_prompt,onChange:O,placeholder:"bad anatomy, low quality...",disabled:i})}),e[35]=i,e[36]=n.negative_prompt,e[37]=O,e[38]=L):L=e[38];let N;return e[39]!==x||e[40]!==E||e[41]!==j||e[42]!==L?(N=c.jsxs(Yt,{sx:s,children:[o,l,c.jsxs(gn,{container:!0,spacing:2,children:[x,E,j,L]})]}),e[39]=x,e[40]=E,e[41]=j,e[42]=L,e[43]=N):N=e[43],N}function $$e(t){const e=dw[t];return c.jsxs(Jt,{value:t,children:[t," (",e.width,"",e.height,")"]},t)}function G$e(t){return c.jsx(Jt,{value:t.value,children:t.label},t.value)}function q$e(t){const e=bt.c(92),{params:n,onChange:r,disabled:a}=t,i=a===void 0?!1:a;let s,o;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={p:3},o=c.jsx(re,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:" "}),e[0]=s,e[1]=o):(s=e[0],o=e[1]);let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=c.jsx(yn,{sx:{mb:2}}),e[2]=l):l=e[2];let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=c.jsx(Ai,{children:""}),e[3]=u):u=e[3];const d=n.sampler;let h;e[4]!==r||e[5]!==n?(h=pe=>r({...n,sampler:pe.target.value}),e[4]=r,e[5]=n,e[6]=h):h=e[6];let m;e[7]===Symbol.for("react.memo_cache_sentinel")?(m=B$e.map(W$e),e[7]=m):m=e[7];let y;e[8]!==n.sampler||e[9]!==h?(y=c.jsx(Ua,{value:d,onChange:h,label:"",children:m}),e[8]=n.sampler,e[9]=h,e[10]=y):y=e[10];let x;e[11]!==i||e[12]!==y?(x=c.jsx(gn,{size:12,children:c.jsxs(ra,{fullWidth:!0,disabled:i,children:[u,y]})}),e[11]=i,e[12]=y,e[13]=x):x=e[13];let v;e[14]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx(Ai,{children:"Noise Schedule"}),e[14]=v):v=e[14];const _=n.noise_schedule;let C;e[15]!==r||e[16]!==n?(C=pe=>r({...n,noise_schedule:pe.target.value}),e[15]=r,e[16]=n,e[17]=C):C=e[17];let w;e[18]===Symbol.for("react.memo_cache_sentinel")?(w=H$e.map(V$e),e[18]=w):w=e[18];let T;e[19]!==n.noise_schedule||e[20]!==C?(T=c.jsx(Ua,{value:_,onChange:C,label:"Noise Schedule",children:w}),e[19]=n.noise_schedule,e[20]=C,e[21]=T):T=e[21];let E;e[22]!==i||e[23]!==T?(E=c.jsx(gn,{size:12,children:c.jsxs(ra,{fullWidth:!0,disabled:i,children:[v,T]})}),e[22]=i,e[23]=T,e[24]=E):E=e[24];let I;e[25]!==n.steps?(I=c.jsxs(re,{gutterBottom:!0,children:["Steps: ",n.steps]}),e[25]=n.steps,e[26]=I):I=e[26];let j;e[27]!==r||e[28]!==n?(j=(pe,ge)=>r({...n,steps:ge}),e[27]=r,e[28]=n,e[29]=j):j=e[29];let O;e[30]===Symbol.for("react.memo_cache_sentinel")?(O=[{value:15,label:"15"},{value:28,label:"28"},{value:40,label:"40"}],e[30]=O):O=e[30];let L;e[31]!==i||e[32]!==n.steps||e[33]!==j?(L=c.jsx(Ha,{value:n.steps,onChange:j,min:1,max:50,marks:O,disabled:i}),e[31]=i,e[32]=n.steps,e[33]=j,e[34]=L):L=e[34];let N;e[35]!==I||e[36]!==L?(N=c.jsxs(gn,{size:12,children:[I,L]}),e[35]=I,e[36]=L,e[37]=N):N=e[37];let M;e[38]!==n.scale?(M=c.jsxs(re,{gutterBottom:!0,children:["Guidance: ",n.scale]}),e[38]=n.scale,e[39]=M):M=e[39];let H;e[40]!==r||e[41]!==n?(H=(pe,ge)=>r({...n,scale:ge}),e[40]=r,e[41]=n,e[42]=H):H=e[42];let P;e[43]===Symbol.for("react.memo_cache_sentinel")?(P=[{value:0,label:"0"},{value:5,label:"5"},{value:7,label:"7"}],e[43]=P):P=e[43];let $;e[44]!==i||e[45]!==n.scale||e[46]!==H?($=c.jsx(Ha,{value:n.scale,onChange:H,min:0,max:10,step:.1,marks:P,disabled:i}),e[44]=i,e[45]=n.scale,e[46]=H,e[47]=$):$=e[47];let D;e[48]!==M||e[49]!==$?(D=c.jsxs(gn,{size:12,children:[M,$]}),e[48]=M,e[49]=$,e[50]=D):D=e[50];let U;e[51]!==n.cfg_rescale?(U=c.jsxs(re,{gutterBottom:!0,children:["CFG Rescale: ",n.cfg_rescale]}),e[51]=n.cfg_rescale,e[52]=U):U=e[52];let F;e[53]!==r||e[54]!==n?(F=(pe,ge)=>r({...n,cfg_rescale:ge}),e[53]=r,e[54]=n,e[55]=F):F=e[55];let W;e[56]===Symbol.for("react.memo_cache_sentinel")?(W=[{value:0,label:"0"},{value:.2,label:"0.2"},{value:.5,label:"0.5"}],e[56]=W):W=e[56];let ee;e[57]!==i||e[58]!==n.cfg_rescale||e[59]!==F?(ee=c.jsx(Ha,{value:n.cfg_rescale,onChange:F,min:0,max:1,step:.05,marks:W,disabled:i}),e[57]=i,e[58]=n.cfg_rescale,e[59]=F,e[60]=ee):ee=e[60];let Q;e[61]!==U||e[62]!==ee?(Q=c.jsxs(gn,{size:12,children:[U,ee]}),e[61]=U,e[62]=ee,e[63]=Q):Q=e[63];let K;e[64]!==n.uncond_scale?(K=c.jsxs(re,{gutterBottom:!0,children:["Uncond Scale: ",n.uncond_scale]}),e[64]=n.uncond_scale,e[65]=K):K=e[65];let V;e[66]!==r||e[67]!==n?(V=(pe,ge)=>r({...n,uncond_scale:ge}),e[66]=r,e[67]=n,e[68]=V):V=e[68];let Z;e[69]===Symbol.for("react.memo_cache_sentinel")?(Z=[{value:0,label:"0"},{value:1,label:"1"},{value:1.5,label:"1.5"}],e[69]=Z):Z=e[69];let q;e[70]!==i||e[71]!==n.uncond_scale||e[72]!==V?(q=c.jsx(Ha,{value:n.uncond_scale,onChange:V,min:0,max:1.5,step:.05,marks:Z,disabled:i}),e[70]=i,e[71]=n.uncond_scale,e[72]=V,e[73]=q):q=e[73];let te;e[74]!==K||e[75]!==q?(te=c.jsxs(gn,{size:12,children:[K,q]}),e[74]=K,e[75]=q,e[76]=te):te=e[76];let ae;e[77]!==r||e[78]!==n?(ae=pe=>r({...n,variety_plus:pe.target.checked}),e[77]=r,e[78]=n,e[79]=ae):ae=e[79];let ie;e[80]!==i||e[81]!==n.variety_plus||e[82]!==ae?(ie=c.jsx(gn,{size:12,children:c.jsx(Zn,{control:c.jsx(Bf,{checked:n.variety_plus,onChange:ae,disabled:i}),label:"Variety+"})}),e[80]=i,e[81]=n.variety_plus,e[82]=ae,e[83]=ie):ie=e[83];let ce;return e[84]!==x||e[85]!==E||e[86]!==N||e[87]!==D||e[88]!==Q||e[89]!==te||e[90]!==ie?(ce=c.jsxs(Yt,{sx:s,children:[o,l,c.jsxs(gn,{container:!0,spacing:2,children:[x,E,N,D,Q,te,ie]})]}),e[84]=x,e[85]=E,e[86]=N,e[87]=D,e[88]=Q,e[89]=te,e[90]=ie,e[91]=ce):ce=e[91],ce}function V$e(t){return c.jsx(Jt,{value:t.value,children:t.label},t.value)}function W$e(t){return c.jsx(Jt,{value:t.value,children:t.label},t.value)}function Y$e(t){const e=bt.c(11),{params:n,onChange:r,disabled:a}=t,i=a===void 0?!1:a;let s,o;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={p:3},o=c.jsx(re,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:" "}),e[0]=s,e[1]=o):(s=e[0],o=e[1]);let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=c.jsx(yn,{sx:{mb:2}}),e[2]=l):l=e[2];let u;e[3]!==r||e[4]!==n?(u=m=>r({...n,n_samples:parseInt(m.target.value)}),e[3]=r,e[4]=n,e[5]=u):u=e[5];let d;e[6]===Symbol.for("react.memo_cache_sentinel")?(d={min:1,max:8},e[6]=d):d=e[6];let h;return e[7]!==i||e[8]!==n.n_samples||e[9]!==u?(h=c.jsxs(Yt,{sx:s,children:[o,l,c.jsx(gn,{container:!0,spacing:2,children:c.jsx(gn,{size:12,children:c.jsx(jt,{fullWidth:!0,type:"number",label:" ",value:n.n_samples,onChange:u,inputProps:d,disabled:i})})})]}),e[7]=i,e[8]=n.n_samples,e[9]=u,e[10]=h):h=e[10],h}function K$e(t){const e=bt.c(12),{selectedGroup:n,onOpenModal:r,onRemoveGroup:a,disabled:i}=t,s=i===void 0?!1:i;let o,l;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={p:3},l=c.jsx(re,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:" "}),e[0]=o,e[1]=l):(o=e[0],l=e[1]);let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=c.jsx(yn,{sx:{mb:2}}),e[2]=u):u=e[2];let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d={display:"flex",flexDirection:"column",gap:2},e[3]=d):d=e[3];let h;e[4]!==s||e[5]!==r||e[6]!==a||e[7]!==n?(h=n?c.jsx(J,{sx:{display:"flex",alignItems:"center",gap:1},children:c.jsx(yt,{icon:c.jsx(wu,{}),label:n.name,onDelete:a,color:"primary",sx:{flex:1}})}):c.jsx(Ke,{variant:"outlined",startIcon:c.jsx(wu,{}),onClick:r,disabled:s,fullWidth:!0,children:" "}),e[4]=s,e[5]=r,e[6]=a,e[7]=n,e[8]=h):h=e[8];let m;e[9]===Symbol.for("react.memo_cache_sentinel")?(m=c.jsx(re,{variant:"caption",color:"text.secondary",children:"     "}),e[9]=m):m=e[9];let y;return e[10]!==h?(y=c.jsxs(Yt,{sx:o,children:[l,u,c.jsxs(J,{sx:d,children:[h,m]})]}),e[10]=h,e[11]=y):y=e[11],y}function bee(t){const e=bt.c(52),{config:n,state:r,onConfigChange:a,onStop:i,namespace:s}=t,o=s===void 0?"imageGeneration":s;let l;e[0]!==o?(l=[o],e[0]=o,e[1]=l):l=e[1];const{t:u}=$t(l);let d;e[2]!==o?(d=U=>o==="imageGeneration"?`nai.repeat.${U}`:`repeat.${U}`,e[2]=o,e[3]=d):d=e[3];const h=d;let m;e[4]!==n||e[5]!==a?(m=U=>{a({...n,enabled:U})},e[4]=n,e[5]=a,e[6]=m):m=e[6];const y=m;let x;e[7]!==n||e[8]!==a?(x=U=>{const F=parseInt(U);!isNaN(F)&&F>=-1&&F<=999&&a({...n,count:F})},e[7]=n,e[8]=a,e[9]=x):x=e[9];const v=x;let _;e[10]!==n||e[11]!==a?(_=U=>{const F=parseInt(U);!isNaN(F)&&F>=1&&F<=300&&a({...n,delaySeconds:F})},e[10]=n,e[11]=a,e[12]=_):_=e[12];const C=_;let w,T;e[13]===Symbol.for("react.memo_cache_sentinel")?(w={display:"flex",alignItems:"center",gap:1,mb:2},T=c.jsx(e9e,{fontSize:"small"}),e[13]=w,e[14]=T):(w=e[13],T=e[14]);let E;e[15]!==h||e[16]!==u?(E=u(h("title")),e[15]=h,e[16]=u,e[17]=E):E=e[17];let I;e[18]!==E?(I=c.jsxs(J,{sx:w,children:[T,c.jsx(re,{variant:"subtitle1",fontWeight:"bold",children:E})]}),e[18]=E,e[19]=I):I=e[19];let j;e[20]===Symbol.for("react.memo_cache_sentinel")?(j=c.jsx(yn,{sx:{mb:2}}),e[20]=j):j=e[20];let O;e[21]===Symbol.for("react.memo_cache_sentinel")?(O={display:"flex",flexDirection:"column",gap:2},e[21]=O):O=e[21];let L;e[22]!==y?(L=U=>y(U.target.checked),e[22]=y,e[23]=L):L=e[23];let N;e[24]!==n.enabled||e[25]!==r.isRunning||e[26]!==L?(N=c.jsx(Bf,{checked:n.enabled,onChange:L,disabled:r.isRunning}),e[24]=n.enabled,e[25]=r.isRunning,e[26]=L,e[27]=N):N=e[27];let M;e[28]!==h||e[29]!==u?(M=u(h("enable")),e[28]=h,e[29]=u,e[30]=M):M=e[30];let H;e[31]!==N||e[32]!==M?(H=c.jsx(Zn,{control:N,label:M}),e[31]=N,e[32]=M,e[33]=H):H=e[33];let P;e[34]!==n.count||e[35]!==n.delaySeconds||e[36]!==n.enabled||e[37]!==h||e[38]!==v||e[39]!==C||e[40]!==i||e[41]!==r.currentIteration||e[42]!==r.isRunning||e[43]!==r.totalIterations||e[44]!==u?(P=n.enabled&&c.jsxs(c.Fragment,{children:[c.jsx(jt,{fullWidth:!0,type:"number",label:u(h("count")),value:n.count,onChange:U=>v(U.target.value),disabled:r.isRunning,inputProps:{min:-1,max:999},helperText:n.count===-1?u(h("infinite")):u(h("countHelp"))}),c.jsx(jt,{fullWidth:!0,type:"number",label:u(h("delay")),value:n.delaySeconds,onChange:U=>C(U.target.value),disabled:r.isRunning,inputProps:{min:1,max:300},helperText:u(h("delayHelp"))}),r.isRunning&&c.jsxs(J,{children:[c.jsx(J,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:c.jsx(yt,{label:n.count===-1?u(h("progress"),{current:r.currentIteration}):u(h("progressWithTotal"),{current:r.currentIteration,total:r.totalIterations}),color:"primary",size:"small"})}),c.jsx(Ke,{fullWidth:!0,variant:"outlined",color:"error",startIcon:c.jsx(i9e,{}),onClick:i,children:u(h("stop"))})]})]}),e[34]=n.count,e[35]=n.delaySeconds,e[36]=n.enabled,e[37]=h,e[38]=v,e[39]=C,e[40]=i,e[41]=r.currentIteration,e[42]=r.isRunning,e[43]=r.totalIterations,e[44]=u,e[45]=P):P=e[45];let $;e[46]!==H||e[47]!==P?($=c.jsxs(J,{sx:O,children:[H,P]}),e[46]=H,e[47]=P,e[48]=$):$=e[48];let D;return e[49]!==I||e[50]!==$?(D=c.jsxs(J,{children:[I,j,$]}),e[49]=I,e[50]=$,e[51]=D):D=e[51],D}const X$e=t=>{const e=t.service_type==="comfyui";let n={};try{t.metadata&&typeof t.metadata=="string"&&(n=JSON.parse(t.metadata))}catch(v){console.warn("Failed to parse history metadata:",v)}const r=e?n.steps:t.nai_steps,a=e?n.cfg_scale:t.nai_scale,i=e?n.sampler:t.nai_sampler,s=e?n.seed:t.nai_seed?Number(t.nai_seed):null,o=e?n.scheduler:null,l=e?n.model:t.nai_model,u=t.actual_composite_hash??null,d=!!u;u||console.log("[History Adapter] composite_hash is null for history:",{id:t.id,service_type:t.service_type,original_path:t.original_path,actual_composite_hash:t.actual_composite_hash}),!d&&!t.original_path&&console.warn(`[History Adapter] History ${t.id} has no valid image paths:`,{id:t.id,service_type:t.service_type,generation_status:t.generation_status,hasMetadata:d,actual_composite_hash:t.actual_composite_hash,original_path:t.original_path});const h=v=>{if(!v)return{file_type:"image",mime_type:"image/png"};const _=v.toLowerCase().split(".").pop()||"";return _==="gif"?{file_type:"animated",mime_type:"image/gif"}:_==="apng"?{file_type:"animated",mime_type:"image/apng"}:["mp4","webm","mov","avi"].includes(_)?{file_type:"video",mime_type:{mp4:"video/mp4",webm:"video/webm",mov:"video/quicktime",avi:"video/x-msvideo"}[_]||"video/mp4"}:{file_type:"image",mime_type:{png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",webp:"image/webp",bmp:"image/bmp",tiff:"image/tiff",tif:"image/tiff"}[_]||"image/png"}},{file_type:m,mime_type:y}=h(t.original_path);let x=null;if(t.actual_auto_tags)try{x=typeof t.actual_auto_tags=="string"?JSON.parse(t.actual_auto_tags):t.actual_auto_tags}catch(v){console.warn("Failed to parse auto_tags:",v)}return{composite_hash:u,first_seen_date:t.created_at??null,file_id:null,file_type:m,original_file_path:t.original_path??null,file_size:t.file_size??null,mime_type:y,file_status:"active",width:d?t.actual_width??t.width??0:t.width??0,height:d?t.actual_height??t.height??0:t.height??0,thumbnail_path:"",ai_tool:e?"ComfyUI":"NovelAI",model_name:l||null,lora_models:null,steps:r||null,cfg_scale:a||null,sampler:i||null,seed:s,scheduler:o||null,prompt:t.positive_prompt||null,negative_prompt:t.negative_prompt||null,denoise_strength:null,generation_time:null,batch_size:null,batch_index:null,auto_tags:x,rating_score:null,perceptual_hash:null,dhash:null,ahash:null,color_histogram:null,duration:null,fps:null,video_codec:null,audio_codec:null,bitrate:null,thumbnail_url:d&&u?`/api/images/${u}/thumbnail`:yC(t.original_path)||null,image_url:d&&u?`/api/images/${u}/file`:yC(t.original_path)||null,groups:[],ai_metadata:{ai_tool:e?"ComfyUI":"NovelAI",model_name:l||null,lora_models:null,generation_params:{steps:r||null,cfg_scale:a||null,sampler:i||null,seed:s,scheduler:o||null,denoise_strength:null,generation_time:null,batch_size:null,batch_index:null},prompts:{prompt:t.positive_prompt||null,negative_prompt:t.negative_prompt||null}}}},UB=t=>t.map(X$e),Q$e=t=>{const e=bt.c(85),{image:n,onClick:r,selected:a,selectable:i,onSelectionChange:s,onDelete:o,serviceType:l}=t,u=a===void 0?!1:a,d=i===void 0?!1:i,[h,m]=A.useState(!1),[y,x]=A.useState(!1),[v,_]=A.useState(!1),[C,w]=A.useState(!1),T=A.useRef(null);let E;e[0]===Symbol.for("react.memo_cache_sentinel")?(E=Gd(),e[0]=E):E=e[0];const I=E,j=n.file_type==="animated",O=n.file_type==="video";let L;e[1]!==n.composite_hash?(L=n.composite_hash&&!n.composite_hash.startsWith("history_"),e[1]=n.composite_hash,e[2]=L):L=e[2];const N=L,M=Z$e;let H;e[3]!==N||e[4]!==n.composite_hash||e[5]!==n.image_url||e[6]!==n.thumbnail_url?(H=()=>n.image_url&&n.image_url!==n.thumbnail_url?M(n.image_url)?n.image_url:`${I}${n.image_url}`:N?`${I}/api/images/${n.composite_hash}/file`:null,e[3]=N,e[4]=n.composite_hash,e[5]=n.image_url,e[6]=n.thumbnail_url,e[7]=H):H=e[7];const P=H;let $;e[8]!==P||e[9]!==N||e[10]!==n.composite_hash||e[11]!==n.image_url||e[12]!==n.thumbnail_url||e[13]!==C||e[14]!==j||e[15]!==O?($=C?P():j||O?n.image_url?M(n.image_url)?n.image_url:`${I}${n.image_url}`:N?`${I}/api/images/${n.composite_hash}/file`:null:n.thumbnail_url?M(n.thumbnail_url)?n.thumbnail_url:`${I}${n.thumbnail_url}`:N?`${I}/api/images/${n.composite_hash}/thumbnail`:P(),e[8]=P,e[9]=N,e[10]=n.composite_hash,e[11]=n.image_url,e[12]=n.thumbnail_url,e[13]=C,e[14]=j,e[15]=O,e[16]=$):$=e[16];const D=$;let U;e[17]!==n.composite_hash||e[18]!==s?(U=Ce=>{Ce.stopPropagation(),s&&n.composite_hash&&s(n.composite_hash,Ce)},e[17]=n.composite_hash,e[18]=s,e[19]=U):U=e[19];const F=U;let W;e[20]!==r?(W=Ce=>{Ce.target.closest(".image-card-actions")||r()},e[20]=r,e[21]=W):W=e[21];const ee=W;let Q;e[22]!==n.composite_hash||e[23]!==o?(Q=Ce=>{Ce.stopPropagation(),o&&n.composite_hash&&o(n.composite_hash)},e[22]=n.composite_hash,e[23]=o,e[24]=Q):Q=e[24];const K=Q,V=n.width&&n.height?n.width/n.height:1;let Z,q;e[25]===Symbol.for("react.memo_cache_sentinel")?(Z=()=>{if(!T.current)return;const Ce=new IntersectionObserver(Me=>{Me.forEach(He=>{He.isIntersecting&&(x(!0),Ce.disconnect())})},{rootMargin:"50px"});return Ce.observe(T.current),()=>{Ce.disconnect()}},q=[],e[25]=Z,e[26]=q):(Z=e[25],q=e[26]),A.useEffect(Z,q);let te;e[27]===Symbol.for("react.memo_cache_sentinel")?(te=()=>{m(!0)},e[27]=te):te=e[27];const ae=te;let ie;e[28]!==l?(ie=()=>l?c.jsx(yt,{label:l==="comfyui"?"ComfyUI":"NovelAI",size:"small",sx:{fontSize:"0.7rem",height:"22px",fontWeight:600,bgcolor:"rgba(0, 0, 0, 0.75)",color:"white",backdropFilter:"blur(4px)"}}):null,e[28]=l,e[29]=ie):ie=e[29];const ce=ie;let pe,ge;e[30]===Symbol.for("react.memo_cache_sentinel")?(pe=()=>_(!0),ge=()=>_(!1),e[30]=pe,e[31]=ge):(pe=e[30],ge=e[31]);const oe=u?3:1,ue=u?"primary.main":"divider";let he;e[32]===Symbol.for("react.memo_cache_sentinel")?(he={transform:"translateY(-4px)",boxShadow:6},e[32]=he):he=e[32];let ve;e[33]!==oe||e[34]!==ue?(ve={cursor:"pointer",transition:"all 0.2s ease-in-out",position:"relative",border:oe,borderColor:ue,"&:hover":he},e[33]=oe,e[34]=ue,e[35]=ve):ve=e[35];let me;e[36]!==F||e[37]!==v||e[38]!==d||e[39]!==u?(me=d&&c.jsx(J,{className:"image-card-actions",sx:{position:"absolute",top:8,left:8,zIndex:2,opacity:v||u?1:.3,transition:"opacity 0.2s ease-in-out"},onClick:F,children:u?c.jsx(Cs,{sx:{fontSize:32,color:"primary.main",bgcolor:"white",borderRadius:"50%",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"}}):c.jsx(J,{sx:{width:32,height:32,borderRadius:"50%",border:"2px solid white",bgcolor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease-in-out","&:hover":{bgcolor:"rgba(0, 0, 0, 0.7)",transform:"scale(1.1)"}}})}),e[36]=F,e[37]=v,e[38]=d,e[39]=u,e[40]=me):me=e[40];let le;e[41]!==u?(le=u&&c.jsx(J,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(33, 150, 243, 0.15)",zIndex:1,pointerEvents:"none"}}),e[41]=u,e[42]=le):le=e[42];let Se;e[43]!==V||e[44]!==j||e[45]!==O?(Se={position:"relative",width:"100%",...O||j?{}:{paddingTop:`${1/V*100}%`},overflow:"hidden",bgcolor:"grey.200"},e[43]=V,e[44]=j,e[45]=O,e[46]=Se):Se=e[46];let be;e[47]!==h?(be=!h&&c.jsx(bu,{variant:"rectangular",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),e[47]=h,e[48]=be):be=e[48];let Te;e[49]!==n.original_file_path||e[50]!==h||e[51]!==D||e[52]!==j||e[53]!==O||e[54]!==y?(Te=y&&D&&(O?c.jsx(J,{component:"video",src:D,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,onLoadedData:ae,onError:()=>{console.error(`Failed to load video: ${D}`),w(!0)},sx:{width:"100%",height:"auto",display:"block",opacity:h?1:0,transition:"opacity 0.15s ease-in-out"}}):j?c.jsx($s,{component:"img",image:D,alt:n.original_file_path??"",loading:"lazy",decoding:"async",draggable:!1,onLoad:ae,onError:()=>{console.error(`Failed to load GIF: ${D}`),w(!0)},sx:{width:"100%",height:"auto",display:"block",opacity:h?1:0,transition:"opacity 0.15s ease-in-out"}}):c.jsx($s,{component:"img",image:D,alt:n.original_file_path??"",loading:"lazy",decoding:"async",draggable:!1,onLoad:ae,onError:()=>{console.error(`Failed to load image: ${D}`),w(!0)},sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain",display:"block",opacity:h?1:0,transition:"opacity 0.15s ease-in-out"}})),e[49]=n.original_file_path,e[50]=h,e[51]=D,e[52]=j,e[53]=O,e[54]=y,e[55]=Te):Te=e[55];let Ne;e[56]!==Se||e[57]!==be||e[58]!==Te?(Ne=c.jsxs(J,{sx:Se,children:[be,Te]}),e[56]=Se,e[57]=be,e[58]=Te,e[59]=Ne):Ne=e[59];let Pe;e[60]===Symbol.for("react.memo_cache_sentinel")?(Pe={position:"absolute",top:8,right:8,zIndex:1,display:"flex",flexDirection:"column",gap:.5,alignItems:"flex-end"},e[60]=Pe):Pe=e[60];let Le;e[61]!==ce?(Le=ce(),e[61]=ce,e[62]=Le):Le=e[62];let De;e[63]!==K||e[64]!==v||e[65]!==o?(De=o&&v&&c.jsx(ht,{className:"image-card-actions",onClick:K,size:"small",sx:{bgcolor:"rgba(244, 67, 54, 0.9)",color:"white",backdropFilter:"blur(4px)","&:hover":{bgcolor:"rgba(211, 47, 47, 1)"},width:32,height:32},children:c.jsx(xa,{sx:{fontSize:"1rem"}})}),e[63]=K,e[64]=v,e[65]=o,e[66]=De):De=e[66];let Xe;e[67]!==Le||e[68]!==De?(Xe=c.jsxs(J,{sx:Pe,children:[Le,De]}),e[67]=Le,e[68]=De,e[69]=Xe):Xe=e[69];let ke;e[70]!==n.prompt||e[71]!==v?(ke=n.prompt&&v&&c.jsx(J,{sx:{position:"absolute",bottom:0,left:0,right:0,zIndex:1,bgcolor:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(4px)",p:1,maxHeight:"80px",overflow:"hidden"},children:c.jsx(re,{variant:"caption",sx:{color:"white",fontSize:"0.7rem",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:n.prompt})}),e[70]=n.prompt,e[71]=v,e[72]=ke):ke=e[72];let Ie;e[73]!==n.height||e[74]!==n.width?(Ie=n.width&&n.height&&c.jsx(J,{sx:{position:"absolute",bottom:8,left:8,zIndex:1},children:c.jsx(yt,{label:`${n.width}  ${n.height}`,size:"small",sx:{fontSize:"0.65rem",height:"20px",fontWeight:600,bgcolor:"rgba(0, 0, 0, 0.65)",color:"white",backdropFilter:"blur(4px)"}})}),e[73]=n.height,e[74]=n.width,e[75]=Ie):Ie=e[75];let ye;return e[76]!==ee||e[77]!==ve||e[78]!==me||e[79]!==le||e[80]!==Ne||e[81]!==Xe||e[82]!==ke||e[83]!==Ie?(ye=c.jsxs(gr,{ref:T,onClick:ee,onMouseEnter:pe,onMouseLeave:ge,sx:ve,children:[me,le,Ne,Xe,ke,Ie]}),e[76]=ee,e[77]=ve,e[78]=me,e[79]=le,e[80]=Ne,e[81]=Xe,e[82]=ke,e[83]=Ie,e[84]=ye):ye=e[84],ye};function Z$e(t){return t&&(t.startsWith("http://")||t.startsWith("https://"))}const xee=({serviceType:t,workflowId:e,refreshKey:n})=>{const{t:r}=$t(),[a,i]=A.useState([]),[s,o]=A.useState([]),[l,u]=A.useState(!0),[d,h]=A.useState(!0),[m,y]=A.useState(1),[x,v]=A.useState(!1),[_,C]=A.useState(0),[w,T]=A.useState(new Set),[E,I]=A.useState(null),[j,O]=A.useState(!1),[L,N]=A.useState(!1),[M,H]=A.useState(!1),[P,$]=A.useState(0),D=50,U={default:3,1536:3,1200:3,900:2,600:2};A.useEffect(()=>{console.log(" [GenerationHistory] useEffect triggered - refreshKey:",n,"localRefreshKey:",P,"serviceType:",t,"workflowId:",e),(async()=>{try{console.log(" [GenerationHistory] Loading history..."),u(!0),y(1);const he=P>0||n!==void 0&&n>0;let ve;e?(console.log(" [GenerationHistory] Fetching by workflow:",e,"bustCache:",he),ve=await vd.getByWorkflow(e,{limit:D,offset:0,bustCache:he})):(console.log(" [GenerationHistory] Fetching all for serviceType:",t,"bustCache:",he),ve=await vd.getAll({service_type:t,limit:D,offset:0,bustCache:he}));const me=ve.records||[];console.log(" [GenerationHistory] Fetched",me.length,"records"),console.log(" [GenerationHistory] Record IDs:",me.map(Se=>`${Se.id}:${Se.generation_status}`).join(", ")),h(me.length>=D);const le=UB(me);i([...me]),o([...le]),console.log(" [GenerationHistory] State updated with new records"),console.log(" [GenerationHistory] Component should re-render now with",le.length,"items")}catch(he){console.error(" [GenerationHistory] Failed to load generation history:",he),h(!1)}finally{u(!1)}})()},[t,e,n,P]),A.useEffect(()=>{if(m<=1)return;(async()=>{try{u(!0);let he;e?he=await vd.getByWorkflow(e,{limit:D,offset:(m-1)*D}):he=await vd.getAll({service_type:t,limit:D,offset:(m-1)*D});const ve=he.records||[];h(ve.length>=D);const me=UB(ve);i(le=>[...le,...ve]),o(le=>[...le,...me])}catch(he){console.error("Failed to load more generation history:",he),h(!1)}finally{u(!1)}})()},[m,e,t]);const F=A.useCallback(()=>{!l&&d&&y(ue=>ue+1)},[l,d]),W=()=>{console.log(" [GenerationHistory] MANUAL REFRESH CLICKED - Current localRefreshKey:",P),T(new Set),I(null),$(ue=>{const he=ue+1;return console.log(" [GenerationHistory] Setting new localRefreshKey:",he),he})},ee=async ue=>{if(confirm(r("generationHistory:deleteConfirm")))try{await vd.delete(ue),W()}catch(he){console.error("Failed to delete history:",he),alert(r("generationHistory:deleteFailed"))}},Q=ue=>{C(ue),v(!0)},K=ue=>{C(ue)},V=()=>{const ue=new Set(a.map(he=>he.id));T(ue)},Z=()=>{T(new Set),I(null)},q=(ue,he)=>{const ve=a.findIndex(me=>me.id===ue);if(he?.shiftKey&&E!==null){const me=Math.min(E,ve),le=Math.max(E,ve),Se=new Set(w);for(let be=me;be<=le;be++)Se.add(a[be].id);T(Se)}else if(he?.ctrlKey||he?.metaKey){const me=new Set(w);me.has(ue)?me.delete(ue):me.add(ue),T(me),I(ve)}else{const me=new Set(w);me.has(ue)?me.delete(ue):me.add(ue),T(me),I(ve)}},te=async()=>{if(w.size!==0)try{await Promise.all(Array.from(w).map(ue=>vd.delete(ue))),T(new Set),I(null),O(!1),W()}catch(ue){console.error("Failed to delete histories:",ue),alert(r("generationHistory:bulkDeleteFailed"))}},ae=()=>{O(!0)},ie=()=>{O(!1)},ce=async()=>{H(!0);try{const ue=await vd.cleanupFailed(!1);N(!1),W(),ue.deleted>0?alert(r("generationHistory:cleanupSuccess",{count:ue.deleted})):alert(r("generationHistory:noFailedRecords"))}catch(ue){console.error("Failed to cleanup failed records:",ue),alert(r("generationHistory:cleanupFailed"))}finally{H(!1)}},pe=()=>{N(!0)},ge=()=>{N(!1)},oe=a.filter(ue=>ue.generation_status==="failed").length;return l&&s.length===0?c.jsx(J,{sx:{width:"100%",p:2},children:c.jsx(J,{sx:{textAlign:"center",py:8},children:c.jsx(re,{variant:"h6",color:"text.secondary",children:r("generationHistory:loading")})})}):s.length===0?c.jsx(J,{sx:{width:"100%",p:2},children:c.jsxs(J,{sx:{textAlign:"center",py:8},children:[c.jsx(re,{variant:"h6",color:"text.secondary",children:r("generationHistory:noHistory")}),c.jsx(re,{variant:"body2",color:"text.secondary",sx:{mt:1},children:r("generationHistory:noHistoryDescription")})]})}):c.jsxs(J,{sx:{width:"100%",p:2},children:[c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[c.jsxs(re,{variant:"h6",sx:{fontWeight:600},children:[r("generationHistory:title")," (",s.length,")"]}),c.jsxs(J,{sx:{display:"flex",gap:1},children:[oe>0&&c.jsxs(Ke,{variant:"outlined",size:"small",color:"warning",startIcon:c.jsx(ORe,{}),onClick:pe,sx:{textTransform:"none"},children:[r("generationHistory:cleanupFailed")," (",oe,")"]}),c.jsx(Ke,{variant:"outlined",size:"small",startIcon:c.jsx(wo,{}),onClick:W,sx:{textTransform:"none"},children:r("common:refresh")})]})]}),w.size>0&&c.jsxs(J,{sx:{display:"flex",alignItems:"center",gap:1,mb:2,p:1.5,bgcolor:"action.hover",borderRadius:1},children:[c.jsxs(re,{variant:"body2",sx:{fontWeight:600,mr:1},children:[w.size," "]}),c.jsx(Ke,{size:"small",startIcon:c.jsx(aQ,{}),onClick:V,disabled:w.size===a.length,children:" "}),c.jsx(Ke,{size:"small",startIcon:c.jsx(XX,{}),onClick:Z,children:" "}),c.jsx(J,{sx:{flex:1}}),c.jsxs(Ke,{size:"small",variant:"contained",color:"error",startIcon:c.jsx(xa,{}),onClick:ae,children:["  (",w.size,")"]})]}),c.jsx(uQ,{dataLength:s.length,next:F,hasMore:d,loader:c.jsx(J,{sx:{mt:2,width:"100%"},children:c.jsx(J,{sx:{textAlign:"center",py:2},children:c.jsx(re,{variant:"body2",color:"text.secondary",children:r("generationHistory:loadingMore")})})}),endMessage:c.jsx(J,{sx:{textAlign:"center",py:4,mt:2},children:c.jsx(re,{variant:"body2",color:"text.secondary",children:r("generationHistory:allLoaded")})}),scrollThreshold:.8,style:{overflow:"visible"},children:c.jsx(gC,{breakpointCols:U,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:s.map((ue,he)=>{const ve=a[he];return c.jsx(Q$e,{image:ue,onClick:()=>Q(he),generationStatus:ve.generation_status,serviceType:ve.service_type,onDelete:()=>ee(ve.id),selectable:!0,selected:w.has(ve.id),onSelectionChange:(me,le)=>q(ve.id,le)},ue.file_id?`file-${ue.file_id}-${n||0}-${P}`:`hash-${ue.composite_hash}-${he}-${n||0}-${P}`)})})}),c.jsx(W5,{open:x,onClose:()=>v(!1),image:s[_]||null,images:s,currentIndex:_,onImageChange:K,isHistoryContext:!0,historyRecord:a[_]}),c.jsxs(or,{open:j,onClose:ie,maxWidth:"xs",fullWidth:!0,children:[c.jsx(pr,{children:"  "}),c.jsx(hr,{children:c.jsxs(Dp,{children:[" ",w.size,"  ?",c.jsx("br",{}),"    ."]})}),c.jsxs(yr,{children:[c.jsx(Ke,{onClick:ie,children:r("common:actions.cancel")}),c.jsx(Ke,{onClick:te,color:"error",variant:"contained",children:""})]})]}),c.jsxs(or,{open:L,onClose:ge,maxWidth:"xs",fullWidth:!0,children:[c.jsx(pr,{children:r("generationHistory:cleanupFailedTitle")}),c.jsx(hr,{children:c.jsxs(Dp,{children:[r("generationHistory:cleanupFailedConfirm",{count:oe}),c.jsx("br",{}),c.jsx("br",{}),r("generationHistory:cleanupFailedNote")]})}),c.jsxs(yr,{children:[c.jsx(Ke,{onClick:ge,disabled:M,children:r("common:actions.cancel")}),c.jsx(Ke,{onClick:ce,color:"warning",variant:"contained",disabled:M,children:r(M?"generationHistory:cleaning":"generationHistory:cleanup")})]})]})]})};function J$e(){const t=bt.c(9),[e,n]=A.useState(r);function r(){try{const l=localStorage.getItem(BB);if(l){const u=JSON.parse(l),{prompt:d,negative_prompt:h,...m}=u;return{...HB,...m,prompt:"",negative_prompt:""}}}catch(l){console.error("Failed to load saved params:",l)}return{...HB}}let a,i;t[0]!==e?(a=()=>{try{const{prompt:l,negative_prompt:u,...d}=e;localStorage.setItem(BB,JSON.stringify(d))}catch(l){console.error("Failed to save params:",l)}},i=[e],t[0]=e,t[1]=a,t[2]=i):(a=t[1],i=t[2]),A.useEffect(a,i);let s;t[3]!==n?(s=(l,u)=>{n(d=>({...d,[l]:u}))},t[3]=n,t[4]=s):s=t[4];let o;return t[5]!==e||t[6]!==n||t[7]!==s?(o={params:e,setParams:n,updateParam:s},t[5]=e,t[6]=n,t[7]=s,t[8]=o):o=t[8],o}function eGe(){const[t,e]=A.useState(null),[n,r]=A.useState(null),[a,i]=A.useState(!1);A.useEffect(()=>{try{const u=localStorage.getItem(i6);if(u){const d=parseInt(u);e(d),s(d)}}catch(u){console.error("Failed to load saved group:",u)}},[]),A.useEffect(()=>{t!==null?localStorage.setItem(i6,t.toString()):localStorage.removeItem(i6)},[t]);const s=async u=>{try{const d=await Tt.get(`/api/groups/${u}`);d.data.success&&r(d.data.data)}catch(d){console.error("Failed to load group info:",d),e(null),r(null)}};return{selectedGroupId:t,selectedGroup:n,groupModalOpen:a,setGroupModalOpen:i,handleGroupSelect:async u=>{e(u),await s(u),i(!1)},handleRemoveGroup:()=>{e(null),r(null)}}}function tGe({onExecute:t,onComplete:e}){const[n,r]=A.useState({enabled:!1,count:3,delaySeconds:5}),[a,i]=A.useState({isRunning:!1,currentIteration:0,totalIterations:0}),[s,o]=A.useState(null),l=A.useRef(a),u=A.useRef(n);A.useEffect(()=>{l.current=a},[a]),A.useEffect(()=>{u.current=n},[n]);const d=async y=>{const x=l.current,v=u.current;if(y>=100){console.warn("[Repeat] Maximum safe iterations reached (100)"),m();return}const C=x.totalIterations;if(C!==-1&&y>=C){console.log("[Repeat] All iterations completed",{iteration:y,totalIterations:C}),m(),e&&e();return}if(!x.isRunning){console.log("[Repeat] Stopped by user",{currentState:x});return}console.log("[Repeat] Starting iteration",{current:y+1,total:C===-1?"infinite":C,isRunning:x.isRunning}),i(w=>({...w,currentIteration:y}));try{await t(y);const w=l.current,T=y+1,E=C===-1||T<C;if(E&&w.isRunning){console.log("[Repeat] Scheduling next iteration after delay",{delaySeconds:v.delaySeconds,nextIteration:T});const I=window.setTimeout(()=>{d(T)},v.delaySeconds*1e3);o(I)}else console.log("[Repeat] Finished all iterations",{shouldContinue:E,isRunning:w.isRunning}),m(),e&&e()}catch(w){throw console.error("[Repeat] Error during iteration",{iteration:y,error:w}),m(),w}},h=()=>{n.enabled&&!a.isRunning&&(console.log("[Repeat] Initializing repeat execution",{enabled:n.enabled,isRunning:a.isRunning,count:n.count}),i({isRunning:!0,currentIteration:0,totalIterations:n.count===-1?-1:n.count}),setTimeout(()=>{console.log("[Repeat] Executing first cycle"),d(0)},100))},m=()=>{s&&(clearTimeout(s),o(null)),i({isRunning:!1,currentIteration:0,totalIterations:0})};return{repeatConfig:n,repeatState:a,setRepeatConfig:r,startRepeat:h,stopRepeat:m,isRepeatMode:n.enabled}}const nGe="http://localhost:1566/api",bd=en.create({baseURL:nGe,withCredentials:!0}),Ad={getAllWildcards:async(t=!0)=>(await bd.get("/wildcards",{params:{withItems:t}})).data,getWildcard:async t=>(await bd.get(`/wildcards/${t}`)).data,createWildcard:async t=>(await bd.post("/wildcards",t)).data,updateWildcard:async(t,e)=>(await bd.put(`/wildcards/${t}`,e)).data,deleteWildcard:async t=>(await bd.delete(`/wildcards/${t}`)).data,parseWildcards:async t=>(await bd.post("/wildcards/parse",t)).data,getStatistics:async()=>(await bd.get("/wildcards/stats/summary")).data,checkCircularReference:async t=>(await bd.get(`/wildcards/${t}/circular-check`)).data,scanLoraFolder:async t=>(await bd.post("/wildcards/scan-lora-folder",t)).data,getLastScanLog:async()=>(await bd.get("/wildcards/last-scan-log")).data};let a4=null,$B=0;const rGe=6e4;async function aGe(){const t=Date.now();if(a4&&t-$B<rGe)return a4;try{return a4=(await Ad.getAllWildcards(!0)).data||[],$B=t,a4}catch(e){return console.error("Failed to load wildcards:",e),[]}}function vee(t){const e=/\(([^,)]+),\s*([\d.,\s-]+)\)/g;return t.replace(e,(n,r,a)=>{const i=a.split(",").map(o=>o.trim()).filter(o=>o.length>0&&!isNaN(parseFloat(o)));if(i.length===0)return n;const s=i[Math.floor(Math.random()*i.length)];return`(${r.trim()}:${s})`})}function See(t){const e=/\(([^,)]+),\s*([-\d.]+)~([-\d.]+),\s*([\d.]+)\)/g;return t.replace(e,(n,r,a,i,s)=>{const o=parseFloat(a),l=parseFloat(i),u=parseFloat(s);if(isNaN(o)||isNaN(l)||isNaN(u)||u<=0||o>=l)return console.warn(`[Weight] Invalid range syntax: ${n}`),n;const d=[];for(let m=o;m<=l;m=parseFloat((m+u).toFixed(10)))d.push(parseFloat(m.toFixed(2)));if(d.length===0)return n;const h=d[Math.floor(Math.random()*d.length)];return`(${r.trim()}:${h})`})}function iGe(t){const e=/\((\+\+[^+]+\+\+):[\d.]+\)/g;return t.replace(e,"$1")}function sGe(t,e){const n=/\+\+([^+]+)\+\+/g;return t.replace(n,(r,a)=>{const i=e.get(a);return!i||!i.items||i.items.length===0?(console.warn(`[Wildcard] Removing invalid wildcard: ${a}`),""):r})}function _ee(t,e,n,r){const a=/\+\+([^+]+)\+\+/g;let i=t.replace(a,(s,o)=>{if(r.has(o))return console.warn(`[Wildcard] Circular reference detected: ${o}`),s;const l=e.get(o);if(!l||!l.items||l.items.length===0)return console.warn(`[Wildcard] Not found or empty: ${o}`),s;const u=l.items.filter(y=>y.tool===n);if(u.length===0)return console.warn(`[Wildcard] No items for '${o}' with tool '${n}'`),s;const d=Math.floor(Math.random()*u.length),h=u[d];r.add(o);const m=_ee(h.content,e,n,r);return r.delete(o),m});return i=See(i),i=vee(i),i}async function KI(t,e){if(!t)return t;const n=await aGe(),r=new Map;n.forEach(s=>r.set(s.name,s));let a=iGe(t);a.includes("++")&&(a=sGe(a,r));let i=a;return a.includes("++")?i=_ee(a,r,e,new Set):(i=See(a),i=vee(i)),i=i.replace(/\s+/g," ").trim(),i!==t&&console.log(`[Wildcard] Parsed (${e}):`,{original:t.substring(0,80),parsed:i.substring(0,80)}),i}async function XI(t,e){if(typeof t=="string")return await KI(t,e);if(Array.isArray(t))return Promise.all(t.map(n=>XI(n,e)));if(t&&typeof t=="object"){const n={};for(const r in t)n[r]=await XI(t[r],e);return n}return t}function oGe(t){const{width:e,height:n,steps:r,n_samples:a,uncond_scale:i,strength:s=1}=t;let o=Math.max(e*n,65536);const l=832*1216,u=1024*1024;o>l&&o<=u&&(o=l);let h=Math.ceil(2951823174884865e-36*o+5753298233447344e-22*o*r)*1;return h=Math.max(Math.ceil(h*s),2),i!==1&&(h=Math.ceil(h*1.3)),h*a}function lGe({token:t,onLogout:e,onGenerationComplete:n}){const{t:r}=$t(["imageGeneration"]),[a,i]=A.useState(!1),[s,o]=A.useState(null),[l,u]=A.useState(null),[d,h]=A.useState(0),m=async()=>{if(t)try{const _=await Tt.get("/api/nai/user/data",{headers:{Authorization:`Bearer ${t}`}});u(_.data)}catch(_){console.error("[NAI] Failed to fetch user data:",_)}};A.useEffect(()=>{t&&m()},[t]);const y=async _=>(console.log(`[NAI] Starting upload completion polling for ${_.length} images...`),new Promise(T=>{let E=0,I=null;const j=async()=>{E++;try{const O=await Promise.all(_.map(async N=>{try{const M=await vd.getById(N,!0);if(console.log(`[NAI] History ${N} response:`,{success:M.success,hasRecord:!!M.record,status:M.record?.generation_status}),!M||!M.record)return console.error(`[NAI] Invalid response for history ${N}:`,M),!1;const H=M.record.generation_status,P=H==="completed";return console.log(`[NAI] History ${N}: status="${H}", completed=${P}`),P}catch(M){return console.error(`[NAI] Failed to check history ${N}:`,M),!1}})),L=O.filter(N=>N).length;if(console.log(`[NAI] Polling ${E}/30: ${L}/${O.length} completed`),O.every(N=>N)){console.log("[NAI] All images saved! Refreshing history..."),I&&clearTimeout(I),h(N=>{const M=N+1;return console.log(`[NAI] historyRefreshKey: ${N}  ${M}`),setTimeout(()=>T(),0),M});return}if(E>=30){console.warn("[NAI] Polling timeout. Forcing refresh..."),I&&clearTimeout(I),h(N=>{const M=N+1;return setTimeout(()=>T(),0),M});return}I=setTimeout(j,500)}catch(O){if(console.error("[NAI] Completion check failed:",O),E>=30){I&&clearTimeout(I),h(L=>L+1),T();return}I=setTimeout(j,500)}};j()})),x=async(_,C)=>{i(!0),o(null);try{const w=dw[_.resolution],T=await KI(_.prompt,"nai"),E=_.negative_prompt?await KI(_.negative_prompt,"nai"):_.negative_prompt,I=await fI.generateImage(t,{..._,prompt:T,negative_prompt:E,width:w.width,height:w.height,model:_.model,cfg_rescale:_.cfg_rescale,noise_schedule:_.noise_schedule,uncond_scale:_.uncond_scale,groupId:C||void 0});return I.historyIds&&I.historyIds.length>0&&(m(),y(I.historyIds),n&&n(I.historyIds)),I}catch(w){if(w.response?.status===401)return e(),null;throw w.response?.status===402?o(r("imageGeneration:nai.generate.subscriptionRequired")):o(w.response?.data?.error||w.response?.data?.details||r("imageGeneration:nai.generate.error")),w}finally{i(!1)}},v=A.useCallback(oGe,[]);return{generating:a,error:s,userData:l,historyRefreshKey:d,setError:o,executeSingleGeneration:x,fetchUserData:m,calculateCost:v}}function cGe(t){const e=bt.c(118),{token:n,onLogout:r}=t;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=["imageGeneration"],e[0]=a):a=e[0];const{t:i}=$t(a),{params:s,setParams:o}=J$e(),{selectedGroupId:l,selectedGroup:u,groupModalOpen:d,setGroupModalOpen:h,handleGroupSelect:m,handleRemoveGroup:y}=eGe();let x;e[1]!==r||e[2]!==n?(x={token:n,onLogout:r},e[1]=r,e[2]=n,e[3]=x):x=e[3];const{generating:v,error:_,userData:C,historyRefreshKey:w,executeSingleGeneration:T,calculateCost:E}=lGe(x);let I;e[4]!==T||e[5]!==s||e[6]!==l?(I={onExecute:async()=>{await T(s,l)}},e[4]=T,e[5]=s,e[6]=l,e[7]=I):I=e[7];const{repeatConfig:j,repeatState:O,setRepeatConfig:L,startRepeat:N,stopRepeat:M,isRepeatMode:H}=tGe(I);let P;e:{if(!C){let bn;e[8]===Symbol.for("react.memo_cache_sentinel")?(bn={cost:0,balance:0,canGenerate:!1,buttonText:""},e[8]=bn):bn=e[8],P=bn;break e}const Je=dw[s.resolution];let Ge;e[9]!==E||e[10]!==s.n_samples||e[11]!==s.steps||e[12]!==s.uncond_scale||e[13]!==Je.height||e[14]!==Je.width?(Ge=E({width:Je.width,height:Je.height,steps:s.steps,n_samples:s.n_samples,uncond_scale:s.uncond_scale}),e[9]=E,e[10]=s.n_samples,e[11]=s.steps,e[12]=s.uncond_scale,e[13]=Je.height,e[14]=Je.width,e[15]=Ge):Ge=e[15];const it=Ge,rt=C.anlasBalance,st=rt>=it;let ft;e[16]!==rt||e[17]!==st||e[18]!==it?(ft=st?` (: ${it} / : ${rt.toLocaleString()})`:" ( )",e[16]=rt,e[17]=st,e[18]=it,e[19]=ft):ft=e[19];const qt=ft;let Gt;e[20]!==rt||e[21]!==qt||e[22]!==st||e[23]!==it?(Gt={cost:it,balance:rt,canGenerate:st,buttonText:qt},e[20]=rt,e[21]=qt,e[22]=st,e[23]=it,e[24]=Gt):Gt=e[24],P=Gt}const $=P;let D;e[25]!==T||e[26]!==H||e[27]!==s||e[28]!==j||e[29]!==O||e[30]!==l||e[31]!==N?(D=async Je=>{if(Je&&Je.preventDefault(),console.log("[NAI Generate] Button clicked",{repeatConfig:j,repeatState:O,isRepeatMode:H}),H&&!O.isRunning){console.log("[NAI Repeat] Starting repeat mode"),N();return}H||(console.log("[NAI Generate] Single execution mode"),await T(s,l))},e[25]=T,e[26]=H,e[27]=s,e[28]=j,e[29]=O,e[30]=l,e[31]=N,e[32]=D):D=e[32];const U=D;let F;e[33]===Symbol.for("react.memo_cache_sentinel")?(F={mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},e[33]=F):F=e[33];let W;e[34]!==i?(W=i("imageGeneration:nai.generate.title"),e[34]=i,e[35]=W):W=e[35];let ee;e[36]!==W?(ee=c.jsx(re,{variant:"h6",children:W}),e[36]=W,e[37]=ee):ee=e[37];let Q;e[38]===Symbol.for("react.memo_cache_sentinel")?(Q={display:"flex",gap:2,alignItems:"center"},e[38]=Q):Q=e[38];let K;e[39]!==n?(K=c.jsx(z$e,{token:n}),e[39]=n,e[40]=K):K=e[40];let V;e[41]!==i?(V=i("imageGeneration:nai.generate.logout"),e[41]=i,e[42]=V):V=e[42];let Z;e[43]!==r||e[44]!==V?(Z=c.jsx(Ke,{variant:"outlined",onClick:r,children:V}),e[43]=r,e[44]=V,e[45]=Z):Z=e[45];let q;e[46]!==K||e[47]!==Z?(q=c.jsxs(J,{sx:Q,children:[K,Z]}),e[46]=K,e[47]=Z,e[48]=q):q=e[48];let te;e[49]!==q||e[50]!==ee?(te=c.jsxs(J,{sx:F,children:[ee,q]}),e[49]=q,e[50]=ee,e[51]=te):te=e[51];let ae;e[52]!==_?(ae=_&&c.jsx(St,{severity:"error",sx:{mb:2},children:_}),e[52]=_,e[53]=ae):ae=e[53];let ie;e[54]===Symbol.for("react.memo_cache_sentinel")?(ie={xs:12,lg:4},e[54]=ie):ie=e[54];let ce;e[55]===Symbol.for("react.memo_cache_sentinel")?(ce={display:"flex",flexDirection:"column",gap:3},e[55]=ce):ce=e[55];const pe=v||!s.prompt||!!C&&!$.canGenerate;let ge;e[56]!==v?(ge=v?c.jsx(Kt,{size:20}):c.jsx(Mp,{}),e[56]=v,e[57]=ge):ge=e[57];let oe;e[58]!==$.buttonText||e[59]!==pe||e[60]!==ge?(oe=c.jsx(Ke,{fullWidth:!0,type:"submit",variant:"contained",size:"large",disabled:pe,startIcon:ge,children:$.buttonText}),e[58]=$.buttonText,e[59]=pe,e[60]=ge,e[61]=oe):oe=e[61];let ue,he,ve;e[62]!==v||e[63]!==s||e[64]!==o?(ue=c.jsx(U$e,{params:s,onChange:o,disabled:v}),he=c.jsx(q$e,{params:s,onChange:o,disabled:v}),ve=c.jsx(Y$e,{params:s,onChange:o,disabled:v}),e[62]=v,e[63]=s,e[64]=o,e[65]=ue,e[66]=he,e[67]=ve):(ue=e[65],he=e[66],ve=e[67]);let me;e[68]!==h?(me=()=>h(!0),e[68]=h,e[69]=me):me=e[69];let le;e[70]!==v||e[71]!==y||e[72]!==u||e[73]!==me?(le=c.jsx(K$e,{selectedGroup:u,onOpenModal:me,onRemoveGroup:y,disabled:v}),e[70]=v,e[71]=y,e[72]=u,e[73]=me,e[74]=le):le=e[74];let Se;e[75]===Symbol.for("react.memo_cache_sentinel")?(Se={p:3},e[75]=Se):Se=e[75];let be;e[76]!==j||e[77]!==O||e[78]!==L||e[79]!==M?(be=c.jsx(Yt,{sx:Se,children:c.jsx(bee,{config:j,state:O,onConfigChange:L,onStop:M,namespace:"imageGeneration"})}),e[76]=j,e[77]=O,e[78]=L,e[79]=M,e[80]=be):be=e[80];const Te=v||!s.prompt||!!C&&!$.canGenerate;let Ne;e[81]!==v?(Ne=v?c.jsx(Kt,{size:20}):c.jsx(Mp,{}),e[81]=v,e[82]=Ne):Ne=e[82];const Pe=v?" ...":$.buttonText;let Le;e[83]!==Te||e[84]!==Ne||e[85]!==Pe?(Le=c.jsx(Ke,{fullWidth:!0,type:"submit",variant:"contained",size:"large",disabled:Te,startIcon:Ne,children:Pe}),e[83]=Te,e[84]=Ne,e[85]=Pe,e[86]=Le):Le=e[86];let De;e[87]!==v?(De=v&&c.jsx(Ld,{sx:{mt:1}}),e[87]=v,e[88]=De):De=e[88];let Xe;e[89]!==oe||e[90]!==ue||e[91]!==he||e[92]!==ve||e[93]!==le||e[94]!==be||e[95]!==Le||e[96]!==De?(Xe=c.jsxs(J,{sx:ce,children:[oe,ue,he,ve,le,be,Le,De]}),e[89]=oe,e[90]=ue,e[91]=he,e[92]=ve,e[93]=le,e[94]=be,e[95]=Le,e[96]=De,e[97]=Xe):Xe=e[97];let ke;e[98]!==U||e[99]!==Xe?(ke=c.jsx(gn,{size:ie,children:c.jsx("form",{onSubmit:U,children:Xe})}),e[98]=U,e[99]=Xe,e[100]=ke):ke=e[100];let Ie;e[101]===Symbol.for("react.memo_cache_sentinel")?(Ie={xs:12,lg:8},e[101]=Ie):Ie=e[101];let ye;e[102]!==w?(ye=c.jsx(gn,{size:Ie,children:c.jsx(xee,{serviceType:"novelai",refreshKey:w})}),e[102]=w,e[103]=ye):ye=e[103];let Ce;e[104]!==ke||e[105]!==ye?(Ce=c.jsxs(gn,{container:!0,spacing:3,children:[ke,ye]}),e[104]=ke,e[105]=ye,e[106]=Ce):Ce=e[106];let Me;e[107]!==h?(Me=()=>h(!1),e[107]=h,e[108]=Me):Me=e[108];let He;e[109]!==d||e[110]!==m||e[111]!==Me?(He=c.jsx(Y5,{open:d,onClose:Me,selectedImageCount:1,onAssign:m}),e[109]=d,e[110]=m,e[111]=Me,e[112]=He):He=e[112];let Qe;return e[113]!==te||e[114]!==ae||e[115]!==Ce||e[116]!==He?(Qe=c.jsxs(J,{children:[te,ae,Ce,He]}),e[113]=te,e[114]=ae,e[115]=Ce,e[116]=He,e[117]=Qe):Qe=e[117],Qe}function uGe(){const t=bt.c(7),[e,n]=A.useState(null),[r,a]=A.useState(!1);let i,s;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{const m=localStorage.getItem("nai_token"),y=localStorage.getItem("nai_token_expires");m&&y&&(new Date(y)>new Date?(n(m),a(!0)):(localStorage.removeItem("nai_token"),localStorage.removeItem("nai_token_expires")))},s=[],t[0]=i,t[1]=s):(i=t[0],s=t[1]),A.useEffect(i,s);let o;t[2]===Symbol.for("react.memo_cache_sentinel")?(o=m=>{n(m),a(!0)},t[2]=o):o=t[2];const l=o;let u;t[3]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{localStorage.removeItem("nai_token"),localStorage.removeItem("nai_token_expires"),n(null),a(!1)},t[3]=u):u=t[3];const d=u;if(!r){let m;return t[4]===Symbol.for("react.memo_cache_sentinel")?(m=c.jsx(R$e,{onLoginSuccess:l}),t[4]=m):m=t[4],m}let h;return t[5]!==e?(h=c.jsx(J,{children:c.jsx(cGe,{token:e,onLogout:d})}),t[5]=e,t[6]=h):h=t[6],h}const dGe="http://localhost:1566/api",Yh=en.create({baseURL:dGe,withCredentials:!0}),qm={getAllServers:async(t=!1)=>(await Yh.get("/comfyui-servers",{params:{active:t}})).data,getServer:async t=>(await Yh.get(`/comfyui-servers/${t}`)).data,createServer:async t=>(await Yh.post("/comfyui-servers",t)).data,updateServer:async(t,e)=>(await Yh.put(`/comfyui-servers/${t}`,e)).data,deleteServer:async t=>(await Yh.delete(`/comfyui-servers/${t}`)).data,testConnection:async t=>(await Yh.get(`/comfyui-servers/${t}/test-connection`)).data,testAllConnections:async()=>(await Yh.get("/comfyui-servers/test-all-connections")).data,getServerWorkflows:async t=>(await Yh.get(`/comfyui-servers/${t}/workflows`)).data},fGe="http://localhost:1566/api",Pm=en.create({baseURL:fGe,withCredentials:!0}),Vm={getAllLists:async()=>(await Pm.get("/custom-dropdown-lists")).data,getList:async t=>(await Pm.get(`/custom-dropdown-lists/${t}`)).data,getListByName:async t=>(await Pm.get(`/custom-dropdown-lists/by-name/${encodeURIComponent(t)}`)).data,createList:async t=>(await Pm.post("/custom-dropdown-lists",t)).data,updateList:async(t,e)=>(await Pm.put(`/custom-dropdown-lists/${t}`,e)).data,deleteList:async t=>(await Pm.delete(`/custom-dropdown-lists/${t}`)).data,scanComfyUIModels:async t=>(await Pm.post("/custom-dropdown-lists/scan-comfyui-models",t)).data};function hGe(){const[t,e]=A.useState([]),[n,r]=A.useState(!0),[a,i]=A.useState(null),[s,o]=A.useState(0),[l,u]=A.useState(!1),[d,h]=A.useState(null),[m,y]=A.useState(!1),[x,v]=A.useState(null),[_,C]=A.useState(!1),[w,T]=A.useState([]),[E,I]=A.useState(!1),[j,O]=A.useState({checkpoints:!0,unet:!1,upscale_models:!1}),[L,N]=A.useState({name:"",description:"",itemsText:""}),M=t.filter(q=>q.is_auto_collected),H=t.filter(q=>!q.is_auto_collected);A.useEffect(()=>{P()},[]);const P=async()=>{try{r(!0);const q=await Vm.getAllLists();e(q.data||[])}catch(q){i(q.message)}finally{r(!1)}},$=q=>{q?(h(q),N({name:q.name,description:q.description||"",itemsText:q.items.join(`
`)})):(h(null),N({name:"",description:"",itemsText:""})),u(!0)},D=()=>{u(!1),h(null),i(null)},U=q=>{v(q),y(!0)},F=()=>{y(!1),v(null)},W=async()=>{try{const q=L.itemsText.split(`
`).map(ae=>ae.trim()).filter(ae=>ae.length>0);if(q.length===0){i(" 1   .");return}const te={name:L.name,description:L.description||void 0,items:q};d?await Vm.updateList(d.id,te):await Vm.createList(te),D(),P()}catch(q){i(q.response?.data?.error||q.message)}},ee=async q=>{if(confirm("   ?"))try{await Vm.deleteList(q),P()}catch(te){i(te.message)}},Q=()=>{T([]),C(!0)},K=()=>{C(!1),T([]),i(null)},V=async q=>{const te=q.target.files;if(!te||te.length===0)return;i(null);const ae=[".safetensors",".ckpt",".pt",".pth",".bin"],ie=["checkpoints","unet","upscale_models"],ce=new Map;for(let ge=0;ge<te.length;ge++){const oe=te[ge],ue=oe.webkitRelativePath.split("/"),he="."+oe.name.split(".").pop()?.toLowerCase();if(!ae.includes(he)||ue.length<2)continue;const ve=ue[1];if(!ie.includes(ve))continue;const me=ue.slice(2,-1).join("/"),le=me?`${ve}/${me}`:ve;ce.has(le)||ce.set(le,[]);const be=(j[ve]??!1)&&me?`${me}/${oe.name}`:oe.name;ce.get(le).push(be)}const pe=Array.from(ce.entries()).map(([ge,oe])=>({folderName:ge.split("/")[0],displayName:ge,files:oe.sort()}));T(pe)},Z=async()=>{if(w.length===0){i("  .");return}try{I(!0),i(null);const q=await Vm.scanComfyUIModels({modelFolders:w,sourcePath:"client-selected"});q.success&&q.data&&(K(),P(),o(0),alert(q.data.message))}catch(q){i(q.response?.data?.error||q.message)}finally{I(!1)}};return c.jsxs(J,{children:[c.jsxs(J,{sx:{mb:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs(re,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(VRe,{}),"   "]}),c.jsxs(J,{sx:{display:"flex",gap:1},children:[c.jsx(Ke,{variant:"outlined",size:"small",startIcon:c.jsx(hv,{}),onClick:Q,color:"secondary",children:"ComfyUI  "}),s===1&&c.jsx(Ke,{variant:"outlined",size:"small",startIcon:c.jsx(Gs,{}),onClick:()=>$(),children:"  "})]})]}),a&&c.jsx(St,{severity:"error",sx:{mb:2},onClose:()=>i(null),children:a}),c.jsxs(il,{value:s,onChange:(q,te)=>o(te),sx:{mb:2,borderBottom:1,borderColor:"divider"},children:[c.jsx(Gn,{icon:c.jsx(iQ,{}),iconPosition:"start",label:c.jsx(uL,{badgeContent:M.length,color:"primary",max:999,children:c.jsx(J,{sx:{mr:2},children:" "})})}),c.jsx(Gn,{icon:c.jsx(QRe,{}),iconPosition:"start",label:c.jsx(uL,{badgeContent:H.length,color:"secondary",max:999,children:c.jsx(J,{sx:{mr:2},children:" "})})})]}),n?c.jsx(J,{display:"flex",justifyContent:"center",p:3,children:c.jsx(Kt,{size:30})}):c.jsxs(c.Fragment,{children:[s===0&&(M.length===0?c.jsx(gr,{children:c.jsx(Ba,{children:c.jsx(re,{variant:"body2",color:"text.secondary",align:"center",children:'   . "ComfyUI  "    .'})})}):c.jsx(J,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},gap:1.5},children:M.map(q=>c.jsxs(gr,{sx:{height:"100%",borderLeft:3,borderColor:"primary.main"},children:[c.jsx(Ba,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:c.jsxs(un,{spacing:1,children:[c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[c.jsx(re,{variant:"subtitle2",sx:{fontWeight:600,fontSize:"0.9rem",flex:1},children:q.name}),c.jsxs(J,{sx:{display:"flex",gap:.5,alignItems:"center"},children:[c.jsx(yt,{label:"",size:"small",color:"primary",sx:{height:"18px",fontSize:"0.65rem"}}),c.jsx(yt,{label:`${q.items.length}`,size:"small",color:"default",sx:{height:"18px",fontSize:"0.65rem"}})]})]}),q.source_path&&c.jsxs(re,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem",wordBreak:"break-all"},children:[" ",q.source_path]}),q.description&&c.jsx(re,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:q.description}),c.jsxs(J,{sx:{display:"flex",flexWrap:"wrap",gap:.5,userSelect:"text"},children:[q.items.slice(0,3).map((te,ae)=>c.jsx(yt,{label:te,size:"small",variant:"outlined",sx:{height:"20px",fontSize:"0.7rem",cursor:"text"}},ae)),q.items.length>3&&c.jsx(yt,{label:`+${q.items.length-3}`,size:"small",variant:"outlined",sx:{height:"20px",fontSize:"0.7rem"}})]})]})}),c.jsxs(Vk,{sx:{p:1,pt:0,justifyContent:"flex-end"},children:[c.jsx(Xt,{title:" ",children:c.jsx(ht,{size:"small",onClick:()=>U(q),sx:{p:.5},children:c.jsx(N5,{sx:{fontSize:"1rem"}})})}),c.jsx(ht,{size:"small",color:"error",onClick:()=>ee(q.id),sx:{p:.5},children:c.jsx(xa,{sx:{fontSize:"1rem"}})})]})]},q.id))})),s===1&&(H.length===0?c.jsx(gr,{children:c.jsx(Ba,{children:c.jsx(re,{variant:"body2",color:"text.secondary",align:"center",children:'   . "  "    .'})})}):c.jsx(J,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},gap:1.5},children:H.map(q=>c.jsxs(gr,{sx:{height:"100%"},children:[c.jsx(Ba,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:c.jsxs(un,{spacing:1,children:[c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[c.jsx(re,{variant:"subtitle2",sx:{fontWeight:600,fontSize:"0.9rem"},children:q.name}),c.jsx(yt,{label:`${q.items.length}`,size:"small",color:"secondary",sx:{height:"18px",fontSize:"0.7rem"}})]}),q.description&&c.jsx(re,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:q.description}),c.jsxs(J,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:[q.items.slice(0,3).map((te,ae)=>c.jsx(yt,{label:te,size:"small",variant:"outlined",sx:{height:"20px",fontSize:"0.7rem"}},ae)),q.items.length>3&&c.jsx(yt,{label:`+${q.items.length-3}`,size:"small",variant:"outlined",sx:{height:"20px",fontSize:"0.7rem"}})]})]})}),c.jsxs(Vk,{sx:{p:1,pt:0,justifyContent:"flex-end"},children:[c.jsx(ht,{size:"small",onClick:()=>$(q),sx:{p:.5},children:c.jsx(zd,{sx:{fontSize:"1rem"}})}),c.jsx(ht,{size:"small",color:"error",onClick:()=>ee(q.id),sx:{p:.5},children:c.jsx(xa,{sx:{fontSize:"1rem"}})})]})]},q.id))}))]}),c.jsxs(or,{open:m,onClose:F,maxWidth:"md",fullWidth:!0,children:[c.jsx(pr,{children:"  ( )"}),c.jsx(hr,{children:x&&c.jsxs(J,{sx:{display:"flex",flexDirection:"column",gap:2,pt:1},children:[c.jsx(St,{severity:"info",sx:{fontSize:"0.85rem"},children:"     .     ."}),c.jsx(jt,{label:" ",fullWidth:!0,value:x.name,InputProps:{readOnly:!0}}),x.description&&c.jsx(jt,{label:"",fullWidth:!0,multiline:!0,rows:2,value:x.description,InputProps:{readOnly:!0}}),x.source_path&&c.jsx(jt,{label:"",fullWidth:!0,value:x.source_path,InputProps:{readOnly:!0}}),c.jsxs(J,{children:[c.jsxs(re,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:["  (",x.items.length,")"]}),c.jsx(jt,{fullWidth:!0,multiline:!0,rows:15,value:x.items.join(`
`),InputProps:{readOnly:!0},sx:{"& .MuiInputBase-input":{fontFamily:"monospace",fontSize:"0.9rem"}}})]})]})}),c.jsx(yr,{children:c.jsx(Ke,{onClick:F,variant:"contained",children:""})})]}),c.jsxs(or,{open:l,onClose:D,maxWidth:"md",fullWidth:!0,children:[c.jsx(pr,{children:d?"  ":"   "}),c.jsxs(hr,{children:[a&&c.jsx(St,{severity:"error",sx:{mb:2},children:a}),c.jsxs(J,{sx:{display:"flex",flexDirection:"column",gap:2,pt:1},children:[c.jsx(jt,{autoFocus:!0,label:"  *",fullWidth:!0,value:L.name,onChange:q=>N({...L,name:q.target.value})}),c.jsx(jt,{label:"",fullWidth:!0,multiline:!0,rows:2,value:L.description,onChange:q=>N({...L,description:q.target.value})}),c.jsx(jt,{label:"  (   ) *",fullWidth:!0,multiline:!0,rows:10,value:L.itemsText,onChange:q=>N({...L,itemsText:q.target.value}),placeholder:`:
SDXL 1.0
SD 1.5
Realistic Vision
DreamShaper`,helperText:"    "})]})]}),c.jsxs(yr,{children:[c.jsx(Ke,{onClick:D,children:""}),c.jsx(Ke,{onClick:W,variant:"contained",disabled:!L.name.trim()||!L.itemsText.trim(),children:d?"":""})]})]}),c.jsxs(or,{open:_,onClose:K,maxWidth:"md",fullWidth:!0,children:[c.jsx(pr,{children:"ComfyUI  "}),c.jsxs(hr,{children:[a&&c.jsx(St,{severity:"error",sx:{mb:2},children:a}),c.jsxs(J,{sx:{display:"flex",flexDirection:"column",gap:2,pt:1},children:[c.jsxs(St,{severity:"info",sx:{fontSize:"0.85rem"},children:["ComfyUI models  .",c.jsx("br",{}),"    ComfyUI ",c.jsx("strong",{children:"models"}),"  ."]}),c.jsxs(Ke,{variant:"contained",startIcon:c.jsx(wu,{}),component:"label",fullWidth:!0,size:"large",children:["models  ",c.jsx("input",{type:"file",hidden:!0,webkitdirectory:"",directory:"",onChange:V})]}),w.length>0&&c.jsxs(c.Fragment,{children:[c.jsxs(St,{severity:"success",sx:{fontSize:"0.85rem"},children:[c.jsxs("strong",{children:[w.length," "]}),"   :",c.jsxs(J,{component:"ul",sx:{mt:1,mb:0,pl:2},children:[w.slice(0,5).map((q,te)=>c.jsxs("li",{children:[c.jsx("strong",{children:q.displayName}),": ",q.files.length," "]},te)),w.length>5&&c.jsxs("li",{children:["... ",w.length-5," "]})]})]}),c.jsxs(J,{children:[c.jsx(re,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:" :"}),c.jsxs(kX,{children:[c.jsx(Zn,{control:c.jsx(Bf,{checked:j.checkpoints,onChange:q=>O({...j,checkpoints:q.target.checked})}),label:c.jsxs(J,{children:[c.jsx(re,{variant:"body2",sx:{fontWeight:500},children:"checkpoints -   "}),c.jsx(re,{variant:"caption",color:"text.secondary",children:j.checkpoints?": Illustrious/ETC/model.safetensors":": model.safetensors"})]})}),c.jsx(Zn,{control:c.jsx(Bf,{checked:j.unet,onChange:q=>O({...j,unet:q.target.checked})}),label:c.jsxs(J,{children:[c.jsx(re,{variant:"body2",sx:{fontWeight:500},children:"unet -   "}),c.jsx(re,{variant:"caption",color:"text.secondary",children:j.unet?": subfolder/model.safetensors":": model.safetensors"})]})}),c.jsx(Zn,{control:c.jsx(Bf,{checked:j.upscale_models,onChange:q=>O({...j,upscale_models:q.target.checked})}),label:c.jsxs(J,{children:[c.jsx(re,{variant:"body2",sx:{fontWeight:500},children:"upscale_models -   "}),c.jsx(re,{variant:"caption",color:"text.secondary",children:j.upscale_models?": subfolder/model.pth":": model.pth"})]})})]})]})]}),c.jsxs(St,{severity:"warning",sx:{fontSize:"0.85rem"},children:[c.jsx("strong",{children:" :"}),c.jsx("br",{})," checkpoints, unet, upscale_models   ",c.jsx("br",{}),"     ",c.jsx("strong",{children:" "}),"",c.jsx("br",{}),'    " "    ']})]})]}),c.jsxs(yr,{children:[c.jsx(Ke,{onClick:K,disabled:E,children:""}),c.jsx(Ke,{onClick:Z,variant:"contained",disabled:w.length===0||E,startIcon:E?c.jsx(Kt,{size:16}):c.jsx(hv,{}),children:E?" ...":" "})]})]})]})}function pGe(){const{t}=$t(["workflows","servers","common"]),e=Zf(),[n,r]=A.useState([]),[a,i]=A.useState(!0),[s,o]=A.useState(null),[l,u]=A.useState([]),[d,h]=A.useState(!0),[m,y]=A.useState(null),[x,v]=A.useState(!1),[_,C]=A.useState(null),[w,T]=A.useState(null),[E,I]=A.useState({}),[j,O]=A.useState({name:"",endpoint:"",description:"",is_active:!0});A.useEffect(()=>{L(),M()},[]);const L=async()=>{try{i(!0);const W=await Sp.getAllWorkflows();r(W.data||[])}catch(W){o(W.message)}finally{i(!1)}},N=async W=>{if(confirm(t("workflows:actions.confirmDelete")))try{await Sp.deleteWorkflow(W),L()}catch(ee){o(ee.message)}},M=async()=>{try{h(!0);const W=await qm.getAllServers();u(W.data||[])}catch(W){y(W.message)}finally{h(!1)}},H=W=>{W?(C(W),O({name:W.name,endpoint:W.endpoint,description:W.description||"",is_active:W.is_active})):(C(null),O({name:"",endpoint:"http://127.0.0.1:8188",description:"",is_active:!0})),v(!0)},P=()=>{v(!1),C(null)},$=async()=>{try{_?await qm.updateServer(_.id,j):await qm.createServer(j),P(),M()}catch(W){y(W.message)}},D=async W=>{if(confirm(t("servers:actions.confirmDelete")))try{await qm.deleteServer(W),M()}catch(ee){y(ee.message)}},U=async W=>{T(W);try{const ee=await qm.testConnection(W);I({...E,[W]:ee.data.isConnected})}catch{I({...E,[W]:!1})}finally{T(null)}};return a||d?c.jsx(J,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:c.jsx(Kt,{})}):c.jsxs(J,{children:[c.jsxs(J,{sx:{mb:3},children:[c.jsxs(re,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[c.jsx(VX,{})," ",t("workflows:page.listTitle")]}),s&&c.jsx(St,{severity:"error",sx:{mb:2},onClose:()=>o(null),children:s}),c.jsxs(J,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(4, 1fr)",lg:"repeat(5, 1fr)",xl:"repeat(6, 1fr)"},gap:1.5},children:[n.map(W=>c.jsx(gr,{onClick:ee=>{ee.target.closest("button")||W.is_active&&e(`/image-generation/${W.id}/generate`)},sx:{height:"100%",minHeight:120,borderLeft:`3px solid ${W.color||"#2196f3"}`,transition:"all 0.2s ease-in-out",cursor:W.is_active?"pointer":"not-allowed",opacity:W.is_active?1:.6,"&:hover":{boxShadow:W.is_active?3:1,transform:W.is_active?"translateY(-2px)":"none"}},children:c.jsx(Ba,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:c.jsxs(un,{spacing:1,children:[c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx(yt,{label:W.is_active?t("workflows:card.active"):t("workflows:card.inactive"),color:W.is_active?"success":"default",size:"small",sx:{height:"20px",fontSize:"0.7rem"}}),c.jsxs(J,{sx:{display:"flex",gap:.25},onClick:ee=>ee.stopPropagation(),children:[c.jsx(ht,{size:"small",onClick:()=>e(`/image-generation/${W.id}/edit`),sx:{p:.5},children:c.jsx(zd,{sx:{fontSize:"1rem"}})}),c.jsx(ht,{size:"small",onClick:()=>N(W.id),color:"error",sx:{p:.5},children:c.jsx(xa,{sx:{fontSize:"1rem"}})})]})]}),c.jsx(re,{variant:"body2",sx:{fontWeight:600,fontSize:"0.813rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:W.name,children:W.name}),W.description&&c.jsx(re,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:W.description}),c.jsxs(J,{sx:{display:"flex",gap:.5,flexWrap:"wrap",alignItems:"center"},children:[W.marked_fields&&W.marked_fields.length>0&&c.jsx(yt,{label:`${W.marked_fields.length} `,size:"small",variant:"outlined",sx:{height:"18px",fontSize:"0.65rem"}}),c.jsx(re,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.65rem"},children:new Date(W.created_date).toLocaleDateString()})]})]})})},W.id)),c.jsx(J,{onClick:()=>e("/image-generation/new"),sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:120,border:"2px dashed",borderColor:"primary.main",borderRadius:2,cursor:"pointer",transition:"all 0.2s ease-in-out",bgcolor:W=>W.palette.mode==="dark"?"rgba(33, 150, 243, 0.05)":"rgba(33, 150, 243, 0.02)","&:hover":{bgcolor:W=>W.palette.mode==="dark"?"rgba(33, 150, 243, 0.15)":"rgba(33, 150, 243, 0.08)",borderColor:"primary.dark",transform:"scale(1.02)"}},children:c.jsx(ht,{color:"primary",sx:{width:56,height:56,bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark",transform:"rotate(90deg)"},transition:"all 0.3s ease-in-out"},children:c.jsx(Gs,{fontSize:"large"})})})]}),n.length===0&&c.jsxs(J,{sx:{textAlign:"center",py:4},children:[c.jsx(re,{variant:"body2",color:"text.secondary",children:t("workflows:page.noWorkflows")}),c.jsx(re,{variant:"caption",color:"text.secondary",children:t("workflows:page.noWorkflowsDesc")})]})]}),c.jsx(yn,{sx:{my:4}}),c.jsxs(J,{children:[c.jsxs(re,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[c.jsx(iQ,{})," ",t("servers:page.listTitle")]}),m&&c.jsx(St,{severity:"error",sx:{mb:2},onClose:()=>y(null),children:m}),c.jsxs(J,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(4, 1fr)",lg:"repeat(5, 1fr)",xl:"repeat(6, 1fr)"},gap:1.5},children:[l.map(W=>c.jsx(gr,{sx:{height:"100%",minHeight:120,borderLeft:"3px solid #4caf50",transition:"all 0.2s ease-in-out","&:hover":{boxShadow:3,transform:"translateY(-2px)"}},children:c.jsx(Ba,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:c.jsxs(un,{spacing:1,children:[c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx(yt,{label:W.is_active?t("servers:card.active"):t("servers:card.inactive"),color:W.is_active?"success":"default",size:"small",sx:{height:"20px",fontSize:"0.7rem"}}),c.jsxs(J,{sx:{display:"flex",gap:.25},children:[c.jsx(ht,{size:"small",onClick:()=>H(W),sx:{p:.5},children:c.jsx(zd,{sx:{fontSize:"1rem"}})}),c.jsx(ht,{size:"small",onClick:()=>D(W.id),color:"error",sx:{p:.5},children:c.jsx(xa,{sx:{fontSize:"1rem"}})})]})]}),c.jsx(re,{variant:"body2",sx:{fontWeight:600,fontSize:"0.813rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:W.name,children:W.name}),c.jsx(re,{variant:"caption",color:"text.secondary",sx:{fontFamily:"monospace",fontSize:"0.7rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:W.endpoint,children:W.endpoint}),W.description&&c.jsx(re,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:W.description}),E[W.id]!==void 0&&c.jsx(J,{sx:{display:"flex",alignItems:"center",gap:.5},children:E[W.id]?c.jsxs(c.Fragment,{children:[c.jsx(Cs,{color:"success",sx:{fontSize:"0.875rem"}}),c.jsx(re,{variant:"caption",color:"success.main",sx:{fontSize:"0.7rem"},children:t("servers:card.connectionSuccess")})]}):c.jsxs(c.Fragment,{children:[c.jsx(Cg,{color:"error",sx:{fontSize:"0.875rem"}}),c.jsx(re,{variant:"caption",color:"error.main",sx:{fontSize:"0.7rem"},children:t("servers:card.connectionFailed")})]})}),c.jsx(Ke,{size:"small",onClick:()=>U(W.id),disabled:w===W.id,fullWidth:!0,sx:{mt:"auto",fontSize:"0.7rem",py:.5},children:w===W.id?c.jsx(Kt,{size:14}):t("servers:card.testConnection")})]})})},W.id)),c.jsx(J,{onClick:()=>H(),sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:120,border:"2px dashed",borderColor:"success.main",borderRadius:2,cursor:"pointer",transition:"all 0.2s ease-in-out",bgcolor:W=>W.palette.mode==="dark"?"rgba(76, 175, 80, 0.05)":"rgba(76, 175, 80, 0.02)","&:hover":{bgcolor:W=>W.palette.mode==="dark"?"rgba(76, 175, 80, 0.15)":"rgba(76, 175, 80, 0.08)",borderColor:"success.dark",transform:"scale(1.02)"}},children:c.jsx(ht,{sx:{width:56,height:56,bgcolor:"success.main",color:"white","&:hover":{bgcolor:"success.dark",transform:"rotate(90deg)"},transition:"all 0.3s ease-in-out"},children:c.jsx(Gs,{fontSize:"large"})})})]}),l.length===0&&c.jsxs(J,{sx:{textAlign:"center",py:4},children:[c.jsx(re,{variant:"body2",color:"text.secondary",children:t("servers:page.noServers")}),c.jsx(re,{variant:"caption",color:"text.secondary",children:t("servers:page.noServersDesc")})]})]}),c.jsxs(or,{open:x,onClose:P,maxWidth:"sm",fullWidth:!0,children:[c.jsx(pr,{children:t(_?"servers:dialog.editTitle":"servers:dialog.addTitle")}),c.jsx(hr,{children:c.jsxs(J,{sx:{pt:2,display:"flex",flexDirection:"column",gap:2},children:[c.jsx(jt,{label:t("servers:dialog.serverName"),fullWidth:!0,required:!0,value:j.name,onChange:W=>O({...j,name:W.target.value})}),c.jsx(jt,{label:t("servers:dialog.endpointUrl"),fullWidth:!0,required:!0,placeholder:t("servers:dialog.endpointPlaceholder"),value:j.endpoint,onChange:W=>O({...j,endpoint:W.target.value})}),c.jsx(jt,{label:t("servers:dialog.description"),fullWidth:!0,multiline:!0,rows:2,value:j.description,onChange:W=>O({...j,description:W.target.value})}),c.jsx(Zn,{control:c.jsx(oi,{checked:j.is_active,onChange:W=>O({...j,is_active:W.target.checked})}),label:t("servers:dialog.activate")})]})}),c.jsxs(yr,{children:[c.jsx(Ke,{onClick:P,children:t("servers:dialog.cancel")}),c.jsx(Ke,{onClick:$,variant:"contained",disabled:!j.name||!j.endpoint,children:t(_?"servers:dialog.update":"servers:dialog.add")})]})]}),c.jsx(yn,{sx:{my:3}}),c.jsx(hGe,{})]})}function Cee(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Cee(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function fw(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Cee(t))&&(r&&(r+=" "),r+=e);return r}let mGe={data:""},gGe=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||mGe},yGe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,bGe=/\/\*[^]*?\*\/|  +/g,GB=/\n+/g,Wm=(t,e)=>{let n="",r="",a="";for(let i in t){let s=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+s+";":r+=i[1]=="f"?Wm(s,i):i+"{"+Wm(s,i[1]=="k"?"":e)+"}":typeof s=="object"?r+=Wm(s,e?e.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):i):s!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Wm.p?Wm.p(i,s):i+":"+s+";")}return n+(e&&a?e+"{"+a+"}":a)+r},jf={},wee=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+wee(t[n]);return e}return t},xGe=(t,e,n,r,a)=>{let i=wee(t),s=jf[i]||(jf[i]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(i));if(!jf[s]){let l=i!==t?t:(u=>{let d,h,m=[{}];for(;d=yGe.exec(u.replace(bGe,""));)d[4]?m.shift():d[3]?(h=d[3].replace(GB," ").trim(),m.unshift(m[0][h]=m[0][h]||{})):m[0][d[1]]=d[2].replace(GB," ").trim();return m[0]})(t);jf[s]=Wm(a?{["@keyframes "+s]:l}:l,n?"":"."+s)}let o=n&&jf.g?jf.g:null;return n&&(jf.g=jf[s]),((l,u,d,h)=>{h?u.data=u.data.replace(h,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(jf[s],e,r,o),s},vGe=(t,e,n)=>t.reduce((r,a,i)=>{let s=e[i];if(s&&s.call){let o=s(n),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;s=l?"."+l:o&&typeof o=="object"?o.props?"":Wm(o,""):o===!1?"":o}return r+a+(s??"")},"");function xD(t){let e=this||{},n=t.call?t(e.p):t;return xGe(n.unshift?n.raw?vGe(n,[].slice.call(arguments,1),e.p):n.reduce((r,a)=>Object.assign(r,a&&a.call?a(e.p):a),{}):n,gGe(e.target),e.g,e.o,e.k)}xD.bind({g:1});xD.bind({k:1});function SGe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _Ge(t,e,n){return e&&SGe(t.prototype,e),t}function gp(){return gp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gp.apply(this,arguments)}function CGe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function vD(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}var qB=function(){return""},wGe=je.createContext({enqueueSnackbar:qB,closeSnackbar:qB}),Um={downXs:"@media (max-width:599.95px)",upSm:"@media (min-width:600px)"},i4="unmounted",b1="exited",x1="entering",Hx="entered",VB="exiting",SD=(function(t){CGe(e,t);function e(r){var a;a=t.call(this,r)||this;var i=r.appear,s;return a.appearStatus=null,r.in?i?(s=b1,a.appearStatus=x1):s=Hx:r.unmountOnExit||r.mountOnEnter?s=i4:s=b1,a.state={status:s},a.nextCallback=null,a}e.getDerivedStateFromProps=function(a,i){var s=a.in;return s&&i.status===i4?{status:b1}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(a){var i=null;if(a!==this.props){var s=this.state.status;this.props.in?s!==x1&&s!==Hx&&(i=x1):(s===x1||s===Hx)&&(i=VB)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var a=this.props.timeout,i=a,s=a;return a!=null&&typeof a!="number"&&typeof a!="string"&&(s=a.exit,i=a.enter),{exit:s,enter:i}},n.updateStatus=function(a,i){a===void 0&&(a=!1),i!==null?(this.cancelNextCallback(),i===x1?this.performEnter(a):this.performExit()):this.props.unmountOnExit&&this.state.status===b1&&this.setState({status:i4})},n.performEnter=function(a){var i=this,s=this.props.enter,o=a,l=this.getTimeouts();if(!a&&!s){this.safeSetState({status:Hx},function(){i.props.onEntered&&i.props.onEntered(i.node,o)});return}this.props.onEnter&&this.props.onEnter(this.node,o),this.safeSetState({status:x1},function(){i.props.onEntering&&i.props.onEntering(i.node,o),i.onTransitionEnd(l.enter,function(){i.safeSetState({status:Hx},function(){i.props.onEntered&&i.props.onEntered(i.node,o)})})})},n.performExit=function(){var a=this,i=this.props.exit,s=this.getTimeouts();if(!i){this.safeSetState({status:b1},function(){a.props.onExited&&a.props.onExited(a.node)});return}this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:VB},function(){a.props.onExiting&&a.props.onExiting(a.node),a.onTransitionEnd(s.exit,function(){a.safeSetState({status:b1},function(){a.props.onExited&&a.props.onExited(a.node)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(a,i){i=this.setNextCallback(i),this.setState(a,i)},n.setNextCallback=function(a){var i=this,s=!0;return this.nextCallback=function(){s&&(s=!1,i.nextCallback=null,a())},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(a,i){this.setNextCallback(i);var s=a==null&&!this.props.addEndListener;if(!this.node||s){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),a!=null&&setTimeout(this.nextCallback,a)},n.render=function(){var a=this.state.status;if(a===i4)return null;var i=this.props,s=i.children,o=vD(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return s(a,o)},_Ge(e,[{key:"node",get:function(){var a,i=(a=this.props.nodeRef)===null||a===void 0?void 0:a.current;if(!i)throw new Error("notistack - Custom snackbar is not refForwarding");return i}}]),e})(je.Component);function v1(){}SD.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:v1,onEntering:v1,onEntered:v1,onExit:v1,onExiting:v1,onExited:v1};function WB(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function QI(t,e){return A.useMemo(function(){return t==null&&e==null?null:function(n){WB(t,n),WB(e,n)}},[t,e])}function zC(t){var e=t.timeout,n=t.style,r=n===void 0?{}:n,a=t.mode;return{duration:typeof e=="object"?e[a]||0:e,easing:r.transitionTimingFunction,delay:r.transitionDelay}}var ZI={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Eee=function(e){e.scrollTop=e.scrollTop},YB=function(e){return Math.round(e)+"ms"};function N1(t,e){t===void 0&&(t=["all"]);var n=e||{},r=n.duration,a=r===void 0?300:r,i=n.easing,s=i===void 0?ZI.easeInOut:i,o=n.delay,l=o===void 0?0:o,u=Array.isArray(t)?t:[t];return u.map(function(d){var h=typeof a=="string"?a:YB(a),m=typeof l=="string"?l:YB(l);return d+" "+h+" "+s+" "+m}).join(",")}function EGe(t){return t&&t.ownerDocument||document}function Tee(t){var e=EGe(t);return e.defaultView||window}function TGe(t,e){e===void 0&&(e=166);var n;function r(){for(var a=this,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];var l=function(){t.apply(a,s)};clearTimeout(n),n=setTimeout(l,e)}return r.clear=function(){clearTimeout(n)},r}function AGe(t,e){var n=e.getBoundingClientRect(),r=Tee(e),a;if(e.fakeTransform)a=e.fakeTransform;else{var i=r.getComputedStyle(e);a=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform")}var s=0,o=0;if(a&&a!=="none"&&typeof a=="string"){var l=a.split("(")[1].split(")")[0].split(",");s=parseInt(l[4],10),o=parseInt(l[5],10)}switch(t){case"left":return"translateX("+(r.innerWidth+s-n.left)+"px)";case"right":return"translateX(-"+(n.left+n.width-s)+"px)";case"up":return"translateY("+(r.innerHeight+o-n.top)+"px)";default:return"translateY(-"+(n.top+n.height-o)+"px)"}}function s4(t,e){if(e){var n=AGe(t,e);n&&(e.style.webkitTransform=n,e.style.transform=n)}}var RGe=A.forwardRef(function(t,e){var n=t.children,r=t.direction,a=r===void 0?"down":r,i=t.in,s=t.style,o=t.timeout,l=o===void 0?0:o,u=t.onEnter,d=t.onEntered,h=t.onExit,m=t.onExited,y=vD(t,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),x=A.useRef(null),v=QI(n.ref,x),_=QI(v,e),C=function(O,L){s4(a,O),Eee(O),u&&u(O,L)},w=function(O){var L=s?.transitionTimingFunction||ZI.easeOut,N=zC({timeout:l,mode:"enter",style:gp({},s,{transitionTimingFunction:L})});O.style.webkitTransition=N1("-webkit-transform",N),O.style.transition=N1("transform",N),O.style.webkitTransform="none",O.style.transform="none"},T=function(O){var L=s?.transitionTimingFunction||ZI.sharp,N=zC({timeout:l,mode:"exit",style:gp({},s,{transitionTimingFunction:L})});O.style.webkitTransition=N1("-webkit-transform",N),O.style.transition=N1("transform",N),s4(a,O),h&&h(O)},E=function(O){O.style.webkitTransition="",O.style.transition="",m&&m(O)},I=A.useCallback(function(){x.current&&s4(a,x.current)},[a]);return A.useEffect(function(){if(!(i||a==="down"||a==="right")){var j=TGe(function(){x.current&&s4(a,x.current)}),O=Tee(x.current);return O.addEventListener("resize",j),function(){j.clear(),O.removeEventListener("resize",j)}}},[a,i]),A.useEffect(function(){i||I()},[i,I]),A.createElement(SD,Object.assign({appear:!0,nodeRef:x,onEnter:C,onEntered:d,onEntering:w,onExit:T,onExited:E,in:i,timeout:l},y),function(j,O){return A.cloneElement(n,gp({ref:_,style:gp({visibility:j==="exited"&&!i?"hidden":void 0},s,{},n.props.style)},O))})});RGe.displayName="Slide";function hw(t){return Object.entries(t).reduce(function(e,n){var r,a=n[0],i=n[1];return gp({},e,(r={},r[a]=xD(i),r))},{})}var Rv={SnackbarContainer:"notistack-SnackbarContainer",Snackbar:"notistack-Snackbar",CollapseWrapper:"notistack-CollapseWrapper",MuiContent:"notistack-MuiContent",MuiContentVariant:function(e){return"notistack-MuiContent-"+e}},KB=hw({root:{height:0},entered:{height:"auto"}}),s6="0px",o6=175,kGe=A.forwardRef(function(t,e){var n=t.children,r=t.in,a=t.onExited,i=A.useRef(null),s=A.useRef(null),o=QI(e,s),l=function(){return i.current?i.current.clientHeight:0},u=function(v){v.style.height=s6},d=function(v){var _=l(),C=zC({timeout:o6,mode:"enter"}),w=C.duration,T=C.easing;v.style.transitionDuration=typeof w=="string"?w:w+"ms",v.style.height=_+"px",v.style.transitionTimingFunction=T||""},h=function(v){v.style.height="auto"},m=function(v){v.style.height=l()+"px"},y=function(v){Eee(v);var _=zC({timeout:o6,mode:"exit"}),C=_.duration,w=_.easing;v.style.transitionDuration=typeof C=="string"?C:C+"ms",v.style.height=s6,v.style.transitionTimingFunction=w||""};return A.createElement(SD,{in:r,unmountOnExit:!0,onEnter:u,onEntered:h,onEntering:d,onExit:m,onExited:a,onExiting:y,nodeRef:s,timeout:o6},function(x,v){return A.createElement("div",Object.assign({ref:o,className:fw(KB.root,x==="entered"&&KB.entered),style:gp({pointerEvents:"all",overflow:"hidden",minHeight:s6,transition:N1("height")},x==="entered"&&{overflow:"visible"},{},x==="exited"&&!r&&{visibility:"hidden"})},v),A.createElement("div",{ref:i,className:Rv.CollapseWrapper,style:{display:"flex",width:"100%"}},n))})});kGe.displayName="Collapse";var IGe=typeof window<"u"?A.useLayoutEffect:A.useEffect;function XB(t){var e=A.useRef(t);return IGe(function(){e.current=t}),A.useCallback(function(){return e.current.apply(void 0,arguments)},[])}var jGe=A.forwardRef(function(t,e){var n=t.children,r=t.className,a=t.autoHideDuration,i=t.disableWindowBlurListener,s=i===void 0?!1:i,o=t.onClose,l=t.id,u=t.open,d=t.SnackbarProps,h=d===void 0?{}:d,m=A.useRef(),y=XB(function(){o&&o.apply(void 0,arguments)}),x=XB(function(T){!o||T==null||(m.current&&clearTimeout(m.current),m.current=setTimeout(function(){y(null,"timeout",l)},T))});A.useEffect(function(){return u&&x(a),function(){m.current&&clearTimeout(m.current)}},[u,a,x]);var v=function(){m.current&&clearTimeout(m.current)},_=A.useCallback(function(){a!=null&&x(a*.5)},[a,x]),C=function(E){h.onMouseEnter&&h.onMouseEnter(E),v()},w=function(E){h.onMouseLeave&&h.onMouseLeave(E),_()};return A.useEffect(function(){if(!s&&u)return window.addEventListener("focus",_),window.addEventListener("blur",v),function(){window.removeEventListener("focus",_),window.removeEventListener("blur",v)}},[s,_,u]),A.createElement("div",Object.assign({ref:e},h,{className:fw(Rv.Snackbar,r),onMouseEnter:C,onMouseLeave:w}),n)});jGe.displayName="Snackbar";var l6,OGe=hw({root:(l6={display:"flex",flexWrap:"wrap",flexGrow:1},l6[Um.upSm]={flexGrow:"initial",minWidth:"288px"},l6)}),Aee=A.forwardRef(function(t,e){var n=t.className,r=vD(t,["className"]);return je.createElement("div",Object.assign({ref:e,className:fw(OGe.root,n)},r))});Aee.displayName="SnackbarContent";var Ux=hw({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:8*2.5+"px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),QB="notistack-snackbar",DGe=A.forwardRef(function(t,e){var n=t.id,r=t.message,a=t.action,i=t.iconVariant,s=t.variant,o=t.hideIconVariant,l=t.style,u=t.className,d=i[s],h=a;return typeof h=="function"&&(h=h(n)),je.createElement(Aee,{ref:e,role:"alert","aria-describedby":QB,style:l,className:fw(Rv.MuiContent,Rv.MuiContentVariant(s),Ux.root,Ux[s],u,!o&&d&&Ux.lessPadding)},je.createElement("div",{id:QB,className:Ux.message},o?null:d,r),h&&je.createElement("div",{className:Ux.action},h))});DGe.displayName="MaterialDesignContent";var $x,c6,o4,l4,u6,Of={view:{default:20},snackbar:{default:6,dense:2}},ZB="."+Rv.CollapseWrapper,d6=16;$x={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:N1(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"},$x[ZB]={padding:Of.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},$x.maxWidth="calc(100% - "+Of.view.default*2+"px)",$x[Um.downXs]={width:"100%",maxWidth:"calc(100% - "+d6*2+"px)"},c6={},c6[ZB]={padding:Of.snackbar.dense+"px 0px"},Of.view.default-Of.snackbar.default+"",Of.view.default-Of.snackbar.default+"",o4={left:Of.view.default+"px"},o4[Um.upSm]={alignItems:"flex-start"},o4[Um.downXs]={left:d6+"px"},l4={right:Of.view.default+"px"},l4[Um.upSm]={alignItems:"flex-end"},l4[Um.downXs]={right:d6+"px"},u6={left:"50%",transform:"translateX(-50%)"},u6[Um.upSm]={alignItems:"center"};var MGe=(function(){return A.useContext(wGe)});function NGe(){const{t}=$t(["wildcards","common"]),[e,n]=A.useState(1),[r,a]=A.useState("number"),[i,s]=A.useState("filename"),[o,l]=A.useState("add.txt"),[u,d]=A.useState("filename"),[h,m]=A.useState(!1),[y,x]=A.useState(null),[v,_]=A.useState([]),[C,w]=A.useState([]),[T,E]=A.useState(!0),[I,j]=A.useState(0),[O,L]=A.useState(""),[N,M]=A.useState(null),[H,P]=A.useState(!1),[$,D]=A.useState(!1);A.useEffect(()=>{U(),F()},[]);const U=async()=>{try{E(!0);const ue=(await Ad.getAllWildcards(!0)).data.filter(he=>he.is_auto_collected===1);w(ue)}catch(oe){console.error("Error loading auto wildcards:",oe)}finally{E(!1)}},F=async()=>{try{const oe=await Ad.getLastScanLog();M(oe.data)}catch(oe){console.error("Error loading last scan log:",oe)}},W=oe=>Math.floor(oe/1e5),ee=C.filter(oe=>{const ue=W(oe.id);if(I!==0&&ue!==I)return!1;if(O.trim()!==""){const he=O.toLowerCase();return oe.name.toLowerCase().includes(he)}return!0}),Q=()=>{j(oe=>Math.min(oe+1,9))},K=()=>{j(oe=>Math.max(oe-1,0))},V=()=>{j(0),L("")},Z=I!==0||O.trim()!=="",q=async oe=>{const ue=oe.target.files;if(!ue||ue.length===0)return;x(null);const he=[],ve=new Map;if(i==="common")for(let me=0;me<ue.length;me++){const le=ue[me];if(le.name===o){const be=le.webkitRelativePath.split("/").slice(0,-1).join("/");try{const Ne=(await le.text()).split(`
`).map(Pe=>Pe.trim()).filter(Pe=>Pe.length>0);ve.set(be,Ne)}catch(Te){console.error("Error reading common text file:",Te)}}}for(let me=0;me<ue.length;me++){const le=ue[me],Se=le.webkitRelativePath.split("/");if(le.name.endsWith(".safetensors")){const be=le.name.replace(".safetensors",""),Te=Se.slice(1,-1).join("/")||Se[0],Ne=Se.slice(0,-1).join("/");let Pe=[];if(i==="filename"){const Le=be+".txt";for(let De=0;De<ue.length;De++){const Xe=ue[De];if(Xe.webkitRelativePath===le.webkitRelativePath.replace(le.name,Le)){try{Pe=(await Xe.text()).split(`
`).map(Ie=>Ie.trim()).filter(Ie=>Ie.length>0)}catch(ke){console.error("Error reading txt file:",ke)}break}}}else if(u==="common")if(ve.has(Ne))Pe=ve.get(Ne);else{const Le=be+".txt";for(let De=0;De<ue.length;De++){const Xe=ue[De];if(Xe.webkitRelativePath===le.webkitRelativePath.replace(le.name,Le)){try{Pe=(await Xe.text()).split(`
`).map(Ie=>Ie.trim()).filter(Ie=>Ie.length>0)}catch(ke){console.error("Error reading txt file:",ke)}break}}}else{const Le=be+".txt";let De=!1;for(let Xe=0;Xe<ue.length;Xe++){const ke=ue[Xe];if(ke.webkitRelativePath===le.webkitRelativePath.replace(le.name,Le)){try{Pe=(await ke.text()).split(`
`).map(ye=>ye.trim()).filter(ye=>ye.length>0),De=!0}catch(Ie){console.error("Error reading txt file:",Ie)}break}}!De&&ve.has(Ne)&&(Pe=ve.get(Ne))}he.push({folderName:Te,loraName:be,promptLines:Pe})}}_(he)},te=async()=>{if(v.length===0){x(t("wildcards:autoCollect.errors.folderPathRequired"));return}if(e<.1||e>2){x(t("wildcards:autoCollect.errors.invalidWeight"));return}try{m(!0),x(null);const oe={loraFiles:v,loraWeight:e,duplicateHandling:r,matchingMode:i,commonTextFilename:o,matchingPriority:u},ue=await Ad.scanLoraFolder(oe);await U(),await F(),P(!1),_([]),alert(`${t("common:success")}! ${ue.data.created} ${t("wildcards:autoCollect.scanLog.totalWildcards")}`)}catch(oe){x(t("wildcards:autoCollect.errors.scanFailed",{error:oe.response?.data?.error||oe.message}))}finally{m(!1)}},ae=()=>{x(null),_([]),P(!0)},ie=()=>{h||(P(!1),x(null),_([]))},ce=()=>{D(!0)},pe=()=>{D(!1)},ge=async oe=>{if(confirm(t("common:confirmDelete")))try{await Ad.deleteWildcard(oe),await U(),await F()}catch(ue){alert(t("common:error")+": "+(ue.response?.data?.error||ue.message))}};return T?c.jsx(J,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:c.jsx(Kt,{})}):c.jsxs(J,{children:[c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[c.jsx(re,{variant:"h6",children:t("wildcards:tabs.autoCollected")}),c.jsxs(J,{sx:{display:"flex",gap:1},children:[N&&c.jsx(Ke,{variant:"outlined",size:"small",startIcon:c.jsx(pC,{}),onClick:ce,color:"secondary",children:t("wildcards:buttons.openLogDialog")}),c.jsx(Ke,{variant:"outlined",size:"small",startIcon:c.jsx(hv,{}),onClick:ae,color:"primary",children:t("wildcards:buttons.openScanDialog")})]})]}),C.length>0&&c.jsx(Yt,{sx:{p:2,mb:3},children:c.jsxs(un,{spacing:2,children:[c.jsxs(J,{sx:{display:"flex",gap:2,alignItems:"flex-start",flexWrap:"wrap"},children:[c.jsxs(J,{sx:{minWidth:200},children:[c.jsx(re,{variant:"subtitle2",sx:{mb:1},children:" "}),c.jsxs(J,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(ht,{size:"small",onClick:K,disabled:I===0,sx:{border:"1px solid",borderColor:"divider"},children:c.jsx(JRe,{fontSize:"small"})}),c.jsx(jt,{value:I,onChange:oe=>{const ue=parseInt(oe.target.value)||0;j(Math.max(0,Math.min(9,ue)))},type:"number",size:"small",sx:{width:80},inputProps:{min:0,max:9,style:{textAlign:"center"}}}),c.jsx(ht,{size:"small",onClick:Q,disabled:I===9,sx:{border:"1px solid",borderColor:"divider"},children:c.jsx(Gs,{fontSize:"small"})})]})]}),c.jsxs(J,{sx:{flex:1,minWidth:150},children:[c.jsx(re,{variant:"subtitle2",sx:{mb:1},children:" "}),c.jsx(jt,{fullWidth:!0,size:"small",placeholder:"...",value:O,onChange:oe=>L(oe.target.value),InputProps:{startAdornment:c.jsx(Jf,{sx:{mr:1,color:"text.secondary"}})}})]}),Z&&c.jsx(J,{sx:{display:"flex",alignItems:"flex-end"},children:c.jsx(Ke,{variant:"outlined",size:"small",startIcon:c.jsx(Ry,{}),onClick:V,sx:{height:40},children:" "})})]}),c.jsx(J,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:c.jsxs(re,{variant:"body2",color:"text.secondary",children:[" ",c.jsx("strong",{children:C.length})," ",Z&&c.jsxs("span",{children:[" ","(: ",c.jsx("strong",{children:ee.length}),")"]})]})})]})}),C.length===0?c.jsxs(Yt,{sx:{p:4,textAlign:"center"},children:[c.jsx(re,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:t("wildcards:autoCollect.noAutoWildcards")}),c.jsx(re,{variant:"body2",color:"text.secondary",children:t("wildcards:autoCollect.noAutoWildcardsDesc")})]}):ee.length===0?c.jsxs(Yt,{sx:{p:4,textAlign:"center"},children:[c.jsx(re,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"  "}),c.jsx(re,{variant:"body2",color:"text.secondary",children:"   "})]}):c.jsx(un,{spacing:2,children:ee.map(oe=>c.jsx(gr,{variant:"outlined",children:c.jsxs(Ba,{children:[c.jsxs(un,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[c.jsxs(J,{flex:1,children:[c.jsxs(un,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[c.jsxs(re,{variant:"h6",children:["++",oe.name,"++"]}),c.jsx(yt,{label:t("wildcards:autoCollect.autoCollectedBadge"),size:"small",color:"primary",variant:"outlined"}),c.jsx(yt,{label:` ${W(oe.id)}`,size:"small",color:"secondary",variant:"outlined"})]}),oe.description&&c.jsx(re,{variant:"body2",color:"text.secondary",sx:{mb:2},children:oe.description}),c.jsxs(re,{variant:"body2",color:"text.secondary",children:[oe.items.filter(ue=>ue.tool==="comfyui").length," ComfyUI"," ",t("wildcards:card.items",{count:oe.items.filter(ue=>ue.tool==="comfyui").length})]})]}),c.jsx(ht,{color:"error",onClick:()=>ge(oe.id),children:c.jsx(xa,{})})]}),c.jsxs(J,{sx:{mt:2},children:[oe.items.filter(ue=>ue.tool==="comfyui").slice(0,3).map((ue,he)=>c.jsx(re,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.85em",color:"text.secondary",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:ue.content},he)),oe.items.filter(ue=>ue.tool==="comfyui").length>3&&c.jsx(re,{variant:"body2",color:"text.secondary",sx:{mt:1},children:t("wildcards:card.moreItems",{count:oe.items.filter(ue=>ue.tool==="comfyui").length-3})})]})]})},oe.id))}),c.jsxs(or,{open:H,onClose:ie,maxWidth:"md",fullWidth:!0,children:[c.jsx(pr,{children:t("wildcards:scanDialog.title")}),c.jsxs(hr,{children:[y&&c.jsx(St,{severity:"error",sx:{mb:2},onClose:()=>x(null),children:y}),c.jsxs(J,{sx:{display:"flex",flexDirection:"column",gap:2,pt:1},children:[c.jsx(St,{severity:"info",children:t("wildcards:scanDialog.infoMessage")}),c.jsx("input",{type:"file",id:"lora-folder-input-dialog",style:{display:"none"},webkitdirectory:"",directory:"",multiple:!0,onChange:q}),c.jsx("label",{htmlFor:"lora-folder-input-dialog",children:c.jsx(Ke,{variant:"contained",component:"span",fullWidth:!0,size:"large",startIcon:c.jsx(wu,{}),children:v.length>0?`${v.length} LORA  `:t("wildcards:autoCollect.folderPath")})}),v.length>0&&c.jsxs(St,{severity:"success",children:[c.jsxs("strong",{children:[v.length," LORA "]})," :",c.jsxs(J,{component:"ul",sx:{mt:1,mb:0},children:[v.slice(0,5).map((oe,ue)=>c.jsxs("li",{children:[c.jsx("strong",{children:oe.loraName}),oe.promptLines.length>0&&` (${oe.promptLines.length} )`]},ue)),v.length>5&&c.jsxs("li",{children:["... ",v.length-5," "]})]})]}),c.jsx(jt,{fullWidth:!0,type:"number",label:t("wildcards:autoCollect.loraWeight"),value:e,onChange:oe=>n(parseFloat(oe.target.value)),helperText:t("wildcards:autoCollect.loraWeightHelper"),inputProps:{min:.1,max:2,step:.1}}),c.jsxs(ra,{component:"fieldset",children:[c.jsx(k2,{component:"legend",children:t("wildcards:autoCollect.duplicateHandling")}),c.jsxs(I2,{value:r,onChange:oe=>a(oe.target.value),children:[c.jsx(Zn,{value:"number",control:c.jsx(mu,{}),label:t("wildcards:autoCollect.duplicateNumber")}),c.jsx(Zn,{value:"parent",control:c.jsx(mu,{}),label:t("wildcards:autoCollect.duplicateParent")})]})]}),c.jsxs(ra,{component:"fieldset",children:[c.jsx(k2,{component:"legend",children:t("wildcards:autoCollect.matchingMode")}),c.jsxs(I2,{value:i,onChange:oe=>s(oe.target.value),children:[c.jsx(Zn,{value:"filename",control:c.jsx(mu,{}),label:t("wildcards:autoCollect.matchingModeFilename")}),c.jsx(Zn,{value:"common",control:c.jsx(mu,{}),label:t("wildcards:autoCollect.matchingModeCommon")})]})]}),i==="common"&&c.jsxs(c.Fragment,{children:[c.jsx(jt,{fullWidth:!0,label:t("wildcards:autoCollect.commonTextFilename"),value:o,onChange:oe=>l(oe.target.value),helperText:t("wildcards:autoCollect.commonTextFilenameHelper")}),c.jsxs(ra,{component:"fieldset",children:[c.jsx(k2,{component:"legend",children:t("wildcards:autoCollect.matchingPriority")}),c.jsxs(I2,{value:u,onChange:oe=>d(oe.target.value),children:[c.jsx(Zn,{value:"filename",control:c.jsx(mu,{}),label:t("wildcards:autoCollect.priorityFilename")}),c.jsx(Zn,{value:"common",control:c.jsx(mu,{}),label:t("wildcards:autoCollect.priorityCommon")})]})]})]}),c.jsxs(St,{severity:"warning",children:[c.jsx("strong",{children:t("wildcards:scanDialog.warningTitle")}),c.jsxs(J,{component:"ul",sx:{mt:1,mb:0},children:[c.jsx("li",{children:t("wildcards:scanDialog.warning1")}),c.jsx("li",{children:t("wildcards:scanDialog.warning2")}),c.jsx("li",{children:t("wildcards:scanDialog.warning3")})]})]})]})]}),c.jsxs(yr,{children:[c.jsx(Ke,{onClick:ie,disabled:h,children:t("common:cancel")}),c.jsx(Ke,{onClick:te,variant:"contained",disabled:v.length===0||h,startIcon:h?c.jsx(Kt,{size:16}):c.jsx(hv,{}),children:t(h?"wildcards:autoCollect.scanning":"wildcards:scanDialog.scanButton")})]})]}),c.jsxs(or,{open:$,onClose:pe,maxWidth:"sm",fullWidth:!0,children:[c.jsx(pr,{children:t("wildcards:logDialog.title")}),c.jsx(hr,{children:N&&c.jsxs(un,{spacing:2,sx:{pt:1},children:[c.jsxs(J,{children:[c.jsx(re,{variant:"subtitle2",color:"text.secondary",children:t("wildcards:autoCollect.scanLog.timestamp")}),c.jsx(re,{children:new Date(N.timestamp).toLocaleString()})]}),c.jsxs(un,{direction:"row",spacing:4,children:[c.jsxs(J,{children:[c.jsx(re,{variant:"subtitle2",color:"text.secondary",children:t("wildcards:autoCollect.scanLog.totalWildcards")}),c.jsx(re,{variant:"h6",children:N.totalWildcards})]}),c.jsxs(J,{children:[c.jsx(re,{variant:"subtitle2",color:"text.secondary",children:t("wildcards:autoCollect.scanLog.totalItems")}),c.jsx(re,{variant:"h6",children:N.totalItems})]})]}),c.jsx(yn,{}),c.jsx(re,{variant:"subtitle2",children:t("wildcards:autoCollect.scanLog.details")}),c.jsx(Wf,{dense:!0,children:N.wildcards.map(oe=>c.jsx(Yf,{children:c.jsx(Ss,{primary:`++${oe.name}++`,secondary:`${oe.folderName} (${oe.itemCount} ${t("wildcards:autoCollect.scanLog.itemCount")})`})},oe.id))})]})}),c.jsx(yr,{children:c.jsx(Ke,{onClick:pe,children:t("common:close")})})]})]})}function FC(t){const e=bt.c(13);let n,r,a,i;e[0]!==t?({children:n,value:i,index:r,...a}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i):(n=e[1],r=e[2],a=e[3],i=e[4]);const s=i!==r;let o;e[5]!==n||e[6]!==r||e[7]!==i?(o=i===r&&c.jsx(J,{sx:{pt:2},children:n}),e[5]=n,e[6]=r,e[7]=i,e[8]=o):o=e[8];let l;return e[9]!==a||e[10]!==s||e[11]!==o?(l=c.jsx("div",{role:"tabpanel",hidden:s,...a,children:o}),e[9]=a,e[10]=s,e[11]=o,e[12]=l):l=e[12],l}function PGe(){const{t}=$t(["wildcards","common"]),{enqueueSnackbar:e}=MGe(),[n,r]=A.useState([]),[a,i]=A.useState(!0),[s,o]=A.useState(null),[l,u]=A.useState(!1),[d,h]=A.useState(null),[m,y]=A.useState(0),[x,v]=A.useState({name:"",description:"",comfyuiItems:[""],naiItems:[""]}),[_,C]=A.useState(!1),[w,T]=A.useState("comfyui"),[E,I]=A.useState(""),[j,O]=A.useState([]),[L,N]=A.useState(!1);A.useEffect(()=>{M()},[]);const M=async()=>{try{i(!0);const Z=((await Ad.getAllWildcards(!0)).data||[]).filter(q=>q.is_auto_collected!==1);r(Z),o(null)}catch(V){o(V.response?.data?.error||V.message)}finally{i(!1)}},H=V=>{if(V){h(V);const Z=V.items.filter(te=>te.tool==="comfyui").map(te=>te.content),q=V.items.filter(te=>te.tool==="nai").map(te=>te.content);v({name:V.name,description:V.description||"",comfyuiItems:Z.length>0?Z:[""],naiItems:q.length>0?q:[""]})}else h(null),v({name:"",description:"",comfyuiItems:[""],naiItems:[""]});y(0),u(!0)},P=()=>{u(!1),h(null),y(0)},$=async()=>{try{const V=x.comfyuiItems.filter(te=>te.trim()!==""),Z=x.naiItems.filter(te=>te.trim()!=="");if(!x.name.trim()){o(t("wildcards:errors.nameRequired"));return}if(V.length===0&&Z.length===0){o(t("wildcards:errors.itemsRequired"));return}const q={comfyui:V,nai:Z};if(d&&d.id>0){const te={name:x.name.trim(),description:x.description.trim()||void 0,items:q},ae=await Ad.updateWildcard(d.id,te);ae.warning&&o(ae.warning)}else{const te={name:x.name.trim(),description:x.description.trim()||void 0,items:q},ae=await Ad.createWildcard(te);ae.warning&&o(ae.warning)}P(),M()}catch(V){o(V.response?.data?.error||V.message)}},D=async(V,Z)=>{if(confirm(t("wildcards:actions.confirmDelete",{name:Z})))try{await Ad.deleteWildcard(V),M()}catch(q){o(q.response?.data?.error||q.message)}},U=async V=>{try{await navigator.clipboard.writeText(`++${V}++`),e(t("wildcards:actions.copiedToClipboard"),{variant:"success"})}catch{e(t("wildcards:errors.copyFailed"),{variant:"error"})}},F=V=>{v(Z=>({...Z,[V==="comfyui"?"comfyuiItems":"naiItems"]:[...V==="comfyui"?Z.comfyuiItems:Z.naiItems,""]}))},W=(V,Z)=>{v(q=>({...q,[V==="comfyui"?"comfyuiItems":"naiItems"]:(V==="comfyui"?q.comfyuiItems:q.naiItems).filter((te,ae)=>ae!==Z)}))},ee=(V,Z,q)=>{v(te=>({...te,[V==="comfyui"?"comfyuiItems":"naiItems"]:(V==="comfyui"?te.comfyuiItems:te.naiItems).map((ae,ie)=>ie===Z?q:ae)}))},Q=async()=>{if(!E.trim()){o(t("wildcards:errors.previewTextRequired"));return}try{N(!0);const V=await Ad.parseWildcards({text:E,tool:w,count:5});O(V.data.results)}catch(V){o(V.response?.data?.error||V.message)}finally{N(!1)}},K=(V,Z)=>V.items.filter(q=>q.tool===Z).length;return a?c.jsx(J,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:c.jsx(Kt,{})}):c.jsxs(J,{children:[c.jsxs(J,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[c.jsx(re,{variant:"h6",children:t("wildcards:page.title")}),c.jsxs(J,{sx:{display:"flex",gap:2},children:[c.jsx(Ke,{variant:"contained",startIcon:c.jsx(Gs,{}),onClick:()=>H(),children:t("wildcards:actions.add")}),c.jsx(Ke,{variant:"outlined",startIcon:c.jsx(vp,{}),onClick:()=>C(!0),children:t("wildcards:actions.preview")})]})]}),s&&c.jsx(St,{severity:"error",sx:{mb:2},onClose:()=>o(null),children:s}),c.jsxs(un,{spacing:2,children:[n.map(V=>c.jsx(gr,{children:c.jsxs(Ba,{children:[c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[c.jsxs(J,{children:[c.jsxs(re,{variant:"h6",component:"div",onClick:()=>U(V.name),sx:{cursor:"pointer","&:hover":{color:"primary.main",textDecoration:"underline"}},children:["++",V.name,"++"]}),V.description&&c.jsx(re,{variant:"body2",color:"text.secondary",children:V.description})]}),c.jsxs(J,{sx:{display:"flex",gap:1},children:[c.jsx(ht,{size:"small",onClick:()=>U(V.name),children:c.jsx(eS,{fontSize:"small"})}),c.jsx(ht,{size:"small",onClick:()=>H(V),children:c.jsx(zd,{fontSize:"small"})}),c.jsx(ht,{size:"small",color:"error",onClick:()=>D(V.id,V.name),children:c.jsx(xa,{fontSize:"small"})})]})]}),c.jsxs(J,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[c.jsx(yt,{label:`ComfyUI: ${K(V,"comfyui")}${t("wildcards:card.itemsCount")}`,size:"small",color:"primary",variant:"outlined"}),c.jsx(yt,{label:`NAI: ${K(V,"nai")}${t("wildcards:card.itemsCount")}`,size:"small",color:"secondary",variant:"outlined"})]})]})},V.id)),n.length===0&&c.jsxs(J,{sx:{textAlign:"center",py:8},children:[c.jsx(re,{variant:"h6",color:"text.secondary",children:t("wildcards:page.noWildcards")}),c.jsx(re,{variant:"body2",color:"text.secondary",sx:{mt:1},children:t("wildcards:page.noWildcardsDesc")})]})]}),c.jsxs(or,{open:l,onClose:P,maxWidth:"md",fullWidth:!0,children:[c.jsx(pr,{children:t(d?"wildcards:dialog.editTitle":"wildcards:dialog.createTitle")}),c.jsx(hr,{children:c.jsxs(un,{spacing:2,sx:{mt:1},children:[c.jsx(jt,{label:t("wildcards:form.name"),value:x.name,onChange:V=>v(Z=>({...Z,name:V.target.value})),fullWidth:!0,helperText:t("wildcards:form.nameHelper")}),c.jsx(jt,{label:t("wildcards:form.description"),value:x.description,onChange:V=>v(Z=>({...Z,description:V.target.value})),fullWidth:!0,multiline:!0,rows:2}),c.jsx(yn,{}),c.jsxs(J,{children:[c.jsxs(il,{value:m,onChange:(V,Z)=>y(Z),children:[c.jsx(Gn,{label:"ComfyUI"}),c.jsx(Gn,{label:"NovelAI"})]}),c.jsx(FC,{value:m,index:0,children:c.jsxs(J,{children:[c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[c.jsx(re,{variant:"subtitle2",children:t("wildcards:form.comfyuiItems")}),c.jsx(Ke,{size:"small",startIcon:c.jsx(Gs,{}),onClick:()=>F("comfyui"),children:t("wildcards:actions.addItem")})]}),c.jsx(St,{severity:"info",sx:{mb:2},children:t("wildcards:form.itemsHelper")}),c.jsx(un,{spacing:1,children:x.comfyuiItems.map((V,Z)=>c.jsxs(J,{sx:{display:"flex",gap:1,alignItems:"center"},children:[c.jsxs(re,{variant:"body2",sx:{minWidth:30},children:[Z+1,"."]}),c.jsx(jt,{value:V,onChange:q=>ee("comfyui",Z,q.target.value),fullWidth:!0,size:"small",placeholder:t("wildcards:form.itemPlaceholder")}),c.jsx(ht,{size:"small",onClick:()=>W("comfyui",Z),disabled:x.comfyuiItems.length===1,children:c.jsx(xa,{fontSize:"small"})})]},Z))})]})}),c.jsx(FC,{value:m,index:1,children:c.jsxs(J,{children:[c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[c.jsx(re,{variant:"subtitle2",children:t("wildcards:form.naiItems")}),c.jsx(Ke,{size:"small",startIcon:c.jsx(Gs,{}),onClick:()=>F("nai"),children:t("wildcards:actions.addItem")})]}),c.jsx(St,{severity:"info",sx:{mb:2},children:t("wildcards:form.itemsHelper")}),c.jsx(un,{spacing:1,children:x.naiItems.map((V,Z)=>c.jsxs(J,{sx:{display:"flex",gap:1,alignItems:"center"},children:[c.jsxs(re,{variant:"body2",sx:{minWidth:30},children:[Z+1,"."]}),c.jsx(jt,{value:V,onChange:q=>ee("nai",Z,q.target.value),fullWidth:!0,size:"small",placeholder:t("wildcards:form.itemPlaceholder")}),c.jsx(ht,{size:"small",onClick:()=>W("nai",Z),disabled:x.naiItems.length===1,children:c.jsx(xa,{fontSize:"small"})})]},Z))})]})})]})]})}),c.jsxs(yr,{children:[c.jsx(Ke,{onClick:P,children:t("common:cancel")}),c.jsx(Ke,{onClick:$,variant:"contained",children:t(d?"common:save":"common:create")})]})]}),c.jsxs(or,{open:_,onClose:()=>C(!1),maxWidth:"md",fullWidth:!0,children:[c.jsx(pr,{children:t("wildcards:preview.title")}),c.jsx(hr,{children:c.jsxs(un,{spacing:2,sx:{mt:1},children:[c.jsxs(il,{value:w==="comfyui"?0:1,onChange:(V,Z)=>T(Z===0?"comfyui":"nai"),children:[c.jsx(Gn,{label:"ComfyUI"}),c.jsx(Gn,{label:"NovelAI"})]}),c.jsx(jt,{label:t("wildcards:preview.inputLabel"),value:E,onChange:V=>I(V.target.value),fullWidth:!0,multiline:!0,rows:3,placeholder:t("wildcards:preview.inputPlaceholder")}),c.jsx(Ke,{variant:"contained",startIcon:L?c.jsx(Kt,{size:20}):c.jsx(wo,{}),onClick:Q,disabled:L,children:t("wildcards:preview.generate")}),j.length>0&&c.jsxs(Yt,{variant:"outlined",sx:{p:2},children:[c.jsx(re,{variant:"subtitle2",sx:{mb:2},children:t("wildcards:preview.results")}),c.jsx(un,{spacing:1,children:j.map((V,Z)=>c.jsxs(J,{sx:{p:1.5,bgcolor:"action.hover",borderRadius:1},children:[c.jsx(re,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5},children:t("wildcards:preview.result",{number:Z+1})}),c.jsx(re,{variant:"body2",children:V})]},Z))})]})]})}),c.jsx(yr,{children:c.jsx(Ke,{onClick:()=>C(!1),children:t("common:close")})})]})]})}function LGe(){const t=bt.c(25);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=["wildcards","common"],t[0]=e):e=t[0];const{t:n}=$t(e),[r,a]=A.useState(0);let i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=(w,T)=>{a(T)},t[1]=i):i=t[1];const s=i;let o;t[2]===Symbol.for("react.memo_cache_sentinel")?(o={borderBottom:1,borderColor:"divider"},t[2]=o):o=t[2];let l;t[3]!==n?(l=n("wildcards:tabs.manual"),t[3]=n,t[4]=l):l=t[4];let u;t[5]!==l?(u=c.jsx(Gn,{label:l}),t[5]=l,t[6]=u):u=t[6];let d;t[7]!==n?(d=n("wildcards:tabs.autoCollected"),t[7]=n,t[8]=d):d=t[8];let h;t[9]!==d?(h=c.jsx(Gn,{label:d}),t[9]=d,t[10]=h):h=t[10];let m;t[11]!==r||t[12]!==u||t[13]!==h?(m=c.jsxs(il,{value:r,onChange:s,sx:o,children:[u,h]}),t[11]=r,t[12]=u,t[13]=h,t[14]=m):m=t[14];let y;t[15]===Symbol.for("react.memo_cache_sentinel")?(y=c.jsx(PGe,{}),t[15]=y):y=t[15];let x;t[16]!==r?(x=c.jsx(FC,{value:r,index:0,children:y}),t[16]=r,t[17]=x):x=t[17];let v;t[18]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx(NGe,{}),t[18]=v):v=t[18];let _;t[19]!==r?(_=c.jsx(FC,{value:r,index:1,children:v}),t[19]=r,t[20]=_):_=t[20];let C;return t[21]!==_||t[22]!==m||t[23]!==x?(C=c.jsxs(J,{children:[m,x,_]}),t[21]=_,t[22]=m,t[23]=x,t[24]=C):C=t[24],C}function f6(t){const e=bt.c(15);let n,r,a,i;e[0]!==t?({children:n,value:i,index:r,...a}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i):(n=e[1],r=e[2],a=e[3],i=e[4]);const s=i!==r,o=`image-generation-tabpanel-${r}`,l=`image-generation-tab-${r}`;let u;e[5]!==n||e[6]!==r||e[7]!==i?(u=i===r&&c.jsx(J,{sx:{pt:3},children:n}),e[5]=n,e[6]=r,e[7]=i,e[8]=u):u=e[8];let d;return e[9]!==a||e[10]!==s||e[11]!==o||e[12]!==l||e[13]!==u?(d=c.jsx("div",{role:"tabpanel",hidden:s,id:o,"aria-labelledby":l,...a,children:u}),e[9]=a,e[10]=s,e[11]=o,e[12]=l,e[13]=u,e[14]=d):d=e[14],d}function zGe(){const t=bt.c(61);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=["imageGeneration"],t[0]=e):e=t[0];const{t:n}=$t(e),[r,a]=doe();let i;t[1]!==r?(i=r.get("tab"),t[1]=r,t[2]=i):i=t[2];const s=i,[o,l]=A.useState(0);let u,d;t[3]!==s?(u=()=>{l(s==="comfyui"||s==="workflows"||s==="servers"?1:s==="wildcards"?2:0)},d=[s],t[3]=s,t[4]=u,t[5]=d):(u=t[4],d=t[5]),A.useEffect(u,d);let h;t[6]!==a?(h=(q,te)=>{l(te),te===0?a({tab:"nai"}):te===1?a({tab:"comfyui"}):te===2&&a({tab:"wildcards"})},t[6]=a,t[7]=h):h=t[7];const m=h;let y;t[8]===Symbol.for("react.memo_cache_sentinel")?(y={p:3},t[8]=y):y=t[8];let x;t[9]===Symbol.for("react.memo_cache_sentinel")?(x={mb:3},t[9]=x):x=t[9];let v;t[10]!==n?(v=n("imageGeneration:page.title"),t[10]=n,t[11]=v):v=t[11];let _;t[12]!==v?(_=c.jsx(re,{variant:"h4",gutterBottom:!0,children:v}),t[12]=v,t[13]=_):_=t[13];let C;t[14]!==n?(C=n("imageGeneration:page.subtitle"),t[14]=n,t[15]=C):C=t[15];let w;t[16]!==C?(w=c.jsx(re,{variant:"body2",color:"text.secondary",children:C}),t[16]=C,t[17]=w):w=t[17];let T;t[18]!==w||t[19]!==_?(T=c.jsxs(J,{sx:x,children:[_,w]}),t[18]=w,t[19]=_,t[20]=T):T=t[20];let E;t[21]===Symbol.for("react.memo_cache_sentinel")?(E={borderBottom:1,borderColor:"divider",mb:2},t[21]=E):E=t[21];let I;t[22]!==n?(I=n("imageGeneration:tabs.ariaLabel"),t[22]=n,t[23]=I):I=t[23];let j;t[24]===Symbol.for("react.memo_cache_sentinel")?(j=c.jsx(Mp,{}),t[24]=j):j=t[24];let O;t[25]!==n?(O=n("imageGeneration:tabs.novelai"),t[25]=n,t[26]=O):O=t[26];let L;t[27]!==O?(L=c.jsx(Gn,{icon:j,iconPosition:"start",label:O,id:"image-generation-tab-0","aria-controls":"image-generation-tabpanel-0"}),t[27]=O,t[28]=L):L=t[28];let N;t[29]===Symbol.for("react.memo_cache_sentinel")?(N=c.jsx(VX,{}),t[29]=N):N=t[29];let M;t[30]!==n?(M=n("imageGeneration:tabs.comfyui"),t[30]=n,t[31]=M):M=t[31];let H;t[32]!==M?(H=c.jsx(Gn,{icon:N,iconPosition:"start",label:M,id:"image-generation-tab-1","aria-controls":"image-generation-tabpanel-1"}),t[32]=M,t[33]=H):H=t[33];let P;t[34]===Symbol.for("react.memo_cache_sentinel")?(P=c.jsx(KX,{}),t[34]=P):P=t[34];let $;t[35]!==n?($=n("imageGeneration:tabs.wildcards"),t[35]=n,t[36]=$):$=t[36];let D;t[37]!==$?(D=c.jsx(Gn,{icon:P,iconPosition:"start",label:$,id:"image-generation-tab-2","aria-controls":"image-generation-tabpanel-2"}),t[37]=$,t[38]=D):D=t[38];let U;t[39]!==o||t[40]!==m||t[41]!==I||t[42]!==L||t[43]!==H||t[44]!==D?(U=c.jsx(J,{sx:E,children:c.jsxs(il,{value:o,onChange:m,"aria-label":I,children:[L,H,D]})}),t[39]=o,t[40]=m,t[41]=I,t[42]=L,t[43]=H,t[44]=D,t[45]=U):U=t[45];let F;t[46]===Symbol.for("react.memo_cache_sentinel")?(F=c.jsx(uGe,{}),t[46]=F):F=t[46];let W;t[47]!==o?(W=c.jsx(f6,{value:o,index:0,children:F}),t[47]=o,t[48]=W):W=t[48];let ee;t[49]===Symbol.for("react.memo_cache_sentinel")?(ee=c.jsx(pGe,{}),t[49]=ee):ee=t[49];let Q;t[50]!==o?(Q=c.jsx(f6,{value:o,index:1,children:ee}),t[50]=o,t[51]=Q):Q=t[51];let K;t[52]===Symbol.for("react.memo_cache_sentinel")?(K=c.jsx(LGe,{}),t[52]=K):K=t[52];let V;t[53]!==o?(V=c.jsx(f6,{value:o,index:2,children:K}),t[53]=o,t[54]=V):V=t[54];let Z;return t[55]!==T||t[56]!==U||t[57]!==W||t[58]!==Q||t[59]!==V?(Z=c.jsxs(J,{sx:y,children:[T,U,W,Q,V]}),t[55]=T,t[56]=U,t[57]=W,t[58]=Q,t[59]=V,t[60]=Z):Z=t[60],Z}function FGe(){const t=bt.c(19);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e={mb:3},t[0]=e):e=t[0];let n;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=c.jsx(is,{}),t[1]=n):n=t[1];let r;t[2]===Symbol.for("react.memo_cache_sentinel")?(r=c.jsx(Nc,{expandIcon:n,children:c.jsxs(J,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(fv,{color:"info"}),c.jsx(re,{variant:"h6",children:"Marked Fields  "})]})}),t[2]=r):r=t[2];let a;t[3]===Symbol.for("react.memo_cache_sentinel")?(a=c.jsx(yn,{sx:{mb:2}}),t[3]=a):a=t[3];let i,s;t[4]===Symbol.for("react.memo_cache_sentinel")?(i=c.jsx(re,{variant:"body1",gutterBottom:!0,children:c.jsx("strong",{children:"Marked Fields?"})}),s=c.jsx(re,{variant:"body2",paragraph:!0,children:"        .  , ,  , Steps, CFG     ."}),t[4]=i,t[5]=s):(i=t[4],s=t[5]);let o;t[6]===Symbol.for("react.memo_cache_sentinel")?(o=c.jsx(re,{variant:"body1",gutterBottom:!0,sx:{mt:2},children:c.jsx("strong",{children:"JSON Path  :"})}),t[6]=o):o=t[6];let l;t[7]===Symbol.for("react.memo_cache_sentinel")?(l={pl:2,"& li":{mb:1}},t[7]=l):l=t[7];let u,d;t[8]===Symbol.for("react.memo_cache_sentinel")?(u=c.jsx("li",{children:c.jsxs(re,{variant:"body2",children:["ComfyUI    ",c.jsx(yt,{label:"Save (API Format)",size:"small"}),"  "]})}),d=c.jsx("li",{children:c.jsx(re,{variant:"body2",children:"JSON       "})}),t[8]=u,t[9]=d):(u=t[8],d=t[9]);let h;t[10]===Symbol.for("react.memo_cache_sentinel")?(h=c.jsxs(J,{component:"ol",sx:l,children:[u,d,c.jsx("li",{children:c.jsxs(re,{variant:"body2",children:[" : ",c.jsx("code",{children:"[].inputs.[]"})]})})]}),t[10]=h):h=t[10];let m;t[11]===Symbol.for("react.memo_cache_sentinel")?(m={mt:2},t[11]=m):m=t[11];let y;t[12]===Symbol.for("react.memo_cache_sentinel")?(y=c.jsx(St,{severity:"success",sx:m,children:c.jsxs(re,{variant:"body2",component:"div",children:[c.jsx("strong",{children:" :"}),c.jsx("br",{}),c.jsx("br",{}),c.jsx("strong",{children:"1.   (CLIPTextEncode  #6)"}),c.jsxs("ul",{style:{marginLeft:"20px",marginTop:"8px"},children:[c.jsxs("li",{children:[c.jsx("strong",{children:" ID:"})," prompt_positive"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"})," "]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"}),"   (textarea)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"JSON Path:"})," 6.inputs.text"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"})," a beautiful landscape"]})]}),c.jsx("br",{}),c.jsx("strong",{children:"2.   (KSampler  #3)"}),c.jsxs("ul",{style:{marginLeft:"20px",marginTop:"8px"},children:[c.jsxs("li",{children:[c.jsx("strong",{children:" ID:"})," seed"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"})," Seed"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"}),"  (number)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"JSON Path:"})," 3.inputs.seed"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"})," 123456"]})]}),c.jsx("br",{}),c.jsx("strong",{children:"3. Steps (KSampler  #3)"}),c.jsxs("ul",{style:{marginLeft:"20px",marginTop:"8px"},children:[c.jsxs("li",{children:[c.jsx("strong",{children:" ID:"})," steps"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"})," Steps"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"}),"  (number)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"JSON Path:"})," 3.inputs.steps"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"})," 20"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"})," 1"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"})," 150"]})]}),c.jsx("br",{}),c.jsx("strong",{children:"4. Sampler (KSampler  #3)"}),c.jsxs("ul",{style:{marginLeft:"20px",marginTop:"8px"},children:[c.jsxs("li",{children:[c.jsx("strong",{children:" ID:"})," sampler_name"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"})," Sampler"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"}),"  (select)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"JSON Path:"})," 3.inputs.sampler_name"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" :"})," euler, euler_ancestral, dpm++ 2m, ddim"]})]})]})}),t[12]=y):y=t[12];let x;t[13]===Symbol.for("react.memo_cache_sentinel")?(x={mt:2},t[13]=x):x=t[13];let v;t[14]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx("strong",{children:" :"}),t[14]=v):v=t[14];let _;t[15]===Symbol.for("react.memo_cache_sentinel")?(_=c.jsx("br",{}),t[15]=_):_=t[15];let C;t[16]===Symbol.for("react.memo_cache_sentinel")?(C=c.jsx("code",{children:'{"3": {"inputs": {"seed": 123}}}'}),t[16]=C):C=t[16];let w;t[17]===Symbol.for("react.memo_cache_sentinel")?(w=c.jsx("br",{}),t[17]=w):w=t[17];let T;return t[18]===Symbol.for("react.memo_cache_sentinel")?(T=c.jsx(Yt,{sx:e,children:c.jsxs(Dc,{children:[r,c.jsxs(Mc,{children:[a,i,s,o,h,y,c.jsx(St,{severity:"info",sx:x,children:c.jsxs(re,{variant:"body2",children:[v," JSON Path Workflow JSON   .",_,"  JSON ",C," ",w,"JSON Path ",c.jsx("code",{children:"3.inputs.seed"})," ."]})})]})]})}),t[18]=T):T=t[18],T}function BGe({workflowJson:t,markedFields:e}){const[n,r]=A.useState({}),[a,i]=A.useState(!1);let s=null,o=null;try{t.trim()&&(s=JSON.parse(t))}catch{o="Workflow JSON   "}const l=m=>{if(!s)return{valid:!1,currentValue:null,error:"Workflow JSON "};try{const y=m.split(".");let x=s;for(const v of y)if(x&&typeof x=="object"&&v in x)x=x[v];else return{valid:!1,currentValue:null,error:`   : ${m}`};return{valid:!0,currentValue:x}}catch{return{valid:!1,currentValue:null,error:"    "}}},u=()=>{const m={};e.forEach(y=>{m[y.id]=y.default_value||(y.type==="number"?0:"")}),r(m),i(!0)},d=()=>{if(!s)return"";try{const m=JSON.parse(JSON.stringify(s));return e.forEach(y=>{const x=n[y.id]||y.default_value;if(x==null)return;const v=y.jsonPath.split(".");let _=m;for(let w=0;w<v.length-1;w++)v[w]in _||(_[v[w]]={}),_=_[v[w]];const C=v[v.length-1];_[C]=y.type==="number"?parseFloat(x)||0:x}),JSON.stringify(m,null,2)}catch{return"   "}},h=m=>{const y=n[m.id]||m.default_value||"";switch(m.type){case"textarea":return c.jsx(jt,{fullWidth:!0,multiline:!0,rows:4,label:m.label,value:y,onChange:x=>r({...n,[m.id]:x.target.value}),placeholder:m.placeholder,size:"small",sx:{mb:2}},m.id);case"number":return c.jsx(jt,{fullWidth:!0,type:"number",label:m.label,value:y,onChange:x=>r({...n,[m.id]:x.target.value}),placeholder:m.placeholder,inputProps:{min:m.min,max:m.max},size:"small",sx:{mb:2}},m.id);case"select":return c.jsx(jt,{fullWidth:!0,select:!0,label:m.label,value:y,onChange:x=>r({...n,[m.id]:x.target.value}),SelectProps:{native:!0},size:"small",sx:{mb:2},children:m.options?.map(x=>c.jsx("option",{value:x,children:x},x))},m.id);default:return c.jsx(jt,{fullWidth:!0,label:m.label,value:y,onChange:x=>r({...n,[m.id]:x.target.value}),placeholder:m.placeholder,size:"small",sx:{mb:2}},m.id)}};return e.length===0?null:c.jsxs(Yt,{sx:{p:3,mb:3},children:[c.jsxs(J,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[c.jsx(N5,{color:"primary"}),c.jsx(re,{variant:"h6",children:"Marked Fields "})]}),c.jsx(yn,{sx:{mb:3}}),o&&c.jsx(St,{severity:"error",sx:{mb:2},children:o}),s&&c.jsxs(J,{sx:{mb:3},children:[c.jsx(re,{variant:"subtitle1",gutterBottom:!0,children:"  "}),c.jsx(J,{sx:{display:"flex",flexDirection:"column",gap:1},children:e.map(m=>{const y=l(m.jsonPath);return c.jsxs(J,{sx:{display:"flex",flexDirection:"column",gap:.5,p:1,bgcolor:y.valid?"success.50":"error.50",borderRadius:1},children:[c.jsxs(J,{sx:{display:"flex",alignItems:"center",gap:1},children:[y.valid?c.jsx(Cs,{color:"success",fontSize:"small"}):c.jsx(Cg,{color:"error",fontSize:"small"}),c.jsxs(re,{variant:"body2",children:[c.jsx("strong",{children:m.label})," (",m.jsonPath,")"]})]}),y.valid&&y.currentValue!==void 0&&c.jsxs(J,{sx:{ml:4,p:1,bgcolor:"background.paper",borderRadius:.5,wordBreak:"break-word",maxWidth:"100%"},children:[c.jsx(re,{variant:"caption",color:"text.secondary",sx:{fontWeight:600},children:" :"}),c.jsx(re,{variant:"body2",sx:{mt:.5,whiteSpace:"pre-wrap",wordBreak:"break-word",fontFamily:"monospace",fontSize:"0.8rem"},children:JSON.stringify(y.currentValue)})]}),!y.valid&&c.jsxs(re,{variant:"caption",color:"error",sx:{ml:4},children:[" ",y.error]})]},m.id)})})]}),c.jsxs(J,{sx:{mb:3},children:[c.jsx(re,{variant:"subtitle1",gutterBottom:!0,children:"    "}),c.jsxs(J,{sx:{p:2,border:"1px dashed",borderColor:"divider",borderRadius:1,bgcolor:"background.default"},children:[e.map(m=>h(m)),c.jsx(Ke,{variant:"contained",fullWidth:!0,disabled:!0,children:"  ()"})]})]}),c.jsxs(J,{children:[c.jsx(Ke,{variant:"outlined",onClick:u,sx:{mb:2},children:"  "}),a&&c.jsxs(Dc,{children:[c.jsx(Nc,{expandIcon:c.jsx(is,{}),children:c.jsx(re,{variant:"body2",children:" Workflow JSON "})}),c.jsx(Mc,{children:c.jsx(J,{component:"pre",sx:{p:2,borderRadius:1,overflow:"auto",maxHeight:400,fontSize:"0.75rem",fontFamily:"monospace"},children:d()})})]})]})]})}function ws(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=ws(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var h6={exports:{}},p6={},m6={exports:{}},g6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JB;function HGe(){if(JB)return g6;JB=1;var t=Pg();function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,i=t.useLayoutEffect,s=t.useDebugValue;function o(h,m){var y=m(),x=r({inst:{value:y,getSnapshot:m}}),v=x[0].inst,_=x[1];return i(function(){v.value=y,v.getSnapshot=m,l(v)&&_({inst:v})},[h,y,m]),a(function(){return l(v)&&_({inst:v}),h(function(){l(v)&&_({inst:v})})},[h]),s(y),y}function l(h){var m=h.getSnapshot;h=h.value;try{var y=m();return!n(h,y)}catch{return!0}}function u(h,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return g6.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,g6}var eH;function UGe(){return eH||(eH=1,m6.exports=HGe()),m6.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tH;function $Ge(){if(tH)return p6;tH=1;var t=Pg(),e=UGe();function n(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,i=t.useRef,s=t.useEffect,o=t.useMemo,l=t.useDebugValue;return p6.useSyncExternalStoreWithSelector=function(u,d,h,m,y){var x=i(null);if(x.current===null){var v={hasValue:!1,value:null};x.current=v}else v=x.current;x=o(function(){function C(j){if(!w){if(w=!0,T=j,j=m(j),y!==void 0&&v.hasValue){var O=v.value;if(y(O,j))return E=O}return E=j}if(O=E,r(T,j))return O;var L=m(j);return y!==void 0&&y(O,L)?(T=j,O):(T=j,E=L)}var w=!1,T,E,I=h===void 0?null:h;return[function(){return C(d())},I===null?void 0:function(){return C(I())}]},[d,h,m,y]);var _=a(u,x[0],x[1]);return s(function(){v.hasValue=!0,v.value=_},[_]),l(_),_},p6}var nH;function GGe(){return nH||(nH=1,h6.exports=$Ge()),h6.exports}var qGe=GGe();const VGe=Qf(qGe),WGe={},rH=t=>{let e;const n=new Set,r=(d,h)=>{const m=typeof d=="function"?d(e):d;if(!Object.is(m,e)){const y=e;e=h??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(x=>x(e,y))}},a=()=>e,l={setState:r,getState:a,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(WGe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,a,l);return l},YGe=t=>t?rH(t):rH,{useDebugValue:KGe}=je,{useSyncExternalStoreWithSelector:XGe}=VGe,QGe=t=>t;function Ree(t,e=QGe,n){const r=XGe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return KGe(r),r}const aH=(t,e)=>{const n=YGe(t),r=(a,i=e)=>Ree(n,a,i);return Object.assign(r,n),r},ZGe=(t,e)=>t?aH(t,e):aH;function ss(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,a]of t)if(!Object.is(a,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var JGe={value:()=>{}};function pw(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new B4(n)}function B4(t){this._=t}function eqe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}B4.prototype=pw.prototype={constructor:B4,on:function(t,e){var n=this._,r=eqe(t+"",n),a,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((a=(t=r[i]).type)&&(a=tqe(n[a],t.name)))return a;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<s;)if(a=(t=r[i]).type)n[a]=iH(n[a],t.name,e);else if(e==null)for(a in n)n[a]=iH(n[a],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new B4(t)},call:function(t,e){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,i;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)}};function tqe(t,e){for(var n=0,r=t.length,a;n<r;++n)if((a=t[n]).name===e)return a.value}function iH(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=JGe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var JI="http://www.w3.org/1999/xhtml";const sH={svg:"http://www.w3.org/2000/svg",xhtml:JI,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mw(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),sH.hasOwnProperty(e)?{space:sH[e],local:t}:t}function nqe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===JI&&e.documentElement.namespaceURI===JI?e.createElement(t):e.createElementNS(n,t)}}function rqe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function kee(t){var e=mw(t);return(e.local?rqe:nqe)(e)}function aqe(){}function _D(t){return t==null?aqe:function(){return this.querySelector(t)}}function iqe(t){typeof t!="function"&&(t=_D(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i=e[a],s=i.length,o=r[a]=new Array(s),l,u,d=0;d<s;++d)(l=i[d])&&(u=t.call(l,l.__data__,d,i))&&("__data__"in l&&(u.__data__=l.__data__),o[d]=u);return new Pl(r,this._parents)}function sqe(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function oqe(){return[]}function Iee(t){return t==null?oqe:function(){return this.querySelectorAll(t)}}function lqe(t){return function(){return sqe(t.apply(this,arguments))}}function cqe(t){typeof t=="function"?t=lqe(t):t=Iee(t);for(var e=this._groups,n=e.length,r=[],a=[],i=0;i<n;++i)for(var s=e[i],o=s.length,l,u=0;u<o;++u)(l=s[u])&&(r.push(t.call(l,l.__data__,u,s)),a.push(l));return new Pl(r,a)}function jee(t){return function(){return this.matches(t)}}function Oee(t){return function(e){return e.matches(t)}}var uqe=Array.prototype.find;function dqe(t){return function(){return uqe.call(this.children,t)}}function fqe(){return this.firstElementChild}function hqe(t){return this.select(t==null?fqe:dqe(typeof t=="function"?t:Oee(t)))}var pqe=Array.prototype.filter;function mqe(){return Array.from(this.children)}function gqe(t){return function(){return pqe.call(this.children,t)}}function yqe(t){return this.selectAll(t==null?mqe:gqe(typeof t=="function"?t:Oee(t)))}function bqe(t){typeof t!="function"&&(t=jee(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i=e[a],s=i.length,o=r[a]=[],l,u=0;u<s;++u)(l=i[u])&&t.call(l,l.__data__,u,i)&&o.push(l);return new Pl(r,this._parents)}function Dee(t){return new Array(t.length)}function xqe(){return new Pl(this._enter||this._groups.map(Dee),this._parents)}function BC(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}BC.prototype={constructor:BC,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function vqe(t){return function(){return t}}function Sqe(t,e,n,r,a,i){for(var s=0,o,l=e.length,u=i.length;s<u;++s)(o=e[s])?(o.__data__=i[s],r[s]=o):n[s]=new BC(t,i[s]);for(;s<l;++s)(o=e[s])&&(a[s]=o)}function _qe(t,e,n,r,a,i,s){var o,l,u=new Map,d=e.length,h=i.length,m=new Array(d),y;for(o=0;o<d;++o)(l=e[o])&&(m[o]=y=s.call(l,l.__data__,o,e)+"",u.has(y)?a[o]=l:u.set(y,l));for(o=0;o<h;++o)y=s.call(t,i[o],o,i)+"",(l=u.get(y))?(r[o]=l,l.__data__=i[o],u.delete(y)):n[o]=new BC(t,i[o]);for(o=0;o<d;++o)(l=e[o])&&u.get(m[o])===l&&(a[o]=l)}function Cqe(t){return t.__data__}function wqe(t,e){if(!arguments.length)return Array.from(this,Cqe);var n=e?_qe:Sqe,r=this._parents,a=this._groups;typeof t!="function"&&(t=vqe(t));for(var i=a.length,s=new Array(i),o=new Array(i),l=new Array(i),u=0;u<i;++u){var d=r[u],h=a[u],m=h.length,y=Eqe(t.call(d,d&&d.__data__,u,r)),x=y.length,v=o[u]=new Array(x),_=s[u]=new Array(x),C=l[u]=new Array(m);n(d,h,v,_,C,y,e);for(var w=0,T=0,E,I;w<x;++w)if(E=v[w]){for(w>=T&&(T=w+1);!(I=_[T])&&++T<x;);E._next=I||null}}return s=new Pl(s,r),s._enter=o,s._exit=l,s}function Eqe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Tqe(){return new Pl(this._exit||this._groups.map(Dee),this._parents)}function Aqe(t,e,n){var r=this.enter(),a=this,i=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(a=e(a),a&&(a=a.selection())),n==null?i.remove():n(i),r&&a?r.merge(a).order():a}function Rqe(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,a=n.length,i=r.length,s=Math.min(a,i),o=new Array(a),l=0;l<s;++l)for(var u=n[l],d=r[l],h=u.length,m=o[l]=new Array(h),y,x=0;x<h;++x)(y=u[x]||d[x])&&(m[x]=y);for(;l<a;++l)o[l]=n[l];return new Pl(o,this._parents)}function kqe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],a=r.length-1,i=r[a],s;--a>=0;)(s=r[a])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function Iqe(t){t||(t=jqe);function e(h,m){return h&&m?t(h.__data__,m.__data__):!h-!m}for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var s=n[i],o=s.length,l=a[i]=new Array(o),u,d=0;d<o;++d)(u=s[d])&&(l[d]=u);l.sort(e)}return new Pl(a,this._parents).order()}function jqe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Oqe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Dqe(){return Array.from(this)}function Mqe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length;a<i;++a){var s=r[a];if(s)return s}return null}function Nqe(){let t=0;for(const e of this)++t;return t}function Pqe(){return!this.node()}function Lqe(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a=e[n],i=0,s=a.length,o;i<s;++i)(o=a[i])&&t.call(o,o.__data__,i,a);return this}function zqe(t){return function(){this.removeAttribute(t)}}function Fqe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Bqe(t,e){return function(){this.setAttribute(t,e)}}function Hqe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Uqe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function $qe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Gqe(t,e){var n=mw(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Fqe:zqe:typeof e=="function"?n.local?$qe:Uqe:n.local?Hqe:Bqe)(n,e))}function Mee(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function qqe(t){return function(){this.style.removeProperty(t)}}function Vqe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Wqe(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Yqe(t,e,n){return arguments.length>1?this.each((e==null?qqe:typeof e=="function"?Wqe:Vqe)(t,e,n??"")):hy(this.node(),t)}function hy(t,e){return t.style.getPropertyValue(e)||Mee(t).getComputedStyle(t,null).getPropertyValue(e)}function Kqe(t){return function(){delete this[t]}}function Xqe(t,e){return function(){this[t]=e}}function Qqe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Zqe(t,e){return arguments.length>1?this.each((e==null?Kqe:typeof e=="function"?Qqe:Xqe)(t,e)):this.node()[t]}function Nee(t){return t.trim().split(/^|\s+/)}function CD(t){return t.classList||new Pee(t)}function Pee(t){this._node=t,this._names=Nee(t.getAttribute("class")||"")}Pee.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Lee(t,e){for(var n=CD(t),r=-1,a=e.length;++r<a;)n.add(e[r])}function zee(t,e){for(var n=CD(t),r=-1,a=e.length;++r<a;)n.remove(e[r])}function Jqe(t){return function(){Lee(this,t)}}function eVe(t){return function(){zee(this,t)}}function tVe(t,e){return function(){(e.apply(this,arguments)?Lee:zee)(this,t)}}function nVe(t,e){var n=Nee(t+"");if(arguments.length<2){for(var r=CD(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof e=="function"?tVe:e?Jqe:eVe)(n,e))}function rVe(){this.textContent=""}function aVe(t){return function(){this.textContent=t}}function iVe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function sVe(t){return arguments.length?this.each(t==null?rVe:(typeof t=="function"?iVe:aVe)(t)):this.node().textContent}function oVe(){this.innerHTML=""}function lVe(t){return function(){this.innerHTML=t}}function cVe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function uVe(t){return arguments.length?this.each(t==null?oVe:(typeof t=="function"?cVe:lVe)(t)):this.node().innerHTML}function dVe(){this.nextSibling&&this.parentNode.appendChild(this)}function fVe(){return this.each(dVe)}function hVe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pVe(){return this.each(hVe)}function mVe(t){var e=typeof t=="function"?t:kee(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function gVe(){return null}function yVe(t,e){var n=typeof t=="function"?t:kee(t),r=e==null?gVe:typeof e=="function"?e:_D(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function bVe(){var t=this.parentNode;t&&t.removeChild(this)}function xVe(){return this.each(bVe)}function vVe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function SVe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function _Ve(t){return this.select(t?SVe:vVe)}function CVe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function wVe(t){return function(e){t.call(this,e,this.__data__)}}function EVe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function TVe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,a=e.length,i;n<a;++n)i=e[n],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++r]=i;++r?e.length=r:delete this.__on}}}function AVe(t,e,n){return function(){var r=this.__on,a,i=wVe(e);if(r){for(var s=0,o=r.length;s<o;++s)if((a=r[s]).type===t.type&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=n),a.value=e;return}}this.addEventListener(t.type,i,n),a={type:t.type,name:t.name,value:e,listener:i,options:n},r?r.push(a):this.__on=[a]}}function RVe(t,e,n){var r=EVe(t+""),a,i=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,d;l<u;++l)for(a=0,d=o[l];a<i;++a)if((s=r[a]).type===d.type&&s.name===d.name)return d.value}return}for(o=e?AVe:TVe,a=0;a<i;++a)this.each(o(r[a],e,n));return this}function Fee(t,e,n){var r=Mee(t),a=r.CustomEvent;typeof a=="function"?a=new a(e,n):(a=r.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function kVe(t,e){return function(){return Fee(this,t,e)}}function IVe(t,e){return function(){return Fee(this,t,e.apply(this,arguments))}}function jVe(t,e){return this.each((typeof e=="function"?IVe:kVe)(t,e))}function*OVe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length,s;a<i;++a)(s=r[a])&&(yield s)}var Bee=[null];function Pl(t,e){this._groups=t,this._parents=e}function gS(){return new Pl([[document.documentElement]],Bee)}function DVe(){return this}Pl.prototype=gS.prototype={constructor:Pl,select:iqe,selectAll:cqe,selectChild:hqe,selectChildren:yqe,filter:bqe,data:wqe,enter:xqe,exit:Tqe,join:Aqe,merge:Rqe,selection:DVe,order:kqe,sort:Iqe,call:Oqe,nodes:Dqe,node:Mqe,size:Nqe,empty:Pqe,each:Lqe,attr:Gqe,style:Yqe,property:Zqe,classed:nVe,text:sVe,html:uVe,raise:fVe,lower:pVe,append:mVe,insert:yVe,remove:xVe,clone:_Ve,datum:CVe,on:RVe,dispatch:jVe,[Symbol.iterator]:OVe};function Tc(t){return typeof t=="string"?new Pl([[document.querySelector(t)]],[document.documentElement]):new Pl([[t]],Bee)}function MVe(t){let e;for(;e=t.sourceEvent;)t=e;return t}function hu(t,e){if(t=MVe(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}}return[t.pageX,t.pageY]}const NVe={passive:!1},kv={capture:!0,passive:!1};function y6(t){t.stopImmediatePropagation()}function W1(t){t.preventDefault(),t.stopImmediatePropagation()}function Hee(t){var e=t.document.documentElement,n=Tc(t).on("dragstart.drag",W1,kv);"onselectstart"in e?n.on("selectstart.drag",W1,kv):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Uee(t,e){var n=t.document.documentElement,r=Tc(t).on("dragstart.drag",null);e&&(r.on("click.drag",W1,kv),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const c4=t=>()=>t;function ej(t,{sourceEvent:e,subject:n,target:r,identifier:a,active:i,x:s,y:o,dx:l,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}ej.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function PVe(t){return!t.ctrlKey&&!t.button}function LVe(){return this.parentNode}function zVe(t,e){return e??{x:t.x,y:t.y}}function FVe(){return navigator.maxTouchPoints||"ontouchstart"in this}function BVe(){var t=PVe,e=LVe,n=zVe,r=FVe,a={},i=pw("start","drag","end"),s=0,o,l,u,d,h=0;function m(E){E.on("mousedown.drag",y).filter(r).on("touchstart.drag",_).on("touchmove.drag",C,NVe).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(E,I){if(!(d||!t.call(this,E,I))){var j=T(this,e.call(this,E,I),E,I,"mouse");j&&(Tc(E.view).on("mousemove.drag",x,kv).on("mouseup.drag",v,kv),Hee(E.view),y6(E),u=!1,o=E.clientX,l=E.clientY,j("start",E))}}function x(E){if(W1(E),!u){var I=E.clientX-o,j=E.clientY-l;u=I*I+j*j>h}a.mouse("drag",E)}function v(E){Tc(E.view).on("mousemove.drag mouseup.drag",null),Uee(E.view,u),W1(E),a.mouse("end",E)}function _(E,I){if(t.call(this,E,I)){var j=E.changedTouches,O=e.call(this,E,I),L=j.length,N,M;for(N=0;N<L;++N)(M=T(this,O,E,I,j[N].identifier,j[N]))&&(y6(E),M("start",E,j[N]))}}function C(E){var I=E.changedTouches,j=I.length,O,L;for(O=0;O<j;++O)(L=a[I[O].identifier])&&(W1(E),L("drag",E,I[O]))}function w(E){var I=E.changedTouches,j=I.length,O,L;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),O=0;O<j;++O)(L=a[I[O].identifier])&&(y6(E),L("end",E,I[O]))}function T(E,I,j,O,L,N){var M=i.copy(),H=hu(N||j,I),P,$,D;if((D=n.call(E,new ej("beforestart",{sourceEvent:j,target:m,identifier:L,active:s,x:H[0],y:H[1],dx:0,dy:0,dispatch:M}),O))!=null)return P=D.x-H[0]||0,$=D.y-H[1]||0,function U(F,W,ee){var Q=H,K;switch(F){case"start":a[L]=U,K=s++;break;case"end":delete a[L],--s;case"drag":H=hu(ee||W,I),K=s;break}M.call(F,E,new ej(F,{sourceEvent:W,subject:D,target:m,identifier:L,active:K,x:H[0]+P,y:H[1]+$,dx:H[0]-Q[0],dy:H[1]-Q[1],dispatch:M}),O)}}return m.filter=function(E){return arguments.length?(t=typeof E=="function"?E:c4(!!E),m):t},m.container=function(E){return arguments.length?(e=typeof E=="function"?E:c4(E),m):e},m.subject=function(E){return arguments.length?(n=typeof E=="function"?E:c4(E),m):n},m.touchable=function(E){return arguments.length?(r=typeof E=="function"?E:c4(!!E),m):r},m.on=function(){var E=i.on.apply(i,arguments);return E===i?m:E},m.clickDistance=function(E){return arguments.length?(h=(E=+E)*E,m):Math.sqrt(h)},m}function wD(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function $ee(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function yS(){}var Iv=.7,HC=1/Iv,Y1="\\s*([+-]?\\d+)\\s*",jv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Md="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",HVe=/^#([0-9a-f]{3,8})$/,UVe=new RegExp(`^rgb\\(${Y1},${Y1},${Y1}\\)$`),$Ve=new RegExp(`^rgb\\(${Md},${Md},${Md}\\)$`),GVe=new RegExp(`^rgba\\(${Y1},${Y1},${Y1},${jv}\\)$`),qVe=new RegExp(`^rgba\\(${Md},${Md},${Md},${jv}\\)$`),VVe=new RegExp(`^hsl\\(${jv},${Md},${Md}\\)$`),WVe=new RegExp(`^hsla\\(${jv},${Md},${Md},${jv}\\)$`),oH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wD(yS,Ov,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:lH,formatHex:lH,formatHex8:YVe,formatHsl:KVe,formatRgb:cH,toString:cH});function lH(){return this.rgb().formatHex()}function YVe(){return this.rgb().formatHex8()}function KVe(){return Gee(this).formatHsl()}function cH(){return this.rgb().formatRgb()}function Ov(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=HVe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?uH(e):n===3?new Zo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?u4(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?u4(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=UVe.exec(t))?new Zo(e[1],e[2],e[3],1):(e=$Ve.exec(t))?new Zo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=GVe.exec(t))?u4(e[1],e[2],e[3],e[4]):(e=qVe.exec(t))?u4(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=VVe.exec(t))?hH(e[1],e[2]/100,e[3]/100,1):(e=WVe.exec(t))?hH(e[1],e[2]/100,e[3]/100,e[4]):oH.hasOwnProperty(t)?uH(oH[t]):t==="transparent"?new Zo(NaN,NaN,NaN,0):null}function uH(t){return new Zo(t>>16&255,t>>8&255,t&255,1)}function u4(t,e,n,r){return r<=0&&(t=e=n=NaN),new Zo(t,e,n,r)}function XVe(t){return t instanceof yS||(t=Ov(t)),t?(t=t.rgb(),new Zo(t.r,t.g,t.b,t.opacity)):new Zo}function tj(t,e,n,r){return arguments.length===1?XVe(t):new Zo(t,e,n,r??1)}function Zo(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}wD(Zo,tj,$ee(yS,{brighter(t){return t=t==null?HC:Math.pow(HC,t),new Zo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Iv:Math.pow(Iv,t),new Zo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Zo(gg(this.r),gg(this.g),gg(this.b),UC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dH,formatHex:dH,formatHex8:QVe,formatRgb:fH,toString:fH}));function dH(){return`#${og(this.r)}${og(this.g)}${og(this.b)}`}function QVe(){return`#${og(this.r)}${og(this.g)}${og(this.b)}${og((isNaN(this.opacity)?1:this.opacity)*255)}`}function fH(){const t=UC(this.opacity);return`${t===1?"rgb(":"rgba("}${gg(this.r)}, ${gg(this.g)}, ${gg(this.b)}${t===1?")":`, ${t})`}`}function UC(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function gg(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function og(t){return t=gg(t),(t<16?"0":"")+t.toString(16)}function hH(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new yu(t,e,n,r)}function Gee(t){if(t instanceof yu)return new yu(t.h,t.s,t.l,t.opacity);if(t instanceof yS||(t=Ov(t)),!t)return new yu;if(t instanceof yu)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),s=NaN,o=i-a,l=(i+a)/2;return o?(e===i?s=(n-r)/o+(n<r)*6:n===i?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new yu(s,o,l,t.opacity)}function ZVe(t,e,n,r){return arguments.length===1?Gee(t):new yu(t,e,n,r??1)}function yu(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}wD(yu,ZVe,$ee(yS,{brighter(t){return t=t==null?HC:Math.pow(HC,t),new yu(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Iv:Math.pow(Iv,t),new yu(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Zo(b6(t>=240?t-240:t+120,a,r),b6(t,a,r),b6(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new yu(pH(this.h),d4(this.s),d4(this.l),UC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=UC(this.opacity);return`${t===1?"hsl(":"hsla("}${pH(this.h)}, ${d4(this.s)*100}%, ${d4(this.l)*100}%${t===1?")":`, ${t})`}`}}));function pH(t){return t=(t||0)%360,t<0?t+360:t}function d4(t){return Math.max(0,Math.min(1,t||0))}function b6(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const qee=t=>()=>t;function JVe(t,e){return function(n){return t+n*e}}function eWe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function tWe(t){return(t=+t)==1?Vee:function(e,n){return n-e?eWe(e,n,t):qee(isNaN(e)?n:e)}}function Vee(t,e){var n=e-t;return n?JVe(t,n):qee(isNaN(t)?e:t)}const mH=(function t(e){var n=tWe(e);function r(a,i){var s=n((a=tj(a)).r,(i=tj(i)).r),o=n(a.g,i.g),l=n(a.b,i.b),u=Vee(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=o(d),a.b=l(d),a.opacity=u(d),a+""}}return r.gamma=t,r})(1);function rp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var nj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,x6=new RegExp(nj.source,"g");function nWe(t){return function(){return t}}function rWe(t){return function(e){return t(e)+""}}function aWe(t,e){var n=nj.lastIndex=x6.lastIndex=0,r,a,i,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=nj.exec(t))&&(a=x6.exec(e));)(i=a.index)>n&&(i=e.slice(n,i),o[s]?o[s]+=i:o[++s]=i),(r=r[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:rp(r,a)})),n=x6.lastIndex;return n<e.length&&(i=e.slice(n),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?rWe(l[0].x):nWe(e):(e=l.length,function(u){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(u);return o.join("")})}var gH=180/Math.PI,rj={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Wee(t,e,n,r,a,i){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:a,translateY:i,rotate:Math.atan2(e,t)*gH,skewX:Math.atan(l)*gH,scaleX:s,scaleY:o}}var f4;function iWe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?rj:Wee(e.a,e.b,e.c,e.d,e.e,e.f)}function sWe(t){return t==null||(f4||(f4=document.createElementNS("http://www.w3.org/2000/svg","g")),f4.setAttribute("transform",t),!(t=f4.transform.baseVal.consolidate()))?rj:(t=t.matrix,Wee(t.a,t.b,t.c,t.d,t.e,t.f))}function Yee(t,e,n,r){function a(u){return u.length?u.pop()+" ":""}function i(u,d,h,m,y,x){if(u!==h||d!==m){var v=y.push("translate(",null,e,null,n);x.push({i:v-4,x:rp(u,h)},{i:v-2,x:rp(d,m)})}else(h||m)&&y.push("translate("+h+e+m+n)}function s(u,d,h,m){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),m.push({i:h.push(a(h)+"rotate(",null,r)-2,x:rp(u,d)})):d&&h.push(a(h)+"rotate("+d+r)}function o(u,d,h,m){u!==d?m.push({i:h.push(a(h)+"skewX(",null,r)-2,x:rp(u,d)}):d&&h.push(a(h)+"skewX("+d+r)}function l(u,d,h,m,y,x){if(u!==h||d!==m){var v=y.push(a(y)+"scale(",null,",",null,")");x.push({i:v-4,x:rp(u,h)},{i:v-2,x:rp(d,m)})}else(h!==1||m!==1)&&y.push(a(y)+"scale("+h+","+m+")")}return function(u,d){var h=[],m=[];return u=t(u),d=t(d),i(u.translateX,u.translateY,d.translateX,d.translateY,h,m),s(u.rotate,d.rotate,h,m),o(u.skewX,d.skewX,h,m),l(u.scaleX,u.scaleY,d.scaleX,d.scaleY,h,m),u=d=null,function(y){for(var x=-1,v=m.length,_;++x<v;)h[(_=m[x]).i]=_.x(y);return h.join("")}}}var oWe=Yee(iWe,"px, ","px)","deg)"),lWe=Yee(sWe,", ",")",")"),cWe=1e-12;function yH(t){return((t=Math.exp(t))+1/t)/2}function uWe(t){return((t=Math.exp(t))-1/t)/2}function dWe(t){return((t=Math.exp(2*t))-1)/(t+1)}const fWe=(function t(e,n,r){function a(i,s){var o=i[0],l=i[1],u=i[2],d=s[0],h=s[1],m=s[2],y=d-o,x=h-l,v=y*y+x*x,_,C;if(v<cWe)C=Math.log(m/u)/e,_=function(O){return[o+O*y,l+O*x,u*Math.exp(e*O*C)]};else{var w=Math.sqrt(v),T=(m*m-u*u+r*v)/(2*u*n*w),E=(m*m-u*u-r*v)/(2*m*n*w),I=Math.log(Math.sqrt(T*T+1)-T),j=Math.log(Math.sqrt(E*E+1)-E);C=(j-I)/e,_=function(O){var L=O*C,N=yH(I),M=u/(n*w)*(N*dWe(e*L+I)-uWe(I));return[o+M*y,l+M*x,u*N/yH(e*L+I)]}}return _.duration=C*1e3*e/Math.SQRT2,_}return a.rho=function(i){var s=Math.max(.001,+i),o=s*s,l=o*o;return t(s,o,l)},a})(Math.SQRT2,2,4);var py=0,m2=0,Gx=0,Kee=1e3,$C,g2,GC=0,Og=0,gw=0,Dv=typeof performance=="object"&&performance.now?performance:Date,Xee=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ED(){return Og||(Xee(hWe),Og=Dv.now()+gw)}function hWe(){Og=0}function qC(){this._call=this._time=this._next=null}qC.prototype=Qee.prototype={constructor:qC,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ED():+n)+(e==null?0:+e),!this._next&&g2!==this&&(g2?g2._next=this:$C=this,g2=this),this._call=t,this._time=n,aj()},stop:function(){this._call&&(this._call=null,this._time=1/0,aj())}};function Qee(t,e,n){var r=new qC;return r.restart(t,e,n),r}function pWe(){ED(),++py;for(var t=$C,e;t;)(e=Og-t._time)>=0&&t._call.call(void 0,e),t=t._next;--py}function bH(){Og=(GC=Dv.now())+gw,py=m2=0;try{pWe()}finally{py=0,gWe(),Og=0}}function mWe(){var t=Dv.now(),e=t-GC;e>Kee&&(gw-=e,GC=t)}function gWe(){for(var t,e=$C,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:$C=n);g2=t,aj(r)}function aj(t){if(!py){m2&&(m2=clearTimeout(m2));var e=t-Og;e>24?(t<1/0&&(m2=setTimeout(bH,t-Dv.now()-gw)),Gx&&(Gx=clearInterval(Gx))):(Gx||(GC=Dv.now(),Gx=setInterval(mWe,Kee)),py=1,Xee(bH))}}function xH(t,e,n){var r=new qC;return e=e==null?0:+e,r.restart(a=>{r.stop(),t(a+e)},e,n),r}var yWe=pw("start","end","cancel","interrupt"),bWe=[],Zee=0,vH=1,ij=2,H4=3,SH=4,sj=5,U4=6;function yw(t,e,n,r,a,i){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;xWe(t,n,{name:e,index:r,group:a,on:yWe,tween:bWe,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Zee})}function TD(t,e){var n=Nu(t,e);if(n.state>Zee)throw new Error("too late; already scheduled");return n}function Wd(t,e){var n=Nu(t,e);if(n.state>H4)throw new Error("too late; already running");return n}function Nu(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function xWe(t,e,n){var r=t.__transition,a;r[e]=n,n.timer=Qee(i,0,n.time);function i(u){n.state=vH,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var d,h,m,y;if(n.state!==vH)return l();for(d in r)if(y=r[d],y.name===n.name){if(y.state===H4)return xH(s);y.state===SH?(y.state=U4,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete r[d]):+d<e&&(y.state=U4,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete r[d])}if(xH(function(){n.state===H4&&(n.state=SH,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=ij,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ij){for(n.state=H4,a=new Array(m=n.tween.length),d=0,h=-1;d<m;++d)(y=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(a[++h]=y);a.length=h+1}}function o(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=sj,1),h=-1,m=a.length;++h<m;)a[h].call(t,d);n.state===sj&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=U4,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function $4(t,e){var n=t.__transition,r,a,i=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){i=!1;continue}a=r.state>ij&&r.state<sj,r.state=U4,r.timer.stop(),r.on.call(a?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}i&&delete t.__transition}}function vWe(t){return this.each(function(){$4(this,t)})}function SWe(t,e){var n,r;return function(){var a=Wd(this,t),i=a.tween;if(i!==n){r=n=i;for(var s=0,o=r.length;s<o;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}a.tween=r}}function _We(t,e,n){var r,a;if(typeof n!="function")throw new Error;return function(){var i=Wd(this,t),s=i.tween;if(s!==r){a=(r=s).slice();for(var o={name:e,value:n},l=0,u=a.length;l<u;++l)if(a[l].name===e){a[l]=o;break}l===u&&a.push(o)}i.tween=a}}function CWe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Nu(this.node(),n).tween,a=0,i=r.length,s;a<i;++a)if((s=r[a]).name===t)return s.value;return null}return this.each((e==null?SWe:_We)(n,t,e))}function AD(t,e,n){var r=t._id;return t.each(function(){var a=Wd(this,r);(a.value||(a.value={}))[e]=n.apply(this,arguments)}),function(a){return Nu(a,r).value[e]}}function Jee(t,e){var n;return(typeof e=="number"?rp:e instanceof Ov?mH:(n=Ov(e))?(e=n,mH):aWe)(t,e)}function wWe(t){return function(){this.removeAttribute(t)}}function EWe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function TWe(t,e,n){var r,a=n+"",i;return function(){var s=this.getAttribute(t);return s===a?null:s===r?i:i=e(r=s,n)}}function AWe(t,e,n){var r,a=n+"",i;return function(){var s=this.getAttributeNS(t.space,t.local);return s===a?null:s===r?i:i=e(r=s,n)}}function RWe(t,e,n){var r,a,i;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=o+"",s===l?null:s===r&&l===a?i:(a=l,i=e(r=s,o)))}}function kWe(t,e,n){var r,a,i;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=o+"",s===l?null:s===r&&l===a?i:(a=l,i=e(r=s,o)))}}function IWe(t,e){var n=mw(t),r=n==="transform"?lWe:Jee;return this.attrTween(t,typeof e=="function"?(n.local?kWe:RWe)(n,r,AD(this,"attr."+t,e)):e==null?(n.local?EWe:wWe)(n):(n.local?AWe:TWe)(n,r,e))}function jWe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function OWe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function DWe(t,e){var n,r;function a(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&OWe(t,i)),n}return a._value=e,a}function MWe(t,e){var n,r;function a(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&jWe(t,i)),n}return a._value=e,a}function NWe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=mw(t);return this.tween(n,(r.local?DWe:MWe)(r,e))}function PWe(t,e){return function(){TD(this,t).delay=+e.apply(this,arguments)}}function LWe(t,e){return e=+e,function(){TD(this,t).delay=e}}function zWe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?PWe:LWe)(e,t)):Nu(this.node(),e).delay}function FWe(t,e){return function(){Wd(this,t).duration=+e.apply(this,arguments)}}function BWe(t,e){return e=+e,function(){Wd(this,t).duration=e}}function HWe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?FWe:BWe)(e,t)):Nu(this.node(),e).duration}function UWe(t,e){if(typeof e!="function")throw new Error;return function(){Wd(this,t).ease=e}}function $We(t){var e=this._id;return arguments.length?this.each(UWe(e,t)):Nu(this.node(),e).ease}function GWe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Wd(this,t).ease=n}}function qWe(t){if(typeof t!="function")throw new Error;return this.each(GWe(this._id,t))}function VWe(t){typeof t!="function"&&(t=jee(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i=e[a],s=i.length,o=r[a]=[],l,u=0;u<s;++u)(l=i[u])&&t.call(l,l.__data__,u,i)&&o.push(l);return new Kf(r,this._parents,this._name,this._id)}function WWe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,a=n.length,i=Math.min(r,a),s=new Array(r),o=0;o<i;++o)for(var l=e[o],u=n[o],d=l.length,h=s[o]=new Array(d),m,y=0;y<d;++y)(m=l[y]||u[y])&&(h[y]=m);for(;o<r;++o)s[o]=e[o];return new Kf(s,this._parents,this._name,this._id)}function YWe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function KWe(t,e,n){var r,a,i=YWe(e)?TD:Wd;return function(){var s=i(this,t),o=s.on;o!==r&&(a=(r=o).copy()).on(e,n),s.on=a}}function XWe(t,e){var n=this._id;return arguments.length<2?Nu(this.node(),n).on.on(t):this.each(KWe(n,t,e))}function QWe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ZWe(){return this.on("end.remove",QWe(this._id))}function JWe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=_D(t));for(var r=this._groups,a=r.length,i=new Array(a),s=0;s<a;++s)for(var o=r[s],l=o.length,u=i[s]=new Array(l),d,h,m=0;m<l;++m)(d=o[m])&&(h=t.call(d,d.__data__,m,o))&&("__data__"in d&&(h.__data__=d.__data__),u[m]=h,yw(u[m],e,n,m,u,Nu(d,n)));return new Kf(i,this._parents,e,n)}function eYe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Iee(t));for(var r=this._groups,a=r.length,i=[],s=[],o=0;o<a;++o)for(var l=r[o],u=l.length,d,h=0;h<u;++h)if(d=l[h]){for(var m=t.call(d,d.__data__,h,l),y,x=Nu(d,n),v=0,_=m.length;v<_;++v)(y=m[v])&&yw(y,e,n,v,m,x);i.push(m),s.push(d)}return new Kf(i,s,e,n)}var tYe=gS.prototype.constructor;function nYe(){return new tYe(this._groups,this._parents)}function rYe(t,e){var n,r,a;return function(){var i=hy(this,t),s=(this.style.removeProperty(t),hy(this,t));return i===s?null:i===n&&s===r?a:a=e(n=i,r=s)}}function ete(t){return function(){this.style.removeProperty(t)}}function aYe(t,e,n){var r,a=n+"",i;return function(){var s=hy(this,t);return s===a?null:s===r?i:i=e(r=s,n)}}function iYe(t,e,n){var r,a,i;return function(){var s=hy(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),hy(this,t))),s===l?null:s===r&&l===a?i:(a=l,i=e(r=s,o))}}function sYe(t,e){var n,r,a,i="style."+e,s="end."+i,o;return function(){var l=Wd(this,t),u=l.on,d=l.value[i]==null?o||(o=ete(e)):void 0;(u!==n||a!==d)&&(r=(n=u).copy()).on(s,a=d),l.on=r}}function oYe(t,e,n){var r=(t+="")=="transform"?oWe:Jee;return e==null?this.styleTween(t,rYe(t,r)).on("end.style."+t,ete(t)):typeof e=="function"?this.styleTween(t,iYe(t,r,AD(this,"style."+t,e))).each(sYe(this._id,t)):this.styleTween(t,aYe(t,r,e),n).on("end.style."+t,null)}function lYe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function cYe(t,e,n){var r,a;function i(){var s=e.apply(this,arguments);return s!==a&&(r=(a=s)&&lYe(t,s,n)),r}return i._value=e,i}function uYe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,cYe(t,e,n??""))}function dYe(t){return function(){this.textContent=t}}function fYe(t){return function(){var e=t(this);this.textContent=e??""}}function hYe(t){return this.tween("text",typeof t=="function"?fYe(AD(this,"text",t)):dYe(t==null?"":t+""))}function pYe(t){return function(e){this.textContent=t.call(this,e)}}function mYe(t){var e,n;function r(){var a=t.apply(this,arguments);return a!==n&&(e=(n=a)&&pYe(a)),e}return r._value=t,r}function gYe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,mYe(t))}function yYe(){for(var t=this._name,e=this._id,n=tte(),r=this._groups,a=r.length,i=0;i<a;++i)for(var s=r[i],o=s.length,l,u=0;u<o;++u)if(l=s[u]){var d=Nu(l,e);yw(l,t,n,u,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Kf(r,this._parents,t,n)}function bYe(){var t,e,n=this,r=n._id,a=n.size();return new Promise(function(i,s){var o={value:s},l={value:function(){--a===0&&i()}};n.each(function(){var u=Wd(this,r),d=u.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),u.on=e}),a===0&&i()})}var xYe=0;function Kf(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function tte(){return++xYe}var Df=gS.prototype;Kf.prototype={constructor:Kf,select:JWe,selectAll:eYe,selectChild:Df.selectChild,selectChildren:Df.selectChildren,filter:VWe,merge:WWe,selection:nYe,transition:yYe,call:Df.call,nodes:Df.nodes,node:Df.node,size:Df.size,empty:Df.empty,each:Df.each,on:XWe,attr:IWe,attrTween:NWe,style:oYe,styleTween:uYe,text:hYe,textTween:gYe,remove:ZWe,tween:CWe,delay:zWe,duration:HWe,ease:$We,easeVarying:qWe,end:bYe,[Symbol.iterator]:Df[Symbol.iterator]};function vYe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var SYe={time:null,delay:0,duration:250,ease:vYe};function _Ye(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function CYe(t){var e,n;t instanceof Kf?(e=t._id,t=t._name):(e=tte(),(n=SYe).time=ED(),t=t==null?null:t+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var s=r[i],o=s.length,l,u=0;u<o;++u)(l=s[u])&&yw(l,t,e,u,s,n||_Ye(l,e));return new Kf(r,this._parents,t,e)}gS.prototype.interrupt=vWe;gS.prototype.transition=CYe;const h4=t=>()=>t;function wYe(t,{sourceEvent:e,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function zf(t,e,n){this.k=t,this.x=e,this.y=n}zf.prototype={constructor:zf,scale:function(t){return t===1?this:new zf(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new zf(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var $f=new zf(1,0,0);zf.prototype;function v6(t){t.stopImmediatePropagation()}function qx(t){t.preventDefault(),t.stopImmediatePropagation()}function EYe(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function TYe(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function _H(){return this.__zoom||$f}function AYe(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function RYe(){return navigator.maxTouchPoints||"ontouchstart"in this}function kYe(t,e,n){var r=t.invertX(e[0][0])-n[0][0],a=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function nte(){var t=EYe,e=TYe,n=kYe,r=AYe,a=RYe,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,l=fWe,u=pw("start","zoom","end"),d,h,m,y=500,x=150,v=0,_=10;function C(D){D.property("__zoom",_H).on("wheel.zoom",L,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",M).filter(a).on("touchstart.zoom",H).on("touchmove.zoom",P).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}C.transform=function(D,U,F,W){var ee=D.selection?D.selection():D;ee.property("__zoom",_H),D!==ee?I(D,U,F,W):ee.interrupt().each(function(){j(this,arguments).event(W).start().zoom(null,typeof U=="function"?U.apply(this,arguments):U).end()})},C.scaleBy=function(D,U,F,W){C.scaleTo(D,function(){var ee=this.__zoom.k,Q=typeof U=="function"?U.apply(this,arguments):U;return ee*Q},F,W)},C.scaleTo=function(D,U,F,W){C.transform(D,function(){var ee=e.apply(this,arguments),Q=this.__zoom,K=F==null?E(ee):typeof F=="function"?F.apply(this,arguments):F,V=Q.invert(K),Z=typeof U=="function"?U.apply(this,arguments):U;return n(T(w(Q,Z),K,V),ee,s)},F,W)},C.translateBy=function(D,U,F,W){C.transform(D,function(){return n(this.__zoom.translate(typeof U=="function"?U.apply(this,arguments):U,typeof F=="function"?F.apply(this,arguments):F),e.apply(this,arguments),s)},null,W)},C.translateTo=function(D,U,F,W,ee){C.transform(D,function(){var Q=e.apply(this,arguments),K=this.__zoom,V=W==null?E(Q):typeof W=="function"?W.apply(this,arguments):W;return n($f.translate(V[0],V[1]).scale(K.k).translate(typeof U=="function"?-U.apply(this,arguments):-U,typeof F=="function"?-F.apply(this,arguments):-F),Q,s)},W,ee)};function w(D,U){return U=Math.max(i[0],Math.min(i[1],U)),U===D.k?D:new zf(U,D.x,D.y)}function T(D,U,F){var W=U[0]-F[0]*D.k,ee=U[1]-F[1]*D.k;return W===D.x&&ee===D.y?D:new zf(D.k,W,ee)}function E(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function I(D,U,F,W){D.on("start.zoom",function(){j(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).event(W).end()}).tween("zoom",function(){var ee=this,Q=arguments,K=j(ee,Q).event(W),V=e.apply(ee,Q),Z=F==null?E(V):typeof F=="function"?F.apply(ee,Q):F,q=Math.max(V[1][0]-V[0][0],V[1][1]-V[0][1]),te=ee.__zoom,ae=typeof U=="function"?U.apply(ee,Q):U,ie=l(te.invert(Z).concat(q/te.k),ae.invert(Z).concat(q/ae.k));return function(ce){if(ce===1)ce=ae;else{var pe=ie(ce),ge=q/pe[2];ce=new zf(ge,Z[0]-pe[0]*ge,Z[1]-pe[1]*ge)}K.zoom(null,ce)}})}function j(D,U,F){return!F&&D.__zooming||new O(D,U)}function O(D,U){this.that=D,this.args=U,this.active=0,this.sourceEvent=null,this.extent=e.apply(D,U),this.taps=0}O.prototype={event:function(D){return D&&(this.sourceEvent=D),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,U){return this.mouse&&D!=="mouse"&&(this.mouse[1]=U.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=U.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=U.invert(this.touch1[0])),this.that.__zoom=U,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){var U=Tc(this.that).datum();u.call(D,this.that,new wYe(D,{sourceEvent:this.sourceEvent,target:C,transform:this.that.__zoom,dispatch:u}),U)}};function L(D,...U){if(!t.apply(this,arguments))return;var F=j(this,U).event(D),W=this.__zoom,ee=Math.max(i[0],Math.min(i[1],W.k*Math.pow(2,r.apply(this,arguments)))),Q=hu(D);if(F.wheel)(F.mouse[0][0]!==Q[0]||F.mouse[0][1]!==Q[1])&&(F.mouse[1]=W.invert(F.mouse[0]=Q)),clearTimeout(F.wheel);else{if(W.k===ee)return;F.mouse=[Q,W.invert(Q)],$4(this),F.start()}qx(D),F.wheel=setTimeout(K,x),F.zoom("mouse",n(T(w(W,ee),F.mouse[0],F.mouse[1]),F.extent,s));function K(){F.wheel=null,F.end()}}function N(D,...U){if(m||!t.apply(this,arguments))return;var F=D.currentTarget,W=j(this,U,!0).event(D),ee=Tc(D.view).on("mousemove.zoom",Z,!0).on("mouseup.zoom",q,!0),Q=hu(D,F),K=D.clientX,V=D.clientY;Hee(D.view),v6(D),W.mouse=[Q,this.__zoom.invert(Q)],$4(this),W.start();function Z(te){if(qx(te),!W.moved){var ae=te.clientX-K,ie=te.clientY-V;W.moved=ae*ae+ie*ie>v}W.event(te).zoom("mouse",n(T(W.that.__zoom,W.mouse[0]=hu(te,F),W.mouse[1]),W.extent,s))}function q(te){ee.on("mousemove.zoom mouseup.zoom",null),Uee(te.view,W.moved),qx(te),W.event(te).end()}}function M(D,...U){if(t.apply(this,arguments)){var F=this.__zoom,W=hu(D.changedTouches?D.changedTouches[0]:D,this),ee=F.invert(W),Q=F.k*(D.shiftKey?.5:2),K=n(T(w(F,Q),W,ee),e.apply(this,U),s);qx(D),o>0?Tc(this).transition().duration(o).call(I,K,W,D):Tc(this).call(C.transform,K,W,D)}}function H(D,...U){if(t.apply(this,arguments)){var F=D.touches,W=F.length,ee=j(this,U,D.changedTouches.length===W).event(D),Q,K,V,Z;for(v6(D),K=0;K<W;++K)V=F[K],Z=hu(V,this),Z=[Z,this.__zoom.invert(Z),V.identifier],ee.touch0?!ee.touch1&&ee.touch0[2]!==Z[2]&&(ee.touch1=Z,ee.taps=0):(ee.touch0=Z,Q=!0,ee.taps=1+!!d);d&&(d=clearTimeout(d)),Q&&(ee.taps<2&&(h=Z[0],d=setTimeout(function(){d=null},y)),$4(this),ee.start())}}function P(D,...U){if(this.__zooming){var F=j(this,U).event(D),W=D.changedTouches,ee=W.length,Q,K,V,Z;for(qx(D),Q=0;Q<ee;++Q)K=W[Q],V=hu(K,this),F.touch0&&F.touch0[2]===K.identifier?F.touch0[0]=V:F.touch1&&F.touch1[2]===K.identifier&&(F.touch1[0]=V);if(K=F.that.__zoom,F.touch1){var q=F.touch0[0],te=F.touch0[1],ae=F.touch1[0],ie=F.touch1[1],ce=(ce=ae[0]-q[0])*ce+(ce=ae[1]-q[1])*ce,pe=(pe=ie[0]-te[0])*pe+(pe=ie[1]-te[1])*pe;K=w(K,Math.sqrt(ce/pe)),V=[(q[0]+ae[0])/2,(q[1]+ae[1])/2],Z=[(te[0]+ie[0])/2,(te[1]+ie[1])/2]}else if(F.touch0)V=F.touch0[0],Z=F.touch0[1];else return;F.zoom("touch",n(T(K,V,Z),F.extent,s))}}function $(D,...U){if(this.__zooming){var F=j(this,U).event(D),W=D.changedTouches,ee=W.length,Q,K;for(v6(D),m&&clearTimeout(m),m=setTimeout(function(){m=null},y),Q=0;Q<ee;++Q)K=W[Q],F.touch0&&F.touch0[2]===K.identifier?delete F.touch0:F.touch1&&F.touch1[2]===K.identifier&&delete F.touch1;if(F.touch1&&!F.touch0&&(F.touch0=F.touch1,delete F.touch1),F.touch0)F.touch0[1]=this.__zoom.invert(F.touch0[0]);else if(F.end(),F.taps===2&&(K=hu(K,this),Math.hypot(h[0]-K[0],h[1]-K[1])<_)){var V=Tc(this).on("dblclick.zoom");V&&V.apply(this,arguments)}}}return C.wheelDelta=function(D){return arguments.length?(r=typeof D=="function"?D:h4(+D),C):r},C.filter=function(D){return arguments.length?(t=typeof D=="function"?D:h4(!!D),C):t},C.touchable=function(D){return arguments.length?(a=typeof D=="function"?D:h4(!!D),C):a},C.extent=function(D){return arguments.length?(e=typeof D=="function"?D:h4([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),C):e},C.scaleExtent=function(D){return arguments.length?(i[0]=+D[0],i[1]=+D[1],C):[i[0],i[1]]},C.translateExtent=function(D){return arguments.length?(s[0][0]=+D[0][0],s[1][0]=+D[1][0],s[0][1]=+D[0][1],s[1][1]=+D[1][1],C):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},C.constrain=function(D){return arguments.length?(n=D,C):n},C.duration=function(D){return arguments.length?(o=+D,C):o},C.interpolate=function(D){return arguments.length?(l=D,C):l},C.on=function(){var D=u.on.apply(u,arguments);return D===u?C:D},C.clickDistance=function(D){return arguments.length?(v=(D=+D)*D,C):Math.sqrt(v)},C.tapDistance=function(D){return arguments.length?(_=+D,C):_},C}const bw=A.createContext(null),IYe=bw.Provider,Xf={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},rte=Xf.error001();function ia(t,e){const n=A.useContext(bw);if(n===null)throw new Error(rte);return Ree(n,t,e)}const qi=()=>{const t=A.useContext(bw);if(t===null)throw new Error(rte);return A.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},jYe=t=>t.userSelectionActive?"none":"all";function RD({position:t,children:e,className:n,style:r,...a}){const i=ia(jYe),s=`${t}`.split("-");return je.createElement("div",{className:ws(["react-flow__panel",n,...s]),style:{...r,pointerEvents:i},...a},e)}function OYe({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:je.createElement(RD,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},je.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const DYe=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:a=!0,labelBgStyle:i={},labelBgPadding:s=[2,4],labelBgBorderRadius:o=2,children:l,className:u,...d})=>{const h=A.useRef(null),[m,y]=A.useState({x:0,y:0,width:0,height:0}),x=ws(["react-flow__edge-textwrapper",u]);return A.useEffect(()=>{if(h.current){const v=h.current.getBBox();y({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:je.createElement("g",{transform:`translate(${t-m.width/2} ${e-m.height/2})`,className:x,visibility:m.width?"visible":"hidden",...d},a&&je.createElement("rect",{width:m.width+2*s[0],x:-s[0],y:-s[1],height:m.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:o,ry:o}),je.createElement("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:h,style:r},n),l)};var MYe=A.memo(DYe);const kD=t=>({width:t.offsetWidth,height:t.offsetHeight}),my=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),ID=(t={x:0,y:0},e)=>({x:my(t.x,e[0][0],e[1][0]),y:my(t.y,e[0][1],e[1][1])}),CH=(t,e,n)=>t<e?my(Math.abs(t-e),1,50)/50:t>n?-my(Math.abs(t-n),1,50)/50:0,ate=(t,e)=>{const n=CH(t.x,35,e.width-35)*20,r=CH(t.y,35,e.height-35)*20;return[n,r]},ite=t=>t.getRootNode?.()||window?.document,ste=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Mv=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),ote=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),wH=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),NYe=(t,e)=>ote(ste(Mv(t),Mv(e))),oj=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},PYe=t=>Ic(t.width)&&Ic(t.height)&&Ic(t.x)&&Ic(t.y),Ic=t=>!isNaN(t)&&isFinite(t),ei=Symbol.for("internals"),lte=["Enter"," ","Escape"],LYe=(t,e)=>{},zYe=t=>"nativeEvent"in t;function lj(t){const n=(zYe(t)?t.nativeEvent:t).composedPath?.()?.[0]||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const cte=t=>"clientX"in t,Tp=(t,e)=>{const n=cte(t),r=n?t.clientX:t.touches?.[0].clientX,a=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:a-(e?.top??0)}},VC=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,bS=({id:t,path:e,labelX:n,labelY:r,label:a,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:m,interactionWidth:y=20})=>je.createElement(je.Fragment,null,je.createElement("path",{id:t,style:d,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:m}),y&&je.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:y,className:"react-flow__edge-interaction"}),a&&Ic(n)&&Ic(r)?je.createElement(MYe,{x:n,y:r,label:a,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u}):null);bS.displayName="BaseEdge";function Vx(t,e,n){return n===void 0?n:r=>{const a=e().edges.find(i=>i.id===t);a&&n(r,{...a})}}function ute({sourceX:t,sourceY:e,targetX:n,targetY:r}){const a=Math.abs(n-t)/2,i=n<t?n+a:n-a,s=Math.abs(r-e)/2,o=r<e?r+s:r-s;return[i,o,a,s]}function dte({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:a,sourceControlY:i,targetControlX:s,targetControlY:o}){const l=t*.125+a*.375+s*.375+n*.125,u=e*.125+i*.375+o*.375+r*.125,d=Math.abs(l-t),h=Math.abs(u-e);return[l,u,d,h]}var Dg;(function(t){t.Strict="strict",t.Loose="loose"})(Dg||(Dg={}));var lg;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(lg||(lg={}));var Nv;(function(t){t.Partial="partial",t.Full="full"})(Nv||(Nv={}));var lp;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(lp||(lp={}));var Pv;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Pv||(Pv={}));var sn;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(sn||(sn={}));function EH({pos:t,x1:e,y1:n,x2:r,y2:a}){return t===sn.Left||t===sn.Right?[.5*(e+r),n]:[e,.5*(n+a)]}function fte({sourceX:t,sourceY:e,sourcePosition:n=sn.Bottom,targetX:r,targetY:a,targetPosition:i=sn.Top}){const[s,o]=EH({pos:n,x1:t,y1:e,x2:r,y2:a}),[l,u]=EH({pos:i,x1:r,y1:a,x2:t,y2:e}),[d,h,m,y]=dte({sourceX:t,sourceY:e,targetX:r,targetY:a,sourceControlX:s,sourceControlY:o,targetControlX:l,targetControlY:u});return[`M${t},${e} C${s},${o} ${l},${u} ${r},${a}`,d,h,m,y]}const jD=A.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:a=sn.Bottom,targetPosition:i=sn.Top,label:s,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:m,markerEnd:y,markerStart:x,interactionWidth:v})=>{const[_,C,w]=fte({sourceX:t,sourceY:e,sourcePosition:a,targetX:n,targetY:r,targetPosition:i});return je.createElement(bS,{path:_,labelX:C,labelY:w,label:s,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:m,markerEnd:y,markerStart:x,interactionWidth:v})});jD.displayName="SimpleBezierEdge";const TH={[sn.Left]:{x:-1,y:0},[sn.Right]:{x:1,y:0},[sn.Top]:{x:0,y:-1},[sn.Bottom]:{x:0,y:1}},FYe=({source:t,sourcePosition:e=sn.Bottom,target:n})=>e===sn.Left||e===sn.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},AH=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function BYe({source:t,sourcePosition:e=sn.Bottom,target:n,targetPosition:r=sn.Top,center:a,offset:i}){const s=TH[e],o=TH[r],l={x:t.x+s.x*i,y:t.y+s.y*i},u={x:n.x+o.x*i,y:n.y+o.y*i},d=FYe({source:l,sourcePosition:e,target:u}),h=d.x!==0?"x":"y",m=d[h];let y=[],x,v;const _={x:0,y:0},C={x:0,y:0},[w,T,E,I]=ute({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(s[h]*o[h]===-1){x=a.x??w,v=a.y??T;const O=[{x,y:l.y},{x,y:u.y}],L=[{x:l.x,y:v},{x:u.x,y:v}];s[h]===m?y=h==="x"?O:L:y=h==="x"?L:O}else{const O=[{x:l.x,y:u.y}],L=[{x:u.x,y:l.y}];if(h==="x"?y=s.x===m?L:O:y=s.y===m?O:L,e===r){const $=Math.abs(t[h]-n[h]);if($<=i){const D=Math.min(i-1,i-$);s[h]===m?_[h]=(l[h]>t[h]?-1:1)*D:C[h]=(u[h]>n[h]?-1:1)*D}}if(e!==r){const $=h==="x"?"y":"x",D=s[h]===o[$],U=l[$]>u[$],F=l[$]<u[$];(s[h]===1&&(!D&&U||D&&F)||s[h]!==1&&(!D&&F||D&&U))&&(y=h==="x"?O:L)}const N={x:l.x+_.x,y:l.y+_.y},M={x:u.x+C.x,y:u.y+C.y},H=Math.max(Math.abs(N.x-y[0].x),Math.abs(M.x-y[0].x)),P=Math.max(Math.abs(N.y-y[0].y),Math.abs(M.y-y[0].y));H>=P?(x=(N.x+M.x)/2,v=y[0].y):(x=y[0].x,v=(N.y+M.y)/2)}return[[t,{x:l.x+_.x,y:l.y+_.y},...y,{x:u.x+C.x,y:u.y+C.y},n],x,v,E,I]}function HYe(t,e,n,r){const a=Math.min(AH(t,e)/2,AH(e,n)/2,r),{x:i,y:s}=e;if(t.x===i&&i===n.x||t.y===s&&s===n.y)return`L${i} ${s}`;if(t.y===s){const u=t.x<n.x?-1:1,d=t.y<n.y?1:-1;return`L ${i+a*u},${s}Q ${i},${s} ${i},${s+a*d}`}const o=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${i},${s+a*l}Q ${i},${s} ${i+a*o},${s}`}function cj({sourceX:t,sourceY:e,sourcePosition:n=sn.Bottom,targetX:r,targetY:a,targetPosition:i=sn.Top,borderRadius:s=5,centerX:o,centerY:l,offset:u=20}){const[d,h,m,y,x]=BYe({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:a},targetPosition:i,center:{x:o,y:l},offset:u});return[d.reduce((_,C,w)=>{let T="";return w>0&&w<d.length-1?T=HYe(d[w-1],C,d[w+1],s):T=`${w===0?"M":"L"}${C.x} ${C.y}`,_+=T,_},""),h,m,y,x]}const xw=A.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:a,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:d,sourcePosition:h=sn.Bottom,targetPosition:m=sn.Top,markerEnd:y,markerStart:x,pathOptions:v,interactionWidth:_})=>{const[C,w,T]=cj({sourceX:t,sourceY:e,sourcePosition:h,targetX:n,targetY:r,targetPosition:m,borderRadius:v?.borderRadius,offset:v?.offset});return je.createElement(bS,{path:C,labelX:w,labelY:T,label:a,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:y,markerStart:x,interactionWidth:_})});xw.displayName="SmoothStepEdge";const OD=A.memo(t=>je.createElement(xw,{...t,pathOptions:A.useMemo(()=>({borderRadius:0,offset:t.pathOptions?.offset}),[t.pathOptions?.offset])}));OD.displayName="StepEdge";function UYe({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[a,i,s,o]=ute({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,a,i,s,o]}const DD=A.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:a,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:m,interactionWidth:y})=>{const[x,v,_]=UYe({sourceX:t,sourceY:e,targetX:n,targetY:r});return je.createElement(bS,{path:x,labelX:v,labelY:_,label:a,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:m,interactionWidth:y})});DD.displayName="StraightEdge";function p4(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function RH({pos:t,x1:e,y1:n,x2:r,y2:a,c:i}){switch(t){case sn.Left:return[e-p4(e-r,i),n];case sn.Right:return[e+p4(r-e,i),n];case sn.Top:return[e,n-p4(n-a,i)];case sn.Bottom:return[e,n+p4(a-n,i)]}}function hte({sourceX:t,sourceY:e,sourcePosition:n=sn.Bottom,targetX:r,targetY:a,targetPosition:i=sn.Top,curvature:s=.25}){const[o,l]=RH({pos:n,x1:t,y1:e,x2:r,y2:a,c:s}),[u,d]=RH({pos:i,x1:r,y1:a,x2:t,y2:e,c:s}),[h,m,y,x]=dte({sourceX:t,sourceY:e,targetX:r,targetY:a,sourceControlX:o,sourceControlY:l,targetControlX:u,targetControlY:d});return[`M${t},${e} C${o},${l} ${u},${d} ${r},${a}`,h,m,y,x]}const WC=A.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:a=sn.Bottom,targetPosition:i=sn.Top,label:s,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:m,markerEnd:y,markerStart:x,pathOptions:v,interactionWidth:_})=>{const[C,w,T]=hte({sourceX:t,sourceY:e,sourcePosition:a,targetX:n,targetY:r,targetPosition:i,curvature:v?.curvature});return je.createElement(bS,{path:C,labelX:w,labelY:T,label:s,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:m,markerEnd:y,markerStart:x,interactionWidth:_})});WC.displayName="BezierEdge";const MD=A.createContext(null),$Ye=MD.Provider;MD.Consumer;const GYe=()=>A.useContext(MD),qYe=t=>"id"in t&&"source"in t&&"target"in t,VYe=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,uj=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,WYe=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),YYe=(t,e)=>{if(!t.source||!t.target)return e;let n;return qYe(t)?n={...t}:n={...t,id:VYe(t)},WYe(n,e)?e:e.concat(n)},dj=({x:t,y:e},[n,r,a],i,[s,o])=>{const l={x:(t-n)/a,y:(e-r)/a};return i?{x:s*Math.round(l.x/s),y:o*Math.round(l.y/o)}:l},pte=({x:t,y:e},[n,r,a])=>({x:t*a+n,y:e*a+r}),yg=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],a={x:t.position.x-n,y:t.position.y-r};return{...a,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:a}},vw=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,a)=>{const{x:i,y:s}=yg(a,e).positionAbsolute;return ste(r,Mv({x:i,y:s,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return ote(n)},mte=(t,e,[n,r,a]=[0,0,1],i=!1,s=!1,o=[0,0])=>{const l={x:(e.x-n)/a,y:(e.y-r)/a,width:e.width/a,height:e.height/a},u=[];return t.forEach(d=>{const{width:h,height:m,selectable:y=!0,hidden:x=!1}=d;if(s&&!y||x)return!1;const{positionAbsolute:v}=yg(d,o),_={x:v.x,y:v.y,width:h||0,height:m||0},C=oj(l,_),w=typeof h>"u"||typeof m>"u"||h===null||m===null,T=i&&C>0,E=(h||0)*(m||0);(w||T||C>=E||d.dragging)&&u.push(d)}),u},gte=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},yte=(t,e,n,r,a,i=.1)=>{const s=e/(t.width*(1+i)),o=n/(t.height*(1+i)),l=Math.min(s,o),u=my(l,r,a),d=t.x+t.width/2,h=t.y+t.height/2,m=e/2-d*u,y=n/2-h*u;return{x:m,y,zoom:u}},$m=(t,e=0)=>t.transition().duration(e);function kH(t,e,n,r){return(e[n]||[]).reduce((a,i)=>(`${t.id}-${i.id}-${n}`!==r&&a.push({id:i.id||null,type:n,nodeId:t.id,x:(t.positionAbsolute?.x??0)+i.x+i.width/2,y:(t.positionAbsolute?.y??0)+i.y+i.height/2}),a),[])}function KYe(t,e,n,r,a,i){const{x:s,y:o}=Tp(t),u=e.elementsFromPoint(s,o).find(x=>x.classList.contains("react-flow__handle"));if(u){const x=u.getAttribute("data-nodeid");if(x){const v=ND(void 0,u),_=u.getAttribute("data-handleid"),C=i({nodeId:x,id:_,type:v});if(C){const w=a.find(T=>T.nodeId===x&&T.type===v&&T.id===_);return{handle:{id:_,type:v,nodeId:x,x:w?.x||n.x,y:w?.y||n.y},validHandleResult:C}}}}let d=[],h=1/0;if(a.forEach(x=>{const v=Math.sqrt((x.x-n.x)**2+(x.y-n.y)**2);if(v<=r){const _=i(x);v<=h&&(v<h?d=[{handle:x,validHandleResult:_}]:v===h&&d.push({handle:x,validHandleResult:_}),h=v)}}),!d.length)return{handle:null,validHandleResult:bte()};if(d.length===1)return d[0];const m=d.some(({validHandleResult:x})=>x.isValid),y=d.some(({handle:x})=>x.type==="target");return d.find(({handle:x,validHandleResult:v})=>y?x.type==="target":m?v.isValid:!0)||d[0]}const XYe={source:null,target:null,sourceHandle:null,targetHandle:null},bte=()=>({handleDomNode:null,isValid:!1,connection:XYe,endHandle:null});function xte(t,e,n,r,a,i,s){const o=a==="target",l=s.querySelector(`.react-flow__handle[data-id="${t?.nodeId}-${t?.id}-${t?.type}"]`),u={...bte(),handleDomNode:l};if(l){const d=ND(void 0,l),h=l.getAttribute("data-nodeid"),m=l.getAttribute("data-handleid"),y=l.classList.contains("connectable"),x=l.classList.contains("connectableend"),v={source:o?h:n,sourceHandle:o?m:r,target:o?n:h,targetHandle:o?r:m};u.connection=v,y&&x&&(e===Dg.Strict?o&&d==="source"||!o&&d==="target":h!==n||m!==r)&&(u.endHandle={nodeId:h,handleId:m,type:d},u.isValid=i(v))}return u}function QYe({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((a,i)=>{if(i[ei]){const{handleBounds:s}=i[ei];let o=[],l=[];s&&(o=kH(i,s,"source",`${e}-${n}-${r}`),l=kH(i,s,"target",`${e}-${n}-${r}`)),a.push(...o,...l)}return a},[])}function ND(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function S6(t){t?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function ZYe(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function vte({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:a,getState:i,setState:s,isValidConnection:o,edgeUpdaterType:l,onReconnectEnd:u}){const d=ite(t.target),{connectionMode:h,domNode:m,autoPanOnConnect:y,connectionRadius:x,onConnectStart:v,panBy:_,getNodes:C,cancelConnection:w}=i();let T=0,E;const{x:I,y:j}=Tp(t),O=d?.elementFromPoint(I,j),L=ND(l,O),N=m?.getBoundingClientRect();if(!N||!L)return;let M,H=Tp(t,N),P=!1,$=null,D=!1,U=null;const F=QYe({nodes:C(),nodeId:n,handleId:e,handleType:L}),W=()=>{if(!y)return;const[K,V]=ate(H,N);_({x:K,y:V}),T=requestAnimationFrame(W)};s({connectionPosition:H,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:L,connectionStartHandle:{nodeId:n,handleId:e,type:L},connectionEndHandle:null}),v?.(t,{nodeId:n,handleId:e,handleType:L});function ee(K){const{transform:V}=i();H=Tp(K,N);const{handle:Z,validHandleResult:q}=KYe(K,d,dj(H,V,!1,[1,1]),x,F,te=>xte(te,h,n,e,a?"target":"source",o,d));if(E=Z,P||(W(),P=!0),U=q.handleDomNode,$=q.connection,D=q.isValid,s({connectionPosition:E&&D?pte({x:E.x,y:E.y},V):H,connectionStatus:ZYe(!!E,D),connectionEndHandle:q.endHandle}),!E&&!D&&!U)return S6(M);$.source!==$.target&&U&&(S6(M),M=U,U.classList.add("connecting","react-flow__handle-connecting"),U.classList.toggle("valid",D),U.classList.toggle("react-flow__handle-valid",D))}function Q(K){(E||U)&&$&&D&&r?.($),i().onConnectEnd?.(K),l&&u?.(K),S6(M),w(),cancelAnimationFrame(T),P=!1,D=!1,$=null,U=null,d.removeEventListener("mousemove",ee),d.removeEventListener("mouseup",Q),d.removeEventListener("touchmove",ee),d.removeEventListener("touchend",Q)}d.addEventListener("mousemove",ee),d.addEventListener("mouseup",Q),d.addEventListener("touchmove",ee),d.addEventListener("touchend",Q)}const IH=()=>!0,JYe=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),eKe=(t,e,n)=>r=>{const{connectionStartHandle:a,connectionEndHandle:i,connectionClickStartHandle:s}=r;return{connecting:a?.nodeId===t&&a?.handleId===e&&a?.type===n||i?.nodeId===t&&i?.handleId===e&&i?.type===n,clickConnecting:s?.nodeId===t&&s?.handleId===e&&s?.type===n}},Ste=A.forwardRef(({type:t="source",position:e=sn.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:a=!0,isConnectableEnd:i=!0,id:s,onConnect:o,children:l,className:u,onMouseDown:d,onTouchStart:h,...m},y)=>{const x=s||null,v=t==="target",_=qi(),C=GYe(),{connectOnClick:w,noPanClassName:T}=ia(JYe,ss),{connecting:E,clickConnecting:I}=ia(eKe(C,x,t),ss);C||_.getState().onError?.("010",Xf.error010());const j=N=>{const{defaultEdgeOptions:M,onConnect:H,hasDefaultEdges:P}=_.getState(),$={...M,...N};if(P){const{edges:D,setEdges:U}=_.getState();U(YYe($,D))}H?.($),o?.($)},O=N=>{if(!C)return;const M=cte(N);a&&(M&&N.button===0||!M)&&vte({event:N,handleId:x,nodeId:C,onConnect:j,isTarget:v,getState:_.getState,setState:_.setState,isValidConnection:n||_.getState().isValidConnection||IH}),M?d?.(N):h?.(N)},L=N=>{const{onClickConnectStart:M,onClickConnectEnd:H,connectionClickStartHandle:P,connectionMode:$,isValidConnection:D}=_.getState();if(!C||!P&&!a)return;if(!P){M?.(N,{nodeId:C,handleId:x,handleType:t}),_.setState({connectionClickStartHandle:{nodeId:C,type:t,handleId:x}});return}const U=ite(N.target),F=n||D||IH,{connection:W,isValid:ee}=xte({nodeId:C,id:x,type:t},$,P.nodeId,P.handleId||null,P.type,F,U);ee&&j(W),H?.(N),_.setState({connectionClickStartHandle:null})};return je.createElement("div",{"data-handleid":x,"data-nodeid":C,"data-handlepos":e,"data-id":`${C}-${x}-${t}`,className:ws(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",T,u,{source:!v,target:v,connectable:r,connectablestart:a,connectableend:i,connecting:I,connectionindicator:r&&(a&&!E||i&&E)}]),onMouseDown:O,onTouchStart:O,onClick:w?L:void 0,ref:y,...m},l)});Ste.displayName="Handle";var gy=A.memo(Ste);const _te=({data:t,isConnectable:e,targetPosition:n=sn.Top,sourcePosition:r=sn.Bottom})=>je.createElement(je.Fragment,null,je.createElement(gy,{type:"target",position:n,isConnectable:e}),t?.label,je.createElement(gy,{type:"source",position:r,isConnectable:e}));_te.displayName="DefaultNode";var fj=A.memo(_te);const Cte=({data:t,isConnectable:e,sourcePosition:n=sn.Bottom})=>je.createElement(je.Fragment,null,t?.label,je.createElement(gy,{type:"source",position:n,isConnectable:e}));Cte.displayName="InputNode";var wte=A.memo(Cte);const Ete=({data:t,isConnectable:e,targetPosition:n=sn.Top})=>je.createElement(je.Fragment,null,je.createElement(gy,{type:"target",position:n,isConnectable:e}),t?.label);Ete.displayName="OutputNode";var Tte=A.memo(Ete);const PD=()=>null;PD.displayName="GroupNode";const tKe=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),m4=t=>t.id;function nKe(t,e){return ss(t.selectedNodes.map(m4),e.selectedNodes.map(m4))&&ss(t.selectedEdges.map(m4),e.selectedEdges.map(m4))}const Ate=A.memo(({onSelectionChange:t})=>{const e=qi(),{selectedNodes:n,selectedEdges:r}=ia(tKe,nKe);return A.useEffect(()=>{const a={nodes:n,edges:r};t?.(a),e.getState().onSelectionChange.forEach(i=>i(a))},[n,r,t]),null});Ate.displayName="SelectionListener";const rKe=t=>!!t.onSelectionChange;function aKe({onSelectionChange:t}){const e=ia(rKe);return t||e?je.createElement(Ate,{onSelectionChange:t}):null}const iKe=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function S1(t,e){A.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function Wn(t,e,n){A.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const sKe=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:a,onConnectStart:i,onConnectEnd:s,onClickConnectStart:o,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:d,nodesFocusable:h,edgesFocusable:m,edgesUpdatable:y,elevateNodesOnSelect:x,minZoom:v,maxZoom:_,nodeExtent:C,onNodesChange:w,onEdgesChange:T,elementsSelectable:E,connectionMode:I,snapGrid:j,snapToGrid:O,translateExtent:L,connectOnClick:N,defaultEdgeOptions:M,fitView:H,fitViewOptions:P,onNodesDelete:$,onEdgesDelete:D,onNodeDrag:U,onNodeDragStart:F,onNodeDragStop:W,onSelectionDrag:ee,onSelectionDragStart:Q,onSelectionDragStop:K,noPanClassName:V,nodeOrigin:Z,rfId:q,autoPanOnConnect:te,autoPanOnNodeDrag:ae,onError:ie,connectionRadius:ce,isValidConnection:pe,nodeDragThreshold:ge})=>{const{setNodes:oe,setEdges:ue,setDefaultNodesAndEdges:he,setMinZoom:ve,setMaxZoom:me,setTranslateExtent:le,setNodeExtent:Se,reset:be}=ia(iKe,ss),Te=qi();return A.useEffect(()=>{const Ne=r?.map(Pe=>({...Pe,...M}));return he(n,Ne),()=>{be()}},[]),Wn("defaultEdgeOptions",M,Te.setState),Wn("connectionMode",I,Te.setState),Wn("onConnect",a,Te.setState),Wn("onConnectStart",i,Te.setState),Wn("onConnectEnd",s,Te.setState),Wn("onClickConnectStart",o,Te.setState),Wn("onClickConnectEnd",l,Te.setState),Wn("nodesDraggable",u,Te.setState),Wn("nodesConnectable",d,Te.setState),Wn("nodesFocusable",h,Te.setState),Wn("edgesFocusable",m,Te.setState),Wn("edgesUpdatable",y,Te.setState),Wn("elementsSelectable",E,Te.setState),Wn("elevateNodesOnSelect",x,Te.setState),Wn("snapToGrid",O,Te.setState),Wn("snapGrid",j,Te.setState),Wn("onNodesChange",w,Te.setState),Wn("onEdgesChange",T,Te.setState),Wn("connectOnClick",N,Te.setState),Wn("fitViewOnInit",H,Te.setState),Wn("fitViewOnInitOptions",P,Te.setState),Wn("onNodesDelete",$,Te.setState),Wn("onEdgesDelete",D,Te.setState),Wn("onNodeDrag",U,Te.setState),Wn("onNodeDragStart",F,Te.setState),Wn("onNodeDragStop",W,Te.setState),Wn("onSelectionDrag",ee,Te.setState),Wn("onSelectionDragStart",Q,Te.setState),Wn("onSelectionDragStop",K,Te.setState),Wn("noPanClassName",V,Te.setState),Wn("nodeOrigin",Z,Te.setState),Wn("rfId",q,Te.setState),Wn("autoPanOnConnect",te,Te.setState),Wn("autoPanOnNodeDrag",ae,Te.setState),Wn("onError",ie,Te.setState),Wn("connectionRadius",ce,Te.setState),Wn("isValidConnection",pe,Te.setState),Wn("nodeDragThreshold",ge,Te.setState),S1(t,oe),S1(e,ue),S1(v,ve),S1(_,me),S1(L,le),S1(C,Se),null},jH={display:"none"},oKe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Rte="react-flow__node-desc",kte="react-flow__edge-desc",lKe="react-flow__aria-live",cKe=t=>t.ariaLiveMessage;function uKe({rfId:t}){const e=ia(cKe);return je.createElement("div",{id:`${lKe}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:oKe},e)}function dKe({rfId:t,disableKeyboardA11y:e}){return je.createElement(je.Fragment,null,je.createElement("div",{id:`${Rte}-${t}`,style:jH},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),je.createElement("div",{id:`${kte}-${t}`,style:jH},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&je.createElement(uKe,{rfId:t}))}var Lv=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=A.useState(!1),a=A.useRef(!1),i=A.useRef(new Set([])),[s,o]=A.useMemo(()=>{if(t!==null){const u=(Array.isArray(t)?t:[t]).filter(h=>typeof h=="string").map(h=>h.split("+")),d=u.reduce((h,m)=>h.concat(...m),[]);return[u,d]}return[[],[]]},[t]);return A.useEffect(()=>{const l=typeof document<"u"?document:null,u=e?.target||l;if(t!==null){const d=y=>{if(a.current=y.ctrlKey||y.metaKey||y.shiftKey,(!a.current||a.current&&!e.actInsideInputWithModifier)&&lj(y))return!1;const v=DH(y.code,o);i.current.add(y[v]),OH(s,i.current,!1)&&(y.preventDefault(),r(!0))},h=y=>{if((!a.current||a.current&&!e.actInsideInputWithModifier)&&lj(y))return!1;const v=DH(y.code,o);OH(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(y[v]),y.key==="Meta"&&i.current.clear(),a.current=!1},m=()=>{i.current.clear(),r(!1)};return u?.addEventListener("keydown",d),u?.addEventListener("keyup",h),window.addEventListener("blur",m),()=>{u?.removeEventListener("keydown",d),u?.removeEventListener("keyup",h),window.removeEventListener("blur",m)}}},[t,r]),n};function OH(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(a=>e.has(a)))}function DH(t,e){return e.includes(t)?"code":"key"}function Ite(t,e,n,r){const a=t.parentNode||t.parentId;if(!a)return n;const i=e.get(a),s=yg(i,r);return Ite(i,e,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(i[ei]?.z??0)>(n.z??0)?i[ei]?.z??0:n.z??0},r)}function jte(t,e,n){t.forEach(r=>{const a=r.parentNode||r.parentId;if(a&&!t.has(a))throw new Error(`Parent node ${a} not found`);if(a||n?.[r.id]){const{x:i,y:s,z:o}=Ite(r,t,{...r.position,z:r[ei]?.z??0},e);r.positionAbsolute={x:i,y:s},r[ei].z=o,n?.[r.id]&&(r[ei].isParent=!0)}})}function _6(t,e,n,r){const a=new Map,i={},s=r?1e3:0;return t.forEach(o=>{const l=(Ic(o.zIndex)?o.zIndex:0)+(o.selected?s:0),u=e.get(o.id),d={...o,positionAbsolute:{x:o.position.x,y:o.position.y}},h=o.parentNode||o.parentId;h&&(i[h]=!0);const m=u?.type&&u?.type!==o.type;Object.defineProperty(d,ei,{enumerable:!1,value:{handleBounds:m?void 0:u?.[ei]?.handleBounds,z:l}}),a.set(o.id,d)}),jte(a,n,i),a}function Ote(t,e={}){const{getNodes:n,width:r,height:a,minZoom:i,maxZoom:s,d3Zoom:o,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:h}=t(),m=e.initial&&!u&&d;if(o&&l&&(m||!e.initial)){const x=n().filter(_=>{const C=e.includeHiddenNodes?_.width&&_.height:!_.hidden;return e.nodes?.length?C&&e.nodes.some(w=>w.id===_.id):C}),v=x.every(_=>_.width&&_.height);if(x.length>0&&v){const _=vw(x,h),{x:C,y:w,zoom:T}=yte(_,r,a,e.minZoom??i,e.maxZoom??s,e.padding??.1),E=$f.translate(C,w).scale(T);return typeof e.duration=="number"&&e.duration>0?o.transform($m(l,e.duration),E):o.transform(l,E),!0}}return!1}function fKe(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[ei]:r[ei],selected:n.selected})}),new Map(e)}function hKe(t,e){return e.map(n=>{const r=t.find(a=>a.id===n.id);return r&&(n.selected=r.selected),n})}function g4({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:a,edges:i,onNodesChange:s,onEdgesChange:o,hasDefaultNodes:l,hasDefaultEdges:u}=n();t?.length&&(l&&r({nodeInternals:fKe(t,a)}),s?.(t)),e?.length&&(u&&r({edges:hKe(e,i)}),o?.(e))}const _1=()=>{},pKe={zoomIn:_1,zoomOut:_1,zoomTo:_1,getZoom:()=>1,setViewport:_1,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:_1,fitBounds:_1,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},mKe=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),gKe=()=>{const t=qi(),{d3Zoom:e,d3Selection:n}=ia(mKe,ss);return A.useMemo(()=>n&&e?{zoomIn:a=>e.scaleBy($m(n,a?.duration),1.2),zoomOut:a=>e.scaleBy($m(n,a?.duration),1/1.2),zoomTo:(a,i)=>e.scaleTo($m(n,i?.duration),a),getZoom:()=>t.getState().transform[2],setViewport:(a,i)=>{const[s,o,l]=t.getState().transform,u=$f.translate(a.x??s,a.y??o).scale(a.zoom??l);e.transform($m(n,i?.duration),u)},getViewport:()=>{const[a,i,s]=t.getState().transform;return{x:a,y:i,zoom:s}},fitView:a=>Ote(t.getState,a),setCenter:(a,i,s)=>{const{width:o,height:l,maxZoom:u}=t.getState(),d=typeof s?.zoom<"u"?s.zoom:u,h=o/2-a*d,m=l/2-i*d,y=$f.translate(h,m).scale(d);e.transform($m(n,s?.duration),y)},fitBounds:(a,i)=>{const{width:s,height:o,minZoom:l,maxZoom:u}=t.getState(),{x:d,y:h,zoom:m}=yte(a,s,o,l,u,i?.padding??.1),y=$f.translate(d,h).scale(m);e.transform($m(n,i?.duration),y)},project:a=>{const{transform:i,snapToGrid:s,snapGrid:o}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),dj(a,i,s,o)},screenToFlowPosition:a=>{const{transform:i,snapToGrid:s,snapGrid:o,domNode:l}=t.getState();if(!l)return a;const{x:u,y:d}=l.getBoundingClientRect(),h={x:a.x-u,y:a.y-d};return dj(h,i,s,o)},flowToScreenPosition:a=>{const{transform:i,domNode:s}=t.getState();if(!s)return a;const{x:o,y:l}=s.getBoundingClientRect(),u=pte(a,i);return{x:u.x+o,y:u.y+l}},viewportInitialized:!0}:pKe,[e,n])};function LD(){const t=gKe(),e=qi(),n=A.useCallback(()=>e.getState().getNodes().map(v=>({...v})),[]),r=A.useCallback(v=>e.getState().nodeInternals.get(v),[]),a=A.useCallback(()=>{const{edges:v=[]}=e.getState();return v.map(_=>({..._}))},[]),i=A.useCallback(v=>{const{edges:_=[]}=e.getState();return _.find(C=>C.id===v)},[]),s=A.useCallback(v=>{const{getNodes:_,setNodes:C,hasDefaultNodes:w,onNodesChange:T}=e.getState(),E=_(),I=typeof v=="function"?v(E):v;if(w)C(I);else if(T){const j=I.length===0?E.map(O=>({type:"remove",id:O.id})):I.map(O=>({item:O,type:"reset"}));T(j)}},[]),o=A.useCallback(v=>{const{edges:_=[],setEdges:C,hasDefaultEdges:w,onEdgesChange:T}=e.getState(),E=typeof v=="function"?v(_):v;if(w)C(E);else if(T){const I=E.length===0?_.map(j=>({type:"remove",id:j.id})):E.map(j=>({item:j,type:"reset"}));T(I)}},[]),l=A.useCallback(v=>{const _=Array.isArray(v)?v:[v],{getNodes:C,setNodes:w,hasDefaultNodes:T,onNodesChange:E}=e.getState();if(T){const j=[...C(),..._];w(j)}else if(E){const I=_.map(j=>({item:j,type:"add"}));E(I)}},[]),u=A.useCallback(v=>{const _=Array.isArray(v)?v:[v],{edges:C=[],setEdges:w,hasDefaultEdges:T,onEdgesChange:E}=e.getState();if(T)w([...C,..._]);else if(E){const I=_.map(j=>({item:j,type:"add"}));E(I)}},[]),d=A.useCallback(()=>{const{getNodes:v,edges:_=[],transform:C}=e.getState(),[w,T,E]=C;return{nodes:v().map(I=>({...I})),edges:_.map(I=>({...I})),viewport:{x:w,y:T,zoom:E}}},[]),h=A.useCallback(({nodes:v,edges:_})=>{const{nodeInternals:C,getNodes:w,edges:T,hasDefaultNodes:E,hasDefaultEdges:I,onNodesDelete:j,onEdgesDelete:O,onNodesChange:L,onEdgesChange:N}=e.getState(),M=(v||[]).map(U=>U.id),H=(_||[]).map(U=>U.id),P=w().reduce((U,F)=>{const W=F.parentNode||F.parentId,ee=!M.includes(F.id)&&W&&U.find(K=>K.id===W);return(typeof F.deletable=="boolean"?F.deletable:!0)&&(M.includes(F.id)||ee)&&U.push(F),U},[]),$=T.filter(U=>typeof U.deletable=="boolean"?U.deletable:!0),D=$.filter(U=>H.includes(U.id));if(P||D){const U=gte(P,$),F=[...D,...U],W=F.reduce((ee,Q)=>(ee.includes(Q.id)||ee.push(Q.id),ee),[]);if((I||E)&&(I&&e.setState({edges:T.filter(ee=>!W.includes(ee.id))}),E&&(P.forEach(ee=>{C.delete(ee.id)}),e.setState({nodeInternals:new Map(C)}))),W.length>0&&(O?.(F),N&&N(W.map(ee=>({id:ee,type:"remove"})))),P.length>0&&(j?.(P),L)){const ee=P.map(Q=>({id:Q.id,type:"remove"}));L(ee)}}},[]),m=A.useCallback(v=>{const _=PYe(v),C=_?null:e.getState().nodeInternals.get(v.id);return!_&&!C?[null,null,_]:[_?v:wH(C),C,_]},[]),y=A.useCallback((v,_=!0,C)=>{const[w,T,E]=m(v);return w?(C||e.getState().getNodes()).filter(I=>{if(!E&&(I.id===T.id||!I.positionAbsolute))return!1;const j=wH(I),O=oj(j,w);return _&&O>0||O>=w.width*w.height}):[]},[]),x=A.useCallback((v,_,C=!0)=>{const[w]=m(v);if(!w)return!1;const T=oj(w,_);return C&&T>0||T>=w.width*w.height},[]);return A.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:a,getEdge:i,setNodes:s,setEdges:o,addNodes:l,addEdges:u,toObject:d,deleteElements:h,getIntersectingNodes:y,isNodeIntersecting:x}),[t,n,r,a,i,s,o,l,u,d,h,y,x])}const yKe={actInsideInputWithModifier:!1};var bKe=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=qi(),{deleteElements:r}=LD(),a=Lv(t,yKe),i=Lv(e);A.useEffect(()=>{if(a){const{edges:s,getNodes:o}=n.getState(),l=o().filter(d=>d.selected),u=s.filter(d=>d.selected);r({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[a]),A.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function xKe(t){const e=qi();A.useEffect(()=>{let n;const r=()=>{if(!t.current)return;const a=kD(t.current);(a.height===0||a.width===0)&&e.getState().onError?.("004",Xf.error004()),e.setState({width:a.width||500,height:a.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const zD={position:"absolute",width:"100%",height:"100%",top:0,left:0},vKe=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,y4=t=>({x:t.x,y:t.y,zoom:t.k}),C1=(t,e)=>t.target.closest(`.${e}`),MH=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),NH=t=>{const e=t.ctrlKey&&VC()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},SKe=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),_Ke=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:a=!0,zoomOnPinch:i=!0,panOnScroll:s=!1,panOnScrollSpeed:o=.5,panOnScrollMode:l=lg.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:h=!0,defaultViewport:m,translateExtent:y,minZoom:x,maxZoom:v,zoomActivationKeyCode:_,preventScrolling:C=!0,children:w,noWheelClassName:T,noPanClassName:E})=>{const I=A.useRef(),j=qi(),O=A.useRef(!1),L=A.useRef(!1),N=A.useRef(null),M=A.useRef({x:0,y:0,zoom:0}),{d3Zoom:H,d3Selection:P,d3ZoomHandler:$,userSelectionActive:D}=ia(SKe,ss),U=Lv(_),F=A.useRef(0),W=A.useRef(!1),ee=A.useRef();return xKe(N),A.useEffect(()=>{if(N.current){const Q=N.current.getBoundingClientRect(),K=nte().scaleExtent([x,v]).translateExtent(y),V=Tc(N.current).call(K),Z=$f.translate(m.x,m.y).scale(my(m.zoom,x,v)),q=[[0,0],[Q.width,Q.height]],te=K.constrain()(Z,q,y);K.transform(V,te),K.wheelDelta(NH),j.setState({d3Zoom:K,d3Selection:V,d3ZoomHandler:V.on("wheel.zoom"),transform:[te.x,te.y,te.k],domNode:N.current.closest(".react-flow")})}},[]),A.useEffect(()=>{P&&H&&(s&&!U&&!D?P.on("wheel.zoom",Q=>{if(C1(Q,T))return!1;Q.preventDefault(),Q.stopImmediatePropagation();const K=P.property("__zoom").k||1;if(Q.ctrlKey&&i){const pe=hu(Q),ge=NH(Q),oe=K*Math.pow(2,ge);H.scaleTo(P,oe,pe,Q);return}const V=Q.deltaMode===1?20:1;let Z=l===lg.Vertical?0:Q.deltaX*V,q=l===lg.Horizontal?0:Q.deltaY*V;!VC()&&Q.shiftKey&&l!==lg.Vertical&&(Z=Q.deltaY*V,q=0),H.translateBy(P,-(Z/K)*o,-(q/K)*o,{internal:!0});const te=y4(P.property("__zoom")),{onViewportChangeStart:ae,onViewportChange:ie,onViewportChangeEnd:ce}=j.getState();clearTimeout(ee.current),W.current||(W.current=!0,e?.(Q,te),ae?.(te)),W.current&&(t?.(Q,te),ie?.(te),ee.current=setTimeout(()=>{n?.(Q,te),ce?.(te),W.current=!1},150))},{passive:!1}):typeof $<"u"&&P.on("wheel.zoom",function(Q,K){if(!C&&Q.type==="wheel"&&!Q.ctrlKey||C1(Q,T))return null;Q.preventDefault(),$.call(this,Q,K)},{passive:!1}))},[D,s,l,P,H,$,U,i,C,T,e,t,n]),A.useEffect(()=>{H&&H.on("start",Q=>{if(!Q.sourceEvent||Q.sourceEvent.internal)return null;F.current=Q.sourceEvent?.button;const{onViewportChangeStart:K}=j.getState(),V=y4(Q.transform);O.current=!0,M.current=V,Q.sourceEvent?.type==="mousedown"&&j.setState({paneDragging:!0}),K?.(V),e?.(Q.sourceEvent,V)})},[H,e]),A.useEffect(()=>{H&&(D&&!O.current?H.on("zoom",null):D||H.on("zoom",Q=>{const{onViewportChange:K}=j.getState();if(j.setState({transform:[Q.transform.x,Q.transform.y,Q.transform.k]}),L.current=!!(r&&MH(h,F.current??0)),(t||K)&&!Q.sourceEvent?.internal){const V=y4(Q.transform);K?.(V),t?.(Q.sourceEvent,V)}}))},[D,H,t,h,r]),A.useEffect(()=>{H&&H.on("end",Q=>{if(!Q.sourceEvent||Q.sourceEvent.internal)return null;const{onViewportChangeEnd:K}=j.getState();if(O.current=!1,j.setState({paneDragging:!1}),r&&MH(h,F.current??0)&&!L.current&&r(Q.sourceEvent),L.current=!1,(n||K)&&vKe(M.current,Q.transform)){const V=y4(Q.transform);M.current=V,clearTimeout(I.current),I.current=setTimeout(()=>{K?.(V),n?.(Q.sourceEvent,V)},s?150:0)}})},[H,s,h,n,r]),A.useEffect(()=>{H&&H.filter(Q=>{const K=U||a,V=i&&Q.ctrlKey;if((h===!0||Array.isArray(h)&&h.includes(1))&&Q.button===1&&Q.type==="mousedown"&&(C1(Q,"react-flow__node")||C1(Q,"react-flow__edge")))return!0;if(!h&&!K&&!s&&!u&&!i||D||!u&&Q.type==="dblclick"||C1(Q,T)&&Q.type==="wheel"||C1(Q,E)&&(Q.type!=="wheel"||s&&Q.type==="wheel"&&!U)||!i&&Q.ctrlKey&&Q.type==="wheel"||!K&&!s&&!V&&Q.type==="wheel"||!h&&(Q.type==="mousedown"||Q.type==="touchstart")||Array.isArray(h)&&!h.includes(Q.button)&&Q.type==="mousedown")return!1;const Z=Array.isArray(h)&&h.includes(Q.button)||!Q.button||Q.button<=1;return(!Q.ctrlKey||Q.type==="wheel")&&Z})},[D,H,a,i,s,u,h,d,U]),je.createElement("div",{className:"react-flow__renderer",ref:N,style:zD},w)},CKe=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function wKe(){const{userSelectionActive:t,userSelectionRect:e}=ia(CKe,ss);return t&&e?je.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function PH(t,e){const n=e.parentNode||e.parentId,r=t.find(a=>a.id===n);if(r){const a=e.position.x+e.width-r.width,i=e.position.y+e.height-r.height;if(a>0||i>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,a>0&&(r.style.width+=a),i>0&&(r.style.height+=i),e.position.x<0){const s=Math.abs(e.position.x);r.position.x=r.position.x-s,r.style.width+=s,e.position.x=0}if(e.position.y<0){const s=Math.abs(e.position.y);r.position.y=r.position.y-s,r.style.height+=s,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function Dte(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,a)=>{const i=t.filter(o=>o.id===a.id);if(i.length===0)return r.push(a),r;const s={...a};for(const o of i)if(o)switch(o.type){case"select":{s.selected=o.selected;break}case"position":{typeof o.position<"u"&&(s.position=o.position),typeof o.positionAbsolute<"u"&&(s.positionAbsolute=o.positionAbsolute),typeof o.dragging<"u"&&(s.dragging=o.dragging),s.expandParent&&PH(r,s);break}case"dimensions":{typeof o.dimensions<"u"&&(s.width=o.dimensions.width,s.height=o.dimensions.height),typeof o.updateStyle<"u"&&(s.style={...s.style||{},...o.dimensions}),typeof o.resizing=="boolean"&&(s.resizing=o.resizing),s.expandParent&&PH(r,s);break}case"remove":return r}return r.push(s),r},n)}function Mte(t,e){return Dte(t,e)}function EKe(t,e){return Dte(t,e)}const ap=(t,e)=>({id:t,type:"select",selected:e});function P1(t,e){return t.reduce((n,r)=>{const a=e.includes(r.id);return!r.selected&&a?(r.selected=!0,n.push(ap(r.id,!0))):r.selected&&!a&&(r.selected=!1,n.push(ap(r.id,!1))),n},[])}const C6=(t,e)=>n=>{n.target===e.current&&t?.(n)},TKe=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),Nte=A.memo(({isSelecting:t,selectionMode:e=Nv.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:a,onPaneClick:i,onPaneContextMenu:s,onPaneScroll:o,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:d,children:h})=>{const m=A.useRef(null),y=qi(),x=A.useRef(0),v=A.useRef(0),_=A.useRef(),{userSelectionActive:C,elementsSelectable:w,dragging:T}=ia(TKe,ss),E=()=>{y.setState({userSelectionActive:!1,userSelectionRect:null}),x.current=0,v.current=0},I=$=>{i?.($),y.getState().resetSelectedElements(),y.setState({nodesSelectionActive:!1})},j=$=>{if(Array.isArray(n)&&n?.includes(2)){$.preventDefault();return}s?.($)},O=o?$=>o($):void 0,L=$=>{const{resetSelectedElements:D,domNode:U}=y.getState();if(_.current=U?.getBoundingClientRect(),!w||!t||$.button!==0||$.target!==m.current||!_.current)return;const{x:F,y:W}=Tp($,_.current);D(),y.setState({userSelectionRect:{width:0,height:0,startX:F,startY:W,x:F,y:W}}),r?.($)},N=$=>{const{userSelectionRect:D,nodeInternals:U,edges:F,transform:W,onNodesChange:ee,onEdgesChange:Q,nodeOrigin:K,getNodes:V}=y.getState();if(!t||!_.current||!D)return;y.setState({userSelectionActive:!0,nodesSelectionActive:!1});const Z=Tp($,_.current),q=D.startX??0,te=D.startY??0,ae={...D,x:Z.x<q?Z.x:q,y:Z.y<te?Z.y:te,width:Math.abs(Z.x-q),height:Math.abs(Z.y-te)},ie=V(),ce=mte(U,ae,W,e===Nv.Partial,!0,K),pe=gte(ce,F).map(oe=>oe.id),ge=ce.map(oe=>oe.id);if(x.current!==ge.length){x.current=ge.length;const oe=P1(ie,ge);oe.length&&ee?.(oe)}if(v.current!==pe.length){v.current=pe.length;const oe=P1(F,pe);oe.length&&Q?.(oe)}y.setState({userSelectionRect:ae})},M=$=>{if($.button!==0)return;const{userSelectionRect:D}=y.getState();!C&&D&&$.target===m.current&&I?.($),y.setState({nodesSelectionActive:x.current>0}),E(),a?.($)},H=$=>{C&&(y.setState({nodesSelectionActive:x.current>0}),a?.($)),E()},P=w&&(t||C);return je.createElement("div",{className:ws(["react-flow__pane",{dragging:T,selection:t}]),onClick:P?void 0:C6(I,m),onContextMenu:C6(j,m),onWheel:C6(O,m),onMouseEnter:P?void 0:l,onMouseDown:P?L:void 0,onMouseMove:P?N:u,onMouseUp:P?M:void 0,onMouseLeave:P?H:d,ref:m,style:zD},h,je.createElement(wKe,null))});Nte.displayName="Pane";function Pte(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:Pte(r,e):!1}function LH(t,e,n){let r=t;do{if(r?.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function AKe(t,e,n,r){return Array.from(t.values()).filter(a=>(a.selected||a.id===r)&&(!a.parentNode||a.parentId||!Pte(a,t))&&(a.draggable||e&&typeof a.draggable>"u")).map(a=>({id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:n.x-(a.positionAbsolute?.x??0),y:n.y-(a.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}))}function RKe(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function Lte(t,e,n,r,a=[0,0],i){const s=RKe(t,t.extent||r);let o=s;const l=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(l&&t.width&&t.height){const h=n.get(l),{x:m,y}=yg(h,a).positionAbsolute;o=h&&Ic(m)&&Ic(y)&&Ic(h.width)&&Ic(h.height)?[[m+t.width*a[0],y+t.height*a[1]],[m+h.width-t.width+t.width*a[0],y+h.height-t.height+t.height*a[1]]]:o}else i?.("005",Xf.error005()),o=s;else if(t.extent&&l&&t.extent!=="parent"){const h=n.get(l),{x:m,y}=yg(h,a).positionAbsolute;o=[[t.extent[0][0]+m,t.extent[0][1]+y],[t.extent[1][0]+m,t.extent[1][1]+y]]}let u={x:0,y:0};if(l){const h=n.get(l);u=yg(h,a).positionAbsolute}const d=o&&o!=="parent"?ID(e,o):e;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function w6({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(a=>({...n.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[t?r.find(a=>a.id===t):r[0],r]}const zH=(t,e,n,r)=>{const a=e.querySelectorAll(t);if(!a||!a.length)return null;const i=Array.from(a),s=e.getBoundingClientRect(),o={x:s.width*r[0],y:s.height*r[1]};return i.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-s.left-o.x)/n,y:(u.top-s.top-o.y)/n,...kD(l)}})};function Wx(t,e,n){return n===void 0?n:r=>{const a=e().nodeInternals.get(t);a&&n(r,{...a})}}function hj({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:a,unselectNodesAndEdges:i,multiSelectionActive:s,nodeInternals:o,onError:l}=e.getState(),u=o.get(t);if(!u){l?.("012",Xf.error012(t));return}e.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):a([t])}function kKe(){const t=qi();return A.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:a,snapToGrid:i}=t.getState(),s=n.touches?n.touches[0].clientX:n.clientX,o=n.touches?n.touches[0].clientY:n.clientY,l={x:(s-r[0])/r[2],y:(o-r[1])/r[2]};return{xSnapped:i?a[0]*Math.round(l.x/a[0]):l.x,ySnapped:i?a[1]*Math.round(l.y/a[1]):l.y,...l}},[])}function E6(t){return(e,n,r)=>t?.(e,r)}function zte({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:a,isSelectable:i,selectNodesOnDrag:s}){const o=qi(),[l,u]=A.useState(!1),d=A.useRef([]),h=A.useRef({x:null,y:null}),m=A.useRef(0),y=A.useRef(null),x=A.useRef({x:0,y:0}),v=A.useRef(null),_=A.useRef(!1),C=A.useRef(!1),w=A.useRef(!1),T=kKe();return A.useEffect(()=>{if(t?.current){const E=Tc(t.current),I=({x:L,y:N})=>{const{nodeInternals:M,onNodeDrag:H,onSelectionDrag:P,updateNodePositions:$,nodeExtent:D,snapGrid:U,snapToGrid:F,nodeOrigin:W,onError:ee}=o.getState();h.current={x:L,y:N};let Q=!1,K={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&D){const Z=vw(d.current,W);K=Mv(Z)}if(d.current=d.current.map(Z=>{const q={x:L-Z.distance.x,y:N-Z.distance.y};F&&(q.x=U[0]*Math.round(q.x/U[0]),q.y=U[1]*Math.round(q.y/U[1]));const te=[[D[0][0],D[0][1]],[D[1][0],D[1][1]]];d.current.length>1&&D&&!Z.extent&&(te[0][0]=Z.positionAbsolute.x-K.x+D[0][0],te[1][0]=Z.positionAbsolute.x+(Z.width??0)-K.x2+D[1][0],te[0][1]=Z.positionAbsolute.y-K.y+D[0][1],te[1][1]=Z.positionAbsolute.y+(Z.height??0)-K.y2+D[1][1]);const ae=Lte(Z,q,M,te,W,ee);return Q=Q||Z.position.x!==ae.position.x||Z.position.y!==ae.position.y,Z.position=ae.position,Z.positionAbsolute=ae.positionAbsolute,Z}),!Q)return;$(d.current,!0,!0),u(!0);const V=a?H:E6(P);if(V&&v.current){const[Z,q]=w6({nodeId:a,dragItems:d.current,nodeInternals:M});V(v.current,Z,q)}},j=()=>{if(!y.current)return;const[L,N]=ate(x.current,y.current);if(L!==0||N!==0){const{transform:M,panBy:H}=o.getState();h.current.x=(h.current.x??0)-L/M[2],h.current.y=(h.current.y??0)-N/M[2],H({x:L,y:N})&&I(h.current)}m.current=requestAnimationFrame(j)},O=L=>{const{nodeInternals:N,multiSelectionActive:M,nodesDraggable:H,unselectNodesAndEdges:P,onNodeDragStart:$,onSelectionDragStart:D}=o.getState();C.current=!0;const U=a?$:E6(D);(!s||!i)&&!M&&a&&(N.get(a)?.selected||P()),a&&i&&s&&hj({id:a,store:o,nodeRef:t});const F=T(L);if(h.current=F,d.current=AKe(N,H,F,a),U&&d.current){const[W,ee]=w6({nodeId:a,dragItems:d.current,nodeInternals:N});U(L.sourceEvent,W,ee)}};if(e)E.on(".drag",null);else{const L=BVe().on("start",N=>{const{domNode:M,nodeDragThreshold:H}=o.getState();H===0&&O(N),w.current=!1;const P=T(N);h.current=P,y.current=M?.getBoundingClientRect()||null,x.current=Tp(N.sourceEvent,y.current)}).on("drag",N=>{const M=T(N),{autoPanOnNodeDrag:H,nodeDragThreshold:P}=o.getState();if(N.sourceEvent.type==="touchmove"&&N.sourceEvent.touches.length>1&&(w.current=!0),!w.current){if(!_.current&&C.current&&H&&(_.current=!0,j()),!C.current){const $=M.xSnapped-(h?.current?.x??0),D=M.ySnapped-(h?.current?.y??0);Math.sqrt($*$+D*D)>P&&O(N)}(h.current.x!==M.xSnapped||h.current.y!==M.ySnapped)&&d.current&&C.current&&(v.current=N.sourceEvent,x.current=Tp(N.sourceEvent,y.current),I(M))}}).on("end",N=>{if(!(!C.current||w.current)&&(u(!1),_.current=!1,C.current=!1,cancelAnimationFrame(m.current),d.current)){const{updateNodePositions:M,nodeInternals:H,onNodeDragStop:P,onSelectionDragStop:$}=o.getState(),D=a?P:E6($);if(M(d.current,!1,!1),D){const[U,F]=w6({nodeId:a,dragItems:d.current,nodeInternals:H});D(N.sourceEvent,U,F)}}}).filter(N=>{const M=N.target;return!N.button&&(!n||!LH(M,`.${n}`,t))&&(!r||LH(M,r,t))});return E.call(L),()=>{E.on(".drag",null)}}}},[t,e,n,r,i,o,a,s,T]),l}function Fte(){const t=qi();return A.useCallback(n=>{const{nodeInternals:r,nodeExtent:a,updateNodePositions:i,getNodes:s,snapToGrid:o,snapGrid:l,onError:u,nodesDraggable:d}=t.getState(),h=s().filter(w=>w.selected&&(w.draggable||d&&typeof w.draggable>"u")),m=o?l[0]:5,y=o?l[1]:5,x=n.isShiftPressed?4:1,v=n.x*m*x,_=n.y*y*x,C=h.map(w=>{if(w.positionAbsolute){const T={x:w.positionAbsolute.x+v,y:w.positionAbsolute.y+_};o&&(T.x=l[0]*Math.round(T.x/l[0]),T.y=l[1]*Math.round(T.y/l[1]));const{positionAbsolute:E,position:I}=Lte(w,T,r,a,void 0,u);w.position=I,w.positionAbsolute=E}return w});i(C,!0,!1)},[])}const K1={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Yx=t=>{const e=({id:n,type:r,data:a,xPos:i,yPos:s,xPosOrigin:o,yPosOrigin:l,selected:u,onClick:d,onMouseEnter:h,onMouseMove:m,onMouseLeave:y,onContextMenu:x,onDoubleClick:v,style:_,className:C,isDraggable:w,isSelectable:T,isConnectable:E,isFocusable:I,selectNodesOnDrag:j,sourcePosition:O,targetPosition:L,hidden:N,resizeObserver:M,dragHandle:H,zIndex:P,isParent:$,noDragClassName:D,noPanClassName:U,initialized:F,disableKeyboardA11y:W,ariaLabel:ee,rfId:Q,hasHandleBounds:K})=>{const V=qi(),Z=A.useRef(null),q=A.useRef(null),te=A.useRef(O),ae=A.useRef(L),ie=A.useRef(r),ce=T||w||d||h||m||y,pe=Fte(),ge=Wx(n,V.getState,h),oe=Wx(n,V.getState,m),ue=Wx(n,V.getState,y),he=Wx(n,V.getState,x),ve=Wx(n,V.getState,v),me=be=>{const{nodeDragThreshold:Te}=V.getState();if(T&&(!j||!w||Te>0)&&hj({id:n,store:V,nodeRef:Z}),d){const Ne=V.getState().nodeInternals.get(n);Ne&&d(be,{...Ne})}},le=be=>{if(!lj(be)&&!W)if(lte.includes(be.key)&&T){const Te=be.key==="Escape";hj({id:n,store:V,unselect:Te,nodeRef:Z})}else w&&u&&Object.prototype.hasOwnProperty.call(K1,be.key)&&(V.setState({ariaLiveMessage:`Moved selected node ${be.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~s}`}),pe({x:K1[be.key].x,y:K1[be.key].y,isShiftPressed:be.shiftKey}))};A.useEffect(()=>()=>{q.current&&(M?.unobserve(q.current),q.current=null)},[]),A.useEffect(()=>{if(Z.current&&!N){const be=Z.current;(!F||!K||q.current!==be)&&(q.current&&M?.unobserve(q.current),M?.observe(be),q.current=be)}},[N,F,K]),A.useEffect(()=>{const be=ie.current!==r,Te=te.current!==O,Ne=ae.current!==L;Z.current&&(be||Te||Ne)&&(be&&(ie.current=r),Te&&(te.current=O),Ne&&(ae.current=L),V.getState().updateNodeDimensions([{id:n,nodeElement:Z.current,forceUpdate:!0}]))},[n,r,O,L]);const Se=zte({nodeRef:Z,disabled:N||!w,noDragClassName:D,handleSelector:H,nodeId:n,isSelectable:T,selectNodesOnDrag:j});return N?null:je.createElement("div",{className:ws(["react-flow__node",`react-flow__node-${r}`,{[U]:w},C,{selected:u,selectable:T,parent:$,dragging:Se}]),ref:Z,style:{zIndex:P,transform:`translate(${o}px,${l}px)`,pointerEvents:ce?"all":"none",visibility:F?"visible":"hidden",..._},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ge,onMouseMove:oe,onMouseLeave:ue,onContextMenu:he,onClick:me,onDoubleClick:ve,onKeyDown:I?le:void 0,tabIndex:I?0:void 0,role:I?"button":void 0,"aria-describedby":W?void 0:`${Rte}-${Q}`,"aria-label":ee},je.createElement($Ye,{value:n},je.createElement(t,{id:n,data:a,type:r,xPos:i,yPos:s,selected:u,isConnectable:E,sourcePosition:O,targetPosition:L,dragging:Se,dragHandle:H,zIndex:P})))};return e.displayName="NodeWrapper",A.memo(e)};const IKe=t=>{const e=t.getNodes().filter(n=>n.selected);return{...vw(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function jKe({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=qi(),{width:a,height:i,x:s,y:o,transformString:l,userSelectionActive:u}=ia(IKe,ss),d=Fte(),h=A.useRef(null);if(A.useEffect(()=>{n||h.current?.focus({preventScroll:!0})},[n]),zte({nodeRef:h}),u||!a||!i)return null;const m=t?x=>{const v=r.getState().getNodes().filter(_=>_.selected);t(x,v)}:void 0,y=x=>{Object.prototype.hasOwnProperty.call(K1,x.key)&&d({x:K1[x.key].x,y:K1[x.key].y,isShiftPressed:x.shiftKey})};return je.createElement("div",{className:ws(["react-flow__nodesselection","react-flow__container",e]),style:{transform:l}},je.createElement("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:y,style:{width:a,height:i,top:o,left:s}}))}var OKe=A.memo(jKe);const DKe=t=>t.nodesSelectionActive,Bte=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:i,onPaneScroll:s,deleteKeyCode:o,onMove:l,onMoveStart:u,onMoveEnd:d,selectionKeyCode:h,selectionOnDrag:m,selectionMode:y,onSelectionStart:x,onSelectionEnd:v,multiSelectionKeyCode:_,panActivationKeyCode:C,zoomActivationKeyCode:w,elementsSelectable:T,zoomOnScroll:E,zoomOnPinch:I,panOnScroll:j,panOnScrollSpeed:O,panOnScrollMode:L,zoomOnDoubleClick:N,panOnDrag:M,defaultViewport:H,translateExtent:P,minZoom:$,maxZoom:D,preventScrolling:U,onSelectionContextMenu:F,noWheelClassName:W,noPanClassName:ee,disableKeyboardA11y:Q})=>{const K=ia(DKe),V=Lv(h),Z=Lv(C),q=Z||M,te=Z||j,ae=V||m&&q!==!0;return bKe({deleteKeyCode:o,multiSelectionKeyCode:_}),je.createElement(_Ke,{onMove:l,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:i,elementsSelectable:T,zoomOnScroll:E,zoomOnPinch:I,panOnScroll:te,panOnScrollSpeed:O,panOnScrollMode:L,zoomOnDoubleClick:N,panOnDrag:!V&&q,defaultViewport:H,translateExtent:P,minZoom:$,maxZoom:D,zoomActivationKeyCode:w,preventScrolling:U,noWheelClassName:W,noPanClassName:ee},je.createElement(Nte,{onSelectionStart:x,onSelectionEnd:v,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:q,isSelecting:!!ae,selectionMode:y},t,K&&je.createElement(OKe,{onSelectionContextMenu:F,noPanClassName:ee,disableKeyboardA11y:Q})))};Bte.displayName="FlowRenderer";var MKe=A.memo(Bte);function NKe(t){return ia(A.useCallback(n=>t?mte(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function PKe(t){const e={input:Yx(t.input||wte),default:Yx(t.default||fj),output:Yx(t.output||Tte),group:Yx(t.group||PD)},n={},r=Object.keys(t).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,i)=>(a[i]=Yx(t[i]||fj),a),n);return{...e,...r}}const LKe=({x:t,y:e,width:n,height:r,origin:a})=>!n||!r?{x:t,y:e}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:t,y:e}:{x:t-n*a[0],y:e-r*a[1]},zKe=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),Hte=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,updateNodeDimensions:i,onError:s}=ia(zKe,ss),o=NKe(t.onlyRenderVisibleElements),l=A.useRef(),u=A.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(h=>{const m=h.map(y=>({id:y.target.getAttribute("data-id"),nodeElement:y.target,forceUpdate:!0}));i(m)});return l.current=d,d},[]);return A.useEffect(()=>()=>{l?.current?.disconnect()},[]),je.createElement("div",{className:"react-flow__nodes",style:zD},o.map(d=>{let h=d.type||"default";t.nodeTypes[h]||(s?.("003",Xf.error003(h)),h="default");const m=t.nodeTypes[h]||t.nodeTypes.default,y=!!(d.draggable||e&&typeof d.draggable>"u"),x=!!(d.selectable||a&&typeof d.selectable>"u"),v=!!(d.connectable||n&&typeof d.connectable>"u"),_=!!(d.focusable||r&&typeof d.focusable>"u"),C=t.nodeExtent?ID(d.positionAbsolute,t.nodeExtent):d.positionAbsolute,w=C?.x??0,T=C?.y??0,E=LKe({x:w,y:T,width:d.width??0,height:d.height??0,origin:t.nodeOrigin});return je.createElement(m,{key:d.id,id:d.id,className:d.className,style:d.style,type:h,data:d.data,sourcePosition:d.sourcePosition||sn.Bottom,targetPosition:d.targetPosition||sn.Top,hidden:d.hidden,xPos:w,yPos:T,xPosOrigin:E.x,yPosOrigin:E.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!d.selected,isDraggable:y,isSelectable:x,isConnectable:v,isFocusable:_,resizeObserver:u,dragHandle:d.dragHandle,zIndex:d[ei]?.z??0,isParent:!!d[ei]?.isParent,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!d.width&&!!d.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!d[ei]?.handleBounds})}))};Hte.displayName="NodeRenderer";var FKe=A.memo(Hte);const BKe=(t,e,n)=>n===sn.Left?t-e:n===sn.Right?t+e:t,HKe=(t,e,n)=>n===sn.Top?t-e:n===sn.Bottom?t+e:t,FH="react-flow__edgeupdater",BH=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:a,onMouseEnter:i,onMouseOut:s,type:o})=>je.createElement("circle",{onMouseDown:a,onMouseEnter:i,onMouseOut:s,className:ws([FH,`${FH}-${o}`]),cx:BKe(e,r,t),cy:HKe(n,r,t),r,stroke:"transparent",fill:"transparent"}),UKe=()=>!0;var w1=t=>{const e=({id:n,className:r,type:a,data:i,onClick:s,onEdgeDoubleClick:o,selected:l,animated:u,label:d,labelStyle:h,labelShowBg:m,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:v,style:_,source:C,target:w,sourceX:T,sourceY:E,targetX:I,targetY:j,sourcePosition:O,targetPosition:L,elementsSelectable:N,hidden:M,sourceHandleId:H,targetHandleId:P,onContextMenu:$,onMouseEnter:D,onMouseMove:U,onMouseLeave:F,reconnectRadius:W,onReconnect:ee,onReconnectStart:Q,onReconnectEnd:K,markerEnd:V,markerStart:Z,rfId:q,ariaLabel:te,isFocusable:ae,isReconnectable:ie,pathOptions:ce,interactionWidth:pe,disableKeyboardA11y:ge})=>{const oe=A.useRef(null),[ue,he]=A.useState(!1),[ve,me]=A.useState(!1),le=qi(),Se=A.useMemo(()=>`url('#${uj(Z,q)}')`,[Z,q]),be=A.useMemo(()=>`url('#${uj(V,q)}')`,[V,q]);if(M)return null;const Te=Je=>{const{edges:Ge,addSelectedEdges:it,unselectNodesAndEdges:rt,multiSelectionActive:st}=le.getState(),ft=Ge.find(qt=>qt.id===n);ft&&(N&&(le.setState({nodesSelectionActive:!1}),ft.selected&&st?(rt({nodes:[],edges:[ft]}),oe.current?.blur()):it([n])),s&&s(Je,ft))},Ne=Vx(n,le.getState,o),Pe=Vx(n,le.getState,$),Le=Vx(n,le.getState,D),De=Vx(n,le.getState,U),Xe=Vx(n,le.getState,F),ke=(Je,Ge)=>{if(Je.button!==0)return;const{edges:it,isValidConnection:rt}=le.getState(),st=Ge?w:C,ft=(Ge?P:H)||null,qt=Ge?"target":"source",Gt=rt||UKe,bn=Ge,zn=it.find(Bt=>Bt.id===n);me(!0),Q?.(Je,zn,qt);const er=Bt=>{me(!1),K?.(Bt,zn,qt)};vte({event:Je,handleId:ft,nodeId:st,onConnect:Bt=>ee?.(zn,Bt),isTarget:bn,getState:le.getState,setState:le.setState,isValidConnection:Gt,edgeUpdaterType:qt,onReconnectEnd:er})},Ie=Je=>ke(Je,!0),ye=Je=>ke(Je,!1),Ce=()=>he(!0),Me=()=>he(!1),He=!N&&!s,Qe=Je=>{if(!ge&&lte.includes(Je.key)&&N){const{unselectNodesAndEdges:Ge,addSelectedEdges:it,edges:rt}=le.getState();Je.key==="Escape"?(oe.current?.blur(),Ge({edges:[rt.find(ft=>ft.id===n)]})):it([n])}};return je.createElement("g",{className:ws(["react-flow__edge",`react-flow__edge-${a}`,r,{selected:l,animated:u,inactive:He,updating:ue}]),onClick:Te,onDoubleClick:Ne,onContextMenu:Pe,onMouseEnter:Le,onMouseMove:De,onMouseLeave:Xe,onKeyDown:ae?Qe:void 0,tabIndex:ae?0:void 0,role:ae?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":te===null?void 0:te||`Edge from ${C} to ${w}`,"aria-describedby":ae?`${kte}-${q}`:void 0,ref:oe},!ve&&je.createElement(t,{id:n,source:C,target:w,selected:l,animated:u,label:d,labelStyle:h,labelShowBg:m,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:v,data:i,style:_,sourceX:T,sourceY:E,targetX:I,targetY:j,sourcePosition:O,targetPosition:L,sourceHandleId:H,targetHandleId:P,markerStart:Se,markerEnd:be,pathOptions:ce,interactionWidth:pe}),ie&&je.createElement(je.Fragment,null,(ie==="source"||ie===!0)&&je.createElement(BH,{position:O,centerX:T,centerY:E,radius:W,onMouseDown:Ie,onMouseEnter:Ce,onMouseOut:Me,type:"source"}),(ie==="target"||ie===!0)&&je.createElement(BH,{position:L,centerX:I,centerY:j,radius:W,onMouseDown:ye,onMouseEnter:Ce,onMouseOut:Me,type:"target"})))};return e.displayName="EdgeWrapper",A.memo(e)};function $Ke(t){const e={default:w1(t.default||WC),straight:w1(t.bezier||DD),step:w1(t.step||OD),smoothstep:w1(t.step||xw),simplebezier:w1(t.simplebezier||jD)},n={},r=Object.keys(t).filter(a=>!["default","bezier"].includes(a)).reduce((a,i)=>(a[i]=w1(t[i]||WC),a),n);return{...e,...r}}function HH(t,e,n=null){const r=(n?.x||0)+e.x,a=(n?.y||0)+e.y,i=n?.width||e.width,s=n?.height||e.height;switch(t){case sn.Top:return{x:r+i/2,y:a};case sn.Right:return{x:r+i,y:a+s/2};case sn.Bottom:return{x:r+i/2,y:a+s};case sn.Left:return{x:r,y:a+s/2}}}function UH(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const GKe=(t,e,n,r,a,i)=>{const s=HH(n,t,e),o=HH(i,r,a);return{sourceX:s.x,sourceY:s.y,targetX:o.x,targetY:o.y}};function qKe({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:a,targetHeight:i,width:s,height:o,transform:l}){const u={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+a),y2:Math.max(t.y+r,e.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=Mv({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:s/l[2],height:o/l[2]}),h=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),m=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(h*m)>0}function $H(t){const e=t?.[ei]?.handleBounds||null,n=e&&t?.width&&t?.height&&typeof t?.positionAbsolute?.x<"u"&&typeof t?.positionAbsolute?.y<"u";return[{x:t?.positionAbsolute?.x||0,y:t?.positionAbsolute?.y||0,width:t?.width||0,height:t?.height||0},e,!!n]}const VKe=[{level:0,isMaxLevel:!0,edges:[]}];function WKe(t,e,n=!1){let r=-1;const a=t.reduce((s,o)=>{const l=Ic(o.zIndex);let u=l?o.zIndex:0;if(n){const d=e.get(o.target),h=e.get(o.source),m=o.selected||d?.selected||h?.selected,y=Math.max(h?.[ei]?.z||0,d?.[ei]?.z||0,1e3);u=(l?o.zIndex:0)+(m?y:0)}return s[u]?s[u].push(o):s[u]=[o],r=u>r?u:r,s},{}),i=Object.entries(a).map(([s,o])=>{const l=+s;return{edges:o,level:l,isMaxLevel:l===r}});return i.length===0?VKe:i}function YKe(t,e,n){const r=ia(A.useCallback(a=>t?a.edges.filter(i=>{const s=e.get(i.source),o=e.get(i.target);return s?.width&&s?.height&&o?.width&&o?.height&&qKe({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:o.width,targetHeight:o.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[t,e]));return WKe(r,e,n)}const KKe=({color:t="none",strokeWidth:e=1})=>je.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),XKe=({color:t="none",strokeWidth:e=1})=>je.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),GH={[Pv.Arrow]:KKe,[Pv.ArrowClosed]:XKe};function QKe(t){const e=qi();return A.useMemo(()=>Object.prototype.hasOwnProperty.call(GH,t)?GH[t]:(e.getState().onError?.("009",Xf.error009(t)),null),[t])}const ZKe=({id:t,type:e,color:n,width:r=12.5,height:a=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:o="auto-start-reverse"})=>{const l=QKe(e);return l?je.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:o,refX:"0",refY:"0"},je.createElement(l,{color:n,strokeWidth:s})):null},JKe=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((a,i)=>([i.markerStart,i.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const o=uj(s,e);r.includes(o)||(a.push({id:o,color:s.color||t,...s}),r.push(o))}}),a),[]).sort((a,i)=>a.id.localeCompare(i.id))},Ute=({defaultColor:t,rfId:e})=>{const n=ia(A.useCallback(JKe({defaultColor:t,rfId:e}),[t,e]),(r,a)=>!(r.length!==a.length||r.some((i,s)=>i.id!==a[s].id)));return je.createElement("defs",null,n.map(r=>je.createElement(ZKe,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Ute.displayName="MarkerDefinitions";var eXe=A.memo(Ute);const tXe=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),$te=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:a,noPanClassName:i,onEdgeContextMenu:s,onEdgeMouseEnter:o,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:h,onReconnect:m,onReconnectStart:y,onReconnectEnd:x,reconnectRadius:v,children:_,disableKeyboardA11y:C})=>{const{edgesFocusable:w,edgesUpdatable:T,elementsSelectable:E,width:I,height:j,connectionMode:O,nodeInternals:L,onError:N}=ia(tXe,ss),M=YKe(e,L,n);return I?je.createElement(je.Fragment,null,M.map(({level:H,edges:P,isMaxLevel:$})=>je.createElement("svg",{key:H,style:{zIndex:H},width:I,height:j,className:"react-flow__edges react-flow__container"},$&&je.createElement(eXe,{defaultColor:t,rfId:r}),je.createElement("g",null,P.map(D=>{const[U,F,W]=$H(L.get(D.source)),[ee,Q,K]=$H(L.get(D.target));if(!W||!K)return null;let V=D.type||"default";a[V]||(N?.("011",Xf.error011(V)),V="default");const Z=a[V]||a.default,q=O===Dg.Strict?Q.target:(Q.target??[]).concat(Q.source??[]),te=UH(F.source,D.sourceHandle),ae=UH(q,D.targetHandle),ie=te?.position||sn.Bottom,ce=ae?.position||sn.Top,pe=!!(D.focusable||w&&typeof D.focusable>"u"),ge=D.reconnectable||D.updatable,oe=typeof m<"u"&&(ge||T&&typeof ge>"u");if(!te||!ae)return N?.("008",Xf.error008(te,D)),null;const{sourceX:ue,sourceY:he,targetX:ve,targetY:me}=GKe(U,te,ie,ee,ae,ce);return je.createElement(Z,{key:D.id,id:D.id,className:ws([D.className,i]),type:V,data:D.data,selected:!!D.selected,animated:!!D.animated,hidden:!!D.hidden,label:D.label,labelStyle:D.labelStyle,labelShowBg:D.labelShowBg,labelBgStyle:D.labelBgStyle,labelBgPadding:D.labelBgPadding,labelBgBorderRadius:D.labelBgBorderRadius,style:D.style,source:D.source,target:D.target,sourceHandleId:D.sourceHandle,targetHandleId:D.targetHandle,markerEnd:D.markerEnd,markerStart:D.markerStart,sourceX:ue,sourceY:he,targetX:ve,targetY:me,sourcePosition:ie,targetPosition:ce,elementsSelectable:E,onContextMenu:s,onMouseEnter:o,onMouseMove:l,onMouseLeave:u,onClick:d,onEdgeDoubleClick:h,onReconnect:m,onReconnectStart:y,onReconnectEnd:x,reconnectRadius:v,rfId:r,ariaLabel:D.ariaLabel,isFocusable:pe,isReconnectable:oe,pathOptions:"pathOptions"in D?D.pathOptions:void 0,interactionWidth:D.interactionWidth,disableKeyboardA11y:C})})))),_):null};$te.displayName="EdgeRenderer";var nXe=A.memo($te);const rXe=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function aXe({children:t}){const e=ia(rXe);return je.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function iXe(t){const e=LD(),n=A.useRef(!1);A.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const sXe={[sn.Left]:sn.Right,[sn.Right]:sn.Left,[sn.Top]:sn.Bottom,[sn.Bottom]:sn.Top},Gte=({nodeId:t,handleType:e,style:n,type:r=lp.Bezier,CustomComponent:a,connectionStatus:i})=>{const{fromNode:s,handleId:o,toX:l,toY:u,connectionMode:d}=ia(A.useCallback(j=>({fromNode:j.nodeInternals.get(t),handleId:j.connectionHandleId,toX:(j.connectionPosition.x-j.transform[0])/j.transform[2],toY:(j.connectionPosition.y-j.transform[1])/j.transform[2],connectionMode:j.connectionMode}),[t]),ss),h=s?.[ei]?.handleBounds;let m=h?.[e];if(d===Dg.Loose&&(m=m||h?.[e==="source"?"target":"source"]),!s||!m)return null;const y=o?m.find(j=>j.id===o):m[0],x=y?y.x+y.width/2:(s.width??0)/2,v=y?y.y+y.height/2:s.height??0,_=(s.positionAbsolute?.x??0)+x,C=(s.positionAbsolute?.y??0)+v,w=y?.position,T=w?sXe[w]:null;if(!w||!T)return null;if(a)return je.createElement(a,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:y,fromX:_,fromY:C,toX:l,toY:u,fromPosition:w,toPosition:T,connectionStatus:i});let E="";const I={sourceX:_,sourceY:C,sourcePosition:w,targetX:l,targetY:u,targetPosition:T};return r===lp.Bezier?[E]=hte(I):r===lp.Step?[E]=cj({...I,borderRadius:0}):r===lp.SmoothStep?[E]=cj(I):r===lp.SimpleBezier?[E]=fte(I):E=`M${_},${C} ${l},${u}`,je.createElement("path",{d:E,fill:"none",className:"react-flow__connection-path",style:n})};Gte.displayName="ConnectionLine";const oXe=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function lXe({containerStyle:t,style:e,type:n,component:r}){const{nodeId:a,handleType:i,nodesConnectable:s,width:o,height:l,connectionStatus:u}=ia(oXe,ss);return!(a&&i&&o&&s)?null:je.createElement("svg",{style:t,width:o,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},je.createElement("g",{className:ws(["react-flow__connection",u])},je.createElement(Gte,{nodeId:a,handleType:i,style:e,type:n,CustomComponent:r,connectionStatus:u})))}function qH(t,e){return A.useRef(null),qi(),A.useMemo(()=>e(t),[t])}const qte=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:a,onInit:i,onNodeClick:s,onEdgeClick:o,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:m,onNodeContextMenu:y,onSelectionContextMenu:x,onSelectionStart:v,onSelectionEnd:_,connectionLineType:C,connectionLineStyle:w,connectionLineComponent:T,connectionLineContainerStyle:E,selectionKeyCode:I,selectionOnDrag:j,selectionMode:O,multiSelectionKeyCode:L,panActivationKeyCode:N,zoomActivationKeyCode:M,deleteKeyCode:H,onlyRenderVisibleElements:P,elementsSelectable:$,selectNodesOnDrag:D,defaultViewport:U,translateExtent:F,minZoom:W,maxZoom:ee,preventScrolling:Q,defaultMarkerColor:K,zoomOnScroll:V,zoomOnPinch:Z,panOnScroll:q,panOnScrollSpeed:te,panOnScrollMode:ae,zoomOnDoubleClick:ie,panOnDrag:ce,onPaneClick:pe,onPaneMouseEnter:ge,onPaneMouseMove:oe,onPaneMouseLeave:ue,onPaneScroll:he,onPaneContextMenu:ve,onEdgeContextMenu:me,onEdgeMouseEnter:le,onEdgeMouseMove:Se,onEdgeMouseLeave:be,onReconnect:Te,onReconnectStart:Ne,onReconnectEnd:Pe,reconnectRadius:Le,noDragClassName:De,noWheelClassName:Xe,noPanClassName:ke,elevateEdgesOnSelect:Ie,disableKeyboardA11y:ye,nodeOrigin:Ce,nodeExtent:Me,rfId:He})=>{const Qe=qH(t,PKe),Je=qH(e,$Ke);return iXe(i),je.createElement(MKe,{onPaneClick:pe,onPaneMouseEnter:ge,onPaneMouseMove:oe,onPaneMouseLeave:ue,onPaneContextMenu:ve,onPaneScroll:he,deleteKeyCode:H,selectionKeyCode:I,selectionOnDrag:j,selectionMode:O,onSelectionStart:v,onSelectionEnd:_,multiSelectionKeyCode:L,panActivationKeyCode:N,zoomActivationKeyCode:M,elementsSelectable:$,onMove:n,onMoveStart:r,onMoveEnd:a,zoomOnScroll:V,zoomOnPinch:Z,zoomOnDoubleClick:ie,panOnScroll:q,panOnScrollSpeed:te,panOnScrollMode:ae,panOnDrag:ce,defaultViewport:U,translateExtent:F,minZoom:W,maxZoom:ee,onSelectionContextMenu:x,preventScrolling:Q,noDragClassName:De,noWheelClassName:Xe,noPanClassName:ke,disableKeyboardA11y:ye},je.createElement(aXe,null,je.createElement(nXe,{edgeTypes:Je,onEdgeClick:o,onEdgeDoubleClick:u,onlyRenderVisibleElements:P,onEdgeContextMenu:me,onEdgeMouseEnter:le,onEdgeMouseMove:Se,onEdgeMouseLeave:be,onReconnect:Te,onReconnectStart:Ne,onReconnectEnd:Pe,reconnectRadius:Le,defaultMarkerColor:K,noPanClassName:ke,elevateEdgesOnSelect:!!Ie,disableKeyboardA11y:ye,rfId:He},je.createElement(lXe,{style:w,type:C,component:T,containerStyle:E})),je.createElement("div",{className:"react-flow__edgelabel-renderer"}),je.createElement(FKe,{nodeTypes:Qe,onNodeClick:s,onNodeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:m,onNodeContextMenu:y,selectNodesOnDrag:D,onlyRenderVisibleElements:P,noPanClassName:ke,noDragClassName:De,disableKeyboardA11y:ye,nodeOrigin:Ce,nodeExtent:Me,rfId:He})))};qte.displayName="GraphView";var cXe=A.memo(qte);const pj=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Kh={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:pj,nodeExtent:pj,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Dg.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:LYe,isValidConnection:void 0},uXe=()=>ZGe((t,e)=>({...Kh,setNodes:n=>{const{nodeInternals:r,nodeOrigin:a,elevateNodesOnSelect:i}=e();t({nodeInternals:_6(n,r,a,i)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(a=>({...r,...a}))})},setDefaultNodesAndEdges:(n,r)=>{const a=typeof n<"u",i=typeof r<"u",s=a?_6(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:s,edges:i?r:[],hasDefaultNodes:a,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:a,fitViewOnInit:i,fitViewOnInitDone:s,fitViewOnInitOptions:o,domNode:l,nodeOrigin:u}=e(),d=l?.querySelector(".react-flow__viewport");if(!d)return;const h=window.getComputedStyle(d),{m22:m}=new window.DOMMatrixReadOnly(h.transform),y=n.reduce((v,_)=>{const C=a.get(_.id);if(C?.hidden)a.set(C.id,{...C,[ei]:{...C[ei],handleBounds:void 0}});else if(C){const w=kD(_.nodeElement);!!(w.width&&w.height&&(C.width!==w.width||C.height!==w.height||_.forceUpdate))&&(a.set(C.id,{...C,[ei]:{...C[ei],handleBounds:{source:zH(".source",_.nodeElement,m,u),target:zH(".target",_.nodeElement,m,u)}},...w}),v.push({id:C.id,type:"dimensions",dimensions:w}))}return v},[]);jte(a,u);const x=s||i&&!s&&Ote(e,{initial:!0,...o});t({nodeInternals:new Map(a),fitViewOnInitDone:x}),y?.length>0&&r?.(y)},updateNodePositions:(n,r=!0,a=!1)=>{const{triggerNodeChanges:i}=e(),s=n.map(o=>{const l={id:o.id,type:"position",dragging:a};return r&&(l.positionAbsolute=o.positionAbsolute,l.position=o.position),l});i(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:a,hasDefaultNodes:i,nodeOrigin:s,getNodes:o,elevateNodesOnSelect:l}=e();if(n?.length){if(i){const u=Mte(n,o()),d=_6(u,a,s,l);t({nodeInternals:d})}r?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:a,getNodes:i}=e();let s,o=null;r?s=n.map(l=>ap(l,!0)):(s=P1(i(),n),o=P1(a,[])),g4({changedNodes:s,changedEdges:o,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:a,getNodes:i}=e();let s,o=null;r?s=n.map(l=>ap(l,!0)):(s=P1(a,n),o=P1(i(),[])),g4({changedNodes:o,changedEdges:s,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:a,getNodes:i}=e(),s=n||i(),o=r||a,l=s.map(d=>(d.selected=!1,ap(d.id,!1))),u=o.map(d=>ap(d.id,!1));g4({changedNodes:l,changedEdges:u,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:a}=e();r?.scaleExtent([n,a]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:a}=e();r?.scaleExtent([a,n]),t({maxZoom:n})},setTranslateExtent:n=>{e().d3Zoom?.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),i=r().filter(o=>o.selected).map(o=>ap(o.id,!1)),s=n.filter(o=>o.selected).map(o=>ap(o.id,!1));g4({changedNodes:i,changedEdges:s,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(a=>{a.positionAbsolute=ID(a.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:a,height:i,d3Zoom:s,d3Selection:o,translateExtent:l}=e();if(!s||!o||!n.x&&!n.y)return!1;const u=$f.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[a,i]],h=s?.constrain()(u,d,l);return s.transform(o,h),r[0]!==h.x||r[1]!==h.y||r[2]!==h.k},cancelConnection:()=>t({connectionNodeId:Kh.connectionNodeId,connectionHandleId:Kh.connectionHandleId,connectionHandleType:Kh.connectionHandleType,connectionStatus:Kh.connectionStatus,connectionStartHandle:Kh.connectionStartHandle,connectionEndHandle:Kh.connectionEndHandle}),reset:()=>t({...Kh})}),Object.is),Vte=({children:t})=>{const e=A.useRef(null);return e.current||(e.current=uXe()),je.createElement(IYe,{value:e.current},t)};Vte.displayName="ReactFlowProvider";const Wte=({children:t})=>A.useContext(bw)?je.createElement(je.Fragment,null,t):je.createElement(Vte,null,t);Wte.displayName="ReactFlowWrapper";const dXe={input:wte,default:fj,output:Tte,group:PD},fXe={default:WC,straight:DD,step:OD,smoothstep:xw,simplebezier:jD},hXe=[0,0],pXe=[15,15],mXe={x:0,y:0,zoom:1},gXe={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Yte=A.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:a,nodeTypes:i=dXe,edgeTypes:s=fXe,onNodeClick:o,onEdgeClick:l,onInit:u,onMove:d,onMoveStart:h,onMoveEnd:m,onConnect:y,onConnectStart:x,onConnectEnd:v,onClickConnectStart:_,onClickConnectEnd:C,onNodeMouseEnter:w,onNodeMouseMove:T,onNodeMouseLeave:E,onNodeContextMenu:I,onNodeDoubleClick:j,onNodeDragStart:O,onNodeDrag:L,onNodeDragStop:N,onNodesDelete:M,onEdgesDelete:H,onSelectionChange:P,onSelectionDragStart:$,onSelectionDrag:D,onSelectionDragStop:U,onSelectionContextMenu:F,onSelectionStart:W,onSelectionEnd:ee,connectionMode:Q=Dg.Strict,connectionLineType:K=lp.Bezier,connectionLineStyle:V,connectionLineComponent:Z,connectionLineContainerStyle:q,deleteKeyCode:te="Backspace",selectionKeyCode:ae="Shift",selectionOnDrag:ie=!1,selectionMode:ce=Nv.Full,panActivationKeyCode:pe="Space",multiSelectionKeyCode:ge=VC()?"Meta":"Control",zoomActivationKeyCode:oe=VC()?"Meta":"Control",snapToGrid:ue=!1,snapGrid:he=pXe,onlyRenderVisibleElements:ve=!1,selectNodesOnDrag:me=!0,nodesDraggable:le,nodesConnectable:Se,nodesFocusable:be,nodeOrigin:Te=hXe,edgesFocusable:Ne,edgesUpdatable:Pe,elementsSelectable:Le,defaultViewport:De=mXe,minZoom:Xe=.5,maxZoom:ke=2,translateExtent:Ie=pj,preventScrolling:ye=!0,nodeExtent:Ce,defaultMarkerColor:Me="#b1b1b7",zoomOnScroll:He=!0,zoomOnPinch:Qe=!0,panOnScroll:Je=!1,panOnScrollSpeed:Ge=.5,panOnScrollMode:it=lg.Free,zoomOnDoubleClick:rt=!0,panOnDrag:st=!0,onPaneClick:ft,onPaneMouseEnter:qt,onPaneMouseMove:Gt,onPaneMouseLeave:bn,onPaneScroll:zn,onPaneContextMenu:er,children:Wt,onEdgeContextMenu:Bt,onEdgeDoubleClick:hn,onEdgeMouseEnter:_n,onEdgeMouseMove:Cn,onEdgeMouseLeave:Ut,onEdgeUpdate:Nn,onEdgeUpdateStart:wt,onEdgeUpdateEnd:Dt,onReconnect:an,onReconnectStart:rn,onReconnectEnd:Rn,reconnectRadius:cr=10,edgeUpdaterRadius:vr=10,onNodesChange:jr,onEdgesChange:sa,noDragClassName:Yr="nodrag",noWheelClassName:Sr="nowheel",noPanClassName:oa="nopan",fitView:ji=!1,fitViewOptions:ti,connectOnClick:Oi=!0,attributionPosition:ll,proOptions:Ks,defaultEdgeOptions:hi,elevateNodesOnSelect:Vi=!0,elevateEdgesOnSelect:Xs=!1,disableKeyboardA11y:Es=!1,autoPanOnConnect:Qs=!0,autoPanOnNodeDrag:Ts=!0,connectionRadius:Nr=20,isValidConnection:pi,onError:Zs,style:Di,id:la,nodeDragThreshold:Ga,...As},ur)=>{const Rs=la||"1";return je.createElement("div",{...As,style:{...Di,...gXe},ref:ur,className:ws(["react-flow",a]),"data-testid":"rf__wrapper",id:la},je.createElement(Wte,null,je.createElement(cXe,{onInit:u,onMove:d,onMoveStart:h,onMoveEnd:m,onNodeClick:o,onEdgeClick:l,onNodeMouseEnter:w,onNodeMouseMove:T,onNodeMouseLeave:E,onNodeContextMenu:I,onNodeDoubleClick:j,nodeTypes:i,edgeTypes:s,connectionLineType:K,connectionLineStyle:V,connectionLineComponent:Z,connectionLineContainerStyle:q,selectionKeyCode:ae,selectionOnDrag:ie,selectionMode:ce,deleteKeyCode:te,multiSelectionKeyCode:ge,panActivationKeyCode:pe,zoomActivationKeyCode:oe,onlyRenderVisibleElements:ve,selectNodesOnDrag:me,defaultViewport:De,translateExtent:Ie,minZoom:Xe,maxZoom:ke,preventScrolling:ye,zoomOnScroll:He,zoomOnPinch:Qe,zoomOnDoubleClick:rt,panOnScroll:Je,panOnScrollSpeed:Ge,panOnScrollMode:it,panOnDrag:st,onPaneClick:ft,onPaneMouseEnter:qt,onPaneMouseMove:Gt,onPaneMouseLeave:bn,onPaneScroll:zn,onPaneContextMenu:er,onSelectionContextMenu:F,onSelectionStart:W,onSelectionEnd:ee,onEdgeContextMenu:Bt,onEdgeDoubleClick:hn,onEdgeMouseEnter:_n,onEdgeMouseMove:Cn,onEdgeMouseLeave:Ut,onReconnect:an??Nn,onReconnectStart:rn??wt,onReconnectEnd:Rn??Dt,reconnectRadius:cr??vr,defaultMarkerColor:Me,noDragClassName:Yr,noWheelClassName:Sr,noPanClassName:oa,elevateEdgesOnSelect:Xs,rfId:Rs,disableKeyboardA11y:Es,nodeOrigin:Te,nodeExtent:Ce}),je.createElement(sKe,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:y,onConnectStart:x,onConnectEnd:v,onClickConnectStart:_,onClickConnectEnd:C,nodesDraggable:le,nodesConnectable:Se,nodesFocusable:be,edgesFocusable:Ne,edgesUpdatable:Pe,elementsSelectable:Le,elevateNodesOnSelect:Vi,minZoom:Xe,maxZoom:ke,nodeExtent:Ce,onNodesChange:jr,onEdgesChange:sa,snapToGrid:ue,snapGrid:he,connectionMode:Q,translateExtent:Ie,connectOnClick:Oi,defaultEdgeOptions:hi,fitView:ji,fitViewOptions:ti,onNodesDelete:M,onEdgesDelete:H,onNodeDragStart:O,onNodeDrag:L,onNodeDragStop:N,onSelectionDrag:D,onSelectionDragStart:$,onSelectionDragStop:U,noPanClassName:oa,nodeOrigin:Te,rfId:Rs,autoPanOnConnect:Qs,autoPanOnNodeDrag:Ts,onError:Zs,connectionRadius:Nr,isValidConnection:pi,nodeDragThreshold:Ga}),je.createElement(aKe,{onSelectionChange:P}),Wt,je.createElement(OYe,{proOptions:Ks,position:ll}),je.createElement(dKe,{rfId:Rs,disableKeyboardA11y:Es})))});Yte.displayName="ReactFlow";function Kte(t){return e=>{const[n,r]=A.useState(e),a=A.useCallback(i=>r(s=>t(i,s)),[]);return[n,r,a]}}const yXe=Kte(Mte),bXe=Kte(EKe),Xte=({id:t,x:e,y:n,width:r,height:a,style:i,color:s,strokeColor:o,strokeWidth:l,className:u,borderRadius:d,shapeRendering:h,onClick:m,selected:y})=>{const{background:x,backgroundColor:v}=i||{},_=s||x||v;return je.createElement("rect",{className:ws(["react-flow__minimap-node",{selected:y},u]),x:e,y:n,rx:d,ry:d,width:r,height:a,fill:_,stroke:o,strokeWidth:l,shapeRendering:h,onClick:m?C=>m(C,t):void 0})};Xte.displayName="MiniMapNode";var xXe=A.memo(Xte);const vXe=t=>t.nodeOrigin,SXe=t=>t.getNodes().filter(e=>!e.hidden&&e.width&&e.height),T6=t=>t instanceof Function?t:()=>t;function _Xe({nodeStrokeColor:t="transparent",nodeColor:e="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:a=2,nodeComponent:i=xXe,onClick:s}){const o=ia(SXe,ss),l=ia(vXe),u=T6(e),d=T6(t),h=T6(n),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return je.createElement(je.Fragment,null,o.map(y=>{const{x,y:v}=yg(y,l).positionAbsolute;return je.createElement(i,{key:y.id,x,y:v,width:y.width,height:y.height,style:y.style,selected:y.selected,className:h(y),color:u(y),borderRadius:r,strokeColor:d(y),strokeWidth:a,shapeRendering:m,onClick:s,id:y.id})}))}var CXe=A.memo(_Xe);const wXe=200,EXe=150,TXe=t=>{const e=t.getNodes(),n={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:n,boundingRect:e.length>0?NYe(vw(e,t.nodeOrigin),n):n,rfId:t.rfId}},AXe="react-flow__minimap-desc";function Qte({style:t,className:e,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:a="",nodeBorderRadius:i=5,nodeStrokeWidth:s=2,nodeComponent:o,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:d=1,position:h="bottom-right",onClick:m,onNodeClick:y,pannable:x=!1,zoomable:v=!1,ariaLabel:_="React Flow mini map",inversePan:C=!1,zoomStep:w=10,offsetScale:T=5}){const E=qi(),I=A.useRef(null),{boundingRect:j,viewBB:O,rfId:L}=ia(TXe,ss),N=t?.width??wXe,M=t?.height??EXe,H=j.width/N,P=j.height/M,$=Math.max(H,P),D=$*N,U=$*M,F=T*$,W=j.x-(D-j.width)/2-F,ee=j.y-(U-j.height)/2-F,Q=D+F*2,K=U+F*2,V=`${AXe}-${L}`,Z=A.useRef(0);Z.current=$,A.useEffect(()=>{if(I.current){const ae=Tc(I.current),ie=ge=>{const{transform:oe,d3Selection:ue,d3Zoom:he}=E.getState();if(ge.sourceEvent.type!=="wheel"||!ue||!he)return;const ve=-ge.sourceEvent.deltaY*(ge.sourceEvent.deltaMode===1?.05:ge.sourceEvent.deltaMode?1:.002)*w,me=oe[2]*Math.pow(2,ve);he.scaleTo(ue,me)},ce=ge=>{const{transform:oe,d3Selection:ue,d3Zoom:he,translateExtent:ve,width:me,height:le}=E.getState();if(ge.sourceEvent.type!=="mousemove"||!ue||!he)return;const Se=Z.current*Math.max(1,oe[2])*(C?-1:1),be={x:oe[0]-ge.sourceEvent.movementX*Se,y:oe[1]-ge.sourceEvent.movementY*Se},Te=[[0,0],[me,le]],Ne=$f.translate(be.x,be.y).scale(oe[2]),Pe=he.constrain()(Ne,Te,ve);he.transform(ue,Pe)},pe=nte().on("zoom",x?ce:null).on("zoom.wheel",v?ie:null);return ae.call(pe),()=>{ae.on("zoom",null)}}},[x,v,C,w]);const q=m?ae=>{const ie=hu(ae);m(ae,{x:ie[0],y:ie[1]})}:void 0,te=y?(ae,ie)=>{const ce=E.getState().nodeInternals.get(ie);y(ae,ce)}:void 0;return je.createElement(RD,{position:h,style:t,className:ws(["react-flow__minimap",e]),"data-testid":"rf__minimap"},je.createElement("svg",{width:N,height:M,viewBox:`${W} ${ee} ${Q} ${K}`,role:"img","aria-labelledby":V,ref:I,onClick:q},_&&je.createElement("title",{id:V},_),je.createElement(CXe,{onClick:te,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:a,nodeStrokeWidth:s,nodeComponent:o}),je.createElement("path",{className:"react-flow__minimap-mask",d:`M${W-F},${ee-F}h${Q+F*2}v${K+F*2}h${-Q-F*2}z
        M${O.x},${O.y}h${O.width}v${O.height}h${-O.width}z`,fill:l,fillRule:"evenodd",stroke:u,strokeWidth:d,pointerEvents:"none"})))}Qte.displayName="MiniMap";var RXe=A.memo(Qte);function kXe(){return je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},je.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function IXe(){return je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},je.createElement("path",{d:"M0 0h32v4.2H0z"}))}function jXe(){return je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},je.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function OXe(){return je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},je.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function DXe(){return je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},je.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const y2=({children:t,className:e,...n})=>je.createElement("button",{type:"button",className:ws(["react-flow__controls-button",e]),...n},t);y2.displayName="ControlButton";const MXe=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),Zte=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:a,onZoomIn:i,onZoomOut:s,onFitView:o,onInteractiveChange:l,className:u,children:d,position:h="bottom-left"})=>{const m=qi(),[y,x]=A.useState(!1),{isInteractive:v,minZoomReached:_,maxZoomReached:C}=ia(MXe,ss),{zoomIn:w,zoomOut:T,fitView:E}=LD();if(A.useEffect(()=>{x(!0)},[]),!y)return null;const I=()=>{w(),i?.()},j=()=>{T(),s?.()},O=()=>{E(a),o?.()},L=()=>{m.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),l?.(!v)};return je.createElement(RD,{className:ws(["react-flow__controls",u]),position:h,style:t,"data-testid":"rf__controls"},e&&je.createElement(je.Fragment,null,je.createElement(y2,{onClick:I,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:C},je.createElement(kXe,null)),je.createElement(y2,{onClick:j,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:_},je.createElement(IXe,null))),n&&je.createElement(y2,{className:"react-flow__controls-fitview",onClick:O,title:"fit view","aria-label":"fit view"},je.createElement(jXe,null)),r&&je.createElement(y2,{className:"react-flow__controls-interactive",onClick:L,title:"toggle interactivity","aria-label":"toggle interactivity"},v?je.createElement(DXe,null):je.createElement(OXe,null)),d)};Zte.displayName="Controls";var NXe=A.memo(Zte),Oc;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Oc||(Oc={}));function PXe({color:t,dimensions:e,lineWidth:n}){return je.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function LXe({color:t,radius:e}){return je.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const zXe={[Oc.Dots]:"#91919a",[Oc.Lines]:"#eee",[Oc.Cross]:"#e2e2e2"},FXe={[Oc.Dots]:1,[Oc.Lines]:1,[Oc.Cross]:6},BXe=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function Jte({id:t,variant:e=Oc.Dots,gap:n=20,size:r,lineWidth:a=1,offset:i=2,color:s,style:o,className:l}){const u=A.useRef(null),{transform:d,patternId:h}=ia(BXe,ss),m=s||zXe[e],y=r||FXe[e],x=e===Oc.Dots,v=e===Oc.Cross,_=Array.isArray(n)?n:[n,n],C=[_[0]*d[2]||1,_[1]*d[2]||1],w=y*d[2],T=v?[w,w]:C,E=x?[w/i,w/i]:[T[0]/i,T[1]/i];return je.createElement("svg",{className:ws(["react-flow__background",l]),style:{...o,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},je.createElement("pattern",{id:h+t,x:d[0]%C[0],y:d[1]%C[1],width:C[0],height:C[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${E[0]},-${E[1]})`},x?je.createElement(LXe,{color:m,radius:w/i}):je.createElement(PXe,{dimensions:T,color:m,lineWidth:a})),je.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${h+t})`}))}Jte.displayName="Background";var HXe=A.memo(Jte);function FD(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var A6,VH;function UXe(){if(VH)return A6;VH=1;function t(){this.__data__=[],this.size=0}return A6=t,A6}var R6,WH;function Hy(){if(WH)return R6;WH=1;function t(e,n){return e===n||e!==e&&n!==n}return R6=t,R6}var k6,YH;function Sw(){if(YH)return k6;YH=1;var t=Hy();function e(n,r){for(var a=n.length;a--;)if(t(n[a][0],r))return a;return-1}return k6=e,k6}var I6,KH;function $Xe(){if(KH)return I6;KH=1;var t=Sw(),e=Array.prototype,n=e.splice;function r(a){var i=this.__data__,s=t(i,a);if(s<0)return!1;var o=i.length-1;return s==o?i.pop():n.call(i,s,1),--this.size,!0}return I6=r,I6}var j6,XH;function GXe(){if(XH)return j6;XH=1;var t=Sw();function e(n){var r=this.__data__,a=t(r,n);return a<0?void 0:r[a][1]}return j6=e,j6}var O6,QH;function qXe(){if(QH)return O6;QH=1;var t=Sw();function e(n){return t(this.__data__,n)>-1}return O6=e,O6}var D6,ZH;function VXe(){if(ZH)return D6;ZH=1;var t=Sw();function e(n,r){var a=this.__data__,i=t(a,n);return i<0?(++this.size,a.push([n,r])):a[i][1]=r,this}return D6=e,D6}var M6,JH;function _w(){if(JH)return M6;JH=1;var t=UXe(),e=$Xe(),n=GXe(),r=qXe(),a=VXe();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,M6=i,M6}var N6,eU;function WXe(){if(eU)return N6;eU=1;var t=_w();function e(){this.__data__=new t,this.size=0}return N6=e,N6}var P6,tU;function YXe(){if(tU)return P6;tU=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return P6=t,P6}var L6,nU;function KXe(){if(nU)return L6;nU=1;function t(e){return this.__data__.get(e)}return L6=t,L6}var z6,rU;function XXe(){if(rU)return z6;rU=1;function t(e){return this.__data__.has(e)}return z6=t,z6}var F6,aU;function ene(){if(aU)return F6;aU=1;var t=typeof u_=="object"&&u_&&u_.Object===Object&&u_;return F6=t,F6}var B6,iU;function Pu(){if(iU)return B6;iU=1;var t=ene(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return B6=n,B6}var H6,sU;function Uy(){if(sU)return H6;sU=1;var t=Pu(),e=t.Symbol;return H6=e,H6}var U6,oU;function QXe(){if(oU)return U6;oU=1;var t=Uy(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,a=t?t.toStringTag:void 0;function i(s){var o=n.call(s,a),l=s[a];try{s[a]=void 0;var u=!0}catch{}var d=r.call(s);return u&&(o?s[a]=l:delete s[a]),d}return U6=i,U6}var $6,lU;function ZXe(){if(lU)return $6;lU=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return $6=n,$6}var G6,cU;function Wg(){if(cU)return G6;cU=1;var t=Uy(),e=QXe(),n=ZXe(),r="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?a:r:i&&i in Object(o)?e(o):n(o)}return G6=s,G6}var q6,uU;function Hc(){if(uU)return q6;uU=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return q6=t,q6}var V6,dU;function xS(){if(dU)return V6;dU=1;var t=Wg(),e=Hc(),n="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(o){if(!e(o))return!1;var l=t(o);return l==r||l==a||l==n||l==i}return V6=s,V6}var W6,fU;function JXe(){if(fU)return W6;fU=1;var t=Pu(),e=t["__core-js_shared__"];return W6=e,W6}var Y6,hU;function eQe(){if(hU)return Y6;hU=1;var t=JXe(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return Y6=n,Y6}var K6,pU;function tne(){if(pU)return K6;pU=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return K6=n,K6}var X6,mU;function tQe(){if(mU)return X6;mU=1;var t=xS(),e=eQe(),n=Hc(),r=tne(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,l=s.toString,u=o.hasOwnProperty,d=RegExp("^"+l.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!n(m)||e(m))return!1;var y=t(m)?d:i;return y.test(r(m))}return X6=h,X6}var Q6,gU;function nQe(){if(gU)return Q6;gU=1;function t(e,n){return e?.[n]}return Q6=t,Q6}var Z6,yU;function Yg(){if(yU)return Z6;yU=1;var t=tQe(),e=nQe();function n(r,a){var i=e(r,a);return t(i)?i:void 0}return Z6=n,Z6}var J6,bU;function BD(){if(bU)return J6;bU=1;var t=Yg(),e=Pu(),n=t(e,"Map");return J6=n,J6}var e8,xU;function Cw(){if(xU)return e8;xU=1;var t=Yg(),e=t(Object,"create");return e8=e,e8}var t8,vU;function rQe(){if(vU)return t8;vU=1;var t=Cw();function e(){this.__data__=t?t(null):{},this.size=0}return t8=e,t8}var n8,SU;function aQe(){if(SU)return n8;SU=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return n8=t,n8}var r8,_U;function iQe(){if(_U)return r8;_U=1;var t=Cw(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function a(i){var s=this.__data__;if(t){var o=s[i];return o===e?void 0:o}return r.call(s,i)?s[i]:void 0}return r8=a,r8}var a8,CU;function sQe(){if(CU)return a8;CU=1;var t=Cw(),e=Object.prototype,n=e.hasOwnProperty;function r(a){var i=this.__data__;return t?i[a]!==void 0:n.call(i,a)}return a8=r,a8}var i8,wU;function oQe(){if(wU)return i8;wU=1;var t=Cw(),e="__lodash_hash_undefined__";function n(r,a){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=t&&a===void 0?e:a,this}return i8=n,i8}var s8,EU;function lQe(){if(EU)return s8;EU=1;var t=rQe(),e=aQe(),n=iQe(),r=sQe(),a=oQe();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,s8=i,s8}var o8,TU;function cQe(){if(TU)return o8;TU=1;var t=lQe(),e=_w(),n=BD();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return o8=r,o8}var l8,AU;function uQe(){if(AU)return l8;AU=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return l8=t,l8}var c8,RU;function ww(){if(RU)return c8;RU=1;var t=uQe();function e(n,r){var a=n.__data__;return t(r)?a[typeof r=="string"?"string":"hash"]:a.map}return c8=e,c8}var u8,kU;function dQe(){if(kU)return u8;kU=1;var t=ww();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return u8=e,u8}var d8,IU;function fQe(){if(IU)return d8;IU=1;var t=ww();function e(n){return t(this,n).get(n)}return d8=e,d8}var f8,jU;function hQe(){if(jU)return f8;jU=1;var t=ww();function e(n){return t(this,n).has(n)}return f8=e,f8}var h8,OU;function pQe(){if(OU)return h8;OU=1;var t=ww();function e(n,r){var a=t(this,n),i=a.size;return a.set(n,r),this.size+=a.size==i?0:1,this}return h8=e,h8}var p8,DU;function HD(){if(DU)return p8;DU=1;var t=cQe(),e=dQe(),n=fQe(),r=hQe(),a=pQe();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,p8=i,p8}var m8,MU;function mQe(){if(MU)return m8;MU=1;var t=_w(),e=BD(),n=HD(),r=200;function a(i,s){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<r-1)return l.push([i,s]),this.size=++o.size,this;o=this.__data__=new n(l)}return o.set(i,s),this.size=o.size,this}return m8=a,m8}var g8,NU;function Ew(){if(NU)return g8;NU=1;var t=_w(),e=WXe(),n=YXe(),r=KXe(),a=XXe(),i=mQe();function s(o){var l=this.__data__=new t(o);this.size=l.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=a,s.prototype.set=i,g8=s,g8}var y8,PU;function UD(){if(PU)return y8;PU=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a&&n(e[r],r,e)!==!1;);return e}return y8=t,y8}var b8,LU;function nne(){if(LU)return b8;LU=1;var t=Yg(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return b8=e,b8}var x8,zU;function Tw(){if(zU)return x8;zU=1;var t=nne();function e(n,r,a){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[r]=a}return x8=e,x8}var v8,FU;function Aw(){if(FU)return v8;FU=1;var t=Tw(),e=Hy(),n=Object.prototype,r=n.hasOwnProperty;function a(i,s,o){var l=i[s];(!(r.call(i,s)&&e(l,o))||o===void 0&&!(s in i))&&t(i,s,o)}return v8=a,v8}var S8,BU;function vS(){if(BU)return S8;BU=1;var t=Aw(),e=Tw();function n(r,a,i,s){var o=!i;i||(i={});for(var l=-1,u=a.length;++l<u;){var d=a[l],h=s?s(i[d],r[d],d,i,r):void 0;h===void 0&&(h=r[d]),o?e(i,d,h):t(i,d,h)}return i}return S8=n,S8}var _8,HU;function gQe(){if(HU)return _8;HU=1;function t(e,n){for(var r=-1,a=Array(e);++r<e;)a[r]=n(r);return a}return _8=t,_8}var C8,UU;function Yd(){if(UU)return C8;UU=1;function t(e){return e!=null&&typeof e=="object"}return C8=t,C8}var w8,$U;function yQe(){if($U)return w8;$U=1;var t=Wg(),e=Yd(),n="[object Arguments]";function r(a){return e(a)&&t(a)==n}return w8=r,w8}var E8,GU;function SS(){if(GU)return E8;GU=1;var t=yQe(),e=Yd(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(s){return e(s)&&r.call(s,"callee")&&!a.call(s,"callee")};return E8=i,E8}var T8,qU;function Ii(){if(qU)return T8;qU=1;var t=Array.isArray;return T8=t,T8}var b2={exports:{}},A8,VU;function bQe(){if(VU)return A8;VU=1;function t(){return!1}return A8=t,A8}b2.exports;var WU;function $y(){return WU||(WU=1,(function(t,e){var n=Pu(),r=bQe(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;t.exports=u})(b2,b2.exports)),b2.exports}var R8,YU;function Rw(){if(YU)return R8;YU=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,a){var i=typeof r;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<a}return R8=n,R8}var k8,KU;function $D(){if(KU)return k8;KU=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return k8=e,k8}var I8,XU;function xQe(){if(XU)return I8;XU=1;var t=Wg(),e=$D(),n=Yd(),r="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",o="[object Error]",l="[object Function]",u="[object Map]",d="[object Number]",h="[object Object]",m="[object RegExp]",y="[object Set]",x="[object String]",v="[object WeakMap]",_="[object ArrayBuffer]",C="[object DataView]",w="[object Float32Array]",T="[object Float64Array]",E="[object Int8Array]",I="[object Int16Array]",j="[object Int32Array]",O="[object Uint8Array]",L="[object Uint8ClampedArray]",N="[object Uint16Array]",M="[object Uint32Array]",H={};H[w]=H[T]=H[E]=H[I]=H[j]=H[O]=H[L]=H[N]=H[M]=!0,H[r]=H[a]=H[_]=H[i]=H[C]=H[s]=H[o]=H[l]=H[u]=H[d]=H[h]=H[m]=H[y]=H[x]=H[v]=!1;function P($){return n($)&&e($.length)&&!!H[t($)]}return I8=P,I8}var j8,QU;function kw(){if(QU)return j8;QU=1;function t(e){return function(n){return e(n)}}return j8=t,j8}var x2={exports:{}};x2.exports;var ZU;function GD(){return ZU||(ZU=1,(function(t,e){var n=ene(),r=e&&!e.nodeType&&e,a=r&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===r,s=i&&n.process,o=(function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}})();t.exports=o})(x2,x2.exports)),x2.exports}var O8,JU;function _S(){if(JU)return O8;JU=1;var t=xQe(),e=kw(),n=GD(),r=n&&n.isTypedArray,a=r?e(r):t;return O8=a,O8}var D8,e$;function rne(){if(e$)return D8;e$=1;var t=gQe(),e=SS(),n=Ii(),r=$y(),a=Rw(),i=_S(),s=Object.prototype,o=s.hasOwnProperty;function l(u,d){var h=n(u),m=!h&&e(u),y=!h&&!m&&r(u),x=!h&&!m&&!y&&i(u),v=h||m||y||x,_=v?t(u.length,String):[],C=_.length;for(var w in u)(d||o.call(u,w))&&!(v&&(w=="length"||y&&(w=="offset"||w=="parent")||x&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||a(w,C)))&&_.push(w);return _}return D8=l,D8}var M8,t$;function Iw(){if(t$)return M8;t$=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,a=typeof r=="function"&&r.prototype||t;return n===a}return M8=e,M8}var N8,n$;function ane(){if(n$)return N8;n$=1;function t(e,n){return function(r){return e(n(r))}}return N8=t,N8}var P8,r$;function vQe(){if(r$)return P8;r$=1;var t=ane(),e=t(Object.keys,Object);return P8=e,P8}var L8,a$;function qD(){if(a$)return L8;a$=1;var t=Iw(),e=vQe(),n=Object.prototype,r=n.hasOwnProperty;function a(i){if(!t(i))return e(i);var s=[];for(var o in Object(i))r.call(i,o)&&o!="constructor"&&s.push(o);return s}return L8=a,L8}var z8,i$;function rh(){if(i$)return z8;i$=1;var t=xS(),e=$D();function n(r){return r!=null&&e(r.length)&&!t(r)}return z8=n,z8}var F8,s$;function Wp(){if(s$)return F8;s$=1;var t=rne(),e=qD(),n=rh();function r(a){return n(a)?t(a):e(a)}return F8=r,F8}var B8,o$;function SQe(){if(o$)return B8;o$=1;var t=vS(),e=Wp();function n(r,a){return r&&t(a,e(a),r)}return B8=n,B8}var H8,l$;function _Qe(){if(l$)return H8;l$=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return H8=t,H8}var U8,c$;function CQe(){if(c$)return U8;c$=1;var t=Hc(),e=Iw(),n=_Qe(),r=Object.prototype,a=r.hasOwnProperty;function i(s){if(!t(s))return n(s);var o=e(s),l=[];for(var u in s)u=="constructor"&&(o||!a.call(s,u))||l.push(u);return l}return U8=i,U8}var $8,u$;function Kg(){if(u$)return $8;u$=1;var t=rne(),e=CQe(),n=rh();function r(a){return n(a)?t(a,!0):e(a)}return $8=r,$8}var G8,d$;function wQe(){if(d$)return G8;d$=1;var t=vS(),e=Kg();function n(r,a){return r&&t(a,e(a),r)}return G8=n,G8}var v2={exports:{}};v2.exports;var f$;function ine(){return f$||(f$=1,(function(t,e){var n=Pu(),r=e&&!e.nodeType&&e,a=r&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===r,s=i?n.Buffer:void 0,o=s?s.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var h=u.length,m=o?o(h):new u.constructor(h);return u.copy(m),m}t.exports=l})(v2,v2.exports)),v2.exports}var q8,h$;function sne(){if(h$)return q8;h$=1;function t(e,n){var r=-1,a=e.length;for(n||(n=Array(a));++r<a;)n[r]=e[r];return n}return q8=t,q8}var V8,p$;function one(){if(p$)return V8;p$=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=0,s=[];++r<a;){var o=e[r];n(o,r,e)&&(s[i++]=o)}return s}return V8=t,V8}var W8,m$;function lne(){if(m$)return W8;m$=1;function t(){return[]}return W8=t,W8}var Y8,g$;function VD(){if(g$)return Y8;g$=1;var t=one(),e=lne(),n=Object.prototype,r=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),t(a(s),function(o){return r.call(s,o)}))}:e;return Y8=i,Y8}var K8,y$;function EQe(){if(y$)return K8;y$=1;var t=vS(),e=VD();function n(r,a){return t(r,e(r),a)}return K8=n,K8}var X8,b$;function WD(){if(b$)return X8;b$=1;function t(e,n){for(var r=-1,a=n.length,i=e.length;++r<a;)e[i+r]=n[r];return e}return X8=t,X8}var Q8,x$;function jw(){if(x$)return Q8;x$=1;var t=ane(),e=t(Object.getPrototypeOf,Object);return Q8=e,Q8}var Z8,v$;function cne(){if(v$)return Z8;v$=1;var t=WD(),e=jw(),n=VD(),r=lne(),a=Object.getOwnPropertySymbols,i=a?function(s){for(var o=[];s;)t(o,n(s)),s=e(s);return o}:r;return Z8=i,Z8}var J8,S$;function TQe(){if(S$)return J8;S$=1;var t=vS(),e=cne();function n(r,a){return t(r,e(r),a)}return J8=n,J8}var eA,_$;function une(){if(_$)return eA;_$=1;var t=WD(),e=Ii();function n(r,a,i){var s=a(r);return e(r)?s:t(s,i(r))}return eA=n,eA}var tA,C$;function dne(){if(C$)return tA;C$=1;var t=une(),e=VD(),n=Wp();function r(a){return t(a,n,e)}return tA=r,tA}var nA,w$;function AQe(){if(w$)return nA;w$=1;var t=une(),e=cne(),n=Kg();function r(a){return t(a,n,e)}return nA=r,nA}var rA,E$;function RQe(){if(E$)return rA;E$=1;var t=Yg(),e=Pu(),n=t(e,"DataView");return rA=n,rA}var aA,T$;function kQe(){if(T$)return aA;T$=1;var t=Yg(),e=Pu(),n=t(e,"Promise");return aA=n,aA}var iA,A$;function fne(){if(A$)return iA;A$=1;var t=Yg(),e=Pu(),n=t(e,"Set");return iA=n,iA}var sA,R$;function IQe(){if(R$)return sA;R$=1;var t=Yg(),e=Pu(),n=t(e,"WeakMap");return sA=n,sA}var oA,k$;function Gy(){if(k$)return oA;k$=1;var t=RQe(),e=BD(),n=kQe(),r=fne(),a=IQe(),i=Wg(),s=tne(),o="[object Map]",l="[object Object]",u="[object Promise]",d="[object Set]",h="[object WeakMap]",m="[object DataView]",y=s(t),x=s(e),v=s(n),_=s(r),C=s(a),w=i;return(t&&w(new t(new ArrayBuffer(1)))!=m||e&&w(new e)!=o||n&&w(n.resolve())!=u||r&&w(new r)!=d||a&&w(new a)!=h)&&(w=function(T){var E=i(T),I=E==l?T.constructor:void 0,j=I?s(I):"";if(j)switch(j){case y:return m;case x:return o;case v:return u;case _:return d;case C:return h}return E}),oA=w,oA}var lA,I$;function jQe(){if(I$)return lA;I$=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var a=r.length,i=new r.constructor(a);return a&&typeof r[0]=="string"&&e.call(r,"index")&&(i.index=r.index,i.input=r.input),i}return lA=n,lA}var cA,j$;function hne(){if(j$)return cA;j$=1;var t=Pu(),e=t.Uint8Array;return cA=e,cA}var uA,O$;function YD(){if(O$)return uA;O$=1;var t=hne();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return uA=e,uA}var dA,D$;function OQe(){if(D$)return dA;D$=1;var t=YD();function e(n,r){var a=r?t(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.byteLength)}return dA=e,dA}var fA,M$;function DQe(){if(M$)return fA;M$=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return fA=e,fA}var hA,N$;function MQe(){if(N$)return hA;N$=1;var t=Uy(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(a){return n?Object(n.call(a)):{}}return hA=r,hA}var pA,P$;function pne(){if(P$)return pA;P$=1;var t=YD();function e(n,r){var a=r?t(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.length)}return pA=e,pA}var mA,L$;function NQe(){if(L$)return mA;L$=1;var t=YD(),e=OQe(),n=DQe(),r=MQe(),a=pne(),i="[object Boolean]",s="[object Date]",o="[object Map]",l="[object Number]",u="[object RegExp]",d="[object Set]",h="[object String]",m="[object Symbol]",y="[object ArrayBuffer]",x="[object DataView]",v="[object Float32Array]",_="[object Float64Array]",C="[object Int8Array]",w="[object Int16Array]",T="[object Int32Array]",E="[object Uint8Array]",I="[object Uint8ClampedArray]",j="[object Uint16Array]",O="[object Uint32Array]";function L(N,M,H){var P=N.constructor;switch(M){case y:return t(N);case i:case s:return new P(+N);case x:return e(N,H);case v:case _:case C:case w:case T:case E:case I:case j:case O:return a(N,H);case o:return new P;case l:case h:return new P(N);case u:return n(N);case d:return new P;case m:return r(N)}}return mA=L,mA}var gA,z$;function mne(){if(z$)return gA;z$=1;var t=Hc(),e=Object.create,n=(function(){function r(){}return function(a){if(!t(a))return{};if(e)return e(a);r.prototype=a;var i=new r;return r.prototype=void 0,i}})();return gA=n,gA}var yA,F$;function gne(){if(F$)return yA;F$=1;var t=mne(),e=jw(),n=Iw();function r(a){return typeof a.constructor=="function"&&!n(a)?t(e(a)):{}}return yA=r,yA}var bA,B$;function PQe(){if(B$)return bA;B$=1;var t=Gy(),e=Yd(),n="[object Map]";function r(a){return e(a)&&t(a)==n}return bA=r,bA}var xA,H$;function LQe(){if(H$)return xA;H$=1;var t=PQe(),e=kw(),n=GD(),r=n&&n.isMap,a=r?e(r):t;return xA=a,xA}var vA,U$;function zQe(){if(U$)return vA;U$=1;var t=Gy(),e=Yd(),n="[object Set]";function r(a){return e(a)&&t(a)==n}return vA=r,vA}var SA,$$;function FQe(){if($$)return SA;$$=1;var t=zQe(),e=kw(),n=GD(),r=n&&n.isSet,a=r?e(r):t;return SA=a,SA}var _A,G$;function yne(){if(G$)return _A;G$=1;var t=Ew(),e=UD(),n=Aw(),r=SQe(),a=wQe(),i=ine(),s=sne(),o=EQe(),l=TQe(),u=dne(),d=AQe(),h=Gy(),m=jQe(),y=NQe(),x=gne(),v=Ii(),_=$y(),C=LQe(),w=Hc(),T=FQe(),E=Wp(),I=Kg(),j=1,O=2,L=4,N="[object Arguments]",M="[object Array]",H="[object Boolean]",P="[object Date]",$="[object Error]",D="[object Function]",U="[object GeneratorFunction]",F="[object Map]",W="[object Number]",ee="[object Object]",Q="[object RegExp]",K="[object Set]",V="[object String]",Z="[object Symbol]",q="[object WeakMap]",te="[object ArrayBuffer]",ae="[object DataView]",ie="[object Float32Array]",ce="[object Float64Array]",pe="[object Int8Array]",ge="[object Int16Array]",oe="[object Int32Array]",ue="[object Uint8Array]",he="[object Uint8ClampedArray]",ve="[object Uint16Array]",me="[object Uint32Array]",le={};le[N]=le[M]=le[te]=le[ae]=le[H]=le[P]=le[ie]=le[ce]=le[pe]=le[ge]=le[oe]=le[F]=le[W]=le[ee]=le[Q]=le[K]=le[V]=le[Z]=le[ue]=le[he]=le[ve]=le[me]=!0,le[$]=le[D]=le[q]=!1;function Se(be,Te,Ne,Pe,Le,De){var Xe,ke=Te&j,Ie=Te&O,ye=Te&L;if(Ne&&(Xe=Le?Ne(be,Pe,Le,De):Ne(be)),Xe!==void 0)return Xe;if(!w(be))return be;var Ce=v(be);if(Ce){if(Xe=m(be),!ke)return s(be,Xe)}else{var Me=h(be),He=Me==D||Me==U;if(_(be))return i(be,ke);if(Me==ee||Me==N||He&&!Le){if(Xe=Ie||He?{}:x(be),!ke)return Ie?l(be,a(Xe,be)):o(be,r(Xe,be))}else{if(!le[Me])return Le?be:{};Xe=y(be,Me,ke)}}De||(De=new t);var Qe=De.get(be);if(Qe)return Qe;De.set(be,Xe),T(be)?be.forEach(function(it){Xe.add(Se(it,Te,Ne,it,be,De))}):C(be)&&be.forEach(function(it,rt){Xe.set(rt,Se(it,Te,Ne,rt,be,De))});var Je=ye?Ie?d:u:Ie?I:E,Ge=Ce?void 0:Je(be);return e(Ge||be,function(it,rt){Ge&&(rt=it,it=be[rt]),n(Xe,rt,Se(it,Te,Ne,rt,be,De))}),Xe}return _A=Se,_A}var CA,q$;function BQe(){if(q$)return CA;q$=1;var t=yne(),e=4;function n(r){return t(r,e)}return CA=n,CA}var wA,V$;function KD(){if(V$)return wA;V$=1;function t(e){return function(){return e}}return wA=t,wA}var EA,W$;function HQe(){if(W$)return EA;W$=1;function t(e){return function(n,r,a){for(var i=-1,s=Object(n),o=a(n),l=o.length;l--;){var u=o[e?l:++i];if(r(s[u],u,s)===!1)break}return n}}return EA=t,EA}var TA,Y$;function XD(){if(Y$)return TA;Y$=1;var t=HQe(),e=t();return TA=e,TA}var AA,K$;function QD(){if(K$)return AA;K$=1;var t=XD(),e=Wp();function n(r,a){return r&&t(r,a,e)}return AA=n,AA}var RA,X$;function UQe(){if(X$)return RA;X$=1;var t=rh();function e(n,r){return function(a,i){if(a==null)return a;if(!t(a))return n(a,i);for(var s=a.length,o=r?s:-1,l=Object(a);(r?o--:++o<s)&&i(l[o],o,l)!==!1;);return a}}return RA=e,RA}var kA,Q$;function Ow(){if(Q$)return kA;Q$=1;var t=QD(),e=UQe(),n=e(t);return kA=n,kA}var IA,Z$;function Xg(){if(Z$)return IA;Z$=1;function t(e){return e}return IA=t,IA}var jA,J$;function bne(){if(J$)return jA;J$=1;var t=Xg();function e(n){return typeof n=="function"?n:t}return jA=e,jA}var OA,eG;function xne(){if(eG)return OA;eG=1;var t=UD(),e=Ow(),n=bne(),r=Ii();function a(i,s){var o=r(i)?t:e;return o(i,n(s))}return OA=a,OA}var DA,tG;function vne(){return tG||(tG=1,DA=xne()),DA}var MA,nG;function $Qe(){if(nG)return MA;nG=1;var t=Ow();function e(n,r){var a=[];return t(n,function(i,s,o){r(i,s,o)&&a.push(i)}),a}return MA=e,MA}var NA,rG;function GQe(){if(rG)return NA;rG=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return NA=e,NA}var PA,aG;function qQe(){if(aG)return PA;aG=1;function t(e){return this.__data__.has(e)}return PA=t,PA}var LA,iG;function Sne(){if(iG)return LA;iG=1;var t=HD(),e=GQe(),n=qQe();function r(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new t;++i<s;)this.add(a[i])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,LA=r,LA}var zA,sG;function VQe(){if(sG)return zA;sG=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(e[r],r,e))return!0;return!1}return zA=t,zA}var FA,oG;function _ne(){if(oG)return FA;oG=1;function t(e,n){return e.has(n)}return FA=t,FA}var BA,lG;function Cne(){if(lG)return BA;lG=1;var t=Sne(),e=VQe(),n=_ne(),r=1,a=2;function i(s,o,l,u,d,h){var m=l&r,y=s.length,x=o.length;if(y!=x&&!(m&&x>y))return!1;var v=h.get(s),_=h.get(o);if(v&&_)return v==o&&_==s;var C=-1,w=!0,T=l&a?new t:void 0;for(h.set(s,o),h.set(o,s);++C<y;){var E=s[C],I=o[C];if(u)var j=m?u(I,E,C,o,s,h):u(E,I,C,s,o,h);if(j!==void 0){if(j)continue;w=!1;break}if(T){if(!e(o,function(O,L){if(!n(T,L)&&(E===O||d(E,O,l,u,h)))return T.push(L)})){w=!1;break}}else if(!(E===I||d(E,I,l,u,h))){w=!1;break}}return h.delete(s),h.delete(o),w}return BA=i,BA}var HA,cG;function WQe(){if(cG)return HA;cG=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a,i){r[++n]=[i,a]}),r}return HA=t,HA}var UA,uG;function ZD(){if(uG)return UA;uG=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a){r[++n]=a}),r}return UA=t,UA}var $A,dG;function YQe(){if(dG)return $A;dG=1;var t=Uy(),e=hne(),n=Hy(),r=Cne(),a=WQe(),i=ZD(),s=1,o=2,l="[object Boolean]",u="[object Date]",d="[object Error]",h="[object Map]",m="[object Number]",y="[object RegExp]",x="[object Set]",v="[object String]",_="[object Symbol]",C="[object ArrayBuffer]",w="[object DataView]",T=t?t.prototype:void 0,E=T?T.valueOf:void 0;function I(j,O,L,N,M,H,P){switch(L){case w:if(j.byteLength!=O.byteLength||j.byteOffset!=O.byteOffset)return!1;j=j.buffer,O=O.buffer;case C:return!(j.byteLength!=O.byteLength||!H(new e(j),new e(O)));case l:case u:case m:return n(+j,+O);case d:return j.name==O.name&&j.message==O.message;case y:case v:return j==O+"";case h:var $=a;case x:var D=N&s;if($||($=i),j.size!=O.size&&!D)return!1;var U=P.get(j);if(U)return U==O;N|=o,P.set(j,O);var F=r($(j),$(O),N,M,H,P);return P.delete(j),F;case _:if(E)return E.call(j)==E.call(O)}return!1}return $A=I,$A}var GA,fG;function KQe(){if(fG)return GA;fG=1;var t=dne(),e=1,n=Object.prototype,r=n.hasOwnProperty;function a(i,s,o,l,u,d){var h=o&e,m=t(i),y=m.length,x=t(s),v=x.length;if(y!=v&&!h)return!1;for(var _=y;_--;){var C=m[_];if(!(h?C in s:r.call(s,C)))return!1}var w=d.get(i),T=d.get(s);if(w&&T)return w==s&&T==i;var E=!0;d.set(i,s),d.set(s,i);for(var I=h;++_<y;){C=m[_];var j=i[C],O=s[C];if(l)var L=h?l(O,j,C,s,i,d):l(j,O,C,i,s,d);if(!(L===void 0?j===O||u(j,O,o,l,d):L)){E=!1;break}I||(I=C=="constructor")}if(E&&!I){var N=i.constructor,M=s.constructor;N!=M&&"constructor"in i&&"constructor"in s&&!(typeof N=="function"&&N instanceof N&&typeof M=="function"&&M instanceof M)&&(E=!1)}return d.delete(i),d.delete(s),E}return GA=a,GA}var qA,hG;function XQe(){if(hG)return qA;hG=1;var t=Ew(),e=Cne(),n=YQe(),r=KQe(),a=Gy(),i=Ii(),s=$y(),o=_S(),l=1,u="[object Arguments]",d="[object Array]",h="[object Object]",m=Object.prototype,y=m.hasOwnProperty;function x(v,_,C,w,T,E){var I=i(v),j=i(_),O=I?d:a(v),L=j?d:a(_);O=O==u?h:O,L=L==u?h:L;var N=O==h,M=L==h,H=O==L;if(H&&s(v)){if(!s(_))return!1;I=!0,N=!1}if(H&&!N)return E||(E=new t),I||o(v)?e(v,_,C,w,T,E):n(v,_,O,C,w,T,E);if(!(C&l)){var P=N&&y.call(v,"__wrapped__"),$=M&&y.call(_,"__wrapped__");if(P||$){var D=P?v.value():v,U=$?_.value():_;return E||(E=new t),T(D,U,C,w,E)}}return H?(E||(E=new t),r(v,_,C,w,T,E)):!1}return qA=x,qA}var VA,pG;function wne(){if(pG)return VA;pG=1;var t=XQe(),e=Yd();function n(r,a,i,s,o){return r===a?!0:r==null||a==null||!e(r)&&!e(a)?r!==r&&a!==a:t(r,a,i,s,n,o)}return VA=n,VA}var WA,mG;function QQe(){if(mG)return WA;mG=1;var t=Ew(),e=wne(),n=1,r=2;function a(i,s,o,l){var u=o.length,d=u,h=!l;if(i==null)return!d;for(i=Object(i);u--;){var m=o[u];if(h&&m[2]?m[1]!==i[m[0]]:!(m[0]in i))return!1}for(;++u<d;){m=o[u];var y=m[0],x=i[y],v=m[1];if(h&&m[2]){if(x===void 0&&!(y in i))return!1}else{var _=new t;if(l)var C=l(x,v,y,i,s,_);if(!(C===void 0?e(v,x,n|r,l,_):C))return!1}}return!0}return WA=a,WA}var YA,gG;function Ene(){if(gG)return YA;gG=1;var t=Hc();function e(n){return n===n&&!t(n)}return YA=e,YA}var KA,yG;function ZQe(){if(yG)return KA;yG=1;var t=Ene(),e=Wp();function n(r){for(var a=e(r),i=a.length;i--;){var s=a[i],o=r[s];a[i]=[s,o,t(o)]}return a}return KA=n,KA}var XA,bG;function Tne(){if(bG)return XA;bG=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return XA=t,XA}var QA,xG;function JQe(){if(xG)return QA;xG=1;var t=QQe(),e=ZQe(),n=Tne();function r(a){var i=e(a);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(s){return s===a||t(s,a,i)}}return QA=r,QA}var ZA,vG;function qy(){if(vG)return ZA;vG=1;var t=Wg(),e=Yd(),n="[object Symbol]";function r(a){return typeof a=="symbol"||e(a)&&t(a)==n}return ZA=r,ZA}var JA,SG;function JD(){if(SG)return JA;SG=1;var t=Ii(),e=qy(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,s){if(t(i))return!1;var o=typeof i;return o=="number"||o=="symbol"||o=="boolean"||i==null||e(i)?!0:r.test(i)||!n.test(i)||s!=null&&i in Object(s)}return JA=a,JA}var eR,_G;function eZe(){if(_G)return eR;_G=1;var t=HD(),e="Expected a function";function n(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var s=arguments,o=a?a.apply(this,s):s[0],l=i.cache;if(l.has(o))return l.get(o);var u=r.apply(this,s);return i.cache=l.set(o,u)||l,u};return i.cache=new(n.Cache||t),i}return n.Cache=t,eR=n,eR}var tR,CG;function tZe(){if(CG)return tR;CG=1;var t=eZe(),e=500;function n(r){var a=t(r,function(s){return i.size===e&&i.clear(),s}),i=a.cache;return a}return tR=n,tR}var nR,wG;function nZe(){if(wG)return nR;wG=1;var t=tZe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(s,o,l,u){i.push(l?u.replace(n,"$1"):o||s)}),i});return nR=r,nR}var rR,EG;function Dw(){if(EG)return rR;EG=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=Array(a);++r<a;)i[r]=n(e[r],r,e);return i}return rR=t,rR}var aR,TG;function rZe(){if(TG)return aR;TG=1;var t=Uy(),e=Dw(),n=Ii(),r=qy(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function s(o){if(typeof o=="string")return o;if(n(o))return e(o,s)+"";if(r(o))return i?i.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return aR=s,aR}var iR,AG;function Ane(){if(AG)return iR;AG=1;var t=rZe();function e(n){return n==null?"":t(n)}return iR=e,iR}var sR,RG;function Mw(){if(RG)return sR;RG=1;var t=Ii(),e=JD(),n=nZe(),r=Ane();function a(i,s){return t(i)?i:e(i,s)?[i]:n(r(i))}return sR=a,sR}var oR,kG;function CS(){if(kG)return oR;kG=1;var t=qy();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return oR=e,oR}var lR,IG;function Nw(){if(IG)return lR;IG=1;var t=Mw(),e=CS();function n(r,a){a=t(a,r);for(var i=0,s=a.length;r!=null&&i<s;)r=r[e(a[i++])];return i&&i==s?r:void 0}return lR=n,lR}var cR,jG;function aZe(){if(jG)return cR;jG=1;var t=Nw();function e(n,r,a){var i=n==null?void 0:t(n,r);return i===void 0?a:i}return cR=e,cR}var uR,OG;function iZe(){if(OG)return uR;OG=1;function t(e,n){return e!=null&&n in Object(e)}return uR=t,uR}var dR,DG;function Rne(){if(DG)return dR;DG=1;var t=Mw(),e=SS(),n=Ii(),r=Rw(),a=$D(),i=CS();function s(o,l,u){l=t(l,o);for(var d=-1,h=l.length,m=!1;++d<h;){var y=i(l[d]);if(!(m=o!=null&&u(o,y)))break;o=o[y]}return m||++d!=h?m:(h=o==null?0:o.length,!!h&&a(h)&&r(y,h)&&(n(o)||e(o)))}return dR=s,dR}var fR,MG;function kne(){if(MG)return fR;MG=1;var t=iZe(),e=Rne();function n(r,a){return r!=null&&e(r,a,t)}return fR=n,fR}var hR,NG;function sZe(){if(NG)return hR;NG=1;var t=wne(),e=aZe(),n=kne(),r=JD(),a=Ene(),i=Tne(),s=CS(),o=1,l=2;function u(d,h){return r(d)&&a(h)?i(s(d),h):function(m){var y=e(m,d);return y===void 0&&y===h?n(m,d):t(h,y,o|l)}}return hR=u,hR}var pR,PG;function Ine(){if(PG)return pR;PG=1;function t(e){return function(n){return n?.[e]}}return pR=t,pR}var mR,LG;function oZe(){if(LG)return mR;LG=1;var t=Nw();function e(n){return function(r){return t(r,n)}}return mR=e,mR}var gR,zG;function lZe(){if(zG)return gR;zG=1;var t=Ine(),e=oZe(),n=JD(),r=CS();function a(i){return n(i)?t(r(i)):e(i)}return gR=a,gR}var yR,FG;function ah(){if(FG)return yR;FG=1;var t=JQe(),e=sZe(),n=Xg(),r=Ii(),a=lZe();function i(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):a(s)}return yR=i,yR}var bR,BG;function jne(){if(BG)return bR;BG=1;var t=one(),e=$Qe(),n=ah(),r=Ii();function a(i,s){var o=r(i)?t:e;return o(i,n(s,3))}return bR=a,bR}var xR,HG;function cZe(){if(HG)return xR;HG=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r,a){return r!=null&&e.call(r,a)}return xR=n,xR}var vR,UG;function One(){if(UG)return vR;UG=1;var t=cZe(),e=Rne();function n(r,a){return r!=null&&e(r,a,t)}return vR=n,vR}var SR,$G;function uZe(){if($G)return SR;$G=1;var t=qD(),e=Gy(),n=SS(),r=Ii(),a=rh(),i=$y(),s=Iw(),o=_S(),l="[object Map]",u="[object Set]",d=Object.prototype,h=d.hasOwnProperty;function m(y){if(y==null)return!0;if(a(y)&&(r(y)||typeof y=="string"||typeof y.splice=="function"||i(y)||o(y)||n(y)))return!y.length;var x=e(y);if(x==l||x==u)return!y.size;if(s(y))return!t(y).length;for(var v in y)if(h.call(y,v))return!1;return!0}return SR=m,SR}var _R,GG;function Dne(){if(GG)return _R;GG=1;function t(e){return e===void 0}return _R=t,_R}var CR,qG;function Mne(){if(qG)return CR;qG=1;var t=Ow(),e=rh();function n(r,a){var i=-1,s=e(r)?Array(r.length):[];return t(r,function(o,l,u){s[++i]=a(o,l,u)}),s}return CR=n,CR}var wR,VG;function Nne(){if(VG)return wR;VG=1;var t=Dw(),e=ah(),n=Mne(),r=Ii();function a(i,s){var o=r(i)?t:n;return o(i,e(s,3))}return wR=a,wR}var ER,WG;function dZe(){if(WG)return ER;WG=1;function t(e,n,r,a){var i=-1,s=e==null?0:e.length;for(a&&s&&(r=e[++i]);++i<s;)r=n(r,e[i],i,e);return r}return ER=t,ER}var TR,YG;function fZe(){if(YG)return TR;YG=1;function t(e,n,r,a,i){return i(e,function(s,o,l){r=a?(a=!1,s):n(r,s,o,l)}),r}return TR=t,TR}var AR,KG;function Pne(){if(KG)return AR;KG=1;var t=dZe(),e=Ow(),n=ah(),r=fZe(),a=Ii();function i(s,o,l){var u=a(s)?t:r,d=arguments.length<3;return u(s,n(o,4),l,d,e)}return AR=i,AR}var RR,XG;function hZe(){if(XG)return RR;XG=1;var t=Wg(),e=Ii(),n=Yd(),r="[object String]";function a(i){return typeof i=="string"||!e(i)&&n(i)&&t(i)==r}return RR=a,RR}var kR,QG;function pZe(){if(QG)return kR;QG=1;var t=Ine(),e=t("length");return kR=e,kR}var IR,ZG;function mZe(){if(ZG)return IR;ZG=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+t+a+i+"]");function l(u){return o.test(u)}return IR=l,IR}var jR,JG;function gZe(){if(JG)return jR;JG=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",s="["+t+"]",o="["+a+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+o+"|"+l+")",d="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",x=u+"?",v="["+i+"]?",_="(?:"+y+"(?:"+[d,h,m].join("|")+")"+v+x+")*",C=v+x+_,w="(?:"+[d+o+"?",o,h,m,s].join("|")+")",T=RegExp(l+"(?="+l+")|"+w+C,"g");function E(I){for(var j=T.lastIndex=0;T.test(I);)++j;return j}return jR=E,jR}var OR,eq;function yZe(){if(eq)return OR;eq=1;var t=pZe(),e=mZe(),n=gZe();function r(a){return e(a)?n(a):t(a)}return OR=r,OR}var DR,tq;function bZe(){if(tq)return DR;tq=1;var t=qD(),e=Gy(),n=rh(),r=hZe(),a=yZe(),i="[object Map]",s="[object Set]";function o(l){if(l==null)return 0;if(n(l))return r(l)?a(l):l.length;var u=e(l);return u==i||u==s?l.size:t(l).length}return DR=o,DR}var MR,nq;function xZe(){if(nq)return MR;nq=1;var t=UD(),e=mne(),n=QD(),r=ah(),a=jw(),i=Ii(),s=$y(),o=xS(),l=Hc(),u=_S();function d(h,m,y){var x=i(h),v=x||s(h)||u(h);if(m=r(m,4),y==null){var _=h&&h.constructor;v?y=x?new _:[]:l(h)?y=o(_)?e(a(h)):{}:y={}}return(v?t:n)(h,function(C,w,T){return m(y,C,w,T)}),y}return MR=d,MR}var NR,rq;function vZe(){if(rq)return NR;rq=1;var t=Uy(),e=SS(),n=Ii(),r=t?t.isConcatSpreadable:void 0;function a(i){return n(i)||e(i)||!!(r&&i&&i[r])}return NR=a,NR}var PR,aq;function eM(){if(aq)return PR;aq=1;var t=WD(),e=vZe();function n(r,a,i,s,o){var l=-1,u=r.length;for(i||(i=e),o||(o=[]);++l<u;){var d=r[l];a>0&&i(d)?a>1?n(d,a-1,i,s,o):t(o,d):s||(o[o.length]=d)}return o}return PR=n,PR}var LR,iq;function SZe(){if(iq)return LR;iq=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return LR=t,LR}var zR,sq;function Lne(){if(sq)return zR;sq=1;var t=SZe(),e=Math.max;function n(r,a,i){return a=e(a===void 0?r.length-1:a,0),function(){for(var s=arguments,o=-1,l=e(s.length-a,0),u=Array(l);++o<l;)u[o]=s[a+o];o=-1;for(var d=Array(a+1);++o<a;)d[o]=s[o];return d[a]=i(u),t(r,this,d)}}return zR=n,zR}var FR,oq;function _Ze(){if(oq)return FR;oq=1;var t=KD(),e=nne(),n=Xg(),r=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:n;return FR=r,FR}var BR,lq;function CZe(){if(lq)return BR;lq=1;var t=800,e=16,n=Date.now;function r(a){var i=0,s=0;return function(){var o=n(),l=e-(o-s);if(s=o,l>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return BR=r,BR}var HR,cq;function zne(){if(cq)return HR;cq=1;var t=_Ze(),e=CZe(),n=e(t);return HR=n,HR}var UR,uq;function Pw(){if(uq)return UR;uq=1;var t=Xg(),e=Lne(),n=zne();function r(a,i){return n(e(a,i,t),a+"")}return UR=r,UR}var $R,dq;function Fne(){if(dq)return $R;dq=1;function t(e,n,r,a){for(var i=e.length,s=r+(a?1:-1);a?s--:++s<i;)if(n(e[s],s,e))return s;return-1}return $R=t,$R}var GR,fq;function wZe(){if(fq)return GR;fq=1;function t(e){return e!==e}return GR=t,GR}var qR,hq;function EZe(){if(hq)return qR;hq=1;function t(e,n,r){for(var a=r-1,i=e.length;++a<i;)if(e[a]===n)return a;return-1}return qR=t,qR}var VR,pq;function TZe(){if(pq)return VR;pq=1;var t=Fne(),e=wZe(),n=EZe();function r(a,i,s){return i===i?n(a,i,s):t(a,e,s)}return VR=r,VR}var WR,mq;function AZe(){if(mq)return WR;mq=1;var t=TZe();function e(n,r){var a=n==null?0:n.length;return!!a&&t(n,r,0)>-1}return WR=e,WR}var YR,gq;function RZe(){if(gq)return YR;gq=1;function t(e,n,r){for(var a=-1,i=e==null?0:e.length;++a<i;)if(r(n,e[a]))return!0;return!1}return YR=t,YR}var KR,yq;function kZe(){if(yq)return KR;yq=1;function t(){}return KR=t,KR}var XR,bq;function IZe(){if(bq)return XR;bq=1;var t=fne(),e=kZe(),n=ZD(),r=1/0,a=t&&1/n(new t([,-0]))[1]==r?function(i){return new t(i)}:e;return XR=a,XR}var QR,xq;function jZe(){if(xq)return QR;xq=1;var t=Sne(),e=AZe(),n=RZe(),r=_ne(),a=IZe(),i=ZD(),s=200;function o(l,u,d){var h=-1,m=e,y=l.length,x=!0,v=[],_=v;if(d)x=!1,m=n;else if(y>=s){var C=u?null:a(l);if(C)return i(C);x=!1,m=r,_=new t}else _=u?[]:v;e:for(;++h<y;){var w=l[h],T=u?u(w):w;if(w=d||w!==0?w:0,x&&T===T){for(var E=_.length;E--;)if(_[E]===T)continue e;u&&_.push(T),v.push(w)}else m(_,T,d)||(_!==v&&_.push(T),v.push(w))}return v}return QR=o,QR}var ZR,vq;function Bne(){if(vq)return ZR;vq=1;var t=rh(),e=Yd();function n(r){return e(r)&&t(r)}return ZR=n,ZR}var JR,Sq;function OZe(){if(Sq)return JR;Sq=1;var t=eM(),e=Pw(),n=jZe(),r=Bne(),a=e(function(i){return n(t(i,1,r,!0))});return JR=a,JR}var e9,_q;function DZe(){if(_q)return e9;_q=1;var t=Dw();function e(n,r){return t(r,function(a){return n[a]})}return e9=e,e9}var t9,Cq;function Hne(){if(Cq)return t9;Cq=1;var t=DZe(),e=Wp();function n(r){return r==null?[]:t(r,e(r))}return t9=n,t9}var n9,wq;function Uc(){if(wq)return n9;wq=1;var t;if(typeof FD=="function")try{t={clone:BQe(),constant:KD(),each:vne(),filter:jne(),has:One(),isArray:Ii(),isEmpty:uZe(),isFunction:xS(),isUndefined:Dne(),keys:Wp(),map:Nne(),reduce:Pne(),size:bZe(),transform:xZe(),union:OZe(),values:Hne()}}catch{}return t||(t=window._),n9=t,n9}var r9,Eq;function tM(){if(Eq)return r9;Eq=1;var t=Uc();r9=a;var e="\0",n="\0",r="";function a(d){this._isDirected=t.has(d,"directed")?d.directed:!0,this._isMultigraph=t.has(d,"multigraph")?d.multigraph:!1,this._isCompound=t.has(d,"compound")?d.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(d){return this._label=d,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(d){return t.isFunction(d)||(d=t.constant(d)),this._defaultNodeLabelFn=d,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return t.keys(this._nodes)},a.prototype.sources=function(){var d=this;return t.filter(this.nodes(),function(h){return t.isEmpty(d._in[h])})},a.prototype.sinks=function(){var d=this;return t.filter(this.nodes(),function(h){return t.isEmpty(d._out[h])})},a.prototype.setNodes=function(d,h){var m=arguments,y=this;return t.each(d,function(x){m.length>1?y.setNode(x,h):y.setNode(x)}),this},a.prototype.setNode=function(d,h){return t.has(this._nodes,d)?(arguments.length>1&&(this._nodes[d]=h),this):(this._nodes[d]=arguments.length>1?h:this._defaultNodeLabelFn(d),this._isCompound&&(this._parent[d]=n,this._children[d]={},this._children[n][d]=!0),this._in[d]={},this._preds[d]={},this._out[d]={},this._sucs[d]={},++this._nodeCount,this)},a.prototype.node=function(d){return this._nodes[d]},a.prototype.hasNode=function(d){return t.has(this._nodes,d)},a.prototype.removeNode=function(d){var h=this;if(t.has(this._nodes,d)){var m=function(y){h.removeEdge(h._edgeObjs[y])};delete this._nodes[d],this._isCompound&&(this._removeFromParentsChildList(d),delete this._parent[d],t.each(this.children(d),function(y){h.setParent(y)}),delete this._children[d]),t.each(t.keys(this._in[d]),m),delete this._in[d],delete this._preds[d],t.each(t.keys(this._out[d]),m),delete this._out[d],delete this._sucs[d],--this._nodeCount}return this},a.prototype.setParent=function(d,h){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(h))h=n;else{h+="";for(var m=h;!t.isUndefined(m);m=this.parent(m))if(m===d)throw new Error("Setting "+h+" as parent of "+d+" would create a cycle");this.setNode(h)}return this.setNode(d),this._removeFromParentsChildList(d),this._parent[d]=h,this._children[h][d]=!0,this},a.prototype._removeFromParentsChildList=function(d){delete this._children[this._parent[d]][d]},a.prototype.parent=function(d){if(this._isCompound){var h=this._parent[d];if(h!==n)return h}},a.prototype.children=function(d){if(t.isUndefined(d)&&(d=n),this._isCompound){var h=this._children[d];if(h)return t.keys(h)}else{if(d===n)return this.nodes();if(this.hasNode(d))return[]}},a.prototype.predecessors=function(d){var h=this._preds[d];if(h)return t.keys(h)},a.prototype.successors=function(d){var h=this._sucs[d];if(h)return t.keys(h)},a.prototype.neighbors=function(d){var h=this.predecessors(d);if(h)return t.union(h,this.successors(d))},a.prototype.isLeaf=function(d){var h;return this.isDirected()?h=this.successors(d):h=this.neighbors(d),h.length===0},a.prototype.filterNodes=function(d){var h=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});h.setGraph(this.graph());var m=this;t.each(this._nodes,function(v,_){d(_)&&h.setNode(_,v)}),t.each(this._edgeObjs,function(v){h.hasNode(v.v)&&h.hasNode(v.w)&&h.setEdge(v,m.edge(v))});var y={};function x(v){var _=m.parent(v);return _===void 0||h.hasNode(_)?(y[v]=_,_):_ in y?y[_]:x(_)}return this._isCompound&&t.each(h.nodes(),function(v){h.setParent(v,x(v))}),h},a.prototype.setDefaultEdgeLabel=function(d){return t.isFunction(d)||(d=t.constant(d)),this._defaultEdgeLabelFn=d,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return t.values(this._edgeObjs)},a.prototype.setPath=function(d,h){var m=this,y=arguments;return t.reduce(d,function(x,v){return y.length>1?m.setEdge(x,v,h):m.setEdge(x,v),v}),this},a.prototype.setEdge=function(){var d,h,m,y,x=!1,v=arguments[0];typeof v=="object"&&v!==null&&"v"in v?(d=v.v,h=v.w,m=v.name,arguments.length===2&&(y=arguments[1],x=!0)):(d=v,h=arguments[1],m=arguments[3],arguments.length>2&&(y=arguments[2],x=!0)),d=""+d,h=""+h,t.isUndefined(m)||(m=""+m);var _=o(this._isDirected,d,h,m);if(t.has(this._edgeLabels,_))return x&&(this._edgeLabels[_]=y),this;if(!t.isUndefined(m)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(d),this.setNode(h),this._edgeLabels[_]=x?y:this._defaultEdgeLabelFn(d,h,m);var C=l(this._isDirected,d,h,m);return d=C.v,h=C.w,Object.freeze(C),this._edgeObjs[_]=C,i(this._preds[h],d),i(this._sucs[d],h),this._in[h][_]=C,this._out[d][_]=C,this._edgeCount++,this},a.prototype.edge=function(d,h,m){var y=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,d,h,m);return this._edgeLabels[y]},a.prototype.hasEdge=function(d,h,m){var y=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,d,h,m);return t.has(this._edgeLabels,y)},a.prototype.removeEdge=function(d,h,m){var y=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,d,h,m),x=this._edgeObjs[y];return x&&(d=x.v,h=x.w,delete this._edgeLabels[y],delete this._edgeObjs[y],s(this._preds[h],d),s(this._sucs[d],h),delete this._in[h][y],delete this._out[d][y],this._edgeCount--),this},a.prototype.inEdges=function(d,h){var m=this._in[d];if(m){var y=t.values(m);return h?t.filter(y,function(x){return x.v===h}):y}},a.prototype.outEdges=function(d,h){var m=this._out[d];if(m){var y=t.values(m);return h?t.filter(y,function(x){return x.w===h}):y}},a.prototype.nodeEdges=function(d,h){var m=this.inEdges(d,h);if(m)return m.concat(this.outEdges(d,h))};function i(d,h){d[h]?d[h]++:d[h]=1}function s(d,h){--d[h]||delete d[h]}function o(d,h,m,y){var x=""+h,v=""+m;if(!d&&x>v){var _=x;x=v,v=_}return x+r+v+r+(t.isUndefined(y)?e:y)}function l(d,h,m,y){var x=""+h,v=""+m;if(!d&&x>v){var _=x;x=v,v=_}var C={v:x,w:v};return y&&(C.name=y),C}function u(d,h){return o(d,h.v,h.w,h.name)}return r9}var a9,Tq;function MZe(){return Tq||(Tq=1,a9="2.1.8"),a9}var i9,Aq;function NZe(){return Aq||(Aq=1,i9={Graph:tM(),version:MZe()}),i9}var s9,Rq;function PZe(){if(Rq)return s9;Rq=1;var t=Uc(),e=tM();s9={write:n,read:i};function n(s){var o={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:r(s),edges:a(s)};return t.isUndefined(s.graph())||(o.value=t.clone(s.graph())),o}function r(s){return t.map(s.nodes(),function(o){var l=s.node(o),u=s.parent(o),d={v:o};return t.isUndefined(l)||(d.value=l),t.isUndefined(u)||(d.parent=u),d})}function a(s){return t.map(s.edges(),function(o){var l=s.edge(o),u={v:o.v,w:o.w};return t.isUndefined(o.name)||(u.name=o.name),t.isUndefined(l)||(u.value=l),u})}function i(s){var o=new e(s.options).setGraph(s.value);return t.each(s.nodes,function(l){o.setNode(l.v,l.value),l.parent&&o.setParent(l.v,l.parent)}),t.each(s.edges,function(l){o.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),o}return s9}var o9,kq;function LZe(){if(kq)return o9;kq=1;var t=Uc();o9=e;function e(n){var r={},a=[],i;function s(o){t.has(r,o)||(r[o]=!0,i.push(o),t.each(n.successors(o),s),t.each(n.predecessors(o),s))}return t.each(n.nodes(),function(o){i=[],s(o),i.length&&a.push(i)}),a}return o9}var l9,Iq;function Une(){if(Iq)return l9;Iq=1;var t=Uc();l9=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(n){return n.key})},e.prototype.has=function(n){return t.has(this._keyIndices,n)},e.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(n,r){var a=this._keyIndices;if(n=String(n),!t.has(a,n)){var i=this._arr,s=i.length;return a[n]=s,i.push({key:n,priority:r}),this._decrease(s),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},e.prototype.decrease=function(n,r){var a=this._keyIndices[n];if(r>this._arr[a].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[a].priority+" New: "+r);this._arr[a].priority=r,this._decrease(a)},e.prototype._heapify=function(n){var r=this._arr,a=2*n,i=a+1,s=n;a<r.length&&(s=r[a].priority<r[s].priority?a:s,i<r.length&&(s=r[i].priority<r[s].priority?i:s),s!==n&&(this._swap(n,s),this._heapify(s)))},e.prototype._decrease=function(n){for(var r=this._arr,a=r[n].priority,i;n!==0&&(i=n>>1,!(r[i].priority<a));)this._swap(n,i),n=i},e.prototype._swap=function(n,r){var a=this._arr,i=this._keyIndices,s=a[n],o=a[r];a[n]=o,a[r]=s,i[o.key]=n,i[s.key]=r},l9}var c9,jq;function $ne(){if(jq)return c9;jq=1;var t=Uc(),e=Une();c9=r;var n=t.constant(1);function r(i,s,o,l){return a(i,String(s),o||n,l||function(u){return i.outEdges(u)})}function a(i,s,o,l){var u={},d=new e,h,m,y=function(x){var v=x.v!==h?x.v:x.w,_=u[v],C=o(x),w=m.distance+C;if(C<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+x+" Weight: "+C);w<_.distance&&(_.distance=w,_.predecessor=h,d.decrease(v,w))};for(i.nodes().forEach(function(x){var v=x===s?0:Number.POSITIVE_INFINITY;u[x]={distance:v},d.add(x,v)});d.size()>0&&(h=d.removeMin(),m=u[h],m.distance!==Number.POSITIVE_INFINITY);)l(h).forEach(y);return u}return c9}var u9,Oq;function zZe(){if(Oq)return u9;Oq=1;var t=$ne(),e=Uc();u9=n;function n(r,a,i){return e.transform(r.nodes(),function(s,o){s[o]=t(r,o,a,i)},{})}return u9}var d9,Dq;function Gne(){if(Dq)return d9;Dq=1;var t=Uc();d9=e;function e(n){var r=0,a=[],i={},s=[];function o(l){var u=i[l]={onStack:!0,lowlink:r,index:r++};if(a.push(l),n.successors(l).forEach(function(m){t.has(i,m)?i[m].onStack&&(u.lowlink=Math.min(u.lowlink,i[m].index)):(o(m),u.lowlink=Math.min(u.lowlink,i[m].lowlink))}),u.lowlink===u.index){var d=[],h;do h=a.pop(),i[h].onStack=!1,d.push(h);while(l!==h);s.push(d)}}return n.nodes().forEach(function(l){t.has(i,l)||o(l)}),s}return d9}var f9,Mq;function FZe(){if(Mq)return f9;Mq=1;var t=Uc(),e=Gne();f9=n;function n(r){return t.filter(e(r),function(a){return a.length>1||a.length===1&&r.hasEdge(a[0],a[0])})}return f9}var h9,Nq;function BZe(){if(Nq)return h9;Nq=1;var t=Uc();h9=n;var e=t.constant(1);function n(a,i,s){return r(a,i||e,s||function(o){return a.outEdges(o)})}function r(a,i,s){var o={},l=a.nodes();return l.forEach(function(u){o[u]={},o[u][u]={distance:0},l.forEach(function(d){u!==d&&(o[u][d]={distance:Number.POSITIVE_INFINITY})}),s(u).forEach(function(d){var h=d.v===u?d.w:d.v,m=i(d);o[u][h]={distance:m,predecessor:u}})}),l.forEach(function(u){var d=o[u];l.forEach(function(h){var m=o[h];l.forEach(function(y){var x=m[u],v=d[y],_=m[y],C=x.distance+v.distance;C<_.distance&&(_.distance=C,_.predecessor=v.predecessor)})})}),o}return h9}var p9,Pq;function qne(){if(Pq)return p9;Pq=1;var t=Uc();p9=e,e.CycleException=n;function e(r){var a={},i={},s=[];function o(l){if(t.has(i,l))throw new n;t.has(a,l)||(i[l]=!0,a[l]=!0,t.each(r.predecessors(l),o),delete i[l],s.push(l))}if(t.each(r.sinks(),o),t.size(a)!==r.nodeCount())throw new n;return s}function n(){}return n.prototype=new Error,p9}var m9,Lq;function HZe(){if(Lq)return m9;Lq=1;var t=qne();m9=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return m9}var g9,zq;function Vne(){if(zq)return g9;zq=1;var t=Uc();g9=e;function e(r,a,i){t.isArray(a)||(a=[a]);var s=(r.isDirected()?r.successors:r.neighbors).bind(r),o=[],l={};return t.each(a,function(u){if(!r.hasNode(u))throw new Error("Graph does not have node: "+u);n(r,u,i==="post",l,s,o)}),o}function n(r,a,i,s,o,l){t.has(s,a)||(s[a]=!0,i||l.push(a),t.each(o(a),function(u){n(r,u,i,s,o,l)}),i&&l.push(a))}return g9}var y9,Fq;function UZe(){if(Fq)return y9;Fq=1;var t=Vne();y9=e;function e(n,r){return t(n,r,"post")}return y9}var b9,Bq;function $Ze(){if(Bq)return b9;Bq=1;var t=Vne();b9=e;function e(n,r){return t(n,r,"pre")}return b9}var x9,Hq;function GZe(){if(Hq)return x9;Hq=1;var t=Uc(),e=tM(),n=Une();x9=r;function r(a,i){var s=new e,o={},l=new n,u;function d(m){var y=m.v===u?m.w:m.v,x=l.priority(y);if(x!==void 0){var v=i(m);v<x&&(o[y]=u,l.decrease(y,v))}}if(a.nodeCount()===0)return s;t.each(a.nodes(),function(m){l.add(m,Number.POSITIVE_INFINITY),s.setNode(m)}),l.decrease(a.nodes()[0],0);for(var h=!1;l.size()>0;){if(u=l.removeMin(),t.has(o,u))s.setEdge(u,o[u]);else{if(h)throw new Error("Input graph is not connected: "+a);h=!0}a.nodeEdges(u).forEach(d)}return s}return x9}var v9,Uq;function qZe(){return Uq||(Uq=1,v9={components:LZe(),dijkstra:$ne(),dijkstraAll:zZe(),findCycles:FZe(),floydWarshall:BZe(),isAcyclic:HZe(),postorder:UZe(),preorder:$Ze(),prim:GZe(),tarjan:Gne(),topsort:qne()}),v9}var S9,$q;function VZe(){if($q)return S9;$q=1;var t=NZe();return S9={Graph:t.Graph,json:PZe(),alg:qZe(),version:t.version},S9}var _9,Gq;function Au(){if(Gq)return _9;Gq=1;var t;if(typeof FD=="function")try{t=VZe()}catch{}return t||(t=window.graphlib),_9=t,_9}var C9,qq;function WZe(){if(qq)return C9;qq=1;var t=yne(),e=1,n=4;function r(a){return t(a,e|n)}return C9=r,C9}var w9,Vq;function Lw(){if(Vq)return w9;Vq=1;var t=Hy(),e=rh(),n=Rw(),r=Hc();function a(i,s,o){if(!r(o))return!1;var l=typeof s;return(l=="number"?e(o)&&n(s,o.length):l=="string"&&s in o)?t(o[s],i):!1}return w9=a,w9}var E9,Wq;function YZe(){if(Wq)return E9;Wq=1;var t=Pw(),e=Hy(),n=Lw(),r=Kg(),a=Object.prototype,i=a.hasOwnProperty,s=t(function(o,l){o=Object(o);var u=-1,d=l.length,h=d>2?l[2]:void 0;for(h&&n(l[0],l[1],h)&&(d=1);++u<d;)for(var m=l[u],y=r(m),x=-1,v=y.length;++x<v;){var _=y[x],C=o[_];(C===void 0||e(C,a[_])&&!i.call(o,_))&&(o[_]=m[_])}return o});return E9=s,E9}var T9,Yq;function KZe(){if(Yq)return T9;Yq=1;var t=ah(),e=rh(),n=Wp();function r(a){return function(i,s,o){var l=Object(i);if(!e(i)){var u=t(s,3);i=n(i),s=function(h){return u(l[h],h,l)}}var d=a(i,s,o);return d>-1?l[u?i[d]:d]:void 0}}return T9=r,T9}var A9,Kq;function XZe(){if(Kq)return A9;Kq=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return A9=e,A9}var R9,Xq;function QZe(){if(Xq)return R9;Xq=1;var t=XZe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return R9=n,R9}var k9,Qq;function ZZe(){if(Qq)return k9;Qq=1;var t=QZe(),e=Hc(),n=qy(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var h=i.test(u);return h||s.test(u)?o(u.slice(2),h?2:8):a.test(u)?r:+u}return k9=l,k9}var I9,Zq;function Wne(){if(Zq)return I9;Zq=1;var t=ZZe(),e=1/0,n=17976931348623157e292;function r(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*n}return a===a?a:0}return I9=r,I9}var j9,Jq;function JZe(){if(Jq)return j9;Jq=1;var t=Wne();function e(n){var r=t(n),a=r%1;return r===r?a?r-a:r:0}return j9=e,j9}var O9,eV;function eJe(){if(eV)return O9;eV=1;var t=Fne(),e=ah(),n=JZe(),r=Math.max;function a(i,s,o){var l=i==null?0:i.length;if(!l)return-1;var u=o==null?0:n(o);return u<0&&(u=r(l+u,0)),t(i,e(s,3),u)}return O9=a,O9}var D9,tV;function tJe(){if(tV)return D9;tV=1;var t=KZe(),e=eJe(),n=t(e);return D9=n,D9}var M9,nV;function Yne(){if(nV)return M9;nV=1;var t=eM();function e(n){var r=n==null?0:n.length;return r?t(n,1):[]}return M9=e,M9}var N9,rV;function nJe(){if(rV)return N9;rV=1;var t=XD(),e=bne(),n=Kg();function r(a,i){return a==null?a:t(a,e(i),n)}return N9=r,N9}var P9,aV;function rJe(){if(aV)return P9;aV=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return P9=t,P9}var L9,iV;function aJe(){if(iV)return L9;iV=1;var t=Tw(),e=QD(),n=ah();function r(a,i){var s={};return i=n(i,3),e(a,function(o,l,u){t(s,l,i(o,l,u))}),s}return L9=r,L9}var z9,sV;function nM(){if(sV)return z9;sV=1;var t=qy();function e(n,r,a){for(var i=-1,s=n.length;++i<s;){var o=n[i],l=r(o);if(l!=null&&(u===void 0?l===l&&!t(l):a(l,u)))var u=l,d=o}return d}return z9=e,z9}var F9,oV;function iJe(){if(oV)return F9;oV=1;function t(e,n){return e>n}return F9=t,F9}var B9,lV;function sJe(){if(lV)return B9;lV=1;var t=nM(),e=iJe(),n=Xg();function r(a){return a&&a.length?t(a,n,e):void 0}return B9=r,B9}var H9,cV;function Kne(){if(cV)return H9;cV=1;var t=Tw(),e=Hy();function n(r,a,i){(i!==void 0&&!e(r[a],i)||i===void 0&&!(a in r))&&t(r,a,i)}return H9=n,H9}var U9,uV;function oJe(){if(uV)return U9;uV=1;var t=Wg(),e=jw(),n=Yd(),r="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,o=i.hasOwnProperty,l=s.call(Object);function u(d){if(!n(d)||t(d)!=r)return!1;var h=e(d);if(h===null)return!0;var m=o.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&s.call(m)==l}return U9=u,U9}var $9,dV;function Xne(){if(dV)return $9;dV=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return $9=t,$9}var G9,fV;function lJe(){if(fV)return G9;fV=1;var t=vS(),e=Kg();function n(r){return t(r,e(r))}return G9=n,G9}var q9,hV;function cJe(){if(hV)return q9;hV=1;var t=Kne(),e=ine(),n=pne(),r=sne(),a=gne(),i=SS(),s=Ii(),o=Bne(),l=$y(),u=xS(),d=Hc(),h=oJe(),m=_S(),y=Xne(),x=lJe();function v(_,C,w,T,E,I,j){var O=y(_,w),L=y(C,w),N=j.get(L);if(N){t(_,w,N);return}var M=I?I(O,L,w+"",_,C,j):void 0,H=M===void 0;if(H){var P=s(L),$=!P&&l(L),D=!P&&!$&&m(L);M=L,P||$||D?s(O)?M=O:o(O)?M=r(O):$?(H=!1,M=e(L,!0)):D?(H=!1,M=n(L,!0)):M=[]:h(L)||i(L)?(M=O,i(O)?M=x(O):(!d(O)||u(O))&&(M=a(L))):H=!1}H&&(j.set(L,M),E(M,L,T,I,j),j.delete(L)),t(_,w,M)}return q9=v,q9}var V9,pV;function uJe(){if(pV)return V9;pV=1;var t=Ew(),e=Kne(),n=XD(),r=cJe(),a=Hc(),i=Kg(),s=Xne();function o(l,u,d,h,m){l!==u&&n(u,function(y,x){if(m||(m=new t),a(y))r(l,u,x,d,o,h,m);else{var v=h?h(s(l,x),y,x+"",l,u,m):void 0;v===void 0&&(v=y),e(l,x,v)}},i)}return V9=o,V9}var W9,mV;function dJe(){if(mV)return W9;mV=1;var t=Pw(),e=Lw();function n(r){return t(function(a,i){var s=-1,o=i.length,l=o>1?i[o-1]:void 0,u=o>2?i[2]:void 0;for(l=r.length>3&&typeof l=="function"?(o--,l):void 0,u&&e(i[0],i[1],u)&&(l=o<3?void 0:l,o=1),a=Object(a);++s<o;){var d=i[s];d&&r(a,d,s,l)}return a})}return W9=n,W9}var Y9,gV;function fJe(){if(gV)return Y9;gV=1;var t=uJe(),e=dJe(),n=e(function(r,a,i){t(r,a,i)});return Y9=n,Y9}var K9,yV;function Qne(){if(yV)return K9;yV=1;function t(e,n){return e<n}return K9=t,K9}var X9,bV;function hJe(){if(bV)return X9;bV=1;var t=nM(),e=Qne(),n=Xg();function r(a){return a&&a.length?t(a,n,e):void 0}return X9=r,X9}var Q9,xV;function pJe(){if(xV)return Q9;xV=1;var t=nM(),e=ah(),n=Qne();function r(a,i){return a&&a.length?t(a,e(i,2),n):void 0}return Q9=r,Q9}var Z9,vV;function mJe(){if(vV)return Z9;vV=1;var t=Pu(),e=function(){return t.Date.now()};return Z9=e,Z9}var J9,SV;function gJe(){if(SV)return J9;SV=1;var t=Aw(),e=Mw(),n=Rw(),r=Hc(),a=CS();function i(s,o,l,u){if(!r(s))return s;o=e(o,s);for(var d=-1,h=o.length,m=h-1,y=s;y!=null&&++d<h;){var x=a(o[d]),v=l;if(x==="__proto__"||x==="constructor"||x==="prototype")return s;if(d!=m){var _=y[x];v=u?u(_,x,y):void 0,v===void 0&&(v=r(_)?_:n(o[d+1])?[]:{})}t(y,x,v),y=y[x]}return s}return J9=i,J9}var e7,_V;function yJe(){if(_V)return e7;_V=1;var t=Nw(),e=gJe(),n=Mw();function r(a,i,s){for(var o=-1,l=i.length,u={};++o<l;){var d=i[o],h=t(a,d);s(h,d)&&e(u,n(d,a),h)}return u}return e7=r,e7}var t7,CV;function bJe(){if(CV)return t7;CV=1;var t=yJe(),e=kne();function n(r,a){return t(r,a,function(i,s){return e(r,s)})}return t7=n,t7}var n7,wV;function xJe(){if(wV)return n7;wV=1;var t=Yne(),e=Lne(),n=zne();function r(a){return n(e(a,void 0,t),a+"")}return n7=r,n7}var r7,EV;function vJe(){if(EV)return r7;EV=1;var t=bJe(),e=xJe(),n=e(function(r,a){return r==null?{}:t(r,a)});return r7=n,r7}var a7,TV;function SJe(){if(TV)return a7;TV=1;var t=Math.ceil,e=Math.max;function n(r,a,i,s){for(var o=-1,l=e(t((a-r)/(i||1)),0),u=Array(l);l--;)u[s?l:++o]=r,r+=i;return u}return a7=n,a7}var i7,AV;function _Je(){if(AV)return i7;AV=1;var t=SJe(),e=Lw(),n=Wne();function r(a){return function(i,s,o){return o&&typeof o!="number"&&e(i,s,o)&&(s=o=void 0),i=n(i),s===void 0?(s=i,i=0):s=n(s),o=o===void 0?i<s?1:-1:n(o),t(i,s,o,a)}}return i7=r,i7}var s7,RV;function CJe(){if(RV)return s7;RV=1;var t=_Je(),e=t();return s7=e,s7}var o7,kV;function wJe(){if(kV)return o7;kV=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return o7=t,o7}var l7,IV;function EJe(){if(IV)return l7;IV=1;var t=qy();function e(n,r){if(n!==r){var a=n!==void 0,i=n===null,s=n===n,o=t(n),l=r!==void 0,u=r===null,d=r===r,h=t(r);if(!u&&!h&&!o&&n>r||o&&l&&d&&!u&&!h||i&&l&&d||!a&&d||!s)return 1;if(!i&&!o&&!h&&n<r||h&&a&&s&&!i&&!o||u&&a&&s||!l&&s||!d)return-1}return 0}return l7=e,l7}var c7,jV;function TJe(){if(jV)return c7;jV=1;var t=EJe();function e(n,r,a){for(var i=-1,s=n.criteria,o=r.criteria,l=s.length,u=a.length;++i<l;){var d=t(s[i],o[i]);if(d){if(i>=u)return d;var h=a[i];return d*(h=="desc"?-1:1)}}return n.index-r.index}return c7=e,c7}var u7,OV;function AJe(){if(OV)return u7;OV=1;var t=Dw(),e=Nw(),n=ah(),r=Mne(),a=wJe(),i=kw(),s=TJe(),o=Xg(),l=Ii();function u(d,h,m){h.length?h=t(h,function(v){return l(v)?function(_){return e(_,v.length===1?v[0]:v)}:v}):h=[o];var y=-1;h=t(h,i(n));var x=r(d,function(v,_,C){var w=t(h,function(T){return T(v)});return{criteria:w,index:++y,value:v}});return a(x,function(v,_){return s(v,_,m)})}return u7=u,u7}var d7,DV;function RJe(){if(DV)return d7;DV=1;var t=eM(),e=AJe(),n=Pw(),r=Lw(),a=n(function(i,s){if(i==null)return[];var o=s.length;return o>1&&r(i,s[0],s[1])?s=[]:o>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(i,t(s,1),[])});return d7=a,d7}var f7,MV;function kJe(){if(MV)return f7;MV=1;var t=Ane(),e=0;function n(r){var a=++e;return t(r)+a}return f7=n,f7}var h7,NV;function IJe(){if(NV)return h7;NV=1;function t(e,n,r){for(var a=-1,i=e.length,s=n.length,o={};++a<i;){var l=a<s?n[a]:void 0;r(o,e[a],l)}return o}return h7=t,h7}var p7,PV;function jJe(){if(PV)return p7;PV=1;var t=Aw(),e=IJe();function n(r,a){return e(r||[],a||[],t)}return p7=n,p7}var m7,LV;function Ia(){if(LV)return m7;LV=1;var t;if(typeof FD=="function")try{t={cloneDeep:WZe(),constant:KD(),defaults:YZe(),each:vne(),filter:jne(),find:tJe(),flatten:Yne(),forEach:xne(),forIn:nJe(),has:One(),isUndefined:Dne(),last:rJe(),map:Nne(),mapValues:aJe(),max:sJe(),merge:fJe(),min:hJe(),minBy:pJe(),now:mJe(),pick:vJe(),range:CJe(),reduce:Pne(),sortBy:RJe(),uniqueId:kJe(),values:Hne(),zipObject:jJe()}}catch{}return t||(t=window._),m7=t,m7}var g7,zV;function OJe(){if(zV)return g7;zV=1,g7=t;function t(){var r={};r._next=r._prev=r,this._sentinel=r}t.prototype.dequeue=function(){var r=this._sentinel,a=r._prev;if(a!==r)return e(a),a},t.prototype.enqueue=function(r){var a=this._sentinel;r._prev&&r._next&&e(r),r._next=a._next,a._next._prev=r,a._next=r,r._prev=a},t.prototype.toString=function(){for(var r=[],a=this._sentinel,i=a._prev;i!==a;)r.push(JSON.stringify(i,n)),i=i._prev;return"["+r.join(", ")+"]"};function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,a){if(r!=="_next"&&r!=="_prev")return a}return g7}var y7,FV;function DJe(){if(FV)return y7;FV=1;var t=Ia(),e=Au().Graph,n=OJe();y7=a;var r=t.constant(1);function a(u,d){if(u.nodeCount()<=1)return[];var h=o(u,d||r),m=i(h.graph,h.buckets,h.zeroIdx);return t.flatten(t.map(m,function(y){return u.outEdges(y.v,y.w)}),!0)}function i(u,d,h){for(var m=[],y=d[d.length-1],x=d[0],v;u.nodeCount();){for(;v=x.dequeue();)s(u,d,h,v);for(;v=y.dequeue();)s(u,d,h,v);if(u.nodeCount()){for(var _=d.length-2;_>0;--_)if(v=d[_].dequeue(),v){m=m.concat(s(u,d,h,v,!0));break}}}return m}function s(u,d,h,m,y){var x=y?[]:void 0;return t.forEach(u.inEdges(m.v),function(v){var _=u.edge(v),C=u.node(v.v);y&&x.push({v:v.v,w:v.w}),C.out-=_,l(d,h,C)}),t.forEach(u.outEdges(m.v),function(v){var _=u.edge(v),C=v.w,w=u.node(C);w.in-=_,l(d,h,w)}),u.removeNode(m.v),x}function o(u,d){var h=new e,m=0,y=0;t.forEach(u.nodes(),function(_){h.setNode(_,{v:_,in:0,out:0})}),t.forEach(u.edges(),function(_){var C=h.edge(_.v,_.w)||0,w=d(_),T=C+w;h.setEdge(_.v,_.w,T),y=Math.max(y,h.node(_.v).out+=w),m=Math.max(m,h.node(_.w).in+=w)});var x=t.range(y+m+3).map(function(){return new n}),v=m+1;return t.forEach(h.nodes(),function(_){l(x,v,h.node(_))}),{graph:h,buckets:x,zeroIdx:v}}function l(u,d,h){h.out?h.in?u[h.out-h.in+d].enqueue(h):u[u.length-1].enqueue(h):u[0].enqueue(h)}return y7}var b7,BV;function MJe(){if(BV)return b7;BV=1;var t=Ia(),e=DJe();b7={run:n,undo:a};function n(i){var s=i.graph().acyclicer==="greedy"?e(i,o(i)):r(i);t.forEach(s,function(l){var u=i.edge(l);i.removeEdge(l),u.forwardName=l.name,u.reversed=!0,i.setEdge(l.w,l.v,u,t.uniqueId("rev"))});function o(l){return function(u){return l.edge(u).weight}}}function r(i){var s=[],o={},l={};function u(d){t.has(l,d)||(l[d]=!0,o[d]=!0,t.forEach(i.outEdges(d),function(h){t.has(o,h.w)?s.push(h):u(h.w)}),delete o[d])}return t.forEach(i.nodes(),u),s}function a(i){t.forEach(i.edges(),function(s){var o=i.edge(s);if(o.reversed){i.removeEdge(s);var l=o.forwardName;delete o.reversed,delete o.forwardName,i.setEdge(s.w,s.v,o,l)}})}return b7}var x7,HV;function rl(){if(HV)return x7;HV=1;var t=Ia(),e=Au().Graph;x7={addDummyNode:n,simplify:r,asNonCompoundGraph:a,successorWeights:i,predecessorWeights:s,intersectRect:o,buildLayerMatrix:l,normalizeRanks:u,removeEmptyRanks:d,addBorderNode:h,maxRank:m,partition:y,time:x,notime:v};function n(_,C,w,T){var E;do E=t.uniqueId(T);while(_.hasNode(E));return w.dummy=C,_.setNode(E,w),E}function r(_){var C=new e().setGraph(_.graph());return t.forEach(_.nodes(),function(w){C.setNode(w,_.node(w))}),t.forEach(_.edges(),function(w){var T=C.edge(w.v,w.w)||{weight:0,minlen:1},E=_.edge(w);C.setEdge(w.v,w.w,{weight:T.weight+E.weight,minlen:Math.max(T.minlen,E.minlen)})}),C}function a(_){var C=new e({multigraph:_.isMultigraph()}).setGraph(_.graph());return t.forEach(_.nodes(),function(w){_.children(w).length||C.setNode(w,_.node(w))}),t.forEach(_.edges(),function(w){C.setEdge(w,_.edge(w))}),C}function i(_){var C=t.map(_.nodes(),function(w){var T={};return t.forEach(_.outEdges(w),function(E){T[E.w]=(T[E.w]||0)+_.edge(E).weight}),T});return t.zipObject(_.nodes(),C)}function s(_){var C=t.map(_.nodes(),function(w){var T={};return t.forEach(_.inEdges(w),function(E){T[E.v]=(T[E.v]||0)+_.edge(E).weight}),T});return t.zipObject(_.nodes(),C)}function o(_,C){var w=_.x,T=_.y,E=C.x-w,I=C.y-T,j=_.width/2,O=_.height/2;if(!E&&!I)throw new Error("Not possible to find intersection inside of the rectangle");var L,N;return Math.abs(I)*j>Math.abs(E)*O?(I<0&&(O=-O),L=O*E/I,N=O):(E<0&&(j=-j),L=j,N=j*I/E),{x:w+L,y:T+N}}function l(_){var C=t.map(t.range(m(_)+1),function(){return[]});return t.forEach(_.nodes(),function(w){var T=_.node(w),E=T.rank;t.isUndefined(E)||(C[E][T.order]=w)}),C}function u(_){var C=t.min(t.map(_.nodes(),function(w){return _.node(w).rank}));t.forEach(_.nodes(),function(w){var T=_.node(w);t.has(T,"rank")&&(T.rank-=C)})}function d(_){var C=t.min(t.map(_.nodes(),function(I){return _.node(I).rank})),w=[];t.forEach(_.nodes(),function(I){var j=_.node(I).rank-C;w[j]||(w[j]=[]),w[j].push(I)});var T=0,E=_.graph().nodeRankFactor;t.forEach(w,function(I,j){t.isUndefined(I)&&j%E!==0?--T:T&&t.forEach(I,function(O){_.node(O).rank+=T})})}function h(_,C,w,T){var E={width:0,height:0};return arguments.length>=4&&(E.rank=w,E.order=T),n(_,"border",E,C)}function m(_){return t.max(t.map(_.nodes(),function(C){var w=_.node(C).rank;if(!t.isUndefined(w))return w}))}function y(_,C){var w={lhs:[],rhs:[]};return t.forEach(_,function(T){C(T)?w.lhs.push(T):w.rhs.push(T)}),w}function x(_,C){var w=t.now();try{return C()}finally{console.log(_+" time: "+(t.now()-w)+"ms")}}function v(_,C){return C()}return x7}var v7,UV;function NJe(){if(UV)return v7;UV=1;var t=Ia(),e=rl();v7={run:n,undo:a};function n(i){i.graph().dummyChains=[],t.forEach(i.edges(),function(s){r(i,s)})}function r(i,s){var o=s.v,l=i.node(o).rank,u=s.w,d=i.node(u).rank,h=s.name,m=i.edge(s),y=m.labelRank;if(d!==l+1){i.removeEdge(s);var x,v,_;for(_=0,++l;l<d;++_,++l)m.points=[],v={width:0,height:0,edgeLabel:m,edgeObj:s,rank:l},x=e.addDummyNode(i,"edge",v,"_d"),l===y&&(v.width=m.width,v.height=m.height,v.dummy="edge-label",v.labelpos=m.labelpos),i.setEdge(o,x,{weight:m.weight},h),_===0&&i.graph().dummyChains.push(x),o=x;i.setEdge(o,u,{weight:m.weight},h)}}function a(i){t.forEach(i.graph().dummyChains,function(s){var o=i.node(s),l=o.edgeLabel,u;for(i.setEdge(o.edgeObj,l);o.dummy;)u=i.successors(s)[0],i.removeNode(s),l.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(l.x=o.x,l.y=o.y,l.width=o.width,l.height=o.height),s=u,o=i.node(s)})}return v7}var S7,$V;function YC(){if($V)return S7;$V=1;var t=Ia();S7={longestPath:e,slack:n};function e(r){var a={};function i(s){var o=r.node(s);if(t.has(a,s))return o.rank;a[s]=!0;var l=t.min(t.map(r.outEdges(s),function(u){return i(u.w)-r.edge(u).minlen}));return(l===Number.POSITIVE_INFINITY||l===void 0||l===null)&&(l=0),o.rank=l}t.forEach(r.sources(),i)}function n(r,a){return r.node(a.w).rank-r.node(a.v).rank-r.edge(a).minlen}return S7}var _7,GV;function Zne(){if(GV)return _7;GV=1;var t=Ia(),e=Au().Graph,n=YC().slack;_7=r;function r(o){var l=new e({directed:!1}),u=o.nodes()[0],d=o.nodeCount();l.setNode(u,{});for(var h,m;a(l,o)<d;)h=i(l,o),m=l.hasNode(h.v)?n(o,h):-n(o,h),s(l,o,m);return l}function a(o,l){function u(d){t.forEach(l.nodeEdges(d),function(h){var m=h.v,y=d===m?h.w:m;!o.hasNode(y)&&!n(l,h)&&(o.setNode(y,{}),o.setEdge(d,y,{}),u(y))})}return t.forEach(o.nodes(),u),o.nodeCount()}function i(o,l){return t.minBy(l.edges(),function(u){if(o.hasNode(u.v)!==o.hasNode(u.w))return n(l,u)})}function s(o,l,u){t.forEach(o.nodes(),function(d){l.node(d).rank+=u})}return _7}var C7,qV;function PJe(){if(qV)return C7;qV=1;var t=Ia(),e=Zne(),n=YC().slack,r=YC().longestPath,a=Au().alg.preorder,i=Au().alg.postorder,s=rl().simplify;C7=o,o.initLowLimValues=h,o.initCutValues=l,o.calcCutValue=d,o.leaveEdge=y,o.enterEdge=x,o.exchangeEdges=v;function o(T){T=s(T),r(T);var E=e(T);h(E),l(E,T);for(var I,j;I=y(E);)j=x(E,T,I),v(E,T,I,j)}function l(T,E){var I=i(T,T.nodes());I=I.slice(0,I.length-1),t.forEach(I,function(j){u(T,E,j)})}function u(T,E,I){var j=T.node(I),O=j.parent;T.edge(I,O).cutvalue=d(T,E,I)}function d(T,E,I){var j=T.node(I),O=j.parent,L=!0,N=E.edge(I,O),M=0;return N||(L=!1,N=E.edge(O,I)),M=N.weight,t.forEach(E.nodeEdges(I),function(H){var P=H.v===I,$=P?H.w:H.v;if($!==O){var D=P===L,U=E.edge(H).weight;if(M+=D?U:-U,C(T,I,$)){var F=T.edge(I,$).cutvalue;M+=D?-F:F}}}),M}function h(T,E){arguments.length<2&&(E=T.nodes()[0]),m(T,{},1,E)}function m(T,E,I,j,O){var L=I,N=T.node(j);return E[j]=!0,t.forEach(T.neighbors(j),function(M){t.has(E,M)||(I=m(T,E,I,M,j))}),N.low=L,N.lim=I++,O?N.parent=O:delete N.parent,I}function y(T){return t.find(T.edges(),function(E){return T.edge(E).cutvalue<0})}function x(T,E,I){var j=I.v,O=I.w;E.hasEdge(j,O)||(j=I.w,O=I.v);var L=T.node(j),N=T.node(O),M=L,H=!1;L.lim>N.lim&&(M=N,H=!0);var P=t.filter(E.edges(),function($){return H===w(T,T.node($.v),M)&&H!==w(T,T.node($.w),M)});return t.minBy(P,function($){return n(E,$)})}function v(T,E,I,j){var O=I.v,L=I.w;T.removeEdge(O,L),T.setEdge(j.v,j.w,{}),h(T),l(T,E),_(T,E)}function _(T,E){var I=t.find(T.nodes(),function(O){return!E.node(O).parent}),j=a(T,I);j=j.slice(1),t.forEach(j,function(O){var L=T.node(O).parent,N=E.edge(O,L),M=!1;N||(N=E.edge(L,O),M=!0),E.node(O).rank=E.node(L).rank+(M?N.minlen:-N.minlen)})}function C(T,E,I){return T.hasEdge(E,I)}function w(T,E,I){return I.low<=E.lim&&E.lim<=I.lim}return C7}var w7,VV;function LJe(){if(VV)return w7;VV=1;var t=YC(),e=t.longestPath,n=Zne(),r=PJe();w7=a;function a(l){switch(l.graph().ranker){case"network-simplex":o(l);break;case"tight-tree":s(l);break;case"longest-path":i(l);break;default:o(l)}}var i=e;function s(l){e(l),n(l)}function o(l){r(l)}return w7}var E7,WV;function zJe(){if(WV)return E7;WV=1;var t=Ia();E7=e;function e(a){var i=r(a);t.forEach(a.graph().dummyChains,function(s){for(var o=a.node(s),l=o.edgeObj,u=n(a,i,l.v,l.w),d=u.path,h=u.lca,m=0,y=d[m],x=!0;s!==l.w;){if(o=a.node(s),x){for(;(y=d[m])!==h&&a.node(y).maxRank<o.rank;)m++;y===h&&(x=!1)}if(!x){for(;m<d.length-1&&a.node(y=d[m+1]).minRank<=o.rank;)m++;y=d[m]}a.setParent(s,y),s=a.successors(s)[0]}})}function n(a,i,s,o){var l=[],u=[],d=Math.min(i[s].low,i[o].low),h=Math.max(i[s].lim,i[o].lim),m,y;m=s;do m=a.parent(m),l.push(m);while(m&&(i[m].low>d||h>i[m].lim));for(y=m,m=o;(m=a.parent(m))!==y;)u.push(m);return{path:l.concat(u.reverse()),lca:y}}function r(a){var i={},s=0;function o(l){var u=s;t.forEach(a.children(l),o),i[l]={low:u,lim:s++}}return t.forEach(a.children(),o),i}return E7}var T7,YV;function FJe(){if(YV)return T7;YV=1;var t=Ia(),e=rl();T7={run:n,cleanup:s};function n(o){var l=e.addDummyNode(o,"root",{},"_root"),u=a(o),d=t.max(t.values(u))-1,h=2*d+1;o.graph().nestingRoot=l,t.forEach(o.edges(),function(y){o.edge(y).minlen*=h});var m=i(o)+1;t.forEach(o.children(),function(y){r(o,l,h,m,d,u,y)}),o.graph().nodeRankFactor=h}function r(o,l,u,d,h,m,y){var x=o.children(y);if(!x.length){y!==l&&o.setEdge(l,y,{weight:0,minlen:u});return}var v=e.addBorderNode(o,"_bt"),_=e.addBorderNode(o,"_bb"),C=o.node(y);o.setParent(v,y),C.borderTop=v,o.setParent(_,y),C.borderBottom=_,t.forEach(x,function(w){r(o,l,u,d,h,m,w);var T=o.node(w),E=T.borderTop?T.borderTop:w,I=T.borderBottom?T.borderBottom:w,j=T.borderTop?d:2*d,O=E!==I?1:h-m[y]+1;o.setEdge(v,E,{weight:j,minlen:O,nestingEdge:!0}),o.setEdge(I,_,{weight:j,minlen:O,nestingEdge:!0})}),o.parent(y)||o.setEdge(l,v,{weight:0,minlen:h+m[y]})}function a(o){var l={};function u(d,h){var m=o.children(d);m&&m.length&&t.forEach(m,function(y){u(y,h+1)}),l[d]=h}return t.forEach(o.children(),function(d){u(d,1)}),l}function i(o){return t.reduce(o.edges(),function(l,u){return l+o.edge(u).weight},0)}function s(o){var l=o.graph();o.removeNode(l.nestingRoot),delete l.nestingRoot,t.forEach(o.edges(),function(u){var d=o.edge(u);d.nestingEdge&&o.removeEdge(u)})}return T7}var A7,KV;function BJe(){if(KV)return A7;KV=1;var t=Ia(),e=rl();A7=n;function n(a){function i(s){var o=a.children(s),l=a.node(s);if(o.length&&t.forEach(o,i),t.has(l,"minRank")){l.borderLeft=[],l.borderRight=[];for(var u=l.minRank,d=l.maxRank+1;u<d;++u)r(a,"borderLeft","_bl",s,l,u),r(a,"borderRight","_br",s,l,u)}}t.forEach(a.children(),i)}function r(a,i,s,o,l,u){var d={width:0,height:0,rank:u,borderType:i},h=l[i][u-1],m=e.addDummyNode(a,"border",d,s);l[i][u]=m,a.setParent(m,o),h&&a.setEdge(h,m,{weight:1})}return A7}var R7,XV;function HJe(){if(XV)return R7;XV=1;var t=Ia();R7={adjust:e,undo:n};function e(u){var d=u.graph().rankdir.toLowerCase();(d==="lr"||d==="rl")&&r(u)}function n(u){var d=u.graph().rankdir.toLowerCase();(d==="bt"||d==="rl")&&i(u),(d==="lr"||d==="rl")&&(o(u),r(u))}function r(u){t.forEach(u.nodes(),function(d){a(u.node(d))}),t.forEach(u.edges(),function(d){a(u.edge(d))})}function a(u){var d=u.width;u.width=u.height,u.height=d}function i(u){t.forEach(u.nodes(),function(d){s(u.node(d))}),t.forEach(u.edges(),function(d){var h=u.edge(d);t.forEach(h.points,s),t.has(h,"y")&&s(h)})}function s(u){u.y=-u.y}function o(u){t.forEach(u.nodes(),function(d){l(u.node(d))}),t.forEach(u.edges(),function(d){var h=u.edge(d);t.forEach(h.points,l),t.has(h,"x")&&l(h)})}function l(u){var d=u.x;u.x=u.y,u.y=d}return R7}var k7,QV;function UJe(){if(QV)return k7;QV=1;var t=Ia();k7=e;function e(n){var r={},a=t.filter(n.nodes(),function(u){return!n.children(u).length}),i=t.max(t.map(a,function(u){return n.node(u).rank})),s=t.map(t.range(i+1),function(){return[]});function o(u){if(!t.has(r,u)){r[u]=!0;var d=n.node(u);s[d.rank].push(u),t.forEach(n.successors(u),o)}}var l=t.sortBy(a,function(u){return n.node(u).rank});return t.forEach(l,o),s}return k7}var I7,ZV;function $Je(){if(ZV)return I7;ZV=1;var t=Ia();I7=e;function e(r,a){for(var i=0,s=1;s<a.length;++s)i+=n(r,a[s-1],a[s]);return i}function n(r,a,i){for(var s=t.zipObject(i,t.map(i,function(m,y){return y})),o=t.flatten(t.map(a,function(m){return t.sortBy(t.map(r.outEdges(m),function(y){return{pos:s[y.w],weight:r.edge(y).weight}}),"pos")}),!0),l=1;l<i.length;)l<<=1;var u=2*l-1;l-=1;var d=t.map(new Array(u),function(){return 0}),h=0;return t.forEach(o.forEach(function(m){var y=m.pos+l;d[y]+=m.weight;for(var x=0;y>0;)y%2&&(x+=d[y+1]),y=y-1>>1,d[y]+=m.weight;h+=m.weight*x})),h}return I7}var j7,JV;function GJe(){if(JV)return j7;JV=1;var t=Ia();j7=e;function e(n,r){return t.map(r,function(a){var i=n.inEdges(a);if(i.length){var s=t.reduce(i,function(o,l){var u=n.edge(l),d=n.node(l.v);return{sum:o.sum+u.weight*d.order,weight:o.weight+u.weight}},{sum:0,weight:0});return{v:a,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:a}})}return j7}var O7,eW;function qJe(){if(eW)return O7;eW=1;var t=Ia();O7=e;function e(a,i){var s={};t.forEach(a,function(l,u){var d=s[l.v]={indegree:0,in:[],out:[],vs:[l.v],i:u};t.isUndefined(l.barycenter)||(d.barycenter=l.barycenter,d.weight=l.weight)}),t.forEach(i.edges(),function(l){var u=s[l.v],d=s[l.w];!t.isUndefined(u)&&!t.isUndefined(d)&&(d.indegree++,u.out.push(s[l.w]))});var o=t.filter(s,function(l){return!l.indegree});return n(o)}function n(a){var i=[];function s(u){return function(d){d.merged||(t.isUndefined(d.barycenter)||t.isUndefined(u.barycenter)||d.barycenter>=u.barycenter)&&r(u,d)}}function o(u){return function(d){d.in.push(u),--d.indegree===0&&a.push(d)}}for(;a.length;){var l=a.pop();i.push(l),t.forEach(l.in.reverse(),s(l)),t.forEach(l.out,o(l))}return t.map(t.filter(i,function(u){return!u.merged}),function(u){return t.pick(u,["vs","i","barycenter","weight"])})}function r(a,i){var s=0,o=0;a.weight&&(s+=a.barycenter*a.weight,o+=a.weight),i.weight&&(s+=i.barycenter*i.weight,o+=i.weight),a.vs=i.vs.concat(a.vs),a.barycenter=s/o,a.weight=o,a.i=Math.min(i.i,a.i),i.merged=!0}return O7}var D7,tW;function VJe(){if(tW)return D7;tW=1;var t=Ia(),e=rl();D7=n;function n(i,s){var o=e.partition(i,function(v){return t.has(v,"barycenter")}),l=o.lhs,u=t.sortBy(o.rhs,function(v){return-v.i}),d=[],h=0,m=0,y=0;l.sort(a(!!s)),y=r(d,u,y),t.forEach(l,function(v){y+=v.vs.length,d.push(v.vs),h+=v.barycenter*v.weight,m+=v.weight,y=r(d,u,y)});var x={vs:t.flatten(d,!0)};return m&&(x.barycenter=h/m,x.weight=m),x}function r(i,s,o){for(var l;s.length&&(l=t.last(s)).i<=o;)s.pop(),i.push(l.vs),o++;return o}function a(i){return function(s,o){return s.barycenter<o.barycenter?-1:s.barycenter>o.barycenter?1:i?o.i-s.i:s.i-o.i}}return D7}var M7,nW;function WJe(){if(nW)return M7;nW=1;var t=Ia(),e=GJe(),n=qJe(),r=VJe();M7=a;function a(o,l,u,d){var h=o.children(l),m=o.node(l),y=m?m.borderLeft:void 0,x=m?m.borderRight:void 0,v={};y&&(h=t.filter(h,function(I){return I!==y&&I!==x}));var _=e(o,h);t.forEach(_,function(I){if(o.children(I.v).length){var j=a(o,I.v,u,d);v[I.v]=j,t.has(j,"barycenter")&&s(I,j)}});var C=n(_,u);i(C,v);var w=r(C,d);if(y&&(w.vs=t.flatten([y,w.vs,x],!0),o.predecessors(y).length)){var T=o.node(o.predecessors(y)[0]),E=o.node(o.predecessors(x)[0]);t.has(w,"barycenter")||(w.barycenter=0,w.weight=0),w.barycenter=(w.barycenter*w.weight+T.order+E.order)/(w.weight+2),w.weight+=2}return w}function i(o,l){t.forEach(o,function(u){u.vs=t.flatten(u.vs.map(function(d){return l[d]?l[d].vs:d}),!0)})}function s(o,l){t.isUndefined(o.barycenter)?(o.barycenter=l.barycenter,o.weight=l.weight):(o.barycenter=(o.barycenter*o.weight+l.barycenter*l.weight)/(o.weight+l.weight),o.weight+=l.weight)}return M7}var N7,rW;function YJe(){if(rW)return N7;rW=1;var t=Ia(),e=Au().Graph;N7=n;function n(a,i,s){var o=r(a),l=new e({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(u){return a.node(u)});return t.forEach(a.nodes(),function(u){var d=a.node(u),h=a.parent(u);(d.rank===i||d.minRank<=i&&i<=d.maxRank)&&(l.setNode(u),l.setParent(u,h||o),t.forEach(a[s](u),function(m){var y=m.v===u?m.w:m.v,x=l.edge(y,u),v=t.isUndefined(x)?0:x.weight;l.setEdge(y,u,{weight:a.edge(m).weight+v})}),t.has(d,"minRank")&&l.setNode(u,{borderLeft:d.borderLeft[i],borderRight:d.borderRight[i]}))}),l}function r(a){for(var i;a.hasNode(i=t.uniqueId("_root")););return i}return N7}var P7,aW;function KJe(){if(aW)return P7;aW=1;var t=Ia();P7=e;function e(n,r,a){var i={},s;t.forEach(a,function(o){for(var l=n.parent(o),u,d;l;){if(u=n.parent(l),u?(d=i[u],i[u]=l):(d=s,s=l),d&&d!==l){r.setEdge(d,l);return}l=u}})}return P7}var L7,iW;function XJe(){if(iW)return L7;iW=1;var t=Ia(),e=UJe(),n=$Je(),r=WJe(),a=YJe(),i=KJe(),s=Au().Graph,o=rl();L7=l;function l(m){var y=o.maxRank(m),x=u(m,t.range(1,y+1),"inEdges"),v=u(m,t.range(y-1,-1,-1),"outEdges"),_=e(m);h(m,_);for(var C=Number.POSITIVE_INFINITY,w,T=0,E=0;E<4;++T,++E){d(T%2?x:v,T%4>=2),_=o.buildLayerMatrix(m);var I=n(m,_);I<C&&(E=0,w=t.cloneDeep(_),C=I)}h(m,w)}function u(m,y,x){return t.map(y,function(v){return a(m,v,x)})}function d(m,y){var x=new s;t.forEach(m,function(v){var _=v.graph().root,C=r(v,_,x,y);t.forEach(C.vs,function(w,T){v.node(w).order=T}),i(v,x,C.vs)})}function h(m,y){t.forEach(y,function(x){t.forEach(x,function(v,_){m.node(v).order=_})})}return L7}var z7,sW;function QJe(){if(sW)return z7;sW=1;var t=Ia(),e=Au().Graph,n=rl();z7={positionX:x,findType1Conflicts:r,findType2Conflicts:a,addConflict:s,hasConflict:o,verticalAlignment:l,horizontalCompaction:u,alignCoordinates:m,findSmallestWidthAlignment:h,balance:y};function r(C,w){var T={};function E(I,j){var O=0,L=0,N=I.length,M=t.last(j);return t.forEach(j,function(H,P){var $=i(C,H),D=$?C.node($).order:N;($||H===M)&&(t.forEach(j.slice(L,P+1),function(U){t.forEach(C.predecessors(U),function(F){var W=C.node(F),ee=W.order;(ee<O||D<ee)&&!(W.dummy&&C.node(U).dummy)&&s(T,F,U)})}),L=P+1,O=D)}),j}return t.reduce(w,E),T}function a(C,w){var T={};function E(j,O,L,N,M){var H;t.forEach(t.range(O,L),function(P){H=j[P],C.node(H).dummy&&t.forEach(C.predecessors(H),function($){var D=C.node($);D.dummy&&(D.order<N||D.order>M)&&s(T,$,H)})})}function I(j,O){var L=-1,N,M=0;return t.forEach(O,function(H,P){if(C.node(H).dummy==="border"){var $=C.predecessors(H);$.length&&(N=C.node($[0]).order,E(O,M,P,L,N),M=P,L=N)}E(O,M,O.length,N,j.length)}),O}return t.reduce(w,I),T}function i(C,w){if(C.node(w).dummy)return t.find(C.predecessors(w),function(T){return C.node(T).dummy})}function s(C,w,T){if(w>T){var E=w;w=T,T=E}var I=C[w];I||(C[w]=I={}),I[T]=!0}function o(C,w,T){if(w>T){var E=w;w=T,T=E}return t.has(C[w],T)}function l(C,w,T,E){var I={},j={},O={};return t.forEach(w,function(L){t.forEach(L,function(N,M){I[N]=N,j[N]=N,O[N]=M})}),t.forEach(w,function(L){var N=-1;t.forEach(L,function(M){var H=E(M);if(H.length){H=t.sortBy(H,function(F){return O[F]});for(var P=(H.length-1)/2,$=Math.floor(P),D=Math.ceil(P);$<=D;++$){var U=H[$];j[M]===M&&N<O[U]&&!o(T,M,U)&&(j[U]=M,j[M]=I[M]=I[U],N=O[U])}}})}),{root:I,align:j}}function u(C,w,T,E,I){var j={},O=d(C,w,T,I),L=I?"borderLeft":"borderRight";function N(P,$){for(var D=O.nodes(),U=D.pop(),F={};U;)F[U]?P(U):(F[U]=!0,D.push(U),D=D.concat($(U))),U=D.pop()}function M(P){j[P]=O.inEdges(P).reduce(function($,D){return Math.max($,j[D.v]+O.edge(D))},0)}function H(P){var $=O.outEdges(P).reduce(function(U,F){return Math.min(U,j[F.w]-O.edge(F))},Number.POSITIVE_INFINITY),D=C.node(P);$!==Number.POSITIVE_INFINITY&&D.borderType!==L&&(j[P]=Math.max(j[P],$))}return N(M,O.predecessors.bind(O)),N(H,O.successors.bind(O)),t.forEach(E,function(P){j[P]=j[T[P]]}),j}function d(C,w,T,E){var I=new e,j=C.graph(),O=v(j.nodesep,j.edgesep,E);return t.forEach(w,function(L){var N;t.forEach(L,function(M){var H=T[M];if(I.setNode(H),N){var P=T[N],$=I.edge(P,H);I.setEdge(P,H,Math.max(O(C,M,N),$||0))}N=M})}),I}function h(C,w){return t.minBy(t.values(w),function(T){var E=Number.NEGATIVE_INFINITY,I=Number.POSITIVE_INFINITY;return t.forIn(T,function(j,O){var L=_(C,O)/2;E=Math.max(j+L,E),I=Math.min(j-L,I)}),E-I})}function m(C,w){var T=t.values(w),E=t.min(T),I=t.max(T);t.forEach(["u","d"],function(j){t.forEach(["l","r"],function(O){var L=j+O,N=C[L],M;if(N!==w){var H=t.values(N);M=O==="l"?E-t.min(H):I-t.max(H),M&&(C[L]=t.mapValues(N,function(P){return P+M}))}})})}function y(C,w){return t.mapValues(C.ul,function(T,E){if(w)return C[w.toLowerCase()][E];var I=t.sortBy(t.map(C,E));return(I[1]+I[2])/2})}function x(C){var w=n.buildLayerMatrix(C),T=t.merge(r(C,w),a(C,w)),E={},I;t.forEach(["u","d"],function(O){I=O==="u"?w:t.values(w).reverse(),t.forEach(["l","r"],function(L){L==="r"&&(I=t.map(I,function(P){return t.values(P).reverse()}));var N=(O==="u"?C.predecessors:C.successors).bind(C),M=l(C,I,T,N),H=u(C,I,M.root,M.align,L==="r");L==="r"&&(H=t.mapValues(H,function(P){return-P})),E[O+L]=H})});var j=h(C,E);return m(E,j),y(E,C.graph().align)}function v(C,w,T){return function(E,I,j){var O=E.node(I),L=E.node(j),N=0,M;if(N+=O.width/2,t.has(O,"labelpos"))switch(O.labelpos.toLowerCase()){case"l":M=-O.width/2;break;case"r":M=O.width/2;break}if(M&&(N+=T?M:-M),M=0,N+=(O.dummy?w:C)/2,N+=(L.dummy?w:C)/2,N+=L.width/2,t.has(L,"labelpos"))switch(L.labelpos.toLowerCase()){case"l":M=L.width/2;break;case"r":M=-L.width/2;break}return M&&(N+=T?M:-M),M=0,N}}function _(C,w){return C.node(w).width}return z7}var F7,oW;function ZJe(){if(oW)return F7;oW=1;var t=Ia(),e=rl(),n=QJe().positionX;F7=r;function r(i){i=e.asNonCompoundGraph(i),a(i),t.forEach(n(i),function(s,o){i.node(o).x=s})}function a(i){var s=e.buildLayerMatrix(i),o=i.graph().ranksep,l=0;t.forEach(s,function(u){var d=t.max(t.map(u,function(h){return i.node(h).height}));t.forEach(u,function(h){i.node(h).y=l+d/2}),l+=d+o})}return F7}var B7,lW;function JJe(){if(lW)return B7;lW=1;var t=Ia(),e=MJe(),n=NJe(),r=LJe(),a=rl().normalizeRanks,i=zJe(),s=rl().removeEmptyRanks,o=FJe(),l=BJe(),u=HJe(),d=XJe(),h=ZJe(),m=rl(),y=Au().Graph;B7=x;function x(te,ae){var ie=ae&&ae.debugTiming?m.time:m.notime;ie("layout",function(){var ce=ie("  buildLayoutGraph",function(){return N(te)});ie("  runLayout",function(){v(ce,ie)}),ie("  updateInputGraph",function(){_(te,ce)})})}function v(te,ae){ae("    makeSpaceForEdgeLabels",function(){M(te)}),ae("    removeSelfEdges",function(){Q(te)}),ae("    acyclic",function(){e.run(te)}),ae("    nestingGraph.run",function(){o.run(te)}),ae("    rank",function(){r(m.asNonCompoundGraph(te))}),ae("    injectEdgeLabelProxies",function(){H(te)}),ae("    removeEmptyRanks",function(){s(te)}),ae("    nestingGraph.cleanup",function(){o.cleanup(te)}),ae("    normalizeRanks",function(){a(te)}),ae("    assignRankMinMax",function(){P(te)}),ae("    removeEdgeLabelProxies",function(){$(te)}),ae("    normalize.run",function(){n.run(te)}),ae("    parentDummyChains",function(){i(te)}),ae("    addBorderSegments",function(){l(te)}),ae("    order",function(){d(te)}),ae("    insertSelfEdges",function(){K(te)}),ae("    adjustCoordinateSystem",function(){u.adjust(te)}),ae("    position",function(){h(te)}),ae("    positionSelfEdges",function(){V(te)}),ae("    removeBorderNodes",function(){ee(te)}),ae("    normalize.undo",function(){n.undo(te)}),ae("    fixupEdgeLabelCoords",function(){F(te)}),ae("    undoCoordinateSystem",function(){u.undo(te)}),ae("    translateGraph",function(){D(te)}),ae("    assignNodeIntersects",function(){U(te)}),ae("    reversePoints",function(){W(te)}),ae("    acyclic.undo",function(){e.undo(te)})}function _(te,ae){t.forEach(te.nodes(),function(ie){var ce=te.node(ie),pe=ae.node(ie);ce&&(ce.x=pe.x,ce.y=pe.y,ae.children(ie).length&&(ce.width=pe.width,ce.height=pe.height))}),t.forEach(te.edges(),function(ie){var ce=te.edge(ie),pe=ae.edge(ie);ce.points=pe.points,t.has(pe,"x")&&(ce.x=pe.x,ce.y=pe.y)}),te.graph().width=ae.graph().width,te.graph().height=ae.graph().height}var C=["nodesep","edgesep","ranksep","marginx","marginy"],w={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},T=["acyclicer","ranker","rankdir","align"],E=["width","height"],I={width:0,height:0},j=["minlen","weight","width","height","labeloffset"],O={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},L=["labelpos"];function N(te){var ae=new y({multigraph:!0,compound:!0}),ie=q(te.graph());return ae.setGraph(t.merge({},w,Z(ie,C),t.pick(ie,T))),t.forEach(te.nodes(),function(ce){var pe=q(te.node(ce));ae.setNode(ce,t.defaults(Z(pe,E),I)),ae.setParent(ce,te.parent(ce))}),t.forEach(te.edges(),function(ce){var pe=q(te.edge(ce));ae.setEdge(ce,t.merge({},O,Z(pe,j),t.pick(pe,L)))}),ae}function M(te){var ae=te.graph();ae.ranksep/=2,t.forEach(te.edges(),function(ie){var ce=te.edge(ie);ce.minlen*=2,ce.labelpos.toLowerCase()!=="c"&&(ae.rankdir==="TB"||ae.rankdir==="BT"?ce.width+=ce.labeloffset:ce.height+=ce.labeloffset)})}function H(te){t.forEach(te.edges(),function(ae){var ie=te.edge(ae);if(ie.width&&ie.height){var ce=te.node(ae.v),pe=te.node(ae.w),ge={rank:(pe.rank-ce.rank)/2+ce.rank,e:ae};m.addDummyNode(te,"edge-proxy",ge,"_ep")}})}function P(te){var ae=0;t.forEach(te.nodes(),function(ie){var ce=te.node(ie);ce.borderTop&&(ce.minRank=te.node(ce.borderTop).rank,ce.maxRank=te.node(ce.borderBottom).rank,ae=t.max(ae,ce.maxRank))}),te.graph().maxRank=ae}function $(te){t.forEach(te.nodes(),function(ae){var ie=te.node(ae);ie.dummy==="edge-proxy"&&(te.edge(ie.e).labelRank=ie.rank,te.removeNode(ae))})}function D(te){var ae=Number.POSITIVE_INFINITY,ie=0,ce=Number.POSITIVE_INFINITY,pe=0,ge=te.graph(),oe=ge.marginx||0,ue=ge.marginy||0;function he(ve){var me=ve.x,le=ve.y,Se=ve.width,be=ve.height;ae=Math.min(ae,me-Se/2),ie=Math.max(ie,me+Se/2),ce=Math.min(ce,le-be/2),pe=Math.max(pe,le+be/2)}t.forEach(te.nodes(),function(ve){he(te.node(ve))}),t.forEach(te.edges(),function(ve){var me=te.edge(ve);t.has(me,"x")&&he(me)}),ae-=oe,ce-=ue,t.forEach(te.nodes(),function(ve){var me=te.node(ve);me.x-=ae,me.y-=ce}),t.forEach(te.edges(),function(ve){var me=te.edge(ve);t.forEach(me.points,function(le){le.x-=ae,le.y-=ce}),t.has(me,"x")&&(me.x-=ae),t.has(me,"y")&&(me.y-=ce)}),ge.width=ie-ae+oe,ge.height=pe-ce+ue}function U(te){t.forEach(te.edges(),function(ae){var ie=te.edge(ae),ce=te.node(ae.v),pe=te.node(ae.w),ge,oe;ie.points?(ge=ie.points[0],oe=ie.points[ie.points.length-1]):(ie.points=[],ge=pe,oe=ce),ie.points.unshift(m.intersectRect(ce,ge)),ie.points.push(m.intersectRect(pe,oe))})}function F(te){t.forEach(te.edges(),function(ae){var ie=te.edge(ae);if(t.has(ie,"x"))switch((ie.labelpos==="l"||ie.labelpos==="r")&&(ie.width-=ie.labeloffset),ie.labelpos){case"l":ie.x-=ie.width/2+ie.labeloffset;break;case"r":ie.x+=ie.width/2+ie.labeloffset;break}})}function W(te){t.forEach(te.edges(),function(ae){var ie=te.edge(ae);ie.reversed&&ie.points.reverse()})}function ee(te){t.forEach(te.nodes(),function(ae){if(te.children(ae).length){var ie=te.node(ae),ce=te.node(ie.borderTop),pe=te.node(ie.borderBottom),ge=te.node(t.last(ie.borderLeft)),oe=te.node(t.last(ie.borderRight));ie.width=Math.abs(oe.x-ge.x),ie.height=Math.abs(pe.y-ce.y),ie.x=ge.x+ie.width/2,ie.y=ce.y+ie.height/2}}),t.forEach(te.nodes(),function(ae){te.node(ae).dummy==="border"&&te.removeNode(ae)})}function Q(te){t.forEach(te.edges(),function(ae){if(ae.v===ae.w){var ie=te.node(ae.v);ie.selfEdges||(ie.selfEdges=[]),ie.selfEdges.push({e:ae,label:te.edge(ae)}),te.removeEdge(ae)}})}function K(te){var ae=m.buildLayerMatrix(te);t.forEach(ae,function(ie){var ce=0;t.forEach(ie,function(pe,ge){var oe=te.node(pe);oe.order=ge+ce,t.forEach(oe.selfEdges,function(ue){m.addDummyNode(te,"selfedge",{width:ue.label.width,height:ue.label.height,rank:oe.rank,order:ge+ ++ce,e:ue.e,label:ue.label},"_se")}),delete oe.selfEdges})})}function V(te){t.forEach(te.nodes(),function(ae){var ie=te.node(ae);if(ie.dummy==="selfedge"){var ce=te.node(ie.e.v),pe=ce.x+ce.width/2,ge=ce.y,oe=ie.x-pe,ue=ce.height/2;te.setEdge(ie.e,ie.label),te.removeNode(ae),ie.label.points=[{x:pe+2*oe/3,y:ge-ue},{x:pe+5*oe/6,y:ge-ue},{x:pe+oe,y:ge},{x:pe+5*oe/6,y:ge+ue},{x:pe+2*oe/3,y:ge+ue}],ie.label.x=ie.x,ie.label.y=ie.y}})}function Z(te,ae){return t.mapValues(t.pick(te,ae),Number)}function q(te){var ae={};return t.forEach(te,function(ie,ce){ae[ce.toLowerCase()]=ie}),ae}return B7}var H7,cW;function eet(){if(cW)return H7;cW=1;var t=Ia(),e=rl(),n=Au().Graph;H7={debugOrdering:r};function r(a){var i=e.buildLayerMatrix(a),s=new n({compound:!0,multigraph:!0}).setGraph({});return t.forEach(a.nodes(),function(o){s.setNode(o,{label:o}),s.setParent(o,"layer"+a.node(o).rank)}),t.forEach(a.edges(),function(o){s.setEdge(o.v,o.w,{},o.name)}),t.forEach(i,function(o,l){var u="layer"+l;s.setNode(u,{rank:"same"}),t.reduce(o,function(d,h){return s.setEdge(d,h,{style:"invis"}),h})}),s}return H7}var U7,uW;function tet(){return uW||(uW=1,U7="0.8.5"),U7}var $7,dW;function net(){return dW||(dW=1,$7={graphlib:Au(),layout:JJe(),debug:eet(),util:{time:rl().time,notime:rl().notime},version:tet()}),$7}var ret=net();const fW=Qf(ret),mj={MODEL:{color:"#9C27B0",label:"Model"},CLIP:{color:"#FF9800",label:"CLIP"},VAE:{color:"#E91E63",label:"VAE"},CONDITIONING:{color:"#F44336",label:"Conditioning"},LATENT:{color:"#00BCD4",label:"Latent"},IMAGE:{color:"#4CAF50",label:"Image"},MASK:{color:"#FFFFFF",label:"Mask"},CONTROL_NET:{color:"#FF5722",label:"ControlNet"},UPSCALE_MODEL:{color:"#673AB7",label:"Upscale Model"},SAMPLER:{color:"#2196F3",label:"Sampler"},SIGMAS:{color:"#3F51B5",label:"Sigmas"},NOISE:{color:"#607D8B",label:"Noise"},STRING:{color:"#9E9E9E",label:"String"},INT:{color:"#795548",label:"Integer"},FLOAT:{color:"#8D6E63",label:"Float"},BOOLEAN:{color:"#FFEB3B",label:"Boolean"},UNKNOWN:{color:"#757575",label:"Unknown"}};function hW(t,e,n){const r=t.toLowerCase();if(r.includes("model"))return"MODEL";if(r.includes("clip"))return"CLIP";if(r.includes("vae"))return"VAE";if(r.includes("conditioning")||r.includes("positive")||r.includes("negative"))return"CONDITIONING";if(r.includes("latent")||r.includes("samples"))return"LATENT";if(r.includes("image")||r.includes("images"))return"IMAGE";if(r.includes("mask"))return"MASK";if(r.includes("control_net")||r.includes("controlnet"))return"CONTROL_NET";if(r.includes("upscale"))return"UPSCALE_MODEL";if(r.includes("sampler"))return"SAMPLER";if(r.includes("sigmas"))return"SIGMAS";if(r.includes("noise"))return"NOISE";if(n){const a=n.toLowerCase();if(a.includes("checkpoint")||a.includes("modelloader"))return"MODEL";if(a.includes("cliploader")||a.includes("cliptext"))return"CLIP";if(a.includes("vaeloader")||a.includes("vaedecode"))return"VAE";if(a.includes("sampler"))return"LATENT";if(a.includes("image"))return"IMAGE"}return typeof e=="string"?"STRING":typeof e=="number"?Number.isInteger(e)?"INT":"FLOAT":typeof e=="boolean"?"BOOLEAN":"UNKNOWN"}function yy(t){const e=t.toUpperCase();return mj[e]?.color||mj.UNKNOWN.color}function rM(t){const e=t.toUpperCase();return mj[e]?.label||t}function aet(t){return t.includes("Loader")||t.includes("Load")?"#4CAF50":t.includes("Sampler")?"#2196F3":t.includes("Text")||t.includes("CLIP")?"#FF9800":t.includes("VAE")||t.includes("Decode")||t.includes("Encode")?"#9C27B0":t.includes("Save")||t.includes("Output")?"#F44336":t.includes("Latent")?"#00BCD4":t.includes("Image")?"#673AB7":"#757575"}function iet(t){return t.includes("Loader")||t.includes("Load")?c.jsx(ky,{fontSize:"small"}):t.includes("Sampler")?c.jsx(l9e,{fontSize:"small"}):t.includes("Text")||t.includes("CLIP")?c.jsx(o9e,{fontSize:"small"}):t.includes("Save")||t.includes("Output")?c.jsx(PO,{fontSize:"small"}):t.includes("Image")||t.includes("Latent")?c.jsx(Eu,{fontSize:"small"}):c.jsx(KX,{fontSize:"small"})}function Jne(t){return t==null?"":typeof t=="string"?t.length>50?t.substring(0,50)+"...":t:typeof t=="number"?String(t):typeof t=="boolean"?t?"true":"false":Array.isArray(t)?`[${t.length} items]`:typeof t=="object"?"{...}":String(t)}function pW(t,e,n=40){if(e===1)return 50;const r=Math.min(80/(e+1),30);return n+10+(t+1)*r}const set=t=>{const e=bt.c(78),{data:n,selected:r,id:a,onParameterContextMenu:i}=t,[s,o]=A.useState(!0);let l;e[0]!==n.classType?(l=aet(n.classType),e[0]=n.classType,e[1]=l):l=e[1];const u=l;let d;e[2]!==n.classType?(d=iet(n.classType),e[2]=n.classType,e[3]=d):d=e[3];const h=d;let m,y,x,v,_,C;if(e[4]!==u||e[5]!==n.classType||e[6]!==n.inputs||e[7]!==n.nodeId||e[8]!==n.outputs||e[9]!==n.title||e[10]!==n.widgets||e[11]!==s||e[12]!==h||e[13]!==a||e[14]!==i||e[15]!==r){const E=n.inputs.filter(cet),I=n.inputs.filter(uet);let j;e[22]!==a||e[23]!==i?(j=(ie,ce,pe)=>ge=>{i&&i(a,ie,ce,pe,ge)},e[22]=a,e[23]=i,e[24]=j):j=e[24];const O=j;m=Yt,y=r?8:2;const L=`2px solid ${u}`;let N;e[25]===Symbol.for("react.memo_cache_sentinel")?(N={boxShadow:6},e[25]=N):N=e[25],e[26]!==L?(x={minWidth:250,maxWidth:350,border:L,borderRadius:2,overflow:"hidden",transition:"all 0.2s ease","&:hover":N},e[26]=L,e[27]=x):x=e[27];let M;e[28]!==u?(M={bgcolor:u,color:"white",p:1,display:"flex",alignItems:"center",gap:1},e[28]=u,e[29]=M):M=e[29];let H;e[30]===Symbol.for("react.memo_cache_sentinel")?(H={flexGrow:1},e[30]=H):H=e[30];let P;e[31]===Symbol.for("react.memo_cache_sentinel")?(P={display:"block",fontSize:"0.85rem"},e[31]=P):P=e[31];let $;e[32]!==n.nodeId||e[33]!==n.title?($=c.jsxs(re,{variant:"caption",fontWeight:"bold",sx:P,children:["#",n.nodeId," - ",n.title]}),e[32]=n.nodeId,e[33]=n.title,e[34]=$):$=e[34];let D;e[35]===Symbol.for("react.memo_cache_sentinel")?(D={display:"block",opacity:.9,fontSize:"0.7rem"},e[35]=D):D=e[35];let U;e[36]!==n.classType?(U=c.jsx(re,{variant:"caption",sx:D,children:n.classType}),e[36]=n.classType,e[37]=U):U=e[37];let F;e[38]!==$||e[39]!==U?(F=c.jsxs(J,{sx:H,children:[$,U]}),e[38]=$,e[39]=U,e[40]=F):F=e[40];let W;e[41]!==s?(W=()=>o(!s),e[41]=s,e[42]=W):W=e[42];let ee;e[43]===Symbol.for("react.memo_cache_sentinel")?(ee={color:"white",p:.5},e[43]=ee):ee=e[43];let Q;e[44]!==s?(Q=s?c.jsx(MO,{fontSize:"small"}):c.jsx(is,{fontSize:"small"}),e[44]=s,e[45]=Q):Q=e[45];let K;e[46]!==W||e[47]!==Q?(K=c.jsx(ht,{size:"small",onClick:W,sx:ee,children:Q}),e[46]=W,e[47]=Q,e[48]=K):K=e[48],e[49]!==h||e[50]!==M||e[51]!==F||e[52]!==K?(v=c.jsxs(J,{sx:M,children:[h,F,K]}),e[49]=h,e[50]=M,e[51]=F,e[52]=K,e[53]=v):v=e[53];let V;e[54]===Symbol.for("react.memo_cache_sentinel")?(V={p:1.5,bgcolor:"background.paper"},e[54]=V):V=e[54];const Z=n.inputs.length>0&&c.jsxs(J,{sx:{mb:1.5},children:[c.jsxs(J,{sx:{display:"flex",alignItems:"center",gap:.5,mb:.5},children:[c.jsx($Re,{sx:{fontSize:"0.9rem",color:"text.secondary"}}),c.jsxs(re,{variant:"caption",fontWeight:"600",sx:{fontSize:"0.75rem"},children:["INPUTS (",n.inputs.length,")"]})]}),c.jsxs(J,{sx:{pl:1},children:[E.map(det),I.map(ie=>c.jsx(Xt,{title:`${ie.name}: ${String(ie.value)} (Right-click to add to Marked Fields)`,arrow:!0,children:c.jsxs(re,{variant:"caption",onContextMenu:O(ie.name,ie.value,ie.dataType||"text"),sx:{display:"block",fontSize:"0.75rem",mb:.3,color:"text.secondary",cursor:"context-menu","&:hover":{bgcolor:"rgba(33, 150, 243, 0.1)",borderRadius:"4px",px:.5}},children:[" ",ie.name,": ",c.jsx("span",{style:{fontWeight:500},children:Jne(ie.value)})]})},ie.name))]})]});let q;e[55]!==n.widgets?(q=n.widgets.length>0&&c.jsxs(J,{sx:{mb:1.5},children:[c.jsx(yn,{sx:{my:1}}),c.jsxs(J,{sx:{display:"flex",alignItems:"center",gap:.5,mb:.5},children:[c.jsx(iy,{sx:{fontSize:"0.9rem",color:"text.secondary"}}),c.jsxs(re,{variant:"caption",fontWeight:"600",sx:{fontSize:"0.75rem"},children:["WIDGETS (",n.widgets.length,")"]})]}),c.jsx(J,{sx:{pl:1},children:n.widgets.map(fet)})]}),e[55]=n.widgets,e[56]=q):q=e[56];let te;e[57]!==n.outputs?(te=n.outputs.length>0&&c.jsxs(J,{children:[c.jsx(yn,{sx:{my:1}}),c.jsxs(J,{sx:{display:"flex",alignItems:"center",gap:.5,mb:.5},children:[c.jsx(KRe,{sx:{fontSize:"0.9rem",color:"text.secondary"}}),c.jsxs(re,{variant:"caption",fontWeight:"600",sx:{fontSize:"0.75rem"},children:["OUTPUTS (",n.outputs.length,")"]})]}),c.jsx(J,{sx:{pl:1},children:n.outputs.map(het)})]}),e[57]=n.outputs,e[58]=te):te=e[58];let ae;e[59]!==Z||e[60]!==q||e[61]!==te?(ae=c.jsxs(J,{sx:V,children:[Z,q,te]}),e[59]=Z,e[60]=q,e[61]=te,e[62]=ae):ae=e[62],e[63]!==s||e[64]!==ae?(_=c.jsx(jp,{in:s,children:ae}),e[63]=s,e[64]=ae,e[65]=_):_=e[65],C=E.map((ie,ce)=>{const pe=yy(ie.dataType||"UNKNOWN"),ge=pW(ce,E.length,40);return c.jsx(gy,{type:"target",position:sn.Left,id:`input-${ie.name}`,style:{background:pe,width:12,height:12,border:"2px solid white",top:`${ge}%`}},`input-${ie.name}`)}),e[4]=u,e[5]=n.classType,e[6]=n.inputs,e[7]=n.nodeId,e[8]=n.outputs,e[9]=n.title,e[10]=n.widgets,e[11]=s,e[12]=h,e[13]=a,e[14]=i,e[15]=r,e[16]=m,e[17]=y,e[18]=x,e[19]=v,e[20]=_,e[21]=C}else m=e[16],y=e[17],x=e[18],v=e[19],_=e[20],C=e[21];let w;if(e[66]!==n.outputs){let E;e[68]!==n.outputs.length?(E=(I,j)=>{const O=yy(I.dataType),L=pW(j,n.outputs.length,40);return c.jsx(gy,{type:"source",position:sn.Right,id:`output-${I.slot}`,style:{background:O,width:12,height:12,border:"2px solid white",top:`${L}%`}},`output-${I.slot}`)},e[68]=n.outputs.length,e[69]=E):E=e[69],w=n.outputs.map(E),e[66]=n.outputs,e[67]=w}else w=e[67];let T;return e[70]!==m||e[71]!==y||e[72]!==x||e[73]!==v||e[74]!==_||e[75]!==C||e[76]!==w?(T=c.jsxs(m,{elevation:y,sx:x,children:[v,_,C,w]}),e[70]=m,e[71]=y,e[72]=x,e[73]=v,e[74]=_,e[75]=C,e[76]=w,e[77]=T):T=e[77],T},oet=A.memo(set);function cet(t){return t.type==="connection"}function uet(t){return t.type==="parameter"}function det(t){return c.jsx(Xt,{title:`From #${t.sourceNode} [${rM(t.dataType||"UNKNOWN")}]`,arrow:!0,children:c.jsxs(re,{variant:"caption",sx:{display:"flex",alignItems:"center",gap:.5,fontSize:"0.75rem",mb:.3,color:"text.primary"},children:[c.jsx(J,{sx:{width:8,height:8,borderRadius:"50%",bgcolor:yy(t.dataType||"UNKNOWN"),flexShrink:0}}),c.jsx("span",{style:{fontWeight:500},children:t.name}),c.jsxs("span",{style:{opacity:.6,fontSize:"0.7rem"},children:["[from #",t.sourceNode,"]"]})]})},t.name)}function fet(t,e){return c.jsx(Xt,{title:`${t.name}: ${String(t.value)} (${t.type})`,arrow:!0,children:c.jsxs(re,{variant:"caption",sx:{display:"block",fontSize:"0.75rem",mb:.3,color:"text.secondary"},children:[" ",t.name,": ",c.jsx("span",{style:{fontWeight:500},children:Jne(t.value)})]})},e)}function het(t){return c.jsxs(re,{variant:"caption",sx:{display:"flex",alignItems:"center",gap:.5,fontSize:"0.75rem",mb:.3,color:"text.primary"},children:[c.jsx(J,{sx:{width:8,height:8,borderRadius:"50%",bgcolor:yy(t.dataType),flexShrink:0}}),c.jsx("span",{style:{fontWeight:500},children:t.name}),c.jsxs("span",{style:{opacity:.6,fontSize:"0.7rem"},children:["[",rM(t.dataType),"]"]})]},t.slot)}const pet=t=>{const e=bt.c(44),{onSearchChange:n,onFilterChange:r,onLayoutChange:a,onExpandAll:i,onCollapseAll:s,nodeTypes:o,layout:l}=t,[u,d]=A.useState("");let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=[],e[0]=h):h=e[0];const[m,y]=A.useState(h);let x;e[1]!==n?(x=q=>{const te=q.target.value;d(te),n(te)},e[1]=n,e[2]=x):x=e[2];const v=x;let _;e[3]!==r?(_=q=>{const te=q.target.value;y(te),r(te)},e[3]=r,e[4]=_):_=e[4];const C=_;let w;e[5]!==l||e[6]!==a?(w=()=>{a(l==="LR"?"TB":"LR")},e[5]=l,e[6]=a,e[7]=w):w=e[7];const T=w;let E,I;e[8]===Symbol.for("react.memo_cache_sentinel")?(E={"& .MuiInputBase-root":{bgcolor:"rgba(26, 26, 26, 0.8)",color:"#ffffff"},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(64, 64, 64, 0.5)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 255, 255, 0.3)"}},I={"& .MuiInputBase-root":{bgcolor:"rgba(26, 26, 26, 0.8)",color:"#ffffff"},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(64, 64, 64, 0.5)"}},e[8]=E,e[9]=I):(E=e[8],I=e[9]);let j;e[10]===Symbol.for("react.memo_cache_sentinel")?(j={position:"absolute",top:10,right:10,zIndex:5,p:1.5,display:"flex",gap:1.5,alignItems:"center",bgcolor:"rgba(42, 42, 42, 0.95)",borderRadius:2,maxWidth:"600px",flexWrap:"wrap",border:"1px solid rgba(64, 64, 64, 0.5)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)","& .MuiTextField-root":E,"& .MuiFormControl-root":I,"& .MuiIconButton-root":{color:"rgba(255, 255, 255, 0.8)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.1)"}},"& .MuiSvgIcon-root":{color:"rgba(255, 255, 255, 0.6)"}},e[10]=j):j=e[10];let O,L;e[11]===Symbol.for("react.memo_cache_sentinel")?(O={startAdornment:c.jsx(Jf,{fontSize:"small",sx:{mr:.5,color:"text.secondary"}})},L={minWidth:180},e[11]=O,e[12]=L):(O=e[11],L=e[12]);let N;e[13]!==v||e[14]!==u?(N=c.jsx(jt,{size:"small",placeholder:"Search nodes...",value:u,onChange:v,InputProps:O,sx:L}),e[13]=v,e[14]=u,e[15]=N):N=e[15];let M,H;e[16]===Symbol.for("react.memo_cache_sentinel")?(M={minWidth:150},H=c.jsx(Ai,{children:"Filter Types"}),e[16]=M,e[17]=H):(M=e[16],H=e[17]);let P;e[18]===Symbol.for("react.memo_cache_sentinel")?(P={bgcolor:"rgba(255, 255, 255, 0.1)"},e[18]=P):P=e[18];let $;e[19]===Symbol.for("react.memo_cache_sentinel")?($={PaperProps:{sx:{bgcolor:"#2a2a2a",border:"1px solid rgba(64, 64, 64, 0.5)","& .MuiMenuItem-root":{color:"#ffffff","&:hover":P,"&.Mui-selected":{bgcolor:"rgba(76, 175, 80, 0.2)","&:hover":{bgcolor:"rgba(76, 175, 80, 0.3)"}}}}}},e[19]=$):$=e[19];let D;e[20]!==o?(D=o.map(yet),e[20]=o,e[21]=D):D=e[21];let U;e[22]!==C||e[23]!==m||e[24]!==D?(U=c.jsxs(ra,{size:"small",sx:M,children:[H,c.jsx(Ua,{multiple:!0,value:m,onChange:C,label:"Filter Types",renderValue:get,MenuProps:$,children:D})]}),e[22]=C,e[23]=m,e[24]=D,e[25]=U):U=e[25];const F=`Switch to ${l==="LR"?"Top-Bottom":"Left-Right"} layout`;let W;e[26]!==l?(W=l==="LR"?c.jsx(u9e,{}):c.jsx(d9e,{}),e[26]=l,e[27]=W):W=e[27];let ee;e[28]!==T||e[29]!==W?(ee=c.jsx(ht,{size:"small",onClick:T,children:W}),e[28]=T,e[29]=W,e[30]=ee):ee=e[30];let Q;e[31]!==F||e[32]!==ee?(Q=c.jsx(Xt,{title:F,children:ee}),e[31]=F,e[32]=ee,e[33]=Q):Q=e[33];let K;e[34]!==i?(K=i&&c.jsx(Xt,{title:"Expand all nodes",children:c.jsx(ht,{size:"small",onClick:i,children:c.jsx(oQ,{})})}),e[34]=i,e[35]=K):K=e[35];let V;e[36]!==s?(V=s&&c.jsx(Xt,{title:"Collapse all nodes",children:c.jsx(ht,{size:"small",onClick:s,children:c.jsx(sQ,{})})}),e[36]=s,e[37]=V):V=e[37];let Z;return e[38]!==N||e[39]!==U||e[40]!==Q||e[41]!==K||e[42]!==V?(Z=c.jsxs(Yt,{elevation:1,sx:j,children:[N,U,Q,K,V]}),e[38]=N,e[39]=U,e[40]=Q,e[41]=K,e[42]=V,e[43]=Z):Z=e[43],Z};function met(t){return c.jsx(yt,{label:t,size:"small",sx:{bgcolor:"rgba(76, 175, 80, 0.2)",color:"#4CAF50",border:"1px solid rgba(76, 175, 80, 0.4)"}},t)}function get(t){return c.jsx(J,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:t.map(met)})}function yet(t){return c.jsx(Jt,{value:t,children:t},t)}function bet(t,e,n){const r=[],a=[],i=[],s=e._meta?.title||e.title||`Node ${t}`;if(e.inputs&&Object.entries(e.inputs).forEach(([d,h])=>{if(Array.isArray(h)&&h.length>=2){const m=String(h[0]),y=h[1],x=n[m],v=hW(d,h,x?.class_type);r.push({name:d,type:"connection",dataType:v,sourceNode:m,sourceSlot:y})}else{const m=hW(d,h,e.class_type);r.push({name:d,type:"parameter",value:h,dataType:m})}}),xet(e.class_type).forEach((d,h)=>{a.push({name:d.name,slot:h,dataType:d.dataType})}),e.widgets_values&&Array.isArray(e.widgets_values)){const d=vet(e.class_type);e.widgets_values.forEach((h,m)=>{const y=d[m]||`widget_${m}`,x=typeof h;i.push({name:y,value:h,type:x})})}const l=e._meta?.position?{x:e._meta.position[0],y:e._meta.position[1]}:void 0,u=e._meta?.size?{width:e._meta.size[0],height:e._meta.size[1]}:void 0;return{nodeId:t,title:s,classType:e.class_type,inputs:r,outputs:a,widgets:i,position:l,size:u,color:e._meta?.color,bgColor:e._meta?.bgcolor,rawNode:e}}function xet(t){const e=t.toLowerCase();return e.includes("checkpointloader")?[{name:"MODEL",dataType:"MODEL"},{name:"CLIP",dataType:"CLIP"},{name:"VAE",dataType:"VAE"}]:e.includes("loraloader")?[{name:"MODEL",dataType:"MODEL"},{name:"CLIP",dataType:"CLIP"}]:e.includes("cliptextencode")?[{name:"CONDITIONING",dataType:"CONDITIONING"}]:e.includes("sampler")?[{name:"LATENT",dataType:"LATENT"}]:e.includes("vaedecode")?[{name:"IMAGE",dataType:"IMAGE"}]:e.includes("vaeencode")?[{name:"LATENT",dataType:"LATENT"}]:e.includes("emptylatent")?[{name:"LATENT",dataType:"LATENT"}]:e.includes("loadimage")?[{name:"IMAGE",dataType:"IMAGE"},{name:"MASK",dataType:"MASK"}]:e.includes("controlnet")?[{name:"CONDITIONING",dataType:"CONDITIONING"}]:[{name:"OUTPUT",dataType:"UNKNOWN"}]}function vet(t){const e=t.toLowerCase();return e.includes("cliptextencode")?["text"]:e.includes("checkpointloader")?["ckpt_name"]:e.includes("loraloader")?["lora_name","strength_model","strength_clip"]:e.includes("ksampler")?["seed","control_after_generate","steps","cfg","sampler_name","scheduler","denoise"]:e.includes("emptylatent")?["width","height","batch_size"]:e.includes("saveimage")?["filename_prefix"]:e.includes("loadimage")?["image","upload"]:[]}function gj(t){let i=56;return t.inputs.length>0&&(i+=28,i+=t.inputs.length*24),t.widgets.length>0&&(i+=28,i+=t.widgets.length*24),t.outputs.length>0&&(i+=28,i+=t.outputs.length*24),Math.max(120,Math.min(600,i))}function _et(t){try{const e=typeof t=="string"?JSON.parse(t):t,n=[],r=[];return Object.entries(e).forEach(([a,i])=>{const s=bet(a,i,e),o=gj(s);n.push({id:a,type:"enhancedNode",position:s.position||{x:0,y:0},data:s,style:{width:250,height:o}})}),n.forEach(a=>{a.data.inputs.filter(s=>s.type==="connection").forEach(s=>{if(s.sourceNode){const o=n.find(h=>h.id===s.sourceNode),l=a.id,u=o?.data.outputs[s.sourceSlot||0],d=s.dataType||u?.dataType||"UNKNOWN";r.push({id:`${s.sourceNode}-${s.sourceSlot||0}-${l}-${s.name}`,source:s.sourceNode,target:l,sourceHandle:`output-${s.sourceSlot||0}`,targetHandle:`input-${s.name}`,label:rM(d),dataType:d,type:"smoothstep",style:{stroke:yy(d),strokeWidth:2},labelStyle:{fontSize:10,fill:yy(d),fontWeight:600},labelBgStyle:{fill:"#ffffff",fillOpacity:.8}})}})}),{nodes:n,edges:r}}catch(e){return console.error("Failed to parse workflow:",e),{nodes:[],edges:[]}}}function Cet(t,e,n="LR"){const r=new fW.graphlib.Graph;r.setDefaultEdgeLabel(()=>({})),r.setGraph({rankdir:n,ranksep:150,nodesep:80}),t.forEach(s=>{const o=s.style?.height||gj(s.data);r.setNode(s.id,{width:250,height:o})}),e.forEach(s=>{r.setEdge(s.source,s.target)}),fW.layout(r);const a=t.map(s=>{const o=r.node(s.id),l=s.style?.height||gj(s.data);return{...s,position:{x:o.x-125,y:o.y-l/2}}}),i=e.map(s=>({...s,markerEnd:{type:Pv.ArrowClosed,width:20,height:20,color:s.style?.stroke||"#757575"}}));return{nodes:a,edges:i}}const wet=t=>({enhancedNode:e=>c.jsx(oet,{...e,onParameterContextMenu:t})}),Eet=({workflowJson:t,onParameterRightClick:e})=>{const[n,r]=A.useState("LR"),[a,i]=A.useState(""),[s,o]=A.useState([]),[l,u]=A.useState(null),d=A.useRef(null),{nodes:h,edges:m}=A.useMemo(()=>_et(t),[t]),y=A.useMemo(()=>{const P=new Set;return h.forEach($=>{const D=$.data.classType.split(/(?=[A-Z])/).slice(0,2).join("");P.add(D)}),Array.from(P).sort()},[h]),x=A.useMemo(()=>h.filter(P=>{const $=a===""||P.data.title.toLowerCase().includes(a.toLowerCase())||P.data.classType.toLowerCase().includes(a.toLowerCase())||P.data.nodeId.includes(a),D=s.length===0||s.some(U=>P.data.classType.includes(U));return $&&D}),[h,a,s]),v=A.useMemo(()=>{const P=new Set(x.map($=>$.id));return m.filter($=>P.has($.source)&&P.has($.target))},[m,x]),{nodes:_,edges:C}=A.useMemo(()=>Cet(x,v,n),[x,v,n]),[w,T,E]=yXe(_),[I,j,O]=bXe(C);A.useEffect(()=>{T(_),j(C)},[_,C,T,j]);const L=(P,$,D,U,F)=>{F.preventDefault(),F.stopPropagation();const W=h.find(K=>K.id===P),ee=W?.data.title||"",Q=W?.data.classType||"";u({visible:!0,x:F.clientX,y:F.clientY,nodeId:P,nodeTitle:ee,classType:Q,paramKey:$,paramValue:D,paramType:U}),d.current={top:F.clientY,left:F.clientX}},N=()=>{l&&e&&e(l.nodeId,l.paramKey,l.paramValue,l.paramType,l.nodeTitle,l.classType),u(null)},M=()=>{u(null),d.current=null},H=A.useMemo(()=>wet(L),[]);return h.length===0?c.jsx(J,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",p:4},children:c.jsx(re,{variant:"body1",color:"text.secondary",children:"No workflow data to display"})}):c.jsxs(J,{sx:{width:"100%",height:"100%",position:"relative",bgcolor:"#1a1a1a"},children:[c.jsxs(Yte,{nodes:w,edges:I,onNodesChange:E,onEdgesChange:O,nodeTypes:H,fitView:!0,attributionPosition:"bottom-left",minZoom:.1,maxZoom:2,defaultEdgeOptions:{type:"smoothstep"},style:{backgroundColor:"#1a1a1a"},children:[c.jsx(HXe,{variant:Oc.Dots,gap:16,size:1,color:"#404040",style:{backgroundColor:"#1a1a1a"}}),c.jsx(NXe,{style:{"--rf-control-button-background":"#2a2a2a","--rf-control-button-border":"1px solid #404040","--rf-control-button-color":"#ffffff"}}),c.jsx(RXe,{nodeColor:P=>Tet(P.data?.classType||""),maskColor:"rgba(255, 255, 255, 0.05)",style:{backgroundColor:"#2a2a2a",border:"1px solid #404040"}})]}),c.jsx(pet,{onSearchChange:i,onFilterChange:o,onLayoutChange:r,nodeTypes:y,layout:n}),c.jsx(J,{sx:{position:"absolute",top:10,left:10,bgcolor:"rgba(42, 42, 42, 0.95)",p:1,borderRadius:1,border:"1px solid rgba(64, 64, 64, 0.5)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",zIndex:5},children:c.jsxs(re,{variant:"caption",sx:{display:"block",fontSize:"0.75rem",color:"#ffffff"},children:[" Nodes: ",w.length," / ",h.length," | Edges: ",I.length," / ",m.length]})}),c.jsx(Ay,{open:l?.visible||!1,onClose:M,anchorReference:"anchorPosition",anchorPosition:d.current?{top:d.current.top,left:d.current.left}:void 0,slotProps:{paper:{sx:{bgcolor:"#2a2a2a",border:"1px solid #404040",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.5)"}}},children:c.jsxs(Jt,{onClick:N,children:[c.jsx(pu,{children:c.jsx(Gs,{fontSize:"small",sx:{color:"#4caf50"}})}),c.jsx(Ss,{primary:"Add to Marked Fields",sx:{color:"#ffffff"}})]})})]})};function Tet(t){return t.includes("Loader")||t.includes("Load")?"#4CAF50":t.includes("Sampler")?"#2196F3":t.includes("Text")||t.includes("CLIP")?"#FF9800":t.includes("VAE")?"#9C27B0":t.includes("Save")||t.includes("Output")?"#F44336":t.includes("Latent")?"#00BCD4":t.includes("Image")?"#673AB7":"#757575"}const Aet=t=>{const e=bt.c(24),{workflowJson:n}=t,[r,a]=A.useState(!1);let i;e[0]!==n?(i=typeof n=="string"?n:JSON.stringify(n,null,2),e[0]=n,e[1]=i):i=e[1];const s=i;let o;e[2]!==s?(o=async()=>{try{await navigator.clipboard.writeText(s),a(!0)}catch(L){console.error("Failed to copy:",L)}},e[2]=s,e[3]=o):o=e[3];const l=o;let u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{a(!1)},e[4]=u):u=e[4];const d=u,h=ket;let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m={width:"100%",height:"100%",display:"flex",flexDirection:"column"},e[5]=m):m=e[5];let y,x;e[6]===Symbol.for("react.memo_cache_sentinel")?(y={display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,px:1},x=c.jsx(re,{variant:"subtitle2",color:"text.secondary",children:"Workflow JSON Structure"}),e[6]=y,e[7]=x):(y=e[6],x=e[7]);let v;e[8]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx(eS,{fontSize:"small"}),e[8]=v):v=e[8];let _;e[9]!==l?(_=c.jsxs(J,{sx:y,children:[x,c.jsx(Xt,{title:"Copy to clipboard",children:c.jsx(ht,{size:"small",onClick:l,children:v})})]}),e[9]=l,e[10]=_):_=e[10];let C;e[11]===Symbol.for("react.memo_cache_sentinel")?(C={flex:1,overflow:"auto",bgcolor:"#282c34",color:"#abb2bf",p:2,borderRadius:1,border:"1px solid",borderColor:"divider"},e[11]=C):C=e[11];let w;e[12]!==s?(w=h(s),e[12]=s,e[13]=w):w=e[13];let T;e[14]!==w?(T=c.jsx(Yt,{elevation:0,sx:C,children:w}),e[14]=w,e[15]=T):T=e[15];let E;e[16]===Symbol.for("react.memo_cache_sentinel")?(E={vertical:"bottom",horizontal:"center"},e[16]=E):E=e[16];let I;e[17]===Symbol.for("react.memo_cache_sentinel")?(I=c.jsx(St,{onClose:d,severity:"success",sx:{width:"100%"},children:"Copied to clipboard!"}),e[17]=I):I=e[17];let j;e[18]!==r?(j=c.jsx(zg,{open:r,autoHideDuration:2e3,onClose:d,anchorOrigin:E,children:I}),e[18]=r,e[19]=j):j=e[19];let O;return e[20]!==T||e[21]!==j||e[22]!==_?(O=c.jsxs(J,{sx:m,children:[_,T,j]}),e[20]=T,e[21]=j,e[22]=_,e[23]=O):O=e[23],O};function Ret(t,e){const n=t.replace(/"([^"]+)":/g,'<span style="color: #e06c75;">"$1"</span>:').replace(/: "([^"]*)"/g,': <span style="color: #98c379;">"$1"</span>').replace(/: (\d+\.?\d*)/g,': <span style="color: #d19a66;">$1</span>').replace(/: (true|false|null)/g,': <span style="color: #56b6c2;">$1</span>').replace(/([{}\[\]])/g,'<span style="color: #abb2bf;">$1</span>');return c.jsx("div",{style:{fontFamily:'Consolas, Monaco, "Courier New", monospace',fontSize:"0.875rem",lineHeight:"1.5",padding:"2px 0"},dangerouslySetInnerHTML:{__html:n}},e)}function ket(t){return t.split(`
`).map(Ret)}function Iet(t){return t.toLowerCase().trim().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"").replace(/^_+|_+$/g,"")}const jet={text:{label:"Text",icon:"",color:"#4caf50"},textarea:{label:"Textarea",icon:"",color:"#4caf50"},number:{label:"Number",icon:"",color:"#2196f3"},select:{label:"Select",icon:"",color:"#ff9800"},image:{label:"Image",icon:"",color:"#9c27b0"}},Oet=({field:t,index:e,onUpdate:n,onDelete:r,dragHandleProps:a,fieldErrors:i=[],isExpanded:s,onToggleExpand:o})=>{const{t:l}=$t(),[u,d]=A.useState(!1),[h,m]=A.useState([]),y=jet[t.type],x=async()=>{try{const w=await Vm.getAllLists();m(w.data||[]),d(!0)}catch(w){console.error("Failed to load custom lists:",w)}},v=w=>{n(e,{dropdown_list_name:w.name,options:w.items}),d(!1)},_=w=>{const T={label:w};if(!t.id||t.id.trim()===""){const E=Iet(w);E&&(T.id=E)}n(e,T)},C=w=>{const T=w.match(/^(\d+)\./);return T?`Node ${T[1]}`:w};return c.jsxs(gr,{sx:{mb:2,borderLeft:`4px solid ${y.color}`,borderRadius:2,overflow:"hidden",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",bgcolor:s?_s(y.color,.02):"background.paper","&:hover":{boxShadow:s?6:4,transform:"translateY(-2px)",borderLeftWidth:"6px"}},children:[c.jsxs(J,{sx:{display:"flex",alignItems:"center",px:2,py:1.5,cursor:"pointer","&:hover":{bgcolor:w=>_s(w.palette.action.hover,.04)}},onClick:o,children:[c.jsx(J,{...a,sx:{display:"flex",alignItems:"center",mr:1.5,cursor:"grab",opacity:.3,transition:"all 0.2s ease",color:y.color,"&:hover":{opacity:1,transform:"scale(1.1)"},"&:active":{cursor:"grabbing",transform:"scale(0.95)"}},onClick:w=>w.stopPropagation(),children:c.jsx(QX,{fontSize:"small"})}),c.jsx(re,{sx:{fontSize:"1.2rem",mr:1},children:y.icon}),c.jsxs(J,{sx:{flex:1,minWidth:0},children:[c.jsxs(re,{variant:"subtitle2",sx:{fontWeight:600},children:[t.label||l("workflows:markedFields.unnamedField"),t.required&&c.jsx(yt,{label:"Required",size:"small",color:"error",sx:{ml:1,height:20,fontSize:"0.7rem"}})]}),c.jsx(re,{variant:"caption",color:"text.secondary",sx:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.jsonPath?`${C(t.jsonPath)}  ${t.jsonPath}`:l("workflows:markedFields.noJsonPath")}),i.length>0&&c.jsx(J,{sx:{mt:.5},children:i.map((w,T)=>c.jsxs(re,{variant:"caption",sx:{display:"block",color:w.severity==="error"?"error.main":"warning.main",fontSize:"0.7rem"},children:[w.severity==="error"?"":""," ",w.message]},T))})]}),c.jsx(yt,{label:y.label,size:"small",sx:{bgcolor:_s(y.color,.1),color:y.color,fontWeight:600,mr:1}}),c.jsx(ht,{size:"small",sx:{transform:s?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"},children:c.jsx(is,{})})]}),c.jsx(jp,{in:s,timeout:{enter:300,exit:250},unmountOnExit:!0,children:c.jsxs(Ba,{sx:{pt:2,pb:2,borderTop:"1px solid",borderColor:"divider",bgcolor:w=>_s(w.palette.background.default,.3)},children:[c.jsxs(J,{sx:{display:"flex",gap:2,mb:2},children:[c.jsx(jt,{label:l("workflows:fieldForm.label"),value:t.label,onChange:w=>_(w.target.value),size:"small",placeholder:l("workflows:fieldForm.labelPlaceholder"),helperText:l("workflows:fieldForm.labelHelper"),sx:{flex:2}}),c.jsxs(jt,{select:!0,label:l("workflows:fieldForm.type"),value:t.type,onChange:w=>n(e,{type:w.target.value}),size:"small",helperText:l("workflows:fieldForm.typeHelper"),sx:{flex:1},SelectProps:{native:!0},children:[c.jsx("option",{value:"text",children:l("workflows:fieldForm.typeText")}),c.jsx("option",{value:"textarea",children:l("workflows:fieldForm.typeTextarea")}),c.jsx("option",{value:"number",children:l("workflows:fieldForm.typeNumber")}),c.jsx("option",{value:"select",children:l("workflows:fieldForm.typeSelect")}),c.jsx("option",{value:"image",children:"Image"})]})]}),c.jsxs(J,{sx:{display:"flex",gap:2,mb:2},children:[c.jsx(jt,{fullWidth:!0,label:l("workflows:fieldForm.jsonPath"),value:t.jsonPath,onChange:w=>n(e,{jsonPath:w.target.value}),placeholder:l("workflows:fieldForm.jsonPathPlaceholder"),size:"small",helperText:l("workflows:fieldForm.jsonPathHelper"),sx:{flex:2}}),c.jsx(jt,{fullWidth:!0,label:l("workflows:fieldForm.defaultValue"),value:t.default_value||"",onChange:w=>n(e,{default_value:w.target.value}),size:"small",placeholder:l("workflows:fieldForm.defaultValuePlaceholder"),helperText:l("workflows:fieldForm.defaultValueHelper"),sx:{flex:1}})]}),t.type==="number"&&c.jsxs(J,{sx:{display:"flex",gap:2,mb:2},children:[c.jsx(jt,{label:l("workflows:fieldForm.minValue"),type:"number",value:t.min??"",onChange:w=>n(e,{min:w.target.value?parseFloat(w.target.value):void 0}),size:"small",placeholder:l("workflows:fieldForm.minPlaceholder"),sx:{flex:1}}),c.jsx(jt,{label:l("workflows:fieldForm.maxValue"),type:"number",value:t.max??"",onChange:w=>n(e,{max:w.target.value?parseFloat(w.target.value):void 0}),size:"small",placeholder:l("workflows:fieldForm.maxPlaceholder"),sx:{flex:1}}),c.jsx(jt,{label:" (Step)",type:"number",value:t.step??"",onChange:w=>n(e,{step:w.target.value?parseFloat(w.target.value):void 0}),size:"small",placeholder:"0.01",helperText:"   (: 0.01)",inputProps:{step:"any",min:0},sx:{flex:1}})]}),t.type==="select"&&c.jsxs(J,{sx:{mb:2},children:[t.dropdown_list_name&&c.jsxs(J,{sx:{mb:1,display:"flex",alignItems:"center",gap:1},children:[c.jsx(yt,{label:` ${t.dropdown_list_name}`,size:"small",color:"primary",variant:"outlined",onDelete:()=>n(e,{dropdown_list_name:void 0}),sx:{fontWeight:500}}),c.jsx(re,{variant:"caption",color:"text.secondary",children:"( )"})]}),c.jsxs(J,{sx:{display:"flex",gap:1},children:[c.jsx(jt,{fullWidth:!0,label:l("workflows:fieldForm.selectOptions"),value:t.options?.join(", ")||"",onChange:w=>n(e,{options:w.target.value.split(",").map(T=>T.trim()).filter(T=>T)}),size:"small",placeholder:l("workflows:fieldForm.selectOptionsPlaceholder"),helperText:t.dropdown_list_name?"   ( )":l("workflows:fieldForm.selectOptionsHelper"),disabled:!!t.dropdown_list_name}),c.jsx(ht,{size:"small",onClick:x,title:"  ",sx:{alignSelf:"flex-start",mt:.5},children:c.jsx(rI,{})})]})]}),c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx(Zn,{control:c.jsx(oi,{checked:t.required||!1,onChange:w=>n(e,{required:w.target.checked}),size:"small"}),label:l("workflows:fieldForm.required")}),c.jsx(ht,{onClick:()=>r(e),color:"error",size:"small",children:c.jsx(xa,{})})]})]})}),c.jsxs(or,{open:u,onClose:()=>d(!1),maxWidth:"sm",fullWidth:!0,children:[c.jsx(pr,{children:"  "}),c.jsx(hr,{children:h.length===0?c.jsx(re,{variant:"body2",color:"text.secondary",align:"center",sx:{py:2},children:"   ."}):c.jsx(Wf,{children:h.map(w=>c.jsx(Yf,{disablePadding:!0,children:c.jsx(dC,{onClick:()=>v(w),children:c.jsx(Ss,{primary:w.name,secondary:`${w.items.length}  - ${w.items.slice(0,3).join(", ")}${w.items.length>3?"...":""}`})})},w.id))})}),c.jsx(yr,{children:c.jsx(Ke,{onClick:()=>d(!1),children:""})})]})]})},Det=t=>{const e=bt.c(24),{field:n,index:r,onUpdate:a,onDelete:i,fieldErrors:s,isExpanded:o,onToggleExpand:l}=t;let u;e[0]!==n.id?(u={id:n.id},e[0]=n.id,e[1]=u):u=e[1];const{attributes:d,listeners:h,setNodeRef:m,transform:y,transition:x,isDragging:v}=pee(u);let _;e[2]!==y?(_=fy.Transform.toString(y),e[2]=y,e[3]=_):_=e[3];const C=v?.5:1;let w;e[4]!==_||e[5]!==C||e[6]!==x?(w={transform:_,transition:x,opacity:C},e[4]=_,e[5]=C,e[6]=x,e[7]=w):w=e[7];const T=w;let E;e[8]!==d||e[9]!==h?(E={...d,...h},e[8]=d,e[9]=h,e[10]=E):E=e[10];let I;e[11]!==n||e[12]!==s||e[13]!==r||e[14]!==o||e[15]!==i||e[16]!==l||e[17]!==a||e[18]!==E?(I=c.jsx(Oet,{field:n,index:r,onUpdate:a,onDelete:i,dragHandleProps:E,fieldErrors:s,isExpanded:o,onToggleExpand:l}),e[11]=n,e[12]=s,e[13]=r,e[14]=o,e[15]=i,e[16]=l,e[17]=a,e[18]=E,e[19]=I):I=e[19];let j;return e[20]!==m||e[21]!==T||e[22]!==I?(j=c.jsx("div",{ref:m,style:T,children:I}),e[20]=m,e[21]=T,e[22]=I,e[23]=j):j=e[23],j};function ere(t){const e=bt.c(19);let n;e[0]!==t?(n=[],t.forEach((v,_)=>{!v.id||v.id.trim()===""?n.push({fieldId:v.id,fieldIndex:_,field:"id",message:"Field ID is required",severity:"error"}):/^[a-zA-Z0-9_]+$/.test(v.id)||n.push({fieldId:v.id,fieldIndex:_,field:"id",message:"Field ID must contain only letters, numbers, and underscores",severity:"error"});const C=t.findIndex((T,E)=>E!==_&&T.id===v.id&&v.id.trim()!=="");C!==-1&&n.push({fieldId:v.id,fieldIndex:_,field:"id",message:`Duplicate Field ID: also used in field #${C+1}`,severity:"error"}),(!v.label||v.label.trim()==="")&&n.push({fieldId:v.id,fieldIndex:_,field:"label",message:"Label is required",severity:"error"}),!v.jsonPath||v.jsonPath.trim()===""?n.push({fieldId:v.id,fieldIndex:_,field:"jsonPath",message:"JSON Path is required",severity:"error"}):/^\d+\./.test(v.jsonPath)||n.push({fieldId:v.id,fieldIndex:_,field:"jsonPath",message:'JSON Path should start with a node number (e.g., "6.inputs.text")',severity:"warning"});const w=t.findIndex((T,E)=>E!==_&&T.jsonPath===v.jsonPath&&v.jsonPath.trim()!=="");w!==-1&&n.push({fieldId:v.id,fieldIndex:_,field:"jsonPath",message:`Duplicate JSON Path: also used in field #${w+1}`,severity:"warning"}),v.type==="number"&&v.min!==void 0&&v.max!==void 0&&v.min>v.max&&n.push({fieldId:v.id,fieldIndex:_,field:"min",message:"Min value must be less than or equal to Max value",severity:"error"}),v.type==="select"&&(!v.options||v.options.length===0)&&n.push({fieldId:v.id,fieldIndex:_,field:"options",message:"Select fields must have at least one option",severity:"error"})}),e[0]=t,e[1]=n):n=e[1];const r=n;let a;e[2]!==r?(a=r.filter(Pet),e[2]=r,e[3]=a):a=e[3];const i=a.length===0;let s;e[4]!==r?(s=v=>r.filter(_=>_.fieldIndex===v),e[4]=r,e[5]=s):s=e[5];const o=s;let l;e[6]!==r?(l=v=>r.filter(_=>_.severity===v),e[6]=r,e[7]=l):l=e[7];const u=l;let d;e[8]!==r?(d=r.filter(Net),e[8]=r,e[9]=d):d=e[9];const h=d.length;let m;e[10]!==r?(m=r.filter(Met),e[10]=r,e[11]=m):m=e[11];const y=m.length;let x;return e[12]!==h||e[13]!==r||e[14]!==u||e[15]!==o||e[16]!==i||e[17]!==y?(x={errors:r,isValid:i,errorCount:h,warningCount:y,getFieldErrors:o,getErrorsByType:u},e[12]=h,e[13]=r,e[14]=u,e[15]=o,e[16]=i,e[17]=y,e[18]=x):x=e[18],x}function Met(t){return t.severity==="warning"}function Net(t){return t.severity==="error"}function Pet(t){return t.severity==="error"}const Let=t=>{const e=bt.c(34),{fields:n,onFieldsChange:r,onUpdateField:a,onDeleteField:i}=t,{t:s}=$t(),o=ere(n);let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=new Set,e[0]=l):l=e[0];const[u,d]=A.useState(l);let h;e[1]===Symbol.for("react.memo_cache_sentinel")?(h=O=>{d(L=>{const N=new Set(L);return N.has(O)?N.delete(O):N.add(O),N})},e[1]=h):h=e[1];const m=h;let y;e[2]===Symbol.for("react.memo_cache_sentinel")?(y={activationConstraint:{distance:8}},e[2]=y):y=e[2];let x;e[3]===Symbol.for("react.memo_cache_sentinel")?(x={coordinateGetter:y$e},e[3]=x):x=e[3];const v=GJ(qI(ow,y),qI(yD,x));let _;e[4]!==n||e[5]!==r?(_=O=>{const{active:L,over:N}=O;if(N&&L.id!==N.id){const M=n.findIndex(P=>P.id===L.id),H=n.findIndex(P=>P.id===N.id);if(M!==-1&&H!==-1){const P=uw(n,M,H);r(P)}}},e[4]=n,e[5]=r,e[6]=_):_=e[6];const C=_;if(n.length===0){let O;e[7]===Symbol.for("react.memo_cache_sentinel")?(O={textAlign:"center",py:4,color:"text.secondary"},e[7]=O):O=e[7];let L;e[8]!==s?(L=s("workflows:markedFields.noFields"),e[8]=s,e[9]=L):L=e[9];let N;return e[10]!==L?(N=c.jsx(J,{sx:O,children:c.jsx(re,{variant:"body2",children:L})}),e[10]=L,e[11]=N):N=e[11],N}let w;e[12]!==n?(w=n.map(zet),e[12]=n,e[13]=w):w=e[13];let T;if(e[14]!==u||e[15]!==n||e[16]!==i||e[17]!==a||e[18]!==o){let O;e[20]!==u||e[21]!==i||e[22]!==a||e[23]!==o?(O=(L,N)=>{const M=o.getFieldErrors(N),H=u.has(N);return c.jsx(Det,{field:L,index:N,onUpdate:a,onDelete:i,fieldErrors:M,isExpanded:H,onToggleExpand:()=>m(N)},L.id)},e[20]=u,e[21]=i,e[22]=a,e[23]=o,e[24]=O):O=e[24],T=n.map(O),e[14]=u,e[15]=n,e[16]=i,e[17]=a,e[18]=o,e[19]=T}else T=e[19];let E;e[25]!==T?(E=c.jsx(J,{children:T}),e[25]=T,e[26]=E):E=e[26];let I;e[27]!==w||e[28]!==E?(I=c.jsx(fee,{items:w,strategy:cee,children:E}),e[27]=w,e[28]=E,e[29]=I):I=e[29];let j;return e[30]!==C||e[31]!==v||e[32]!==I?(j=c.jsx(oee,{sensors:v,collisionDetection:YJ,onDragEnd:C,children:I}),e[30]=C,e[31]=v,e[32]=I,e[33]=j):j=e[33],j};function zet(t){return t.id}function mW(){const t=Zf(),{id:e}=zj(),n=!!e,{t:r}=$t(["workflows","common"]),[a,i]=A.useState(!1),[s,o]=A.useState(!1),[l,u]=A.useState(null),[d,h]=A.useState(null),[m,y]=A.useState(""),[x,v]=A.useState(""),[_,C]=A.useState(""),[w,T]=A.useState(!0),[E,I]=A.useState("#2196f3"),[j,O]=A.useState([]),[L,N]=A.useState(0),M=ere(j),H=A.useRef(null),P=A.useCallback(q=>{H.current&&clearTimeout(H.current),H.current=setTimeout(()=>{I(q)},100)},[]),[$,D]=A.useState(null);A.useEffect(()=>{n&&U()},[e]);const U=async()=>{try{i(!0);const te=(await Sp.getWorkflow(parseInt(e))).data;y(te.name),v(te.description||""),C(te.workflow_json),T(te.is_active),I(te.color||"#2196f3"),O(te.marked_fields||[])}catch(q){u(q.response?.data?.error||q.message)}finally{i(!1)}},F=q=>{if(C(q),q.trim())try{JSON.parse(q),D(null)}catch{D(r("workflows:form.invalidJson"))}else D(null)},W=q=>{const te=q.target.files?.[0];if(te){const ae=new FileReader;ae.onload=ie=>{const ce=ie.target?.result;F(ce)},ae.readAsText(te)}},ee=()=>{const q={id:`field_${Date.now()}`,label:"",jsonPath:"",type:"text",required:!1};O([...j,q])},Q=(q,te)=>{const ae=[...j];ae[q]={...ae[q],...te},O(ae)},K=q=>{O(j.filter((te,ae)=>ae!==q))},V=(q,te,ae,ie,ce,pe)=>{const ge=`${q}.inputs.${te}`;if(j.some(le=>le.jsonPath===ge)){u(`Parameter "${te}" from node ${q} is already in Marked Fields`),setTimeout(()=>u(null),3e3);return}let ue="text";typeof ae=="number"?ue="number":typeof ae=="string"&&ae.length>100&&(ue="textarea");const he=ce.replace(/[^a-zA-Z0-9_]/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,""),ve=`#${q}_${he}(${te.toUpperCase()})`,me={id:`field_${Date.now()}`,label:ve,jsonPath:ge,type:ue,required:!1};O([...j,me]),h(`Added "${te}" from Node ${q} to Marked Fields`),setTimeout(()=>h(null),3e3)},Z=async()=>{if(!m.trim()){u(r("workflows:form.nameRequired"));return}if(!_.trim()){u(r("workflows:form.jsonRequired"));return}if($){u(r("workflows:form.validateJson"));return}try{o(!0),u(null);const q={name:m.trim(),description:x.trim()||void 0,workflow_json:_,marked_fields:j.length>0?j:void 0,is_active:w,color:E};n?(await Sp.updateWorkflow(parseInt(e),q),h(r("workflows:alerts.updated"))):(await Sp.createWorkflow(q),h(r("workflows:alerts.created"))),setTimeout(()=>{t("/image-generation?tab=workflows")},1500)}catch(q){u(q.response?.data?.error||q.message)}finally{o(!1)}};return a?c.jsx(J,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:c.jsx(Kt,{})}):c.jsxs(J,{sx:{p:3,maxWidth:1200,mx:"auto"},children:[c.jsxs(J,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[c.jsx(ht,{onClick:()=>t("/image-generation?tab=workflows"),children:c.jsx(hC,{})}),c.jsx(re,{variant:"h4",children:r(n?"workflows:page.editTitle":"workflows:page.createTitle")})]}),l&&c.jsx(St,{severity:"error",sx:{mb:2},onClose:()=>u(null),children:l}),d&&c.jsx(St,{severity:"success",sx:{mb:2},children:d}),c.jsxs(Yt,{sx:{p:3,mb:3},children:[c.jsx(re,{variant:"h6",gutterBottom:!0,children:r("workflows:form.basicInfo")}),c.jsx(yn,{sx:{mb:2}}),c.jsx(jt,{fullWidth:!0,label:r("workflows:form.workflowName"),value:m,onChange:q=>y(q.target.value),required:!0,sx:{mb:2}}),c.jsx(jt,{fullWidth:!0,label:r("workflows:form.description"),value:x,onChange:q=>v(q.target.value),multiline:!0,rows:2,sx:{mb:2}}),c.jsxs(J,{sx:{mb:2},children:[c.jsx(re,{variant:"body2",sx:{mb:1},children:" "}),c.jsxs(J,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[[{color:"#2196f3",label:" ()"},{color:"#f44336",label:""},{color:"#4caf50",label:""},{color:"#ff9800",label:""},{color:"#9c27b0",label:""},{color:"#00bcd4",label:""},{color:"#ffeb3b",label:""},{color:"#795548",label:""},{color:"#607d8b",label:""},{color:"#e91e63",label:""}].map(q=>c.jsx(J,{onClick:()=>I(q.color),sx:{width:40,height:40,bgcolor:q.color,borderRadius:1,cursor:"pointer",border:E===q.color?"3px solid #000":"2px solid #ddd",transition:"all 0.2s","&:hover":{transform:"scale(1.1)",boxShadow:2}},title:q.label},q.color)),c.jsx("input",{type:"color",defaultValue:E,onInput:q=>P(q.target.value),style:{width:"40px",height:"40px",border:"2px solid #ddd",borderRadius:"4px",cursor:"pointer"},title:"  "})]})]}),c.jsx(Zn,{control:c.jsx(oi,{checked:w,onChange:q=>T(q.target.checked)}),label:r("workflows:form.activate")})]}),c.jsxs(Yt,{sx:{p:3,mb:3},children:[c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[c.jsx(re,{variant:"h6",children:r("workflows:form.workflowJson")}),c.jsxs(Ke,{component:"label",startIcon:c.jsx(hv,{}),size:"small",children:[r("workflows:form.uploadFile"),c.jsx("input",{type:"file",accept:".json",hidden:!0,onChange:W})]})]}),c.jsx(J,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:c.jsxs(il,{value:L,onChange:(q,te)=>N(te),children:[c.jsx(Gn,{label:"JSON Editor"}),c.jsx(Gn,{label:"Graph View",disabled:!_||!!$}),c.jsx(Gn,{label:"JSON View",disabled:!_||!!$})]})}),c.jsx(J,{role:"tabpanel",hidden:L!==0,children:L===0&&c.jsxs(c.Fragment,{children:[c.jsx(St,{severity:"warning",sx:{mb:2},children:c.jsxs(re,{variant:"body2",children:[c.jsx("strong",{children:r("workflows:alerts.importantNote")})," ",r("workflows:alerts.apiFormatWarning")]})}),c.jsx(jt,{fullWidth:!0,multiline:!0,rows:15,value:_,onChange:q=>F(q.target.value),placeholder:r("workflows:form.jsonPlaceholder"),error:!!$,helperText:$||r("workflows:form.jsonHelper"),sx:{"& .MuiInputBase-input":{fontFamily:"monospace",fontSize:"0.875rem"}}}),_&&!$&&c.jsx(J,{sx:{mt:2},children:c.jsx(yt,{label:r("workflows:form.jsonCharCount",{count:JSON.stringify(JSON.parse(_)).length}),size:"small",color:"success"})})]})}),c.jsx(J,{role:"tabpanel",hidden:L!==1,children:L===1&&_&&!$&&c.jsx(J,{sx:{height:"600px",border:"1px solid",borderColor:"divider",borderRadius:1},children:c.jsx(Eet,{workflowJson:_,onParameterRightClick:V})})}),c.jsx(J,{role:"tabpanel",hidden:L!==2,children:L===2&&_&&!$&&c.jsx(J,{sx:{height:"600px",border:"1px solid",borderColor:"divider",borderRadius:1,overflow:"auto"},children:c.jsx(Aet,{workflowJson:_})})})]}),c.jsx(FGe,{}),c.jsxs(Yt,{sx:{p:3,mb:3},children:[c.jsxs(J,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[c.jsx(re,{variant:"h6",children:r("workflows:markedFields.sectionTitle")}),c.jsx(Ke,{startIcon:c.jsx(Gs,{}),onClick:ee,variant:"contained",size:"small",children:r("workflows:markedFields.addField")})]}),c.jsx(yn,{sx:{mb:2}}),(M.errorCount>0||M.warningCount>0)&&c.jsxs(St,{severity:M.errorCount>0?"error":"warning",sx:{mb:2},children:[M.errorCount>0&&c.jsxs(re,{variant:"body2",children:[M.errorCount," error",M.errorCount>1?"s":""," found"]}),M.warningCount>0&&c.jsxs(re,{variant:"body2",children:[M.warningCount," warning",M.warningCount>1?"s":""," found"]})]}),c.jsx(Let,{fields:j,onFieldsChange:O,onUpdateField:Q,onDeleteField:K})]}),c.jsx(BGe,{workflowJson:_,markedFields:j}),c.jsxs(J,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[c.jsx(Ke,{variant:"outlined",onClick:()=>t("/image-generation?tab=workflows"),disabled:s,children:r("workflows:actions.cancel")}),c.jsx(Ke,{variant:"contained",startIcon:s?c.jsx(Kt,{size:20}):c.jsx(PO,{}),onClick:Z,disabled:s||!!$||!m.trim()||!_.trim(),children:r(s?"workflows:actions.saving":n?"workflows:actions.update":"workflows:actions.create")})]})]})}async function Fet(t){if(t.startsWith("data:"))return t;try{const n=await(await fetch(`http://localhost:1566${t}`)).blob();return new Promise((r,a)=>{const i=new FileReader;i.onloadend=()=>r(i.result),i.onerror=a,i.readAsDataURL(n)})}catch(e){throw console.error("Failed to convert image to Base64:",e),e}}async function Bet(t,e){if(!t?.workflow_json||!t?.marked_fields)return{};try{const n=JSON.parse(t.workflow_json),r=JSON.parse(JSON.stringify(n));for(const a of t.marked_fields){const i=a.jsonPath.split(".");let s=r;for(let u=0;u<i.length-1;u++)i[u]in s||(s[i[u]]={}),s=s[i[u]];const o=i[i.length-1];let l=e[a.id];if(a.type==="number")s[o]=parseFloat(l)||0;else if(a.type==="image")l?s[o]=await Fet(l):s[o]="";else{const u=s[o];typeof u=="string"&&typeof l=="string"&&u.includes("\\")&&l.includes("/")&&(l=l.replace(/\//g,"\\")),s[o]=l}}return r}catch(n){return console.error("Failed to build prompt data:",n),{}}}async function Het(t,e){const n=await Bet(t,e);return await XI(n,"comfyui")}function Uet(t){if(!t.marked_fields)return{};const e={};return t.marked_fields.forEach(n=>{e[n.id]=n.default_value||""}),e}function $et(t){const[e,n]=A.useState(!0),[r,a]=A.useState(null),[i,s]=A.useState(null),[o,l]=A.useState({});return{loading:e,error:r,setError:a,workflow:i,formData:o,loadWorkflow:async()=>{if(t)try{n(!0);const y=(await Sp.getWorkflow(parseInt(t))).data;s(y);const x=Uet(y);l(x)}catch(m){a(m.response?.data?.error||m.message)}finally{n(!1)}},handleFieldChange:(m,y)=>{l(x=>({...x,[m]:y}))},getPromptData:async()=>await Het(i,o)}}function Get(){const[t,e]=A.useState([]),[n,r]=A.useState({}),[a,i]=A.useState({}),s=async()=>{try{const u=await qm.getAllServers(!0);e(u.data||[]);const d={};(u.data||[]).forEach(h=>{d[h.id]={status:"idle"}}),i(d),o(u.data||[])}catch(u){console.error("Failed to load servers:",u)}},o=async u=>{const d=await Promise.all(u.map(async m=>{try{const y=Date.now(),x=await qm.testConnection(m.id),v=Date.now()-y;return{serverId:m.id,connected:x.data?.isConnected||!1,responseTime:v}}catch{return{serverId:m.id,connected:!1,error:"Connection failed"}}})),h={};d.forEach(m=>{h[m.serverId]={connected:m.connected,responseTime:m.responseTime,error:m.error}}),r(h)};return{servers:t,serverStatus:n,generationStatus:a,setGenerationStatus:i,loadServers:s,getConnectedServers:()=>t.filter(u=>n[u.id]?.connected)}}function qet(){const t=bt.c(7),[e,n]=A.useState(null),[r,a]=A.useState(null),[i,s]=A.useState(!1);let o,l;if(t[0]===Symbol.for("react.memo_cache_sentinel")){o=async()=>{try{const x=localStorage.getItem("workflow_selected_group_id");if(x){const v=parseInt(x);n(v),await y(v)}}catch(x){console.error("Failed to load saved group:",x)}};const y=async x=>{try{const v=await Tt.get(`/api/groups/${x}`);v.data.success&&a(v.data.data)}catch(v){console.error("Failed to load group info:",v),n(null),a(null)}};l=async x=>{n(x),localStorage.setItem("workflow_selected_group_id",x.toString()),await y(x),s(!1)},t[0]=o,t[1]=l}else o=t[0],l=t[1];const u=l;let d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{n(null),a(null),localStorage.removeItem("workflow_selected_group_id")},t[2]=d):d=t[2];const h=d;let m;return t[3]!==i||t[4]!==r||t[5]!==e?(m={selectedGroupId:e,selectedGroup:r,groupModalOpen:i,setGroupModalOpen:s,loadSavedGroup:o,handleGroupSelect:u,handleRemoveGroup:h},t[3]=i,t[4]=r,t[5]=e,t[6]=m):m=t[6],m}function Vet({workflowId:t,workflow:e,formData:n,getPromptData:r,selectedGroupId:a,servers:i,setGenerationStatus:s,setError:o}){const{t:l}=$t(["workflows"]),[u,d]=A.useState(0),h=async y=>{if(i.find(v=>v.id===y)){if(e?.marked_fields){const v=e.marked_fields.filter(_=>_.required&&!n[_.id]);if(v.length>0){o(l("workflows:generate.missingFields",{fields:v.map(_=>_.label).join(", ")}));return}}try{s(w=>({...w,[y]:{status:"generating",progress:0}})),o(null);const v=await r(),C=(await Sp.generateImageOnServer(parseInt(t),y,v,a||void 0)).data.history_id;if(!C){console.error("No history_id in response"),o("Failed to start image generation");return}s(w=>({...w,[y]:{status:"generating",historyId:C}})),await m(y,C)}catch(v){throw s(_=>({..._,[y]:{status:"failed",error:v.response?.data?.error||v.message}})),v}}},m=async(y,x)=>{let _=0,C=null;return new Promise((w,T)=>{const E=async()=>{_++;try{const j=(await vd.getById(x,!0)).record;if(console.log(`[ComfyUI] Polling attempt ${_}/150 for history ${x}: status="${j.generation_status}"`),j.generation_status==="completed"||j.generation_status==="failed"){console.log(`[ComfyUI]  Generation ${x} finished with status: ${j.generation_status}`),C&&(clearTimeout(C),C=null),s(O=>({...O,[y]:{status:j.generation_status,historyId:x,error:j.error_message}})),j.generation_status==="completed"?(console.log("[ComfyUI]  Triggering history refresh (refreshKey increment)"),d(O=>{const L=O+1;return console.log(`[ComfyUI] historyRefreshKey: ${O}  ${L}`),setTimeout(()=>w(),0),L})):(console.error("[ComfyUI]  Generation failed:",j.error_message),T(new Error(j.error_message||"Generation failed")));return}if(_>=150){console.error(`[ComfyUI] Generation ${x} timeout after ${_} attempts`),C&&clearTimeout(C),T(new Error("Generation timeout (5 minutes)"));return}C=setTimeout(E,2e3)}catch(I){if(console.error(`[ComfyUI] Failed to check status (attempt ${_}/150):`,I),_>=150){C&&clearTimeout(C),T(new Error("Status check failed after timeout"));return}C=setTimeout(E,2e3)}};E()})};return{historyRefreshKey:u,handleGenerateOnServer:h}}function Wet(t){const e=bt.c(9),{servers:n,serverStatus:r,repeatConfig:a,handleGenerateOnServer:i,handleStartServerRepeat:s,setError:o}=t;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=["workflows"],e[0]=l):l=e[0];const{t:u}=$t(l);let d;return e[1]!==i||e[2]!==s||e[3]!==a||e[4]!==r||e[5]!==n||e[6]!==o||e[7]!==u?(d={handleGenerateOnAllServers:async()=>{console.log("[ComfyUI Generate] Button clicked",{repeatConfig:a,repeatEnabled:a.enabled});const m=n.filter(x=>r[x.id]?.connected);if(m.length===0){o(u("workflows:generate.noConnectedServers"));return}if(a.enabled){console.log("[ComfyUI Repeat] Starting independent repeat execution on all servers",{count:a.count,delaySeconds:a.delaySeconds,servers:m.map(Yet)}),m.forEach(x=>{s(x.id)});return}console.log("[ComfyUI Generate] Single execution mode",{connectedServers:m.length});const y=m.map(x=>i(x.id));await Promise.all(y)}},e[1]=i,e[2]=s,e[3]=a,e[4]=r,e[5]=n,e[6]=o,e[7]=u,e[8]=d):d=e[8],d}function Yet(t){return t.name}function Ket({servers:t,repeatConfig:e,handleGenerateOnServer:n}){const[r,a]=A.useState({}),i=A.useRef(e),s=A.useRef(r);A.useEffect(()=>{i.current=e},[e]),A.useEffect(()=>{s.current=r},[r]);const o=d=>{const h=t.find(y=>y.id===d);if(!h)return;console.log("[Server Repeat] Starting repeat execution for server",{serverId:d,serverName:h.name,count:e.count,delaySeconds:e.delaySeconds});const m={isRunning:!0,currentIteration:0,totalIterations:e.count===-1?-1:e.count,timeoutId:null};a(y=>({...y,[d]:m})),s.current={...s.current,[d]:m},l(d,0)},l=async(d,h)=>{const m=i.current,y=s.current[d];if(!y||!y.isRunning){console.log("[Server Repeat] Stopped (state not found or not running)",{serverId:d});return}if(h>=100){console.warn("[Server Repeat] Maximum safe iterations reached (100)",{serverId:d}),u(d);return}const v=y.totalIterations;if(v!==-1&&h>=v){console.log("[Server Repeat] All iterations completed",{serverId:d,iteration:h,totalIterations:v}),u(d);return}console.log("[Server Repeat] Starting iteration",{serverId:d,current:h+1,total:v===-1?"infinite":v,isRunning:y.isRunning}),a(_=>({..._,[d]:{..._[d],currentIteration:h}}));try{await n(d),console.log("[Server Repeat] Iteration completed",{serverId:d,iteration:h+1});const _=s.current[d];if(!_||!_.isRunning){console.log("[Server Repeat] Stopped during execution",{serverId:d});return}const C=h+1;if(v===-1||C<v){console.log("[Server Repeat] Scheduling next iteration after delay",{serverId:d,delaySeconds:m.delaySeconds,nextIteration:C});const T=window.setTimeout(()=>{l(d,C)},m.delaySeconds*1e3);a(E=>({...E,[d]:{...E[d],timeoutId:T}}))}else console.log("[Server Repeat] Finished all iterations",{serverId:d}),u(d)}catch(_){console.error("[Server Repeat] Error during iteration",{serverId:d,iteration:h,error:_}),u(d)}},u=d=>{a(h=>{const m=h[d];m?.timeoutId&&clearTimeout(m.timeoutId),console.log("[Server Repeat] Stopping repeat execution",{serverId:d});const y={...h};return delete y[d],y})};return{serverRepeatStates:r,handleStartServerRepeat:o,handleStopServerRepeat:u}}function Xet(t){const e=bt.c(22),{workflow:n}=t,r=Zf();let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=["workflows"],e[0]=a):a=e[0];const{t:i}=$t(a);let s;e[1]===Symbol.for("react.memo_cache_sentinel")?(s={mb:3,display:"flex",alignItems:"center",gap:2},e[1]=s):s=e[1];let o;e[2]!==r?(o=()=>r("/image-generation?tab=workflows"),e[2]=r,e[3]=o):o=e[3];let l;e[4]===Symbol.for("react.memo_cache_sentinel")?(l=c.jsx(hC,{}),e[4]=l):l=e[4];let u;e[5]!==o?(u=c.jsx(ht,{onClick:o,children:l}),e[5]=o,e[6]=u):u=e[6];let d;e[7]===Symbol.for("react.memo_cache_sentinel")?(d={flex:1},e[7]=d):d=e[7];let h;e[8]!==n.name?(h=c.jsx(re,{variant:"h4",children:n.name}),e[8]=n.name,e[9]=h):h=e[9];let m;e[10]!==n.description?(m=n.description&&c.jsx(re,{variant:"body2",color:"text.secondary",children:n.description}),e[10]=n.description,e[11]=m):m=e[11];let y;e[12]!==h||e[13]!==m?(y=c.jsxs(J,{sx:d,children:[h,m]}),e[12]=h,e[13]=m,e[14]=y):y=e[14];let x;e[15]!==i||e[16]!==n.is_active?(x=!n.is_active&&c.jsx(yt,{label:i("workflows:card.inactive"),color:"default"}),e[15]=i,e[16]=n.is_active,e[17]=x):x=e[17];let v;return e[18]!==x||e[19]!==u||e[20]!==y?(v=c.jsxs(J,{sx:s,children:[u,y,x]}),e[18]=x,e[19]=u,e[20]=y,e[21]=v):v=e[21],v}function Kx(t){const e=bt.c(13);let n,r,a,i;e[0]!==t?({children:n,value:i,index:r,...a}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i):(n=e[1],r=e[2],a=e[3],i=e[4]);const s=i!==r;let o;e[5]!==n||e[6]!==r||e[7]!==i?(o=i===r&&c.jsx(J,{sx:{p:2},children:n}),e[5]=n,e[6]=r,e[7]=i,e[8]=o):o=e[8];let l;return e[9]!==a||e[10]!==s||e[11]!==o?(l=c.jsx("div",{role:"tabpanel",hidden:s,...a,children:o}),e[9]=a,e[10]=s,e[11]=o,e[12]=l):l=e[12],l}function Qet({open:t,onClose:e,onSelect:n,fieldLabel:r}){const[a,i]=A.useState(0),[s,o]=A.useState(""),[l,u]=A.useState(null),[d,h]=A.useState([]),[m,y]=A.useState(""),[x,v]=A.useState(!1),[_,C]=A.useState(null);A.useEffect(()=>{t&&a===4&&w()},[t,a]);const w=async()=>{try{v(!0);const j=await Sp.getCanvasImages();h(j.data||[]),y(j.canvasPath||"")}catch(j){C("Failed to load canvas images"),console.error(j)}finally{v(!1)}},T=j=>{const O=j.target.files?.[0];if(O){const L=new FileReader;L.onloadend=()=>{u(L.result)},L.readAsDataURL(O)}},E=j=>{n(j),e()},I=()=>{o(""),u(null),C(null),e()};return c.jsxs(or,{open:t,onClose:I,maxWidth:"md",fullWidth:!0,children:[c.jsxs(pr,{children:[r," -  "]}),c.jsxs(hr,{children:[c.jsx(J,{sx:{borderBottom:1,borderColor:"divider"},children:c.jsxs(il,{value:a,onChange:(j,O)=>i(O),children:[c.jsx(Gn,{icon:c.jsx(Jf,{}),label:"DB ",iconPosition:"start",disabled:!0}),c.jsx(Gn,{icon:c.jsx(s9e,{}),label:"",iconPosition:"start"}),c.jsx(Gn,{icon:c.jsx(dv,{}),label:"",iconPosition:"start"}),c.jsx(Gn,{icon:c.jsx(pC,{}),label:"",iconPosition:"start",disabled:!0}),c.jsx(Gn,{icon:c.jsx(ky,{}),label:" ",iconPosition:"start"})]})}),_&&c.jsx(St,{severity:"error",sx:{mt:2},onClose:()=>C(null),children:_}),c.jsx(Kx,{value:a,index:0,children:c.jsx(J,{sx:{textAlign:"center",py:4},children:c.jsx(re,{variant:"body1",color:"text.secondary",children:" "})})}),c.jsxs(Kx,{value:a,index:1,children:[c.jsx(jt,{fullWidth:!0,label:"  ",value:s,onChange:j=>o(j.target.value),placeholder:"  ",sx:{mb:2}}),s&&c.jsx(J,{sx:{textAlign:"center",py:2},children:c.jsx(re,{variant:"body2",color:"text.secondary",children:"       ."})})]}),c.jsx(Kx,{value:a,index:2,children:c.jsxs(J,{children:[c.jsx("input",{accept:"image/*",style:{display:"none"},id:"image-upload-input",type:"file",onChange:T}),c.jsx("label",{htmlFor:"image-upload-input",children:c.jsx(Ke,{variant:"outlined",component:"span",fullWidth:!0,startIcon:c.jsx(dv,{}),sx:{mb:2},children:" "})}),l&&c.jsxs(J,{sx:{mt:2,textAlign:"center"},children:[c.jsx("img",{src:l,alt:"Preview",style:{maxWidth:"100%",maxHeight:"400px",objectFit:"contain"}}),c.jsxs(J,{sx:{mt:2,display:"flex",gap:2,justifyContent:"center"},children:[c.jsx(Ke,{variant:"contained",onClick:()=>{l&&E(l)},children:" "}),c.jsx(Ke,{variant:"outlined",disabled:!0,children:" ( )"})]})]})]})}),c.jsx(Kx,{value:a,index:3,children:c.jsx(J,{sx:{textAlign:"center",py:4},children:c.jsx(re,{variant:"body1",color:"text.secondary",children:" "})})}),c.jsx(Kx,{value:a,index:4,children:x?c.jsx(J,{sx:{textAlign:"center",py:4},children:c.jsx(Kt,{})}):d.length===0?c.jsxs(J,{sx:{textAlign:"center",py:4},children:[c.jsx(re,{variant:"body1",color:"text.secondary",children:"   ."}),m&&c.jsxs(re,{variant:"body2",color:"text.secondary",sx:{mt:1},children:[m,"   ."]})]}):c.jsx(gn,{container:!0,spacing:2,children:d.map((j,O)=>c.jsx(gn,{size:{xs:6,sm:4,md:3},children:c.jsx(gr,{children:c.jsxs(gwe,{onClick:()=>E(j.path),children:[c.jsx($s,{component:"img",height:"140",image:`http://localhost:1566${j.path}`,alt:j.filename,sx:{objectFit:"cover"}}),c.jsx(J,{sx:{p:1},children:c.jsx(re,{variant:"caption",noWrap:!0,children:j.filename})})]})})},O))})})]}),c.jsx(yr,{children:c.jsx(Ke,{onClick:I,children:""})})]})}function Zet({workflow:t,formData:e,onFieldChange:n,promptData:r}){const{t:a}=$t(["workflows"]),[i,s]=A.useState(!1),[o,l]=A.useState(null),[u,d]=A.useState({});A.useEffect(()=>{(async()=>{if(!t.marked_fields)return;const v={};for(const _ of t.marked_fields)if(_.type==="select"&&_.dropdown_list_name)try{const C=await Vm.getListByName(_.dropdown_list_name);C.success&&C.data?v[_.id]=C.data.items:(console.warn(`Dropdown list "${_.dropdown_list_name}" not found, using fallback options`),v[_.id]=_.options||[])}catch(C){console.error(`Failed to load dropdown list "${_.dropdown_list_name}":`,C),v[_.id]=_.options||[]}else _.type==="select"&&(v[_.id]=_.options||[]);d(v);for(const _ of t.marked_fields)if(_.type==="select"){const C=v[_.id]||_.options||[],w=e[_.id];(!w||w==="")&&C.length>0&&n(_.id,C[0])}})()},[t]);const h=x=>{l(x),s(!0)},m=x=>{o&&n(o.id,x),s(!1),l(null)},y=x=>{const v=e[x.id]||"";switch(x.type){case"textarea":return c.jsx(jt,{fullWidth:!0,multiline:!0,rows:4,label:x.label,value:v,onChange:_=>n(x.id,_.target.value),required:x.required,placeholder:x.placeholder,sx:{mb:2}},x.id);case"number":return c.jsx(jt,{fullWidth:!0,type:"number",label:x.label,value:v,onChange:_=>n(x.id,_.target.value),required:x.required,placeholder:x.placeholder,inputProps:{min:x.min,max:x.max,step:x.step||1},sx:{mb:2}},x.id);case"select":{const _=u[x.id]||x.options||[];return c.jsx(jt,{fullWidth:!0,select:!0,label:x.label,value:v,onChange:C=>n(x.id,C.target.value),required:x.required,SelectProps:{native:!0},sx:{mb:2},helperText:x.dropdown_list_name?` ${x.dropdown_list_name}`:void 0,children:_.map(C=>c.jsx("option",{value:C,children:C},C))},x.id)}case"image":return c.jsxs(J,{sx:{mb:2},children:[c.jsxs(re,{variant:"subtitle2",gutterBottom:!0,children:[x.label," ",x.required&&c.jsx("span",{style:{color:"red"},children:"*"})]}),c.jsx(Ke,{variant:"outlined",startIcon:c.jsx(Eu,{}),onClick:()=>h(x),fullWidth:!0,sx:{mb:1},children:" "}),v&&c.jsx(gr,{sx:{mt:1},children:c.jsx($s,{component:"img",height:"200",image:v.startsWith("data:")?v:`http://localhost:1566${v}`,alt:x.label,sx:{objectFit:"contain"}})})]},x.id);default:return c.jsx(jt,{fullWidth:!0,label:x.label,value:v,onChange:_=>n(x.id,_.target.value),required:x.required,placeholder:x.placeholder,sx:{mb:2}},x.id)}};return c.jsxs(Yt,{sx:{p:3},children:[c.jsx(re,{variant:"h6",gutterBottom:!0,children:a("workflows:generate.settingsTitle")}),c.jsx(yn,{sx:{mb:3}}),t.marked_fields&&t.marked_fields.length>0?c.jsx(J,{children:t.marked_fields.map(x=>y(x))}):c.jsx(St,{severity:"info",sx:{mb:2},children:a("workflows:alerts.noConfigurableFields")}),c.jsxs(Dc,{children:[c.jsx(Nc,{expandIcon:c.jsx(is,{}),children:c.jsx(re,{variant:"body2",children:a("workflows:generate.previewTitle")})}),c.jsx(Mc,{children:c.jsx(J,{component:"pre",sx:{p:2,borderRadius:1,overflow:"auto",maxHeight:400,fontSize:"0.75rem",fontFamily:"monospace"},children:JSON.stringify(r,null,2)})})]}),o&&c.jsx(Qet,{open:i,onClose:()=>{s(!1),l(null)},onSelect:m,fieldLabel:o.label})]})}function Jet(t){const e=bt.c(11),{selectedGroup:n,onOpenModal:r,onRemove:a}=t;let i,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={p:3},s=c.jsx(re,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:" "}),e[0]=i,e[1]=s):(i=e[0],s=e[1]);let o;e[2]===Symbol.for("react.memo_cache_sentinel")?(o=c.jsx(yn,{sx:{mb:2}}),e[2]=o):o=e[2];let l;e[3]===Symbol.for("react.memo_cache_sentinel")?(l={display:"flex",flexDirection:"column",gap:2},e[3]=l):l=e[3];let u;e[4]!==r||e[5]!==a||e[6]!==n?(u=n?c.jsx(J,{sx:{display:"flex",alignItems:"center",gap:1},children:c.jsx(yt,{icon:c.jsx(wu,{}),label:n.name,onDelete:a,color:"primary",sx:{flex:1}})}):c.jsx(Ke,{variant:"outlined",startIcon:c.jsx(wu,{}),onClick:r,fullWidth:!0,children:" "}),e[4]=r,e[5]=a,e[6]=n,e[7]=u):u=e[7];let d;e[8]===Symbol.for("react.memo_cache_sentinel")?(d=c.jsx(re,{variant:"caption",color:"text.secondary",children:"     "}),e[8]=d):d=e[8];let h;return e[9]!==u?(h=c.jsxs(Yt,{sx:i,children:[s,o,c.jsxs(J,{sx:l,children:[u,d]})]}),e[9]=u,e[10]=h):h=e[10],h}function ett(t){const e=bt.c(27),{servers:n,serverRepeatStates:r}=t;if(Object.keys(r).length===0)return null;let a;e[0]!==r?(a=Object.values(r).reduce(rtt,0),e[0]=r,e[1]=a):a=e[1];const i=a;let s;e[2]!==r?(s=Object.values(r).reduce(ntt,0),e[2]=r,e[3]=s):s=e[3];const o=s,l=Object.values(r).some(ttt),u=o>0?i/o*100:0;let d,h;e[4]===Symbol.for("react.memo_cache_sentinel")?(d={p:3},h=c.jsx(re,{variant:"h6",gutterBottom:!0,children:"  "}),e[4]=d,e[5]=h):(d=e[4],h=e[5]);let m;e[6]===Symbol.for("react.memo_cache_sentinel")?(m=c.jsx(yn,{sx:{mb:2}}),e[6]=m):m=e[6];let y;e[7]===Symbol.for("react.memo_cache_sentinel")?(y={mb:3},e[7]=y):y=e[7];const x=o>0?` / ${o}`:"",v=l&&" (  )";let _;e[8]!==i||e[9]!==x||e[10]!==v?(_=c.jsxs(re,{variant:"body2",gutterBottom:!0,children:[": ",i,x," ",v]}),e[8]=i,e[9]=x,e[10]=v,e[11]=_):_=e[11];let C;e[12]!==o||e[13]!==u?(C=o>0&&c.jsx(Ld,{variant:"determinate",value:u,sx:{mt:1}}),e[12]=o,e[13]=u,e[14]=C):C=e[14];let w;e[15]!==C||e[16]!==_?(w=c.jsxs(J,{sx:y,children:[_,C]}),e[15]=C,e[16]=_,e[17]=w):w=e[17];let T;e[18]===Symbol.for("react.memo_cache_sentinel")?(T={display:"flex",flexDirection:"column",gap:1},e[18]=T):T=e[18];let E;e[19]!==r?(E=Object.entries(r),e[19]=r,e[20]=E):E=e[20];let I;e[21]!==n||e[22]!==E?(I=c.jsx(J,{sx:T,children:E.map(O=>{const[L,N]=O,M=parseInt(L),H=n.find(P=>P.id===M);return H?c.jsxs(J,{sx:{display:"flex",alignItems:"center",gap:1,p:1,borderRadius:1,bgcolor:"action.hover"},children:[c.jsx(re,{variant:"body2",sx:{flex:1},children:H.name}),c.jsx(yt,{label:N.totalIterations===-1?`${N.currentIteration} ()`:`${N.currentIteration} / ${N.totalIterations}`,size:"small",color:N.isRunning?"primary":"default"})]},M):null})}),e[21]=n,e[22]=E,e[23]=I):I=e[23];let j;return e[24]!==w||e[25]!==I?(j=c.jsxs(Yt,{sx:d,children:[h,m,w,I]}),e[24]=w,e[25]=I,e[26]=j):j=e[26],j}function ttt(t){return t.totalIterations===-1}function ntt(t,e){return t+(e.totalIterations===-1?0:e.totalIterations)}function rtt(t,e){return t+e.currentIteration}function att(t){const e=bt.c(33),{workflow:n,servers:r,serverStatus:a,generationStatus:i,serverRepeatStates:s,onGenerate:o,onStartRepeat:l,onStopRepeat:u}=t;let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d=["workflows"],e[0]=d):d=e[0];const{t:h}=$t(d);let m;e[1]===Symbol.for("react.memo_cache_sentinel")?(m={p:3},e[1]=m):m=e[1];let y;e[2]!==h?(y=h("workflows:generate.serversListTitle"),e[2]=h,e[3]=y):y=e[3];let x;e[4]!==y?(x=c.jsx(re,{variant:"h6",gutterBottom:!0,children:y}),e[4]=y,e[5]=x):x=e[5];let v;e[6]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx(yn,{sx:{mb:2}}),e[6]=v):v=e[6];let _;e[7]!==r.length||e[8]!==h?(_=r.length===0&&c.jsx(St,{severity:"info",children:h("workflows:generate.noServers")}),e[7]=r.length,e[8]=h,e[9]=_):_=e[9];let C;if(e[10]!==i||e[11]!==o||e[12]!==l||e[13]!==u||e[14]!==s||e[15]!==a||e[16]!==r||e[17]!==h||e[18]!==n){let T;e[20]!==i||e[21]!==o||e[22]!==l||e[23]!==u||e[24]!==s||e[25]!==a||e[26]!==h||e[27]!==n?(T=E=>{const I=a[E.id],j=i[E.id],O=s[E.id];return c.jsxs(J,{sx:{mb:2,pb:2,borderBottom:"1px solid",borderColor:"divider"},children:[c.jsxs(J,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[I?.connected?c.jsx(Cs,{color:"success",fontSize:"small"}):c.jsx(Cg,{color:"error",fontSize:"small"}),c.jsx(re,{variant:"body2",fontWeight:"bold",sx:{flex:1},children:E.name}),j?.status==="generating"&&c.jsx(Kt,{size:16})]}),I?.responseTime&&c.jsx(re,{variant:"caption",color:"text.secondary",display:"block",children:h("workflows:generate.responseTime",{time:I.responseTime})}),O&&c.jsx(J,{sx:{mt:1,mb:1},children:c.jsx(yt,{label:O.totalIterations===-1?`${O.currentIteration}   ()`:`${O.currentIteration} / ${O.totalIterations}`,color:"primary",size:"small"})}),c.jsxs(J,{sx:{mt:1,display:"flex",gap:1},children:[c.jsx(Ke,{size:"small",variant:"outlined",onClick:()=>o(E.id),disabled:!I?.connected||j?.status==="generating"||O?.isRunning||!n.is_active,children:""}),O?.isRunning?c.jsx(Ke,{size:"small",variant:"outlined",color:"error",onClick:()=>u(E.id),children:""}):c.jsx(Ke,{size:"small",variant:"outlined",color:"primary",onClick:()=>l(E.id),disabled:!I?.connected||j?.status==="generating"||!n.is_active,children:" "})]}),j?.status==="generating"&&c.jsx(Ld,{sx:{mt:1}}),j?.status==="failed"&&c.jsx(St,{severity:"error",sx:{mt:1},children:j.error||h("workflows:generate.generationFailed")})]},E.id)},e[20]=i,e[21]=o,e[22]=l,e[23]=u,e[24]=s,e[25]=a,e[26]=h,e[27]=n,e[28]=T):T=e[28],C=r.map(T),e[10]=i,e[11]=o,e[12]=l,e[13]=u,e[14]=s,e[15]=a,e[16]=r,e[17]=h,e[18]=n,e[19]=C}else C=e[19];let w;return e[29]!==x||e[30]!==_||e[31]!==C?(w=c.jsxs(Yt,{sx:m,children:[x,v,_,C]}),e[29]=x,e[30]=_,e[31]=C,e[32]=w):w=e[32],w}function itt(){const t=bt.c(172),{id:e}=zj();let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=["workflows","common"],t[0]=n):n=t[0];const{t:r}=$t(n),{loading:a,error:i,setError:s,workflow:o,formData:l,loadWorkflow:u,handleFieldChange:d,getPromptData:h}=$et(e);let m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m={},t[1]=m):m=t[1];const[y,x]=A.useState(m),{servers:v,serverStatus:_,generationStatus:C,setGenerationStatus:w,loadServers:T,getConnectedServers:E}=Get(),{selectedGroupId:I,selectedGroup:j,groupModalOpen:O,setGroupModalOpen:L,loadSavedGroup:N,handleGroupSelect:M,handleRemoveGroup:H}=qet();let P;t[2]!==l||t[3]!==h||t[4]!==e||t[5]!==I||t[6]!==v||t[7]!==s||t[8]!==w||t[9]!==o?(P={workflowId:e,workflow:o,formData:l,getPromptData:h,selectedGroupId:I,servers:v,setGenerationStatus:w,setError:s},t[2]=l,t[3]=h,t[4]=e,t[5]=I,t[6]=v,t[7]=s,t[8]=w,t[9]=o,t[10]=P):P=t[10];const{historyRefreshKey:$,handleGenerateOnServer:D}=Vet(P);let U;t[11]===Symbol.for("react.memo_cache_sentinel")?(U={enabled:!1,count:3,delaySeconds:5},t[11]=U):U=t[11];const[F,W]=A.useState(U);let ee;t[12]!==D||t[13]!==F||t[14]!==v?(ee={servers:v,repeatConfig:F,handleGenerateOnServer:D},t[12]=D,t[13]=F,t[14]=v,t[15]=ee):ee=t[15];const{serverRepeatStates:Q,handleStartServerRepeat:K,handleStopServerRepeat:V}=Ket(ee);let Z;t[16]!==D||t[17]!==K||t[18]!==F||t[19]!==_||t[20]!==v||t[21]!==s?(Z={servers:v,serverStatus:_,repeatConfig:F,handleGenerateOnServer:D,handleStartServerRepeat:K,setError:s},t[16]=D,t[17]=K,t[18]=F,t[19]=_,t[20]=v,t[21]=s,t[22]=Z):Z=t[22];const{handleGenerateOnAllServers:q}=Wet(Z);let te;t[23]!==N||t[24]!==T||t[25]!==u?(te=()=>{u(),T(),N()},t[23]=N,t[24]=T,t[25]=u,t[26]=te):te=t[26];let ae;t[27]!==e?(ae=[e],t[27]=e,t[28]=ae):ae=t[28],A.useEffect(te,ae);let ie;t[29]!==l||t[30]!==h||t[31]!==o?(ie=()=>{o&&l&&h().then(Bt=>{x(Bt)}).catch(Bt=>{console.error("[WorkflowGeneratePage] Failed to build prompt data:",Bt),x({})})},t[29]=l,t[30]=h,t[31]=o,t[32]=ie):ie=t[32];let ce;if(t[33]!==l||t[34]!==o?(ce=[o,l],t[33]=l,t[34]=o,t[35]=ce):ce=t[35],A.useEffect(ie,ce),a){let Bt;return t[36]===Symbol.for("react.memo_cache_sentinel")?(Bt=c.jsx(J,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:c.jsx(Kt,{})}),t[36]=Bt):Bt=t[36],Bt}if(!o){let Bt;t[37]===Symbol.for("react.memo_cache_sentinel")?(Bt={p:3},t[37]=Bt):Bt=t[37];let hn;t[38]!==r?(hn=r("workflows:card.notFound"),t[38]=r,t[39]=hn):hn=t[39];let _n;return t[40]!==hn?(_n=c.jsx(J,{sx:Bt,children:c.jsx(St,{severity:"error",children:hn})}),t[40]=hn,t[41]=_n):_n=t[41],_n}let pe,ge,oe,ue,he,ve,me,le,Se,be,Te,Ne,Pe,Le,De,Xe,ke,Ie,ye,Ce,Me,He;if(t[42]!==i||t[43]!==l||t[44]!==E||t[45]!==d||t[46]!==q||t[47]!==H||t[48]!==V||t[49]!==y||t[50]!==F||t[51]!==j||t[52]!==Q||t[53]!==s||t[54]!==L||t[55]!==r||t[56]!==o){const Bt=E();he=J,t[79]===Symbol.for("react.memo_cache_sentinel")?(Ce={p:3},t[79]=Ce):Ce=t[79],t[80]!==o?(Me=c.jsx(Xet,{workflow:o}),t[80]=o,t[81]=Me):Me=t[81],t[82]!==i||t[83]!==s?(He=i&&c.jsx(St,{severity:"error",sx:{mb:2},onClose:()=>s(null),children:i}),t[82]=i,t[83]=s,t[84]=He):He=t[84],ue=gn,Ie=!0,ye=3,oe=gn,t[85]===Symbol.for("react.memo_cache_sentinel")?(ke={xs:12,md:12,lg:4},t[85]=ke):ke=t[85],ge=J,t[86]===Symbol.for("react.memo_cache_sentinel")?(Pe={display:"flex",flexDirection:"column",gap:3},t[86]=Pe):Pe=t[86],t[87]!==l||t[88]!==d||t[89]!==y||t[90]!==o?(Le=c.jsx(Zet,{workflow:o,formData:l,onFieldChange:d,promptData:y}),t[87]=l,t[88]=d,t[89]=y,t[90]=o,t[91]=Le):Le=t[91];let hn;t[92]!==L?(hn=()=>L(!0),t[92]=L,t[93]=hn):hn=t[93],t[94]!==H||t[95]!==j||t[96]!==hn?(De=c.jsx(Jet,{selectedGroup:j,onOpenModal:hn,onRemove:H}),t[94]=H,t[95]=j,t[96]=hn,t[97]=De):De=t[97];let _n;t[98]===Symbol.for("react.memo_cache_sentinel")?(_n={p:3},t[98]=_n):_n=t[98];let Cn;t[99]!==Q?(Cn=Object.keys(Q),t[99]=Q,t[100]=Cn):Cn=t[100];const Ut=Cn.length>0;let Nn;t[101]!==Ut?(Nn={isRunning:Ut,currentIteration:0,totalIterations:0},t[101]=Ut,t[102]=Nn):Nn=t[102];let wt;t[103]!==V||t[104]!==Q?(wt=()=>{Object.keys(Q).forEach(Dt=>{V(parseInt(Dt))})},t[103]=V,t[104]=Q,t[105]=wt):wt=t[105],t[106]!==F||t[107]!==Nn||t[108]!==wt?(Xe=c.jsx(Yt,{sx:_n,children:c.jsx(bee,{config:F,state:Nn,onConfigChange:W,onStop:wt,namespace:"workflows"})}),t[106]=F,t[107]=Nn,t[108]=wt,t[109]=Xe):Xe=t[109],pe=Ke,ve=!0,me="contained",le="large",t[110]===Symbol.for("react.memo_cache_sentinel")?(Se=c.jsx(vp,{}),t[110]=Se):Se=t[110],be=q,Te=Bt.length===0||!o.is_active||Object.keys(Q).length>0,Ne=r("workflows:generate.generateAll",{count:Bt.length}),t[42]=i,t[43]=l,t[44]=E,t[45]=d,t[46]=q,t[47]=H,t[48]=V,t[49]=y,t[50]=F,t[51]=j,t[52]=Q,t[53]=s,t[54]=L,t[55]=r,t[56]=o,t[57]=pe,t[58]=ge,t[59]=oe,t[60]=ue,t[61]=he,t[62]=ve,t[63]=me,t[64]=le,t[65]=Se,t[66]=be,t[67]=Te,t[68]=Ne,t[69]=Pe,t[70]=Le,t[71]=De,t[72]=Xe,t[73]=ke,t[74]=Ie,t[75]=ye,t[76]=Ce,t[77]=Me,t[78]=He}else pe=t[57],ge=t[58],oe=t[59],ue=t[60],he=t[61],ve=t[62],me=t[63],le=t[64],Se=t[65],be=t[66],Te=t[67],Ne=t[68],Pe=t[69],Le=t[70],De=t[71],Xe=t[72],ke=t[73],Ie=t[74],ye=t[75],Ce=t[76],Me=t[77],He=t[78];let Qe;t[111]!==pe||t[112]!==ve||t[113]!==me||t[114]!==le||t[115]!==Se||t[116]!==be||t[117]!==Te||t[118]!==Ne?(Qe=c.jsx(pe,{fullWidth:ve,variant:me,size:le,startIcon:Se,onClick:be,disabled:Te,children:Ne}),t[111]=pe,t[112]=ve,t[113]=me,t[114]=le,t[115]=Se,t[116]=be,t[117]=Te,t[118]=Ne,t[119]=Qe):Qe=t[119];let Je;t[120]!==Q||t[121]!==v?(Je=c.jsx(ett,{servers:v,serverRepeatStates:Q}),t[120]=Q,t[121]=v,t[122]=Je):Je=t[122];let Ge;t[123]!==C||t[124]!==D||t[125]!==K||t[126]!==V||t[127]!==Q||t[128]!==_||t[129]!==v||t[130]!==o?(Ge=c.jsx(att,{workflow:o,servers:v,serverStatus:_,generationStatus:C,serverRepeatStates:Q,onGenerate:D,onStartRepeat:K,onStopRepeat:V}),t[123]=C,t[124]=D,t[125]=K,t[126]=V,t[127]=Q,t[128]=_,t[129]=v,t[130]=o,t[131]=Ge):Ge=t[131];let it;t[132]!==r||t[133]!==o.is_active?(it=!o.is_active&&c.jsx(St,{severity:"warning",children:r("workflows:alerts.inactiveWarning")}),t[132]=r,t[133]=o.is_active,t[134]=it):it=t[134];let rt;t[135]!==ge||t[136]!==Pe||t[137]!==Le||t[138]!==De||t[139]!==Xe||t[140]!==Qe||t[141]!==Je||t[142]!==Ge||t[143]!==it?(rt=c.jsxs(ge,{sx:Pe,children:[Le,De,Xe,Qe,Je,Ge,it]}),t[135]=ge,t[136]=Pe,t[137]=Le,t[138]=De,t[139]=Xe,t[140]=Qe,t[141]=Je,t[142]=Ge,t[143]=it,t[144]=rt):rt=t[144];let st;t[145]!==oe||t[146]!==ke||t[147]!==rt?(st=c.jsx(oe,{size:ke,children:rt}),t[145]=oe,t[146]=ke,t[147]=rt,t[148]=st):st=t[148];let ft;t[149]===Symbol.for("react.memo_cache_sentinel")?(ft={xs:12,md:12,lg:8},t[149]=ft):ft=t[149];const qt=parseInt(e);let Gt;t[150]!==$||t[151]!==qt?(Gt=c.jsx(gn,{size:ft,children:c.jsx(xee,{serviceType:"comfyui",workflowId:qt,refreshKey:$})}),t[150]=$,t[151]=qt,t[152]=Gt):Gt=t[152];let bn;t[153]!==ue||t[154]!==Ie||t[155]!==ye||t[156]!==st||t[157]!==Gt?(bn=c.jsxs(ue,{container:Ie,spacing:ye,children:[st,Gt]}),t[153]=ue,t[154]=Ie,t[155]=ye,t[156]=st,t[157]=Gt,t[158]=bn):bn=t[158];let zn;t[159]!==L?(zn=()=>L(!1),t[159]=L,t[160]=zn):zn=t[160];let er;t[161]!==O||t[162]!==M||t[163]!==zn?(er=c.jsx(Y5,{open:O,onClose:zn,selectedImageCount:1,onAssign:M}),t[161]=O,t[162]=M,t[163]=zn,t[164]=er):er=t[164];let Wt;return t[165]!==he||t[166]!==Ce||t[167]!==Me||t[168]!==He||t[169]!==bn||t[170]!==er?(Wt=c.jsxs(he,{sx:Ce,children:[Me,He,bn,er]}),t[165]=he,t[166]=Ce,t[167]=Me,t[168]=He,t[169]=bn,t[170]=er,t[171]=Wt):Wt=t[171],Wt}function gW(t){const e=[],n=String(t||"");let r=n.indexOf(","),a=0,i=!1;for(;!i;){r===-1&&(r=n.length,i=!0);const s=n.slice(a,r).trim();(s||!i)&&e.push(s),a=r+1,r=n.indexOf(",",a)}return e}function tre(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const stt=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ott=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ltt={};function yW(t,e){return(ltt.jsx?ott:stt).test(t)}const ctt=/[ \t\n\f\r]/g;function utt(t){return typeof t=="object"?t.type==="text"?bW(t.value):!1:bW(t)}function bW(t){return t.replace(ctt,"")===""}let wS=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};wS.prototype.normal={};wS.prototype.property={};wS.prototype.space=void 0;function nre(t,e){const n={},r={};for(const a of t)Object.assign(n,a.property),Object.assign(r,a.normal);return new wS(n,r,e)}function zv(t){return t.toLowerCase()}let ol=class{constructor(e,n){this.attribute=n,this.property=e}};ol.prototype.attribute="";ol.prototype.booleanish=!1;ol.prototype.boolean=!1;ol.prototype.commaOrSpaceSeparated=!1;ol.prototype.commaSeparated=!1;ol.prototype.defined=!1;ol.prototype.mustUseProperty=!1;ol.prototype.number=!1;ol.prototype.overloadedBoolean=!1;ol.prototype.property="";ol.prototype.spaceSeparated=!1;ol.prototype.space=void 0;let dtt=0;const Ln=Qg(),Ci=Qg(),yj=Qg(),Rt=Qg(),ea=Qg(),X1=Qg(),El=Qg();function Qg(){return 2**++dtt}const bj=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ln,booleanish:Ci,commaOrSpaceSeparated:El,commaSeparated:X1,number:Rt,overloadedBoolean:yj,spaceSeparated:ea},Symbol.toStringTag,{value:"Module"})),G7=Object.keys(bj);let aM=class extends ol{constructor(e,n,r,a){let i=-1;if(super(e,n),xW(this,"space",a),typeof r=="number")for(;++i<G7.length;){const s=G7[i];xW(this,G7[i],(r&bj[s])===bj[s])}}};aM.prototype.defined=!0;function xW(t,e,n){n&&(t[e]=n)}function Vy(t){const e={},n={};for(const[r,a]of Object.entries(t.properties)){const i=new aM(r,t.transform(t.attributes||{},r),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),e[r]=i,n[zv(r)]=r,n[zv(i.attribute)]=r}return new wS(e,n,t.space)}const rre=Vy({properties:{ariaActiveDescendant:null,ariaAtomic:Ci,ariaAutoComplete:null,ariaBusy:Ci,ariaChecked:Ci,ariaColCount:Rt,ariaColIndex:Rt,ariaColSpan:Rt,ariaControls:ea,ariaCurrent:null,ariaDescribedBy:ea,ariaDetails:null,ariaDisabled:Ci,ariaDropEffect:ea,ariaErrorMessage:null,ariaExpanded:Ci,ariaFlowTo:ea,ariaGrabbed:Ci,ariaHasPopup:null,ariaHidden:Ci,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ea,ariaLevel:Rt,ariaLive:null,ariaModal:Ci,ariaMultiLine:Ci,ariaMultiSelectable:Ci,ariaOrientation:null,ariaOwns:ea,ariaPlaceholder:null,ariaPosInSet:Rt,ariaPressed:Ci,ariaReadOnly:Ci,ariaRelevant:null,ariaRequired:Ci,ariaRoleDescription:ea,ariaRowCount:Rt,ariaRowIndex:Rt,ariaRowSpan:Rt,ariaSelected:Ci,ariaSetSize:Rt,ariaSort:null,ariaValueMax:Rt,ariaValueMin:Rt,ariaValueNow:Rt,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function are(t,e){return e in t?t[e]:e}function ire(t,e){return are(t,e.toLowerCase())}const ftt=Vy({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:X1,acceptCharset:ea,accessKey:ea,action:null,allow:null,allowFullScreen:Ln,allowPaymentRequest:Ln,allowUserMedia:Ln,alt:null,as:null,async:Ln,autoCapitalize:null,autoComplete:ea,autoFocus:Ln,autoPlay:Ln,blocking:ea,capture:null,charSet:null,checked:Ln,cite:null,className:ea,cols:Rt,colSpan:null,content:null,contentEditable:Ci,controls:Ln,controlsList:ea,coords:Rt|X1,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ln,defer:Ln,dir:null,dirName:null,disabled:Ln,download:yj,draggable:Ci,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ln,formTarget:null,headers:ea,height:Rt,hidden:yj,high:Rt,href:null,hrefLang:null,htmlFor:ea,httpEquiv:ea,id:null,imageSizes:null,imageSrcSet:null,inert:Ln,inputMode:null,integrity:null,is:null,isMap:Ln,itemId:null,itemProp:ea,itemRef:ea,itemScope:Ln,itemType:ea,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ln,low:Rt,manifest:null,max:null,maxLength:Rt,media:null,method:null,min:null,minLength:Rt,multiple:Ln,muted:Ln,name:null,nonce:null,noModule:Ln,noValidate:Ln,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ln,optimum:Rt,pattern:null,ping:ea,placeholder:null,playsInline:Ln,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ln,referrerPolicy:null,rel:ea,required:Ln,reversed:Ln,rows:Rt,rowSpan:Rt,sandbox:ea,scope:null,scoped:Ln,seamless:Ln,selected:Ln,shadowRootClonable:Ln,shadowRootDelegatesFocus:Ln,shadowRootMode:null,shape:null,size:Rt,sizes:null,slot:null,span:Rt,spellCheck:Ci,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Rt,step:null,style:null,tabIndex:Rt,target:null,title:null,translate:null,type:null,typeMustMatch:Ln,useMap:null,value:Ci,width:Rt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ea,axis:null,background:null,bgColor:null,border:Rt,borderColor:null,bottomMargin:Rt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ln,declare:Ln,event:null,face:null,frame:null,frameBorder:null,hSpace:Rt,leftMargin:Rt,link:null,longDesc:null,lowSrc:null,marginHeight:Rt,marginWidth:Rt,noResize:Ln,noHref:Ln,noShade:Ln,noWrap:Ln,object:null,profile:null,prompt:null,rev:null,rightMargin:Rt,rules:null,scheme:null,scrolling:Ci,standby:null,summary:null,text:null,topMargin:Rt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Rt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ln,disableRemotePlayback:Ln,prefix:null,property:null,results:Rt,security:null,unselectable:null},space:"html",transform:ire}),htt=Vy({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:El,accentHeight:Rt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Rt,amplitude:Rt,arabicForm:null,ascent:Rt,attributeName:null,attributeType:null,azimuth:Rt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Rt,by:null,calcMode:null,capHeight:Rt,className:ea,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Rt,diffuseConstant:Rt,direction:null,display:null,dur:null,divisor:Rt,dominantBaseline:null,download:Ln,dx:null,dy:null,edgeMode:null,editable:null,elevation:Rt,enableBackground:null,end:null,event:null,exponent:Rt,externalResourcesRequired:null,fill:null,fillOpacity:Rt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:X1,g2:X1,glyphName:X1,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Rt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Rt,horizOriginX:Rt,horizOriginY:Rt,id:null,ideographic:Rt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Rt,k:Rt,k1:Rt,k2:Rt,k3:Rt,k4:Rt,kernelMatrix:El,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Rt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Rt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Rt,overlineThickness:Rt,paintOrder:null,panose1:null,path:null,pathLength:Rt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ea,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Rt,pointsAtY:Rt,pointsAtZ:Rt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:El,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:El,rev:El,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:El,requiredFeatures:El,requiredFonts:El,requiredFormats:El,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Rt,specularExponent:Rt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Rt,strikethroughThickness:Rt,string:null,stroke:null,strokeDashArray:El,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Rt,strokeOpacity:Rt,strokeWidth:null,style:null,surfaceScale:Rt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:El,tabIndex:Rt,tableValues:null,target:null,targetX:Rt,targetY:Rt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:El,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Rt,underlineThickness:Rt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Rt,values:null,vAlphabetic:Rt,vMathematical:Rt,vectorEffect:null,vHanging:Rt,vIdeographic:Rt,version:null,vertAdvY:Rt,vertOriginX:Rt,vertOriginY:Rt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Rt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:are}),sre=Vy({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),ore=Vy({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ire}),lre=Vy({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),ptt={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},mtt=/[A-Z]/g,vW=/-[a-z]/g,gtt=/^data[-\w.:]+$/i;function iM(t,e){const n=zv(e);let r=e,a=ol;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&gtt.test(e)){if(e.charAt(4)==="-"){const i=e.slice(5).replace(vW,btt);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=e.slice(4);if(!vW.test(i)){let s=i.replace(mtt,ytt);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}a=aM}return new a(r,e)}function ytt(t){return"-"+t.toLowerCase()}function btt(t){return t.charAt(1).toUpperCase()}const zw=nre([rre,ftt,sre,ore,lre],"html"),Wy=nre([rre,htt,sre,ore,lre],"svg");function SW(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function cre(t){return t.join(" ").trim()}var E1={},q7,_W;function xtt(){if(_W)return q7;_W=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,o=/^\s+|\s+$/g,l=`
`,u="/",d="*",h="",m="comment",y="declaration";q7=function(v,_){if(typeof v!="string")throw new TypeError("First argument must be a string");if(!v)return[];_=_||{};var C=1,w=1;function T($){var D=$.match(e);D&&(C+=D.length);var U=$.lastIndexOf(l);w=~U?$.length-U:w+$.length}function E(){var $={line:C,column:w};return function(D){return D.position=new I($),L(),D}}function I($){this.start=$,this.end={line:C,column:w},this.source=_.source}I.prototype.content=v;function j($){var D=new Error(_.source+":"+C+":"+w+": "+$);if(D.reason=$,D.filename=_.source,D.line=C,D.column=w,D.source=v,!_.silent)throw D}function O($){var D=$.exec(v);if(D){var U=D[0];return T(U),v=v.slice(U.length),D}}function L(){O(n)}function N($){var D;for($=$||[];D=M();)D!==!1&&$.push(D);return $}function M(){var $=E();if(!(u!=v.charAt(0)||d!=v.charAt(1))){for(var D=2;h!=v.charAt(D)&&(d!=v.charAt(D)||u!=v.charAt(D+1));)++D;if(D+=2,h===v.charAt(D-1))return j("End of comment missing");var U=v.slice(2,D-2);return w+=2,T(U),v=v.slice(D),w+=2,$({type:m,comment:U})}}function H(){var $=E(),D=O(r);if(D){if(M(),!O(a))return j("property missing ':'");var U=O(i),F=$({type:y,property:x(D[0].replace(t,h)),value:U?x(U[0].replace(t,h)):h});return O(s),F}}function P(){var $=[];N($);for(var D;D=H();)D!==!1&&($.push(D),N($));return $}return L(),P()};function x(v){return v?v.replace(o,h):h}return q7}var CW;function vtt(){if(CW)return E1;CW=1;var t=E1&&E1.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(E1,"__esModule",{value:!0}),E1.default=n;const e=t(xtt());function n(r,a){let i=null;if(!r||typeof r!="string")return i;const s=(0,e.default)(r),o=typeof a=="function";return s.forEach(l=>{if(l.type!=="declaration")return;const{property:u,value:d}=l;o?a(u,d,l):d&&(i=i||{},i[u]=d)}),i}return E1}var Xx={},wW;function Stt(){if(wW)return Xx;wW=1,Object.defineProperty(Xx,"__esModule",{value:!0}),Xx.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,i=function(u){return!u||n.test(u)||t.test(u)},s=function(u,d){return d.toUpperCase()},o=function(u,d){return"".concat(d,"-")},l=function(u,d){return d===void 0&&(d={}),i(u)?u:(u=u.toLowerCase(),d.reactCompat?u=u.replace(a,o):u=u.replace(r,o),u.replace(e,s))};return Xx.camelCase=l,Xx}var Qx,EW;function _tt(){if(EW)return Qx;EW=1;var t=Qx&&Qx.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},e=t(vtt()),n=Stt();function r(a,i){var s={};return!a||typeof a!="string"||(0,e.default)(a,function(o,l){o&&l&&(s[(0,n.camelCase)(o,i)]=l)}),s}return r.default=r,Qx=r,Qx}var Ctt=_tt();const wtt=Qf(Ctt),Fw=ure("end"),Kd=ure("start");function ure(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function dre(t){const e=Kd(t),n=Fw(t);if(e&&n)return{start:e,end:n}}function G2(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?TW(t.position):"start"in t||"end"in t?TW(t):"line"in t||"column"in t?xj(t):""}function xj(t){return AW(t&&t.line)+":"+AW(t&&t.column)}function TW(t){return xj(t&&t.start)+"-"+xj(t&&t.end)}function AW(t){return t&&typeof t=="number"?t:1}class Ws extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},s=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof e=="string"?a=e:!i.cause&&e&&(s=!0,a=e.message,i.cause=e),!i.ruleId&&!i.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const o=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=o?o.line:void 0,this.name=G2(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=s&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ws.prototype.file="";Ws.prototype.name="";Ws.prototype.reason="";Ws.prototype.message="";Ws.prototype.stack="";Ws.prototype.column=void 0;Ws.prototype.line=void 0;Ws.prototype.ancestors=void 0;Ws.prototype.cause=void 0;Ws.prototype.fatal=void 0;Ws.prototype.place=void 0;Ws.prototype.ruleId=void 0;Ws.prototype.source=void 0;const sM={}.hasOwnProperty,Ett=new Map,Ttt=/[A-Z]/g,Att=new Set(["table","tbody","thead","tfoot","tr"]),Rtt=new Set(["td","th"]),fre="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function ktt(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Ltt(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Ptt(n,e.jsx,e.jsxs)}const a={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Wy:zw,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},i=hre(a,t,void 0);return i&&typeof i!="string"?i:a.create(t,a.Fragment,{children:i||void 0},void 0)}function hre(t,e,n){if(e.type==="element")return Itt(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return jtt(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Dtt(t,e,n);if(e.type==="mdxjsEsm")return Ott(t,e);if(e.type==="root")return Mtt(t,e,n);if(e.type==="text")return Ntt(t,e)}function Itt(t,e,n){const r=t.schema;let a=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=Wy,t.schema=a),t.ancestors.push(e);const i=mre(t,e.tagName,!1),s=ztt(t,e);let o=lM(t,e);return Att.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!utt(l):!0})),pre(t,s,i,e),oM(s,o),t.ancestors.pop(),t.schema=r,t.create(e,i,s,n)}function jtt(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Fv(t,e.position)}function Ott(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Fv(t,e.position)}function Dtt(t,e,n){const r=t.schema;let a=r;e.name==="svg"&&r.space==="html"&&(a=Wy,t.schema=a),t.ancestors.push(e);const i=e.name===null?t.Fragment:mre(t,e.name,!0),s=Ftt(t,e),o=lM(t,e);return pre(t,s,i,e),oM(s,o),t.ancestors.pop(),t.schema=r,t.create(e,i,s,n)}function Mtt(t,e,n){const r={};return oM(r,lM(t,e)),t.create(e,t.Fragment,r,n)}function Ntt(t,e){return e.value}function pre(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function oM(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Ptt(t,e,n){return r;function r(a,i,s,o){const u=Array.isArray(s.children)?n:e;return o?u(i,s,o):u(i,s)}}function Ltt(t,e){return n;function n(r,a,i,s){const o=Array.isArray(i.children),l=Kd(r);return e(a,i,s,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function ztt(t,e){const n={};let r,a;for(a in e.properties)if(a!=="children"&&sM.call(e.properties,a)){const i=Btt(t,a,e.properties[a]);if(i){const[s,o]=i;t.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&Rtt.has(e.tagName)?r=o:n[s]=o}}if(r){const i=n.style||(n.style={});i[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Ftt(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const i=r.data.estree.body[0];i.type;const s=i.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else Fv(t,e.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,i=t.evaluater.evaluateExpression(o.expression)}else Fv(t,e.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function lM(t,e){const n=[];let r=-1;const a=t.passKeys?new Map:Ett;for(;++r<e.children.length;){const i=e.children[r];let s;if(t.passKeys){const l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){const u=a.get(l)||0;s=l+"-"+u,a.set(l,u+1)}}const o=hre(t,i,s);o!==void 0&&n.push(o)}return n}function Btt(t,e,n){const r=iM(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?tre(n):cre(n)),r.property==="style"){let a=typeof n=="object"?n:Htt(t,String(n));return t.stylePropertyNameCase==="css"&&(a=Utt(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&r.space?ptt[r.property]||r.property:r.attribute,n]}}function Htt(t,e){try{return wtt(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,a=new Ws("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=fre+"#cannot-parse-style-attribute",a}}function mre(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const a=e.split(".");let i=-1,s;for(;++i<a.length;){const o=yW(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(i&&o.type==="Literal"),optional:!1}:o}r=s}else r=yW(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const a=r.value;return sM.call(t.components,a)?t.components[a]:a}if(t.evaluater)return t.evaluater.evaluateExpression(r);Fv(t)}function Fv(t,e){const n=new Ws("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=fre+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Utt(t){const e={};let n;for(n in t)sM.call(t,n)&&(e[$tt(n)]=t[n]);return e}function $tt(t){let e=t.replace(Ttt,Gtt);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Gtt(t){return"-"+t.toLowerCase()}const V7={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},qtt={};function cM(t,e){const n=qtt,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return gre(t,r,a)}function gre(t,e,n){if(Vtt(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return RW(t.children,e,n)}return Array.isArray(t)?RW(t,e,n):""}function RW(t,e,n){const r=[];let a=-1;for(;++a<t.length;)r[a]=gre(t[a],e,n);return r.join("")}function Vtt(t){return!!(t&&typeof t=="object")}const kW=document.createElement("i");function uM(t){const e="&"+t+";";kW.innerHTML=e;const n=kW.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Ol(t,e,n,r){const a=t.length;let i=0,s;if(e<0?e=-e>a?0:a+e:e=e>a?a:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);i<r.length;)s=r.slice(i,i+1e4),s.unshift(e,0),t.splice(...s),i+=1e4,e+=1e4}function _c(t,e){return t.length>0?(Ol(t,t.length,0,e),t):e}const IW={}.hasOwnProperty;function yre(t){const e={};let n=-1;for(;++n<t.length;)Wtt(e,t[n]);return e}function Wtt(t,e){let n;for(n in e){const a=(IW.call(t,n)?t[n]:void 0)||(t[n]={}),i=e[n];let s;if(i)for(s in i){IW.call(a,s)||(a[s]=[]);const o=i[s];Ytt(a[s],Array.isArray(o)?o:o?[o]:[])}}}function Ytt(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Ol(t,0,0,r)}function bre(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function _u(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const So=Yp(/[A-Za-z]/),Us=Yp(/[\dA-Za-z]/),Ktt=Yp(/[#-'*+\--9=?A-Z^-~]/);function KC(t){return t!==null&&(t<32||t===127)}const vj=Yp(/\d/),Xtt=Yp(/[\dA-Fa-f]/),Qtt=Yp(/[!-/:-@[-`{-~]/);function fn(t){return t!==null&&t<-2}function Vr(t){return t!==null&&(t<0||t===32)}function Jn(t){return t===-2||t===-1||t===32}const Bw=Yp(new RegExp("\\p{P}|\\p{S}","u")),Mg=Yp(/\s/);function Yp(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Yy(t){const e=[];let n=-1,r=0,a=0;for(;++n<t.length;){const i=t.charCodeAt(n);let s="";if(i===37&&Us(t.charCodeAt(n+1))&&Us(t.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(s=String.fromCharCode(i));else if(i>55295&&i<57344){const o=t.charCodeAt(n+1);i<56320&&o>56319&&o<57344?(s=String.fromCharCode(i,o),a=1):s=""}else s=String.fromCharCode(i);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+a+1,s=""),a&&(n+=a,a=0)}return e.join("")+t.slice(r)}function fr(t,e,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return s;function s(l){return Jn(l)?(t.enter(n),o(l)):e(l)}function o(l){return Jn(l)&&i++<a?(t.consume(l),o):(t.exit(n),e(l))}}const Ztt={tokenize:Jtt};function Jtt(t){const e=t.attempt(this.parser.constructs.contentInitial,r,a);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),fr(t,e,"linePrefix")}function a(o){return t.enter("paragraph"),i(o)}function i(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return fn(o)?(t.consume(o),t.exit("chunkText"),i):(t.consume(o),s)}}const ent={tokenize:tnt},jW={tokenize:nnt};function tnt(t){const e=this,n=[];let r=0,a,i,s;return o;function o(T){if(r<n.length){const E=n[r];return e.containerState=E[1],t.attempt(E[0].continuation,l,u)(T)}return u(T)}function l(T){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,a&&w();const E=e.events.length;let I=E,j;for(;I--;)if(e.events[I][0]==="exit"&&e.events[I][1].type==="chunkFlow"){j=e.events[I][1].end;break}C(r);let O=E;for(;O<e.events.length;)e.events[O][1].end={...j},O++;return Ol(e.events,I+1,0,e.events.slice(E)),e.events.length=O,u(T)}return o(T)}function u(T){if(r===n.length){if(!a)return m(T);if(a.currentConstruct&&a.currentConstruct.concrete)return x(T);e.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(jW,d,h)(T)}function d(T){return a&&w(),C(r),m(T)}function h(T){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,x(T)}function m(T){return e.containerState={},t.attempt(jW,y,x)(T)}function y(T){return r++,n.push([e.currentConstruct,e.containerState]),m(T)}function x(T){if(T===null){a&&w(),C(0),t.consume(T);return}return a=a||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),v(T)}function v(T){if(T===null){_(t.exit("chunkFlow"),!0),C(0),t.consume(T);return}return fn(T)?(t.consume(T),_(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(T),v)}function _(T,E){const I=e.sliceStream(T);if(E&&I.push(null),T.previous=i,i&&(i.next=T),i=T,a.defineSkip(T.start),a.write(I),e.parser.lazy[T.start.line]){let j=a.events.length;for(;j--;)if(a.events[j][1].start.offset<s&&(!a.events[j][1].end||a.events[j][1].end.offset>s))return;const O=e.events.length;let L=O,N,M;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type==="chunkFlow"){if(N){M=e.events[L][1].end;break}N=!0}for(C(r),j=O;j<e.events.length;)e.events[j][1].end={...M},j++;Ol(e.events,L+1,0,e.events.slice(O)),e.events.length=j}}function C(T){let E=n.length;for(;E-- >T;){const I=n[E];e.containerState=I[1],I[0].exit.call(e,t)}n.length=T}function w(){a.write([null]),i=void 0,a=void 0,e.containerState._closeFlow=void 0}}function nnt(t,e,n){return fr(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function by(t){if(t===null||Vr(t)||Mg(t))return 1;if(Bw(t))return 2}function Hw(t,e,n){const r=[];let a=-1;for(;++a<t.length;){const i=t[a].resolveAll;i&&!r.includes(i)&&(e=i(e,n),r.push(i))}return e}const Sj={name:"attention",resolveAll:rnt,tokenize:ant};function rnt(t,e){let n=-1,r,a,i,s,o,l,u,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h={...t[r][1].end},m={...t[n][1].start};OW(h,-l),OW(m,l),s={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...t[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:m},i={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},a={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},t[r][1].end={...s.start},t[n][1].start={...o.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=_c(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=_c(u,[["enter",a,e],["enter",s,e],["exit",s,e],["enter",i,e]]),u=_c(u,Hw(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=_c(u,[["exit",i,e],["enter",o,e],["exit",o,e],["exit",a,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,u=_c(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,Ol(t,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function ant(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=by(r);let i;return s;function s(l){return i=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===i)return t.consume(l),o;const u=t.exit("attentionSequence"),d=by(l),h=!d||d===2&&a||n.includes(l),m=!a||a===2&&d||n.includes(r);return u._open=!!(i===42?h:h&&(a||!m)),u._close=!!(i===42?m:m&&(d||!h)),e(l)}}function OW(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const int={name:"autolink",tokenize:snt};function snt(t,e,n){let r=0;return a;function a(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),i}function i(y){return So(y)?(t.consume(y),s):y===64?n(y):u(y)}function s(y){return y===43||y===45||y===46||Us(y)?(r=1,o(y)):u(y)}function o(y){return y===58?(t.consume(y),r=0,l):(y===43||y===45||y===46||Us(y))&&r++<32?(t.consume(y),o):(r=0,u(y))}function l(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):y===null||y===32||y===60||KC(y)?n(y):(t.consume(y),l)}function u(y){return y===64?(t.consume(y),d):Ktt(y)?(t.consume(y),u):n(y)}function d(y){return Us(y)?h(y):n(y)}function h(y){return y===46?(t.consume(y),r=0,d):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):m(y)}function m(y){if((y===45||Us(y))&&r++<63){const x=y===45?m:h;return t.consume(y),x}return n(y)}}const ES={partial:!0,tokenize:ont};function ont(t,e,n){return r;function r(i){return Jn(i)?fr(t,a,"linePrefix")(i):a(i)}function a(i){return i===null||fn(i)?e(i):n(i)}}const xre={continuation:{tokenize:cnt},exit:unt,name:"blockQuote",tokenize:lnt};function lnt(t,e,n){const r=this;return a;function a(s){if(s===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),i}return n(s)}function i(s){return Jn(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function cnt(t,e,n){const r=this;return a;function a(s){return Jn(s)?fr(t,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):i(s)}function i(s){return t.attempt(xre,e,n)(s)}}function unt(t){t.exit("blockQuote")}const vre={name:"characterEscape",tokenize:dnt};function dnt(t,e,n){return r;function r(i){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(i),t.exit("escapeMarker"),a}function a(i){return Qtt(i)?(t.enter("characterEscapeValue"),t.consume(i),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(i)}}const Sre={name:"characterReference",tokenize:fnt};function fnt(t,e,n){const r=this;let a=0,i,s;return o;function o(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),l}function l(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),i=31,s=Us,d(h))}function u(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),i=6,s=Xtt,d):(t.enter("characterReferenceValue"),i=7,s=vj,d(h))}function d(h){if(h===59&&a){const m=t.exit("characterReferenceValue");return s===Us&&!uM(r.sliceSerialize(m))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(h)&&a++<i?(t.consume(h),d):n(h)}}const DW={partial:!0,tokenize:pnt},MW={concrete:!0,name:"codeFenced",tokenize:hnt};function hnt(t,e,n){const r=this,a={partial:!0,tokenize:I};let i=0,s=0,o;return l;function l(j){return u(j)}function u(j){const O=r.events[r.events.length-1];return i=O&&O[1].type==="linePrefix"?O[2].sliceSerialize(O[1],!0).length:0,o=j,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(j)}function d(j){return j===o?(s++,t.consume(j),d):s<3?n(j):(t.exit("codeFencedFenceSequence"),Jn(j)?fr(t,h,"whitespace")(j):h(j))}function h(j){return j===null||fn(j)?(t.exit("codeFencedFence"),r.interrupt?e(j):t.check(DW,v,E)(j)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(j))}function m(j){return j===null||fn(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(j)):Jn(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),fr(t,y,"whitespace")(j)):j===96&&j===o?n(j):(t.consume(j),m)}function y(j){return j===null||fn(j)?h(j):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(j))}function x(j){return j===null||fn(j)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(j)):j===96&&j===o?n(j):(t.consume(j),x)}function v(j){return t.attempt(a,E,_)(j)}function _(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),C}function C(j){return i>0&&Jn(j)?fr(t,w,"linePrefix",i+1)(j):w(j)}function w(j){return j===null||fn(j)?t.check(DW,v,E)(j):(t.enter("codeFlowValue"),T(j))}function T(j){return j===null||fn(j)?(t.exit("codeFlowValue"),w(j)):(t.consume(j),T)}function E(j){return t.exit("codeFenced"),e(j)}function I(j,O,L){let N=0;return M;function M(U){return j.enter("lineEnding"),j.consume(U),j.exit("lineEnding"),H}function H(U){return j.enter("codeFencedFence"),Jn(U)?fr(j,P,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):P(U)}function P(U){return U===o?(j.enter("codeFencedFenceSequence"),$(U)):L(U)}function $(U){return U===o?(N++,j.consume(U),$):N>=s?(j.exit("codeFencedFenceSequence"),Jn(U)?fr(j,D,"whitespace")(U):D(U)):L(U)}function D(U){return U===null||fn(U)?(j.exit("codeFencedFence"),O(U)):L(U)}}}function pnt(t,e,n){const r=this;return a;function a(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i)}function i(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const W7={name:"codeIndented",tokenize:gnt},mnt={partial:!0,tokenize:ynt};function gnt(t,e,n){const r=this;return a;function a(u){return t.enter("codeIndented"),fr(t,i,"linePrefix",5)(u)}function i(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):fn(u)?t.attempt(mnt,s,l)(u):(t.enter("codeFlowValue"),o(u))}function o(u){return u===null||fn(u)?(t.exit("codeFlowValue"),s(u)):(t.consume(u),o)}function l(u){return t.exit("codeIndented"),e(u)}}function ynt(t,e,n){const r=this;return a;function a(s){return r.parser.lazy[r.now().line]?n(s):fn(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):fr(t,i,"linePrefix",5)(s)}function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):fn(s)?a(s):n(s)}}const bnt={name:"codeText",previous:vnt,resolve:xnt,tokenize:Snt};function xnt(t){let e=t.length-4,n=3,r,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)a===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(a=r):(r===e||t[r][1].type==="lineEnding")&&(t[a][1].type="codeTextData",r!==a+2&&(t[a][1].end=t[r-1][1].end,t.splice(a+2,r-a-2),e-=r-a-2,r=a+2),a=void 0);return t}function vnt(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Snt(t,e,n){let r=0,a,i;return s;function s(h){return t.enter("codeText"),t.enter("codeTextSequence"),o(h)}function o(h){return h===96?(t.consume(h),r++,o):(t.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),l):h===96?(i=t.enter("codeTextSequence"),a=0,d(h)):fn(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||fn(h)?(t.exit("codeTextData"),l(h)):(t.consume(h),u)}function d(h){return h===96?(t.consume(h),a++,d):a===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(i.type="codeTextData",u(h))}}class _nt{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const a=n||0;this.setCursor(Math.trunc(e));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&Zx(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Zx(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Zx(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Zx(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Zx(this.left,n.reverse())}}}function Zx(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function _re(t){const e={};let n=-1,r,a,i,s,o,l,u;const d=new _nt(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Cnt(d,n)),n=e[n],u=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(s=d.get(i),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),s[1].type="lineEnding",a=i);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;a&&(r[1].end={...d.get(a)[1].start},o=d.slice(a,n),o.unshift(r),d.splice(a,n-a+1,o))}}return Ol(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function Cnt(t,e){const n=t.get(e)[1],r=t.get(e)[2];let a=e-1;const i=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],u={};let d,h,m=-1,y=n,x=0,v=0;const _=[v];for(;y;){for(;t.get(++a)[1]!==y;);i.push(a),y._tokenizer||(d=r.sliceStream(y),y.next||d.push(null),h&&s.defineSkip(y.start),y._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),y._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),h=y,y=y.next}for(y=n;++m<o.length;)o[m][0]==="exit"&&o[m-1][0]==="enter"&&o[m][1].type===o[m-1][1].type&&o[m][1].start.line!==o[m][1].end.line&&(v=m+1,_.push(v),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(s.events=[],y?(y._tokenizer=void 0,y.previous=void 0):_.pop(),m=_.length;m--;){const C=o.slice(_[m],_[m+1]),w=i.pop();l.push([w,w+C.length-1]),t.splice(w,2,C)}for(l.reverse(),m=-1;++m<l.length;)u[x+l[m][0]]=x+l[m][1],x+=l[m][1]-l[m][0]-1;return u}const wnt={resolve:Tnt,tokenize:Ant},Ent={partial:!0,tokenize:Rnt};function Tnt(t){return _re(t),t}function Ant(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(o)}function a(o){return o===null?i(o):fn(o)?t.check(Ent,s,i)(o):(t.consume(o),a)}function i(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function s(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function Rnt(t,e,n){const r=this;return a;function a(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),fr(t,i,"linePrefix")}function i(s){if(s===null||fn(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function Cre(t,e,n,r,a,i,s,o,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return h;function h(C){return C===60?(t.enter(r),t.enter(a),t.enter(i),t.consume(C),t.exit(i),m):C===null||C===32||C===41||KC(C)?n(C):(t.enter(r),t.enter(s),t.enter(o),t.enter("chunkString",{contentType:"string"}),v(C))}function m(C){return C===62?(t.enter(i),t.consume(C),t.exit(i),t.exit(a),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),y(C))}function y(C){return C===62?(t.exit("chunkString"),t.exit(o),m(C)):C===null||C===60||fn(C)?n(C):(t.consume(C),C===92?x:y)}function x(C){return C===60||C===62||C===92?(t.consume(C),y):y(C)}function v(C){return!d&&(C===null||C===41||Vr(C))?(t.exit("chunkString"),t.exit(o),t.exit(s),t.exit(r),e(C)):d<u&&C===40?(t.consume(C),d++,v):C===41?(t.consume(C),d--,v):C===null||C===32||C===40||KC(C)?n(C):(t.consume(C),C===92?_:v)}function _(C){return C===40||C===41||C===92?(t.consume(C),v):v(C)}}function wre(t,e,n,r,a,i){const s=this;let o=0,l;return u;function u(y){return t.enter(r),t.enter(a),t.consume(y),t.exit(a),t.enter(i),d}function d(y){return o>999||y===null||y===91||y===93&&!l||y===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(y):y===93?(t.exit(i),t.enter(a),t.consume(y),t.exit(a),t.exit(r),e):fn(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===null||y===91||y===93||fn(y)||o++>999?(t.exit("chunkString"),d(y)):(t.consume(y),l||(l=!Jn(y)),y===92?m:h)}function m(y){return y===91||y===92||y===93?(t.consume(y),o++,h):h(y)}}function Ere(t,e,n,r,a,i){let s;return o;function o(m){return m===34||m===39||m===40?(t.enter(r),t.enter(a),t.consume(m),t.exit(a),s=m===40?41:m,l):n(m)}function l(m){return m===s?(t.enter(a),t.consume(m),t.exit(a),t.exit(r),e):(t.enter(i),u(m))}function u(m){return m===s?(t.exit(i),l(s)):m===null?n(m):fn(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),fr(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===s||m===null||fn(m)?(t.exit("chunkString"),u(m)):(t.consume(m),m===92?h:d)}function h(m){return m===s||m===92?(t.consume(m),d):d(m)}}function q2(t,e){let n;return r;function r(a){return fn(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,r):Jn(a)?fr(t,r,n?"linePrefix":"lineSuffix")(a):e(a)}}const knt={name:"definition",tokenize:jnt},Int={partial:!0,tokenize:Ont};function jnt(t,e,n){const r=this;let a;return i;function i(y){return t.enter("definition"),s(y)}function s(y){return wre.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function o(y){return a=_u(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),l):n(y)}function l(y){return Vr(y)?q2(t,u)(y):u(y)}function u(y){return Cre(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function d(y){return t.attempt(Int,h,h)(y)}function h(y){return Jn(y)?fr(t,m,"whitespace")(y):m(y)}function m(y){return y===null||fn(y)?(t.exit("definition"),r.parser.defined.push(a),e(y)):n(y)}}function Ont(t,e,n){return r;function r(o){return Vr(o)?q2(t,a)(o):n(o)}function a(o){return Ere(t,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function i(o){return Jn(o)?fr(t,s,"whitespace")(o):s(o)}function s(o){return o===null||fn(o)?e(o):n(o)}}const Dnt={name:"hardBreakEscape",tokenize:Mnt};function Mnt(t,e,n){return r;function r(i){return t.enter("hardBreakEscape"),t.consume(i),a}function a(i){return fn(i)?(t.exit("hardBreakEscape"),e(i)):n(i)}}const Nnt={name:"headingAtx",resolve:Pnt,tokenize:Lnt};function Pnt(t,e){let n=t.length-2,r=3,a,i;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},i={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Ol(t,r,n-r+1,[["enter",a,e],["enter",i,e],["exit",i,e],["exit",a,e]])),t}function Lnt(t,e,n){let r=0;return a;function a(d){return t.enter("atxHeading"),i(d)}function i(d){return t.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(t.consume(d),s):d===null||Vr(d)?(t.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(t.enter("atxHeadingSequence"),l(d)):d===null||fn(d)?(t.exit("atxHeading"),e(d)):Jn(d)?fr(t,o,"whitespace")(d):(t.enter("atxHeadingText"),u(d))}function l(d){return d===35?(t.consume(d),l):(t.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||Vr(d)?(t.exit("atxHeadingText"),o(d)):(t.consume(d),u)}}const znt=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],NW=["pre","script","style","textarea"],Fnt={concrete:!0,name:"htmlFlow",resolveTo:Unt,tokenize:$nt},Bnt={partial:!0,tokenize:qnt},Hnt={partial:!0,tokenize:Gnt};function Unt(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function $nt(t,e,n){const r=this;let a,i,s,o,l;return u;function u(q){return d(q)}function d(q){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(q),h}function h(q){return q===33?(t.consume(q),m):q===47?(t.consume(q),i=!0,v):q===63?(t.consume(q),a=3,r.interrupt?e:K):So(q)?(t.consume(q),s=String.fromCharCode(q),_):n(q)}function m(q){return q===45?(t.consume(q),a=2,y):q===91?(t.consume(q),a=5,o=0,x):So(q)?(t.consume(q),a=4,r.interrupt?e:K):n(q)}function y(q){return q===45?(t.consume(q),r.interrupt?e:K):n(q)}function x(q){const te="CDATA[";return q===te.charCodeAt(o++)?(t.consume(q),o===te.length?r.interrupt?e:P:x):n(q)}function v(q){return So(q)?(t.consume(q),s=String.fromCharCode(q),_):n(q)}function _(q){if(q===null||q===47||q===62||Vr(q)){const te=q===47,ae=s.toLowerCase();return!te&&!i&&NW.includes(ae)?(a=1,r.interrupt?e(q):P(q)):znt.includes(s.toLowerCase())?(a=6,te?(t.consume(q),C):r.interrupt?e(q):P(q)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(q):i?w(q):T(q))}return q===45||Us(q)?(t.consume(q),s+=String.fromCharCode(q),_):n(q)}function C(q){return q===62?(t.consume(q),r.interrupt?e:P):n(q)}function w(q){return Jn(q)?(t.consume(q),w):M(q)}function T(q){return q===47?(t.consume(q),M):q===58||q===95||So(q)?(t.consume(q),E):Jn(q)?(t.consume(q),T):M(q)}function E(q){return q===45||q===46||q===58||q===95||Us(q)?(t.consume(q),E):I(q)}function I(q){return q===61?(t.consume(q),j):Jn(q)?(t.consume(q),I):T(q)}function j(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(t.consume(q),l=q,O):Jn(q)?(t.consume(q),j):L(q)}function O(q){return q===l?(t.consume(q),l=null,N):q===null||fn(q)?n(q):(t.consume(q),O)}function L(q){return q===null||q===34||q===39||q===47||q===60||q===61||q===62||q===96||Vr(q)?I(q):(t.consume(q),L)}function N(q){return q===47||q===62||Jn(q)?T(q):n(q)}function M(q){return q===62?(t.consume(q),H):n(q)}function H(q){return q===null||fn(q)?P(q):Jn(q)?(t.consume(q),H):n(q)}function P(q){return q===45&&a===2?(t.consume(q),F):q===60&&a===1?(t.consume(q),W):q===62&&a===4?(t.consume(q),V):q===63&&a===3?(t.consume(q),K):q===93&&a===5?(t.consume(q),Q):fn(q)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(Bnt,Z,$)(q)):q===null||fn(q)?(t.exit("htmlFlowData"),$(q)):(t.consume(q),P)}function $(q){return t.check(Hnt,D,Z)(q)}function D(q){return t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),U}function U(q){return q===null||fn(q)?$(q):(t.enter("htmlFlowData"),P(q))}function F(q){return q===45?(t.consume(q),K):P(q)}function W(q){return q===47?(t.consume(q),s="",ee):P(q)}function ee(q){if(q===62){const te=s.toLowerCase();return NW.includes(te)?(t.consume(q),V):P(q)}return So(q)&&s.length<8?(t.consume(q),s+=String.fromCharCode(q),ee):P(q)}function Q(q){return q===93?(t.consume(q),K):P(q)}function K(q){return q===62?(t.consume(q),V):q===45&&a===2?(t.consume(q),K):P(q)}function V(q){return q===null||fn(q)?(t.exit("htmlFlowData"),Z(q)):(t.consume(q),V)}function Z(q){return t.exit("htmlFlow"),e(q)}}function Gnt(t,e,n){const r=this;return a;function a(s){return fn(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):n(s)}function i(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function qnt(t,e,n){return r;function r(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(ES,e,n)}}const Vnt={name:"htmlText",tokenize:Wnt};function Wnt(t,e,n){const r=this;let a,i,s;return o;function o(K){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(K),l}function l(K){return K===33?(t.consume(K),u):K===47?(t.consume(K),I):K===63?(t.consume(K),T):So(K)?(t.consume(K),L):n(K)}function u(K){return K===45?(t.consume(K),d):K===91?(t.consume(K),i=0,x):So(K)?(t.consume(K),w):n(K)}function d(K){return K===45?(t.consume(K),y):n(K)}function h(K){return K===null?n(K):K===45?(t.consume(K),m):fn(K)?(s=h,W(K)):(t.consume(K),h)}function m(K){return K===45?(t.consume(K),y):h(K)}function y(K){return K===62?F(K):K===45?m(K):h(K)}function x(K){const V="CDATA[";return K===V.charCodeAt(i++)?(t.consume(K),i===V.length?v:x):n(K)}function v(K){return K===null?n(K):K===93?(t.consume(K),_):fn(K)?(s=v,W(K)):(t.consume(K),v)}function _(K){return K===93?(t.consume(K),C):v(K)}function C(K){return K===62?F(K):K===93?(t.consume(K),C):v(K)}function w(K){return K===null||K===62?F(K):fn(K)?(s=w,W(K)):(t.consume(K),w)}function T(K){return K===null?n(K):K===63?(t.consume(K),E):fn(K)?(s=T,W(K)):(t.consume(K),T)}function E(K){return K===62?F(K):T(K)}function I(K){return So(K)?(t.consume(K),j):n(K)}function j(K){return K===45||Us(K)?(t.consume(K),j):O(K)}function O(K){return fn(K)?(s=O,W(K)):Jn(K)?(t.consume(K),O):F(K)}function L(K){return K===45||Us(K)?(t.consume(K),L):K===47||K===62||Vr(K)?N(K):n(K)}function N(K){return K===47?(t.consume(K),F):K===58||K===95||So(K)?(t.consume(K),M):fn(K)?(s=N,W(K)):Jn(K)?(t.consume(K),N):F(K)}function M(K){return K===45||K===46||K===58||K===95||Us(K)?(t.consume(K),M):H(K)}function H(K){return K===61?(t.consume(K),P):fn(K)?(s=H,W(K)):Jn(K)?(t.consume(K),H):N(K)}function P(K){return K===null||K===60||K===61||K===62||K===96?n(K):K===34||K===39?(t.consume(K),a=K,$):fn(K)?(s=P,W(K)):Jn(K)?(t.consume(K),P):(t.consume(K),D)}function $(K){return K===a?(t.consume(K),a=void 0,U):K===null?n(K):fn(K)?(s=$,W(K)):(t.consume(K),$)}function D(K){return K===null||K===34||K===39||K===60||K===61||K===96?n(K):K===47||K===62||Vr(K)?N(K):(t.consume(K),D)}function U(K){return K===47||K===62||Vr(K)?N(K):n(K)}function F(K){return K===62?(t.consume(K),t.exit("htmlTextData"),t.exit("htmlText"),e):n(K)}function W(K){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(K),t.exit("lineEnding"),ee}function ee(K){return Jn(K)?fr(t,Q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):Q(K)}function Q(K){return t.enter("htmlTextData"),s(K)}}const dM={name:"labelEnd",resolveAll:Qnt,resolveTo:Znt,tokenize:Jnt},Ynt={tokenize:ert},Knt={tokenize:trt},Xnt={tokenize:nrt};function Qnt(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",e+=a}}return t.length!==n.length&&Ol(t,0,t.length,n),t}function Znt(t,e){let n=t.length,r=0,a,i,s,o;for(;n--;)if(a=t[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(s=n);const l={type:t[i][1].type==="labelLink"?"link":"image",start:{...t[i][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[i][1].start},end:{...t[s][1].end}},d={type:"labelText",start:{...t[i+r+2][1].end},end:{...t[s-2][1].start}};return o=[["enter",l,e],["enter",u,e]],o=_c(o,t.slice(i+1,i+r+3)),o=_c(o,[["enter",d,e]]),o=_c(o,Hw(e.parser.constructs.insideSpan.null,t.slice(i+r+4,s-3),e)),o=_c(o,[["exit",d,e],t[s-2],t[s-1],["exit",u,e]]),o=_c(o,t.slice(s+1)),o=_c(o,[["exit",l,e]]),Ol(t,i,t.length,o),t}function Jnt(t,e,n){const r=this;let a=r.events.length,i,s;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return o;function o(m){return i?i._inactive?h(m):(s=r.parser.defined.includes(_u(r.sliceSerialize({start:i.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelEnd"),l):n(m)}function l(m){return m===40?t.attempt(Ynt,d,s?d:h)(m):m===91?t.attempt(Knt,d,s?u:h)(m):s?d(m):h(m)}function u(m){return t.attempt(Xnt,d,h)(m)}function d(m){return e(m)}function h(m){return i._balanced=!0,n(m)}}function ert(t,e,n){return r;function r(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),a}function a(h){return Vr(h)?q2(t,i)(h):i(h)}function i(h){return h===41?d(h):Cre(t,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function s(h){return Vr(h)?q2(t,l)(h):d(h)}function o(h){return n(h)}function l(h){return h===34||h===39||h===40?Ere(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return Vr(h)?q2(t,d)(h):d(h)}function d(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function trt(t,e,n){const r=this;return a;function a(o){return wre.call(r,t,i,s,"reference","referenceMarker","referenceString")(o)}function i(o){return r.parser.defined.includes(_u(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function s(o){return n(o)}}function nrt(t,e,n){return r;function r(i){return t.enter("reference"),t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),a}function a(i){return i===93?(t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),t.exit("reference"),e):n(i)}}const rrt={name:"labelStartImage",resolveAll:dM.resolveAll,tokenize:art};function art(t,e,n){const r=this;return a;function a(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),i}function i(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const irt={name:"labelStartLink",resolveAll:dM.resolveAll,tokenize:srt};function srt(t,e,n){const r=this;return a;function a(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),i}function i(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const Y7={name:"lineEnding",tokenize:ort};function ort(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),fr(t,e,"linePrefix")}}const G4={name:"thematicBreak",tokenize:lrt};function lrt(t,e,n){let r=0,a;return i;function i(u){return t.enter("thematicBreak"),s(u)}function s(u){return a=u,o(u)}function o(u){return u===a?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||fn(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===a?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),Jn(u)?fr(t,o,"whitespace")(u):o(u))}}const Ko={continuation:{tokenize:frt},exit:prt,name:"list",tokenize:drt},crt={partial:!0,tokenize:mrt},urt={partial:!0,tokenize:hrt};function drt(t,e,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,s=0;return o;function o(y){const x=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:vj(y)){if(r.containerState.type||(r.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(G4,n,u)(y):u(y);if(!r.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(y)}return n(y)}function l(y){return vj(y)&&++s<10?(t.consume(y),l):(!r.interrupt||s<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),u(y)):n(y)}function u(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,t.check(ES,r.interrupt?n:d,t.attempt(crt,m,h))}function d(y){return r.containerState.initialBlankLine=!0,i++,m(y)}function h(y){return Jn(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),m):n(y)}function m(y){return r.containerState.size=i+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}function frt(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(ES,a,i);function a(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,fr(t,e,"listItemIndent",r.containerState.size+1)(o)}function i(o){return r.containerState.furtherBlankLines||!Jn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(urt,e,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,fr(t,t.attempt(Ko,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function hrt(t,e,n){const r=this;return fr(t,a,"listItemIndent",r.containerState.size+1);function a(i){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(i):n(i)}}function prt(t){t.exit(this.containerState.type)}function mrt(t,e,n){const r=this;return fr(t,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const s=r.events[r.events.length-1];return!Jn(i)&&s&&s[1].type==="listItemPrefixWhitespace"?e(i):n(i)}}const PW={name:"setextUnderline",resolveTo:grt,tokenize:yrt};function grt(t,e){let n=t.length,r,a,i;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!i&&t[n][1].type==="definition"&&(i=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",i?(t.splice(a,0,["enter",s,e]),t.splice(i+1,0,["exit",t[r][1],e]),t[r][1].end={...t[i][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function yrt(t,e,n){const r=this;let a;return i;function i(u){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(t.enter("setextHeadingLine"),a=u,s(u)):n(u)}function s(u){return t.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===a?(t.consume(u),o):(t.exit("setextHeadingLineSequence"),Jn(u)?fr(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||fn(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const brt={tokenize:xrt};function xrt(t){const e=this,n=t.attempt(ES,r,t.attempt(this.parser.constructs.flowInitial,a,fr(t,t.attempt(this.parser.constructs.flow,a,t.attempt(wnt,a)),"linePrefix")));return n;function r(i){if(i===null){t.consume(i);return}return t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function a(i){if(i===null){t.consume(i);return}return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const vrt={resolveAll:Are()},Srt=Tre("string"),_rt=Tre("text");function Tre(t){return{resolveAll:Are(t==="text"?Crt:void 0),tokenize:e};function e(n){const r=this,a=this.parser.constructs[t],i=n.attempt(a,s,o);return s;function s(d){return u(d)?i(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),i(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const h=a[d];let m=-1;if(h)for(;++m<h.length;){const y=h[m];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function Are(t){return e;function e(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return t?t(n,r):n}}function Crt(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],a=e.sliceStream(r);let i=a.length,s=-1,o=0,l;for(;i--;){const u=a[i];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(u===-2)l=!0,o++;else if(u!==-1){i++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(o=0),o){const u={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?s:r.start._bufferIndex+s,_index:r.start._index+i,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const wrt={42:Ko,43:Ko,45:Ko,48:Ko,49:Ko,50:Ko,51:Ko,52:Ko,53:Ko,54:Ko,55:Ko,56:Ko,57:Ko,62:xre},Ert={91:knt},Trt={[-2]:W7,[-1]:W7,32:W7},Art={35:Nnt,42:G4,45:[PW,G4],60:Fnt,61:PW,95:G4,96:MW,126:MW},Rrt={38:Sre,92:vre},krt={[-5]:Y7,[-4]:Y7,[-3]:Y7,33:rrt,38:Sre,42:Sj,60:[int,Vnt],91:irt,92:[Dnt,vre],93:dM,95:Sj,96:bnt},Irt={null:[Sj,vrt]},jrt={null:[42,95]},Ort={null:[]},Drt=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:jrt,contentInitial:Ert,disable:Ort,document:wrt,flow:Art,flowInitial:Trt,insideSpan:Irt,string:Rrt,text:krt},Symbol.toStringTag,{value:"Module"}));function Mrt(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let s=[],o=[];const l={attempt:O(I),check:O(j),consume:w,enter:T,exit:E,interrupt:O(j,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:x,parser:t,previous:null,sliceSerialize:m,sliceStream:y,write:h};let d=e.tokenize.call(u,l);return e.resolveAll&&i.push(e),u;function h(H){return s=_c(s,H),_(),s[s.length-1]!==null?[]:(L(e,0),u.events=Hw(i,u.events,u),u.events)}function m(H,P){return Prt(y(H),P)}function y(H){return Nrt(s,H)}function x(){const{_bufferIndex:H,_index:P,line:$,column:D,offset:U}=r;return{_bufferIndex:H,_index:P,line:$,column:D,offset:U}}function v(H){a[H.line]=H.column,M()}function _(){let H;for(;r._index<s.length;){const P=s[r._index];if(typeof P=="string")for(H=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===H&&r._bufferIndex<P.length;)C(P.charCodeAt(r._bufferIndex));else C(P)}}function C(H){d=d(H)}function w(H){fn(H)?(r.line++,r.column=1,r.offset+=H===-3?2:1,M()):H!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=H}function T(H,P){const $=P||{};return $.type=H,$.start=x(),u.events.push(["enter",$,u]),o.push($),$}function E(H){const P=o.pop();return P.end=x(),u.events.push(["exit",P,u]),P}function I(H,P){L(H,P.from)}function j(H,P){P.restore()}function O(H,P){return $;function $(D,U,F){let W,ee,Q,K;return Array.isArray(D)?Z(D):"tokenize"in D?Z([D]):V(D);function V(ie){return ce;function ce(pe){const ge=pe!==null&&ie[pe],oe=pe!==null&&ie.null,ue=[...Array.isArray(ge)?ge:ge?[ge]:[],...Array.isArray(oe)?oe:oe?[oe]:[]];return Z(ue)(pe)}}function Z(ie){return W=ie,ee=0,ie.length===0?F:q(ie[ee])}function q(ie){return ce;function ce(pe){return K=N(),Q=ie,ie.partial||(u.currentConstruct=ie),ie.name&&u.parser.constructs.disable.null.includes(ie.name)?ae():ie.tokenize.call(P?Object.assign(Object.create(u),P):u,l,te,ae)(pe)}}function te(ie){return H(Q,K),U}function ae(ie){return K.restore(),++ee<W.length?q(W[ee]):F}}}function L(H,P){H.resolveAll&&!i.includes(H)&&i.push(H),H.resolve&&Ol(u.events,P,u.events.length-P,H.resolve(u.events.slice(P),u)),H.resolveTo&&(u.events=H.resolveTo(u.events,u))}function N(){const H=x(),P=u.previous,$=u.currentConstruct,D=u.events.length,U=Array.from(o);return{from:D,restore:F};function F(){r=H,u.previous=P,u.currentConstruct=$,u.events.length=D,o=U,M()}}function M(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function Nrt(t,e){const n=e.start._index,r=e.start._bufferIndex,a=e.end._index,i=e.end._bufferIndex;let s;if(n===a)s=[t[n].slice(r,i)];else{if(s=t.slice(n,a),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}i>0&&s.push(t[a].slice(0,i))}return s}function Prt(t,e){let n=-1;const r=[];let a;for(;++n<t.length;){const i=t[n];let s;if(typeof i=="string")s=i;else switch(i){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&a)continue;s=" ";break}default:s=String.fromCharCode(i)}a=i===-2,r.push(s)}return r.join("")}function Lrt(t){const r={constructs:yre([Drt,...(t||{}).extensions||[]]),content:a(Ztt),defined:[],document:a(ent),flow:a(brt),lazy:{},string:a(Srt),text:a(_rt)};return r;function a(i){return s;function s(o){return Mrt(r,i,o)}}}function zrt(t){for(;!_re(t););return t}const LW=/[\0\t\n\r]/g;function Frt(){let t=1,e="",n=!0,r;return a;function a(i,s,o){const l=[];let u,d,h,m,y;for(i=e+(typeof i=="string"?i.toString():new TextDecoder(s||void 0).decode(i)),h=0,e="",n&&(i.charCodeAt(0)===65279&&h++,n=void 0);h<i.length;){if(LW.lastIndex=h,u=LW.exec(i),m=u&&u.index!==void 0?u.index:i.length,y=i.charCodeAt(m),!u){e=i.slice(h);break}if(y===10&&h===m&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<m&&(l.push(i.slice(h,m)),t+=m-h),y){case 0:{l.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,l.push(-2);t++<d;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}h=m+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const Brt=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Hrt(t){return t.replace(Brt,Urt)}function Urt(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),i=a===120||a===88;return bre(n.slice(i?2:1),i?16:10)}return uM(n)||t}const Rre={}.hasOwnProperty;function $rt(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Grt(n)(zrt(Lrt(n).document().write(Frt()(t,e,!0))))}function Grt(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Ne),autolinkProtocol:N,autolinkEmail:N,atxHeading:i(le),blockQuote:i(oe),characterEscape:N,characterReference:N,codeFenced:i(ue),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:i(ue,s),codeText:i(he,s),codeTextData:N,data:N,codeFlowValue:N,definition:i(ve),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:i(me),hardBreakEscape:i(Se),hardBreakTrailing:i(Se),htmlFlow:i(be,s),htmlFlowData:N,htmlText:i(be,s),htmlTextData:N,image:i(Te),label:s,link:i(Ne),listItem:i(Le),listItemValue:m,listOrdered:i(Pe,h),listUnordered:i(Pe),paragraph:i(De),reference:q,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:i(le),strong:i(Xe),thematicBreak:i(Ie)},exit:{atxHeading:l(),atxHeadingSequence:I,autolink:l(),autolinkEmail:ge,autolinkProtocol:pe,blockQuote:l(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:ae,characterReferenceMarkerNumeric:ae,characterReferenceValue:ie,characterReference:ce,codeFenced:l(_),codeFencedFence:v,codeFencedFenceInfo:y,codeFencedFenceMeta:x,codeFlowValue:M,codeIndented:l(C),codeText:l(U),codeTextData:M,data:M,definition:l(),definitionDestinationString:E,definitionLabelString:w,definitionTitleString:T,emphasis:l(),hardBreakEscape:l(P),hardBreakTrailing:l(P),htmlFlow:l($),htmlFlowData:M,htmlText:l(D),htmlTextData:M,image:l(W),label:Q,labelText:ee,lineEnding:H,link:l(F),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:te,resourceDestinationString:K,resourceTitleString:V,resource:Z,setextHeading:l(L),setextHeadingLineSequence:O,setextHeadingText:j,strong:l(),thematicBreak:l()}};kre(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ye){let Ce={type:"root",children:[]};const Me={stack:[Ce],tokenStack:[],config:e,enter:o,exit:u,buffer:s,resume:d,data:n},He=[];let Qe=-1;for(;++Qe<ye.length;)if(ye[Qe][1].type==="listOrdered"||ye[Qe][1].type==="listUnordered")if(ye[Qe][0]==="enter")He.push(Qe);else{const Je=He.pop();Qe=a(ye,Je,Qe)}for(Qe=-1;++Qe<ye.length;){const Je=e[ye[Qe][0]];Rre.call(Je,ye[Qe][1].type)&&Je[ye[Qe][1].type].call(Object.assign({sliceSerialize:ye[Qe][2].sliceSerialize},Me),ye[Qe][1])}if(Me.tokenStack.length>0){const Je=Me.tokenStack[Me.tokenStack.length-1];(Je[1]||zW).call(Me,void 0,Je[0])}for(Ce.position={start:Xh(ye.length>0?ye[0][1].start:{line:1,column:1,offset:0}),end:Xh(ye.length>0?ye[ye.length-2][1].end:{line:1,column:1,offset:0})},Qe=-1;++Qe<e.transforms.length;)Ce=e.transforms[Qe](Ce)||Ce;return Ce}function a(ye,Ce,Me){let He=Ce-1,Qe=-1,Je=!1,Ge,it,rt,st;for(;++He<=Me;){const ft=ye[He];switch(ft[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ft[0]==="enter"?Qe++:Qe--,st=void 0;break}case"lineEndingBlank":{ft[0]==="enter"&&(Ge&&!st&&!Qe&&!rt&&(rt=He),st=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:st=void 0}if(!Qe&&ft[0]==="enter"&&ft[1].type==="listItemPrefix"||Qe===-1&&ft[0]==="exit"&&(ft[1].type==="listUnordered"||ft[1].type==="listOrdered")){if(Ge){let qt=He;for(it=void 0;qt--;){const Gt=ye[qt];if(Gt[1].type==="lineEnding"||Gt[1].type==="lineEndingBlank"){if(Gt[0]==="exit")continue;it&&(ye[it][1].type="lineEndingBlank",Je=!0),Gt[1].type="lineEnding",it=qt}else if(!(Gt[1].type==="linePrefix"||Gt[1].type==="blockQuotePrefix"||Gt[1].type==="blockQuotePrefixWhitespace"||Gt[1].type==="blockQuoteMarker"||Gt[1].type==="listItemIndent"))break}rt&&(!it||rt<it)&&(Ge._spread=!0),Ge.end=Object.assign({},it?ye[it][1].start:ft[1].end),ye.splice(it||He,0,["exit",Ge,ft[2]]),He++,Me++}if(ft[1].type==="listItemPrefix"){const qt={type:"listItem",_spread:!1,start:Object.assign({},ft[1].start),end:void 0};Ge=qt,ye.splice(He,0,["enter",qt,ft[2]]),He++,Me++,rt=void 0,st=!0}}}return ye[Ce][1]._spread=Je,Me}function i(ye,Ce){return Me;function Me(He){o.call(this,ye(He),He),Ce&&Ce.call(this,He)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(ye,Ce,Me){this.stack[this.stack.length-1].children.push(ye),this.stack.push(ye),this.tokenStack.push([Ce,Me||void 0]),ye.position={start:Xh(Ce.start),end:void 0}}function l(ye){return Ce;function Ce(Me){ye&&ye.call(this,Me),u.call(this,Me)}}function u(ye,Ce){const Me=this.stack.pop(),He=this.tokenStack.pop();if(He)He[0].type!==ye.type&&(Ce?Ce.call(this,ye,He[0]):(He[1]||zW).call(this,ye,He[0]));else throw new Error("Cannot close `"+ye.type+"` ("+G2({start:ye.start,end:ye.end})+"): its not open");Me.position.end=Xh(ye.end)}function d(){return cM(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function m(ye){if(this.data.expectingFirstListItemValue){const Ce=this.stack[this.stack.length-2];Ce.start=Number.parseInt(this.sliceSerialize(ye),10),this.data.expectingFirstListItemValue=void 0}}function y(){const ye=this.resume(),Ce=this.stack[this.stack.length-1];Ce.lang=ye}function x(){const ye=this.resume(),Ce=this.stack[this.stack.length-1];Ce.meta=ye}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const ye=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ye.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){const ye=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ye.replace(/(\r?\n|\r)$/g,"")}function w(ye){const Ce=this.resume(),Me=this.stack[this.stack.length-1];Me.label=Ce,Me.identifier=_u(this.sliceSerialize(ye)).toLowerCase()}function T(){const ye=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=ye}function E(){const ye=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=ye}function I(ye){const Ce=this.stack[this.stack.length-1];if(!Ce.depth){const Me=this.sliceSerialize(ye).length;Ce.depth=Me}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function O(ye){const Ce=this.stack[this.stack.length-1];Ce.depth=this.sliceSerialize(ye).codePointAt(0)===61?1:2}function L(){this.data.setextHeadingSlurpLineEnding=void 0}function N(ye){const Me=this.stack[this.stack.length-1].children;let He=Me[Me.length-1];(!He||He.type!=="text")&&(He=ke(),He.position={start:Xh(ye.start),end:void 0},Me.push(He)),this.stack.push(He)}function M(ye){const Ce=this.stack.pop();Ce.value+=this.sliceSerialize(ye),Ce.position.end=Xh(ye.end)}function H(ye){const Ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Me=Ce.children[Ce.children.length-1];Me.position.end=Xh(ye.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ce.type)&&(N.call(this,ye),M.call(this,ye))}function P(){this.data.atHardBreak=!0}function $(){const ye=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ye}function D(){const ye=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ye}function U(){const ye=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ye}function F(){const ye=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";ye.type+="Reference",ye.referenceType=Ce,delete ye.url,delete ye.title}else delete ye.identifier,delete ye.label;this.data.referenceType=void 0}function W(){const ye=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";ye.type+="Reference",ye.referenceType=Ce,delete ye.url,delete ye.title}else delete ye.identifier,delete ye.label;this.data.referenceType=void 0}function ee(ye){const Ce=this.sliceSerialize(ye),Me=this.stack[this.stack.length-2];Me.label=Hrt(Ce),Me.identifier=_u(Ce).toLowerCase()}function Q(){const ye=this.stack[this.stack.length-1],Ce=this.resume(),Me=this.stack[this.stack.length-1];if(this.data.inReference=!0,Me.type==="link"){const He=ye.children;Me.children=He}else Me.alt=Ce}function K(){const ye=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=ye}function V(){const ye=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=ye}function Z(){this.data.inReference=void 0}function q(){this.data.referenceType="collapsed"}function te(ye){const Ce=this.resume(),Me=this.stack[this.stack.length-1];Me.label=Ce,Me.identifier=_u(this.sliceSerialize(ye)).toLowerCase(),this.data.referenceType="full"}function ae(ye){this.data.characterReferenceType=ye.type}function ie(ye){const Ce=this.sliceSerialize(ye),Me=this.data.characterReferenceType;let He;Me?(He=bre(Ce,Me==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):He=uM(Ce);const Qe=this.stack[this.stack.length-1];Qe.value+=He}function ce(ye){const Ce=this.stack.pop();Ce.position.end=Xh(ye.end)}function pe(ye){M.call(this,ye);const Ce=this.stack[this.stack.length-1];Ce.url=this.sliceSerialize(ye)}function ge(ye){M.call(this,ye);const Ce=this.stack[this.stack.length-1];Ce.url="mailto:"+this.sliceSerialize(ye)}function oe(){return{type:"blockquote",children:[]}}function ue(){return{type:"code",lang:null,meta:null,value:""}}function he(){return{type:"inlineCode",value:""}}function ve(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function me(){return{type:"emphasis",children:[]}}function le(){return{type:"heading",depth:0,children:[]}}function Se(){return{type:"break"}}function be(){return{type:"html",value:""}}function Te(){return{type:"image",title:null,url:"",alt:null}}function Ne(){return{type:"link",title:null,url:"",children:[]}}function Pe(ye){return{type:"list",ordered:ye.type==="listOrdered",start:null,spread:ye._spread,children:[]}}function Le(ye){return{type:"listItem",spread:ye._spread,checked:null,children:[]}}function De(){return{type:"paragraph",children:[]}}function Xe(){return{type:"strong",children:[]}}function ke(){return{type:"text",value:""}}function Ie(){return{type:"thematicBreak"}}}function Xh(t){return{line:t.line,column:t.column,offset:t.offset}}function kre(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?kre(t,r):qrt(t,r)}}function qrt(t,e){let n;for(n in e)if(Rre.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function zW(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+G2({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+G2({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+G2({start:e.start,end:e.end})+") is still open")}function Vrt(t){const e=this;e.parser=n;function n(r){return $rt(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Wrt(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Yrt(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Krt(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function Xrt(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Qrt(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Zrt(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),a=Yy(r.toLowerCase()),i=t.footnoteOrder.indexOf(r);let s,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=i+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function Jrt(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function eat(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Ire(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const a=t.all(e),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const s=a[a.length-1];return s&&s.type==="text"?s.value+=r:a.push({type:"text",value:r}),a}function tat(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Ire(t,e);const a={src:Yy(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return t.patch(e,i),t.applyData(e,i)}function nat(t,e){const n={src:Yy(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function rat(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function aat(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Ire(t,e);const a={href:Yy(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function iat(t,e){const n={href:Yy(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function sat(t,e,n){const r=t.all(e),a=n?oat(n):jre(e),i={},s=[];if(typeof e.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(a||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(a||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:s};return t.patch(e,u),t.applyData(e,u)}function oat(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=jre(n[r])}return e}function jre(t){const e=t.spread;return e??t.children.length>1}function lat(t,e){const n={},r=t.all(e);let a=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++a<r.length;){const s=r[a];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,i),t.applyData(e,i)}function cat(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function uat(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function dat(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function fat(t,e){const n=t.all(e),r=n.shift(),a=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),a.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=Kd(e.children[1]),l=Fw(e.children[e.children.length-1]);o&&l&&(s.position={start:o,end:l}),a.push(s)}const i={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(e,i),t.applyData(e,i)}function hat(t,e,n){const r=n?n.children:void 0,i=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:e.children.length;let l=-1;const u=[];for(;++l<o;){const h=e.children[l],m={},y=s?s[l]:void 0;y&&(m.align=y);let x={type:"element",tagName:i,properties:m,children:[]};h&&(x.children=t.all(h),t.patch(h,x),x=t.applyData(h,x)),u.push(x)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,d),t.applyData(e,d)}function pat(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const FW=9,BW=32;function mat(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),a=0;const i=[];for(;r;)i.push(HW(e.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(e);return i.push(HW(e.slice(a),a>0,!1)),i.join("")}function HW(t,e,n){let r=0,a=t.length;if(e){let i=t.codePointAt(r);for(;i===FW||i===BW;)r++,i=t.codePointAt(r)}if(n){let i=t.codePointAt(a-1);for(;i===FW||i===BW;)a--,i=t.codePointAt(a-1)}return a>r?t.slice(r,a):""}function gat(t,e){const n={type:"text",value:mat(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function yat(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const bat={blockquote:Wrt,break:Yrt,code:Krt,delete:Xrt,emphasis:Qrt,footnoteReference:Zrt,heading:Jrt,html:eat,imageReference:tat,image:nat,inlineCode:rat,linkReference:aat,link:iat,listItem:sat,list:lat,paragraph:cat,root:uat,strong:dat,table:fat,tableCell:pat,tableRow:hat,text:gat,thematicBreak:yat,toml:b4,yaml:b4,definition:b4,footnoteDefinition:b4};function b4(){}const Ore=-1,Uw=0,V2=1,XC=2,fM=3,hM=4,pM=5,mM=6,Dre=7,Mre=8,UW=typeof self=="object"?self:globalThis,xat=(t,e)=>{const n=(a,i)=>(t.set(i,a),a),r=a=>{if(t.has(a))return t.get(a);const[i,s]=e[a];switch(i){case Uw:case Ore:return n(s,a);case V2:{const o=n([],a);for(const l of s)o.push(r(l));return o}case XC:{const o=n({},a);for(const[l,u]of s)o[r(l)]=r(u);return o}case fM:return n(new Date(s),a);case hM:{const{source:o,flags:l}=s;return n(new RegExp(o,l),a)}case pM:{const o=n(new Map,a);for(const[l,u]of s)o.set(r(l),r(u));return o}case mM:{const o=n(new Set,a);for(const l of s)o.add(r(l));return o}case Dre:{const{name:o,message:l}=s;return n(new UW[o](l),a)}case Mre:return n(BigInt(s),a);case"BigInt":return n(Object(BigInt(s)),a);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new UW[i](s),a)};return r},$W=t=>xat(new Map,t)(0),T1="",{toString:vat}={},{keys:Sat}=Object,Jx=t=>{const e=typeof t;if(e!=="object"||!t)return[Uw,e];const n=vat.call(t).slice(8,-1);switch(n){case"Array":return[V2,T1];case"Object":return[XC,T1];case"Date":return[fM,T1];case"RegExp":return[hM,T1];case"Map":return[pM,T1];case"Set":return[mM,T1];case"DataView":return[V2,n]}return n.includes("Array")?[V2,n]:n.includes("Error")?[Dre,n]:[XC,n]},x4=([t,e])=>t===Uw&&(e==="function"||e==="symbol"),_at=(t,e,n,r)=>{const a=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},i=s=>{if(n.has(s))return n.get(s);let[o,l]=Jx(s);switch(o){case Uw:{let d=s;switch(l){case"bigint":o=Mre,d=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return a([Ore],s)}return a([o,d],s)}case V2:{if(l){let m=s;return l==="DataView"?m=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(m=new Uint8Array(s)),a([l,[...m]],s)}const d=[],h=a([o,d],s);for(const m of s)d.push(i(m));return h}case XC:{if(l)switch(l){case"BigInt":return a([l,s.toString()],s);case"Boolean":case"Number":case"String":return a([l,s.valueOf()],s)}if(e&&"toJSON"in s)return i(s.toJSON());const d=[],h=a([o,d],s);for(const m of Sat(s))(t||!x4(Jx(s[m])))&&d.push([i(m),i(s[m])]);return h}case fM:return a([o,s.toISOString()],s);case hM:{const{source:d,flags:h}=s;return a([o,{source:d,flags:h}],s)}case pM:{const d=[],h=a([o,d],s);for(const[m,y]of s)(t||!(x4(Jx(m))||x4(Jx(y))))&&d.push([i(m),i(y)]);return h}case mM:{const d=[],h=a([o,d],s);for(const m of s)(t||!x4(Jx(m)))&&d.push(i(m));return h}}const{message:u}=s;return a([o,{name:l,message:u}],s)};return i},GW=(t,{json:e,lossy:n}={})=>{const r=[];return _at(!(e||n),!!e,new Map,r)(t),r},Ng=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?$W(GW(t,e)):structuredClone(t):(t,e)=>$W(GW(t,e));function Cat(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function wat(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Eat(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Cat,r=t.options.footnoteBackLabel||wat,a=t.options.footnoteLabel||"Footnotes",i=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const d=t.all(u),h=String(u.identifier).toUpperCase(),m=Yy(h.toLowerCase());let y=0;const x=[],v=t.footnoteCounts.get(h);for(;v!==void 0&&++y<=v;){x.length>0&&x.push({type:"text",value:" "});let w=typeof n=="string"?n:n(l,y);typeof w=="string"&&(w={type:"text",value:w}),x.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+m+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,y),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const _=d[d.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const w=_.children[_.children.length-1];w&&w.type==="text"?w.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...x)}else d.push(...x);const C={type:"element",tagName:"li",properties:{id:e+"fn-"+m},children:t.wrap(d,!0)};t.patch(u,C),o.push(C)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Ng(s),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const $w=(function(t){if(t==null)return kat;if(typeof t=="function")return Gw(t);if(typeof t=="object")return Array.isArray(t)?Tat(t):Aat(t);if(typeof t=="string")return Rat(t);throw new Error("Expected function, string, or object as test")});function Tat(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=$w(t[n]);return Gw(r);function r(...a){let i=-1;for(;++i<e.length;)if(e[i].apply(this,a))return!0;return!1}}function Aat(t){const e=t;return Gw(n);function n(r){const a=r;let i;for(i in t)if(a[i]!==e[i])return!1;return!0}}function Rat(t){return Gw(e);function e(n){return n&&n.type===t}}function Gw(t){return e;function e(n,r,a){return!!(Iat(n)&&t.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function kat(){return!0}function Iat(t){return t!==null&&typeof t=="object"&&"type"in t}const Nre=[],jat=!0,_j=!1,Oat="skip";function Pre(t,e,n,r){let a;typeof e=="function"&&typeof n!="function"?(r=n,n=e):a=e;const i=$w(a),s=r?-1:1;o(t,void 0,[])();function o(l,u,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const y=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(l.type+(y?"<"+y+">":""))+")"})}return m;function m(){let y=Nre,x,v,_;if((!e||i(l,u,d[d.length-1]||void 0))&&(y=Dat(n(l,d)),y[0]===_j))return y;if("children"in l&&l.children){const C=l;if(C.children&&y[0]!==Oat)for(v=(r?C.children.length:-1)+s,_=d.concat(C);v>-1&&v<C.children.length;){const w=C.children[v];if(x=o(w,v,_)(),x[0]===_j)return x;v=typeof x[1]=="number"?x[1]:v+s}}return y}}}function Dat(t){return Array.isArray(t)?t:typeof t=="number"?[jat,t]:t==null?Nre:[t]}function qw(t,e,n,r){let a,i,s;typeof e=="function"&&typeof n!="function"?(i=void 0,s=e,a=n):(i=e,s=n,a=r),Pre(t,i,o,a);function o(l,u){const d=u[u.length-1],h=d?d.children.indexOf(l):void 0;return s(l,h,d)}}const Cj={}.hasOwnProperty,Mat={};function Nat(t,e){const n=e||Mat,r=new Map,a=new Map,i=new Map,s={...bat,...n.handlers},o={all:u,applyData:Lat,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:s,one:l,options:n,patch:Pat,wrap:Fat};return qw(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:a,m=String(d.identifier).toUpperCase();h.has(m)||h.set(m,d)}}),o;function l(d,h){const m=d.type,y=o.handlers[m];if(Cj.call(o.handlers,m)&&y)return y(o,d,h);if(o.options.passThrough&&o.options.passThrough.includes(m)){if("children"in d){const{children:v,..._}=d,C=Ng(_);return C.children=o.all(d),C}return Ng(d)}return(o.options.unknownHandler||zat)(o,d,h)}function u(d){const h=[];if("children"in d){const m=d.children;let y=-1;for(;++y<m.length;){const x=o.one(m[y],d);if(x){if(y&&m[y-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=qW(x.value)),!Array.isArray(x)&&x.type==="element")){const v=x.children[0];v&&v.type==="text"&&(v.value=qW(v.value))}Array.isArray(x)?h.push(...x):h.push(x)}}}return h}}function Pat(t,e){t.position&&(e.position=dre(t))}function Lat(t,e){let n=e;if(t&&t.data){const r=t.data.hName,a=t.data.hChildren,i=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&i&&Object.assign(n.properties,Ng(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function zat(t,e){const n=e.data||{},r="value"in e&&!(Cj.call(n,"hProperties")||Cj.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Fat(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function qW(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function VW(t,e){const n=Nat(t,e),r=n.one(t,void 0),a=Eat(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function Bat(t,e){return t&&"run"in t?async function(n,r){const a=VW(n,{file:r,...e});await t.run(a,r)}:function(n,r){return VW(n,{file:r,...t||e})}}function WW(t){if(t)throw t}var K7,YW;function Hat(){if(YW)return K7;YW=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(u){return typeof Array.isArray=="function"?Array.isArray(u):e.call(u)==="[object Array]"},i=function(u){if(!u||e.call(u)!=="[object Object]")return!1;var d=t.call(u,"constructor"),h=u.constructor&&u.constructor.prototype&&t.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!d&&!h)return!1;var m;for(m in u);return typeof m>"u"||t.call(u,m)},s=function(u,d){n&&d.name==="__proto__"?n(u,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):u[d.name]=d.newValue},o=function(u,d){if(d==="__proto__")if(t.call(u,d)){if(r)return r(u,d).value}else return;return u[d]};return K7=function l(){var u,d,h,m,y,x,v=arguments[0],_=1,C=arguments.length,w=!1;for(typeof v=="boolean"&&(w=v,v=arguments[1]||{},_=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});_<C;++_)if(u=arguments[_],u!=null)for(d in u)h=o(v,d),m=o(u,d),v!==m&&(w&&m&&(i(m)||(y=a(m)))?(y?(y=!1,x=h&&a(h)?h:[]):x=h&&i(h)?h:{},s(v,{name:d,newValue:l(w,x,m)})):typeof m<"u"&&s(v,{name:d,newValue:m}));return v},K7}var Uat=Hat();const X7=Qf(Uat);function wj(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function $at(){const t=[],e={run:n,use:r};return e;function n(...a){let i=-1;const s=a.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...a);function o(l,...u){const d=t[++i];let h=-1;if(l){s(l);return}for(;++h<a.length;)(u[h]===null||u[h]===void 0)&&(u[h]=a[h]);a=u,d?Gat(d,o)(...u):s(null,...u)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),e}}function Gat(t,e){let n;return r;function r(...s){const o=t.length>s.length;let l;o&&s.push(a);try{l=t.apply(this,s)}catch(u){const d=u;if(o&&n)throw d;return a(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(i,a):l instanceof Error?a(l):i(l))}function a(s,...o){n||(n=!0,e(s,...o))}function i(s){a(null,s)}}const xd={basename:qat,dirname:Vat,extname:Wat,join:Yat,sep:"/"};function qat(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');TS(t);let n=0,r=-1,a=t.length,i;if(e===void 0||e.length===0||e.length>t.length){for(;a--;)if(t.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,o=e.length-1;for(;a--;)if(t.codePointAt(a)===47){if(i){n=a+1;break}}else s<0&&(i=!0,s=a+1),o>-1&&(t.codePointAt(a)===e.codePointAt(o--)?o<0&&(r=a):(o=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function Vat(t){if(TS(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Wat(t){TS(t);let e=t.length,n=-1,r=0,a=-1,i=0,s;for(;e--;){const o=t.codePointAt(e);if(o===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),o===46?a<0?a=e:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":t.slice(a,n)}function Yat(...t){let e=-1,n;for(;++e<t.length;)TS(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Kat(n)}function Kat(t){TS(t);const e=t.codePointAt(0)===47;let n=Xat(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Xat(t,e){let n="",r=0,a=-1,i=0,s=-1,o,l;for(;++s<=t.length;){if(s<t.length)o=t.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(a===s-1||i===1))if(a!==s-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),a=s,i=0;continue}}else if(n.length>0){n="",r=0,a=s,i=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(a+1,s):n=t.slice(a+1,s),r=s-a-1;a=s,i=0}else o===46&&i>-1?i++:i=-1}return n}function TS(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Qat={cwd:Zat};function Zat(){return"/"}function Ej(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Jat(t){if(typeof t=="string")t=new URL(t);else if(!Ej(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return eit(t)}function eit(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(e)}const Q7=["history","path","basename","stem","extname","dirname"];class Lre{constructor(e){let n;e?Ej(e)?n={path:e}:typeof e=="string"||tit(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Qat.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Q7.length;){const i=Q7[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)Q7.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?xd.basename(this.path):void 0}set basename(e){J7(e,"basename"),Z7(e,"basename"),this.path=xd.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?xd.dirname(this.path):void 0}set dirname(e){KW(this.basename,"dirname"),this.path=xd.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?xd.extname(this.path):void 0}set extname(e){if(Z7(e,"extname"),KW(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=xd.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Ej(e)&&(e=Jat(e)),J7(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?xd.basename(this.path,this.extname):void 0}set stem(e){J7(e,"stem"),Z7(e,"stem"),this.path=xd.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const a=this.message(e,n,r);throw a.fatal=!0,a}info(e,n,r){const a=this.message(e,n,r);return a.fatal=void 0,a}message(e,n,r){const a=new Ws(e,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Z7(t,e){if(t&&t.includes(xd.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+xd.sep+"`")}function J7(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function KW(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function tit(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const nit=(function(t){const r=this.constructor.prototype,a=r[t],i=function(){return a.apply(i,arguments)};return Object.setPrototypeOf(i,r),i}),rit={}.hasOwnProperty;class gM extends nit{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=$at()}copy(){const e=new gM;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(X7(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(nk("data",this.frozen),this.namespace[e]=n,this):rit.call(this.namespace,e)&&this.namespace[e]||void 0:e?(nk("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(e,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=v4(e),r=this.parser||this.Parser;return ek("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),ek("process",this.parser||this.Parser),tk("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,s){const o=v4(e),l=r.parse(o);r.run(l,o,function(d,h,m){if(d||!h||!m)return u(d);const y=h,x=r.stringify(y,m);sit(x)?m.value=x:m.result=x,u(d,m)});function u(d,h){d||!h?s(d):i?i(h):n(void 0,h)}}}processSync(e){let n=!1,r;return this.freeze(),ek("processSync",this.parser||this.Parser),tk("processSync",this.compiler||this.Compiler),this.process(e,a),QW("processSync","process",n),r;function a(i,s){n=!0,WW(i),r=s}}run(e,n,r){XW(e),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(s,o){const l=v4(n);a.run(e,l,u);function u(d,h,m){const y=h||e;d?o(d):s?s(y):r(void 0,y,m)}}}runSync(e,n){let r=!1,a;return this.run(e,n,i),QW("runSync","run",r),a;function i(s,o){WW(s),a=o,r=!0}}stringify(e,n){this.freeze();const r=v4(n),a=this.compiler||this.Compiler;return tk("stringify",a),XW(e),a(e,r)}use(e,...n){const r=this.attachers,a=this.namespace;if(nk("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function i(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;l(d,h)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(a.settings=X7(!0,a.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];i(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let h=-1,m=-1;for(;++h<r.length;)if(r[h][0]===u){m=h;break}if(m===-1)r.push([u,...d]);else if(d.length>0){let[y,...x]=d;const v=r[m][1];wj(v)&&wj(y)&&(y=X7(!0,v,y)),r[m]=[u,y,...x]}}}}const ait=new gM().freeze();function ek(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function tk(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function nk(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function XW(t){if(!wj(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function QW(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function v4(t){return iit(t)?t:new Lre(t)}function iit(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function sit(t){return typeof t=="string"||oit(t)}function oit(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const lit="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ZW=[],JW={allowDangerousHtml:!0},cit=/^(https?|ircs?|mailto|xmpp)$/i,uit=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function dit(t){const e=fit(t),n=hit(t);return pit(e.runSync(e.parse(n),n),t)}function fit(t){const e=t.rehypePlugins||ZW,n=t.remarkPlugins||ZW,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...JW}:JW;return ait().use(Vrt).use(n).use(Bat,r).use(e)}function hit(t){const e=t.children||"",n=new Lre;return typeof e=="string"&&(n.value=e),n}function pit(t,e){const n=e.allowedElements,r=e.allowElement,a=e.components,i=e.disallowedElements,s=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||mit;for(const d of uit)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+lit+d.id,void 0);return qw(t,u),ktt(t,{Fragment:c.Fragment,components:a,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(d,h,m){if(d.type==="raw"&&m&&typeof h=="number")return s?m.children.splice(h,1):m.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let y;for(y in V7)if(Object.hasOwn(V7,y)&&Object.hasOwn(d.properties,y)){const x=d.properties[y],v=V7[y];(v===null||v.includes(d.tagName))&&(d.properties[y]=l(String(x||""),y,d))}}if(d.type==="element"){let y=n?!n.includes(d.tagName):i?i.includes(d.tagName):!1;if(!y&&r&&typeof h=="number"&&(y=!r(d,h,m)),y&&m&&typeof h=="number")return o&&d.children?m.children.splice(h,1,...d.children):m.children.splice(h,1),h}}}function mit(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),a=t.indexOf("/");return e===-1||a!==-1&&e>a||n!==-1&&e>n||r!==-1&&e>r||cit.test(t.slice(0,e))?t:""}function eY(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(e);for(;a!==-1;)r++,a=n.indexOf(e,a+e.length);return r}function git(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function yit(t,e,n){const a=$w((n||{}).ignore||[]),i=bit(e);let s=-1;for(;++s<i.length;)Pre(t,"text",o);function o(u,d){let h=-1,m;for(;++h<d.length;){const y=d[h],x=m?m.children:void 0;if(a(y,x?x.indexOf(y):void 0,m))return;m=y}if(m)return l(u,d)}function l(u,d){const h=d[d.length-1],m=i[s][0],y=i[s][1];let x=0;const _=h.children.indexOf(u);let C=!1,w=[];m.lastIndex=0;let T=m.exec(u.value);for(;T;){const E=T.index,I={index:T.index,input:T.input,stack:[...d,u]};let j=y(...T,I);if(typeof j=="string"&&(j=j.length>0?{type:"text",value:j}:void 0),j===!1?m.lastIndex=E+1:(x!==E&&w.push({type:"text",value:u.value.slice(x,E)}),Array.isArray(j)?w.push(...j):j&&w.push(j),x=E+T[0].length,C=!0),!m.global)break;T=m.exec(u.value)}return C?(x<u.value.length&&w.push({type:"text",value:u.value.slice(x)}),h.children.splice(_,1,...w)):w=[u],_+w.length}}function bit(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const a=n[r];e.push([xit(a[0]),vit(a[1])])}return e}function xit(t){return typeof t=="string"?new RegExp(git(t),"g"):t}function vit(t){return typeof t=="function"?t:function(){return t}}const rk="phrasing",ak=["autolink","link","image","label"];function Sit(){return{transforms:[Rit],enter:{literalAutolink:Cit,literalAutolinkEmail:ik,literalAutolinkHttp:ik,literalAutolinkWww:ik},exit:{literalAutolink:Ait,literalAutolinkEmail:Tit,literalAutolinkHttp:wit,literalAutolinkWww:Eit}}}function _it(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:rk,notInConstruct:ak},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:rk,notInConstruct:ak},{character:":",before:"[ps]",after:"\\/",inConstruct:rk,notInConstruct:ak}]}}function Cit(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function ik(t){this.config.enter.autolinkProtocol.call(this,t)}function wit(t){this.config.exit.autolinkProtocol.call(this,t)}function Eit(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function Tit(t){this.config.exit.autolinkEmail.call(this,t)}function Ait(t){this.exit(t)}function Rit(t){yit(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,kit],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Iit]],{ignore:["link","linkReference"]})}function kit(t,e,n,r,a){let i="";if(!zre(a)||(/^w/i.test(e)&&(n=e+n,e="",i="http://"),!jit(n)))return!1;const s=Oit(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:i+e+s[0],children:[{type:"text",value:e+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function Iit(t,e,n,r){return!zre(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function jit(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Oit(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const a=eY(t,"(");let i=eY(t,")");for(;r!==-1&&a>i;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[t,n]}function zre(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Mg(n)||Bw(n))&&(!e||n!==47)}Fre.peek=Hit;function Dit(){this.buffer()}function Mit(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function Nit(){this.buffer()}function Pit(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function Lit(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=_u(this.sliceSerialize(t)).toLowerCase(),n.label=e}function zit(t){this.exit(t)}function Fit(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=_u(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Bit(t){this.exit(t)}function Hit(){return"["}function Fre(t,e,n,r){const a=n.createTracker(r);let i=a.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return i+=a.move(n.safe(n.associationId(t),{after:"]",before:i})),o(),s(),i+=a.move("]"),i}function Uit(){return{enter:{gfmFootnoteCallString:Dit,gfmFootnoteCall:Mit,gfmFootnoteDefinitionLabelString:Nit,gfmFootnoteDefinition:Pit},exit:{gfmFootnoteCallString:Lit,gfmFootnoteCall:zit,gfmFootnoteDefinitionLabelString:Fit,gfmFootnoteDefinition:Bit}}}function $it(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:Fre},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,i,s){const o=i.createTracker(s);let l=o.move("[^");const u=i.enter("footnoteDefinition"),d=i.enter("label");return l+=o.move(i.safe(i.associationId(r),{before:l,after:"]"})),d(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((e?`
`:" ")+i.indentLines(i.containerFlow(r,o.current()),e?Bre:Git))),u(),l}}function Git(t,e,n){return e===0?t:Bre(t,e,n)}function Bre(t,e,n){return(n?"":"    ")+t}const qit=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Hre.peek=Xit;function Vit(){return{canContainEols:["delete"],enter:{strikethrough:Yit},exit:{strikethrough:Kit}}}function Wit(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:qit}],handlers:{delete:Hre}}}function Yit(t){this.enter({type:"delete",children:[]},t)}function Kit(t){this.exit(t)}function Hre(t,e,n,r){const a=n.createTracker(r),i=n.enter("strikethrough");let s=a.move("~~");return s+=n.containerPhrasing(t,{...a.current(),before:s,after:"~"}),s+=a.move("~~"),i(),s}function Xit(){return"~"}function Qit(t){return t.length}function Zit(t,e){const n=e||{},r=(n.align||[]).concat(),a=n.stringLength||Qit,i=[],s=[],o=[],l=[];let u=0,d=-1;for(;++d<t.length;){const v=[],_=[];let C=-1;for(t[d].length>u&&(u=t[d].length);++C<t[d].length;){const w=Jit(t[d][C]);if(n.alignDelimiters!==!1){const T=a(w);_[C]=T,(l[C]===void 0||T>l[C])&&(l[C]=T)}v.push(w)}s[d]=v,o[d]=_}let h=-1;if(typeof r=="object"&&"length"in r)for(;++h<u;)i[h]=tY(r[h]);else{const v=tY(r);for(;++h<u;)i[h]=v}h=-1;const m=[],y=[];for(;++h<u;){const v=i[h];let _="",C="";v===99?(_=":",C=":"):v===108?_=":":v===114&&(C=":");let w=n.alignDelimiters===!1?1:Math.max(1,l[h]-_.length-C.length);const T=_+"-".repeat(w)+C;n.alignDelimiters!==!1&&(w=_.length+w+C.length,w>l[h]&&(l[h]=w),y[h]=w),m[h]=T}s.splice(1,0,m),o.splice(1,0,y),d=-1;const x=[];for(;++d<s.length;){const v=s[d],_=o[d];h=-1;const C=[];for(;++h<u;){const w=v[h]||"";let T="",E="";if(n.alignDelimiters!==!1){const I=l[h]-(_[h]||0),j=i[h];j===114?T=" ".repeat(I):j===99?I%2?(T=" ".repeat(I/2+.5),E=" ".repeat(I/2-.5)):(T=" ".repeat(I/2),E=T):E=" ".repeat(I)}n.delimiterStart!==!1&&!h&&C.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&w==="")&&(n.delimiterStart!==!1||h)&&C.push(" "),n.alignDelimiters!==!1&&C.push(T),C.push(w),n.alignDelimiters!==!1&&C.push(E),n.padding!==!1&&C.push(" "),(n.delimiterEnd!==!1||h!==u-1)&&C.push("|")}x.push(n.delimiterEnd===!1?C.join("").replace(/ +$/,""):C.join(""))}return x.join(`
`)}function Jit(t){return t==null?"":String(t)}function tY(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}const nY={}.hasOwnProperty;function Ure(t,e){const n=e||{};function r(a,...i){let s=r.invalid;const o=r.handlers;if(a&&nY.call(a,t)){const l=String(a[t]);s=nY.call(o,l)?o[l]:r.unknown}if(s)return s.call(this,a,...i)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function est(t,e,n,r){const a=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const s=n.indentLines(n.containerFlow(t,i.current()),tst);return a(),s}function tst(t,e,n){return">"+(n?"":" ")+t}function nst(t,e){return rY(t,e.inConstruct,!0)&&!rY(t,e.notInConstruct,!1)}function rY(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function aY(t,e,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&nst(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function rst(t,e){const n=String(t);let r=n.indexOf(e),a=r,i=0,s=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++i>s&&(s=i):i=1,a=r+e.length,r=n.indexOf(e,a);return s}function ast(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function ist(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function sst(t,e,n,r){const a=ist(n),i=t.value||"",s=a==="`"?"GraveAccent":"Tilde";if(ast(t,n)){const h=n.enter("codeIndented"),m=n.indentLines(i,ost);return h(),m}const o=n.createTracker(r),l=a.repeat(Math.max(rst(i,a)+1,3)),u=n.enter("codeFenced");let d=o.move(l);if(t.lang){const h=n.enter(`codeFencedLang${s}`);d+=o.move(n.safe(t.lang,{before:d,after:" ",encode:["`"],...o.current()})),h()}if(t.lang&&t.meta){const h=n.enter(`codeFencedMeta${s}`);d+=o.move(" "),d+=o.move(n.safe(t.meta,{before:d,after:`
`,encode:["`"],...o.current()})),h()}return d+=o.move(`
`),i&&(d+=o.move(i+`
`)),d+=o.move(l),u(),d}function ost(t,e,n){return(n?"":"    ")+t}function yM(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function lst(t,e,n,r){const a=yM(n),i=a==='"'?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(t),{before:u,after:"]",...l.current()})),u+=l.move("]: "),o(),!t.url||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...l.current()}))),o(),t.title&&(o=n.enter(`title${i}`),u+=l.move(" "+a),u+=l.move(n.safe(t.title,{before:u,after:a,...l.current()})),u+=l.move(a),o()),s(),u}function cst(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Bv(t){return"&#x"+t.toString(16).toUpperCase()+";"}function QC(t,e,n){const r=by(t),a=by(e);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}$re.peek=ust;function $re(t,e,n,r){const a=cst(n),i=n.enter("emphasis"),s=n.createTracker(r),o=s.move(a);let l=s.move(n.containerPhrasing(t,{after:a,before:o,...s.current()}));const u=l.charCodeAt(0),d=QC(r.before.charCodeAt(r.before.length-1),u,a);d.inside&&(l=Bv(u)+l.slice(1));const h=l.charCodeAt(l.length-1),m=QC(r.after.charCodeAt(0),h,a);m.inside&&(l=l.slice(0,-1)+Bv(h));const y=s.move(a);return i(),n.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},o+l+y}function ust(t,e,n){return n.options.emphasis||"*"}function dst(t,e){let n=!1;return qw(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,_j}),!!((!t.depth||t.depth<3)&&cM(t)&&(e.options.setext||n))}function fst(t,e,n,r){const a=Math.max(Math.min(6,t.depth||1),1),i=n.createTracker(r);if(dst(t,n)){const d=n.enter("headingSetext"),h=n.enter("phrasing"),m=n.containerPhrasing(t,{...i.current(),before:`
`,after:`
`});return h(),d(),m+`
`+(a===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf(`
`))+1))}const s="#".repeat(a),o=n.enter("headingAtx"),l=n.enter("phrasing");i.move(s+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(u)&&(u=Bv(u.charCodeAt(0))+u.slice(1)),u=u?s+" "+u:s,n.options.closeAtx&&(u+=" "+s),l(),o(),u}Gre.peek=hst;function Gre(t){return t.value||""}function hst(){return"<"}qre.peek=pst;function qre(t,e,n,r){const a=yM(n),i=a==='"'?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(t.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),o(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":")",...l.current()}))),o(),t.title&&(o=n.enter(`title${i}`),u+=l.move(" "+a),u+=l.move(n.safe(t.title,{before:u,after:a,...l.current()})),u+=l.move(a),o()),u+=l.move(")"),s(),u}function pst(){return"!"}Vre.peek=mst;function Vre(t,e,n,r){const a=t.referenceType,i=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const u=n.safe(t.alt,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...o.current()});return s(),n.stack=d,i(),a==="full"||!u||u!==h?l+=o.move(h+"]"):a==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function mst(){return"!"}Wre.peek=gst;function Wre(t,e,n){let r=t.value||"",a="`",i=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const s=n.unsafe[i],o=n.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return a+r+a}function gst(){return"`"}function Yre(t,e){const n=cM(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Kre.peek=yst;function Kre(t,e,n,r){const a=yM(n),i=a==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let o,l;if(Yre(t,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let h=s.move("<");return h+=s.move(n.containerPhrasing(t,{before:h,after:">",...s.current()})),h+=s.move(">"),o(),n.stack=d,h}o=n.enter("link"),l=n.enter("label");let u=s.move("[");return u+=s.move(n.containerPhrasing(t,{before:u,after:"](",...s.current()})),u+=s.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(t.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(l=n.enter("destinationRaw"),u+=s.move(n.safe(t.url,{before:u,after:t.title?" ":")",...s.current()}))),l(),t.title&&(l=n.enter(`title${i}`),u+=s.move(" "+a),u+=s.move(n.safe(t.title,{before:u,after:a,...s.current()})),u+=s.move(a),l()),u+=s.move(")"),o(),u}function yst(t,e,n){return Yre(t,n)?"<":"["}Xre.peek=bst;function Xre(t,e,n,r){const a=t.referenceType,i=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const u=n.containerPhrasing(t,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...o.current()});return s(),n.stack=d,i(),a==="full"||!u||u!==h?l+=o.move(h+"]"):a==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function bst(){return"["}function bM(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function xst(t){const e=bM(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function vst(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Qre(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Sst(t,e,n,r){const a=n.enter("list"),i=n.bulletCurrent;let s=t.ordered?vst(n):bM(n);const o=t.ordered?s==="."?")":".":xst(n);let l=e&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!t.ordered){const d=t.children?t.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),Qre(n)===s&&d){let h=-1;for(;++h<t.children.length;){const m=t.children[h];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),n.bulletCurrent=s;const u=n.containerFlow(t,r);return n.bulletLastUsed=s,n.bulletCurrent=i,a(),u}function _st(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Cst(t,e,n,r){const a=_st(n);let i=n.bulletCurrent||bM(n);e&&e.type==="list"&&e.ordered&&(i=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+i);let s=i.length+1;(a==="tab"||a==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(i+" ".repeat(s-i.length)),o.shift(s);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,o.current()),d);return l(),u;function d(h,m,y){return m?(y?"":" ".repeat(s))+h:(y?i:i+" ".repeat(s-i.length))+h}}function wst(t,e,n,r){const a=n.enter("paragraph"),i=n.enter("phrasing"),s=n.containerPhrasing(t,r);return i(),a(),s}const Est=$w(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Tst(t,e,n,r){return(t.children.some(function(s){return Est(s)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function Ast(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Zre.peek=Rst;function Zre(t,e,n,r){const a=Ast(n),i=n.enter("strong"),s=n.createTracker(r),o=s.move(a+a);let l=s.move(n.containerPhrasing(t,{after:a,before:o,...s.current()}));const u=l.charCodeAt(0),d=QC(r.before.charCodeAt(r.before.length-1),u,a);d.inside&&(l=Bv(u)+l.slice(1));const h=l.charCodeAt(l.length-1),m=QC(r.after.charCodeAt(0),h,a);m.inside&&(l=l.slice(0,-1)+Bv(h));const y=s.move(a+a);return i(),n.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},o+l+y}function Rst(t,e,n){return n.options.strong||"*"}function kst(t,e,n,r){return n.safe(t.value,r)}function Ist(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function jst(t,e,n){const r=(Qre(n)+(n.options.ruleSpaces?" ":"")).repeat(Ist(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Jre={blockquote:est,break:aY,code:sst,definition:lst,emphasis:$re,hardBreak:aY,heading:fst,html:Gre,image:qre,imageReference:Vre,inlineCode:Wre,link:Kre,linkReference:Xre,list:Sst,listItem:Cst,paragraph:wst,root:Tst,strong:Zre,text:kst,thematicBreak:jst};function Ost(){return{enter:{table:Dst,tableData:iY,tableHeader:iY,tableRow:Nst},exit:{codeText:Pst,table:Mst,tableData:sk,tableHeader:sk,tableRow:sk}}}function Dst(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function Mst(t){this.exit(t),this.data.inTable=void 0}function Nst(t){this.enter({type:"tableRow",children:[]},t)}function sk(t){this.exit(t)}function iY(t){this.enter({type:"tableCell",children:[]},t)}function Pst(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,Lst));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function Lst(t,e){return e==="|"?e:t}function zst(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,a=e.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:m,table:s,tableCell:l,tableRow:o}};function s(y,x,v,_){return u(d(y,v,_),y.align)}function o(y,x,v,_){const C=h(y,v,_),w=u([C]);return w.slice(0,w.indexOf(`
`))}function l(y,x,v,_){const C=v.enter("tableCell"),w=v.enter("phrasing"),T=v.containerPhrasing(y,{..._,before:i,after:i});return w(),C(),T}function u(y,x){return Zit(y,{align:x,alignDelimiters:r,padding:n,stringLength:a})}function d(y,x,v){const _=y.children;let C=-1;const w=[],T=x.enter("table");for(;++C<_.length;)w[C]=h(_[C],x,v);return T(),w}function h(y,x,v){const _=y.children;let C=-1;const w=[],T=x.enter("tableRow");for(;++C<_.length;)w[C]=l(_[C],y,x,v);return T(),w}function m(y,x,v){let _=Jre.inlineCode(y,x,v);return v.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_}}function Fst(){return{exit:{taskListCheckValueChecked:sY,taskListCheckValueUnchecked:sY,paragraph:Hst}}}function Bst(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Ust}}}function sY(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function Hst(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=e.children;let i=-1,s;for(;++i<a.length;){const o=a[i];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function Ust(t,e,n,r){const a=t.children[0],i=typeof t.checked=="boolean"&&a&&a.type==="paragraph",s="["+(t.checked?"x":" ")+"] ",o=n.createTracker(r);i&&o.move(s);let l=Jre.listItem(t,e,n,{...r,...o.current()});return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(d){return d+s}}function $st(){return[Sit(),Uit(),Vit(),Ost(),Fst()]}function Gst(t){return{extensions:[_it(),$it(t),Wit(),zst(t),Bst()]}}const qst={tokenize:Qst,partial:!0},eae={tokenize:Zst,partial:!0},tae={tokenize:Jst,partial:!0},nae={tokenize:eot,partial:!0},Vst={tokenize:tot,partial:!0},rae={name:"wwwAutolink",tokenize:Kst,previous:iae},aae={name:"protocolAutolink",tokenize:Xst,previous:sae},ih={name:"emailAutolink",tokenize:Yst,previous:oae},Xd={};function Wst(){return{text:Xd}}let Lm=48;for(;Lm<123;)Xd[Lm]=ih,Lm++,Lm===58?Lm=65:Lm===91&&(Lm=97);Xd[43]=ih;Xd[45]=ih;Xd[46]=ih;Xd[95]=ih;Xd[72]=[ih,aae];Xd[104]=[ih,aae];Xd[87]=[ih,rae];Xd[119]=[ih,rae];function Yst(t,e,n){const r=this;let a,i;return s;function s(h){return!Tj(h)||!oae.call(r,r.previous)||xM(r.events)?n(h):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),o(h))}function o(h){return Tj(h)?(t.consume(h),o):h===64?(t.consume(h),l):n(h)}function l(h){return h===46?t.check(Vst,d,u)(h):h===45||h===95||Us(h)?(i=!0,t.consume(h),l):d(h)}function u(h){return t.consume(h),a=!0,l}function d(h){return i&&a&&So(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(h)):n(h)}}function Kst(t,e,n){const r=this;return a;function a(s){return s!==87&&s!==119||!iae.call(r,r.previous)||xM(r.events)?n(s):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(qst,t.attempt(eae,t.attempt(tae,i),n),n)(s))}function i(s){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(s)}}function Xst(t,e,n){const r=this;let a="",i=!1;return s;function s(h){return(h===72||h===104)&&sae.call(r,r.previous)&&!xM(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),a+=String.fromCodePoint(h),t.consume(h),o):n(h)}function o(h){if(So(h)&&a.length<5)return a+=String.fromCodePoint(h),t.consume(h),o;if(h===58){const m=a.toLowerCase();if(m==="http"||m==="https")return t.consume(h),l}return n(h)}function l(h){return h===47?(t.consume(h),i?u:(i=!0,l)):n(h)}function u(h){return h===null||KC(h)||Vr(h)||Mg(h)||Bw(h)?n(h):t.attempt(eae,t.attempt(tae,d),n)(h)}function d(h){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(h)}}function Qst(t,e,n){let r=0;return a;function a(s){return(s===87||s===119)&&r<3?(r++,t.consume(s),a):s===46&&r===3?(t.consume(s),i):n(s)}function i(s){return s===null?n(s):e(s)}}function Zst(t,e,n){let r,a,i;return s;function s(u){return u===46||u===95?t.check(nae,l,o)(u):u===null||Vr(u)||Mg(u)||u!==45&&Bw(u)?l(u):(i=!0,t.consume(u),s)}function o(u){return u===95?r=!0:(a=r,r=void 0),t.consume(u),s}function l(u){return a||r||!i?n(u):e(u)}}function Jst(t,e){let n=0,r=0;return a;function a(s){return s===40?(n++,t.consume(s),a):s===41&&r<n?i(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?t.check(nae,e,i)(s):s===null||Vr(s)||Mg(s)?e(s):(t.consume(s),a)}function i(s){return s===41&&r++,t.consume(s),a}}function eot(t,e,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(t.consume(o),r):o===38?(t.consume(o),i):o===93?(t.consume(o),a):o===60||o===null||Vr(o)||Mg(o)?e(o):n(o)}function a(o){return o===null||o===40||o===91||Vr(o)||Mg(o)?e(o):r(o)}function i(o){return So(o)?s(o):n(o)}function s(o){return o===59?(t.consume(o),r):So(o)?(t.consume(o),s):n(o)}}function tot(t,e,n){return r;function r(i){return t.consume(i),a}function a(i){return Us(i)?n(i):e(i)}}function iae(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Vr(t)}function sae(t){return!So(t)}function oae(t){return!(t===47||Tj(t))}function Tj(t){return t===43||t===45||t===46||t===95||Us(t)}function xM(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const not={tokenize:uot,partial:!0};function rot(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:oot,continuation:{tokenize:lot},exit:cot}},text:{91:{name:"gfmFootnoteCall",tokenize:sot},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:aot,resolveTo:iot}}}}function aot(t,e,n){const r=this;let a=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;a--;){const l=r.events[a][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return n(l);const u=_u(r.sliceSerialize({start:s.end,end:r.now()}));return u.codePointAt(0)!==94||!i.includes(u.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function iot(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},t[t.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},o=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",a,e],["exit",a,e],["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...o),t}function sot(t,e,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,s;return o;function o(h){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),l}function l(h){return h!==94?n(h):(t.enter("gfmFootnoteCallMarker"),t.consume(h),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(h){if(i>999||h===93&&!s||h===null||h===91||Vr(h))return n(h);if(h===93){t.exit("chunkString");const m=t.exit("gfmFootnoteCallString");return a.includes(_u(r.sliceSerialize(m)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(h)}return Vr(h)||(s=!0),i++,t.consume(h),h===92?d:u}function d(h){return h===91||h===92||h===93?(t.consume(h),i++,u):u(h)}}function oot(t,e,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,s=0,o;return l;function l(x){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(x),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(x){return x===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(x),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",d):n(x)}function d(x){if(s>999||x===93&&!o||x===null||x===91||Vr(x))return n(x);if(x===93){t.exit("chunkString");const v=t.exit("gfmFootnoteDefinitionLabelString");return i=_u(r.sliceSerialize(v)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(x),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),m}return Vr(x)||(o=!0),s++,t.consume(x),x===92?h:d}function h(x){return x===91||x===92||x===93?(t.consume(x),s++,d):d(x)}function m(x){return x===58?(t.enter("definitionMarker"),t.consume(x),t.exit("definitionMarker"),a.includes(i)||a.push(i),fr(t,y,"gfmFootnoteDefinitionWhitespace")):n(x)}function y(x){return e(x)}}function lot(t,e,n){return t.check(ES,e,t.attempt(not,e,n))}function cot(t){t.exit("gfmFootnoteDefinition")}function uot(t,e,n){const r=this;return fr(t,a,"gfmFootnoteDefinitionIndent",5);function a(i){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?e(i):n(i)}}function dot(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:i,resolveAll:a};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function a(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let u=l;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[l][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[l][1].end)},h={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[l][1].start)},m=[["enter",d,o],["enter",s[u][1],o],["exit",s[u][1],o],["enter",h,o]],y=o.parser.constructs.insideSpan.null;y&&Ol(m,m.length,0,Hw(y,s.slice(u+1,l),o)),Ol(m,m.length,0,[["exit",h,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",d,o]]),Ol(s,u-1,l-u+3,m),l=u+m.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function i(s,o,l){const u=this.previous,d=this.events;let h=0;return m;function m(x){return u===126&&d[d.length-1][1].type!=="characterEscape"?l(x):(s.enter("strikethroughSequenceTemporary"),y(x))}function y(x){const v=by(u);if(x===126)return h>1?l(x):(s.consume(x),h++,y);if(h<2&&!n)return l(x);const _=s.exit("strikethroughSequenceTemporary"),C=by(x);return _._open=!C||C===2&&!!v,_._close=!v||v===2&&!!C,o(x)}}}class fot{constructor(){this.map=[]}add(e,n,r){hot(this,e,n,r)}consume(e){if(this.map.sort(function(i,s){return i[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let a=r.pop();for(;a;){for(const i of a)e.push(i);a=r.pop()}this.map.length=0}}function hot(t,e,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<t.map.length;){if(t.map[a][0]===e){t.map[a][1]+=n,t.map[a][2].push(...r);return}a+=1}t.map.push([e,n,r])}}function pot(t,e){let n=!1;const r=[];for(;e<t.length;){const a=t[e];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function mot(){return{flow:{null:{name:"table",tokenize:got,resolveAll:yot}}}}function got(t,e,n){const r=this;let a=0,i=0,s;return o;function o(M){let H=r.events.length-1;for(;H>-1;){const D=r.events[H][1].type;if(D==="lineEnding"||D==="linePrefix")H--;else break}const P=H>-1?r.events[H][1].type:null,$=P==="tableHead"||P==="tableRow"?j:l;return $===j&&r.parser.lazy[r.now().line]?n(M):$(M)}function l(M){return t.enter("tableHead"),t.enter("tableRow"),u(M)}function u(M){return M===124||(s=!0,i+=1),d(M)}function d(M){return M===null?n(M):fn(M)?i>1?(i=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),y):n(M):Jn(M)?fr(t,d,"whitespace")(M):(i+=1,s&&(s=!1,a+=1),M===124?(t.enter("tableCellDivider"),t.consume(M),t.exit("tableCellDivider"),s=!0,d):(t.enter("data"),h(M)))}function h(M){return M===null||M===124||Vr(M)?(t.exit("data"),d(M)):(t.consume(M),M===92?m:h)}function m(M){return M===92||M===124?(t.consume(M),h):h(M)}function y(M){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(M):(t.enter("tableDelimiterRow"),s=!1,Jn(M)?fr(t,x,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):x(M))}function x(M){return M===45||M===58?_(M):M===124?(s=!0,t.enter("tableCellDivider"),t.consume(M),t.exit("tableCellDivider"),v):I(M)}function v(M){return Jn(M)?fr(t,_,"whitespace")(M):_(M)}function _(M){return M===58?(i+=1,s=!0,t.enter("tableDelimiterMarker"),t.consume(M),t.exit("tableDelimiterMarker"),C):M===45?(i+=1,C(M)):M===null||fn(M)?E(M):I(M)}function C(M){return M===45?(t.enter("tableDelimiterFiller"),w(M)):I(M)}function w(M){return M===45?(t.consume(M),w):M===58?(s=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(M),t.exit("tableDelimiterMarker"),T):(t.exit("tableDelimiterFiller"),T(M))}function T(M){return Jn(M)?fr(t,E,"whitespace")(M):E(M)}function E(M){return M===124?x(M):M===null||fn(M)?!s||a!==i?I(M):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(M)):I(M)}function I(M){return n(M)}function j(M){return t.enter("tableRow"),O(M)}function O(M){return M===124?(t.enter("tableCellDivider"),t.consume(M),t.exit("tableCellDivider"),O):M===null||fn(M)?(t.exit("tableRow"),e(M)):Jn(M)?fr(t,O,"whitespace")(M):(t.enter("data"),L(M))}function L(M){return M===null||M===124||Vr(M)?(t.exit("data"),O(M)):(t.consume(M),M===92?N:L)}function N(M){return M===92||M===124?(t.consume(M),L):L(M)}}function yot(t,e){let n=-1,r=!0,a=0,i=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,u,d,h;const m=new fot;for(;++n<t.length;){const y=t[n],x=y[1];y[0]==="enter"?x.type==="tableHead"?(o=!1,l!==0&&(oY(m,e,l,u,d),d=void 0,l=0),u={type:"table",start:Object.assign({},x.start),end:Object.assign({},x.end)},m.add(n,0,[["enter",u,e]])):x.type==="tableRow"||x.type==="tableDelimiterRow"?(r=!0,h=void 0,i=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},x.start),end:Object.assign({},x.end)},m.add(n,0,[["enter",d,e]])),a=x.type==="tableDelimiterRow"?2:d?3:1):a&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(i[1]!==0&&(s[0]=s[1],h=S4(m,e,i,a,void 0,h),i=[0,0,0,0]),s[2]=n)):x.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(s[0]=s[1],h=S4(m,e,i,a,void 0,h)),i=s,s=[i[1],n,0,0])):x.type==="tableHead"?(o=!0,l=n):x.type==="tableRow"||x.type==="tableDelimiterRow"?(l=n,i[1]!==0?(s[0]=s[1],h=S4(m,e,i,a,n,h)):s[1]!==0&&(h=S4(m,e,s,a,n,h)),a=0):a&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&oY(m,e,l,u,d),m.consume(e.events),n=-1;++n<e.events.length;){const y=e.events[n];y[0]==="enter"&&y[1].type==="table"&&(y[1]._align=pot(e.events,n))}return t}function S4(t,e,n,r,a,i){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(i.end=Object.assign({},j1(e.events,n[0])),t.add(n[0],0,[["exit",i,e]]));const l=j1(e.events,n[1]);if(i={type:s,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",i,e]]),n[2]!==0){const u=j1(e.events,n[2]),d=j1(e.events,n[3]),h={type:o,start:Object.assign({},u),end:Object.assign({},d)};if(t.add(n[2],0,[["enter",h,e]]),r!==2){const m=e.events[n[2]],y=e.events[n[3]];if(m[1].end=Object.assign({},y[1].end),m[1].type="chunkText",m[1].contentType="text",n[3]>n[2]+1){const x=n[2]+1,v=n[3]-n[2]-1;t.add(x,v,[])}}t.add(n[3]+1,0,[["exit",h,e]])}return a!==void 0&&(i.end=Object.assign({},j1(e.events,a)),t.add(a,0,[["exit",i,e]]),i=void 0),i}function oY(t,e,n,r,a){const i=[],s=j1(e.events,n);a&&(a.end=Object.assign({},s),i.push(["exit",a,e])),r.end=Object.assign({},s),i.push(["exit",r,e]),t.add(n+1,0,i)}function j1(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const bot={name:"tasklistCheck",tokenize:vot};function xot(){return{text:{91:bot}}}function vot(t,e,n){const r=this;return a;function a(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),i)}function i(l){return Vr(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),o):n(l)}function o(l){return fn(l)?e(l):Jn(l)?t.check({tokenize:Sot},e,n)(l):n(l)}}function Sot(t,e,n){return fr(t,r,"whitespace");function r(a){return a===null?n(a):e(a)}}function _ot(t){return yre([Wst(),rot(),dot(t),mot(),xot()])}const Cot={};function wot(t){const e=this,n=t||Cot,r=e.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(_ot(n)),i.push($st()),s.push(Gst(n))}const lY=/[#.]/g;function Eot(t,e){const n=t||"",r={};let a=0,i,s;for(;a<n.length;){lY.lastIndex=a;const o=lY.exec(n),l=n.slice(a,o?o.index:n.length);l&&(i?i==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:s=l,a+=l.length),o&&(i=o[0],a++)}return{type:"element",tagName:s||e||"div",properties:r,children:[]}}function lae(t,e,n){const r=n?kot(n):void 0;function a(i,s,...o){let l;if(i==null){l={type:"root",children:[]};const u=s;o.unshift(u)}else{l=Eot(i,e);const u=l.tagName.toLowerCase(),d=r?r.get(u):void 0;if(l.tagName=d||u,Tot(s))o.unshift(s);else for(const[h,m]of Object.entries(s))Aot(t,l.properties,h,m)}for(const u of o)Aj(l.children,u);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return a}function Tot(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const r of n){const a=e[r];if(a&&typeof a=="object"){if(!Array.isArray(a))return!0;const i=a;for(const s of i)if(typeof s!="number"&&typeof s!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function Aot(t,e,n,r){const a=iM(t,n);let i;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;i=r}else typeof r=="boolean"?i=r:typeof r=="string"?a.spaceSeparated?i=SW(r):a.commaSeparated?i=gW(r):a.commaOrSpaceSeparated?i=SW(gW(r).join(" ")):i=cY(a,a.property,r):Array.isArray(r)?i=[...r]:i=a.property==="style"?Rot(r):String(r);if(Array.isArray(i)){const s=[];for(const o of i)s.push(cY(a,a.property,o));i=s}a.property==="className"&&Array.isArray(e.className)&&(i=e.className.concat(i)),e[a.property]=i}}function Aj(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)Aj(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?Aj(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function cY(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||zv(n)===zv(e)))return!0}return n}function Rot(t){const e=[];for(const[n,r]of Object.entries(t))e.push([n,r].join(": "));return e.join("; ")}function kot(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const Iot=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],jot=lae(zw,"div"),Oot=lae(Wy,"g",Iot);function Dot(t){const e=String(t),n=[];return{toOffset:a,toPoint:r};function r(i){if(typeof i=="number"&&i>-1&&i<=e.length){let s=0;for(;;){let o=n[s];if(o===void 0){const l=uY(e,n[s-1]);o=l===-1?e.length+1:l+1,n[s]=o}if(o>i)return{line:s+1,column:i-(s>0?n[s-1]:0)+1,offset:i};s++}}}function a(i){if(i&&typeof i.line=="number"&&typeof i.column=="number"&&!Number.isNaN(i.line)&&!Number.isNaN(i.column)){for(;n.length<i.line;){const o=n[n.length-1],l=uY(e,o),u=l===-1?e.length+1:l+1;if(o===u)break;n.push(u)}const s=(i.line>1?n[i.line-2]:0)+i.column-1;if(s<n[i.line-1])return s}}}function uY(t,e){const n=t.indexOf("\r",e),r=t.indexOf(`
`,e);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const cg={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},cae={}.hasOwnProperty,Mot=Object.prototype;function Not(t,e){const n=e||{};return vM({file:n.file||void 0,location:!1,schema:n.space==="svg"?Wy:zw,verbose:n.verbose||!1},t)}function vM(t,e){let n;switch(e.nodeName){case"#comment":{const r=e;return n={type:"comment",value:r.data},q4(t,r,n),n}case"#document":case"#document-fragment":{const r=e,a="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:uae(t,e.childNodes),data:{quirksMode:a}},t.file&&t.location){const i=String(t.file),s=Dot(i),o=s.toPoint(0),l=s.toPoint(i.length);n.position={start:o,end:l}}return n}case"#documentType":{const r=e;return n={type:"doctype"},q4(t,r,n),n}case"#text":{const r=e;return n={type:"text",value:r.value},q4(t,r,n),n}default:return n=Pot(t,e),n}}function uae(t,e){let n=-1;const r=[];for(;++n<e.length;){const a=vM(t,e[n]);r.push(a)}return r}function Pot(t,e){const n=t.schema;t.schema=e.namespaceURI===cg.svg?Wy:zw;let r=-1;const a={};for(;++r<e.attrs.length;){const o=e.attrs[r],l=(o.prefix?o.prefix+":":"")+o.name;cae.call(Mot,l)||(a[l]=o.value)}const s=(t.schema.space==="svg"?Oot:jot)(e.tagName,a,uae(t,e.childNodes));if(q4(t,e,s),s.tagName==="template"){const o=e,l=o.sourceCodeLocation,u=l&&l.startTag&&L1(l.startTag),d=l&&l.endTag&&L1(l.endTag),h=vM(t,o.content);u&&d&&t.file&&(h.position={start:u.end,end:d.start}),s.content=h}return t.schema=n,s}function q4(t,e,n){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&t.file){const r=Lot(t,n,e.sourceCodeLocation);r&&(t.location=!0,n.position=r)}}function Lot(t,e,n){const r=L1(n);if(e.type==="element"){const a=e.children[e.children.length-1];if(r&&!n.endTag&&a&&a.position&&a.position.end&&(r.end=Object.assign({},a.position.end)),t.verbose){const i={};let s;if(n.attrs)for(s in n.attrs)cae.call(n.attrs,s)&&(i[iM(t.schema,s).property]=L1(n.attrs[s]));n.startTag;const o=L1(n.startTag),l=n.endTag?L1(n.endTag):void 0,u={opening:o};l&&(u.closing=l),u.properties=i,e.data={position:u}}}return r}function L1(t){const e=dY({line:t.startLine,column:t.startCol,offset:t.startOffset}),n=dY({line:t.endLine,column:t.endCol,offset:t.endOffset});return e||n?{start:e,end:n}:void 0}function dY(t){return t.line&&t.column?t:void 0}class AS{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}AS.prototype.property={};AS.prototype.normal={};AS.prototype.space=null;function dae(t,e){const n={},r={};let a=-1;for(;++a<t.length;)Object.assign(n,t[a].property),Object.assign(r,t[a].normal);return new AS(n,r,e)}function Rj(t){return t.toLowerCase()}class $c{constructor(e,n){this.property=e,this.attribute=n}}$c.prototype.space=null;$c.prototype.boolean=!1;$c.prototype.booleanish=!1;$c.prototype.overloadedBoolean=!1;$c.prototype.number=!1;$c.prototype.commaSeparated=!1;$c.prototype.spaceSeparated=!1;$c.prototype.commaOrSpaceSeparated=!1;$c.prototype.mustUseProperty=!1;$c.prototype.defined=!1;let zot=0;const Dn=Zg(),wi=Zg(),fae=Zg(),kt=Zg(),ta=Zg(),Q1=Zg(),Tl=Zg();function Zg(){return 2**++zot}const kj=Object.freeze(Object.defineProperty({__proto__:null,boolean:Dn,booleanish:wi,commaOrSpaceSeparated:Tl,commaSeparated:Q1,number:kt,overloadedBoolean:fae,spaceSeparated:ta},Symbol.toStringTag,{value:"Module"})),ok=Object.keys(kj);class SM extends $c{constructor(e,n,r,a){let i=-1;if(super(e,n),fY(this,"space",a),typeof r=="number")for(;++i<ok.length;){const s=ok[i];fY(this,ok[i],(r&kj[s])===kj[s])}}}SM.prototype.defined=!0;function fY(t,e,n){n&&(t[e]=n)}const Fot={}.hasOwnProperty;function Ky(t){const e={},n={};let r;for(r in t.properties)if(Fot.call(t.properties,r)){const a=t.properties[r],i=new SM(r,t.transform(t.attributes||{},r),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),e[r]=i,n[Rj(r)]=r,n[Rj(i.attribute)]=r}return new AS(e,n,t.space)}const hae=Ky({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),pae=Ky({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function mae(t,e){return e in t?t[e]:e}function gae(t,e){return mae(t,e.toLowerCase())}const yae=Ky({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:gae,properties:{xmlns:null,xmlnsXLink:null}}),bae=Ky({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:wi,ariaAutoComplete:null,ariaBusy:wi,ariaChecked:wi,ariaColCount:kt,ariaColIndex:kt,ariaColSpan:kt,ariaControls:ta,ariaCurrent:null,ariaDescribedBy:ta,ariaDetails:null,ariaDisabled:wi,ariaDropEffect:ta,ariaErrorMessage:null,ariaExpanded:wi,ariaFlowTo:ta,ariaGrabbed:wi,ariaHasPopup:null,ariaHidden:wi,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ta,ariaLevel:kt,ariaLive:null,ariaModal:wi,ariaMultiLine:wi,ariaMultiSelectable:wi,ariaOrientation:null,ariaOwns:ta,ariaPlaceholder:null,ariaPosInSet:kt,ariaPressed:wi,ariaReadOnly:wi,ariaRelevant:null,ariaRequired:wi,ariaRoleDescription:ta,ariaRowCount:kt,ariaRowIndex:kt,ariaRowSpan:kt,ariaSelected:wi,ariaSetSize:kt,ariaSort:null,ariaValueMax:kt,ariaValueMin:kt,ariaValueNow:kt,ariaValueText:null,role:null}}),Bot=Ky({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:gae,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Q1,acceptCharset:ta,accessKey:ta,action:null,allow:null,allowFullScreen:Dn,allowPaymentRequest:Dn,allowUserMedia:Dn,alt:null,as:null,async:Dn,autoCapitalize:null,autoComplete:ta,autoFocus:Dn,autoPlay:Dn,blocking:ta,capture:null,charSet:null,checked:Dn,cite:null,className:ta,cols:kt,colSpan:null,content:null,contentEditable:wi,controls:Dn,controlsList:ta,coords:kt|Q1,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Dn,defer:Dn,dir:null,dirName:null,disabled:Dn,download:fae,draggable:wi,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Dn,formTarget:null,headers:ta,height:kt,hidden:Dn,high:kt,href:null,hrefLang:null,htmlFor:ta,httpEquiv:ta,id:null,imageSizes:null,imageSrcSet:null,inert:Dn,inputMode:null,integrity:null,is:null,isMap:Dn,itemId:null,itemProp:ta,itemRef:ta,itemScope:Dn,itemType:ta,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Dn,low:kt,manifest:null,max:null,maxLength:kt,media:null,method:null,min:null,minLength:kt,multiple:Dn,muted:Dn,name:null,nonce:null,noModule:Dn,noValidate:Dn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Dn,optimum:kt,pattern:null,ping:ta,placeholder:null,playsInline:Dn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Dn,referrerPolicy:null,rel:ta,required:Dn,reversed:Dn,rows:kt,rowSpan:kt,sandbox:ta,scope:null,scoped:Dn,seamless:Dn,selected:Dn,shadowRootClonable:Dn,shadowRootDelegatesFocus:Dn,shadowRootMode:null,shape:null,size:kt,sizes:null,slot:null,span:kt,spellCheck:wi,src:null,srcDoc:null,srcLang:null,srcSet:null,start:kt,step:null,style:null,tabIndex:kt,target:null,title:null,translate:null,type:null,typeMustMatch:Dn,useMap:null,value:wi,width:kt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ta,axis:null,background:null,bgColor:null,border:kt,borderColor:null,bottomMargin:kt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Dn,declare:Dn,event:null,face:null,frame:null,frameBorder:null,hSpace:kt,leftMargin:kt,link:null,longDesc:null,lowSrc:null,marginHeight:kt,marginWidth:kt,noResize:Dn,noHref:Dn,noShade:Dn,noWrap:Dn,object:null,profile:null,prompt:null,rev:null,rightMargin:kt,rules:null,scheme:null,scrolling:wi,standby:null,summary:null,text:null,topMargin:kt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:kt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Dn,disableRemotePlayback:Dn,prefix:null,property:null,results:kt,security:null,unselectable:null}}),Hot=Ky({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:mae,properties:{about:Tl,accentHeight:kt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:kt,amplitude:kt,arabicForm:null,ascent:kt,attributeName:null,attributeType:null,azimuth:kt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:kt,by:null,calcMode:null,capHeight:kt,className:ta,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:kt,diffuseConstant:kt,direction:null,display:null,dur:null,divisor:kt,dominantBaseline:null,download:Dn,dx:null,dy:null,edgeMode:null,editable:null,elevation:kt,enableBackground:null,end:null,event:null,exponent:kt,externalResourcesRequired:null,fill:null,fillOpacity:kt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Q1,g2:Q1,glyphName:Q1,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:kt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:kt,horizOriginX:kt,horizOriginY:kt,id:null,ideographic:kt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:kt,k:kt,k1:kt,k2:kt,k3:kt,k4:kt,kernelMatrix:Tl,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:kt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:kt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:kt,overlineThickness:kt,paintOrder:null,panose1:null,path:null,pathLength:kt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ta,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:kt,pointsAtY:kt,pointsAtZ:kt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Tl,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Tl,rev:Tl,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Tl,requiredFeatures:Tl,requiredFonts:Tl,requiredFormats:Tl,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:kt,specularExponent:kt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:kt,strikethroughThickness:kt,string:null,stroke:null,strokeDashArray:Tl,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:kt,strokeOpacity:kt,strokeWidth:null,style:null,surfaceScale:kt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Tl,tabIndex:kt,tableValues:null,target:null,targetX:kt,targetY:kt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Tl,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:kt,underlineThickness:kt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:kt,values:null,vAlphabetic:kt,vMathematical:kt,vectorEffect:null,vHanging:kt,vIdeographic:kt,version:null,vertAdvY:kt,vertOriginX:kt,vertOriginY:kt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:kt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Uot=/^data[-\w.:]+$/i,hY=/-[a-z]/g,$ot=/[A-Z]/g;function Got(t,e){const n=Rj(e);let r=e,a=$c;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Uot.test(e)){if(e.charAt(4)==="-"){const i=e.slice(5).replace(hY,Vot);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=e.slice(4);if(!hY.test(i)){let s=i.replace($ot,qot);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}a=SM}return new a(r,e)}function qot(t){return"-"+t.toLowerCase()}function Vot(t){return t.charAt(1).toUpperCase()}const Wot=dae([pae,hae,yae,bae,Bot],"html"),xae=dae([pae,hae,yae,bae,Hot],"svg"),Yot={},Kot={}.hasOwnProperty,vae=Ure("type",{handlers:{root:Qot,element:nlt,text:elt,comment:tlt,doctype:Jot}});function Xot(t,e){const r=(e||Yot).space;return vae(t,r==="svg"?xae:Wot)}function Qot(t,e){const n={nodeName:"#document",mode:(t.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=_M(t.children,n,e),Xy(t,n),n}function Zot(t,e){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=_M(t.children,n,e),Xy(t,n),n}function Jot(t){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Xy(t,e),e}function elt(t){const e={nodeName:"#text",value:t.value,parentNode:null};return Xy(t,e),e}function tlt(t){const e={nodeName:"#comment",data:t.value,parentNode:null};return Xy(t,e),e}function nlt(t,e){const n=e;let r=n;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=xae);const a=[];let i;if(t.properties){for(i in t.properties)if(i!=="children"&&Kot.call(t.properties,i)){const l=rlt(r,i,t.properties[i]);l&&a.push(l)}}const s=r.space,o={nodeName:t.tagName,tagName:t.tagName,attrs:a,namespaceURI:cg[s],childNodes:[],parentNode:null};return o.childNodes=_M(t.children,o,r),Xy(t,o),t.tagName==="template"&&t.content&&(o.content=Zot(t.content,r)),o}function rlt(t,e,n){const r=Got(t,e);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?tre(n):cre(n));const a={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const i=a.name.indexOf(":");i<0?a.prefix="":(a.name=a.name.slice(i+1),a.prefix=r.attribute.slice(0,i)),a.namespace=cg[r.space]}return a}function _M(t,e,n){let r=-1;const a=[];if(t)for(;++r<t.length;){const i=vae(t[r],n);i.parentNode=e,a.push(i)}return a}function Xy(t,e){const n=t.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,e.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const alt=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],ilt=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Ra="";var xe;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(xe||(xe={}));const Yo={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function Sae(t){return t>=55296&&t<=57343}function slt(t){return t>=56320&&t<=57343}function olt(t,e){return(t-55296)*1024+9216+e}function _ae(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function Cae(t){return t>=64976&&t<=65007||ilt.has(t)}var ot;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ot||(ot={}));const llt=65536;class clt{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=llt,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,n){const{line:r,col:a,offset:i}=this,s=a+n,o=i+n;return{code:e,startLine:r,endLine:r,startCol:s,endCol:s,startOffset:o,endOffset:o}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(slt(n))return this.pos++,this._addGap(),olt(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,xe.EOF;return this._err(ot.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let r=0;r<e.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==e.charCodeAt(r))return!1;return!0}peek(e){const n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,xe.EOF;const r=this.html.charCodeAt(n);return r===xe.CARRIAGE_RETURN?xe.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,xe.EOF;let e=this.html.charCodeAt(this.pos);return e===xe.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,xe.LINE_FEED):e===xe.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Sae(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===xe.LINE_FEED||e===xe.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){_ae(e)?this._err(ot.controlCharacterInInputStream):Cae(e)&&this._err(ot.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Yn;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(Yn||(Yn={}));function wae(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}const ult=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),dlt=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function flt(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=dlt.get(t))!==null&&e!==void 0?e:t}var ts;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(ts||(ts={}));const hlt=32;var yp;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(yp||(yp={}));function Ij(t){return t>=ts.ZERO&&t<=ts.NINE}function plt(t){return t>=ts.UPPER_A&&t<=ts.UPPER_F||t>=ts.LOWER_A&&t<=ts.LOWER_F}function mlt(t){return t>=ts.UPPER_A&&t<=ts.UPPER_Z||t>=ts.LOWER_A&&t<=ts.LOWER_Z||Ij(t)}function glt(t){return t===ts.EQUALS||mlt(t)}var Zi;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(Zi||(Zi={}));var Lf;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Lf||(Lf={}));class ylt{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=Zi.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Lf.Strict}startEntity(e){this.decodeMode=e,this.state=Zi.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case Zi.EntityStart:return e.charCodeAt(n)===ts.NUM?(this.state=Zi.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=Zi.NamedEntity,this.stateNamedEntity(e,n));case Zi.NumericStart:return this.stateNumericStart(e,n);case Zi.NumericDecimal:return this.stateNumericDecimal(e,n);case Zi.NumericHex:return this.stateNumericHex(e,n);case Zi.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|hlt)===ts.LOWER_X?(this.state=Zi.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=Zi.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,a){if(n!==r){const i=r-n;this.result=this.result*Math.pow(a,i)+Number.parseInt(e.substr(n,i),a),this.consumed+=i}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const a=e.charCodeAt(n);if(Ij(a)||plt(a))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const a=e.charCodeAt(n);if(Ij(a))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===ts.SEMI)this.consumed+=1;else if(this.decodeMode===Lf.Strict)return 0;return this.emitCodePoint(flt(this.result),this.consumed),this.errors&&(e!==ts.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let a=r[this.treeIndex],i=(a&yp.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const s=e.charCodeAt(n);if(this.treeIndex=blt(r,a,this.treeIndex+Math.max(1,i),s),this.treeIndex<0)return this.result===0||this.decodeMode===Lf.Attribute&&(i===0||glt(s))?0:this.emitNotTerminatedNamedEntity();if(a=r[this.treeIndex],i=(a&yp.VALUE_LENGTH)>>14,i!==0){if(s===ts.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==Lf.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,a=(r[n]&yp.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,a,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:a}=this;return this.emitCodePoint(n===1?a[e]&~yp.VALUE_LENGTH:a[e+1],r),n===3&&this.emitCodePoint(a[e+2],r),r}end(){var e;switch(this.state){case Zi.NamedEntity:return this.result!==0&&(this.decodeMode!==Lf.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Zi.NumericDecimal:return this.emitNumericEntity(0,2);case Zi.NumericHex:return this.emitNumericEntity(0,3);case Zi.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Zi.EntityStart:return 0}}}function blt(t,e,n,r){const a=(e&yp.BRANCH_LENGTH)>>7,i=e&yp.JUMP_TABLE;if(a===0)return i!==0&&r===i?n:-1;if(i){const l=r-i;return l<0||l>=a?-1:t[n+l]-1}let s=n,o=s+a-1;for(;s<=o;){const l=s+o>>>1,u=t[l];if(u<r)s=l+1;else if(u>r)o=l-1;else return t[l+a]}return-1}var xt;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(xt||(xt={}));var bg;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(bg||(bg={}));var Cc;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(Cc||(Cc={}));var qe;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(qe||(qe={}));var Y;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(Y||(Y={}));const xlt=new Map([[qe.A,Y.A],[qe.ADDRESS,Y.ADDRESS],[qe.ANNOTATION_XML,Y.ANNOTATION_XML],[qe.APPLET,Y.APPLET],[qe.AREA,Y.AREA],[qe.ARTICLE,Y.ARTICLE],[qe.ASIDE,Y.ASIDE],[qe.B,Y.B],[qe.BASE,Y.BASE],[qe.BASEFONT,Y.BASEFONT],[qe.BGSOUND,Y.BGSOUND],[qe.BIG,Y.BIG],[qe.BLOCKQUOTE,Y.BLOCKQUOTE],[qe.BODY,Y.BODY],[qe.BR,Y.BR],[qe.BUTTON,Y.BUTTON],[qe.CAPTION,Y.CAPTION],[qe.CENTER,Y.CENTER],[qe.CODE,Y.CODE],[qe.COL,Y.COL],[qe.COLGROUP,Y.COLGROUP],[qe.DD,Y.DD],[qe.DESC,Y.DESC],[qe.DETAILS,Y.DETAILS],[qe.DIALOG,Y.DIALOG],[qe.DIR,Y.DIR],[qe.DIV,Y.DIV],[qe.DL,Y.DL],[qe.DT,Y.DT],[qe.EM,Y.EM],[qe.EMBED,Y.EMBED],[qe.FIELDSET,Y.FIELDSET],[qe.FIGCAPTION,Y.FIGCAPTION],[qe.FIGURE,Y.FIGURE],[qe.FONT,Y.FONT],[qe.FOOTER,Y.FOOTER],[qe.FOREIGN_OBJECT,Y.FOREIGN_OBJECT],[qe.FORM,Y.FORM],[qe.FRAME,Y.FRAME],[qe.FRAMESET,Y.FRAMESET],[qe.H1,Y.H1],[qe.H2,Y.H2],[qe.H3,Y.H3],[qe.H4,Y.H4],[qe.H5,Y.H5],[qe.H6,Y.H6],[qe.HEAD,Y.HEAD],[qe.HEADER,Y.HEADER],[qe.HGROUP,Y.HGROUP],[qe.HR,Y.HR],[qe.HTML,Y.HTML],[qe.I,Y.I],[qe.IMG,Y.IMG],[qe.IMAGE,Y.IMAGE],[qe.INPUT,Y.INPUT],[qe.IFRAME,Y.IFRAME],[qe.KEYGEN,Y.KEYGEN],[qe.LABEL,Y.LABEL],[qe.LI,Y.LI],[qe.LINK,Y.LINK],[qe.LISTING,Y.LISTING],[qe.MAIN,Y.MAIN],[qe.MALIGNMARK,Y.MALIGNMARK],[qe.MARQUEE,Y.MARQUEE],[qe.MATH,Y.MATH],[qe.MENU,Y.MENU],[qe.META,Y.META],[qe.MGLYPH,Y.MGLYPH],[qe.MI,Y.MI],[qe.MO,Y.MO],[qe.MN,Y.MN],[qe.MS,Y.MS],[qe.MTEXT,Y.MTEXT],[qe.NAV,Y.NAV],[qe.NOBR,Y.NOBR],[qe.NOFRAMES,Y.NOFRAMES],[qe.NOEMBED,Y.NOEMBED],[qe.NOSCRIPT,Y.NOSCRIPT],[qe.OBJECT,Y.OBJECT],[qe.OL,Y.OL],[qe.OPTGROUP,Y.OPTGROUP],[qe.OPTION,Y.OPTION],[qe.P,Y.P],[qe.PARAM,Y.PARAM],[qe.PLAINTEXT,Y.PLAINTEXT],[qe.PRE,Y.PRE],[qe.RB,Y.RB],[qe.RP,Y.RP],[qe.RT,Y.RT],[qe.RTC,Y.RTC],[qe.RUBY,Y.RUBY],[qe.S,Y.S],[qe.SCRIPT,Y.SCRIPT],[qe.SEARCH,Y.SEARCH],[qe.SECTION,Y.SECTION],[qe.SELECT,Y.SELECT],[qe.SOURCE,Y.SOURCE],[qe.SMALL,Y.SMALL],[qe.SPAN,Y.SPAN],[qe.STRIKE,Y.STRIKE],[qe.STRONG,Y.STRONG],[qe.STYLE,Y.STYLE],[qe.SUB,Y.SUB],[qe.SUMMARY,Y.SUMMARY],[qe.SUP,Y.SUP],[qe.TABLE,Y.TABLE],[qe.TBODY,Y.TBODY],[qe.TEMPLATE,Y.TEMPLATE],[qe.TEXTAREA,Y.TEXTAREA],[qe.TFOOT,Y.TFOOT],[qe.TD,Y.TD],[qe.TH,Y.TH],[qe.THEAD,Y.THEAD],[qe.TITLE,Y.TITLE],[qe.TR,Y.TR],[qe.TRACK,Y.TRACK],[qe.TT,Y.TT],[qe.U,Y.U],[qe.UL,Y.UL],[qe.SVG,Y.SVG],[qe.VAR,Y.VAR],[qe.WBR,Y.WBR],[qe.XMP,Y.XMP]]);function Qy(t){var e;return(e=xlt.get(t))!==null&&e!==void 0?e:Y.UNKNOWN}const Ct=Y,vlt={[xt.HTML]:new Set([Ct.ADDRESS,Ct.APPLET,Ct.AREA,Ct.ARTICLE,Ct.ASIDE,Ct.BASE,Ct.BASEFONT,Ct.BGSOUND,Ct.BLOCKQUOTE,Ct.BODY,Ct.BR,Ct.BUTTON,Ct.CAPTION,Ct.CENTER,Ct.COL,Ct.COLGROUP,Ct.DD,Ct.DETAILS,Ct.DIR,Ct.DIV,Ct.DL,Ct.DT,Ct.EMBED,Ct.FIELDSET,Ct.FIGCAPTION,Ct.FIGURE,Ct.FOOTER,Ct.FORM,Ct.FRAME,Ct.FRAMESET,Ct.H1,Ct.H2,Ct.H3,Ct.H4,Ct.H5,Ct.H6,Ct.HEAD,Ct.HEADER,Ct.HGROUP,Ct.HR,Ct.HTML,Ct.IFRAME,Ct.IMG,Ct.INPUT,Ct.LI,Ct.LINK,Ct.LISTING,Ct.MAIN,Ct.MARQUEE,Ct.MENU,Ct.META,Ct.NAV,Ct.NOEMBED,Ct.NOFRAMES,Ct.NOSCRIPT,Ct.OBJECT,Ct.OL,Ct.P,Ct.PARAM,Ct.PLAINTEXT,Ct.PRE,Ct.SCRIPT,Ct.SECTION,Ct.SELECT,Ct.SOURCE,Ct.STYLE,Ct.SUMMARY,Ct.TABLE,Ct.TBODY,Ct.TD,Ct.TEMPLATE,Ct.TEXTAREA,Ct.TFOOT,Ct.TH,Ct.THEAD,Ct.TITLE,Ct.TR,Ct.TRACK,Ct.UL,Ct.WBR,Ct.XMP]),[xt.MATHML]:new Set([Ct.MI,Ct.MO,Ct.MN,Ct.MS,Ct.MTEXT,Ct.ANNOTATION_XML]),[xt.SVG]:new Set([Ct.TITLE,Ct.FOREIGN_OBJECT,Ct.DESC]),[xt.XLINK]:new Set,[xt.XML]:new Set,[xt.XMLNS]:new Set},jj=new Set([Ct.H1,Ct.H2,Ct.H3,Ct.H4,Ct.H5,Ct.H6]);qe.STYLE,qe.SCRIPT,qe.XMP,qe.IFRAME,qe.NOEMBED,qe.NOFRAMES,qe.PLAINTEXT;var _e;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(_e||(_e={}));const ci={DATA:_e.DATA,RCDATA:_e.RCDATA,RAWTEXT:_e.RAWTEXT,SCRIPT_DATA:_e.SCRIPT_DATA,PLAINTEXT:_e.PLAINTEXT,CDATA_SECTION:_e.CDATA_SECTION};function Slt(t){return t>=xe.DIGIT_0&&t<=xe.DIGIT_9}function S2(t){return t>=xe.LATIN_CAPITAL_A&&t<=xe.LATIN_CAPITAL_Z}function _lt(t){return t>=xe.LATIN_SMALL_A&&t<=xe.LATIN_SMALL_Z}function Jh(t){return _lt(t)||S2(t)}function pY(t){return Jh(t)||Slt(t)}function _4(t){return t+32}function Eae(t){return t===xe.SPACE||t===xe.LINE_FEED||t===xe.TABULATION||t===xe.FORM_FEED}function mY(t){return Eae(t)||t===xe.SOLIDUS||t===xe.GREATER_THAN_SIGN}function Clt(t){return t===xe.NULL?ot.nullCharacterReference:t>1114111?ot.characterReferenceOutsideUnicodeRange:Sae(t)?ot.surrogateCharacterReference:Cae(t)?ot.noncharacterCharacterReference:_ae(t)||t===xe.CARRIAGE_RETURN?ot.controlCharacterReference:null}class wlt{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=_e.DATA,this.returnState=_e.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new clt(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new ylt(ult,(r,a)=>{this.preprocessor.pos=this.entityStartPos+a-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(ot.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(ot.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const a=Clt(r);a&&this._err(a,1)}}:void 0)}_err(e,n=0){var r,a;(a=(r=this.handler).onParseError)===null||a===void 0||a.call(r,this.preprocessor.getError(e,n))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e?.())}write(e,n,r){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Yn.START_TAG,tagName:"",tagID:Y.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Yn.END_TAG,tagName:"",tagID:Y.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:Yn.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:Yn.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;const r=this.currentToken;if(wae(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const a=(e=(n=r.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);a[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ot.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=Qy(e.tagName),e.type===Yn.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(ot.endTagWithAttributes),e.selfClosing&&this._err(ot.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case Yn.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Yn.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Yn.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:Yn.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,n)}_emitCodePoint(e){const n=Eae(e)?Yn.WHITESPACE_CHARACTER:e===xe.NULL?Yn.NULL_CHARACTER:Yn.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(Yn.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=_e.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Lf.Attribute:Lf.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===_e.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===_e.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===_e.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case _e.DATA:{this._stateData(e);break}case _e.RCDATA:{this._stateRcdata(e);break}case _e.RAWTEXT:{this._stateRawtext(e);break}case _e.SCRIPT_DATA:{this._stateScriptData(e);break}case _e.PLAINTEXT:{this._statePlaintext(e);break}case _e.TAG_OPEN:{this._stateTagOpen(e);break}case _e.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case _e.TAG_NAME:{this._stateTagName(e);break}case _e.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case _e.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case _e.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case _e.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case _e.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case _e.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case _e.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case _e.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case _e.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case _e.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case _e.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case _e.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case _e.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case _e.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case _e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case _e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case _e.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case _e.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case _e.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case _e.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case _e.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case _e.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case _e.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case _e.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case _e.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case _e.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case _e.BOGUS_COMMENT:{this._stateBogusComment(e);break}case _e.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case _e.COMMENT_START:{this._stateCommentStart(e);break}case _e.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case _e.COMMENT:{this._stateComment(e);break}case _e.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case _e.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case _e.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case _e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case _e.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case _e.COMMENT_END:{this._stateCommentEnd(e);break}case _e.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case _e.DOCTYPE:{this._stateDoctype(e);break}case _e.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case _e.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case _e.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case _e.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case _e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case _e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case _e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case _e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case _e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case _e.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case _e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case _e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case _e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case _e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case _e.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case _e.CDATA_SECTION:{this._stateCdataSection(e);break}case _e.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case _e.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case _e.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case _e.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case xe.LESS_THAN_SIGN:{this.state=_e.TAG_OPEN;break}case xe.AMPERSAND:{this._startCharacterReference();break}case xe.NULL:{this._err(ot.unexpectedNullCharacter),this._emitCodePoint(e);break}case xe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case xe.AMPERSAND:{this._startCharacterReference();break}case xe.LESS_THAN_SIGN:{this.state=_e.RCDATA_LESS_THAN_SIGN;break}case xe.NULL:{this._err(ot.unexpectedNullCharacter),this._emitChars(Ra);break}case xe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case xe.LESS_THAN_SIGN:{this.state=_e.RAWTEXT_LESS_THAN_SIGN;break}case xe.NULL:{this._err(ot.unexpectedNullCharacter),this._emitChars(Ra);break}case xe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case xe.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_LESS_THAN_SIGN;break}case xe.NULL:{this._err(ot.unexpectedNullCharacter),this._emitChars(Ra);break}case xe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case xe.NULL:{this._err(ot.unexpectedNullCharacter),this._emitChars(Ra);break}case xe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(Jh(e))this._createStartTagToken(),this.state=_e.TAG_NAME,this._stateTagName(e);else switch(e){case xe.EXCLAMATION_MARK:{this.state=_e.MARKUP_DECLARATION_OPEN;break}case xe.SOLIDUS:{this.state=_e.END_TAG_OPEN;break}case xe.QUESTION_MARK:{this._err(ot.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=_e.BOGUS_COMMENT,this._stateBogusComment(e);break}case xe.EOF:{this._err(ot.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ot.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=_e.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(Jh(e))this._createEndTagToken(),this.state=_e.TAG_NAME,this._stateTagName(e);else switch(e){case xe.GREATER_THAN_SIGN:{this._err(ot.missingEndTagName),this.state=_e.DATA;break}case xe.EOF:{this._err(ot.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ot.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=_e.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const n=this.currentToken;switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:{this.state=_e.BEFORE_ATTRIBUTE_NAME;break}case xe.SOLIDUS:{this.state=_e.SELF_CLOSING_START_TAG;break}case xe.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentTagToken();break}case xe.NULL:{this._err(ot.unexpectedNullCharacter),n.tagName+=Ra;break}case xe.EOF:{this._err(ot.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(S2(e)?_4(e):e)}}_stateRcdataLessThanSign(e){e===xe.SOLIDUS?this.state=_e.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=_e.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){Jh(e)?(this.state=_e.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=_e.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=_e.BEFORE_ATTRIBUTE_NAME,!1;case xe.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=_e.SELF_CLOSING_START_TAG,!1;case xe.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=_e.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=_e.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===xe.SOLIDUS?this.state=_e.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=_e.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){Jh(e)?(this.state=_e.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=_e.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=_e.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case xe.SOLIDUS:{this.state=_e.SCRIPT_DATA_END_TAG_OPEN;break}case xe.EXCLAMATION_MARK:{this.state=_e.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=_e.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){Jh(e)?(this.state=_e.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=_e.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=_e.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===xe.HYPHEN_MINUS?(this.state=_e.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=_e.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===xe.HYPHEN_MINUS?(this.state=_e.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=_e.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case xe.HYPHEN_MINUS:{this.state=_e.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case xe.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case xe.NULL:{this._err(ot.unexpectedNullCharacter),this._emitChars(Ra);break}case xe.EOF:{this._err(ot.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case xe.HYPHEN_MINUS:{this.state=_e.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case xe.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case xe.NULL:{this._err(ot.unexpectedNullCharacter),this.state=_e.SCRIPT_DATA_ESCAPED,this._emitChars(Ra);break}case xe.EOF:{this._err(ot.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_e.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case xe.HYPHEN_MINUS:{this._emitChars("-");break}case xe.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case xe.GREATER_THAN_SIGN:{this.state=_e.SCRIPT_DATA,this._emitChars(">");break}case xe.NULL:{this._err(ot.unexpectedNullCharacter),this.state=_e.SCRIPT_DATA_ESCAPED,this._emitChars(Ra);break}case xe.EOF:{this._err(ot.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_e.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===xe.SOLIDUS?this.state=_e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Jh(e)?(this._emitChars("<"),this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=_e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){Jh(e)?(this.state=_e.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=_e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=_e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(Yo.SCRIPT,!1)&&mY(this.preprocessor.peek(Yo.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Yo.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=_e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case xe.HYPHEN_MINUS:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case xe.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case xe.NULL:{this._err(ot.unexpectedNullCharacter),this._emitChars(Ra);break}case xe.EOF:{this._err(ot.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case xe.HYPHEN_MINUS:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case xe.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case xe.NULL:{this._err(ot.unexpectedNullCharacter),this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ra);break}case xe.EOF:{this._err(ot.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case xe.HYPHEN_MINUS:{this._emitChars("-");break}case xe.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case xe.GREATER_THAN_SIGN:{this.state=_e.SCRIPT_DATA,this._emitChars(">");break}case xe.NULL:{this._err(ot.unexpectedNullCharacter),this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ra);break}case xe.EOF:{this._err(ot.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===xe.SOLIDUS?(this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(Yo.SCRIPT,!1)&&mY(this.preprocessor.peek(Yo.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Yo.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=_e.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:break;case xe.SOLIDUS:case xe.GREATER_THAN_SIGN:case xe.EOF:{this.state=_e.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case xe.EQUALS_SIGN:{this._err(ot.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=_e.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=_e.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:case xe.SOLIDUS:case xe.GREATER_THAN_SIGN:case xe.EOF:{this._leaveAttrName(),this.state=_e.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case xe.EQUALS_SIGN:{this._leaveAttrName(),this.state=_e.BEFORE_ATTRIBUTE_VALUE;break}case xe.QUOTATION_MARK:case xe.APOSTROPHE:case xe.LESS_THAN_SIGN:{this._err(ot.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case xe.NULL:{this._err(ot.unexpectedNullCharacter),this.currentAttr.name+=Ra;break}default:this.currentAttr.name+=String.fromCodePoint(S2(e)?_4(e):e)}}_stateAfterAttributeName(e){switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:break;case xe.SOLIDUS:{this.state=_e.SELF_CLOSING_START_TAG;break}case xe.EQUALS_SIGN:{this.state=_e.BEFORE_ATTRIBUTE_VALUE;break}case xe.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentTagToken();break}case xe.EOF:{this._err(ot.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=_e.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:break;case xe.QUOTATION_MARK:{this.state=_e.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case xe.APOSTROPHE:{this.state=_e.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case xe.GREATER_THAN_SIGN:{this._err(ot.missingAttributeValue),this.state=_e.DATA,this.emitCurrentTagToken();break}default:this.state=_e.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case xe.QUOTATION_MARK:{this.state=_e.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case xe.AMPERSAND:{this._startCharacterReference();break}case xe.NULL:{this._err(ot.unexpectedNullCharacter),this.currentAttr.value+=Ra;break}case xe.EOF:{this._err(ot.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case xe.APOSTROPHE:{this.state=_e.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case xe.AMPERSAND:{this._startCharacterReference();break}case xe.NULL:{this._err(ot.unexpectedNullCharacter),this.currentAttr.value+=Ra;break}case xe.EOF:{this._err(ot.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:{this._leaveAttrValue(),this.state=_e.BEFORE_ATTRIBUTE_NAME;break}case xe.AMPERSAND:{this._startCharacterReference();break}case xe.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=_e.DATA,this.emitCurrentTagToken();break}case xe.NULL:{this._err(ot.unexpectedNullCharacter),this.currentAttr.value+=Ra;break}case xe.QUOTATION_MARK:case xe.APOSTROPHE:case xe.LESS_THAN_SIGN:case xe.EQUALS_SIGN:case xe.GRAVE_ACCENT:{this._err(ot.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case xe.EOF:{this._err(ot.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:{this._leaveAttrValue(),this.state=_e.BEFORE_ATTRIBUTE_NAME;break}case xe.SOLIDUS:{this._leaveAttrValue(),this.state=_e.SELF_CLOSING_START_TAG;break}case xe.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=_e.DATA,this.emitCurrentTagToken();break}case xe.EOF:{this._err(ot.eofInTag),this._emitEOFToken();break}default:this._err(ot.missingWhitespaceBetweenAttributes),this.state=_e.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case xe.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=_e.DATA,this.emitCurrentTagToken();break}case xe.EOF:{this._err(ot.eofInTag),this._emitEOFToken();break}default:this._err(ot.unexpectedSolidusInTag),this.state=_e.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const n=this.currentToken;switch(e){case xe.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentComment(n);break}case xe.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case xe.NULL:{this._err(ot.unexpectedNullCharacter),n.data+=Ra;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(Yo.DASH_DASH,!0)?(this._createCommentToken(Yo.DASH_DASH.length+1),this.state=_e.COMMENT_START):this._consumeSequenceIfMatch(Yo.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Yo.DOCTYPE.length+1),this.state=_e.DOCTYPE):this._consumeSequenceIfMatch(Yo.CDATA_START,!0)?this.inForeignNode?this.state=_e.CDATA_SECTION:(this._err(ot.cdataInHtmlContent),this._createCommentToken(Yo.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=_e.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ot.incorrectlyOpenedComment),this._createCommentToken(2),this.state=_e.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case xe.HYPHEN_MINUS:{this.state=_e.COMMENT_START_DASH;break}case xe.GREATER_THAN_SIGN:{this._err(ot.abruptClosingOfEmptyComment),this.state=_e.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=_e.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const n=this.currentToken;switch(e){case xe.HYPHEN_MINUS:{this.state=_e.COMMENT_END;break}case xe.GREATER_THAN_SIGN:{this._err(ot.abruptClosingOfEmptyComment),this.state=_e.DATA,this.emitCurrentComment(n);break}case xe.EOF:{this._err(ot.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=_e.COMMENT,this._stateComment(e)}}_stateComment(e){const n=this.currentToken;switch(e){case xe.HYPHEN_MINUS:{this.state=_e.COMMENT_END_DASH;break}case xe.LESS_THAN_SIGN:{n.data+="<",this.state=_e.COMMENT_LESS_THAN_SIGN;break}case xe.NULL:{this._err(ot.unexpectedNullCharacter),n.data+=Ra;break}case xe.EOF:{this._err(ot.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const n=this.currentToken;switch(e){case xe.EXCLAMATION_MARK:{n.data+="!",this.state=_e.COMMENT_LESS_THAN_SIGN_BANG;break}case xe.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=_e.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===xe.HYPHEN_MINUS?this.state=_e.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=_e.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===xe.HYPHEN_MINUS?this.state=_e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=_e.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==xe.GREATER_THAN_SIGN&&e!==xe.EOF&&this._err(ot.nestedComment),this.state=_e.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const n=this.currentToken;switch(e){case xe.HYPHEN_MINUS:{this.state=_e.COMMENT_END;break}case xe.EOF:{this._err(ot.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=_e.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const n=this.currentToken;switch(e){case xe.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentComment(n);break}case xe.EXCLAMATION_MARK:{this.state=_e.COMMENT_END_BANG;break}case xe.HYPHEN_MINUS:{n.data+="-";break}case xe.EOF:{this._err(ot.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=_e.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const n=this.currentToken;switch(e){case xe.HYPHEN_MINUS:{n.data+="--!",this.state=_e.COMMENT_END_DASH;break}case xe.GREATER_THAN_SIGN:{this._err(ot.incorrectlyClosedComment),this.state=_e.DATA,this.emitCurrentComment(n);break}case xe.EOF:{this._err(ot.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=_e.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:{this.state=_e.BEFORE_DOCTYPE_NAME;break}case xe.GREATER_THAN_SIGN:{this.state=_e.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case xe.EOF:{this._err(ot.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ot.missingWhitespaceBeforeDoctypeName),this.state=_e.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(S2(e))this._createDoctypeToken(String.fromCharCode(_4(e))),this.state=_e.DOCTYPE_NAME;else switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:break;case xe.NULL:{this._err(ot.unexpectedNullCharacter),this._createDoctypeToken(Ra),this.state=_e.DOCTYPE_NAME;break}case xe.GREATER_THAN_SIGN:{this._err(ot.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case xe.EOF:{this._err(ot.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=_e.DOCTYPE_NAME}}_stateDoctypeName(e){const n=this.currentToken;switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:{this.state=_e.AFTER_DOCTYPE_NAME;break}case xe.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentDoctype(n);break}case xe.NULL:{this._err(ot.unexpectedNullCharacter),n.name+=Ra;break}case xe.EOF:{this._err(ot.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(S2(e)?_4(e):e)}}_stateAfterDoctypeName(e){const n=this.currentToken;switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:break;case xe.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentDoctype(n);break}case xe.EOF:{this._err(ot.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Yo.PUBLIC,!1)?this.state=_e.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Yo.SYSTEM,!1)?this.state=_e.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ot.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const n=this.currentToken;switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:{this.state=_e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case xe.QUOTATION_MARK:{this._err(ot.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=_e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case xe.APOSTROPHE:{this._err(ot.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=_e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case xe.GREATER_THAN_SIGN:{this._err(ot.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_e.DATA,this.emitCurrentDoctype(n);break}case xe.EOF:{this._err(ot.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ot.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:break;case xe.QUOTATION_MARK:{n.publicId="",this.state=_e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case xe.APOSTROPHE:{n.publicId="",this.state=_e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case xe.GREATER_THAN_SIGN:{this._err(ot.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_e.DATA,this.emitCurrentDoctype(n);break}case xe.EOF:{this._err(ot.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ot.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case xe.QUOTATION_MARK:{this.state=_e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case xe.NULL:{this._err(ot.unexpectedNullCharacter),n.publicId+=Ra;break}case xe.GREATER_THAN_SIGN:{this._err(ot.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case xe.EOF:{this._err(ot.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case xe.APOSTROPHE:{this.state=_e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case xe.NULL:{this._err(ot.unexpectedNullCharacter),n.publicId+=Ra;break}case xe.GREATER_THAN_SIGN:{this._err(ot.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case xe.EOF:{this._err(ot.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:{this.state=_e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case xe.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentDoctype(n);break}case xe.QUOTATION_MARK:{this._err(ot.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case xe.APOSTROPHE:{this._err(ot.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case xe.EOF:{this._err(ot.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ot.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const n=this.currentToken;switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:break;case xe.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=_e.DATA;break}case xe.QUOTATION_MARK:{n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case xe.APOSTROPHE:{n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case xe.EOF:{this._err(ot.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ot.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const n=this.currentToken;switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:{this.state=_e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case xe.QUOTATION_MARK:{this._err(ot.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case xe.APOSTROPHE:{this._err(ot.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case xe.GREATER_THAN_SIGN:{this._err(ot.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.DATA,this.emitCurrentDoctype(n);break}case xe.EOF:{this._err(ot.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ot.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:break;case xe.QUOTATION_MARK:{n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case xe.APOSTROPHE:{n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case xe.GREATER_THAN_SIGN:{this._err(ot.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.DATA,this.emitCurrentDoctype(n);break}case xe.EOF:{this._err(ot.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ot.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case xe.QUOTATION_MARK:{this.state=_e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case xe.NULL:{this._err(ot.unexpectedNullCharacter),n.systemId+=Ra;break}case xe.GREATER_THAN_SIGN:{this._err(ot.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case xe.EOF:{this._err(ot.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case xe.APOSTROPHE:{this.state=_e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case xe.NULL:{this._err(ot.unexpectedNullCharacter),n.systemId+=Ra;break}case xe.GREATER_THAN_SIGN:{this._err(ot.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case xe.EOF:{this._err(ot.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:break;case xe.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=_e.DATA;break}case xe.EOF:{this._err(ot.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ot.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const n=this.currentToken;switch(e){case xe.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=_e.DATA;break}case xe.NULL:{this._err(ot.unexpectedNullCharacter);break}case xe.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case xe.RIGHT_SQUARE_BRACKET:{this.state=_e.CDATA_SECTION_BRACKET;break}case xe.EOF:{this._err(ot.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===xe.RIGHT_SQUARE_BRACKET?this.state=_e.CDATA_SECTION_END:(this._emitChars("]"),this.state=_e.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case xe.GREATER_THAN_SIGN:{this.state=_e.DATA;break}case xe.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=_e.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(xe.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&pY(this.preprocessor.peek(1))?_e.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){pY(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===xe.SEMICOLON&&this._err(ot.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const Tae=new Set([Y.DD,Y.DT,Y.LI,Y.OPTGROUP,Y.OPTION,Y.P,Y.RB,Y.RP,Y.RT,Y.RTC]),gY=new Set([...Tae,Y.CAPTION,Y.COLGROUP,Y.TBODY,Y.TD,Y.TFOOT,Y.TH,Y.THEAD,Y.TR]),ZC=new Set([Y.APPLET,Y.CAPTION,Y.HTML,Y.MARQUEE,Y.OBJECT,Y.TABLE,Y.TD,Y.TEMPLATE,Y.TH]),Elt=new Set([...ZC,Y.OL,Y.UL]),Tlt=new Set([...ZC,Y.BUTTON]),yY=new Set([Y.ANNOTATION_XML,Y.MI,Y.MN,Y.MO,Y.MS,Y.MTEXT]),bY=new Set([Y.DESC,Y.FOREIGN_OBJECT,Y.TITLE]),Alt=new Set([Y.TR,Y.TEMPLATE,Y.HTML]),Rlt=new Set([Y.TBODY,Y.TFOOT,Y.THEAD,Y.TEMPLATE,Y.HTML]),klt=new Set([Y.TABLE,Y.TEMPLATE,Y.HTML]),Ilt=new Set([Y.TD,Y.TH]);class jlt{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=Y.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===Y.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===xt.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){const r=this._indexOf(e);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(e,n,r){const a=this._indexOf(e)+1;this.items.splice(a,0,n),this.tagIDs.splice(a,0,r),this.stackTop++,a===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,a===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==xt.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(e){for(;this.stackTop>=e;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){const n=this._indexOf(e);this.shortenToLength(Math.max(n,0))}popUntilPopped(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(jj,xt.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Ilt,xt.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let r=this.stackTop;r>=0;r--)if(e.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(klt,xt.HTML)}clearBackToTableBodyContext(){this.clearBackTo(Rlt,xt.HTML)}clearBackToTableRowContext(){this.clearBackTo(Alt,xt.HTML)}remove(e){const n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===Y.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===Y.HTML}hasInDynamicScope(e,n){for(let r=this.stackTop;r>=0;r--){const a=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case xt.HTML:{if(a===e)return!0;if(n.has(a))return!1;break}case xt.SVG:{if(bY.has(a))return!1;break}case xt.MATHML:{if(yY.has(a))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,ZC)}hasInListItemScope(e){return this.hasInDynamicScope(e,Elt)}hasInButtonScope(e){return this.hasInDynamicScope(e,Tlt)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case xt.HTML:{if(jj.has(n))return!0;if(ZC.has(n))return!1;break}case xt.SVG:{if(bY.has(n))return!1;break}case xt.MATHML:{if(yY.has(n))return!1;break}}}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===xt.HTML)switch(this.tagIDs[n]){case e:return!0;case Y.TABLE:case Y.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===xt.HTML)switch(this.tagIDs[e]){case Y.TBODY:case Y.THEAD:case Y.TFOOT:return!0;case Y.TABLE:case Y.HTML:return!1}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===xt.HTML)switch(this.tagIDs[n]){case e:return!0;case Y.OPTION:case Y.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&Tae.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&gY.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==void 0&&this.currentTagId!==e&&gY.has(this.currentTagId);)this.pop()}}const lk=3;var wd;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(wd||(wd={}));const xY={type:wd.Marker};class Olt{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){const r=[],a=n.length,i=this.treeAdapter.getTagName(e),s=this.treeAdapter.getNamespaceURI(e);for(let o=0;o<this.entries.length;o++){const l=this.entries[o];if(l.type===wd.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===i&&this.treeAdapter.getNamespaceURI(u)===s){const d=this.treeAdapter.getAttrList(u);d.length===a&&r.push({idx:o,attrs:d})}}return r}_ensureNoahArkCondition(e){if(this.entries.length<lk)return;const n=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,n);if(r.length<lk)return;const a=new Map(n.map(s=>[s.name,s.value]));let i=0;for(let s=0;s<r.length;s++){const o=r[s];o.attrs.every(l=>a.get(l.name)===l.value)&&(i+=1,i>=lk&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(xY)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:wd.Element,element:e,token:n})}insertElementAfterBookmark(e,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:wd.Element,element:e,token:n})}removeEntry(e){const n=this.entries.indexOf(e);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const e=this.entries.indexOf(xY);e===-1?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const n=this.entries.find(r=>r.type===wd.Marker||this.treeAdapter.getTagName(r.element)===e);return n&&n.type===wd.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===wd.Element&&n.element===e)}}const ep={createDocument(){return{nodeName:"#document",mode:Cc.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){const r=t.childNodes.indexOf(n);t.childNodes.splice(r,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,r){const a=t.childNodes.find(i=>i.nodeName==="#documentType");if(a)a.name=e,a.publicId=n,a.systemId=r;else{const i={nodeName:"#documentType",name:e,publicId:n,systemId:r,parentNode:null};ep.appendChild(t,i)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if(ep.isTextNode(n)){n.value+=e;return}}ep.appendChild(t,ep.createTextNode(e))},insertTextBefore(t,e,n){const r=t.childNodes[t.childNodes.indexOf(n)-1];r&&ep.isTextNode(r)?r.value+=e:ep.insertBefore(t,ep.createTextNode(e),n)},adoptAttributes(t,e){const n=new Set(t.attrs.map(r=>r.name));for(let r=0;r<e.length;r++)n.has(e[r].name)||t.attrs.push(e[r])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},Aae="html",Dlt="about:legacy-compat",Mlt="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Rae=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Nlt=[...Rae,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Plt=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),kae=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Llt=[...kae,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function vY(t,e){return e.some(n=>t.startsWith(n))}function zlt(t){return t.name===Aae&&t.publicId===null&&(t.systemId===null||t.systemId===Dlt)}function Flt(t){if(t.name!==Aae)return Cc.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===Mlt)return Cc.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),Plt.has(n))return Cc.QUIRKS;let r=e===null?Nlt:Rae;if(vY(n,r))return Cc.QUIRKS;if(r=e===null?kae:Llt,vY(n,r))return Cc.LIMITED_QUIRKS}return Cc.NO_QUIRKS}const SY={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Blt="definitionurl",Hlt="definitionURL",Ult=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),$lt=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:xt.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:xt.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:xt.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:xt.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:xt.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:xt.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:xt.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:xt.XML}],["xml:space",{prefix:"xml",name:"space",namespace:xt.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:xt.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:xt.XMLNS}]]),Glt=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),qlt=new Set([Y.B,Y.BIG,Y.BLOCKQUOTE,Y.BODY,Y.BR,Y.CENTER,Y.CODE,Y.DD,Y.DIV,Y.DL,Y.DT,Y.EM,Y.EMBED,Y.H1,Y.H2,Y.H3,Y.H4,Y.H5,Y.H6,Y.HEAD,Y.HR,Y.I,Y.IMG,Y.LI,Y.LISTING,Y.MENU,Y.META,Y.NOBR,Y.OL,Y.P,Y.PRE,Y.RUBY,Y.S,Y.SMALL,Y.SPAN,Y.STRONG,Y.STRIKE,Y.SUB,Y.SUP,Y.TABLE,Y.TT,Y.U,Y.UL,Y.VAR]);function Vlt(t){const e=t.tagID;return e===Y.FONT&&t.attrs.some(({name:r})=>r===bg.COLOR||r===bg.SIZE||r===bg.FACE)||qlt.has(e)}function Iae(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===Blt){t.attrs[e].name=Hlt;break}}function jae(t){for(let e=0;e<t.attrs.length;e++){const n=Ult.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function CM(t){for(let e=0;e<t.attrs.length;e++){const n=$lt.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function Wlt(t){const e=Glt.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=Qy(t.tagName))}function Ylt(t,e){return e===xt.MATHML&&(t===Y.MI||t===Y.MO||t===Y.MN||t===Y.MS||t===Y.MTEXT)}function Klt(t,e,n){if(e===xt.MATHML&&t===Y.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===bg.ENCODING){const a=n[r].value.toLowerCase();return a===SY.TEXT_HTML||a===SY.APPLICATION_XML}}return e===xt.SVG&&(t===Y.FOREIGN_OBJECT||t===Y.DESC||t===Y.TITLE)}function Xlt(t,e,n,r){return(!r||r===xt.HTML)&&Klt(t,e,n)||(!r||r===xt.MATHML)&&Ylt(t,e)}const Qlt="hidden",Zlt=8,Jlt=3;var Ee;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Ee||(Ee={}));const ect={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Oae=new Set([Y.TABLE,Y.TBODY,Y.TFOOT,Y.THEAD,Y.TR]),_Y={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:ep,onParseError:null};class CY{constructor(e,n,r=null,a=null){this.fragmentContext=r,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=Ee.INITIAL,this.originalInsertionMode=Ee.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={..._Y,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new wlt(this.options,this),this.activeFormattingElements=new Olt(this.treeAdapter),this.fragmentContextID=r?Qy(this.treeAdapter.getTagName(r)):Y.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new jlt(this.document,this.treeAdapter,this)}static parse(e,n){const r=new this(n);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,n){const r={..._Y,...n};e??(e=r.treeAdapter.createElement(qe.TEMPLATE,xt.HTML,[]));const a=r.treeAdapter.createElement("documentmock",xt.HTML,[]),i=new this(r,a,e);return i.fragmentContextID===Y.TEMPLATE&&i.tmplInsertionModeStack.unshift(Ee.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,r){var a;if(!this.onParseError)return;const i=(a=e.location)!==null&&a!==void 0?a:ect,s={code:n,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:r?i.startLine:i.endLine,endCol:r?i.startCol:i.endCol,endOffset:r?i.startOffset:i.endOffset};this.onParseError(s)}onItemPush(e,n,r){var a,i;(i=(a=this.treeAdapter).onItemPush)===null||i===void 0||i.call(a,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var r,a;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(a=(r=this.treeAdapter).onItemPop)===null||a===void 0||a.call(r,e,this.openElements.current),n){let i,s;this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,s=this.fragmentContextID):{current:i,currentTagId:s}=this.openElements,this._setContextModes(i,s)}}_setContextModes(e,n){const r=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===xt.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&e!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,xt.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=Ee.TEXT}switchToPlaintextParsing(){this.insertionMode=Ee.TEXT,this.originalInsertionMode=Ee.IN_BODY,this.tokenizer.state=ci.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===qe.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==xt.HTML))switch(this.fragmentContextID){case Y.TITLE:case Y.TEXTAREA:{this.tokenizer.state=ci.RCDATA;break}case Y.STYLE:case Y.XMP:case Y.IFRAME:case Y.NOEMBED:case Y.NOFRAMES:case Y.NOSCRIPT:{this.tokenizer.state=ci.RAWTEXT;break}case Y.SCRIPT:{this.tokenizer.state=ci.SCRIPT_DATA;break}case Y.PLAINTEXT:{this.tokenizer.state=ci.PLAINTEXT;break}}}_setDocumentType(e){const n=e.name||"",r=e.publicId||"",a=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,a),e.location){const s=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));s&&this.treeAdapter.setNodeSourceCodeLocation(s,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,e)}}_appendElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,n){const r=this.treeAdapter.createElement(e,xt.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(e){const n=this.treeAdapter.createElement(e.tagName,xt.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(qe.HTML,xt.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,Y.HTML)}_appendCommentNode(e,n){const r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,e.chars,r):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;const a=this.treeAdapter.getChildNodes(n),i=r?a.lastIndexOf(r):a.length,s=a[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){const{endLine:l,endCol:u,endOffset:d}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:l,endCol:u,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,e.location)}_adoptNodes(e,n){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){const r=n.location,a=this.treeAdapter.getTagName(e),i=n.type===Yn.END_TAG&&a===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,i)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,e.tagID===Y.SVG&&this.treeAdapter.getTagName(n)===qe.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===xt.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===Y.MGLYPH||e.tagID===Y.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,xt.HTML)}_processToken(e){switch(e.type){case Yn.CHARACTER:{this.onCharacter(e);break}case Yn.NULL_CHARACTER:{this.onNullCharacter(e);break}case Yn.COMMENT:{this.onComment(e);break}case Yn.DOCTYPE:{this.onDoctype(e);break}case Yn.START_TAG:{this._processStartTag(e);break}case Yn.END_TAG:{this.onEndTag(e);break}case Yn.EOF:{this.onEof(e);break}case Yn.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,r){const a=this.treeAdapter.getNamespaceURI(n),i=this.treeAdapter.getAttrList(n);return Xlt(e,a,i,r)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const n=this.activeFormattingElements.entries.findIndex(a=>a.type===wd.Marker||this.openElements.contains(a.element)),r=n===-1?e-1:n-1;for(let a=r;a>=0;a--){const i=this.activeFormattingElements.entries[a];this._insertElement(i.token,this.treeAdapter.getNamespaceURI(i.element)),i.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Ee.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(Y.P),this.openElements.popUntilTagNamePopped(Y.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case Y.TR:{this.insertionMode=Ee.IN_ROW;return}case Y.TBODY:case Y.THEAD:case Y.TFOOT:{this.insertionMode=Ee.IN_TABLE_BODY;return}case Y.CAPTION:{this.insertionMode=Ee.IN_CAPTION;return}case Y.COLGROUP:{this.insertionMode=Ee.IN_COLUMN_GROUP;return}case Y.TABLE:{this.insertionMode=Ee.IN_TABLE;return}case Y.BODY:{this.insertionMode=Ee.IN_BODY;return}case Y.FRAMESET:{this.insertionMode=Ee.IN_FRAMESET;return}case Y.SELECT:{this._resetInsertionModeForSelect(e);return}case Y.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case Y.HTML:{this.insertionMode=this.headElement?Ee.AFTER_HEAD:Ee.BEFORE_HEAD;return}case Y.TD:case Y.TH:{if(e>0){this.insertionMode=Ee.IN_CELL;return}break}case Y.HEAD:{if(e>0){this.insertionMode=Ee.IN_HEAD;return}break}}this.insertionMode=Ee.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===Y.TEMPLATE)break;if(r===Y.TABLE){this.insertionMode=Ee.IN_SELECT_IN_TABLE;return}}this.insertionMode=Ee.IN_SELECT}_isElementCausesFosterParenting(e){return Oae.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case Y.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===xt.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case Y.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){const r=this.treeAdapter.getNamespaceURI(e);return vlt[r].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Iut(this,e);return}switch(this.insertionMode){case Ee.INITIAL:{e2(this,e);break}case Ee.BEFORE_HTML:{W2(this,e);break}case Ee.BEFORE_HEAD:{Y2(this,e);break}case Ee.IN_HEAD:{K2(this,e);break}case Ee.IN_HEAD_NO_SCRIPT:{X2(this,e);break}case Ee.AFTER_HEAD:{Q2(this,e);break}case Ee.IN_BODY:case Ee.IN_CAPTION:case Ee.IN_CELL:case Ee.IN_TEMPLATE:{Mae(this,e);break}case Ee.TEXT:case Ee.IN_SELECT:case Ee.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case Ee.IN_TABLE:case Ee.IN_TABLE_BODY:case Ee.IN_ROW:{ck(this,e);break}case Ee.IN_TABLE_TEXT:{Bae(this,e);break}case Ee.IN_COLUMN_GROUP:{JC(this,e);break}case Ee.AFTER_BODY:{e5(this,e);break}case Ee.AFTER_AFTER_BODY:{V4(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){kut(this,e);return}switch(this.insertionMode){case Ee.INITIAL:{e2(this,e);break}case Ee.BEFORE_HTML:{W2(this,e);break}case Ee.BEFORE_HEAD:{Y2(this,e);break}case Ee.IN_HEAD:{K2(this,e);break}case Ee.IN_HEAD_NO_SCRIPT:{X2(this,e);break}case Ee.AFTER_HEAD:{Q2(this,e);break}case Ee.TEXT:{this._insertCharacters(e);break}case Ee.IN_TABLE:case Ee.IN_TABLE_BODY:case Ee.IN_ROW:{ck(this,e);break}case Ee.IN_COLUMN_GROUP:{JC(this,e);break}case Ee.AFTER_BODY:{e5(this,e);break}case Ee.AFTER_AFTER_BODY:{V4(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){Oj(this,e);return}switch(this.insertionMode){case Ee.INITIAL:case Ee.BEFORE_HTML:case Ee.BEFORE_HEAD:case Ee.IN_HEAD:case Ee.IN_HEAD_NO_SCRIPT:case Ee.AFTER_HEAD:case Ee.IN_BODY:case Ee.IN_TABLE:case Ee.IN_CAPTION:case Ee.IN_COLUMN_GROUP:case Ee.IN_TABLE_BODY:case Ee.IN_ROW:case Ee.IN_CELL:case Ee.IN_SELECT:case Ee.IN_SELECT_IN_TABLE:case Ee.IN_TEMPLATE:case Ee.IN_FRAMESET:case Ee.AFTER_FRAMESET:{Oj(this,e);break}case Ee.IN_TABLE_TEXT:{t2(this,e);break}case Ee.AFTER_BODY:{oct(this,e);break}case Ee.AFTER_AFTER_BODY:case Ee.AFTER_AFTER_FRAMESET:{lct(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case Ee.INITIAL:{cct(this,e);break}case Ee.BEFORE_HEAD:case Ee.IN_HEAD:case Ee.IN_HEAD_NO_SCRIPT:case Ee.AFTER_HEAD:{this._err(e,ot.misplacedDoctype);break}case Ee.IN_TABLE_TEXT:{t2(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,ot.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?jut(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case Ee.INITIAL:{e2(this,e);break}case Ee.BEFORE_HTML:{uct(this,e);break}case Ee.BEFORE_HEAD:{fct(this,e);break}case Ee.IN_HEAD:{Lu(this,e);break}case Ee.IN_HEAD_NO_SCRIPT:{mct(this,e);break}case Ee.AFTER_HEAD:{yct(this,e);break}case Ee.IN_BODY:{Ys(this,e);break}case Ee.IN_TABLE:{xy(this,e);break}case Ee.IN_TABLE_TEXT:{t2(this,e);break}case Ee.IN_CAPTION:{hut(this,e);break}case Ee.IN_COLUMN_GROUP:{TM(this,e);break}case Ee.IN_TABLE_BODY:{Yw(this,e);break}case Ee.IN_ROW:{Kw(this,e);break}case Ee.IN_CELL:{gut(this,e);break}case Ee.IN_SELECT:{$ae(this,e);break}case Ee.IN_SELECT_IN_TABLE:{but(this,e);break}case Ee.IN_TEMPLATE:{vut(this,e);break}case Ee.AFTER_BODY:{_ut(this,e);break}case Ee.IN_FRAMESET:{Cut(this,e);break}case Ee.AFTER_FRAMESET:{Eut(this,e);break}case Ee.AFTER_AFTER_BODY:{Aut(this,e);break}case Ee.AFTER_AFTER_FRAMESET:{Rut(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?Out(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case Ee.INITIAL:{e2(this,e);break}case Ee.BEFORE_HTML:{dct(this,e);break}case Ee.BEFORE_HEAD:{hct(this,e);break}case Ee.IN_HEAD:{pct(this,e);break}case Ee.IN_HEAD_NO_SCRIPT:{gct(this,e);break}case Ee.AFTER_HEAD:{bct(this,e);break}case Ee.IN_BODY:{Ww(this,e);break}case Ee.TEXT:{rut(this,e);break}case Ee.IN_TABLE:{Hv(this,e);break}case Ee.IN_TABLE_TEXT:{t2(this,e);break}case Ee.IN_CAPTION:{put(this,e);break}case Ee.IN_COLUMN_GROUP:{mut(this,e);break}case Ee.IN_TABLE_BODY:{Dj(this,e);break}case Ee.IN_ROW:{Uae(this,e);break}case Ee.IN_CELL:{yut(this,e);break}case Ee.IN_SELECT:{Gae(this,e);break}case Ee.IN_SELECT_IN_TABLE:{xut(this,e);break}case Ee.IN_TEMPLATE:{Sut(this,e);break}case Ee.AFTER_BODY:{Vae(this,e);break}case Ee.IN_FRAMESET:{wut(this,e);break}case Ee.AFTER_FRAMESET:{Tut(this,e);break}case Ee.AFTER_AFTER_BODY:{V4(this,e);break}}}onEof(e){switch(this.insertionMode){case Ee.INITIAL:{e2(this,e);break}case Ee.BEFORE_HTML:{W2(this,e);break}case Ee.BEFORE_HEAD:{Y2(this,e);break}case Ee.IN_HEAD:{K2(this,e);break}case Ee.IN_HEAD_NO_SCRIPT:{X2(this,e);break}case Ee.AFTER_HEAD:{Q2(this,e);break}case Ee.IN_BODY:case Ee.IN_TABLE:case Ee.IN_CAPTION:case Ee.IN_COLUMN_GROUP:case Ee.IN_TABLE_BODY:case Ee.IN_ROW:case Ee.IN_CELL:case Ee.IN_SELECT:case Ee.IN_SELECT_IN_TABLE:{zae(this,e);break}case Ee.TEXT:{aut(this,e);break}case Ee.IN_TABLE_TEXT:{t2(this,e);break}case Ee.IN_TEMPLATE:{qae(this,e);break}case Ee.AFTER_BODY:case Ee.IN_FRAMESET:case Ee.AFTER_FRAMESET:case Ee.AFTER_AFTER_BODY:case Ee.AFTER_AFTER_FRAMESET:{EM(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===xe.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case Ee.IN_HEAD:case Ee.IN_HEAD_NO_SCRIPT:case Ee.AFTER_HEAD:case Ee.TEXT:case Ee.IN_COLUMN_GROUP:case Ee.IN_SELECT:case Ee.IN_SELECT_IN_TABLE:case Ee.IN_FRAMESET:case Ee.AFTER_FRAMESET:{this._insertCharacters(e);break}case Ee.IN_BODY:case Ee.IN_CAPTION:case Ee.IN_CELL:case Ee.IN_TEMPLATE:case Ee.AFTER_BODY:case Ee.AFTER_AFTER_BODY:case Ee.AFTER_AFTER_FRAMESET:{Dae(this,e);break}case Ee.IN_TABLE:case Ee.IN_TABLE_BODY:case Ee.IN_ROW:{ck(this,e);break}case Ee.IN_TABLE_TEXT:{Fae(this,e);break}}}}function tct(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):Lae(t,e),n}function nct(t,e){let n=null,r=t.openElements.stackTop;for(;r>=0;r--){const a=t.openElements.items[r];if(a===e.element)break;t._isSpecialElement(a,t.openElements.tagIDs[r])&&(n=a)}return n||(t.openElements.shortenToLength(Math.max(r,0)),t.activeFormattingElements.removeEntry(e)),n}function rct(t,e,n){let r=e,a=t.openElements.getCommonAncestor(e);for(let i=0,s=a;s!==n;i++,s=a){a=t.openElements.getCommonAncestor(s);const o=t.activeFormattingElements.getElementEntry(s),l=o&&i>=Jlt;!o||l?(l&&t.activeFormattingElements.removeEntry(o),t.openElements.remove(s)):(s=act(t,o),r===e&&(t.activeFormattingElements.bookmark=o),t.treeAdapter.detachNode(r),t.treeAdapter.appendChild(s,r),r=s)}return r}function act(t,e){const n=t.treeAdapter.getNamespaceURI(e.element),r=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,r),e.element=r,r}function ict(t,e,n){const r=t.treeAdapter.getTagName(e),a=Qy(r);if(t._isElementCausesFosterParenting(a))t._fosterParentElement(n);else{const i=t.treeAdapter.getNamespaceURI(e);a===Y.TEMPLATE&&i===xt.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function sct(t,e,n){const r=t.treeAdapter.getNamespaceURI(n.element),{token:a}=n,i=t.treeAdapter.createElement(a.tagName,r,a.attrs);t._adoptNodes(e,i),t.treeAdapter.appendChild(e,i),t.activeFormattingElements.insertElementAfterBookmark(i,a),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,i,a.tagID)}function wM(t,e){for(let n=0;n<Zlt;n++){const r=tct(t,e);if(!r)break;const a=nct(t,r);if(!a)break;t.activeFormattingElements.bookmark=r;const i=rct(t,a,r.element),s=t.openElements.getCommonAncestor(r.element);t.treeAdapter.detachNode(i),s&&ict(t,s,i),sct(t,a,r)}}function Oj(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function oct(t,e){t._appendCommentNode(e,t.openElements.items[0])}function lct(t,e){t._appendCommentNode(e,t.document)}function EM(t,e){if(t.stopped=!0,e.location){const n=t.fragmentContext?0:2;for(let r=t.openElements.stackTop;r>=n;r--)t._setEndLocation(t.openElements.items[r],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const r=t.openElements.items[0],a=t.treeAdapter.getNodeSourceCodeLocation(r);if(a&&!a.endTag&&(t._setEndLocation(r,e),t.openElements.stackTop>=1)){const i=t.openElements.items[1],s=t.treeAdapter.getNodeSourceCodeLocation(i);s&&!s.endTag&&t._setEndLocation(i,e)}}}}function cct(t,e){t._setDocumentType(e);const n=e.forceQuirks?Cc.QUIRKS:Flt(e);zlt(e)||t._err(e,ot.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=Ee.BEFORE_HTML}function e2(t,e){t._err(e,ot.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,Cc.QUIRKS),t.insertionMode=Ee.BEFORE_HTML,t._processToken(e)}function uct(t,e){e.tagID===Y.HTML?(t._insertElement(e,xt.HTML),t.insertionMode=Ee.BEFORE_HEAD):W2(t,e)}function dct(t,e){const n=e.tagID;(n===Y.HTML||n===Y.HEAD||n===Y.BODY||n===Y.BR)&&W2(t,e)}function W2(t,e){t._insertFakeRootElement(),t.insertionMode=Ee.BEFORE_HEAD,t._processToken(e)}function fct(t,e){switch(e.tagID){case Y.HTML:{Ys(t,e);break}case Y.HEAD:{t._insertElement(e,xt.HTML),t.headElement=t.openElements.current,t.insertionMode=Ee.IN_HEAD;break}default:Y2(t,e)}}function hct(t,e){const n=e.tagID;n===Y.HEAD||n===Y.BODY||n===Y.HTML||n===Y.BR?Y2(t,e):t._err(e,ot.endTagWithoutMatchingOpenElement)}function Y2(t,e){t._insertFakeElement(qe.HEAD,Y.HEAD),t.headElement=t.openElements.current,t.insertionMode=Ee.IN_HEAD,t._processToken(e)}function Lu(t,e){switch(e.tagID){case Y.HTML:{Ys(t,e);break}case Y.BASE:case Y.BASEFONT:case Y.BGSOUND:case Y.LINK:case Y.META:{t._appendElement(e,xt.HTML),e.ackSelfClosing=!0;break}case Y.TITLE:{t._switchToTextParsing(e,ci.RCDATA);break}case Y.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,ci.RAWTEXT):(t._insertElement(e,xt.HTML),t.insertionMode=Ee.IN_HEAD_NO_SCRIPT);break}case Y.NOFRAMES:case Y.STYLE:{t._switchToTextParsing(e,ci.RAWTEXT);break}case Y.SCRIPT:{t._switchToTextParsing(e,ci.SCRIPT_DATA);break}case Y.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=Ee.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(Ee.IN_TEMPLATE);break}case Y.HEAD:{t._err(e,ot.misplacedStartTagForHeadElement);break}default:K2(t,e)}}function pct(t,e){switch(e.tagID){case Y.HEAD:{t.openElements.pop(),t.insertionMode=Ee.AFTER_HEAD;break}case Y.BODY:case Y.BR:case Y.HTML:{K2(t,e);break}case Y.TEMPLATE:{Jg(t,e);break}default:t._err(e,ot.endTagWithoutMatchingOpenElement)}}function Jg(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==Y.TEMPLATE&&t._err(e,ot.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(Y.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,ot.endTagWithoutMatchingOpenElement)}function K2(t,e){t.openElements.pop(),t.insertionMode=Ee.AFTER_HEAD,t._processToken(e)}function mct(t,e){switch(e.tagID){case Y.HTML:{Ys(t,e);break}case Y.BASEFONT:case Y.BGSOUND:case Y.HEAD:case Y.LINK:case Y.META:case Y.NOFRAMES:case Y.STYLE:{Lu(t,e);break}case Y.NOSCRIPT:{t._err(e,ot.nestedNoscriptInHead);break}default:X2(t,e)}}function gct(t,e){switch(e.tagID){case Y.NOSCRIPT:{t.openElements.pop(),t.insertionMode=Ee.IN_HEAD;break}case Y.BR:{X2(t,e);break}default:t._err(e,ot.endTagWithoutMatchingOpenElement)}}function X2(t,e){const n=e.type===Yn.EOF?ot.openElementsLeftAfterEof:ot.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=Ee.IN_HEAD,t._processToken(e)}function yct(t,e){switch(e.tagID){case Y.HTML:{Ys(t,e);break}case Y.BODY:{t._insertElement(e,xt.HTML),t.framesetOk=!1,t.insertionMode=Ee.IN_BODY;break}case Y.FRAMESET:{t._insertElement(e,xt.HTML),t.insertionMode=Ee.IN_FRAMESET;break}case Y.BASE:case Y.BASEFONT:case Y.BGSOUND:case Y.LINK:case Y.META:case Y.NOFRAMES:case Y.SCRIPT:case Y.STYLE:case Y.TEMPLATE:case Y.TITLE:{t._err(e,ot.abandonedHeadElementChild),t.openElements.push(t.headElement,Y.HEAD),Lu(t,e),t.openElements.remove(t.headElement);break}case Y.HEAD:{t._err(e,ot.misplacedStartTagForHeadElement);break}default:Q2(t,e)}}function bct(t,e){switch(e.tagID){case Y.BODY:case Y.HTML:case Y.BR:{Q2(t,e);break}case Y.TEMPLATE:{Jg(t,e);break}default:t._err(e,ot.endTagWithoutMatchingOpenElement)}}function Q2(t,e){t._insertFakeElement(qe.BODY,Y.BODY),t.insertionMode=Ee.IN_BODY,Vw(t,e)}function Vw(t,e){switch(e.type){case Yn.CHARACTER:{Mae(t,e);break}case Yn.WHITESPACE_CHARACTER:{Dae(t,e);break}case Yn.COMMENT:{Oj(t,e);break}case Yn.START_TAG:{Ys(t,e);break}case Yn.END_TAG:{Ww(t,e);break}case Yn.EOF:{zae(t,e);break}}}function Dae(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function Mae(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function xct(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function vct(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function Sct(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,xt.HTML),t.insertionMode=Ee.IN_FRAMESET)}function _ct(t,e){t.openElements.hasInButtonScope(Y.P)&&t._closePElement(),t._insertElement(e,xt.HTML)}function Cct(t,e){t.openElements.hasInButtonScope(Y.P)&&t._closePElement(),t.openElements.currentTagId!==void 0&&jj.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,xt.HTML)}function wct(t,e){t.openElements.hasInButtonScope(Y.P)&&t._closePElement(),t._insertElement(e,xt.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function Ect(t,e){const n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(Y.P)&&t._closePElement(),t._insertElement(e,xt.HTML),n||(t.formElement=t.openElements.current))}function Tct(t,e){t.framesetOk=!1;const n=e.tagID;for(let r=t.openElements.stackTop;r>=0;r--){const a=t.openElements.tagIDs[r];if(n===Y.LI&&a===Y.LI||(n===Y.DD||n===Y.DT)&&(a===Y.DD||a===Y.DT)){t.openElements.generateImpliedEndTagsWithExclusion(a),t.openElements.popUntilTagNamePopped(a);break}if(a!==Y.ADDRESS&&a!==Y.DIV&&a!==Y.P&&t._isSpecialElement(t.openElements.items[r],a))break}t.openElements.hasInButtonScope(Y.P)&&t._closePElement(),t._insertElement(e,xt.HTML)}function Act(t,e){t.openElements.hasInButtonScope(Y.P)&&t._closePElement(),t._insertElement(e,xt.HTML),t.tokenizer.state=ci.PLAINTEXT}function Rct(t,e){t.openElements.hasInScope(Y.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(Y.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,xt.HTML),t.framesetOk=!1}function kct(t,e){const n=t.activeFormattingElements.getElementEntryInScopeWithTagName(qe.A);n&&(wM(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,xt.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function Ict(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,xt.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function jct(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(Y.NOBR)&&(wM(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,xt.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function Oct(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,xt.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function Dct(t,e){t.treeAdapter.getDocumentMode(t.document)!==Cc.QUIRKS&&t.openElements.hasInButtonScope(Y.P)&&t._closePElement(),t._insertElement(e,xt.HTML),t.framesetOk=!1,t.insertionMode=Ee.IN_TABLE}function Nae(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,xt.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function Pae(t){const e=wae(t,bg.TYPE);return e!=null&&e.toLowerCase()===Qlt}function Mct(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,xt.HTML),Pae(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function Nct(t,e){t._appendElement(e,xt.HTML),e.ackSelfClosing=!0}function Pct(t,e){t.openElements.hasInButtonScope(Y.P)&&t._closePElement(),t._appendElement(e,xt.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function Lct(t,e){e.tagName=qe.IMG,e.tagID=Y.IMG,Nae(t,e)}function zct(t,e){t._insertElement(e,xt.HTML),t.skipNextNewLine=!0,t.tokenizer.state=ci.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=Ee.TEXT}function Fct(t,e){t.openElements.hasInButtonScope(Y.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,ci.RAWTEXT)}function Bct(t,e){t.framesetOk=!1,t._switchToTextParsing(e,ci.RAWTEXT)}function wY(t,e){t._switchToTextParsing(e,ci.RAWTEXT)}function Hct(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,xt.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===Ee.IN_TABLE||t.insertionMode===Ee.IN_CAPTION||t.insertionMode===Ee.IN_TABLE_BODY||t.insertionMode===Ee.IN_ROW||t.insertionMode===Ee.IN_CELL?Ee.IN_SELECT_IN_TABLE:Ee.IN_SELECT}function Uct(t,e){t.openElements.currentTagId===Y.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,xt.HTML)}function $ct(t,e){t.openElements.hasInScope(Y.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,xt.HTML)}function Gct(t,e){t.openElements.hasInScope(Y.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(Y.RTC),t._insertElement(e,xt.HTML)}function qct(t,e){t._reconstructActiveFormattingElements(),Iae(e),CM(e),e.selfClosing?t._appendElement(e,xt.MATHML):t._insertElement(e,xt.MATHML),e.ackSelfClosing=!0}function Vct(t,e){t._reconstructActiveFormattingElements(),jae(e),CM(e),e.selfClosing?t._appendElement(e,xt.SVG):t._insertElement(e,xt.SVG),e.ackSelfClosing=!0}function EY(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,xt.HTML)}function Ys(t,e){switch(e.tagID){case Y.I:case Y.S:case Y.B:case Y.U:case Y.EM:case Y.TT:case Y.BIG:case Y.CODE:case Y.FONT:case Y.SMALL:case Y.STRIKE:case Y.STRONG:{Ict(t,e);break}case Y.A:{kct(t,e);break}case Y.H1:case Y.H2:case Y.H3:case Y.H4:case Y.H5:case Y.H6:{Cct(t,e);break}case Y.P:case Y.DL:case Y.OL:case Y.UL:case Y.DIV:case Y.DIR:case Y.NAV:case Y.MAIN:case Y.MENU:case Y.ASIDE:case Y.CENTER:case Y.FIGURE:case Y.FOOTER:case Y.HEADER:case Y.HGROUP:case Y.DIALOG:case Y.DETAILS:case Y.ADDRESS:case Y.ARTICLE:case Y.SEARCH:case Y.SECTION:case Y.SUMMARY:case Y.FIELDSET:case Y.BLOCKQUOTE:case Y.FIGCAPTION:{_ct(t,e);break}case Y.LI:case Y.DD:case Y.DT:{Tct(t,e);break}case Y.BR:case Y.IMG:case Y.WBR:case Y.AREA:case Y.EMBED:case Y.KEYGEN:{Nae(t,e);break}case Y.HR:{Pct(t,e);break}case Y.RB:case Y.RTC:{$ct(t,e);break}case Y.RT:case Y.RP:{Gct(t,e);break}case Y.PRE:case Y.LISTING:{wct(t,e);break}case Y.XMP:{Fct(t,e);break}case Y.SVG:{Vct(t,e);break}case Y.HTML:{xct(t,e);break}case Y.BASE:case Y.LINK:case Y.META:case Y.STYLE:case Y.TITLE:case Y.SCRIPT:case Y.BGSOUND:case Y.BASEFONT:case Y.TEMPLATE:{Lu(t,e);break}case Y.BODY:{vct(t,e);break}case Y.FORM:{Ect(t,e);break}case Y.NOBR:{jct(t,e);break}case Y.MATH:{qct(t,e);break}case Y.TABLE:{Dct(t,e);break}case Y.INPUT:{Mct(t,e);break}case Y.PARAM:case Y.TRACK:case Y.SOURCE:{Nct(t,e);break}case Y.IMAGE:{Lct(t,e);break}case Y.BUTTON:{Rct(t,e);break}case Y.APPLET:case Y.OBJECT:case Y.MARQUEE:{Oct(t,e);break}case Y.IFRAME:{Bct(t,e);break}case Y.SELECT:{Hct(t,e);break}case Y.OPTION:case Y.OPTGROUP:{Uct(t,e);break}case Y.NOEMBED:case Y.NOFRAMES:{wY(t,e);break}case Y.FRAMESET:{Sct(t,e);break}case Y.TEXTAREA:{zct(t,e);break}case Y.NOSCRIPT:{t.options.scriptingEnabled?wY(t,e):EY(t,e);break}case Y.PLAINTEXT:{Act(t,e);break}case Y.COL:case Y.TH:case Y.TD:case Y.TR:case Y.HEAD:case Y.FRAME:case Y.TBODY:case Y.TFOOT:case Y.THEAD:case Y.CAPTION:case Y.COLGROUP:break;default:EY(t,e)}}function Wct(t,e){if(t.openElements.hasInScope(Y.BODY)&&(t.insertionMode=Ee.AFTER_BODY,t.options.sourceCodeLocationInfo)){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function Yct(t,e){t.openElements.hasInScope(Y.BODY)&&(t.insertionMode=Ee.AFTER_BODY,Vae(t,e))}function Kct(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function Xct(t){const e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(Y.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(Y.FORM):n&&t.openElements.remove(n))}function Qct(t){t.openElements.hasInButtonScope(Y.P)||t._insertFakeElement(qe.P,Y.P),t._closePElement()}function Zct(t){t.openElements.hasInListItemScope(Y.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(Y.LI),t.openElements.popUntilTagNamePopped(Y.LI))}function Jct(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function eut(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function tut(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function nut(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(qe.BR,Y.BR),t.openElements.pop(),t.framesetOk=!1}function Lae(t,e){const n=e.tagName,r=e.tagID;for(let a=t.openElements.stackTop;a>0;a--){const i=t.openElements.items[a],s=t.openElements.tagIDs[a];if(r===s&&(r!==Y.UNKNOWN||t.treeAdapter.getTagName(i)===n)){t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.stackTop>=a&&t.openElements.shortenToLength(a);break}if(t._isSpecialElement(i,s))break}}function Ww(t,e){switch(e.tagID){case Y.A:case Y.B:case Y.I:case Y.S:case Y.U:case Y.EM:case Y.TT:case Y.BIG:case Y.CODE:case Y.FONT:case Y.NOBR:case Y.SMALL:case Y.STRIKE:case Y.STRONG:{wM(t,e);break}case Y.P:{Qct(t);break}case Y.DL:case Y.UL:case Y.OL:case Y.DIR:case Y.DIV:case Y.NAV:case Y.PRE:case Y.MAIN:case Y.MENU:case Y.ASIDE:case Y.BUTTON:case Y.CENTER:case Y.FIGURE:case Y.FOOTER:case Y.HEADER:case Y.HGROUP:case Y.DIALOG:case Y.ADDRESS:case Y.ARTICLE:case Y.DETAILS:case Y.SEARCH:case Y.SECTION:case Y.SUMMARY:case Y.LISTING:case Y.FIELDSET:case Y.BLOCKQUOTE:case Y.FIGCAPTION:{Kct(t,e);break}case Y.LI:{Zct(t);break}case Y.DD:case Y.DT:{Jct(t,e);break}case Y.H1:case Y.H2:case Y.H3:case Y.H4:case Y.H5:case Y.H6:{eut(t);break}case Y.BR:{nut(t);break}case Y.BODY:{Wct(t,e);break}case Y.HTML:{Yct(t,e);break}case Y.FORM:{Xct(t);break}case Y.APPLET:case Y.OBJECT:case Y.MARQUEE:{tut(t,e);break}case Y.TEMPLATE:{Jg(t,e);break}default:Lae(t,e)}}function zae(t,e){t.tmplInsertionModeStack.length>0?qae(t,e):EM(t,e)}function rut(t,e){var n;e.tagID===Y.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function aut(t,e){t._err(e,ot.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function ck(t,e){if(t.openElements.currentTagId!==void 0&&Oae.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=Ee.IN_TABLE_TEXT,e.type){case Yn.CHARACTER:{Bae(t,e);break}case Yn.WHITESPACE_CHARACTER:{Fae(t,e);break}}else RS(t,e)}function iut(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,xt.HTML),t.insertionMode=Ee.IN_CAPTION}function sut(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,xt.HTML),t.insertionMode=Ee.IN_COLUMN_GROUP}function out(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(qe.COLGROUP,Y.COLGROUP),t.insertionMode=Ee.IN_COLUMN_GROUP,TM(t,e)}function lut(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,xt.HTML),t.insertionMode=Ee.IN_TABLE_BODY}function cut(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(qe.TBODY,Y.TBODY),t.insertionMode=Ee.IN_TABLE_BODY,Yw(t,e)}function uut(t,e){t.openElements.hasInTableScope(Y.TABLE)&&(t.openElements.popUntilTagNamePopped(Y.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function dut(t,e){Pae(e)?t._appendElement(e,xt.HTML):RS(t,e),e.ackSelfClosing=!0}function fut(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,xt.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function xy(t,e){switch(e.tagID){case Y.TD:case Y.TH:case Y.TR:{cut(t,e);break}case Y.STYLE:case Y.SCRIPT:case Y.TEMPLATE:{Lu(t,e);break}case Y.COL:{out(t,e);break}case Y.FORM:{fut(t,e);break}case Y.TABLE:{uut(t,e);break}case Y.TBODY:case Y.TFOOT:case Y.THEAD:{lut(t,e);break}case Y.INPUT:{dut(t,e);break}case Y.CAPTION:{iut(t,e);break}case Y.COLGROUP:{sut(t,e);break}default:RS(t,e)}}function Hv(t,e){switch(e.tagID){case Y.TABLE:{t.openElements.hasInTableScope(Y.TABLE)&&(t.openElements.popUntilTagNamePopped(Y.TABLE),t._resetInsertionMode());break}case Y.TEMPLATE:{Jg(t,e);break}case Y.BODY:case Y.CAPTION:case Y.COL:case Y.COLGROUP:case Y.HTML:case Y.TBODY:case Y.TD:case Y.TFOOT:case Y.TH:case Y.THEAD:case Y.TR:break;default:RS(t,e)}}function RS(t,e){const n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,Vw(t,e),t.fosterParentingEnabled=n}function Fae(t,e){t.pendingCharacterTokens.push(e)}function Bae(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function t2(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)RS(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const Hae=new Set([Y.CAPTION,Y.COL,Y.COLGROUP,Y.TBODY,Y.TD,Y.TFOOT,Y.TH,Y.THEAD,Y.TR]);function hut(t,e){const n=e.tagID;Hae.has(n)?t.openElements.hasInTableScope(Y.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(Y.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Ee.IN_TABLE,xy(t,e)):Ys(t,e)}function put(t,e){const n=e.tagID;switch(n){case Y.CAPTION:case Y.TABLE:{t.openElements.hasInTableScope(Y.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(Y.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Ee.IN_TABLE,n===Y.TABLE&&Hv(t,e));break}case Y.BODY:case Y.COL:case Y.COLGROUP:case Y.HTML:case Y.TBODY:case Y.TD:case Y.TFOOT:case Y.TH:case Y.THEAD:case Y.TR:break;default:Ww(t,e)}}function TM(t,e){switch(e.tagID){case Y.HTML:{Ys(t,e);break}case Y.COL:{t._appendElement(e,xt.HTML),e.ackSelfClosing=!0;break}case Y.TEMPLATE:{Lu(t,e);break}default:JC(t,e)}}function mut(t,e){switch(e.tagID){case Y.COLGROUP:{t.openElements.currentTagId===Y.COLGROUP&&(t.openElements.pop(),t.insertionMode=Ee.IN_TABLE);break}case Y.TEMPLATE:{Jg(t,e);break}case Y.COL:break;default:JC(t,e)}}function JC(t,e){t.openElements.currentTagId===Y.COLGROUP&&(t.openElements.pop(),t.insertionMode=Ee.IN_TABLE,t._processToken(e))}function Yw(t,e){switch(e.tagID){case Y.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,xt.HTML),t.insertionMode=Ee.IN_ROW;break}case Y.TH:case Y.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(qe.TR,Y.TR),t.insertionMode=Ee.IN_ROW,Kw(t,e);break}case Y.CAPTION:case Y.COL:case Y.COLGROUP:case Y.TBODY:case Y.TFOOT:case Y.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Ee.IN_TABLE,xy(t,e));break}default:xy(t,e)}}function Dj(t,e){const n=e.tagID;switch(e.tagID){case Y.TBODY:case Y.TFOOT:case Y.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Ee.IN_TABLE);break}case Y.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Ee.IN_TABLE,Hv(t,e));break}case Y.BODY:case Y.CAPTION:case Y.COL:case Y.COLGROUP:case Y.HTML:case Y.TD:case Y.TH:case Y.TR:break;default:Hv(t,e)}}function Kw(t,e){switch(e.tagID){case Y.TH:case Y.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,xt.HTML),t.insertionMode=Ee.IN_CELL,t.activeFormattingElements.insertMarker();break}case Y.CAPTION:case Y.COL:case Y.COLGROUP:case Y.TBODY:case Y.TFOOT:case Y.THEAD:case Y.TR:{t.openElements.hasInTableScope(Y.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Ee.IN_TABLE_BODY,Yw(t,e));break}default:xy(t,e)}}function Uae(t,e){switch(e.tagID){case Y.TR:{t.openElements.hasInTableScope(Y.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Ee.IN_TABLE_BODY);break}case Y.TABLE:{t.openElements.hasInTableScope(Y.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Ee.IN_TABLE_BODY,Dj(t,e));break}case Y.TBODY:case Y.TFOOT:case Y.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(Y.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Ee.IN_TABLE_BODY,Dj(t,e));break}case Y.BODY:case Y.CAPTION:case Y.COL:case Y.COLGROUP:case Y.HTML:case Y.TD:case Y.TH:break;default:Hv(t,e)}}function gut(t,e){const n=e.tagID;Hae.has(n)?(t.openElements.hasInTableScope(Y.TD)||t.openElements.hasInTableScope(Y.TH))&&(t._closeTableCell(),Kw(t,e)):Ys(t,e)}function yut(t,e){const n=e.tagID;switch(n){case Y.TD:case Y.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Ee.IN_ROW);break}case Y.TABLE:case Y.TBODY:case Y.TFOOT:case Y.THEAD:case Y.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),Uae(t,e));break}case Y.BODY:case Y.CAPTION:case Y.COL:case Y.COLGROUP:case Y.HTML:break;default:Ww(t,e)}}function $ae(t,e){switch(e.tagID){case Y.HTML:{Ys(t,e);break}case Y.OPTION:{t.openElements.currentTagId===Y.OPTION&&t.openElements.pop(),t._insertElement(e,xt.HTML);break}case Y.OPTGROUP:{t.openElements.currentTagId===Y.OPTION&&t.openElements.pop(),t.openElements.currentTagId===Y.OPTGROUP&&t.openElements.pop(),t._insertElement(e,xt.HTML);break}case Y.HR:{t.openElements.currentTagId===Y.OPTION&&t.openElements.pop(),t.openElements.currentTagId===Y.OPTGROUP&&t.openElements.pop(),t._appendElement(e,xt.HTML),e.ackSelfClosing=!0;break}case Y.INPUT:case Y.KEYGEN:case Y.TEXTAREA:case Y.SELECT:{t.openElements.hasInSelectScope(Y.SELECT)&&(t.openElements.popUntilTagNamePopped(Y.SELECT),t._resetInsertionMode(),e.tagID!==Y.SELECT&&t._processStartTag(e));break}case Y.SCRIPT:case Y.TEMPLATE:{Lu(t,e);break}}}function Gae(t,e){switch(e.tagID){case Y.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===Y.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===Y.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===Y.OPTGROUP&&t.openElements.pop();break}case Y.OPTION:{t.openElements.currentTagId===Y.OPTION&&t.openElements.pop();break}case Y.SELECT:{t.openElements.hasInSelectScope(Y.SELECT)&&(t.openElements.popUntilTagNamePopped(Y.SELECT),t._resetInsertionMode());break}case Y.TEMPLATE:{Jg(t,e);break}}}function but(t,e){const n=e.tagID;n===Y.CAPTION||n===Y.TABLE||n===Y.TBODY||n===Y.TFOOT||n===Y.THEAD||n===Y.TR||n===Y.TD||n===Y.TH?(t.openElements.popUntilTagNamePopped(Y.SELECT),t._resetInsertionMode(),t._processStartTag(e)):$ae(t,e)}function xut(t,e){const n=e.tagID;n===Y.CAPTION||n===Y.TABLE||n===Y.TBODY||n===Y.TFOOT||n===Y.THEAD||n===Y.TR||n===Y.TD||n===Y.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(Y.SELECT),t._resetInsertionMode(),t.onEndTag(e)):Gae(t,e)}function vut(t,e){switch(e.tagID){case Y.BASE:case Y.BASEFONT:case Y.BGSOUND:case Y.LINK:case Y.META:case Y.NOFRAMES:case Y.SCRIPT:case Y.STYLE:case Y.TEMPLATE:case Y.TITLE:{Lu(t,e);break}case Y.CAPTION:case Y.COLGROUP:case Y.TBODY:case Y.TFOOT:case Y.THEAD:{t.tmplInsertionModeStack[0]=Ee.IN_TABLE,t.insertionMode=Ee.IN_TABLE,xy(t,e);break}case Y.COL:{t.tmplInsertionModeStack[0]=Ee.IN_COLUMN_GROUP,t.insertionMode=Ee.IN_COLUMN_GROUP,TM(t,e);break}case Y.TR:{t.tmplInsertionModeStack[0]=Ee.IN_TABLE_BODY,t.insertionMode=Ee.IN_TABLE_BODY,Yw(t,e);break}case Y.TD:case Y.TH:{t.tmplInsertionModeStack[0]=Ee.IN_ROW,t.insertionMode=Ee.IN_ROW,Kw(t,e);break}default:t.tmplInsertionModeStack[0]=Ee.IN_BODY,t.insertionMode=Ee.IN_BODY,Ys(t,e)}}function Sut(t,e){e.tagID===Y.TEMPLATE&&Jg(t,e)}function qae(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(Y.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):EM(t,e)}function _ut(t,e){e.tagID===Y.HTML?Ys(t,e):e5(t,e)}function Vae(t,e){var n;if(e.tagID===Y.HTML){if(t.fragmentContext||(t.insertionMode=Ee.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===Y.HTML){t._setEndLocation(t.openElements.items[0],e);const r=t.openElements.items[1];r&&!(!((n=t.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&t._setEndLocation(r,e)}}else e5(t,e)}function e5(t,e){t.insertionMode=Ee.IN_BODY,Vw(t,e)}function Cut(t,e){switch(e.tagID){case Y.HTML:{Ys(t,e);break}case Y.FRAMESET:{t._insertElement(e,xt.HTML);break}case Y.FRAME:{t._appendElement(e,xt.HTML),e.ackSelfClosing=!0;break}case Y.NOFRAMES:{Lu(t,e);break}}}function wut(t,e){e.tagID===Y.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==Y.FRAMESET&&(t.insertionMode=Ee.AFTER_FRAMESET))}function Eut(t,e){switch(e.tagID){case Y.HTML:{Ys(t,e);break}case Y.NOFRAMES:{Lu(t,e);break}}}function Tut(t,e){e.tagID===Y.HTML&&(t.insertionMode=Ee.AFTER_AFTER_FRAMESET)}function Aut(t,e){e.tagID===Y.HTML?Ys(t,e):V4(t,e)}function V4(t,e){t.insertionMode=Ee.IN_BODY,Vw(t,e)}function Rut(t,e){switch(e.tagID){case Y.HTML:{Ys(t,e);break}case Y.NOFRAMES:{Lu(t,e);break}}}function kut(t,e){e.chars=Ra,t._insertCharacters(e)}function Iut(t,e){t._insertCharacters(e),t.framesetOk=!1}function Wae(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==xt.HTML&&t.openElements.currentTagId!==void 0&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function jut(t,e){if(Vlt(e))Wae(t),t._startTagOutsideForeignContent(e);else{const n=t._getAdjustedCurrentElement(),r=t.treeAdapter.getNamespaceURI(n);r===xt.MATHML?Iae(e):r===xt.SVG&&(Wlt(e),jae(e)),CM(e),e.selfClosing?t._appendElement(e,r):t._insertElement(e,r),e.ackSelfClosing=!0}}function Out(t,e){if(e.tagID===Y.P||e.tagID===Y.BR){Wae(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){const r=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(r)===xt.HTML){t._endTagOutsideForeignContent(e);break}const a=t.treeAdapter.getTagName(r);if(a.toLowerCase()===e.tagName){e.tagName=a,t.openElements.shortenToLength(n);break}}}qe.AREA,qe.BASE,qe.BASEFONT,qe.BGSOUND,qe.BR,qe.COL,qe.EMBED,qe.FRAME,qe.HR,qe.IMG,qe.INPUT,qe.KEYGEN,qe.LINK,qe.META,qe.PARAM,qe.SOURCE,qe.TRACK,qe.WBR;const Dut=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,Mut=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),TY={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Yae(t,e){const n=Gut(t),r=Ure("type",{handlers:{root:Nut,element:Put,text:Lut,comment:Xae,doctype:zut,raw:But},unknown:Hut}),a={parser:n?new CY(TY):CY.getFragmentParser(void 0,TY),handle(o){r(o,a)},stitches:!1,options:e||{}};r(t,a),Zy(a,Kd());const i=n?a.parser.document:a.parser.getFragment(),s=Not(i,{file:a.options.file});return a.stitches&&qw(s,"comment",function(o,l,u){const d=o;if(d.value.stitch&&u&&l!==void 0){const h=u.children;return h[l]=d.value.stitch,l}}),s.type==="root"&&s.children.length===1&&s.children[0].type===t.type?s.children[0]:s}function Kae(t,e){let n=-1;if(t)for(;++n<t.length;)e.handle(t[n])}function Nut(t,e){Kae(t.children,e)}function Put(t,e){Uut(t,e),Kae(t.children,e),$ut(t,e)}function Lut(t,e){e.parser.tokenizer.state>4&&(e.parser.tokenizer.state=0);const n={type:Yn.CHARACTER,chars:t.value,location:kS(t)};Zy(e,Kd(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function zut(t,e){const n={type:Yn.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:kS(t)};Zy(e,Kd(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function Fut(t,e){e.stitches=!0;const n=qut(t);if("children"in t&&"children"in n){const r=Yae({type:"root",children:t.children},e.options);n.children=r.children}Xae({type:"comment",value:{stitch:n}},e)}function Xae(t,e){const n=t.value,r={type:Yn.COMMENT,data:n,location:kS(t)};Zy(e,Kd(t)),e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)}function But(t,e){if(e.parser.tokenizer.preprocessor.html="",e.parser.tokenizer.preprocessor.pos=-1,e.parser.tokenizer.preprocessor.lastGapPos=-2,e.parser.tokenizer.preprocessor.gapStack=[],e.parser.tokenizer.preprocessor.skipNextNewLine=!1,e.parser.tokenizer.preprocessor.lastChunkWritten=!1,e.parser.tokenizer.preprocessor.endOfChunkHit=!1,e.parser.tokenizer.preprocessor.isEol=!1,Qae(e,Kd(t)),e.parser.tokenizer.write(e.options.tagfilter?t.value.replace(Dut,"&lt;$1$2"):t.value,!1),e.parser.tokenizer._runParsingLoop(),e.parser.tokenizer.state===72||e.parser.tokenizer.state===78){e.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=e.parser.tokenizer._consume();e.parser.tokenizer._callState(n)}}function Hut(t,e){const n=t;if(e.options.passThrough&&e.options.passThrough.includes(n.type))Fut(n,e);else{let r="";throw Mut.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Zy(t,e){Qae(t,e);const n=t.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=t.parser.tokenizer.preprocessor.line,n.location.endCol=t.parser.tokenizer.preprocessor.col+1,n.location.endOffset=t.parser.tokenizer.preprocessor.offset+1,t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)),t.parser.tokenizer.paused=!1,t.parser.tokenizer.inLoop=!1,t.parser.tokenizer.active=!1,t.parser.tokenizer.returnState=ci.DATA,t.parser.tokenizer.charRefCode=-1,t.parser.tokenizer.consumedAfterSnapshot=-1,t.parser.tokenizer.currentLocation=null,t.parser.tokenizer.currentCharacterToken=null,t.parser.tokenizer.currentToken=null,t.parser.tokenizer.currentAttr={name:"",value:""}}function Qae(t,e){if(e&&e.offset!==void 0){const n={startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:-1,endCol:-1,endOffset:-1};t.parser.tokenizer.preprocessor.lineStartPos=-e.column+1,t.parser.tokenizer.preprocessor.droppedBufferSize=e.offset,t.parser.tokenizer.preprocessor.line=e.line,t.parser.tokenizer.currentLocation=n}}function Uut(t,e){const n=t.tagName.toLowerCase();if(e.parser.tokenizer.state===ci.PLAINTEXT)return;Zy(e,Kd(t));const r=e.parser.openElements.current;let a="namespaceURI"in r?r.namespaceURI:cg.html;a===cg.html&&n==="svg"&&(a=cg.svg);const i=Xot({...t,children:[]},{space:a===cg.svg?"svg":"html"}),s={type:Yn.START_TAG,tagName:n,tagID:Qy(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in i?i.attrs:[],location:kS(t)};e.parser.currentToken=s,e.parser._processToken(e.parser.currentToken),e.parser.tokenizer.lastStartTagName=n}function $ut(t,e){const n=t.tagName.toLowerCase();if(!e.parser.tokenizer.inForeignNode&&alt.includes(n)||e.parser.tokenizer.state===ci.PLAINTEXT)return;Zy(e,Fw(t));const r={type:Yn.END_TAG,tagName:n,tagID:Qy(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:kS(t)};e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken),n===e.parser.tokenizer.lastStartTagName&&(e.parser.tokenizer.state===ci.RCDATA||e.parser.tokenizer.state===ci.RAWTEXT||e.parser.tokenizer.state===ci.SCRIPT_DATA)&&(e.parser.tokenizer.state=ci.DATA)}function Gut(t){const e=t.type==="root"?t.children[0]:t;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName.toLowerCase()==="html"))}function kS(t){const e=Kd(t)||{line:void 0,column:void 0,offset:void 0},n=Fw(t)||{line:void 0,column:void 0,offset:void 0};return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function qut(t){return"children"in t?Ng({...t,children:[]}):Ng(t)}function Vut(t){return function(e,n){return Yae(e,{...t,file:n})}}const zm=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],AY={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...zm,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...zm],h2:[["className","sr-only"]],img:[...zm,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...zm,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...zm],table:[...zm],ul:[...zm,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},ip={}.hasOwnProperty;function Wut(t,e){let n={type:"root",children:[]};const r={schema:e?{...AY,...e}:AY,stack:[]},a=Zae(r,t);return a&&(Array.isArray(a)?a.length===1?n=a[0]:n.children=a:n=a),n}function Zae(t,e){if(e&&typeof e=="object"){const n=e;switch(typeof n.type=="string"?n.type:""){case"comment":return Yut(t,n);case"doctype":return Kut(t,n);case"element":return Xut(t,n);case"root":return Qut(t,n);case"text":return Zut(t,n)}}}function Yut(t,e){if(t.schema.allowComments){const n=typeof e.value=="string"?e.value:"",r=n.indexOf("-->"),i={type:"comment",value:r<0?n:n.slice(0,r)};return IS(i,e),i}}function Kut(t,e){if(t.schema.allowDoctypes){const n={type:"doctype"};return IS(n,e),n}}function Xut(t,e){const n=typeof e.tagName=="string"?e.tagName:"";t.stack.push(n);const r=Jae(t,e.children),a=Jut(t,e.properties);t.stack.pop();let i=!1;if(n&&n!=="*"&&(!t.schema.tagNames||t.schema.tagNames.includes(n))&&(i=!0,t.schema.ancestors&&ip.call(t.schema.ancestors,n))){const o=t.schema.ancestors[n];let l=-1;for(i=!1;++l<o.length;)t.stack.includes(o[l])&&(i=!0)}if(!i)return t.schema.strip&&!t.schema.strip.includes(n)?r:void 0;const s={type:"element",tagName:n,properties:a,children:r};return IS(s,e),s}function Qut(t,e){const r={type:"root",children:Jae(t,e.children)};return IS(r,e),r}function Zut(t,e){const r={type:"text",value:typeof e.value=="string"?e.value:""};return IS(r,e),r}function Jae(t,e){const n=[];if(Array.isArray(e)){const r=e;let a=-1;for(;++a<r.length;){const i=Zae(t,r[a]);i&&(Array.isArray(i)?n.push(...i):n.push(i))}}return n}function Jut(t,e){const n=t.stack[t.stack.length-1],r=t.schema.attributes,a=t.schema.required,i=r&&ip.call(r,n)?r[n]:void 0,s=r&&ip.call(r,"*")?r["*"]:void 0,o=e&&typeof e=="object"?e:{},l={};let u;for(u in o)if(ip.call(o,u)){const d=o[u];let h=RY(t,kY(i,u),u,d);h==null&&(h=RY(t,kY(s,u),u,d)),h!=null&&(l[u]=h)}if(a&&ip.call(a,n)){const d=a[n];for(u in d)ip.call(d,u)&&!ip.call(l,u)&&(l[u]=d[u])}return l}function RY(t,e,n,r){return e?Array.isArray(r)?edt(t,e,n,r):eie(t,e,n,r):void 0}function edt(t,e,n,r){let a=-1;const i=[];for(;++a<r.length;){const s=eie(t,e,n,r[a]);(typeof s=="number"||typeof s=="string")&&i.push(s)}return i}function eie(t,e,n,r){if(!(typeof r!="boolean"&&typeof r!="number"&&typeof r!="string")&&tdt(t,n,r)){if(typeof e=="object"&&e.length>1){let a=!1,i=0;for(;++i<e.length;){const s=e[i];if(s&&typeof s=="object"&&"flags"in s){if(s.test(String(r))){a=!0;break}}else if(s===r){a=!0;break}}if(!a)return}return t.schema.clobber&&t.schema.clobberPrefix&&t.schema.clobber.includes(n)?t.schema.clobberPrefix+r:r}}function tdt(t,e,n){const r=t.schema.protocols&&ip.call(t.schema.protocols,e)?t.schema.protocols[e]:void 0;if(!r||r.length===0)return!0;const a=String(n),i=a.indexOf(":"),s=a.indexOf("?"),o=a.indexOf("#"),l=a.indexOf("/");if(i<0||l>-1&&i>l||s>-1&&i>s||o>-1&&i>o)return!0;let u=-1;for(;++u<r.length;){const d=r[u];if(i===d.length&&a.slice(0,d.length)===d)return!0}return!1}function IS(t,e){const n=dre(e);e.data&&(t.data=Ng(e.data)),n&&(t.position=n)}function kY(t,e){let n,r=-1;if(t)for(;++r<t.length;){const a=t[r],i=typeof a=="string"?a:a[0];if(i===e)return a;i==="data*"&&(n=a)}if(e.length>4&&e.slice(0,4).toLowerCase()==="data")return n}function ndt(t){return function(e){return Wut(e,t)}}const rdt=()=>{const{t,i18n:e}=$t(["navigation","common"]),n=os(),r=uv(n.breakpoints.down("md")),[a,i]=A.useState("setup"),[s,o]=A.useState(""),[l,u]=A.useState(!1),[d,h]=A.useState(null),[m,y]=A.useState(!r),x=[{id:"setup",title:t("navigation:help.sections.setup"," "),file:"setup.md"},{id:"filters",title:t("navigation:help.sections.filters"," "),file:"filters.md"}];A.useEffect(()=>{(async()=>{u(!0),h(null);try{const w=x.find(I=>I.id===a);if(!w)throw new Error("Section not found");const T=e.language||"ko",E=await fetch(`/help/${T}/${w.file}`);if(E.ok){const I=await E.text();o(I)}else{const I=await fetch(`/help/ko/${w.file}`);if(!I.ok)throw new Error("Help content not found");const j=await I.text();o(j)}}catch(w){console.error("Failed to load help content:",w),h(t("common:errors.loadFailed","  .")),o("")}finally{u(!1)}})()},[a,e.language]);const v=C=>{i(C),r&&y(!1)},_=c.jsxs(J,{sx:{width:280,pt:2},children:[c.jsx(re,{variant:"h6",sx:{px:2,mb:2,fontWeight:600},children:t("navigation:help.title","")}),c.jsx(Wf,{children:x.map(C=>c.jsx(Yf,{disablePadding:!0,children:c.jsx(dC,{selected:a===C.id,onClick:()=>v(C.id),children:c.jsx(Ss,{primary:C.title})})},C.id))})]});return c.jsxs(J,{sx:{display:"flex",minHeight:"calc(100vh - 64px)"},children:[!r&&c.jsx(uC,{variant:"permanent",sx:{width:280,flexShrink:0,"& .MuiDrawer-paper":{width:280,boxSizing:"border-box",position:"relative",height:"auto"}},children:_}),r&&c.jsx(uC,{variant:"temporary",open:m,onClose:()=>y(!1),ModalProps:{keepMounted:!0},children:_}),c.jsx(J,{component:"main",sx:{flexGrow:1,p:3},children:c.jsxs(hg,{maxWidth:"lg",children:[r&&c.jsx(ht,{onClick:()=>y(!0),sx:{mb:2},"aria-label":"Open menu",children:c.jsx(eQ,{})}),l&&c.jsx(J,{sx:{display:"flex",justifyContent:"center",py:8},children:c.jsx(Kt,{})}),d&&c.jsx(St,{severity:"error",sx:{mb:3},children:d}),!l&&!d&&s&&c.jsx(Yt,{elevation:0,sx:{p:4,backgroundColor:n.palette.mode==="dark"?"background.paper":"background.default","& h1":{fontSize:"2rem",fontWeight:600,mb:2,mt:0},"& h2":{fontSize:"1.5rem",fontWeight:600,mb:2,mt:4,borderBottom:`1px solid ${n.palette.divider}`,pb:1},"& h3":{fontSize:"1.25rem",fontWeight:600,mb:1.5,mt:3},"& p":{mb:2,lineHeight:1.7},"& ul, & ol":{mb:2,pl:3},"& li":{mb:1},"& code":{backgroundColor:n.palette.mode==="dark"?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)",padding:"2px 6px",borderRadius:"4px",fontSize:"0.9em",fontFamily:"monospace"},"& pre":{backgroundColor:n.palette.mode==="dark"?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.02)",padding:2,borderRadius:1,overflow:"auto",mb:2},"& pre code":{backgroundColor:"transparent",padding:0},"& blockquote":{borderLeft:`4px solid ${n.palette.primary.main}`,pl:2,ml:0,fontStyle:"italic",color:n.palette.text.secondary},"& table":{width:"100%",borderCollapse:"collapse",mb:2},"& th, & td":{border:`1px solid ${n.palette.divider}`,padding:1.5,textAlign:"left"},"& th":{backgroundColor:n.palette.mode==="dark"?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.02)",fontWeight:600},"& img":{maxWidth:"100%",height:"auto",borderRadius:1,mb:2}},children:c.jsx(dit,{remarkPlugins:[wot],rehypePlugins:[Vut,ndt],children:s})})]})})]})},adt=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(""),[a,i]=A.useState(""),[s,o]=A.useState(!1),[l,u]=A.useState(!1),[d,h]=A.useState(null),{login:m}=dD(),y=Zf();A.useEffect(()=>{(async()=>{try{const _=await mg.getDatabaseInfo();h(_)}catch(_){console.error("Failed to load database info:",_)}})()},[]);const x=async v=>{v.preventDefault(),i(""),o(!0);try{await m(t,n),y("/")}catch(_){_ instanceof Error?i(_.message||"Login failed"):i("Login failed")}finally{o(!1)}};return c.jsx(J,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"background.default"},children:c.jsxs(hg,{maxWidth:"sm",children:[c.jsx(gr,{elevation:3,children:c.jsxs(Ba,{sx:{p:4},children:[c.jsxs(J,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:3},children:[c.jsx(J,{sx:{width:56,height:56,borderRadius:"50%",bgcolor:"primary.main",display:"flex",alignItems:"center",justifyContent:"center",mb:2},children:c.jsx(WRe,{sx:{fontSize:32,color:"white"}})}),c.jsx(re,{variant:"h5",component:"h1",fontWeight:"bold",children:"ComfyUI Image Manager"}),c.jsx(re,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Sign in to continue"})]}),a&&c.jsx(St,{severity:"error",sx:{mb:2},children:a}),c.jsxs("form",{onSubmit:x,children:[c.jsx(jt,{fullWidth:!0,label:"Username",variant:"outlined",value:t,onChange:v=>e(v.target.value),disabled:s,autoComplete:"username",autoFocus:!0,sx:{mb:2}}),c.jsx(jt,{fullWidth:!0,label:"Password",type:"password",variant:"outlined",value:n,onChange:v=>r(v.target.value),disabled:s,autoComplete:"current-password",sx:{mb:3}}),c.jsx(Ke,{fullWidth:!0,type:"submit",variant:"contained",size:"large",disabled:s||!t||!n,sx:{py:1.5},children:s?c.jsx(Kt,{size:24}):"Sign In"}),c.jsx(J,{sx:{mt:2,textAlign:"center"},children:c.jsxs(Jk,{component:"button",type:"button",variant:"body2",onClick:()=>u(!0),sx:{display:"inline-flex",alignItems:"center",gap:.5,cursor:"pointer",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:[c.jsx(NO,{fontSize:"small"}),"  "]})})]})]})}),c.jsxs(or,{open:l,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[c.jsx(pr,{children:"  "}),c.jsx(hr,{children:c.jsxs(St,{severity:"info",sx:{mb:2},children:[c.jsx(re,{variant:"body2",sx:{mb:2},children:"  ,      ."}),c.jsx(re,{variant:"body2",component:"div",sx:{mb:1},children:c.jsx("strong",{children:" :"})}),c.jsxs(re,{variant:"body2",component:"ol",sx:{pl:2,mb:2},children:[c.jsx("li",{children:" "}),c.jsx("li",{children:"  "}),c.jsx("li",{children:"  "}),c.jsx("li",{children:"  "})]}),d&&c.jsxs(J,{sx:{bgcolor:"background.default",p:2,borderRadius:1,mt:2},children:[c.jsx(re,{variant:"caption",sx:{display:"block",mb:1},children:c.jsx("strong",{children:" :"})}),c.jsx(re,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.85rem",wordBreak:"break-all",bgcolor:"grey.900",color:"success.light",p:1,borderRadius:1},children:d.authDbPath})]}),c.jsx(St,{severity:"warning",sx:{mt:2},children:c.jsx(re,{variant:"caption",children:" :      ,   . ,       ."})})]})}),c.jsx(yr,{children:c.jsx(Ke,{onClick:()=>u(!1),children:""})})]})]})})},idt=t=>{const e=bt.c(6),{children:n}=t,{isAuthenticated:r,isLoading:a,hasCredentials:i}=dD();if(a){let o;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o=c.jsx(J,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:c.jsx(Kt,{})}),e[0]=o):o=e[0],o}if(!i){let o;return e[1]!==n?(o=c.jsx(c.Fragment,{children:n}),e[1]=n,e[2]=o):o=e[2],o}if(!r){let o;return e[3]===Symbol.for("react.memo_cache_sentinel")?(o=c.jsx(Nse,{to:"/login",replace:!0}),e[3]=o):o=e[3],o}let s;return e[4]!==n?(s=c.jsx(c.Fragment,{children:n}),e[4]=n,e[5]=s):s=e[5],s},tie=A.createContext(void 0),sdt=()=>{const t=A.useContext(tie);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},odt=t=>x5({palette:{mode:t,primary:{main:t==="dark"?"#90caf9":"#1976d2"},secondary:{main:t==="dark"?"#f48fb1":"#dc004e"},background:{default:t==="dark"?"#121212":"#fafafa",paper:t==="dark"?"#1e1e1e":"#ffffff"},divider:t==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.12)"},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',h4:{fontWeight:600},h6:{fontWeight:600}},shape:{borderRadius:8},components:{MuiAppBar:{styleOverrides:{root:{backgroundColor:t==="dark"?"#1e1e1e":"#1976d2",color:"#ffffff"}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"none"}}},MuiCard:{styleOverrides:{root:{border:`1px solid ${t==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.12)"}`}}},MuiButton:{styleOverrides:{root:{textTransform:"none",fontWeight:500}}},MuiChip:{styleOverrides:{root:{fontWeight:500}}}}}),ldt=t=>{const e=bt.c(17),{children:n}=t,[r,a]=A.useState(cdt);let i;e[0]!==r?(i=odt(r),e[0]=r,e[1]=i):i=e[1];const s=i;let o;e[2]!==r?(o=()=>{const v=r==="light"?"dark":"light";a(v),localStorage.setItem("theme-mode",v)},e[2]=r,e[3]=o):o=e[3];const l=o;let u,d;e[4]!==r?(u=()=>{localStorage.setItem("theme-mode",r)},d=[r],e[4]=r,e[5]=u,e[6]=d):(u=e[5],d=e[6]),A.useEffect(u,d);let h;e[7]!==r||e[8]!==s||e[9]!==l?(h={mode:r,toggleMode:l,theme:s},e[7]=r,e[8]=s,e[9]=l,e[10]=h):h=e[10];const m=h;let y;e[11]!==n||e[12]!==s?(y=c.jsx(A_e,{theme:s,children:n}),e[11]=n,e[12]=s,e[13]=y):y=e[13];let x;return e[14]!==m||e[15]!==y?(x=c.jsx(tie.Provider,{value:m,children:y}),e[14]=m,e[15]=y,e[16]=x):x=e[16],x};function cdt(){return localStorage.getItem("theme-mode")||"light"}const udt=()=>{const{t}=$t("navigation"),e=Hd(),n=os(),{mode:r,toggleMode:a}=sdt(),i=uv(n.breakpoints.down("md")),s=uv(n.breakpoints.down("lg")),[o,l]=A.useState(!1),[u,d]=A.useState(!0);A.useEffect(()=>{(async()=>{try{const C=await Bs.getSettings();d(C.general.enableGallery??!0)}catch(C){console.error("Failed to load gallery setting:",C),d(!0)}})()},[]);const h=[{label:t("header.menu.home"),path:"/",icon:JX,tooltip:t("header.tooltip.home")},{label:t("header.menu.gallery"),path:"/gallery",icon:nI,tooltip:t("header.tooltip.gallery")},{label:t("header.menu.imageGroups"),path:"/image-groups",icon:ky,tooltip:t("header.tooltip.imageGroups")},{label:t("header.menu.search"),path:"/search",icon:Jf,tooltip:t("header.tooltip.search")},{label:t("header.menu.upload"),path:"/upload",icon:dv,tooltip:t("header.tooltip.upload")},{label:t("header.menu.imageGeneration"),path:"/image-generation",icon:Mp,tooltip:t("header.tooltip.imageGeneration")},{label:t("header.menu.settings"),path:"/settings",icon:iy,tooltip:t("header.tooltip.settings")},{label:t("header.menu.help"),path:"/help",icon:NO,tooltip:t("header.tooltip.help")}],m=u?h:h.filter(_=>_.path!=="/gallery"),y=()=>{l(!o)},x=()=>{l(!1)},v=()=>c.jsxs(uC,{anchor:"left",open:o,onClose:x,sx:{zIndex:_=>_.zIndex.drawer+2,"& .MuiDrawer-paper":{width:280,boxSizing:"border-box"}},ModalProps:{keepMounted:!0},children:[c.jsxs(J,{sx:{p:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx(re,{variant:"h6",component:"div",children:t("header.title")}),c.jsx(ht,{onClick:x,"aria-label":t("header.mobileMenu.close"),children:c.jsx(Np,{})})]}),c.jsx(yn,{}),c.jsx(Wf,{children:m.map(_=>{const C=_.icon;return c.jsx(Yf,{disablePadding:!0,children:c.jsxs(dC,{component:K4,to:_.path,selected:e.pathname===_.path,onClick:x,children:[c.jsx(pu,{children:c.jsx(C,{})}),c.jsx(Ss,{primary:_.label})]})},_.path)})}),c.jsx(yn,{}),c.jsx(Wf,{children:c.jsx(Yf,{disablePadding:!0,children:c.jsxs(dC,{onClick:a,children:[c.jsx(pu,{children:r==="dark"?c.jsx(dT,{}):c.jsx(uT,{})}),c.jsx(Ss,{primary:t(r==="dark"?"header.theme.light":"header.theme.dark"),secondary:t("header.theme.toggle")})]})})})]});return c.jsxs(c.Fragment,{children:[c.jsx(eCe,{position:"static",elevation:1,children:c.jsxs(OO,{sx:{width:"100%",px:{xs:2,sm:3,md:4}},children:[i&&c.jsx(ht,{edge:"start",color:"inherit","aria-label":"menu",onClick:y,sx:{mr:2},children:c.jsx(eQ,{})}),c.jsx(re,{variant:"h6",component:"div",sx:{flexGrow:1,fontWeight:600,fontSize:{xs:"1.1rem",sm:"1.25rem"}},children:t("header.title")}),!i&&c.jsxs(J,{sx:{display:"flex",gap:1,alignItems:"center"},children:[m.map(_=>{const C=_.icon,w=s&&!i;return c.jsx(Xt,{title:_.tooltip,arrow:!0,children:c.jsxs(Ke,{color:"inherit",component:K4,to:_.path,variant:e.pathname===_.path?"outlined":"text",sx:{color:"inherit",borderColor:e.pathname===_.path?"currentColor":"transparent",minWidth:"auto",px:w?1.5:2,"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:[c.jsx(C,{sx:{fontSize:20,mr:w?0:1}}),!w&&_.label]})},_.path)}),c.jsx(Xt,{title:t("header.theme.toggle"),arrow:!0,children:c.jsx(ht,{color:"inherit",onClick:a,sx:{ml:1,"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:r==="dark"?c.jsx(dT,{}):c.jsx(uT,{})})})]}),i&&c.jsx(Xt,{title:t("header.theme.toggle"),arrow:!0,children:c.jsx(ht,{color:"inherit",onClick:a,sx:{"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:r==="dark"?c.jsx(dT,{}):c.jsx(uT,{})})})]})}),c.jsx(v,{})]})},ddt=()=>{const t=bt.c(11),{t:e}=$t("navigation"),n=os(),r=n.palette.mode==="dark"?n.palette.grey[900]:n.palette.grey[100];let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={xs:2,sm:3,md:4},t[0]=a):a=t[0];let i;t[1]!==r?(i={backgroundColor:r,py:3,mt:"auto",borderTop:1,borderColor:"divider",width:"100%",px:a},t[1]=r,t[2]=i):i=t[2];let s;t[3]===Symbol.for("react.memo_cache_sentinel")?(s={fontSize:{xs:"0.75rem",sm:"0.875rem"}},t[3]=s):s=t[3];let o;t[4]!==e?(o=e("footer.copyright"),t[4]=e,t[5]=o):o=t[5];let l;t[6]!==o?(l=c.jsx(re,{variant:"body2",color:"text.secondary",align:"center",sx:s,children:o}),t[6]=o,t[7]=l):l=t[7];let u;return t[8]!==i||t[9]!==l?(u=c.jsx(J,{component:"footer",sx:i,children:l}),t[8]=i,t[9]=l,t[10]=u):u=t[10],u},fdt=t=>{const e=bt.c(18),{children:n,maxWidth:r,disablePadding:a}=t,i=r===void 0?!1:r,s=a===void 0?!1:a;let o,l;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={display:"flex",flexDirection:"column",minHeight:"100vh",width:"100%"},l=c.jsx(udt,{}),e[0]=o,e[1]=l):(o=e[0],l=e[1]);let u;e[2]!==s?(u=s?0:{xs:2,sm:3,md:4},e[2]=s,e[3]=u):u=e[3];let d;e[4]!==s?(d=s?0:{xs:2,sm:3,md:4},e[4]=s,e[5]=d):d=e[5];let h;e[6]!==u||e[7]!==d?(h={flexGrow:1,py:u,px:d,width:"100%",display:"flex",flexDirection:"column"},e[6]=u,e[7]=d,e[8]=h):h=e[8];let m;e[9]!==n||e[10]!==i?(m=i===!1?c.jsx(J,{sx:{width:"100%",flex:1},children:n}):c.jsx(hg,{maxWidth:i,sx:{flex:1,display:"flex",flexDirection:"column",px:0},children:n}),e[9]=n,e[10]=i,e[11]=m):m=e[11];let y;e[12]!==h||e[13]!==m?(y=c.jsx(J,{component:"main",sx:h,children:m}),e[12]=h,e[13]=m,e[14]=y):y=e[14];let x;e[15]===Symbol.for("react.memo_cache_sentinel")?(x=c.jsx(ddt,{}),e[15]=x):x=e[15];let v;return e[16]!==y?(v=c.jsxs(J,{sx:o,children:[l,y,x]}),e[16]=y,e[17]=v):v=e[17],v},hdt=new Ude({defaultOptions:{queries:{staleTime:6e4,gcTime:3e5,refetchOnWindowFocus:!1,retry:1}}});function pdt(){const t=bt.c(14);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=c.jsx(bde,{}),t[0]=e):e=t[0];let n;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=c.jsx(mo,{path:"/login",element:c.jsx(adt,{})}),t[1]=n):n=t[1];let r;t[2]===Symbol.for("react.memo_cache_sentinel")?(r=c.jsx(mo,{path:"/",element:c.jsx(eNe,{})}),t[2]=r):r=t[2];let a;t[3]===Symbol.for("react.memo_cache_sentinel")?(a=c.jsx(mo,{path:"/gallery",element:c.jsx(OFe,{})}),t[3]=a):a=t[3];let i;t[4]===Symbol.for("react.memo_cache_sentinel")?(i=c.jsx(mo,{path:"/image-groups",element:c.jsx(RBe,{})}),t[4]=i):i=t[4];let s;t[5]===Symbol.for("react.memo_cache_sentinel")?(s=c.jsx(mo,{path:"/upload",element:c.jsx(kFe,{})}),t[5]=s):s=t[5];let o;t[6]===Symbol.for("react.memo_cache_sentinel")?(o=c.jsx(mo,{path:"/search",element:c.jsx(rBe,{})}),t[6]=o):o=t[6];let l;t[7]===Symbol.for("react.memo_cache_sentinel")?(l=c.jsx(mo,{path:"/settings",element:c.jsx(A$e,{})}),t[7]=l):l=t[7];let u;t[8]===Symbol.for("react.memo_cache_sentinel")?(u=c.jsx(mo,{path:"/help",element:c.jsx(rdt,{})}),t[8]=u):u=t[8];let d;t[9]===Symbol.for("react.memo_cache_sentinel")?(d=c.jsx(mo,{path:"/image/:compositeHash",element:c.jsx(kBe,{})}),t[9]=d):d=t[9];let h;t[10]===Symbol.for("react.memo_cache_sentinel")?(h=c.jsx(mo,{path:"/image-generation",element:c.jsx(zGe,{})}),t[10]=h):h=t[10];let m;t[11]===Symbol.for("react.memo_cache_sentinel")?(m=c.jsx(mo,{path:"/image-generation/new",element:c.jsx(mW,{})}),t[11]=m):m=t[11];let y;t[12]===Symbol.for("react.memo_cache_sentinel")?(y=c.jsx(mo,{path:"/image-generation/:id/edit",element:c.jsx(mW,{})}),t[12]=y):y=t[12];let x;return t[13]===Symbol.for("react.memo_cache_sentinel")?(x=c.jsx($de,{client:hdt,children:c.jsxs(ldt,{children:[e,c.jsx(soe,{children:c.jsx(DHe,{children:c.jsxs(TN,{children:[n,c.jsx(mo,{path:"/*",element:c.jsx(idt,{children:c.jsx(fdt,{children:c.jsxs(TN,{children:[r,a,i,s,o,l,u,d,h,m,y,c.jsx(mo,{path:"/image-generation/:id/generate",element:c.jsx(itt,{})})]})})})})]})})})]})}),t[13]=x):x=t[13],x}Gie.createRoot(document.getElementById("root")).render(c.jsx(A.StrictMode,{children:c.jsx(pdt,{})}));
