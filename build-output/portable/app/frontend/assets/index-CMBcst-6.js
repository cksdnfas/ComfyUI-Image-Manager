function Nie(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var c_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $f(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kE={exports:{}},gx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uM;function Mie(){if(uM)return gx;uM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,i){var s=null;if(i!==void 0&&(s=""+i),a.key!==void 0&&(s=""+a.key),"key"in a){i={};for(var o in a)o!=="key"&&(i[o]=a[o])}else i=a;return a=i.ref,{$$typeof:t,type:r,key:s,ref:a!==void 0?a:null,props:i}}return gx.Fragment=e,gx.jsx=n,gx.jsxs=n,gx}var dM;function Pie(){return dM||(dM=1,kE.exports=Mie()),kE.exports}var c=Pie(),IE={exports:{}},kn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fM;function Lie(){if(fM)return kn;fM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),m=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=m&&q[m]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,_={};function C(q,Z,Y){this.props=q,this.context=Z,this.refs=_,this.updater=Y||x}C.prototype.isReactComponent={},C.prototype.setState=function(q,Z){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Z,"setState")},C.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function w(){}w.prototype=C.prototype;function T(q,Z,Y){this.props=q,this.context=Z,this.refs=_,this.updater=Y||x}var E=T.prototype=new w;E.constructor=T,v(E,C.prototype),E.isPureReactComponent=!0;var k=Array.isArray;function j(){}var O={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function M(q,Z,Y){var ne=Y.ref;return{$$typeof:t,type:q,key:Z,ref:ne!==void 0?ne:null,props:Y}}function N(q,Z){return M(q.type,Z,q.props)}function U(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function F(q){var Z={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Y){return Z[Y]})}var $=/\/+/g;function D(q,Z){return typeof q=="object"&&q!==null&&q.key!=null?F(""+q.key):Z.toString(36)}function H(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(j,j):(q.status="pending",q.then(function(Z){q.status==="pending"&&(q.status="fulfilled",q.value=Z)},function(Z){q.status==="pending"&&(q.status="rejected",q.reason=Z)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function L(q,Z,Y,ne,re){var ie=typeof q;(ie==="undefined"||ie==="boolean")&&(q=null);var ce=!1;if(q===null)ce=!0;else switch(ie){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(q.$$typeof){case t:case e:ce=!0;break;case d:return ce=q._init,L(ce(q._payload),Z,Y,ne,re)}}if(ce)return re=re(q),ce=ne===""?"."+D(q,0):ne,k(re)?(Y="",ce!=null&&(Y=ce.replace($,"$&/")+"/"),L(re,Z,Y,"",function(le){return le})):re!=null&&(U(re)&&(re=N(re,Y+(re.key==null||q&&q.key===re.key?"":(""+re.key).replace($,"$&/")+"/")+ce)),Z.push(re)),1;ce=0;var he=ne===""?".":ne+":";if(k(q))for(var me=0;me<q.length;me++)ne=q[me],ie=he+D(ne,me),ce+=L(ne,Z,Y,ie,re);else if(me=y(q),typeof me=="function")for(q=me.call(q),me=0;!(ne=q.next()).done;)ne=ne.value,ie=he+D(ne,me++),ce+=L(ne,Z,Y,ie,re);else if(ie==="object"){if(typeof q.then=="function")return L(H(q),Z,Y,ne,re);throw Z=String(q),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ce}function V(q,Z,Y){if(q==null)return q;var ne=[],re=0;return L(q,ne,"","",function(ie){return Z.call(Y,ie,re++)}),ne}function J(q){if(q._status===-1){var Z=q._result;Z=Z(),Z.then(function(Y){(q._status===0||q._status===-1)&&(q._status=1,q._result=Y)},function(Y){(q._status===0||q._status===-1)&&(q._status=2,q._result=Y)}),q._status===-1&&(q._status=0,q._result=Z)}if(q._status===1)return q._result.default;throw q._result}var Q=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},K={map:V,forEach:function(q,Z,Y){V(q,function(){Z.apply(this,arguments)},Y)},count:function(q){var Z=0;return V(q,function(){Z++}),Z},toArray:function(q){return V(q,function(Z){return Z})||[]},only:function(q){if(!U(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return kn.Activity=h,kn.Children=K,kn.Component=C,kn.Fragment=n,kn.Profiler=a,kn.PureComponent=T,kn.StrictMode=r,kn.Suspense=l,kn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,kn.__COMPILER_RUNTIME={__proto__:null,c:function(q){return O.H.useMemoCache(q)}},kn.cache=function(q){return function(){return q.apply(null,arguments)}},kn.cacheSignal=function(){return null},kn.cloneElement=function(q,Z,Y){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ne=v({},q.props),re=q.key;if(Z!=null)for(ie in Z.key!==void 0&&(re=""+Z.key),Z)!z.call(Z,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&Z.ref===void 0||(ne[ie]=Z[ie]);var ie=arguments.length-2;if(ie===1)ne.children=Y;else if(1<ie){for(var ce=Array(ie),he=0;he<ie;he++)ce[he]=arguments[he+2];ne.children=ce}return M(q.type,re,ne)},kn.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:i,_context:q},q},kn.createElement=function(q,Z,Y){var ne,re={},ie=null;if(Z!=null)for(ne in Z.key!==void 0&&(ie=""+Z.key),Z)z.call(Z,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(re[ne]=Z[ne]);var ce=arguments.length-2;if(ce===1)re.children=Y;else if(1<ce){for(var he=Array(ce),me=0;me<ce;me++)he[me]=arguments[me+2];re.children=he}if(q&&q.defaultProps)for(ne in ce=q.defaultProps,ce)re[ne]===void 0&&(re[ne]=ce[ne]);return M(q,ie,re)},kn.createRef=function(){return{current:null}},kn.forwardRef=function(q){return{$$typeof:o,render:q}},kn.isValidElement=U,kn.lazy=function(q){return{$$typeof:d,_payload:{_status:-1,_result:q},_init:J}},kn.memo=function(q,Z){return{$$typeof:u,type:q,compare:Z===void 0?null:Z}},kn.startTransition=function(q){var Z=O.T,Y={};O.T=Y;try{var ne=q(),re=O.S;re!==null&&re(Y,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(j,Q)}catch(ie){Q(ie)}finally{Z!==null&&Y.types!==null&&(Z.types=Y.types),O.T=Z}},kn.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},kn.use=function(q){return O.H.use(q)},kn.useActionState=function(q,Z,Y){return O.H.useActionState(q,Z,Y)},kn.useCallback=function(q,Z){return O.H.useCallback(q,Z)},kn.useContext=function(q){return O.H.useContext(q)},kn.useDebugValue=function(){},kn.useDeferredValue=function(q,Z){return O.H.useDeferredValue(q,Z)},kn.useEffect=function(q,Z){return O.H.useEffect(q,Z)},kn.useEffectEvent=function(q){return O.H.useEffectEvent(q)},kn.useId=function(){return O.H.useId()},kn.useImperativeHandle=function(q,Z,Y){return O.H.useImperativeHandle(q,Z,Y)},kn.useInsertionEffect=function(q,Z){return O.H.useInsertionEffect(q,Z)},kn.useLayoutEffect=function(q,Z){return O.H.useLayoutEffect(q,Z)},kn.useMemo=function(q,Z){return O.H.useMemo(q,Z)},kn.useOptimistic=function(q,Z){return O.H.useOptimistic(q,Z)},kn.useReducer=function(q,Z,Y){return O.H.useReducer(q,Z,Y)},kn.useRef=function(q){return O.H.useRef(q)},kn.useState=function(q){return O.H.useState(q)},kn.useSyncExternalStore=function(q,Z,Y){return O.H.useSyncExternalStore(q,Z,Y)},kn.useTransition=function(){return O.H.useTransition()},kn.version="19.2.0",kn}var hM;function kg(){return hM||(hM=1,IE.exports=Lie()),IE.exports}var A=kg();const je=$f(A),W4=Nie({__proto__:null,default:je},[A]);var jE={exports:{}},yx={},OE={exports:{}},DE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pM;function zie(){return pM||(pM=1,(function(t){function e(L,V){var J=L.length;L.push(V);e:for(;0<J;){var Q=J-1>>>1,K=L[Q];if(0<a(K,V))L[Q]=V,L[J]=K,J=Q;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],J=L.pop();if(J!==V){L[0]=J;e:for(var Q=0,K=L.length,q=K>>>1;Q<q;){var Z=2*(Q+1)-1,Y=L[Z],ne=Z+1,re=L[ne];if(0>a(Y,J))ne<K&&0>a(re,Y)?(L[Q]=re,L[ne]=J,Q=ne):(L[Q]=Y,L[Z]=J,Q=Z);else if(ne<K&&0>a(re,J))L[Q]=re,L[ne]=J,Q=ne;else break e}}return V}function a(L,V){var J=L.sortIndex-V.sortIndex;return J!==0?J:L.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,h=null,m=3,y=!1,x=!1,v=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function E(L){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=L)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function k(L){if(v=!1,E(L),!x)if(n(l)!==null)x=!0,j||(j=!0,F());else{var V=n(u);V!==null&&H(k,V.startTime-L)}}var j=!1,O=-1,z=5,M=-1;function N(){return _?!0:!(t.unstable_now()-M<z)}function U(){if(_=!1,j){var L=t.unstable_now();M=L;var V=!0;try{e:{x=!1,v&&(v=!1,w(O),O=-1),y=!0;var J=m;try{t:{for(E(L),h=n(l);h!==null&&!(h.expirationTime>L&&N());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,m=h.priorityLevel;var K=Q(h.expirationTime<=L);if(L=t.unstable_now(),typeof K=="function"){h.callback=K,E(L),V=!0;break t}h===n(l)&&r(l),E(L)}else r(l);h=n(l)}if(h!==null)V=!0;else{var q=n(u);q!==null&&H(k,q.startTime-L),V=!1}}break e}finally{h=null,m=J,y=!1}V=void 0}}finally{V?F():j=!1}}}var F;if(typeof T=="function")F=function(){T(U)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,D=$.port2;$.port1.onmessage=U,F=function(){D.postMessage(null)}}else F=function(){C(U,0)};function H(L,V){O=C(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var J=m;m=V;try{return L()}finally{m=J}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var J=m;m=L;try{return V()}finally{m=J}},t.unstable_scheduleCallback=function(L,V,J){var Q=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Q+J:Q):J=Q,L){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=J+K,L={id:d++,callback:V,priorityLevel:L,startTime:J,expirationTime:K,sortIndex:-1},J>Q?(L.sortIndex=J,e(u,L),n(l)===null&&L===n(u)&&(v?(w(O),O=-1):v=!0,H(k,J-Q))):(L.sortIndex=K,e(l,L),x||y||(x=!0,j||(j=!0,F()))),L},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(L){var V=m;return function(){var J=m;m=V;try{return L.apply(this,arguments)}finally{m=J}}}})(DE)),DE}var mM;function Dj(){return mM||(mM=1,OE.exports=zie()),OE.exports}var NE={exports:{}},Hs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gM;function Fie(){if(gM)return Hs;gM=1;var t=kg();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(l,u,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:h==null?null:""+h,children:l,containerInfo:u,implementation:d}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Hs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Hs.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return i(l,u,null,d)},Hs.flushSync=function(l){var u=s.T,d=r.p;try{if(s.T=null,r.p=2,l)return l()}finally{s.T=u,r.p=d,r.d.f()}},Hs.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(l,u))},Hs.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Hs.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin),m=typeof u.integrity=="string"?u.integrity:void 0,y=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?r.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:m,fetchPriority:y}):d==="script"&&r.d.X(l,{crossOrigin:h,integrity:m,fetchPriority:y,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Hs.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(l)},Hs.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin);r.d.L(l,d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Hs.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);r.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(l)},Hs.requestFormReset=function(l){r.d.r(l)},Hs.unstable_batchedUpdates=function(l,u){return l(u)},Hs.useFormState=function(l,u,d){return s.H.useFormState(l,u,d)},Hs.useFormStatus=function(){return s.H.useHostTransitionStatus()},Hs.version="19.2.0",Hs}var yM;function IY(){if(yM)return NE.exports;yM=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),NE.exports=Fie(),NE.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bM;function Bie(){if(bM)return yx;bM=1;var t=Dj(),e=kg(),n=IY();function r(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)p+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function i(f){var p=f,S=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,(p.flags&4098)!==0&&(S=p.return),f=p.return;while(f)}return p.tag===3?S:null}function s(f){if(f.tag===13){var p=f.memoizedState;if(p===null&&(f=f.alternate,f!==null&&(p=f.memoizedState)),p!==null)return p.dehydrated}return null}function o(f){if(f.tag===31){var p=f.memoizedState;if(p===null&&(f=f.alternate,f!==null&&(p=f.memoizedState)),p!==null)return p.dehydrated}return null}function l(f){if(i(f)!==f)throw Error(r(188))}function u(f){var p=f.alternate;if(!p){if(p=i(f),p===null)throw Error(r(188));return p!==f?null:f}for(var S=f,R=p;;){var B=S.return;if(B===null)break;var G=B.alternate;if(G===null){if(R=B.return,R!==null){S=R;continue}break}if(B.child===G.child){for(G=B.child;G;){if(G===S)return l(B),f;if(G===R)return l(B),p;G=G.sibling}throw Error(r(188))}if(S.return!==R.return)S=B,R=G;else{for(var se=!1,fe=B.child;fe;){if(fe===S){se=!0,S=B,R=G;break}if(fe===R){se=!0,R=B,S=G;break}fe=fe.sibling}if(!se){for(fe=G.child;fe;){if(fe===S){se=!0,S=G,R=B;break}if(fe===R){se=!0,R=G,S=B;break}fe=fe.sibling}if(!se)throw Error(r(189))}}if(S.alternate!==R)throw Error(r(190))}if(S.tag!==3)throw Error(r(188));return S.stateNode.current===S?f:p}function d(f){var p=f.tag;if(p===5||p===26||p===27||p===6)return f;for(f=f.child;f!==null;){if(p=d(f),p!==null)return p;f=f.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),T=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function F(f){return f===null||typeof f!="object"?null:(f=U&&f[U]||f["@@iterator"],typeof f=="function"?f:null)}var $=Symbol.for("react.client.reference");function D(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===$?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case v:return"Fragment";case C:return"Profiler";case _:return"StrictMode";case k:return"Suspense";case j:return"SuspenseList";case M:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case x:return"Portal";case T:return f.displayName||"Context";case w:return(f._context.displayName||"Context")+".Consumer";case E:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case O:return p=f.displayName||null,p!==null?p:D(f.type)||"Memo";case z:p=f._payload,f=f._init;try{return D(f(p))}catch{}}return null}var H=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},Q=[],K=-1;function q(f){return{current:f}}function Z(f){0>K||(f.current=Q[K],Q[K]=null,K--)}function Y(f,p){K++,Q[K]=f.current,f.current=p}var ne=q(null),re=q(null),ie=q(null),ce=q(null);function he(f,p){switch(Y(ie,p),Y(re,f),Y(ne,null),p.nodeType){case 9:case 11:f=(f=p.documentElement)&&(f=f.namespaceURI)?DN(f):0;break;default:if(f=p.tagName,p=p.namespaceURI)p=DN(p),f=NN(p,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}Z(ne),Y(ne,f)}function me(){Z(ne),Z(re),Z(ie)}function le(f){f.memoizedState!==null&&Y(ce,f);var p=ne.current,S=NN(p,f.type);p!==S&&(Y(re,f),Y(ne,S))}function de(f){re.current===f&&(Z(ne),Z(re)),ce.current===f&&(Z(ce),fx._currentValue=J)}var pe,ve;function ge(f){if(pe===void 0)try{throw Error()}catch(S){var p=S.stack.trim().match(/\n( *(at )?)/);pe=p&&p[1]||"",ve=-1<S.stack.indexOf(`
    at`)?" (<anonymous>)":-1<S.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+f+ve}var oe=!1;function Se(f,p){if(!f||oe)return"";oe=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var R={DetermineComponentFrameRoot:function(){try{if(p){var pt=function(){throw Error()};if(Object.defineProperty(pt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pt,[])}catch(at){var Qe=at}Reflect.construct(f,[],pt)}else{try{pt.call()}catch(at){Qe=at}f.call(pt.prototype)}}else{try{throw Error()}catch(at){Qe=at}(pt=f())&&typeof pt.catch=="function"&&pt.catch(function(){})}}catch(at){if(at&&Qe&&typeof at.stack=="string")return[at.stack,Qe.stack]}return[null,null]}};R.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor(R.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty(R.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var G=R.DetermineComponentFrameRoot(),se=G[0],fe=G[1];if(se&&fe){var Te=se.split(`
`),We=fe.split(`
`);for(B=R=0;R<Te.length&&!Te[R].includes("DetermineComponentFrameRoot");)R++;for(;B<We.length&&!We[B].includes("DetermineComponentFrameRoot");)B++;if(R===Te.length||B===We.length)for(R=Te.length-1,B=We.length-1;1<=R&&0<=B&&Te[R]!==We[B];)B--;for(;1<=R&&0<=B;R--,B--)if(Te[R]!==We[B]){if(R!==1||B!==1)do if(R--,B--,0>B||Te[R]!==We[B]){var ot=`
`+Te[R].replace(" at new "," at ");return f.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",f.displayName)),ot}while(1<=R&&0<=B);break}}}finally{oe=!1,Error.prepareStackTrace=S}return(S=f?f.displayName||f.name:"")?ge(S):""}function be(f,p){switch(f.tag){case 26:case 27:case 5:return ge(f.type);case 16:return ge("Lazy");case 13:return f.child!==p&&p!==null?ge("Suspense Fallback"):ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return Se(f.type,!1);case 11:return Se(f.type.render,!1);case 1:return Se(f.type,!0);case 31:return ge("Activity");default:return""}}function Ae(f){try{var p="",S=null;do p+=be(f,S),S=f,f=f.return;while(f);return p}catch(R){return`
Error generating stack: `+R.message+`
`+R.stack}}var Me=Object.prototype.hasOwnProperty,Pe=t.unstable_scheduleCallback,Le=t.unstable_cancelCallback,Oe=t.unstable_shouldYield,Xe=t.unstable_requestPaint,ke=t.unstable_now,Ie=t.unstable_getCurrentPriorityLevel,ye=t.unstable_ImmediatePriority,Ce=t.unstable_UserBlockingPriority,Ne=t.unstable_NormalPriority,Be=t.unstable_LowPriority,Ke=t.unstable_IdlePriority,Je=t.log,Ge=t.unstable_setDisableYieldValue,it=null,ct=null;function nt(f){if(typeof Je=="function"&&Ge(f),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(it,f)}catch{}}var dt=Math.clz32?Math.clz32:sn,$t=Math.log,Wt=Math.LN2;function sn(f){return f>>>=0,f===0?32:31-($t(f)/Wt|0)|0}var xn=256,In=262144,Gt=4194304;function xt(f){var p=f&42;if(p!==0)return p;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return f&261888;case 262144:case 524288:case 1048576:case 2097152:return f&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function Zt(f,p,S){var R=f.pendingLanes;if(R===0)return 0;var B=0,G=f.suspendedLanes,se=f.pingedLanes;f=f.warmLanes;var fe=R&134217727;return fe!==0?(R=fe&~G,R!==0?B=xt(R):(se&=fe,se!==0?B=xt(se):S||(S=fe&~f,S!==0&&(B=xt(S))))):(fe=R&~G,fe!==0?B=xt(fe):se!==0?B=xt(se):S||(S=R&~f,S!==0&&(B=xt(S)))),B===0?0:p!==0&&p!==B&&(p&G)===0&&(G=B&-B,S=p&-p,G>=S||G===32&&(S&4194048)!==0)?p:B}function Cn(f,p){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&p)===0}function jn(f,p){switch(f){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ut(){var f=Gt;return Gt<<=1,(Gt&62914560)===0&&(Gt=4194304),f}function Tn(f){for(var p=[],S=0;31>S;S++)p.push(f);return p}function Et(f,p){f.pendingLanes|=p,p!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function Pt(f,p,S,R,B,G){var se=f.pendingLanes;f.pendingLanes=S,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=S,f.entangledLanes&=S,f.errorRecoveryDisabledLanes&=S,f.shellSuspendCounter=0;var fe=f.entanglements,Te=f.expirationTimes,We=f.hiddenUpdates;for(S=se&~S;0<S;){var ot=31-dt(S),pt=1<<ot;fe[ot]=0,Te[ot]=-1;var Qe=We[ot];if(Qe!==null)for(We[ot]=null,ot=0;ot<Qe.length;ot++){var at=Qe[ot];at!==null&&(at.lane&=-536870913)}S&=~pt}R!==0&&on(f,R,0),G!==0&&B===0&&f.tag!==0&&(f.suspendedLanes|=G&~(se&~p))}function on(f,p,S){f.pendingLanes|=p,f.suspendedLanes&=~p;var R=31-dt(p);f.entangledLanes|=p,f.entanglements[R]=f.entanglements[R]|1073741824|S&261930}function rn(f,p){var S=f.entangledLanes|=p;for(f=f.entanglements;S;){var R=31-dt(S),B=1<<R;B&p|f[R]&p&&(f[R]|=p),S&=~B}}function wn(f,p){var S=p&-p;return S=(S&42)!==0?1:xr(S),(S&(f.suspendedLanes|p))!==0?0:S}function xr(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function Mr(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function jr(){var f=V.p;return f!==0?f:(f=window.event,f===void 0?32:rM(f.type))}function sa(f,p){var S=V.p;try{return V.p=f,p()}finally{V.p=S}}var zr=Math.random().toString(36).slice(2),vr="__reactFiber$"+zr,Fr="__reactProps$"+zr,Es="__reactContainer$"+zr,Ja="__reactEvents$"+zr,Ai="__reactListeners$"+zr,Ts="__reactHandles$"+zr,Ml="__reactResources$"+zr,as="__reactMarker$"+zr;function As(f){delete f[vr],delete f[Fr],delete f[Ja],delete f[Ai],delete f[Ts]}function Zs(f){var p=f[vr];if(p)return p;for(var S=f.parentNode;S;){if(p=S[Es]||S[vr]){if(S=p.alternate,p.child!==null||S!==null&&S.child!==null)for(f=HN(f);f!==null;){if(S=f[vr])return S;f=HN(f)}return p}f=S,S=f.parentNode}return null}function is(f){if(f=f[vr]||f[Es]){var p=f.tag;if(p===5||p===6||p===13||p===31||p===26||p===27||p===3)return f}return null}function ss(f){var p=f.tag;if(p===5||p===26||p===27||p===6)return f.stateNode;throw Error(r(33))}function Ri(f){var p=f[Ml];return p||(p=f[Ml]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function Sr(f){f[as]=!0}var di=new Set,il={};function ki(f,p){oa(f,p),oa(f+"Capture",p)}function oa(f,p){for(il[f]=p,f=0;f<p.length;f++)di.add(p[f])}var va=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rs={},lr={};function ks(f){return Me.call(lr,f)?!0:Me.call(Rs,f)?!1:va.test(f)?lr[f]=!0:(Rs[f]=!0,!1)}function sl(f,p,S){if(ks(p))if(S===null)f.removeAttribute(p);else{switch(typeof S){case"undefined":case"function":case"symbol":f.removeAttribute(p);return;case"boolean":var R=p.toLowerCase().slice(0,5);if(R!=="data-"&&R!=="aria-"){f.removeAttribute(p);return}}f.setAttribute(p,""+S)}}function Bc(f,p,S){if(S===null)f.removeAttribute(p);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(p);return}f.setAttribute(p,""+S)}}function Ii(f,p,S,R){if(R===null)f.removeAttribute(S);else{switch(typeof R){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(S);return}f.setAttributeNS(p,S,""+R)}}function Hi(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function Hc(f){var p=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Pl(f,p,S){var R=Object.getOwnPropertyDescriptor(f.constructor.prototype,p);if(!f.hasOwnProperty(p)&&typeof R<"u"&&typeof R.get=="function"&&typeof R.set=="function"){var B=R.get,G=R.set;return Object.defineProperty(f,p,{configurable:!0,get:function(){return B.call(this)},set:function(se){S=""+se,G.call(this,se)}}),Object.defineProperty(f,p,{enumerable:R.enumerable}),{getValue:function(){return S},setValue:function(se){S=""+se},stopTracking:function(){f._valueTracker=null,delete f[p]}}}}function So(f){if(!f._valueTracker){var p=Hc(f)?"checked":"value";f._valueTracker=Pl(f,p,""+f[p])}}function Oa(f){if(!f)return!1;var p=f._valueTracker;if(!p)return!0;var S=p.getValue(),R="";return f&&(R=Hc(f)?f.checked?"true":"false":f.value),f=R,f!==S?(p.setValue(f),!0):!1}function dr(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var ol=/[\n"\\]/g;function la(f){return f.replace(ol,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function ll(f,p,S,R,B,G,se,fe){f.name="",se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?f.type=se:f.removeAttribute("type"),p!=null?se==="number"?(p===0&&f.value===""||f.value!=p)&&(f.value=""+Hi(p)):f.value!==""+Hi(p)&&(f.value=""+Hi(p)):se!=="submit"&&se!=="reset"||f.removeAttribute("value"),p!=null?os(f,se,Hi(p)):S!=null?os(f,se,Hi(S)):R!=null&&f.removeAttribute("value"),B==null&&G!=null&&(f.defaultChecked=!!G),B!=null&&(f.checked=B&&typeof B!="function"&&typeof B!="symbol"),fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?f.name=""+Hi(fe):f.removeAttribute("name")}function cl(f,p,S,R,B,G,se,fe){if(G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(f.type=G),p!=null||S!=null){if(!(G!=="submit"&&G!=="reset"||p!=null)){So(f);return}S=S!=null?""+Hi(S):"",p=p!=null?""+Hi(p):S,fe||p===f.value||(f.value=p),f.defaultValue=p}R=R??B,R=typeof R!="function"&&typeof R!="symbol"&&!!R,f.checked=fe?f.checked:!!R,f.defaultChecked=!!R,se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"&&(f.name=se),So(f)}function os(f,p,S){p==="number"&&dr(f.ownerDocument)===f||f.defaultValue===""+S||(f.defaultValue=""+S)}function Ui(f,p,S,R){if(f=f.options,p){p={};for(var B=0;B<S.length;B++)p["$"+S[B]]=!0;for(S=0;S<f.length;S++)B=p.hasOwnProperty("$"+f[S].value),f[S].selected!==B&&(f[S].selected=B),B&&R&&(f[S].defaultSelected=!0)}else{for(S=""+Hi(S),p=null,B=0;B<f.length;B++){if(f[B].value===S){f[B].selected=!0,R&&(f[B].defaultSelected=!0);return}p!==null||f[B].disabled||(p=f[B])}p!==null&&(p.selected=!0)}}function ul(f,p,S){if(p!=null&&(p=""+Hi(p),p!==f.value&&(f.value=p),S==null)){f.defaultValue!==p&&(f.defaultValue=p);return}f.defaultValue=S!=null?""+Hi(S):""}function dl(f,p,S,R){if(p==null){if(R!=null){if(S!=null)throw Error(r(92));if(H(R)){if(1<R.length)throw Error(r(93));R=R[0]}S=R}S==null&&(S=""),p=S}S=Hi(p),f.defaultValue=S,R=f.textContent,R===S&&R!==""&&R!==null&&(f.value=R),So(f)}function _o(f,p){if(p){var S=f.firstChild;if(S&&S===f.lastChild&&S.nodeType===3){S.nodeValue=p;return}}f.textContent=p}var Uc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $d(f,p,S){var R=p.indexOf("--")===0;S==null||typeof S=="boolean"||S===""?R?f.setProperty(p,""):p==="float"?f.cssFloat="":f[p]="":R?f.setProperty(p,S):typeof S!="number"||S===0||Uc.has(p)?p==="float"?f.cssFloat=S:f[p]=(""+S).trim():f[p]=S+"px"}function Ll(f,p,S){if(p!=null&&typeof p!="object")throw Error(r(62));if(f=f.style,S!=null){for(var R in S)!S.hasOwnProperty(R)||p!=null&&p.hasOwnProperty(R)||(R.indexOf("--")===0?f.setProperty(R,""):R==="float"?f.cssFloat="":f[R]="");for(var B in p)R=p[B],p.hasOwnProperty(B)&&S[B]!==R&&$d(f,B,R)}else for(var G in p)p.hasOwnProperty(G)&&$d(f,G,p[G])}function fl(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ou=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Co(f){return Ou.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}function Js(){}var hl=null;function pl(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Is=null,ls=null;function Du(f){var p=is(f);if(p&&(f=p.stateNode)){var S=f[Fr]||null;e:switch(f=p.stateNode,p.type){case"input":if(ll(f,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name),p=S.name,S.type==="radio"&&p!=null){for(S=f;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll('input[name="'+la(""+p)+'"][type="radio"]'),p=0;p<S.length;p++){var R=S[p];if(R!==f&&R.form===f.form){var B=R[Fr]||null;if(!B)throw Error(r(90));ll(R,B.value,B.defaultValue,B.defaultValue,B.checked,B.defaultChecked,B.type,B.name)}}for(p=0;p<S.length;p++)R=S[p],R.form===f.form&&Oa(R)}break e;case"textarea":ul(f,S.value,S.defaultValue);break e;case"select":p=S.value,p!=null&&Ui(f,!!S.multiple,p,!1)}}}var ml=!1;function zl(f,p,S){if(ml)return f(p,S);ml=!0;try{var R=f(p);return R}finally{if(ml=!1,(Is!==null||ls!==null)&&(_l(),Is&&(p=Is,f=ls,ls=Is=null,Du(p),f)))for(p=0;p<f.length;p++)Du(f[p])}}function Fl(f,p){var S=f.stateNode;if(S===null)return null;var R=S[Fr]||null;if(R===null)return null;S=R[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(f=f.type,R=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!R;break e;default:f=!1}if(f)return null;if(S&&typeof S!="function")throw Error(r(231,p,typeof S));return S}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bl=!1;if(ji)try{var gl={};Object.defineProperty(gl,"passive",{get:function(){Bl=!0}}),window.addEventListener("test",gl,gl),window.removeEventListener("test",gl,gl)}catch{Bl=!1}var $a=null,yl=null,js=null;function wo(){if(js)return js;var f,p=yl,S=p.length,R,B="value"in $a?$a.value:$a.textContent,G=B.length;for(f=0;f<S&&p[f]===B[f];f++);var se=S-f;for(R=1;R<=se&&p[S-R]===B[G-R];R++);return js=B.slice(f,1<R?1-R:void 0)}function Eo(f){var p=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&p===13&&(f=13)):f=p,f===10&&(f=13),32<=f||f===13?f:0}function eo(){return!0}function Gd(){return!1}function Dn(f){function p(S,R,B,G,se){this._reactName=S,this._targetInst=B,this.type=R,this.nativeEvent=G,this.target=se,this.currentTarget=null;for(var fe in f)f.hasOwnProperty(fe)&&(S=f[fe],this[fe]=S?S(G):G[fe]);return this.isDefaultPrevented=(G.defaultPrevented!=null?G.defaultPrevented:G.returnValue===!1)?eo:Gd,this.isPropagationStopped=Gd,this}return h(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=eo)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=eo)},persist:function(){},isPersistent:eo}),p}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$i=Dn(Da),Hl=h({},Da,{view:0,detail:0}),RS=Dn(Hl),$p,Wg,Zf,Jf=h({},Hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qg,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Zf&&(Zf&&f.type==="mousemove"?($p=f.screenX-Zf.screenX,Wg=f.screenY-Zf.screenY):Wg=$p=0,Zf=f),$p)},movementY:function(f){return"movementY"in f?f.movementY:Wg}}),Xy=Dn(Jf),kS=h({},Jf,{dataTransfer:0}),IS=Dn(kS),Qy=h({},Hl,{relatedTarget:0}),Yg=Dn(Qy),jS=h({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),Kw=Dn(jS),Xw=h({},Da,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),OS=Dn(Xw),Gp=h({},Da,{data:0}),Kg=Dn(Gp),Xg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zy(f){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(f):(f=NS[f])?!!p[f]:!1}function Qg(){return Zy}var MS=h({},Hl,{key:function(f){if(f.key){var p=Xg[f.key]||f.key;if(p!=="Unidentified")return p}return f.type==="keypress"?(f=Eo(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?DS[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qg,charCode:function(f){return f.type==="keypress"?Eo(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Eo(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),qd=Dn(MS),Zg=h({},Jf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jy=Dn(Zg),eb=h({},Hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qg}),PS=Dn(eb),LS=h({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qw=Dn(LS),Oi=h({},Jf,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),zS=Dn(Oi),FS=h({},Da,{newState:0,oldState:0}),BS=Dn(FS),HS=[9,13,27,32],Vd=ji&&"CompositionEvent"in window,eh=null;ji&&"documentMode"in document&&(eh=document.documentMode);var Jg=ji&&"TextEvent"in window&&!eh,tb=ji&&(!Vd||eh&&8<eh&&11>=eh),US=" ",qp=!1;function e0(f,p){switch(f){case"keyup":return HS.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nb(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var Wd=!1;function $S(f,p){switch(f){case"compositionend":return nb(p);case"keypress":return p.which!==32?null:(qp=!0,US);case"textInput":return f=p.data,f===US&&qp?null:f;default:return null}}function rb(f,p){if(Wd)return f==="compositionend"||!Vd&&e0(f,p)?(f=wo(),js=yl=$a=null,Wd=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return tb&&p.locale!=="ko"?null:p.data;default:return null}}var ab={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ib(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p==="input"?!!ab[f.type]:p==="textarea"}function t0(f,p,S,R){Is?ls?ls.push(R):ls=[R]:Is=R,p=Y3(p,"onChange"),0<p.length&&(S=new $i("onChange","change",null,S,R),f.push({event:S,listeners:p}))}var Nu=null,Yd=null;function GS(f){AN(f,0)}function th(f){var p=ss(f);if(Oa(p))return f}function sb(f,p){if(f==="change")return p}var Ul=!1;if(ji){var Vp;if(ji){var ob="oninput"in document;if(!ob){var lb=document.createElement("div");lb.setAttribute("oninput","return;"),ob=typeof lb.oninput=="function"}Vp=ob}else Vp=!1;Ul=Vp&&(!document.documentMode||9<document.documentMode)}function To(){Nu&&(Nu.detachEvent("onpropertychange",Wp),Yd=Nu=null)}function Wp(f){if(f.propertyName==="value"&&th(Yd)){var p=[];t0(p,Yd,f,pl(f)),zl(GS,p)}}function qS(f,p,S){f==="focusin"?(To(),Nu=p,Yd=S,Nu.attachEvent("onpropertychange",Wp)):f==="focusout"&&To()}function cb(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return th(Yd)}function VS(f,p){if(f==="click")return th(p)}function WS(f,p){if(f==="input"||f==="change")return th(p)}function ub(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var cs=typeof Object.is=="function"?Object.is:ub;function nh(f,p){if(cs(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var S=Object.keys(f),R=Object.keys(p);if(S.length!==R.length)return!1;for(R=0;R<S.length;R++){var B=S[R];if(!Me.call(p,B)||!cs(f[B],p[B]))return!1}return!0}function Yp(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function rh(f,p){var S=Yp(f);f=0;for(var R;S;){if(S.nodeType===3){if(R=f+S.textContent.length,f<=p&&R>=p)return{node:S,offset:p-f};f=R}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=Yp(S)}}function Br(f,p){return f&&p?f===p?!0:f&&f.nodeType===3?!1:p&&p.nodeType===3?Br(f,p.parentNode):"contains"in f?f.contains(p):f.compareDocumentPosition?!!(f.compareDocumentPosition(p)&16):!1:!1}function YS(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var p=dr(f.document);p instanceof f.HTMLIFrameElement;){try{var S=typeof p.contentWindow.location.href=="string"}catch{S=!1}if(S)f=p.contentWindow;else break;p=dr(f.document)}return p}function db(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p&&(p==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||p==="textarea"||f.contentEditable==="true")}var KS=ji&&"documentMode"in document&&11>=document.documentMode,$l=null,Gl=null,ah=null,n0=!1;function ih(f,p,S){var R=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;n0||$l==null||$l!==dr(R)||(R=$l,"selectionStart"in R&&db(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),ah&&nh(ah,R)||(ah=R,R=Y3(Gl,"onSelect"),0<R.length&&(p=new $i("onSelect","select",null,p,S),f.push({event:p,listeners:R}),p.target=$l)))}function Gi(f,p){var S={};return S[f.toLowerCase()]=p.toLowerCase(),S["Webkit"+f]="webkit"+p,S["Moz"+f]="moz"+p,S}var Kd={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionrun:Gi("Transition","TransitionRun"),transitionstart:Gi("Transition","TransitionStart"),transitioncancel:Gi("Transition","TransitionCancel"),transitionend:Gi("Transition","TransitionEnd")},Kp={},fb={};ji&&(fb=document.createElement("div").style,"AnimationEvent"in window||(delete Kd.animationend.animation,delete Kd.animationiteration.animation,delete Kd.animationstart.animation),"TransitionEvent"in window||delete Kd.transitionend.transition);function Gc(f){if(Kp[f])return Kp[f];if(!Kd[f])return f;var p=Kd[f],S;for(S in p)if(p.hasOwnProperty(S)&&S in fb)return Kp[f]=p[S];return f}var r0=Gc("animationend"),Xp=Gc("animationiteration"),hb=Gc("animationstart"),XS=Gc("transitionrun"),Zw=Gc("transitionstart"),QS=Gc("transitioncancel"),pb=Gc("transitionend"),Ao=new Map,Qp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qp.push("scrollEnd");function Ro(f,p){Ao.set(f,p),ki(p,[f])}var Zp=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},ko=[],qc=0,fi=0;function Jp(){for(var f=qc,p=fi=qc=0;p<f;){var S=ko[p];ko[p++]=null;var R=ko[p];ko[p++]=null;var B=ko[p];ko[p++]=null;var G=ko[p];if(ko[p++]=null,R!==null&&B!==null){var se=R.pending;se===null?B.next=B:(B.next=se.next,se.next=B),R.pending=B}G!==0&&Mu(S,B,G)}}function hi(f,p,S,R){ko[qc++]=f,ko[qc++]=p,ko[qc++]=S,ko[qc++]=R,fi|=R,f.lanes|=R,f=f.alternate,f!==null&&(f.lanes|=R)}function a0(f,p,S,R){return hi(f,p,S,R),Io(f)}function us(f,p){return hi(f,null,null,p),Io(f)}function Mu(f,p,S){f.lanes|=S;var R=f.alternate;R!==null&&(R.lanes|=S);for(var B=!1,G=f.return;G!==null;)G.childLanes|=S,R=G.alternate,R!==null&&(R.childLanes|=S),G.tag===22&&(f=G.stateNode,f===null||f._visibility&1||(B=!0)),f=G,G=G.return;return f.tag===3?(G=f.stateNode,B&&p!==null&&(B=31-dt(S),f=G.hiddenUpdates,R=f[B],R===null?f[B]=[p]:R.push(p),p.lane=S|536870912),G):null}function Io(f){if(50<ed)throw ed=0,mf=null,Error(r(185));for(var p=f.return;p!==null;)f=p,p=f.return;return f.tag===3?f.stateNode:null}var Pu={};function mb(f,p,S,R){this.tag=f,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ca(f,p,S,R){return new mb(f,p,S,R)}function i0(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Os(f,p){var S=f.alternate;return S===null?(S=ca(f.tag,p,f.key,f.mode),S.elementType=f.elementType,S.type=f.type,S.stateNode=f.stateNode,S.alternate=f,f.alternate=S):(S.pendingProps=p,S.type=f.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=f.flags&65011712,S.childLanes=f.childLanes,S.lanes=f.lanes,S.child=f.child,S.memoizedProps=f.memoizedProps,S.memoizedState=f.memoizedState,S.updateQueue=f.updateQueue,p=f.dependencies,S.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},S.sibling=f.sibling,S.index=f.index,S.ref=f.ref,S.refCleanup=f.refCleanup,S}function sh(f,p){f.flags&=65011714;var S=f.alternate;return S===null?(f.childLanes=0,f.lanes=p,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=S.childLanes,f.lanes=S.lanes,f.child=S.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=S.memoizedProps,f.memoizedState=S.memoizedState,f.updateQueue=S.updateQueue,f.type=S.type,p=S.dependencies,f.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),f}function ql(f,p,S,R,B,G){var se=0;if(R=f,typeof f=="function")i0(f)&&(se=1);else if(typeof f=="string")se=_ie(f,S,ne.current)?26:f==="html"||f==="head"||f==="body"?27:5;else e:switch(f){case M:return f=ca(31,S,p,B),f.elementType=M,f.lanes=G,f;case v:return Lu(S.children,B,G,p);case _:se=8,B|=24;break;case C:return f=ca(12,S,p,B|2),f.elementType=C,f.lanes=G,f;case k:return f=ca(13,S,p,B),f.elementType=k,f.lanes=G,f;case j:return f=ca(19,S,p,B),f.elementType=j,f.lanes=G,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case T:se=10;break e;case w:se=9;break e;case E:se=11;break e;case O:se=14;break e;case z:se=16,R=null;break e}se=29,S=Error(r(130,f===null?"null":typeof f,"")),R=null}return p=ca(se,S,p,B),p.elementType=f,p.type=R,p.lanes=G,p}function Lu(f,p,S,R){return f=ca(7,f,R,p),f.lanes=S,f}function s0(f,p,S){return f=ca(6,f,null,p),f.lanes=S,f}function oh(f){var p=ca(18,null,null,0);return p.stateNode=f,p}function o0(f,p,S){return p=ca(4,f.children!==null?f.children:[],f.key,p),p.lanes=S,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}var em=new WeakMap;function to(f,p){if(typeof f=="object"&&f!==null){var S=em.get(f);return S!==void 0?S:(p={value:f,source:p,stack:Ae(p)},em.set(f,p),p)}return{value:f,source:p,stack:Ae(p)}}var zu=[],Fu=0,lh=null,ch=0,Ds=[],Xr=0,Vc=null,ua=1,bl="";function Vl(f,p){zu[Fu++]=ch,zu[Fu++]=lh,lh=f,ch=p}function ZS(f,p,S){Ds[Xr++]=ua,Ds[Xr++]=bl,Ds[Xr++]=Vc,Vc=f;var R=ua;f=bl;var B=32-dt(R)-1;R&=~(1<<B),S+=1;var G=32-dt(p)+B;if(30<G){var se=B-B%5;G=(R&(1<<se)-1).toString(32),R>>=se,B-=se,ua=1<<32-dt(p)+B|S<<B|R,bl=G+f}else ua=1<<G|S<<B|R,bl=f}function Wl(f){f.return!==null&&(Vl(f,1),ZS(f,1,0))}function l0(f){for(;f===lh;)lh=zu[--Fu],zu[Fu]=null,ch=zu[--Fu],zu[Fu]=null;for(;f===Vc;)Vc=Ds[--Xr],Ds[Xr]=null,bl=Ds[--Xr],Ds[Xr]=null,ua=Ds[--Xr],Ds[Xr]=null}function c0(f,p){Ds[Xr++]=ua,Ds[Xr++]=bl,Ds[Xr++]=Vc,ua=p.id,bl=p.overflow,Vc=f}var Sa=null,Hr=null,Wn=!1,Wc=null,no=!1,uh=Error(r(519));function Yl(f){var p=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(to(p,f)),uh}function JS(f){var p=f.stateNode,S=f.type,R=f.memoizedProps;switch(p[vr]=f,p[Fr]=R,S){case"dialog":Zn("cancel",p),Zn("close",p);break;case"iframe":case"object":case"embed":Zn("load",p);break;case"video":case"audio":for(S=0;S<$o.length;S++)Zn($o[S],p);break;case"source":Zn("error",p);break;case"img":case"image":case"link":Zn("error",p),Zn("load",p);break;case"details":Zn("toggle",p);break;case"input":Zn("invalid",p),cl(p,R.value,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name,!0);break;case"select":Zn("invalid",p);break;case"textarea":Zn("invalid",p),dl(p,R.value,R.defaultValue,R.children)}S=R.children,typeof S!="string"&&typeof S!="number"&&typeof S!="bigint"||p.textContent===""+S||R.suppressHydrationWarning===!0||jN(p.textContent,S)?(R.popover!=null&&(Zn("beforetoggle",p),Zn("toggle",p)),R.onScroll!=null&&Zn("scroll",p),R.onScrollEnd!=null&&Zn("scrollend",p),R.onClick!=null&&(p.onclick=Js),p=!0):p=!1,p||Yl(f,!0)}function e3(f){for(Sa=f.return;Sa;)switch(Sa.tag){case 5:case 31:case 13:no=!1;return;case 27:case 3:no=!0;return;default:Sa=Sa.return}}function dh(f){if(f!==Sa)return!1;if(!Wn)return e3(f),Wn=!0,!1;var p=f.tag,S;if((S=p!==3&&p!==27)&&((S=p===5)&&(S=f.type,S=!(S!=="form"&&S!=="button")||pE(f.type,f.memoizedProps)),S=!S),S&&Hr&&Yl(f),e3(f),p===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));Hr=BN(f)}else if(p===31){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));Hr=BN(f)}else p===27?(p=Hr,jh(f.type)?(f=xE,xE=null,Hr=f):Hr=p):Hr=Sa?cc(f.stateNode.nextSibling):null;return!0}function Bu(){Hr=Sa=null,Wn=!1}function u0(){var f=Wc;return f!==null&&(Ca===null?Ca=f:Ca.push.apply(Ca,f),Wc=null),f}function Kl(f){Wc===null?Wc=[f]:Wc.push(f)}var fh=q(null),Hu=null,Xl=null;function Yc(f,p,S){Y(fh,p._currentValue),p._currentValue=S}function Ql(f){f._currentValue=fh.current,Z(fh)}function d0(f,p,S){for(;f!==null;){var R=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,R!==null&&(R.childLanes|=p)):R!==null&&(R.childLanes&p)!==p&&(R.childLanes|=p),f===S)break;f=f.return}}function f0(f,p,S,R){var B=f.child;for(B!==null&&(B.return=f);B!==null;){var G=B.dependencies;if(G!==null){var se=B.child;G=G.firstContext;e:for(;G!==null;){var fe=G;G=B;for(var Te=0;Te<p.length;Te++)if(fe.context===p[Te]){G.lanes|=S,fe=G.alternate,fe!==null&&(fe.lanes|=S),d0(G.return,S,f),R||(se=null);break e}G=fe.next}}else if(B.tag===18){if(se=B.return,se===null)throw Error(r(341));se.lanes|=S,G=se.alternate,G!==null&&(G.lanes|=S),d0(se,S,f),se=null}else se=B.child;if(se!==null)se.return=B;else for(se=B;se!==null;){if(se===f){se=null;break}if(B=se.sibling,B!==null){B.return=se.return,se=B;break}se=se.return}B=se}}function Zl(f,p,S,R){f=null;for(var B=p,G=!1;B!==null;){if(!G){if((B.flags&524288)!==0)G=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var se=B.alternate;if(se===null)throw Error(r(387));if(se=se.memoizedProps,se!==null){var fe=B.type;cs(B.pendingProps.value,se.value)||(f!==null?f.push(fe):f=[fe])}}else if(B===ce.current){if(se=B.alternate,se===null)throw Error(r(387));se.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(f!==null?f.push(fx):f=[fx])}B=B.return}f!==null&&f0(p,f,S,R),p.flags|=262144}function tm(f){for(f=f.firstContext;f!==null;){if(!cs(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function Uu(f){Hu=f,Xl=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function gn(f){return t3(Hu,f)}function hh(f,p){return Hu===null&&Uu(f),t3(f,p)}function t3(f,p){var S=p._currentValue;if(p={context:p,memoizedValue:S,next:null},Xl===null){if(f===null)throw Error(r(308));Xl=p,f.dependencies={lanes:0,firstContext:p},f.flags|=524288}else Xl=Xl.next=p;return S}var n3=typeof AbortController<"u"?AbortController:function(){var f=[],p=this.signal={aborted:!1,addEventListener:function(S,R){f.push(R)}};this.abort=function(){p.aborted=!0,f.forEach(function(S){return S()})}},Jw=t.unstable_scheduleCallback,eE=t.unstable_NormalPriority,Ga={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gb(){return{controller:new n3,data:new Map,refCount:0}}function Xd(f){f.refCount--,f.refCount===0&&Jw(eE,function(){f.controller.abort()})}var ro=null,h0=0,Kc=0,jo=null;function yb(f,p){if(ro===null){var S=ro=[];h0=0,Kc=et(),jo={status:"pending",value:void 0,then:function(R){S.push(R)}}}return h0++,p.then(bb,bb),p}function bb(){if(--h0===0&&ro!==null){jo!==null&&(jo.status="fulfilled");var f=ro;ro=null,Kc=0,jo=null;for(var p=0;p<f.length;p++)(0,f[p])()}}function xb(f,p){var S=[],R={status:"pending",value:null,reason:null,then:function(B){S.push(B)}};return f.then(function(){R.status="fulfilled",R.value=p;for(var B=0;B<S.length;B++)(0,S[B])(p)},function(B){for(R.status="rejected",R.reason=B,B=0;B<S.length;B++)(0,S[B])(void 0)}),R}var r3=L.S;L.S=function(f,p){sx=ke(),typeof p=="object"&&p!==null&&typeof p.then=="function"&&yb(f,p),r3!==null&&r3(f,p)};var $u=q(null);function p0(){var f=$u.current;return f!==null?f:vn.pooledCache}function nm(f,p){p===null?Y($u,$u.current):Y($u,p.pool)}function vb(){var f=p0();return f===null?null:{parent:Ga._currentValue,pool:f}}var Qd=Error(r(460)),rm=Error(r(474)),Nn=Error(r(542)),m0={then:function(){}};function Ns(f){return f=f.status,f==="fulfilled"||f==="rejected"}function g0(f,p,S){switch(S=f[S],S===void 0?f.push(p):S!==p&&(p.then(Js,Js),p=S),p.status){case"fulfilled":return p.value;case"rejected":throw f=p.reason,ef(f),f;default:if(typeof p.status=="string")p.then(Js,Js);else{if(f=vn,f!==null&&100<f.shellSuspendCounter)throw Error(r(482));f=p,f.status="pending",f.then(function(R){if(p.status==="pending"){var B=p;B.status="fulfilled",B.value=R}},function(R){if(p.status==="pending"){var B=p;B.status="rejected",B.reason=R}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw f=p.reason,ef(f),f}throw Jl=p,Qd}}function Zd(f){try{var p=f._init;return p(f._payload)}catch(S){throw S!==null&&typeof S=="object"&&typeof S.then=="function"?(Jl=S,Qd):S}}var Jl=null;function Jd(){if(Jl===null)throw Error(r(459));var f=Jl;return Jl=null,f}function ef(f){if(f===Qd||f===Nn)throw Error(r(483))}var tf=null,nf=0;function am(f){var p=nf;return nf+=1,tf===null&&(tf=[]),g0(tf,f,p)}function Oo(f,p){p=p.props.ref,f.ref=p!==void 0?p:null}function ph(f,p){throw p.$$typeof===m?Error(r(525)):(f=Object.prototype.toString.call(p),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f)))}function y0(f){function p(ze,De){if(f){var Ve=ze.deletions;Ve===null?(ze.deletions=[De],ze.flags|=16):Ve.push(De)}}function S(ze,De){if(!f)return null;for(;De!==null;)p(ze,De),De=De.sibling;return null}function R(ze){for(var De=new Map;ze!==null;)ze.key!==null?De.set(ze.key,ze):De.set(ze.index,ze),ze=ze.sibling;return De}function B(ze,De){return ze=Os(ze,De),ze.index=0,ze.sibling=null,ze}function G(ze,De,Ve){return ze.index=Ve,f?(Ve=ze.alternate,Ve!==null?(Ve=Ve.index,Ve<De?(ze.flags|=67108866,De):Ve):(ze.flags|=67108866,De)):(ze.flags|=1048576,De)}function se(ze){return f&&ze.alternate===null&&(ze.flags|=67108866),ze}function fe(ze,De,Ve,ft){return De===null||De.tag!==6?(De=s0(Ve,ze.mode,ft),De.return=ze,De):(De=B(De,Ve),De.return=ze,De)}function Te(ze,De,Ve,ft){var un=Ve.type;return un===v?ot(ze,De,Ve.props.children,ft,Ve.key):De!==null&&(De.elementType===un||typeof un=="object"&&un!==null&&un.$$typeof===z&&Zd(un)===De.type)?(De=B(De,Ve.props),Oo(De,Ve),De.return=ze,De):(De=ql(Ve.type,Ve.key,Ve.props,null,ze.mode,ft),Oo(De,Ve),De.return=ze,De)}function We(ze,De,Ve,ft){return De===null||De.tag!==4||De.stateNode.containerInfo!==Ve.containerInfo||De.stateNode.implementation!==Ve.implementation?(De=o0(Ve,ze.mode,ft),De.return=ze,De):(De=B(De,Ve.children||[]),De.return=ze,De)}function ot(ze,De,Ve,ft,un){return De===null||De.tag!==7?(De=Lu(Ve,ze.mode,ft,un),De.return=ze,De):(De=B(De,Ve),De.return=ze,De)}function pt(ze,De,Ve){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return De=s0(""+De,ze.mode,Ve),De.return=ze,De;if(typeof De=="object"&&De!==null){switch(De.$$typeof){case y:return Ve=ql(De.type,De.key,De.props,null,ze.mode,Ve),Oo(Ve,De),Ve.return=ze,Ve;case x:return De=o0(De,ze.mode,Ve),De.return=ze,De;case z:return De=Zd(De),pt(ze,De,Ve)}if(H(De)||F(De))return De=Lu(De,ze.mode,Ve,null),De.return=ze,De;if(typeof De.then=="function")return pt(ze,am(De),Ve);if(De.$$typeof===T)return pt(ze,hh(ze,De),Ve);ph(ze,De)}return null}function Qe(ze,De,Ve,ft){var un=De!==null?De.key:null;if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return un!==null?null:fe(ze,De,""+Ve,ft);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case y:return Ve.key===un?Te(ze,De,Ve,ft):null;case x:return Ve.key===un?We(ze,De,Ve,ft):null;case z:return Ve=Zd(Ve),Qe(ze,De,Ve,ft)}if(H(Ve)||F(Ve))return un!==null?null:ot(ze,De,Ve,ft,null);if(typeof Ve.then=="function")return Qe(ze,De,am(Ve),ft);if(Ve.$$typeof===T)return Qe(ze,De,hh(ze,Ve),ft);ph(ze,Ve)}return null}function at(ze,De,Ve,ft,un){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return ze=ze.get(Ve)||null,fe(De,ze,""+ft,un);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case y:return ze=ze.get(ft.key===null?Ve:ft.key)||null,Te(De,ze,ft,un);case x:return ze=ze.get(ft.key===null?Ve:ft.key)||null,We(De,ze,ft,un);case z:return ft=Zd(ft),at(ze,De,Ve,ft,un)}if(H(ft)||F(ft))return ze=ze.get(Ve)||null,ot(De,ze,ft,un,null);if(typeof ft.then=="function")return at(ze,De,Ve,am(ft),un);if(ft.$$typeof===T)return at(ze,De,Ve,hh(De,ft),un);ph(De,ft)}return null}function Qt(ze,De,Ve,ft){for(var un=null,pr=null,Jt=De,Fn=De=0,nr=null;Jt!==null&&Fn<Ve.length;Fn++){Jt.index>Fn?(nr=Jt,Jt=null):nr=Jt.sibling;var mr=Qe(ze,Jt,Ve[Fn],ft);if(mr===null){Jt===null&&(Jt=nr);break}f&&Jt&&mr.alternate===null&&p(ze,Jt),De=G(mr,De,Fn),pr===null?un=mr:pr.sibling=mr,pr=mr,Jt=nr}if(Fn===Ve.length)return S(ze,Jt),Wn&&Vl(ze,Fn),un;if(Jt===null){for(;Fn<Ve.length;Fn++)Jt=pt(ze,Ve[Fn],ft),Jt!==null&&(De=G(Jt,De,Fn),pr===null?un=Jt:pr.sibling=Jt,pr=Jt);return Wn&&Vl(ze,Fn),un}for(Jt=R(Jt);Fn<Ve.length;Fn++)nr=at(Jt,ze,Fn,Ve[Fn],ft),nr!==null&&(f&&nr.alternate!==null&&Jt.delete(nr.key===null?Fn:nr.key),De=G(nr,De,Fn),pr===null?un=nr:pr.sibling=nr,pr=nr);return f&&Jt.forEach(function(Ph){return p(ze,Ph)}),Wn&&Vl(ze,Fn),un}function mn(ze,De,Ve,ft){if(Ve==null)throw Error(r(151));for(var un=null,pr=null,Jt=De,Fn=De=0,nr=null,mr=Ve.next();Jt!==null&&!mr.done;Fn++,mr=Ve.next()){Jt.index>Fn?(nr=Jt,Jt=null):nr=Jt.sibling;var Ph=Qe(ze,Jt,mr.value,ft);if(Ph===null){Jt===null&&(Jt=nr);break}f&&Jt&&Ph.alternate===null&&p(ze,Jt),De=G(Ph,De,Fn),pr===null?un=Ph:pr.sibling=Ph,pr=Ph,Jt=nr}if(mr.done)return S(ze,Jt),Wn&&Vl(ze,Fn),un;if(Jt===null){for(;!mr.done;Fn++,mr=Ve.next())mr=pt(ze,mr.value,ft),mr!==null&&(De=G(mr,De,Fn),pr===null?un=mr:pr.sibling=mr,pr=mr);return Wn&&Vl(ze,Fn),un}for(Jt=R(Jt);!mr.done;Fn++,mr=Ve.next())mr=at(Jt,ze,Fn,mr.value,ft),mr!==null&&(f&&mr.alternate!==null&&Jt.delete(mr.key===null?Fn:mr.key),De=G(mr,De,Fn),pr===null?un=mr:pr.sibling=mr,pr=mr);return f&&Jt.forEach(function(Die){return p(ze,Die)}),Wn&&Vl(ze,Fn),un}function Gr(ze,De,Ve,ft){if(typeof Ve=="object"&&Ve!==null&&Ve.type===v&&Ve.key===null&&(Ve=Ve.props.children),typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case y:e:{for(var un=Ve.key;De!==null;){if(De.key===un){if(un=Ve.type,un===v){if(De.tag===7){S(ze,De.sibling),ft=B(De,Ve.props.children),ft.return=ze,ze=ft;break e}}else if(De.elementType===un||typeof un=="object"&&un!==null&&un.$$typeof===z&&Zd(un)===De.type){S(ze,De.sibling),ft=B(De,Ve.props),Oo(ft,Ve),ft.return=ze,ze=ft;break e}S(ze,De);break}else p(ze,De);De=De.sibling}Ve.type===v?(ft=Lu(Ve.props.children,ze.mode,ft,Ve.key),ft.return=ze,ze=ft):(ft=ql(Ve.type,Ve.key,Ve.props,null,ze.mode,ft),Oo(ft,Ve),ft.return=ze,ze=ft)}return se(ze);case x:e:{for(un=Ve.key;De!==null;){if(De.key===un)if(De.tag===4&&De.stateNode.containerInfo===Ve.containerInfo&&De.stateNode.implementation===Ve.implementation){S(ze,De.sibling),ft=B(De,Ve.children||[]),ft.return=ze,ze=ft;break e}else{S(ze,De);break}else p(ze,De);De=De.sibling}ft=o0(Ve,ze.mode,ft),ft.return=ze,ze=ft}return se(ze);case z:return Ve=Zd(Ve),Gr(ze,De,Ve,ft)}if(H(Ve))return Qt(ze,De,Ve,ft);if(F(Ve)){if(un=F(Ve),typeof un!="function")throw Error(r(150));return Ve=un.call(Ve),mn(ze,De,Ve,ft)}if(typeof Ve.then=="function")return Gr(ze,De,am(Ve),ft);if(Ve.$$typeof===T)return Gr(ze,De,hh(ze,Ve),ft);ph(ze,Ve)}return typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint"?(Ve=""+Ve,De!==null&&De.tag===6?(S(ze,De.sibling),ft=B(De,Ve),ft.return=ze,ze=ft):(S(ze,De),ft=s0(Ve,ze.mode,ft),ft.return=ze,ze=ft),se(ze)):S(ze,De)}return function(ze,De,Ve,ft){try{nf=0;var un=Gr(ze,De,Ve,ft);return tf=null,un}catch(Jt){if(Jt===Qd||Jt===Nn)throw Jt;var pr=ca(29,Jt,null,ze.mode);return pr.lanes=ft,pr.return=ze,pr}finally{}}}var Xc=y0(!0),b0=y0(!1),ds=!1;function im(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sb(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function Qc(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function Gu(f,p,S){var R=f.updateQueue;if(R===null)return null;if(R=R.shared,(nn&2)!==0){var B=R.pending;return B===null?p.next=p:(p.next=B.next,B.next=p),R.pending=p,p=Io(f),Mu(f,null,S),p}return hi(f,R,p,S),Io(f)}function qu(f,p,S){if(p=p.updateQueue,p!==null&&(p=p.shared,(S&4194048)!==0)){var R=p.lanes;R&=f.pendingLanes,S|=R,p.lanes=S,rn(f,S)}}function cn(f,p){var S=f.updateQueue,R=f.alternate;if(R!==null&&(R=R.updateQueue,S===R)){var B=null,G=null;if(S=S.firstBaseUpdate,S!==null){do{var se={lane:S.lane,tag:S.tag,payload:S.payload,callback:null,next:null};G===null?B=G=se:G=G.next=se,S=S.next}while(S!==null);G===null?B=G=p:G=G.next=p}else B=G=p;S={baseState:R.baseState,firstBaseUpdate:B,lastBaseUpdate:G,shared:R.shared,callbacks:R.callbacks},f.updateQueue=S;return}f=S.lastBaseUpdate,f===null?S.firstBaseUpdate=p:f.next=p,S.lastBaseUpdate=p}var _b=!1;function sm(){if(_b){var f=jo;if(f!==null)throw f}}function mh(f,p,S,R){_b=!1;var B=f.updateQueue;ds=!1;var G=B.firstBaseUpdate,se=B.lastBaseUpdate,fe=B.shared.pending;if(fe!==null){B.shared.pending=null;var Te=fe,We=Te.next;Te.next=null,se===null?G=We:se.next=We,se=Te;var ot=f.alternate;ot!==null&&(ot=ot.updateQueue,fe=ot.lastBaseUpdate,fe!==se&&(fe===null?ot.firstBaseUpdate=We:fe.next=We,ot.lastBaseUpdate=Te))}if(G!==null){var pt=B.baseState;se=0,ot=We=Te=null,fe=G;do{var Qe=fe.lane&-536870913,at=Qe!==fe.lane;if(at?(On&Qe)===Qe:(R&Qe)===Qe){Qe!==0&&Qe===Kc&&(_b=!0),ot!==null&&(ot=ot.next={lane:0,tag:fe.tag,payload:fe.payload,callback:null,next:null});e:{var Qt=f,mn=fe;Qe=p;var Gr=S;switch(mn.tag){case 1:if(Qt=mn.payload,typeof Qt=="function"){pt=Qt.call(Gr,pt,Qe);break e}pt=Qt;break e;case 3:Qt.flags=Qt.flags&-65537|128;case 0:if(Qt=mn.payload,Qe=typeof Qt=="function"?Qt.call(Gr,pt,Qe):Qt,Qe==null)break e;pt=h({},pt,Qe);break e;case 2:ds=!0}}Qe=fe.callback,Qe!==null&&(f.flags|=64,at&&(f.flags|=8192),at=B.callbacks,at===null?B.callbacks=[Qe]:at.push(Qe))}else at={lane:Qe,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},ot===null?(We=ot=at,Te=pt):ot=ot.next=at,se|=Qe;if(fe=fe.next,fe===null){if(fe=B.shared.pending,fe===null)break;at=fe,fe=at.next,at.next=null,B.lastBaseUpdate=at,B.shared.pending=null}}while(!0);ot===null&&(Te=pt),B.baseState=Te,B.firstBaseUpdate=We,B.lastBaseUpdate=ot,G===null&&(B.shared.lanes=0),sc|=se,f.lanes=se,f.memoizedState=pt}}function gh(f,p){if(typeof f!="function")throw Error(r(191,f));f.call(p)}function a3(f,p){var S=f.callbacks;if(S!==null)for(f.callbacks=null,f=0;f<S.length;f++)gh(S[f],p)}var yh=q(null),x0=q(0);function i3(f,p){f=oo,Y(x0,f),Y(yh,p),oo=f|p.baseLanes}function Cb(){Y(x0,oo),Y(yh,yh.current)}function om(){oo=x0.current,Z(yh),Z(x0)}var Ms=q(null),fs=null;function Zc(f){var p=f.alternate;Y(Yn,Yn.current&1),Y(Ms,f),fs===null&&(p===null||yh.current!==null||p.memoizedState!==null)&&(fs=f)}function wb(f){Y(Yn,Yn.current),Y(Ms,f),fs===null&&(fs=f)}function s3(f){f.tag===22?(Y(Yn,Yn.current),Y(Ms,f),fs===null&&(fs=f)):Ps()}function Ps(){Y(Yn,Yn.current),Y(Ms,Ms.current)}function Na(f){Z(Ms),fs===f&&(fs=null),Z(Yn)}var Yn=q(0);function ao(f){for(var p=f;p!==null;){if(p.tag===13){var S=p.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||yE(S)||bE(S)))return p}else if(p.tag===19&&(p.memoizedProps.revealOrder==="forwards"||p.memoizedProps.revealOrder==="backwards"||p.memoizedProps.revealOrder==="unstable_legacy-backwards"||p.memoizedProps.revealOrder==="together")){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Qr=0,An=null,Or=null,$n=null,Do=!1,bh=!1,rf=!1,v0=0,lm=0,xh=null,Eb=0;function da(){throw Error(r(321))}function Tb(f,p){if(p===null)return!1;for(var S=0;S<p.length&&S<f.length;S++)if(!cs(f[S],p[S]))return!1;return!0}function S0(f,p,S,R,B,G){return Qr=G,An=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,L.H=f===null||f.memoizedState===null?z3:Vb,rf=!1,G=S(R,B),rf=!1,bh&&(G=af(p,S,R,B)),o3(f),G}function o3(f){L.H=vh;var p=Or!==null&&Or.next!==null;if(Qr=0,$n=Or=An=null,Do=!1,lm=0,xh=null,p)throw Error(r(300));f===null||qa||(f=f.dependencies,f!==null&&tm(f)&&(qa=!0))}function af(f,p,S,R){An=f;var B=0;do{if(bh&&(xh=null),lm=0,bh=!1,25<=B)throw Error(r(301));if(B+=1,$n=Or=null,f.updateQueue!=null){var G=f.updateQueue;G.lastEffect=null,G.events=null,G.stores=null,G.memoCache!=null&&(G.memoCache.index=0)}L.H=No,G=p(S,R)}while(bh);return G}function sf(){var f=L.H,p=f.useState()[0];return p=typeof p.then=="function"?cm(p):p,f=f.useState()[0],(Or!==null?Or.memoizedState:null)!==f&&(An.flags|=1024),p}function Ab(){var f=v0!==0;return v0=0,f}function Rb(f,p,S){p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~S}function kb(f){if(Do){for(f=f.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}Do=!1}Qr=0,$n=Or=An=null,bh=!1,lm=v0=0,xh=null}function ei(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?An.memoizedState=$n=f:$n=$n.next=f,$n}function Ma(){if(Or===null){var f=An.alternate;f=f!==null?f.memoizedState:null}else f=Or.next;var p=$n===null?An.memoizedState:$n.next;if(p!==null)$n=p,Or=f;else{if(f===null)throw An.alternate===null?Error(r(467)):Error(r(310));Or=f,f={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},$n===null?An.memoizedState=$n=f:$n=$n.next=f}return $n}function _0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cm(f){var p=lm;return lm+=1,xh===null&&(xh=[]),f=g0(xh,f,p),p=An,($n===null?p.memoizedState:$n.next)===null&&(p=p.alternate,L.H=p===null||p.memoizedState===null?z3:Vb),f}function Vu(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return cm(f);if(f.$$typeof===T)return gn(f)}throw Error(r(438,String(f)))}function Ib(f){var p=null,S=An.updateQueue;if(S!==null&&(p=S.memoCache),p==null){var R=An.alternate;R!==null&&(R=R.updateQueue,R!==null&&(R=R.memoCache,R!=null&&(p={data:R.data.map(function(B){return B.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),S===null&&(S=_0(),An.updateQueue=S),S.memoCache=p,S=p.data[p.index],S===void 0)for(S=p.data[p.index]=Array(f),R=0;R<f;R++)S[R]=N;return p.index++,S}function Jc(f,p){return typeof p=="function"?p(f):p}function C0(f){var p=Ma();return jb(p,Or,f)}function jb(f,p,S){var R=f.queue;if(R===null)throw Error(r(311));R.lastRenderedReducer=S;var B=f.baseQueue,G=R.pending;if(G!==null){if(B!==null){var se=B.next;B.next=G.next,G.next=se}p.baseQueue=B=G,R.pending=null}if(G=f.baseState,B===null)f.memoizedState=G;else{p=B.next;var fe=se=null,Te=null,We=p,ot=!1;do{var pt=We.lane&-536870913;if(pt!==We.lane?(On&pt)===pt:(Qr&pt)===pt){var Qe=We.revertLane;if(Qe===0)Te!==null&&(Te=Te.next={lane:0,revertLane:0,gesture:null,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),pt===Kc&&(ot=!0);else if((Qr&Qe)===Qe){We=We.next,Qe===Kc&&(ot=!0);continue}else pt={lane:0,revertLane:We.revertLane,gesture:null,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},Te===null?(fe=Te=pt,se=G):Te=Te.next=pt,An.lanes|=Qe,sc|=Qe;pt=We.action,rf&&S(G,pt),G=We.hasEagerState?We.eagerState:S(G,pt)}else Qe={lane:pt,revertLane:We.revertLane,gesture:We.gesture,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},Te===null?(fe=Te=Qe,se=G):Te=Te.next=Qe,An.lanes|=pt,sc|=pt;We=We.next}while(We!==null&&We!==p);if(Te===null?se=G:Te.next=fe,!cs(G,f.memoizedState)&&(qa=!0,ot&&(S=jo,S!==null)))throw S;f.memoizedState=G,f.baseState=se,f.baseQueue=Te,R.lastRenderedState=G}return B===null&&(R.lanes=0),[f.memoizedState,R.dispatch]}function Ob(f){var p=Ma(),S=p.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=f;var R=S.dispatch,B=S.pending,G=p.memoizedState;if(B!==null){S.pending=null;var se=B=B.next;do G=f(G,se.action),se=se.next;while(se!==B);cs(G,p.memoizedState)||(qa=!0),p.memoizedState=G,p.baseQueue===null&&(p.baseState=G),S.lastRenderedState=G}return[G,R]}function l3(f,p,S){var R=An,B=Ma(),G=Wn;if(G){if(S===void 0)throw Error(r(407));S=S()}else S=p();var se=!cs((Or||B).memoizedState,S);if(se&&(B.memoizedState=S,qa=!0),B=B.queue,Bb(d3.bind(null,R,B,f),[f]),B.getSnapshot!==p||se||$n!==null&&$n.memoizedState.tag&1){if(R.flags|=2048,Wu(9,{destroy:void 0},u3.bind(null,R,B,S,p),null),vn===null)throw Error(r(349));G||(Qr&127)!==0||c3(R,p,S)}return S}function c3(f,p,S){f.flags|=16384,f={getSnapshot:p,value:S},p=An.updateQueue,p===null?(p=_0(),An.updateQueue=p,p.stores=[f]):(S=p.stores,S===null?p.stores=[f]:S.push(f))}function u3(f,p,S,R){p.value=S,p.getSnapshot=R,f3(p)&&h3(f)}function d3(f,p,S){return S(function(){f3(p)&&h3(f)})}function f3(f){var p=f.getSnapshot;f=f.value;try{var S=p();return!cs(f,S)}catch{return!0}}function h3(f){var p=us(f,2);p!==null&&Pn(p,f,2)}function Db(f){var p=ei();if(typeof f=="function"){var S=f;if(f=S(),rf){nt(!0);try{S()}finally{nt(!1)}}}return p.memoizedState=p.baseState=f,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jc,lastRenderedState:f},p}function Nb(f,p,S,R){return f.baseState=S,jb(f,Or,typeof R=="function"?R:Jc)}function tE(f,p,S,R,B){if(A0(f))throw Error(r(485));if(f=p.action,f!==null){var G={payload:B,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(se){G.listeners.push(se)}};L.T!==null?S(!0):G.isTransition=!1,R(G),S=p.pending,S===null?(G.next=p.pending=G,p3(p,G)):(G.next=S.next,p.pending=S.next=G)}}function p3(f,p){var S=p.action,R=p.payload,B=f.state;if(p.isTransition){var G=L.T,se={};L.T=se;try{var fe=S(B,R),Te=L.S;Te!==null&&Te(se,fe),m3(f,p,fe)}catch(We){Mb(f,p,We)}finally{G!==null&&se.types!==null&&(G.types=se.types),L.T=G}}else try{G=S(B,R),m3(f,p,G)}catch(We){Mb(f,p,We)}}function m3(f,p,S){S!==null&&typeof S=="object"&&typeof S.then=="function"?S.then(function(R){g3(f,p,R)},function(R){return Mb(f,p,R)}):g3(f,p,S)}function g3(f,p,S){p.status="fulfilled",p.value=S,y3(p),f.state=S,p=f.pending,p!==null&&(S=p.next,S===p?f.pending=null:(S=S.next,p.next=S,p3(f,S)))}function Mb(f,p,S){var R=f.pending;if(f.pending=null,R!==null){R=R.next;do p.status="rejected",p.reason=S,y3(p),p=p.next;while(p!==R)}f.action=null}function y3(f){f=f.listeners;for(var p=0;p<f.length;p++)(0,f[p])()}function Pb(f,p){return p}function Lb(f,p){if(Wn){var S=vn.formState;if(S!==null){e:{var R=An;if(Wn){if(Hr){t:{for(var B=Hr,G=no;B.nodeType!==8;){if(!G){B=null;break t}if(B=cc(B.nextSibling),B===null){B=null;break t}}G=B.data,B=G==="F!"||G==="F"?B:null}if(B){Hr=cc(B.nextSibling),R=B.data==="F!";break e}}Yl(R)}R=!1}R&&(p=S[0])}}return S=ei(),S.memoizedState=S.baseState=p,R={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pb,lastRenderedState:p},S.queue=R,S=M3.bind(null,An,R),R.dispatch=S,R=Db(!1),G=qb.bind(null,An,!1,R.queue),R=ei(),B={state:p,dispatch:null,action:f,pending:null},R.queue=B,S=tE.bind(null,An,B,G,S),B.dispatch=S,R.memoizedState=f,[p,S,!1]}function b3(f){var p=Ma();return zb(p,Or,f)}function zb(f,p,S){if(p=jb(f,p,Pb)[0],f=C0(Jc)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var R=cm(p)}catch(se){throw se===Qd?Nn:se}else R=p;p=Ma();var B=p.queue,G=B.dispatch;return S!==p.memoizedState&&(An.flags|=2048,Wu(9,{destroy:void 0},x3.bind(null,B,S),null)),[R,G,f]}function x3(f,p){f.action=p}function Fb(f){var p=Ma(),S=Or;if(S!==null)return zb(p,S,f);Ma(),p=p.memoizedState,S=Ma();var R=S.queue.dispatch;return S.memoizedState=f,[p,R,!1]}function Wu(f,p,S,R){return f={tag:f,create:S,deps:R,inst:p,next:null},p=An.updateQueue,p===null&&(p=_0(),An.updateQueue=p),S=p.lastEffect,S===null?p.lastEffect=f.next=f:(R=S.next,S.next=f,f.next=R,p.lastEffect=f),f}function w0(){return Ma().memoizedState}function E0(f,p,S,R){var B=ei();An.flags|=f,B.memoizedState=Wu(1|p,{destroy:void 0},S,R===void 0?null:R)}function T0(f,p,S,R){var B=Ma();R=R===void 0?null:R;var G=B.memoizedState.inst;Or!==null&&R!==null&&Tb(R,Or.memoizedState.deps)?B.memoizedState=Wu(p,G,S,R):(An.flags|=f,B.memoizedState=Wu(1|p,G,S,R))}function v3(f,p){E0(8390656,8,f,p)}function Bb(f,p){T0(2048,8,f,p)}function S3(f){An.flags|=4;var p=An.updateQueue;if(p===null)p=_0(),An.updateQueue=p,p.events=[f];else{var S=p.events;S===null?p.events=[f]:S.push(f)}}function _3(f){var p=Ma().memoizedState;return S3({ref:p,nextImpl:f}),function(){if((nn&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}function C3(f,p){return T0(4,2,f,p)}function w3(f,p){return T0(4,4,f,p)}function E3(f,p){if(typeof p=="function"){f=f();var S=p(f);return function(){typeof S=="function"?S():p(null)}}if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function T3(f,p,S){S=S!=null?S.concat([f]):null,T0(4,4,E3.bind(null,p,f),S)}function Hb(){}function A3(f,p){var S=Ma();p=p===void 0?null:p;var R=S.memoizedState;return p!==null&&Tb(p,R[1])?R[0]:(S.memoizedState=[f,p],f)}function R3(f,p){var S=Ma();p=p===void 0?null:p;var R=S.memoizedState;if(p!==null&&Tb(p,R[1]))return R[0];if(R=f(),rf){nt(!0);try{f()}finally{nt(!1)}}return S.memoizedState=[R,p],R}function Ub(f,p,S){return S===void 0||(Qr&1073741824)!==0&&(On&261930)===0?f.memoizedState=p:(f.memoizedState=S,f=Hn(),An.lanes|=f,sc|=f,S)}function k3(f,p,S,R){return cs(S,p)?S:yh.current!==null?(f=Ub(f,S,R),cs(f,p)||(qa=!0),f):(Qr&42)===0||(Qr&1073741824)!==0&&(On&261930)===0?(qa=!0,f.memoizedState=S):(f=Hn(),An.lanes|=f,sc|=f,p)}function I3(f,p,S,R,B){var G=V.p;V.p=G!==0&&8>G?G:8;var se=L.T,fe={};L.T=fe,qb(f,!1,p,S);try{var Te=B(),We=L.S;if(We!==null&&We(fe,Te),Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var ot=xb(Te,R);um(f,p,ot,co(f))}else um(f,p,R,co(f))}catch(pt){um(f,p,{then:function(){},status:"rejected",reason:pt},co())}finally{V.p=G,se!==null&&fe.types!==null&&(se.types=fe.types),L.T=se}}function nE(){}function $b(f,p,S,R){if(f.tag!==5)throw Error(r(476));var B=j3(f).queue;I3(f,B,p,J,S===null?nE:function(){return O3(f),S(R)})}function j3(f){var p=f.memoizedState;if(p!==null)return p;p={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jc,lastRenderedState:J},next:null};var S={};return p.next={memoizedState:S,baseState:S,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jc,lastRenderedState:S},next:null},f.memoizedState=p,f=f.alternate,f!==null&&(f.memoizedState=p),p}function O3(f){var p=j3(f);p.next===null&&(p=f.alternate.memoizedState),um(f,p.next.queue,{},co())}function Gb(){return gn(fx)}function D3(){return Ma().memoizedState}function N3(){return Ma().memoizedState}function rE(f){for(var p=f.return;p!==null;){switch(p.tag){case 24:case 3:var S=co();f=Qc(S);var R=Gu(p,f,S);R!==null&&(Pn(R,p,S),qu(R,p,S)),p={cache:gb()},f.payload=p;return}p=p.return}}function aE(f,p,S){var R=co();S={lane:R,revertLane:0,gesture:null,action:S,hasEagerState:!1,eagerState:null,next:null},A0(f)?P3(p,S):(S=a0(f,p,S,R),S!==null&&(Pn(S,f,R),L3(S,p,R)))}function M3(f,p,S){var R=co();um(f,p,S,R)}function um(f,p,S,R){var B={lane:R,revertLane:0,gesture:null,action:S,hasEagerState:!1,eagerState:null,next:null};if(A0(f))P3(p,B);else{var G=f.alternate;if(f.lanes===0&&(G===null||G.lanes===0)&&(G=p.lastRenderedReducer,G!==null))try{var se=p.lastRenderedState,fe=G(se,S);if(B.hasEagerState=!0,B.eagerState=fe,cs(fe,se))return hi(f,p,B,0),vn===null&&Jp(),!1}catch{}finally{}if(S=a0(f,p,B,R),S!==null)return Pn(S,f,R),L3(S,p,R),!0}return!1}function qb(f,p,S,R){if(R={lane:2,revertLane:et(),gesture:null,action:R,hasEagerState:!1,eagerState:null,next:null},A0(f)){if(p)throw Error(r(479))}else p=a0(f,S,R,2),p!==null&&Pn(p,f,2)}function A0(f){var p=f.alternate;return f===An||p!==null&&p===An}function P3(f,p){bh=Do=!0;var S=f.pending;S===null?p.next=p:(p.next=S.next,S.next=p),f.pending=p}function L3(f,p,S){if((S&4194048)!==0){var R=p.lanes;R&=f.pendingLanes,S|=R,p.lanes=S,rn(f,S)}}var vh={readContext:gn,use:Vu,useCallback:da,useContext:da,useEffect:da,useImperativeHandle:da,useLayoutEffect:da,useInsertionEffect:da,useMemo:da,useReducer:da,useRef:da,useState:da,useDebugValue:da,useDeferredValue:da,useTransition:da,useSyncExternalStore:da,useId:da,useHostTransitionStatus:da,useFormState:da,useActionState:da,useOptimistic:da,useMemoCache:da,useCacheRefresh:da};vh.useEffectEvent=da;var z3={readContext:gn,use:Vu,useCallback:function(f,p){return ei().memoizedState=[f,p===void 0?null:p],f},useContext:gn,useEffect:v3,useImperativeHandle:function(f,p,S){S=S!=null?S.concat([f]):null,E0(4194308,4,E3.bind(null,p,f),S)},useLayoutEffect:function(f,p){return E0(4194308,4,f,p)},useInsertionEffect:function(f,p){E0(4,2,f,p)},useMemo:function(f,p){var S=ei();p=p===void 0?null:p;var R=f();if(rf){nt(!0);try{f()}finally{nt(!1)}}return S.memoizedState=[R,p],R},useReducer:function(f,p,S){var R=ei();if(S!==void 0){var B=S(p);if(rf){nt(!0);try{S(p)}finally{nt(!1)}}}else B=p;return R.memoizedState=R.baseState=B,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:B},R.queue=f,f=f.dispatch=aE.bind(null,An,f),[R.memoizedState,f]},useRef:function(f){var p=ei();return f={current:f},p.memoizedState=f},useState:function(f){f=Db(f);var p=f.queue,S=M3.bind(null,An,p);return p.dispatch=S,[f.memoizedState,S]},useDebugValue:Hb,useDeferredValue:function(f,p){var S=ei();return Ub(S,f,p)},useTransition:function(){var f=Db(!1);return f=I3.bind(null,An,f.queue,!0,!1),ei().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,p,S){var R=An,B=ei();if(Wn){if(S===void 0)throw Error(r(407));S=S()}else{if(S=p(),vn===null)throw Error(r(349));(On&127)!==0||c3(R,p,S)}B.memoizedState=S;var G={value:S,getSnapshot:p};return B.queue=G,v3(d3.bind(null,R,G,f),[f]),R.flags|=2048,Wu(9,{destroy:void 0},u3.bind(null,R,G,S,p),null),S},useId:function(){var f=ei(),p=vn.identifierPrefix;if(Wn){var S=bl,R=ua;S=(R&~(1<<32-dt(R)-1)).toString(32)+S,p="_"+p+"R_"+S,S=v0++,0<S&&(p+="H"+S.toString(32)),p+="_"}else S=Eb++,p="_"+p+"r_"+S.toString(32)+"_";return f.memoizedState=p},useHostTransitionStatus:Gb,useFormState:Lb,useActionState:Lb,useOptimistic:function(f){var p=ei();p.memoizedState=p.baseState=f;var S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=S,p=qb.bind(null,An,!0,S),S.dispatch=p,[f,p]},useMemoCache:Ib,useCacheRefresh:function(){return ei().memoizedState=rE.bind(null,An)},useEffectEvent:function(f){var p=ei(),S={impl:f};return p.memoizedState=S,function(){if((nn&2)!==0)throw Error(r(440));return S.impl.apply(void 0,arguments)}}},Vb={readContext:gn,use:Vu,useCallback:A3,useContext:gn,useEffect:Bb,useImperativeHandle:T3,useInsertionEffect:C3,useLayoutEffect:w3,useMemo:R3,useReducer:C0,useRef:w0,useState:function(){return C0(Jc)},useDebugValue:Hb,useDeferredValue:function(f,p){var S=Ma();return k3(S,Or.memoizedState,f,p)},useTransition:function(){var f=C0(Jc)[0],p=Ma().memoizedState;return[typeof f=="boolean"?f:cm(f),p]},useSyncExternalStore:l3,useId:D3,useHostTransitionStatus:Gb,useFormState:b3,useActionState:b3,useOptimistic:function(f,p){var S=Ma();return Nb(S,Or,f,p)},useMemoCache:Ib,useCacheRefresh:N3};Vb.useEffectEvent=_3;var No={readContext:gn,use:Vu,useCallback:A3,useContext:gn,useEffect:Bb,useImperativeHandle:T3,useInsertionEffect:C3,useLayoutEffect:w3,useMemo:R3,useReducer:Ob,useRef:w0,useState:function(){return Ob(Jc)},useDebugValue:Hb,useDeferredValue:function(f,p){var S=Ma();return Or===null?Ub(S,f,p):k3(S,Or.memoizedState,f,p)},useTransition:function(){var f=Ob(Jc)[0],p=Ma().memoizedState;return[typeof f=="boolean"?f:cm(f),p]},useSyncExternalStore:l3,useId:D3,useHostTransitionStatus:Gb,useFormState:Fb,useActionState:Fb,useOptimistic:function(f,p){var S=Ma();return Or!==null?Nb(S,Or,f,p):(S.baseState=f,[f,S.queue.dispatch])},useMemoCache:Ib,useCacheRefresh:N3};No.useEffectEvent=_3;function R0(f,p,S,R){p=f.memoizedState,S=S(R,p),S=S==null?p:h({},p,S),f.memoizedState=S,f.lanes===0&&(f.updateQueue.baseState=S)}var dm={enqueueSetState:function(f,p,S){f=f._reactInternals;var R=co(),B=Qc(R);B.payload=p,S!=null&&(B.callback=S),p=Gu(f,B,R),p!==null&&(Pn(p,f,R),qu(p,f,R))},enqueueReplaceState:function(f,p,S){f=f._reactInternals;var R=co(),B=Qc(R);B.tag=1,B.payload=p,S!=null&&(B.callback=S),p=Gu(f,B,R),p!==null&&(Pn(p,f,R),qu(p,f,R))},enqueueForceUpdate:function(f,p){f=f._reactInternals;var S=co(),R=Qc(S);R.tag=2,p!=null&&(R.callback=p),p=Gu(f,R,S),p!==null&&(Pn(p,f,S),qu(p,f,S))}};function Wb(f,p,S,R,B,G,se){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(R,G,se):p.prototype&&p.prototype.isPureReactComponent?!nh(S,R)||!nh(B,G):!0}function Yb(f,p,S,R){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(S,R),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(S,R),p.state!==f&&dm.enqueueReplaceState(p,p.state,null)}function Yu(f,p){var S=p;if("ref"in p){S={};for(var R in p)R!=="ref"&&(S[R]=p[R])}if(f=f.defaultProps){S===p&&(S=h({},S));for(var B in f)S[B]===void 0&&(S[B]=f[B])}return S}function F3(f){Zp(f)}function Kb(f){console.error(f)}function Xb(f){Zp(f)}function k0(f,p){try{var S=f.onUncaughtError;S(p.value,{componentStack:p.stack})}catch(R){setTimeout(function(){throw R})}}function B3(f,p,S){try{var R=f.onCaughtError;R(S.value,{componentStack:S.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function Qb(f,p,S){return S=Qc(S),S.tag=3,S.payload={element:null},S.callback=function(){k0(f,p)},S}function Zb(f){return f=Qc(f),f.tag=3,f}function H3(f,p,S,R){var B=S.type.getDerivedStateFromError;if(typeof B=="function"){var G=R.value;f.payload=function(){return B(G)},f.callback=function(){B3(p,S,R)}}var se=S.stateNode;se!==null&&typeof se.componentDidCatch=="function"&&(f.callback=function(){B3(p,S,R),typeof B!="function"&&(za===null?za=new Set([this]):za.add(this));var fe=R.stack;this.componentDidCatch(R.value,{componentStack:fe!==null?fe:""})})}function ti(f,p,S,R,B){if(S.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){if(p=S.alternate,p!==null&&Zl(p,S,B,!0),S=Ms.current,S!==null){switch(S.tag){case 31:case 13:return fs===null?Ah():S.alternate===null&&fa===0&&(fa=3),S.flags&=-257,S.flags|=65536,S.lanes=B,R===m0?S.flags|=16384:(p=S.updateQueue,p===null?S.updateQueue=new Set([R]):p.add(R),Cm(f,R,B)),!1;case 22:return S.flags|=65536,R===m0?S.flags|=16384:(p=S.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([R])},S.updateQueue=p):(S=p.retryQueue,S===null?p.retryQueue=new Set([R]):S.add(R)),Cm(f,R,B)),!1}throw Error(r(435,S.tag))}return Cm(f,R,B),Ah(),!1}if(Wn)return p=Ms.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=B,R!==uh&&(f=Error(r(422),{cause:R}),Kl(to(f,S)))):(R!==uh&&(p=Error(r(423),{cause:R}),Kl(to(p,S))),f=f.current.alternate,f.flags|=65536,B&=-B,f.lanes|=B,R=to(R,S),B=Qb(f.stateNode,R,B),cn(f,B),fa!==4&&(fa=2)),!1;var G=Error(r(520),{cause:R});if(G=to(G,S),pf===null?pf=[G]:pf.push(G),fa!==4&&(fa=2),p===null)return!0;R=to(R,S),S=p;do{switch(S.tag){case 3:return S.flags|=65536,f=B&-B,S.lanes|=f,f=Qb(S.stateNode,R,f),cn(S,f),!1;case 1:if(p=S.type,G=S.stateNode,(S.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(za===null||!za.has(G))))return S.flags|=65536,B&=-B,S.lanes|=B,B=Zb(B),H3(B,f,S,R),cn(S,B),!1}S=S.return}while(S!==null);return!1}var I0=Error(r(461)),qa=!1;function pi(f,p,S,R){p.child=f===null?b0(p,null,S,R):Xc(p,f.child,S,R)}function Jb(f,p,S,R,B){S=S.render;var G=p.ref;if("ref"in R){var se={};for(var fe in R)fe!=="ref"&&(se[fe]=R[fe])}else se=R;return Uu(p),R=S0(f,p,S,se,G,B),fe=Ab(),f!==null&&!qa?(Rb(f,p,B),Pa(f,p,B)):(Wn&&fe&&Wl(p),p.flags|=1,pi(f,p,R,B),p.child)}function of(f,p,S,R,B){if(f===null){var G=S.type;return typeof G=="function"&&!i0(G)&&G.defaultProps===void 0&&S.compare===null?(p.tag=15,p.type=G,j0(f,p,G,R,B)):(f=ql(S.type,null,R,p,p.mode,B),f.ref=p.ref,f.return=p,p.child=f)}if(G=f.child,!L0(f,B)){var se=G.memoizedProps;if(S=S.compare,S=S!==null?S:nh,S(se,R)&&f.ref===p.ref)return Pa(f,p,B)}return p.flags|=1,f=Os(G,R),f.ref=p.ref,f.return=p,p.child=f}function j0(f,p,S,R,B){if(f!==null){var G=f.memoizedProps;if(nh(G,R)&&f.ref===p.ref)if(qa=!1,p.pendingProps=R=G,L0(f,B))(f.flags&131072)!==0&&(qa=!0);else return p.lanes=f.lanes,Pa(f,p,B)}return Sh(f,p,S,R,B)}function lf(f,p,S,R){var B=R.children,G=f!==null?f.memoizedState:null;if(f===null&&p.stateNode===null&&(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),R.mode==="hidden"){if((p.flags&128)!==0){if(G=G!==null?G.baseLanes|S:S,f!==null){for(R=p.child=f.child,B=0;R!==null;)B=B|R.lanes|R.childLanes,R=R.sibling;R=B&~G}else R=0,p.child=null;return Ls(f,p,G,S,R)}if((S&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},f!==null&&nm(p,G!==null?G.cachePool:null),G!==null?i3(p,G):Cb(),s3(p);else return R=p.lanes=536870912,Ls(f,p,G!==null?G.baseLanes|S:S,S,R)}else G!==null?(nm(p,G.cachePool),i3(p,G),Ps(),p.memoizedState=null):(f!==null&&nm(p,null),Cb(),Ps());return pi(f,p,B,S),p.child}function ec(f,p){return f!==null&&f.tag===22||p.stateNode!==null||(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.sibling}function Ls(f,p,S,R,B){var G=p0();return G=G===null?null:{parent:Ga._currentValue,pool:G},p.memoizedState={baseLanes:S,cachePool:G},f!==null&&nm(p,null),Cb(),s3(p),f!==null&&Zl(f,p,R,!0),p.childLanes=B,null}function O0(f,p){return p=P0({mode:p.mode,children:p.children},f.mode),p.ref=f.ref,f.child=p,p.return=f,p}function U3(f,p,S){return Xc(p,f.child,null,S),f=O0(p,p.pendingProps),f.flags|=2,Na(p),p.memoizedState=null,f}function D0(f,p,S){var R=p.pendingProps,B=(p.flags&128)!==0;if(p.flags&=-129,f===null){if(Wn){if(R.mode==="hidden")return f=O0(p,R),p.lanes=536870912,ec(null,f);if(wb(p),(f=Hr)?(f=FN(f,no),f=f!==null&&f.data==="&"?f:null,f!==null&&(p.memoizedState={dehydrated:f,treeContext:Vc!==null?{id:ua,overflow:bl}:null,retryLane:536870912,hydrationErrors:null},S=oh(f),S.return=p,p.child=S,Sa=p,Hr=null)):f=null,f===null)throw Yl(p);return p.lanes=536870912,null}return O0(p,R)}var G=f.memoizedState;if(G!==null){var se=G.dehydrated;if(wb(p),B)if(p.flags&256)p.flags&=-257,p=U3(f,p,S);else if(p.memoizedState!==null)p.child=f.child,p.flags|=128,p=null;else throw Error(r(558));else if(qa||Zl(f,p,S,!1),B=(S&f.childLanes)!==0,qa||B){if(R=vn,R!==null&&(se=wn(R,S),se!==0&&se!==G.retryLane))throw G.retryLane=se,us(f,se),Pn(R,f,se),I0;Ah(),p=U3(f,p,S)}else f=G.treeContext,Hr=cc(se.nextSibling),Sa=p,Wn=!0,Wc=null,no=!1,f!==null&&c0(p,f),p=O0(p,R),p.flags|=4096;return p}return f=Os(f.child,{mode:R.mode,children:R.children}),f.ref=p.ref,p.child=f,f.return=p,f}function cf(f,p){var S=p.ref;if(S===null)f!==null&&f.ref!==null&&(p.flags|=4194816);else{if(typeof S!="function"&&typeof S!="object")throw Error(r(284));(f===null||f.ref!==S)&&(p.flags|=4194816)}}function Sh(f,p,S,R,B){return Uu(p),S=S0(f,p,S,R,void 0,B),R=Ab(),f!==null&&!qa?(Rb(f,p,B),Pa(f,p,B)):(Wn&&R&&Wl(p),p.flags|=1,pi(f,p,S,B),p.child)}function fm(f,p,S,R,B,G){return Uu(p),p.updateQueue=null,S=af(p,R,S,B),o3(f),R=Ab(),f!==null&&!qa?(Rb(f,p,G),Pa(f,p,G)):(Wn&&R&&Wl(p),p.flags|=1,pi(f,p,S,G),p.child)}function N0(f,p,S,R,B){if(Uu(p),p.stateNode===null){var G=Pu,se=S.contextType;typeof se=="object"&&se!==null&&(G=gn(se)),G=new S(R,G),p.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,G.updater=dm,p.stateNode=G,G._reactInternals=p,G=p.stateNode,G.props=R,G.state=p.memoizedState,G.refs={},im(p),se=S.contextType,G.context=typeof se=="object"&&se!==null?gn(se):Pu,G.state=p.memoizedState,se=S.getDerivedStateFromProps,typeof se=="function"&&(R0(p,S,se,R),G.state=p.memoizedState),typeof S.getDerivedStateFromProps=="function"||typeof G.getSnapshotBeforeUpdate=="function"||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(se=G.state,typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount(),se!==G.state&&dm.enqueueReplaceState(G,G.state,null),mh(p,R,G,B),sm(),G.state=p.memoizedState),typeof G.componentDidMount=="function"&&(p.flags|=4194308),R=!0}else if(f===null){G=p.stateNode;var fe=p.memoizedProps,Te=Yu(S,fe);G.props=Te;var We=G.context,ot=S.contextType;se=Pu,typeof ot=="object"&&ot!==null&&(se=gn(ot));var pt=S.getDerivedStateFromProps;ot=typeof pt=="function"||typeof G.getSnapshotBeforeUpdate=="function",fe=p.pendingProps!==fe,ot||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(fe||We!==se)&&Yb(p,G,R,se),ds=!1;var Qe=p.memoizedState;G.state=Qe,mh(p,R,G,B),sm(),We=p.memoizedState,fe||Qe!==We||ds?(typeof pt=="function"&&(R0(p,S,pt,R),We=p.memoizedState),(Te=ds||Wb(p,S,Te,R,Qe,We,se))?(ot||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(p.flags|=4194308)):(typeof G.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=R,p.memoizedState=We),G.props=R,G.state=We,G.context=se,R=Te):(typeof G.componentDidMount=="function"&&(p.flags|=4194308),R=!1)}else{G=p.stateNode,Sb(f,p),se=p.memoizedProps,ot=Yu(S,se),G.props=ot,pt=p.pendingProps,Qe=G.context,We=S.contextType,Te=Pu,typeof We=="object"&&We!==null&&(Te=gn(We)),fe=S.getDerivedStateFromProps,(We=typeof fe=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(se!==pt||Qe!==Te)&&Yb(p,G,R,Te),ds=!1,Qe=p.memoizedState,G.state=Qe,mh(p,R,G,B),sm();var at=p.memoizedState;se!==pt||Qe!==at||ds||f!==null&&f.dependencies!==null&&tm(f.dependencies)?(typeof fe=="function"&&(R0(p,S,fe,R),at=p.memoizedState),(ot=ds||Wb(p,S,ot,R,Qe,at,Te)||f!==null&&f.dependencies!==null&&tm(f.dependencies))?(We||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(R,at,Te),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(R,at,Te)),typeof G.componentDidUpdate=="function"&&(p.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof G.componentDidUpdate!="function"||se===f.memoizedProps&&Qe===f.memoizedState||(p.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||se===f.memoizedProps&&Qe===f.memoizedState||(p.flags|=1024),p.memoizedProps=R,p.memoizedState=at),G.props=R,G.state=at,G.context=Te,R=ot):(typeof G.componentDidUpdate!="function"||se===f.memoizedProps&&Qe===f.memoizedState||(p.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||se===f.memoizedProps&&Qe===f.memoizedState||(p.flags|=1024),R=!1)}return G=R,cf(f,p),R=(p.flags&128)!==0,G||R?(G=p.stateNode,S=R&&typeof S.getDerivedStateFromError!="function"?null:G.render(),p.flags|=1,f!==null&&R?(p.child=Xc(p,f.child,null,B),p.child=Xc(p,null,S,B)):pi(f,p,S,B),p.memoizedState=G.state,f=p.child):f=Pa(f,p,B),f}function $3(f,p,S,R){return Bu(),p.flags|=256,pi(f,p,S,R),p.child}var ex={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qi(f){return{baseLanes:f,cachePool:vb()}}function M0(f,p,S){return f=f!==null?f.childLanes&~S:0,p&&(f|=gs),f}function G3(f,p,S){var R=p.pendingProps,B=!1,G=(p.flags&128)!==0,se;if((se=G)||(se=f!==null&&f.memoizedState===null?!1:(Yn.current&2)!==0),se&&(B=!0,p.flags&=-129),se=(p.flags&32)!==0,p.flags&=-33,f===null){if(Wn){if(B?Zc(p):Ps(),(f=Hr)?(f=FN(f,no),f=f!==null&&f.data!=="&"?f:null,f!==null&&(p.memoizedState={dehydrated:f,treeContext:Vc!==null?{id:ua,overflow:bl}:null,retryLane:536870912,hydrationErrors:null},S=oh(f),S.return=p,p.child=S,Sa=p,Hr=null)):f=null,f===null)throw Yl(p);return bE(f)?p.lanes=32:p.lanes=536870912,null}var fe=R.children;return R=R.fallback,B?(Ps(),B=p.mode,fe=P0({mode:"hidden",children:fe},B),R=Lu(R,B,S,null),fe.return=p,R.return=p,fe.sibling=R,p.child=fe,R=p.child,R.memoizedState=qi(S),R.childLanes=M0(f,se,S),p.memoizedState=ex,ec(null,R)):(Zc(p),hm(p,fe))}var Te=f.memoizedState;if(Te!==null&&(fe=Te.dehydrated,fe!==null)){if(G)p.flags&256?(Zc(p),p.flags&=-257,p=tx(f,p,S)):p.memoizedState!==null?(Ps(),p.child=f.child,p.flags|=128,p=null):(Ps(),fe=R.fallback,B=p.mode,R=P0({mode:"visible",children:R.children},B),fe=Lu(fe,B,S,null),fe.flags|=2,R.return=p,fe.return=p,R.sibling=fe,p.child=R,Xc(p,f.child,null,S),R=p.child,R.memoizedState=qi(S),R.childLanes=M0(f,se,S),p.memoizedState=ex,p=ec(null,R));else if(Zc(p),bE(fe)){if(se=fe.nextSibling&&fe.nextSibling.dataset,se)var We=se.dgst;se=We,R=Error(r(419)),R.stack="",R.digest=se,Kl({value:R,source:null,stack:null}),p=tx(f,p,S)}else if(qa||Zl(f,p,S,!1),se=(S&f.childLanes)!==0,qa||se){if(se=vn,se!==null&&(R=wn(se,S),R!==0&&R!==Te.retryLane))throw Te.retryLane=R,us(f,R),Pn(se,f,R),I0;yE(fe)||Ah(),p=tx(f,p,S)}else yE(fe)?(p.flags|=192,p.child=f.child,p=null):(f=Te.treeContext,Hr=cc(fe.nextSibling),Sa=p,Wn=!0,Wc=null,no=!1,f!==null&&c0(p,f),p=hm(p,R.children),p.flags|=4096);return p}return B?(Ps(),fe=R.fallback,B=p.mode,Te=f.child,We=Te.sibling,R=Os(Te,{mode:"hidden",children:R.children}),R.subtreeFlags=Te.subtreeFlags&65011712,We!==null?fe=Os(We,fe):(fe=Lu(fe,B,S,null),fe.flags|=2),fe.return=p,R.return=p,R.sibling=fe,p.child=R,ec(null,R),R=p.child,fe=f.child.memoizedState,fe===null?fe=qi(S):(B=fe.cachePool,B!==null?(Te=Ga._currentValue,B=B.parent!==Te?{parent:Te,pool:Te}:B):B=vb(),fe={baseLanes:fe.baseLanes|S,cachePool:B}),R.memoizedState=fe,R.childLanes=M0(f,se,S),p.memoizedState=ex,ec(f.child,R)):(Zc(p),S=f.child,f=S.sibling,S=Os(S,{mode:"visible",children:R.children}),S.return=p,S.sibling=null,f!==null&&(se=p.deletions,se===null?(p.deletions=[f],p.flags|=16):se.push(f)),p.child=S,p.memoizedState=null,S)}function hm(f,p){return p=P0({mode:"visible",children:p},f.mode),p.return=f,f.child=p}function P0(f,p){return f=ca(22,f,null,p),f.lanes=0,f}function tx(f,p,S){return Xc(p,f.child,null,S),f=hm(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function q3(f,p,S){f.lanes|=p;var R=f.alternate;R!==null&&(R.lanes|=p),d0(f.return,p,S)}function uf(f,p,S,R,B,G){var se=f.memoizedState;se===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:R,tail:S,tailMode:B,treeForkCount:G}:(se.isBackwards=p,se.rendering=null,se.renderingStartTime=0,se.last=R,se.tail=S,se.tailMode=B,se.treeForkCount=G)}function zs(f,p,S){var R=p.pendingProps,B=R.revealOrder,G=R.tail;R=R.children;var se=Yn.current,fe=(se&2)!==0;if(fe?(se=se&1|2,p.flags|=128):se&=1,Y(Yn,se),pi(f,p,R,S),R=Wn?ch:0,!fe&&f!==null&&(f.flags&128)!==0)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&q3(f,S,p);else if(f.tag===19)q3(f,S,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}switch(B){case"forwards":for(S=p.child,B=null;S!==null;)f=S.alternate,f!==null&&ao(f)===null&&(B=S),S=S.sibling;S=B,S===null?(B=p.child,p.child=null):(B=S.sibling,S.sibling=null),uf(p,!1,B,S,G,R);break;case"backwards":case"unstable_legacy-backwards":for(S=null,B=p.child,p.child=null;B!==null;){if(f=B.alternate,f!==null&&ao(f)===null){p.child=B;break}f=B.sibling,B.sibling=S,S=B,B=f}uf(p,!0,S,null,G,R);break;case"together":uf(p,!1,null,null,void 0,R);break;default:p.memoizedState=null}return p.child}function Pa(f,p,S){if(f!==null&&(p.dependencies=f.dependencies),sc|=p.lanes,(S&p.childLanes)===0)if(f!==null){if(Zl(f,p,S,!1),(S&p.childLanes)===0)return null}else return null;if(f!==null&&p.child!==f.child)throw Error(r(153));if(p.child!==null){for(f=p.child,S=Os(f,f.pendingProps),p.child=S,S.return=p;f.sibling!==null;)f=f.sibling,S=S.sibling=Os(f,f.pendingProps),S.return=p;S.sibling=null}return p.child}function L0(f,p){return(f.lanes&p)!==0?!0:(f=f.dependencies,!!(f!==null&&tm(f)))}function iE(f,p,S){switch(p.tag){case 3:he(p,p.stateNode.containerInfo),Yc(p,Ga,f.memoizedState.cache),Bu();break;case 27:case 5:le(p);break;case 4:he(p,p.stateNode.containerInfo);break;case 10:Yc(p,p.type,p.memoizedProps.value);break;case 31:if(p.memoizedState!==null)return p.flags|=128,wb(p),null;break;case 13:var R=p.memoizedState;if(R!==null)return R.dehydrated!==null?(Zc(p),p.flags|=128,null):(S&p.child.childLanes)!==0?G3(f,p,S):(Zc(p),f=Pa(f,p,S),f!==null?f.sibling:null);Zc(p);break;case 19:var B=(f.flags&128)!==0;if(R=(S&p.childLanes)!==0,R||(Zl(f,p,S,!1),R=(S&p.childLanes)!==0),B){if(R)return zs(f,p,S);p.flags|=128}if(B=p.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),Y(Yn,Yn.current),R)break;return null;case 22:return p.lanes=0,lf(f,p,S,p.pendingProps);case 24:Yc(p,Ga,f.memoizedState.cache)}return Pa(f,p,S)}function z0(f,p,S){if(f!==null)if(f.memoizedProps!==p.pendingProps)qa=!0;else{if(!L0(f,S)&&(p.flags&128)===0)return qa=!1,iE(f,p,S);qa=(f.flags&131072)!==0}else qa=!1,Wn&&(p.flags&1048576)!==0&&ZS(p,ch,p.index);switch(p.lanes=0,p.tag){case 16:e:{var R=p.pendingProps;if(f=Zd(p.elementType),p.type=f,typeof f=="function")i0(f)?(R=Yu(f,R),p.tag=1,p=N0(null,p,f,R,S)):(p.tag=0,p=Sh(null,p,f,R,S));else{if(f!=null){var B=f.$$typeof;if(B===E){p.tag=11,p=Jb(null,p,f,R,S);break e}else if(B===O){p.tag=14,p=of(null,p,f,R,S);break e}}throw p=D(f)||f,Error(r(306,p,""))}}return p;case 0:return Sh(f,p,p.type,p.pendingProps,S);case 1:return R=p.type,B=Yu(R,p.pendingProps),N0(f,p,R,B,S);case 3:e:{if(he(p,p.stateNode.containerInfo),f===null)throw Error(r(387));R=p.pendingProps;var G=p.memoizedState;B=G.element,Sb(f,p),mh(p,R,null,S);var se=p.memoizedState;if(R=se.cache,Yc(p,Ga,R),R!==G.cache&&f0(p,[Ga],S,!0),sm(),R=se.element,G.isDehydrated)if(G={element:R,isDehydrated:!1,cache:se.cache},p.updateQueue.baseState=G,p.memoizedState=G,p.flags&256){p=$3(f,p,R,S);break e}else if(R!==B){B=to(Error(r(424)),p),Kl(B),p=$3(f,p,R,S);break e}else{switch(f=p.stateNode.containerInfo,f.nodeType){case 9:f=f.body;break;default:f=f.nodeName==="HTML"?f.ownerDocument.body:f}for(Hr=cc(f.firstChild),Sa=p,Wn=!0,Wc=null,no=!0,S=b0(p,null,R,S),p.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling}else{if(Bu(),R===B){p=Pa(f,p,S);break e}pi(f,p,R,S)}p=p.child}return p;case 26:return cf(f,p),f===null?(S=qN(p.type,null,p.pendingProps,null))?p.memoizedState=S:Wn||(S=p.type,f=p.pendingProps,R=K3(ie.current).createElement(S),R[vr]=p,R[Fr]=f,bs(R,S,f),Sr(R),p.stateNode=R):p.memoizedState=qN(p.type,f.memoizedProps,p.pendingProps,f.memoizedState),null;case 27:return le(p),f===null&&Wn&&(R=p.stateNode=UN(p.type,p.pendingProps,ie.current),Sa=p,no=!0,B=Hr,jh(p.type)?(xE=B,Hr=cc(R.firstChild)):Hr=B),pi(f,p,p.pendingProps.children,S),cf(f,p),f===null&&(p.flags|=4194304),p.child;case 5:return f===null&&Wn&&((B=R=Hr)&&(R=cie(R,p.type,p.pendingProps,no),R!==null?(p.stateNode=R,Sa=p,Hr=cc(R.firstChild),no=!1,B=!0):B=!1),B||Yl(p)),le(p),B=p.type,G=p.pendingProps,se=f!==null?f.memoizedProps:null,R=G.children,pE(B,G)?R=null:se!==null&&pE(B,se)&&(p.flags|=32),p.memoizedState!==null&&(B=S0(f,p,sf,null,null,S),fx._currentValue=B),cf(f,p),pi(f,p,R,S),p.child;case 6:return f===null&&Wn&&((f=S=Hr)&&(S=uie(S,p.pendingProps,no),S!==null?(p.stateNode=S,Sa=p,Hr=null,f=!0):f=!1),f||Yl(p)),null;case 13:return G3(f,p,S);case 4:return he(p,p.stateNode.containerInfo),R=p.pendingProps,f===null?p.child=Xc(p,null,R,S):pi(f,p,R,S),p.child;case 11:return Jb(f,p,p.type,p.pendingProps,S);case 7:return pi(f,p,p.pendingProps,S),p.child;case 8:return pi(f,p,p.pendingProps.children,S),p.child;case 12:return pi(f,p,p.pendingProps.children,S),p.child;case 10:return R=p.pendingProps,Yc(p,p.type,R.value),pi(f,p,R.children,S),p.child;case 9:return B=p.type._context,R=p.pendingProps.children,Uu(p),B=gn(B),R=R(B),p.flags|=1,pi(f,p,R,S),p.child;case 14:return of(f,p,p.type,p.pendingProps,S);case 15:return j0(f,p,p.type,p.pendingProps,S);case 19:return zs(f,p,S);case 31:return D0(f,p,S);case 22:return lf(f,p,S,p.pendingProps);case 24:return Uu(p),R=gn(Ga),f===null?(B=p0(),B===null&&(B=vn,G=gb(),B.pooledCache=G,G.refCount++,G!==null&&(B.pooledCacheLanes|=S),B=G),p.memoizedState={parent:R,cache:B},im(p),Yc(p,Ga,B)):((f.lanes&S)!==0&&(Sb(f,p),mh(p,null,null,S),sm()),B=f.memoizedState,G=p.memoizedState,B.parent!==R?(B={parent:R,cache:R},p.memoizedState=B,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=B),Yc(p,Ga,R)):(R=G.cache,Yc(p,Ga,R),R!==B.cache&&f0(p,[Ga],S,!0))),pi(f,p,p.pendingProps.children,S),p.child;case 29:throw p.pendingProps}throw Error(r(156,p.tag))}function tc(f){f.flags|=4}function pm(f,p,S,R,B){if((p=(f.mode&32)!==0)&&(p=!1),p){if(f.flags|=16777216,(B&335544128)===B)if(f.stateNode.complete)f.flags|=8192;else if(pa())f.flags|=8192;else throw Jl=m0,rm}else f.flags&=-16777217}function nx(f,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!XN(p))if(pa())f.flags|=8192;else throw Jl=m0,rm}function eu(f,p){p!==null&&(f.flags|=4),f.flags&16384&&(p=f.tag!==22?Ut():536870912,f.lanes|=p,Vr|=p)}function nc(f,p){if(!Wn)switch(f.tailMode){case"hidden":p=f.tail;for(var S=null;p!==null;)p.alternate!==null&&(S=p),p=p.sibling;S===null?f.tail=null:S.sibling=null;break;case"collapsed":S=f.tail;for(var R=null;S!==null;)S.alternate!==null&&(R=S),S=S.sibling;R===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:R.sibling=null}}function Dr(f){var p=f.alternate!==null&&f.alternate.child===f.child,S=0,R=0;if(p)for(var B=f.child;B!==null;)S|=B.lanes|B.childLanes,R|=B.subtreeFlags&65011712,R|=B.flags&65011712,B.return=f,B=B.sibling;else for(B=f.child;B!==null;)S|=B.lanes|B.childLanes,R|=B.subtreeFlags,R|=B.flags,B.return=f,B=B.sibling;return f.subtreeFlags|=R,f.childLanes=S,p}function mm(f,p,S){var R=p.pendingProps;switch(l0(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(p),null;case 1:return Dr(p),null;case 3:return S=p.stateNode,R=null,f!==null&&(R=f.memoizedState.cache),p.memoizedState.cache!==R&&(p.flags|=2048),Ql(Ga),me(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(f===null||f.child===null)&&(dh(p)?tc(p):f===null||f.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,u0())),Dr(p),null;case 26:var B=p.type,G=p.memoizedState;return f===null?(tc(p),G!==null?(Dr(p),nx(p,G)):(Dr(p),pm(p,B,null,R,S))):G?G!==f.memoizedState?(tc(p),Dr(p),nx(p,G)):(Dr(p),p.flags&=-16777217):(f=f.memoizedProps,f!==R&&tc(p),Dr(p),pm(p,B,f,R,S)),null;case 27:if(de(p),S=ie.current,B=p.type,f!==null&&p.stateNode!=null)f.memoizedProps!==R&&tc(p);else{if(!R){if(p.stateNode===null)throw Error(r(166));return Dr(p),null}f=ne.current,dh(p)?JS(p):(f=UN(B,R,S),p.stateNode=f,tc(p))}return Dr(p),null;case 5:if(de(p),B=p.type,f!==null&&p.stateNode!=null)f.memoizedProps!==R&&tc(p);else{if(!R){if(p.stateNode===null)throw Error(r(166));return Dr(p),null}if(G=ne.current,dh(p))JS(p);else{var se=K3(ie.current);switch(G){case 1:G=se.createElementNS("http://www.w3.org/2000/svg",B);break;case 2:G=se.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;default:switch(B){case"svg":G=se.createElementNS("http://www.w3.org/2000/svg",B);break;case"math":G=se.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;case"script":G=se.createElement("div"),G.innerHTML="<script><\/script>",G=G.removeChild(G.firstChild);break;case"select":G=typeof R.is=="string"?se.createElement("select",{is:R.is}):se.createElement("select"),R.multiple?G.multiple=!0:R.size&&(G.size=R.size);break;default:G=typeof R.is=="string"?se.createElement(B,{is:R.is}):se.createElement(B)}}G[vr]=p,G[Fr]=R;e:for(se=p.child;se!==null;){if(se.tag===5||se.tag===6)G.appendChild(se.stateNode);else if(se.tag!==4&&se.tag!==27&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===p)break e;for(;se.sibling===null;){if(se.return===null||se.return===p)break e;se=se.return}se.sibling.return=se.return,se=se.sibling}p.stateNode=G;e:switch(bs(G,B,R),B){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}R&&tc(p)}}return Dr(p),pm(p,p.type,f===null?null:f.memoizedProps,p.pendingProps,S),null;case 6:if(f&&p.stateNode!=null)f.memoizedProps!==R&&tc(p);else{if(typeof R!="string"&&p.stateNode===null)throw Error(r(166));if(f=ie.current,dh(p)){if(f=p.stateNode,S=p.memoizedProps,R=null,B=Sa,B!==null)switch(B.tag){case 27:case 5:R=B.memoizedProps}f[vr]=p,f=!!(f.nodeValue===S||R!==null&&R.suppressHydrationWarning===!0||jN(f.nodeValue,S)),f||Yl(p,!0)}else f=K3(f).createTextNode(R),f[vr]=p,p.stateNode=f}return Dr(p),null;case 31:if(S=p.memoizedState,f===null||f.memoizedState!==null){if(R=dh(p),S!==null){if(f===null){if(!R)throw Error(r(318));if(f=p.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(557));f[vr]=p}else Bu(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Dr(p),f=!1}else S=u0(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=S),f=!0;if(!f)return p.flags&256?(Na(p),p):(Na(p),null);if((p.flags&128)!==0)throw Error(r(558))}return Dr(p),null;case 13:if(R=p.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(B=dh(p),R!==null&&R.dehydrated!==null){if(f===null){if(!B)throw Error(r(318));if(B=p.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(r(317));B[vr]=p}else Bu(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Dr(p),B=!1}else B=u0(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=B),B=!0;if(!B)return p.flags&256?(Na(p),p):(Na(p),null)}return Na(p),(p.flags&128)!==0?(p.lanes=S,p):(S=R!==null,f=f!==null&&f.memoizedState!==null,S&&(R=p.child,B=null,R.alternate!==null&&R.alternate.memoizedState!==null&&R.alternate.memoizedState.cachePool!==null&&(B=R.alternate.memoizedState.cachePool.pool),G=null,R.memoizedState!==null&&R.memoizedState.cachePool!==null&&(G=R.memoizedState.cachePool.pool),G!==B&&(R.flags|=2048)),S!==f&&S&&(p.child.flags|=8192),eu(p,p.updateQueue),Dr(p),null);case 4:return me(),f===null&&cE(p.stateNode.containerInfo),Dr(p),null;case 10:return Ql(p.type),Dr(p),null;case 19:if(Z(Yn),R=p.memoizedState,R===null)return Dr(p),null;if(B=(p.flags&128)!==0,G=R.rendering,G===null)if(B)nc(R,!1);else{if(fa!==0||f!==null&&(f.flags&128)!==0)for(f=p.child;f!==null;){if(G=ao(f),G!==null){for(p.flags|=128,nc(R,!1),f=G.updateQueue,p.updateQueue=f,eu(p,f),p.subtreeFlags=0,f=S,S=p.child;S!==null;)sh(S,f),S=S.sibling;return Y(Yn,Yn.current&1|2),Wn&&Vl(p,R.treeForkCount),p.child}f=f.sibling}R.tail!==null&&ke()>La&&(p.flags|=128,B=!0,nc(R,!1),p.lanes=4194304)}else{if(!B)if(f=ao(G),f!==null){if(p.flags|=128,B=!0,f=f.updateQueue,p.updateQueue=f,eu(p,f),nc(R,!0),R.tail===null&&R.tailMode==="hidden"&&!G.alternate&&!Wn)return Dr(p),null}else 2*ke()-R.renderingStartTime>La&&S!==536870912&&(p.flags|=128,B=!0,nc(R,!1),p.lanes=4194304);R.isBackwards?(G.sibling=p.child,p.child=G):(f=R.last,f!==null?f.sibling=G:p.child=G,R.last=G)}return R.tail!==null?(f=R.tail,R.rendering=f,R.tail=f.sibling,R.renderingStartTime=ke(),f.sibling=null,S=Yn.current,Y(Yn,B?S&1|2:S&1),Wn&&Vl(p,R.treeForkCount),f):(Dr(p),null);case 22:case 23:return Na(p),om(),R=p.memoizedState!==null,f!==null?f.memoizedState!==null!==R&&(p.flags|=8192):R&&(p.flags|=8192),R?(S&536870912)!==0&&(p.flags&128)===0&&(Dr(p),p.subtreeFlags&6&&(p.flags|=8192)):Dr(p),S=p.updateQueue,S!==null&&eu(p,S.retryQueue),S=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(S=f.memoizedState.cachePool.pool),R=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(R=p.memoizedState.cachePool.pool),R!==S&&(p.flags|=2048),f!==null&&Z($u),null;case 24:return S=null,f!==null&&(S=f.memoizedState.cache),p.memoizedState.cache!==S&&(p.flags|=2048),Ql(Ga),Dr(p),null;case 25:return null;case 30:return null}throw Error(r(156,p.tag))}function Mo(f,p){switch(l0(p),p.tag){case 1:return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return Ql(Ga),me(),f=p.flags,(f&65536)!==0&&(f&128)===0?(p.flags=f&-65537|128,p):null;case 26:case 27:case 5:return de(p),null;case 31:if(p.memoizedState!==null){if(Na(p),p.alternate===null)throw Error(r(340));Bu()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 13:if(Na(p),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(r(340));Bu()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return Z(Yn),null;case 4:return me(),null;case 10:return Ql(p.type),null;case 22:case 23:return Na(p),om(),f!==null&&Z($u),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 24:return Ql(Ga),null;case 25:return null;default:return null}}function io(f,p){switch(l0(p),p.tag){case 3:Ql(Ga),me();break;case 26:case 27:case 5:de(p);break;case 4:me();break;case 31:p.memoizedState!==null&&Na(p);break;case 13:Na(p);break;case 19:Z(Yn);break;case 10:Ql(p.type);break;case 22:case 23:Na(p),om(),f!==null&&Z($u);break;case 24:Ql(Ga)}}function Po(f,p){try{var S=p.updateQueue,R=S!==null?S.lastEffect:null;if(R!==null){var B=R.next;S=B;do{if((S.tag&f)===f){R=void 0;var G=S.create,se=S.inst;R=G(),se.destroy=R}S=S.next}while(S!==B)}}catch(fe){ar(p,p.return,fe)}}function Di(f,p,S){try{var R=p.updateQueue,B=R!==null?R.lastEffect:null;if(B!==null){var G=B.next;R=G;do{if((R.tag&f)===f){var se=R.inst,fe=se.destroy;if(fe!==void 0){se.destroy=void 0,B=p;var Te=S,We=fe;try{We()}catch(ot){ar(B,Te,ot)}}}R=R.next}while(R!==G)}}catch(ot){ar(p,p.return,ot)}}function xl(f){var p=f.updateQueue;if(p!==null){var S=f.stateNode;try{a3(p,S)}catch(R){ar(f,f.return,R)}}}function mi(f,p,S){S.props=Yu(f.type,f.memoizedProps),S.state=f.memoizedState;try{S.componentWillUnmount()}catch(R){ar(f,p,R)}}function tu(f,p){try{var S=f.ref;if(S!==null){switch(f.tag){case 26:case 27:case 5:var R=f.stateNode;break;case 30:R=f.stateNode;break;default:R=f.stateNode}typeof S=="function"?f.refCleanup=S(R):S.current=R}}catch(B){ar(f,p,B)}}function Ni(f,p){var S=f.ref,R=f.refCleanup;if(S!==null)if(typeof R=="function")try{R()}catch(B){ar(f,p,B)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof S=="function")try{S(null)}catch(B){ar(f,p,B)}else S.current=null}function gm(f){var p=f.type,S=f.memoizedProps,R=f.stateNode;try{e:switch(p){case"button":case"input":case"select":case"textarea":S.autoFocus&&R.focus();break e;case"img":S.src?R.src=S.src:S.srcSet&&(R.srcset=S.srcSet)}}catch(B){ar(f,f.return,B)}}function ni(f,p,S){try{var R=f.stateNode;rie(R,f.type,S,p),R[Fr]=p}catch(B){ar(f,f.return,B)}}function Zr(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27&&jh(f.type)||f.tag===4}function Gn(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||Zr(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.tag===27&&jh(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function rc(f,p,S){var R=f.tag;if(R===5||R===6)f=f.stateNode,p?(S.nodeType===9?S.body:S.nodeName==="HTML"?S.ownerDocument.body:S).insertBefore(f,p):(p=S.nodeType===9?S.body:S.nodeName==="HTML"?S.ownerDocument.body:S,p.appendChild(f),S=S._reactRootContainer,S!=null||p.onclick!==null||(p.onclick=Js));else if(R!==4&&(R===27&&jh(f.type)&&(S=f.stateNode,p=null),f=f.child,f!==null))for(rc(f,p,S),f=f.sibling;f!==null;)rc(f,p,S),f=f.sibling}function hs(f,p,S){var R=f.tag;if(R===5||R===6)f=f.stateNode,p?S.insertBefore(f,p):S.appendChild(f);else if(R!==4&&(R===27&&jh(f.type)&&(S=f.stateNode),f=f.child,f!==null))for(hs(f,p,S),f=f.sibling;f!==null;)hs(f,p,S),f=f.sibling}function F0(f){var p=f.stateNode,S=f.memoizedProps;try{for(var R=f.type,B=p.attributes;B.length;)p.removeAttributeNode(B[0]);bs(p,R,S),p[vr]=f,p[Fr]=S}catch(G){ar(f,f.return,G)}}var Lo=!1,Ur=!1,vl=!1,V3=typeof WeakSet=="function"?WeakSet:Set,gi=null;function sE(f,p){if(f=f.containerInfo,fE=n_,f=YS(f),db(f)){if("selectionStart"in f)var S={start:f.selectionStart,end:f.selectionEnd};else e:{S=(S=f.ownerDocument)&&S.defaultView||window;var R=S.getSelection&&S.getSelection();if(R&&R.rangeCount!==0){S=R.anchorNode;var B=R.anchorOffset,G=R.focusNode;R=R.focusOffset;try{S.nodeType,G.nodeType}catch{S=null;break e}var se=0,fe=-1,Te=-1,We=0,ot=0,pt=f,Qe=null;t:for(;;){for(var at;pt!==S||B!==0&&pt.nodeType!==3||(fe=se+B),pt!==G||R!==0&&pt.nodeType!==3||(Te=se+R),pt.nodeType===3&&(se+=pt.nodeValue.length),(at=pt.firstChild)!==null;)Qe=pt,pt=at;for(;;){if(pt===f)break t;if(Qe===S&&++We===B&&(fe=se),Qe===G&&++ot===R&&(Te=se),(at=pt.nextSibling)!==null)break;pt=Qe,Qe=pt.parentNode}pt=at}S=fe===-1||Te===-1?null:{start:fe,end:Te}}else S=null}S=S||{start:0,end:0}}else S=null;for(hE={focusedElem:f,selectionRange:S},n_=!1,gi=p;gi!==null;)if(p=gi,f=p.child,(p.subtreeFlags&1028)!==0&&f!==null)f.return=p,gi=f;else for(;gi!==null;){switch(p=gi,G=p.alternate,f=p.flags,p.tag){case 0:if((f&4)!==0&&(f=p.updateQueue,f=f!==null?f.events:null,f!==null))for(S=0;S<f.length;S++)B=f[S],B.ref.impl=B.nextImpl;break;case 11:case 15:break;case 1:if((f&1024)!==0&&G!==null){f=void 0,S=p,B=G.memoizedProps,G=G.memoizedState,R=S.stateNode;try{var Qt=Yu(S.type,B);f=R.getSnapshotBeforeUpdate(Qt,G),R.__reactInternalSnapshotBeforeUpdate=f}catch(mn){ar(S,S.return,mn)}}break;case 3:if((f&1024)!==0){if(f=p.stateNode.containerInfo,S=f.nodeType,S===9)gE(f);else if(S===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":gE(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(r(163))}if(f=p.sibling,f!==null){f.return=p.return,gi=f;break}gi=p.return}}function Jr(f,p,S){var R=S.flags;switch(S.tag){case 0:case 11:case 15:Bo(f,S),R&4&&Po(5,S);break;case 1:if(Bo(f,S),R&4)if(f=S.stateNode,p===null)try{f.componentDidMount()}catch(se){ar(S,S.return,se)}else{var B=Yu(S.type,p.memoizedProps);p=p.memoizedState;try{f.componentDidUpdate(B,p,f.__reactInternalSnapshotBeforeUpdate)}catch(se){ar(S,S.return,se)}}R&64&&xl(S),R&512&&tu(S,S.return);break;case 3:if(Bo(f,S),R&64&&(f=S.updateQueue,f!==null)){if(p=null,S.child!==null)switch(S.child.tag){case 27:case 5:p=S.child.stateNode;break;case 1:p=S.child.stateNode}try{a3(f,p)}catch(se){ar(S,S.return,se)}}break;case 27:p===null&&R&4&&F0(S);case 26:case 5:Bo(f,S),p===null&&R&4&&gm(S),R&512&&tu(S,S.return);break;case 12:Bo(f,S);break;case 31:Bo(f,S),R&4&&Ku(f,S);break;case 13:Bo(f,S),R&4&&_h(f,S),R&64&&(f=S.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&(S=I.bind(null,S),die(f,S))));break;case 22:if(R=S.memoizedState!==null||Lo,!R){p=p!==null&&p.memoizedState!==null||Ur,B=Lo;var G=Ur;Lo=R,(Ur=p)&&!G?ps(f,S,(S.subtreeFlags&8772)!==0):Bo(f,S),Lo=B,Ur=G}break;case 30:break;default:Bo(f,S)}}function ym(f){var p=f.alternate;p!==null&&(f.alternate=null,ym(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&As(p)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var _r=null,Vi=!1;function zo(f,p,S){for(S=S.child;S!==null;)B0(f,p,S),S=S.sibling}function B0(f,p,S){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(it,S)}catch{}switch(S.tag){case 26:Ur||Ni(S,p),zo(f,p,S),S.memoizedState?S.memoizedState.count--:S.stateNode&&(S=S.stateNode,S.parentNode.removeChild(S));break;case 27:Ur||Ni(S,p);var R=_r,B=Vi;jh(S.type)&&(_r=S.stateNode,Vi=!1),zo(f,p,S),cx(S.stateNode),_r=R,Vi=B;break;case 5:Ur||Ni(S,p);case 6:if(R=_r,B=Vi,_r=null,zo(f,p,S),_r=R,Vi=B,_r!==null)if(Vi)try{(_r.nodeType===9?_r.body:_r.nodeName==="HTML"?_r.ownerDocument.body:_r).removeChild(S.stateNode)}catch(G){ar(S,p,G)}else try{_r.removeChild(S.stateNode)}catch(G){ar(S,p,G)}break;case 18:_r!==null&&(Vi?(f=_r,LN(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,S.stateNode),Y0(f)):LN(_r,S.stateNode));break;case 4:R=_r,B=Vi,_r=S.stateNode.containerInfo,Vi=!0,zo(f,p,S),_r=R,Vi=B;break;case 0:case 11:case 14:case 15:Di(2,S,p),Ur||Di(4,S,p),zo(f,p,S);break;case 1:Ur||(Ni(S,p),R=S.stateNode,typeof R.componentWillUnmount=="function"&&mi(S,p,R)),zo(f,p,S);break;case 21:zo(f,p,S);break;case 22:Ur=(R=Ur)||S.memoizedState!==null,zo(f,p,S),Ur=R;break;default:zo(f,p,S)}}function Ku(f,p){if(p.memoizedState===null&&(f=p.alternate,f!==null&&(f=f.memoizedState,f!==null))){f=f.dehydrated;try{Y0(f)}catch(S){ar(p,p.return,S)}}}function _h(f,p){if(p.memoizedState===null&&(f=p.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{Y0(f)}catch(S){ar(p,p.return,S)}}function rx(f){switch(f.tag){case 31:case 13:case 19:var p=f.stateNode;return p===null&&(p=f.stateNode=new V3),p;case 22:return f=f.stateNode,p=f._retryCache,p===null&&(p=f._retryCache=new V3),p;default:throw Error(r(435,f.tag))}}function nu(f,p){var S=rx(f);p.forEach(function(R){if(!S.has(R)){S.add(R);var B=P.bind(null,f,R);R.then(B,B)}})}function ri(f,p){var S=p.deletions;if(S!==null)for(var R=0;R<S.length;R++){var B=S[R],G=f,se=p,fe=se;e:for(;fe!==null;){switch(fe.tag){case 27:if(jh(fe.type)){_r=fe.stateNode,Vi=!1;break e}break;case 5:_r=fe.stateNode,Vi=!1;break e;case 3:case 4:_r=fe.stateNode.containerInfo,Vi=!0;break e}fe=fe.return}if(_r===null)throw Error(r(160));B0(G,se,B),_r=null,Vi=!1,G=B.alternate,G!==null&&(G.return=null),B.return=null}if(p.subtreeFlags&13886)for(p=p.child;p!==null;)Xu(p,f),p=p.sibling}var Fo=null;function Xu(f,p){var S=f.alternate,R=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:ri(p,f),ai(f),R&4&&(Di(3,f,f.return),Po(3,f),Di(5,f,f.return));break;case 1:ri(p,f),ai(f),R&512&&(Ur||S===null||Ni(S,S.return)),R&64&&Lo&&(f=f.updateQueue,f!==null&&(R=f.callbacks,R!==null&&(S=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=S===null?R:S.concat(R))));break;case 26:var B=Fo;if(ri(p,f),ai(f),R&512&&(Ur||S===null||Ni(S,S.return)),R&4){var G=S!==null?S.memoizedState:null;if(R=f.memoizedState,S===null)if(R===null)if(f.stateNode===null){e:{R=f.type,S=f.memoizedProps,B=B.ownerDocument||B;t:switch(R){case"title":G=B.getElementsByTagName("title")[0],(!G||G[as]||G[vr]||G.namespaceURI==="http://www.w3.org/2000/svg"||G.hasAttribute("itemprop"))&&(G=B.createElement(R),B.head.insertBefore(G,B.querySelector("head > title"))),bs(G,R,S),G[vr]=f,Sr(G),R=G;break e;case"link":var se=YN("link","href",B).get(R+(S.href||""));if(se){for(var fe=0;fe<se.length;fe++)if(G=se[fe],G.getAttribute("href")===(S.href==null||S.href===""?null:S.href)&&G.getAttribute("rel")===(S.rel==null?null:S.rel)&&G.getAttribute("title")===(S.title==null?null:S.title)&&G.getAttribute("crossorigin")===(S.crossOrigin==null?null:S.crossOrigin)){se.splice(fe,1);break t}}G=B.createElement(R),bs(G,R,S),B.head.appendChild(G);break;case"meta":if(se=YN("meta","content",B).get(R+(S.content||""))){for(fe=0;fe<se.length;fe++)if(G=se[fe],G.getAttribute("content")===(S.content==null?null:""+S.content)&&G.getAttribute("name")===(S.name==null?null:S.name)&&G.getAttribute("property")===(S.property==null?null:S.property)&&G.getAttribute("http-equiv")===(S.httpEquiv==null?null:S.httpEquiv)&&G.getAttribute("charset")===(S.charSet==null?null:S.charSet)){se.splice(fe,1);break t}}G=B.createElement(R),bs(G,R,S),B.head.appendChild(G);break;default:throw Error(r(468,R))}G[vr]=f,Sr(G),R=G}f.stateNode=R}else KN(B,f.type,f.stateNode);else f.stateNode=WN(B,R,f.memoizedProps);else G!==R?(G===null?S.stateNode!==null&&(S=S.stateNode,S.parentNode.removeChild(S)):G.count--,R===null?KN(B,f.type,f.stateNode):WN(B,R,f.memoizedProps)):R===null&&f.stateNode!==null&&ni(f,f.memoizedProps,S.memoizedProps)}break;case 27:ri(p,f),ai(f),R&512&&(Ur||S===null||Ni(S,S.return)),S!==null&&R&4&&ni(f,f.memoizedProps,S.memoizedProps);break;case 5:if(ri(p,f),ai(f),R&512&&(Ur||S===null||Ni(S,S.return)),f.flags&32){B=f.stateNode;try{_o(B,"")}catch(Qt){ar(f,f.return,Qt)}}R&4&&f.stateNode!=null&&(B=f.memoizedProps,ni(f,B,S!==null?S.memoizedProps:B)),R&1024&&(vl=!0);break;case 6:if(ri(p,f),ai(f),R&4){if(f.stateNode===null)throw Error(r(162));R=f.memoizedProps,S=f.stateNode;try{S.nodeValue=R}catch(Qt){ar(f,f.return,Qt)}}break;case 3:if(Z3=null,B=Fo,Fo=X3(p.containerInfo),ri(p,f),Fo=B,ai(f),R&4&&S!==null&&S.memoizedState.isDehydrated)try{Y0(p.containerInfo)}catch(Qt){ar(f,f.return,Qt)}vl&&(vl=!1,H0(f));break;case 4:R=Fo,Fo=X3(f.stateNode.containerInfo),ri(p,f),ai(f),Fo=R;break;case 12:ri(p,f),ai(f);break;case 31:ri(p,f),ai(f),R&4&&(R=f.updateQueue,R!==null&&(f.updateQueue=null,nu(f,R)));break;case 13:ri(p,f),ai(f),f.child.flags&8192&&f.memoizedState!==null!=(S!==null&&S.memoizedState!==null)&&(Ch=ke()),R&4&&(R=f.updateQueue,R!==null&&(f.updateQueue=null,nu(f,R)));break;case 22:B=f.memoizedState!==null;var Te=S!==null&&S.memoizedState!==null,We=Lo,ot=Ur;if(Lo=We||B,Ur=ot||Te,ri(p,f),Ur=ot,Lo=We,ai(f),R&8192)e:for(p=f.stateNode,p._visibility=B?p._visibility&-2:p._visibility|1,B&&(S===null||Te||Lo||Ur||ac(f)),S=null,p=f;;){if(p.tag===5||p.tag===26){if(S===null){Te=S=p;try{if(G=Te.stateNode,B)se=G.style,typeof se.setProperty=="function"?se.setProperty("display","none","important"):se.display="none";else{fe=Te.stateNode;var pt=Te.memoizedProps.style,Qe=pt!=null&&pt.hasOwnProperty("display")?pt.display:null;fe.style.display=Qe==null||typeof Qe=="boolean"?"":(""+Qe).trim()}}catch(Qt){ar(Te,Te.return,Qt)}}}else if(p.tag===6){if(S===null){Te=p;try{Te.stateNode.nodeValue=B?"":Te.memoizedProps}catch(Qt){ar(Te,Te.return,Qt)}}}else if(p.tag===18){if(S===null){Te=p;try{var at=Te.stateNode;B?zN(at,!0):zN(Te.stateNode,!1)}catch(Qt){ar(Te,Te.return,Qt)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===f)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break e;for(;p.sibling===null;){if(p.return===null||p.return===f)break e;S===p&&(S=null),p=p.return}S===p&&(S=null),p.sibling.return=p.return,p=p.sibling}R&4&&(R=f.updateQueue,R!==null&&(S=R.retryQueue,S!==null&&(R.retryQueue=null,nu(f,S))));break;case 19:ri(p,f),ai(f),R&4&&(R=f.updateQueue,R!==null&&(f.updateQueue=null,nu(f,R)));break;case 30:break;case 21:break;default:ri(p,f),ai(f)}}function ai(f){var p=f.flags;if(p&2){try{for(var S,R=f.return;R!==null;){if(Zr(R)){S=R;break}R=R.return}if(S==null)throw Error(r(160));switch(S.tag){case 27:var B=S.stateNode,G=Gn(f);hs(f,G,B);break;case 5:var se=S.stateNode;S.flags&32&&(_o(se,""),S.flags&=-33);var fe=Gn(f);hs(f,fe,se);break;case 3:case 4:var Te=S.stateNode.containerInfo,We=Gn(f);rc(f,We,Te);break;default:throw Error(r(161))}}catch(ot){ar(f,f.return,ot)}f.flags&=-3}p&4096&&(f.flags&=-4097)}function H0(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var p=f;H0(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),f=f.sibling}}function Bo(f,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)Jr(f,p.alternate,p),p=p.sibling}function ac(f){for(f=f.child;f!==null;){var p=f;switch(p.tag){case 0:case 11:case 14:case 15:Di(4,p,p.return),ac(p);break;case 1:Ni(p,p.return);var S=p.stateNode;typeof S.componentWillUnmount=="function"&&mi(p,p.return,S),ac(p);break;case 27:cx(p.stateNode);case 26:case 5:Ni(p,p.return),ac(p);break;case 22:p.memoizedState===null&&ac(p);break;case 30:ac(p);break;default:ac(p)}f=f.sibling}}function ps(f,p,S){for(S=S&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var R=p.alternate,B=f,G=p,se=G.flags;switch(G.tag){case 0:case 11:case 15:ps(B,G,S),Po(4,G);break;case 1:if(ps(B,G,S),R=G,B=R.stateNode,typeof B.componentDidMount=="function")try{B.componentDidMount()}catch(We){ar(R,R.return,We)}if(R=G,B=R.updateQueue,B!==null){var fe=R.stateNode;try{var Te=B.shared.hiddenCallbacks;if(Te!==null)for(B.shared.hiddenCallbacks=null,B=0;B<Te.length;B++)gh(Te[B],fe)}catch(We){ar(R,R.return,We)}}S&&se&64&&xl(G),tu(G,G.return);break;case 27:F0(G);case 26:case 5:ps(B,G,S),S&&R===null&&se&4&&gm(G),tu(G,G.return);break;case 12:ps(B,G,S);break;case 31:ps(B,G,S),S&&se&4&&Ku(B,G);break;case 13:ps(B,G,S),S&&se&4&&_h(B,G);break;case 22:G.memoizedState===null&&ps(B,G,S),tu(G,G.return);break;case 30:break;default:ps(B,G,S)}p=p.sibling}}function Qu(f,p){var S=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(S=f.memoizedState.cachePool.pool),f=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(f=p.memoizedState.cachePool.pool),f!==S&&(f!=null&&f.refCount++,S!=null&&Xd(S))}function df(f,p){f=null,p.alternate!==null&&(f=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==f&&(p.refCount++,f!=null&&Xd(f))}function Mi(f,p,S,R){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)ax(f,p,S,R),p=p.sibling}function ax(f,p,S,R){var B=p.flags;switch(p.tag){case 0:case 11:case 15:Mi(f,p,S,R),B&2048&&Po(9,p);break;case 1:Mi(f,p,S,R);break;case 3:Mi(f,p,S,R),B&2048&&(f=null,p.alternate!==null&&(f=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==f&&(p.refCount++,f!=null&&Xd(f)));break;case 12:if(B&2048){Mi(f,p,S,R),f=p.stateNode;try{var G=p.memoizedProps,se=G.id,fe=G.onPostCommit;typeof fe=="function"&&fe(se,p.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Te){ar(p,p.return,Te)}}else Mi(f,p,S,R);break;case 31:Mi(f,p,S,R);break;case 13:Mi(f,p,S,R);break;case 23:break;case 22:G=p.stateNode,se=p.alternate,p.memoizedState!==null?G._visibility&2?Mi(f,p,S,R):ic(f,p):G._visibility&2?Mi(f,p,S,R):(G._visibility|=2,Pi(f,p,S,R,(p.subtreeFlags&10256)!==0||!1)),B&2048&&Qu(se,p);break;case 24:Mi(f,p,S,R),B&2048&&df(p.alternate,p);break;default:Mi(f,p,S,R)}}function Pi(f,p,S,R,B){for(B=B&&((p.subtreeFlags&10256)!==0||!1),p=p.child;p!==null;){var G=f,se=p,fe=S,Te=R,We=se.flags;switch(se.tag){case 0:case 11:case 15:Pi(G,se,fe,Te,B),Po(8,se);break;case 23:break;case 22:var ot=se.stateNode;se.memoizedState!==null?ot._visibility&2?Pi(G,se,fe,Te,B):ic(G,se):(ot._visibility|=2,Pi(G,se,fe,Te,B)),B&&We&2048&&Qu(se.alternate,se);break;case 24:Pi(G,se,fe,Te,B),B&&We&2048&&df(se.alternate,se);break;default:Pi(G,se,fe,Te,B)}p=p.sibling}}function ic(f,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var S=f,R=p,B=R.flags;switch(R.tag){case 22:ic(S,R),B&2048&&Qu(R.alternate,R);break;case 24:ic(S,R),B&2048&&df(R.alternate,R);break;default:ic(S,R)}p=p.sibling}}var ff=8192;function so(f,p,S){if(f.subtreeFlags&ff)for(f=f.child;f!==null;)U0(f,p,S),f=f.sibling}function U0(f,p,S){switch(f.tag){case 26:so(f,p,S),f.flags&ff&&f.memoizedState!==null&&Cie(S,Fo,f.memoizedState,f.memoizedProps);break;case 5:so(f,p,S);break;case 3:case 4:var R=Fo;Fo=X3(f.stateNode.containerInfo),so(f,p,S),Fo=R;break;case 22:f.memoizedState===null&&(R=f.alternate,R!==null&&R.memoizedState!==null?(R=ff,ff=16777216,so(f,p,S),ff=R):so(f,p,S));break;default:so(f,p,S)}}function hf(f){var p=f.alternate;if(p!==null&&(f=p.child,f!==null)){p.child=null;do p=f.sibling,f.sibling=null,f=p;while(f!==null)}}function Zu(f){var p=f.deletions;if((f.flags&16)!==0){if(p!==null)for(var S=0;S<p.length;S++){var R=p[S];gi=R,_a(R,f)}hf(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Fs(f),f=f.sibling}function Fs(f){switch(f.tag){case 0:case 11:case 15:Zu(f),f.flags&2048&&Di(9,f,f.return);break;case 3:Zu(f);break;case 12:Zu(f);break;case 22:var p=f.stateNode;f.memoizedState!==null&&p._visibility&2&&(f.return===null||f.return.tag!==13)?(p._visibility&=-3,ms(f)):Zu(f);break;default:Zu(f)}}function ms(f){var p=f.deletions;if((f.flags&16)!==0){if(p!==null)for(var S=0;S<p.length;S++){var R=p[S];gi=R,_a(R,f)}hf(f)}for(f=f.child;f!==null;){switch(p=f,p.tag){case 0:case 11:case 15:Di(8,p,p.return),ms(p);break;case 22:S=p.stateNode,S._visibility&2&&(S._visibility&=-3,ms(p));break;default:ms(p)}f=f.sibling}}function _a(f,p){for(;gi!==null;){var S=gi;switch(S.tag){case 0:case 11:case 15:Di(8,S,p);break;case 23:case 22:if(S.memoizedState!==null&&S.memoizedState.cachePool!==null){var R=S.memoizedState.cachePool.pool;R!=null&&R.refCount++}break;case 24:Xd(S.memoizedState.cache)}if(R=S.child,R!==null)R.return=S,gi=R;else e:for(S=f;gi!==null;){R=gi;var B=R.sibling,G=R.return;if(ym(R),R===S){gi=null;break e}if(B!==null){B.return=G,gi=B;break e}gi=G}}}var ru={getCacheForType:function(f){var p=gn(Ga),S=p.data.get(f);return S===void 0&&(S=f(),p.data.set(f,S)),S},cacheSignal:function(){return gn(Ga).controller.signal}},Rn=typeof WeakMap=="function"?WeakMap:Map,nn=0,vn=null,Mn=null,On=0,Qn=0,Wi=null,Ho=!1,Sl=!1,ix=!1,oo=0,fa=0,sc=0,Ju=0,bm=0,gs=0,Vr=0,pf=null,Ca=null,wa=!1,Ch=0,sx=0,La=1/0,ha=null,za=null,Cr=0,lo=null,wh=null,Uo=0,Eh=0,Th=null,xm=null,ed=0,mf=null;function co(){return(nn&2)!==0&&On!==0?On&-On:L.T!==null?et():jr()}function Hn(){if(gs===0)if((On&536870912)===0||Wn){var f=In;In<<=1,(In&3932160)===0&&(In=262144),gs=f}else gs=536870912;return f=Ms.current,f!==null&&(f.flags|=32),gs}function Pn(f,p,S){(f===vn&&(Qn===2||Qn===9)||f.cancelPendingCommit!==null)&&(nd(f,0),Va(f,On,gs,!1)),Et(f,S),((nn&2)===0||f!==vn)&&(f===vn&&((nn&2)===0&&(Ju|=S),fa===4&&Va(f,On,gs,!1)),St(f))}function Un(f,p,S){if((nn&6)!==0)throw Error(r(327));var R=!S&&(p&127)===0&&(p&f.expiredLanes)===0||Cn(f,p),B=R?vm(f,p):ys(f,p,!0),G=R;do{if(B===0){Sl&&!R&&Va(f,p,0,!1);break}else{if(S=f.current.alternate,G&&!wr(S)){B=ys(f,p,!1),G=!1;continue}if(B===2){if(G=p,f.errorRecoveryDisabledLanes&G)var se=0;else se=f.pendingLanes&-536870913,se=se!==0?se:se&536870912?536870912:0;if(se!==0){p=se;e:{var fe=f;B=pf;var Te=fe.current.memoizedState.isDehydrated;if(Te&&(nd(fe,se).flags|=256),se=ys(fe,se,!1),se!==2){if(ix&&!Te){fe.errorRecoveryDisabledLanes|=G,Ju|=G,B=4;break e}G=Ca,Ca=B,G!==null&&(Ca===null?Ca=G:Ca.push.apply(Ca,G))}B=se}if(G=!1,B!==2)continue}}if(B===1){nd(f,0),Va(f,p,0,!0);break}e:{switch(R=f,G=B,G){case 0:case 1:throw Error(r(345));case 4:if((p&4194048)!==p)break;case 6:Va(R,p,gs,!Ho);break e;case 2:Ca=null;break;case 3:case 5:break;default:throw Error(r(329))}if((p&62914560)===p&&(B=Ch+300-ke(),10<B)){if(Va(R,p,gs,!Ho),Zt(R,0,!0)!==0)break e;Uo=p,R.timeoutHandle=MN(qn.bind(null,R,S,Ca,ha,wa,p,gs,Ju,Vr,Ho,G,"Throttled",-0,0),B);break e}qn(R,S,Ca,ha,wa,p,gs,Ju,Vr,Ho,G,null,-0,0)}}break}while(!0);St(f)}function qn(f,p,S,R,B,G,se,fe,Te,We,ot,pt,Qe,at){if(f.timeoutHandle=-1,pt=p.subtreeFlags,pt&8192||(pt&16785408)===16785408){pt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Js},U0(p,G,pt);var Qt=(G&62914560)===G?Ch-ke():(G&4194048)===G?sx-ke():0;if(Qt=wie(pt,Qt),Qt!==null){Uo=G,f.cancelPendingCommit=Qt(iu.bind(null,f,p,G,S,R,B,se,fe,Te,ot,pt,null,Qe,at)),Va(f,G,se,!We);return}}iu(f,p,G,S,R,B,se,fe,Te)}function wr(f){for(var p=f;;){var S=p.tag;if((S===0||S===11||S===15)&&p.flags&16384&&(S=p.updateQueue,S!==null&&(S=S.stores,S!==null)))for(var R=0;R<S.length;R++){var B=S[R],G=B.getSnapshot;B=B.value;try{if(!cs(G(),B))return!1}catch{return!1}}if(S=p.child,p.subtreeFlags&16384&&S!==null)S.return=p,p=S;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Va(f,p,S,R){p&=~bm,p&=~Ju,f.suspendedLanes|=p,f.pingedLanes&=~p,R&&(f.warmLanes|=p),R=f.expirationTimes;for(var B=p;0<B;){var G=31-dt(B),se=1<<G;R[G]=-1,B&=~se}S!==0&&on(f,S,p)}function _l(){return(nn&6)===0?(Vt(0),!1):!0}function td(){if(Mn!==null){if(Qn===0)var f=Mn.return;else f=Mn,Xl=Hu=null,kb(f),tf=null,nf=0,f=Mn;for(;f!==null;)io(f.alternate,f),f=f.return;Mn=null}}function nd(f,p){var S=f.timeoutHandle;S!==-1&&(f.timeoutHandle=-1,sie(S)),S=f.cancelPendingCommit,S!==null&&(f.cancelPendingCommit=null,S()),Uo=0,td(),vn=f,Mn=S=Os(f.current,null),On=p,Qn=0,Wi=null,Ho=!1,Sl=Cn(f,p),ix=!1,Vr=gs=bm=Ju=sc=fa=0,Ca=pf=null,wa=!1,(p&8)!==0&&(p|=p&32);var R=f.entangledLanes;if(R!==0)for(f=f.entanglements,R&=p;0<R;){var B=31-dt(R),G=1<<B;p|=f[B],R&=~G}return oo=p,Jp(),S}function oc(f,p){An=null,L.H=vh,p===Qd||p===Nn?(p=Jd(),Qn=3):p===rm?(p=Jd(),Qn=4):Qn=p===I0?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,Wi=p,Mn===null&&(fa=1,k0(f,to(p,f.current)))}function pa(){var f=Ms.current;return f===null?!0:(On&4194048)===On?fs===null:(On&62914560)===On||(On&536870912)!==0?f===fs:!1}function au(){var f=L.H;return L.H=vh,f===null?vh:f}function rd(){var f=L.A;return L.A=ru,f}function Ah(){fa=4,Ho||(On&4194048)!==On&&Ms.current!==null||(Sl=!0),(sc&134217727)===0&&(Ju&134217727)===0||vn===null||Va(vn,On,gs,!1)}function ys(f,p,S){var R=nn;nn|=2;var B=au(),G=rd();(vn!==f||On!==p)&&(ha=null,nd(f,p)),p=!1;var se=fa;e:do try{if(Qn!==0&&Mn!==null){var fe=Mn,Te=Wi;switch(Qn){case 8:td(),se=6;break e;case 3:case 2:case 9:case 6:Ms.current===null&&(p=!0);var We=Qn;if(Qn=0,Wi=null,gf(f,fe,Te,We),S&&Sl){se=0;break e}break;default:We=Qn,Qn=0,Wi=null,gf(f,fe,Te,We)}}Rh(),se=fa;break}catch(ot){oc(f,ot)}while(!0);return p&&f.shellSuspendCounter++,Xl=Hu=null,nn=R,L.H=B,L.A=G,Mn===null&&(vn=null,On=0,Jp()),se}function Rh(){for(;Mn!==null;)$0(Mn)}function vm(f,p){var S=nn;nn|=2;var R=au(),B=rd();vn!==f||On!==p?(ha=null,La=ke()+500,nd(f,p)):Sl=Cn(f,p);e:do try{if(Qn!==0&&Mn!==null){p=Mn;var G=Wi;t:switch(Qn){case 1:Qn=0,Wi=null,gf(f,p,G,1);break;case 2:case 9:if(Ns(G)){Qn=0,Wi=null,Sm(p);break}p=function(){Qn!==2&&Qn!==9||vn!==f||(Qn=7),St(f)},G.then(p,p);break e;case 3:Qn=7;break e;case 4:Qn=5;break e;case 7:Ns(G)?(Qn=0,Wi=null,Sm(p)):(Qn=0,Wi=null,gf(f,p,G,7));break;case 5:var se=null;switch(Mn.tag){case 26:se=Mn.memoizedState;case 5:case 27:var fe=Mn;if(se?XN(se):fe.stateNode.complete){Qn=0,Wi=null;var Te=fe.sibling;if(Te!==null)Mn=Te;else{var We=fe.return;We!==null?(Mn=We,ad(We)):Mn=null}break t}}Qn=0,Wi=null,gf(f,p,G,5);break;case 6:Qn=0,Wi=null,gf(f,p,G,6);break;case 8:td(),fa=6;break e;default:throw Error(r(462))}}Bs();break}catch(ot){oc(f,ot)}while(!0);return Xl=Hu=null,L.H=R,L.A=B,nn=S,Mn!==null?0:(vn=null,On=0,Jp(),fa)}function Bs(){for(;Mn!==null&&!Oe();)$0(Mn)}function $0(f){var p=z0(f.alternate,f,oo);f.memoizedProps=f.pendingProps,p===null?ad(f):Mn=p}function Sm(f){var p=f,S=p.alternate;switch(p.tag){case 15:case 0:p=fm(S,p,p.pendingProps,p.type,void 0,On);break;case 11:p=fm(S,p,p.pendingProps,p.type.render,p.ref,On);break;case 5:kb(p);default:io(S,p),p=Mn=sh(p,oo),p=z0(S,p,oo)}f.memoizedProps=f.pendingProps,p===null?ad(f):Mn=p}function gf(f,p,S,R){Xl=Hu=null,kb(p),tf=null,nf=0;var B=p.return;try{if(ti(f,B,p,S,On)){fa=1,k0(f,to(S,f.current)),Mn=null;return}}catch(G){if(B!==null)throw Mn=B,G;fa=1,k0(f,to(S,f.current)),Mn=null;return}p.flags&32768?(Wn||R===1?f=!0:Sl||(On&536870912)!==0?f=!1:(Ho=f=!0,(R===2||R===9||R===3||R===6)&&(R=Ms.current,R!==null&&R.tag===13&&(R.flags|=16384))),_m(p,f)):ad(p)}function ad(f){var p=f;do{if((p.flags&32768)!==0){_m(p,Ho);return}f=p.return;var S=mm(p.alternate,p,oo);if(S!==null){Mn=S;return}if(p=p.sibling,p!==null){Mn=p;return}Mn=p=f}while(p!==null);fa===0&&(fa=5)}function _m(f,p){do{var S=Mo(f.alternate,f);if(S!==null){S.flags&=32767,Mn=S;return}if(S=f.return,S!==null&&(S.flags|=32768,S.subtreeFlags=0,S.deletions=null),!p&&(f=f.sibling,f!==null)){Mn=f;return}Mn=f=S}while(f!==null);fa=6,Mn=null}function iu(f,p,S,R,B,G,se,fe,Te){f.cancelPendingCommit=null;do kh();while(Cr!==0);if((nn&6)!==0)throw Error(r(327));if(p!==null){if(p===f.current)throw Error(r(177));if(G=p.lanes|p.childLanes,G|=fi,Pt(f,S,G,se,fe,Te),f===vn&&(Mn=vn=null,On=0),wh=p,lo=f,Uo=S,Eh=G,Th=B,xm=R,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,X(Ne,function(){return G0(),null})):(f.callbackNode=null,f.callbackPriority=0),R=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||R){R=L.T,L.T=null,B=V.p,V.p=2,se=nn,nn|=4;try{sE(f,p,S)}finally{nn=se,V.p=B,L.T=R}}Cr=1,Wa(),su(),yf()}}function Wa(){if(Cr===1){Cr=0;var f=lo,p=wh,S=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||S){S=L.T,L.T=null;var R=V.p;V.p=2;var B=nn;nn|=4;try{Xu(p,f);var G=hE,se=YS(f.containerInfo),fe=G.focusedElem,Te=G.selectionRange;if(se!==fe&&fe&&fe.ownerDocument&&Br(fe.ownerDocument.documentElement,fe)){if(Te!==null&&db(fe)){var We=Te.start,ot=Te.end;if(ot===void 0&&(ot=We),"selectionStart"in fe)fe.selectionStart=We,fe.selectionEnd=Math.min(ot,fe.value.length);else{var pt=fe.ownerDocument||document,Qe=pt&&pt.defaultView||window;if(Qe.getSelection){var at=Qe.getSelection(),Qt=fe.textContent.length,mn=Math.min(Te.start,Qt),Gr=Te.end===void 0?mn:Math.min(Te.end,Qt);!at.extend&&mn>Gr&&(se=Gr,Gr=mn,mn=se);var ze=rh(fe,mn),De=rh(fe,Gr);if(ze&&De&&(at.rangeCount!==1||at.anchorNode!==ze.node||at.anchorOffset!==ze.offset||at.focusNode!==De.node||at.focusOffset!==De.offset)){var Ve=pt.createRange();Ve.setStart(ze.node,ze.offset),at.removeAllRanges(),mn>Gr?(at.addRange(Ve),at.extend(De.node,De.offset)):(Ve.setEnd(De.node,De.offset),at.addRange(Ve))}}}}for(pt=[],at=fe;at=at.parentNode;)at.nodeType===1&&pt.push({element:at,left:at.scrollLeft,top:at.scrollTop});for(typeof fe.focus=="function"&&fe.focus(),fe=0;fe<pt.length;fe++){var ft=pt[fe];ft.element.scrollLeft=ft.left,ft.element.scrollTop=ft.top}}n_=!!fE,hE=fE=null}finally{nn=B,V.p=R,L.T=S}}f.current=p,Cr=2}}function su(){if(Cr===2){Cr=0;var f=lo,p=wh,S=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||S){S=L.T,L.T=null;var R=V.p;V.p=2;var B=nn;nn|=4;try{Jr(f,p.alternate,p)}finally{nn=B,V.p=R,L.T=S}}Cr=3}}function yf(){if(Cr===4||Cr===3){Cr=0,Xe();var f=lo,p=wh,S=Uo,R=xm;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?Cr=5:(Cr=0,wh=lo=null,lc(f,f.pendingLanes));var B=f.pendingLanes;if(B===0&&(za=null),Mr(S),p=p.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(it,p,void 0,(p.current.flags&128)===128)}catch{}if(R!==null){p=L.T,B=V.p,V.p=2,L.T=null;try{for(var G=f.onRecoverableError,se=0;se<R.length;se++){var fe=R[se];G(fe.value,{componentStack:fe.stack})}}finally{L.T=p,V.p=B}}(Uo&3)!==0&&kh(),St(f),B=f.pendingLanes,(S&261930)!==0&&(B&42)!==0?f===mf?ed++:(ed=0,mf=f):ed=0,Vt(0)}}function lc(f,p){(f.pooledCacheLanes&=p)===0&&(p=f.pooledCache,p!=null&&(f.pooledCache=null,Xd(p)))}function kh(){return Wa(),su(),yf(),G0()}function G0(){if(Cr!==5)return!1;var f=lo,p=Eh;Eh=0;var S=Mr(Uo),R=L.T,B=V.p;try{V.p=32>S?32:S,L.T=null,S=Th,Th=null;var G=lo,se=Uo;if(Cr=0,wh=lo=null,Uo=0,(nn&6)!==0)throw Error(r(331));var fe=nn;if(nn|=4,Fs(G.current),ax(G,G.current,se,S),nn=fe,Vt(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(it,G)}catch{}return!0}finally{V.p=B,L.T=R,lc(f,p)}}function ox(f,p,S){p=to(S,p),p=Qb(f.stateNode,p,2),f=Gu(f,p,2),f!==null&&(Et(f,2),St(f))}function ar(f,p,S){if(f.tag===3)ox(f,f,S);else for(;p!==null;){if(p.tag===3){ox(p,f,S);break}else if(p.tag===1){var R=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(za===null||!za.has(R))){f=to(S,f),S=Zb(2),R=Gu(p,S,2),R!==null&&(H3(S,R,p,f),Et(R,2),St(R));break}}p=p.return}}function Cm(f,p,S){var R=f.pingCache;if(R===null){R=f.pingCache=new Rn;var B=new Set;R.set(p,B)}else B=R.get(p),B===void 0&&(B=new Set,R.set(p,B));B.has(S)||(ix=!0,B.add(S),f=g.bind(null,f,p,S),p.then(f,f))}function g(f,p,S){var R=f.pingCache;R!==null&&R.delete(p),f.pingedLanes|=f.suspendedLanes&S,f.warmLanes&=~S,vn===f&&(On&S)===S&&(fa===4||fa===3&&(On&62914560)===On&&300>ke()-Ch?(nn&2)===0&&nd(f,0):bm|=S,Vr===On&&(Vr=0)),St(f)}function b(f,p){p===0&&(p=Ut()),f=us(f,p),f!==null&&(Et(f,p),St(f))}function I(f){var p=f.memoizedState,S=0;p!==null&&(S=p.retryLane),b(f,S)}function P(f,p){var S=0;switch(f.tag){case 31:case 13:var R=f.stateNode,B=f.memoizedState;B!==null&&(S=B.retryLane);break;case 19:R=f.stateNode;break;case 22:R=f.stateNode._retryCache;break;default:throw Error(r(314))}R!==null&&R.delete(p),b(f,S)}function X(f,p){return Pe(f,p)}var te=null,ue=null,Re=!1,tt=!1,yt=!1,jt=0;function St(f){f!==ue&&f.next===null&&(ue===null?te=ue=f:ue=ue.next=f),tt=!0,Re||(Re=!0,Fe())}function Vt(f,p){if(!yt&&tt){yt=!0;do for(var S=!1,R=te;R!==null;){if(f!==0){var B=R.pendingLanes;if(B===0)var G=0;else{var se=R.suspendedLanes,fe=R.pingedLanes;G=(1<<31-dt(42|f)+1)-1,G&=B&~(se&~fe),G=G&201326741?G&201326741|1:G?G|2:0}G!==0&&(S=!0,Ye(R,G))}else G=On,G=Zt(R,R===vn?G:0,R.cancelPendingCommit!==null||R.timeoutHandle!==-1),(G&3)===0||Cn(R,G)||(S=!0,Ye(R,G));R=R.next}while(S);yt=!1}}function En(){yi()}function yi(){tt=Re=!1;var f=0;jt!==0&&iie()&&(f=jt);for(var p=ke(),S=null,R=te;R!==null;){var B=R.next,G=Ih(R,p);G===0?(R.next=null,S===null?te=B:S.next=B,B===null&&(ue=S)):(S=R,(f!==0||(G&3)!==0)&&(tt=!0)),R=B}Cr!==0&&Cr!==5||Vt(f),jt!==0&&(jt=0)}function Ih(f,p){for(var S=f.suspendedLanes,R=f.pingedLanes,B=f.expirationTimes,G=f.pendingLanes&-62914561;0<G;){var se=31-dt(G),fe=1<<se,Te=B[se];Te===-1?((fe&S)===0||(fe&R)!==0)&&(B[se]=jn(fe,p)):Te<=p&&(f.expiredLanes|=fe),G&=~fe}if(p=vn,S=On,S=Zt(f,f===p?S:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),R=f.callbackNode,S===0||f===p&&(Qn===2||Qn===9)||f.cancelPendingCommit!==null)return R!==null&&R!==null&&Le(R),f.callbackNode=null,f.callbackPriority=0;if((S&3)===0||Cn(f,S)){if(p=S&-S,p===f.callbackPriority)return p;switch(R!==null&&Le(R),Mr(S)){case 2:case 8:S=Ce;break;case 32:S=Ne;break;case 268435456:S=Ke;break;default:S=Ne}return R=id.bind(null,f),S=Pe(S,R),f.callbackPriority=p,f.callbackNode=S,p}return R!==null&&R!==null&&Le(R),f.callbackPriority=2,f.callbackNode=null,2}function id(f,p){if(Cr!==0&&Cr!==5)return f.callbackNode=null,f.callbackPriority=0,null;var S=f.callbackNode;if(kh()&&f.callbackNode!==S)return null;var R=On;return R=Zt(f,f===vn?R:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),R===0?null:(Un(f,R,p),Ih(f,ke()),f.callbackNode!=null&&f.callbackNode===S?id.bind(null,f):null)}function Ye(f,p){if(kh())return null;Un(f,p,!0)}function Fe(){oie(function(){(nn&6)!==0?Pe(ye,En):yi()})}function et(){if(jt===0){var f=Kc;f===0&&(f=xn,xn<<=1,(xn&261888)===0&&(xn=256)),jt=f}return jt}function Tt(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:Co(""+f)}function dn(f,p){var S=p.ownerDocument.createElement("input");return S.name=p.name,S.value=p.value,f.id&&S.setAttribute("form",f.id),p.parentNode.insertBefore(S,p),f=new FormData(f),S.parentNode.removeChild(S),f}function ma(f,p,S,R,B){if(p==="submit"&&S&&S.stateNode===B){var G=Tt((B[Fr]||null).action),se=R.submitter;se&&(p=(p=se[Fr]||null)?Tt(p.formAction):se.getAttribute("formAction"),p!==null&&(G=p,se=null));var fe=new $i("action","action",null,R,B);f.push({event:fe,listeners:[{instance:null,listener:function(){if(R.defaultPrevented){if(jt!==0){var Te=se?dn(B,se):new FormData(B);$b(S,{pending:!0,data:Te,method:B.method,action:G},null,Te)}}else typeof G=="function"&&(fe.preventDefault(),Te=se?dn(B,se):new FormData(B),$b(S,{pending:!0,data:Te,method:B.method,action:G},G,Te))},currentTarget:B}]})}}for(var hn=0;hn<Qp.length;hn++){var tr=Qp[hn],bi=tr.toLowerCase(),cr=tr[0].toUpperCase()+tr.slice(1);Ro(bi,"on"+cr)}Ro(r0,"onAnimationEnd"),Ro(Xp,"onAnimationIteration"),Ro(hb,"onAnimationStart"),Ro("dblclick","onDoubleClick"),Ro("focusin","onFocus"),Ro("focusout","onBlur"),Ro(XS,"onTransitionRun"),Ro(Zw,"onTransitionStart"),Ro(QS,"onTransitionCancel"),Ro(pb,"onTransitionEnd"),oa("onMouseEnter",["mouseout","mouseover"]),oa("onMouseLeave",["mouseout","mouseover"]),oa("onPointerEnter",["pointerout","pointerover"]),oa("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($o));function AN(f,p){p=(p&4)!==0;for(var S=0;S<f.length;S++){var R=f[S],B=R.event;R=R.listeners;e:{var G=void 0;if(p)for(var se=R.length-1;0<=se;se--){var fe=R[se],Te=fe.instance,We=fe.currentTarget;if(fe=fe.listener,Te!==G&&B.isPropagationStopped())break e;G=fe,B.currentTarget=We;try{G(B)}catch(ot){Zp(ot)}B.currentTarget=null,G=Te}else for(se=0;se<R.length;se++){if(fe=R[se],Te=fe.instance,We=fe.currentTarget,fe=fe.listener,Te!==G&&B.isPropagationStopped())break e;G=fe,B.currentTarget=We;try{G(B)}catch(ot){Zp(ot)}B.currentTarget=null,G=Te}}}}function Zn(f,p){var S=p[Ja];S===void 0&&(S=p[Ja]=new Set);var R=f+"__bubble";S.has(R)||(RN(p,f,2,!1),S.add(R))}function lE(f,p,S){var R=0;p&&(R|=4),RN(S,f,R,p)}var W3="_reactListening"+Math.random().toString(36).slice(2);function cE(f){if(!f[W3]){f[W3]=!0,di.forEach(function(S){S!=="selectionchange"&&(oE.has(S)||lE(S,!1,f),lE(S,!0,f))});var p=f.nodeType===9?f:f.ownerDocument;p===null||p[W3]||(p[W3]=!0,lE("selectionchange",!1,p))}}function RN(f,p,S,R){switch(rM(p)){case 2:var B=Aie;break;case 8:B=Rie;break;default:B=wE}S=B.bind(null,p,S,f),B=void 0,!Bl||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(B=!0),R?B!==void 0?f.addEventListener(p,S,{capture:!0,passive:B}):f.addEventListener(p,S,!0):B!==void 0?f.addEventListener(p,S,{passive:B}):f.addEventListener(p,S,!1)}function uE(f,p,S,R,B){var G=R;if((p&1)===0&&(p&2)===0&&R!==null)e:for(;;){if(R===null)return;var se=R.tag;if(se===3||se===4){var fe=R.stateNode.containerInfo;if(fe===B)break;if(se===4)for(se=R.return;se!==null;){var Te=se.tag;if((Te===3||Te===4)&&se.stateNode.containerInfo===B)return;se=se.return}for(;fe!==null;){if(se=Zs(fe),se===null)return;if(Te=se.tag,Te===5||Te===6||Te===26||Te===27){R=G=se;continue e}fe=fe.parentNode}}R=R.return}zl(function(){var We=G,ot=pl(S),pt=[];e:{var Qe=Ao.get(f);if(Qe!==void 0){var at=$i,Qt=f;switch(f){case"keypress":if(Eo(S)===0)break e;case"keydown":case"keyup":at=qd;break;case"focusin":Qt="focus",at=Yg;break;case"focusout":Qt="blur",at=Yg;break;case"beforeblur":case"afterblur":at=Yg;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=Xy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=IS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=PS;break;case r0:case Xp:case hb:at=Kw;break;case pb:at=Qw;break;case"scroll":case"scrollend":at=RS;break;case"wheel":at=zS;break;case"copy":case"cut":case"paste":at=OS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=Jy;break;case"toggle":case"beforetoggle":at=BS}var mn=(p&4)!==0,Gr=!mn&&(f==="scroll"||f==="scrollend"),ze=mn?Qe!==null?Qe+"Capture":null:Qe;mn=[];for(var De=We,Ve;De!==null;){var ft=De;if(Ve=ft.stateNode,ft=ft.tag,ft!==5&&ft!==26&&ft!==27||Ve===null||ze===null||(ft=Fl(De,ze),ft!=null&&mn.push(lx(De,ft,Ve))),Gr)break;De=De.return}0<mn.length&&(Qe=new at(Qe,Qt,null,S,ot),pt.push({event:Qe,listeners:mn}))}}if((p&7)===0){e:{if(Qe=f==="mouseover"||f==="pointerover",at=f==="mouseout"||f==="pointerout",Qe&&S!==hl&&(Qt=S.relatedTarget||S.fromElement)&&(Zs(Qt)||Qt[Es]))break e;if((at||Qe)&&(Qe=ot.window===ot?ot:(Qe=ot.ownerDocument)?Qe.defaultView||Qe.parentWindow:window,at?(Qt=S.relatedTarget||S.toElement,at=We,Qt=Qt?Zs(Qt):null,Qt!==null&&(Gr=i(Qt),mn=Qt.tag,Qt!==Gr||mn!==5&&mn!==27&&mn!==6)&&(Qt=null)):(at=null,Qt=We),at!==Qt)){if(mn=Xy,ft="onMouseLeave",ze="onMouseEnter",De="mouse",(f==="pointerout"||f==="pointerover")&&(mn=Jy,ft="onPointerLeave",ze="onPointerEnter",De="pointer"),Gr=at==null?Qe:ss(at),Ve=Qt==null?Qe:ss(Qt),Qe=new mn(ft,De+"leave",at,S,ot),Qe.target=Gr,Qe.relatedTarget=Ve,ft=null,Zs(ot)===We&&(mn=new mn(ze,De+"enter",Qt,S,ot),mn.target=Ve,mn.relatedTarget=Gr,ft=mn),Gr=ft,at&&Qt)t:{for(mn=eie,ze=at,De=Qt,Ve=0,ft=ze;ft;ft=mn(ft))Ve++;ft=0;for(var un=De;un;un=mn(un))ft++;for(;0<Ve-ft;)ze=mn(ze),Ve--;for(;0<ft-Ve;)De=mn(De),ft--;for(;Ve--;){if(ze===De||De!==null&&ze===De.alternate){mn=ze;break t}ze=mn(ze),De=mn(De)}mn=null}else mn=null;at!==null&&kN(pt,Qe,at,mn,!1),Qt!==null&&Gr!==null&&kN(pt,Gr,Qt,mn,!0)}}e:{if(Qe=We?ss(We):window,at=Qe.nodeName&&Qe.nodeName.toLowerCase(),at==="select"||at==="input"&&Qe.type==="file")var pr=sb;else if(ib(Qe))if(Ul)pr=WS;else{pr=cb;var Jt=qS}else at=Qe.nodeName,!at||at.toLowerCase()!=="input"||Qe.type!=="checkbox"&&Qe.type!=="radio"?We&&fl(We.elementType)&&(pr=sb):pr=VS;if(pr&&(pr=pr(f,We))){t0(pt,pr,S,ot);break e}Jt&&Jt(f,Qe,We),f==="focusout"&&We&&Qe.type==="number"&&We.memoizedProps.value!=null&&os(Qe,"number",Qe.value)}switch(Jt=We?ss(We):window,f){case"focusin":(ib(Jt)||Jt.contentEditable==="true")&&($l=Jt,Gl=We,ah=null);break;case"focusout":ah=Gl=$l=null;break;case"mousedown":n0=!0;break;case"contextmenu":case"mouseup":case"dragend":n0=!1,ih(pt,S,ot);break;case"selectionchange":if(KS)break;case"keydown":case"keyup":ih(pt,S,ot)}var Fn;if(Vd)e:{switch(f){case"compositionstart":var nr="onCompositionStart";break e;case"compositionend":nr="onCompositionEnd";break e;case"compositionupdate":nr="onCompositionUpdate";break e}nr=void 0}else Wd?e0(f,S)&&(nr="onCompositionEnd"):f==="keydown"&&S.keyCode===229&&(nr="onCompositionStart");nr&&(tb&&S.locale!=="ko"&&(Wd||nr!=="onCompositionStart"?nr==="onCompositionEnd"&&Wd&&(Fn=wo()):($a=ot,yl="value"in $a?$a.value:$a.textContent,Wd=!0)),Jt=Y3(We,nr),0<Jt.length&&(nr=new Kg(nr,f,null,S,ot),pt.push({event:nr,listeners:Jt}),Fn?nr.data=Fn:(Fn=nb(S),Fn!==null&&(nr.data=Fn)))),(Fn=Jg?$S(f,S):rb(f,S))&&(nr=Y3(We,"onBeforeInput"),0<nr.length&&(Jt=new Kg("onBeforeInput","beforeinput",null,S,ot),pt.push({event:Jt,listeners:nr}),Jt.data=Fn)),ma(pt,f,We,S,ot)}AN(pt,p)})}function lx(f,p,S){return{instance:f,listener:p,currentTarget:S}}function Y3(f,p){for(var S=p+"Capture",R=[];f!==null;){var B=f,G=B.stateNode;if(B=B.tag,B!==5&&B!==26&&B!==27||G===null||(B=Fl(f,S),B!=null&&R.unshift(lx(f,B,G)),B=Fl(f,p),B!=null&&R.push(lx(f,B,G))),f.tag===3)return R;f=f.return}return[]}function eie(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function kN(f,p,S,R,B){for(var G=p._reactName,se=[];S!==null&&S!==R;){var fe=S,Te=fe.alternate,We=fe.stateNode;if(fe=fe.tag,Te!==null&&Te===R)break;fe!==5&&fe!==26&&fe!==27||We===null||(Te=We,B?(We=Fl(S,G),We!=null&&se.unshift(lx(S,We,Te))):B||(We=Fl(S,G),We!=null&&se.push(lx(S,We,Te)))),S=S.return}se.length!==0&&f.push({event:p,listeners:se})}var tie=/\r\n?/g,nie=/\u0000|\uFFFD/g;function IN(f){return(typeof f=="string"?f:""+f).replace(tie,`
`).replace(nie,"")}function jN(f,p){return p=IN(p),IN(f)===p}function $r(f,p,S,R,B,G){switch(S){case"children":typeof R=="string"?p==="body"||p==="textarea"&&R===""||_o(f,R):(typeof R=="number"||typeof R=="bigint")&&p!=="body"&&_o(f,""+R);break;case"className":Bc(f,"class",R);break;case"tabIndex":Bc(f,"tabindex",R);break;case"dir":case"role":case"viewBox":case"width":case"height":Bc(f,S,R);break;case"style":Ll(f,R,G);break;case"data":if(p!=="object"){Bc(f,"data",R);break}case"src":case"href":if(R===""&&(p!=="a"||S!=="href")){f.removeAttribute(S);break}if(R==null||typeof R=="function"||typeof R=="symbol"||typeof R=="boolean"){f.removeAttribute(S);break}R=Co(""+R),f.setAttribute(S,R);break;case"action":case"formAction":if(typeof R=="function"){f.setAttribute(S,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof G=="function"&&(S==="formAction"?(p!=="input"&&$r(f,p,"name",B.name,B,null),$r(f,p,"formEncType",B.formEncType,B,null),$r(f,p,"formMethod",B.formMethod,B,null),$r(f,p,"formTarget",B.formTarget,B,null)):($r(f,p,"encType",B.encType,B,null),$r(f,p,"method",B.method,B,null),$r(f,p,"target",B.target,B,null)));if(R==null||typeof R=="symbol"||typeof R=="boolean"){f.removeAttribute(S);break}R=Co(""+R),f.setAttribute(S,R);break;case"onClick":R!=null&&(f.onclick=Js);break;case"onScroll":R!=null&&Zn("scroll",f);break;case"onScrollEnd":R!=null&&Zn("scrollend",f);break;case"dangerouslySetInnerHTML":if(R!=null){if(typeof R!="object"||!("__html"in R))throw Error(r(61));if(S=R.__html,S!=null){if(B.children!=null)throw Error(r(60));f.innerHTML=S}}break;case"multiple":f.multiple=R&&typeof R!="function"&&typeof R!="symbol";break;case"muted":f.muted=R&&typeof R!="function"&&typeof R!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(R==null||typeof R=="function"||typeof R=="boolean"||typeof R=="symbol"){f.removeAttribute("xlink:href");break}S=Co(""+R),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",S);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":R!=null&&typeof R!="function"&&typeof R!="symbol"?f.setAttribute(S,""+R):f.removeAttribute(S);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":R&&typeof R!="function"&&typeof R!="symbol"?f.setAttribute(S,""):f.removeAttribute(S);break;case"capture":case"download":R===!0?f.setAttribute(S,""):R!==!1&&R!=null&&typeof R!="function"&&typeof R!="symbol"?f.setAttribute(S,R):f.removeAttribute(S);break;case"cols":case"rows":case"size":case"span":R!=null&&typeof R!="function"&&typeof R!="symbol"&&!isNaN(R)&&1<=R?f.setAttribute(S,R):f.removeAttribute(S);break;case"rowSpan":case"start":R==null||typeof R=="function"||typeof R=="symbol"||isNaN(R)?f.removeAttribute(S):f.setAttribute(S,R);break;case"popover":Zn("beforetoggle",f),Zn("toggle",f),sl(f,"popover",R);break;case"xlinkActuate":Ii(f,"http://www.w3.org/1999/xlink","xlink:actuate",R);break;case"xlinkArcrole":Ii(f,"http://www.w3.org/1999/xlink","xlink:arcrole",R);break;case"xlinkRole":Ii(f,"http://www.w3.org/1999/xlink","xlink:role",R);break;case"xlinkShow":Ii(f,"http://www.w3.org/1999/xlink","xlink:show",R);break;case"xlinkTitle":Ii(f,"http://www.w3.org/1999/xlink","xlink:title",R);break;case"xlinkType":Ii(f,"http://www.w3.org/1999/xlink","xlink:type",R);break;case"xmlBase":Ii(f,"http://www.w3.org/XML/1998/namespace","xml:base",R);break;case"xmlLang":Ii(f,"http://www.w3.org/XML/1998/namespace","xml:lang",R);break;case"xmlSpace":Ii(f,"http://www.w3.org/XML/1998/namespace","xml:space",R);break;case"is":sl(f,"is",R);break;case"innerText":case"textContent":break;default:(!(2<S.length)||S[0]!=="o"&&S[0]!=="O"||S[1]!=="n"&&S[1]!=="N")&&(S=$c.get(S)||S,sl(f,S,R))}}function dE(f,p,S,R,B,G){switch(S){case"style":Ll(f,R,G);break;case"dangerouslySetInnerHTML":if(R!=null){if(typeof R!="object"||!("__html"in R))throw Error(r(61));if(S=R.__html,S!=null){if(B.children!=null)throw Error(r(60));f.innerHTML=S}}break;case"children":typeof R=="string"?_o(f,R):(typeof R=="number"||typeof R=="bigint")&&_o(f,""+R);break;case"onScroll":R!=null&&Zn("scroll",f);break;case"onScrollEnd":R!=null&&Zn("scrollend",f);break;case"onClick":R!=null&&(f.onclick=Js);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!il.hasOwnProperty(S))e:{if(S[0]==="o"&&S[1]==="n"&&(B=S.endsWith("Capture"),p=S.slice(2,B?S.length-7:void 0),G=f[Fr]||null,G=G!=null?G[S]:null,typeof G=="function"&&f.removeEventListener(p,G,B),typeof R=="function")){typeof G!="function"&&G!==null&&(S in f?f[S]=null:f.hasAttribute(S)&&f.removeAttribute(S)),f.addEventListener(p,R,B);break e}S in f?f[S]=R:R===!0?f.setAttribute(S,""):sl(f,S,R)}}}function bs(f,p,S){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zn("error",f),Zn("load",f);var R=!1,B=!1,G;for(G in S)if(S.hasOwnProperty(G)){var se=S[G];if(se!=null)switch(G){case"src":R=!0;break;case"srcSet":B=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,p));default:$r(f,p,G,se,S,null)}}B&&$r(f,p,"srcSet",S.srcSet,S,null),R&&$r(f,p,"src",S.src,S,null);return;case"input":Zn("invalid",f);var fe=G=se=B=null,Te=null,We=null;for(R in S)if(S.hasOwnProperty(R)){var ot=S[R];if(ot!=null)switch(R){case"name":B=ot;break;case"type":se=ot;break;case"checked":Te=ot;break;case"defaultChecked":We=ot;break;case"value":G=ot;break;case"defaultValue":fe=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(r(137,p));break;default:$r(f,p,R,ot,S,null)}}cl(f,G,fe,Te,We,se,B,!1);return;case"select":Zn("invalid",f),R=se=G=null;for(B in S)if(S.hasOwnProperty(B)&&(fe=S[B],fe!=null))switch(B){case"value":G=fe;break;case"defaultValue":se=fe;break;case"multiple":R=fe;default:$r(f,p,B,fe,S,null)}p=G,S=se,f.multiple=!!R,p!=null?Ui(f,!!R,p,!1):S!=null&&Ui(f,!!R,S,!0);return;case"textarea":Zn("invalid",f),G=B=R=null;for(se in S)if(S.hasOwnProperty(se)&&(fe=S[se],fe!=null))switch(se){case"value":R=fe;break;case"defaultValue":B=fe;break;case"children":G=fe;break;case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(91));break;default:$r(f,p,se,fe,S,null)}dl(f,R,B,G);return;case"option":for(Te in S)if(S.hasOwnProperty(Te)&&(R=S[Te],R!=null))switch(Te){case"selected":f.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:$r(f,p,Te,R,S,null)}return;case"dialog":Zn("beforetoggle",f),Zn("toggle",f),Zn("cancel",f),Zn("close",f);break;case"iframe":case"object":Zn("load",f);break;case"video":case"audio":for(R=0;R<$o.length;R++)Zn($o[R],f);break;case"image":Zn("error",f),Zn("load",f);break;case"details":Zn("toggle",f);break;case"embed":case"source":case"link":Zn("error",f),Zn("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(We in S)if(S.hasOwnProperty(We)&&(R=S[We],R!=null))switch(We){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,p));default:$r(f,p,We,R,S,null)}return;default:if(fl(p)){for(ot in S)S.hasOwnProperty(ot)&&(R=S[ot],R!==void 0&&dE(f,p,ot,R,S,void 0));return}}for(fe in S)S.hasOwnProperty(fe)&&(R=S[fe],R!=null&&$r(f,p,fe,R,S,null))}function rie(f,p,S,R){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var B=null,G=null,se=null,fe=null,Te=null,We=null,ot=null;for(at in S){var pt=S[at];if(S.hasOwnProperty(at)&&pt!=null)switch(at){case"checked":break;case"value":break;case"defaultValue":Te=pt;default:R.hasOwnProperty(at)||$r(f,p,at,null,R,pt)}}for(var Qe in R){var at=R[Qe];if(pt=S[Qe],R.hasOwnProperty(Qe)&&(at!=null||pt!=null))switch(Qe){case"type":G=at;break;case"name":B=at;break;case"checked":We=at;break;case"defaultChecked":ot=at;break;case"value":se=at;break;case"defaultValue":fe=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(r(137,p));break;default:at!==pt&&$r(f,p,Qe,at,R,pt)}}ll(f,se,fe,Te,We,ot,G,B);return;case"select":at=se=fe=Qe=null;for(G in S)if(Te=S[G],S.hasOwnProperty(G)&&Te!=null)switch(G){case"value":break;case"multiple":at=Te;default:R.hasOwnProperty(G)||$r(f,p,G,null,R,Te)}for(B in R)if(G=R[B],Te=S[B],R.hasOwnProperty(B)&&(G!=null||Te!=null))switch(B){case"value":Qe=G;break;case"defaultValue":fe=G;break;case"multiple":se=G;default:G!==Te&&$r(f,p,B,G,R,Te)}p=fe,S=se,R=at,Qe!=null?Ui(f,!!S,Qe,!1):!!R!=!!S&&(p!=null?Ui(f,!!S,p,!0):Ui(f,!!S,S?[]:"",!1));return;case"textarea":at=Qe=null;for(fe in S)if(B=S[fe],S.hasOwnProperty(fe)&&B!=null&&!R.hasOwnProperty(fe))switch(fe){case"value":break;case"children":break;default:$r(f,p,fe,null,R,B)}for(se in R)if(B=R[se],G=S[se],R.hasOwnProperty(se)&&(B!=null||G!=null))switch(se){case"value":Qe=B;break;case"defaultValue":at=B;break;case"children":break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:B!==G&&$r(f,p,se,B,R,G)}ul(f,Qe,at);return;case"option":for(var Qt in S)if(Qe=S[Qt],S.hasOwnProperty(Qt)&&Qe!=null&&!R.hasOwnProperty(Qt))switch(Qt){case"selected":f.selected=!1;break;default:$r(f,p,Qt,null,R,Qe)}for(Te in R)if(Qe=R[Te],at=S[Te],R.hasOwnProperty(Te)&&Qe!==at&&(Qe!=null||at!=null))switch(Te){case"selected":f.selected=Qe&&typeof Qe!="function"&&typeof Qe!="symbol";break;default:$r(f,p,Te,Qe,R,at)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mn in S)Qe=S[mn],S.hasOwnProperty(mn)&&Qe!=null&&!R.hasOwnProperty(mn)&&$r(f,p,mn,null,R,Qe);for(We in R)if(Qe=R[We],at=S[We],R.hasOwnProperty(We)&&Qe!==at&&(Qe!=null||at!=null))switch(We){case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(r(137,p));break;default:$r(f,p,We,Qe,R,at)}return;default:if(fl(p)){for(var Gr in S)Qe=S[Gr],S.hasOwnProperty(Gr)&&Qe!==void 0&&!R.hasOwnProperty(Gr)&&dE(f,p,Gr,void 0,R,Qe);for(ot in R)Qe=R[ot],at=S[ot],!R.hasOwnProperty(ot)||Qe===at||Qe===void 0&&at===void 0||dE(f,p,ot,Qe,R,at);return}}for(var ze in S)Qe=S[ze],S.hasOwnProperty(ze)&&Qe!=null&&!R.hasOwnProperty(ze)&&$r(f,p,ze,null,R,Qe);for(pt in R)Qe=R[pt],at=S[pt],!R.hasOwnProperty(pt)||Qe===at||Qe==null&&at==null||$r(f,p,pt,Qe,R,at)}function ON(f){switch(f){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aie(){if(typeof performance.getEntriesByType=="function"){for(var f=0,p=0,S=performance.getEntriesByType("resource"),R=0;R<S.length;R++){var B=S[R],G=B.transferSize,se=B.initiatorType,fe=B.duration;if(G&&fe&&ON(se)){for(se=0,fe=B.responseEnd,R+=1;R<S.length;R++){var Te=S[R],We=Te.startTime;if(We>fe)break;var ot=Te.transferSize,pt=Te.initiatorType;ot&&ON(pt)&&(Te=Te.responseEnd,se+=ot*(Te<fe?1:(fe-We)/(Te-We)))}if(--R,p+=8*(G+se)/(B.duration/1e3),f++,10<f)break}}if(0<f)return p/f/1e6}return navigator.connection&&(f=navigator.connection.downlink,typeof f=="number")?f:5}var fE=null,hE=null;function K3(f){return f.nodeType===9?f:f.ownerDocument}function DN(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function NN(f,p){if(f===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&p==="foreignObject"?0:f}function pE(f,p){return f==="textarea"||f==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var mE=null;function iie(){var f=window.event;return f&&f.type==="popstate"?f===mE?!1:(mE=f,!0):(mE=null,!1)}var MN=typeof setTimeout=="function"?setTimeout:void 0,sie=typeof clearTimeout=="function"?clearTimeout:void 0,PN=typeof Promise=="function"?Promise:void 0,oie=typeof queueMicrotask=="function"?queueMicrotask:typeof PN<"u"?function(f){return PN.resolve(null).then(f).catch(lie)}:MN;function lie(f){setTimeout(function(){throw f})}function jh(f){return f==="head"}function LN(f,p){var S=p,R=0;do{var B=S.nextSibling;if(f.removeChild(S),B&&B.nodeType===8)if(S=B.data,S==="/$"||S==="/&"){if(R===0){f.removeChild(B),Y0(p);return}R--}else if(S==="$"||S==="$?"||S==="$~"||S==="$!"||S==="&")R++;else if(S==="html")cx(f.ownerDocument.documentElement);else if(S==="head"){S=f.ownerDocument.head,cx(S);for(var G=S.firstChild;G;){var se=G.nextSibling,fe=G.nodeName;G[as]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&G.rel.toLowerCase()==="stylesheet"||S.removeChild(G),G=se}}else S==="body"&&cx(f.ownerDocument.body);S=B}while(S);Y0(p)}function zN(f,p){var S=f;f=0;do{var R=S.nextSibling;if(S.nodeType===1?p?(S._stashedDisplay=S.style.display,S.style.display="none"):(S.style.display=S._stashedDisplay||"",S.getAttribute("style")===""&&S.removeAttribute("style")):S.nodeType===3&&(p?(S._stashedText=S.nodeValue,S.nodeValue=""):S.nodeValue=S._stashedText||""),R&&R.nodeType===8)if(S=R.data,S==="/$"){if(f===0)break;f--}else S!=="$"&&S!=="$?"&&S!=="$~"&&S!=="$!"||f++;S=R}while(S)}function gE(f){var p=f.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var S=p;switch(p=p.nextSibling,S.nodeName){case"HTML":case"HEAD":case"BODY":gE(S),As(S);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(S.rel.toLowerCase()==="stylesheet")continue}f.removeChild(S)}}function cie(f,p,S,R){for(;f.nodeType===1;){var B=S;if(f.nodeName.toLowerCase()!==p.toLowerCase()){if(!R&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(R){if(!f[as])switch(p){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(G=f.getAttribute("rel"),G==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(G!==B.rel||f.getAttribute("href")!==(B.href==null||B.href===""?null:B.href)||f.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin)||f.getAttribute("title")!==(B.title==null?null:B.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(G=f.getAttribute("src"),(G!==(B.src==null?null:B.src)||f.getAttribute("type")!==(B.type==null?null:B.type)||f.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin))&&G&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(p==="input"&&f.type==="hidden"){var G=B.name==null?null:""+B.name;if(B.type==="hidden"&&f.getAttribute("name")===G)return f}else return f;if(f=cc(f.nextSibling),f===null)break}return null}function uie(f,p,S){if(p==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!S||(f=cc(f.nextSibling),f===null))return null;return f}function FN(f,p){for(;f.nodeType!==8;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!p||(f=cc(f.nextSibling),f===null))return null;return f}function yE(f){return f.data==="$?"||f.data==="$~"}function bE(f){return f.data==="$!"||f.data==="$?"&&f.ownerDocument.readyState!=="loading"}function die(f,p){var S=f.ownerDocument;if(f.data==="$~")f._reactRetry=p;else if(f.data!=="$?"||S.readyState!=="loading")p();else{var R=function(){p(),S.removeEventListener("DOMContentLoaded",R)};S.addEventListener("DOMContentLoaded",R),f._reactRetry=R}}function cc(f){for(;f!=null;f=f.nextSibling){var p=f.nodeType;if(p===1||p===3)break;if(p===8){if(p=f.data,p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"||p==="F!"||p==="F")break;if(p==="/$"||p==="/&")return null}}return f}var xE=null;function BN(f){f=f.nextSibling;for(var p=0;f;){if(f.nodeType===8){var S=f.data;if(S==="/$"||S==="/&"){if(p===0)return cc(f.nextSibling);p--}else S!=="$"&&S!=="$!"&&S!=="$?"&&S!=="$~"&&S!=="&"||p++}f=f.nextSibling}return null}function HN(f){f=f.previousSibling;for(var p=0;f;){if(f.nodeType===8){var S=f.data;if(S==="$"||S==="$!"||S==="$?"||S==="$~"||S==="&"){if(p===0)return f;p--}else S!=="/$"&&S!=="/&"||p++}f=f.previousSibling}return null}function UN(f,p,S){switch(p=K3(S),f){case"html":if(f=p.documentElement,!f)throw Error(r(452));return f;case"head":if(f=p.head,!f)throw Error(r(453));return f;case"body":if(f=p.body,!f)throw Error(r(454));return f;default:throw Error(r(451))}}function cx(f){for(var p=f.attributes;p.length;)f.removeAttributeNode(p[0]);As(f)}var uc=new Map,$N=new Set;function X3(f){return typeof f.getRootNode=="function"?f.getRootNode():f.nodeType===9?f:f.ownerDocument}var bf=V.d;V.d={f:fie,r:hie,D:pie,C:mie,L:gie,m:yie,X:xie,S:bie,M:vie};function fie(){var f=bf.f(),p=_l();return f||p}function hie(f){var p=is(f);p!==null&&p.tag===5&&p.type==="form"?O3(p):bf.r(f)}var q0=typeof document>"u"?null:document;function GN(f,p,S){var R=q0;if(R&&typeof p=="string"&&p){var B=la(p);B='link[rel="'+f+'"][href="'+B+'"]',typeof S=="string"&&(B+='[crossorigin="'+S+'"]'),$N.has(B)||($N.add(B),f={rel:f,crossOrigin:S,href:p},R.querySelector(B)===null&&(p=R.createElement("link"),bs(p,"link",f),Sr(p),R.head.appendChild(p)))}}function pie(f){bf.D(f),GN("dns-prefetch",f,null)}function mie(f,p){bf.C(f,p),GN("preconnect",f,p)}function gie(f,p,S){bf.L(f,p,S);var R=q0;if(R&&f&&p){var B='link[rel="preload"][as="'+la(p)+'"]';p==="image"&&S&&S.imageSrcSet?(B+='[imagesrcset="'+la(S.imageSrcSet)+'"]',typeof S.imageSizes=="string"&&(B+='[imagesizes="'+la(S.imageSizes)+'"]')):B+='[href="'+la(f)+'"]';var G=B;switch(p){case"style":G=V0(f);break;case"script":G=W0(f)}uc.has(G)||(f=h({rel:"preload",href:p==="image"&&S&&S.imageSrcSet?void 0:f,as:p},S),uc.set(G,f),R.querySelector(B)!==null||p==="style"&&R.querySelector(ux(G))||p==="script"&&R.querySelector(dx(G))||(p=R.createElement("link"),bs(p,"link",f),Sr(p),R.head.appendChild(p)))}}function yie(f,p){bf.m(f,p);var S=q0;if(S&&f){var R=p&&typeof p.as=="string"?p.as:"script",B='link[rel="modulepreload"][as="'+la(R)+'"][href="'+la(f)+'"]',G=B;switch(R){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":G=W0(f)}if(!uc.has(G)&&(f=h({rel:"modulepreload",href:f},p),uc.set(G,f),S.querySelector(B)===null)){switch(R){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(S.querySelector(dx(G)))return}R=S.createElement("link"),bs(R,"link",f),Sr(R),S.head.appendChild(R)}}}function bie(f,p,S){bf.S(f,p,S);var R=q0;if(R&&f){var B=Ri(R).hoistableStyles,G=V0(f);p=p||"default";var se=B.get(G);if(!se){var fe={loading:0,preload:null};if(se=R.querySelector(ux(G)))fe.loading=5;else{f=h({rel:"stylesheet",href:f,"data-precedence":p},S),(S=uc.get(G))&&vE(f,S);var Te=se=R.createElement("link");Sr(Te),bs(Te,"link",f),Te._p=new Promise(function(We,ot){Te.onload=We,Te.onerror=ot}),Te.addEventListener("load",function(){fe.loading|=1}),Te.addEventListener("error",function(){fe.loading|=2}),fe.loading|=4,Q3(se,p,R)}se={type:"stylesheet",instance:se,count:1,state:fe},B.set(G,se)}}}function xie(f,p){bf.X(f,p);var S=q0;if(S&&f){var R=Ri(S).hoistableScripts,B=W0(f),G=R.get(B);G||(G=S.querySelector(dx(B)),G||(f=h({src:f,async:!0},p),(p=uc.get(B))&&SE(f,p),G=S.createElement("script"),Sr(G),bs(G,"link",f),S.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},R.set(B,G))}}function vie(f,p){bf.M(f,p);var S=q0;if(S&&f){var R=Ri(S).hoistableScripts,B=W0(f),G=R.get(B);G||(G=S.querySelector(dx(B)),G||(f=h({src:f,async:!0,type:"module"},p),(p=uc.get(B))&&SE(f,p),G=S.createElement("script"),Sr(G),bs(G,"link",f),S.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},R.set(B,G))}}function qN(f,p,S,R){var B=(B=ie.current)?X3(B):null;if(!B)throw Error(r(446));switch(f){case"meta":case"title":return null;case"style":return typeof S.precedence=="string"&&typeof S.href=="string"?(p=V0(S.href),S=Ri(B).hoistableStyles,R=S.get(p),R||(R={type:"style",instance:null,count:0,state:null},S.set(p,R)),R):{type:"void",instance:null,count:0,state:null};case"link":if(S.rel==="stylesheet"&&typeof S.href=="string"&&typeof S.precedence=="string"){f=V0(S.href);var G=Ri(B).hoistableStyles,se=G.get(f);if(se||(B=B.ownerDocument||B,se={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},G.set(f,se),(G=B.querySelector(ux(f)))&&!G._p&&(se.instance=G,se.state.loading=5),uc.has(f)||(S={rel:"preload",as:"style",href:S.href,crossOrigin:S.crossOrigin,integrity:S.integrity,media:S.media,hrefLang:S.hrefLang,referrerPolicy:S.referrerPolicy},uc.set(f,S),G||Sie(B,f,S,se.state))),p&&R===null)throw Error(r(528,""));return se}if(p&&R!==null)throw Error(r(529,""));return null;case"script":return p=S.async,S=S.src,typeof S=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=W0(S),S=Ri(B).hoistableScripts,R=S.get(p),R||(R={type:"script",instance:null,count:0,state:null},S.set(p,R)),R):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,f))}}function V0(f){return'href="'+la(f)+'"'}function ux(f){return'link[rel="stylesheet"]['+f+"]"}function VN(f){return h({},f,{"data-precedence":f.precedence,precedence:null})}function Sie(f,p,S,R){f.querySelector('link[rel="preload"][as="style"]['+p+"]")?R.loading=1:(p=f.createElement("link"),R.preload=p,p.addEventListener("load",function(){return R.loading|=1}),p.addEventListener("error",function(){return R.loading|=2}),bs(p,"link",S),Sr(p),f.head.appendChild(p))}function W0(f){return'[src="'+la(f)+'"]'}function dx(f){return"script[async]"+f}function WN(f,p,S){if(p.count++,p.instance===null)switch(p.type){case"style":var R=f.querySelector('style[data-href~="'+la(S.href)+'"]');if(R)return p.instance=R,Sr(R),R;var B=h({},S,{"data-href":S.href,"data-precedence":S.precedence,href:null,precedence:null});return R=(f.ownerDocument||f).createElement("style"),Sr(R),bs(R,"style",B),Q3(R,S.precedence,f),p.instance=R;case"stylesheet":B=V0(S.href);var G=f.querySelector(ux(B));if(G)return p.state.loading|=4,p.instance=G,Sr(G),G;R=VN(S),(B=uc.get(B))&&vE(R,B),G=(f.ownerDocument||f).createElement("link"),Sr(G);var se=G;return se._p=new Promise(function(fe,Te){se.onload=fe,se.onerror=Te}),bs(G,"link",R),p.state.loading|=4,Q3(G,S.precedence,f),p.instance=G;case"script":return G=W0(S.src),(B=f.querySelector(dx(G)))?(p.instance=B,Sr(B),B):(R=S,(B=uc.get(G))&&(R=h({},S),SE(R,B)),f=f.ownerDocument||f,B=f.createElement("script"),Sr(B),bs(B,"link",R),f.head.appendChild(B),p.instance=B);case"void":return null;default:throw Error(r(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(R=p.instance,p.state.loading|=4,Q3(R,S.precedence,f));return p.instance}function Q3(f,p,S){for(var R=S.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),B=R.length?R[R.length-1]:null,G=B,se=0;se<R.length;se++){var fe=R[se];if(fe.dataset.precedence===p)G=fe;else if(G!==B)break}G?G.parentNode.insertBefore(f,G.nextSibling):(p=S.nodeType===9?S.head:S,p.insertBefore(f,p.firstChild))}function vE(f,p){f.crossOrigin==null&&(f.crossOrigin=p.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=p.referrerPolicy),f.title==null&&(f.title=p.title)}function SE(f,p){f.crossOrigin==null&&(f.crossOrigin=p.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=p.referrerPolicy),f.integrity==null&&(f.integrity=p.integrity)}var Z3=null;function YN(f,p,S){if(Z3===null){var R=new Map,B=Z3=new Map;B.set(S,R)}else B=Z3,R=B.get(S),R||(R=new Map,B.set(S,R));if(R.has(f))return R;for(R.set(f,null),S=S.getElementsByTagName(f),B=0;B<S.length;B++){var G=S[B];if(!(G[as]||G[vr]||f==="link"&&G.getAttribute("rel")==="stylesheet")&&G.namespaceURI!=="http://www.w3.org/2000/svg"){var se=G.getAttribute(p)||"";se=f+se;var fe=R.get(se);fe?fe.push(G):R.set(se,[G])}}return R}function KN(f,p,S){f=f.ownerDocument||f,f.head.insertBefore(S,p==="title"?f.querySelector("head > title"):null)}function _ie(f,p,S){if(S===1||p.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return f=p.disabled,typeof p.precedence=="string"&&f==null;default:return!0}case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function XN(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}function Cie(f,p,S,R){if(S.type==="stylesheet"&&(typeof R.media!="string"||matchMedia(R.media).matches!==!1)&&(S.state.loading&4)===0){if(S.instance===null){var B=V0(R.href),G=p.querySelector(ux(B));if(G){p=G._p,p!==null&&typeof p=="object"&&typeof p.then=="function"&&(f.count++,f=J3.bind(f),p.then(f,f)),S.state.loading|=4,S.instance=G,Sr(G);return}G=p.ownerDocument||p,R=VN(R),(B=uc.get(B))&&vE(R,B),G=G.createElement("link"),Sr(G);var se=G;se._p=new Promise(function(fe,Te){se.onload=fe,se.onerror=Te}),bs(G,"link",R),S.instance=G}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(S,p),(p=S.state.preload)&&(S.state.loading&3)===0&&(f.count++,S=J3.bind(f),p.addEventListener("load",S),p.addEventListener("error",S))}}var _E=0;function wie(f,p){return f.stylesheets&&f.count===0&&t_(f,f.stylesheets),0<f.count||0<f.imgCount?function(S){var R=setTimeout(function(){if(f.stylesheets&&t_(f,f.stylesheets),f.unsuspend){var G=f.unsuspend;f.unsuspend=null,G()}},6e4+p);0<f.imgBytes&&_E===0&&(_E=62500*aie());var B=setTimeout(function(){if(f.waitingForImages=!1,f.count===0&&(f.stylesheets&&t_(f,f.stylesheets),f.unsuspend)){var G=f.unsuspend;f.unsuspend=null,G()}},(f.imgBytes>_E?50:800)+p);return f.unsuspend=S,function(){f.unsuspend=null,clearTimeout(R),clearTimeout(B)}}:null}function J3(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)t_(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var e_=null;function t_(f,p){f.stylesheets=null,f.unsuspend!==null&&(f.count++,e_=new Map,p.forEach(Eie,f),e_=null,J3.call(f))}function Eie(f,p){if(!(p.state.loading&4)){var S=e_.get(f);if(S)var R=S.get(null);else{S=new Map,e_.set(f,S);for(var B=f.querySelectorAll("link[data-precedence],style[data-precedence]"),G=0;G<B.length;G++){var se=B[G];(se.nodeName==="LINK"||se.getAttribute("media")!=="not all")&&(S.set(se.dataset.precedence,se),R=se)}R&&S.set(null,R)}B=p.instance,se=B.getAttribute("data-precedence"),G=S.get(se)||R,G===R&&S.set(null,B),S.set(se,B),this.count++,R=J3.bind(this),B.addEventListener("load",R),B.addEventListener("error",R),G?G.parentNode.insertBefore(B,G.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(B,f.firstChild)),p.state.loading|=4}}var fx={$$typeof:T,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function Tie(f,p,S,R,B,G,se,fe,Te){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tn(0),this.hiddenUpdates=Tn(null),this.identifierPrefix=R,this.onUncaughtError=B,this.onCaughtError=G,this.onRecoverableError=se,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Te,this.incompleteTransitions=new Map}function QN(f,p,S,R,B,G,se,fe,Te,We,ot,pt){return f=new Tie(f,p,S,se,Te,We,ot,pt,fe),p=1,G===!0&&(p|=24),G=ca(3,null,null,p),f.current=G,G.stateNode=f,p=gb(),p.refCount++,f.pooledCache=p,p.refCount++,G.memoizedState={element:R,isDehydrated:S,cache:p},im(G),f}function ZN(f){return f?(f=Pu,f):Pu}function JN(f,p,S,R,B,G){B=ZN(B),R.context===null?R.context=B:R.pendingContext=B,R=Qc(p),R.payload={element:S},G=G===void 0?null:G,G!==null&&(R.callback=G),S=Gu(f,R,p),S!==null&&(Pn(S,f,p),qu(S,f,p))}function eM(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var S=f.retryLane;f.retryLane=S!==0&&S<p?S:p}}function CE(f,p){eM(f,p),(f=f.alternate)&&eM(f,p)}function tM(f){if(f.tag===13||f.tag===31){var p=us(f,67108864);p!==null&&Pn(p,f,67108864),CE(f,67108864)}}function nM(f){if(f.tag===13||f.tag===31){var p=co();p=xr(p);var S=us(f,p);S!==null&&Pn(S,f,p),CE(f,p)}}var n_=!0;function Aie(f,p,S,R){var B=L.T;L.T=null;var G=V.p;try{V.p=2,wE(f,p,S,R)}finally{V.p=G,L.T=B}}function Rie(f,p,S,R){var B=L.T;L.T=null;var G=V.p;try{V.p=8,wE(f,p,S,R)}finally{V.p=G,L.T=B}}function wE(f,p,S,R){if(n_){var B=EE(R);if(B===null)uE(f,p,R,r_,S),aM(f,R);else if(Iie(B,f,p,S,R))R.stopPropagation();else if(aM(f,R),p&4&&-1<kie.indexOf(f)){for(;B!==null;){var G=is(B);if(G!==null)switch(G.tag){case 3:if(G=G.stateNode,G.current.memoizedState.isDehydrated){var se=xt(G.pendingLanes);if(se!==0){var fe=G;for(fe.pendingLanes|=2,fe.entangledLanes|=2;se;){var Te=1<<31-dt(se);fe.entanglements[1]|=Te,se&=~Te}St(G),(nn&6)===0&&(La=ke()+500,Vt(0))}}break;case 31:case 13:fe=us(G,2),fe!==null&&Pn(fe,G,2),_l(),CE(G,2)}if(G=EE(R),G===null&&uE(f,p,R,r_,S),G===B)break;B=G}B!==null&&R.stopPropagation()}else uE(f,p,R,null,S)}}function EE(f){return f=pl(f),TE(f)}var r_=null;function TE(f){if(r_=null,f=Zs(f),f!==null){var p=i(f);if(p===null)f=null;else{var S=p.tag;if(S===13){if(f=s(p),f!==null)return f;f=null}else if(S===31){if(f=o(p),f!==null)return f;f=null}else if(S===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;f=null}else p!==f&&(f=null)}}return r_=f,null}function rM(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ie()){case ye:return 2;case Ce:return 8;case Ne:case Be:return 32;case Ke:return 268435456;default:return 32}default:return 32}}var AE=!1,Oh=null,Dh=null,Nh=null,hx=new Map,px=new Map,Mh=[],kie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aM(f,p){switch(f){case"focusin":case"focusout":Oh=null;break;case"dragenter":case"dragleave":Dh=null;break;case"mouseover":case"mouseout":Nh=null;break;case"pointerover":case"pointerout":hx.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":px.delete(p.pointerId)}}function mx(f,p,S,R,B,G){return f===null||f.nativeEvent!==G?(f={blockedOn:p,domEventName:S,eventSystemFlags:R,nativeEvent:G,targetContainers:[B]},p!==null&&(p=is(p),p!==null&&tM(p)),f):(f.eventSystemFlags|=R,p=f.targetContainers,B!==null&&p.indexOf(B)===-1&&p.push(B),f)}function Iie(f,p,S,R,B){switch(p){case"focusin":return Oh=mx(Oh,f,p,S,R,B),!0;case"dragenter":return Dh=mx(Dh,f,p,S,R,B),!0;case"mouseover":return Nh=mx(Nh,f,p,S,R,B),!0;case"pointerover":var G=B.pointerId;return hx.set(G,mx(hx.get(G)||null,f,p,S,R,B)),!0;case"gotpointercapture":return G=B.pointerId,px.set(G,mx(px.get(G)||null,f,p,S,R,B)),!0}return!1}function iM(f){var p=Zs(f.target);if(p!==null){var S=i(p);if(S!==null){if(p=S.tag,p===13){if(p=s(S),p!==null){f.blockedOn=p,sa(f.priority,function(){nM(S)});return}}else if(p===31){if(p=o(S),p!==null){f.blockedOn=p,sa(f.priority,function(){nM(S)});return}}else if(p===3&&S.stateNode.current.memoizedState.isDehydrated){f.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}f.blockedOn=null}function a_(f){if(f.blockedOn!==null)return!1;for(var p=f.targetContainers;0<p.length;){var S=EE(f.nativeEvent);if(S===null){S=f.nativeEvent;var R=new S.constructor(S.type,S);hl=R,S.target.dispatchEvent(R),hl=null}else return p=is(S),p!==null&&tM(p),f.blockedOn=S,!1;p.shift()}return!0}function sM(f,p,S){a_(f)&&S.delete(p)}function jie(){AE=!1,Oh!==null&&a_(Oh)&&(Oh=null),Dh!==null&&a_(Dh)&&(Dh=null),Nh!==null&&a_(Nh)&&(Nh=null),hx.forEach(sM),px.forEach(sM)}function i_(f,p){f.blockedOn===p&&(f.blockedOn=null,AE||(AE=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jie)))}var s_=null;function oM(f){s_!==f&&(s_=f,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){s_===f&&(s_=null);for(var p=0;p<f.length;p+=3){var S=f[p],R=f[p+1],B=f[p+2];if(typeof R!="function"){if(TE(R||S)===null)continue;break}var G=is(S);G!==null&&(f.splice(p,3),p-=3,$b(G,{pending:!0,data:B,method:S.method,action:R},R,B))}}))}function Y0(f){function p(Te){return i_(Te,f)}Oh!==null&&i_(Oh,f),Dh!==null&&i_(Dh,f),Nh!==null&&i_(Nh,f),hx.forEach(p),px.forEach(p);for(var S=0;S<Mh.length;S++){var R=Mh[S];R.blockedOn===f&&(R.blockedOn=null)}for(;0<Mh.length&&(S=Mh[0],S.blockedOn===null);)iM(S),S.blockedOn===null&&Mh.shift();if(S=(f.ownerDocument||f).$$reactFormReplay,S!=null)for(R=0;R<S.length;R+=3){var B=S[R],G=S[R+1],se=B[Fr]||null;if(typeof G=="function")se||oM(S);else if(se){var fe=null;if(G&&G.hasAttribute("formAction")){if(B=G,se=G[Fr]||null)fe=se.formAction;else if(TE(B)!==null)continue}else fe=se.action;typeof fe=="function"?S[R+1]=fe:(S.splice(R,3),R-=3),oM(S)}}}function lM(){function f(G){G.canIntercept&&G.info==="react-transition"&&G.intercept({handler:function(){return new Promise(function(se){return B=se})},focusReset:"manual",scroll:"manual"})}function p(){B!==null&&(B(),B=null),R||setTimeout(S,20)}function S(){if(!R&&!navigation.transition){var G=navigation.currentEntry;G&&G.url!=null&&navigation.navigate(G.url,{state:G.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var R=!1,B=null;return navigation.addEventListener("navigate",f),navigation.addEventListener("navigatesuccess",p),navigation.addEventListener("navigateerror",p),setTimeout(S,100),function(){R=!0,navigation.removeEventListener("navigate",f),navigation.removeEventListener("navigatesuccess",p),navigation.removeEventListener("navigateerror",p),B!==null&&(B(),B=null)}}}function RE(f){this._internalRoot=f}o_.prototype.render=RE.prototype.render=function(f){var p=this._internalRoot;if(p===null)throw Error(r(409));var S=p.current,R=co();JN(S,R,f,p,null,null)},o_.prototype.unmount=RE.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var p=f.containerInfo;JN(f.current,2,null,f,null,null),_l(),p[Es]=null}};function o_(f){this._internalRoot=f}o_.prototype.unstable_scheduleHydration=function(f){if(f){var p=jr();f={blockedOn:null,target:f,priority:p};for(var S=0;S<Mh.length&&p!==0&&p<Mh[S].priority;S++);Mh.splice(S,0,f),S===0&&iM(f)}};var cM=e.version;if(cM!=="19.2.0")throw Error(r(527,cM,"19.2.0"));V.findDOMNode=function(f){var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=u(p),f=f!==null?d(f):null,f=f===null?null:f.stateNode,f};var Oie={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var l_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!l_.isDisabled&&l_.supportsFiber)try{it=l_.inject(Oie),ct=l_}catch{}}return yx.createRoot=function(f,p){if(!a(f))throw Error(r(299));var S=!1,R="",B=F3,G=Kb,se=Xb;return p!=null&&(p.unstable_strictMode===!0&&(S=!0),p.identifierPrefix!==void 0&&(R=p.identifierPrefix),p.onUncaughtError!==void 0&&(B=p.onUncaughtError),p.onCaughtError!==void 0&&(G=p.onCaughtError),p.onRecoverableError!==void 0&&(se=p.onRecoverableError)),p=QN(f,1,!1,null,null,S,R,null,B,G,se,lM),f[Es]=p.current,cE(f),new RE(p)},yx.hydrateRoot=function(f,p,S){if(!a(f))throw Error(r(299));var R=!1,B="",G=F3,se=Kb,fe=Xb,Te=null;return S!=null&&(S.unstable_strictMode===!0&&(R=!0),S.identifierPrefix!==void 0&&(B=S.identifierPrefix),S.onUncaughtError!==void 0&&(G=S.onUncaughtError),S.onCaughtError!==void 0&&(se=S.onCaughtError),S.onRecoverableError!==void 0&&(fe=S.onRecoverableError),S.formState!==void 0&&(Te=S.formState)),p=QN(f,1,!0,p,S??null,R,B,Te,G,se,fe,lM),p.context=ZN(null),S=p.current,R=co(),R=xr(R),B=Qc(R),B.callback=null,Gu(S,B,R),S=R,p.current.lanes=S,Et(p,S),St(p),f[Es]=p.current,cE(f),new o_(p)},yx.version="19.2.0",yx}var xM;function Hie(){if(xM)return jE.exports;xM=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jE.exports=Bie(),jE.exports}var Uie=Hie(),ME={exports:{}},PE={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vM;function $ie(){if(vM)return PE;vM=1;var t=kg().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return PE.c=function(e){return t.H.useMemoCache(e)},PE}var SM;function Gie(){return SM||(SM=1,ME.exports=$ie()),ME.exports}var bt=Gie();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _M="popstate";function qie(t={}){function e(a,i){let{pathname:s="/",search:o="",hash:l=""}=Ig(a.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),ck("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){let s=a.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let l=a.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof i=="string"?i:K2(i))}function r(a,i){jl(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return Wie(e,n,r,t)}function ka(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Vie(){return Math.random().toString(36).substring(2,10)}function CM(t,e){return{usr:t.state,key:t.key,idx:e}}function ck(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ig(e):e,state:n,key:e&&e.key||r||Vie()}}function K2({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ig(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Wie(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,s=a.history,o="POP",l=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function h(){o="POP";let _=d(),C=_==null?null:_-u;u=_,l&&l({action:o,location:v.location,delta:C})}function m(_,C){o="PUSH";let w=ck(v.location,_,C);n&&n(w,_),u=d()+1;let T=CM(w,u),E=v.createHref(w);try{s.pushState(T,"",E)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(E)}i&&l&&l({action:o,location:v.location,delta:1})}function y(_,C){o="REPLACE";let w=ck(v.location,_,C);n&&n(w,_),u=d();let T=CM(w,u),E=v.createHref(w);s.replaceState(T,"",E),i&&l&&l({action:o,location:v.location,delta:0})}function x(_){return Yie(_)}let v={get action(){return o},get location(){return t(a,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(_M,h),l=_,()=>{a.removeEventListener(_M,h),l=null}},createHref(_){return e(a,_)},createURL:x,encodeLocation(_){let C=x(_);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:m,replace:y,go(_){return s.go(_)}};return v}function Yie(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ka(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:K2(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function jY(t,e,n="/"){return Kie(t,e,n,!1)}function Kie(t,e,n,r){let a=typeof e=="string"?Ig(e):e,i=Pf(a.pathname||"/",n);if(i==null)return null;let s=OY(t);Xie(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=ose(i);o=ise(s[l],u,r)}return o}function OY(t,e=[],n=[],r="",a=!1){let i=(s,o,l=a,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;ka(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let h=Df([r,d.relativePath]),m=n.concat(d);s.children&&s.children.length>0&&(ka(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),OY(s.children,e,m,h,l)),!(s.path==null&&!s.index)&&e.push({path:h,score:rse(h,s.index),routesMeta:m})};return t.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))i(s,o);else for(let l of DY(s.path))i(s,o,!0,l)}),e}function DY(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let s=DY(r.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Xie(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ase(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Qie=/^:[\w-]+$/,Zie=3,Jie=2,ese=1,tse=10,nse=-2,wM=t=>t==="*";function rse(t,e){let n=t.split("/"),r=n.length;return n.some(wM)&&(r+=nse),e&&(r+=Jie),n.filter(a=>!wM(a)).reduce((a,i)=>a+(Qie.test(i)?Zie:i===""?ese:tse),r)}function ase(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function ise(t,e,n=!1){let{routesMeta:r}=t,a={},i="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Y4({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),m=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Y4({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(a,h.params),s.push({params:a,pathname:Df([i,h.pathname]),pathnameBase:dse(Df([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Df([i,h.pathnameBase]))}return s}function Y4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=sse(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},m)=>{if(d==="*"){let x=o[m]||"";s=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const y=o[m];return h&&!y?u[d]=void 0:u[d]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:t}}function sse(t,e=!1,n=!0){jl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function ose(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jl(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Pf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function lse(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Ig(t):t;return{pathname:n?n.startsWith("/")?n:cse(n,e):e,search:fse(r),hash:hse(a)}}function cse(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function LE(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function use(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Nj(t){let e=use(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Mj(t,e,n,r=!1){let a;typeof t=="string"?a=Ig(t):(a={...t},ka(!a.pathname||!a.pathname.includes("?"),LE("?","pathname","search",a)),ka(!a.pathname||!a.pathname.includes("#"),LE("#","pathname","hash",a)),ka(!a.search||!a.search.includes("#"),LE("#","search","hash",a)));let i=t===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),h-=1;a.pathname=m.join("/")}o=h>=0?e[h]:"/"}let l=lse(a,o),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var Df=t=>t.join("/").replace(/\/\/+/g,"/"),dse=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fse=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hse=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var NY=["POST","PUT","PATCH","DELETE"];new Set(NY);var mse=["GET",...NY];new Set(mse);var yy=A.createContext(null);yy.displayName="DataRouter";var t5=A.createContext(null);t5.displayName="DataRouterState";A.createContext(!1);var MY=A.createContext({isTransitioning:!1});MY.displayName="ViewTransition";var gse=A.createContext(new Map);gse.displayName="Fetchers";var yse=A.createContext(null);yse.displayName="Await";var _u=A.createContext(null);_u.displayName="Navigation";var Fv=A.createContext(null);Fv.displayName="Location";var Cu=A.createContext({outlet:null,matches:[],isDataRoute:!1});Cu.displayName="Route";var Pj=A.createContext(null);Pj.displayName="RouteError";function bse(t,{relative:e}={}){ka(by(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(_u),{hash:a,pathname:i,search:s}=Bv(t,{relative:e}),o=i;return n!=="/"&&(o=i==="/"?n:Df([n,i])),r.createHref({pathname:o,search:s,hash:a})}function by(){return A.useContext(Fv)!=null}function Dd(){return ka(by(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Fv).location}var PY="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LY(t){A.useContext(_u).static||A.useLayoutEffect(t)}function Gf(){let{isDataRoute:t}=A.useContext(Cu);return t?jse():xse()}function xse(){ka(by(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(yy),{basename:e,navigator:n}=A.useContext(_u),{matches:r}=A.useContext(Cu),{pathname:a}=Dd(),i=JSON.stringify(Nj(r)),s=A.useRef(!1);return LY(()=>{s.current=!0}),A.useCallback((l,u={})=>{if(jl(s.current,PY),!s.current)return;if(typeof l=="number"){n.go(l);return}let d=Mj(l,JSON.parse(i),a,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Df([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,i,a,t])}A.createContext(null);function Lj(){let{matches:t}=A.useContext(Cu),e=t[t.length-1];return e?e.params:{}}function Bv(t,{relative:e}={}){let{matches:n}=A.useContext(Cu),{pathname:r}=Dd(),a=JSON.stringify(Nj(n));return A.useMemo(()=>Mj(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function vse(t,e){return zY(t,e)}function zY(t,e,n,r,a){ka(by(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=A.useContext(_u),{matches:s}=A.useContext(Cu),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let w=h&&h.path||"";FY(u,!h||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let m=Dd(),y;if(e){let w=typeof e=="string"?Ig(e):e;ka(d==="/"||w.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${w.pathname}" was given in the \`location\` prop.`),y=w}else y=m;let x=y.pathname||"/",v=x;if(d!=="/"){let w=d.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(w.length).join("/")}let _=jY(t,{pathname:v});jl(h||_!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),jl(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Ese(_&&_.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Df([d,i.encodeLocation?i.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:Df([d,i.encodeLocation?i.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),s,n,r,a);return e&&C?A.createElement(Fv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},C):C}function Sse(){let t=Ise(),e=pse(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:i},"ErrorBoundary")," or"," ",A.createElement("code",{style:i},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:a},n):null,s)}var _se=A.createElement(Sse,null),Cse=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?A.createElement(Cu.Provider,{value:this.props.routeContext},A.createElement(Pj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wse({routeContext:t,match:e,children:n}){let r=A.useContext(yy);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Cu.Provider,{value:t},n)}function Ese(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n?.errors;if(s!=null){let u=i.findIndex(d=>d.route.id&&s?.[d.route.id]!==void 0);ka(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,l=-1;if(n)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:h,errors:m}=n,y=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,d,h)=>{let m,y=!1,x=null,v=null;n&&(m=s&&d.route.id?s[d.route.id]:void 0,x=d.route.errorElement||_se,o&&(l<0&&h===0?(FY("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,v=null):l===h&&(y=!0,v=d.route.hydrateFallbackElement||null)));let _=e.concat(i.slice(0,h+1)),C=()=>{let w;return m?w=x:y?w=v:d.route.Component?w=A.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,A.createElement(wse,{match:d,routeContext:{outlet:u,matches:_,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?A.createElement(Cse,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:r}):C()},null)}function zj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tse(t){let e=A.useContext(yy);return ka(e,zj(t)),e}function Ase(t){let e=A.useContext(t5);return ka(e,zj(t)),e}function Rse(t){let e=A.useContext(Cu);return ka(e,zj(t)),e}function Fj(t){let e=Rse(t),n=e.matches[e.matches.length-1];return ka(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function kse(){return Fj("useRouteId")}function Ise(){let t=A.useContext(Pj),e=Ase("useRouteError"),n=Fj("useRouteError");return t!==void 0?t:e.errors?.[n]}function jse(){let{router:t}=Tse("useNavigate"),e=Fj("useNavigate"),n=A.useRef(!1);return LY(()=>{n.current=!0}),A.useCallback(async(a,i={})=>{jl(n.current,PY),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var EM={};function FY(t,e,n){!e&&!EM[t]&&(EM[t]=!0,jl(!1,n))}A.memo(Ose);function Ose({routes:t,future:e,state:n,unstable_onError:r}){return zY(t,void 0,n,r,e)}function Dse({to:t,replace:e,state:n,relative:r}){ka(by(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=A.useContext(_u);jl(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=A.useContext(Cu),{pathname:s}=Dd(),o=Gf(),l=Mj(t,Nj(i),s,r==="path"),u=JSON.stringify(l);return A.useEffect(()=>{o(JSON.parse(u),{replace:e,state:n,relative:r})},[o,u,r,e,n]),null}function uo(t){ka(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Nse({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:i=!1}){ka(!by(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),o=A.useMemo(()=>({basename:s,navigator:a,static:i,future:{}}),[s,a,i]);typeof n=="string"&&(n=Ig(n));let{pathname:l="/",search:u="",hash:d="",state:h=null,key:m="default"}=n,y=A.useMemo(()=>{let x=Pf(l,s);return x==null?null:{location:{pathname:x,search:u,hash:d,state:h,key:m},navigationType:r}},[s,l,u,d,h,m,r]);return jl(y!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:A.createElement(_u.Provider,{value:o},A.createElement(Fv.Provider,{children:e,value:y}))}function TM({children:t,location:e}){return vse(uk(t),e)}function uk(t,e=[]){let n=[];return A.Children.forEach(t,(r,a)=>{if(!A.isValidElement(r))return;let i=[...e,a];if(r.type===A.Fragment){n.push.apply(n,uk(r.props.children,i));return}ka(r.type===uo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ka(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=uk(r.props.children,i)),n.push(s)}),n}var _4="get",C4="application/x-www-form-urlencoded";function n5(t){return t!=null&&typeof t.tagName=="string"}function Mse(t){return n5(t)&&t.tagName.toLowerCase()==="button"}function Pse(t){return n5(t)&&t.tagName.toLowerCase()==="form"}function Lse(t){return n5(t)&&t.tagName.toLowerCase()==="input"}function zse(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Fse(t,e){return t.button===0&&(!e||e==="_self")&&!zse(t)}function dk(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function Bse(t,e){let n=dk(t);return e&&e.forEach((r,a)=>{n.has(a)||e.getAll(a).forEach(i=>{n.append(a,i)})}),n}var u_=null;function Hse(){if(u_===null)try{new FormData(document.createElement("form"),0),u_=!1}catch{u_=!0}return u_}var Use=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zE(t){return t!=null&&!Use.has(t)?(jl(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${C4}"`),null):t}function $se(t,e){let n,r,a,i,s;if(Pse(t)){let o=t.getAttribute("action");r=o?Pf(o,e):null,n=t.getAttribute("method")||_4,a=zE(t.getAttribute("enctype"))||C4,i=new FormData(t)}else if(Mse(t)||Lse(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?Pf(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||_4,a=zE(t.getAttribute("formenctype"))||zE(o.getAttribute("enctype"))||C4,i=new FormData(o,t),!Hse()){let{name:u,type:d,value:h}=t;if(d==="image"){let m=u?`${u}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else u&&i.append(u,h)}}else{if(n5(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_4,r=null,a=C4,s=t}return i&&a==="text/plain"&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bj(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gse(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Pf(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function qse(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Vse(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Wse(t,e,n){let r=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let s=await qse(i,n);return s.links?s.links():[]}return[]}));return Qse(r.flat(1).filter(Vse).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function AM(t,e,n,r,a,i){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,o=(l,u)=>n[u].pathname!==l.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==l.params["*"];return i==="assets"?e.filter((l,u)=>s(l,u)||o(l,u)):i==="data"?e.filter((l,u)=>{let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Yse(t,e,{includeHydrateFallback:n}={}){return Kse(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function Kse(t){return[...new Set(t)]}function Xse(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Qse(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let i=JSON.stringify(Xse(a));return n.has(i)||(n.add(i),r.push({key:i,link:a})),r},[])}function BY(){let t=A.useContext(yy);return Bj(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Zse(){let t=A.useContext(t5);return Bj(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Hj=A.createContext(void 0);Hj.displayName="FrameworkContext";function HY(){let t=A.useContext(Hj);return Bj(t,"You must render this element inside a <HydratedRouter> element"),t}function Jse(t,e){let n=A.useContext(Hj),[r,a]=A.useState(!1),[i,s]=A.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,m=A.useRef(null);A.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let v=C=>{C.forEach(w=>{s(w.isIntersecting)})},_=new IntersectionObserver(v,{threshold:.5});return m.current&&_.observe(m.current),()=>{_.disconnect()}}},[t]),A.useEffect(()=>{if(r){let v=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(v)}}},[r]);let y=()=>{a(!0)},x=()=>{a(!1),s(!1)};return n?t!=="intent"?[i,m,{}]:[i,m,{onFocus:bx(o,y),onBlur:bx(l,x),onMouseEnter:bx(u,y),onMouseLeave:bx(d,x),onTouchStart:bx(h,y)}]:[!1,m,{}]}function bx(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function eoe({page:t,...e}){let{router:n}=BY(),r=A.useMemo(()=>jY(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?A.createElement(noe,{page:t,matches:r,...e}):null}function toe(t){let{manifest:e,routeModules:n}=HY(),[r,a]=A.useState([]);return A.useEffect(()=>{let i=!1;return Wse(t,e,n).then(s=>{i||a(s)}),()=>{i=!0}},[t,e,n]),r}function noe({page:t,matches:e,...n}){let r=Dd(),{manifest:a,routeModules:i}=HY(),{basename:s}=BY(),{loaderData:o,matches:l}=Zse(),u=A.useMemo(()=>AM(t,e,l,a,r,"data"),[t,e,l,a,r]),d=A.useMemo(()=>AM(t,e,l,a,r,"assets"),[t,e,l,a,r]),h=A.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,v=!1;if(e.forEach(C=>{let w=a.routes[C.route.id];!w||!w.hasLoader||(!u.some(T=>T.route.id===C.route.id)&&C.route.id in o&&i[C.route.id]?.shouldRevalidate||w.hasClientLoader?v=!0:x.add(C.route.id))}),x.size===0)return[];let _=Gse(t,s,"data");return v&&x.size>0&&_.searchParams.set("_routes",e.filter(C=>x.has(C.route.id)).map(C=>C.route.id).join(",")),[_.pathname+_.search]},[s,o,r,a,u,e,t,i]),m=A.useMemo(()=>Yse(d,a),[d,a]),y=toe(d);return A.createElement(A.Fragment,null,h.map(x=>A.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),m.map(x=>A.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),y.map(({key:x,link:v})=>A.createElement("link",{key:x,nonce:n.nonce,...v})))}function roe(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var UY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UY&&(window.__reactRouterVersion="7.9.3")}catch{}function aoe({basename:t,children:e,window:n}){let r=A.useRef();r.current==null&&(r.current=qie({window:n,v5Compat:!0}));let a=r.current,[i,s]=A.useState({action:a.action,location:a.location}),o=A.useCallback(l=>{A.startTransition(()=>s(l))},[s]);return A.useLayoutEffect(()=>a.listen(o),[a,o]),A.createElement(Nse,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:a})}var $Y=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K4=A.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:i,replace:s,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h,...m},y){let{basename:x}=A.useContext(_u),v=typeof u=="string"&&$Y.test(u),_,C=!1;if(typeof u=="string"&&v&&(_=u,UY))try{let M=new URL(window.location.href),N=u.startsWith("//")?new URL(M.protocol+u):new URL(u),U=Pf(N.pathname,x);N.origin===M.origin&&U!=null?u=U+N.search+N.hash:C=!0}catch{jl(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=bse(u,{relative:a}),[T,E,k]=Jse(r,m),j=loe(u,{replace:s,state:o,target:l,preventScrollReset:d,relative:a,viewTransition:h});function O(M){e&&e(M),M.defaultPrevented||j(M)}let z=A.createElement("a",{...m,...k,href:_||w,onClick:C||i?e:O,ref:roe(y,E),target:l,"data-discover":!v&&n==="render"?"true":void 0});return T&&!v?A.createElement(A.Fragment,null,z,A.createElement(eoe,{page:w})):z});K4.displayName="Link";var ioe=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:i,to:s,viewTransition:o,children:l,...u},d){let h=Bv(s,{relative:u.relative}),m=Dd(),y=A.useContext(t5),{navigator:x,basename:v}=A.useContext(_u),_=y!=null&&poe(h)&&o===!0,C=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,w=m.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(w=w.toLowerCase(),T=T?T.toLowerCase():null,C=C.toLowerCase()),T&&v&&(T=Pf(T,v)||T);const E=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let k=w===C||!a&&w.startsWith(C)&&w.charAt(E)==="/",j=T!=null&&(T===C||!a&&T.startsWith(C)&&T.charAt(C.length)==="/"),O={isActive:k,isPending:j,isTransitioning:_},z=k?e:void 0,M;typeof r=="function"?M=r(O):M=[r,k?"active":null,j?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let N=typeof i=="function"?i(O):i;return A.createElement(K4,{...u,"aria-current":z,className:M,ref:d,style:N,to:s,viewTransition:o},typeof l=="function"?l(O):l)});ioe.displayName="NavLink";var soe=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:i,method:s=_4,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...m},y)=>{let x=foe(),v=hoe(o,{relative:u}),_=s.toLowerCase()==="get"?"get":"post",C=typeof o=="string"&&$Y.test(o),w=T=>{if(l&&l(T),T.defaultPrevented)return;T.preventDefault();let E=T.nativeEvent.submitter,k=E?.getAttribute("formmethod")||s;x(E||T.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:a,state:i,relative:u,preventScrollReset:d,viewTransition:h})};return A.createElement("form",{ref:y,method:_,action:v,onSubmit:r?l:w,...m,"data-discover":!C&&t==="render"?"true":void 0})});soe.displayName="Form";function ooe(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GY(t){let e=A.useContext(yy);return ka(e,ooe(t)),e}function loe(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:s}={}){let o=Gf(),l=Dd(),u=Bv(t,{relative:i});return A.useCallback(d=>{if(Fse(d,e)){d.preventDefault();let h=n!==void 0?n:K2(l)===K2(u);o(t,{replace:h,state:r,preventScrollReset:a,relative:i,viewTransition:s})}},[l,o,u,n,r,e,t,a,i,s])}function coe(t){jl(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=A.useRef(dk(t)),n=A.useRef(!1),r=Dd(),a=A.useMemo(()=>Bse(r.search,n.current?null:e.current),[r.search]),i=Gf(),s=A.useCallback((o,l)=>{const u=dk(typeof o=="function"?o(new URLSearchParams(a)):o);n.current=!0,i("?"+u,l)},[i,a]);return[a,s]}var uoe=0,doe=()=>`__${String(++uoe)}__`;function foe(){let{router:t}=GY("useSubmit"),{basename:e}=A.useContext(_u),n=kse();return A.useCallback(async(r,a={})=>{let{action:i,method:s,encType:o,formData:l,body:u}=$se(r,e);if(a.navigate===!1){let d=a.fetcherKey||doe();await t.fetch(d,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||o,flushSync:a.flushSync})}else await t.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function hoe(t,{relative:e}={}){let{basename:n}=A.useContext(_u),r=A.useContext(Cu);ka(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...Bv(t||".",{relative:e})},s=Dd();if(t==null){i.search=s.search;let o=new URLSearchParams(i.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Df([n,i.pathname])),K2(i)}function poe(t,{relative:e}={}){let n=A.useContext(MY);ka(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=GY("useViewTransitionState"),a=Bv(t,{relative:e});if(!n.isTransitioning)return!1;let i=Pf(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Pf(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Y4(a.pathname,s)!=null||Y4(a.pathname,i)!=null}var Bm=IY();const d_=$f(Bm);var FE={exports:{}},BE,RM;function moe(){if(RM)return BE;RM=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return BE=t,BE}var HE,kM;function goe(){if(kM)return HE;kM=1;var t=moe();function e(){}function n(){}return n.resetWarningCache=e,HE=function(){function r(s,o,l,u,d,h){if(h!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function a(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},HE}var IM;function yoe(){return IM||(IM=1,FE.exports=goe()()),FE.exports}var boe=yoe();const Wr=$f(boe);function Lf(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function Ue(t){if(typeof t!="string")throw new Error(Lf(7));return t.charAt(0).toUpperCase()+t.slice(1)}var UE={exports:{}},qr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jM;function xoe(){if(jM)return qr;jM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function x(v){if(typeof v=="object"&&v!==null){var _=v.$$typeof;switch(_){case t:switch(v=v.type,v){case n:case a:case r:case l:case u:case m:return v;default:switch(v=v&&v.$$typeof,v){case s:case o:case h:case d:return v;case i:return v;default:return _}}case e:return _}}}return qr.ContextConsumer=i,qr.ContextProvider=s,qr.Element=t,qr.ForwardRef=o,qr.Fragment=n,qr.Lazy=h,qr.Memo=d,qr.Portal=e,qr.Profiler=a,qr.StrictMode=r,qr.Suspense=l,qr.SuspenseList=u,qr.isContextConsumer=function(v){return x(v)===i},qr.isContextProvider=function(v){return x(v)===s},qr.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},qr.isForwardRef=function(v){return x(v)===o},qr.isFragment=function(v){return x(v)===n},qr.isLazy=function(v){return x(v)===h},qr.isMemo=function(v){return x(v)===d},qr.isPortal=function(v){return x(v)===e},qr.isProfiler=function(v){return x(v)===a},qr.isStrictMode=function(v){return x(v)===r},qr.isSuspense=function(v){return x(v)===l},qr.isSuspenseList=function(v){return x(v)===u},qr.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===n||v===a||v===r||v===l||v===u||typeof v=="object"&&v!==null&&(v.$$typeof===h||v.$$typeof===d||v.$$typeof===s||v.$$typeof===i||v.$$typeof===o||v.$$typeof===y||v.getModuleId!==void 0)},qr.typeOf=x,qr}var OM;function voe(){return OM||(OM=1,UE.exports=xoe()),UE.exports}var qY=voe();function bd(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function VY(t){if(A.isValidElement(t)||qY.isValidElementType(t)||!bd(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=VY(t[n])}),e}function Zi(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return bd(t)&&bd(e)&&Object.keys(e).forEach(a=>{A.isValidElement(e[a])||qY.isValidElementType(e[a])?r[a]=e[a]:bd(e[a])&&Object.prototype.hasOwnProperty.call(t,a)&&bd(t[a])?r[a]=Zi(t[a],e[a],n):n.clone?r[a]=bd(e[a])?VY(e[a]):e[a]:r[a]=e[a]}),r}function v2(t,e){return e?Zi(t,e,{clone:!1}):t}function DM(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,a)=>{const i=/min-width:\s*([0-9.]+)/;return+(r.match(i)?.[1]||0)-+(a.match(i)?.[1]||0)});return n.length?n.reduce((r,a)=>{const i=e[a];return delete r[a],r[a]=i,r},{...e}):e}function Soe(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function _oe(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,a]=n,i=Number.isNaN(+r)?r||0:+r;return t.containerQueries(a).up(i)}function Coe(t){const e=(i,s)=>i.replace("@media",s?`@container ${s}`:"@container");function n(i,s){i.up=(...o)=>e(t.breakpoints.up(...o),s),i.down=(...o)=>e(t.breakpoints.down(...o),s),i.between=(...o)=>e(t.breakpoints.between(...o),s),i.only=(...o)=>e(t.breakpoints.only(...o),s),i.not=(...o)=>{const l=e(t.breakpoints.not(...o),s);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},a=i=>(n(r,i),r);return n(a),{...t,containerQueries:a}}const r5={xs:0,sm:600,md:900,lg:1200,xl:1536},NM={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${r5[t]}px)`},woe={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:r5[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function gu(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const i=r.breakpoints||NM;return e.reduce((s,o,l)=>(s[i.up(i.keys[l])]=n(e[l]),s),{})}if(typeof e=="object"){const i=r.breakpoints||NM;return Object.keys(e).reduce((s,o)=>{if(Soe(i.keys,o)){const l=_oe(r.containerQueries?r:woe,o);l&&(s[l]=n(e[o],o))}else if(Object.keys(i.values||r5).includes(o)){const l=i.up(o);s[l]=n(e[o],o)}else{const l=o;s[l]=e[l]}return s},{})}return n(e)}function WY(t={}){return t.keys?.reduce((n,r)=>{const a=t.up(r);return n[a]={},n},{})||{}}function fk(t,e){return t.reduce((n,r)=>{const a=n[r];return(!a||Object.keys(a).length===0)&&delete n[r],n},e)}function Eoe(t,...e){const n=WY(t),r=[n,...e].reduce((a,i)=>Zi(a,i),{});return fk(Object.keys(n),r)}function Toe(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((a,i)=>{i<t.length&&(n[a]=!0)}):r.forEach(a=>{t[a]!=null&&(n[a]=!0)}),n}function $E({values:t,breakpoints:e,base:n}){const r=n||Toe(t,e),a=Object.keys(r);if(a.length===0)return t;let i;return a.reduce((s,o,l)=>(Array.isArray(t)?(s[o]=t[l]!=null?t[l]:t[i],i=l):typeof t=="object"?(s[o]=t[o]!=null?t[o]:t[i],i=o):s[o]=t,s),{})}function pd(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((a,i)=>a&&a[i]?a[i]:null,t);if(r!=null)return r}return e.split(".").reduce((r,a)=>r&&r[a]!=null?r[a]:null,t)}function X4(t,e,n,r=n){let a;return typeof t=="function"?a=t(n):Array.isArray(t)?a=t[n]||r:a=pd(t,n)||r,e&&(a=e(a,r,t)),a}function ui(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:a}=t,i=s=>{if(s[e]==null)return null;const o=s[e],l=s.theme,u=pd(l,r)||{};return gu(s,o,h=>{let m=X4(u,a,h);return h===m&&typeof h=="string"&&(m=X4(u,a,`${e}${h==="default"?"":Ue(h)}`,h)),n===!1?m:{[n]:m}})};return i.propTypes={},i.filterProps=[e],i}function Aoe(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Roe={m:"margin",p:"padding"},koe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},MM={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Ioe=Aoe(t=>{if(t.length>2)if(MM[t])t=MM[t];else return[t];const[e,n]=t.split(""),r=Roe[e],a=koe[n]||"";return Array.isArray(a)?a.map(i=>r+i):[r+a]}),Uj=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],$j=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Uj,...$j];function Hv(t,e,n,r){const a=pd(t,e,!0)??n;return typeof a=="number"||typeof a=="string"?i=>typeof i=="string"?i:typeof a=="string"?a.startsWith("var(")&&i===0?0:a.startsWith("var(")&&i===1?a:`calc(${i} * ${a})`:a*i:Array.isArray(a)?i=>{if(typeof i=="string")return i;const s=Math.abs(i),o=a[s];return i>=0?o:typeof o=="number"?-o:typeof o=="string"&&o.startsWith("var(")?`calc(-1 * ${o})`:`-${o}`}:typeof a=="function"?a:()=>{}}function a5(t){return Hv(t,"spacing",8)}function dg(t,e){return typeof e=="string"||e==null?e:t(e)}function joe(t,e){return n=>t.reduce((r,a)=>(r[a]=dg(e,n),r),{})}function Ooe(t,e,n,r){if(!e.includes(n))return null;const a=Ioe(n),i=joe(a,r),s=t[n];return gu(t,s,i)}function YY(t,e){const n=a5(t.theme);return Object.keys(t).map(r=>Ooe(t,e,r,n)).reduce(v2,{})}function Ya(t){return YY(t,Uj)}Ya.propTypes={};Ya.filterProps=Uj;function Ka(t){return YY(t,$j)}Ka.propTypes={};Ka.filterProps=$j;function i5(...t){const e=t.reduce((r,a)=>(a.filterProps.forEach(i=>{r[i]=a}),r),{}),n=r=>Object.keys(r).reduce((a,i)=>e[i]?v2(a,e[i](r)):a,{});return n.propTypes={},n.filterProps=t.reduce((r,a)=>r.concat(a.filterProps),[]),n}function gc(t){return typeof t!="number"?t:`${t}px solid`}function Mc(t,e){return ui({prop:t,themeKey:"borders",transform:e})}const Doe=Mc("border",gc),Noe=Mc("borderTop",gc),Moe=Mc("borderRight",gc),Poe=Mc("borderBottom",gc),Loe=Mc("borderLeft",gc),zoe=Mc("borderColor"),Foe=Mc("borderTopColor"),Boe=Mc("borderRightColor"),Hoe=Mc("borderBottomColor"),Uoe=Mc("borderLeftColor"),$oe=Mc("outline",gc),Goe=Mc("outlineColor"),s5=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Hv(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:dg(e,r)});return gu(t,t.borderRadius,n)}return null};s5.propTypes={};s5.filterProps=["borderRadius"];i5(Doe,Noe,Moe,Poe,Loe,zoe,Foe,Boe,Hoe,Uoe,s5,$oe,Goe);const o5=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Hv(t.theme,"spacing",8),n=r=>({gap:dg(e,r)});return gu(t,t.gap,n)}return null};o5.propTypes={};o5.filterProps=["gap"];const l5=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Hv(t.theme,"spacing",8),n=r=>({columnGap:dg(e,r)});return gu(t,t.columnGap,n)}return null};l5.propTypes={};l5.filterProps=["columnGap"];const c5=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Hv(t.theme,"spacing",8),n=r=>({rowGap:dg(e,r)});return gu(t,t.rowGap,n)}return null};c5.propTypes={};c5.filterProps=["rowGap"];const qoe=ui({prop:"gridColumn"}),Voe=ui({prop:"gridRow"}),Woe=ui({prop:"gridAutoFlow"}),Yoe=ui({prop:"gridAutoColumns"}),Koe=ui({prop:"gridAutoRows"}),Xoe=ui({prop:"gridTemplateColumns"}),Qoe=ui({prop:"gridTemplateRows"}),Zoe=ui({prop:"gridTemplateAreas"}),Joe=ui({prop:"gridArea"});i5(o5,l5,c5,qoe,Voe,Woe,Yoe,Koe,Xoe,Qoe,Zoe,Joe);function N1(t,e){return e==="grey"?e:t}const ele=ui({prop:"color",themeKey:"palette",transform:N1}),tle=ui({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:N1}),nle=ui({prop:"backgroundColor",themeKey:"palette",transform:N1});i5(ele,tle,nle);function Tl(t){return t<=1&&t!==0?`${t*100}%`:t}const rle=ui({prop:"width",transform:Tl}),Gj=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{const r=t.theme?.breakpoints?.values?.[n]||r5[n];return r?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Tl(n)}};return gu(t,t.maxWidth,e)}return null};Gj.filterProps=["maxWidth"];const ale=ui({prop:"minWidth",transform:Tl}),ile=ui({prop:"height",transform:Tl}),sle=ui({prop:"maxHeight",transform:Tl}),ole=ui({prop:"minHeight",transform:Tl});ui({prop:"size",cssProperty:"width",transform:Tl});ui({prop:"size",cssProperty:"height",transform:Tl});const lle=ui({prop:"boxSizing"});i5(rle,Gj,ale,ile,sle,ole,lle);const Uv={border:{themeKey:"borders",transform:gc},borderTop:{themeKey:"borders",transform:gc},borderRight:{themeKey:"borders",transform:gc},borderBottom:{themeKey:"borders",transform:gc},borderLeft:{themeKey:"borders",transform:gc},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:gc},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:s5},color:{themeKey:"palette",transform:N1},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:N1},backgroundColor:{themeKey:"palette",transform:N1},p:{style:Ka},pt:{style:Ka},pr:{style:Ka},pb:{style:Ka},pl:{style:Ka},px:{style:Ka},py:{style:Ka},padding:{style:Ka},paddingTop:{style:Ka},paddingRight:{style:Ka},paddingBottom:{style:Ka},paddingLeft:{style:Ka},paddingX:{style:Ka},paddingY:{style:Ka},paddingInline:{style:Ka},paddingInlineStart:{style:Ka},paddingInlineEnd:{style:Ka},paddingBlock:{style:Ka},paddingBlockStart:{style:Ka},paddingBlockEnd:{style:Ka},m:{style:Ya},mt:{style:Ya},mr:{style:Ya},mb:{style:Ya},ml:{style:Ya},mx:{style:Ya},my:{style:Ya},margin:{style:Ya},marginTop:{style:Ya},marginRight:{style:Ya},marginBottom:{style:Ya},marginLeft:{style:Ya},marginX:{style:Ya},marginY:{style:Ya},marginInline:{style:Ya},marginInlineStart:{style:Ya},marginInlineEnd:{style:Ya},marginBlock:{style:Ya},marginBlockStart:{style:Ya},marginBlockEnd:{style:Ya},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:o5},rowGap:{style:c5},columnGap:{style:l5},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Tl},maxWidth:{style:Gj},minWidth:{transform:Tl},height:{transform:Tl},maxHeight:{transform:Tl},minHeight:{transform:Tl},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function cle(...t){const e=t.reduce((r,a)=>r.concat(Object.keys(a)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function ule(t,e){return typeof t=="function"?t(e):t}function dle(){function t(n,r,a,i){const s={[n]:r,theme:a},o=i[n];if(!o)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:d,style:h}=o;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const m=pd(a,u)||{};return h?h(s):gu(s,r,x=>{let v=X4(m,d,x);return x===v&&typeof x=="string"&&(v=X4(m,d,`${n}${x==="default"?"":Ue(x)}`,x)),l===!1?v:{[l]:v}})}function e(n){const{sx:r,theme:a={},nested:i}=n||{};if(!r)return null;const s=a.unstable_sxConfig??Uv;function o(l){let u=l;if(typeof l=="function")u=l(a);else if(typeof l!="object")return l;if(!u)return null;const d=WY(a.breakpoints),h=Object.keys(d);let m=d;return Object.keys(u).forEach(y=>{const x=ule(u[y],a);if(x!=null)if(typeof x=="object")if(s[y])m=v2(m,t(y,x,a,s));else{const v=gu({theme:a},x,_=>({[y]:_}));cle(v,x)?m[y]=e({sx:x,theme:a,nested:!0}):m=v2(m,v)}else m=v2(m,t(y,x,a,s))}),!i&&a.modularCssLayers?{"@layer sx":DM(a,fk(h,m))}:DM(a,fk(h,m))}return Array.isArray(r)?r.map(o):o(r)}return e}const _p=dle();_p.filterProps=["sx"];const fle=t=>{const e={systemProps:{},otherProps:{}},n=t?.theme?.unstable_sxConfig??Uv;return Object.keys(t).forEach(r=>{n[r]?e.systemProps[r]=t[r]:e.otherProps[r]=t[r]}),e};function u5(t){const{sx:e,...n}=t,{systemProps:r,otherProps:a}=fle(n);let i;return Array.isArray(e)?i=[r,...e]:typeof e=="function"?i=(...s)=>{const o=e(...s);return bd(o)?{...r,...o}:r}:i={...r,...e},{...a,sx:i}}function Q4(){return Q4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q4.apply(null,arguments)}function hle(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function ple(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var mle=(function(){function t(n){var r=this;this._insertTag=function(a){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(a,i),r.tags.push(a)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ple(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var i=hle(a);try{i.insertRule(r,i.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var a;return(a=r.parentNode)==null?void 0:a.removeChild(r)}),this.tags=[],this.ctr=0},t})(),Us="-ms-",Z4="-moz-",Tr="-webkit-",KY="comm",qj="rule",Vj="decl",gle="@import",XY="@keyframes",yle="@layer",ble=Math.abs,d5=String.fromCharCode,xle=Object.assign;function vle(t,e){return vs(t,0)^45?(((e<<2^vs(t,0))<<2^vs(t,1))<<2^vs(t,2))<<2^vs(t,3):0}function QY(t){return t.trim()}function Sle(t,e){return(t=e.exec(t))?t[0]:t}function Ar(t,e,n){return t.replace(e,n)}function hk(t,e){return t.indexOf(e)}function vs(t,e){return t.charCodeAt(e)|0}function X2(t,e,n){return t.slice(e,n)}function md(t){return t.length}function Wj(t){return t.length}function f_(t,e){return e.push(t),t}function _le(t,e){return t.map(e).join("")}var f5=1,Y1=1,ZY=0,tl=0,Si=0,xy="";function h5(t,e,n,r,a,i,s){return{value:t,root:e,parent:n,type:r,props:a,children:i,line:f5,column:Y1,length:s,return:""}}function xx(t,e){return xle(h5("",null,null,"",null,null,0),t,{length:-t.length},e)}function Cle(){return Si}function wle(){return Si=tl>0?vs(xy,--tl):0,Y1--,Si===10&&(Y1=1,f5--),Si}function Rl(){return Si=tl<ZY?vs(xy,tl++):0,Y1++,Si===10&&(Y1=1,f5++),Si}function _d(){return vs(xy,tl)}function w4(){return tl}function $v(t,e){return X2(xy,t,e)}function Q2(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function JY(t){return f5=Y1=1,ZY=md(xy=t),tl=0,[]}function eK(t){return xy="",t}function E4(t){return QY($v(tl-1,pk(t===91?t+2:t===40?t+1:t)))}function Ele(t){for(;(Si=_d())&&Si<33;)Rl();return Q2(t)>2||Q2(Si)>3?"":" "}function Tle(t,e){for(;--e&&Rl()&&!(Si<48||Si>102||Si>57&&Si<65||Si>70&&Si<97););return $v(t,w4()+(e<6&&_d()==32&&Rl()==32))}function pk(t){for(;Rl();)switch(Si){case t:return tl;case 34:case 39:t!==34&&t!==39&&pk(Si);break;case 40:t===41&&pk(t);break;case 92:Rl();break}return tl}function Ale(t,e){for(;Rl()&&t+Si!==57;)if(t+Si===84&&_d()===47)break;return"/*"+$v(e,tl-1)+"*"+d5(t===47?t:Rl())}function Rle(t){for(;!Q2(_d());)Rl();return $v(t,tl)}function kle(t){return eK(T4("",null,null,null,[""],t=JY(t),0,[0],t))}function T4(t,e,n,r,a,i,s,o,l){for(var u=0,d=0,h=s,m=0,y=0,x=0,v=1,_=1,C=1,w=0,T="",E=a,k=i,j=r,O=T;_;)switch(x=w,w=Rl()){case 40:if(x!=108&&vs(O,h-1)==58){hk(O+=Ar(E4(w),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:O+=E4(w);break;case 9:case 10:case 13:case 32:O+=Ele(x);break;case 92:O+=Tle(w4()-1,7);continue;case 47:switch(_d()){case 42:case 47:f_(Ile(Ale(Rl(),w4()),e,n),l);break;default:O+="/"}break;case 123*v:o[u++]=md(O)*C;case 125*v:case 59:case 0:switch(w){case 0:case 125:_=0;case 59+d:C==-1&&(O=Ar(O,/\f/g,"")),y>0&&md(O)-h&&f_(y>32?LM(O+";",r,n,h-1):LM(Ar(O," ","")+";",r,n,h-2),l);break;case 59:O+=";";default:if(f_(j=PM(O,e,n,u,d,a,o,T,E=[],k=[],h),i),w===123)if(d===0)T4(O,e,j,j,E,i,h,o,k);else switch(m===99&&vs(O,3)===110?100:m){case 100:case 108:case 109:case 115:T4(t,j,j,r&&f_(PM(t,j,j,0,0,a,o,T,a,E=[],h),k),a,k,h,o,r?E:k);break;default:T4(O,j,j,j,[""],k,0,o,k)}}u=d=y=0,v=C=1,T=O="",h=s;break;case 58:h=1+md(O),y=x;default:if(v<1){if(w==123)--v;else if(w==125&&v++==0&&wle()==125)continue}switch(O+=d5(w),w*v){case 38:C=d>0?1:(O+="\f",-1);break;case 44:o[u++]=(md(O)-1)*C,C=1;break;case 64:_d()===45&&(O+=E4(Rl())),m=_d(),d=h=md(T=O+=Rle(w4())),w++;break;case 45:x===45&&md(O)==2&&(v=0)}}return i}function PM(t,e,n,r,a,i,s,o,l,u,d){for(var h=a-1,m=a===0?i:[""],y=Wj(m),x=0,v=0,_=0;x<r;++x)for(var C=0,w=X2(t,h+1,h=ble(v=s[x])),T=t;C<y;++C)(T=QY(v>0?m[C]+" "+w:Ar(w,/&\f/g,m[C])))&&(l[_++]=T);return h5(t,e,n,a===0?qj:o,l,u,d)}function Ile(t,e,n){return h5(t,e,n,KY,d5(Cle()),X2(t,2,-2),0)}function LM(t,e,n,r){return h5(t,e,n,Vj,X2(t,0,r),X2(t,r+1,-1),r)}function M1(t,e){for(var n="",r=Wj(t),a=0;a<r;a++)n+=e(t[a],a,t,e)||"";return n}function jle(t,e,n,r){switch(t.type){case yle:if(t.children.length)break;case gle:case Vj:return t.return=t.return||t.value;case KY:return"";case XY:return t.return=t.value+"{"+M1(t.children,r)+"}";case qj:t.value=t.props.join(",")}return md(n=M1(t.children,r))?t.return=t.value+"{"+n+"}":""}function Ole(t){var e=Wj(t);return function(n,r,a,i){for(var s="",o=0;o<e;o++)s+=t[o](n,r,a,i)||"";return s}}function Dle(t){return function(e){e.root||(e=e.return)&&t(e)}}function tK(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Nle=function(e,n,r){for(var a=0,i=0;a=i,i=_d(),a===38&&i===12&&(n[r]=1),!Q2(i);)Rl();return $v(e,tl)},Mle=function(e,n){var r=-1,a=44;do switch(Q2(a)){case 0:a===38&&_d()===12&&(n[r]=1),e[r]+=Nle(tl-1,n,r);break;case 2:e[r]+=E4(a);break;case 4:if(a===44){e[++r]=_d()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=d5(a)}while(a=Rl());return e},Ple=function(e,n){return eK(Mle(JY(e),n))},zM=new WeakMap,Lle=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,a=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!zM.get(r))&&!a){zM.set(e,!0);for(var i=[],s=Ple(n,i),o=r.props,l=0,u=0;l<s.length;l++)for(var d=0;d<o.length;d++,u++)e.props[u]=i[l]?s[l].replace(/&\f/g,o[d]):o[d]+" "+s[l]}}},zle=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function nK(t,e){switch(vle(t,e)){case 5103:return Tr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Tr+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Tr+t+Z4+t+Us+t+t;case 6828:case 4268:return Tr+t+Us+t+t;case 6165:return Tr+t+Us+"flex-"+t+t;case 5187:return Tr+t+Ar(t,/(\w+).+(:[^]+)/,Tr+"box-$1$2"+Us+"flex-$1$2")+t;case 5443:return Tr+t+Us+"flex-item-"+Ar(t,/flex-|-self/,"")+t;case 4675:return Tr+t+Us+"flex-line-pack"+Ar(t,/align-content|flex-|-self/,"")+t;case 5548:return Tr+t+Us+Ar(t,"shrink","negative")+t;case 5292:return Tr+t+Us+Ar(t,"basis","preferred-size")+t;case 6060:return Tr+"box-"+Ar(t,"-grow","")+Tr+t+Us+Ar(t,"grow","positive")+t;case 4554:return Tr+Ar(t,/([^-])(transform)/g,"$1"+Tr+"$2")+t;case 6187:return Ar(Ar(Ar(t,/(zoom-|grab)/,Tr+"$1"),/(image-set)/,Tr+"$1"),t,"")+t;case 5495:case 3959:return Ar(t,/(image-set\([^]*)/,Tr+"$1$`$1");case 4968:return Ar(Ar(t,/(.+:)(flex-)?(.*)/,Tr+"box-pack:$3"+Us+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Tr+t+t;case 4095:case 3583:case 4068:case 2532:return Ar(t,/(.+)-inline(.+)/,Tr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(md(t)-1-e>6)switch(vs(t,e+1)){case 109:if(vs(t,e+4)!==45)break;case 102:return Ar(t,/(.+:)(.+)-([^]+)/,"$1"+Tr+"$2-$3$1"+Z4+(vs(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~hk(t,"stretch")?nK(Ar(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(vs(t,e+1)!==115)break;case 6444:switch(vs(t,md(t)-3-(~hk(t,"!important")&&10))){case 107:return Ar(t,":",":"+Tr)+t;case 101:return Ar(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Tr+(vs(t,14)===45?"inline-":"")+"box$3$1"+Tr+"$2$3$1"+Us+"$2box$3")+t}break;case 5936:switch(vs(t,e+11)){case 114:return Tr+t+Us+Ar(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Tr+t+Us+Ar(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Tr+t+Us+Ar(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Tr+t+Us+t+t}return t}var Fle=function(e,n,r,a){if(e.length>-1&&!e.return)switch(e.type){case Vj:e.return=nK(e.value,e.length);break;case XY:return M1([xx(e,{value:Ar(e.value,"@","@"+Tr)})],a);case qj:if(e.length)return _le(e.props,function(i){switch(Sle(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return M1([xx(e,{props:[Ar(i,/:(read-\w+)/,":"+Z4+"$1")]})],a);case"::placeholder":return M1([xx(e,{props:[Ar(i,/:(plac\w+)/,":"+Tr+"input-$1")]}),xx(e,{props:[Ar(i,/:(plac\w+)/,":"+Z4+"$1")]}),xx(e,{props:[Ar(i,/:(plac\w+)/,Us+"input-$1")]})],a)}return""})}},Ble=[Fle],Hle=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var _=v.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var a=e.stylisPlugins||Ble,i={},s,o=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var _=v.getAttribute("data-emotion").split(" "),C=1;C<_.length;C++)i[_[C]]=!0;o.push(v)});var l,u=[Lle,zle];{var d,h=[jle,Dle(function(v){d.insert(v)})],m=Ole(u.concat(a,h)),y=function(_){return M1(kle(_),m)};l=function(_,C,w,T){d=w,y(_?_+"{"+C.styles+"}":C.styles),T&&(x.inserted[C.name]=!0)}}var x={key:n,sheet:new mle({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return x.sheet.hydrate(o),x},GE={exports:{}},Nr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FM;function Ule(){if(FM)return Nr;FM=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,a=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,o=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,h=t?Symbol.for("react.suspense"):60113,m=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,x=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,_=t?Symbol.for("react.fundamental"):60117,C=t?Symbol.for("react.responder"):60118,w=t?Symbol.for("react.scope"):60119;function T(k){if(typeof k=="object"&&k!==null){var j=k.$$typeof;switch(j){case e:switch(k=k.type,k){case l:case u:case r:case i:case a:case h:return k;default:switch(k=k&&k.$$typeof,k){case o:case d:case x:case y:case s:return k;default:return j}}case n:return j}}}function E(k){return T(k)===u}return Nr.AsyncMode=l,Nr.ConcurrentMode=u,Nr.ContextConsumer=o,Nr.ContextProvider=s,Nr.Element=e,Nr.ForwardRef=d,Nr.Fragment=r,Nr.Lazy=x,Nr.Memo=y,Nr.Portal=n,Nr.Profiler=i,Nr.StrictMode=a,Nr.Suspense=h,Nr.isAsyncMode=function(k){return E(k)||T(k)===l},Nr.isConcurrentMode=E,Nr.isContextConsumer=function(k){return T(k)===o},Nr.isContextProvider=function(k){return T(k)===s},Nr.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},Nr.isForwardRef=function(k){return T(k)===d},Nr.isFragment=function(k){return T(k)===r},Nr.isLazy=function(k){return T(k)===x},Nr.isMemo=function(k){return T(k)===y},Nr.isPortal=function(k){return T(k)===n},Nr.isProfiler=function(k){return T(k)===i},Nr.isStrictMode=function(k){return T(k)===a},Nr.isSuspense=function(k){return T(k)===h},Nr.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===u||k===i||k===a||k===h||k===m||typeof k=="object"&&k!==null&&(k.$$typeof===x||k.$$typeof===y||k.$$typeof===s||k.$$typeof===o||k.$$typeof===d||k.$$typeof===_||k.$$typeof===C||k.$$typeof===w||k.$$typeof===v)},Nr.typeOf=T,Nr}var BM;function $le(){return BM||(BM=1,GE.exports=Ule()),GE.exports}var qE,HM;function Gle(){if(HM)return qE;HM=1;var t=$le(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=r,i[t.Memo]=a;function s(x){return t.isMemo(x)?a:i[x.$$typeof]||e}var o=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,m=Object.prototype;function y(x,v,_){if(typeof v!="string"){if(m){var C=h(v);C&&C!==m&&y(x,C,_)}var w=l(v);u&&(w=w.concat(u(v)));for(var T=s(x),E=s(v),k=0;k<w.length;++k){var j=w[k];if(!n[j]&&!(_&&_[j])&&!(E&&E[j])&&!(T&&T[j])){var O=d(v,j);try{o(x,j,O)}catch{}}}}return x}return qE=y,qE}Gle();var qle=!0;function rK(t,e,n){var r="";return n.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(r+=a+" ")}),r}var Yj=function(e,n,r){var a=e.key+"-"+n.name;(r===!1||qle===!1)&&e.registered[a]===void 0&&(e.registered[a]=n.styles)},Kj=function(e,n,r){Yj(e,n,r);var a=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+a:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function Vle(t){for(var e=0,n,r=0,a=t.length;a>=4;++r,a-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Wle={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Yle=/[A-Z]|^ms/g,Kle=/_EMO_([^_]+?)_([^]*?)_EMO_/g,aK=function(e){return e.charCodeAt(1)===45},UM=function(e){return e!=null&&typeof e!="boolean"},VE=tK(function(t){return aK(t)?t:t.replace(Yle,"-$&").toLowerCase()}),$M=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Kle,function(r,a,i){return gd={name:a,styles:i,next:gd},a})}return Wle[e]!==1&&!aK(e)&&typeof n=="number"&&n!==0?n+"px":n};function Z2(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var a=n;if(a.anim===1)return gd={name:a.name,styles:a.styles,next:gd},a.name;var i=n;if(i.styles!==void 0){var s=i.next;if(s!==void 0)for(;s!==void 0;)gd={name:s.name,styles:s.styles,next:gd},s=s.next;var o=i.styles+";";return o}return Xle(t,e,n)}case"function":{if(t!==void 0){var l=gd,u=n(t);return gd=l,Z2(t,e,u)}break}}var d=n;if(e==null)return d;var h=e[d];return h!==void 0?h:d}function Xle(t,e,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=Z2(t,e,n[a])+";";else for(var i in n){var s=n[i];if(typeof s!="object"){var o=s;e!=null&&e[o]!==void 0?r+=i+"{"+e[o]+"}":UM(o)&&(r+=VE(i)+":"+$M(i,o)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)UM(s[l])&&(r+=VE(i)+":"+$M(i,s[l])+";");else{var u=Z2(t,e,s);switch(i){case"animation":case"animationName":{r+=VE(i)+":"+u+";";break}default:r+=i+"{"+u+"}"}}}return r}var GM=/label:\s*([^\s;{]+)\s*(;|$)/g,gd;function Gv(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,a="";gd=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,a+=Z2(n,e,i);else{var s=i;a+=s[0]}for(var o=1;o<t.length;o++)if(a+=Z2(n,e,t[o]),r){var l=i;a+=l[o]}GM.lastIndex=0;for(var u="",d;(d=GM.exec(a))!==null;)u+="-"+d[1];var h=Vle(a)+u;return{name:h,styles:a,next:gd}}var Qle=function(e){return e()},iK=W4.useInsertionEffect?W4.useInsertionEffect:!1,sK=iK||Qle,qM=iK||A.useLayoutEffect,oK=A.createContext(typeof HTMLElement<"u"?Hle({key:"css"}):null);oK.Provider;var Xj=function(e){return A.forwardRef(function(n,r){var a=A.useContext(oK);return e(n,a,r)})},qv=A.createContext({}),Qj={}.hasOwnProperty,mk="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Zle=function(e,n){var r={};for(var a in n)Qj.call(n,a)&&(r[a]=n[a]);return r[mk]=e,r},Jle=function(e){var n=e.cache,r=e.serialized,a=e.isStringTag;return Yj(n,r,a),sK(function(){return Kj(n,r,a)}),null},ece=Xj(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var a=t[mk],i=[r],s="";typeof t.className=="string"?s=rK(e.registered,i,t.className):t.className!=null&&(s=t.className+" ");var o=Gv(i,void 0,A.useContext(qv));s+=e.key+"-"+o.name;var l={};for(var u in t)Qj.call(t,u)&&u!=="css"&&u!==mk&&(l[u]=t[u]);return l.className=s,n&&(l.ref=n),A.createElement(A.Fragment,null,A.createElement(Jle,{cache:e,serialized:o,isStringTag:typeof a=="string"}),A.createElement(a,l))}),tce=ece,VM=function(e,n){var r=arguments;if(n==null||!Qj.call(n,"css"))return A.createElement.apply(void 0,r);var a=r.length,i=new Array(a);i[0]=tce,i[1]=Zle(e,n);for(var s=2;s<a;s++)i[s]=r[s];return A.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(VM||(VM={}));var nce=Xj(function(t,e){var n=t.styles,r=Gv([n],void 0,A.useContext(qv)),a=A.useRef();return qM(function(){var i=e.key+"-global",s=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),o=!1,l=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(o=!0,l.setAttribute("data-emotion",i),s.hydrate([l])),a.current=[s,o],function(){s.flush()}},[e]),qM(function(){var i=a.current,s=i[0],o=i[1];if(o){i[1]=!1;return}if(r.next!==void 0&&Kj(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function Ip(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Gv(e)}function Nd(){var t=Ip.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var rce=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ace=tK(function(t){return rce.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),ice=ace,sce=function(e){return e!=="theme"},WM=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?ice:sce},YM=function(e,n,r){var a;if(n){var i=n.shouldForwardProp;a=e.__emotion_forwardProp&&i?function(s){return e.__emotion_forwardProp(s)&&i(s)}:i}return typeof a!="function"&&r&&(a=e.__emotion_forwardProp),a},oce=function(e){var n=e.cache,r=e.serialized,a=e.isStringTag;return Yj(n,r,a),sK(function(){return Kj(n,r,a)}),null},lce=function t(e,n){var r=e.__emotion_real===e,a=r&&e.__emotion_base||e,i,s;n!==void 0&&(i=n.label,s=n.target);var o=YM(e,n,r),l=o||WM(a),u=!l("as");return function(){var d=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&h.push("label:"+i+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{var m=d[0];h.push(m[0]);for(var y=d.length,x=1;x<y;x++)h.push(d[x],m[x])}var v=Xj(function(_,C,w){var T=u&&_.as||a,E="",k=[],j=_;if(_.theme==null){j={};for(var O in _)j[O]=_[O];j.theme=A.useContext(qv)}typeof _.className=="string"?E=rK(C.registered,k,_.className):_.className!=null&&(E=_.className+" ");var z=Gv(h.concat(k),C.registered,j);E+=C.key+"-"+z.name,s!==void 0&&(E+=" "+s);var M=u&&o===void 0?WM(T):l,N={};for(var U in _)u&&U==="as"||M(U)&&(N[U]=_[U]);return N.className=E,w&&(N.ref=w),A.createElement(A.Fragment,null,A.createElement(oce,{cache:C,serialized:z,isStringTag:typeof T=="string"}),A.createElement(T,N))});return v.displayName=i!==void 0?i:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=a,v.__emotion_styles=h,v.__emotion_forwardProp=o,Object.defineProperty(v,"toString",{value:function(){return"."+s}}),v.withComponent=function(_,C){var w=t(_,Q4({},n,C,{shouldForwardProp:YM(v,C,!0)}));return w.apply(void 0,h)},v}},cce=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],gk=lce.bind(null);cce.forEach(function(t){gk[t]=gk(t)});function uce(t){return t==null||Object.keys(t).length===0}function lK(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?a=>e(uce(a)?n:a):e;return c.jsx(nce,{styles:r})}function cK(t,e){return gk(t,e)}function dce(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const KM=[];function fp(t){return KM[0]=t,Gv(KM)}const fce=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function hce(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...a}=t,i=fce(e),s=Object.keys(i);function o(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n})`}function l(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${n})`}function u(m,y){const x=s.indexOf(y);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n}) and (max-width:${(x!==-1&&typeof e[s[x]]=="number"?e[s[x]]:y)-r/100}${n})`}function d(m){return s.indexOf(m)+1<s.length?u(m,s[s.indexOf(m)+1]):o(m)}function h(m){const y=s.indexOf(m);return y===0?o(s[1]):y===s.length-1?l(s[y]):u(m,s[s.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:s,values:i,up:o,down:l,between:u,only:d,not:h,unit:n,...a}}const pce={borderRadius:4};function uK(t=8,e=a5({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(i=>{const s=e(i);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function mce(t,e){const n=this;if(n.vars){if(!n.colorSchemes?.[t]||typeof n.getColorSchemeSelector!="function")return{};let r=n.getColorSchemeSelector(t);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return n.palette.mode===t?e:{}}function vy(t={},...e){const{breakpoints:n={},palette:r={},spacing:a,shape:i={},...s}=t,o=hce(n),l=uK(a);let u=Zi({breakpoints:o,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...pce,...i}},s);return u=Coe(u),u.applyStyles=mce,u=e.reduce((d,h)=>Zi(d,h),u),u.unstable_sxConfig={...Uv,...s?.unstable_sxConfig},u.unstable_sx=function(h){return _p({sx:h,theme:this})},u}function gce(t){return Object.keys(t).length===0}function p5(t=null){const e=A.useContext(qv);return!e||gce(e)?t:e}const yce=vy();function Vv(t=yce){return p5(t)}function WE(t){const e=fp(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function dK({styles:t,themeId:e,defaultTheme:n={}}){const r=Vv(n),a=e&&r[e]||r;let i=typeof t=="function"?t(a):t;return a.modularCssLayers&&(Array.isArray(i)?i=i.map(s=>WE(typeof s=="function"?s(a):s)):i=WE(i)),c.jsx(lK,{styles:i})}const XM=t=>t,bce=()=>{let t=XM;return{configure(e){t=e},generate(e){return t(e)},reset(){t=XM}}},fK=bce();function hK(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=hK(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ut(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=hK(t))&&(r&&(r+=" "),r+=e);return r}function xce(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:a}=t,i=cK("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(_p);return A.forwardRef(function(l,u){const d=Vv(n),{className:h,component:m="div",...y}=u5(l);return c.jsx(i,{as:m,ref:u,className:ut(h,a?a(r):r),theme:e&&d[e]||d,...y})})}const vce={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Dt(t,e,n="Mui"){const r=vce[e];return r?`${n}-${r}`:`${fK.generate(t)}-${e}`}function zt(t,e,n="Mui"){const r={};return e.forEach(a=>{r[a]=Dt(t,a,n)}),r}function pK(t){const{variants:e,...n}=t,r={variants:e,style:fp(n),isProcessed:!0};return r.style===n||e&&e.forEach(a=>{typeof a.style!="function"&&(a.style=fp(a.style))}),r}const Sce=vy();function YE(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Hm(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function _ce(t){return t?(e,n)=>n[t]:null}function Cce(t,e,n){t.theme=Ece(t.theme)?n:t.theme[e]||t.theme}function A4(t,e,n){const r=typeof e=="function"?e(t):e;if(Array.isArray(r))return r.flatMap(a=>A4(t,a,n));if(Array.isArray(r?.variants)){let a;if(r.isProcessed)a=n?Hm(r.style,n):r.style;else{const{variants:i,...s}=r;a=n?Hm(fp(s),n):s}return mK(t,r.variants,[a],n)}return r?.isProcessed?n?Hm(fp(r.style),n):r.style:n?Hm(fp(r),n):r}function mK(t,e,n=[],r=void 0){let a;e:for(let i=0;i<e.length;i+=1){const s=e[i];if(typeof s.props=="function"){if(a??={...t,...t.ownerState,ownerState:t.ownerState},!s.props(a))continue}else for(const o in s.props)if(t[o]!==s.props[o]&&t.ownerState?.[o]!==s.props[o])continue e;typeof s.style=="function"?(a??={...t,...t.ownerState,ownerState:t.ownerState},n.push(r?Hm(fp(s.style(a)),r):s.style(a))):n.push(r?Hm(fp(s.style),r):s.style)}return n}function gK(t={}){const{themeId:e,defaultTheme:n=Sce,rootShouldForwardProp:r=YE,slotShouldForwardProp:a=YE}=t;function i(o){Cce(o,e,n)}return(o,l={})=>{dce(o,j=>j.filter(O=>O!==_p));const{name:u,slot:d,skipVariantsResolver:h,skipSx:m,overridesResolver:y=_ce(Ace(d)),...x}=l,v=u&&u.startsWith("Mui")||d?"components":"custom",_=h!==void 0?h:d&&d!=="Root"&&d!=="root"||!1,C=m||!1;let w=YE;d==="Root"||d==="root"?w=r:d?w=a:Tce(o)&&(w=void 0);const T=cK(o,{shouldForwardProp:w,label:wce(),...x}),E=j=>{if(j.__emotion_real===j)return j;if(typeof j=="function")return function(z){return A4(z,j,z.theme.modularCssLayers?v:void 0)};if(bd(j)){const O=pK(j);return function(M){return O.variants?A4(M,O,M.theme.modularCssLayers?v:void 0):M.theme.modularCssLayers?Hm(O.style,v):O.style}}return j},k=(...j)=>{const O=[],z=j.map(E),M=[];if(O.push(i),u&&y&&M.push(function($){const H=$.theme.components?.[u]?.styleOverrides;if(!H)return null;const L={};for(const V in H)L[V]=A4($,H[V],$.theme.modularCssLayers?"theme":void 0);return y($,L)}),u&&!_&&M.push(function($){const H=$.theme?.components?.[u]?.variants;return H?mK($,H,[],$.theme.modularCssLayers?"theme":void 0):null}),C||M.push(_p),Array.isArray(z[0])){const F=z.shift(),$=new Array(O.length).fill(""),D=new Array(M.length).fill("");let H;H=[...$,...F,...D],H.raw=[...$,...F.raw,...D],O.unshift(H)}const N=[...O,...z,...M],U=T(...N);return o.muiName&&(U.muiName=o.muiName),U};return T.withConfig&&(k.withConfig=T.withConfig),k}}function wce(t,e){return void 0}function Ece(t){for(const e in t)return!1;return!0}function Tce(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Ace(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const Zj=gK();function K1(t,e,n=!1){const r={...e};for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)){const i=a;if(i==="components"||i==="slots")r[i]={...t[i],...r[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],o=e[i];if(!o)r[i]=s||{};else if(!s)r[i]=o;else{r[i]={...o};for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=l;r[i][u]=K1(s[u],o[u],n)}}}else i==="className"&&n&&e.className?r.className=ut(t?.className,e?.className):i==="style"&&n&&e.style?r.style={...t?.style,...e?.style}:r[i]===void 0&&(r[i]=t[i])}return r}function yK(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:K1(e.components[n].defaultProps,r)}function Jj({props:t,name:e,defaultTheme:n,themeId:r}){let a=Vv(n);return r&&(a=a[r]||a),yK({theme:a,name:e,props:t})}const Ys=typeof window<"u"?A.useLayoutEffect:A.useEffect;function Rce(t,e,n,r,a){const[i,s]=A.useState(()=>a&&n?n(t).matches:r?r(t).matches:e);return Ys(()=>{if(!n)return;const o=n(t),l=()=>{s(o.matches)};return l(),o.addEventListener("change",l),()=>{o.removeEventListener("change",l)}},[t,n]),i}const kce={...W4},bK=kce.useSyncExternalStore;function Ice(t,e,n,r,a){const i=A.useCallback(()=>e,[e]),s=A.useMemo(()=>{if(a&&n)return()=>n(t).matches;if(r!==null){const{matches:d}=r(t);return()=>d}return i},[i,t,r,a,n]),[o,l]=A.useMemo(()=>{if(n===null)return[i,()=>()=>{}];const d=n(t);return[()=>d.matches,h=>(d.addEventListener("change",h),()=>{d.removeEventListener("change",h)})]},[i,n,t]);return bK(l,o,s)}function xK(t={}){const{themeId:e}=t;return function(r,a={}){let i=p5();i&&e&&(i=i[e]||i);const s=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:o=!1,matchMedia:l=s?window.matchMedia:null,ssrMatchMedia:u=null,noSsr:d=!1}=yK({name:"MuiUseMediaQuery",props:a,theme:i});let h=typeof r=="function"?r(i):r;return h=h.replace(/^@media( ?)/m,""),h.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(bK!==void 0?Ice:Rce)(h,o,l,u,d)}}xK();function _1(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function eO(t,e=0,n=1){return _1(t,e,n)}function jce(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,a)=>a<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Cp(t){if(t.type)return t;if(t.charAt(0)==="#")return Cp(jce(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Lf(9,t));let r=t.substring(e+1,t.length-1),a;if(n==="color"){if(r=r.split(" "),a=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(a))throw new Error(Lf(10,a))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:a}}const Oce=t=>{const e=Cp(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},e2=(t,e)=>{try{return Oce(t)}catch{return t}};function m5(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((a,i)=>i<3?parseInt(a,10):a):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function vK(t){t=Cp(t);const{values:e}=t,n=e[0],r=e[1]/100,a=e[2]/100,i=r*Math.min(a,1-a),s=(u,d=(u+n/30)%12)=>a-i*Math.max(Math.min(d-3,9-d,1),-1);let o="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(o+="a",l.push(e[3])),m5({type:o,values:l})}function yk(t){t=Cp(t);let e=t.type==="hsl"||t.type==="hsla"?Cp(vK(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Dce(t,e){const n=yk(t),r=yk(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function _s(t,e){return t=Cp(t),e=eO(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,m5(t)}function wm(t,e,n){try{return _s(t,e)}catch{return t}}function g5(t,e){if(t=Cp(t),e=eO(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return m5(t)}function Pr(t,e,n){try{return g5(t,e)}catch{return t}}function y5(t,e){if(t=Cp(t),e=eO(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return m5(t)}function Lr(t,e,n){try{return y5(t,e)}catch{return t}}function J2(t,e=.15){return yk(t)>.5?g5(t,e):y5(t,e)}function h_(t,e,n){try{return J2(t,e)}catch{return t}}const SK=A.createContext(null);function tO(){return A.useContext(SK)}const Nce=typeof Symbol=="function"&&Symbol.for,Mce=Nce?Symbol.for("mui.nested"):"__THEME_NESTED__";function Pce(t,e){return typeof e=="function"?e(t):{...t,...e}}function Lce(t){const{children:e,theme:n}=t,r=tO(),a=A.useMemo(()=>{const i=r===null?{...n}:Pce(r,n);return i!=null&&(i[Mce]=r!==null),i},[n,r]);return c.jsx(SK.Provider,{value:a,children:e})}const _K=A.createContext();function zce({value:t,...e}){return c.jsx(_K.Provider,{value:t??!0,...e})}const Md=()=>A.useContext(_K)??!1,CK=A.createContext(void 0);function Fce({value:t,children:e}){return c.jsx(CK.Provider,{value:t,children:e})}function Bce(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const a=e.components[n];return a.defaultProps?K1(a.defaultProps,r,e.components.mergeClassNameAndStyle):!a.styleOverrides&&!a.variants?K1(a,r,e.components.mergeClassNameAndStyle):r}function Hce({props:t,name:e}){const n=A.useContext(CK);return Bce({props:t,name:e,theme:{components:n}})}let QM=0;function Uce(t){const[e,n]=A.useState(t),r=t||e;return A.useEffect(()=>{e==null&&(QM+=1,n(`mui-${QM}`))},[e]),r}const $ce={...W4},ZM=$ce.useId;function Rd(t){if(ZM!==void 0){const e=ZM();return t??e}return Uce(t)}function Gce(t){const e=p5(),n=Rd()||"",{modularCssLayers:r}=t;let a="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?a="":typeof r=="string"?a=r.replace(/mui(?!\.)/g,a):a=`@layer ${a};`,Ys(()=>{const i=document.querySelector("head");if(!i)return;const s=i.firstChild;if(a){if(s&&s.hasAttribute?.("data-mui-layer-order")&&s.getAttribute("data-mui-layer-order")===n)return;const o=document.createElement("style");o.setAttribute("data-mui-layer-order",n),o.textContent=a,i.prepend(o)}else i.querySelector(`style[data-mui-layer-order="${n}"]`)?.remove()},[a,n]),a?c.jsx(dK,{styles:a}):null}const JM={};function eP(t,e,n,r=!1){return A.useMemo(()=>{const a=t&&e[t]||e;if(typeof n=="function"){const i=n(a),s=t?{...e,[t]:i}:i;return r?()=>s:s}return t?{...e,[t]:n}:{...e,...n}},[t,e,n,r])}function wK(t){const{children:e,theme:n,themeId:r}=t,a=p5(JM),i=tO()||JM,s=eP(r,a,n),o=eP(r,i,n,!0),l=(r?s[r]:s).direction==="rtl",u=Gce(s);return c.jsx(Lce,{theme:o,children:c.jsx(qv.Provider,{value:s,children:c.jsx(zce,{value:l,children:c.jsxs(Fce,{value:r?s[r].components:s.components,children:[u,e]})})})})}const tP={theme:void 0};function qce(t){let e,n;return function(a){let i=e;return(i===void 0||a.theme!==n)&&(tP.theme=a.theme,i=pK(t(tP)),e=i,n=a.theme),i}}const nO="mode",rO="color-scheme",Vce="data-color-scheme";function Wce(t){const{defaultMode:e="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:a=nO,colorSchemeStorageKey:i=rO,attribute:s=Vce,colorSchemeNode:o="document.documentElement",nonce:l}=t||{};let u="",d=s;if(s==="class"&&(d=".%s"),s==="data"&&(d="[data-%s]"),d.startsWith(".")){const m=d.substring(1);u+=`${o}.classList.remove('${m}'.replace('%s', light), '${m}'.replace('%s', dark));
      ${o}.classList.add('${m}'.replace('%s', colorScheme));`}const h=d.match(/\[([^[\]]+)\]/);if(h){const[m,y]=h[1].split("=");y||(u+=`${o}.removeAttribute('${m}'.replace('%s', light));
      ${o}.removeAttribute('${m}'.replace('%s', dark));`),u+=`
      ${o}.setAttribute('${m}'.replace('%s', colorScheme), ${y?`${y}.replace('%s', colorScheme)`:'""'});`}else u+=`${o}.setAttribute('${d}', colorScheme);`;return c.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${a}') || '${e}';
  const dark = localStorage.getItem('${i}-dark') || '${r}';
  const light = localStorage.getItem('${i}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${u}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function Yce(){}const Kce=({key:t,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(n){if(typeof window>"u")return;if(!e)return n;let r;try{r=e.localStorage.getItem(t)}catch{}return r||n},set:n=>{if(e)try{e.localStorage.setItem(t,n)}catch{}},subscribe:n=>{if(!e)return Yce;const r=a=>{const i=a.newValue;a.key===t&&n(i)};return e.addEventListener("storage",r),()=>{e.removeEventListener("storage",r)}}});function KE(){}function nP(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function EK(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function Xce(t){return EK(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function Qce(t){const{defaultMode:e="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:a=[],modeStorageKey:i=nO,colorSchemeStorageKey:s=rO,storageWindow:o=typeof window>"u"?void 0:window,storageManager:l=Kce,noSsr:u=!1}=t,d=a.join(","),h=a.length>1,m=A.useMemo(()=>l?.({key:i,storageWindow:o}),[l,i,o]),y=A.useMemo(()=>l?.({key:`${s}-light`,storageWindow:o}),[l,s,o]),x=A.useMemo(()=>l?.({key:`${s}-dark`,storageWindow:o}),[l,s,o]),[v,_]=A.useState(()=>{const z=m?.get(e)||e,M=y?.get(n)||n,N=x?.get(r)||r;return{mode:z,systemMode:nP(z),lightColorScheme:M,darkColorScheme:N}}),[C,w]=A.useState(u||!h);A.useEffect(()=>{w(!0)},[]);const T=Xce(v),E=A.useCallback(z=>{_(M=>{if(z===M.mode)return M;const N=z??e;return m?.set(N),{...M,mode:N,systemMode:nP(N)}})},[m,e]),k=A.useCallback(z=>{z?typeof z=="string"?z&&!d.includes(z)?console.error(`\`${z}\` does not exist in \`theme.colorSchemes\`.`):_(M=>{const N={...M};return EK(M,U=>{U==="light"&&(y?.set(z),N.lightColorScheme=z),U==="dark"&&(x?.set(z),N.darkColorScheme=z)}),N}):_(M=>{const N={...M},U=z.light===null?n:z.light,F=z.dark===null?r:z.dark;return U&&(d.includes(U)?(N.lightColorScheme=U,y?.set(U)):console.error(`\`${U}\` does not exist in \`theme.colorSchemes\`.`)),F&&(d.includes(F)?(N.darkColorScheme=F,x?.set(F)):console.error(`\`${F}\` does not exist in \`theme.colorSchemes\`.`)),N}):_(M=>(y?.set(n),x?.set(r),{...M,lightColorScheme:n,darkColorScheme:r}))},[d,y,x,n,r]),j=A.useCallback(z=>{v.mode==="system"&&_(M=>{const N=z?.matches?"dark":"light";return M.systemMode===N?M:{...M,systemMode:N}})},[v.mode]),O=A.useRef(j);return O.current=j,A.useEffect(()=>{if(typeof window.matchMedia!="function"||!h)return;const z=(...N)=>O.current(...N),M=window.matchMedia("(prefers-color-scheme: dark)");return M.addListener(z),z(M),()=>{M.removeListener(z)}},[h]),A.useEffect(()=>{if(h){const z=m?.subscribe(U=>{(!U||["light","dark","system"].includes(U))&&E(U||e)})||KE,M=y?.subscribe(U=>{(!U||d.match(U))&&k({light:U})})||KE,N=x?.subscribe(U=>{(!U||d.match(U))&&k({dark:U})})||KE;return()=>{z(),M(),N()}}},[k,E,d,e,o,h,m,y,x]),{...v,mode:C?v.mode:void 0,systemMode:C?v.systemMode:void 0,colorScheme:C?T:void 0,setMode:E,setColorScheme:k}}const Zce="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Jce(t){const{themeId:e,theme:n={},modeStorageKey:r=nO,colorSchemeStorageKey:a=rO,disableTransitionOnChange:i=!1,defaultColorScheme:s,resolveTheme:o}=t,l={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},u=A.createContext(void 0),d=()=>A.useContext(u)||l,h={},m={};function y(C){const{children:w,theme:T,modeStorageKey:E=r,colorSchemeStorageKey:k=a,disableTransitionOnChange:j=i,storageManager:O,storageWindow:z=typeof window>"u"?void 0:window,documentNode:M=typeof document>"u"?void 0:document,colorSchemeNode:N=typeof document>"u"?void 0:document.documentElement,disableNestedContext:U=!1,disableStyleSheetGeneration:F=!1,defaultMode:$="system",forceThemeRerender:D=!1,noSsr:H}=C,L=A.useRef(!1),V=tO(),J=A.useContext(u),Q=!!J&&!U,K=A.useMemo(()=>T||(typeof n=="function"?n():n),[T]),q=K[e],Z=q||K,{colorSchemes:Y=h,components:ne=m,cssVarPrefix:re}=Z,ie=Object.keys(Y).filter(ye=>!!Y[ye]).join(","),ce=A.useMemo(()=>ie.split(","),[ie]),he=typeof s=="string"?s:s.light,me=typeof s=="string"?s:s.dark,le=Y[he]&&Y[me]?$:Y[Z.defaultColorScheme]?.palette?.mode||Z.palette?.mode,{mode:de,setMode:pe,systemMode:ve,lightColorScheme:ge,darkColorScheme:oe,colorScheme:Se,setColorScheme:be}=Qce({supportedColorSchemes:ce,defaultLightColorScheme:he,defaultDarkColorScheme:me,modeStorageKey:E,colorSchemeStorageKey:k,defaultMode:le,storageManager:O,storageWindow:z,noSsr:H});let Ae=de,Me=Se;Q&&(Ae=J.mode,Me=J.colorScheme);let Pe=Me||Z.defaultColorScheme;Z.vars&&!D&&(Pe=Z.defaultColorScheme);const Le=A.useMemo(()=>{const ye=Z.generateThemeVars?.()||Z.vars,Ce={...Z,components:ne,colorSchemes:Y,cssVarPrefix:re,vars:ye};if(typeof Ce.generateSpacing=="function"&&(Ce.spacing=Ce.generateSpacing()),Pe){const Ne=Y[Pe];Ne&&typeof Ne=="object"&&Object.keys(Ne).forEach(Be=>{Ne[Be]&&typeof Ne[Be]=="object"?Ce[Be]={...Ce[Be],...Ne[Be]}:Ce[Be]=Ne[Be]})}return o?o(Ce):Ce},[Z,Pe,ne,Y,re]),Oe=Z.colorSchemeSelector;Ys(()=>{if(Me&&N&&Oe&&Oe!=="media"){const ye=Oe;let Ce=Oe;if(ye==="class"&&(Ce=".%s"),ye==="data"&&(Ce="[data-%s]"),ye?.startsWith("data-")&&!ye.includes("%s")&&(Ce=`[${ye}="%s"]`),Ce.startsWith("."))N.classList.remove(...ce.map(Ne=>Ce.substring(1).replace("%s",Ne))),N.classList.add(Ce.substring(1).replace("%s",Me));else{const Ne=Ce.replace("%s",Me).match(/\[([^\]]+)\]/);if(Ne){const[Be,Ke]=Ne[1].split("=");Ke||ce.forEach(Je=>{N.removeAttribute(Be.replace(Me,Je))}),N.setAttribute(Be,Ke?Ke.replace(/"|'/g,""):"")}else N.setAttribute(Ce,Me)}}},[Me,Oe,N,ce]),A.useEffect(()=>{let ye;if(j&&L.current&&M){const Ce=M.createElement("style");Ce.appendChild(M.createTextNode(Zce)),M.head.appendChild(Ce),window.getComputedStyle(M.body),ye=setTimeout(()=>{M.head.removeChild(Ce)},1)}return()=>{clearTimeout(ye)}},[Me,j,M]),A.useEffect(()=>(L.current=!0,()=>{L.current=!1}),[]);const Xe=A.useMemo(()=>({allColorSchemes:ce,colorScheme:Me,darkColorScheme:oe,lightColorScheme:ge,mode:Ae,setColorScheme:be,setMode:pe,systemMode:ve}),[ce,Me,oe,ge,Ae,be,pe,ve,Le.colorSchemeSelector]);let ke=!0;(F||Z.cssVariables===!1||Q&&V?.cssVarPrefix===re)&&(ke=!1);const Ie=c.jsxs(A.Fragment,{children:[c.jsx(wK,{themeId:q?e:void 0,theme:Le,children:w}),ke&&c.jsx(lK,{styles:Le.generateStyleSheets?.()||[]})]});return Q?Ie:c.jsx(u.Provider,{value:Xe,children:Ie})}const x=typeof s=="string"?s:s.light,v=typeof s=="string"?s:s.dark;return{CssVarsProvider:y,useColorScheme:d,getInitColorSchemeScript:C=>Wce({colorSchemeStorageKey:a,defaultLightColorScheme:x,defaultDarkColorScheme:v,modeStorageKey:r,...C})}}function eue(t=""){function e(...r){if(!r.length)return"";const a=r[0];return typeof a=="string"&&!a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${a}${e(...r.slice(1))})`:`, ${a}`}return(r,...a)=>`var(--${t?`${t}-`:""}${r}${e(...a)})`}const rP=(t,e,n,r=[])=>{let a=t;e.forEach((i,s)=>{s===e.length-1?Array.isArray(a)?a[Number(i)]=n:a&&typeof a=="object"&&(a[i]=n):a&&typeof a=="object"&&(a[i]||(a[i]=r.includes(i)?[]:{}),a=a[i])})},tue=(t,e,n)=>{function r(a,i=[],s=[]){Object.entries(a).forEach(([o,l])=>{(!n||n&&!n([...i,o]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...i,o],Array.isArray(l)?[...s,o]:s):e([...i,o],l,s))})}r(t)},nue=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function XE(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},a={},i={},s={};return tue(t,(o,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(o,l))){const d=`--${n?`${n}-`:""}${o.join("-")}`,h=nue(o,l);Object.assign(a,{[d]:h}),rP(i,o,`var(${d})`,u),rP(s,o,`var(${d}, ${h})`,u)}},o=>o[0]==="vars"),{css:a,vars:i,varsWithDefaults:s}}function rue(t,e={}){const{getSelector:n=C,disableCssColorScheme:r,colorSchemeSelector:a,enableContrastVars:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:l="light",...u}=t,{vars:d,css:h,varsWithDefaults:m}=XE(u,e);let y=m;const x={},{[l]:v,..._}=s;if(Object.entries(_||{}).forEach(([E,k])=>{const{vars:j,css:O,varsWithDefaults:z}=XE(k,e);y=Zi(y,z),x[E]={css:O,vars:j}}),v){const{css:E,vars:k,varsWithDefaults:j}=XE(v,e);y=Zi(y,j),x[l]={css:E,vars:k}}function C(E,k){let j=a;if(a==="class"&&(j=".%s"),a==="data"&&(j="[data-%s]"),a?.startsWith("data-")&&!a.includes("%s")&&(j=`[${a}="%s"]`),E){if(j==="media")return t.defaultColorScheme===E?":root":{[`@media (prefers-color-scheme: ${s[E]?.palette?.mode||E})`]:{":root":k}};if(j)return t.defaultColorScheme===E?`:root, ${j.replace("%s",String(E))}`:j.replace("%s",String(E))}return":root"}return{vars:y,generateThemeVars:()=>{let E={...d};return Object.entries(x).forEach(([,{vars:k}])=>{E=Zi(E,k)}),E},generateStyleSheets:()=>{const E=[],k=t.defaultColorScheme||"light";function j(M,N){Object.keys(N).length&&E.push(typeof M=="string"?{[M]:{...N}}:M)}j(n(void 0,{...h}),h);const{[k]:O,...z}=x;if(O){const{css:M}=O,N=s[k]?.palette?.mode,U=!r&&N?{colorScheme:N,...M}:{...M};j(n(k,{...U}),U)}return Object.entries(z).forEach(([M,{css:N}])=>{const U=s[M]?.palette?.mode,F=!r&&U?{colorScheme:U,...N}:{...N};j(n(M,{...F}),F)}),i&&E.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),E}}}function aue(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function Nt(t,e,n=void 0){const r={};for(const a in t){const i=t[a];let s="",o=!0;for(let l=0;l<i.length;l+=1){const u=i[l];u&&(s+=(o===!0?"":" ")+e(u),o=!1,n&&n[u]&&(s+=" "+n[u]))}r[a]=s}return r}const iue=vy(),sue=Zj("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ue(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),oue=t=>Jj({props:t,name:"MuiContainer",defaultTheme:iue}),lue=(t,e)=>{const n=l=>Dt(e,l),{classes:r,fixed:a,disableGutters:i,maxWidth:s}=t,o={root:["root",s&&`maxWidth${Ue(String(s))}`,a&&"fixed",i&&"disableGutters"]};return Nt(o,n,r)};function cue(t={}){const{createStyledComponent:e=sue,useThemeProps:n=oue,componentName:r="MuiContainer"}=t,a=e(({theme:s,ownerState:o})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!o.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}}),({theme:s,ownerState:o})=>o.fixed&&Object.keys(s.breakpoints.values).reduce((l,u)=>{const d=u,h=s.breakpoints.values[d];return h!==0&&(l[s.breakpoints.up(d)]={maxWidth:`${h}${s.breakpoints.unit}`}),l},{}),({theme:s,ownerState:o})=>({...o.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},...o.maxWidth&&o.maxWidth!=="xs"&&{[s.breakpoints.up(o.maxWidth)]:{maxWidth:`${s.breakpoints.values[o.maxWidth]}${s.breakpoints.unit}`}}}));return A.forwardRef(function(o,l){const u=n(o),{className:d,component:h="div",disableGutters:m=!1,fixed:y=!1,maxWidth:x="lg",classes:v,..._}=u,C={...u,component:h,disableGutters:m,fixed:y,maxWidth:x},w=lue(C,r);return c.jsx(a,{as:h,ownerState:C,className:ut(w.root,d),ref:l,..._})})}function S2(t,e){return A.isValidElement(t)&&e.indexOf(t.type.muiName??t.type?._payload?.value?.muiName)!==-1}const uue=(t,e)=>t.filter(n=>e.includes(n)),Sy=(t,e,n)=>{const r=t.keys[0];Array.isArray(e)?e.forEach((a,i)=>{n((s,o)=>{i<=t.keys.length-1&&(i===0?Object.assign(s,o):s[t.up(t.keys[i])]=o)},a)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:uue(t.keys,Object.keys(e))).forEach(i=>{if(t.keys.includes(i)){const s=e[i];s!==void 0&&n((o,l)=>{r===i?Object.assign(o,l):o[t.up(i)]=l},s)}}):(typeof e=="number"||typeof e=="string")&&n((a,i)=>{Object.assign(a,i)},e)};function J4(t){return`--Grid-${t}Spacing`}function b5(t){return`--Grid-parent-${t}Spacing`}const aP="--Grid-columns",P1="--Grid-parent-columns",due=({theme:t,ownerState:e})=>{const n={};return Sy(t.breakpoints,e.size,(r,a)=>{let i={};a==="grow"&&(i={flexBasis:0,flexGrow:1,maxWidth:"100%"}),a==="auto"&&(i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof a=="number"&&(i={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${a} / var(${P1}) - (var(${P1}) - ${a}) * (var(${b5("column")}) / var(${P1})))`}),r(n,i)}),n},fue=({theme:t,ownerState:e})=>{const n={};return Sy(t.breakpoints,e.offset,(r,a)=>{let i={};a==="auto"&&(i={marginLeft:"auto"}),typeof a=="number"&&(i={marginLeft:a===0?"0px":`calc(100% * ${a} / var(${P1}) + var(${b5("column")}) * ${a} / var(${P1}))`}),r(n,i)}),n},hue=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={[aP]:12};return Sy(t.breakpoints,e.columns,(r,a)=>{const i=a??12;r(n,{[aP]:i,"> *":{[P1]:i}})}),n},pue=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return Sy(t.breakpoints,e.rowSpacing,(r,a)=>{const i=typeof a=="string"?a:t.spacing?.(a);r(n,{[J4("row")]:i,"> *":{[b5("row")]:i}})}),n},mue=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return Sy(t.breakpoints,e.columnSpacing,(r,a)=>{const i=typeof a=="string"?a:t.spacing?.(a);r(n,{[J4("column")]:i,"> *":{[b5("column")]:i}})}),n},gue=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return Sy(t.breakpoints,e.direction,(r,a)=>{r(n,{flexDirection:a})}),n},yue=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${J4("row")}) var(${J4("column")})`}}),bue=t=>{const e=[];return Object.entries(t).forEach(([n,r])=>{r!==!1&&r!==void 0&&e.push(`grid-${n}-${String(r)}`)}),e},xue=(t,e="xs")=>{function n(r){return r===void 0?!1:typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number"&&r>0}if(n(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const r=[];return Object.entries(t).forEach(([a,i])=>{n(i)&&r.push(`spacing-${a}-${String(i)}`)}),r}return[]},vue=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,n])=>`direction-${e}-${n}`):[`direction-xs-${String(t)}`];function Sue(t,e){t.item!==void 0&&delete t.item,t.zeroMinWidth!==void 0&&delete t.zeroMinWidth,e.keys.forEach(n=>{t[n]!==void 0&&delete t[n]})}const _ue=vy(),Cue=Zj("div",{name:"MuiGrid",slot:"Root"});function wue(t){return Jj({props:t,name:"MuiGrid",defaultTheme:_ue})}function Eue(t={}){const{createStyledComponent:e=Cue,useThemeProps:n=wue,useTheme:r=Vv,componentName:a="MuiGrid"}=t,i=(u,d)=>{const{container:h,direction:m,spacing:y,wrap:x,size:v}=u,_={root:["root",h&&"container",x!=="wrap"&&`wrap-xs-${String(x)}`,...vue(m),...bue(v),...h?xue(y,d.breakpoints.keys[0]):[]]};return Nt(_,C=>Dt(a,C),{})};function s(u,d,h=()=>!0){const m={};return u===null||(Array.isArray(u)?u.forEach((y,x)=>{y!==null&&h(y)&&d.keys[x]&&(m[d.keys[x]]=y)}):typeof u=="object"?Object.keys(u).forEach(y=>{const x=u[y];x!=null&&h(x)&&(m[y]=x)}):m[d.keys[0]]=u),m}const o=e(hue,mue,pue,due,gue,yue,fue),l=A.forwardRef(function(d,h){const m=r(),y=n(d),x=u5(y);Sue(x,m.breakpoints);const{className:v,children:_,columns:C=12,container:w=!1,component:T="div",direction:E="row",wrap:k="wrap",size:j={},offset:O={},spacing:z=0,rowSpacing:M=z,columnSpacing:N=z,unstable_level:U=0,...F}=x,$=s(j,m.breakpoints,q=>q!==!1),D=s(O,m.breakpoints),H=d.columns??(U?void 0:C),L=d.spacing??(U?void 0:z),V=d.rowSpacing??d.spacing??(U?void 0:M),J=d.columnSpacing??d.spacing??(U?void 0:N),Q={...x,level:U,columns:H,container:w,direction:E,wrap:k,spacing:L,rowSpacing:V,columnSpacing:J,size:$,offset:D},K=i(Q,m);return c.jsx(o,{ref:h,as:T,ownerState:Q,className:ut(K.root,v),...F,children:A.Children.map(_,q=>A.isValidElement(q)&&S2(q,["Grid"])&&w&&q.props.container?A.cloneElement(q,{unstable_level:q.props?.unstable_level??U+1}):q)})});return l.muiName="Grid",l}const Tue=vy(),Aue=Zj("div",{name:"MuiStack",slot:"Root"});function Rue(t){return Jj({props:t,name:"MuiStack",defaultTheme:Tue})}function kue(t,e){const n=A.Children.toArray(t).filter(Boolean);return n.reduce((r,a,i)=>(r.push(a),i<n.length-1&&r.push(A.cloneElement(e,{key:`separator-${i}`})),r),[])}const Iue=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],jue=({ownerState:t,theme:e})=>{let n={display:"flex",flexDirection:"column",...gu({theme:e},$E({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(t.spacing){const r=a5(e),a=Object.keys(e.breakpoints.values).reduce((l,u)=>((typeof t.spacing=="object"&&t.spacing[u]!=null||typeof t.direction=="object"&&t.direction[u]!=null)&&(l[u]=!0),l),{}),i=$E({values:t.direction,base:a}),s=$E({values:t.spacing,base:a});typeof i=="object"&&Object.keys(i).forEach((l,u,d)=>{if(!i[l]){const m=u>0?i[d[u-1]]:"column";i[l]=m}}),n=Zi(n,gu({theme:e},s,(l,u)=>t.useFlexGap?{gap:dg(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Iue(u?i[u]:t.direction)}`]:dg(r,l)}}))}return n=Eoe(e.breakpoints,n),n};function Oue(t={}){const{createStyledComponent:e=Aue,useThemeProps:n=Rue,componentName:r="MuiStack"}=t,a=()=>Nt({root:["root"]},l=>Dt(r,l),{}),i=e(jue);return A.forwardRef(function(l,u){const d=n(l),h=u5(d),{component:m="div",direction:y="column",spacing:x=0,divider:v,children:_,className:C,useFlexGap:w=!1,...T}=h,E={direction:y,spacing:x,useFlexGap:w},k=a();return c.jsx(i,{as:m,ownerState:E,ref:u,className:ut(k.root,C),...T,children:v?kue(_,v):_})})}const ev={black:"#000",white:"#fff"},Due={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},K0={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},X0={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},vx={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Q0={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Z0={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},J0={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function TK(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ev.white,default:ev.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const AK=TK();function RK(){return{text:{primary:ev.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ev.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const bk=RK();function iP(t,e,n,r){const a=r.light||r,i=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=y5(t.main,a):e==="dark"&&(t.dark=g5(t.main,i)))}function sP(t,e,n,r,a){const i=a.light||a,s=a.dark||a*1.5;e[n]||(e.hasOwnProperty(r)?e[n]=e[r]:n==="light"?e.light=`color-mix(in ${t}, ${e.main}, #fff ${(i*100).toFixed(0)}%)`:n==="dark"&&(e.dark=`color-mix(in ${t}, ${e.main}, #000 ${(s*100).toFixed(0)}%)`))}function Nue(t="light"){return t==="dark"?{main:Q0[200],light:Q0[50],dark:Q0[400]}:{main:Q0[700],light:Q0[400],dark:Q0[800]}}function Mue(t="light"){return t==="dark"?{main:K0[200],light:K0[50],dark:K0[400]}:{main:K0[500],light:K0[300],dark:K0[700]}}function Pue(t="light"){return t==="dark"?{main:X0[500],light:X0[300],dark:X0[700]}:{main:X0[700],light:X0[400],dark:X0[800]}}function Lue(t="light"){return t==="dark"?{main:Z0[400],light:Z0[300],dark:Z0[700]}:{main:Z0[700],light:Z0[500],dark:Z0[900]}}function zue(t="light"){return t==="dark"?{main:J0[400],light:J0[300],dark:J0[700]}:{main:J0[800],light:J0[500],dark:J0[900]}}function Fue(t="light"){return t==="dark"?{main:vx[400],light:vx[300],dark:vx[700]}:{main:"#ed6c02",light:vx[500],dark:vx[900]}}function Bue(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function aO(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:a,...i}=t,s=t.primary||Nue(e),o=t.secondary||Mue(e),l=t.error||Pue(e),u=t.info||Lue(e),d=t.success||zue(e),h=t.warning||Fue(e);function m(_){return a?Bue(_):Dce(_,bk.text.primary)>=n?bk.text.primary:AK.text.primary}const y=({color:_,name:C,mainShade:w=500,lightShade:T=300,darkShade:E=700})=>{if(_={..._},!_.main&&_[w]&&(_.main=_[w]),!_.hasOwnProperty("main"))throw new Error(Lf(11,C?` (${C})`:"",w));if(typeof _.main!="string")throw new Error(Lf(12,C?` (${C})`:"",JSON.stringify(_.main)));return a?(sP(a,_,"light",T,r),sP(a,_,"dark",E,r)):(iP(_,"light",T,r),iP(_,"dark",E,r)),_.contrastText||(_.contrastText=m(_.main)),_};let x;return e==="light"?x=TK():e==="dark"&&(x=RK()),Zi({common:{...ev},mode:e,primary:y({color:s,name:"primary"}),secondary:y({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:l,name:"error"}),warning:y({color:h,name:"warning"}),info:y({color:u,name:"info"}),success:y({color:d,name:"success"}),grey:Due,contrastThreshold:n,getContrastText:m,augmentColor:y,tonalOffset:r,...x},i)}function Hue(t){const e={};return Object.entries(t).forEach(r=>{const[a,i]=r;typeof i=="object"&&(e[a]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),e}function Uue(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function $ue(t){return Math.round(t*1e5)/1e5}const oP={textTransform:"uppercase"},lP='"Roboto", "Helvetica", "Arial", sans-serif';function kK(t,e){const{fontFamily:n=lP,fontSize:r=14,fontWeightLight:a=300,fontWeightRegular:i=400,fontWeightMedium:s=500,fontWeightBold:o=700,htmlFontSize:l=16,allVariants:u,pxToRem:d,...h}=typeof e=="function"?e(t):e,m=r/14,y=d||(_=>`${_/l*m}rem`),x=(_,C,w,T,E)=>({fontFamily:n,fontWeight:_,fontSize:y(C),lineHeight:w,...n===lP?{letterSpacing:`${$ue(T/C)}em`}:{},...E,...u}),v={h1:x(a,96,1.167,-1.5),h2:x(a,60,1.2,-.5),h3:x(i,48,1.167,0),h4:x(i,34,1.235,.25),h5:x(i,24,1.334,0),h6:x(s,20,1.6,.15),subtitle1:x(i,16,1.75,.15),subtitle2:x(s,14,1.57,.1),body1:x(i,16,1.5,.15),body2:x(i,14,1.43,.15),button:x(s,14,1.75,.4,oP),caption:x(i,12,1.66,.4),overline:x(i,12,2.66,1,oP),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Zi({htmlFontSize:l,pxToRem:y,fontFamily:n,fontSize:r,fontWeightLight:a,fontWeightRegular:i,fontWeightMedium:s,fontWeightBold:o,...v},h,{clone:!1})}const Gue=.2,que=.14,Vue=.12;function Ea(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Gue})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${que})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Vue})`].join(",")}const Wue=["none",Ea(0,2,1,-1,0,1,1,0,0,1,3,0),Ea(0,3,1,-2,0,2,2,0,0,1,5,0),Ea(0,3,3,-2,0,3,4,0,0,1,8,0),Ea(0,2,4,-1,0,4,5,0,0,1,10,0),Ea(0,3,5,-1,0,5,8,0,0,1,14,0),Ea(0,3,5,-1,0,6,10,0,0,1,18,0),Ea(0,4,5,-2,0,7,10,1,0,2,16,1),Ea(0,5,5,-3,0,8,10,1,0,3,14,2),Ea(0,5,6,-3,0,9,12,1,0,3,16,2),Ea(0,6,6,-3,0,10,14,1,0,4,18,3),Ea(0,6,7,-4,0,11,15,1,0,4,20,3),Ea(0,7,8,-4,0,12,17,2,0,5,22,4),Ea(0,7,8,-4,0,13,19,2,0,5,24,4),Ea(0,7,9,-4,0,14,21,2,0,5,26,4),Ea(0,8,9,-5,0,15,22,2,0,6,28,5),Ea(0,8,10,-5,0,16,24,2,0,6,30,5),Ea(0,8,11,-5,0,17,26,2,0,6,32,5),Ea(0,9,11,-5,0,18,28,2,0,7,34,6),Ea(0,9,12,-6,0,19,29,2,0,7,36,6),Ea(0,10,13,-6,0,20,31,3,0,8,38,7),Ea(0,10,13,-6,0,21,33,3,0,8,40,7),Ea(0,10,14,-6,0,22,35,3,0,8,42,7),Ea(0,11,14,-7,0,23,36,3,0,9,44,8),Ea(0,11,15,-7,0,24,38,3,0,9,46,8)],Yue={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},IK={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function cP(t){return`${Math.round(t)}ms`}function Kue(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Xue(t){const e={...Yue,...t.easing},n={...IK,...t.duration};return{getAutoHeightDuration:Kue,create:(a=["all"],i={})=>{const{duration:s=n.standard,easing:o=e.easeInOut,delay:l=0,...u}=i;return(Array.isArray(a)?a:[a]).map(d=>`${d} ${typeof s=="string"?s:cP(s)} ${o} ${typeof l=="string"?l:cP(l)}`).join(",")},...t,easing:e,duration:n}}const Que={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Zue(t){return bd(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function jK(t={}){const e={...t};function n(r){const a=Object.entries(r);for(let i=0;i<a.length;i++){const[s,o]=a[i];!Zue(o)||s.startsWith("unstable_")?delete r[s]:bd(o)&&(r[s]={...o},n(r[s]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function uP(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const Jue=t=>{if(!Number.isNaN(+t))return+t;const e=t.match(/\d*\.?\d+/g);if(!e)return 0;let n=0;for(let r=0;r<e.length;r+=1)n+=+e[r];return n};function ede(t){Object.assign(t,{alpha(e,n){const r=this||t;return r.colorSpace?`oklch(from ${e} l c h / ${typeof n=="string"?`calc(${n})`:n})`:r.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:_s(e,Jue(n))},lighten(e,n){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #fff ${uP(n)})`:y5(e,n)},darken(e,n){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #000 ${uP(n)})`:g5(e,n)}})}function xk(t={},...e){const{breakpoints:n,mixins:r={},spacing:a,palette:i={},transitions:s={},typography:o={},shape:l,colorSpace:u,...d}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Lf(20));const h=aO({...i,colorSpace:u}),m=vy(t);let y=Zi(m,{mixins:Uue(m.breakpoints,r),palette:h,shadows:Wue.slice(),typography:kK(h,o),transitions:Xue(s),zIndex:{...Que}});return y=Zi(y,d),y=e.reduce((x,v)=>Zi(x,v),y),y.unstable_sxConfig={...Uv,...d?.unstable_sxConfig},y.unstable_sx=function(v){return _p({sx:v,theme:this})},y.toRuntimeSource=jK,ede(y),y}function vk(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const tde=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=vk(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function OK(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function DK(t){return t==="dark"?tde:[]}function nde(t){const{palette:e={mode:"light"},opacity:n,overlays:r,colorSpace:a,...i}=t,s=aO({...e,colorSpace:a});return{palette:s,opacity:{...OK(s.mode),...n},overlays:r||DK(s.mode),...i}}function rde(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const ade=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],ide=t=>(e,n)=>{const r=t.rootSelector||":root",a=t.colorSchemeSelector;let i=a;if(a==="class"&&(i=".%s"),a==="data"&&(i="[data-%s]"),a?.startsWith("data-")&&!a.includes("%s")&&(i=`[${a}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const s={};return ade(t.cssVarPrefix).forEach(o=>{s[o]=n[o],delete n[o]}),i==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:i?{[i.replace("%s",e)]:s,[`${r}, ${i.replace("%s",e)}`]:n}:{[r]:{...n,...s}}}if(i&&i!=="media")return`${r}, ${i.replace("%s",String(e))}`}else if(e){if(i==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(i)return i.replace("%s",String(e))}return r};function sde(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function lt(t,e,n){!t[e]&&n&&(t[e]=n)}function t2(t){return typeof t!="string"||!t.startsWith("hsl")?t:vK(t)}function xf(t,e){`${e}Channel`in t||(t[`${e}Channel`]=e2(t2(t[e])))}function ode(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const sd=t=>{try{return t()}catch{}},lde=(t="mui")=>eue(t);function QE(t,e,n,r,a){if(!n)return;n=n===!0?{}:n;const i=a==="dark"?"dark":"light";if(!r){e[a]=nde({...n,palette:{mode:i,...n?.palette},colorSpace:t});return}const{palette:s,...o}=xk({...r,palette:{mode:i,...n?.palette},colorSpace:t});return e[a]={...n,palette:s,opacity:{...OK(i),...n?.opacity},overlays:n?.overlays||DK(i)},o}function cde(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:a=!1,cssVarPrefix:i="mui",nativeColor:s=!1,shouldSkipGeneratingVar:o=rde,colorSchemeSelector:l=n.light&&n.dark?"media":void 0,rootSelector:u=":root",...d}=t,h=Object.keys(n)[0],m=r||(n.light&&h!=="light"?"light":h),y=lde(i),{[m]:x,light:v,dark:_,...C}=n,w={...C};let T=x;if((m==="dark"&&!("dark"in n)||m==="light"&&!("light"in n))&&(T=!0),!T)throw new Error(Lf(21,m));let E;s&&(E="oklch");const k=QE(E,w,T,d,m);v&&!w.light&&QE(E,w,v,void 0,"light"),_&&!w.dark&&QE(E,w,_,void 0,"dark");let j={defaultColorScheme:m,...k,cssVarPrefix:i,colorSchemeSelector:l,rootSelector:u,getCssVar:y,colorSchemes:w,font:{...Hue(k.typography),...k.font},spacing:ode(d.spacing)};Object.keys(j.colorSchemes).forEach(U=>{const F=j.colorSchemes[U].palette,$=H=>{const L=H.split("-"),V=L[1],J=L[2];return y(H,F[V][J])};F.mode==="light"&&(lt(F.common,"background","#fff"),lt(F.common,"onBackground","#000")),F.mode==="dark"&&(lt(F.common,"background","#000"),lt(F.common,"onBackground","#fff"));function D(H,L,V){if(E){let J;return H===wm&&(J=`transparent ${((1-V)*100).toFixed(0)}%`),H===Pr&&(J=`#000 ${(V*100).toFixed(0)}%`),H===Lr&&(J=`#fff ${(V*100).toFixed(0)}%`),`color-mix(in ${E}, ${L}, ${J})`}return H(L,V)}if(sde(F,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),F.mode==="light"){lt(F.Alert,"errorColor",D(Pr,F.error.light,.6)),lt(F.Alert,"infoColor",D(Pr,F.info.light,.6)),lt(F.Alert,"successColor",D(Pr,F.success.light,.6)),lt(F.Alert,"warningColor",D(Pr,F.warning.light,.6)),lt(F.Alert,"errorFilledBg",$("palette-error-main")),lt(F.Alert,"infoFilledBg",$("palette-info-main")),lt(F.Alert,"successFilledBg",$("palette-success-main")),lt(F.Alert,"warningFilledBg",$("palette-warning-main")),lt(F.Alert,"errorFilledColor",sd(()=>F.getContrastText(F.error.main))),lt(F.Alert,"infoFilledColor",sd(()=>F.getContrastText(F.info.main))),lt(F.Alert,"successFilledColor",sd(()=>F.getContrastText(F.success.main))),lt(F.Alert,"warningFilledColor",sd(()=>F.getContrastText(F.warning.main))),lt(F.Alert,"errorStandardBg",D(Lr,F.error.light,.9)),lt(F.Alert,"infoStandardBg",D(Lr,F.info.light,.9)),lt(F.Alert,"successStandardBg",D(Lr,F.success.light,.9)),lt(F.Alert,"warningStandardBg",D(Lr,F.warning.light,.9)),lt(F.Alert,"errorIconColor",$("palette-error-main")),lt(F.Alert,"infoIconColor",$("palette-info-main")),lt(F.Alert,"successIconColor",$("palette-success-main")),lt(F.Alert,"warningIconColor",$("palette-warning-main")),lt(F.AppBar,"defaultBg",$("palette-grey-100")),lt(F.Avatar,"defaultBg",$("palette-grey-400")),lt(F.Button,"inheritContainedBg",$("palette-grey-300")),lt(F.Button,"inheritContainedHoverBg",$("palette-grey-A100")),lt(F.Chip,"defaultBorder",$("palette-grey-400")),lt(F.Chip,"defaultAvatarColor",$("palette-grey-700")),lt(F.Chip,"defaultIconColor",$("palette-grey-700")),lt(F.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),lt(F.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),lt(F.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),lt(F.LinearProgress,"primaryBg",D(Lr,F.primary.main,.62)),lt(F.LinearProgress,"secondaryBg",D(Lr,F.secondary.main,.62)),lt(F.LinearProgress,"errorBg",D(Lr,F.error.main,.62)),lt(F.LinearProgress,"infoBg",D(Lr,F.info.main,.62)),lt(F.LinearProgress,"successBg",D(Lr,F.success.main,.62)),lt(F.LinearProgress,"warningBg",D(Lr,F.warning.main,.62)),lt(F.Skeleton,"bg",E?D(wm,F.text.primary,.11):`rgba(${$("palette-text-primaryChannel")} / 0.11)`),lt(F.Slider,"primaryTrack",D(Lr,F.primary.main,.62)),lt(F.Slider,"secondaryTrack",D(Lr,F.secondary.main,.62)),lt(F.Slider,"errorTrack",D(Lr,F.error.main,.62)),lt(F.Slider,"infoTrack",D(Lr,F.info.main,.62)),lt(F.Slider,"successTrack",D(Lr,F.success.main,.62)),lt(F.Slider,"warningTrack",D(Lr,F.warning.main,.62));const H=E?D(Pr,F.background.default,.6825):h_(F.background.default,.8);lt(F.SnackbarContent,"bg",H),lt(F.SnackbarContent,"color",sd(()=>E?bk.text.primary:F.getContrastText(H))),lt(F.SpeedDialAction,"fabHoverBg",h_(F.background.paper,.15)),lt(F.StepConnector,"border",$("palette-grey-400")),lt(F.StepContent,"border",$("palette-grey-400")),lt(F.Switch,"defaultColor",$("palette-common-white")),lt(F.Switch,"defaultDisabledColor",$("palette-grey-100")),lt(F.Switch,"primaryDisabledColor",D(Lr,F.primary.main,.62)),lt(F.Switch,"secondaryDisabledColor",D(Lr,F.secondary.main,.62)),lt(F.Switch,"errorDisabledColor",D(Lr,F.error.main,.62)),lt(F.Switch,"infoDisabledColor",D(Lr,F.info.main,.62)),lt(F.Switch,"successDisabledColor",D(Lr,F.success.main,.62)),lt(F.Switch,"warningDisabledColor",D(Lr,F.warning.main,.62)),lt(F.TableCell,"border",D(Lr,D(wm,F.divider,1),.88)),lt(F.Tooltip,"bg",D(wm,F.grey[700],.92))}if(F.mode==="dark"){lt(F.Alert,"errorColor",D(Lr,F.error.light,.6)),lt(F.Alert,"infoColor",D(Lr,F.info.light,.6)),lt(F.Alert,"successColor",D(Lr,F.success.light,.6)),lt(F.Alert,"warningColor",D(Lr,F.warning.light,.6)),lt(F.Alert,"errorFilledBg",$("palette-error-dark")),lt(F.Alert,"infoFilledBg",$("palette-info-dark")),lt(F.Alert,"successFilledBg",$("palette-success-dark")),lt(F.Alert,"warningFilledBg",$("palette-warning-dark")),lt(F.Alert,"errorFilledColor",sd(()=>F.getContrastText(F.error.dark))),lt(F.Alert,"infoFilledColor",sd(()=>F.getContrastText(F.info.dark))),lt(F.Alert,"successFilledColor",sd(()=>F.getContrastText(F.success.dark))),lt(F.Alert,"warningFilledColor",sd(()=>F.getContrastText(F.warning.dark))),lt(F.Alert,"errorStandardBg",D(Pr,F.error.light,.9)),lt(F.Alert,"infoStandardBg",D(Pr,F.info.light,.9)),lt(F.Alert,"successStandardBg",D(Pr,F.success.light,.9)),lt(F.Alert,"warningStandardBg",D(Pr,F.warning.light,.9)),lt(F.Alert,"errorIconColor",$("palette-error-main")),lt(F.Alert,"infoIconColor",$("palette-info-main")),lt(F.Alert,"successIconColor",$("palette-success-main")),lt(F.Alert,"warningIconColor",$("palette-warning-main")),lt(F.AppBar,"defaultBg",$("palette-grey-900")),lt(F.AppBar,"darkBg",$("palette-background-paper")),lt(F.AppBar,"darkColor",$("palette-text-primary")),lt(F.Avatar,"defaultBg",$("palette-grey-600")),lt(F.Button,"inheritContainedBg",$("palette-grey-800")),lt(F.Button,"inheritContainedHoverBg",$("palette-grey-700")),lt(F.Chip,"defaultBorder",$("palette-grey-700")),lt(F.Chip,"defaultAvatarColor",$("palette-grey-300")),lt(F.Chip,"defaultIconColor",$("palette-grey-300")),lt(F.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),lt(F.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),lt(F.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),lt(F.LinearProgress,"primaryBg",D(Pr,F.primary.main,.5)),lt(F.LinearProgress,"secondaryBg",D(Pr,F.secondary.main,.5)),lt(F.LinearProgress,"errorBg",D(Pr,F.error.main,.5)),lt(F.LinearProgress,"infoBg",D(Pr,F.info.main,.5)),lt(F.LinearProgress,"successBg",D(Pr,F.success.main,.5)),lt(F.LinearProgress,"warningBg",D(Pr,F.warning.main,.5)),lt(F.Skeleton,"bg",E?D(wm,F.text.primary,.13):`rgba(${$("palette-text-primaryChannel")} / 0.13)`),lt(F.Slider,"primaryTrack",D(Pr,F.primary.main,.5)),lt(F.Slider,"secondaryTrack",D(Pr,F.secondary.main,.5)),lt(F.Slider,"errorTrack",D(Pr,F.error.main,.5)),lt(F.Slider,"infoTrack",D(Pr,F.info.main,.5)),lt(F.Slider,"successTrack",D(Pr,F.success.main,.5)),lt(F.Slider,"warningTrack",D(Pr,F.warning.main,.5));const H=E?D(Lr,F.background.default,.985):h_(F.background.default,.98);lt(F.SnackbarContent,"bg",H),lt(F.SnackbarContent,"color",sd(()=>E?AK.text.primary:F.getContrastText(H))),lt(F.SpeedDialAction,"fabHoverBg",h_(F.background.paper,.15)),lt(F.StepConnector,"border",$("palette-grey-600")),lt(F.StepContent,"border",$("palette-grey-600")),lt(F.Switch,"defaultColor",$("palette-grey-300")),lt(F.Switch,"defaultDisabledColor",$("palette-grey-600")),lt(F.Switch,"primaryDisabledColor",D(Pr,F.primary.main,.55)),lt(F.Switch,"secondaryDisabledColor",D(Pr,F.secondary.main,.55)),lt(F.Switch,"errorDisabledColor",D(Pr,F.error.main,.55)),lt(F.Switch,"infoDisabledColor",D(Pr,F.info.main,.55)),lt(F.Switch,"successDisabledColor",D(Pr,F.success.main,.55)),lt(F.Switch,"warningDisabledColor",D(Pr,F.warning.main,.55)),lt(F.TableCell,"border",D(Pr,D(wm,F.divider,1),.68)),lt(F.Tooltip,"bg",D(wm,F.grey[700],.92))}xf(F.background,"default"),xf(F.background,"paper"),xf(F.common,"background"),xf(F.common,"onBackground"),xf(F,"divider"),Object.keys(F).forEach(H=>{const L=F[H];H!=="tonalOffset"&&L&&typeof L=="object"&&(L.main&&lt(F[H],"mainChannel",e2(t2(L.main))),L.light&&lt(F[H],"lightChannel",e2(t2(L.light))),L.dark&&lt(F[H],"darkChannel",e2(t2(L.dark))),L.contrastText&&lt(F[H],"contrastTextChannel",e2(t2(L.contrastText))),H==="text"&&(xf(F[H],"primary"),xf(F[H],"secondary")),H==="action"&&(L.active&&xf(F[H],"active"),L.selected&&xf(F[H],"selected")))})}),j=e.reduce((U,F)=>Zi(U,F),j);const O={prefix:i,disableCssColorScheme:a,shouldSkipGeneratingVar:o,getSelector:ide(j),enableContrastVars:s},{vars:z,generateThemeVars:M,generateStyleSheets:N}=rue(j,O);return j.vars=z,Object.entries(j.colorSchemes[j.defaultColorScheme]).forEach(([U,F])=>{j[U]=F}),j.generateThemeVars=M,j.generateStyleSheets=N,j.generateSpacing=function(){return uK(d.spacing,a5(this))},j.getColorSchemeSelector=aue(l),j.spacing=j.generateSpacing(),j.shouldSkipGeneratingVar=o,j.unstable_sxConfig={...Uv,...d?.unstable_sxConfig},j.unstable_sx=function(F){return _p({sx:F,theme:this})},j.toRuntimeSource=jK,j}function dP(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:aO({...n===!0?{}:n.palette,mode:e})})}function x5(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:a=n?void 0:{light:!0},defaultColorScheme:i=n?.mode,...s}=t,o=i||"light",l=a?.[o],u={...a,...n?{[o]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return xk(t,...e);let d=n;"palette"in t||u[o]&&(u[o]!==!0?d=u[o].palette:o==="dark"&&(d={mode:"dark"}));const h=xk({...t,palette:d},...e);return h.defaultColorScheme=o,h.colorSchemes=u,h.palette.mode==="light"&&(h.colorSchemes.light={...u.light!==!0&&u.light,palette:h.palette},dP(h,"dark",u.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:h.palette},dP(h,"light",u.light)),h}return!n&&!("light"in u)&&o==="light"&&(u.light=!0),cde({...s,colorSchemes:u,defaultColorScheme:o,...typeof r!="boolean"&&r},...e)}const iO=x5(),hu="$$material";function rs(){const t=Vv(iO);return t[hu]||t}function ude(t){return c.jsx(dK,{...t,defaultTheme:iO,themeId:hu})}function v5(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Ei=t=>v5(t)&&t!=="classes",$e=gK({themeId:hu,defaultTheme:iO,rootShouldForwardProp:Ei});function sO(t){return function(n){return c.jsx(ude,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function dde(){return u5}function Ft(t){return Hce(t)}const Sk=typeof sO({})=="function",fde=(t,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!t.vars&&{colorScheme:t.palette.mode}}),hde=t=>({color:(t.vars||t).palette.text.primary,...t.typography.body1,backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),NK=(t,e=!1)=>{const n={};e&&t.colorSchemes&&typeof t.getColorSchemeSelector=="function"&&Object.entries(t.colorSchemes).forEach(([i,s])=>{const o=t.getColorSchemeSelector(i);o.startsWith("@")?n[o]={":root":{colorScheme:s.palette?.mode}}:n[o.replace(/\s*&/,"")]={colorScheme:s.palette?.mode}});let r={html:fde(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:{margin:0,...hde(t),"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}},...n};const a=t.components?.MuiCssBaseline?.styleOverrides;return a&&(r=[r,a]),r},R4="mui-ecs",pde=t=>{const e=NK(t,!1),n=Array.isArray(e)?e[0]:e;return!t.vars&&n&&(n.html[`:root:has(${R4})`]={colorScheme:t.palette.mode}),t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([r,a])=>{const i=t.getColorSchemeSelector(r);i.startsWith("@")?n[i]={[`:root:not(:has(.${R4}))`]:{colorScheme:a.palette?.mode}}:n[i.replace(/\s*&/,"")]={[`&:not(:has(.${R4}))`]:{colorScheme:a.palette?.mode}}}),e},mde=sO(Sk?({theme:t,enableColorScheme:e})=>NK(t,e):({theme:t})=>pde(t));function gde(t){const e=Ft({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return c.jsxs(A.Fragment,{children:[Sk&&c.jsx(mde,{enableColorScheme:r}),!Sk&&!r&&c.jsx("span",{className:R4,style:{display:"none"}}),n]})}var _y=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yde={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},bde=class{#e=yde;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Um=new bde;function xde(t){setTimeout(t,0)}var fg=typeof window>"u"||"Deno"in globalThis;function mo(){}function vde(t,e){return typeof t=="function"?t(e):t}function _k(t){return typeof t=="number"&&t>=0&&t!==1/0}function MK(t,e){return Math.max(t+(e||0)-Date.now(),0)}function hp(t,e){return typeof t=="function"?t(e):t}function hc(t,e){return typeof t=="function"?t(e):t}function fP(t,e){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:s,stale:o}=t;if(s){if(r){if(e.queryHash!==oO(s,e.options))return!1}else if(!tv(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||a&&a!==e.state.fetchStatus||i&&!i(e))}function hP(t,e){const{exact:n,status:r,predicate:a,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(hg(e.options.mutationKey)!==hg(i))return!1}else if(!tv(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function oO(t,e){return(e?.queryKeyHashFn||hg)(t)}function hg(t){return JSON.stringify(t,(e,n)=>Ck(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function tv(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>tv(t[n],e[n])):!1}var Sde=Object.prototype.hasOwnProperty;function PK(t,e){if(t===e)return t;const n=pP(t)&&pP(e);if(!n&&!(Ck(t)&&Ck(e)))return e;const a=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),s=i.length,o=n?new Array(s):{};let l=0;for(let u=0;u<s;u++){const d=n?u:i[u],h=t[d],m=e[d];if(h===m){o[d]=h,(n?u<a:Sde.call(t,d))&&l++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){o[d]=m;continue}const y=PK(h,m);o[d]=y,y===h&&l++}return a===s&&l===a?t:o}function eC(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function pP(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ck(t){if(!mP(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!mP(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function mP(t){return Object.prototype.toString.call(t)==="[object Object]"}function _de(t){return new Promise(e=>{Um.setTimeout(e,t)})}function wk(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?PK(t,e):e}function Cde(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function wde(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var lO=Symbol();function LK(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===lO?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function zK(t,e){return typeof t=="function"?t(...e):!!t}var Ede=class extends _y{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!fg&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},cO=new Ede;function Ek(){let t,e;const n=new Promise((a,i)=>{t=a,e=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),t(a)},n.reject=a=>{r({status:"rejected",reason:a}),e(a)},n}var Tde=xde;function Ade(){let t=[],e=0,n=o=>{o()},r=o=>{o()},a=Tde;const i=o=>{e?t.push(o):a(()=>{n(o)})},s=()=>{const o=t;t=[],o.length&&a(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||s()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{a=o}}}var zi=Ade(),Rde=class extends _y{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!fg&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},tC=new Rde;function kde(t){return Math.min(1e3*2**t,3e4)}function FK(t){return(t??"online")==="online"?tC.isOnline():!0}var Tk=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function BK(t){let e=!1,n=0,r;const a=Ek(),i=()=>a.status!=="pending",s=v=>{if(!i()){const _=new Tk(v);m(_),t.onCancel?.(_)}},o=()=>{e=!0},l=()=>{e=!1},u=()=>cO.isFocused()&&(t.networkMode==="always"||tC.isOnline())&&t.canRun(),d=()=>FK(t.networkMode)&&t.canRun(),h=v=>{i()||(r?.(),a.resolve(v))},m=v=>{i()||(r?.(),a.reject(v))},y=()=>new Promise(v=>{r=_=>{(i()||u())&&v(_)},t.onPause?.()}).then(()=>{r=void 0,i()||t.onContinue?.()}),x=()=>{if(i())return;let v;const _=n===0?t.initialPromise:void 0;try{v=_??t.fn()}catch(C){v=Promise.reject(C)}Promise.resolve(v).then(h).catch(C=>{if(i())return;const w=t.retry??(fg?0:3),T=t.retryDelay??kde,E=typeof T=="function"?T(n,C):T,k=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,C);if(e||!k){m(C);return}n++,t.onFail?.(n,C),_de(E).then(()=>u()?void 0:y()).then(()=>{e?m(C):x()})})};return{promise:a,status:()=>a.status,cancel:s,continue:()=>(r?.(),a),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?x():y().then(x),a)}}var HK=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_k(this.gcTime)&&(this.#e=Um.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(fg?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Um.clearTimeout(this.#e),this.#e=void 0)}},Ide=class extends HK{#e;#t;#n;#a;#r;#s;#o;constructor(t){super(),this.#o=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#a=t.client,this.#n=this.#a.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=gP(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=gP(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=wk(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(mo).catch(mo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>hc(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>hp(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!MK(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const o=this.observers.find(l=>l.options.queryFn);o&&this.setOptions(o.options)}const n=new AbortController,r=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},a=()=>{const o=LK(this.options,e),u=(()=>{const d={client:this.#a,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#o=!1,this.options.persister?this.options.persister(o,u,this):o(u)},s=(()=>{const o={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:a};return r(o),o})();this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#i({type:"fetch",meta:s.fetchOptions?.meta}),this.#r=BK({initialPromise:e?.initialPromise,fn:s.fetchFn,onCancel:o=>{o instanceof Tk&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(o,l)=>{this.#i({type:"failed",failureCount:o,error:l})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0});try{const o=await this.#r.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#n.config.onSuccess?.(o,this),this.#n.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof Tk){if(o.silent)return this.#r.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#i({type:"error",error:o}),this.#n.config.onError?.(o,this),this.#n.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...UK(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),zi.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function UK(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:FK(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function gP(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $K=class extends _y{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#o=Ek(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#a=void 0;#r;#s;#o;#i;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),yP(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ak(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ak(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#S(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof hc(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),e._defaulted&&!eC(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&bP(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||hc(this.options.enabled,this.#t)!==hc(e.enabled,this.#t)||hp(this.options.staleTime,this.#t)!==hp(e.staleTime,this.#t))&&this.#g();const a=this.#y();r&&(this.#t!==n||hc(this.options.enabled,this.#t)!==hc(e.enabled,this.#t)||a!==this.#l)&&this.#b(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return Ode(this,n)&&(this.#a=n,this.#s=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#a}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(t){this.#_();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(mo)),e}#g(){this.#v();const t=hp(this.options.staleTime,this.#t);if(fg||this.#a.isStale||!_k(t))return;const n=MK(this.#a.dataUpdatedAt,t)+1;this.#c=Um.setTimeout(()=>{this.#a.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(t){this.#S(),this.#l=t,!(fg||hc(this.options.enabled,this.#t)===!1||!_k(this.#l)||this.#l===0)&&(this.#u=Um.setInterval(()=>{(this.options.refetchIntervalInBackground||cO.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#b(this.#y())}#v(){this.#c&&(Um.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(Um.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,a=this.#a,i=this.#r,s=this.#s,l=t!==n?t.state:this.#n,{state:u}=t;let d={...u},h=!1,m;if(e._optimisticResults){const z=this.hasListeners(),M=!z&&yP(t,e),N=z&&bP(t,n,e,r);(M||N)&&(d={...d,...UK(u.data,t.options)}),e._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:y,errorUpdatedAt:x,status:v}=d;m=d.data;let _=!1;if(e.placeholderData!==void 0&&m===void 0&&v==="pending"){let z;a?.isPlaceholderData&&e.placeholderData===s?.placeholderData?(z=a.data,_=!0):z=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,z!==void 0&&(v="success",m=wk(a?.data,z,e),h=!0)}if(e.select&&m!==void 0&&!_)if(a&&m===i?.data&&e.select===this.#m)m=this.#f;else try{this.#m=e.select,m=e.select(m),m=wk(a?.data,m,e),this.#f=m,this.#i=null}catch(z){this.#i=z}this.#i&&(y=this.#i,m=this.#f,x=Date.now(),v="error");const C=d.fetchStatus==="fetching",w=v==="pending",T=v==="error",E=w&&C,k=m!==void 0,O={status:v,fetchStatus:d.fetchStatus,isPending:w,isSuccess:v==="success",isError:T,isInitialLoading:E,isLoading:E,data:m,dataUpdatedAt:d.dataUpdatedAt,error:y,errorUpdatedAt:x,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:C,isRefetching:C&&!w,isLoadingError:T&&!k,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:T&&k,isStale:uO(t,e),refetch:this.refetch,promise:this.#o,isEnabled:hc(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const z=U=>{O.status==="error"?U.reject(O.error):O.data!==void 0&&U.resolve(O.data)},M=()=>{const U=this.#o=O.promise=Ek();z(U)},N=this.#o;switch(N.status){case"pending":t.queryHash===n.queryHash&&z(N);break;case"fulfilled":(O.status==="error"||O.data!==N.value)&&M();break;case"rejected":(O.status!=="error"||O.error!==N.reason)&&M();break}}return O}updateResult(){const t=this.#a,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#s=this.options,this.#r.data!==void 0&&(this.#h=this.#t),eC(e,t))return;this.#a=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!this.#p.size)return!0;const i=new Set(a??this.#p);return this.options.throwOnError&&i.add("error"),Object.keys(this.#a).some(s=>{const o=s;return this.#a[o]!==t[o]&&i.has(o)})};this.#C({listeners:n()})}#_(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#C(t){zi.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function jde(t,e){return hc(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function yP(t,e){return jde(t,e)||t.state.data!==void 0&&Ak(t,e,e.refetchOnMount)}function Ak(t,e,n){if(hc(e.enabled,t)!==!1&&hp(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&uO(t,e)}return!1}function bP(t,e,n,r){return(t!==e||hc(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&uO(t,n)}function uO(t,e){return hc(e.enabled,t)!==!1&&t.isStaleByTime(hp(e.staleTime,t))}function Ode(t,e){return!eC(t.getCurrentResult(),e)}function nC(t){return{onFetch:(e,n)=>{const r=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],s=e.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let d=!1;const h=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},m=LK(e.options,e.fetchOptions),y=async(x,v,_)=>{if(d)return Promise.reject();if(v==null&&x.pages.length)return Promise.resolve(x);const w=(()=>{const j={client:e.client,queryKey:e.queryKey,pageParam:v,direction:_?"backward":"forward",meta:e.options.meta};return h(j),j})(),T=await m(w),{maxPages:E}=e.options,k=_?wde:Cde;return{pages:k(x.pages,T,E),pageParams:k(x.pageParams,v,E)}};if(a&&i.length){const x=a==="backward",v=x?GK:Rk,_={pages:i,pageParams:s},C=v(r,_);o=await y(_,C,x)}else{const x=t??i.length;do{const v=l===0?s[0]??r.initialPageParam:Rk(r,o);if(l>0&&v==null)break;o=await y(o,v),l++}while(l<x)}return o};e.options.persister?e.fetchFn=()=>e.options.persister?.(u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=u}}}function Rk(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function GK(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}function Dde(t,e){return e?Rk(t,e)!=null:!1}function Nde(t,e){return!e||!t.getPreviousPageParam?!1:GK(t,e)!=null}var Mde=class extends $K{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:nC()})}getOptimisticResult(t){return t.behavior=nC(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){const{state:n}=t,r=super.createResult(t,e),{isFetching:a,isRefetching:i,isError:s,isRefetchError:o}=r,l=n.fetchMeta?.fetchMore?.direction,u=s&&l==="forward",d=a&&l==="forward",h=s&&l==="backward",m=a&&l==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Dde(e,n.data),hasPreviousPage:Nde(e,n.data),isFetchNextPageError:u,isFetchingNextPage:d,isFetchPreviousPageError:h,isFetchingPreviousPage:m,isRefetchError:o&&!u&&!h,isRefetching:i&&!d&&!m}}},Pde=class extends HK{#e;#t;#n;#a;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||qK(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=BK({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#r({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",a=!this.#a.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:a}),await this.#n.config.onMutate?.(t,this,n);const s=await this.options.onMutate?.(t,n);s!==this.state.context&&this.#r({type:"pending",context:s,variables:t,isPaused:a})}const i=await this.#a.start();return await this.#n.config.onSuccess?.(i,t,this.state.context,this,n),await this.options.onSuccess?.(i,t,this.state.context,n),await this.#n.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,t,this.state.context,n),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#n.config.onError?.(i,t,this.state.context,this,n),await this.options.onError?.(i,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,i,t,this.state.context,n),i}finally{this.#r({type:"error",error:i})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),zi.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function qK(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Lde=class extends _y{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new Pde({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=p_(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=p_(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=p_(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(a=>a.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=p_(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){zi.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>hP(e,n))}findAll(t={}){return this.getAll().filter(e=>hP(t,e))}notify(t){zi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return zi.batch(()=>Promise.all(t.map(e=>e.continue().catch(mo))))}};function p_(t){return t.options.scope?.id}var zde=class extends _y{#e;#t=void 0;#n;#a;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),eC(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&hg(n.mutationKey)!==hg(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#s()}mutate(e,n){return this.#a=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??qK();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){zi.batch(()=>{if(this.#a&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#a.onSuccess?.(e.data,n,r,a),this.#a.onSettled?.(e.data,null,n,r,a)):e?.type==="error"&&(this.#a.onError?.(e.error,n,r,a),this.#a.onSettled?.(void 0,e.error,n,r,a))}this.listeners.forEach(n=>{n(this.#t)})})}},Fde=class extends _y{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,a=e.queryHash??oO(r,e);let i=this.get(a);return i||(i=new Ide({client:t,queryKey:r,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){zi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>fP(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>fP(t,n)):e}notify(t){zi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){zi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){zi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Bde=class{#e;#t;#n;#a;#r;#s;#o;#i;constructor(t={}){this.#e=t.queryCache||new Fde,this.#t=t.mutationCache||new Lde,this.#n=t.defaultOptions||{},this.#a=new Map,this.#r=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=cO.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=tC.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(hp(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(r.queryHash)?.state.data,s=vde(e,i);if(s!==void 0)return this.#e.build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return zi.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;zi.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return zi.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=zi.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(r).then(mo).catch(mo)}invalidateQueries(t,e={}){return zi.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=zi.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(mo)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(mo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(hp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(mo).catch(mo)}fetchInfiniteQuery(t){return t.behavior=nC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(mo).catch(mo)}ensureInfiniteQueryData(t){return t.behavior=nC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return tC.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#a.set(hg(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#a.values()],n={};return e.forEach(r=>{tv(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(hg(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{tv(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=oO(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===lO&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},VK=A.createContext(void 0),jp=t=>{const e=A.useContext(VK);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Hde=({client:t,children:e})=>(A.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(VK.Provider,{value:t,children:e})),WK=A.createContext(!1),Ude=()=>A.useContext(WK);WK.Provider;function $de(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Gde=A.createContext($de()),qde=()=>A.useContext(Gde),Vde=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Wde=t=>{A.useEffect(()=>{t.clearReset()},[t])},Yde=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(a&&t.data===void 0||zK(n,[t.error,r])),Kde=t=>{if(t.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...a)=>n(r(...a)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Xde=(t,e)=>t.isLoading&&t.isFetching&&!e,Qde=(t,e)=>t?.suspense&&e.isPending,xP=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function YK(t,e,n){const r=Ude(),a=qde(),i=jp(),s=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(s),s._optimisticResults=r?"isRestoring":"optimistic",Kde(s),Vde(s,a),Wde(a);const o=!i.getQueryCache().get(s.queryHash),[l]=A.useState(()=>new e(i,s)),u=l.getOptimisticResult(s),d=!r&&t.subscribed!==!1;if(A.useSyncExternalStore(A.useCallback(h=>{const m=d?l.subscribe(zi.batchCalls(h)):mo;return l.updateResult(),m},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),A.useEffect(()=>{l.setOptions(s)},[s,l]),Qde(s,u))throw xP(s,l,a);if(Yde({result:u,errorResetBoundary:a,throwOnError:s.throwOnError,query:i.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(s,u),s.experimental_prefetchInRender&&!fg&&Xde(u,r)&&(o?xP(s,l,a):i.getQueryCache().get(s.queryHash)?.promise)?.catch(mo).finally(()=>{l.updateResult()}),s.notifyOnChangeProps?u:l.trackResult(u)}function Cy(t,e){return YK(t,$K)}function Wv(t,e){const n=jp(),[r]=A.useState(()=>new zde(n,t));A.useEffect(()=>{r.setOptions(t)},[r,t]);const a=A.useSyncExternalStore(A.useCallback(s=>r.subscribe(zi.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=A.useCallback((s,o)=>{r.mutate(s,o).catch(mo)},[r]);if(a.error&&zK(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}function Zde(t,e){return YK(t,Mde)}const _n=t=>typeof t=="string",Sx=()=>{let t,e;const n=new Promise((r,a)=>{t=r,e=a});return n.resolve=t,n.reject=e,n},vP=t=>t==null?"":""+t,Jde=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},efe=/###/g,SP=t=>t&&t.indexOf("###")>-1?t.replace(efe,"."):t,_P=t=>!t||_n(t),_2=(t,e,n)=>{const r=_n(e)?e.split("."):e;let a=0;for(;a<r.length-1;){if(_P(t))return{};const i=SP(r[a]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++a}return _P(t)?{}:{obj:t,k:SP(r[a])}},CP=(t,e,n)=>{const{obj:r,k:a}=_2(t,e,Object);if(r!==void 0||e.length===1){r[a]=n;return}let i=e[e.length-1],s=e.slice(0,e.length-1),o=_2(t,s,Object);for(;o.obj===void 0&&s.length;)i=`${s[s.length-1]}.${i}`,s=s.slice(0,s.length-1),o=_2(t,s,Object),o?.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=n},tfe=(t,e,n,r)=>{const{obj:a,k:i}=_2(t,e,Object);a[i]=a[i]||[],a[i].push(n)},rC=(t,e)=>{const{obj:n,k:r}=_2(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},nfe=(t,e,n)=>{const r=rC(t,n);return r!==void 0?r:rC(e,n)},KK=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?_n(t[r])||t[r]instanceof String||_n(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):KK(t[r],e[r],n):t[r]=e[r]);return t},e1=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var rfe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const afe=t=>_n(t)?t.replace(/[&<>"'\/]/g,e=>rfe[e]):t;class ife{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const sfe=[" ",",","?","!",";"],ofe=new ife(20),lfe=(t,e,n)=>{e=e||"",n=n||"";const r=sfe.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const a=ofe.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let i=!a.test(t);if(!i){const s=t.indexOf(n);s>0&&!a.test(t.substring(0,s))&&(i=!0)}return i},kk=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let a=t;for(let i=0;i<r.length;){if(!a||typeof a!="object")return;let s,o="";for(let l=i;l<r.length;++l)if(l!==i&&(o+=n),o+=r[l],s=a[o],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&l<r.length-1)continue;i+=l-i+1;break}a=s}return a},nv=t=>t?.replace("_","-"),cfe={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class aC{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||cfe,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,a){return a&&!this.debug?null:(_n(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new aC(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new aC(this.logger,e)}}var Sd=new aC;class S5{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const a=this.observers[r].get(n)||0;this.observers[r].set(n,a+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,i])=>{for(let s=0;s<i;s++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,i])=>{for(let s=0;s<i;s++)a.apply(a,[e,...n])})}}class wP extends S5{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,a={}){const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,s=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,n],r&&(Array.isArray(r)?o.push(...r):_n(r)&&i?o.push(...r.split(i)):o.push(r)));const l=rC(this.data,o);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=o[0],n=o[1],r=o.slice(2).join(".")),l||!s||!_n(r)?l:kk(this.data?.[e]?.[n],r,i)}addResource(e,n,r,a,i={silent:!1}){const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[e,n];r&&(o=o.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(o=e.split("."),a=n,n=o[1]),this.addNamespaces(n),CP(this.data,o,a),i.silent||this.emit("added",e,n,r,a)}addResources(e,n,r,a={silent:!1}){for(const i in r)(_n(r[i])||Array.isArray(r[i]))&&this.addResource(e,n,i,r[i],{silent:!0});a.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,a,i,s={silent:!1,skipCopy:!1}){let o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),a=r,r=n,n=o[1]),this.addNamespaces(n);let l=rC(this.data,o)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?KK(l,r,i):l={...l,...r},CP(this.data,o,l),s.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var XK={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,a){return t.forEach(i=>{e=this.processors[i]?.process(e,n,r,a)??e}),e}};const QK=Symbol("i18next/PATH_KEY");function ufe(){const t=[],e=Object.create(null);let n;return e.get=(r,a)=>(n?.revoke?.(),a===QK?t:(t.push(a),n=Proxy.revocable(r,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Ik(t,e){const{[QK]:n}=t(ufe());return n.join(e?.keySeparator??".")}const EP={},ZE=t=>!_n(t)&&typeof t!="boolean"&&typeof t!="number";class iC extends S5{constructor(e,n={}){super(),Jde(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Sd.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const a=this.resolve(e,r);if(a?.res===void 0)return!1;const i=ZE(a.res);return!(r.returnObjects===!1&&i)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!lfe(e,r,a);if(s&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:_n(i)?[i]:i};const u=e.split(r);(r!==a||r===a&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(a)}return{key:e,namespaces:_n(i)?[i]:i}}translate(e,n,r){let a=typeof n=="object"?{...n}:n;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),e==null)return"";typeof e=="function"&&(e=Ik(e,{...this.options,...a})),Array.isArray(e)||(e=[String(e)]);const i=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],a),u=l[l.length-1];let d=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const h=a.lng||this.language,m=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h?.toLowerCase()==="cimode")return m?i?{res:`${u}${d}${o}`,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:`${u}${d}${o}`:i?{res:o,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:o;const y=this.resolve(e,a);let x=y?.res;const v=y?.usedKey||o,_=y?.exactUsedKey||o,C=["[object Number]","[object Function]","[object RegExp]"],w=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject,E=a.count!==void 0&&!_n(a.count),k=iC.hasDefaultValue(a),j=E?this.pluralResolver.getSuffix(h,a.count,a):"",O=a.ordinal&&E?this.pluralResolver.getSuffix(h,a.count,{ordinal:!1}):"",z=E&&!a.ordinal&&a.count===0,M=z&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${j}`]||a[`defaultValue${O}`]||a.defaultValue;let N=x;T&&!x&&k&&(N=M);const U=ZE(N),F=Object.prototype.toString.apply(N);if(T&&N&&U&&C.indexOf(F)<0&&!(_n(w)&&Array.isArray(N))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const $=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,N,{...a,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(y.res=$,y.usedParams=this.getUsedParamsDetails(a),y):$}if(s){const $=Array.isArray(N),D=$?[]:{},H=$?_:v;for(const L in N)if(Object.prototype.hasOwnProperty.call(N,L)){const V=`${H}${s}${L}`;k&&!x?D[L]=this.translate(V,{...a,defaultValue:ZE(M)?M[L]:void 0,joinArrays:!1,ns:l}):D[L]=this.translate(V,{...a,joinArrays:!1,ns:l}),D[L]===V&&(D[L]=N[L])}x=D}}else if(T&&_n(w)&&Array.isArray(x))x=x.join(w),x&&(x=this.extendTranslation(x,e,a,r));else{let $=!1,D=!1;!this.isValidLookup(x)&&k&&($=!0,x=M),this.isValidLookup(x)||(D=!0,x=o);const L=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&D?void 0:x,V=k&&M!==x&&this.options.updateMissing;if(D||$||V){if(this.logger.log(V?"updateKey":"missingKey",h,u,o,V?M:x),s){const q=this.resolve(o,{...a,keySeparator:!1});q&&q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let J=[];const Q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Q&&Q[0])for(let q=0;q<Q.length;q++)J.push(Q[q]);else this.options.saveMissingTo==="all"?J=this.languageUtils.toResolveHierarchy(a.lng||this.language):J.push(a.lng||this.language);const K=(q,Z,Y)=>{const ne=k&&Y!==x?Y:L;this.options.missingKeyHandler?this.options.missingKeyHandler(q,u,Z,ne,V,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(q,u,Z,ne,V,a),this.emit("missingKey",q,u,Z,x)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?J.forEach(q=>{const Z=this.pluralResolver.getSuffixes(q,a);z&&a[`defaultValue${this.options.pluralSeparator}zero`]&&Z.indexOf(`${this.options.pluralSeparator}zero`)<0&&Z.push(`${this.options.pluralSeparator}zero`),Z.forEach(Y=>{K([q],o+Y,a[`defaultValue${Y}`]||M)})}):K(J,o,M))}x=this.extendTranslation(x,e,a,y,r),D&&x===o&&this.options.appendNamespaceToMissingKey&&(x=`${u}${d}${o}`),(D||$)&&this.options.parseMissingKeyHandler&&(x=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${o}`:o,$?x:void 0,a))}return i?(y.res=x,y.usedParams=this.getUsedParamsDetails(a),y):x}extendTranslation(e,n,r,a,i){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const l=_n(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(l){const h=e.match(this.interpolator.nestingRegexp);u=h&&h.length}let d=r.replace&&!_n(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,r.lng||this.language||a.usedLng,r),l){const h=e.match(this.interpolator.nestingRegexp),m=h&&h.length;u<m&&(r.nest=!1)}!r.lng&&a&&a.res&&(r.lng=this.language||a.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...h)=>i?.[0]===h[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${n[0]}`),null):this.translate(...h,n),r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,o=_n(s)?[s]:s;return e!=null&&o?.length&&r.applyPostProcessor!==!1&&(e=XK.handle(o,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,a,i,s,o;return _n(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),d=u.key;a=d;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const m=n.count!==void 0&&!_n(n.count),y=m&&!n.ordinal&&n.count===0,x=n.context!==void 0&&(_n(n.context)||typeof n.context=="number")&&n.context!=="",v=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(_=>{this.isValidLookup(r)||(o=_,!EP[`${v[0]}-${_}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(EP[`${v[0]}-${_}`]=!0,this.logger.warn(`key "${a}" for languages "${v.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(C=>{if(this.isValidLookup(r))return;s=C;const w=[d];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(w,d,C,_,n);else{let E;m&&(E=this.pluralResolver.getSuffix(C,n.count,n));const k=`${this.options.pluralSeparator}zero`,j=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(n.ordinal&&E.indexOf(j)===0&&w.push(d+E.replace(j,this.options.pluralSeparator)),w.push(d+E),y&&w.push(d+k)),x){const O=`${d}${this.options.contextSeparator||"_"}${n.context}`;w.push(O),m&&(n.ordinal&&E.indexOf(j)===0&&w.push(O+E.replace(j,this.options.pluralSeparator)),w.push(O+E),y&&w.push(O+k))}}let T;for(;T=w.pop();)this.isValidLookup(r)||(i=T,r=this.getResource(C,_,T,n))}))})}),{res:r,usedKey:a,exactUsedKey:i,usedLng:s,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,r,a):this.resourceStore.getResource(e,n,r,a)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!_n(e.replace);let a=r?e.replace:e;if(r&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(const i of n)delete a[i]}return a}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class TP{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Sd.create("languageUtils")}getScriptPartFromCode(e){if(e=nv(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=nv(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(_n(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const a=this.getScriptPartFromCode(r);if(this.isSupportedCode(a))return n=a;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),_n(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),a=[],i=s=>{s&&(this.isSupportedCode(s)?a.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return _n(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):_n(e)&&i(this.formatLanguageCode(e)),r.forEach(s=>{a.indexOf(s)<0&&i(this.formatLanguageCode(s))}),a}}const AP={zero:0,one:1,two:2,few:3,many:4,other:5},RP={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class dfe{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Sd.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=nv(e==="dev"?"en":e),a=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:a});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let s;try{s=new Intl.PluralRules(r,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),RP;if(!e.match(/-|_/))return RP;const l=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(l,n)}return this.pluralRulesCache[i]=s,s}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(a=>`${n}${a}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((a,i)=>AP[a]-AP[i]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,n,r={}){const a=this.getRule(e,r);return a?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const kP=(t,e,n,r=".",a=!0)=>{let i=nfe(t,e,n);return!i&&a&&_n(n)&&(i=kk(t,n,r),i===void 0&&(i=kk(e,n,r))),i},JE=t=>t.replace(/\$/g,"$$$$");class ffe{constructor(e={}){this.logger=Sd.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:a,prefix:i,prefixEscaped:s,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:m,nestingPrefixEscaped:y,nestingSuffix:x,nestingSuffixEscaped:v,nestingOptionsSeparator:_,maxReplaces:C,alwaysFormat:w}=e.interpolation;this.escape=n!==void 0?n:afe,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=i?e1(i):s||"{{",this.suffix=o?e1(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=m?e1(m):y||e1("$t("),this.nestingSuffix=x?e1(x):v||e1(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=C||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,a){let i,s,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=y=>{if(y.indexOf(this.formatSeparator)<0){const C=kP(n,l,y,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(C,void 0,r,{...a,...n,interpolationkey:y}):C}const x=y.split(this.formatSeparator),v=x.shift().trim(),_=x.join(this.formatSeparator).trim();return this.format(kP(n,l,v,this.options.keySeparator,this.options.ignoreJSONStructure),_,r,{...a,...n,interpolationkey:v})};this.resetRegExp();const d=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,h=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:y=>JE(y)},{regex:this.regexp,safeValue:y=>this.escapeValue?JE(this.escape(y)):JE(y)}].forEach(y=>{for(o=0;i=y.regex.exec(e);){const x=i[1].trim();if(s=u(x),s===void 0)if(typeof d=="function"){const _=d(e,i,a);s=_n(_)?_:""}else if(a&&Object.prototype.hasOwnProperty.call(a,x))s="";else if(h){s=i[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),s="";else!_n(s)&&!this.useRawValueToEscape&&(s=vP(s));const v=y.safeValue(s);if(e=e.replace(i[0],v),h?(y.regex.lastIndex+=s.length,y.regex.lastIndex-=i[0].length):y.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n,r={}){let a,i,s;const o=(l,u)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const h=l.split(new RegExp(`${d}[ ]*{`));let m=`{${h[1]}`;l=h[0],m=this.interpolate(m,s);const y=m.match(/'/g),x=m.match(/"/g);((y?.length??0)%2===0&&!x||x.length%2!==0)&&(m=m.replace(/'/g,'"'));try{s=JSON.parse(m),u&&(s={...u,...s})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,v),`${l}${d}${m}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,l};for(;a=this.nestingRegexp.exec(e);){let l=[];s={...r},s=s.replace&&!_n(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const u=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(u!==-1&&(l=a[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),a[1]=a[1].slice(0,u)),i=n(o.call(this,a[1].trim(),s),s),i&&a[0]===e&&!_n(i))return i;_n(i)||(i=vP(i)),i||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),i=""),l.length&&(i=l.reduce((d,h)=>this.format(d,h,r.lng,{...r,interpolationkey:a[1].trim()}),i.trim())),e=e.replace(a[0],i),this.regexp.lastIndex=0}return e}}const hfe=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);e==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(s=>{if(s){const[o,...l]=s.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),d=o.trim();n[d]||(n[d]=u),u==="false"&&(n[d]=!1),u==="true"&&(n[d]=!0),isNaN(u)||(n[d]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},IP=t=>{const e={};return(n,r,a)=>{let i=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(i={...i,[a.interpolationkey]:void 0});const s=r+JSON.stringify(i);let o=e[s];return o||(o=t(nv(r),a),e[s]=o),o(n)}},pfe=t=>(e,n,r)=>t(nv(n),r)(e);class mfe{constructor(e={}){this.logger=Sd.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?IP:pfe;this.formats={number:r((a,i)=>{const s=new Intl.NumberFormat(a,{...i});return o=>s.format(o)}),currency:r((a,i)=>{const s=new Intl.NumberFormat(a,{...i,style:"currency"});return o=>s.format(o)}),datetime:r((a,i)=>{const s=new Intl.DateTimeFormat(a,{...i});return o=>s.format(o)}),relativetime:r((a,i)=>{const s=new Intl.RelativeTimeFormat(a,{...i});return o=>s.format(o,i.range||"day")}),list:r((a,i)=>{const s=new Intl.ListFormat(a,{...i});return o=>s.format(o)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=IP(n)}format(e,n,r,a={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,l)=>{const{formatName:u,formatOptions:d}=hfe(l);if(this.formats[u]){let h=o;try{const m=a?.formatParams?.[a.interpolationkey]||{},y=m.locale||m.lng||a.locale||a.lng||r;h=this.formats[u](o,y,{...d,...a,...m})}catch(m){this.logger.warn(m)}return h}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const gfe=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class yfe extends S5{constructor(e,n,r,a={}){super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=Sd.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,a.backend,a)}queueLoad(e,n,r,a){const i={},s={},o={},l={};return e.forEach(u=>{let d=!0;n.forEach(h=>{const m=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?s[m]===void 0&&(s[m]=!0):(this.state[m]=1,d=!1,s[m]===void 0&&(s[m]=!0),i[m]===void 0&&(i[m]=!0),l[h]===void 0&&(l[h]=!0)))}),d||(o[u]=!0)}),(Object.keys(i).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(i),pending:Object.keys(s),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const a=e.split("|"),i=a[0],s=a[1];n&&this.emit("failedLoading",i,s,n),!n&&r&&this.store.addResourceBundle(i,s,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const o={};this.queue.forEach(l=>{tfe(l.loaded,[i],s),gfe(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const d=l.loaded[u];d.length&&d.forEach(h=>{o[u][h]===void 0&&(o[u][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,a=0,i=this.retryTimeout,s){if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:a,wait:i,callback:s});return}this.readingCalls++;const o=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&d&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,a+1,i*2,s)},i);return}s(u,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(d=>o(null,d)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,n,o)}prepareLoading(e,n,r={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();_n(e)&&(e=this.languageUtils.toResolveHierarchy(e)),_n(n)&&(n=[n]);const i=this.queueLoad(e,n,r,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),a=r[0],i=r[1];this.read(a,i,"read",void 0,void 0,(s,o)=>{s&&this.logger.warn(`${n}loading namespace ${i} for language ${a} failed`,s),!s&&o&&this.logger.log(`${n}loaded namespace ${i} for language ${a}`,o),this.loaded(e,s,o)})}saveMissing(e,n,r,a,i,s={},o=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const l={...s,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(e,n,r,a,l):d=u(e,n,r,a),d&&typeof d.then=="function"?d.then(h=>o(null,h)).catch(o):o(null,d)}catch(d){o(d)}else u(e,n,r,a,o,l)}!e||!e[0]||this.store.addResource(e[0],n,r,a)}}}const jP=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),_n(t[1])&&(e.defaultValue=t[1]),_n(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),OP=t=>(_n(t.ns)&&(t.ns=[t.ns]),_n(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),_n(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),m_=()=>{},bfe=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class rv extends S5{constructor(e={},n){if(super(),this.options=OP(e),this.services={},this.logger=Sd,this.modules={external:[]},bfe(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(_n(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=jP();this.options={...r,...this.options,...OP(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const a=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Sd.init(a(this.modules.logger),this.options):Sd.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=mfe;const d=new TP(this.options);this.store=new wP(this.options.resources,this.options);const h=this.services;h.logger=Sd,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new dfe(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(h.formatter=a(u),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new ffe(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new yfe(a(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(y,...x)=>{this.emit(y,...x)}),this.modules.languageDetector&&(h.languageDetector=a(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=a(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new iC(this.services,this.options),this.translator.on("*",(y,...x)=>{this.emit(y,...x)}),this.modules.external.forEach(y=>{y.init&&y.init(this)})}if(this.format=this.options.interpolation.format,n||(n=m_),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const o=Sx(),l=()=>{const u=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(h),n(d,h)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e,n=m_){let r=n;const a=_n(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],s=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};a?s(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>s(l)),this.options.preload?.forEach?.(o=>s(o)),this.services.backendConnector.load(i,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(o)})}else r(null)}reloadResources(e,n,r){const a=Sx();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=m_),this.services.backendConnector.reload(e,n,i=>{a.resolve(),r(i)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&XK.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Sx();this.emit("languageChanging",e);const a=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},i=(o,l)=>{l?this.isLanguageChangingTo===e&&(a(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(o,(...u)=>this.t(...u))},s=o=>{!e&&!o&&this.services.languageDetector&&(o=[]);const l=_n(o)?o:o&&o[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(_n(o)?[o]:o);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector?.cacheUserLanguage?.(u)),this.loadResources(u,d=>{i(d,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),r}getFixedT(e,n,r){const a=(i,s,...o)=>{let l;typeof s!="object"?l=this.options.overloadTranslationOptionHandler([i,s].concat(o)):l={...s},l.lng=l.lng||a.lng,l.lngs=l.lngs||a.lngs,l.ns=l.ns||a.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||a.keyPrefix);const u=this.options.keySeparator||".";let d;return l.keyPrefix&&Array.isArray(i)?d=i.map(h=>(typeof h=="function"&&(h=Ik(h,{...this.options,...s})),`${l.keyPrefix}${u}${h}`)):(typeof i=="function"&&(i=Ik(i,{...this.options,...s})),d=l.keyPrefix?`${l.keyPrefix}${u}${i}`:i),this.t(d,l)};return _n(e)?a.lng=e:a.lngs=e,a.ns=n,a.keyPrefix=r,a}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const o=n.precheck(this,s);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!a||s(i,e)))}loadNamespaces(e,n){const r=Sx();return this.options.ns?(_n(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Sx();_n(e)&&(e=[e]);const a=this.options.preload||[],i=e.filter(s=>a.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return i.length?(this.options.preload=a.concat(i),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const i=a.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new TP(jP());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new rv(e,n)}cloneInstance(e={},n=m_){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},i=new rv(a);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const o=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((d,h)=>(d[h]={...l[u][h]},d),l[u]),l),{});i.store=new wP(o,a),i.services.resourceStore=i.store}return i.translator=new iC(i.services,a),i.translator.on("*",(o,...l)=>{i.emit(o,...l)}),i.init(a,n),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ks=rv.createInstance();Ks.createInstance=rv.createInstance;Ks.createInstance;Ks.dir;Ks.init;Ks.loadResources;Ks.reloadResources;Ks.use;Ks.changeLanguage;Ks.getFixedT;Ks.t;Ks.exists;Ks.setDefaultNamespace;Ks.hasLoadedNamespace;Ks.loadNamespaces;Ks.loadLanguages;const xfe=(t,e,n,r)=>{const a=[n,{code:e,...r||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(a,"warn","react-i18next::",!0);ng(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...a):console?.warn&&console.warn(...a)},DP={},jk=(t,e,n,r)=>{ng(n)&&DP[n]||(ng(n)&&(DP[n]=new Date),xfe(t,e,n,r))},ZK=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Ok=(t,e,n)=>{t.loadNamespaces(e,ZK(t,n))},NP=(t,e,n,r)=>{if(ng(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Ok(t,n,r);n.forEach(a=>{t.options.ns.indexOf(a)<0&&t.options.ns.push(a)}),t.loadLanguages(e,ZK(t,r))},vfe=(t,e,n={})=>!e.languages||!e.languages.length?(jk(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,a)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,t))return!1}}),ng=t=>typeof t=="string",Sfe=t=>typeof t=="object"&&t!==null,_fe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Cfe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},wfe=t=>Cfe[t],Efe=t=>t.replace(_fe,wfe);let Dk={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Efe};const Tfe=(t={})=>{Dk={...Dk,...t}},Afe=()=>Dk;let JK;const Rfe=t=>{JK=t},kfe=()=>JK,Ife={type:"3rdParty",init(t){Tfe(t.options.react),Rfe(t)}},jfe=A.createContext();class Ofe{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Dfe=(t,e)=>{const n=A.useRef();return A.useEffect(()=>{n.current=t},[t,e]),n.current},eX=(t,e,n,r)=>t.getFixedT(e,n,r),Nfe=(t,e,n,r)=>A.useCallback(eX(t,e,n,r),[t,e,n,r]),qt=(t,e={})=>{const{i18n:n}=e,{i18n:r,defaultNS:a}=A.useContext(jfe)||{},i=n||r||kfe();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new Ofe),!i){jk(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const E=(j,O)=>ng(O)?O:Sfe(O)&&ng(O.defaultValue)?O.defaultValue:Array.isArray(j)?j[j.length-1]:j,k=[E,{},!1];return k.t=E,k.i18n={},k.ready=!1,k}i.options.react?.wait&&jk(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...Afe(),...i.options.react,...e},{useSuspense:o,keyPrefix:l}=s;let u=t||a||i.options?.defaultNS;u=ng(u)?[u]:u||["translation"],i.reportNamespaces.addUsedNamespaces?.(u);const d=(i.isInitialized||i.initializedStoreOnce)&&u.every(E=>vfe(E,i,s)),h=Nfe(i,e.lng||null,s.nsMode==="fallback"?u:u[0],l),m=()=>h,y=()=>eX(i,e.lng||null,s.nsMode==="fallback"?u:u[0],l),[x,v]=A.useState(m);let _=u.join();e.lng&&(_=`${e.lng}${_}`);const C=Dfe(_),w=A.useRef(!0);A.useEffect(()=>{const{bindI18n:E,bindI18nStore:k}=s;w.current=!0,!d&&!o&&(e.lng?NP(i,e.lng,u,()=>{w.current&&v(y)}):Ok(i,u,()=>{w.current&&v(y)})),d&&C&&C!==_&&w.current&&v(y);const j=()=>{w.current&&v(y)};return E&&i?.on(E,j),k&&i?.store.on(k,j),()=>{w.current=!1,i&&E&&E?.split(" ").forEach(O=>i.off(O,j)),k&&i&&k.split(" ").forEach(O=>i.store.off(O,j))}},[i,_]),A.useEffect(()=>{w.current&&d&&v(m)},[i,l,d]);const T=[x,i,d];if(T.t=x,T.i18n=i,T.ready=d,d||!d&&!o)return T;throw new Promise(E=>{e.lng?NP(i,e.lng,u,()=>E()):Ok(i,u,()=>E())})},{slice:Mfe,forEach:Pfe}=[];function Lfe(t){return Pfe.call(Mfe.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function zfe(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const MP=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Ffe=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let i=`${t}=${a}`;if(r.maxAge>0){const s=r.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(s)}`}if(r.domain){if(!MP.test(r.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${r.domain}`}if(r.path){if(!MP.test(r.path))throw new TypeError("option path is invalid");i+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(i+="; Partitioned"),i},PP={create(t,e,n,r){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),r&&(a.domain=r),document.cookie=Ffe(t,e,a)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let a=n[r];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var Bfe={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return PP.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:a,cookieOptions:i}=e;n&&typeof document<"u"&&PP.create(n,t,r,a,i)}},Hfe={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const i=r.substring(1).split("&");for(let s=0;s<i.length;s++){const o=i[s].indexOf("=");o>0&&i[s].substring(0,o)===e&&(n=i[s].substring(o+1))}}return n}},Ufe={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const i=a.substring(1);if(e){const s=i.split("&");for(let o=0;o<s.length;o++){const l=s[o].indexOf("=");l>0&&s[o].substring(0,l)===e&&(r=s[o].substring(l+1))}}if(r)return r;if(!r&&n>-1){const s=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(s)?s[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return r}};let t1=null;const LP=()=>{if(t1!==null)return t1;try{if(t1=typeof window<"u"&&window.localStorage!==null,!t1)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{t1=!1}return t1};var $fe={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&LP())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&LP()&&window.localStorage.setItem(n,t)}};let n1=null;const zP=()=>{if(n1!==null)return n1;try{if(n1=typeof window<"u"&&window.sessionStorage!==null,!n1)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{n1=!1}return n1};var Gfe={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&zP())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&zP()&&window.sessionStorage.setItem(n,t)}},qfe={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:a}=navigator;if(n)for(let i=0;i<n.length;i++)e.push(n[i]);r&&e.push(r),a&&e.push(a)}return e.length>0?e:void 0}},Vfe={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},Wfe={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof e=="number"?e:0]?.replace("/",""):void 0}},Yfe={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};let tX=!1;try{document.cookie,tX=!0}catch{}const nX=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];tX||nX.splice(1,1);const Kfe=()=>({order:nX,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class rX{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=Lfe(n,this.options||{},Kfe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(Bfe),this.addDetector(Hfe),this.addDetector($fe),this.addDetector(Gfe),this.addDetector(qfe),this.addDetector(Vfe),this.addDetector(Wfe),this.addDetector(Yfe),this.addDetector(Ufe)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let a=this.detectors[r].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(n=n.concat(a))}}),n=n.filter(r=>r!=null&&!zfe(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}rX.type="languageDetector";const Xfe={save:"",cancel:"",delete:"",edit:"",add:"",upload:"",download:"",search:"",filter:"",reset:"",confirm:"",close:"",back:"",next:"",previous:"",select:"",deselect:" ",selectAll:" ",deselectAll:" ",apply:"",clear:""},Qfe={loading:" ...",saving:" ...",success:"",error:"",noData:" ",confirmDelete:"?",unsavedChanges:"   ",processing:" ...",uploading:" ...",downloading:" ...",deleting:" ..."},Zfe={name:"",description:"",date:"",status:"",type:"",size:"",created:"",updated:"",width:"",height:"",duration:" ",resolution:""},Jfe={tooltips:{viewDetails:" ",download:"",delete:"",select:""},badges:{auto:"",video:""},confirmDelete:{image:" ?",video:" ?"}},ehe={selectedCount:"{{count}}  ",selectedCountImages:"{{count}}  ",tooltips:{download:"",addToGroup:" ",delete:"",clearSelection:" "},confirmDelete:{mixed:" {{count}} (/) ?",images:" {{count}}  ?",videos:" {{count}}  ?",files:" {{count}}  ?"}},the={perPage:"",items:"",page:"",of:"/",showing:"{{total}}  {{from}}-{{to}}",goToPage:" ",rowsPerPage:"  "},nhe={loading:" ",error:"",empty:"",success:"",pending:" ",completed:"",failed:""},rhe={view:"",download:"",delete:"",edit:"",create:"",update:"",cancel:"",confirm:"",retry:"",refresh:""},ahe={buttons:Xfe,messages:Qfe,labels:Zfe,imageCard:Jfe,bulkActions:ehe,pagination:the,states:nhe,actions:rhe},ihe="",she="ComfyUI Image Manager   ",ohe={general:" ",tagger:"Tagger ",rating:"Rating  ",similarity:"  ",prompts:" ",metadata:" ",folders:" ",account:"",advanced:" "},lhe={title:" ",language:{label:"",description:"   ",ko:"",en:"English",ja:"","zh-CN":"","zh-TW":""},gallery:{label:" ",tooltip:"    .    ."},canvasCleanup:{label:"  Canvas   ",tooltip:"   Canvas     .    ."},ratingBadges:{label:"Rating  ",tooltip:"  Rating   .       ."},deleteProtection:{label:"  RecycleBin ",tooltip:"       RecycleBin  . RecycleBin    ,     ."},metadata:{title:"  ",scanMode:{title:"Stealth PNG  ",fast:{label:"Fast ()",description:"   -  200    "},full:{label:"Full",description:"   -    ()"},skip:{label:"Skip",description:"  - Secondary extraction "}},limits:{title:"    ",fileSize:{label:"   (MB)",helper:"    Stealth PNG  "},resolution:{label:"  ()",helper:"    Stealth PNG  "}},skipSettings:{title:"AI   ",description:" AI   Stealth PNG   .",comfyui:{label:"ComfyUI   ()",description:"ComfyUI Stealth PNG    "},webui:{label:"WebUI  ",description:"WebUI Stealth PNG     "}},secondary:{label:"Secondary extraction ",description:"Primary extraction   Stealth PNG  ."},performanceNote:" :  (Fast + ComfyUI )     . ComfyUI    2682ms  4ms !"}},che={title:"WD Tagger ",description:"AI      .",enableAutoTagging:"  ",model:{label:" ",loading:"   ...",downloaded:"Downloaded"},device:{label:" ",auto:{title:" (Auto)",description:"GPU   GPU,  CPU "},cpu:{title:"CPU",description:"CPU  ( )"},cuda:{title:"GPU (CUDA)",description:"NVIDIA GPU  (, GPU )"}},modelStatus:{title:" ",loaded:"",unloaded:"",lastUsed:" ",justNow:" ",minutesAgo:"{{minutes}} ",hoursAgo:"{{hours}} ",daysAgo:"{{days}} ",none:""},status:{downloaded:"",notDownloaded:""},buttons:{load:"",unload:"",refresh:"",download:" ",downloading:"   ...",refreshStatus:" ",checkDependencies:"Python  ",checking:"Python   ...",save:"",cancel:""},alerts:{modelDownloaded:"<strong>{{model}}</strong>   .",modelNotDownloaded:"<strong>{{model}}</strong>   .     .",modelLoaded:" ",modelUnloaded:" ",loadFailed:"  ",unloadFailed:"  ",saveFailed:"  ",dependencyCheckFailed:"  "},threshold:{general:{label:"General Tags Threshold: {{value}}",description:"     (  )"},character:{label:"Character Tags Threshold: {{value}}",description:"     (  )"}},pythonPath:{label:"Python  ",helper:"Python    (: python, python3, C:\\Python39\\python.exe)"},memoryManagement:{title:" ",description:"    .",keepModelLoaded:"    ",autoUnloadMinutes:"  : {{minutes}}",autoUnloadDescription:"        .",keepLoadedAlert:"  .     .",notKeepLoadedAlert:"   .     ,    ."},batch:{title:" ",description:"    .",untaggedCount:" : {{count}}",progress:" : {{current}} / {{total}}",buttons:{tagUnprocessed:"   ( 100)",tagAll:"  ( 100)",processing:" ..."},alerts:{complete:":  {{success}},  {{failed}}",failed:"   ",tagAllFailed:"  "},confirmDialog:{title:"  ",message:`   ?     .
( 100 )`,confirm:"",cancel:""}},test:{title:"",description:"    .",imageHash:" ",placeholderHash:": abc123def456...",button:" ",processing:" ...",result:" :",failed:" ",invalidId:"  ID "}},uhe={title:"Rating  ",description:"    ",weights:{title:" ",description:" Rating    .",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",preview:{title:"  ( Rating: general=0.001, sensitive=0.045, questionable=0.735, explicit=0.470)",score:": <strong>{{score}}</strong>"},buttons:{save:" ",cancel:"",saving:" ..."},alerts:{saveSuccess:"  .",saveFailed:"  .",loadFailed:"   ."}},tiers:{title:"  ",description:"   .",addButton:" ",table:{order:"",name:"",scoreRange:" ",color:"",actions:"",empty:" .  .",scoreFormat:"{{min}} ~ {{max}}",infinity:""},dialog:{createTitle:" ",editTitle:" ",tierName:"",minScore:" ",maxScore:"  (  = )",order:"",color:" (Hex)",colorPlaceholder:"#2196f3",colorHelper:": #22c55e, #3b82f6, #f59e0b, #ef4444",save:"",cancel:"",saving:" ...",requiredFields:"   ."},alerts:{created:" .",updated:" .",deleted:" .",saveFailed:"  .",deleteFailed:"  .",loadFailed:"   .",deleteConfirm:"  ?"}},calculator:{title:"  ",description:"Rating    .",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",calculate:" ",calculating:" ...",result:{title:" ",score:": <strong>{{score}}</strong>",breakdown:" :",generalScore:"General: {{score}}",sensitiveScore:"Sensitive: {{score}}",questionableScore:"Questionable: {{score}}",explicitScore:"Explicit: {{score}}"},failed:"  ."},recalculation:{title:"Rating  ",description:"  rating_score     . auto_tags    .",buttons:{recalculate:"   ",processing:" ..."},progress:"  ... {{current}}/{{total}}",success:" :  {{total}}  {{success}} , {{failed}} ",failed:"  .",confirmDialog:{title:"Rating  ",message:"  rating_score ?      .",confirm:"",cancel:""}}},dhe={title:"   ",description:"      ",systemStatus:{title:" ",description:"     .",totalImages:" : {{count}}",withHash:" : {{count}}",withoutHash:": {{count}}",completion:": {{percent}}%",autoGenerateHash:"    ",rebuildButton:"     ({{count}})",rebuildingButton:" ...",refreshButton:" ",rebuildProgress:"   ... {{processed}} /{{total}}  ({{percent}}% )",allComplete:"   !",allCompleteShort:"",rebuildComplete:" : {{processed}}   .",rebuildCompleteWithErrors:" : {{success}} , {{failed}} ",rebuildFailed:"  ",noImagesToProcess:"  .",autoGenerateUpdateFailed:"  "},test:{title:" & ",description:"    .",imageId:" ID",placeholder:": 123",searchType:" ",types:{duplicates:" ",similar:" ",color:" "},searchButton:" ",searching:" ...",queryImage:"  ",results:" : {{count}}",noResults:"  .",searchFailed:" ",imageDetails:{id:"ID:",filename:":",size:":",aiTool:"AI :"},matchTypes:{exact:" ",nearDuplicate:" ",similar:"",colorSimilar:" "},similarity:"{{percent}}%",colorSimilarity:": {{percent}}%"},duplicateScan:{title:"  ",description:"     .",scanButton:"  ",scanning:" ...",foundGroups:"  : {{count}}",groupLabel:" {{id}}  {{count}} ",similarityLabel:"{{percent}}% ",moreImages:"+{{count}}  ",noResults:"     .",id:"ID: {{id}}",selectAll:" ",deselectAll:" ",keepOne:"1 ",keepOneDelete:"     ",deleteSelected:" {{count}} ",deleteConfirmTitle:"  ",deleteConfirmMessage:" {{count}}  ?",deleteWarning:"    !",cancel:"",confirmDelete:"",deleting:" ...",deleteSuccess:"{{count}}  .",deletePartialSuccess:"{{success}} , {{failed}} ",deleteFailed:"  ."},thresholds:{title:" ",description:"   .",duplicate:{label:"  : {{value}}",description:"  (0= , 5= , 10=   )",strict:"0 ()",recommended:"5 ()",lenient:"10 ()"},similar:{label:"  : {{value}}",description:" ,      ",strict:"5 ()",recommended:"15 ()",lenient:"25 ()"},color:{label:"  : {{value}}%",description:"   ( )",min:"70%",recommended:"85% ()",max:"100%"},searchLimit:{label:"  ",options:{10:"10",20:"20 ()",50:"50",100:"100"}},localStorageNote:"  ,    ."}},fhe={setup:{title:" ",description:"        .      .",username:" ",password:"",confirmPassword:" ",button:" ",success:"  !     .",errors:{required:"   ",mismatch:"  ",failed:"  "}},update:{title:"  ",description:"        .",currentPassword:" ",newUsername:"  ",newPassword:" ",confirmNewPassword:"  ",button:"  ",success:"   !",errors:{required:"  ",mismatch:"   ",failed:"   "}}},hhe={saveSuccess:"  ",saveFailed:"  ",loadFailed:"  "},phe={title:ihe,subtitle:she,tabs:ohe,general:lhe,tagger:che,rating:uhe,similarity:dhe,auth:fhe,messages:hhe},mhe={title:"ComfyUI Image Manager",menu:{home:"",gallery:"",imageGroups:"",search:"",upload:"",imageGeneration:" ",settings:"",help:""},tooltip:{home:"  ",gallery:"  ",imageGroups:" ",search:" ",upload:" ",imageGeneration:"AI  ",settings:" ",help:" "},theme:{light:" ",dark:" ",toggle:" "},mobileMenu:{open:" ",close:" "}},ghe={copyright:" 2024 ComfyUI Image Manager. All rights reserved.",version:""},yhe={title:"",sections:{setup:" ",filters:" "}},bhe={header:mhe,footer:ghe,help:yhe},xhe={title:" ",description:"      ."},vhe={aiTool:"AI ",sortBy:" ",sortOrder:"",all:"",clearFilters:" "},She={uploadDate:" ",filename:"",fileSize:" ",width:" ",height:" ",ascending:"",descending:""},_he={refresh:"",selectAll:" ",deselectAll:" "},Che={loading:"  ...",noImages:" .",uploadPrompt:"    .",error:"    ."},whe={aiToolLabel:"AI : {{tool}}"},Ehe="  ({{selected}}/{{total}})",The=" {{count}} ",Ahe={title:" "},Rhe={page:xhe,filters:vhe,sorting:She,actions:_he,status:Che,chips:whe,selectAllLabel:Ehe,totalImages:The,imageGridModal:Ahe},khe={title:"  ",notFound:"   .",errorLoading:"    .",noIdProvided:" ID  ."},Ihe={download:"",share:"",back:"",goToDetail:" ",delete:"",deleteConfirm:" ?",deleteSuccess:" .",deleteError:"    ."},jhe={fileInfo:" ",imageInfo:" ",videoInfo:" ",aiInfo:" ",promptInfo:" ",groupInfo:" ",fullMetadata:" "},Ohe={originalFilename:" ",filename:"",size:"",fileSize:" ",mimeType:"MIME ",uploadDate:" "},Dhe={dimensions:"",dimensionsValue:"{{width}}  {{height}}"},Nhe={duration:" ",durationValue:"{{minutes}} {{seconds}}",fps:" ",fpsValue:"{{fps}} fps",videoCodec:" ",audioCodec:" ",bitrate:"",bitrateValue:"{{bitrate}} Mbps"},Mhe={tool:"AI ",toolShort:"",model:"",lora:"LoRA",steps:"",cfgScale:"CFG Scale",cfgShort:"CFG",sampler:"",scheduler:"",seed:"",denoiseStrength:" ",generationTime:" ",generationTimeValue:"{{time}}",batchSize:" ",batchIndex:" "},Phe={autoType:"",manualType:"",groupLabel:"{{name}} ({{type}})"},Lhe={controls:{zoomIn:"",zoomOut:"",rotateLeft:" ",rotateRight:" ",flipHorizontal:" ",flipVertical:" ",reset:"  ",info:"",close:""},navigation:{previous:"  ()",next:"  ()",random:"  (Space)",currentPosition:"{{current}} / {{total}}"}},zhe={page:khe,actions:Ihe,sections:jhe,fileInfo:Ohe,imageInfo:Dhe,videoInfo:Nhe,aiInfo:Mhe,groupInfo:Phe,viewer:Lhe},Fhe={title:" ",description:"AI         ."},Bhe={dragActive:"  ",dragInactive:"     ",supportedFormats:": JPG, PNG, GIF, BMP, WebP, TIFF | : MP4, WebM, MOV, AVI, MKV ( 500MB,    )",imageSupport:" ",videoSupport:" ",multipleSelection:"  ",divider:""},Hhe={selectFiles:" ",selectFolder:" "},Uhe={title:" ",fileCount:"{{completed}}/{{total}}",summary:" {{total}}  - : {{success}}, : {{failed}}"},$he={upload:" ",metadata:" ",thumbnail:" ",autoCollect:"  ",autoTag:" "},Ghe={waiting:" ",processing:" ",complete:"",error:""},qhe={uploadComplete:" ",uploadSuccess:"  .",uploadFailed:" .",uploadError:"   .",multipleSuccess:"{{count}}   .",allFailed:"   .",partialSuccess:"{{success}} , {{failed}} ."},Vhe={title:" ",description:"  AI     . (  )",dragOrClick:"   ",dropHere:"  ",noUpload:"     ",imagePreview:" ",aiTool:"AI ",positivePrompt:"",negativePrompt:" ",terms:" ",loraModels:"LoRA ",parameters:" ",rawMetadata:"  (EXIF/PNG )",invalidFileType:"    ",extractionFailed:"  "},Whe={page:Fhe,dropzone:Bhe,buttons:Hhe,progress:Uhe,stages:$he,status:Ghe,messages:qhe,promptPreview:Vhe},Yhe={title:" ",description:"",emptyTitle:"   ",emptyDescription:"     .",customGroupsTab:" ",autoFolderGroupsTab:" "},Khe={imageCount:"{{count}} ",autoCollect:"",stats:": {{auto}} | : {{manual}}"},Xhe={edit:"",delete:"",runAutoCollection:" "},Qhe={basicInfo:" ",autoCollect:" "},Zhe={createTitle:"  ",editTitle:" ",basicInfo:" ",groupName:"",description:"",groupColor:" ",parentGroup:" ",noParent:" ()",selectParent:"  ",autoCollectEnable:" ",autoCollectDescription:"       .",orConditionInfo:"OR :       .",orConditionExample:`: " 'anime' " + "  "      `,conditionsTitle:" ",addCondition:" ",conditionType:" ",conditionValue:"",emptyConditions:"    .",buttonCreate:"",buttonUpdate:"",buttonCancel:""},Jhe={root:"",childGroups:"  {{count}}",openSubgroups:"  ",backToParent:" ",moveGroup:" ",moveToRoot:" ",cannotMoveToSelf:"    ",cannotMoveToDescendant:"    ",maxDepthExceeded:" (5) ",circularReference:"  ",hierarchyInvalid:"  "},epe={conditionNumber:" {{number}}",removeCondition:" ",addFirstCondition:"   ",autoCollectDisabled:"     .",groups:{basic:"",prompt:"",autotag:"Auto Tag",duplicate:" "},types:{aiTool:"AI ",modelName:" ()",promptContains:" ",promptRegex:" ",negativePromptContains:"  ",negativePromptRegex:"  ",autoTagExists:"Auto Tag  ",autoTagRating:"Auto Tag: Rating",autoTagRatingScore:"Auto Tag: Rating  ()",autoTagGeneral:"Auto Tag: General ",autoTagCharacter:"Auto Tag: ",autoTagHasCharacter:"Auto Tag:   ",autoTagModel:"Auto Tag: ",duplicateExact:"  ",duplicateNear:"  ",duplicateSimilar:" ",duplicateCustom:"   "},values:{exists:"",notExists:""},ratings:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"},fields:{value:"",ratingType:"Rating ",minScore:" ",maxScore:" ",tagName:"",characterName:"",caseSensitive:" ",exactMatch:" ",exactMatchHelp:"      (: 'asd'   'aasd', 'asdf' )",weightedScore:"  ",maxWeightInfo:" 200",confidenceRange:"   (0.0 ~ 1.0): {{min}} ~ {{max}}",confidenceInfo:"      ",hammingThreshold:"Hamming Distance ",hammingThresholdHelp:"0-64   (  )",hammingInfo:" Hamming Distance   perceptual hash    .      .",duplicateNote:"   perceptual_hash   ."},duplicateInfo:{duplicate_exact:"     (Hamming Distance = 0).       .",duplicate_near:"     (Hamming Distance  5).  , ,     .",duplicate_similar:"    (Hamming Distance  15).     ."},placeholders:{regex:"  ",modelName:"  (: wd-v1-4-moat-tagger-v2)",text:"  ",tagName:" ",characterName:" "}},tpe={nameRequired:" .",conditionRequired:"   1  .",valueRequired:" {{index}}  .",ratingTypeRequired:" {{index}}: Rating  .",ratingScoreRequired:" {{index}}:         .",minScoreInvalid:" {{index}}:   0  .",maxScoreInvalid:" {{index}}:   0  .",scoreRangeInvalid:" {{index}}:      .",confidenceScoreRange:" {{index}}:   0.0 ~ 1.0  .",confidenceMaxScoreRange:" {{index}}:   0.0 ~ 1.0  .",confidenceMinMaxInvalid:" {{index}}:       .",hammingThresholdRequired:" {{index}}: Hamming Distance  .",hammingThresholdRange:" {{index}}: Hamming Distance 0 64   ."},npe={loadFailed:"   .",imageLoadFailed:"   .",deleteSuccess:" .",deleteFailed:"  .",autoCollectSuccess:" : {{added}} , {{removed}} ",autoCollectFailed:"  .",createSuccess:" .",createFailed:"  .",updateSuccess:" .",updateFailed:"  .",removeWarning:"    .",removeSuccess:"{{count}}  .",removePartialSuccess:"{{removed}}  . {{failed}} .",removeError:"    .",assignSuccess:"{{added}} , {{converted}} , {{skipped}} ",assignFailed:"  .",assignError:"    .",emptyGroup:"  "},rpe={title:"{{name}} ({{count}} )",selectedCount:"{{count}} ",buttonRemove:"",buttonAssign:" ",infoMixedSelection:"       .     ,      .",warningAutoOnly:"       .     .",confirmRemoveTitle:"  ",confirmRemoveMessage:" {{count}}     ?",confirmRemoveNote:"    ."},ape={title:" ",description:" {{count}}   .",currentGroup:" ",emptyGroups:"  ",loadError:"   .",loadingError:"     .",buttonAssign:"",buttonCancel:""},ipe={menuTitle:" ",scopeAll:" ",scopeSelected:" {{count}}",typeThumbnail:" ()",typeOriginal:" ()",typeVideo:"   ()",confirmTitle:"  ",confirmMessage:"{{count}}  . ?",confirmButton:""},spe={page:Yhe,groupCard:Khe,menu:Xhe,tabs:Qhe,modal:Zhe,hierarchy:Jhe,conditions:epe,validation:tpe,messages:npe,imageModal:rpe,assignModal:ape,download:ipe},ope=" ",lpe=", AI , , Auto Tag     .",cpe={placeholder:"  ...",button:"",clear:" ",execute:" "},upe={title:" ",searching:" ...",found:" {{count}}  .",noResults:"  ",noResultsHint:"    .",initialMessage:"   ",initialHint:", AI , , Auto Tag,     .",reset:" ",refresh:""},dpe={basic:{aiTool:{label:"AI ",all:""},modelName:{label:"",placeholder:": sd_xl_base_1.0"},startDate:{label:" "},endDate:{label:" "}},quickDate:{today:"",todayTooltip:"  ","7days":"7","7daysTooltip":" 7","30days":"30","30daysTooltip":" 30","90days":"90","90daysTooltip":" 90"},advanced:{title:" ",active:"",negativePrompt:{label:" ",placeholder:"   (: ugly, blurry)"}},autoTag:{title:"Auto Tag ",subtitle:"(WD v3 Tagger)",active:"",tabs:{rating:"Rating",character:"Character",generalTags:"General Tags"},rating:{typeMode:"Type ",scoreMode:"Score  ",typeDescription:" Rating    ",scoreDescription:"      ",type:{label:"Rating ",none:" ",general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"},confidenceRange:" ",scoreRange:" "},character:{description:"   ",existence:{label:" ",all:"",true:"",false:""},name:{label:"",placeholder:": hatsune_miku"},confidenceRange:" "},generalTags:{description:"    ",tagName:{label:"",placeholder:": 1girl, solo, landscape"},confidence:": {{min}} ~ {{max}}",addedTags:"  ({{count}})"}}},fpe={title:" "},hpe={addButton:" ",emptyMessage:"   ",countInfo:"{{count}}  .",executionOrder:" :   OR  AND",modal:{title:" ",cancel:"",back:"",next:"",add:" ",steps:{selectGroup:"  ",selectCategory:" ",configureCondition:" "},step1:{description:"   "},step2:{description:"    "},step3:{description:"  .           ."}},groupTypes:{exclude:{label:" (NOT)",description:"     "},or:{label:"OR ",description:"     "},and:{label:"AND ",description:"     "}},categories:{positive_prompt:{label:" ",description:"     "},negative_prompt:{label:" ",description:"     "},auto_tag:{label:" (WD Tagger)",description:"WD v3 Tagger    "},basic:{label:" ",description:"AI ,     "}},conditionTypes:{conditionType:" ",value:"",placeholder:"  ",scoreRange:" ",weightRange:" ",tagName:"/",tagPlaceholder:": 1girl, hatsune_miku",ratingType:"Rating ",exists:"",notExists:""}},ppe={title:ope,description:lpe,searchInput:cpe,results:upe,filters:dpe,searchHistory:fpe,filterBlock:hpe},mpe=" ",gpe="AI      .",ype={positive:"",negative:""},bpe={search:{placeholder:"{{type}}  ..."},filters:{groupFilter:{label:" ",all:"",unassigned:""}},table:{headers:{prompt:"",usageCount:" ",assignedGroup:" ",actions:""},empty:" .",synonyms:{more:"+{{count}} "}},bulkActions:{assignSelected:"  ",bulkAssign:" ",selectedCount:"{{count}} "},actions:{assignToGroup:" ",delete:"",cannotDelete:"     ",groupManagement:" "},statistics:{unclassified:"",unknown:"  "},pagination:{rowsPerPage:"   :",displayedRows:"{{from}}-{{to}} / {{count}}"},messages:{loadFailed:"   .",deleteSuccess:" .",deleteFailed:"  .",assignSuccess:"  .",assignFailed:"  ."}},xpe={title:" ",selectGroup:{label:" ",unassigned:""},actions:{cancel:"",assign:""}},vpe={title:"  ",groupSelect:{label:" ",placeholder:" "},textInput:{label:" ",placeholder:"  (   )",example:": 1, 2, 3"},preview:{title:" ({{count}})",empty:"  "},actions:{assign:"",cancel:"",close:""},results:{title:" ",created:": {{count}}",updated:": {{count}}",failed:": {{count}}",total:" {{count}} "}},Spe={title:"{{type}}   ",dragHint:"    ",editForm:{titleAdd:"  ",titleEdit:" ",groupName:{label:"",required:" ."},displayOrder:{label:" "},visibility:{label:"",hidden:""},actions:{save:"",cancel:""}},groupList:{title:"  ({{count}})",add:" ",empty:"  .",promptCount:"{{count}}",displayOrder:" : {{order}}"},actions:{toggleVisibility:" ",edit:"",delete:"",deleteConfirm:"   ?",close:""},messages:{loadFailed:"   .",createSuccess:" .",createFailed:"  .",updateSuccess:" .",updateFailed:"  .",deleteSuccess:" .",deleteFailed:"  .",visibilityFailed:"   .",reorderSuccess:"  .",reorderFailed:"   ."}},_pe={tabs:{positive:"",negative:"",auto:"AUTO"},labels:{prompt:"",negativePrompt:" "},noPrompt:"  .",loading:" ...",loadFailed:"    ."},Cpe={noTags:"      .",generateButton:" ",generating:" ...",generationError:"    .",sections:{rating:"Rating",characters:"Characters",tagList:"Tag List",generalTags:"General Tags ({{count}})",modelInfo:"Model Information"},modelInfo:{model:"Model",generalThreshold:"General",characterThreshold:"Character",taggedAt:"Tagged At"}},wpe={title:mpe,description:gpe,tabs:ype,promptList:bpe,assignDialog:xpe,bulkAssignDialog:vpe,groupManagement:Spe,promptDisplay:_pe,autoTagDisplay:Cpe},Epe={generate:" ",history:""},Tpe={title:" ",listTitle:" ",addButton:" ",editTitle:" ",createTitle:" ",noWorkflows:"  ",noWorkflowsDesc:'" "   ComfyUI  '},Ape={active:"",inactive:"",fieldsCount:"{{count}} ",createdDate:": {{date}}",generateImage:" ",notFound:"   "},Rpe={basicInfo:" ",workflowName:" ",description:"",apiEndpoint:"API Endpoint",activate:"",workflowJson:"Workflow JSON",uploadFile:" ",jsonPlaceholder:'{"prompt": {...}}',jsonHelper:"ComfyUI Export Workflow API JSON ",jsonCharCount:"{{count}} ",invalidJson:"  JSON ",nameRequired:"  ",jsonRequired:"Workflow JSON ",validateJson:"JSON  "},kpe={importantNote:":",apiFormatWarning:'ComfyUI "Save (API Format)"   JSON .   JSON  .',created:" ",updated:" ",inactiveWarning:"    .     .",noConfigurableFields:"     ."},Ipe={sectionTitle:"Marked Fields ",guideTitle:"Marked Fields  ",addField:" ",noFields:'Marked Fields .  " "  ',whatIs:"Marked Fields?",whatIsDesc:"        .  , ,  , Steps, CFG     .",howToFind:"JSON Path  :",step1:'ComfyUI    "Save (API Format)"  ',step2:"JSON       ",step3:" : [].inputs.[]",exampleTitle:" :",example1Title:"1.   (CLIPTextEncode  #6)",example1FieldId:" ID: prompt_positive",example1Label:": ",example1Type:":   (textarea)",example1Path:"JSON Path: 6.inputs.text",example1Default:": a beautiful landscape",example2Title:"2.   (KSampler  #3)",example2FieldId:" ID: seed",example2Label:": Seed",example2Type:":  (number)",example2Path:"JSON Path: 3.inputs.seed",example2Default:": 123456",example3Title:"3. Steps (KSampler  #3)",example3FieldId:" ID: steps",example3Label:": Steps",example3Type:":  (number)",example3Path:"JSON Path: 3.inputs.steps",example3Default:": 20",example3Min:": 1",example3Max:": 150",example4Title:"4. Sampler (KSampler  #3)",example4FieldId:" ID: sampler_name",example4Label:": Sampler",example4Type:":  (select)",example4Path:"JSON Path: 3.inputs.sampler_name",example4Options:" : euler, euler_ancestral, dpm++ 2m, ddim",tipTitle:" :",tipDesc:'JSON Path Workflow JSON   .   JSON {"3": {"inputs": {"seed": 123}}}  JSON Path 3.inputs.seed .',previewTitle:"Marked Fields "},jpe={fieldId:" ID",fieldIdPlaceholder:"prompt_positive",fieldIdHelper:" ",label:"",labelPlaceholder:"",labelHelper:"  ",type:"",typeHelper:" ",typeText:" ( )",typeTextarea:"  ( )",typeNumber:"",typeSelect:" ()",jsonPath:"JSON Path *",jsonPathPlaceholder:"6.inputs.text",jsonPathHelper:"Workflow JSON  . : 6.inputs.text (6  text )",defaultValue:"",defaultValuePlaceholder:"a beautiful landscape",defaultValueHelper:"   ",required:"",minValue:"",minPlaceholder:"1",maxValue:"",maxPlaceholder:"150",selectOptions:"  ( )",selectOptionsPlaceholder:"euler, dpm++, ddim",selectOptionsHelper:": euler, dpm++ 2m, ddim"},Ope={pageTitle:" ",settingsTitle:" ",missingFields:"  : {{fields}}",selectPlaceholder:"",previewTitle:"  ",generateAll:"     ({{count}})",serversListTitle:"ComfyUI  ",serversListDesc:"      ",noServers:" ComfyUI  .     .",noConnectedServers:"  ",responseTime:" : {{time}}ms",generateButton:"  ",generating:" ...",generationComplete:"  !",generationFailed:"  ",executionTime:"{{time}}",viewImage:" "},Dpe={save:"",saving:" ...",cancel:"",create:"",update:"",delete:"",confirmDelete:"   ?"},Npe={title:" ",enable:"  ",count:" ",infinite:"  (-1)",countHelp:"1-999  -1 ()",delay:"  ()",delayHelp:"         (1-300)",progress:"{{current}}  ",progressWithTotal:"{{current}}/{{total}}  ",stop:""},Mpe={subtabs:Epe,page:Tpe,card:Ape,form:Rpe,alerts:kpe,markedFields:Ipe,fieldForm:jpe,generate:Ope,actions:Dpe,repeat:Npe},Ppe={title:" ",subtitle:"ComfyUI    "},Lpe={novelai:"NovelAI",comfyui:"ComfyUI",wildcards:"",ariaLabel:"  "},zpe={subtabs:{generate:" ",history:""},login:{title:"NovelAI ",subtitle:"NovelAI  ",tabs:{credentials:"/",token:""},username:"",password:"",token:"Access Token",tokenPlaceholder:"NovelAI Access Token ",tokenHint:"NovelAI   Access Token ",loginButton:"",loggingIn:" ...",error:" ",tokenError:"  "},tabs:{basic:" ",advanced:" "},sections:{preset:" ",prompts:"",output:" ",advanced:" ",sampling:" ",quality:" ",model:" "},anlas:{balance:"Anlas ",refresh:"",subscription:"",free:"",tablet:"Tablet",scroll:"Scroll",opus:"Opus"},cost:{title:" ",anlas:"Anlas",balance:"",sufficient:"",insufficient:"",opusFree:"Opus   ",maxSamples:"  "},models:{label:" ",v45curated:"V4.5 Curated ()",v45full:"V4.5 Full",v4curated:"V4 Curated",v4full:"V4 Full",v3:"V3 ()",v3furry:"V3 Furry"},advanced:{cfgRescale:"Prompt Guidance Rescale",noiseSchedule:"Noise Schedule",uncondScale:"Undesired Content Strength"},presets:{title:" ",label:" ",quality:{name:" ",description:"   (28 steps, Euler)"},fast:{name:"",description:"  (15 steps, Euler)"},artistic:{name:"",description:"  (35 steps, DPM++ 2S Ancestral, SMEA DYN)"},realistic:{name:"",description:"  (40 steps, DPM++ 2M, SMEA)"},detail:{name:"",description:"  (50 steps, DPM++ SDE, SMEA DYN)"}},gallery:{images:"",showMetadata:" ",hideMetadata:" ",downloadAll:" "},settings:{qualityToggle:"   "},generate:{title:"NovelAI  ",logout:"",prompt:"",negativePrompt:" ",resolution:"",sampler:"",steps:"",guidance:"",samples:" ",ucPreset:" ",generateButton:" ",generating:" ...",resultTitle:" ",download:"",upload:"",metadata:"",tokenExpired:" .  .",subscriptionRequired:"  ",error:"  ",uploadSuccess:"  ",uploadError:"  ",autoUploadSuccess:"{{count}}   ",autoUploadPartial:"{{success}}  , {{fail}} ",success:"{{count}}   .   .",completed:"  ",failed:"  "},repeat:{title:" ",enable:"  ",count:" ",infinite:"  (-1)",countHelp:"1-999  -1 ()",delay:"  ()",delayHelp:"       (1-300)",progress:"{{current}}  ",progressWithTotal:"{{current}}/{{total}}  ",stop:""},history:{title:" ",comingSoon:"    .",description:"      ."}},Fpe={page:Ppe,tabs:Lpe,nai:zpe},Bpe=" ",Hpe="{{count}}",Upe="  ",$pe=" ...",Gpe="  ...",qpe="  ",Vpe="  ",Wpe="    ",Ype="   ?",Kpe=" ",Xpe={pending:"",processing:"",completed:"",failed:""},Qpe={comfyui:"ComfyUI",novelai:"NovelAI"},Zpe={regenerate:"",delete:"",refresh:"",confirmDelete:"   ?"},Jpe=" ",eme="  ",tme="{{count}}    ?",nme=" ,  .",rme="",ame=" ...",ime="{{count}}   ",sme="   ",ome="  ",lme={title:"  ",status:"",service:"",positivePrompt:" ",negativePrompt:" ",size:"",model:"",sampler:"",steps:"",cfgScale:"CFG Scale",seed:"",error:"",createdAt:" ",completedAt:" "},cme={title:Bpe,count:Hpe,empty:Upe,loading:$pe,loadingMore:Gpe,allLoaded:qpe,noHistory:Vpe,noHistoryDescription:Wpe,deleteConfirm:Ype,deleteFailed:Kpe,status:Xpe,service:Qpe,actions:Zpe,cleanupFailed:Jpe,cleanupFailedTitle:eme,cleanupFailedConfirm:tme,cleanupFailedNote:nme,cleanup:rme,cleaning:ame,cleanupSuccess:ime,noFailedRecords:sme,bulkDeleteFailed:ome,detail:lme},ume={title:" ",listTitle:"ComfyUI  ",addButton:" ",noServers:"  ",noServersDesc:'" "   ComfyUI  '},dme={active:"",inactive:"",priority:": {{priority}}",concurrent:": {{count}}",connectionSuccess:" ",connectionFailed:" ",testConnection:" "},fme={addTitle:" ",editTitle:" ",serverName:" ",endpointUrl:" URL",endpointPlaceholder:"http://127.0.0.1:8188",description:"",priority:"",priorityHelper:"  ",maxConcurrent:"   ",activate:"",cancel:"",add:"",update:""},hme={connected:"",disconnected:" ",testing:" ",error:"",responseTime:" : {{time}}ms"},pme={test:" ",edit:"",delete:"",confirmDelete:"   ?"},mme={page:ume,card:dme,dialog:fme,status:hme,actions:pme},gme={network:"  .   .",timeout:"  .  .",unauthorized:" .  .",forbidden:" .     .",notFound:"    .",serverError:"  .   .",badRequest:" .   .",unknown:"   .  ."},yme={fileTooLarge:"   .  50MB   .",invalidFileType:"   .      .",uploadFailed:" .  .",multipleUploadFailed:"   .",fileCountLimit:"    .",processingFailed:"  .",noFilesSelected:"  .   ."},bme={loadFailed:"  .",deleteFailed:"  .",multipleDeleteFailed:"{{count}}   .",downloadFailed:"  .",notFound:"   .",metadataExtractionFailed:"   ."},xme={loadFailed:"  .",createFailed:"  .",updateFailed:"  .",deleteFailed:"  .",assignFailed:"  .",removeFailed:"  .",autoCollectFailed:"  .",notFound:"   ."},vme={loadFailed:"  .",deleteFailed:"  .",assignFailed:"   .",synonymFailed:"  .",notFound:"   ."},Sme={failed:" .  .",invalidQuery:" .",noResults:"  ."},_me={required:"  .",invalid:"  .",tooShort:"   .",tooLong:"   ."},Cme={api:gme,upload:yme,image:bme,group:xme,prompt:vme,search:Sme,validation:_me},wme={field:"  ",name:" ",description:" ",file:" ",image:" ",group:" "},Eme={invalid:"  ",email:"   ",url:" URL  ",number:" ",integer:" "},Tme={min:" {{min}}  ",max:" {{max}}  ",exact:" {{length}} ",between:"{{min}} {{max}}  "},Ame={fileSize:"  {{max}}   ",imageSize:"  {{width}}{{height}}   ",fileTooLarge:"   (: {{max}})",fileTooSmall:"   (: {{min}})"},Rme={min:"  {{min}}  ",max:"  {{max}}   ",between:" {{min}} {{max}}  "},kme={invalid:"   ",imageOnly:"   ",videoOnly:"   ",imageOrVideo:"     ",allowedTypes:" : {{types}}"},Ime={exists:" ",name:"  ",value:"  "},jme={required:wme,format:Eme,length:Tme,size:Ame,range:Rme,fileType:kme,duplicate:Ime},Ome={title:" ",noWildcards:"  ",noWildcardsDesc:"     "},Dme={all:"",both:""},Nme={add:" ",addItem:" ",preview:"",confirmDelete:" '{{name}}'  ?",copiedToClipboard:" ",copyFailed:" "},Mme={openScanDialog:"LORA ",openLogDialog:"  "},Pme={items:"{{count}} ",itemsCount:"",moreItems:" {{count}}"},Lme={createTitle:" ",editTitle:" "},zme={name:"",nameHelper:"++    (: , )",description:" ()",comfyuiItems:"ComfyUI  ",naiItems:"NovelAI  ",itemsHelper:"       .   ++++    .",itemPlaceholder:": , ,   , ++++"},Fme={title:" ",inputLabel:" ",inputPlaceholder:": ++++  , ++++ ",generate:" ",results:"  ( 5)",result:" {{number}}"},Bme={nameRequired:"  ",itemsRequired:" 1   ",previewTextRequired:"  ",copyFailed:" "},Hme={manual:" ",autoCollected:"  (LORA)"},Ume={title:"LORA   ",description:"LORA     ",folderPath:"LORA  ",folderPathHelper:"ComfyUI loras   LORA     ",loraWeight:" LORA ",loraWeightHelper:"     (: 1.0)",duplicateHandling:"   ",duplicateNumber:"  (style, style_2)",duplicateParent:"   (anime_style, realistic_style)",matchingMode:"   ",matchingModeFilename:"  (lora.txt)",matchingModeCommon:"   ",commonTextFilename:"  ",commonTextFilenameHelper:"      (: add.txt, common.txt)",matchingPriority:" ",priorityFilename:"   (    )",priorityCommon:"   (    )",scanButton:"LORA  ",scanning:" ...",lastScan:" ",noScanYet:"   ",scanLog:{title:" ",timestamp:" ",folderPath:" ",totalWildcards:" ",totalItems:"  ",details:" ",wildcardName:" ",itemCount:" "},noAutoWildcards:"   ",noAutoWildcardsDesc:"LORA    ",autoCollectedBadge:"",errors:{folderPathRequired:"LORA   ",invalidWeight:"    (0.1 ~ 2.0)",scanFailed:" : {{error}}"}},$me={title:"LORA   ",infoMessage:"ComfyUI loras   LORA    .",scanButton:"LORA ",warningTitle:" :",warning1:".safetensors   ",warning2:"     ",warning3:"       "},Gme={title:" LORA  "},qme={page:Ome,filters:Dme,actions:Nme,buttons:Mme,card:Pme,dialog:Lme,form:zme,preview:Fme,errors:Bme,tabs:Hme,autoCollect:Ume,scanDialog:$me,logDialog:Gme},Vme={save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",add:"Add",upload:"Upload",download:"Download",search:"Search",filter:"Filter",reset:"Reset",confirm:"Confirm",close:"Close",back:"Back",next:"Next",previous:"Previous",select:"Select",deselect:"Deselect",selectAll:"Select All",deselectAll:"Deselect All",apply:"Apply",clear:"Clear"},Wme={loading:"Loading...",saving:"Saving...",success:"Success",error:"Error",noData:"No data available",confirmDelete:"Are you sure you want to delete?",unsavedChanges:"You have unsaved changes",processing:"Processing...",uploading:"Uploading...",downloading:"Downloading...",deleting:"Deleting..."},Yme={name:"Name",description:"Description",date:"Date",status:"Status",type:"Type",size:"Size",created:"Created",updated:"Updated",width:"Width",height:"Height",duration:"Duration",resolution:"Resolution"},Kme={tooltips:{viewDetails:"View Details",download:"Download",delete:"Delete",select:"Select"},badges:{auto:"Auto",video:"Video"},confirmDelete:{image:"Are you sure you want to delete this image?",video:"Are you sure you want to delete this video?"}},Xme={selectedCount:"{{count}} items selected",selectedCountImages:"{{count}} images selected",tooltips:{download:"Download",addToGroup:"Add to Group",delete:"Delete",clearSelection:"Clear Selection"},confirmDelete:{mixed:"Are you sure you want to delete {{count}} files (images/videos)?",images:"Are you sure you want to delete {{count}} images?",videos:"Are you sure you want to delete {{count}} videos?",files:"Are you sure you want to delete {{count}} files?"}},Qme={perPage:"per page",items:"items",page:"Page",of:"of",showing:"Showing {{from}}-{{to}} of {{total}}",goToPage:"Go to page",rowsPerPage:"Rows per page"},Zme={loading:"Loading",error:"Error",empty:"Empty",success:"Success",pending:"Pending",completed:"Completed",failed:"Failed"},Jme={view:"View",download:"Download",delete:"Delete",edit:"Edit",create:"Create",update:"Update",cancel:"Cancel",confirm:"Confirm",retry:"Retry",refresh:"Refresh"},ege={buttons:Vme,messages:Wme,labels:Yme,imageCard:Kme,bulkActions:Xme,pagination:Qme,states:Zme,actions:Jme},tge="Settings",nge="Manage your ComfyUI Image Manager application settings",rge={general:"General Settings",tagger:"Tagger Settings",rating:"Rating Score Settings",similarity:"Image Similarity Search",prompts:"Prompt Management",metadata:"Metadata Extraction",folders:"Folder Management",account:"Account",advanced:"Advanced Settings"},age={title:"General Settings",language:{label:"Language",description:"Select the application display language",ko:"",en:"English",ja:"","zh-CN":"","zh-TW":""},gallery:{label:"Enable Gallery",tooltip:"Show gallery page in menu and navigation. When disabled, only masonry view will be used."},canvasCleanup:{label:"Auto cleanup Canvas folder on shutdown",tooltip:"Automatically delete edited images in the Canvas folder when the server shuts down. When disabled, edited images are preserved."},deleteProtection:{title:"Delete File Protection",description:"Store deleted files in RecycleBin folder for recovery",enabled:{label:"Store deleted files in RecycleBin",description:"When enabled, deleted files are backed up to RecycleBin folder instead of being permanently removed."},info:"RecycleBin folder is created in the project root. Deleted files are stored with timestamps. You can manually copy files from RecycleBin if recovery is needed."},metadata:{title:"Metadata Extraction Optimization",scanMode:{title:"Stealth PNG Scan Mode",fast:{label:"Fast (Recommended)",description:"Quick signature scan - checks first 200 pixels then exits early"},full:{label:"Full",description:"Full file scan - checks all pixels (slow)"},skip:{label:"Skip",description:"Skip scanning - disables secondary extraction"}},limits:{title:"File Size and Resolution Limits",fileSize:{label:"Max File Size (MB)",helper:"Files larger than this will skip Stealth PNG scanning"},resolution:{label:"Max Resolution (Megapixels)",helper:"Images larger than this will skip Stealth PNG scanning"}},skipSettings:{title:"AI Tool Skip Settings",description:"Automatically skip Stealth PNG scanning for specific AI tool images.",comfyui:{label:"Skip ComfyUI images (Recommended)",description:"ComfyUI doesn't use Stealth PNG, scanning unnecessary"},webui:{label:"Skip WebUI images",description:"WebUI may use Stealth PNG, enable only if needed"}},secondary:{label:"Enable secondary extraction",description:"Retry with Stealth PNG method if primary extraction fails."},performanceNote:" Tip: Default settings (Fast + ComfyUI skip) provide optimal performance for most cases. ComfyUI image processing time reduced from 2682ms  4ms!"}},ige={title:"WD Tagger Settings",description:"Configure AI-based automatic image tagging",enableAutoTagging:"Enable Auto-Tagging",model:{label:"Model Selection",loading:"Loading models...",downloaded:"Downloaded"},device:{label:"Device Selection",auto:{title:"Auto",description:"Use GPU if available, otherwise CPU"},cpu:{title:"CPU",description:"CPU only (slower but stable)"},cuda:{title:"GPU (CUDA)",description:"Use NVIDIA GPU (fast, requires GPU)"}},threshold:{general:{label:"General Tags Threshold: {{value}}",description:"Lower values extract more tags (may increase noise)"},character:{label:"Character Tags Threshold: {{value}}",description:"Lower values detect more characters (may increase false positives)"}},pythonPath:{label:"Python Executable Path",helper:"Path to Python executable (e.g., python, python3, C:\\Python39\\python.exe)"},test:{title:"Test",description:"Test current settings with a specific image.",imageHash:"Image Hash",placeholderHash:"e.g., abc123def456...",button:"Run Test",processing:"Processing...",result:"Tagging Result:",failed:"Test failed"},buttons:{save:"Save",cancel:"Cancel",download:"Download Model",downloading:"Checking download info...",checkDependencies:"Check Python Dependencies",checking:"Checking dependencies..."}},sge={title:"Rating Score Settings",description:"Configure the image rating score system"},oge={title:"Image Similarity Search Settings",autoGenerateHash:"Auto-generate Hash on Upload",description:"Automatically generate hashes for similar image search",duplicateScan:{title:"Full Duplicate Analysis",description:"Find duplicate image groups across the entire database.",scanButton:"Run Full Scan",scanning:"Scanning...",foundGroups:"Found Duplicate Groups: {{count}}",groupLabel:"Group {{id}}  {{count}} images",similarityLabel:"{{percent}}% similar",moreImages:"+{{count}} more",noResults:"Run scan to display duplicate image groups.",id:"ID: {{id}}",selectAll:"Select All",deselectAll:"Deselect All",keepOne:"Keep 1",keepOneDelete:"Keep first image and select rest for deletion",deleteSelected:"Delete {{count}} Selected",deleteConfirmTitle:"Confirm Image Deletion",deleteConfirmMessage:"Are you sure you want to delete {{count}} selected images?",deleteWarning:"Deleted images cannot be recovered!",cancel:"Cancel",confirmDelete:"Delete",deleting:"Deleting...",deleteSuccess:"{{count}} images deleted successfully.",deletePartialSuccess:"{{success}} succeeded, {{failed}} failed",deleteFailed:"Failed to delete images."}},lge={setup:{title:"Setup Authentication",description:"Configure username and password to protect your image manager from unauthorized access. Once set, you will need to login to access the application.",username:"Username",password:"Password",confirmPassword:"Confirm Password",button:"Setup Authentication",success:"Authentication configured successfully! You will need to login on your next visit.",errors:{required:"Username and password are required",mismatch:"Passwords do not match",failed:"Failed to setup authentication"}},update:{title:"Change Credentials",description:"Changing your credentials will require you to login again with the new credentials.",currentPassword:"Current Password",newUsername:"New Username",newPassword:"New Password",confirmNewPassword:"Confirm New Password",button:"Update Credentials",success:"Credentials updated successfully!",errors:{required:"All fields are required",mismatch:"New passwords do not match",failed:"Failed to update credentials"}}},cge={saveSuccess:"Settings saved successfully",saveFailed:"Failed to save settings",loadFailed:"Failed to load settings"},uge={title:tge,subtitle:nge,tabs:rge,general:age,tagger:ige,rating:sge,similarity:oge,auth:lge,messages:cge},dge={title:"ComfyUI Image Manager",menu:{home:"Home",gallery:"Gallery",imageGroups:"Groups",search:"Search",upload:"Upload",imageGeneration:"Image Generation",settings:"Settings",help:"Help"},tooltip:{home:"Go to home page",gallery:"View image gallery",imageGroups:"Manage groups",search:"Search images",upload:"Upload images",imageGeneration:"Generate AI images",settings:"Manage settings",help:"View help"},theme:{light:"Light Mode",dark:"Dark Mode",toggle:"Toggle Theme"},mobileMenu:{open:"Open Menu",close:"Close Menu"}},fge={copyright:" 2024 ComfyUI Image Manager. All rights reserved.",version:"Version"},hge={title:"Help",sections:{gettingStarted:"Getting Started",imageManagement:"Image Management",autoCollection:"Auto Collection",promptSystem:"Prompt System",settings:"Settings",shortcuts:"Shortcuts"}},pge={header:dge,footer:fge,help:hge},mge={title:"Image Gallery",description:"View and manage all uploaded images."},gge={aiTool:"AI Tool",sortBy:"Sort By",sortOrder:"Order",all:"All",clearFilters:"Clear Filters"},yge={uploadDate:"Upload Date",filename:"Filename",fileSize:"File Size",width:"Width",height:"Height",ascending:"Ascending",descending:"Descending"},bge={refresh:"Refresh",selectAll:"Select All",deselectAll:"Deselect All"},xge={loading:"Loading images...",noImages:"No images found.",error:"An error occurred while loading images."},vge={aiToolLabel:"AI Tool: {{tool}}"},Sge={page:mge,filters:gge,sorting:yge,actions:bge,status:xge,chips:vge},_ge={title:"Image Details",notFound:"Image not found.",errorLoading:"An error occurred while loading the image.",noIdProvided:"No image ID provided."},Cge={download:"Download",share:"Share",back:"Back",goToDetail:"Detail Page",delete:"Delete",deleteConfirm:"Are you sure you want to delete this image?",deleteSuccess:"Image deleted successfully.",deleteError:"Failed to delete image."},wge={fileInfo:"File Information",imageInfo:"Image Information",videoInfo:"Video Information",aiInfo:"Generation Info",promptInfo:"Prompt Information",groupInfo:"Groups",fullMetadata:"Full Metadata"},Ege={originalFilename:"Original Filename",filename:"Filename",size:"Size",fileSize:"File Size",mimeType:"MIME Type",uploadDate:"Upload Date"},Tge={dimensions:"Dimensions",dimensionsValue:"{{width}}  {{height}}"},Age={duration:"Duration",durationValue:"{{minutes}}m {{seconds}}s",fps:"Frame Rate",fpsValue:"{{fps}} fps",videoCodec:"Video Codec",audioCodec:"Audio Codec",bitrate:"Bitrate",bitrateValue:"{{bitrate}} Mbps"},Rge={tool:"AI Tool",toolShort:"Tool",model:"Model",lora:"LoRA",steps:"Steps",cfgScale:"CFG Scale",cfgShort:"CFG",sampler:"Sampler",scheduler:"Scheduler",seed:"Seed",denoiseStrength:"Denoise Strength",generationTime:"Generation Time",generationTimeValue:"{{time}}s",batchSize:"Batch Size",batchIndex:"Batch Index"},kge={autoType:"Auto",manualType:"Manual",groupLabel:"{{name}} ({{type}})"},Ige={controls:{zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateLeft:"Rotate Left",rotateRight:"Rotate Right",flipHorizontal:"Flip Horizontal",flipVertical:"Flip Vertical",reset:"Reset",info:"Info",close:"Close"},navigation:{previous:"Previous Image ()",next:"Next Image ()",random:"Random Image (Space)",currentPosition:"{{current}} / {{total}}"}},jge={page:_ge,actions:Cge,sections:wge,fileInfo:Ege,imageInfo:Tge,videoInfo:Age,aiInfo:Rge,groupInfo:kge,viewer:Ige},Oge={title:"Media Upload",description:"Upload AI-generated images and videos to automatically extract and analyze metadata."},Dge={dragActive:"Drop files here",dragInactive:"Drag and drop images or videos, or click to upload",supportedFormats:"Images: JPG, PNG, GIF, BMP, WebP, TIFF | Videos: MP4, WebM, MOV, AVI, MKV (Max 500MB, unlimited files)",imageSupport:"Image Support",videoSupport:"Video Support",multipleSelection:"Multiple Selection",divider:"or"},Nge={selectFiles:"Select Files",selectFolder:"Select Folder"},Mge={title:"Overall Progress",fileCount:"{{completed}}/{{total}}",summary:"Total {{total}} files - Success: {{success}}, Failed: {{failed}}"},Pge={upload:"Uploading",metadata:"Extracting Metadata",thumbnail:"Generating Thumbnail",autoCollect:"Auto Grouping",autoTag:"Auto Tagging"},Lge={waiting:"Waiting",processing:"Processing",complete:"Complete",error:"Error"},zge={uploadComplete:"Upload Complete",uploadSuccess:"Image upload completed successfully.",uploadFailed:"Upload failed.",uploadError:"An error occurred during upload.",multipleSuccess:"{{count}} images uploaded successfully.",allFailed:"All image uploads failed.",partialSuccess:"{{success}} succeeded, {{failed}} failed."},Fge={title:"Prompt Preview",description:"Select an image to instantly view AI metadata without uploading to server.",dragOrClick:"Drag or click to select an image",dropHere:"Drop file here",noUpload:"Images are analyzed in browser only, not uploaded to server",imagePreview:"Image Preview",aiTool:"AI Tool",positivePrompt:"Prompt",negativePrompt:"Negative Prompt",terms:"Extracted Terms",loraModels:"LoRA Models",parameters:"Generation Parameters",rawMetadata:"Raw Metadata (EXIF/PNG Chunks)",invalidFileType:"Only image files are allowed",extractionFailed:"Failed to extract metadata"},Bge={page:Oge,dropzone:Dge,buttons:Nge,progress:Mge,stages:Pge,status:Lge,messages:zge,promptPreview:Fge},Hge={title:"Media Groups",description:"",emptyTitle:"No groups created yet",emptyDescription:"Create a new group to systematically manage your images.",customGroupsTab:"Custom Groups",autoFolderGroupsTab:"Auto Folder Groups"},Uge={imageCount:"{{count}} images",autoCollect:"Auto-collect",stats:"Auto: {{auto}} | Manual: {{manual}}"},$ge={edit:"Edit",delete:"Delete",runAutoCollection:"Run Auto-collection"},Gge={basicInfo:"Basic Information",autoCollect:"Auto-collection Settings"},qge={createTitle:"Create New Group",editTitle:"Edit Group",basicInfo:"Basic Information",groupName:"Group Name",description:"Description",groupColor:"Group Color",parentGroup:"Parent Group",noParent:"None (Root Level)",selectParent:"Select Parent Group",autoCollectEnable:"Enable Auto-collection",autoCollectDescription:"Automatically add images that match the configured conditions to this group.",orConditionInfo:"OR Condition: Multiple conditions will collect images that satisfy at least one condition.",orConditionExample:`Example: "Prompt contains 'anime'" + "Auto-tag has character"  Collects if either is satisfied`,conditionsTitle:"Auto-collection Conditions",addCondition:"Add Condition",conditionType:"Condition Type",conditionValue:"Value",emptyConditions:"Add conditions to configure auto-collection rules.",buttonCreate:"Create",buttonUpdate:"Update",buttonCancel:"Cancel"},Vge={root:"Root",childGroups:"{{count}} subgroups",openSubgroups:"Open Subgroups",backToParent:"Back to Parent",moveGroup:"Move Group",moveToRoot:"Move to Root",cannotMoveToSelf:"Cannot move to itself",cannotMoveToDescendant:"Cannot move to descendant group",maxDepthExceeded:"Maximum depth (5 levels) exceeded",circularReference:"Circular reference detected",hierarchyInvalid:"Invalid hierarchy structure"},Wge={conditionNumber:"Condition {{number}}",removeCondition:"Remove Condition",addFirstCondition:"Add First Condition",autoCollectDisabled:"Enable auto-collection to configure conditions.",groups:{basic:"Basic",prompt:"Prompt",autotag:"Auto-tag",duplicate:"Duplicate Images"},types:{aiTool:"AI Tool",modelName:"Model Name (Metadata)",promptContains:"Prompt Contains",promptRegex:"Prompt Regex",negativePromptContains:"Negative Prompt Contains",negativePromptRegex:"Negative Prompt Regex",autoTagExists:"Auto-tag Exists",autoTagRating:"Auto-tag: Rating",autoTagRatingScore:"Auto-tag: Rating Score (Weighted)",autoTagGeneral:"Auto-tag: General Tag",autoTagCharacter:"Auto-tag: Character",autoTagHasCharacter:"Auto-tag: Has Character",autoTagModel:"Auto-tag: Model Name",duplicateExact:"Exact Duplicate",duplicateNear:"Near Duplicate",duplicateSimilar:"Similar Images",duplicateCustom:"Custom Duplicate Detection"},values:{exists:"Exists",notExists:"Not Exists"},ratings:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"},fields:{value:"Value",ratingType:"Rating Type",minScore:"Min Score",maxScore:"Max Score",tagName:"Tag Name",characterName:"Character Name",caseSensitive:"Case Sensitive",exactMatch:"Exact Match",exactMatchHelp:"When checked, only exact word matches are searched (e.g., 'asd' won't match 'aasd' or 'asdf')",weightedScore:"Weighted Total Score",maxWeightInfo:"Usually up to 200",confidenceRange:"Confidence Score Range (0.0 ~ 1.0): {{min}} ~ {{max}}",confidenceInfo:" Higher scores indicate higher confidence in the tag",hammingThreshold:"Hamming Distance Threshold",hammingThresholdHelp:"Value between 0-64 (lower = stricter matching)",hammingInfo:" Hamming Distance measures bit differences between perceptual hashes. Lower values find more similar images.",duplicateNote:" This condition only searches images with perceptual_hash."},duplicateInfo:{duplicate_exact:" Finds exact duplicates (Hamming Distance = 0). Detects identical images even with different filenames or metadata.",duplicate_near:" Finds near duplicates (Hamming Distance  5). Detects images with resizing, compression, or minor edits.",duplicate_similar:" Finds similar images (Hamming Distance  15). Detects images with similar composition or content."},placeholders:{regex:"Enter regex pattern",modelName:"Enter model name (e.g., wd-v1-4-moat-tagger-v2)",text:"Enter text to search",tagName:"Enter tag name",characterName:"Enter character name"}},Yge={nameRequired:"Please enter a group name.",conditionRequired:"At least one condition is required to enable auto-collection.",valueRequired:"Please enter a value for condition {{index}}.",ratingTypeRequired:"Condition {{index}}: Please select a rating type.",ratingScoreRequired:"Condition {{index}}: Either min score or max score must be set.",minScoreInvalid:"Condition {{index}}: Min score must be 0 or greater.",maxScoreInvalid:"Condition {{index}}: Max score must be 0 or greater.",scoreRangeInvalid:"Condition {{index}}: Min score must be less than max score.",confidenceScoreRange:"Condition {{index}}: Min score must be between 0.0 and 1.0.",confidenceMaxScoreRange:"Condition {{index}}: Max score must be between 0.0 and 1.0.",confidenceMinMaxInvalid:"Condition {{index}}: Min score cannot be greater than max score.",hammingThresholdRequired:"Condition {{index}}: Hamming Distance threshold is required.",hammingThresholdRange:"Condition {{index}}: Hamming Distance must be between 0 and 64."},Kge={loadFailed:"Failed to load group list.",imageLoadFailed:"Failed to load group images.",deleteSuccess:"Group has been deleted.",deleteFailed:"Failed to delete group.",autoCollectSuccess:"Auto-collection complete: {{added}} added, {{removed}} removed",autoCollectFailed:"Failed to run auto-collection.",createSuccess:"Group has been created.",createFailed:"Failed to create group.",updateSuccess:"Group has been updated.",updateFailed:"Failed to update group.",removeWarning:"No images available to remove.",removeSuccess:"{{count}} images have been removed.",removePartialSuccess:"{{removed}} images removed. {{failed}} failed.",removeError:"An error occurred while removing images.",assignSuccess:"{{added}} added, {{converted}} converted, {{skipped}} skipped",assignFailed:"Failed to assign images.",assignError:"An error occurred while assigning images.",emptyGroup:"This group is empty"},Xge={title:"{{name}} ({{count}} images)",selectedCount:"{{count}} selected",buttonRemove:"Remove",buttonAssign:"Assign to Group",infoMixedSelection:"Both manual and auto-collected images are selected. Only manual images can be removed, while group assignment applies to all selected images.",warningAutoOnly:"Auto-collected images cannot be removed directly from the group. Please change or disable the auto-collection conditions.",confirmRemoveTitle:"Confirm Image Removal",confirmRemoveMessage:"Remove {{count}} manually collected images from the group?",confirmRemoveNote:"The image files themselves will not be deleted."},Qge={title:"Assign to Group",description:"Assign {{count}} selected images to a group.",currentGroup:"Current Group",emptyGroups:"No groups created",loadError:"Failed to load group list.",loadingError:"An error occurred while loading groups.",buttonAssign:"Assign",buttonCancel:"Cancel"},Zge={menuTitle:"Download Options",scopeAll:"Download All",scopeSelected:"Selected {{count}} Only",typeThumbnail:"Images (Thumbnail)",typeOriginal:"Images (Original)",typeVideo:"Videos & Animations (Original)",confirmTitle:"Confirm Large Download",confirmMessage:"Download {{count}} files. Continue?",confirmButton:"Download"},Jge={page:Hge,groupCard:Uge,menu:$ge,tabs:Gge,modal:qge,hierarchy:Vge,conditions:Wge,validation:Yge,messages:Kge,imageModal:Xge,assignModal:Qge,download:Zge},e0e="Image Search",t0e="Search for images by prompts, AI tools, model names, auto tags, and more.",n0e={placeholder:"Search by prompt keywords...",button:"Search",clear:"Reset All",execute:"Execute Search"},r0e={title:"Search Results",searching:"Searching...",found:"Found {{count}} images.",noResults:"No results found",noResultsHint:"Try different keywords or adjust filters.",initialMessage:"Enter keywords to search for images",initialHint:"You can search by prompts, AI tools, model names, auto tags, dates, and more.",reset:"Reset Search",refresh:"Refresh"},a0e={basic:{aiTool:{label:"AI Tool",all:"All"},modelName:{label:"Model Name",placeholder:"e.g. sd_xl_base_1.0"},startDate:{label:"Start Date"},endDate:{label:"End Date"}},quickDate:{today:"Today",todayTooltip:"Images uploaded today","7days":"7 Days","7daysTooltip":"Last 7 days","30days":"30 Days","30daysTooltip":"Last 30 days","90days":"90 Days","90daysTooltip":"Last 90 days"},advanced:{title:"Advanced Filters",active:"Active",negativePrompt:{label:"Negative Prompt",placeholder:"Enter keywords to exclude (e.g., ugly, blurry)"}},autoTag:{title:"Auto Tag Filters",subtitle:"(WD v3 Tagger)",active:"Active",tabs:{rating:"Rating",character:"Character",generalTags:"General Tags"},rating:{typeMode:"Filter by Type",scoreMode:"Filter by Score",typeDescription:"Filter by confidence range of specific rating type",scoreDescription:"Filter by weighted total score configured in settings",type:{label:"Rating Type",none:"None",general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"},confidenceRange:"Confidence Range",scoreRange:"Score Range"},character:{description:"Filter images by character tags",existence:{label:"Character Presence",all:"All",true:"Present",false:"Absent"},name:{label:"Character Name",placeholder:"e.g., hatsune_miku"},confidenceRange:"Confidence Range"},generalTags:{description:"Filter by general tags and confidence range",tagName:{label:"Tag Name",placeholder:"e.g., 1girl, solo, landscape"},confidence:"Confidence: {{min}} ~ {{max}}",addedTags:"Added Tags ({{count}})"}}},i0e={title:"Recent Searches"},s0e={addButton:"Add Filter",emptyMessage:"Add filters to start searching",countInfo:"{{count}} filter(s) will be applied.",executionOrder:"Execution order: Exclude  OR  AND",modal:{title:"Add Filter",cancel:"Cancel",back:"Back",next:"Next",add:"Add Filter",steps:{selectGroup:"Select Filter Group",selectCategory:"Select Category",configureCondition:"Configure Condition"},step1:{description:"Choose how to apply the filter"},step2:{description:"Select what information to search by"},step3:{description:"Configure the condition. Filters cannot be edited after creation, you must delete and recreate them."}},groupTypes:{exclude:{label:"Exclude (NOT)",description:"Exclude images matching this condition from results"},or:{label:"OR Group",description:"Include images matching this condition in results"},and:{label:"AND Group",description:"Only include images matching all conditions"}},categories:{positive_prompt:{label:"Positive Prompt",description:"Search positive prompts used in image generation"},negative_prompt:{label:"Negative Prompt",description:"Search negative prompts used in image generation"},auto_tag:{label:"Auto Tag (WD Tagger)",description:"Search auto-generated tags from WD v3 Tagger"},basic:{label:"Basic Info",description:"Search basic metadata like AI tool and model name"}},conditionTypes:{conditionType:"Condition Type",value:"Value",placeholder:"Enter value to search",scoreRange:"Score Range",weightRange:"Weight Range",tagName:"Tag/Character Name",tagPlaceholder:"e.g., 1girl, hatsune_miku",ratingType:"Rating Type",exists:"Present",notExists:"Absent"}},o0e={title:e0e,description:t0e,searchInput:n0e,results:r0e,filters:a0e,searchHistory:i0e,filterBlock:s0e},l0e="Prompt Management",c0e="Manage and analyze prompts extracted from AI-generated images.",u0e={positive:"Positive",negative:"Negative"},d0e={search:{placeholder:"Search {{type}} prompts..."},filters:{groupFilter:{label:"Group Filter",all:"All",unassigned:"Unassigned"}},table:{headers:{prompt:"Prompt",usageCount:"Usage Count",assignedGroup:"Assigned Group",actions:"Actions"},empty:"No prompts available.",synonyms:{more:"+{{count}} more"}},actions:{assignToGroup:"Assign to Group",delete:"Delete",cannotDelete:"Cannot delete prompts in use",groupManagement:"Group Management"},statistics:{unclassified:"Unclassified",unknown:"Unknown"},pagination:{rowsPerPage:"Rows per page:",displayedRows:"{{from}}-{{to}} of {{count}}"},messages:{loadFailed:"Failed to load prompt list.",deleteSuccess:"Prompt deleted successfully.",deleteFailed:"Failed to delete prompt.",assignSuccess:"Prompt assigned to group successfully.",assignFailed:"Failed to assign prompt."}},f0e={title:"Assign to Group",selectGroup:{label:"Select Group",unassigned:"Unassigned"},actions:{cancel:"Cancel",assign:"Assign"}},h0e={title:"{{type}} Prompt Group Management",dragHint:"Drag to reorder groups",editForm:{titleAdd:"Add New Group",titleEdit:"Edit Group",groupName:{label:"Group Name",required:"Please enter a group name."},displayOrder:{label:"Display Order"},visibility:{label:"Visible",hidden:"Hidden"},actions:{save:"Save",cancel:"Cancel"}},groupList:{title:"Group List ({{count}})",add:"Add Group",empty:"No groups created.",promptCount:"{{count}} prompts",displayOrder:"Display Order: {{order}}"},actions:{toggleVisibility:"Toggle Visibility",edit:"Edit",delete:"Delete",deleteConfirm:"Are you sure you want to delete this group?",close:"Close"},messages:{loadFailed:"Failed to load group list.",createSuccess:"Group created successfully.",createFailed:"Failed to create group.",updateSuccess:"Group updated successfully.",updateFailed:"Failed to update group.",deleteSuccess:"Group deleted successfully.",deleteFailed:"Failed to delete group.",visibilityFailed:"Failed to change group settings.",reorderSuccess:"Group order updated successfully.",reorderFailed:"Failed to update group order."}},p0e={tabs:{positive:"Positive",negative:"Negative",auto:"AUTO"},labels:{prompt:"Prompt",negativePrompt:"Negative Prompt"},noPrompt:"No prompt information available.",loading:"Loading...",loadFailed:"Failed to load group information."},m0e={noTags:"Auto tagging has not been generated for this image yet.",generateButton:"Generate Tags",generating:"Generating...",generationError:"An error occurred while generating tags.",sections:{rating:"Rating",characters:"Characters",tagList:"Tag List",generalTags:"General Tags ({{count}})",modelInfo:"Model Information"},modelInfo:{model:"Model",generalThreshold:"General",characterThreshold:"Character",taggedAt:"Tagged At"}},g0e={title:l0e,description:c0e,tabs:u0e,promptList:d0e,assignDialog:f0e,groupManagement:h0e,promptDisplay:p0e,autoTagDisplay:m0e},y0e={generate:"Generate",history:"History"},b0e={title:"Workflow Management",listTitle:"Workflow List",addButton:"Add Workflow",editTitle:"Edit Workflow",createTitle:"Add Workflow",noWorkflows:"No workflows registered",noWorkflowsDesc:'Click "Add Workflow" button to add a ComfyUI workflow'},x0e={active:"Active",inactive:"Inactive",fieldsCount:"{{count}} fields",createdDate:"Created: {{date}}",generateImage:"Generate Image",notFound:"Workflow not found"},v0e={basicInfo:"Basic Information",workflowName:"Workflow Name",description:"Description",apiEndpoint:"API Endpoint",activate:"Activate",workflowJson:"Workflow JSON",uploadFile:"Upload File",jsonPlaceholder:'{"prompt": {...}}',jsonHelper:"Paste the Workflow API JSON exported from ComfyUI",jsonCharCount:"{{count}} characters",invalidJson:"Invalid JSON format",nameRequired:"Please enter workflow name",jsonRequired:"Please enter Workflow JSON",validateJson:"Please check JSON format"},S0e={importantNote:"Important:",apiFormatWarning:'Use JSON saved with "Save (API Format)" button in ComfyUI. Regular workflow JSON will not work.',created:"Workflow created successfully",updated:"Workflow updated successfully",inactiveWarning:"This workflow is currently inactive. You need to activate it first to generate images.",noConfigurableFields:"This workflow has no configurable fields."},_0e={sectionTitle:"Marked Fields Configuration",guideTitle:"Marked Fields Usage Guide",addField:"Add Field",noFields:'No Marked Fields. Click "Add Field" button to add one',whatIs:"What are Marked Fields?",whatIsDesc:"Define fields that users can modify when generating images. For example, you can dynamically input prompts, seed values, Steps, CFG, etc.",howToFind:"How to find JSON Path:",step1:'Create a workflow in ComfyUI and click "Save (API Format)" button',step2:"Open the JSON file and find the node number and input field name",step3:"Path format: [node_number].inputs.[field_name]",exampleTitle:"Real Examples:",example1Title:"1. Prompt Field (CLIPTextEncode Node #6)",example1FieldId:"Field ID: prompt_positive",example1Label:"Label: Prompt",example1Type:"Type: Long Text (textarea)",example1Path:"JSON Path: 6.inputs.text",example1Default:"Default: a beautiful landscape",example2Title:"2. Seed Value (KSampler Node #3)",example2FieldId:"Field ID: seed",example2Label:"Label: Seed",example2Type:"Type: Number",example2Path:"JSON Path: 3.inputs.seed",example2Default:"Default: 123456",example3Title:"3. Steps (KSampler Node #3)",example3FieldId:"Field ID: steps",example3Label:"Label: Steps",example3Type:"Type: Number",example3Path:"JSON Path: 3.inputs.steps",example3Default:"Default: 20",example3Min:"Min: 1",example3Max:"Max: 150",example4Title:"4. Sampler (KSampler Node #3)",example4FieldId:"Field ID: sampler_name",example4Label:"Label: Sampler",example4Type:"Type: Select",example4Path:"JSON Path: 3.inputs.sampler_name",example4Options:"Options: euler, euler_ancestral, dpm++ 2m, ddim",tipTitle:" Tip:",tipDesc:'JSON Path follows the structure of Workflow JSON. For example, if JSON is {"3": {"inputs": {"seed": 123}}}, the JSON Path would be 3.inputs.seed.',previewTitle:"Marked Fields Preview"},C0e={fieldId:"Field ID",fieldIdPlaceholder:"prompt_positive",fieldIdHelper:"Unique identifier",label:"Label",labelPlaceholder:"Prompt",labelHelper:"Name displayed to users",type:"Type",typeHelper:"Input method",typeText:"Text (single line)",typeTextarea:"Long Text (multiple lines)",typeNumber:"Number",typeSelect:"Select (dropdown)",jsonPath:"JSON Path *",jsonPathPlaceholder:"6.inputs.text",jsonPathHelper:"Path in Workflow JSON. Example: 6.inputs.text (text input of node 6)",defaultValue:"Default Value",defaultValuePlaceholder:"a beautiful landscape",defaultValueHelper:"Value to display when empty",required:"Required",minValue:"Min Value",minPlaceholder:"1",maxValue:"Max Value",maxPlaceholder:"150",selectOptions:"Select Options (comma separated)",selectOptionsPlaceholder:"euler, dpm++, ddim",selectOptionsHelper:"Example: euler, dpm++ 2m, ddim"},w0e={pageTitle:"Generate Image",settingsTitle:"Generation Settings",missingFields:"Please enter required fields: {{fields}}",selectPlaceholder:"Please select",previewTitle:"Data to be sent Preview",generateAll:"Generate on all active servers ({{count}})",serversListTitle:"ComfyUI Server List",serversListDesc:"You can generate images independently on each server",noServers:"No ComfyUI servers registered. Add a server in the server management page.",noConnectedServers:"No connected servers",responseTime:"Response time: {{time}}ms",generateButton:"Generate on this server",generating:"Generating...",generationComplete:"Image generation completed!",generationFailed:"Image generation failed",executionTime:"{{time}}s",viewImage:"View Image Details"},E0e={save:"Save",saving:"Saving...",cancel:"Cancel",create:"Create",update:"Update",delete:"Delete",confirmDelete:"Are you sure you want to delete this workflow?"},T0e={title:"Repeat Execution",enable:"Enable repeat execution",count:"Repeat count",infinite:"Infinite repeat (-1)",countHelp:"1-999 or -1 (infinite)",delay:"Delay (seconds)",delayHelp:"Wait time before next generation after all servers complete (1-300 seconds)",progress:"Iteration {{current}} in progress",progressWithTotal:"Iteration {{current}}/{{total}} in progress",stop:"Stop"},A0e={subtabs:y0e,page:b0e,card:x0e,form:v0e,alerts:S0e,markedFields:_0e,fieldForm:C0e,generate:w0e,actions:E0e,repeat:T0e},R0e={title:"Image Generation",subtitle:"Manage ComfyUI workflows and generate images"},k0e={novelai:"NovelAI",comfyui:"ComfyUI",wildcards:"Wildcards",ariaLabel:"Image generation tabs"},I0e={subtabs:{generate:"Generate",history:"History"},login:{title:"NovelAI Login",subtitle:"Sign in with your NovelAI account",tabs:{credentials:"Email/Password",token:"Token"},username:"Email",password:"Password",token:"Access Token",tokenPlaceholder:"Enter your NovelAI Access Token",tokenHint:"Enter the Access Token obtained from the NovelAI website",loginButton:"Login",loggingIn:"Logging in...",error:"Login failed",tokenError:"Token authentication failed"},tabs:{basic:"Basic Settings",advanced:"Advanced Settings"},sections:{preset:"Quality Presets",prompts:"Prompts",output:"Output Settings",advanced:"Advanced Settings",sampling:"Sampling Settings",quality:"Quality Settings",model:"Model Selection"},anlas:{balance:"Anlas Balance",refresh:"Refresh",subscription:"Subscription",free:"Free",tablet:"Tablet",scroll:"Scroll",opus:"Opus"},cost:{title:"Cost Estimate",anlas:"Anlas",balance:"Balance",sufficient:"Sufficient",insufficient:"Insufficient",opusFree:"Opus Free Generation",maxSamples:"Max Samples"},models:{label:"Model Selection",v45curated:"V4.5 Curated (Recommended)",v45full:"V4.5 Full",v4curated:"V4 Curated",v4full:"V4 Full",v3:"V3 (Legacy)",v3furry:"V3 Furry"},advanced:{cfgRescale:"Prompt Guidance Rescale",noiseSchedule:"Noise Schedule",uncondScale:"Undesired Content Strength"},settings:{qualityToggle:"Auto-add quality tags"},presets:{title:"Quality Presets",label:"Quality Presets",quality:{name:"Quality",description:"Balanced quality and speed (28 steps, Euler)"},fast:{name:"Fast",description:"Quick generation (15 steps, Euler)"},artistic:{name:"Artistic",description:"Creative results (35 steps, DPM++ 2S Ancestral, SMEA DYN)"},realistic:{name:"Realistic",description:"Realistic images (40 steps, DPM++ 2M, SMEA)"},detail:{name:"Detail",description:"Maximum detail (50 steps, DPM++ SDE, SMEA DYN)"}},gallery:{images:"Images",showMetadata:"Show Metadata",hideMetadata:"Hide Metadata",downloadAll:"Download All"},generate:{title:"NovelAI Image Generation",logout:"Logout",prompt:"Prompt",negativePrompt:"Negative Prompt",resolution:"Resolution",sampler:"Sampler",steps:"Steps",guidance:"Guidance",samples:"Samples",ucPreset:"Quality Preset",generateButton:"Generate Image",generating:"Generating...",resultTitle:"Generated Images",download:"Download",upload:"Upload",metadata:"Metadata",tokenExpired:"Token expired. Please login again.",subscriptionRequired:"Active subscription required",error:"Image generation failed",uploadSuccess:"Image uploaded successfully",uploadError:"Image upload failed",autoUploadSuccess:"{{count}} image(s) uploaded automatically",autoUploadPartial:"{{success}} uploaded, {{fail}} failed",success:"{{count}} image(s) generation started. Check the History tab.",completed:"Image generation completed",failed:"Image generation failed"},repeat:{title:"Repeat Execution",enable:"Enable repeat execution",count:"Repeat count",infinite:"Infinite repeat (-1)",countHelp:"1-999 or -1 (infinite)",delay:"Delay (seconds)",delayHelp:"Wait time before next generation after completion (1-300 seconds)",progress:"Iteration {{current}} in progress",progressWithTotal:"Iteration {{current}}/{{total}} in progress",stop:"Stop"},history:{title:"Generation History",comingSoon:"This feature is coming soon.",description:"View your previously generated images and settings."}},j0e={page:R0e,tabs:k0e,nai:I0e},O0e="Generation History",D0e="{{count}} items",N0e="No generation history",M0e="Loading...",P0e="Loading more history...",L0e="All history loaded",z0e="No generation history",F0e="History will appear when you start generating images",B0e="Are you sure you want to delete this generation history?",H0e="Failed to delete",U0e={pending:"Pending",processing:"Processing",completed:"Completed",failed:"Failed"},$0e={comfyui:"ComfyUI",novelai:"NovelAI"},G0e={regenerate:"Regenerate",delete:"Delete",refresh:"Refresh",confirmDelete:"Are you sure you want to delete this generation history?"},q0e="Failed to cleanup",V0e="Cleanup Failed Items",W0e="Are you sure you want to delete {{count}} failed generation histories?",Y0e="Only database records will be deleted, files will be kept.",K0e="Cleanup",X0e="Cleaning...",Q0e="{{count}} failed items have been deleted",Z0e="No failed items to clean up",J0e="Failed to bulk delete",e1e={title:"Generation History Details",status:"Status",service:"Service",positivePrompt:"Positive Prompt",negativePrompt:"Negative Prompt",size:"Size",model:"Model",sampler:"Sampler",steps:"Steps",cfgScale:"CFG Scale",seed:"Seed",error:"Error",createdAt:"Created At",completedAt:"Completed At"},t1e={title:O0e,count:D0e,empty:N0e,loading:M0e,loadingMore:P0e,allLoaded:L0e,noHistory:z0e,noHistoryDescription:F0e,deleteConfirm:B0e,deleteFailed:H0e,status:U0e,service:$0e,actions:G0e,cleanupFailed:q0e,cleanupFailedTitle:V0e,cleanupFailedConfirm:W0e,cleanupFailedNote:Y0e,cleanup:K0e,cleaning:X0e,cleanupSuccess:Q0e,noFailedRecords:Z0e,bulkDeleteFailed:J0e,detail:e1e},n1e={title:"Server Management",listTitle:"ComfyUI Server List",addButton:"Add Server",noServers:"No servers registered",noServersDesc:'Click "Add Server" button to add a ComfyUI server'},r1e={active:"Active",inactive:"Inactive",priority:"Priority: {{priority}}",concurrent:"Concurrent: {{count}}",connectionSuccess:"Connection successful",connectionFailed:"Connection failed",testConnection:"Test Connection"},a1e={addTitle:"Add Server",editTitle:"Edit Server",serverName:"Server Name",endpointUrl:"Endpoint URL",endpointPlaceholder:"http://127.0.0.1:8188",description:"Description",priority:"Priority",priorityHelper:"Higher values are used first",maxConcurrent:"Max Concurrent Jobs",activate:"Activate",cancel:"Cancel",add:"Add",update:"Update"},i1e={connected:"Connected",disconnected:"Disconnected",testing:"Testing",error:"Error",responseTime:"Response time: {{time}}ms"},s1e={test:"Test Connection",edit:"Edit",delete:"Delete",confirmDelete:"Are you sure you want to delete this server?"},o1e={page:n1e,card:r1e,dialog:a1e,status:i1e,actions:s1e},l1e={network:"Network connection error. Please check your internet connection.",timeout:"Request timeout. Please try again.",unauthorized:"Authentication required. Please log in again.",forbidden:"Access denied. You don't have permission to perform this action.",notFound:"The requested resource was not found.",serverError:"Server error occurred. Please try again later.",badRequest:"Invalid request. Please check your input.",unknown:"An unexpected error occurred. Please try again."},c1e={fileTooLarge:"File size is too large. Maximum file size is 50MB.",invalidFileType:"Invalid file type. Only images and videos are allowed.",uploadFailed:"Upload failed. Please try again.",multipleUploadFailed:"Some files failed to upload.",fileCountLimit:"File count limit exceeded.",processingFailed:"File processing failed.",noFilesSelected:"No files selected. Please select files to upload."},u1e={loadFailed:"Failed to load image.",deleteFailed:"Failed to delete image.",multipleDeleteFailed:"{{count}} images failed to delete.",downloadFailed:"Failed to download image.",notFound:"Image not found.",metadataExtractionFailed:"Failed to extract image metadata."},d1e={loadFailed:"Failed to load groups.",createFailed:"Failed to create group.",updateFailed:"Failed to update group.",deleteFailed:"Failed to delete group.",assignFailed:"Failed to assign to group.",removeFailed:"Failed to remove from group.",autoCollectFailed:"Auto-collection failed.",notFound:"Group not found."},f1e={loadFailed:"Failed to load prompts.",deleteFailed:"Failed to delete prompt.",assignFailed:"Failed to assign prompt to group.",synonymFailed:"Failed to set synonyms.",notFound:"Prompt not found."},h1e={failed:"Search failed. Please try again.",invalidQuery:"Invalid search query.",noResults:"No results found."},p1e={required:"This field is required.",invalid:"Invalid input.",tooShort:"Input is too short.",tooLong:"Input is too long."},m1e={api:l1e,upload:c1e,image:u1e,group:d1e,prompt:f1e,search:h1e,validation:p1e},g1e={field:"This field is required",name:"Name is required",description:"Description is required",file:"Please select a file",image:"Please select an image",group:"Please select a group"},y1e={invalid:"Invalid format",email:"Invalid email format",url:"Invalid URL format",number:"Must be a number",integer:"Must be an integer"},b1e={min:"Minimum length is {{min}} characters",max:"Maximum length is {{max}} characters",exact:"Must be exactly {{length}} characters",between:"Length must be between {{min}} and {{max}} characters"},x1e={fileSize:"File size must not exceed {{max}}",imageSize:"Image dimensions must not exceed {{width}}{{height}}",fileTooLarge:"File is too large (max: {{max}})",fileTooSmall:"File is too small (min: {{min}})"},v1e={min:"Value must be at least {{min}}",max:"Value must not exceed {{max}}",between:"Value must be between {{min}} and {{max}}"},S1e={invalid:"Invalid file type",imageOnly:"Only image files are allowed",videoOnly:"Only video files are allowed",imageOrVideo:"Only images and videos are allowed",allowedTypes:"Allowed types: {{types}}"},_1e={exists:"Already exists",name:"Name already exists",value:"Value already exists"},C1e={required:g1e,format:y1e,length:b1e,size:x1e,range:v1e,fileType:S1e,duplicate:_1e},w1e={title:"Wildcard Management",noWildcards:"No wildcards registered",noWildcardsDesc:"Add new wildcards to automate prompt generation"},E1e={all:"All",both:"Both"},T1e={add:"Add Wildcard",addItem:"Add Item",preview:"Preview",confirmDelete:"Are you sure you want to delete the '{{name}}' wildcard?",copiedToClipboard:"Copied to clipboard",copyFailed:"Failed to copy"},A1e={openScanDialog:"Scan LORA",openLogDialog:"Last Scan Log"},R1e={items:"{{count}} items",itemsCount:" items",moreItems:"and {{count}} more"},k1e={createTitle:"Create Wildcard",editTitle:"Edit Wildcard"},I1e={name:"Name",nameHelper:"Enter name without ++ (e.g. flower, color)",description:"Description (optional)",comfyuiItems:"ComfyUI Prompt Items",naiItems:"NovelAI Prompt Items",itemsHelper:"Each item can contain comma-separated words. You can nest other wildcards using ++name++ format.",itemPlaceholder:"e.g. rose, red, thorns or wilted, ++flower++"},j1e={title:"Wildcard Preview",inputLabel:"Test Prompt",inputPlaceholder:"e.g. A garden with blooming ++flower++, ++color++ sky",generate:"Generate Results",results:"Parsing Results (5 random samples)",result:"Result {{number}}"},O1e={nameRequired:"Wildcard name is required",itemsRequired:"At least one item is required",previewTextRequired:"Please enter a prompt to test",copyFailed:"Failed to copy"},D1e={manual:"Manual Creation",autoCollected:"Auto-Collected (LORA)"},N1e={title:"LORA Wildcard Auto-Generation",description:"Scan LORA folders to automatically generate wildcards",folderPath:"Select LORA Folder",folderPathHelper:"Specify ComfyUI loras folder or subfolder containing LORA files",loraWeight:"Default LORA Weight",loraWeightHelper:"Default weight value for generated wildcards (e.g., 1.0)",duplicateHandling:"Duplicate Name Handling",duplicateNumber:"Number suffix (style, style_2)",duplicateParent:"Include parent folder (anime_style, realistic_style)",matchingMode:"Text File Matching Mode",matchingModeFilename:"Filename Matching (lora.txt)",matchingModeCommon:"Use Common Text File",commonTextFilename:"Common Text Filename",commonTextFilenameHelper:"Common text filename to use within folders (e.g., add.txt, common.txt)",matchingPriority:"Matching Priority",priorityFilename:"Filename Matching First (fallback to common text)",priorityCommon:"Common Text First (fallback to filename matching)",scanButton:"Scan LORA Folder",scanning:"Scanning...",lastScan:"Last Scan",noScanYet:"No scan has been performed yet",scanLog:{title:"Scan Log",timestamp:"Scan Time",folderPath:"Scan Path",totalWildcards:"Generated Wildcards",totalItems:"Total Items",details:"Details",wildcardName:"Wildcard Name",itemCount:"Item Count"},noAutoWildcards:"No auto-collected wildcards",noAutoWildcardsDesc:"Scan a LORA folder to generate wildcards",autoCollectedBadge:"Auto",errors:{folderPathRequired:"LORA folder path is required",invalidWeight:"Please enter a valid weight value (0.1 ~ 2.0)",scanFailed:"Scan failed: {{error}}"}},M1e={title:"LORA Wildcard Auto-Generation",infoMessage:"Please select ComfyUI's loras folder or a folder containing LORA files.",scanButton:"Collect LORA",warningTitle:"Scan Information:",warning1:"Automatically collects .safetensors files",warning2:"Re-scanning the same folder will update the items",warning3:"Auto-collected items can be found in this tab"},P1e={title:"Last LORA Scan Log"},L1e={page:w1e,filters:E1e,actions:T1e,buttons:A1e,card:R1e,dialog:k1e,form:I1e,preview:j1e,errors:O1e,tabs:D1e,autoCollect:N1e,scanDialog:M1e,logDialog:P1e},z1e={save:"",cancel:"",delete:"",edit:"",add:"",upload:"",download:"",search:"",filter:"",reset:"",confirm:"",close:"",back:"",next:"",previous:"",select:"",deselect:"",selectAll:"",deselectAll:"",apply:"",clear:""},F1e={loading:"...",saving:"...",success:"",error:"",noData:"",confirmDelete:"",unsavedChanges:"",processing:"...",uploading:"...",downloading:"...",deleting:"..."},B1e={name:"",description:"",date:"",status:"",type:"",size:"",created:"",updated:"",width:"",height:"",duration:"",resolution:""},H1e={tooltips:{viewDetails:"",download:"",delete:"",select:""},badges:{auto:"",video:""},confirmDelete:{image:"",video:""}},U1e={selectedCount:"{{count}}",selectedCountImages:"{{count}}",tooltips:{download:"",addToGroup:"",delete:"",clearSelection:""},confirmDelete:{mixed:"{{count}}/",images:"{{count}}",videos:"{{count}}",files:"{{count}}"}},$1e={perPage:"",items:"",page:"",of:"/",showing:"{{total}}{{from}}-{{to}}",goToPage:"",rowsPerPage:""},G1e={loading:"",error:"",empty:"",success:"",pending:"",completed:"",failed:""},q1e={view:"",download:"",delete:"",edit:"",create:"",update:"",cancel:"",confirm:"",retry:"",refresh:""},V1e={buttons:z1e,messages:F1e,labels:B1e,imageCard:H1e,bulkActions:U1e,pagination:$1e,states:G1e,actions:q1e},W1e="",Y1e="ComfyUI Image Manager",K1e={general:"",tagger:"Tagger",rating:"",similarity:"",prompts:"",advanced:""},X1e={title:"",language:{label:"",description:"",ko:"",en:"English",ja:"","zh-CN":"","zh-TW":""},gallery:{label:"",tooltip:""},canvasCleanup:{label:"Canvas",tooltip:"Canvas"}},Q1e={title:"WD Tagger",description:"AI",enabled:"Tagger",autoTagOnUpload:"",model:{label:"",loading:"...",downloaded:""},device:{label:"",auto:{title:" (Auto)",description:"GPUGPUCPU"},cpu:{title:"CPU",description:"CPU"},cuda:{title:"GPU (CUDA)",description:"NVIDIA GPUGPU"}},modelStatus:{title:"",loaded:"",unloaded:"",lastUsed:"",justNow:"",minutesAgo:"{{minutes}}",hoursAgo:"{{hours}}",daysAgo:"{{days}}",none:""},buttons:{load:"",unload:"",refresh:"",download:"",downloading:"...",refreshStatus:"",checkDependencies:"Python",checking:"Python...",save:"",cancel:""},alerts:{modelDownloaded:"<strong>{{model}}</strong>",modelNotDownloaded:"<strong>{{model}}</strong>",modelLoaded:"",modelUnloaded:"",loadFailed:"",unloadFailed:"",saveFailed:"",dependencyCheckFailed:""},threshold:{general:{label:": {{value}}",description:""},character:{label:": {{value}}",description:""}},pythonPath:{label:"Python",helper:"Python: python, python3, C:\\Python39\\python.exe"},memoryManagement:{title:"",description:"",keepModelLoaded:"",autoUnloadMinutes:": {{minutes}}",autoUnloadDescription:"",keepLoadedAlert:"",notKeepLoadedAlert:""},batch:{title:"",description:"",untaggedCount:": {{count}}",progress:": {{current}} / {{total}}",buttons:{tagUnprocessed:"100",tagAll:"100",processing:"..."},alerts:{complete:": {{success}}{{failed}}",failed:"",tagAllFailed:""},confirmDialog:{title:"",message:`
100`,confirm:"",cancel:""}},test:{title:"",description:"",imageId:"ID",placeholder:": 123",button:"",processing:"...",result:":",failed:"",invalidId:"ID"}},Z1e={title:"",description:"",weights:{title:"",description:"",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",preview:{title:": general=0.001, sensitive=0.045, questionable=0.735, explicit=0.470",score:": <strong>{{score}}</strong>"},buttons:{save:"",cancel:"",saving:"..."},alerts:{saveSuccess:"",saveFailed:"",loadFailed:""}},tiers:{title:"",description:"",addButton:"",table:{order:"",name:"",scoreRange:"",color:"",actions:"",empty:"",scoreFormat:"{{min}} ~ {{max}}",infinity:""},dialog:{createTitle:"",editTitle:"",tierName:"",minScore:"",maxScore:" = ",order:"",color:" (Hex)",colorPlaceholder:"#2196f3",colorHelper:": #22c55e, #3b82f6, #f59e0b, #ef4444",save:"",cancel:"",saving:"...",requiredFields:""},alerts:{created:"",updated:"",deleted:"",saveFailed:"",deleteFailed:"",loadFailed:"",deleteConfirm:""}},calculator:{title:"",description:"",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",calculate:"",calculating:"...",result:{title:"",score:": <strong>{{score}}</strong>",breakdown:":",generalScore:"General: {{score}}",sensitiveScore:"Sensitive: {{score}}",questionableScore:"Questionable: {{score}}",explicitScore:"Explicit: {{score}}"},failed:""}},J1e={title:"",description:"",systemStatus:{title:"",description:"",totalImages:": {{count}}",withHash:": {{count}}",withoutHash:": {{count}}",completion:": {{percent}}%",autoGenerateHash:"",rebuildButton:"{{count}}",rebuildingButton:"...",refreshButton:"",rebuildProgress:"... {{processed}}/{{total}}{{percent}}%",allComplete:"",rebuildComplete:": {{processed}}",rebuildCompleteWithErrors:": {{success}}{{failed}}",rebuildFailed:"",noImagesToProcess:"",autoGenerateUpdateFailed:""},test:{title:" & ",description:"",imageId:"ID",placeholder:": 123",searchType:"",types:{duplicates:"",similar:"",color:""},searchButton:"",searching:"...",queryImage:"",results:": {{count}}",noResults:"",searchFailed:"",imageDetails:{id:"ID:",filename:":",size:":",aiTool:"AI:"},matchTypes:{exact:"",nearDuplicate:"",similar:"",colorSimilar:""},similarity:"{{percent}}%",colorSimilarity:": {{percent}}%"},duplicateScan:{title:"",description:"",scanButton:"",scanning:"...",foundGroups:": {{count}}",groupLabel:"{{id}}  {{count}}",similarityLabel:"{{percent}}%",moreImages:"+{{count}}",noResults:"",id:"ID: {{id}}"},thresholds:{title:"",description:"",duplicate:{label:": {{value}}",description:"0=5=10=",strict:"0",recommended:"5",lenient:"10"},similar:{label:": {{value}}",description:"",strict:"5",recommended:"15",lenient:"25"},color:{label:": {{value}}%",description:"",min:"70%",recommended:"85%",max:"100%"},searchLimit:{label:"",options:{10:"10",20:"20",50:"50",100:"100"}},localStorageNote:""}},eye={saveSuccess:"",saveFailed:"",loadFailed:""},tye={title:W1e,subtitle:Y1e,tabs:K1e,general:X1e,tagger:Q1e,rating:Z1e,similarity:J1e,messages:eye},nye={title:"ComfyUI Image Manager",menu:{home:"",gallery:"",imageGroups:"",search:"",upload:"",imageGeneration:"",settings:"",help:""},tooltip:{home:"",gallery:"",imageGroups:"",search:"",upload:"",imageGeneration:"AI",settings:"",help:""},theme:{light:"",dark:"",toggle:""},mobileMenu:{open:"",close:""}},rye={copyright:" 2024 ComfyUI Image Manager. All rights reserved.",version:""},aye={title:"",sections:{gettingStarted:"",imageManagement:"",autoCollection:"",promptSystem:"",settings:"",shortcuts:""}},iye={header:nye,footer:rye,help:aye},sye={title:"",description:""},oye={aiTool:"AI",sortBy:"",sortOrder:"",all:"",clearFilters:""},lye={uploadDate:"",filename:"",fileSize:"",width:"",height:"",ascending:"",descending:""},cye={refresh:"",selectAll:"",deselectAll:""},uye={loading:"...",noImages:"",error:""},dye={aiToolLabel:"AI: {{tool}}"},fye={page:sye,filters:oye,sorting:lye,actions:cye,status:uye,chips:dye},hye={title:"",notFound:"",errorLoading:"",noIdProvided:"ID"},pye={download:"",share:"",back:"",goToDetail:"",delete:"",deleteConfirm:"",deleteSuccess:"",deleteError:""},mye={fileInfo:"",imageInfo:"",videoInfo:"",aiInfo:"",promptInfo:"",groupInfo:"",fullMetadata:""},gye={originalFilename:"",filename:"",size:"",fileSize:"",mimeType:"MIME",uploadDate:""},yye={dimensions:"",dimensionsValue:"{{width}}  {{height}}"},bye={duration:"",durationValue:"{{minutes}} {{seconds}}",fps:"",fpsValue:"{{fps}} fps",videoCodec:"",audioCodec:"",bitrate:"",bitrateValue:"{{bitrate}} Mbps"},xye={tool:"AI",toolShort:"",model:"",lora:"LoRA",steps:"",cfgScale:"CFG Scale",cfgShort:"CFG",sampler:"",scheduler:"",seed:"",denoiseStrength:"",generationTime:"",generationTimeValue:"{{time}}",batchSize:"",batchIndex:""},vye={autoType:"",manualType:"",groupLabel:"{{name}} ({{type}})"},Sye={controls:{zoomIn:"",zoomOut:"",rotateLeft:"",rotateRight:"",flipHorizontal:"",flipVertical:"",reset:"",info:"",close:""},navigation:{previous:" ()",next:" ()",random:" (Space)",currentPosition:"{{current}} / {{total}}"}},_ye={page:hye,actions:pye,sections:mye,fileInfo:gye,imageInfo:yye,videoInfo:bye,aiInfo:xye,groupInfo:vye,viewer:Sye},Cye={title:"",description:"AI"},wye={dragActive:"",dragInactive:"",supportedFormats:"JPGPNGGIFBMPWebPTIFF | MP4WebMMOVAVIMKV500MB",imageSupport:"",videoSupport:"",multipleSelection:"",divider:""},Eye={selectFiles:"",selectFolder:""},Tye={title:"",fileCount:"{{completed}}/{{total}}",summary:"{{total}} - {{success}}{{failed}}"},Aye={upload:"",metadata:"",thumbnail:"",autoCollect:"",autoTag:""},Rye={waiting:"",processing:"",complete:"",error:""},kye={uploadComplete:"",uploadSuccess:"",uploadFailed:"",uploadError:"",multipleSuccess:"{{count}}",allFailed:"",partialSuccess:"{{success}}{{failed}}"},Iye={page:Cye,dropzone:wye,buttons:Eye,progress:Tye,stages:Aye,status:Rye,messages:kye},jye={title:"",description:"",emptyTitle:"",emptyDescription:""},Oye={imageCount:"{{count}}",autoCollect:"",stats:"{{auto}} | {{manual}}"},Dye={edit:"",delete:"",runAutoCollection:""},Nye={basicInfo:"",autoCollect:""},Mye={createTitle:"",editTitle:"",basicInfo:"",groupName:"",description:"",groupColor:"",autoCollectEnable:"",autoCollectDescription:"",orConditionInfo:"OR",orConditionExample:"'anime'+",conditionsTitle:"",addCondition:"",conditionType:"",conditionValue:"",emptyConditions:"",buttonCreate:"",buttonUpdate:"",buttonCancel:""},Pye={conditionNumber:"{{number}}",removeCondition:"",addFirstCondition:"",autoCollectDisabled:"",groups:{basic:"",prompt:"",autotag:"Auto Tag",duplicate:""},types:{aiTool:"AI",modelName:"",promptContains:"",promptRegex:"",negativePromptContains:"",negativePromptRegex:"",autoTagExists:"Auto Tag ",autoTagRating:"Auto Tag: Rating",autoTagRatingScore:"Auto Tag: Rating ",autoTagGeneral:"Auto Tag: General ",autoTagCharacter:"Auto Tag: ",autoTagHasCharacter:"Auto Tag: ",autoTagModel:"Auto Tag: ",duplicateExact:"",duplicateNear:"",duplicateSimilar:"",duplicateCustom:""},values:{exists:"",notExists:""},ratings:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"},fields:{value:"",ratingType:"Rating ",minScore:"",maxScore:"",tagName:"",characterName:"",caseSensitive:"",exactMatch:"",exactMatchHelp:"asdaasdasdf",weightedScore:"",maxWeightInfo:"200",confidenceRange:"0.01.0{{min}}{{max}}",confidenceInfo:" ",hammingThreshold:"",hammingThresholdHelp:"064",hammingInfo:" ",duplicateNote:" perceptual_hash"},duplicateInfo:{duplicate_exact:"  = 0",duplicate_near:"   5",duplicate_similar:"   15"},placeholders:{regex:"",modelName:"wd-v1-4-moat-tagger-v2",text:"",tagName:"",characterName:""}},Lye={nameRequired:"",conditionRequired:"1",valueRequired:"{{index}}",ratingTypeRequired:"{{index}}Rating",ratingScoreRequired:"{{index}}",minScoreInvalid:"{{index}}0",maxScoreInvalid:"{{index}}0",scoreRangeInvalid:"{{index}}",confidenceScoreRange:"{{index}}0.01.0",confidenceMaxScoreRange:"{{index}}0.01.0",confidenceMinMaxInvalid:"{{index}}",hammingThresholdRequired:"{{index}}",hammingThresholdRange:"{{index}}064"},zye={loadFailed:"",imageLoadFailed:"",deleteSuccess:"",deleteFailed:"",autoCollectSuccess:"{{added}}{{removed}}",autoCollectFailed:"",createSuccess:"",createFailed:"",updateSuccess:"",updateFailed:"",removeWarning:"",removeSuccess:"{{count}}",removePartialSuccess:"{{removed}}{{failed}}",removeError:"",assignSuccess:"{{added}}{{converted}}{{skipped}}",assignFailed:"",assignError:"",emptyGroup:""},Fye={title:"{{name}}{{count}}",selectedCount:"{{count}}",buttonRemove:"",buttonAssign:"",infoMixedSelection:"",warningAutoOnly:"",confirmRemoveTitle:"",confirmRemoveMessage:"{{count}}",confirmRemoveNote:""},Bye={title:"",description:"{{count}}",currentGroup:"",emptyGroups:"",loadError:"",loadingError:"",buttonAssign:"",buttonCancel:""},Hye={page:jye,groupCard:Oye,menu:Dye,tabs:Nye,modal:Mye,conditions:Pye,validation:Lye,messages:zye,imageModal:Fye,assignModal:Bye},Uye="",$ye="AI",Gye={placeholder:"...",button:"",clear:"",execute:""},qye={title:"",searching:"...",found:"{{count}}",noResults:"",noResultsHint:"",initialMessage:"",initialHint:"AI",reset:"",refresh:""},Vye={basic:{aiTool:{label:"AI",all:""},modelName:{label:"",placeholder:": sd_xl_base_1.0"},startDate:{label:""},endDate:{label:""}},quickDate:{today:"",todayTooltip:"","7days":"7","7daysTooltip":"7","30days":"30","30daysTooltip":"30","90days":"90","90daysTooltip":"90"},advanced:{title:"",active:"",negativePrompt:{label:"",placeholder:" (: ugly, blurry)"}},autoTag:{title:"",subtitle:"(WD v3 Tagger)",active:"",tabs:{rating:"",character:"",generalTags:""},rating:{typeMode:"",scoreMode:"",typeDescription:"",scoreDescription:"",type:{label:"",none:"",general:"",sensitive:"",questionable:"",explicit:""},confidenceRange:"",scoreRange:""},character:{description:"",existence:{label:"",all:"",true:"",false:""},name:{label:"",placeholder:": hatsune_miku"},confidenceRange:""},generalTags:{description:"",tagName:{label:"",placeholder:": 1girl, solo, landscape"},confidence:": {{min}} ~ {{max}}",addedTags:" ({{count}})"}}},Wye={title:""},Yye={title:Uye,description:$ye,searchInput:Gye,results:qye,filters:Vye,searchHistory:Wye},Kye="",Xye="AI",Qye={positive:"",negative:""},Zye={search:{placeholder:"{{type}}..."},filters:{groupFilter:{label:"",all:"",unassigned:""}},table:{headers:{prompt:"",usageCount:"",assignedGroup:"",actions:""},empty:"",synonyms:{more:"+{{count}}"}},actions:{assignToGroup:"",delete:"",cannotDelete:"",groupManagement:""},statistics:{unclassified:"",unknown:""},pagination:{rowsPerPage:":",displayedRows:"{{from}}-{{to}} / {{count}}"},messages:{loadFailed:"",deleteSuccess:"",deleteFailed:"",assignSuccess:"",assignFailed:""}},Jye={title:"",selectGroup:{label:"",unassigned:""},actions:{cancel:"",assign:""}},ebe={title:"{{type}}",dragHint:"",editForm:{titleAdd:"",titleEdit:"",groupName:{label:"",required:""},displayOrder:{label:""},visibility:{label:"",hidden:""},actions:{save:"",cancel:""}},groupList:{title:" ({{count}})",add:"",empty:"",promptCount:"{{count}}",displayOrder:": {{order}}"},actions:{toggleVisibility:"",edit:"",delete:"",deleteConfirm:"",close:""},messages:{loadFailed:"",createSuccess:"",createFailed:"",updateSuccess:"",updateFailed:"",deleteSuccess:"",deleteFailed:"",visibilityFailed:"",reorderSuccess:"",reorderFailed:""}},tbe={tabs:{positive:"",negative:"",auto:"AUTO"},labels:{prompt:"",negativePrompt:""},noPrompt:"",loading:"...",loadFailed:""},nbe={noTags:"",generateButton:"",generating:"...",generationError:"",sections:{rating:"",characters:"",tagList:"",generalTags:" ({{count}})",modelInfo:""},modelInfo:{model:"",generalThreshold:"",characterThreshold:"",taggedAt:""}},rbe={title:Kye,description:Xye,tabs:Qye,promptList:Zye,assignDialog:Jye,groupManagement:ebe,promptDisplay:tbe,autoTagDisplay:nbe},abe={generate:"",history:""},ibe={title:"",listTitle:"",addButton:"",editTitle:"",createTitle:"",noWorkflows:"",noWorkflowsDesc:"ComfyUI"},sbe={active:"",inactive:"",fieldsCount:"{{count}}",createdDate:": {{date}}",generateImage:"",notFound:""},obe={basicInfo:"",workflowName:"",description:"",apiEndpoint:"API",activate:"",workflowJson:"JSON",uploadFile:"",jsonPlaceholder:'{"prompt": {...}}',jsonHelper:"ComfyUIAPI JSON",jsonCharCount:"{{count}}",invalidJson:"JSON",nameRequired:"",jsonRequired:"JSON",validateJson:"JSON"},lbe={importantNote:":",apiFormatWarning:"ComfyUISave (API Format)JSONJSON",created:"",updated:"",inactiveWarning:"",noConfigurableFields:""},cbe={sectionTitle:"",guideTitle:"",addField:"",noFields:"",whatIs:"",whatIsDesc:"StepsCFG",howToFind:"JSON:",step1:"ComfyUISave (API Format)",step2:"JSON",step3:": [].inputs.[]",exampleTitle:":",example1Title:"1.  (CLIPTextEncode #6)",example1FieldId:"ID: prompt_positive",example1Label:": ",example1Type:":  (textarea)",example1Path:"JSON: 6.inputs.text",example1Default:": a beautiful landscape",example2Title:"2.  (KSampler #3)",example2FieldId:"ID: seed",example2Label:": ",example2Type:": ",example2Path:"JSON: 3.inputs.seed",example2Default:": 123456",example3Title:"3.  (KSampler #3)",example3FieldId:"ID: steps",example3Label:": ",example3Type:": ",example3Path:"JSON: 3.inputs.steps",example3Default:": 20",example3Min:": 1",example3Max:": 150",example4Title:"4.  (KSampler #3)",example4FieldId:"ID: sampler_name",example4Label:": ",example4Type:": ",example4Path:"JSON: 3.inputs.sampler_name",example4Options:": euler, euler_ancestral, dpm++ 2m, ddim",tipTitle:" :",tipDesc:'JSONJSONJSON{"3": {"inputs": {"seed": 123}}}JSON3.inputs.seed',previewTitle:""},ube={fieldId:"ID",fieldIdPlaceholder:"prompt_positive",fieldIdHelper:"",label:"",labelPlaceholder:"",labelHelper:"",type:"",typeHelper:"",typeText:" (1)",typeTextarea:" ()",typeNumber:"",typeSelect:" ()",jsonPath:"JSON *",jsonPathPlaceholder:"6.inputs.text",jsonPathHelper:"JSON: 6.inputs.text (6)",defaultValue:"",defaultValuePlaceholder:"a beautiful landscape",defaultValueHelper:"",required:"",minValue:"",minPlaceholder:"1",maxValue:"",maxPlaceholder:"150",selectOptions:" ()",selectOptionsPlaceholder:"euler, dpm++, ddim",selectOptionsHelper:": euler, dpm++ 2m, ddim"},dbe={pageTitle:"",settingsTitle:"",missingFields:": {{fields}}",selectPlaceholder:"",previewTitle:"",generateAll:" ({{count}})",serversListTitle:"ComfyUI",serversListDesc:"",noServers:"ComfyUI",noConnectedServers:"",responseTime:": {{time}}ms",generateButton:"",generating:"...",generationComplete:"",generationFailed:"",executionTime:"{{time}}",viewImage:""},fbe={save:"",saving:"...",cancel:"",create:"",update:"",delete:"",confirmDelete:""},hbe={title:"",enable:"",count:"",infinite:" (-1)",countHelp:"1-999  -1 ()",delay:"",delayHelp:"1-300",progress:"{{current}}",progressWithTotal:"{{current}}/{{total}}",stop:""},pbe={subtabs:abe,page:ibe,card:sbe,form:obe,alerts:lbe,markedFields:cbe,fieldForm:ube,generate:dbe,actions:fbe,repeat:hbe},mbe={title:"",subtitle:"ComfyUI"},gbe={workflows:"",servers:"",novelai:"NovelAI",ariaLabel:""},ybe={subtabs:{generate:"",history:"",helper:""},login:{title:"NovelAI",subtitle:"NovelAI",tabs:{credentials:"/",token:""},username:"",password:"",token:"",tokenPlaceholder:"NovelAI ",tokenHint:"NovelAI",loginButton:"",loggingIn:"...",error:"",tokenError:""},generate:{title:"NovelAI",logout:"",prompt:"",negativePrompt:"",resolution:"",sampler:"",steps:"",guidance:"",samples:"",ucPreset:"",generateButton:"",generating:"...",resultTitle:"",download:"",upload:"",metadata:"",tokenExpired:"",subscriptionRequired:"",error:"",uploadSuccess:"",uploadError:"",autoUploadSuccess:"{{count}}",autoUploadPartial:"{{success}}{{fail}}",success:"{{count}}",completed:"",failed:""},repeat:{title:"",enable:"",count:"",infinite:" (-1)",countHelp:"1-999  -1 ()",delay:"",delayHelp:"1-300",progress:"{{current}}",progressWithTotal:"{{current}}/{{total}}",stop:""}},bbe={page:mbe,tabs:gbe,nai:ybe},xbe="",vbe="{{count}}",Sbe="",_be="...",Cbe="...",wbe="",Ebe="",Tbe="",Abe="",Rbe="",kbe={pending:"",processing:"",completed:"",failed:""},Ibe={comfyui:"ComfyUI",novelai:"NovelAI"},jbe={regenerate:"",delete:"",refresh:"",confirmDelete:""},Obe={title:"",status:"",service:"",positivePrompt:"",negativePrompt:"",size:"",model:"",sampler:"",steps:"",cfgScale:"CFG Scale",seed:"",error:"",createdAt:"",completedAt:""},Dbe={title:xbe,count:vbe,empty:Sbe,loading:_be,loadingMore:Cbe,allLoaded:wbe,noHistory:Ebe,noHistoryDescription:Tbe,deleteConfirm:Abe,deleteFailed:Rbe,status:kbe,service:Ibe,actions:jbe,detail:Obe},Nbe={title:"",listTitle:"ComfyUI",addButton:"",noServers:"",noServersDesc:"ComfyUI"},Mbe={active:"",inactive:"",priority:": {{priority}}",concurrent:": {{count}}",connectionSuccess:"",connectionFailed:"",testConnection:""},Pbe={addTitle:"",editTitle:"",serverName:"",endpointUrl:"URL",endpointPlaceholder:"http://127.0.0.1:8188",description:"",priority:"",priorityHelper:"",maxConcurrent:"",activate:"",cancel:"",add:"",update:""},Lbe={connected:"",disconnected:"",testing:"",error:"",responseTime:": {{time}}ms"},zbe={test:"",edit:"",delete:"",confirmDelete:""},Fbe={page:Nbe,card:Mbe,dialog:Pbe,status:Lbe,actions:zbe},Bbe={network:"",timeout:"",unauthorized:"",forbidden:"",notFound:"",serverError:"",badRequest:"",unknown:""},Hbe={fileTooLarge:"50MB",invalidFileType:"",uploadFailed:"",multipleUploadFailed:"",fileCountLimit:"",processingFailed:"",noFilesSelected:""},Ube={loadFailed:"",deleteFailed:"",multipleDeleteFailed:"{{count}}",downloadFailed:"",notFound:"",metadataExtractionFailed:""},$be={loadFailed:"",createFailed:"",updateFailed:"",deleteFailed:"",assignFailed:"",removeFailed:"",autoCollectFailed:"",notFound:""},Gbe={loadFailed:"",deleteFailed:"",assignFailed:"",synonymFailed:"",notFound:""},qbe={failed:"",invalidQuery:"",noResults:""},Vbe={required:"",invalid:"",tooShort:"",tooLong:""},Wbe={api:Bbe,upload:Hbe,image:Ube,group:$be,prompt:Gbe,search:qbe,validation:Vbe},Ybe={field:"",name:"",description:"",file:"",image:"",group:""},Kbe={invalid:"",email:"",url:"URL",number:"",integer:""},Xbe={min:"{{min}}",max:"{{max}}",exact:"{{length}}",between:"{{min}}{{max}}"},Qbe={fileSize:"{{max}}",imageSize:"{{width}}{{height}}",fileTooLarge:"{{max}}",fileTooSmall:"{{min}}"},Zbe={min:"{{min}}",max:"{{max}}",between:"{{min}}{{max}}"},Jbe={invalid:"",imageOnly:"",videoOnly:"",imageOrVideo:"",allowedTypes:"{{types}}"},exe={exists:"",name:"",value:""},txe={required:Ybe,format:Kbe,length:Xbe,size:Qbe,range:Zbe,fileType:Jbe,duplicate:exe},nxe={title:"",noWildcards:"",noWildcardsDesc:""},rxe={all:"",both:""},axe={add:"",addItem:"",preview:"",confirmDelete:"'{{name}}'?"},ixe={items:"{{count}}",itemsCount:"",moreItems:"{{count}}"},sxe={createTitle:"",editTitle:""},oxe={name:"",nameHelper:"++ (: )",description:" ()",comfyuiItems:"ComfyUI",naiItems:"NovelAI",itemsHelper:"++++",itemPlaceholder:":   ++++"},lxe={title:"",inputLabel:"",inputPlaceholder:": ++++++++",generate:"",results:" (5)",result:" {{number}}"},cxe={nameRequired:"",itemsRequired:"1",previewTextRequired:""},uxe={manual:"",autoCollected:" (LORA)"},dxe={title:"LORA",description:"LORA",folderPath:"LORA",folderPathHelper:"ComfyUI lorasLORA",loraWeight:"LORA",loraWeightHelper:" (: 1.0)",duplicateHandling:"",duplicateNumber:" (style, style_2)",duplicateParent:" (anime_style, realistic_style)",scanButton:"LORA",scanning:"...",lastScan:"",noScanYet:"",scanLog:{title:"",timestamp:"",folderPath:"",totalWildcards:"",totalItems:"",details:"",wildcardName:"",itemCount:""},noAutoWildcards:"",noAutoWildcardsDesc:"LORA",autoCollectedBadge:"",errors:{folderPathRequired:"LORA",invalidWeight:" (0.1 ~ 2.0)",scanFailed:": {{error}}"}},fxe={page:nxe,filters:rxe,actions:axe,card:ixe,dialog:sxe,form:oxe,preview:lxe,errors:cxe,tabs:uxe,autoCollect:dxe},hxe={save:"",cancel:"",delete:"",edit:"",add:"",upload:"",download:"",search:"",filter:"",reset:"",confirm:"",close:"",back:"",next:"",previous:"",select:"",deselect:"",selectAll:"",deselectAll:"",apply:"",clear:""},pxe={loading:"...",saving:"...",success:"",error:"",noData:"",confirmDelete:"",unsavedChanges:"",processing:"...",uploading:"...",downloading:"...",deleting:"..."},mxe={name:"",description:"",date:"",status:"",type:"",size:"",created:"",updated:"",width:"",height:"",duration:"",resolution:""},gxe={tooltips:{viewDetails:"",download:"",delete:"",select:""},badges:{auto:"",video:""},confirmDelete:{image:"",video:""}},yxe={selectedCount:"{{count}}",selectedCountImages:"{{count}}",tooltips:{download:"",addToGroup:"",delete:"",clearSelection:""},confirmDelete:{mixed:"{{count}}/",images:"{{count}}",videos:"{{count}}",files:"{{count}}"}},bxe={perPage:"",items:"",page:"",of:"/",showing:"{{total}}{{from}}-{{to}}",goToPage:"",rowsPerPage:""},xxe={loading:"",error:"",empty:"",success:"",pending:"",completed:"",failed:""},vxe={view:"",download:"",delete:"",edit:"",create:"",update:"",cancel:"",confirm:"",retry:"",refresh:""},Sxe={buttons:hxe,messages:pxe,labels:mxe,imageCard:gxe,bulkActions:yxe,pagination:bxe,states:xxe,actions:vxe},_xe="",Cxe="ComfyUI Image Manager",wxe={general:"",tagger:"Tagger",rating:"",similarity:"",prompts:"",advanced:""},Exe={title:"",language:{label:"",description:"",ko:"",en:"English",ja:"","zh-CN":"","zh-TW":""},gallery:{label:"",tooltip:""},canvasCleanup:{label:"Canvas",tooltip:"Canvas"}},Txe={title:"WD Tagger",description:"AI",enabled:"Tagger",autoTagOnUpload:"",model:{label:"",loading:"...",downloaded:""},device:{label:"",auto:{title:" (Auto)",description:"GPUGPUCPU"},cpu:{title:"CPU",description:"CPU"},cuda:{title:"GPU (CUDA)",description:"NVIDIA GPUGPU"}},modelStatus:{title:"",loaded:"",unloaded:"",lastUsed:"",justNow:"",minutesAgo:"{{minutes}}",hoursAgo:"{{hours}}",daysAgo:"{{days}}",none:""},buttons:{load:"",unload:"",refresh:"",download:"",downloading:"...",refreshStatus:"",checkDependencies:"Python",checking:"Python...",save:"",cancel:""},alerts:{modelDownloaded:"<strong>{{model}}</strong>",modelNotDownloaded:"<strong>{{model}}</strong>",modelLoaded:"",modelUnloaded:"",loadFailed:"",unloadFailed:"",saveFailed:"",dependencyCheckFailed:""},threshold:{general:{label:": {{value}}",description:""},character:{label:": {{value}}",description:""}},pythonPath:{label:"Python",helper:"Python: python, python3, C:\\Python39\\python.exe"},memoryManagement:{title:"",description:"",keepModelLoaded:"",autoUnloadMinutes:": {{minutes}}",autoUnloadDescription:"",keepLoadedAlert:"",notKeepLoadedAlert:""},batch:{title:"",description:"",untaggedCount:": {{count}}",progress:": {{current}} / {{total}}",buttons:{tagUnprocessed:"100",tagAll:"100",processing:"..."},alerts:{complete:": {{success}}{{failed}}",failed:"",tagAllFailed:""},confirmDialog:{title:"",message:`
100`,confirm:"",cancel:""}},test:{title:"",description:"",imageId:"ID",placeholder:": 123",button:"",processing:"...",result:":",failed:"",invalidId:"ID"}},Axe={title:"",description:"",weights:{title:"",description:"",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",preview:{title:": general=0.001, sensitive=0.045, questionable=0.735, explicit=0.470",score:": <strong>{{score}}</strong>"},buttons:{save:"",cancel:"",saving:"..."},alerts:{saveSuccess:"",saveFailed:"",loadFailed:""}},tiers:{title:"",description:"",addButton:"",table:{order:"",name:"",scoreRange:"",color:"",actions:"",empty:"",scoreFormat:"{{min}} ~ {{max}}",infinity:""},dialog:{createTitle:"",editTitle:"",tierName:"",minScore:"",maxScore:" = ",order:"",color:" (Hex)",colorPlaceholder:"#2196f3",colorHelper:": #22c55e, #3b82f6, #f59e0b, #ef4444",save:"",cancel:"",saving:"...",requiredFields:""},alerts:{created:"",updated:"",deleted:"",saveFailed:"",deleteFailed:"",loadFailed:"",deleteConfirm:""}},calculator:{title:"",description:"",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",calculate:"",calculating:"...",result:{title:"",score:": <strong>{{score}}</strong>",breakdown:":",generalScore:"General: {{score}}",sensitiveScore:"Sensitive: {{score}}",questionableScore:"Questionable: {{score}}",explicitScore:"Explicit: {{score}}"},failed:""}},Rxe={title:"",description:"",systemStatus:{title:"",description:"",totalImages:": {{count}}",withHash:": {{count}}",withoutHash:": {{count}}",completion:": {{percent}}%",autoGenerateHash:"",rebuildButton:"{{count}}",rebuildingButton:"...",refreshButton:"",rebuildProgress:"... {{processed}}/{{total}}{{percent}}%",allComplete:"",rebuildComplete:": {{processed}}",rebuildCompleteWithErrors:": {{success}}{{failed}}",rebuildFailed:"",noImagesToProcess:"",autoGenerateUpdateFailed:""},test:{title:"",description:"",imageId:"ID",placeholder:": 123",searchType:"",types:{duplicates:"",similar:"",color:""},searchButton:"",searching:"...",queryImage:"",results:": {{count}}",noResults:"",searchFailed:"",imageDetails:{id:"ID:",filename:":",size:":",aiTool:"AI:"},matchTypes:{exact:"",nearDuplicate:"",similar:"",colorSimilar:""},similarity:"{{percent}}%",colorSimilarity:": {{percent}}%"},duplicateScan:{title:"",description:"",scanButton:"",scanning:"...",foundGroups:": {{count}}",groupLabel:"{{id}}  {{count}}",similarityLabel:"{{percent}}%",moreImages:"+{{count}}",noResults:"",id:"ID: {{id}}"},thresholds:{title:"",description:"",duplicate:{label:": {{value}}",description:"0=5=10=",strict:"0",recommended:"5",lenient:"10"},similar:{label:": {{value}}",description:"",strict:"5",recommended:"15",lenient:"25"},color:{label:": {{value}}%",description:"",min:"70%",recommended:"85%",max:"100%"},searchLimit:{label:"",options:{10:"10",20:"20",50:"50",100:"100"}},localStorageNote:""}},kxe={saveSuccess:"",saveFailed:"",loadFailed:""},Ixe={title:_xe,subtitle:Cxe,tabs:wxe,general:Exe,tagger:Txe,rating:Axe,similarity:Rxe,messages:kxe},jxe={title:"ComfyUI Image Manager",menu:{home:"",gallery:"",imageGroups:"",search:"",upload:"",imageGeneration:"",settings:"",help:""},tooltip:{home:"",gallery:"",imageGroups:"",search:"",upload:"",imageGeneration:"AI",settings:"",help:""},theme:{light:"",dark:"",toggle:""},mobileMenu:{open:"",close:""}},Oxe={copyright:" 2024 ComfyUI Image Manager. ",version:""},Dxe={title:"",sections:{gettingStarted:"",imageManagement:"",autoCollection:"",promptSystem:"",settings:"",shortcuts:""}},Nxe={header:jxe,footer:Oxe,help:Dxe},Mxe={title:"",description:""},Pxe={aiTool:"AI ",sortBy:"",sortOrder:"",all:"",clearFilters:""},Lxe={uploadDate:"",filename:"",fileSize:"",width:"",height:"",ascending:"",descending:""},zxe={refresh:"",selectAll:"",deselectAll:""},Fxe={loading:"...",noImages:"",error:""},Bxe={aiToolLabel:"AI : {{tool}}"},Hxe={page:Mxe,filters:Pxe,sorting:Lxe,actions:zxe,status:Fxe,chips:Bxe},Uxe={title:"",notFound:"",errorLoading:"",noIdProvided:" ID"},$xe={download:"",share:"",back:"",goToDetail:"",delete:"",deleteConfirm:"",deleteSuccess:"",deleteError:""},Gxe={fileInfo:"",imageInfo:"",videoInfo:"",aiInfo:"",promptInfo:"",groupInfo:"",fullMetadata:""},qxe={originalFilename:"",filename:"",size:"",fileSize:"",mimeType:"MIME ",uploadDate:""},Vxe={dimensions:"",dimensionsValue:"{{width}}  {{height}}"},Wxe={duration:"",durationValue:"{{minutes}} {{seconds}}",fps:"",fpsValue:"{{fps}} fps",videoCodec:"",audioCodec:"",bitrate:"",bitrateValue:"{{bitrate}} Mbps"},Yxe={tool:"AI ",toolShort:"",model:"",lora:"LoRA",steps:"",cfgScale:"CFG Scale",cfgShort:"CFG",sampler:"",scheduler:"",seed:"",denoiseStrength:"",generationTime:"",generationTimeValue:"{{time}}",batchSize:"",batchIndex:""},Kxe={autoType:"",manualType:"",groupLabel:"{{name}} ({{type}})"},Xxe={controls:{zoomIn:"",zoomOut:"",rotateLeft:"",rotateRight:"",flipHorizontal:"",flipVertical:"",reset:"",info:"",close:""},navigation:{previous:" ()",next:" ()",random:" (Space)",currentPosition:"{{current}} / {{total}}"}},Qxe={page:Uxe,actions:$xe,sections:Gxe,fileInfo:qxe,imageInfo:Vxe,videoInfo:Wxe,aiInfo:Yxe,groupInfo:Kxe,viewer:Xxe},Zxe={title:"",description:"AI"},Jxe={dragActive:"",dragInactive:"",supportedFormats:"JPGPNGGIFBMPWebPTIFF | MP4WebMMOVAVIMKV500MB",imageSupport:"",videoSupport:"",multipleSelection:"",divider:""},e2e={selectFiles:"",selectFolder:""},t2e={title:"",fileCount:"{{completed}}/{{total}}",summary:"{{total}} - {{success}}{{failed}}"},n2e={upload:"",metadata:"",thumbnail:"",autoCollect:"",autoTag:""},r2e={waiting:"",processing:"",complete:"",error:""},a2e={uploadComplete:"",uploadSuccess:"",uploadFailed:"",uploadError:"",multipleSuccess:"{{count}}",allFailed:"",partialSuccess:"{{success}}{{failed}}"},i2e={page:Zxe,dropzone:Jxe,buttons:e2e,progress:t2e,stages:n2e,status:r2e,messages:a2e},s2e={title:"",description:"",emptyTitle:"",emptyDescription:""},o2e={imageCount:"{{count}}",autoCollect:"",stats:"{{auto}} | {{manual}}"},l2e={edit:"",delete:"",runAutoCollection:""},c2e={basicInfo:"",autoCollect:""},u2e={createTitle:"",editTitle:"",basicInfo:"",groupName:"",description:"",groupColor:"",autoCollectEnable:"",autoCollectDescription:"",orConditionInfo:"OR",orConditionExample:`"'anime'" + ""  `,conditionsTitle:"",addCondition:"",conditionType:"",conditionValue:"",emptyConditions:"",buttonCreate:"",buttonUpdate:"",buttonCancel:""},d2e={conditionNumber:"{{number}}",removeCondition:"",addFirstCondition:"",autoCollectDisabled:"",groups:{basic:"",prompt:"",autotag:"Auto Tag",duplicate:""},types:{aiTool:"AI",modelName:"",promptContains:"",promptRegex:"",negativePromptContains:"",negativePromptRegex:"",autoTagExists:"Auto Tag ",autoTagRating:"Auto Tag: ",autoTagRatingScore:"Auto Tag: ",autoTagGeneral:"Auto Tag: ",autoTagCharacter:"Auto Tag: ",autoTagHasCharacter:"Auto Tag: ",autoTagModel:"Auto Tag: ",duplicateExact:"",duplicateNear:"",duplicateSimilar:"",duplicateCustom:""},values:{exists:"",notExists:""},ratings:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"},fields:{value:"",ratingType:"",minScore:"",maxScore:"",tagName:"",characterName:"",caseSensitive:"",exactMatch:"",exactMatchHelp:"'asd''aasd''asdf'",weightedScore:"",maxWeightInfo:"200",confidenceRange:"0.01.0{{min}}{{max}}",confidenceInfo:" ",hammingThreshold:"",hammingThresholdHelp:"0-64",hammingInfo:" ",duplicateNote:" perceptual_hash"},duplicateInfo:{duplicate_exact:"  = 0",duplicate_near:"   5",duplicate_similar:"   15"},placeholders:{regex:"",modelName:"wd-v1-4-moat-tagger-v2",text:"",tagName:"",characterName:""}},f2e={nameRequired:"",conditionRequired:"",valueRequired:"{{index}}",ratingTypeRequired:"{{index}}",ratingScoreRequired:"{{index}}",minScoreInvalid:"{{index}}0",maxScoreInvalid:"{{index}}0",scoreRangeInvalid:"{{index}}",confidenceScoreRange:"{{index}}0.01.0",confidenceMaxScoreRange:"{{index}}0.01.0",confidenceMinMaxInvalid:"{{index}}",hammingThresholdRequired:"{{index}}",hammingThresholdRange:"{{index}}064"},h2e={loadFailed:"",imageLoadFailed:"",deleteSuccess:"",deleteFailed:"",autoCollectSuccess:"{{added}}{{removed}}",autoCollectFailed:"",createSuccess:"",createFailed:"",updateSuccess:"",updateFailed:"",removeWarning:"",removeSuccess:"{{count}}",removePartialSuccess:"{{removed}}{{failed}}",removeError:"",assignSuccess:"{{added}}{{converted}}{{skipped}}",assignFailed:"",assignError:"",emptyGroup:""},p2e={title:"{{name}}{{count}}",selectedCount:"{{count}}",buttonRemove:"",buttonAssign:"",infoMixedSelection:"",warningAutoOnly:"",confirmRemoveTitle:"",confirmRemoveMessage:"{{count}}",confirmRemoveNote:""},m2e={title:"",description:"{{count}}",currentGroup:"",emptyGroups:"",loadError:"",loadingError:"",buttonAssign:"",buttonCancel:""},g2e={page:s2e,groupCard:o2e,menu:l2e,tabs:c2e,modal:u2e,conditions:d2e,validation:f2e,messages:h2e,imageModal:p2e,assignModal:m2e},y2e="",b2e="AI",x2e={placeholder:"...",button:"",clear:"",execute:""},v2e={title:"",searching:"...",found:"{{count}}",noResults:"",noResultsHint:"",initialMessage:"",initialHint:"AI",reset:"",refresh:""},S2e={basic:{aiTool:{label:"AI",all:""},modelName:{label:"",placeholder:": sd_xl_base_1.0"},startDate:{label:""},endDate:{label:""}},quickDate:{today:"",todayTooltip:"","7days":"7","7daysTooltip":"7","30days":"30","30daysTooltip":"30","90days":"90","90daysTooltip":"90"},advanced:{title:"",active:"",negativePrompt:{label:"",placeholder:" (: ugly, blurry)"}},autoTag:{title:"",subtitle:"(WD v3 Tagger)",active:"",tabs:{rating:"",character:"",generalTags:""},rating:{typeMode:"",scoreMode:"",typeDescription:"",scoreDescription:"",type:{label:"",none:"",general:"",sensitive:"",questionable:"",explicit:""},confidenceRange:"",scoreRange:""},character:{description:"",existence:{label:"",all:"",true:"",false:""},name:{label:"",placeholder:": hatsune_miku"},confidenceRange:""},generalTags:{description:"",tagName:{label:"",placeholder:": 1girl, solo, landscape"},confidence:": {{min}} ~ {{max}}",addedTags:" ({{count}})"}}},_2e={title:""},C2e={title:y2e,description:b2e,searchInput:x2e,results:v2e,filters:S2e,searchHistory:_2e},w2e="",E2e="AI",T2e={positive:"",negative:""},A2e={search:{placeholder:"{{type}}..."},filters:{groupFilter:{label:"",all:"",unassigned:""}},table:{headers:{prompt:"",usageCount:"",assignedGroup:"",actions:""},empty:"",synonyms:{more:"+{{count}}"}},actions:{assignToGroup:"",delete:"",cannotDelete:"",groupManagement:""},statistics:{unclassified:"",unknown:""},pagination:{rowsPerPage:":",displayedRows:"{{from}}-{{to}} / {{count}}"},messages:{loadFailed:"",deleteSuccess:"",deleteFailed:"",assignSuccess:"",assignFailed:""}},R2e={title:"",selectGroup:{label:"",unassigned:""},actions:{cancel:"",assign:""}},k2e={title:"{{type}}",dragHint:"",editForm:{titleAdd:"",titleEdit:"",groupName:{label:"",required:""},displayOrder:{label:""},visibility:{label:"",hidden:""},actions:{save:"",cancel:""}},groupList:{title:" ({{count}})",add:"",empty:"",promptCount:"{{count}}",displayOrder:": {{order}}"},actions:{toggleVisibility:"",edit:"",delete:"",deleteConfirm:"",close:""},messages:{loadFailed:"",createSuccess:"",createFailed:"",updateSuccess:"",updateFailed:"",deleteSuccess:"",deleteFailed:"",visibilityFailed:"",reorderSuccess:"",reorderFailed:""}},I2e={tabs:{positive:"",negative:"",auto:""},labels:{prompt:"",negativePrompt:""},noPrompt:"",loading:"...",loadFailed:""},j2e={noTags:"",generateButton:"",generating:"...",generationError:"",sections:{rating:"",characters:"",tagList:"",generalTags:" ({{count}})",modelInfo:""},modelInfo:{model:"",generalThreshold:"",characterThreshold:"",taggedAt:""}},O2e={title:w2e,description:E2e,tabs:T2e,promptList:A2e,assignDialog:R2e,groupManagement:k2e,promptDisplay:I2e,autoTagDisplay:j2e},D2e={generate:"",history:""},N2e={title:"",listTitle:"",addButton:"",editTitle:"",createTitle:"",noWorkflows:"",noWorkflowsDesc:'""ComfyUI'},M2e={active:"",inactive:"",fieldsCount:"{{count}}",createdDate:": {{date}}",generateImage:"",notFound:""},P2e={basicInfo:"",workflowName:"",description:"",apiEndpoint:"API",activate:"",workflowJson:"JSON",uploadFile:"",jsonPlaceholder:'{"prompt": {...}}',jsonHelper:"ComfyUIAPI JSON",jsonCharCount:"{{count}}",invalidJson:"JSON",nameRequired:"",jsonRequired:"JSON",validateJson:"JSON"},L2e={importantNote:":",apiFormatWarning:'ComfyUI"Save (API Format)"JSONJSON',created:"",updated:"",inactiveWarning:"",noConfigurableFields:""},z2e={sectionTitle:"",guideTitle:"",addField:"",noFields:'""',whatIs:"",whatIsDesc:"CFG",howToFind:"JSON:",step1:'ComfyUI"Save (API Format)"',step2:"JSON",step3:": [].inputs.[]",exampleTitle:":",example1Title:"1.  (CLIPTextEncode #6)",example1FieldId:"ID: prompt_positive",example1Label:": ",example1Type:":  (textarea)",example1Path:"JSON: 6.inputs.text",example1Default:": a beautiful landscape",example2Title:"2.  (KSampler #3)",example2FieldId:"ID: seed",example2Label:": ",example2Type:": ",example2Path:"JSON: 3.inputs.seed",example2Default:": 123456",example3Title:"3.  (KSampler #3)",example3FieldId:"ID: steps",example3Label:": ",example3Type:": ",example3Path:"JSON: 3.inputs.steps",example3Default:": 20",example3Min:": 1",example3Max:": 150",example4Title:"4.  (KSampler #3)",example4FieldId:"ID: sampler_name",example4Label:": ",example4Type:": ",example4Path:"JSON: 3.inputs.sampler_name",example4Options:": euler, euler_ancestral, dpm++ 2m, ddim",tipTitle:" :",tipDesc:'JSONJSONJSON{\\"3\\": {\\"inputs\\": {\\"seed\\": 123}}}JSON3.inputs.seed',previewTitle:""},F2e={fieldId:"ID",fieldIdPlaceholder:"prompt_positive",fieldIdHelper:"",label:"",labelPlaceholder:"",labelHelper:"",type:"",typeHelper:"",typeText:" ()",typeTextarea:" ()",typeNumber:"",typeSelect:" ()",jsonPath:"JSON *",jsonPathPlaceholder:"6.inputs.text",jsonPathHelper:"JSON: 6.inputs.text (6text)",defaultValue:"",defaultValuePlaceholder:"a beautiful landscape",defaultValueHelper:"",required:"",minValue:"",minPlaceholder:"1",maxValue:"",maxPlaceholder:"150",selectOptions:" ()",selectOptionsPlaceholder:"euler, dpm++, ddim",selectOptionsHelper:": euler, dpm++ 2m, ddim"},B2e={pageTitle:"",settingsTitle:"",missingFields:": {{fields}}",selectPlaceholder:"",previewTitle:"",generateAll:" ({{count}})",serversListTitle:"ComfyUI",serversListDesc:"",noServers:"ComfyUI",noConnectedServers:"",responseTime:": {{time}}",generateButton:"",generating:"...",generationComplete:"",generationFailed:"",executionTime:"{{time}}",viewImage:""},H2e={save:"",saving:"...",cancel:"",create:"",update:"",delete:"",confirmDelete:""},U2e={title:"",enable:"",count:"",infinite:"-1",countHelp:"1-999  -1",delay:"",delayHelp:"1-300",progress:"{{current}}",progressWithTotal:"{{current}}/{{total}}",stop:""},$2e={subtabs:D2e,page:N2e,card:M2e,form:P2e,alerts:L2e,markedFields:z2e,fieldForm:F2e,generate:B2e,actions:H2e,repeat:U2e},G2e={title:"",subtitle:"ComfyUI"},q2e={workflows:"",servers:"",novelai:"NovelAI",ariaLabel:""},V2e={subtabs:{generate:"",history:"",helper:""},login:{title:"NovelAI",subtitle:"NovelAI",tabs:{credentials:"/",token:""},username:"",password:"",token:"",tokenPlaceholder:"NovelAI",tokenHint:"NovelAI",loginButton:"",loggingIn:"...",error:"",tokenError:""},generate:{title:"NovelAI",logout:"",prompt:"",negativePrompt:"",resolution:"",sampler:"",steps:"",guidance:"",samples:"",ucPreset:"",generateButton:"",generating:"...",resultTitle:"",download:"",upload:"",metadata:"",tokenExpired:"",subscriptionRequired:"",error:"",uploadSuccess:"",uploadError:"",autoUploadSuccess:"{{count}}",autoUploadPartial:"{{success}}{{fail}}",success:"{{count}}",completed:"",failed:""},repeat:{title:"",enable:"",count:"",infinite:"-1",countHelp:"1-999  -1",delay:"",delayHelp:"1-300",progress:"{{current}}",progressWithTotal:"{{current}}/{{total}}",stop:""}},W2e={page:G2e,tabs:q2e,nai:V2e},Y2e="",K2e="{{count}}",X2e="",Q2e="...",Z2e="...",J2e="",eve="",tve="",nve="",rve="",ave={pending:"",processing:"",completed:"",failed:""},ive={comfyui:"ComfyUI",novelai:"NovelAI"},sve={regenerate:"",delete:"",refresh:"",confirmDelete:""},ove={title:"",status:"",service:"",positivePrompt:"",negativePrompt:"",size:"",model:"",sampler:"",steps:"",cfgScale:"CFG Scale",seed:"",error:"",createdAt:"",completedAt:""},lve={title:Y2e,count:K2e,empty:X2e,loading:Q2e,loadingMore:Z2e,allLoaded:J2e,noHistory:eve,noHistoryDescription:tve,deleteConfirm:nve,deleteFailed:rve,status:ave,service:ive,actions:sve,detail:ove},cve={title:"",listTitle:"ComfyUI",addButton:"",noServers:"",noServersDesc:'""ComfyUI'},uve={active:"",inactive:"",priority:": {{priority}}",concurrent:": {{count}}",connectionSuccess:"",connectionFailed:"",testConnection:""},dve={addTitle:"",editTitle:"",serverName:"",endpointUrl:"URL",endpointPlaceholder:"http://127.0.0.1:8188",description:"",priority:"",priorityHelper:"",maxConcurrent:"",activate:"",cancel:"",add:"",update:""},fve={connected:"",disconnected:"",testing:"",error:"",responseTime:": {{time}}"},hve={test:"",edit:"",delete:"",confirmDelete:""},pve={page:cve,card:uve,dialog:dve,status:fve,actions:hve},mve={network:"",timeout:"",unauthorized:"",forbidden:"",notFound:"",serverError:"",badRequest:"",unknown:""},gve={fileTooLarge:"50MB",invalidFileType:"",uploadFailed:"",multipleUploadFailed:"",fileCountLimit:"",processingFailed:"",noFilesSelected:""},yve={loadFailed:"",deleteFailed:"",multipleDeleteFailed:"{{count}}",downloadFailed:"",notFound:"",metadataExtractionFailed:""},bve={loadFailed:"",createFailed:"",updateFailed:"",deleteFailed:"",assignFailed:"",removeFailed:"",autoCollectFailed:"",notFound:""},xve={loadFailed:"",deleteFailed:"",assignFailed:"",synonymFailed:"",notFound:""},vve={failed:"",invalidQuery:"",noResults:""},Sve={required:"",invalid:"",tooShort:"",tooLong:""},_ve={api:mve,upload:gve,image:yve,group:bve,prompt:xve,search:vve,validation:Sve},Cve={field:"",name:"",description:"",file:"",image:"",group:""},wve={invalid:"",email:"",url:"URL",number:"",integer:""},Eve={min:"{{min}}",max:"{{max}}",exact:"{{length}}",between:"{{min}}{{max}}"},Tve={fileSize:"{{max}}",imageSize:"{{width}}{{height}}",fileTooLarge:"{{max}}",fileTooSmall:"{{min}}"},Ave={min:"{{min}}",max:"{{max}}",between:"{{min}}{{max}}"},Rve={invalid:"",imageOnly:"",videoOnly:"",imageOrVideo:"",allowedTypes:"{{types}}"},kve={exists:"",name:"",value:""},Ive={required:Cve,format:wve,length:Eve,size:Tve,range:Ave,fileType:Rve,duplicate:kve},jve={title:"",noWildcards:"",noWildcardsDesc:""},Ove={all:"",both:""},Dve={add:"",addItem:"",preview:"",confirmDelete:"'{{name}}'?"},Nve={items:"{{count}}",itemsCount:"",moreItems:"{{count}}"},Mve={createTitle:"",editTitle:""},Pve={name:"",nameHelper:"++ (: , )",description:" ()",comfyuiItems:"ComfyUI",naiItems:"NovelAI",itemsHelper:"++++",itemPlaceholder:": , ,   , ++++"},Lve={title:"",inputLabel:"",inputPlaceholder:": ++++, ++++",generate:"",results:" (5)",result:" {{number}}"},zve={nameRequired:"",itemsRequired:"",previewTextRequired:""},Fve={manual:"",autoCollected:" (LORA)"},Bve={title:"LORA",description:"LORA",folderPath:"LORA",folderPathHelper:"ComfyUI lorasLORA",loraWeight:"LORA",loraWeightHelper:" (: 1.0)",duplicateHandling:"",duplicateNumber:" (style, style_2)",duplicateParent:" (anime_style, realistic_style)",scanButton:"LORA",scanning:"...",lastScan:"",noScanYet:"",scanLog:{title:"",timestamp:"",folderPath:"",totalWildcards:"",totalItems:"",details:"",wildcardName:"",itemCount:""},noAutoWildcards:"",noAutoWildcardsDesc:"LORA",autoCollectedBadge:"",errors:{folderPathRequired:"LORA",invalidWeight:" (0.1 ~ 2.0)",scanFailed:": {{error}}"}},Hve={page:jve,filters:Ove,actions:Dve,card:Nve,dialog:Mve,form:Pve,preview:Lve,errors:zve,tabs:Fve,autoCollect:Bve},Uve={save:"",cancel:"",delete:"",edit:"",add:"",upload:"",download:"",search:"",filter:"",reset:"",confirm:"",close:"",back:"",next:"",previous:"",select:"",deselect:"",selectAll:"",deselectAll:"",apply:"",clear:""},$ve={loading:"...",saving:"...",success:"",error:"",noData:"",confirmDelete:"",unsavedChanges:"",processing:"...",uploading:"...",downloading:"...",deleting:"..."},Gve={name:"",description:"",date:"",status:"",type:"",size:"",created:"",updated:"",width:"",height:"",duration:"",resolution:""},qve={tooltips:{viewDetails:"",download:"",delete:"",select:""},badges:{auto:"",video:""},confirmDelete:{image:"",video:""}},Vve={selectedCount:"{{count}}",selectedCountImages:"{{count}}",tooltips:{download:"",addToGroup:"",delete:"",clearSelection:""},confirmDelete:{mixed:"{{count}}/",images:"{{count}}",videos:"{{count}}",files:"{{count}}"}},Wve={perPage:"",items:"",page:"",of:"/",showing:"{{total}}{{from}}-{{to}}",goToPage:"",rowsPerPage:""},Yve={loading:"",error:"",empty:"",success:"",pending:"",completed:"",failed:""},Kve={view:"",download:"",delete:"",edit:"",create:"",update:"",cancel:"",confirm:"",retry:"",refresh:""},Xve={buttons:Uve,messages:$ve,labels:Gve,imageCard:qve,bulkActions:Vve,pagination:Wve,states:Yve,actions:Kve},Qve="",Zve="ComfyUI Image Manager",Jve={general:"",tagger:"Tagger",rating:"",similarity:"",prompts:"",advanced:""},eSe={title:"",language:{label:"",description:"",ko:"",en:"English",ja:"","zh-CN":"","zh-TW":""},gallery:{label:"",tooltip:""},canvasCleanup:{label:"Canvas",tooltip:"Canvas"}},tSe={title:"WD Tagger",description:"AI",enabled:"Tagger",autoTagOnUpload:"",model:{label:"",loading:"...",downloaded:""},device:{label:"",auto:{title:" (Auto)",description:"GPUGPUCPU"},cpu:{title:"CPU",description:"CPU"},cuda:{title:"GPU (CUDA)",description:"NVIDIA GPUGPU"}},modelStatus:{title:"",loaded:"",unloaded:"",lastUsed:"",justNow:"",minutesAgo:"{{minutes}}",hoursAgo:"{{hours}}",daysAgo:"{{days}}",none:""},buttons:{load:"",unload:"",refresh:"",download:"",downloading:"...",refreshStatus:"",checkDependencies:"Python",checking:"Python...",save:"",cancel:""},alerts:{modelDownloaded:"<strong>{{model}}</strong>",modelNotDownloaded:"<strong>{{model}}</strong>",modelLoaded:"",modelUnloaded:"",loadFailed:"",unloadFailed:"",saveFailed:"",dependencyCheckFailed:""},threshold:{general:{label:": {{value}}",description:""},character:{label:": {{value}}",description:""}},pythonPath:{label:"Python",helper:"Python: python, python3, C:\\Python39\\python.exe"},memoryManagement:{title:"",description:"",keepModelLoaded:"",autoUnloadMinutes:": {{minutes}}",autoUnloadDescription:"",keepLoadedAlert:"",notKeepLoadedAlert:""},batch:{title:"",description:"",untaggedCount:": {{count}}",progress:": {{current}} / {{total}}",buttons:{tagUnprocessed:"100",tagAll:"100",processing:"..."},alerts:{complete:": {{success}}{{failed}}",failed:"",tagAllFailed:""},confirmDialog:{title:"",message:`
100`,confirm:"",cancel:""}},test:{title:"",description:"",imageId:"ID",placeholder:": 123",button:"",processing:"...",result:":",failed:"",invalidId:"ID"}},nSe={title:"",description:"",weights:{title:"",description:"",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",preview:{title:": general=0.001, sensitive=0.045, questionable=0.735, explicit=0.470",score:": <strong>{{score}}</strong>"},buttons:{save:"",cancel:"",saving:"..."},alerts:{saveSuccess:"",saveFailed:"",loadFailed:""}},tiers:{title:"",description:"",addButton:"",table:{order:"",name:"",scoreRange:"",color:"",actions:"",empty:"",scoreFormat:"{{min}} ~ {{max}}",infinity:""},dialog:{createTitle:"",editTitle:"",tierName:"",minScore:"",maxScore:" = ",order:"",color:" (Hex)",colorPlaceholder:"#2196f3",colorHelper:": #22c55e, #3b82f6, #f59e0b, #ef4444",save:"",cancel:"",saving:"...",requiredFields:""},alerts:{created:"",updated:"",deleted:"",saveFailed:"",deleteFailed:"",loadFailed:"",deleteConfirm:""}},calculator:{title:"",description:"",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",calculate:"",calculating:"...",result:{title:"",score:": <strong>{{score}}</strong>",breakdown:":",generalScore:"General: {{score}}",sensitiveScore:"Sensitive: {{score}}",questionableScore:"Questionable: {{score}}",explicitScore:"Explicit: {{score}}"},failed:""}},rSe={title:"",description:"",systemStatus:{title:"",description:"",totalImages:": {{count}}",withHash:": {{count}}",withoutHash:": {{count}}",completion:": {{percent}}%",autoGenerateHash:"",rebuildButton:"{{count}}",rebuildingButton:"...",refreshButton:"",rebuildProgress:"... {{processed}}/{{total}}{{percent}}%",allComplete:"",rebuildComplete:": {{processed}}",rebuildCompleteWithErrors:": {{success}}{{failed}}",rebuildFailed:"",noImagesToProcess:"",autoGenerateUpdateFailed:""},test:{title:"",description:"",imageId:"ID",placeholder:": 123",searchType:"",types:{duplicates:"",similar:"",color:""},searchButton:"",searching:"...",queryImage:"",results:": {{count}}",noResults:"",searchFailed:"",imageDetails:{id:"ID:",filename:":",size:":",aiTool:"AI:"},matchTypes:{exact:"",nearDuplicate:"",similar:"",colorSimilar:""},similarity:"{{percent}}%",colorSimilarity:": {{percent}}%"},duplicateScan:{title:"",description:"",scanButton:"",scanning:"...",foundGroups:": {{count}}",groupLabel:"{{id}}  {{count}}",similarityLabel:"{{percent}}%",moreImages:"+{{count}}",noResults:"",id:"ID: {{id}}"},thresholds:{title:"",description:"",duplicate:{label:": {{value}}",description:"0=5=10=",strict:"0",recommended:"5",lenient:"10"},similar:{label:": {{value}}",description:"",strict:"5",recommended:"15",lenient:"25"},color:{label:": {{value}}%",description:"",min:"70%",recommended:"85%",max:"100%"},searchLimit:{label:"",options:{10:"10",20:"20",50:"50",100:"100"}},localStorageNote:""}},aSe={saveSuccess:"",saveFailed:"",loadFailed:""},iSe={title:Qve,subtitle:Zve,tabs:Jve,general:eSe,tagger:tSe,rating:nSe,similarity:rSe,messages:aSe},sSe={title:"ComfyUI Image Manager",menu:{home:"",gallery:"",imageGroups:"",search:"",upload:"",imageGeneration:"",settings:"",help:""},tooltip:{home:"",gallery:"",imageGroups:"",search:"",upload:"",imageGeneration:"AI",settings:"",help:""},theme:{light:"",dark:"",toggle:""},mobileMenu:{open:"",close:""}},oSe={copyright:" 2024 ComfyUI Image Manager. ",version:""},lSe={title:"",sections:{gettingStarted:"",imageManagement:"",autoCollection:"",promptSystem:"",settings:"",shortcuts:""}},cSe={header:sSe,footer:oSe,help:lSe},uSe={title:"",description:""},dSe={aiTool:"AI ",sortBy:"",sortOrder:"",all:"",clearFilters:""},fSe={uploadDate:"",filename:"",fileSize:"",width:"",height:"",ascending:"",descending:""},hSe={refresh:"",selectAll:"",deselectAll:""},pSe={loading:"...",noImages:"",error:""},mSe={aiToolLabel:"AI : {{tool}}"},gSe={page:uSe,filters:dSe,sorting:fSe,actions:hSe,status:pSe,chips:mSe},ySe={title:"",notFound:"",errorLoading:"",noIdProvided:" ID"},bSe={download:"",share:"",back:"",goToDetail:"",delete:"",deleteConfirm:"",deleteSuccess:"",deleteError:""},xSe={fileInfo:"",imageInfo:"",videoInfo:"",aiInfo:"",promptInfo:"",groupInfo:"",fullMetadata:""},vSe={originalFilename:"",filename:"",size:"",fileSize:"",mimeType:"MIME ",uploadDate:""},SSe={dimensions:"",dimensionsValue:"{{width}}  {{height}}"},_Se={duration:"",durationValue:"{{minutes}} {{seconds}}",fps:"",fpsValue:"{{fps}} fps",videoCodec:"",audioCodec:"",bitrate:"",bitrateValue:"{{bitrate}} Mbps"},CSe={tool:"AI ",toolShort:"",model:"",lora:"LoRA",steps:"",cfgScale:"CFG Scale",cfgShort:"CFG",sampler:"",scheduler:"",seed:"",denoiseStrength:"",generationTime:"",generationTimeValue:"{{time}}",batchSize:"",batchIndex:""},wSe={autoType:"",manualType:"",groupLabel:"{{name}} ({{type}})"},ESe={controls:{zoomIn:"",zoomOut:"",rotateLeft:"",rotateRight:"",flipHorizontal:"",flipVertical:"",reset:"",info:"",close:""},navigation:{previous:" ()",next:" ()",random:" (Space)",currentPosition:"{{current}} / {{total}}"}},TSe={page:ySe,actions:bSe,sections:xSe,fileInfo:vSe,imageInfo:SSe,videoInfo:_Se,aiInfo:CSe,groupInfo:wSe,viewer:ESe},ASe={title:"",description:"AI"},RSe={dragActive:"",dragInactive:"",supportedFormats:"JPGPNGGIFBMPWebPTIFF | MP4WebMMOVAVIMKV500MB",imageSupport:"",videoSupport:"",multipleSelection:"",divider:""},kSe={selectFiles:"",selectFolder:""},ISe={title:"",fileCount:"{{completed}}/{{total}}",summary:"{{total}} - {{success}}{{failed}}"},jSe={upload:"",metadata:"",thumbnail:"",autoCollect:"",autoTag:""},OSe={waiting:"",processing:"",complete:"",error:""},DSe={uploadComplete:"",uploadSuccess:"",uploadFailed:"",uploadError:"",multipleSuccess:"{{count}}",allFailed:"",partialSuccess:"{{success}}{{failed}}"},NSe={page:ASe,dropzone:RSe,buttons:kSe,progress:ISe,stages:jSe,status:OSe,messages:DSe},MSe={title:"",description:"",emptyTitle:"",emptyDescription:""},PSe={imageCount:"{{count}}",autoCollect:"",stats:"{{auto}} | {{manual}}"},LSe={edit:"",delete:"",runAutoCollection:""},zSe={basicInfo:"",autoCollect:""},FSe={createTitle:"",editTitle:"",basicInfo:"",groupName:"",description:"",groupColor:"",autoCollectEnable:"",autoCollectDescription:"",orConditionInfo:"OR",orConditionExample:"'anime'+ ",conditionsTitle:"",addCondition:"",conditionType:"",conditionValue:"",emptyConditions:"",buttonCreate:"",buttonUpdate:"",buttonCancel:""},BSe={conditionNumber:"{{number}}",removeCondition:"",addFirstCondition:"",autoCollectDisabled:"",groups:{basic:"",prompt:"",autotag:"Auto Tag",duplicate:""},types:{aiTool:"AI",modelName:"",promptContains:"",promptRegex:"",negativePromptContains:"",negativePromptRegex:"",autoTagExists:"Auto Tag ",autoTagRating:"Auto Tag: ",autoTagRatingScore:"Auto Tag: ",autoTagGeneral:"Auto Tag: ",autoTagCharacter:"Auto Tag: ",autoTagHasCharacter:"Auto Tag: ",autoTagModel:"Auto Tag: ",duplicateExact:"",duplicateNear:"",duplicateSimilar:"",duplicateCustom:""},values:{exists:"",notExists:""},ratings:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"},fields:{value:"",ratingType:"",minScore:"",maxScore:"",tagName:"",characterName:"",caseSensitive:"",exactMatch:"",exactMatchHelp:"'asd''aasd''asdf'",weightedScore:"",maxWeightInfo:"200",confidenceRange:"0.01.0{{min}}{{max}}",confidenceInfo:" ",hammingThreshold:"",hammingThresholdHelp:"0-64",hammingInfo:" ",duplicateNote:" perceptual_hash"},duplicateInfo:{duplicate_exact:"  = 0",duplicate_near:"   5",duplicate_similar:"   15"},placeholders:{regex:"",modelName:"wd-v1-4-moat-tagger-v2",text:"",tagName:"",characterName:""}},HSe={nameRequired:"",conditionRequired:"",valueRequired:"{{index}}",ratingTypeRequired:"{{index}}",ratingScoreRequired:"{{index}}",minScoreInvalid:"{{index}}0",maxScoreInvalid:"{{index}}0",scoreRangeInvalid:"{{index}}",confidenceScoreRange:"{{index}}0.01.0",confidenceMaxScoreRange:"{{index}}0.01.0",confidenceMinMaxInvalid:"{{index}}",hammingThresholdRequired:"{{index}}",hammingThresholdRange:"{{index}}064"},USe={loadFailed:"",imageLoadFailed:"",deleteSuccess:"",deleteFailed:"",autoCollectSuccess:"{{added}}{{removed}}",autoCollectFailed:"",createSuccess:"",createFailed:"",updateSuccess:"",updateFailed:"",removeWarning:"",removeSuccess:"{{count}}",removePartialSuccess:"{{removed}}{{failed}}",removeError:"",assignSuccess:"{{added}}{{converted}}{{skipped}}",assignFailed:"",assignError:"",emptyGroup:""},$Se={title:"{{name}}{{count}}",selectedCount:"{{count}}",buttonRemove:"",buttonAssign:"",infoMixedSelection:"",warningAutoOnly:"",confirmRemoveTitle:"",confirmRemoveMessage:"{{count}}",confirmRemoveNote:""},GSe={title:"",description:"{{count}}",currentGroup:"",emptyGroups:"",loadError:"",loadingError:"",buttonAssign:"",buttonCancel:""},qSe={page:MSe,groupCard:PSe,menu:LSe,tabs:zSe,modal:FSe,conditions:BSe,validation:HSe,messages:USe,imageModal:$Se,assignModal:GSe},VSe="",WSe="AI",YSe={placeholder:"...",button:"",clear:"",execute:""},KSe={title:"",searching:"...",found:"{{count}}",noResults:"",noResultsHint:"",initialMessage:"",initialHint:"AI",reset:"",refresh:""},XSe={basic:{aiTool:{label:"AI",all:""},modelName:{label:"",placeholder:": sd_xl_base_1.0"},startDate:{label:""},endDate:{label:""}},quickDate:{today:"",todayTooltip:"","7days":"7","7daysTooltip":"7","30days":"30","30daysTooltip":"30","90days":"90","90daysTooltip":"90"},advanced:{title:"",active:"",negativePrompt:{label:"",placeholder:" (: ugly, blurry)"}},autoTag:{title:"",subtitle:"(WD v3 Tagger)",active:"",tabs:{rating:"",character:"",generalTags:""},rating:{typeMode:"",scoreMode:"",typeDescription:"",scoreDescription:"",type:{label:"",none:"",general:"",sensitive:"",questionable:"",explicit:""},confidenceRange:"",scoreRange:""},character:{description:"",existence:{label:"",all:"",true:"",false:""},name:{label:"",placeholder:": hatsune_miku"},confidenceRange:""},generalTags:{description:"",tagName:{label:"",placeholder:": 1girl, solo, landscape"},confidence:": {{min}} ~ {{max}}",addedTags:" ({{count}})"}}},QSe={title:""},ZSe={title:VSe,description:WSe,searchInput:YSe,results:KSe,filters:XSe,searchHistory:QSe},JSe="",e3e="AI",t3e={positive:"",negative:""},n3e={search:{placeholder:"{{type}}..."},filters:{groupFilter:{label:"",all:"",unassigned:""}},table:{headers:{prompt:"",usageCount:"",assignedGroup:"",actions:""},empty:"",synonyms:{more:"+{{count}}"}},actions:{assignToGroup:"",delete:"",cannotDelete:"",groupManagement:""},statistics:{unclassified:"",unknown:""},pagination:{rowsPerPage:":",displayedRows:"{{from}}-{{to}} / {{count}}"},messages:{loadFailed:"",deleteSuccess:"",deleteFailed:"",assignSuccess:"",assignFailed:""}},r3e={title:"",selectGroup:{label:"",unassigned:""},actions:{cancel:"",assign:""}},a3e={title:"{{type}}",dragHint:"",editForm:{titleAdd:"",titleEdit:"",groupName:{label:"",required:""},displayOrder:{label:""},visibility:{label:"",hidden:""},actions:{save:"",cancel:""}},groupList:{title:" ({{count}})",add:"",empty:"",promptCount:"{{count}}",displayOrder:": {{order}}"},actions:{toggleVisibility:"",edit:"",delete:"",deleteConfirm:"",close:""},messages:{loadFailed:"",createSuccess:"",createFailed:"",updateSuccess:"",updateFailed:"",deleteSuccess:"",deleteFailed:"",visibilityFailed:"",reorderSuccess:"",reorderFailed:""}},i3e={tabs:{positive:"",negative:"",auto:""},labels:{prompt:"",negativePrompt:""},noPrompt:"",loading:"...",loadFailed:""},s3e={noTags:"",generateButton:"",generating:"...",generationError:"",sections:{rating:"",characters:"",tagList:"",generalTags:" ({{count}})",modelInfo:""},modelInfo:{model:"",generalThreshold:"",characterThreshold:"",taggedAt:""}},o3e={title:JSe,description:e3e,tabs:t3e,promptList:n3e,assignDialog:r3e,groupManagement:a3e,promptDisplay:i3e,autoTagDisplay:s3e},l3e={generate:"",history:""},c3e={title:"",listTitle:"",addButton:"",editTitle:"",createTitle:"",noWorkflows:"",noWorkflowsDesc:"ComfyUI"},u3e={active:"",inactive:"",fieldsCount:"{{count}}",createdDate:": {{date}}",generateImage:"",notFound:""},d3e={basicInfo:"",workflowName:"",description:"",apiEndpoint:"API",activate:"",workflowJson:"JSON",uploadFile:"",jsonPlaceholder:'{"prompt": {...}}',jsonHelper:"ComfyUIAPI JSON",jsonCharCount:"{{count}}",invalidJson:"JSON",nameRequired:"",jsonRequired:"JSON",validateJson:"JSON"},f3e={importantNote:":",apiFormatWarning:"ComfyUISave (API Format)JSONJSON",created:"",updated:"",inactiveWarning:"",noConfigurableFields:""},h3e={sectionTitle:"",guideTitle:"",addField:"",noFields:"",whatIs:"",whatIsDesc:"CFG",howToFind:"JSON:",step1:"ComfyUISave (API Format)",step2:"JSON",step3:": [].inputs.[]",exampleTitle:":",example1Title:"1.  (CLIPTextEncode #6)",example1FieldId:"ID: prompt_positive",example1Label:": ",example1Type:":  (textarea)",example1Path:"JSON: 6.inputs.text",example1Default:": a beautiful landscape",example2Title:"2.  (KSampler #3)",example2FieldId:"ID: seed",example2Label:": ",example2Type:": ",example2Path:"JSON: 3.inputs.seed",example2Default:": 123456",example3Title:"3.  (KSampler #3)",example3FieldId:"ID: steps",example3Label:": ",example3Type:": ",example3Path:"JSON: 3.inputs.steps",example3Default:": 20",example3Min:": 1",example3Max:": 150",example4Title:"4.  (KSampler #3)",example4FieldId:"ID: sampler_name",example4Label:": ",example4Type:": ",example4Path:"JSON: 3.inputs.sampler_name",example4Options:": euler, euler_ancestral, dpm++ 2m, ddim",tipTitle:" :",tipDesc:'JSONJSONJSON{"3": {"inputs": {"seed": 123}}}JSON3.inputs.seed',previewTitle:""},p3e={fieldId:"ID",fieldIdPlaceholder:"prompt_positive",fieldIdHelper:"",label:"",labelPlaceholder:"",labelHelper:"",type:"",typeHelper:"",typeText:" ()",typeTextarea:" ()",typeNumber:"",typeSelect:" ()",jsonPath:"JSON *",jsonPathPlaceholder:"6.inputs.text",jsonPathHelper:"JSON: 6.inputs.text (6text)",defaultValue:"",defaultValuePlaceholder:"a beautiful landscape",defaultValueHelper:"",required:"",minValue:"",minPlaceholder:"1",maxValue:"",maxPlaceholder:"150",selectOptions:" ()",selectOptionsPlaceholder:"euler, dpm++, ddim",selectOptionsHelper:": euler, dpm++ 2m, ddim"},m3e={pageTitle:"",settingsTitle:"",missingFields:": {{fields}}",selectPlaceholder:"",previewTitle:"",generateAll:" ({{count}})",serversListTitle:"ComfyUI",serversListDesc:"",noServers:"ComfyUI",noConnectedServers:"",responseTime:": {{time}}",generateButton:"",generating:"...",generationComplete:"",generationFailed:"",executionTime:"{{time}}",viewImage:""},g3e={save:"",saving:"...",cancel:"",create:"",update:"",delete:"",confirmDelete:""},y3e={title:"",enable:"",count:"",infinite:"-1",countHelp:"1-999  -1",delay:"",delayHelp:"1-300",progress:"{{current}}",progressWithTotal:"{{current}}/{{total}}",stop:""},b3e={subtabs:l3e,page:c3e,card:u3e,form:d3e,alerts:f3e,markedFields:h3e,fieldForm:p3e,generate:m3e,actions:g3e,repeat:y3e},x3e={title:"",subtitle:"ComfyUI"},v3e={workflows:"",servers:"",novelai:"NovelAI",ariaLabel:""},S3e={subtabs:{generate:"",history:"",helper:""},login:{title:"NovelAI",subtitle:"NovelAI",tabs:{credentials:"/",token:""},username:"",password:"",token:"",tokenPlaceholder:"NovelAI",tokenHint:"NovelAI",loginButton:"",loggingIn:"...",error:"",tokenError:""},generate:{title:"NovelAI",logout:"",prompt:"",negativePrompt:"",resolution:"",sampler:"",steps:"",guidance:"",samples:"",ucPreset:"",generateButton:"",generating:"...",resultTitle:"",download:"",upload:"",metadata:"",tokenExpired:"",subscriptionRequired:"",error:"",uploadSuccess:"",uploadError:"",autoUploadSuccess:"{{count}}",autoUploadPartial:"{{success}}{{fail}}",success:"{{count}}",completed:"",failed:""},repeat:{title:"",enable:"",count:"",infinite:"-1",countHelp:"1-999  -1",delay:"",delayHelp:"1-300",progress:"{{current}}",progressWithTotal:"{{current}}/{{total}}",stop:""}},_3e={page:x3e,tabs:v3e,nai:S3e},C3e="",w3e="{{count}}",E3e="",T3e="...",A3e="...",R3e="",k3e="",I3e="",j3e="",O3e="",D3e={pending:"",processing:"",completed:"",failed:""},N3e={comfyui:"ComfyUI",novelai:"NovelAI"},M3e={regenerate:"",delete:"",refresh:"",confirmDelete:""},P3e={title:"",status:"",service:"",positivePrompt:"",negativePrompt:"",size:"",model:"",sampler:"",steps:"",cfgScale:"CFG Scale",seed:"",error:"",createdAt:"",completedAt:""},L3e={title:C3e,count:w3e,empty:E3e,loading:T3e,loadingMore:A3e,allLoaded:R3e,noHistory:k3e,noHistoryDescription:I3e,deleteConfirm:j3e,deleteFailed:O3e,status:D3e,service:N3e,actions:M3e,detail:P3e},z3e={title:"",listTitle:"ComfyUI",addButton:"",noServers:"",noServersDesc:"ComfyUI"},F3e={active:"",inactive:"",priority:": {{priority}}",concurrent:": {{count}}",connectionSuccess:"",connectionFailed:"",testConnection:""},B3e={addTitle:"",editTitle:"",serverName:"",endpointUrl:"URL",endpointPlaceholder:"http://127.0.0.1:8188",description:"",priority:"",priorityHelper:"",maxConcurrent:"",activate:"",cancel:"",add:"",update:""},H3e={connected:"",disconnected:"",testing:"",error:"",responseTime:": {{time}}"},U3e={test:"",edit:"",delete:"",confirmDelete:""},$3e={page:z3e,card:F3e,dialog:B3e,status:H3e,actions:U3e},G3e={network:"",timeout:"",unauthorized:"",forbidden:"",notFound:"",serverError:"",badRequest:"",unknown:""},q3e={fileTooLarge:"50MB",invalidFileType:"",uploadFailed:"",multipleUploadFailed:"",fileCountLimit:"",processingFailed:"",noFilesSelected:""},V3e={loadFailed:"",deleteFailed:"",multipleDeleteFailed:"{{count}}",downloadFailed:"",notFound:"",metadataExtractionFailed:""},W3e={loadFailed:"",createFailed:"",updateFailed:"",deleteFailed:"",assignFailed:"",removeFailed:"",autoCollectFailed:"",notFound:""},Y3e={loadFailed:"",deleteFailed:"",assignFailed:"",synonymFailed:"",notFound:""},K3e={failed:"",invalidQuery:"",noResults:""},X3e={required:"",invalid:"",tooShort:"",tooLong:""},Q3e={api:G3e,upload:q3e,image:V3e,group:W3e,prompt:Y3e,search:K3e,validation:X3e},Z3e={field:"",name:"",description:"",file:"",image:"",group:""},J3e={invalid:"",email:"",url:"URL",number:"",integer:""},e_e={min:"{{min}}",max:"{{max}}",exact:"{{length}}",between:"{{min}}{{max}}"},t_e={fileSize:"{{max}}",imageSize:"{{width}}{{height}}",fileTooLarge:"{{max}}",fileTooSmall:"{{min}}"},n_e={min:"{{min}}",max:"{{max}}",between:"{{min}}{{max}}"},r_e={invalid:"",imageOnly:"",videoOnly:"",imageOrVideo:"",allowedTypes:"{{types}}"},a_e={exists:"",name:"",value:""},i_e={required:Z3e,format:J3e,length:e_e,size:t_e,range:n_e,fileType:r_e,duplicate:a_e},s_e={title:"",noWildcards:"",noWildcardsDesc:""},o_e={all:"",both:""},l_e={add:"",addItem:"",preview:"",confirmDelete:"'{{name}}'?"},c_e={items:"{{count}}",itemsCount:"",moreItems:"{{count}}"},u_e={createTitle:"",editTitle:""},d_e={name:"",nameHelper:"++ (: , )",description:" ()",comfyuiItems:"ComfyUI",naiItems:"NovelAI",itemsHelper:"++++",itemPlaceholder:": , ,   , ++++"},f_e={title:"",inputLabel:"",inputPlaceholder:": ++++, ++++",generate:"",results:" (5)",result:" {{number}}"},h_e={nameRequired:"",itemsRequired:"",previewTextRequired:""},p_e={manual:"",autoCollected:" (LORA)"},m_e={title:"LORA",description:"LORA",folderPath:"LORA",folderPathHelper:"ComfyUI lorasLORA",loraWeight:"LORA",loraWeightHelper:" (: 1.0)",duplicateHandling:"",duplicateNumber:" (style, style_2)",duplicateParent:" (anime_style, realistic_style)",scanButton:"LORA",scanning:"...",lastScan:"",noScanYet:"",scanLog:{title:"",timestamp:"",folderPath:"",totalWildcards:"",totalItems:"",details:"",wildcardName:"",itemCount:""},noAutoWildcards:"",noAutoWildcardsDesc:"LORA",autoCollectedBadge:"",errors:{folderPathRequired:"LORA",invalidWeight:" (0.1 ~ 2.0)",scanFailed:": {{error}}"}},g_e={page:s_e,filters:o_e,actions:l_e,card:c_e,dialog:u_e,form:d_e,preview:f_e,errors:h_e,tabs:p_e,autoCollect:m_e},y_e={ko:{common:ahe,settings:phe,navigation:bhe,gallery:Rhe,imageDetail:zhe,upload:Whe,imageGroups:spe,search:ppe,promptManagement:wpe,workflows:Mpe,imageGeneration:Fpe,generationHistory:cme,servers:mme,errors:Cme,validation:jme,wildcards:qme},en:{common:ege,settings:uge,navigation:pge,gallery:Sge,imageDetail:jge,upload:Bge,imageGroups:Jge,search:o0e,promptManagement:g0e,workflows:A0e,imageGeneration:j0e,generationHistory:t1e,servers:o1e,errors:m1e,validation:C1e,wildcards:L1e},ja:{common:V1e,settings:tye,navigation:iye,gallery:fye,imageDetail:_ye,upload:Iye,imageGroups:Hye,search:Yye,promptManagement:rbe,workflows:pbe,imageGeneration:bbe,generationHistory:Dbe,servers:Fbe,errors:Wbe,validation:txe,wildcards:fxe},"zh-CN":{common:Sxe,settings:Ixe,navigation:Nxe,gallery:Hxe,imageDetail:Qxe,upload:i2e,imageGroups:g2e,search:C2e,promptManagement:O2e,workflows:$2e,imageGeneration:W2e,generationHistory:lve,servers:pve,errors:_ve,validation:Ive,wildcards:Hve},"zh-TW":{common:Xve,settings:iSe,navigation:cSe,gallery:gSe,imageDetail:TSe,upload:NSe,imageGroups:qSe,search:ZSe,promptManagement:o3e,workflows:b3e,imageGeneration:_3e,generationHistory:L3e,servers:$3e,errors:Q3e,validation:i_e,wildcards:g_e}};Ks.use(rX).use(Ife).init({resources:y_e,fallbackLng:"ko",defaultNS:"common",ns:["common","settings","navigation","gallery","imageDetail","upload","imageGroups","search","promptManagement","workflows","imageGeneration","generationHistory","servers","errors","validation","wildcards"],detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"},interpolation:{escapeValue:!1},react:{useSuspense:!1}});function b_e(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function x_e(t){return parseFloat(t)}function v_e({theme:t,...e}){const n=hu in t?t[hu]:void 0;return c.jsx(wK,{...e,themeId:n?hu:void 0,theme:n||t})}const g_={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:S_e}=Jce({themeId:hu,theme:()=>x5({cssVariables:!0}),colorSchemeStorageKey:g_.colorSchemeStorageKey,modeStorageKey:g_.modeStorageKey,defaultColorScheme:{light:g_.defaultLightColorScheme,dark:g_.defaultDarkColorScheme},resolveTheme:t=>{const e={...t,typography:kK(t.palette,t.typography)};return e.unstable_sx=function(r){return _p({sx:r,theme:this})},e}}),__e=S_e;function C_e({theme:t,...e}){const n=A.useMemo(()=>{if(typeof t=="function")return t;const r=hu in t?t[hu]:t;return"colorSchemes"in r?null:"vars"in r?t:{...t,vars:null}},[t]);return n?c.jsx(v_e,{theme:n,...e}):c.jsx(__e,{theme:t,...e})}function Nk(...t){return t.reduce((e,n)=>n==null?e:function(...a){e.apply(this,a),n.apply(this,a)},()=>{})}const Rt=qce;function w_e(t){return Dt("MuiSvgIcon",t)}zt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const E_e=t=>{const{color:e,fontSize:n,classes:r}=t,a={root:["root",e!=="inherit"&&`color${Ue(e)}`,`fontSize${Ue(n)}`]};return Nt(a,w_e,r)},T_e=$e("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ue(n.color)}`],e[`fontSize${Ue(n.fontSize)}`]]}})(Rt(({theme:t})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(t.vars??t).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),Mk=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiSvgIcon"}),{children:a,className:i,color:s="inherit",component:o="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:h,viewBox:m="0 0 24 24",...y}=r,x=A.isValidElement(a)&&a.type==="svg",v={...r,color:s,component:o,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:m,hasSvgAsChild:x},_={};d||(_.viewBox=m);const C=E_e(v);return c.jsxs(T_e,{as:o,className:ut(C.root,i),focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n,..._,...y,...x&&a.props,ownerState:v,children:[x?a.props.children:a,h?c.jsx("title",{children:h}):null]})});Mk.muiName="SvgIcon";function mt(t,e){function n(r,a){return c.jsx(Mk,{"data-testid":void 0,ref:a,...r,children:t})}return n.muiName=Mk.muiName,A.memo(A.forwardRef(n))}function Yv(t,e=166){let n;function r(...a){const i=()=>{t.apply(this,a)};clearTimeout(n),n=setTimeout(i,e)}return r.clear=()=>{clearTimeout(n)},r}function ci(t){return t&&t.ownerDocument||document}function Ol(t){return ci(t).defaultView||window}function FP(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function wp(t){const{controlled:e,default:n,name:r,state:a="value"}=t,{current:i}=A.useRef(e!==void 0),[s,o]=A.useState(n),l=i?e:s,u=A.useCallback(d=>{i||o(d)},[]);return[l,u]}function Ji(t){const e=A.useRef(t);return Ys(()=>{e.current=t}),A.useRef((...n)=>(0,e.current)(...n)).current}function aa(...t){const e=A.useRef(void 0),n=A.useCallback(r=>{const a=t.map(i=>{if(i==null)return null;if(typeof i=="function"){const s=i,o=s(r);return typeof o=="function"?o:()=>{s(null)}}return i.current=r,()=>{i.current=null}});return()=>{a.forEach(i=>i?.())}},t);return A.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function A_e(t,e){const n=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&n>=65&&n<=90&&typeof e=="function"}function dO(t,e){if(!t)return e;function n(s,o){const l={};return Object.keys(o).forEach(u=>{A_e(u,o[u])&&typeof s[u]=="function"&&(l[u]=(...d)=>{s[u](...d),o[u](...d)})}),l}if(typeof t=="function"||typeof e=="function")return s=>{const o=typeof e=="function"?e(s):e,l=typeof t=="function"?t({...s,...o}):t,u=ut(s?.className,o?.className,l?.className),d=n(l,o);return{...o,...l,...d,...!!u&&{className:u},...o?.style&&l?.style&&{style:{...o.style,...l.style}},...o?.sx&&l?.sx&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(l.sx)?l.sx:[l.sx]]}}};const r=e,a=n(t,r),i=ut(r?.className,t?.className);return{...e,...t,...a,...!!i&&{className:i},...r?.style&&t?.style&&{style:{...r.style,...t.style}},...r?.sx&&t?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function aX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Pk(t,e){return Pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Pk(t,e)}function iX(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Pk(t,e)}const BP={disabled:!1},sC=je.createContext(null);var R_e=function(e){return e.scrollTop},n2="unmounted",Om="exited",Dm="entering",C1="entered",Lk="exiting",Pc=(function(t){iX(e,t);function e(r,a){var i;i=t.call(this,r,a)||this;var s=a,o=s&&!s.isMounting?r.enter:r.appear,l;return i.appearStatus=null,r.in?o?(l=Om,i.appearStatus=Dm):l=C1:r.unmountOnExit||r.mountOnEnter?l=n2:l=Om,i.state={status:l},i.nextCallback=null,i}e.getDerivedStateFromProps=function(a,i){var s=a.in;return s&&i.status===n2?{status:Om}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(a){var i=null;if(a!==this.props){var s=this.state.status;this.props.in?s!==Dm&&s!==C1&&(i=Dm):(s===Dm||s===C1)&&(i=Lk)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var a=this.props.timeout,i,s,o;return i=s=o=a,a!=null&&typeof a!="number"&&(i=a.exit,s=a.enter,o=a.appear!==void 0?a.appear:s),{exit:i,enter:s,appear:o}},n.updateStatus=function(a,i){if(a===void 0&&(a=!1),i!==null)if(this.cancelNextCallback(),i===Dm){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:d_.findDOMNode(this);s&&R_e(s)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Om&&this.setState({status:n2})},n.performEnter=function(a){var i=this,s=this.props.enter,o=this.context?this.context.isMounting:a,l=this.props.nodeRef?[o]:[d_.findDOMNode(this),o],u=l[0],d=l[1],h=this.getTimeouts(),m=o?h.appear:h.enter;if(!a&&!s||BP.disabled){this.safeSetState({status:C1},function(){i.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:Dm},function(){i.props.onEntering(u,d),i.onTransitionEnd(m,function(){i.safeSetState({status:C1},function(){i.props.onEntered(u,d)})})})},n.performExit=function(){var a=this,i=this.props.exit,s=this.getTimeouts(),o=this.props.nodeRef?void 0:d_.findDOMNode(this);if(!i||BP.disabled){this.safeSetState({status:Om},function(){a.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:Lk},function(){a.props.onExiting(o),a.onTransitionEnd(s.exit,function(){a.safeSetState({status:Om},function(){a.props.onExited(o)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(a,i){i=this.setNextCallback(i),this.setState(a,i)},n.setNextCallback=function(a){var i=this,s=!0;return this.nextCallback=function(o){s&&(s=!1,i.nextCallback=null,a(o))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(a,i){this.setNextCallback(i);var s=this.props.nodeRef?this.props.nodeRef.current:d_.findDOMNode(this),o=a==null&&!this.props.addEndListener;if(!s||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],d=l[1];this.props.addEndListener(u,d)}a!=null&&setTimeout(this.nextCallback,a)},n.render=function(){var a=this.state.status;if(a===n2)return null;var i=this.props,s=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var o=aX(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return je.createElement(sC.Provider,{value:null},typeof s=="function"?s(a,o):je.cloneElement(je.Children.only(s),o))},e})(je.Component);Pc.contextType=sC;Pc.propTypes={};function r1(){}Pc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:r1,onEntering:r1,onEntered:r1,onExit:r1,onExiting:r1,onExited:r1};Pc.UNMOUNTED=n2;Pc.EXITED=Om;Pc.ENTERING=Dm;Pc.ENTERED=C1;Pc.EXITING=Lk;function k_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fO(t,e){var n=function(i){return e&&A.isValidElement(i)?e(i):i},r=Object.create(null);return t&&A.Children.map(t,function(a){return a}).forEach(function(a){r[a.key]=n(a)}),r}function I_e(t,e){t=t||{},e=e||{};function n(d){return d in e?e[d]:t[d]}var r=Object.create(null),a=[];for(var i in t)i in e?a.length&&(r[i]=a,a=[]):a.push(i);var s,o={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var u=r[l][s];o[r[l][s]]=n(u)}o[l]=n(l)}for(s=0;s<a.length;s++)o[a[s]]=n(a[s]);return o}function $m(t,e,n){return n[e]!=null?n[e]:t.props[e]}function j_e(t,e){return fO(t.children,function(n){return A.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:$m(n,"appear",t),enter:$m(n,"enter",t),exit:$m(n,"exit",t)})})}function O_e(t,e,n){var r=fO(t.children),a=I_e(e,r);return Object.keys(a).forEach(function(i){var s=a[i];if(A.isValidElement(s)){var o=i in e,l=i in r,u=e[i],d=A.isValidElement(u)&&!u.props.in;l&&(!o||d)?a[i]=A.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:$m(s,"exit",t),enter:$m(s,"enter",t)}):!l&&o&&!d?a[i]=A.cloneElement(s,{in:!1}):l&&o&&A.isValidElement(u)&&(a[i]=A.cloneElement(s,{onExited:n.bind(null,s),in:u.props.in,exit:$m(s,"exit",t),enter:$m(s,"enter",t)}))}}),a}var D_e=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},N_e={component:"div",childFactory:function(e){return e}},hO=(function(t){iX(e,t);function e(r,a){var i;i=t.call(this,r,a)||this;var s=i.handleExited.bind(k_e(i));return i.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},i}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(a,i){var s=i.children,o=i.handleExited,l=i.firstRender;return{children:l?j_e(a,o):O_e(a,s,o),firstRender:!1}},n.handleExited=function(a,i){var s=fO(this.props.children);a.key in s||(a.props.onExited&&a.props.onExited(i),this.mounted&&this.setState(function(o){var l=Q4({},o.children);return delete l[a.key],{children:l}}))},n.render=function(){var a=this.props,i=a.component,s=a.childFactory,o=aX(a,["component","childFactory"]),l=this.state.contextValue,u=D_e(this.state.children).map(s);return delete o.appear,delete o.enter,delete o.exit,i===null?je.createElement(sC.Provider,{value:l},u):je.createElement(sC.Provider,{value:l},je.createElement(i,o,u))},e})(je.Component);hO.propTypes={};hO.defaultProps=N_e;const HP={};function sX(t,e){const n=A.useRef(HP);return n.current===HP&&(n.current=t(e)),n}const M_e=[];function P_e(t){A.useEffect(t,M_e)}class _5{static create(){return new _5}currentId=null;start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function rp(){const t=sX(_5.create).current;return P_e(t.disposeEffect),t}const pO=t=>t.scrollTop;function Ep(t,e){const{timeout:n,easing:r,style:a={}}=t;return{duration:a.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:a.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:a.transitionDelay}}function L_e(t){return Dt("MuiCollapse",t)}zt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const z_e=t=>{const{orientation:e,classes:n}=t,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return Nt(r,L_e,n)},F_e=$e("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(Rt(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),B_e=$e("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),H_e=$e("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Tp=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiCollapse"}),{addEndListener:a,children:i,className:s,collapsedSize:o="0px",component:l,easing:u,in:d,onEnter:h,onEntered:m,onEntering:y,onExit:x,onExited:v,onExiting:_,orientation:C="vertical",style:w,timeout:T=IK.standard,TransitionComponent:E=Pc,...k}=r,j={...r,orientation:C,collapsedSize:o},O=z_e(j),z=rs(),M=rp(),N=A.useRef(null),U=A.useRef(),F=typeof o=="number"?`${o}px`:o,$=C==="horizontal",D=$?"width":"height",H=A.useRef(null),L=aa(n,H),V=ie=>ce=>{if(ie){const he=H.current;ce===void 0?ie(he):ie(he,ce)}},J=()=>N.current?N.current[$?"clientWidth":"clientHeight"]:0,Q=V((ie,ce)=>{N.current&&$&&(N.current.style.position="absolute"),ie.style[D]=F,h&&h(ie,ce)}),K=V((ie,ce)=>{const he=J();N.current&&$&&(N.current.style.position="");const{duration:me,easing:le}=Ep({style:w,timeout:T,easing:u},{mode:"enter"});if(T==="auto"){const de=z.transitions.getAutoHeightDuration(he);ie.style.transitionDuration=`${de}ms`,U.current=de}else ie.style.transitionDuration=typeof me=="string"?me:`${me}ms`;ie.style[D]=`${he}px`,ie.style.transitionTimingFunction=le,y&&y(ie,ce)}),q=V((ie,ce)=>{ie.style[D]="auto",m&&m(ie,ce)}),Z=V(ie=>{ie.style[D]=`${J()}px`,x&&x(ie)}),Y=V(v),ne=V(ie=>{const ce=J(),{duration:he,easing:me}=Ep({style:w,timeout:T,easing:u},{mode:"exit"});if(T==="auto"){const le=z.transitions.getAutoHeightDuration(ce);ie.style.transitionDuration=`${le}ms`,U.current=le}else ie.style.transitionDuration=typeof he=="string"?he:`${he}ms`;ie.style[D]=F,ie.style.transitionTimingFunction=me,_&&_(ie)}),re=ie=>{T==="auto"&&M.start(U.current||0,ie),a&&a(H.current,ie)};return c.jsx(E,{in:d,onEnter:Q,onEntered:q,onEntering:K,onExit:Z,onExited:Y,onExiting:ne,addEndListener:re,nodeRef:H,timeout:T==="auto"?null:T,...k,children:(ie,{ownerState:ce,...he})=>c.jsx(F_e,{as:l,className:ut(O.root,s,{entered:O.entered,exited:!d&&F==="0px"&&O.hidden}[ie]),style:{[$?"minWidth":"minHeight"]:F,...w},ref:L,ownerState:{...j,state:ie},...he,children:c.jsx(B_e,{ownerState:{...j,state:ie},className:O.wrapper,ref:N,children:c.jsx(H_e,{ownerState:{...j,state:ie},className:O.wrapperInner,children:i})})})})});Tp&&(Tp.muiSupportAuto=!0);function U_e(t){return Dt("MuiPaper",t)}zt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const $_e=t=>{const{square:e,elevation:n,variant:r,classes:a}=t,i={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Nt(i,U_e,a)},G_e=$e("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(Rt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Yt=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiPaper"}),a=rs(),{className:i,component:s="div",elevation:o=1,square:l=!1,variant:u="elevation",...d}=r,h={...r,component:s,elevation:o,square:l,variant:u},m=$_e(h);return c.jsx(G_e,{as:s,ownerState:h,className:ut(m.root,i),ref:n,...d,style:{...u==="elevation"&&{"--Paper-shadow":(a.vars||a).shadows[o],...a.vars&&{"--Paper-overlay":a.vars.overlays?.[o]},...!a.vars&&a.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${_s("#fff",vk(o))}, ${_s("#fff",vk(o))})`}},...d.style}})}),oX=A.createContext({});function Cd(t){return typeof t=="string"}function lX(t,e,n){return t===void 0||Cd(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function cX(t,e,n){return typeof t=="function"?t(e,n):t}function rg(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function UP(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function uX(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:a,className:i}=t;if(!e){const y=ut(n?.className,i,a?.className,r?.className),x={...n?.style,...a?.style,...r?.style},v={...n,...a,...r};return y.length>0&&(v.className=y),Object.keys(x).length>0&&(v.style=x),{props:v,internalRef:void 0}}const s=rg({...a,...r}),o=UP(r),l=UP(a),u=e(s),d=ut(u?.className,n?.className,i,a?.className,r?.className),h={...u?.style,...n?.style,...a?.style,...r?.style},m={...u,...n,...l,...o};return d.length>0&&(m.className=d),Object.keys(h).length>0&&(m.style=h),{props:m,internalRef:u.ref}}function Ht(t,e){const{className:n,elementType:r,ownerState:a,externalForwardedProps:i,internalForwardedProps:s,shouldForwardComponentProp:o=!1,...l}=e,{component:u,slots:d={[t]:void 0},slotProps:h={[t]:void 0},...m}=i,y=d[t]||r,x=cX(h[t],a),{props:{component:v,..._},internalRef:C}=uX({className:n,...l,externalForwardedProps:t==="root"?m:void 0,externalSlotProps:x}),w=aa(C,x?.ref,e.ref),T=t==="root"?v||u:v,E=lX(y,{...t==="root"&&!u&&!d[t]&&s,...t!=="root"&&!d[t]&&s,..._,...T&&!o&&{as:T},...T&&o&&{component:T},ref:w},a);return[y,E]}function q_e(t){return Dt("MuiAccordion",t)}const y_=zt("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),V_e=t=>{const{classes:e,square:n,expanded:r,disabled:a,disableGutters:i}=t;return Nt({root:["root",!n&&"rounded",r&&"expanded",a&&"disabled",!i&&"gutters"],heading:["heading"],region:["region"]},q_e,e)},W_e=$e(Yt,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${y_.region}`]:e.region},e.root,!n.square&&e.rounded,!n.disableGutters&&e.gutters]}})(Rt(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],e),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${y_.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${y_.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}}),Rt(({theme:t})=>({variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${y_.expanded}`]:{margin:"16px 0"}}}]}))),Y_e=$e("h3",{name:"MuiAccordion",slot:"Heading"})({all:"unset"}),K_e=$e("div",{name:"MuiAccordion",slot:"Region"})({}),kc=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiAccordion"}),{children:a,className:i,defaultExpanded:s=!1,disabled:o=!1,disableGutters:l=!1,expanded:u,onChange:d,square:h=!1,slots:m={},slotProps:y={},TransitionComponent:x,TransitionProps:v,..._}=r,[C,w]=wp({controlled:u,default:s,name:"Accordion",state:"expanded"}),T=A.useCallback(K=>{w(!C),d&&d(K,!C)},[C,d,w]),[E,...k]=A.Children.toArray(a),j=A.useMemo(()=>({expanded:C,disabled:o,disableGutters:l,toggle:T}),[C,o,l,T]),O={...r,square:h,disabled:o,disableGutters:l,expanded:C},z=V_e(O),M={transition:x,...m},N={transition:v,...y},U={slots:M,slotProps:N},[F,$]=Ht("root",{elementType:W_e,externalForwardedProps:{...U,..._},className:ut(z.root,i),shouldForwardComponentProp:!0,ownerState:O,ref:n,additionalProps:{square:h}}),[D,H]=Ht("heading",{elementType:Y_e,externalForwardedProps:U,className:z.heading,ownerState:O}),[L,V]=Ht("transition",{elementType:Tp,externalForwardedProps:U,ownerState:O}),[J,Q]=Ht("region",{elementType:K_e,externalForwardedProps:U,ownerState:O,className:z.region,additionalProps:{"aria-labelledby":E.props.id,id:E.props["aria-controls"],role:"region"}});return c.jsxs(F,{...$,children:[c.jsx(D,{...H,children:c.jsx(oX.Provider,{value:j,children:E})}),c.jsx(L,{in:C,timeout:"auto",...V,children:c.jsx(J,{...Q,children:k})})]})});function X_e(t){return Dt("MuiAccordionDetails",t)}zt("MuiAccordionDetails",["root"]);const Q_e=t=>{const{classes:e}=t;return Nt({root:["root"]},X_e,e)},Z_e=$e("div",{name:"MuiAccordionDetails",slot:"Root"})(Rt(({theme:t})=>({padding:t.spacing(1,2,2)}))),Ic=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiAccordionDetails"}),{className:a,...i}=r,s=r,o=Q_e(s);return c.jsx(Z_e,{className:ut(o.root,a),ref:n,ownerState:s,...i})});function Ap(t){try{return t.matches(":focus-visible")}catch{}return!1}class oC{static create(){return new oC}static use(){const e=sX(oC.create).current,[n,r]=A.useState(!1);return e.shouldMount=n,e.setShouldMount=r,A.useEffect(e.mountEffect,[n]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=e4e(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function J_e(){return oC.use()}function e4e(){let t,e;const n=new Promise((r,a)=>{t=r,e=a});return n.resolve=t,n.reject=e,n}function t4e(t){const{className:e,classes:n,pulsate:r=!1,rippleX:a,rippleY:i,rippleSize:s,in:o,onExited:l,timeout:u}=t,[d,h]=A.useState(!1),m=ut(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),y={width:s,height:s,top:-(s/2)+i,left:-(s/2)+a},x=ut(n.child,d&&n.childLeaving,r&&n.childPulsate);return!o&&!d&&h(!0),A.useEffect(()=>{if(!o&&l!=null){const v=setTimeout(l,u);return()=>{clearTimeout(v)}}},[l,o,u]),c.jsx("span",{className:m,style:y,children:c.jsx("span",{className:x})})}const pc=zt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),zk=550,n4e=80,r4e=Nd`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,a4e=Nd`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,i4e=Nd`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,s4e=$e("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),o4e=$e(t4e,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${pc.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${r4e};
    animation-duration: ${zk}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${pc.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${pc.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${pc.childLeaving} {
    opacity: 0;
    animation-name: ${a4e};
    animation-duration: ${zk}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${pc.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${i4e};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,l4e=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiTouchRipple"}),{center:a=!1,classes:i={},className:s,...o}=r,[l,u]=A.useState([]),d=A.useRef(0),h=A.useRef(null);A.useEffect(()=>{h.current&&(h.current(),h.current=null)},[l]);const m=A.useRef(!1),y=rp(),x=A.useRef(null),v=A.useRef(null),_=A.useCallback(E=>{const{pulsate:k,rippleX:j,rippleY:O,rippleSize:z,cb:M}=E;u(N=>[...N,c.jsx(o4e,{classes:{ripple:ut(i.ripple,pc.ripple),rippleVisible:ut(i.rippleVisible,pc.rippleVisible),ripplePulsate:ut(i.ripplePulsate,pc.ripplePulsate),child:ut(i.child,pc.child),childLeaving:ut(i.childLeaving,pc.childLeaving),childPulsate:ut(i.childPulsate,pc.childPulsate)},timeout:zk,pulsate:k,rippleX:j,rippleY:O,rippleSize:z},d.current)]),d.current+=1,h.current=M},[i]),C=A.useCallback((E={},k={},j=()=>{})=>{const{pulsate:O=!1,center:z=a||k.pulsate,fakeElement:M=!1}=k;if(E?.type==="mousedown"&&m.current){m.current=!1;return}E?.type==="touchstart"&&(m.current=!0);const N=M?null:v.current,U=N?N.getBoundingClientRect():{width:0,height:0,left:0,top:0};let F,$,D;if(z||E===void 0||E.clientX===0&&E.clientY===0||!E.clientX&&!E.touches)F=Math.round(U.width/2),$=Math.round(U.height/2);else{const{clientX:H,clientY:L}=E.touches&&E.touches.length>0?E.touches[0]:E;F=Math.round(H-U.left),$=Math.round(L-U.top)}if(z)D=Math.sqrt((2*U.width**2+U.height**2)/3),D%2===0&&(D+=1);else{const H=Math.max(Math.abs((N?N.clientWidth:0)-F),F)*2+2,L=Math.max(Math.abs((N?N.clientHeight:0)-$),$)*2+2;D=Math.sqrt(H**2+L**2)}E?.touches?x.current===null&&(x.current=()=>{_({pulsate:O,rippleX:F,rippleY:$,rippleSize:D,cb:j})},y.start(n4e,()=>{x.current&&(x.current(),x.current=null)})):_({pulsate:O,rippleX:F,rippleY:$,rippleSize:D,cb:j})},[a,_,y]),w=A.useCallback(()=>{C({},{pulsate:!0})},[C]),T=A.useCallback((E,k)=>{if(y.clear(),E?.type==="touchend"&&x.current){x.current(),x.current=null,y.start(0,()=>{T(E,k)});return}x.current=null,u(j=>j.length>0?j.slice(1):j),h.current=k},[y]);return A.useImperativeHandle(n,()=>({pulsate:w,start:C,stop:T}),[w,C,T]),c.jsx(s4e,{className:ut(pc.root,i.root,s),ref:v,...o,children:c.jsx(hO,{component:null,exit:!0,children:l})})});function c4e(t){return Dt("MuiButtonBase",t)}const u4e=zt("MuiButtonBase",["root","disabled","focusVisible"]),d4e=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:a}=t,s=Nt({root:["root",e&&"disabled",n&&"focusVisible"]},c4e,a);return n&&r&&(s.root+=` ${r}`),s},f4e=$e("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${u4e.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),xo=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiButtonBase"}),{action:a,centerRipple:i=!1,children:s,className:o,component:l="button",disabled:u=!1,disableRipple:d=!1,disableTouchRipple:h=!1,focusRipple:m=!1,focusVisibleClassName:y,LinkComponent:x="a",onBlur:v,onClick:_,onContextMenu:C,onDragLeave:w,onFocus:T,onFocusVisible:E,onKeyDown:k,onKeyUp:j,onMouseDown:O,onMouseLeave:z,onMouseUp:M,onTouchEnd:N,onTouchMove:U,onTouchStart:F,tabIndex:$=0,TouchRippleProps:D,touchRippleRef:H,type:L,...V}=r,J=A.useRef(null),Q=J_e(),K=aa(Q.ref,H),[q,Z]=A.useState(!1);u&&q&&Z(!1),A.useImperativeHandle(a,()=>({focusVisible:()=>{Z(!0),J.current.focus()}}),[]);const Y=Q.shouldMount&&!d&&!u;A.useEffect(()=>{q&&m&&!d&&Q.pulsate()},[d,m,q,Q]);const ne=vf(Q,"start",O,h),re=vf(Q,"stop",C,h),ie=vf(Q,"stop",w,h),ce=vf(Q,"stop",M,h),he=vf(Q,"stop",Oe=>{q&&Oe.preventDefault(),z&&z(Oe)},h),me=vf(Q,"start",F,h),le=vf(Q,"stop",N,h),de=vf(Q,"stop",U,h),pe=vf(Q,"stop",Oe=>{Ap(Oe.target)||Z(!1),v&&v(Oe)},!1),ve=Ji(Oe=>{J.current||(J.current=Oe.currentTarget),Ap(Oe.target)&&(Z(!0),E&&E(Oe)),T&&T(Oe)}),ge=()=>{const Oe=J.current;return l&&l!=="button"&&!(Oe.tagName==="A"&&Oe.href)},oe=Ji(Oe=>{m&&!Oe.repeat&&q&&Oe.key===" "&&Q.stop(Oe,()=>{Q.start(Oe)}),Oe.target===Oe.currentTarget&&ge()&&Oe.key===" "&&Oe.preventDefault(),k&&k(Oe),Oe.target===Oe.currentTarget&&ge()&&Oe.key==="Enter"&&!u&&(Oe.preventDefault(),_&&_(Oe))}),Se=Ji(Oe=>{m&&Oe.key===" "&&q&&!Oe.defaultPrevented&&Q.stop(Oe,()=>{Q.pulsate(Oe)}),j&&j(Oe),_&&Oe.target===Oe.currentTarget&&ge()&&Oe.key===" "&&!Oe.defaultPrevented&&_(Oe)});let be=l;be==="button"&&(V.href||V.to)&&(be=x);const Ae={};be==="button"?(Ae.type=L===void 0?"button":L,Ae.disabled=u):(!V.href&&!V.to&&(Ae.role="button"),u&&(Ae["aria-disabled"]=u));const Me=aa(n,J),Pe={...r,centerRipple:i,component:l,disabled:u,disableRipple:d,disableTouchRipple:h,focusRipple:m,tabIndex:$,focusVisible:q},Le=d4e(Pe);return c.jsxs(f4e,{as:be,className:ut(Le.root,o),ownerState:Pe,onBlur:pe,onClick:_,onContextMenu:re,onFocus:ve,onKeyDown:oe,onKeyUp:Se,onMouseDown:ne,onMouseLeave:he,onMouseUp:ce,onDragLeave:ie,onTouchEnd:le,onTouchMove:de,onTouchStart:me,ref:Me,tabIndex:u?-1:$,type:L,...Ae,...V,children:[s,Y?c.jsx(l4e,{ref:K,center:i,...D}):null]})});function vf(t,e,n,r=!1){return Ji(a=>(n&&n(a),r||t[e](a),!0))}function h4e(t){return Dt("MuiAccordionSummary",t)}const R1=zt("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),p4e=t=>{const{classes:e,expanded:n,disabled:r,disableGutters:a}=t;return Nt({root:["root",n&&"expanded",r&&"disabled",!a&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!a&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},h4e,e)},m4e=$e(xo,{name:"MuiAccordionSummary",slot:"Root"})(Rt(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],e),[`&.${R1.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${R1.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${R1.disabled})`]:{cursor:"pointer"},variants:[{props:n=>!n.disableGutters,style:{[`&.${R1.expanded}`]:{minHeight:64}}}]}})),g4e=$e("span",{name:"MuiAccordionSummary",slot:"Content"})(Rt(({theme:t})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${R1.expanded}`]:{margin:"20px 0"}}}]}))),y4e=$e("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper"})(Rt(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${R1.expanded}`]:{transform:"rotate(180deg)"}}))),jc=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiAccordionSummary"}),{children:a,className:i,expandIcon:s,focusVisibleClassName:o,onClick:l,slots:u,slotProps:d,...h}=r,{disabled:m=!1,disableGutters:y,expanded:x,toggle:v}=A.useContext(oX),_=N=>{v&&v(N),l&&l(N)},C={...r,expanded:x,disabled:m,disableGutters:y},w=p4e(C),T={slots:u,slotProps:d},[E,k]=Ht("root",{ref:n,shouldForwardComponentProp:!0,className:ut(w.root,i),elementType:m4e,externalForwardedProps:{...T,...h},ownerState:C,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:m,"aria-expanded":x,focusVisibleClassName:ut(w.focusVisible,o)},getSlotProps:N=>({...N,onClick:U=>{N.onClick?.(U),_(U)}})}),[j,O]=Ht("content",{className:w.content,elementType:g4e,externalForwardedProps:T,ownerState:C}),[z,M]=Ht("expandIconWrapper",{className:w.expandIconWrapper,elementType:y4e,externalForwardedProps:T,ownerState:C});return c.jsxs(E,{...k,children:[c.jsx(j,{...O,children:a}),s&&c.jsx(z,{...M,children:s})]})});function b4e(t){return typeof t.main=="string"}function x4e(t,e=[]){if(!b4e(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function rr(t=[]){return([,e])=>e&&x4e(e,t)}function v4e(t){return Dt("MuiAlert",t)}const $P=zt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function S4e(t){return Dt("MuiCircularProgress",t)}zt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Lh=44,Fk=Nd`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Bk=Nd`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,_4e=typeof Fk!="string"?Ip`
        animation: ${Fk} 1.4s linear infinite;
      `:null,C4e=typeof Bk!="string"?Ip`
        animation: ${Bk} 1.4s ease-in-out infinite;
      `:null,w4e=t=>{const{classes:e,variant:n,color:r,disableShrink:a}=t,i={root:["root",n,`color${Ue(r)}`],svg:["svg"],circle:["circle",`circle${Ue(n)}`,a&&"circleDisableShrink"]};return Nt(i,S4e,e)},E4e=$e("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${Ue(n.color)}`]]}})(Rt(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:_4e||{animation:`${Fk} 1.4s linear infinite`}},...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),T4e=$e("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),A4e=$e("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${Ue(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(Rt(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:C4e||{animation:`${Bk} 1.4s ease-in-out infinite`}}]}))),Kt=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiCircularProgress"}),{className:a,color:i="primary",disableShrink:s=!1,size:o=40,style:l,thickness:u=3.6,value:d=0,variant:h="indeterminate",...m}=r,y={...r,color:i,disableShrink:s,size:o,thickness:u,value:d,variant:h},x=w4e(y),v={},_={},C={};if(h==="determinate"){const w=2*Math.PI*((Lh-u)/2);v.strokeDasharray=w.toFixed(3),C["aria-valuenow"]=Math.round(d),v.strokeDashoffset=`${((100-d)/100*w).toFixed(3)}px`,_.transform="rotate(-90deg)"}return c.jsx(E4e,{className:ut(x.root,a),style:{width:o,height:o,..._,...l},ownerState:y,ref:n,role:"progressbar",...C,...m,children:c.jsx(T4e,{className:x.svg,ownerState:y,viewBox:`${Lh/2} ${Lh/2} ${Lh} ${Lh}`,children:c.jsx(A4e,{className:x.circle,style:v,ownerState:y,cx:Lh,cy:Lh,r:(Lh-u)/2,fill:"none",strokeWidth:u})})})});function R4e(t){return Dt("MuiIconButton",t)}const GP=zt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),k4e=t=>{const{classes:e,disabled:n,color:r,edge:a,size:i,loading:s}=t,o={root:["root",s&&"loading",n&&"disabled",r!=="default"&&`color${Ue(r)}`,a&&`edge${Ue(a)}`,`size${Ue(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Nt(o,R4e,e)},I4e=$e(xo,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${Ue(n.color)}`],n.edge&&e[`edge${Ue(n.edge)}`],e[`size${Ue(n.size)}`]]}})(Rt(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Rt(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${GP.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${GP.loading}`]:{color:"transparent"}}))),j4e=$e("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),ht=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiIconButton"}),{edge:a=!1,children:i,className:s,color:o="default",disabled:l=!1,disableFocusRipple:u=!1,size:d="medium",id:h,loading:m=null,loadingIndicator:y,...x}=r,v=Rd(h),_=y??c.jsx(Kt,{"aria-labelledby":v,color:"inherit",size:16}),C={...r,edge:a,color:o,disabled:l,disableFocusRipple:u,loading:m,loadingIndicator:_,size:d},w=k4e(C);return c.jsxs(I4e,{id:m?v:h,className:ut(w.root,s),centerRipple:!0,focusRipple:!u,disabled:l||m,ref:n,...x,ownerState:C,children:[typeof m=="boolean"&&c.jsx("span",{className:w.loadingWrapper,style:{display:"contents"},children:c.jsx(j4e,{className:w.loadingIndicator,ownerState:C,children:m&&_})}),i]})}),O4e=mt(c.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),D4e=mt(c.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),N4e=mt(c.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),M4e=mt(c.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),P4e=mt(c.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),L4e=t=>{const{variant:e,color:n,severity:r,classes:a}=t,i={root:["root",`color${Ue(n||r)}`,`${e}${Ue(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return Nt(i,v4e,a)},z4e=$e(Yt,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ue(n.color||n.severity)}`]]}})(Rt(({theme:t})=>{const e=t.palette.mode==="light"?t.darken:t.lighten,n=t.palette.mode==="light"?t.lighten:t.darken;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(rr(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${$P.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(rr(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${$P.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(rr(["dark"])).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)}}}))]}})),F4e=$e("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),B4e=$e("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),H4e=$e("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),qP={success:c.jsx(O4e,{fontSize:"inherit"}),warning:c.jsx(D4e,{fontSize:"inherit"}),error:c.jsx(N4e,{fontSize:"inherit"}),info:c.jsx(M4e,{fontSize:"inherit"})},wt=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiAlert"}),{action:a,children:i,className:s,closeText:o="Close",color:l,components:u={},componentsProps:d={},icon:h,iconMapping:m=qP,onClose:y,role:x="alert",severity:v="success",slotProps:_={},slots:C={},variant:w="standard",...T}=r,E={...r,color:l,severity:v,variant:w,colorSeverity:l||v},k=L4e(E),j={slots:{closeButton:u.CloseButton,closeIcon:u.CloseIcon,...C},slotProps:{...d,..._}},[O,z]=Ht("root",{ref:n,shouldForwardComponentProp:!0,className:ut(k.root,s),elementType:z4e,externalForwardedProps:{...j,...T},ownerState:E,additionalProps:{role:x,elevation:0}}),[M,N]=Ht("icon",{className:k.icon,elementType:F4e,externalForwardedProps:j,ownerState:E}),[U,F]=Ht("message",{className:k.message,elementType:B4e,externalForwardedProps:j,ownerState:E}),[$,D]=Ht("action",{className:k.action,elementType:H4e,externalForwardedProps:j,ownerState:E}),[H,L]=Ht("closeButton",{elementType:ht,externalForwardedProps:j,ownerState:E}),[V,J]=Ht("closeIcon",{elementType:P4e,externalForwardedProps:j,ownerState:E});return c.jsxs(O,{...z,children:[h!==!1?c.jsx(M,{...N,children:h||m[v]||qP[v]}):null,c.jsx(U,{...F,children:i}),a!=null?c.jsx($,{...D,children:a}):null,a==null&&y?c.jsx($,{...D,children:c.jsx(H,{size:"small","aria-label":o,title:o,color:"inherit",onClick:y,...L,children:c.jsx(V,{fontSize:"small",...J})})}):null]})});function U4e(t){return Dt("MuiTypography",t)}const VP=zt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),$4e={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},G4e=dde(),q4e=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:a,variant:i,classes:s}=t,o={root:["root",i,t.align!=="inherit"&&`align${Ue(e)}`,n&&"gutterBottom",r&&"noWrap",a&&"paragraph"]};return Nt(o,U4e,s)},V4e=$e("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Ue(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Rt(({theme:t})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([e,n])=>e!=="inherit"&&n&&typeof n=="object").map(([e,n])=>({props:{variant:e},style:n})),...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${Ue(e)}`},style:{color:(t.vars||t).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),WP={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},ae=A.forwardRef(function(e,n){const{color:r,...a}=Ft({props:e,name:"MuiTypography"}),i=!$4e[r],s=G4e({...a,...i&&{color:r}}),{align:o="inherit",className:l,component:u,gutterBottom:d=!1,noWrap:h=!1,paragraph:m=!1,variant:y="body1",variantMapping:x=WP,...v}=s,_={...s,align:o,color:r,className:l,component:u,gutterBottom:d,noWrap:h,paragraph:m,variant:y,variantMapping:x},C=u||(m?"p":x[y]||WP[y])||"span",w=q4e(_);return c.jsx(V4e,{as:C,ref:n,className:ut(w.root,l),...v,ownerState:_,style:{...o!=="inherit"&&{"--Typography-textAlign":o},...v.style}})});function W4e(t){return Dt("MuiAppBar",t)}zt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Y4e=t=>{const{color:e,position:n,classes:r}=t,a={root:["root",`color${Ue(e)}`,`position${Ue(n)}`]};return Nt(a,W4e,r)},YP=(t,e)=>t?`${t?.replace(")","")}, ${e})`:e,K4e=$e(Yt,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Ue(n.position)}`],e[`color${Ue(n.color)}`]]}})(Rt(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(rr(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(t.vars??t).palette[e].main,"--AppBar-color":(t.vars??t).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?YP(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?YP(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),X4e=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiAppBar"}),{className:a,color:i="primary",enableColorOnDark:s=!1,position:o="fixed",...l}=r,u={...r,color:i,position:o,enableColorOnDark:s},d=Y4e(u);return c.jsx(K4e,{square:!0,component:"header",ownerState:u,elevation:4,className:ut(d.root,a,o==="fixed"&&"mui-fixed"),ref:n,...l})}),dX=t=>{const e=A.useRef({});return A.useEffect(()=>{e.current=t}),e.current};var Xo="top",Oc="bottom",Dc="right",Qo="left",mO="auto",Kv=[Xo,Oc,Dc,Qo],X1="start",av="end",Q4e="clippingParents",fX="viewport",_x="popper",Z4e="reference",KP=Kv.reduce(function(t,e){return t.concat([e+"-"+X1,e+"-"+av])},[]),hX=[].concat(Kv,[mO]).reduce(function(t,e){return t.concat([e,e+"-"+X1,e+"-"+av])},[]),J4e="beforeRead",eCe="read",tCe="afterRead",nCe="beforeMain",rCe="main",aCe="afterMain",iCe="beforeWrite",sCe="write",oCe="afterWrite",lCe=[J4e,eCe,tCe,nCe,rCe,aCe,iCe,sCe,oCe];function kd(t){return t?(t.nodeName||"").toLowerCase():null}function Dl(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function pg(t){var e=Dl(t).Element;return t instanceof e||t instanceof Element}function Ac(t){var e=Dl(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function gO(t){if(typeof ShadowRoot>"u")return!1;var e=Dl(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function cCe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},a=e.attributes[n]||{},i=e.elements[n];!Ac(i)||!kd(i)||(Object.assign(i.style,r),Object.keys(a).forEach(function(s){var o=a[s];o===!1?i.removeAttribute(s):i.setAttribute(s,o===!0?"":o)}))})}function uCe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var a=e.elements[r],i=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),o=s.reduce(function(l,u){return l[u]="",l},{});!Ac(a)||!kd(a)||(Object.assign(a.style,o),Object.keys(i).forEach(function(l){a.removeAttribute(l)}))})}}const dCe={name:"applyStyles",enabled:!0,phase:"write",fn:cCe,effect:uCe,requires:["computeStyles"]};function wd(t){return t.split("-")[0]}var ag=Math.max,lC=Math.min,Q1=Math.round;function Hk(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function pX(){return!/^((?!chrome|android).)*safari/i.test(Hk())}function Z1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),a=1,i=1;e&&Ac(t)&&(a=t.offsetWidth>0&&Q1(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Q1(r.height)/t.offsetHeight||1);var s=pg(t)?Dl(t):window,o=s.visualViewport,l=!pX()&&n,u=(r.left+(l&&o?o.offsetLeft:0))/a,d=(r.top+(l&&o?o.offsetTop:0))/i,h=r.width/a,m=r.height/i;return{width:h,height:m,top:d,right:u+h,bottom:d+m,left:u,x:u,y:d}}function yO(t){var e=Z1(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function mX(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&gO(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function zf(t){return Dl(t).getComputedStyle(t)}function fCe(t){return["table","td","th"].indexOf(kd(t))>=0}function Op(t){return((pg(t)?t.ownerDocument:t.document)||window.document).documentElement}function C5(t){return kd(t)==="html"?t:t.assignedSlot||t.parentNode||(gO(t)?t.host:null)||Op(t)}function XP(t){return!Ac(t)||zf(t).position==="fixed"?null:t.offsetParent}function hCe(t){var e=/firefox/i.test(Hk()),n=/Trident/i.test(Hk());if(n&&Ac(t)){var r=zf(t);if(r.position==="fixed")return null}var a=C5(t);for(gO(a)&&(a=a.host);Ac(a)&&["html","body"].indexOf(kd(a))<0;){var i=zf(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function Xv(t){for(var e=Dl(t),n=XP(t);n&&fCe(n)&&zf(n).position==="static";)n=XP(n);return n&&(kd(n)==="html"||kd(n)==="body"&&zf(n).position==="static")?e:n||hCe(t)||e}function bO(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function C2(t,e,n){return ag(t,lC(e,n))}function pCe(t,e,n){var r=C2(t,e,n);return r>n?n:r}function gX(){return{top:0,right:0,bottom:0,left:0}}function yX(t){return Object.assign({},gX(),t)}function bX(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var mCe=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,yX(typeof e!="number"?e:bX(e,Kv))};function gCe(t){var e,n=t.state,r=t.name,a=t.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,o=wd(n.placement),l=bO(o),u=[Qo,Dc].indexOf(o)>=0,d=u?"height":"width";if(!(!i||!s)){var h=mCe(a.padding,n),m=yO(i),y=l==="y"?Xo:Qo,x=l==="y"?Oc:Dc,v=n.rects.reference[d]+n.rects.reference[l]-s[l]-n.rects.popper[d],_=s[l]-n.rects.reference[l],C=Xv(i),w=C?l==="y"?C.clientHeight||0:C.clientWidth||0:0,T=v/2-_/2,E=h[y],k=w-m[d]-h[x],j=w/2-m[d]/2+T,O=C2(E,j,k),z=l;n.modifiersData[r]=(e={},e[z]=O,e.centerOffset=O-j,e)}}function yCe(t){var e=t.state,n=t.options,r=n.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||mX(e.elements.popper,a)&&(e.elements.arrow=a))}const bCe={name:"arrow",enabled:!0,phase:"main",fn:gCe,effect:yCe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function J1(t){return t.split("-")[1]}var xCe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vCe(t,e){var n=t.x,r=t.y,a=e.devicePixelRatio||1;return{x:Q1(n*a)/a||0,y:Q1(r*a)/a||0}}function QP(t){var e,n=t.popper,r=t.popperRect,a=t.placement,i=t.variation,s=t.offsets,o=t.position,l=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,h=t.isFixed,m=s.x,y=m===void 0?0:m,x=s.y,v=x===void 0?0:x,_=typeof d=="function"?d({x:y,y:v}):{x:y,y:v};y=_.x,v=_.y;var C=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),T=Qo,E=Xo,k=window;if(u){var j=Xv(n),O="clientHeight",z="clientWidth";if(j===Dl(n)&&(j=Op(n),zf(j).position!=="static"&&o==="absolute"&&(O="scrollHeight",z="scrollWidth")),j=j,a===Xo||(a===Qo||a===Dc)&&i===av){E=Oc;var M=h&&j===k&&k.visualViewport?k.visualViewport.height:j[O];v-=M-r.height,v*=l?1:-1}if(a===Qo||(a===Xo||a===Oc)&&i===av){T=Dc;var N=h&&j===k&&k.visualViewport?k.visualViewport.width:j[z];y-=N-r.width,y*=l?1:-1}}var U=Object.assign({position:o},u&&xCe),F=d===!0?vCe({x:y,y:v},Dl(n)):{x:y,y:v};if(y=F.x,v=F.y,l){var $;return Object.assign({},U,($={},$[E]=w?"0":"",$[T]=C?"0":"",$.transform=(k.devicePixelRatio||1)<=1?"translate("+y+"px, "+v+"px)":"translate3d("+y+"px, "+v+"px, 0)",$))}return Object.assign({},U,(e={},e[E]=w?v+"px":"",e[T]=C?y+"px":"",e.transform="",e))}function SCe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,a=r===void 0?!0:r,i=n.adaptive,s=i===void 0?!0:i,o=n.roundOffsets,l=o===void 0?!0:o,u={placement:wd(e.placement),variation:J1(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,QP(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,QP(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const _Ce={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:SCe,data:{}};var b_={passive:!0};function CCe(t){var e=t.state,n=t.instance,r=t.options,a=r.scroll,i=a===void 0?!0:a,s=r.resize,o=s===void 0?!0:s,l=Dl(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(d){d.addEventListener("scroll",n.update,b_)}),o&&l.addEventListener("resize",n.update,b_),function(){i&&u.forEach(function(d){d.removeEventListener("scroll",n.update,b_)}),o&&l.removeEventListener("resize",n.update,b_)}}const wCe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:CCe,data:{}};var ECe={left:"right",right:"left",bottom:"top",top:"bottom"};function k4(t){return t.replace(/left|right|bottom|top/g,function(e){return ECe[e]})}var TCe={start:"end",end:"start"};function ZP(t){return t.replace(/start|end/g,function(e){return TCe[e]})}function xO(t){var e=Dl(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function vO(t){return Z1(Op(t)).left+xO(t).scrollLeft}function ACe(t,e){var n=Dl(t),r=Op(t),a=n.visualViewport,i=r.clientWidth,s=r.clientHeight,o=0,l=0;if(a){i=a.width,s=a.height;var u=pX();(u||!u&&e==="fixed")&&(o=a.offsetLeft,l=a.offsetTop)}return{width:i,height:s,x:o+vO(t),y:l}}function RCe(t){var e,n=Op(t),r=xO(t),a=(e=t.ownerDocument)==null?void 0:e.body,i=ag(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=ag(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),o=-r.scrollLeft+vO(t),l=-r.scrollTop;return zf(a||n).direction==="rtl"&&(o+=ag(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:s,x:o,y:l}}function SO(t){var e=zf(t),n=e.overflow,r=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function xX(t){return["html","body","#document"].indexOf(kd(t))>=0?t.ownerDocument.body:Ac(t)&&SO(t)?t:xX(C5(t))}function w2(t,e){var n;e===void 0&&(e=[]);var r=xX(t),a=r===((n=t.ownerDocument)==null?void 0:n.body),i=Dl(r),s=a?[i].concat(i.visualViewport||[],SO(r)?r:[]):r,o=e.concat(s);return a?o:o.concat(w2(C5(s)))}function Uk(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function kCe(t,e){var n=Z1(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function JP(t,e,n){return e===fX?Uk(ACe(t,n)):pg(e)?kCe(e,n):Uk(RCe(Op(t)))}function ICe(t){var e=w2(C5(t)),n=["absolute","fixed"].indexOf(zf(t).position)>=0,r=n&&Ac(t)?Xv(t):t;return pg(r)?e.filter(function(a){return pg(a)&&mX(a,r)&&kd(a)!=="body"}):[]}function jCe(t,e,n,r){var a=e==="clippingParents"?ICe(t):[].concat(e),i=[].concat(a,[n]),s=i[0],o=i.reduce(function(l,u){var d=JP(t,u,r);return l.top=ag(d.top,l.top),l.right=lC(d.right,l.right),l.bottom=lC(d.bottom,l.bottom),l.left=ag(d.left,l.left),l},JP(t,s,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function vX(t){var e=t.reference,n=t.element,r=t.placement,a=r?wd(r):null,i=r?J1(r):null,s=e.x+e.width/2-n.width/2,o=e.y+e.height/2-n.height/2,l;switch(a){case Xo:l={x:s,y:e.y-n.height};break;case Oc:l={x:s,y:e.y+e.height};break;case Dc:l={x:e.x+e.width,y:o};break;case Qo:l={x:e.x-n.width,y:o};break;default:l={x:e.x,y:e.y}}var u=a?bO(a):null;if(u!=null){var d=u==="y"?"height":"width";switch(i){case X1:l[u]=l[u]-(e[d]/2-n[d]/2);break;case av:l[u]=l[u]+(e[d]/2-n[d]/2);break}}return l}function iv(t,e){e===void 0&&(e={});var n=e,r=n.placement,a=r===void 0?t.placement:r,i=n.strategy,s=i===void 0?t.strategy:i,o=n.boundary,l=o===void 0?Q4e:o,u=n.rootBoundary,d=u===void 0?fX:u,h=n.elementContext,m=h===void 0?_x:h,y=n.altBoundary,x=y===void 0?!1:y,v=n.padding,_=v===void 0?0:v,C=yX(typeof _!="number"?_:bX(_,Kv)),w=m===_x?Z4e:_x,T=t.rects.popper,E=t.elements[x?w:m],k=jCe(pg(E)?E:E.contextElement||Op(t.elements.popper),l,d,s),j=Z1(t.elements.reference),O=vX({reference:j,element:T,placement:a}),z=Uk(Object.assign({},T,O)),M=m===_x?z:j,N={top:k.top-M.top+C.top,bottom:M.bottom-k.bottom+C.bottom,left:k.left-M.left+C.left,right:M.right-k.right+C.right},U=t.modifiersData.offset;if(m===_x&&U){var F=U[a];Object.keys(N).forEach(function($){var D=[Dc,Oc].indexOf($)>=0?1:-1,H=[Xo,Oc].indexOf($)>=0?"y":"x";N[$]+=F[H]*D})}return N}function OCe(t,e){e===void 0&&(e={});var n=e,r=n.placement,a=n.boundary,i=n.rootBoundary,s=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?hX:l,d=J1(r),h=d?o?KP:KP.filter(function(x){return J1(x)===d}):Kv,m=h.filter(function(x){return u.indexOf(x)>=0});m.length===0&&(m=h);var y=m.reduce(function(x,v){return x[v]=iv(t,{placement:v,boundary:a,rootBoundary:i,padding:s})[wd(v)],x},{});return Object.keys(y).sort(function(x,v){return y[x]-y[v]})}function DCe(t){if(wd(t)===mO)return[];var e=k4(t);return[ZP(t),e,ZP(e)]}function NCe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var a=n.mainAxis,i=a===void 0?!0:a,s=n.altAxis,o=s===void 0?!0:s,l=n.fallbackPlacements,u=n.padding,d=n.boundary,h=n.rootBoundary,m=n.altBoundary,y=n.flipVariations,x=y===void 0?!0:y,v=n.allowedAutoPlacements,_=e.options.placement,C=wd(_),w=C===_,T=l||(w||!x?[k4(_)]:DCe(_)),E=[_].concat(T).reduce(function(ne,re){return ne.concat(wd(re)===mO?OCe(e,{placement:re,boundary:d,rootBoundary:h,padding:u,flipVariations:x,allowedAutoPlacements:v}):re)},[]),k=e.rects.reference,j=e.rects.popper,O=new Map,z=!0,M=E[0],N=0;N<E.length;N++){var U=E[N],F=wd(U),$=J1(U)===X1,D=[Xo,Oc].indexOf(F)>=0,H=D?"width":"height",L=iv(e,{placement:U,boundary:d,rootBoundary:h,altBoundary:m,padding:u}),V=D?$?Dc:Qo:$?Oc:Xo;k[H]>j[H]&&(V=k4(V));var J=k4(V),Q=[];if(i&&Q.push(L[F]<=0),o&&Q.push(L[V]<=0,L[J]<=0),Q.every(function(ne){return ne})){M=U,z=!1;break}O.set(U,Q)}if(z)for(var K=x?3:1,q=function(re){var ie=E.find(function(ce){var he=O.get(ce);if(he)return he.slice(0,re).every(function(me){return me})});if(ie)return M=ie,"break"},Z=K;Z>0;Z--){var Y=q(Z);if(Y==="break")break}e.placement!==M&&(e.modifiersData[r]._skip=!0,e.placement=M,e.reset=!0)}}const MCe={name:"flip",enabled:!0,phase:"main",fn:NCe,requiresIfExists:["offset"],data:{_skip:!1}};function eL(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function tL(t){return[Xo,Dc,Oc,Qo].some(function(e){return t[e]>=0})}function PCe(t){var e=t.state,n=t.name,r=e.rects.reference,a=e.rects.popper,i=e.modifiersData.preventOverflow,s=iv(e,{elementContext:"reference"}),o=iv(e,{altBoundary:!0}),l=eL(s,r),u=eL(o,a,i),d=tL(l),h=tL(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const LCe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:PCe};function zCe(t,e,n){var r=wd(t),a=[Qo,Xo].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=i[0],o=i[1];return s=s||0,o=(o||0)*a,[Qo,Dc].indexOf(r)>=0?{x:o,y:s}:{x:s,y:o}}function FCe(t){var e=t.state,n=t.options,r=t.name,a=n.offset,i=a===void 0?[0,0]:a,s=hX.reduce(function(d,h){return d[h]=zCe(h,e.rects,i),d},{}),o=s[e.placement],l=o.x,u=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}const BCe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:FCe};function HCe(t){var e=t.state,n=t.name;e.modifiersData[n]=vX({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const UCe={name:"popperOffsets",enabled:!0,phase:"read",fn:HCe,data:{}};function $Ce(t){return t==="x"?"y":"x"}function GCe(t){var e=t.state,n=t.options,r=t.name,a=n.mainAxis,i=a===void 0?!0:a,s=n.altAxis,o=s===void 0?!1:s,l=n.boundary,u=n.rootBoundary,d=n.altBoundary,h=n.padding,m=n.tether,y=m===void 0?!0:m,x=n.tetherOffset,v=x===void 0?0:x,_=iv(e,{boundary:l,rootBoundary:u,padding:h,altBoundary:d}),C=wd(e.placement),w=J1(e.placement),T=!w,E=bO(C),k=$Ce(E),j=e.modifiersData.popperOffsets,O=e.rects.reference,z=e.rects.popper,M=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,N=typeof M=="number"?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),U=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(j){if(i){var $,D=E==="y"?Xo:Qo,H=E==="y"?Oc:Dc,L=E==="y"?"height":"width",V=j[E],J=V+_[D],Q=V-_[H],K=y?-z[L]/2:0,q=w===X1?O[L]:z[L],Z=w===X1?-z[L]:-O[L],Y=e.elements.arrow,ne=y&&Y?yO(Y):{width:0,height:0},re=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:gX(),ie=re[D],ce=re[H],he=C2(0,O[L],ne[L]),me=T?O[L]/2-K-he-ie-N.mainAxis:q-he-ie-N.mainAxis,le=T?-O[L]/2+K+he+ce+N.mainAxis:Z+he+ce+N.mainAxis,de=e.elements.arrow&&Xv(e.elements.arrow),pe=de?E==="y"?de.clientTop||0:de.clientLeft||0:0,ve=($=U?.[E])!=null?$:0,ge=V+me-ve-pe,oe=V+le-ve,Se=C2(y?lC(J,ge):J,V,y?ag(Q,oe):Q);j[E]=Se,F[E]=Se-V}if(o){var be,Ae=E==="x"?Xo:Qo,Me=E==="x"?Oc:Dc,Pe=j[k],Le=k==="y"?"height":"width",Oe=Pe+_[Ae],Xe=Pe-_[Me],ke=[Xo,Qo].indexOf(C)!==-1,Ie=(be=U?.[k])!=null?be:0,ye=ke?Oe:Pe-O[Le]-z[Le]-Ie+N.altAxis,Ce=ke?Pe+O[Le]+z[Le]-Ie-N.altAxis:Xe,Ne=y&&ke?pCe(ye,Pe,Ce):C2(y?ye:Oe,Pe,y?Ce:Xe);j[k]=Ne,F[k]=Ne-Pe}e.modifiersData[r]=F}}const qCe={name:"preventOverflow",enabled:!0,phase:"main",fn:GCe,requiresIfExists:["offset"]};function VCe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function WCe(t){return t===Dl(t)||!Ac(t)?xO(t):VCe(t)}function YCe(t){var e=t.getBoundingClientRect(),n=Q1(e.width)/t.offsetWidth||1,r=Q1(e.height)/t.offsetHeight||1;return n!==1||r!==1}function KCe(t,e,n){n===void 0&&(n=!1);var r=Ac(e),a=Ac(e)&&YCe(e),i=Op(e),s=Z1(t,a,n),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((kd(e)!=="body"||SO(i))&&(o=WCe(e)),Ac(e)?(l=Z1(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=vO(i))),{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function XCe(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function a(i){n.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(o){if(!n.has(o)){var l=e.get(o);l&&a(l)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||a(i)}),r}function QCe(t){var e=XCe(t);return lCe.reduce(function(n,r){return n.concat(e.filter(function(a){return a.phase===r}))},[])}function ZCe(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function JCe(t){var e=t.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var nL={placement:"bottom",modifiers:[],strategy:"absolute"};function rL(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function e5e(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,a=e.defaultOptions,i=a===void 0?nL:a;return function(o,l,u){u===void 0&&(u=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},nL,i),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},h=[],m=!1,y={state:d,setOptions:function(C){var w=typeof C=="function"?C(d.options):C;v(),d.options=Object.assign({},i,d.options,w),d.scrollParents={reference:pg(o)?w2(o):o.contextElement?w2(o.contextElement):[],popper:w2(l)};var T=QCe(JCe([].concat(r,d.options.modifiers)));return d.orderedModifiers=T.filter(function(E){return E.enabled}),x(),y.update()},forceUpdate:function(){if(!m){var C=d.elements,w=C.reference,T=C.popper;if(rL(w,T)){d.rects={reference:KCe(w,Xv(T),d.options.strategy==="fixed"),popper:yO(T)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(N){return d.modifiersData[N.name]=Object.assign({},N.data)});for(var E=0;E<d.orderedModifiers.length;E++){if(d.reset===!0){d.reset=!1,E=-1;continue}var k=d.orderedModifiers[E],j=k.fn,O=k.options,z=O===void 0?{}:O,M=k.name;typeof j=="function"&&(d=j({state:d,options:z,name:M,instance:y})||d)}}}},update:ZCe(function(){return new Promise(function(_){y.forceUpdate(),_(d)})}),destroy:function(){v(),m=!0}};if(!rL(o,l))return y;y.setOptions(u).then(function(_){!m&&u.onFirstUpdate&&u.onFirstUpdate(_)});function x(){d.orderedModifiers.forEach(function(_){var C=_.name,w=_.options,T=w===void 0?{}:w,E=_.effect;if(typeof E=="function"){var k=E({state:d,name:C,instance:y,options:T}),j=function(){};h.push(k||j)}})}function v(){h.forEach(function(_){return _()}),h=[]}return y}}var t5e=[wCe,UCe,_Ce,dCe,BCe,MCe,qCe,bCe,LCe],n5e=e5e({defaultModifiers:t5e});function go(t){const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:a=!1,...i}=t,s=a?{}:cX(n,r),{props:o,internalRef:l}=uX({...i,externalSlotProps:s}),u=aa(l,s?.ref,t.additionalProps?.ref);return lX(e,{...o,ref:u},r)}function Dp(t){return parseInt(A.version,10)>=19?t?.props?.ref||null:t?.ref||null}function r5e(t){return typeof t=="function"?t():t}const SX=A.forwardRef(function(e,n){const{children:r,container:a,disablePortal:i=!1}=e,[s,o]=A.useState(null),l=aa(A.isValidElement(r)?Dp(r):null,n);if(Ys(()=>{i||o(r5e(a)||document.body)},[a,i]),Ys(()=>{if(s&&!i)return FP(n,s),()=>{FP(n,null)}},[n,s,i]),i){if(A.isValidElement(r)){const u={ref:l};return A.cloneElement(r,u)}return r}return s&&Bm.createPortal(r,s)});function a5e(t){return Dt("MuiPopper",t)}zt("MuiPopper",["root"]);function i5e(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function $k(t){return typeof t=="function"?t():t}function s5e(t){return t.nodeType!==void 0}const o5e=t=>{const{classes:e}=t;return Nt({root:["root"]},a5e,e)},l5e={},c5e=A.forwardRef(function(e,n){const{anchorEl:r,children:a,direction:i,disablePortal:s,modifiers:o,open:l,placement:u,popperOptions:d,popperRef:h,slotProps:m={},slots:y={},TransitionProps:x,ownerState:v,..._}=e,C=A.useRef(null),w=aa(C,n),T=A.useRef(null),E=aa(T,h),k=A.useRef(E);Ys(()=>{k.current=E},[E]),A.useImperativeHandle(h,()=>T.current,[]);const j=i5e(u,i),[O,z]=A.useState(j),[M,N]=A.useState($k(r));A.useEffect(()=>{T.current&&T.current.forceUpdate()}),A.useEffect(()=>{r&&N($k(r))},[r]),Ys(()=>{if(!M||!l)return;const H=J=>{z(J.placement)};let L=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:J})=>{H(J)}}];o!=null&&(L=L.concat(o)),d&&d.modifiers!=null&&(L=L.concat(d.modifiers));const V=n5e(M,C.current,{placement:j,...d,modifiers:L});return k.current(V),()=>{V.destroy(),k.current(null)}},[M,s,o,l,d,j]);const U={placement:O};x!==null&&(U.TransitionProps=x);const F=o5e(e),$=y.root??"div",D=go({elementType:$,externalSlotProps:m.root,externalForwardedProps:_,additionalProps:{role:"tooltip",ref:w},ownerState:e,className:F.root});return c.jsx($,{...D,children:typeof a=="function"?a(U):a})}),u5e=A.forwardRef(function(e,n){const{anchorEl:r,children:a,container:i,direction:s="ltr",disablePortal:o=!1,keepMounted:l=!1,modifiers:u,open:d,placement:h="bottom",popperOptions:m=l5e,popperRef:y,style:x,transition:v=!1,slotProps:_={},slots:C={},...w}=e,[T,E]=A.useState(!0),k=()=>{E(!1)},j=()=>{E(!0)};if(!l&&!d&&(!v||T))return null;let O;if(i)O=i;else if(r){const N=$k(r);O=N&&s5e(N)?ci(N).body:ci(null).body}const z=!d&&l&&(!v||T)?"none":void 0,M=v?{in:d,onEnter:k,onExited:j}:void 0;return c.jsx(SX,{disablePortal:o,container:O,children:c.jsx(c5e,{anchorEl:r,direction:s,disablePortal:o,modifiers:u,ref:n,open:v?!T:d,placement:h,popperOptions:m,popperRef:y,slotProps:_,slots:C,...w,style:{position:"fixed",top:0,left:0,display:z,...x},TransitionProps:M,children:a})})}),d5e=$e(u5e,{name:"MuiPopper",slot:"Root"})({}),_X=A.forwardRef(function(e,n){const r=Md(),a=Ft({props:e,name:"MuiPopper"}),{anchorEl:i,component:s,components:o,componentsProps:l,container:u,disablePortal:d,keepMounted:h,modifiers:m,open:y,placement:x,popperOptions:v,popperRef:_,transition:C,slots:w,slotProps:T,...E}=a,k=w?.root??o?.Root,j={anchorEl:i,container:u,disablePortal:d,keepMounted:h,modifiers:m,open:y,placement:x,popperOptions:v,popperRef:_,transition:C,...E};return c.jsx(d5e,{as:s,direction:r?"rtl":"ltr",slots:{root:k},slotProps:T??l,...j,ref:n})}),f5e=mt(c.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function h5e(t){return Dt("MuiChip",t)}const Jn=zt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),p5e=t=>{const{classes:e,disabled:n,size:r,color:a,iconColor:i,onDelete:s,clickable:o,variant:l}=t,u={root:["root",l,n&&"disabled",`size${Ue(r)}`,`color${Ue(a)}`,o&&"clickable",o&&`clickableColor${Ue(a)}`,s&&"deletable",s&&`deletableColor${Ue(a)}`,`${l}${Ue(a)}`],label:["label",`label${Ue(r)}`],avatar:["avatar",`avatar${Ue(r)}`,`avatarColor${Ue(a)}`],icon:["icon",`icon${Ue(r)}`,`iconColor${Ue(i)}`],deleteIcon:["deleteIcon",`deleteIcon${Ue(r)}`,`deleteIconColor${Ue(a)}`,`deleteIcon${Ue(l)}Color${Ue(a)}`]};return Nt(u,h5e,e)},m5e=$e("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:a,clickable:i,onDelete:s,size:o,variant:l}=n;return[{[`& .${Jn.avatar}`]:e.avatar},{[`& .${Jn.avatar}`]:e[`avatar${Ue(o)}`]},{[`& .${Jn.avatar}`]:e[`avatarColor${Ue(r)}`]},{[`& .${Jn.icon}`]:e.icon},{[`& .${Jn.icon}`]:e[`icon${Ue(o)}`]},{[`& .${Jn.icon}`]:e[`iconColor${Ue(a)}`]},{[`& .${Jn.deleteIcon}`]:e.deleteIcon},{[`& .${Jn.deleteIcon}`]:e[`deleteIcon${Ue(o)}`]},{[`& .${Jn.deleteIcon}`]:e[`deleteIconColor${Ue(r)}`]},{[`& .${Jn.deleteIcon}`]:e[`deleteIcon${Ue(l)}Color${Ue(r)}`]},e.root,e[`size${Ue(o)}`],e[`color${Ue(r)}`],i&&e.clickable,i&&r!=="default"&&e[`clickableColor${Ue(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${Ue(r)}`],e[l],e[`${l}${Ue(r)}`]]}})(Rt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Jn.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Jn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${Jn.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Jn.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Jn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Jn.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Jn.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.alpha((t.vars||t).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.alpha((t.vars||t).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Jn.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Jn.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(rr(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${Jn.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${Jn.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${Jn.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Jn.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}},...Object.entries(t.palette).filter(rr(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${Jn.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)},[`&.${Jn.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(rr(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${Jn.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Jn.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Jn.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Jn.avatar}`]:{marginLeft:4},[`& .${Jn.avatarSmall}`]:{marginLeft:2},[`& .${Jn.icon}`]:{marginLeft:4},[`& .${Jn.iconSmall}`]:{marginLeft:2},[`& .${Jn.deleteIcon}`]:{marginRight:5},[`& .${Jn.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(rr()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.alpha((t.vars||t).palette[n].main,.7)}`,[`&.${Jn.clickable}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)},[`&.${Jn.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.focusOpacity)},[`& .${Jn.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}))]}})),g5e=$e("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${Ue(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function aL(t){return t.key==="Backspace"||t.key==="Delete"}const gt=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiChip"}),{avatar:a,className:i,clickable:s,color:o="default",component:l,deleteIcon:u,disabled:d=!1,icon:h,label:m,onClick:y,onDelete:x,onKeyDown:v,onKeyUp:_,size:C="medium",variant:w="filled",tabIndex:T,skipFocusWhenDisabled:E=!1,slots:k={},slotProps:j={},...O}=r,z=A.useRef(null),M=aa(z,n),N=ie=>{ie.stopPropagation(),x&&x(ie)},U=ie=>{ie.currentTarget===ie.target&&aL(ie)&&ie.preventDefault(),v&&v(ie)},F=ie=>{ie.currentTarget===ie.target&&x&&aL(ie)&&x(ie),_&&_(ie)},$=s!==!1&&y?!0:s,D=$||x?xo:l||"div",H={...r,component:D,disabled:d,size:C,color:o,iconColor:A.isValidElement(h)&&h.props.color||o,onDelete:!!x,clickable:$,variant:w},L=p5e(H),V=D===xo?{component:l||"div",focusVisibleClassName:L.focusVisible,...x&&{disableRipple:!0}}:{};let J=null;x&&(J=u&&A.isValidElement(u)?A.cloneElement(u,{className:ut(u.props.className,L.deleteIcon),onClick:N}):c.jsx(f5e,{className:L.deleteIcon,onClick:N}));let Q=null;a&&A.isValidElement(a)&&(Q=A.cloneElement(a,{className:ut(L.avatar,a.props.className)}));let K=null;h&&A.isValidElement(h)&&(K=A.cloneElement(h,{className:ut(L.icon,h.props.className)}));const q={slots:k,slotProps:j},[Z,Y]=Ht("root",{elementType:m5e,externalForwardedProps:{...q,...O},ownerState:H,shouldForwardComponentProp:!0,ref:M,className:ut(L.root,i),additionalProps:{disabled:$&&d?!0:void 0,tabIndex:E&&d?-1:T,...V},getSlotProps:ie=>({...ie,onClick:ce=>{ie.onClick?.(ce),y?.(ce)},onKeyDown:ce=>{ie.onKeyDown?.(ce),U(ce)},onKeyUp:ce=>{ie.onKeyUp?.(ce),F(ce)}})}),[ne,re]=Ht("label",{elementType:g5e,externalForwardedProps:q,ownerState:H,className:L.label});return c.jsxs(Z,{as:D,...Y,children:[Q||K,c.jsx(ne,{...re,children:m}),J]})});function x_(t){return parseInt(t,10)||0}const y5e={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function b5e(t){for(const e in t)return!1;return!0}function iL(t){return b5e(t)||t.outerHeightStyle===0&&!t.overflowing}const x5e=A.forwardRef(function(e,n){const{onChange:r,maxRows:a,minRows:i=1,style:s,value:o,...l}=e,{current:u}=A.useRef(o!=null),d=A.useRef(null),h=aa(n,d),m=A.useRef(null),y=A.useRef(null),x=A.useCallback(()=>{const T=d.current,E=y.current;if(!T||!E)return;const j=Ol(T).getComputedStyle(T);if(j.width==="0px")return{outerHeightStyle:0,overflowing:!1};E.style.width=j.width,E.value=T.value||e.placeholder||"x",E.value.slice(-1)===`
`&&(E.value+=" ");const O=j.boxSizing,z=x_(j.paddingBottom)+x_(j.paddingTop),M=x_(j.borderBottomWidth)+x_(j.borderTopWidth),N=E.scrollHeight;E.value="x";const U=E.scrollHeight;let F=N;i&&(F=Math.max(Number(i)*U,F)),a&&(F=Math.min(Number(a)*U,F)),F=Math.max(F,U);const $=F+(O==="border-box"?z+M:0),D=Math.abs(F-N)<=1;return{outerHeightStyle:$,overflowing:D}},[a,i,e.placeholder]),v=Ji(()=>{const T=d.current,E=x();if(!T||!E||iL(E))return!1;const k=E.outerHeightStyle;return m.current!=null&&m.current!==k}),_=A.useCallback(()=>{const T=d.current,E=x();if(!T||!E||iL(E))return;const k=E.outerHeightStyle;m.current!==k&&(m.current=k,T.style.height=`${k}px`),T.style.overflow=E.overflowing?"hidden":""},[x]),C=A.useRef(-1);Ys(()=>{const T=Yv(_),E=d?.current;if(!E)return;const k=Ol(E);k.addEventListener("resize",T);let j;return typeof ResizeObserver<"u"&&(j=new ResizeObserver(()=>{v()&&(j.unobserve(E),cancelAnimationFrame(C.current),_(),C.current=requestAnimationFrame(()=>{j.observe(E)}))}),j.observe(E)),()=>{T.clear(),cancelAnimationFrame(C.current),k.removeEventListener("resize",T),j&&j.disconnect()}},[x,_,v]),Ys(()=>{_()});const w=T=>{u||_();const E=T.target,k=E.value.length,j=E.value.endsWith(`
`),O=E.selectionStart===k;j&&O&&E.setSelectionRange(k,k),r&&r(T)};return c.jsxs(A.Fragment,{children:[c.jsx("textarea",{value:o,onChange:w,ref:h,rows:i,style:s,...l}),c.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:y,tabIndex:-1,style:{...y5e.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function Np({props:t,states:e,muiFormControl:n}){return e.reduce((r,a)=>(r[a]=t[a],n&&typeof t[a]>"u"&&(r[a]=n[a]),r),{})}const w5=A.createContext(void 0);function wu(){return A.useContext(w5)}function sL(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function cC(t,e=!1){return t&&(sL(t.value)&&t.value!==""||e&&sL(t.defaultValue)&&t.defaultValue!=="")}function v5e(t){return t.startAdornment}function S5e(t){return Dt("MuiInputBase",t)}const ey=zt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var oL;const E5=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Ue(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},T5=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},_5e=t=>{const{classes:e,color:n,disabled:r,error:a,endAdornment:i,focused:s,formControl:o,fullWidth:l,hiddenLabel:u,multiline:d,readOnly:h,size:m,startAdornment:y,type:x}=t,v={root:["root",`color${Ue(n)}`,r&&"disabled",a&&"error",l&&"fullWidth",s&&"focused",o&&"formControl",m&&m!=="medium"&&`size${Ue(m)}`,d&&"multiline",y&&"adornedStart",i&&"adornedEnd",u&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled",x==="search"&&"inputTypeSearch",d&&"inputMultiline",m==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",y&&"inputAdornedStart",i&&"inputAdornedEnd",h&&"readOnly"]};return Nt(v,S5e,e)},A5=$e("div",{name:"MuiInputBase",slot:"Root",overridesResolver:E5})(Rt(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ey.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),R5=$e("input",{name:"MuiInputBase",slot:"Input",overridesResolver:T5})(Rt(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},a=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ey.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${ey.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:i})=>!i.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:i})=>i.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),lL=sO({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),k5=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiInputBase"}),{"aria-describedby":a,autoComplete:i,autoFocus:s,className:o,color:l,components:u={},componentsProps:d={},defaultValue:h,disabled:m,disableInjectingGlobalStyles:y,endAdornment:x,error:v,fullWidth:_=!1,id:C,inputComponent:w="input",inputProps:T={},inputRef:E,margin:k,maxRows:j,minRows:O,multiline:z=!1,name:M,onBlur:N,onChange:U,onClick:F,onFocus:$,onKeyDown:D,onKeyUp:H,placeholder:L,readOnly:V,renderSuffix:J,rows:Q,size:K,slotProps:q={},slots:Z={},startAdornment:Y,type:ne="text",value:re,...ie}=r,ce=T.value!=null?T.value:re,{current:he}=A.useRef(ce!=null),me=A.useRef(),le=A.useCallback(Je=>{},[]),de=aa(me,E,T.ref,le),[pe,ve]=A.useState(!1),ge=wu(),oe=Np({props:r,muiFormControl:ge,states:["color","disabled","error","hiddenLabel","size","required","filled"]});oe.focused=ge?ge.focused:pe,A.useEffect(()=>{!ge&&m&&pe&&(ve(!1),N&&N())},[ge,m,pe,N]);const Se=ge&&ge.onFilled,be=ge&&ge.onEmpty,Ae=A.useCallback(Je=>{cC(Je)?Se&&Se():be&&be()},[Se,be]);Ys(()=>{he&&Ae({value:ce})},[ce,Ae,he]);const Me=Je=>{$&&$(Je),T.onFocus&&T.onFocus(Je),ge&&ge.onFocus?ge.onFocus(Je):ve(!0)},Pe=Je=>{N&&N(Je),T.onBlur&&T.onBlur(Je),ge&&ge.onBlur?ge.onBlur(Je):ve(!1)},Le=(Je,...Ge)=>{if(!he){const it=Je.target||me.current;if(it==null)throw new Error(Lf(1));Ae({value:it.value})}T.onChange&&T.onChange(Je,...Ge),U&&U(Je,...Ge)};A.useEffect(()=>{Ae(me.current)},[]);const Oe=Je=>{me.current&&Je.currentTarget===Je.target&&me.current.focus(),F&&F(Je)};let Xe=w,ke=T;z&&Xe==="input"&&(Q?ke={type:void 0,minRows:Q,maxRows:Q,...ke}:ke={type:void 0,maxRows:j,minRows:O,...ke},Xe=x5e);const Ie=Je=>{Ae(Je.animationName==="mui-auto-fill-cancel"?me.current:{value:"x"})};A.useEffect(()=>{ge&&ge.setAdornedStart(!!Y)},[ge,Y]);const ye={...r,color:oe.color||"primary",disabled:oe.disabled,endAdornment:x,error:oe.error,focused:oe.focused,formControl:ge,fullWidth:_,hiddenLabel:oe.hiddenLabel,multiline:z,size:oe.size,startAdornment:Y,type:ne},Ce=_5e(ye),Ne=Z.root||u.Root||A5,Be=q.root||d.root||{},Ke=Z.input||u.Input||R5;return ke={...ke,...q.input??d.input},c.jsxs(A.Fragment,{children:[!y&&typeof lL=="function"&&(oL||(oL=c.jsx(lL,{}))),c.jsxs(Ne,{...Be,ref:n,onClick:Oe,...ie,...!Cd(Ne)&&{ownerState:{...ye,...Be.ownerState}},className:ut(Ce.root,Be.className,o,V&&"MuiInputBase-readOnly"),children:[Y,c.jsx(w5.Provider,{value:null,children:c.jsx(Ke,{"aria-invalid":oe.error,"aria-describedby":a,autoComplete:i,autoFocus:s,defaultValue:h,disabled:oe.disabled,id:C,onAnimationStart:Ie,name:M,placeholder:L,readOnly:V,required:oe.required,rows:Q,value:ce,onKeyDown:D,onKeyUp:H,type:ne,...ke,...!Cd(Ke)&&{as:Xe,ownerState:{...ye,...ke.ownerState}},ref:de,className:ut(Ce.input,ke.className,V&&"MuiInputBase-readOnly"),onBlur:Pe,onChange:Le,onFocus:Me})}),x,J?J({...oe,startAdornment:Y}):null]})]})});function C5e(t){return Dt("MuiInput",t)}const Cx={...ey,...zt("MuiInput",["root","underline","input"])};function w5e(t){return Dt("MuiOutlinedInput",t)}const od={...ey,...zt("MuiOutlinedInput",["root","notchedOutline","input"])};function E5e(t){return Dt("MuiFilledInput",t)}const Em={...ey,...zt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},T5e=mt(c.jsx("path",{d:"M7 10l5 5 5-5z"})),A5e={entering:{opacity:1},entered:{opacity:1}},Gk=A.forwardRef(function(e,n){const r=rs(),a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:s=!0,children:o,easing:l,in:u,onEnter:d,onEntered:h,onEntering:m,onExit:y,onExited:x,onExiting:v,style:_,timeout:C=a,TransitionComponent:w=Pc,...T}=e,E=A.useRef(null),k=aa(E,Dp(o),n),j=D=>H=>{if(D){const L=E.current;H===void 0?D(L):D(L,H)}},O=j(m),z=j((D,H)=>{pO(D);const L=Ep({style:_,timeout:C,easing:l},{mode:"enter"});D.style.webkitTransition=r.transitions.create("opacity",L),D.style.transition=r.transitions.create("opacity",L),d&&d(D,H)}),M=j(h),N=j(v),U=j(D=>{const H=Ep({style:_,timeout:C,easing:l},{mode:"exit"});D.style.webkitTransition=r.transitions.create("opacity",H),D.style.transition=r.transitions.create("opacity",H),y&&y(D)}),F=j(x),$=D=>{i&&i(E.current,D)};return c.jsx(w,{appear:s,in:u,nodeRef:E,onEnter:z,onEntered:M,onEntering:O,onExit:U,onExited:F,onExiting:N,addEndListener:$,timeout:C,...T,children:(D,{ownerState:H,...L})=>A.cloneElement(o,{style:{opacity:0,visibility:D==="exited"&&!u?"hidden":void 0,...A5e[D],..._,...o.props.style},ref:k,...L})})});function R5e(t){return Dt("MuiBackdrop",t)}zt("MuiBackdrop",["root","invisible"]);const k5e=t=>{const{classes:e,invisible:n}=t;return Nt({root:["root",n&&"invisible"]},R5e,e)},I5e=$e("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),CX=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiBackdrop"}),{children:a,className:i,component:s="div",invisible:o=!1,open:l,components:u={},componentsProps:d={},slotProps:h={},slots:m={},TransitionComponent:y,transitionDuration:x,...v}=r,_={...r,component:s,invisible:o},C=k5e(_),w={transition:y,root:u.Root,...m},T={...d,...h},E={component:s,slots:w,slotProps:T},[k,j]=Ht("root",{elementType:I5e,externalForwardedProps:E,className:ut(C.root,i),ownerState:_}),[O,z]=Ht("transition",{elementType:Gk,externalForwardedProps:E,ownerState:_});return c.jsx(O,{in:l,timeout:x,...v,...z,children:c.jsx(k,{"aria-hidden":!0,...j,classes:C,ref:n,children:a})})});function j5e(t){const{badgeContent:e,invisible:n=!1,max:r=99,showZero:a=!1}=t,i=dX({badgeContent:e,max:r});let s=n;n===!1&&e===0&&!a&&(s=!0);const{badgeContent:o,max:l=r}=s?i:t,u=o&&Number(o)>l?`${l}+`:o;return{badgeContent:o,invisible:s,max:l,displayValue:u}}function O5e(t){return Dt("MuiBadge",t)}const zh=zt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),eT=10,tT=4,D5e=t=>{const{color:e,anchorOrigin:n,invisible:r,overlap:a,variant:i,classes:s={}}=t,o={root:["root"],badge:["badge",i,r&&"invisible",`anchorOrigin${Ue(n.vertical)}${Ue(n.horizontal)}`,`anchorOrigin${Ue(n.vertical)}${Ue(n.horizontal)}${Ue(a)}`,`overlap${Ue(a)}`,e!=="default"&&`color${Ue(e)}`]};return Nt(o,O5e,s)},N5e=$e("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),M5e=$e("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.badge,e[n.variant],e[`anchorOrigin${Ue(n.anchorOrigin.vertical)}${Ue(n.anchorOrigin.horizontal)}${Ue(n.overlap)}`],n.color!=="default"&&e[`color${Ue(n.color)}`],n.invisible&&e.invisible]}})(Rt(({theme:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:eT*2,lineHeight:1,padding:"0 6px",height:eT*2,borderRadius:eT,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(rr(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}})),{props:{variant:"dot"},style:{borderRadius:tT,height:tT*2,minWidth:tT*2,padding:0}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${zh.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${zh.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${zh.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${zh.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${zh.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${zh.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${zh.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${zh.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]})));function cL(t){return{vertical:t?.vertical??"top",horizontal:t?.horizontal??"right"}}const uL=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiBadge"}),{anchorOrigin:a,className:i,classes:s,component:o,components:l={},componentsProps:u={},children:d,overlap:h="rectangular",color:m="default",invisible:y=!1,max:x=99,badgeContent:v,slots:_,slotProps:C,showZero:w=!1,variant:T="standard",...E}=r,{badgeContent:k,invisible:j,max:O,displayValue:z}=j5e({max:x,invisible:y,badgeContent:v,showZero:w}),M=dX({anchorOrigin:cL(a),color:m,overlap:h,variant:T,badgeContent:v}),N=j||k==null&&T!=="dot",{color:U=m,overlap:F=h,anchorOrigin:$,variant:D=T}=N?M:r,H=cL($),L=D!=="dot"?z:void 0,V={...r,badgeContent:k,invisible:N,max:O,displayValue:L,showZero:w,anchorOrigin:H,color:U,overlap:F,variant:D},J=D5e(V),Q={slots:{root:_?.root??l.Root,badge:_?.badge??l.Badge},slotProps:{root:C?.root??u.root,badge:C?.badge??u.badge}},[K,q]=Ht("root",{elementType:N5e,externalForwardedProps:{...Q,...E},ownerState:V,className:ut(J.root,i),ref:n,additionalProps:{as:o}}),[Z,Y]=Ht("badge",{elementType:M5e,externalForwardedProps:Q,ownerState:V,className:J.badge});return c.jsxs(K,{...q,children:[d,c.jsx(Z,{...Y,children:L})]})}),P5e=zt("MuiBox",["root"]),L5e=x5(),ee=xce({themeId:hu,defaultTheme:L5e,defaultClassName:P5e.root,generateClassName:fK.generate}),z5e=mt(c.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),F5e=$e(xo,{name:"MuiBreadcrumbCollapsed"})(Rt(({theme:t})=>({display:"flex",marginLeft:`calc(${t.spacing(1)} * 0.5)`,marginRight:`calc(${t.spacing(1)} * 0.5)`,...t.palette.mode==="light"?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},borderRadius:2,"&:hover, &:focus":{...t.palette.mode==="light"?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}},"&:active":{boxShadow:t.shadows[0],...t.palette.mode==="light"?{backgroundColor:J2(t.palette.grey[200],.12)}:{backgroundColor:J2(t.palette.grey[600],.12)}}}))),B5e=$e(z5e)({width:24,height:16});function H5e(t){const{slots:e={},slotProps:n={},...r}=t,a=t;return c.jsx("li",{children:c.jsx(F5e,{focusRipple:!0,...r,ownerState:a,children:c.jsx(B5e,{as:e.CollapsedIcon,ownerState:a,...n.collapsedIcon})})})}function U5e(t){return Dt("MuiBreadcrumbs",t)}const $5e=zt("MuiBreadcrumbs",["root","ol","li","separator"]),G5e=t=>{const{classes:e}=t;return Nt({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},U5e,e)},q5e=$e(ae,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(t,e)=>[{[`& .${$5e.li}`]:e.li},e.root]})({}),V5e=$e("ol",{name:"MuiBreadcrumbs",slot:"Ol"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),W5e=$e("li",{name:"MuiBreadcrumbs",slot:"Separator"})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function Y5e(t,e,n,r){return t.reduce((a,i,s)=>(s<t.length-1?a=a.concat(i,c.jsx(W5e,{"aria-hidden":!0,className:e,ownerState:r,children:n},`separator-${s}`)):a.push(i),a),[])}const K5e=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiBreadcrumbs"}),{children:a,className:i,component:s="nav",slots:o={},slotProps:l={},expandText:u="Show path",itemsAfterCollapse:d=1,itemsBeforeCollapse:h=1,maxItems:m=8,separator:y="/",...x}=r,[v,_]=A.useState(!1),C={...r,component:s,expanded:v,expandText:u,itemsAfterCollapse:d,itemsBeforeCollapse:h,maxItems:m,separator:y},w=G5e(C),T=go({elementType:o.CollapsedIcon,externalSlotProps:l.collapsedIcon,ownerState:C}),E=A.useRef(null),k=O=>{const z=()=>{_(!0);const M=E.current.querySelector("a[href],button,[tabindex]");M&&M.focus()};return h+d>=O.length?O:[...O.slice(0,h),c.jsx(H5e,{"aria-label":u,slots:{CollapsedIcon:o.CollapsedIcon},slotProps:{collapsedIcon:T},onClick:z},"ellipsis"),...O.slice(O.length-d,O.length)]},j=A.Children.toArray(a).filter(O=>A.isValidElement(O)).map((O,z)=>c.jsx("li",{className:w.li,children:O},`child-${z}`));return c.jsx(q5e,{ref:n,component:s,color:"textSecondary",className:ut(w.root,i),ownerState:C,...x,children:c.jsx(V5e,{className:w.ol,ref:E,ownerState:C,children:Y5e(v||m&&j.length<=m?j:k(j),w.separator,y,C)})})});function X5e(t){return Dt("MuiButton",t)}const Tm=zt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),Q5e=A.createContext({}),Z5e=A.createContext(void 0),J5e=t=>{const{color:e,disableElevation:n,fullWidth:r,size:a,variant:i,loading:s,loadingPosition:o,classes:l}=t,u={root:["root",s&&"loading",i,`${i}${Ue(e)}`,`size${Ue(a)}`,`${i}Size${Ue(a)}`,`color${Ue(e)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${Ue(o)}`],startIcon:["icon","startIcon",`iconSize${Ue(a)}`],endIcon:["icon","endIcon",`iconSize${Ue(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},d=Nt(u,X5e,l);return{...l,...d}},wX=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],ewe=$e(xo,{shouldForwardProp:t=>Ei(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ue(n.color)}`],e[`size${Ue(n.size)}`],e[`${n.variant}Size${Ue(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(Rt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Tm.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Tm.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Tm.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Tm.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(rr()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Tm.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Tm.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Tm.loading}`]:{color:"transparent"}}}]}})),twe=$e("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${Ue(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...wX]})),nwe=$e("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${Ue(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...wX]})),rwe=$e("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),dL=$e("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Ze=A.forwardRef(function(e,n){const r=A.useContext(Q5e),a=A.useContext(Z5e),i=K1(r,e),s=Ft({props:i,name:"MuiButton"}),{children:o,color:l="primary",component:u="button",className:d,disabled:h=!1,disableElevation:m=!1,disableFocusRipple:y=!1,endIcon:x,focusVisibleClassName:v,fullWidth:_=!1,id:C,loading:w=null,loadingIndicator:T,loadingPosition:E="center",size:k="medium",startIcon:j,type:O,variant:z="text",...M}=s,N=Rd(C),U=T??c.jsx(Kt,{"aria-labelledby":N,color:"inherit",size:16}),F={...s,color:l,component:u,disabled:h,disableElevation:m,disableFocusRipple:y,fullWidth:_,loading:w,loadingIndicator:U,loadingPosition:E,size:k,type:O,variant:z},$=J5e(F),D=(j||w&&E==="start")&&c.jsx(twe,{className:$.startIcon,ownerState:F,children:j||c.jsx(dL,{className:$.loadingIconPlaceholder,ownerState:F})}),H=(x||w&&E==="end")&&c.jsx(nwe,{className:$.endIcon,ownerState:F,children:x||c.jsx(dL,{className:$.loadingIconPlaceholder,ownerState:F})}),L=a||"",V=typeof w=="boolean"?c.jsx("span",{className:$.loadingWrapper,style:{display:"contents"},children:w&&c.jsx(rwe,{className:$.loadingIndicator,ownerState:F,children:U})}):null;return c.jsxs(ewe,{ownerState:F,className:ut(r.className,$.root,d,L),component:u,disabled:h||w,focusRipple:!y,focusVisibleClassName:ut($.focusVisible,v),ref:n,type:O,id:w?N:C,...M,classes:$,children:[D,E!=="end"&&V,o,E==="end"&&V,H]})});function awe(t){return A.Children.toArray(t).filter(e=>A.isValidElement(e))}function iwe(t){return Dt("MuiCard",t)}zt("MuiCard",["root"]);const swe=t=>{const{classes:e}=t;return Nt({root:["root"]},iwe,e)},owe=$e(Yt,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),fr=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiCard"}),{className:a,raised:i=!1,...s}=r,o={...r,raised:i},l=swe(o);return c.jsx(owe,{className:ut(l.root,a),elevation:i?8:void 0,ref:n,ownerState:o,...s})});function lwe(t){return Dt("MuiCardActionArea",t)}const nT=zt("MuiCardActionArea",["root","focusVisible","focusHighlight"]),cwe=t=>{const{classes:e}=t;return Nt({root:["root"],focusHighlight:["focusHighlight"]},lwe,e)},uwe=$e(xo,{name:"MuiCardActionArea",slot:"Root"})(Rt(({theme:t})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${nT.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${nT.focusVisible} .${nT.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}}))),dwe=$e("span",{name:"MuiCardActionArea",slot:"FocusHighlight"})(Rt(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})}))),fwe=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiCardActionArea"}),{children:a,className:i,focusVisibleClassName:s,slots:o={},slotProps:l={},...u}=r,d=r,h=cwe(d),m={slots:o,slotProps:l},[y,x]=Ht("root",{elementType:uwe,externalForwardedProps:{...m,...u},shouldForwardComponentProp:!0,ownerState:d,ref:n,className:ut(h.root,i),additionalProps:{focusVisibleClassName:ut(s,h.focusVisible)}}),[v,_]=Ht("focusHighlight",{elementType:dwe,externalForwardedProps:m,ownerState:d,ref:n,className:h.focusHighlight});return c.jsxs(y,{...x,children:[a,c.jsx(v,{..._})]})});function hwe(t){return Dt("MuiCardActions",t)}zt("MuiCardActions",["root","spacing"]);const pwe=t=>{const{classes:e,disableSpacing:n}=t;return Nt({root:["root",!n&&"spacing"]},hwe,e)},mwe=$e("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),qk=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiCardActions"}),{disableSpacing:a=!1,className:i,...s}=r,o={...r,disableSpacing:a},l=pwe(o);return c.jsx(mwe,{className:ut(l.root,i),ownerState:o,ref:n,...s})});function gwe(t){return Dt("MuiCardContent",t)}zt("MuiCardContent",["root"]);const ywe=t=>{const{classes:e}=t;return Nt({root:["root"]},gwe,e)},bwe=$e("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),Ra=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiCardContent"}),{className:a,component:i="div",...s}=r,o={...r,component:i},l=ywe(o);return c.jsx(bwe,{as:i,className:ut(l.root,a),ownerState:o,ref:n,...s})});function xwe(t){return Dt("MuiCardMedia",t)}zt("MuiCardMedia",["root","media","img"]);const vwe=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return Nt({root:["root",n&&"media",r&&"img"]},xwe,e)},Swe=$e("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:a}=n;return[e.root,r&&e.media,a&&e.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),_we=["video","audio","picture","iframe","img"],Cwe=["picture","img"],Vs=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiCardMedia"}),{children:a,className:i,component:s="div",image:o,src:l,style:u,...d}=r,h=_we.includes(s),m=!h&&o?{backgroundImage:`url("${o}")`,...u}:u,y={...r,component:s,isMediaComponent:h,isImageComponent:Cwe.includes(s)},x=vwe(y);return c.jsx(Swe,{className:ut(x.root,i),as:s,role:!h&&o?"img":void 0,ref:n,style:m,ownerState:y,src:h?o||l:void 0,...d,children:a})});function wwe(t){return Dt("PrivateSwitchBase",t)}zt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Ewe=t=>{const{classes:e,checked:n,disabled:r,edge:a}=t,i={root:["root",n&&"checked",r&&"disabled",a&&`edge${Ue(a)}`],input:["input"]};return Nt(i,wwe,e)},Twe=$e(xo,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),Awe=$e("input",{name:"MuiSwitchBase",shouldForwardProp:Ei})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),_O=A.forwardRef(function(e,n){const{autoFocus:r,checked:a,checkedIcon:i,defaultChecked:s,disabled:o,disableFocusRipple:l=!1,edge:u=!1,icon:d,id:h,inputProps:m,inputRef:y,name:x,onBlur:v,onChange:_,onFocus:C,readOnly:w,required:T=!1,tabIndex:E,type:k,value:j,slots:O={},slotProps:z={},...M}=e,[N,U]=wp({controlled:a,default:!!s,name:"SwitchBase",state:"checked"}),F=wu(),$=re=>{C&&C(re),F&&F.onFocus&&F.onFocus(re)},D=re=>{v&&v(re),F&&F.onBlur&&F.onBlur(re)},H=re=>{if(re.nativeEvent.defaultPrevented)return;const ie=re.target.checked;U(ie),_&&_(re,ie)};let L=o;F&&typeof L>"u"&&(L=F.disabled);const V=k==="checkbox"||k==="radio",J={...e,checked:N,disabled:L,disableFocusRipple:l,edge:u},Q=Ewe(J),K={slots:O,slotProps:{input:m,...z}},[q,Z]=Ht("root",{ref:n,elementType:Twe,className:Q.root,shouldForwardComponentProp:!0,externalForwardedProps:{...K,component:"span",...M},getSlotProps:re=>({...re,onFocus:ie=>{re.onFocus?.(ie),$(ie)},onBlur:ie=>{re.onBlur?.(ie),D(ie)}}),ownerState:J,additionalProps:{centerRipple:!0,focusRipple:!l,disabled:L,role:void 0,tabIndex:null}}),[Y,ne]=Ht("input",{ref:y,elementType:Awe,className:Q.input,externalForwardedProps:K,getSlotProps:re=>({...re,onChange:ie=>{re.onChange?.(ie),H(ie)}}),ownerState:J,additionalProps:{autoFocus:r,checked:a,defaultChecked:s,disabled:L,id:V?h:void 0,name:x,readOnly:w,required:T,tabIndex:E,type:k,...k==="checkbox"&&j===void 0?{}:{value:j}}});return c.jsxs(q,{...Z,children:[c.jsx(Y,{...ne}),N?i:d]})}),Rwe=mt(c.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),kwe=mt(c.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),Iwe=mt(c.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function jwe(t){return Dt("MuiCheckbox",t)}const rT=zt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Owe=t=>{const{classes:e,indeterminate:n,color:r,size:a}=t,i={root:["root",n&&"indeterminate",`color${Ue(r)}`,`size${Ue(a)}`]},s=Nt(i,jwe,e);return{...e,...s}},Dwe=$e(_O,{shouldForwardProp:t=>Ei(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${Ue(n.size)}`],n.color!=="default"&&e[`color${Ue(n.color)}`]]}})(Rt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{[`&.${rT.checked}, &.${rT.indeterminate}`]:{color:(t.vars||t).palette[e].main},[`&.${rT.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),Nwe=c.jsx(kwe,{}),Mwe=c.jsx(Rwe,{}),Pwe=c.jsx(Iwe,{}),ty=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiCheckbox"}),{checkedIcon:a=Nwe,color:i="primary",icon:s=Mwe,indeterminate:o=!1,indeterminateIcon:l=Pwe,inputProps:u,size:d="medium",disableRipple:h=!1,className:m,slots:y={},slotProps:x={},...v}=r,_=o?l:s,C=o?l:a,w={...r,disableRipple:h,color:i,indeterminate:o,size:d},T=Owe(w),E=x.input??u,[k,j]=Ht("root",{ref:n,elementType:Dwe,className:ut(T.root,m),shouldForwardComponentProp:!0,externalForwardedProps:{slots:y,slotProps:x,...v},ownerState:w,additionalProps:{type:"checkbox",icon:A.cloneElement(_,{fontSize:_.props.fontSize??d}),checkedIcon:A.cloneElement(C,{fontSize:C.props.fontSize??d}),disableRipple:h,slots:y,slotProps:{input:dO(typeof E=="function"?E(w):E,{"data-indeterminate":o})}}});return c.jsx(k,{...j,classes:T})});function fL(t){return t.substring(2).toLowerCase()}function Lwe(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function zwe(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:a,touchEvent:i="onTouchEnd"}=t,s=A.useRef(!1),o=A.useRef(null),l=A.useRef(!1),u=A.useRef(!1);A.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const d=aa(Dp(e),o),h=Ji(x=>{const v=u.current;u.current=!1;const _=ci(o.current);if(!l.current||!o.current||"clientX"in x&&Lwe(x,_))return;if(s.current){s.current=!1;return}let C;x.composedPath?C=x.composedPath().includes(o.current):C=!_.documentElement.contains(x.target)||o.current.contains(x.target),!C&&(n||!v)&&a(x)}),m=x=>v=>{u.current=!0;const _=e.props[x];_&&_(v)},y={ref:d};return i!==!1&&(y[i]=m(i)),A.useEffect(()=>{if(i!==!1){const x=fL(i),v=ci(o.current),_=()=>{s.current=!0};return v.addEventListener(x,h),v.addEventListener("touchmove",_),()=>{v.removeEventListener(x,h),v.removeEventListener("touchmove",_)}}},[h,i]),r!==!1&&(y[r]=m(r)),A.useEffect(()=>{if(r!==!1){const x=fL(r),v=ci(o.current);return v.addEventListener(x,h),()=>{v.removeEventListener(x,h)}}},[h,r]),A.cloneElement(e,y)}const ig=cue({createStyledComponent:$e("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ue(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>Ft({props:t,name:"MuiContainer"})});function EX(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function Fwe(t){const e=ci(t);return e.body===t?Ol(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function E2(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function hL(t){return parseInt(Ol(t).getComputedStyle(t).paddingRight,10)||0}function Bwe(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function pL(t,e,n,r,a){const i=[e,n,...r];[].forEach.call(t.children,s=>{const o=!i.includes(s),l=!Bwe(s);o&&l&&E2(s,a)})}function aT(t,e){let n=-1;return t.some((r,a)=>e(r)?(n=a,!0):!1),n}function Hwe(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(Fwe(r)){const s=EX(Ol(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${hL(r)+s}px`;const o=ci(r).querySelectorAll(".mui-fixed");[].forEach.call(o,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${hL(l)+s}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=ci(r).body;else{const s=r.parentElement,o=Ol(r);i=s?.nodeName==="HTML"&&o.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:s,property:o})=>{i?s.style.setProperty(o,i):s.style.removeProperty(o)})}}function Uwe(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class $we{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&E2(e.modalRef,!1);const a=Uwe(n);pL(n,e.mount,e.modalRef,a,!0);const i=aT(this.containers,s=>s.container===n);return i!==-1?(this.containers[i].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:a}),r)}mount(e,n){const r=aT(this.containers,i=>i.modals.includes(e)),a=this.containers[r];a.restore||(a.restore=Hwe(a,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const a=aT(this.containers,s=>s.modals.includes(e)),i=this.containers[a];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),e.modalRef&&E2(e.modalRef,n),pL(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(a,1);else{const s=i.modals[i.modals.length-1];s.modalRef&&E2(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const Gwe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function qwe(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Vwe(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Wwe(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Vwe(t))}function Ywe(t){const e=[],n=[];return Array.from(t.querySelectorAll(Gwe)).forEach((r,a)=>{const i=qwe(r);i===-1||!Wwe(r)||(i===0?e.push(r):n.push({documentOrder:a,tabIndex:i,node:r}))}),n.sort((r,a)=>r.tabIndex===a.tabIndex?r.documentOrder-a.documentOrder:r.tabIndex-a.tabIndex).map(r=>r.node).concat(e)}function Kwe(){return!0}function Xwe(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:a=!1,getTabbable:i=Ywe,isEnabled:s=Kwe,open:o}=t,l=A.useRef(!1),u=A.useRef(null),d=A.useRef(null),h=A.useRef(null),m=A.useRef(null),y=A.useRef(!1),x=A.useRef(null),v=aa(Dp(e),x),_=A.useRef(null);A.useEffect(()=>{!o||!x.current||(y.current=!n)},[n,o]),A.useEffect(()=>{if(!o||!x.current)return;const T=ci(x.current);return x.current.contains(T.activeElement)||(x.current.hasAttribute("tabIndex")||x.current.setAttribute("tabIndex","-1"),y.current&&x.current.focus()),()=>{a||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[o]),A.useEffect(()=>{if(!o||!x.current)return;const T=ci(x.current),E=O=>{_.current=O,!(r||!s()||O.key!=="Tab")&&T.activeElement===x.current&&O.shiftKey&&(l.current=!0,d.current&&d.current.focus())},k=()=>{const O=x.current;if(O===null)return;if(!T.hasFocus()||!s()||l.current){l.current=!1;return}if(O.contains(T.activeElement)||r&&T.activeElement!==u.current&&T.activeElement!==d.current)return;if(T.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!y.current)return;let z=[];if((T.activeElement===u.current||T.activeElement===d.current)&&(z=i(x.current)),z.length>0){const M=!!(_.current?.shiftKey&&_.current?.key==="Tab"),N=z[0],U=z[z.length-1];typeof N!="string"&&typeof U!="string"&&(M?U.focus():N.focus())}else O.focus()};T.addEventListener("focusin",k),T.addEventListener("keydown",E,!0);const j=setInterval(()=>{T.activeElement&&T.activeElement.tagName==="BODY"&&k()},50);return()=>{clearInterval(j),T.removeEventListener("focusin",k),T.removeEventListener("keydown",E,!0)}},[n,r,a,s,o,i]);const C=T=>{h.current===null&&(h.current=T.relatedTarget),y.current=!0,m.current=T.target;const E=e.props.onFocus;E&&E(T)},w=T=>{h.current===null&&(h.current=T.relatedTarget),y.current=!0};return c.jsxs(A.Fragment,{children:[c.jsx("div",{tabIndex:o?0:-1,onFocus:w,ref:u,"data-testid":"sentinelStart"}),A.cloneElement(e,{ref:v,onFocus:C}),c.jsx("div",{tabIndex:o?0:-1,onFocus:w,ref:d,"data-testid":"sentinelEnd"})]})}function Qwe(t){return typeof t=="function"?t():t}function Zwe(t){return t?t.props.hasOwnProperty("in"):!1}const mL=()=>{},v_=new $we;function Jwe(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:a=!1,onTransitionEnter:i,onTransitionExited:s,children:o,onClose:l,open:u,rootRef:d}=t,h=A.useRef({}),m=A.useRef(null),y=A.useRef(null),x=aa(y,d),[v,_]=A.useState(!u),C=Zwe(o);let w=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(w=!1);const T=()=>ci(m.current),E=()=>(h.current.modalRef=y.current,h.current.mount=m.current,h.current),k=()=>{v_.mount(E(),{disableScrollLock:r}),y.current&&(y.current.scrollTop=0)},j=Ji(()=>{const H=Qwe(e)||T().body;v_.add(E(),H),y.current&&k()}),O=()=>v_.isTopModal(E()),z=Ji(H=>{m.current=H,H&&(u&&O()?k():y.current&&E2(y.current,w))}),M=A.useCallback(()=>{v_.remove(E(),w)},[w]);A.useEffect(()=>()=>{M()},[M]),A.useEffect(()=>{u?j():(!C||!a)&&M()},[u,M,C,a,j]);const N=H=>L=>{H.onKeyDown?.(L),!(L.key!=="Escape"||L.which===229||!O())&&(n||(L.stopPropagation(),l&&l(L,"escapeKeyDown")))},U=H=>L=>{H.onClick?.(L),L.target===L.currentTarget&&l&&l(L,"backdropClick")};return{getRootProps:(H={})=>{const L=rg(t);delete L.onTransitionEnter,delete L.onTransitionExited;const V={...L,...H};return{role:"presentation",...V,onKeyDown:N(V),ref:x}},getBackdropProps:(H={})=>{const L=H;return{"aria-hidden":!0,...L,onClick:U(L),open:u}},getTransitionProps:()=>{const H=()=>{_(!1),i&&i()},L=()=>{_(!0),s&&s(),a&&M()};return{onEnter:Nk(H,o?.props.onEnter??mL),onExited:Nk(L,o?.props.onExited??mL)}},rootRef:x,portalRef:z,isTopModal:O,exited:v,hasTransition:C}}function eEe(t){return Dt("MuiModal",t)}zt("MuiModal",["root","hidden","backdrop"]);const tEe=t=>{const{open:e,exited:n,classes:r}=t;return Nt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},eEe,r)},nEe=$e("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(Rt(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),rEe=$e(CX,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),CO=A.forwardRef(function(e,n){const r=Ft({name:"MuiModal",props:e}),{BackdropComponent:a=rEe,BackdropProps:i,classes:s,className:o,closeAfterTransition:l=!1,children:u,container:d,component:h,components:m={},componentsProps:y={},disableAutoFocus:x=!1,disableEnforceFocus:v=!1,disableEscapeKeyDown:_=!1,disablePortal:C=!1,disableRestoreFocus:w=!1,disableScrollLock:T=!1,hideBackdrop:E=!1,keepMounted:k=!1,onClose:j,onTransitionEnter:O,onTransitionExited:z,open:M,slotProps:N={},slots:U={},theme:F,...$}=r,D={...r,closeAfterTransition:l,disableAutoFocus:x,disableEnforceFocus:v,disableEscapeKeyDown:_,disablePortal:C,disableRestoreFocus:w,disableScrollLock:T,hideBackdrop:E,keepMounted:k},{getRootProps:H,getBackdropProps:L,getTransitionProps:V,portalRef:J,isTopModal:Q,exited:K,hasTransition:q}=Jwe({...D,rootRef:n}),Z={...D,exited:K},Y=tEe(Z),ne={};if(u.props.tabIndex===void 0&&(ne.tabIndex="-1"),q){const{onEnter:le,onExited:de}=V();ne.onEnter=le,ne.onExited=de}const re={slots:{root:m.Root,backdrop:m.Backdrop,...U},slotProps:{...y,...N}},[ie,ce]=Ht("root",{ref:n,elementType:nEe,externalForwardedProps:{...re,...$,component:h},getSlotProps:H,ownerState:Z,className:ut(o,Y?.root,!Z.open&&Z.exited&&Y?.hidden)}),[he,me]=Ht("backdrop",{ref:i?.ref,elementType:a,externalForwardedProps:re,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:le=>L({...le,onClick:de=>{le?.onClick&&le.onClick(de)}}),className:ut(i?.className,Y?.backdrop),ownerState:Z});return!k&&!M&&(!q||K)?null:c.jsx(SX,{ref:J,container:d,disablePortal:C,children:c.jsxs(ie,{...ce,children:[!E&&a?c.jsx(he,{...me}):null,c.jsx(Xwe,{disableEnforceFocus:v,disableAutoFocus:x,disableRestoreFocus:w,isEnabled:Q,open:M,children:A.cloneElement(u,ne)})]})})});function aEe(t){return Dt("MuiDialog",t)}const iT=zt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),TX=A.createContext({}),iEe=$e(CX,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),sEe=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:a,fullScreen:i}=t,s={root:["root"],container:["container",`scroll${Ue(n)}`],paper:["paper",`paperScroll${Ue(n)}`,`paperWidth${Ue(String(r))}`,a&&"paperFullWidth",i&&"paperFullScreen"]};return Nt(s,aEe,e)},oEe=$e(CO,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),lEe=$e("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${Ue(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),cEe=$e(Yt,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${Ue(n.scroll)}`],e[`paperWidth${Ue(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(Rt(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${iT.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${iT.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${iT.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),hr=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiDialog"}),a=rs(),i={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":o,"aria-modal":l=!0,BackdropComponent:u,BackdropProps:d,children:h,className:m,disableEscapeKeyDown:y=!1,fullScreen:x=!1,fullWidth:v=!1,maxWidth:_="sm",onClick:C,onClose:w,open:T,PaperComponent:E=Yt,PaperProps:k={},scroll:j="paper",slots:O={},slotProps:z={},TransitionComponent:M=Gk,transitionDuration:N=i,TransitionProps:U,...F}=r,$={...r,disableEscapeKeyDown:y,fullScreen:x,fullWidth:v,maxWidth:_,scroll:j},D=sEe($),H=A.useRef(),L=ve=>{H.current=ve.target===ve.currentTarget},V=ve=>{C&&C(ve),H.current&&(H.current=null,w&&w(ve,"backdropClick"))},J=Rd(o),Q=A.useMemo(()=>({titleId:J}),[J]),K={transition:M,...O},q={transition:U,paper:k,backdrop:d,...z},Z={slots:K,slotProps:q},[Y,ne]=Ht("root",{elementType:oEe,shouldForwardComponentProp:!0,externalForwardedProps:Z,ownerState:$,className:ut(D.root,m),ref:n}),[re,ie]=Ht("backdrop",{elementType:iEe,shouldForwardComponentProp:!0,externalForwardedProps:Z,ownerState:$}),[ce,he]=Ht("paper",{elementType:cEe,shouldForwardComponentProp:!0,externalForwardedProps:Z,ownerState:$,className:ut(D.paper,k.className)}),[me,le]=Ht("container",{elementType:lEe,externalForwardedProps:Z,ownerState:$,className:D.container}),[de,pe]=Ht("transition",{elementType:Gk,externalForwardedProps:Z,ownerState:$,additionalProps:{appear:!0,in:T,timeout:N,role:"presentation"}});return c.jsx(Y,{closeAfterTransition:!0,slots:{backdrop:re},slotProps:{backdrop:{transitionDuration:N,as:u,...ie}},disableEscapeKeyDown:y,onClose:w,open:T,onClick:V,...ne,...F,children:c.jsx(de,{...pe,children:c.jsx(me,{onMouseDown:L,...le,children:c.jsx(ce,{as:E,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":J,"aria-modal":l,...he,children:c.jsx(TX.Provider,{value:Q,children:h})})})})})});function uEe(t){return Dt("MuiDialogActions",t)}zt("MuiDialogActions",["root","spacing"]);const dEe=t=>{const{classes:e,disableSpacing:n}=t;return Nt({root:["root",!n&&"spacing"]},uEe,e)},fEe=$e("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),kr=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiDialogActions"}),{className:a,disableSpacing:i=!1,...s}=r,o={...r,disableSpacing:i},l=dEe(o);return c.jsx(fEe,{className:ut(l.root,a),ownerState:o,ref:n,...s})});function hEe(t){return Dt("MuiDialogContent",t)}zt("MuiDialogContent",["root","dividers"]);function pEe(t){return Dt("MuiDialogTitle",t)}const mEe=zt("MuiDialogTitle",["root"]),gEe=t=>{const{classes:e,dividers:n}=t;return Nt({root:["root",n&&"dividers"]},hEe,e)},yEe=$e("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(Rt(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${mEe.root} + &`]:{paddingTop:0}}}]}))),yr=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiDialogContent"}),{className:a,dividers:i=!1,...s}=r,o={...r,dividers:i},l=gEe(o);return c.jsx(yEe,{className:ut(l.root,a),ownerState:o,ref:n,...s})});function bEe(t){return Dt("MuiDialogContentText",t)}zt("MuiDialogContentText",["root"]);const xEe=t=>{const{classes:e}=t,r=Nt({root:["root"]},bEe,e);return{...e,...r}},vEe=$e(ae,{shouldForwardProp:t=>Ei(t)||t==="classes",name:"MuiDialogContentText",slot:"Root"})({}),Rp=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiDialogContentText"}),{children:a,className:i,...s}=r,o=xEe(s);return c.jsx(vEe,{component:"p",variant:"body1",color:"textSecondary",ref:n,ownerState:s,className:ut(o.root,i),...r,classes:o})}),SEe=t=>{const{classes:e}=t;return Nt({root:["root"]},pEe,e)},_Ee=$e(ae,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),br=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiDialogTitle"}),{className:a,id:i,...s}=r,o=r,l=SEe(o),{titleId:u=i}=A.useContext(TX);return c.jsx(_Ee,{component:"h2",className:ut(l.root,a),ownerState:o,ref:n,variant:"h6",id:i??u,...s})});function CEe(t){return Dt("MuiDivider",t)}const gL=zt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),wEe=t=>{const{absolute:e,children:n,classes:r,flexItem:a,light:i,orientation:s,textAlign:o,variant:l}=t;return Nt({root:["root",e&&"absolute",l,i&&"light",s==="vertical"&&"vertical",a&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",o==="right"&&s!=="vertical"&&"textAlignRight",o==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},CEe,r)},EEe=$e("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(Rt(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.alpha((t.vars||t).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),TEe=$e("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(Rt(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),bn=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiDivider"}),{absolute:a=!1,children:i,className:s,orientation:o="horizontal",component:l=i||o==="vertical"?"div":"hr",flexItem:u=!1,light:d=!1,role:h=l!=="hr"?"separator":void 0,textAlign:m="center",variant:y="fullWidth",...x}=r,v={...r,absolute:a,component:l,flexItem:u,light:d,orientation:o,role:h,textAlign:m,variant:y},_=wEe(v);return c.jsx(EEe,{as:l,className:ut(_.root,s),role:h,ref:n,ownerState:v,"aria-orientation":h==="separator"&&(l!=="hr"||o==="vertical")?o:void 0,...x,children:i?c.jsx(TEe,{className:_.wrapper,ownerState:v,children:i}):null})});bn&&(bn.muiSkipListHighlight=!0);function AEe(t,e,n){const r=e.getBoundingClientRect(),a=n&&n.getBoundingClientRect(),i=Ol(e);let s;if(e.fakeTransform)s=e.fakeTransform;else{const u=i.getComputedStyle(e);s=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let o=0,l=0;if(s&&s!=="none"&&typeof s=="string"){const u=s.split("(")[1].split(")")[0].split(",");o=parseInt(u[4],10),l=parseInt(u[5],10)}return t==="left"?a?`translateX(${a.right+o-r.left}px)`:`translateX(${i.innerWidth+o-r.left}px)`:t==="right"?a?`translateX(-${r.right-a.left-o}px)`:`translateX(-${r.left+r.width-o}px)`:t==="up"?a?`translateY(${a.bottom+l-r.top}px)`:`translateY(${i.innerHeight+l-r.top}px)`:a?`translateY(-${r.top-a.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function REe(t){return typeof t=="function"?t():t}function S_(t,e,n){const r=REe(n),a=AEe(t,e,r);a&&(e.style.webkitTransform=a,e.style.transform=a)}const kEe=A.forwardRef(function(e,n){const r=rs(),a={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:l,container:u,direction:d="down",easing:h=a,in:m,onEnter:y,onEntered:x,onEntering:v,onExit:_,onExited:C,onExiting:w,style:T,timeout:E=i,TransitionComponent:k=Pc,...j}=e,O=A.useRef(null),z=aa(Dp(l),O,n),M=J=>Q=>{J&&(Q===void 0?J(O.current):J(O.current,Q))},N=M((J,Q)=>{S_(d,J,u),pO(J),y&&y(J,Q)}),U=M((J,Q)=>{const K=Ep({timeout:E,style:T,easing:h},{mode:"enter"});J.style.webkitTransition=r.transitions.create("-webkit-transform",{...K}),J.style.transition=r.transitions.create("transform",{...K}),J.style.webkitTransform="none",J.style.transform="none",v&&v(J,Q)}),F=M(x),$=M(w),D=M(J=>{const Q=Ep({timeout:E,style:T,easing:h},{mode:"exit"});J.style.webkitTransition=r.transitions.create("-webkit-transform",Q),J.style.transition=r.transitions.create("transform",Q),S_(d,J,u),_&&_(J)}),H=M(J=>{J.style.webkitTransition="",J.style.transition="",C&&C(J)}),L=J=>{s&&s(O.current,J)},V=A.useCallback(()=>{O.current&&S_(d,O.current,u)},[d,u]);return A.useEffect(()=>{if(m||d==="down"||d==="right")return;const J=Yv(()=>{O.current&&S_(d,O.current,u)}),Q=Ol(O.current);return Q.addEventListener("resize",J),()=>{J.clear(),Q.removeEventListener("resize",J)}},[d,m,u]),A.useEffect(()=>{m||V()},[m,V]),c.jsx(k,{nodeRef:O,onEnter:N,onEntered:F,onEntering:U,onExit:D,onExited:H,onExiting:$,addEndListener:L,appear:o,in:m,timeout:E,...j,children:(J,{ownerState:Q,...K})=>A.cloneElement(l,{ref:z,style:{visibility:J==="exited"&&!m?"hidden":void 0,...T,...l.props.style},...K})})});function IEe(t){return Dt("MuiDrawer",t)}zt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const AX=(t,e)=>{const{ownerState:n}=t;return[e.root,(n.variant==="permanent"||n.variant==="persistent")&&e.docked,e.modal]},jEe=t=>{const{classes:e,anchor:n,variant:r}=t,a={root:["root",`anchor${Ue(n)}`],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Ue(n)}`,r!=="temporary"&&`paperAnchorDocked${Ue(n)}`]};return Nt(a,IEe,e)},OEe=$e(CO,{name:"MuiDrawer",slot:"Root",overridesResolver:AX})(Rt(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer}))),DEe=$e("div",{shouldForwardProp:Ei,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:AX})({flex:"0 0 auto"}),NEe=$e(Yt,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`paperAnchor${Ue(n.anchor)}`],n.variant!=="temporary"&&e[`paperAnchorDocked${Ue(n.anchor)}`]]}})(Rt(({theme:t})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>e.anchor==="left"&&e.variant!=="temporary",style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="top"&&e.variant!=="temporary",style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="right"&&e.variant!=="temporary",style:{borderLeft:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="bottom"&&e.variant!=="temporary",style:{borderTop:`1px solid ${(t.vars||t).palette.divider}`}}]}))),RX={left:"right",right:"left",top:"down",bottom:"up"};function MEe(t){return["left","right"].includes(t)}function PEe({direction:t},e){return t==="rtl"&&MEe(e)?RX[e]:e}const uC=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiDrawer"}),a=rs(),i=Md(),s={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{anchor:o="left",BackdropProps:l,children:u,className:d,elevation:h=16,hideBackdrop:m=!1,ModalProps:{BackdropProps:y,...x}={},onClose:v,open:_=!1,PaperProps:C={},SlideProps:w,TransitionComponent:T,transitionDuration:E=s,variant:k="temporary",slots:j={},slotProps:O={},...z}=r,M=A.useRef(!1);A.useEffect(()=>{M.current=!0},[]);const N=PEe({direction:i?"rtl":"ltr"},o),F={...r,anchor:o,elevation:h,open:_,variant:k,...z},$=jEe(F),D={slots:{transition:T,...j},slotProps:{paper:C,transition:w,...O,backdrop:dO(O.backdrop||{...l,...y},{transitionDuration:E})}},[H,L]=Ht("root",{ref:n,elementType:OEe,className:ut($.root,$.modal,d),shouldForwardComponentProp:!0,ownerState:F,externalForwardedProps:{...D,...z,...x},additionalProps:{open:_,onClose:v,hideBackdrop:m,slots:{backdrop:D.slots.backdrop},slotProps:{backdrop:D.slotProps.backdrop}}}),[V,J]=Ht("paper",{elementType:NEe,shouldForwardComponentProp:!0,className:ut($.paper,C.className),ownerState:F,externalForwardedProps:D,additionalProps:{elevation:k==="temporary"?h:0,square:!0,...k==="temporary"&&{role:"dialog","aria-modal":"true"}}}),[Q,K]=Ht("docked",{elementType:DEe,ref:n,className:ut($.root,$.docked,d),ownerState:F,externalForwardedProps:D,additionalProps:z}),[q,Z]=Ht("transition",{elementType:kEe,ownerState:F,externalForwardedProps:D,additionalProps:{in:_,direction:RX[N],timeout:E,appear:M.current}}),Y=c.jsx(V,{...J,children:u});if(k==="permanent")return c.jsx(Q,{...K,children:Y});const ne=c.jsx(q,{...Z,children:Y});return k==="persistent"?c.jsx(Q,{...K,children:ne}):c.jsx(H,{...L,children:ne})});function LEe(t){return Dt("MuiFab",t)}const yL=zt("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),zEe=t=>{const{color:e,variant:n,classes:r,size:a}=t,i={root:["root",n,`size${Ue(a)}`,e==="inherit"?"colorInherit":e]},s=Nt(i,LEe,r);return{...r,...s}},FEe=$e(xo,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>Ei(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Ue(n.size)}`],n.color==="inherit"&&e.colorInherit,e[Ue(n.size)],e[n.color]]}})(Rt(({theme:t})=>({...t.typography.button,minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.grey[900]:t.palette.getContrastText?.(t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${yL.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},variants:[{props:{size:"small"},style:{width:40,height:40}},{props:{size:"medium"},style:{width:48,height:48}},{props:{variant:"extended"},style:{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48}},{props:{variant:"extended",size:"small"},style:{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34}},{props:{variant:"extended",size:"medium"},style:{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40}},{props:{color:"inherit"},style:{color:"inherit"}}]})),Rt(({theme:t})=>({variants:[...Object.entries(t.palette).filter(rr(["dark","contrastText"])).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].contrastText,backgroundColor:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:(t.vars||t).palette[e].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e].main}}}}))]})),Rt(({theme:t})=>({[`&.${yL.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}))),BEe=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiFab"}),{children:a,className:i,color:s="default",component:o="button",disabled:l=!1,disableFocusRipple:u=!1,focusVisibleClassName:d,size:h="large",variant:m="circular",...y}=r,x={...r,color:s,component:o,disabled:l,disableFocusRipple:u,size:h,variant:m},v=zEe(x);return c.jsx(FEe,{className:ut(v.root,i),component:o,disabled:l,focusRipple:!u,focusVisibleClassName:ut(v.focusVisible,d),ownerState:x,ref:n,...y,classes:v,children:a})}),HEe=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:a,size:i,hiddenLabel:s,multiline:o}=t,l={root:["root",!n&&"underline",r&&"adornedStart",a&&"adornedEnd",i==="small"&&`size${Ue(i)}`,s&&"hiddenLabel",o&&"multiline"],input:["input"]},u=Nt(l,E5e,e);return{...e,...u}},UEe=$e(A5,{shouldForwardProp:t=>Ei(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...E5(t,e),!n.disableUnderline&&e.underline]}})(Rt(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${Em.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${Em.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:i},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Em.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Em.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Em.disabled}, .${Em.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Em.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(rr()).map(([s])=>({props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[s]?.main}`}}})),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:o})=>s.multiline&&o==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),$Ee=$e(R5,{name:"MuiFilledInput",slot:"Input",overridesResolver:T5})(Rt(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),wO=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiFilledInput"}),{disableUnderline:a=!1,components:i={},componentsProps:s,fullWidth:o=!1,hiddenLabel:l,inputComponent:u="input",multiline:d=!1,slotProps:h,slots:m={},type:y="text",...x}=r,v={...r,disableUnderline:a,fullWidth:o,inputComponent:u,multiline:d,type:y},_=HEe(r),C={root:{ownerState:v},input:{ownerState:v}},w=h??s?Zi(C,h??s):C,T=m.root??i.Root??UEe,E=m.input??i.Input??$Ee;return c.jsx(k5,{slots:{root:T,input:E},slotProps:w,fullWidth:o,inputComponent:u,multiline:d,ref:n,type:y,...x,classes:_})});wO.muiName="Input";function GEe(t){return Dt("MuiFormControl",t)}zt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const qEe=t=>{const{classes:e,margin:n,fullWidth:r}=t,a={root:["root",n!=="none"&&`margin${Ue(n)}`,r&&"fullWidth"]};return Nt(a,GEe,e)},VEe=$e("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${Ue(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),ba=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiFormControl"}),{children:a,className:i,color:s="primary",component:o="div",disabled:l=!1,error:u=!1,focused:d,fullWidth:h=!1,hiddenLabel:m=!1,margin:y="none",required:x=!1,size:v="medium",variant:_="outlined",...C}=r,w={...r,color:s,component:o,disabled:l,error:u,fullWidth:h,hiddenLabel:m,margin:y,required:x,size:v,variant:_},T=qEe(w),[E,k]=A.useState(()=>{let H=!1;return a&&A.Children.forEach(a,L=>{if(!S2(L,["Input","Select"]))return;const V=S2(L,["Select"])?L.props.input:L;V&&v5e(V.props)&&(H=!0)}),H}),[j,O]=A.useState(()=>{let H=!1;return a&&A.Children.forEach(a,L=>{S2(L,["Input","Select"])&&(cC(L.props,!0)||cC(L.props.inputProps,!0))&&(H=!0)}),H}),[z,M]=A.useState(!1);l&&z&&M(!1);const N=d!==void 0&&!l?d:z;let U;A.useRef(!1);const F=A.useCallback(()=>{O(!0)},[]),$=A.useCallback(()=>{O(!1)},[]),D=A.useMemo(()=>({adornedStart:E,setAdornedStart:k,color:s,disabled:l,error:u,filled:j,focused:N,fullWidth:h,hiddenLabel:m,size:v,onBlur:()=>{M(!1)},onFocus:()=>{M(!0)},onEmpty:$,onFilled:F,registerEffect:U,required:x,variant:_}),[E,s,l,u,j,N,h,m,U,$,F,x,v,_]);return c.jsx(w5.Provider,{value:D,children:c.jsx(VEe,{as:o,ownerState:w,className:ut(T.root,i),ref:n,...C,children:a})})});function WEe(t){return Dt("MuiFormControlLabel",t)}const r2=zt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),YEe=t=>{const{classes:e,disabled:n,labelPlacement:r,error:a,required:i}=t,s={root:["root",n&&"disabled",`labelPlacement${Ue(r)}`,a&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",a&&"error"]};return Nt(s,WEe,e)},KEe=$e("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${r2.label}`]:e.label},e.root,e[`labelPlacement${Ue(n.labelPlacement)}`]]}})(Rt(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${r2.disabled}`]:{cursor:"default"},[`& .${r2.label}`]:{[`&.${r2.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),XEe=$e("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(Rt(({theme:t})=>({[`&.${r2.error}`]:{color:(t.vars||t).palette.error.main}}))),gr=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiFormControlLabel"}),{checked:a,className:i,componentsProps:s={},control:o,disabled:l,disableTypography:u,inputRef:d,label:h,labelPlacement:m="end",name:y,onChange:x,required:v,slots:_={},slotProps:C={},value:w,...T}=r,E=wu(),k=l??o.props.disabled??E?.disabled,j=v??o.props.required,O={disabled:k,required:j};["checked","name","onChange","value","inputRef"].forEach(H=>{typeof o.props[H]>"u"&&typeof r[H]<"u"&&(O[H]=r[H])});const z=Np({props:r,muiFormControl:E,states:["error"]}),M={...r,disabled:k,labelPlacement:m,required:j,error:z.error},N=YEe(M),U={slots:_,slotProps:{...s,...C}},[F,$]=Ht("typography",{elementType:ae,externalForwardedProps:U,ownerState:M});let D=h;return D!=null&&D.type!==ae&&!u&&(D=c.jsx(F,{component:"span",...$,className:ut(N.label,$?.className),children:D})),c.jsxs(KEe,{className:ut(N.root,i),ownerState:M,ref:n,...T,children:[A.cloneElement(o,O),j?c.jsxs("div",{children:[D,c.jsxs(XEe,{ownerState:M,"aria-hidden":!0,className:N.asterisk,children:["","*"]})]}):D]})});function QEe(t){return Dt("MuiFormGroup",t)}zt("MuiFormGroup",["root","row","error"]);const ZEe=t=>{const{classes:e,row:n,error:r}=t;return Nt({root:["root",n&&"row",r&&"error"]},QEe,e)},JEe=$e("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.row&&e.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),eTe=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiFormGroup"}),{className:a,row:i=!1,...s}=r,o=wu(),l=Np({props:r,muiFormControl:o,states:["error"]}),u={...r,row:i,error:l.error},d=ZEe(u);return c.jsx(JEe,{className:ut(d.root,a),ownerState:u,ref:n,...s})});function tTe(t){return Dt("MuiFormHelperText",t)}const bL=zt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var xL;const nTe=t=>{const{classes:e,contained:n,size:r,disabled:a,error:i,filled:s,focused:o,required:l}=t,u={root:["root",a&&"disabled",i&&"error",r&&`size${Ue(r)}`,n&&"contained",o&&"focused",s&&"filled",l&&"required"]};return Nt(u,tTe,e)},rTe=$e("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Ue(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(Rt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${bL.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${bL.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),aTe=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiFormHelperText"}),{children:a,className:i,component:s="p",disabled:o,error:l,filled:u,focused:d,margin:h,required:m,variant:y,...x}=r,v=wu(),_=Np({props:r,muiFormControl:v,states:["variant","size","disabled","error","filled","focused","required"]}),C={...r,component:s,contained:_.variant==="filled"||_.variant==="outlined",variant:_.variant,size:_.size,disabled:_.disabled,error:_.error,filled:_.filled,focused:_.focused,required:_.required};delete C.ownerState;const w=nTe(C);return c.jsx(rTe,{as:s,className:ut(w.root,i),ref:n,...x,ownerState:C,children:a===" "?xL||(xL=c.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):a})});function iTe(t){return Dt("MuiFormLabel",t)}const T2=zt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),sTe=t=>{const{classes:e,color:n,focused:r,disabled:a,error:i,filled:s,required:o}=t,l={root:["root",`color${Ue(n)}`,a&&"disabled",i&&"error",s&&"filled",r&&"focused",o&&"required"],asterisk:["asterisk",i&&"error"]};return Nt(l,iTe,e)},oTe=$e("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(Rt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{[`&.${T2.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${T2.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${T2.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),lTe=$e("span",{name:"MuiFormLabel",slot:"Asterisk"})(Rt(({theme:t})=>({[`&.${T2.error}`]:{color:(t.vars||t).palette.error.main}}))),A2=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiFormLabel"}),{children:a,className:i,color:s,component:o="label",disabled:l,error:u,filled:d,focused:h,required:m,...y}=r,x=wu(),v=Np({props:r,muiFormControl:x,states:["color","required","focused","disabled","error","filled"]}),_={...r,color:v.color||"primary",component:o,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required},C=sTe(_);return c.jsxs(oTe,{as:o,ownerState:_,className:ut(C.root,i),ref:n,...y,children:[a,v.required&&c.jsxs(lTe,{ownerState:_,"aria-hidden":!0,className:C.asterisk,children:["","*"]})]})}),yn=Eue({createStyledComponent:$e("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:t=>Ft({props:t,name:"MuiGrid"}),useTheme:rs});function Vk(t){return`scale(${t}, ${t**2})`}const cTe={entering:{opacity:1,transform:Vk(1)},entered:{opacity:1,transform:"none"}},sT=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),sv=A.forwardRef(function(e,n){const{addEndListener:r,appear:a=!0,children:i,easing:s,in:o,onEnter:l,onEntered:u,onEntering:d,onExit:h,onExited:m,onExiting:y,style:x,timeout:v="auto",TransitionComponent:_=Pc,...C}=e,w=rp(),T=A.useRef(),E=rs(),k=A.useRef(null),j=aa(k,Dp(i),n),O=H=>L=>{if(H){const V=k.current;L===void 0?H(V):H(V,L)}},z=O(d),M=O((H,L)=>{pO(H);const{duration:V,delay:J,easing:Q}=Ep({style:x,timeout:v,easing:s},{mode:"enter"});let K;v==="auto"?(K=E.transitions.getAutoHeightDuration(H.clientHeight),T.current=K):K=V,H.style.transition=[E.transitions.create("opacity",{duration:K,delay:J}),E.transitions.create("transform",{duration:sT?K:K*.666,delay:J,easing:Q})].join(","),l&&l(H,L)}),N=O(u),U=O(y),F=O(H=>{const{duration:L,delay:V,easing:J}=Ep({style:x,timeout:v,easing:s},{mode:"exit"});let Q;v==="auto"?(Q=E.transitions.getAutoHeightDuration(H.clientHeight),T.current=Q):Q=L,H.style.transition=[E.transitions.create("opacity",{duration:Q,delay:V}),E.transitions.create("transform",{duration:sT?Q:Q*.666,delay:sT?V:V||Q*.333,easing:J})].join(","),H.style.opacity=0,H.style.transform=Vk(.75),h&&h(H)}),$=O(m),D=H=>{v==="auto"&&w.start(T.current||0,H),r&&r(k.current,H)};return c.jsx(_,{appear:a,in:o,nodeRef:k,onEnter:M,onEntered:N,onEntering:z,onExit:F,onExited:$,onExiting:U,addEndListener:D,timeout:v==="auto"?null:v,...C,children:(H,{ownerState:L,...V})=>A.cloneElement(i,{style:{opacity:0,transform:Vk(.75),visibility:H==="exited"&&!o?"hidden":void 0,...cTe[H],...x,...i.props.style},ref:j,...V})})});sv&&(sv.muiSupportAuto=!0);const uTe=t=>{const{classes:e,disableUnderline:n}=t,a=Nt({root:["root",!n&&"underline"],input:["input"]},C5e,e);return{...e,...a}},dTe=$e(A5,{shouldForwardProp:t=>Ei(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...E5(t,e),!n.disableUnderline&&e.underline]}})(Rt(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Cx.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Cx.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Cx.disabled}, .${Cx.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Cx.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(rr()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),fTe=$e(R5,{name:"MuiInput",slot:"Input",overridesResolver:T5})({}),EO=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiInput"}),{disableUnderline:a=!1,components:i={},componentsProps:s,fullWidth:o=!1,inputComponent:l="input",multiline:u=!1,slotProps:d,slots:h={},type:m="text",...y}=r,x=uTe(r),_={root:{ownerState:{disableUnderline:a}}},C=d??s?Zi(d??s,_):_,w=h.root??i.Root??dTe,T=h.input??i.Input??fTe;return c.jsx(k5,{slots:{root:w,input:T},slotProps:C,fullWidth:o,inputComponent:l,multiline:u,ref:n,type:m,...y,classes:x})});EO.muiName="Input";function hTe(t){return Dt("MuiInputAdornment",t)}const vL=zt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var SL;const pTe=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Ue(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},mTe=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:a,size:i,variant:s}=t,o={root:["root",n&&"disablePointerEvents",a&&`position${Ue(a)}`,s,r&&"hiddenLabel",i&&`size${Ue(i)}`]};return Nt(o,hTe,e)},gTe=$e("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:pTe})(Rt(({theme:t})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${vL.positionStart}&:not(.${vL.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),Wk=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiInputAdornment"}),{children:a,className:i,component:s="div",disablePointerEvents:o=!1,disableTypography:l=!1,position:u,variant:d,...h}=r,m=wu()||{};let y=d;d&&m.variant,m&&!y&&(y=m.variant);const x={...r,hiddenLabel:m.hiddenLabel,size:m.size,disablePointerEvents:o,position:u,variant:y},v=mTe(x);return c.jsx(w5.Provider,{value:null,children:c.jsx(gTe,{as:s,ownerState:x,className:ut(v.root,i),ref:n,...h,children:typeof a=="string"&&!l?c.jsx(ae,{color:"textSecondary",children:a}):c.jsxs(A.Fragment,{children:[u==="start"?SL||(SL=c.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,a]})})})});function yTe(t){return Dt("MuiInputLabel",t)}zt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const bTe=t=>{const{classes:e,formControl:n,size:r,shrink:a,disableAnimation:i,variant:s,required:o}=t,l={root:["root",n&&"formControl",!i&&"animated",a&&"shrink",r&&r!=="medium"&&`size${Ue(r)}`,s],asterisk:[o&&"asterisk"]},u=Nt(l,yTe,e);return{...e,...u}},xTe=$e(A2,{shouldForwardProp:t=>Ei(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${T2.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(Rt(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),Ci=A.forwardRef(function(e,n){const r=Ft({name:"MuiInputLabel",props:e}),{disableAnimation:a=!1,margin:i,shrink:s,variant:o,className:l,...u}=r,d=wu();let h=s;typeof h>"u"&&d&&(h=d.filled||d.focused||d.adornedStart);const m=Np({props:r,muiFormControl:d,states:["size","variant","required","focused"]}),y={...r,disableAnimation:a,formControl:d,shrink:h,size:m.size,variant:m.variant,required:m.required,focused:m.focused},x=bTe(y);return c.jsx(xTe,{"data-shrink":h,ref:n,className:ut(x.root,l),...u,ownerState:y,classes:x})});function vTe(t){return Dt("MuiLinearProgress",t)}zt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Yk=4,Kk=Nd`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,STe=typeof Kk!="string"?Ip`
        animation: ${Kk} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,Xk=Nd`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,_Te=typeof Xk!="string"?Ip`
        animation: ${Xk} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,Qk=Nd`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,CTe=typeof Qk!="string"?Ip`
        animation: ${Qk} 3s infinite linear;
      `:null,wTe=t=>{const{classes:e,variant:n,color:r}=t,a={root:["root",`color${Ue(r)}`,n],dashed:["dashed",`dashedColor${Ue(r)}`],bar1:["bar","bar1",`barColor${Ue(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",n!=="buffer"&&`barColor${Ue(r)}`,n==="buffer"&&`color${Ue(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return Nt(a,vTe,e)},TO=(t,e)=>t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?t.lighten(t.palette[e].main,.62):t.darken(t.palette[e].main,.5),ETe=$e("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${Ue(n.color)}`],e[n.variant]]}})(Rt(({theme:t})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{backgroundColor:TO(t,e)}})),{props:({ownerState:e})=>e.color==="inherit"&&e.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),TTe=$e("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${Ue(n.color)}`]]}})(Rt(({theme:t})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(t.palette).filter(rr()).map(([e])=>{const n=TO(t,e);return{props:{color:e},style:{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`}}})]})),CTe||{animation:`${Qk} 3s infinite linear`}),ATe=$e("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e.bar1,e[`barColor${Ue(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(Rt(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main}})),{props:{variant:"determinate"},style:{transition:`transform .${Yk}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${Yk}s linear`}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:STe||{animation:`${Kk} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),RTe=$e("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e.bar2,e[`barColor${Ue(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(Rt(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{"--LinearProgressBar2-barColor":(t.vars||t).palette[e].main}})),{props:({ownerState:e})=>e.variant!=="buffer"&&e.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:e})=>e.variant!=="buffer"&&e.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e,variant:"buffer"},style:{backgroundColor:TO(t,e),transition:`transform .${Yk}s linear`}})),{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:_Te||{animation:`${Xk} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),Id=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiLinearProgress"}),{className:a,color:i="primary",value:s,valueBuffer:o,variant:l="indeterminate",...u}=r,d={...r,color:i,variant:l},h=wTe(d),m=Md(),y={},x={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&s!==void 0){y["aria-valuenow"]=Math.round(s),y["aria-valuemin"]=0,y["aria-valuemax"]=100;let v=s-100;m&&(v=-v),x.bar1.transform=`translateX(${v}%)`}if(l==="buffer"&&o!==void 0){let v=(o||0)-100;m&&(v=-v),x.bar2.transform=`translateX(${v}%)`}return c.jsxs(ETe,{className:ut(h.root,a),ownerState:d,role:"progressbar",...y,ref:n,...u,children:[l==="buffer"?c.jsx(TTe,{className:h.dashed,ownerState:d}):null,c.jsx(ATe,{className:h.bar1,ownerState:d,style:x.bar1}),l==="determinate"?null:c.jsx(RTe,{className:h.bar2,ownerState:d,style:x.bar2})]})});function kTe(t){return Dt("MuiLink",t)}const ITe=zt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),jTe=({theme:t,ownerState:e})=>{const n=e.color;if("colorSpace"in t&&t.colorSpace){const i=pd(t,`palette.${n}.main`)||pd(t,`palette.${n}`)||e.color;return t.alpha(i,.4)}const r=pd(t,`palette.${n}.main`,!1)||pd(t,`palette.${n}`,!1)||e.color,a=pd(t,`palette.${n}.mainChannel`)||pd(t,`palette.${n}Channel`);return"vars"in t&&a?`rgba(${a} / 0.4)`:_s(r,.4)},_L={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},OTe=t=>{const{classes:e,component:n,focusVisible:r,underline:a}=t,i={root:["root",`underline${Ue(a)}`,n==="button"&&"button",r&&"focusVisible"]};return Nt(i,kTe,e)},DTe=$e(ae,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`underline${Ue(n.underline)}`],n.component==="button"&&e.button]}})(Rt(({theme:t})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:n})=>e==="always"&&n.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},{props:({underline:e,ownerState:n})=>e==="always"&&n.color==="inherit",style:t.colorSpace?{textDecorationColor:t.alpha("currentColor",.4)}:null},...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":t.alpha((t.vars||t).palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.alpha((t.vars||t).palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.alpha((t.vars||t).palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${ITe.focusVisible}`]:{outline:"auto"}}}]}))),Zk=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiLink"}),a=rs(),{className:i,color:s="primary",component:o="a",onBlur:l,onFocus:u,TypographyClasses:d,underline:h="always",variant:m="inherit",sx:y,...x}=r,[v,_]=A.useState(!1),C=k=>{Ap(k.target)||_(!1),l&&l(k)},w=k=>{Ap(k.target)&&_(!0),u&&u(k)},T={...r,color:s,component:o,focusVisible:v,underline:h,variant:m},E=OTe(T);return c.jsx(DTe,{color:s,className:ut(E.root,i),classes:d,component:o,onBlur:C,onFocus:w,ref:n,ownerState:T,variant:m,...x,sx:[..._L[s]===void 0?[{color:s}]:[],...Array.isArray(y)?y:[y]],style:{...x.style,...h==="always"&&s!=="inherit"&&!_L[s]&&{"--Link-underlineColor":jTe({theme:a,ownerState:T})}}})}),pu=A.createContext({});function NTe(t){return Dt("MuiList",t)}zt("MuiList",["root","padding","dense","subheader"]);const MTe=t=>{const{classes:e,disablePadding:n,dense:r,subheader:a}=t;return Nt({root:["root",!n&&"padding",r&&"dense",a&&"subheader"]},NTe,e)},PTe=$e("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),Ff=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiList"}),{children:a,className:i,component:s="ul",dense:o=!1,disablePadding:l=!1,subheader:u,...d}=r,h=A.useMemo(()=>({dense:o}),[o]),m={...r,component:s,dense:o,disablePadding:l},y=MTe(m);return c.jsx(pu.Provider,{value:h,children:c.jsxs(PTe,{as:s,className:ut(y.root,i),ref:n,ownerState:m,...d,children:[u,a]})})});function LTe(t){return Dt("MuiListItem",t)}zt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function zTe(t){return Dt("MuiListItemButton",t)}const w1=zt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),FTe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},BTe=t=>{const{alignItems:e,classes:n,dense:r,disabled:a,disableGutters:i,divider:s,selected:o}=t,u=Nt({root:["root",r&&"dense",!i&&"gutters",s&&"divider",a&&"disabled",e==="flex-start"&&"alignItemsFlexStart",o&&"selected"]},zTe,n);return{...n,...u}},HTe=$e(xo,{shouldForwardProp:t=>Ei(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:FTe})(Rt(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${w1.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${w1.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${w1.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${w1.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${w1.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),dC=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiListItemButton"}),{alignItems:a="center",autoFocus:i=!1,component:s="div",children:o,dense:l=!1,disableGutters:u=!1,divider:d=!1,focusVisibleClassName:h,selected:m=!1,className:y,...x}=r,v=A.useContext(pu),_=A.useMemo(()=>({dense:l||v.dense||!1,alignItems:a,disableGutters:u}),[a,v.dense,l,u]),C=A.useRef(null);Ys(()=>{i&&C.current&&C.current.focus()},[i]);const w={...r,alignItems:a,dense:_.dense,disableGutters:u,divider:d,selected:m},T=BTe(w),E=aa(C,n);return c.jsx(pu.Provider,{value:_,children:c.jsx(HTe,{ref:E,href:x.href||x.to,component:(x.href||x.to)&&s==="div"?"button":s,focusVisibleClassName:ut(T.focusVisible,h),ownerState:w,className:ut(T.root,y),...x,classes:T,children:o})})});function UTe(t){return Dt("MuiListItemSecondaryAction",t)}zt("MuiListItemSecondaryAction",["root","disableGutters"]);const $Te=t=>{const{disableGutters:e,classes:n}=t;return Nt({root:["root",e&&"disableGutters"]},UTe,n)},GTe=$e("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),AO=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiListItemSecondaryAction"}),{className:a,...i}=r,s=A.useContext(pu),o={...r,disableGutters:s.disableGutters},l=$Te(o);return c.jsx(GTe,{className:ut(l.root,a),ownerState:o,ref:n,...i})});AO.muiName="ListItemSecondaryAction";const qTe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.hasSecondaryAction&&e.secondaryAction]},VTe=t=>{const{alignItems:e,classes:n,dense:r,disableGutters:a,disablePadding:i,divider:s,hasSecondaryAction:o}=t;return Nt({root:["root",r&&"dense",!a&&"gutters",!i&&"padding",s&&"divider",e==="flex-start"&&"alignItemsFlexStart",o&&"secondaryAction"],container:["container"]},LTe,n)},WTe=$e("div",{name:"MuiListItem",slot:"Root",overridesResolver:qTe})(Rt(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${w1.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),YTe=$e("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),Bf=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiListItem"}),{alignItems:a="center",children:i,className:s,component:o,components:l={},componentsProps:u={},ContainerComponent:d="li",ContainerProps:{className:h,...m}={},dense:y=!1,disableGutters:x=!1,disablePadding:v=!1,divider:_=!1,secondaryAction:C,slotProps:w={},slots:T={},...E}=r,k=A.useContext(pu),j=A.useMemo(()=>({dense:y||k.dense||!1,alignItems:a,disableGutters:x}),[a,k.dense,y,x]),O=A.useRef(null),z=A.Children.toArray(i),M=z.length&&S2(z[z.length-1],["ListItemSecondaryAction"]),N={...r,alignItems:a,dense:j.dense,disableGutters:x,disablePadding:v,divider:_,hasSecondaryAction:M},U=VTe(N),F=aa(O,n),$=T.root||l.Root||WTe,D=w.root||u.root||{},H={className:ut(U.root,D.className,s),...E};let L=o||"li";return M?(L=!H.component&&!o?"div":L,d==="li"&&(L==="li"?L="div":H.component==="li"&&(H.component="div")),c.jsx(pu.Provider,{value:j,children:c.jsxs(YTe,{as:d,className:ut(U.container,h),ref:F,ownerState:N,...m,children:[c.jsx($,{...D,...!Cd($)&&{as:L,ownerState:{...N,...D.ownerState}},...H,children:z}),z.pop()]})})):c.jsx(pu.Provider,{value:j,children:c.jsxs($,{...D,as:L,ref:F,...!Cd($)&&{ownerState:{...N,...D.ownerState}},...H,children:[z,C&&c.jsx(AO,{children:C})]})})});function KTe(t){return Dt("MuiListItemIcon",t)}const CL=zt("MuiListItemIcon",["root","alignItemsFlexStart"]),XTe=t=>{const{alignItems:e,classes:n}=t;return Nt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},KTe,n)},QTe=$e("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(Rt(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),lu=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiListItemIcon"}),{className:a,...i}=r,s=A.useContext(pu),o={...r,alignItems:s.alignItems},l=XTe(o);return c.jsx(QTe,{className:ut(l.root,a),ownerState:o,ref:n,...i})});function ZTe(t){return Dt("MuiListItemText",t)}const k1=zt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),JTe=t=>{const{classes:e,inset:n,primary:r,secondary:a,dense:i}=t;return Nt({root:["root",n&&"inset",i&&"dense",r&&a&&"multiline"],primary:["primary"],secondary:["secondary"]},ZTe,e)},e6e=$e("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${k1.primary}`]:e.primary},{[`& .${k1.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${VP.root}:where(& .${k1.primary})`]:{display:"block"},[`.${VP.root}:where(& .${k1.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Ss=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiListItemText"}),{children:a,className:i,disableTypography:s=!1,inset:o=!1,primary:l,primaryTypographyProps:u,secondary:d,secondaryTypographyProps:h,slots:m={},slotProps:y={},...x}=r,{dense:v}=A.useContext(pu);let _=l??a,C=d;const w={...r,disableTypography:s,inset:o,primary:!!_,secondary:!!C,dense:v},T=JTe(w),E={slots:m,slotProps:{primary:u,secondary:h,...y}},[k,j]=Ht("root",{className:ut(T.root,i),elementType:e6e,externalForwardedProps:{...E,...x},ownerState:w,ref:n}),[O,z]=Ht("primary",{className:T.primary,elementType:ae,externalForwardedProps:E,ownerState:w}),[M,N]=Ht("secondary",{className:T.secondary,elementType:ae,externalForwardedProps:E,ownerState:w});return _!=null&&_.type!==ae&&!s&&(_=c.jsx(O,{variant:v?"body2":"body1",component:z?.variant?void 0:"span",...z,children:_})),C!=null&&C.type!==ae&&!s&&(C=c.jsx(M,{variant:"body2",color:"textSecondary",...N,children:C})),c.jsxs(k,{...j,children:[_,C]})});function oT(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function wL(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function kX(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function wx(t,e,n,r,a,i){let s=!1,o=a(t,e,e?n:!1);for(;o;){if(o===t.firstChild){if(s)return!1;s=!0}const l=r?!1:o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||!kX(o,i)||l)o=a(t,o,n);else return o.focus(),!0}return!1}const t6e=A.forwardRef(function(e,n){const{actions:r,autoFocus:a=!1,autoFocusItem:i=!1,children:s,className:o,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:d,variant:h="selectedMenu",...m}=e,y=A.useRef(null),x=A.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ys(()=>{a&&y.current.focus()},[a]),A.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(T,{direction:E})=>{const k=!y.current.style.width;if(T.clientHeight<y.current.clientHeight&&k){const j=`${EX(Ol(T))}px`;y.current.style[E==="rtl"?"paddingLeft":"paddingRight"]=j,y.current.style.width=`calc(100% + ${j})`}return y.current}}),[]);const v=T=>{const E=y.current,k=T.key;if(T.ctrlKey||T.metaKey||T.altKey){d&&d(T);return}const O=ci(E).activeElement;if(k==="ArrowDown")T.preventDefault(),wx(E,O,u,l,oT);else if(k==="ArrowUp")T.preventDefault(),wx(E,O,u,l,wL);else if(k==="Home")T.preventDefault(),wx(E,null,u,l,oT);else if(k==="End")T.preventDefault(),wx(E,null,u,l,wL);else if(k.length===1){const z=x.current,M=k.toLowerCase(),N=performance.now();z.keys.length>0&&(N-z.lastTime>500?(z.keys=[],z.repeating=!0,z.previousKeyMatched=!0):z.repeating&&M!==z.keys[0]&&(z.repeating=!1)),z.lastTime=N,z.keys.push(M);const U=O&&!z.repeating&&kX(O,z);z.previousKeyMatched&&(U||wx(E,O,!1,l,oT,z))?T.preventDefault():z.previousKeyMatched=!1}d&&d(T)},_=aa(y,n);let C=-1;A.Children.forEach(s,(T,E)=>{if(!A.isValidElement(T)){C===E&&(C+=1,C>=s.length&&(C=-1));return}T.props.disabled||(h==="selectedMenu"&&T.props.selected||C===-1)&&(C=E),C===E&&(T.props.disabled||T.props.muiSkipListHighlight||T.type.muiSkipListHighlight)&&(C+=1,C>=s.length&&(C=-1))});const w=A.Children.map(s,(T,E)=>{if(E===C){const k={};return i&&(k.autoFocus=!0),T.props.tabIndex===void 0&&h==="selectedMenu"&&(k.tabIndex=0),A.cloneElement(T,k)}return T});return c.jsx(Ff,{role:"menu",ref:_,className:o,onKeyDown:v,tabIndex:a?0:-1,...m,children:w})});function n6e(t){return Dt("MuiPopover",t)}zt("MuiPopover",["root","paper"]);function EL(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function TL(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function AL(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function __(t){return typeof t=="function"?t():t}const r6e=t=>{const{classes:e}=t;return Nt({root:["root"],paper:["paper"]},n6e,e)},a6e=$e(CO,{name:"MuiPopover",slot:"Root"})({}),IX=$e(Yt,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),i6e=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiPopover"}),{action:a,anchorEl:i,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:o,anchorReference:l="anchorEl",children:u,className:d,container:h,elevation:m=8,marginThreshold:y=16,open:x,PaperProps:v={},slots:_={},slotProps:C={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:T,transitionDuration:E="auto",TransitionProps:k={},disableScrollLock:j=!1,...O}=r,z=A.useRef(),M={...r,anchorOrigin:s,anchorReference:l,elevation:m,marginThreshold:y,transformOrigin:w,TransitionComponent:T,transitionDuration:E,TransitionProps:k},N=r6e(M),U=A.useCallback(()=>{if(l==="anchorPosition")return o;const le=__(i),pe=(le&&le.nodeType===1?le:ci(z.current).body).getBoundingClientRect();return{top:pe.top+EL(pe,s.vertical),left:pe.left+TL(pe,s.horizontal)}},[i,s.horizontal,s.vertical,o,l]),F=A.useCallback(le=>({vertical:EL(le,w.vertical),horizontal:TL(le,w.horizontal)}),[w.horizontal,w.vertical]),$=A.useCallback(le=>{const de={width:le.offsetWidth,height:le.offsetHeight},pe=F(de);if(l==="none")return{top:null,left:null,transformOrigin:AL(pe)};const ve=U();let ge=ve.top-pe.vertical,oe=ve.left-pe.horizontal;const Se=ge+de.height,be=oe+de.width,Ae=Ol(__(i)),Me=Ae.innerHeight-y,Pe=Ae.innerWidth-y;if(y!==null&&ge<y){const Le=ge-y;ge-=Le,pe.vertical+=Le}else if(y!==null&&Se>Me){const Le=Se-Me;ge-=Le,pe.vertical+=Le}if(y!==null&&oe<y){const Le=oe-y;oe-=Le,pe.horizontal+=Le}else if(be>Pe){const Le=be-Pe;oe-=Le,pe.horizontal+=Le}return{top:`${Math.round(ge)}px`,left:`${Math.round(oe)}px`,transformOrigin:AL(pe)}},[i,l,U,F,y]),[D,H]=A.useState(x),L=A.useCallback(()=>{const le=z.current;if(!le)return;const de=$(le);de.top!==null&&le.style.setProperty("top",de.top),de.left!==null&&(le.style.left=de.left),le.style.transformOrigin=de.transformOrigin,H(!0)},[$]);A.useEffect(()=>(j&&window.addEventListener("scroll",L),()=>window.removeEventListener("scroll",L)),[i,j,L]);const V=()=>{L()},J=()=>{H(!1)};A.useEffect(()=>{x&&L()}),A.useImperativeHandle(a,()=>x?{updatePosition:()=>{L()}}:null,[x,L]),A.useEffect(()=>{if(!x)return;const le=Yv(()=>{L()}),de=Ol(__(i));return de.addEventListener("resize",le),()=>{le.clear(),de.removeEventListener("resize",le)}},[i,x,L]);let Q=E;const K={slots:{transition:T,..._},slotProps:{transition:k,paper:v,...C}},[q,Z]=Ht("transition",{elementType:sv,externalForwardedProps:K,ownerState:M,getSlotProps:le=>({...le,onEntering:(de,pe)=>{le.onEntering?.(de,pe),V()},onExited:de=>{le.onExited?.(de),J()}}),additionalProps:{appear:!0,in:x}});E==="auto"&&!q.muiSupportAuto&&(Q=void 0);const Y=h||(i?ci(__(i)).body:void 0),[ne,{slots:re,slotProps:ie,...ce}]=Ht("root",{ref:n,elementType:a6e,externalForwardedProps:{...K,...O},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:_.backdrop},slotProps:{backdrop:dO(typeof C.backdrop=="function"?C.backdrop(M):C.backdrop,{invisible:!0})},container:Y,open:x},ownerState:M,className:ut(N.root,d)}),[he,me]=Ht("paper",{ref:z,className:N.paper,elementType:IX,externalForwardedProps:K,shouldForwardComponentProp:!0,additionalProps:{elevation:m,style:D?void 0:{opacity:0}},ownerState:M});return c.jsx(ne,{...ce,...!Cd(ne)&&{slots:re,slotProps:ie,disableScrollLock:j},children:c.jsx(q,{...Z,timeout:Q,children:c.jsx(he,{...me,children:u})})})});function s6e(t){return Dt("MuiMenu",t)}zt("MuiMenu",["root","paper","list"]);const o6e={vertical:"top",horizontal:"right"},l6e={vertical:"top",horizontal:"left"},c6e=t=>{const{classes:e}=t;return Nt({root:["root"],paper:["paper"],list:["list"]},s6e,e)},u6e=$e(i6e,{shouldForwardProp:t=>Ei(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),d6e=$e(IX,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),f6e=$e(t6e,{name:"MuiMenu",slot:"List"})({outline:0}),wy=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:i,className:s,disableAutoFocusItem:o=!1,MenuListProps:l={},onClose:u,open:d,PaperProps:h={},PopoverClasses:m,transitionDuration:y="auto",TransitionProps:{onEntering:x,...v}={},variant:_="selectedMenu",slots:C={},slotProps:w={},...T}=r,E=Md(),k={...r,autoFocus:a,disableAutoFocusItem:o,MenuListProps:l,onEntering:x,PaperProps:h,transitionDuration:y,TransitionProps:v,variant:_},j=c6e(k),O=a&&!o&&d,z=A.useRef(null),M=(Q,K)=>{z.current&&z.current.adjustStyleForScrollbar(Q,{direction:E?"rtl":"ltr"}),x&&x(Q,K)},N=Q=>{Q.key==="Tab"&&(Q.preventDefault(),u&&u(Q,"tabKeyDown"))};let U=-1;A.Children.map(i,(Q,K)=>{A.isValidElement(Q)&&(Q.props.disabled||(_==="selectedMenu"&&Q.props.selected||U===-1)&&(U=K))});const F={slots:C,slotProps:{list:l,transition:v,paper:h,...w}},$=go({elementType:C.root,externalSlotProps:w.root,ownerState:k,className:[j.root,s]}),[D,H]=Ht("paper",{className:j.paper,elementType:d6e,externalForwardedProps:F,shouldForwardComponentProp:!0,ownerState:k}),[L,V]=Ht("list",{className:ut(j.list,l.className),elementType:f6e,shouldForwardComponentProp:!0,externalForwardedProps:F,getSlotProps:Q=>({...Q,onKeyDown:K=>{N(K),Q.onKeyDown?.(K)}}),ownerState:k}),J=typeof F.slotProps.transition=="function"?F.slotProps.transition(k):F.slotProps.transition;return c.jsx(u6e,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:E?"right":"left"},transformOrigin:E?o6e:l6e,slots:{root:C.root,paper:D,backdrop:C.backdrop,...C.transition&&{transition:C.transition}},slotProps:{root:$,paper:H,backdrop:typeof w.backdrop=="function"?w.backdrop(k):w.backdrop,transition:{...J,onEntering:(...Q)=>{M(...Q),J?.onEntering?.(...Q)}}},open:d,ref:n,transitionDuration:y,ownerState:k,...T,classes:m,children:c.jsx(L,{actions:z,autoFocus:a&&(U===-1||o),autoFocusItem:O,variant:_,...V,children:i})})});function h6e(t){return Dt("MuiMenuItem",t)}const Ex=zt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),p6e=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},m6e=t=>{const{disabled:e,dense:n,divider:r,disableGutters:a,selected:i,classes:s}=t,l=Nt({root:["root",n&&"dense",e&&"disabled",!a&&"gutters",r&&"divider",i&&"selected"]},h6e,s);return{...s,...l}},g6e=$e(xo,{shouldForwardProp:t=>Ei(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:p6e})(Rt(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ex.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${Ex.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${Ex.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${Ex.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Ex.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${gL.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${gL.inset}`]:{marginLeft:52},[`& .${k1.root}`]:{marginTop:0,marginBottom:0},[`& .${k1.inset}`]:{paddingLeft:36},[`& .${CL.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${CL.root} svg`]:{fontSize:"1.25rem"}}}]}))),en=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiMenuItem"}),{autoFocus:a=!1,component:i="li",dense:s=!1,divider:o=!1,disableGutters:l=!1,focusVisibleClassName:u,role:d="menuitem",tabIndex:h,className:m,...y}=r,x=A.useContext(pu),v=A.useMemo(()=>({dense:s||x.dense||!1,disableGutters:l}),[x.dense,s,l]),_=A.useRef(null);Ys(()=>{a&&_.current&&_.current.focus()},[a]);const C={...r,dense:v.dense,divider:o,disableGutters:l},w=m6e(r),T=aa(_,n);let E;return r.disabled||(E=h!==void 0?h:-1),c.jsx(pu.Provider,{value:v,children:c.jsx(g6e,{ref:T,role:d,tabIndex:E,component:i,focusVisibleClassName:ut(w.focusVisible,u),className:ut(w.root,m),...y,ownerState:C,classes:w})})});function y6e(t){return Dt("MuiNativeSelect",t)}const RO=zt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),b6e=t=>{const{classes:e,variant:n,disabled:r,multiple:a,open:i,error:s}=t,o={select:["select",n,r&&"disabled",a&&"multiple",s&&"error"],icon:["icon",`icon${Ue(n)}`,i&&"iconOpen",r&&"disabled"]};return Nt(o,y6e,e)},jX=$e("select",{name:"MuiNativeSelect"})(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${RO.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),x6e=$e(jX,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ei,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${RO.multiple}`]:e.multiple}]}})({}),OX=$e("svg",{name:"MuiNativeSelect"})(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${RO.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),v6e=$e(OX,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ue(n.variant)}`],n.open&&e.iconOpen]}})({}),S6e=A.forwardRef(function(e,n){const{className:r,disabled:a,error:i,IconComponent:s,inputRef:o,variant:l="standard",...u}=e,d={...e,disabled:a,variant:l,error:i},h=b6e(d);return c.jsxs(A.Fragment,{children:[c.jsx(x6e,{ownerState:d,className:ut(h.select,r),disabled:a,ref:o||n,...u}),e.multiple?null:c.jsx(v6e,{as:s,ownerState:d,className:h.icon})]})});var RL;const _6e=$e("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Ei})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),C6e=$e("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Ei})(Rt(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function w6e(t){const{children:e,classes:n,className:r,label:a,notched:i,...s}=t,o=a!=null&&a!=="",l={...t,notched:i,withLabel:o};return c.jsx(_6e,{"aria-hidden":!0,className:r,ownerState:l,...s,children:c.jsx(C6e,{ownerState:l,children:o?c.jsx("span",{children:a}):RL||(RL=c.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const E6e=t=>{const{classes:e}=t,r=Nt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},w5e,e);return{...e,...r}},T6e=$e(A5,{shouldForwardProp:t=>Ei(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:E5})(Rt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${od.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${od.notchedOutline}`]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}},[`&.${od.focused} .${od.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(rr()).map(([n])=>({props:{color:n},style:{[`&.${od.focused} .${od.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${od.error} .${od.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${od.disabled} .${od.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),A6e=$e(w6e,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Rt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}})),R6e=$e(R5,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:T5})(Rt(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),kO=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiOutlinedInput"}),{components:a={},fullWidth:i=!1,inputComponent:s="input",label:o,multiline:l=!1,notched:u,slots:d={},slotProps:h={},type:m="text",...y}=r,x=E6e(r),v=wu(),_=Np({props:r,muiFormControl:v,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),C={...r,color:_.color||"primary",disabled:_.disabled,error:_.error,focused:_.focused,formControl:v,fullWidth:i,hiddenLabel:_.hiddenLabel,multiline:l,size:_.size,type:m},w=d.root??a.Root??T6e,T=d.input??a.Input??R6e,[E,k]=Ht("notchedOutline",{elementType:A6e,className:x.notchedOutline,shouldForwardComponentProp:!0,ownerState:C,externalForwardedProps:{slots:d,slotProps:h},additionalProps:{label:o!=null&&o!==""&&_.required?c.jsxs(A.Fragment,{children:[o,"","*"]}):o}});return c.jsx(k5,{slots:{root:w,input:T},slotProps:h,renderSuffix:j=>c.jsx(E,{...k,notched:typeof u<"u"?u:!!(j.startAdornment||j.filled||j.focused)}),fullWidth:i,inputComponent:s,multiline:l,ref:n,type:m,...y,classes:{...x,notchedOutline:null}})});kO.muiName="Input";function k6e(t){return Dt("MuiPagination",t)}zt("MuiPagination",["root","ul","outlined","text"]);function I6e(t={}){const{boundaryCount:e=1,componentName:n="usePagination",count:r=1,defaultPage:a=1,disabled:i=!1,hideNextButton:s=!1,hidePrevButton:o=!1,onChange:l,page:u,showFirstButton:d=!1,showLastButton:h=!1,siblingCount:m=1,...y}=t,[x,v]=wp({controlled:u,default:a,name:n,state:"page"}),_=(M,N)=>{u||v(N),l&&l(M,N)},C=(M,N)=>{const U=N-M+1;return Array.from({length:U},(F,$)=>M+$)},w=C(1,Math.min(e,r)),T=C(Math.max(r-e+1,e+1),r),E=Math.max(Math.min(x-m,r-e-m*2-1),e+2),k=Math.min(Math.max(x+m,e+m*2+2),r-e-1),j=[...d?["first"]:[],...o?[]:["previous"],...w,...E>e+2?["start-ellipsis"]:e+1<r-e?[e+1]:[],...C(E,k),...k<r-e-1?["end-ellipsis"]:r-e>e?[r-e]:[],...T,...s?[]:["next"],...h?["last"]:[]],O=M=>{switch(M){case"first":return 1;case"previous":return x-1;case"next":return x+1;case"last":return r;default:return null}};return{items:j.map(M=>typeof M=="number"?{onClick:N=>{_(N,M)},type:"page",page:M,selected:M===x,disabled:i,"aria-current":M===x?"page":void 0}:{onClick:N=>{_(N,O(M))},type:M,page:O(M),selected:!1,disabled:i||!M.includes("ellipsis")&&(M==="next"||M==="last"?x>=r:x<=1)}),...y}}function j6e(t){return Dt("MuiPaginationItem",t)}const fo=zt("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),DX=mt(c.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),NX=mt(c.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"})),O6e=mt(c.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),D6e=mt(c.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),MX=(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Ue(n.size)}`],n.variant==="text"&&e[`text${Ue(n.color)}`],n.variant==="outlined"&&e[`outlined${Ue(n.color)}`],n.shape==="rounded"&&e.rounded,n.type==="page"&&e.page,(n.type==="start-ellipsis"||n.type==="end-ellipsis")&&e.ellipsis,(n.type==="previous"||n.type==="next")&&e.previousNext,(n.type==="first"||n.type==="last")&&e.firstLast]},N6e=t=>{const{classes:e,color:n,disabled:r,selected:a,size:i,shape:s,type:o,variant:l}=t,u={root:["root",`size${Ue(i)}`,l,s,n!=="standard"&&`color${Ue(n)}`,n!=="standard"&&`${l}${Ue(n)}`,r&&"disabled",a&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[o]],icon:["icon"]};return Nt(u,j6e,e)},M6e=$e("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:MX})(Rt(({theme:t})=>({...t.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,height:"auto",[`&.${fo.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:{size:"small"},style:{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)}}]}))),P6e=$e(xo,{name:"MuiPaginationItem",slot:"Root",overridesResolver:MX})(Rt(({theme:t})=>({...t.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,[`&.${fo.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${fo.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},transition:t.transitions.create(["color","background-color"],{duration:t.transitions.duration.short}),"&:hover":{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${fo.selected}`]:{backgroundColor:(t.vars||t).palette.action.selected,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${fo.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},[`&.${fo.disabled}`]:{opacity:1,color:(t.vars||t).palette.action.disabled,backgroundColor:(t.vars||t).palette.action.selected}},variants:[{props:{size:"small"},style:{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)}},{props:{shape:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"outlined"},style:{border:t.vars?`1px solid ${t.alpha(t.vars.palette.common.onBackground,.23)}`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${fo.selected}`]:{[`&.${fo.disabled}`]:{borderColor:(t.vars||t).palette.action.disabledBackground,color:(t.vars||t).palette.action.disabled}}}},{props:{variant:"text"},style:{[`&.${fo.selected}`]:{[`&.${fo.disabled}`]:{color:(t.vars||t).palette.action.disabled}}}},...Object.entries(t.palette).filter(rr(["dark","contrastText"])).map(([e])=>({props:{variant:"text",color:e},style:{[`&.${fo.selected}`]:{color:(t.vars||t).palette[e].contrastText,backgroundColor:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:(t.vars||t).palette[e].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e].main}},[`&.${fo.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e].dark},[`&.${fo.disabled}`]:{color:(t.vars||t).palette.action.disabled}}}})),...Object.entries(t.palette).filter(rr(["light"])).map(([e])=>({props:{variant:"outlined",color:e},style:{[`&.${fo.selected}`]:{color:(t.vars||t).palette[e].main,border:`1px solid ${t.alpha((t.vars||t).palette[e].main,.5)}`,backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.activatedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,`${(t.vars||t).palette.action.activatedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${fo.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[e].main,`${(t.vars||t).palette.action.activatedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}}}))]}))),L6e=$e("div",{name:"MuiPaginationItem",slot:"Icon"})(Rt(({theme:t})=>({fontSize:t.typography.pxToRem(20),margin:"0 -8px",variants:[{props:{size:"small"},style:{fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:t.typography.pxToRem(22)}}]}))),z6e=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiPaginationItem"}),{className:a,color:i="standard",component:s,components:o={},disabled:l=!1,page:u,selected:d=!1,shape:h="circular",size:m="medium",slots:y={},slotProps:x={},type:v="page",variant:_="text",...C}=r,w={...r,color:i,disabled:l,selected:d,shape:h,size:m,type:v,variant:_},T=Md(),E=N6e(w),k={slots:{previous:y.previous??o.previous,next:y.next??o.next,first:y.first??o.first,last:y.last??o.last},slotProps:x},[j,O]=Ht("previous",{elementType:O6e,externalForwardedProps:k,ownerState:w}),[z,M]=Ht("next",{elementType:D6e,externalForwardedProps:k,ownerState:w}),[N,U]=Ht("first",{elementType:DX,externalForwardedProps:k,ownerState:w}),[F,$]=Ht("last",{elementType:NX,externalForwardedProps:k,ownerState:w}),D=T?{previous:"next",next:"previous",first:"last",last:"first"}[v]:v,H={previous:j,next:z,first:N,last:F}[D],L={previous:O,next:M,first:U,last:$}[D];return v==="start-ellipsis"||v==="end-ellipsis"?c.jsx(M6e,{ref:n,ownerState:w,className:ut(E.root,a),children:""}):c.jsxs(P6e,{ref:n,ownerState:w,component:s,disabled:l,className:ut(E.root,a),...C,children:[v==="page"&&u,H?c.jsx(L6e,{...L,className:E.icon,as:H}):null]})}),F6e=t=>{const{classes:e,variant:n}=t;return Nt({root:["root",n],ul:["ul"]},k6e,e)},B6e=$e("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant]]}})({}),H6e=$e("ul",{name:"MuiPagination",slot:"Ul"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function U6e(t,e,n){return t==="page"?`${n?"":"Go to "}page ${e}`:`Go to ${t} page`}const $6e=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiPagination"}),{boundaryCount:a=1,className:i,color:s="standard",count:o=1,defaultPage:l=1,disabled:u=!1,getItemAriaLabel:d=U6e,hideNextButton:h=!1,hidePrevButton:m=!1,onChange:y,page:x,renderItem:v=N=>c.jsx(z6e,{...N}),shape:_="circular",showFirstButton:C=!1,showLastButton:w=!1,siblingCount:T=1,size:E="medium",variant:k="text",...j}=r,{items:O}=I6e({...r,componentName:"Pagination"}),z={...r,boundaryCount:a,color:s,count:o,defaultPage:l,disabled:u,getItemAriaLabel:d,hideNextButton:h,hidePrevButton:m,renderItem:v,shape:_,showFirstButton:C,showLastButton:w,siblingCount:T,size:E,variant:k},M=F6e(z);return c.jsx(B6e,{"aria-label":"pagination navigation",className:ut(M.root,i),ownerState:z,ref:n,...j,children:c.jsx(H6e,{className:M.ul,ownerState:z,children:O.map((N,U)=>c.jsx("li",{children:v({...N,color:s,"aria-label":d(N.type,N.page,N.selected),shape:_,size:E,variant:k})},U))})})}),G6e=mt(c.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),q6e=mt(c.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"})),V6e=$e("span",{name:"MuiRadioButtonIcon",shouldForwardProp:Ei})({position:"relative",display:"flex"}),W6e=$e(G6e,{name:"MuiRadioButtonIcon"})({transform:"scale(1)"}),Y6e=$e(q6e,{name:"MuiRadioButtonIcon"})(Rt(({theme:t})=>({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})}}]})));function PX(t){const{checked:e=!1,classes:n={},fontSize:r}=t,a={...t,checked:e};return c.jsxs(V6e,{className:n.root,ownerState:a,children:[c.jsx(W6e,{fontSize:r,className:n.background,ownerState:a}),c.jsx(Y6e,{fontSize:r,className:n.dot,ownerState:a})]})}const LX=A.createContext(void 0);function K6e(){return A.useContext(LX)}function X6e(t){return Dt("MuiRadio",t)}const kL=zt("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),Q6e=t=>{const{classes:e,color:n,size:r}=t,a={root:["root",`color${Ue(n)}`,r!=="medium"&&`size${Ue(r)}`]};return{...e,...Nt(a,X6e,e)}},Z6e=$e(_O,{shouldForwardProp:t=>Ei(t)||t==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size!=="medium"&&e[`size${Ue(n.size)}`],e[`color${Ue(n.color)}`]]}})(Rt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,[`&.${kL.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e,disabled:!1},style:{[`&.${kL.checked}`]:{color:(t.vars||t).palette[e].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]})));function J6e(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}const e8e=c.jsx(PX,{checked:!0}),t8e=c.jsx(PX,{}),Rf=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiRadio"}),{checked:a,checkedIcon:i=e8e,color:s="primary",icon:o=t8e,name:l,onChange:u,size:d="medium",className:h,disabled:m,disableRipple:y=!1,slots:x={},slotProps:v={},inputProps:_,...C}=r,w=wu();let T=m;w&&typeof T>"u"&&(T=w.disabled),T??=!1;const E={...r,disabled:T,disableRipple:y,color:s,size:d},k=Q6e(E),j=K6e();let O=a;const z=Nk(u,j&&j.onChange);let M=l;j&&(typeof O>"u"&&(O=J6e(j.value,r.value)),typeof M>"u"&&(M=j.name));const N=v.input??_,[U,F]=Ht("root",{ref:n,elementType:Z6e,className:ut(k.root,h),shouldForwardComponentProp:!0,externalForwardedProps:{slots:x,slotProps:v,...C},getSlotProps:$=>({...$,onChange:(D,...H)=>{$.onChange?.(D,...H),z(D,...H)}}),ownerState:E,additionalProps:{type:"radio",icon:A.cloneElement(o,{fontSize:o.props.fontSize??d}),checkedIcon:A.cloneElement(i,{fontSize:i.props.fontSize??d}),disabled:T,name:M,checked:O,slots:x,slotProps:{input:typeof N=="function"?N(E):N}}});return c.jsx(U,{...F,classes:k})});function n8e(t){return Dt("MuiRadioGroup",t)}zt("MuiRadioGroup",["root","row","error"]);const r8e=t=>{const{classes:e,row:n,error:r}=t;return Nt({root:["root",n&&"row",r&&"error"]},n8e,e)},I4=A.forwardRef(function(e,n){const{actions:r,children:a,className:i,defaultValue:s,name:o,onChange:l,value:u,...d}=e,h=A.useRef(null),m=r8e(e),[y,x]=wp({controlled:u,default:s,name:"RadioGroup"});A.useImperativeHandle(r,()=>({focus:()=>{let w=h.current.querySelector("input:not(:disabled):checked");w||(w=h.current.querySelector("input:not(:disabled)")),w&&w.focus()}}),[]);const v=aa(n,h),_=Rd(o),C=A.useMemo(()=>({name:_,onChange(w){x(w.target.value),l&&l(w,w.target.value)},value:y}),[_,l,x,y]);return c.jsx(LX.Provider,{value:C,children:c.jsx(eTe,{role:"radiogroup",ref:v,className:ut(m.root,i),...d,children:a})})}),a8e={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function zX(t){return Dt("MuiSelect",t)}const Tx=zt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var IL;const i8e=$e(jX,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Tx.select}`]:e.select},{[`&.${Tx.select}`]:e[n.variant]},{[`&.${Tx.error}`]:e.error},{[`&.${Tx.multiple}`]:e.multiple}]}})({[`&.${Tx.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),s8e=$e(OX,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ue(n.variant)}`],n.open&&e.iconOpen]}})({}),o8e=$e("input",{shouldForwardProp:t=>v5(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function jL(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function l8e(t){return t==null||typeof t=="string"&&!t.trim()}const c8e=t=>{const{classes:e,variant:n,disabled:r,multiple:a,open:i,error:s}=t,o={select:["select",n,r&&"disabled",a&&"multiple",s&&"error"],icon:["icon",`icon${Ue(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Nt(o,zX,e)},u8e=A.forwardRef(function(e,n){const{"aria-describedby":r,"aria-label":a,autoFocus:i,autoWidth:s,children:o,className:l,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:m,error:y=!1,IconComponent:x,inputRef:v,labelId:_,MenuProps:C={},multiple:w,name:T,onBlur:E,onChange:k,onClose:j,onFocus:O,onOpen:z,open:M,readOnly:N,renderValue:U,required:F,SelectDisplayProps:$={},tabIndex:D,type:H,value:L,variant:V="standard",...J}=e,[Q,K]=wp({controlled:L,default:d,name:"Select"}),[q,Z]=wp({controlled:M,default:u,name:"Select"}),Y=A.useRef(null),ne=A.useRef(null),[re,ie]=A.useState(null),{current:ce}=A.useRef(M!=null),[he,me]=A.useState(),le=aa(n,v),de=A.useCallback(nt=>{ne.current=nt,nt&&ie(nt)},[]),pe=re?.parentNode;A.useImperativeHandle(le,()=>({focus:()=>{ne.current.focus()},node:Y.current,value:Q}),[Q]),A.useEffect(()=>{u&&q&&re&&!ce&&(me(s?null:pe.clientWidth),ne.current.focus())},[re,s]),A.useEffect(()=>{i&&ne.current.focus()},[i]),A.useEffect(()=>{if(!_)return;const nt=ci(ne.current).getElementById(_);if(nt){const dt=()=>{getSelection().isCollapsed&&ne.current.focus()};return nt.addEventListener("click",dt),()=>{nt.removeEventListener("click",dt)}}},[_]);const ve=(nt,dt)=>{nt?z&&z(dt):j&&j(dt),ce||(me(s?null:pe.clientWidth),Z(nt))},ge=nt=>{nt.button===0&&(nt.preventDefault(),ne.current.focus(),ve(!0,nt))},oe=nt=>{ve(!1,nt)},Se=A.Children.toArray(o),be=nt=>{const dt=Se.find($t=>$t.props.value===nt.target.value);dt!==void 0&&(K(dt.props.value),k&&k(nt,dt))},Ae=nt=>dt=>{let $t;if(dt.currentTarget.hasAttribute("tabindex")){if(w){$t=Array.isArray(Q)?Q.slice():[];const Wt=Q.indexOf(nt.props.value);Wt===-1?$t.push(nt.props.value):$t.splice(Wt,1)}else $t=nt.props.value;if(nt.props.onClick&&nt.props.onClick(dt),Q!==$t&&(K($t),k)){const Wt=dt.nativeEvent||dt,sn=new Wt.constructor(Wt.type,Wt);Object.defineProperty(sn,"target",{writable:!0,value:{value:$t,name:T}}),k(sn,nt)}w||ve(!1,dt)}},Me=nt=>{N||[" ","ArrowUp","ArrowDown","Enter"].includes(nt.key)&&(nt.preventDefault(),ve(!0,nt))},Pe=re!==null&&q,Le=nt=>{!Pe&&E&&(Object.defineProperty(nt,"target",{writable:!0,value:{value:Q,name:T}}),E(nt))};delete J["aria-invalid"];let Oe,Xe;const ke=[];let Ie=!1;(cC({value:Q})||m)&&(U?Oe=U(Q):Ie=!0);const ye=Se.map(nt=>{if(!A.isValidElement(nt))return null;let dt;if(w){if(!Array.isArray(Q))throw new Error(Lf(2));dt=Q.some($t=>jL($t,nt.props.value)),dt&&Ie&&ke.push(nt.props.children)}else dt=jL(Q,nt.props.value),dt&&Ie&&(Xe=nt.props.children);return A.cloneElement(nt,{"aria-selected":dt?"true":"false",onClick:Ae(nt),onKeyUp:$t=>{$t.key===" "&&$t.preventDefault(),nt.props.onKeyUp&&nt.props.onKeyUp($t)},role:"option",selected:dt,value:void 0,"data-value":nt.props.value})});Ie&&(w?ke.length===0?Oe=null:Oe=ke.reduce((nt,dt,$t)=>(nt.push(dt),$t<ke.length-1&&nt.push(", "),nt),[]):Oe=Xe);let Ce=he;!s&&ce&&re&&(Ce=pe.clientWidth);let Ne;typeof D<"u"?Ne=D:Ne=h?null:0;const Be=$.id||(T?`mui-component-select-${T}`:void 0),Ke={...e,variant:V,value:Q,open:Pe,error:y},Je=c8e(Ke),Ge={...C.PaperProps,...typeof C.slotProps?.paper=="function"?C.slotProps.paper(Ke):C.slotProps?.paper},it={...C.MenuListProps,...typeof C.slotProps?.list=="function"?C.slotProps.list(Ke):C.slotProps?.list},ct=Rd();return c.jsxs(A.Fragment,{children:[c.jsx(i8e,{as:"div",ref:de,tabIndex:Ne,role:"combobox","aria-controls":Pe?ct:void 0,"aria-disabled":h?"true":void 0,"aria-expanded":Pe?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[_,Be].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":F?"true":void 0,"aria-invalid":y?"true":void 0,onKeyDown:Me,onMouseDown:h||N?null:ge,onBlur:Le,onFocus:O,...$,ownerState:Ke,className:ut($.className,Je.select,l),id:Be,children:l8e(Oe)?IL||(IL=c.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Oe}),c.jsx(o8e,{"aria-invalid":y,value:Array.isArray(Q)?Q.join(","):Q,name:T,ref:Y,"aria-hidden":!0,onChange:be,tabIndex:-1,disabled:h,className:Je.nativeInput,autoFocus:i,required:F,...J,ownerState:Ke}),c.jsx(s8e,{as:x,className:Je.icon,ownerState:Ke}),c.jsx(wy,{id:`menu-${T||""}`,anchorEl:pe,open:Pe,onClose:oe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...C,slotProps:{...C.slotProps,list:{"aria-labelledby":_,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:ct,...it},paper:{...Ge,style:{minWidth:Ce,...Ge!=null?Ge.style:null}}},children:ye})]})}),d8e=t=>{const{classes:e}=t,r=Nt({root:["root"]},zX,e);return{...e,...r}},IO={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>Ei(t)&&t!=="variant"},f8e=$e(EO,IO)(""),h8e=$e(kO,IO)(""),p8e=$e(wO,IO)(""),Ha=A.forwardRef(function(e,n){const r=Ft({name:"MuiSelect",props:e}),{autoWidth:a=!1,children:i,classes:s={},className:o,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:d=T5e,id:h,input:m,inputProps:y,label:x,labelId:v,MenuProps:_,multiple:C=!1,native:w=!1,onClose:T,onOpen:E,open:k,renderValue:j,SelectDisplayProps:O,variant:z="outlined",...M}=r,N=w?S6e:u8e,U=wu(),F=Np({props:r,muiFormControl:U,states:["variant","error"]}),$=F.variant||z,D={...r,variant:$,classes:s},H=d8e(D),{root:L,...V}=H,J=m||{standard:c.jsx(f8e,{ownerState:D}),outlined:c.jsx(h8e,{label:x,ownerState:D}),filled:c.jsx(p8e,{ownerState:D})}[$],Q=aa(n,Dp(J));return c.jsx(A.Fragment,{children:A.cloneElement(J,{inputComponent:N,inputProps:{children:i,error:F.error,IconComponent:d,variant:$,type:void 0,multiple:C,...w?{id:h}:{autoWidth:a,defaultOpen:l,displayEmpty:u,labelId:v,MenuProps:_,onClose:T,onOpen:E,open:k,renderValue:j,SelectDisplayProps:{id:h,...O}},...y,classes:y?Zi(V,y.classes):V,...m?m.props.inputProps:{}},...(C&&w||u)&&$==="outlined"?{notched:!0}:{},ref:Q,className:ut(J.props.className,o,H.root),...!m&&{variant:$},...M})})});Ha.muiName="Select";function m8e(t){return Dt("MuiSkeleton",t)}zt("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const g8e=t=>{const{classes:e,variant:n,animation:r,hasChildren:a,width:i,height:s}=t;return Nt({root:["root",n,r,a&&"withChildren",a&&!i&&"fitContent",a&&!s&&"heightAuto"]},m8e,e)},Jk=Nd`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,eI=Nd`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,y8e=typeof Jk!="string"?Ip`
        animation: ${Jk} 2s ease-in-out 0.5s infinite;
      `:null,b8e=typeof eI!="string"?Ip`
        &::after {
          animation: ${eI} 2s linear 0.5s infinite;
        }
      `:null,x8e=$e("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.animation!==!1&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})(Rt(({theme:t})=>{const e=b_e(t.shape.borderRadius)||"px",n=x_e(t.shape.borderRadius);return{display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:t.alpha(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${e}/${Math.round(n/.6*10)/10}${e}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:y8e||{animation:`${Jk} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(t.vars||t).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:b8e||{"&::after":{animation:`${eI} 2s linear 0.5s infinite`}}}]}})),du=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiSkeleton"}),{animation:a="pulse",className:i,component:s="span",height:o,style:l,variant:u="text",width:d,...h}=r,m={...r,animation:a,component:s,variant:u,hasChildren:!!h.children},y=g8e(m);return c.jsx(x8e,{as:s,ref:n,className:ut(y.root,i),ownerState:m,...h,style:{width:d,height:o,...l}})});function v8e(t,e,n=(r,a)=>r===a){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}const S8e=2;function a1(t,e,n,r,a){return n===1?Math.min(t+e,a):Math.max(t-e,r)}function FX(t,e){return t-e}function OL(t,e){const{index:n}=t.reduce((r,a,i)=>{const s=Math.abs(e-a);return r===null||s<r.distance||s===r.distance?{distance:s,index:i}:r},null)??{};return n}function C_(t,e){if(e.current!==void 0&&t.changedTouches){const n=t;for(let r=0;r<n.changedTouches.length;r+=1){const a=n.changedTouches[r];if(a.identifier===e.current)return{x:a.clientX,y:a.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function fC(t,e,n){return(t-e)*100/(n-e)}function _8e(t,e,n){return(n-e)*t+e}function C8e(t){if(Math.abs(t)<1){const n=t.toExponential().split("e-"),r=n[0].split(".")[1];return(r?r.length:0)+parseInt(n[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function w8e(t,e,n){const r=Math.round((t-n)/e)*e+n;return Number(r.toFixed(C8e(e)))}function DL({values:t,newValue:e,index:n}){const r=t.slice();return r[n]=e,r.sort(FX)}function w_({sliderRef:t,activeIndex:e,setActive:n}){const r=ci(t.current);(!t.current?.contains(r.activeElement)||Number(r?.activeElement?.getAttribute("data-index"))!==e)&&t.current?.querySelector(`[type="range"][data-index="${e}"]`).focus(),n&&n(e)}function E_(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?v8e(t,e):!1}const E8e={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},T8e=t=>t;let T_;function NL(){return T_===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?T_=CSS.supports("touch-action","none"):T_=!0),T_}function A8e(t){const{"aria-labelledby":e,defaultValue:n,disabled:r=!1,disableSwap:a=!1,isRtl:i=!1,marks:s=!1,max:o=100,min:l=0,name:u,onChange:d,onChangeCommitted:h,orientation:m="horizontal",rootRef:y,scale:x=T8e,step:v=1,shiftStep:_=10,tabIndex:C,value:w}=t,T=A.useRef(void 0),[E,k]=A.useState(-1),[j,O]=A.useState(-1),[z,M]=A.useState(!1),N=A.useRef(0),U=A.useRef(null),[F,$]=wp({controlled:w,default:n??l,name:"Slider"}),D=d&&((Ie,ye,Ce)=>{const Ne=Ie.nativeEvent||Ie,Be=new Ne.constructor(Ne.type,Ne);Object.defineProperty(Be,"target",{writable:!0,value:{value:ye,name:u}}),U.current=ye,d(Be,ye,Ce)}),H=Array.isArray(F);let L=H?F.slice().sort(FX):[F];L=L.map(Ie=>Ie==null?l:_1(Ie,l,o));const V=s===!0&&v!==null?[...Array(Math.floor((o-l)/v)+1)].map((Ie,ye)=>({value:l+v*ye})):s||[],J=V.map(Ie=>Ie.value),[Q,K]=A.useState(-1),q=A.useRef(null),Z=aa(y,q),Y=Ie=>ye=>{const Ce=Number(ye.currentTarget.getAttribute("data-index"));Ap(ye.target)&&K(Ce),O(Ce),Ie?.onFocus?.(ye)},ne=Ie=>ye=>{Ap(ye.target)||K(-1),O(-1),Ie?.onBlur?.(ye)},re=(Ie,ye)=>{const Ce=Number(Ie.currentTarget.getAttribute("data-index")),Ne=L[Ce],Be=J.indexOf(Ne);let Ke=ye;if(V&&v==null){const Je=J[J.length-1];Ke>=Je?Ke=Je:Ke<=J[0]?Ke=J[0]:Ke=Ke<Ne?J[Be-1]:J[Be+1]}if(Ke=_1(Ke,l,o),H){a&&(Ke=_1(Ke,L[Ce-1]||-1/0,L[Ce+1]||1/0));const Je=Ke;Ke=DL({values:L,newValue:Ke,index:Ce});let Ge=Ce;a||(Ge=Ke.indexOf(Je)),w_({sliderRef:q,activeIndex:Ge})}$(Ke),K(Ce),D&&!E_(Ke,F)&&D(Ie,Ke,Ce),h&&h(Ie,U.current??Ke)},ie=Ie=>ye=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(ye.key)){ye.preventDefault();const Ce=Number(ye.currentTarget.getAttribute("data-index")),Ne=L[Ce];let Be=null;if(v!=null){const Ke=ye.shiftKey?_:v;switch(ye.key){case"ArrowUp":Be=a1(Ne,Ke,1,l,o);break;case"ArrowRight":Be=a1(Ne,Ke,i?-1:1,l,o);break;case"ArrowDown":Be=a1(Ne,Ke,-1,l,o);break;case"ArrowLeft":Be=a1(Ne,Ke,i?1:-1,l,o);break;case"PageUp":Be=a1(Ne,_,1,l,o);break;case"PageDown":Be=a1(Ne,_,-1,l,o);break;case"Home":Be=l;break;case"End":Be=o;break}}else if(V){const Ke=J[J.length-1],Je=J.indexOf(Ne),Ge=[i?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],it=[i?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];Ge.includes(ye.key)?Je===0?Be=J[0]:Be=J[Je-1]:it.includes(ye.key)&&(Je===J.length-1?Be=Ke:Be=J[Je+1])}Be!=null&&re(ye,Be)}Ie?.onKeyDown?.(ye)};Ys(()=>{r&&q.current.contains(document.activeElement)&&document.activeElement?.blur()},[r]),r&&E!==-1&&k(-1),r&&Q!==-1&&K(-1);const ce=Ie=>ye=>{Ie.onChange?.(ye),re(ye,ye.target.valueAsNumber)},he=A.useRef(void 0);let me=m;i&&m==="horizontal"&&(me+="-reverse");const le=({finger:Ie,move:ye=!1})=>{const{current:Ce}=q,{width:Ne,height:Be,bottom:Ke,left:Je}=Ce.getBoundingClientRect();let Ge;me.startsWith("vertical")?Ge=(Ke-Ie.y)/Be:Ge=(Ie.x-Je)/Ne,me.includes("-reverse")&&(Ge=1-Ge);let it;if(it=_8e(Ge,l,o),v)it=w8e(it,v,l);else{const nt=OL(J,it);it=J[nt]}it=_1(it,l,o);let ct=0;if(H){ye?ct=he.current:ct=OL(L,it),a&&(it=_1(it,L[ct-1]||-1/0,L[ct+1]||1/0));const nt=it;it=DL({values:L,newValue:it,index:ct}),a&&ye||(ct=it.indexOf(nt),he.current=ct)}return{newValue:it,activeIndex:ct}},de=Ji(Ie=>{const ye=C_(Ie,T);if(!ye)return;if(N.current+=1,Ie.type==="mousemove"&&Ie.buttons===0){pe(Ie);return}const{newValue:Ce,activeIndex:Ne}=le({finger:ye,move:!0});w_({sliderRef:q,activeIndex:Ne,setActive:k}),$(Ce),!z&&N.current>S8e&&M(!0),D&&!E_(Ce,F)&&D(Ie,Ce,Ne)}),pe=Ji(Ie=>{const ye=C_(Ie,T);if(M(!1),!ye)return;const{newValue:Ce}=le({finger:ye,move:!0});k(-1),Ie.type==="touchend"&&O(-1),h&&h(Ie,U.current??Ce),T.current=void 0,ge()}),ve=Ji(Ie=>{if(r)return;NL()||Ie.preventDefault();const ye=Ie.changedTouches[0];ye!=null&&(T.current=ye.identifier);const Ce=C_(Ie,T);if(Ce!==!1){const{newValue:Be,activeIndex:Ke}=le({finger:Ce});w_({sliderRef:q,activeIndex:Ke,setActive:k}),$(Be),D&&!E_(Be,F)&&D(Ie,Be,Ke)}N.current=0;const Ne=ci(q.current);Ne.addEventListener("touchmove",de,{passive:!0}),Ne.addEventListener("touchend",pe,{passive:!0})}),ge=A.useCallback(()=>{const Ie=ci(q.current);Ie.removeEventListener("mousemove",de),Ie.removeEventListener("mouseup",pe),Ie.removeEventListener("touchmove",de),Ie.removeEventListener("touchend",pe)},[pe,de]);A.useEffect(()=>{const{current:Ie}=q;return Ie.addEventListener("touchstart",ve,{passive:NL()}),()=>{Ie.removeEventListener("touchstart",ve),ge()}},[ge,ve]),A.useEffect(()=>{r&&ge()},[r,ge]);const oe=Ie=>ye=>{if(Ie.onMouseDown?.(ye),r||ye.defaultPrevented||ye.button!==0)return;ye.preventDefault();const Ce=C_(ye,T);if(Ce!==!1){const{newValue:Be,activeIndex:Ke}=le({finger:Ce});w_({sliderRef:q,activeIndex:Ke,setActive:k}),$(Be),D&&!E_(Be,F)&&D(ye,Be,Ke)}N.current=0;const Ne=ci(q.current);Ne.addEventListener("mousemove",de,{passive:!0}),Ne.addEventListener("mouseup",pe)},Se=fC(H?L[0]:l,l,o),be=fC(L[L.length-1],l,o)-Se,Ae=(Ie={})=>{const ye=rg(Ie),Ce={onMouseDown:oe(ye||{})},Ne={...ye,...Ce};return{...Ie,ref:Z,...Ne}},Me=Ie=>ye=>{Ie.onMouseOver?.(ye);const Ce=Number(ye.currentTarget.getAttribute("data-index"));O(Ce)},Pe=Ie=>ye=>{Ie.onMouseLeave?.(ye),O(-1)},Le=(Ie={})=>{const ye=rg(Ie),Ce={onMouseOver:Me(ye||{}),onMouseLeave:Pe(ye||{})};return{...Ie,...ye,...Ce}},Oe=Ie=>({pointerEvents:E!==-1&&E!==Ie?"none":void 0});let Xe;return m==="vertical"&&(Xe=i?"vertical-rl":"vertical-lr"),{active:E,axis:me,axisProps:E8e,dragging:z,focusedThumbIndex:Q,getHiddenInputProps:(Ie={})=>{const ye=rg(Ie),Ce={onChange:ce(ye||{}),onFocus:Y(ye||{}),onBlur:ne(ye||{}),onKeyDown:ie(ye||{})},Ne={...ye,...Ce};return{tabIndex:C,"aria-labelledby":e,"aria-orientation":m,"aria-valuemax":x(o),"aria-valuemin":x(l),name:u,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":t.step??void 0,disabled:r,...Ie,...Ne,style:{...a8e,direction:i?"rtl":"ltr",width:"100%",height:"100%",writingMode:Xe}}},getRootProps:Ae,getThumbProps:Le,marks:V,open:j,range:H,rootRef:Z,trackLeap:be,trackOffset:Se,values:L,getThumbStyle:Oe}}const R8e=t=>!t||!Cd(t);function k8e(t){return Dt("MuiSlider",t)}const Cc=zt("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),I8e=t=>{const{open:e}=t;return{offset:ut(e&&Cc.valueLabelOpen),circle:Cc.valueLabelCircle,label:Cc.valueLabelLabel}};function j8e(t){const{children:e,className:n,value:r}=t,a=I8e(t);return e?A.cloneElement(e,{className:e.props.className},c.jsxs(A.Fragment,{children:[e.props.children,c.jsx("span",{className:ut(a.offset,n),"aria-hidden":!0,children:c.jsx("span",{className:a.circle,children:c.jsx("span",{className:a.label,children:r})})})]})):null}function ML(t){return t}const O8e=$e("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${Ue(n.color)}`],n.size!=="medium"&&e[`size${Ue(n.size)}`],n.marked&&e.marked,n.orientation==="vertical"&&e.vertical,n.track==="inverted"&&e.trackInverted,n.track===!1&&e.trackFalse]}})(Rt(({theme:t})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Cc.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${Cc.dragging}`]:{[`& .${Cc.thumb}, & .${Cc.track}`]:{transition:"none"}},variants:[...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),D8e=$e("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),N8e=$e("span",{name:"MuiSlider",slot:"Track"})(Rt(({theme:t})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e,track:"inverted"},style:{...t.vars?{backgroundColor:t.vars.palette.Slider[`${e}Track`],borderColor:t.vars.palette.Slider[`${e}Track`]}:{backgroundColor:t.lighten(t.palette[e].main,.62),borderColor:t.lighten(t.palette[e].main,.62),...t.applyStyles("dark",{backgroundColor:t.darken(t.palette[e].main,.5)}),...t.applyStyles("dark",{borderColor:t.darken(t.palette[e].main,.5)})}}}))]}))),M8e=$e("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.thumb,e[`thumbColor${Ue(n.color)}`],n.size!=="medium"&&e[`thumbSize${Ue(n.size)}`]]}})(Rt(({theme:t})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Cc.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${Cc.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${t.alpha((t.vars||t).palette[e].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${Cc.active}`]:{boxShadow:`0px 0px 0px 14px ${t.alpha((t.vars||t).palette[e].main,.16)}`}}}))]}))),P8e=$e(j8e,{name:"MuiSlider",slot:"ValueLabel"})(Rt(({theme:t})=>({zIndex:1,whiteSpace:"nowrap",...t.typography.body2,fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Cc.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Cc.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),L8e=$e("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>v5(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:n}=t;return[e.mark,n&&e.markActive]}})(Rt(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}))),z8e=$e("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>v5(t)&&t!=="markLabelActive"})(Rt(({theme:t})=>({...t.typography.body2,color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]}))),F8e=t=>{const{disabled:e,dragging:n,marked:r,orientation:a,track:i,classes:s,color:o,size:l}=t,u={root:["root",e&&"disabled",n&&"dragging",r&&"marked",a==="vertical"&&"vertical",i==="inverted"&&"trackInverted",i===!1&&"trackFalse",o&&`color${Ue(o)}`,l&&`size${Ue(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",l&&`thumbSize${Ue(l)}`,o&&`thumbColor${Ue(o)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Nt(u,k8e,s)},B8e=({children:t})=>t,Ba=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiSlider"}),a=Md(),{"aria-label":i,"aria-valuetext":s,"aria-labelledby":o,component:l="span",components:u={},componentsProps:d={},color:h="primary",classes:m,className:y,disableSwap:x=!1,disabled:v=!1,getAriaLabel:_,getAriaValueText:C,marks:w=!1,max:T=100,min:E=0,name:k,onChange:j,onChangeCommitted:O,orientation:z="horizontal",shiftStep:M=10,size:N="medium",step:U=1,scale:F=ML,slotProps:$,slots:D,tabIndex:H,track:L="normal",value:V,valueLabelDisplay:J="off",valueLabelFormat:Q=ML,...K}=r,q={...r,isRtl:a,max:T,min:E,classes:m,disabled:v,disableSwap:x,orientation:z,marks:w,color:h,size:N,step:U,shiftStep:M,scale:F,track:L,valueLabelDisplay:J,valueLabelFormat:Q},{axisProps:Z,getRootProps:Y,getHiddenInputProps:ne,getThumbProps:re,open:ie,active:ce,axis:he,focusedThumbIndex:me,range:le,dragging:de,marks:pe,values:ve,trackOffset:ge,trackLeap:oe,getThumbStyle:Se}=A8e({...q,rootRef:n});q.marked=pe.length>0&&pe.some(Gt=>Gt.label),q.dragging=de,q.focusedThumbIndex=me;const be=F8e(q),Ae=D?.root??u.Root??O8e,Me=D?.rail??u.Rail??D8e,Pe=D?.track??u.Track??N8e,Le=D?.thumb??u.Thumb??M8e,Oe=D?.valueLabel??u.ValueLabel??P8e,Xe=D?.mark??u.Mark??L8e,ke=D?.markLabel??u.MarkLabel??z8e,Ie=D?.input??u.Input??"input",ye=$?.root??d.root,Ce=$?.rail??d.rail,Ne=$?.track??d.track,Be=$?.thumb??d.thumb,Ke=$?.valueLabel??d.valueLabel,Je=$?.mark??d.mark,Ge=$?.markLabel??d.markLabel,it=$?.input??d.input,ct=go({elementType:Ae,getSlotProps:Y,externalSlotProps:ye,externalForwardedProps:K,additionalProps:{...R8e(Ae)&&{as:l}},ownerState:{...q,...ye?.ownerState},className:[be.root,y]}),nt=go({elementType:Me,externalSlotProps:Ce,ownerState:q,className:be.rail}),dt=go({elementType:Pe,externalSlotProps:Ne,additionalProps:{style:{...Z[he].offset(ge),...Z[he].leap(oe)}},ownerState:{...q,...Ne?.ownerState},className:be.track}),$t=go({elementType:Le,getSlotProps:re,externalSlotProps:Be,ownerState:{...q,...Be?.ownerState},className:be.thumb}),Wt=go({elementType:Oe,externalSlotProps:Ke,ownerState:{...q,...Ke?.ownerState},className:be.valueLabel}),sn=go({elementType:Xe,externalSlotProps:Je,ownerState:q,className:be.mark}),xn=go({elementType:ke,externalSlotProps:Ge,ownerState:q,className:be.markLabel}),In=go({elementType:Ie,getSlotProps:ne,externalSlotProps:it,ownerState:q});return c.jsxs(Ae,{...ct,children:[c.jsx(Me,{...nt}),c.jsx(Pe,{...dt}),pe.filter(Gt=>Gt.value>=E&&Gt.value<=T).map((Gt,xt)=>{const Zt=fC(Gt.value,E,T),Cn=Z[he].offset(Zt);let jn;return L===!1?jn=ve.includes(Gt.value):jn=L==="normal"&&(le?Gt.value>=ve[0]&&Gt.value<=ve[ve.length-1]:Gt.value<=ve[0])||L==="inverted"&&(le?Gt.value<=ve[0]||Gt.value>=ve[ve.length-1]:Gt.value>=ve[0]),c.jsxs(A.Fragment,{children:[c.jsx(Xe,{"data-index":xt,...sn,...!Cd(Xe)&&{markActive:jn},style:{...Cn,...sn.style},className:ut(sn.className,jn&&be.markActive)}),Gt.label!=null?c.jsx(ke,{"aria-hidden":!0,"data-index":xt,...xn,...!Cd(ke)&&{markLabelActive:jn},style:{...Cn,...xn.style},className:ut(be.markLabel,xn.className,jn&&be.markLabelActive),children:Gt.label}):null]},xt)}),ve.map((Gt,xt)=>{const Zt=fC(Gt,E,T),Cn=Z[he].offset(Zt),jn=J==="off"?B8e:Oe;return c.jsx(jn,{...!Cd(jn)&&{valueLabelFormat:Q,valueLabelDisplay:J,value:typeof Q=="function"?Q(F(Gt),xt):Q,index:xt,open:ie===xt||ce===xt||J==="on",disabled:v},...Wt,children:c.jsx(Le,{"data-index":xt,...$t,className:ut(be.thumb,$t.className,ce===xt&&be.active,me===xt&&be.focusVisible),style:{...Cn,...Se(xt),...$t.style},children:c.jsx(Ie,{"data-index":xt,"aria-label":_?_(xt):i,"aria-valuenow":F(Gt),"aria-labelledby":o,"aria-valuetext":C?C(F(Gt),xt):s,value:ve[xt],...In})})},xt)})]})});function H8e(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:a,resumeHideDuration:i}=t,s=rp();A.useEffect(()=>{if(!a)return;function C(w){w.defaultPrevented||w.key==="Escape"&&r?.(w,"escapeKeyDown")}return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[a,r]);const o=Ji((C,w)=>{r?.(C,w)}),l=Ji(C=>{!r||C==null||s.start(C,()=>{o(null,"timeout")})});A.useEffect(()=>(a&&l(e),s.clear),[a,e,l,s]);const u=C=>{r?.(C,"clickaway")},d=s.clear,h=A.useCallback(()=>{e!=null&&l(i??e*.5)},[e,i,l]),m=C=>w=>{const T=C.onBlur;T?.(w),h()},y=C=>w=>{const T=C.onFocus;T?.(w),d()},x=C=>w=>{const T=C.onMouseEnter;T?.(w),d()},v=C=>w=>{const T=C.onMouseLeave;T?.(w),h()};return A.useEffect(()=>{if(!n&&a)return window.addEventListener("focus",h),window.addEventListener("blur",d),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",d)}},[n,a,h,d]),{getRootProps:(C={})=>{const w={...rg(t),...rg(C)};return{role:"presentation",...C,...w,onBlur:m(w),onFocus:y(w),onMouseEnter:x(w),onMouseLeave:v(w)}},onClickAway:u}}function U8e(t){return Dt("MuiSnackbarContent",t)}zt("MuiSnackbarContent",["root","message","action"]);const $8e=t=>{const{classes:e}=t;return Nt({root:["root"],action:["action"],message:["message"]},U8e,e)},G8e=$e(Yt,{name:"MuiSnackbarContent",slot:"Root"})(Rt(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98;return{...t.typography.body2,color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(J2(t.palette.background.default,e)),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:J2(t.palette.background.default,e),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),q8e=$e("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"}),V8e=$e("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),W8e=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiSnackbarContent"}),{action:a,className:i,message:s,role:o="alert",...l}=r,u=r,d=$8e(u);return c.jsxs(G8e,{role:o,elevation:6,className:ut(d.root,i),ownerState:u,ref:n,...l,children:[c.jsx(q8e,{className:d.message,ownerState:u,children:s}),a?c.jsx(V8e,{className:d.action,ownerState:u,children:a}):null]})});function Y8e(t){return Dt("MuiSnackbar",t)}zt("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const K8e=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${Ue(n.vertical)}${Ue(n.horizontal)}`]};return Nt(r,Y8e,e)},X8e=$e("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${Ue(n.anchorOrigin.vertical)}${Ue(n.anchorOrigin.horizontal)}`]]}})(Rt(({theme:t})=>({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:e})=>e.anchorOrigin.vertical==="top",style:{top:8,[t.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:e})=>e.anchorOrigin.vertical!=="top",style:{bottom:8,[t.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[t.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[t.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="center",style:{[t.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),jg=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiSnackbar"}),a=rs(),i={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:o,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:u=null,children:d,className:h,ClickAwayListenerProps:m,ContentProps:y,disableWindowBlurListener:x=!1,message:v,onBlur:_,onClose:C,onFocus:w,onMouseEnter:T,onMouseLeave:E,open:k,resumeHideDuration:j,slots:O={},slotProps:z={},TransitionComponent:M,transitionDuration:N=i,TransitionProps:{onEnter:U,onExited:F,...$}={},...D}=r,H={...r,anchorOrigin:{vertical:o,horizontal:l},autoHideDuration:u,disableWindowBlurListener:x,TransitionComponent:M,transitionDuration:N},L=K8e(H),{getRootProps:V,onClickAway:J}=H8e({...H}),[Q,K]=A.useState(!0),q=ve=>{K(!0),F&&F(ve)},Z=(ve,ge)=>{K(!1),U&&U(ve,ge)},Y={slots:{transition:M,...O},slotProps:{content:y,clickAwayListener:m,transition:$,...z}},[ne,re]=Ht("root",{ref:n,className:[L.root,h],elementType:X8e,getSlotProps:V,externalForwardedProps:{...Y,...D},ownerState:H}),[ie,{ownerState:ce,...he}]=Ht("clickAwayListener",{elementType:zwe,externalForwardedProps:Y,getSlotProps:ve=>({onClickAway:(...ge)=>{const oe=ge[0];ve.onClickAway?.(...ge),!oe?.defaultMuiPrevented&&J(...ge)}}),ownerState:H}),[me,le]=Ht("content",{elementType:W8e,shouldForwardComponentProp:!0,externalForwardedProps:Y,additionalProps:{message:v,action:s},ownerState:H}),[de,pe]=Ht("transition",{elementType:sv,externalForwardedProps:Y,getSlotProps:ve=>({onEnter:(...ge)=>{ve.onEnter?.(...ge),Z(...ge)},onExited:(...ge)=>{ve.onExited?.(...ge),q(...ge)}}),additionalProps:{appear:!0,in:k,timeout:N,direction:o==="top"?"down":"up"},ownerState:H});return!k&&Q?null:c.jsx(ie,{...he,...O.clickAwayListener&&{ownerState:ce},children:c.jsx(ne,{...re,children:c.jsx(de,{...pe,children:d||c.jsx(me,{...le})})})})});function Q8e(t){return Dt("MuiTooltip",t)}const Qa=zt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function Z8e(t){return Math.round(t*1e5)/1e5}const J8e=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:a,placement:i}=t,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",a&&"touch",`tooltipPlacement${Ue(i.split("-")[0])}`],arrow:["arrow"]};return Nt(s,Q8e,e)},eAe=$e(_X,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(Rt(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${Qa.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Qa.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Qa.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Qa.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Qa.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Qa.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Qa.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Qa.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),tAe=$e("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${Ue(n.placement.split("-")[0])}`]]}})(Rt(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${Qa.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Qa.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Qa.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Qa.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${Z8e(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${Qa.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Qa.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${Qa.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Qa.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${Qa.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Qa.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${Qa.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Qa.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Qa.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Qa.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),nAe=$e("span",{name:"MuiTooltip",slot:"Arrow"})(Rt(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let A_=!1;const PL=new _5;let Ax={x:0,y:0};function R_(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const Xt=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiTooltip"}),{arrow:a=!1,children:i,classes:s,components:o={},componentsProps:l={},describeChild:u=!1,disableFocusListener:d=!1,disableHoverListener:h=!1,disableInteractive:m=!1,disableTouchListener:y=!1,enterDelay:x=100,enterNextDelay:v=0,enterTouchDelay:_=700,followCursor:C=!1,id:w,leaveDelay:T=0,leaveTouchDelay:E=1500,onClose:k,onOpen:j,open:O,placement:z="bottom",PopperComponent:M,PopperProps:N={},slotProps:U={},slots:F={},title:$,TransitionComponent:D,TransitionProps:H,...L}=r,V=A.isValidElement(i)?i:c.jsx("span",{children:i}),J=rs(),Q=Md(),[K,q]=A.useState(),[Z,Y]=A.useState(null),ne=A.useRef(!1),re=m||C,ie=rp(),ce=rp(),he=rp(),me=rp(),[le,de]=wp({controlled:O,default:!1,name:"Tooltip",state:"open"});let pe=le;const ve=Rd(w),ge=A.useRef(),oe=Ji(()=>{ge.current!==void 0&&(document.body.style.WebkitUserSelect=ge.current,ge.current=void 0),me.clear()});A.useEffect(()=>oe,[oe]);const Se=Ut=>{PL.clear(),A_=!0,de(!0),j&&!pe&&j(Ut)},be=Ji(Ut=>{PL.start(800+T,()=>{A_=!1}),de(!1),k&&pe&&k(Ut),ie.start(J.transitions.duration.shortest,()=>{ne.current=!1})}),Ae=Ut=>{ne.current&&Ut.type!=="touchstart"||(K&&K.removeAttribute("title"),ce.clear(),he.clear(),x||A_&&v?ce.start(A_?v:x,()=>{Se(Ut)}):Se(Ut))},Me=Ut=>{ce.clear(),he.start(T,()=>{be(Ut)})},[,Pe]=A.useState(!1),Le=Ut=>{Ap(Ut.target)||(Pe(!1),Me(Ut))},Oe=Ut=>{K||q(Ut.currentTarget),Ap(Ut.target)&&(Pe(!0),Ae(Ut))},Xe=Ut=>{ne.current=!0;const Tn=V.props;Tn.onTouchStart&&Tn.onTouchStart(Ut)},ke=Ut=>{Xe(Ut),he.clear(),ie.clear(),oe(),ge.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",me.start(_,()=>{document.body.style.WebkitUserSelect=ge.current,Ae(Ut)})},Ie=Ut=>{V.props.onTouchEnd&&V.props.onTouchEnd(Ut),oe(),he.start(E,()=>{be(Ut)})};A.useEffect(()=>{if(!pe)return;function Ut(Tn){Tn.key==="Escape"&&be(Tn)}return document.addEventListener("keydown",Ut),()=>{document.removeEventListener("keydown",Ut)}},[be,pe]);const ye=aa(Dp(V),q,n);!$&&$!==0&&(pe=!1);const Ce=A.useRef(),Ne=Ut=>{const Tn=V.props;Tn.onMouseMove&&Tn.onMouseMove(Ut),Ax={x:Ut.clientX,y:Ut.clientY},Ce.current&&Ce.current.update()},Be={},Ke=typeof $=="string";u?(Be.title=!pe&&Ke&&!h?$:null,Be["aria-describedby"]=pe?ve:null):(Be["aria-label"]=Ke?$:null,Be["aria-labelledby"]=pe&&!Ke?ve:null);const Je={...Be,...L,...V.props,className:ut(L.className,V.props.className),onTouchStart:Xe,ref:ye,...C?{onMouseMove:Ne}:{}},Ge={};y||(Je.onTouchStart=ke,Je.onTouchEnd=Ie),h||(Je.onMouseOver=R_(Ae,Je.onMouseOver),Je.onMouseLeave=R_(Me,Je.onMouseLeave),re||(Ge.onMouseOver=Ae,Ge.onMouseLeave=Me)),d||(Je.onFocus=R_(Oe,Je.onFocus),Je.onBlur=R_(Le,Je.onBlur),re||(Ge.onFocus=Oe,Ge.onBlur=Le));const it={...r,isRtl:Q,arrow:a,disableInteractive:re,placement:z,PopperComponentProp:M,touch:ne.current},ct=typeof U.popper=="function"?U.popper(it):U.popper,nt=A.useMemo(()=>{let Ut=[{name:"arrow",enabled:!!Z,options:{element:Z,padding:4}}];return N.popperOptions?.modifiers&&(Ut=Ut.concat(N.popperOptions.modifiers)),ct?.popperOptions?.modifiers&&(Ut=Ut.concat(ct.popperOptions.modifiers)),{...N.popperOptions,...ct?.popperOptions,modifiers:Ut}},[Z,N.popperOptions,ct?.popperOptions]),dt=J8e(it),$t=typeof U.transition=="function"?U.transition(it):U.transition,Wt={slots:{popper:o.Popper,transition:o.Transition??D,tooltip:o.Tooltip,arrow:o.Arrow,...F},slotProps:{arrow:U.arrow??l.arrow,popper:{...N,...ct??l.popper},tooltip:U.tooltip??l.tooltip,transition:{...H,...$t??l.transition}}},[sn,xn]=Ht("popper",{elementType:eAe,externalForwardedProps:Wt,ownerState:it,className:ut(dt.popper,N?.className)}),[In,Gt]=Ht("transition",{elementType:sv,externalForwardedProps:Wt,ownerState:it}),[xt,Zt]=Ht("tooltip",{elementType:tAe,className:dt.tooltip,externalForwardedProps:Wt,ownerState:it}),[Cn,jn]=Ht("arrow",{elementType:nAe,className:dt.arrow,externalForwardedProps:Wt,ownerState:it,ref:Y});return c.jsxs(A.Fragment,{children:[A.cloneElement(V,Je),c.jsx(sn,{as:M??_X,placement:z,anchorEl:C?{getBoundingClientRect:()=>({top:Ax.y,left:Ax.x,right:Ax.x,bottom:Ax.y,width:0,height:0})}:K,popperRef:Ce,open:K?pe:!1,id:ve,transition:!0,...Ge,...xn,popperOptions:nt,children:({TransitionProps:Ut})=>c.jsx(In,{timeout:J.transitions.duration.shorter,...Ut,...Gt,children:c.jsxs(xt,{...Zt,children:[$,a?c.jsx(Cn,{...jn}):null]})})})]})}),fn=Oue({createStyledComponent:$e("div",{name:"MuiStack",slot:"Root"}),useThemeProps:t=>Ft({props:t,name:"MuiStack"})});function rAe(t){return Dt("MuiSwitch",t)}const po=zt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),aAe=t=>{const{classes:e,edge:n,size:r,color:a,checked:i,disabled:s}=t,o={root:["root",n&&`edge${Ue(n)}`,`size${Ue(r)}`],switchBase:["switchBase",`color${Ue(a)}`,i&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=Nt(o,rAe,e);return{...e,...l}},iAe=$e("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.edge&&e[`edge${Ue(n.edge)}`],e[`size${Ue(n.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${po.thumb}`]:{width:16,height:16},[`& .${po.switchBase}`]:{padding:4,[`&.${po.checked}`]:{transform:"translateX(16px)"}}}}]}),sAe=$e(_O,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.switchBase,{[`& .${po.input}`]:e.input},n.color!=="default"&&e[`color${Ue(n.color)}`]]}})(Rt(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${po.checked}`]:{transform:"translateX(20px)"},[`&.${po.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${po.checked} + .${po.track}`]:{opacity:.5},[`&.${po.disabled} + .${po.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${po.input}`]:{left:"-100%",width:"300%"}})),Rt(({theme:t})=>({"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(rr(["light"])).map(([e])=>({props:{color:e},style:{[`&.${po.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${po.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?t.lighten(t.palette[e].main,.62):t.darken(t.palette[e].main,.55)}`}},[`&.${po.checked} + .${po.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]}))),oAe=$e("span",{name:"MuiSwitch",slot:"Track"})(Rt(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`}))),lAe=$e("span",{name:"MuiSwitch",slot:"Thumb"})(Rt(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),ii=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiSwitch"}),{className:a,color:i="primary",edge:s=!1,size:o="medium",sx:l,slots:u={},slotProps:d={},...h}=r,m={...r,color:i,edge:s,size:o},y=aAe(m),x={slots:u,slotProps:d},[v,_]=Ht("root",{className:ut(y.root,a),elementType:iAe,externalForwardedProps:x,ownerState:m,additionalProps:{sx:l}}),[C,w]=Ht("thumb",{className:y.thumb,elementType:lAe,externalForwardedProps:x,ownerState:m}),T=c.jsx(C,{...w}),[E,k]=Ht("track",{className:y.track,elementType:oAe,externalForwardedProps:x,ownerState:m});return c.jsxs(v,{..._,children:[c.jsx(sAe,{type:"checkbox",icon:T,checkedIcon:T,ref:n,ownerState:m,...h,classes:{...y,root:y.switchBase},slots:{...u.switchBase&&{root:u.switchBase},...u.input&&{input:u.input}},slotProps:{...d.switchBase&&{root:typeof d.switchBase=="function"?d.switchBase(m):d.switchBase},input:{role:"switch"},...d.input&&{input:typeof d.input=="function"?d.input(m):d.input}}}),c.jsx(E,{...k})]})});function cAe(t){return Dt("MuiTab",t)}const dc=zt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),uAe=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:a,icon:i,label:s,selected:o,disabled:l}=t,u={root:["root",i&&s&&"labelIcon",`textColor${Ue(n)}`,r&&"fullWidth",a&&"wrapped",o&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]};return Nt(u,cAe,e)},dAe=$e(xo,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${Ue(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped,{[`& .${dc.iconWrapper}`]:e.iconWrapper},{[`& .${dc.icon}`]:e.icon}]}})(Rt(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="top",style:{[`& > .${dc.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="bottom",style:{[`& > .${dc.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="start",style:{[`& > .${dc.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="end",style:{[`& > .${dc.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${dc.selected}`]:{opacity:1},[`&.${dc.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${dc.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${dc.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${dc.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${dc.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),Vn=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiTab"}),{className:a,disabled:i=!1,disableFocusRipple:s=!1,fullWidth:o,icon:l,iconPosition:u="top",indicator:d,label:h,onChange:m,onClick:y,onFocus:x,selected:v,selectionFollowsFocus:_,textColor:C="inherit",value:w,wrapped:T=!1,...E}=r,k={...r,disabled:i,disableFocusRipple:s,selected:v,icon:!!l,iconPosition:u,label:!!h,fullWidth:o,textColor:C,wrapped:T},j=uAe(k),O=l&&h&&A.isValidElement(l)?A.cloneElement(l,{className:ut(j.icon,l.props.className)}):l,z=N=>{!v&&m&&m(N,w),y&&y(N)},M=N=>{_&&!v&&m&&m(N,w),x&&x(N)};return c.jsxs(dAe,{focusRipple:!s,className:ut(j.root,a),ref:n,role:"tab","aria-selected":v,disabled:i,onClick:z,onFocus:M,ownerState:k,tabIndex:v?0:-1,...E,children:[u==="top"||u==="start"?c.jsxs(A.Fragment,{children:[O,h]}):c.jsxs(A.Fragment,{children:[h,O]}),d]})}),BX=A.createContext();function fAe(t){return Dt("MuiTable",t)}zt("MuiTable",["root","stickyHeader"]);const hAe=t=>{const{classes:e,stickyHeader:n}=t;return Nt({root:["root",n&&"stickyHeader"]},fAe,e)},pAe=$e("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(Rt(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),LL="table",I5=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiTable"}),{className:a,component:i=LL,padding:s="normal",size:o="medium",stickyHeader:l=!1,...u}=r,d={...r,component:i,padding:s,size:o,stickyHeader:l},h=hAe(d),m=A.useMemo(()=>({padding:s,size:o,stickyHeader:l}),[s,o,l]);return c.jsx(BX.Provider,{value:m,children:c.jsx(pAe,{as:i,role:i===LL?null:"table",ref:n,className:ut(h.root,a),ownerState:d,...u})})}),j5=A.createContext();function mAe(t){return Dt("MuiTableBody",t)}zt("MuiTableBody",["root"]);const gAe=t=>{const{classes:e}=t;return Nt({root:["root"]},mAe,e)},yAe=$e("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),bAe={variant:"body"},zL="tbody",O5=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiTableBody"}),{className:a,component:i=zL,...s}=r,o={...r,component:i},l=gAe(o);return c.jsx(j5.Provider,{value:bAe,children:c.jsx(yAe,{className:ut(l.root,a),as:i,ref:n,role:i===zL?null:"rowgroup",ownerState:o,...s})})});function xAe(t){return Dt("MuiTableCell",t)}const vAe=zt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),SAe=t=>{const{classes:e,variant:n,align:r,padding:a,size:i,stickyHeader:s}=t,o={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${Ue(r)}`,a!=="normal"&&`padding${Ue(a)}`,`size${Ue(i)}`]};return Nt(o,xAe,e)},_Ae=$e("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Ue(n.size)}`],n.padding!=="normal"&&e[`padding${Ue(n.padding)}`],n.align!=="inherit"&&e[`align${Ue(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(Rt(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?t.lighten(t.alpha(t.palette.divider,1),.88):t.darken(t.alpha(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${vAe.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),an=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiTableCell"}),{align:a="inherit",className:i,component:s,padding:o,scope:l,size:u,sortDirection:d,variant:h,...m}=r,y=A.useContext(BX),x=A.useContext(j5),v=x&&x.variant==="head";let _;s?_=s:_=v?"th":"td";let C=l;_==="td"?C=void 0:!C&&v&&(C="col");const w=h||x&&x.variant,T={...r,align:a,component:_,padding:o||(y&&y.padding?y.padding:"normal"),size:u||(y&&y.size?y.size:"medium"),sortDirection:d,stickyHeader:w==="head"&&y&&y.stickyHeader,variant:w},E=SAe(T);let k=null;return d&&(k=d==="asc"?"ascending":"descending"),c.jsx(_Ae,{as:_,ref:n,className:ut(E.root,i),"aria-sort":k,scope:C,ownerState:T,...m})});function CAe(t){return Dt("MuiTableContainer",t)}zt("MuiTableContainer",["root"]);const wAe=t=>{const{classes:e}=t;return Nt({root:["root"]},CAe,e)},EAe=$e("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),D5=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiTableContainer"}),{className:a,component:i="div",...s}=r,o={...r,component:i},l=wAe(o);return c.jsx(EAe,{ref:n,as:i,className:ut(l.root,a),ownerState:o,...s})});function TAe(t){return Dt("MuiTableHead",t)}zt("MuiTableHead",["root"]);const AAe=t=>{const{classes:e}=t;return Nt({root:["root"]},TAe,e)},RAe=$e("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),kAe={variant:"head"},FL="thead",N5=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiTableHead"}),{className:a,component:i=FL,...s}=r,o={...r,component:i},l=AAe(o);return c.jsx(j5.Provider,{value:kAe,children:c.jsx(RAe,{as:i,className:ut(l.root,a),ref:n,role:i===FL?null:"rowgroup",ownerState:o,...s})})});function IAe(t){return Dt("MuiToolbar",t)}zt("MuiToolbar",["root","gutters","regular","dense"]);const jAe=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Nt({root:["root",!n&&"gutters",r]},IAe,e)},OAe=$e("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(Rt(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}))),jO=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiToolbar"}),{className:a,component:i="div",disableGutters:s=!1,variant:o="regular",...l}=r,u={...r,component:i,disableGutters:s,variant:o},d=jAe(u);return c.jsx(OAe,{as:i,className:ut(d.root,a),ref:n,ownerState:u,...l})}),HX=mt(c.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),UX=mt(c.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function DAe(t){return Dt("MuiTablePaginationActions",t)}zt("MuiTablePaginationActions",["root"]);const NAe=t=>{const{classes:e}=t;return Nt({root:["root"]},DAe,e)},MAe=$e("div",{name:"MuiTablePaginationActions",slot:"Root"})({}),PAe=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiTablePaginationActions"}),{backIconButtonProps:a,className:i,count:s,disabled:o=!1,getItemAriaLabel:l,nextIconButtonProps:u,onPageChange:d,page:h,rowsPerPage:m,showFirstButton:y,showLastButton:x,slots:v={},slotProps:_={},...C}=r,w=Md(),E=NAe(r),k=re=>{d(re,0)},j=re=>{d(re,h-1)},O=re=>{d(re,h+1)},z=re=>{d(re,Math.max(0,Math.ceil(s/m)-1))},M=v.firstButton??ht,N=v.lastButton??ht,U=v.nextButton??ht,F=v.previousButton??ht,$=v.firstButtonIcon??DX,D=v.lastButtonIcon??NX,H=v.nextButtonIcon??UX,L=v.previousButtonIcon??HX,V=w?N:M,J=w?U:F,Q=w?F:U,K=w?M:N,q=w?_.lastButton:_.firstButton,Z=w?_.nextButton:_.previousButton,Y=w?_.previousButton:_.nextButton,ne=w?_.firstButton:_.lastButton;return c.jsxs(MAe,{ref:n,className:ut(E.root,i),...C,children:[y&&c.jsx(V,{onClick:k,disabled:o||h===0,"aria-label":l("first",h),title:l("first",h),...q,children:w?c.jsx(D,{..._.lastButtonIcon}):c.jsx($,{..._.firstButtonIcon})}),c.jsx(J,{onClick:j,disabled:o||h===0,color:"inherit","aria-label":l("previous",h),title:l("previous",h),...Z??a,children:w?c.jsx(H,{..._.nextButtonIcon}):c.jsx(L,{..._.previousButtonIcon})}),c.jsx(Q,{onClick:O,disabled:o||(s!==-1?h>=Math.ceil(s/m)-1:!1),color:"inherit","aria-label":l("next",h),title:l("next",h),...Y??u,children:w?c.jsx(L,{..._.previousButtonIcon}):c.jsx(H,{..._.nextButtonIcon})}),x&&c.jsx(K,{onClick:z,disabled:o||h>=Math.ceil(s/m)-1,"aria-label":l("last",h),title:l("last",h),...ne,children:w?c.jsx($,{..._.firstButtonIcon}):c.jsx(D,{..._.lastButtonIcon})})]})});function LAe(t){return Dt("MuiTablePagination",t)}const R2=zt("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var BL;const zAe=$e(an,{name:"MuiTablePagination",slot:"Root"})(Rt(({theme:t})=>({overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}}))),FAe=$e(jO,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(t,e)=>({[`& .${R2.actions}`]:e.actions,...e.toolbar})})(Rt(({theme:t})=>({minHeight:52,paddingRight:2,[`${t.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${R2.actions}`]:{flexShrink:0,marginLeft:20}}))),BAe=$e("div",{name:"MuiTablePagination",slot:"Spacer"})({flex:"1 1 100%"}),HAe=$e("p",{name:"MuiTablePagination",slot:"SelectLabel"})(Rt(({theme:t})=>({...t.typography.body2,flexShrink:0}))),UAe=$e(Ha,{name:"MuiTablePagination",slot:"Select",overridesResolver:(t,e)=>({[`& .${R2.selectIcon}`]:e.selectIcon,[`& .${R2.select}`]:e.select,...e.input,...e.selectRoot})})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${R2.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),$Ae=$e(en,{name:"MuiTablePagination",slot:"MenuItem"})({}),GAe=$e("p",{name:"MuiTablePagination",slot:"DisplayedRows"})(Rt(({theme:t})=>({...t.typography.body2,flexShrink:0})));function qAe({from:t,to:e,count:n}){return`${t}${e} of ${n!==-1?n:`more than ${e}`}`}function VAe(t){return`Go to ${t} page`}const WAe=t=>{const{classes:e}=t;return Nt({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},LAe,e)},YAe=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiTablePagination"}),{ActionsComponent:a=PAe,backIconButtonProps:i,colSpan:s,component:o=an,count:l,disabled:u=!1,getItemAriaLabel:d=VAe,labelDisplayedRows:h=qAe,labelRowsPerPage:m="Rows per page:",nextIconButtonProps:y,onPageChange:x,onRowsPerPageChange:v,page:_,rowsPerPage:C,rowsPerPageOptions:w=[10,25,50,100],SelectProps:T={},showFirstButton:E=!1,showLastButton:k=!1,slotProps:j={},slots:O={},...z}=r,M=r,N=WAe(M),U=j?.select??T,F=U.native?"option":$Ae;let $;(o===an||o==="td")&&($=s||1e3);const D=Rd(U.id),H=Rd(U.labelId),L=()=>l===-1?(_+1)*C:C===-1?l:Math.min(l,(_+1)*C),V={slots:O,slotProps:j},[J,Q]=Ht("root",{ref:n,className:N.root,elementType:zAe,externalForwardedProps:{...V,component:o,...z},ownerState:M,additionalProps:{colSpan:$}}),[K,q]=Ht("toolbar",{className:N.toolbar,elementType:FAe,externalForwardedProps:V,ownerState:M}),[Z,Y]=Ht("spacer",{className:N.spacer,elementType:BAe,externalForwardedProps:V,ownerState:M}),[ne,re]=Ht("selectLabel",{className:N.selectLabel,elementType:HAe,externalForwardedProps:V,ownerState:M,additionalProps:{id:H}}),[ie,ce]=Ht("select",{className:N.select,elementType:UAe,externalForwardedProps:V,ownerState:M}),[he,me]=Ht("menuItem",{className:N.menuItem,elementType:F,externalForwardedProps:V,ownerState:M}),[le,de]=Ht("displayedRows",{className:N.displayedRows,elementType:GAe,externalForwardedProps:V,ownerState:M});return c.jsx(J,{...Q,children:c.jsxs(K,{...q,children:[c.jsx(Z,{...Y}),w.length>1&&c.jsx(ne,{...re,children:m}),w.length>1&&c.jsx(ie,{variant:"standard",...!U.variant&&{input:BL||(BL=c.jsx(k5,{}))},value:C,onChange:v,id:D,labelId:H,...U,classes:{...U.classes,root:ut(N.input,N.selectRoot,(U.classes||{}).root),select:ut(N.select,(U.classes||{}).select),icon:ut(N.selectIcon,(U.classes||{}).icon)},disabled:u,...ce,children:w.map(pe=>A.createElement(he,{...me,key:pe.label?pe.label:pe,value:pe.value?pe.value:pe},pe.label?pe.label:pe))}),c.jsx(le,{...de,children:h({from:l===0?0:_*C+1,to:L(),count:l===-1?-1:l,page:_})}),c.jsx(a,{className:N.actions,backIconButtonProps:i,count:l,nextIconButtonProps:y,onPageChange:x,page:_,rowsPerPage:C,showFirstButton:E,showLastButton:k,slotProps:j.actions,slots:O.actions,getItemAriaLabel:d,disabled:u})]})})});function KAe(t){return Dt("MuiTableRow",t)}const HL=zt("MuiTableRow",["root","selected","hover","head","footer"]),XAe=t=>{const{classes:e,selected:n,hover:r,head:a,footer:i}=t;return Nt({root:["root",n&&"selected",r&&"hover",a&&"head",i&&"footer"]},KAe,e)},QAe=$e("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(Rt(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${HL.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${HL.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)}}}))),UL="tr",wc=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiTableRow"}),{className:a,component:i=UL,hover:s=!1,selected:o=!1,...l}=r,u=A.useContext(j5),d={...r,component:i,hover:s,selected:o,head:u&&u.variant==="head",footer:u&&u.variant==="footer"},h=XAe(d);return c.jsx(QAe,{as:i,ref:n,className:ut(h.root,a),role:i===UL?null:"row",ownerState:d,...l})});function ZAe(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function JAe(t,e,n,r={},a=()=>{}){const{ease:i=ZAe,duration:s=300}=r;let o=null;const l=e[t];let u=!1;const d=()=>{u=!0},h=m=>{if(u){a(new Error("Animation cancelled"));return}o===null&&(o=m);const y=Math.min(1,(m-o)/s);if(e[t]=i(y)*(n-l)+l,y>=1){requestAnimationFrame(()=>{a(null)});return}requestAnimationFrame(h)};return l===n?(a(new Error("Element already at target position")),d):(requestAnimationFrame(h),d)}const eRe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function tRe(t){const{onChange:e,...n}=t,r=A.useRef(),a=A.useRef(null),i=()=>{r.current=a.current.offsetHeight-a.current.clientHeight};return Ys(()=>{const s=Yv(()=>{const l=r.current;i(),l!==r.current&&e(r.current)}),o=Ol(a.current);return o.addEventListener("resize",s),()=>{s.clear(),o.removeEventListener("resize",s)}},[e]),A.useEffect(()=>{i(),e(r.current)},[e]),c.jsx("div",{style:eRe,...n,ref:a})}function nRe(t){return Dt("MuiTabScrollButton",t)}const rRe=zt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),aRe=t=>{const{classes:e,orientation:n,disabled:r}=t;return Nt({root:["root",n,r&&"disabled"]},nRe,e)},iRe=$e(xo,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${rRe.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),sRe=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiTabScrollButton"}),{className:a,slots:i={},slotProps:s={},direction:o,orientation:l,disabled:u,...d}=r,h=Md(),m={isRtl:h,...r},y=aRe(m),x=i.StartScrollButtonIcon??HX,v=i.EndScrollButtonIcon??UX,_=go({elementType:x,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m}),C=go({elementType:v,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m});return c.jsx(iRe,{component:"div",className:ut(y.root,a),ref:n,role:null,ownerState:m,tabIndex:null,...d,style:{...d.style,...l==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${h?-90:90}deg)`}},children:o==="left"?c.jsx(x,{..._}):c.jsx(v,{...C})})});function oRe(t){return Dt("MuiTabs",t)}const lT=zt("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),$L=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,GL=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,k_=(t,e,n)=>{let r=!1,a=n(t,e);for(;a;){if(a===t.firstChild){if(r)return;r=!0}const i=a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||i)a=n(t,a);else{a.focus();return}}},lRe=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:a,scrollableY:i,centered:s,scrollButtonsHideMobile:o,classes:l}=t;return Nt({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",a&&"scrollableX",i&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",o&&"scrollButtonsHideMobile"],scrollableX:[a&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},oRe,l)},cRe=$e("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${lT.scrollButtons}`]:e.scrollButtons},{[`& .${lT.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(Rt(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${lT.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),uRe=$e("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),dRe=$e("div",{name:"MuiTabs",slot:"List",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.list,e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),fRe=$e("span",{name:"MuiTabs",slot:"Indicator"})(Rt(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),hRe=$e(tRe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),qL={},nl=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiTabs"}),a=rs(),i=Md(),{"aria-label":s,"aria-labelledby":o,action:l,centered:u=!1,children:d,className:h,component:m="div",allowScrollButtonsMobile:y=!1,indicatorColor:x="primary",onChange:v,orientation:_="horizontal",ScrollButtonComponent:C,scrollButtons:w="auto",selectionFollowsFocus:T,slots:E={},slotProps:k={},TabIndicatorProps:j={},TabScrollButtonProps:O={},textColor:z="primary",value:M,variant:N="standard",visibleScrollbar:U=!1,...F}=r,$=N==="scrollable",D=_==="vertical",H=D?"scrollTop":"scrollLeft",L=D?"top":"left",V=D?"bottom":"right",J=D?"clientHeight":"clientWidth",Q=D?"height":"width",K={...r,component:m,allowScrollButtonsMobile:y,indicatorColor:x,orientation:_,vertical:D,scrollButtons:w,textColor:z,variant:N,visibleScrollbar:U,fixed:!$,hideScrollbar:$&&!U,scrollableX:$&&!D,scrollableY:$&&D,centered:u&&!$,scrollButtonsHideMobile:!y},q=lRe(K),Z=go({elementType:E.StartScrollButtonIcon,externalSlotProps:k.startScrollButtonIcon,ownerState:K}),Y=go({elementType:E.EndScrollButtonIcon,externalSlotProps:k.endScrollButtonIcon,ownerState:K}),[ne,re]=A.useState(!1),[ie,ce]=A.useState(qL),[he,me]=A.useState(!1),[le,de]=A.useState(!1),[pe,ve]=A.useState(!1),[ge,oe]=A.useState({overflow:"hidden",scrollbarWidth:0}),Se=new Map,be=A.useRef(null),Ae=A.useRef(null),Me={slots:E,slotProps:{indicator:j,scrollButton:O,...k}},Pe=()=>{const Et=be.current;let Pt;if(Et){const rn=Et.getBoundingClientRect();Pt={clientWidth:Et.clientWidth,scrollLeft:Et.scrollLeft,scrollTop:Et.scrollTop,scrollWidth:Et.scrollWidth,top:rn.top,bottom:rn.bottom,left:rn.left,right:rn.right}}let on;if(Et&&M!==!1){const rn=Ae.current.children;if(rn.length>0){const wn=rn[Se.get(M)];on=wn?wn.getBoundingClientRect():null}}return{tabsMeta:Pt,tabMeta:on}},Le=Ji(()=>{const{tabsMeta:Et,tabMeta:Pt}=Pe();let on=0,rn;D?(rn="top",Pt&&Et&&(on=Pt.top-Et.top+Et.scrollTop)):(rn=i?"right":"left",Pt&&Et&&(on=(i?-1:1)*(Pt[rn]-Et[rn]+Et.scrollLeft)));const wn={[rn]:on,[Q]:Pt?Pt[Q]:0};if(typeof ie[rn]!="number"||typeof ie[Q]!="number")ce(wn);else{const xr=Math.abs(ie[rn]-wn[rn]),Mr=Math.abs(ie[Q]-wn[Q]);(xr>=1||Mr>=1)&&ce(wn)}}),Oe=(Et,{animation:Pt=!0}={})=>{Pt?JAe(H,be.current,Et,{duration:a.transitions.duration.standard}):be.current[H]=Et},Xe=Et=>{let Pt=be.current[H];D?Pt+=Et:Pt+=Et*(i?-1:1),Oe(Pt)},ke=()=>{const Et=be.current[J];let Pt=0;const on=Array.from(Ae.current.children);for(let rn=0;rn<on.length;rn+=1){const wn=on[rn];if(Pt+wn[J]>Et){rn===0&&(Pt=Et);break}Pt+=wn[J]}return Pt},Ie=()=>{Xe(-1*ke())},ye=()=>{Xe(ke())},[Ce,{onChange:Ne,...Be}]=Ht("scrollbar",{className:ut(q.scrollableX,q.hideScrollbar),elementType:hRe,shouldForwardComponentProp:!0,externalForwardedProps:Me,ownerState:K}),Ke=A.useCallback(Et=>{Ne?.(Et),oe({overflow:null,scrollbarWidth:Et})},[Ne]),[Je,Ge]=Ht("scrollButtons",{className:ut(q.scrollButtons,O.className),elementType:sRe,externalForwardedProps:Me,ownerState:K,additionalProps:{orientation:_,slots:{StartScrollButtonIcon:E.startScrollButtonIcon||E.StartScrollButtonIcon,EndScrollButtonIcon:E.endScrollButtonIcon||E.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:Z,endScrollButtonIcon:Y}}}),it=()=>{const Et={};Et.scrollbarSizeListener=$?c.jsx(Ce,{...Be,onChange:Ke}):null;const on=$&&(w==="auto"&&(he||le)||w===!0);return Et.scrollButtonStart=on?c.jsx(Je,{direction:i?"right":"left",onClick:Ie,disabled:!he,...Ge}):null,Et.scrollButtonEnd=on?c.jsx(Je,{direction:i?"left":"right",onClick:ye,disabled:!le,...Ge}):null,Et},ct=Ji(Et=>{const{tabsMeta:Pt,tabMeta:on}=Pe();if(!(!on||!Pt)){if(on[L]<Pt[L]){const rn=Pt[H]+(on[L]-Pt[L]);Oe(rn,{animation:Et})}else if(on[V]>Pt[V]){const rn=Pt[H]+(on[V]-Pt[V]);Oe(rn,{animation:Et})}}}),nt=Ji(()=>{$&&w!==!1&&ve(!pe)});A.useEffect(()=>{const Et=Yv(()=>{be.current&&Le()});let Pt;const on=xr=>{xr.forEach(Mr=>{Mr.removedNodes.forEach(jr=>{Pt?.unobserve(jr)}),Mr.addedNodes.forEach(jr=>{Pt?.observe(jr)})}),Et(),nt()},rn=Ol(be.current);rn.addEventListener("resize",Et);let wn;return typeof ResizeObserver<"u"&&(Pt=new ResizeObserver(Et),Array.from(Ae.current.children).forEach(xr=>{Pt.observe(xr)})),typeof MutationObserver<"u"&&(wn=new MutationObserver(on),wn.observe(Ae.current,{childList:!0})),()=>{Et.clear(),rn.removeEventListener("resize",Et),wn?.disconnect(),Pt?.disconnect()}},[Le,nt]),A.useEffect(()=>{const Et=Array.from(Ae.current.children),Pt=Et.length;if(typeof IntersectionObserver<"u"&&Pt>0&&$&&w!==!1){const on=Et[0],rn=Et[Pt-1],wn={root:be.current,threshold:.99},xr=zr=>{me(!zr[0].isIntersecting)},Mr=new IntersectionObserver(xr,wn);Mr.observe(on);const jr=zr=>{de(!zr[0].isIntersecting)},sa=new IntersectionObserver(jr,wn);return sa.observe(rn),()=>{Mr.disconnect(),sa.disconnect()}}},[$,w,pe,d?.length]),A.useEffect(()=>{re(!0)},[]),A.useEffect(()=>{Le()}),A.useEffect(()=>{ct(qL!==ie)},[ct,ie]),A.useImperativeHandle(l,()=>({updateIndicator:Le,updateScrollButtons:nt}),[Le,nt]);const[dt,$t]=Ht("indicator",{className:ut(q.indicator,j.className),elementType:fRe,externalForwardedProps:Me,ownerState:K,additionalProps:{style:ie}}),Wt=c.jsx(dt,{...$t});let sn=0;const xn=A.Children.map(d,Et=>{if(!A.isValidElement(Et))return null;const Pt=Et.props.value===void 0?sn:Et.props.value;Se.set(Pt,sn);const on=Pt===M;return sn+=1,A.cloneElement(Et,{fullWidth:N==="fullWidth",indicator:on&&!ne&&Wt,selected:on,selectionFollowsFocus:T,onChange:v,textColor:z,value:Pt,...sn===1&&M===!1&&!Et.props.tabIndex?{tabIndex:0}:{}})}),In=Et=>{if(Et.altKey||Et.shiftKey||Et.ctrlKey||Et.metaKey)return;const Pt=Ae.current,on=ci(Pt).activeElement;if(on.getAttribute("role")!=="tab")return;let wn=_==="horizontal"?"ArrowLeft":"ArrowUp",xr=_==="horizontal"?"ArrowRight":"ArrowDown";switch(_==="horizontal"&&i&&(wn="ArrowRight",xr="ArrowLeft"),Et.key){case wn:Et.preventDefault(),k_(Pt,on,GL);break;case xr:Et.preventDefault(),k_(Pt,on,$L);break;case"Home":Et.preventDefault(),k_(Pt,null,$L);break;case"End":Et.preventDefault(),k_(Pt,null,GL);break}},Gt=it(),[xt,Zt]=Ht("root",{ref:n,className:ut(q.root,h),elementType:cRe,externalForwardedProps:{...Me,...F,component:m},ownerState:K}),[Cn,jn]=Ht("scroller",{ref:be,className:q.scroller,elementType:uRe,externalForwardedProps:Me,ownerState:K,additionalProps:{style:{overflow:ge.overflow,[D?`margin${i?"Left":"Right"}`:"marginBottom"]:U?void 0:-ge.scrollbarWidth}}}),[Ut,Tn]=Ht("list",{ref:Ae,className:ut(q.list,q.flexContainer),elementType:dRe,externalForwardedProps:Me,ownerState:K,getSlotProps:Et=>({...Et,onKeyDown:Pt=>{In(Pt),Et.onKeyDown?.(Pt)}})});return c.jsxs(xt,{...Zt,children:[Gt.scrollButtonStart,Gt.scrollbarSizeListener,c.jsxs(Cn,{...jn,children:[c.jsx(Ut,{"aria-label":s,"aria-labelledby":o,"aria-orientation":_==="vertical"?"vertical":null,role:"tablist",...Tn,children:xn}),ne&&Wt]}),Gt.scrollButtonEnd]})});function pRe(t){return Dt("MuiTextField",t)}zt("MuiTextField",["root"]);const mRe={standard:EO,filled:wO,outlined:kO},gRe=t=>{const{classes:e}=t;return Nt({root:["root"]},pRe,e)},yRe=$e(ba,{name:"MuiTextField",slot:"Root"})({}),Lt=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiTextField"}),{autoComplete:a,autoFocus:i=!1,children:s,className:o,color:l="primary",defaultValue:u,disabled:d=!1,error:h=!1,FormHelperTextProps:m,fullWidth:y=!1,helperText:x,id:v,InputLabelProps:_,inputProps:C,InputProps:w,inputRef:T,label:E,maxRows:k,minRows:j,multiline:O=!1,name:z,onBlur:M,onChange:N,onFocus:U,placeholder:F,required:$=!1,rows:D,select:H=!1,SelectProps:L,slots:V={},slotProps:J={},type:Q,value:K,variant:q="outlined",...Z}=r,Y={...r,autoFocus:i,color:l,disabled:d,error:h,fullWidth:y,multiline:O,required:$,select:H,variant:q},ne=gRe(Y),re=Rd(v),ie=x&&re?`${re}-helper-text`:void 0,ce=E&&re?`${re}-label`:void 0,he=mRe[q],me={slots:V,slotProps:{input:w,inputLabel:_,htmlInput:C,formHelperText:m,select:L,...J}},le={},de=me.slotProps.inputLabel;q==="outlined"&&(de&&typeof de.shrink<"u"&&(le.notched=de.shrink),le.label=E),H&&((!L||!L.native)&&(le.id=void 0),le["aria-describedby"]=void 0);const[pe,ve]=Ht("root",{elementType:yRe,shouldForwardComponentProp:!0,externalForwardedProps:{...me,...Z},ownerState:Y,className:ut(ne.root,o),ref:n,additionalProps:{disabled:d,error:h,fullWidth:y,required:$,color:l,variant:q}}),[ge,oe]=Ht("input",{elementType:he,externalForwardedProps:me,additionalProps:le,ownerState:Y}),[Se,be]=Ht("inputLabel",{elementType:Ci,externalForwardedProps:me,ownerState:Y}),[Ae,Me]=Ht("htmlInput",{elementType:"input",externalForwardedProps:me,ownerState:Y}),[Pe,Le]=Ht("formHelperText",{elementType:aTe,externalForwardedProps:me,ownerState:Y}),[Oe,Xe]=Ht("select",{elementType:Ha,externalForwardedProps:me,ownerState:Y}),ke=c.jsx(ge,{"aria-describedby":ie,autoComplete:a,autoFocus:i,defaultValue:u,fullWidth:y,multiline:O,name:z,rows:D,maxRows:k,minRows:j,type:Q,value:K,id:re,inputRef:T,onBlur:M,onChange:N,onFocus:U,placeholder:F,inputProps:Me,slots:{input:V.htmlInput?Ae:void 0},...oe});return c.jsxs(pe,{...ve,children:[E!=null&&E!==""&&c.jsx(Se,{htmlFor:re,id:ce,...be,children:E}),H?c.jsx(Oe,{"aria-describedby":ie,id:re,labelId:ce,value:K,input:ke,...Xe,children:s}):ke,x&&c.jsx(Pe,{id:ie,...Le,children:x})]})});function bRe(t){return Dt("MuiToggleButton",t)}const Gm=zt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),$X=A.createContext({}),GX=A.createContext(void 0);function xRe(t,e){return e===void 0||t===void 0?!1:Array.isArray(e)?e.includes(t):t===e}const vRe=t=>{const{classes:e,fullWidth:n,selected:r,disabled:a,size:i,color:s}=t,o={root:["root",r&&"selected",a&&"disabled",n&&"fullWidth",`size${Ue(i)}`,s]};return Nt(o,bRe,e)},SRe=$e(xo,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`size${Ue(n.size)}`]]}})(Rt(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${Gm.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${Gm.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.text.primary,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(rr()).map(([e])=>({props:{color:e},style:{[`&.${Gm.selected}`]:{color:(t.vars||t).palette[e].main,backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),Am=A.forwardRef(function(e,n){const{value:r,...a}=A.useContext($X),i=A.useContext(GX),s=K1({...a,selected:xRe(e.value,r)},e),o=Ft({props:s,name:"MuiToggleButton"}),{children:l,className:u,color:d="standard",disabled:h=!1,disableFocusRipple:m=!1,fullWidth:y=!1,onChange:x,onClick:v,selected:_,size:C="medium",value:w,...T}=o,E={...o,color:d,disabled:h,disableFocusRipple:m,fullWidth:y,size:C},k=vRe(E),j=z=>{v&&(v(z,w),z.defaultPrevented)||x&&x(z,w)},O=i||"";return c.jsx(SRe,{className:ut(a.className,k.root,u,O),disabled:h,focusRipple:!m,ref:n,onClick:j,onChange:x,value:w,ownerState:E,"aria-pressed":_,...T,children:l})});function _Re(t){return Dt("MuiToggleButtonGroup",t)}const ga=zt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),CRe=t=>{const{classes:e,orientation:n,fullWidth:r,disabled:a}=t,i={root:["root",n,r&&"fullWidth"],grouped:["grouped",`grouped${Ue(n)}`,a&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Nt(i,_Re,e)},wRe=$e("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${ga.grouped}`]:e.grouped},{[`& .${ga.grouped}`]:e[`grouped${Ue(n.orientation)}`]},{[`& .${ga.firstButton}`]:e.firstButton},{[`& .${ga.lastButton}`]:e.lastButton},{[`& .${ga.middleButton}`]:e.middleButton},e.root,n.orientation==="vertical"&&e.vertical,n.fullWidth&&e.fullWidth]}})(Rt(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${ga.grouped}`]:{[`&.${ga.selected} + .${ga.grouped}.${ga.selected}`]:{borderTop:0,marginTop:0}},[`& .${ga.firstButton},& .${ga.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${ga.lastButton},& .${ga.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${ga.lastButton}.${Gm.disabled},& .${ga.middleButton}.${Gm.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${ga.grouped}`]:{[`&.${ga.selected} + .${ga.grouped}.${ga.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${ga.firstButton},& .${ga.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${ga.lastButton},& .${ga.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${ga.lastButton}.${Gm.disabled},& .${ga.middleButton}.${Gm.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),ERe=A.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiToggleButtonGroup"}),{children:a,className:i,color:s="standard",disabled:o=!1,exclusive:l=!1,fullWidth:u=!1,onChange:d,orientation:h="horizontal",size:m="medium",value:y,...x}=r,v={...r,disabled:o,fullWidth:u,orientation:h,size:m},_=CRe(v),C=A.useCallback((O,z)=>{if(!d)return;const M=y&&y.indexOf(z);let N;y&&M>=0?(N=y.slice(),N.splice(M,1)):N=y?y.concat(z):[z],d(O,N)},[d,y]),w=A.useCallback((O,z)=>{d&&d(O,y===z?null:z)},[d,y]),T=A.useMemo(()=>({className:_.grouped,onChange:l?w:C,value:y,size:m,fullWidth:u,color:s,disabled:o}),[_.grouped,l,w,C,y,m,u,s,o]),E=awe(a),k=E.length,j=O=>{const z=O===0,M=O===k-1;return z&&M?"":z?_.firstButton:M?_.lastButton:_.middleButton};return c.jsx(wRe,{role:"group",className:ut(_.root,i),ref:n,ownerState:v,...x,children:c.jsx($X.Provider,{value:T,children:E.map((O,z)=>c.jsx(GX.Provider,{value:j(z),children:O},z))})})}),ov=xK({themeId:hu}),qX=mt(c.jsx("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"})),Ws=mt(c.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),hC=mt(c.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),mg=mt(c.jsx("path",{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25z"})),TRe=mt(c.jsx("path",{d:"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6m6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26"})),VX=mt(c.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12m8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8"})),cT=mt(c.jsx("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6"})),uT=mt(c.jsx("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6m0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4"})),ARe=mt(c.jsx("path",{d:"M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3m13.71-9.37-1.34-1.34a.996.996 0 0 0-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41"})),WX=mt(c.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5.97 4.06L14.09 6l1.41 1.41L16.91 6l1.06 1.06-1.41 1.41 1.41 1.41-1.06 1.06-1.41-1.4-1.41 1.41-1.06-1.06 1.41-1.41zm-6.78.66h5v1.5h-5zM11.5 16h-2v2H8v-2H6v-1.5h2v-2h1.5v2h2zm6.5 1.25h-5v-1.5h5zm0-2.5h-5v-1.5h5z"})),OO=mt(c.jsx("path",{d:"m14 4 2.29 2.29-2.88 2.88 1.42 1.42 2.88-2.88L20 10V4zm-4 0H4v6l2.29-2.29 4.71 4.7V20h2v-8.41l-5.29-5.3z"})),YX=mt([c.jsx("path",{d:"m12 2-5.5 9h11z"},"0"),c.jsx("circle",{cx:"17.5",cy:"17.5",r:"4.5"},"1"),c.jsx("path",{d:"M3 13.5h8v8H3z"},"2")]),Cs=mt(c.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),RRe=mt(c.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),kRe=mt(c.jsx("path",{d:"M16 11h-1V3c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v8H8c-2.76 0-5 2.24-5 5v7h18v-7c0-2.76-2.24-5-5-5m3 10h-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v3h-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v3H9v-3c0-.55-.45-1-1-1s-1 .45-1 1v3H5v-5c0-1.65 1.35-3 3-3h8c1.65 0 3 1.35 3 3z"})),Ey=mt(c.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),kp=mt(c.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),IRe=mt(c.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M17 13l-5 5-5-5h3V9h4v4z"})),jRe=mt(c.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96M3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4z"})),lv=mt(c.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"})),ORe=mt(c.jsx("path",{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2m-11-4 2.03 2.71L16 11l4 5H8zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"})),Qv=mt(c.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"})),DRe=mt(c.jsx("path",{d:"M17 15h2V7c0-1.1-.9-2-2-2H9v2h8zM7 17V1H5v4H1v2h4v10c0 1.1.9 2 2 2h10v4h2v-4h4v-2z"})),Ia=mt(c.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),KX=mt(c.jsx("path",{d:"M3 13h2v-2H3zm4 8h2v-2H7zm6-18h-2v2h2zm6 0v2h2c0-1.1-.9-2-2-2M5 21v-2H3c0 1.1.9 2 2 2m-2-4h2v-2H3zm8 4h2v-2h-2zm8-8h2v-2h-2zm0-4h2V7h-2zm-4-4h2V3h-2zM7.83 5 7 4.17V3h2v2zm12 12-.83-.83V15h2v2zm1.36 4.19L2.81 2.81 1.39 4.22 4.17 7H3v2h2V7.83l2 2V17h7.17l2 2H15v2h2v-1.17l2.78 2.78zM9 15v-3.17L12.17 15zm6-2.83V9h-3.17l-2-2H17v7.17z"})),Zv=mt(c.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),XX=mt(c.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),NRe=mt(c.jsx("path",{d:"M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m-6 12v-3h-4v-4h4V8l5 5z"})),yu=mt(c.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),gg=mt(c.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"})),DO=mt(c.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"})),ts=mt(c.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),MRe=mt(c.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"})),PRe=mt(c.jsx("path",{d:"M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3"})),LRe=mt(c.jsx("path",{d:"M17 4h3c1.1 0 2 .9 2 2v2h-2V6h-3zM4 8V6h3V4H4c-1.1 0-2 .9-2 2v2zm16 8v2h-3v2h3c1.1 0 2-.9 2-2v-2zM7 18H4v-2H2v2c0 1.1.9 2 2 2h3zM18 8H6v8h12z"})),QX=mt(c.jsx("path",{d:"M15 21h2v-2h-2zm4-12h2V7h-2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2m16-2v2h2c0-1.1-.9-2-2-2m-8 20h2V1h-2zm8-6h2v-2h-2zM15 5h2V3h-2zm4 8h2v-2h-2zm0 8c1.1 0 2-.9 2-2h-2z"})),zRe=mt([c.jsx("path",{d:"M9 12c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3"},"0"),c.jsx("path",{d:"M8 10V8H5.09C6.47 5.61 9.05 4 12 4c3.72 0 6.85 2.56 7.74 6h2.06c-.93-4.56-4.96-8-9.8-8-3.27 0-6.18 1.58-8 4.01V4H2v6zm8 4v2h2.91c-1.38 2.39-3.96 4-6.91 4-3.72 0-6.85-2.56-7.74-6H2.2c.93 4.56 4.96 8 9.8 8 3.27 0 6.18-1.58 8-4.01V20h2v-6z"},"1")]),Ty=mt(c.jsx("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z"})),bu=mt(c.jsx("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 12H4V8h16z"})),NO=mt(c.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"})),L1=mt(c.jsx("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"})),FRe=mt(c.jsx("path",{d:"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-8 11H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11zm7-1c0 .55-.45 1-1 1h-.75v1.5h-1.5V15H14c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1zm-3.5-.5h2v-3h-2z"})),pC=mt(c.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"})),ZX=mt(c.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})),Jv=mt(c.jsx("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2zm10 14.5V20H8v-3.5l4-4zm-4-5-4-4V4h8v3.5z"})),xu=mt(c.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"})),cv=mt(c.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),yc=mt(c.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"})),BRe=mt(c.jsx("path",{d:"M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2M11 16l4-4-4-4v3H1v2h10z"})),HRe=mt(c.jsx("path",{d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12z"})),URe=mt(c.jsx("path",{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27z"})),$Re=mt(c.jsx("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"})),GRe=mt(c.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2M9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9zm9 14H6V10h12zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2"})),VL=mt(c.jsx("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"})),JX=mt(c.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),eQ=mt(c.jsx("path",{d:"M17 20.41 18.41 19 15 15.59 13.59 17zM7.5 8H11v5.59L5.59 19 7 20.41l6-6V8h3.5L12 3.5z"})),qRe=mt(c.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),tQ=mt(c.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),VRe=mt([c.jsx("path",{d:"m17 17 5-5-5-5-1.41 1.41L18.17 11H9v2h9.17l-2.58 2.59z"},"0"),c.jsx("path",{d:"M19 19H5V5h14v2h2V5c0-1.1-.89-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.11 0 2-.9 2-2v-2h-2z"},"1")]),WRe=mt(c.jsx("path",{d:"M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5"})),YRe=mt(c.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),tI=mt(c.jsx("path",{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2m-11-4 2.03 2.71L16 11l4 5H8zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"})),pp=mt(c.jsx("path",{d:"M8 5v14l11-7z"})),nI=mt(c.jsx("path",{d:"M14 10H3v2h11zm0-4H3v2h11zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2zM3 16h7v-2H3z"})),KRe=mt(c.jsx("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7z"})),vo=mt(c.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"})),XRe=mt(c.jsx("path",{d:"M19 13H5v-2h14z"})),QRe=mt(c.jsx("path",{d:"M7 7h10v3l4-4-4-4v3H5v6h2zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2z"})),ZRe=mt(c.jsx("path",{d:"M7.11 8.53 5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47M6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47m1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93"})),nQ=mt(c.jsx("path",{d:"M15.55 5.55 11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10zM19.93 11c-.17-1.39-.72-2.73-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47zM13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.44-1.44c-.75.54-1.59.89-2.46 1.03m3.89-2.42 1.42 1.41c.9-1.16 1.45-2.5 1.62-3.89h-2.02c-.14.87-.48 1.72-1.02 2.48"})),MO=mt(c.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),JRe=mt(c.jsx("path",{d:"M19.8 18.4 14 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81H9.04c-.42 0-.65.48-.39.81L10 6.5v4.17L4.2 18.4c-.49.66-.02 1.6.8 1.6h14c.82 0 1.29-.94.8-1.6"})),qf=mt(c.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),e9e=mt(c.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"})),rQ=mt(c.jsx("path",{d:"M3 5h2V3c-1.1 0-2 .9-2 2m0 8h2v-2H3zm4 8h2v-2H7zM3 9h2V7H3zm10-6h-2v2h2zm6 0v2h2c0-1.1-.9-2-2-2M5 21v-2H3c0 1.1.9 2 2 2m-2-4h2v-2H3zM9 3H7v2h2zm2 18h2v-2h-2zm8-8h2v-2h-2zm0 8c1.1 0 2-.9 2-2h-2zm0-12h2V7h-2zm0 8h2v-2h-2zm-4 4h2v-2h-2zm0-16h2V3h-2zM7 17h10V7H7zm2-8h6v6H9z"})),ny=mt(c.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"})),t9e=mt(c.jsx("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"})),n9e=mt(c.jsx("path",{d:"M6 6h12v12H6z"})),aQ=mt(c.jsx("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"})),r9e=mt(c.jsx("path",{d:"M20 10V8h-4V4h-2v4h-4V4H8v4H4v2h4v4H4v2h4v4h2v-4h4v4h2v-4h4v-2h-4v-4zm-6 4h-4v-4h4z"})),a9e=mt(c.jsx("path",{d:"M2.5 4v3h5v12h3V7h5V4zm19 5h-9v3h3v7h3v-7h3z"})),i9e=mt(c.jsx("path",{d:"M3 17v2h6v-2zM3 5v2h10V5zm10 16v-2h8v-2h-8v-2h-2v6zM7 9v2H3v2h4v2h2V9zm14 4v-2H11v2zm-6-4h2V7h4V5h-4V3h-2z"})),s9e=mt(c.jsx("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"})),iQ=mt(c.jsx("path",{d:"M7.41 18.59 8.83 20 12 16.83 15.17 20l1.41-1.41L12 14zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10z"})),sQ=mt(c.jsx("path",{d:"M12 5.83 15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15z"})),uv=mt(c.jsx("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"})),PO=mt(c.jsx("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8 12.5v-9l6 4.5z"})),WL=mt(c.jsx("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11z"})),o9e=mt(c.jsx("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"})),l9e=mt(c.jsx("path",{d:"M14.67 5v6.5H9.33V5zm1 6.5H21V5h-5.33zm-1 7.5v-6.5H9.33V19zm1-6.5V19H21v-6.5zm-7.34 0H3V19h5.33zm0-1V5H3v6.5z"})),LO=mt(c.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),rI=mt(c.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"})),aI=mt(c.jsx("path",{d:"M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"})),c9e=mt(c.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"})),oQ=mt([c.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"},"0"),c.jsx("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"},"1")]),lQ=mt(c.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14M7 9h5v1H7z"}));function u9e(t,e){if(t==null)return{};var n=d9e(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function d9e(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function mC(){return mC=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mC.apply(this,arguments)}function YL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Rx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YL(Object(n),!0).forEach(function(r){f9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f9e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const h9e={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},dT=2;class gC extends je.Component{constructor(e){super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let n;this.props.breakpointCols&&this.props.breakpointCols.default?n=this.props.breakpointCols.default:n=parseInt(this.props.breakpointCols)||dT,this.state={columnCount:n}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const e=window&&window.innerWidth||1/0;let n=this.props.breakpointCols;typeof n!="object"&&(n={default:parseInt(n)||dT});let r=1/0,a=n.default||dT;for(let i in n){const s=parseInt(i);s>0&&e<=s&&s<r&&(r=s,a=n[i])}a=Math.max(1,parseInt(a)||1),this.state.columnCount!==a&&this.setState({columnCount:a})}itemsInColumns(){const e=this.state.columnCount,n=new Array(e),r=je.Children.toArray(this.props.children);for(let a=0;a<r.length;a++){const i=a%e;n[i]||(n[i]=[]),n[i].push(r[a])}return n}renderColumns(){const{column:e,columnAttrs:n={},columnClassName:r}=this.props,a=this.itemsInColumns(),i=`${100/a.length}%`;let s=r;s&&typeof s!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof s>"u"&&(s="my-masonry-grid_column"));const o=Rx(Rx(Rx({},e),n),{},{style:Rx(Rx({},n.style),{},{width:i}),className:s});return a.map((l,u)=>je.createElement("div",mC({},o,{key:u}),l))}logDeprecated(e){console.error("[Masonry]",e)}render(){const e=this.props,{children:n,breakpointCols:r,columnClassName:a,columnAttrs:i,column:s,className:o}=e,l=u9e(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let u=o;return typeof o!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof o>"u"&&(u="my-masonry-grid")),je.createElement("div",mC({},l,{className:u}),this.renderColumns())}}gC.defaultProps=h9e;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var iI=function(t,e){return iI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},iI(t,e)};function p9e(t,e){iI(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var k2=function(){return k2=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},k2.apply(this,arguments)};function m9e(t,e,n,r){var a,i=!1,s=0;function o(){a&&clearTimeout(a)}function l(){o(),i=!0}typeof e!="boolean"&&(r=n,n=e,e=void 0);function u(){var d=this,h=Date.now()-s,m=arguments;if(i)return;function y(){s=Date.now(),n.apply(d,m)}function x(){a=void 0}r&&!a&&y(),o(),r===void 0&&h>t?y():e!==!0&&(a=setTimeout(r?x:y,r===void 0?t-h:t))}return u.cancel=l,u}var z1={Pixel:"Pixel",Percent:"Percent"},KL={unit:z1.Percent,value:.8};function XL(t){return typeof t=="number"?{unit:z1.Percent,value:t*100}:typeof t=="string"?t.match(/^(\d*(\.\d+)?)px$/)?{unit:z1.Pixel,value:parseFloat(t)}:t.match(/^(\d*(\.\d+)?)%$/)?{unit:z1.Percent,value:parseFloat(t)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),KL):(console.warn("scrollThreshold should be string or number"),KL)}var cQ=(function(t){p9e(e,t);function e(n){var r=t.call(this,n)||this;return r.lastScrollTop=0,r.actionTriggered=!1,r.startY=0,r.currentY=0,r.dragging=!1,r.maxPullDownDistance=0,r.getScrollableTarget=function(){return r.props.scrollableTarget instanceof HTMLElement?r.props.scrollableTarget:typeof r.props.scrollableTarget=="string"?document.getElementById(r.props.scrollableTarget):(r.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},r.onStart=function(a){r.lastScrollTop||(r.dragging=!0,a instanceof MouseEvent?r.startY=a.pageY:a instanceof TouchEvent&&(r.startY=a.touches[0].pageY),r.currentY=r.startY,r._infScroll&&(r._infScroll.style.willChange="transform",r._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},r.onMove=function(a){r.dragging&&(a instanceof MouseEvent?r.currentY=a.pageY:a instanceof TouchEvent&&(r.currentY=a.touches[0].pageY),!(r.currentY<r.startY)&&(r.currentY-r.startY>=Number(r.props.pullDownToRefreshThreshold)&&r.setState({pullToRefreshThresholdBreached:!0}),!(r.currentY-r.startY>r.maxPullDownDistance*1.5)&&r._infScroll&&(r._infScroll.style.overflow="visible",r._infScroll.style.transform="translate3d(0px, "+(r.currentY-r.startY)+"px, 0px)")))},r.onEnd=function(){r.startY=0,r.currentY=0,r.dragging=!1,r.state.pullToRefreshThresholdBreached&&(r.props.refreshFunction&&r.props.refreshFunction(),r.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){r._infScroll&&(r._infScroll.style.overflow="auto",r._infScroll.style.transform="none",r._infScroll.style.willChange="unset")})},r.onScrollListener=function(a){typeof r.props.onScroll=="function"&&setTimeout(function(){return r.props.onScroll&&r.props.onScroll(a)},0);var i=r.props.height||r._scrollableNode?a.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!r.actionTriggered){var s=r.props.inverse?r.isElementAtTop(i,r.props.scrollThreshold):r.isElementAtBottom(i,r.props.scrollThreshold);s&&r.props.hasMore&&(r.actionTriggered=!0,r.setState({showLoader:!0}),r.props.next&&r.props.next()),r.lastScrollTop=i.scrollTop}},r.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:n.dataLength},r.throttledOnScrollListener=m9e(150,r.onScrollListener).bind(r),r.onStart=r.onStart.bind(r),r.onMove=r.onMove.bind(r),r.onEnd=r.onEnd.bind(r),r}return e.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},e.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},e.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},e.getDerivedStateFromProps=function(n,r){var a=n.dataLength!==r.prevDataLength;return a?k2(k2({},r),{prevDataLength:n.dataLength}):null},e.prototype.isElementAtTop=function(n,r){r===void 0&&(r=.8);var a=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,i=XL(r);return i.unit===z1.Pixel?n.scrollTop<=i.value+a-n.scrollHeight+1:n.scrollTop<=i.value/100+a-n.scrollHeight+1},e.prototype.isElementAtBottom=function(n,r){r===void 0&&(r=.8);var a=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,i=XL(r);return i.unit===z1.Pixel?n.scrollTop+a>=n.scrollHeight-i.value:n.scrollTop+a>=i.value/100*n.scrollHeight},e.prototype.render=function(){var n=this,r=k2({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),a=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),i=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return je.createElement("div",{style:i,className:"infinite-scroll-component__outerdiv"},je.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(s){return n._infScroll=s},style:r},this.props.pullDownToRefresh&&je.createElement("div",{style:{position:"relative"},ref:function(s){return n._pullDown=s}},je.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!a&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},e})(A.Component);const g9e=()=>"http://localhost:1566",y9e=t=>t.replace(/\/+$/,""),b9e=t=>/^https?:\/\//i.test(t)?t:`http://${t}`,x9e=()=>{if(typeof window>"u")return;const t=window?.electronAPI;return t?.backendOrigin||t?.publicBaseUrl},v9e=()=>[void 0,void 0,void 0].find(e=>e&&e.trim().length>0);let kx=null;const Pd=()=>{if(kx)return kx;const t=x9e()||v9e();return t?kx=y9e(b9e(t.trim())):kx=g9e(),kx},S9e=t=>/^https?:\/\//i.test(t),_9e=t=>t.replace(/^[/\\]+/,"").replace(/^uploads[/\\]+/i,"").replace(/\\/g,"/"),yC=t=>{if(!t||t.trim().length===0)return null;if(S9e(t))return t;const e=_9e(t.trim());return`${Pd()}/uploads/${e}`},C9e=t=>{const e=bt.c(13),{tier:n,score:r}=t,a=n.max_score!==null?`${n.min_score} ~ ${n.max_score}`:`${n.min_score} `,i=n.tier_name;let s;e[0]!==r?(s=r.toFixed(1),e[0]=r,e[1]=s):s=e[1];const o=`${i}: ${s} (${a})`,l=n.color||"#757575";let u;e[2]!==l?(u={bgcolor:l,filter:"brightness(1.1)"},e[2]=l,e[3]=u):u=e[3];let d;e[4]!==l||e[5]!==u?(d={fontSize:"0.7rem",height:"22px",fontWeight:600,bgcolor:l,color:"#ffffff",backdropFilter:"blur(4px)",boxShadow:"0 2px 4px rgba(0,0,0,0.2)","&:hover":u},e[4]=l,e[5]=u,e[6]=d):d=e[6];let h;e[7]!==d||e[8]!==n.tier_name?(h=c.jsx(gt,{label:n.tier_name,size:"small",sx:d}),e[7]=d,e[8]=n.tier_name,e[9]=h):h=e[9];let m;return e[10]!==h||e[11]!==o?(m=c.jsx(Xt,{title:o,placement:"top",arrow:!0,children:h}),e[10]=h,e[11]=o,e[12]=m):m=e[12],m},uQ=A.memo(C9e);function dQ(t,e){return function(){return t.apply(e,arguments)}}const{toString:w9e}=Object.prototype,{getPrototypeOf:zO}=Object,{iterator:M5,toStringTag:fQ}=Symbol,P5=(t=>e=>{const n=w9e.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Eu=t=>(t=t.toLowerCase(),e=>P5(e)===t),L5=t=>e=>typeof e===t,{isArray:Ay}=Array,ry=L5("undefined");function eS(t){return t!==null&&!ry(t)&&t.constructor!==null&&!ry(t.constructor)&&Zo(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const hQ=Eu("ArrayBuffer");function E9e(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&hQ(t.buffer),e}const T9e=L5("string"),Zo=L5("function"),pQ=L5("number"),tS=t=>t!==null&&typeof t=="object",A9e=t=>t===!0||t===!1,j4=t=>{if(P5(t)!=="object")return!1;const e=zO(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(fQ in t)&&!(M5 in t)},R9e=t=>{if(!tS(t)||eS(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},k9e=Eu("Date"),I9e=Eu("File"),j9e=Eu("Blob"),O9e=Eu("FileList"),D9e=t=>tS(t)&&Zo(t.pipe),N9e=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Zo(t.append)&&((e=P5(t))==="formdata"||e==="object"&&Zo(t.toString)&&t.toString()==="[object FormData]"))},M9e=Eu("URLSearchParams"),[P9e,L9e,z9e,F9e]=["ReadableStream","Request","Response","Headers"].map(Eu),B9e=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nS(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,a;if(typeof t!="object"&&(t=[t]),Ay(t))for(r=0,a=t.length;r<a;r++)e.call(null,t[r],r,t);else{if(eS(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let o;for(r=0;r<s;r++)o=i[r],e.call(null,t[o],o,t)}}function mQ(t,e){if(eS(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,a;for(;r-- >0;)if(a=n[r],e===a.toLowerCase())return a;return null}const qm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,gQ=t=>!ry(t)&&t!==qm;function sI(){const{caseless:t,skipUndefined:e}=gQ(this)&&this||{},n={},r=(a,i)=>{const s=t&&mQ(n,i)||i;j4(n[s])&&j4(a)?n[s]=sI(n[s],a):j4(a)?n[s]=sI({},a):Ay(a)?n[s]=a.slice():(!e||!ry(a))&&(n[s]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&nS(arguments[a],r);return n}const H9e=(t,e,n,{allOwnKeys:r}={})=>(nS(e,(a,i)=>{n&&Zo(a)?t[i]=dQ(a,n):t[i]=a},{allOwnKeys:r}),t),U9e=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$9e=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},G9e=(t,e,n,r)=>{let a,i,s;const o={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)s=a[i],(!r||r(s,t,e))&&!o[s]&&(e[s]=t[s],o[s]=!0);t=n!==!1&&zO(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},q9e=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},V9e=t=>{if(!t)return null;if(Ay(t))return t;let e=t.length;if(!pQ(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},W9e=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&zO(Uint8Array)),Y9e=(t,e)=>{const r=(t&&t[M5]).call(t);let a;for(;(a=r.next())&&!a.done;){const i=a.value;e.call(t,i[0],i[1])}},K9e=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},X9e=Eu("HTMLFormElement"),Q9e=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),QL=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Z9e=Eu("RegExp"),yQ=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};nS(n,(a,i)=>{let s;(s=e(a,i,t))!==!1&&(r[i]=s||a)}),Object.defineProperties(t,r)},J9e=t=>{yQ(t,(e,n)=>{if(Zo(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Zo(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},e7e=(t,e)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return Ay(t)?r(t):r(String(t).split(e)),n},t7e=()=>{},n7e=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function r7e(t){return!!(t&&Zo(t.append)&&t[fQ]==="FormData"&&t[M5])}const a7e=t=>{const e=new Array(10),n=(r,a)=>{if(tS(r)){if(e.indexOf(r)>=0)return;if(eS(r))return r;if(!("toJSON"in r)){e[a]=r;const i=Ay(r)?[]:{};return nS(r,(s,o)=>{const l=n(s,a+1);!ry(l)&&(i[o]=l)}),e[a]=void 0,i}}return r};return n(t,0)},i7e=Eu("AsyncFunction"),s7e=t=>t&&(tS(t)||Zo(t))&&Zo(t.then)&&Zo(t.catch),bQ=((t,e)=>t?setImmediate:e?((n,r)=>(qm.addEventListener("message",({source:a,data:i})=>{a===qm&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),qm.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Zo(qm.postMessage)),o7e=typeof queueMicrotask<"u"?queueMicrotask.bind(qm):typeof process<"u"&&process.nextTick||bQ,l7e=t=>t!=null&&Zo(t[M5]),rt={isArray:Ay,isArrayBuffer:hQ,isBuffer:eS,isFormData:N9e,isArrayBufferView:E9e,isString:T9e,isNumber:pQ,isBoolean:A9e,isObject:tS,isPlainObject:j4,isEmptyObject:R9e,isReadableStream:P9e,isRequest:L9e,isResponse:z9e,isHeaders:F9e,isUndefined:ry,isDate:k9e,isFile:I9e,isBlob:j9e,isRegExp:Z9e,isFunction:Zo,isStream:D9e,isURLSearchParams:M9e,isTypedArray:W9e,isFileList:O9e,forEach:nS,merge:sI,extend:H9e,trim:B9e,stripBOM:U9e,inherits:$9e,toFlatObject:G9e,kindOf:P5,kindOfTest:Eu,endsWith:q9e,toArray:V9e,forEachEntry:Y9e,matchAll:K9e,isHTMLForm:X9e,hasOwnProperty:QL,hasOwnProp:QL,reduceDescriptors:yQ,freezeMethods:J9e,toObjectSet:e7e,toCamelCase:Q9e,noop:t7e,toFiniteNumber:n7e,findKey:mQ,global:qm,isContextDefined:gQ,isSpecCompliantForm:r7e,toJSONObject:a7e,isAsyncFn:i7e,isThenable:s7e,setImmediate:bQ,asap:o7e,isIterable:l7e};function zn(t,e,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}rt.inherits(zn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:rt.toJSONObject(this.config),code:this.code,status:this.status}}});const xQ=zn.prototype,vQ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{vQ[t]={value:t}});Object.defineProperties(zn,vQ);Object.defineProperty(xQ,"isAxiosError",{value:!0});zn.from=(t,e,n,r,a,i)=>{const s=Object.create(xQ);rt.toFlatObject(t,s,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return zn.call(s,o,l,n,r,a),t&&s.cause==null&&Object.defineProperty(s,"cause",{value:t,configurable:!0}),s.name=t&&t.name||"Error",i&&Object.assign(s,i),s};const c7e=null;function oI(t){return rt.isPlainObject(t)||rt.isArray(t)}function SQ(t){return rt.endsWith(t,"[]")?t.slice(0,-2):t}function ZL(t,e,n){return t?t.concat(e).map(function(a,i){return a=SQ(a),!n&&i?"["+a+"]":a}).join(n?".":""):e}function u7e(t){return rt.isArray(t)&&!t.some(oI)}const d7e=rt.toFlatObject(rt,{},null,function(e){return/^is[A-Z]/.test(e)});function z5(t,e,n){if(!rt.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=rt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,_){return!rt.isUndefined(_[v])});const r=n.metaTokens,a=n.visitor||d,i=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&rt.isSpecCompliantForm(e);if(!rt.isFunction(a))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(rt.isDate(x))return x.toISOString();if(rt.isBoolean(x))return x.toString();if(!l&&rt.isBlob(x))throw new zn("Blob is not supported. Use a Buffer instead.");return rt.isArrayBuffer(x)||rt.isTypedArray(x)?l&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,v,_){let C=x;if(x&&!_&&typeof x=="object"){if(rt.endsWith(v,"{}"))v=r?v:v.slice(0,-2),x=JSON.stringify(x);else if(rt.isArray(x)&&u7e(x)||(rt.isFileList(x)||rt.endsWith(v,"[]"))&&(C=rt.toArray(x)))return v=SQ(v),C.forEach(function(T,E){!(rt.isUndefined(T)||T===null)&&e.append(s===!0?ZL([v],E,i):s===null?v:v+"[]",u(T))}),!1}return oI(x)?!0:(e.append(ZL(_,v,i),u(x)),!1)}const h=[],m=Object.assign(d7e,{defaultVisitor:d,convertValue:u,isVisitable:oI});function y(x,v){if(!rt.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(x),rt.forEach(x,function(C,w){(!(rt.isUndefined(C)||C===null)&&a.call(e,C,rt.isString(w)?w.trim():w,v,m))===!0&&y(C,v?v.concat(w):[w])}),h.pop()}}if(!rt.isObject(t))throw new TypeError("data must be an object");return y(t),e}function JL(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function FO(t,e){this._pairs=[],t&&z5(t,this,e)}const _Q=FO.prototype;_Q.append=function(e,n){this._pairs.push([e,n])};_Q.toString=function(e){const n=e?function(r){return e.call(this,r,JL)}:JL;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function f7e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function CQ(t,e,n){if(!e)return t;const r=n&&n.encode||f7e;rt.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(e,n):i=rt.isURLSearchParams(e)?e.toString():new FO(e,n).toString(r),i){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class ez{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){rt.forEach(this.handlers,function(r){r!==null&&e(r)})}}const wQ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},h7e=typeof URLSearchParams<"u"?URLSearchParams:FO,p7e=typeof FormData<"u"?FormData:null,m7e=typeof Blob<"u"?Blob:null,g7e={isBrowser:!0,classes:{URLSearchParams:h7e,FormData:p7e,Blob:m7e},protocols:["http","https","file","blob","url","data"]},BO=typeof window<"u"&&typeof document<"u",lI=typeof navigator=="object"&&navigator||void 0,y7e=BO&&(!lI||["ReactNative","NativeScript","NS"].indexOf(lI.product)<0),b7e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",x7e=BO&&window.location.href||"http://localhost",v7e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:BO,hasStandardBrowserEnv:y7e,hasStandardBrowserWebWorkerEnv:b7e,navigator:lI,origin:x7e},Symbol.toStringTag,{value:"Module"})),Gs={...v7e,...g7e};function S7e(t,e){return z5(t,new Gs.classes.URLSearchParams,{visitor:function(n,r,a,i){return Gs.isNode&&rt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function _7e(t){return rt.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function C7e(t){const e={},n=Object.keys(t);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],e[i]=t[i];return e}function EQ(t){function e(n,r,a,i){let s=n[i++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),l=i>=n.length;return s=!s&&rt.isArray(a)?a.length:s,l?(rt.hasOwnProp(a,s)?a[s]=[a[s],r]:a[s]=r,!o):((!a[s]||!rt.isObject(a[s]))&&(a[s]=[]),e(n,r,a[s],i)&&rt.isArray(a[s])&&(a[s]=C7e(a[s])),!o)}if(rt.isFormData(t)&&rt.isFunction(t.entries)){const n={};return rt.forEachEntry(t,(r,a)=>{e(_7e(r),a,n,0)}),n}return null}function w7e(t,e,n){if(rt.isString(t))try{return(e||JSON.parse)(t),rt.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const rS={transitional:wQ,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=rt.isObject(e);if(i&&rt.isHTMLForm(e)&&(e=new FormData(e)),rt.isFormData(e))return a?JSON.stringify(EQ(e)):e;if(rt.isArrayBuffer(e)||rt.isBuffer(e)||rt.isStream(e)||rt.isFile(e)||rt.isBlob(e)||rt.isReadableStream(e))return e;if(rt.isArrayBufferView(e))return e.buffer;if(rt.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return S7e(e,this.formSerializer).toString();if((o=rt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return z5(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),w7e(e)):e}],transformResponse:[function(e){const n=this.transitional||rS.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(rt.isResponse(e)||rt.isReadableStream(e))return e;if(e&&rt.isString(e)&&(r&&!this.responseType||a)){const s=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(o){if(s)throw o.name==="SyntaxError"?zn.from(o,zn.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gs.classes.FormData,Blob:Gs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};rt.forEach(["delete","get","head","post","put","patch"],t=>{rS.headers[t]={}});const E7e=rt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),T7e=t=>{const e={};let n,r,a;return t&&t.split(`
`).forEach(function(s){a=s.indexOf(":"),n=s.substring(0,a).trim().toLowerCase(),r=s.substring(a+1).trim(),!(!n||e[n]&&E7e[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},tz=Symbol("internals");function Ix(t){return t&&String(t).trim().toLowerCase()}function O4(t){return t===!1||t==null?t:rt.isArray(t)?t.map(O4):String(t)}function A7e(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const R7e=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function fT(t,e,n,r,a){if(rt.isFunction(r))return r.call(this,e,n);if(a&&(e=n),!!rt.isString(e)){if(rt.isString(r))return e.indexOf(r)!==-1;if(rt.isRegExp(r))return r.test(e)}}function k7e(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function I7e(t,e){const n=rt.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(a,i,s){return this[r].call(this,e,a,i,s)},configurable:!0})})}let Jo=class{constructor(e){e&&this.set(e)}set(e,n,r){const a=this;function i(o,l,u){const d=Ix(l);if(!d)throw new Error("header name must be a non-empty string");const h=rt.findKey(a,d);(!h||a[h]===void 0||u===!0||u===void 0&&a[h]!==!1)&&(a[h||l]=O4(o))}const s=(o,l)=>rt.forEach(o,(u,d)=>i(u,d,l));if(rt.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(rt.isString(e)&&(e=e.trim())&&!R7e(e))s(T7e(e),n);else if(rt.isObject(e)&&rt.isIterable(e)){let o={},l,u;for(const d of e){if(!rt.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(l=o[u])?rt.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}s(o,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=Ix(e),e){const r=rt.findKey(this,e);if(r){const a=this[r];if(!n)return a;if(n===!0)return A7e(a);if(rt.isFunction(n))return n.call(this,a,r);if(rt.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ix(e),e){const r=rt.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||fT(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let a=!1;function i(s){if(s=Ix(s),s){const o=rt.findKey(r,s);o&&(!n||fT(r,r[o],o,n))&&(delete r[o],a=!0)}}return rt.isArray(e)?e.forEach(i):i(e),a}clear(e){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!e||fT(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){const n=this,r={};return rt.forEach(this,(a,i)=>{const s=rt.findKey(r,i);if(s){n[s]=O4(a),delete n[i];return}const o=e?k7e(i):String(i).trim();o!==i&&delete n[i],n[o]=O4(a),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return rt.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=e&&rt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(a=>r.set(a)),r}static accessor(e){const r=(this[tz]=this[tz]={accessors:{}}).accessors,a=this.prototype;function i(s){const o=Ix(s);r[o]||(I7e(a,s),r[o]=!0)}return rt.isArray(e)?e.forEach(i):i(e),this}};Jo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);rt.reduceDescriptors(Jo.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});rt.freezeMethods(Jo);function hT(t,e){const n=this||rS,r=e||n,a=Jo.from(r.headers);let i=r.data;return rt.forEach(t,function(o){i=o.call(n,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function TQ(t){return!!(t&&t.__CANCEL__)}function Ry(t,e,n){zn.call(this,t??"canceled",zn.ERR_CANCELED,e,n),this.name="CanceledError"}rt.inherits(Ry,zn,{__CANCEL__:!0});function AQ(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new zn("Request failed with status code "+n.status,[zn.ERR_BAD_REQUEST,zn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function j7e(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function O7e(t,e){t=t||10;const n=new Array(t),r=new Array(t);let a=0,i=0,s;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[i];s||(s=u),n[a]=l,r[a]=u;let h=i,m=0;for(;h!==a;)m+=n[h++],h=h%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),u-s<e)return;const y=d&&u-d;return y?Math.round(m*1e3/y):void 0}}function D7e(t,e){let n=0,r=1e3/e,a,i;const s=(u,d=Date.now())=>{n=d,a=null,i&&(clearTimeout(i),i=null),t(...u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?s(u,d):(a=u,i||(i=setTimeout(()=>{i=null,s(a)},r-h)))},()=>a&&s(a)]}const bC=(t,e,n=3)=>{let r=0;const a=O7e(50,250);return D7e(i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,l=s-r,u=a(l),d=s<=o;r=s;const h={loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&d?(o-s)/u:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},n)},nz=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},rz=t=>(...e)=>rt.asap(()=>t(...e)),N7e=Gs.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Gs.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Gs.origin),Gs.navigator&&/(msie|trident)/i.test(Gs.navigator.userAgent)):()=>!0,M7e=Gs.hasStandardBrowserEnv?{write(t,e,n,r,a,i){const s=[t+"="+encodeURIComponent(e)];rt.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),rt.isString(r)&&s.push("path="+r),rt.isString(a)&&s.push("domain="+a),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function P7e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function L7e(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function RQ(t,e,n){let r=!P7e(e);return t&&(r||n==!1)?L7e(t,e):e}const az=t=>t instanceof Jo?{...t}:t;function yg(t,e){e=e||{};const n={};function r(u,d,h,m){return rt.isPlainObject(u)&&rt.isPlainObject(d)?rt.merge.call({caseless:m},u,d):rt.isPlainObject(d)?rt.merge({},d):rt.isArray(d)?d.slice():d}function a(u,d,h,m){if(rt.isUndefined(d)){if(!rt.isUndefined(u))return r(void 0,u,h,m)}else return r(u,d,h,m)}function i(u,d){if(!rt.isUndefined(d))return r(void 0,d)}function s(u,d){if(rt.isUndefined(d)){if(!rt.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function o(u,d,h){if(h in e)return r(u,d);if(h in t)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(u,d,h)=>a(az(u),az(d),h,!0)};return rt.forEach(Object.keys({...t,...e}),function(d){const h=l[d]||a,m=h(t[d],e[d],d);rt.isUndefined(m)&&h!==o||(n[d]=m)}),n}const kQ=t=>{const e=yg({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:o}=e;if(e.headers=s=Jo.from(s),e.url=CQ(RQ(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),rt.isFormData(n)){if(Gs.hasStandardBrowserEnv||Gs.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(rt.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([d,h])=>{u.includes(d.toLowerCase())&&s.set(d,h)})}}if(Gs.hasStandardBrowserEnv&&(r&&rt.isFunction(r)&&(r=r(e)),r||r!==!1&&N7e(e.url))){const l=a&&i&&M7e.read(i);l&&s.set(a,l)}return e},z7e=typeof XMLHttpRequest<"u",F7e=z7e&&function(t){return new Promise(function(n,r){const a=kQ(t);let i=a.data;const s=Jo.from(a.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=a,d,h,m,y,x;function v(){y&&y(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let _=new XMLHttpRequest;_.open(a.method.toUpperCase(),a.url,!0),_.timeout=a.timeout;function C(){if(!_)return;const T=Jo.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),k={data:!o||o==="text"||o==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:T,config:t,request:_};AQ(function(O){n(O),v()},function(O){r(O),v()},k),_=null}"onloadend"in _?_.onloadend=C:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(C)},_.onabort=function(){_&&(r(new zn("Request aborted",zn.ECONNABORTED,t,_)),_=null)},_.onerror=function(E){const k=E&&E.message?E.message:"Network Error",j=new zn(k,zn.ERR_NETWORK,t,_);j.event=E||null,r(j),_=null},_.ontimeout=function(){let E=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const k=a.transitional||wQ;a.timeoutErrorMessage&&(E=a.timeoutErrorMessage),r(new zn(E,k.clarifyTimeoutError?zn.ETIMEDOUT:zn.ECONNABORTED,t,_)),_=null},i===void 0&&s.setContentType(null),"setRequestHeader"in _&&rt.forEach(s.toJSON(),function(E,k){_.setRequestHeader(k,E)}),rt.isUndefined(a.withCredentials)||(_.withCredentials=!!a.withCredentials),o&&o!=="json"&&(_.responseType=a.responseType),u&&([m,x]=bC(u,!0),_.addEventListener("progress",m)),l&&_.upload&&([h,y]=bC(l),_.upload.addEventListener("progress",h),_.upload.addEventListener("loadend",y)),(a.cancelToken||a.signal)&&(d=T=>{_&&(r(!T||T.type?new Ry(null,t,_):T),_.abort(),_=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const w=j7e(a.url);if(w&&Gs.protocols.indexOf(w)===-1){r(new zn("Unsupported protocol "+w+":",zn.ERR_BAD_REQUEST,t));return}_.send(i||null)})},B7e=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,a;const i=function(u){if(!a){a=!0,o();const d=u instanceof Error?u:this.reason;r.abort(d instanceof zn?d:new Ry(d instanceof Error?d.message:d))}};let s=e&&setTimeout(()=>{s=null,i(new zn(`timeout ${e} of ms exceeded`,zn.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>rt.asap(o),l}},H7e=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,a;for(;r<n;)a=r+e,yield t.slice(r,a),r=a},U7e=async function*(t,e){for await(const n of $7e(t))yield*H7e(n,e)},$7e=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},iz=(t,e,n,r)=>{const a=U7e(t,e);let i=0,s,o=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await a.next();if(u){o(),l.close();return}let h=d.byteLength;if(n){let m=i+=h;n(m)}l.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(l){return o(l),a.return()}},{highWaterMark:2})},sz=64*1024,{isFunction:I_}=rt,G7e=(({Request:t,Response:e})=>({Request:t,Response:e}))(rt.global),{ReadableStream:oz,TextEncoder:lz}=rt.global,cz=(t,...e)=>{try{return!!t(...e)}catch{return!1}},q7e=t=>{t=rt.merge.call({skipUndefined:!0},G7e,t);const{fetch:e,Request:n,Response:r}=t,a=e?I_(e):typeof fetch=="function",i=I_(n),s=I_(r);if(!a)return!1;const o=a&&I_(oz),l=a&&(typeof lz=="function"?(x=>v=>x.encode(v))(new lz):async x=>new Uint8Array(await new n(x).arrayBuffer())),u=i&&o&&cz(()=>{let x=!1;const v=new n(Gs.origin,{body:new oz,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!v}),d=s&&o&&cz(()=>rt.isReadableStream(new r("").body)),h={stream:d&&(x=>x.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!h[x]&&(h[x]=(v,_)=>{let C=v&&v[x];if(C)return C.call(v);throw new zn(`Response type '${x}' is not supported`,zn.ERR_NOT_SUPPORT,_)})});const m=async x=>{if(x==null)return 0;if(rt.isBlob(x))return x.size;if(rt.isSpecCompliantForm(x))return(await new n(Gs.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(rt.isArrayBufferView(x)||rt.isArrayBuffer(x))return x.byteLength;if(rt.isURLSearchParams(x)&&(x=x+""),rt.isString(x))return(await l(x)).byteLength},y=async(x,v)=>{const _=rt.toFiniteNumber(x.getContentLength());return _??m(v)};return async x=>{let{url:v,method:_,data:C,signal:w,cancelToken:T,timeout:E,onDownloadProgress:k,onUploadProgress:j,responseType:O,headers:z,withCredentials:M="same-origin",fetchOptions:N}=kQ(x),U=e||fetch;O=O?(O+"").toLowerCase():"text";let F=B7e([w,T&&T.toAbortSignal()],E),$=null;const D=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let H;try{if(j&&u&&_!=="get"&&_!=="head"&&(H=await y(z,C))!==0){let q=new n(v,{method:"POST",body:C,duplex:"half"}),Z;if(rt.isFormData(C)&&(Z=q.headers.get("content-type"))&&z.setContentType(Z),q.body){const[Y,ne]=nz(H,bC(rz(j)));C=iz(q.body,sz,Y,ne)}}rt.isString(M)||(M=M?"include":"omit");const L=i&&"credentials"in n.prototype,V={...N,signal:F,method:_.toUpperCase(),headers:z.normalize().toJSON(),body:C,duplex:"half",credentials:L?M:void 0};$=i&&new n(v,V);let J=await(i?U($,N):U(v,V));const Q=d&&(O==="stream"||O==="response");if(d&&(k||Q&&D)){const q={};["status","statusText","headers"].forEach(re=>{q[re]=J[re]});const Z=rt.toFiniteNumber(J.headers.get("content-length")),[Y,ne]=k&&nz(Z,bC(rz(k),!0))||[];J=new r(iz(J.body,sz,Y,()=>{ne&&ne(),D&&D()}),q)}O=O||"text";let K=await h[rt.findKey(h,O)||"text"](J,x);return!Q&&D&&D(),await new Promise((q,Z)=>{AQ(q,Z,{data:K,headers:Jo.from(J.headers),status:J.status,statusText:J.statusText,config:x,request:$})})}catch(L){throw D&&D(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new zn("Network Error",zn.ERR_NETWORK,x,$),{cause:L.cause||L}):zn.from(L,L&&L.code,x,$)}}},V7e=new Map,IQ=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:a}=e,i=[r,a,n];let s=i.length,o=s,l,u,d=V7e;for(;o--;)l=i[o],u=d.get(l),u===void 0&&d.set(l,u=o?new Map:q7e(e)),d=u;return u};IQ();const cI={http:c7e,xhr:F7e,fetch:{get:IQ}};rt.forEach(cI,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const uz=t=>`- ${t}`,W7e=t=>rt.isFunction(t)||t===null||t===!1,jQ={getAdapter:(t,e)=>{t=rt.isArray(t)?t:[t];const{length:n}=t;let r,a;const i={};for(let s=0;s<n;s++){r=t[s];let o;if(a=r,!W7e(r)&&(a=cI[(o=String(r)).toLowerCase()],a===void 0))throw new zn(`Unknown adapter '${o}'`);if(a&&(rt.isFunction(a)||(a=a.get(e))))break;i[o||"#"+s]=a}if(!a){const s=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=n?s.length>1?`since :
`+s.map(uz).join(`
`):" "+uz(s[0]):"as no adapter specified";throw new zn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:cI};function pT(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ry(null,t)}function dz(t){return pT(t),t.headers=Jo.from(t.headers),t.data=hT.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),jQ.getAdapter(t.adapter||rS.adapter,t)(t).then(function(r){return pT(t),r.data=hT.call(t,t.transformResponse,r),r.headers=Jo.from(r.headers),r},function(r){return TQ(r)||(pT(t),r&&r.response&&(r.response.data=hT.call(t,t.transformResponse,r.response),r.response.headers=Jo.from(r.response.headers))),Promise.reject(r)})}const OQ="1.12.2",F5={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{F5[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const fz={};F5.transitional=function(e,n,r){function a(i,s){return"[Axios v"+OQ+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,o)=>{if(e===!1)throw new zn(a(s," has been removed"+(n?" in "+n:"")),zn.ERR_DEPRECATED);return n&&!fz[s]&&(fz[s]=!0,console.warn(a(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,s,o):!0}};F5.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Y7e(t,e,n){if(typeof t!="object")throw new zn("options must be an object",zn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let a=r.length;for(;a-- >0;){const i=r[a],s=e[i];if(s){const o=t[i],l=o===void 0||s(o,i,t);if(l!==!0)throw new zn("option "+i+" must be "+l,zn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new zn("Unknown option "+i,zn.ERR_BAD_OPTION)}}const D4={assertOptions:Y7e,validators:F5},ld=D4.validators;let sg=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ez,response:new ez}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=yg(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&D4.assertOptions(r,{silentJSONParsing:ld.transitional(ld.boolean),forcedJSONParsing:ld.transitional(ld.boolean),clarifyTimeoutError:ld.transitional(ld.boolean)},!1),a!=null&&(rt.isFunction(a)?n.paramsSerializer={serialize:a}:D4.assertOptions(a,{encode:ld.function,serialize:ld.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),D4.assertOptions(n,{baseUrl:ld.spelling("baseURL"),withXsrfToken:ld.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&rt.merge(i.common,i[n.method]);i&&rt.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=Jo.concat(s,i);const o=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,h=0,m;if(!l){const x=[dz.bind(this),void 0];for(x.unshift(...o),x.push(...u),m=x.length,d=Promise.resolve(n);h<m;)d=d.then(x[h++],x[h++]);return d}m=o.length;let y=n;for(;h<m;){const x=o[h++],v=o[h++];try{y=x(y)}catch(_){v.call(this,_);break}}try{d=dz.call(this,y)}catch(x){return Promise.reject(x)}for(h=0,m=u.length;h<m;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=yg(this.defaults,e);const n=RQ(e.baseURL,e.url,e.allowAbsoluteUrls);return CQ(n,e.params,e.paramsSerializer)}};rt.forEach(["delete","get","head","options"],function(e){sg.prototype[e]=function(n,r){return this.request(yg(r||{},{method:e,url:n,data:(r||{}).data}))}});rt.forEach(["post","put","patch"],function(e){function n(r){return function(i,s,o){return this.request(yg(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}sg.prototype[e]=n(),sg.prototype[e+"Form"]=n(!0)});let K7e=class DQ{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const s=new Promise(o=>{r.subscribe(o),i=o}).then(a);return s.cancel=function(){r.unsubscribe(i)},s},e(function(i,s,o){r.reason||(r.reason=new Ry(i,s,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new DQ(function(a){e=a}),cancel:e}}};function X7e(t){return function(n){return t.apply(null,n)}}function Q7e(t){return rt.isObject(t)&&t.isAxiosError===!0}const uI={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(uI).forEach(([t,e])=>{uI[e]=t});function NQ(t){const e=new sg(t),n=dQ(sg.prototype.request,e);return rt.extend(n,sg.prototype,e,{allOwnKeys:!0}),rt.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return NQ(yg(t,a))},n}const tn=NQ(rS);tn.Axios=sg;tn.CanceledError=Ry;tn.CancelToken=K7e;tn.isCancel=TQ;tn.VERSION=OQ;tn.toFormData=z5;tn.AxiosError=zn;tn.Cancel=tn.CanceledError;tn.all=function(e){return Promise.all(e)};tn.spread=X7e;tn.isAxiosError=Q7e;tn.mergeConfig=yg;tn.AxiosHeaders=Jo;tn.formToJSON=t=>EQ(rt.isHTMLForm(t)?new FormData(t):t);tn.getAdapter=jQ.getAdapter;tn.HttpStatusCode=uI;tn.default=tn;const{Axios:gdt,AxiosError:ydt,CanceledError:bdt,isCancel:xdt,CancelToken:vdt,VERSION:Sdt,all:_dt,Cancel:Cdt,isAxiosError:wdt,spread:Edt,toFormData:Tdt,AxiosHeaders:Adt,HttpStatusCode:Rdt,formToJSON:kdt,getAdapter:Idt,mergeConfig:jdt}=tn,Ir=Pd();class Z7e{cache=new Map;defaultTTL=300*1e3;getCacheKey(e){const n=e.url||"",r=JSON.stringify(e.params||{});return`${e.method}:${n}?${r}`}isValid(e,n){return Date.now()-e.timestamp<n}get(e,n){const r=this.getCacheKey(e),a=this.cache.get(r);if(!a)return null;const i=n??this.defaultTTL;return this.isValid(a,i)?a.data:(this.cache.delete(r),null)}set(e,n){const r=this.getCacheKey(e);this.cache.set(r,{data:n,timestamp:Date.now()})}clear(e){const n=this.getCacheKey(e);this.cache.delete(n)}clearAll(){this.cache.clear()}clearPattern(e){for(const n of this.cache.keys())e.test(n)&&this.cache.delete(n)}}class J7e{pendingRequests=new Map;getRequestKey(e){const n=e.url||"",r=JSON.stringify(e.params||{});return`${e.method}:${n}?${r}`}deduplicate(e,n){const r=this.getRequestKey(e),a=this.pendingRequests.get(r);if(a)return a;const i=n().finally(()=>{this.pendingRequests.delete(r)});return this.pendingRequests.set(r,i),i}clear(){this.pendingRequests.clear()}}const MQ=new Z7e,eke=new J7e,At=tn.create({baseURL:Ir,headers:{"Content-Type":"application/json"},withCredentials:!0});At.interceptors.request.use(t=>{if(t.method?.toLowerCase()==="get"){const e=MQ.get(t);if(e)return Promise.reject({__cached:!0,response:e})}return t},t=>Promise.reject(t));At.interceptors.response.use(t=>(t.config.method?.toLowerCase()==="get"&&MQ.set(t.config,t),t),t=>t.__cached?Promise.resolve(t.response):Promise.reject(t));const hz=At.request.bind(At);At.request=function(t){return t.method?.toLowerCase()==="get"?eke.deduplicate(t,()=>hz(t)):hz(t)};const ya={getImages:async(t=1,e=25,n="first_seen_date",r="DESC")=>(await At.get(`/api/images?page=${t}&limit=${e}&sortBy=${n}&sortOrder=${r}`)).data,searchImages:async t=>(await At.post("/api/images/search",t)).data,searchByAutoTags:async t=>(await At.post("/api/images/search-by-autotags",t)).data,searchComplex:async t=>(await At.post("/api/images/search/complex",t)).data,searchComplexIds:async t=>(await At.post("/api/images/search/complex/ids",t)).data,getImage:async t=>(await At.get(`/api/images/${t}`)).data,deleteImage:async t=>(await At.delete(`/api/images/${t}`)).data,deleteImages:async t=>{try{const n=(await Promise.all(t.map(r=>ya.deleteImage(r)))).filter(r=>!r.success);return n.length>0?{success:!1,error:`${n.length}/${t.length}   `,details:{failed:n,total:t.length}}:{success:!0,details:{deleted:t.length}}}catch{return{success:!1,error:"    ."}}},deleteImageFiles:async t=>{try{return(await At.delete("/api/images/files/bulk",{data:{fileIds:t}})).data}catch{return{success:!1,error:"    ."}}},getRandomImage:async()=>(await At.get("/api/images/random")).data,getRandomFromSearch:async t=>(await At.post("/api/images/random-from-search",t)).data,searchImageIds:async t=>(await At.post("/api/images/search/ids",t)).data,getMetadata:async t=>{const e=await At.get(`/api/images/metadata/${t}`);if(e.data.success&&e.data.data)return e.data.data;throw new Error(e.data.error||"Failed to fetch metadata")},generateHash:async t=>(await At.post("/api/images/generate-hash",t)).data,getDownloadUrl:t=>`${Ir}/api/images/${t}/download/original`,getThumbnailUrl:t=>`${Ir}/api/images/${t}/thumbnail`},si={getGroups:async()=>(await At.get("/api/groups")).data,getGroup:async t=>(await At.get(`/api/groups/${t}`)).data,createGroup:async t=>(await At.post("/api/groups",t)).data,updateGroup:async(t,e)=>(await At.put(`/api/groups/${t}`,e)).data,deleteGroup:async t=>(await At.delete(`/api/groups/${t}`)).data,getGroupImages:async(t,e=1,n=20,r)=>{let a=`/api/groups/${t}/images?page=${e}&limit=${n}`;return r&&(a+=`&collection_type=${r}`),(await At.get(a)).data},addImageToGroup:async(t,e,n=0)=>(await At.post(`/api/groups/${t}/images`,{composite_hash:e,order_index:n})).data,addImagesToGroup:async(t,e)=>(await At.post(`/api/groups/${t}/images/bulk`,{composite_hashes:e})).data,removeImageFromGroup:async(t,e)=>(await At.delete(`/api/groups/${t}/images/${e}`)).data,removeImagesFromGroup:async(t,e)=>{let n=0;const r=[];for(const a of e)try{const i=await At.delete(`/api/groups/${t}/images/${a}`);i.data.success?n++:r.push(`Image ${a}: ${i.data.error||"Failed to remove"}`)}catch(i){r.push(`Image ${a}: ${i.response?.data?.error||i.message||"Failed to remove"}`)}return{success:r.length===0,removed:n,errors:r}},runAutoCollection:async t=>(await At.post(`/api/groups/${t}/auto-collect`)).data,runAllAutoCollection:async()=>(await At.post("/api/groups/auto-collect-all")).data,getThumbnailUrl:t=>`${Ir}/api/groups/${t}/thumbnail`,getRandomImageFromGroup:async t=>(await At.get(`/api/groups/${t}/random-image`)).data,getPreviewImages:async(t,e=8,n=!0)=>(await At.get(`/api/groups/${t}/preview-images?count=${e}&includeChildren=${n}`)).data,getImageIdsForGroup:async t=>(await At.get(`/api/groups/${t}/image-ids`)).data,getDownloadUrl:(t,e,n)=>{let r=`${Ir}/api/groups/${t}/download?type=${e}`;return n&&n.length>0&&(r+=`&hashes=${encodeURIComponent(JSON.stringify(n))}`),r},getFileCountsByType:async t=>(await At.get(`/api/groups/${t}/file-counts`)).data,getRootGroups:async()=>(await At.get("/api/groups/hierarchy/roots")).data,getChildGroups:async t=>(await At.get(`/api/groups/${t}/children`)).data,getBreadcrumbPath:async t=>(await At.get(`/api/groups/${t}/breadcrumb`)).data,moveGroup:async(t,e)=>{const n={parent_id:e};return(await At.post(`/api/groups/${t}/move`,n)).data},validateHierarchy:async(t,e)=>(await At.post(`/api/groups/${t}/validate-hierarchy`,{parent_id:e})).data,getAllGroupsWithHierarchy:async()=>(await At.get("/api/groups/hierarchy/all")).data},mp={getAll:async()=>(await At.get("/api/auto-folder-groups")).data,getRootGroups:async()=>(await At.get("/api/auto-folder-groups/children/root")).data,getChildGroups:async t=>(await At.get(`/api/auto-folder-groups/children/${t}`)).data,getGroup:async t=>(await At.get(`/api/auto-folder-groups/${t}`)).data,getGroupImages:async(t,e=1,n=50)=>(await At.get(`/api/auto-folder-groups/${t}/images`,{params:{page:e,pageSize:n}})).data,getBreadcrumbPath:async t=>(await At.get(`/api/auto-folder-groups/${t}/breadcrumb`)).data,getThumbnailUrl:t=>`${Ir}/api/auto-folder-groups/${t}/thumbnail?t=${Date.now()}`,getPreviewImages:async(t,e=8,n=!0)=>(await At.get(`/api/auto-folder-groups/${t}/preview-images?count=${e}&includeChildren=${n}`)).data,rebuild:async()=>(await At.post("/api/auto-folder-groups/rebuild")).data,getFileCounts:async(t,e)=>{const n={};return e&&e.length>0&&(n.hashes=e.join(",")),(await At.get(`/api/auto-folder-groups/${t}/file-counts`,{params:n})).data},downloadGroup:async(t,e="original",n)=>{const r={type:e};n&&n.length>0&&(r.hashes=n.join(","));const a=await At.get(`/api/auto-folder-groups/${t}/download`,{params:r,responseType:"blob"}),i=window.URL.createObjectURL(new Blob([a.data])),s=document.createElement("a");s.href=i;const o=a.headers["content-disposition"];let l=`folder-group-${t}.zip`;if(o){const u=o.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/);u&&u[1]&&(l=u[1].replace(/['"]/g,""))}s.setAttribute("download",l),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(i)}},N4={searchPrompts:async(t="",e="both",n=1,r=20,a="usage_count",i="DESC",s)=>{let o=`/api/prompt-collection/search?q=${encodeURIComponent(t)}&type=${e}&page=${n}&limit=${r}&sortBy=${a}&sortOrder=${i}`;return s!==void 0&&(o+=`&group_id=${s}`),(await At.get(o)).data},deletePrompt:async(t,e="positive")=>(await At.delete(`/api/prompt-collection/${t}?type=${e}`)).data,assignPromptToGroup:async(t,e,n="positive")=>(await At.put("/api/prompt-collection/assign-group",{prompt_id:t,group_id:e,type:n})).data,batchAssignPromptsToGroup:async(t,e,n="positive")=>(await At.post("/api/prompt-collection/batch-assign",{prompts:t,group_id:e,type:n})).data,getStatistics:async()=>(await At.get("/api/prompt-collection/statistics")).data,getTopPrompts:async(t=20,e="both")=>(await At.get(`/api/prompt-collection/top?limit=${t}&type=${e}`)).data,setSynonyms:async(t,e,n="positive")=>(await At.post("/api/prompt-collection/synonyms",{mainPrompt:t,synonyms:e,type:n})).data,removeSynonym:async(t,e,n="positive")=>(await At.delete(`/api/prompt-collection/synonyms/${t}`,{data:{synonym:e,type:n}})).data},Nm={getGroups:async(t=!1,e="positive")=>(await At.get(`/api/prompt-groups?include_hidden=${t}&type=${e}`)).data,getGroup:async(t,e="positive")=>(await At.get(`/api/prompt-groups/${t}?type=${e}`)).data,getGroupPrompts:async(t,e="positive",n=1,r=20)=>(await At.get(`/api/prompt-groups/${t}/prompts?type=${e}&page=${n}&limit=${r}`)).data,createGroup:async(t,e="positive")=>(await At.post(`/api/prompt-groups?type=${e}`,t)).data,updateGroup:async(t,e,n="positive")=>(await At.put(`/api/prompt-groups/${t}`,{...e,type:n})).data,deleteGroup:async(t,e="positive")=>(await At.delete(`/api/prompt-groups/${t}?type=${e}`)).data,movePromptToGroup:async(t,e,n="positive")=>(await At.put("/api/prompt-groups/move-prompt",{prompt_id:t,target_group_id:e,type:n})).data,updateGroupOrders:async(t,e="positive")=>(await At.put("/api/prompt-groups/reorder",{group_orders:t,type:e})).data},pz={uploadImage:async t=>{try{const e=new FormData;return e.append("image",t),(await At.post("/api/images/upload",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(e){return e.response?.status===413?{success:!1,error:"   .  50MB   ."}:{success:!1,error:e.response?.data?.error||e.message||"   ."}}},uploadImages:async t=>{try{const e=new FormData;t.forEach(r=>{e.append("images",r)});const n=await At.post("/api/images/upload-multiple",e,{headers:{"Content-Type":"multipart/form-data"}});if(n.data.success&&n.data.data){const{uploaded:r,failed:a}=n.data.data,i=[];return r.forEach(s=>{i.push({success:!0,data:s})}),a.forEach(s=>{i.push({success:!1,error:s.error})}),i}return[{success:!1,error:n.data.error||" ."}]}catch(e){return e.response?.status===400&&e.response?.data?.error?.includes("LIMIT_FILE_COUNT")?[{success:!1,error:"    ."}]:e.response?.status===413?[{success:!1,error:"   .   50MB   ."}]:[{success:!1,error:e.response?.data?.error||e.message||"   ."}]}},uploadImagesWithProgress:async(t,e)=>{const n=new FormData;t.forEach(o=>{n.append("images",o)});const r=await fetch(`${Ir}/api/images/upload-multiple-stream`,{method:"POST",body:n});if(!r.ok)throw new Error(`Upload failed: ${r.statusText}`);const a=r.body.getReader(),i=new TextDecoder;let s="";try{for(;;){const{done:o,value:l}=await a.read();if(o)break;s+=i.decode(l,{stream:!0});const u=s.split(`
`);s=u.pop()||"";for(const d of u)if(d.startsWith("data: "))try{const h=JSON.parse(d.slice(6));e(h)}catch(h){console.warn("Failed to parse SSE event:",d,h)}}}finally{a.releaseLock()}}},hd={getAll:async t=>{const e=new URLSearchParams;return t?.service_type&&e.append("service_type",t.service_type),t?.generation_status&&e.append("generation_status",t.generation_status),t?.limit&&e.append("limit",t.limit.toString()),t?.offset&&e.append("offset",t.offset.toString()),t?.bustCache&&e.append("_t",Date.now().toString()),(await At.get(`/api/generation-history?${e.toString()}`,{headers:t?.bustCache?{"Cache-Control":"no-cache, no-store, must-revalidate"}:{}})).data},getRecent:async(t=50)=>(await At.get(`/api/generation-history/recent?limit=${t}`)).data,getStatistics:async()=>(await At.get("/api/generation-history/statistics")).data,getById:async(t,e=!1)=>{const n=e?`/api/generation-history/${t}?_t=${Date.now()}`:`/api/generation-history/${t}`;return(await At.get(n,{headers:e?{"Cache-Control":"no-cache, no-store, must-revalidate"}:{}})).data},createComfyUI:async t=>(await At.post("/api/generation-history/comfyui",t)).data,createNovelAI:async t=>(await At.post("/api/generation-history/novelai",t)).data,uploadImage:async(t,e)=>{const n=new FormData;return n.append("image",e,"generated.png"),(await At.post(`/api/generation-history/${t}/upload-image`,n,{headers:{"Content-Type":"multipart/form-data"}})).data},delete:async t=>(await At.delete(`/api/generation-history/${t}`)).data,getByWorkflow:async(t,e)=>{const n=new URLSearchParams;return e?.generation_status&&n.append("generation_status",e.generation_status),e?.limit&&n.append("limit",e.limit.toString()),e?.offset&&n.append("offset",e.offset.toString()),e?.bustCache&&n.append("_t",Date.now().toString()),(await At.get(`/api/generation-history/workflow/${t}?${n.toString()}`,{headers:e?.bustCache?{"Cache-Control":"no-cache, no-store, must-revalidate"}:{}})).data},getWorkflowStatistics:async t=>(await At.get(`/api/generation-history/workflow/${t}/statistics`)).data,cleanupFailed:async(t=!1)=>{const e=new URLSearchParams;return t&&e.append("dry_run","true"),(await At.post(`/api/generation-history/cleanup-failed?${e.toString()}`)).data}},dI={login:async(t,e)=>(await At.post("/api/nai/auth/login",{username:t,password:e})).data,loginWithToken:async t=>(await At.post("/api/nai/auth/login-with-token",{token:t})).data,generateImage:async(t,e)=>(await At.post("/api/nai/generate/image",e,{headers:{Authorization:`Bearer ${t}`}})).data},tke="http://localhost:1566/api",Go=tn.create({baseURL:tke,withCredentials:!0}),gp={getAllWorkflows:async(t=!1)=>(await Go.get("/workflows",{params:{active:t}})).data,getWorkflow:async t=>(await Go.get(`/workflows/${t}`)).data,createWorkflow:async t=>(await Go.post("/workflows",t)).data,updateWorkflow:async(t,e)=>(await Go.put(`/workflows/${t}`,e)).data,deleteWorkflow:async t=>(await Go.delete(`/workflows/${t}`)).data,generateImage:async(t,e)=>(await Go.post(`/workflows/${t}/generate`,{prompt_data:e})).data,generateImageOnServer:async(t,e,n,r)=>(await Go.post(`/workflows/${t}/generate`,{prompt_data:n,server_id:e,groupId:r})).data,generateImageParallel:async(t,e)=>(await Go.post(`/workflows/${t}/generate-parallel`,{prompt_data:e})).data,getHistory:async(t,e=1,n=20)=>(await Go.get(`/workflows/${t}/history`,{params:{page:e,limit:n}})).data,getGenerationStatus:async t=>(await Go.get(`/workflows/history/${t}`)).data,getWorkflowServers:async t=>(await Go.get(`/workflows/${t}/servers`)).data,linkServers:async(t,e)=>(await Go.post(`/workflows/${t}/servers`,{server_ids:e})).data,unlinkServer:async(t,e)=>(await Go.delete(`/workflows/${t}/servers/${e}`)).data,getCanvasImages:async()=>(await Go.get("/workflows/canvas-images")).data},Fh=tn.create({baseURL:`${Ir}/api/settings/rating`,headers:{"Content-Type":"application/json"},withCredentials:!0}),ap={getWeights:async()=>(await Fh.get("/weights")).data.data,updateWeights:async t=>(await Fh.put("/weights",t)).data.data,getAllTiers:async()=>(await Fh.get("/tiers")).data.data,createTier:async t=>(await Fh.post("/tiers",t)).data.data,updateTier:async(t,e)=>(await Fh.put(`/tiers/${t}`,e)).data.data,deleteTier:async t=>{await Fh.delete(`/tiers/${t}`)},updateAllTiers:async t=>(await Fh.put("/tiers",t)).data.data,calculateScore:async t=>(await Fh.post("/calculate",t)).data.data};function PQ(){const[t,e]=A.useState([]),[n,r]=A.useState(!0),[a,i]=A.useState(null),s=A.useCallback(async()=>{try{r(!0),i(null);const u=[...await ap.getAllTiers()].sort((d,h)=>d.tier_order-h.tier_order);e(u),console.log("[useRatingTiers] Loaded tiers:",u.map(d=>({name:d.tier_name,min:d.min_score,max:d.max_score,color:d.color})))}catch(l){console.error("[useRatingTiers] Error fetching tiers:",l),i(l instanceof Error?l.message:"Unknown error")}finally{r(!1)}},[]);A.useEffect(()=>{s()},[s]);const o=A.useCallback(l=>l==null||t.length===0?null:t.find(d=>{const h=l>=d.min_score,m=d.max_score===null||l<d.max_score;return h&&m})||null,[t]);return{tiers:t,loading:n,error:a,getTierByScore:o,refetch:s}}const nke=t=>{const e=bt.c(63),{image:n,onClick:r,selected:a,selectable:i,onSelectionChange:s}=t,o=a===void 0?!1:a,l=i===void 0?!1:i,[u,d]=A.useState(!1),[h,m]=A.useState(!1),[y,x]=A.useState(!1),v=A.useRef(null);let _;e[0]===Symbol.for("react.memo_cache_sentinel")?(_=Pd(),e[0]=_):_=e[0];const C=_,{getTierByScore:w}=PQ();let T;e[1]!==w||e[2]!==n.rating_score?(T=w(n.rating_score),e[1]=w,e[2]=n.rating_score,e[3]=T):T=e[3];const E=T;Math.random()<.05&&console.log("[MasonryImageCard] Rating debug:",{composite_hash:n.composite_hash,rating_score:n.rating_score,rating_score_type:typeof n.rating_score,has_auto_tags:!!n.auto_tags,tier_found:!!E,tier_name:E?.tier_name,will_show_badge:!!(E&&n.rating_score!==null&&n.rating_score!==void 0)});const k=E,j=n.file_type==="animated",O=n.file_type==="video",z=n.is_processing||!n.composite_hash;let M;e:{if(z){M=`${C}/api/images/by-path/${encodeURIComponent(n.original_file_path||"")}`;break e}if(O||j){M=`${C}/api/images/${n.composite_hash}/file`;break e}let Se;e[4]!==n.first_seen_date||e[5]!==n.thumbnail_path?(Se=n.thumbnail_path?`?v=${Date.parse(n.first_seen_date)}`:"",e[4]=n.first_seen_date,e[5]=n.thumbnail_path,e[6]=Se):Se=e[6];const be=Se;M=`${C}/api/images/${n.composite_hash}/thumbnail${be}`}const N=M;let U;e[7]!==n.id||e[8]!==s||e[9]!==l?(U=Se=>{Se.stopPropagation(),console.log("[MasonryImageCard] Selection clicked:",{imageId:n.id,hasCallback:!!s,selectable:l}),s&&n.id&&s(n.id,Se)},e[7]=n.id,e[8]=s,e[9]=l,e[10]=U):U=e[10];const F=U;let $;e[11]!==r?($=Se=>{Se.target.closest(".image-card-actions")||r()},e[11]=r,e[12]=$):$=e[12];const D=$,H=n.width&&n.height?n.width/n.height:1;let L;e[13]===Symbol.for("react.memo_cache_sentinel")?(L=()=>{d(!0)},e[13]=L):L=e[13];const V=L;let J,Q;e[14]===Symbol.for("react.memo_cache_sentinel")?(Q=()=>{if(!v.current)return;const Se=new IntersectionObserver(be=>{be.forEach(Ae=>{Ae.isIntersecting&&(m(!0),Se.disconnect())})},{rootMargin:"200px"});return Se.observe(v.current),()=>{Se.disconnect()}},J=[],e[14]=J,e[15]=Q):(J=e[14],Q=e[15]),A.useEffect(Q,J);let K,q;e[16]===Symbol.for("react.memo_cache_sentinel")?(K=()=>x(!0),q=()=>x(!1),e[16]=K,e[17]=q):(K=e[16],q=e[17]);const Z=o?3:1,Y=o?"primary.main":"divider";let ne;e[18]===Symbol.for("react.memo_cache_sentinel")?(ne={transform:"translateY(-4px)",boxShadow:6},e[18]=ne):ne=e[18];let re;e[19]!==Z||e[20]!==Y?(re={cursor:"pointer",transition:"all 0.2s ease-in-out",position:"relative",border:Z,borderColor:Y,"&:hover":ne},e[19]=Z,e[20]=Y,e[21]=re):re=e[21];let ie;e[22]!==F||e[23]!==y||e[24]!==l||e[25]!==o?(ie=l&&c.jsx(ee,{className:"image-card-actions",sx:{position:"absolute",top:8,left:8,zIndex:2,opacity:y||o?1:.3,transition:"opacity 0.2s ease-in-out"},onClick:F,children:o?c.jsx(Cs,{sx:{fontSize:32,color:"primary.main",bgcolor:"white",borderRadius:"50%",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"}}):c.jsx(ee,{sx:{width:32,height:32,borderRadius:"50%",border:"2px solid white",bgcolor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease-in-out","&:hover":{bgcolor:"rgba(0, 0, 0, 0.7)",transform:"scale(1.1)"}}})}),e[22]=F,e[23]=y,e[24]=l,e[25]=o,e[26]=ie):ie=e[26];let ce;e[27]!==o?(ce=o&&c.jsx(ee,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(33, 150, 243, 0.15)",zIndex:1,pointerEvents:"none"}}),e[27]=o,e[28]=ce):ce=e[28];let he;e[29]!==H||e[30]!==j||e[31]!==O?(he={position:"relative",width:"100%",...O||j?{}:{paddingTop:`${1/H*100}%`},overflow:"hidden",bgcolor:"transparent"},e[29]=H,e[30]=j,e[31]=O,e[32]=he):he=e[32];let me;e[33]!==u?(me=!u&&c.jsx(du,{variant:"rectangular",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),e[33]=u,e[34]=me):me=e[34];let le;e[35]!==n.original_file_path||e[36]!==u||e[37]!==N||e[38]!==j||e[39]!==O||e[40]!==h?(le=h&&(O?c.jsx(ee,{component:"video",src:N,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,onLoadedData:V,sx:{width:"100%",height:"auto",display:"block",opacity:u?1:0,transition:"opacity 0.15s ease-in-out"}}):j?c.jsx(Vs,{component:"img",image:N,alt:n.original_file_path||"Image",loading:"lazy",decoding:"async",draggable:!1,onLoad:V,sx:{width:"100%",height:"auto",display:"block",opacity:u?1:0,transition:"opacity 0.15s ease-in-out"}}):c.jsx(Vs,{component:"img",image:N,alt:n.original_file_path||"Image",loading:"lazy",decoding:"async",draggable:!1,onLoad:V,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain",display:"block",opacity:u?1:0,transition:"opacity 0.15s ease-in-out"}})),e[35]=n.original_file_path,e[36]=u,e[37]=N,e[38]=j,e[39]=O,e[40]=h,e[41]=le):le=e[41];let de;e[42]!==he||e[43]!==me||e[44]!==le?(de=c.jsxs(ee,{sx:he,children:[me,le]}),e[42]=he,e[43]=me,e[44]=le,e[45]=de):de=e[45];let pe;e[46]!==n.is_processing?(pe=n.is_processing&&c.jsx(ee,{sx:{position:"absolute",top:8,right:8,zIndex:1},children:c.jsx(gt,{icon:c.jsx(Jv,{sx:{fontSize:"0.8rem"}}),label:"Processing",size:"small",sx:{fontSize:"0.7rem",height:"22px",fontWeight:600,bgcolor:"rgba(255, 152, 0, 0.9)",color:"white",backdropFilter:"blur(4px)","& .MuiChip-icon":{color:"white"}}})}),e[46]=n.is_processing,e[47]=pe):pe=e[47];let ve;e[48]!==n.duration||e[49]!==O?(ve=O&&n.duration&&c.jsx(ee,{sx:{position:"absolute",bottom:8,left:8,zIndex:1},children:c.jsx(gt,{icon:c.jsx(PO,{sx:{fontSize:"0.8rem"}}),label:`${Math.floor(n.duration/60)}:${String(Math.floor(n.duration%60)).padStart(2,"0")}`,size:"small",sx:{fontSize:"0.7rem",height:"22px",fontWeight:600,bgcolor:"rgba(0, 0, 0, 0.75)",color:"white",backdropFilter:"blur(4px)","& .MuiChip-icon":{color:"white"}}})}),e[48]=n.duration,e[49]=O,e[50]=ve):ve=e[50];let ge;e[51]!==n.rating_score||e[52]!==k?(ge=k&&n.rating_score!==null&&n.rating_score!==void 0&&c.jsx(ee,{sx:{position:"absolute",bottom:8,right:8,zIndex:1},children:c.jsx(uQ,{tier:k,score:n.rating_score})}),e[51]=n.rating_score,e[52]=k,e[53]=ge):ge=e[53];let oe;return e[54]!==D||e[55]!==re||e[56]!==ie||e[57]!==ce||e[58]!==de||e[59]!==pe||e[60]!==ve||e[61]!==ge?(oe=c.jsxs(fr,{ref:v,onClick:D,onMouseEnter:K,onMouseLeave:q,sx:re,children:[ie,ce,de,pe,ve,ge]}),e[54]=D,e[55]=re,e[56]=ie,e[57]=ce,e[58]=de,e[59]=pe,e[60]=ve,e[61]=ge,e[62]=oe):oe=e[62],oe},rke=A.memo(nke),ake=t=>{const e=bt.c(37),{currentIndex:n,totalCount:r,onPrevious:a,onNext:i,onRandom:s,disabled:o,isRandomMode:l}=t,u=o===void 0?!1:o,d=l===void 0?!1:l,{t:h}=qt(),m=ov("(max-width:420px)"),y=n>0,x=n<r-1,v=m?.25:1;let _;e[0]!==v?(_={display:"flex",alignItems:"center",gap:v},e[0]=v,e[1]=_):_=e[1];let C;e[2]!==h?(C=h("imageDetail:viewer.navigation.previous"),e[2]=h,e[3]=C):C=e[3];const w=u||!y;let T;e[4]===Symbol.for("react.memo_cache_sentinel")?(T=c.jsx(qRe,{}),e[4]=T):T=e[4];let E;e[5]!==a||e[6]!==w?(E=c.jsx("span",{children:c.jsx(ht,{onClick:a,disabled:w,size:"small",children:T})}),e[5]=a,e[6]=w,e[7]=E):E=e[7];let k;e[8]!==C||e[9]!==E?(k=c.jsx(Xt,{title:C,children:E}),e[8]=C,e[9]=E,e[10]=k):k=e[10];const j=m?"60px":"80px",O=m?"0.75rem":"0.875rem";let z;e[11]!==j||e[12]!==O?(z={minWidth:j,textAlign:"center",fontSize:O},e[11]=j,e[12]=O,e[13]=z):z=e[13];const M=d?"Random":r>0?`${n+1} / ${r}`:"0 / 0";let N;e[14]!==z||e[15]!==M?(N=c.jsx(ae,{variant:"body2",color:"text.secondary",sx:z,children:M}),e[14]=z,e[15]=M,e[16]=N):N=e[16];let U;e[17]!==h?(U=h("imageDetail:viewer.navigation.next"),e[17]=h,e[18]=U):U=e[18];const F=u||!x;let $;e[19]===Symbol.for("react.memo_cache_sentinel")?($=c.jsx(tQ,{}),e[19]=$):$=e[19];let D;e[20]!==i||e[21]!==F?(D=c.jsx("span",{children:c.jsx(ht,{onClick:i,disabled:F,size:"small",children:$})}),e[20]=i,e[21]=F,e[22]=D):D=e[22];let H;e[23]!==U||e[24]!==D?(H=c.jsx(Xt,{title:U,children:D}),e[23]=U,e[24]=D,e[25]=H):H=e[25];let L;e[26]!==u||e[27]!==s||e[28]!==h||e[29]!==r?(L=s&&c.jsx(Xt,{title:h("imageDetail:viewer.navigation.random"),children:c.jsx("span",{children:c.jsx(ht,{onClick:s,disabled:u||r<=1,size:"small",color:"primary",children:c.jsx(t9e,{})})})}),e[26]=u,e[27]=s,e[28]=h,e[29]=r,e[30]=L):L=e[30];let V;return e[31]!==N||e[32]!==H||e[33]!==L||e[34]!==_||e[35]!==k?(V=c.jsxs(ee,{sx:_,children:[k,N,H,L]}),e[31]=N,e[32]=H,e[33]=L,e[34]=_,e[35]=k,e[36]=V):V=e[36],V},ike=t=>{const e=bt.c(112),{image:n,selected:r,selectable:a,onSelectionChange:i,onDelete:s,onImageClick:o,showCollectionType:l,currentGroupId:u}=t,d=r===void 0?!1:r,h=a===void 0?!1:a,m=l===void 0?!1:l;let y;e[0]===Symbol.for("react.memo_cache_sentinel")?(y=["common"],e[0]=y):y=e[0];const{t:x}=qt(y),[v,_]=A.useState(!1),[C,w]=A.useState(!1);let T;e[1]===Symbol.for("react.memo_cache_sentinel")?(T=Pd(),e[1]=T):T=e[1];const E=T,{getTierByScore:k}=PQ();let j;e[2]!==k||e[3]!==n.rating_score?(j=k(n.rating_score),e[2]=k,e[3]=n.rating_score,e[4]=j):j=e[4];const O=j;n.composite_hash&&Math.random()<.1&&console.log("[ImageCard] Rating debug:",{has_rating_score:n.rating_score!==null,rating_score:n.rating_score,tier_found:!!O,tier_name:O?.tier_name});const z=O;let M;e[5]!==u||e[6]!==n.groups?(M=u?n.groups?.find(xt=>xt.id===u):null,e[5]=u,e[6]=n.groups,e[7]=M):M=e[7];const U=M?.collection_type==="auto";let F;e[8]!==n.id||e[9]!==i?(F=xt=>{xt.stopPropagation(),i&&n.id&&i(n.id,xt)},e[8]=n.id,e[9]=i,e[10]=F):F=e[10];const $=F;let D;e[11]!==n.composite_hash||e[12]!==n.is_processing||e[13]!==n.original_file_path?(D=xt=>{xt.stopPropagation();const Zt=document.createElement("a");n.is_processing||!n.composite_hash?Zt.href=`${E}/api/images/by-path/${encodeURIComponent(n.original_file_path||"")}`:Zt.href=`${E}/api/images/${n.composite_hash}/download/original`,Zt.download=n.original_file_path||`image_${n.composite_hash?.substring(0,8)||"unknown"}.png`,document.body.appendChild(Zt),Zt.click(),document.body.removeChild(Zt)},e[11]=n.composite_hash,e[12]=n.is_processing,e[13]=n.original_file_path,e[14]=D):D=e[14];const H=D;let L;e[15]!==n.composite_hash||e[16]!==n.mime_type||e[17]!==s||e[18]!==x?(L=xt=>{xt.stopPropagation();const Zt=n.mime_type?.startsWith("video/"),Cn=x(Zt?"common:imageCard.confirmDelete.video":"common:imageCard.confirmDelete.image");s&&n.composite_hash&&window.confirm(Cn)&&s(n.composite_hash)},e[15]=n.composite_hash,e[16]=n.mime_type,e[17]=s,e[18]=x,e[19]=L):L=e[19];const V=L,J=n.file_type==="animated",Q=n.file_type==="video",K=n.is_processing||!n.composite_hash;let q;e:{if(K){q=`${E}/api/images/by-path/${encodeURIComponent(n.original_file_path||"")}`;break e}if(J||Q){q=`${E}/api/images/${n.composite_hash}/file`;break e}let xt;e[20]!==n.first_seen_date||e[21]!==n.thumbnail_path?(xt=n.thumbnail_path?`?v=${Date.parse(n.first_seen_date)}`:"",e[20]=n.first_seen_date,e[21]=n.thumbnail_path,e[22]=xt):xt=e[22];const Zt=xt;q=`${E}/api/images/${n.composite_hash}/thumbnail${Zt}`}const Z=q;let Y;e:{if(K){Y=`${E}/api/images/by-path/${encodeURIComponent(n.original_file_path||"")}`;break e}if(J||Q){Y=n.original_file_path?`${E}/api/images/by-path/${encodeURIComponent(n.original_file_path)}`:`${E}/api/images/${n.composite_hash}/thumbnail`;break e}Y=`${E}/api/images/${n.composite_hash}/file`}const ne=Y,re=h?"selectable-image":"",ie=n.composite_hash;let ce,he;e[23]===Symbol.for("react.memo_cache_sentinel")?(ce=()=>w(!0),he=()=>w(!1),e[23]=ce,e[24]=he):(ce=e[23],he=e[24]);const me=d||m&&U?3:1,le=d?"primary.main":m&&U?oke:"divider",de=m&&U?"dashed":"solid",pe=m&&U?lke:"none",ve=m&&U?cke:8;let ge;e[25]!==ve?(ge={boxShadow:ve,transform:"translateY(-2px)"},e[25]=ve,e[26]=ge):ge=e[26];let oe;e[27]!==me||e[28]!==le||e[29]!==de||e[30]!==pe||e[31]!==ge?(oe={position:"relative",aspectRatio:"5 / 7",overflow:"hidden",border:me,borderColor:le,borderStyle:de,borderRadius:2,transition:"all 0.3s ease",boxShadow:pe,"&:hover":ge},e[27]=me,e[28]=le,e[29]=de,e[30]=pe,e[31]=ge,e[32]=oe):oe=e[32];let Se;e[33]===Symbol.for("react.memo_cache_sentinel")?(Se=c.jsx(ee,{sx:{width:"100%",paddingTop:"140%"}}),e[33]=Se):Se=e[33];let be;e[34]!==$||e[35]!==C||e[36]!==h||e[37]!==d?(be=h&&c.jsx(ee,{className:"image-card-actions",sx:{position:"absolute",top:8,left:8,zIndex:2,opacity:C||d?1:.3,transition:"opacity 0.2s ease-in-out"},onClick:$,children:d?c.jsx(Cs,{sx:{fontSize:32,color:"primary.main",bgcolor:"white",borderRadius:"50%",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"}}):c.jsx(ee,{sx:{width:32,height:32,borderRadius:"50%",border:"2px solid white",bgcolor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease-in-out","&:hover":{bgcolor:"rgba(0, 0, 0, 0.7)",transform:"scale(1.1)"}}})}),e[34]=$,e[35]=C,e[36]=h,e[37]=d,e[38]=be):be=e[38];let Ae;e[39]!==d?(Ae=d&&c.jsx(ee,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(33, 150, 243, 0.15)",zIndex:1,pointerEvents:"none"}}),e[39]=d,e[40]=Ae):Ae=e[40];let Me;e[41]!==U||e[42]!==h||e[43]!==m||e[44]!==x?(Me=m&&U&&c.jsx(ee,{sx:{position:"absolute",top:h?54:8,left:8,zIndex:1},children:c.jsx(gt,{icon:c.jsx(mg,{sx:{fontSize:"0.9rem"}}),label:x("common:imageCard.badges.auto"),size:"small",color:"info",sx:{fontSize:"0.7rem",height:"24px",fontWeight:600,bgcolor:uke,color:"white","& .MuiChip-icon":{color:"white"}}})}),e[41]=U,e[42]=h,e[43]=m,e[44]=x,e[45]=Me):Me=e[45];let Pe;e[46]!==n.is_processing?(Pe=n.is_processing&&c.jsx(ee,{sx:{position:"absolute",top:8,right:8,zIndex:1},children:c.jsx(gt,{icon:c.jsx(Jv,{sx:{fontSize:"0.8rem"}}),label:"Processing",size:"small",sx:{fontSize:"0.7rem",height:"22px",fontWeight:600,bgcolor:"rgba(255, 152, 0, 0.9)",color:"white",backdropFilter:"blur(4px)","& .MuiChip-icon":{color:"white"}}})}),e[46]=n.is_processing,e[47]=Pe):Pe=e[47];let Le;e[48]!==n.duration||e[49]!==n.mime_type?(Le=n.mime_type?.startsWith("video/")&&n.duration&&c.jsx(ee,{sx:{position:"absolute",bottom:8,left:8,zIndex:1},children:c.jsx(gt,{icon:c.jsx(PO,{sx:{fontSize:"0.8rem"}}),label:`${Math.floor(n.duration/60)}:${String(Math.floor(n.duration%60)).padStart(2,"0")}`,size:"small",sx:{fontSize:"0.7rem",height:"22px",fontWeight:600,bgcolor:"rgba(0, 0, 0, 0.75)",color:"white",backdropFilter:"blur(4px)","& .MuiChip-icon":{color:"white"}}})}),e[48]=n.duration,e[49]=n.mime_type,e[50]=Le):Le=e[50];let Oe;e[51]!==n.rating_score||e[52]!==z?(Oe=z&&n.rating_score!==null&&n.rating_score!==void 0&&c.jsx(ee,{sx:{position:"absolute",bottom:8,right:8,zIndex:1},children:c.jsx(uQ,{tier:z,score:n.rating_score})}),e[51]=n.rating_score,e[52]=z,e[53]=Oe):Oe=e[53];let Xe;e[54]===Symbol.for("react.memo_cache_sentinel")?(Xe={position:"absolute",top:8,right:8,zIndex:1},e[54]=Xe):Xe=e[54];let ke;e[55]===Symbol.for("react.memo_cache_sentinel")?(ke={display:"flex",gap:.5},e[55]=ke):ke=e[55];let Ie;e[56]!==x?(Ie=x("common:imageCard.tooltips.download"),e[56]=x,e[57]=Ie):Ie=e[57];let ye,Ce;e[58]===Symbol.for("react.memo_cache_sentinel")?(ye={bgcolor:dke,borderRadius:1,"&:hover":{bgcolor:fke}},Ce=c.jsx(Zv,{fontSize:"small"}),e[58]=ye,e[59]=Ce):(ye=e[58],Ce=e[59]);let Ne;e[60]!==H?(Ne=c.jsx(ht,{size:"small",onClick:H,sx:ye,children:Ce}),e[60]=H,e[61]=Ne):Ne=e[61];let Be;e[62]!==Ie||e[63]!==Ne?(Be=c.jsx(Xt,{title:Ie,children:Ne}),e[62]=Ie,e[63]=Ne,e[64]=Be):Be=e[64];let Ke;e[65]!==V||e[66]!==s||e[67]!==x?(Ke=s&&c.jsx(Xt,{title:x("common:imageCard.tooltips.delete"),children:c.jsx(ht,{size:"small",onClick:V,sx:{bgcolor:hke,borderRadius:1,"&:hover":{bgcolor:pke}},children:c.jsx(Ia,{fontSize:"small"})})}),e[65]=V,e[66]=s,e[67]=x,e[68]=Ke):Ke=e[68];let Je;e[69]!==Be||e[70]!==Ke?(Je=c.jsx(ee,{className:"image-card-actions",sx:Xe,children:c.jsxs(ee,{sx:ke,children:[Be,Ke]})}),e[69]=Be,e[70]=Ke,e[71]=Je):Je=e[71];let Ge;e[72]!==ne||e[73]!==n.mime_type||e[74]!==n.original_file_path||e[75]!==v||e[76]!==J||e[77]!==Q||e[78]!==o||e[79]!==Z?(Ge=Q?c.jsx(ee,{component:"video",src:Z,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,onError:xt=>{console.error("[ImageCard] Video load error:",Z,xt),_(!0)},sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",cursor:"pointer"},onClick:o}):J?c.jsx(Vs,{component:"img",image:v?ne:Z,alt:n.original_file_path??"",draggable:!1,onError:xt=>{console.error("[ImageCard] Image load error:",v?ne:Z,"isGif:",J,"mime_type:",n.mime_type,xt),_(!0)},sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",cursor:"pointer"},onClick:o}):c.jsx(Vs,{component:"img",image:v?ne:Z,alt:n.original_file_path??"",draggable:!1,onError:xt=>{console.error("[ImageCard] Image load error:",v?ne:Z,"isGif:",J,"mime_type:",n.mime_type,xt),_(!0)},sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",cursor:"pointer"},onClick:o}),e[72]=ne,e[73]=n.mime_type,e[74]=n.original_file_path,e[75]=v,e[76]=J,e[77]=Q,e[78]=o,e[79]=Z,e[80]=Ge):Ge=e[80];let it;e[81]===Symbol.for("react.memo_cache_sentinel")?(it={xs:1,sm:1.5},e[81]=it):it=e[81];let ct;e[82]===Symbol.for("react.memo_cache_sentinel")?(ct={position:"absolute",bottom:0,left:0,right:0,borderRadius:2,p:it,bgcolor:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(4px)","&:last-child":{paddingBottom:{xs:"6px",sm:"8px"}}},e[82]=ct):ct=e[82];let nt;e[83]===Symbol.for("react.memo_cache_sentinel")?(nt={display:"flex",flexDirection:"column",gap:.75},e[83]=nt):nt=e[83];let dt;e[84]!==n.groups?(dt=n.groups&&n.groups.length>0&&c.jsxs(ee,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:[n.groups.slice(0,2).map(mke),n.groups.length>2&&c.jsx(gt,{label:`+${n.groups.length-2}`,size:"small",variant:"outlined",sx:{fontSize:{xs:"0.6rem",sm:"0.7rem"},height:{xs:"18px",sm:"20px"}}})]}),e[84]=n.groups,e[85]=dt):dt=e[85];let $t;e[86]===Symbol.for("react.memo_cache_sentinel")?($t={display:"flex",flexWrap:"wrap",gap:.5},e[86]=$t):$t=e[86];let Wt;e[87]!==n.ai_tool?(Wt=n.ai_tool&&c.jsx(gt,{label:n.ai_tool,size:"small",variant:"outlined",color:"primary",sx:{fontSize:{xs:"0.65rem",sm:"0.75rem"},height:{xs:"20px",sm:"24px"}}}),e[87]=n.ai_tool,e[88]=Wt):Wt=e[88];let sn;e[89]!==n.height||e[90]!==n.width?(sn=n.width&&n.height&&c.jsx(gt,{label:`${n.width}${n.height}`,size:"small",variant:"outlined",sx:{fontSize:{xs:"0.65rem",sm:"0.75rem"},height:{xs:"20px",sm:"24px"}}}),e[89]=n.height,e[90]=n.width,e[91]=sn):sn=e[91];let xn;e[92]!==Wt||e[93]!==sn?(xn=c.jsxs(ee,{sx:$t,children:[Wt,sn]}),e[92]=Wt,e[93]=sn,e[94]=xn):xn=e[94];let In;e[95]!==dt||e[96]!==xn?(In=c.jsx(Ra,{sx:ct,children:c.jsxs(ee,{sx:nt,children:[dt,xn]})}),e[95]=dt,e[96]=xn,e[97]=In):In=e[97];let Gt;return e[98]!==n.composite_hash||e[99]!==h||e[100]!==re||e[101]!==oe||e[102]!==be||e[103]!==Ae||e[104]!==Me||e[105]!==Pe||e[106]!==Le||e[107]!==Oe||e[108]!==Je||e[109]!==Ge||e[110]!==In?(Gt=c.jsx(c.Fragment,{children:c.jsxs(fr,{className:re,"data-image-id":ie,"data-selectable":h,onMouseEnter:ce,onMouseLeave:he,sx:oe,children:[Se,be,Ae,Me,Pe,Le,Oe,Je,Ge,In]})}),e[98]=n.composite_hash,e[99]=h,e[100]=re,e[101]=oe,e[102]=be,e[103]=Ae,e[104]=Me,e[105]=Pe,e[106]=Le,e[107]=Oe,e[108]=Je,e[109]=Ge,e[110]=In,e[111]=Gt):Gt=e[111],Gt},ske=A.memo(ike);function oke(t){return t.palette.mode==="dark"?"#42a5f5":"#1976d2"}function lke(t){return`0 0 8px ${t.palette.mode==="dark"?"rgba(66, 165, 245, 0.4)":"rgba(25, 118, 210, 0.3)"}`}function cke(t){return`0 4px 12px ${t.palette.mode==="dark"?"rgba(66, 165, 245, 0.5)":"rgba(25, 118, 210, 0.4)"}, 0 8px 24px rgba(0,0,0,0.2)`}function uke(t){return t.palette.mode==="dark"?"rgba(33, 150, 243, 0.8)":"rgba(33, 150, 243, 0.9)"}function dke(t){return t.palette.mode==="dark"?"rgba(0, 0, 0, 0.6)":"rgba(255, 255, 255, 0.8)"}function fke(t){return t.palette.mode==="dark"?"rgba(0, 0, 0, 0.8)":"rgba(255, 255, 255, 0.9)"}function hke(t){return t.palette.mode==="dark"?"rgba(0, 0, 0, 0.6)":"rgba(255, 255, 255, 0.8)"}function pke(t){return t.palette.mode==="dark"?"rgba(0, 0, 0, 0.8)":"rgba(255, 255, 255, 0.9)"}function mke(t){return c.jsx(gt,{label:t.name,size:"small",variant:"filled",sx:{fontSize:{xs:"0.6rem",sm:"0.7rem"},height:{xs:"18px",sm:"20px"},backgroundColor:t.color||(t.collection_type==="auto"?"#e3f2fd":"#f3e5f5"),color:t.color?"#fff":t.collection_type==="auto"?"#1976d2":"#7b1fa2","& .MuiChip-label":{px:.5}}},t.id)}const gke=t=>{const e=bt.c(24),{value:n,onChange:r,disabled:a}=t,i=a===void 0?!1:a;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=["common"],e[0]=s):s=e[0];const{t:o}=qt(s);let l;e[1]!==r?(l=k=>{r(k.target.value)},e[1]=r,e[2]=l):l=e[2];const u=l;let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d={display:"flex",alignItems:"center",gap:1},e[3]=d):d=e[3];let h;e[4]!==o?(h=o("common:pagination.perPage"),e[4]=o,e[5]=h):h=e[5];let m;e[6]!==h?(m=c.jsx(ae,{variant:"body2",color:"text.secondary",children:h}),e[6]=h,e[7]=m):m=e[7];let y;e[8]===Symbol.for("react.memo_cache_sentinel")?(y={minWidth:80},e[8]=y):y=e[8];let x,v,_;e[9]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx(en,{value:25,children:"25"}),_=c.jsx(en,{value:50,children:"50"}),x=c.jsx(en,{value:100,children:"100"}),e[9]=x,e[10]=v,e[11]=_):(x=e[9],v=e[10],_=e[11]);let C;e[12]!==i||e[13]!==u||e[14]!==n?(C=c.jsx(ba,{size:"small",sx:y,children:c.jsxs(Ha,{value:n,onChange:u,disabled:i,variant:"outlined",children:[v,_,x]})}),e[12]=i,e[13]=u,e[14]=n,e[15]=C):C=e[15];let w;e[16]!==o?(w=o("common:pagination.items"),e[16]=o,e[17]=w):w=e[17];let T;e[18]!==w?(T=c.jsx(ae,{variant:"body2",color:"text.secondary",children:w}),e[18]=w,e[19]=T):T=e[19];let E;return e[20]!==C||e[21]!==T||e[22]!==m?(E=c.jsxs(ee,{sx:d,children:[m,C,T]}),e[20]=C,e[21]=T,e[22]=m,e[23]=E):E=e[23],E},B5=({images:t=[],loading:e=!1,selectable:n=!1,selectedIds:r=[],onSelectionChange:a,pageSize:i=25,onPageSizeChange:s,currentPage:o=1,totalPages:l=1,total:u=0,onPageChange:d,onImageDelete:h,showCollectionType:m=!1,currentGroupId:y,searchParams:x,allImageIds:v})=>{const{t:_}=qt(["common","gallery"]),[C,w]=A.useState(!1),[T,E]=A.useState(0),[k,j]=A.useState(-1),[O,z]=A.useState([]),M=t||[],N=v||O;A.useEffect(()=>{if(v&&v.length>0)return;(async()=>{try{if(y){const K=await si.getImageIdsForGroup(y);K.success&&K.data&&z(K.data.ids)}else if(x){const K=await ya.searchImageIds(x);K.success&&K.data&&z(K.data.ids)}else z([])}catch(K){console.error("Failed to fetch all image IDs:",K),z([])}})()},[y,x,v]);const U=(Q,K)=>{if(!a)return;const q=M.findIndex(Y=>Y.id===Q);if(K&&(K.ctrlKey||K.metaKey)){const Y=r.includes(Q)?r.filter(ne=>ne!==Q):[...r,Q];a(Y),j(q);return}if(K&&K.shiftKey&&k>=0){const Y=Math.min(k,q),ne=Math.max(k,q),re=M.slice(Y,ne+1).map(ce=>ce.id).filter(ce=>ce!=null),ie=Array.from(new Set([...r,...re]));a(ie);return}const Z=r.includes(Q)?r.filter(Y=>Y!==Q):[...r,Q];a(Z),j(q)},F=Q=>{if(a)if(Q){const K=M.map(q=>q.id).filter(q=>q!=null);a(K)}else a([])},$=M.filter(Q=>Q.id!==void 0&&Q.id!==null).length,D=$>0&&r.length===$,H=r.length>0&&r.length<$,L=Q=>{E(Q),w(!0)},V=Q=>{E(Q)},J=Q=>{const K=Q.target,q=K.closest(".MuiCard-root"),Z=K.closest(".image-card-actions"),Y=K.closest(".no-drag-select"),ne=K.closest(".MuiPagination-root");!q&&!Z&&!Y&&!ne&&a&&r.length>0&&(a([]),j(-1))};return A.useEffect(()=>{if(!n||!a)return;const Q=K=>{if((K.ctrlKey||K.metaKey)&&K.key==="a"){K.preventDefault();const q=M.map(Z=>Z.id).filter(Z=>Z!=null);a(q)}K.key==="Escape"&&(K.preventDefault(),a([]),j(-1))};return window.addEventListener("keydown",Q),()=>{window.removeEventListener("keydown",Q)}},[n,a,M]),e?c.jsx(ee,{children:c.jsx(yn,{container:!0,spacing:2,children:Array.from({length:i},(Q,K)=>c.jsxs(yn,{size:{xs:12,sm:6,md:4,lg:3,xl:2},children:[c.jsx(du,{variant:"rectangular",height:200}),c.jsxs(ee,{sx:{pt:.5},children:[c.jsx(du,{}),c.jsx(du,{width:"60%"})]})]},K))})}):M.length===0?c.jsxs(ee,{sx:{textAlign:"center",py:8},children:[c.jsx(ae,{variant:"h6",color:"text.secondary",children:_("gallery:status.noImages")}),c.jsx(ae,{variant:"body2",color:"text.secondary",children:_("gallery:status.uploadPrompt","    .")})]}):c.jsxs(ee,{onClick:J,sx:{position:"relative"},children:[c.jsxs(ee,{sx:{mb:3},children:[c.jsxs(fn,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"stretch",sm:"center"},spacing:2,children:[c.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:2},children:[c.jsx(gr,{control:c.jsx(ty,{checked:D,indeterminate:H,onChange:Q=>F(Q.target.checked),disabled:!n}),label:_("gallery:selectAllLabel",{selected:r.length,total:M.length,defaultValue:`  (${r.length}/${M.length})`})}),c.jsx(ae,{variant:"body2",color:"text.secondary",children:_("gallery:totalImages",{count:u,defaultValue:` ${u.toLocaleString()} `})})]}),s&&c.jsx(gke,{value:i,onChange:s,disabled:e})]}),c.jsx(bn,{sx:{mt:2}})]}),c.jsx(yn,{container:!0,spacing:3,children:M.map((Q,K)=>c.jsx(yn,{size:{xs:6,sm:4,md:3,lg:2,xl:1.5},children:c.jsx(ske,{image:Q,selected:Q.id?r.includes(Q.id):!1,selectable:n,onSelectionChange:(q,Z)=>U(q,Z),onDelete:h,onImageClick:()=>L(K),showCollectionType:m,currentGroupId:y})},Q.id?`id-${Q.id}`:`hash-${Q.composite_hash||"processing"}-${K}`))}),l>1&&d&&c.jsx(ee,{sx:{display:"flex",justifyContent:"center",mt:4},children:c.jsx($6e,{count:l,page:o,onChange:(Q,K)=>d(K),color:"primary",size:"large",showFirstButton:!0,showLastButton:!0})}),c.jsx(V5,{open:C,onClose:()=>w(!1),image:M[T]||null,images:M,currentIndex:T,onImageChange:V,onImageDeleted:h,searchContext:x?"search":y?"group":"all",searchParams:x,groupId:y,allImageIds:N})]})},yke=t=>{const e=bt.c(36),{open:n,onClose:r,images:a,loading:i,selectable:s,selectedIds:o,onSelectionChange:l,pageSize:u,onPageSizeChange:d,currentPage:h,totalPages:m,total:y,onPageChange:x,onImageDelete:v,title:_}=t,C=i===void 0?!1:i,w=s===void 0?!1:s;let T;e[0]!==o?(T=o===void 0?[]:o,e[0]=o,e[1]=T):T=e[1];const E=T,k=u===void 0?25:u,j=h===void 0?1:h,O=m===void 0?1:m,z=y===void 0?0:y;let M;e[2]===Symbol.for("react.memo_cache_sentinel")?(M=["gallery"],e[2]=M):M=e[2];const{t:N}=qt(M);let U;e[3]!==N||e[4]!==_?(U=_||N("gallery:imageGridModal.title"," "),e[3]=N,e[4]=_,e[5]=U):U=e[5];const F=U;let $;e[6]===Symbol.for("react.memo_cache_sentinel")?($={sx:{height:"90vh",maxHeight:"90vh"}},e[6]=$):$=e[6];let D;e[7]===Symbol.for("react.memo_cache_sentinel")?(D={display:"flex",justifyContent:"space-between",alignItems:"center"},e[7]=D):D=e[7];let H;e[8]!==F?(H=c.jsx(ae,{variant:"h6",children:F}),e[8]=F,e[9]=H):H=e[9];let L,V;e[10]===Symbol.for("react.memo_cache_sentinel")?(L={color:bke},V=c.jsx(kp,{}),e[10]=L,e[11]=V):(L=e[10],V=e[11]);let J;e[12]!==r?(J=c.jsx(ht,{"aria-label":"close",onClick:r,sx:L,children:V}),e[12]=r,e[13]=J):J=e[13];let Q;e[14]!==H||e[15]!==J?(Q=c.jsx(br,{children:c.jsxs(ee,{sx:D,children:[H,J]})}),e[14]=H,e[15]=J,e[16]=Q):Q=e[16];let K;e[17]===Symbol.for("react.memo_cache_sentinel")?(K={p:2,overflow:"auto",flex:1},e[17]=K):K=e[17];let q;e[18]!==j||e[19]!==a||e[20]!==C||e[21]!==v||e[22]!==x||e[23]!==d||e[24]!==l||e[25]!==k||e[26]!==w||e[27]!==E||e[28]!==z||e[29]!==O?(q=c.jsx(yr,{sx:K,children:c.jsx(B5,{images:a,loading:C,selectable:w,selectedIds:E,onSelectionChange:l,pageSize:k,onPageSizeChange:d,currentPage:j,totalPages:O,total:z,onPageChange:x,onImageDelete:v})}),e[18]=j,e[19]=a,e[20]=C,e[21]=v,e[22]=x,e[23]=d,e[24]=l,e[25]=k,e[26]=w,e[27]=E,e[28]=z,e[29]=O,e[30]=q):q=e[30];let Z;return e[31]!==r||e[32]!==n||e[33]!==Q||e[34]!==q?(Z=c.jsxs(hr,{open:n,onClose:r,maxWidth:"xl",fullWidth:!0,PaperProps:$,children:[Q,q]}),e[31]=r,e[32]=n,e[33]=Q,e[34]=q,e[35]=Z):Z=e[35],Z};function bke(t){return t.palette.grey[500]}const fc=tn.create({baseURL:`${Ir}/api/settings`,headers:{"Content-Type":"application/json"},withCredentials:!0}),$s={getSettings:async()=>(await fc.get("/")).data.data,updateGeneralSettings:async t=>(await fc.put("/general",t)).data.data,updateTaggerSettings:async t=>(await fc.put("/tagger",t)).data.data,getModelsList:async()=>(await fc.get("/tagger/models")).data.data,checkDependencies:async()=>(await fc.post("/tagger/check-dependencies")).data.data,downloadModel:async t=>{const e=await fc.post("/tagger/download",{model:t});return{downloaded:e.data.data.downloaded,message:e.data.message}},getTaggerStatus:async()=>(await fc.get("/tagger/status")).data.data,loadModel:async t=>{await fc.post("/tagger/load-model",{model:t})},unloadModel:async()=>{await fc.post("/tagger/unload-model")},updateSimilaritySettings:async t=>(await fc.put("/similarity",t)).data.data,updateMetadataSettings:async t=>(await fc.put("/metadata",t)).data.data,updateThumbnailSettings:async t=>(await fc.put("/thumbnail",t)).data.data},j_=tn.create({baseURL:"/api/images",headers:{"Content-Type":"application/json"},withCredentials:!0}),LQ={tagUnprocessed:async t=>(await j_.post("/batch-tag-unprocessed",{limit:t})).data.data,tagAll:async(t,e)=>(await j_.post("/batch-tag-all",{limit:t,force:e})).data.data,testImage:async t=>(await j_.post(`/${t}/tag`)).data.data,getUntaggedCount:async()=>(await j_.get("/untagged-count")).data.data.count},mT=tn.create({baseURL:`${Ir}/api/thumbnails`,headers:{"Content-Type":"application/json"},withCredentials:!0}),gT={regenerate:async()=>{await mT.post("/regenerate")},getProgress:async()=>(await mT.get("/progress")).data.data,getStats:async()=>(await mT.get("/stats")).data.data},xke=(t,e)=>{const n=bt.c(40),r=e===void 0?!1:e,[a,i]=A.useState(1),[s,o]=A.useState(0),[l,u]=A.useState(!1),[d,h]=A.useState(!1);let m;n[0]===Symbol.for("react.memo_cache_sentinel")?(m={x:0,y:0},n[0]=m):m=n[0];const[y,x]=A.useState(m),[v,_]=A.useState(!1);let C;n[1]===Symbol.for("react.memo_cache_sentinel")?(C={x:0,y:0},n[1]=C):C=n[1];const[w,T]=A.useState(C),E=A.useRef(null),[k,j]=A.useState(0),[O,z]=A.useState(1);let M;n[2]===Symbol.for("react.memo_cache_sentinel")?(M=()=>{i(1),o(0),u(!1),h(!1),x({x:0,y:0}),_(!1)},n[2]=M):M=n[2];let N;n[3]!==t?(N=[t],n[3]=t,n[4]=N):N=n[4],A.useEffect(M,N);let U;n[5]===Symbol.for("react.memo_cache_sentinel")?(U=()=>{i(vke)},n[5]=U):U=n[5];const F=U;let $;n[6]===Symbol.for("react.memo_cache_sentinel")?($=()=>{i(ge=>{const oe=Math.max(ge/1.2,.1);return oe<=1&&x({x:0,y:0}),oe})},n[6]=$):$=n[6];const D=$;let H;n[7]===Symbol.for("react.memo_cache_sentinel")?(H=()=>{o(Ske)},n[7]=H):H=n[7];const L=H;let V;n[8]===Symbol.for("react.memo_cache_sentinel")?(V=()=>{o(_ke)},n[8]=V):V=n[8];const J=V;let Q;n[9]===Symbol.for("react.memo_cache_sentinel")?(Q=()=>{u(Cke)},n[9]=Q):Q=n[9];const K=Q;let q;n[10]===Symbol.for("react.memo_cache_sentinel")?(q=()=>{h(wke)},n[10]=q):q=n[10];const Z=q;let Y;n[11]===Symbol.for("react.memo_cache_sentinel")?(Y=()=>{i(1),o(0),u(!1),h(!1),x({x:0,y:0})},n[11]=Y):Y=n[11];const ne=Y;let re;n[12]!==y||n[13]!==a?(re=ge=>{a>1&&(ge.preventDefault(),_(!0),T({x:ge.clientX-y.x,y:ge.clientY-y.y}))},n[12]=y,n[13]=a,n[14]=re):re=n[14];const ie=re;let ce,he;n[15]!==w||n[16]!==v||n[17]!==a?(ce=()=>{if(!v)return;const ge=Se=>{a>1&&x({x:Se.clientX-w.x,y:Se.clientY-w.y})},oe=()=>{_(!1)};return document.addEventListener("mousemove",ge),document.addEventListener("mouseup",oe),()=>{document.removeEventListener("mousemove",ge),document.removeEventListener("mouseup",oe)}},he=[v,a,w],n[15]=w,n[16]=v,n[17]=a,n[18]=ce,n[19]=he):(ce=n[18],he=n[19]),A.useEffect(ce,he);let me,le;n[20]!==r?(me=()=>{if(!r)return;const ge=setTimeout(()=>{const oe=E.current;if(!oe)return;const Se=be=>{be.preventDefault(),be.stopPropagation();const Me=1+(be.deltaY>0?-1:1)*.1;i(Pe=>{const Le=Math.max(.1,Math.min(5,Pe*Me));return Le<=1&&x({x:0,y:0}),Le})};return oe.addEventListener("wheel",Se,{passive:!1}),()=>{oe.removeEventListener("wheel",Se)}},100);return()=>{clearTimeout(ge)}},le=[r],n[20]=r,n[21]=me,n[22]=le):(me=n[21],le=n[22]),A.useEffect(me,le);let de,pe;n[23]!==w||n[24]!==y||n[25]!==v||n[26]!==r||n[27]!==a||n[28]!==k||n[29]!==O?(de=()=>{if(!r)return;const ge=E.current;if(!ge)return;const oe=Eke,Se=Me=>{if(Me.touches.length===2){Me.preventDefault();const Pe=oe(Me.touches);j(Pe),z(a)}else if(Me.touches.length===1&&a>1){Me.preventDefault();const Pe=Me.touches[0];_(!0),T({x:Pe.clientX-y.x,y:Pe.clientY-y.y})}},be=Me=>{if(Me.touches.length===2){Me.preventDefault();const Pe=oe(Me.touches);if(k>0){const Le=Pe/k,Oe=Math.max(.1,Math.min(5,O*Le));i(Oe),Oe<=1&&x({x:0,y:0})}}else if(Me.touches.length===1&&a>1&&v){Me.preventDefault();const Pe=Me.touches[0];x({x:Pe.clientX-w.x,y:Pe.clientY-w.y})}},Ae=Me=>{Me.touches.length<2&&(j(0),z(1)),Me.touches.length===0&&_(!1)};return ge.addEventListener("touchstart",Se,{passive:!1}),ge.addEventListener("touchmove",be,{passive:!1}),ge.addEventListener("touchend",Ae,{passive:!1}),()=>{ge.removeEventListener("touchstart",Se),ge.removeEventListener("touchmove",be),ge.removeEventListener("touchend",Ae)}},pe=[r,a,k,O,y,v,w],n[23]=w,n[24]=y,n[25]=v,n[26]=r,n[27]=a,n[28]=k,n[29]=O,n[30]=de,n[31]=pe):(de=n[30],pe=n[31]),A.useEffect(de,pe);let ve;return n[32]!==l||n[33]!==d||n[34]!==ie||n[35]!==y||n[36]!==v||n[37]!==s||n[38]!==a?(ve={scale:a,rotation:s,flipX:l,flipY:d,imagePosition:y,isDragging:v,imageContainerRef:E,handleZoomIn:F,handleZoomOut:D,handleRotateLeft:L,handleRotateRight:J,handleFlipHorizontal:K,handleFlipVertical:Z,handleReset:ne,handleMouseDown:ie},n[32]=l,n[33]=d,n[34]=ie,n[35]=y,n[36]=v,n[37]=s,n[38]=a,n[39]=ve):ve=n[39],ve};function vke(t){return Math.min(t*1.2,5)}function Ske(t){return(t-90)%360}function _ke(t){return(t+90)%360}function Cke(t){return!t}function wke(t){return!t}function Eke(t){if(t.length<2)return 0;const e=t[0],n=t[1],r=e.clientX-n.clientX,a=e.clientY-n.clientY;return Math.sqrt(r*r+a*a)}const Tke=({images:t,currentIndex:e,onImageChange:n,isOpen:r,onClose:a,searchContext:i="all",searchParams:s,groupId:o,allImageIds:l=[],onRandomImageLoaded:u,onRandomModeChange:d})=>{const h=A.useCallback(()=>{e>0&&n&&(n(e-1),d&&d(!1))},[e,n,d]),m=A.useCallback(()=>{const x=t?.length??0;e<x-1&&n&&(n(e+1),d&&d(!1))},[e,t,n,d]),y=A.useCallback(async()=>{if(l&&l.length>0)try{const _=l[Math.floor(Math.random()*l.length)],C=t?.findIndex(w=>w.id===_)??-1;C>=0&&n?(n(C),d&&d(!1)):console.warn("Random image not in current page - falling back to API random");return}catch(_){console.error("Failed to load random image:",_)}try{let _=null;if(i==="all"?_=await ya.getRandomImage():i==="search"&&s?_=await ya.getRandomFromSearch(s):i==="group"&&o!==void 0&&(_=await si.getRandomImageFromGroup(o)),_?.success&&_.data){const C=t?.findIndex(w=>w.composite_hash===_.data.composite_hash)??-1;C>=0&&n?(n(C),d&&d(!1)):(u&&u(_.data),d&&d(!0));return}}catch(_){console.error("Failed to get random image from server:",_)}const x=t?.length??0;if(x<=1||!n)return;let v;do v=Math.floor(Math.random()*x);while(v===e);n(v),d&&d(!1)},[l,t,e,n,u,d,i,s,o]);return A.useEffect(()=>{if(!r)return;const x=v=>{switch(v.key){case"ArrowLeft":v.preventDefault(),h();break;case"ArrowRight":v.preventDefault(),m();break;case" ":v.preventDefault(),y();break;case"Escape":v.preventDefault(),a();break}};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[r,h,m,y,a]),{handlePrevious:h,handleNext:m,handleRandom:y}},Ake=()=>{const[t,e]=A.useState(!1),[n,r]=A.useState(null),[a,i]=A.useState([]),[s,o]=A.useState(!1),[l,u]=A.useState(1),[d,h]=A.useState(1),[m,y]=A.useState(0),[x,v]=A.useState(25),_=A.useCallback(async(k,j=1,O)=>{try{o(!0);const z=O||x,M=await si.getGroupImages(k,j,z);M.success&&M.data?(i(M.data.images||[]),u(M.data.pagination?.page||1),h(M.data.pagination?.totalPages||1),y(M.data.pagination?.total||0)):i([])}catch(z){console.error("Error fetching group images:",z),i([])}finally{o(!1)}},[x]),C=A.useCallback(async k=>{r(k),o(!0),e(!0),await _(k.id,1,x)},[_,x]),w=A.useCallback(()=>{e(!1)},[]),T=A.useCallback(k=>{n&&_(n.id,k,x)},[n,_,x]),E=A.useCallback(k=>{v(k),n&&_(n.id,1,k)},[n,_]);return{groupModalOpen:t,selectedGroup:n,groupImages:a,groupImagesLoading:s,groupImagesPage:l,groupImagesTotalPages:d,groupImagesTotal:m,groupImagesPageSize:x,handleGroupClick:C,handleGroupModalClose:w,handleGroupImagesPageChange:T,handleGroupImagesPageSizeChange:E}},Rke=t=>{const e=bt.c(94),{scale:n,isMobile:r,showOriginal:a,isGif:i,isVideo:s,onZoomIn:o,onZoomOut:l,onRotateLeft:u,onRotateRight:d,onFlipHorizontal:h,onFlipVertical:m,onReset:y,onToggleOriginal:x,onEdit:v,onOpenDrawer:_,onClose:C}=t,{t:w}=qt();let T;e[0]===Symbol.for("react.memo_cache_sentinel")?(T={position:"absolute",top:0,left:0,right:0,zIndex:2,display:"flex",justifyContent:"space-between",alignItems:"center",p:1,background:"linear-gradient(to bottom, rgba(0,0,0,0.5), transparent)"},e[0]=T):T=e[0];let E;e[1]===Symbol.for("react.memo_cache_sentinel")?(E={display:"flex",gap:.5,alignItems:"center"},e[1]=E):E=e[1];let k;e[2]===Symbol.for("react.memo_cache_sentinel")?(k={color:"white"},e[2]=k):k=e[2];let j;e[3]!==w?(j=w("imageDetail:controls.zoomOut"),e[3]=w,e[4]=j):j=e[4];let O;e[5]===Symbol.for("react.memo_cache_sentinel")?(O=c.jsx(lQ,{}),e[5]=O):O=e[5];let z;e[6]!==l||e[7]!==j?(z=c.jsx(ht,{onClick:l,sx:k,size:"small",title:j,children:O}),e[6]=l,e[7]=j,e[8]=z):z=e[8];let M;e[9]===Symbol.for("react.memo_cache_sentinel")?(M={color:"white",minWidth:"50px",textAlign:"center"},e[9]=M):M=e[9];let N;e[10]!==n?(N=Math.round(n*100),e[10]=n,e[11]=N):N=e[11];let U;e[12]!==N?(U=c.jsxs(ae,{variant:"caption",sx:M,children:[N,"%"]}),e[12]=N,e[13]=U):U=e[13];let F;e[14]===Symbol.for("react.memo_cache_sentinel")?(F={color:"white"},e[14]=F):F=e[14];let $;e[15]!==w?($=w("imageDetail:controls.zoomIn"),e[15]=w,e[16]=$):$=e[16];let D;e[17]===Symbol.for("react.memo_cache_sentinel")?(D=c.jsx(oQ,{}),e[17]=D):D=e[17];let H;e[18]!==o||e[19]!==$?(H=c.jsx(ht,{onClick:o,sx:F,size:"small",title:$,children:D}),e[18]=o,e[19]=$,e[20]=H):H=e[20];let L;e[21]===Symbol.for("react.memo_cache_sentinel")?(L={color:"white"},e[21]=L):L=e[21];let V;e[22]!==w?(V=w("imageDetail:controls.rotateLeft"),e[22]=w,e[23]=V):V=e[23];let J;e[24]===Symbol.for("react.memo_cache_sentinel")?(J=c.jsx(ZRe,{}),e[24]=J):J=e[24];let Q;e[25]!==u||e[26]!==V?(Q=c.jsx(ht,{onClick:u,sx:L,size:"small",title:V,children:J}),e[25]=u,e[26]=V,e[27]=Q):Q=e[27];let K;e[28]===Symbol.for("react.memo_cache_sentinel")?(K={color:"white"},e[28]=K):K=e[28];let q;e[29]!==w?(q=w("imageDetail:controls.rotateRight"),e[29]=w,e[30]=q):q=e[30];let Z;e[31]===Symbol.for("react.memo_cache_sentinel")?(Z=c.jsx(nQ,{}),e[31]=Z):Z=e[31];let Y;e[32]!==d||e[33]!==q?(Y=c.jsx(ht,{onClick:d,sx:K,size:"small",title:q,children:Z}),e[32]=d,e[33]=q,e[34]=Y):Y=e[34];let ne;e[35]===Symbol.for("react.memo_cache_sentinel")?(ne={color:"white"},e[35]=ne):ne=e[35];let re;e[36]!==w?(re=w("imageDetail:controls.flipHorizontal"),e[36]=w,e[37]=re):re=e[37];let ie;e[38]===Symbol.for("react.memo_cache_sentinel")?(ie=c.jsx(QX,{}),e[38]=ie):ie=e[38];let ce;e[39]!==h||e[40]!==re?(ce=c.jsx(ht,{onClick:h,sx:ne,size:"small",title:re,children:ie}),e[39]=h,e[40]=re,e[41]=ce):ce=e[41];let he;e[42]===Symbol.for("react.memo_cache_sentinel")?(he={color:"white"},e[42]=he):he=e[42];let me;e[43]!==w?(me=w("imageDetail:controls.flipVertical"),e[43]=w,e[44]=me):me=e[44];let le;e[45]===Symbol.for("react.memo_cache_sentinel")?(le=c.jsx(zRe,{}),e[45]=le):le=e[45];let de;e[46]!==m||e[47]!==me?(de=c.jsx(ht,{onClick:m,sx:he,size:"small",title:me,children:le}),e[46]=m,e[47]=me,e[48]=de):de=e[48];let pe;e[49]===Symbol.for("react.memo_cache_sentinel")?(pe={color:"white"},e[49]=pe):pe=e[49];let ve;e[50]!==w?(ve=w("imageDetail:controls.reset"),e[50]=w,e[51]=ve):ve=e[51];let ge;e[52]===Symbol.for("react.memo_cache_sentinel")?(ge=c.jsx(vo,{}),e[52]=ge):ge=e[52];let oe;e[53]!==y||e[54]!==ve?(oe=c.jsx(ht,{onClick:y,sx:pe,size:"small",title:ve,children:ge}),e[53]=y,e[54]=ve,e[55]=oe):oe=e[55];let Se;e[56]!==i||e[57]!==s||e[58]!==x||e[59]!==a?(Se=!i&&!s&&c.jsx(ht,{onClick:x,sx:{color:"white",bgcolor:a?"rgba(255, 255, 255, 0.2)":"transparent","&:hover":{bgcolor:a?"rgba(255, 255, 255, 0.3)":"rgba(255, 255, 255, 0.1)"}},size:"small",title:a?"  ( )":"   ()",children:a?c.jsx(xu,{}):c.jsx(FRe,{})}),e[56]=i,e[57]=s,e[58]=x,e[59]=a,e[60]=Se):Se=e[60];let be;e[61]!==i||e[62]!==s||e[63]!==v?(be=v&&!i&&!s&&c.jsx(ht,{onClick:v,sx:{color:"white"},size:"small",title:"Edit for img2img",children:c.jsx(yu,{})}),e[61]=i,e[62]=s,e[63]=v,e[64]=be):be=e[64];let Ae;e[65]!==H||e[66]!==Q||e[67]!==Y||e[68]!==ce||e[69]!==de||e[70]!==oe||e[71]!==Se||e[72]!==be||e[73]!==z||e[74]!==U?(Ae=c.jsxs(ee,{sx:E,children:[z,U,H,Q,Y,ce,de,oe,Se,be]}),e[65]=H,e[66]=Q,e[67]=Y,e[68]=ce,e[69]=de,e[70]=oe,e[71]=Se,e[72]=be,e[73]=z,e[74]=U,e[75]=Ae):Ae=e[75];let Me;e[76]===Symbol.for("react.memo_cache_sentinel")?(Me={display:"flex",gap:.5},e[76]=Me):Me=e[76];let Pe;e[77]!==r||e[78]!==_||e[79]!==w?(Pe=r&&_&&c.jsx(ht,{onClick:_,sx:{color:"white"},size:"small",title:w("imageDetail:controls.info"),children:c.jsx(cv,{})}),e[77]=r,e[78]=_,e[79]=w,e[80]=Pe):Pe=e[80];let Le;e[81]===Symbol.for("react.memo_cache_sentinel")?(Le={color:"white"},e[81]=Le):Le=e[81];let Oe;e[82]!==w?(Oe=w("imageDetail:controls.close"),e[82]=w,e[83]=Oe):Oe=e[83];let Xe;e[84]===Symbol.for("react.memo_cache_sentinel")?(Xe=c.jsx(kp,{}),e[84]=Xe):Xe=e[84];let ke;e[85]!==C||e[86]!==Oe?(ke=c.jsx(ht,{onClick:C,sx:Le,size:"small",title:Oe,children:Xe}),e[85]=C,e[86]=Oe,e[87]=ke):ke=e[87];let Ie;e[88]!==Pe||e[89]!==ke?(Ie=c.jsxs(ee,{sx:Me,children:[Pe,ke]}),e[88]=Pe,e[89]=ke,e[90]=Ie):Ie=e[90];let ye;return e[91]!==Ae||e[92]!==Ie?(ye=c.jsxs(ee,{sx:T,children:[Ae,Ie]}),e[91]=Ae,e[92]=Ie,e[93]=ye):ye=e[93],ye},kke=t=>{const e=bt.c(51),{image:n,scale:r,rotation:a,flipX:i,flipY:s,imagePosition:o,isDragging:l,containerRef:u,onMouseDown:d,showOriginal:h,onOriginalLoadError:m}=t,y=h===void 0?!1:h,[x,v]=A.useState(!1),[_,C]=A.useState(!0),[w,T]=A.useState(!1),[E,k]=A.useState(!1);let j;e[0]===Symbol.for("react.memo_cache_sentinel")?(j=Pd(),e[0]=j):j=e[0];const O=j,z=A.useRef(null),M=A.useRef(null);let N;e[1]===Symbol.for("react.memo_cache_sentinel")?(N=()=>{v(!1),T(!1),k(!1),C(!0)},e[1]=N):N=e[1];let U;e[2]!==n.composite_hash||e[3]!==y?(U=[n.composite_hash,y],e[2]=n.composite_hash,e[3]=y,e[4]=U):U=e[4],A.useEffect(N,U);let F;e[5]!==n.file_type?(F=()=>{(()=>{n.file_type==="video"&&M.current?M.current.readyState>=3&&C(!1):z.current&&z.current.complete&&z.current.naturalHeight>0&&C(!1)})();const Y=setTimeout(()=>{C(!1)},2e3);return()=>{clearTimeout(Y)}},e[5]=n.file_type,e[6]=F):F=e[6];let $;e[7]!==n.composite_hash||e[8]!==n.file_type||e[9]!==y||e[10]!==w||e[11]!==E?($=[n.composite_hash,y,w,E,n.file_type],e[7]=n.composite_hash,e[8]=n.file_type,e[9]=y,e[10]=w,e[11]=E,e[12]=$):$=e[12],A.useEffect(F,$);let D;e[13]!==n.composite_hash||e[14]!==n.file_type||e[15]!==n.image_url||e[16]!==n.thumbnail_url||e[17]!==y||e[18]!==w||e[19]!==E?(D=(()=>{if(E)return`${O}/api/images/placeholder`;const Y=n.file_type==="animated",ne=n.file_type==="video";return w?n.thumbnail_url?n.thumbnail_url.startsWith("http")?n.thumbnail_url:`${O}${n.thumbnail_url}`:n.composite_hash?`${O}/api/images/${n.composite_hash}/thumbnail`:`${O}/api/images/placeholder`:n.composite_hash?Y||ne?`${O}/api/images/${n.composite_hash}/file`:y?n.image_url?n.image_url.startsWith("http")?n.image_url:`${O}${n.image_url}`:`${O}/api/images/${n.composite_hash}/download/original`:n.thumbnail_url?n.thumbnail_url.startsWith("http")?n.thumbnail_url:`${O}${n.thumbnail_url}`:`${O}/api/images/${n.composite_hash}/thumbnail`:n.image_url?n.image_url.startsWith("http")?n.image_url:`${O}${n.image_url}`:n.thumbnail_url?n.thumbnail_url.startsWith("http")?n.thumbnail_url:`${O}${n.thumbnail_url}`:`${O}/api/images/placeholder`})(),e[13]=n.composite_hash,e[14]=n.file_type,e[15]=n.image_url,e[16]=n.thumbnail_url,e[17]=y,e[18]=w,e[19]=E,e[20]=D):D=e[20];const H=D;let L;e[21]!==x||e[22]!==m||e[23]!==y||e[24]!==w||e[25]!==E?(L=()=>{x||(v(!0),y&&!w?(T(!0),C(!0),m&&m()):w&&!E&&(k(!0),C(!0)))},e[21]=x,e[22]=m,e[23]=y,e[24]=w,e[25]=E,e[26]=L):L=e[26];const V=L;let J;e[27]===Symbol.for("react.memo_cache_sentinel")?(J={flex:1,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",touchAction:"none"},e[27]=J):J=e[27];let Q;e[28]!==_?(Q=_&&c.jsx(du,{variant:"rectangular",sx:{position:"absolute",width:"100%",height:"100%",bgcolor:"grey.800"}}),e[28]=_,e[29]=Q):Q=e[29];let K;e[30]!==i||e[31]!==s||e[32]!==V||e[33]!==n.composite_hash||e[34]!==n.file_type||e[35]!==n.original_file_path||e[36]!==_||e[37]!==o.x||e[38]!==o.y||e[39]!==H||e[40]!==l||e[41]!==a||e[42]!==r||e[43]!==w||e[44]!==E?(K=n.file_type==="video"?c.jsx(ee,{component:"video",ref:M,src:H,controls:!0,autoPlay:!0,loop:!0,muted:!0,onError:V,onLoadedData:()=>C(!1),sx:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",opacity:_?0:1,transition:l?"opacity 0.3s ease":"opacity 0.3s ease, transform 0.15s ease-out",transform:`translate(${o.x}px, ${o.y}px) scale(${r}) rotate(${a}deg) scaleX(${i?-1:1}) scaleY(${s?-1:1})`,transformOrigin:"center center",cursor:r>1?l?"grabbing":"grab":"default",userSelect:"none",pointerEvents:"auto"}},`video-${n.composite_hash}-${w}-${E}`):c.jsx(ee,{component:"img",ref:z,src:H,alt:n.original_file_path??"",draggable:!1,onError:V,onLoad:()=>C(!1),sx:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",opacity:_?0:1,transition:l?"opacity 0.3s ease":"opacity 0.3s ease, transform 0.15s ease-out",transform:`translate(${o.x}px, ${o.y}px) scale(${r}) rotate(${a}deg) scaleX(${i?-1:1}) scaleY(${s?-1:1})`,transformOrigin:"center center",cursor:r>1?l?"grabbing":"grab":"default",userSelect:"none",pointerEvents:"none"}},`img-${n.composite_hash}-${w}-${E}`),e[30]=i,e[31]=s,e[32]=V,e[33]=n.composite_hash,e[34]=n.file_type,e[35]=n.original_file_path,e[36]=_,e[37]=o.x,e[38]=o.y,e[39]=H,e[40]=l,e[41]=a,e[42]=r,e[43]=w,e[44]=E,e[45]=K):K=e[45];let q;return e[46]!==u||e[47]!==d||e[48]!==Q||e[49]!==K?(q=c.jsxs(ee,{id:"image-container",sx:J,onMouseDown:d,ref:u,children:[Q,K]}),e[46]=u,e[47]=d,e[48]=Q,e[49]=K,e[50]=q):q=e[50],q},Ike=[{code:"ko",name:"",englishName:"Korean"},{code:"en",name:"English",englishName:"English"},{code:"ja",name:"",englishName:"Japanese"},{code:"zh-CN",name:"",englishName:"Chinese (Simplified)"},{code:"zh-TW",name:"",englishName:"Chinese (Traditional)"}],zQ=t=>t?t.replace(/\(([^:)]+):[+-]?[\d.]+\)/g,"$1"):"",jke=t=>t?t.split(",").map(e=>e.trim()).filter(e=>e.length>0).map(e=>zQ(e)):[],mz=t=>{const e=zQ(t),n=jke(e);return{original:t,cleaned:e,terms:n}},Oke=t=>{if(!t)return"";let e=t;const n=/([(\[{]+)([^)\]}]+)([)\]}]+)/g;return e=e.replace(n,(r,a,i,s)=>i.includes(",")?i.split(",").map(l=>l.trim()).filter(l=>l.length>0).map(l=>`${a}${l}${s}`).join(", "):r),e},Dke=t=>{if(!t)return"";let e=t;const n=/[^a-zA-Z0-9\s,.:_<>()[\]{}]*\s*([-+]?[\d.]+)::(.*?)::/g;return e=e.replace(n,(r,a,i)=>{const s=i.trim();return s?`(${s}:${a})`:""}),e},Nke=t=>{if(!t)return"";let e=t;return e=Dke(e),e=Oke(e),e=e.replace(/\s*,\s*,\s*/g,", ").replace(/,\s*$/,"").trim(),e},Mke=t=>{if(!t)return!1;const e=t.trim();return e.startsWith("<lora:")&&e.includes(">")},Pke=t=>t?t.replace(/(<lora:[^:>]+):[^>]+>/,"$1>"):"",FQ=t=>{if(!t)return{loras:[],terms:[]};const e=[],n=[],r=t.split(",").map(a=>a.trim()).filter(a=>a.length>0);for(const a of r)Mke(a)?e.push(a):n.push(a);return{loras:e,terms:n}},Lke=t=>{if(!t)return"";let e=t,n=0;for(;e.length!==n;)n=e.length,e=e.replace(/[()[\]{}]/g,"");return e=e.replace(/:[+-]?[\d.]+/g,""),e=e.replace(/_/g," "),e=e.replace(/\s+/g," ").trim(),e},zke=t=>{if(t===0)return"0 Bytes";const e=1024,n=["Bytes","KB","MB","GB","TB"],r=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,r)).toFixed(2))+" "+n[r]},Fke=(t,e="ko-KR")=>new Date(t).toLocaleString(e),Bke=(t,e=40)=>{if(t.length<=e)return t;const n=t.split(".").pop();return n?`${t.substring(0,t.lastIndexOf(".")).substring(0,e-n.length-4)+"..."}.${n}`:t.substring(0,e)+"..."},Hke=async t=>{try{const n=await(await fetch(`${Ir}/api/prompt-groups?type=${t}&include_hidden=false`)).json();return n.success?n.data.filter(r=>r.id!==0):(console.error("Failed to fetch prompt groups:",n.error),[])}catch(e){return console.error("Error fetching prompt groups:",e),[]}},Uke=async(t,e)=>{try{const r=await(await fetch(`${Ir}/api/prompt-groups/${t}/prompts?type=${e}&limit=1000`)).json();return r.success&&r.data.prompts?r.data.prompts.map(a=>a.prompt):[]}catch(n){return console.error("Error fetching group prompts:",n),[]}},gz=new Map,$ke=300*1e3,Gke=async t=>{const e=`groups_${t}`,n=gz.get(e);if(n&&Date.now()-n.timestamp<$ke)return n.data;const r=await Hke(t);return gz.set(e,{data:r,timestamp:Date.now()}),r},yz=async(t,e)=>{if(!t)return{groups:[],unclassified_terms:[]};const n=Nke(t),{loras:r,terms:a}=FQ(n),i=await Gke(e),s=new Map,o=i.map(async m=>{const y=await Uke(m.id,e);return{groupId:m.id,prompts:y.map(x=>x.toLowerCase())}}),l=await Promise.all(o);for(const m of l)s.set(m.groupId,m.prompts);const u=new Map,d=[];for(const m of a){const y=Lke(m).toLowerCase();let x=!1;for(const[v,_]of s)if(_.includes(y)){u.has(v)||u.set(v,[]),u.get(v).push(m),x=!0;break}x||d.push(m)}for(const m of r){const y=Pke(m).toLowerCase();let x=!1;for(const[v,_]of s)if(_.includes(y)){u.has(v)||u.set(v,[]),u.get(v).push(m),x=!0;break}x||d.push(m)}const h=[];for(const m of i){const y=u.get(m.id)||[];y.length>0&&h.push({id:m.id,group_name:m.group_name,terms:y})}return h.sort((m,y)=>{const x=i.find(_=>_.id===m.id),v=i.find(_=>_.id===y.id);return(x?.display_order||0)-(v?.display_order||0)}),{groups:h,unclassified_terms:d}},qke=({imageId:t,autoTags:e,onTagGenerated:n})=>{const{t:r}=qt("promptManagement"),[a,i]=A.useState(!1),[s,o]=A.useState(null),l=async()=>{i(!0),o(null);try{await LQ.testImage(t),n&&n()}catch(_){const C=_ instanceof Error?_.message:r("autoTagDisplay.generationError");o(C)}finally{i(!1)}};if(!e)return c.jsxs(ee,{sx:{p:2,textAlign:"center"},children:[s&&c.jsx(wt,{severity:"error",sx:{mb:2},children:s}),c.jsx(ae,{variant:"body2",color:"text.secondary",sx:{mb:2},children:r("autoTagDisplay.noTags")}),c.jsx(Ze,{variant:"contained",onClick:l,disabled:a,startIcon:a?c.jsx(Kt,{size:20}):void 0,children:r(a?"autoTagDisplay.generating":"autoTagDisplay.generateButton")})]});const u=_=>({general:"#4caf50",sensitive:"#ffeb3b",questionable:"#ff9800",explicit:"#d32f2f"})[_]||"#9e9e9e",d=_=>_<.33?"#9e9e9e":_<.66?"#2196f3":"#4caf50",h=()=>{if(!e.rating)return null;const _=Object.entries(e.rating).map(([w,T])=>({key:w,value:Math.round(T*100)/100,color:u(w)})).filter(w=>w.value>0);if(_.length===0)return null;const C=_.reduce((w,T)=>w+T.value,0);return c.jsxs(ee,{sx:{mb:3},children:[c.jsx(ae,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:r("autoTagDisplay.sections.rating")}),c.jsx(ee,{sx:{display:"flex",height:32,borderRadius:1,overflow:"hidden",border:"1px solid",borderColor:"divider"},children:_.map(w=>c.jsx(ee,{sx:{flex:w.value/C,backgroundColor:w.color,display:"flex",alignItems:"center",justifyContent:"center",position:"relative","&:not(:last-child)":{borderRight:"1px solid rgba(0,0,0,0.1)"}},children:w.value>=.33&&c.jsxs(ae,{variant:"caption",sx:{color:w.key==="sensitive"?"rgba(0,0,0,0.7)":"white",fontWeight:600,fontSize:"0.7rem",textShadow:w.key==="sensitive"?"none":"0 1px 2px rgba(0,0,0,0.3)"},children:[w.key.substring(0,3).toUpperCase()," ",(w.value*100).toFixed(0),"%"]})},w.key))})]})},m=()=>{if(!e.character)return null;const _=Object.entries(e.character).sort((C,w)=>w[1]-C[1]);return _.length===0?null:c.jsxs(ee,{sx:{mb:2},children:[c.jsx(ae,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:r("autoTagDisplay.sections.characters")}),c.jsx(ee,{sx:{display:"flex",flexDirection:"column",gap:1},children:_.map(([C,w])=>c.jsxs(ee,{children:[c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[c.jsx(ae,{variant:"body2",sx:{fontSize:"0.85rem"},children:C}),c.jsxs(ae,{variant:"caption",color:"text.secondary",children:[(w*100).toFixed(1),"%"]})]}),c.jsx(Id,{variant:"determinate",value:w*100,sx:{height:6,borderRadius:1,backgroundColor:"rgba(0,0,0,0.1)","& .MuiLinearProgress-bar":{backgroundColor:d(w),borderRadius:1}}})]},C))})]})},y=()=>e.taglist?c.jsxs(ee,{sx:{mb:2},children:[c.jsx(ae,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:r("autoTagDisplay.sections.tagList")}),c.jsx(ae,{variant:"body2",sx:{lineHeight:1.6,wordBreak:"break-word"},children:e.taglist})]}):null,x=()=>{if(!e.general)return null;const _=Object.entries(e.general).sort((C,w)=>w[1]-C[1]);return _.length===0?null:c.jsxs(kc,{defaultExpanded:!1,children:[c.jsx(jc,{expandIcon:c.jsx(ts,{}),children:c.jsx(ae,{variant:"subtitle2",sx:{fontWeight:600},children:r("autoTagDisplay.sections.generalTags",{count:_.length})})}),c.jsx(Ic,{children:c.jsx(ee,{sx:{display:"flex",flexDirection:"column",gap:1},children:_.map(([C,w])=>c.jsxs(ee,{children:[c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[c.jsx(ae,{variant:"body2",sx:{fontSize:"0.85rem"},children:C}),c.jsxs(ae,{variant:"caption",color:"text.secondary",children:[(w*100).toFixed(1),"%"]})]}),c.jsx(Id,{variant:"determinate",value:w*100,sx:{height:6,borderRadius:1,backgroundColor:"rgba(0,0,0,0.1)","& .MuiLinearProgress-bar":{backgroundColor:d(w),borderRadius:1}}})]},C))})})]})},v=()=>c.jsxs(kc,{defaultExpanded:!1,sx:{mb:2},children:[c.jsx(jc,{expandIcon:c.jsx(ts,{}),children:c.jsx(ae,{variant:"subtitle2",sx:{fontWeight:600},children:r("autoTagDisplay.sections.modelInfo")})}),c.jsx(Ic,{children:c.jsxs(ee,{sx:{display:"flex",flexDirection:"column",gap:1},children:[c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[r("autoTagDisplay.modelInfo.model"),":"]})," ",e.model]}),c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[r("autoTagDisplay.modelInfo.generalThreshold"),":"]})," ",e.thresholds.general]}),c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[r("autoTagDisplay.modelInfo.characterThreshold"),":"]})," ",e.thresholds.character]}),e.tagged_at&&c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[r("autoTagDisplay.modelInfo.taggedAt"),":"]})," ",new Date(e.tagged_at).toLocaleString("ko-KR")]})]})})]});return c.jsxs(ee,{sx:{p:2,height:"100%",overflowY:"auto"},children:[h(),v(),m(),y(),x()]})};function yT(t){const e=bt.c(20);let n,r,a,i;e[0]!==t?({children:n,value:i,index:r,...a}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i):(n=e[1],r=e[2],a=e[3],i=e[4]);const s=i!==r,o=`prompt-tabpanel-${r}`,l=`prompt-tab-${r}`,u=i===r?"100%":"0",d=i===r?"1 1 0%":"0 0 0%",h=i===r?"flex":"none";let m;e[5]!==u||e[6]!==d||e[7]!==h?(m={height:u,flex:d,display:h,flexDirection:"column"},e[5]=u,e[6]=d,e[7]=h,e[8]=m):m=e[8];let y;e[9]!==n||e[10]!==r||e[11]!==i?(y=i===r&&c.jsx(ee,{sx:{p:1,height:"100%",overflow:"hidden",flex:1,display:"flex",flexDirection:"column"},children:n}),e[9]=n,e[10]=r,e[11]=i,e[12]=y):y=e[12];let x;return e[13]!==a||e[14]!==s||e[15]!==o||e[16]!==l||e[17]!==m||e[18]!==y?(x=c.jsx("div",{role:"tabpanel",hidden:s,id:o,"aria-labelledby":l,...a,style:m,children:y}),e[13]=a,e[14]=s,e[15]=o,e[16]=l,e[17]=m,e[18]=y,e[19]=x):x=e[19],x}const BQ=({prompt:t,negativePrompt:e,maxHeight:n,showLabels:r=!0,variant:a="outlined",showGrouped:i=!1,imageId:s,autoTags:o,isTaggerEnabled:l=!1,onAutoTagGenerated:u})=>{const{t:d}=qt("promptManagement"),[h,m]=A.useState(0),[y,x]=A.useState(null),[v,_]=A.useState(null),[C,w]=A.useState(!1),T=je.useRef("positive"),E=t&&t.trim(),k=e&&e.trim(),j=l&&s!==void 0||o&&Object.keys(o).length>0,O=je.useMemo(()=>t?.trim()||"",[t?.trim()]),z=je.useMemo(()=>e?.trim()||"",[e?.trim()]);A.useEffect(()=>{i?(async()=>{w(!0);try{if(E){const H=await yz(O,"positive");x(H)}if(k){const H=await yz(z,"negative");_(H)}}catch(H){console.error("Error grouping prompts:",H)}finally{w(!1)}})():(x(null),_(null))},[i,O,z,E,k]),A.useEffect(()=>{const D=T.current;let H=0;if(E){if(D==="positive"){m(H);return}H++}if(k){if(D==="negative"){m(H);return}H++}if(j&&D==="auto"){m(H);return}m(0)},[t,e,E,k,j]);const M=(D,H)=>{m(H);let L=0;if(E){if(H===L){T.current="positive";return}L++}if(k){if(H===L){T.current="negative";return}L++}j&&H===L&&(T.current="auto")},N=(D,H=!1)=>c.jsxs(ee,{sx:{height:"100%",overflow:"auto",p:2},children:[D.groups.map(L=>c.jsxs(ee,{sx:{mb:1.5},children:[c.jsx(ae,{variant:"subtitle2",sx:{mb:.5,fontWeight:600,color:H?"error.main":"primary.main",fontSize:"0.9rem"},children:L.group_name}),c.jsx(ae,{variant:"body2",sx:{lineHeight:1.6,wordBreak:"break-word",color:"text.primary"},children:L.terms.join(", ")})]},L.id)),D.unclassified_terms.length>0&&c.jsx(ee,{sx:{mb:1.5},children:c.jsx(ae,{variant:"body2",sx:{lineHeight:1.6,wordBreak:"break-word",color:"text.secondary"},children:D.unclassified_terms.join(", ")})})]}),U=n||"100%";if(!E&&!k&&!j)return c.jsx(ee,{sx:{py:2,textAlign:"center",height:U,display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(ae,{variant:"body2",color:"text.secondary",children:d("promptDisplay.noPrompt")})});if(E&&!k&&!j){const D={height:"100%",borderRadius:a==="none"?0:2,display:"flex",flexDirection:"column"},H=i?C?c.jsx(ee,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:c.jsx(ae,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loading")})}):y?N(y,!1):c.jsx(ee,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:c.jsx(ae,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loadFailed")})}):c.jsxs(ee,{sx:{flex:1,p:2,overflowY:"auto",minHeight:0,"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"rgba(0,0,0,0.2)",borderRadius:"3px","&:hover":{background:"rgba(0,0,0,0.3)"}}},children:[r&&c.jsx(ae,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:600,color:"primary.main",mb:1},children:d("promptDisplay.labels.prompt")}),c.jsx(ae,{variant:"body2",sx:{whiteSpace:"pre-wrap",lineHeight:1.6,wordBreak:"break-word"},children:t})]});return c.jsx(ee,{sx:{height:U,width:"100%",display:"flex",flexDirection:"column"},children:a==="none"?c.jsx(ee,{sx:D,children:H}):c.jsx(Yt,{variant:a,sx:D,children:H})})}if(!E&&k&&!j){const D={height:"100%",borderRadius:a==="none"?0:2,display:"flex",flexDirection:"column"},H=i?C?c.jsx(ee,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:c.jsx(ae,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loading")})}):v?N(v,!0):c.jsx(ee,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:c.jsx(ae,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loadFailed")})}):c.jsxs(ee,{sx:{flex:1,p:2,overflowY:"auto",minHeight:0,"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"rgba(0,0,0,0.2)",borderRadius:"3px","&:hover":{background:"rgba(0,0,0,0.3)"}}},children:[r&&c.jsx(ae,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:600,color:"error.main",mb:1},children:d("promptDisplay.labels.negativePrompt")}),c.jsx(ae,{variant:"body2",sx:{whiteSpace:"pre-wrap",lineHeight:1.6,wordBreak:"break-word",color:"text.secondary"},children:e})]});return c.jsx(ee,{sx:{height:U,width:"100%",display:"flex",flexDirection:"column"},children:a==="none"?c.jsx(ee,{sx:D,children:H}):c.jsx(Yt,{variant:a,sx:D,children:H})})}const F={height:"100%",borderRadius:a==="none"?0:2,display:"flex",flexDirection:"column"},$=c.jsxs(c.Fragment,{children:[c.jsxs(nl,{value:h,onChange:M,"aria-label":" ",sx:{borderBottom:1,borderColor:"divider",flexShrink:0,"& .MuiTabs-flexContainer":{height:48}},children:[E&&c.jsx(Vn,{label:d("promptDisplay.tabs.positive"),id:"prompt-tab-0","aria-controls":"prompt-tabpanel-0",sx:{minHeight:48,color:"primary.main","&.Mui-selected":{fontWeight:600}}}),k&&c.jsx(Vn,{label:d("promptDisplay.tabs.negative"),id:`prompt-tab-${E?1:0}`,"aria-controls":`prompt-tabpanel-${E?1:0}`,sx:{minHeight:48,color:"error.main","&.Mui-selected":{fontWeight:600}}}),j&&c.jsx(Vn,{label:d("promptDisplay.tabs.auto"),id:`prompt-tab-${(E?1:0)+(k?1:0)}`,"aria-controls":`prompt-tabpanel-${(E?1:0)+(k?1:0)}`,sx:{minHeight:48,color:"info.main","&.Mui-selected":{fontWeight:600}}})]}),c.jsxs(ee,{sx:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",minHeight:0},children:[E&&c.jsx(yT,{value:h,index:0,children:i?C?c.jsx(ee,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:c.jsx(ae,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loading")})}):y?N(y,!1):c.jsx(ee,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:c.jsx(ae,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loadFailed")})}):c.jsx(ee,{sx:{height:"100%",overflowY:"auto",p:2,"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"rgba(0,0,0,0.2)",borderRadius:"3px","&:hover":{background:"rgba(0,0,0,0.3)"}}},children:c.jsx(ae,{variant:"body2",sx:{whiteSpace:"pre-wrap",lineHeight:1.6,wordBreak:"break-word"},children:t})})}),k&&c.jsx(yT,{value:h,index:E?1:0,children:i?C?c.jsx(ee,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:c.jsx(ae,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loading")})}):v?N(v,!0):c.jsx(ee,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:c.jsx(ae,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loadFailed")})}):c.jsx(ee,{sx:{height:"100%",overflowY:"auto",p:2,"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"rgba(0,0,0,0.2)",borderRadius:"3px","&:hover":{background:"rgba(0,0,0,0.3)"}}},children:c.jsx(ae,{variant:"body2",sx:{whiteSpace:"pre-wrap",lineHeight:1.6,wordBreak:"break-word",color:"text.secondary"},children:e})})}),j&&c.jsx(yT,{value:h,index:(E?1:0)+(k?1:0),children:c.jsx(qke,{imageId:s,autoTags:o??null,onTagGenerated:u})})]})]});return c.jsx(ee,{sx:{height:U,width:"100%",display:"flex",flexDirection:"column"},children:a==="none"?c.jsx(ee,{sx:F,children:$}):c.jsx(Yt,{variant:a,sx:F,children:$})})},Vke=t=>{const e=bt.c(55),{image:n}=t,{t:r}=qt(),[a,i]=A.useState(!1);let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={mb:3},e[0]=s):s=e[0];let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o={display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer","&:hover":{bgcolor:"action.hover"},px:1,py:.5,borderRadius:1,mb:1},e[1]=o):o=e[1];let l;e[2]!==a?(l=()=>i(!a),e[2]=a,e[3]=l):l=e[3];let u;e[4]!==r?(u=r("imageDetail:sections.fileInfo"),e[4]=r,e[5]=u):u=e[5];let d;e[6]!==u?(d=c.jsx(ae,{variant:"subtitle2",color:"primary",children:u}),e[6]=u,e[7]=d):d=e[7];let h;e[8]===Symbol.for("react.memo_cache_sentinel")?(h={p:0},e[8]=h):h=e[8];let m;e[9]!==a?(m=c.jsx(ht,{size:"small",sx:h,children:a?c.jsx(DO,{fontSize:"small"}):c.jsx(ts,{fontSize:"small"})}),e[9]=a,e[10]=m):m=e[10];let y;e[11]!==l||e[12]!==d||e[13]!==m?(y=c.jsxs(ee,{sx:o,onClick:l,children:[d,m]}),e[11]=l,e[12]=d,e[13]=m,e[14]=y):y=e[14];let x;e[15]===Symbol.for("react.memo_cache_sentinel")?(x={display:"flex",flexDirection:"column",gap:.5,pl:1},e[15]=x):x=e[15];const v=n.original_file_path??"";let _;e[16]!==r?(_=r("imageDetail:fileInfo.filename"),e[16]=r,e[17]=_):_=e[17];const C=n.original_file_path||"";let w;e[18]!==C?(w=Bke(C),e[18]=C,e[19]=w):w=e[19];let T;e[20]!==v||e[21]!==_||e[22]!==w?(T=c.jsxs(ae,{variant:"body2",title:v,children:[_,": ",w]}),e[20]=v,e[21]=_,e[22]=w,e[23]=T):T=e[23];let E;e[24]!==r?(E=r("imageDetail:imageInfo.dimensions"),e[24]=r,e[25]=E):E=e[25];let k;e[26]!==n.height||e[27]!==n.width||e[28]!==E?(k=c.jsxs(ae,{variant:"body2",children:[E,": ",n.width,"  ",n.height]}),e[26]=n.height,e[27]=n.width,e[28]=E,e[29]=k):k=e[29];let j;e[30]!==r?(j=r("imageDetail:fileInfo.fileSize"),e[30]=r,e[31]=j):j=e[31];const O=n.file_size??0;let z;e[32]!==O?(z=zke(O),e[32]=O,e[33]=z):z=e[33];let M;e[34]!==j||e[35]!==z?(M=c.jsxs(ae,{variant:"body2",children:[j,": ",z]}),e[34]=j,e[35]=z,e[36]=M):M=e[36];let N;e[37]!==r?(N=r("imageDetail:fileInfo.uploadDate"),e[37]=r,e[38]=N):N=e[38];let U;e[39]!==n.first_seen_date?(U=Fke(n.first_seen_date),e[39]=n.first_seen_date,e[40]=U):U=e[40];let F;e[41]!==N||e[42]!==U?(F=c.jsxs(ae,{variant:"body2",children:[N,": ",U]}),e[41]=N,e[42]=U,e[43]=F):F=e[43];let $;e[44]!==T||e[45]!==k||e[46]!==M||e[47]!==F?($=c.jsxs(ee,{sx:x,children:[T,k,M,F]}),e[44]=T,e[45]=k,e[46]=M,e[47]=F,e[48]=$):$=e[48];let D;e[49]!==a||e[50]!==$?(D=c.jsx(Tp,{in:a,children:$}),e[49]=a,e[50]=$,e[51]=D):D=e[51];let H;return e[52]!==D||e[53]!==y?(H=c.jsxs(ee,{sx:s,children:[y,D]}),e[52]=D,e[53]=y,e[54]=H):H=e[54],H},Wke=t=>{const e=bt.c(16),{groups:n,onGroupClick:r}=t,{t:a}=qt();if(!n||n.length===0)return null;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={mb:3},e[0]=i):i=e[0];let s;e[1]!==a?(s=a("imageDetail:sections.groupInfo"),e[1]=a,e[2]=s):s=e[2];let o;e[3]!==s?(o=c.jsx(ae,{variant:"subtitle2",gutterBottom:!0,color:"primary",children:s}),e[3]=s,e[4]=o):o=e[4];let l;e[5]===Symbol.for("react.memo_cache_sentinel")?(l={display:"flex",flexWrap:"wrap",gap:.5},e[5]=l):l=e[5];let u;if(e[6]!==n||e[7]!==r){let m;e[9]!==r?(m=(y,x)=>c.jsx(gt,{label:y.name,size:"small",variant:"filled",clickable:!0,onClick:()=>r(y),sx:{backgroundColor:y.color||(y.collection_type==="auto"?"#e3f2fd":"#f3e5f5"),color:y.color?"#fff":y.collection_type==="auto"?"#1976d2":"#7b1fa2",fontSize:"0.7rem",cursor:"pointer","&:hover":{opacity:.8}}},y.id??`group-${x}`),e[9]=r,e[10]=m):m=e[10],u=n.map(m),e[6]=n,e[7]=r,e[8]=u}else u=e[8];let d;e[11]!==u?(d=c.jsx(ee,{sx:l,children:u}),e[11]=u,e[12]=d):d=e[12];let h;return e[13]!==o||e[14]!==d?(h=c.jsxs(ee,{sx:i,children:[o,d]}),e[13]=o,e[14]=d,e[15]=h):h=e[15],h},Yke=t=>{const e=bt.c(47),{image:n}=t,{t:r}=qt(),[a,i]=A.useState(!0);if(!(n.ai_tool||n.model_name||n.steps||n.cfg_scale||n.sampler||n.seed))return null;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={mb:3},e[0]=o):o=e[0];let l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l={display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer","&:hover":{bgcolor:"action.hover"},px:1,py:.5,borderRadius:1,mb:1},e[1]=l):l=e[1];let u;e[2]!==a?(u=()=>i(!a),e[2]=a,e[3]=u):u=e[3];let d;e[4]!==r?(d=r("imageDetail:sections.aiInfo"),e[4]=r,e[5]=d):d=e[5];let h;e[6]!==d?(h=c.jsx(ae,{variant:"subtitle2",color:"primary",children:d}),e[6]=d,e[7]=h):h=e[7];let m;e[8]===Symbol.for("react.memo_cache_sentinel")?(m={p:0},e[8]=m):m=e[8];let y;e[9]!==a?(y=c.jsx(ht,{size:"small",sx:m,children:a?c.jsx(DO,{fontSize:"small"}):c.jsx(ts,{fontSize:"small"})}),e[9]=a,e[10]=y):y=e[10];let x;e[11]!==u||e[12]!==h||e[13]!==y?(x=c.jsxs(ee,{sx:l,onClick:u,children:[h,y]}),e[11]=u,e[12]=h,e[13]=y,e[14]=x):x=e[14];let v;e[15]===Symbol.for("react.memo_cache_sentinel")?(v={display:"flex",flexDirection:"column",gap:.5,pl:1},e[15]=v):v=e[15];let _;e[16]!==n.ai_tool||e[17]!==r?(_=n.ai_tool&&c.jsxs(ae,{variant:"body2",children:[r("imageDetail:aiInfo.toolShort"),": ",n.ai_tool]}),e[16]=n.ai_tool,e[17]=r,e[18]=_):_=e[18];let C;e[19]!==n.model_name||e[20]!==r?(C=n.model_name&&c.jsxs(ae,{variant:"body2",children:[r("imageDetail:aiInfo.model"),": ",n.model_name]}),e[19]=n.model_name,e[20]=r,e[21]=C):C=e[21];let w;e[22]!==n.steps||e[23]!==r?(w=n.steps&&c.jsxs(ae,{variant:"body2",children:[r("imageDetail:aiInfo.steps"),": ",n.steps]}),e[22]=n.steps,e[23]=r,e[24]=w):w=e[24];let T;e[25]!==n.cfg_scale||e[26]!==r?(T=n.cfg_scale&&c.jsxs(ae,{variant:"body2",children:[r("imageDetail:aiInfo.cfgShort"),": ",n.cfg_scale]}),e[25]=n.cfg_scale,e[26]=r,e[27]=T):T=e[27];let E;e[28]!==n.sampler||e[29]!==r?(E=n.sampler&&c.jsxs(ae,{variant:"body2",children:[r("imageDetail:aiInfo.sampler"),": ",n.sampler]}),e[28]=n.sampler,e[29]=r,e[30]=E):E=e[30];let k;e[31]!==n.seed||e[32]!==r?(k=n.seed&&c.jsxs(ae,{variant:"body2",children:[r("imageDetail:aiInfo.seed"),": ",n.seed]}),e[31]=n.seed,e[32]=r,e[33]=k):k=e[33];let j;e[34]!==_||e[35]!==C||e[36]!==w||e[37]!==T||e[38]!==E||e[39]!==k?(j=c.jsxs(ee,{sx:v,children:[_,C,w,T,E,k]}),e[34]=_,e[35]=C,e[36]=w,e[37]=T,e[38]=E,e[39]=k,e[40]=j):j=e[40];let O;e[41]!==a||e[42]!==j?(O=c.jsx(Tp,{in:a,children:j}),e[41]=a,e[42]=j,e[43]=O):O=e[43];let z;return e[44]!==O||e[45]!==x?(z=c.jsxs(ee,{sx:o,children:[x,O]}),e[44]=O,e[45]=x,e[46]=z):z=e[46],z},bz=t=>{const e=bt.c(40),{image:n,onGroupClick:r,isTaggerEnabled:a,onAutoTagGenerated:i,isHistoryContext:s}=t,o=a===void 0?!1:a,l=s===void 0?!1:s,[u,d]=A.useState(!1),h=n.ai_metadata&&(n.ai_metadata.prompts.prompt||n.ai_metadata.prompts.negative_prompt);let m;e[0]!==n.auto_tags?(m=n.auto_tags&&Object.keys(n.auto_tags).length>0,e[0]=n.auto_tags,e[1]=m):m=e[1];const x=h||o||m;let v;e[2]!==n.composite_hash?(v=async()=>{if(n.composite_hash)try{await navigator.clipboard.writeText(n.composite_hash),d(!0)}catch(L){console.error("Failed to copy hash:",L)}},e[2]=n.composite_hash,e[3]=v):v=e[3];const _=v;let C;e[4]===Symbol.for("react.memo_cache_sentinel")?(C={p:{xs:2,sm:3},height:"100%",display:"flex",flexDirection:"column"},e[4]=C):C=e[4];let w;e[5]===Symbol.for("react.memo_cache_sentinel")?(w={flexShrink:0,overflowY:"auto",mb:2},e[5]=w):w=e[5];let T;e[6]===Symbol.for("react.memo_cache_sentinel")?(T=c.jsx(ae,{variant:"h6",gutterBottom:!0,sx:{mb:2},children:" "}),e[6]=T):T=e[6];let E;e[7]===Symbol.for("react.memo_cache_sentinel")?(E={mb:2,p:1.5,bgcolor:"action.hover",borderRadius:1,display:"flex",alignItems:"center",gap:1},e[7]=E):E=e[7];let k;e[8]!==_||e[9]!==n.composite_hash?(k=c.jsx(ee,{sx:E,children:n.composite_hash?c.jsxs(c.Fragment,{children:[c.jsx(Xt,{title:" ",children:c.jsx(ee,{onClick:_,sx:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer",fontFamily:"monospace",fontSize:"0.75rem",color:"text.secondary","&:hover":{color:"primary.main"}},children:n.composite_hash})}),c.jsx(Xt,{title:" ",children:c.jsx(ht,{size:"small",onClick:_,sx:{flexShrink:0},children:c.jsx(Qv,{fontSize:"small"})})})]}):c.jsxs(c.Fragment,{children:[c.jsx(Jv,{fontSize:"small",color:"disabled"}),c.jsx(ae,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:"   ..."})]})}),e[8]=_,e[9]=n.composite_hash,e[10]=k):k=e[10];let j;e[11]!==n?(j=c.jsx(Vke,{image:n}),e[11]=n,e[12]=j):j=e[12];let O;e[13]!==n.groups||e[14]!==r?(O=c.jsx(Wke,{groups:n.groups,onGroupClick:r}),e[13]=n.groups,e[14]=r,e[15]=O):O=e[15];let z;e[16]!==n?(z=c.jsx(Yke,{image:n}),e[16]=n,e[17]=z):z=e[17];let M;e[18]!==j||e[19]!==O||e[20]!==z||e[21]!==k?(M=c.jsxs(ee,{sx:w,children:[T,k,j,O,z]}),e[18]=j,e[19]=O,e[20]=z,e[21]=k,e[22]=M):M=e[22];let N;e[23]!==n.ai_metadata?.prompts||e[24]!==n.auto_tags||e[25]!==n.composite_hash||e[26]!==l||e[27]!==o||e[28]!==i||e[29]!==x?(N=x&&c.jsx(ee,{sx:{flex:1,display:"flex",flexDirection:"column",minHeight:0},children:c.jsx(BQ,{prompt:n.ai_metadata?.prompts.prompt,negativePrompt:n.ai_metadata?.prompts.negative_prompt,variant:"outlined",showGrouped:!0,imageId:n.composite_hash||void 0,autoTags:n.auto_tags,isTaggerEnabled:o,onAutoTagGenerated:i,isHistoryContext:l})}),e[23]=n.ai_metadata?.prompts,e[24]=n.auto_tags,e[25]=n.composite_hash,e[26]=l,e[27]=o,e[28]=i,e[29]=x,e[30]=N):N=e[30];let U,F;e[31]===Symbol.for("react.memo_cache_sentinel")?(U=()=>d(!1),F={vertical:"bottom",horizontal:"center"},e[31]=U,e[32]=F):(U=e[31],F=e[32]);let $;e[33]===Symbol.for("react.memo_cache_sentinel")?($=c.jsx(wt,{onClose:()=>d(!1),severity:"success",variant:"filled",children:" "}),e[33]=$):$=e[33];let D;e[34]!==u?(D=c.jsx(jg,{open:u,autoHideDuration:2e3,onClose:U,anchorOrigin:F,children:$}),e[34]=u,e[35]=D):D=e[35];let H;return e[36]!==M||e[37]!==N||e[38]!==D?(H=c.jsxs(ee,{sx:C,children:[M,N,D]}),e[36]=M,e[37]=N,e[38]=D,e[39]=H):H=e[39],H},Kke=()=>{const t=bt.c(17);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[[]],t[0]=e):e=t[0];const[n,r]=A.useState(e),[a,i]=A.useState(0);let s;t[1]!==n||t[2]!==a?(s=C=>{const w=n.slice(0,a+1);w.push([...C]),r(w),i(w.length-1)},t[1]=n,t[2]=a,t[3]=s):s=t[3];const o=s;let l;t[4]!==n||t[5]!==a?(l=()=>a>0?(i(a-1),n[a-1]):null,t[4]=n,t[5]=a,t[6]=l):l=t[6];const u=l;let d;t[7]!==n||t[8]!==a?(d=()=>a<n.length-1?(i(a+1),n[a+1]):null,t[7]=n,t[8]=a,t[9]=d):d=t[9];const h=d,m=a>0,y=a<n.length-1;let x;t[10]===Symbol.for("react.memo_cache_sentinel")?(x=()=>{r([[]]),i(0)},t[10]=x):x=t[10];const v=x;let _;return t[11]!==y||t[12]!==m||t[13]!==h||t[14]!==o||t[15]!==u?(_={saveToHistory:o,undo:u,redo:h,canUndo:m,canRedo:y,reset:v},t[11]=y,t[12]=m,t[13]=h,t[14]=o,t[15]=u,t[16]=_):_=t[16],_},Xke=(t=1)=>{const[e,n]=A.useState(t),[r,a]=A.useState({x:0,y:0}),[i,s]=A.useState(0),[o,l]=A.useState(1),u=A.useRef(!1),d=A.useRef({x:0,y:0}),h=A.useCallback(()=>{n(j=>Math.min(j*1.2,5))},[]),m=A.useCallback(()=>{n(j=>Math.max(j/1.2,.1))},[]),y=A.useCallback(()=>{n(1),a({x:0,y:0})},[]),x=A.useCallback((j,O)=>{j.evt.preventDefault();const z=O.current;if(!z)return;const M=e,N=z.getPointerPosition(),U={x:(N.x-r.x)/M,y:(N.y-r.y)/M},F=j.evt.deltaY>0?M/1.1:M*1.1,$=Math.max(.1,Math.min(5,F));n($);const D={x:N.x-U.x*$,y:N.y-U.y*$};a(D)},[e,r.x,r.y]),v=A.useCallback(j=>{u.current=!0,d.current=j},[]),_=A.useCallback(j=>{if(!u.current)return!1;const O=j.x-d.current.x,z=j.y-d.current.y;return a(M=>({x:M.x+O,y:M.y+z})),d.current=j,!0},[]),C=A.useCallback(()=>{u.current=!1},[]),w=A.useCallback(()=>{s(j=>(j+90)%360)},[]),T=A.useCallback(()=>{l(j=>j*-1)},[]),E=A.useCallback(()=>{n(1),a({x:0,y:0}),s(0),l(1)},[]),k=A.useCallback(j=>{n(j)},[]);return{zoom:e,stagePos:r,rotation:i,scaleX:o,isPanning:u.current,handleZoomIn:h,handleZoomOut:m,handleFitScreen:y,handleWheel:x,startPan:v,movePan:_,endPan:C,handleRotate:w,handleFlip:T,reset:E,setInitialZoom:k}},Qke=({tool:t,brushSize:e,brushColor:n,eraserSize:r,zoom:a,stagePos:i,onDrawingComplete:s})=>{const[o,l]=A.useState([]),u=A.useRef(!1),d=A.useCallback(_=>{if(t!=="brush"&&t!=="eraser")return;u.current=!0;const C={x:(_.x-i.x)/a,y:(_.y-i.y)/a},w={tool:t,points:[C.x,C.y],color:t==="brush"?n:"#ffffff",strokeWidth:t==="brush"?e:r};l(T=>[...T,w])},[t,e,n,r,a,i]),h=A.useCallback(_=>{if(!u.current)return;const C={x:(_.x-i.x)/a,y:(_.y-i.y)/a};l(w=>{const T=w[w.length-1];if(!T)return w;const E={...T,points:T.points.concat([C.x,C.y])};return[...w.slice(0,-1),E]})},[a,i]),m=A.useCallback(()=>{u.current&&(u.current=!1,s(o))},[o,s]),y=A.useCallback(()=>{l([]),s([])},[s]),x=A.useCallback(_=>{l(_)},[]),v=A.useCallback(()=>{l([]),u.current=!1},[]);return{lines:o,isDrawing:u.current,startDrawing:d,continueDrawing:h,endDrawing:m,clearLines:y,setLinesFromHistory:x,reset:v}},Zke=(t,e,n,r,a)=>{if(!t)return{x:0,y:0,width:0,height:0};const i=r/2,s=a/2;return{x:i,y:s,width:e.width,height:e.height}},Jke=(t,e,n,r)=>{if(!t||!e||!n||!r)return 1;const a=n*.9,i=r*.9,s=a/t,o=i/e;return Math.min(s,o,1)},eIe=async(t,e,n,r)=>{if(!t)throw new Error("Layer reference not available");const i=t.toDataURL({x:e.x-e.width/2,y:e.y-e.height/2,width:e.width,height:e.height,pixelRatio:1/r});await tn.post(`/api/image-editor/${n}/save`,{imageData:i})},tIe=t=>{const e=bt.c(29),{zoom:n,onZoomIn:r,onZoomOut:a,onFitScreen:i,onClose:s}=t;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:1,borderColor:"divider",py:1.5,px:2},e[0]=o):o=e[0];let l,u;e[1]===Symbol.for("react.memo_cache_sentinel")?(l={display:"flex",alignItems:"center",gap:2},u=c.jsx(ae,{variant:"h6",children:"Image Editor"}),e[1]=l,e[2]=u):(l=e[1],u=e[2]);let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d={display:"flex",gap:1},e[3]=d):d=e[3];let h;e[4]===Symbol.for("react.memo_cache_sentinel")?(h=c.jsx(lQ,{fontSize:"small"}),e[4]=h):h=e[4];let m;e[5]!==a?(m=c.jsx(ht,{onClick:a,size:"small",children:h}),e[5]=a,e[6]=m):m=e[6];let y;e[7]===Symbol.for("react.memo_cache_sentinel")?(y={minWidth:60,textAlign:"center",lineHeight:"32px"},e[7]=y):y=e[7];let x;e[8]!==n?(x=Math.round(n*100),e[8]=n,e[9]=x):x=e[9];let v;e[10]!==x?(v=c.jsxs(ae,{variant:"body2",sx:y,children:[x,"%"]}),e[10]=x,e[11]=v):v=e[11];let _;e[12]===Symbol.for("react.memo_cache_sentinel")?(_=c.jsx(oQ,{fontSize:"small"}),e[12]=_):_=e[12];let C;e[13]!==r?(C=c.jsx(ht,{onClick:r,size:"small",children:_}),e[13]=r,e[14]=C):C=e[14];let w;e[15]===Symbol.for("react.memo_cache_sentinel")?(w=c.jsx(LRe,{fontSize:"small"}),e[15]=w):w=e[15];let T;e[16]!==i?(T=c.jsx(ht,{onClick:i,size:"small",children:w}),e[16]=i,e[17]=T):T=e[17];let E;e[18]!==C||e[19]!==T||e[20]!==m||e[21]!==v?(E=c.jsxs(ee,{sx:l,children:[u,c.jsxs(ee,{sx:d,children:[m,v,C,T]})]}),e[18]=C,e[19]=T,e[20]=m,e[21]=v,e[22]=E):E=e[22];let k;e[23]===Symbol.for("react.memo_cache_sentinel")?(k=c.jsx(kp,{}),e[23]=k):k=e[23];let j;e[24]!==s?(j=c.jsx(ht,{onClick:s,size:"small",children:k}),e[24]=s,e[25]=j):j=e[25];let O;return e[26]!==E||e[27]!==j?(O=c.jsxs(br,{sx:o,children:[E,j]}),e[26]=E,e[27]=j,e[28]=O):O=e[28],O},nIe=t=>{const e=bt.c(49),{tool:n,canUndo:r,canRedo:a,onToolChange:i,onUndo:s,onRedo:o,onClear:l,onRotate:u,onFlip:d}=t;let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h={width:60,display:"flex",flexDirection:"column",alignItems:"center",gap:.5,py:2,borderRight:1,borderColor:"divider",bgcolor:"background.paper"},e[0]=h):h=e[0];let m;e[1]!==i?(m=()=>i("pan"),e[1]=i,e[2]=m):m=e[2];const y=n==="pan"?"primary":"default";let x;e[3]===Symbol.for("react.memo_cache_sentinel")?(x=c.jsx(WRe,{}),e[3]=x):x=e[3];let v;e[4]!==m||e[5]!==y?(v=c.jsx(ht,{onClick:m,color:y,size:"medium",children:x}),e[4]=m,e[5]=y,e[6]=v):v=e[6];let _;e[7]!==i?(_=()=>i("brush"),e[7]=i,e[8]=_):_=e[8];const C=n==="brush"?"primary":"default";let w;e[9]===Symbol.for("react.memo_cache_sentinel")?(w=c.jsx(ARe,{}),e[9]=w):w=e[9];let T;e[10]!==_||e[11]!==C?(T=c.jsx(ht,{onClick:_,color:C,size:"medium",children:w}),e[10]=_,e[11]=C,e[12]=T):T=e[12];let E;e[13]!==i?(E=()=>i("eraser"),e[13]=i,e[14]=E):E=e[14];const k=n==="eraser"?"primary":"default";let j;e[15]===Symbol.for("react.memo_cache_sentinel")?(j={fontSize:20},e[15]=j):j=e[15];let O;e[16]!==E||e[17]!==k?(O=c.jsx(ht,{onClick:E,color:k,size:"medium",sx:j,children:""}),e[16]=E,e[17]=k,e[18]=O):O=e[18];let z;e[19]===Symbol.for("react.memo_cache_sentinel")?(z=c.jsx(ee,{sx:{width:"80%",borderTop:1,borderColor:"divider",my:1}}),e[19]=z):z=e[19];const M=!r;let N;e[20]===Symbol.for("react.memo_cache_sentinel")?(N=c.jsx(s9e,{}),e[20]=N):N=e[20];let U;e[21]!==s||e[22]!==M?(U=c.jsx(ht,{onClick:s,disabled:M,size:"medium",children:N}),e[21]=s,e[22]=M,e[23]=U):U=e[23];const F=!a;let $;e[24]===Symbol.for("react.memo_cache_sentinel")?($=c.jsx(KRe,{}),e[24]=$):$=e[24];let D;e[25]!==o||e[26]!==F?(D=c.jsx(ht,{onClick:o,disabled:F,size:"medium",children:$}),e[25]=o,e[26]=F,e[27]=D):D=e[27];let H;e[28]===Symbol.for("react.memo_cache_sentinel")?(H=c.jsx(Ia,{}),e[28]=H):H=e[28];let L;e[29]!==l?(L=c.jsx(ht,{onClick:l,size:"medium",children:H}),e[29]=l,e[30]=L):L=e[30];let V;e[31]===Symbol.for("react.memo_cache_sentinel")?(V=c.jsx(ee,{sx:{width:"80%",borderTop:1,borderColor:"divider",my:1}}),e[31]=V):V=e[31];let J;e[32]===Symbol.for("react.memo_cache_sentinel")?(J=c.jsx(nQ,{}),e[32]=J):J=e[32];let Q;e[33]!==u?(Q=c.jsx(ht,{onClick:u,size:"medium",children:J}),e[33]=u,e[34]=Q):Q=e[34];let K;e[35]===Symbol.for("react.memo_cache_sentinel")?(K=c.jsx(QX,{}),e[35]=K):K=e[35];let q;e[36]!==d?(q=c.jsx(ht,{onClick:d,size:"medium",children:K}),e[36]=d,e[37]=q):q=e[37];let Z;e[38]===Symbol.for("react.memo_cache_sentinel")?(Z=c.jsx(ht,{disabled:!0,size:"medium",sx:{opacity:.3},children:c.jsx(DRe,{})}),e[38]=Z):Z=e[38];let Y;e[39]===Symbol.for("react.memo_cache_sentinel")?(Y=c.jsx(ht,{disabled:!0,size:"medium",sx:{opacity:.3},children:c.jsx(URe,{})}),e[39]=Y):Y=e[39];let ne;return e[40]!==O||e[41]!==U||e[42]!==D||e[43]!==L||e[44]!==Q||e[45]!==q||e[46]!==v||e[47]!==T?(ne=c.jsxs(ee,{sx:h,children:[v,T,O,z,U,D,L,V,Q,q,Z,Y]}),e[40]=O,e[41]=U,e[42]=D,e[43]=L,e[44]=Q,e[45]=q,e[46]=v,e[47]=T,e[48]=ne):ne=e[48],ne},rIe=Math.PI/180;function aIe(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const Vm=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Bt={_global:Vm,version:"10.0.8",isBrowser:aIe(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return Bt.angleDeg?t*rIe:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Bt.DD.isDragging},isTransforming(){var t,e;return(e=(t=Bt.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!Bt.DD.node},releaseCanvasOnDestroy:!0,document:Vm.document,_injectGlobal(t){typeof Vm.Konva<"u"&&console.error("Several Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),Vm.Konva=t}},Ua=t=>{Bt[t.prototype.getClassName()]=t};Bt._injectGlobal(Bt);const iIe=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,xz=()=>{if(typeof document>"u")throw new Error(iIe)};let cu=class HQ{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new HQ(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),a=this.m[0]*n+this.m[2]*r,i=this.m[1]*n+this.m[3]*r,s=this.m[0]*-r+this.m[2]*n,o=this.m[1]*-r+this.m[3]*n;return this.m[0]=a,this.m[1]=i,this.m[2]=s,this.m[3]=o,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){const r=this.m[0]+this.m[2]*n,a=this.m[1]+this.m[3]*n,i=this.m[2]+this.m[0]*e,s=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=a,this.m[2]=i,this.m[3]=s,this}multiply(e){const n=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],a=this.m[0]*e.m[2]+this.m[2]*e.m[3],i=this.m[1]*e.m[2]+this.m[3]*e.m[3],s=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],o=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=r,this.m[2]=a,this.m[3]=i,this.m[4]=s,this.m[5]=o,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,r=-this.m[1]*e,a=-this.m[2]*e,i=this.m[0]*e,s=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=r,this.m[2]=a,this.m[3]=i,this.m[4]=s,this.m[5]=o,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],r=this.m[2],a=this.m[3],i=this.m[4],s=this.m[5],o=e*a-n*r,l={x:i,y:s,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){const u=Math.sqrt(e*e+n*n);l.rotation=n>0?Math.acos(e/u):-Math.acos(e/u),l.scaleX=u,l.scaleY=o/u,l.skewX=(e*r+n*a)/o,l.skewY=0}else if(r!=0||a!=0){const u=Math.sqrt(r*r+a*a);l.rotation=Math.PI/2-(a>0?Math.acos(-r/u):-Math.acos(r/u)),l.scaleX=o/u,l.scaleY=u,l.skewX=0,l.skewY=(e*r+n*a)/o}return l.rotation=He._getRotation(l.rotation),l}};const sIe="[object Array]",oIe="[object Number]",lIe="[object String]",cIe="[object Boolean]",uIe=Math.PI/180,dIe=180/Math.PI,bT="#",fIe="",hIe="0",pIe="Konva warning: ",vz="Konva error: ",mIe="rgb(",xT={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},gIe=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let O_=[];const yIe=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},He={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===sIe},_isNumber(t){return Object.prototype.toString.call(t)===oIe&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===lIe},_isBoolean(t){return Object.prototype.toString.call(t)===cIe},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){O_.push(t),O_.length===1&&yIe(function(){const e=O_;O_=[],e.forEach(function(n){n()})})},createCanvasElement(){xz();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return xz(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const n=He.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(bT,fIe);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=hIe+t;return bT+t},getRGB(t){let e;return t in xT?(e=xT[t],{r:e[0],g:e[1],b:e[2]}):t[0]===bT?this._hexToRgb(t.substring(1)):t.substr(0,4)===mIe?(e=gIe.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",He._namedColorToRBA(t)||He._hex3ColorToRGBA(t)||He._hex4ColorToRGBA(t)||He._hex6ColorToRGBA(t)||He._hex8ColorToRGBA(t)||He._rgbColorToRGBA(t)||He._rgbaColorToRGBA(t)||He._hslColorToRGBA(t)},_namedColorToRBA(t){const e=xT[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((n,r)=>n.slice(-1)==="%"?r===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),r=Number(n[0])/360,a=Number(n[1])/100,i=Number(n[2])/100;let s,o,l;if(a===0)return l=i*255,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};i<.5?s=i*(1+a):s=i+a-i*a;const u=2*i-s,d=[0,0,0];for(let h=0;h<3;h++)o=r+1/3*-(h-1),o<0&&o++,o>1&&o--,6*o<1?l=u+(s-u)*6*o:2*o<1?l=s:3*o<2?l=u+(s-u)*(2/3-o)*6:l=u,d[h]=l*255;return{r:Math.round(d[0]),g:Math.round(d[1]),b:Math.round(d[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*uIe},radToDeg(t){return t*dIe},_degToRad(t){return He.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),He.degToRad(t)},_radToDeg(t){return He.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),He.radToDeg(t)},_getRotation(t){return Bt.angleDeg?He.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(vz+t)},error(t){console.error(vz+t)},warn(t){Bt.showWarnings&&console.warn(pIe+t)},each(t,e){for(const n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,r,a,i){let s,o,l;const u=(t-n)*(t-n)+(e-r)*(e-r);if(u==0)s=t,o=e,l=(a-n)*(a-n)+(i-r)*(i-r);else{const d=((a-t)*(n-t)+(i-e)*(r-e))/u;d<0?(s=t,o=e,l=(t-a)*(t-a)+(e-i)*(e-i)):d>1?(s=n,o=r,l=(n-a)*(n-a)+(r-i)*(r-i)):(s=t+d*(n-t),o=e+d*(r-e),l=(s-a)*(s-a)+(o-i)*(o-i))}return[s,o,l]},_getProjectionToLine(t,e,n){const r=He.cloneObject(t);let a=Number.MAX_VALUE;return e.forEach(function(i,s){if(!n&&s===e.length-1)return;const o=e[(s+1)%e.length],l=He._getProjectionToSegment(i.x,i.y,o.x,o.y,t.x,t.y),u=l[0],d=l[1],h=l[2];h<a&&(r.x=u,r.y=d,a=h)}),r},_prepareArrayForTween(t,e,n){const r=[],a=[];if(t.length>e.length){const s=e;e=t,t=s}for(let s=0;s<t.length;s+=2)r.push({x:t[s],y:t[s+1]});for(let s=0;s<e.length;s+=2)a.push({x:e[s],y:e[s+1]});const i=[];return a.forEach(function(s){const o=He._getProjectionToLine(s,r,n);i.push(o.x),i.push(o.y)}),i},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||He._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(He._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){Bt.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,r){let a=e<0?e:0,i=n<0?n:0;e=Math.abs(e),n=Math.abs(n);let s=0,o=0,l=0,u=0;typeof r=="number"?s=o=l=u=Math.min(r,e/2,n/2):(s=Math.min(r[0]||0,e/2,n/2),o=Math.min(r[1]||0,e/2,n/2),u=Math.min(r[2]||0,e/2,n/2),l=Math.min(r[3]||0,e/2,n/2)),t.moveTo(a+s,i),t.lineTo(a+e-o,i),t.arc(a+e-o,i+o,o,Math.PI*3/2,0,!1),t.lineTo(a+e,i+n-u),t.arc(a+e-u,i+n-u,u,0,Math.PI/2,!1),t.lineTo(a+l,i+n),t.arc(a+l,i+n-l,l,Math.PI/2,Math.PI,!1),t.lineTo(a,i+s),t.arc(a+s,i+s,s,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,n,r,a){r=Math.abs(r);for(let i=0;i<n;i++){const s=e[(i-1+n)%n],o=e[i],l=e[(i+1)%n],u={x:o.x-s.x,y:o.y-s.y},d={x:l.x-o.x,y:l.y-o.y},h=Math.hypot(u.x,u.y),m=Math.hypot(d.x,d.y);let y;typeof a=="number"?y=a:y=i<a.length?a[i]:0,y=r*Math.cos(Math.PI/n)*Math.min(1,y/r*2);const v={x:u.x/h,y:u.y/h},_={x:d.x/m,y:d.y/m},C={x:o.x-v.x*y,y:o.y-v.y*y},w={x:o.x+_.x*y,y:o.y+_.y*y};i===0?t.moveTo(C.x,C.y):t.lineTo(C.x,C.y),t.arcTo(o.x,o.y,w.x,w.y,y)}}};function bIe(t){const e=[],n=t.length,r=He;for(let a=0;a<n;a++){let i=t[a];r._isNumber(i)?i=Math.round(i*1e3)/1e3:r._isString(i)||(i=i+""),e.push(i)}return e}const Sz=",",xIe="(",vIe=")",SIe="([",_Ie="])",CIe=";",wIe="()",EIe="=",_z=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],TIe=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],AIe=100;let D_=null;function Cz(){if(D_!==null)return D_;try{const e=He.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(D_=!1,!1)}catch{return D_=!1,!1}}let H5=class{constructor(e){this.canvas=e,Bt.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let r=this.traceArr,a=r.length,i="",s,o,l,u;for(s=0;s<a;s++)o=r[s],l=o.method,l?(u=o.args,i+=l,e?i+=wIe:He._isArray(u[0])?i+=SIe+u.join(Sz)+_Ie:(n&&(u=u.map(d=>typeof d=="number"?Math.floor(d):d)),i+=xIe+u.join(Sz)+vIe)):(i+=o.property,e||(i+=EIe+o.val)),i+=CIe;return i}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,r;n.push(e),r=n.length,r>=AIe&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(e){const n=e.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,a,i,s){this._context.arc(e,n,r,a,i,s)}arcTo(e,n,r,a,i){this._context.arcTo(e,n,r,a,i)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,a,i,s){this._context.bezierCurveTo(e,n,r,a,i,s)}clearRect(e,n,r,a){this._context.clearRect(e,n,r,a)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,a){return this._context.createLinearGradient(e,n,r,a)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,a,i,s){return this._context.createRadialGradient(e,n,r,a,i,s)}drawImage(e,n,r,a,i,s,o,l,u){const d=arguments,h=this._context;d.length===3?h.drawImage(e,n,r):d.length===5?h.drawImage(e,n,r,a,i):d.length===9&&h.drawImage(e,n,r,a,i,s,o,l,u)}ellipse(e,n,r,a,i,s,o,l){this._context.ellipse(e,n,r,a,i,s,o,l)}isPointInPath(e,n,r,a){return r?this._context.isPointInPath(r,e,n,a):this._context.isPointInPath(e,n,a)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,r,a){this._context.fillRect(e,n,r,a)}strokeRect(e,n,r,a){this._context.strokeRect(e,n,r,a)}fillText(e,n,r,a){a?this._context.fillText(e,n,r,a):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,a){return this._context.getImageData(e,n,r,a)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,a){this._context.rect(e,n,r,a)}roundRect(e,n,r,a,i){this._context.roundRect(e,n,r,a,i)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,a){this._context.quadraticCurveTo(e,n,r,a)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,a,i,s){this._context.setTransform(e,n,r,a,i,s)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,a){this._context.strokeText(e,n,r,a)}transform(e,n,r,a,i,s){this._context.transform(e,n,r,a,i,s)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=_z.length,r=this.setAttr,a,i;const s=function(o){let l=e[o],u;e[o]=function(){return i=bIe(Array.prototype.slice.call(arguments,0)),u=l.apply(e,arguments),e._trace({method:o,args:i}),u}};for(a=0;a<n;a++)s(_z[a]);e.setAttr=function(){r.apply(e,arguments);const o=arguments[0];let l=arguments[1];(o==="shadowOffsetX"||o==="shadowOffsetY"||o==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:o,val:l})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}};TIe.forEach(function(t){Object.defineProperty(H5.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class RIe extends H5{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}const a=e.getFillPatternImage();if(a&&r==="pattern"){this._fillPattern(e);return}const i=e.getFillLinearGradientColorStops();if(i&&r==="linear-gradient"){this._fillLinearGradient(e);return}const s=e.getFillRadialGradientColorStops();if(s&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):a?this._fillPattern(e):i?this._fillLinearGradient(e):s&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),a=e.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(n.x,n.y,r.x,r.y);if(a){for(let s=0;s<a.length;s+=2)i.addColorStop(a[s],a[s+1]);this.setAttr("strokeStyle",i)}}_stroke(e){const n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();const i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,a;const i=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",s=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,o=(a=e.getShadowOffset())!==null&&a!==void 0?a:{x:0,y:0},l=e.getAbsoluteScale(),u=this.canvas.getPixelRatio(),d=l.x*u,h=l.y*u;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",s*Math.min(Math.abs(d),Math.abs(h))),this.setAttr("shadowOffsetX",o.x*d),this.setAttr("shadowOffsetY",o.y*h)}}class kIe extends H5{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e);const r=e.hitStrokeWidth(),a=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",a),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}let N_;function IIe(){if(N_)return N_;const t=He.createCanvasElement(),e=t.getContext("2d");return N_=(function(){const n=Bt._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r})(),He.releaseCanvas(t),N_}class HO{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const r=(e||{}).pixelRatio||Bt.pixelRatio||IIe();this.pixelRatio=r,this._canvas=He.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(a){return He.error("Unable to get data URL. "+a.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class ep extends HO{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new RIe(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}function wz(){const t=He.createCanvasElement();t.width=1,t.height=1;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,1,1),e.fillStyle="rgba(255,0,255,1)",e.fillRect(0,0,1,1);const n=e.getImageData(0,0,1,1).data;return!(n[0]===255&&n[1]===0&&n[2]===255&&n[3]===255)}function Ez(){var t,e;return typeof navigator>"u"?!1:(e=(t=navigator.brave)===null||t===void 0?void 0:t.isBrave())!==null&&e!==void 0?e:!1}let Tz=!1;function jIe(){return Ez()&&wz()&&!Tz&&(Tz=!0,He.error('Looks like you have "Brave shield" enabled in your browser. It breaks KonvaJS internals. Please disable it. You may need to ask your users to do the same.')),Ez()&&wz()}class UO extends HO{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new kIe(this),this.setSize(e.width,e.height),jIe()}}const Rr={get isDragging(){let t=!1;return Rr._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return Rr._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];Rr._dragElements.forEach((n,r)=>{const{node:a}=n,i=a.getStage();i.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=He._getFirstPointerId(t));const s=i._changedPointerPositions.find(o=>o.id===n.pointerId);if(s){if(n.dragStatus!=="dragging"){const o=a.dragDistance();if(Math.max(Math.abs(s.x-n.startPointerPos.x),Math.abs(s.y-n.startPointerPos.y))<o||(a.startDrag({evt:t}),!a.isDragging()))return}a._setDragPosition(t,n),e.push(a)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];Rr._dragElements.forEach(n=>{const{node:r}=n,a=r.getStage();if(t&&a.setPointersPositions(t),!a._changedPointerPositions.find(o=>o.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(Rr.justDragged=!0,Bt._mouseListenClick=!1,Bt._touchListenClick=!1,Bt._pointerListenClick=!1,n.dragStatus="stopped");const s=n.node.getLayer()||n.node instanceof Bt.Stage&&n.node;s&&e.indexOf(s)===-1&&e.push(s)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){Rr._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&Rr._dragElements.delete(n)})}};Bt.isBrowser&&(window.addEventListener("mouseup",Rr._endDragBefore,!0),window.addEventListener("touchend",Rr._endDragBefore,!0),window.addEventListener("touchcancel",Rr._endDragBefore,!0),window.addEventListener("mousemove",Rr._drag),window.addEventListener("touchmove",Rr._drag),window.addEventListener("mouseup",Rr._endDragAfter,!1),window.addEventListener("touchend",Rr._endDragAfter,!1),window.addEventListener("touchcancel",Rr._endDragAfter,!1));function Mp(t){return He._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||He._isBoolean(t)?t:Object.prototype.toString.call(t)}function UQ(t){return t>255?255:t<0?0:Math.round(t)}function Mt(){if(Bt.isUnminified)return function(t,e){return He._isNumber(t)||He.warn(Mp(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function U5(t){if(Bt.isUnminified)return function(e,n){let r=He._isNumber(e),a=He._isArray(e)&&e.length==t;return!r&&!a&&He.warn(Mp(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function $O(){if(Bt.isUnminified)return function(t,e){return He._isNumber(t)||t==="auto"||He.warn(Mp(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Og(){if(Bt.isUnminified)return function(t,e){return He._isString(t)||He.warn(Mp(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function $Q(){if(Bt.isUnminified)return function(t,e){const n=He._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||He.warn(Mp(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function OIe(){if(Bt.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(He._isArray(t)?t.forEach(function(r){He._isNumber(r)||He.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):He.warn(Mp(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function Tu(){if(Bt.isUnminified)return function(t,e){return t===!0||t===!1||He.warn(Mp(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function DIe(t){if(Bt.isUnminified)return function(e,n){return e==null||He.isObject(e)||He.warn(Mp(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}const jx="get",Ox="set",we={addGetterSetter(t,e,n,r,a){we.addGetter(t,e,n),we.addSetter(t,e,r,a),we.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){const r=jx+He._capitalize(e);t.prototype[r]=t.prototype[r]||function(){const a=this.attrs[e];return a===void 0?n:a}},addSetter(t,e,n,r){const a=Ox+He._capitalize(e);t.prototype[a]||we.overWriteSetter(t,e,n,r)},overWriteSetter(t,e,n,r){const a=Ox+He._capitalize(e);t.prototype[a]=function(i){return n&&i!==void 0&&i!==null&&(i=n.call(this,i,e)),this._setAttr(e,i),r&&r.call(this),this}},addComponentsGetterSetter(t,e,n,r,a){const i=n.length,s=He._capitalize,o=jx+s(e),l=Ox+s(e);t.prototype[o]=function(){const d={};for(let h=0;h<i;h++){const m=n[h];d[m]=this.getAttr(e+s(m))}return d};const u=DIe(n);t.prototype[l]=function(d){const h=this.attrs[e];r&&(d=r.call(this,d,e)),u&&u.call(this,d,e);for(const m in d)d.hasOwnProperty(m)&&this._setAttr(e+s(m),d[m]);return d||n.forEach(m=>{this._setAttr(e+s(m),void 0)}),this._fireChangeEvent(e,h,d),a&&a.call(this),this},we.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const n=He._capitalize(e),r=Ox+n,a=jx+n;t.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[a]()}},addDeprecatedGetterSetter(t,e,n,r){He.error("Adding deprecated "+e);const a=jx+He._capitalize(e),i=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[a]=function(){He.error(i);const s=this.attrs[e];return s===void 0?n:s},we.addSetter(t,e,r,function(){He.error(i)}),we.addOverloadedGetterSetter(t,e)},backCompat(t,e){He.each(e,function(n,r){const a=t.prototype[r],i=jx+He._capitalize(n),s=Ox+He._capitalize(n);function o(){a.apply(this,arguments),He.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}t.prototype[n]=o,t.prototype[i]=o,t.prototype[s]=o})},afterSetFilter(){this._filterUpToDate=!1}};function NIe(t){const e=/(\w+)\(([^)]+)\)/g;let n;for(;(n=e.exec(t))!==null;){const[,r,a]=n;switch(r){case"blur":{const i=parseFloat(a.replace("px",""));return function(s){this.blurRadius(i*.5);const o=Bt.Filters;o&&o.Blur&&o.Blur.call(this,s)}}case"brightness":{const i=a.includes("%")?parseFloat(a)/100:parseFloat(a);return function(s){this.brightness(i);const o=Bt.Filters;o&&o.Brightness&&o.Brightness.call(this,s)}}case"contrast":{const i=parseFloat(a);return function(s){const o=100*(Math.sqrt(i)-1);this.contrast(o);const l=Bt.Filters;l&&l.Contrast&&l.Contrast.call(this,s)}}case"grayscale":return function(i){const s=Bt.Filters;s&&s.Grayscale&&s.Grayscale.call(this,i)};case"sepia":return function(i){const s=Bt.Filters;s&&s.Sepia&&s.Sepia.call(this,i)};case"invert":return function(i){const s=Bt.Filters;s&&s.Invert&&s.Invert.call(this,i)};default:He.warn(`CSS filter "${r}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const M4="absoluteOpacity",M_="allEventListeners",Af="absoluteTransform",Az="absoluteScale",Rm="canvas",MIe="Change",PIe="children",LIe="konva",fI="listening",zIe="mouseenter",FIe="mouseleave",BIe="pointerenter",HIe="pointerleave",UIe="touchenter",$Ie="touchleave",Rz="set",kz="Shape",P4=" ",Iz="stage",qh="transform",GIe="Stage",hI="visible",qIe=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(P4);let VIe=1;class Ot{constructor(e){this._id=VIe++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===qh||e===Af)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let r=this._cache.get(e);return(r===void 0||(e===qh||e===Af)&&r.dirty===!0)&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const a=n.map(i=>i+"Change.konva").join(P4);this.on(a,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(Rm)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Af&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Rm)){const{scene:e,filter:n,hit:r,buffer:a}=this._cache.get(Rm);He.releaseCanvas(e,n,r,a),this._cache.delete(Rm)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let a=Math.ceil(n.width||r.width),i=Math.ceil(n.height||r.height),s=n.pixelRatio,o=n.x===void 0?Math.floor(r.x):n.x,l=n.y===void 0?Math.floor(r.y):n.y,u=n.offset||0,d=n.drawBorder||!1,h=n.hitCanvasPixelRatio||1;if(!a||!i){He.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const m=Math.abs(Math.round(r.x)-o)>.5?1:0,y=Math.abs(Math.round(r.y)-l)>.5?1:0;a+=u*2+m,i+=u*2+y,o-=u,l-=u;const x=new ep({pixelRatio:s,width:a,height:i}),v=new ep({pixelRatio:s,width:0,height:0,willReadFrequently:!0}),_=new UO({pixelRatio:h,width:a,height:i}),C=x.getContext(),w=_.getContext(),T=new ep({width:x.width/x.pixelRatio+Math.abs(o),height:x.height/x.pixelRatio+Math.abs(l),pixelRatio:x.pixelRatio}),E=T.getContext();return _.isCache=!0,x.isCache=!0,this._cache.delete(Rm),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(x.getContext()._context.imageSmoothingEnabled=!1,v.getContext()._context.imageSmoothingEnabled=!1),C.save(),w.save(),E.save(),C.translate(-o,-l),w.translate(-o,-l),E.translate(-o,-l),T.x=o,T.y=l,this._isUnderCache=!0,this._clearSelfAndDescendantCache(M4),this._clearSelfAndDescendantCache(Az),this.drawScene(x,this,T),this.drawHit(_,this),this._isUnderCache=!1,C.restore(),w.restore(),d&&(C.save(),C.beginPath(),C.rect(0,0,a,i),C.closePath(),C.setAttr("strokeStyle","red"),C.setAttr("lineWidth",5),C.stroke(),C.restore()),this._cache.set(Rm,{scene:x,filter:v,hit:_,buffer:T,x:o,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(Rm)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let a=1/0,i=1/0,s=-1/0,o=-1/0;const l=this.getAbsoluteTransform(n);return r.forEach(function(u){const d=l.point(u);a===void 0&&(a=s=d.x,i=o=d.y),a=Math.min(a,d.x),i=Math.min(i,d.y),s=Math.max(s,d.x),o=Math.max(o,d.y)}),{x:a,y:i,width:s-a,height:o-i}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const r=this._getCachedSceneCanvas(),a=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/a,r.height/a),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),r=n.scene,a=n.filter,i=a.getContext(),s,o,l,u;if(!e||e.length===0)return r;if(this._filterUpToDate)return a;let d=!0;for(let m=0;m<e.length;m++)if(typeof e[m]=="string"&&Cz(),typeof e[m]!="string"||!Cz()){d=!1;break}const h=r.pixelRatio;if(a.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio),d){const m=e.join(" ");return i.save(),i.setAttr("filter",m),i.drawImage(r._canvas,0,0,r.getWidth()/h,r.getHeight()/h),i.restore(),this._filterUpToDate=!0,a}try{for(s=e.length,i.clear(),i.drawImage(r._canvas,0,0,r.getWidth()/h,r.getHeight()/h),o=i.getImageData(0,0,a.getWidth(),a.getHeight()),l=0;l<s;l++)u=e[l],typeof u=="string"&&(u=NIe(u)),u.call(this,o),i.putImageData(o,0,0)}catch(m){He.error("Unable to apply filter. "+m.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,a}on(e,n){if(this._cache&&this._cache.delete(M_),arguments.length===3)return this._delegate.apply(this,arguments);const r=e.split(P4);for(let a=0;a<r.length;a++){const s=r[a].split("."),o=s[0],l=s[1]||"";this.eventListeners[o]||(this.eventListeners[o]=[]),this.eventListeners[o].push({name:l,handler:n})}return this}off(e,n){let r=(e||"").split(P4),a=r.length,i,s,o,l,u,d;if(this._cache&&this._cache.delete(M_),!e)for(s in this.eventListeners)this._off(s);for(i=0;i<a;i++)if(o=r[i],l=o.split("."),u=l[0],d=l[1],u)this.eventListeners[u]&&this._off(u,d,n);else for(s in this.eventListeners)this._off(s,d,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){const a=this;this.on(e,function(i){const s=i.target.findAncestors(n,!0,a);for(let o=0;o<s.length;o++)i=He.cloneObject(i),i.currentTarget=s[o],r.call(s[o],i)})}remove(){return this.isDragging()&&this.stopDrag(),Rr._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Af),this._clearSelfAndDescendantCache(M4),this._clearSelfAndDescendantCache(Az),this._clearSelfAndDescendantCache(Iz),this._clearSelfAndDescendantCache(hI),this._clearSelfAndDescendantCache(fI)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+He._capitalize(e);return He._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,r;if(!e)return this;for(n in e)n!==PIe&&(r=Rz+He._capitalize(n),He._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(fI,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(hI,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const r=this.getLayer();let a=!1;Rr._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(s.node.nodeType==="Stage"||s.node.getLayer()===r)&&(a=!0)});const i=!n&&!Bt.hitOnDragEnabled&&(a||Bt.isTransforming());return this.isListening()&&this.isVisible()&&!i}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,r=0,a,i,s,o;function l(d){for(a=[],i=d.length,s=0;s<i;s++)o=d[s],r++,o.nodeType!==kz&&(a=a.concat(o.getChildren().slice())),o._id===n._id&&(s=i);a.length>0&&a[0].getDepth()<=e&&l(a)}const u=this.getStage();return n.nodeType!==GIe&&u&&l(u.getChildren()),r}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(qh),this._clearSelfAndDescendantCache(Af)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const r=this.getAbsoluteTransform().copy();return r.invert(),r.point(n)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);const a=this.getAbsoluteTransform(e).getMatrix(),i=new cu,s=this.offset();return i.m=a.slice(),i.translate(s.x,s.y),i.getTranslation()}setAbsolutePosition(e){const{x:n,y:r,...a}=this._clearTransform();this.attrs.x=n,this.attrs.y=r,this._clearCache(qh);const i=this._getAbsoluteTransform().copy();return i.invert(),i.translate(e.x,e.y),e={x:this.attrs.x+i.getTranslation().x,y:this.attrs.y+i.getTranslation().y},this._setTransform(a),this.setPosition({x:e.x,y:e.y}),this._clearCache(qh),this._clearSelfAndDescendantCache(Af),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,r=e.y,a=this.x(),i=this.y();return n!==void 0&&(a+=n),r!==void 0&&(i+=r),this.setPosition({x:a,y:i}),this}_eachAncestorReverse(e,n){let r=[],a=this.getParent(),i,s;if(!(n&&n._id===this._id)){for(r.unshift(this);a&&(!n||a._id!==n._id);)r.unshift(a),a=a.parent;for(i=r.length,s=0;s<i;s++)e(r[s])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return He.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return He.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return He.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return He.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return He.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&He.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(M4,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,r,a,i,s;const o={attrs:{},className:this.getClassName()};for(n in e)r=e[n],s=He.isObject(r)&&!He._isPlainObject(r)&&!He._isArray(r),!s&&(a=typeof this[n]=="function"&&this[n],delete e[n],i=a?a.call(this):null,e[n]=r,i!==r&&(o.attrs[n]=r));return He._prepareToStringify(o)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){const a=[];n&&this._isMatch(e)&&a.push(this);let i=this.parent;for(;i;){if(i===r)return a;i._isMatch(e)&&a.push(i),i=i.parent}return a}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),r=n.length,a,i;for(a=0;a<r;a++)if(i=n[a],He.isValidSelector(i)||(He.warn('Selector "'+i+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),He.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),He.warn("Konva is awesome, right?")),i.charAt(0)==="#"){if(this.id()===i.slice(1))return!0}else if(i.charAt(0)==="."){if(this.hasName(i.slice(1)))return!0}else if(this.className===i||this.nodeType===i)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(Iz,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Af,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new cu,this._eachAncestorReverse(function(r){const a=r.transformsEnabled();a==="all"?n.multiply(r.getTransform()):a==="position"&&n.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),n;{n=this._cache.get(Af)||new cu,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const a=this.attrs.x||0,i=this.attrs.y||0,s=this.attrs.offsetX||0,o=this.attrs.offsetY||0;n.translate(a-s,i-o)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const a=this.getAbsoluteTransform(e).decompose();return{x:a.scaleX,y:a.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(qh,this._getTransform)}_getTransform(){var e,n;const r=this._cache.get(qh)||new cu;r.reset();const a=this.x(),i=this.y(),s=Bt.getAngle(this.rotation()),o=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,u=this.attrs.skewX||0,d=this.attrs.skewY||0,h=this.attrs.offsetX||0,m=this.attrs.offsetY||0;return(a!==0||i!==0)&&r.translate(a,i),s!==0&&r.rotate(s),(u!==0||d!==0)&&r.skew(u,d),(o!==1||l!==1)&&r.scale(o,l),(h!==0||m!==0)&&r.translate(-1*h,-1*m),r.dirty=!1,r}clone(e){let n=He.cloneObject(this.attrs),r,a,i,s,o;for(r in e)n[r]=e[r];const l=new this.constructor(n);for(r in this.eventListeners)for(a=this.eventListeners[r],i=a.length,s=0;s<i;s++)o=a[s],o.name.indexOf(LIe)<0&&(l.eventListeners[r]||(l.eventListeners[r]=[]),l.eventListeners[r].push(o));return l}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),r=this.getStage(),a=e.x!==void 0?e.x:Math.floor(n.x),i=e.y!==void 0?e.y:Math.floor(n.y),s=e.pixelRatio||1,o=new ep({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:s}),l=o.getContext(),u=new ep({width:o.width/o.pixelRatio+Math.abs(a),height:o.height/o.pixelRatio+Math.abs(i),pixelRatio:o.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(a||i)&&l.translate(-1*a,-1*i),this.drawScene(o,void 0,u),l.restore(),o}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,r=e.quality||null,a=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(a),a}toImage(e){return new Promise((n,r)=>{try{const a=e?.callback;a&&delete e.callback,He._urlToImage(this.toDataURL(e),function(i){n(i),a?.(i)})}catch(a){r(a)}})}toBlob(e){return new Promise((n,r)=>{try{const a=e?.callback;a&&delete e.callback,this.toCanvas(e).toBlob(i=>{n(i),a?.(i)},e?.mimeType,e?.quality)}catch(a){r(a)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Bt.dragDistance}_off(e,n,r){let a=this.eventListeners[e],i,s,o;for(i=0;i<a.length;i++)if(s=a[i].name,o=a[i].handler,(s!=="konva"||n==="konva")&&(!n||s===n)&&(!r||r===o)){if(a.splice(i,1),a.length===0){delete this.eventListeners[e];break}i--}}_fireChangeEvent(e,n,r){this._fire(e+MIe,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){const n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){const r=this[Rz+He._capitalize(e)];return He._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Bt.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,n){const r=this.attrs[e];r===n&&!He.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){let a;r!==void 0&&(a=this.attrs[e],a||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,a,r))}_fireAndBubble(e,n,r){n&&this.nodeType===kz&&(n.target=this);const a=[zIe,FIe,BIe,HIe,UIe,$Ie];if(!(a.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,n);const s=a.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!s&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,r,a;const i=(n=this._cache.get(M_))!==null&&n!==void 0?n:{};let s=i?.[e];if(s===void 0){s=[];let o=Object.getPrototypeOf(this);for(;o;){const l=(a=(r=o.eventListeners)===null||r===void 0?void 0:r[e])!==null&&a!==void 0?a:[];s.push(...l),o=Object.getPrototypeOf(o)}i[e]=s,this._cache.set(M_,i)}return s}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(let i=0;i<r.length;i++)r[i].handler.call(this,n);const a=this.eventListeners[e];if(a)for(let i=0;i<a.length;i++)a[i].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,r=this.getStage(),a=this.getAbsolutePosition();if(!r)return;const i=r._getPointerById(n)||r._changedPointerPositions[0]||a;Rr._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-a.x,y:i.y-a.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){Rr._dragElements.has(this._id)||this._createDragElement(e);const r=Rr._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(!r)return;let a={x:r.x-n.offset.x,y:r.y-n.offset.y};const i=this.dragBoundFunc();if(i!==void 0){const s=i.call(this,a,e);s?a=s:He.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==a.x||this._lastPos.y!==a.y)&&(this.setAbsolutePosition(a),this._requestDraw()),this._lastPos=a}stopDrag(e){const n=Rr._dragElements.get(this._id);n&&(n.dragStatus="stopped"),Rr._endDragBefore(e),Rr._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=Rr._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Bt.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let a=!1;Rr._dragElements.forEach(i=>{this.isAncestorOf(i.node)&&(a=!0)}),a||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=Rr._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",a=n&&n.dragStatus==="ready";r?this.stopDrag():a&&Rr._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return He.haveIntersection(r,this.getClientRect())}static create(e,n){return He._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let r=Ot.prototype.getClassName.call(e),a=e.children,i,s,o;n&&(e.attrs.container=n),Bt[r]||(He.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const l=Bt[r];if(i=new l(e.attrs),a)for(s=a.length,o=0;o<s;o++)i.add(Ot._createNode(a[o]));return i}}Ot.prototype.nodeType="Node";Ot.prototype._attrsAffectingSize=[];Ot.prototype.eventListeners={};Ot.prototype.on.call(Ot.prototype,qIe,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(qh),this._clearSelfAndDescendantCache(Af)});Ot.prototype.on.call(Ot.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(hI)});Ot.prototype.on.call(Ot.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(fI)});Ot.prototype.on.call(Ot.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(M4)});const Kr=we.addGetterSetter;Kr(Ot,"zIndex");Kr(Ot,"absolutePosition");Kr(Ot,"position");Kr(Ot,"x",0,Mt());Kr(Ot,"y",0,Mt());Kr(Ot,"globalCompositeOperation","source-over",Og());Kr(Ot,"opacity",1,Mt());Kr(Ot,"name","",Og());Kr(Ot,"id","",Og());Kr(Ot,"rotation",0,Mt());we.addComponentsGetterSetter(Ot,"scale",["x","y"]);Kr(Ot,"scaleX",1,Mt());Kr(Ot,"scaleY",1,Mt());we.addComponentsGetterSetter(Ot,"skew",["x","y"]);Kr(Ot,"skewX",0,Mt());Kr(Ot,"skewY",0,Mt());we.addComponentsGetterSetter(Ot,"offset",["x","y"]);Kr(Ot,"offsetX",0,Mt());Kr(Ot,"offsetY",0,Mt());Kr(Ot,"dragDistance",void 0,Mt());Kr(Ot,"width",0,Mt());Kr(Ot,"height",0,Mt());Kr(Ot,"listening",!0,Tu());Kr(Ot,"preventDefault",!0,Tu());Kr(Ot,"filters",void 0,function(t){return this._filterUpToDate=!1,t});Kr(Ot,"visible",!0,Tu());Kr(Ot,"transformsEnabled","all",Og());Kr(Ot,"size");Kr(Ot,"dragBoundFunc");Kr(Ot,"draggable",!1,Tu());we.backCompat(Ot,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class kl extends Ot{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const r=[];return this._descendants(a=>{const i=a._isMatch(e);return i&&r.push(a),!!(i&&n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const a of r){if(n=e(a),n)return!0;if(a.hasChildren()&&(n=a._descendants(e),n))return!0}return!1}toObject(){const e=Ot.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=Ot.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n,r){const a=this.getLayer(),i=e||a&&a.getCanvas(),s=i&&i.getContext(),o=this._getCanvasCache(),l=o&&o.scene,u=i&&i.isCache;if(!this.isVisible()&&!u)return this;if(l){s.save();const d=this.getAbsoluteTransform(n).getMatrix();s.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedSceneCanvas(s),s.restore()}else this._drawChildren("drawScene",i,n,r);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const r=this.getLayer(),a=e||r&&r.hitCanvas,i=a&&a.getContext(),s=this._getCanvasCache();if(s&&s.hit){i.save();const l=this.getAbsoluteTransform(n).getMatrix();i.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(i),i.restore()}else this._drawChildren("drawHit",a,n);return this}_drawChildren(e,n,r,a){var i;const s=n&&n.getContext(),o=this.clipWidth(),l=this.clipHeight(),u=this.clipFunc(),d=typeof o=="number"&&typeof l=="number"||u,h=r===this;if(d){s.save();const y=this.getAbsoluteTransform(r);let x=y.getMatrix();s.transform(x[0],x[1],x[2],x[3],x[4],x[5]),s.beginPath();let v;if(u)v=u.call(this,s,this);else{const _=this.clipX(),C=this.clipY();s.rect(_||0,C||0,o,l)}s.clip.apply(s,v),x=y.copy().invert().getMatrix(),s.transform(x[0],x[1],x[2],x[3],x[4],x[5])}const m=!h&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";m&&(s.save(),s._applyGlobalCompositeOperation(this)),(i=this.children)===null||i===void 0||i.forEach(function(y){y[e](n,r,a)}),m&&s.restore(),d&&s.restore()}getClientRect(e={}){var n;const r=e.skipTransform,a=e.relativeTo;let i,s,o,l,u={x:1/0,y:1/0,width:0,height:0};const d=this;(n=this.children)===null||n===void 0||n.forEach(function(y){if(!y.visible())return;const x=y.getClientRect({relativeTo:d,skipShadow:e.skipShadow,skipStroke:e.skipStroke});x.width===0&&x.height===0||(i===void 0?(i=x.x,s=x.y,o=x.x+x.width,l=x.y+x.height):(i=Math.min(i,x.x),s=Math.min(s,x.y),o=Math.max(o,x.x+x.width),l=Math.max(l,x.y+x.height)))});const h=this.find("Shape");let m=!1;for(let y=0;y<h.length;y++)if(h[y]._isVisible(this)){m=!0;break}return m&&i!==void 0?u={x:i,y:s,width:o-i,height:l-s}:u={x:0,y:0,width:0,height:0},r?u:this._transformedRect(u,a)}}we.addComponentsGetterSetter(kl,"clip",["x","y","width","height"]);we.addGetterSetter(kl,"clipX",void 0,Mt());we.addGetterSetter(kl,"clipY",void 0,Mt());we.addGetterSetter(kl,"clipWidth",void 0,Mt());we.addGetterSetter(kl,"clipHeight",void 0,Mt());we.addGetterSetter(kl,"clipFunc");const dv=new Map,GQ=Bt._global.PointerEvent!==void 0;function vT(t){return dv.get(t)}function GO(t){return{evt:t,pointerId:t.pointerId}}function qQ(t,e){return dv.get(t)===e}function VQ(t,e){I2(t),e.getStage()&&(dv.set(t,e),GQ&&e._fire("gotpointercapture",GO(new PointerEvent("gotpointercapture"))))}function I2(t,e){const n=dv.get(t);if(!n)return;const r=n.getStage();r&&r.content,dv.delete(t),GQ&&n._fire("lostpointercapture",GO(new PointerEvent("lostpointercapture")))}const WIe="Stage",YIe="string",jz="px",KIe="mouseout",WQ="mouseleave",YQ="mouseover",KQ="mouseenter",XQ="mousemove",QQ="mousedown",ZQ="mouseup",a2="pointermove",i2="pointerdown",I1="pointerup",s2="pointercancel",XIe="lostpointercapture",P_="pointerout",o2="pointerleave",L_="pointerover",z_="pointerenter",pI="contextmenu",JQ="touchstart",eZ="touchend",tZ="touchmove",nZ="touchcancel",mI="wheel",QIe=5,ZIe=[[KQ,"_pointerenter"],[QQ,"_pointerdown"],[XQ,"_pointermove"],[ZQ,"_pointerup"],[WQ,"_pointerleave"],[JQ,"_pointerdown"],[tZ,"_pointermove"],[eZ,"_pointerup"],[nZ,"_pointercancel"],[YQ,"_pointerover"],[mI,"_wheel"],[pI,"_contextmenu"],[i2,"_pointerdown"],[a2,"_pointermove"],[I1,"_pointerup"],[s2,"_pointercancel"],[o2,"_pointerleave"],[XIe,"_lostpointercapture"]],ST={mouse:{[P_]:KIe,[o2]:WQ,[L_]:YQ,[z_]:KQ,[a2]:XQ,[i2]:QQ,[I1]:ZQ,[s2]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[P_]:"touchout",[o2]:"touchleave",[L_]:"touchover",[z_]:"touchenter",[a2]:tZ,[i2]:JQ,[I1]:eZ,[s2]:nZ,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[P_]:P_,[o2]:o2,[L_]:L_,[z_]:z_,[a2]:a2,[i2]:i2,[I1]:I1,[s2]:s2,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},l2=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",i1=t=>{const e=l2(t);if(e==="pointer")return Bt.pointerEventsEnabled&&ST.pointer;if(e==="touch")return ST.touch;if(e==="mouse")return ST.mouse};function Oz(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&He.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const JIe="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",j2=[];let $5=class extends kl{constructor(e){super(Oz(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),j2.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Oz(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",r=e.getType()==="FastLayer";n||r||He.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===YIe){let n;if(e.charAt(0)==="."){const r=e.slice(1);e=document.getElementsByClassName(r)[0]}else e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n);if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,n=e.length;for(let r=0;r<n;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),kl.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&He._isInDocument(e)&&this.container().removeChild(e);const n=j2.indexOf(this);return n>-1&&j2.splice(n,1),He.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(He.warn(JIe),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const n=new ep({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=n.getContext()._context,a=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),a.forEach(function(i){if(!i.isVisible())return;const s=i._toKonvaCanvas(e);r.drawImage(s._canvas,e.x,e.y,s.getWidth()/s.getPixelRatio(),s.getHeight()/s.getPixelRatio())}),n}getIntersection(e){if(!e)return null;const n=this.children,r=n.length,a=r-1;for(let i=a;i>=0;i--){const s=n[i].getIntersection(e);if(s)return s}return null}_resizeDOM(){const e=this.width(),n=this.height();this.content&&(this.content.style.width=e+jz,this.content.style.height=n+jz),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(r=>{r.setSize({width:e,height:n}),r.draw()})}add(e,...n){if(arguments.length>1){for(let a=0;a<arguments.length;a++)this.add(arguments[a]);return this}super.add(e);const r=this.children.length;return r>QIe&&He.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Bt.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return qQ(e,this)}setPointerCapture(e){VQ(e,this)}releaseCapture(e){I2(e)}getLayers(){return this.children}_bindContentEvents(){Bt.isBrowser&&ZIe.forEach(([e,n])=>{this.content.addEventListener(e,r=>{this[n](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=i1(e.type);n&&this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=i1(e.type);n&&this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=i1(e.type),r=l2(e.type);if(!n)return;this.setPointersPositions(e);const a=this._getTargetShape(r),i=!(Bt.isDragging()||Bt.isTransforming())||Bt.hitOnDragEnabled;a&&i?(a._fireAndBubble(n.pointerout,{evt:e}),a._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):i&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const n=i1(e.type),r=l2(e.type);if(!n)return;this.setPointersPositions(e);let a=!1;this._changedPointerPositions.forEach(i=>{const s=this.getIntersection(i);if(Rr.justDragged=!1,Bt["_"+r+"ListenClick"]=!0,!s||!s.isListening()){this[r+"ClickStartShape"]=void 0;return}Bt.capturePointerEventsEnabled&&s.setPointerCapture(i.id),this[r+"ClickStartShape"]=s,s._fireAndBubble(n.pointerdown,{evt:e,pointerId:i.id}),a=!0;const o=e.type.indexOf("touch")>=0;s.preventDefault()&&e.cancelable&&o&&e.preventDefault()}),a||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const n=i1(e.type),r=l2(e.type);if(!n)return;const a=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(Bt.isDragging()&&Rr.node.preventDefault()&&e.cancelable&&a&&e.preventDefault(),this.setPointersPositions(e),!(!(Bt.isDragging()||Bt.isTransforming())||Bt.hitOnDragEnabled))return;const s={};let o=!1;const l=this._getTargetShape(r);this._changedPointerPositions.forEach(u=>{const d=vT(u.id)||this.getIntersection(u),h=u.id,m={evt:e,pointerId:h},y=l!==d;if(y&&l&&(l._fireAndBubble(n.pointerout,{...m},d),l._fireAndBubble(n.pointerleave,{...m},d)),d){if(s[d._id])return;s[d._id]=!0}d&&d.isListening()?(o=!0,y&&(d._fireAndBubble(n.pointerover,{...m},l),d._fireAndBubble(n.pointerenter,{...m},l),this[r+"targetShape"]=d),d._fireAndBubble(n.pointermove,{...m})):l&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:h}),this[r+"targetShape"]=null)}),o||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=i1(e.type),r=l2(e.type);if(!n)return;this.setPointersPositions(e);const a=this[r+"ClickStartShape"],i=this[r+"ClickEndShape"],s={};let o=!1;this._changedPointerPositions.forEach(l=>{const u=vT(l.id)||this.getIntersection(l);if(u){if(u.releaseCapture(l.id),s[u._id])return;s[u._id]=!0}const d=l.id,h={evt:e,pointerId:d};let m=!1;Bt["_"+r+"InDblClickWindow"]?(m=!0,clearTimeout(this[r+"DblTimeout"])):Rr.justDragged||(Bt["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){Bt["_"+r+"InDblClickWindow"]=!1},Bt.dblClickWindow),u&&u.isListening()?(o=!0,this[r+"ClickEndShape"]=u,u._fireAndBubble(n.pointerup,{...h}),Bt["_"+r+"ListenClick"]&&a&&a===u&&(u._fireAndBubble(n.pointerclick,{...h}),m&&i&&i===u&&u._fireAndBubble(n.pointerdblclick,{...h}))):(this[r+"ClickEndShape"]=null,o||(this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),o=!0),Bt["_"+r+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:d}),m&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:d}))}),o||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Bt["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&r!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(pI,{evt:e}):this._fire(pI,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(mI,{evt:e}):this._fire(mI,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=vT(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(I1,GO(e)),I2(e.pointerId)}_lostpointercapture(e){I2(e.pointerId)}setPointersPositions(e){const n=this._getContentPosition();let r=null,a=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,i=>{this._pointerPositions.push({id:i.identifier,x:(i.clientX-n.left)/n.scaleX,y:(i.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,i=>{this._changedPointerPositions.push({id:i.identifier,x:(i.clientX-n.left)/n.scaleX,y:(i.clientY-n.top)/n.scaleY})})):(r=(e.clientX-n.left)/n.scaleX,a=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:a},this._pointerPositions=[{x:r,y:a,id:He._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:a,id:He._getFirstPointerId(e)}])}_setPointerPosition(e){He.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new ep({width:this.width(),height:this.height()}),this.bufferHitCanvas=new UO({pixelRatio:1,width:this.width(),height:this.height()}),!Bt.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return He.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};$5.prototype.nodeType=WIe;Ua($5);we.addGetterSetter($5,"container");Bt.isBrowser&&document.addEventListener("visibilitychange",()=>{j2.forEach(t=>{t.batchDraw()})});const rZ="hasShadow",aZ="shadowRGBA",iZ="patternImage",sZ="linearGradient",oZ="radialGradient";let F_;function _T(){return F_||(F_=He.createCanvasElement().getContext("2d"),F_)}const O2={};function eje(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function tje(t){t.stroke()}function nje(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function rje(t){t.stroke()}function aje(){this._clearCache(rZ)}function ije(){this._clearCache(aZ)}function sje(){this._clearCache(iZ)}function oje(){this._clearCache(sZ)}function lje(){this._clearCache(oZ)}class _t extends Ot{constructor(e){super(e);let n;for(;n=He.getRandomColor(),!(n&&!(n in O2)););this.colorKey=n,O2[n]=this}getContext(){return He.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return He.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(rZ,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(iZ,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=_T().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const r=new cu;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(Bt.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const a=r.getMatrix(),i=typeof DOMMatrix>"u"?{a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5]}:new DOMMatrix(a);n.setTransform(i)}return n}}_getLinearGradient(){return this._getCache(sZ,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const n=_T(),r=this.fillLinearGradientStartPoint(),a=this.fillLinearGradientEndPoint(),i=n.createLinearGradient(r.x,r.y,a.x,a.y);for(let s=0;s<e.length;s+=2)i.addColorStop(e[s],e[s+1]);return i}}_getRadialGradient(){return this._getCache(oZ,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const n=_T(),r=this.fillRadialGradientStartPoint(),a=this.fillRadialGradientEndPoint(),i=n.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),a.x,a.y,this.fillRadialGradientEndRadius());for(let s=0;s<e.length;s+=2)i.addColorStop(e[s],e[s+1]);return i}}getShadowRGBA(){return this._getCache(aZ,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=He.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const n=this.getStage();if(!n)return!1;const r=n.bufferHitCanvas;return r.getContext().clear(),this.drawHit(r,void 0,!0),r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return Ot.prototype.destroy.call(this),delete O2[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const a=e||this.hasFill(),i=this.hasStroke(),s=this.getAbsoluteOpacity()!==1;if(a&&i&&s)return!0;const o=this.hasShadow(),l=this.shadowForStrokeEnabled();return!!(a&&i&&o&&l)}setStrokeHitEnabled(e){He.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let n=!1,r=this.getParent();for(;r;){if(r.isCached()){n=!0;break}r=r.getParent()}const a=e.skipTransform,i=e.relativeTo||n&&this.getStage()||void 0,s=this.getSelfRect(),l=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,u=s.width+l,d=s.height+l,h=!e.skipShadow&&this.hasShadow(),m=h?this.shadowOffsetX():0,y=h?this.shadowOffsetY():0,x=u+Math.abs(m),v=d+Math.abs(y),_=h&&this.shadowBlur()||0,C=x+_*2,w=v+_*2,T={width:C,height:w,x:-(l/2+_)+Math.min(m,0)+s.x,y:-(l/2+_)+Math.min(y,0)+s.y};return a?T:this._transformedRect(T,i)}drawScene(e,n,r){const a=this.getLayer(),i=e||a.getCanvas(),s=i.getContext(),o=this._getCanvasCache(),l=this.getSceneFunc(),u=this.hasShadow();let d;const h=n===this;if(!this.isVisible()&&!h)return this;if(o){s.save();const m=this.getAbsoluteTransform(n).getMatrix();return s.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!l)return this;if(s.save(),this._useBufferCanvas()){d=this.getStage();const m=r||d.bufferCanvas,y=m.getContext();y.clear(),y.save(),y._applyLineJoin(this),y._applyMiterLimit(this);const x=this.getAbsoluteTransform(n).getMatrix();y.transform(x[0],x[1],x[2],x[3],x[4],x[5]),l.call(this,y,this),y.restore();const v=m.pixelRatio;u&&s._applyShadow(this),h||(s._applyOpacity(this),s._applyGlobalCompositeOperation(this)),s.drawImage(m._canvas,m.x||0,m.y||0,m.width/v,m.height/v)}else{if(s._applyLineJoin(this),s._applyMiterLimit(this),!h){const m=this.getAbsoluteTransform(n).getMatrix();s.transform(m[0],m[1],m[2],m[3],m[4],m[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)}u&&s._applyShadow(this),l.call(this,s,this)}return s.restore(),this}drawHit(e,n,r=!1){if(!this.shouldDrawHit(n,r))return this;const a=this.getLayer(),i=e||a.hitCanvas,s=i&&i.getContext(),o=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),u=l&&l.hit;if(this.colorKey||He.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),u){s.save();const h=this.getAbsoluteTransform(n).getMatrix();return s.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedHitCanvas(s),s.restore(),this}if(!o)return this;if(s.save(),s._applyLineJoin(this),s._applyMiterLimit(this),!(this===n)){const h=this.getAbsoluteTransform(n).getMatrix();s.transform(h[0],h[1],h[2],h[3],h[4],h[5])}return o.call(this,s,this),s.restore(),this}drawHitFromCache(e=0){const n=this._getCanvasCache(),r=this._getCachedSceneCanvas(),a=n.hit,i=a.getContext(),s=a.getWidth(),o=a.getHeight();i.clear(),i.drawImage(r._canvas,0,0,s,o);try{const l=i.getImageData(0,0,s,o),u=l.data,d=u.length,h=He._hexToRgb(this.colorKey);for(let m=0;m<d;m+=4)u[m+3]>e?(u[m]=h.r,u[m+1]=h.g,u[m+2]=h.b,u[m+3]=255):u[m+3]=0;i.putImageData(l,0,0)}catch(l){He.error("Unable to draw hit graph from cached scene canvas. "+l.message)}return this}hasPointerCapture(e){return qQ(e,this)}setPointerCapture(e){VQ(e,this)}releaseCapture(e){I2(e)}}_t.prototype._fillFunc=eje;_t.prototype._strokeFunc=tje;_t.prototype._fillFuncHit=nje;_t.prototype._strokeFuncHit=rje;_t.prototype._centroid=!1;_t.prototype.nodeType="Shape";Ua(_t);_t.prototype.eventListeners={};_t.prototype.on.call(_t.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",aje);_t.prototype.on.call(_t.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",ije);_t.prototype.on.call(_t.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",sje);_t.prototype.on.call(_t.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",oje);_t.prototype.on.call(_t.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",lje);we.addGetterSetter(_t,"stroke",void 0,$Q());we.addGetterSetter(_t,"strokeWidth",2,Mt());we.addGetterSetter(_t,"fillAfterStrokeEnabled",!1);we.addGetterSetter(_t,"hitStrokeWidth","auto",$O());we.addGetterSetter(_t,"strokeHitEnabled",!0,Tu());we.addGetterSetter(_t,"perfectDrawEnabled",!0,Tu());we.addGetterSetter(_t,"shadowForStrokeEnabled",!0,Tu());we.addGetterSetter(_t,"lineJoin");we.addGetterSetter(_t,"lineCap");we.addGetterSetter(_t,"miterLimit");we.addGetterSetter(_t,"sceneFunc");we.addGetterSetter(_t,"hitFunc");we.addGetterSetter(_t,"dash");we.addGetterSetter(_t,"dashOffset",0,Mt());we.addGetterSetter(_t,"shadowColor",void 0,Og());we.addGetterSetter(_t,"shadowBlur",0,Mt());we.addGetterSetter(_t,"shadowOpacity",1,Mt());we.addComponentsGetterSetter(_t,"shadowOffset",["x","y"]);we.addGetterSetter(_t,"shadowOffsetX",0,Mt());we.addGetterSetter(_t,"shadowOffsetY",0,Mt());we.addGetterSetter(_t,"fillPatternImage");we.addGetterSetter(_t,"fill",void 0,$Q());we.addGetterSetter(_t,"fillPatternX",0,Mt());we.addGetterSetter(_t,"fillPatternY",0,Mt());we.addGetterSetter(_t,"fillLinearGradientColorStops");we.addGetterSetter(_t,"strokeLinearGradientColorStops");we.addGetterSetter(_t,"fillRadialGradientStartRadius",0);we.addGetterSetter(_t,"fillRadialGradientEndRadius",0);we.addGetterSetter(_t,"fillRadialGradientColorStops");we.addGetterSetter(_t,"fillPatternRepeat","repeat");we.addGetterSetter(_t,"fillEnabled",!0);we.addGetterSetter(_t,"strokeEnabled",!0);we.addGetterSetter(_t,"shadowEnabled",!0);we.addGetterSetter(_t,"dashEnabled",!0);we.addGetterSetter(_t,"strokeScaleEnabled",!0);we.addGetterSetter(_t,"fillPriority","color");we.addComponentsGetterSetter(_t,"fillPatternOffset",["x","y"]);we.addGetterSetter(_t,"fillPatternOffsetX",0,Mt());we.addGetterSetter(_t,"fillPatternOffsetY",0,Mt());we.addComponentsGetterSetter(_t,"fillPatternScale",["x","y"]);we.addGetterSetter(_t,"fillPatternScaleX",1,Mt());we.addGetterSetter(_t,"fillPatternScaleY",1,Mt());we.addComponentsGetterSetter(_t,"fillLinearGradientStartPoint",["x","y"]);we.addComponentsGetterSetter(_t,"strokeLinearGradientStartPoint",["x","y"]);we.addGetterSetter(_t,"fillLinearGradientStartPointX",0);we.addGetterSetter(_t,"strokeLinearGradientStartPointX",0);we.addGetterSetter(_t,"fillLinearGradientStartPointY",0);we.addGetterSetter(_t,"strokeLinearGradientStartPointY",0);we.addComponentsGetterSetter(_t,"fillLinearGradientEndPoint",["x","y"]);we.addComponentsGetterSetter(_t,"strokeLinearGradientEndPoint",["x","y"]);we.addGetterSetter(_t,"fillLinearGradientEndPointX",0);we.addGetterSetter(_t,"strokeLinearGradientEndPointX",0);we.addGetterSetter(_t,"fillLinearGradientEndPointY",0);we.addGetterSetter(_t,"strokeLinearGradientEndPointY",0);we.addComponentsGetterSetter(_t,"fillRadialGradientStartPoint",["x","y"]);we.addGetterSetter(_t,"fillRadialGradientStartPointX",0);we.addGetterSetter(_t,"fillRadialGradientStartPointY",0);we.addComponentsGetterSetter(_t,"fillRadialGradientEndPoint",["x","y"]);we.addGetterSetter(_t,"fillRadialGradientEndPointX",0);we.addGetterSetter(_t,"fillRadialGradientEndPointY",0);we.addGetterSetter(_t,"fillPatternRotation",0);we.addGetterSetter(_t,"fillRule",void 0,Og());we.backCompat(_t,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const cje="#",uje="beforeDraw",dje="draw",lZ=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],fje=lZ.length;let Dg=class extends kl{constructor(e){super(e),this.canvas=new ep,this.hitCanvas=new UO({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Ot.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Ot.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Ot.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Ot.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return Ot.prototype.remove.call(this),e&&e.parentNode&&He._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&He.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Ot.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){He.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){He.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,He.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,r=!1;for(;;){for(let a=0;a<fje;a++){const i=lZ[a],s=this._getIntersection({x:e.x+i.x*n,y:e.y+i.y*n}),o=s.shape;if(o)return o;if(r=!!s.antialiased,!s.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,a=r[3];if(a===255){const i=He._rgbToHex(r[0],r[1],r[2]),s=O2[cje+i];return s?{shape:s}:{antialiased:!0}}else if(a>0)return{antialiased:!0};return{}}drawScene(e,n,r){const a=this.getLayer(),i=e||a&&a.getCanvas();return this._fire(uje,{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),kl.prototype.drawScene.call(this,i,n,r),this._fire(dje,{node:this}),this}drawHit(e,n){const r=this.getLayer(),a=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),kl.prototype.drawHit.call(this,a,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){He.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return He.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return He.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Dg.prototype.nodeType="Layer";Ua(Dg);we.addGetterSetter(Dg,"imageSmoothingEnabled",!0);we.addGetterSetter(Dg,"clearBeforeDraw",!0);we.addGetterSetter(Dg,"hitGraphEnabled",!0,Tu());class qO extends Dg{constructor(e){super(e),this.listening(!1),He.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}qO.prototype.nodeType="FastLayer";Ua(qO);class ay extends kl{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&He.throw("You may only add groups and shapes to groups.")}}ay.prototype.nodeType="Group";Ua(ay);const CT=(function(){return Vm.performance&&Vm.performance.now?function(){return Vm.performance.now()}:function(){return new Date().getTime()}})();class vc{constructor(e,n){this.id=vc.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:CT(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,r=n.length;for(let a=0;a<r;a++)if(n[a]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=vc.animations,r=n.length;for(let a=0;a<r;a++)if(n[a].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=CT(),vc._addAnimation(this),this}stop(){return vc._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,r=this.animations,a=r.length;for(let i=0;i<a;i++)if(r[i].id===n){this.animations.splice(i,1);break}}static _runFrames(){const e={},n=this.animations;for(let r=0;r<n.length;r++){const a=n[r],i=a.layers,s=a.func;a._updateFrameObject(CT());const o=i.length;let l;if(s?l=s.call(a,a.frame)!==!1:l=!0,!!l)for(let u=0;u<o;u++){const d=i[u];d._id!==void 0&&(e[d._id]=d)}}for(const r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=vc;e.animations.length?(e._runFrames(),He.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,He.requestAnimFrame(this._animationLoop))}}vc.animations=[];vc.animIdCounter=0;vc.animRunning=!1;const hje={node:1,duration:1,easing:1,onFinish:1,yoyo:1},pje=1,Dz=2,Nz=3,Mz=["fill","stroke","shadowColor"];let mje=0;class gje{constructor(e,n,r,a,i,s,o){this.prop=e,this.propFunc=n,this.begin=a,this._pos=a,this.duration=s,this._change=0,this.prevPos=0,this.yoyo=o,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=i-this.begin,this.pause()}fire(e){const n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=Dz,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=Nz,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===Dz?this.setTime(e):this.state===Nz&&this.setTime(this.duration-e)}pause(){this.state=pje,this.fire("onPause")}getTimer(){return new Date().getTime()}}class ea{constructor(e){const n=this,r=e.node,a=r._id,i=e.easing||D2.Linear,s=!!e.yoyo;let o,l;typeof e.duration>"u"?o=.3:e.duration===0?o=.001:o=e.duration,this.node=r,this._id=mje++;const u=r.getLayer()||(r instanceof Bt.Stage?r.getLayers():null);u||He.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new vc(function(){n.tween.onEnterFrame()},u),this.tween=new gje(l,function(d){n._tweenFunc(d)},i,0,1,o*1e3,s),this._addListeners(),ea.attrs[a]||(ea.attrs[a]={}),ea.attrs[a][this._id]||(ea.attrs[a][this._id]={}),ea.tweens[a]||(ea.tweens[a]={});for(l in e)hje[l]===void 0&&this._addAttr(l,e[l]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){const r=this.node,a=r._id;let i,s,o,l,u;const d=ea.tweens[a][e];d&&delete ea.attrs[a][d][e];let h=r.getAttr(e);if(He._isArray(n))if(i=[],s=Math.max(n.length,h.length),e==="points"&&n.length!==h.length&&(n.length>h.length?(l=h,h=He._prepareArrayForTween(h,n,r.closed())):(o=n,n=He._prepareArrayForTween(n,h,r.closed()))),e.indexOf("fill")===0)for(let m=0;m<s;m++)if(m%2===0)i.push(n[m]-h[m]);else{const y=He.colorToRGBA(h[m]);u=He.colorToRGBA(n[m]),h[m]=y,i.push({r:u.r-y.r,g:u.g-y.g,b:u.b-y.b,a:u.a-y.a})}else for(let m=0;m<s;m++)i.push(n[m]-h[m]);else Mz.indexOf(e)!==-1?(h=He.colorToRGBA(h),u=He.colorToRGBA(n),i={r:u.r-h.r,g:u.g-h.g,b:u.b-h.b,a:u.a-h.a}):i=n-h;ea.attrs[a][this._id][e]={start:h,diff:i,end:n,trueEnd:o,trueStart:l},ea.tweens[a][e]=this._id}_tweenFunc(e){const n=this.node,r=ea.attrs[n._id][this._id];let a,i,s,o,l,u,d,h;for(a in r){if(i=r[a],s=i.start,o=i.diff,h=i.end,He._isArray(s))if(l=[],d=Math.max(s.length,h.length),a.indexOf("fill")===0)for(u=0;u<d;u++)u%2===0?l.push((s[u]||0)+o[u]*e):l.push("rgba("+Math.round(s[u].r+o[u].r*e)+","+Math.round(s[u].g+o[u].g*e)+","+Math.round(s[u].b+o[u].b*e)+","+(s[u].a+o[u].a*e)+")");else for(u=0;u<d;u++)l.push((s[u]||0)+o[u]*e);else Mz.indexOf(a)!==-1?l="rgba("+Math.round(s.r+o.r*e)+","+Math.round(s.g+o.g*e)+","+Math.round(s.b+o.b*e)+","+(s.a+o.a*e)+")":l=s+o*e;n.setAttr(a,l)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,n=ea.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,n=ea.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,n=this._id,r=ea.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const a in r)delete ea.tweens[e][a];delete ea.attrs[e][n],ea.tweens[e]&&(Object.keys(ea.tweens[e]).length===0&&delete ea.tweens[e],Object.keys(ea.attrs[e]).length===0&&delete ea.attrs[e])}}ea.attrs={};ea.tweens={};Ot.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new ea(t).play()};const D2={BackEaseIn(t,e,n,r){return n*(t/=r)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,n,r){return n*((t=t/r-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,n,r){let a=1.70158;return(t/=r/2)<1?n/2*(t*t*(((a*=1.525)+1)*t-a))+e:n/2*((t-=2)*t*(((a*=1.525)+1)*t+a)+2)+e},ElasticEaseIn(t,e,n,r,a,i){let s=0;return t===0?e:(t/=r)===1?e+n:(i||(i=r*.3),!a||a<Math.abs(n)?(a=n,s=i/4):s=i/(2*Math.PI)*Math.asin(n/a),-(a*Math.pow(2,10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/i))+e)},ElasticEaseOut(t,e,n,r,a,i){let s=0;return t===0?e:(t/=r)===1?e+n:(i||(i=r*.3),!a||a<Math.abs(n)?(a=n,s=i/4):s=i/(2*Math.PI)*Math.asin(n/a),a*Math.pow(2,-10*t)*Math.sin((t*r-s)*(2*Math.PI)/i)+n+e)},ElasticEaseInOut(t,e,n,r,a,i){let s=0;return t===0?e:(t/=r/2)===2?e+n:(i||(i=r*(.3*1.5)),!a||a<Math.abs(n)?(a=n,s=i/4):s=i/(2*Math.PI)*Math.asin(n/a),t<1?-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/i))+e:a*Math.pow(2,-10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/i)*.5+n+e)},BounceEaseOut(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,r){return n-D2.BounceEaseOut(r-t,0,n,r)+e},BounceEaseInOut(t,e,n,r){return t<r/2?D2.BounceEaseIn(t*2,0,n,r)*.5+e:D2.BounceEaseOut(t*2-r,0,n,r)*.5+n*.5+e},EaseIn(t,e,n,r){return n*(t/=r)*t+e},EaseOut(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,r){return n*t/r+e}},iy=He._assign(Bt,{Util:He,Transform:cu,Node:Ot,Container:kl,Stage:$5,stages:j2,Layer:Dg,FastLayer:qO,Group:ay,DD:Rr,Shape:_t,shapes:O2,Animation:vc,Tween:ea,Easings:D2,Context:H5,Canvas:HO});class Vf extends _t{_sceneFunc(e){const n=Bt.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),a=Bt.getAngle(r?360-this.angle():this.angle()),i=Math.cos(Math.min(a,Math.PI)),s=1,o=Math.sin(Math.min(Math.max(Math.PI,a),3*Math.PI/2)),l=Math.sin(Math.min(a,Math.PI/2)),u=i*(i>0?e:n),d=s*n,h=o*(o>0?e:n),m=l*(l>0?n:e);return{x:u,y:r?-1*m:h,width:d-u,height:m-h}}}Vf.prototype._centroid=!0;Vf.prototype.className="Arc";Vf.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];Ua(Vf);we.addGetterSetter(Vf,"innerRadius",0,Mt());we.addGetterSetter(Vf,"outerRadius",0,Mt());we.addGetterSetter(Vf,"angle",0,Mt());we.addGetterSetter(Vf,"clockwise",!1,Tu());function gI(t,e,n,r,a,i,s){const o=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(a-n,2)+Math.pow(i-r,2)),u=s*o/(o+l),d=s*l/(o+l),h=n-u*(a-t),m=r-u*(i-e),y=n+d*(a-t),x=r+d*(i-e);return[h,m,y,x]}function Pz(t,e){const n=t.length,r=[];for(let a=2;a<n-2;a+=2){const i=gI(t[a-2],t[a-1],t[a],t[a+1],t[a+2],t[a+3],e);isNaN(i[0])||(r.push(i[0]),r.push(i[1]),r.push(t[a]),r.push(t[a+1]),r.push(i[2]),r.push(i[3]))}return r}let Wf=class extends _t{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),r=n.length,a=this.tension(),i=this.closed(),s=this.bezier();if(!r)return;let o=0;if(e.beginPath(),e.moveTo(n[0],n[1]),a!==0&&r>4){const l=this.getTensionPoints(),u=l.length;for(o=i?0:4,i||e.quadraticCurveTo(l[0],l[1],l[2],l[3]);o<u-2;)e.bezierCurveTo(l[o++],l[o++],l[o++],l[o++],l[o++],l[o++]);i||e.quadraticCurveTo(l[u-2],l[u-1],n[r-2],n[r-1])}else if(s)for(o=2;o<r;)e.bezierCurveTo(n[o++],n[o++],n[o++],n[o++],n[o++],n[o++]);else for(o=2;o<r;o+=2)e.lineTo(n[o],n[o+1]);i?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():Pz(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,r=this.tension(),a=gI(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),i=gI(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),s=Pz(e,r);return[a[2],a[3]].concat(s).concat([i[0],i[1],e[n-2],e[n-1],i[2],i[3],a[0],a[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],r=e[0],a=e[1],i=e[1],s,o;for(let l=0;l<e.length/2;l++)s=e[l*2],o=e[l*2+1],n=Math.min(n,s),r=Math.max(r,s),a=Math.min(a,o),i=Math.max(i,o);return{x:n,y:a,width:r-n,height:i-a}}};Wf.prototype.className="Line";Wf.prototype._attrsAffectingSize=["points","bezier","tension"];Ua(Wf);we.addGetterSetter(Wf,"closed",!1);we.addGetterSetter(Wf,"bezier",!1);we.addGetterSetter(Wf,"tension",0,Mt());we.addGetterSetter(Wf,"points",[],OIe());const yje=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],bje=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],xje=[[1],[1,1],[1,2,1],[1,3,3,1]],Lz=(t,e,n)=>{let r,a;const s=n/2;r=0;for(let o=0;o<20;o++)a=s*yje[20][o]+s,r+=bje[20][o]*vje(t,e,a);return s*r},zz=(t,e,n)=>{n===void 0&&(n=1);const r=t[0]-2*t[1]+t[2],a=e[0]-2*e[1]+e[2],i=2*t[1]-2*t[0],s=2*e[1]-2*e[0],o=4*(r*r+a*a),l=4*(r*i+a*s),u=i*i+s*s;if(o===0)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const d=l/(2*o),h=u/o,m=n+d,y=h-d*d,x=m*m+y>0?Math.sqrt(m*m+y):0,v=d*d+y>0?Math.sqrt(d*d+y):0,_=d+Math.sqrt(d*d+y)!==0?y*Math.log(Math.abs((m+x)/(d+v))):0;return Math.sqrt(o)/2*(m*x-d*v+_)};function vje(t,e,n){const r=yI(1,n,t),a=yI(1,n,e),i=r*r+a*a;return Math.sqrt(i)}const yI=(t,e,n)=>{const r=n.length-1;let a,i;if(r===0)return 0;if(t===0){i=0;for(let s=0;s<=r;s++)i+=xje[r][s]*Math.pow(1-e,r-s)*Math.pow(e,s)*n[s];return i}else{a=new Array(r);for(let s=0;s<r;s++)a[s]=r*(n[s+1]-n[s]);return yI(t-1,e,a)}},Fz=(t,e,n)=>{let r=1,a=t/e,i=(t-n(a))/e,s=0;for(;r>.001;){const o=n(a+i),l=Math.abs(t-o)/e;if(l<r)r=l,a+=i;else{const u=n(a-i),d=Math.abs(t-u)/e;d<r?(r=d,a-=i):i/=2}if(s++,s>500)break}return a};class ra extends _t{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=ra.parsePathData(this.data()),this.pathLength=ra.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let r=!1;for(let a=0;a<n.length;a++){const i=n[a].command,s=n[a].points;switch(i){case"L":e.lineTo(s[0],s[1]);break;case"M":e.moveTo(s[0],s[1]);break;case"C":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"Q":e.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case"A":const o=s[0],l=s[1],u=s[2],d=s[3],h=s[4],m=s[5],y=s[6],x=s[7],v=u>d?u:d,_=u>d?1:u/d,C=u>d?d/u:1;e.translate(o,l),e.rotate(y),e.scale(_,C),e.arc(0,0,v,h,h+m,1-x),e.scale(1/_,1/C),e.rotate(-y),e.translate(-o,-l);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(l){if(l.command==="A"){const u=l.points[4],d=l.points[5],h=l.points[4]+d;let m=Math.PI/180;if(Math.abs(u-h)<m&&(m=Math.abs(u-h)),d<0)for(let y=u-m;y>h;y-=m){const x=ra.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],y,0);e.push(x.x,x.y)}else for(let y=u+m;y<h;y+=m){const x=ra.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],y,0);e.push(x.x,x.y)}}else if(l.command==="C")for(let u=0;u<=1;u+=.01){const d=ra.getPointOnCubicBezier(u,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);e.push(d.x,d.y)}else e=e.concat(l.points)});let n=e[0],r=e[0],a=e[1],i=e[1],s,o;for(let l=0;l<e.length/2;l++)s=e[l*2],o=e[l*2+1],isNaN(s)||(n=Math.min(n,s),r=Math.max(r,s)),isNaN(o)||(a=Math.min(a,o),i=Math.max(i,o));return{x:n,y:a,width:r-n,height:i-a}}getLength(){return this.pathLength}getPointAtLength(e){return ra.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,r,a){return Math.sqrt((r-e)*(r-e)+(a-n)*(a-n))}static getPathLength(e){let n=0;for(let r=0;r<e.length;++r)n+=e[r].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let r,a=0,i=n.length;if(!i)return null;for(;a<i&&e>n[a].pathLength;)e-=n[a].pathLength,++a;if(a===i)return r=n[a-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return n[a].command==="M"?(r=n[a].points.slice(0,2),{x:r[0],y:r[1]}):{x:n[a].start.x,y:n[a].start.y};const s=n[a],o=s.points;switch(s.command){case"L":return ra.getPointOnLine(e,s.start.x,s.start.y,o[0],o[1]);case"C":return ra.getPointOnCubicBezier(Fz(e,ra.getPathLength(n),v=>Lz([s.start.x,o[0],o[2],o[4]],[s.start.y,o[1],o[3],o[5]],v)),s.start.x,s.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return ra.getPointOnQuadraticBezier(Fz(e,ra.getPathLength(n),v=>zz([s.start.x,o[0],o[2]],[s.start.y,o[1],o[3]],v)),s.start.x,s.start.y,o[0],o[1],o[2],o[3]);case"A":const l=o[0],u=o[1],d=o[2],h=o[3],m=o[5],y=o[6];let x=o[4];return x+=m*e/s.pathLength,ra.getPointOnEllipticalArc(l,u,d,h,x,y)}return null}static getPointOnLine(e,n,r,a,i,s,o){s=s??n,o=o??r;const l=this.getLineLength(n,r,a,i);if(l<1e-10)return{x:n,y:r};if(a===n)return{x:s,y:o+(i>r?e:-e)};const u=(i-r)/(a-n),d=Math.sqrt(e*e/(1+u*u))*(a<n?-1:1),h=u*d;if(Math.abs(o-r-u*(s-n))<1e-10)return{x:s+d,y:o+h};const m=((s-n)*(a-n)+(o-r)*(i-r))/(l*l),y=n+m*(a-n),x=r+m*(i-r),v=this.getLineLength(s,o,y,x),_=Math.sqrt(e*e-v*v),C=Math.sqrt(_*_/(1+u*u))*(a<n?-1:1),w=u*C;return{x:y+C,y:x+w}}static getPointOnCubicBezier(e,n,r,a,i,s,o,l,u){function d(_){return _*_*_}function h(_){return 3*_*_*(1-_)}function m(_){return 3*_*(1-_)*(1-_)}function y(_){return(1-_)*(1-_)*(1-_)}const x=l*d(e)+s*h(e)+a*m(e)+n*y(e),v=u*d(e)+o*h(e)+i*m(e)+r*y(e);return{x,y:v}}static getPointOnQuadraticBezier(e,n,r,a,i,s,o){function l(y){return y*y}function u(y){return 2*y*(1-y)}function d(y){return(1-y)*(1-y)}const h=s*l(e)+a*u(e)+n*d(e),m=o*l(e)+i*u(e)+r*d(e);return{x:h,y:m}}static getPointOnEllipticalArc(e,n,r,a,i,s){const o=Math.cos(s),l=Math.sin(s),u={x:r*Math.cos(i),y:a*Math.sin(i)};return{x:e+(u.x*o-u.y*l),y:n+(u.x*l+u.y*o)}}static parsePathData(e){if(!e)return[];let n=e;const r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let h=0;h<r.length;h++)n=n.replace(new RegExp(r[h],"g"),"|"+r[h]);const a=n.split("|"),i=[],s=[];let o=0,l=0;const u=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let d;for(let h=1;h<a.length;h++){let m=a[h],y=m.charAt(0);for(m=m.slice(1),s.length=0;d=u.exec(m);)s.push(d[0]);let x=[],v=y==="A"||y==="a"?0:-1;for(let _=0,C=s.length;_<C;_++){const w=s[_];if(w==="00"){x.push(0,0),v>=0&&(v+=2,v>=7&&(v-=7));continue}if(v>=0){if(v===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(w)){x.push(parseInt(w[0],10)),x.push(parseInt(w[1],10)),x.push(parseFloat(w.slice(2))),v+=3,v>=7&&(v-=7);continue}if(w==="11"||w==="10"||w==="01"){x.push(parseInt(w[0],10)),x.push(parseInt(w[1],10)),v+=2,v>=7&&(v-=7);continue}if(w==="0"||w==="1"){x.push(parseInt(w,10)),v+=1,v>=7&&(v-=7);continue}}else if(v===4){if(/^[01]\d+(?:\.\d+)?$/.test(w)){x.push(parseInt(w[0],10)),x.push(parseFloat(w.slice(1))),v+=2,v>=7&&(v-=7);continue}if(w==="0"||w==="1"){x.push(parseInt(w,10)),v+=1,v>=7&&(v-=7);continue}}const T=parseFloat(w);isNaN(T)?x.push(0):x.push(T),v+=1,v>=7&&(v-=7)}else{const T=parseFloat(w);isNaN(T)?x.push(0):x.push(T)}}for(;x.length>0&&!isNaN(x[0]);){let _="",C=[];const w=o,T=l;let E,k,j,O,z,M,N,U,F,$;switch(y){case"l":o+=x.shift(),l+=x.shift(),_="L",C.push(o,l);break;case"L":o=x.shift(),l=x.shift(),C.push(o,l);break;case"m":const D=x.shift(),H=x.shift();if(o+=D,l+=H,_="M",i.length>2&&i[i.length-1].command==="z"){for(let L=i.length-2;L>=0;L--)if(i[L].command==="M"){o=i[L].points[0]+D,l=i[L].points[1]+H;break}}C.push(o,l),y="l";break;case"M":o=x.shift(),l=x.shift(),_="M",C.push(o,l),y="L";break;case"h":o+=x.shift(),_="L",C.push(o,l);break;case"H":o=x.shift(),_="L",C.push(o,l);break;case"v":l+=x.shift(),_="L",C.push(o,l);break;case"V":l=x.shift(),_="L",C.push(o,l);break;case"C":C.push(x.shift(),x.shift(),x.shift(),x.shift()),o=x.shift(),l=x.shift(),C.push(o,l);break;case"c":C.push(o+x.shift(),l+x.shift(),o+x.shift(),l+x.shift()),o+=x.shift(),l+=x.shift(),_="C",C.push(o,l);break;case"S":k=o,j=l,E=i[i.length-1],E.command==="C"&&(k=o+(o-E.points[2]),j=l+(l-E.points[3])),C.push(k,j,x.shift(),x.shift()),o=x.shift(),l=x.shift(),_="C",C.push(o,l);break;case"s":k=o,j=l,E=i[i.length-1],E.command==="C"&&(k=o+(o-E.points[2]),j=l+(l-E.points[3])),C.push(k,j,o+x.shift(),l+x.shift()),o+=x.shift(),l+=x.shift(),_="C",C.push(o,l);break;case"Q":C.push(x.shift(),x.shift()),o=x.shift(),l=x.shift(),C.push(o,l);break;case"q":C.push(o+x.shift(),l+x.shift()),o+=x.shift(),l+=x.shift(),_="Q",C.push(o,l);break;case"T":k=o,j=l,E=i[i.length-1],E.command==="Q"&&(k=o+(o-E.points[0]),j=l+(l-E.points[1])),o=x.shift(),l=x.shift(),_="Q",C.push(k,j,o,l);break;case"t":k=o,j=l,E=i[i.length-1],E.command==="Q"&&(k=o+(o-E.points[0]),j=l+(l-E.points[1])),o+=x.shift(),l+=x.shift(),_="Q",C.push(k,j,o,l);break;case"A":O=x.shift(),z=x.shift(),M=x.shift(),N=x.shift(),U=x.shift(),F=o,$=l,o=x.shift(),l=x.shift(),_="A",C=this.convertEndpointToCenterParameterization(F,$,o,l,N,U,O,z,M);break;case"a":O=x.shift(),z=x.shift(),M=x.shift(),N=x.shift(),U=x.shift(),F=o,$=l,o+=x.shift(),l+=x.shift(),_="A",C=this.convertEndpointToCenterParameterization(F,$,o,l,N,U,O,z,M);break}i.push({command:_||y,points:C,start:{x:w,y:T},pathLength:this.calcLength(w,T,_||y,C)})}(y==="z"||y==="Z")&&i.push({command:"z",points:[],start:void 0,pathLength:0})}return i}static calcLength(e,n,r,a){let i,s,o,l;const u=ra;switch(r){case"L":return u.getLineLength(e,n,a[0],a[1]);case"C":return Lz([e,a[0],a[2],a[4]],[n,a[1],a[3],a[5]],1);case"Q":return zz([e,a[0],a[2]],[n,a[1],a[3]],1);case"A":i=0;const d=a[4],h=a[5],m=a[4]+h;let y=Math.PI/180;if(Math.abs(d-m)<y&&(y=Math.abs(d-m)),s=u.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],d,0),h<0)for(l=d-y;l>m;l-=y)o=u.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],l,0),i+=u.getLineLength(s.x,s.y,o.x,o.y),s=o;else for(l=d+y;l<m;l+=y)o=u.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],l,0),i+=u.getLineLength(s.x,s.y,o.x,o.y),s=o;return o=u.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],m,0),i+=u.getLineLength(s.x,s.y,o.x,o.y),i}return 0}static convertEndpointToCenterParameterization(e,n,r,a,i,s,o,l,u){const d=u*(Math.PI/180),h=Math.cos(d)*(e-r)/2+Math.sin(d)*(n-a)/2,m=-1*Math.sin(d)*(e-r)/2+Math.cos(d)*(n-a)/2,y=h*h/(o*o)+m*m/(l*l);y>1&&(o*=Math.sqrt(y),l*=Math.sqrt(y));let x=Math.sqrt((o*o*(l*l)-o*o*(m*m)-l*l*(h*h))/(o*o*(m*m)+l*l*(h*h)));i===s&&(x*=-1),isNaN(x)&&(x=0);const v=x*o*m/l,_=x*-l*h/o,C=(e+r)/2+Math.cos(d)*v-Math.sin(d)*_,w=(n+a)/2+Math.sin(d)*v+Math.cos(d)*_,T=function(N){return Math.sqrt(N[0]*N[0]+N[1]*N[1])},E=function(N,U){return(N[0]*U[0]+N[1]*U[1])/(T(N)*T(U))},k=function(N,U){return(N[0]*U[1]<N[1]*U[0]?-1:1)*Math.acos(E(N,U))},j=k([1,0],[(h-v)/o,(m-_)/l]),O=[(h-v)/o,(m-_)/l],z=[(-1*h-v)/o,(-1*m-_)/l];let M=k(O,z);return E(O,z)<=-1&&(M=Math.PI),E(O,z)>=1&&(M=0),s===0&&M>0&&(M=M-2*Math.PI),s===1&&M<0&&(M=M+2*Math.PI),[C,w,o,l,j,M,d,s]}}ra.prototype.className="Path";ra.prototype._attrsAffectingSize=["data"];Ua(ra);we.addGetterSetter(ra,"data");class Ng extends Wf{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,r=this.points();let a=r;const i=this.tension()!==0&&r.length>4;i&&(a=this.getTensionPoints());const s=this.pointerLength(),o=r.length;let l,u;if(i){const m=[a[a.length-4],a[a.length-3],a[a.length-2],a[a.length-1],r[o-2],r[o-1]],y=ra.calcLength(a[a.length-4],a[a.length-3],"C",m),x=ra.getPointOnQuadraticBezier(Math.min(1,1-s/y),m[0],m[1],m[2],m[3],m[4],m[5]);l=r[o-2]-x.x,u=r[o-1]-x.y}else l=r[o-2]-r[o-4],u=r[o-1]-r[o-3];const d=(Math.atan2(u,l)+n)%n,h=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[o-2],r[o-1]),e.rotate(d),e.moveTo(0,0),e.lineTo(-s,h/2),e.lineTo(-s,-h/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),i?(l=(a[0]+a[2])/2-r[0],u=(a[1]+a[3])/2-r[1]):(l=r[2]-r[0],u=r[3]-r[1]),e.rotate((Math.atan2(-u,-l)+n)%n),e.moveTo(0,0),e.lineTo(-s,h/2),e.lineTo(-s,-h/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}}Ng.prototype.className="Arrow";Ua(Ng);we.addGetterSetter(Ng,"pointerLength",10,Mt());we.addGetterSetter(Ng,"pointerWidth",10,Mt());we.addGetterSetter(Ng,"pointerAtBeginning",!1);we.addGetterSetter(Ng,"pointerAtEnding",!0);class ky extends _t{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}ky.prototype._centroid=!0;ky.prototype.className="Circle";ky.prototype._attrsAffectingSize=["radius"];Ua(ky);we.addGetterSetter(ky,"radius",0,Mt());class Pp extends _t{_sceneFunc(e){const n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Pp.prototype.className="Ellipse";Pp.prototype._centroid=!0;Pp.prototype._attrsAffectingSize=["radiusX","radiusY"];Ua(Pp);we.addComponentsGetterSetter(Pp,"radius",["x","y"]);we.addGetterSetter(Pp,"radiusX",0,Mt());we.addGetterSetter(Pp,"radiusY",0,Mt());let Au=class cZ extends _t{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),a=this.cornerRadius(),i=this.attrs.image;let s;if(i){const o=this.attrs.cropWidth,l=this.attrs.cropHeight;o&&l?s=[i,this.cropX(),this.cropY(),o,l,0,0,n,r]:s=[i,0,0,n,r]}(this.hasFill()||this.hasStroke()||a)&&(e.beginPath(),a?He.drawRoundedRectPath(e,n,r,a):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),i&&(a&&e.clip(),e.drawImage.apply(e,s))}_hitFunc(e){const n=this.width(),r=this.height(),a=this.cornerRadius();e.beginPath(),a?He.drawRoundedRectPath(e,n,r,a):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n,r;return(r=(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width)!==null&&r!==void 0?r:0}getHeight(){var e,n,r;return(r=(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height)!==null&&r!==void 0?r:0}static fromURL(e,n,r=null){const a=He.createImageElement();a.onload=function(){const i=new cZ({image:a});n(i)},a.onerror=r,a.crossOrigin="Anonymous",a.src=e}};Au.prototype.className="Image";Au.prototype._attrsAffectingSize=["image"];Ua(Au);we.addGetterSetter(Au,"cornerRadius",0,U5(4));we.addGetterSetter(Au,"image");we.addComponentsGetterSetter(Au,"crop",["x","y","width","height"]);we.addGetterSetter(Au,"cropX",0,Mt());we.addGetterSetter(Au,"cropY",0,Mt());we.addGetterSetter(Au,"cropWidth",0,Mt());we.addGetterSetter(Au,"cropHeight",0,Mt());const uZ=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],Sje="Change.konva",_je="none",bI="up",xI="right",vI="down",SI="left",Cje=uZ.length;class VO extends ay{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,r;const a=function(){n._sync()};for(r=0;r<Cje;r++)e.on(uZ[r]+Sje,a)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),r,a,i,s,o,l,u;if(e&&n){switch(r=e.width(),a=e.height(),i=n.pointerDirection(),s=n.pointerWidth(),u=n.pointerHeight(),o=0,l=0,i){case bI:o=r/2,l=-1*u;break;case xI:o=r+s,l=a/2;break;case vI:o=r/2,l=a+u;break;case SI:o=-1*s,l=a/2;break}n.setAttrs({x:-1*o,y:-1*l,width:r,height:a}),e.setAttrs({x:-1*o,y:-1*l})}}}VO.prototype.className="Label";Ua(VO);class Mg extends _t{_sceneFunc(e){const n=this.width(),r=this.height(),a=this.pointerDirection(),i=this.pointerWidth(),s=this.pointerHeight(),o=this.cornerRadius();let l=0,u=0,d=0,h=0;typeof o=="number"?l=u=d=h=Math.min(o,n/2,r/2):(l=Math.min(o[0]||0,n/2,r/2),u=Math.min(o[1]||0,n/2,r/2),h=Math.min(o[2]||0,n/2,r/2),d=Math.min(o[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(l,0),a===bI&&(e.lineTo((n-i)/2,0),e.lineTo(n/2,-1*s),e.lineTo((n+i)/2,0)),e.lineTo(n-u,0),e.arc(n-u,u,u,Math.PI*3/2,0,!1),a===xI&&(e.lineTo(n,(r-s)/2),e.lineTo(n+i,r/2),e.lineTo(n,(r+s)/2)),e.lineTo(n,r-h),e.arc(n-h,r-h,h,0,Math.PI/2,!1),a===vI&&(e.lineTo((n+i)/2,r),e.lineTo(n/2,r+s),e.lineTo((n-i)/2,r)),e.lineTo(d,r),e.arc(d,r-d,d,Math.PI/2,Math.PI,!1),a===SI&&(e.lineTo(0,(r+s)/2),e.lineTo(-1*i,r/2),e.lineTo(0,(r-s)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,r=this.pointerWidth(),a=this.pointerHeight(),i=this.pointerDirection(),s=this.width(),o=this.height();return i===bI?(n-=a,o+=a):i===vI?o+=a:i===SI?(e-=r*1.5,s+=r):i===xI&&(s+=r*1.5),{x:e,y:n,width:s,height:o}}}Mg.prototype.className="Tag";Ua(Mg);we.addGetterSetter(Mg,"pointerDirection",_je);we.addGetterSetter(Mg,"pointerWidth",0,Mt());we.addGetterSetter(Mg,"pointerHeight",0,Mt());we.addGetterSetter(Mg,"cornerRadius",0,U5(4));let aS=class extends _t{_sceneFunc(e){const n=this.cornerRadius(),r=this.width(),a=this.height();e.beginPath(),n?He.drawRoundedRectPath(e,r,a,n):e.rect(0,0,r,a),e.closePath(),e.fillStrokeShape(this)}};aS.prototype.className="Rect";Ua(aS);we.addGetterSetter(aS,"cornerRadius",0,U5(4));class Lp extends _t{_sceneFunc(e){const n=this._getPoints(),r=this.radius(),a=this.sides(),i=this.cornerRadius();if(e.beginPath(),i)He.drawRoundedPolygonPath(e,n,a,r,i);else{e.moveTo(n[0].x,n[0].y);for(let s=1;s<n.length;s++)e.lineTo(n[s].x,n[s].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(let a=0;a<e;a++)r.push({x:n*Math.sin(a*2*Math.PI/e),y:-1*n*Math.cos(a*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();let n=e[0].x,r=e[0].y,a=e[0].x,i=e[0].y;return e.forEach(s=>{n=Math.min(n,s.x),r=Math.max(r,s.x),a=Math.min(a,s.y),i=Math.max(i,s.y)}),{x:n,y:a,width:r-n,height:i-a}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Lp.prototype.className="RegularPolygon";Lp.prototype._centroid=!0;Lp.prototype._attrsAffectingSize=["radius"];Ua(Lp);we.addGetterSetter(Lp,"radius",0,Mt());we.addGetterSetter(Lp,"sides",0,Mt());we.addGetterSetter(Lp,"cornerRadius",0,U5(4));const Bz=Math.PI*2;class Pg extends _t{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,Bz,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),Bz,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Pg.prototype.className="Ring";Pg.prototype._centroid=!0;Pg.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Ua(Pg);we.addGetterSetter(Pg,"innerRadius",0,Mt());we.addGetterSetter(Pg,"outerRadius",0,Mt());class Ld extends _t{constructor(e){super(e),this._updated=!0,this.anim=new vc(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),r=this.frameIndex(),a=r*4,i=this.animations()[n],s=this.frameOffsets(),o=i[a+0],l=i[a+1],u=i[a+2],d=i[a+3],h=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,u,d),e.closePath(),e.fillStrokeShape(this)),h)if(s){const m=s[n],y=r*2;e.drawImage(h,o,l,u,d,m[y+0],m[y+1],u,d)}else e.drawImage(h,o,l,u,d,0,0,u,d)}_hitFunc(e){const n=this.animation(),r=this.frameIndex(),a=r*4,i=this.animations()[n],s=this.frameOffsets(),o=i[a+2],l=i[a+3];if(e.beginPath(),s){const u=s[n],d=r*2;e.rect(u[d+0],u[d+1],o,l)}else e.rect(0,0,o,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),r=this.animations(),a=r[n],i=a.length/4;e<i-1?this.frameIndex(e+1):this.frameIndex(0)}}Ld.prototype.className="Sprite";Ua(Ld);we.addGetterSetter(Ld,"animation");we.addGetterSetter(Ld,"animations");we.addGetterSetter(Ld,"frameOffsets");we.addGetterSetter(Ld,"image");we.addGetterSetter(Ld,"frameIndex",0,Mt());we.addGetterSetter(Ld,"frameRate",17,Mt());we.backCompat(Ld,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class zp extends _t{_sceneFunc(e){const n=this.innerRadius(),r=this.outerRadius(),a=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let i=1;i<a*2;i++){const s=i%2===0?r:n,o=s*Math.sin(i*Math.PI/a),l=-1*s*Math.cos(i*Math.PI/a);e.lineTo(o,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}zp.prototype.className="Star";zp.prototype._centroid=!0;zp.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Ua(zp);we.addGetterSetter(zp,"numPoints",5,Mt());we.addGetterSetter(zp,"innerRadius",0,Mt());we.addGetterSetter(zp,"outerRadius",0,Mt());function Vh(t){return[...t].reduce((e,n,r,a)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const i=a[r+1];i&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(i)?(e.push(n+i),a[r+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(a[r+1]||""))?e.push(n+a[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const s1="auto",wje="center",dZ="inherit",o1="justify",Eje="Change.konva",Tje="2d",Hz="-",fZ="left",Aje="text",Rje="Text",kje="top",Ije="bottom",Uz="middle",hZ="normal",jje="px ",B_=" ",Oje="right",$z="rtl",Dje="word",Nje="char",Gz="none",wT="",pZ=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Mje=pZ.length;function Pje(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}let H_;function ET(){return H_||(H_=He.createCanvasElement().getContext(Tje),H_)}function Lje(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function zje(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function Fje(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}class xa extends _t{constructor(e){super(Fje(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<Mje;n++)this.on(pZ[n]+Eje,this._setTextData);this._setTextData()}_sceneFunc(e){var n,r;const a=this.textArr,i=a.length;if(!this.text())return;let s=this.padding(),o=this.fontSize(),l=this.lineHeight()*o,u=this.verticalAlign(),d=this.direction(),h=0,m=this.align(),y=this.getWidth(),x=this.letterSpacing(),v=this.charRenderFunc(),_=this.fill(),C=this.textDecoration(),w=C.indexOf("underline")!==-1,T=C.indexOf("line-through")!==-1,E;d=d===dZ?e.direction:d;let k=l/2,j=Uz;if(!Bt.legacyTextRendering){const O=this.measureSize("M");j="alphabetic";const z=(n=O.fontBoundingBoxAscent)!==null&&n!==void 0?n:O.actualBoundingBoxAscent,M=(r=O.fontBoundingBoxDescent)!==null&&r!==void 0?r:O.actualBoundingBoxDescent;k=(z-M)/2+l/2}for(d===$z&&e.setAttr("direction",d),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",j),e.setAttr("textAlign",fZ),u===Uz?h=(this.getHeight()-i*l-s*2)/2:u===Ije&&(h=this.getHeight()-i*l-s*2),e.translate(s,h+s),E=0;E<i;E++){let O=0,z=0;const M=a[E],N=M.text,U=M.width,F=M.lastInParagraph;if(e.save(),m===Oje?O+=y-U-s*2:m===wje&&(O+=(y-U-s*2)/2),w){e.save(),e.beginPath();const $=Bt.legacyTextRendering?Math.round(o/2):Math.round(o/4),D=O,H=k+z+$;e.moveTo(D,H);const L=m===o1&&!F?y-s*2:U;e.lineTo(D+Math.round(L),H),e.lineWidth=o/15;const V=this._getLinearGradient();e.strokeStyle=V||_,e.stroke(),e.restore()}if(d!==$z&&(x!==0||m===o1||v)){const $=N.split(" ").length-1,D=Vh(N);for(let H=0;H<D.length;H++){const L=D[H];if(L===" "&&!F&&m===o1&&(O+=(y-s*2-U)/$),this._partialTextX=O,this._partialTextY=k+z,this._partialText=L,v){e.save();const J=a.slice(0,E).reduce((K,q)=>K+Vh(q.text).length,0),Q=H+J;v({char:L,index:Q,x:O,y:k+z,lineIndex:E,column:H,isLastInLine:F,width:this.measureSize(L).width,context:e})}e.fillStrokeShape(this),v&&e.restore(),O+=this.measureSize(L).width+x}}else x!==0&&e.setAttr("letterSpacing",`${x}px`),this._partialTextX=O,this._partialTextY=k+z,this._partialText=N,e.fillStrokeShape(this);if(T){e.save(),e.beginPath();const $=Bt.legacyTextRendering?0:-Math.round(o/4),D=m===o1?0:O;e.moveTo(D,k+z+$);const H=m===o1&&!F?y-s*2:U;e.lineTo(D+Math.round(H),k+z+$),e.lineWidth=o/15;const L=this._getLinearGradient();e.strokeStyle=L||_,e.stroke(),e.restore()}e.restore(),i>1&&(k+=l)}}_hitFunc(e){const n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=He._isString(e)?e:e==null?"":e+"";return this._setAttr(Aje,n),this}getWidth(){return this.attrs.width===s1||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===s1||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return He.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,r,a,i,s,o,l,u,d,h,m;let y=ET(),x=this.fontSize(),v;y.save(),y.font=this._getContextFont(),v=y.measureText(e),y.restore();const _=x/100;return{actualBoundingBoxAscent:(n=v.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*_,actualBoundingBoxDescent:(r=v.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(a=v.actualBoundingBoxLeft)!==null&&a!==void 0?a:-7.421875*_,actualBoundingBoxRight:(i=v.actualBoundingBoxRight)!==null&&i!==void 0?i:75.732421875*_,alphabeticBaseline:(s=v.alphabeticBaseline)!==null&&s!==void 0?s:0,emHeightAscent:(o=v.emHeightAscent)!==null&&o!==void 0?o:100*_,emHeightDescent:(l=v.emHeightDescent)!==null&&l!==void 0?l:-20*_,fontBoundingBoxAscent:(u=v.fontBoundingBoxAscent)!==null&&u!==void 0?u:91*_,fontBoundingBoxDescent:(d=v.fontBoundingBoxDescent)!==null&&d!==void 0?d:21*_,hangingBaseline:(h=v.hangingBaseline)!==null&&h!==void 0?h:72.80000305175781*_,ideographicBaseline:(m=v.ideographicBaseline)!==null&&m!==void 0?m:-21*_,width:v.width,height:x}}_getContextFont(){return this.fontStyle()+B_+this.fontVariant()+B_+(this.fontSize()+jje)+Pje(this.fontFamily())}_addTextLine(e){this.align()===o1&&(e=e.trim());const r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),r=e.length;return ET().measureText(e).width+n*r}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),r=0,a=this.lineHeight()*n,i=this.attrs.width,s=this.attrs.height,o=i!==s1&&i!==void 0,l=s!==s1&&s!==void 0,u=this.padding(),d=i-u*2,h=s-u*2,m=0,y=this.wrap(),x=y!==Gz,v=y!==Nje&&x,_=this.ellipsis();this.textArr=[],ET().font=this._getContextFont();const C=_?this._getTextWidth(wT):0;for(let w=0,T=e.length;w<T;++w){let E=e[w],k=this._getTextWidth(E);if(o&&k>d)for(;E.length>0;){let j=0,O=Vh(E).length,z="",M=0;for(;j<O;){const N=j+O>>>1,U=Vh(E),F=U.slice(0,N+1).join(""),$=this._getTextWidth(F);(_&&l&&m+a>h?$+C:$)<=d?(j=N+1,z=F,M=$):O=N}if(z){if(v){const F=Vh(E),$=Vh(z),D=F[$.length],H=D===B_||D===Hz;let L;if(H&&M<=d)L=$.length;else{const V=$.lastIndexOf(B_),J=$.lastIndexOf(Hz);L=Math.max(V,J)+1}L>0&&(j=L,z=F.slice(0,j).join(""),M=this._getTextWidth(z))}if(z=z.trimRight(),this._addTextLine(z),r=Math.max(r,M),m+=a,this._shouldHandleEllipsis(m)){this._tryToAddEllipsisToLastLine();break}if(E=Vh(E).slice(j).join("").trimLeft(),E.length>0&&(k=this._getTextWidth(E),k<=d)){this._addTextLine(E),m+=a,r=Math.max(r,k);break}}else break}else this._addTextLine(E),m+=a,r=Math.max(r,k),this._shouldHandleEllipsis(m)&&w<T-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&m+a>h)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){const n=+this.fontSize(),r=this.lineHeight()*n,a=this.attrs.height,i=a!==s1&&a!==void 0,s=this.padding(),o=a-s*2;return!(this.wrap()!==Gz)||i&&e+r>o}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==s1&&e!==void 0,r=this.padding(),a=e-r*2,i=this.ellipsis(),s=this.textArr[this.textArr.length-1];!s||!i||(n&&(this._getTextWidth(s.text+wT)<a||(s.text=s.text.slice(0,s.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(s.text+wT))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}}xa.prototype._fillFunc=Lje;xa.prototype._strokeFunc=zje;xa.prototype.className=Rje;xa.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];Ua(xa);we.overWriteSetter(xa,"width",$O());we.overWriteSetter(xa,"height",$O());we.addGetterSetter(xa,"direction",dZ);we.addGetterSetter(xa,"fontFamily","Arial");we.addGetterSetter(xa,"fontSize",12,Mt());we.addGetterSetter(xa,"fontStyle",hZ);we.addGetterSetter(xa,"fontVariant",hZ);we.addGetterSetter(xa,"padding",0,Mt());we.addGetterSetter(xa,"align",fZ);we.addGetterSetter(xa,"verticalAlign",kje);we.addGetterSetter(xa,"lineHeight",1,Mt());we.addGetterSetter(xa,"wrap",Dje);we.addGetterSetter(xa,"ellipsis",!1,Tu());we.addGetterSetter(xa,"letterSpacing",0,Mt());we.addGetterSetter(xa,"text","",Og());we.addGetterSetter(xa,"textDecoration","");we.addGetterSetter(xa,"charRenderFunc",void 0);const Bje="",mZ="normal";function gZ(t){t.fillText(this.partialText,0,0)}function yZ(t){t.strokeText(this.partialText,0,0)}class Fi extends _t{constructor(e){super(e),this.dummyCanvas=He.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return ra.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e>n?null:ra.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=ra.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),r=this.fill(),a=this.fontSize(),i=this.glyphInfo,s=n.indexOf("underline")!==-1,o=n.indexOf("line-through")!==-1;s&&e.beginPath();for(let l=0;l<i.length;l++){e.save();const u=i[l].p0;e.translate(u.x,u.y),e.rotate(i[l].rotation),this.partialText=i[l].text,e.fillStrokeShape(this),s&&(l===0&&e.moveTo(0,a/2+1),e.lineTo(i[l].width,a/2+1)),e.restore()}if(s&&(e.strokeStyle=r,e.lineWidth=a/20,e.stroke()),o){e.beginPath();for(let l=0;l<i.length;l++){e.save();const u=i[l].p0;e.translate(u.x,u.y),e.rotate(i[l].rotation),l===0&&e.moveTo(0,0),e.lineTo(i[l].width,0),e.restore()}e.strokeStyle=r,e.lineWidth=a/20,e.stroke()}e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const r=n[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<n.length;r++){const a=n[r].p1;e.lineTo(a.x,a.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return He.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return xa.prototype.setText.call(this,e)}_getContextFont(){return xa.prototype._getContextFont.call(this)}_getTextSize(e){const r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();const a=r.measureText(e);return r.restore(),{width:a.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=Vh(this.text()),n=[];let r=0;for(let h=0;h<e.length;h++)n.push({char:e[h],width:this._getTextSize(e[h]).width}),r+=n[h].width;const{height:a}=this._getTextSize(this.attrs.text);if(this.textWidth=r,this.textHeight=a,this.glyphInfo=[],!this.attrs.data)return null;const i=this.letterSpacing(),s=this.align(),o=this.kerningFunc(),l=Math.max(this.textWidth+((this.attrs.text||"").length-1)*i,0);let u=0;s==="center"&&(u=Math.max(0,this.pathLength/2-l/2)),s==="right"&&(u=Math.max(0,this.pathLength-l));let d=u;for(let h=0;h<n.length;h++){const m=this._getPointAtLength(d);if(!m)return;const y=n[h].char;let x=n[h].width+i;if(y===" "&&s==="justify"){const E=this.text().split(" ").length-1;x+=(this.pathLength-l)/E}const v=this._getPointAtLength(d+x);if(!v)return;const _=ra.getLineLength(m.x,m.y,v.x,v.y);let C=0;if(o)try{C=o(n[h-1].char,y)*this.fontSize()}catch{C=0}m.x+=C,v.x+=C,this.textWidth+=C;const w=ra.getPointOnLine(C+_/2,m.x,m.y,v.x,v.y),T=Math.atan2(v.y-m.y,v.x-m.x);this.glyphInfo.push({transposeX:w.x,transposeY:w.y,text:e[h],rotation:T,p0:m,p1:v,width:_}),d+=x}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(u){e.push(u.p0.x),e.push(u.p0.y),e.push(u.p1.x),e.push(u.p1.y)});let n=e[0]||0,r=e[0]||0,a=e[1]||0,i=e[1]||0,s,o;for(let u=0;u<e.length/2;u++)s=e[u*2],o=e[u*2+1],n=Math.min(n,s),r=Math.max(r,s),a=Math.min(a,o),i=Math.max(i,o);const l=this.fontSize();return{x:n-l/2,y:a-l/2,width:r-n+l,height:i-a+l}}destroy(){return He.releaseCanvas(this.dummyCanvas),super.destroy()}}Fi.prototype._fillFunc=gZ;Fi.prototype._strokeFunc=yZ;Fi.prototype._fillFuncHit=gZ;Fi.prototype._strokeFuncHit=yZ;Fi.prototype.className="TextPath";Fi.prototype._attrsAffectingSize=["text","fontSize","data"];Ua(Fi);we.addGetterSetter(Fi,"data");we.addGetterSetter(Fi,"fontFamily","Arial");we.addGetterSetter(Fi,"fontSize",12,Mt());we.addGetterSetter(Fi,"fontStyle",mZ);we.addGetterSetter(Fi,"align","left");we.addGetterSetter(Fi,"letterSpacing",0,Mt());we.addGetterSetter(Fi,"textBaseline","middle");we.addGetterSetter(Fi,"fontVariant",mZ);we.addGetterSetter(Fi,"text",Bje);we.addGetterSetter(Fi,"textDecoration","");we.addGetterSetter(Fi,"kerningFunc",void 0);const bZ="tr-konva",Hje=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${bZ}`).join(" "),qz="nodesRect",Uje=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],$je={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},Gje="ontouchstart"in Bt._global;function qje(t,e,n){if(t==="rotater")return n;e+=He.degToRad($je[t]||0);const r=(He.radToDeg(e)%360+360)%360;return He._inRange(r,315+22.5,360)||He._inRange(r,0,22.5)?"ns-resize":He._inRange(r,45-22.5,45+22.5)?"nesw-resize":He._inRange(r,90-22.5,90+22.5)?"ew-resize":He._inRange(r,135-22.5,135+22.5)?"nwse-resize":He._inRange(r,180-22.5,180+22.5)?"ns-resize":He._inRange(r,225-22.5,225+22.5)?"nesw-resize":He._inRange(r,270-22.5,270+22.5)?"ew-resize":He._inRange(r,315-22.5,315+22.5)?"nwse-resize":(He.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}const xC=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function Vje(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function xZ(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),a=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:r,y:a}}function Wje(t,e){const n=Vje(t);return xZ(t,e,n)}function Yje(t,e,n){let r=e;for(let a=0;a<t.length;a++){const i=Bt.getAngle(t[a]),s=Math.abs(i-e)%(Math.PI*2);Math.min(s,Math.PI*2-s)<n&&(r=i)}return r}let _I=0;class or extends ay{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(Hje,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return He.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return bZ+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(a=>a.isAncestorOf(this)?(He.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(a=>{const i=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(a._attrsAffectingSize.length){const s=a._attrsAffectingSize.map(o=>o+"Change."+this._getEventNamespace()).join(" ");a.on(s,i)}a.on(Uje.map(s=>s+`.${this._getEventNamespace()}`).join(" "),i),a.on(`absoluteTransformChange.${this._getEventNamespace()}`,i),this._proxyDrag(a)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const a=e.getAbsolutePosition(),i=a.x-n.x,s=a.y-n.y;this.nodes().forEach(o=>{if(o===e||o.isDragging())return;const l=o.getAbsolutePosition();o.setAbsolutePosition({x:l.x+i,y:l.y+s}),o.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(qz),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(qz,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){const a=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=e.getAbsoluteScale(r),s=e.getAbsolutePosition(r),o=a.x*i.x-e.offsetX()*i.x,l=a.y*i.y-e.offsetY()*i.y,u=(Bt.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),d={x:s.x+o*Math.cos(u)+l*Math.sin(-u),y:s.y+l*Math.cos(u)+o*Math.sin(u),width:a.width*i.x,height:a.height*i.y,rotation:u};return xZ(d,-Bt.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(u=>{const d=u.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),h=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}],m=u.getAbsoluteTransform();h.forEach(function(y){const x=m.point(y);n.push(x)})});const r=new cu;r.rotate(-Bt.getAngle(this.rotation()));let a=1/0,i=1/0,s=-1/0,o=-1/0;n.forEach(function(u){const d=r.point(u);a===void 0&&(a=s=d.x,i=o=d.y),a=Math.min(a,d.x),i=Math.min(i,d.y),s=Math.max(s,d.x),o=Math.max(o,d.y)}),r.invert();const l=r.point({x:a,y:i});return{x:l.x,y:l.y,width:s-a,height:o-i,rotation:Bt.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),xC.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new aS({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:Gje?10:"auto"}),r=this;n.on("mousedown touchstart",function(a){r._handleMouseDown(a)}),n.on("dragstart",a=>{n.stopDrag(),a.cancelBubble=!0}),n.on("dragend",a=>{a.cancelBubble=!0}),n.on("mouseenter",()=>{const a=Bt.getAngle(this.rotation()),i=this.rotateAnchorCursor(),s=qje(e,a,i);n.getStage().content&&(n.getStage().content.style.cursor=s),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new _t({name:"back",width:0,height:0,sceneFunc(n,r){const a=r.getParent(),i=a.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.moveTo(r.width()/2,-i),a.rotateEnabled()&&a.rotateLineVisible()&&n.lineTo(r.width()/2,-a.rotateAnchorOffset()*He._sign(r.height())-i),n.fillStrokeShape(r)},hitFunc:(n,r)=>{if(!this.shouldOverdrawWholeArea())return;const a=this.padding();n.beginPath(),n.rect(-a,-a,r.width()+a*2,r.height()+a*2),n.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),r=n.width,a=n.height,i=Math.sqrt(Math.pow(r,2)+Math.pow(a,2));this.sin=Math.abs(a/i),this.cos=Math.abs(r/i),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const s=e.target.getAbsolutePosition(),o=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-s.x,y:o.y-s.y},_I++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){let n,r,a;const i=this.findOne("."+this._movingAnchorName),s=i.getStage();s.setPointersPositions(e);const o=s.getPointerPosition();let l={x:o.x-this._anchorDragOffset.x,y:o.y-this._anchorDragOffset.y};const u=i.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(u,l,e)),i.setAbsolutePosition(l);const d=i.getAbsolutePosition();if(u.x===d.x&&u.y===d.y)return;if(this._movingAnchorName==="rotater"){const w=this._getNodeRect();n=i.x()-w.width/2,r=-i.y()+w.height/2;let T=Math.atan2(-r,n)+Math.PI/2;w.height<0&&(T-=Math.PI);const k=Bt.getAngle(this.rotation())+T,j=Bt.getAngle(this.rotationSnapTolerance()),z=Yje(this.rotationSnaps(),k,j)-w.rotation,M=Wje(w,z);this._fitNodesInto(M,e);return}const h=this.shiftBehavior();let m;h==="inverted"?m=this.keepRatio()&&!e.shiftKey:h==="none"?m=this.keepRatio():m=this.keepRatio()||e.shiftKey;let y=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(m){const w=y?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};a=Math.sqrt(Math.pow(w.x-i.x(),2)+Math.pow(w.y-i.y(),2));const T=this.findOne(".top-left").x()>w.x?-1:1,E=this.findOne(".top-left").y()>w.y?-1:1;n=a*this.cos*T,r=a*this.sin*E,this.findOne(".top-left").x(w.x-n),this.findOne(".top-left").y(w.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(i.y());else if(this._movingAnchorName==="top-right"){if(m){const w=y?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};a=Math.sqrt(Math.pow(i.x()-w.x,2)+Math.pow(w.y-i.y(),2));const T=this.findOne(".top-right").x()<w.x?-1:1,E=this.findOne(".top-right").y()>w.y?-1:1;n=a*this.cos*T,r=a*this.sin*E,this.findOne(".top-right").x(w.x+n),this.findOne(".top-right").y(w.y-r)}var x=i.position();this.findOne(".top-left").y(x.y),this.findOne(".bottom-right").x(x.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(i.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(i.x());else if(this._movingAnchorName==="bottom-left"){if(m){const w=y?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};a=Math.sqrt(Math.pow(w.x-i.x(),2)+Math.pow(i.y()-w.y,2));const T=w.x<i.x()?-1:1,E=i.y()<w.y?-1:1;n=a*this.cos*T,r=a*this.sin*E,i.x(w.x-n),i.y(w.y+r)}x=i.position(),this.findOne(".top-left").x(x.x),this.findOne(".bottom-right").y(x.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(i.y());else if(this._movingAnchorName==="bottom-right"){if(m){const w=y?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};a=Math.sqrt(Math.pow(i.x()-w.x,2)+Math.pow(i.y()-w.y,2));const T=this.findOne(".bottom-right").x()<w.x?-1:1,E=this.findOne(".bottom-right").y()<w.y?-1:1;n=a*this.cos*T,r=a*this.sin*E,this.findOne(".bottom-right").x(w.x+n),this.findOne(".bottom-right").y(w.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(y=this.centeredScaling()||e.altKey,y){const w=this.findOne(".top-left"),T=this.findOne(".bottom-right"),E=w.x(),k=w.y(),j=this.getWidth()-T.x(),O=this.getHeight()-T.y();T.move({x:-E,y:-k}),w.move({x:j,y:O})}const v=this.findOne(".top-left").getAbsolutePosition();n=v.x,r=v.y;const _=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),C=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:_,height:C,rotation:Bt.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const r=this.getNode();_I--,this._fire("transformend",{evt:e,target:r}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),r&&this._nodes.forEach(a=>{var i;a._fire("transformend",{evt:e,target:a}),(i=a.getLayer())===null||i===void 0||i.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const r=this._getNodeRect(),a=1;if(He._inRange(e.width,-this.padding()*2-a,a)){this.update();return}if(He._inRange(e.height,-this.padding()*2-a,a)){this.update();return}const i=new cu;if(i.rotate(Bt.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const m=i.point({x:-this.padding()*2,y:0});e.x+=m.x,e.y+=m.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const m=i.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const m=i.point({x:0,y:-this.padding()*2});e.x+=m.x,e.y+=m.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const m=i.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const m=this.boundBoxFunc()(r,e);m?e=m:He.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const s=1e7,o=new cu;o.translate(r.x,r.y),o.rotate(r.rotation),o.scale(r.width/s,r.height/s);const l=new cu,u=e.width/s,d=e.height/s;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(u),Math.abs(d))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(u,d));const h=l.multiply(o.invert());this._nodes.forEach(m=>{var y;if(!m.getStage())return;const x=m.getParent().getAbsoluteTransform(),v=m.getTransform().copy();v.translate(m.offsetX(),m.offsetY());const _=new cu;_.multiply(x.copy().invert()).multiply(h).multiply(x).multiply(v);const C=_.decompose();m.setAttrs(C),(y=m.getLayer())===null||y===void 0||y.batchDraw()}),this.rotation(He._getRotation(e.rotation)),this._nodes.forEach(m=>{this._fire("transform",{evt:n,target:m}),m._fire("transform",{evt:n,target:m})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(He._getRotation(n.rotation));const r=n.width,a=n.height,i=this.enabledAnchors(),s=this.resizeEnabled(),o=this.padding(),l=this.anchorSize(),u=this.find("._anchor");u.forEach(h=>{h.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+o,offsetY:l/2+o,visible:s&&i.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+o,visible:s&&i.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-o,offsetY:l/2+o,visible:s&&i.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:a/2,offsetX:l/2+o,visible:s&&i.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:a/2,offsetX:l/2-o,visible:s&&i.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:a,offsetX:l/2+o,offsetY:l/2-o,visible:s&&i.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:a,offsetY:l/2-o,visible:s&&i.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:a,offsetX:l/2-o,offsetY:l/2-o,visible:s&&i.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*He._sign(a)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:a,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(h=>h.draggable()),x:0,y:0});const d=this.anchorStyleFunc();d&&u.forEach(h=>{d(h)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),ay.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Ot.prototype.toObject.call(this)}clone(e){return Ot.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}or.isTransforming=()=>_I>0;function Kje(t){return t instanceof Array||He.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){xC.indexOf(e)===-1&&He.warn("Unknown anchor name: "+e+". Available names are: "+xC.join(", "))}),t||[]}or.prototype.className="Transformer";Ua(or);we.addGetterSetter(or,"enabledAnchors",xC,Kje);we.addGetterSetter(or,"flipEnabled",!0,Tu());we.addGetterSetter(or,"resizeEnabled",!0);we.addGetterSetter(or,"anchorSize",10,Mt());we.addGetterSetter(or,"rotateEnabled",!0);we.addGetterSetter(or,"rotateLineVisible",!0);we.addGetterSetter(or,"rotationSnaps",[]);we.addGetterSetter(or,"rotateAnchorOffset",50,Mt());we.addGetterSetter(or,"rotateAnchorCursor","crosshair");we.addGetterSetter(or,"rotationSnapTolerance",5,Mt());we.addGetterSetter(or,"borderEnabled",!0);we.addGetterSetter(or,"anchorStroke","rgb(0, 161, 255)");we.addGetterSetter(or,"anchorStrokeWidth",1,Mt());we.addGetterSetter(or,"anchorFill","white");we.addGetterSetter(or,"anchorCornerRadius",0,Mt());we.addGetterSetter(or,"borderStroke","rgb(0, 161, 255)");we.addGetterSetter(or,"borderStrokeWidth",1,Mt());we.addGetterSetter(or,"borderDash");we.addGetterSetter(or,"keepRatio",!0);we.addGetterSetter(or,"shiftBehavior","default");we.addGetterSetter(or,"centeredScaling",!1);we.addGetterSetter(or,"ignoreStroke",!1);we.addGetterSetter(or,"padding",0,Mt());we.addGetterSetter(or,"nodes");we.addGetterSetter(or,"node");we.addGetterSetter(or,"boundBoxFunc");we.addGetterSetter(or,"anchorDragBoundFunc");we.addGetterSetter(or,"anchorStyleFunc");we.addGetterSetter(or,"shouldOverdrawWholeArea",!1);we.addGetterSetter(or,"useSingleNodeRotation",!0);we.backCompat(or,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class Yf extends _t{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Bt.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Yf.prototype.className="Wedge";Yf.prototype._centroid=!0;Yf.prototype._attrsAffectingSize=["radius"];Ua(Yf);we.addGetterSetter(Yf,"radius",0,Mt());we.addGetterSetter(Yf,"angle",0,Mt());we.addGetterSetter(Yf,"clockwise",!1);we.backCompat(Yf,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function Vz(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const Xje=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Qje=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function Zje(t,e){const n=t.data,r=t.width,a=t.height;let i,s,o,l,u,d,h,m,y,x,v,_,C,w,T,E,k,j,O,z;const M=e+e+1,N=r-1,U=a-1,F=e+1,$=F*(F+1)/2,D=new Vz,H=Xje[e],L=Qje[e];let V=null,J=D,Q=null,K=null;for(let q=1;q<M;q++)J=J.next=new Vz,q===F&&(V=J);J.next=D,o=s=0;for(let q=0;q<a;q++){_=C=w=T=l=u=d=h=0,m=F*(E=n[s]),y=F*(k=n[s+1]),x=F*(j=n[s+2]),v=F*(O=n[s+3]),l+=$*E,u+=$*k,d+=$*j,h+=$*O,J=D;for(let Z=0;Z<F;Z++)J.r=E,J.g=k,J.b=j,J.a=O,J=J.next;for(let Z=1;Z<F;Z++)i=s+((N<Z?N:Z)<<2),l+=(J.r=E=n[i])*(z=F-Z),u+=(J.g=k=n[i+1])*z,d+=(J.b=j=n[i+2])*z,h+=(J.a=O=n[i+3])*z,_+=E,C+=k,w+=j,T+=O,J=J.next;Q=D,K=V;for(let Z=0;Z<r;Z++)n[s+3]=O=h*H>>L,O!==0?(O=255/O,n[s]=(l*H>>L)*O,n[s+1]=(u*H>>L)*O,n[s+2]=(d*H>>L)*O):n[s]=n[s+1]=n[s+2]=0,l-=m,u-=y,d-=x,h-=v,m-=Q.r,y-=Q.g,x-=Q.b,v-=Q.a,i=o+((i=Z+e+1)<N?i:N)<<2,_+=Q.r=n[i],C+=Q.g=n[i+1],w+=Q.b=n[i+2],T+=Q.a=n[i+3],l+=_,u+=C,d+=w,h+=T,Q=Q.next,m+=E=K.r,y+=k=K.g,x+=j=K.b,v+=O=K.a,_-=E,C-=k,w-=j,T-=O,K=K.next,s+=4;o+=r}for(let q=0;q<r;q++){C=w=T=_=u=d=h=l=0,s=q<<2,m=F*(E=n[s]),y=F*(k=n[s+1]),x=F*(j=n[s+2]),v=F*(O=n[s+3]),l+=$*E,u+=$*k,d+=$*j,h+=$*O,J=D;for(let Y=0;Y<F;Y++)J.r=E,J.g=k,J.b=j,J.a=O,J=J.next;let Z=r;for(let Y=1;Y<=e;Y++)s=Z+q<<2,l+=(J.r=E=n[s])*(z=F-Y),u+=(J.g=k=n[s+1])*z,d+=(J.b=j=n[s+2])*z,h+=(J.a=O=n[s+3])*z,_+=E,C+=k,w+=j,T+=O,J=J.next,Y<U&&(Z+=r);s=q,Q=D,K=V;for(let Y=0;Y<a;Y++)i=s<<2,n[i+3]=O=h*H>>L,O>0?(O=255/O,n[i]=(l*H>>L)*O,n[i+1]=(u*H>>L)*O,n[i+2]=(d*H>>L)*O):n[i]=n[i+1]=n[i+2]=0,l-=m,u-=y,d-=x,h-=v,m-=Q.r,y-=Q.g,x-=Q.b,v-=Q.a,i=q+((i=Y+F)<U?i:U)*r<<2,l+=_+=Q.r=n[i],u+=C+=Q.g=n[i+1],d+=w+=Q.b=n[i+2],h+=T+=Q.a=n[i+3],Q=Q.next,m+=E=K.r,y+=k=K.g,x+=j=K.b,v+=O=K.a,_-=E,C-=k,w-=j,T-=O,K=K.next,s+=r}}const Jje=function(e){const n=Math.round(this.blurRadius());n>0&&Zje(e,n)};we.addGetterSetter(Ot,"blurRadius",0,Mt(),we.afterSetFilter);const eOe=function(t){const e=this.brightness()*255,n=t.data,r=n.length;for(let a=0;a<r;a+=4)n[a]+=e,n[a+1]+=e,n[a+2]+=e};we.addGetterSetter(Ot,"brightness",0,Mt(),we.afterSetFilter);const tOe=function(t){const e=this.brightness(),n=t.data,r=n.length;for(let a=0;a<r;a+=4)n[a]=Math.min(255,n[a]*e),n[a+1]=Math.min(255,n[a+1]*e),n[a+2]=Math.min(255,n[a+2]*e)},nOe=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length;let a=150,i=150,s=150;for(let o=0;o<r;o+=4)a=n[o],i=n[o+1],s=n[o+2],a/=255,a-=.5,a*=e,a+=.5,a*=255,i/=255,i-=.5,i*=e,i+=.5,i*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,a=a<0?0:a>255?255:a,i=i<0?0:i>255?255:i,s=s<0?0:s>255?255:s,n[o]=a,n[o+1]=i,n[o+2]=s};we.addGetterSetter(Ot,"contrast",0,Mt(),we.afterSetFilter);const rOe=function(t){var e,n,r,a,i,s,o,l,u;const d=t.data,h=t.width,m=t.height,y=Math.min(1,Math.max(0,(n=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:.5)),x=Math.min(1,Math.max(0,(a=(r=this.embossWhiteLevel)===null||r===void 0?void 0:r.call(this))!==null&&a!==void 0?a:.5)),_=(o={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(s=(i=this.embossDirection)===null||i===void 0?void 0:i.call(this))!==null&&s!==void 0?s:"top-left"])!==null&&o!==void 0?o:315,C=!!((u=(l=this.embossBlend)===null||l===void 0?void 0:l.call(this))!==null&&u!==void 0&&u),w=y*10,T=x*255,E=_*Math.PI/180,k=Math.cos(E),j=Math.sin(E),O=128/1020*w,z=new Uint8ClampedArray(d),M=new Float32Array(h*m);for(let D=0,H=0;H<d.length;H+=4,D++)M[D]=.2126*z[H]+.7152*z[H+1]+.0722*z[H+2];const N=[-1,0,1,-2,0,2,-1,0,1],U=[-1,-2,-1,0,0,0,1,2,1],F=[-h-1,-h,-h+1,-1,0,1,h-1,h,h+1],$=D=>D<0?0:D>255?255:D;for(let D=1;D<m-1;D++)for(let H=1;H<h-1;H++){const L=D*h+H;let V=0,J=0;V+=M[L+F[0]]*N[0],J+=M[L+F[0]]*U[0],V+=M[L+F[1]]*N[1],J+=M[L+F[1]]*U[1],V+=M[L+F[2]]*N[2],J+=M[L+F[2]]*U[2],V+=M[L+F[3]]*N[3],J+=M[L+F[3]]*U[3],V+=M[L+F[5]]*N[5],J+=M[L+F[5]]*U[5],V+=M[L+F[6]]*N[6],J+=M[L+F[6]]*U[6],V+=M[L+F[7]]*N[7],J+=M[L+F[7]]*U[7],V+=M[L+F[8]]*N[8],J+=M[L+F[8]]*U[8];const Q=k*V+j*J,K=$(T+Q*O),q=L*4;if(C){const Z=K-T;d[q]=$(z[q]+Z),d[q+1]=$(z[q+1]+Z),d[q+2]=$(z[q+2]+Z),d[q+3]=z[q+3]}else d[q]=d[q+1]=d[q+2]=K,d[q+3]=z[q+3]}for(let D=0;D<h;D++){let H=D*4,L=((m-1)*h+D)*4;d[H]=z[H],d[H+1]=z[H+1],d[H+2]=z[H+2],d[H+3]=z[H+3],d[L]=z[L],d[L+1]=z[L+1],d[L+2]=z[L+2],d[L+3]=z[L+3]}for(let D=1;D<m-1;D++){let H=D*h*4,L=(D*h+(h-1))*4;d[H]=z[H],d[H+1]=z[H+1],d[H+2]=z[H+2],d[H+3]=z[H+3],d[L]=z[L],d[L+1]=z[L+1],d[L+2]=z[L+2],d[L+3]=z[L+3]}return t};we.addGetterSetter(Ot,"embossStrength",.5,Mt(),we.afterSetFilter);we.addGetterSetter(Ot,"embossWhiteLevel",.5,Mt(),we.afterSetFilter);we.addGetterSetter(Ot,"embossDirection","top-left",void 0,we.afterSetFilter);we.addGetterSetter(Ot,"embossBlend",!1,void 0,we.afterSetFilter);function TT(t,e,n,r,a){const i=n-e,s=a-r;if(i===0)return r+s/2;if(s===0)return r;let o=(t-e)/i;return o=s*o+r,o}const aOe=function(t){const e=t.data,n=e.length;let r=e[0],a=r,i,s=e[1],o=s,l,u=e[2],d=u,h;const m=this.enhance();if(m===0)return;for(let T=0;T<n;T+=4)i=e[T+0],i<r?r=i:i>a&&(a=i),l=e[T+1],l<s?s=l:l>o&&(o=l),h=e[T+2],h<u?u=h:h>d&&(d=h);a===r&&(a=255,r=0),o===s&&(o=255,s=0),d===u&&(d=255,u=0);let y,x,v,_,C,w;if(m>0)y=a+m*(255-a),x=r-m*(r-0),v=o+m*(255-o),_=s-m*(s-0),C=d+m*(255-d),w=u-m*(u-0);else{const T=(a+r)*.5;y=a+m*(a-T),x=r+m*(r-T);const E=(o+s)*.5;v=o+m*(o-E),_=s+m*(s-E);const k=(d+u)*.5;C=d+m*(d-k),w=u+m*(u-k)}for(let T=0;T<n;T+=4)e[T+0]=TT(e[T+0],r,a,x,y),e[T+1]=TT(e[T+1],s,o,_,v),e[T+2]=TT(e[T+2],u,d,w,C)};we.addGetterSetter(Ot,"enhance",0,Mt(),we.afterSetFilter);const iOe=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const a=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=a,e[r+1]=a,e[r+2]=a}};we.addGetterSetter(Ot,"hue",0,Mt(),we.afterSetFilter);we.addGetterSetter(Ot,"saturation",0,Mt(),we.afterSetFilter);we.addGetterSetter(Ot,"luminance",0,Mt(),we.afterSetFilter);const sOe=function(t){const e=t.data,n=e.length,r=1,a=Math.pow(2,this.saturation()),i=Math.abs(this.hue()+360)%360,s=this.luminance()*127,o=r*a*Math.cos(i*Math.PI/180),l=r*a*Math.sin(i*Math.PI/180),u=.299*r+.701*o+.167*l,d=.587*r-.587*o+.33*l,h=.114*r-.114*o-.497*l,m=.299*r-.299*o-.328*l,y=.587*r+.413*o+.035*l,x=.114*r-.114*o+.293*l,v=.299*r-.3*o+1.25*l,_=.587*r-.586*o-1.05*l,C=.114*r+.886*o-.2*l;let w,T,E,k;for(let j=0;j<n;j+=4)w=e[j+0],T=e[j+1],E=e[j+2],k=e[j+3],e[j+0]=u*w+d*T+h*E+s,e[j+1]=m*w+y*T+x*E+s,e[j+2]=v*w+_*T+C*E+s,e[j+3]=k},oOe=function(t){const e=t.data,n=e.length,r=Math.pow(2,this.value()),a=Math.pow(2,this.saturation()),i=Math.abs(this.hue()+360)%360,s=r*a*Math.cos(i*Math.PI/180),o=r*a*Math.sin(i*Math.PI/180),l=.299*r+.701*s+.167*o,u=.587*r-.587*s+.33*o,d=.114*r-.114*s-.497*o,h=.299*r-.299*s-.328*o,m=.587*r+.413*s+.035*o,y=.114*r-.114*s+.293*o,x=.299*r-.3*s+1.25*o,v=.587*r-.586*s-1.05*o,_=.114*r+.886*s-.2*o;for(let C=0;C<n;C+=4){const w=e[C+0],T=e[C+1],E=e[C+2],k=e[C+3];e[C+0]=l*w+u*T+d*E,e[C+1]=h*w+m*T+y*E,e[C+2]=x*w+v*T+_*E,e[C+3]=k}};we.addGetterSetter(Ot,"hue",0,Mt(),we.afterSetFilter);we.addGetterSetter(Ot,"saturation",0,Mt(),we.afterSetFilter);we.addGetterSetter(Ot,"value",0,Mt(),we.afterSetFilter);const lOe=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]},cOe=function(t,e,n){const r=t.data,a=e.data,i=t.width,s=t.height,o=n.polarCenterX||i/2,l=n.polarCenterY||s/2;let u=Math.sqrt(o*o+l*l),d=i-o,h=s-l;const m=Math.sqrt(d*d+h*h);u=m>u?m:u;const y=s,x=i,v=360/x*Math.PI/180;for(let _=0;_<x;_+=1){const C=Math.sin(_*v),w=Math.cos(_*v);for(let T=0;T<y;T+=1){d=Math.floor(o+u*T/y*w),h=Math.floor(l+u*T/y*C);let E=(h*i+d)*4;const k=r[E+0],j=r[E+1],O=r[E+2],z=r[E+3];E=(_+T*i)*4,a[E+0]=k,a[E+1]=j,a[E+2]=O,a[E+3]=z}}},uOe=function(t,e,n){const r=t.data,a=e.data,i=t.width,s=t.height,o=n.polarCenterX||i/2,l=n.polarCenterY||s/2;let u=Math.sqrt(o*o+l*l),d=i-o,h=s-l;const m=Math.sqrt(d*d+h*h);u=m>u?m:u;const y=s,x=i,v=0;let _,C;for(d=0;d<i;d+=1)for(h=0;h<s;h+=1){const w=d-o,T=h-l,E=Math.sqrt(w*w+T*T)*y/u;let k=(Math.atan2(T,w)*180/Math.PI+360+v)%360;k=k*x/360,_=Math.floor(k),C=Math.floor(E);let j=(C*i+_)*4;const O=r[j+0],z=r[j+1],M=r[j+2],N=r[j+3];j=(h*i+d)*4,a[j+0]=O,a[j+1]=z,a[j+2]=M,a[j+3]=N}},dOe=function(t){const e=t.width,n=t.height;let r,a,i,s,o,l,u,d,h,m,y=Math.round(this.kaleidoscopePower());const x=Math.round(this.kaleidoscopeAngle()),v=Math.floor(e*(x%360)/360);if(y<1)return;const _=He.createCanvasElement();_.width=e,_.height=n;const C=_.getContext("2d").getImageData(0,0,e,n);He.releaseCanvas(_),cOe(t,C,{polarCenterX:e/2,polarCenterY:n/2});let w=e/Math.pow(2,y);for(;w<=8;)w=w*2,y-=1;w=Math.ceil(w);let T=w,E=0,k=T,j=1;for(v+w>e&&(E=T,k=0,j=-1),a=0;a<n;a+=1)for(r=E;r!==k;r+=j)i=Math.round(r+v)%e,h=(e*a+i)*4,o=C.data[h+0],l=C.data[h+1],u=C.data[h+2],d=C.data[h+3],m=(e*a+r)*4,C.data[m+0]=o,C.data[m+1]=l,C.data[m+2]=u,C.data[m+3]=d;for(a=0;a<n;a+=1)for(T=Math.floor(w),s=0;s<y;s+=1){for(r=0;r<T+1;r+=1)h=(e*a+r)*4,o=C.data[h+0],l=C.data[h+1],u=C.data[h+2],d=C.data[h+3],m=(e*a+T*2-r-1)*4,C.data[m+0]=o,C.data[m+1]=l,C.data[m+2]=u,C.data[m+3]=d;T*=2}uOe(C,t,{})};we.addGetterSetter(Ot,"kaleidoscopePower",2,Mt(),we.afterSetFilter);we.addGetterSetter(Ot,"kaleidoscopeAngle",0,Mt(),we.afterSetFilter);function U_(t,e,n){let r=(n*t.width+e)*4;const a=[];return a.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),a}function Dx(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function fOe(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function hOe(t,e){const n=U_(t,0,0),r=U_(t,t.width-1,0),a=U_(t,0,t.height-1),i=U_(t,t.width-1,t.height-1),s=e||10;if(Dx(n,r)<s&&Dx(r,i)<s&&Dx(i,a)<s&&Dx(a,n)<s){const o=fOe([r,n,i,a]),l=[];for(let u=0;u<t.width*t.height;u++){const d=Dx(o,[t.data[u*4],t.data[u*4+1],t.data[u*4+2]]);l[u]=d<s?0:255}return l}}function pOe(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function mOe(t,e,n){const r=[1,1,1,1,0,1,1,1,1],a=Math.round(Math.sqrt(r.length)),i=Math.floor(a/2),s=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const u=o*e+l;let d=0;for(let h=0;h<a;h++)for(let m=0;m<a;m++){const y=o+h-i,x=l+m-i;if(y>=0&&y<n&&x>=0&&x<e){const v=y*e+x,_=r[h*a+m];d+=t[v]*_}}s[u]=d===2040?255:0}return s}function gOe(t,e,n){const r=[1,1,1,1,1,1,1,1,1],a=Math.round(Math.sqrt(r.length)),i=Math.floor(a/2),s=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const u=o*e+l;let d=0;for(let h=0;h<a;h++)for(let m=0;m<a;m++){const y=o+h-i,x=l+m-i;if(y>=0&&y<n&&x>=0&&x<e){const v=y*e+x,_=r[h*a+m];d+=t[v]*_}}s[u]=d>=1020?255:0}return s}function yOe(t,e,n){const r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],a=Math.round(Math.sqrt(r.length)),i=Math.floor(a/2),s=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const u=o*e+l;let d=0;for(let h=0;h<a;h++)for(let m=0;m<a;m++){const y=o+h-i,x=l+m-i;if(y>=0&&y<n&&x>=0&&x<e){const v=y*e+x,_=r[h*a+m];d+=t[v]*_}}s[u]=d}return s}const bOe=function(t){const e=this.threshold();let n=hOe(t,e);return n&&(n=mOe(n,t.width,t.height),n=gOe(n,t.width,t.height),n=yOe(n,t.width,t.height),pOe(t,n)),t};we.addGetterSetter(Ot,"threshold",0,Mt(),we.afterSetFilter);const xOe=function(t){const e=this.noise()*255,n=t.data,r=n.length,a=e/2;for(let i=0;i<r;i+=4)n[i+0]+=a-2*a*Math.random(),n[i+1]+=a-2*a*Math.random(),n[i+2]+=a-2*a*Math.random()};we.addGetterSetter(Ot,"noise",.2,Mt(),we.afterSetFilter);const vOe=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,a=Math.ceil(n/e),i=Math.ceil(r/e),s=t.data;if(e<=0){He.error("pixelSize value can not be <= 0");return}for(let o=0;o<a;o+=1)for(let l=0;l<i;l+=1){let u=0,d=0,h=0,m=0;const y=o*e,x=y+e,v=l*e,_=v+e;let C=0;for(let w=y;w<x;w+=1)if(!(w>=n))for(let T=v;T<_;T+=1){if(T>=r)continue;const E=(n*T+w)*4;u+=s[E+0],d+=s[E+1],h+=s[E+2],m+=s[E+3],C+=1}u=u/C,d=d/C,h=h/C,m=m/C;for(let w=y;w<x;w+=1)if(!(w>=n))for(let T=v;T<_;T+=1){if(T>=r)continue;const E=(n*T+w)*4;s[E+0]=u,s[E+1]=d,s[E+2]=h,s[E+3]=m}}};we.addGetterSetter(Ot,"pixelSize",8,Mt(),we.afterSetFilter);const SOe=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,a=255/e;for(let i=0;i<r;i+=1)n[i]=Math.floor(n[i]/a)*a};we.addGetterSetter(Ot,"levels",.5,Mt(),we.afterSetFilter);const _Oe=function(t){const e=t.data,n=e.length,r=this.red(),a=this.green(),i=this.blue();for(let s=0;s<n;s+=4){const o=(.34*e[s]+.5*e[s+1]+.16*e[s+2])/255;e[s]=o*r,e[s+1]=o*a,e[s+2]=o*i,e[s+3]=e[s+3]}};we.addGetterSetter(Ot,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});we.addGetterSetter(Ot,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});we.addGetterSetter(Ot,"blue",0,UQ,we.afterSetFilter);const COe=function(t){const e=t.data,n=e.length,r=this.red(),a=this.green(),i=this.blue(),s=this.alpha();for(let o=0;o<n;o+=4){const l=1-s;e[o]=r*s+e[o]*l,e[o+1]=a*s+e[o+1]*l,e[o+2]=i*s+e[o+2]*l}};we.addGetterSetter(Ot,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});we.addGetterSetter(Ot,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});we.addGetterSetter(Ot,"blue",0,UQ,we.afterSetFilter);we.addGetterSetter(Ot,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const wOe=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const a=e[r+0],i=e[r+1],s=e[r+2];e[r+0]=Math.min(255,a*.393+i*.769+s*.189),e[r+1]=Math.min(255,a*.349+i*.686+s*.168),e[r+2]=Math.min(255,a*.272+i*.534+s*.131)}},EOe=function(t){const n=t.data;for(let r=0;r<n.length;r+=4){const a=n[r],i=n[r+1],s=n[r+2];.2126*a+.7152*i+.0722*s>=128&&(n[r]=255-a,n[r+1]=255-i,n[r+2]=255-s)}return t},TOe=function(t){const e=this.threshold()*255,n=t.data,r=n.length;for(let a=0;a<r;a+=1)n[a]=n[a]<e?0:255};we.addGetterSetter(Ot,"threshold",.5,Mt(),we.afterSetFilter);iy.Util._assign(iy,{Arc:Vf,Arrow:Ng,Circle:ky,Ellipse:Pp,Image:Au,Label:VO,Tag:Mg,Line:Wf,Path:ra,Rect:aS,RegularPolygon:Lp,Ring:Pg,Sprite:Ld,Star:zp,Text:xa,TextPath:Fi,Transformer:or,Wedge:Yf,Filters:{Blur:Jje,Brightness:tOe,Brighten:eOe,Contrast:nOe,Emboss:rOe,Enhance:aOe,Grayscale:iOe,HSL:sOe,HSV:oOe,Invert:lOe,Kaleidoscope:dOe,Mask:bOe,Noise:xOe,Pixelate:vOe,Posterize:SOe,RGB:_Oe,RGBA:COe,Sepia:wOe,Solarize:EOe,Threshold:TOe}});var AT={exports:{}},RT={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wz;function AOe(){return Wz||(Wz=1,(function(t){t.exports=function(e){function n(g,b,I,P){return new gb(g,b,I,P)}function r(){}function a(g){var b="https://react.dev/errors/"+g;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var I=2;I<arguments.length;I++)b+="&args[]="+encodeURIComponent(arguments[I])}return"Minified React error #"+g+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(g){var b=g,I=g;if(g.alternate)for(;b.return;)b=b.return;else{g=b;do b=g,(b.flags&4098)!==0&&(I=b.return),g=b.return;while(g)}return b.tag===3?I:null}function s(g){if(i(g)!==g)throw Error(a(188))}function o(g){var b=g.alternate;if(!b){if(b=i(g),b===null)throw Error(a(188));return b!==g?null:g}for(var I=g,P=b;;){var X=I.return;if(X===null)break;var te=X.alternate;if(te===null){if(P=X.return,P!==null){I=P;continue}break}if(X.child===te.child){for(te=X.child;te;){if(te===I)return s(X),g;if(te===P)return s(X),b;te=te.sibling}throw Error(a(188))}if(I.return!==P.return)I=X,P=te;else{for(var ue=!1,Re=X.child;Re;){if(Re===I){ue=!0,I=X,P=te;break}if(Re===P){ue=!0,P=X,I=te;break}Re=Re.sibling}if(!ue){for(Re=te.child;Re;){if(Re===I){ue=!0,I=te,P=X;break}if(Re===P){ue=!0,P=te,I=X;break}Re=Re.sibling}if(!ue)throw Error(a(189))}}if(I.alternate!==P)throw Error(a(190))}if(I.tag!==3)throw Error(a(188));return I.stateNode.current===I?g:b}function l(g){var b=g.tag;if(b===5||b===26||b===27||b===6)return g;for(g=g.child;g!==null;){if(b=l(g),b!==null)return b;g=g.sibling}return null}function u(g){var b=g.tag;if(b===5||b===26||b===27||b===6)return g;for(g=g.child;g!==null;){if(g.tag!==4&&(b=u(g),b!==null))return b;g=g.sibling}return null}function d(g){return g===null||typeof g!="object"?null:(g=Qc&&g[Qc]||g["@@iterator"],typeof g=="function"?g:null)}function h(g){if(g==null)return null;if(typeof g=="function")return g.$$typeof===Gu?null:g.displayName||g.name||null;if(typeof g=="string")return g;switch(g){case ef:return"Fragment";case nf:return"Profiler";case tf:return"StrictMode";case y0:return"Suspense";case Xc:return"SuspenseList";case im:return"Activity"}if(typeof g=="object")switch(g.$$typeof){case Jd:return"Portal";case Oo:return g.displayName||"Context";case am:return(g._context.displayName||"Context")+".Consumer";case ph:var b=g.render;return g=g.displayName,g||(g=b.displayName||b.name||"",g=g!==""?"ForwardRef("+g+")":"ForwardRef"),g;case b0:return b=g.displayName||null,b!==null?b:h(g.type)||"Memo";case ds:b=g._payload,g=g._init;try{return h(g(b))}catch{}}return null}function m(g){return{current:g}}function y(g){0>lf||(g.current=j0[lf],j0[lf]=null,lf--)}function x(g,b){lf++,j0[lf]=g.current,g.current=b}function v(g){return g>>>=0,g===0?32:31-(O0(g)/U3|0)|0}function _(g){var b=g&42;if(b!==0)return b;switch(g&-g){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return g&261888;case 262144:case 524288:case 1048576:case 2097152:return g&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return g&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return g}}function C(g,b,I){var P=g.pendingLanes;if(P===0)return 0;var X=0,te=g.suspendedLanes,ue=g.pingedLanes;g=g.warmLanes;var Re=P&134217727;return Re!==0?(P=Re&~te,P!==0?X=_(P):(ue&=Re,ue!==0?X=_(ue):I||(I=Re&~g,I!==0&&(X=_(I))))):(Re=P&~te,Re!==0?X=_(Re):ue!==0?X=_(ue):I||(I=P&~g,I!==0&&(X=_(I)))),X===0?0:b!==0&&b!==X&&(b&te)===0&&(te=X&-X,I=b&-b,te>=I||te===32&&(I&4194048)!==0)?b:X}function w(g,b){return(g.pendingLanes&~(g.suspendedLanes&~g.pingedLanes)&b)===0}function T(g,b){switch(g){case 1:case 2:case 4:case 8:case 64:return b+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E(){var g=Sh;return Sh<<=1,(Sh&62914560)===0&&(Sh=4194304),g}function k(g){for(var b=[],I=0;31>I;I++)b.push(g);return b}function j(g,b){g.pendingLanes|=b,b!==268435456&&(g.suspendedLanes=0,g.pingedLanes=0,g.warmLanes=0)}function O(g,b,I,P,X,te){var ue=g.pendingLanes;g.pendingLanes=I,g.suspendedLanes=0,g.pingedLanes=0,g.warmLanes=0,g.expiredLanes&=I,g.entangledLanes&=I,g.errorRecoveryDisabledLanes&=I,g.shellSuspendCounter=0;var Re=g.entanglements,tt=g.expirationTimes,yt=g.hiddenUpdates;for(I=ue&~I;0<I;){var jt=31-Ls(I),St=1<<jt;Re[jt]=0,tt[jt]=-1;var Vt=yt[jt];if(Vt!==null)for(yt[jt]=null,jt=0;jt<Vt.length;jt++){var En=Vt[jt];En!==null&&(En.lane&=-536870913)}I&=~St}P!==0&&z(g,P,0),te!==0&&X===0&&g.tag!==0&&(g.suspendedLanes|=te&~(ue&~b))}function z(g,b,I){g.pendingLanes|=b,g.suspendedLanes&=~b;var P=31-Ls(b);g.entangledLanes|=b,g.entanglements[P]=g.entanglements[P]|1073741824|I&261930}function M(g,b){var I=g.entangledLanes|=b;for(g=g.entanglements;I;){var P=31-Ls(I),X=1<<P;X&b|g[P]&b&&(g[P]|=b),I&=~X}}function N(g,b){var I=b&-b;return I=(I&42)!==0?1:U(I),(I&(g.suspendedLanes|b))!==0?0:I}function U(g){switch(g){case 2:g=1;break;case 8:g=4;break;case 32:g=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:g=128;break;case 268435456:g=134217728;break;default:g=0}return g}function F(g){return g&=-g,2<g?8<g?(g&134217727)!==0?32:268435456:8:2}function $(g){if(typeof tx=="function"&&q3(g),zs&&typeof zs.setStrictMode=="function")try{zs.setStrictMode(uf,g)}catch{}}function D(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}function H(g){if(z0===void 0)try{throw Error()}catch(I){var b=I.stack.trim().match(/\n( *(at )?)/);z0=b&&b[1]||"",tc=-1<I.stack.indexOf(`
    at`)?" (<anonymous>)":-1<I.stack.indexOf("@")?"@unknown:0:0":""}return`
`+z0+g+tc}function L(g,b){if(!g||pm)return"";pm=!0;var I=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var P={DetermineComponentFrameRoot:function(){try{if(b){var St=function(){throw Error()};if(Object.defineProperty(St.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(St,[])}catch(En){var Vt=En}Reflect.construct(g,[],St)}else{try{St.call()}catch(En){Vt=En}g.call(St.prototype)}}else{try{throw Error()}catch(En){Vt=En}(St=g())&&typeof St.catch=="function"&&St.catch(function(){})}}catch(En){if(En&&Vt&&typeof En.stack=="string")return[En.stack,Vt.stack]}return[null,null]}};P.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var X=Object.getOwnPropertyDescriptor(P.DetermineComponentFrameRoot,"name");X&&X.configurable&&Object.defineProperty(P.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var te=P.DetermineComponentFrameRoot(),ue=te[0],Re=te[1];if(ue&&Re){var tt=ue.split(`
`),yt=Re.split(`
`);for(X=P=0;P<tt.length&&!tt[P].includes("DetermineComponentFrameRoot");)P++;for(;X<yt.length&&!yt[X].includes("DetermineComponentFrameRoot");)X++;if(P===tt.length||X===yt.length)for(P=tt.length-1,X=yt.length-1;1<=P&&0<=X&&tt[P]!==yt[X];)X--;for(;1<=P&&0<=X;P--,X--)if(tt[P]!==yt[X]){if(P!==1||X!==1)do if(P--,X--,0>X||tt[P]!==yt[X]){var jt=`
`+tt[P].replace(" at new "," at ");return g.displayName&&jt.includes("<anonymous>")&&(jt=jt.replace("<anonymous>",g.displayName)),jt}while(1<=P&&0<=X);break}}}finally{pm=!1,Error.prepareStackTrace=I}return(I=g?g.displayName||g.name:"")?H(I):""}function V(g,b){switch(g.tag){case 26:case 27:case 5:return H(g.type);case 16:return H("Lazy");case 13:return g.child!==b&&b!==null?H("Suspense Fallback"):H("Suspense");case 19:return H("SuspenseList");case 0:case 15:return L(g.type,!1);case 11:return L(g.type.render,!1);case 1:return L(g.type,!0);case 31:return H("Activity");default:return""}}function J(g){try{var b="",I=null;do b+=V(g,I),I=g,g=g.return;while(g);return b}catch(P){return`
Error generating stack: `+P.message+`
`+P.stack}}function Q(g,b){if(typeof g=="object"&&g!==null){var I=nx.get(g);return I!==void 0?I:(b={value:g,source:b,stack:J(b)},nx.set(g,b),b)}return{value:g,source:b,stack:J(b)}}function K(g,b){eu[nc++]=mm,eu[nc++]=Dr,Dr=g,mm=b}function q(g,b,I){Mo[io++]=Di,Mo[io++]=xl,Mo[io++]=Po,Po=g;var P=Di;g=xl;var X=32-Ls(P)-1;P&=~(1<<X),I+=1;var te=32-Ls(b)+X;if(30<te){var ue=X-X%5;te=(P&(1<<ue)-1).toString(32),P>>=ue,X-=ue,Di=1<<32-Ls(b)+X|I<<X|P,xl=te+g}else Di=1<<te|I<<X|P,xl=g}function Z(g){g.return!==null&&(K(g,1),q(g,1,0))}function Y(g){for(;g===Dr;)Dr=eu[--nc],eu[nc]=null,mm=eu[--nc],eu[nc]=null;for(;g===Po;)Po=Mo[--io],Mo[io]=null,xl=Mo[--io],Mo[io]=null,Di=Mo[--io],Mo[io]=null}function ne(g,b){Mo[io++]=Di,Mo[io++]=xl,Mo[io++]=Po,Di=b.id,xl=b.overflow,Po=g}function re(g,b){x(Ni,b),x(tu,g),x(mi,null),g=a3(b),y(mi),x(mi,g)}function ie(){y(mi),y(tu),y(Ni)}function ce(g){g.memoizedState!==null&&x(gm,g);var b=mi.current,I=yh(b,g.type);b!==I&&(x(tu,g),x(mi,I))}function he(g){tu.current===g&&(y(mi),y(tu)),gm.current===g&&(y(gm),Na?sf._currentValue=af:sf._currentValue2=af)}function me(g){var b=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw oe(Q(b,g)),F0}function le(g,b){if(!Qr)throw Error(a(175));I3(g.stateNode,g.type,g.memoizedProps,b,g)||me(g,!0)}function de(g){for(ni=g.return;ni;)switch(ni.tag){case 5:case 31:case 13:hs=!1;return;case 27:case 3:hs=!0;return;default:ni=ni.return}}function pe(g){if(!Qr||g!==ni)return!1;if(!Gn)return de(g),Gn=!0,!1;var b=g.tag;if(ti?b!==3&&b!==27&&(b!==5||vh(g.type)&&!fs(g.type,g.memoizedProps))&&Zr&&me(g):b!==3&&(b!==5||vh(g.type)&&!fs(g.type,g.memoizedProps))&&Zr&&me(g),de(g),b===13){if(!Qr)throw Error(a(316));if(g=g.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));Zr=Gb(g)}else if(b===31){if(g=g.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));Zr=O3(g)}else Zr=ti&&b===27?_3(g.type,Zr):ni?S3(g.stateNode):null;return!0}function ve(){Qr&&(Zr=ni=null,Gn=!1)}function ge(){var g=rc;return g!==null&&(Bs===null?Bs=g:Bs.push.apply(Bs,g),rc=null),g}function oe(g){rc===null?rc=[g]:rc.push(g)}function Se(g,b,I){Na?(x(Lo,b._currentValue),b._currentValue=I):(x(Lo,b._currentValue2),b._currentValue2=I)}function be(g){var b=Lo.current;Na?g._currentValue=b:g._currentValue2=b,y(Lo)}function Ae(g,b,I){for(;g!==null;){var P=g.alternate;if((g.childLanes&b)!==b?(g.childLanes|=b,P!==null&&(P.childLanes|=b)):P!==null&&(P.childLanes&b)!==b&&(P.childLanes|=b),g===I)break;g=g.return}}function Me(g,b,I,P){var X=g.child;for(X!==null&&(X.return=g);X!==null;){var te=X.dependencies;if(te!==null){var ue=X.child;te=te.firstContext;e:for(;te!==null;){var Re=te;te=X;for(var tt=0;tt<b.length;tt++)if(Re.context===b[tt]){te.lanes|=I,Re=te.alternate,Re!==null&&(Re.lanes|=I),Ae(te.return,I,g),P||(ue=null);break e}te=Re.next}}else if(X.tag===18){if(ue=X.return,ue===null)throw Error(a(341));ue.lanes|=I,te=ue.alternate,te!==null&&(te.lanes|=I),Ae(ue,I,g),ue=null}else ue=X.child;if(ue!==null)ue.return=X;else for(ue=X;ue!==null;){if(ue===g){ue=null;break}if(X=ue.sibling,X!==null){X.return=ue.return,ue=X;break}ue=ue.return}X=ue}}function Pe(g,b,I,P){g=null;for(var X=b,te=!1;X!==null;){if(!te){if((X.flags&524288)!==0)te=!0;else if((X.flags&262144)!==0)break}if(X.tag===10){var ue=X.alternate;if(ue===null)throw Error(a(387));if(ue=ue.memoizedProps,ue!==null){var Re=X.type;Pa(X.pendingProps.value,ue.value)||(g!==null?g.push(Re):g=[Re])}}else if(X===gm.current){if(ue=X.alternate,ue===null)throw Error(a(387));ue.memoizedState.memoizedState!==X.memoizedState.memoizedState&&(g!==null?g.push(sf):g=[sf])}X=X.return}g!==null&&Me(b,g,I,P),b.flags|=262144}function Le(g){for(g=g.firstContext;g!==null;){var b=g.context;if(!Pa(Na?b._currentValue:b._currentValue2,g.memoizedValue))return!0;g=g.next}return!1}function Oe(g){Ur=g,vl=null,g=g.dependencies,g!==null&&(g.firstContext=null)}function Xe(g){return Ie(Ur,g)}function ke(g,b){return Ur===null&&Oe(g),Ie(g,b)}function Ie(g,b){var I=Na?b._currentValue:b._currentValue2;if(b={context:b,memoizedValue:I,next:null},vl===null){if(g===null)throw Error(a(308));vl=b,g.dependencies={lanes:0,firstContext:b},g.flags|=524288}else vl=vl.next=b;return I}function ye(){return{controller:new V3,data:new Map,refCount:0}}function Ce(g){g.refCount--,g.refCount===0&&gi(sE,function(){g.controller.abort()})}function Ne(){}function Be(g){g!==_r&&g.next===null&&(_r===null?ym=_r=g:_r=_r.next=g),zo=!0,Vi||(Vi=!0,dt())}function Ke(g,b){if(!B0&&zo){B0=!0;do for(var I=!1,P=ym;P!==null;){if(g!==0){var X=P.pendingLanes;if(X===0)var te=0;else{var ue=P.suspendedLanes,Re=P.pingedLanes;te=(1<<31-Ls(42|g)+1)-1,te&=X&~(ue&~Re),te=te&201326741?te&201326741|1:te?te|2:0}te!==0&&(I=!0,nt(P,te))}else te=qn,te=C(P,P===Pn?te:0,P.cancelPendingCommit!==null||P.timeoutHandle!==Ps),(te&3)===0||w(P,te)||(I=!0,nt(P,te));P=P.next}while(I);B0=!1}}function Je(){Ge()}function Ge(){zo=Vi=!1;var g=0;Ku!==0&&rf()&&(g=Ku);for(var b=qi(),I=null,P=ym;P!==null;){var X=P.next,te=it(P,b);te===0?(P.next=null,I===null?ym=X:I.next=X,X===null&&(_r=I)):(I=P,(g!==0||(te&3)!==0)&&(zo=!0)),P=X}Wa!==0&&Wa!==5||Ke(g),Ku!==0&&(Ku=0)}function it(g,b){for(var I=g.suspendedLanes,P=g.pingedLanes,X=g.expirationTimes,te=g.pendingLanes&-62914561;0<te;){var ue=31-Ls(te),Re=1<<ue,tt=X[ue];tt===-1?((Re&I)===0||(Re&P)!==0)&&(X[ue]=T(Re,b)):tt<=b&&(g.expiredLanes|=Re),te&=~Re}if(b=Pn,I=qn,I=C(g,g===b?I:0,g.cancelPendingCommit!==null||g.timeoutHandle!==Ps),P=g.callbackNode,I===0||g===b&&(wr===2||wr===9)||g.cancelPendingCommit!==null)return P!==null&&P!==null&&N0(P),g.callbackNode=null,g.callbackPriority=0;if((I&3)===0||w(g,I)){if(b=I&-I,b===g.callbackPriority)return b;switch(P!==null&&N0(P),F(I)){case 2:case 8:I=G3;break;case 32:I=hm;break;case 268435456:I=P0;break;default:I=hm}return P=ct.bind(null,g),I=fm(I,P),g.callbackPriority=b,g.callbackNode=I,b}return P!==null&&P!==null&&N0(P),g.callbackPriority=2,g.callbackNode=null,2}function ct(g,b){if(Wa!==0&&Wa!==5)return g.callbackNode=null,g.callbackPriority=0,null;var I=g.callbackNode;if(Zl()&&g.callbackNode!==I)return null;var P=qn;return P=C(g,g===Pn?P:0,g.cancelPendingCommit!==null||g.timeoutHandle!==Ps),P===0?null:(bl(g,P,b),it(g,qi()),g.callbackNode!=null&&g.callbackNode===I?ct.bind(null,g):null)}function nt(g,b){if(Zl())return null;bl(g,b,!0)}function dt(){Rb?kb(function(){(Hn&6)!==0?fm(M0,Je):Ge()}):fm(M0,Je)}function $t(){if(Ku===0){var g=nu;g===0&&(g=D0,D0<<=1,(D0&261888)===0&&(D0=256)),Ku=g}return Ku}function Wt(g,b){if(_h===null){var I=_h=[];rx=0,nu=$t(),ri={status:"pending",value:void 0,then:function(P){I.push(P)}}}return rx++,b.then(sn,sn),b}function sn(){if(--rx===0&&_h!==null){ri!==null&&(ri.status="fulfilled");var g=_h;_h=null,nu=0,ri=null;for(var b=0;b<g.length;b++)(0,g[b])()}}function xn(g,b){var I=[],P={status:"pending",value:null,reason:null,then:function(X){I.push(X)}};return g.then(function(){P.status="fulfilled",P.value=b;for(var X=0;X<I.length;X++)(0,I[X])(b)},function(X){for(P.status="rejected",P.reason=X,X=0;X<I.length;X++)(0,I[X])(void 0)}),P}function In(){var g=Xu.current;return g!==null?g:Pn.pooledCache}function Gt(g,b){b===null?x(Xu,Xu.current):x(Xu,b.pool)}function xt(){var g=In();return g===null?null:{parent:Na?Jr._currentValue:Jr._currentValue2,pool:g}}function Zt(g,b){if(Pa(g,b))return!0;if(typeof g!="object"||g===null||typeof b!="object"||b===null)return!1;var I=Object.keys(g),P=Object.keys(b);if(I.length!==P.length)return!1;for(P=0;P<I.length;P++){var X=I[P];if(!iE.call(b,X)||!Pa(g[X],b[X]))return!1}return!0}function Cn(g){return g=g.status,g==="fulfilled"||g==="rejected"}function jn(g,b,I){switch(I=g[I],I===void 0?g.push(b):I!==b&&(b.then(Ne,Ne),b=I),b.status){case"fulfilled":return b.value;case"rejected":throw g=b.reason,Et(g),g;default:if(typeof b.status=="string")b.then(Ne,Ne);else{if(g=Pn,g!==null&&100<g.shellSuspendCounter)throw Error(a(482));g=b,g.status="pending",g.then(function(P){if(b.status==="pending"){var X=b;X.status="fulfilled",X.value=P}},function(P){if(b.status==="pending"){var X=b;X.status="rejected",X.reason=P}})}switch(b.status){case"fulfilled":return b.value;case"rejected":throw g=b.reason,Et(g),g}throw ps=b,ai}}function Ut(g){try{var b=g._init;return b(g._payload)}catch(I){throw I!==null&&typeof I=="object"&&typeof I.then=="function"?(ps=I,ai):I}}function Tn(){if(ps===null)throw Error(a(459));var g=ps;return ps=null,g}function Et(g){if(g===ai||g===Bo)throw Error(a(483))}function Pt(g){var b=df;return df+=1,Qu===null&&(Qu=[]),jn(Qu,g,b)}function on(g,b){b=b.props.ref,g.ref=b!==void 0?b:null}function rn(g,b){throw b.$$typeof===Zd?Error(a(525)):(g=Object.prototype.toString.call(b),Error(a(31,g==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":g)))}function wn(g){function b(Ye,Fe){if(g){var et=Ye.deletions;et===null?(Ye.deletions=[Fe],Ye.flags|=16):et.push(Fe)}}function I(Ye,Fe){if(!g)return null;for(;Fe!==null;)b(Ye,Fe),Fe=Fe.sibling;return null}function P(Ye){for(var Fe=new Map;Ye!==null;)Ye.key!==null?Fe.set(Ye.key,Ye):Fe.set(Ye.index,Ye),Ye=Ye.sibling;return Fe}function X(Ye,Fe){return Ye=ro(Ye,Fe),Ye.index=0,Ye.sibling=null,Ye}function te(Ye,Fe,et){return Ye.index=et,g?(et=Ye.alternate,et!==null?(et=et.index,et<Fe?(Ye.flags|=67108866,Fe):et):(Ye.flags|=67108866,Fe)):(Ye.flags|=1048576,Fe)}function ue(Ye){return g&&Ye.alternate===null&&(Ye.flags|=67108866),Ye}function Re(Ye,Fe,et,Tt){return Fe===null||Fe.tag!==6?(Fe=yb(et,Ye.mode,Tt),Fe.return=Ye,Fe):(Fe=X(Fe,et),Fe.return=Ye,Fe)}function tt(Ye,Fe,et,Tt){var dn=et.type;return dn===ef?jt(Ye,Fe,et.props.children,Tt,et.key):Fe!==null&&(Fe.elementType===dn||typeof dn=="object"&&dn!==null&&dn.$$typeof===ds&&Ut(dn)===Fe.type)?(Fe=X(Fe,et.props),on(Fe,et),Fe.return=Ye,Fe):(Fe=Kc(et.type,et.key,et.props,null,Ye.mode,Tt),on(Fe,et),Fe.return=Ye,Fe)}function yt(Ye,Fe,et,Tt){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==et.containerInfo||Fe.stateNode.implementation!==et.implementation?(Fe=xb(et,Ye.mode,Tt),Fe.return=Ye,Fe):(Fe=X(Fe,et.children||[]),Fe.return=Ye,Fe)}function jt(Ye,Fe,et,Tt,dn){return Fe===null||Fe.tag!==7?(Fe=jo(et,Ye.mode,Tt,dn),Fe.return=Ye,Fe):(Fe=X(Fe,et),Fe.return=Ye,Fe)}function St(Ye,Fe,et){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Fe=yb(""+Fe,Ye.mode,et),Fe.return=Ye,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case Jl:return et=Kc(Fe.type,Fe.key,Fe.props,null,Ye.mode,et),on(et,Fe),et.return=Ye,et;case Jd:return Fe=xb(Fe,Ye.mode,et),Fe.return=Ye,Fe;case ds:return Fe=Ut(Fe),St(Ye,Fe,et)}if(qu(Fe)||d(Fe))return Fe=jo(Fe,Ye.mode,et,null),Fe.return=Ye,Fe;if(typeof Fe.then=="function")return St(Ye,Pt(Fe),et);if(Fe.$$typeof===Oo)return St(Ye,ke(Ye,Fe),et);rn(Ye,Fe)}return null}function Vt(Ye,Fe,et,Tt){var dn=Fe!==null?Fe.key:null;if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return dn!==null?null:Re(Ye,Fe,""+et,Tt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case Jl:return et.key===dn?tt(Ye,Fe,et,Tt):null;case Jd:return et.key===dn?yt(Ye,Fe,et,Tt):null;case ds:return et=Ut(et),Vt(Ye,Fe,et,Tt)}if(qu(et)||d(et))return dn!==null?null:jt(Ye,Fe,et,Tt,null);if(typeof et.then=="function")return Vt(Ye,Fe,Pt(et),Tt);if(et.$$typeof===Oo)return Vt(Ye,Fe,ke(Ye,et),Tt);rn(Ye,et)}return null}function En(Ye,Fe,et,Tt,dn){if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number"||typeof Tt=="bigint")return Ye=Ye.get(et)||null,Re(Fe,Ye,""+Tt,dn);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case Jl:return Ye=Ye.get(Tt.key===null?et:Tt.key)||null,tt(Fe,Ye,Tt,dn);case Jd:return Ye=Ye.get(Tt.key===null?et:Tt.key)||null,yt(Fe,Ye,Tt,dn);case ds:return Tt=Ut(Tt),En(Ye,Fe,et,Tt,dn)}if(qu(Tt)||d(Tt))return Ye=Ye.get(et)||null,jt(Fe,Ye,Tt,dn,null);if(typeof Tt.then=="function")return En(Ye,Fe,et,Pt(Tt),dn);if(Tt.$$typeof===Oo)return En(Ye,Fe,et,ke(Fe,Tt),dn);rn(Fe,Tt)}return null}function yi(Ye,Fe,et,Tt){for(var dn=null,ma=null,hn=Fe,tr=Fe=0,bi=null;hn!==null&&tr<et.length;tr++){hn.index>tr?(bi=hn,hn=null):bi=hn.sibling;var cr=Vt(Ye,hn,et[tr],Tt);if(cr===null){hn===null&&(hn=bi);break}g&&hn&&cr.alternate===null&&b(Ye,hn),Fe=te(cr,Fe,tr),ma===null?dn=cr:ma.sibling=cr,ma=cr,hn=bi}if(tr===et.length)return I(Ye,hn),Gn&&K(Ye,tr),dn;if(hn===null){for(;tr<et.length;tr++)hn=St(Ye,et[tr],Tt),hn!==null&&(Fe=te(hn,Fe,tr),ma===null?dn=hn:ma.sibling=hn,ma=hn);return Gn&&K(Ye,tr),dn}for(hn=P(hn);tr<et.length;tr++)bi=En(hn,Ye,tr,et[tr],Tt),bi!==null&&(g&&bi.alternate!==null&&hn.delete(bi.key===null?tr:bi.key),Fe=te(bi,Fe,tr),ma===null?dn=bi:ma.sibling=bi,ma=bi);return g&&hn.forEach(function($o){return b(Ye,$o)}),Gn&&K(Ye,tr),dn}function Ih(Ye,Fe,et,Tt){if(et==null)throw Error(a(151));for(var dn=null,ma=null,hn=Fe,tr=Fe=0,bi=null,cr=et.next();hn!==null&&!cr.done;tr++,cr=et.next()){hn.index>tr?(bi=hn,hn=null):bi=hn.sibling;var $o=Vt(Ye,hn,cr.value,Tt);if($o===null){hn===null&&(hn=bi);break}g&&hn&&$o.alternate===null&&b(Ye,hn),Fe=te($o,Fe,tr),ma===null?dn=$o:ma.sibling=$o,ma=$o,hn=bi}if(cr.done)return I(Ye,hn),Gn&&K(Ye,tr),dn;if(hn===null){for(;!cr.done;tr++,cr=et.next())cr=St(Ye,cr.value,Tt),cr!==null&&(Fe=te(cr,Fe,tr),ma===null?dn=cr:ma.sibling=cr,ma=cr);return Gn&&K(Ye,tr),dn}for(hn=P(hn);!cr.done;tr++,cr=et.next())cr=En(hn,Ye,tr,cr.value,Tt),cr!==null&&(g&&cr.alternate!==null&&hn.delete(cr.key===null?tr:cr.key),Fe=te(cr,Fe,tr),ma===null?dn=cr:ma.sibling=cr,ma=cr);return g&&hn.forEach(function(oE){return b(Ye,oE)}),Gn&&K(Ye,tr),dn}function id(Ye,Fe,et,Tt){if(typeof et=="object"&&et!==null&&et.type===ef&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case Jl:e:{for(var dn=et.key;Fe!==null;){if(Fe.key===dn){if(dn=et.type,dn===ef){if(Fe.tag===7){I(Ye,Fe.sibling),Tt=X(Fe,et.props.children),Tt.return=Ye,Ye=Tt;break e}}else if(Fe.elementType===dn||typeof dn=="object"&&dn!==null&&dn.$$typeof===ds&&Ut(dn)===Fe.type){I(Ye,Fe.sibling),Tt=X(Fe,et.props),on(Tt,et),Tt.return=Ye,Ye=Tt;break e}I(Ye,Fe);break}else b(Ye,Fe);Fe=Fe.sibling}et.type===ef?(Tt=jo(et.props.children,Ye.mode,Tt,et.key),Tt.return=Ye,Ye=Tt):(Tt=Kc(et.type,et.key,et.props,null,Ye.mode,Tt),on(Tt,et),Tt.return=Ye,Ye=Tt)}return ue(Ye);case Jd:e:{for(dn=et.key;Fe!==null;){if(Fe.key===dn)if(Fe.tag===4&&Fe.stateNode.containerInfo===et.containerInfo&&Fe.stateNode.implementation===et.implementation){I(Ye,Fe.sibling),Tt=X(Fe,et.children||[]),Tt.return=Ye,Ye=Tt;break e}else{I(Ye,Fe);break}else b(Ye,Fe);Fe=Fe.sibling}Tt=xb(et,Ye.mode,Tt),Tt.return=Ye,Ye=Tt}return ue(Ye);case ds:return et=Ut(et),id(Ye,Fe,et,Tt)}if(qu(et))return yi(Ye,Fe,et,Tt);if(d(et)){if(dn=d(et),typeof dn!="function")throw Error(a(150));return et=dn.call(et),Ih(Ye,Fe,et,Tt)}if(typeof et.then=="function")return id(Ye,Fe,Pt(et),Tt);if(et.$$typeof===Oo)return id(Ye,Fe,ke(Ye,et),Tt);rn(Ye,et)}return typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint"?(et=""+et,Fe!==null&&Fe.tag===6?(I(Ye,Fe.sibling),Tt=X(Fe,et),Tt.return=Ye,Ye=Tt):(I(Ye,Fe),Tt=yb(et,Ye.mode,Tt),Tt.return=Ye,Ye=Tt),ue(Ye)):I(Ye,Fe)}return function(Ye,Fe,et,Tt){try{df=0;var dn=id(Ye,Fe,et,Tt);return Qu=null,dn}catch(hn){if(hn===ai||hn===Bo)throw hn;var ma=n(29,hn,null,Ye.mode);return ma.lanes=Tt,ma.return=Ye,ma}finally{}}}function xr(){for(var g=ic,b=ff=ic=0;b<g;){var I=Pi[b];Pi[b++]=null;var P=Pi[b];Pi[b++]=null;var X=Pi[b];Pi[b++]=null;var te=Pi[b];if(Pi[b++]=null,P!==null&&X!==null){var ue=P.pending;ue===null?X.next=X:(X.next=ue.next,ue.next=X),P.pending=X}te!==0&&zr(I,X,te)}}function Mr(g,b,I,P){Pi[ic++]=g,Pi[ic++]=b,Pi[ic++]=I,Pi[ic++]=P,ff|=P,g.lanes|=P,g=g.alternate,g!==null&&(g.lanes|=P)}function jr(g,b,I,P){return Mr(g,b,I,P),vr(g)}function sa(g,b){return Mr(g,null,null,b),vr(g)}function zr(g,b,I){g.lanes|=I;var P=g.alternate;P!==null&&(P.lanes|=I);for(var X=!1,te=g.return;te!==null;)te.childLanes|=I,P=te.alternate,P!==null&&(P.childLanes|=I),te.tag===22&&(g=te.stateNode,g===null||g._visibility&1||(X=!0)),g=te,te=te.return;return g.tag===3?(te=g.stateNode,X&&b!==null&&(X=31-Ls(I),g=te.hiddenUpdates,P=g[X],P===null?g[X]=[b]:P.push(b),b.lane=I|536870912),te):null}function vr(g){if(50<ar)throw ar=0,Cm=null,Error(a(185));for(var b=g.return;b!==null;)g=b,b=g.return;return g.tag===3?g.stateNode:null}function Fr(g){g.updateQueue={baseState:g.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Es(g,b){g=g.updateQueue,b.updateQueue===g&&(b.updateQueue={baseState:g.baseState,firstBaseUpdate:g.firstBaseUpdate,lastBaseUpdate:g.lastBaseUpdate,shared:g.shared,callbacks:null})}function Ja(g){return{lane:g,tag:0,payload:null,callback:null,next:null}}function Ai(g,b,I){var P=g.updateQueue;if(P===null)return null;if(P=P.shared,(Hn&2)!==0){var X=P.pending;return X===null?b.next=b:(b.next=X.next,X.next=b),P.pending=b,b=vr(g),zr(g,null,I),b}return Mr(g,P,b,I),vr(g)}function Ts(g,b,I){if(b=b.updateQueue,b!==null&&(b=b.shared,(I&4194048)!==0)){var P=b.lanes;P&=g.pendingLanes,I|=P,b.lanes=I,M(g,I)}}function Ml(g,b){var I=g.updateQueue,P=g.alternate;if(P!==null&&(P=P.updateQueue,I===P)){var X=null,te=null;if(I=I.firstBaseUpdate,I!==null){do{var ue={lane:I.lane,tag:I.tag,payload:I.payload,callback:null,next:null};te===null?X=te=ue:te=te.next=ue,I=I.next}while(I!==null);te===null?X=te=b:te=te.next=b}else X=te=b;I={baseState:P.baseState,firstBaseUpdate:X,lastBaseUpdate:te,shared:P.shared,callbacks:P.callbacks},g.updateQueue=I;return}g=I.lastBaseUpdate,g===null?I.firstBaseUpdate=b:g.next=b,I.lastBaseUpdate=b}function as(){if(U0){var g=ri;if(g!==null)throw g}}function As(g,b,I,P){U0=!1;var X=g.updateQueue;so=!1;var te=X.firstBaseUpdate,ue=X.lastBaseUpdate,Re=X.shared.pending;if(Re!==null){X.shared.pending=null;var tt=Re,yt=tt.next;tt.next=null,ue===null?te=yt:ue.next=yt,ue=tt;var jt=g.alternate;jt!==null&&(jt=jt.updateQueue,Re=jt.lastBaseUpdate,Re!==ue&&(Re===null?jt.firstBaseUpdate=yt:Re.next=yt,jt.lastBaseUpdate=tt))}if(te!==null){var St=X.baseState;ue=0,jt=yt=tt=null,Re=te;do{var Vt=Re.lane&-536870913,En=Vt!==Re.lane;if(En?(qn&Vt)===Vt:(P&Vt)===Vt){Vt!==0&&Vt===nu&&(U0=!0),jt!==null&&(jt=jt.next={lane:0,tag:Re.tag,payload:Re.payload,callback:null,next:null});e:{var yi=g,Ih=Re;Vt=b;var id=I;switch(Ih.tag){case 1:if(yi=Ih.payload,typeof yi=="function"){St=yi.call(id,St,Vt);break e}St=yi;break e;case 3:yi.flags=yi.flags&-65537|128;case 0:if(yi=Ih.payload,Vt=typeof yi=="function"?yi.call(id,St,Vt):yi,Vt==null)break e;St=g0({},St,Vt);break e;case 2:so=!0}}Vt=Re.callback,Vt!==null&&(g.flags|=64,En&&(g.flags|=8192),En=X.callbacks,En===null?X.callbacks=[Vt]:En.push(Vt))}else En={lane:Vt,tag:Re.tag,payload:Re.payload,callback:Re.callback,next:null},jt===null?(yt=jt=En,tt=St):jt=jt.next=En,ue|=Vt;if(Re=Re.next,Re===null){if(Re=X.shared.pending,Re===null)break;En=Re,Re=En.next,En.next=null,X.lastBaseUpdate=En,X.shared.pending=null}}while(!0);jt===null&&(tt=St),X.baseState=tt,X.firstBaseUpdate=yt,X.lastBaseUpdate=jt,te===null&&(X.shared.lanes=0),au|=ue,g.lanes=ue,g.memoizedState=St}}function Zs(g,b){if(typeof g!="function")throw Error(a(191,g));g.call(b)}function is(g,b){var I=g.callbacks;if(I!==null)for(g.callbacks=null,g=0;g<I.length;g++)Zs(I[g],b)}function ss(g,b){g=oc,x(Zu,g),x(hf,b),oc=g|b.baseLanes}function Ri(){x(Zu,oc),x(hf,hf.current)}function Sr(){oc=Zu.current,y(hf),y(Zu)}function di(g){var b=g.alternate;x(_a,_a.current&1),x(Fs,g),ms===null&&(b===null||hf.current!==null||b.memoizedState!==null)&&(ms=g)}function il(g){x(_a,_a.current),x(Fs,g),ms===null&&(ms=g)}function ki(g){g.tag===22?(x(_a,_a.current),x(Fs,g),ms===null&&(ms=g)):oa()}function oa(){x(_a,_a.current),x(Fs,Fs.current)}function va(g){y(Fs),ms===g&&(ms=null),y(_a)}function Rs(g){for(var b=g;b!==null;){if(b.tag===13){var I=b.memoizedState;if(I!==null&&(I=I.dehydrated,I===null||Wu(I)||w0(I)))return b}else if(b.tag===19&&(b.memoizedProps.revealOrder==="forwards"||b.memoizedProps.revealOrder==="backwards"||b.memoizedProps.revealOrder==="unstable_legacy-backwards"||b.memoizedProps.revealOrder==="together")){if((b.flags&128)!==0)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===g)break;for(;b.sibling===null;){if(b.return===null||b.return===g)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}function lr(){throw Error(a(321))}function ks(g,b){if(b===null)return!1;for(var I=0;I<b.length&&I<g.length;I++)if(!Pa(g[I],b[I]))return!1;return!0}function sl(g,b,I,P,X,te){return ru=te,Rn=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,cn.H=g===null||g.memoizedState===null?fa:sc,Qn=!1,te=I(P,X),Qn=!1,On&&(te=Ii(b,I,P,X)),Bc(g),te}function Bc(g){cn.H=oo;var b=nn!==null&&nn.next!==null;if(ru=0,vn=nn=Rn=null,Mn=!1,Ho=0,Sl=null,b)throw Error(a(300));g===null||Vr||(g=g.dependencies,g!==null&&Le(g)&&(Vr=!0))}function Ii(g,b,I,P){Rn=g;var X=0;do{if(On&&(Sl=null),Ho=0,On=!1,25<=X)throw Error(a(301));if(X+=1,vn=nn=null,g.updateQueue!=null){var te=g.updateQueue;te.lastEffect=null,te.events=null,te.stores=null,te.memoCache!=null&&(te.memoCache.index=0)}cn.H=Ju,te=b(I,P)}while(On);return te}function Hi(){var g=cn.H,b=g.useState()[0];return b=typeof b.then=="function"?la(b):b,g=g.useState()[0],(nn!==null?nn.memoizedState:null)!==g&&(Rn.flags|=1024),b}function Hc(){var g=Wi!==0;return Wi=0,g}function Pl(g,b,I){b.updateQueue=g.updateQueue,b.flags&=-2053,g.lanes&=~I}function So(g){if(Mn){for(g=g.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}Mn=!1}ru=0,vn=nn=Rn=null,On=!1,Ho=Wi=0,Sl=null}function Oa(){var g={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Rn.memoizedState=vn=g:vn=vn.next=g,vn}function dr(){if(nn===null){var g=Rn.alternate;g=g!==null?g.memoizedState:null}else g=nn.next;var b=vn===null?Rn.memoizedState:vn.next;if(b!==null)vn=b,nn=g;else{if(g===null)throw Rn.alternate===null?Error(a(467)):Error(a(310));nn=g,g={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},vn===null?Rn.memoizedState=vn=g:vn=vn.next=g}return vn}function ol(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function la(g){var b=Ho;return Ho+=1,Sl===null&&(Sl=[]),g=jn(Sl,g,b),b=Rn,(vn===null?b.memoizedState:vn.next)===null&&(b=b.alternate,cn.H=b===null||b.memoizedState===null?fa:sc),g}function ll(g){if(g!==null&&typeof g=="object"){if(typeof g.then=="function")return la(g);if(g.$$typeof===Oo)return Xe(g)}throw Error(a(438,String(g)))}function cl(g){var b=null,I=Rn.updateQueue;if(I!==null&&(b=I.memoCache),b==null){var P=Rn.alternate;P!==null&&(P=P.updateQueue,P!==null&&(P=P.memoCache,P!=null&&(b={data:P.data.map(function(X){return X.slice()}),index:0})))}if(b==null&&(b={data:[],index:0}),I===null&&(I=ol(),Rn.updateQueue=I),I.memoCache=b,I=b.data[b.index],I===void 0)for(I=b.data[b.index]=Array(g),P=0;P<g;P++)I[P]=Sb;return b.index++,I}function os(g,b){return typeof b=="function"?b(g):b}function Ui(g){var b=dr();return ul(b,nn,g)}function ul(g,b,I){var P=g.queue;if(P===null)throw Error(a(311));P.lastRenderedReducer=I;var X=g.baseQueue,te=P.pending;if(te!==null){if(X!==null){var ue=X.next;X.next=te.next,te.next=ue}b.baseQueue=X=te,P.pending=null}if(te=g.baseState,X===null)g.memoizedState=te;else{b=X.next;var Re=ue=null,tt=null,yt=b,jt=!1;do{var St=yt.lane&-536870913;if(St!==yt.lane?(qn&St)===St:(ru&St)===St){var Vt=yt.revertLane;if(Vt===0)tt!==null&&(tt=tt.next={lane:0,revertLane:0,gesture:null,action:yt.action,hasEagerState:yt.hasEagerState,eagerState:yt.eagerState,next:null}),St===nu&&(jt=!0);else if((ru&Vt)===Vt){yt=yt.next,Vt===nu&&(jt=!0);continue}else St={lane:0,revertLane:yt.revertLane,gesture:null,action:yt.action,hasEagerState:yt.hasEagerState,eagerState:yt.eagerState,next:null},tt===null?(Re=tt=St,ue=te):tt=tt.next=St,Rn.lanes|=Vt,au|=Vt;St=yt.action,Qn&&I(te,St),te=yt.hasEagerState?yt.eagerState:I(te,St)}else Vt={lane:St,revertLane:yt.revertLane,gesture:yt.gesture,action:yt.action,hasEagerState:yt.hasEagerState,eagerState:yt.eagerState,next:null},tt===null?(Re=tt=Vt,ue=te):tt=tt.next=Vt,Rn.lanes|=St,au|=St;yt=yt.next}while(yt!==null&&yt!==b);if(tt===null?ue=te:tt.next=Re,!Pa(te,g.memoizedState)&&(Vr=!0,jt&&(I=ri,I!==null)))throw I;g.memoizedState=te,g.baseState=ue,g.baseQueue=tt,P.lastRenderedState=te}return X===null&&(P.lanes=0),[g.memoizedState,P.dispatch]}function dl(g){var b=dr(),I=b.queue;if(I===null)throw Error(a(311));I.lastRenderedReducer=g;var P=I.dispatch,X=I.pending,te=b.memoizedState;if(X!==null){I.pending=null;var ue=X=X.next;do te=g(te,ue.action),ue=ue.next;while(ue!==X);Pa(te,b.memoizedState)||(Vr=!0),b.memoizedState=te,b.baseQueue===null&&(b.baseState=te),I.lastRenderedState=te}return[te,P]}function _o(g,b,I){var P=Rn,X=dr(),te=Gn;if(te){if(I===void 0)throw Error(a(407));I=I()}else I=b();var ue=!Pa((nn||X).memoizedState,I);if(ue&&(X.memoizedState=I,Vr=!0),X=X.queue,eo(Ll.bind(null,P,X,g),[g]),X.getSnapshot!==b||ue||vn!==null&&vn.memoizedState.tag&1){if(P.flags|=2048,$a(9,{destroy:void 0},$d.bind(null,P,X,I,b),null),Pn===null)throw Error(a(349));te||(ru&127)!==0||Uc(P,b,I)}return I}function Uc(g,b,I){g.flags|=16384,g={getSnapshot:b,value:I},b=Rn.updateQueue,b===null?(b=ol(),Rn.updateQueue=b,b.stores=[g]):(I=b.stores,I===null?b.stores=[g]:I.push(g))}function $d(g,b,I,P){b.value=I,b.getSnapshot=P,fl(b)&&$c(g)}function Ll(g,b,I){return I(function(){fl(b)&&$c(g)})}function fl(g){var b=g.getSnapshot;g=g.value;try{var I=b();return!Pa(g,I)}catch{return!0}}function $c(g){var b=sa(g,2);b!==null&&ua(b,g,2)}function Ou(g){var b=Oa();if(typeof g=="function"){var I=g;if(g=I(),Qn){$(!0);try{I()}finally{$(!1)}}}return b.memoizedState=b.baseState=g,b.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:g},b}function Co(g,b,I,P){return g.baseState=I,ul(g,nn,typeof P=="function"?P:os)}function Js(g,b,I,P,X){if(Xg(g))throw Error(a(485));if(g=b.action,g!==null){var te={payload:X,action:g,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ue){te.listeners.push(ue)}};cn.T!==null?I(!0):te.isTransition=!1,P(te),I=b.pending,I===null?(te.next=b.pending=te,hl(b,te)):(te.next=I.next,b.pending=I.next=te)}}function hl(g,b){var I=b.action,P=b.payload,X=g.state;if(b.isTransition){var te=cn.T,ue={};cn.T=ue;try{var Re=I(X,P),tt=cn.S;tt!==null&&tt(ue,Re),pl(g,b,Re)}catch(yt){ls(g,b,yt)}finally{te!==null&&ue.types!==null&&(te.types=ue.types),cn.T=te}}else try{te=I(X,P),pl(g,b,te)}catch(yt){ls(g,b,yt)}}function pl(g,b,I){I!==null&&typeof I=="object"&&typeof I.then=="function"?I.then(function(P){Is(g,b,P)},function(P){return ls(g,b,P)}):Is(g,b,I)}function Is(g,b,I){b.status="fulfilled",b.value=I,Du(b),g.state=I,b=g.pending,b!==null&&(I=b.next,I===b?g.pending=null:(I=I.next,b.next=I,hl(g,I)))}function ls(g,b,I){var P=g.pending;if(g.pending=null,P!==null){P=P.next;do b.status="rejected",b.reason=I,Du(b),b=b.next;while(b!==P)}g.action=null}function Du(g){g=g.listeners;for(var b=0;b<g.length;b++)(0,g[b])()}function ml(g,b){return b}function zl(g,b){if(Gn){var I=Pn.formState;if(I!==null){e:{var P=Rn;if(Gn){if(Zr){var X=v3(Zr,hs);if(X){Zr=S3(X),P=Bb(X);break e}}me(P)}P=!1}P&&(b=I[0])}}I=Oa(),I.memoizedState=I.baseState=b,P={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:b},I.queue=P,I=OS.bind(null,Rn,P),P.dispatch=I,P=Ou(!1);var te=Kg.bind(null,Rn,!1,P.queue);return P=Oa(),X={state:b,dispatch:null,action:g,pending:null},P.queue=X,I=Js.bind(null,Rn,X,te,I),X.dispatch=I,P.memoizedState=g,[b,I,!1]}function Fl(g){var b=dr();return ji(b,nn,g)}function ji(g,b,I){if(b=ul(g,b,ml)[0],g=Ui(os)[0],typeof b=="object"&&b!==null&&typeof b.then=="function")try{var P=la(b)}catch(ue){throw ue===ai?Bo:ue}else P=b;b=dr();var X=b.queue,te=X.dispatch;return I!==b.memoizedState&&(Rn.flags|=2048,$a(9,{destroy:void 0},Bl.bind(null,X,I),null)),[P,te,g]}function Bl(g,b){g.action=b}function gl(g){var b=dr(),I=nn;if(I!==null)return ji(b,I,g);dr(),b=b.memoizedState,I=dr();var P=I.queue.dispatch;return I.memoizedState=g,[b,P,!1]}function $a(g,b,I,P){return g={tag:g,create:I,deps:P,inst:b,next:null},b=Rn.updateQueue,b===null&&(b=ol(),Rn.updateQueue=b),I=b.lastEffect,I===null?b.lastEffect=g.next=g:(P=I.next,I.next=g,g.next=P,b.lastEffect=g),g}function yl(){return dr().memoizedState}function js(g,b,I,P){var X=Oa();Rn.flags|=g,X.memoizedState=$a(1|b,{destroy:void 0},I,P===void 0?null:P)}function wo(g,b,I,P){var X=dr();P=P===void 0?null:P;var te=X.memoizedState.inst;nn!==null&&P!==null&&ks(P,nn.memoizedState.deps)?X.memoizedState=$a(b,te,I,P):(Rn.flags|=g,X.memoizedState=$a(1|b,te,I,P))}function Eo(g,b){js(8390656,8,g,b)}function eo(g,b){wo(2048,8,g,b)}function Gd(g){Rn.flags|=4;var b=Rn.updateQueue;if(b===null)b=ol(),Rn.updateQueue=b,b.events=[g];else{var I=b.events;I===null?b.events=[g]:I.push(g)}}function Dn(g){var b=dr().memoizedState;return Gd({ref:b,nextImpl:g}),function(){if((Hn&2)!==0)throw Error(a(440));return b.impl.apply(void 0,arguments)}}function Da(g,b){return wo(4,2,g,b)}function $i(g,b){return wo(4,4,g,b)}function Hl(g,b){if(typeof b=="function"){g=g();var I=b(g);return function(){typeof I=="function"?I():b(null)}}if(b!=null)return g=g(),b.current=g,function(){b.current=null}}function RS(g,b,I){I=I!=null?I.concat([g]):null,wo(4,4,Hl.bind(null,b,g),I)}function $p(){}function Wg(g,b){var I=dr();b=b===void 0?null:b;var P=I.memoizedState;return b!==null&&ks(b,P[1])?P[0]:(I.memoizedState=[g,b],g)}function Zf(g,b){var I=dr();b=b===void 0?null:b;var P=I.memoizedState;if(b!==null&&ks(b,P[1]))return P[0];if(P=g(),Qn){$(!0);try{g()}finally{$(!1)}}return I.memoizedState=[P,b],P}function Jf(g,b,I){return I===void 0||(ru&1073741824)!==0&&(qn&261930)===0?g.memoizedState=b:(g.memoizedState=I,g=Vc(),Rn.lanes|=g,au|=g,I)}function Xy(g,b,I,P){return Pa(I,b)?I:hf.current!==null?(g=Jf(g,I,P),Pa(g,b)||(Vr=!0),g):(ru&42)===0||(ru&1073741824)!==0&&(qn&261930)===0?(Vr=!0,g.memoizedState=I):(g=Vc(),Rn.lanes|=g,au|=g,b)}function kS(g,b,I,P,X){var te=Do();$n(te!==0&&8>te?te:8);var ue=cn.T,Re={};cn.T=Re,Kg(g,!1,b,I);try{var tt=X(),yt=cn.S;if(yt!==null&&yt(Re,tt),tt!==null&&typeof tt=="object"&&typeof tt.then=="function"){var jt=xn(tt,P);Gp(g,b,jt,Xr(g))}else Gp(g,b,P,Xr(g))}catch(St){Gp(g,b,{then:function(){},status:"rejected",reason:St},Xr())}finally{$n(te),ue!==null&&Re.types!==null&&(ue.types=Re.types),cn.T=ue}}function IS(g){var b=g.memoizedState;if(b!==null)return b;b={memoizedState:af,baseState:af,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:af},next:null};var I={};return b.next={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:I},next:null},g.memoizedState=b,g=g.alternate,g!==null&&(g.memoizedState=b),b}function Qy(){return Xe(sf)}function Yg(){return dr().memoizedState}function jS(){return dr().memoizedState}function Kw(g){for(var b=g.return;b!==null;){switch(b.tag){case 24:case 3:var I=Xr();g=Ja(I);var P=Ai(b,g,I);P!==null&&(ua(P,b,I),Ts(P,b,I)),b={cache:ye()},g.payload=b;return}b=b.return}}function Xw(g,b,I){var P=Xr();I={lane:P,revertLane:0,gesture:null,action:I,hasEagerState:!1,eagerState:null,next:null},Xg(g)?DS(b,I):(I=jr(g,b,I,P),I!==null&&(ua(I,g,P),NS(I,b,P)))}function OS(g,b,I){var P=Xr();Gp(g,b,I,P)}function Gp(g,b,I,P){var X={lane:P,revertLane:0,gesture:null,action:I,hasEagerState:!1,eagerState:null,next:null};if(Xg(g))DS(b,X);else{var te=g.alternate;if(g.lanes===0&&(te===null||te.lanes===0)&&(te=b.lastRenderedReducer,te!==null))try{var ue=b.lastRenderedState,Re=te(ue,I);if(X.hasEagerState=!0,X.eagerState=Re,Pa(Re,ue))return Mr(g,b,X,0),Pn===null&&xr(),!1}catch{}finally{}if(I=jr(g,b,X,P),I!==null)return ua(I,g,P),NS(I,b,P),!0}return!1}function Kg(g,b,I,P){if(P={lane:2,revertLane:$t(),gesture:null,action:P,hasEagerState:!1,eagerState:null,next:null},Xg(g)){if(b)throw Error(a(479))}else b=jr(g,I,P,2),b!==null&&ua(b,g,2)}function Xg(g){var b=g.alternate;return g===Rn||b!==null&&b===Rn}function DS(g,b){On=Mn=!0;var I=g.pending;I===null?b.next=b:(b.next=I.next,I.next=b),g.pending=b}function NS(g,b,I){if((I&4194048)!==0){var P=b.lanes;P&=g.pendingLanes,I|=P,b.lanes=I,M(g,I)}}function Zy(g,b,I,P){b=g.memoizedState,I=I(P,b),I=I==null?b:g0({},b,I),g.memoizedState=I,g.lanes===0&&(g.updateQueue.baseState=I)}function Qg(g,b,I,P,X,te,ue){return g=g.stateNode,typeof g.shouldComponentUpdate=="function"?g.shouldComponentUpdate(P,te,ue):b.prototype&&b.prototype.isPureReactComponent?!Zt(I,P)||!Zt(X,te):!0}function MS(g,b,I,P){g=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(I,P),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(I,P),b.state!==g&&bm.enqueueReplaceState(b,b.state,null)}function qd(g,b){var I=b;if("ref"in b){I={};for(var P in b)P!=="ref"&&(I[P]=b[P])}if(g=g.defaultProps){I===b&&(I=g0({},I));for(var X in g)I[X]===void 0&&(I[X]=g[X])}return I}function Zg(g,b){try{var I=g.onUncaughtError;I(b.value,{componentStack:b.stack})}catch(P){setTimeout(function(){throw P})}}function Jy(g,b,I){try{var P=g.onCaughtError;P(I.value,{componentStack:I.stack,errorBoundary:b.tag===1?b.stateNode:null})}catch(X){setTimeout(function(){throw X})}}function eb(g,b,I){return I=Ja(I),I.tag=3,I.payload={element:null},I.callback=function(){Zg(g,b)},I}function PS(g){return g=Ja(g),g.tag=3,g}function LS(g,b,I,P){var X=I.type.getDerivedStateFromError;if(typeof X=="function"){var te=P.value;g.payload=function(){return X(te)},g.callback=function(){Jy(b,I,P)}}var ue=I.stateNode;ue!==null&&typeof ue.componentDidCatch=="function"&&(g.callback=function(){Jy(b,I,P),typeof X!="function"&&(iu===null?iu=new Set([this]):iu.add(this));var Re=P.stack;this.componentDidCatch(P.value,{componentStack:Re!==null?Re:""})})}function Qw(g,b,I,P,X){if(I.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){if(b=I.alternate,b!==null&&Pe(b,I,X,!0),I=Fs.current,I!==null){switch(I.tag){case 31:case 13:return ms===null?uh():I.alternate===null&&pa===0&&(pa=3),I.flags&=-257,I.flags|=65536,I.lanes=X,P===ac?I.flags|=16384:(b=I.updateQueue,b===null?I.updateQueue=new Set([P]):b.add(P),hh(g,P,X)),!1;case 22:return I.flags|=65536,P===ac?I.flags|=16384:(b=I.updateQueue,b===null?(b={transitions:null,markerInstances:null,retryQueue:new Set([P])},I.updateQueue=b):(I=b.retryQueue,I===null?b.retryQueue=new Set([P]):I.add(P)),hh(g,P,X)),!1}throw Error(a(435,I.tag))}return hh(g,P,X),uh(),!1}if(Gn)return b=Fs.current,b!==null?((b.flags&65536)===0&&(b.flags|=256),b.flags|=65536,b.lanes=X,P!==F0&&(g=Error(a(422),{cause:P}),oe(Q(g,I)))):(P!==F0&&(b=Error(a(423),{cause:P}),oe(Q(b,I))),g=g.current.alternate,g.flags|=65536,X&=-X,g.lanes|=X,P=Q(P,I),X=eb(g.stateNode,P,X),Ml(g,X),pa!==4&&(pa=2)),!1;var te=Error(a(520),{cause:P});if(te=Q(te,I),vm===null?vm=[te]:vm.push(te),pa!==4&&(pa=2),b===null)return!0;P=Q(P,I),I=b;do{switch(I.tag){case 3:return I.flags|=65536,g=X&-X,I.lanes|=g,g=eb(I.stateNode,P,g),Ml(I,g),!1;case 1:if(b=I.type,te=I.stateNode,(I.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(iu===null||!iu.has(te))))return I.flags|=65536,X&=-X,I.lanes|=X,X=PS(X),LS(X,g,I,P),Ml(I,X),!1}I=I.return}while(I!==null);return!1}function Oi(g,b,I,P){b.child=g===null?ax(b,null,I,P):Mi(b,g.child,I,P)}function zS(g,b,I,P,X){I=I.render;var te=b.ref;if("ref"in P){var ue={};for(var Re in P)Re!=="ref"&&(ue[Re]=P[Re])}else ue=P;return Oe(b),P=sl(g,b,I,ue,te,X),Re=Hc(),g!==null&&!Vr?(Pl(g,b,X),Ul(g,b,X)):(Gn&&Re&&Z(b),b.flags|=1,Oi(g,b,P,X),b.child)}function FS(g,b,I,P,X){if(g===null){var te=I.type;return typeof te=="function"&&!Xd(te)&&te.defaultProps===void 0&&I.compare===null?(b.tag=15,b.type=te,BS(g,b,te,P,X)):(g=Kc(I.type,null,P,b,b.mode,X),g.ref=b.ref,g.return=b,b.child=g)}if(te=g.child,!Vp(g,X)){var ue=te.memoizedProps;if(I=I.compare,I=I!==null?I:Zt,I(ue,P)&&g.ref===b.ref)return Ul(g,b,X)}return b.flags|=1,g=ro(te,P),g.ref=b.ref,g.return=b,b.child=g}function BS(g,b,I,P,X){if(g!==null){var te=g.memoizedProps;if(Zt(te,P)&&g.ref===b.ref)if(Vr=!1,b.pendingProps=P=te,Vp(g,X))(g.flags&131072)!==0&&(Vr=!0);else return b.lanes=g.lanes,Ul(g,b,X)}return e0(g,b,I,P,X)}function HS(g,b,I,P){var X=P.children,te=g!==null?g.memoizedState:null;if(g===null&&b.stateNode===null&&(b.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),P.mode==="hidden"){if((b.flags&128)!==0){if(te=te!==null?te.baseLanes|I:I,g!==null){for(P=b.child=g.child,X=0;P!==null;)X=X|P.lanes|P.childLanes,P=P.sibling;P=X&~te}else P=0,b.child=null;return eh(g,b,te,I,P)}if((I&536870912)!==0)b.memoizedState={baseLanes:0,cachePool:null},g!==null&&Gt(b,te!==null?te.cachePool:null),te!==null?ss(b,te):Ri(),ki(b);else return P=b.lanes=536870912,eh(g,b,te!==null?te.baseLanes|I:I,I,P)}else te!==null?(Gt(b,te.cachePool),ss(b,te),oa(),b.memoizedState=null):(g!==null&&Gt(b,null),Ri(),oa());return Oi(g,b,X,I),b.child}function Vd(g,b){return g!==null&&g.tag===22||b.stateNode!==null||(b.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.sibling}function eh(g,b,I,P,X){var te=In();return te=te===null?null:{parent:Na?Jr._currentValue:Jr._currentValue2,pool:te},b.memoizedState={baseLanes:I,cachePool:te},g!==null&&Gt(b,null),Ri(),ki(b),g!==null&&Pe(g,b,P,!0),b.childLanes=X,null}function Jg(g,b){return b=Nu({mode:b.mode,children:b.children},g.mode),b.ref=g.ref,g.child=b,b.return=g,b}function tb(g,b,I){return Mi(b,g.child,null,I),g=Jg(b,b.pendingProps),g.flags|=2,va(b),b.memoizedState=null,g}function US(g,b,I){var P=b.pendingProps,X=(b.flags&128)!==0;if(b.flags&=-129,g===null){if(Gn){if(P.mode==="hidden")return g=Jg(b,P),b.lanes=536870912,Vd(null,g);if(il(b),(g=Zr)?(g=Ub(g,hs),g!==null&&(b.memoizedState={dehydrated:g,treeContext:Po!==null?{id:Di,overflow:xl}:null,retryLane:536870912,hydrationErrors:null},I=bb(g),I.return=b,b.child=I,ni=b,Zr=null)):g=null,g===null)throw me(b);return b.lanes=536870912,null}return Jg(b,P)}var te=g.memoizedState;if(te!==null){var ue=te.dehydrated;if(il(b),X)if(b.flags&256)b.flags&=-257,b=tb(g,b,I);else if(b.memoizedState!==null)b.child=g.child,b.flags|=128,b=null;else throw Error(a(558));else if(Vr||Pe(g,b,I,!1),X=(I&g.childLanes)!==0,Vr||X){if(P=Pn,P!==null&&(ue=N(P,I),ue!==0&&ue!==te.retryLane))throw te.retryLane=ue,sa(g,ue),ua(P,g,ue),gs;uh(),b=tb(g,b,I)}else g=te.treeContext,Qr&&(Zr=E3(ue),ni=b,Gn=!0,rc=null,hs=!1,g!==null&&ne(b,g)),b=Jg(b,P),b.flags|=4096;return b}return g=ro(g.child,{mode:P.mode,children:P.children}),g.ref=b.ref,b.child=g,g.return=b,g}function qp(g,b){var I=b.ref;if(I===null)g!==null&&g.ref!==null&&(b.flags|=4194816);else{if(typeof I!="function"&&typeof I!="object")throw Error(a(284));(g===null||g.ref!==I)&&(b.flags|=4194816)}}function e0(g,b,I,P,X){return Oe(b),I=sl(g,b,I,P,void 0,X),P=Hc(),g!==null&&!Vr?(Pl(g,b,X),Ul(g,b,X)):(Gn&&P&&Z(b),b.flags|=1,Oi(g,b,I,X),b.child)}function nb(g,b,I,P,X,te){return Oe(b),b.updateQueue=null,I=Ii(b,P,I,X),Bc(g),P=Hc(),g!==null&&!Vr?(Pl(g,b,te),Ul(g,b,te)):(Gn&&P&&Z(b),b.flags|=1,Oi(g,b,I,te),b.child)}function Wd(g,b,I,P,X){if(Oe(b),b.stateNode===null){var te=ec,ue=I.contextType;typeof ue=="object"&&ue!==null&&(te=Xe(ue)),te=new I(P,te),b.memoizedState=te.state!==null&&te.state!==void 0?te.state:null,te.updater=bm,b.stateNode=te,te._reactInternals=b,te=b.stateNode,te.props=P,te.state=b.memoizedState,te.refs={},Fr(b),ue=I.contextType,te.context=typeof ue=="object"&&ue!==null?Xe(ue):ec,te.state=b.memoizedState,ue=I.getDerivedStateFromProps,typeof ue=="function"&&(Zy(b,I,ue,P),te.state=b.memoizedState),typeof I.getDerivedStateFromProps=="function"||typeof te.getSnapshotBeforeUpdate=="function"||typeof te.UNSAFE_componentWillMount!="function"&&typeof te.componentWillMount!="function"||(ue=te.state,typeof te.componentWillMount=="function"&&te.componentWillMount(),typeof te.UNSAFE_componentWillMount=="function"&&te.UNSAFE_componentWillMount(),ue!==te.state&&bm.enqueueReplaceState(te,te.state,null),As(b,P,te,X),as(),te.state=b.memoizedState),typeof te.componentDidMount=="function"&&(b.flags|=4194308),P=!0}else if(g===null){te=b.stateNode;var Re=b.memoizedProps,tt=qd(I,Re);te.props=tt;var yt=te.context,jt=I.contextType;ue=ec,typeof jt=="object"&&jt!==null&&(ue=Xe(jt));var St=I.getDerivedStateFromProps;jt=typeof St=="function"||typeof te.getSnapshotBeforeUpdate=="function",Re=b.pendingProps!==Re,jt||typeof te.UNSAFE_componentWillReceiveProps!="function"&&typeof te.componentWillReceiveProps!="function"||(Re||yt!==ue)&&MS(b,te,P,ue),so=!1;var Vt=b.memoizedState;te.state=Vt,As(b,P,te,X),as(),yt=b.memoizedState,Re||Vt!==yt||so?(typeof St=="function"&&(Zy(b,I,St,P),yt=b.memoizedState),(tt=so||Qg(b,I,tt,P,Vt,yt,ue))?(jt||typeof te.UNSAFE_componentWillMount!="function"&&typeof te.componentWillMount!="function"||(typeof te.componentWillMount=="function"&&te.componentWillMount(),typeof te.UNSAFE_componentWillMount=="function"&&te.UNSAFE_componentWillMount()),typeof te.componentDidMount=="function"&&(b.flags|=4194308)):(typeof te.componentDidMount=="function"&&(b.flags|=4194308),b.memoizedProps=P,b.memoizedState=yt),te.props=P,te.state=yt,te.context=ue,P=tt):(typeof te.componentDidMount=="function"&&(b.flags|=4194308),P=!1)}else{te=b.stateNode,Es(g,b),ue=b.memoizedProps,jt=qd(I,ue),te.props=jt,St=b.pendingProps,Vt=te.context,yt=I.contextType,tt=ec,typeof yt=="object"&&yt!==null&&(tt=Xe(yt)),Re=I.getDerivedStateFromProps,(yt=typeof Re=="function"||typeof te.getSnapshotBeforeUpdate=="function")||typeof te.UNSAFE_componentWillReceiveProps!="function"&&typeof te.componentWillReceiveProps!="function"||(ue!==St||Vt!==tt)&&MS(b,te,P,tt),so=!1,Vt=b.memoizedState,te.state=Vt,As(b,P,te,X),as();var En=b.memoizedState;ue!==St||Vt!==En||so||g!==null&&g.dependencies!==null&&Le(g.dependencies)?(typeof Re=="function"&&(Zy(b,I,Re,P),En=b.memoizedState),(jt=so||Qg(b,I,jt,P,Vt,En,tt)||g!==null&&g.dependencies!==null&&Le(g.dependencies))?(yt||typeof te.UNSAFE_componentWillUpdate!="function"&&typeof te.componentWillUpdate!="function"||(typeof te.componentWillUpdate=="function"&&te.componentWillUpdate(P,En,tt),typeof te.UNSAFE_componentWillUpdate=="function"&&te.UNSAFE_componentWillUpdate(P,En,tt)),typeof te.componentDidUpdate=="function"&&(b.flags|=4),typeof te.getSnapshotBeforeUpdate=="function"&&(b.flags|=1024)):(typeof te.componentDidUpdate!="function"||ue===g.memoizedProps&&Vt===g.memoizedState||(b.flags|=4),typeof te.getSnapshotBeforeUpdate!="function"||ue===g.memoizedProps&&Vt===g.memoizedState||(b.flags|=1024),b.memoizedProps=P,b.memoizedState=En),te.props=P,te.state=En,te.context=tt,P=jt):(typeof te.componentDidUpdate!="function"||ue===g.memoizedProps&&Vt===g.memoizedState||(b.flags|=4),typeof te.getSnapshotBeforeUpdate!="function"||ue===g.memoizedProps&&Vt===g.memoizedState||(b.flags|=1024),P=!1)}return te=P,qp(g,b),P=(b.flags&128)!==0,te||P?(te=b.stateNode,I=P&&typeof I.getDerivedStateFromError!="function"?null:te.render(),b.flags|=1,g!==null&&P?(b.child=Mi(b,g.child,null,X),b.child=Mi(b,null,I,X)):Oi(g,b,I,X),b.memoizedState=te.state,g=b.child):g=Ul(g,b,X),g}function $S(g,b,I,P){return ve(),b.flags|=256,Oi(g,b,I,P),b.child}function rb(g){return{baseLanes:g,cachePool:xt()}}function ab(g,b,I){return g=g!==null?g.childLanes&~I:0,b&&(g|=ys),g}function ib(g,b,I){var P=b.pendingProps,X=!1,te=(b.flags&128)!==0,ue;if((ue=te)||(ue=g!==null&&g.memoizedState===null?!1:(_a.current&2)!==0),ue&&(X=!0,b.flags&=-129),ue=(b.flags&32)!==0,b.flags&=-33,g===null){if(Gn){if(X?di(b):oa(),(g=Zr)?(g=k3(g,hs),g!==null&&(b.memoizedState={dehydrated:g,treeContext:Po!==null?{id:Di,overflow:xl}:null,retryLane:536870912,hydrationErrors:null},I=bb(g),I.return=b,b.child=I,ni=b,Zr=null)):g=null,g===null)throw me(b);return w0(g)?b.lanes=32:b.lanes=536870912,null}var Re=P.children;return P=P.fallback,X?(oa(),X=b.mode,Re=Nu({mode:"hidden",children:Re},X),P=jo(P,X,I,null),Re.return=b,P.return=b,Re.sibling=P,b.child=Re,P=b.child,P.memoizedState=rb(I),P.childLanes=ab(g,ue,I),b.memoizedState=pf,Vd(null,P)):(di(b),t0(b,Re))}var tt=g.memoizedState;if(tt!==null&&(Re=tt.dehydrated,Re!==null)){if(te)b.flags&256?(di(b),b.flags&=-257,b=Yd(g,b,I)):b.memoizedState!==null?(oa(),b.child=g.child,b.flags|=128,b=null):(oa(),Re=P.fallback,X=b.mode,P=Nu({mode:"visible",children:P.children},X),Re=jo(Re,X,I,null),Re.flags|=2,P.return=b,Re.return=b,P.sibling=Re,b.child=P,Mi(b,g.child,null,I),P=b.child,P.memoizedState=rb(I),P.childLanes=ab(g,ue,I),b.memoizedState=pf,b=Vd(null,P));else if(di(b),w0(Re))ue=E0(Re).digest,P=Error(a(419)),P.stack="",P.digest=ue,oe({value:P,source:null,stack:null}),b=Yd(g,b,I);else if(Vr||Pe(g,b,I,!1),ue=(I&g.childLanes)!==0,Vr||ue){if(ue=Pn,ue!==null&&(P=N(ue,I),P!==0&&P!==tt.retryLane))throw tt.retryLane=P,sa(g,P),ua(ue,g,P),gs;Wu(Re)||uh(),b=Yd(g,b,I)}else Wu(Re)?(b.flags|=192,b.child=g.child,b=null):(g=tt.treeContext,Qr&&(Zr=T3(Re),ni=b,Gn=!0,rc=null,hs=!1,g!==null&&ne(b,g)),b=t0(b,P.children),b.flags|=4096);return b}return X?(oa(),Re=P.fallback,X=b.mode,tt=g.child,te=tt.sibling,P=ro(tt,{mode:"hidden",children:P.children}),P.subtreeFlags=tt.subtreeFlags&65011712,te!==null?Re=ro(te,Re):(Re=jo(Re,X,I,null),Re.flags|=2),Re.return=b,P.return=b,P.sibling=Re,b.child=P,Vd(null,P),P=b.child,Re=g.child.memoizedState,Re===null?Re=rb(I):(X=Re.cachePool,X!==null?(tt=Na?Jr._currentValue:Jr._currentValue2,X=X.parent!==tt?{parent:tt,pool:tt}:X):X=xt(),Re={baseLanes:Re.baseLanes|I,cachePool:X}),P.memoizedState=Re,P.childLanes=ab(g,ue,I),b.memoizedState=pf,Vd(g.child,P)):(di(b),I=g.child,g=I.sibling,I=ro(I,{mode:"visible",children:P.children}),I.return=b,I.sibling=null,g!==null&&(ue=b.deletions,ue===null?(b.deletions=[g],b.flags|=16):ue.push(g)),b.child=I,b.memoizedState=null,I)}function t0(g,b){return b=Nu({mode:"visible",children:b},g.mode),b.return=g,g.child=b}function Nu(g,b){return g=n(22,g,null,b),g.lanes=0,g}function Yd(g,b,I){return Mi(b,g.child,null,I),g=t0(b,b.pendingProps.children),g.flags|=2,b.memoizedState=null,g}function GS(g,b,I){g.lanes|=b;var P=g.alternate;P!==null&&(P.lanes|=b),Ae(g.return,b,I)}function th(g,b,I,P,X,te){var ue=g.memoizedState;ue===null?g.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:P,tail:I,tailMode:X,treeForkCount:te}:(ue.isBackwards=b,ue.rendering=null,ue.renderingStartTime=0,ue.last=P,ue.tail=I,ue.tailMode=X,ue.treeForkCount=te)}function sb(g,b,I){var P=b.pendingProps,X=P.revealOrder,te=P.tail;P=P.children;var ue=_a.current,Re=(ue&2)!==0;if(Re?(ue=ue&1|2,b.flags|=128):ue&=1,x(_a,ue),Oi(g,b,P,I),P=Gn?mm:0,!Re&&g!==null&&(g.flags&128)!==0)e:for(g=b.child;g!==null;){if(g.tag===13)g.memoizedState!==null&&GS(g,I,b);else if(g.tag===19)GS(g,I,b);else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===b)break e;for(;g.sibling===null;){if(g.return===null||g.return===b)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}switch(X){case"forwards":for(I=b.child,X=null;I!==null;)g=I.alternate,g!==null&&Rs(g)===null&&(X=I),I=I.sibling;I=X,I===null?(X=b.child,b.child=null):(X=I.sibling,I.sibling=null),th(b,!1,X,I,te,P);break;case"backwards":case"unstable_legacy-backwards":for(I=null,X=b.child,b.child=null;X!==null;){if(g=X.alternate,g!==null&&Rs(g)===null){b.child=X;break}g=X.sibling,X.sibling=I,I=X,X=g}th(b,!0,I,null,te,P);break;case"together":th(b,!1,null,null,void 0,P);break;default:b.memoizedState=null}return b.child}function Ul(g,b,I){if(g!==null&&(b.dependencies=g.dependencies),au|=b.lanes,(I&b.childLanes)===0)if(g!==null){if(Pe(g,b,I,!1),(I&b.childLanes)===0)return null}else return null;if(g!==null&&b.child!==g.child)throw Error(a(153));if(b.child!==null){for(g=b.child,I=ro(g,g.pendingProps),b.child=I,I.return=b;g.sibling!==null;)g=g.sibling,I=I.sibling=ro(g,g.pendingProps),I.return=b;I.sibling=null}return b.child}function Vp(g,b){return(g.lanes&b)!==0?!0:(g=g.dependencies,!!(g!==null&&Le(g)))}function ob(g,b,I){switch(b.tag){case 3:re(b,b.stateNode.containerInfo),Se(b,Jr,g.memoizedState.cache),ve();break;case 27:case 5:ce(b);break;case 4:re(b,b.stateNode.containerInfo);break;case 10:Se(b,b.type,b.memoizedProps.value);break;case 31:if(b.memoizedState!==null)return b.flags|=128,il(b),null;break;case 13:var P=b.memoizedState;if(P!==null)return P.dehydrated!==null?(di(b),b.flags|=128,null):(I&b.child.childLanes)!==0?ib(g,b,I):(di(b),g=Ul(g,b,I),g!==null?g.sibling:null);di(b);break;case 19:var X=(g.flags&128)!==0;if(P=(I&b.childLanes)!==0,P||(Pe(g,b,I,!1),P=(I&b.childLanes)!==0),X){if(P)return sb(g,b,I);b.flags|=128}if(X=b.memoizedState,X!==null&&(X.rendering=null,X.tail=null,X.lastEffect=null),x(_a,_a.current),P)break;return null;case 22:return b.lanes=0,HS(g,b,I,b.pendingProps);case 24:Se(b,Jr,g.memoizedState.cache)}return Ul(g,b,I)}function lb(g,b,I){if(g!==null)if(g.memoizedProps!==b.pendingProps)Vr=!0;else{if(!Vp(g,I)&&(b.flags&128)===0)return Vr=!1,ob(g,b,I);Vr=(g.flags&131072)!==0}else Vr=!1,Gn&&(b.flags&1048576)!==0&&q(b,mm,b.index);switch(b.lanes=0,b.tag){case 16:e:{var P=b.pendingProps;if(g=Ut(b.elementType),b.type=g,typeof g=="function")Xd(g)?(P=qd(g,P),b.tag=1,b=Wd(null,b,g,P,I)):(b.tag=0,b=e0(null,b,g,P,I));else{if(g!=null){var X=g.$$typeof;if(X===ph){b.tag=11,b=zS(null,b,g,P,I);break e}else if(X===b0){b.tag=14,b=FS(null,b,g,P,I);break e}}throw b=h(g)||g,Error(a(306,b,""))}}return b;case 0:return e0(g,b,b.type,b.pendingProps,I);case 1:return P=b.type,X=qd(P,b.pendingProps),Wd(g,b,P,X,I);case 3:e:{if(re(b,b.stateNode.containerInfo),g===null)throw Error(a(387));var te=b.pendingProps;X=b.memoizedState,P=X.element,Es(g,b),As(b,te,null,I);var ue=b.memoizedState;if(te=ue.cache,Se(b,Jr,te),te!==X.cache&&Me(b,[Jr],I,!0),as(),te=ue.element,Qr&&X.isDehydrated)if(X={element:te,isDehydrated:!1,cache:ue.cache},b.updateQueue.baseState=X,b.memoizedState=X,b.flags&256){b=$S(g,b,te,I);break e}else if(te!==P){P=Q(Error(a(424)),b),oe(P),b=$S(g,b,te,I);break e}else for(Qr&&(Zr=w3(b.stateNode.containerInfo),ni=b,Gn=!0,rc=null,hs=!0),I=ax(b,null,te,I),b.child=I;I;)I.flags=I.flags&-3|4096,I=I.sibling;else{if(ve(),te===P){b=Ul(g,b,I);break e}Oi(g,b,te,I)}b=b.child}return b;case 26:if(No)return qp(g,b),g===null?(I=Wb(b.type,null,b.pendingProps,null))?b.memoizedState=I:Gn||(b.stateNode=k0(b.type,b.pendingProps,Ni.current,b)):b.memoizedState=Wb(b.type,g.memoizedProps,b.pendingProps,g.memoizedState),null;case 27:if(ti)return ce(b),g===null&&ti&&Gn&&(P=b.stateNode=I0(b.type,b.pendingProps,Ni.current,mi.current,!1),ni=b,hs=!0,Zr=Hb(b.type,P,Zr)),Oi(g,b,b.pendingProps.children,I),qp(g,b),g===null&&(b.flags|=4194304),b.child;case 5:return g===null&&Gn&&(z3(b.type,b.pendingProps,mi.current),(X=P=Zr)&&(P=A3(P,b.type,b.pendingProps,hs),P!==null?(b.stateNode=P,ni=b,Zr=C3(P),hs=!1,X=!0):X=!1),X||me(b)),ce(b),X=b.type,te=b.pendingProps,ue=g!==null?g.memoizedProps:null,P=te.children,fs(X,te)?P=null:ue!==null&&fs(X,ue)&&(b.flags|=32),b.memoizedState!==null&&(X=sl(g,b,Hi,null,null,I),Na?sf._currentValue=X:sf._currentValue2=X),qp(g,b),Oi(g,b,P,I),b.child;case 6:return g===null&&Gn&&(Vb(b.pendingProps,mi.current),(g=I=Zr)&&(I=R3(I,b.pendingProps,hs),I!==null?(b.stateNode=I,ni=b,Zr=null,g=!0):g=!1),g||me(b)),null;case 13:return ib(g,b,I);case 4:return re(b,b.stateNode.containerInfo),P=b.pendingProps,g===null?b.child=Mi(b,null,P,I):Oi(g,b,P,I),b.child;case 11:return zS(g,b,b.type,b.pendingProps,I);case 7:return Oi(g,b,b.pendingProps,I),b.child;case 8:return Oi(g,b,b.pendingProps.children,I),b.child;case 12:return Oi(g,b,b.pendingProps.children,I),b.child;case 10:return P=b.pendingProps,Se(b,b.type,P.value),Oi(g,b,P.children,I),b.child;case 9:return X=b.type._context,P=b.pendingProps.children,Oe(b),X=Xe(X),P=P(X),b.flags|=1,Oi(g,b,P,I),b.child;case 14:return FS(g,b,b.type,b.pendingProps,I);case 15:return BS(g,b,b.type,b.pendingProps,I);case 19:return sb(g,b,I);case 31:return US(g,b,I);case 22:return HS(g,b,I,b.pendingProps);case 24:return Oe(b),P=Xe(Jr),g===null?(X=In(),X===null&&(X=Pn,te=ye(),X.pooledCache=te,te.refCount++,te!==null&&(X.pooledCacheLanes|=I),X=te),b.memoizedState={parent:P,cache:X},Fr(b),Se(b,Jr,X)):((g.lanes&I)!==0&&(Es(g,b),As(b,null,null,I),as()),X=g.memoizedState,te=b.memoizedState,X.parent!==P?(X={parent:P,cache:P},b.memoizedState=X,b.lanes===0&&(b.memoizedState=b.updateQueue.baseState=X),Se(b,Jr,P)):(P=te.cache,Se(b,Jr,P),P!==X.cache&&Me(b,[Jr],I,!0))),Oi(g,b,b.pendingProps.children,I),b.child;case 29:throw b.pendingProps}throw Error(a(156,b.tag))}function To(g){g.flags|=4}function Wp(g){ao&&(g.flags|=8)}function qS(g,b){if(g!==null&&g.child===b.child)return!1;if((b.flags&16)!==0)return!0;for(g=b.child;g!==null;){if((g.flags&8218)!==0||(g.subtreeFlags&8218)!==0)return!0;g=g.sibling}return!1}function cb(g,b,I,P){if(Yn)for(I=b.child;I!==null;){if(I.tag===5||I.tag===6)om(g,I.stateNode);else if(!(I.tag===4||ti&&I.tag===27)&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===b)break;for(;I.sibling===null;){if(I.return===null||I.return===b)return;I=I.return}I.sibling.return=I.return,I=I.sibling}else if(ao)for(var X=b.child;X!==null;){if(X.tag===5){var te=X.stateNode;I&&P&&(te=x3(te,X.type,X.memoizedProps)),om(g,te)}else if(X.tag===6)te=X.stateNode,I&&P&&(te=Fb(te,X.memoizedProps)),om(g,te);else if(X.tag!==4){if(X.tag===22&&X.memoizedState!==null)te=X.child,te!==null&&(te.return=X),cb(g,X,!0,!0);else if(X.child!==null){X.child.return=X,X=X.child;continue}}if(X===b)break;for(;X.sibling===null;){if(X.return===null||X.return===b)return;X=X.return}X.sibling.return=X.return,X=X.sibling}}function VS(g,b,I,P){var X=!1;if(ao)for(var te=b.child;te!==null;){if(te.tag===5){var ue=te.stateNode;I&&P&&(ue=x3(ue,te.type,te.memoizedProps)),Lb(g,ue)}else if(te.tag===6)ue=te.stateNode,I&&P&&(ue=Fb(ue,te.memoizedProps)),Lb(g,ue);else if(te.tag!==4){if(te.tag===22&&te.memoizedState!==null)X=te.child,X!==null&&(X.return=te),VS(g,te,!0,!0),X=!0;else if(te.child!==null){te.child.return=te,te=te.child;continue}}if(te===b)break;for(;te.sibling===null;){if(te.return===null||te.return===b)return X;te=te.return}te.sibling.return=te.return,te=te.sibling}return X}function WS(g,b){if(ao&&qS(g,b)){g=b.stateNode;var I=g.containerInfo,P=Pb();VS(P,b,!1,!1),g.pendingChildren=P,To(b),b3(I,P)}}function ub(g,b,I,P){if(Yn)g.memoizedProps!==P&&To(b);else if(ao){var X=g.stateNode,te=g.memoizedProps;if((g=qS(g,b))||te!==P){var ue=mi.current;te=y3(X,I,te,P,!g,null),te===X?b.stateNode=X:(Wp(b),Ms(te,I,P,ue)&&To(b),b.stateNode=te,g&&cb(te,b,!1,!1))}else b.stateNode=X}}function cs(g,b,I,P,X){if((g.mode&32)!==0&&(I===null?lm(b,P):xh(b,I,P))){if(g.flags|=16777216,(X&335544128)===X||Eb(b,P))if(da(g.stateNode,b,P))g.flags|=8192;else if(Wn())g.flags|=8192;else throw ps=ac,H0}else g.flags&=-16777217}function nh(g,b){if(Qb(b)){if(g.flags|=16777216,!Zb(b))if(Wn())g.flags|=8192;else throw ps=ac,H0}else g.flags&=-16777217}function Yp(g,b){b!==null&&(g.flags|=4),g.flags&16384&&(b=g.tag!==22?E():536870912,g.lanes|=b,Rh|=b)}function rh(g,b){if(!Gn)switch(g.tailMode){case"hidden":b=g.tail;for(var I=null;b!==null;)b.alternate!==null&&(I=b),b=b.sibling;I===null?g.tail=null:I.sibling=null;break;case"collapsed":I=g.tail;for(var P=null;I!==null;)I.alternate!==null&&(P=I),I=I.sibling;P===null?b||g.tail===null?g.tail=null:g.tail.sibling=null:P.sibling=null}}function Br(g){var b=g.alternate!==null&&g.alternate.child===g.child,I=0,P=0;if(b)for(var X=g.child;X!==null;)I|=X.lanes|X.childLanes,P|=X.subtreeFlags&65011712,P|=X.flags&65011712,X.return=g,X=X.sibling;else for(X=g.child;X!==null;)I|=X.lanes|X.childLanes,P|=X.subtreeFlags,P|=X.flags,X.return=g,X=X.sibling;return g.subtreeFlags|=P,g.childLanes=I,b}function YS(g,b,I){var P=b.pendingProps;switch(Y(b),b.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Br(b),null;case 1:return Br(b),null;case 3:return I=b.stateNode,P=null,g!==null&&(P=g.memoizedState.cache),b.memoizedState.cache!==P&&(b.flags|=2048),be(Jr),ie(),I.pendingContext&&(I.context=I.pendingContext,I.pendingContext=null),(g===null||g.child===null)&&(pe(b)?To(b):g===null||g.memoizedState.isDehydrated&&(b.flags&256)===0||(b.flags|=1024,ge())),WS(g,b),Br(b),null;case 26:if(No){var X=b.type,te=b.memoizedState;return g===null?(To(b),te!==null?(Br(b),nh(b,te)):(Br(b),cs(b,X,null,P,I))):te?te!==g.memoizedState?(To(b),Br(b),nh(b,te)):(Br(b),b.flags&=-16777217):(te=g.memoizedProps,Yn?te!==P&&To(b):ub(g,b,X,P),Br(b),cs(b,X,te,P,I)),null}case 27:if(ti){if(he(b),I=Ni.current,X=b.type,g!==null&&b.stateNode!=null)Yn?g.memoizedProps!==P&&To(b):ub(g,b,X,P);else{if(!P){if(b.stateNode===null)throw Error(a(166));return Br(b),null}g=mi.current,pe(b)?le(b,g):(g=I0(X,P,I,g,!0),b.stateNode=g,To(b))}return Br(b),null}case 5:if(he(b),X=b.type,g!==null&&b.stateNode!=null)ub(g,b,X,P);else{if(!P){if(b.stateNode===null)throw Error(a(166));return Br(b),null}if(te=mi.current,pe(b))le(b,te),M3(b.stateNode,X,P,te)&&(b.flags|=64);else{var ue=Cb(X,P,Ni.current,te,b);Wp(b),cb(ue,b,!1,!1),b.stateNode=ue,Ms(ue,X,P,te)&&To(b)}}return Br(b),cs(b,b.type,g===null?null:g.memoizedProps,b.pendingProps,I),null;case 6:if(g&&b.stateNode!=null)I=g.memoizedProps,Yn?I!==P&&To(b):ao&&(I!==P?(g=Ni.current,I=mi.current,Wp(b),b.stateNode=Zc(P,g,I,b)):b.stateNode=g.stateNode);else{if(typeof P!="string"&&b.stateNode===null)throw Error(a(166));if(g=Ni.current,I=mi.current,pe(b)){if(!Qr)throw Error(a(176));if(g=b.stateNode,I=b.memoizedProps,P=null,X=ni,X!==null)switch(X.tag){case 27:case 5:P=X.memoizedProps}nE(g,I,b,P)||me(b,!0)}else Wp(b),b.stateNode=Zc(P,g,I,b)}return Br(b),null;case 31:if(I=b.memoizedState,g===null||g.memoizedState!==null){if(P=pe(b),I!==null){if(g===null){if(!P)throw Error(a(318));if(!Qr)throw Error(a(556));if(g=b.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(557));$b(g,b)}else ve(),(b.flags&128)===0&&(b.memoizedState=null),b.flags|=4;Br(b),g=!1}else I=ge(),g!==null&&g.memoizedState!==null&&(g.memoizedState.hydrationErrors=I),g=!0;if(!g)return b.flags&256?(va(b),b):(va(b),null);if((b.flags&128)!==0)throw Error(a(558))}return Br(b),null;case 13:if(P=b.memoizedState,g===null||g.memoizedState!==null&&g.memoizedState.dehydrated!==null){if(X=pe(b),P!==null&&P.dehydrated!==null){if(g===null){if(!X)throw Error(a(318));if(!Qr)throw Error(a(344));if(X=b.memoizedState,X=X!==null?X.dehydrated:null,!X)throw Error(a(317));j3(X,b)}else ve(),(b.flags&128)===0&&(b.memoizedState=null),b.flags|=4;Br(b),X=!1}else X=ge(),g!==null&&g.memoizedState!==null&&(g.memoizedState.hydrationErrors=X),X=!0;if(!X)return b.flags&256?(va(b),b):(va(b),null)}return va(b),(b.flags&128)!==0?(b.lanes=I,b):(I=P!==null,g=g!==null&&g.memoizedState!==null,I&&(P=b.child,X=null,P.alternate!==null&&P.alternate.memoizedState!==null&&P.alternate.memoizedState.cachePool!==null&&(X=P.alternate.memoizedState.cachePool.pool),te=null,P.memoizedState!==null&&P.memoizedState.cachePool!==null&&(te=P.memoizedState.cachePool.pool),te!==X&&(P.flags|=2048)),I!==g&&I&&(b.child.flags|=8192),Yp(b,b.updateQueue),Br(b),null);case 4:return ie(),WS(g,b),g===null&&Or(b.stateNode.containerInfo),Br(b),null;case 10:return be(b.type),Br(b),null;case 19:if(y(_a),P=b.memoizedState,P===null)return Br(b),null;if(X=(b.flags&128)!==0,te=P.rendering,te===null)if(X)rh(P,!1);else{if(pa!==0||g!==null&&(g.flags&128)!==0)for(g=b.child;g!==null;){if(te=Rs(g),te!==null){for(b.flags|=128,rh(P,!1),g=te.updateQueue,b.updateQueue=g,Yp(b,g),b.subtreeFlags=0,g=I,I=b.child;I!==null;)h0(I,g),I=I.sibling;return x(_a,_a.current&1|2),Gn&&K(b,P.treeForkCount),b.child}g=g.sibling}P.tail!==null&&qi()>ad&&(b.flags|=128,X=!0,rh(P,!1),b.lanes=4194304)}else{if(!X)if(g=Rs(te),g!==null){if(b.flags|=128,X=!0,g=g.updateQueue,b.updateQueue=g,Yp(b,g),rh(P,!0),P.tail===null&&P.tailMode==="hidden"&&!te.alternate&&!Gn)return Br(b),null}else 2*qi()-P.renderingStartTime>ad&&I!==536870912&&(b.flags|=128,X=!0,rh(P,!1),b.lanes=4194304);P.isBackwards?(te.sibling=b.child,b.child=te):(g=P.last,g!==null?g.sibling=te:b.child=te,P.last=te)}return P.tail!==null?(g=P.tail,P.rendering=g,P.tail=g.sibling,P.renderingStartTime=qi(),g.sibling=null,I=_a.current,x(_a,X?I&1|2:I&1),Gn&&K(b,P.treeForkCount),g):(Br(b),null);case 22:case 23:return va(b),Sr(),P=b.memoizedState!==null,g!==null?g.memoizedState!==null!==P&&(b.flags|=8192):P&&(b.flags|=8192),P?(I&536870912)!==0&&(b.flags&128)===0&&(Br(b),b.subtreeFlags&6&&(b.flags|=8192)):Br(b),I=b.updateQueue,I!==null&&Yp(b,I.retryQueue),I=null,g!==null&&g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(I=g.memoizedState.cachePool.pool),P=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(P=b.memoizedState.cachePool.pool),P!==I&&(b.flags|=2048),g!==null&&y(Xu),null;case 24:return I=null,g!==null&&(I=g.memoizedState.cache),b.memoizedState.cache!==I&&(b.flags|=2048),be(Jr),Br(b),null;case 25:return null;case 30:return null}throw Error(a(156,b.tag))}function db(g,b){switch(Y(b),b.tag){case 1:return g=b.flags,g&65536?(b.flags=g&-65537|128,b):null;case 3:return be(Jr),ie(),g=b.flags,(g&65536)!==0&&(g&128)===0?(b.flags=g&-65537|128,b):null;case 26:case 27:case 5:return he(b),null;case 31:if(b.memoizedState!==null){if(va(b),b.alternate===null)throw Error(a(340));ve()}return g=b.flags,g&65536?(b.flags=g&-65537|128,b):null;case 13:if(va(b),g=b.memoizedState,g!==null&&g.dehydrated!==null){if(b.alternate===null)throw Error(a(340));ve()}return g=b.flags,g&65536?(b.flags=g&-65537|128,b):null;case 19:return y(_a),null;case 4:return ie(),null;case 10:return be(b.type),null;case 22:case 23:return va(b),Sr(),g!==null&&y(Xu),g=b.flags,g&65536?(b.flags=g&-65537|128,b):null;case 24:return be(Jr),null;case 25:return null;default:return null}}function KS(g,b){switch(Y(b),b.tag){case 3:be(Jr),ie();break;case 26:case 27:case 5:he(b);break;case 4:ie();break;case 31:b.memoizedState!==null&&va(b);break;case 13:va(b);break;case 19:y(_a);break;case 10:be(b.type);break;case 22:case 23:va(b),Sr(),g!==null&&y(Xu);break;case 24:be(Jr)}}function $l(g,b){try{var I=b.updateQueue,P=I!==null?I.lastEffect:null;if(P!==null){var X=P.next;I=X;do{if((I.tag&g)===g){P=void 0;var te=I.create,ue=I.inst;P=te(),ue.destroy=P}I=I.next}while(I!==X)}}catch(Re){gn(b,b.return,Re)}}function Gl(g,b,I){try{var P=b.updateQueue,X=P!==null?P.lastEffect:null;if(X!==null){var te=X.next;P=te;do{if((P.tag&g)===g){var ue=P.inst,Re=ue.destroy;if(Re!==void 0){ue.destroy=void 0,X=b;var tt=I,yt=Re;try{yt()}catch(jt){gn(X,tt,jt)}}}P=P.next}while(P!==te)}}catch(jt){gn(b,b.return,jt)}}function ah(g){var b=g.updateQueue;if(b!==null){var I=g.stateNode;try{is(b,I)}catch(P){gn(g,g.return,P)}}}function n0(g,b,I){I.props=qd(g.type,g.memoizedProps),I.state=g.memoizedState;try{I.componentWillUnmount()}catch(P){gn(g,b,P)}}function ih(g,b){try{var I=g.ref;if(I!==null){switch(g.tag){case 26:case 27:case 5:var P=gh(g.stateNode);break;case 30:P=g.stateNode;break;default:P=g.stateNode}typeof I=="function"?g.refCleanup=I(P):I.current=P}}catch(X){gn(g,b,X)}}function Gi(g,b){var I=g.ref,P=g.refCleanup;if(I!==null)if(typeof P=="function")try{P()}catch(X){gn(g,b,X)}finally{g.refCleanup=null,g=g.alternate,g!=null&&(g.refCleanup=null)}else if(typeof I=="function")try{I(null)}catch(X){gn(g,b,X)}else I.current=null}function Kd(g){var b=g.type,I=g.memoizedProps,P=g.stateNode;try{c3(P,b,I,g)}catch(X){gn(g,g.return,X)}}function Kp(g,b,I){try{u3(g.stateNode,g.type,I,b,g)}catch(P){gn(g,g.return,P)}}function fb(g){return g.tag===5||g.tag===3||(No?g.tag===26:!1)||(ti?g.tag===27&&of(g.type):!1)||g.tag===4}function Gc(g){e:for(;;){for(;g.sibling===null;){if(g.return===null||fb(g.return))return null;g=g.return}for(g.sibling.return=g.return,g=g.sibling;g.tag!==5&&g.tag!==6&&g.tag!==18;){if(ti&&g.tag===27&&of(g.type)||g.flags&2||g.child===null||g.tag===4)continue e;g.child.return=g,g=g.child}if(!(g.flags&2))return g.stateNode}}function r0(g,b,I){var P=g.tag;if(P===5||P===6)g=g.stateNode,b?f3(I,g,b):Ob(I,g);else if(P!==4&&(ti&&P===27&&of(g.type)&&(I=g.stateNode,b=null),g=g.child,g!==null))for(r0(g,b,I),g=g.sibling;g!==null;)r0(g,b,I),g=g.sibling}function Xp(g,b,I){var P=g.tag;if(P===5||P===6)g=g.stateNode,b?d3(I,g,b):jb(I,g);else if(P!==4&&(ti&&P===27&&of(g.type)&&(I=g.stateNode),g=g.child,g!==null))for(Xp(g,b,I),g=g.sibling;g!==null;)Xp(g,b,I),g=g.sibling}function hb(g,b,I){g=g.containerInfo;try{zb(g,I)}catch(P){gn(b,b.return,P)}}function XS(g){var b=g.stateNode,I=g.memoizedProps;try{qa(g.type,I,b,g)}catch(P){gn(g,g.return,P)}}function Zw(g,b){for(x0(g.containerInfo),La=b;La!==null;)if(g=La,b=g.child,(g.subtreeFlags&1028)!==0&&b!==null)b.return=g,La=b;else for(;La!==null;){g=La;var I=g.alternate;switch(b=g.flags,g.tag){case 0:if((b&4)!==0&&(b=g.updateQueue,b=b!==null?b.events:null,b!==null))for(var P=0;P<b.length;P++){var X=b[P];X.ref.impl=X.nextImpl}break;case 11:case 15:break;case 1:if((b&1024)!==0&&I!==null){b=void 0,P=g,X=I.memoizedProps,I=I.memoizedState;var te=P.stateNode;try{var ue=qd(P.type,X);b=te.getSnapshotBeforeUpdate(ue,I),te.__reactInternalSnapshotBeforeUpdate=b}catch(Re){gn(P,P.return,Re)}}break;case 3:(b&1024)!==0&&Yn&&Mb(g.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((b&1024)!==0)throw Error(a(163))}if(b=g.sibling,b!==null){b.return=g.return,La=b;break}La=g.return}}function QS(g,b,I){var P=I.flags;switch(I.tag){case 0:case 11:case 15:us(g,I),P&4&&$l(5,I);break;case 1:if(us(g,I),P&4)if(g=I.stateNode,b===null)try{g.componentDidMount()}catch(ue){gn(I,I.return,ue)}else{var X=qd(I.type,b.memoizedProps);b=b.memoizedState;try{g.componentDidUpdate(X,b,g.__reactInternalSnapshotBeforeUpdate)}catch(ue){gn(I,I.return,ue)}}P&64&&ah(I),P&512&&ih(I,I.return);break;case 3:if(us(g,I),P&64&&(P=I.updateQueue,P!==null)){if(g=null,I.child!==null)switch(I.child.tag){case 27:case 5:g=gh(I.child.stateNode);break;case 1:g=I.child.stateNode}try{is(P,g)}catch(ue){gn(I,I.return,ue)}}break;case 27:ti&&b===null&&P&4&&XS(I);case 26:case 5:if(us(g,I),b===null){if(P&4)Kd(I);else if(P&64){g=I.type,b=I.memoizedProps,X=I.stateNode;try{D3(X,g,b,I)}catch(ue){gn(I,I.return,ue)}}}P&512&&ih(I,I.return);break;case 12:us(g,I);break;case 31:us(g,I),P&4&&Ro(g,I);break;case 13:us(g,I),P&4&&Zp(g,I),P&64&&(P=I.memoizedState,P!==null&&(P=P.dehydrated,P!==null&&(I=Jw.bind(null,I),T0(P,I))));break;case 22:if(P=I.memoizedState!==null||Ca,!P){b=b!==null&&b.memoizedState!==null||wa,X=Ca;var te=wa;Ca=P,(wa=b)&&!te?Io(g,I,(I.subtreeFlags&8772)!==0):us(g,I),Ca=X,wa=te}break;case 30:break;default:us(g,I)}}function pb(g){var b=g.alternate;b!==null&&(g.alternate=null,pb(b)),g.child=null,g.deletions=null,g.sibling=null,g.tag===5&&(b=g.stateNode,b!==null&&v0(b)),g.stateNode=null,g.return=null,g.dependencies=null,g.memoizedProps=null,g.memoizedState=null,g.pendingProps=null,g.stateNode=null,g.updateQueue=null}function Ao(g,b,I){for(I=I.child;I!==null;)Qp(g,b,I),I=I.sibling}function Qp(g,b,I){if(zs&&typeof zs.onCommitFiberUnmount=="function")try{zs.onCommitFiberUnmount(uf,I)}catch{}switch(I.tag){case 26:if(No){wa||Gi(I,b),Ao(g,b,I),I.memoizedState?Yu(I.memoizedState):I.stateNode&&Xb(I.stateNode);break}case 27:if(ti){wa||Gi(I,b);var P=ha,X=za;of(I.type)&&(ha=I.stateNode,za=!1),Ao(g,b,I),pi(I.stateNode),ha=P,za=X;break}case 5:wa||Gi(I,b);case 6:if(Yn){if(P=ha,X=za,ha=null,Ao(g,b,I),ha=P,za=X,ha!==null)if(za)try{Db(ha,I.stateNode)}catch(te){gn(I,b,te)}else try{h3(ha,I.stateNode)}catch(te){gn(I,b,te)}}else Ao(g,b,I);break;case 18:Yn&&ha!==null&&(za?A0(ha,I.stateNode):qb(ha,I.stateNode));break;case 4:Yn?(P=ha,X=za,ha=I.stateNode.containerInfo,za=!0,Ao(g,b,I),ha=P,za=X):(ao&&hb(I.stateNode,I,Pb()),Ao(g,b,I));break;case 0:case 11:case 14:case 15:Gl(2,I,b),wa||Gl(4,I,b),Ao(g,b,I);break;case 1:wa||(Gi(I,b),P=I.stateNode,typeof P.componentWillUnmount=="function"&&n0(I,b,P)),Ao(g,b,I);break;case 21:Ao(g,b,I);break;case 22:wa=(P=wa)||I.memoizedState!==null,Ao(g,b,I),wa=P;break;default:Ao(g,b,I)}}function Ro(g,b){if(Qr&&b.memoizedState===null&&(g=b.alternate,g!==null&&(g=g.memoizedState,g!==null))){g=g.dehydrated;try{rE(g)}catch(I){gn(b,b.return,I)}}}function Zp(g,b){if(Qr&&b.memoizedState===null&&(g=b.alternate,g!==null&&(g=g.memoizedState,g!==null&&(g=g.dehydrated,g!==null))))try{aE(g)}catch(I){gn(b,b.return,I)}}function ko(g){switch(g.tag){case 31:case 13:case 19:var b=g.stateNode;return b===null&&(b=g.stateNode=new sx),b;case 22:return g=g.stateNode,b=g._retryCache,b===null&&(b=g._retryCache=new sx),b;default:throw Error(a(435,g.tag))}}function qc(g,b){var I=ko(g);b.forEach(function(P){if(!I.has(P)){I.add(P);var X=eE.bind(null,g,P);P.then(X,X)}})}function fi(g,b){var I=b.deletions;if(I!==null)for(var P=0;P<I.length;P++){var X=I[P],te=g,ue=b;if(Yn){var Re=ue;e:for(;Re!==null;){switch(Re.tag){case 27:if(ti){if(of(Re.type)){ha=Re.stateNode,za=!1;break e}break}case 5:ha=Re.stateNode,za=!1;break e;case 3:case 4:ha=Re.stateNode.containerInfo,za=!0;break e}Re=Re.return}if(ha===null)throw Error(a(160));Qp(te,ue,X),ha=null,za=!1}else Qp(te,ue,X);te=X.alternate,te!==null&&(te.return=null),X.return=null}if(b.subtreeFlags&13886)for(b=b.child;b!==null;)Jp(b,g),b=b.sibling}function Jp(g,b){var I=g.alternate,P=g.flags;switch(g.tag){case 0:case 11:case 14:case 15:fi(b,g),hi(g),P&4&&(Gl(3,g,g.return),$l(3,g),Gl(5,g,g.return));break;case 1:fi(b,g),hi(g),P&512&&(wa||I===null||Gi(I,I.return)),P&64&&Ca&&(g=g.updateQueue,g!==null&&(P=g.callbacks,P!==null&&(I=g.shared.hiddenCallbacks,g.shared.hiddenCallbacks=I===null?P:I.concat(P))));break;case 26:if(No){var X=Cr;if(fi(b,g),hi(g),P&512&&(wa||I===null||Gi(I,I.return)),P&4){P=I!==null?I.memoizedState:null;var te=g.memoizedState;I===null?te===null?g.stateNode===null?g.stateNode=F3(X,g.type,g.memoizedProps,g):Kb(X,g.type,g.stateNode):g.stateNode=Yb(X,te,g.memoizedProps):P!==te?(P===null?I.stateNode!==null&&Xb(I.stateNode):Yu(P),te===null?Kb(X,g.type,g.stateNode):Yb(X,te,g.memoizedProps)):te===null&&g.stateNode!==null&&Kp(g,g.memoizedProps,I.memoizedProps)}break}case 27:if(ti){fi(b,g),hi(g),P&512&&(wa||I===null||Gi(I,I.return)),I!==null&&P&4&&Kp(g,g.memoizedProps,I.memoizedProps);break}case 5:if(fi(b,g),hi(g),P&512&&(wa||I===null||Gi(I,I.return)),Yn){if(g.flags&32){X=g.stateNode;try{Nb(X)}catch(St){gn(g,g.return,St)}}P&4&&g.stateNode!=null&&(X=g.memoizedProps,Kp(g,X,I!==null?I.memoizedProps:X)),P&1024&&(Ch=!0)}else ao&&g.alternate!==null&&(g.alternate.stateNode=g.stateNode);break;case 6:if(fi(b,g),hi(g),P&4&&Yn){if(g.stateNode===null)throw Error(a(162));P=g.memoizedProps,I=I!==null?I.memoizedProps:P,X=g.stateNode;try{l3(X,I,P)}catch(St){gn(g,g.return,St)}}break;case 3:if(No?(B3(),X=Cr,Cr=dm(b.containerInfo),fi(b,g),Cr=X):fi(b,g),hi(g),P&4){if(Yn&&Qr&&I!==null&&I.memoizedState.isDehydrated)try{N3(b.containerInfo)}catch(St){gn(g,g.return,St)}if(ao){P=b.containerInfo,I=b.pendingChildren;try{zb(P,I)}catch(St){gn(g,g.return,St)}}}Ch&&(Ch=!1,a0(g));break;case 4:No?(I=Cr,Cr=dm(g.stateNode.containerInfo),fi(b,g),hi(g),Cr=I):(fi(b,g),hi(g)),P&4&&ao&&hb(g.stateNode,g,g.stateNode.pendingChildren);break;case 12:fi(b,g),hi(g);break;case 31:fi(b,g),hi(g),P&4&&(P=g.updateQueue,P!==null&&(g.updateQueue=null,qc(g,P)));break;case 13:fi(b,g),hi(g),g.child.flags&8192&&g.memoizedState!==null!=(I!==null&&I.memoizedState!==null)&&(Sm=qi()),P&4&&(P=g.updateQueue,P!==null&&(g.updateQueue=null,qc(g,P)));break;case 22:X=g.memoizedState!==null;var ue=I!==null&&I.memoizedState!==null,Re=Ca,tt=wa;if(Ca=Re||X,wa=tt||ue,fi(b,g),wa=tt,Ca=Re,hi(g),P&8192&&(b=g.stateNode,b._visibility=X?b._visibility&-2:b._visibility|1,X&&(I===null||ue||Ca||wa||Mu(g)),Yn)){e:if(I=null,Yn)for(b=g;;){if(b.tag===5||No&&b.tag===26){if(I===null){ue=I=b;try{te=ue.stateNode,X?tE(te):m3(ue.stateNode,ue.memoizedProps)}catch(St){gn(ue,ue.return,St)}}}else if(b.tag===6){if(I===null){ue=b;try{var yt=ue.stateNode;X?p3(yt):g3(yt,ue.memoizedProps)}catch(St){gn(ue,ue.return,St)}}}else if(b.tag===18){if(I===null){ue=b;try{var jt=ue.stateNode;X?P3(jt):L3(ue.stateNode)}catch(St){gn(ue,ue.return,St)}}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===g)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===g)break e;for(;b.sibling===null;){if(b.return===null||b.return===g)break e;I===b&&(I=null),b=b.return}I===b&&(I=null),b.sibling.return=b.return,b=b.sibling}}P&4&&(P=g.updateQueue,P!==null&&(I=P.retryQueue,I!==null&&(P.retryQueue=null,qc(g,I))));break;case 19:fi(b,g),hi(g),P&4&&(P=g.updateQueue,P!==null&&(g.updateQueue=null,qc(g,P)));break;case 30:break;case 21:break;default:fi(b,g),hi(g)}}function hi(g){var b=g.flags;if(b&2){try{for(var I,P=g.return;P!==null;){if(fb(P)){I=P;break}P=P.return}if(Yn){if(I==null)throw Error(a(160));switch(I.tag){case 27:if(ti){var X=I.stateNode,te=Gc(g);Xp(g,te,X);break}case 5:var ue=I.stateNode;I.flags&32&&(Nb(ue),I.flags&=-33);var Re=Gc(g);Xp(g,Re,ue);break;case 3:case 4:var tt=I.stateNode.containerInfo,yt=Gc(g);r0(g,yt,tt);break;default:throw Error(a(161))}}}catch(jt){gn(g,g.return,jt)}g.flags&=-3}b&4096&&(g.flags&=-4097)}function a0(g){if(g.subtreeFlags&1024)for(g=g.child;g!==null;){var b=g;a0(b),b.tag===5&&b.flags&1024&&Ab(b.stateNode),g=g.sibling}}function us(g,b){if(b.subtreeFlags&8772)for(b=b.child;b!==null;)QS(g,b.alternate,b),b=b.sibling}function Mu(g){for(g=g.child;g!==null;){var b=g;switch(b.tag){case 0:case 11:case 14:case 15:Gl(4,b,b.return),Mu(b);break;case 1:Gi(b,b.return);var I=b.stateNode;typeof I.componentWillUnmount=="function"&&n0(b,b.return,I),Mu(b);break;case 27:ti&&pi(b.stateNode);case 26:case 5:Gi(b,b.return),Mu(b);break;case 22:b.memoizedState===null&&Mu(b);break;case 30:Mu(b);break;default:Mu(b)}g=g.sibling}}function Io(g,b,I){for(I=I&&(b.subtreeFlags&8772)!==0,b=b.child;b!==null;){var P=b.alternate,X=g,te=b,ue=te.flags;switch(te.tag){case 0:case 11:case 15:Io(X,te,I),$l(4,te);break;case 1:if(Io(X,te,I),P=te,X=P.stateNode,typeof X.componentDidMount=="function")try{X.componentDidMount()}catch(yt){gn(P,P.return,yt)}if(P=te,X=P.updateQueue,X!==null){var Re=P.stateNode;try{var tt=X.shared.hiddenCallbacks;if(tt!==null)for(X.shared.hiddenCallbacks=null,X=0;X<tt.length;X++)Zs(tt[X],Re)}catch(yt){gn(P,P.return,yt)}}I&&ue&64&&ah(te),ih(te,te.return);break;case 27:ti&&XS(te);case 26:case 5:Io(X,te,I),I&&P===null&&ue&4&&Kd(te),ih(te,te.return);break;case 12:Io(X,te,I);break;case 31:Io(X,te,I),I&&ue&4&&Ro(X,te);break;case 13:Io(X,te,I),I&&ue&4&&Zp(X,te);break;case 22:te.memoizedState===null&&Io(X,te,I),ih(te,te.return);break;case 30:break;default:Io(X,te,I)}b=b.sibling}}function Pu(g,b){var I=null;g!==null&&g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(I=g.memoizedState.cachePool.pool),g=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(g=b.memoizedState.cachePool.pool),g!==I&&(g!=null&&g.refCount++,I!=null&&Ce(I))}function mb(g,b){g=null,b.alternate!==null&&(g=b.alternate.memoizedState.cache),b=b.memoizedState.cache,b!==g&&(b.refCount++,g!=null&&Ce(g))}function ca(g,b,I,P){if(b.subtreeFlags&10256)for(b=b.child;b!==null;)i0(g,b,I,P),b=b.sibling}function i0(g,b,I,P){var X=b.flags;switch(b.tag){case 0:case 11:case 15:ca(g,b,I,P),X&2048&&$l(9,b);break;case 1:ca(g,b,I,P);break;case 3:ca(g,b,I,P),X&2048&&(g=null,b.alternate!==null&&(g=b.alternate.memoizedState.cache),b=b.memoizedState.cache,b!==g&&(b.refCount++,g!=null&&Ce(g)));break;case 12:if(X&2048){ca(g,b,I,P),g=b.stateNode;try{var te=b.memoizedProps,ue=te.id,Re=te.onPostCommit;typeof Re=="function"&&Re(ue,b.alternate===null?"mount":"update",g.passiveEffectDuration,-0)}catch(tt){gn(b,b.return,tt)}}else ca(g,b,I,P);break;case 31:ca(g,b,I,P);break;case 13:ca(g,b,I,P);break;case 23:break;case 22:te=b.stateNode,ue=b.alternate,b.memoizedState!==null?te._visibility&2?ca(g,b,I,P):sh(g,b):te._visibility&2?ca(g,b,I,P):(te._visibility|=2,Os(g,b,I,P,(b.subtreeFlags&10256)!==0||!1)),X&2048&&Pu(ue,b);break;case 24:ca(g,b,I,P),X&2048&&mb(b.alternate,b);break;default:ca(g,b,I,P)}}function Os(g,b,I,P,X){for(X=X&&((b.subtreeFlags&10256)!==0||!1),b=b.child;b!==null;){var te=g,ue=b,Re=I,tt=P,yt=ue.flags;switch(ue.tag){case 0:case 11:case 15:Os(te,ue,Re,tt,X),$l(8,ue);break;case 23:break;case 22:var jt=ue.stateNode;ue.memoizedState!==null?jt._visibility&2?Os(te,ue,Re,tt,X):sh(te,ue):(jt._visibility|=2,Os(te,ue,Re,tt,X)),X&&yt&2048&&Pu(ue.alternate,ue);break;case 24:Os(te,ue,Re,tt,X),X&&yt&2048&&mb(ue.alternate,ue);break;default:Os(te,ue,Re,tt,X)}b=b.sibling}}function sh(g,b){if(b.subtreeFlags&10256)for(b=b.child;b!==null;){var I=g,P=b,X=P.flags;switch(P.tag){case 22:sh(I,P),X&2048&&Pu(P.alternate,P);break;case 24:sh(I,P),X&2048&&mb(P.alternate,P);break;default:sh(I,P)}b=b.sibling}}function ql(g,b,I){if(g.subtreeFlags&lo)for(g=g.child;g!==null;)Lu(g,b,I),g=g.sibling}function Lu(g,b,I){switch(g.tag){case 26:if(ql(g,b,I),g.flags&lo)if(g.memoizedState!==null)H3(I,Cr,g.memoizedState,g.memoizedProps);else{var P=g.stateNode,X=g.type;g=g.memoizedProps,((b&335544128)===b||Eb(X,g))&&S0(I,P,X,g)}break;case 5:ql(g,b,I),g.flags&lo&&(P=g.stateNode,X=g.type,g=g.memoizedProps,((b&335544128)===b||Eb(X,g))&&S0(I,P,X,g));break;case 3:case 4:No?(P=Cr,Cr=dm(g.stateNode.containerInfo),ql(g,b,I),Cr=P):ql(g,b,I);break;case 22:g.memoizedState===null&&(P=g.alternate,P!==null&&P.memoizedState!==null?(P=lo,lo=16777216,ql(g,b,I),lo=P):ql(g,b,I));break;default:ql(g,b,I)}}function s0(g){var b=g.alternate;if(b!==null&&(g=b.child,g!==null)){b.child=null;do b=g.sibling,g.sibling=null,g=b;while(g!==null)}}function oh(g){var b=g.deletions;if((g.flags&16)!==0){if(b!==null)for(var I=0;I<b.length;I++){var P=b[I];La=P,to(P,g)}s0(g)}if(g.subtreeFlags&10256)for(g=g.child;g!==null;)o0(g),g=g.sibling}function o0(g){switch(g.tag){case 0:case 11:case 15:oh(g),g.flags&2048&&Gl(9,g,g.return);break;case 3:oh(g);break;case 12:oh(g);break;case 22:var b=g.stateNode;g.memoizedState!==null&&b._visibility&2&&(g.return===null||g.return.tag!==13)?(b._visibility&=-3,em(g)):oh(g);break;default:oh(g)}}function em(g){var b=g.deletions;if((g.flags&16)!==0){if(b!==null)for(var I=0;I<b.length;I++){var P=b[I];La=P,to(P,g)}s0(g)}for(g=g.child;g!==null;){switch(b=g,b.tag){case 0:case 11:case 15:Gl(8,b,b.return),em(b);break;case 22:I=b.stateNode,I._visibility&2&&(I._visibility&=-3,em(b));break;default:em(b)}g=g.sibling}}function to(g,b){for(;La!==null;){var I=La;switch(I.tag){case 0:case 11:case 15:Gl(8,I,b);break;case 23:case 22:if(I.memoizedState!==null&&I.memoizedState.cachePool!==null){var P=I.memoizedState.cachePool.pool;P!=null&&P.refCount++}break;case 24:Ce(I.memoizedState.cache)}if(P=I.child,P!==null)P.return=I,La=P;else e:for(I=g;La!==null;){P=La;var X=P.sibling,te=P.return;if(pb(P),P===I){La=null;break e}if(X!==null){X.return=te,La=X;break e}La=te}}}function zu(g){var b=An(g);if(b!=null){if(typeof b.memoizedProps["data-testname"]!="string")throw Error(a(364));return b}if(g=Ma(g),g===null)throw Error(a(362));return g.stateNode.current}function Fu(g,b){var I=g.tag;switch(b.$$typeof){case Uo:if(g.type===b.value)return!0;break;case Eh:e:{for(b=b.value,g=[g,0],I=0;I<g.length;){var P=g[I++],X=P.tag,te=g[I++],ue=b[te];if(X!==5&&X!==26&&X!==27||!Vu(P)){for(;ue!=null&&Fu(P,ue);)te++,ue=b[te];if(te===b.length){b=!0;break e}else for(P=P.child;P!==null;)g.push(P,te),P=P.sibling}}b=!1}return b;case Th:if((I===5||I===26||I===27)&&Ib(g.stateNode,b.value))return!0;break;case ed:if((I===5||I===6||I===26||I===27)&&(g=cm(g),g!==null&&0<=g.indexOf(b.value)))return!0;break;case xm:if((I===5||I===26||I===27)&&(g=g.memoizedProps["data-testname"],typeof g=="string"&&g.toLowerCase()===b.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function lh(g){switch(g.$$typeof){case Uo:return"<"+(h(g.value)||"Unknown")+">";case Eh:return":has("+(lh(g)||"")+")";case Th:return'[role="'+g.value+'"]';case ed:return'"'+g.value+'"';case xm:return'[data-testname="'+g.value+'"]';default:throw Error(a(365))}}function ch(g,b){var I=[];g=[g,0];for(var P=0;P<g.length;){var X=g[P++],te=X.tag,ue=g[P++],Re=b[ue];if(te!==5&&te!==26&&te!==27||!Vu(X)){for(;Re!=null&&Fu(X,Re);)ue++,Re=b[ue];if(ue===b.length)I.push(X);else for(X=X.child;X!==null;)g.push(X,ue),X=X.sibling}}return I}function Ds(g,b){if(!ei)throw Error(a(363));g=zu(g),g=ch(g,b),b=[],g=Array.from(g);for(var I=0;I<g.length;){var P=g[I++],X=P.tag;if(X===5||X===26||X===27)Vu(P)||b.push(P.stateNode);else for(P=P.child;P!==null;)g.push(P),P=P.sibling}return b}function Xr(){return(Hn&2)!==0&&qn!==0?qn&-qn:cn.T!==null?$t():bh()}function Vc(){if(ys===0)if((qn&536870912)===0||Gn){var g=cf;cf<<=1,(cf&3932160)===0&&(cf=262144),ys=g}else ys=536870912;return g=Fs.current,g!==null&&(g.flags|=32),ys}function ua(g,b,I){(g===Pn&&(wr===2||wr===9)||g.cancelPendingCommit!==null)&&(Sa(g,0),Wl(g,qn,ys,!1)),j(g,I),((Hn&2)===0||g!==Pn)&&(g===Pn&&((Hn&2)===0&&(rd|=I),pa===4&&Wl(g,qn,ys,!1)),Be(g))}function bl(g,b,I){if((Hn&6)!==0)throw Error(a(327));var P=!I&&(b&127)===0&&(b&g.expiredLanes)===0||w(g,b),X=P?e3(g,b):Yl(g,b,!0),te=P;do{if(X===0){td&&!P&&Wl(g,b,0,!1);break}else{if(I=g.current.alternate,te&&!ZS(I)){X=Yl(g,b,!1),te=!1;continue}if(X===2){if(te=b,g.errorRecoveryDisabledLanes&te)var ue=0;else ue=g.pendingLanes&-536870913,ue=ue!==0?ue:ue&536870912?536870912:0;if(ue!==0){b=ue;e:{var Re=g;X=vm;var tt=Qr&&Re.current.memoizedState.isDehydrated;if(tt&&(Sa(Re,ue).flags|=256),ue=Yl(Re,ue,!1),ue!==2){if(nd&&!tt){Re.errorRecoveryDisabledLanes|=te,rd|=te,X=4;break e}te=Bs,Bs=X,te!==null&&(Bs===null?Bs=te:Bs.push.apply(Bs,te))}X=ue}if(te=!1,X!==2)continue}}if(X===1){Sa(g,0),Wl(g,b,0,!0);break}e:{switch(P=g,te=X,te){case 0:case 1:throw Error(a(345));case 4:if((b&4194048)!==b)break;case 6:Wl(P,b,ys,!_l);break e;case 2:Bs=null;break;case 3:case 5:break;default:throw Error(a(329))}if((b&62914560)===b&&(X=Sm+300-qi(),10<X)){if(Wl(P,b,ys,!_l),C(P,0,!0)!==0)break e;lc=b,P.timeoutHandle=wb(Vl.bind(null,P,I,Bs,_m,$0,b,ys,rd,Rh,_l,te,"Throttled",-0,0),X);break e}Vl(P,I,Bs,_m,$0,b,ys,rd,Rh,_l,te,null,-0,0)}}break}while(!0);Be(g)}function Vl(g,b,I,P,X,te,ue,Re,tt,yt,jt,St,Vt,En){if(g.timeoutHandle=Ps,St=b.subtreeFlags,St&8192||(St&16785408)===16785408){St=Tb(),Lu(b,te,St);var yi=(te&62914560)===te?Sm-qi():(te&4194048)===te?gf-qi():0;if(yi=o3(St,yi),yi!==null){lc=te,g.cancelPendingCommit=yi(Xl.bind(null,g,b,te,I,P,X,ue,Re,tt,jt,St,null,Vt,En)),Wl(g,te,ue,!yt);return}}Xl(g,b,te,I,P,X,ue,Re,tt)}function ZS(g){for(var b=g;;){var I=b.tag;if((I===0||I===11||I===15)&&b.flags&16384&&(I=b.updateQueue,I!==null&&(I=I.stores,I!==null)))for(var P=0;P<I.length;P++){var X=I[P],te=X.getSnapshot;X=X.value;try{if(!Pa(te(),X))return!1}catch{return!1}}if(I=b.child,b.subtreeFlags&16384&&I!==null)I.return=b,b=I;else{if(b===g)break;for(;b.sibling===null;){if(b.return===null||b.return===g)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}}return!0}function Wl(g,b,I,P){b&=~Ah,b&=~rd,g.suspendedLanes|=b,g.pingedLanes&=~b,P&&(g.warmLanes|=b),P=g.expirationTimes;for(var X=b;0<X;){var te=31-Ls(X),ue=1<<te;P[te]=-1,X&=~ue}I!==0&&z(g,I,b)}function l0(){return(Hn&6)===0?(Ke(0),!1):!0}function c0(){if(Un!==null){if(wr===0)var g=Un.return;else g=Un,vl=Ur=null,So(g),Qu=null,df=0,g=Un;for(;g!==null;)KS(g.alternate,g),g=g.return;Un=null}}function Sa(g,b){var I=g.timeoutHandle;I!==Ps&&(g.timeoutHandle=Ps,s3(I)),I=g.cancelPendingCommit,I!==null&&(g.cancelPendingCommit=null,I()),lc=0,c0(),Pn=g,Un=I=ro(g.current,null),qn=b,wr=0,Va=null,_l=!1,td=w(g,b),nd=!1,Rh=ys=Ah=rd=au=pa=0,Bs=vm=null,$0=!1,(b&8)!==0&&(b|=b&32);var P=g.entangledLanes;if(P!==0)for(g=g.entanglements,P&=b;0<P;){var X=31-Ls(P),te=1<<X;b|=g[X],P&=~te}return oc=b,xr(),I}function Hr(g,b){Rn=null,cn.H=oo,b===ai||b===Bo?(b=Tn(),wr=3):b===H0?(b=Tn(),wr=4):wr=b===gs?8:b!==null&&typeof b=="object"&&typeof b.then=="function"?6:1,Va=b,Un===null&&(pa=1,Zg(g,Q(b,g.current)))}function Wn(){var g=Fs.current;return g===null?!0:(qn&4194048)===qn?ms===null:(qn&62914560)===qn||(qn&536870912)!==0?g===ms:!1}function Wc(){var g=cn.H;return cn.H=oo,g===null?oo:g}function no(){var g=cn.A;return cn.A=wh,g}function uh(){pa=4,_l||(qn&4194048)!==qn&&Fs.current!==null||(td=!0),(au&134217727)===0&&(rd&134217727)===0||Pn===null||Wl(Pn,qn,ys,!1)}function Yl(g,b,I){var P=Hn;Hn|=2;var X=Wc(),te=no();(Pn!==g||qn!==b)&&(_m=null,Sa(g,b)),b=!1;var ue=pa;e:do try{if(wr!==0&&Un!==null){var Re=Un,tt=Va;switch(wr){case 8:c0(),ue=6;break e;case 3:case 2:case 9:case 6:Fs.current===null&&(b=!0);var yt=wr;if(wr=0,Va=null,Kl(g,Re,tt,yt),I&&td){ue=0;break e}break;default:yt=wr,wr=0,Va=null,Kl(g,Re,tt,yt)}}JS(),ue=pa;break}catch(jt){Hr(g,jt)}while(!0);return b&&g.shellSuspendCounter++,vl=Ur=null,Hn=P,cn.H=X,cn.A=te,Un===null&&(Pn=null,qn=0,xr()),ue}function JS(){for(;Un!==null;)Bu(Un)}function e3(g,b){var I=Hn;Hn|=2;var P=Wc(),X=no();Pn!==g||qn!==b?(_m=null,ad=qi()+500,Sa(g,b)):td=w(g,b);e:do try{if(wr!==0&&Un!==null){b=Un;var te=Va;t:switch(wr){case 1:wr=0,Va=null,Kl(g,b,te,1);break;case 2:case 9:if(Cn(te)){wr=0,Va=null,u0(b);break}b=function(){wr!==2&&wr!==9||Pn!==g||(wr=7),Be(g)},te.then(b,b);break e;case 3:wr=7;break e;case 4:wr=5;break e;case 7:Cn(te)?(wr=0,Va=null,u0(b)):(wr=0,Va=null,Kl(g,b,te,7));break;case 5:var ue=null;switch(Un.tag){case 26:ue=Un.memoizedState;case 5:case 27:var Re=Un,tt=Re.type,yt=Re.pendingProps;if(ue?Zb(ue):da(Re.stateNode,tt,yt)){wr=0,Va=null;var jt=Re.sibling;if(jt!==null)Un=jt;else{var St=Re.return;St!==null?(Un=St,fh(St)):Un=null}break t}}wr=0,Va=null,Kl(g,b,te,5);break;case 6:wr=0,Va=null,Kl(g,b,te,6);break;case 8:c0(),pa=6;break e;default:throw Error(a(462))}}dh();break}catch(Vt){Hr(g,Vt)}while(!0);return vl=Ur=null,cn.H=P,cn.A=X,Hn=I,Un!==null?0:(Pn=null,qn=0,xr(),pa)}function dh(){for(;Un!==null&&!$3();)Bu(Un)}function Bu(g){var b=lb(g.alternate,g,oc);g.memoizedProps=g.pendingProps,b===null?fh(g):Un=b}function u0(g){var b=g,I=b.alternate;switch(b.tag){case 15:case 0:b=nb(I,b,b.pendingProps,b.type,void 0,qn);break;case 11:b=nb(I,b,b.pendingProps,b.type.render,b.ref,qn);break;case 5:So(b);default:KS(I,b),b=Un=h0(b,oc),b=lb(I,b,oc)}g.memoizedProps=g.pendingProps,b===null?fh(g):Un=b}function Kl(g,b,I,P){vl=Ur=null,So(b),Qu=null,df=0;var X=b.return;try{if(Qw(g,X,b,I,qn)){pa=1,Zg(g,Q(I,g.current)),Un=null;return}}catch(te){if(X!==null)throw Un=X,te;pa=1,Zg(g,Q(I,g.current)),Un=null;return}b.flags&32768?(Gn||P===1?g=!0:td||(qn&536870912)!==0?g=!1:(_l=g=!0,(P===2||P===9||P===3||P===6)&&(P=Fs.current,P!==null&&P.tag===13&&(P.flags|=16384))),Hu(b,g)):fh(b)}function fh(g){var b=g;do{if((b.flags&32768)!==0){Hu(b,_l);return}g=b.return;var I=YS(b.alternate,b,oc);if(I!==null){Un=I;return}if(b=b.sibling,b!==null){Un=b;return}Un=b=g}while(b!==null);pa===0&&(pa=5)}function Hu(g,b){do{var I=db(g.alternate,g);if(I!==null){I.flags&=32767,Un=I;return}if(I=g.return,I!==null&&(I.flags|=32768,I.subtreeFlags=0,I.deletions=null),!b&&(g=g.sibling,g!==null)){Un=g;return}Un=g=I}while(g!==null);pa=6,Un=null}function Xl(g,b,I,P,X,te,ue,Re,tt){g.cancelPendingCommit=null;do Zl();while(Wa!==0);if((Hn&6)!==0)throw Error(a(327));if(b!==null){if(b===g.current)throw Error(a(177));if(te=b.lanes|b.childLanes,te|=ff,O(g,I,te,ue,Re,tt),g===Pn&&(Un=Pn=null,qn=0),yf=b,su=g,lc=I,kh=te,G0=X,ox=P,(b.subtreeFlags&10256)!==0||(b.flags&10256)!==0?(g.callbackNode=null,g.callbackPriority=0,Ga(hm,function(){return tm(),null})):(g.callbackNode=null,g.callbackPriority=0),P=(b.flags&13878)!==0,(b.subtreeFlags&13878)!==0||P){P=cn.T,cn.T=null,X=Do(),$n(2),ue=Hn,Hn|=4;try{Zw(g,b,I)}finally{Hn=ue,$n(X),cn.T=P}}Wa=1,Yc(),Ql(),d0()}}function Yc(){if(Wa===1){Wa=0;var g=su,b=yf,I=(b.flags&13878)!==0;if((b.subtreeFlags&13878)!==0||I){I=cn.T,cn.T=null;var P=Do();$n(2);var X=Hn;Hn|=4;try{Jp(b,g),i3(g.containerInfo)}finally{Hn=X,$n(P),cn.T=I}}g.current=b,Wa=2}}function Ql(){if(Wa===2){Wa=0;var g=su,b=yf,I=(b.flags&8772)!==0;if((b.subtreeFlags&8772)!==0||I){I=cn.T,cn.T=null;var P=Do();$n(2);var X=Hn;Hn|=4;try{QS(g,b.alternate,b)}finally{Hn=X,$n(P),cn.T=I}}Wa=3}}function d0(){if(Wa===4||Wa===3){Wa=0,ex();var g=su,b=yf,I=lc,P=ox;(b.subtreeFlags&10256)!==0||(b.flags&10256)!==0?Wa=5:(Wa=0,yf=su=null,f0(g,g.pendingLanes));var X=g.pendingLanes;if(X===0&&(iu=null),F(I),b=b.stateNode,zs&&typeof zs.onCommitFiberRoot=="function")try{zs.onCommitFiberRoot(uf,b,void 0,(b.current.flags&128)===128)}catch{}if(P!==null){b=cn.T,X=Do(),$n(2),cn.T=null;try{for(var te=g.onRecoverableError,ue=0;ue<P.length;ue++){var Re=P[ue];te(Re.value,{componentStack:Re.stack})}}finally{cn.T=b,$n(X)}}(lc&3)!==0&&Zl(),Be(g),X=g.pendingLanes,(I&261930)!==0&&(X&42)!==0?g===Cm?ar++:(ar=0,Cm=g):ar=0,Qr&&um(),Ke(0)}}function f0(g,b){(g.pooledCacheLanes&=b)===0&&(b=g.pooledCache,b!=null&&(g.pooledCache=null,Ce(b)))}function Zl(){return Yc(),Ql(),d0(),tm()}function tm(){if(Wa!==5)return!1;var g=su,b=kh;kh=0;var I=F(lc),P=32>I?32:I;I=cn.T;var X=Do();try{$n(P),cn.T=null,P=G0,G0=null;var te=su,ue=lc;if(Wa=0,yf=su=null,lc=0,(Hn&6)!==0)throw Error(a(331));var Re=Hn;if(Hn|=4,o0(te.current),i0(te,te.current,ue,P),Hn=Re,Ke(0,!1),zs&&typeof zs.onPostCommitFiberRoot=="function")try{zs.onPostCommitFiberRoot(uf,te)}catch{}return!0}finally{$n(X),cn.T=I,f0(g,b)}}function Uu(g,b,I){b=Q(I,b),b=eb(g.stateNode,b,2),g=Ai(g,b,2),g!==null&&(j(g,2),Be(g))}function gn(g,b,I){if(g.tag===3)Uu(g,g,I);else for(;b!==null;){if(b.tag===3){Uu(b,g,I);break}else if(b.tag===1){var P=b.stateNode;if(typeof b.type.getDerivedStateFromError=="function"||typeof P.componentDidCatch=="function"&&(iu===null||!iu.has(P))){g=Q(I,g),I=PS(2),P=Ai(b,I,2),P!==null&&(LS(I,P,b,g),j(P,2),Be(P));break}}b=b.return}}function hh(g,b,I){var P=g.pingCache;if(P===null){P=g.pingCache=new co;var X=new Set;P.set(b,X)}else X=P.get(b),X===void 0&&(X=new Set,P.set(b,X));X.has(I)||(nd=!0,X.add(I),g=t3.bind(null,g,b,I),b.then(g,g))}function t3(g,b,I){var P=g.pingCache;P!==null&&P.delete(b),g.pingedLanes|=g.suspendedLanes&I,g.warmLanes&=~I,Pn===g&&(qn&I)===I&&(pa===4||pa===3&&(qn&62914560)===qn&&300>qi()-Sm?(Hn&2)===0&&Sa(g,0):Ah|=I,Rh===qn&&(Rh=0)),Be(g)}function n3(g,b){b===0&&(b=E()),g=sa(g,b),g!==null&&(j(g,b),Be(g))}function Jw(g){var b=g.memoizedState,I=0;b!==null&&(I=b.retryLane),n3(g,I)}function eE(g,b){var I=0;switch(g.tag){case 31:case 13:var P=g.stateNode,X=g.memoizedState;X!==null&&(I=X.retryLane);break;case 19:P=g.stateNode;break;case 22:P=g.stateNode._retryCache;break;default:throw Error(a(314))}P!==null&&P.delete(b),n3(g,I)}function Ga(g,b){return fm(g,b)}function gb(g,b,I,P){this.tag=g,this.key=I,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=P,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xd(g){return g=g.prototype,!(!g||!g.isReactComponent)}function ro(g,b){var I=g.alternate;return I===null?(I=n(g.tag,b,g.key,g.mode),I.elementType=g.elementType,I.type=g.type,I.stateNode=g.stateNode,I.alternate=g,g.alternate=I):(I.pendingProps=b,I.type=g.type,I.flags=0,I.subtreeFlags=0,I.deletions=null),I.flags=g.flags&65011712,I.childLanes=g.childLanes,I.lanes=g.lanes,I.child=g.child,I.memoizedProps=g.memoizedProps,I.memoizedState=g.memoizedState,I.updateQueue=g.updateQueue,b=g.dependencies,I.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},I.sibling=g.sibling,I.index=g.index,I.ref=g.ref,I.refCleanup=g.refCleanup,I}function h0(g,b){g.flags&=65011714;var I=g.alternate;return I===null?(g.childLanes=0,g.lanes=b,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=I.childLanes,g.lanes=I.lanes,g.child=I.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=I.memoizedProps,g.memoizedState=I.memoizedState,g.updateQueue=I.updateQueue,g.type=I.type,b=I.dependencies,g.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),g}function Kc(g,b,I,P,X,te){var ue=0;if(P=g,typeof g=="function")Xd(g)&&(ue=1);else if(typeof g=="string")ue=No&&ti?R0(g,I,mi.current)?26:Jb(g)?27:5:No?R0(g,I,mi.current)?26:5:ti&&Jb(g)?27:5;else e:switch(g){case im:return g=n(31,I,b,X),g.elementType=im,g.lanes=te,g;case ef:return jo(I.children,X,te,b);case tf:ue=8,X|=24;break;case nf:return g=n(12,I,b,X|2),g.elementType=nf,g.lanes=te,g;case y0:return g=n(13,I,b,X),g.elementType=y0,g.lanes=te,g;case Xc:return g=n(19,I,b,X),g.elementType=Xc,g.lanes=te,g;default:if(typeof g=="object"&&g!==null)switch(g.$$typeof){case Oo:ue=10;break e;case am:ue=9;break e;case ph:ue=11;break e;case b0:ue=14;break e;case ds:ue=16,P=null;break e}ue=29,I=Error(a(130,g===null?"null":typeof g,"")),P=null}return b=n(ue,I,b,X),b.elementType=g,b.type=P,b.lanes=te,b}function jo(g,b,I,P){return g=n(7,g,P,b),g.lanes=I,g}function yb(g,b,I){return g=n(6,g,null,b),g.lanes=I,g}function bb(g){var b=n(18,null,null,0);return b.stateNode=g,b}function xb(g,b,I){return b=n(4,g.children!==null?g.children:[],g.key,b),b.lanes=I,b.stateNode={containerInfo:g.containerInfo,pendingChildren:null,implementation:g.implementation},b}function r3(g,b,I,P,X,te,ue,Re,tt){this.tag=1,this.containerInfo=g,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ps,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=k(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=k(0),this.hiddenUpdates=k(null),this.identifierPrefix=P,this.onUncaughtError=X,this.onCaughtError=te,this.onRecoverableError=ue,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=tt,this.incompleteTransitions=new Map}function $u(g,b,I,P,X,te,ue,Re,tt,yt,jt,St){return g=new r3(g,b,I,ue,tt,yt,jt,St,Re),b=1,te===!0&&(b|=24),te=n(3,null,null,b),g.current=te,te.stateNode=g,b=ye(),b.refCount++,g.pooledCache=b,b.refCount++,te.memoizedState={element:P,isDehydrated:I,cache:b},Fr(te),g}function p0(g){return g?(g=ec,g):ec}function nm(g){var b=g._reactInternals;if(b===void 0)throw typeof g.render=="function"?Error(a(188)):(g=Object.keys(g).join(","),Error(a(268,g)));return g=o(b),g=g!==null?l(g):null,g===null?null:gh(g.stateNode)}function vb(g,b,I,P,X,te){X=p0(X),P.context===null?P.context=X:P.pendingContext=X,P=Ja(b),P.payload={element:I},te=te===void 0?null:te,te!==null&&(P.callback=te),I=Ai(g,P,b),I!==null&&(ua(I,g,b),Ts(I,g,b))}function Qd(g,b){if(g=g.memoizedState,g!==null&&g.dehydrated!==null){var I=g.retryLane;g.retryLane=I!==0&&I<b?I:b}}function rm(g,b){Qd(g,b),(g=g.alternate)&&Qd(g,b)}var Nn={},m0=kg(),Ns=Dj(),g0=Object.assign,Zd=Symbol.for("react.element"),Jl=Symbol.for("react.transitional.element"),Jd=Symbol.for("react.portal"),ef=Symbol.for("react.fragment"),tf=Symbol.for("react.strict_mode"),nf=Symbol.for("react.profiler"),am=Symbol.for("react.consumer"),Oo=Symbol.for("react.context"),ph=Symbol.for("react.forward_ref"),y0=Symbol.for("react.suspense"),Xc=Symbol.for("react.suspense_list"),b0=Symbol.for("react.memo"),ds=Symbol.for("react.lazy"),im=Symbol.for("react.activity"),Sb=Symbol.for("react.memo_cache_sentinel"),Qc=Symbol.iterator,Gu=Symbol.for("react.client.reference"),qu=Array.isArray,cn=m0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_b=e.rendererVersion,sm=e.rendererPackageName,mh=e.extraDevToolsConfig,gh=e.getPublicInstance,a3=e.getRootHostContext,yh=e.getChildHostContext,x0=e.prepareForCommit,i3=e.resetAfterCommit,Cb=e.createInstance;e.cloneMutableInstance;var om=e.appendInitialChild,Ms=e.finalizeInitialChildren,fs=e.shouldSetTextContent,Zc=e.createTextInstance;e.cloneMutableTextInstance;var wb=e.scheduleTimeout,s3=e.cancelTimeout,Ps=e.noTimeout,Na=e.isPrimaryRenderer;e.warnsIfNotActing;var Yn=e.supportsMutation,ao=e.supportsPersistence,Qr=e.supportsHydration,An=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var Or=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var $n=e.setCurrentUpdatePriority,Do=e.getCurrentUpdatePriority,bh=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var rf=e.shouldAttemptEagerTransition,v0=e.detachDeletedInstance;e.requestPostPaintCallback;var lm=e.maySuspendCommit,xh=e.maySuspendCommitOnUpdate,Eb=e.maySuspendCommitInSyncRender,da=e.preloadInstance,Tb=e.startSuspendingCommit,S0=e.suspendInstance;e.suspendOnActiveViewTransition;var o3=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var af=e.NotPendingTransition,sf=e.HostTransitionContext,Ab=e.resetFormInstance;e.bindToConsole;var Rb=e.supportsMicrotasks,kb=e.scheduleMicrotask,ei=e.supportsTestSelectors,Ma=e.findFiberRoot,_0=e.getBoundingRect,cm=e.getTextContent,Vu=e.isHiddenSubtree,Ib=e.matchAccessibilityRole,Jc=e.setFocusIfFocusable,C0=e.setupIntersectionObserver,jb=e.appendChild,Ob=e.appendChildToContainer,l3=e.commitTextUpdate,c3=e.commitMount,u3=e.commitUpdate,d3=e.insertBefore,f3=e.insertInContainerBefore,h3=e.removeChild,Db=e.removeChildFromContainer,Nb=e.resetTextContent,tE=e.hideInstance,p3=e.hideTextInstance,m3=e.unhideInstance,g3=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var Mb=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var y3=e.cloneInstance,Pb=e.createContainerChildSet,Lb=e.appendChildToContainerChildSet,b3=e.finalizeContainerChildren,zb=e.replaceContainerChildren,x3=e.cloneHiddenInstance,Fb=e.cloneHiddenTextInstance,Wu=e.isSuspenseInstancePending,w0=e.isSuspenseInstanceFallback,E0=e.getSuspenseInstanceFallbackErrorDetails,T0=e.registerSuspenseInstanceRetry,v3=e.canHydrateFormStateMarker,Bb=e.isFormStateMarkerMatching,S3=e.getNextHydratableSibling,_3=e.getNextHydratableSiblingAfterSingleton,C3=e.getFirstHydratableChild,w3=e.getFirstHydratableChildWithinContainer,E3=e.getFirstHydratableChildWithinActivityInstance,T3=e.getFirstHydratableChildWithinSuspenseInstance,Hb=e.getFirstHydratableChildWithinSingleton,A3=e.canHydrateInstance,R3=e.canHydrateTextInstance,Ub=e.canHydrateActivityInstance,k3=e.canHydrateSuspenseInstance,I3=e.hydrateInstance,nE=e.hydrateTextInstance,$b=e.hydrateActivityInstance,j3=e.hydrateSuspenseInstance,O3=e.getNextHydratableInstanceAfterActivityInstance,Gb=e.getNextHydratableInstanceAfterSuspenseInstance,D3=e.commitHydratedInstance,N3=e.commitHydratedContainer,rE=e.commitHydratedActivityInstance,aE=e.commitHydratedSuspenseInstance,M3=e.finalizeHydratedChildren,um=e.flushHydrationEvents;e.clearActivityBoundary;var qb=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var A0=e.clearSuspenseBoundaryFromContainer,P3=e.hideDehydratedBoundary,L3=e.unhideDehydratedBoundary,vh=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var z3=e.validateHydratableInstance,Vb=e.validateHydratableTextInstance,No=e.supportsResources,R0=e.isHostHoistableType,dm=e.getHoistableRoot,Wb=e.getResource,Yb=e.acquireResource,Yu=e.releaseResource,F3=e.hydrateHoistable,Kb=e.mountHoistable,Xb=e.unmountHoistable,k0=e.createHoistableInstance,B3=e.prepareToCommitHoistables,Qb=e.mayResourceSuspendCommit,Zb=e.preloadResource,H3=e.suspendResource,ti=e.supportsSingletons,I0=e.resolveSingletonInstance,qa=e.acquireSingletonInstance,pi=e.releaseSingletonInstance,Jb=e.isHostSingletonType,of=e.isSingletonScope,j0=[],lf=-1,ec={},Ls=Math.clz32?Math.clz32:v,O0=Math.log,U3=Math.LN2,D0=256,cf=262144,Sh=4194304,fm=Ns.unstable_scheduleCallback,N0=Ns.unstable_cancelCallback,$3=Ns.unstable_shouldYield,ex=Ns.unstable_requestPaint,qi=Ns.unstable_now,M0=Ns.unstable_ImmediatePriority,G3=Ns.unstable_UserBlockingPriority,hm=Ns.unstable_NormalPriority,P0=Ns.unstable_IdlePriority,tx=Ns.log,q3=Ns.unstable_setDisableYieldValue,uf=null,zs=null,Pa=typeof Object.is=="function"?Object.is:D,L0=typeof reportError=="function"?reportError:function(g){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var b=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof g=="object"&&g!==null&&typeof g.message=="string"?String(g.message):String(g),error:g});if(!window.dispatchEvent(b))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",g);return}console.error(g)},iE=Object.prototype.hasOwnProperty,z0,tc,pm=!1,nx=new WeakMap,eu=[],nc=0,Dr=null,mm=0,Mo=[],io=0,Po=null,Di=1,xl="",mi=m(null),tu=m(null),Ni=m(null),gm=m(null),ni=null,Zr=null,Gn=!1,rc=null,hs=!1,F0=Error(a(519)),Lo=m(null),Ur=null,vl=null,V3=typeof AbortController<"u"?AbortController:function(){var g=[],b=this.signal={aborted:!1,addEventListener:function(I,P){g.push(P)}};this.abort=function(){b.aborted=!0,g.forEach(function(I){return I()})}},gi=Ns.unstable_scheduleCallback,sE=Ns.unstable_NormalPriority,Jr={$$typeof:Oo,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},ym=null,_r=null,Vi=!1,zo=!1,B0=!1,Ku=0,_h=null,rx=0,nu=0,ri=null,Fo=cn.S;cn.S=function(g,b){gf=qi(),typeof b=="object"&&b!==null&&typeof b.then=="function"&&Wt(g,b),Fo!==null&&Fo(g,b)};var Xu=m(null),ai=Error(a(460)),H0=Error(a(474)),Bo=Error(a(542)),ac={then:function(){}},ps=null,Qu=null,df=0,Mi=wn(!0),ax=wn(!1),Pi=[],ic=0,ff=0,so=!1,U0=!1,hf=m(null),Zu=m(0),Fs=m(null),ms=null,_a=m(0),ru=0,Rn=null,nn=null,vn=null,Mn=!1,On=!1,Qn=!1,Wi=0,Ho=0,Sl=null,ix=0,oo={readContext:Xe,use:ll,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useLayoutEffect:lr,useInsertionEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useSyncExternalStore:lr,useId:lr,useHostTransitionStatus:lr,useFormState:lr,useActionState:lr,useOptimistic:lr,useMemoCache:lr,useCacheRefresh:lr};oo.useEffectEvent=lr;var fa={readContext:Xe,use:ll,useCallback:function(g,b){return Oa().memoizedState=[g,b===void 0?null:b],g},useContext:Xe,useEffect:Eo,useImperativeHandle:function(g,b,I){I=I!=null?I.concat([g]):null,js(4194308,4,Hl.bind(null,b,g),I)},useLayoutEffect:function(g,b){return js(4194308,4,g,b)},useInsertionEffect:function(g,b){js(4,2,g,b)},useMemo:function(g,b){var I=Oa();b=b===void 0?null:b;var P=g();if(Qn){$(!0);try{g()}finally{$(!1)}}return I.memoizedState=[P,b],P},useReducer:function(g,b,I){var P=Oa();if(I!==void 0){var X=I(b);if(Qn){$(!0);try{I(b)}finally{$(!1)}}}else X=b;return P.memoizedState=P.baseState=X,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g,lastRenderedState:X},P.queue=g,g=g.dispatch=Xw.bind(null,Rn,g),[P.memoizedState,g]},useRef:function(g){var b=Oa();return g={current:g},b.memoizedState=g},useState:function(g){g=Ou(g);var b=g.queue,I=OS.bind(null,Rn,b);return b.dispatch=I,[g.memoizedState,I]},useDebugValue:$p,useDeferredValue:function(g,b){var I=Oa();return Jf(I,g,b)},useTransition:function(){var g=Ou(!1);return g=kS.bind(null,Rn,g.queue,!0,!1),Oa().memoizedState=g,[!1,g]},useSyncExternalStore:function(g,b,I){var P=Rn,X=Oa();if(Gn){if(I===void 0)throw Error(a(407));I=I()}else{if(I=b(),Pn===null)throw Error(a(349));(qn&127)!==0||Uc(P,b,I)}X.memoizedState=I;var te={value:I,getSnapshot:b};return X.queue=te,Eo(Ll.bind(null,P,te,g),[g]),P.flags|=2048,$a(9,{destroy:void 0},$d.bind(null,P,te,I,b),null),I},useId:function(){var g=Oa(),b=Pn.identifierPrefix;if(Gn){var I=xl,P=Di;I=(P&~(1<<32-Ls(P)-1)).toString(32)+I,b="_"+b+"R_"+I,I=Wi++,0<I&&(b+="H"+I.toString(32)),b+="_"}else I=ix++,b="_"+b+"r_"+I.toString(32)+"_";return g.memoizedState=b},useHostTransitionStatus:Qy,useFormState:zl,useActionState:zl,useOptimistic:function(g){var b=Oa();b.memoizedState=b.baseState=g;var I={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return b.queue=I,b=Kg.bind(null,Rn,!0,I),I.dispatch=b,[g,b]},useMemoCache:cl,useCacheRefresh:function(){return Oa().memoizedState=Kw.bind(null,Rn)},useEffectEvent:function(g){var b=Oa(),I={impl:g};return b.memoizedState=I,function(){if((Hn&2)!==0)throw Error(a(440));return I.impl.apply(void 0,arguments)}}},sc={readContext:Xe,use:ll,useCallback:Wg,useContext:Xe,useEffect:eo,useImperativeHandle:RS,useInsertionEffect:Da,useLayoutEffect:$i,useMemo:Zf,useReducer:Ui,useRef:yl,useState:function(){return Ui(os)},useDebugValue:$p,useDeferredValue:function(g,b){var I=dr();return Xy(I,nn.memoizedState,g,b)},useTransition:function(){var g=Ui(os)[0],b=dr().memoizedState;return[typeof g=="boolean"?g:la(g),b]},useSyncExternalStore:_o,useId:Yg,useHostTransitionStatus:Qy,useFormState:Fl,useActionState:Fl,useOptimistic:function(g,b){var I=dr();return Co(I,nn,g,b)},useMemoCache:cl,useCacheRefresh:jS};sc.useEffectEvent=Dn;var Ju={readContext:Xe,use:ll,useCallback:Wg,useContext:Xe,useEffect:eo,useImperativeHandle:RS,useInsertionEffect:Da,useLayoutEffect:$i,useMemo:Zf,useReducer:dl,useRef:yl,useState:function(){return dl(os)},useDebugValue:$p,useDeferredValue:function(g,b){var I=dr();return nn===null?Jf(I,g,b):Xy(I,nn.memoizedState,g,b)},useTransition:function(){var g=dl(os)[0],b=dr().memoizedState;return[typeof g=="boolean"?g:la(g),b]},useSyncExternalStore:_o,useId:Yg,useHostTransitionStatus:Qy,useFormState:gl,useActionState:gl,useOptimistic:function(g,b){var I=dr();return nn!==null?Co(I,nn,g,b):(I.baseState=g,[g,I.queue.dispatch])},useMemoCache:cl,useCacheRefresh:jS};Ju.useEffectEvent=Dn;var bm={enqueueSetState:function(g,b,I){g=g._reactInternals;var P=Xr(),X=Ja(P);X.payload=b,I!=null&&(X.callback=I),b=Ai(g,X,P),b!==null&&(ua(b,g,P),Ts(b,g,P))},enqueueReplaceState:function(g,b,I){g=g._reactInternals;var P=Xr(),X=Ja(P);X.tag=1,X.payload=b,I!=null&&(X.callback=I),b=Ai(g,X,P),b!==null&&(ua(b,g,P),Ts(b,g,P))},enqueueForceUpdate:function(g,b){g=g._reactInternals;var I=Xr(),P=Ja(I);P.tag=2,b!=null&&(P.callback=b),b=Ai(g,P,I),b!==null&&(ua(b,g,I),Ts(b,g,I))}},gs=Error(a(461)),Vr=!1,pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},Ca=!1,wa=!1,Ch=!1,sx=typeof WeakSet=="function"?WeakSet:Set,La=null,ha=null,za=!1,Cr=null,lo=8192,wh={getCacheForType:function(g){var b=Xe(Jr),I=b.data.get(g);return I===void 0&&(I=g(),b.data.set(g,I)),I},cacheSignal:function(){return Xe(Jr).controller.signal}},Uo=0,Eh=1,Th=2,xm=3,ed=4;if(typeof Symbol=="function"&&Symbol.for){var mf=Symbol.for;Uo=mf("selector.component"),Eh=mf("selector.has_pseudo_class"),Th=mf("selector.role"),xm=mf("selector.test_id"),ed=mf("selector.text")}var co=typeof WeakMap=="function"?WeakMap:Map,Hn=0,Pn=null,Un=null,qn=0,wr=0,Va=null,_l=!1,td=!1,nd=!1,oc=0,pa=0,au=0,rd=0,Ah=0,ys=0,Rh=0,vm=null,Bs=null,$0=!1,Sm=0,gf=0,ad=1/0,_m=null,iu=null,Wa=0,su=null,yf=null,lc=0,kh=0,G0=null,ox=null,ar=0,Cm=null;return Nn.attemptContinuousHydration=function(g){if(g.tag===13||g.tag===31){var b=sa(g,67108864);b!==null&&ua(b,g,67108864),rm(g,67108864)}},Nn.attemptHydrationAtCurrentPriority=function(g){if(g.tag===13||g.tag===31){var b=Xr();b=U(b);var I=sa(g,b);I!==null&&ua(I,g,b),rm(g,b)}},Nn.attemptSynchronousHydration=function(g){switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=_(g.pendingLanes);if(b!==0){for(g.pendingLanes|=2,g.entangledLanes|=2;b;){var I=1<<31-Ls(b);g.entanglements[1]|=I,b&=~I}Be(g),(Hn&6)===0&&(ad=qi()+500,Ke(0))}}break;case 31:case 13:b=sa(g,2),b!==null&&ua(b,g,2),l0(),rm(g,2)}},Nn.batchedUpdates=function(g,b){return g(b)},Nn.createComponentSelector=function(g){return{$$typeof:Uo,value:g}},Nn.createContainer=function(g,b,I,P,X,te,ue,Re,tt,yt){return $u(g,b,!1,null,I,P,te,null,ue,Re,tt,yt)},Nn.createHasPseudoClassSelector=function(g){return{$$typeof:Eh,value:g}},Nn.createHydrationContainer=function(g,b,I,P,X,te,ue,Re,tt,yt,jt,St,Vt,En){return g=$u(I,P,!0,g,X,te,Re,En,tt,yt,jt,St),g.context=p0(null),I=g.current,P=Xr(),P=U(P),X=Ja(P),X.callback=b??null,Ai(I,X,P),b=P,g.current.lanes=b,j(g,b),Be(g),g},Nn.createPortal=function(g,b,I){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jd,key:P==null?null:""+P,children:g,containerInfo:b,implementation:I}},Nn.createRoleSelector=function(g){return{$$typeof:Th,value:g}},Nn.createTestNameSelector=function(g){return{$$typeof:xm,value:g}},Nn.createTextSelector=function(g){return{$$typeof:ed,value:g}},Nn.defaultOnCaughtError=function(g){console.error(g)},Nn.defaultOnRecoverableError=function(g){L0(g)},Nn.defaultOnUncaughtError=function(g){L0(g)},Nn.deferredUpdates=function(g){var b=cn.T,I=Do();try{return $n(32),cn.T=null,g()}finally{$n(I),cn.T=b}},Nn.discreteUpdates=function(g,b,I,P,X){var te=cn.T,ue=Do();try{return $n(2),cn.T=null,g(b,I,P,X)}finally{$n(ue),cn.T=te,Hn===0&&(ad=qi()+500)}},Nn.findAllNodes=Ds,Nn.findBoundingRects=function(g,b){if(!ei)throw Error(a(363));b=Ds(g,b),g=[];for(var I=0;I<b.length;I++)g.push(_0(b[I]));for(b=g.length-1;0<b;b--){I=g[b];for(var P=I.x,X=P+I.width,te=I.y,ue=te+I.height,Re=b-1;0<=Re;Re--)if(b!==Re){var tt=g[Re],yt=tt.x,jt=yt+tt.width,St=tt.y,Vt=St+tt.height;if(P>=yt&&te>=St&&X<=jt&&ue<=Vt){g.splice(b,1);break}else if(P!==yt||I.width!==tt.width||Vt<te||St>ue){if(!(te!==St||I.height!==tt.height||jt<P||yt>X)){yt>P&&(tt.width+=yt-P,tt.x=P),jt<X&&(tt.width=X-yt),g.splice(b,1);break}}else{St>te&&(tt.height+=St-te,tt.y=te),Vt<ue&&(tt.height=ue-St),g.splice(b,1);break}}}return g},Nn.findHostInstance=nm,Nn.findHostInstanceWithNoPortals=function(g){return g=o(g),g=g!==null?u(g):null,g===null?null:gh(g.stateNode)},Nn.findHostInstanceWithWarning=function(g){return nm(g)},Nn.flushPassiveEffects=Zl,Nn.flushSyncFromReconciler=function(g){var b=Hn;Hn|=1;var I=cn.T,P=Do();try{if($n(2),cn.T=null,g)return g()}finally{$n(P),cn.T=I,Hn=b,(Hn&6)===0&&Ke(0)}},Nn.flushSyncWork=l0,Nn.focusWithin=function(g,b){if(!ei)throw Error(a(363));for(g=zu(g),b=ch(g,b),b=Array.from(b),g=0;g<b.length;){var I=b[g++],P=I.tag;if(!Vu(I)){if((P===5||P===26||P===27)&&Jc(I.stateNode))return!0;for(I=I.child;I!==null;)b.push(I),I=I.sibling}}return!1},Nn.getFindAllNodesFailureDescription=function(g,b){if(!ei)throw Error(a(363));var I=0,P=[];g=[zu(g),0];for(var X=0;X<g.length;){var te=g[X++],ue=te.tag,Re=g[X++],tt=b[Re];if((ue!==5&&ue!==26&&ue!==27||!Vu(te))&&(Fu(te,tt)&&(P.push(lh(tt)),Re++,Re>I&&(I=Re)),Re<b.length))for(te=te.child;te!==null;)g.push(te,Re),te=te.sibling}if(I<b.length){for(g=[];I<b.length;I++)g.push(lh(b[I]));return`findAllNodes was able to match part of the selector:
  `+(P.join(" > ")+`

No matching component was found for:
  `)+g.join(" > ")}return null},Nn.getPublicRootInstance=function(g){if(g=g.current,!g.child)return null;switch(g.child.tag){case 27:case 5:return gh(g.child.stateNode);default:return g.child.stateNode}},Nn.injectIntoDevTools=function(){var g={bundleType:0,version:_b,rendererPackageName:sm,currentDispatcherRef:cn,reconcilerVersion:"19.2.0"};if(mh!==null&&(g.rendererConfig=mh),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")g=!1;else{var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)g=!0;else{try{uf=b.inject(g),zs=b}catch{}g=!!b.checkDCE}}return g},Nn.isAlreadyRendering=function(){return(Hn&6)!==0},Nn.observeVisibleRects=function(g,b,I,P){if(!ei)throw Error(a(363));g=Ds(g,b);var X=C0(g,I,P).disconnect;return{disconnect:function(){X()}}},Nn.shouldError=function(){return null},Nn.shouldSuspend=function(){return!1},Nn.startHostTransition=function(g,b,I,P){if(g.tag!==5)throw Error(a(476));var X=IS(g).queue;kS(g,X,b,af,I===null?r:function(){var te=IS(g);return te.next===null&&(te=g.alternate.memoizedState),Gp(g,te.next.queue,{},Xr()),I(P)})},Nn.updateContainer=function(g,b,I,P){var X=b.current,te=Xr();return vb(X,te,g,b,I,P),te},Nn.updateContainerSync=function(g,b,I,P){return vb(b.current,2,g,b,I,P),2},Nn},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(RT)),RT.exports}var Yz;function ROe(){return Yz||(Yz=1,AT.exports=AOe()),AT.exports}var kOe=ROe();const IOe=$f(kOe);var kT={exports:{}},Sf={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kz;function jOe(){return Kz||(Kz=1,Sf.ConcurrentRoot=1,Sf.ContinuousEventPriority=8,Sf.DefaultEventPriority=32,Sf.DiscreteEventPriority=2,Sf.IdleEventPriority=268435456,Sf.LegacyRoot=0,Sf.NoEventPriority=0),Sf}var Xz;function OOe(){return Xz||(Xz=1,kT.exports=jOe()),kT.exports}var G5=OOe();const Qz={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let Zz=!1,Jz=!1;const vC=".react-konva-event",DOe=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,NOe=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,MOe={};function q5(t,e,n=MOe){if(!Zz&&"zIndex"in e&&(console.warn(NOe),Zz=!0),!Jz&&e.draggable){var r=e.x!==void 0||e.y!==void 0,a=e.onDragEnd||e.onDragMove;r&&!a&&(console.warn(DOe),Jz=!0)}for(var i in n)if(!Qz[i]){var s=i.slice(0,2)==="on",o=n[i]!==e[i];if(s&&o){var l=i.substr(2).toLowerCase();l.substr(0,7)==="content"&&(l="content"+l.substr(7,1).toUpperCase()+l.substr(8)),t.off(l,n[i])}var u=!e.hasOwnProperty(i);u&&t.setAttr(i,void 0)}var d=e._useStrictMode,h={},m=!1;const y={};for(var i in e)if(!Qz[i]){var s=i.slice(0,2)==="on",x=n[i]!==e[i];if(s&&x){var l=i.substr(2).toLowerCase();l.substr(0,7)==="content"&&(l="content"+l.substr(7,1).toUpperCase()+l.substr(8)),e[i]&&(y[l]=e[i])}!s&&(e[i]!==n[i]||d&&e[i]!==t.getAttr(i))&&(m=!0,h[i]=e[i])}m&&(t.setAttrs(h),Fp(t));for(var l in y)t.off(l+vC),t.on(l+vC,y[l])}function Fp(t){if(!Bt.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}var IT=Dj();const vZ={},POe={};iy.Node.prototype._applyProps=q5;let SZ=G5.DefaultEventPriority;function LOe(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),Fp(t)}function zOe(t,e,n){let r=iy[t];r||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=iy.Group);const a={},i={};for(var s in e)if(s!=="ref"){var o=s.slice(0,2)==="on";o?i[s]=e[s]:a[s]=e[s]}const l=new r(a);return q5(l,i),l}function FOe(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function BOe(t,e,n){return!1}function HOe(t){return t}function UOe(){return null}function $Oe(){return null}function GOe(t,e,n,r){return POe}function qOe(){}function VOe(t){}function WOe(t,e){return!1}function YOe(){return vZ}function KOe(){return vZ}const XOe=setTimeout,QOe=clearTimeout,ZOe=!0,JOe=t=>{t()},eDe=-1;function tDe(t,e){return!1}const nDe=!1,rDe=!1,aDe=!0,iDe=!1,sDe=!1;function oDe(t,e){e.parent===t?e.moveToTop():t.add(e),Fp(t)}function lDe(t,e){e.parent===t?e.moveToTop():t.add(e),Fp(t)}function _Z(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),Fp(t)}function cDe(t,e,n){_Z(t,e,n)}function uDe(t,e){e.destroy(),e.off(vC),Fp(t)}function dDe(t,e){e.destroy(),e.off(vC),Fp(t)}function fDe(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function hDe(t,e,n){}function pDe(t,e,n,r){q5(t,r,n)}function mDe(t){t.hide(),Fp(t)}function gDe(t){}function yDe(t,e){(e.visible==null||e.visible)&&t.show()}function bDe(t,e){}function xDe(t){}function vDe(){}function SDe(){return null}function _De(){}function CDe(){}function wDe(){return G5.DefaultEventPriority}function EDe(){}function TDe(){return null}function ADe(t){SZ=t}function RDe(){return SZ}function kDe(){return G5.DiscreteEventPriority}function IDe(){return!1}function jDe(){}function ODe(){return null}function DDe(){return-1.1}function NDe(){}function MDe(){return!1}function PDe(){return!0}function LDe(){}function zDe(){}function FDe(){return null}const BDe=null,HDe=je.createContext(null);function UDe(){}const $De=Object.freeze(Object.defineProperty({__proto__:null,HostTransitionContext:HDe,NotPendingTransition:BDe,afterActiveInstanceBlur:CDe,appendChild:oDe,appendChildToContainer:lDe,appendInitialChild:LOe,beforeActiveInstanceBlur:_De,cancelTimeout:QOe,clearContainer:xDe,commitMount:hDe,commitTextUpdate:fDe,commitUpdate:pDe,createInstance:zOe,createTextInstance:FOe,detachDeletedInstance:vDe,finalizeInitialChildren:BOe,getChildHostContext:KOe,getCurrentEventPriority:wDe,getCurrentUpdatePriority:RDe,getInstanceFromNode:SDe,getInstanceFromScope:TDe,getPublicInstance:HOe,getRootHostContext:YOe,hideInstance:mDe,hideTextInstance:gDe,idlePriority:IT.unstable_IdlePriority,insertBefore:_Z,insertInContainerBefore:cDe,isPrimaryRenderer:nDe,maySuspendCommit:MDe,noTimeout:eDe,now:IT.unstable_now,preloadInstance:PDe,prepareForCommit:UOe,preparePortalMount:$Oe,prepareScopeUpdate:EDe,prepareUpdate:GOe,removeChild:uDe,removeChildFromContainer:dDe,requestPostPaintCallback:NDe,resetAfterCommit:qOe,resetFormInstance:UDe,resetTextContent:VOe,resolveEventTimeStamp:DDe,resolveEventType:ODe,resolveUpdatePriority:kDe,run:IT.unstable_runWithPriority,scheduleMicrotask:JOe,scheduleTimeout:XOe,setCurrentUpdatePriority:ADe,shouldAttemptEagerTransition:IDe,shouldDeprioritizeSubtree:WOe,shouldSetTextContent:tDe,startSuspendingCommit:LDe,supportsHydration:sDe,supportsMicrotasks:ZOe,supportsMutation:aDe,supportsPersistence:iDe,suspendInstance:zDe,trackSchedulerEvent:jDe,unhideInstance:yDe,unhideTextInstance:bDe,waitForCommitToBeReady:FDe,warnsIfNotActing:rDe},Symbol.toStringTag,{value:"Module"}));function CZ(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const a=CZ(r,e,n);if(a)return a;r=r.sibling}}function wZ(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const WO=wZ(A.createContext(null));let EZ=class extends A.Component{render(){return A.createElement(WO.Provider,{value:this._reactInternals},this.props.children)}};function GDe(){const t=A.useContext(WO);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=A.useId();return A.useMemo(()=>{for(const n of[t,t?.alternate]){if(!n)continue;const r=CZ(n,!1,a=>{let i=a.memoizedState;for(;i;){if(i.memoizedState===e)return!0;i=i.next}});if(r)return r}},[t,e])}const qDe=Symbol.for("react.context"),VDe=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===qDe;function WDe(){const t=GDe(),[e]=A.useState(()=>new Map);e.clear();let n=t;for(;n;){const r=n.type;VDe(r)&&r!==WO&&!e.has(r)&&e.set(r,A.use(wZ(r))),n=n.return}return e}function YDe(){const t=WDe();return A.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>A.createElement(e,null,A.createElement(n.Provider,{...r,value:t.get(n)})),e=>A.createElement(EZ,{...e})),[t])}if(je.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function KDe(t){const e=je.useRef({});return je.useLayoutEffect(()=>{e.current=t}),je.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const XDe=()=>{const t=je.useRef(0);return je.useMemo(()=>{t.current++},[]),t.current>1},QDe=t=>{const e=je.useRef(null),n=je.useRef(null),r=je.useRef(null),a=KDe(t),i=YDe(),s=je.useRef(!1),o=u=>{const{forwardedRef:d}=t;d&&(typeof d=="function"?d(u):d.current=u)},l=XDe();return je.useLayoutEffect(()=>s.current&&l?()=>{s.current=!1,o(null),Nx.updateContainer(null,r.current,null),n.current.destroy()}:(s.current=!0,n.current=new iy.Stage({width:t.width,height:t.height,container:e.current}),o(n.current),r.current=Nx.createContainer(n.current,G5.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),Nx.updateContainer(je.createElement(i,{},t.children),r.current,null,()=>{}),()=>{l||(o(null),Nx.updateContainer(null,r.current,null),n.current.destroy())}),[]),je.useLayoutEffect(()=>{o(n.current),q5(n.current,t,a),Nx.updateContainer(je.createElement(i,{},t.children),r.current,null)}),je.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},ZDe="Layer",JDe="Rect",eNe="Line",tNe="Image",Nx=IOe($De),nNe=je.forwardRef((t,e)=>je.createElement(EZ,{},je.createElement(QDe,{...t,forwardedRef:e}))),rNe=t=>{const e=bt.c(30),{image:n,error:r,lines:a,imageTransform:i,rotation:s,scaleX:o,zoom:l,stagePos:u,cursor:d,stageRef:h,layerRef:m,onMouseDown:y,onMouseMove:x,onMouseUp:v,onWheel:_,onViewportResize:C}=t,w=A.useRef(null);let T;e[0]===Symbol.for("react.memo_cache_sentinel")?(T={width:800,height:600},e[0]=T):T=e[0];const[E,k]=A.useState(T);let j,O;e[1]!==C?(j=()=>{const $=()=>{if(w.current){const{width:D,height:H}=w.current.getBoundingClientRect();k({width:D,height:H}),C?.(D,H)}};return $(),window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},O=[C],e[1]=C,e[2]=j,e[3]=O):(j=e[2],O=e[3]),A.useEffect(j,O);let z;e[4]===Symbol.for("react.memo_cache_sentinel")?(z={flex:1,display:"flex",justifyContent:"center",alignItems:"center",bgcolor:"#2a2a2a",position:"relative",overflow:"hidden",backgroundImage:`
          linear-gradient(45deg, #1a1a1a 25%, transparent 25%),
          linear-gradient(-45deg, #1a1a1a 25%, transparent 25%),
          linear-gradient(45deg, transparent 75%, #1a1a1a 75%),
          linear-gradient(-45deg, transparent 75%, #1a1a1a 75%)
        `,backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px"},e[4]=z):z=e[4];let M;e[5]!==r?(M=r&&c.jsx(wt,{severity:"error",sx:{position:"absolute",top:16,left:16,right:16,zIndex:10},children:r}),e[5]=r,e[6]=M):M=e[6];let N;e[7]!==r||e[8]!==n?(N=!n&&!r&&c.jsx(Kt,{}),e[7]=r,e[8]=n,e[9]=N):N=e[9];let U;e[10]!==d||e[11]!==n||e[12]!==i||e[13]!==m||e[14]!==a||e[15]!==y||e[16]!==x||e[17]!==v||e[18]!==_||e[19]!==s||e[20]!==o||e[21]!==u||e[22]!==h||e[23]!==E||e[24]!==l?(U=n&&c.jsx(nNe,{ref:h,width:E.width,height:E.height,scaleX:l,scaleY:l,x:u.x,y:u.y,onMouseDown:y,onMousemove:x,onMouseup:v,onMouseleave:v,onWheel:_,style:{cursor:d},children:c.jsxs(ZDe,{ref:m,children:[c.jsx(JDe,{x:i.x-i.width/2,y:i.y-i.height/2,width:i.width,height:i.height,stroke:"white",strokeWidth:2/l,listening:!1}),c.jsx(tNe,{image:n,x:i.x,y:i.y,offsetX:i.width/2,offsetY:i.height/2,width:i.width,height:i.height,scaleX:o,scaleY:1,rotation:s}),a.map(($,D)=>c.jsx(eNe,{points:$.points,stroke:$.color,strokeWidth:$.strokeWidth/l,tension:.5,lineCap:"round",lineJoin:"round",globalCompositeOperation:$.tool==="eraser"?"destination-out":"source-over"},D))]})}),e[10]=d,e[11]=n,e[12]=i,e[13]=m,e[14]=a,e[15]=y,e[16]=x,e[17]=v,e[18]=_,e[19]=s,e[20]=o,e[21]=u,e[22]=h,e[23]=E,e[24]=l,e[25]=U):U=e[25];let F;return e[26]!==M||e[27]!==N||e[28]!==U?(F=c.jsxs(ee,{ref:w,sx:z,children:[M,N,U]}),e[26]=M,e[27]=N,e[28]=U,e[29]=F):F=e[29],F},aNe=["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ffffff","#000000"],iNe=t=>{const e=bt.c(24),{tool:n,canvasSize:r,brushSize:a,brushColor:i,eraserSize:s,onBrushSizeChange:o,onBrushColorChange:l,onEraserSizeChange:u}=t;let d,h;e[0]===Symbol.for("react.memo_cache_sentinel")?(d={width:250,borderLeft:1,borderColor:"divider",bgcolor:"background.paper",p:2,overflowY:"auto"},h=c.jsx(ae,{variant:"subtitle2",gutterBottom:!0,children:"Canvas Info"}),e[0]=d,e[1]=h):(d=e[0],h=e[1]);let m;e[2]!==r.height||e[3]!==r.width?(m=c.jsxs(ae,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Size: ",r.width," x ",r.height," px"]}),e[2]=r.height,e[3]=r.width,e[4]=m):m=e[4];let y,x;e[5]===Symbol.for("react.memo_cache_sentinel")?(y=c.jsx(bn,{sx:{my:2}}),x=c.jsx(ae,{variant:"subtitle2",gutterBottom:!0,children:"Tool Properties"}),e[5]=y,e[6]=x):(y=e[5],x=e[6]);let v;e[7]!==i||e[8]!==a||e[9]!==l||e[10]!==o||e[11]!==n?(v=n==="brush"&&c.jsxs(c.Fragment,{children:[c.jsxs(ae,{variant:"body2",gutterBottom:!0,sx:{mt:2},children:["Brush Size: ",a,"px"]}),c.jsx(Ba,{value:a,onChangeCommitted:(T,E)=>o(E),min:1,max:50,sx:{mb:3}}),c.jsx(ae,{variant:"body2",gutterBottom:!0,children:"Brush Color"}),c.jsx(ee,{sx:{display:"flex",gap:1,flexWrap:"wrap",mb:2},onMouseDown:sNe,onMouseMove:oNe,children:aNe.map(T=>c.jsx(ee,{onClick:()=>l(T),sx:{width:32,height:32,bgcolor:T,border:i===T?3:1,borderColor:i===T?"primary.main":"divider",borderRadius:1,cursor:"pointer"}},T))}),c.jsx("input",{type:"color",value:i,onChange:T=>l(T.target.value),onMouseDown:lNe,onMouseMove:cNe,style:{width:"100%",height:40}})]}),e[7]=i,e[8]=a,e[9]=l,e[10]=o,e[11]=n,e[12]=v):v=e[12];let _;e[13]!==s||e[14]!==u||e[15]!==n?(_=n==="eraser"&&c.jsxs(c.Fragment,{children:[c.jsxs(ae,{variant:"body2",gutterBottom:!0,sx:{mt:2},children:["Eraser Size: ",s,"px"]}),c.jsx(Ba,{value:s,onChangeCommitted:(T,E)=>u(E),min:5,max:100,sx:{mb:3}})]}),e[13]=s,e[14]=u,e[15]=n,e[16]=_):_=e[16];let C;e[17]!==n?(C=n==="pan"&&c.jsx(ae,{variant:"body2",color:"text.secondary",sx:{mt:2},children:"Click and drag to move the canvas. Use mouse wheel to zoom in/out."}),e[17]=n,e[18]=C):C=e[18];let w;return e[19]!==m||e[20]!==v||e[21]!==_||e[22]!==C?(w=c.jsxs(ee,{sx:d,children:[h,m,y,x,v,_,C]}),e[19]=m,e[20]=v,e[21]=_,e[22]=C,e[23]=w):w=e[23],w};function sNe(t){return t.stopPropagation()}function oNe(t){return t.stopPropagation()}function lNe(t){return t.stopPropagation()}function cNe(t){return t.stopPropagation()}const uNe=t=>{const e=bt.c(14),{saving:n,imageLoaded:r,onSave:a,onCancel:i}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={borderTop:1,borderColor:"divider",p:2},e[0]=s):s=e[0];let o;e[1]!==i||e[2]!==n?(o=c.jsx(Ze,{onClick:i,disabled:n,children:"Cancel"}),e[1]=i,e[2]=n,e[3]=o):o=e[3];let l;e[4]!==n?(l=n?c.jsx(Kt,{size:16}):c.jsx(MO,{}),e[4]=n,e[5]=l):l=e[5];const u=n||!r,d=n?"Saving...":"Save";let h;e[6]!==a||e[7]!==l||e[8]!==u||e[9]!==d?(h=c.jsx(Ze,{onClick:a,variant:"contained",startIcon:l,disabled:u,children:d}),e[6]=a,e[7]=l,e[8]=u,e[9]=d,e[10]=h):h=e[10];let m;return e[11]!==o||e[12]!==h?(m=c.jsxs(kr,{sx:s,children:[o,h]}),e[11]=o,e[12]=h,e[13]=m):m=e[13],m},dNe=({open:t,imageId:e,imageUrl:n,onClose:r,onSaved:a})=>{const[i,s]=A.useState(null),[o,l]=A.useState({width:0,height:0}),[u,d]=A.useState({width:800,height:600}),[h,m]=A.useState(null),[y,x]=A.useState(!1),[v,_]=A.useState("brush"),[C,w]=A.useState(5),[T,E]=A.useState("#ff0000"),[k,j]=A.useState(20),O=A.useRef(null),z=A.useRef(null),M=Kke(),N=Xke(),U=Qke({tool:v,brushSize:C,brushColor:T,eraserSize:k,zoom:N.zoom,stagePos:N.stagePos,onDrawingComplete:M.saveToHistory}),F=A.useCallback((Z,Y)=>{d({width:Z,height:Y})},[]);A.useEffect(()=>{if(!t)return;const Z=new window.Image;return Z.crossOrigin="anonymous",Z.onload=()=>{s(Z),l({width:Z.width,height:Z.height});const Y=Jke(Z.width,Z.height,u.width,u.height);N.setInitialZoom(Y)},Z.onerror=()=>{m("Failed to load image")},Z.src=n,()=>{s(null),l({width:0,height:0}),m(null),M.reset(),N.reset(),U.reset()}},[t,n,u.width,u.height]);const $=Zke(i,o,N.rotation,u.width,u.height),D=Z=>{if(v==="pan"){const Y=Z.target.getStage().getPointerPosition();N.startPan(Y);return}if(v==="brush"||v==="eraser"){const Y=Z.target.getStage().getPointerPosition();U.startDrawing(Y)}},H=Z=>{const ne=Z.target.getStage().getPointerPosition();if(v==="pan"){N.movePan(ne);return}U.isDrawing&&U.continueDrawing(ne)},L=()=>{v==="pan"&&N.endPan(),U.isDrawing&&U.endDrawing()},V=()=>{const Z=M.undo();Z!==null&&U.setLinesFromHistory(Z)},J=()=>{const Z=M.redo();Z!==null&&U.setLinesFromHistory(Z)},Q=()=>{U.clearLines()},K=async()=>{if(z.current)try{x(!0),m(null),await eIe(z.current,$,e,N.zoom),x(!1),a?.(),r()}catch(Z){console.error("Failed to save edited image:",Z),m(Z.response?.data?.error||"Failed to save image"),x(!1)}},q=()=>v==="pan"?N.isPanning?"grabbing":"grab":v==="brush"||v==="eraser"?"crosshair":"default";return c.jsxs(hr,{open:t,onClose:r,maxWidth:!1,PaperProps:{sx:{width:"95vw",height:"95vh",maxWidth:"none",bgcolor:"background.paper"}},children:[c.jsx(tIe,{zoom:N.zoom,onZoomIn:N.handleZoomIn,onZoomOut:N.handleZoomOut,onFitScreen:N.handleFitScreen,onClose:r}),c.jsxs(yr,{sx:{p:0,display:"flex",height:"100%",overflow:"hidden"},children:[c.jsx(nIe,{tool:v,canUndo:M.canUndo,canRedo:M.canRedo,onToolChange:_,onUndo:V,onRedo:J,onClear:Q,onRotate:N.handleRotate,onFlip:N.handleFlip}),c.jsx(rNe,{image:i,error:h,lines:U.lines,imageTransform:$,rotation:N.rotation,scaleX:N.scaleX,zoom:N.zoom,stagePos:N.stagePos,cursor:q(),stageRef:O,layerRef:z,onMouseDown:D,onMouseMove:H,onMouseUp:L,onWheel:Z=>N.handleWheel(Z,O),onViewportResize:F}),c.jsx(iNe,{tool:v,canvasSize:o,brushSize:C,brushColor:T,eraserSize:k,onBrushSizeChange:w,onBrushColorChange:E,onEraserSizeChange:j})]}),c.jsx(uNe,{saving:y,imageLoaded:!!i,onSave:K,onCancel:r})]})},V5=({open:t,onClose:e,image:n,images:r=[],currentIndex:a=0,onImageChange:i,onImageDeleted:s,searchContext:o="all",searchParams:l,groupId:u,allImageIds:d=[],isHistoryContext:h=!1})=>{const{t:m}=qt(),y=rs(),x=ov(y.breakpoints.down("md")),v=Gf(),_=Pd(),[C,w]=A.useState(!x),[T,E]=A.useState(!1),[k,j]=A.useState(n),[O,z]=A.useState(!1),[M,N]=A.useState(!1),[U,F]=A.useState(!1),[$,D]=A.useState(!1),[H,L]=A.useState({open:!1,message:"",severity:"success"}),[V,J]=A.useState(null),Q=xke(n?.composite_hash||void 0,t),K=Tke({images:r,currentIndex:a,onImageChange:i,isOpen:t,onClose:e,searchContext:o,searchParams:l,groupId:u,allImageIds:d,onRandomImageLoaded:pe=>{j(pe)},onRandomModeChange:pe=>{N(pe)}}),q=Ake();A.useEffect(()=>{(async()=>{try{const ve=await $s.getSettings();E(ve.tagger.enabled)}catch(ve){console.error("Failed to load settings:",ve),E(!1)}})()},[]),A.useEffect(()=>{if(!M&&n){if(!n.composite_hash){console.warn("[ImageViewerModal] No composite_hash, using props data"),j(n);return}if(k?.composite_hash===n.composite_hash)return;(async()=>{try{const ve=await ya.getMetadata(n.composite_hash);j(ve)}catch(ve){console.error("[ImageViewerModal] Metadata fetch failed, using props data:",ve),j(n)}})()}},[n?.composite_hash,M,k?.composite_hash]);const Z=async()=>{if(n?.composite_hash)try{const pe=await ya.getImage(n.composite_hash);pe.success&&pe.data&&j(pe.data)}catch(pe){console.error("Failed to reload image after tagging:",pe)}},Y=async()=>{if(!n)return;let pe="";if(h&&n.image_url&&n.image_url.trim().length>0)pe=n.image_url.startsWith("http")?n.image_url:`${_}${n.image_url}`;else if(n.image_url&&n.image_url.trim().length>0)pe=n.image_url.startsWith("http")?n.image_url:`${_}${n.image_url}`;else if(n.original_file_path)pe=`${_}/api/images/by-path/${encodeURIComponent(n.original_file_path)}`;else if(n.composite_hash)pe=`${_}/api/images/${n.composite_hash}/download/original`;else{console.error("Cannot download: no valid identifier found");return}try{const ve=await fetch(pe,{credentials:"include"});if(!ve.ok)throw new Error(`Failed to download: ${ve.statusText}`);const ge=await ve.blob(),oe=window.URL.createObjectURL(ge),Se=document.createElement("a");Se.href=oe,Se.download=n.original_file_path||`image_${n.composite_hash?.substring(0,8)||"unknown"}.png`,document.body.appendChild(Se),Se.click(),document.body.removeChild(Se),window.URL.revokeObjectURL(oe)}catch(ve){console.error("Download failed:",ve);const ge=document.createElement("a");ge.href=pe,ge.download=n.original_file_path||`image_${n.composite_hash?.substring(0,8)||"unknown"}.png`,ge.target="_blank",document.body.appendChild(ge),ge.click(),document.body.removeChild(ge)}},ne=()=>{n&&n.composite_hash&&(v(`/image/${n.composite_hash}`),e())},re=()=>{J(document.activeElement),z(!0)},ie=async()=>{if(k)try{let pe;if(h)pe=await hd.delete(k.id||k.composite_hash);else{if(!k.composite_hash)throw new Error("Image is still processing");pe=await ya.deleteImage(k.composite_hash)}pe.success?(L({open:!0,message:m("imageDetail:actions.deleteSuccess"),severity:"success"}),s&&k.composite_hash&&s(k.composite_hash),r.length>1?a<r.length-1?K.handleNext():a>0?K.handlePrevious():e():e()):L({open:!0,message:pe.error||m("imageDetail:actions.deleteError"),severity:"error"})}catch(pe){console.error("Failed to delete:",pe),L({open:!0,message:m("imageDetail:actions.deleteError"),severity:"error"})}finally{z(!1)}},ce=()=>{z(!1),V&&setTimeout(()=>{V.focus()},0)},he=()=>{J(document.activeElement),D(!0)},me=()=>{D(!1),V&&setTimeout(()=>{V.focus()},0)},le=()=>{L({...H,open:!1})},de=()=>{L({open:!0,message:"    .  .",severity:"error"}),F(!1)};return k?c.jsxs(hr,{open:t,onClose:e,maxWidth:!1,fullWidth:!0,PaperProps:{sx:{width:"90vw",height:"90vh",maxWidth:"90vw",maxHeight:"90vh",borderRadius:2,overflow:"hidden",display:"flex",flexDirection:"column"}},children:[c.jsxs(ee,{sx:{display:"flex",flex:1,minHeight:0},children:[c.jsxs(ee,{sx:{flex:x?1:"1 1 auto",minWidth:0,display:"flex",flexDirection:"column",bgcolor:"black",position:"relative"},children:[c.jsx(Rke,{scale:Q.scale,isMobile:x,showOriginal:U,isGif:k?.file_type==="animated",isVideo:k?.file_type==="video",onZoomIn:Q.handleZoomIn,onZoomOut:Q.handleZoomOut,onRotateLeft:Q.handleRotateLeft,onRotateRight:Q.handleRotateRight,onFlipHorizontal:Q.handleFlipHorizontal,onFlipVertical:Q.handleFlipVertical,onReset:Q.handleReset,onToggleOriginal:()=>F(pe=>!pe),onEdit:k?.file_type==="image"?he:void 0,onOpenDrawer:x?()=>w(!0):void 0,onClose:e}),c.jsx(kke,{image:k,scale:Q.scale,rotation:Q.rotation,flipX:Q.flipX,flipY:Q.flipY,imagePosition:Q.imagePosition,isDragging:Q.isDragging,containerRef:Q.imageContainerRef,onMouseDown:Q.handleMouseDown,showOriginal:U,onOriginalLoadError:de})]}),!x&&c.jsx(Yt,{sx:{flex:"0 0 30%",minWidth:"325px",display:"flex",flexDirection:"column",borderRadius:0},elevation:0,children:c.jsx(bz,{image:k,onGroupClick:q.handleGroupClick,isTaggerEnabled:T,onAutoTagGenerated:Z,isHistoryContext:h})}),x&&c.jsx(uC,{anchor:"right",open:C,onClose:()=>w(!1),ModalProps:{style:{zIndex:1400},keepMounted:!1,disablePortal:!1},slotProps:{paper:{sx:{width:"80vw",maxWidth:400}}},children:c.jsx(bz,{image:k,onGroupClick:q.handleGroupClick,isTaggerEnabled:T,onAutoTagGenerated:Z,isHistoryContext:h})})]}),c.jsxs(kr,{sx:{flexShrink:0,justifyContent:"space-between",px:2,py:1,borderTop:1,borderColor:"divider"},children:[c.jsx(ake,{currentIndex:a,totalCount:r?.length??0,onPrevious:K.handlePrevious,onNext:K.handleNext,...!h&&{onRandom:K.handleRandom},isRandomMode:M,currentImage:k}),c.jsxs(ee,{sx:{display:"flex",gap:.5},children:[!h&&c.jsx(Xt,{title:m("imageDetail:actions.goToDetail"),children:c.jsx(ht,{size:"small",onClick:ne,children:c.jsx(yc,{})})}),c.jsx(Xt,{title:m("imageDetail:actions.download"),children:c.jsx(ht,{size:"small",onClick:Y,children:c.jsx(Zv,{})})}),c.jsx(Xt,{title:m("imageDetail:actions.delete"),children:c.jsx(ht,{size:"small",onClick:re,color:"error",children:c.jsx(Ia,{})})})]})]}),q.groupModalOpen&&c.jsx(yke,{open:q.groupModalOpen,onClose:q.handleGroupModalClose,images:q.groupImages,loading:q.groupImagesLoading,title:q.selectedGroup?m("imageDetail:groupModal.title",{name:q.selectedGroup.name}):m("imageDetail:groupModal.defaultTitle"),pageSize:q.groupImagesPageSize,onPageSizeChange:q.handleGroupImagesPageSizeChange,currentPage:q.groupImagesPage,totalPages:q.groupImagesTotalPages,total:q.groupImagesTotal,onPageChange:q.handleGroupImagesPageChange}),c.jsxs(hr,{open:O,onClose:ce,maxWidth:"xs",fullWidth:!0,hideBackdrop:!1,disablePortal:!1,style:{zIndex:1400},children:[c.jsx(br,{children:m("imageDetail:actions.delete")}),c.jsx(yr,{children:c.jsx(Rp,{children:m("imageDetail:actions.deleteConfirm")})}),c.jsxs(kr,{children:[c.jsx(Ze,{onClick:ce,color:"primary",children:m("common:actions.cancel")}),c.jsx(Ze,{onClick:ie,color:"error",variant:"contained",children:m("imageDetail:actions.delete")})]})]}),c.jsx(jg,{open:H.open,autoHideDuration:3e3,onClose:le,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:c.jsx(wt,{onClose:le,severity:H.severity,variant:"filled",children:H.message})}),k&&k.file_id&&c.jsx(dNe,{open:$,onClose:me,imageId:k.file_id,imageUrl:yC(U&&k.original_file_path||k.thumbnail_path)||"",onSaved:async()=>{if(k.composite_hash)try{const pe=await ya.getImage(k.composite_hash);pe.success&&pe.data&&j(pe.data)}catch(pe){console.error("Failed to reload image after editing:",pe)}}})]}):null},fNe=t=>{const e=bt.c(55),{images:n,loading:r,hasMore:a,onLoadMore:i,selectable:s,selectedIds:o,onSelectionChange:l}=t,u=r===void 0?!1:r,d=s===void 0?!1:s;let h;e[0]!==o?(h=o===void 0?[]:o,e[0]=o,e[1]=h):h=e[1];const m=h,[y,x]=A.useState(!1),[v,_]=A.useState(0),[C,w]=A.useState(-1);let T;e[2]!==m?(T=new Set(m),e[2]=m,e[3]=T):T=e[3];const E=T;let k;e[4]===Symbol.for("react.memo_cache_sentinel")?(k={default:6,1536:5,1200:4,900:3,600:2},e[4]=k):k=e[4];const j=k;let O;e[5]===Symbol.for("react.memo_cache_sentinel")?(O=le=>{_(le),x(!0)},e[5]=O):O=e[5];const z=O;let M;e[6]===Symbol.for("react.memo_cache_sentinel")?(M=le=>{_(le)},e[6]=M):M=e[6];const N=M;let U;e[7]!==n||e[8]!==C||e[9]!==l||e[10]!==m||e[11]!==E?(U=(le,de)=>{if(console.log("[ImageMasonry] handleSelectionChange called:",{id:le,hasCallback:!!l,imageIndex:n.findIndex(ge=>ge.id===le)}),!l)return;const pe=n.findIndex(ge=>ge.id===le);if(de&&(de.ctrlKey||de.metaKey)){const ge=E.has(le)?m.filter(oe=>oe!==le):[...m,le];l(ge),w(pe);return}if(de&&de.shiftKey&&C>=0){const ge=Math.min(C,pe),oe=Math.max(C,pe),Se=n.slice(ge,oe+1).map(hNe).filter(pNe),be=Array.from(new Set([...m,...Se]));l(be);return}const ve=E.has(le)?m.filter(ge=>ge!==le):[...m,le];l(ve),w(pe)},e[7]=n,e[8]=C,e[9]=l,e[10]=m,e[11]=E,e[12]=U):U=e[12];const F=U;let $;e[13]!==l||e[14]!==m?($=le=>{const de=le.target,pe=de.closest(".selectable-image"),ve=de.closest(".image-card-actions"),ge=de.closest(".no-drag-select");!pe&&!ve&&!ge&&l&&m.length>0&&(l([]),w(-1))},e[13]=l,e[14]=m,e[15]=$):$=e[15];const D=$;let H,L;if(e[16]!==n||e[17]!==l||e[18]!==d?(H=()=>{if(!d||!l)return;const le=de=>{if((de.ctrlKey||de.metaKey)&&de.key==="a"){de.preventDefault();const pe=n.map(mNe).filter(gNe);l(pe)}de.key==="Escape"&&(de.preventDefault(),l([]),w(-1))};return window.addEventListener("keydown",le),()=>{window.removeEventListener("keydown",le)}},L=[d,l,n],e[16]=n,e[17]=l,e[18]=d,e[19]=H,e[20]=L):(H=e[19],L=e[20]),A.useEffect(H,L),u&&n.length===0){let le;e[21]===Symbol.for("react.memo_cache_sentinel")?(le={width:"100%"},e[21]=le):le=e[21];let de;return e[22]===Symbol.for("react.memo_cache_sentinel")?(de=c.jsx(ee,{sx:le,children:c.jsx(gC,{breakpointCols:j,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:Array.from({length:20},yNe)})}),e[22]=de):de=e[22],de}if(n.length===0){let le;return e[23]===Symbol.for("react.memo_cache_sentinel")?(le=c.jsxs(ee,{sx:{textAlign:"center",py:8},children:[c.jsx(ae,{variant:"h6",color:"text.secondary",children:" "}),c.jsx(ae,{variant:"body2",color:"text.secondary",children:" ."})]}),e[23]=le):le=e[23],le}let V;e[24]===Symbol.for("react.memo_cache_sentinel")?(V={width:"100%",position:"relative"},e[24]=V):V=e[24];const J=n.length;let Q;e[25]===Symbol.for("react.memo_cache_sentinel")?(Q={mt:2,width:"100%"},e[25]=Q):Q=e[25];let K;e[26]===Symbol.for("react.memo_cache_sentinel")?(K=c.jsx(ee,{sx:Q,children:c.jsx(ee,{sx:{textAlign:"center",py:2},children:c.jsx(ae,{variant:"body2",color:"text.secondary",children:"  ..."})})}),e[26]=K):K=e[26];let q;e[27]===Symbol.for("react.memo_cache_sentinel")?(q=c.jsx(ee,{sx:{textAlign:"center",py:4,mt:2},children:c.jsx(ae,{variant:"body2",color:"text.secondary",children:"  "})}),e[27]=q):q=e[27];let Z;e[28]===Symbol.for("react.memo_cache_sentinel")?(Z={overflow:"visible"},e[28]=Z):Z=e[28];let Y;if(e[29]!==F||e[30]!==n||e[31]!==d||e[32]!==E){let le;e[34]!==F||e[35]!==d||e[36]!==E?(le=(de,pe)=>c.jsx(rke,{image:de,onClick:()=>z(pe),selected:de.id?E.has(de.id):!1,selectable:d,onSelectionChange:F},de.id?`id-${de.id}`:`hash-${de.composite_hash||"processing"}-${pe}`),e[34]=F,e[35]=d,e[36]=E,e[37]=le):le=e[37],Y=n.map(le),e[29]=F,e[30]=n,e[31]=d,e[32]=E,e[33]=Y}else Y=e[33];let ne;e[38]!==Y?(ne=c.jsx(gC,{breakpointCols:j,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:Y}),e[38]=Y,e[39]=ne):ne=e[39];let re;e[40]!==a||e[41]!==n.length||e[42]!==i||e[43]!==ne?(re=c.jsx(cQ,{dataLength:J,next:i,hasMore:a,loader:K,endMessage:q,scrollThreshold:.8,style:Z,children:ne}),e[40]=a,e[41]=n.length,e[42]=i,e[43]=ne,e[44]=re):re=e[44];let ie;e[45]===Symbol.for("react.memo_cache_sentinel")?(ie=()=>x(!1),e[45]=ie):ie=e[45];const ce=n[v]||null;let he;e[46]!==v||e[47]!==n||e[48]!==ce||e[49]!==y?(he=c.jsx(V5,{open:y,onClose:ie,image:ce,images:n,currentIndex:v,onImageChange:N}),e[46]=v,e[47]=n,e[48]=ce,e[49]=y,e[50]=he):he=e[50];let me;return e[51]!==D||e[52]!==re||e[53]!==he?(me=c.jsxs(ee,{onClick:D,sx:V,children:[re,he]}),e[51]=D,e[52]=re,e[53]=he,e[54]=me):me=e[54],me};function hNe(t){return t.id}function pNe(t){return t!=null}function mNe(t){return t.id}function gNe(t){return t!=null}function yNe(t,e){return c.jsx(du,{variant:"rectangular",height:Math.random()*200+150,sx:{borderRadius:1}},e)}const bNe=()=>{const[t,e]=A.useState(!1),[n,r]=A.useState(null),a=A.useCallback(async o=>{if(o.length===0)return!1;e(!0),r(null);try{const l=await ya.deleteImages(o);return l.success?!0:(r(l.error||"  ."),!1)}catch(l){return r("    ."),console.error("Bulk delete error:",l),!1}finally{e(!1)}},[]),i=A.useCallback(async o=>{if(o.length!==0){e(!0),r(null);try{for(const l of o){const u=document.createElement("a");u.href=ya.getDownloadUrl(l),u.download=`image_${l.substring(0,8)}`,document.body.appendChild(u),u.click(),document.body.removeChild(u),await new Promise(d=>setTimeout(d,100))}}catch(l){r("    ."),console.error("Bulk download error:",l)}finally{e(!1)}}},[]),s=A.useCallback(async(o,l)=>{if(o.length===0)return!1;e(!0),r(null);try{const u=await si.addImagesToGroup(l,o);return u.success?!0:(r(u.error||"  ."),!1)}catch(u){return r("    ."),console.error("Group assignment error:",u),!1}finally{e(!1)}},[]);return{loading:t,error:n,deleteImages:a,downloadImages:i,assignToGroup:s,clearError:()=>r(null)}},TZ=t=>{const e=bt.c(38),{groups:n,excludeIds:r,selectedIds:a,onSelectionChange:i,multiSelect:s}=t;let o;e[0]!==r?(o=r===void 0?[]:r,e[0]=r,e[1]=o):o=e[1];const l=o;let u;e[2]!==a?(u=a===void 0?[]:a,e[2]=a,e[3]=u):u=e[3];const d=u,h=s===void 0?!1:s;let m;e[4]===Symbol.for("react.memo_cache_sentinel")?(m=new Set,e[4]=m):m=e[4];const[y,x]=A.useState(m);let v;e[5]!==d?(v=new Set(d),e[5]=d,e[6]=v):v=e[6];const[_,C]=A.useState(v);let w,T;e[7]!==d?(w=()=>{C(new Set(d))},T=[d],e[7]=d,e[8]=w,e[9]=T):(w=e[8],T=e[9]),A.useEffect(w,T);let E;if(e[10]!==l||e[11]!==n){const q=n.filter(ne=>!l.includes(ne.id)),Z=new Map;q.forEach(ne=>{Z.set(ne.id,{group:ne,children:[],level:0})}),E=[],q.forEach(ne=>{const re=Z.get(ne.id);if(re)if(ne.parent_id&&Z.has(ne.parent_id)){const ie=Z.get(ne.parent_id);re.level=ie.level+1,ie.children.push(re)}else E.push(re)});const Y=ne=>{ne.sort(xNe),ne.forEach(re=>Y(re.children))};Y(E),e[10]=l,e[11]=n,e[12]=E}else E=e[12];const k=E;let j;e[13]===Symbol.for("react.memo_cache_sentinel")?(j=q=>{x(Z=>{const Y=new Set(Z);return Y.has(q)?Y.delete(q):Y.add(q),Y})},e[13]=j):j=e[13];const O=j;let z;e[14]!==k?(z=()=>{const q=new Set,Z=Y=>{Y.forEach(ne=>{ne.children.length>0&&(q.add(ne.group.id),Z(ne.children))})};Z(k),x(q)},e[14]=k,e[15]=z):z=e[15];const M=z;let N;e[16]===Symbol.for("react.memo_cache_sentinel")?(N=()=>{x(new Set)},e[16]=N):N=e[16];const U=N;let F;e[17]!==_||e[18]!==h||e[19]!==i?(F=q=>{let Z;h?(Z=new Set(_),Z.has(q)?Z.delete(q):Z.add(q)):Z=new Set([q]),C(Z),i?.(Array.from(Z))},e[17]=_,e[18]=h,e[19]=i,e[20]=F):F=e[20];const $=F;let D;if(e[21]!==k){D=Z=>{const Y=[],ne=q(k,Z);if(!ne)return Y;const re=ie=>{ie.children.forEach(ce=>{Y.push(ce.group.id),re(ce)})};return re(ne),Y};const q=(Z,Y)=>{for(const ne of Z){if(ne.group.id===Y)return ne;const re=q(ne.children,Y);if(re)return re}return null};e[21]=k,e[22]=D}else D=e[22];let H;e[23]!==y?(H=q=>y.has(q),e[23]=y,e[24]=H):H=e[24];const L=H;let V;e[25]!==_?(V=q=>_.has(q),e[25]=_,e[26]=V):V=e[26];const J=V;let Q;e[27]!==_?(Q=Array.from(_),e[27]=_,e[28]=Q):Q=e[28];let K;return e[29]!==M||e[30]!==y||e[31]!==D||e[32]!==$||e[33]!==L||e[34]!==J||e[35]!==Q||e[36]!==k?(K={treeData:k,expandedIds:y,selectedIds:Q,toggleExpand:O,expandAll:M,collapseAll:U,handleSelect:$,isExpanded:L,isSelected:J,getDescendantIds:D},e[29]=M,e[30]=y,e[31]=D,e[32]=$,e[33]=L,e[34]=J,e[35]=Q,e[36]=k,e[37]=K):K=e[37],K};function xNe(t,e){return t.group.name.localeCompare(e.group.name)}const AZ=t=>{const e=bt.c(55),{group:n,level:r,hasChildren:a,isExpanded:i,isSelected:s,onToggleExpand:o,onSelect:l}=t,u=rs(),d=n.color||u.palette.primary.main,h=`${r*24}px`;let m;e[0]!==d||e[1]!==s?(m=s?_s(d,.15):"transparent",e[0]=d,e[1]=s,e[2]=m):m=e[2];const y=s?`3px solid ${d}`:"3px solid transparent";let x;e[3]!==d||e[4]!==s||e[5]!==u.palette.action?(x=s?_s(d,.2):_s(u.palette.action.hover,.08),e[3]=d,e[4]=s,e[5]=u.palette.action,e[6]=x):x=e[6];let v;e[7]!==x?(v={backgroundColor:x},e[7]=x,e[8]=v):v=e[8];let _;e[9]!==h||e[10]!==m||e[11]!==y||e[12]!==v?(_={display:"flex",alignItems:"center",paddingLeft:h,paddingY:.5,cursor:"pointer",backgroundColor:m,borderLeft:y,transition:"all 0.2s ease","&:hover":v},e[9]=h,e[10]=m,e[11]=y,e[12]=v,e[13]=_):_=e[13];let C;e[14]!==a||e[15]!==l||e[16]!==o?(C=()=>{l(),a&&o()},e[14]=a,e[15]=l,e[16]=o,e[17]=C):C=e[17];let w;e[18]===Symbol.for("react.memo_cache_sentinel")?(w={width:24,height:24,flexShrink:0},e[18]=w):w=e[18];let T;e[19]!==a||e[20]!==i||e[21]!==o?(T=a&&c.jsx(ht,{size:"small",onClick:L=>{L.stopPropagation(),o()},sx:{padding:0},children:i?c.jsx(ts,{fontSize:"small"}):c.jsx(RRe,{fontSize:"small"})}),e[19]=a,e[20]=i,e[21]=o,e[22]=T):T=e[22];let E;e[23]!==T?(E=c.jsx(ee,{sx:w,children:T}),e[23]=T,e[24]=E):E=e[24];let k;e[25]!==d?(k={width:24,height:24,flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",marginLeft:.5,marginRight:1,color:d},e[25]=d,e[26]=k):k=e[26];let j;e[27]!==a||e[28]!==i?(j=i&&a?c.jsx(bu,{fontSize:"small"}):c.jsx(Ty,{fontSize:"small"}),e[27]=a,e[28]=i,e[29]=j):j=e[29];let O;e[30]!==k||e[31]!==j?(O=c.jsx(ee,{sx:k,children:j}),e[30]=k,e[31]=j,e[32]=O):O=e[32];let z;e[33]!==d?(z=c.jsx(ee,{sx:{width:4,height:24,backgroundColor:d,borderRadius:1,marginRight:1.5,flexShrink:0}}),e[33]=d,e[34]=z):z=e[34];const M=s?600:400,N=s?u.palette.text.primary:u.palette.text.secondary;let U;e[35]!==M||e[36]!==N?(U={flexGrow:1,fontWeight:M,color:N,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e[35]=M,e[36]=N,e[37]=U):U=e[37];let F;e[38]!==n.name||e[39]!==U?(F=c.jsx(ae,{variant:"body2",sx:U,children:n.name}),e[38]=n.name,e[39]=U,e[40]=F):F=e[40];let $;e[41]!==n.image_count||e[42]!==u.palette.primary?($=(n.image_count??0)>0&&c.jsx(gt,{label:n.image_count,size:"small",sx:{height:20,fontSize:"0.7rem",marginLeft:1,backgroundColor:_s(u.palette.primary.main,.1),color:u.palette.primary.main}}),e[41]=n.image_count,e[42]=u.palette.primary,e[43]=$):$=e[43];let D;e[44]!==n.auto_collect_enabled?(D=!!n.auto_collect_enabled&&c.jsx(gt,{icon:c.jsx(mg,{sx:{fontSize:"0.8rem"}}),label:"Auto",size:"small",color:"secondary",sx:{height:20,fontSize:"0.65rem",marginLeft:.5,"& .MuiChip-icon":{marginLeft:"4px"}}}),e[44]=n.auto_collect_enabled,e[45]=D):D=e[45];let H;return e[46]!==E||e[47]!==O||e[48]!==z||e[49]!==F||e[50]!==$||e[51]!==D||e[52]!==_||e[53]!==C?(H=c.jsxs(ee,{sx:_,onClick:C,children:[E,O,z,F,$,D]}),e[46]=E,e[47]=O,e[48]=z,e[49]=F,e[50]=$,e[51]=D,e[52]=_,e[53]=C,e[54]=H):H=e[54],H},vNe=t=>{const e=bt.c(58),{groups:n,selectedIds:r,onSelectionChange:a,excludeIds:i,multiSelect:s,showSearch:o,emptyMessage:l,maxHeight:u}=t;let d;e[0]!==r?(d=r===void 0?[]:r,e[0]=r,e[1]=d):d=e[1];const h=d;let m;e[2]!==i?(m=i===void 0?[]:i,e[2]=i,e[3]=m):m=e[3];const y=m,x=s===void 0?!1:s,v=o===void 0?!0:o,_=l===void 0?"No groups available":l,C=u===void 0?400:u,[w,T]=A.useState("");let E;e:{if(!w.trim()){E=n;break e}let ne;if(e[4]!==n||e[5]!==w){const re=w.toLowerCase();ne=n.filter(ie=>ie.name.toLowerCase().includes(re)||ie.description?.toLowerCase().includes(re)),e[4]=n,e[5]=w,e[6]=ne}else ne=e[6];E=ne}const k=E;let j;e[7]!==y||e[8]!==k||e[9]!==x||e[10]!==a||e[11]!==h?(j={groups:k,excludeIds:y,selectedIds:h,onSelectionChange:a,multiSelect:x},e[7]=y,e[8]=k,e[9]=x,e[10]=a,e[11]=h,e[12]=j):j=e[12];const{treeData:O,toggleExpand:z,expandAll:M,collapseAll:N,handleSelect:U,isExpanded:F,isSelected:$}=TZ(j);let D,H,L,V,J,Q,K;if(e[13]!==N||e[14]!==_||e[15]!==M||e[16]!==U||e[17]!==F||e[18]!==$||e[19]!==C||e[20]!==w||e[21]!==v||e[22]!==z||e[23]!==O){const ne=de=>de.map(pe=>c.jsxs(je.Fragment,{children:[c.jsx(AZ,{group:pe.group,level:pe.level,hasChildren:pe.children.length>0,isExpanded:F(pe.group.id),isSelected:$(pe.group.id),onToggleExpand:()=>z(pe.group.id),onSelect:()=>U(pe.group.id)}),F(pe.group.id)&&pe.children.length>0&&c.jsx(ee,{children:ne(pe.children)})]},pe.group.id));let re;e[31]===Symbol.for("react.memo_cache_sentinel")?(re=()=>{T("")},e[31]=re):re=e[31];const ie=re;H=ee,e[32]===Symbol.for("react.memo_cache_sentinel")?(Q={display:"flex",flexDirection:"column",gap:1},e[32]=Q):Q=e[32],e[33]!==N||e[34]!==M||e[35]!==w||e[36]!==v?(K=v&&c.jsxs(ee,{sx:{display:"flex",gap:1,alignItems:"center"},children:[c.jsx(Lt,{size:"small",placeholder:"Search groups...",value:w,onChange:de=>T(de.target.value),fullWidth:!0,InputProps:{startAdornment:c.jsx(Wk,{position:"start",children:c.jsx(qf,{fontSize:"small"})}),endAdornment:w&&c.jsx(Wk,{position:"end",children:c.jsx(ht,{size:"small",onClick:ie,children:c.jsx(Ey,{fontSize:"small"})})})}}),c.jsx(Xt,{title:"Expand All",children:c.jsx(ht,{size:"small",onClick:M,children:c.jsx(sQ,{})})}),c.jsx(Xt,{title:"Collapse All",children:c.jsx(ht,{size:"small",onClick:N,children:c.jsx(iQ,{})})})]}),e[33]=N,e[34]=M,e[35]=w,e[36]=v,e[37]=K):K=e[37],D=Yt,L="outlined";let ce,he,me,le;e[38]===Symbol.for("react.memo_cache_sentinel")?(ce={width:"8px"},he={backgroundColor:"transparent"},me={backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"4px"},le={backgroundColor:"rgba(0,0,0,0.3)"},e[38]=ce,e[39]=he,e[40]=me,e[41]=le):(ce=e[38],he=e[39],me=e[40],le=e[41]),e[42]!==C?(V={maxHeight:C,overflowY:"auto",overflowX:"hidden","&::-webkit-scrollbar":ce,"&::-webkit-scrollbar-track":he,"&::-webkit-scrollbar-thumb":me,"&::-webkit-scrollbar-thumb:hover":le},e[42]=C,e[43]=V):V=e[43],J=O.length>0?c.jsx(ee,{sx:{paddingY:.5},children:ne(O)}):c.jsx(ee,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:200,color:"text.secondary"},children:c.jsx(ae,{variant:"body2",children:_})}),e[13]=N,e[14]=_,e[15]=M,e[16]=U,e[17]=F,e[18]=$,e[19]=C,e[20]=w,e[21]=v,e[22]=z,e[23]=O,e[24]=D,e[25]=H,e[26]=L,e[27]=V,e[28]=J,e[29]=Q,e[30]=K}else D=e[24],H=e[25],L=e[26],V=e[27],J=e[28],Q=e[29],K=e[30];let q;e[44]!==D||e[45]!==L||e[46]!==V||e[47]!==J?(q=c.jsx(D,{variant:L,sx:V,children:J}),e[44]=D,e[45]=L,e[46]=V,e[47]=J,e[48]=q):q=e[48];let Z;e[49]!==x||e[50]!==h?(Z=x&&h.length>0&&c.jsxs(ae,{variant:"caption",color:"text.secondary",children:[h.length," group",h.length!==1?"s":""," ","selected"]}),e[49]=x,e[50]=h,e[51]=Z):Z=e[51];let Y;return e[52]!==H||e[53]!==Q||e[54]!==K||e[55]!==q||e[56]!==Z?(Y=c.jsxs(H,{sx:Q,children:[K,q,Z]}),e[52]=H,e[53]=Q,e[54]=K,e[55]=q,e[56]=Z,e[57]=Y):Y=e[57],Y},SNe=t=>{const e=bt.c(109),{groups:n,selectedParentId:r,onParentChange:a,excludeIds:i,label:s,noParentLabel:o}=t;let l;e[0]!==i?(l=i===void 0?[]:i,e[0]=i,e[1]=l):l=e[1];const u=l,d=s===void 0?"Parent Group":s,h=o===void 0?"No Parent":o,m=rs(),[y,x]=A.useState(!1);let v;e[2]!==r?(v=r?[r]:[],e[2]=r,e[3]=v):v=e[3];let _;e[4]!==a?(_=Y=>{a(Y[0]||null),x(!1)},e[4]=a,e[5]=_):_=e[5];let C;e[6]!==u||e[7]!==n||e[8]!==v||e[9]!==_?(C={groups:n,excludeIds:u,selectedIds:v,onSelectionChange:_,multiSelect:!1},e[6]=u,e[7]=n,e[8]=v,e[9]=_,e[10]=C):C=e[10];const{treeData:w,toggleExpand:T,handleSelect:E,isExpanded:k,isSelected:j}=TZ(C);let O;e[11]!==n||e[12]!==r?(O=r?n.find(Y=>Y.id===r):null,e[11]=n,e[12]=r,e[13]=O):O=e[13];const z=O;let M,N,U,F,$,D,H,L,V,J,Q;if(e[14]!==E||e[15]!==k||e[16]!==y||e[17]!==j||e[18]!==d||e[19]!==h||e[20]!==a||e[21]!==z||e[22]!==r||e[23]!==m.palette.action.hover||e[24]!==m.palette.primary.main||e[25]!==T||e[26]!==w){const Y=Ie=>Ie.map(ye=>c.jsxs(je.Fragment,{children:[c.jsx(AZ,{group:ye.group,level:ye.level,hasChildren:ye.children.length>0,isExpanded:k(ye.group.id),isSelected:j(ye.group.id),onToggleExpand:()=>T(ye.group.id),onSelect:()=>E(ye.group.id)}),k(ye.group.id)&&ye.children.length>0&&c.jsx(ee,{children:Y(ye.children)})]},ye.group.id));U=ee,e[38]===Symbol.for("react.memo_cache_sentinel")?(L={mb:3},e[38]=L):L=e[38];let ne;e[39]===Symbol.for("react.memo_cache_sentinel")?(ne={mb:1},e[39]=ne):ne=e[39],e[40]!==d?(V=c.jsx(ae,{variant:"subtitle2",sx:ne,children:d}),e[40]=d,e[41]=V):V=e[41];let re;e[42]!==y||e[43]!==m.palette.primary.main?(re=y?_s(m.palette.primary.main,.05):"transparent",e[42]=y,e[43]=m.palette.primary.main,e[44]=re):re=e[44];const ie=y?"primary.main":"divider";let ce;e[45]!==m.palette.primary.main?(ce=_s(m.palette.primary.main,.02),e[45]=m.palette.primary.main,e[46]=ce):ce=e[46];let he;e[47]!==ce?(he={borderColor:"primary.main",backgroundColor:ce},e[47]=ce,e[48]=he):he=e[48];let me;e[49]!==re||e[50]!==ie||e[51]!==he?(me={padding:1.5,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:re,borderColor:ie,transition:"all 0.2s ease","&:hover":he},e[49]=re,e[50]=ie,e[51]=he,e[52]=me):me=e[52];let le;e[53]!==y?(le=()=>x(!y),e[53]=y,e[54]=le):le=e[54];let de;e[55]===Symbol.for("react.memo_cache_sentinel")?(de={display:"flex",alignItems:"center",gap:1,flex:1},e[55]=de):de=e[55];let pe;e[56]!==h||e[57]!==z?(pe=c.jsx(ee,{sx:de,children:z?c.jsxs(c.Fragment,{children:[z.color&&c.jsx(ee,{sx:{width:4,height:20,backgroundColor:z.color,borderRadius:1}}),c.jsx(ae,{variant:"body2",children:z.name})]}):c.jsx(ae,{variant:"body2",color:"text.secondary",children:h})}),e[56]=h,e[57]=z,e[58]=pe):pe=e[58];let ve;e[59]===Symbol.for("react.memo_cache_sentinel")?(ve={display:"flex",alignItems:"center",gap:.5},e[59]=ve):ve=e[59];let ge;e[60]!==a||e[61]!==r?(ge=r&&c.jsx(Ze,{size:"small",onClick:Ie=>{Ie.stopPropagation(),a(null)},sx:{minWidth:"auto",padding:.5},children:c.jsx(Ey,{fontSize:"small"})}),e[60]=a,e[61]=r,e[62]=ge):ge=e[62];const oe=y?"rotate(180deg)":"rotate(0deg)";let Se;e[63]!==oe?(Se=c.jsx(ts,{sx:{transition:"transform 0.2s ease",transform:oe}}),e[63]=oe,e[64]=Se):Se=e[64];let be;e[65]!==ge||e[66]!==Se?(be=c.jsxs(ee,{sx:ve,children:[ge,Se]}),e[65]=ge,e[66]=Se,e[67]=be):be=e[67],e[68]!==me||e[69]!==le||e[70]!==pe||e[71]!==be?(J=c.jsxs(Yt,{variant:"outlined",sx:me,onClick:le,children:[pe,be]}),e[68]=me,e[69]=le,e[70]=pe,e[71]=be,e[72]=J):J=e[72],N=Tp,H=y,M=Yt,Q="outlined",e[73]===Symbol.for("react.memo_cache_sentinel")?(F={mt:1,maxHeight:300,overflowY:"auto","&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"4px"}},e[73]=F):F=e[73];let Ae;e[74]!==r||e[75]!==m.palette.primary.main?(Ae=r?"transparent":_s(m.palette.primary.main,.15),e[74]=r,e[75]=m.palette.primary.main,e[76]=Ae):Ae=e[76];const Me=r?"3px solid transparent":`3px solid ${m.palette.primary.main}`;let Pe;e[77]!==m.palette.action.hover?(Pe=_s(m.palette.action.hover,.08),e[77]=m.palette.action.hover,e[78]=Pe):Pe=e[78];let Le;e[79]!==Pe?(Le={backgroundColor:Pe},e[79]=Pe,e[80]=Le):Le=e[80];let Oe;e[81]!==Ae||e[82]!==Me||e[83]!==Le?(Oe={padding:1.5,cursor:"pointer",backgroundColor:Ae,borderLeft:Me,transition:"all 0.2s ease","&:hover":Le},e[81]=Ae,e[82]=Me,e[83]=Le,e[84]=Oe):Oe=e[84];let Xe;e[85]!==a?(Xe=()=>{a(null),x(!1)},e[85]=a,e[86]=Xe):Xe=e[86];let ke;e[87]!==h?(ke=c.jsx(ae,{variant:"body2",color:"text.secondary",children:h}),e[87]=h,e[88]=ke):ke=e[88],e[89]!==Oe||e[90]!==Xe||e[91]!==ke?($=c.jsx(ee,{sx:Oe,onClick:Xe,children:ke}),e[89]=Oe,e[90]=Xe,e[91]=ke,e[92]=$):$=e[92],D=w.length>0?c.jsx(ee,{sx:{paddingY:.5},children:Y(w)}):c.jsx(ee,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:100,color:"text.secondary"},children:c.jsx(ae,{variant:"body2",children:"No groups available"})}),e[14]=E,e[15]=k,e[16]=y,e[17]=j,e[18]=d,e[19]=h,e[20]=a,e[21]=z,e[22]=r,e[23]=m.palette.action.hover,e[24]=m.palette.primary.main,e[25]=T,e[26]=w,e[27]=M,e[28]=N,e[29]=U,e[30]=F,e[31]=$,e[32]=D,e[33]=H,e[34]=L,e[35]=V,e[36]=J,e[37]=Q}else M=e[27],N=e[28],U=e[29],F=e[30],$=e[31],D=e[32],H=e[33],L=e[34],V=e[35],J=e[36],Q=e[37];let K;e[93]!==M||e[94]!==F||e[95]!==$||e[96]!==D||e[97]!==Q?(K=c.jsxs(M,{variant:Q,sx:F,children:[$,D]}),e[93]=M,e[94]=F,e[95]=$,e[96]=D,e[97]=Q,e[98]=K):K=e[98];let q;e[99]!==N||e[100]!==H||e[101]!==K?(q=c.jsx(N,{in:H,children:K}),e[99]=N,e[100]=H,e[101]=K,e[102]=q):q=e[102];let Z;return e[103]!==U||e[104]!==L||e[105]!==V||e[106]!==J||e[107]!==q?(Z=c.jsxs(U,{sx:L,children:[V,J,q]}),e[103]=U,e[104]=L,e[105]=V,e[106]=J,e[107]=q,e[108]=Z):Z=e[108],Z},Ec={all:["groups"],root:(t=null)=>[...Ec.all,"root",t],children:t=>[...Ec.all,"children",t],hierarchy:()=>[...Ec.all,"hierarchy"],detail:t=>[...Ec.all,"detail",t]};function _Ne(t){const e=bt.c(4),n=t===void 0?null:t;let r;e[0]!==n?(r=Ec.root(n),e[0]=n,e[1]=r):r=e[1];let a;return e[2]!==r?(a={queryKey:r,queryFn:CNe,staleTime:3e4},e[2]=r,e[3]=a):a=e[3],Cy(a)}async function CNe(){const t=await si.getRootGroups();if(!t.success||!t.data)throw new Error("Failed to fetch root groups");return t.data}function wNe(t){const e=bt.c(8);let n;e[0]!==t?(n=Ec.children(t??0),e[0]=t,e[1]=n):n=e[1];let r;e[2]!==t?(r=async()=>{if(t===null)return[];const s=await si.getChildGroups(t);if(!s.success||!s.data)throw new Error("Failed to fetch child groups");return s.data},e[2]=t,e[3]=r):r=e[3];const a=t!==null;let i;return e[4]!==n||e[5]!==r||e[6]!==a?(i={queryKey:n,queryFn:r,enabled:a,placeholderData:ENe,staleTime:3e4},e[4]=n,e[5]=r,e[6]=a,e[7]=i):i=e[7],Cy(i)}function ENe(t){return t}function RZ(){const t=bt.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:Ec.hierarchy(),queryFn:TNe,staleTime:3e4},t[0]=e):e=t[0],Cy(e)}async function TNe(){const t=await si.getAllGroupsWithHierarchy();if(!t.success||!t.data)throw new Error("Failed to fetch groups hierarchy");return t.data}function ANe(){const t=bt.c(2),e=jp();let n;return t[0]!==e?(n={mutationFn:RNe,onSuccess:()=>{e.invalidateQueries({queryKey:Ec.all}),e.invalidateQueries({queryKey:["groupPreviewImages","group"]})}},t[0]=e,t[1]=n):n=t[1],Wv(n)}async function RNe(t){const e=await si.createGroup(t);if(!e.success||!e.data)throw new Error(e.error||"Failed to create group");return e.data}function kNe(){const t=bt.c(2),e=jp();let n;return t[0]!==e?(n={mutationFn:INe,onSuccess:r=>{e.invalidateQueries({queryKey:Ec.all}),e.invalidateQueries({queryKey:Ec.detail(r.id)}),e.invalidateQueries({queryKey:["groupPreviewImages","group"]})}},t[0]=e,t[1]=n):n=t[1],Wv(n)}async function INe(t){const{id:e,data:n}=t,r=await si.updateGroup(e,n);if(!r.success||!r.data)throw new Error(r.error||"Failed to update group");return r.data}function jNe(){const t=bt.c(2),e=jp();let n;return t[0]!==e?(n={mutationFn:ONe,onSuccess:()=>{e.invalidateQueries({queryKey:Ec.all}),e.invalidateQueries({queryKey:["groupPreviewImages","group"]})}},t[0]=e,t[1]=n):n=t[1],Wv(n)}async function ONe(t){const e=await si.deleteGroup(t);if(!e.success)throw new Error(e.error||"Failed to delete group");return t}function DNe(){const t=bt.c(2),e=jp();let n;return t[0]!==e?(n={mutationFn:NNe,onSuccess:()=>{e.invalidateQueries({queryKey:Ec.all}),e.invalidateQueries({queryKey:["groupPreviewImages"]})}},t[0]=e,t[1]=n):n=t[1],Wv(n)}async function NNe(t){const e=await si.runAutoCollection(t);if(!e.success||!e.data)throw new Error(e.error||"Failed to run auto-collection");return e.data}const W5=t=>{const e=bt.c(56),{open:n,onClose:r,selectedImageCount:a,onAssign:i,currentGroupId:s}=t;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=["common","imageGroups"],e[0]=o):o=e[0];const{t:l}=qt(o),[u,d]=A.useState(null),{data:h,isLoading:m,error:y}=RZ();let x;e[1]!==h?(x=h===void 0?[]:h,e[1]=h,e[2]=x):x=e[2];const v=x;let _;e[3]!==y||e[4]!==l?(_=y?l("imageGroups:assignModal.loadError"):null,e[3]=y,e[4]=l,e[5]=_):_=e[5];const C=_;let w,T;e[6]!==n?(w=()=>{n&&d(null)},T=[n],e[6]=n,e[7]=w,e[8]=T):(w=e[7],T=e[8]),A.useEffect(w,T);let E;e[9]===Symbol.for("react.memo_cache_sentinel")?(E=re=>{d(re[0]||null)},e[9]=E):E=e[9];const k=E;let j;e[10]!==s||e[11]!==i||e[12]!==r||e[13]!==u?(j=async()=>{u&&u!==s&&(await i(u),r())},e[10]=s,e[11]=i,e[12]=r,e[13]=u,e[14]=j):j=e[14];const O=j,z=MNe,M=PNe;let N;e[15]!==l?(N=l("imageGroups:assignModal.title"),e[15]=l,e[16]=N):N=e[16];let U;e[17]!==N?(U=c.jsx(br,{children:N}),e[17]=N,e[18]=U):U=e[18];let F;e[19]===Symbol.for("react.memo_cache_sentinel")?(F={mb:2},e[19]=F):F=e[19];let $;e[20]!==a||e[21]!==l?($=l("imageGroups:assignModal.description",{count:a}),e[20]=a,e[21]=l,e[22]=$):$=e[22];let D;e[23]!==$?(D=c.jsx(Rp,{sx:F,children:$}),e[23]=$,e[24]=D):D=e[24];let H;e[25]!==C?(H=C&&c.jsx(wt,{severity:"error",sx:{mb:2},children:C}),e[25]=C,e[26]=H):H=e[26];let L;e[27]!==v||e[28]!==m||e[29]!==u||e[30]!==l?(L=m?c.jsx(ee,{sx:{display:"flex",justifyContent:"center",py:4},children:c.jsx(Kt,{})}):v.length===0?c.jsx(ee,{sx:{textAlign:"center",py:4},children:c.jsx(ae,{color:"text.secondary",children:l("imageGroups:assignModal.emptyGroups")})}):c.jsx(vNe,{groups:v,selectedIds:u?[u]:[],onSelectionChange:k,multiSelect:!1,showSearch:!0,emptyMessage:l("imageGroups:assignModal.emptyGroups"),maxHeight:500}),e[27]=v,e[28]=m,e[29]=u,e[30]=l,e[31]=L):L=e[31];let V;e[32]!==D||e[33]!==H||e[34]!==L?(V=c.jsxs(yr,{children:[D,H,L]}),e[32]=D,e[33]=H,e[34]=L,e[35]=V):V=e[35];let J;e[36]!==l?(J=l("imageGroups:assignModal.buttonCancel"),e[36]=l,e[37]=J):J=e[37];let Q;e[38]!==r||e[39]!==J?(Q=c.jsx(Ze,{onClick:r,children:J}),e[38]=r,e[39]=J,e[40]=Q):Q=e[40];const K=!u;let q;e[41]!==l?(q=l("imageGroups:assignModal.buttonAssign"),e[41]=l,e[42]=q):q=e[42];let Z;e[43]!==O||e[44]!==K||e[45]!==q?(Z=c.jsx(Ze,{onClick:O,color:"primary",variant:"contained",disabled:K,children:q}),e[43]=O,e[44]=K,e[45]=q,e[46]=Z):Z=e[46];let Y;e[47]!==Q||e[48]!==Z?(Y=c.jsxs(kr,{children:[Q,Z]}),e[47]=Q,e[48]=Z,e[49]=Y):Y=e[49];let ne;return e[50]!==r||e[51]!==n||e[52]!==U||e[53]!==V||e[54]!==Y?(ne=c.jsxs(hr,{open:n,onClose:r,maxWidth:"sm",fullWidth:!0,onMouseDown:z,onPointerDown:M,children:[U,V,Y]}),e[50]=r,e[51]=n,e[52]=U,e[53]=V,e[54]=Y,e[55]=ne):ne=e[55],ne};function MNe(t){t.stopPropagation()}function PNe(t){t.stopPropagation()}const YO=t=>{const e=bt.c(86),{selectedCount:n,selectedImages:r,onSelectionClear:a,onActionComplete:i,onModalStateChange:s}=t;let o;e[0]!==r?(o=r===void 0?[]:r,e[0]=r,e[1]=o):o=e[1];const l=o;let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=["common"],e[2]=u):u=e[2];const{t:d}=qt(u),[h,m]=A.useState(!1),{loading:y,error:x,deleteImages:v,downloadImages:_,assignToGroup:C,clearError:w}=bNe();let T;e[3]!==s?(T=Pe=>{m(Pe),s&&s(Pe)},e[3]=s,e[4]=T):T=e[4];const E=T;let k;e[5]!==v||e[6]!==i||e[7]!==n||e[8]!==l||e[9]!==d?(k=async()=>{const Pe=l.some(LNe),Le=l.some(zNe);let Oe;if(Pe&&Le?Oe=d("common:bulkActions.confirmDelete.mixed",{count:n}):Pe?Oe=d("common:bulkActions.confirmDelete.videos",{count:n}):Le?Oe=d("common:bulkActions.confirmDelete.images",{count:n}):Oe=d("common:bulkActions.confirmDelete.files",{count:n}),!window.confirm(Oe))return;const Xe=l.map(FNe).filter(BNe);await v(Xe)&&i&&i(Xe)},e[5]=v,e[6]=i,e[7]=n,e[8]=l,e[9]=d,e[10]=k):k=e[10];const j=k;let O;e[11]!==_||e[12]!==l?(O=async()=>{const Pe=l.map(HNe).filter(UNe);await _(Pe)},e[11]=_,e[12]=l,e[13]=O):O=e[13];const z=O;let M;e[14]!==C||e[15]!==E||e[16]!==a||e[17]!==l?(M=async Pe=>{const Le=l.map($Ne).filter(GNe);await C(Le,Pe)&&(E(!1),a())},e[14]=C,e[15]=E,e[16]=a,e[17]=l,e[18]=M):M=e[18];const N=M;if(n===0)return null;const U=qNe,F=VNe;let $;e[19]===Symbol.for("react.memo_cache_sentinel")?($={position:"fixed",bottom:24,left:"50%",transform:"translateX(-50%)",p:2,zIndex:1100,display:"flex",alignItems:"center",gap:2,minWidth:400},e[19]=$):$=e[19];let D;e[20]===Symbol.for("react.memo_cache_sentinel")?(D={flexGrow:1},e[20]=D):D=e[20];let H;e[21]!==n||e[22]!==d?(H=d("common:bulkActions.selectedCountImages",{count:n}),e[21]=n,e[22]=d,e[23]=H):H=e[23];let L;e[24]!==H?(L=c.jsx(ae,{variant:"body1",sx:D,children:H}),e[24]=H,e[25]=L):L=e[25];let V;e[26]!==y?(V=y&&c.jsx(Kt,{size:24}),e[26]=y,e[27]=V):V=e[27];let J;e[28]!==d?(J=d("common:bulkActions.tooltips.download"),e[28]=d,e[29]=J):J=e[29];let Q;e[30]===Symbol.for("react.memo_cache_sentinel")?(Q=c.jsx(Zv,{}),e[30]=Q):Q=e[30];let K;e[31]!==z||e[32]!==y?(K=c.jsx(ht,{onClick:z,disabled:y,color:"primary",children:Q}),e[31]=z,e[32]=y,e[33]=K):K=e[33];let q;e[34]!==J||e[35]!==K?(q=c.jsx(Xt,{title:J,children:K}),e[34]=J,e[35]=K,e[36]=q):q=e[36];let Z;e[37]!==d?(Z=d("common:bulkActions.tooltips.addToGroup"),e[37]=d,e[38]=Z):Z=e[38];let Y;e[39]!==E?(Y=()=>E(!0),e[39]=E,e[40]=Y):Y=e[40];let ne;e[41]===Symbol.for("react.memo_cache_sentinel")?(ne=c.jsx(bu,{}),e[41]=ne):ne=e[41];let re;e[42]!==y||e[43]!==Y?(re=c.jsx(ht,{onClick:Y,disabled:y,color:"primary",children:ne}),e[42]=y,e[43]=Y,e[44]=re):re=e[44];let ie;e[45]!==Z||e[46]!==re?(ie=c.jsx(Xt,{title:Z,children:re}),e[45]=Z,e[46]=re,e[47]=ie):ie=e[47];let ce;e[48]!==d?(ce=d("common:bulkActions.tooltips.delete"),e[48]=d,e[49]=ce):ce=e[49];let he;e[50]===Symbol.for("react.memo_cache_sentinel")?(he=c.jsx(Ia,{}),e[50]=he):he=e[50];let me;e[51]!==j||e[52]!==y?(me=c.jsx(ht,{onClick:j,disabled:y,color:"error",children:he}),e[51]=j,e[52]=y,e[53]=me):me=e[53];let le;e[54]!==ce||e[55]!==me?(le=c.jsx(Xt,{title:ce,children:me}),e[54]=ce,e[55]=me,e[56]=le):le=e[56];let de;e[57]!==d?(de=d("common:bulkActions.tooltips.clearSelection"),e[57]=d,e[58]=de):de=e[58];let pe;e[59]===Symbol.for("react.memo_cache_sentinel")?(pe=c.jsx(kp,{}),e[59]=pe):pe=e[59];let ve;e[60]!==a?(ve=c.jsx(ht,{onClick:a,size:"small",children:pe}),e[60]=a,e[61]=ve):ve=e[61];let ge;e[62]!==de||e[63]!==ve?(ge=c.jsx(Xt,{title:de,children:ve}),e[62]=de,e[63]=ve,e[64]=ge):ge=e[64];let oe;e[65]!==L||e[66]!==V||e[67]!==q||e[68]!==ie||e[69]!==le||e[70]!==ge?(oe=c.jsxs(Yt,{className:"no-drag-select",elevation:4,onMouseDown:U,onPointerDown:F,sx:$,children:[L,V,q,ie,le,ge]}),e[65]=L,e[66]=V,e[67]=q,e[68]=ie,e[69]=le,e[70]=ge,e[71]=oe):oe=e[71];let Se;e[72]!==E?(Se=()=>E(!1),e[72]=E,e[73]=Se):Se=e[73];let be;e[74]!==h||e[75]!==N||e[76]!==n||e[77]!==Se?(be=c.jsx(W5,{open:h,onClose:Se,selectedImageCount:n,onAssign:N}),e[74]=h,e[75]=N,e[76]=n,e[77]=Se,e[78]=be):be=e[78];let Ae;e[79]!==w||e[80]!==x?(Ae=x&&c.jsx(ee,{sx:{position:"fixed",top:24,right:24,zIndex:1001,maxWidth:400},children:c.jsx(wt,{severity:"error",onClose:w,action:c.jsx(ht,{"aria-label":"close",color:"inherit",size:"small",onClick:w,children:c.jsx(kp,{fontSize:"inherit"})}),children:x})}),e[79]=w,e[80]=x,e[81]=Ae):Ae=e[81];let Me;return e[82]!==oe||e[83]!==be||e[84]!==Ae?(Me=c.jsxs(c.Fragment,{children:[oe,be,Ae]}),e[82]=oe,e[83]=be,e[84]=Ae,e[85]=Me):Me=e[85],Me};function LNe(t){return t.mime_type?.startsWith("video/")}function zNe(t){return!t.mime_type?.startsWith("video/")}function FNe(t){return t.composite_hash}function BNe(t){return t!==null}function HNe(t){return t.composite_hash}function UNe(t){return t!==null}function $Ne(t){return t.composite_hash}function GNe(t){return t!==null}function qNe(t){t.stopPropagation()}function VNe(t){t.stopPropagation()}const WNe=50,YNe=()=>{const t=bt.c(20),e=jp();let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n={queryKey:["images","infinite"],queryFn:KNe,getNextPageParam:XNe,initialPageParam:1,staleTime:6e4,gcTime:3e5},t[0]=n):n=t[0];const{data:r,error:a,fetchNextPage:i,hasNextPage:s,isFetching:o,isFetchingNextPage:l,refetch:u}=Zde(n);let d;t[1]!==r?.pages?(d=r?.pages.flatMap(QNe)??[],t[1]=r?.pages,t[2]=d):d=t[2];const h=d,m=o&&!l,y=a?a.message:null;let x;t[3]!==i||t[4]!==s||t[5]!==l?(x=()=>{s&&!l&&i()},t[3]=i,t[4]=s,t[5]=l,t[6]=x):x=t[6];const v=x;let _;t[7]!==e||t[8]!==u?(_=async()=>{console.log(" [useInfiniteImages] Refreshing images..."),e.removeQueries({queryKey:["images"]}),await u(),console.log(" [useInfiniteImages] Refresh complete")},t[7]=e,t[8]=u,t[9]=_):_=t[9];const C=_;let w;t[10]!==e?(w=async j=>{try{await ya.deleteImage(j),e.setQueryData(["images","infinite"],O=>O&&{...O,pages:O.pages.map(z=>({...z,images:z.images.filter(M=>M.composite_hash!==j)}))}),e.invalidateQueries({queryKey:["images"]})}catch(O){throw console.error("Error deleting image:",O),new Error("  .")}},t[10]=e,t[11]=w):w=t[11];const T=w,E=s??!1;let k;return t[12]!==T||t[13]!==y||t[14]!==h||t[15]!==v||t[16]!==m||t[17]!==C||t[18]!==E?(k={images:h,loading:m,error:y,hasMore:E,loadMore:v,refreshImages:C,deleteImage:T},t[12]=T,t[13]=y,t[14]=h,t[15]=v,t[16]=m,t[17]=C,t[18]=E,t[19]=k):k=t[19],k};async function KNe(t){const{pageParam:e}=t,n=e===void 0?1:e,r=await ya.getImages(n,WNe);if(!r.success||!r.data)throw new Error(r.error||"  .");return r.data}function XNe(t){return t.page<t.totalPages?t.page+1:void 0}function QNe(t){return t.images}const ZNe=()=>{const t=bt.c(37),{images:e,loading:n,error:r,hasMore:a,loadMore:i,refreshImages:s}=YNe();let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[],t[0]=o):o=t[0];const[l,u]=A.useState(o);let d;t[1]!==l?(d=U=>{console.log("[HomePage] handleSelectionChange called:",{newSelectedIds:U,currentSelectedIds:l}),u(U)},t[1]=l,t[2]=d):d=t[2];const h=d;let m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m=()=>{u([])},t[3]=m):m=t[3];const y=m;let x;t[4]!==e||t[5]!==s?(x=async U=>{if(U&&U.length>0){const F=e.filter($=>$.composite_hash&&U.includes($.composite_hash)).map(JNe).filter(eMe);u($=>$.filter(D=>!F.includes(D)))}await s()},t[4]=e,t[5]=s,t[6]=x):x=t[6];const v=x;let _;t[7]===Symbol.for("react.memo_cache_sentinel")?(_={width:"100%"},t[7]=_):_=t[7];let C;t[8]===Symbol.for("react.memo_cache_sentinel")?(C={mb:{xs:2,sm:3},display:"flex",justifyContent:"space-between",alignItems:"center"},t[8]=C):C=t[8];let w;t[9]===Symbol.for("react.memo_cache_sentinel")?(w=c.jsx(ee,{children:c.jsx(ae,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontSize:{xs:"1.75rem",sm:"2rem",md:"2.25rem"},fontWeight:600},children:"Home"})}),t[9]=w):w=t[9];let T;t[10]===Symbol.for("react.memo_cache_sentinel")?(T=c.jsx(vo,{}),t[10]=T):T=t[10];let E;t[11]!==n||t[12]!==s?(E=c.jsxs(ee,{sx:C,children:[w,c.jsx(Xt,{title:"",children:c.jsx("span",{children:c.jsx(ht,{onClick:s,disabled:n,children:T})})})]}),t[11]=n,t[12]=s,t[13]=E):E=t[13];let k;t[14]!==r?(k=r&&c.jsx(ee,{sx:{mb:{xs:2,sm:3},p:2,bgcolor:"error.light",color:"error.contrastText",borderRadius:2},children:c.jsx(ae,{variant:"body2",children:r})}),t[14]=r,t[15]=k):k=t[15];let j;t[16]!==h||t[17]!==a||t[18]!==e||t[19]!==i||t[20]!==n||t[21]!==l?(j=c.jsx(fNe,{images:e,loading:n,hasMore:a,onLoadMore:i,selectable:!0,selectedIds:l,onSelectionChange:h}),t[16]=h,t[17]=a,t[18]=e,t[19]=i,t[20]=n,t[21]=l,t[22]=j):j=t[22];const O=l.length;let z;if(t[23]!==e||t[24]!==l){let U;t[26]!==l?(U=F=>F.id&&l.includes(F.id),t[26]=l,t[27]=U):U=t[27],z=e.filter(U),t[23]=e,t[24]=l,t[25]=z}else z=t[25];let M;t[28]!==v||t[29]!==l||t[30]!==z?(M=c.jsx(YO,{selectedCount:O,selectedIds:l,selectedImages:z,onSelectionClear:y,onActionComplete:v}),t[28]=v,t[29]=l,t[30]=z,t[31]=M):M=t[31];let N;return t[32]!==j||t[33]!==M||t[34]!==E||t[35]!==k?(N=c.jsxs(ee,{sx:_,children:[E,k,j,M]}),t[32]=j,t[33]=M,t[34]=E,t[35]=k,t[36]=N):N=t[36],N};function JNe(t){return t.id}function eMe(t){return t!==void 0}function Lg(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function o(d){try{u(r.next(d))}catch(h){s(h)}}function l(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((r=r.apply(t,e||[])).next())})}const tMe=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function sy(t,e,n){const r=nMe(t),{webkitRelativePath:a}=t,i=typeof e=="string"?e:typeof a=="string"&&a.length>0?a:`./${t.name}`;return typeof r.path!="string"&&eF(r,"path",i),eF(r,"relativePath",i),r}function nMe(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),a=tMe.get(r);a&&Object.defineProperty(t,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return t}function eF(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const rMe=[".DS_Store","Thumbs.db"];function aMe(t){return Lg(this,void 0,void 0,function*(){return SC(t)&&iMe(t.dataTransfer)?cMe(t.dataTransfer,t.type):sMe(t)?oMe(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?lMe(t):[]})}function iMe(t){return SC(t)}function sMe(t){return SC(t)&&SC(t.target)}function SC(t){return typeof t=="object"&&t!==null}function oMe(t){return CI(t.target.files).map(e=>sy(e))}function lMe(t){return Lg(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>sy(n))})}function cMe(t,e){return Lg(this,void 0,void 0,function*(){if(t.items){const n=CI(t.items).filter(a=>a.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(uMe));return tF(kZ(r))}return tF(CI(t.files).map(n=>sy(n)))})}function tF(t){return t.filter(e=>rMe.indexOf(e.name)===-1)}function CI(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function uMe(t){if(typeof t.webkitGetAsEntry!="function")return nF(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?IZ(e):nF(t,e)}function kZ(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?kZ(n):[n]],[])}function nF(t,e){return Lg(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const i=yield t.getAsFileSystemHandle();if(i===null)throw new Error(`${t} is not a File`);if(i!==void 0){const s=yield i.getFile();return s.handle=i,sy(s)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return sy(r,(n=e?.fullPath)!==null&&n!==void 0?n:void 0)})}function dMe(t){return Lg(this,void 0,void 0,function*(){return t.isDirectory?IZ(t):fMe(t)})}function IZ(t){const e=t.createReader();return new Promise((n,r)=>{const a=[];function i(){e.readEntries(s=>Lg(this,void 0,void 0,function*(){if(s.length){const o=Promise.all(s.map(dMe));a.push(o),i()}else try{const o=yield Promise.all(a);n(o)}catch(o){r(o)}}),s=>{r(s)})}i()})}function fMe(t){return Lg(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const a=sy(r,t.fullPath);e(a)},r=>{n(r)})})})}var $_={},rF;function hMe(){return rF||(rF=1,$_.__esModule=!0,$_.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",a=(t.type||"").toLowerCase(),i=a.replace(/\/.*$/,"");return n.some(function(s){var o=s.trim().toLowerCase();return o.charAt(0)==="."?r.toLowerCase().endsWith(o):o.endsWith("/*")?i===o.replace(/\/.*$/,""):a===o})}return!0}),$_}var pMe=hMe();const jT=$f(pMe);function aF(t){return yMe(t)||gMe(t)||OZ(t)||mMe()}function mMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yMe(t){if(Array.isArray(t))return wI(t)}function iF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function sF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iF(Object(n),!0).forEach(function(r){jZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jZ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fv(t,e){return vMe(t)||xMe(t,e)||OZ(t,e)||bMe()}function bMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OZ(t,e){if(t){if(typeof t=="string")return wI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wI(t,e)}}function wI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,s,o;try{for(n=n.call(t);!(a=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));a=!0);}catch(l){i=!0,o=l}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw o}}return r}}function vMe(t){if(Array.isArray(t))return t}var SMe=typeof jT=="function"?jT:jT.default,_Me="file-invalid-type",CMe="file-too-large",wMe="file-too-small",EMe="too-many-files",TMe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:_Me,message:"File type must be ".concat(r)}},oF=function(e){return{code:CMe,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},lF=function(e){return{code:wMe,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},AMe={code:EMe,message:"Too many files"};function DZ(t,e){var n=t.type==="application/x-moz-file"||SMe(t,e);return[n,n?null:TMe(e)]}function NZ(t,e,n){if(Lm(t.size))if(Lm(e)&&Lm(n)){if(t.size>n)return[!1,oF(n)];if(t.size<e)return[!1,lF(e)]}else{if(Lm(e)&&t.size<e)return[!1,lF(e)];if(Lm(n)&&t.size>n)return[!1,oF(n)]}return[!0,null]}function Lm(t){return t!=null}function RMe(t){var e=t.files,n=t.accept,r=t.minSize,a=t.maxSize,i=t.multiple,s=t.maxFiles,o=t.validator;return!i&&e.length>1||i&&s>=1&&e.length>s?!1:e.every(function(l){var u=DZ(l,n),d=fv(u,1),h=d[0],m=NZ(l,r,a),y=fv(m,1),x=y[0],v=o?o(l):null;return h&&x&&!v})}function _C(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function G_(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function cF(t){t.preventDefault()}function kMe(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function IMe(t){return t.indexOf("Edge/")!==-1}function jMe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return kMe(t)||IMe(t)}function cd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return e.some(function(o){return!_C(r)&&o&&o.apply(void 0,[r].concat(i)),_C(r)})}}function OMe(){return"showOpenFilePicker"in window}function DMe(t){if(Lm(t)){var e=Object.entries(t).filter(function(n){var r=fv(n,2),a=r[0],i=r[1],s=!0;return MZ(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(i)||!i.every(PZ))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,r){var a=fv(r,2),i=a[0],s=a[1];return sF(sF({},n),{},jZ({},i,s))},{});return[{description:"Files",accept:e}]}return t}function NMe(t){if(Lm(t))return Object.entries(t).reduce(function(e,n){var r=fv(n,2),a=r[0],i=r[1];return[].concat(aF(e),[a],aF(i))},[]).filter(function(e){return MZ(e)||PZ(e)}).join(",")}function MMe(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function PMe(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function MZ(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function PZ(t){return/^.*\.[\w]+$/.test(t)}var LMe=["children"],zMe=["open"],FMe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],BMe=["refKey","onChange","onClick"];function HMe(t){return GMe(t)||$Me(t)||LZ(t)||UMe()}function UMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Me(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GMe(t){if(Array.isArray(t))return EI(t)}function OT(t,e){return WMe(t)||VMe(t,e)||LZ(t,e)||qMe()}function qMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LZ(t,e){if(t){if(typeof t=="string")return EI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EI(t,e)}}function EI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,s,o;try{for(n=n.call(t);!(a=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));a=!0);}catch(l){i=!0,o=l}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw o}}return r}}function WMe(t){if(Array.isArray(t))return t}function uF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Fa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uF(Object(n),!0).forEach(function(r){TI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TI(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CC(t,e){if(t==null)return{};var n=YMe(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YMe(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}var KO=A.forwardRef(function(t,e){var n=t.children,r=CC(t,LMe),a=FZ(r),i=a.open,s=CC(a,zMe);return A.useImperativeHandle(e,function(){return{open:i}},[i]),je.createElement(A.Fragment,null,n(Fa(Fa({},s),{},{open:i})))});KO.displayName="Dropzone";var zZ={disabled:!1,getFilesFromEvent:aMe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};KO.defaultProps=zZ;KO.propTypes={children:Wr.func,accept:Wr.objectOf(Wr.arrayOf(Wr.string)),multiple:Wr.bool,preventDropOnDocument:Wr.bool,noClick:Wr.bool,noKeyboard:Wr.bool,noDrag:Wr.bool,noDragEventsBubbling:Wr.bool,minSize:Wr.number,maxSize:Wr.number,maxFiles:Wr.number,disabled:Wr.bool,getFilesFromEvent:Wr.func,onFileDialogCancel:Wr.func,onFileDialogOpen:Wr.func,useFsAccessApi:Wr.bool,autoFocus:Wr.bool,onDragEnter:Wr.func,onDragLeave:Wr.func,onDragOver:Wr.func,onDrop:Wr.func,onDropAccepted:Wr.func,onDropRejected:Wr.func,onError:Wr.func,validator:Wr.func};var AI={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function FZ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Fa(Fa({},zZ),t),n=e.accept,r=e.disabled,a=e.getFilesFromEvent,i=e.maxSize,s=e.minSize,o=e.multiple,l=e.maxFiles,u=e.onDragEnter,d=e.onDragLeave,h=e.onDragOver,m=e.onDrop,y=e.onDropAccepted,x=e.onDropRejected,v=e.onFileDialogCancel,_=e.onFileDialogOpen,C=e.useFsAccessApi,w=e.autoFocus,T=e.preventDropOnDocument,E=e.noClick,k=e.noKeyboard,j=e.noDrag,O=e.noDragEventsBubbling,z=e.onError,M=e.validator,N=A.useMemo(function(){return NMe(n)},[n]),U=A.useMemo(function(){return DMe(n)},[n]),F=A.useMemo(function(){return typeof _=="function"?_:dF},[_]),$=A.useMemo(function(){return typeof v=="function"?v:dF},[v]),D=A.useRef(null),H=A.useRef(null),L=A.useReducer(KMe,AI),V=OT(L,2),J=V[0],Q=V[1],K=J.isFocused,q=J.isFileDialogActive,Z=A.useRef(typeof window<"u"&&window.isSecureContext&&C&&OMe()),Y=function(){!Z.current&&q&&setTimeout(function(){if(H.current){var Ie=H.current.files;Ie.length||(Q({type:"closeDialog"}),$())}},300)};A.useEffect(function(){return window.addEventListener("focus",Y,!1),function(){window.removeEventListener("focus",Y,!1)}},[H,q,$,Z]);var ne=A.useRef([]),re=function(Ie){D.current&&D.current.contains(Ie.target)||(Ie.preventDefault(),ne.current=[])};A.useEffect(function(){return T&&(document.addEventListener("dragover",cF,!1),document.addEventListener("drop",re,!1)),function(){T&&(document.removeEventListener("dragover",cF),document.removeEventListener("drop",re))}},[D,T]),A.useEffect(function(){return!r&&w&&D.current&&D.current.focus(),function(){}},[D,w,r]);var ie=A.useCallback(function(ke){z?z(ke):console.error(ke)},[z]),ce=A.useCallback(function(ke){ke.preventDefault(),ke.persist(),Pe(ke),ne.current=[].concat(HMe(ne.current),[ke.target]),G_(ke)&&Promise.resolve(a(ke)).then(function(Ie){if(!(_C(ke)&&!O)){var ye=Ie.length,Ce=ye>0&&RMe({files:Ie,accept:N,minSize:s,maxSize:i,multiple:o,maxFiles:l,validator:M}),Ne=ye>0&&!Ce;Q({isDragAccept:Ce,isDragReject:Ne,isDragActive:!0,type:"setDraggedFiles"}),u&&u(ke)}}).catch(function(Ie){return ie(Ie)})},[a,u,ie,O,N,s,i,o,l,M]),he=A.useCallback(function(ke){ke.preventDefault(),ke.persist(),Pe(ke);var Ie=G_(ke);if(Ie&&ke.dataTransfer)try{ke.dataTransfer.dropEffect="copy"}catch{}return Ie&&h&&h(ke),!1},[h,O]),me=A.useCallback(function(ke){ke.preventDefault(),ke.persist(),Pe(ke);var Ie=ne.current.filter(function(Ce){return D.current&&D.current.contains(Ce)}),ye=Ie.indexOf(ke.target);ye!==-1&&Ie.splice(ye,1),ne.current=Ie,!(Ie.length>0)&&(Q({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),G_(ke)&&d&&d(ke))},[D,d,O]),le=A.useCallback(function(ke,Ie){var ye=[],Ce=[];ke.forEach(function(Ne){var Be=DZ(Ne,N),Ke=OT(Be,2),Je=Ke[0],Ge=Ke[1],it=NZ(Ne,s,i),ct=OT(it,2),nt=ct[0],dt=ct[1],$t=M?M(Ne):null;if(Je&&nt&&!$t)ye.push(Ne);else{var Wt=[Ge,dt];$t&&(Wt=Wt.concat($t)),Ce.push({file:Ne,errors:Wt.filter(function(sn){return sn})})}}),(!o&&ye.length>1||o&&l>=1&&ye.length>l)&&(ye.forEach(function(Ne){Ce.push({file:Ne,errors:[AMe]})}),ye.splice(0)),Q({acceptedFiles:ye,fileRejections:Ce,isDragReject:Ce.length>0,type:"setFiles"}),m&&m(ye,Ce,Ie),Ce.length>0&&x&&x(Ce,Ie),ye.length>0&&y&&y(ye,Ie)},[Q,o,N,s,i,l,m,y,x,M]),de=A.useCallback(function(ke){ke.preventDefault(),ke.persist(),Pe(ke),ne.current=[],G_(ke)&&Promise.resolve(a(ke)).then(function(Ie){_C(ke)&&!O||le(Ie,ke)}).catch(function(Ie){return ie(Ie)}),Q({type:"reset"})},[a,le,ie,O]),pe=A.useCallback(function(){if(Z.current){Q({type:"openDialog"}),F();var ke={multiple:o,types:U};window.showOpenFilePicker(ke).then(function(Ie){return a(Ie)}).then(function(Ie){le(Ie,null),Q({type:"closeDialog"})}).catch(function(Ie){MMe(Ie)?($(Ie),Q({type:"closeDialog"})):PMe(Ie)?(Z.current=!1,H.current?(H.current.value=null,H.current.click()):ie(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ie(Ie)});return}H.current&&(Q({type:"openDialog"}),F(),H.current.value=null,H.current.click())},[Q,F,$,C,le,ie,U,o]),ve=A.useCallback(function(ke){!D.current||!D.current.isEqualNode(ke.target)||(ke.key===" "||ke.key==="Enter"||ke.keyCode===32||ke.keyCode===13)&&(ke.preventDefault(),pe())},[D,pe]),ge=A.useCallback(function(){Q({type:"focus"})},[]),oe=A.useCallback(function(){Q({type:"blur"})},[]),Se=A.useCallback(function(){E||(jMe()?setTimeout(pe,0):pe())},[E,pe]),be=function(Ie){return r?null:Ie},Ae=function(Ie){return k?null:be(Ie)},Me=function(Ie){return j?null:be(Ie)},Pe=function(Ie){O&&Ie.stopPropagation()},Le=A.useMemo(function(){return function(){var ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ie=ke.refKey,ye=Ie===void 0?"ref":Ie,Ce=ke.role,Ne=ke.onKeyDown,Be=ke.onFocus,Ke=ke.onBlur,Je=ke.onClick,Ge=ke.onDragEnter,it=ke.onDragOver,ct=ke.onDragLeave,nt=ke.onDrop,dt=CC(ke,FMe);return Fa(Fa(TI({onKeyDown:Ae(cd(Ne,ve)),onFocus:Ae(cd(Be,ge)),onBlur:Ae(cd(Ke,oe)),onClick:be(cd(Je,Se)),onDragEnter:Me(cd(Ge,ce)),onDragOver:Me(cd(it,he)),onDragLeave:Me(cd(ct,me)),onDrop:Me(cd(nt,de)),role:typeof Ce=="string"&&Ce!==""?Ce:"presentation"},ye,D),!r&&!k?{tabIndex:0}:{}),dt)}},[D,ve,ge,oe,Se,ce,he,me,de,k,j,r]),Oe=A.useCallback(function(ke){ke.stopPropagation()},[]),Xe=A.useMemo(function(){return function(){var ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ie=ke.refKey,ye=Ie===void 0?"ref":Ie,Ce=ke.onChange,Ne=ke.onClick,Be=CC(ke,BMe),Ke=TI({accept:N,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:be(cd(Ce,de)),onClick:be(cd(Ne,Oe)),tabIndex:-1},ye,H);return Fa(Fa({},Ke),Be)}},[H,n,o,de,r]);return Fa(Fa({},J),{},{isFocused:K&&!r,getRootProps:Le,getInputProps:Xe,rootRef:D,inputRef:H,open:be(pe)})}function KMe(t,e){switch(e.type){case"focus":return Fa(Fa({},t),{},{isFocused:!0});case"blur":return Fa(Fa({},t),{},{isFocused:!1});case"openDialog":return Fa(Fa({},AI),{},{isFileDialogActive:!0});case"closeDialog":return Fa(Fa({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Fa(Fa({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Fa(Fa({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Fa({},AI);default:return t}}function dF(){}const XMe=({onUploadComplete:t})=>{const{t:e}=qt("upload"),[n,r]=A.useState([]),[a,i]=A.useState(!1),[s,o]=A.useState(0),[l,u]=A.useState(null),d={upload:e("stages.upload"),metadata:e("stages.metadata"),thumbnail:e("stages.thumbnail"),"auto-collect":e("stages.autoCollect"),"auto-tag":e("stages.autoTag")},h=A.useCallback(async T=>{if(T.length===0)return;i(!0),u(null);const E=T.map(k=>({filename:k.name,status:"waiting"}));r(E),o(0);try{if(T.length===1){const k=await pz.uploadImage(T[0]);k.success?(r([{filename:T[0].name,status:"complete",message:e("messages.uploadComplete"),imageId:k.data?.composite_hash}]),u({type:"success",text:e("messages.uploadSuccess")})):(r([{filename:T[0].name,status:"error",error:k.error}]),u({type:"error",text:k.error||e("messages.uploadFailed")}))}else{let k=0,j=0;await pz.uploadImagesWithProgress(T,O=>{const z=O.currentFile-1;o(z),r(M=>{const N=[...M],U=N[z];return O.type==="start"?(U.status="processing",U.message=O.message):O.type==="stage"?(U.status="processing",U.currentStage=O.stage,U.message=O.message||(O.stage?d[O.stage]:"")):O.type==="complete"?(U.status="complete",U.message=O.message,U.imageId=O.compositeHash,k++):O.type==="error"&&(U.status="error",U.error=O.error,j++),N})}),u(j===0?{type:"success",text:e("messages.multipleSuccess",{count:k})}:k===0?{type:"error",text:e("messages.allFailed")}:{type:"info",text:e("messages.partialSuccess",{success:k,failed:j})})}t&&t()}catch(k){u({type:"error",text:e("messages.uploadError")}),console.error("Upload error:",k)}finally{i(!1)}},[t,e,d]),{getRootProps:m,getInputProps:y,isDragActive:x}=FZ({onDrop:h,accept:{"image/*":[".jpg",".jpeg",".png",".gif",".bmp",".webp",".tiff"],"video/*":[".mp4",".webm",".mov",".avi",".mkv"]},multiple:!0}),v=()=>{const T=document.createElement("input");T.type="file",T.multiple=!0,T.accept="image/*,video/*",T.onchange=E=>{const k=Array.from(E.target.files||[]);k.length>0&&h(k)},T.click()},_=()=>{const T=document.createElement("input");T.type="file",T.webkitdirectory=!0,T.multiple=!0,T.onchange=E=>{const k=Array.from(E.target.files||[]).filter(j=>j.type.startsWith("image/")||j.type.startsWith("video/"));k.length>0&&h(k)},T.click()},C=n.length>0?n.filter(T=>T.status==="complete"||T.status==="error").length/n.length*100:0,w=T=>{switch(T){case"complete":return c.jsx(Cs,{sx:{color:"success.main"}});case"error":return c.jsx(gg,{sx:{color:"error.main"}});case"processing":return c.jsx(mg,{sx:{color:"primary.main"}});default:return c.jsx(Jv,{sx:{color:"text.secondary"}})}};return c.jsxs(ee,{sx:{width:"100%"},children:[c.jsxs(Yt,{...m(),elevation:x?8:2,sx:{p:4,textAlign:"center",border:"2px dashed",borderColor:x?"primary.main":"grey.300",backgroundColor:x?"action.hover":"background.paper",cursor:"pointer",transition:"all 0.2s ease-in-out","&:hover":{borderColor:"primary.main",backgroundColor:"action.hover"}},children:[c.jsx("input",{...y()}),c.jsx(lv,{sx:{fontSize:64,color:"primary.main",mb:2}}),c.jsx(ae,{variant:"h5",gutterBottom:!0,children:e(x?"dropzone.dragActive":"dropzone.dragInactive")}),c.jsx(ae,{variant:"body2",color:"text.secondary",sx:{mb:3},children:e("dropzone.supportedFormats")}),c.jsxs(fn,{direction:"row",spacing:2,justifyContent:"center",flexWrap:"wrap",children:[c.jsx(gt,{icon:c.jsx(xu,{}),label:e("dropzone.imageSupport"),variant:"outlined",size:"small"}),c.jsx(gt,{icon:c.jsx(PO,{}),label:e("dropzone.videoSupport"),variant:"outlined",size:"small"}),c.jsx(gt,{label:e("dropzone.multipleSelection"),variant:"outlined",size:"small"})]})]}),c.jsx(bn,{sx:{my:3},children:e("dropzone.divider")}),c.jsxs(yn,{container:!0,spacing:2,children:[c.jsx(yn,{size:{xs:12,sm:6},children:c.jsx(Ze,{fullWidth:!0,variant:"outlined",size:"large",startIcon:c.jsx(xu,{}),onClick:v,disabled:a,children:e("buttons.selectFiles")})}),c.jsx(yn,{size:{xs:12,sm:6},children:c.jsx(Ze,{fullWidth:!0,variant:"outlined",size:"large",startIcon:c.jsx(bu,{}),onClick:_,disabled:a,children:e("buttons.selectFolder")})})]}),a&&n.length>0&&c.jsxs(ee,{sx:{mt:3},children:[c.jsxs(ae,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:[e("progress.title"),": ",e("progress.fileCount",{completed:n.filter(T=>T.status==="complete"||T.status==="error").length,total:n.length})]}),c.jsx(Id,{variant:"determinate",value:C,sx:{height:8,borderRadius:4,mb:2}}),c.jsx(Yt,{variant:"outlined",sx:{maxHeight:400,overflow:"auto",p:2},children:c.jsx(Ff,{dense:!0,children:n.map((T,E)=>c.jsxs(Bf,{sx:{bgcolor:E===s&&T.status==="processing"?"action.selected":"transparent",borderRadius:1,mb:.5},children:[c.jsx(lu,{sx:{minWidth:40},children:w(T.status)}),c.jsx(Ss,{primary:T.filename,secondary:c.jsxs(c.Fragment,{children:[T.status==="processing"&&T.currentStage&&c.jsx(ae,{component:"span",variant:"caption",color:"primary",children:d[T.currentStage]}),T.message&&c.jsx(ae,{component:"span",variant:"caption",color:"text.secondary",sx:{ml:1},children:T.message}),T.error&&c.jsx(ae,{component:"span",variant:"caption",color:"error",children:T.error})]})})]},E))})})]}),l&&c.jsx(wt,{severity:l.type,sx:{mt:3},onClose:()=>u(null),children:l.text}),n.length>0&&!a&&c.jsx(ee,{sx:{mt:2},children:c.jsx(ae,{variant:"body2",color:"text.secondary",children:e("progress.summary",{total:n.length,success:n.filter(T=>T.status==="complete").length,failed:n.filter(T=>T.status==="error").length})})})]})};var Y5=typeof self<"u"?self:global;const hv=typeof navigator<"u",QMe=hv&&typeof HTMLImageElement>"u",wC=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),K5=Y5.Buffer,q_=Y5.BigInt,X5=!!K5,ZMe=t=>t;function EC(t,e=ZMe){if(wC)try{return typeof require=="function"?Promise.resolve(e(require(t))):import(t).then(e)}catch{console.warn(`Couldn't load ${t}`)}}let XO=Y5.fetch;const JMe=t=>XO=t;if(!Y5.fetch){const t=EC("http",(r=>r)),e=EC("https",(r=>r)),n=(r,{headers:a}={})=>new Promise((async(i,s)=>{let{port:o,hostname:l,pathname:u,protocol:d,search:h}=new URL(r);const m={method:"GET",hostname:l,path:encodeURI(u)+h,headers:a};o!==""&&(m.port=Number(o));const y=(d==="https:"?await e:await t).request(m,(x=>{if(x.statusCode===301||x.statusCode===302){let v=new URL(x.headers.location,r).toString();return n(v,{headers:a}).then(i).catch(s)}i({status:x.statusCode,arrayBuffer:()=>new Promise((v=>{let _=[];x.on("data",(C=>_.push(C))),x.on("end",(()=>v(Buffer.concat(_))))}))})}));y.on("error",s),y.end()}));JMe(n)}function Sn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const TC=t=>BZ(t)?void 0:t,ePe=t=>t!==void 0;function BZ(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(ePe).length===0)}function wi(t){let e=new Error(t);throw delete e.stack,e}function Wm(t){return(t=(function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e})(t).trim())===""?void 0:t}function RI(t){let e=(function(n){let r=0;return n.ifd0.enabled&&(r+=1024),n.exif.enabled&&(r+=2048),n.makerNote&&(r+=2048),n.userComment&&(r+=1024),n.gps.enabled&&(r+=512),n.interop.enabled&&(r+=100),n.ifd1.enabled&&(r+=1024),r+2048})(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}const kI=t=>String.fromCharCode.apply(null,t),fF=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function HZ(t){return fF?fF.decode(t):X5?Buffer.from(t).toString("utf8"):decodeURIComponent(escape(kI(t)))}class Wo{static from(e,n){return e instanceof this&&e.le===n?e:new Wo(e,void 0,void 0,n)}constructor(e,n=0,r,a){if(typeof a=="boolean"&&(this.le=a),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){r===void 0&&(r=e.byteLength-n);let i=new DataView(e,n,r);this._swapDataView(i)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof Wo){r===void 0&&(r=e.byteLength-n),(n+=e.byteOffset)+r>e.byteOffset+e.byteLength&&wi("Creating view outside of available memory in ArrayBuffer");let i=new DataView(e.buffer,n,r);this._swapDataView(i)}else if(typeof e=="number"){let i=new DataView(new ArrayBuffer(e));this._swapDataView(i)}else wi("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,n,r=Wo){return e instanceof DataView||e instanceof Wo?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||wi("BufferView.set(): Invalid data argument."),this.toUint8().set(e,n),new r(this,n,e.byteLength)}subarray(e,n){return n=n||this._lengthToEnd(e),new Wo(this,e,n)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,n){return new Uint8Array(this.buffer,this.byteOffset+e,n)}getString(e=0,n=this.byteLength){return HZ(this.getUint8Array(e,n))}getLatin1String(e=0,n=this.byteLength){let r=this.getUint8Array(e,n);return kI(r)}getUnicodeString(e=0,n=this.byteLength){const r=[];for(let a=0;a<n&&e+a<this.byteLength;a+=2)r.push(this.getUint16(e+a));return kI(r)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,n=this.le){return this.dataView.getInt16(e,n)}getInt32(e,n=this.le){return this.dataView.getInt32(e,n)}getUint16(e,n=this.le){return this.dataView.getUint16(e,n)}getUint32(e,n=this.le){return this.dataView.getUint32(e,n)}getFloat32(e,n=this.le){return this.dataView.getFloat32(e,n)}getFloat64(e,n=this.le){return this.dataView.getFloat64(e,n)}getFloat(e,n=this.le){return this.dataView.getFloat32(e,n)}getDouble(e,n=this.le){return this.dataView.getFloat64(e,n)}getUintBytes(e,n,r){switch(n){case 1:return this.getUint8(e,r);case 2:return this.getUint16(e,r);case 4:return this.getUint32(e,r);case 8:return this.getUint64&&this.getUint64(e,r)}}getUint(e,n,r){switch(n){case 8:return this.getUint8(e,r);case 16:return this.getUint16(e,r);case 32:return this.getUint32(e,r);case 64:return this.getUint64&&this.getUint64(e,r)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function II(t,e){wi(`${t} '${e}' was not loaded, try using full build of exifr.`)}class QO extends Map{constructor(e){super(),this.kind=e}get(e,n){return this.has(e)||II(this.kind,e),n&&(e in n||(function(r,a){wi(`Unknown ${r} '${a}'.`)})(this.kind,e),n[e].enabled||II(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var jd=new QO("file parser"),_i=new QO("segment parser"),zd=new QO("file reader");function tPe(t,e){return typeof t=="string"?hF(t,e):hv&&!QMe&&t instanceof HTMLImageElement?hF(t.src,e):t instanceof Uint8Array||t instanceof ArrayBuffer||t instanceof DataView?new Wo(t):hv&&t instanceof Blob?jI(t,e,"blob",xg):void wi("Invalid input argument")}function hF(t,e){return(n=t).startsWith("data:")||n.length>1e4?OI(t,e,"base64"):wC&&t.includes("://")?jI(t,e,"url",bg):wC?OI(t,e,"fs"):hv?jI(t,e,"url",bg):void wi("Invalid input argument");var n}async function jI(t,e,n,r){return zd.has(n)?OI(t,e,n):r?(async function(a,i){let s=await i(a);return new Wo(s)})(t,r):void wi(`Parser ${n} is not loaded`)}async function OI(t,e,n){let r=new(zd.get(n))(t,e);return await r.read(),r}const bg=t=>XO(t).then((e=>e.arrayBuffer())),xg=t=>new Promise(((e,n)=>{let r=new FileReader;r.onloadend=()=>e(r.result||new ArrayBuffer),r.onerror=n,r.readAsArrayBuffer(t)}));class nPe extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function li(t,e,n){let r=new nPe;for(let[a,i]of n)r.set(a,i);if(Array.isArray(e))for(let a of e)t.set(a,r);else t.set(e,r);return r}function vg(t,e,n){let r,a=t.get(e);for(r of n)a.set(r[0],r[1])}const es=new Map,Ru=new Map,yp=new Map,ip=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],Iy=["jfif","xmp","icc","iptc","ihdr"],Sg=["tiff",...Iy],Xa=["ifd0","ifd1","exif","gps","interop"],sp=[...Sg,...Xa],op=["makerNote","userComment"],jy=["translateKeys","translateValues","reviveValues","multiSegment"],lp=[...jy,"sanitize","mergeOutput","silentErrors"];class UZ{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class Mx extends UZ{get needed(){return this.enabled||this.deps.size>0}constructor(e,n,r,a){if(super(),Sn(this,"enabled",!1),Sn(this,"skip",new Set),Sn(this,"pick",new Set),Sn(this,"deps",new Set),Sn(this,"translateKeys",!1),Sn(this,"translateValues",!1),Sn(this,"reviveValues",!1),this.key=e,this.enabled=n,this.parse=this.enabled,this.applyInheritables(a),this.canBeFiltered=Xa.includes(e),this.canBeFiltered&&(this.dict=es.get(e)),r!==void 0)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if(typeof r=="object"){if(this.enabled=!0,this.parse=r.parse!==!1,this.canBeFiltered){let{pick:i,skip:s}=r;i&&i.length>0&&this.translateTagSet(i,this.pick),s&&s.length>0&&this.translateTagSet(s,this.skip)}this.applyInheritables(r)}else r===!0||r===!1?this.parse=this.enabled=r:wi(`Invalid options argument: ${r}`)}applyInheritables(e){let n,r;for(n of jy)r=e[n],r!==void 0&&(this[n]=r)}translateTagSet(e,n){if(this.dict){let r,a,{tagKeys:i,tagValues:s}=this.dict;for(r of e)typeof r=="string"?(a=s.indexOf(r),a===-1&&(a=i.indexOf(Number(r))),a!==-1&&n.add(Number(i[a]))):n.add(r)}else for(let r of e)n.add(r)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,AC(this.pick,this.deps)):this.enabled&&this.pick.size>0&&AC(this.pick,this.deps)}}var ho={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},pF=new Map;class zg extends UZ{static useCached(e){let n=pF.get(e);return n!==void 0||(n=new this(e),pF.set(e,n)),n}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):wi(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=hv?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of ip)this[e]=ho[e];for(e of lp)this[e]=ho[e];for(e of op)this[e]=ho[e];for(e of sp)this[e]=new Mx(e,ho[e],void 0,this)}setupFromTrue(){let e;for(e of ip)this[e]=ho[e];for(e of lp)this[e]=ho[e];for(e of op)this[e]=!0;for(e of sp)this[e]=new Mx(e,!0,void 0,this)}setupFromArray(e){let n;for(n of ip)this[n]=ho[n];for(n of lp)this[n]=ho[n];for(n of op)this[n]=ho[n];for(n of sp)this[n]=new Mx(n,!1,void 0,this);this.setupGlobalFilters(e,void 0,Xa)}setupFromObject(e){let n;for(n of(Xa.ifd0=Xa.ifd0||Xa.image,Xa.ifd1=Xa.ifd1||Xa.thumbnail,Object.assign(this,e),ip))this[n]=DT(e[n],ho[n]);for(n of lp)this[n]=DT(e[n],ho[n]);for(n of op)this[n]=DT(e[n],ho[n]);for(n of Sg)this[n]=new Mx(n,ho[n],e[n],this);for(n of Xa)this[n]=new Mx(n,ho[n],e[n],this.tiff);this.setupGlobalFilters(e.pick,e.skip,Xa,sp),e.tiff===!0?this.batchEnableWithBool(Xa,!0):e.tiff===!1?this.batchEnableWithUserValue(Xa,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,Xa):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,Xa)}batchEnableWithBool(e,n){for(let r of e)this[r].enabled=n}batchEnableWithUserValue(e,n){for(let r of e){let a=n[r];this[r].enabled=a!==!1&&a!==void 0}}setupGlobalFilters(e,n,r,a=r){if(e&&e.length){for(let s of a)this[s].enabled=!1;let i=mF(e,r);for(let[s,o]of i)AC(this[s].pick,o),this[s].enabled=!0}else if(n&&n.length){let i=mF(n,r);for(let[s,o]of i)AC(this[s].skip,o)}}filterNestedSegmentTags(){let{ifd0:e,exif:n,xmp:r,iptc:a,icc:i}=this;this.makerNote?n.deps.add(37500):n.skip.add(37500),this.userComment?n.deps.add(37510):n.skip.add(37510),r.enabled||e.skip.add(700),a.enabled||e.skip.add(33723),i.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:n,gps:r,interop:a}=this;a.needed&&(n.deps.add(40965),e.deps.add(40965)),n.needed&&e.deps.add(34665),r.needed&&e.deps.add(34853),this.tiff.enabled=Xa.some((i=>this[i].enabled===!0))||this.makerNote||this.userComment;for(let i of Xa)this[i].finalizeFilters()}get onlyTiff(){return!Iy.map((e=>this[e].enabled)).some((e=>e===!0))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of Sg)this[e].enabled&&!_i.has(e)&&II("segment parser",e)}}function mF(t,e){let n,r,a,i,s=[];for(a of e){for(i of(n=es.get(a),r=[],n))(t.includes(i[0])||t.includes(i[1]))&&r.push(i[0]);r.length&&s.push([a,r])}return s}function DT(t,e){return t!==void 0?t:e!==void 0?e:void 0}function AC(t,e){for(let n of e)t.add(n)}Sn(zg,"default",ho);class Bp{constructor(e){Sn(this,"parsers",{}),Sn(this,"output",{}),Sn(this,"errors",[]),Sn(this,"pushToErrors",(n=>this.errors.push(n))),this.options=zg.useCached(e)}async read(e){this.file=await tPe(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,n=e.getUint16(0);for(let[r,a]of jd)if(a.canHandle(e,n))return this.fileParser=new a(this.options,this.file,this.parsers),e[r]=!0;this.file.close&&this.file.close(),wi("Unknown file format")}async parse(){let{output:e,errors:n}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),n.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&n.length>0&&(e.errors=n),TC(e)}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let n=Object.values(this.parsers).map((async r=>{let a=await r.parse();r.assignToOutput(e,a)}));this.options.silentErrors&&(n=n.map((r=>r.catch(this.pushToErrors)))),await Promise.all(n)}async extractThumbnail(){this.setup();let{options:e,file:n}=this,r=_i.get("tiff",e);var a;if(n.tiff?a={start:0,type:"tiff"}:n.jpeg&&(a=await this.fileParser.getOrFindSegment("tiff")),a===void 0)return;let i=await this.fileParser.ensureSegmentChunk(a),s=this.parsers.tiff=new r(i,e,n),o=await s.extractThumbnail();return n.close&&n.close(),o}}async function Q5(t,e){let n=new Bp(e);return await n.read(t),n.parse()}var rPe=Object.freeze({__proto__:null,parse:Q5,Exifr:Bp,fileParsers:jd,segmentParsers:_i,fileReaders:zd,tagKeys:es,tagValues:Ru,tagRevivers:yp,createDictionary:li,extendDictionary:vg,fetchUrlAsArrayBuffer:bg,readBlobAsArrayBuffer:xg,chunkedProps:ip,otherSegments:Iy,segments:Sg,tiffBlocks:Xa,segmentsAndBlocks:sp,tiffExtractables:op,inheritables:jy,allFormatters:lp,Options:zg});class Z5{constructor(e,n,r){Sn(this,"errors",[]),Sn(this,"ensureSegmentChunk",(async a=>{let i=a.start,s=a.size||65536;if(this.file.chunked)if(this.file.available(i,s))a.chunk=this.file.subarray(i,s);else try{a.chunk=await this.file.readChunk(i,s)}catch(o){wi(`Couldn't read segment: ${JSON.stringify(a)}. ${o.message}`)}else this.file.byteLength>i+s?a.chunk=this.file.subarray(i,s):a.size===void 0?a.chunk=this.file.subarray(i):wi("Segment unreachable: "+JSON.stringify(a));return a.chunk})),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=n,this.parsers=r}injectSegment(e,n){this.options[e].enabled&&this.createParser(e,n)}createParser(e,n){let r=new(_i.get(e))(n,this.options,this.file);return this.parsers[e]=r}createParsers(e){for(let n of e){let{type:r,chunk:a}=n,i=this.options[r];if(i&&i.enabled){let s=this.parsers[r];s&&s.append||s||this.createParser(r,a)}}}async readSegments(e){let n=e.map(this.ensureSegmentChunk);await Promise.all(n)}}let fu=class{static findPosition(e,n){let r=e.getUint16(n+2)+2,a=typeof this.headerLength=="function"?this.headerLength(e,n,r):this.headerLength,i=n+a,s=r-a;return{offset:n,length:r,headerLength:a,start:i,size:s,end:i+s}}static parse(e,n={}){return new this(e,new zg({[this.type]:n}),e).parse()}normalizeInput(e){return e instanceof Wo?e:new Wo(e)}constructor(e,n={},r){Sn(this,"errors",[]),Sn(this,"raw",new Map),Sn(this,"handleError",(a=>{if(!this.options.silentErrors)throw a;this.errors.push(a.message)})),this.chunk=this.normalizeInput(e),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,n){let r=yp.get(n),a=Ru.get(n),i=es.get(n),s=this.options[n],o=s.reviveValues&&!!r,l=s.translateValues&&!!a,u=s.translateKeys&&!!i,d={};for(let[h,m]of e)o&&r.has(h)?m=r.get(h)(m):l&&a.has(h)&&(m=this.translateValue(m,a.get(h))),u&&i.has(h)&&(h=i.get(h)||h),d[h]=m;return d}translateValue(e,n){return n[e]||n.DEFAULT||e}assignToOutput(e,n){this.assignObjectToOutput(e,this.constructor.type,n)}assignObjectToOutput(e,n,r){if(this.globalOptions.mergeOutput)return Object.assign(e,r);e[n]?Object.assign(e[n],r):e[n]=r}};Sn(fu,"headerLength",4),Sn(fu,"type",void 0),Sn(fu,"multiSegment",!1),Sn(fu,"canHandle",(()=>!1));function aPe(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function iPe(t){return t>=224&&t<=239}function sPe(t,e,n){for(let[r,a]of _i)if(a.canHandle(t,e,n))return r}class gF extends Z5{constructor(...e){super(...e),Sn(this,"appSegments",[]),Sn(this,"jpegSegments",[]),Sn(this,"unknownSegments",[])}static canHandle(e,n){return n===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(_i.keyList())):(e=e===void 0?_i.keyList().filter((n=>this.options[n].enabled)):e.filter((n=>this.options[n].enabled&&_i.has(n))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,n){this.setupSegmentFinderArgs(n);let{file:r,findAll:a,wanted:i,remaining:s}=this;if(!a&&this.file.chunked&&(a=Array.from(i).some((o=>{let l=_i.get(o),u=this.options[o];return l.multiSegment&&u.multiSegment})),a&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,r.byteLength),!this.options.onlyTiff&&r.chunked){let o=!1;for(;s.size>0&&!o&&(r.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:l}=r,u=this.appSegments.some((d=>!this.file.available(d.offset||d.start,d.length||d.size)));if(o=e>l&&!u?!await r.readNextChunk(e):!await r.readNextChunk(l),(e=this.findAppSegmentsInRange(e,r.byteLength))===void 0)return}}}findAppSegmentsInRange(e,n){n-=2;let r,a,i,s,o,l,{file:u,findAll:d,wanted:h,remaining:m,options:y}=this;for(;e<n;e++)if(u.getUint8(e)===255){if(r=u.getUint8(e+1),iPe(r)){if(a=u.getUint16(e+2),i=sPe(u,e,a),i&&h.has(i)&&(s=_i.get(i),o=s.findPosition(u,e),l=y[i],o.type=i,this.appSegments.push(o),!d&&(s.multiSegment&&l.multiSegment?(this.unfinishedMultiSegment=o.chunkNumber<o.chunkCount,this.unfinishedMultiSegment||m.delete(i)):m.delete(i),m.size===0)))break;y.recordUnknownSegments&&(o=fu.findPosition(u,e),o.marker=r,this.unknownSegments.push(o)),e+=a+1}else if(aPe(r)){if(a=u.getUint16(e+2),r===218&&y.stopAfterSos!==!1)return;y.recordJpegSegments&&this.jpegSegments.push({offset:e,length:a,marker:r}),e+=a+1}}return e}mergeMultiSegments(){if(!this.appSegments.some((n=>n.multiSegment)))return;let e=(function(n,r){let a,i,s,o=new Map;for(let l=0;l<n.length;l++)a=n[l],i=a[r],o.has(i)?s=o.get(i):o.set(i,s=[]),s.push(a);return Array.from(o)})(this.appSegments,"type");this.mergedAppSegments=e.map((([n,r])=>{let a=_i.get(n,this.options);return a.handleMultiSegments?{type:n,chunk:a.handleMultiSegments(r)}:r[0]}))}getSegment(e){return this.appSegments.find((n=>n.type===e))}async getOrFindSegment(e){let n=this.getSegment(e);return n===void 0&&(await this.findAppSegments(0,[e]),n=this.getSegment(e)),n}}Sn(gF,"type","jpeg"),jd.set("jpeg",gF);const oPe=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class lPe extends fu{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,n,r=new Map){let{pick:a,skip:i}=this.options[n];a=new Set(a);let s=a.size>0,o=i.size===0,l=this.chunk.getUint16(e);e+=2;for(let u=0;u<l;u++){let d=this.chunk.getUint16(e);if(s){if(a.has(d)&&(r.set(d,this.parseTag(e,d,n)),a.delete(d),a.size===0))break}else!o&&i.has(d)||r.set(d,this.parseTag(e,d,n));e+=12}return r}parseTag(e,n,r){let{chunk:a}=this,i=a.getUint16(e+2),s=a.getUint32(e+4),o=oPe[i];if(o*s<=4?e+=8:e=a.getUint32(e+8),(i<1||i>13)&&wi(`Invalid TIFF value type. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${i}, offset ${e}`),e>a.byteLength&&wi(`Invalid TIFF value offset. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${i}, offset ${e} is outside of chunk size ${a.byteLength}`),i===1)return a.getUint8Array(e,s);if(i===2)return Wm(a.getString(e,s));if(i===7)return a.getUint8Array(e,s);if(s===1)return this.parseTagValue(i,e);{let l=new((function(d){switch(d){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}})(i))(s),u=o;for(let d=0;d<s;d++)l[d]=this.parseTagValue(i,e),e+=u;return l}}parseTagValue(e,n){let{chunk:r}=this;switch(e){case 1:return r.getUint8(n);case 3:return r.getUint16(n);case 4:return r.getUint32(n);case 5:return r.getUint32(n)/r.getUint32(n+4);case 6:return r.getInt8(n);case 8:return r.getInt16(n);case 9:return r.getInt32(n);case 10:return r.getInt32(n)/r.getInt32(n+4);case 11:return r.getFloat(n);case 12:return r.getDouble(n);case 13:return r.getUint32(n);default:wi(`Invalid tiff type ${e}`)}}}class NT extends lPe{static canHandle(e,n){return e.getUint8(n+1)===225&&e.getUint32(n+4)===1165519206&&e.getUint16(n+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let n=this[e]();return n.catch!==void 0&&(n=n.catch(this.handleError)),n}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),n=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(n)}}parseBlock(e,n){let r=new Map;return this[n]=r,this.parseTags(e,n,r),r}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&wi("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&wi(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,RI(this.options));let n=this.parseBlock(this.ifd0Offset,"ifd0");return n.size!==0?(this.exifOffset=n.get(34665),this.interopOffset=n.get(40965),this.gpsOffset=n.get(34853),this.xmp=n.get(700),this.iptc=n.get(33723),this.icc=n.get(34675),this.options.sanitize&&(n.delete(34665),n.delete(40965),n.delete(34853),n.delete(700),n.delete(33723),n.delete(34675)),n):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,RI(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,n){let r=e.get(n);r&&r.length===1&&e.set(n,r[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",yF(...e.get(2),e.get(1))),e.set("longitude",yF(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),n=this.ifd1.get(514);return this.chunk.getUint8Array(e,n)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,n,r,a={};for(n of Xa)if(e=this[n],!BZ(e))if(r=this.canTranslate?this.translateBlock(e,n):Object.fromEntries(e),this.options.mergeOutput){if(n==="ifd1")continue;Object.assign(a,r)}else a[n]=r;return this.makerNote&&(a.makerNote=this.makerNote),this.userComment&&(a.userComment=this.userComment),a}assignToOutput(e,n){if(this.globalOptions.mergeOutput)Object.assign(e,n);else for(let[r,a]of Object.entries(n))this.assignObjectToOutput(e,r,a)}}function yF(t,e,n,r){var a=t+e/60+n/3600;return r!=="S"&&r!=="W"||(a*=-1),a}Sn(NT,"type","tiff"),Sn(NT,"headerLength",10),_i.set("tiff",NT);var cPe=Object.freeze({__proto__:null,default:rPe,Exifr:Bp,fileParsers:jd,segmentParsers:_i,fileReaders:zd,tagKeys:es,tagValues:Ru,tagRevivers:yp,createDictionary:li,extendDictionary:vg,fetchUrlAsArrayBuffer:bg,readBlobAsArrayBuffer:xg,chunkedProps:ip,otherSegments:Iy,segments:Sg,tiffBlocks:Xa,segmentsAndBlocks:sp,tiffExtractables:op,inheritables:jy,allFormatters:lp,Options:zg,parse:Q5});const ZO={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},JO=Object.assign({},ZO,{firstChunkSize:4e4,gps:[1,2,3,4]});async function $Z(t){let e=new Bp(JO);await e.read(t);let n=await e.parse();if(n&&n.gps){let{latitude:r,longitude:a}=n.gps;return{latitude:r,longitude:a}}}const eD=Object.assign({},ZO,{tiff:!1,ifd1:!0,mergeOutput:!1});async function GZ(t){let e=new Bp(eD);await e.read(t);let n=await e.extractThumbnail();return n&&X5?K5.from(n):n}async function qZ(t){let e=await this.thumbnail(t);if(e!==void 0){let n=new Blob([e]);return URL.createObjectURL(n)}}const tD=Object.assign({},ZO,{firstChunkSize:4e4,ifd0:[274]});async function nD(t){let e=new Bp(tD);await e.read(t);let n=await e.parse();if(n&&n.ifd0)return n.ifd0[274]}const rD=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let Ym=!0,Km=!0;if(typeof navigator=="object"){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let e=t.match(/OS (\d+)_(\d+)/);if(e){let[,n,r]=e;Ym=Number(n)+.1*Number(r)<13.4,Km=!1}}else if(t.includes("OS X 10")){let[,e]=t.match(/OS X 10[_.](\d+)/);Ym=Km=Number(e)<15}if(t.includes("Chrome/")){let[,e]=t.match(/Chrome\/(\d+)/);Ym=Km=Number(e)<81}else if(t.includes("Firefox/")){let[,e]=t.match(/Firefox\/(\d+)/);Ym=Km=Number(e)<77}}async function VZ(t){let e=await nD(t);return Object.assign({canvas:Ym,css:Km},rD[e])}class uPe extends Wo{constructor(...e){super(...e),Sn(this,"ranges",new dPe),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,n,r){if(e===0&&this.byteLength===0&&r){let a=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(a)}else{let a=e+n;if(a>this.byteLength){let{dataView:i}=this._extend(a);this._swapDataView(i)}}}_extend(e){let n;n=X5?K5.allocUnsafe(e):new Uint8Array(e);let r=new DataView(n.buffer,n.byteOffset,n.byteLength);return n.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:n,dataView:r}}subarray(e,n,r=!1){return n=n||this._lengthToEnd(e),r&&this._tryExtend(e,n),this.ranges.add(e,n),super.subarray(e,n)}set(e,n,r=!1){r&&this._tryExtend(n,e.byteLength,e);let a=super.set(e,n);return this.ranges.add(n,a.byteLength),a}async ensureChunk(e,n){this.chunked&&(this.ranges.available(e,n)||await this.readChunk(e,n))}available(e,n){return this.ranges.available(e,n)}}class dPe{constructor(){Sn(this,"list",[])}get length(){return this.list.length}add(e,n,r=0){let a=e+n,i=this.list.filter((s=>bF(e,s.offset,a)||bF(e,s.end,a)));if(i.length>0){e=Math.min(e,...i.map((o=>o.offset))),a=Math.max(a,...i.map((o=>o.end))),n=a-e;let s=i.shift();s.offset=e,s.length=n,s.end=a,this.list=this.list.filter((o=>!i.includes(o)))}else this.list.push({offset:e,length:n,end:a})}available(e,n){let r=e+n;return this.list.some((a=>a.offset<=e&&r<=a.end))}}function bF(t,e,n){return t<=e&&e<=n}class J5 extends uPe{constructor(e,n){super(0),Sn(this,"chunksRead",0),this.input=e,this.options=n}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let n=this.options.chunkSize,r=await this.readChunk(e,n);return!!r&&r.byteLength===n}async readChunk(e,n){if(this.chunksRead++,(n=this.safeWrapAddress(e,n))!==0)return this._readChunk(e,n)}safeWrapAddress(e,n){return this.size!==void 0&&e+n>this.size?Math.max(0,this.size-e):n}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}zd.set("blob",class extends J5{async readWhole(){this.chunked=!1;let t=await xg(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,e){let n=e?t+e:void 0,r=this.input.slice(t,n),a=await xg(r);return this.set(a,t,!0)}});var fPe=Object.freeze({__proto__:null,default:cPe,Exifr:Bp,fileParsers:jd,segmentParsers:_i,fileReaders:zd,tagKeys:es,tagValues:Ru,tagRevivers:yp,createDictionary:li,extendDictionary:vg,fetchUrlAsArrayBuffer:bg,readBlobAsArrayBuffer:xg,chunkedProps:ip,otherSegments:Iy,segments:Sg,tiffBlocks:Xa,segmentsAndBlocks:sp,tiffExtractables:op,inheritables:jy,allFormatters:lp,Options:zg,parse:Q5,gpsOnlyOptions:JO,gps:$Z,thumbnailOnlyOptions:eD,thumbnail:GZ,thumbnailUrl:qZ,orientationOnlyOptions:tD,orientation:nD,rotations:rD,get rotateCanvas(){return Ym},get rotateCss(){return Km},rotation:VZ});zd.set("url",class extends J5{async readWhole(){this.chunked=!1;let t=await bg(this.input);t instanceof ArrayBuffer?this._swapArrayBuffer(t):t instanceof Uint8Array&&this._swapBuffer(t)}async _readChunk(t,e){let n=e?t+e-1:void 0,r=this.options.httpHeaders||{};(t||n)&&(r.range=`bytes=${[t,n].join("-")}`);let a=await XO(this.input,{headers:r}),i=await a.arrayBuffer(),s=i.byteLength;if(a.status!==416)return s!==e&&(this.size=t+s),this.set(i,t,!0)}});Wo.prototype.getUint64=function(t){let e=this.getUint32(t),n=this.getUint32(t+4);return e<1048575?e<<32|n:typeof q_!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),q_(e)<<q_(32)|q_(n)):void wi("Trying to read 64b value but JS can only handle 53b numbers.")};class hPe extends Z5{parseBoxes(e=0){let n=[];for(;e<this.file.byteLength-4;){let r=this.parseBoxHead(e);if(n.push(r),r.length===0)break;e+=r.length}return n}parseSubBoxes(e){e.boxes=this.parseBoxes(e.start)}findBox(e,n){return e.boxes===void 0&&this.parseSubBoxes(e),e.boxes.find((r=>r.kind===n))}parseBoxHead(e){let n=this.file.getUint32(e),r=this.file.getString(e+4,4),a=e+8;return n===1&&(n=this.file.getUint64(e+8),a+=8),{offset:e,length:n,kind:r,start:a}}parseBoxFullHead(e){if(e.version!==void 0)return;let n=this.file.getUint32(e.start);e.version=n>>24,e.start+=4}}class WZ extends hPe{static canHandle(e,n){if(n!==0)return!1;let r=e.getUint16(2);if(r>50)return!1;let a=16,i=[];for(;a<r;)i.push(e.getString(a,4)),a+=4;return i.includes(this.type)}async parse(){let e=this.file.getUint32(0),n=this.parseBoxHead(e);for(;n.kind!=="meta";)e+=n.length,await this.file.ensureChunk(e,16),n=this.parseBoxHead(e);await this.file.ensureChunk(n.offset,n.length),this.parseBoxFullHead(n),this.parseSubBoxes(n),this.options.icc.enabled&&await this.findIcc(n),this.options.tiff.enabled&&await this.findExif(n)}async registerSegment(e,n,r){await this.file.ensureChunk(n,r);let a=this.file.subarray(n,r);this.createParser(e,a)}async findIcc(e){let n=this.findBox(e,"iprp");if(n===void 0)return;let r=this.findBox(n,"ipco");if(r===void 0)return;let a=this.findBox(r,"colr");a!==void 0&&await this.registerSegment("icc",a.offset+12,a.length)}async findExif(e){let n=this.findBox(e,"iinf");if(n===void 0)return;let r=this.findBox(e,"iloc");if(r===void 0)return;let a=this.findExifLocIdInIinf(n),i=this.findExtentInIloc(r,a);if(i===void 0)return;let[s,o]=i;await this.file.ensureChunk(s,o);let l=4+this.file.getUint32(s);s+=l,o-=l,await this.registerSegment("tiff",s,o)}findExifLocIdInIinf(e){this.parseBoxFullHead(e);let n,r,a,i,s=e.start,o=this.file.getUint16(s);for(s+=2;o--;){if(n=this.parseBoxHead(s),this.parseBoxFullHead(n),r=n.start,n.version>=2&&(a=n.version===3?4:2,i=this.file.getString(r+a+2,4),i==="Exif"))return this.file.getUintBytes(r,a);s+=n.length}}get8bits(e){let n=this.file.getUint8(e);return[n>>4,15&n]}findExtentInIloc(e,n){this.parseBoxFullHead(e);let r=e.start,[a,i]=this.get8bits(r++),[s,o]=this.get8bits(r++),l=e.version===2?4:2,u=e.version===1||e.version===2?2:0,d=o+a+i,h=e.version===2?4:2,m=this.file.getUintBytes(r,h);for(r+=h;m--;){let y=this.file.getUintBytes(r,l);r+=l+u+2+s;let x=this.file.getUint16(r);if(r+=2,y===n)return x>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(r+o,a),this.file.getUintBytes(r+o+a,i)];r+=x*d}}}class YZ extends WZ{}Sn(YZ,"type","heic");class xF extends WZ{}Sn(xF,"type","avif"),jd.set("heic",YZ),jd.set("avif",xF),li(es,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),li(es,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),li(es,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),li(Ru,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);let N2=li(Ru,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]);const vF={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};N2.set(37392,vF),N2.set(41488,vF);const MT={0:"Normal",1:"Low",2:"High"};function SF(t){return typeof t=="object"&&t.length!==void 0?t[0]:t}function _F(t){let e=Array.from(t).slice(1);return e[1]>15&&(e=e.map((n=>String.fromCharCode(n)))),e[2]!=="0"&&e[2]!==0||e.pop(),e.join(".")}function PT(t){if(typeof t=="string"){var[e,n,r,a,i,s]=t.trim().split(/[-: ]/g).map(Number),o=new Date(e,n-1,r);return Number.isNaN(a)||Number.isNaN(i)||Number.isNaN(s)||(o.setHours(a),o.setMinutes(i),o.setSeconds(s)),Number.isNaN(+o)?t:o}}function Px(t){if(typeof t=="string")return t;let e=[];if(t[1]===0&&t[t.length-1]===0)for(let n=0;n<t.length;n+=2)e.push(CF(t[n+1],t[n]));else for(let n=0;n<t.length;n+=2)e.push(CF(t[n],t[n+1]));return Wm(String.fromCodePoint(...e))}function CF(t,e){return t<<8|e}N2.set(41992,MT),N2.set(41993,MT),N2.set(41994,MT),li(yp,["ifd0","ifd1"],[[50827,function(t){return typeof t!="string"?HZ(t):t}],[306,PT],[40091,Px],[40092,Px],[40093,Px],[40094,Px],[40095,Px]]),li(yp,"exif",[[40960,_F],[36864,_F],[36867,PT],[36868,PT],[40962,SF],[40963,SF]]),li(yp,"gps",[[0,t=>Array.from(t).join(".")],[7,t=>Array.from(t).join(":")]]);class LT extends fu{static canHandle(e,n){return e.getUint8(n+1)===225&&e.getUint32(n+4)===1752462448&&e.getString(n+4,20)==="http://ns.adobe.com/"}static headerLength(e,n){return e.getString(n+4,34)==="http://ns.adobe.com/xmp/extension/"?79:33}static findPosition(e,n){let r=super.findPosition(e,n);return r.multiSegment=r.extended=r.headerLength===79,r.multiSegment?(r.chunkCount=e.getUint8(n+72),r.chunkNumber=e.getUint8(n+76),e.getUint8(n+77)!==0&&r.chunkNumber++):(r.chunkCount=1/0,r.chunkNumber=-1),r}static handleMultiSegments(e){return e.map((n=>n.chunk.getString())).join("")}normalizeInput(e){return typeof e=="string"?e:Wo.from(e).getString()}parse(e=this.chunk){if(!this.localOptions.parse)return e;e=(function(i){let s={},o={};for(let l of ZZ)s[l]=[],o[l]=0;return i.replace(yPe,((l,u,d)=>{if(u==="<"){let h=++o[d];return s[d].push(h),`${l}#${h}`}return`${l}#${s[d].pop()}`}))})(e);let n=F1.findAll(e,"rdf","Description");n.length===0&&n.push(new F1("rdf","Description",void 0,e));let r,a={};for(let i of n)for(let s of i.properties)r=gPe(s.ns,a),KZ(s,r);return(function(i){let s;for(let o in i)s=i[o]=TC(i[o]),s===void 0&&delete i[o];return TC(i)})(a)}assignToOutput(e,n){if(this.localOptions.parse)for(let[r,a]of Object.entries(n))switch(r){case"tiff":this.assignObjectToOutput(e,"ifd0",a);break;case"exif":this.assignObjectToOutput(e,"exif",a);break;case"xmlns":break;default:this.assignObjectToOutput(e,r,a)}else e.xmp=n}}Sn(LT,"type","xmp"),Sn(LT,"multiSegment",!0),_i.set("xmp",LT);class RC{static findAll(e){return XZ(e,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(RC.unpackMatch)}static unpackMatch(e){let n=e[1],r=e[2],a=e[3].slice(1,-1);return a=QZ(a),new RC(n,r,a)}constructor(e,n,r){this.ns=e,this.name=n,this.value=r}serialize(){return this.value}}class F1{static findAll(e,n,r){if(n!==void 0||r!==void 0){n=n||"[\\w\\d-]+",r=r||"[\\w\\d-]+";var a=new RegExp(`<(${n}):(${r})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else a=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return XZ(e,a).map(F1.unpackMatch)}static unpackMatch(e){let n=e[1],r=e[2],a=e[4],i=e[8];return new F1(n,r,a,i)}constructor(e,n,r,a){this.ns=e,this.name=n,this.attrString=r,this.innerXml=a,this.attrs=RC.findAll(r),this.children=F1.findAll(a),this.value=this.children.length===0?QZ(a):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:e,name:n}=this;return e==="rdf"&&(n==="Seq"||n==="Bag"||n==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return mPe(this.children.map(pPe));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let e={};for(let n of this.properties)KZ(n,e);return this.value!==void 0&&(e.value=this.value),TC(e)}}function KZ(t,e){let n=t.serialize();n!==void 0&&(e[t.name]=n)}var pPe=t=>t.serialize(),mPe=t=>t.length===1?t[0]:t,gPe=(t,e)=>e[t]?e[t]:e[t]={};function XZ(t,e){let n,r=[];if(!t)return r;for(;(n=e.exec(t))!==null;)r.push(n);return r}function QZ(t){if((function(r){return r==null||r==="null"||r==="undefined"||r===""||r.trim()===""})(t))return;let e=Number(t);if(!Number.isNaN(e))return e;let n=t.toLowerCase();return n==="true"||n!=="false"&&t.trim()}const ZZ=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],yPe=new RegExp(`(<|\\/)(${ZZ.join("|")})`,"g");var bPe=Object.freeze({__proto__:null,default:fPe,Exifr:Bp,fileParsers:jd,segmentParsers:_i,fileReaders:zd,tagKeys:es,tagValues:Ru,tagRevivers:yp,createDictionary:li,extendDictionary:vg,fetchUrlAsArrayBuffer:bg,readBlobAsArrayBuffer:xg,chunkedProps:ip,otherSegments:Iy,segments:Sg,tiffBlocks:Xa,segmentsAndBlocks:sp,tiffExtractables:op,inheritables:jy,allFormatters:lp,Options:zg,parse:Q5,gpsOnlyOptions:JO,gps:$Z,thumbnailOnlyOptions:eD,thumbnail:GZ,thumbnailUrl:qZ,orientationOnlyOptions:tD,orientation:nD,rotations:rD,get rotateCanvas(){return Ym},get rotateCss(){return Km},rotation:VZ});let wF=EC("fs",(t=>t.promises));zd.set("fs",class extends J5{async readWhole(){this.chunked=!1,this.fs=await wF;let t=await this.fs.readFile(this.input);this._swapBuffer(t)}async readChunked(){this.chunked=!0,this.fs=await wF,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){this.fh===void 0&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(t,e){this.fh===void 0&&await this.open(),t+e>this.size&&(e=this.size-t);var n=this.subarray(t,e,!0);return await this.fh.read(n.dataView,0,e,t),n}async close(){if(this.fh){let t=this.fh;this.fh=void 0,await t.close()}}});zd.set("base64",class extends J5{constructor(...t){super(...t),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(t,e){let n,r,a=this.input;t===void 0?(t=0,n=0,r=0):(n=4*Math.floor(t/3),r=t-n/4*3),e===void 0&&(e=this.size);let i=t+e,s=n+4*Math.ceil(i/3);a=a.slice(n,s);let o=Math.min(e,this.size-t);if(X5){let l=K5.from(a,"base64").slice(r,r+o);return this.set(l,t,!0)}{let l=this.subarray(t,o,!0),u=atob(a),d=l.toUint8();for(let h=0;h<o;h++)d[h]=u.charCodeAt(r+h);return l}}});class EF extends Z5{static canHandle(e,n){return n===18761||n===19789}extendOptions(e){let{ifd0:n,xmp:r,iptc:a,icc:i}=e;r.enabled&&n.deps.add(700),a.enabled&&n.deps.add(33723),i.enabled&&n.deps.add(34675),n.finalizeFilters()}async parse(){let{tiff:e,xmp:n,iptc:r,icc:a}=this.options;if(e.enabled||n.enabled||r.enabled||a.enabled){let i=Math.max(RI(this.options),this.options.chunkSize);await this.file.ensureChunk(0,i),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(e){if(this.parsers.tiff[e]){let n=this.parsers.tiff[e];this.injectSegment(e,n)}}}Sn(EF,"type","tiff"),jd.set("tiff",EF);let xPe=EC("zlib");const vPe=["ihdr","iccp","text","itxt","exif"];class TF extends Z5{constructor(...e){super(...e),Sn(this,"catchError",(n=>this.errors.push(n))),Sn(this,"metaChunks",[]),Sn(this,"unknownChunks",[])}static canHandle(e,n){return n===35152&&e.getUint32(0)===2303741511&&e.getUint32(4)===218765834}async parse(){let{file:e}=this;await this.findPngChunksInRange(8,e.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(e,n){let{file:r}=this;for(;e<n;){let a=r.getUint32(e),i=r.getUint32(e+4),s=r.getString(e+4,4).toLowerCase(),o=a+4+4+4,l={type:s,offset:e,length:o,start:e+4+4,size:a,marker:i};vPe.includes(s)?this.metaChunks.push(l):this.unknownChunks.push(l),e+=o}}parseTextChunks(){let e=this.metaChunks.filter((n=>n.type==="text"));for(let n of e){let[r,a]=this.file.getString(n.start,n.size).split("\0");this.injectKeyValToIhdr(r,a)}}injectKeyValToIhdr(e,n){let r=this.parsers.ihdr;r&&r.raw.set(e,n)}findIhdr(){let e=this.metaChunks.find((n=>n.type==="ihdr"));e&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",e.chunk)}async findExif(){let e=this.metaChunks.find((n=>n.type==="exif"));e&&this.injectSegment("tiff",e.chunk)}async findXmp(){let e=this.metaChunks.filter((n=>n.type==="itxt"));for(let n of e)n.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",n.chunk)}async findIcc(){let e=this.metaChunks.find((o=>o.type==="iccp"));if(!e)return;let{chunk:n}=e,r=n.getUint8Array(0,81),a=0;for(;a<80&&r[a]!==0;)a++;let i=a+2,s=n.getString(0,a);if(this.injectKeyValToIhdr("ProfileName",s),wC){let o=await xPe,l=n.getUint8Array(i);l=o.inflateSync(l),this.injectSegment("icc",l)}}}Sn(TF,"type","png"),jd.set("png",TF),li(es,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),vg(es,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);let AF=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];vg(es,"ifd0",AF),vg(es,"exif",AF),li(Ru,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class zT extends fu{static canHandle(e,n){return e.getUint8(n+1)===224&&e.getUint32(n+4)===1246120262&&e.getUint8(n+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}Sn(zT,"type","jfif"),Sn(zT,"headerLength",9),_i.set("jfif",zT),li(es,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class RF extends fu{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}Sn(RF,"type","ihdr"),_i.set("ihdr",RF),li(es,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),li(Ru,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class L4 extends fu{static canHandle(e,n){return e.getUint8(n+1)===226&&e.getUint32(n+4)===1229144927}static findPosition(e,n){let r=super.findPosition(e,n);return r.chunkNumber=e.getUint8(n+16),r.chunkCount=e.getUint8(n+17),r.multiSegment=r.chunkCount>1,r}static handleMultiSegments(e){return(function(n){let r=(function(a){let i=a[0].constructor,s=0;for(let u of a)s+=u.length;let o=new i(s),l=0;for(let u of a)o.set(u,l),l+=u.length;return o})(n.map((a=>a.chunk.toUint8())));return new Wo(r)})(e)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:e}=this;this.chunk.byteLength<84&&wi("ICC header is too short");for(let[n,r]of Object.entries(SPe)){n=parseInt(n,10);let a=r(this.chunk,n);a!=="\0\0\0\0"&&e.set(n,a)}}parseTags(){let e,n,r,a,i,{raw:s}=this,o=this.chunk.getUint32(128),l=132,u=this.chunk.byteLength;for(;o--;){if(e=this.chunk.getString(l,4),n=this.chunk.getUint32(l+4),r=this.chunk.getUint32(l+8),a=this.chunk.getString(n,4),n+r>u)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");i=this.parseTag(a,n,r),i!==void 0&&i!=="\0\0\0\0"&&s.set(e,i),l+=12}}parseTag(e,n,r){switch(e){case"desc":return this.parseDesc(n);case"mluc":return this.parseMluc(n);case"text":return this.parseText(n,r);case"sig ":return this.parseSig(n)}if(!(n+r>this.chunk.byteLength))return this.chunk.getUint8Array(n,r)}parseDesc(e){let n=this.chunk.getUint32(e+8)-1;return Wm(this.chunk.getString(e+12,n))}parseText(e,n){return Wm(this.chunk.getString(e+8,n-8))}parseSig(e){return Wm(this.chunk.getString(e+8,4))}parseMluc(e){let{chunk:n}=this,r=n.getUint32(e+8),a=n.getUint32(e+12),i=e+16,s=[];for(let o=0;o<r;o++){let l=n.getString(i+0,2),u=n.getString(i+2,2),d=n.getUint32(i+4),h=n.getUint32(i+8)+e,m=Wm(n.getUnicodeString(h,d));s.push({lang:l,country:u,text:m}),i+=a}return r===1?s[0].text:s}translateValue(e,n){return typeof e=="string"?n[e]||n[e.toLowerCase()]||e:n[e]||e}}Sn(L4,"type","icc"),Sn(L4,"multiSegment",!0),Sn(L4,"headerLength",18);const SPe={4:_f,8:function(t,e){return[t.getUint8(e),t.getUint8(e+1)>>4,t.getUint8(e+1)%16].map((n=>n.toString(10))).join(".")},12:_f,16:_f,20:_f,24:function(t,e){const n=t.getUint16(e),r=t.getUint16(e+2)-1,a=t.getUint16(e+4),i=t.getUint16(e+6),s=t.getUint16(e+8),o=t.getUint16(e+10);return new Date(Date.UTC(n,r,a,i,s,o))},36:_f,40:_f,48:_f,52:_f,64:(t,e)=>t.getUint32(e),80:_f};function _f(t,e){return Wm(t.getString(e,4))}_i.set("icc",L4),li(es,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);const V_={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},kF={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};li(Ru,"icc",[[4,V_],[12,kF],[40,Object.assign({},V_,kF)],[48,V_],[80,V_],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class W_ extends fu{static canHandle(e,n,r){return e.getUint8(n+1)===237&&e.getString(n+4,9)==="Photoshop"&&this.containsIptc8bim(e,n,r)!==void 0}static headerLength(e,n,r){let a,i=this.containsIptc8bim(e,n,r);if(i!==void 0)return a=e.getUint8(n+i+7),a%2!=0&&(a+=1),a===0&&(a=4),i+8+a}static containsIptc8bim(e,n,r){for(let a=0;a<r;a++)if(this.isIptcSegmentHead(e,n+a))return a}static isIptcSegmentHead(e,n){return e.getUint8(n)===56&&e.getUint32(n)===943868237&&e.getUint16(n+4)===1028}parse(){let{raw:e}=this,n=this.chunk.byteLength-1,r=!1;for(let a=0;a<n;a++)if(this.chunk.getUint8(a)===28&&this.chunk.getUint8(a+1)===2){r=!0;let i=this.chunk.getUint16(a+3),s=this.chunk.getUint8(a+2),o=this.chunk.getLatin1String(a+5,i);e.set(s,this.pluralizeValue(e.get(s),o)),a+=4+i}else if(r)break;return this.translate(),this.output}pluralizeValue(e,n){return e!==void 0?e instanceof Array?(e.push(n),e):[e,n]:n}}Sn(W_,"type","iptc"),Sn(W_,"translateValues",!1),Sn(W_,"reviveValues",!1),_i.set("iptc",W_),li(es,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),li(Ru,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const _Pe=4,IF=0,jF=1,CPe=2;function Oy(t){let e=t.length;for(;--e>=0;)t[e]=0}const wPe=0,JZ=1,EPe=2,TPe=3,APe=258,aD=29,iS=256,pv=iS+1+aD,B1=30,iD=19,eJ=2*pv+1,Xm=15,FT=16,RPe=7,sD=256,tJ=16,nJ=17,rJ=18,DI=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),z4=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),kPe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),aJ=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),IPe=512,kf=new Array((pv+2)*2);Oy(kf);const M2=new Array(B1*2);Oy(M2);const mv=new Array(IPe);Oy(mv);const gv=new Array(APe-TPe+1);Oy(gv);const oD=new Array(aD);Oy(oD);const kC=new Array(B1);Oy(kC);function BT(t,e,n,r,a){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=t&&t.length}let iJ,sJ,oJ;function HT(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const lJ=t=>t<256?mv[t]:mv[256+(t>>>7)],yv=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},Yo=(t,e,n)=>{t.bi_valid>FT-n?(t.bi_buf|=e<<t.bi_valid&65535,yv(t,t.bi_buf),t.bi_buf=e>>FT-t.bi_valid,t.bi_valid+=n-FT):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},xd=(t,e,n)=>{Yo(t,n[e*2],n[e*2+1])},cJ=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},jPe=t=>{t.bi_valid===16?(yv(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},OPe=(t,e)=>{const n=e.dyn_tree,r=e.max_code,a=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,l=e.stat_desc.max_length;let u,d,h,m,y,x,v=0;for(m=0;m<=Xm;m++)t.bl_count[m]=0;for(n[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<eJ;u++)d=t.heap[u],m=n[n[d*2+1]*2+1]+1,m>l&&(m=l,v++),n[d*2+1]=m,!(d>r)&&(t.bl_count[m]++,y=0,d>=o&&(y=s[d-o]),x=n[d*2],t.opt_len+=x*(m+y),i&&(t.static_len+=x*(a[d*2+1]+y)));if(v!==0){do{for(m=l-1;t.bl_count[m]===0;)m--;t.bl_count[m]--,t.bl_count[m+1]+=2,t.bl_count[l]--,v-=2}while(v>0);for(m=l;m!==0;m--)for(d=t.bl_count[m];d!==0;)h=t.heap[--u],!(h>r)&&(n[h*2+1]!==m&&(t.opt_len+=(m-n[h*2+1])*n[h*2],n[h*2+1]=m),d--)}},uJ=(t,e,n)=>{const r=new Array(Xm+1);let a=0,i,s;for(i=1;i<=Xm;i++)a=a+n[i-1]<<1,r[i]=a;for(s=0;s<=e;s++){let o=t[s*2+1];o!==0&&(t[s*2]=cJ(r[o]++,o))}},DPe=()=>{let t,e,n,r,a;const i=new Array(Xm+1);for(n=0,r=0;r<aD-1;r++)for(oD[r]=n,t=0;t<1<<DI[r];t++)gv[n++]=r;for(gv[n-1]=r,a=0,r=0;r<16;r++)for(kC[r]=a,t=0;t<1<<z4[r];t++)mv[a++]=r;for(a>>=7;r<B1;r++)for(kC[r]=a<<7,t=0;t<1<<z4[r]-7;t++)mv[256+a++]=r;for(e=0;e<=Xm;e++)i[e]=0;for(t=0;t<=143;)kf[t*2+1]=8,t++,i[8]++;for(;t<=255;)kf[t*2+1]=9,t++,i[9]++;for(;t<=279;)kf[t*2+1]=7,t++,i[7]++;for(;t<=287;)kf[t*2+1]=8,t++,i[8]++;for(uJ(kf,pv+1,i),t=0;t<B1;t++)M2[t*2+1]=5,M2[t*2]=cJ(t,5);iJ=new BT(kf,DI,iS+1,pv,Xm),sJ=new BT(M2,z4,0,B1,Xm),oJ=new BT(new Array(0),kPe,0,iD,RPe)},dJ=t=>{let e;for(e=0;e<pv;e++)t.dyn_ltree[e*2]=0;for(e=0;e<B1;e++)t.dyn_dtree[e*2]=0;for(e=0;e<iD;e++)t.bl_tree[e*2]=0;t.dyn_ltree[sD*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},fJ=t=>{t.bi_valid>8?yv(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},OF=(t,e,n,r)=>{const a=e*2,i=n*2;return t[a]<t[i]||t[a]===t[i]&&r[e]<=r[n]},UT=(t,e,n)=>{const r=t.heap[n];let a=n<<1;for(;a<=t.heap_len&&(a<t.heap_len&&OF(e,t.heap[a+1],t.heap[a],t.depth)&&a++,!OF(e,r,t.heap[a],t.depth));)t.heap[n]=t.heap[a],n=a,a<<=1;t.heap[n]=r},DF=(t,e,n)=>{let r,a,i=0,s,o;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+i++]&255,r+=(t.pending_buf[t.sym_buf+i++]&255)<<8,a=t.pending_buf[t.sym_buf+i++],r===0?xd(t,a,e):(s=gv[a],xd(t,s+iS+1,e),o=DI[s],o!==0&&(a-=oD[s],Yo(t,a,o)),r--,s=lJ(r),xd(t,s,n),o=z4[s],o!==0&&(r-=kC[s],Yo(t,r,o)));while(i<t.sym_next);xd(t,sD,e)},NI=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,a=e.stat_desc.has_stree,i=e.stat_desc.elems;let s,o,l=-1,u;for(t.heap_len=0,t.heap_max=eJ,s=0;s<i;s++)n[s*2]!==0?(t.heap[++t.heap_len]=l=s,t.depth[s]=0):n[s*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=l<2?++l:0,n[u*2]=1,t.depth[u]=0,t.opt_len--,a&&(t.static_len-=r[u*2+1]);for(e.max_code=l,s=t.heap_len>>1;s>=1;s--)UT(t,n,s);u=i;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],UT(t,n,1),o=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=o,n[u*2]=n[s*2]+n[o*2],t.depth[u]=(t.depth[s]>=t.depth[o]?t.depth[s]:t.depth[o])+1,n[s*2+1]=n[o*2+1]=u,t.heap[1]=u++,UT(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],OPe(t,e),uJ(n,l,t.bl_count)},NF=(t,e,n)=>{let r,a=-1,i,s=e[1],o=0,l=7,u=4;for(s===0&&(l=138,u=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)i=s,s=e[(r+1)*2+1],!(++o<l&&i===s)&&(o<u?t.bl_tree[i*2]+=o:i!==0?(i!==a&&t.bl_tree[i*2]++,t.bl_tree[tJ*2]++):o<=10?t.bl_tree[nJ*2]++:t.bl_tree[rJ*2]++,o=0,a=i,s===0?(l=138,u=3):i===s?(l=6,u=3):(l=7,u=4))},MF=(t,e,n)=>{let r,a=-1,i,s=e[1],o=0,l=7,u=4;for(s===0&&(l=138,u=3),r=0;r<=n;r++)if(i=s,s=e[(r+1)*2+1],!(++o<l&&i===s)){if(o<u)do xd(t,i,t.bl_tree);while(--o!==0);else i!==0?(i!==a&&(xd(t,i,t.bl_tree),o--),xd(t,tJ,t.bl_tree),Yo(t,o-3,2)):o<=10?(xd(t,nJ,t.bl_tree),Yo(t,o-3,3)):(xd(t,rJ,t.bl_tree),Yo(t,o-11,7));o=0,a=i,s===0?(l=138,u=3):i===s?(l=6,u=3):(l=7,u=4)}},NPe=t=>{let e;for(NF(t,t.dyn_ltree,t.l_desc.max_code),NF(t,t.dyn_dtree,t.d_desc.max_code),NI(t,t.bl_desc),e=iD-1;e>=3&&t.bl_tree[aJ[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},MPe=(t,e,n,r)=>{let a;for(Yo(t,e-257,5),Yo(t,n-1,5),Yo(t,r-4,4),a=0;a<r;a++)Yo(t,t.bl_tree[aJ[a]*2+1],3);MF(t,t.dyn_ltree,e-1),MF(t,t.dyn_dtree,n-1)},PPe=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return IF;if(t.dyn_ltree[18]!==0||t.dyn_ltree[20]!==0||t.dyn_ltree[26]!==0)return jF;for(n=32;n<iS;n++)if(t.dyn_ltree[n*2]!==0)return jF;return IF};let PF=!1;const LPe=t=>{PF||(DPe(),PF=!0),t.l_desc=new HT(t.dyn_ltree,iJ),t.d_desc=new HT(t.dyn_dtree,sJ),t.bl_desc=new HT(t.bl_tree,oJ),t.bi_buf=0,t.bi_valid=0,dJ(t)},hJ=(t,e,n,r)=>{Yo(t,(wPe<<1)+(r?1:0),3),fJ(t),yv(t,n),yv(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},zPe=t=>{Yo(t,JZ<<1,3),xd(t,sD,kf),jPe(t)},FPe=(t,e,n,r)=>{let a,i,s=0;t.level>0?(t.strm.data_type===CPe&&(t.strm.data_type=PPe(t)),NI(t,t.l_desc),NI(t,t.d_desc),s=NPe(t),a=t.opt_len+3+7>>>3,i=t.static_len+3+7>>>3,i<=a&&(a=i)):a=i=n+5,n+4<=a&&e!==-1?hJ(t,e,n,r):t.strategy===_Pe||i===a?(Yo(t,(JZ<<1)+(r?1:0),3),DF(t,kf,M2)):(Yo(t,(EPe<<1)+(r?1:0),3),MPe(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),DF(t,t.dyn_ltree,t.dyn_dtree)),dJ(t),r&&fJ(t)},BPe=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(gv[n]+iS+1)*2]++,t.dyn_dtree[lJ(e)*2]++),t.sym_next===t.sym_end);var HPe=LPe,UPe=hJ,$Pe=FPe,GPe=BPe,qPe=zPe,VPe={_tr_init:HPe,_tr_stored_block:UPe,_tr_flush_block:$Pe,_tr_tally:GPe,_tr_align:qPe};const WPe=(t,e,n,r)=>{let a=t&65535|0,i=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do a=a+e[r++]|0,i=i+a|0;while(--s);a%=65521,i%=65521}return a|i<<16|0};var bv=WPe;const YPe=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},KPe=new Uint32Array(YPe()),XPe=(t,e,n,r)=>{const a=KPe,i=r+n;t^=-1;for(let s=r;s<i;s++)t=t>>>8^a[(t^e[s])&255];return t^-1};var Ki=XPe,_g={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},sS={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:QPe,_tr_stored_block:MI,_tr_flush_block:ZPe,_tr_tally:bp,_tr_align:JPe}=VPe,{Z_NO_FLUSH:xp,Z_PARTIAL_FLUSH:eLe,Z_FULL_FLUSH:tLe,Z_FINISH:Sc,Z_BLOCK:LF,Z_OK:xs,Z_STREAM_END:zF,Z_STREAM_ERROR:Ed,Z_DATA_ERROR:nLe,Z_BUF_ERROR:$T,Z_DEFAULT_COMPRESSION:rLe,Z_FILTERED:aLe,Z_HUFFMAN_ONLY:Y_,Z_RLE:iLe,Z_FIXED:sLe,Z_DEFAULT_STRATEGY:oLe,Z_UNKNOWN:lLe,Z_DEFLATED:ew}=sS,cLe=9,uLe=15,dLe=8,fLe=29,hLe=256,PI=hLe+1+fLe,pLe=30,mLe=19,gLe=2*PI+1,yLe=15,sr=3,cp=258,Td=cp+sr+1,bLe=32,oy=42,lD=57,LI=69,zI=73,FI=91,BI=103,Qm=113,c2=666,bo=1,Dy=2,Cg=3,Ny=4,xLe=3,Zm=(t,e)=>(t.msg=_g[e],e),FF=t=>t*2-(t>4?9:0),tp=t=>{let e=t.length;for(;--e>=0;)t[e]=0},vLe=t=>{let e,n,r,a=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=a?n-a:0;while(--e);e=a,r=e;do n=t.prev[--r],t.prev[r]=n>=a?n-a:0;while(--e)};let SLe=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,vp=SLe;const El=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},Al=(t,e)=>{ZPe(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,El(t.strm)},Er=(t,e)=>{t.pending_buf[t.pending++]=e},Lx=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},HI=(t,e,n,r)=>{let a=t.avail_in;return a>r&&(a=r),a===0?0:(t.avail_in-=a,e.set(t.input.subarray(t.next_in,t.next_in+a),n),t.state.wrap===1?t.adler=bv(t.adler,e,a,n):t.state.wrap===2&&(t.adler=Ki(t.adler,e,a,n)),t.next_in+=a,t.total_in+=a,a)},pJ=(t,e)=>{let n=t.max_chain_length,r=t.strstart,a,i,s=t.prev_length,o=t.nice_match;const l=t.strstart>t.w_size-Td?t.strstart-(t.w_size-Td):0,u=t.window,d=t.w_mask,h=t.prev,m=t.strstart+cp;let y=u[r+s-1],x=u[r+s];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do if(a=e,!(u[a+s]!==x||u[a+s-1]!==y||u[a]!==u[r]||u[++a]!==u[r+1])){r+=2,a++;do;while(u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&r<m);if(i=cp-(m-r),r=m-cp,i>s){if(t.match_start=e,s=i,i>=o)break;y=u[r+s-1],x=u[r+s]}}while((e=h[e&d])>l&&--n!==0);return s<=t.lookahead?s:t.lookahead},ly=t=>{const e=t.w_size;let n,r,a;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Td)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),vLe(t),r+=e),t.strm.avail_in===0)break;if(n=HI(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=sr)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=vp(t,t.ins_h,t.window[a+1]);t.insert&&(t.ins_h=vp(t,t.ins_h,t.window[a+sr-1]),t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<sr)););}while(t.lookahead<Td&&t.strm.avail_in!==0)},mJ=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,a,i,s=0,o=t.strm.avail_in;do{if(r=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i||(i=t.strm.avail_out-i,a=t.strstart-t.block_start,r>a+t.strm.avail_in&&(r=a+t.strm.avail_in),r>i&&(r=i),r<n&&(r===0&&e!==Sc||e===xp||r!==a+t.strm.avail_in)))break;s=e===Sc&&r===a+t.strm.avail_in?1:0,MI(t,0,0,s),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,El(t.strm),a&&(a>r&&(a=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+a),t.strm.next_out),t.strm.next_out+=a,t.strm.avail_out-=a,t.strm.total_out+=a,t.block_start+=a,r-=a),r&&(HI(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(s===0);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?Ny:e!==xp&&e!==Sc&&t.strm.avail_in===0&&t.strstart===t.block_start?Dy:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(HI(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,n=i>t.w_size?t.w_size:i,a=t.strstart-t.block_start,(a>=n||(a||e===Sc)&&e!==xp&&t.strm.avail_in===0&&a<=i)&&(r=a>i?i:a,s=e===Sc&&t.strm.avail_in===0&&r===a?1:0,MI(t,t.block_start,r,s),t.block_start+=r,El(t.strm)),s?Cg:bo)},GT=(t,e)=>{let n,r;for(;;){if(t.lookahead<Td){if(ly(t),t.lookahead<Td&&e===xp)return bo;if(t.lookahead===0)break}if(n=0,t.lookahead>=sr&&(t.ins_h=vp(t,t.ins_h,t.window[t.strstart+sr-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-Td&&(t.match_length=pJ(t,n)),t.match_length>=sr)if(r=bp(t,t.strstart-t.match_start,t.match_length-sr),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=sr){t.match_length--;do t.strstart++,t.ins_h=vp(t,t.ins_h,t.window[t.strstart+sr-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=vp(t,t.ins_h,t.window[t.strstart+1]);else r=bp(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Al(t,!1),t.strm.avail_out===0))return bo}return t.insert=t.strstart<sr-1?t.strstart:sr-1,e===Sc?(Al(t,!0),t.strm.avail_out===0?Cg:Ny):t.sym_next&&(Al(t,!1),t.strm.avail_out===0)?bo:Dy},l1=(t,e)=>{let n,r,a;for(;;){if(t.lookahead<Td){if(ly(t),t.lookahead<Td&&e===xp)return bo;if(t.lookahead===0)break}if(n=0,t.lookahead>=sr&&(t.ins_h=vp(t,t.ins_h,t.window[t.strstart+sr-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=sr-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Td&&(t.match_length=pJ(t,n),t.match_length<=5&&(t.strategy===aLe||t.match_length===sr&&t.strstart-t.match_start>4096)&&(t.match_length=sr-1)),t.prev_length>=sr&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-sr,r=bp(t,t.strstart-1-t.prev_match,t.prev_length-sr),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=a&&(t.ins_h=vp(t,t.ins_h,t.window[t.strstart+sr-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=sr-1,t.strstart++,r&&(Al(t,!1),t.strm.avail_out===0))return bo}else if(t.match_available){if(r=bp(t,0,t.window[t.strstart-1]),r&&Al(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return bo}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=bp(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<sr-1?t.strstart:sr-1,e===Sc?(Al(t,!0),t.strm.avail_out===0?Cg:Ny):t.sym_next&&(Al(t,!1),t.strm.avail_out===0)?bo:Dy},_Le=(t,e)=>{let n,r,a,i;const s=t.window;for(;;){if(t.lookahead<=cp){if(ly(t),t.lookahead<=cp&&e===xp)return bo;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=sr&&t.strstart>0&&(a=t.strstart-1,r=s[a],r===s[++a]&&r===s[++a]&&r===s[++a])){i=t.strstart+cp;do;while(r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&a<i);t.match_length=cp-(i-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=sr?(n=bp(t,1,t.match_length-sr),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=bp(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Al(t,!1),t.strm.avail_out===0))return bo}return t.insert=0,e===Sc?(Al(t,!0),t.strm.avail_out===0?Cg:Ny):t.sym_next&&(Al(t,!1),t.strm.avail_out===0)?bo:Dy},CLe=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(ly(t),t.lookahead===0)){if(e===xp)return bo;break}if(t.match_length=0,n=bp(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Al(t,!1),t.strm.avail_out===0))return bo}return t.insert=0,e===Sc?(Al(t,!0),t.strm.avail_out===0?Cg:Ny):t.sym_next&&(Al(t,!1),t.strm.avail_out===0)?bo:Dy};function ud(t,e,n,r,a){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=a}const u2=[new ud(0,0,0,0,mJ),new ud(4,4,8,4,GT),new ud(4,5,16,8,GT),new ud(4,6,32,32,GT),new ud(4,4,16,16,l1),new ud(8,16,32,32,l1),new ud(8,16,128,128,l1),new ud(8,32,128,256,l1),new ud(32,128,258,1024,l1),new ud(32,258,258,4096,l1)],wLe=t=>{t.window_size=2*t.w_size,tp(t.head),t.max_lazy_match=u2[t.level].max_lazy,t.good_match=u2[t.level].good_length,t.nice_match=u2[t.level].nice_length,t.max_chain_length=u2[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=sr-1,t.match_available=0,t.ins_h=0};function ELe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ew,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(gLe*2),this.dyn_dtree=new Uint16Array((2*pLe+1)*2),this.bl_tree=new Uint16Array((2*mLe+1)*2),tp(this.dyn_ltree),tp(this.dyn_dtree),tp(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(yLe+1),this.heap=new Uint16Array(2*PI+1),tp(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*PI+1),tp(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const oS=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==oy&&e.status!==lD&&e.status!==LI&&e.status!==zI&&e.status!==FI&&e.status!==BI&&e.status!==Qm&&e.status!==c2?1:0},gJ=t=>{if(oS(t))return Zm(t,Ed);t.total_in=t.total_out=0,t.data_type=lLe;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?lD:e.wrap?oy:Qm,t.adler=e.wrap===2?0:1,e.last_flush=-2,QPe(e),xs},yJ=t=>{const e=gJ(t);return e===xs&&wLe(t.state),e},TLe=(t,e)=>oS(t)||t.state.wrap!==2?Ed:(t.state.gzhead=e,xs),bJ=(t,e,n,r,a,i)=>{if(!t)return Ed;let s=1;if(e===rLe&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>cLe||n!==ew||r<8||r>15||e<0||e>9||i<0||i>sLe||r===8&&s!==1)return Zm(t,Ed);r===8&&(r=9);const o=new ELe;return t.state=o,o.strm=t,o.status=oy,o.wrap=s,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+sr-1)/sr),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=e,o.strategy=i,o.method=n,yJ(t)},ALe=(t,e)=>bJ(t,e,ew,uLe,dLe,oLe),RLe=(t,e)=>{if(oS(t)||e>LF||e<0)return t?Zm(t,Ed):Ed;const n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===c2&&e!==Sc)return Zm(t,t.avail_out===0?$T:Ed);const r=n.last_flush;if(n.last_flush=e,n.pending!==0){if(El(t),t.avail_out===0)return n.last_flush=-1,xs}else if(t.avail_in===0&&FF(e)<=FF(r)&&e!==Sc)return Zm(t,$T);if(n.status===c2&&t.avail_in!==0)return Zm(t,$T);if(n.status===oy&&n.wrap===0&&(n.status=Qm),n.status===oy){let a=ew+(n.w_bits-8<<4)<<8,i=-1;if(n.strategy>=Y_||n.level<2?i=0:n.level<6?i=1:n.level===6?i=2:i=3,a|=i<<6,n.strstart!==0&&(a|=bLe),a+=31-a%31,Lx(n,a),n.strstart!==0&&(Lx(n,t.adler>>>16),Lx(n,t.adler&65535)),t.adler=1,n.status=Qm,El(t),n.pending!==0)return n.last_flush=-1,xs}if(n.status===lD){if(t.adler=0,Er(n,31),Er(n,139),Er(n,8),n.gzhead)Er(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Er(n,n.gzhead.time&255),Er(n,n.gzhead.time>>8&255),Er(n,n.gzhead.time>>16&255),Er(n,n.gzhead.time>>24&255),Er(n,n.level===9?2:n.strategy>=Y_||n.level<2?4:0),Er(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Er(n,n.gzhead.extra.length&255),Er(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Ki(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=LI;else if(Er(n,0),Er(n,0),Er(n,0),Er(n,0),Er(n,0),Er(n,n.level===9?2:n.strategy>=Y_||n.level<2?4:0),Er(n,xLe),n.status=Qm,El(t),n.pending!==0)return n.last_flush=-1,xs}if(n.status===LI){if(n.gzhead.extra){let a=n.pending,i=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let o=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>a&&(t.adler=Ki(t.adler,n.pending_buf,n.pending-a,a)),n.gzindex+=o,El(t),n.pending!==0)return n.last_flush=-1,xs;a=0,i-=o}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>a&&(t.adler=Ki(t.adler,n.pending_buf,n.pending-a,a)),n.gzindex=0}n.status=zI}if(n.status===zI){if(n.gzhead.name){let a=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>a&&(t.adler=Ki(t.adler,n.pending_buf,n.pending-a,a)),El(t),n.pending!==0)return n.last_flush=-1,xs;a=0}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,Er(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>a&&(t.adler=Ki(t.adler,n.pending_buf,n.pending-a,a)),n.gzindex=0}n.status=FI}if(n.status===FI){if(n.gzhead.comment){let a=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>a&&(t.adler=Ki(t.adler,n.pending_buf,n.pending-a,a)),El(t),n.pending!==0)return n.last_flush=-1,xs;a=0}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,Er(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>a&&(t.adler=Ki(t.adler,n.pending_buf,n.pending-a,a))}n.status=BI}if(n.status===BI){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(El(t),n.pending!==0))return n.last_flush=-1,xs;Er(n,t.adler&255),Er(n,t.adler>>8&255),t.adler=0}if(n.status=Qm,El(t),n.pending!==0)return n.last_flush=-1,xs}if(t.avail_in!==0||n.lookahead!==0||e!==xp&&n.status!==c2){let a=n.level===0?mJ(n,e):n.strategy===Y_?CLe(n,e):n.strategy===iLe?_Le(n,e):u2[n.level].func(n,e);if((a===Cg||a===Ny)&&(n.status=c2),a===bo||a===Cg)return t.avail_out===0&&(n.last_flush=-1),xs;if(a===Dy&&(e===eLe?JPe(n):e!==LF&&(MI(n,0,0,!1),e===tLe&&(tp(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),El(t),t.avail_out===0))return n.last_flush=-1,xs}return e!==Sc?xs:n.wrap<=0?zF:(n.wrap===2?(Er(n,t.adler&255),Er(n,t.adler>>8&255),Er(n,t.adler>>16&255),Er(n,t.adler>>24&255),Er(n,t.total_in&255),Er(n,t.total_in>>8&255),Er(n,t.total_in>>16&255),Er(n,t.total_in>>24&255)):(Lx(n,t.adler>>>16),Lx(n,t.adler&65535)),El(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?xs:zF)},kLe=t=>{if(oS(t))return Ed;const e=t.state.status;return t.state=null,e===Qm?Zm(t,nLe):xs},ILe=(t,e)=>{let n=e.length;if(oS(t))return Ed;const r=t.state,a=r.wrap;if(a===2||a===1&&r.status!==oy||r.lookahead)return Ed;if(a===1&&(t.adler=bv(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){a===0&&(tp(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(n-r.w_size,n),0),e=l,n=r.w_size}const i=t.avail_in,s=t.next_in,o=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,ly(r);r.lookahead>=sr;){let l=r.strstart,u=r.lookahead-(sr-1);do r.ins_h=vp(r,r.ins_h,r.window[l+sr-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--u);r.strstart=l,r.lookahead=sr-1,ly(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=sr-1,r.match_available=0,t.next_in=s,t.input=o,t.avail_in=i,r.wrap=a,xs};var jLe=ALe,OLe=bJ,DLe=yJ,NLe=gJ,MLe=TLe,PLe=RLe,LLe=kLe,zLe=ILe,FLe="pako deflate (from Nodeca project)",P2={deflateInit:jLe,deflateInit2:OLe,deflateReset:DLe,deflateResetKeep:NLe,deflateSetHeader:MLe,deflate:PLe,deflateEnd:LLe,deflateSetDictionary:zLe,deflateInfo:FLe};const BLe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var HLe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)BLe(n,r)&&(t[r]=n[r])}}return t},ULe=t=>{let e=0;for(let r=0,a=t.length;r<a;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,a=0,i=t.length;r<i;r++){let s=t[r];n.set(s,a),a+=s.length}return n},tw={assign:HLe,flattenChunks:ULe};let xJ=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{xJ=!1}const xv=new Uint8Array(256);for(let t=0;t<256;t++)xv[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;xv[254]=xv[254]=1;var $Le=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,a,i,s=t.length,o=0;for(a=0;a<s;a++)n=t.charCodeAt(a),(n&64512)===55296&&a+1<s&&(r=t.charCodeAt(a+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),a++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),i=0,a=0;i<o;a++)n=t.charCodeAt(a),(n&64512)===55296&&a+1<s&&(r=t.charCodeAt(a+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|n&63):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|n&63):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|n&63);return e};const GLe=(t,e)=>{if(e<65534&&t.subarray&&xJ)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var qLe=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,a;const i=new Array(n*2);for(a=0,r=0;r<n;){let s=t[r++];if(s<128){i[a++]=s;continue}let o=xv[s];if(o>4){i[a++]=65533,r+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&r<n;)s=s<<6|t[r++]&63,o--;if(o>1){i[a++]=65533;continue}s<65536?i[a++]=s:(s-=65536,i[a++]=55296|s>>10&1023,i[a++]=56320|s&1023)}return GLe(i,a)},VLe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+xv[t[n]]>e?n:e},vv={string2buf:$Le,buf2string:qLe,utf8border:VLe};function WLe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var vJ=WLe;const SJ=Object.prototype.toString,{Z_NO_FLUSH:YLe,Z_SYNC_FLUSH:KLe,Z_FULL_FLUSH:XLe,Z_FINISH:QLe,Z_OK:IC,Z_STREAM_END:ZLe,Z_DEFAULT_COMPRESSION:JLe,Z_DEFAULT_STRATEGY:eze,Z_DEFLATED:tze}=sS;function lS(t){this.options=tw.assign({level:JLe,method:tze,chunkSize:16384,windowBits:15,memLevel:8,strategy:eze},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new vJ,this.strm.avail_out=0;let n=P2.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==IC)throw new Error(_g[n]);if(e.header&&P2.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=vv.string2buf(e.dictionary):SJ.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=P2.deflateSetDictionary(this.strm,r),n!==IC)throw new Error(_g[n]);this._dict_set=!0}}lS.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let a,i;if(this.ended)return!1;for(e===~~e?i=e:i=e===!0?QLe:YLe,typeof t=="string"?n.input=vv.string2buf(t):SJ.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===KLe||i===XLe)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(a=P2.deflate(n,i),a===ZLe)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),a=P2.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===IC;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};lS.prototype.onData=function(t){this.chunks.push(t)};lS.prototype.onEnd=function(t){t===IC&&(this.result=tw.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function cD(t,e){const n=new lS(e);if(n.push(t,!0),n.err)throw n.msg||_g[n.err];return n.result}function nze(t,e){return e=e||{},e.raw=!0,cD(t,e)}function rze(t,e){return e=e||{},e.gzip=!0,cD(t,e)}var aze=lS,ize=cD,sze=nze,oze=rze,lze={Deflate:aze,deflate:ize,deflateRaw:sze,gzip:oze};const K_=16209,cze=16191;var uze=function(e,n){let r,a,i,s,o,l,u,d,h,m,y,x,v,_,C,w,T,E,k,j,O,z,M,N;const U=e.state;r=e.next_in,M=e.input,a=r+(e.avail_in-5),i=e.next_out,N=e.output,s=i-(n-e.avail_out),o=i+(e.avail_out-257),l=U.dmax,u=U.wsize,d=U.whave,h=U.wnext,m=U.window,y=U.hold,x=U.bits,v=U.lencode,_=U.distcode,C=(1<<U.lenbits)-1,w=(1<<U.distbits)-1;e:do{x<15&&(y+=M[r++]<<x,x+=8,y+=M[r++]<<x,x+=8),T=v[y&C];t:for(;;){if(E=T>>>24,y>>>=E,x-=E,E=T>>>16&255,E===0)N[i++]=T&65535;else if(E&16){k=T&65535,E&=15,E&&(x<E&&(y+=M[r++]<<x,x+=8),k+=y&(1<<E)-1,y>>>=E,x-=E),x<15&&(y+=M[r++]<<x,x+=8,y+=M[r++]<<x,x+=8),T=_[y&w];n:for(;;){if(E=T>>>24,y>>>=E,x-=E,E=T>>>16&255,E&16){if(j=T&65535,E&=15,x<E&&(y+=M[r++]<<x,x+=8,x<E&&(y+=M[r++]<<x,x+=8)),j+=y&(1<<E)-1,j>l){e.msg="invalid distance too far back",U.mode=K_;break e}if(y>>>=E,x-=E,E=i-s,j>E){if(E=j-E,E>d&&U.sane){e.msg="invalid distance too far back",U.mode=K_;break e}if(O=0,z=m,h===0){if(O+=u-E,E<k){k-=E;do N[i++]=m[O++];while(--E);O=i-j,z=N}}else if(h<E){if(O+=u+h-E,E-=h,E<k){k-=E;do N[i++]=m[O++];while(--E);if(O=0,h<k){E=h,k-=E;do N[i++]=m[O++];while(--E);O=i-j,z=N}}}else if(O+=h-E,E<k){k-=E;do N[i++]=m[O++];while(--E);O=i-j,z=N}for(;k>2;)N[i++]=z[O++],N[i++]=z[O++],N[i++]=z[O++],k-=3;k&&(N[i++]=z[O++],k>1&&(N[i++]=z[O++]))}else{O=i-j;do N[i++]=N[O++],N[i++]=N[O++],N[i++]=N[O++],k-=3;while(k>2);k&&(N[i++]=N[O++],k>1&&(N[i++]=N[O++]))}}else if((E&64)===0){T=_[(T&65535)+(y&(1<<E)-1)];continue n}else{e.msg="invalid distance code",U.mode=K_;break e}break}}else if((E&64)===0){T=v[(T&65535)+(y&(1<<E)-1)];continue t}else if(E&32){U.mode=cze;break e}else{e.msg="invalid literal/length code",U.mode=K_;break e}break}}while(r<a&&i<o);k=x>>3,r-=k,x-=k<<3,y&=(1<<x)-1,e.next_in=r,e.next_out=i,e.avail_in=r<a?5+(a-r):5-(r-a),e.avail_out=i<o?257+(o-i):257-(i-o),U.hold=y,U.bits=x};const c1=15,BF=852,HF=592,UF=0,qT=1,$F=2,dze=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),fze=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),hze=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),pze=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),mze=(t,e,n,r,a,i,s,o)=>{const l=o.bits;let u=0,d=0,h=0,m=0,y=0,x=0,v=0,_=0,C=0,w=0,T,E,k,j,O,z=null,M;const N=new Uint16Array(c1+1),U=new Uint16Array(c1+1);let F=null,$,D,H;for(u=0;u<=c1;u++)N[u]=0;for(d=0;d<r;d++)N[e[n+d]]++;for(y=l,m=c1;m>=1&&N[m]===0;m--);if(y>m&&(y=m),m===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,o.bits=1,0;for(h=1;h<m&&N[h]===0;h++);for(y<h&&(y=h),_=1,u=1;u<=c1;u++)if(_<<=1,_-=N[u],_<0)return-1;if(_>0&&(t===UF||m!==1))return-1;for(U[1]=0,u=1;u<c1;u++)U[u+1]=U[u]+N[u];for(d=0;d<r;d++)e[n+d]!==0&&(s[U[e[n+d]]++]=d);if(t===UF?(z=F=s,M=20):t===qT?(z=dze,F=fze,M=257):(z=hze,F=pze,M=0),w=0,d=0,u=h,O=i,x=y,v=0,k=-1,C=1<<y,j=C-1,t===qT&&C>BF||t===$F&&C>HF)return 1;for(;;){$=u-v,s[d]+1<M?(D=0,H=s[d]):s[d]>=M?(D=F[s[d]-M],H=z[s[d]-M]):(D=96,H=0),T=1<<u-v,E=1<<x,h=E;do E-=T,a[O+(w>>v)+E]=$<<24|D<<16|H|0;while(E!==0);for(T=1<<u-1;w&T;)T>>=1;if(T!==0?(w&=T-1,w+=T):w=0,d++,--N[u]===0){if(u===m)break;u=e[n+s[d]]}if(u>y&&(w&j)!==k){for(v===0&&(v=y),O+=h,x=u-v,_=1<<x;x+v<m&&(_-=N[x+v],!(_<=0));)x++,_<<=1;if(C+=1<<x,t===qT&&C>BF||t===$F&&C>HF)return 1;k=w&j,a[k]=y<<24|x<<16|O-i|0}}return w!==0&&(a[O+w]=u-v<<24|64<<16|0),o.bits=y,0};var L2=mze;const gze=0,_J=1,CJ=2,{Z_FINISH:GF,Z_BLOCK:yze,Z_TREES:X_,Z_OK:wg,Z_STREAM_END:bze,Z_NEED_DICT:xze,Z_STREAM_ERROR:Nc,Z_DATA_ERROR:wJ,Z_MEM_ERROR:EJ,Z_BUF_ERROR:vze,Z_DEFLATED:qF}=sS,nw=16180,VF=16181,WF=16182,YF=16183,KF=16184,XF=16185,QF=16186,ZF=16187,JF=16188,eB=16189,jC=16190,Cf=16191,VT=16192,tB=16193,WT=16194,nB=16195,rB=16196,aB=16197,iB=16198,Q_=16199,Z_=16200,sB=16201,oB=16202,lB=16203,cB=16204,uB=16205,YT=16206,dB=16207,fB=16208,Ta=16209,TJ=16210,AJ=16211,Sze=852,_ze=592,Cze=15,wze=Cze,hB=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Eze(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Fg=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<nw||e.mode>AJ?1:0},RJ=t=>{if(Fg(t))return Nc;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=nw,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Sze),e.distcode=e.distdyn=new Int32Array(_ze),e.sane=1,e.back=-1,wg},kJ=t=>{if(Fg(t))return Nc;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,RJ(t)},IJ=(t,e)=>{let n;if(Fg(t))return Nc;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Nc:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,kJ(t))},jJ=(t,e)=>{if(!t)return Nc;const n=new Eze;t.state=n,n.strm=t,n.window=null,n.mode=nw;const r=IJ(t,e);return r!==wg&&(t.state=null),r},Tze=t=>jJ(t,wze);let pB=!0,KT,XT;const Aze=t=>{if(pB){KT=new Int32Array(512),XT=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(L2(_J,t.lens,0,288,KT,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;L2(CJ,t.lens,0,32,XT,0,t.work,{bits:5}),pB=!1}t.lencode=KT,t.lenbits=9,t.distcode=XT,t.distbits=5},OJ=(t,e,n,r)=>{let a;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>r&&(a=r),i.window.set(e.subarray(n-r,n-r+a),i.wnext),r-=a,r?(i.window.set(e.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},Rze=(t,e)=>{let n,r,a,i,s,o,l,u,d,h,m,y,x,v,_=0,C,w,T,E,k,j,O,z;const M=new Uint8Array(4);let N,U;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Fg(t)||!t.output||!t.input&&t.avail_in!==0)return Nc;n=t.state,n.mode===Cf&&(n.mode=VT),s=t.next_out,a=t.output,l=t.avail_out,i=t.next_in,r=t.input,o=t.avail_in,u=n.hold,d=n.bits,h=o,m=l,z=wg;e:for(;;)switch(n.mode){case nw:if(n.wrap===0){n.mode=VT;break}for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,M[0]=u&255,M[1]=u>>>8&255,n.check=Ki(n.check,M,2,0),u=0,d=0,n.mode=VF;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Ta;break}if((u&15)!==qF){t.msg="unknown compression method",n.mode=Ta;break}if(u>>>=4,d-=4,O=(u&15)+8,n.wbits===0&&(n.wbits=O),O>15||O>n.wbits){t.msg="invalid window size",n.mode=Ta;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?eB:Cf,u=0,d=0;break;case VF:for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==qF){t.msg="unknown compression method",n.mode=Ta;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Ta;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(M[0]=u&255,M[1]=u>>>8&255,n.check=Ki(n.check,M,2,0)),u=0,d=0,n.mode=WF;case WF:for(;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(M[0]=u&255,M[1]=u>>>8&255,M[2]=u>>>16&255,M[3]=u>>>24&255,n.check=Ki(n.check,M,4,0)),u=0,d=0,n.mode=YF;case YF:for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(M[0]=u&255,M[1]=u>>>8&255,n.check=Ki(n.check,M,2,0)),u=0,d=0,n.mode=KF;case KF:if(n.flags&1024){for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(M[0]=u&255,M[1]=u>>>8&255,n.check=Ki(n.check,M,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=XF;case XF:if(n.flags&1024&&(y=n.length,y>o&&(y=o),y&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+y),O)),n.flags&512&&n.wrap&4&&(n.check=Ki(n.check,r,y,i)),o-=y,i+=y,n.length-=y),n.length))break e;n.length=0,n.mode=QF;case QF:if(n.flags&2048){if(o===0)break e;y=0;do O=r[i+y++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O));while(O&&y<o);if(n.flags&512&&n.wrap&4&&(n.check=Ki(n.check,r,y,i)),o-=y,i+=y,O)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=ZF;case ZF:if(n.flags&4096){if(o===0)break e;y=0;do O=r[i+y++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O));while(O&&y<o);if(n.flags&512&&n.wrap&4&&(n.check=Ki(n.check,r,y,i)),o-=y,i+=y,O)break e}else n.head&&(n.head.comment=null);n.mode=JF;case JF:if(n.flags&512){for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Ta;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Cf;break;case eB:for(;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}t.adler=n.check=hB(u),u=0,d=0,n.mode=jC;case jC:if(n.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=o,n.hold=u,n.bits=d,xze;t.adler=n.check=1,n.mode=Cf;case Cf:if(e===yze||e===X_)break e;case VT:if(n.last){u>>>=d&7,d-=d&7,n.mode=YT;break}for(;d<3;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=tB;break;case 1:if(Aze(n),n.mode=Q_,e===X_){u>>>=2,d-=2;break e}break;case 2:n.mode=rB;break;case 3:t.msg="invalid block type",n.mode=Ta}u>>>=2,d-=2;break;case tB:for(u>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Ta;break}if(n.length=u&65535,u=0,d=0,n.mode=WT,e===X_)break e;case WT:n.mode=nB;case nB:if(y=n.length,y){if(y>o&&(y=o),y>l&&(y=l),y===0)break e;a.set(r.subarray(i,i+y),s),o-=y,i+=y,l-=y,s+=y,n.length-=y;break}n.mode=Cf;break;case rB:for(;d<14;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Ta;break}n.have=0,n.mode=aB;case aB:for(;n.have<n.ncode;){for(;d<3;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.lens[F[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,N={bits:n.lenbits},z=L2(gze,n.lens,0,19,n.lencode,0,n.work,N),n.lenbits=N.bits,z){t.msg="invalid code lengths set",n.mode=Ta;break}n.have=0,n.mode=iB;case iB:for(;n.have<n.nlen+n.ndist;){for(;_=n.lencode[u&(1<<n.lenbits)-1],C=_>>>24,w=_>>>16&255,T=_&65535,!(C<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(T<16)u>>>=C,d-=C,n.lens[n.have++]=T;else{if(T===16){for(U=C+2;d<U;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(u>>>=C,d-=C,n.have===0){t.msg="invalid bit length repeat",n.mode=Ta;break}O=n.lens[n.have-1],y=3+(u&3),u>>>=2,d-=2}else if(T===17){for(U=C+3;d<U;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,O=0,y=3+(u&7),u>>>=3,d-=3}else{for(U=C+7;d<U;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,O=0,y=11+(u&127),u>>>=7,d-=7}if(n.have+y>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Ta;break}for(;y--;)n.lens[n.have++]=O}}if(n.mode===Ta)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Ta;break}if(n.lenbits=9,N={bits:n.lenbits},z=L2(_J,n.lens,0,n.nlen,n.lencode,0,n.work,N),n.lenbits=N.bits,z){t.msg="invalid literal/lengths set",n.mode=Ta;break}if(n.distbits=6,n.distcode=n.distdyn,N={bits:n.distbits},z=L2(CJ,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,N),n.distbits=N.bits,z){t.msg="invalid distances set",n.mode=Ta;break}if(n.mode=Q_,e===X_)break e;case Q_:n.mode=Z_;case Z_:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=o,n.hold=u,n.bits=d,uze(t,m),s=t.next_out,a=t.output,l=t.avail_out,i=t.next_in,r=t.input,o=t.avail_in,u=n.hold,d=n.bits,n.mode===Cf&&(n.back=-1);break}for(n.back=0;_=n.lencode[u&(1<<n.lenbits)-1],C=_>>>24,w=_>>>16&255,T=_&65535,!(C<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(w&&(w&240)===0){for(E=C,k=w,j=T;_=n.lencode[j+((u&(1<<E+k)-1)>>E)],C=_>>>24,w=_>>>16&255,T=_&65535,!(E+C<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=E,d-=E,n.back+=E}if(u>>>=C,d-=C,n.back+=C,n.length=T,w===0){n.mode=uB;break}if(w&32){n.back=-1,n.mode=Cf;break}if(w&64){t.msg="invalid literal/length code",n.mode=Ta;break}n.extra=w&15,n.mode=sB;case sB:if(n.extra){for(U=n.extra;d<U;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=oB;case oB:for(;_=n.distcode[u&(1<<n.distbits)-1],C=_>>>24,w=_>>>16&255,T=_&65535,!(C<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if((w&240)===0){for(E=C,k=w,j=T;_=n.distcode[j+((u&(1<<E+k)-1)>>E)],C=_>>>24,w=_>>>16&255,T=_&65535,!(E+C<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=E,d-=E,n.back+=E}if(u>>>=C,d-=C,n.back+=C,w&64){t.msg="invalid distance code",n.mode=Ta;break}n.offset=T,n.extra=w&15,n.mode=lB;case lB:if(n.extra){for(U=n.extra;d<U;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Ta;break}n.mode=cB;case cB:if(l===0)break e;if(y=m-l,n.offset>y){if(y=n.offset-y,y>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Ta;break}y>n.wnext?(y-=n.wnext,x=n.wsize-y):x=n.wnext-y,y>n.length&&(y=n.length),v=n.window}else v=a,x=s-n.offset,y=n.length;y>l&&(y=l),l-=y,n.length-=y;do a[s++]=v[x++];while(--y);n.length===0&&(n.mode=Z_);break;case uB:if(l===0)break e;a[s++]=n.length,l--,n.mode=Z_;break;case YT:if(n.wrap){for(;d<32;){if(o===0)break e;o--,u|=r[i++]<<d,d+=8}if(m-=l,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?Ki(n.check,a,m,s-m):bv(n.check,a,m,s-m)),m=l,n.wrap&4&&(n.flags?u:hB(u))!==n.check){t.msg="incorrect data check",n.mode=Ta;break}u=0,d=0}n.mode=dB;case dB:if(n.wrap&&n.flags){for(;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Ta;break}u=0,d=0}n.mode=fB;case fB:z=bze;break e;case Ta:z=wJ;break e;case TJ:return EJ;case AJ:default:return Nc}return t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=o,n.hold=u,n.bits=d,(n.wsize||m!==t.avail_out&&n.mode<Ta&&(n.mode<YT||e!==GF))&&OJ(t,t.output,t.next_out,m-t.avail_out),h-=t.avail_in,m-=t.avail_out,t.total_in+=h,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?Ki(n.check,a,m,t.next_out-m):bv(n.check,a,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Cf?128:0)+(n.mode===Q_||n.mode===WT?256:0),(h===0&&m===0||e===GF)&&z===wg&&(z=vze),z},kze=t=>{if(Fg(t))return Nc;let e=t.state;return e.window&&(e.window=null),t.state=null,wg},Ize=(t,e)=>{if(Fg(t))return Nc;const n=t.state;return(n.wrap&2)===0?Nc:(n.head=e,e.done=!1,wg)},jze=(t,e)=>{const n=e.length;let r,a,i;return Fg(t)||(r=t.state,r.wrap!==0&&r.mode!==jC)?Nc:r.mode===jC&&(a=1,a=bv(a,e,n,0),a!==r.check)?wJ:(i=OJ(t,e,n,n),i?(r.mode=TJ,EJ):(r.havedict=1,wg))};var Oze=kJ,Dze=IJ,Nze=RJ,Mze=Tze,Pze=jJ,Lze=Rze,zze=kze,Fze=Ize,Bze=jze,Hze="pako inflate (from Nodeca project)",If={inflateReset:Oze,inflateReset2:Dze,inflateResetKeep:Nze,inflateInit:Mze,inflateInit2:Pze,inflate:Lze,inflateEnd:zze,inflateGetHeader:Fze,inflateSetDictionary:Bze,inflateInfo:Hze};function Uze(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var $ze=Uze;const DJ=Object.prototype.toString,{Z_NO_FLUSH:Gze,Z_FINISH:qze,Z_OK:Sv,Z_STREAM_END:QT,Z_NEED_DICT:ZT,Z_STREAM_ERROR:Vze,Z_DATA_ERROR:mB,Z_MEM_ERROR:Wze}=sS;function cS(t){this.options=tw.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new vJ,this.strm.avail_out=0;let n=If.inflateInit2(this.strm,e.windowBits);if(n!==Sv)throw new Error(_g[n]);if(this.header=new $ze,If.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=vv.string2buf(e.dictionary):DJ.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=If.inflateSetDictionary(this.strm,e.dictionary),n!==Sv)))throw new Error(_g[n])}cS.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let i,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?qze:Gze,DJ.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=If.inflate(n,s),i===ZT&&a&&(i=If.inflateSetDictionary(n,a),i===Sv?i=If.inflate(n,s):i===mB&&(i=ZT));n.avail_in>0&&i===QT&&n.state.wrap>0&&t[n.next_in]!==0;)If.inflateReset(n),i=If.inflate(n,s);switch(i){case Vze:case mB:case ZT:case Wze:return this.onEnd(i),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||i===QT))if(this.options.to==="string"){let l=vv.utf8border(n.output,n.next_out),u=n.next_out-l,d=vv.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===Sv&&o===0)){if(i===QT)return i=If.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};cS.prototype.onData=function(t){this.chunks.push(t)};cS.prototype.onEnd=function(t){t===Sv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=tw.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function uD(t,e){const n=new cS(e);if(n.push(t),n.err)throw n.msg||_g[n.err];return n.result}function Yze(t,e){return e=e||{},e.raw=!0,uD(t,e)}var Kze=cS,Xze=uD,Qze=Yze,Zze=uD,Jze={Inflate:Kze,inflate:Xze,inflateRaw:Qze,ungzip:Zze};const{Deflate:eFe,deflate:tFe,deflateRaw:nFe,gzip:rFe}=lze,{Inflate:aFe,inflate:iFe,inflateRaw:sFe,ungzip:oFe}=Jze;var lFe=eFe,cFe=tFe,uFe=nFe,dFe=rFe,fFe=aFe,hFe=iFe,pFe=sFe,mFe=oFe,gFe=sS,yFe={Deflate:lFe,deflate:cFe,deflateRaw:uFe,gzip:dFe,Inflate:fFe,inflate:hFe,inflateRaw:pFe,ungzip:mFe,constants:gFe};const d2={ALPHA_UNCOMPRESSED:"stealth_pnginfo",ALPHA_COMPRESSED:"stealth_pngcomp",RGB_UNCOMPRESSED:"stealth_rgbinfo",RGB_COMPRESSED:"stealth_rgbcomp"};async function bFe(t){console.log(" [extractStealthPngInfo] Starting extraction...");try{const e=await xFe(t);if(e)return console.log(" [extractStealthPngInfo] LSB method successful"),e;console.log(" [extractStealthPngInfo] LSB failed, trying simple marker method...");const n=await vFe(t);return n?(console.log(" [extractStealthPngInfo] Marker method successful"),n):(console.log(" [extractStealthPngInfo] Both methods failed"),null)}catch(e){return console.error(" [extractStealthPngInfo] Error:",e),null}}async function xFe(t){return new Promise(e=>{const n=new Image,r=URL.createObjectURL(t);n.onload=()=>{try{const a=document.createElement("canvas"),i=a.getContext("2d");if(!i){URL.revokeObjectURL(r),e(null);return}a.width=n.width,a.height=n.height,i.drawImage(n,0,0);const o=i.getImageData(0,0,a.width,a.height).data,l=a.width,u=a.height,d=!0;console.log(` [LSB] Scanning ${l}x${u} image (4 channels)`);let h=null,m=!1,y="",x="",v="",_=0,C=0,w=!1,T=!0,E=!1,k=!1,j=!1,O=0;const z=d2.ALPHA_UNCOMPRESSED.length*8;e:for(let N=0;N<l;N++){for(let U=0;U<u;U++){const F=(U*l+N)*4,$=o[F],D=o[F+1],H=o[F+2],L=o[F+3];if(d&&(x+=(L&1).toString(),_++),v+=($&1).toString(),v+=(D&1).toString(),v+=(H&1).toString(),C+=3,T){if(_===z&&d){const V=gB(x),J=yB(V);if(J)T=!1,w=!0,E=!0,h="alpha",m=J.compressed,console.log(` [LSB] Signature found: ${V} (mode: alpha, compressed: ${m})`),x="",_=0;else{console.log(` [LSB] No valid signature in alpha channel: ${V}`),j=!0;break e}}else if(C===z){const V=gB(v),J=yB(V);J&&(T=!1,w=!0,E=!0,h="rgb",m=J.compressed,console.log(` [LSB] Signature found: ${V} (mode: rgb, compressed: ${m})`),v="",C=0)}}else if(E){if(h==="alpha")_===32&&(O=parseInt(x,2),console.log(` [LSB] Data length: ${O} bits`),E=!1,k=!0,x="",_=0);else if(C===33){const V=v[v.length-1];v=v.slice(0,-1),O=parseInt(v,2),console.log(` [LSB] Data length: ${O} bits`),E=!1,k=!0,v=V,C=1}}else if(k){if(h==="alpha"){if(_===O){y=x,console.log(" [LSB] Data extraction complete"),j=!0;break e}}else if(C>=O){const V=O-C;V<0&&(v=v.slice(0,V)),y=v,console.log(" [LSB] Data extraction complete"),j=!0;break e}}else{j=!0;break e}}if(j)break}if(URL.revokeObjectURL(r),!w||y===""){console.log(" [LSB] No stealth data found"),e(null);return}const M=SFe(y);try{let N;if(m){console.log(" [LSB] Decompressing gzip data with pako...");try{const U=yFe.ungzip(new Uint8Array(M));N=new TextDecoder("utf-8").decode(U),console.log(" [LSB] Successfully decompressed gzip data")}catch(U){console.error(" [LSB] Decompression error:",U),e(null);return}}else N=new TextDecoder("utf-8").decode(new Uint8Array(M));console.log(` [LSB] Successfully decoded ${N.length} characters`),e(N)}catch(N){console.error(" [LSB] Decoding error:",N),e(null)}}catch(a){console.error(" [LSB] Extraction error:",a),URL.revokeObjectURL(r),e(null)}},n.onerror=()=>{console.error(" [LSB] Image load error"),URL.revokeObjectURL(r),e(null)},n.src=r})}async function vFe(t){return new Promise(e=>{const n=new FileReader;n.onload=r=>{try{const a=r.target?.result,i=new Uint8Array(a),s=new TextEncoder().encode("stealth_pnginfo");for(let o=0;o<i.length-s.length-4;o++){let l=!0;for(let u=0;u<s.length;u++)if(i[o+u]!==s[u]){l=!1;break}if(l){const u=o+s.length,d=i[u]|i[u+1]<<8|i[u+2]<<16|i[u+3]<<24,h=u+4,m=i.slice(h,h+d),y=new TextDecoder().decode(m);console.log(" [Marker] Successfully extracted"),e(y);return}}e(null)}catch(a){console.error(" [Marker] Error:",a),e(null)}},n.onerror=()=>e(null),n.readAsArrayBuffer(t)})}function gB(t){const e=[];for(let n=0;n<t.length;n+=8){const r=t.substring(n,n+8);r.length===8&&e.push(parseInt(r,2))}return new TextDecoder("utf-8").decode(new Uint8Array(e))}function SFe(t){const e=[];for(let n=0;n<t.length;n+=8){const r=t.substring(n,n+8);r.length===8&&e.push(parseInt(r,2))}return e}function yB(t){return t===d2.ALPHA_UNCOMPRESSED?{type:"alpha",compressed:!1}:t===d2.ALPHA_COMPRESSED?{type:"alpha",compressed:!0}:t===d2.RGB_UNCOMPRESSED?{type:"rgb",compressed:!1}:t===d2.RGB_COMPRESSED?{type:"rgb",compressed:!0}:null}class _Fe{static extract(e){try{const{textChunks:n,rawStrings:r}=this.extractRawPngMetadata(e);if((n.Software==="NovelAI"||n.Source?.includes("NovelAI"))&&(console.log(" NovelAI image detected in PNG"),n.Comment))return{Comment:n.Comment,Source:n.Source};for(const a of r)if(a.includes("parameters")&&a.includes("Steps:"))return{parameters:a};return{textChunks:n,rawStrings:r}}catch(n){return console.warn("PNG metadata extraction error:",n),{}}}static extractRawPngMetadata(e){const n={},r=[];try{const a=new Uint8Array(e);if(a[0]!==137||a[1]!==80||a[2]!==78||a[3]!==71)return{textChunks:n,rawStrings:r};let i=8;for(;i<a.length-8;){const s=a[i]<<24|a[i+1]<<16|a[i+2]<<8|a[i+3],o=String.fromCharCode(a[i+4],a[i+5],a[i+6],a[i+7]);if(o==="tEXt"||o==="zTXt"){const l=a.slice(i+8,i+8+s),u=new TextDecoder("utf-8").decode(l);r.push(u);const d=u.indexOf("\0");if(d>0){const h=u.substring(0,d),m=u.substring(d+1);n[h]=m}}i+=8+s+4}}catch(a){console.error("PNG parsing error:",a)}return{textChunks:n,rawStrings:r}}}class J_{static isNovelAIFormat(e){if(console.log(" [NovelAIParser.isNovelAIFormat] Checking data type:",typeof e),typeof e=="string")try{const n=JSON.parse(e);if(console.log(" [NovelAIParser] Parsed JSON keys:",Object.keys(n)),n.Comment){console.log(" [NovelAIParser] Found Comment field");try{const a=JSON.parse(n.Comment),i=this.hasNovelAIFields(a);if(console.log(" [NovelAIParser] Comment contains NAI fields:",i),i)return!0}catch{console.warn(" [NovelAIParser] Comment field is not valid JSON")}}const r=this.hasNovelAIFields(n);return console.log(" [NovelAIParser] Direct NAI fields:",r),r}catch(n){return console.warn(" [NovelAIParser] JSON parse failed:",n),!1}if(typeof e=="object"&&e!==null){if(console.log(" [NovelAIParser] Checking object data, keys:",Object.keys(e)),this.hasCommentField(e))return console.log(" [NovelAIParser] Object has valid Comment field"),!0;const n=this.hasNovelAIFields(e);return console.log(" [NovelAIParser] Object has NAI fields:",n),n}return console.log(" [NovelAIParser] Not a NovelAI format"),!1}static hasCommentField(e){if(!e.Comment)return!1;try{const n=JSON.parse(e.Comment);return this.hasNovelAIFields(n)}catch{return!1}}static hasNovelAIFields(e){return e&&(e.prompt!==void 0||e.v4_prompt!==void 0||e.uc!==void 0||e.scale!==void 0||e.noise_schedule!==void 0)}static parse(e){console.log(" [NovelAIParser.parse] Input type:",typeof e);try{let n,r=e;if(typeof e=="string")if(console.log(" [NovelAIParser] Parsing string input"),r=JSON.parse(e),console.log(" [NovelAIParser] Top-level keys:",Object.keys(r)),r.Comment){console.log(" [NovelAIParser] Parsing Comment field");try{n=JSON.parse(r.Comment),console.log(" [NovelAIParser] Successfully parsed Comment from Stealth PNG"),console.log(" [NovelAIParser] NAI data keys:",Object.keys(n))}catch(i){console.warn(" [NovelAIParser] Failed to parse Comment field:",i),n=r}}else console.log(" [NovelAIParser] No Comment field, using top-level data"),n=r;else if(e.Comment){console.log(" [NovelAIParser] Object has Comment field"),r=e;try{n=JSON.parse(e.Comment),console.log(" [NovelAIParser] Successfully parsed Comment field")}catch(i){console.warn(" [NovelAIParser] Failed to parse Comment field:",i),n=e}}else console.log(" [NovelAIParser] Using data directly"),n=e;const a={};if(n.v4_prompt?.caption?.base_caption?(a.positive_prompt=n.v4_prompt.caption.base_caption,a.prompt=a.positive_prompt):n.prompt&&(a.positive_prompt=n.prompt,a.prompt=n.prompt),n.v4_negative_prompt?.caption?.base_caption?a.negative_prompt=n.v4_negative_prompt.caption.base_caption:n.uc&&(a.negative_prompt=n.uc),n.steps&&(a.steps=n.steps),n.scale&&(a.cfg_scale=n.scale),n.seed&&(a.seed=Number(n.seed)),n.sampler&&(a.sampler=n.sampler),n.noise_schedule&&(a.scheduler=n.noise_schedule),n.width&&(a.width=n.width),n.height&&(a.height=n.height),r.Source){const i=r.Source.match(/NovelAI Diffusion (V[\d.]+)/i);i&&(a.model=`NovelAI Diffusion ${i[1]}`)}return a.ai_tool="NovelAI",console.log(" [NovelAIParser] Successfully parsed:",{hasPrompt:!!a.prompt,hasNegativePrompt:!!a.negative_prompt,promptLength:a.prompt?.length||0,negativePromptLength:a.negative_prompt?.length||0,steps:a.steps,scale:a.cfg_scale,sampler:a.sampler,model:a.model}),a}catch(n){return console.error(" [NovelAIParser] Parse error:",n),{}}}}class e4{static isWebUIFormat(e){return typeof e=="string"?e.includes("parameters")||e.includes("Steps:")&&e.includes("Sampler:"):typeof e=="object"&&e!==null?e.parameters!==void 0:!1}static parse(e){try{let n;if(typeof e=="string")n=e;else if(e.parameters)n=e.parameters;else return{};return n.startsWith("parameters")&&(n=n.substring(10)),this.parseParametersText(n)}catch(n){return console.warn("WebUI parsing error:",n),{}}}static parseParametersText(e){const n={},r=e.split(/\r?\n/);let a=-1;for(let i=0;i<r.length;i++)if(r[i].trim().startsWith("Negative prompt:")){a=i;break}if(a>0){const i=r.slice(0,a);n.positive_prompt=i.join(`
`).trim().replace(/\u0000/g,""),n.prompt=n.positive_prompt;const s=r[a];n.negative_prompt=s.substring(16).trim().replace(/\u0000/g,"");const o=r.slice(a+1);this.parseOptionLines(o,n)}else n.positive_prompt=e.trim().replace(/\u0000/g,""),n.prompt=n.positive_prompt,n.negative_prompt="";return n}static parseOptionLines(e,n){const r=e.join(" ").trim();if(!r)return;const a=r.split(",");for(const i of a){const s=i.trim();if(!s||!s.includes(":"))continue;const o=s.indexOf(":"),l=s.substring(0,o).trim(),u=s.substring(o+1).trim().replace(/\u0000/g,"");this.parseOptionField(l,u,n)}}static parseOptionField(e,n,r){const a=e.toLowerCase();let i;try{if(n.includes("."))i=parseFloat(n);else{const s=parseInt(n);isNaN(s)||(i=s)}}catch{}switch(a){case"steps":r.steps=i;break;case"sampler":r.sampler=n;break;case"cfg scale":r.cfg_scale=i;break;case"seed":r.seed=i;break;case"size":const[s,o]=n.split("x").map(Number);s&&o&&(r.width=s,r.height=o);break;case"model":r.model=n;break;case"model hash":r.model_hash=n;break;case"denoising strength":r.denoising_strength=i;break;case"clip skip":r.clip_skip=i;break;default:r[e]=i!==void 0?i:n;break}}}async function CFe(t){const e={};try{const n=await bPe.parse(t,{tiff:!0,exif:!0,gps:!0,interop:!0,ifd1:!0,iptc:!0,jfif:!0,ihdr:!0});n&&Object.assign(e,n)}catch(n){console.warn("EXIF extraction failed:",n)}if(t.type==="image/png"||t.name.toLowerCase().endsWith(".png")){const n=await t.arrayBuffer(),r=_Fe.extract(n);let a=bB(r);const i=!!(a.prompt&&a.prompt.trim()||a.positive_prompt&&a.positive_prompt.trim());if(console.log(" [extractFromFile] Primary extraction result:",{hasPrompt:i,promptLength:a.prompt?.length||0,positivePromptLength:a.positive_prompt?.length||0,promptPreview:(a.prompt||a.positive_prompt)?.substring(0,50)}),!i){console.log(" [extractFromFile] Primary extraction failed - attempting Stealth PNG Info");const s=await bFe(t);if(s){console.log(" [extractFromFile] Stealth PNG Info extracted successfully!"),console.log(" [extractFromFile] Stealth data length:",s.length),console.log(" [extractFromFile] First 200 chars:",s.substring(0,200)),e["Stealth PNG Info"]=s;const o=bB({stealthData:s});console.log(" [extractFromFile] Stealth parse result:",{hasPrompt:!!o.prompt,hasPositivePrompt:!!o.positive_prompt,promptLength:o.prompt?.length||0}),o.prompt||o.positive_prompt?(console.log(" [extractFromFile] Using Stealth PNG data"),a=o):console.log(" [extractFromFile] Stealth data parsing failed - no valid prompts")}else console.log(" [extractFromFile] Stealth PNG Info not found")}return{...e,...a}}return e}function bB(t){if(console.log(" [parseRawData] Input type:",typeof t,{hasStealthData:!!t.stealthData,stealthDataLength:t.stealthData?.length||0,stealthDataPreview:t.stealthData?.substring(0,100)}),J_.isNovelAIFormat(t))return console.log(" [parseRawData] Parsing as NovelAI format"),J_.parse(t);if(e4.isWebUIFormat(t))return console.log(" [parseRawData] Parsing as WebUI format"),e4.parse(t);if(t.stealthData){console.log(" [parseRawData] Attempting to parse stealth data...");const e=J_.isNovelAIFormat(t.stealthData);if(console.log(" [parseRawData] Is NovelAI format?",e),e){console.log(" [parseRawData] Parsing stealth data as NovelAI format");const r=J_.parse(t.stealthData);return console.log(" [parseRawData] NovelAI parse result:",{hasPrompt:!!r.prompt,hasPositivePrompt:!!r.positive_prompt,hasNegativePrompt:!!r.negative_prompt}),r}const n=e4.isWebUIFormat(t.stealthData);if(console.log(" [parseRawData] Is WebUI format?",n),n){console.log(" [parseRawData] Parsing stealth data as WebUI format");const r=e4.parse(t.stealthData);return console.log(" [parseRawData] WebUI parse result:",{hasPrompt:!!r.prompt,hasPositivePrompt:!!r.positive_prompt,hasNegativePrompt:!!r.negative_prompt}),r}console.log(" [parseRawData] Stealth data found but format not recognized"),console.log(" [parseRawData] Raw stealth data sample:",t.stealthData.substring(0,200))}return console.log(" [parseRawData] No recognized format found"),{}}function wFe(t){if(t.ai_tool)return t.ai_tool;const e=JSON.stringify(t).toLowerCase();return e.includes("comfyui")||e.includes("comfy ui")?"ComfyUI":e.includes("novelai")||e.includes("novel ai")?"NovelAI":e.includes("automatic1111")||e.includes("webui")?"Automatic1111":"Unknown"}async function EFe(t){try{const e=await CFe(t),n=wFe(e),r={},a=["ai_tool","prompt","positive_prompt","negative_prompt","textChunks","rawStrings"];for(const[i,s]of Object.entries(e))!a.includes(i)&&s!==void 0&&s!==null&&(r[i]=s);return{aiTool:n,prompt:e.prompt,positivePrompt:e.positive_prompt||e.prompt,negativePrompt:e.negative_prompt,parameters:Object.keys(r).length>0?r:void 0,rawMetadata:e}}catch(e){return console.error("Failed to extract metadata:",e),{aiTool:"Unknown",rawMetadata:{}}}}const TFe=()=>{const{t}=qt(["upload","common"]),[e,n]=A.useState(null),[r,a]=A.useState(!1),[i,s]=A.useState(null),[o,l]=A.useState(!1),[u,d]=A.useState(null),h=A.useCallback(async T=>{if(!T.type.startsWith("image/")){s(t("upload:promptPreview.invalidFileType"));return}a(!0),s(null);try{const E=URL.createObjectURL(T);d(E);const k=await EFe(T);n(k)}catch(E){console.error("Failed to extract metadata:",E),s(t("upload:promptPreview.extractionFailed"))}finally{a(!1)}},[t]),m=A.useCallback(T=>{T.preventDefault(),T.stopPropagation(),l(!1),T.dataTransfer.files&&T.dataTransfer.files.length>0&&h(T.dataTransfer.files[0])},[h]),y=A.useCallback(T=>{T.preventDefault(),T.stopPropagation(),l(!0)},[]),x=A.useCallback(T=>{T.preventDefault(),T.stopPropagation(),l(!1)},[]),v=A.useCallback(T=>{T.target.files&&T.target.files.length>0&&h(T.target.files[0])},[h]),_=e?.positivePrompt?mz(e.positivePrompt):null,C=e?.negativePrompt?mz(e.negativePrompt):null,w=e?.positivePrompt?FQ(e.positivePrompt):null;return je.useEffect(()=>()=>{u&&URL.revokeObjectURL(u)},[u]),c.jsxs(Yt,{elevation:1,sx:{p:{xs:2,sm:3},mt:{xs:3,sm:4},borderRadius:2},children:[c.jsx(ae,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"1.1rem",sm:"1.25rem"},fontWeight:600},children:t("upload:promptPreview.title")}),c.jsx(ae,{variant:"body2",color:"text.secondary",sx:{mb:2},children:t("upload:promptPreview.description")}),c.jsxs(ee,{onDrop:m,onDragOver:y,onDragLeave:x,sx:{border:"2px dashed",borderColor:o?"primary.main":"grey.300",borderRadius:2,p:3,textAlign:"center",backgroundColor:o?"action.hover":"background.default",cursor:"pointer",transition:"all 0.2s","&:hover":{borderColor:"primary.main",backgroundColor:"action.hover"}},onClick:()=>document.getElementById("prompt-preview-input")?.click(),children:[c.jsx("input",{id:"prompt-preview-input",type:"file",accept:"image/*",style:{display:"none"},onChange:v}),c.jsx(xu,{sx:{fontSize:48,color:"text.secondary",mb:1}}),c.jsx(ae,{variant:"body1",color:"text.secondary",children:t(o?"upload:promptPreview.dropHere":"upload:promptPreview.dragOrClick")}),c.jsx(ae,{variant:"caption",color:"text.secondary",children:t("upload:promptPreview.noUpload")})]}),r&&c.jsx(ee,{sx:{display:"flex",justifyContent:"center",my:3},children:c.jsx(Kt,{})}),i&&c.jsx(wt,{severity:"error",sx:{mt:2},children:i}),e&&!r&&c.jsxs(ee,{sx:{mt:3},children:[u&&c.jsxs(ee,{sx:{mb:3},children:[c.jsx(ae,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:t("upload:promptPreview.imagePreview")}),c.jsx(Yt,{variant:"outlined",sx:{p:1,backgroundColor:"background.default",display:"flex",justifyContent:"center",alignItems:"center"},children:c.jsx(ee,{component:"img",src:u,alt:"Preview",sx:{maxWidth:"100%",maxHeight:400,objectFit:"contain",borderRadius:1}})})]}),c.jsxs(ee,{sx:{mb:2},children:[c.jsx(ae,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:t("upload:promptPreview.aiTool")}),c.jsx(gt,{label:e.aiTool||"Unknown",color:e.aiTool!=="Unknown"?"primary":"default",size:"small"})]}),_&&c.jsxs(ee,{sx:{mb:2},children:[c.jsx(ae,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:t("upload:promptPreview.positivePrompt")}),c.jsx(Yt,{variant:"outlined",sx:{p:2,backgroundColor:"background.default",maxHeight:200,overflow:"auto"},children:c.jsx(ae,{variant:"body2",sx:{whiteSpace:"pre-wrap"},children:_.cleaned})}),_.terms.length>0&&c.jsxs(ee,{sx:{mt:1},children:[c.jsxs(ae,{variant:"caption",color:"text.secondary",children:[t("upload:promptPreview.terms")," (",_.terms.length,")"]}),c.jsxs(fn,{direction:"row",spacing:.5,flexWrap:"wrap",sx:{mt:.5},children:[_.terms.slice(0,20).map((T,E)=>c.jsx(gt,{label:T,size:"small",variant:"outlined",sx:{mb:.5}},E)),_.terms.length>20&&c.jsx(gt,{label:`+${_.terms.length-20} more`,size:"small",variant:"outlined",sx:{mb:.5}})]})]})]}),C&&C.cleaned&&c.jsxs(ee,{sx:{mb:2},children:[c.jsx(ae,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:t("upload:promptPreview.negativePrompt")}),c.jsx(Yt,{variant:"outlined",sx:{p:2,backgroundColor:"background.default",maxHeight:150,overflow:"auto"},children:c.jsx(ae,{variant:"body2",sx:{whiteSpace:"pre-wrap"},children:C.cleaned})})]}),w&&w.loras.length>0&&c.jsxs(ee,{sx:{mb:2},children:[c.jsxs(ae,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:[t("upload:promptPreview.loraModels")," (",w.loras.length,")"]}),c.jsx(fn,{direction:"row",spacing:.5,flexWrap:"wrap",children:w.loras.map((T,E)=>c.jsx(gt,{label:T,size:"small",color:"secondary",sx:{mb:.5}},E))})]}),e.parameters&&Object.keys(e.parameters).length>0&&c.jsxs(ee,{sx:{mb:2},children:[c.jsx(ae,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:t("upload:promptPreview.parameters")}),c.jsx(Yt,{variant:"outlined",sx:{p:2,backgroundColor:"background.default"},children:c.jsx(fn,{spacing:.5,children:Object.entries(e.parameters).filter(([T,E])=>E!=null).map(([T,E])=>c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[T,":"]})," ",String(E)]},T))})})]}),c.jsxs(kc,{sx:{mt:2},children:[c.jsx(jc,{expandIcon:c.jsx(ts,{}),children:c.jsx(ae,{variant:"subtitle2",children:t("upload:promptPreview.rawMetadata")})}),c.jsx(Ic,{children:c.jsx(Yt,{variant:"outlined",sx:{p:2,backgroundColor:"background.default",maxHeight:400,overflow:"auto"},children:c.jsx("pre",{style:{margin:0,fontSize:"0.75rem",whiteSpace:"pre-wrap"},children:JSON.stringify(e.rawMetadata,null,2)})})})]})]})]})},AFe=()=>{const t=bt.c(17);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=["upload","common"],t[0]=e):e=t[0];const{t:n}=qt(e),r=RFe;let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a={width:"100%"},t[1]=a):a=t[1];let i;t[2]===Symbol.for("react.memo_cache_sentinel")?(i={fontSize:{xs:"1.75rem",sm:"2rem",md:"2.25rem"},fontWeight:600},t[2]=i):i=t[2];let s;t[3]!==n?(s=n("upload:page.title"),t[3]=n,t[4]=s):s=t[4];let o;t[5]!==s?(o=c.jsx(ae,{variant:"h4",component:"h1",gutterBottom:!0,sx:i,children:s}),t[5]=s,t[6]=o):o=t[6];let l;t[7]===Symbol.for("react.memo_cache_sentinel")?(l={mb:{xs:3,sm:4},fontSize:{xs:"0.875rem",sm:"1rem"}},t[7]=l):l=t[7];let u;t[8]!==n?(u=n("upload:page.description"),t[8]=n,t[9]=u):u=t[9];let d;t[10]!==u?(d=c.jsx(ae,{variant:"body1",color:"text.secondary",sx:l,children:u}),t[10]=u,t[11]=d):d=t[11];let h,m;t[12]===Symbol.for("react.memo_cache_sentinel")?(h=c.jsx(XMe,{onUploadComplete:r}),m=c.jsx(TFe,{}),t[12]=h,t[13]=m):(h=t[12],m=t[13]);let y;return t[14]!==o||t[15]!==d?(y=c.jsxs(ee,{sx:a,children:[o,d,h,m]}),t[14]=o,t[15]=d,t[16]=y):y=t[16],y};function RFe(){console.log("Upload completed")}const kFe=(t={})=>{const[e,n]=A.useState([]),[r,a]=A.useState(!1),[i,s]=A.useState(null),[o,l]=A.useState(1),[u,d]=A.useState(25),[h,m]=A.useState(0),[y,x]=A.useState(0),[v,_]=A.useState(t.initialSortBy||"first_seen_date"),[C,w]=A.useState(t.initialSortOrder||"DESC"),[T,E]=A.useState(t.initialAiToolFilter||""),k=A.useCallback(async(F=o,$=u,D=v,H=C,L=T)=>{a(!0),s(null);try{let V;L?V=await ya.searchImages({ai_tool:L,page:F,limit:$,sortBy:D,sortOrder:H}):V=await ya.getImages(F,$,D,H),V.success&&V.data?(n(V.data.images),m(V.data.totalPages),x(V.data.total),l(V.data.page)):s(V.error||"  .")}catch(V){s("  ."),console.error("Error fetching images:",V)}finally{a(!1)}},[o,u,v,C,T]),j=A.useCallback(F=>{l(F),k(F,u,v,C,T)},[k,u,v,C,T]),O=A.useCallback(F=>{d(F),l(1),k(1,F,v,C,T),localStorage.setItem("imagePageSize",F.toString())},[k,v,C,T]),z=A.useCallback((F,$)=>{_(F),w($),l(1),k(1,u,F,$,T)},[k,u,T]),M=A.useCallback(F=>{E(F),l(1),k(1,u,v,C,F)},[k,u,v,C]),N=A.useCallback(async F=>{console.log(" [Frontend] Deleting images:",F);try{n(D=>{const H=D.filter(L=>L.composite_hash&&!F.includes(L.composite_hash));return console.log(" [Frontend] Images after optimistic update:",H.length),H});const $=await ya.deleteImages(F);if(!$.success)throw new Error($.error||"Delete failed");console.log(" [Frontend] Delete successful, refreshing data"),await k(o,u,v,C,T)}catch($){console.error(" [Frontend] Delete error:",$),s("  ."),await k(o,u,v,C,T)}},[k,o,u,v,C,T]),U=A.useCallback(()=>{k(o,u,v,C,T)},[k,o,u,v,C,T]);return A.useEffect(()=>{const F=localStorage.getItem("imagePageSize");if(F){const $=parseInt(F);[25,50,100].includes($)&&d($)}},[]),A.useEffect(()=>{k()},[k]),{images:e,loading:r,error:i,currentPage:o,pageSize:u,totalPages:h,total:y,sortBy:v,sortOrder:C,aiToolFilter:T,changePage:j,changePageSize:O,changeSorting:z,changeAiToolFilter:M,deleteImages:N,refreshImages:U,fetchImages:k}},NJ=()=>{const t=bt.c(12);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0];const[n,r]=A.useState(e);let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=v=>{r(_=>_.includes(v)?_.filter(C=>C!==v):[..._,v])},t[1]=a):a=t[1];const i=a;let s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=v=>{r(v)},t[2]=s):s=t[2];const o=s;let l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{r([])},t[3]=l):l=t[3];const u=l;let d;t[4]!==n?(d=v=>n.includes(v),t[4]=n,t[5]=d):d=t[5];const h=d;let m;t[6]!==n.length?(m=v=>{n.length===v.length?u():o(v)},t[6]=n.length,t[7]=m):m=t[7];const y=m;let x;return t[8]!==h||t[9]!==n||t[10]!==y?(x={selectedIds:n,toggleSelection:i,selectAll:o,deselectAll:u,isSelected:h,toggleSelectAll:y,selectedCount:n.length},t[8]=h,t[9]=n,t[10]=y,t[11]=x):x=t[11],x},IFe=()=>{const{t}=qt(["gallery","common"]),{images:e,loading:n,error:r,currentPage:a,pageSize:i,totalPages:s,total:o,sortBy:l,sortOrder:u,aiToolFilter:d,changePage:h,changePageSize:m,changeSorting:y,changeAiToolFilter:x,deleteImages:v,refreshImages:_}=kFe({initialSortBy:"first_seen_date",initialSortOrder:"DESC"}),{selectedIds:C,toggleSelection:w,selectAll:T,deselectAll:E,selectedCount:k}=NJ(),j=H=>{T(H)},O=async H=>{await v([H]);const L=e.find(V=>V.composite_hash===H);L?.id&&C.includes(L.id)&&w(L.id)},z=()=>{E(),_()},M=H=>{y(H,u)},N=H=>{y(l,H)},[U,F]=A.useState([]);A.useEffect(()=>{(async()=>{try{const L=await ya.getImages(1,1e3,"first_seen_date","DESC");if(L.success&&L.data){const V=Array.from(new Set(L.data.images.map(J=>J.ai_tool).filter(J=>J!==null)));F(V)}}catch(L){console.error("Failed to fetch AI tools:",L)}})()},[]);const $=()=>{x(""),y("first_seen_date","DESC")},D=d!=="";return c.jsxs(ee,{sx:{width:"100%"},children:[c.jsxs(ee,{sx:{mb:{xs:2,sm:3}},children:[c.jsx(ae,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontSize:{xs:"1.75rem",sm:"2rem",md:"2.25rem"},fontWeight:600},children:t("gallery:page.title")}),c.jsx(ae,{variant:"body1",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:t("gallery:page.description")})]}),c.jsxs(Yt,{elevation:1,sx:{p:{xs:2,sm:3},mb:{xs:2,sm:3},borderRadius:2},children:[c.jsxs(fn,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:{xs:"stretch",sm:"center"},children:[c.jsxs(ee,{sx:{display:"flex",gap:2,flexWrap:"wrap",flex:1},children:[c.jsxs(ba,{size:"small",sx:{minWidth:150},children:[c.jsx(Ci,{children:t("gallery:filters.aiTool")}),c.jsxs(Ha,{value:d,label:t("gallery:filters.aiTool"),onChange:H=>x(H.target.value),children:[c.jsx(en,{value:"",children:t("gallery:filters.all")}),U.map(H=>H&&c.jsx(en,{value:H,children:H},H))]})]}),c.jsxs(ba,{size:"small",sx:{minWidth:120},children:[c.jsx(Ci,{children:t("gallery:filters.sortBy")}),c.jsxs(Ha,{value:l,label:t("gallery:filters.sortBy"),onChange:H=>M(H.target.value),children:[c.jsx(en,{value:"first_seen_date",children:t("gallery:sorting.uploadDate")}),c.jsx(en,{value:"file_size",children:t("gallery:sorting.fileSize")}),c.jsx(en,{value:"width",children:t("gallery:sorting.width")}),c.jsx(en,{value:"height",children:t("gallery:sorting.height")})]})]}),c.jsxs(ba,{size:"small",sx:{minWidth:100},children:[c.jsx(Ci,{children:t("gallery:filters.order")}),c.jsxs(Ha,{value:u,label:t("gallery:filters.order"),onChange:H=>N(H.target.value),children:[c.jsx(en,{value:"DESC",children:t("gallery:sorting.descending")}),c.jsx(en,{value:"ASC",children:t("gallery:sorting.ascending")})]})]})]}),c.jsxs(ee,{sx:{display:"flex",gap:1,alignItems:"center"},children:[D&&c.jsx(Ze,{variant:"outlined",size:"small",onClick:$,startIcon:c.jsx(MRe,{}),children:t("gallery:actions.clearFilters")}),c.jsx(Xt,{title:t("gallery:actions.refresh"),children:c.jsx("span",{children:c.jsx(ht,{onClick:_,disabled:n,children:c.jsx(vo,{})})})})]})]}),D&&c.jsx(ee,{sx:{mt:2,display:"flex",gap:1,flexWrap:"wrap"},children:d&&c.jsx(gt,{label:t("gallery:filters.aiToolLabel",{tool:d}),onDelete:()=>x(""),size:"small",variant:"outlined"})})]}),r&&c.jsx(ee,{sx:{mb:{xs:2,sm:3},p:2,bgcolor:"error.light",color:"error.contrastText",borderRadius:2},children:c.jsx(ae,{variant:"body2",children:r})}),c.jsx(B5,{images:e,loading:n,selectable:!0,selectedIds:C,onSelectionChange:j,pageSize:i,onPageSizeChange:m,currentPage:a,totalPages:s,total:o,onPageChange:h,onImageDelete:O}),c.jsx(YO,{selectedCount:k,selectedIds:C,selectedImages:e.filter(H=>H.id&&C.includes(H.id)),onSelectionClear:E,onActionComplete:z})]})},jFe=t=>{const e=bt.c(12),{searchText:n,onSearchTextChange:r,onKeyPress:a}=t;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={py:2},e[0]=i):i=e[0];let s,o;e[1]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex",alignItems:"center",gap:1,mb:2},o=c.jsx(ae,{variant:"body2",color:"text.secondary",children:"   ."}),e[1]=s,e[2]=o):(s=e[1],o=e[2]);let l;e[3]===Symbol.for("react.memo_cache_sentinel")?(l=c.jsxs(fn,{spacing:.5,children:[c.jsx(ae,{variant:"caption",children:"  :  ,  General/Character"}),c.jsx(ae,{variant:"caption",children:"  "}),c.jsx(ae,{variant:"caption",children:'   " " '})]}),e[3]=l):l=e[3];let u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u=c.jsxs(ee,{sx:s,children:[o,c.jsx(Xt,{title:l,arrow:!0,placement:"right",children:c.jsx(ht,{size:"small",sx:{p:.5},children:c.jsx(L1,{fontSize:"small"})})})]}),e[4]=u):u=e[4];let d;e[5]!==r?(d=y=>r(y.target.value),e[5]=r,e[6]=d):d=e[6];let h;e[7]===Symbol.for("react.memo_cache_sentinel")?(h={startAdornment:c.jsx(Wk,{position:"start",children:c.jsx(qf,{})})},e[7]=h):h=e[7];let m;return e[8]!==a||e[9]!==n||e[10]!==d?(m=c.jsxs(ee,{sx:i,children:[u,c.jsx(Lt,{fullWidth:!0,variant:"outlined",placeholder:"  (: girl, masterpiece, hatsune miku)",value:n,onChange:d,onKeyPress:a,InputProps:h})]}),e[8]=a,e[9]=n,e[10]=d,e[11]=m):m=e[11],m},OFe={exclude:{label:"",color:"#f44336",icon:VX,bgColor:"#ffebee",darkBgColor:"#5d1f1f"},or:{label:"OR",color:"#2196f3",icon:OO,bgColor:"#e3f2fd",darkBgColor:"#1a3a52"},and:{label:"AND",color:"#4caf50",icon:eQ,bgColor:"#e8f5e9",darkBgColor:"#1e4620"}},DFe={positive_prompt:" ",negative_prompt:" ",auto_tag:"",basic:""},NFe={prompt_contains:"",prompt_regex:"",negative_prompt_contains:"",negative_prompt_regex:"",auto_tag_exists:" ",auto_tag_has_character:" ",auto_tag_rating:"Rating ",auto_tag_rating_score:"Rating ",auto_tag_general:"General ",auto_tag_character:"Character ",auto_tag_model:"",ai_tool:"AI ",model_name:""},MFe=t=>{const e=bt.c(64),{groupType:n,condition:r,onRemove:a,onEdit:i}=t,s=OFe[n],o=s.icon;let l;e[0]!==r.category||e[1]!==r.max_score||e[2]!==r.min_score||e[3]!==r.rating_type||e[4]!==r.type||e[5]!==r.value?(l=(()=>{const me=DFe[r.category]||r.category,le=NFe[r.type]||r.type;let de=String(r.value);typeof r.value=="boolean"&&(de=r.value?"":""),r.type==="auto_tag_rating"&&r.rating_type&&(de=r.rating_type);let pe="";if(r.min_score!==void 0||r.max_score!==void 0){const ve=r.min_score??0,ge=r.max_score??1;pe=` (${ve.toFixed(2)} ~ ${ge.toFixed(2)})`}return{category:me,type:le,value:de,scoreRange:pe}})(),e[0]=r.category,e[1]=r.max_score,e[2]=r.min_score,e[3]=r.rating_type,e[4]=r.type,e[5]=r.value,e[6]=l):l=e[6];const{category:u,type:d,value:h,scoreRange:m}=l,y=`3px solid ${s.color}`;let x;e[7]===Symbol.for("react.memo_cache_sentinel")?(x={boxShadow:3,transform:"translateY(-1px)"},e[7]=x):x=e[7];let v;e[8]!==s.bgColor||e[9]!==s.darkBgColor?(v=he=>he.palette.mode==="dark"?s.darkBgColor:s.bgColor,e[8]=s.bgColor,e[9]=s.darkBgColor,e[10]=v):v=e[10];let _;e[11]!==y||e[12]!==v?(_={height:"100%",borderLeft:y,position:"relative",transition:"all 0.2s ease-in-out","&:hover":x,bgcolor:v},e[11]=y,e[12]=v,e[13]=_):_=e[13];let C;e[14]===Symbol.for("react.memo_cache_sentinel")?(C={p:1.5,"&:last-child":{pb:1.5}},e[14]=C):C=e[14];let w;e[15]===Symbol.for("react.memo_cache_sentinel")?(w={display:"flex",alignItems:"center",justifyContent:"space-between"},e[15]=w):w=e[15];let T;e[16]===Symbol.for("react.memo_cache_sentinel")?(T={fontSize:"0.875rem"},e[16]=T):T=e[16];let E;e[17]!==o?(E=c.jsx(o,{sx:T}),e[17]=o,e[18]=E):E=e[18];let k;e[19]===Symbol.for("react.memo_cache_sentinel")?(k={color:"white"},e[19]=k):k=e[19];let j;e[20]!==s.color?(j={bgcolor:s.color,color:"white",fontWeight:600,fontSize:"0.75rem",height:"24px","& .MuiChip-icon":k},e[20]=s.color,e[21]=j):j=e[21];let O;e[22]!==s.label||e[23]!==j||e[24]!==E?(O=c.jsx(gt,{icon:E,label:s.label,size:"small",sx:j}),e[22]=s.label,e[23]=j,e[24]=E,e[25]=O):O=e[25];let z;e[26]===Symbol.for("react.memo_cache_sentinel")?(z={display:"flex",gap:.5},e[26]=z):z=e[26];let M;e[27]===Symbol.for("react.memo_cache_sentinel")?(M={p:.5,color:"primary.main","&:hover":{bgcolor:"primary.light",color:"primary.dark"}},e[27]=M):M=e[27];let N;e[28]===Symbol.for("react.memo_cache_sentinel")?(N=c.jsx(yu,{sx:{fontSize:"1rem"}}),e[28]=N):N=e[28];let U;e[29]!==i?(U=c.jsx(ht,{size:"small",onClick:i,sx:M,children:N}),e[29]=i,e[30]=U):U=e[30];let F;e[31]===Symbol.for("react.memo_cache_sentinel")?(F={p:.5,color:"error.main","&:hover":{bgcolor:"error.light",color:"error.dark"}},e[31]=F):F=e[31];let $;e[32]===Symbol.for("react.memo_cache_sentinel")?($=c.jsx(kp,{sx:{fontSize:"1rem"}}),e[32]=$):$=e[32];let D;e[33]!==a?(D=c.jsx(ht,{size:"small",onClick:a,sx:F,children:$}),e[33]=a,e[34]=D):D=e[34];let H;e[35]!==U||e[36]!==D?(H=c.jsxs(ee,{sx:z,children:[U,D]}),e[35]=U,e[36]=D,e[37]=H):H=e[37];let L;e[38]!==O||e[39]!==H?(L=c.jsxs(ee,{sx:w,children:[O,H]}),e[38]=O,e[39]=H,e[40]=L):L=e[40];let V;e[41]===Symbol.for("react.memo_cache_sentinel")?(V={fontWeight:500,textTransform:"uppercase",fontSize:"0.65rem"},e[41]=V):V=e[41];let J;e[42]!==u?(J=c.jsx(ae,{variant:"caption",color:"text.secondary",sx:V,children:u}),e[42]=u,e[43]=J):J=e[43];let Q;e[44]===Symbol.for("react.memo_cache_sentinel")?(Q={fontWeight:600,fontSize:"0.813rem"},e[44]=Q):Q=e[44];let K;e[45]!==d?(K=c.jsx(ae,{variant:"body2",sx:Q,children:d}),e[45]=d,e[46]=K):K=e[46];let q;e[47]===Symbol.for("react.memo_cache_sentinel")?(q={bgcolor:PFe,borderRadius:1,p:.75},e[47]=q):q=e[47];let Z;e[48]===Symbol.for("react.memo_cache_sentinel")?(Z={wordBreak:"break-word",fontFamily:"monospace",fontSize:"0.75rem"},e[48]=Z):Z=e[48];let Y;e[49]!==h?(Y=c.jsx(ae,{variant:"body2",sx:Z,children:h}),e[49]=h,e[50]=Y):Y=e[50];let ne;e[51]!==m?(ne=m&&c.jsxs(ae,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.25,fontSize:"0.65rem"},children:[": ",m]}),e[51]=m,e[52]=ne):ne=e[52];let re;e[53]!==Y||e[54]!==ne?(re=c.jsxs(ee,{sx:q,children:[Y,ne]}),e[53]=Y,e[54]=ne,e[55]=re):re=e[55];let ie;e[56]!==L||e[57]!==J||e[58]!==K||e[59]!==re?(ie=c.jsx(Ra,{sx:C,children:c.jsxs(fn,{spacing:1,children:[L,J,K,re]})}),e[56]=L,e[57]=J,e[58]=K,e[59]=re,e[60]=ie):ie=e[60];let ce;return e[61]!==ie||e[62]!==_?(ce=c.jsx(fr,{sx:_,children:ie}),e[61]=ie,e[62]=_,e[63]=ce):ce=e[63],ce};function PFe(t){return t.palette.mode==="dark"?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)"}const LFe=t=>{const e={exclude:0,or:1,and:2};return[...t].sort((n,r)=>e[n.groupType]-e[r.groupType])},zFe=t=>{const e=bt.c(24),{blocks:n,onRemove:r,onEdit:a,onAdd:i}=t;let s,o,l,u;if(e[0]!==n||e[1]!==a||e[2]!==r){const _=LFe(n);o=ee,s=ee,e[7]===Symbol.for("react.memo_cache_sentinel")?(l={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(4, 1fr)",lg:"repeat(5, 1fr)",xl:"repeat(6, 1fr)"},gap:1.5},e[7]=l):l=e[7];let C;e[8]!==a||e[9]!==r?(C=w=>c.jsx(ee,{sx:{animation:"fadeIn 0.3s ease-in-out","@keyframes fadeIn":{from:{opacity:0,transform:"translateY(10px)"},to:{opacity:1,transform:"translateY(0)"}}},children:c.jsx(MFe,{id:w.id,groupType:w.groupType,condition:w.condition,onRemove:()=>r(w.id),onEdit:()=>a(w.id)})},w.id),e[8]=a,e[9]=r,e[10]=C):C=e[10],u=_.map(C),e[0]=n,e[1]=a,e[2]=r,e[3]=s,e[4]=o,e[5]=l,e[6]=u}else s=e[3],o=e[4],l=e[5],u=e[6];let d;e[11]===Symbol.for("react.memo_cache_sentinel")?(d={bgcolor:BFe,borderColor:"primary.dark",transform:"scale(1.02)"},e[11]=d):d=e[11];let h;e[12]===Symbol.for("react.memo_cache_sentinel")?(h={display:"flex",alignItems:"center",justifyContent:"center",minHeight:120,border:"2px dashed",borderColor:"primary.main",borderRadius:2,cursor:"pointer",transition:"all 0.2s ease-in-out",bgcolor:FFe,"&:hover":d,animation:"fadeIn 0.3s ease-in-out","@keyframes fadeIn":{from:{opacity:0,transform:"translateY(10px)"},to:{opacity:1,transform:"translateY(0)"}}},e[12]=h):h=e[12];let m;e[13]===Symbol.for("react.memo_cache_sentinel")?(m=c.jsx(ht,{color:"primary",sx:{width:56,height:56,bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark",transform:"rotate(90deg)"},transition:"all 0.3s ease-in-out"},children:c.jsx(Ws,{fontSize:"large"})}),e[13]=m):m=e[13];let y;e[14]!==i?(y=c.jsx(ee,{onClick:i,sx:h,children:m}),e[14]=i,e[15]=y):y=e[15];let x;e[16]!==s||e[17]!==l||e[18]!==u||e[19]!==y?(x=c.jsxs(s,{sx:l,children:[u,y]}),e[16]=s,e[17]=l,e[18]=u,e[19]=y,e[20]=x):x=e[20];let v;return e[21]!==o||e[22]!==x?(v=c.jsx(o,{children:x}),e[21]=o,e[22]=x,e[23]=v):v=e[23],v};function FFe(t){return t.palette.mode==="dark"?"rgba(33, 150, 243, 0.05)":"rgba(33, 150, 243, 0.02)"}function BFe(t){return t.palette.mode==="dark"?"rgba(33, 150, 243, 0.15)":"rgba(33, 150, 243, 0.08)"}const JT={exclude:{color:"#f44336","&.Mui-selected":{backgroundColor:"rgba(244, 67, 54, 0.12)",borderColor:"#f44336 !important",color:"#f44336",fontWeight:600,"&:hover":{backgroundColor:"rgba(244, 67, 54, 0.2)"}}},or:{color:"#2196f3","&.Mui-selected":{backgroundColor:"rgba(33, 150, 243, 0.12)",borderColor:"#2196f3 !important",color:"#2196f3",fontWeight:600,"&:hover":{backgroundColor:"rgba(33, 150, 243, 0.2)"}}},and:{color:"#4caf50","&.Mui-selected":{backgroundColor:"rgba(76, 175, 80, 0.12)",borderColor:"#4caf50 !important",color:"#4caf50",fontWeight:600,"&:hover":{backgroundColor:"rgba(76, 175, 80, 0.2)"}}}},xB={positive_prompt:[{value:"prompt_contains",label:""},{value:"prompt_regex",label:""}],negative_prompt:[{value:"negative_prompt_contains",label:""},{value:"negative_prompt_regex",label:""}],auto_tag:[{value:"auto_tag_exists",label:" "},{value:"auto_tag_has_character",label:" "},{value:"auto_tag_rating",label:"Rating "},{value:"auto_tag_rating_score",label:"Rating "},{value:"auto_tag_general",label:"General "},{value:"auto_tag_character",label:"Character "},{value:"auto_tag_model",label:""}],basic:[{value:"ai_tool",label:"AI "},{value:"model_name",label:""}]},HFe=t=>{const e=bt.c(71),{open:n,onClose:r,onAdd:a,initialData:i}=t,[s,o]=A.useState(null),[l,u]=A.useState(null),[d,h]=A.useState(""),[m,y]=A.useState(""),[x,v]=A.useState(0),[_,C]=A.useState(1),[w,T]=A.useState("general");let E,k;e[0]!==i||e[1]!==n?(E=()=>{n&&i&&(o(i.groupType),u(i.condition.category),h(i.condition.type),y(i.condition.value),v(i.condition.min_score??0),C(i.condition.max_score??1),T(i.condition.rating_type??"general"))},k=[n,i],e[0]=i,e[1]=n,e[2]=E,e[3]=k):(E=e[2],k=e[3]),A.useEffect(E,k);let j,O;e[4]!==i||e[5]!==l?(j=()=>{if(l&&!i){const Le=xB[l][0].value;h(Le),y(Le==="auto_tag_exists"||Le==="auto_tag_has_character"?!0:""),v(0),C(1),T("general")}},O=[l,i],e[4]=i,e[5]=l,e[6]=j,e[7]=O):(j=e[6],O=e[7]),A.useEffect(j,O);let z;e[8]!==r?(z=()=>{o(null),u(null),h(""),y(""),v(0),C(1),T("general"),r()},e[8]=r,e[9]=z):z=e[9];const M=z;let N;e[10]===Symbol.for("react.memo_cache_sentinel")?(N=(Le,Oe)=>{Oe!==null&&o(Oe)},e[10]=N):N=e[10];const U=N;let F;e[11]===Symbol.for("react.memo_cache_sentinel")?(F=(Le,Oe)=>{Oe!==null&&u(Oe)},e[11]=F):F=e[11];const $=F;let D;e[12]===Symbol.for("react.memo_cache_sentinel")?(D=Le=>{h(Le),y(Le==="auto_tag_exists"||Le==="auto_tag_has_character"||Le==="auto_tag_rating_score"?!0:"")},e[12]=D):D=e[12];const H=D;let L;e[13]!==d||e[14]!==m||e[15]!==M||e[16]!==_||e[17]!==x||e[18]!==a||e[19]!==w||e[20]!==l||e[21]!==s?(L=()=>{if(!s||!l||!d)return;const Le={category:l,type:d,value:m};d==="auto_tag_rating"?(Le.rating_type=w,Le.min_score=x,Le.max_score=_):(d==="auto_tag_general"||d==="auto_tag_character"||d==="auto_tag_rating_score")&&(Le.min_score=x,Le.max_score=_),a(s,Le),M()},e[13]=d,e[14]=m,e[15]=M,e[16]=_,e[17]=x,e[18]=a,e[19]=w,e[20]=l,e[21]=s,e[22]=L):L=e[22];const V=L;let J;e[23]!==d||e[24]!==m||e[25]!==l||e[26]!==s?(J=()=>!s||!l||!d?!1:d==="auto_tag_exists"||d==="auto_tag_has_character"||d==="auto_tag_rating_score"||d==="auto_tag_rating"?!0:typeof m=="string"?m.trim().length>0:!1,e[23]=d,e[24]=m,e[25]=l,e[26]=s,e[27]=J):J=e[27];const Q=J;let K;e[28]!==d||e[29]!==m||e[30]!==_||e[31]!==x||e[32]!==w||e[33]!==l?(K=()=>l?c.jsxs(ee,{children:[c.jsxs(ba,{fullWidth:!0,sx:{mb:2},children:[c.jsx(Ci,{children:" "}),c.jsx(Ha,{value:d,label:" ",onChange:Le=>H(Le.target.value),children:xB[l].map(UFe)})]}),(d==="auto_tag_exists"||d==="auto_tag_has_character")&&c.jsx(gr,{control:c.jsx(ii,{checked:!!m,onChange:Le=>y(Le.target.checked)}),label:m?"":""}),d==="auto_tag_rating"&&c.jsxs(c.Fragment,{children:[c.jsxs(ba,{fullWidth:!0,sx:{mb:2},children:[c.jsx(Ci,{children:"Rating "}),c.jsxs(Ha,{value:w,label:"Rating ",onChange:Le=>T(Le.target.value),children:[c.jsx(en,{value:"general",children:"General"}),c.jsx(en,{value:"sensitive",children:"Sensitive"}),c.jsx(en,{value:"questionable",children:"Questionable"}),c.jsx(en,{value:"explicit",children:"Explicit"})]})]}),c.jsxs(ee,{children:[c.jsxs(ae,{variant:"body2",gutterBottom:!0,children:[" : ",x.toFixed(2)," ~ ",_.toFixed(2)]}),c.jsx(Ba,{value:[x,_],onChange:(Le,Oe)=>{const[Xe,ke]=Oe;v(Xe),C(ke)},min:0,max:1,step:.05,valueLabelDisplay:"auto",marks:!0})]})]}),(d==="auto_tag_general"||d==="auto_tag_character")&&c.jsxs(c.Fragment,{children:[c.jsx(Lt,{fullWidth:!0,label:"/",value:m,onChange:Le=>y(Le.target.value),placeholder:": 1girl, hatsune_miku",sx:{mb:2}}),c.jsxs(ee,{children:[c.jsxs(ae,{variant:"body2",gutterBottom:!0,children:[" : ",x.toFixed(2)," ~ ",_.toFixed(2)]}),c.jsx(Ba,{value:[x,_],onChange:(Le,Oe)=>{const[Xe,ke]=Oe;v(Xe),C(ke)},min:0,max:1,step:.05,valueLabelDisplay:"auto",marks:!0})]})]}),d==="auto_tag_rating_score"&&c.jsxs(ee,{children:[c.jsxs(ae,{variant:"body2",gutterBottom:!0,children:[" : ",x.toFixed(2)," ~ ",_.toFixed(2)]}),c.jsx(Ba,{value:[x,_],onChange:(Le,Oe)=>{const[Xe,ke]=Oe;v(Xe),C(ke)},min:0,max:1,step:.05,valueLabelDisplay:"auto",marks:!0})]}),d!=="auto_tag_exists"&&d!=="auto_tag_has_character"&&d!=="auto_tag_rating"&&d!=="auto_tag_general"&&d!=="auto_tag_character"&&d!=="auto_tag_rating_score"&&c.jsx(Lt,{fullWidth:!0,label:"",value:m,onChange:Le=>y(Le.target.value),placeholder:"  "})]}):null,e[28]=d,e[29]=m,e[30]=_,e[31]=x,e[32]=w,e[33]=l,e[34]=K):K=e[34];const q=K,Z=i?" ":" ";let Y;e[35]!==Z?(Y=c.jsx(br,{children:c.jsx(ae,{variant:"h6",fontWeight:600,children:Z})}),e[35]=Z,e[36]=Y):Y=e[36];let ne,re;e[37]===Symbol.for("react.memo_cache_sentinel")?(ne={mb:3},re=c.jsx(ae,{variant:"subtitle2",gutterBottom:!0,fontWeight:500,children:" "}),e[37]=ne,e[38]=re):(ne=e[37],re=e[38]);let ie;e[39]===Symbol.for("react.memo_cache_sentinel")?(ie={mt:1},e[39]=ie):ie=e[39];let ce;e[40]===Symbol.for("react.memo_cache_sentinel")?(ce=c.jsxs(Am,{value:"exclude",sx:JT.exclude,children:[c.jsx(VX,{sx:{mr:.5,fontSize:"1.2rem"}}),""]}),e[40]=ce):ce=e[40];let he;e[41]===Symbol.for("react.memo_cache_sentinel")?(he=c.jsxs(Am,{value:"or",sx:JT.or,children:[c.jsx(OO,{sx:{mr:.5,fontSize:"1.2rem"}}),"OR"]}),e[41]=he):he=e[41];let me;e[42]===Symbol.for("react.memo_cache_sentinel")?(me=c.jsxs(Am,{value:"and",sx:JT.and,children:[c.jsx(eQ,{sx:{mr:.5,fontSize:"1.2rem"}}),"AND"]}),e[42]=me):me=e[42];let le;e[43]!==s?(le=c.jsxs(ee,{sx:ne,children:[re,c.jsxs(ERe,{value:s,exclusive:!0,onChange:U,fullWidth:!0,sx:ie,children:[ce,he,me]})]}),e[43]=s,e[44]=le):le=e[44];let de;e[45]!==l||e[46]!==s?(de=s&&c.jsxs(ee,{sx:{mb:3},children:[c.jsx(ae,{variant:"subtitle2",gutterBottom:!0,fontWeight:500,children:""}),c.jsxs(yn,{container:!0,spacing:1,sx:{mt:1},children:[c.jsx(yn,{size:{xs:6,sm:3},children:c.jsx(Am,{value:"positive_prompt",selected:l==="positive_prompt",onChange:$,fullWidth:!0,sx:{py:1.5},children:""})}),c.jsx(yn,{size:{xs:6,sm:3},children:c.jsx(Am,{value:"negative_prompt",selected:l==="negative_prompt",onChange:$,fullWidth:!0,sx:{py:1.5},children:""})}),c.jsx(yn,{size:{xs:6,sm:3},children:c.jsx(Am,{value:"auto_tag",selected:l==="auto_tag",onChange:$,fullWidth:!0,sx:{py:1.5},children:""})}),c.jsx(yn,{size:{xs:6,sm:3},children:c.jsx(Am,{value:"basic",selected:l==="basic",onChange:$,fullWidth:!0,sx:{py:1.5},children:""})})]})]}),e[45]=l,e[46]=s,e[47]=de):de=e[47];let pe;e[48]!==q||e[49]!==l?(pe=l&&c.jsxs(c.Fragment,{children:[c.jsx(bn,{sx:{my:3}}),c.jsxs(ee,{children:[c.jsx(ae,{variant:"subtitle2",gutterBottom:!0,fontWeight:500,sx:{mb:2},children:" "}),q()]})]}),e[48]=q,e[49]=l,e[50]=pe):pe=e[50];let ve;e[51]!==le||e[52]!==de||e[53]!==pe?(ve=c.jsxs(yr,{children:[le,de,pe]}),e[51]=le,e[52]=de,e[53]=pe,e[54]=ve):ve=e[54];let ge;e[55]===Symbol.for("react.memo_cache_sentinel")?(ge={px:3,pb:2},e[55]=ge):ge=e[55];let oe;e[56]!==M?(oe=c.jsx(Ze,{onClick:M,children:""}),e[56]=M,e[57]=oe):oe=e[57];const Se=!Q(),be=i?"":"";let Ae;e[58]!==V||e[59]!==Se||e[60]!==be?(Ae=c.jsx(Ze,{variant:"contained",onClick:V,disabled:Se,children:be}),e[58]=V,e[59]=Se,e[60]=be,e[61]=Ae):Ae=e[61];let Me;e[62]!==oe||e[63]!==Ae?(Me=c.jsxs(kr,{sx:ge,children:[oe,Ae]}),e[62]=oe,e[63]=Ae,e[64]=Me):Me=e[64];let Pe;return e[65]!==M||e[66]!==n||e[67]!==Y||e[68]!==ve||e[69]!==Me?(Pe=c.jsxs(hr,{open:n,onClose:M,maxWidth:"sm",fullWidth:!0,disableRestoreFocus:!0,children:[Y,ve,Me]}),e[65]=M,e[66]=n,e[67]=Y,e[68]=ve,e[69]=Me,e[70]=Pe):Pe=e[70],Pe};function UFe(t){return c.jsx(en,{value:t.value,children:t.label},t.value)}const MJ=t=>{const e=bt.c(26),{filterBlocks:n,onAddBlock:r,onRemoveBlock:a,onEditBlock:i,showHeader:s}=t,o=s===void 0?!1:s,[l,u]=A.useState(!1),[d,h]=A.useState(null),[m,y]=A.useState(null);let x;e[0]===Symbol.for("react.memo_cache_sentinel")?(x=()=>{h(null),y(null),u(!0)},e[0]=x):x=e[0];const v=x;let _;e[1]===Symbol.for("react.memo_cache_sentinel")?(_=()=>{u(!1),h(null),y(null)},e[1]=_):_=e[1];const C=_;let w;e[2]!==n?(w=$=>{const D=n.find(H=>H.id===$);D&&(h($),y(D),u(!0))},e[2]=n,e[3]=w):w=e[3];const T=w;let E;e[4]!==d||e[5]!==r||e[6]!==i?(E=($,D)=>{d?i(d,$,D):r($,D)},e[4]=d,e[5]=r,e[6]=i,e[7]=E):E=e[7];const k=E,j=$Fe;let O;e[8]===Symbol.for("react.memo_cache_sentinel")?(O={py:2},e[8]=O):O=e[8];let z;e[9]!==n.length||e[10]!==o?(z=o&&c.jsxs(ee,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2,p:1.5,backgroundColor:GFe,borderRadius:1,border:"1px solid",borderColor:qFe},children:[c.jsxs(ee,{children:[c.jsx(ae,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:"  "}),c.jsx(ae,{variant:"body2",color:"text.secondary",children:n.length>0?`${n.length}      :   OR  AND`:"    "})]}),c.jsx(Xt,{title:"  ",arrow:!0,children:c.jsx(ht,{onClick:j,size:"small",color:"primary",children:c.jsx(L1,{})})})]}),e[9]=n.length,e[10]=o,e[11]=z):z=e[11];let M;e[12]!==n||e[13]!==T||e[14]!==a?(M=c.jsx(zFe,{blocks:n,onRemove:a,onEdit:T,onAdd:v}),e[12]=n,e[13]=T,e[14]=a,e[15]=M):M=e[15];let N;e[16]!==m?(N=m?{groupType:m.groupType,condition:m.condition}:void 0,e[16]=m,e[17]=N):N=e[17];let U;e[18]!==k||e[19]!==l||e[20]!==N?(U=c.jsx(HFe,{open:l,onClose:C,onAdd:k,initialData:N}),e[18]=k,e[19]=l,e[20]=N,e[21]=U):U=e[21];let F;return e[22]!==U||e[23]!==z||e[24]!==M?(F=c.jsxs(ee,{sx:O,children:[z,M,U]}),e[22]=U,e[23]=z,e[24]=M,e[25]=F):F=e[25],F};function $Fe(){window.open("/help?page=filters#/help","_blank")}function GFe(t){return t.palette.mode==="dark"?"rgb(7, 19, 24)":"rgb(229, 246, 253)"}function qFe(t){return t.palette.mode==="dark","rgb(1, 67, 97)"}const vB=t=>{const e=bt.c(9),{children:n,value:r,index:a}=t,i=r!==a,s=`search-tabpanel-${a}`,o=`search-tab-${a}`;let l;e[0]!==n||e[1]!==a||e[2]!==r?(l=r===a&&c.jsx(ee,{children:n}),e[0]=n,e[1]=a,e[2]=r,e[3]=l):l=e[3];let u;return e[4]!==i||e[5]!==s||e[6]!==o||e[7]!==l?(u=c.jsx("div",{role:"tabpanel",hidden:i,id:s,"aria-labelledby":o,children:l}),e[4]=i,e[5]=s,e[6]=o,e[7]=l,e[8]=u):u=e[8],u},VFe=t=>{const e=bt.c(64),{onSearch:n,loading:r}=t,a=r===void 0?!1:r,[i,s]=A.useState(0),[o,l]=A.useState("");let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=[],e[0]=u):u=e[0];const[d,h]=A.useState(u),[m,y]=A.useState(null);let x;e[1]!==d?(x=(Se,be)=>{const Ae={id:`${Date.now()}-${Math.random()}`,groupType:Se,condition:be};h([...d,Ae])},e[1]=d,e[2]=x):x=e[2];const v=x;let _;e[3]!==d?(_=(Se,be,Ae)=>{h(d.map(Me=>Me.id===Se?{...Me,groupType:be,condition:Ae}:Me))},e[3]=d,e[4]=_):_=e[4];const C=_;let w;e[5]!==d?(w=Se=>{h(d.filter(be=>be.id!==Se))},e[5]=d,e[6]=w):w=e[6];const T=w,E=WFe;let k;e[7]!==i||e[8]!==d||e[9]!==n||e[10]!==o?(k=()=>{if(y(null),i===0){if(!o.trim()){y(" ");return}const Se={simple_search:{text:o.trim()},page:1,limit:25};n(Se)}else{if(d.length===0){y("   ");return}for(let Pe=0;Pe<d.length;Pe++){const Le=E(d[Pe].condition);if(Le){y(` ${Pe+1}: ${Le}`);return}}const Se=d.filter(YFe).map(KFe),be=d.filter(XFe).map(QFe),Ae=d.filter(ZFe).map(JFe),Me={complex_filter:{exclude_group:Se.length>0?Se:void 0,or_group:be.length>0?be:void 0,and_group:Ae.length>0?Ae:void 0},page:1,limit:25};n(Me)}},e[7]=i,e[8]=d,e[9]=n,e[10]=o,e[11]=k):k=e[11];const j=k;let O;e[12]!==i?(O=()=>{i===0?l(""):h([])},e[12]=i,e[13]=O):O=e[13];const z=O;let M;e[14]!==j?(M=Se=>{Se.key==="Enter"&&j()},e[14]=j,e[15]=M):M=e[15];const N=M;let U;e[16]!==i||e[17]!==d.length||e[18]!==o?(U=i===0?o.trim().length>0:d.length>0,e[16]=i,e[17]=d.length,e[18]=o,e[19]=U):U=e[19];const F=U;let $;e[20]===Symbol.for("react.memo_cache_sentinel")?($={p:3},e[20]=$):$=e[20];let D;e[21]!==m?(D=m&&c.jsx(ee,{sx:{mb:2,p:2,bgcolor:"error.light",color:"error.contrastText",borderRadius:1},children:c.jsx(ae,{variant:"body2",children:m})}),e[21]=m,e[22]=D):D=e[22];let H;e[23]===Symbol.for("react.memo_cache_sentinel")?(H=(Se,be)=>{s(be),y(null)},e[23]=H):H=e[23];let L,V,J;e[24]===Symbol.for("react.memo_cache_sentinel")?(L={borderBottom:1,borderColor:"divider",mb:2},V=c.jsx(Vn,{label:" ",id:"search-tab-0","aria-controls":"search-tabpanel-0"}),J=c.jsx(Vn,{label:" ",id:"search-tab-1","aria-controls":"search-tabpanel-1"}),e[24]=L,e[25]=V,e[26]=J):(L=e[24],V=e[25],J=e[26]);let Q;e[27]!==i?(Q=c.jsxs(nl,{value:i,onChange:H,"aria-label":"search tabs",sx:L,children:[V,J]}),e[27]=i,e[28]=Q):Q=e[28];let K;e[29]!==N||e[30]!==o?(K=c.jsx(jFe,{searchText:o,onSearchTextChange:l,onKeyPress:N}),e[29]=N,e[30]=o,e[31]=K):K=e[31];let q;e[32]!==i||e[33]!==K?(q=c.jsx(vB,{value:i,index:0,children:K}),e[32]=i,e[33]=K,e[34]=q):q=e[34];let Z;e[35]!==d||e[36]!==v||e[37]!==C||e[38]!==T?(Z=c.jsx(MJ,{filterBlocks:d,onAddBlock:v,onRemoveBlock:T,onEditBlock:C,showHeader:!0}),e[35]=d,e[36]=v,e[37]=C,e[38]=T,e[39]=Z):Z=e[39];let Y;e[40]!==i||e[41]!==Z?(Y=c.jsx(vB,{value:i,index:1,children:Z}),e[40]=i,e[41]=Z,e[42]=Y):Y=e[42];let ne;e[43]===Symbol.for("react.memo_cache_sentinel")?(ne={mt:3,alignItems:"center"},e[43]=ne):ne=e[43];let re;e[44]===Symbol.for("react.memo_cache_sentinel")?(re=c.jsx(qf,{}),e[44]=re):re=e[44];const ie=a||!F;let ce;e[45]===Symbol.for("react.memo_cache_sentinel")?(ce={py:1},e[45]=ce):ce=e[45];const he=a?" ...":"";let me;e[46]!==j||e[47]!==ie||e[48]!==he?(me=c.jsx(Ze,{variant:"contained",size:"medium",startIcon:re,onClick:j,disabled:ie,fullWidth:!0,sx:ce,children:he}),e[46]=j,e[47]=ie,e[48]=he,e[49]=me):me=e[49];const le=a||!F;let de,pe;e[50]===Symbol.for("react.memo_cache_sentinel")?(de={border:"1px solid",borderColor:"divider","&:hover":{backgroundColor:"action.hover"}},pe=c.jsx(Ey,{}),e[50]=de,e[51]=pe):(de=e[50],pe=e[51]);let ve;e[52]!==z||e[53]!==le?(ve=c.jsx(Xt,{title:"",arrow:!0,children:c.jsx("span",{children:c.jsx(ht,{onClick:z,disabled:le,color:"default",sx:de,children:pe})})}),e[52]=z,e[53]=le,e[54]=ve):ve=e[54];let ge;e[55]!==me||e[56]!==ve?(ge=c.jsxs(fn,{direction:"row",spacing:2,sx:ne,children:[me,ve]}),e[55]=me,e[56]=ve,e[57]=ge):ge=e[57];let oe;return e[58]!==D||e[59]!==Q||e[60]!==q||e[61]!==Y||e[62]!==ge?(oe=c.jsxs(Yt,{elevation:2,sx:$,children:[D,Q,q,Y,ge]}),e[58]=D,e[59]=Q,e[60]=q,e[61]=Y,e[62]=ge,e[63]=oe):oe=e[63],oe};function WFe(t){if(t.type==="auto_tag_exists"||t.type==="auto_tag_has_character"){if(typeof t.value!="boolean")return"  / "}else if(t.type==="auto_tag_general"||t.type==="auto_tag_character"||t.type==="prompt_contains"||t.type==="prompt_regex"||t.type==="negative_prompt_contains"||t.type==="negative_prompt_regex"||t.type==="ai_tool"||t.type==="model_name"||t.type==="auto_tag_model"){if(!t.value||typeof t.value=="string"&&t.value.trim()==="")return"  "}else if((t.type==="auto_tag_rating"||t.type==="auto_tag_rating_score")&&t.min_score===void 0&&t.max_score===void 0)return"     ";return null}function YFe(t){return t.groupType==="exclude"}function KFe(t){return t.condition}function XFe(t){return t.groupType==="or"}function QFe(t){return t.condition}function ZFe(t){return t.groupType==="and"}function JFe(t){return t.condition}const eBe=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!1),[a,i]=A.useState(null),[s,o]=A.useState(1),[l,u]=A.useState(25),[d,h]=A.useState(0),[m,y]=A.useState(0),[x,v]=A.useState(null),[_,C]=A.useState(null),[w,T]=A.useState(null),[E,k]=A.useState([]),j=A.useCallback(async($,D)=>{r(!0),i(null);const H={...$,page:$.page||1,limit:$.limit||l};try{let L;if(D){const V={...D,page:H.page,limit:H.limit};L=await ya.searchByAutoTags(V),C(V)}else L=await ya.searchImages(H),C(null);L.success&&L.data?(e(L.data.images),h(L.data.totalPages),y(L.data.total),o(L.data.page),v(H)):(i(L.error||" ."),e([]),y(0),h(0))}catch(L){i("   ."),e([]),y(0),h(0),console.error("Search error:",L)}finally{r(!1)}},[l]),O=A.useCallback(async $=>{r(!0),i(null);const D={...$,page:$.page||1,limit:$.limit||l};try{const[H,L]=await Promise.all([ya.searchComplex(D),ya.searchComplexIds(D)]);H.success&&H.data?(e(H.data.images),h(H.data.totalPages),y(H.data.total),o(H.data.page),T(D),v(null),C(null),L.success&&L.data&&k(L.data.composite_hashes)):(i(H.error||" ."),e([]),y(0),h(0),k([]))}catch(H){const L=H.response?.data?.error||H.message||"   .";i(L),e([]),y(0),h(0),k([]),console.error("Complex search error:",{message:H.message,response:H.response?.data,request:D})}finally{r(!1)}},[l]),z=A.useCallback($=>{if(w){const D={...w,page:$};O(D)}else if(x){const D={...x,page:$};j(D,_||void 0)}},[w,x,_,O,j]),M=A.useCallback($=>{if(u($),w){const D={...w,page:1,limit:$};O(D)}else if(x){const D={...x,page:1,limit:$};j(D,_||void 0)}localStorage.setItem("searchPageSize",$.toString())},[w,x,_,O,j]),N=A.useCallback(async $=>{r(!0);try{await ya.deleteImages($),w?await O(w):x&&await j(x,_||void 0)}catch(D){i("  ."),console.error("Error deleting images:",D)}finally{r(!1)}},[w,x,_,O,j]),U=A.useCallback(()=>{w?O(w):x&&j(x,_||void 0)},[w,x,_,O,j]),F=A.useCallback(()=>{e([]),y(0),h(0),o(1),v(null),C(null),T(null),i(null)},[]);return je.useEffect(()=>{const $=localStorage.getItem("searchPageSize");if($){const D=parseInt($);[25,50,100].includes(D)&&u(D)}},[]),{images:t,loading:n,error:a,currentPage:s,pageSize:l,totalPages:d,total:m,lastSearchParams:x,lastComplexRequest:w,allResultIds:E,searchImages:j,searchComplex:O,changePage:z,changePageSize:M,deleteImages:N,refreshSearch:U,clearSearch:F}},tBe=()=>{const t=bt.c(77);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=["search","common"],t[0]=e):e=t[0];const{t:n}=qt(e),{images:r,loading:a,error:i,currentPage:s,pageSize:o,totalPages:l,total:u,lastSearchParams:d,lastComplexRequest:h,searchComplex:m,changePage:y,changePageSize:x,deleteImages:v,refreshSearch:_,clearSearch:C}=eBe(),{selectedIds:w,toggleSelection:T,selectAll:E,deselectAll:k,selectedCount:j}=NJ();let O;t[1]!==k||t[2]!==m?(O=ve=>{k(),m(ve)},t[1]=k,t[2]=m,t[3]=O):O=t[3];const z=O;let M;t[4]!==k||t[5]!==r.length||t[6]!==E||t[7]!==w||t[8]!==T?(M=ve=>{if(ve.length===0)k();else if(ve.length===r.length)E(ve);else{const ge=ve.find(Se=>!w.includes(Se)),oe=w.find(Se=>!ve.includes(Se));ge?T(ge):oe&&T(oe)}},t[4]=k,t[5]=r.length,t[6]=E,t[7]=w,t[8]=T,t[9]=M):M=t[9];const N=M;let U;t[10]!==v||t[11]!==r||t[12]!==w||t[13]!==T?(U=async ve=>{await v([ve]);const ge=r.find(oe=>oe.composite_hash===ve);ge?.id&&w.includes(ge.id)&&T(ge.id)},t[10]=v,t[11]=r,t[12]=w,t[13]=T,t[14]=U):U=t[14];const F=U;let $;t[15]!==k||t[16]!==_?($=()=>{k(),_()},t[15]=k,t[16]=_,t[17]=$):$=t[17];const D=$,H=d!==null||h!==null,L=r.length>0;let V;t[18]===Symbol.for("react.memo_cache_sentinel")?(V={width:"100%"},t[18]=V):V=t[18];let J;t[19]===Symbol.for("react.memo_cache_sentinel")?(J={mb:{xs:2,sm:3}},t[19]=J):J=t[19];let Q;t[20]===Symbol.for("react.memo_cache_sentinel")?(Q={fontSize:{xs:"1.75rem",sm:"2rem",md:"2.25rem"},fontWeight:600},t[20]=Q):Q=t[20];let K;t[21]!==n?(K=n("search:title"),t[21]=n,t[22]=K):K=t[22];let q;t[23]!==K?(q=c.jsx(ae,{variant:"h4",component:"h1",gutterBottom:!0,sx:Q,children:K}),t[23]=K,t[24]=q):q=t[24];let Z;t[25]===Symbol.for("react.memo_cache_sentinel")?(Z={fontSize:{xs:"0.875rem",sm:"1rem"}},t[25]=Z):Z=t[25];let Y;t[26]!==n?(Y=n("search:description"),t[26]=n,t[27]=Y):Y=t[27];let ne;t[28]!==Y?(ne=c.jsx(ae,{variant:"body1",color:"text.secondary",sx:Z,children:Y}),t[28]=Y,t[29]=ne):ne=t[29];let re;t[30]!==ne||t[31]!==q?(re=c.jsxs(ee,{sx:J,children:[q,ne]}),t[30]=ne,t[31]=q,t[32]=re):re=t[32];let ie;t[33]===Symbol.for("react.memo_cache_sentinel")?(ie={mb:{xs:2,sm:3}},t[33]=ie):ie=t[33];let ce;t[34]!==z||t[35]!==a?(ce=c.jsx(ee,{sx:ie,children:c.jsx(VFe,{onSearch:z,loading:a})}),t[34]=z,t[35]=a,t[36]=ce):ce=t[36];let he;t[37]!==C||t[38]!==L||t[39]!==H||t[40]!==a||t[41]!==_||t[42]!==n||t[43]!==u?(he=H&&c.jsx(ee,{sx:{mb:{xs:2,sm:3}},children:c.jsxs(fn,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"stretch",sm:"center"},spacing:2,children:[c.jsxs(ee,{children:[c.jsx(ae,{variant:"h6",children:n("search:results.title")}),c.jsx(ae,{variant:"body2",color:"text.secondary",children:a?n("search:results.searching"):n("search:results.found",{count:u})})]}),c.jsxs(ee,{sx:{display:"flex",gap:1},children:[c.jsx(Ze,{variant:"outlined",size:"small",onClick:C,startIcon:c.jsx(Ey,{}),children:n("search:results.reset")}),L&&c.jsx(Ze,{variant:"outlined",size:"small",onClick:_,disabled:a,startIcon:c.jsx(vo,{}),children:n("search:results.refresh")})]})]})}),t[37]=C,t[38]=L,t[39]=H,t[40]=a,t[41]=_,t[42]=n,t[43]=u,t[44]=he):he=t[44];let me;t[45]!==i?(me=i&&c.jsx(wt,{severity:"error",sx:{mb:{xs:2,sm:3},borderRadius:2},children:i}),t[45]=i,t[46]=me):me=t[46];let le;t[47]!==y||t[48]!==x||t[49]!==s||t[50]!==F||t[51]!==N||t[52]!==L||t[53]!==H||t[54]!==r||t[55]!==d||t[56]!==a||t[57]!==o||t[58]!==w||t[59]!==n||t[60]!==u||t[61]!==l?(le=H?L?c.jsx(B5,{images:r,loading:a,selectable:!0,selectedIds:w,onSelectionChange:N,pageSize:o,onPageSizeChange:x,currentPage:s,totalPages:l,total:u,onPageChange:y,onImageDelete:F,searchParams:d||void 0}):a?null:c.jsxs(ee,{sx:{textAlign:"center",py:8},children:[c.jsx(ae,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:n("search:results.noResults")}),c.jsx(ae,{variant:"body2",color:"text.secondary",children:n("search:results.noResultsHint")})]}):c.jsxs(ee,{sx:{textAlign:"center",py:8},children:[c.jsx(ae,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:n("search:results.initialMessage")}),c.jsx(ae,{variant:"body2",color:"text.secondary",children:n("search:results.initialHint")})]}),t[47]=y,t[48]=x,t[49]=s,t[50]=F,t[51]=N,t[52]=L,t[53]=H,t[54]=r,t[55]=d,t[56]=a,t[57]=o,t[58]=w,t[59]=n,t[60]=u,t[61]=l,t[62]=le):le=t[62];let de;t[63]!==k||t[64]!==D||t[65]!==L||t[66]!==r||t[67]!==j||t[68]!==w?(de=L&&c.jsx(YO,{selectedCount:j,selectedIds:w,selectedImages:r.filter(ve=>ve.id&&w.includes(ve.id)),onSelectionClear:k,onActionComplete:D}),t[63]=k,t[64]=D,t[65]=L,t[66]=r,t[67]=j,t[68]=w,t[69]=de):de=t[69];let pe;return t[70]!==re||t[71]!==ce||t[72]!==he||t[73]!==me||t[74]!==le||t[75]!==de?(pe=c.jsxs(ee,{sx:V,children:[re,ce,he,me,le,de]}),t[70]=re,t[71]=ce,t[72]=he,t[73]=me,t[74]=le,t[75]=de,t[76]=pe):pe=t[76],pe},nBe=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],rBe=t=>{const e=bt.c(55),{formData:n,onFormChange:r,availableParents:a,currentGroupId:i,isEditMode:s}=t;let o;e[0]!==a?(o=a===void 0?[]:a,e[0]=a,e[1]=o):o=e[1];const l=o,u=s===void 0?!1:s;let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=["imageGroups"],e[2]=d):d=e[2];const{t:h}=qt(d);let m;e[3]!==h?(m=h("imageGroups:modal.groupName"),e[3]=h,e[4]=m):m=e[4];let y;e[5]!==r?(y=V=>r("name",V.target.value),e[5]=r,e[6]=y):y=e[6];let x;e[7]===Symbol.for("react.memo_cache_sentinel")?(x={mb:2},e[7]=x):x=e[7];let v;e[8]!==n.name||e[9]!==m||e[10]!==y?(v=c.jsx(Lt,{label:m,fullWidth:!0,required:!0,value:n.name,onChange:y,sx:x,autoFocus:!0}),e[8]=n.name,e[9]=m,e[10]=y,e[11]=v):v=e[11];let _;e[12]!==h?(_=h("imageGroups:modal.description"),e[12]=h,e[13]=_):_=e[13];let C;e[14]!==r?(C=V=>r("description",V.target.value),e[14]=r,e[15]=C):C=e[15];let w;e[16]===Symbol.for("react.memo_cache_sentinel")?(w={mb:2},e[16]=w):w=e[16];let T;e[17]!==n.description||e[18]!==C||e[19]!==_?(T=c.jsx(Lt,{label:_,fullWidth:!0,multiline:!0,rows:3,value:n.description,onChange:C,sx:w}),e[17]=n.description,e[18]=C,e[19]=_,e[20]=T):T=e[20];const E=n.parent_id;let k;e[21]!==r?(k=V=>r("parent_id",V),e[21]=r,e[22]=k):k=e[22];let j;e[23]!==i||e[24]!==u?(j=u&&i?[i]:[],e[23]=i,e[24]=u,e[25]=j):j=e[25];let O;e[26]!==h?(O=h("imageGroups:modal.parentGroup"),e[26]=h,e[27]=O):O=e[27];let z;e[28]!==h?(z=h("imageGroups:modal.noParent"),e[28]=h,e[29]=z):z=e[29];let M;e[30]!==l||e[31]!==n.parent_id||e[32]!==k||e[33]!==j||e[34]!==O||e[35]!==z?(M=c.jsx(SNe,{groups:l,selectedParentId:E,onParentChange:k,excludeIds:j,label:O,noParentLabel:z}),e[30]=l,e[31]=n.parent_id,e[32]=k,e[33]=j,e[34]=O,e[35]=z,e[36]=M):M=e[36];let N;e[37]!==h?(N=h("imageGroups:modal.groupColor"),e[37]=h,e[38]=N):N=e[38];let U;e[39]!==N?(U=c.jsx(ae,{variant:"subtitle2",gutterBottom:!0,children:N}),e[39]=N,e[40]=U):U=e[40];let F;e[41]===Symbol.for("react.memo_cache_sentinel")?(F={display:"flex",flexWrap:"wrap",gap:1,mt:1},e[41]=F):F=e[41];let $;e[42]!==n.color||e[43]!==r?($=nBe.map(V=>c.jsx(ee,{sx:{width:40,height:40,backgroundColor:V,borderRadius:"50%",cursor:"pointer",border:n.color===V?"3px solid #000":"2px solid #e0e0e0",transition:"all 0.2s","&:hover":{transform:"scale(1.15)",boxShadow:2}},onClick:()=>r("color",V),role:"button","aria-label":`Select color ${V}`,tabIndex:0,onKeyDown:J=>{(J.key==="Enter"||J.key===" ")&&r("color",V)}},V)),e[42]=n.color,e[43]=r,e[44]=$):$=e[44];let D;e[45]!==$?(D=c.jsx(ee,{sx:F,children:$}),e[45]=$,e[46]=D):D=e[46];let H;e[47]!==U||e[48]!==D?(H=c.jsxs(ee,{children:[U,D]}),e[47]=U,e[48]=D,e[49]=H):H=e[49];let L;return e[50]!==T||e[51]!==M||e[52]!==H||e[53]!==v?(L=c.jsxs(ee,{children:[v,T,M,H]}),e[50]=T,e[51]=M,e[52]=H,e[53]=v,e[54]=L):L=e[54],L},aBe=({enabled:t,conditions:e,onEnabledChange:n,onConditionsChange:r})=>{const{t:a}=qt(["imageGroups"]),[i,s]=A.useState(()=>{const m=[];let y=0;return e.exclude_group&&e.exclude_group.forEach(x=>{m.push({id:`exclude-${y++}`,groupType:"exclude",condition:x})}),e.or_group&&e.or_group.forEach(x=>{m.push({id:`or-${y++}`,groupType:"or",condition:x})}),e.and_group&&e.and_group.forEach(x=>{m.push({id:`and-${y++}`,groupType:"and",condition:x})}),m});je.useEffect(()=>{const m=i.filter(_=>_.groupType==="exclude").map(_=>_.condition),y=i.filter(_=>_.groupType==="or").map(_=>_.condition),x=i.filter(_=>_.groupType==="and").map(_=>_.condition),v={exclude_group:m.length>0?m:void 0,or_group:y.length>0?y:void 0,and_group:x.length>0?x:void 0};r(v)},[i]);const o=(m,y)=>{const x={id:`${m}-${Date.now()}-${Math.random()}`,groupType:m,condition:y};s([...i,x])},l=(m,y,x)=>{s(i.map(v=>v.id===m?{...v,groupType:y,condition:x}:v))},u=m=>{s(i.filter(y=>y.id!==m))},d=()=>{window.open("/help?page=filters#/help","_blank")},h=t?(e.exclude_group?.length||0)+(e.or_group?.length||0)+(e.and_group?.length||0):0;return c.jsxs(ee,{children:[c.jsxs(ee,{sx:{mb:3},children:[c.jsx(gr,{control:c.jsx(ii,{checked:t,onChange:m=>n(m.target.checked),color:"primary"}),label:c.jsx(ae,{variant:"subtitle1",fontWeight:500,children:a("imageGroups:modal.autoCollectEnable")})}),c.jsx(ae,{variant:"body2",color:"text.secondary",sx:{mt:1,ml:4},children:a("imageGroups:modal.autoCollectDescription")})]}),t&&c.jsxs(ee,{children:[c.jsxs(ee,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2,p:1.5,backgroundColor:m=>m.palette.mode==="dark"?"rgb(7, 19, 24)":"rgb(229, 246, 253)",borderRadius:1,border:"1px solid",borderColor:m=>(m.palette.mode==="dark","rgb(1, 67, 97)")},children:[c.jsx(ae,{variant:"body2",color:"text.secondary",children:h>0?`${h}  .  :   OR  AND`:"    "}),c.jsx(Xt,{title:"  ",arrow:!0,children:c.jsx(ht,{onClick:d,size:"small",color:"primary",children:c.jsx(L1,{fontSize:"small"})})})]}),c.jsx(MJ,{filterBlocks:i,onAddBlock:o,onRemoveBlock:u,onEditBlock:l})]}),!t&&c.jsx(ee,{sx:{border:"1px solid",borderColor:"divider",borderRadius:2,p:3,textAlign:"center",backgroundColor:m=>m.palette.mode==="dark"?"background.paper":"grey.50"},children:c.jsx(ae,{variant:"body2",color:"text.secondary",children:"           ."})})]})},SB=t=>{const e=bt.c(9),{children:n,value:r,index:a}=t,i=r!==a,s=`group-tabpanel-${a}`,o=`group-tab-${a}`;let l;e[0]!==n||e[1]!==a||e[2]!==r?(l=r===a&&c.jsx(ee,{sx:{py:2},children:n}),e[0]=n,e[1]=a,e[2]=r,e[3]=l):l=e[3];let u;return e[4]!==i||e[5]!==s||e[6]!==o||e[7]!==l?(u=c.jsx("div",{role:"tabpanel",hidden:i,id:s,"aria-labelledby":o,children:l}),e[4]=i,e[5]=s,e[6]=o,e[7]=l,e[8]=u):u=e[8],u},_B=({open:t,onClose:e,onSuccess:n,group:r})=>{const{t:a}=qt(["imageGroups","common"]),[i,s]=A.useState(0),[o,l]=A.useState({name:"",description:"",color:"#2196f3",parent_id:null,auto_collect_enabled:!1}),[u,d]=A.useState({}),[h,m]=A.useState(null),y=!!r,{data:x=[]}=RZ(),v=ANe(),_=kNe();A.useEffect(()=>{if(r)if(l({name:r.name,description:r.description||"",color:r.color||"#2196f3",parent_id:r.parent_id||null,auto_collect_enabled:!!r.auto_collect_enabled}),r.auto_collect_conditions)try{const k=JSON.parse(r.auto_collect_conditions);k&&typeof k=="object"&&("exclude_group"in k||"or_group"in k||"and_group"in k)?d(k):Array.isArray(k)?d({}):d({})}catch{d({})}else d({});else l({name:"",description:"",color:"#2196f3",parent_id:null,auto_collect_enabled:!1}),d({});m(null),s(0)},[r,t]);const C=(k,j)=>{l(O=>({...O,[k]:j}))},w=k=>{d(k)},T=()=>o.name.trim()?o.auto_collect_enabled&&!(u&&typeof u=="object"&&!Array.isArray(u)?(u.exclude_group?.length||0)+(u.or_group?.length||0)+(u.and_group?.length||0)>0:u.length>0)?(m(a("imageGroups:validation.conditionRequired")),!1):!0:(m(a("imageGroups:validation.nameRequired")),!1),E=async()=>{if(T()){m(null);try{const j=u&&typeof u=="object"&&!Array.isArray(u)?(u.exclude_group?.length||0)+(u.or_group?.length||0)+(u.and_group?.length||0)>0:u.length>0,O={name:o.name.trim(),description:o.description.trim()||void 0,color:o.color,parent_id:o.parent_id||void 0,auto_collect_enabled:o.auto_collect_enabled,auto_collect_conditions:o.auto_collect_enabled&&j?u:void 0};y?await _.mutateAsync({id:r.id,data:O}):await v.mutateAsync(O),n()}catch(k){console.error("Error saving group:",k),m(a(`imageGroups:messages.${y?"updateFailed":"createFailed"}`))}}};return c.jsxs(hr,{open:t,onClose:e,maxWidth:"md",fullWidth:!0,children:[c.jsx(br,{children:a(y?"imageGroups:modal.editTitle":"imageGroups:modal.createTitle")}),c.jsxs(yr,{dividers:!0,children:[h&&c.jsx(wt,{severity:"error",sx:{mb:2},children:h}),c.jsxs(nl,{value:i,onChange:(k,j)=>s(j),"aria-label":"group editor tabs",sx:{borderBottom:1,borderColor:"divider",mb:2},children:[c.jsx(Vn,{label:a("imageGroups:tabs.basicInfo"),id:"group-tab-0","aria-controls":"group-tabpanel-0"}),c.jsx(Vn,{label:a("imageGroups:tabs.autoCollect"),id:"group-tab-1","aria-controls":"group-tabpanel-1"})]}),c.jsx(SB,{value:i,index:0,children:c.jsx(rBe,{formData:o,onFormChange:C,availableParents:x,currentGroupId:r?.id,isEditMode:y})}),c.jsx(SB,{value:i,index:1,children:c.jsx(aBe,{enabled:o.auto_collect_enabled,conditions:u,onEnabledChange:k=>C("auto_collect_enabled",k),onConditionsChange:w})})]}),c.jsxs(kr,{children:[c.jsx(Ze,{onClick:e,disabled:v.isPending||_.isPending,children:a("imageGroups:modal.buttonCancel")}),c.jsx(Ze,{onClick:E,variant:"contained",disabled:v.isPending||_.isPending,startIcon:v.isPending||_.isPending?c.jsx(Kt,{size:20}):null,children:a(y?"imageGroups:modal.buttonUpdate":"imageGroups:modal.buttonCreate")})]})]})},PJ=t=>{const e=bt.c(211),{open:n,onClose:r,images:a,loading:i,currentGroup:s,pageSize:o,onPageSizeChange:l,currentPage:u,totalPages:d,total:h,onPageChange:m,readOnly:y,onImagesRemoved:x,onImagesAssigned:v}=t,_=i===void 0?!1:i,C=o===void 0?25:o,w=u===void 0?1:u,T=d===void 0?1:d,E=h===void 0?0:h,k=y===void 0?!1:y;let j;e[0]===Symbol.for("react.memo_cache_sentinel")?(j=["imageGroups","common"],e[0]=j):j=e[0];const{t:O}=qt(j);let z;e[1]===Symbol.for("react.memo_cache_sentinel")?(z=[],e[1]=z):z=e[1];const[M,N]=A.useState(z),[U,F]=A.useState(!1),[$,D]=A.useState(!1),[H,L]=A.useState(null),[V,J]=A.useState("all"),[Q,K]=A.useState(!1),[q,Z]=A.useState(null),[Y,ne]=A.useState(null),[re,ie]=A.useState(!1);let ce,he;e[2]!==n?(he=()=>{n&&N([])},ce=[n],e[2]=n,e[3]=ce,e[4]=he):(ce=e[3],he=e[4]),A.useEffect(he,ce);let me;e[5]===Symbol.for("react.memo_cache_sentinel")?(me=()=>{N([])},e[5]=me):me=e[5];let le;e[6]!==w?(le=[w],e[6]=w,e[7]=le):le=e[7],A.useEffect(me,le);let de;e[8]===Symbol.for("react.memo_cache_sentinel")?(de=()=>{N([])},e[8]=de):de=e[8];const pe=s?.id;let ve;e[9]!==pe?(ve=[pe],e[9]=pe,e[10]=ve):ve=e[10],A.useEffect(de,ve);let ge;e[11]!==M?(ge=Dn=>Dn.id&&M.includes(Dn.id),e[11]=M,e[12]=ge):ge=e[12];const oe=a.filter(ge);let Se;e[13]!==s?.id?(Se=Dn=>Dn.groups?.find($i=>$i.id===s?.id)?.collection_type==="manual",e[13]=s?.id,e[14]=Se):Se=e[14];const be=oe.some(Se);let Ae;e[15]!==s?.id?(Ae=Dn=>Dn.groups?.find($i=>$i.id===s?.id)?.collection_type==="auto",e[15]=s?.id,e[16]=Ae):Ae=e[16];const Me=oe.some(Ae),Pe=be&&!Me&&M.length>0,Le=M.length>0;let Oe;e[17]===Symbol.for("react.memo_cache_sentinel")?(Oe=()=>{D(!0)},e[17]=Oe):Oe=e[17];const Xe=Oe,ke=()=>{if(D(!1),x){const Dn=oe.filter(Da=>Da.groups?.find(Hl=>Hl.id===s?.id)?.collection_type==="manual").map(iBe).filter(sBe);x(Dn)}N([])};let Ie;e[18]===Symbol.for("react.memo_cache_sentinel")?(Ie=()=>{F(!0)},e[18]=Ie):Ie=e[18];const ye=Ie,Ce=async Dn=>{if(v){const Da=oe.map(oBe).filter(lBe);v(Dn,Da),N([])}};let Ne;e[19]!==s||e[20]!==n?(Ne=()=>{n&&s?.id&&(ie(!0),si.getFileCountsByType(s.id).then(Dn=>{Dn.success&&Dn.data&&ne(Dn.data)}).catch(cBe).finally(()=>ie(!1)))},e[19]=s,e[20]=n,e[21]=Ne):Ne=e[21];const Be=s?.id;let Ke;e[22]!==n||e[23]!==Be?(Ke=[n,Be],e[22]=n,e[23]=Be,e[24]=Ke):Ke=e[24],A.useEffect(Ne,Ke);let Je;e[25]===Symbol.for("react.memo_cache_sentinel")?(Je=Dn=>{L(Dn.currentTarget)},e[25]=Je):Je=e[25];const Ge=Je;let it;e[26]===Symbol.for("react.memo_cache_sentinel")?(it=()=>{L(null)},e[26]=it):it=e[26];const ct=it,nt=(Dn,Da)=>{if(ct(),!s?.id)return;(Da==="all"?Y?.[Dn]||0:M.length)>=100?(Z(Dn),J(Da),K(!0)):dt(Dn,Da)},dt=(Dn,Da)=>{if(!s?.id)return;let $i;Da==="selected"&&M.length>0&&($i=oe.map(uBe).filter(dBe));const Hl=si.getDownloadUrl(s.id,Dn,$i);window.open(Hl,"_blank")},$t=()=>{q&&dt(q,V),K(!1),Z(null)},Wt=()=>M.length===0?null:be&&Me?c.jsx(wt,{severity:"info",sx:{mb:2},children:O("imageGroups:imageModal.infoMixedSelection")}):Me&&!be?c.jsx(wt,{severity:"warning",sx:{mb:2},children:O("imageGroups:imageModal.warningAutoOnly")}):null;let sn;e[27]===Symbol.for("react.memo_cache_sentinel")?(sn={sx:{height:"90vh",maxHeight:"90vh"}},e[27]=sn):sn=e[27];let xn;e[28]===Symbol.for("react.memo_cache_sentinel")?(xn={display:"flex",justifyContent:"space-between",alignItems:"center"},e[28]=xn):xn=e[28];const In=s?.name;let Gt;e[29]!==O||e[30]!==In||e[31]!==E?(Gt=O("imageGroups:imageModal.title",{name:In,count:E}),e[29]=O,e[30]=In,e[31]=E,e[32]=Gt):Gt=e[32];let xt;e[33]!==Gt?(xt=c.jsx(ae,{variant:"h6",children:Gt}),e[33]=Gt,e[34]=xt):xt=e[34];let Zt;e[35]===Symbol.for("react.memo_cache_sentinel")?(Zt={display:"flex",gap:1},e[35]=Zt):Zt=e[35];const Cn=re||E===0;let jn;e[36]===Symbol.for("react.memo_cache_sentinel")?(jn={color:fBe},e[36]=jn):jn=e[36];let Ut;e[37]!==re?(Ut=re?c.jsx(Kt,{size:24}):c.jsx(Zv,{}),e[37]=re,e[38]=Ut):Ut=e[38];let Tn;e[39]!==Cn||e[40]!==Ut?(Tn=c.jsx(ht,{"aria-label":"download",onClick:Ge,disabled:Cn,sx:jn,children:Ut}),e[39]=Cn,e[40]=Ut,e[41]=Tn):Tn=e[41];let Et,Pt;e[42]===Symbol.for("react.memo_cache_sentinel")?(Et={color:hBe},Pt=c.jsx(kp,{}),e[42]=Et,e[43]=Pt):(Et=e[42],Pt=e[43]);let on;e[44]!==r?(on=c.jsx(ht,{"aria-label":"close",onClick:r,sx:Et,children:Pt}),e[44]=r,e[45]=on):on=e[45];let rn;e[46]!==Tn||e[47]!==on?(rn=c.jsxs(ee,{sx:Zt,children:[Tn,on]}),e[46]=Tn,e[47]=on,e[48]=rn):rn=e[48];let wn;e[49]!==xt||e[50]!==rn?(wn=c.jsx(br,{children:c.jsxs(ee,{sx:xn,children:[xt,rn]})}),e[49]=xt,e[50]=rn,e[51]=wn):wn=e[51];const xr=M.length>0&&c.jsxs(jO,{sx:{bgcolor:"action.hover",borderTop:1,borderBottom:1,borderColor:"divider"},children:[c.jsx(ae,{variant:"body2",sx:{flex:1},children:O("imageGroups:imageModal.selectedCount",{count:M.length})}),c.jsx(ee,{sx:{display:"flex",gap:1},children:!k&&c.jsxs(c.Fragment,{children:[c.jsx(Ze,{variant:"outlined",color:"error",startIcon:c.jsx(Ia,{}),onClick:Xe,disabled:!Pe,children:O("imageGroups:imageModal.buttonRemove")}),c.jsx(Ze,{variant:"outlined",color:"primary",startIcon:c.jsx(NRe,{}),onClick:ye,disabled:!Le,children:O("imageGroups:imageModal.buttonAssign")})]})})]});let Mr;e[52]===Symbol.for("react.memo_cache_sentinel")?(Mr={p:2,overflow:"auto",flex:1},e[52]=Mr):Mr=e[52];let jr;e[53]!==Wt?(jr=Wt(),e[53]=Wt,e[54]=jr):jr=e[54];const sa=s?.id;let zr;e[55]!==w||e[56]!==a||e[57]!==_||e[58]!==m||e[59]!==l||e[60]!==C||e[61]!==M||e[62]!==sa||e[63]!==E||e[64]!==T?(zr=c.jsx(B5,{images:a,loading:_,selectable:!0,selectedIds:M,onSelectionChange:N,pageSize:C,onPageSizeChange:l,currentPage:w,totalPages:T,total:E,onPageChange:m,showCollectionType:!0,currentGroupId:sa}),e[55]=w,e[56]=a,e[57]=_,e[58]=m,e[59]=l,e[60]=C,e[61]=M,e[62]=sa,e[63]=E,e[64]=T,e[65]=zr):zr=e[65];let vr;e[66]!==jr||e[67]!==zr?(vr=c.jsxs(yr,{sx:Mr,children:[jr,zr]}),e[66]=jr,e[67]=zr,e[68]=vr):vr=e[68];let Fr;e[69]!==r||e[70]!==n||e[71]!==wn||e[72]!==xr||e[73]!==vr?(Fr=c.jsxs(hr,{open:n,onClose:r,maxWidth:"xl",fullWidth:!0,PaperProps:sn,children:[wn,xr,vr]}),e[69]=r,e[70]=n,e[71]=wn,e[72]=xr,e[73]=vr,e[74]=Fr):Fr=e[74];const Es=hr;let Ja;e[75]===Symbol.for("react.memo_cache_sentinel")?(Ja=()=>D(!1),e[75]=Ja):Ja=e[75];let Ai;e[76]!==O?(Ai=O("imageGroups:imageModal.confirmRemoveTitle"),e[76]=O,e[77]=Ai):Ai=e[77];let Ts;e[78]!==Ai?(Ts=c.jsx(br,{children:Ai}),e[78]=Ai,e[79]=Ts):Ts=e[79];const Ml=yr,as=Rp;let As;e[80]!==s?.id?(As=Dn=>Dn.groups?.find($i=>$i.id===s?.id)?.collection_type==="manual",e[80]=s?.id,e[81]=As):As=e[81];const Zs=O("imageGroups:imageModal.confirmRemoveMessage",{count:oe.filter(As).length});let is;e[82]===Symbol.for("react.memo_cache_sentinel")?(is=c.jsx("br",{}),e[82]=is):is=e[82];let ss;e[83]!==O?(ss=O("imageGroups:imageModal.confirmRemoveNote"),e[83]=O,e[84]=ss):ss=e[84];let Ri;e[85]!==ss?(Ri=c.jsx("strong",{children:ss}),e[85]=ss,e[86]=Ri):Ri=e[86];let Sr;e[87]!==as||e[88]!==Zs||e[89]!==Ri?(Sr=c.jsxs(as,{children:[Zs,is,Ri]}),e[87]=as,e[88]=Zs,e[89]=Ri,e[90]=Sr):Sr=e[90];let di;e[91]!==Ml||e[92]!==Sr?(di=c.jsx(Ml,{children:Sr}),e[91]=Ml,e[92]=Sr,e[93]=di):di=e[93];let il;e[94]===Symbol.for("react.memo_cache_sentinel")?(il=()=>D(!1),e[94]=il):il=e[94];let ki;e[95]!==O?(ki=O("common:buttons.cancel"),e[95]=O,e[96]=ki):ki=e[96];let oa;e[97]!==ki?(oa=c.jsx(Ze,{onClick:il,children:ki}),e[97]=ki,e[98]=oa):oa=e[98];let va;e[99]!==O?(va=O("imageGroups:imageModal.buttonRemove"),e[99]=O,e[100]=va):va=e[100];let Rs;e[101]!==ke||e[102]!==va?(Rs=c.jsx(Ze,{onClick:ke,color:"error",variant:"contained",children:va}),e[101]=ke,e[102]=va,e[103]=Rs):Rs=e[103];let lr;e[104]!==oa||e[105]!==Rs?(lr=c.jsxs(kr,{children:[oa,Rs]}),e[104]=oa,e[105]=Rs,e[106]=lr):lr=e[106];let ks;e[107]!==Es||e[108]!==$||e[109]!==Ja||e[110]!==Ts||e[111]!==di||e[112]!==lr?(ks=c.jsxs(Es,{open:$,onClose:Ja,children:[Ts,di,lr]}),e[107]=Es,e[108]=$,e[109]=Ja,e[110]=Ts,e[111]=di,e[112]=lr,e[113]=ks):ks=e[113];let sl;e[114]===Symbol.for("react.memo_cache_sentinel")?(sl=()=>F(!1),e[114]=sl):sl=e[114];const Bc=s?.id;let Ii;e[115]!==U||e[116]!==Ce||e[117]!==M.length||e[118]!==Bc?(Ii=c.jsx(W5,{open:U,onClose:sl,selectedImageCount:M.length,onAssign:Ce,currentGroupId:Bc}),e[115]=U,e[116]=Ce,e[117]=M.length,e[118]=Bc,e[119]=Ii):Ii=e[119];const Hi=!!H;let Hc;e[120]===Symbol.for("react.memo_cache_sentinel")?(Hc={opacity:"1 !important"},e[120]=Hc):Hc=e[120];let Pl;e[121]!==O?(Pl=O("imageGroups:download.menuTitle"),e[121]=O,e[122]=Pl):Pl=e[122];let So;e[123]!==Pl?(So=c.jsx(en,{disabled:!0,sx:Hc,children:c.jsx(ae,{variant:"subtitle2",color:"text.secondary",children:Pl})}),e[123]=Pl,e[124]=So):So=e[124];let Oa;e[125]===Symbol.for("react.memo_cache_sentinel")?(Oa={opacity:"1 !important",mt:1},e[125]=Oa):Oa=e[125];let dr;e[126]!==O?(dr=O("imageGroups:download.scopeAll"),e[126]=O,e[127]=dr):dr=e[127];let ol;e[128]!==dr?(ol=c.jsx(en,{disabled:!0,sx:Oa,children:c.jsx(ae,{variant:"caption",color:"text.secondary",children:dr})}),e[128]=dr,e[129]=ol):ol=e[129];let la;e[130]!==nt?(la=()=>nt("thumbnail","all"),e[130]=nt,e[131]=la):la=e[131];let ll;e[132]===Symbol.for("react.memo_cache_sentinel")?(ll=c.jsx(lu,{children:c.jsx(xu,{fontSize:"small"})}),e[132]=ll):ll=e[132];let cl;e[133]!==O?(cl=O("imageGroups:download.typeThumbnail"),e[133]=O,e[134]=cl):cl=e[134];const os=Y&&` (${Y.thumbnail})`;let Ui;e[135]!==cl||e[136]!==os?(Ui=c.jsxs(Ss,{children:[cl,os]}),e[135]=cl,e[136]=os,e[137]=Ui):Ui=e[137];let ul;e[138]!==la||e[139]!==Ui?(ul=c.jsxs(en,{onClick:la,children:[ll,Ui]}),e[138]=la,e[139]=Ui,e[140]=ul):ul=e[140];let dl;e[141]!==nt?(dl=()=>nt("original","all"),e[141]=nt,e[142]=dl):dl=e[142];let _o;e[143]===Symbol.for("react.memo_cache_sentinel")?(_o=c.jsx(lu,{children:c.jsx(tI,{fontSize:"small"})}),e[143]=_o):_o=e[143];let Uc;e[144]!==O?(Uc=O("imageGroups:download.typeOriginal"),e[144]=O,e[145]=Uc):Uc=e[145];const $d=Y&&` (${Y.original})`;let Ll;e[146]!==Uc||e[147]!==$d?(Ll=c.jsxs(Ss,{children:[Uc,$d]}),e[146]=Uc,e[147]=$d,e[148]=Ll):Ll=e[148];let fl;e[149]!==dl||e[150]!==Ll?(fl=c.jsxs(en,{onClick:dl,children:[_o,Ll]}),e[149]=dl,e[150]=Ll,e[151]=fl):fl=e[151];let $c;e[152]!==nt?($c=()=>nt("video","all"),e[152]=nt,e[153]=$c):$c=e[153];let Ou;e[154]===Symbol.for("react.memo_cache_sentinel")?(Ou=c.jsx(lu,{children:c.jsx(WL,{fontSize:"small"})}),e[154]=Ou):Ou=e[154];let Co;e[155]!==O?(Co=O("imageGroups:download.typeVideo"),e[155]=O,e[156]=Co):Co=e[156];const Js=Y&&` (${Y.video})`;let hl;e[157]!==Co||e[158]!==Js?(hl=c.jsxs(Ss,{children:[Co,Js]}),e[157]=Co,e[158]=Js,e[159]=hl):hl=e[159];let pl;e[160]!==$c||e[161]!==hl?(pl=c.jsxs(en,{onClick:$c,children:[Ou,hl]}),e[160]=$c,e[161]=hl,e[162]=pl):pl=e[162];let Is;e[163]!==nt||e[164]!==M.length||e[165]!==O?(Is=M.length>0&&[c.jsx(en,{disabled:!0,sx:{opacity:"1 !important",mt:1},children:c.jsx(ae,{variant:"caption",color:"text.secondary",children:O("imageGroups:download.scopeSelected",{count:M.length})})},"selected-header"),c.jsxs(en,{onClick:()=>nt("thumbnail","selected"),children:[c.jsx(lu,{children:c.jsx(xu,{fontSize:"small"})}),c.jsx(Ss,{children:O("imageGroups:download.typeThumbnail")})]},"selected-thumbnail"),c.jsxs(en,{onClick:()=>nt("original","selected"),children:[c.jsx(lu,{children:c.jsx(tI,{fontSize:"small"})}),c.jsx(Ss,{children:O("imageGroups:download.typeOriginal")})]},"selected-original"),c.jsxs(en,{onClick:()=>nt("video","selected"),children:[c.jsx(lu,{children:c.jsx(WL,{fontSize:"small"})}),c.jsx(Ss,{children:O("imageGroups:download.typeVideo")})]},"selected-video")],e[163]=nt,e[164]=M.length,e[165]=O,e[166]=Is):Is=e[166];let ls;e[167]!==H||e[168]!==ct||e[169]!==Hi||e[170]!==So||e[171]!==ol||e[172]!==ul||e[173]!==fl||e[174]!==pl||e[175]!==Is?(ls=c.jsxs(wy,{anchorEl:H,open:Hi,onClose:ct,children:[So,ol,ul,fl,pl,Is]}),e[167]=H,e[168]=ct,e[169]=Hi,e[170]=So,e[171]=ol,e[172]=ul,e[173]=fl,e[174]=pl,e[175]=Is,e[176]=ls):ls=e[176];let Du;e[177]===Symbol.for("react.memo_cache_sentinel")?(Du=()=>K(!1),e[177]=Du):Du=e[177];let ml;e[178]!==O?(ml=O("imageGroups:download.confirmTitle"),e[178]=O,e[179]=ml):ml=e[179];let zl;e[180]!==ml?(zl=c.jsx(br,{children:ml}),e[180]=ml,e[181]=zl):zl=e[181];const Fl=V==="all"?Y?.[q||"thumbnail"]||0:M.length;let ji;e[182]!==O||e[183]!==Fl?(ji=O("imageGroups:download.confirmMessage",{count:Fl}),e[182]=O,e[183]=Fl,e[184]=ji):ji=e[184];let Bl;e[185]!==ji?(Bl=c.jsx(yr,{children:c.jsx(Rp,{children:ji})}),e[185]=ji,e[186]=Bl):Bl=e[186];let gl;e[187]===Symbol.for("react.memo_cache_sentinel")?(gl=()=>K(!1),e[187]=gl):gl=e[187];let $a;e[188]!==O?($a=O("common:buttons.cancel"),e[188]=O,e[189]=$a):$a=e[189];let yl;e[190]!==$a?(yl=c.jsx(Ze,{onClick:gl,children:$a}),e[190]=$a,e[191]=yl):yl=e[191];let js;e[192]!==O?(js=O("imageGroups:download.confirmButton"),e[192]=O,e[193]=js):js=e[193];let wo;e[194]!==$t||e[195]!==js?(wo=c.jsx(Ze,{onClick:$t,color:"primary",variant:"contained",children:js}),e[194]=$t,e[195]=js,e[196]=wo):wo=e[196];let Eo;e[197]!==yl||e[198]!==wo?(Eo=c.jsxs(kr,{children:[yl,wo]}),e[197]=yl,e[198]=wo,e[199]=Eo):Eo=e[199];let eo;e[200]!==Q||e[201]!==Bl||e[202]!==Eo||e[203]!==zl?(eo=c.jsxs(hr,{open:Q,onClose:Du,children:[zl,Bl,Eo]}),e[200]=Q,e[201]=Bl,e[202]=Eo,e[203]=zl,e[204]=eo):eo=e[204];let Gd;return e[205]!==eo||e[206]!==Fr||e[207]!==ks||e[208]!==Ii||e[209]!==ls?(Gd=c.jsxs(c.Fragment,{children:[Fr,ks,Ii,ls,eo]}),e[205]=eo,e[206]=Fr,e[207]=ks,e[208]=Ii,e[209]=ls,e[210]=Gd):Gd=e[210],Gd};function iBe(t){return t.composite_hash}function sBe(t){return t!==null}function oBe(t){return t.composite_hash}function lBe(t){return t!==null}function cBe(t){return console.error("Failed to fetch file counts:",t)}function uBe(t){return t.composite_hash}function dBe(t){return t!==null}function fBe(t){return t.palette.primary.main}function hBe(t){return t.palette.grey[500]}const LJ=t=>{const e=bt.c(25),{breadcrumb:n,currentGroupName:r,onNavigate:a,showGroupListRoot:i}=t,s=i===void 0?!1:i,{t:o}=qt();let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={mb:2,p:1,bgcolor:"background.paper",borderRadius:1},e[0]=l):l=e[0];let u;e[1]===Symbol.for("react.memo_cache_sentinel")?(u=c.jsx(tQ,{fontSize:"small"}),e[1]=u):u=e[1];let d;e[2]!==a?(d=()=>a(null),e[2]=a,e[3]=d):d=e[3];let h;e[4]===Symbol.for("react.memo_cache_sentinel")?(h={display:"flex",alignItems:"center",gap:.5,textDecoration:"none",color:"primary.main","&:hover":{textDecoration:"underline",cursor:"pointer"}},e[4]=h):h=e[4];let m;e[5]!==s?(m=s?c.jsx(bu,{fontSize:"small"}):c.jsx(ZX,{fontSize:"small"}),e[5]=s,e[6]=m):m=e[6];let y;e[7]!==s||e[8]!==o?(y=s?" ":o("imageGroups:hierarchy.root"),e[7]=s,e[8]=o,e[9]=y):y=e[9];let x;e[10]!==d||e[11]!==m||e[12]!==y?(x=c.jsxs(Zk,{component:"button",variant:"body1",onClick:d,sx:h,children:[m,y]}),e[10]=d,e[11]=m,e[12]=y,e[13]=x):x=e[13];let v;if(e[14]!==n||e[15]!==a){let w;e[17]!==a?(w=T=>c.jsx(Zk,{component:"button",variant:"body1",onClick:()=>a(T.id),sx:{textDecoration:"none",color:"primary.main","&:hover":{textDecoration:"underline",cursor:"pointer"}},children:T.name},T.id),e[17]=a,e[18]=w):w=e[18],v=n.map(w),e[14]=n,e[15]=a,e[16]=v}else v=e[16];let _;e[19]!==r?(_=r&&c.jsx(ae,{variant:"body1",color:"text.primary",fontWeight:"medium",children:r}),e[19]=r,e[20]=_):_=e[20];let C;return e[21]!==_||e[22]!==x||e[23]!==v?(C=c.jsx(ee,{sx:l,children:c.jsxs(K5e,{separator:u,"aria-label":"group navigation",children:[x,v,_]})}),e[21]=_,e[22]=x,e[23]=v,e[24]=C):C=e[24],C};function rw(t,e){const n=bt.c(36),{groupId:r,groupType:a,interval:i,preloadCount:s,includeChildren:o,enabled:l}=e,u=a===void 0?"group":a,d=s===void 0?8:s,h=o===void 0?!0:o,m=l===void 0?!0:l,[y,x]=A.useState(0),[v,_]=A.useState(!1),[C,w]=A.useState(0),T=A.useRef(null),E=A.useRef(null);let k;n[0]!==r||n[1]!==u||n[2]!==h||n[3]!==d?(k=["groupPreviewImages",u,r,d,h],n[0]=r,n[1]=u,n[2]=h,n[3]=d,n[4]=k):k=n[4];let j;n[5]!==t||n[6]!==h||n[7]!==d?(j=()=>t(d,h),n[5]=t,n[6]=h,n[7]=d,n[8]=j):j=n[8];let O;n[9]!==m||n[10]!==k||n[11]!==j?(O={queryKey:k,queryFn:j,staleTime:3e4,gcTime:6e5,enabled:m,retry:1},n[9]=m,n[10]=k,n[11]=j,n[12]=O):O=n[12];const{data:z,isLoading:M,error:N}=Cy(O);let U;n[13]!==z?(U=z===void 0?[]:z,n[13]=z,n[14]=U):U=n[14];const F=U;let $;if(n[15]!==F){const ie=new Set;$=F.filter(ce=>!ce.composite_hash||ie.has(ce.composite_hash)?!1:(ie.add(ce.composite_hash),!0)),n[15]=F,n[16]=$}else $=n[16];const D=$,H=N instanceof Error?N:null;let L,V;n[17]!==m||n[18]!==D.length?(L=()=>{if(!m||D.length<=1)return;const ie=()=>{const ce=2e3+Math.random()*4e3;T.current=setTimeout(()=>{_(!0),w(-100),E.current=setTimeout(()=>{x(he=>(he+1)%D.length),w(0),_(!1),ie()},600)},ce)};return ie(),()=>{T.current&&(clearTimeout(T.current),T.current=null),E.current&&(clearTimeout(E.current),E.current=null)}},V=[m,D.length],n[17]=m,n[18]=D.length,n[19]=L,n[20]=V):(L=n[19],V=n[20]),A.useEffect(L,V);let J;n[21]!==D.length?(J=()=>{D.length>0&&(_(!0),w(-100),setTimeout(()=>{x(ie=>(ie+1)%D.length),w(0),_(!1)},600))},n[21]=D.length,n[22]=J):J=n[22];const Q=J;let K;n[23]!==D.length?(K=()=>{D.length>0&&(_(!0),w(100),setTimeout(()=>{x(ie=>(ie-1+D.length)%D.length),w(0),_(!1)},600))},n[23]=D.length,n[24]=K):K=n[24];const q=K,Z=D.length>0?(y+1)%D.length:0,Y=D[y]||null,ne=D[Z]||null;let re;return n[25]!==y||n[26]!==H||n[27]!==D||n[28]!==M||n[29]!==v||n[30]!==Q||n[31]!==C||n[32]!==q||n[33]!==Y||n[34]!==ne?(re={currentImage:Y,nextImage:ne,images:D,currentIndex:y,isTransitioning:v,offset:C,isLoading:M,error:H,next:Q,previous:q},n[25]=y,n[26]=H,n[27]=D,n[28]=M,n[29]=v,n[30]=Q,n[31]=C,n[32]=q,n[33]=Y,n[34]=ne,n[35]=re):re=n[35],re}function pBe({group:t,onClick:e}){const n=Pd(),r=A.useCallback(async(E,k)=>{try{return(await mp.getPreviewImages(t.id,E,k)).data||[]}catch(j){return console.error(`Failed to load preview images for auto folder group ${t.id}:`,j),[]}},[t.id]),{currentImage:a,nextImage:i,images:s,isTransitioning:o,offset:l,isLoading:u}=rw(r,{groupId:t.id,groupType:"auto-folder",interval:3e3,preloadCount:8,includeChildren:!0,enabled:!0}),d=A.useMemo(()=>a?.file_type==="video",[a]),h=A.useMemo(()=>a?.file_type==="animated",[a]),m=A.useMemo(()=>a?.is_processing||!a?.composite_hash,[a]),y=A.useMemo(()=>i?.file_type==="video",[i]),x=A.useMemo(()=>i?.file_type==="animated",[i]),v=A.useMemo(()=>i?.is_processing||!i?.composite_hash,[i]),_=A.useMemo(()=>`data:image/svg+xml,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 24 24">
        <rect width="24" height="24" fill="#1a1a1a"/>
        <path fill="#666" d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/>
      </svg>`)}`,[]),C=A.useMemo(()=>`/placeholders/folder-overlay-${Math.floor(Math.random()*12)+1}.webp`,[t.id]),w=A.useMemo(()=>{if(!a)return _;if(m)return`${n}/api/images/by-path/${encodeURIComponent(a.original_file_path||"")}`;if(d||h)return`${n}/api/images/${a.composite_hash}/file`;const E=a.thumbnail_path?`?v=${Date.parse(a.first_seen_date)}`:"";return`${n}/api/images/${a.composite_hash}/thumbnail${E}`},[a,d,h,m,n,_]),T=A.useMemo(()=>{if(!i)return _;if(v)return`${n}/api/images/by-path/${encodeURIComponent(i.original_file_path||"")}`;if(y||x)return`${n}/api/images/${i.composite_hash}/file`;const E=i.thumbnail_path?`?v=${Date.parse(i.first_seen_date)}`:"";return`${n}/api/images/${i.composite_hash}/thumbnail${E}`},[i,y,x,v,n,_]);return c.jsxs(fr,{sx:{cursor:"pointer",transition:"all 0.2s",aspectRatio:"5 / 7",position:"relative",overflow:"hidden",borderRadius:1,"&:hover":{transform:"translateY(-4px)",boxShadow:4,"& .hover-info":{opacity:1},"& .hover-overlay":{opacity:1}},opacity:s.length>0||u?1:.7},onClick:e,children:[c.jsx(ee,{sx:{width:"100%",paddingTop:"140%"}}),a?d?c.jsx(ee,{component:"video",src:w,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:1,transform:`translateX(${l}%)`,transition:o?"transform 0.6s ease-in-out":"none"}}):c.jsx(Vs,{component:"img",image:w,alt:t.display_name,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:1,transform:`translateX(${l}%)`,transition:o?"transform 0.6s ease-in-out":"none"}}):c.jsxs(ee,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1},children:[c.jsx(Vs,{component:"img",image:_,alt:"Empty folder",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",opacity:.4}}),c.jsx(ee,{component:"img",src:C,alt:"Placeholder",sx:{position:"absolute",top:"58%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",height:"auto",maxWidth:"200px",opacity:.8,objectFit:"contain"}})]}),s.length>1&&(y?c.jsx(ee,{component:"video",src:T,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,transform:`translateX(${l+100}%)`,transition:o?"transform 0.6s ease-in-out":"none"}}):c.jsx(Vs,{component:"img",image:T,alt:t.display_name,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,transform:`translateX(${l+100}%)`,transition:o?"transform 0.6s ease-in-out":"none"}})),c.jsx(ee,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.6) 70%, transparent 100%)",p:1.5,pb:1,zIndex:2},children:c.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(Ty,{sx:{color:"primary.light",fontSize:"1.2rem"}}),c.jsx(ae,{variant:"subtitle1",component:"div",sx:{flex:1,color:"white",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.display_name})]})}),c.jsx(ee,{className:"hover-overlay",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(0, 0, 0, 0.6)",opacity:0,transition:"opacity 0.2s",zIndex:2}}),c.jsxs(ee,{className:"hover-info",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,p:2,opacity:0,transition:"opacity 0.2s",display:"flex",flexDirection:"column",gap:1.5,zIndex:3},children:[c.jsx(ae,{variant:"h6",sx:{color:"white",fontWeight:600},children:t.display_name}),c.jsx(ae,{variant:"caption",sx:{color:"rgba(255, 255, 255, 0.7)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.folder_path}),c.jsxs(ee,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:[c.jsx(gt,{label:`${t.image_count||0} `,size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white"}}),t.child_count!==void 0&&t.child_count>0&&c.jsx(gt,{label:`${t.child_count} `,size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white"}})]})]})]})}function mBe({group:t,onClick:e}){const n=A.useCallback(async l=>{try{return(await mp.getPreviewImages(t.id,l,!1)).data||[]}catch(u){return console.error(`Failed to load preview images for auto folder group ${t.id}:`,u),[]}},[t.id]),{currentImage:r,images:a,isLoading:i}=rw(n,{groupId:`${t.id}-direct`,groupType:"auto-folder-direct",interval:3e3,preloadCount:8,includeChildren:!1,enabled:!0}),s=A.useMemo(()=>r?.file_type==="video",[r]),o=A.useMemo(()=>r?.thumbnail_url?r.thumbnail_url:`data:image/svg+xml,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 24 24">
        <rect width="24" height="24" fill="#1a1a1a"/>
        <path fill="#666" d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
      </svg>`)}`,[r]);return c.jsxs(fr,{sx:{cursor:"pointer",transition:"all 0.2s",aspectRatio:"5 / 7",position:"relative",overflow:"hidden",borderRadius:1,border:"2px solid",borderColor:"primary.main","&:hover":{transform:"translateY(-4px)",boxShadow:4,borderColor:"primary.light","& .hover-info":{opacity:1},"& .hover-overlay":{opacity:1}},opacity:a.length>0||i?1:.7},onClick:e,children:[s?c.jsx(ee,{component:"video",src:o,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transition:"opacity 0.6s ease-in-out"}}):c.jsx(Vs,{component:"img",image:o,alt:" ",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transition:"opacity 0.6s ease-in-out"}}),c.jsx(ee,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.6) 70%, transparent 100%)",p:1.5,pb:1},children:c.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(xu,{sx:{color:"primary.light",fontSize:"1.2rem"}}),c.jsx(ae,{variant:"subtitle1",component:"div",sx:{flex:1,color:"white",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:" "})]})}),c.jsx(ee,{className:"hover-overlay",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(0, 0, 0, 0.6)",opacity:0,transition:"opacity 0.2s"}}),c.jsxs(ee,{className:"hover-info",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,p:2,opacity:0,transition:"opacity 0.2s",display:"flex",flexDirection:"column",gap:1.5},children:[c.jsxs(ae,{variant:"h6",sx:{color:"white",fontWeight:600},children:[t.display_name," - "]}),c.jsx(ae,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.9)"},children:"    "}),c.jsx(ee,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:c.jsx(gt,{label:`${t.image_count||0} `,size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white"}})})]})]})}const H1={all:["autoFolderGroups"],root:()=>[...H1.all,"root"],children:t=>[...H1.all,"children",t],detail:t=>[...H1.all,"detail",t]};function gBe(){const t=bt.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:H1.root(),queryFn:yBe,staleTime:3e4,gcTime:3e5,refetchOnMount:!0},t[0]=e):e=t[0],Cy(e)}async function yBe(){console.log("[useAutoFolderRootGroups] Fetching root groups...");const t=await mp.getRootGroups();if(console.log("[useAutoFolderRootGroups] Response:",t),!t.success||!t.data)throw new Error("Failed to fetch auto-folder root groups");return t.data}function bBe(t){const e=bt.c(8);let n;e[0]!==t?(n=H1.children(t??0),e[0]=t,e[1]=n):n=e[1];let r;e[2]!==t?(r=async()=>{if(t===null)return[];console.log("[useAutoFolderChildGroups] Fetching child groups for parent:",t);const s=await mp.getChildGroups(t);if(console.log("[useAutoFolderChildGroups] Response:",s),!s.success||!s.data)throw new Error("Failed to fetch auto-folder child groups");return s.data},e[2]=t,e[3]=r):r=e[3];const a=t!==null;let i;return e[4]!==n||e[5]!==r||e[6]!==a?(i={queryKey:n,queryFn:r,enabled:a,placeholderData:xBe,staleTime:3e4,gcTime:3e5,refetchOnMount:!0},e[4]=n,e[5]=r,e[6]=a,e[7]=i):i=e[7],Cy(i)}function xBe(t){return t}function vBe(){const t=bt.c(2),e=jp();let n;return t[0]!==e?(n={mutationFn:SBe,onSuccess:()=>{e.invalidateQueries({queryKey:H1.all}),e.invalidateQueries({queryKey:["groupPreviewImages","auto-folder"]})}},t[0]=e,t[1]=n):n=t[1],Wv(n)}async function SBe(){const t=await mp.rebuild();if(!t.success||!t.data)throw new Error(t.error||"Failed to rebuild auto-folder groups");return t.data}const _Be=({onShowSnackbar:t})=>{const{t:e}=qt(["imageGroups","common"]),[n,r]=A.useState(null),[a,i]=A.useState(null),[s,o]=A.useState(!0),[l,u]=A.useState(null),[d,h]=A.useState(null),[m,y]=A.useState(null),[x,v]=A.useState([]),{data:_,isLoading:C,error:w}=gBe(),{data:T,isLoading:E,error:k}=bBe(d),j=vBe(),O=(d===null?_:T)||[],z=d===null?C:E;A.useEffect(()=>{console.log("[AutoFolderGroupsContent] State:",{currentParentId:d,isGroupListView:s,rootGroupsData:_,childGroupsData:T,groups:O.length,loading:z,rootError:w,childError:k})},[d,s,_,T,z]);const[M,N]=A.useState(!1),[U,F]=A.useState(null),[$,D]=A.useState([]),[H,L]=A.useState(!1),[V,J]=A.useState(1),[Q,K]=A.useState(1),[q,Z]=A.useState(0),[Y,ne]=A.useState(25),re=async oe=>{try{const Se=await mp.getBreadcrumbPath(oe);Se.success&&Se.data&&v(Se.data)}catch(Se){console.error("Error loading breadcrumb:",Se)}};A.useEffect(()=>{d!==null&&re(d)},[d]);const ie=async()=>{try{const oe=await j.mutateAsync();t(` : ${oe.groups_created} , ${oe.images_assigned}  (${oe.duration_ms}ms)`,"success"),h(null),y(null),v([]),o(!0),setTimeout(()=>{window.location.reload()},1e3)}catch(oe){console.error("Error rebuilding:",oe),t("   ","error")}},ce=async oe=>{h(oe.id),y(oe),await re(oe.id)};A.useEffect(()=>{if(O.length===1&&d!==null){const oe=O[0];if(oe.image_count===0&&oe.child_count===1){const Se=m?.display_name||"";t(`   : ${Se}  ${oe.display_name}`,"info"),ce(oe)}}},[O,d]);const he=async oe=>{if(oe===null)o(!0),u(null),h(null),y(null),v([]);else{h(oe),await re(oe);try{const Se=await mp.getGroup(oe);Se.success&&Se.data&&y(Se.data)}catch(Se){console.error("Error loading current group info:",Se)}}},me=()=>{r(null),i(null)},le=()=>{const oe=O.find(Se=>Se.id===a);oe&&(F(oe),N(!0),de(oe.id,1)),me()},de=async(oe,Se)=>{try{L(!0);const be=await mp.getGroupImages(oe,Se,Y);be.success&&be.data&&(D(be.data.items),J(be.data.pagination.page),K(be.data.pagination.totalPages),Z(be.data.pagination.total))}catch(be){console.error("Error loading group images:",be),t(e("imageGroups:messages.imageLoadFailed"),"error")}finally{L(!1)}},pe=()=>{N(!1),F(null),D([]),J(1)},ve=oe=>{U&&de(U.id,oe)},ge=oe=>{ne(oe),U&&de(U.id,1)};return z&&O.length===0?c.jsx(ee,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:c.jsx(Kt,{})}):c.jsxs(c.Fragment,{children:[c.jsxs(ee,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx(wt,{severity:"info",sx:{flex:1,mr:2},children:"  .     ."}),c.jsx(Ze,{variant:"contained",startIcon:j.isPending?c.jsx(Kt,{size:20}):c.jsx(vo,{}),onClick:ie,disabled:j.isPending,children:j.isPending?" ...":""})]}),!s&&c.jsx(LJ,{breadcrumb:x,onNavigate:he,showGroupListRoot:!0}),z?c.jsx(ee,{sx:{display:"flex",justifyContent:"center",alignItems:"center",py:8},children:c.jsx(Kt,{})}):O.length===0?c.jsxs(ee,{sx:{textAlign:"center",py:8},children:[c.jsx(bu,{sx:{fontSize:80,color:"text.secondary",mb:2}}),c.jsx(ae,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:s?"   ":"  "}),c.jsx(ae,{variant:"body2",color:"text.secondary",children:s?"     ":"    "})]}):c.jsxs(yn,{container:!0,spacing:2,children:[!s&&d!==null&&m&&m.image_count>0&&c.jsx(yn,{size:{xs:6,sm:4,md:3,lg:2,xl:1.5},children:c.jsx(mBe,{group:m,onClick:()=>{F(m),N(!0),de(m.id,1)}})},`image-view-${d}`),O.map(oe=>c.jsx(yn,{size:{xs:6,sm:4,md:3,lg:2,xl:1.5},children:c.jsx(pBe,{group:oe,onClick:()=>{if(s){o(!1),u(oe.id),ce(oe);return}oe.child_count&&oe.child_count>0?ce(oe):oe.image_count>0&&(F(oe),N(!0),de(oe.id,1))}})},oe.id))]}),c.jsx(wy,{anchorEl:n,open:!!n,onClose:me,children:c.jsx(en,{onClick:le,children:" "})}),c.jsx(PJ,{open:M,onClose:pe,images:$,loading:H,currentGroup:U,allGroups:[],pageSize:Y,onPageSizeChange:ge,currentPage:V,totalPages:Q,total:q,onPageChange:ve,onImagesRemoved:()=>{},onImagesAssigned:()=>{},readOnly:!0})]})};function CBe({group:t,onClick:e,onSettingsClick:n}){const r=Pd(),a=A.useCallback(j=>{j.stopPropagation(),n?.(t.id)},[t.id,n]),i=A.useCallback(async(j,O)=>{try{return(await si.getPreviewImages(t.id,j,O)).data||[]}catch(z){return console.error(`Failed to load preview images for group ${t.id}:`,z),[]}},[t.id]),{currentImage:s,nextImage:o,images:l,isTransitioning:u,offset:d,isLoading:h}=rw(i,{groupId:t.id,groupType:"group",interval:3e3,preloadCount:8,includeChildren:!0,enabled:!0}),m=A.useMemo(()=>s?.file_type==="video",[s]),y=A.useMemo(()=>s?.file_type==="animated",[s]),x=A.useMemo(()=>s?.is_processing||!s?.composite_hash,[s]),v=A.useMemo(()=>o?.file_type==="video",[o]),_=A.useMemo(()=>o?.file_type==="animated",[o]),C=A.useMemo(()=>o?.is_processing||!o?.composite_hash,[o]),w=A.useMemo(()=>`data:image/svg+xml,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 24 24">
        <rect width="24" height="24" fill="#1a1a1a"/>
        <path fill="#666" d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/>
      </svg>`)}`,[]),T=A.useMemo(()=>`/placeholders/folder-overlay-${Math.floor(Math.random()*12)+1}.webp`,[t.id]),E=A.useMemo(()=>{if(!s)return w;if(x)return`${r}/api/images/by-path/${encodeURIComponent(s.original_file_path||"")}`;if(m||y)return`${r}/api/images/${s.composite_hash}/file`;const j=s.thumbnail_path?`?v=${Date.parse(s.first_seen_date)}`:"";return`${r}/api/images/${s.composite_hash}/thumbnail${j}`},[s,m,y,x,r,w]),k=A.useMemo(()=>{if(!o)return w;if(C)return`${r}/api/images/by-path/${encodeURIComponent(o.original_file_path||"")}`;if(v||_)return`${r}/api/images/${o.composite_hash}/file`;const j=o.thumbnail_path?`?v=${Date.parse(o.first_seen_date)}`:"";return`${r}/api/images/${o.composite_hash}/thumbnail${j}`},[o,v,_,C,r,w]);return c.jsxs(fr,{sx:{cursor:"pointer",transition:"all 0.2s",aspectRatio:"5 / 7",position:"relative",overflow:"hidden",borderRadius:1,"&:hover":{transform:"translateY(-4px)",boxShadow:4,"& .hover-info":{opacity:1},"& .hover-overlay":{opacity:1}},opacity:l.length>0||h?1:.7},onClick:e,children:[c.jsx(ee,{sx:{width:"100%",paddingTop:"140%"}}),s?m?c.jsx(ee,{component:"video",src:E,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:1,transform:`translateX(${d}%)`,transition:u?"transform 0.6s ease-in-out":"none"}}):c.jsx(Vs,{component:"img",image:E,alt:t.name,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:1,transform:`translateX(${d}%)`,transition:u?"transform 0.6s ease-in-out":"none"}}):c.jsxs(ee,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1},children:[c.jsx(Vs,{component:"img",image:w,alt:"Empty folder",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",opacity:.4}}),c.jsx(ee,{component:"img",src:T,alt:"Placeholder",sx:{position:"absolute",top:"58%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",height:"auto",maxWidth:"200px",opacity:.8,objectFit:"contain"}})]}),l.length>1&&(v?c.jsx(ee,{component:"video",src:k,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,transform:`translateX(${d+100}%)`,transition:u?"transform 0.6s ease-in-out":"none"}}):c.jsx(Vs,{component:"img",image:k,alt:t.name,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,transform:`translateX(${d+100}%)`,transition:u?"transform 0.6s ease-in-out":"none"}})),n&&c.jsx(ht,{onClick:a,sx:{position:"absolute",bottom:8,right:8,zIndex:4,bgcolor:"rgba(0, 0, 0, 0.6)",color:"white",width:32,height:32,"&:hover":{bgcolor:"rgba(0, 0, 0, 0.8)",color:"primary.light"},transition:"all 0.2s"},size:"small",children:c.jsx(ny,{sx:{fontSize:"1.1rem"}})}),c.jsx(ee,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.6) 70%, transparent 100%)",p:1.5,pb:1,pr:n?6:1.5,zIndex:2},children:c.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(Ty,{sx:{color:t.color||"primary.light",fontSize:"1.2rem"}}),c.jsx(ae,{variant:"subtitle1",component:"div",sx:{flex:1,color:"white",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.name})]})}),c.jsx(ee,{className:"hover-overlay",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(0, 0, 0, 0.6)",opacity:0,transition:"opacity 0.2s",zIndex:2}}),c.jsxs(ee,{className:"hover-info",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,p:2,opacity:0,transition:"opacity 0.2s",display:"flex",flexDirection:"column",gap:1.5,zIndex:3},children:[c.jsx(ae,{variant:"h6",sx:{color:"white",fontWeight:600},children:t.name}),t.description&&c.jsx(ae,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.9)",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:t.description}),c.jsxs(ee,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:[c.jsx(gt,{label:`${t.image_count||0} `,size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white"}}),t.child_count!==void 0&&t.child_count>0&&c.jsx(gt,{label:`${t.child_count} `,size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white"}}),!!t.auto_collect_enabled&&c.jsx(gt,{label:"",size:"small",color:"primary",sx:{color:"white"}})]})]})]})}function wBe({group:t,onClick:e}){const n=A.useCallback(async l=>{try{return(await si.getPreviewImages(t.id,l,!1)).data||[]}catch(u){return console.error(`Failed to load preview images for group ${t.id}:`,u),[]}},[t.id]),{currentImage:r,images:a,isLoading:i}=rw(n,{groupId:`${t.id}-direct`,groupType:"group-direct",interval:3e3,preloadCount:8,includeChildren:!1,enabled:!0}),s=A.useMemo(()=>r?.file_type==="video",[r]),o=A.useMemo(()=>r?.thumbnail_url?r.thumbnail_url:`data:image/svg+xml,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 24 24">
        <rect width="24" height="24" fill="#1a1a1a"/>
        <path fill="#666" d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
      </svg>`)}`,[r]);return c.jsxs(fr,{sx:{cursor:"pointer",transition:"all 0.2s",aspectRatio:"5 / 7",position:"relative",overflow:"hidden",borderRadius:1,border:"2px solid",borderColor:"primary.main","&:hover":{transform:"translateY(-4px)",boxShadow:4,borderColor:"primary.light","& .hover-info":{opacity:1},"& .hover-overlay":{opacity:1}},opacity:a.length>0||i?1:.7},onClick:e,children:[s?c.jsx(ee,{component:"video",src:o,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transition:"opacity 0.6s ease-in-out"}}):c.jsx(Vs,{component:"img",image:o,alt:" ",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transition:"opacity 0.6s ease-in-out"}}),c.jsx(ee,{sx:{position:"absolute",top:5,left:5,backgroundColor:"primary.main",color:"white",px:1,py:.75,borderRadius:2,boxShadow:2,display:"flex",gap:.75,zIndex:2},children:c.jsx(xu,{sx:{fontSize:"1.1rem"}})}),c.jsx(ee,{className:"hover-overlay",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(0, 0, 0, 0.6)",opacity:0,transition:"opacity 0.2s"}}),c.jsxs(ee,{className:"hover-info",sx:{position:"absolute",top:20,left:0,right:0,bottom:0,p:2,opacity:0,transition:"opacity 0.2s",display:"flex",flexDirection:"column",gap:1.5},children:[c.jsxs(ae,{variant:"h6",sx:{color:"white",fontWeight:600},children:[t.name," - "]}),c.jsx(ae,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.9)"},children:"    "}),c.jsx(ee,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:c.jsx(gt,{label:`${t.image_count||0} `,size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white"}})})]})]})}const EBe=()=>{const{t}=qt(["imageGroups","common"]),[e,n]=A.useState(0),[r,a]=A.useState(null),[i,s]=A.useState(!1),[o,l]=A.useState(!1),[u,d]=A.useState(null),[h,m]=A.useState(null),[y,x]=A.useState({open:!1,message:"",severity:"success"}),[v,_]=A.useState(!0),[C,w]=A.useState(null),[T,E]=A.useState(null),[k,j]=A.useState(null),[O,z]=A.useState([]),{data:M,isLoading:N}=_Ne(T),{data:U,isLoading:F}=wNe(T),$=jNe(),D=DNe(),H=(T===null?M:U)||[],L=T===null?N:F,[V,J]=A.useState(!1),[Q,K]=A.useState(null),[q,Z]=A.useState([]),[Y,ne]=A.useState(!1),[re,ie]=A.useState(1),[ce,he]=A.useState(1),[me,le]=A.useState(0),[de,pe]=A.useState(25),ve=async Ge=>{try{const it=await si.getBreadcrumbPath(Ge);it.success&&it.data&&z(it.data)}catch(it){console.error("Error loading breadcrumb:",it)}},ge=async(Ge,it=!0)=>{if(E(Ge),Ge===null)z([]),j(null);else{await ve(Ge);try{const ct=await si.getGroup(Ge);console.log("[navigateToGroup] Group API response:",ct),ct.success&&ct.data?(console.log("[navigateToGroup] Setting currentGroupInfo:",ct.data),j(ct.data)):console.error("[navigateToGroup] Failed to load group info:",ct)}catch(ct){console.error("Error loading current group info:",ct)}}},oe=Ge=>{Ge===null?(_(!0),w(null),E(null),j(null),z([])):ge(Ge,!1)};A.useEffect(()=>{if(H.length===1&&T!==null){const Ge=H[0];if(Ge.image_count===0&&Ge.child_count===1){const it=k?.name||"";be(`   : ${it}  ${Ge.name}`,"info"),ge(Ge.id,!0)}}},[H,T]);const Se=async(Ge,it=1,ct)=>{try{ne(!0);const nt=ct||de,dt=await si.getGroupImages(Ge,it,nt);dt.success&&dt.data?(Z(dt.data.images||[]),ie(dt.data.pagination?.page||1),he(dt.data.pagination?.totalPages||1),le(dt.data.pagination?.total||0)):(be(t("imageGroups:messages.imageLoadFailed"),"error"),Z([]))}catch(nt){console.error("Error fetching group images:",nt),be(t("imageGroups:messages.imageLoadFailed"),"error"),Z([])}finally{ne(!1)}},be=(Ge,it)=>{x({open:!0,message:Ge,severity:it})},Ae=()=>{x({...y,open:!1})},Me=()=>{d(null),m(null)},Pe=Ge=>{const it=H.find(ct=>ct.id===Ge);it&&(a(it),l(!0))},Le=()=>{const Ge=H.find(it=>it.id===h);Ge&&(a(Ge),l(!0)),Me()},Oe=async()=>{if(h){try{await $.mutateAsync(h),be(t("imageGroups:messages.deleteSuccess"),"success")}catch(Ge){console.error("Error deleting group:",Ge),be(t("imageGroups:messages.deleteFailed"),"error")}Me()}},Xe=async()=>{if(h){try{const Ge=await D.mutateAsync(h);be(t("imageGroups:messages.autoCollectSuccess",{added:Ge.images_added,removed:Ge.images_removed}),"success")}catch(Ge){console.error("Error running auto collection:",Ge),be(t("imageGroups:messages.autoCollectFailed"),"error")}Me()}},ke=()=>{s(!1),be(" .  .","info")},Ie=()=>{l(!1),a(null),be(" .  .","info")},ye=Ge=>{if(v){_(!1),w(Ge.id),E(Ge.id),ge(Ge.id);return}Ge.child_count&&Ge.child_count>0?ge(Ge.id):Ge.image_count>0?(K(Ge),J(!0),ie(1),Se(Ge.id,1,de)):be(t("imageGroups:messages.emptyGroup"),"info")},Ce=()=>{J(!1),K(null),Z([]),ie(1)},Ne=Ge=>{Q&&(ie(Ge),Se(Q.id,Ge,de))},Be=Ge=>{pe(Ge),Q&&(ie(1),Se(Q.id,1,Ge))},Ke=async Ge=>{if(Q)try{if(Ge.length===0){be(t("imageGroups:messages.removeWarning"),"warning");return}const it=await si.removeImagesFromGroup(Q.id,Ge);it.success?be(t("imageGroups:messages.removeSuccess",{count:it.removed}),"success"):be(t("imageGroups:messages.removePartialSuccess",{removed:it.removed,failed:it.errors.length}),"warning");const ct=await si.getGroupImages(Q.id,re,de);if(ct.success&&ct.data){const nt=ct.data.images&&ct.data.images.length>0,dt=re>1;!nt&&dt?(ie(re-1),Se(Q.id,re-1,de)):Se(Q.id,re,de)}else Se(Q.id,re,de)}catch(it){console.error("Error removing images:",it),be(t("imageGroups:messages.removeError"),"error")}},Je=async(Ge,it)=>{try{const ct=await si.addImagesToGroup(Ge,it);if(ct.success&&ct.data){const{added_count:nt,converted_count:dt,skipped_count:$t}=ct.data;be(t("imageGroups:messages.assignSuccess",{added:nt,converted:dt,skipped:$t}),"success")}else be(ct.error||t("imageGroups:messages.assignFailed"),"error")}catch(ct){console.error("Error assigning images:",ct),be(t("imageGroups:messages.assignError"),"error")}};return L?c.jsx(ee,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:c.jsx(Kt,{})}):c.jsxs(ig,{maxWidth:"xl",sx:{py:3},children:[c.jsxs(ee,{sx:{mb:3},children:[c.jsx(ae,{variant:"h4",component:"h1",gutterBottom:!0,children:t("imageGroups:page.title")}),c.jsxs(nl,{value:e,onChange:(Ge,it)=>n(it),sx:{mt:2,borderBottom:1,borderColor:"divider"},children:[c.jsx(Vn,{label:t("imageGroups:page.customGroupsTab")}),c.jsx(Vn,{label:t("imageGroups:page.autoFolderGroupsTab")})]})]}),c.jsxs(ee,{sx:{display:e===0?"block":"none"},children:[!v&&c.jsx(LJ,{breadcrumb:O,onNavigate:oe,showGroupListRoot:!0}),(console.log("[Render] isGroupListView:",v),console.log("[Render] currentParentId:",T),console.log("[Render] currentGroupInfo:",k),console.log("[Render] groups.length:",H.length),!v&&T!==null&&k&&k.image_count>0||H.length>0)?c.jsxs(yn,{container:!0,spacing:3,children:[!v&&T!==null&&k&&k.image_count>0&&c.jsx(yn,{size:{xs:6,sm:4,md:3,lg:2,xl:1.5},children:c.jsx(wBe,{group:k,onClick:()=>{K(k),J(!0),ie(1),Se(k.id,1,de)}})},`image-view-${T}`),H.map(Ge=>c.jsx(yn,{size:{xs:6,sm:4,md:3,lg:2,xl:1.5},children:c.jsx(CBe,{group:Ge,onClick:()=>ye(Ge),onSettingsClick:Pe})},Ge.id))]}):c.jsxs(ee,{textAlign:"center",py:8,children:[c.jsx(ORe,{sx:{fontSize:64,color:"text.secondary",mb:2}}),c.jsx(ae,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:v?"  ":"  "}),c.jsx(ae,{variant:"body2",color:"text.secondary",mb:3,children:v?"+     ":"    "})]}),c.jsx(BEe,{color:"primary","aria-label":"add group",sx:{position:"fixed",bottom:24,right:24},onClick:()=>s(!0),children:c.jsx(Ws,{})}),c.jsxs(wy,{anchorEl:u,open:!!u,onClose:Me,children:[c.jsxs(en,{onClick:Le,children:[c.jsx(yu,{sx:{mr:1},fontSize:"small"}),t("common:edit")]}),H.find(Ge=>Ge.id===h)?.auto_collect_enabled?c.jsxs(en,{onClick:Xe,children:[c.jsx(pp,{sx:{mr:1},fontSize:"small"}),t("imageGroups:menu.runAutoCollection")]}):null,c.jsxs(en,{onClick:Oe,sx:{color:"error.main"},children:[c.jsx(Ia,{sx:{mr:1},fontSize:"small"}),t("common:delete")]})]}),c.jsx(_B,{open:i,onClose:()=>s(!1),onSuccess:ke}),r?c.jsx(_B,{open:o,onClose:()=>{l(!1),a(null)},onSuccess:Ie,group:r}):null,c.jsx(PJ,{open:V,onClose:Ce,images:q,loading:Y,currentGroup:Q,allGroups:H,pageSize:de,onPageSizeChange:Be,currentPage:re,totalPages:ce,total:me,onPageChange:Ne,onImagesRemoved:Ke,onImagesAssigned:Je})]}),c.jsx(ee,{sx:{display:e===1?"block":"none"},children:c.jsx(_Be,{onShowSnackbar:be})}),c.jsx(jg,{open:y.open,autoHideDuration:2e3,onClose:Ae,children:c.jsx(wt,{onClose:Ae,severity:y.severity,sx:{width:"100%"},children:y.message})})]})},TBe=()=>{const{t}=qt(["imageDetail","common"]),{compositeHash:e}=Lj(),n=Gf(),[r,a]=A.useState(null),[i,s]=A.useState(!0),[o,l]=A.useState(null),[u,d]=A.useState(!1),[h,m]=A.useState(!1),[y,x]=A.useState(!1),v=Pd();A.useEffect(()=>{(async()=>{try{const N=await $s.getSettings();m(N.tagger.enabled)}catch(N){console.error("Failed to load settings:",N),m(!1)}})()},[]),A.useEffect(()=>{(async()=>{if(!e){l(t("imageDetail:page.noIdProvided")),s(!1);return}try{s(!0);const N=await ya.getImage(e);N.success&&N.data?a(N.data):l(N.error||t("imageDetail:page.notFound"))}catch{l(t("imageDetail:page.errorLoading"))}finally{s(!1)}})()},[e,t]);const _=async()=>{if(e)try{const M=await ya.getImage(e);M.success&&M.data&&a(M.data)}catch(M){console.error("Failed to reload image after tagging:",M)}},C=M=>{if(M===0)return"0 Bytes";const N=1024,U=["Bytes","KB","MB","GB"],F=Math.floor(Math.log(M)/Math.log(N));return parseFloat((M/Math.pow(N,F)).toFixed(2))+" "+U[F]},w=M=>new Date(M).toLocaleString("ko-KR"),T=()=>{if(!r||!r.composite_hash)return;const M=document.createElement("a");M.href=`${v}/api/images/${r.composite_hash}/download/original`,M.download=r.original_file_path||`image_${r.composite_hash.substring(0,8)}.png`,document.body.appendChild(M),M.click(),document.body.removeChild(M)},E=()=>{window.history.length>1?n(-1):n("/gallery")},k=(M,N=50)=>{if(M.length<=N)return M;const U=M.split(".").pop();return`${M.substring(0,M.lastIndexOf(".")).substring(0,N-U.length-4)+"..."}.${U}`},j=async()=>{if(r?.composite_hash)try{await navigator.clipboard.writeText(r.composite_hash),x(!0)}catch(M){console.error("Failed to copy hash:",M)}};if(i)return c.jsxs(ee,{sx:{maxWidth:1200,mx:"auto",p:3},children:[c.jsxs(ee,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[c.jsx(du,{variant:"circular",width:40,height:40}),c.jsx(du,{variant:"text",width:200,height:40})]}),c.jsxs(yn,{container:!0,spacing:3,children:[c.jsx(yn,{size:{xs:12,md:8},children:c.jsx(du,{variant:"rectangular",height:600})}),c.jsx(yn,{size:{xs:12,md:4},children:c.jsx(du,{variant:"rectangular",height:600})})]})]});if(o||!r)return c.jsxs(ee,{sx:{maxWidth:1200,mx:"auto",p:3},children:[c.jsxs(ee,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[c.jsx(ht,{onClick:E,children:c.jsx(hC,{})}),c.jsx(ae,{variant:"h5",children:t("imageDetail:page.title")})]}),c.jsx(wt,{severity:"error",children:o||t("imageDetail:page.notFound")})]});const O=r?`${v}/api/images/${r.composite_hash}/thumbnail`:"",z=r?`${v}/api/images/${r.composite_hash}/download/original`:"";return c.jsxs(ee,{sx:{maxWidth:1200,mx:"auto",p:3},children:[c.jsxs(ee,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[c.jsx(ht,{onClick:E,children:c.jsx(hC,{})}),c.jsx(ae,{variant:"h5",sx:{flex:1},children:t("imageDetail:page.title")}),c.jsx(ee,{sx:{display:"flex",gap:1},children:c.jsx(Ze,{variant:"outlined",startIcon:c.jsx(Zv,{}),onClick:T,children:t("imageDetail:actions.download")})})]}),c.jsxs(yn,{container:!0,spacing:3,children:[c.jsx(yn,{size:{xs:12,md:7},children:c.jsxs(ee,{sx:{display:"flex",flexDirection:"column",gap:3},children:[c.jsx(Yt,{sx:{p:2,borderRadius:2},children:r.mime_type?.startsWith("video/")?c.jsx(ee,{component:"video",src:u?z:O,controls:!0,onError:()=>d(!0),sx:{width:"100%",height:"auto",maxHeight:"80vh",borderRadius:1}}):c.jsx(ee,{component:"img",src:u?z:O,alt:r.original_file_path??"",onError:()=>d(!0),sx:{width:"100%",height:"auto",maxHeight:"80vh",objectFit:"contain",borderRadius:1}})}),c.jsxs(Yt,{sx:{p:2,borderRadius:2},children:[c.jsx(ae,{variant:"h6",gutterBottom:!0,children:t("imageDetail:sections.fileInfo")}),c.jsxs(ae,{variant:"body2",color:"text.secondary",title:r.original_file_path??"",sx:{mb:1},children:[t("imageDetail:fileInfo.originalFilename"),": ",k(r.original_file_path??"")]})]}),c.jsxs(Yt,{sx:{p:2,borderRadius:2},children:[c.jsx(ae,{variant:"h6",gutterBottom:!0,children:r.mime_type?.startsWith("video/")?t("imageDetail:sections.videoInfo"):t("imageDetail:sections.imageInfo")}),c.jsxs(ee,{sx:{display:"flex",flexDirection:"column",gap:1},children:[c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:fileInfo.size"),":"]})," ",r.width,"  ",r.height]}),c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:fileInfo.fileSize"),":"]})," ",C(r.file_size??0)]}),c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:fileInfo.mimeType"),":"]})," ",r.mime_type]}),r.mime_type?.startsWith("video/")&&c.jsxs(c.Fragment,{children:[r.duration&&c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:videoInfo.duration"),":"]})," ",t("imageDetail:videoInfo.durationValue",{minutes:Math.floor(r.duration/60),seconds:Math.floor(r.duration%60)})]}),r.fps&&c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:videoInfo.fps"),":"]})," ",t("imageDetail:videoInfo.fpsValue",{fps:r.fps.toFixed(2)})]}),r.video_codec&&c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:videoInfo.videoCodec"),":"]})," ",r.video_codec]}),r.audio_codec&&c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:videoInfo.audioCodec"),":"]})," ",r.audio_codec]}),r.bitrate&&c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:videoInfo.bitrate"),":"]})," ",t("imageDetail:videoInfo.bitrateValue",{bitrate:(r.bitrate/1e3).toFixed(2)})]})]}),c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:fileInfo.uploadDate"),":"]})," ",w(r.first_seen_date)]})]})]}),r.groups&&r.groups.length>0&&c.jsxs(Yt,{sx:{p:2,borderRadius:2},children:[c.jsx(ae,{variant:"h6",gutterBottom:!0,children:t("imageDetail:sections.groupInfo")}),c.jsx(ee,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r.groups.map(M=>c.jsx(gt,{label:t("imageDetail:groupInfo.groupLabel",{name:M.name,type:M.collection_type==="auto"?t("imageDetail:groupInfo.autoType"):t("imageDetail:groupInfo.manualType")}),size:"small",variant:"filled",sx:{backgroundColor:M.color||(M.collection_type==="auto"?"#e3f2fd":"#f3e5f5"),color:M.color?"#fff":M.collection_type==="auto"?"#1976d2":"#7b1fa2"}},M.id))})]})]})}),c.jsx(yn,{size:{xs:12,md:5},children:c.jsxs(ee,{sx:{display:"flex",flexDirection:"column",gap:3,minWidth:325},children:[c.jsxs(Yt,{sx:{p:2,borderRadius:2},children:[c.jsx(ae,{variant:"h6",gutterBottom:!0,children:" "}),c.jsx(ee,{sx:{p:1.5,bgcolor:"action.hover",borderRadius:1,display:"flex",alignItems:"center",gap:1},children:r.composite_hash?c.jsxs(c.Fragment,{children:[c.jsx(Xt,{title:" ",children:c.jsx(ee,{onClick:j,sx:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer",fontFamily:"monospace",fontSize:"0.75rem",color:"text.secondary","&:hover":{color:"primary.main"}},children:r.composite_hash})}),c.jsx(Xt,{title:" ",children:c.jsx(ht,{size:"small",onClick:j,sx:{flexShrink:0},children:c.jsx(Qv,{fontSize:"small"})})})]}):c.jsxs(c.Fragment,{children:[c.jsx(Jv,{fontSize:"small",color:"disabled"}),c.jsx(ae,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:"   ..."})]})})]}),r.ai_metadata&&c.jsxs(Yt,{sx:{p:2,borderRadius:2},children:[c.jsx(ae,{variant:"h6",gutterBottom:!0,children:t("imageDetail:sections.aiInfo")}),c.jsxs(ee,{sx:{display:"flex",flexDirection:"column",gap:1},children:[r.ai_metadata.ai_tool&&c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.tool"),":"]})," ",r.ai_metadata.ai_tool]}),r.ai_metadata.model_name&&c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.model"),":"]})," ",r.ai_metadata.model_name]}),r.ai_metadata.lora_models&&c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.lora"),":"]})," ",JSON.stringify(r.ai_metadata.lora_models)]}),r.ai_metadata.generation_params.steps&&c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.steps"),":"]})," ",r.ai_metadata.generation_params.steps]}),r.ai_metadata.generation_params.cfg_scale&&c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.cfgScale"),":"]})," ",r.ai_metadata.generation_params.cfg_scale]}),r.ai_metadata.generation_params.sampler&&c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.sampler"),":"]})," ",r.ai_metadata.generation_params.sampler]}),r.ai_metadata.generation_params.scheduler&&c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.scheduler"),":"]})," ",r.ai_metadata.generation_params.scheduler]}),r.ai_metadata.generation_params.seed&&c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.seed"),":"]})," ",r.ai_metadata.generation_params.seed]}),r.ai_metadata.generation_params.denoise_strength&&c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.denoiseStrength"),":"]})," ",r.ai_metadata.generation_params.denoise_strength]}),r.ai_metadata.generation_params.generation_time&&c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.generationTime"),":"]})," ",t("imageDetail:aiInfo.generationTimeValue",{time:r.ai_metadata.generation_params.generation_time})]}),r.ai_metadata.generation_params.batch_size&&c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.batchSize"),":"]})," ",r.ai_metadata.generation_params.batch_size]}),r.ai_metadata.generation_params.batch_index&&c.jsxs(ae,{variant:"body2",children:[c.jsxs("strong",{children:[t("imageDetail:aiInfo.batchIndex"),":"]})," ",r.ai_metadata.generation_params.batch_index]})]})]}),r.ai_metadata&&(r.ai_metadata.prompts.prompt||r.ai_metadata.prompts.negative_prompt)||h?c.jsxs(Yt,{sx:{p:2,borderRadius:2},children:[c.jsx(ae,{variant:"h6",gutterBottom:!0,children:t("imageDetail:sections.promptInfo")}),c.jsx(BQ,{prompt:r.ai_metadata?.prompts.prompt,negativePrompt:r.ai_metadata?.prompts.negative_prompt,maxHeight:800,variant:"none",imageId:r.composite_hash,autoTags:r.auto_tags,isTaggerEnabled:h,onAutoTagGenerated:_})]}):null]})})]}),c.jsx(ee,{sx:{mt:3},children:c.jsxs(kc,{defaultExpanded:!1,children:[c.jsx(jc,{expandIcon:c.jsx(ts,{}),"aria-controls":"metadata-content",id:"metadata-header",children:c.jsx(ae,{variant:"h6",children:t("imageDetail:sections.fullMetadata")})}),c.jsx(Ic,{children:c.jsx(ee,{component:"pre",sx:{p:2,borderRadius:1,overflow:"auto",maxHeight:"750px",fontSize:"0.875rem"},children:JSON.stringify(r,null,2)})})]})}),c.jsx(jg,{open:y,autoHideDuration:2e3,onClose:()=>x(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:c.jsx(wt,{onClose:()=>x(!1),severity:"success",variant:"filled",children:" "})})]})},ABe=({open:t,onClose:e})=>{const[n,r]=A.useState(null),[a,i]=A.useState(null),[s,o]=A.useState(!1),[l,u]=A.useState(null),[d,h]=A.useState(!1),m=A.useRef(null);A.useEffect(()=>(t&&(y(),x()),()=>{m.current&&clearInterval(m.current)}),[t]),A.useEffect(()=>{if(d)return m.current=setInterval(async()=>{await x()},1e3),()=>{m.current&&clearInterval(m.current)};m.current&&clearInterval(m.current)},[d]),A.useEffect(()=>{a&&a.currentPhase==="completed"?(h(!1),y()):a&&a.isRunning?h(!0):a&&!a.isRunning&&h(!1)},[a]);const y=async()=>{try{const E=await gT.getStats();r(E)}catch(E){console.error("Failed to load thumbnail stats:",E),u("  ")}},x=async()=>{try{const E=await gT.getProgress();i(E)}catch(E){console.error("Failed to load progress:",E)}},v=async()=>{o(!0),u(null);try{await gT.regenerate(),h(!0),await x()}catch(E){console.error("Failed to start thumbnail regeneration:",E),E.response?.status===409?u("    "):u("   ")}finally{o(!1)}},_=()=>{d||e()},C=()=>!a||a.totalFiles===0?0:Math.round(a.processedFiles/a.totalFiles*100),w=E=>{switch(E){case"verification":return"  ...";case"deletion":return"   ...";case"generation":return"  ...";case"completed":return"";case"idle":default:return" "}},T=()=>{if(!a||!a.startTime)return"0";const E=Math.floor((Date.now()-a.startTime)/1e3);if(E<60)return`${E}`;const k=Math.floor(E/60),j=E%60;return`${k} ${j}`};return c.jsxs(hr,{open:t,onClose:_,maxWidth:"sm",fullWidth:!0,children:[c.jsx(br,{children:c.jsxs(ee,{display:"flex",alignItems:"center",gap:1,children:[c.jsx(xu,{color:"primary"}),c.jsx(ae,{variant:"h6",children:" "})]})}),c.jsxs(yr,{dividers:!0,children:[l&&c.jsx(wt,{severity:"error",sx:{mb:2},children:l}),n&&!d&&c.jsxs(ee,{sx:{mb:3},children:[c.jsx(ae,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:" "}),c.jsxs(ee,{sx:{display:"flex",flexDirection:"column",gap:1},children:[c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between"},children:[c.jsx(ae,{variant:"body2",color:"text.secondary",children:" :"}),c.jsxs(ae,{variant:"body2",fontWeight:"medium",children:[n.totalFiles.toLocaleString(),""]})]}),c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between"},children:[c.jsx(ae,{variant:"body2",color:"text.secondary",children:" :"}),c.jsxs(ae,{variant:"body2",fontWeight:"medium",color:"success.main",children:[n.withThumbnails.toLocaleString(),""]})]}),c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between"},children:[c.jsx(ae,{variant:"body2",color:"text.secondary",children:" :"}),c.jsxs(ae,{variant:"body2",fontWeight:"medium",color:"error.main",children:[n.withoutThumbnails.toLocaleString(),""]})]})]})]}),d&&a&&c.jsxs(ee,{sx:{mb:3},children:[c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[c.jsx(ae,{variant:"subtitle1",fontWeight:"bold",children:w(a.currentPhase)}),c.jsx(gt,{label:a.currentPhase==="completed"?"":" ",color:a.currentPhase==="completed"?"success":"primary",size:"small"})]}),a.currentPhase==="generation"&&c.jsxs(c.Fragment,{children:[c.jsx(Id,{variant:"determinate",value:C(),sx:{mb:1,height:8,borderRadius:4}}),c.jsxs(ae,{variant:"body2",color:"text.secondary",align:"center",sx:{mb:2},children:[a.processedFiles.toLocaleString()," / ",a.totalFiles.toLocaleString()," (",C(),"%)"]})]}),c.jsx(bn,{sx:{my:2}}),c.jsxs(ee,{sx:{display:"flex",flexDirection:"column",gap:1},children:[c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between"},children:[c.jsx(ae,{variant:"body2",color:"text.secondary",children:" :"}),c.jsxs(ae,{variant:"body2",fontWeight:"medium",children:[a.deletedThumbnails.toLocaleString(),""]})]}),c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between"},children:[c.jsx(ae,{variant:"body2",color:"text.secondary",children:" :"}),c.jsxs(ae,{variant:"body2",fontWeight:"medium",color:"success.main",children:[a.generatedThumbnails.toLocaleString(),""]})]}),c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between"},children:[c.jsx(ae,{variant:"body2",color:"text.secondary",children:" :"}),c.jsx(ae,{variant:"body2",fontWeight:"medium",children:T()})]})]})]}),a&&a.currentPhase==="completed"&&c.jsx(wt,{severity:"success",icon:c.jsx(Cs,{}),children:"  !"}),!d&&c.jsxs(wt,{severity:"info",sx:{mt:2},children:["    :",c.jsx("br",{}),"1.   ",c.jsx("br",{}),"2.   ",c.jsx("br",{}),"3.   ",c.jsx("br",{}),c.jsx("br",{}),c.jsx("strong",{children:":"}),"        ."]})]}),c.jsxs(kr,{children:[c.jsx(Ze,{onClick:_,disabled:d,children:d?" ...":""}),!d&&c.jsx(Ze,{onClick:v,variant:"contained",color:"primary",disabled:s||d,children:s?" ...":" "})]})]})},RBe=({settings:t,metadataSettings:e,thumbnailSettings:n,onUpdate:r,onMetadataUpdate:a,onThumbnailUpdate:i})=>{const{t:s,i18n:o}=qt("settings"),[l,u]=A.useState(!1),[d,h]=A.useState(null),[m,y]=A.useState(!1),x=async O=>{const z=O.target.value;u(!0),h(null);try{await r({language:z}),await o.changeLanguage(z)}catch(M){console.error("Failed to update language:",M),h("Failed to update language setting")}finally{u(!1)}},v=async O=>{u(!0),h(null);try{await a(O)}catch(z){console.error("Failed to update metadata settings:",z),h(s("messages.saveFailed"))}finally{u(!1)}},_=O=>{v({stealthScanMode:O.target.value})},C=O=>{const z=parseFloat(O.target.value);!isNaN(z)&&z>0&&v({stealthMaxFileSizeMB:z})},w=O=>{const z=parseFloat(O.target.value);!isNaN(z)&&z>0&&v({stealthMaxResolutionMP:z})},T=O=>z=>{v({[O]:z.target.checked})},E=async O=>{u(!0),h(null);try{await i(O)}catch(z){console.error("Failed to update thumbnail settings:",z),h("   ")}finally{u(!1)}},k=O=>{E({size:O.target.value})},j=O=>{const z=parseInt(O.target.value,10);!isNaN(z)&&z>=60&&z<=100&&E({quality:z})};return c.jsxs(ee,{children:[c.jsx(ae,{variant:"h6",gutterBottom:!0,children:s("general.title")}),d&&c.jsx(wt,{severity:"error",sx:{mb:2},children:d}),c.jsxs(Yt,{sx:{p:3},children:[c.jsxs(ba,{fullWidth:!0,disabled:l,children:[c.jsx(Ci,{id:"language-select-label",children:s("general.language.label")}),c.jsx(Ha,{labelId:"language-select-label",id:"language-select",value:t.language,label:s("general.language.label"),onChange:x,children:Ike.map(O=>c.jsxs(en,{value:O.code,children:[O.name," (",O.englishName,")"]},O.code))})]}),c.jsx(ee,{sx:{mb:2,mt:3},children:c.jsx(gr,{control:c.jsx(ii,{checked:t.enableGallery??!0,onChange:async O=>{try{await r({enableGallery:O.target.checked})}catch(z){console.error("Failed to update gallery setting:",z),h(s("messages.saveFailed"))}},disabled:l}),label:c.jsxs(ee,{sx:{display:"flex",alignItems:"center"},children:[c.jsx(ae,{variant:"body1",children:s("general.gallery.label")}),c.jsx(Xt,{title:s("general.gallery.tooltip"),arrow:!0,children:c.jsx(yc,{fontSize:"small",sx:{ml:1,color:"text.secondary"}})})]})})}),c.jsx(ee,{sx:{mb:2},children:c.jsx(gr,{control:c.jsx(ii,{checked:t.autoCleanupCanvasOnShutdown??!1,onChange:async O=>{try{await r({autoCleanupCanvasOnShutdown:O.target.checked})}catch(z){console.error("Failed to update canvas cleanup setting:",z),h(s("messages.saveFailed"))}},disabled:l}),label:c.jsxs(ee,{sx:{display:"flex",alignItems:"center"},children:[c.jsx(ae,{variant:"body1",children:s("general.canvasCleanup.label")}),c.jsx(Xt,{title:s("general.canvasCleanup.tooltip"),arrow:!0,children:c.jsx(yc,{fontSize:"small",sx:{ml:1,color:"text.secondary"}})})]})})}),c.jsx(ee,{sx:{mb:2},children:c.jsx(gr,{control:c.jsx(ii,{checked:t.showRatingBadges??!0,onChange:async O=>{try{await r({showRatingBadges:O.target.checked})}catch(z){console.error("Failed to update rating badges setting:",z),h(s("messages.saveFailed"))}},disabled:l}),label:c.jsxs(ee,{sx:{display:"flex",alignItems:"center"},children:[c.jsx(ae,{variant:"body1",children:s("general.ratingBadges.label")}),c.jsx(Xt,{title:s("general.ratingBadges.tooltip"),arrow:!0,children:c.jsx(yc,{fontSize:"small",sx:{ml:1,color:"text.secondary"}})})]})})}),c.jsx(ee,{sx:{mb:2},children:c.jsx(gr,{control:c.jsx(ii,{checked:t.deleteProtection?.enabled??!0,onChange:async O=>{try{await r({deleteProtection:{...t.deleteProtection,enabled:O.target.checked,recycleBinPath:"RecycleBin"}})}catch(z){console.error("Failed to update delete protection:",z),h(s("messages.saveFailed"))}},disabled:l}),label:c.jsxs(ee,{sx:{display:"flex",alignItems:"center"},children:[c.jsx(ae,{variant:"body1",children:s("general.deleteProtection.label")}),c.jsx(Xt,{title:s("general.deleteProtection.tooltip"),arrow:!0,children:c.jsx(yc,{fontSize:"small",sx:{ml:1,color:"text.secondary"}})})]})})}),c.jsx(bn,{sx:{my:4}}),c.jsxs(ee,{sx:{display:"flex",alignItems:"center",mb:3},children:[c.jsx(ae,{variant:"h6",children:" "}),c.jsx(Xt,{title:"      ",arrow:!0,children:c.jsx(yc,{fontSize:"small",sx:{ml:1,color:"text.secondary"}})})]}),c.jsxs(ba,{fullWidth:!0,disabled:l,sx:{mb:3},children:[c.jsx(Ci,{id:"thumbnail-size-label",children:" "}),c.jsxs(Ha,{labelId:"thumbnail-size-label",value:n.size,label:" ",onChange:k,children:[c.jsx(en,{value:"original",children:"  "}),c.jsx(en,{value:"2048",children:"2048px"}),c.jsx(en,{value:"1080",children:"1080px ()"}),c.jsx(en,{value:"720",children:"720px"}),c.jsx(en,{value:"512",children:"512px"})]})]}),c.jsx(Lt,{fullWidth:!0,type:"number",label:" ",value:n.quality,onChange:j,helperText:"     (60-100%)",inputProps:{min:60,max:100},disabled:l,sx:{mb:3}}),c.jsxs(ee,{sx:{mb:3},children:[c.jsx(Ze,{variant:"contained",color:"primary",onClick:()=>y(!0),disabled:l,fullWidth:!0,children:" "}),c.jsx(ae,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"      "})]}),c.jsx(bn,{sx:{my:4}}),c.jsxs(ee,{sx:{display:"flex",alignItems:"center",mb:3},children:[c.jsx(ae,{variant:"h6",children:s("general.metadata.title")}),c.jsx(Xt,{title:s("general.metadata.performanceNote"),arrow:!0,children:c.jsx(yc,{fontSize:"small",sx:{ml:1,color:"text.secondary"}})})]}),c.jsxs(ba,{component:"fieldset",fullWidth:!0,sx:{mb:3},disabled:l,children:[c.jsx(A2,{component:"legend",children:c.jsx(ae,{variant:"subtitle1",gutterBottom:!0,children:s("general.metadata.scanMode.title")})}),c.jsxs(I4,{value:e.stealthScanMode,onChange:_,children:[c.jsx(gr,{value:"fast",control:c.jsx(Rf,{}),label:c.jsxs(ee,{children:[c.jsx(ae,{variant:"body1",children:s("general.metadata.scanMode.fast.label")}),c.jsx(ae,{variant:"body2",color:"text.secondary",children:s("general.metadata.scanMode.fast.description")})]})}),c.jsx(gr,{value:"full",control:c.jsx(Rf,{}),label:c.jsxs(ee,{children:[c.jsx(ae,{variant:"body1",children:s("general.metadata.scanMode.full.label")}),c.jsx(ae,{variant:"body2",color:"text.secondary",children:s("general.metadata.scanMode.full.description")})]})}),c.jsx(gr,{value:"skip",control:c.jsx(Rf,{}),label:c.jsxs(ee,{children:[c.jsx(ae,{variant:"body1",children:s("general.metadata.scanMode.skip.label")}),c.jsx(ae,{variant:"body2",color:"text.secondary",children:s("general.metadata.scanMode.skip.description")})]})})]})]}),c.jsx(bn,{sx:{my:3}}),c.jsxs(ee,{sx:{mb:3},children:[c.jsx(ae,{variant:"subtitle1",gutterBottom:!0,children:s("general.metadata.limits.title")}),c.jsx(Lt,{fullWidth:!0,type:"number",label:s("general.metadata.limits.fileSize.label"),value:e.stealthMaxFileSizeMB,onChange:C,helperText:s("general.metadata.limits.fileSize.helper"),inputProps:{min:1,step:.5},disabled:l,sx:{mb:2}}),c.jsx(Lt,{fullWidth:!0,type:"number",label:s("general.metadata.limits.resolution.label"),value:e.stealthMaxResolutionMP,onChange:w,helperText:s("general.metadata.limits.resolution.helper"),inputProps:{min:1,step:.5},disabled:l})]}),c.jsx(bn,{sx:{my:3}}),c.jsxs(ee,{sx:{mb:3},children:[c.jsx(ae,{variant:"subtitle1",gutterBottom:!0,children:s("general.metadata.skipSettings.title")}),c.jsx(ae,{variant:"body2",color:"text.secondary",sx:{mb:2},children:s("general.metadata.skipSettings.description")}),c.jsx(gr,{control:c.jsx(ii,{checked:e.skipStealthForComfyUI,onChange:T("skipStealthForComfyUI"),disabled:l}),label:c.jsxs(ee,{children:[c.jsx(ae,{variant:"body1",children:s("general.metadata.skipSettings.comfyui.label")}),c.jsx(ae,{variant:"body2",color:"text.secondary",children:s("general.metadata.skipSettings.comfyui.description")})]})}),c.jsx(gr,{control:c.jsx(ii,{checked:e.skipStealthForWebUI,onChange:T("skipStealthForWebUI"),disabled:l}),label:c.jsxs(ee,{children:[c.jsx(ae,{variant:"body1",children:s("general.metadata.skipSettings.webui.label")}),c.jsx(ae,{variant:"body2",color:"text.secondary",children:s("general.metadata.skipSettings.webui.description")})]})})]}),c.jsx(bn,{sx:{my:3}}),c.jsx(ee,{sx:{mb:3},children:c.jsx(gr,{control:c.jsx(ii,{checked:e.enableSecondaryExtraction,onChange:T("enableSecondaryExtraction"),disabled:l}),label:c.jsxs(ee,{children:[c.jsx(ae,{variant:"body1",children:s("general.metadata.secondary.label")}),c.jsx(ae,{variant:"body2",color:"text.secondary",children:s("general.metadata.secondary.description")})]})})})]}),c.jsx(ABe,{open:m,onClose:()=>y(!1)})]})},kBe=({settings:t,onUpdate:e})=>{const[n,r]=A.useState(t),[a,i]=A.useState(!1),[s,o]=A.useState(!1);return A.useEffect(()=>{r(t)},[t]),A.useEffect(()=>{const h=JSON.stringify(n)!==JSON.stringify(t);o(h)},[n,t]),{localSettings:n,loading:a,hasChanges:s,updateSettings:h=>{r({...n,...h})},handleSave:async()=>{i(!0);try{await e(n),o(!1)}catch(h){throw console.error("Failed to save settings:",h),h}finally{i(!1)}},handleReset:()=>{r(t),o(!1)}}},IBe=t=>{const[e,n]=A.useState([]),[r,a]=A.useState(null),[i,s]=A.useState(!1),[o,l]=A.useState(!1);A.useEffect(()=>{u(),d()},[]),A.useEffect(()=>{if(t){const v=setInterval(d,5e3);return()=>clearInterval(v)}},[t]);const u=async()=>{try{const v=await $s.getModelsList();n(v)}catch(v){console.error("Failed to load models:",v)}},d=async()=>{try{s(!0);const v=await $s.getTaggerStatus();a(v)}catch(v){console.error("Failed to load model status:",v)}finally{s(!1)}};return{models:e,modelStatus:r,statusLoading:i,loading:o,loadModels:u,loadModelStatus:d,handleLoadModel:async(v,_)=>{l(!0);try{await $s.loadModel(v),await d(),alert(_("tagger.alerts.modelLoaded"))}catch(C){alert(_("tagger.alerts.loadFailed")),console.error("Failed to load model:",C)}finally{l(!1)}},handleUnloadModel:async v=>{l(!0);try{await $s.unloadModel(),await d(),alert(v("tagger.alerts.modelUnloaded"))}catch(_){alert(v("tagger.alerts.unloadFailed")),console.error("Failed to unload model:",_)}finally{l(!1)}},handleDownloadModel:async(v,_)=>{l(!0);try{const C=await $s.downloadModel(v);alert(C.message),await u(),_&&_()}catch(C){alert("Failed to download model"),console.error("Failed to download model:",C)}finally{l(!1)}},handleCheckDependencies:async()=>{try{return await $s.checkDependencies()}catch(v){return console.error("Failed to check dependencies:",v),{available:!1,message:"Failed to check dependencies"}}}}},jBe=(t,e)=>{if(!t)return e("tagger.modelStatus.none");const n=new Date(t),a=new Date().getTime()-n.getTime(),i=Math.floor(a/6e4);if(i<1)return e("tagger.modelStatus.justNow");if(i<60)return e("tagger.modelStatus.minutesAgo",{minutes:i});const s=Math.floor(i/60);if(s<24)return e("tagger.modelStatus.hoursAgo",{hours:s});const o=Math.floor(s/24);return e("tagger.modelStatus.daysAgo",{days:o})},OBe=t=>{const e=parseInt(t);return isNaN(e)||e<=0?{isValid:!1}:{isValid:!0,imageId:e}},DBe=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(!1),[a,i]=A.useState(null);return{testImageId:t,testProcessing:n,testResult:a,setTestImageId:e,handleTestImage:async o=>{const l=OBe(t);if(!l.isValid){alert(o("tagger.test.invalidId"));return}r(!0),i(null);try{const u=await LQ.testImage(String(l.imageId));i(u)}catch(u){alert(o("tagger.test.failed")),console.error("Failed to test image:",u)}finally{r(!1)}}}},NBe=t=>{const e=bt.c(62),{modelStatus:n,statusLoading:r,models:a,loading:i,onLoadModel:s,onUnloadModel:o,onRefreshStatus:l}=t,{t:u}=qt("settings");let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d={bgcolor:"background.default"},e[0]=d):d=e[0];let h;e[1]!==u?(h=u("tagger.modelStatus.title"),e[1]=u,e[2]=h):h=e[2];let m;e[3]!==h?(m=c.jsx(ae,{variant:"subtitle1",gutterBottom:!0,children:h}),e[3]=h,e[4]=m):m=e[4];let y;e[5]===Symbol.for("react.memo_cache_sentinel")?(y={mb:1},e[5]=y):y=e[5];let x;e[6]!==n?.modelLoaded||e[7]!==u?(x=n?.modelLoaded?u("tagger.modelStatus.loaded"):u("tagger.modelStatus.unloaded"),e[6]=n?.modelLoaded,e[7]=u,e[8]=x):x=e[8];const v=n?.modelLoaded?"success":"default";let _;e[9]!==n?.modelLoaded?(_=n?.modelLoaded?c.jsx(Cs,{}):void 0,e[9]=n?.modelLoaded,e[10]=_):_=e[10];let C;e[11]!==x||e[12]!==v||e[13]!==_?(C=c.jsx(gt,{label:x,color:v,size:"small",icon:_}),e[11]=x,e[12]=v,e[13]=_,e[14]=C):C=e[14];let w;e[15]!==n||e[16]!==a?(w=n?.currentModel&&c.jsx(gt,{label:a.find(q=>q.name===n.currentModel)?.label||n.currentModel,size:"small",variant:"outlined"}),e[15]=n,e[16]=a,e[17]=w):w=e[17];let T;e[18]!==n?(T=n?.currentDevice&&c.jsx(gt,{label:n.currentDevice,size:"small",color:n.currentDevice.includes("cuda")?"success":"default",variant:"outlined"}),e[18]=n,e[19]=T):T=e[19];let E;e[20]!==r?(E=r&&c.jsx(Kt,{size:16}),e[20]=r,e[21]=E):E=e[21];let k;e[22]!==T||e[23]!==E||e[24]!==C||e[25]!==w?(k=c.jsxs(fn,{direction:"row",spacing:1,alignItems:"center",sx:y,children:[C,w,T,E]}),e[22]=T,e[23]=E,e[24]=C,e[25]=w,e[26]=k):k=e[26];let j;e[27]!==n||e[28]!==u?(j=n?.lastUsedAt&&c.jsxs(ae,{variant:"caption",color:"text.secondary",children:[u("tagger.modelStatus.lastUsed"),": ",jBe(n.lastUsedAt,u)]}),e[27]=n,e[28]=u,e[29]=j):j=e[29];let O;e[30]!==k||e[31]!==j||e[32]!==m?(O=c.jsxs(ee,{flex:1,children:[m,k,j]}),e[30]=k,e[31]=j,e[32]=m,e[33]=O):O=e[33];const z=n?.modelLoaded||i;let M;e[34]===Symbol.for("react.memo_cache_sentinel")?(M=c.jsx(lv,{}),e[34]=M):M=e[34];let N;e[35]!==u?(N=u("tagger.buttons.load"),e[35]=u,e[36]=N):N=e[36];let U;e[37]!==s||e[38]!==z||e[39]!==N?(U=c.jsx(Ze,{onClick:s,disabled:z,startIcon:M,size:"small",children:N}),e[37]=s,e[38]=z,e[39]=N,e[40]=U):U=e[40];const F=!n?.modelLoaded||i;let $;e[41]===Symbol.for("react.memo_cache_sentinel")?($=c.jsx(jRe,{}),e[41]=$):$=e[41];let D;e[42]!==u?(D=u("tagger.buttons.unload"),e[42]=u,e[43]=D):D=e[43];let H;e[44]!==o||e[45]!==F||e[46]!==D?(H=c.jsx(Ze,{onClick:o,disabled:F,startIcon:$,color:"warning",size:"small",children:D}),e[44]=o,e[45]=F,e[46]=D,e[47]=H):H=e[47];let L;e[48]===Symbol.for("react.memo_cache_sentinel")?(L=c.jsx(vo,{}),e[48]=L):L=e[48];let V;e[49]!==u?(V=u("tagger.buttons.refresh"),e[49]=u,e[50]=V):V=e[50];let J;e[51]!==l||e[52]!==r||e[53]!==V?(J=c.jsx(Ze,{onClick:l,disabled:r,startIcon:L,size:"small",variant:"outlined",children:V}),e[51]=l,e[52]=r,e[53]=V,e[54]=J):J=e[54];let Q;e[55]!==U||e[56]!==H||e[57]!==J?(Q=c.jsxs(fn,{direction:"row",spacing:1,children:[U,H,J]}),e[55]=U,e[56]=H,e[57]=J,e[58]=Q):Q=e[58];let K;return e[59]!==O||e[60]!==Q?(K=c.jsx(fr,{variant:"outlined",sx:d,children:c.jsx(Ra,{children:c.jsxs(fn,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[O,Q]})})}),e[59]=O,e[60]=Q,e[61]=K):K=e[61],K},MBe=t=>{const e=bt.c(147),{localSettings:n,models:r,onUpdateSettings:a,onDownloadModel:i,onRefreshModels:s,downloading:o}=t,{t:l}=qt("settings");let u,d,h,m,y,x;if(e[0]!==o||e[1]!==n.device||e[2]!==n.enabled||e[3]!==n.model||e[4]!==r||e[5]!==i||e[6]!==s||e[7]!==a||e[8]!==l){let ne;e[15]!==n.model?(ne=Ge=>Ge.name===n.model,e[15]=n.model,e[16]=ne):ne=e[16];const re=r.find(ne),ie=re?.downloaded||!1;u=fn,d=3;let ce;e[17]!==a?(ce=Ge=>a({enabled:Ge.target.checked}),e[17]=a,e[18]=ce):ce=e[18];let he;e[19]!==n.enabled||e[20]!==ce?(he=c.jsx(ii,{checked:n.enabled,onChange:ce}),e[19]=n.enabled,e[20]=ce,e[21]=he):he=e[21];let me;e[22]!==l?(me=l("tagger.enableAutoTagging"),e[22]=l,e[23]=me):me=e[23],e[24]!==he||e[25]!==me?(h=c.jsx(gr,{control:he,label:me}),e[24]=he,e[25]=me,e[26]=h):h=e[26],e[27]!==n.enabled||e[28]!==n.model||e[29]!==r||e[30]!==a||e[31]!==l?(m=r.length>0?c.jsxs(ba,{fullWidth:!0,disabled:!n.enabled,children:[c.jsx(Ci,{children:l("tagger.model.label")}),c.jsx(Ha,{value:n.model,label:l("tagger.model.label"),onChange:Ge=>a({model:Ge.target.value}),children:r.map(Ge=>c.jsx(en,{value:Ge.name,children:c.jsxs(ee,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[c.jsxs(ee,{children:[c.jsx(ae,{variant:"body1",children:Ge.label}),c.jsx(ae,{variant:"caption",color:"text.secondary",children:Ge.description})]}),Ge.downloaded&&c.jsx(gt,{size:"small",icon:c.jsx(Cs,{}),label:l("tagger.model.downloaded"),color:"success",sx:{ml:2}})]})},Ge.name))})]}):c.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:2},children:[c.jsx(Kt,{size:20}),c.jsx(ae,{variant:"body2",color:"text.secondary",children:l("tagger.model.loading")})]}),e[27]=n.enabled,e[28]=n.model,e[29]=r,e[30]=a,e[31]=l,e[32]=m):m=e[32];const le=!n.enabled;let de;e[33]!==l?(de=l("tagger.device.label"),e[33]=l,e[34]=de):de=e[34];let pe;e[35]!==de?(pe=c.jsx(Ci,{children:de}),e[35]=de,e[36]=pe):pe=e[36];const ve=n.device;let ge;e[37]!==l?(ge=l("tagger.device.label"),e[37]=l,e[38]=ge):ge=e[38];let oe;e[39]!==a?(oe=Ge=>a({device:Ge.target.value}),e[39]=a,e[40]=oe):oe=e[40];let Se;e[41]!==l?(Se=l("tagger.device.auto.title"),e[41]=l,e[42]=Se):Se=e[42];let be;e[43]!==Se?(be=c.jsx(ae,{variant:"body1",children:Se}),e[43]=Se,e[44]=be):be=e[44];let Ae;e[45]!==l?(Ae=l("tagger.device.auto.description"),e[45]=l,e[46]=Ae):Ae=e[46];let Me;e[47]!==Ae?(Me=c.jsx(ae,{variant:"caption",color:"text.secondary",children:Ae}),e[47]=Ae,e[48]=Me):Me=e[48];let Pe;e[49]!==be||e[50]!==Me?(Pe=c.jsx(en,{value:"auto",children:c.jsxs(ee,{children:[be,Me]})}),e[49]=be,e[50]=Me,e[51]=Pe):Pe=e[51];let Le;e[52]!==l?(Le=l("tagger.device.cpu.title"),e[52]=l,e[53]=Le):Le=e[53];let Oe;e[54]!==Le?(Oe=c.jsx(ae,{variant:"body1",children:Le}),e[54]=Le,e[55]=Oe):Oe=e[55];let Xe;e[56]!==l?(Xe=l("tagger.device.cpu.description"),e[56]=l,e[57]=Xe):Xe=e[57];let ke;e[58]!==Xe?(ke=c.jsx(ae,{variant:"caption",color:"text.secondary",children:Xe}),e[58]=Xe,e[59]=ke):ke=e[59];let Ie;e[60]!==Oe||e[61]!==ke?(Ie=c.jsx(en,{value:"cpu",children:c.jsxs(ee,{children:[Oe,ke]})}),e[60]=Oe,e[61]=ke,e[62]=Ie):Ie=e[62];let ye;e[63]!==l?(ye=l("tagger.device.cuda.title"),e[63]=l,e[64]=ye):ye=e[64];let Ce;e[65]!==ye?(Ce=c.jsx(ae,{variant:"body1",children:ye}),e[65]=ye,e[66]=Ce):Ce=e[66];let Ne;e[67]!==l?(Ne=l("tagger.device.cuda.description"),e[67]=l,e[68]=Ne):Ne=e[68];let Be;e[69]!==Ne?(Be=c.jsx(ae,{variant:"caption",color:"text.secondary",children:Ne}),e[69]=Ne,e[70]=Be):Be=e[70];let Ke;e[71]!==Ce||e[72]!==Be?(Ke=c.jsx(en,{value:"cuda",children:c.jsxs(ee,{children:[Ce,Be]})}),e[71]=Ce,e[72]=Be,e[73]=Ke):Ke=e[73];let Je;e[74]!==n.device||e[75]!==ge||e[76]!==oe||e[77]!==Pe||e[78]!==Ie||e[79]!==Ke?(Je=c.jsxs(Ha,{value:ve,label:ge,onChange:oe,children:[Pe,Ie,Ke]}),e[74]=n.device,e[75]=ge,e[76]=oe,e[77]=Pe,e[78]=Ie,e[79]=Ke,e[80]=Je):Je=e[80],e[81]!==le||e[82]!==pe||e[83]!==Je?(y=c.jsxs(ba,{fullWidth:!0,disabled:le,children:[pe,Je]}),e[81]=le,e[82]=pe,e[83]=Je,e[84]=y):y=e[84],x=n.enabled&&c.jsxs(ee,{children:[c.jsxs(ee,{sx:{display:"flex",alignItems:"center",mb:2,gap:1},children:[c.jsx(gt,{icon:ie?c.jsx(Cs,{}):c.jsx(cv,{}),label:l(ie?"tagger.status.downloaded":"tagger.status.notDownloaded"),color:ie?"success":"warning",size:"small"}),c.jsx(Xt,{title:ie?l("tagger.alerts.modelDownloaded",{model:re?.label}):l("tagger.alerts.modelNotDownloaded",{model:re?.label}),arrow:!0,children:c.jsx(cv,{fontSize:"small",sx:{color:"text.secondary",cursor:"help"}})})]}),c.jsxs(fn,{direction:{xs:"column",sm:"row"},spacing:2,children:[c.jsx(Ze,{fullWidth:!0,variant:"outlined",startIcon:o?c.jsx(Kt,{size:20}):c.jsx(IRe,{}),onClick:i,disabled:o||ie,children:l(o?"tagger.buttons.downloading":"tagger.buttons.download")}),c.jsx(Ze,{fullWidth:!0,variant:"outlined",startIcon:c.jsx(vo,{}),onClick:s,children:l("tagger.buttons.refreshStatus")})]})]}),e[0]=o,e[1]=n.device,e[2]=n.enabled,e[3]=n.model,e[4]=r,e[5]=i,e[6]=s,e[7]=a,e[8]=l,e[9]=u,e[10]=d,e[11]=h,e[12]=m,e[13]=y,e[14]=x}else u=e[9],d=e[10],h=e[11],m=e[12],y=e[13],x=e[14];let v;e[85]!==n.generalThreshold||e[86]!==l?(v=l("tagger.threshold.general.label",{value:n.generalThreshold.toFixed(2)}),e[85]=n.generalThreshold,e[86]=l,e[87]=v):v=e[87];let _;e[88]!==v?(_=c.jsx(ae,{gutterBottom:!0,children:v}),e[88]=v,e[89]=_):_=e[89];let C;e[90]!==a?(C=(ne,re)=>a({generalThreshold:re}),e[90]=a,e[91]=C):C=e[91];let w;e[92]===Symbol.for("react.memo_cache_sentinel")?(w=[{value:0,label:"0.0"},{value:.5,label:"0.5"},{value:1,label:"1.0"}],e[92]=w):w=e[92];const T=!n.enabled;let E;e[93]!==n.generalThreshold||e[94]!==T||e[95]!==C?(E=c.jsx(Ba,{value:n.generalThreshold,onChange:C,min:0,max:1,step:.05,marks:w,disabled:T}),e[93]=n.generalThreshold,e[94]=T,e[95]=C,e[96]=E):E=e[96];let k;e[97]!==l?(k=l("tagger.threshold.general.description"),e[97]=l,e[98]=k):k=e[98];let j;e[99]!==k?(j=c.jsx(ae,{variant:"caption",color:"text.secondary",children:k}),e[99]=k,e[100]=j):j=e[100];let O;e[101]!==E||e[102]!==j||e[103]!==_?(O=c.jsxs(ee,{children:[_,E,j]}),e[101]=E,e[102]=j,e[103]=_,e[104]=O):O=e[104];let z;e[105]!==n.characterThreshold||e[106]!==l?(z=l("tagger.threshold.character.label",{value:n.characterThreshold.toFixed(2)}),e[105]=n.characterThreshold,e[106]=l,e[107]=z):z=e[107];let M;e[108]!==z?(M=c.jsx(ae,{gutterBottom:!0,children:z}),e[108]=z,e[109]=M):M=e[109];let N;e[110]!==a?(N=(ne,re)=>a({characterThreshold:re}),e[110]=a,e[111]=N):N=e[111];let U;e[112]===Symbol.for("react.memo_cache_sentinel")?(U=[{value:0,label:"0.0"},{value:.5,label:"0.5"},{value:1,label:"1.0"}],e[112]=U):U=e[112];const F=!n.enabled;let $;e[113]!==n.characterThreshold||e[114]!==N||e[115]!==F?($=c.jsx(Ba,{value:n.characterThreshold,onChange:N,min:0,max:1,step:.05,marks:U,disabled:F}),e[113]=n.characterThreshold,e[114]=N,e[115]=F,e[116]=$):$=e[116];let D;e[117]!==l?(D=l("tagger.threshold.character.description"),e[117]=l,e[118]=D):D=e[118];let H;e[119]!==D?(H=c.jsx(ae,{variant:"caption",color:"text.secondary",children:D}),e[119]=D,e[120]=H):H=e[120];let L;e[121]!==M||e[122]!==$||e[123]!==H?(L=c.jsxs(ee,{children:[M,$,H]}),e[121]=M,e[122]=$,e[123]=H,e[124]=L):L=e[124];let V;e[125]!==l?(V=l("tagger.pythonPath.label"),e[125]=l,e[126]=V):V=e[126];const J=n.pythonPath;let Q;e[127]!==a?(Q=ne=>a({pythonPath:ne.target.value}),e[127]=a,e[128]=Q):Q=e[128];const K=!n.enabled;let q;e[129]!==l?(q=l("tagger.pythonPath.helper"),e[129]=l,e[130]=q):q=e[130];let Z;e[131]!==n.pythonPath||e[132]!==V||e[133]!==Q||e[134]!==K||e[135]!==q?(Z=c.jsx(Lt,{label:V,value:J,onChange:Q,fullWidth:!0,disabled:K,helperText:q}),e[131]=n.pythonPath,e[132]=V,e[133]=Q,e[134]=K,e[135]=q,e[136]=Z):Z=e[136];let Y;return e[137]!==u||e[138]!==d||e[139]!==O||e[140]!==h||e[141]!==L||e[142]!==Z||e[143]!==m||e[144]!==y||e[145]!==x?(Y=c.jsxs(u,{spacing:d,children:[h,m,y,x,O,L,Z]}),e[137]=u,e[138]=d,e[139]=O,e[140]=h,e[141]=L,e[142]=Z,e[143]=m,e[144]=y,e[145]=x,e[146]=Y):Y=e[146],Y},PBe=t=>{const e=bt.c(40),{localSettings:n,onUpdateSettings:r}=t,{t:a}=qt("settings");let i;e[0]!==a?(i=a("tagger.memoryManagement.title"),e[0]=a,e[1]=i):i=e[1];let s;e[2]!==i?(s=c.jsx(ae,{variant:"h6",gutterBottom:!0,children:i}),e[2]=i,e[3]=s):s=e[3];let o;e[4]!==a?(o=a("tagger.memoryManagement.description"),e[4]=a,e[5]=o):o=e[5];let l;e[6]!==o?(l=c.jsx(ae,{variant:"body2",color:"text.secondary",paragraph:!0,children:o}),e[6]=o,e[7]=l):l=e[7];let u;e[8]===Symbol.for("react.memo_cache_sentinel")?(u={display:"flex",alignItems:"center"},e[8]=u):u=e[8];let d;e[9]!==r?(d=k=>r({keepModelLoaded:k.target.checked}),e[9]=r,e[10]=d):d=e[10];let h;e[11]!==n.keepModelLoaded||e[12]!==d?(h=c.jsx(ii,{checked:n.keepModelLoaded,onChange:d}),e[11]=n.keepModelLoaded,e[12]=d,e[13]=h):h=e[13];let m;e[14]!==a?(m=a("tagger.memoryManagement.keepModelLoaded"),e[14]=a,e[15]=m):m=e[15];let y;e[16]!==h||e[17]!==m?(y=c.jsx(gr,{control:h,label:m}),e[16]=h,e[17]=m,e[18]=y):y=e[18];let x;e[19]!==n.keepModelLoaded||e[20]!==a?(x=n.keepModelLoaded?a("tagger.memoryManagement.keepLoadedAlert"):a("tagger.memoryManagement.notKeepLoadedAlert"),e[19]=n.keepModelLoaded,e[20]=a,e[21]=x):x=e[21];let v;e[22]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx(yc,{fontSize:"small",sx:{ml:1,color:"text.secondary"}}),e[22]=v):v=e[22];let _;e[23]!==x?(_=c.jsx(Xt,{title:x,arrow:!0,children:v}),e[23]=x,e[24]=_):_=e[24];let C;e[25]!==_||e[26]!==y?(C=c.jsxs(ee,{sx:u,children:[y,_]}),e[25]=_,e[26]=y,e[27]=C):C=e[27];let w;e[28]!==n.autoUnloadMinutes||e[29]!==n.keepModelLoaded||e[30]!==r||e[31]!==a?(w=n.keepModelLoaded&&c.jsxs(ee,{children:[c.jsx(ae,{gutterBottom:!0,children:a("tagger.memoryManagement.autoUnloadMinutes",{minutes:n.autoUnloadMinutes})}),c.jsx(Ba,{value:n.autoUnloadMinutes,onChange:(k,j)=>r({autoUnloadMinutes:j}),min:1,max:60,step:1,marks:[{value:1,label:"1min"},{value:15,label:"15min"},{value:30,label:"30min"},{value:60,label:"60min"}]}),c.jsx(ae,{variant:"caption",color:"text.secondary",children:a("tagger.memoryManagement.autoUnloadDescription")})]}),e[28]=n.autoUnloadMinutes,e[29]=n.keepModelLoaded,e[30]=r,e[31]=a,e[32]=w):w=e[32];let T;e[33]!==C||e[34]!==w?(T=c.jsxs(fn,{spacing:2,children:[C,w]}),e[33]=C,e[34]=w,e[35]=T):T=e[35];let E;return e[36]!==T||e[37]!==s||e[38]!==l?(E=c.jsxs(ee,{children:[s,l,T]}),e[36]=T,e[37]=s,e[38]=l,e[39]=E):E=e[39],E},LBe=t=>{const e=bt.c(42),{testImageId:n,testProcessing:r,testResult:a,onSetTestImageId:i,onTestImage:s}=t,{t:o}=qt("settings");let l;e[0]!==o?(l=o("tagger.test.title"),e[0]=o,e[1]=l):l=e[1];let u;e[2]!==l?(u=c.jsx(ae,{variant:"h6",gutterBottom:!0,children:l}),e[2]=l,e[3]=u):u=e[3];let d;e[4]!==o?(d=o("tagger.test.description"),e[4]=o,e[5]=d):d=e[5];let h;e[6]!==d?(h=c.jsx(ae,{variant:"body2",color:"text.secondary",paragraph:!0,children:d}),e[6]=d,e[7]=h):h=e[7];let m;e[8]===Symbol.for("react.memo_cache_sentinel")?(m={mb:2},e[8]=m):m=e[8];let y;e[9]!==o?(y=o("tagger.test.imageHash"),e[9]=o,e[10]=y):y=e[10];let x;e[11]!==i?(x=M=>i(M.target.value),e[11]=i,e[12]=x):x=e[12];let v;e[13]!==o?(v=o("tagger.test.placeholderHash"),e[13]=o,e[14]=v):v=e[14];let _;e[15]!==y||e[16]!==x||e[17]!==v||e[18]!==n?(_=c.jsx(Lt,{label:y,value:n,onChange:x,fullWidth:!0,placeholder:v}),e[15]=y,e[16]=x,e[17]=v,e[18]=n,e[19]=_):_=e[19];let C;e[20]!==r?(C=r?c.jsx(Kt,{size:20}):c.jsx(JRe,{}),e[20]=r,e[21]=C):C=e[21];const w=r||!n;let T;e[22]===Symbol.for("react.memo_cache_sentinel")?(T={minWidth:150},e[22]=T):T=e[22];let E;e[23]!==o||e[24]!==r?(E=o(r?"tagger.test.processing":"tagger.test.button"),e[23]=o,e[24]=r,e[25]=E):E=e[25];let k;e[26]!==s||e[27]!==C||e[28]!==w||e[29]!==E?(k=c.jsx(Ze,{variant:"contained",startIcon:C,onClick:s,disabled:w,sx:T,children:E}),e[26]=s,e[27]=C,e[28]=w,e[29]=E,e[30]=k):k=e[30];let j;e[31]!==k||e[32]!==_?(j=c.jsxs(fn,{direction:"row",spacing:2,sx:m,children:[_,k]}),e[31]=k,e[32]=_,e[33]=j):j=e[33];let O;e[34]!==o||e[35]!==a?(O=a&&c.jsxs(wt,{severity:"success",sx:{mt:2},children:[c.jsx(ae,{variant:"subtitle2",gutterBottom:!0,children:o("tagger.test.result")}),c.jsx(ae,{variant:"body2",component:"pre",sx:{whiteSpace:"pre-wrap",fontSize:"0.875rem"},children:JSON.stringify(a.auto_tags,null,2)})]}),e[34]=o,e[35]=a,e[36]=O):O=e[36];let z;return e[37]!==j||e[38]!==O||e[39]!==u||e[40]!==h?(z=c.jsxs(ee,{children:[u,h,j,O]}),e[37]=j,e[38]=O,e[39]=u,e[40]=h,e[41]=z):z=e[41],z},zBe=({settings:t,onUpdate:e})=>{const{t:n}=qt("settings"),{localSettings:r,loading:a,hasChanges:i,updateSettings:s,handleSave:o,handleReset:l}=kBe({settings:t,onUpdate:e}),{models:u,modelStatus:d,statusLoading:h,loading:m,loadModels:y,loadModelStatus:x,handleLoadModel:v,handleUnloadModel:_,handleDownloadModel:C,handleCheckDependencies:w}=IBe(r.enabled),{testImageId:T,testProcessing:E,testResult:k,setTestImageId:j,handleTestImage:O}=DBe(),[z,M]=A.useState(!1),[N,U]=A.useState(!1),[F,$]=A.useState(null),[D,H]=A.useState(null),L=async()=>{M(!0),$(null);try{const J=await w();H(J.available),$(J.message)}catch{H(!1),$("Failed to check dependencies")}finally{M(!1)}},V=async()=>{U(!0),await C(r.model,n),U(!1)};return c.jsx(ee,{children:c.jsx(fr,{children:c.jsxs(Ra,{children:[c.jsx(ae,{variant:"h6",gutterBottom:!0,children:n("tagger.title")}),c.jsx(ae,{variant:"body2",color:"text.secondary",paragraph:!0,children:n("tagger.description")}),c.jsxs(fn,{spacing:3,sx:{mt:3},children:[r.enabled&&c.jsx(NBe,{modelStatus:d,statusLoading:h,models:u,loading:m,onLoadModel:()=>v(r.model,n),onUnloadModel:()=>_(n),onRefreshStatus:x}),c.jsx(bn,{}),c.jsx(MBe,{localSettings:r,models:u,onUpdateSettings:s,onDownloadModel:V,onRefreshModels:y,downloading:N}),c.jsx(bn,{sx:{my:2}}),r.enabled&&c.jsx(PBe,{localSettings:r,onUpdateSettings:s}),c.jsx(bn,{sx:{my:2}}),c.jsxs(ee,{children:[c.jsx(Ze,{variant:"outlined",startIcon:z?c.jsx(Kt,{size:20}):c.jsx(Cs,{}),onClick:L,disabled:z||!r.enabled,fullWidth:!0,children:n(z?"tagger.buttons.checking":"tagger.buttons.checkDependencies")}),F&&c.jsx(wt,{severity:D?"success":"error",sx:{mt:2},children:F})]}),c.jsx(bn,{sx:{my:2}}),r.enabled&&c.jsx(LBe,{testImageId:T,testProcessing:E,testResult:k,onSetTestImageId:j,onTestImage:()=>O(n)}),c.jsxs(fn,{direction:"row",spacing:2,sx:{mt:3},children:[c.jsx(Ze,{variant:"contained",onClick:o,disabled:!i||a,fullWidth:!0,children:a?c.jsx(Kt,{size:24}):n("tagger.buttons.save")}),c.jsx(Ze,{variant:"outlined",onClick:l,disabled:!i||a,fullWidth:!0,children:n("tagger.buttons.cancel")})]})]})]})})})},FBe=()=>{const[t,e]=A.useState(null),[n,r]=A.useState({}),[a,i]=A.useState(!0),[s,o]=A.useState(!1);A.useEffect(()=>{l()},[]),A.useEffect(()=>{if(t){const h=n.general_weight!==void 0||n.sensitive_weight!==void 0||n.questionable_weight!==void 0||n.explicit_weight!==void 0;o(h)}},[n,t]);const l=async()=>{i(!0);try{const h=await ap.getWeights();e(h),r({})}catch(h){throw console.error("Failed to load weights:",h),h}finally{i(!1)}};return{weights:t,localWeights:n,weightsLoading:a,weightsHasChanges:s,setLocalWeights:r,loadWeights:l,handleSaveWeights:async()=>{if(s)try{const h=await ap.updateWeights(n);return e(h),r({}),h}catch(h){throw console.error("Failed to save weights:",h),h}},handleResetWeights:()=>{r({})}}},BBe=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!0),[a,i]=A.useState({open:!1,mode:"create",tier:{}});A.useEffect(()=>{s()},[]);const s=async()=>{r(!0);try{const h=await ap.getAllTiers();e(h)}catch(h){throw console.error("Failed to load tiers:",h),h}finally{r(!1)}},o=(h,m)=>{if(h==="edit"&&m)i({open:!0,mode:"edit",tier:{tier_name:m.tier_name,min_score:m.min_score,max_score:m.max_score,tier_order:m.tier_order,color:m.color},editId:m.id});else{const y=t.length>0?Math.max(...t.map(x=>x.tier_order))+1:1;i({open:!0,mode:"create",tier:{tier_name:"",min_score:0,max_score:null,tier_order:y,color:"#2196f3"}})}},l=()=>{i({open:!1,mode:"create",tier:{}})};return{tiers:t,tiersLoading:n,tierDialog:a,setTierDialog:i,loadTiers:s,handleOpenTierDialog:o,handleCloseTierDialog:l,handleSaveTier:async()=>{const{mode:h,tier:m,editId:y}=a;if(!m.tier_name||m.min_score===void 0||m.tier_order===void 0)throw new Error("Required fields missing");try{return h==="create"?await ap.createTier(m):y&&await ap.updateTier(y,m),await s(),l(),h}catch(x){throw console.error("Failed to save tier:",x),x}},handleDeleteTier:async h=>{try{await ap.deleteTier(h),await s()}catch(m){throw console.error("Failed to delete tier:",m),m}}}},Bh=(t,e,n)=>{if(!t)return 0;const r=e[n];return r!==void 0?r:t[n]??0},Hh=t=>Math.round(t*1e3)/1e3,HBe=(t,e,n)=>{const[r,a]=A.useState({general:.001,sensitive:.045,questionable:.735,explicit:.47}),[i,s]=A.useState(null),[o,l]=A.useState(!1),[u,d]=A.useState(null);A.useEffect(()=>{e&&Object.keys(e).length>0&&h()},[e,t,n]);const h=()=>{if(t)try{const y={general_weight:e.general_weight??t.general_weight,sensitive_weight:e.sensitive_weight??t.sensitive_weight,questionable_weight:e.questionable_weight??t.questionable_weight,explicit_weight:e.explicit_weight??t.explicit_weight},x=Hh(.001)*(y.general_weight||0)+Hh(.045)*(y.sensitive_weight||0)+Hh(.735)*(y.questionable_weight||0)+Hh(.47)*(y.explicit_weight||0),v=n.find(_=>_.min_score<=x&&(_.max_score===null||_.max_score>x));d({score:x,tier:v||null,breakdown:{general:Hh(.001)*(y.general_weight||0),sensitive:Hh(.045)*(y.sensitive_weight||0),questionable:Hh(.735)*(y.questionable_weight||0),explicit:Hh(.47)*(y.explicit_weight||0)},rawRating:{general:.001,sensitive:.045,questionable:.735,explicit:.47}})}catch(y){console.error("Failed to calculate preview:",y)}};return{testRating:r,testResult:i,testLoading:o,previewResult:u,setTestRating:a,handleCalculateTest:async()=>{l(!0);try{const y=await ap.calculateScore(r);s(y)}catch(y){throw console.error("Failed to calculate score:",y),y}finally{l(!1)}}}},UBe=t=>{const e=bt.c(116),{weights:n,localWeights:r,weightsHasChanges:a,saving:i,previewResult:s,onUpdateWeights:o,onSaveWeights:l,onResetWeights:u}=t,{t:d}=qt("settings");let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h={mb:3},e[0]=h):h=e[0];let m;e[1]!==d?(m=d("rating.weights.title"),e[1]=d,e[2]=m):m=e[2];let y;e[3]!==m?(y=c.jsx(ae,{variant:"h6",gutterBottom:!0,children:m}),e[3]=m,e[4]=y):y=e[4];let x;e[5]!==d?(x=d("rating.weights.description"),e[5]=d,e[6]=x):x=e[6];let v;e[7]!==x?(v=c.jsx(ae,{variant:"body2",color:"text.secondary",paragraph:!0,children:x}),e[7]=x,e[8]=v):v=e[8];let _;e[9]===Symbol.for("react.memo_cache_sentinel")?(_={mt:3},e[9]=_):_=e[9];let C;e[10]!==r||e[11]!==d||e[12]!==n?(C=d("rating.weights.general",{value:Bh(n,r,"general_weight")}),e[10]=r,e[11]=d,e[12]=n,e[13]=C):C=e[13];let w;e[14]!==C?(w=c.jsx(ae,{gutterBottom:!0,children:C}),e[14]=C,e[15]=w):w=e[15];let T;e[16]!==r||e[17]!==n?(T=Bh(n,r,"general_weight"),e[16]=r,e[17]=n,e[18]=T):T=e[18];let E;e[19]!==r||e[20]!==o?(E=(Me,Pe)=>o({...r,general_weight:Pe}),e[19]=r,e[20]=o,e[21]=E):E=e[21];let k;e[22]===Symbol.for("react.memo_cache_sentinel")?(k=[{value:0,label:"0"},{value:50,label:"50"},{value:100,label:"100"}],e[22]=k):k=e[22];let j;e[23]!==E||e[24]!==T?(j=c.jsx(Ba,{value:T,onChange:E,min:0,max:100,step:1,marks:k}),e[23]=E,e[24]=T,e[25]=j):j=e[25];let O;e[26]!==j||e[27]!==w?(O=c.jsxs(ee,{children:[w,j]}),e[26]=j,e[27]=w,e[28]=O):O=e[28];let z;e[29]!==r||e[30]!==d||e[31]!==n?(z=d("rating.weights.sensitive",{value:Bh(n,r,"sensitive_weight")}),e[29]=r,e[30]=d,e[31]=n,e[32]=z):z=e[32];let M;e[33]!==z?(M=c.jsx(ae,{gutterBottom:!0,children:z}),e[33]=z,e[34]=M):M=e[34];let N;e[35]!==r||e[36]!==n?(N=Bh(n,r,"sensitive_weight"),e[35]=r,e[36]=n,e[37]=N):N=e[37];let U;e[38]!==r||e[39]!==o?(U=(Me,Pe)=>o({...r,sensitive_weight:Pe}),e[38]=r,e[39]=o,e[40]=U):U=e[40];let F;e[41]===Symbol.for("react.memo_cache_sentinel")?(F=[{value:0,label:"0"},{value:50,label:"50"},{value:100,label:"100"}],e[41]=F):F=e[41];let $;e[42]!==N||e[43]!==U?($=c.jsx(Ba,{value:N,onChange:U,min:0,max:100,step:1,marks:F}),e[42]=N,e[43]=U,e[44]=$):$=e[44];let D;e[45]!==M||e[46]!==$?(D=c.jsxs(ee,{children:[M,$]}),e[45]=M,e[46]=$,e[47]=D):D=e[47];let H;e[48]!==r||e[49]!==d||e[50]!==n?(H=d("rating.weights.questionable",{value:Bh(n,r,"questionable_weight")}),e[48]=r,e[49]=d,e[50]=n,e[51]=H):H=e[51];let L;e[52]!==H?(L=c.jsx(ae,{gutterBottom:!0,children:H}),e[52]=H,e[53]=L):L=e[53];let V;e[54]!==r||e[55]!==n?(V=Bh(n,r,"questionable_weight"),e[54]=r,e[55]=n,e[56]=V):V=e[56];let J;e[57]!==r||e[58]!==o?(J=(Me,Pe)=>o({...r,questionable_weight:Pe}),e[57]=r,e[58]=o,e[59]=J):J=e[59];let Q;e[60]===Symbol.for("react.memo_cache_sentinel")?(Q=[{value:0,label:"0"},{value:50,label:"50"},{value:100,label:"100"}],e[60]=Q):Q=e[60];let K;e[61]!==V||e[62]!==J?(K=c.jsx(Ba,{value:V,onChange:J,min:0,max:100,step:1,marks:Q}),e[61]=V,e[62]=J,e[63]=K):K=e[63];let q;e[64]!==L||e[65]!==K?(q=c.jsxs(ee,{children:[L,K]}),e[64]=L,e[65]=K,e[66]=q):q=e[66];let Z;e[67]!==r||e[68]!==d||e[69]!==n?(Z=d("rating.weights.explicit",{value:Bh(n,r,"explicit_weight")}),e[67]=r,e[68]=d,e[69]=n,e[70]=Z):Z=e[70];let Y;e[71]!==Z?(Y=c.jsx(ae,{gutterBottom:!0,children:Z}),e[71]=Z,e[72]=Y):Y=e[72];let ne;e[73]!==r||e[74]!==n?(ne=Bh(n,r,"explicit_weight"),e[73]=r,e[74]=n,e[75]=ne):ne=e[75];let re;e[76]!==r||e[77]!==o?(re=(Me,Pe)=>o({...r,explicit_weight:Pe}),e[76]=r,e[77]=o,e[78]=re):re=e[78];let ie;e[79]===Symbol.for("react.memo_cache_sentinel")?(ie=[{value:0,label:"0"},{value:50,label:"50"},{value:100,label:"100"}],e[79]=ie):ie=e[79];let ce;e[80]!==ne||e[81]!==re?(ce=c.jsx(Ba,{value:ne,onChange:re,min:0,max:100,step:1,marks:ie}),e[80]=ne,e[81]=re,e[82]=ce):ce=e[82];let he;e[83]!==Y||e[84]!==ce?(he=c.jsxs(ee,{children:[Y,ce]}),e[83]=Y,e[84]=ce,e[85]=he):he=e[85];let me;e[86]!==s||e[87]!==d?(me=s&&c.jsxs(wt,{severity:"info",icon:c.jsx(WX,{}),children:[c.jsx(ae,{variant:"subtitle2",gutterBottom:!0,children:d("rating.weights.preview.title")}),c.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:1,mt:1},children:[c.jsx(ae,{variant:"body2",dangerouslySetInnerHTML:{__html:d("rating.weights.preview.score",{score:s.score.toFixed(2)})}}),s.tier&&c.jsx(gt,{label:s.tier.tier_name,size:"small",sx:{bgcolor:s.tier.color||void 0,color:"white"}})]})]}),e[86]=s,e[87]=d,e[88]=me):me=e[88];const le=!a||i;let de;e[89]!==i||e[90]!==d?(de=i?c.jsx(Kt,{size:24}):d("rating.weights.buttons.save"),e[89]=i,e[90]=d,e[91]=de):de=e[91];let pe;e[92]!==l||e[93]!==le||e[94]!==de?(pe=c.jsx(Ze,{variant:"contained",onClick:l,disabled:le,fullWidth:!0,children:de}),e[92]=l,e[93]=le,e[94]=de,e[95]=pe):pe=e[95];const ve=!a||i;let ge;e[96]!==d?(ge=d("rating.weights.buttons.cancel"),e[96]=d,e[97]=ge):ge=e[97];let oe;e[98]!==u||e[99]!==ve||e[100]!==ge?(oe=c.jsx(Ze,{variant:"outlined",onClick:u,disabled:ve,fullWidth:!0,children:ge}),e[98]=u,e[99]=ve,e[100]=ge,e[101]=oe):oe=e[101];let Se;e[102]!==pe||e[103]!==oe?(Se=c.jsxs(fn,{direction:"row",spacing:2,children:[pe,oe]}),e[102]=pe,e[103]=oe,e[104]=Se):Se=e[104];let be;e[105]!==O||e[106]!==D||e[107]!==q||e[108]!==he||e[109]!==me||e[110]!==Se?(be=c.jsxs(fn,{spacing:3,sx:_,children:[O,D,q,he,me,Se]}),e[105]=O,e[106]=D,e[107]=q,e[108]=he,e[109]=me,e[110]=Se,e[111]=be):be=e[111];let Ae;return e[112]!==y||e[113]!==be||e[114]!==v?(Ae=c.jsx(fr,{sx:h,children:c.jsxs(Ra,{children:[y,v,be]})}),e[112]=y,e[113]=be,e[114]=v,e[115]=Ae):Ae=e[115],Ae},$Be=t=>{const e=bt.c(76),{tiers:n,saving:r,onOpenTierDialog:a,onDeleteTier:i}=t,{t:s}=qt("settings");let o;e[0]!==i||e[1]!==s?(o=q=>{window.confirm(s("rating.tiers.alerts.deleteConfirm"))&&i(q)},e[0]=i,e[1]=s,e[2]=o):o=e[2];const l=o;let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u={mb:3},e[3]=u):u=e[3];let d;e[4]===Symbol.for("react.memo_cache_sentinel")?(d={display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},e[4]=d):d=e[4];let h;e[5]!==s?(h=s("rating.tiers.title"),e[5]=s,e[6]=h):h=e[6];let m;e[7]!==h?(m=c.jsx(ae,{variant:"h6",gutterBottom:!0,children:h}),e[7]=h,e[8]=m):m=e[8];let y;e[9]!==s?(y=s("rating.tiers.description"),e[9]=s,e[10]=y):y=e[10];let x;e[11]!==y?(x=c.jsx(ae,{variant:"body2",color:"text.secondary",children:y}),e[11]=y,e[12]=x):x=e[12];let v;e[13]!==m||e[14]!==x?(v=c.jsxs(ee,{children:[m,x]}),e[13]=m,e[14]=x,e[15]=v):v=e[15];let _;e[16]===Symbol.for("react.memo_cache_sentinel")?(_=c.jsx(Ws,{}),e[16]=_):_=e[16];let C;e[17]!==a?(C=()=>a("create"),e[17]=a,e[18]=C):C=e[18];let w;e[19]!==s?(w=s("rating.tiers.addButton"),e[19]=s,e[20]=w):w=e[20];let T;e[21]!==C||e[22]!==w?(T=c.jsx(Ze,{variant:"contained",startIcon:_,onClick:C,children:w}),e[21]=C,e[22]=w,e[23]=T):T=e[23];let E;e[24]!==T||e[25]!==v?(E=c.jsxs(ee,{sx:d,children:[v,T]}),e[24]=T,e[25]=v,e[26]=E):E=e[26];let k;e[27]!==s?(k=s("rating.tiers.table.order"),e[27]=s,e[28]=k):k=e[28];let j;e[29]!==k?(j=c.jsx(an,{children:k}),e[29]=k,e[30]=j):j=e[30];let O;e[31]!==s?(O=s("rating.tiers.table.name"),e[31]=s,e[32]=O):O=e[32];let z;e[33]!==O?(z=c.jsx(an,{children:O}),e[33]=O,e[34]=z):z=e[34];let M;e[35]!==s?(M=s("rating.tiers.table.scoreRange"),e[35]=s,e[36]=M):M=e[36];let N;e[37]!==M?(N=c.jsx(an,{children:M}),e[37]=M,e[38]=N):N=e[38];let U;e[39]!==s?(U=s("rating.tiers.table.color"),e[39]=s,e[40]=U):U=e[40];let F;e[41]!==U?(F=c.jsx(an,{children:U}),e[41]=U,e[42]=F):F=e[42];let $;e[43]!==s?($=s("rating.tiers.table.actions"),e[43]=s,e[44]=$):$=e[44];let D;e[45]!==$?(D=c.jsx(an,{align:"right",children:$}),e[45]=$,e[46]=D):D=e[46];let H;e[47]!==j||e[48]!==z||e[49]!==N||e[50]!==F||e[51]!==D?(H=c.jsx(N5,{children:c.jsxs(wc,{children:[j,z,N,F,D]})}),e[47]=j,e[48]=z,e[49]=N,e[50]=F,e[51]=D,e[52]=H):H=e[52];let L;if(e[53]!==l||e[54]!==a||e[55]!==r||e[56]!==s||e[57]!==n){let q;e[59]!==l||e[60]!==a||e[61]!==r||e[62]!==s?(q=Z=>c.jsxs(wc,{children:[c.jsx(an,{children:Z.tier_order}),c.jsx(an,{children:c.jsx(gt,{label:Z.tier_name,sx:{bgcolor:Z.color||void 0,color:"white"}})}),c.jsx(an,{children:s("rating.tiers.table.scoreFormat",{min:Z.min_score,max:Z.max_score!==null?Z.max_score:s("rating.tiers.table.infinity")})}),c.jsx(an,{children:c.jsx(ee,{sx:{width:24,height:24,bgcolor:Z.color||"#ccc",borderRadius:1}})}),c.jsxs(an,{align:"right",children:[c.jsx(ht,{size:"small",onClick:()=>a("edit",Z),disabled:r,children:c.jsx(yu,{fontSize:"small"})}),c.jsx(ht,{size:"small",onClick:()=>l(Z.id),disabled:r,color:"error",children:c.jsx(Ia,{fontSize:"small"})})]})]},Z.id),e[59]=l,e[60]=a,e[61]=r,e[62]=s,e[63]=q):q=e[63],L=n.map(q),e[53]=l,e[54]=a,e[55]=r,e[56]=s,e[57]=n,e[58]=L}else L=e[58];let V;e[64]!==s||e[65]!==n.length?(V=n.length===0&&c.jsx(wc,{children:c.jsx(an,{colSpan:5,align:"center",children:c.jsx(ae,{variant:"body2",color:"text.secondary",children:s("rating.tiers.table.empty")})})}),e[64]=s,e[65]=n.length,e[66]=V):V=e[66];let J;e[67]!==L||e[68]!==V?(J=c.jsxs(O5,{children:[L,V]}),e[67]=L,e[68]=V,e[69]=J):J=e[69];let Q;e[70]!==H||e[71]!==J?(Q=c.jsx(D5,{component:Yt,variant:"outlined",children:c.jsxs(I5,{children:[H,J]})}),e[70]=H,e[71]=J,e[72]=Q):Q=e[72];let K;return e[73]!==E||e[74]!==Q?(K=c.jsx(fr,{sx:u,children:c.jsxs(Ra,{children:[E,Q]})}),e[73]=E,e[74]=Q,e[75]=K):K=e[75],K},GBe=t=>{const e=bt.c(80),{open:n,mode:r,tier:a,saving:i,onClose:s,onSave:o,onUpdateTier:l}=t,{t:u}=qt("settings");let d;e[0]!==r||e[1]!==u?(d=u(r==="create"?"rating.tiers.dialog.createTitle":"rating.tiers.dialog.editTitle"),e[0]=r,e[1]=u,e[2]=d):d=e[2];let h;e[3]!==d?(h=c.jsx(br,{children:d}),e[3]=d,e[4]=h):h=e[4];let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m={mt:1},e[5]=m):m=e[5];let y;e[6]!==u?(y=u("rating.tiers.dialog.tierName"),e[6]=u,e[7]=y):y=e[7];const x=a.tier_name||"";let v;e[8]!==l?(v=ie=>l({tier_name:ie.target.value}),e[8]=l,e[9]=v):v=e[9];let _;e[10]!==y||e[11]!==x||e[12]!==v?(_=c.jsx(Lt,{label:y,value:x,onChange:v,fullWidth:!0,required:!0}),e[10]=y,e[11]=x,e[12]=v,e[13]=_):_=e[13];let C;e[14]!==u?(C=u("rating.tiers.dialog.minScore"),e[14]=u,e[15]=C):C=e[15];const w=a.min_score??"";let T;e[16]!==l?(T=ie=>l({min_score:parseFloat(ie.target.value)}),e[16]=l,e[17]=T):T=e[17];let E;e[18]!==T||e[19]!==C||e[20]!==w?(E=c.jsx(Lt,{label:C,type:"number",value:w,onChange:T,fullWidth:!0,required:!0}),e[18]=T,e[19]=C,e[20]=w,e[21]=E):E=e[21];let k;e[22]!==u?(k=u("rating.tiers.dialog.maxScore"),e[22]=u,e[23]=k):k=e[23];const j=a.max_score??"";let O;e[24]!==l?(O=ie=>l({max_score:ie.target.value===""?null:parseFloat(ie.target.value)}),e[24]=l,e[25]=O):O=e[25];let z;e[26]!==k||e[27]!==j||e[28]!==O?(z=c.jsx(Lt,{label:k,type:"number",value:j,onChange:O,fullWidth:!0}),e[26]=k,e[27]=j,e[28]=O,e[29]=z):z=e[29];let M;e[30]!==u?(M=u("rating.tiers.dialog.order"),e[30]=u,e[31]=M):M=e[31];const N=a.tier_order??"";let U;e[32]!==l?(U=ie=>l({tier_order:parseInt(ie.target.value,10)}),e[32]=l,e[33]=U):U=e[33];let F;e[34]!==M||e[35]!==N||e[36]!==U?(F=c.jsx(Lt,{label:M,type:"number",value:N,onChange:U,fullWidth:!0,required:!0}),e[34]=M,e[35]=N,e[36]=U,e[37]=F):F=e[37];let $;e[38]!==u?($=u("rating.tiers.dialog.color"),e[38]=u,e[39]=$):$=e[39];const D=a.color||"";let H;e[40]!==l?(H=ie=>l({color:ie.target.value}),e[40]=l,e[41]=H):H=e[41];let L;e[42]!==u?(L=u("rating.tiers.dialog.colorPlaceholder"),e[42]=u,e[43]=L):L=e[43];let V;e[44]!==u?(V=u("rating.tiers.dialog.colorHelper"),e[44]=u,e[45]=V):V=e[45];let J;e[46]!==$||e[47]!==D||e[48]!==H||e[49]!==L||e[50]!==V?(J=c.jsx(Lt,{label:$,value:D,onChange:H,fullWidth:!0,placeholder:L,helperText:V}),e[46]=$,e[47]=D,e[48]=H,e[49]=L,e[50]=V,e[51]=J):J=e[51];let Q;e[52]!==E||e[53]!==z||e[54]!==F||e[55]!==J||e[56]!==_?(Q=c.jsx(yr,{children:c.jsxs(fn,{spacing:2,sx:m,children:[_,E,z,F,J]})}),e[52]=E,e[53]=z,e[54]=F,e[55]=J,e[56]=_,e[57]=Q):Q=e[57];let K;e[58]!==u?(K=u("rating.tiers.dialog.cancel"),e[58]=u,e[59]=K):K=e[59];let q;e[60]!==s||e[61]!==i||e[62]!==K?(q=c.jsx(Ze,{onClick:s,disabled:i,children:K}),e[60]=s,e[61]=i,e[62]=K,e[63]=q):q=e[63];let Z;e[64]!==i||e[65]!==u?(Z=i?c.jsx(Kt,{size:20}):u("rating.tiers.dialog.save"),e[64]=i,e[65]=u,e[66]=Z):Z=e[66];let Y;e[67]!==o||e[68]!==i||e[69]!==Z?(Y=c.jsx(Ze,{onClick:o,variant:"contained",disabled:i,children:Z}),e[67]=o,e[68]=i,e[69]=Z,e[70]=Y):Y=e[70];let ne;e[71]!==q||e[72]!==Y?(ne=c.jsxs(kr,{children:[q,Y]}),e[71]=q,e[72]=Y,e[73]=ne):ne=e[73];let re;return e[74]!==s||e[75]!==n||e[76]!==h||e[77]!==Q||e[78]!==ne?(re=c.jsxs(hr,{open:n,onClose:s,maxWidth:"sm",fullWidth:!0,children:[h,Q,ne]}),e[74]=s,e[75]=n,e[76]=h,e[77]=Q,e[78]=ne,e[79]=re):re=e[79],re},qBe=t=>{const e=bt.c(93),{testRating:n,testResult:r,testLoading:a,onUpdateTestRating:i,onCalculateTest:s}=t,{t:o}=qt("settings");let l;e[0]!==o?(l=o("rating.calculator.title"),e[0]=o,e[1]=l):l=e[1];let u;e[2]!==l?(u=c.jsx(ae,{variant:"h6",gutterBottom:!0,children:l}),e[2]=l,e[3]=u):u=e[3];let d;e[4]!==o?(d=o("rating.calculator.description"),e[4]=o,e[5]=d):d=e[5];let h;e[6]!==d?(h=c.jsx(ae,{variant:"body2",color:"text.secondary",paragraph:!0,children:d}),e[6]=d,e[7]=h):h=e[7];let m;e[8]===Symbol.for("react.memo_cache_sentinel")?(m={mt:3},e[8]=m):m=e[8];let y;e[9]!==o||e[10]!==n.general?(y=o("rating.calculator.general",{value:n.general.toFixed(3)}),e[9]=o,e[10]=n.general,e[11]=y):y=e[11];let x;e[12]!==y?(x=c.jsx(ae,{gutterBottom:!0,children:y}),e[12]=y,e[13]=x):x=e[13];let v;e[14]!==i||e[15]!==n?(v=(ce,he)=>i({...n,general:he}),e[14]=i,e[15]=n,e[16]=v):v=e[16];let _;e[17]===Symbol.for("react.memo_cache_sentinel")?(_=[{value:0,label:"0.0"},{value:.5,label:"0.5"},{value:1,label:"1.0"}],e[17]=_):_=e[17];let C;e[18]!==v||e[19]!==n.general?(C=c.jsx(Ba,{value:n.general,onChange:v,min:0,max:1,step:.001,marks:_}),e[18]=v,e[19]=n.general,e[20]=C):C=e[20];let w;e[21]!==C||e[22]!==x?(w=c.jsxs(ee,{children:[x,C]}),e[21]=C,e[22]=x,e[23]=w):w=e[23];let T;e[24]!==o||e[25]!==n.sensitive?(T=o("rating.calculator.sensitive",{value:n.sensitive.toFixed(3)}),e[24]=o,e[25]=n.sensitive,e[26]=T):T=e[26];let E;e[27]!==T?(E=c.jsx(ae,{gutterBottom:!0,children:T}),e[27]=T,e[28]=E):E=e[28];let k;e[29]!==i||e[30]!==n?(k=(ce,he)=>i({...n,sensitive:he}),e[29]=i,e[30]=n,e[31]=k):k=e[31];let j;e[32]===Symbol.for("react.memo_cache_sentinel")?(j=[{value:0,label:"0.0"},{value:.5,label:"0.5"},{value:1,label:"1.0"}],e[32]=j):j=e[32];let O;e[33]!==k||e[34]!==n.sensitive?(O=c.jsx(Ba,{value:n.sensitive,onChange:k,min:0,max:1,step:.001,marks:j}),e[33]=k,e[34]=n.sensitive,e[35]=O):O=e[35];let z;e[36]!==E||e[37]!==O?(z=c.jsxs(ee,{children:[E,O]}),e[36]=E,e[37]=O,e[38]=z):z=e[38];let M;e[39]!==o||e[40]!==n.questionable?(M=o("rating.calculator.questionable",{value:n.questionable.toFixed(3)}),e[39]=o,e[40]=n.questionable,e[41]=M):M=e[41];let N;e[42]!==M?(N=c.jsx(ae,{gutterBottom:!0,children:M}),e[42]=M,e[43]=N):N=e[43];let U;e[44]!==i||e[45]!==n?(U=(ce,he)=>i({...n,questionable:he}),e[44]=i,e[45]=n,e[46]=U):U=e[46];let F;e[47]===Symbol.for("react.memo_cache_sentinel")?(F=[{value:0,label:"0.0"},{value:.5,label:"0.5"},{value:1,label:"1.0"}],e[47]=F):F=e[47];let $;e[48]!==U||e[49]!==n.questionable?($=c.jsx(Ba,{value:n.questionable,onChange:U,min:0,max:1,step:.001,marks:F}),e[48]=U,e[49]=n.questionable,e[50]=$):$=e[50];let D;e[51]!==N||e[52]!==$?(D=c.jsxs(ee,{children:[N,$]}),e[51]=N,e[52]=$,e[53]=D):D=e[53];let H;e[54]!==o||e[55]!==n.explicit?(H=o("rating.calculator.explicit",{value:n.explicit.toFixed(3)}),e[54]=o,e[55]=n.explicit,e[56]=H):H=e[56];let L;e[57]!==H?(L=c.jsx(ae,{gutterBottom:!0,children:H}),e[57]=H,e[58]=L):L=e[58];let V;e[59]!==i||e[60]!==n?(V=(ce,he)=>i({...n,explicit:he}),e[59]=i,e[60]=n,e[61]=V):V=e[61];let J;e[62]===Symbol.for("react.memo_cache_sentinel")?(J=[{value:0,label:"0.0"},{value:.5,label:"0.5"},{value:1,label:"1.0"}],e[62]=J):J=e[62];let Q;e[63]!==V||e[64]!==n.explicit?(Q=c.jsx(Ba,{value:n.explicit,onChange:V,min:0,max:1,step:.001,marks:J}),e[63]=V,e[64]=n.explicit,e[65]=Q):Q=e[65];let K;e[66]!==L||e[67]!==Q?(K=c.jsxs(ee,{children:[L,Q]}),e[66]=L,e[67]=Q,e[68]=K):K=e[68];let q;e[69]!==a?(q=a?c.jsx(Kt,{size:20}):c.jsx(WX,{}),e[69]=a,e[70]=q):q=e[70];let Z;e[71]!==o||e[72]!==a?(Z=o(a?"rating.calculator.calculating":"rating.calculator.calculate"),e[71]=o,e[72]=a,e[73]=Z):Z=e[73];let Y;e[74]!==s||e[75]!==q||e[76]!==Z||e[77]!==a?(Y=c.jsx(Ze,{variant:"contained",startIcon:q,onClick:s,disabled:a,children:Z}),e[74]=s,e[75]=q,e[76]=Z,e[77]=a,e[78]=Y):Y=e[78];let ne;e[79]!==o||e[80]!==r?(ne=r&&c.jsxs(wt,{severity:"success",children:[c.jsx(ae,{variant:"subtitle2",gutterBottom:!0,children:o("rating.calculator.result.title")}),c.jsxs(ee,{sx:{mt:2},children:[c.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[c.jsx(ae,{variant:"body1",dangerouslySetInnerHTML:{__html:o("rating.calculator.result.score",{score:r.score.toFixed(2)})}}),r.tier&&c.jsx(gt,{label:r.tier.tier_name,sx:{bgcolor:r.tier.color||void 0,color:"white"}})]}),c.jsx(bn,{sx:{my:1}}),c.jsx(ae,{variant:"caption",color:"text.secondary",children:o("rating.calculator.result.breakdown")}),c.jsxs(ee,{sx:{mt:1},children:[c.jsx(ae,{variant:"body2",children:o("rating.calculator.result.generalScore",{score:r.breakdown.general.toFixed(3)})}),c.jsx(ae,{variant:"body2",children:o("rating.calculator.result.sensitiveScore",{score:r.breakdown.sensitive.toFixed(3)})}),c.jsx(ae,{variant:"body2",children:o("rating.calculator.result.questionableScore",{score:r.breakdown.questionable.toFixed(3)})}),c.jsx(ae,{variant:"body2",children:o("rating.calculator.result.explicitScore",{score:r.breakdown.explicit.toFixed(3)})})]})]})]}),e[79]=o,e[80]=r,e[81]=ne):ne=e[81];let re;e[82]!==w||e[83]!==z||e[84]!==D||e[85]!==K||e[86]!==Y||e[87]!==ne?(re=c.jsxs(fn,{spacing:3,sx:m,children:[w,z,D,K,Y,ne]}),e[82]=w,e[83]=z,e[84]=D,e[85]=K,e[86]=Y,e[87]=ne,e[88]=re):re=e[88];let ie;return e[89]!==u||e[90]!==re||e[91]!==h?(ie=c.jsx(fr,{children:c.jsxs(Ra,{children:[u,h,re]})}),e[89]=u,e[90]=re,e[91]=h,e[92]=ie):ie=e[92],ie},VBe=()=>{const{t}=qt("settings"),[e,n]=A.useState(!1),[r,a]=A.useState(0),[i,s]=A.useState(0),[o,l]=A.useState(!1),[u,d]=A.useState(null),[h,m]=A.useState(null),y=async()=>{l(!1),n(!0),d(null),m(null),a(0),s(0);try{const x=await tn.post("/api/images/recalculate-rating-scores");if(x.data.success){const{total:v,success_count:_,fail_count:C}=x.data.data;s(v),a(v),m(t("rating.recalculation.success",{total:v,success:_,failed:C}))}else d(x.data.error||t("rating.recalculation.failed"))}catch(x){console.error("[RatingScoreRecalculation] Error:",x),d(x.response?.data?.error||t("rating.recalculation.failed"))}finally{n(!1)}};return c.jsxs(ee,{children:[c.jsx(ae,{variant:"h6",gutterBottom:!0,children:t("rating.recalculation.title")}),c.jsx(ae,{variant:"body2",color:"text.secondary",paragraph:!0,children:t("rating.recalculation.description")}),u&&c.jsx(wt,{severity:"error",sx:{mb:2},children:u}),h&&c.jsx(wt,{severity:"success",sx:{mb:2},children:h}),e&&i>0&&c.jsxs(ee,{sx:{mb:2},children:[c.jsx(ae,{variant:"body2",gutterBottom:!0,children:t("rating.recalculation.progress",{current:r,total:i})}),c.jsx(Id,{variant:"determinate",value:r/i*100})]}),c.jsx(fn,{spacing:2,children:c.jsx(Ze,{variant:"contained",color:"primary",startIcon:e?c.jsx(Kt,{size:20}):c.jsx(vo,{}),onClick:()=>l(!0),disabled:e,fullWidth:!0,children:t(e?"rating.recalculation.buttons.processing":"rating.recalculation.buttons.recalculate")})}),c.jsxs(hr,{open:o,onClose:()=>l(!1),children:[c.jsx(br,{children:t("rating.recalculation.confirmDialog.title")}),c.jsx(yr,{children:c.jsx(Rp,{children:t("rating.recalculation.confirmDialog.message")})}),c.jsxs(kr,{children:[c.jsx(Ze,{onClick:()=>l(!1),children:t("rating.recalculation.confirmDialog.cancel")}),c.jsx(Ze,{onClick:y,color:"primary",variant:"contained",children:t("rating.recalculation.confirmDialog.confirm")})]})]})]})},WBe=()=>{const{t}=qt("settings"),[e,n]=A.useState(!1),[r,a]=A.useState(null),[i,s]=A.useState(null),{weights:o,localWeights:l,weightsLoading:u,weightsHasChanges:d,setLocalWeights:h,handleSaveWeights:m,handleResetWeights:y}=FBe(),{tiers:x,tiersLoading:v,tierDialog:_,setTierDialog:C,handleOpenTierDialog:w,handleCloseTierDialog:T,handleSaveTier:E,handleDeleteTier:k}=BBe(),{testRating:j,testResult:O,testLoading:z,previewResult:M,setTestRating:N,handleCalculateTest:U}=HBe(o,l,x),F=async()=>{n(!0),a(null),s(null);try{await m(),s(t("rating.weights.alerts.saveSuccess")),setTimeout(()=>s(null),3e3)}catch{a(t("rating.weights.alerts.saveFailed"))}finally{n(!1)}},$=async()=>{n(!0),a(null);try{const L=await E();s(t(L==="create"?"rating.tiers.alerts.created":"rating.tiers.alerts.updated")),setTimeout(()=>s(null),3e3)}catch(L){L.message==="Required fields missing"?a(t("rating.tiers.dialog.requiredFields")):a(t("rating.tiers.alerts.saveFailed"))}finally{n(!1)}},D=async L=>{n(!0),a(null);try{await k(L),s(t("rating.tiers.alerts.deleted")),setTimeout(()=>s(null),3e3)}catch{a(t("rating.tiers.alerts.deleteFailed"))}finally{n(!1)}},H=async()=>{a(null);try{await U()}catch{a(t("rating.calculator.failed"))}};return u||v?c.jsx(ee,{sx:{display:"flex",justifyContent:"center",py:4},children:c.jsx(Kt,{})}):c.jsxs(ee,{children:[i&&c.jsx(wt,{severity:"success",sx:{mb:3},children:i}),r&&c.jsx(wt,{severity:"error",sx:{mb:3},children:r}),c.jsx(UBe,{weights:o,localWeights:l,weightsHasChanges:d,saving:e,previewResult:M,onUpdateWeights:h,onSaveWeights:F,onResetWeights:y}),c.jsx($Be,{tiers:x,saving:e,onOpenTierDialog:w,onDeleteTier:D}),c.jsx(qBe,{testRating:j,testResult:O,testLoading:z,onUpdateTestRating:N,onCalculateTest:H}),c.jsx(VBe,{}),c.jsx(GBe,{open:_.open,mode:_.mode,tier:_.tier,saving:e,onClose:T,onSave:$,onUpdateTier:L=>C({..._,tier:{..._.tier,...L}})})]})},u1=tn.create({baseURL:`${Ir}/api/images`,headers:{"Content-Type":"application/json"},withCredentials:!0}),Nf={findDuplicates:async(t,e=5,n=!0)=>(await u1.get(`/${t}/duplicates`,{params:{threshold:e,includeMetadata:n}})).data.data.similar,findSimilar:async(t,e={})=>{const{threshold:n=15,limit:r=20,includeColorSimilarity:a=!1,sortBy:i="similarity",sortOrder:s="DESC"}=e;return(await u1.get(`/${t}/similar`,{params:{threshold:n,limit:r,includeColorSimilarity:a,sortBy:i,sortOrder:s}})).data.data.similar},findSimilarByColor:async(t,e=85,n=20)=>(await u1.get(`/${t}/similar-color`,{params:{threshold:e,limit:n}})).data.data.similar,findAllDuplicates:async(t={})=>{const{threshold:e=5,minGroupSize:n=2}=t;return(await u1.get("/duplicates/all",{params:{threshold:e,minGroupSize:n}})).data.data.groups},rebuildHashes:async(t=50)=>(await u1.post("/similarity/rebuild",null,{params:{limit:t}})).data.data,getStats:async()=>(await u1.get("/similarity/stats")).data.data},YBe=()=>{const[t,e]=A.useState(null),[n,r]=A.useState(!1),[a,i]=A.useState(0),[s,o]=A.useState(0),[l,u]=A.useState(0),[d,h]=A.useState(!0);A.useEffect(()=>{m(),y()},[]);const m=async()=>{try{const _=await Nf.getStats();e(_)}catch(_){console.error("Failed to load stats:",_)}},y=async()=>{try{const _=await $s.getSettings();h(_.similarity.autoGenerateHashOnUpload)}catch(_){console.error("Failed to load settings:",_)}};return{stats:t,rebuilding:n,rebuildProgress:a,rebuildProcessed:s,rebuildTotal:l,autoGenerateHash:d,loadStats:m,handleAutoGenerateHashChange:async(_,C)=>{h(_);try{await $s.updateSimilaritySettings({autoGenerateHashOnUpload:_})}catch(w){console.error("Failed to update similarity settings:",w),alert(C("similarity.systemStatus.autoGenerateUpdateFailed")),h(!_)}},handleRebuildHashes:async _=>{r(!0),i(0),o(0),u(0);try{const w=(await Nf.getStats()).imagesWithoutHash;if(u(w),w===0){alert(_("similarity.systemStatus.noImagesToProcess"));return}let T=0,E=0;const k=50;for(;T<w;){const j=await Nf.rebuildHashes(k);if(T+=j.processed,E+=j.failed,o(T),i(T/w*100),j.remaining===0)break}E>0?alert(_("similarity.systemStatus.rebuildCompleteWithErrors",{success:T,failed:E})):alert(_("similarity.systemStatus.rebuildComplete",{processed:T})),await m()}catch(C){alert(_("similarity.systemStatus.rebuildFailed")),console.error("Failed to rebuild hashes:",C)}finally{r(!1)}}}},KBe=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(!1),[a,i]=A.useState([]),[s,o]=A.useState("similar"),[l,u]=A.useState(null),[d,h]=A.useState(5),[m,y]=A.useState(15),[x,v]=A.useState(85),[_,C]=A.useState(20);return{testImageId:t,testLoading:n,testResults:a,testType:s,queryImage:l,duplicateThreshold:d,similarThreshold:m,colorThreshold:x,searchLimit:_,setTestImageId:e,setTestType:o,setDuplicateThreshold:h,setSimilarThreshold:y,setColorThreshold:v,setSearchLimit:C,handleTestSearch:async T=>{const E=t.trim();if(!E){alert(T("similarity.test.invalidId")||"Please enter a composite hash");return}if(!/^[0-9a-fA-F]{48}$/.test(E)){alert(T("similarity.test.invalidHashFormat")||"Invalid hash format. Expected 48 hexadecimal characters.");return}r(!0),i([]),u(null);try{const j=await ya.getImage(E);j.success&&j.data&&u(j.data);let O=[];s==="duplicates"?O=await Nf.findDuplicates(E,d):s==="similar"?O=await Nf.findSimilar(E,{threshold:m,limit:_,includeColorSimilarity:!0}):s==="color"&&(O=await Nf.findSimilarByColor(E,x,_)),i(O)}catch(j){alert(j.response?.data?.error||T("similarity.test.searchFailed")),console.error("Failed to search:",j)}finally{r(!1)}}}},XBe=t=>{const[e,n]=A.useState([]),[r,a]=A.useState(!1);return{duplicateGroups:e,scanLoading:r,handleScanDuplicates:async s=>{a(!0),n([]);try{const o=await Nf.findAllDuplicates({threshold:t,minGroupSize:2});n(o)}catch(o){alert(s("similarity.test.searchFailed")),console.error("Failed to scan duplicates:",o)}finally{a(!1)}}}},QBe=t=>{const e=bt.c(86),{stats:n,rebuilding:r,rebuildProgress:a,rebuildProcessed:i,rebuildTotal:s,autoGenerateHash:o,onAutoGenerateHashChange:l,onRebuildHashes:u,onRefreshStats:d}=t,{t:h}=qt("settings");if(!n){let he;return e[0]===Symbol.for("react.memo_cache_sentinel")?(he=c.jsx(Kt,{}),e[0]=he):he=e[0],he}let m;e[1]===Symbol.for("react.memo_cache_sentinel")?(m={mb:3},e[1]=m):m=e[1];let y;e[2]!==h?(y=h("similarity.systemStatus.title"),e[2]=h,e[3]=y):y=e[3];let x;e[4]!==y?(x=c.jsx(ae,{variant:"h6",gutterBottom:!0,children:y}),e[4]=y,e[5]=x):x=e[5];let v;e[6]!==h?(v=h("similarity.systemStatus.description"),e[6]=h,e[7]=v):v=e[7];let _;e[8]!==v?(_=c.jsx(ae,{variant:"body2",color:"text.secondary",paragraph:!0,children:v}),e[8]=v,e[9]=_):_=e[9];let C;e[10]!==n.totalImages||e[11]!==h?(C=h("similarity.systemStatus.totalImages",{count:n.totalImages}),e[10]=n.totalImages,e[11]=h,e[12]=C):C=e[12];let w;e[13]!==C?(w=c.jsx(gt,{label:C,color:"primary",variant:"outlined"}),e[13]=C,e[14]=w):w=e[14];let T;e[15]!==n.imagesWithHash||e[16]!==h?(T=h("similarity.systemStatus.withHash",{count:n.imagesWithHash}),e[15]=n.imagesWithHash,e[16]=h,e[17]=T):T=e[17];let E;e[18]===Symbol.for("react.memo_cache_sentinel")?(E=c.jsx(Cs,{}),e[18]=E):E=e[18];let k;e[19]!==T?(k=c.jsx(gt,{label:T,color:"success",icon:E}),e[19]=T,e[20]=k):k=e[20];let j;e[21]!==n.imagesWithoutHash||e[22]!==h?(j=h("similarity.systemStatus.withoutHash",{count:n.imagesWithoutHash}),e[21]=n.imagesWithoutHash,e[22]=h,e[23]=j):j=e[23];let O;e[24]!==j?(O=c.jsx(gt,{label:j,color:"warning"}),e[24]=j,e[25]=O):O=e[25];let z;e[26]!==n.completionPercentage||e[27]!==h?(z=h("similarity.systemStatus.completion",{percent:n.completionPercentage}),e[26]=n.completionPercentage,e[27]=h,e[28]=z):z=e[28];const M=n.completionPercentage===100?"success":"info";let N;e[29]!==z||e[30]!==M?(N=c.jsx(gt,{label:z,color:M}),e[29]=z,e[30]=M,e[31]=N):N=e[31];let U;e[32]!==k||e[33]!==O||e[34]!==N||e[35]!==w?(U=c.jsxs(fn,{direction:"row",spacing:1,flexWrap:"wrap",children:[w,k,O,N]}),e[32]=k,e[33]=O,e[34]=N,e[35]=w,e[36]=U):U=e[36];let F;e[37]!==i||e[38]!==a||e[39]!==s||e[40]!==r||e[41]!==h?(F=r&&c.jsxs(ee,{children:[c.jsx(ae,{variant:"body2",gutterBottom:!0,children:h("similarity.systemStatus.rebuildProgress",{processed:i,total:s,percent:a.toFixed(0)})}),c.jsx(Id,{variant:"determinate",value:a})]}),e[37]=i,e[38]=a,e[39]=s,e[40]=r,e[41]=h,e[42]=F):F=e[42];let $;e[43]!==l?($=he=>l(he.target.checked),e[43]=l,e[44]=$):$=e[44];let D;e[45]!==o||e[46]!==$?(D=c.jsx(ii,{checked:o,onChange:$,color:"primary"}),e[45]=o,e[46]=$,e[47]=D):D=e[47];let H;e[48]!==h?(H=h("similarity.systemStatus.autoGenerateHash"),e[48]=h,e[49]=H):H=e[49];let L;e[50]!==D||e[51]!==H?(L=c.jsx(gr,{control:D,label:H}),e[50]=D,e[51]=H,e[52]=L):L=e[52];let V;e[53]!==r?(V=r?c.jsx(Kt,{size:20}):c.jsx(vo,{}),e[53]=r,e[54]=V):V=e[54];const J=r||n.imagesWithoutHash===0;let Q;e[55]!==r||e[56]!==n.imagesWithoutHash||e[57]!==h?(Q=r?h("similarity.systemStatus.rebuildingButton"):h("similarity.systemStatus.rebuildButton",{count:n.imagesWithoutHash}),e[55]=r,e[56]=n.imagesWithoutHash,e[57]=h,e[58]=Q):Q=e[58];let K;e[59]!==u||e[60]!==V||e[61]!==J||e[62]!==Q?(K=c.jsx(Ze,{variant:"contained",startIcon:V,onClick:u,disabled:J,children:Q}),e[59]=u,e[60]=V,e[61]=J,e[62]=Q,e[63]=K):K=e[63];let q;e[64]===Symbol.for("react.memo_cache_sentinel")?(q=c.jsx(vo,{}),e[64]=q):q=e[64];let Z;e[65]!==h?(Z=h("similarity.systemStatus.refreshButton"),e[65]=h,e[66]=Z):Z=e[66];let Y;e[67]!==d||e[68]!==Z?(Y=c.jsx(Ze,{variant:"outlined",startIcon:q,onClick:d,children:Z}),e[67]=d,e[68]=Z,e[69]=Y):Y=e[69];let ne;e[70]!==K||e[71]!==Y?(ne=c.jsxs(fn,{direction:"row",spacing:2,children:[K,Y]}),e[70]=K,e[71]=Y,e[72]=ne):ne=e[72];let re;e[73]!==n.imagesWithoutHash||e[74]!==h?(re=n.imagesWithoutHash===0&&c.jsx(Xt,{title:h("similarity.systemStatus.allComplete"),arrow:!0,children:c.jsx(gt,{icon:c.jsx(Cs,{}),label:h("similarity.systemStatus.allCompleteShort"),color:"success",size:"small"})}),e[73]=n.imagesWithoutHash,e[74]=h,e[75]=re):re=e[75];let ie;e[76]!==U||e[77]!==F||e[78]!==L||e[79]!==ne||e[80]!==re?(ie=c.jsxs(fn,{spacing:2,children:[U,F,L,ne,re]}),e[76]=U,e[77]=F,e[78]=L,e[79]=ne,e[80]=re,e[81]=ie):ie=e[81];let ce;return e[82]!==x||e[83]!==ie||e[84]!==_?(ce=c.jsx(fr,{sx:m,children:c.jsxs(Ra,{children:[x,_,ie]})}),e[82]=x,e[83]=ie,e[84]=_,e[85]=ce):ce=e[85],ce},f2=t=>{const e=t.thumbnail_url??t.original_file_path;return e?yC(e):null},ZBe=t=>{switch(t){case"exact":return"error";case"near-duplicate":return"warning";case"similar":return"info";case"color-similar":return"success";default:return"info"}},JBe=(t,e)=>{switch(t){case"exact":return e("similarity.test.matchTypes.exact");case"near-duplicate":return e("similarity.test.matchTypes.nearDuplicate");case"similar":return e("similarity.test.matchTypes.similar");case"color-similar":return e("similarity.test.matchTypes.colorSimilar");default:return e("similarity.test.matchTypes.similar")}},eHe=t=>{const e=bt.c(56),{queryImage:n,testResults:r}=t,{t:a}=qt("settings"),[i,s]=A.useState(null),[o,l]=A.useState(0);let u;e[0]!==a?(u=a("similarity.test.queryImage"),e[0]=a,e[1]=u):u=e[1];let d;e[2]!==u?(d=c.jsx(ae,{variant:"subtitle2",gutterBottom:!0,children:u}),e[2]=u,e[3]=d):d=e[3];let h;e[4]===Symbol.for("react.memo_cache_sentinel")?(h={maxWidth:400,mx:"auto",mb:3},e[4]=h):h=e[4];let m;e[5]!==n?(m=f2(n)?c.jsx(ee,{component:"img",src:f2(n),alt:n.original_file_path??"",sx:{width:"100%",maxHeight:300,objectFit:"contain"}}):c.jsx(ee,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"grey.100"},children:c.jsx(ae,{color:"text.secondary",children:"No thumbnail available"})}),e[5]=n,e[6]=m):m=e[6];let y;e[7]!==a?(y=a("similarity.test.imageDetails.id"),e[7]=a,e[8]=y):y=e[8];let x;e[9]!==y?(x=c.jsx("strong",{children:y}),e[9]=y,e[10]=x):x=e[10];let v;e[11]!==n.composite_hash||e[12]!==x?(v=c.jsxs(ae,{variant:"body2",children:[x," ",n.composite_hash]}),e[11]=n.composite_hash,e[12]=x,e[13]=v):v=e[13];let _;e[14]!==a?(_=a("similarity.test.imageDetails.filename"),e[14]=a,e[15]=_):_=e[15];let C;e[16]!==_?(C=c.jsx("strong",{children:_}),e[16]=_,e[17]=C):C=e[17];const w=n.original_file_path??"";let T;e[18]!==w||e[19]!==C?(T=c.jsxs(ae,{variant:"body2",noWrap:!0,children:[C," ",w]}),e[18]=w,e[19]=C,e[20]=T):T=e[20];let E;e[21]!==a?(E=a("similarity.test.imageDetails.size"),e[21]=a,e[22]=E):E=e[22];let k;e[23]!==E?(k=c.jsx("strong",{children:E}),e[23]=E,e[24]=k):k=e[24];let j;e[25]!==n.height||e[26]!==n.width||e[27]!==k?(j=c.jsxs(ae,{variant:"body2",children:[k," ",n.width,"  ",n.height]}),e[25]=n.height,e[26]=n.width,e[27]=k,e[28]=j):j=e[28];let O;e[29]!==n.ai_tool||e[30]!==a?(O=n.ai_tool&&c.jsxs(ae,{variant:"body2",children:[c.jsx("strong",{children:a("similarity.test.imageDetails.aiTool")})," ",n.ai_tool]}),e[29]=n.ai_tool,e[30]=a,e[31]=O):O=e[31];let z;e[32]!==T||e[33]!==j||e[34]!==O||e[35]!==v?(z=c.jsxs(Ra,{children:[v,T,j,O]}),e[32]=T,e[33]=j,e[34]=O,e[35]=v,e[36]=z):z=e[36];let M;e[37]!==z||e[38]!==m?(M=c.jsxs(fr,{variant:"outlined",sx:h,children:[m,z]}),e[37]=z,e[38]=m,e[39]=M):M=e[39];let N;e[40]!==a||e[41]!==r?(N=r.length>0&&c.jsxs(ee,{children:[c.jsx(ae,{variant:"subtitle2",gutterBottom:!0,children:a("similarity.test.results",{count:r.length})}),c.jsx(ee,{sx:{display:"grid",gridTemplateColumns:{xs:"repeat(2, 1fr)",sm:"repeat(3, 1fr)",md:"repeat(4, 1fr)"},gap:2},children:r.slice(0,12).map((L,V)=>c.jsx(ee,{children:c.jsxs(fr,{variant:"outlined",onClick:()=>{s(L.image),l(V)},sx:{cursor:"pointer",transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:4}},children:[f2(L.image)?c.jsx(ee,{component:"img",src:f2(L.image),alt:L.image.original_file_path??"",sx:{width:"100%",height:150,objectFit:"cover"}}):c.jsx(ee,{sx:{height:150,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"grey.100"},children:c.jsx(ae,{variant:"caption",color:"text.secondary",children:"No image"})}),c.jsxs(Ra,{sx:{p:1},children:[c.jsxs(fn,{direction:"row",spacing:.5,sx:{flexWrap:"wrap"},children:[c.jsx(gt,{label:a("similarity.test.similarity",{percent:L.similarity.toFixed(1)}),size:"small",color:"primary"}),c.jsx(gt,{label:JBe(L.matchType,a),size:"small",color:ZBe(L.matchType)})]}),L.colorSimilarity&&c.jsx(ae,{variant:"caption",color:"text.secondary",children:a("similarity.test.colorSimilarity",{percent:L.colorSimilarity.toFixed(1)})})]})]})},L.image.file_id?`file-${L.image.file_id}`:`hash-${L.image.composite_hash}-${V}`))})]}),e[40]=a,e[41]=r,e[42]=N):N=e[42];const U=i!==null;let F;e[43]===Symbol.for("react.memo_cache_sentinel")?(F=()=>s(null),e[43]=F):F=e[43];let $;e[44]!==r?($=r.map(tHe),e[44]=r,e[45]=$):$=e[45];let D;e[46]!==i||e[47]!==o||e[48]!==U||e[49]!==$?(D=c.jsx(V5,{open:U,onClose:F,image:i,images:$,currentIndex:o,onImageChange:l}),e[46]=i,e[47]=o,e[48]=U,e[49]=$,e[50]=D):D=e[50];let H;return e[51]!==M||e[52]!==N||e[53]!==d||e[54]!==D?(H=c.jsxs(ee,{children:[d,M,N,D]}),e[51]=M,e[52]=N,e[53]=d,e[54]=D,e[55]=H):H=e[55],H};function tHe(t){return t.image}const nHe=({testImageId:t,testLoading:e,testType:n,queryImage:r,testResults:a,onSetTestImageId:i,onSetTestType:s,onTestSearch:o})=>{const{t:l}=qt("settings"),[u,d]=A.useState(null),[h,m]=A.useState(!1),[y,x]=A.useState(!1),[v,_]=A.useState("");A.useEffect(()=>{C()},[]);const C=async()=>{m(!0);try{const T=await Nf.getStats();d(T)}catch(T){console.error("Failed to load stats:",T)}finally{m(!1)}},w=async()=>{x(!0),_("");try{const T=await Nf.rebuildHashes(100);_(` Processed: ${T.processed}, Failed: ${T.failed}, Remaining: ${T.remaining}`),await C()}catch(T){_(` Error: ${T.response?.data?.error||T.message}`)}finally{x(!1)}};return c.jsx(fr,{sx:{mb:3},children:c.jsxs(Ra,{children:[c.jsx(ae,{variant:"h6",gutterBottom:!0,children:l("similarity.test.title")}),c.jsx(ae,{variant:"body2",color:"text.secondary",paragraph:!0,children:l("similarity.test.description")}),h?c.jsx(ee,{sx:{mb:2},children:c.jsx(Kt,{size:20})}):u?c.jsxs(ee,{sx:{mb:2},children:[c.jsxs(fn,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[c.jsx(ae,{variant:"body2",color:"text.secondary",children:"Hash Status:"}),c.jsx(gt,{size:"small",icon:u.completionPercentage>=100?c.jsx(Cs,{}):c.jsx(c9e,{}),label:`${u.imagesWithHash} / ${u.totalImages} (${u.completionPercentage.toFixed(1)}%)`,color:u.completionPercentage>=100?"success":"warning"})]}),u.completionPercentage<100&&c.jsx(Id,{variant:"determinate",value:u.completionPercentage,sx:{mb:1}}),u.imagesWithoutHash>0&&c.jsx(Ze,{size:"small",variant:"outlined",startIcon:y?c.jsx(Kt,{size:16}):c.jsx(vo,{}),onClick:w,disabled:y,sx:{mt:1},children:y?"Rebuilding...":`Rebuild ${u.imagesWithoutHash} Missing Hashes`}),v&&c.jsx(wt,{severity:v.startsWith("")?"success":"error",sx:{mt:1},children:v})]}):null,c.jsxs(fn,{spacing:2,children:[c.jsxs(fn,{direction:"row",spacing:2,alignItems:"flex-end",children:[c.jsx(Lt,{label:l("similarity.test.imageId"),value:t,onChange:T=>i(T.target.value),type:"text",placeholder:"e.g., a1b2c3d4e5f6... (48-character composite hash)",fullWidth:!0}),c.jsxs(ba,{sx:{minWidth:150},children:[c.jsx(Ci,{children:l("similarity.test.searchType")}),c.jsxs(Ha,{value:n,label:l("similarity.test.searchType"),onChange:T=>s(T.target.value),children:[c.jsx(en,{value:"duplicates",children:l("similarity.test.types.duplicates")}),c.jsx(en,{value:"similar",children:l("similarity.test.types.similar")}),c.jsx(en,{value:"color",children:l("similarity.test.types.color")})]})]})]}),c.jsx(fn,{direction:"row",spacing:2,children:c.jsx(Ze,{variant:"contained",startIcon:e?c.jsx(Kt,{size:20}):c.jsx(qf,{}),onClick:o,disabled:e||!t,fullWidth:!0,children:l(e?"similarity.test.searching":"similarity.test.searchButton")})}),r&&c.jsx(eHe,{queryImage:r,testResults:a}),a.length===0&&t&&!e&&c.jsx(wt,{severity:"info",children:l("similarity.test.noResults")})]})]})})},rHe=({duplicateGroups:t,scanLoading:e,onScanDuplicates:n,onImagesDeleted:r})=>{const{t:a}=qt("settings"),[i,s]=A.useState(new Set),[o,l]=A.useState(!1),[u,d]=A.useState(!1),h=C=>{s(w=>{const T=new Set(w);return T.has(C)?T.delete(C):T.add(C),T})},m=(C,w)=>{s(T=>{const E=new Set(T);return C.images.forEach(k=>{k.file_id&&(w?E.add(k.file_id):E.delete(k.file_id))}),E})},y=C=>{s(w=>{const T=new Set(w);return C.images.slice(1).forEach(E=>{E.file_id&&T.add(E.file_id)}),T})},x=async()=>{if(i.size!==0){d(!0);try{const C=Array.from(i),w=await ya.deleteImageFiles(C);if(!w.success)alert(w.error||a("similarity.duplicateScan.deleteError"));else{const T=w.details?.deletedFiles?.length||C.length;alert(a("similarity.duplicateScan.deleteSuccess",{count:T}))}s(new Set),l(!1),r&&r()}catch(C){console.error("Failed to delete images:",C),alert(a("similarity.duplicateScan.deleteFailed"))}finally{d(!1)}}},v=C=>C.images.every(w=>w.file_id&&i.has(w.file_id)),_=C=>C.images.some(w=>w.file_id&&i.has(w.file_id))&&!v(C);return c.jsxs(fr,{sx:{mb:3},children:[c.jsxs(Ra,{children:[c.jsx(ae,{variant:"h6",gutterBottom:!0,children:a("similarity.duplicateScan.title")}),c.jsx(ae,{variant:"body2",color:"text.secondary",paragraph:!0,children:a("similarity.duplicateScan.description")}),c.jsxs(fn,{spacing:2,children:[c.jsxs(fn,{direction:"row",spacing:2,children:[c.jsx(Ze,{variant:"contained",color:"secondary",startIcon:e?c.jsx(Kt,{size:20}):c.jsx(PRe,{}),onClick:n,disabled:e,children:a(e?"similarity.duplicateScan.scanning":"similarity.duplicateScan.scanButton")}),i.size>0&&c.jsx(Ze,{variant:"contained",color:"error",startIcon:c.jsx(Ia,{}),onClick:()=>l(!0),children:a("similarity.duplicateScan.deleteSelected",{count:i.size})})]}),t.length>0&&c.jsxs(ee,{children:[c.jsx(ae,{variant:"subtitle2",gutterBottom:!0,children:a("similarity.duplicateScan.foundGroups",{count:t.length})}),t.map(C=>c.jsxs(kc,{children:[c.jsx(jc,{expandIcon:c.jsx(ts,{}),children:c.jsxs(fn,{direction:"row",spacing:2,alignItems:"center",sx:{width:"100%"},children:[c.jsx(Qv,{color:"warning"}),c.jsx(ae,{sx:{flex:1},children:a("similarity.duplicateScan.groupLabel",{id:C.groupId,count:C.images.length})}),c.jsx(gt,{label:a("similarity.duplicateScan.similarityLabel",{percent:C.similarity.toFixed(1)}),size:"small",color:"warning"})]})}),c.jsxs(Ic,{children:[c.jsxs(fn,{direction:"row",spacing:1,sx:{mb:2},flexWrap:"wrap",children:[c.jsx(Xt,{title:a("similarity.duplicateScan.selectAll"),children:c.jsx(Ze,{size:"small",variant:v(C)?"contained":"outlined",startIcon:c.jsx(rQ,{}),onClick:w=>{w.stopPropagation(),m(C,!v(C))},children:a("similarity.duplicateScan.selectAll")})}),c.jsx(Xt,{title:a("similarity.duplicateScan.keepOneDelete"),children:c.jsx(Ze,{size:"small",variant:"outlined",color:"warning",onClick:w=>{w.stopPropagation(),y(C)},children:a("similarity.duplicateScan.keepOne")})}),(v(C)||_(C))&&c.jsx(Xt,{title:a("similarity.duplicateScan.deselectAll"),children:c.jsx(Ze,{size:"small",variant:"outlined",startIcon:c.jsx(KX,{}),onClick:w=>{w.stopPropagation(),m(C,!1)},children:a("similarity.duplicateScan.deselectAll")})})]}),c.jsx(ee,{sx:{display:"grid",gridTemplateColumns:{xs:"repeat(2, 1fr)",sm:"repeat(3, 1fr)",md:"repeat(5, 1fr)"},gap:2},children:C.images.map(w=>{if(!w.file_id)return null;const T=i.has(w.file_id);return c.jsxs(ee,{sx:{position:"relative",cursor:"pointer",border:T?"3px solid":"1px solid",borderColor:T?"error.main":"divider",borderRadius:1,overflow:"hidden",transition:"all 0.2s","&:hover":{borderColor:T?"error.dark":"primary.main",transform:"scale(1.02)"}},onClick:()=>h(w.file_id),children:[c.jsx(ty,{checked:T,onChange:()=>h(w.file_id),sx:{position:"absolute",top:4,right:4,bgcolor:"background.paper",borderRadius:"50%","&:hover":{bgcolor:"background.paper"}},onClick:E=>E.stopPropagation()}),c.jsx(ee,{component:"img",src:f2(w)||"",alt:w.original_file_path??"",sx:{width:"100%",height:150,objectFit:"cover",opacity:T?.6:1}}),c.jsxs(ee,{sx:{p:1,bgcolor:T?"error.light":"background.paper"},children:[c.jsxs(ae,{variant:"caption",display:"block",noWrap:!0,sx:{color:T?"error.contrastText":"text.primary"},children:["ID: ",w.file_id]}),c.jsxs(ae,{variant:"caption",display:"block",noWrap:!0,sx:{color:T?"error.contrastText":"text.secondary"},children:[w.width,"  ",w.height]})]}),T&&c.jsx(ee,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"rgba(211, 47, 47, 0.9)",borderRadius:"50%",p:1},children:c.jsx(Ia,{sx:{color:"white",fontSize:32}})})]},`file-${w.file_id}`)})})]})]},C.groupId))]}),t.length===0&&!e&&c.jsx(wt,{severity:"info",children:a("similarity.duplicateScan.noResults")})]})]}),c.jsxs(hr,{open:o,onClose:()=>!u&&l(!1),children:[c.jsx(br,{children:a("similarity.duplicateScan.deleteConfirmTitle")}),c.jsxs(yr,{children:[c.jsx(Rp,{children:a("similarity.duplicateScan.deleteConfirmMessage",{count:i.size})}),c.jsx(wt,{severity:"warning",sx:{mt:2},children:a("similarity.duplicateScan.deleteWarning")})]}),c.jsxs(kr,{children:[c.jsx(Ze,{onClick:()=>l(!1),disabled:u,children:a("similarity.duplicateScan.cancel")}),c.jsx(Ze,{onClick:x,color:"error",variant:"contained",disabled:u,startIcon:u?c.jsx(Kt,{size:20}):c.jsx(Ia,{}),children:a(u?"similarity.duplicateScan.deleting":"similarity.duplicateScan.confirmDelete")})]})]})]})},aHe=t=>{const e=bt.c(166),{duplicateThreshold:n,similarThreshold:r,colorThreshold:a,searchLimit:i,onSetDuplicateThreshold:s,onSetSimilarThreshold:o,onSetColorThreshold:l,onSetSearchLimit:u}=t,{t:d}=qt("settings");let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h={display:"flex",alignItems:"center",mb:1},e[0]=h):h=e[0];let m;e[1]!==d?(m=d("similarity.thresholds.title"),e[1]=d,e[2]=m):m=e[2];let y;e[3]!==m?(y=c.jsx(ae,{variant:"h6",children:m}),e[3]=m,e[4]=y):y=e[4];let x;e[5]!==d?(x=d("similarity.thresholds.localStorageNote"),e[5]=d,e[6]=x):x=e[6];let v;e[7]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx(yc,{fontSize:"small",sx:{ml:1,color:"text.secondary"}}),e[7]=v):v=e[7];let _;e[8]!==x?(_=c.jsx(Xt,{title:x,arrow:!0,children:v}),e[8]=x,e[9]=_):_=e[9];let C;e[10]!==y||e[11]!==_?(C=c.jsxs(ee,{sx:h,children:[y,_]}),e[10]=y,e[11]=_,e[12]=C):C=e[12];let w;e[13]!==d?(w=d("similarity.thresholds.description"),e[13]=d,e[14]=w):w=e[14];let T;e[15]!==w?(T=c.jsx(ae,{variant:"body2",color:"text.secondary",paragraph:!0,children:w}),e[15]=w,e[16]=T):T=e[16];let E;e[17]!==n||e[18]!==d?(E=d("similarity.thresholds.duplicate.label",{value:n}),e[17]=n,e[18]=d,e[19]=E):E=e[19];let k;e[20]!==E?(k=c.jsx(ae,{gutterBottom:!0,children:E}),e[20]=E,e[21]=k):k=e[21];let j;e[22]!==s?(j=(Gt,xt)=>s(xt),e[22]=s,e[23]=j):j=e[23];let O;e[24]!==d?(O=d("similarity.thresholds.duplicate.strict"),e[24]=d,e[25]=O):O=e[25];let z;e[26]!==O?(z={value:0,label:O},e[26]=O,e[27]=z):z=e[27];let M;e[28]!==d?(M=d("similarity.thresholds.duplicate.recommended"),e[28]=d,e[29]=M):M=e[29];let N;e[30]!==M?(N={value:5,label:M},e[30]=M,e[31]=N):N=e[31];let U;e[32]!==d?(U=d("similarity.thresholds.duplicate.lenient"),e[32]=d,e[33]=U):U=e[33];let F;e[34]!==U?(F={value:10,label:U},e[34]=U,e[35]=F):F=e[35];let $;e[36]!==z||e[37]!==N||e[38]!==F?($=[z,N,F],e[36]=z,e[37]=N,e[38]=F,e[39]=$):$=e[39];let D;e[40]!==n||e[41]!==j||e[42]!==$?(D=c.jsx(Ba,{value:n,onChange:j,min:0,max:10,step:1,marks:$}),e[40]=n,e[41]=j,e[42]=$,e[43]=D):D=e[43];let H;e[44]!==d?(H=d("similarity.thresholds.duplicate.description"),e[44]=d,e[45]=H):H=e[45];let L;e[46]!==H?(L=c.jsx(ae,{variant:"caption",color:"text.secondary",children:H}),e[46]=H,e[47]=L):L=e[47];let V;e[48]!==k||e[49]!==D||e[50]!==L?(V=c.jsxs(ee,{children:[k,D,L]}),e[48]=k,e[49]=D,e[50]=L,e[51]=V):V=e[51];let J;e[52]!==r||e[53]!==d?(J=d("similarity.thresholds.similar.label",{value:r}),e[52]=r,e[53]=d,e[54]=J):J=e[54];let Q;e[55]!==J?(Q=c.jsx(ae,{gutterBottom:!0,children:J}),e[55]=J,e[56]=Q):Q=e[56];let K;e[57]!==o?(K=(Gt,xt)=>o(xt),e[57]=o,e[58]=K):K=e[58];let q;e[59]!==d?(q=d("similarity.thresholds.similar.strict"),e[59]=d,e[60]=q):q=e[60];let Z;e[61]!==q?(Z={value:5,label:q},e[61]=q,e[62]=Z):Z=e[62];let Y;e[63]!==d?(Y=d("similarity.thresholds.similar.recommended"),e[63]=d,e[64]=Y):Y=e[64];let ne;e[65]!==Y?(ne={value:15,label:Y},e[65]=Y,e[66]=ne):ne=e[66];let re;e[67]!==d?(re=d("similarity.thresholds.similar.lenient"),e[67]=d,e[68]=re):re=e[68];let ie;e[69]!==re?(ie={value:25,label:re},e[69]=re,e[70]=ie):ie=e[70];let ce;e[71]!==Z||e[72]!==ne||e[73]!==ie?(ce=[Z,ne,ie],e[71]=Z,e[72]=ne,e[73]=ie,e[74]=ce):ce=e[74];let he;e[75]!==r||e[76]!==K||e[77]!==ce?(he=c.jsx(Ba,{value:r,onChange:K,min:5,max:25,step:1,marks:ce}),e[75]=r,e[76]=K,e[77]=ce,e[78]=he):he=e[78];let me;e[79]!==d?(me=d("similarity.thresholds.similar.description"),e[79]=d,e[80]=me):me=e[80];let le;e[81]!==me?(le=c.jsx(ae,{variant:"caption",color:"text.secondary",children:me}),e[81]=me,e[82]=le):le=e[82];let de;e[83]!==Q||e[84]!==he||e[85]!==le?(de=c.jsxs(ee,{children:[Q,he,le]}),e[83]=Q,e[84]=he,e[85]=le,e[86]=de):de=e[86];let pe;e[87]!==a||e[88]!==d?(pe=d("similarity.thresholds.color.label",{value:a}),e[87]=a,e[88]=d,e[89]=pe):pe=e[89];let ve;e[90]!==pe?(ve=c.jsx(ae,{gutterBottom:!0,children:pe}),e[90]=pe,e[91]=ve):ve=e[91];let ge;e[92]!==l?(ge=(Gt,xt)=>l(xt),e[92]=l,e[93]=ge):ge=e[93];let oe;e[94]!==d?(oe=d("similarity.thresholds.color.min"),e[94]=d,e[95]=oe):oe=e[95];let Se;e[96]!==oe?(Se={value:70,label:oe},e[96]=oe,e[97]=Se):Se=e[97];let be;e[98]!==d?(be=d("similarity.thresholds.color.recommended"),e[98]=d,e[99]=be):be=e[99];let Ae;e[100]!==be?(Ae={value:85,label:be},e[100]=be,e[101]=Ae):Ae=e[101];let Me;e[102]!==d?(Me=d("similarity.thresholds.color.max"),e[102]=d,e[103]=Me):Me=e[103];let Pe;e[104]!==Me?(Pe={value:100,label:Me},e[104]=Me,e[105]=Pe):Pe=e[105];let Le;e[106]!==Se||e[107]!==Ae||e[108]!==Pe?(Le=[Se,Ae,Pe],e[106]=Se,e[107]=Ae,e[108]=Pe,e[109]=Le):Le=e[109];let Oe;e[110]!==a||e[111]!==ge||e[112]!==Le?(Oe=c.jsx(Ba,{value:a,onChange:ge,min:70,max:100,step:5,marks:Le}),e[110]=a,e[111]=ge,e[112]=Le,e[113]=Oe):Oe=e[113];let Xe;e[114]!==d?(Xe=d("similarity.thresholds.color.description"),e[114]=d,e[115]=Xe):Xe=e[115];let ke;e[116]!==Xe?(ke=c.jsx(ae,{variant:"caption",color:"text.secondary",children:Xe}),e[116]=Xe,e[117]=ke):ke=e[117];let Ie;e[118]!==ve||e[119]!==Oe||e[120]!==ke?(Ie=c.jsxs(ee,{children:[ve,Oe,ke]}),e[118]=ve,e[119]=Oe,e[120]=ke,e[121]=Ie):Ie=e[121];let ye;e[122]!==d?(ye=d("similarity.thresholds.searchLimit.label"),e[122]=d,e[123]=ye):ye=e[123];let Ce;e[124]!==ye?(Ce=c.jsx(Ci,{children:ye}),e[124]=ye,e[125]=Ce):Ce=e[125];let Ne;e[126]!==d?(Ne=d("similarity.thresholds.searchLimit.label"),e[126]=d,e[127]=Ne):Ne=e[127];let Be;e[128]!==u?(Be=Gt=>u(Gt.target.value),e[128]=u,e[129]=Be):Be=e[129];let Ke;e[130]!==d?(Ke=d("similarity.thresholds.searchLimit.options.10"),e[130]=d,e[131]=Ke):Ke=e[131];let Je;e[132]!==Ke?(Je=c.jsx(en,{value:10,children:Ke}),e[132]=Ke,e[133]=Je):Je=e[133];let Ge;e[134]!==d?(Ge=d("similarity.thresholds.searchLimit.options.20"),e[134]=d,e[135]=Ge):Ge=e[135];let it;e[136]!==Ge?(it=c.jsx(en,{value:20,children:Ge}),e[136]=Ge,e[137]=it):it=e[137];let ct;e[138]!==d?(ct=d("similarity.thresholds.searchLimit.options.50"),e[138]=d,e[139]=ct):ct=e[139];let nt;e[140]!==ct?(nt=c.jsx(en,{value:50,children:ct}),e[140]=ct,e[141]=nt):nt=e[141];let dt;e[142]!==d?(dt=d("similarity.thresholds.searchLimit.options.100"),e[142]=d,e[143]=dt):dt=e[143];let $t;e[144]!==dt?($t=c.jsx(en,{value:100,children:dt}),e[144]=dt,e[145]=$t):$t=e[145];let Wt;e[146]!==i||e[147]!==Ne||e[148]!==Be||e[149]!==Je||e[150]!==it||e[151]!==nt||e[152]!==$t?(Wt=c.jsxs(Ha,{value:i,label:Ne,onChange:Be,children:[Je,it,nt,$t]}),e[146]=i,e[147]=Ne,e[148]=Be,e[149]=Je,e[150]=it,e[151]=nt,e[152]=$t,e[153]=Wt):Wt=e[153];let sn;e[154]!==Ce||e[155]!==Wt?(sn=c.jsxs(ba,{fullWidth:!0,children:[Ce,Wt]}),e[154]=Ce,e[155]=Wt,e[156]=sn):sn=e[156];let xn;e[157]!==V||e[158]!==de||e[159]!==Ie||e[160]!==sn?(xn=c.jsxs(fn,{spacing:3,children:[V,de,Ie,sn]}),e[157]=V,e[158]=de,e[159]=Ie,e[160]=sn,e[161]=xn):xn=e[161];let In;return e[162]!==xn||e[163]!==C||e[164]!==T?(In=c.jsx(fr,{children:c.jsxs(Ra,{children:[C,T,xn]})}),e[162]=xn,e[163]=C,e[164]=T,e[165]=In):In=e[165],In},iHe=()=>{const t=bt.c(54),{t:e}=qt("settings"),{stats:n,rebuilding:r,rebuildProgress:a,rebuildProcessed:i,rebuildTotal:s,autoGenerateHash:o,loadStats:l,handleAutoGenerateHashChange:u,handleRebuildHashes:d}=YBe(),{testImageId:h,testLoading:m,testResults:y,testType:x,queryImage:v,duplicateThreshold:_,similarThreshold:C,colorThreshold:w,searchLimit:T,setTestImageId:E,setTestType:k,setDuplicateThreshold:j,setSimilarThreshold:O,setColorThreshold:z,setSearchLimit:M,handleTestSearch:N}=KBe(),{duplicateGroups:U,scanLoading:F,handleScanDuplicates:$}=XBe(_);let D;t[0]!==u||t[1]!==e?(D=ce=>u(ce,e),t[0]=u,t[1]=e,t[2]=D):D=t[2];let H;t[3]!==d||t[4]!==e?(H=()=>d(e),t[3]=d,t[4]=e,t[5]=H):H=t[5];let L;t[6]!==o||t[7]!==l||t[8]!==i||t[9]!==a||t[10]!==s||t[11]!==r||t[12]!==n||t[13]!==D||t[14]!==H?(L=c.jsx(QBe,{stats:n,rebuilding:r,rebuildProgress:a,rebuildProcessed:i,rebuildTotal:s,autoGenerateHash:o,onAutoGenerateHashChange:D,onRebuildHashes:H,onRefreshStats:l}),t[6]=o,t[7]=l,t[8]=i,t[9]=a,t[10]=s,t[11]=r,t[12]=n,t[13]=D,t[14]=H,t[15]=L):L=t[15];let V;t[16]===Symbol.for("react.memo_cache_sentinel")?(V=c.jsx(bn,{sx:{my:3}}),t[16]=V):V=t[16];let J;t[17]!==N||t[18]!==e?(J=()=>N(e),t[17]=N,t[18]=e,t[19]=J):J=t[19];let Q;t[20]!==v||t[21]!==E||t[22]!==k||t[23]!==J||t[24]!==h||t[25]!==m||t[26]!==y||t[27]!==x?(Q=c.jsx(nHe,{testImageId:h,testLoading:m,testType:x,queryImage:v,testResults:y,onSetTestImageId:E,onSetTestType:k,onTestSearch:J}),t[20]=v,t[21]=E,t[22]=k,t[23]=J,t[24]=h,t[25]=m,t[26]=y,t[27]=x,t[28]=Q):Q=t[28];let K;t[29]===Symbol.for("react.memo_cache_sentinel")?(K=c.jsx(bn,{sx:{my:3}}),t[29]=K):K=t[29];let q,Z;t[30]!==$||t[31]!==e?(q=()=>$(e),Z=()=>{$(e)},t[30]=$,t[31]=e,t[32]=q,t[33]=Z):(q=t[32],Z=t[33]);let Y;t[34]!==U||t[35]!==F||t[36]!==q||t[37]!==Z?(Y=c.jsx(rHe,{duplicateGroups:U,scanLoading:F,onScanDuplicates:q,onImagesDeleted:Z}),t[34]=U,t[35]=F,t[36]=q,t[37]=Z,t[38]=Y):Y=t[38];let ne;t[39]===Symbol.for("react.memo_cache_sentinel")?(ne=c.jsx(bn,{sx:{my:3}}),t[39]=ne):ne=t[39];let re;t[40]!==w||t[41]!==_||t[42]!==T||t[43]!==z||t[44]!==j||t[45]!==M||t[46]!==O||t[47]!==C?(re=c.jsx(aHe,{duplicateThreshold:_,similarThreshold:C,colorThreshold:w,searchLimit:T,onSetDuplicateThreshold:j,onSetSimilarThreshold:O,onSetColorThreshold:z,onSetSearchLimit:M}),t[40]=w,t[41]=_,t[42]=T,t[43]=z,t[44]=j,t[45]=M,t[46]=O,t[47]=C,t[48]=re):re=t[48];let ie;return t[49]!==re||t[50]!==L||t[51]!==Q||t[52]!==Y?(ie=c.jsxs(ee,{children:[L,V,Q,K,Y,ne,re]}),t[49]=re,t[50]=L,t[51]=Q,t[52]=Y,t[53]=ie):ie=t[53],ie},sHe=async t=>(await tn.get(`${Ir}/api/folders`,{params:t,withCredentials:!0})).data.data,oHe=async t=>(await tn.get(`${Ir}/api/folders/${t}`,{withCredentials:!0})).data.data,lHe=async t=>(await tn.post(`${Ir}/api/folders`,t,{withCredentials:!0})).data.data,cHe=async(t,e)=>(await tn.patch(`${Ir}/api/folders/${t}`,e,{withCredentials:!0})).data.data,uHe=async(t,e=!1)=>(await tn.delete(`${Ir}/api/folders/${t}`,{params:{delete_files:e},withCredentials:!0})).data.data,dHe=async(t,e=!1)=>(await tn.post(`${Ir}/api/folders/${t}/scan`,null,{params:{full:e},withCredentials:!0})).data.data,fHe=async()=>(await tn.post(`${Ir}/api/folders/scan-all`,null,{withCredentials:!0})).data.data,hHe=async t=>(await tn.post(`${Ir}/api/folders/validate-path`,{folder_path:t},{withCredentials:!0})).data.data,pHe=async t=>(await tn.post(`${Ir}/api/folders/${t}/watcher/start`,null,{withCredentials:!0})).data.data,mHe=async t=>(await tn.post(`${Ir}/api/folders/${t}/watcher/stop`,null,{withCredentials:!0})).data.data,gHe=async t=>(await tn.post(`${Ir}/api/folders/${t}/watcher/restart`,null,{withCredentials:!0})).data.data,yHe=async t=>(await tn.get(`${Ir}/api/folders/${t}/watcher/status`,{withCredentials:!0})).data.data,bHe=async()=>(await tn.get(`${Ir}/api/folders/watchers/health`,{withCredentials:!0})).data.data,Kh={getFolders:sHe,getFolder:oHe,addFolder:lHe,updateFolder:cHe,deleteFolder:uHe,scanFolder:dHe,scanAllFolders:fHe,validateFolderPath:hHe,startWatcher:pHe,stopWatcher:mHe,restartWatcher:gHe,getWatcherStatus:yHe,getWatchersHealth:bHe},xHe=({open:t,onClose:e,folder:n,onSuccess:r})=>{const a=!!n,[i,s]=A.useState({folder_path:"",folder_name:"",auto_scan:!0,scan_interval:60,recursive:!0,exclude_extensions:[],exclude_patterns:[],watcher_enabled:!0,watcher_polling_interval:null}),[o,l]=A.useState(""),[u,d]=A.useState(""),[h,m]=A.useState(null),[y,x]=A.useState(!1);A.useEffect(()=>{s(n?{folder_path:n.folder_path,folder_name:n.folder_name||"",auto_scan:n.auto_scan===1,scan_interval:n.scan_interval,recursive:n.recursive===1,exclude_extensions:n.exclude_extensions?JSON.parse(n.exclude_extensions):[],exclude_patterns:n.exclude_patterns?JSON.parse(n.exclude_patterns):[],watcher_enabled:n.watcher_enabled===1,watcher_polling_interval:n.watcher_polling_interval}:{folder_path:"",folder_name:"",auto_scan:!0,scan_interval:60,recursive:!0,exclude_extensions:[],exclude_patterns:[],watcher_enabled:!0,watcher_polling_interval:null}),m(null)},[n,t]);const v=()=>{if(!o.trim())return;const E=o.trim().startsWith(".")?o.trim():`.${o.trim()}`;i.exclude_extensions?.includes(E)||s({...i,exclude_extensions:[...i.exclude_extensions||[],E]}),l("")},_=E=>{s({...i,exclude_extensions:i.exclude_extensions?.filter(k=>k!==E)})},C=()=>{u.trim()&&(i.exclude_patterns?.includes(u.trim())||s({...i,exclude_patterns:[...i.exclude_patterns||[],u.trim()]}),d(""))},w=E=>{s({...i,exclude_patterns:i.exclude_patterns?.filter(k=>k!==E)})},T=async()=>{if(!i.folder_path.trim()){m("  ");return}x(!0);try{if(m(null),a&&n){const E={folder_name:i.folder_name,auto_scan:i.auto_scan,scan_interval:i.scan_interval,recursive:i.recursive,exclude_extensions:i.exclude_extensions,exclude_patterns:i.exclude_patterns,watcher_enabled:i.watcher_enabled,watcher_polling_interval:i.watcher_polling_interval};await Kh.updateFolder(n.id,E)}else await Kh.addFolder(i);await new Promise(E=>setTimeout(E,500)),r(),e()}catch(E){m(E.response?.data?.message||"  ")}finally{x(!1)}};return c.jsxs(hr,{open:t,onClose:e,maxWidth:"md",fullWidth:!0,children:[c.jsx(br,{children:a?" ":" "}),c.jsxs(yr,{children:[h&&c.jsx(wt,{severity:"error",sx:{mb:2},children:h}),c.jsxs(ee,{sx:{display:"flex",flexDirection:"column",gap:1.5,mt:.5},children:[c.jsx(Lt,{fullWidth:!0,label:"  *",value:i.folder_path,onChange:E=>s({...i,folder_path:E.target.value}),disabled:a,helperText:a?"    ":"   (: D:\\Images  \\\\192.168.1.100\\Share\\Images)"}),c.jsx(Lt,{fullWidth:!0,label:" ",value:i.folder_name,onChange:E=>s({...i,folder_name:E.target.value}),helperText:"    "}),c.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:.5},children:[c.jsx(gr,{control:c.jsx(ii,{checked:i.watcher_enabled,onChange:E=>s({...i,watcher_enabled:E.target.checked})}),label:"   "}),c.jsx(Xt,{title:"     //    .    ,     .",arrow:!0,placement:"right",children:c.jsx(ht,{size:"small",children:c.jsx(yc,{fontSize:"small",color:"action"})})})]}),i.watcher_enabled&&c.jsxs(ee,{sx:{display:"flex",flexDirection:"column",gap:1},children:[c.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:.5},children:[c.jsx(ae,{variant:"body2",color:"text.secondary",children:"  ( )"}),c.jsx(Xt,{title:"       .         .    (: 1000ms).",arrow:!0,children:c.jsx(L1,{fontSize:"small",color:"action",sx:{cursor:"help"}})})]}),c.jsx(Lt,{size:"small",type:"number",label:"  ()",value:i.watcher_polling_interval??"",onChange:E=>s({...i,watcher_polling_interval:E.target.value===""?null:parseInt(E.target.value)||null}),placeholder:"  ( : 1000ms)",helperText:"  . : 500-3000ms",sx:{maxWidth:300},inputProps:{min:100,step:100}})]}),c.jsx(gr,{control:c.jsx(ii,{checked:i.auto_scan,onChange:E=>s({...i,auto_scan:E.target.checked})}),label:"  "}),i.auto_scan&&c.jsx(Lt,{fullWidth:!0,type:"number",label:"  ()",value:i.scan_interval,onChange:E=>s({...i,scan_interval:parseInt(E.target.value)||60}),helperText:"   ( )"}),c.jsxs(kc,{sx:{boxShadow:"none","&:before":{display:"none"}},children:[c.jsx(jc,{expandIcon:c.jsx(ts,{}),sx:{minHeight:40,"& .MuiAccordionSummary-content":{my:.5}},children:c.jsx(ae,{variant:"body2",color:"text.secondary",children:" "})}),c.jsx(Ic,{sx:{pt:0},children:c.jsxs(ee,{sx:{display:"flex",flexDirection:"column",gap:1.5},children:[c.jsx(gr,{control:c.jsx(ii,{checked:i.recursive,onChange:E=>s({...i,recursive:E.target.checked})}),label:"   ( )"}),c.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:.5,mt:.5},children:[c.jsx(ae,{variant:"body2",color:"text.secondary",children:" "}),c.jsx(Xt,{title:"    (.jpg, .png, .webp, .gif, .bmp, .tiff) .      .",arrow:!0,children:c.jsx(L1,{fontSize:"small",color:"action",sx:{cursor:"help"}})})]}),c.jsxs(ee,{sx:{display:"flex",gap:1},children:[c.jsx(Lt,{size:"small",value:o,onChange:E=>l(E.target.value),onKeyDown:E=>E.key==="Enter"&&v(),placeholder:".tmp",sx:{width:200}}),c.jsx(Ze,{onClick:v,startIcon:c.jsx(Ws,{}),variant:"outlined",size:"small",children:""})]}),i.exclude_extensions&&i.exclude_extensions.length>0&&c.jsx(ee,{sx:{display:"flex",gap:.5,flexWrap:"wrap"},children:i.exclude_extensions.map(E=>c.jsx(gt,{label:E,onDelete:()=>_(E),size:"small",color:"error",variant:"outlined"},E))}),c.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:.5,mt:.5},children:[c.jsx(ae,{variant:"body2",color:"text.secondary",children:" "}),c.jsx(Xt,{title:"       . : node_modules, .git, temp",arrow:!0,children:c.jsx(L1,{fontSize:"small",color:"action",sx:{cursor:"help"}})})]}),c.jsxs(ee,{sx:{display:"flex",gap:1},children:[c.jsx(Lt,{size:"small",value:u,onChange:E=>d(E.target.value),onKeyDown:E=>E.key==="Enter"&&C(),placeholder:": node_modules, .git",sx:{width:300}}),c.jsx(Ze,{onClick:C,startIcon:c.jsx(Ws,{}),variant:"outlined",size:"small",children:""})]}),i.exclude_patterns&&i.exclude_patterns.length>0&&c.jsx(ee,{sx:{display:"flex",gap:.5,flexWrap:"wrap"},children:i.exclude_patterns.map(E=>c.jsx(gt,{label:E,onDelete:()=>w(E),size:"small"},E))})]})})]})]})]}),c.jsxs(kr,{children:[c.jsx(Ze,{onClick:e,disabled:y,children:""}),c.jsx(Ze,{onClick:T,variant:"contained",disabled:y,children:y?" ...":""})]})]})},CB="http://localhost:1566",vHe=({open:t,onClose:e,folderId:n})=>{const[r,a]=A.useState([]),[i,s]=A.useState(!1),[o,l]=A.useState(null);A.useEffect(()=>{t&&u()},[t,n]);const u=async()=>{s(!0),l(null);try{const m=n?`${CB}/api/folders/${n}/scan-logs`:`${CB}/api/folders/scan-logs/recent`,y=await tn.get(m);a(y.data.data)}catch(m){console.error("Failed to load scan logs:",m),l("   ")}finally{s(!1)}},d=m=>{switch(m){case"success":return"success";case"error":return"error";default:return"default"}},h=m=>{switch(m){case"success":return"";case"error":return"";default:return m}};return c.jsxs(hr,{open:t,onClose:e,maxWidth:"lg",fullWidth:!0,children:[c.jsxs(br,{children:["  ",n?"( )":"()"]}),c.jsxs(yr,{children:[o&&c.jsx(wt,{severity:"error",sx:{mb:2},children:o}),i?c.jsx(ee,{sx:{display:"flex",justifyContent:"center",py:4},children:c.jsx(Kt,{})}):r.length===0?c.jsx(wt,{severity:"info",children:"  "}):c.jsx(D5,{component:Yt,variant:"outlined",children:c.jsxs(I5,{size:"small",children:[c.jsx(N5,{children:c.jsxs(wc,{children:[c.jsx(an,{children:" "}),!n&&c.jsx(an,{children:""}),c.jsx(an,{align:"center",children:""}),c.jsx(an,{align:"right",children:""}),c.jsx(an,{align:"right",children:""}),c.jsx(an,{align:"right",children:""}),c.jsx(an,{align:"right",children:""}),c.jsx(an,{align:"right",children:""}),c.jsx(an,{children:""})]})}),c.jsx(O5,{children:r.map(m=>c.jsxs(wc,{children:[c.jsx(an,{children:c.jsx(ae,{variant:"caption",children:new Date(m.scan_date).toLocaleString()})}),!n&&c.jsx(an,{children:c.jsx(ae,{variant:"caption",noWrap:!0,children:m.folder_name||m.folder_path})}),c.jsx(an,{align:"center",children:c.jsx(gt,{label:h(m.scan_status),size:"small",color:d(m.scan_status)})}),c.jsx(an,{align:"right",children:m.total_scanned}),c.jsx(an,{align:"right",children:m.new_images}),c.jsx(an,{align:"right",children:m.existing_images}),c.jsx(an,{align:"right",children:m.errors_count>0&&c.jsx(gt,{label:m.errors_count,size:"small",color:"error",icon:c.jsx(gg,{})})}),c.jsx(an,{align:"right",children:c.jsxs(ae,{variant:"caption",children:[(m.duration_ms/1e3).toFixed(2),""]})}),c.jsx(an,{children:m.error_details&&m.error_details.length>0&&c.jsxs(kc,{children:[c.jsx(jc,{expandIcon:c.jsx(ts,{}),children:c.jsxs(ae,{variant:"caption",children:["  (",m.error_details.length,")"]})}),c.jsx(Ic,{children:c.jsx(ee,{sx:{maxHeight:200,overflow:"auto"},children:m.error_details.map((y,x)=>c.jsxs(ee,{sx:{mb:1},children:[c.jsx(ae,{variant:"caption",fontWeight:"bold",children:y.file}),c.jsx(ae,{variant:"caption",color:"error",display:"block",children:y.error})]},x))})})]})})]},m.id))})]})})]}),c.jsxs(kr,{children:[c.jsx(Ze,{onClick:u,disabled:i,children:""}),c.jsx(Ze,{onClick:e,children:""})]})]})},SHe=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!0),[a,i]=A.useState(null),[s,o]=A.useState(!1),[l,u]=A.useState(null),[d,h]=A.useState(null),[m,y]=A.useState(!1),[x,v]=A.useState(!1),[_,C]=A.useState(void 0),[w,T]=A.useState(null),E=async()=>{try{i(null);const D=await Kh.getFolders();e(D.filter(H=>!H.is_default))}catch(D){console.error("Failed to load folders:",D),i("   ")}finally{r(!1)}};A.useEffect(()=>{E();const D=setInterval(()=>{E()},1e4);return()=>clearInterval(D)},[]);const k=D=>{u(D||null),o(!0)},j=()=>{o(!1),u(null)},O=()=>{E()},z=async D=>{if(window.confirm(`"${D.folder_name||D.folder_path}"  ?`))try{await Kh.deleteFolder(D.id),E()}catch(H){console.error("Failed to delete folder:",H),i("  ")}},M=async D=>{h(D);try{await Kh.scanFolder(D),E()}catch(H){console.error("Failed to scan folder:",H),i("  ")}finally{h(null)}},N=async()=>{y(!0);try{i(null);const D=await Kh.scanAllFolders(),H=`  : ${D.totalFolders} ,  ${D.totalNew},  ${D.totalExisting}${D.totalErrors>0?`,  ${D.totalErrors}`:""}`;alert(H),E()}catch(D){console.error("Failed to scan all folders:",D),i("   ")}finally{y(!1)}},U=async D=>{T(D);try{await Kh.startWatcher(D),E()}catch(H){console.error("Failed to start watcher:",H),i("   ")}finally{T(null)}},F=async D=>{T(D);try{await Kh.stopWatcher(D),E()}catch(H){console.error("Failed to stop watcher:",H),i("   ")}finally{T(null)}},$=D=>{const{watcher_status:H,watcher_enabled:L}=D;if(L===1&&!H)return" ...";switch(H){case"watching":return" ";case"error":return"";case"stopped":return"";default:return""}};return n?c.jsx(Yt,{sx:{p:3},children:c.jsx(ee,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:c.jsx(Kt,{})})}):c.jsxs(ee,{children:[c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[c.jsx(ae,{variant:"h6",children:"  "}),c.jsxs(ee,{sx:{display:"flex",gap:1},children:[c.jsx(Ze,{startIcon:c.jsx(pC,{}),onClick:()=>{C(void 0),v(!0)},size:"small",variant:"outlined",children:" "}),c.jsx(Ze,{startIcon:m?c.jsx(Kt,{size:16}):c.jsx(pp,{}),onClick:N,disabled:m||t.length===0,variant:"outlined",color:"primary",children:" "}),c.jsx(Ze,{startIcon:c.jsx(vo,{}),onClick:E,size:"small",children:""})]})]}),a&&c.jsx(wt,{severity:"error",sx:{mb:2},onClose:()=>i(null),children:a}),c.jsxs(yn,{container:!0,spacing:2,children:[t.map(D=>c.jsx(yn,{size:{xs:12,sm:6,md:4},children:c.jsxs(fr,{sx:{display:"flex",flexDirection:"column",height:"100%",minHeight:220,position:"relative"},children:[c.jsxs(ee,{sx:{p:2,pb:1.5,borderBottom:"1px solid",borderColor:"divider"},children:[c.jsx(Xt,{title:D.folder_path,placement:"top",arrow:!0,children:c.jsx(ae,{variant:"h6",component:"div",sx:{fontWeight:600,fontSize:"1.1rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",mb:.5},children:D.folder_name||" "})}),c.jsxs(ee,{sx:{display:"flex",gap:.5,alignItems:"center",flexWrap:"wrap"},children:[c.jsx(gt,{label:D.is_active?"":"",size:"small",color:D.is_active?"success":"default",sx:{height:20,fontSize:"0.7rem"}}),D.auto_scan===1&&c.jsx(gt,{icon:c.jsx(TRe,{sx:{fontSize:14}}),label:`${D.scan_interval}`,size:"small",variant:"outlined",sx:{height:20,fontSize:"0.7rem"}}),D.last_scan_status&&c.jsx(gt,{label:"",size:"small",sx:{height:20,fontSize:"0.7rem",color:D.last_scan_status==="success"?"success.main":D.last_scan_status==="error"?"error.main":D.last_scan_status==="in_progress"?"info.main":"grey.500",borderColor:D.last_scan_status==="success"?"success.main":D.last_scan_status==="error"?"error.main":D.last_scan_status==="in_progress"?"info.main":"grey.400"},variant:"outlined"}),D.watcher_enabled===1&&c.jsx(Xt,{title:$(D),arrow:!0,children:c.jsx(ee,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:32,height:20,border:"1px solid",borderRadius:"10px",color:D.watcher_status==="watching"?"success.main":D.watcher_status==="error"?"error.main":"grey.500",borderColor:D.watcher_status==="watching"?"success.main":D.watcher_status==="error"?"error.main":"grey.400"},children:D.watcher_status==="watching"?c.jsx(LO,{sx:{fontSize:14}}):D.watcher_status==="error"?c.jsx(rI,{sx:{fontSize:14}}):c.jsx(rI,{sx:{fontSize:14}})})})]})]}),c.jsx(Ra,{sx:{flexGrow:1,p:2,pb:1,minHeight:60},children:D.watcher_error?c.jsx(wt,{severity:"error",sx:{py:.5,fontSize:"0.75rem"},children:D.watcher_error}):c.jsx(ee,{children:D.last_scan_date?c.jsxs(ae,{variant:"caption",color:"text.disabled",sx:{fontSize:"0.75rem"},children:[" : ",new Date(D.last_scan_date).toLocaleString("ko-KR",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})]}):c.jsx(ae,{variant:"caption",color:"text.disabled",sx:{fontSize:"0.75rem"},children:"  "})})}),c.jsxs(qk,{sx:{p:2,pt:1,borderTop:"1px solid",borderColor:"divider",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx(ee,{sx:{display:"flex",alignItems:"center"},children:D.watcher_enabled===1&&c.jsx(Xt,{title:w===D.id?" ...":D.watcher_status==="watching"?" ":" ",arrow:!0,children:c.jsx(ii,{size:"small",checked:D.watcher_status==="watching",onChange:H=>{H.target.checked?U(D.id):F(D.id)},disabled:w===D.id,color:"success"})})}),c.jsxs(ee,{sx:{display:"flex",gap:.5,alignItems:"center"},children:[c.jsx(Xt,{title:"",arrow:!0,children:c.jsx("span",{children:c.jsx(ht,{size:"small",onClick:()=>M(D.id),disabled:d===D.id,color:"primary",children:d===D.id?c.jsx(Kt,{size:18}):c.jsx(pp,{fontSize:"small"})})})}),c.jsx(Xt,{title:"",arrow:!0,children:c.jsx(ht,{size:"small",onClick:()=>{C(D.id),v(!0)},children:c.jsx(pC,{fontSize:"small"})})}),c.jsx(Xt,{title:"",arrow:!0,children:c.jsx(ht,{size:"small",onClick:()=>k(D),children:c.jsx(yu,{fontSize:"small"})})}),c.jsx(Xt,{title:"",arrow:!0,children:c.jsx(ht,{size:"small",onClick:()=>z(D),color:"error",children:c.jsx(Ia,{fontSize:"small"})})})]})]})]})},D.id)),c.jsx(yn,{size:{xs:12,sm:6,md:4},children:c.jsx(fr,{sx:{border:"2px dashed",borderColor:"primary.main",backgroundColor:"transparent",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",minHeight:220,transition:"all 0.2s","&:hover":{backgroundColor:"action.hover",borderColor:"primary.dark","& .add-icon-circle":{transform:"scale(1.1)",backgroundColor:"primary.dark"}}},onClick:()=>k(),children:c.jsxs(ee,{sx:{textAlign:"center",p:2},children:[c.jsx(ee,{className:"add-icon-circle",sx:{width:60,height:60,borderRadius:"50%",backgroundColor:"primary.main",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",transition:"all 0.2s"},children:c.jsx(Ws,{sx:{fontSize:32,color:"white"}})}),c.jsx(ae,{variant:"body2",color:"text.secondary",children:" "})]})})})]}),c.jsx(xHe,{open:s,onClose:j,onSuccess:O,folder:l}),c.jsx(vHe,{open:x,onClose:()=>v(!1),folderId:_})]})},_He=async()=>(await tn.get(`${Ir}/api/background-queue/status`,{withCredentials:!0})).data.data,CHe=async()=>(await tn.post(`${Ir}/api/background-queue/clear`,null,{withCredentials:!0})).data.data,wHe=async()=>(await tn.post(`${Ir}/api/background-queue/trigger-auto-tag`,null,{withCredentials:!0})).data.data,EHe=async()=>(await tn.get(`${Ir}/api/images/similarity/stats`,{withCredentials:!0})).data.data,THe=async()=>(await tn.post(`${Ir}/api/images/similarity/rebuild-hashes`,null,{withCredentials:!0})).data.data,zx={getQueueStatus:_He,clearQueue:CHe,triggerAutoTag:wHe,getHashStats:EHe,rebuildHashes:THe},E1={async getStats(){const t=await At.get("/api/file-verification/stats");return t.data.data||t.data},async getProgress(){const t=await At.get("/api/file-verification/progress");return t.data.data||t.data},async triggerVerification(){return(await At.post("/api/file-verification/verify")).data},async getLogs(t=50){const e=await At.get("/api/file-verification/logs",{params:{limit:t}});return e.data.data||e.data},async getSettings(){const t=await At.get("/api/file-verification/settings");return t.data.data||t.data},async updateSettings(t){return(await At.put("/api/file-verification/settings",t)).data}},AHe=({open:t,onClose:e})=>{const[n,r]=A.useState([]),[a,i]=A.useState(!1),[s,o]=A.useState(null);A.useEffect(()=>{t&&l()},[t]);const l=async()=>{i(!0),o(null);try{const y=await E1.getLogs(50);r(y)}catch(y){console.error("Failed to load verification logs:",y),o("   ")}finally{i(!1)}},u=y=>new Date(y).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),d=y=>y<1e3?`${y}ms`:`${(y/1e3).toFixed(2)}`,h=y=>{switch(y){case"auto":return" ";case"manual":return" ";default:return y}},m=y=>{if(!y)return[];try{return JSON.parse(y)}catch{return[]}};return c.jsxs(hr,{open:t,onClose:e,maxWidth:"lg",fullWidth:!0,children:[c.jsx(br,{children:c.jsxs(ee,{display:"flex",alignItems:"center",gap:1,children:[c.jsx(Cs,{color:"primary"}),c.jsx(ae,{variant:"h6",children:"  "})]})}),c.jsxs(yr,{dividers:!0,children:[a&&c.jsx(ee,{display:"flex",justifyContent:"center",alignItems:"center",py:4,children:c.jsx(Kt,{})}),s&&c.jsx(wt,{severity:"error",sx:{mb:2},children:s}),!a&&!s&&n.length===0&&c.jsx(wt,{severity:"info",children:"  "}),!a&&!s&&n.length>0&&c.jsx(D5,{component:Yt,variant:"outlined",children:c.jsxs(I5,{size:"small",children:[c.jsx(N5,{children:c.jsxs(wc,{children:[c.jsx(an,{children:" "}),c.jsx(an,{align:"center",children:" "}),c.jsx(an,{align:"right",children:" "}),c.jsx(an,{align:"right",children:" "}),c.jsx(an,{align:"right",children:" "}),c.jsx(an,{align:"right",children:""}),c.jsx(an,{align:"right",children:" "})]})}),c.jsx(O5,{children:n.map(y=>{const x=m(y.error_details),v=y.error_count>0||x.length>0;return c.jsxs(je.Fragment,{children:[c.jsxs(wc,{hover:!0,children:[c.jsx(an,{children:u(y.verification_date)}),c.jsx(an,{align:"center",children:c.jsx(gt,{label:h(y.verification_type),size:"small",color:y.verification_type==="auto"?"default":"primary"})}),c.jsxs(an,{align:"right",children:[y.total_checked.toLocaleString(),""]}),c.jsx(an,{align:"right",children:y.missing_found>0?c.jsx(gt,{label:`${y.missing_found}`,size:"small",color:"warning"}):c.jsx(ae,{variant:"body2",color:"text.secondary",children:"0"})}),c.jsx(an,{align:"right",children:y.deleted_records>0?c.jsx(gt,{label:`${y.deleted_records}`,size:"small",color:"error"}):c.jsx(ae,{variant:"body2",color:"text.secondary",children:"0"})}),c.jsx(an,{align:"right",children:v?c.jsx(gt,{label:`${y.error_count}`,size:"small",color:"error",icon:c.jsx(gg,{})}):c.jsx(ae,{variant:"body2",color:"text.secondary",children:""})}),c.jsx(an,{align:"right",children:d(y.duration_ms)})]}),v&&x.length>0&&c.jsx(wc,{children:c.jsx(an,{colSpan:7,sx:{py:0},children:c.jsxs(kc,{sx:{boxShadow:"none","&:before":{display:"none"}},children:[c.jsx(jc,{expandIcon:c.jsx(ts,{}),sx:{minHeight:"auto","& .MuiAccordionSummary-content":{my:1}},children:c.jsxs(ee,{display:"flex",alignItems:"center",gap:1,children:[c.jsx(gg,{color:"error",fontSize:"small"}),c.jsxs(ae,{variant:"body2",color:"error",children:["  (",x.length,")"]})]})}),c.jsx(Ic,{children:c.jsx(ee,{sx:{maxHeight:300,overflow:"auto"},children:x.map((_,C)=>c.jsxs(ee,{sx:{mb:1,p:1,bgcolor:"grey.50",borderRadius:1},children:[c.jsxs(ae,{variant:"caption",display:"block",color:"error",fontWeight:"bold",children:[" ID: ",_.fileId]}),c.jsxs(ae,{variant:"caption",display:"block",sx:{wordBreak:"break-all"},children:[": ",_.filePath]}),c.jsxs(ae,{variant:"caption",display:"block",color:"text.secondary",children:[": ",_.error]})]},C))})})]})})})]},y.id)})})]})})]}),c.jsxs(kr,{children:[c.jsx(Ze,{onClick:l,disabled:a,children:""}),c.jsx(Ze,{onClick:e,variant:"contained",children:""})]})]})},RHe=()=>{const[t,e]=A.useState(null),[n,r]=A.useState(!0),[a,i]=A.useState(null),[s]=A.useState(!0),[o,l]=A.useState(null),[u,d]=A.useState(!1),[h,m]=A.useState(null),[y,x]=A.useState(null),[v,_]=A.useState(null),[C,w]=A.useState(!1),[T,E]=A.useState(!1),[k,j]=A.useState("3600"),[O,z]=A.useState(!1),M=async()=>{try{i(null);const[L,V,J,Q,K]=await Promise.all([zx.getQueueStatus(),zx.getHashStats(),E1.getStats(),E1.getProgress(),E1.getSettings()]);e(L),l(V),m(J),x(Q),_(K),K&&(z(K.enabled??!1),j(K.interval?.toString()??"3600"))}catch(L){console.error("Failed to fetch background queue status:",L),i("    ")}finally{r(!1)}},N=async()=>{if(window.confirm("  ?     ."))try{await zx.clearQueue(),await M()}catch(L){console.error("Failed to clear queue:",L),i("  ")}},U=async()=>{try{await zx.triggerAutoTag(),await M()}catch(L){console.error("Failed to trigger auto-tag:",L),i("   ")}},F=async()=>{if(!(!o||o.imagesWithoutHash===0)&&window.confirm(`${o.imagesWithoutHash}   ?`))try{d(!0),i(null);const L=await zx.rebuildHashes();await M(),L.failed>0&&i(`  :  ${L.processed},  ${L.failed}`)}catch(L){console.error("Failed to rebuild hashes:",L),i("  ")}finally{d(!1)}},$=async()=>{if(!h)return;const L=` ${h.totalFiles}  ?
      .`;if(window.confirm(L))try{E(!0),i(null),await E1.triggerVerification(),await M()}catch(V){console.error("Failed to trigger verification:",V),i("   ")}finally{E(!1)}},D=async()=>{const L=parseInt(k,10);if(isNaN(L)||L<300||L>86400){i("  300-86400  ");return}try{i(null),await E1.updateSettings({enabled:O,interval:L}),await M()}catch(V){console.error("Failed to update verification settings:",V),i("    ")}};A.useEffect(()=>{M()},[]),A.useEffect(()=>{if(!s)return;const L=setInterval(()=>{M()},5e3);return()=>clearInterval(L)},[s]);const H=L=>L?new Date(L).toLocaleString("ko-KR",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"";return n?c.jsx(Yt,{sx:{p:3},children:c.jsx(ee,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:c.jsx(Kt,{})})}):t?c.jsxs(c.Fragment,{children:[c.jsxs(Yt,{sx:{p:3},children:[c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[c.jsx(ae,{variant:"h6",children:"  "}),c.jsxs(ee,{children:[c.jsx(ht,{onClick:M,size:"small",title:"",children:c.jsx(vo,{})}),c.jsx(ht,{onClick:N,size:"small",color:"error",title:" ",disabled:t.queue.queueLength===0,children:c.jsx(Ey,{})})]})]}),a&&c.jsx(wt,{severity:"error",sx:{mb:2},onClose:()=>i(null),children:a}),c.jsxs(ee,{sx:{mb:3},children:[c.jsx(ae,{variant:"subtitle1",sx:{mb:2,fontWeight:"bold"},children:" "}),c.jsxs(ee,{sx:{display:"flex",gap:2,mb:2},children:[c.jsx(gt,{label:` : ${t.queue.queueLength}`,color:t.queue.queueLength>0?"primary":"default"}),c.jsx(gt,{label:t.queue.processing?" ":"",color:t.queue.processing?"success":"default"})]}),t.queue.queueLength>0&&c.jsxs(Ff,{dense:!0,children:[c.jsxs(Bf,{children:[c.jsx(Ss,{primary:" ",secondary:`${t.queue.tasksByType.metadata_extraction}  `}),t.queue.tasksByType.metadata_extraction>0&&c.jsx(Kt,{size:20})]}),c.jsxs(Bf,{children:[c.jsx(Ss,{primary:" ",secondary:`${t.queue.tasksByType.prompt_collection}  `}),t.queue.tasksByType.prompt_collection>0&&c.jsx(Kt,{size:20})]})]})]}),c.jsx(bn,{sx:{my:3}}),c.jsxs(ee,{sx:{mb:3},children:[c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[c.jsxs(ae,{variant:"subtitle1",sx:{fontWeight:"bold",display:"flex",alignItems:"center",gap:1},children:[c.jsx(HRe,{fontSize:"small"}),"  "]}),c.jsx(Ze,{variant:"outlined",size:"small",startIcon:c.jsx(pp,{}),onClick:U,disabled:!t.autoTag.isRunning||t.autoTag.untaggedCount===0,children:" "})]}),c.jsxs(ee,{sx:{display:"flex",gap:2,mb:2,flexWrap:"wrap"},children:[c.jsx(gt,{label:t.autoTag.isRunning?" ":"",color:t.autoTag.isRunning?"success":"default",icon:t.autoTag.isRunning?c.jsx(Kt,{size:16}):void 0}),c.jsx(gt,{label:` : ${t.autoTag.untaggedCount}`,color:t.autoTag.untaggedCount>0?"warning":"default"}),c.jsx(gt,{label:` : ${t.autoTag.pollingIntervalSeconds}`,variant:"outlined"}),c.jsx(gt,{label:` : ${t.autoTag.batchSize}`,variant:"outlined"})]})]}),c.jsx(bn,{sx:{my:3}}),o&&c.jsxs(ee,{sx:{mb:3},children:[c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[c.jsx(ae,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"  "}),c.jsx(Ze,{variant:"outlined",size:"small",startIcon:u?c.jsx(Kt,{size:16}):c.jsx(pp,{}),onClick:F,disabled:u||o.imagesWithoutHash===0,children:" "})]}),c.jsxs(ee,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[c.jsx(gt,{label:`: ${o.totalImages}`,variant:"outlined"}),c.jsx(gt,{label:`  : ${o.imagesWithHash}`,color:"success"}),c.jsx(gt,{label:`: ${o.imagesWithoutHash}`,color:o.imagesWithoutHash>0?"warning":"default"}),c.jsx(gt,{label:`: ${o.completionPercentage}%`,color:o.completionPercentage===100?"success":"default"})]})]}),c.jsx(bn,{sx:{my:3}}),h&&v&&c.jsxs(ee,{children:[c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[c.jsxs(ae,{variant:"subtitle1",sx:{fontWeight:"bold",display:"flex",alignItems:"center",gap:1},children:[c.jsx(Cs,{fontSize:"small"}),"  "]}),c.jsxs(ee,{sx:{display:"flex",gap:1},children:[c.jsx(Ze,{variant:"outlined",size:"small",onClick:()=>w(!0),children:" "}),c.jsx(Ze,{variant:"outlined",size:"small",startIcon:T||y?.isRunning?c.jsx(Kt,{size:16}):c.jsx(pp,{}),onClick:$,disabled:T||y?.isRunning,children:" "})]})]}),y?.isRunning&&c.jsxs(wt,{severity:"info",sx:{mb:2},children:["   : ",y.checkedFiles,"/",y.totalFiles,"(",y.progressPercentage,"%)",y.missingFiles>0&&` - : ${y.missingFiles}`]}),c.jsxs(ee,{sx:{display:"flex",gap:2,mb:2,flexWrap:"wrap"},children:[c.jsx(gt,{label:` : ${h.totalFiles}`,variant:"outlined"}),c.jsx(gt,{label:` : ${h.missingFiles}`,color:h.missingFiles>0?"warning":"default"}),c.jsx(gt,{label:` : ${H(h.lastVerificationDate)}`,variant:"outlined"})]}),c.jsxs(ee,{sx:{mt:2,p:2,borderRadius:1},children:[c.jsx(ae,{variant:"subtitle2",sx:{mb:1,fontWeight:"bold"},children:"  "}),c.jsxs(fn,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:"center",children:[c.jsx(ee,{sx:{minWidth:{xs:"100%",sm:"150px"}},children:c.jsx(gr,{control:c.jsx(ii,{checked:O,onChange:L=>z(L.target.checked)}),label:O?"":""})}),c.jsx(ee,{sx:{flex:1,minWidth:{xs:"100%",sm:"200px"}},children:c.jsx(Lt,{label:"  ()",type:"number",size:"small",fullWidth:!0,value:k,onChange:L=>j(L.target.value),disabled:!O,inputProps:{min:300,max:86400},helperText:"300-86400 (5-24)",InputProps:{endAdornment:c.jsx(Xt,{title:"          ",children:c.jsx(cv,{fontSize:"small",color:"action"})})}})}),c.jsx(ee,{sx:{minWidth:{xs:"100%",sm:"100px"}},children:c.jsx(Ze,{variant:"contained",size:"small",fullWidth:!0,onClick:D,disabled:!v||O===v.enabled&&k===v.interval.toString(),children:""})})]})]})]}),c.jsx(ee,{sx:{mt:2},children:c.jsx(ae,{variant:"caption",color:"text.secondary",children:s?"5  .":"  ."})})]}),c.jsx(AHe,{open:C,onClose:()=>w(!1)})]}):null},kHe=()=>{const[t,e]=A.useState(30),[n,r]=A.useState(30),[a,i]=A.useState(10),[s,o]=A.useState(!1),[l,u]=A.useState(!1),[d,h]=A.useState(null),[m,y]=A.useState(null),[x,v]=A.useState(null),[_,C]=A.useState(null);A.useEffect(()=>{w(),T()},[]);const w=async()=>{try{const j=await tn.get("/api/settings/phase2-interval");e(j.data.data.interval)}catch(j){console.error("Failed to load phase2 interval:",j)}},T=async()=>{try{const j=await tn.get("/api/settings/auto-tag-config");r(j.data.data.pollingInterval),i(j.data.data.batchSize)}catch(j){console.error("Failed to load auto-tag config:",j)}},E=async()=>{if(t<5||t>300){h(" 5-300  ");return}o(!0),h(null),y(null);try{const j=await tn.put("/api/settings/phase2-interval",{interval:t});y(j.data.message),setTimeout(()=>y(null),3e3)}catch(j){h(j.response?.data?.error||"  ")}finally{o(!1)}},k=async()=>{if(n<5||n>300){v("  5-300  ");return}if(a<1||a>100){v("  1-100  ");return}u(!0),v(null),C(null);try{const j=await tn.put("/api/settings/auto-tag-config",{pollingInterval:n,batchSize:a});C(j.data.message),setTimeout(()=>C(null),3e3)}catch(j){v(j.response?.data?.error||"  ")}finally{u(!1)}};return c.jsxs(ee,{children:[c.jsx(ae,{variant:"h5",gutterBottom:!0,children:" "}),c.jsx(ae,{variant:"body2",color:"text.secondary",sx:{mb:4},children:"  ,    ."}),c.jsxs(Yt,{sx:{p:3,mb:4},children:[c.jsx(ae,{variant:"h6",sx:{mb:3},children:" "}),c.jsxs(ee,{sx:{mb:4},children:[c.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:.5,mb:2},children:[c.jsx(ae,{variant:"subtitle1",sx:{fontWeight:"medium"},children:"   "}),c.jsx(Xt,{title:"     (Phase 2)  .       .",arrow:!0,children:c.jsx(ht,{size:"small",children:c.jsx(yc,{fontSize:"small",color:"action"})})})]}),d&&c.jsx(wt,{severity:"error",sx:{mb:2},onClose:()=>h(null),children:d}),m&&c.jsx(wt,{severity:"success",sx:{mb:2},onClose:()=>y(null),children:m}),c.jsxs(ee,{sx:{display:"flex",gap:2,alignItems:"center"},children:[c.jsx(Xt,{title:"    . 5-300    .",arrow:!0,children:c.jsx(Lt,{type:"number",value:t,onChange:j=>e(parseInt(j.target.value)||30),inputProps:{min:5,max:300},label:" ()",size:"small",sx:{width:200}})}),c.jsx(Ze,{variant:"outlined",size:"small",onClick:E,disabled:s,children:s?" ...":""})]})]}),c.jsx(bn,{sx:{my:3}}),c.jsxs(ee,{children:[c.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:.5,mb:2},children:[c.jsx(ae,{variant:"subtitle1",sx:{fontWeight:"medium"},children:"  "}),c.jsx(Xt,{title:"       .           .",arrow:!0,children:c.jsx(ht,{size:"small",children:c.jsx(yc,{fontSize:"small",color:"action"})})})]}),x&&c.jsx(wt,{severity:"error",sx:{mb:2},onClose:()=>v(null),children:x}),_&&c.jsx(wt,{severity:"success",sx:{mb:2},onClose:()=>C(null),children:_}),c.jsxs(ee,{sx:{display:"flex",gap:2,alignItems:"center",flexWrap:"wrap"},children:[c.jsx(Xt,{title:"   . 5-300    .",arrow:!0,children:c.jsx(Lt,{type:"number",value:n,onChange:j=>r(parseInt(j.target.value)||30),inputProps:{min:5,max:300},label:"  ()",size:"small",sx:{width:200}})}),c.jsx(Xt,{title:"    . 1-100    .",arrow:!0,children:c.jsx(Lt,{type:"number",value:a,onChange:j=>i(parseInt(j.target.value)||10),inputProps:{min:1,max:100},label:"  ()",size:"small",sx:{width:200}})}),c.jsx(Ze,{variant:"outlined",size:"small",onClick:k,disabled:l,children:l?" ...":""})]})]})]}),c.jsx(ee,{sx:{mb:4},children:c.jsx(RHe,{})}),c.jsx(bn,{sx:{my:4}}),c.jsx(ee,{children:c.jsx(SHe,{})})]})},d1="http://localhost:1566",og={async checkStatus(){return(await tn.get(`${d1}/api/auth/status`,{withCredentials:!0})).data},async login(t,e){return(await tn.post(`${d1}/api/auth/login`,{username:t,password:e},{withCredentials:!0})).data},async logout(){return(await tn.post(`${d1}/api/auth/logout`,{},{withCredentials:!0})).data},async setup(t,e){return(await tn.post(`${d1}/api/auth/setup`,{username:t,password:e},{withCredentials:!0})).data},async updateCredentials(t,e,n){return(await tn.put(`${d1}/api/auth/credentials`,{currentPassword:t,newUsername:e,newPassword:n},{withCredentials:!0})).data},async getDatabaseInfo(){return(await tn.get(`${d1}/api/auth/database-info`)).data}},zJ=A.createContext(void 0),IHe=({children:t})=>{const[e,n]=A.useState(!1),[r,a]=A.useState(!0),[i,s]=A.useState(!1),[o,l]=A.useState(null),u=async()=>{try{a(!0);const y=await og.checkStatus();s(y.hasCredentials),n(y.authenticated),l(y.username)}catch(y){console.error("Failed to check auth status:",y),n(!1),l(null)}finally{a(!1)}},d=async(y,x)=>{try{await og.login(y,x),await u()}catch(v){throw v instanceof Error?new Error(v.message):new Error("Login failed")}},h=async()=>{try{await og.logout(),n(!1),l(null)}catch(y){throw console.error("Logout failed:",y),y}};A.useEffect(()=>{u()},[]);const m={isAuthenticated:e,isLoading:r,hasCredentials:i,username:o,login:d,logout:h,checkAuth:u};return c.jsx(zJ.Provider,{value:m,children:t})},dD=()=>{const t=A.useContext(zJ);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},jHe=()=>{const{t}=qt("settings"),{hasCredentials:e,checkAuth:n}=dD(),[r,a]=A.useState(!1),[i,s]=A.useState(""),[o,l]=A.useState(""),[u,d]=A.useState(null),[h,m]=A.useState(""),[y,x]=A.useState(""),[v,_]=A.useState(""),[C,w]=A.useState(""),[T,E]=A.useState(""),[k,j]=A.useState(""),[O,z]=A.useState(""),M=()=>{s(""),l("")},N=()=>{m(""),x(""),_("")},U=()=>{w(""),E(""),j(""),z("")};A.useEffect(()=>{(async()=>{try{const H=await og.getDatabaseInfo();d(H)}catch(H){console.error("Failed to load database info:",H)}})()},[]);const F=async()=>{if(M(),!h||!y){s(t("auth.setup.errors.required"));return}if(y!==v){s(t("auth.setup.errors.mismatch"));return}a(!0);try{await og.setup(h,y),l(t("auth.setup.success")),N(),await n()}catch(D){D instanceof Error?s(D.message||t("auth.setup.errors.failed")):s(t("auth.setup.errors.failed"))}finally{a(!1)}},$=async()=>{if(M(),!C||!T||!k){s(t("auth.update.errors.required"));return}if(k!==O){s(t("auth.update.errors.mismatch"));return}a(!0);try{await og.updateCredentials(C,T,k),l(t("auth.update.success")),U(),await n()}catch(D){D instanceof Error?s(D.message||t("auth.update.errors.failed")):s(t("auth.update.errors.failed"))}finally{a(!1)}};return c.jsxs(ee,{children:[i&&c.jsx(wt,{severity:"error",sx:{mb:3},onClose:M,children:i}),o&&c.jsx(wt,{severity:"success",sx:{mb:3},onClose:M,children:o}),e?c.jsxs(Yt,{sx:{p:3},children:[c.jsxs(ee,{sx:{display:"flex",alignItems:"center",mb:2},children:[c.jsx(aI,{sx:{mr:1,color:"primary.main"}}),c.jsx(ae,{variant:"h6",children:t("auth.update.title")})]}),c.jsx(wt,{severity:"warning",sx:{mb:3},children:t("auth.update.description")}),c.jsx(Lt,{fullWidth:!0,type:"password",label:t("auth.update.currentPassword"),value:C,onChange:D=>w(D.target.value),disabled:r,sx:{mb:2}}),c.jsx(bn,{sx:{my:2}}),c.jsx(Lt,{fullWidth:!0,label:t("auth.update.newUsername"),value:T,onChange:D=>E(D.target.value),disabled:r,sx:{mb:2}}),c.jsx(Lt,{fullWidth:!0,type:"password",label:t("auth.update.newPassword"),value:k,onChange:D=>j(D.target.value),disabled:r,sx:{mb:2}}),c.jsx(Lt,{fullWidth:!0,type:"password",label:t("auth.update.confirmNewPassword"),value:O,onChange:D=>z(D.target.value),disabled:r,sx:{mb:3}}),c.jsx(Ze,{variant:"contained",onClick:$,disabled:r||!C||!T||!k||!O,fullWidth:!0,children:r?c.jsx(Kt,{size:24}):t("auth.update.button")}),c.jsx(ee,{sx:{mt:3},children:c.jsxs(kc,{children:[c.jsx(jc,{expandIcon:c.jsx(ts,{}),children:c.jsxs(ee,{sx:{display:"flex",alignItems:"center"},children:[c.jsx(NO,{sx:{mr:1,color:"warning.main"}}),c.jsx(ae,{children:" ?"})]})}),c.jsx(Ic,{children:c.jsxs(wt,{severity:"info",sx:{mb:2},children:[c.jsx(ae,{variant:"body2",sx:{mb:2},children:"  ,      ."}),c.jsx(ae,{variant:"body2",component:"div",sx:{mb:1},children:c.jsx("strong",{children:" :"})}),c.jsxs(ae,{variant:"body2",component:"ol",sx:{pl:2,mb:2},children:[c.jsx("li",{children:" "}),c.jsx("li",{children:"  "}),c.jsx("li",{children:"  "}),c.jsx("li",{children:"  "})]}),u&&c.jsxs(ee,{sx:{bgcolor:"background.default",p:2,borderRadius:1,mt:2},children:[c.jsx(ae,{variant:"caption",sx:{display:"block",mb:1},children:c.jsx("strong",{children:" :"})}),c.jsx(ae,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.85rem",wordBreak:"break-all",bgcolor:"grey.900",color:"success.light",p:1,borderRadius:1},children:u.authDbPath})]}),c.jsx(wt,{severity:"warning",sx:{mt:2},children:c.jsx(ae,{variant:"caption",children:" :      ,   . ,       ."})})]})})]})})]}):c.jsxs(Yt,{sx:{p:3},children:[c.jsxs(ee,{sx:{display:"flex",alignItems:"center",mb:2},children:[c.jsx(e9e,{sx:{mr:1,color:"primary.main"}}),c.jsx(ae,{variant:"h6",children:t("auth.setup.title")})]}),c.jsx(wt,{severity:"info",sx:{mb:3},children:t("auth.setup.description")}),c.jsx(Lt,{fullWidth:!0,label:t("auth.setup.username"),value:h,onChange:D=>m(D.target.value),disabled:r,sx:{mb:2}}),c.jsx(Lt,{fullWidth:!0,type:"password",label:t("auth.setup.password"),value:y,onChange:D=>x(D.target.value),disabled:r,sx:{mb:2}}),c.jsx(Lt,{fullWidth:!0,type:"password",label:t("auth.setup.confirmPassword"),value:v,onChange:D=>_(D.target.value),disabled:r,sx:{mb:3}}),c.jsx(Ze,{variant:"contained",onClick:F,disabled:r||!h||!y||!v,fullWidth:!0,children:r?c.jsx(Kt,{size:24}):t("auth.setup.button")})]})]})},OHe=()=>{const t=bt.c(5);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e={open:!1,message:"",severity:"success"},t[0]=e):e=t[0];const[n,r]=A.useState(e);let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=(u,d)=>{r({open:!0,message:u,severity:d})},t[1]=a):a=t[1];const i=a;let s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{r(DHe)},t[2]=s):s=t[2];const o=s;let l;return t[3]!==n?(l={snackbar:n,showSnackbar:i,hideSnackbar:o},t[3]=n,t[4]=l):l=t[4],l};function DHe(t){return{...t,open:!1}}const NHe=(t,e,n)=>{const[r,a]=A.useState([]),[i,s]=A.useState(!1),[o,l]=A.useState(null),[u,d]=A.useState(!1),h=A.useCallback(async()=>{try{s(!0);const E=await Nm.getGroups(!0,t);if(E.success&&E.data){const k=E.data.sort((j,O)=>j.display_order-O.display_order);a(k)}else n("Failed to load groups")}catch(E){console.error("Error fetching groups:",E),n("Failed to load groups")}finally{s(!1)}},[t,n]),m=A.useCallback(()=>{const E=r.length>0?Math.max(...r.map(k=>k.display_order)):0;l({group_name:"",display_order:E+1,is_visible:!0}),d(!0)},[r]),y=A.useCallback(E=>{l({id:E.id,group_name:E.group_name,display_order:E.display_order,is_visible:E.is_visible}),d(!0)},[]),x=A.useCallback(()=>{l(null),d(!1)},[]),v=A.useCallback(async E=>{if(!o||!o.group_name.trim()){n("Group name is required");return}try{const k={group_name:o.group_name.trim(),display_order:o.display_order,is_visible:o.is_visible};let j;o.id?j=await Nm.updateGroup(o.id,k,t):j=await Nm.createGroup(k,t),j.success?(e(o.id?"Group updated successfully":"Group created successfully"),await h(),E(),x()):n(j.error||(o.id?"Failed to update group":"Failed to create group"))}catch(k){console.error("Error saving group:",k),n(o?.id?"Failed to update group":"Failed to create group")}},[o,t,e,n,h,x]),_=A.useCallback(async(E,k)=>{if(confirm("Are you sure you want to delete this group?"))try{const j=await Nm.deleteGroup(E,t);j.success?(e("Group deleted successfully"),await h(),k()):n(j.error||"Failed to delete group")}catch(j){console.error("Error deleting group:",j),n("Failed to delete group")}},[t,e,n,h]),C=A.useCallback(async(E,k)=>{try{const j={group_name:E.group_name,display_order:E.display_order,is_visible:!E.is_visible},O=await Nm.updateGroup(E.id,j,t);O.success?(await h(),k()):n(O.error||"Failed to toggle visibility")}catch(j){console.error("Error toggling visibility:",j),n("Failed to toggle visibility")}},[t,n,h]),w=A.useCallback(async(E,k)=>{try{a(E);const j=E.map((M,N)=>{const U={group_name:M.group_name,display_order:N+1,is_visible:M.is_visible};return Nm.updateGroup(M.id,U,t)});(await Promise.all(j)).some(M=>!M.success)?(n("Failed to update group order"),await h()):(e("Group order updated successfully"),k())}catch(j){console.error("Error updating groups order:",j),n("Failed to update group order"),await h()}},[t,e,n,h]),T=A.useCallback(E=>{l(k=>k?{...k,...E}:null)},[]);return{groups:r,loading:i,editingGroup:o,isEditing:u,fetchGroups:h,startAddGroup:m,startEditGroup:y,cancelEdit:x,saveGroup:v,deleteGroup:_,toggleVisibility:C,updateGroupsOrder:w,updateEditingGroup:T,setGroups:a}};function MHe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A.useMemo(()=>r=>{e.forEach(a=>a(r))},e)}const aw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function My(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function fD(t){return"nodeType"in t}function rl(t){var e,n;return t?My(t)?t:fD(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function hD(t){const{Document:e}=rl(t);return t instanceof e}function uS(t){return My(t)?!1:t instanceof rl(t).HTMLElement}function FJ(t){return t instanceof rl(t).SVGElement}function Py(t){return t?My(t)?t.document:fD(t)?hD(t)?t:uS(t)||FJ(t)?t.ownerDocument:document:document:document}const Od=aw?A.useLayoutEffect:A.useEffect;function pD(t){const e=A.useRef(t);return Od(()=>{e.current=t}),A.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}function PHe(){const t=A.useRef(null),e=A.useCallback((r,a)=>{t.current=setInterval(r,a)},[]),n=A.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function _v(t,e){e===void 0&&(e=[t]);const n=A.useRef(t);return Od(()=>{n.current!==t&&(n.current=t)},e),n}function dS(t,e){const n=A.useRef();return A.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function OC(t){const e=pD(t),n=A.useRef(null),r=A.useCallback(a=>{a!==n.current&&e?.(a,n.current),n.current=a},[]);return[n,r]}function UI(t){const e=A.useRef();return A.useEffect(()=>{e.current=t},[t]),e.current}let e6={};function fS(t,e){return A.useMemo(()=>{if(e)return e;const n=e6[t]==null?0:e6[t]+1;return e6[t]=n,t+"-"+n},[t,e])}function BJ(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((i,s)=>{const o=Object.entries(s);for(const[l,u]of o){const d=i[l];d!=null&&(i[l]=d+t*u)}return i},{...e})}}const U1=BJ(1),Cv=BJ(-1);function LHe(t){return"clientX"in t&&"clientY"in t}function mD(t){if(!t)return!1;const{KeyboardEvent:e}=rl(t.target);return e&&t instanceof e}function zHe(t){if(!t)return!1;const{TouchEvent:e}=rl(t.target);return e&&t instanceof e}function $I(t){if(zHe(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return LHe(t)?{x:t.clientX,y:t.clientY}:null}const cy=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[cy.Translate.toString(t),cy.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),wB="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function FHe(t){return t.matches(wB)?t:t.querySelector(wB)}const BHe={display:"none"};function HHe(t){let{id:e,value:n}=t;return je.createElement("div",{id:e,style:BHe},n)}function UHe(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return je.createElement("div",{id:e,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function $He(){const[t,e]=A.useState("");return{announce:A.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const HJ=A.createContext(null);function GHe(t){const e=A.useContext(HJ);A.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function qHe(){const[t]=A.useState(()=>new Set),e=A.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[A.useCallback(r=>{let{type:a,event:i}=r;t.forEach(s=>{var o;return(o=s[a])==null?void 0:o.call(s,i)})},[t]),e]}const VHe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},WHe={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function YHe(t){let{announcements:e=WHe,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=VHe}=t;const{announce:i,announcement:s}=$He(),o=fS("DndLiveRegion"),[l,u]=A.useState(!1);if(A.useEffect(()=>{u(!0)},[]),GHe(A.useMemo(()=>({onDragStart(h){let{active:m}=h;i(e.onDragStart({active:m}))},onDragMove(h){let{active:m,over:y}=h;e.onDragMove&&i(e.onDragMove({active:m,over:y}))},onDragOver(h){let{active:m,over:y}=h;i(e.onDragOver({active:m,over:y}))},onDragEnd(h){let{active:m,over:y}=h;i(e.onDragEnd({active:m,over:y}))},onDragCancel(h){let{active:m,over:y}=h;i(e.onDragCancel({active:m,over:y}))}}),[i,e])),!l)return null;const d=je.createElement(je.Fragment,null,je.createElement(HHe,{id:r,value:a.draggable}),je.createElement(UHe,{id:o,announcement:s}));return n?Bm.createPortal(d,n):d}var Li;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Li||(Li={}));function DC(){}function GI(t,e){return A.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function UJ(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const vu=Object.freeze({x:0,y:0});function $J(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function GJ(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function KHe(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function EB(t){let{left:e,top:n,height:r,width:a}=t;return[{x:e,y:n},{x:e+a,y:n},{x:e,y:n+r},{x:e+a,y:n+r}]}function qJ(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function TB(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const VJ=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=TB(e,e.left,e.top),i=[];for(const s of r){const{id:o}=s,l=n.get(o);if(l){const u=$J(TB(l),a);i.push({id:o,data:{droppableContainer:s,value:u}})}}return i.sort(GJ)},XHe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=EB(e),i=[];for(const s of r){const{id:o}=s,l=n.get(o);if(l){const u=EB(l),d=a.reduce((m,y,x)=>m+$J(u[x],y),0),h=Number((d/4).toFixed(4));i.push({id:o,data:{droppableContainer:s,value:h}})}}return i.sort(GJ)};function QHe(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),a=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),s=a-r,o=i-n;if(r<a&&n<i){const l=e.width*e.height,u=t.width*t.height,d=s*o,h=d/(l+u-d);return Number(h.toFixed(4))}return 0}const ZHe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=[];for(const i of r){const{id:s}=i,o=n.get(s);if(o){const l=QHe(o,e);l>0&&a.push({id:s,data:{droppableContainer:i,value:l}})}}return a.sort(KHe)};function JHe(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function WJ(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:vu}function eUe(t){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return a.reduce((s,o)=>({...s,top:s.top+t*o.y,bottom:s.bottom+t*o.y,left:s.left+t*o.x,right:s.right+t*o.x}),{...n})}}const tUe=eUe(1);function nUe(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function rUe(t,e,n){const r=nUe(e);if(!r)return t;const{scaleX:a,scaleY:i,x:s,y:o}=r,l=t.left-s-(1-a)*parseFloat(n),u=t.top-o-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=a?t.width/a:t.width,h=i?t.height/i:t.height;return{width:d,height:h,top:u,right:l+d,bottom:u+h,left:l}}const aUe={ignoreTransform:!1};function Ly(t,e){e===void 0&&(e=aUe);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:d}=rl(t).getComputedStyle(t);u&&(n=rUe(n,u,d))}const{top:r,left:a,width:i,height:s,bottom:o,right:l}=n;return{top:r,left:a,width:i,height:s,bottom:o,right:l}}function AB(t){return Ly(t,{ignoreTransform:!0})}function iUe(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function sUe(t,e){return e===void 0&&(e=rl(t).getComputedStyle(t)),e.position==="fixed"}function oUe(t,e){e===void 0&&(e=rl(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=e[a];return typeof i=="string"?n.test(i):!1})}function iw(t,e){const n=[];function r(a){if(e!=null&&n.length>=e||!a)return n;if(hD(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!uS(a)||FJ(a)||n.includes(a))return n;const i=rl(t).getComputedStyle(a);return a!==t&&oUe(a,i)&&n.push(a),sUe(a,i)?n:r(a.parentNode)}return t?r(t):n}function YJ(t){const[e]=iw(t,1);return e??null}function t6(t){return!aw||!t?null:My(t)?t:fD(t)?hD(t)||t===Py(t).scrollingElement?window:uS(t)?t:null:null}function KJ(t){return My(t)?t.scrollX:t.scrollLeft}function XJ(t){return My(t)?t.scrollY:t.scrollTop}function qI(t){return{x:KJ(t),y:XJ(t)}}var Xi;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Xi||(Xi={}));function QJ(t){return!aw||!t?!1:t===document.scrollingElement}function ZJ(t){const e={x:0,y:0},n=QJ(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},a=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,s=t.scrollTop>=r.y,o=t.scrollLeft>=r.x;return{isTop:a,isLeft:i,isBottom:s,isRight:o,maxScroll:r,minScroll:e}}const lUe={x:.2,y:.2};function cUe(t,e,n,r,a){let{top:i,left:s,right:o,bottom:l}=n;r===void 0&&(r=10),a===void 0&&(a=lUe);const{isTop:u,isBottom:d,isLeft:h,isRight:m}=ZJ(t),y={x:0,y:0},x={x:0,y:0},v={height:e.height*a.y,width:e.width*a.x};return!u&&i<=e.top+v.height?(y.y=Xi.Backward,x.y=r*Math.abs((e.top+v.height-i)/v.height)):!d&&l>=e.bottom-v.height&&(y.y=Xi.Forward,x.y=r*Math.abs((e.bottom-v.height-l)/v.height)),!m&&o>=e.right-v.width?(y.x=Xi.Forward,x.x=r*Math.abs((e.right-v.width-o)/v.width)):!h&&s<=e.left+v.width&&(y.x=Xi.Backward,x.x=r*Math.abs((e.left+v.width-s)/v.width)),{direction:y,speed:x}}function uUe(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:e,left:n,right:r,bottom:a}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:a,width:t.clientWidth,height:t.clientHeight}}function JJ(t){return t.reduce((e,n)=>U1(e,qI(n)),vu)}function dUe(t){return t.reduce((e,n)=>e+KJ(n),0)}function fUe(t){return t.reduce((e,n)=>e+XJ(n),0)}function hUe(t,e){if(e===void 0&&(e=Ly),!t)return;const{top:n,left:r,bottom:a,right:i}=e(t);YJ(t)&&(a<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const pUe=[["x",["left","right"],dUe],["y",["top","bottom"],fUe]];class gD{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=iw(n),a=JJ(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,s,o]of pUe)for(const l of s)Object.defineProperty(this,l,{get:()=>{const u=o(r),d=a[i]-u;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class z2{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var a;(a=this.target)==null||a.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function mUe(t){const{EventTarget:e}=rl(t);return t instanceof e?t:Py(t)}function n6(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var mc;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(mc||(mc={}));function RB(t){t.preventDefault()}function gUe(t){t.stopPropagation()}var ir;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ir||(ir={}));const eee={start:[ir.Space,ir.Enter],cancel:[ir.Esc],end:[ir.Space,ir.Enter,ir.Tab]},yUe=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case ir.Right:return{...n,x:n.x+25};case ir.Left:return{...n,x:n.x-25};case ir.Down:return{...n,y:n.y+25};case ir.Up:return{...n,y:n.y-25}}};class yD{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new z2(Py(n)),this.windowListeners=new z2(rl(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(mc.Resize,this.handleCancel),this.windowListeners.add(mc.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(mc.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&hUe(r),n(vu)}handleKeyDown(e){if(mD(e)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:i=eee,coordinateGetter:s=yUe,scrollBehavior:o="smooth"}=a,{code:l}=e;if(i.end.includes(l)){this.handleEnd(e);return}if(i.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:vu;this.referenceCoordinates||(this.referenceCoordinates=d);const h=s(e,{active:n,context:r.current,currentCoordinates:d});if(h){const m=Cv(h,d),y={x:0,y:0},{scrollableAncestors:x}=r.current;for(const v of x){const _=e.code,{isTop:C,isRight:w,isLeft:T,isBottom:E,maxScroll:k,minScroll:j}=ZJ(v),O=uUe(v),z={x:Math.min(_===ir.Right?O.right-O.width/2:O.right,Math.max(_===ir.Right?O.left:O.left+O.width/2,h.x)),y:Math.min(_===ir.Down?O.bottom-O.height/2:O.bottom,Math.max(_===ir.Down?O.top:O.top+O.height/2,h.y))},M=_===ir.Right&&!w||_===ir.Left&&!T,N=_===ir.Down&&!E||_===ir.Up&&!C;if(M&&z.x!==h.x){const U=v.scrollLeft+m.x,F=_===ir.Right&&U<=k.x||_===ir.Left&&U>=j.x;if(F&&!m.y){v.scrollTo({left:U,behavior:o});return}F?y.x=v.scrollLeft-U:y.x=_===ir.Right?v.scrollLeft-k.x:v.scrollLeft-j.x,y.x&&v.scrollBy({left:-y.x,behavior:o});break}else if(N&&z.y!==h.y){const U=v.scrollTop+m.y,F=_===ir.Down&&U<=k.y||_===ir.Up&&U>=j.y;if(F&&!m.x){v.scrollTo({top:U,behavior:o});return}F?y.y=v.scrollTop-U:y.y=_===ir.Down?v.scrollTop-k.y:v.scrollTop-j.y,y.y&&v.scrollBy({top:-y.y,behavior:o});break}}this.handleMove(e,U1(Cv(h,this.referenceCoordinates),y))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}yD.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=eee,onActivation:a}=e,{active:i}=n;const{code:s}=t.nativeEvent;if(r.start.includes(s)){const o=i.activatorNode.current;return o&&t.target!==o?!1:(t.preventDefault(),a?.({event:t.nativeEvent}),!0)}return!1}}];function kB(t){return!!(t&&"distance"in t)}function IB(t){return!!(t&&"delay"in t)}class bD{constructor(e,n,r){var a;r===void 0&&(r=mUe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:i}=e,{target:s}=i;this.props=e,this.events=n,this.document=Py(s),this.documentListeners=new z2(this.document),this.listeners=new z2(r),this.windowListeners=new z2(rl(s)),this.initialCoordinates=(a=$I(i))!=null?a:vu,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(mc.Resize,this.handleCancel),this.windowListeners.add(mc.DragStart,RB),this.windowListeners.add(mc.VisibilityChange,this.handleCancel),this.windowListeners.add(mc.ContextMenu,RB),this.documentListeners.add(mc.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(IB(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(kB(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:a}=this.props;a(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(mc.Click,gUe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(mc.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:a,props:i}=this,{onMove:s,options:{activationConstraint:o}}=i;if(!a)return;const l=(n=$I(e))!=null?n:vu,u=Cv(a,l);if(!r&&o){if(kB(o)){if(o.tolerance!=null&&n6(u,o.tolerance))return this.handleCancel();if(n6(u,o.distance))return this.handleStart()}if(IB(o)&&n6(u,o.tolerance))return this.handleCancel();this.handlePending(o,u);return}e.cancelable&&e.preventDefault(),s(l)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===ir.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const bUe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class sw extends bD{constructor(e){const{event:n}=e,r=Py(n.target);super(e,bUe,r)}}sw.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const xUe={move:{name:"mousemove"},end:{name:"mouseup"}};var VI;(function(t){t[t.RightClick=2]="RightClick"})(VI||(VI={}));class vUe extends bD{constructor(e){super(e,xUe,Py(e.event.target))}}vUe.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===VI.RightClick?!1:(r?.({event:n}),!0)}}];const r6={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class SUe extends bD{constructor(e){super(e,r6)}static setup(){return window.addEventListener(r6.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(r6.move.name,e)};function e(){}}}SUe.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:a}=n;return a.length>1?!1:(r?.({event:n}),!0)}}];var F2;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(F2||(F2={}));var NC;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(NC||(NC={}));function _Ue(t){let{acceleration:e,activator:n=F2.Pointer,canScroll:r,draggingRect:a,enabled:i,interval:s=5,order:o=NC.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:m}=t;const y=wUe({delta:h,disabled:!i}),[x,v]=PHe(),_=A.useRef({x:0,y:0}),C=A.useRef({x:0,y:0}),w=A.useMemo(()=>{switch(n){case F2.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case F2.DraggableRect:return a}},[n,a,l]),T=A.useRef(null),E=A.useCallback(()=>{const j=T.current;if(!j)return;const O=_.current.x*C.current.x,z=_.current.y*C.current.y;j.scrollBy(O,z)},[]),k=A.useMemo(()=>o===NC.TreeOrder?[...u].reverse():u,[o,u]);A.useEffect(()=>{if(!i||!u.length||!w){v();return}for(const j of k){if(r?.(j)===!1)continue;const O=u.indexOf(j),z=d[O];if(!z)continue;const{direction:M,speed:N}=cUe(j,z,w,e,m);for(const U of["x","y"])y[U][M[U]]||(N[U]=0,M[U]=0);if(N.x>0||N.y>0){v(),T.current=j,x(E,s),_.current=N,C.current=M;return}}_.current={x:0,y:0},C.current={x:0,y:0},v()},[e,E,r,v,i,s,JSON.stringify(w),JSON.stringify(y),x,u,k,d,JSON.stringify(m)])}const CUe={x:{[Xi.Backward]:!1,[Xi.Forward]:!1},y:{[Xi.Backward]:!1,[Xi.Forward]:!1}};function wUe(t){let{delta:e,disabled:n}=t;const r=UI(e);return dS(a=>{if(n||!r||!a)return CUe;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Xi.Backward]:a.x[Xi.Backward]||i.x===-1,[Xi.Forward]:a.x[Xi.Forward]||i.x===1},y:{[Xi.Backward]:a.y[Xi.Backward]||i.y===-1,[Xi.Forward]:a.y[Xi.Forward]||i.y===1}}},[n,e,r])}function EUe(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return dS(a=>{var i;return e==null?null:(i=r??a)!=null?i:null},[r,e])}function TUe(t,e){return A.useMemo(()=>t.reduce((n,r)=>{const{sensor:a}=r,i=a.activators.map(s=>({eventName:s.eventName,handler:e(s.handler,r)}));return[...n,...i]},[]),[t,e])}var wv;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(wv||(wv={}));var WI;(function(t){t.Optimized="optimized"})(WI||(WI={}));const jB=new Map;function AUe(t,e){let{dragging:n,dependencies:r,config:a}=e;const[i,s]=A.useState(null),{frequency:o,measure:l,strategy:u}=a,d=A.useRef(t),h=_(),m=_v(h),y=A.useCallback(function(C){C===void 0&&(C=[]),!m.current&&s(w=>w===null?C:w.concat(C.filter(T=>!w.includes(T))))},[m]),x=A.useRef(null),v=dS(C=>{if(h&&!n)return jB;if(!C||C===jB||d.current!==t||i!=null){const w=new Map;for(let T of t){if(!T)continue;if(i&&i.length>0&&!i.includes(T.id)&&T.rect.current){w.set(T.id,T.rect.current);continue}const E=T.node.current,k=E?new gD(l(E),E):null;T.rect.current=k,k&&w.set(T.id,k)}return w}return C},[t,i,n,h,l]);return A.useEffect(()=>{d.current=t},[t]),A.useEffect(()=>{h||y()},[n,h]),A.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),A.useEffect(()=>{h||typeof o!="number"||x.current!==null||(x.current=setTimeout(()=>{y(),x.current=null},o))},[o,h,y,...r]),{droppableRects:v,measureDroppableContainers:y,measuringScheduled:i!=null};function _(){switch(u){case wv.Always:return!1;case wv.BeforeDragging:return n;default:return!n}}}function tee(t,e){return dS(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function RUe(t,e){return tee(t,e)}function kUe(t){let{callback:e,disabled:n}=t;const r=pD(e),a=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return A.useEffect(()=>()=>a?.disconnect(),[a]),a}function ow(t){let{callback:e,disabled:n}=t;const r=pD(e),a=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return A.useEffect(()=>()=>a?.disconnect(),[a]),a}function IUe(t){return new gD(Ly(t),t)}function OB(t,e,n){e===void 0&&(e=IUe);const[r,a]=A.useState(null);function i(){a(l=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=l??n)!=null?u:null}const d=e(t);return JSON.stringify(l)===JSON.stringify(d)?l:d})}const s=kUe({callback(l){if(t)for(const u of l){const{type:d,target:h}=u;if(d==="childList"&&h instanceof HTMLElement&&h.contains(t)){i();break}}}}),o=ow({callback:i});return Od(()=>{i(),t?(o?.observe(t),s?.observe(document.body,{childList:!0,subtree:!0})):(o?.disconnect(),s?.disconnect())},[t]),r}function jUe(t){const e=tee(t);return WJ(t,e)}const DB=[];function OUe(t){const e=A.useRef(t),n=dS(r=>t?r&&r!==DB&&t&&e.current&&t.parentNode===e.current.parentNode?r:iw(t):DB,[t]);return A.useEffect(()=>{e.current=t},[t]),n}function DUe(t){const[e,n]=A.useState(null),r=A.useRef(t),a=A.useCallback(i=>{const s=t6(i.target);s&&n(o=>o?(o.set(s,qI(s)),new Map(o)):null)},[]);return A.useEffect(()=>{const i=r.current;if(t!==i){s(i);const o=t.map(l=>{const u=t6(l);return u?(u.addEventListener("scroll",a,{passive:!0}),[u,qI(u)]):null}).filter(l=>l!=null);n(o.length?new Map(o):null),r.current=t}return()=>{s(t),s(i)};function s(o){o.forEach(l=>{const u=t6(l);u?.removeEventListener("scroll",a)})}},[a,t]),A.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,s)=>U1(i,s),vu):JJ(t):vu,[t,e])}function NB(t,e){e===void 0&&(e=[]);const n=A.useRef(null);return A.useEffect(()=>{n.current=null},e),A.useEffect(()=>{const r=t!==vu;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Cv(t,n.current):vu}function NUe(t){A.useEffect(()=>{if(!aw)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function MUe(t,e){return A.useMemo(()=>t.reduce((n,r)=>{let{eventName:a,handler:i}=r;return n[a]=s=>{i(s,e)},n},{}),[t,e])}function nee(t){return A.useMemo(()=>t?iUe(t):null,[t])}const MB=[];function PUe(t,e){e===void 0&&(e=Ly);const[n]=t,r=nee(n?rl(n):null),[a,i]=A.useState(MB);function s(){i(()=>t.length?t.map(l=>QJ(l)?r:new gD(e(l),l)):MB)}const o=ow({callback:s});return Od(()=>{o?.disconnect(),s(),t.forEach(l=>o?.observe(l))},[t]),a}function LUe(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return uS(e)?e:t}function zUe(t){let{measure:e}=t;const[n,r]=A.useState(null),a=A.useCallback(u=>{for(const{target:d}of u)if(uS(d)){r(h=>{const m=e(d);return h?{...h,width:m.width,height:m.height}:m});break}},[e]),i=ow({callback:a}),s=A.useCallback(u=>{const d=LUe(u);i?.disconnect(),d&&i?.observe(d),r(d?e(d):null)},[e,i]),[o,l]=OC(s);return A.useMemo(()=>({nodeRef:o,rect:n,setRef:l}),[n,o,l])}const FUe=[{sensor:sw,options:{}},{sensor:yD,options:{}}],BUe={current:{}},F4={draggable:{measure:AB},droppable:{measure:AB,strategy:wv.WhileDragging,frequency:WI.Optimized},dragOverlay:{measure:Ly}};class B2 extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const HUe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new B2,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:DC},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:F4,measureDroppableContainers:DC,windowRect:null,measuringScheduled:!1},UUe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:DC,draggableNodes:new Map,over:null,measureDroppableContainers:DC},lw=A.createContext(UUe),ree=A.createContext(HUe);function $Ue(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new B2}}}function GUe(t,e){switch(e.type){case Li.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Li.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Li.DragEnd:case Li.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Li.RegisterDroppable:{const{element:n}=e,{id:r}=n,a=new B2(t.droppable.containers);return a.set(r,n),{...t,droppable:{...t.droppable,containers:a}}}case Li.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new B2(t.droppable.containers);return s.set(n,{...i,disabled:a}),{...t,droppable:{...t.droppable,containers:s}}}case Li.UnregisterDroppable:{const{id:n,key:r}=e,a=t.droppable.containers.get(n);if(!a||r!==a.key)return t;const i=new B2(t.droppable.containers);return i.delete(n),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function qUe(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:a}=A.useContext(lw),i=UI(r),s=UI(n?.id);return A.useEffect(()=>{if(!e&&!r&&i&&s!=null){if(!mD(i)||document.activeElement===i.target)return;const o=a.get(s);if(!o)return;const{activatorNode:l,node:u}=o;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[l.current,u.current]){if(!d)continue;const h=FHe(d);if(h){h.focus();break}}})}},[r,e,a,s,i]),null}function VUe(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((a,i)=>i({transform:a,...r}),n):n}function WUe(t){return A.useMemo(()=>({draggable:{...F4.draggable,...t?.draggable},droppable:{...F4.droppable,...t?.droppable},dragOverlay:{...F4.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function YUe(t){let{activeNode:e,measure:n,initialRect:r,config:a=!0}=t;const i=A.useRef(!1),{x:s,y:o}=typeof a=="boolean"?{x:a,y:a}:a;Od(()=>{if(!s&&!o||!e){i.current=!1;return}if(i.current||!r)return;const u=e?.node.current;if(!u||u.isConnected===!1)return;const d=n(u),h=WJ(d,r);if(s||(h.x=0),o||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=YJ(u);m&&m.scrollBy({top:h.y,left:h.x})}},[e,s,o,r,n])}const aee=A.createContext({...vu,scaleX:1,scaleY:1});var Xh;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Xh||(Xh={}));const iee=A.memo(function(e){var n,r,a,i;let{id:s,accessibility:o,autoScroll:l=!0,children:u,sensors:d=FUe,collisionDetection:h=ZHe,measuring:m,modifiers:y,...x}=e;const v=A.useReducer(GUe,void 0,$Ue),[_,C]=v,[w,T]=qHe(),[E,k]=A.useState(Xh.Uninitialized),j=E===Xh.Initialized,{draggable:{active:O,nodes:z,translate:M},droppable:{containers:N}}=_,U=O!=null?z.get(O):null,F=A.useRef({initial:null,translated:null}),$=A.useMemo(()=>{var Gt;return O!=null?{id:O,data:(Gt=U?.data)!=null?Gt:BUe,rect:F}:null},[O,U]),D=A.useRef(null),[H,L]=A.useState(null),[V,J]=A.useState(null),Q=_v(x,Object.values(x)),K=fS("DndDescribedBy",s),q=A.useMemo(()=>N.getEnabled(),[N]),Z=WUe(m),{droppableRects:Y,measureDroppableContainers:ne,measuringScheduled:re}=AUe(q,{dragging:j,dependencies:[M.x,M.y],config:Z.droppable}),ie=EUe(z,O),ce=A.useMemo(()=>V?$I(V):null,[V]),he=In(),me=RUe(ie,Z.draggable.measure);YUe({activeNode:O!=null?z.get(O):null,config:he.layoutShiftCompensation,initialRect:me,measure:Z.draggable.measure});const le=OB(ie,Z.draggable.measure,me),de=OB(ie?ie.parentElement:null),pe=A.useRef({activatorEvent:null,active:null,activeNode:ie,collisionRect:null,collisions:null,droppableRects:Y,draggableNodes:z,draggingNode:null,draggingNodeRect:null,droppableContainers:N,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ve=N.getNodeFor((n=pe.current.over)==null?void 0:n.id),ge=zUe({measure:Z.dragOverlay.measure}),oe=(r=ge.nodeRef.current)!=null?r:ie,Se=j?(a=ge.rect)!=null?a:le:null,be=!!(ge.nodeRef.current&&ge.rect),Ae=jUe(be?null:le),Me=nee(oe?rl(oe):null),Pe=OUe(j?ve??ie:null),Le=PUe(Pe),Oe=VUe(y,{transform:{x:M.x-Ae.x,y:M.y-Ae.y,scaleX:1,scaleY:1},activatorEvent:V,active:$,activeNodeRect:le,containerNodeRect:de,draggingNodeRect:Se,over:pe.current.over,overlayNodeRect:ge.rect,scrollableAncestors:Pe,scrollableAncestorRects:Le,windowRect:Me}),Xe=ce?U1(ce,M):null,ke=DUe(Pe),Ie=NB(ke),ye=NB(ke,[le]),Ce=U1(Oe,Ie),Ne=Se?tUe(Se,Oe):null,Be=$&&Ne?h({active:$,collisionRect:Ne,droppableRects:Y,droppableContainers:q,pointerCoordinates:Xe}):null,Ke=qJ(Be,"id"),[Je,Ge]=A.useState(null),it=be?Oe:U1(Oe,ye),ct=JHe(it,(i=Je?.rect)!=null?i:null,le),nt=A.useRef(null),dt=A.useCallback((Gt,xt)=>{let{sensor:Zt,options:Cn}=xt;if(D.current==null)return;const jn=z.get(D.current);if(!jn)return;const Ut=Gt.nativeEvent,Tn=new Zt({active:D.current,activeNode:jn,event:Ut,options:Cn,context:pe,onAbort(Pt){if(!z.get(Pt))return;const{onDragAbort:rn}=Q.current,wn={id:Pt};rn?.(wn),w({type:"onDragAbort",event:wn})},onPending(Pt,on,rn,wn){if(!z.get(Pt))return;const{onDragPending:Mr}=Q.current,jr={id:Pt,constraint:on,initialCoordinates:rn,offset:wn};Mr?.(jr),w({type:"onDragPending",event:jr})},onStart(Pt){const on=D.current;if(on==null)return;const rn=z.get(on);if(!rn)return;const{onDragStart:wn}=Q.current,xr={activatorEvent:Ut,active:{id:on,data:rn.data,rect:F}};Bm.unstable_batchedUpdates(()=>{wn?.(xr),k(Xh.Initializing),C({type:Li.DragStart,initialCoordinates:Pt,active:on}),w({type:"onDragStart",event:xr}),L(nt.current),J(Ut)})},onMove(Pt){C({type:Li.DragMove,coordinates:Pt})},onEnd:Et(Li.DragEnd),onCancel:Et(Li.DragCancel)});nt.current=Tn;function Et(Pt){return async function(){const{active:rn,collisions:wn,over:xr,scrollAdjustedTranslate:Mr}=pe.current;let jr=null;if(rn&&Mr){const{cancelDrop:sa}=Q.current;jr={activatorEvent:Ut,active:rn,collisions:wn,delta:Mr,over:xr},Pt===Li.DragEnd&&typeof sa=="function"&&await Promise.resolve(sa(jr))&&(Pt=Li.DragCancel)}D.current=null,Bm.unstable_batchedUpdates(()=>{C({type:Pt}),k(Xh.Uninitialized),Ge(null),L(null),J(null),nt.current=null;const sa=Pt===Li.DragEnd?"onDragEnd":"onDragCancel";if(jr){const zr=Q.current[sa];zr?.(jr),w({type:sa,event:jr})}})}}},[z]),$t=A.useCallback((Gt,xt)=>(Zt,Cn)=>{const jn=Zt.nativeEvent,Ut=z.get(Cn);if(D.current!==null||!Ut||jn.dndKit||jn.defaultPrevented)return;const Tn={active:Ut};Gt(Zt,xt.options,Tn)===!0&&(jn.dndKit={capturedBy:xt.sensor},D.current=Cn,dt(Zt,xt))},[z,dt]),Wt=TUe(d,$t);NUe(d),Od(()=>{le&&E===Xh.Initializing&&k(Xh.Initialized)},[le,E]),A.useEffect(()=>{const{onDragMove:Gt}=Q.current,{active:xt,activatorEvent:Zt,collisions:Cn,over:jn}=pe.current;if(!xt||!Zt)return;const Ut={active:xt,activatorEvent:Zt,collisions:Cn,delta:{x:Ce.x,y:Ce.y},over:jn};Bm.unstable_batchedUpdates(()=>{Gt?.(Ut),w({type:"onDragMove",event:Ut})})},[Ce.x,Ce.y]),A.useEffect(()=>{const{active:Gt,activatorEvent:xt,collisions:Zt,droppableContainers:Cn,scrollAdjustedTranslate:jn}=pe.current;if(!Gt||D.current==null||!xt||!jn)return;const{onDragOver:Ut}=Q.current,Tn=Cn.get(Ke),Et=Tn&&Tn.rect.current?{id:Tn.id,rect:Tn.rect.current,data:Tn.data,disabled:Tn.disabled}:null,Pt={active:Gt,activatorEvent:xt,collisions:Zt,delta:{x:jn.x,y:jn.y},over:Et};Bm.unstable_batchedUpdates(()=>{Ge(Et),Ut?.(Pt),w({type:"onDragOver",event:Pt})})},[Ke]),Od(()=>{pe.current={activatorEvent:V,active:$,activeNode:ie,collisionRect:Ne,collisions:Be,droppableRects:Y,draggableNodes:z,draggingNode:oe,draggingNodeRect:Se,droppableContainers:N,over:Je,scrollableAncestors:Pe,scrollAdjustedTranslate:Ce},F.current={initial:Se,translated:Ne}},[$,ie,Be,Ne,z,oe,Se,Y,N,Je,Pe,Ce]),_Ue({...he,delta:M,draggingRect:Ne,pointerCoordinates:Xe,scrollableAncestors:Pe,scrollableAncestorRects:Le});const sn=A.useMemo(()=>({active:$,activeNode:ie,activeNodeRect:le,activatorEvent:V,collisions:Be,containerNodeRect:de,dragOverlay:ge,draggableNodes:z,droppableContainers:N,droppableRects:Y,over:Je,measureDroppableContainers:ne,scrollableAncestors:Pe,scrollableAncestorRects:Le,measuringConfiguration:Z,measuringScheduled:re,windowRect:Me}),[$,ie,le,V,Be,de,ge,z,N,Y,Je,ne,Pe,Le,Z,re,Me]),xn=A.useMemo(()=>({activatorEvent:V,activators:Wt,active:$,activeNodeRect:le,ariaDescribedById:{draggable:K},dispatch:C,draggableNodes:z,over:Je,measureDroppableContainers:ne}),[V,Wt,$,le,C,K,z,Je,ne]);return je.createElement(HJ.Provider,{value:T},je.createElement(lw.Provider,{value:xn},je.createElement(ree.Provider,{value:sn},je.createElement(aee.Provider,{value:ct},u)),je.createElement(qUe,{disabled:o?.restoreFocus===!1})),je.createElement(YHe,{...o,hiddenTextDescribedById:K}));function In(){const Gt=H?.autoScrollEnabled===!1,xt=typeof l=="object"?l.enabled===!1:l===!1,Zt=j&&!Gt&&!xt;return typeof l=="object"?{...l,enabled:Zt}:{enabled:Zt}}}),KUe=A.createContext(null),PB="button",XUe="Draggable";function QUe(t){let{id:e,data:n,disabled:r=!1,attributes:a}=t;const i=fS(XUe),{activators:s,activatorEvent:o,active:l,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:m}=A.useContext(lw),{role:y=PB,roleDescription:x="draggable",tabIndex:v=0}=a??{},_=l?.id===e,C=A.useContext(_?aee:KUe),[w,T]=OC(),[E,k]=OC(),j=MUe(s,e),O=_v(n);Od(()=>(h.set(e,{id:e,key:i,node:w,activatorNode:E,data:O}),()=>{const M=h.get(e);M&&M.key===i&&h.delete(e)}),[h,e]);const z=A.useMemo(()=>({role:y,tabIndex:v,"aria-disabled":r,"aria-pressed":_&&y===PB?!0:void 0,"aria-roledescription":x,"aria-describedby":d.draggable}),[r,y,v,_,x,d.draggable]);return{active:l,activatorEvent:o,activeNodeRect:u,attributes:z,isDragging:_,listeners:r?void 0:j,node:w,over:m,setNodeRef:T,setActivatorNodeRef:k,transform:C}}function ZUe(){return A.useContext(ree)}const JUe="Droppable",e$e={timeout:25};function t$e(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:a}=t;const i=fS(JUe),{active:s,dispatch:o,over:l,measureDroppableContainers:u}=A.useContext(lw),d=A.useRef({disabled:n}),h=A.useRef(!1),m=A.useRef(null),y=A.useRef(null),{disabled:x,updateMeasurementsFor:v,timeout:_}={...e$e,...a},C=_v(v??r),w=A.useCallback(()=>{if(!h.current){h.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{u(Array.isArray(C.current)?C.current:[C.current]),y.current=null},_)},[_]),T=ow({callback:w,disabled:x||!s}),E=A.useCallback((z,M)=>{T&&(M&&(T.unobserve(M),h.current=!1),z&&T.observe(z))},[T]),[k,j]=OC(E),O=_v(e);return A.useEffect(()=>{!T||!k.current||(T.disconnect(),h.current=!1,T.observe(k.current))},[k,T]),A.useEffect(()=>(o({type:Li.RegisterDroppable,element:{id:r,key:i,disabled:n,node:k,rect:m,data:O}}),()=>o({type:Li.UnregisterDroppable,key:i,id:r})),[r]),A.useEffect(()=>{n!==d.current.disabled&&(o({type:Li.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,o]),{active:s,rect:m,isOver:l?.id===r,node:k,over:l,setNodeRef:j}}function cw(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function n$e(t,e){return t.reduce((n,r,a)=>{const i=e.get(r);return i&&(n[a]=i),n},Array(t.length))}function t4(t){return t!==null&&t>=0}function r$e(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function a$e(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const see=t=>{let{rects:e,activeIndex:n,overIndex:r,index:a}=t;const i=cw(e,r,n),s=e[a],o=i[a];return!o||!s?null:{x:o.left-s.left,y:o.top-s.top,scaleX:o.width/s.width,scaleY:o.height/s.height}},n4={scaleX:1,scaleY:1},oee=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:a,rects:i,overIndex:s}=t;const o=(e=i[n])!=null?e:r;if(!o)return null;if(a===n){const u=i[s];return u?{x:0,y:n<s?u.top+u.height-(o.top+o.height):u.top-o.top,...n4}:null}const l=i$e(i,a,n);return a>n&&a<=s?{x:0,y:-o.height-l,...n4}:a<n&&a>=s?{x:0,y:o.height+l,...n4}:{x:0,y:0,...n4}};function i$e(t,e,n){const r=t[e],a=t[e-1],i=t[e+1];return r?n<e?a?r.top-(a.top+a.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):a?r.top-(a.top+a.height):0:0}const lee="Sortable",cee=je.createContext({activeIndex:-1,containerId:lee,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:see,disabled:{draggable:!1,droppable:!1}});function uee(t){let{children:e,id:n,items:r,strategy:a=see,disabled:i=!1}=t;const{active:s,dragOverlay:o,droppableRects:l,over:u,measureDroppableContainers:d}=ZUe(),h=fS(lee,n),m=o.rect!==null,y=A.useMemo(()=>r.map(j=>typeof j=="object"&&"id"in j?j.id:j),[r]),x=s!=null,v=s?y.indexOf(s.id):-1,_=u?y.indexOf(u.id):-1,C=A.useRef(y),w=!r$e(y,C.current),T=_!==-1&&v===-1||w,E=a$e(i);Od(()=>{w&&x&&d(y)},[w,y,x,d]),A.useEffect(()=>{C.current=y},[y]);const k=A.useMemo(()=>({activeIndex:v,containerId:h,disabled:E,disableTransforms:T,items:y,overIndex:_,useDragOverlay:m,sortedRects:n$e(y,l),strategy:a}),[v,h,E.draggable,E.droppable,T,y,_,l,m,a]);return je.createElement(cee.Provider,{value:k},e)}const s$e=t=>{let{id:e,items:n,activeIndex:r,overIndex:a}=t;return cw(n,r,a).indexOf(e)},o$e=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:a,items:i,newIndex:s,previousItems:o,previousContainerId:l,transition:u}=t;return!u||!r||o!==i&&a===s?!1:n?!0:s!==a&&e===l},l$e={duration:200,easing:"ease"},dee="transform",c$e=cy.Transition.toString({property:dee,duration:0,easing:"linear"}),u$e={roleDescription:"sortable"};function d$e(t){let{disabled:e,index:n,node:r,rect:a}=t;const[i,s]=A.useState(null),o=A.useRef(n);return Od(()=>{if(!e&&n!==o.current&&r.current){const l=a.current;if(l){const u=Ly(r.current,{ignoreTransform:!0}),d={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(d.x||d.y)&&s(d)}}n!==o.current&&(o.current=n)},[e,n,r,a]),A.useEffect(()=>{i&&s(null)},[i]),i}function fee(t){let{animateLayoutChanges:e=o$e,attributes:n,disabled:r,data:a,getNewIndex:i=s$e,id:s,strategy:o,resizeObserverConfig:l,transition:u=l$e}=t;const{items:d,containerId:h,activeIndex:m,disabled:y,disableTransforms:x,sortedRects:v,overIndex:_,useDragOverlay:C,strategy:w}=A.useContext(cee),T=f$e(r,y),E=d.indexOf(s),k=A.useMemo(()=>({sortable:{containerId:h,index:E,items:d},...a}),[h,a,E,d]),j=A.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:O,node:z,isOver:M,setNodeRef:N}=t$e({id:s,data:k,disabled:T.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...l}}),{active:U,activatorEvent:F,activeNodeRect:$,attributes:D,setNodeRef:H,listeners:L,isDragging:V,over:J,setActivatorNodeRef:Q,transform:K}=QUe({id:s,data:k,attributes:{...u$e,...n},disabled:T.draggable}),q=MHe(N,H),Z=!!U,Y=Z&&!x&&t4(m)&&t4(_),ne=!C&&V,re=ne&&Y?K:null,ce=Y?re??(o??w)({rects:v,activeNodeRect:$,activeIndex:m,overIndex:_,index:E}):null,he=t4(m)&&t4(_)?i({id:s,items:d,activeIndex:m,overIndex:_}):E,me=U?.id,le=A.useRef({activeId:me,items:d,newIndex:he,containerId:h}),de=d!==le.current.items,pe=e({active:U,containerId:h,isDragging:V,isSorting:Z,id:s,index:E,items:d,newIndex:le.current.newIndex,previousItems:le.current.items,previousContainerId:le.current.containerId,transition:u,wasDragging:le.current.activeId!=null}),ve=d$e({disabled:!pe,index:E,node:z,rect:O});return A.useEffect(()=>{Z&&le.current.newIndex!==he&&(le.current.newIndex=he),h!==le.current.containerId&&(le.current.containerId=h),d!==le.current.items&&(le.current.items=d)},[Z,he,h,d]),A.useEffect(()=>{if(me===le.current.activeId)return;if(me!=null&&le.current.activeId==null){le.current.activeId=me;return}const oe=setTimeout(()=>{le.current.activeId=me},50);return()=>clearTimeout(oe)},[me]),{active:U,activeIndex:m,attributes:D,data:k,rect:O,index:E,newIndex:he,items:d,isOver:M,isSorting:Z,isDragging:V,listeners:L,node:z,overIndex:_,over:J,setNodeRef:q,setActivatorNodeRef:Q,setDroppableNodeRef:N,setDraggableNodeRef:H,transform:ve??ce,transition:ge()};function ge(){if(ve||de&&le.current.newIndex===E)return c$e;if(!(ne&&!mD(F)||!u)&&(Z||pe))return cy.Transition.toString({...u,property:dee})}}function f$e(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}function MC(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const h$e=[ir.Down,ir.Right,ir.Up,ir.Left],p$e=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:a,droppableContainers:i,over:s,scrollableAncestors:o}}=e;if(h$e.includes(t.code)){if(t.preventDefault(),!n||!r)return;const l=[];i.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const m=a.get(h.id);if(m)switch(t.code){case ir.Down:r.top<m.top&&l.push(h);break;case ir.Up:r.top>m.top&&l.push(h);break;case ir.Left:r.left>m.left&&l.push(h);break;case ir.Right:r.left<m.left&&l.push(h);break}});const u=XHe({collisionRect:r,droppableRects:a,droppableContainers:l});let d=qJ(u,"id");if(d===s?.id&&u.length>1&&(d=u[1].id),d!=null){const h=i.get(n.id),m=i.get(d),y=m?a.get(m.id):null,x=m?.node.current;if(x&&y&&h&&m){const _=iw(x).some((j,O)=>o[O]!==j),C=hee(h,m),w=m$e(h,m),T=_||!C?{x:0,y:0}:{x:w?r.width-y.width:0,y:w?r.height-y.height:0},E={x:y.left,y:y.top};return T.x&&T.y?E:Cv(E,T)}}}};function hee(t,e){return!MC(t)||!MC(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function m$e(t,e){return!MC(t)||!MC(e)||!hee(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const g$e=()=>{const t=bt.c(5),[e,n]=A.useState(null);let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=d=>{n(d.active.id)},t[0]=r):r=t[0];const a=r;let i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=(d,h,m)=>{const{active:y,over:x}=d;if(!x||y.id===x.id){n(null);return}const v=h.findIndex(C=>C.id===y.id),_=h.findIndex(C=>C.id===x.id);if(v!==-1&&_!==-1){const C=cw(h,v,_).map(y$e);m(C)}n(null)},t[1]=i):i=t[1];const s=i;let o;t[2]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{n(null)},t[2]=o):o=t[2];const l=o;let u;return t[3]!==e?(u={activeId:e,handleDragStart:a,handleDragEnd:s,handleDragCancel:l},t[3]=e,t[4]=u):u=t[4],u};function y$e(t,e){return{...t,display_order:e+1}}const b$e=t=>{const e=bt.c(56),{open:n,editingGroup:r,onUpdate:a,onSave:i,onCancel:s}=t,{t:o}=qt("promptManagement");if(!r)return null;let l;e[0]!==r.id||e[1]!==o?(l=r.id?o("groupManagement.editForm.titleEdit"):o("groupManagement.editForm.titleAdd"),e[0]=r.id,e[1]=o,e[2]=l):l=e[2];let u;e[3]!==l?(u=c.jsx(br,{children:l}),e[3]=l,e[4]=u):u=e[4];let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d={display:"flex",flexDirection:"column",gap:2,pt:1},e[5]=d):d=e[5];let h;e[6]!==o?(h=o("groupManagement.editForm.groupName.label"),e[6]=o,e[7]=h):h=e[7];let m;e[8]!==a?(m=$=>a({group_name:$.target.value}),e[8]=a,e[9]=m):m=e[9];let y;e[10]!==r.group_name||e[11]!==h||e[12]!==m?(y=c.jsx(Lt,{label:h,fullWidth:!0,value:r.group_name,onChange:m,autoFocus:!0}),e[10]=r.group_name,e[11]=h,e[12]=m,e[13]=y):y=e[13];let x;e[14]!==o?(x=o("groupManagement.editForm.displayOrder.label"),e[14]=o,e[15]=x):x=e[15];let v;e[16]!==a?(v=$=>a({display_order:parseInt($.target.value)||0}),e[16]=a,e[17]=v):v=e[17];let _;e[18]===Symbol.for("react.memo_cache_sentinel")?(_={width:150},e[18]=_):_=e[18];let C;e[19]!==r.display_order||e[20]!==x||e[21]!==v?(C=c.jsx(Lt,{label:x,type:"number",value:r.display_order,onChange:v,sx:_}),e[19]=r.display_order,e[20]=x,e[21]=v,e[22]=C):C=e[22];let w;e[23]!==a?(w=$=>a({is_visible:$.target.checked}),e[23]=a,e[24]=w):w=e[24];let T;e[25]!==r.is_visible||e[26]!==w?(T=c.jsx(ii,{checked:r.is_visible,onChange:w}),e[25]=r.is_visible,e[26]=w,e[27]=T):T=e[27];let E;e[28]!==o?(E=o("groupManagement.editForm.visibility.label"),e[28]=o,e[29]=E):E=e[29];let k;e[30]!==T||e[31]!==E?(k=c.jsx(gr,{control:T,label:E}),e[30]=T,e[31]=E,e[32]=k):k=e[32];let j;e[33]!==C||e[34]!==k||e[35]!==y?(j=c.jsx(yr,{dividers:!0,children:c.jsxs(ee,{sx:d,children:[y,C,k]})}),e[33]=C,e[34]=k,e[35]=y,e[36]=j):j=e[36];let O;e[37]!==o?(O=o("groupManagement.editForm.actions.cancel"),e[37]=o,e[38]=O):O=e[38];let z;e[39]!==s||e[40]!==O?(z=c.jsx(Ze,{onClick:s,children:O}),e[39]=s,e[40]=O,e[41]=z):z=e[41];let M;e[42]!==o?(M=o("groupManagement.editForm.actions.save"),e[42]=o,e[43]=M):M=e[43];let N;e[44]!==i||e[45]!==M?(N=c.jsx(Ze,{onClick:i,variant:"contained",children:M}),e[44]=i,e[45]=M,e[46]=N):N=e[46];let U;e[47]!==z||e[48]!==N?(U=c.jsxs(kr,{children:[z,N]}),e[47]=z,e[48]=N,e[49]=U):U=e[49];let F;return e[50]!==s||e[51]!==n||e[52]!==j||e[53]!==u||e[54]!==U?(F=c.jsxs(hr,{open:n,onClose:s,maxWidth:"sm",fullWidth:!0,children:[u,j,U]}),e[50]=s,e[51]=n,e[52]=j,e[53]=u,e[54]=U,e[55]=F):F=e[55],F},x$e=t=>{const e=bt.c(78),{group:n,isEditing:r,onEdit:a,onDelete:i,onToggleVisibility:s}=t,{t:o}=qt("promptManagement");let l;e[0]!==n.id?(l={id:n.id},e[0]=n.id,e[1]=l):l=e[1];const{attributes:u,listeners:d,setNodeRef:h,transform:m,transition:y,isDragging:x}=fee(l);let v;e[2]!==m?(v=cy.Transform.toString(m),e[2]=m,e[3]=v):v=e[3];const _=x?.5:1;let C;e[4]!==v||e[5]!==_||e[6]!==y?(C={transform:v,transition:y,opacity:_},e[4]=v,e[5]=_,e[6]=y,e[7]=C):C=e[7];const w=C,T=x?"grabbing":"default";let E;e[8]===Symbol.for("react.memo_cache_sentinel")?(E={bgcolor:"action.hover"},e[8]=E):E=e[8];let k;e[9]!==T?(k={cursor:T,bgcolor:"background.paper","&:hover":E},e[9]=T,e[10]=k):k=e[10];const j=x?"grabbing":"grab";let O;e[11]!==j?(O={cursor:j,display:"flex",alignItems:"center",mr:2,color:"text.secondary"},e[11]=j,e[12]=O):O=e[12];let z;e[13]===Symbol.for("react.memo_cache_sentinel")?(z=c.jsx(XX,{}),e[13]=z):z=e[13];let M;e[14]!==u||e[15]!==d||e[16]!==O?(M=c.jsx(ee,{...u,...d,sx:O,children:z}),e[14]=u,e[15]=d,e[16]=O,e[17]=M):M=e[17];let N;e[18]===Symbol.for("react.memo_cache_sentinel")?(N={minWidth:30,color:"text.secondary",mr:2},e[18]=N):N=e[18];let U;e[19]!==n.display_order?(U=c.jsx(ae,{variant:"body2",sx:N,children:n.display_order}),e[19]=n.display_order,e[20]=U):U=e[20];let F;e[21]===Symbol.for("react.memo_cache_sentinel")?(F={display:"flex",alignItems:"center",gap:1},e[21]=F):F=e[21];let $;e[22]!==n.group_name?($=c.jsx(ae,{variant:"body1",children:n.group_name}),e[22]=n.group_name,e[23]=$):$=e[23];let D;e[24]!==n.prompt_count||e[25]!==o?(D=o("groupManagement.groupList.promptCount",{count:n.prompt_count}),e[24]=n.prompt_count,e[25]=o,e[26]=D):D=e[26];let H;e[27]!==D?(H=c.jsx(gt,{label:D,size:"small",variant:"outlined",color:"primary"}),e[27]=D,e[28]=H):H=e[28];let L;e[29]!==n.is_visible||e[30]!==o?(L=!n.is_visible&&c.jsx(gt,{label:o("groupManagement.editForm.visibility.hidden"),size:"small",color:"default"}),e[29]=n.is_visible,e[30]=o,e[31]=L):L=e[31];let V;e[32]!==$||e[33]!==H||e[34]!==L?(V=c.jsxs(ee,{sx:F,children:[$,H,L]}),e[32]=$,e[33]=H,e[34]=L,e[35]=V):V=e[35];let J;e[36]!==n.display_order||e[37]!==o?(J=o("groupManagement.groupList.displayOrder",{order:n.display_order}),e[36]=n.display_order,e[37]=o,e[38]=J):J=e[38];let Q;e[39]!==V||e[40]!==J?(Q=c.jsx(Ss,{primary:V,secondary:J}),e[39]=V,e[40]=J,e[41]=Q):Q=e[41];let K;e[42]!==n||e[43]!==s?(K=()=>s(n),e[42]=n,e[43]=s,e[44]=K):K=e[44];let q;e[45]===Symbol.for("react.memo_cache_sentinel")?(q={mr:1},e[45]=q):q=e[45];let Z;e[46]!==n.is_visible?(Z=n.is_visible?c.jsx(LO,{}):c.jsx(rI,{}),e[46]=n.is_visible,e[47]=Z):Z=e[47];let Y;e[48]!==K||e[49]!==Z?(Y=c.jsx(ht,{edge:"end",onClick:K,sx:q,children:Z}),e[48]=K,e[49]=Z,e[50]=Y):Y=e[50];let ne;e[51]!==n||e[52]!==a?(ne=()=>a(n),e[51]=n,e[52]=a,e[53]=ne):ne=e[53];let re,ie;e[54]===Symbol.for("react.memo_cache_sentinel")?(re={mr:1},ie=c.jsx(yu,{}),e[54]=re,e[55]=ie):(re=e[54],ie=e[55]);let ce;e[56]!==r||e[57]!==ne?(ce=c.jsx(ht,{edge:"end",onClick:ne,disabled:r,sx:re,children:ie}),e[56]=r,e[57]=ne,e[58]=ce):ce=e[58];let he;e[59]!==n.id||e[60]!==i?(he=()=>i(n.id),e[59]=n.id,e[60]=i,e[61]=he):he=e[61];let me;e[62]===Symbol.for("react.memo_cache_sentinel")?(me=c.jsx(Ia,{}),e[62]=me):me=e[62];let le;e[63]!==r||e[64]!==he?(le=c.jsx(ht,{edge:"end",onClick:he,disabled:r,color:"error",children:me}),e[63]=r,e[64]=he,e[65]=le):le=e[65];let de;e[66]!==Y||e[67]!==ce||e[68]!==le?(de=c.jsxs(AO,{children:[Y,ce,le]}),e[66]=Y,e[67]=ce,e[68]=le,e[69]=de):de=e[69];let pe;return e[70]!==h||e[71]!==w||e[72]!==M||e[73]!==U||e[74]!==Q||e[75]!==de||e[76]!==k?(pe=c.jsxs(Bf,{ref:h,style:w,sx:k,children:[M,U,Q,de]}),e[70]=h,e[71]=w,e[72]=M,e[73]=U,e[74]=Q,e[75]=de,e[76]=k,e[77]=pe):pe=e[77],pe},v$e=t=>{const e=bt.c(32),{groups:n,isEditing:r,onAddGroup:a,onEditGroup:i,onDeleteGroup:s,onToggleVisibility:o,onDragEnd:l}=t,{t:u}=qt("promptManagement");let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d={activationConstraint:{distance:8}},e[0]=d):d=e[0];const h=UJ(GI(sw,d));let m;e[1]===Symbol.for("react.memo_cache_sentinel")?(m={display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},e[1]=m):m=e[1];let y;e[2]!==n.length||e[3]!==u?(y=u("groupManagement.groupList.title",{count:n.length}),e[2]=n.length,e[3]=u,e[4]=y):y=e[4];let x;e[5]!==y?(x=c.jsx(ae,{variant:"h6",children:y}),e[5]=y,e[6]=x):x=e[6];let v;e[7]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx(Ws,{}),e[7]=v):v=e[7];let _;e[8]!==u?(_=u("groupManagement.groupList.add"),e[8]=u,e[9]=_):_=e[9];let C;e[10]!==a||e[11]!==_?(C=c.jsx(Ze,{variant:"contained",startIcon:v,onClick:a,children:_}),e[10]=a,e[11]=_,e[12]=C):C=e[12];let w;e[13]!==x||e[14]!==C?(w=c.jsxs(ee,{sx:m,children:[x,C]}),e[13]=x,e[14]=C,e[15]=w):w=e[15];let T;e[16]!==n.length||e[17]!==u?(T=n.length>0&&c.jsx(wt,{severity:"info",sx:{mb:2},children:u("groupManagement.dragHint")}),e[16]=n.length,e[17]=u,e[18]=T):T=e[18];let E;e[19]!==n||e[20]!==r||e[21]!==s||e[22]!==l||e[23]!==i||e[24]!==o||e[25]!==h||e[26]!==u?(E=n.length===0?c.jsx(ee,{sx:{textAlign:"center",py:6,color:"text.secondary"},children:c.jsx(ae,{variant:"body1",children:u("groupManagement.groupList.empty")})}):c.jsx(iee,{sensors:h,collisionDetection:VJ,onDragEnd:l,children:c.jsx(uee,{items:n.map(S$e),strategy:oee,children:c.jsx(Ff,{children:n.map((j,O)=>c.jsxs(je.Fragment,{children:[c.jsx(x$e,{group:j,isEditing:r,onEdit:i,onDelete:s,onToggleVisibility:o}),O<n.length-1&&c.jsx(bn,{})]},j.id))})})}),e[19]=n,e[20]=r,e[21]=s,e[22]=l,e[23]=i,e[24]=o,e[25]=h,e[26]=u,e[27]=E):E=e[27];let k;return e[28]!==E||e[29]!==w||e[30]!==T?(k=c.jsxs(ee,{children:[w,T,E]}),e[28]=E,e[29]=w,e[30]=T,e[31]=k):k=e[31],k};function S$e(t){return t.id}const _$e=t=>{const e=bt.c(72),{open:n,onClose:r,type:a,onGroupsChange:i}=t,{t:s}=qt("promptManagement"),{snackbar:o,showSnackbar:l,hideSnackbar:u}=OHe();let d,h;e[0]!==l||e[1]!==s?(d=be=>l(s(be)||be,"success"),h=be=>l(s(be)||be,"error"),e[0]=l,e[1]=s,e[2]=d,e[3]=h):(d=e[2],h=e[3]);const{groups:m,loading:y,editingGroup:x,isEditing:v,fetchGroups:_,startAddGroup:C,startEditGroup:w,cancelEdit:T,saveGroup:E,deleteGroup:k,toggleVisibility:j,updateGroupsOrder:O,updateEditingGroup:z,setGroups:M}=NHe(a,d,h),{handleDragEnd:N}=g$e();let U,F;e[4]!==_||e[5]!==n?(U=()=>{n&&_()},F=[n,_],e[4]=_,e[5]=n,e[6]=U,e[7]=F):(U=e[6],F=e[7]),A.useEffect(U,F);let $;e[8]!==T||e[9]!==r?($=()=>{T(),r()},e[8]=T,e[9]=r,e[10]=$):$=e[10];const D=$;let H;e[11]!==i||e[12]!==E?(H=()=>{E(i)},e[11]=i,e[12]=E,e[13]=H):H=e[13];const L=H;let V;e[14]!==k||e[15]!==i?(V=be=>{k(be,i)},e[14]=k,e[15]=i,e[16]=V):V=e[16];const J=V;let Q;e[17]!==i||e[18]!==j?(Q=be=>{j(be,i)},e[17]=i,e[18]=j,e[19]=Q):Q=e[19];const K=Q;let q;e[20]!==m||e[21]!==N||e[22]!==i||e[23]!==M||e[24]!==O?(q=be=>{N(be,m,Ae=>{M(Ae),O(Ae,i)})},e[20]=m,e[21]=N,e[22]=i,e[23]=M,e[24]=O,e[25]=q):q=e[25];const Z=q,Y=a==="positive"?"Positive":"Negative";let ne;e[26]!==s||e[27]!==Y?(ne=s("groupManagement.title",{type:Y}),e[26]=s,e[27]=Y,e[28]=ne):ne=e[28];let re;e[29]!==ne?(re=c.jsx(br,{children:ne}),e[29]=ne,e[30]=re):re=e[30];let ie;e[31]===Symbol.for("react.memo_cache_sentinel")?(ie={minHeight:400},e[31]=ie):ie=e[31];let ce;e[32]!==m||e[33]!==J||e[34]!==Z||e[35]!==K||e[36]!==v||e[37]!==y||e[38]!==C||e[39]!==w?(ce=c.jsx(yr,{dividers:!0,sx:ie,children:y?c.jsx(ee,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"300px",children:c.jsx(Kt,{})}):c.jsx(v$e,{groups:m,isEditing:v,onAddGroup:C,onEditGroup:w,onDeleteGroup:J,onToggleVisibility:K,onDragEnd:Z})}),e[32]=m,e[33]=J,e[34]=Z,e[35]=K,e[36]=v,e[37]=y,e[38]=C,e[39]=w,e[40]=ce):ce=e[40];let he;e[41]!==s?(he=s("groupManagement.actions.close"),e[41]=s,e[42]=he):he=e[42];let me;e[43]!==D||e[44]!==he?(me=c.jsx(kr,{children:c.jsx(Ze,{onClick:D,children:he})}),e[43]=D,e[44]=he,e[45]=me):me=e[45];let le;e[46]!==D||e[47]!==n||e[48]!==re||e[49]!==ce||e[50]!==me?(le=c.jsxs(hr,{open:n,onClose:D,maxWidth:"md",fullWidth:!0,children:[re,ce,me]}),e[46]=D,e[47]=n,e[48]=re,e[49]=ce,e[50]=me,e[51]=le):le=e[51];let de;e[52]!==T||e[53]!==x||e[54]!==L||e[55]!==v||e[56]!==z?(de=c.jsx(b$e,{open:v,editingGroup:x,onUpdate:z,onSave:L,onCancel:T}),e[52]=T,e[53]=x,e[54]=L,e[55]=v,e[56]=z,e[57]=de):de=e[57];let pe;e[58]===Symbol.for("react.memo_cache_sentinel")?(pe={vertical:"bottom",horizontal:"center"},e[58]=pe):pe=e[58];let ve;e[59]===Symbol.for("react.memo_cache_sentinel")?(ve={width:"100%"},e[59]=ve):ve=e[59];let ge;e[60]!==u||e[61]!==o.message||e[62]!==o.severity?(ge=c.jsx(wt,{onClose:u,severity:o.severity,sx:ve,variant:"filled",children:o.message}),e[60]=u,e[61]=o.message,e[62]=o.severity,e[63]=ge):ge=e[63];let oe;e[64]!==u||e[65]!==o.open||e[66]!==ge?(oe=c.jsx(jg,{open:o.open,autoHideDuration:6e3,onClose:u,anchorOrigin:pe,children:ge}),e[64]=u,e[65]=o.open,e[66]=ge,e[67]=oe):oe=e[67];let Se;return e[68]!==le||e[69]!==de||e[70]!==oe?(Se=c.jsxs(c.Fragment,{children:[le,de,oe]}),e[68]=le,e[69]=de,e[70]=oe,e[71]=Se):Se=e[71],Se},C$e=({open:t,onClose:e,type:n,groups:r,onSuccess:a,selectedPromptTexts:i=[]})=>{const{t:s}=qt("promptManagement"),[o,l]=A.useState(null),[u,d]=A.useState(""),[h,m]=A.useState(!1),[y,x]=A.useState(null);A.useEffect(()=>{t&&i.length>0&&d(i.join(`
`))},[t,i]);const _=(T=>{const E=T.split(/[,\n]+/).map(k=>k.trim()).filter(k=>k.length>0);return Array.from(new Set(E))})(u),C=async()=>{if(_.length!==0){m(!0),x(null);try{const T=await N4.batchAssignPromptsToGroup(_,o,n);T.success&&(x({created:T.created||0,updated:T.updated||0,failed:T.failed||[]}),a())}catch(T){console.error("Error batch assigning prompts:",T),x({created:0,updated:0,failed:_})}finally{m(!1)}}},w=()=>{h||(l(null),d(""),x(null),e())};return c.jsxs(hr,{open:t,onClose:w,maxWidth:"md",fullWidth:!0,children:[c.jsx(br,{children:s("bulkAssignDialog.title")}),c.jsx(yr,{dividers:!0,children:c.jsxs(ee,{sx:{display:"flex",flexDirection:"column",gap:2},children:[c.jsxs(ba,{fullWidth:!0,children:[c.jsx(Ci,{children:s("bulkAssignDialog.groupSelect.label")}),c.jsxs(Ha,{value:o||"",label:s("bulkAssignDialog.groupSelect.label"),onChange:T=>l(T.target.value),disabled:h||y!==null,children:[c.jsx(en,{value:"",children:s("assignDialog.selectGroup.unassigned")}),r.filter(T=>T.is_visible).map(T=>c.jsxs(en,{value:T.id,children:[T.group_name," (",T.prompt_count,")"]},T.id))]})]}),c.jsx(Lt,{label:s("bulkAssignDialog.textInput.label"),placeholder:s("bulkAssignDialog.textInput.placeholder"),multiline:!0,rows:6,value:u,onChange:T=>d(T.target.value),disabled:h||y!==null,helperText:s("bulkAssignDialog.textInput.example")}),_.length>0&&!y&&c.jsxs(ee,{children:[c.jsx(ae,{variant:"subtitle2",gutterBottom:!0,children:s("bulkAssignDialog.preview.title",{count:_.length})}),c.jsxs(ee,{sx:{display:"flex",flexWrap:"wrap",gap:.5,maxHeight:150,overflow:"auto",p:1,bgcolor:"background.default",borderRadius:1},children:[_.slice(0,20).map((T,E)=>c.jsx(gt,{label:T,size:"small",variant:"outlined"},E)),_.length>20&&c.jsx(gt,{label:`+${_.length-20} `,size:"small",color:"primary"})]})]}),y&&c.jsxs(ee,{children:[c.jsx(bn,{sx:{my:2}}),c.jsx(ae,{variant:"h6",gutterBottom:!0,children:s("bulkAssignDialog.results.title")}),c.jsxs(ee,{sx:{display:"flex",flexDirection:"column",gap:1},children:[c.jsx(wt,{severity:"success",children:s("bulkAssignDialog.results.created",{count:y.created})}),c.jsx(wt,{severity:"info",children:s("bulkAssignDialog.results.updated",{count:y.updated})}),y.failed.length>0&&c.jsxs(wt,{severity:"error",children:[s("bulkAssignDialog.results.failed",{count:y.failed.length}),c.jsxs(ee,{sx:{mt:1},children:[y.failed.slice(0,5).map((T,E)=>c.jsxs(ae,{variant:"body2",children:[" ",T]},E)),y.failed.length>5&&c.jsxs(ae,{variant:"body2",color:"text.secondary",children:["...  ",y.failed.length-5," "]})]})]}),c.jsx(wt,{severity:"success",children:s("bulkAssignDialog.results.total",{count:y.created+y.updated})})]})]})]})}),c.jsxs(kr,{children:[c.jsx(Ze,{onClick:w,disabled:h,children:y?"":s("bulkAssignDialog.actions.cancel")}),!y&&c.jsx(Ze,{onClick:C,variant:"contained",disabled:h||_.length===0,startIcon:h?c.jsx(Kt,{size:20}):null,children:s("bulkAssignDialog.actions.assign")})]})]})},LB=({type:t})=>{const{t:e}=qt("promptManagement"),[n,r]=A.useState([]),[a,i]=A.useState([]),[s,o]=A.useState(!0),[l,u]=A.useState(""),[d,h]=A.useState("all"),[m,y]=A.useState(0),[x,v]=A.useState(25),[_,C]=A.useState(0),[w,T]=A.useState(!1),[E,k]=A.useState(!1),[j,O]=A.useState(null),[z,M]=A.useState(null),[N,U]=A.useState(!1),[F,$]=A.useState(new Set),[D,H]=A.useState(null),[L,V]=A.useState({open:!1,message:"",severity:"success"}),J=async()=>{try{o(!0);let oe;d==="unassigned"?oe=null:typeof d=="number"&&(oe=d);const Se=await N4.searchPrompts(l,t,m+1,x,"usage_count","DESC",oe);Se.success&&Se.data?(r(Array.isArray(Se.data)?Se.data:[]),C(Se.pagination?.total||0)):K(e("promptList.messages.loadFailed"),"error")}catch(oe){console.error("Error fetching prompts:",oe),K(e("promptList.messages.loadFailed"),"error")}finally{o(!1)}},Q=async()=>{try{const oe=await Nm.getGroups(!0,t);oe.success&&oe.data&&i(oe.data)}catch(oe){console.error("Error fetching groups:",oe)}};A.useEffect(()=>{Q()},[t]),A.useEffect(()=>{const oe=setTimeout(()=>{J()},300);return()=>clearTimeout(oe)},[l,d,m,x,t]);const K=(oe,Se)=>{V({open:!0,message:oe,severity:Se})},q=()=>{V({...L,open:!1})},Z=(oe,Se)=>{y(Se)},Y=oe=>{v(parseInt(oe.target.value,10)),y(0)},ne=async oe=>{try{const Se=await N4.deletePrompt(oe,t);Se.success?(K(e("promptList.messages.deleteSuccess"),"success"),J()):K(Se.error||e("promptList.messages.deleteFailed"),"error")}catch(Se){console.error("Error deleting prompt:",Se),K(e("promptList.messages.deleteFailed"),"error")}},re=oe=>{O(oe),k(!0)},ie=async()=>{if(j!==null){try{const oe=await N4.assignPromptToGroup(j,z,t);oe.success?(K(e("promptList.messages.assignSuccess"),"success"),J()):K(oe.error||e("promptList.messages.assignFailed"),"error")}catch(oe){console.error("Error assigning prompt:",oe),K(e("promptList.messages.assignFailed"),"error")}k(!1),O(null),M(null)}},ce=oe=>{H(oe.currentTarget)},he=()=>{H(null)},me=oe=>oe===null?e("promptList.statistics.unclassified"):a.find(be=>be.id===oe)?.group_name||e("promptList.statistics.unknown"),le=oe=>oe.usage_count===0,de=oe=>{$(Se=>{const be=new Set(Se);return be.has(oe)?be.delete(oe):be.add(oe),be})},pe=oe=>{oe.target.checked?$(new Set(n.map(Se=>Se.id))):$(new Set)},ve=()=>{F.size!==0&&U(!0)},ge=()=>{$(new Set),J()};return c.jsxs(ee,{children:[c.jsxs(ee,{sx:{display:"flex",gap:2,mb:3,alignItems:"center"},children:[c.jsx(Lt,{placeholder:e("promptList.search.placeholder",{type:t==="positive"?"Positive":"Negative"}),variant:"outlined",size:"small",value:l,onChange:oe=>u(oe.target.value),InputProps:{startAdornment:c.jsx(qf,{sx:{mr:1,color:"text.secondary"}})},sx:{flexGrow:1}}),c.jsxs(ba,{size:"small",sx:{minWidth:150},children:[c.jsx(Ci,{children:e("promptList.filters.groupFilter.label")}),c.jsxs(Ha,{value:d,label:e("promptList.filters.groupFilter.label"),onChange:oe=>h(oe.target.value),children:[c.jsx(en,{value:"all",children:e("promptList.filters.groupFilter.all")}),c.jsx(en,{value:"unassigned",children:e("promptList.filters.groupFilter.unassigned")}),a.filter(oe=>oe.is_visible).map(oe=>c.jsxs(en,{value:oe.id,children:[oe.group_name," (",oe.prompt_count,")"]},oe.id))]})]}),c.jsx(Ze,{variant:"outlined",startIcon:c.jsx(ny,{}),onClick:ce,children:e("promptList.actions.groupManagement")})]}),F.size>0&&c.jsxs(ee,{sx:{mb:2,p:2,bgcolor:"primary.light",borderRadius:1,display:"flex",gap:2,alignItems:"center"},children:[c.jsx(ae,{variant:"body2",sx:{color:"primary.contrastText",fontWeight:500},children:e("promptList.bulkActions.selectedCount",{count:F.size})}),c.jsx(Ze,{variant:"contained",size:"small",startIcon:c.jsx(nI,{}),onClick:ve,sx:{bgcolor:"white",color:"primary.main","&:hover":{bgcolor:"grey.100"}},children:e("promptList.bulkActions.assignSelected")}),c.jsx(Ze,{variant:"outlined",size:"small",onClick:()=>$(new Set),sx:{borderColor:"white",color:"white","&:hover":{borderColor:"white",bgcolor:"rgba(255,255,255,0.1)"}},children:""})]}),c.jsx(ee,{sx:{mb:2,display:"flex",gap:2},children:c.jsx(Ze,{variant:"outlined",startIcon:c.jsx(nI,{}),onClick:()=>U(!0),children:e("promptList.bulkActions.bulkAssign")})}),c.jsx(D5,{children:c.jsxs(I5,{children:[c.jsx(N5,{children:c.jsxs(wc,{children:[c.jsx(an,{padding:"checkbox",children:c.jsx(ty,{indeterminate:F.size>0&&F.size<n.length,checked:n.length>0&&F.size===n.length,onChange:pe})}),c.jsx(an,{children:e("promptList.table.headers.prompt")}),c.jsx(an,{align:"center",children:e("promptList.table.headers.usageCount")}),c.jsx(an,{align:"center",children:e("promptList.table.headers.assignedGroup")}),c.jsx(an,{align:"center",children:e("promptList.table.headers.actions")})]})}),c.jsx(O5,{children:s?c.jsx(wc,{children:c.jsx(an,{colSpan:5,align:"center",sx:{py:4},children:c.jsx(Kt,{})})}):n.length===0?c.jsx(wc,{children:c.jsx(an,{colSpan:5,align:"center",sx:{py:4},children:c.jsx(ae,{color:"text.secondary",children:e("promptList.table.empty")})})}):n.map(oe=>c.jsxs(wc,{hover:!0,selected:F.has(oe.id),children:[c.jsx(an,{padding:"checkbox",children:c.jsx(ty,{checked:F.has(oe.id),onChange:()=>de(oe.id)})}),c.jsxs(an,{children:[c.jsx(ae,{variant:"body2",sx:{maxWidth:400},children:oe.prompt}),oe.synonyms&&oe.synonyms.length>0&&c.jsxs(ee,{sx:{mt:1},children:[oe.synonyms.slice(0,3).map((Se,be)=>c.jsx(gt,{label:Se,size:"small",variant:"outlined",sx:{mr:.5,mb:.5}},be)),oe.synonyms.length>3&&c.jsx(gt,{label:e("promptList.table.synonyms.more",{count:oe.synonyms.length-3}),size:"small",variant:"outlined",color:"primary"})]})]}),c.jsx(an,{align:"center",children:c.jsx(gt,{label:oe.usage_count,size:"small",color:oe.usage_count>0?"primary":"default"})}),c.jsx(an,{align:"center",children:c.jsx(gt,{label:me(oe.group_id),size:"small",variant:"outlined",color:oe.group_id===null?"default":"primary"})}),c.jsx(an,{align:"center",children:c.jsxs(ee,{sx:{display:"flex",gap:1,justifyContent:"center"},children:[c.jsx(Xt,{title:e("promptList.actions.assignToGroup"),children:c.jsx(ht,{size:"small",onClick:()=>re(oe.id),children:c.jsx(OO,{})})}),c.jsx(Xt,{title:le(oe)?e("promptList.actions.delete"):e("promptList.actions.cannotDelete"),children:c.jsx("span",{children:c.jsx(ht,{size:"small",color:"error",disabled:!le(oe),onClick:()=>ne(oe.id),children:c.jsx(Ia,{})})})})]})})]},oe.id))})]})}),c.jsx(YAe,{rowsPerPageOptions:[10,25,50,100],component:"div",count:_,rowsPerPage:x,page:m,onPageChange:Z,onRowsPerPageChange:Y,labelRowsPerPage:e("promptList.pagination.rowsPerPage"),labelDisplayedRows:({from:oe,to:Se,count:be})=>{const Ae=be!==-1?be:`${Se}+`;return`${oe}-${Se} / ${Ae}`}}),c.jsx(wy,{anchorEl:D,open:!!D,onClose:he,children:c.jsxs(en,{onClick:()=>{T(!0),he()},children:[c.jsx(lu,{children:c.jsx(ny,{fontSize:"small"})}),c.jsx(Ss,{children:e("promptList.actions.groupManagement")})]})}),c.jsxs(hr,{open:E,onClose:()=>k(!1),children:[c.jsx(br,{children:e("assignDialog.title")}),c.jsx(yr,{children:c.jsxs(ba,{fullWidth:!0,sx:{mt:1,minWidth:300},children:[c.jsx(Ci,{children:e("assignDialog.selectGroup.label")}),c.jsxs(Ha,{value:z||"",label:e("assignDialog.selectGroup.label"),onChange:oe=>M(oe.target.value),children:[c.jsx(en,{value:"",children:e("assignDialog.selectGroup.unassigned")}),a.filter(oe=>oe.is_visible).map(oe=>c.jsx(en,{value:oe.id,children:oe.group_name},oe.id))]})]})}),c.jsxs(kr,{children:[c.jsx(Ze,{onClick:()=>k(!1),children:e("assignDialog.actions.cancel")}),c.jsx(Ze,{onClick:ie,variant:"contained",children:e("assignDialog.actions.assign")})]})]}),c.jsx(_$e,{open:w,onClose:()=>T(!1),type:t,onGroupsChange:Q}),c.jsx(C$e,{open:N,onClose:()=>U(!1),type:t,groups:a,onSuccess:ge,selectedPromptTexts:n.filter(oe=>F.has(oe.id)).map(oe=>oe.prompt)}),c.jsx(jg,{open:L.open,autoHideDuration:6e3,onClose:q,children:c.jsx(wt,{onClose:q,severity:L.severity,sx:{width:"100%"},children:L.message})})]})},km=t=>{const e=bt.c(7),{children:n,value:r,index:a}=t,i=r!==a;let s;e[0]!==n||e[1]!==a||e[2]!==r?(s=r===a&&c.jsx(ee,{sx:{py:3},children:n}),e[0]=n,e[1]=a,e[2]=r,e[3]=s):s=e[3];let o;return e[4]!==i||e[5]!==s?(o=c.jsx("div",{role:"tabpanel",hidden:i,children:s}),e[4]=i,e[5]=s,e[6]=o):o=e[6],o},w$e=()=>{const{t}=qt("settings"),[e,n]=A.useState(0),[r,a]=A.useState(0),[i,s]=A.useState(null),[o,l]=A.useState(!0),[u,d]=A.useState(null),[h,m]=A.useState(null);A.useEffect(()=>{y()},[]);const y=async()=>{l(!0),d(null);try{const T=await $s.getSettings();s(T)}catch(T){d("Failed to load settings"),console.error("Failed to load settings:",T)}finally{l(!1)}},x=async T=>{d(null),m(null);try{const E=await $s.updateGeneralSettings(T);s(E),m(t("messages.saveSuccess")),setTimeout(()=>{m(null)},3e3)}catch(E){throw d(t("messages.saveFailed")),console.error("Failed to update settings:",E),E}},v=async T=>{d(null),m(null);try{const E=await $s.updateTaggerSettings(T);s(E),m(t("messages.saveSuccess")),setTimeout(()=>{m(null)},3e3)}catch(E){throw d(t("messages.saveFailed")),console.error("Failed to update settings:",E),E}},_=async T=>{d(null),m(null);try{const E=await $s.updateMetadataSettings(T);s(E),m(t("messages.saveSuccess")),setTimeout(()=>{m(null)},3e3)}catch(E){throw d(t("messages.saveFailed")),console.error("Failed to update settings:",E),E}},C=async T=>{d(null),m(null);try{const E=await $s.updateThumbnailSettings(T);s(E),m(t("messages.saveSuccess")),setTimeout(()=>{m(null)},3e3)}catch(E){throw d(t("messages.saveFailed")),console.error("Failed to update settings:",E),E}},w=(T,E)=>{n(E)};return o?c.jsx(ig,{maxWidth:"md",children:c.jsx(ee,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:c.jsx(Kt,{})})}):u||!i?c.jsx(ig,{maxWidth:"md",children:c.jsx(ee,{sx:{py:4},children:c.jsx(wt,{severity:"error",children:u||"Failed to load settings"})})}):c.jsx(ig,{maxWidth:"md",children:c.jsxs(ee,{sx:{py:4},children:[c.jsxs(ee,{sx:{mb:4},children:[c.jsxs(ee,{sx:{display:"flex",alignItems:"center",mb:1},children:[c.jsx(ny,{sx:{mr:1,fontSize:32}}),c.jsx(ae,{variant:"h4",component:"h1",children:t("title")})]}),c.jsx(ae,{variant:"body1",color:"text.secondary",children:t("subtitle")})]}),h&&c.jsx(wt,{severity:"success",sx:{mb:3},children:h}),c.jsx(ee,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:c.jsxs(nl,{value:e,onChange:w,variant:"scrollable",scrollButtons:"auto",children:[c.jsx(Vn,{label:t("tabs.general")}),c.jsx(Vn,{label:t("tabs.folders")}),c.jsx(Vn,{label:t("tabs.tagger")}),c.jsx(Vn,{label:t("tabs.prompts")}),c.jsx(Vn,{label:t("tabs.rating")}),c.jsx(Vn,{label:t("tabs.similarity")}),c.jsx(Vn,{label:t("tabs.account")})]})}),c.jsx(km,{value:e,index:0,children:c.jsx(RBe,{settings:i.general,metadataSettings:i.metadataExtraction,thumbnailSettings:i.thumbnail,onUpdate:x,onMetadataUpdate:_,onThumbnailUpdate:C})}),c.jsx(km,{value:e,index:1,children:c.jsx(kHe,{})}),c.jsx(km,{value:e,index:2,children:c.jsx(zBe,{settings:i.tagger,onUpdate:v})}),c.jsx(km,{value:e,index:3,children:c.jsxs(Yt,{sx:{width:"100%"},children:[c.jsx(ee,{sx:{borderBottom:1,borderColor:"divider"},children:c.jsxs(nl,{value:r,onChange:(T,E)=>a(E),"aria-label":"prompt management tabs",children:[c.jsx(Vn,{label:"Positive "}),c.jsx(Vn,{label:"Negative "})]})}),c.jsxs(ee,{sx:{p:3},children:[r===0&&c.jsx(LB,{type:"positive"}),r===1&&c.jsx(LB,{type:"negative"})]})]})}),c.jsx(km,{value:e,index:4,children:c.jsx(WBe,{})}),c.jsx(km,{value:e,index:5,children:c.jsx(iHe,{})}),c.jsx(km,{value:e,index:6,children:c.jsx(jHe,{})})]})})};function E$e({onLoginSuccess:t}){const{t:e}=qt(["imageGeneration"]),[n,r]=A.useState(0),[a,i]=A.useState({username:"",password:""}),[s,o]=A.useState(""),[l,u]=A.useState(!1),[d,h]=A.useState(null),m=async x=>{x.preventDefault(),u(!0),h(null);try{const v=await dI.login(a.username,a.password);localStorage.setItem("nai_token",v.accessToken),localStorage.setItem("nai_token_expires",v.expiresAt),t(v.accessToken,v.expiresAt)}catch(v){h(v.response?.data?.error||e("imageGeneration:nai.login.error"))}finally{u(!1)}},y=async x=>{x.preventDefault(),u(!0),h(null);try{const v=s.trim();if(!v){h(e("imageGeneration:nai.login.tokenError")),u(!1);return}const _=await dI.loginWithToken(v);localStorage.setItem("nai_token",_.accessToken),localStorage.setItem("nai_token_expires",_.expiresAt),t(_.accessToken,_.expiresAt)}catch(v){console.error("[NAI Login] Token login error:",v),h(v.response?.data?.error||e("imageGeneration:nai.login.tokenError"))}finally{u(!1)}};return c.jsx(ee,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:c.jsxs(Yt,{sx:{p:4,maxWidth:500,width:"100%"},children:[c.jsxs(ee,{sx:{textAlign:"center",mb:3},children:[c.jsx(ae,{variant:"h5",gutterBottom:!0,children:e("imageGeneration:nai.login.title")}),c.jsx(ae,{variant:"body2",color:"text.secondary",children:e("imageGeneration:nai.login.subtitle")})]}),c.jsxs(nl,{value:n,onChange:(x,v)=>{r(v),h(null)},variant:"fullWidth",sx:{mb:3},children:[c.jsx(Vn,{icon:c.jsx(VL,{}),iconPosition:"start",label:e("imageGeneration:nai.login.tabs.credentials")}),c.jsx(Vn,{icon:c.jsx(aI,{}),iconPosition:"start",label:e("imageGeneration:nai.login.tabs.token")})]}),d&&c.jsx(wt,{severity:"error",sx:{mb:2},children:d}),n===0&&c.jsxs("form",{onSubmit:m,children:[c.jsx(Lt,{fullWidth:!0,label:e("imageGeneration:nai.login.username"),type:"email",value:a.username,onChange:x=>i({...a,username:x.target.value}),required:!0,disabled:l,sx:{mb:2}}),c.jsx(Lt,{fullWidth:!0,label:e("imageGeneration:nai.login.password"),type:"password",value:a.password,onChange:x=>i({...a,password:x.target.value}),required:!0,disabled:l,sx:{mb:3}}),c.jsx(Ze,{fullWidth:!0,type:"submit",variant:"contained",size:"large",disabled:l,startIcon:l?c.jsx(Kt,{size:20}):c.jsx(VL,{}),children:e(l?"imageGeneration:nai.login.loggingIn":"imageGeneration:nai.login.loginButton")})]}),n===1&&c.jsxs("form",{onSubmit:y,children:[c.jsx(ae,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e("imageGeneration:nai.login.tokenHint")}),c.jsx(Lt,{fullWidth:!0,label:e("imageGeneration:nai.login.token"),type:"password",multiline:!0,rows:3,value:s,onChange:x=>o(x.target.value),placeholder:e("imageGeneration:nai.login.tokenPlaceholder"),required:!0,disabled:l,sx:{mb:3}}),c.jsx(Ze,{fullWidth:!0,type:"submit",variant:"contained",size:"large",disabled:l,startIcon:l?c.jsx(Kt,{size:20}):c.jsx(aI,{}),children:e(l?"imageGeneration:nai.login.loggingIn":"imageGeneration:nai.login.loginButton")})]})]})})}var pee={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zB=je.createContext&&je.createContext(pee),T$e=["attr","size","title"];function A$e(t,e){if(t==null)return{};var n=R$e(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function R$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PC(){return PC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PC.apply(this,arguments)}function FB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function LC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FB(Object(n),!0).forEach(function(r){k$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k$e(t,e,n){return e=I$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I$e(t){var e=j$e(t,"string");return typeof e=="symbol"?e:e+""}function j$e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mee(t){return t&&t.map((e,n)=>je.createElement(e.tag,LC({key:n},e.attr),mee(e.child)))}function O$e(t){return e=>je.createElement(D$e,PC({attr:LC({},t.attr)},e),mee(t.child))}function D$e(t){var e=n=>{var{attr:r,size:a,title:i}=t,s=A$e(t,T$e),o=a||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),je.createElement("svg",PC({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:LC(LC({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&je.createElement("title",null,i),t.children)};return zB!==void 0?je.createElement(zB.Consumer,null,n=>e(n)):e(pee)}function N$e(t){return O$e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}const M$e=({token:t})=>{const{t:e}=qt(["imageGeneration"]),[n,r]=A.useState(null),[a,i]=A.useState(!1),[s,o]=A.useState(null),l=async()=>{if(t){i(!0),o(null);try{const d=await At.get("/api/nai/user/data",{headers:{Authorization:`Bearer ${t}`}});r(d.data)}catch(d){console.error("[NAI] User data fetch error:",d),o(d.response?.data?.error||"Failed to fetch user data")}finally{i(!1)}}};A.useEffect(()=>{t&&l()},[t]);const u=d=>{switch(d){case 3:return"tier-opus";case 2:return"tier-scroll";case 1:return"tier-tablet";default:return"tier-free"}};return s?null:c.jsx("div",{className:"nai-anlas-display",children:a?c.jsx("span",{className:"loading-text",children:"Loading..."}):n?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"anlas-info",children:[c.jsxs("span",{className:"anlas-label",children:[e("imageGeneration:nai.anlas.balance"),":"]}),c.jsx("span",{className:"anlas-value",children:n.anlasBalance.toLocaleString()})]}),c.jsxs("div",{className:"subscription-info",children:[c.jsxs("span",{className:"subscription-label",children:[e("imageGeneration:nai.anlas.subscription"),":"]}),c.jsx("span",{className:`tier-badge ${u(n.subscription.tier)}`,children:n.subscription.tierName})]}),c.jsx("button",{onClick:l,className:"refresh-button",title:e("imageGeneration:nai.anlas.refresh"),children:c.jsx(N$e,{})})]}):c.jsx("span",{className:"no-data-text",children:"No data"})})},uw={"Small Portrait":{width:512,height:768},"Small Landscape":{width:768,height:512},"Small Square":{width:640,height:640},"Normal Portrait":{width:832,height:1216},"Normal Landscape":{width:1216,height:832},"Normal Square":{width:1024,height:1024},"Large Portrait":{width:1024,height:1536},"Large Landscape":{width:1536,height:1024},"Wallpaper Portrait":{width:1088,height:1920},"Wallpaper Landscape":{width:1920,height:1088}},P$e=[{value:"nai-diffusion-4-5-curated",label:"V4.5 Curated ()"},{value:"nai-diffusion-4-5-full",label:"V4.5 Full"},{value:"nai-diffusion-4-curated-preview",label:"V4 Curated"},{value:"nai-diffusion-4-full",label:"V4 Full"},{value:"nai-diffusion-3",label:"V3 ()"},{value:"nai-diffusion-3-furry",label:"V3 Furry"}],L$e=[{value:"k_euler",label:"Euler"},{value:"k_euler_ancestral",label:"Euler Ancestral"},{value:"k_dpmpp_2s_ancestral",label:"DPM++ 2S Ancestral"},{value:"k_dpmpp_2m",label:"DPM++ 2M"},{value:"k_dpmpp_sde",label:"DPM++ SDE"},{value:"ddim_v3",label:"DDIM"}],z$e=[{value:"native",label:"Native"},{value:"karras",label:"Karras ()"},{value:"exponential",label:"Exponential"},{value:"polyexponential",label:"Polyexponential"}],BB="nai_generation_params",a6="nai_selected_group_id",HB={model:"nai-diffusion-4-5-curated",prompt:"",negative_prompt:"",resolution:"Normal Portrait",steps:28,scale:6,sampler:"k_euler",n_samples:1,variety_plus:!1,cfg_rescale:.7,noise_schedule:"karras",uncond_scale:1};function F$e(t){const e=bt.c(44),{params:n,onChange:r,disabled:a}=t,i=a===void 0?!1:a;let s,o;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={p:3},o=c.jsx(ae,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:" "}),e[0]=s,e[1]=o):(s=e[0],o=e[1]);let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=c.jsx(bn,{sx:{mb:2}}),e[2]=l):l=e[2];let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=c.jsx(Ci,{children:""}),e[3]=u):u=e[3];const d=n.model;let h;e[4]!==r||e[5]!==n?(h=N=>r({...n,model:N.target.value}),e[4]=r,e[5]=n,e[6]=h):h=e[6];let m;e[7]===Symbol.for("react.memo_cache_sentinel")?(m=P$e.map(H$e),e[7]=m):m=e[7];let y;e[8]!==n.model||e[9]!==h?(y=c.jsx(Ha,{value:d,onChange:h,label:"",children:m}),e[8]=n.model,e[9]=h,e[10]=y):y=e[10];let x;e[11]!==i||e[12]!==y?(x=c.jsx(yn,{size:12,children:c.jsxs(ba,{fullWidth:!0,disabled:i,children:[u,y]})}),e[11]=i,e[12]=y,e[13]=x):x=e[13];let v;e[14]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx(Ci,{children:""}),e[14]=v):v=e[14];const _=n.resolution;let C;e[15]!==r||e[16]!==n?(C=N=>r({...n,resolution:N.target.value}),e[15]=r,e[16]=n,e[17]=C):C=e[17];let w;e[18]===Symbol.for("react.memo_cache_sentinel")?(w=Object.keys(uw).map(B$e),e[18]=w):w=e[18];let T;e[19]!==n.resolution||e[20]!==C?(T=c.jsx(Ha,{value:_,onChange:C,label:"",children:w}),e[19]=n.resolution,e[20]=C,e[21]=T):T=e[21];let E;e[22]!==i||e[23]!==T?(E=c.jsx(yn,{size:12,children:c.jsxs(ba,{fullWidth:!0,disabled:i,children:[v,T]})}),e[22]=i,e[23]=T,e[24]=E):E=e[24];let k;e[25]!==r||e[26]!==n?(k=N=>r({...n,prompt:N.target.value}),e[25]=r,e[26]=n,e[27]=k):k=e[27];let j;e[28]!==i||e[29]!==n.prompt||e[30]!==k?(j=c.jsx(yn,{size:12,children:c.jsx(Lt,{fullWidth:!0,multiline:!0,rows:4,label:"",value:n.prompt,onChange:k,placeholder:"1girl, portrait, detailed face, masterpiece...",required:!0,disabled:i})}),e[28]=i,e[29]=n.prompt,e[30]=k,e[31]=j):j=e[31];let O;e[32]!==r||e[33]!==n?(O=N=>r({...n,negative_prompt:N.target.value}),e[32]=r,e[33]=n,e[34]=O):O=e[34];let z;e[35]!==i||e[36]!==n.negative_prompt||e[37]!==O?(z=c.jsx(yn,{size:12,children:c.jsx(Lt,{fullWidth:!0,multiline:!0,rows:2,label:" ",value:n.negative_prompt,onChange:O,placeholder:"bad anatomy, low quality...",disabled:i})}),e[35]=i,e[36]=n.negative_prompt,e[37]=O,e[38]=z):z=e[38];let M;return e[39]!==x||e[40]!==E||e[41]!==j||e[42]!==z?(M=c.jsxs(Yt,{sx:s,children:[o,l,c.jsxs(yn,{container:!0,spacing:2,children:[x,E,j,z]})]}),e[39]=x,e[40]=E,e[41]=j,e[42]=z,e[43]=M):M=e[43],M}function B$e(t){const e=uw[t];return c.jsxs(en,{value:t,children:[t," (",e.width,"",e.height,")"]},t)}function H$e(t){return c.jsx(en,{value:t.value,children:t.label},t.value)}function U$e(t){const e=bt.c(92),{params:n,onChange:r,disabled:a}=t,i=a===void 0?!1:a;let s,o;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={p:3},o=c.jsx(ae,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:" "}),e[0]=s,e[1]=o):(s=e[0],o=e[1]);let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=c.jsx(bn,{sx:{mb:2}}),e[2]=l):l=e[2];let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=c.jsx(Ci,{children:""}),e[3]=u):u=e[3];const d=n.sampler;let h;e[4]!==r||e[5]!==n?(h=he=>r({...n,sampler:he.target.value}),e[4]=r,e[5]=n,e[6]=h):h=e[6];let m;e[7]===Symbol.for("react.memo_cache_sentinel")?(m=L$e.map(G$e),e[7]=m):m=e[7];let y;e[8]!==n.sampler||e[9]!==h?(y=c.jsx(Ha,{value:d,onChange:h,label:"",children:m}),e[8]=n.sampler,e[9]=h,e[10]=y):y=e[10];let x;e[11]!==i||e[12]!==y?(x=c.jsx(yn,{size:12,children:c.jsxs(ba,{fullWidth:!0,disabled:i,children:[u,y]})}),e[11]=i,e[12]=y,e[13]=x):x=e[13];let v;e[14]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx(Ci,{children:"Noise Schedule"}),e[14]=v):v=e[14];const _=n.noise_schedule;let C;e[15]!==r||e[16]!==n?(C=he=>r({...n,noise_schedule:he.target.value}),e[15]=r,e[16]=n,e[17]=C):C=e[17];let w;e[18]===Symbol.for("react.memo_cache_sentinel")?(w=z$e.map($$e),e[18]=w):w=e[18];let T;e[19]!==n.noise_schedule||e[20]!==C?(T=c.jsx(Ha,{value:_,onChange:C,label:"Noise Schedule",children:w}),e[19]=n.noise_schedule,e[20]=C,e[21]=T):T=e[21];let E;e[22]!==i||e[23]!==T?(E=c.jsx(yn,{size:12,children:c.jsxs(ba,{fullWidth:!0,disabled:i,children:[v,T]})}),e[22]=i,e[23]=T,e[24]=E):E=e[24];let k;e[25]!==n.steps?(k=c.jsxs(ae,{gutterBottom:!0,children:["Steps: ",n.steps]}),e[25]=n.steps,e[26]=k):k=e[26];let j;e[27]!==r||e[28]!==n?(j=(he,me)=>r({...n,steps:me}),e[27]=r,e[28]=n,e[29]=j):j=e[29];let O;e[30]===Symbol.for("react.memo_cache_sentinel")?(O=[{value:15,label:"15"},{value:28,label:"28"},{value:40,label:"40"}],e[30]=O):O=e[30];let z;e[31]!==i||e[32]!==n.steps||e[33]!==j?(z=c.jsx(Ba,{value:n.steps,onChange:j,min:1,max:50,marks:O,disabled:i}),e[31]=i,e[32]=n.steps,e[33]=j,e[34]=z):z=e[34];let M;e[35]!==k||e[36]!==z?(M=c.jsxs(yn,{size:12,children:[k,z]}),e[35]=k,e[36]=z,e[37]=M):M=e[37];let N;e[38]!==n.scale?(N=c.jsxs(ae,{gutterBottom:!0,children:["Guidance: ",n.scale]}),e[38]=n.scale,e[39]=N):N=e[39];let U;e[40]!==r||e[41]!==n?(U=(he,me)=>r({...n,scale:me}),e[40]=r,e[41]=n,e[42]=U):U=e[42];let F;e[43]===Symbol.for("react.memo_cache_sentinel")?(F=[{value:0,label:"0"},{value:5,label:"5"},{value:7,label:"7"}],e[43]=F):F=e[43];let $;e[44]!==i||e[45]!==n.scale||e[46]!==U?($=c.jsx(Ba,{value:n.scale,onChange:U,min:0,max:10,step:.1,marks:F,disabled:i}),e[44]=i,e[45]=n.scale,e[46]=U,e[47]=$):$=e[47];let D;e[48]!==N||e[49]!==$?(D=c.jsxs(yn,{size:12,children:[N,$]}),e[48]=N,e[49]=$,e[50]=D):D=e[50];let H;e[51]!==n.cfg_rescale?(H=c.jsxs(ae,{gutterBottom:!0,children:["CFG Rescale: ",n.cfg_rescale]}),e[51]=n.cfg_rescale,e[52]=H):H=e[52];let L;e[53]!==r||e[54]!==n?(L=(he,me)=>r({...n,cfg_rescale:me}),e[53]=r,e[54]=n,e[55]=L):L=e[55];let V;e[56]===Symbol.for("react.memo_cache_sentinel")?(V=[{value:0,label:"0"},{value:.2,label:"0.2"},{value:.5,label:"0.5"}],e[56]=V):V=e[56];let J;e[57]!==i||e[58]!==n.cfg_rescale||e[59]!==L?(J=c.jsx(Ba,{value:n.cfg_rescale,onChange:L,min:0,max:1,step:.05,marks:V,disabled:i}),e[57]=i,e[58]=n.cfg_rescale,e[59]=L,e[60]=J):J=e[60];let Q;e[61]!==H||e[62]!==J?(Q=c.jsxs(yn,{size:12,children:[H,J]}),e[61]=H,e[62]=J,e[63]=Q):Q=e[63];let K;e[64]!==n.uncond_scale?(K=c.jsxs(ae,{gutterBottom:!0,children:["Uncond Scale: ",n.uncond_scale]}),e[64]=n.uncond_scale,e[65]=K):K=e[65];let q;e[66]!==r||e[67]!==n?(q=(he,me)=>r({...n,uncond_scale:me}),e[66]=r,e[67]=n,e[68]=q):q=e[68];let Z;e[69]===Symbol.for("react.memo_cache_sentinel")?(Z=[{value:0,label:"0"},{value:1,label:"1"},{value:1.5,label:"1.5"}],e[69]=Z):Z=e[69];let Y;e[70]!==i||e[71]!==n.uncond_scale||e[72]!==q?(Y=c.jsx(Ba,{value:n.uncond_scale,onChange:q,min:0,max:1.5,step:.05,marks:Z,disabled:i}),e[70]=i,e[71]=n.uncond_scale,e[72]=q,e[73]=Y):Y=e[73];let ne;e[74]!==K||e[75]!==Y?(ne=c.jsxs(yn,{size:12,children:[K,Y]}),e[74]=K,e[75]=Y,e[76]=ne):ne=e[76];let re;e[77]!==r||e[78]!==n?(re=he=>r({...n,variety_plus:he.target.checked}),e[77]=r,e[78]=n,e[79]=re):re=e[79];let ie;e[80]!==i||e[81]!==n.variety_plus||e[82]!==re?(ie=c.jsx(yn,{size:12,children:c.jsx(gr,{control:c.jsx(ty,{checked:n.variety_plus,onChange:re,disabled:i}),label:"Variety+"})}),e[80]=i,e[81]=n.variety_plus,e[82]=re,e[83]=ie):ie=e[83];let ce;return e[84]!==x||e[85]!==E||e[86]!==M||e[87]!==D||e[88]!==Q||e[89]!==ne||e[90]!==ie?(ce=c.jsxs(Yt,{sx:s,children:[o,l,c.jsxs(yn,{container:!0,spacing:2,children:[x,E,M,D,Q,ne,ie]})]}),e[84]=x,e[85]=E,e[86]=M,e[87]=D,e[88]=Q,e[89]=ne,e[90]=ie,e[91]=ce):ce=e[91],ce}function $$e(t){return c.jsx(en,{value:t.value,children:t.label},t.value)}function G$e(t){return c.jsx(en,{value:t.value,children:t.label},t.value)}function q$e(t){const e=bt.c(11),{params:n,onChange:r,disabled:a}=t,i=a===void 0?!1:a;let s,o;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={p:3},o=c.jsx(ae,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:" "}),e[0]=s,e[1]=o):(s=e[0],o=e[1]);let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=c.jsx(bn,{sx:{mb:2}}),e[2]=l):l=e[2];let u;e[3]!==r||e[4]!==n?(u=m=>r({...n,n_samples:parseInt(m.target.value)}),e[3]=r,e[4]=n,e[5]=u):u=e[5];let d;e[6]===Symbol.for("react.memo_cache_sentinel")?(d={min:1,max:8},e[6]=d):d=e[6];let h;return e[7]!==i||e[8]!==n.n_samples||e[9]!==u?(h=c.jsxs(Yt,{sx:s,children:[o,l,c.jsx(yn,{container:!0,spacing:2,children:c.jsx(yn,{size:12,children:c.jsx(Lt,{fullWidth:!0,type:"number",label:" ",value:n.n_samples,onChange:u,inputProps:d,disabled:i})})})]}),e[7]=i,e[8]=n.n_samples,e[9]=u,e[10]=h):h=e[10],h}function V$e(t){const e=bt.c(12),{selectedGroup:n,onOpenModal:r,onRemoveGroup:a,disabled:i}=t,s=i===void 0?!1:i;let o,l;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={p:3},l=c.jsx(ae,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:" "}),e[0]=o,e[1]=l):(o=e[0],l=e[1]);let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=c.jsx(bn,{sx:{mb:2}}),e[2]=u):u=e[2];let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d={display:"flex",flexDirection:"column",gap:2},e[3]=d):d=e[3];let h;e[4]!==s||e[5]!==r||e[6]!==a||e[7]!==n?(h=n?c.jsx(ee,{sx:{display:"flex",alignItems:"center",gap:1},children:c.jsx(gt,{icon:c.jsx(bu,{}),label:n.name,onDelete:a,color:"primary",sx:{flex:1}})}):c.jsx(Ze,{variant:"outlined",startIcon:c.jsx(bu,{}),onClick:r,disabled:s,fullWidth:!0,children:" "}),e[4]=s,e[5]=r,e[6]=a,e[7]=n,e[8]=h):h=e[8];let m;e[9]===Symbol.for("react.memo_cache_sentinel")?(m=c.jsx(ae,{variant:"caption",color:"text.secondary",children:"     "}),e[9]=m):m=e[9];let y;return e[10]!==h?(y=c.jsxs(Yt,{sx:o,children:[l,u,c.jsxs(ee,{sx:d,children:[h,m]})]}),e[10]=h,e[11]=y):y=e[11],y}function gee(t){const e=bt.c(52),{config:n,state:r,onConfigChange:a,onStop:i,namespace:s}=t,o=s===void 0?"imageGeneration":s;let l;e[0]!==o?(l=[o],e[0]=o,e[1]=l):l=e[1];const{t:u}=qt(l);let d;e[2]!==o?(d=H=>o==="imageGeneration"?`nai.repeat.${H}`:`repeat.${H}`,e[2]=o,e[3]=d):d=e[3];const h=d;let m;e[4]!==n||e[5]!==a?(m=H=>{a({...n,enabled:H})},e[4]=n,e[5]=a,e[6]=m):m=e[6];const y=m;let x;e[7]!==n||e[8]!==a?(x=H=>{const L=parseInt(H);!isNaN(L)&&L>=-1&&L<=999&&a({...n,count:L})},e[7]=n,e[8]=a,e[9]=x):x=e[9];const v=x;let _;e[10]!==n||e[11]!==a?(_=H=>{const L=parseInt(H);!isNaN(L)&&L>=1&&L<=300&&a({...n,delaySeconds:L})},e[10]=n,e[11]=a,e[12]=_):_=e[12];const C=_;let w,T;e[13]===Symbol.for("react.memo_cache_sentinel")?(w={display:"flex",alignItems:"center",gap:1,mb:2},T=c.jsx(QRe,{fontSize:"small"}),e[13]=w,e[14]=T):(w=e[13],T=e[14]);let E;e[15]!==h||e[16]!==u?(E=u(h("title")),e[15]=h,e[16]=u,e[17]=E):E=e[17];let k;e[18]!==E?(k=c.jsxs(ee,{sx:w,children:[T,c.jsx(ae,{variant:"subtitle1",fontWeight:"bold",children:E})]}),e[18]=E,e[19]=k):k=e[19];let j;e[20]===Symbol.for("react.memo_cache_sentinel")?(j=c.jsx(bn,{sx:{mb:2}}),e[20]=j):j=e[20];let O;e[21]===Symbol.for("react.memo_cache_sentinel")?(O={display:"flex",flexDirection:"column",gap:2},e[21]=O):O=e[21];let z;e[22]!==y?(z=H=>y(H.target.checked),e[22]=y,e[23]=z):z=e[23];let M;e[24]!==n.enabled||e[25]!==r.isRunning||e[26]!==z?(M=c.jsx(ty,{checked:n.enabled,onChange:z,disabled:r.isRunning}),e[24]=n.enabled,e[25]=r.isRunning,e[26]=z,e[27]=M):M=e[27];let N;e[28]!==h||e[29]!==u?(N=u(h("enable")),e[28]=h,e[29]=u,e[30]=N):N=e[30];let U;e[31]!==M||e[32]!==N?(U=c.jsx(gr,{control:M,label:N}),e[31]=M,e[32]=N,e[33]=U):U=e[33];let F;e[34]!==n.count||e[35]!==n.delaySeconds||e[36]!==n.enabled||e[37]!==h||e[38]!==v||e[39]!==C||e[40]!==i||e[41]!==r.currentIteration||e[42]!==r.isRunning||e[43]!==r.totalIterations||e[44]!==u?(F=n.enabled&&c.jsxs(c.Fragment,{children:[c.jsx(Lt,{fullWidth:!0,type:"number",label:u(h("count")),value:n.count,onChange:H=>v(H.target.value),disabled:r.isRunning,inputProps:{min:-1,max:999},helperText:n.count===-1?u(h("infinite")):u(h("countHelp"))}),c.jsx(Lt,{fullWidth:!0,type:"number",label:u(h("delay")),value:n.delaySeconds,onChange:H=>C(H.target.value),disabled:r.isRunning,inputProps:{min:1,max:300},helperText:u(h("delayHelp"))}),r.isRunning&&c.jsxs(ee,{children:[c.jsx(ee,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:c.jsx(gt,{label:n.count===-1?u(h("progress"),{current:r.currentIteration}):u(h("progressWithTotal"),{current:r.currentIteration,total:r.totalIterations}),color:"primary",size:"small"})}),c.jsx(Ze,{fullWidth:!0,variant:"outlined",color:"error",startIcon:c.jsx(n9e,{}),onClick:i,children:u(h("stop"))})]})]}),e[34]=n.count,e[35]=n.delaySeconds,e[36]=n.enabled,e[37]=h,e[38]=v,e[39]=C,e[40]=i,e[41]=r.currentIteration,e[42]=r.isRunning,e[43]=r.totalIterations,e[44]=u,e[45]=F):F=e[45];let $;e[46]!==U||e[47]!==F?($=c.jsxs(ee,{sx:O,children:[U,F]}),e[46]=U,e[47]=F,e[48]=$):$=e[48];let D;return e[49]!==k||e[50]!==$?(D=c.jsxs(ee,{children:[k,j,$]}),e[49]=k,e[50]=$,e[51]=D):D=e[51],D}const W$e=t=>{const e=t.service_type==="comfyui";let n={};try{t.metadata&&typeof t.metadata=="string"&&(n=JSON.parse(t.metadata))}catch(v){console.warn("Failed to parse history metadata:",v)}const r=e?n.steps:t.nai_steps,a=e?n.cfg_scale:t.nai_scale,i=e?n.sampler:t.nai_sampler,s=e?n.seed:t.nai_seed?Number(t.nai_seed):null,o=e?n.scheduler:null,l=e?n.model:t.nai_model,u=t.actual_composite_hash??null,d=!!u;u||console.log("[History Adapter] composite_hash is null for history:",{id:t.id,service_type:t.service_type,original_path:t.original_path,actual_composite_hash:t.actual_composite_hash}),!d&&!t.original_path&&console.warn(`[History Adapter] History ${t.id} has no valid image paths:`,{id:t.id,service_type:t.service_type,generation_status:t.generation_status,hasMetadata:d,actual_composite_hash:t.actual_composite_hash,original_path:t.original_path});const h=v=>{if(!v)return{file_type:"image",mime_type:"image/png"};const _=v.toLowerCase().split(".").pop()||"";return _==="gif"?{file_type:"animated",mime_type:"image/gif"}:_==="apng"?{file_type:"animated",mime_type:"image/apng"}:["mp4","webm","mov","avi"].includes(_)?{file_type:"video",mime_type:{mp4:"video/mp4",webm:"video/webm",mov:"video/quicktime",avi:"video/x-msvideo"}[_]||"video/mp4"}:{file_type:"image",mime_type:{png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",webp:"image/webp",bmp:"image/bmp",tiff:"image/tiff",tif:"image/tiff"}[_]||"image/png"}},{file_type:m,mime_type:y}=h(t.original_path);let x=null;if(t.actual_auto_tags)try{x=typeof t.actual_auto_tags=="string"?JSON.parse(t.actual_auto_tags):t.actual_auto_tags}catch(v){console.warn("Failed to parse auto_tags:",v)}return{composite_hash:u,first_seen_date:t.created_at??null,file_id:null,file_type:m,original_file_path:t.original_path??null,file_size:t.file_size??null,mime_type:y,file_status:"active",width:d?t.actual_width??t.width??0:t.width??0,height:d?t.actual_height??t.height??0:t.height??0,thumbnail_path:"",ai_tool:e?"ComfyUI":"NovelAI",model_name:l||null,lora_models:null,steps:r||null,cfg_scale:a||null,sampler:i||null,seed:s,scheduler:o||null,prompt:t.positive_prompt||null,negative_prompt:t.negative_prompt||null,denoise_strength:null,generation_time:null,batch_size:null,batch_index:null,auto_tags:x,rating_score:null,perceptual_hash:null,dhash:null,ahash:null,color_histogram:null,duration:null,fps:null,video_codec:null,audio_codec:null,bitrate:null,thumbnail_url:d&&u?`/api/images/${u}/thumbnail`:yC(t.original_path)||null,image_url:d&&u?`/api/images/${u}/file`:yC(t.original_path)||null,groups:[],ai_metadata:{ai_tool:e?"ComfyUI":"NovelAI",model_name:l||null,lora_models:null,generation_params:{steps:r||null,cfg_scale:a||null,sampler:i||null,seed:s,scheduler:o||null,denoise_strength:null,generation_time:null,batch_size:null,batch_index:null},prompts:{prompt:t.positive_prompt||null,negative_prompt:t.negative_prompt||null}}}},UB=t=>t.map(W$e),Y$e=t=>{const e=bt.c(85),{image:n,onClick:r,selected:a,selectable:i,onSelectionChange:s,onDelete:o,serviceType:l}=t,u=a===void 0?!1:a,d=i===void 0?!1:i,[h,m]=A.useState(!1),[y,x]=A.useState(!1),[v,_]=A.useState(!1),[C,w]=A.useState(!1),T=A.useRef(null);let E;e[0]===Symbol.for("react.memo_cache_sentinel")?(E=Pd(),e[0]=E):E=e[0];const k=E,j=n.file_type==="animated",O=n.file_type==="video";let z;e[1]!==n.composite_hash?(z=n.composite_hash&&!n.composite_hash.startsWith("history_"),e[1]=n.composite_hash,e[2]=z):z=e[2];const M=z,N=K$e;let U;e[3]!==M||e[4]!==n.composite_hash||e[5]!==n.image_url||e[6]!==n.thumbnail_url?(U=()=>n.image_url&&n.image_url!==n.thumbnail_url?N(n.image_url)?n.image_url:`${k}${n.image_url}`:M?`${k}/api/images/${n.composite_hash}/file`:null,e[3]=M,e[4]=n.composite_hash,e[5]=n.image_url,e[6]=n.thumbnail_url,e[7]=U):U=e[7];const F=U;let $;e[8]!==F||e[9]!==M||e[10]!==n.composite_hash||e[11]!==n.image_url||e[12]!==n.thumbnail_url||e[13]!==C||e[14]!==j||e[15]!==O?($=C?F():j||O?n.image_url?N(n.image_url)?n.image_url:`${k}${n.image_url}`:M?`${k}/api/images/${n.composite_hash}/file`:null:n.thumbnail_url?N(n.thumbnail_url)?n.thumbnail_url:`${k}${n.thumbnail_url}`:M?`${k}/api/images/${n.composite_hash}/thumbnail`:F(),e[8]=F,e[9]=M,e[10]=n.composite_hash,e[11]=n.image_url,e[12]=n.thumbnail_url,e[13]=C,e[14]=j,e[15]=O,e[16]=$):$=e[16];const D=$;let H;e[17]!==n.composite_hash||e[18]!==s?(H=Ce=>{Ce.stopPropagation(),s&&n.composite_hash&&s(n.composite_hash,Ce)},e[17]=n.composite_hash,e[18]=s,e[19]=H):H=e[19];const L=H;let V;e[20]!==r?(V=Ce=>{Ce.target.closest(".image-card-actions")||r()},e[20]=r,e[21]=V):V=e[21];const J=V;let Q;e[22]!==n.composite_hash||e[23]!==o?(Q=Ce=>{Ce.stopPropagation(),o&&n.composite_hash&&o(n.composite_hash)},e[22]=n.composite_hash,e[23]=o,e[24]=Q):Q=e[24];const K=Q,q=n.width&&n.height?n.width/n.height:1;let Z,Y;e[25]===Symbol.for("react.memo_cache_sentinel")?(Z=()=>{if(!T.current)return;const Ce=new IntersectionObserver(Ne=>{Ne.forEach(Be=>{Be.isIntersecting&&(x(!0),Ce.disconnect())})},{rootMargin:"50px"});return Ce.observe(T.current),()=>{Ce.disconnect()}},Y=[],e[25]=Z,e[26]=Y):(Z=e[25],Y=e[26]),A.useEffect(Z,Y);let ne;e[27]===Symbol.for("react.memo_cache_sentinel")?(ne=()=>{m(!0)},e[27]=ne):ne=e[27];const re=ne;let ie;e[28]!==l?(ie=()=>l?c.jsx(gt,{label:l==="comfyui"?"ComfyUI":"NovelAI",size:"small",sx:{fontSize:"0.7rem",height:"22px",fontWeight:600,bgcolor:"rgba(0, 0, 0, 0.75)",color:"white",backdropFilter:"blur(4px)"}}):null,e[28]=l,e[29]=ie):ie=e[29];const ce=ie;let he,me;e[30]===Symbol.for("react.memo_cache_sentinel")?(he=()=>_(!0),me=()=>_(!1),e[30]=he,e[31]=me):(he=e[30],me=e[31]);const le=u?3:1,de=u?"primary.main":"divider";let pe;e[32]===Symbol.for("react.memo_cache_sentinel")?(pe={transform:"translateY(-4px)",boxShadow:6},e[32]=pe):pe=e[32];let ve;e[33]!==le||e[34]!==de?(ve={cursor:"pointer",transition:"all 0.2s ease-in-out",position:"relative",border:le,borderColor:de,"&:hover":pe},e[33]=le,e[34]=de,e[35]=ve):ve=e[35];let ge;e[36]!==L||e[37]!==v||e[38]!==d||e[39]!==u?(ge=d&&c.jsx(ee,{className:"image-card-actions",sx:{position:"absolute",top:8,left:8,zIndex:2,opacity:v||u?1:.3,transition:"opacity 0.2s ease-in-out"},onClick:L,children:u?c.jsx(Cs,{sx:{fontSize:32,color:"primary.main",bgcolor:"white",borderRadius:"50%",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"}}):c.jsx(ee,{sx:{width:32,height:32,borderRadius:"50%",border:"2px solid white",bgcolor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease-in-out","&:hover":{bgcolor:"rgba(0, 0, 0, 0.7)",transform:"scale(1.1)"}}})}),e[36]=L,e[37]=v,e[38]=d,e[39]=u,e[40]=ge):ge=e[40];let oe;e[41]!==u?(oe=u&&c.jsx(ee,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(33, 150, 243, 0.15)",zIndex:1,pointerEvents:"none"}}),e[41]=u,e[42]=oe):oe=e[42];let Se;e[43]!==q||e[44]!==j||e[45]!==O?(Se={position:"relative",width:"100%",...O||j?{}:{paddingTop:`${1/q*100}%`},overflow:"hidden",bgcolor:"grey.200"},e[43]=q,e[44]=j,e[45]=O,e[46]=Se):Se=e[46];let be;e[47]!==h?(be=!h&&c.jsx(du,{variant:"rectangular",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),e[47]=h,e[48]=be):be=e[48];let Ae;e[49]!==n.original_file_path||e[50]!==h||e[51]!==D||e[52]!==j||e[53]!==O||e[54]!==y?(Ae=y&&D&&(O?c.jsx(ee,{component:"video",src:D,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,onLoadedData:re,onError:()=>{console.error(`Failed to load video: ${D}`),w(!0)},sx:{width:"100%",height:"auto",display:"block",opacity:h?1:0,transition:"opacity 0.15s ease-in-out"}}):j?c.jsx(Vs,{component:"img",image:D,alt:n.original_file_path??"",loading:"lazy",decoding:"async",draggable:!1,onLoad:re,onError:()=>{console.error(`Failed to load GIF: ${D}`),w(!0)},sx:{width:"100%",height:"auto",display:"block",opacity:h?1:0,transition:"opacity 0.15s ease-in-out"}}):c.jsx(Vs,{component:"img",image:D,alt:n.original_file_path??"",loading:"lazy",decoding:"async",draggable:!1,onLoad:re,onError:()=>{console.error(`Failed to load image: ${D}`),w(!0)},sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain",display:"block",opacity:h?1:0,transition:"opacity 0.15s ease-in-out"}})),e[49]=n.original_file_path,e[50]=h,e[51]=D,e[52]=j,e[53]=O,e[54]=y,e[55]=Ae):Ae=e[55];let Me;e[56]!==Se||e[57]!==be||e[58]!==Ae?(Me=c.jsxs(ee,{sx:Se,children:[be,Ae]}),e[56]=Se,e[57]=be,e[58]=Ae,e[59]=Me):Me=e[59];let Pe;e[60]===Symbol.for("react.memo_cache_sentinel")?(Pe={position:"absolute",top:8,right:8,zIndex:1,display:"flex",flexDirection:"column",gap:.5,alignItems:"flex-end"},e[60]=Pe):Pe=e[60];let Le;e[61]!==ce?(Le=ce(),e[61]=ce,e[62]=Le):Le=e[62];let Oe;e[63]!==K||e[64]!==v||e[65]!==o?(Oe=o&&v&&c.jsx(ht,{className:"image-card-actions",onClick:K,size:"small",sx:{bgcolor:"rgba(244, 67, 54, 0.9)",color:"white",backdropFilter:"blur(4px)","&:hover":{bgcolor:"rgba(211, 47, 47, 1)"},width:32,height:32},children:c.jsx(Ia,{sx:{fontSize:"1rem"}})}),e[63]=K,e[64]=v,e[65]=o,e[66]=Oe):Oe=e[66];let Xe;e[67]!==Le||e[68]!==Oe?(Xe=c.jsxs(ee,{sx:Pe,children:[Le,Oe]}),e[67]=Le,e[68]=Oe,e[69]=Xe):Xe=e[69];let ke;e[70]!==n.prompt||e[71]!==v?(ke=n.prompt&&v&&c.jsx(ee,{sx:{position:"absolute",bottom:0,left:0,right:0,zIndex:1,bgcolor:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(4px)",p:1,maxHeight:"80px",overflow:"hidden"},children:c.jsx(ae,{variant:"caption",sx:{color:"white",fontSize:"0.7rem",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:n.prompt})}),e[70]=n.prompt,e[71]=v,e[72]=ke):ke=e[72];let Ie;e[73]!==n.height||e[74]!==n.width?(Ie=n.width&&n.height&&c.jsx(ee,{sx:{position:"absolute",bottom:8,left:8,zIndex:1},children:c.jsx(gt,{label:`${n.width}  ${n.height}`,size:"small",sx:{fontSize:"0.65rem",height:"20px",fontWeight:600,bgcolor:"rgba(0, 0, 0, 0.65)",color:"white",backdropFilter:"blur(4px)"}})}),e[73]=n.height,e[74]=n.width,e[75]=Ie):Ie=e[75];let ye;return e[76]!==J||e[77]!==ve||e[78]!==ge||e[79]!==oe||e[80]!==Me||e[81]!==Xe||e[82]!==ke||e[83]!==Ie?(ye=c.jsxs(fr,{ref:T,onClick:J,onMouseEnter:he,onMouseLeave:me,sx:ve,children:[ge,oe,Me,Xe,ke,Ie]}),e[76]=J,e[77]=ve,e[78]=ge,e[79]=oe,e[80]=Me,e[81]=Xe,e[82]=ke,e[83]=Ie,e[84]=ye):ye=e[84],ye};function K$e(t){return t&&(t.startsWith("http://")||t.startsWith("https://"))}const yee=({serviceType:t,workflowId:e,refreshKey:n})=>{const{t:r}=qt(),[a,i]=A.useState([]),[s,o]=A.useState([]),[l,u]=A.useState(!0),[d,h]=A.useState(!0),[m,y]=A.useState(1),[x,v]=A.useState(!1),[_,C]=A.useState(0),[w,T]=A.useState(new Set),[E,k]=A.useState(null),[j,O]=A.useState(!1),[z,M]=A.useState(!1),[N,U]=A.useState(!1),[F,$]=A.useState(0),D=50,H={default:3,1536:3,1200:3,900:2,600:2};A.useEffect(()=>{console.log(" [GenerationHistory] useEffect triggered - refreshKey:",n,"localRefreshKey:",F,"serviceType:",t,"workflowId:",e),(async()=>{try{console.log(" [GenerationHistory] Loading history..."),u(!0),y(1);const pe=F>0||n!==void 0&&n>0;let ve;e?(console.log(" [GenerationHistory] Fetching by workflow:",e,"bustCache:",pe),ve=await hd.getByWorkflow(e,{limit:D,offset:0,bustCache:pe})):(console.log(" [GenerationHistory] Fetching all for serviceType:",t,"bustCache:",pe),ve=await hd.getAll({service_type:t,limit:D,offset:0,bustCache:pe}));const ge=ve.records||[];console.log(" [GenerationHistory] Fetched",ge.length,"records"),console.log(" [GenerationHistory] Record IDs:",ge.map(Se=>`${Se.id}:${Se.generation_status}`).join(", ")),h(ge.length>=D);const oe=UB(ge);i([...ge]),o([...oe]),console.log(" [GenerationHistory] State updated with new records"),console.log(" [GenerationHistory] Component should re-render now with",oe.length,"items")}catch(pe){console.error(" [GenerationHistory] Failed to load generation history:",pe),h(!1)}finally{u(!1)}})()},[t,e,n,F]),A.useEffect(()=>{if(m<=1)return;(async()=>{try{u(!0);let pe;e?pe=await hd.getByWorkflow(e,{limit:D,offset:(m-1)*D}):pe=await hd.getAll({service_type:t,limit:D,offset:(m-1)*D});const ve=pe.records||[];h(ve.length>=D);const ge=UB(ve);i(oe=>[...oe,...ve]),o(oe=>[...oe,...ge])}catch(pe){console.error("Failed to load more generation history:",pe),h(!1)}finally{u(!1)}})()},[m,e,t]);const L=A.useCallback(()=>{!l&&d&&y(de=>de+1)},[l,d]),V=()=>{console.log(" [GenerationHistory] MANUAL REFRESH CLICKED - Current localRefreshKey:",F),T(new Set),k(null),$(de=>{const pe=de+1;return console.log(" [GenerationHistory] Setting new localRefreshKey:",pe),pe})},J=async de=>{if(confirm(r("generationHistory:deleteConfirm")))try{await hd.delete(de),V()}catch(pe){console.error("Failed to delete history:",pe),alert(r("generationHistory:deleteFailed"))}},Q=de=>{C(de),v(!0)},K=de=>{C(de)},q=()=>{const de=new Set(a.map(pe=>pe.id));T(de)},Z=()=>{T(new Set),k(null)},Y=(de,pe)=>{const ve=a.findIndex(ge=>ge.id===de);if(pe?.shiftKey&&E!==null){const ge=Math.min(E,ve),oe=Math.max(E,ve),Se=new Set(w);for(let be=ge;be<=oe;be++)Se.add(a[be].id);T(Se)}else if(pe?.ctrlKey||pe?.metaKey){const ge=new Set(w);ge.has(de)?ge.delete(de):ge.add(de),T(ge),k(ve)}else{const ge=new Set(w);ge.has(de)?ge.delete(de):ge.add(de),T(ge),k(ve)}},ne=async()=>{if(w.size!==0)try{await Promise.all(Array.from(w).map(de=>hd.delete(de))),T(new Set),k(null),O(!1),V()}catch(de){console.error("Failed to delete histories:",de),alert(r("generationHistory:bulkDeleteFailed"))}},re=()=>{O(!0)},ie=()=>{O(!1)},ce=async()=>{U(!0);try{const de=await hd.cleanupFailed(!1);M(!1),V(),de.deleted>0?alert(r("generationHistory:cleanupSuccess",{count:de.deleted})):alert(r("generationHistory:noFailedRecords"))}catch(de){console.error("Failed to cleanup failed records:",de),alert(r("generationHistory:cleanupFailed"))}finally{U(!1)}},he=()=>{M(!0)},me=()=>{M(!1)},le=a.filter(de=>de.generation_status==="failed").length;return l&&s.length===0?c.jsx(ee,{sx:{width:"100%",p:2},children:c.jsx(ee,{sx:{textAlign:"center",py:8},children:c.jsx(ae,{variant:"h6",color:"text.secondary",children:r("generationHistory:loading")})})}):s.length===0?c.jsx(ee,{sx:{width:"100%",p:2},children:c.jsxs(ee,{sx:{textAlign:"center",py:8},children:[c.jsx(ae,{variant:"h6",color:"text.secondary",children:r("generationHistory:noHistory")}),c.jsx(ae,{variant:"body2",color:"text.secondary",sx:{mt:1},children:r("generationHistory:noHistoryDescription")})]})}):c.jsxs(ee,{sx:{width:"100%",p:2},children:[c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[c.jsxs(ae,{variant:"h6",sx:{fontWeight:600},children:[r("generationHistory:title")," (",s.length,")"]}),c.jsxs(ee,{sx:{display:"flex",gap:1},children:[le>0&&c.jsxs(Ze,{variant:"outlined",size:"small",color:"warning",startIcon:c.jsx(kRe,{}),onClick:he,sx:{textTransform:"none"},children:[r("generationHistory:cleanupFailed")," (",le,")"]}),c.jsx(Ze,{variant:"outlined",size:"small",startIcon:c.jsx(vo,{}),onClick:V,sx:{textTransform:"none"},children:r("common:refresh")})]})]}),w.size>0&&c.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:1,mb:2,p:1.5,bgcolor:"action.hover",borderRadius:1},children:[c.jsxs(ae,{variant:"body2",sx:{fontWeight:600,mr:1},children:[w.size," "]}),c.jsx(Ze,{size:"small",startIcon:c.jsx(rQ,{}),onClick:q,disabled:w.size===a.length,children:" "}),c.jsx(Ze,{size:"small",startIcon:c.jsx(KX,{}),onClick:Z,children:" "}),c.jsx(ee,{sx:{flex:1}}),c.jsxs(Ze,{size:"small",variant:"contained",color:"error",startIcon:c.jsx(Ia,{}),onClick:re,children:["  (",w.size,")"]})]}),c.jsx(cQ,{dataLength:s.length,next:L,hasMore:d,loader:c.jsx(ee,{sx:{mt:2,width:"100%"},children:c.jsx(ee,{sx:{textAlign:"center",py:2},children:c.jsx(ae,{variant:"body2",color:"text.secondary",children:r("generationHistory:loadingMore")})})}),endMessage:c.jsx(ee,{sx:{textAlign:"center",py:4,mt:2},children:c.jsx(ae,{variant:"body2",color:"text.secondary",children:r("generationHistory:allLoaded")})}),scrollThreshold:.8,style:{overflow:"visible"},children:c.jsx(gC,{breakpointCols:H,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:s.map((de,pe)=>{const ve=a[pe];return c.jsx(Y$e,{image:de,onClick:()=>Q(pe),generationStatus:ve.generation_status,serviceType:ve.service_type,onDelete:()=>J(ve.id),selectable:!0,selected:w.has(ve.id),onSelectionChange:(ge,oe)=>Y(ve.id,oe)},de.file_id?`file-${de.file_id}-${n||0}-${F}`:`hash-${de.composite_hash}-${pe}-${n||0}-${F}`)})})}),c.jsx(V5,{open:x,onClose:()=>v(!1),image:s[_]||null,images:s,currentIndex:_,onImageChange:K,isHistoryContext:!0,historyRecord:a[_]}),c.jsxs(hr,{open:j,onClose:ie,maxWidth:"xs",fullWidth:!0,children:[c.jsx(br,{children:"  "}),c.jsx(yr,{children:c.jsxs(Rp,{children:[" ",w.size,"  ?",c.jsx("br",{}),"    ."]})}),c.jsxs(kr,{children:[c.jsx(Ze,{onClick:ie,children:r("common:actions.cancel")}),c.jsx(Ze,{onClick:ne,color:"error",variant:"contained",children:""})]})]}),c.jsxs(hr,{open:z,onClose:me,maxWidth:"xs",fullWidth:!0,children:[c.jsx(br,{children:r("generationHistory:cleanupFailedTitle")}),c.jsx(yr,{children:c.jsxs(Rp,{children:[r("generationHistory:cleanupFailedConfirm",{count:le}),c.jsx("br",{}),c.jsx("br",{}),r("generationHistory:cleanupFailedNote")]})}),c.jsxs(kr,{children:[c.jsx(Ze,{onClick:me,disabled:N,children:r("common:actions.cancel")}),c.jsx(Ze,{onClick:ce,color:"warning",variant:"contained",disabled:N,children:r(N?"generationHistory:cleaning":"generationHistory:cleanup")})]})]})]})};function X$e(){const t=bt.c(9),[e,n]=A.useState(r);function r(){try{const l=localStorage.getItem(BB);if(l){const u=JSON.parse(l),{prompt:d,negative_prompt:h,...m}=u;return{...HB,...m,prompt:"",negative_prompt:""}}}catch(l){console.error("Failed to load saved params:",l)}return{...HB}}let a,i;t[0]!==e?(a=()=>{try{const{prompt:l,negative_prompt:u,...d}=e;localStorage.setItem(BB,JSON.stringify(d))}catch(l){console.error("Failed to save params:",l)}},i=[e],t[0]=e,t[1]=a,t[2]=i):(a=t[1],i=t[2]),A.useEffect(a,i);let s;t[3]!==n?(s=(l,u)=>{n(d=>({...d,[l]:u}))},t[3]=n,t[4]=s):s=t[4];let o;return t[5]!==e||t[6]!==n||t[7]!==s?(o={params:e,setParams:n,updateParam:s},t[5]=e,t[6]=n,t[7]=s,t[8]=o):o=t[8],o}function Q$e(){const[t,e]=A.useState(null),[n,r]=A.useState(null),[a,i]=A.useState(!1);A.useEffect(()=>{try{const u=localStorage.getItem(a6);if(u){const d=parseInt(u);e(d),s(d)}}catch(u){console.error("Failed to load saved group:",u)}},[]),A.useEffect(()=>{t!==null?localStorage.setItem(a6,t.toString()):localStorage.removeItem(a6)},[t]);const s=async u=>{try{const d=await At.get(`/api/groups/${u}`);d.data.success&&r(d.data.data)}catch(d){console.error("Failed to load group info:",d),e(null),r(null)}};return{selectedGroupId:t,selectedGroup:n,groupModalOpen:a,setGroupModalOpen:i,handleGroupSelect:async u=>{e(u),await s(u),i(!1)},handleRemoveGroup:()=>{e(null),r(null)}}}function Z$e({onExecute:t,onComplete:e}){const[n,r]=A.useState({enabled:!1,count:3,delaySeconds:5}),[a,i]=A.useState({isRunning:!1,currentIteration:0,totalIterations:0}),[s,o]=A.useState(null),l=A.useRef(a),u=A.useRef(n);A.useEffect(()=>{l.current=a},[a]),A.useEffect(()=>{u.current=n},[n]);const d=async y=>{const x=l.current,v=u.current;if(y>=100){console.warn("[Repeat] Maximum safe iterations reached (100)"),m();return}const C=x.totalIterations;if(C!==-1&&y>=C){console.log("[Repeat] All iterations completed",{iteration:y,totalIterations:C}),m(),e&&e();return}if(!x.isRunning){console.log("[Repeat] Stopped by user",{currentState:x});return}console.log("[Repeat] Starting iteration",{current:y+1,total:C===-1?"infinite":C,isRunning:x.isRunning}),i(w=>({...w,currentIteration:y}));try{await t(y);const w=l.current,T=y+1,E=C===-1||T<C;if(E&&w.isRunning){console.log("[Repeat] Scheduling next iteration after delay",{delaySeconds:v.delaySeconds,nextIteration:T});const k=window.setTimeout(()=>{d(T)},v.delaySeconds*1e3);o(k)}else console.log("[Repeat] Finished all iterations",{shouldContinue:E,isRunning:w.isRunning}),m(),e&&e()}catch(w){throw console.error("[Repeat] Error during iteration",{iteration:y,error:w}),m(),w}},h=()=>{n.enabled&&!a.isRunning&&(console.log("[Repeat] Initializing repeat execution",{enabled:n.enabled,isRunning:a.isRunning,count:n.count}),i({isRunning:!0,currentIteration:0,totalIterations:n.count===-1?-1:n.count}),setTimeout(()=>{console.log("[Repeat] Executing first cycle"),d(0)},100))},m=()=>{s&&(clearTimeout(s),o(null)),i({isRunning:!1,currentIteration:0,totalIterations:0})};return{repeatConfig:n,repeatState:a,setRepeatConfig:r,startRepeat:h,stopRepeat:m,isRepeatMode:n.enabled}}const J$e="http://localhost:1566/api",dd=tn.create({baseURL:J$e,withCredentials:!0}),vd={getAllWildcards:async(t=!0)=>(await dd.get("/wildcards",{params:{withItems:t}})).data,getWildcard:async t=>(await dd.get(`/wildcards/${t}`)).data,createWildcard:async t=>(await dd.post("/wildcards",t)).data,updateWildcard:async(t,e)=>(await dd.put(`/wildcards/${t}`,e)).data,deleteWildcard:async t=>(await dd.delete(`/wildcards/${t}`)).data,parseWildcards:async t=>(await dd.post("/wildcards/parse",t)).data,getStatistics:async()=>(await dd.get("/wildcards/stats/summary")).data,checkCircularReference:async t=>(await dd.get(`/wildcards/${t}/circular-check`)).data,scanLoraFolder:async t=>(await dd.post("/wildcards/scan-lora-folder",t)).data,getLastScanLog:async()=>(await dd.get("/wildcards/last-scan-log")).data};let r4=null,$B=0;const eGe=6e4;async function tGe(){const t=Date.now();if(r4&&t-$B<eGe)return r4;try{return r4=(await vd.getAllWildcards(!0)).data||[],$B=t,r4}catch(e){return console.error("Failed to load wildcards:",e),[]}}function bee(t){const e=/\(([^,)]+),\s*([\d.,\s-]+)\)/g;return t.replace(e,(n,r,a)=>{const i=a.split(",").map(o=>o.trim()).filter(o=>o.length>0&&!isNaN(parseFloat(o)));if(i.length===0)return n;const s=i[Math.floor(Math.random()*i.length)];return`(${r.trim()}:${s})`})}function xee(t){const e=/\(([^,)]+),\s*([-\d.]+)~([-\d.]+),\s*([\d.]+)\)/g;return t.replace(e,(n,r,a,i,s)=>{const o=parseFloat(a),l=parseFloat(i),u=parseFloat(s);if(isNaN(o)||isNaN(l)||isNaN(u)||u<=0||o>=l)return console.warn(`[Weight] Invalid range syntax: ${n}`),n;const d=[];for(let m=o;m<=l;m=parseFloat((m+u).toFixed(10)))d.push(parseFloat(m.toFixed(2)));if(d.length===0)return n;const h=d[Math.floor(Math.random()*d.length)];return`(${r.trim()}:${h})`})}function nGe(t){const e=/\((\+\+[^+]+\+\+):[\d.]+\)/g;return t.replace(e,"$1")}function rGe(t,e){const n=/\+\+([^+]+)\+\+/g;return t.replace(n,(r,a)=>{const i=e.get(a);return!i||!i.items||i.items.length===0?(console.warn(`[Wildcard] Removing invalid wildcard: ${a}`),""):r})}function vee(t,e,n,r){const a=/\+\+([^+]+)\+\+/g;let i=t.replace(a,(s,o)=>{if(r.has(o))return console.warn(`[Wildcard] Circular reference detected: ${o}`),s;const l=e.get(o);if(!l||!l.items||l.items.length===0)return console.warn(`[Wildcard] Not found or empty: ${o}`),s;const u=l.items.filter(y=>y.tool===n);if(u.length===0)return console.warn(`[Wildcard] No items for '${o}' with tool '${n}'`),s;const d=Math.floor(Math.random()*u.length),h=u[d];r.add(o);const m=vee(h.content,e,n,r);return r.delete(o),m});return i=xee(i),i=bee(i),i}async function YI(t,e){if(!t)return t;const n=await tGe(),r=new Map;n.forEach(s=>r.set(s.name,s));let a=nGe(t);a.includes("++")&&(a=rGe(a,r));let i=a;return a.includes("++")?i=vee(a,r,e,new Set):(i=xee(a),i=bee(i)),i=i.replace(/\s+/g," ").trim(),i!==t&&console.log(`[Wildcard] Parsed (${e}):`,{original:t.substring(0,80),parsed:i.substring(0,80)}),i}async function KI(t,e){if(typeof t=="string")return await YI(t,e);if(Array.isArray(t))return Promise.all(t.map(n=>KI(n,e)));if(t&&typeof t=="object"){const n={};for(const r in t)n[r]=await KI(t[r],e);return n}return t}function aGe(t){const{width:e,height:n,steps:r,n_samples:a,uncond_scale:i,strength:s=1}=t;let o=Math.max(e*n,65536);const l=832*1216,u=1024*1024;o>l&&o<=u&&(o=l);let h=Math.ceil(2951823174884865e-36*o+5753298233447344e-22*o*r)*1;return h=Math.max(Math.ceil(h*s),2),i!==1&&(h=Math.ceil(h*1.3)),h*a}function iGe({token:t,onLogout:e,onGenerationComplete:n}){const{t:r}=qt(["imageGeneration"]),[a,i]=A.useState(!1),[s,o]=A.useState(null),[l,u]=A.useState(null),[d,h]=A.useState(0),m=async()=>{if(t)try{const _=await At.get("/api/nai/user/data",{headers:{Authorization:`Bearer ${t}`}});u(_.data)}catch(_){console.error("[NAI] Failed to fetch user data:",_)}};A.useEffect(()=>{t&&m()},[t]);const y=async _=>(console.log(`[NAI] Starting upload completion polling for ${_.length} images...`),new Promise(T=>{let E=0,k=null;const j=async()=>{E++;try{const O=await Promise.all(_.map(async M=>{try{const N=await hd.getById(M,!0);if(console.log(`[NAI] History ${M} response:`,{success:N.success,hasRecord:!!N.record,status:N.record?.generation_status}),!N||!N.record)return console.error(`[NAI] Invalid response for history ${M}:`,N),!1;const U=N.record.generation_status,F=U==="completed";return console.log(`[NAI] History ${M}: status="${U}", completed=${F}`),F}catch(N){return console.error(`[NAI] Failed to check history ${M}:`,N),!1}})),z=O.filter(M=>M).length;if(console.log(`[NAI] Polling ${E}/30: ${z}/${O.length} completed`),O.every(M=>M)){console.log("[NAI] All images saved! Refreshing history..."),k&&clearTimeout(k),h(M=>{const N=M+1;return console.log(`[NAI] historyRefreshKey: ${M}  ${N}`),setTimeout(()=>T(),0),N});return}if(E>=30){console.warn("[NAI] Polling timeout. Forcing refresh..."),k&&clearTimeout(k),h(M=>{const N=M+1;return setTimeout(()=>T(),0),N});return}k=setTimeout(j,500)}catch(O){if(console.error("[NAI] Completion check failed:",O),E>=30){k&&clearTimeout(k),h(z=>z+1),T();return}k=setTimeout(j,500)}};j()})),x=async(_,C)=>{i(!0),o(null);try{const w=uw[_.resolution],T=await YI(_.prompt,"nai"),E=_.negative_prompt?await YI(_.negative_prompt,"nai"):_.negative_prompt,k=await dI.generateImage(t,{..._,prompt:T,negative_prompt:E,width:w.width,height:w.height,model:_.model,cfg_rescale:_.cfg_rescale,noise_schedule:_.noise_schedule,uncond_scale:_.uncond_scale,groupId:C||void 0});return k.historyIds&&k.historyIds.length>0&&(m(),y(k.historyIds),n&&n(k.historyIds)),k}catch(w){if(w.response?.status===401)return e(),null;throw w.response?.status===402?o(r("imageGeneration:nai.generate.subscriptionRequired")):o(w.response?.data?.error||w.response?.data?.details||r("imageGeneration:nai.generate.error")),w}finally{i(!1)}},v=A.useCallback(aGe,[]);return{generating:a,error:s,userData:l,historyRefreshKey:d,setError:o,executeSingleGeneration:x,fetchUserData:m,calculateCost:v}}function sGe(t){const e=bt.c(118),{token:n,onLogout:r}=t;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=["imageGeneration"],e[0]=a):a=e[0];const{t:i}=qt(a),{params:s,setParams:o}=X$e(),{selectedGroupId:l,selectedGroup:u,groupModalOpen:d,setGroupModalOpen:h,handleGroupSelect:m,handleRemoveGroup:y}=Q$e();let x;e[1]!==r||e[2]!==n?(x={token:n,onLogout:r},e[1]=r,e[2]=n,e[3]=x):x=e[3];const{generating:v,error:_,userData:C,historyRefreshKey:w,executeSingleGeneration:T,calculateCost:E}=iGe(x);let k;e[4]!==T||e[5]!==s||e[6]!==l?(k={onExecute:async()=>{await T(s,l)}},e[4]=T,e[5]=s,e[6]=l,e[7]=k):k=e[7];const{repeatConfig:j,repeatState:O,setRepeatConfig:z,startRepeat:M,stopRepeat:N,isRepeatMode:U}=Z$e(k);let F;e:{if(!C){let sn;e[8]===Symbol.for("react.memo_cache_sentinel")?(sn={cost:0,balance:0,canGenerate:!1,buttonText:""},e[8]=sn):sn=e[8],F=sn;break e}const Je=uw[s.resolution];let Ge;e[9]!==E||e[10]!==s.n_samples||e[11]!==s.steps||e[12]!==s.uncond_scale||e[13]!==Je.height||e[14]!==Je.width?(Ge=E({width:Je.width,height:Je.height,steps:s.steps,n_samples:s.n_samples,uncond_scale:s.uncond_scale}),e[9]=E,e[10]=s.n_samples,e[11]=s.steps,e[12]=s.uncond_scale,e[13]=Je.height,e[14]=Je.width,e[15]=Ge):Ge=e[15];const it=Ge,ct=C.anlasBalance,nt=ct>=it;let dt;e[16]!==ct||e[17]!==nt||e[18]!==it?(dt=nt?` (: ${it} / : ${ct.toLocaleString()})`:" ( )",e[16]=ct,e[17]=nt,e[18]=it,e[19]=dt):dt=e[19];const $t=dt;let Wt;e[20]!==ct||e[21]!==$t||e[22]!==nt||e[23]!==it?(Wt={cost:it,balance:ct,canGenerate:nt,buttonText:$t},e[20]=ct,e[21]=$t,e[22]=nt,e[23]=it,e[24]=Wt):Wt=e[24],F=Wt}const $=F;let D;e[25]!==T||e[26]!==U||e[27]!==s||e[28]!==j||e[29]!==O||e[30]!==l||e[31]!==M?(D=async Je=>{if(Je&&Je.preventDefault(),console.log("[NAI Generate] Button clicked",{repeatConfig:j,repeatState:O,isRepeatMode:U}),U&&!O.isRunning){console.log("[NAI Repeat] Starting repeat mode"),M();return}U||(console.log("[NAI Generate] Single execution mode"),await T(s,l))},e[25]=T,e[26]=U,e[27]=s,e[28]=j,e[29]=O,e[30]=l,e[31]=M,e[32]=D):D=e[32];const H=D;let L;e[33]===Symbol.for("react.memo_cache_sentinel")?(L={mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},e[33]=L):L=e[33];let V;e[34]!==i?(V=i("imageGeneration:nai.generate.title"),e[34]=i,e[35]=V):V=e[35];let J;e[36]!==V?(J=c.jsx(ae,{variant:"h6",children:V}),e[36]=V,e[37]=J):J=e[37];let Q;e[38]===Symbol.for("react.memo_cache_sentinel")?(Q={display:"flex",gap:2,alignItems:"center"},e[38]=Q):Q=e[38];let K;e[39]!==n?(K=c.jsx(M$e,{token:n}),e[39]=n,e[40]=K):K=e[40];let q;e[41]!==i?(q=i("imageGeneration:nai.generate.logout"),e[41]=i,e[42]=q):q=e[42];let Z;e[43]!==r||e[44]!==q?(Z=c.jsx(Ze,{variant:"outlined",onClick:r,children:q}),e[43]=r,e[44]=q,e[45]=Z):Z=e[45];let Y;e[46]!==K||e[47]!==Z?(Y=c.jsxs(ee,{sx:Q,children:[K,Z]}),e[46]=K,e[47]=Z,e[48]=Y):Y=e[48];let ne;e[49]!==Y||e[50]!==J?(ne=c.jsxs(ee,{sx:L,children:[J,Y]}),e[49]=Y,e[50]=J,e[51]=ne):ne=e[51];let re;e[52]!==_?(re=_&&c.jsx(wt,{severity:"error",sx:{mb:2},children:_}),e[52]=_,e[53]=re):re=e[53];let ie;e[54]===Symbol.for("react.memo_cache_sentinel")?(ie={xs:12,lg:4},e[54]=ie):ie=e[54];let ce;e[55]===Symbol.for("react.memo_cache_sentinel")?(ce={display:"flex",flexDirection:"column",gap:3},e[55]=ce):ce=e[55];const he=v||!s.prompt||!!C&&!$.canGenerate;let me;e[56]!==v?(me=v?c.jsx(Kt,{size:20}):c.jsx(mg,{}),e[56]=v,e[57]=me):me=e[57];let le;e[58]!==$.buttonText||e[59]!==he||e[60]!==me?(le=c.jsx(Ze,{fullWidth:!0,type:"submit",variant:"contained",size:"large",disabled:he,startIcon:me,children:$.buttonText}),e[58]=$.buttonText,e[59]=he,e[60]=me,e[61]=le):le=e[61];let de,pe,ve;e[62]!==v||e[63]!==s||e[64]!==o?(de=c.jsx(F$e,{params:s,onChange:o,disabled:v}),pe=c.jsx(U$e,{params:s,onChange:o,disabled:v}),ve=c.jsx(q$e,{params:s,onChange:o,disabled:v}),e[62]=v,e[63]=s,e[64]=o,e[65]=de,e[66]=pe,e[67]=ve):(de=e[65],pe=e[66],ve=e[67]);let ge;e[68]!==h?(ge=()=>h(!0),e[68]=h,e[69]=ge):ge=e[69];let oe;e[70]!==v||e[71]!==y||e[72]!==u||e[73]!==ge?(oe=c.jsx(V$e,{selectedGroup:u,onOpenModal:ge,onRemoveGroup:y,disabled:v}),e[70]=v,e[71]=y,e[72]=u,e[73]=ge,e[74]=oe):oe=e[74];let Se;e[75]===Symbol.for("react.memo_cache_sentinel")?(Se={p:3},e[75]=Se):Se=e[75];let be;e[76]!==j||e[77]!==O||e[78]!==z||e[79]!==N?(be=c.jsx(Yt,{sx:Se,children:c.jsx(gee,{config:j,state:O,onConfigChange:z,onStop:N,namespace:"imageGeneration"})}),e[76]=j,e[77]=O,e[78]=z,e[79]=N,e[80]=be):be=e[80];const Ae=v||!s.prompt||!!C&&!$.canGenerate;let Me;e[81]!==v?(Me=v?c.jsx(Kt,{size:20}):c.jsx(mg,{}),e[81]=v,e[82]=Me):Me=e[82];const Pe=v?" ...":$.buttonText;let Le;e[83]!==Ae||e[84]!==Me||e[85]!==Pe?(Le=c.jsx(Ze,{fullWidth:!0,type:"submit",variant:"contained",size:"large",disabled:Ae,startIcon:Me,children:Pe}),e[83]=Ae,e[84]=Me,e[85]=Pe,e[86]=Le):Le=e[86];let Oe;e[87]!==v?(Oe=v&&c.jsx(Id,{sx:{mt:1}}),e[87]=v,e[88]=Oe):Oe=e[88];let Xe;e[89]!==le||e[90]!==de||e[91]!==pe||e[92]!==ve||e[93]!==oe||e[94]!==be||e[95]!==Le||e[96]!==Oe?(Xe=c.jsxs(ee,{sx:ce,children:[le,de,pe,ve,oe,be,Le,Oe]}),e[89]=le,e[90]=de,e[91]=pe,e[92]=ve,e[93]=oe,e[94]=be,e[95]=Le,e[96]=Oe,e[97]=Xe):Xe=e[97];let ke;e[98]!==H||e[99]!==Xe?(ke=c.jsx(yn,{size:ie,children:c.jsx("form",{onSubmit:H,children:Xe})}),e[98]=H,e[99]=Xe,e[100]=ke):ke=e[100];let Ie;e[101]===Symbol.for("react.memo_cache_sentinel")?(Ie={xs:12,lg:8},e[101]=Ie):Ie=e[101];let ye;e[102]!==w?(ye=c.jsx(yn,{size:Ie,children:c.jsx(yee,{serviceType:"novelai",refreshKey:w})}),e[102]=w,e[103]=ye):ye=e[103];let Ce;e[104]!==ke||e[105]!==ye?(Ce=c.jsxs(yn,{container:!0,spacing:3,children:[ke,ye]}),e[104]=ke,e[105]=ye,e[106]=Ce):Ce=e[106];let Ne;e[107]!==h?(Ne=()=>h(!1),e[107]=h,e[108]=Ne):Ne=e[108];let Be;e[109]!==d||e[110]!==m||e[111]!==Ne?(Be=c.jsx(W5,{open:d,onClose:Ne,selectedImageCount:1,onAssign:m}),e[109]=d,e[110]=m,e[111]=Ne,e[112]=Be):Be=e[112];let Ke;return e[113]!==ne||e[114]!==re||e[115]!==Ce||e[116]!==Be?(Ke=c.jsxs(ee,{children:[ne,re,Ce,Be]}),e[113]=ne,e[114]=re,e[115]=Ce,e[116]=Be,e[117]=Ke):Ke=e[117],Ke}function oGe(){const t=bt.c(7),[e,n]=A.useState(null),[r,a]=A.useState(!1);let i,s;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{const m=localStorage.getItem("nai_token"),y=localStorage.getItem("nai_token_expires");m&&y&&(new Date(y)>new Date?(n(m),a(!0)):(localStorage.removeItem("nai_token"),localStorage.removeItem("nai_token_expires")))},s=[],t[0]=i,t[1]=s):(i=t[0],s=t[1]),A.useEffect(i,s);let o;t[2]===Symbol.for("react.memo_cache_sentinel")?(o=m=>{n(m),a(!0)},t[2]=o):o=t[2];const l=o;let u;t[3]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{localStorage.removeItem("nai_token"),localStorage.removeItem("nai_token_expires"),n(null),a(!1)},t[3]=u):u=t[3];const d=u;if(!r){let m;return t[4]===Symbol.for("react.memo_cache_sentinel")?(m=c.jsx(E$e,{onLoginSuccess:l}),t[4]=m):m=t[4],m}let h;return t[5]!==e?(h=c.jsx(ee,{children:c.jsx(sGe,{token:e,onLogout:d})}),t[5]=e,t[6]=h):h=t[6],h}const lGe="http://localhost:1566/api",Uh=tn.create({baseURL:lGe,withCredentials:!0}),zm={getAllServers:async(t=!1)=>(await Uh.get("/comfyui-servers",{params:{active:t}})).data,getServer:async t=>(await Uh.get(`/comfyui-servers/${t}`)).data,createServer:async t=>(await Uh.post("/comfyui-servers",t)).data,updateServer:async(t,e)=>(await Uh.put(`/comfyui-servers/${t}`,e)).data,deleteServer:async t=>(await Uh.delete(`/comfyui-servers/${t}`)).data,testConnection:async t=>(await Uh.get(`/comfyui-servers/${t}/test-connection`)).data,testAllConnections:async()=>(await Uh.get("/comfyui-servers/test-all-connections")).data,getServerWorkflows:async t=>(await Uh.get(`/comfyui-servers/${t}/workflows`)).data},cGe="http://localhost:1566/api",f1=tn.create({baseURL:cGe,withCredentials:!0}),T1={getAllLists:async()=>(await f1.get("/custom-dropdown-lists")).data,getList:async t=>(await f1.get(`/custom-dropdown-lists/${t}`)).data,createList:async t=>(await f1.post("/custom-dropdown-lists",t)).data,updateList:async(t,e)=>(await f1.put(`/custom-dropdown-lists/${t}`,e)).data,deleteList:async t=>(await f1.delete(`/custom-dropdown-lists/${t}`)).data,scanComfyUIModels:async t=>(await f1.post("/custom-dropdown-lists/scan-comfyui-models",t)).data};function uGe(){const[t,e]=A.useState([]),[n,r]=A.useState(!0),[a,i]=A.useState(null),[s,o]=A.useState(0),[l,u]=A.useState(!1),[d,h]=A.useState(null),[m,y]=A.useState(!1),[x,v]=A.useState([]),[_,C]=A.useState(!1),[w,T]=A.useState({name:"",description:"",itemsText:""}),E=t.filter(H=>H.is_auto_collected),k=t.filter(H=>!H.is_auto_collected);A.useEffect(()=>{j()},[]);const j=async()=>{try{r(!0);const H=await T1.getAllLists();e(H.data||[])}catch(H){i(H.message)}finally{r(!1)}},O=H=>{H?(h(H),T({name:H.name,description:H.description||"",itemsText:H.items.join(`
`)})):(h(null),T({name:"",description:"",itemsText:""})),u(!0)},z=()=>{u(!1),h(null),i(null)},M=async()=>{try{const H=w.itemsText.split(`
`).map(V=>V.trim()).filter(V=>V.length>0);if(H.length===0){i(" 1   .");return}const L={name:w.name,description:w.description||void 0,items:H};d?await T1.updateList(d.id,L):await T1.createList(L),z(),j()}catch(H){i(H.response?.data?.error||H.message)}},N=async H=>{if(confirm("   ?"))try{await T1.deleteList(H),j()}catch(L){i(L.message)}},U=()=>{v([]),y(!0)},F=()=>{y(!1),v([]),i(null)},$=async H=>{const L=H.target.files;if(!L||L.length===0)return;i(null);const V=[".safetensors",".ckpt",".pt",".pth",".bin"],J=["checkpoints","unet","upscale_models"],Q=new Map;for(let q=0;q<L.length;q++){const Z=L[q],Y=Z.webkitRelativePath.split("/"),ne="."+Z.name.split(".").pop()?.toLowerCase();if(!V.includes(ne)||Y.length<2)continue;const re=Y[1];if(!J.includes(re))continue;const ie=Y.slice(2,-1).join("/"),ce=ie?`${re}/${ie}`:re;Q.has(ce)||Q.set(ce,[]),Q.get(ce).push(Z.name)}const K=Array.from(Q.entries()).map(([q,Z])=>({folderName:q.split("/")[0],displayName:q,files:Z.sort()}));v(K)},D=async()=>{if(x.length===0){i("  .");return}try{C(!0),i(null);const H=await T1.scanComfyUIModels({modelFolders:x,sourcePath:"client-selected"});H.success&&H.data&&(F(),j(),o(0),alert(H.data.message))}catch(H){i(H.response?.data?.error||H.message)}finally{C(!1)}};return c.jsxs(ee,{children:[c.jsxs(ee,{sx:{mb:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs(ae,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx($Re,{}),"   "]}),c.jsxs(ee,{sx:{display:"flex",gap:1},children:[c.jsx(Ze,{variant:"outlined",size:"small",startIcon:c.jsx(uv,{}),onClick:U,color:"secondary",children:"ComfyUI  "}),s===1&&c.jsx(Ze,{variant:"outlined",size:"small",startIcon:c.jsx(Ws,{}),onClick:()=>O(),children:"  "})]})]}),a&&c.jsx(wt,{severity:"error",sx:{mb:2},onClose:()=>i(null),children:a}),c.jsxs(nl,{value:s,onChange:(H,L)=>o(L),sx:{mb:2,borderBottom:1,borderColor:"divider"},children:[c.jsx(Vn,{icon:c.jsx(aQ,{}),iconPosition:"start",label:c.jsx(uL,{badgeContent:E.length,color:"primary",max:999,children:c.jsx(ee,{sx:{mr:2},children:" "})})}),c.jsx(Vn,{icon:c.jsx(YRe,{}),iconPosition:"start",label:c.jsx(uL,{badgeContent:k.length,color:"secondary",max:999,children:c.jsx(ee,{sx:{mr:2},children:" "})})})]}),n?c.jsx(ee,{display:"flex",justifyContent:"center",p:3,children:c.jsx(Kt,{size:30})}):c.jsxs(c.Fragment,{children:[s===0&&(E.length===0?c.jsx(fr,{children:c.jsx(Ra,{children:c.jsx(ae,{variant:"body2",color:"text.secondary",align:"center",children:'   . "ComfyUI  "    .'})})}):c.jsx(ee,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},gap:1.5},children:E.map(H=>c.jsxs(fr,{sx:{height:"100%",borderLeft:3,borderColor:"primary.main"},children:[c.jsx(Ra,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:c.jsxs(fn,{spacing:1,children:[c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[c.jsx(ae,{variant:"subtitle2",sx:{fontWeight:600,fontSize:"0.9rem",flex:1},children:H.name}),c.jsxs(ee,{sx:{display:"flex",gap:.5,alignItems:"center"},children:[c.jsx(gt,{label:"",size:"small",color:"primary",sx:{height:"18px",fontSize:"0.65rem"}}),c.jsx(gt,{label:`${H.items.length}`,size:"small",color:"default",sx:{height:"18px",fontSize:"0.65rem"}})]})]}),H.source_path&&c.jsxs(ae,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem",wordBreak:"break-all"},children:[" ",H.source_path]}),H.description&&c.jsx(ae,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:H.description}),c.jsxs(ee,{sx:{display:"flex",flexWrap:"wrap",gap:.5,userSelect:"text"},children:[H.items.slice(0,3).map((L,V)=>c.jsx(gt,{label:L,size:"small",variant:"outlined",sx:{height:"20px",fontSize:"0.7rem",cursor:"text"}},V)),H.items.length>3&&c.jsx(gt,{label:`+${H.items.length-3}`,size:"small",variant:"outlined",sx:{height:"20px",fontSize:"0.7rem"}})]})]})}),c.jsxs(qk,{sx:{p:1,pt:0,justifyContent:"flex-end"},children:[c.jsx(Xt,{title:"     ",children:c.jsx("span",{children:c.jsx(ht,{size:"small",disabled:!0,sx:{p:.5},children:c.jsx(yu,{sx:{fontSize:"1rem"}})})})}),c.jsx(ht,{size:"small",color:"error",onClick:()=>N(H.id),sx:{p:.5},children:c.jsx(Ia,{sx:{fontSize:"1rem"}})})]})]},H.id))})),s===1&&(k.length===0?c.jsx(fr,{children:c.jsx(Ra,{children:c.jsx(ae,{variant:"body2",color:"text.secondary",align:"center",children:'   . "  "    .'})})}):c.jsx(ee,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},gap:1.5},children:k.map(H=>c.jsxs(fr,{sx:{height:"100%"},children:[c.jsx(Ra,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:c.jsxs(fn,{spacing:1,children:[c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[c.jsx(ae,{variant:"subtitle2",sx:{fontWeight:600,fontSize:"0.9rem"},children:H.name}),c.jsx(gt,{label:`${H.items.length}`,size:"small",color:"secondary",sx:{height:"18px",fontSize:"0.7rem"}})]}),H.description&&c.jsx(ae,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:H.description}),c.jsxs(ee,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:[H.items.slice(0,3).map((L,V)=>c.jsx(gt,{label:L,size:"small",variant:"outlined",sx:{height:"20px",fontSize:"0.7rem"}},V)),H.items.length>3&&c.jsx(gt,{label:`+${H.items.length-3}`,size:"small",variant:"outlined",sx:{height:"20px",fontSize:"0.7rem"}})]})]})}),c.jsxs(qk,{sx:{p:1,pt:0,justifyContent:"flex-end"},children:[c.jsx(ht,{size:"small",onClick:()=>O(H),sx:{p:.5},children:c.jsx(yu,{sx:{fontSize:"1rem"}})}),c.jsx(ht,{size:"small",color:"error",onClick:()=>N(H.id),sx:{p:.5},children:c.jsx(Ia,{sx:{fontSize:"1rem"}})})]})]},H.id))}))]}),c.jsxs(hr,{open:l,onClose:z,maxWidth:"md",fullWidth:!0,children:[c.jsx(br,{children:d?"  ":"   "}),c.jsxs(yr,{children:[a&&c.jsx(wt,{severity:"error",sx:{mb:2},children:a}),c.jsxs(ee,{sx:{display:"flex",flexDirection:"column",gap:2,pt:1},children:[c.jsx(Lt,{autoFocus:!0,label:"  *",fullWidth:!0,value:w.name,onChange:H=>T({...w,name:H.target.value})}),c.jsx(Lt,{label:"",fullWidth:!0,multiline:!0,rows:2,value:w.description,onChange:H=>T({...w,description:H.target.value})}),c.jsx(Lt,{label:"  (   ) *",fullWidth:!0,multiline:!0,rows:10,value:w.itemsText,onChange:H=>T({...w,itemsText:H.target.value}),placeholder:`:
SDXL 1.0
SD 1.5
Realistic Vision
DreamShaper`,helperText:"    "})]})]}),c.jsxs(kr,{children:[c.jsx(Ze,{onClick:z,children:""}),c.jsx(Ze,{onClick:M,variant:"contained",disabled:!w.name.trim()||!w.itemsText.trim(),children:d?"":""})]})]}),c.jsxs(hr,{open:m,onClose:F,maxWidth:"md",fullWidth:!0,children:[c.jsx(br,{children:"ComfyUI  "}),c.jsxs(yr,{children:[a&&c.jsx(wt,{severity:"error",sx:{mb:2},children:a}),c.jsxs(ee,{sx:{display:"flex",flexDirection:"column",gap:2,pt:1},children:[c.jsxs(wt,{severity:"info",sx:{fontSize:"0.85rem"},children:["ComfyUI models  .",c.jsx("br",{}),"    ComfyUI ",c.jsx("strong",{children:"models"}),"  ."]}),c.jsxs(Ze,{variant:"contained",startIcon:c.jsx(bu,{}),component:"label",fullWidth:!0,size:"large",children:["models  ",c.jsx("input",{type:"file",hidden:!0,webkitdirectory:"",directory:"",onChange:$})]}),x.length>0&&c.jsxs(wt,{severity:"success",sx:{fontSize:"0.85rem"},children:[c.jsxs("strong",{children:[x.length," "]}),"   :",c.jsxs(ee,{component:"ul",sx:{mt:1,mb:0,pl:2},children:[x.slice(0,5).map((H,L)=>c.jsxs("li",{children:[c.jsx("strong",{children:H.displayName}),": ",H.files.length," "]},L)),x.length>5&&c.jsxs("li",{children:["... ",x.length-5," "]})]})]}),c.jsxs(wt,{severity:"warning",sx:{fontSize:"0.85rem"},children:[c.jsx("strong",{children:" :"}),c.jsx("br",{})," checkpoints, unet, upscale_models   ",c.jsx("br",{}),"     ",c.jsx("strong",{children:" "}),"",c.jsx("br",{}),'    " "    ']})]})]}),c.jsxs(kr,{children:[c.jsx(Ze,{onClick:F,disabled:_,children:""}),c.jsx(Ze,{onClick:D,variant:"contained",disabled:x.length===0||_,startIcon:_?c.jsx(Kt,{size:16}):c.jsx(uv,{}),children:_?" ...":" "})]})]})]})}function dGe(){const{t}=qt(["workflows","servers","common"]),e=Gf(),[n,r]=A.useState([]),[a,i]=A.useState(!0),[s,o]=A.useState(null),[l,u]=A.useState([]),[d,h]=A.useState(!0),[m,y]=A.useState(null),[x,v]=A.useState(!1),[_,C]=A.useState(null),[w,T]=A.useState(null),[E,k]=A.useState({}),[j,O]=A.useState({name:"",endpoint:"",description:"",is_active:!0});A.useEffect(()=>{z(),N()},[]);const z=async()=>{try{i(!0);const V=await gp.getAllWorkflows();r(V.data||[])}catch(V){o(V.message)}finally{i(!1)}},M=async V=>{if(confirm(t("workflows:actions.confirmDelete")))try{await gp.deleteWorkflow(V),z()}catch(J){o(J.message)}},N=async()=>{try{h(!0);const V=await zm.getAllServers();u(V.data||[])}catch(V){y(V.message)}finally{h(!1)}},U=V=>{V?(C(V),O({name:V.name,endpoint:V.endpoint,description:V.description||"",is_active:V.is_active})):(C(null),O({name:"",endpoint:"http://127.0.0.1:8188",description:"",is_active:!0})),v(!0)},F=()=>{v(!1),C(null)},$=async()=>{try{_?await zm.updateServer(_.id,j):await zm.createServer(j),F(),N()}catch(V){y(V.message)}},D=async V=>{if(confirm(t("servers:actions.confirmDelete")))try{await zm.deleteServer(V),N()}catch(J){y(J.message)}},H=async V=>{T(V);try{const J=await zm.testConnection(V);k({...E,[V]:J.data.isConnected})}catch{k({...E,[V]:!1})}finally{T(null)}};return a||d?c.jsx(ee,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:c.jsx(Kt,{})}):c.jsxs(ee,{children:[c.jsxs(ee,{sx:{mb:3},children:[c.jsxs(ae,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[c.jsx(qX,{})," ",t("workflows:page.listTitle")]}),s&&c.jsx(wt,{severity:"error",sx:{mb:2},onClose:()=>o(null),children:s}),c.jsxs(ee,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(4, 1fr)",lg:"repeat(5, 1fr)",xl:"repeat(6, 1fr)"},gap:1.5},children:[n.map(V=>c.jsx(fr,{onClick:J=>{J.target.closest("button")||V.is_active&&e(`/image-generation/${V.id}/generate`)},sx:{height:"100%",minHeight:120,borderLeft:`3px solid ${V.color||"#2196f3"}`,transition:"all 0.2s ease-in-out",cursor:V.is_active?"pointer":"not-allowed",opacity:V.is_active?1:.6,"&:hover":{boxShadow:V.is_active?3:1,transform:V.is_active?"translateY(-2px)":"none"}},children:c.jsx(Ra,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:c.jsxs(fn,{spacing:1,children:[c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx(gt,{label:V.is_active?t("workflows:card.active"):t("workflows:card.inactive"),color:V.is_active?"success":"default",size:"small",sx:{height:"20px",fontSize:"0.7rem"}}),c.jsxs(ee,{sx:{display:"flex",gap:.25},onClick:J=>J.stopPropagation(),children:[c.jsx(ht,{size:"small",onClick:()=>e(`/image-generation/${V.id}/edit`),sx:{p:.5},children:c.jsx(yu,{sx:{fontSize:"1rem"}})}),c.jsx(ht,{size:"small",onClick:()=>M(V.id),color:"error",sx:{p:.5},children:c.jsx(Ia,{sx:{fontSize:"1rem"}})})]})]}),c.jsx(ae,{variant:"body2",sx:{fontWeight:600,fontSize:"0.813rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:V.name,children:V.name}),V.description&&c.jsx(ae,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:V.description}),c.jsxs(ee,{sx:{display:"flex",gap:.5,flexWrap:"wrap",alignItems:"center"},children:[V.marked_fields&&V.marked_fields.length>0&&c.jsx(gt,{label:`${V.marked_fields.length} `,size:"small",variant:"outlined",sx:{height:"18px",fontSize:"0.65rem"}}),c.jsx(ae,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.65rem"},children:new Date(V.created_date).toLocaleDateString()})]})]})})},V.id)),c.jsx(ee,{onClick:()=>e("/image-generation/new"),sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:120,border:"2px dashed",borderColor:"primary.main",borderRadius:2,cursor:"pointer",transition:"all 0.2s ease-in-out",bgcolor:V=>V.palette.mode==="dark"?"rgba(33, 150, 243, 0.05)":"rgba(33, 150, 243, 0.02)","&:hover":{bgcolor:V=>V.palette.mode==="dark"?"rgba(33, 150, 243, 0.15)":"rgba(33, 150, 243, 0.08)",borderColor:"primary.dark",transform:"scale(1.02)"}},children:c.jsx(ht,{color:"primary",sx:{width:56,height:56,bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark",transform:"rotate(90deg)"},transition:"all 0.3s ease-in-out"},children:c.jsx(Ws,{fontSize:"large"})})})]}),n.length===0&&c.jsxs(ee,{sx:{textAlign:"center",py:4},children:[c.jsx(ae,{variant:"body2",color:"text.secondary",children:t("workflows:page.noWorkflows")}),c.jsx(ae,{variant:"caption",color:"text.secondary",children:t("workflows:page.noWorkflowsDesc")})]})]}),c.jsx(bn,{sx:{my:4}}),c.jsxs(ee,{children:[c.jsxs(ae,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[c.jsx(aQ,{})," ",t("servers:page.listTitle")]}),m&&c.jsx(wt,{severity:"error",sx:{mb:2},onClose:()=>y(null),children:m}),c.jsxs(ee,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(4, 1fr)",lg:"repeat(5, 1fr)",xl:"repeat(6, 1fr)"},gap:1.5},children:[l.map(V=>c.jsx(fr,{sx:{height:"100%",minHeight:120,borderLeft:"3px solid #4caf50",transition:"all 0.2s ease-in-out","&:hover":{boxShadow:3,transform:"translateY(-2px)"}},children:c.jsx(Ra,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:c.jsxs(fn,{spacing:1,children:[c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx(gt,{label:V.is_active?t("servers:card.active"):t("servers:card.inactive"),color:V.is_active?"success":"default",size:"small",sx:{height:"20px",fontSize:"0.7rem"}}),c.jsxs(ee,{sx:{display:"flex",gap:.25},children:[c.jsx(ht,{size:"small",onClick:()=>U(V),sx:{p:.5},children:c.jsx(yu,{sx:{fontSize:"1rem"}})}),c.jsx(ht,{size:"small",onClick:()=>D(V.id),color:"error",sx:{p:.5},children:c.jsx(Ia,{sx:{fontSize:"1rem"}})})]})]}),c.jsx(ae,{variant:"body2",sx:{fontWeight:600,fontSize:"0.813rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:V.name,children:V.name}),c.jsx(ae,{variant:"caption",color:"text.secondary",sx:{fontFamily:"monospace",fontSize:"0.7rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:V.endpoint,children:V.endpoint}),V.description&&c.jsx(ae,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:V.description}),E[V.id]!==void 0&&c.jsx(ee,{sx:{display:"flex",alignItems:"center",gap:.5},children:E[V.id]?c.jsxs(c.Fragment,{children:[c.jsx(Cs,{color:"success",sx:{fontSize:"0.875rem"}}),c.jsx(ae,{variant:"caption",color:"success.main",sx:{fontSize:"0.7rem"},children:t("servers:card.connectionSuccess")})]}):c.jsxs(c.Fragment,{children:[c.jsx(gg,{color:"error",sx:{fontSize:"0.875rem"}}),c.jsx(ae,{variant:"caption",color:"error.main",sx:{fontSize:"0.7rem"},children:t("servers:card.connectionFailed")})]})}),c.jsx(Ze,{size:"small",onClick:()=>H(V.id),disabled:w===V.id,fullWidth:!0,sx:{mt:"auto",fontSize:"0.7rem",py:.5},children:w===V.id?c.jsx(Kt,{size:14}):t("servers:card.testConnection")})]})})},V.id)),c.jsx(ee,{onClick:()=>U(),sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:120,border:"2px dashed",borderColor:"success.main",borderRadius:2,cursor:"pointer",transition:"all 0.2s ease-in-out",bgcolor:V=>V.palette.mode==="dark"?"rgba(76, 175, 80, 0.05)":"rgba(76, 175, 80, 0.02)","&:hover":{bgcolor:V=>V.palette.mode==="dark"?"rgba(76, 175, 80, 0.15)":"rgba(76, 175, 80, 0.08)",borderColor:"success.dark",transform:"scale(1.02)"}},children:c.jsx(ht,{sx:{width:56,height:56,bgcolor:"success.main",color:"white","&:hover":{bgcolor:"success.dark",transform:"rotate(90deg)"},transition:"all 0.3s ease-in-out"},children:c.jsx(Ws,{fontSize:"large"})})})]}),l.length===0&&c.jsxs(ee,{sx:{textAlign:"center",py:4},children:[c.jsx(ae,{variant:"body2",color:"text.secondary",children:t("servers:page.noServers")}),c.jsx(ae,{variant:"caption",color:"text.secondary",children:t("servers:page.noServersDesc")})]})]}),c.jsxs(hr,{open:x,onClose:F,maxWidth:"sm",fullWidth:!0,children:[c.jsx(br,{children:t(_?"servers:dialog.editTitle":"servers:dialog.addTitle")}),c.jsx(yr,{children:c.jsxs(ee,{sx:{pt:2,display:"flex",flexDirection:"column",gap:2},children:[c.jsx(Lt,{label:t("servers:dialog.serverName"),fullWidth:!0,required:!0,value:j.name,onChange:V=>O({...j,name:V.target.value})}),c.jsx(Lt,{label:t("servers:dialog.endpointUrl"),fullWidth:!0,required:!0,placeholder:t("servers:dialog.endpointPlaceholder"),value:j.endpoint,onChange:V=>O({...j,endpoint:V.target.value})}),c.jsx(Lt,{label:t("servers:dialog.description"),fullWidth:!0,multiline:!0,rows:2,value:j.description,onChange:V=>O({...j,description:V.target.value})}),c.jsx(gr,{control:c.jsx(ii,{checked:j.is_active,onChange:V=>O({...j,is_active:V.target.checked})}),label:t("servers:dialog.activate")})]})}),c.jsxs(kr,{children:[c.jsx(Ze,{onClick:F,children:t("servers:dialog.cancel")}),c.jsx(Ze,{onClick:$,variant:"contained",disabled:!j.name||!j.endpoint,children:t(_?"servers:dialog.update":"servers:dialog.add")})]})]}),c.jsx(bn,{sx:{my:3}}),c.jsx(uGe,{})]})}function See(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=See(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function dw(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=See(t))&&(r&&(r+=" "),r+=e);return r}let fGe={data:""},hGe=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||fGe},pGe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,mGe=/\/\*[^]*?\*\/|  +/g,GB=/\n+/g,Fm=(t,e)=>{let n="",r="",a="";for(let i in t){let s=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+s+";":r+=i[1]=="f"?Fm(s,i):i+"{"+Fm(s,i[1]=="k"?"":e)+"}":typeof s=="object"?r+=Fm(s,e?e.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):i):s!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Fm.p?Fm.p(i,s):i+":"+s+";")}return n+(e&&a?e+"{"+a+"}":a)+r},wf={},_ee=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+_ee(t[n]);return e}return t},gGe=(t,e,n,r,a)=>{let i=_ee(t),s=wf[i]||(wf[i]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(i));if(!wf[s]){let l=i!==t?t:(u=>{let d,h,m=[{}];for(;d=pGe.exec(u.replace(mGe,""));)d[4]?m.shift():d[3]?(h=d[3].replace(GB," ").trim(),m.unshift(m[0][h]=m[0][h]||{})):m[0][d[1]]=d[2].replace(GB," ").trim();return m[0]})(t);wf[s]=Fm(a?{["@keyframes "+s]:l}:l,n?"":"."+s)}let o=n&&wf.g?wf.g:null;return n&&(wf.g=wf[s]),((l,u,d,h)=>{h?u.data=u.data.replace(h,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(wf[s],e,r,o),s},yGe=(t,e,n)=>t.reduce((r,a,i)=>{let s=e[i];if(s&&s.call){let o=s(n),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;s=l?"."+l:o&&typeof o=="object"?o.props?"":Fm(o,""):o===!1?"":o}return r+a+(s??"")},"");function xD(t){let e=this||{},n=t.call?t(e.p):t;return gGe(n.unshift?n.raw?yGe(n,[].slice.call(arguments,1),e.p):n.reduce((r,a)=>Object.assign(r,a&&a.call?a(e.p):a),{}):n,hGe(e.target),e.g,e.o,e.k)}xD.bind({g:1});xD.bind({k:1});function bGe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xGe(t,e,n){return e&&bGe(t.prototype,e),t}function up(){return up=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},up.apply(this,arguments)}function vGe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function vD(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}var qB=function(){return""},SGe=je.createContext({enqueueSnackbar:qB,closeSnackbar:qB}),Mm={downXs:"@media (max-width:599.95px)",upSm:"@media (min-width:600px)"},a4="unmounted",h1="exited",p1="entering",Fx="entered",VB="exiting",SD=(function(t){vGe(e,t);function e(r){var a;a=t.call(this,r)||this;var i=r.appear,s;return a.appearStatus=null,r.in?i?(s=h1,a.appearStatus=p1):s=Fx:r.unmountOnExit||r.mountOnEnter?s=a4:s=h1,a.state={status:s},a.nextCallback=null,a}e.getDerivedStateFromProps=function(a,i){var s=a.in;return s&&i.status===a4?{status:h1}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(a){var i=null;if(a!==this.props){var s=this.state.status;this.props.in?s!==p1&&s!==Fx&&(i=p1):(s===p1||s===Fx)&&(i=VB)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var a=this.props.timeout,i=a,s=a;return a!=null&&typeof a!="number"&&typeof a!="string"&&(s=a.exit,i=a.enter),{exit:s,enter:i}},n.updateStatus=function(a,i){a===void 0&&(a=!1),i!==null?(this.cancelNextCallback(),i===p1?this.performEnter(a):this.performExit()):this.props.unmountOnExit&&this.state.status===h1&&this.setState({status:a4})},n.performEnter=function(a){var i=this,s=this.props.enter,o=a,l=this.getTimeouts();if(!a&&!s){this.safeSetState({status:Fx},function(){i.props.onEntered&&i.props.onEntered(i.node,o)});return}this.props.onEnter&&this.props.onEnter(this.node,o),this.safeSetState({status:p1},function(){i.props.onEntering&&i.props.onEntering(i.node,o),i.onTransitionEnd(l.enter,function(){i.safeSetState({status:Fx},function(){i.props.onEntered&&i.props.onEntered(i.node,o)})})})},n.performExit=function(){var a=this,i=this.props.exit,s=this.getTimeouts();if(!i){this.safeSetState({status:h1},function(){a.props.onExited&&a.props.onExited(a.node)});return}this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:VB},function(){a.props.onExiting&&a.props.onExiting(a.node),a.onTransitionEnd(s.exit,function(){a.safeSetState({status:h1},function(){a.props.onExited&&a.props.onExited(a.node)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(a,i){i=this.setNextCallback(i),this.setState(a,i)},n.setNextCallback=function(a){var i=this,s=!0;return this.nextCallback=function(){s&&(s=!1,i.nextCallback=null,a())},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(a,i){this.setNextCallback(i);var s=a==null&&!this.props.addEndListener;if(!this.node||s){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),a!=null&&setTimeout(this.nextCallback,a)},n.render=function(){var a=this.state.status;if(a===a4)return null;var i=this.props,s=i.children,o=vD(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return s(a,o)},xGe(e,[{key:"node",get:function(){var a,i=(a=this.props.nodeRef)===null||a===void 0?void 0:a.current;if(!i)throw new Error("notistack - Custom snackbar is not refForwarding");return i}}]),e})(je.Component);function m1(){}SD.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:m1,onEntering:m1,onEntered:m1,onExit:m1,onExiting:m1,onExited:m1};function WB(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function XI(t,e){return A.useMemo(function(){return t==null&&e==null?null:function(n){WB(t,n),WB(e,n)}},[t,e])}function zC(t){var e=t.timeout,n=t.style,r=n===void 0?{}:n,a=t.mode;return{duration:typeof e=="object"?e[a]||0:e,easing:r.transitionTimingFunction,delay:r.transitionDelay}}var QI={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Cee=function(e){e.scrollTop=e.scrollTop},YB=function(e){return Math.round(e)+"ms"};function j1(t,e){t===void 0&&(t=["all"]);var n=e||{},r=n.duration,a=r===void 0?300:r,i=n.easing,s=i===void 0?QI.easeInOut:i,o=n.delay,l=o===void 0?0:o,u=Array.isArray(t)?t:[t];return u.map(function(d){var h=typeof a=="string"?a:YB(a),m=typeof l=="string"?l:YB(l);return d+" "+h+" "+s+" "+m}).join(",")}function _Ge(t){return t&&t.ownerDocument||document}function wee(t){var e=_Ge(t);return e.defaultView||window}function CGe(t,e){e===void 0&&(e=166);var n;function r(){for(var a=this,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];var l=function(){t.apply(a,s)};clearTimeout(n),n=setTimeout(l,e)}return r.clear=function(){clearTimeout(n)},r}function wGe(t,e){var n=e.getBoundingClientRect(),r=wee(e),a;if(e.fakeTransform)a=e.fakeTransform;else{var i=r.getComputedStyle(e);a=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform")}var s=0,o=0;if(a&&a!=="none"&&typeof a=="string"){var l=a.split("(")[1].split(")")[0].split(",");s=parseInt(l[4],10),o=parseInt(l[5],10)}switch(t){case"left":return"translateX("+(r.innerWidth+s-n.left)+"px)";case"right":return"translateX(-"+(n.left+n.width-s)+"px)";case"up":return"translateY("+(r.innerHeight+o-n.top)+"px)";default:return"translateY(-"+(n.top+n.height-o)+"px)"}}function i4(t,e){if(e){var n=wGe(t,e);n&&(e.style.webkitTransform=n,e.style.transform=n)}}var EGe=A.forwardRef(function(t,e){var n=t.children,r=t.direction,a=r===void 0?"down":r,i=t.in,s=t.style,o=t.timeout,l=o===void 0?0:o,u=t.onEnter,d=t.onEntered,h=t.onExit,m=t.onExited,y=vD(t,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),x=A.useRef(null),v=XI(n.ref,x),_=XI(v,e),C=function(O,z){i4(a,O),Cee(O),u&&u(O,z)},w=function(O){var z=s?.transitionTimingFunction||QI.easeOut,M=zC({timeout:l,mode:"enter",style:up({},s,{transitionTimingFunction:z})});O.style.webkitTransition=j1("-webkit-transform",M),O.style.transition=j1("transform",M),O.style.webkitTransform="none",O.style.transform="none"},T=function(O){var z=s?.transitionTimingFunction||QI.sharp,M=zC({timeout:l,mode:"exit",style:up({},s,{transitionTimingFunction:z})});O.style.webkitTransition=j1("-webkit-transform",M),O.style.transition=j1("transform",M),i4(a,O),h&&h(O)},E=function(O){O.style.webkitTransition="",O.style.transition="",m&&m(O)},k=A.useCallback(function(){x.current&&i4(a,x.current)},[a]);return A.useEffect(function(){if(!(i||a==="down"||a==="right")){var j=CGe(function(){x.current&&i4(a,x.current)}),O=wee(x.current);return O.addEventListener("resize",j),function(){j.clear(),O.removeEventListener("resize",j)}}},[a,i]),A.useEffect(function(){i||k()},[i,k]),A.createElement(SD,Object.assign({appear:!0,nodeRef:x,onEnter:C,onEntered:d,onEntering:w,onExit:T,onExited:E,in:i,timeout:l},y),function(j,O){return A.cloneElement(n,up({ref:_,style:up({visibility:j==="exited"&&!i?"hidden":void 0},s,{},n.props.style)},O))})});EGe.displayName="Slide";function fw(t){return Object.entries(t).reduce(function(e,n){var r,a=n[0],i=n[1];return up({},e,(r={},r[a]=xD(i),r))},{})}var Ev={SnackbarContainer:"notistack-SnackbarContainer",Snackbar:"notistack-Snackbar",CollapseWrapper:"notistack-CollapseWrapper",MuiContent:"notistack-MuiContent",MuiContentVariant:function(e){return"notistack-MuiContent-"+e}},KB=fw({root:{height:0},entered:{height:"auto"}}),i6="0px",s6=175,TGe=A.forwardRef(function(t,e){var n=t.children,r=t.in,a=t.onExited,i=A.useRef(null),s=A.useRef(null),o=XI(e,s),l=function(){return i.current?i.current.clientHeight:0},u=function(v){v.style.height=i6},d=function(v){var _=l(),C=zC({timeout:s6,mode:"enter"}),w=C.duration,T=C.easing;v.style.transitionDuration=typeof w=="string"?w:w+"ms",v.style.height=_+"px",v.style.transitionTimingFunction=T||""},h=function(v){v.style.height="auto"},m=function(v){v.style.height=l()+"px"},y=function(v){Cee(v);var _=zC({timeout:s6,mode:"exit"}),C=_.duration,w=_.easing;v.style.transitionDuration=typeof C=="string"?C:C+"ms",v.style.height=i6,v.style.transitionTimingFunction=w||""};return A.createElement(SD,{in:r,unmountOnExit:!0,onEnter:u,onEntered:h,onEntering:d,onExit:m,onExited:a,onExiting:y,nodeRef:s,timeout:s6},function(x,v){return A.createElement("div",Object.assign({ref:o,className:dw(KB.root,x==="entered"&&KB.entered),style:up({pointerEvents:"all",overflow:"hidden",minHeight:i6,transition:j1("height")},x==="entered"&&{overflow:"visible"},{},x==="exited"&&!r&&{visibility:"hidden"})},v),A.createElement("div",{ref:i,className:Ev.CollapseWrapper,style:{display:"flex",width:"100%"}},n))})});TGe.displayName="Collapse";var AGe=typeof window<"u"?A.useLayoutEffect:A.useEffect;function XB(t){var e=A.useRef(t);return AGe(function(){e.current=t}),A.useCallback(function(){return e.current.apply(void 0,arguments)},[])}var RGe=A.forwardRef(function(t,e){var n=t.children,r=t.className,a=t.autoHideDuration,i=t.disableWindowBlurListener,s=i===void 0?!1:i,o=t.onClose,l=t.id,u=t.open,d=t.SnackbarProps,h=d===void 0?{}:d,m=A.useRef(),y=XB(function(){o&&o.apply(void 0,arguments)}),x=XB(function(T){!o||T==null||(m.current&&clearTimeout(m.current),m.current=setTimeout(function(){y(null,"timeout",l)},T))});A.useEffect(function(){return u&&x(a),function(){m.current&&clearTimeout(m.current)}},[u,a,x]);var v=function(){m.current&&clearTimeout(m.current)},_=A.useCallback(function(){a!=null&&x(a*.5)},[a,x]),C=function(E){h.onMouseEnter&&h.onMouseEnter(E),v()},w=function(E){h.onMouseLeave&&h.onMouseLeave(E),_()};return A.useEffect(function(){if(!s&&u)return window.addEventListener("focus",_),window.addEventListener("blur",v),function(){window.removeEventListener("focus",_),window.removeEventListener("blur",v)}},[s,_,u]),A.createElement("div",Object.assign({ref:e},h,{className:dw(Ev.Snackbar,r),onMouseEnter:C,onMouseLeave:w}),n)});RGe.displayName="Snackbar";var o6,kGe=fw({root:(o6={display:"flex",flexWrap:"wrap",flexGrow:1},o6[Mm.upSm]={flexGrow:"initial",minWidth:"288px"},o6)}),Eee=A.forwardRef(function(t,e){var n=t.className,r=vD(t,["className"]);return je.createElement("div",Object.assign({ref:e,className:dw(kGe.root,n)},r))});Eee.displayName="SnackbarContent";var Bx=fw({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:8*2.5+"px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),QB="notistack-snackbar",IGe=A.forwardRef(function(t,e){var n=t.id,r=t.message,a=t.action,i=t.iconVariant,s=t.variant,o=t.hideIconVariant,l=t.style,u=t.className,d=i[s],h=a;return typeof h=="function"&&(h=h(n)),je.createElement(Eee,{ref:e,role:"alert","aria-describedby":QB,style:l,className:dw(Ev.MuiContent,Ev.MuiContentVariant(s),Bx.root,Bx[s],u,!o&&d&&Bx.lessPadding)},je.createElement("div",{id:QB,className:Bx.message},o?null:d,r),h&&je.createElement("div",{className:Bx.action},h))});IGe.displayName="MaterialDesignContent";var Hx,l6,s4,o4,c6,Ef={view:{default:20},snackbar:{default:6,dense:2}},ZB="."+Ev.CollapseWrapper,u6=16;Hx={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:j1(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"},Hx[ZB]={padding:Ef.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},Hx.maxWidth="calc(100% - "+Ef.view.default*2+"px)",Hx[Mm.downXs]={width:"100%",maxWidth:"calc(100% - "+u6*2+"px)"},l6={},l6[ZB]={padding:Ef.snackbar.dense+"px 0px"},Ef.view.default-Ef.snackbar.default+"",Ef.view.default-Ef.snackbar.default+"",s4={left:Ef.view.default+"px"},s4[Mm.upSm]={alignItems:"flex-start"},s4[Mm.downXs]={left:u6+"px"},o4={right:Ef.view.default+"px"},o4[Mm.upSm]={alignItems:"flex-end"},o4[Mm.downXs]={right:u6+"px"},c6={left:"50%",transform:"translateX(-50%)"},c6[Mm.upSm]={alignItems:"center"};var jGe=(function(){return A.useContext(SGe)});function OGe(){const{t}=qt(["wildcards","common"]),[e,n]=A.useState(1),[r,a]=A.useState("number"),[i,s]=A.useState("filename"),[o,l]=A.useState("add.txt"),[u,d]=A.useState("filename"),[h,m]=A.useState(!1),[y,x]=A.useState(null),[v,_]=A.useState([]),[C,w]=A.useState([]),[T,E]=A.useState(!0),[k,j]=A.useState(0),[O,z]=A.useState(""),[M,N]=A.useState(null),[U,F]=A.useState(!1),[$,D]=A.useState(!1);A.useEffect(()=>{H(),L()},[]);const H=async()=>{try{E(!0);const de=(await vd.getAllWildcards(!0)).data.filter(pe=>pe.is_auto_collected===1);w(de)}catch(le){console.error("Error loading auto wildcards:",le)}finally{E(!1)}},L=async()=>{try{const le=await vd.getLastScanLog();N(le.data)}catch(le){console.error("Error loading last scan log:",le)}},V=le=>Math.floor(le/1e5),J=C.filter(le=>{const de=V(le.id);if(k!==0&&de!==k)return!1;if(O.trim()!==""){const pe=O.toLowerCase();return le.name.toLowerCase().includes(pe)}return!0}),Q=()=>{j(le=>Math.min(le+1,9))},K=()=>{j(le=>Math.max(le-1,0))},q=()=>{j(0),z("")},Z=k!==0||O.trim()!=="",Y=async le=>{const de=le.target.files;if(!de||de.length===0)return;x(null);const pe=[],ve=new Map;if(i==="common")for(let ge=0;ge<de.length;ge++){const oe=de[ge];if(oe.name===o){const be=oe.webkitRelativePath.split("/").slice(0,-1).join("/");try{const Me=(await oe.text()).split(`
`).map(Pe=>Pe.trim()).filter(Pe=>Pe.length>0);ve.set(be,Me)}catch(Ae){console.error("Error reading common text file:",Ae)}}}for(let ge=0;ge<de.length;ge++){const oe=de[ge],Se=oe.webkitRelativePath.split("/");if(oe.name.endsWith(".safetensors")){const be=oe.name.replace(".safetensors",""),Ae=Se.slice(1,-1).join("/")||Se[0],Me=Se.slice(0,-1).join("/");let Pe=[];if(i==="filename"){const Le=be+".txt";for(let Oe=0;Oe<de.length;Oe++){const Xe=de[Oe];if(Xe.webkitRelativePath===oe.webkitRelativePath.replace(oe.name,Le)){try{Pe=(await Xe.text()).split(`
`).map(Ie=>Ie.trim()).filter(Ie=>Ie.length>0)}catch(ke){console.error("Error reading txt file:",ke)}break}}}else if(u==="common")if(ve.has(Me))Pe=ve.get(Me);else{const Le=be+".txt";for(let Oe=0;Oe<de.length;Oe++){const Xe=de[Oe];if(Xe.webkitRelativePath===oe.webkitRelativePath.replace(oe.name,Le)){try{Pe=(await Xe.text()).split(`
`).map(Ie=>Ie.trim()).filter(Ie=>Ie.length>0)}catch(ke){console.error("Error reading txt file:",ke)}break}}}else{const Le=be+".txt";let Oe=!1;for(let Xe=0;Xe<de.length;Xe++){const ke=de[Xe];if(ke.webkitRelativePath===oe.webkitRelativePath.replace(oe.name,Le)){try{Pe=(await ke.text()).split(`
`).map(ye=>ye.trim()).filter(ye=>ye.length>0),Oe=!0}catch(Ie){console.error("Error reading txt file:",Ie)}break}}!Oe&&ve.has(Me)&&(Pe=ve.get(Me))}pe.push({folderName:Ae,loraName:be,promptLines:Pe})}}_(pe)},ne=async()=>{if(v.length===0){x(t("wildcards:autoCollect.errors.folderPathRequired"));return}if(e<.1||e>2){x(t("wildcards:autoCollect.errors.invalidWeight"));return}try{m(!0),x(null);const le={loraFiles:v,loraWeight:e,duplicateHandling:r,matchingMode:i,commonTextFilename:o,matchingPriority:u},de=await vd.scanLoraFolder(le);await H(),await L(),F(!1),_([]),alert(`${t("common:success")}! ${de.data.created} ${t("wildcards:autoCollect.scanLog.totalWildcards")}`)}catch(le){x(t("wildcards:autoCollect.errors.scanFailed",{error:le.response?.data?.error||le.message}))}finally{m(!1)}},re=()=>{x(null),_([]),F(!0)},ie=()=>{h||(F(!1),x(null),_([]))},ce=()=>{D(!0)},he=()=>{D(!1)},me=async le=>{if(confirm(t("common:confirmDelete")))try{await vd.deleteWildcard(le),await H(),await L()}catch(de){alert(t("common:error")+": "+(de.response?.data?.error||de.message))}};return T?c.jsx(ee,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:c.jsx(Kt,{})}):c.jsxs(ee,{children:[c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[c.jsx(ae,{variant:"h6",children:t("wildcards:tabs.autoCollected")}),c.jsxs(ee,{sx:{display:"flex",gap:1},children:[M&&c.jsx(Ze,{variant:"outlined",size:"small",startIcon:c.jsx(pC,{}),onClick:ce,color:"secondary",children:t("wildcards:buttons.openLogDialog")}),c.jsx(Ze,{variant:"outlined",size:"small",startIcon:c.jsx(uv,{}),onClick:re,color:"primary",children:t("wildcards:buttons.openScanDialog")})]})]}),C.length>0&&c.jsx(Yt,{sx:{p:2,mb:3},children:c.jsxs(fn,{spacing:2,children:[c.jsxs(ee,{sx:{display:"flex",gap:2,alignItems:"flex-start",flexWrap:"wrap"},children:[c.jsxs(ee,{sx:{minWidth:200},children:[c.jsx(ae,{variant:"subtitle2",sx:{mb:1},children:" "}),c.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(ht,{size:"small",onClick:K,disabled:k===0,sx:{border:"1px solid",borderColor:"divider"},children:c.jsx(XRe,{fontSize:"small"})}),c.jsx(Lt,{value:k,onChange:le=>{const de=parseInt(le.target.value)||0;j(Math.max(0,Math.min(9,de)))},type:"number",size:"small",sx:{width:80},inputProps:{min:0,max:9,style:{textAlign:"center"}}}),c.jsx(ht,{size:"small",onClick:Q,disabled:k===9,sx:{border:"1px solid",borderColor:"divider"},children:c.jsx(Ws,{fontSize:"small"})})]})]}),c.jsxs(ee,{sx:{flex:1,minWidth:150},children:[c.jsx(ae,{variant:"subtitle2",sx:{mb:1},children:" "}),c.jsx(Lt,{fullWidth:!0,size:"small",placeholder:"...",value:O,onChange:le=>z(le.target.value),InputProps:{startAdornment:c.jsx(qf,{sx:{mr:1,color:"text.secondary"}})}})]}),Z&&c.jsx(ee,{sx:{display:"flex",alignItems:"flex-end"},children:c.jsx(Ze,{variant:"outlined",size:"small",startIcon:c.jsx(Ey,{}),onClick:q,sx:{height:40},children:" "})})]}),c.jsx(ee,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:c.jsxs(ae,{variant:"body2",color:"text.secondary",children:[" ",c.jsx("strong",{children:C.length})," ",Z&&c.jsxs("span",{children:[" ","(: ",c.jsx("strong",{children:J.length}),")"]})]})})]})}),C.length===0?c.jsxs(Yt,{sx:{p:4,textAlign:"center"},children:[c.jsx(ae,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:t("wildcards:autoCollect.noAutoWildcards")}),c.jsx(ae,{variant:"body2",color:"text.secondary",children:t("wildcards:autoCollect.noAutoWildcardsDesc")})]}):J.length===0?c.jsxs(Yt,{sx:{p:4,textAlign:"center"},children:[c.jsx(ae,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"  "}),c.jsx(ae,{variant:"body2",color:"text.secondary",children:"   "})]}):c.jsx(fn,{spacing:2,children:J.map(le=>c.jsx(fr,{variant:"outlined",children:c.jsxs(Ra,{children:[c.jsxs(fn,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[c.jsxs(ee,{flex:1,children:[c.jsxs(fn,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[c.jsxs(ae,{variant:"h6",children:["++",le.name,"++"]}),c.jsx(gt,{label:t("wildcards:autoCollect.autoCollectedBadge"),size:"small",color:"primary",variant:"outlined"}),c.jsx(gt,{label:` ${V(le.id)}`,size:"small",color:"secondary",variant:"outlined"})]}),le.description&&c.jsx(ae,{variant:"body2",color:"text.secondary",sx:{mb:2},children:le.description}),c.jsxs(ae,{variant:"body2",color:"text.secondary",children:[le.items.filter(de=>de.tool==="comfyui").length," ComfyUI"," ",t("wildcards:card.items",{count:le.items.filter(de=>de.tool==="comfyui").length})]})]}),c.jsx(ht,{color:"error",onClick:()=>me(le.id),children:c.jsx(Ia,{})})]}),c.jsxs(ee,{sx:{mt:2},children:[le.items.filter(de=>de.tool==="comfyui").slice(0,3).map((de,pe)=>c.jsx(ae,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.85em",color:"text.secondary",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:de.content},pe)),le.items.filter(de=>de.tool==="comfyui").length>3&&c.jsx(ae,{variant:"body2",color:"text.secondary",sx:{mt:1},children:t("wildcards:card.moreItems",{count:le.items.filter(de=>de.tool==="comfyui").length-3})})]})]})},le.id))}),c.jsxs(hr,{open:U,onClose:ie,maxWidth:"md",fullWidth:!0,children:[c.jsx(br,{children:t("wildcards:scanDialog.title")}),c.jsxs(yr,{children:[y&&c.jsx(wt,{severity:"error",sx:{mb:2},onClose:()=>x(null),children:y}),c.jsxs(ee,{sx:{display:"flex",flexDirection:"column",gap:2,pt:1},children:[c.jsx(wt,{severity:"info",children:t("wildcards:scanDialog.infoMessage")}),c.jsx("input",{type:"file",id:"lora-folder-input-dialog",style:{display:"none"},webkitdirectory:"",directory:"",multiple:!0,onChange:Y}),c.jsx("label",{htmlFor:"lora-folder-input-dialog",children:c.jsx(Ze,{variant:"contained",component:"span",fullWidth:!0,size:"large",startIcon:c.jsx(bu,{}),children:v.length>0?`${v.length} LORA  `:t("wildcards:autoCollect.folderPath")})}),v.length>0&&c.jsxs(wt,{severity:"success",children:[c.jsxs("strong",{children:[v.length," LORA "]})," :",c.jsxs(ee,{component:"ul",sx:{mt:1,mb:0},children:[v.slice(0,5).map((le,de)=>c.jsxs("li",{children:[c.jsx("strong",{children:le.loraName}),le.promptLines.length>0&&` (${le.promptLines.length} )`]},de)),v.length>5&&c.jsxs("li",{children:["... ",v.length-5," "]})]})]}),c.jsx(Lt,{fullWidth:!0,type:"number",label:t("wildcards:autoCollect.loraWeight"),value:e,onChange:le=>n(parseFloat(le.target.value)),helperText:t("wildcards:autoCollect.loraWeightHelper"),inputProps:{min:.1,max:2,step:.1}}),c.jsxs(ba,{component:"fieldset",children:[c.jsx(A2,{component:"legend",children:t("wildcards:autoCollect.duplicateHandling")}),c.jsxs(I4,{value:r,onChange:le=>a(le.target.value),children:[c.jsx(gr,{value:"number",control:c.jsx(Rf,{}),label:t("wildcards:autoCollect.duplicateNumber")}),c.jsx(gr,{value:"parent",control:c.jsx(Rf,{}),label:t("wildcards:autoCollect.duplicateParent")})]})]}),c.jsxs(ba,{component:"fieldset",children:[c.jsx(A2,{component:"legend",children:t("wildcards:autoCollect.matchingMode")}),c.jsxs(I4,{value:i,onChange:le=>s(le.target.value),children:[c.jsx(gr,{value:"filename",control:c.jsx(Rf,{}),label:t("wildcards:autoCollect.matchingModeFilename")}),c.jsx(gr,{value:"common",control:c.jsx(Rf,{}),label:t("wildcards:autoCollect.matchingModeCommon")})]})]}),i==="common"&&c.jsxs(c.Fragment,{children:[c.jsx(Lt,{fullWidth:!0,label:t("wildcards:autoCollect.commonTextFilename"),value:o,onChange:le=>l(le.target.value),helperText:t("wildcards:autoCollect.commonTextFilenameHelper")}),c.jsxs(ba,{component:"fieldset",children:[c.jsx(A2,{component:"legend",children:t("wildcards:autoCollect.matchingPriority")}),c.jsxs(I4,{value:u,onChange:le=>d(le.target.value),children:[c.jsx(gr,{value:"filename",control:c.jsx(Rf,{}),label:t("wildcards:autoCollect.priorityFilename")}),c.jsx(gr,{value:"common",control:c.jsx(Rf,{}),label:t("wildcards:autoCollect.priorityCommon")})]})]})]}),c.jsxs(wt,{severity:"warning",children:[c.jsx("strong",{children:t("wildcards:scanDialog.warningTitle")}),c.jsxs(ee,{component:"ul",sx:{mt:1,mb:0},children:[c.jsx("li",{children:t("wildcards:scanDialog.warning1")}),c.jsx("li",{children:t("wildcards:scanDialog.warning2")}),c.jsx("li",{children:t("wildcards:scanDialog.warning3")})]})]})]})]}),c.jsxs(kr,{children:[c.jsx(Ze,{onClick:ie,disabled:h,children:t("common:cancel")}),c.jsx(Ze,{onClick:ne,variant:"contained",disabled:v.length===0||h,startIcon:h?c.jsx(Kt,{size:16}):c.jsx(uv,{}),children:t(h?"wildcards:autoCollect.scanning":"wildcards:scanDialog.scanButton")})]})]}),c.jsxs(hr,{open:$,onClose:he,maxWidth:"sm",fullWidth:!0,children:[c.jsx(br,{children:t("wildcards:logDialog.title")}),c.jsx(yr,{children:M&&c.jsxs(fn,{spacing:2,sx:{pt:1},children:[c.jsxs(ee,{children:[c.jsx(ae,{variant:"subtitle2",color:"text.secondary",children:t("wildcards:autoCollect.scanLog.timestamp")}),c.jsx(ae,{children:new Date(M.timestamp).toLocaleString()})]}),c.jsxs(fn,{direction:"row",spacing:4,children:[c.jsxs(ee,{children:[c.jsx(ae,{variant:"subtitle2",color:"text.secondary",children:t("wildcards:autoCollect.scanLog.totalWildcards")}),c.jsx(ae,{variant:"h6",children:M.totalWildcards})]}),c.jsxs(ee,{children:[c.jsx(ae,{variant:"subtitle2",color:"text.secondary",children:t("wildcards:autoCollect.scanLog.totalItems")}),c.jsx(ae,{variant:"h6",children:M.totalItems})]})]}),c.jsx(bn,{}),c.jsx(ae,{variant:"subtitle2",children:t("wildcards:autoCollect.scanLog.details")}),c.jsx(Ff,{dense:!0,children:M.wildcards.map(le=>c.jsx(Bf,{children:c.jsx(Ss,{primary:`++${le.name}++`,secondary:`${le.folderName} (${le.itemCount} ${t("wildcards:autoCollect.scanLog.itemCount")})`})},le.id))})]})}),c.jsx(kr,{children:c.jsx(Ze,{onClick:he,children:t("common:close")})})]})]})}function FC(t){const e=bt.c(13);let n,r,a,i;e[0]!==t?({children:n,value:i,index:r,...a}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i):(n=e[1],r=e[2],a=e[3],i=e[4]);const s=i!==r;let o;e[5]!==n||e[6]!==r||e[7]!==i?(o=i===r&&c.jsx(ee,{sx:{pt:2},children:n}),e[5]=n,e[6]=r,e[7]=i,e[8]=o):o=e[8];let l;return e[9]!==a||e[10]!==s||e[11]!==o?(l=c.jsx("div",{role:"tabpanel",hidden:s,...a,children:o}),e[9]=a,e[10]=s,e[11]=o,e[12]=l):l=e[12],l}function DGe(){const{t}=qt(["wildcards","common"]),{enqueueSnackbar:e}=jGe(),[n,r]=A.useState([]),[a,i]=A.useState(!0),[s,o]=A.useState(null),[l,u]=A.useState(!1),[d,h]=A.useState(null),[m,y]=A.useState(0),[x,v]=A.useState({name:"",description:"",comfyuiItems:[""],naiItems:[""]}),[_,C]=A.useState(!1),[w,T]=A.useState("comfyui"),[E,k]=A.useState(""),[j,O]=A.useState([]),[z,M]=A.useState(!1);A.useEffect(()=>{N()},[]);const N=async()=>{try{i(!0);const Z=((await vd.getAllWildcards(!0)).data||[]).filter(Y=>Y.is_auto_collected!==1);r(Z),o(null)}catch(q){o(q.response?.data?.error||q.message)}finally{i(!1)}},U=q=>{if(q){h(q);const Z=q.items.filter(ne=>ne.tool==="comfyui").map(ne=>ne.content),Y=q.items.filter(ne=>ne.tool==="nai").map(ne=>ne.content);v({name:q.name,description:q.description||"",comfyuiItems:Z.length>0?Z:[""],naiItems:Y.length>0?Y:[""]})}else h(null),v({name:"",description:"",comfyuiItems:[""],naiItems:[""]});y(0),u(!0)},F=()=>{u(!1),h(null),y(0)},$=async()=>{try{const q=x.comfyuiItems.filter(ne=>ne.trim()!==""),Z=x.naiItems.filter(ne=>ne.trim()!=="");if(!x.name.trim()){o(t("wildcards:errors.nameRequired"));return}if(q.length===0&&Z.length===0){o(t("wildcards:errors.itemsRequired"));return}const Y={comfyui:q,nai:Z};if(d&&d.id>0){const ne={name:x.name.trim(),description:x.description.trim()||void 0,items:Y},re=await vd.updateWildcard(d.id,ne);re.warning&&o(re.warning)}else{const ne={name:x.name.trim(),description:x.description.trim()||void 0,items:Y},re=await vd.createWildcard(ne);re.warning&&o(re.warning)}F(),N()}catch(q){o(q.response?.data?.error||q.message)}},D=async(q,Z)=>{if(confirm(t("wildcards:actions.confirmDelete",{name:Z})))try{await vd.deleteWildcard(q),N()}catch(Y){o(Y.response?.data?.error||Y.message)}},H=async q=>{try{await navigator.clipboard.writeText(`++${q}++`),e(t("wildcards:actions.copiedToClipboard"),{variant:"success"})}catch{e(t("wildcards:errors.copyFailed"),{variant:"error"})}},L=q=>{v(Z=>({...Z,[q==="comfyui"?"comfyuiItems":"naiItems"]:[...q==="comfyui"?Z.comfyuiItems:Z.naiItems,""]}))},V=(q,Z)=>{v(Y=>({...Y,[q==="comfyui"?"comfyuiItems":"naiItems"]:(q==="comfyui"?Y.comfyuiItems:Y.naiItems).filter((ne,re)=>re!==Z)}))},J=(q,Z,Y)=>{v(ne=>({...ne,[q==="comfyui"?"comfyuiItems":"naiItems"]:(q==="comfyui"?ne.comfyuiItems:ne.naiItems).map((re,ie)=>ie===Z?Y:re)}))},Q=async()=>{if(!E.trim()){o(t("wildcards:errors.previewTextRequired"));return}try{M(!0);const q=await vd.parseWildcards({text:E,tool:w,count:5});O(q.data.results)}catch(q){o(q.response?.data?.error||q.message)}finally{M(!1)}},K=(q,Z)=>q.items.filter(Y=>Y.tool===Z).length;return a?c.jsx(ee,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:c.jsx(Kt,{})}):c.jsxs(ee,{children:[c.jsxs(ee,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[c.jsx(ae,{variant:"h6",children:t("wildcards:page.title")}),c.jsxs(ee,{sx:{display:"flex",gap:2},children:[c.jsx(Ze,{variant:"contained",startIcon:c.jsx(Ws,{}),onClick:()=>U(),children:t("wildcards:actions.add")}),c.jsx(Ze,{variant:"outlined",startIcon:c.jsx(pp,{}),onClick:()=>C(!0),children:t("wildcards:actions.preview")})]})]}),s&&c.jsx(wt,{severity:"error",sx:{mb:2},onClose:()=>o(null),children:s}),c.jsxs(fn,{spacing:2,children:[n.map(q=>c.jsx(fr,{children:c.jsxs(Ra,{children:[c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[c.jsxs(ee,{children:[c.jsxs(ae,{variant:"h6",component:"div",onClick:()=>H(q.name),sx:{cursor:"pointer","&:hover":{color:"primary.main",textDecoration:"underline"}},children:["++",q.name,"++"]}),q.description&&c.jsx(ae,{variant:"body2",color:"text.secondary",children:q.description})]}),c.jsxs(ee,{sx:{display:"flex",gap:1},children:[c.jsx(ht,{size:"small",onClick:()=>H(q.name),children:c.jsx(Qv,{fontSize:"small"})}),c.jsx(ht,{size:"small",onClick:()=>U(q),children:c.jsx(yu,{fontSize:"small"})}),c.jsx(ht,{size:"small",color:"error",onClick:()=>D(q.id,q.name),children:c.jsx(Ia,{fontSize:"small"})})]})]}),c.jsxs(ee,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[c.jsx(gt,{label:`ComfyUI: ${K(q,"comfyui")}${t("wildcards:card.itemsCount")}`,size:"small",color:"primary",variant:"outlined"}),c.jsx(gt,{label:`NAI: ${K(q,"nai")}${t("wildcards:card.itemsCount")}`,size:"small",color:"secondary",variant:"outlined"})]})]})},q.id)),n.length===0&&c.jsxs(ee,{sx:{textAlign:"center",py:8},children:[c.jsx(ae,{variant:"h6",color:"text.secondary",children:t("wildcards:page.noWildcards")}),c.jsx(ae,{variant:"body2",color:"text.secondary",sx:{mt:1},children:t("wildcards:page.noWildcardsDesc")})]})]}),c.jsxs(hr,{open:l,onClose:F,maxWidth:"md",fullWidth:!0,children:[c.jsx(br,{children:t(d?"wildcards:dialog.editTitle":"wildcards:dialog.createTitle")}),c.jsx(yr,{children:c.jsxs(fn,{spacing:2,sx:{mt:1},children:[c.jsx(Lt,{label:t("wildcards:form.name"),value:x.name,onChange:q=>v(Z=>({...Z,name:q.target.value})),fullWidth:!0,helperText:t("wildcards:form.nameHelper")}),c.jsx(Lt,{label:t("wildcards:form.description"),value:x.description,onChange:q=>v(Z=>({...Z,description:q.target.value})),fullWidth:!0,multiline:!0,rows:2}),c.jsx(bn,{}),c.jsxs(ee,{children:[c.jsxs(nl,{value:m,onChange:(q,Z)=>y(Z),children:[c.jsx(Vn,{label:"ComfyUI"}),c.jsx(Vn,{label:"NovelAI"})]}),c.jsx(FC,{value:m,index:0,children:c.jsxs(ee,{children:[c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[c.jsx(ae,{variant:"subtitle2",children:t("wildcards:form.comfyuiItems")}),c.jsx(Ze,{size:"small",startIcon:c.jsx(Ws,{}),onClick:()=>L("comfyui"),children:t("wildcards:actions.addItem")})]}),c.jsx(wt,{severity:"info",sx:{mb:2},children:t("wildcards:form.itemsHelper")}),c.jsx(fn,{spacing:1,children:x.comfyuiItems.map((q,Z)=>c.jsxs(ee,{sx:{display:"flex",gap:1,alignItems:"center"},children:[c.jsxs(ae,{variant:"body2",sx:{minWidth:30},children:[Z+1,"."]}),c.jsx(Lt,{value:q,onChange:Y=>J("comfyui",Z,Y.target.value),fullWidth:!0,size:"small",placeholder:t("wildcards:form.itemPlaceholder")}),c.jsx(ht,{size:"small",onClick:()=>V("comfyui",Z),disabled:x.comfyuiItems.length===1,children:c.jsx(Ia,{fontSize:"small"})})]},Z))})]})}),c.jsx(FC,{value:m,index:1,children:c.jsxs(ee,{children:[c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[c.jsx(ae,{variant:"subtitle2",children:t("wildcards:form.naiItems")}),c.jsx(Ze,{size:"small",startIcon:c.jsx(Ws,{}),onClick:()=>L("nai"),children:t("wildcards:actions.addItem")})]}),c.jsx(wt,{severity:"info",sx:{mb:2},children:t("wildcards:form.itemsHelper")}),c.jsx(fn,{spacing:1,children:x.naiItems.map((q,Z)=>c.jsxs(ee,{sx:{display:"flex",gap:1,alignItems:"center"},children:[c.jsxs(ae,{variant:"body2",sx:{minWidth:30},children:[Z+1,"."]}),c.jsx(Lt,{value:q,onChange:Y=>J("nai",Z,Y.target.value),fullWidth:!0,size:"small",placeholder:t("wildcards:form.itemPlaceholder")}),c.jsx(ht,{size:"small",onClick:()=>V("nai",Z),disabled:x.naiItems.length===1,children:c.jsx(Ia,{fontSize:"small"})})]},Z))})]})})]})]})}),c.jsxs(kr,{children:[c.jsx(Ze,{onClick:F,children:t("common:cancel")}),c.jsx(Ze,{onClick:$,variant:"contained",children:t(d?"common:save":"common:create")})]})]}),c.jsxs(hr,{open:_,onClose:()=>C(!1),maxWidth:"md",fullWidth:!0,children:[c.jsx(br,{children:t("wildcards:preview.title")}),c.jsx(yr,{children:c.jsxs(fn,{spacing:2,sx:{mt:1},children:[c.jsxs(nl,{value:w==="comfyui"?0:1,onChange:(q,Z)=>T(Z===0?"comfyui":"nai"),children:[c.jsx(Vn,{label:"ComfyUI"}),c.jsx(Vn,{label:"NovelAI"})]}),c.jsx(Lt,{label:t("wildcards:preview.inputLabel"),value:E,onChange:q=>k(q.target.value),fullWidth:!0,multiline:!0,rows:3,placeholder:t("wildcards:preview.inputPlaceholder")}),c.jsx(Ze,{variant:"contained",startIcon:z?c.jsx(Kt,{size:20}):c.jsx(vo,{}),onClick:Q,disabled:z,children:t("wildcards:preview.generate")}),j.length>0&&c.jsxs(Yt,{variant:"outlined",sx:{p:2},children:[c.jsx(ae,{variant:"subtitle2",sx:{mb:2},children:t("wildcards:preview.results")}),c.jsx(fn,{spacing:1,children:j.map((q,Z)=>c.jsxs(ee,{sx:{p:1.5,bgcolor:"action.hover",borderRadius:1},children:[c.jsx(ae,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5},children:t("wildcards:preview.result",{number:Z+1})}),c.jsx(ae,{variant:"body2",children:q})]},Z))})]})]})}),c.jsx(kr,{children:c.jsx(Ze,{onClick:()=>C(!1),children:t("common:close")})})]})]})}function NGe(){const t=bt.c(25);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=["wildcards","common"],t[0]=e):e=t[0];const{t:n}=qt(e),[r,a]=A.useState(0);let i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=(w,T)=>{a(T)},t[1]=i):i=t[1];const s=i;let o;t[2]===Symbol.for("react.memo_cache_sentinel")?(o={borderBottom:1,borderColor:"divider"},t[2]=o):o=t[2];let l;t[3]!==n?(l=n("wildcards:tabs.manual"),t[3]=n,t[4]=l):l=t[4];let u;t[5]!==l?(u=c.jsx(Vn,{label:l}),t[5]=l,t[6]=u):u=t[6];let d;t[7]!==n?(d=n("wildcards:tabs.autoCollected"),t[7]=n,t[8]=d):d=t[8];let h;t[9]!==d?(h=c.jsx(Vn,{label:d}),t[9]=d,t[10]=h):h=t[10];let m;t[11]!==r||t[12]!==u||t[13]!==h?(m=c.jsxs(nl,{value:r,onChange:s,sx:o,children:[u,h]}),t[11]=r,t[12]=u,t[13]=h,t[14]=m):m=t[14];let y;t[15]===Symbol.for("react.memo_cache_sentinel")?(y=c.jsx(DGe,{}),t[15]=y):y=t[15];let x;t[16]!==r?(x=c.jsx(FC,{value:r,index:0,children:y}),t[16]=r,t[17]=x):x=t[17];let v;t[18]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx(OGe,{}),t[18]=v):v=t[18];let _;t[19]!==r?(_=c.jsx(FC,{value:r,index:1,children:v}),t[19]=r,t[20]=_):_=t[20];let C;return t[21]!==_||t[22]!==m||t[23]!==x?(C=c.jsxs(ee,{children:[m,x,_]}),t[21]=_,t[22]=m,t[23]=x,t[24]=C):C=t[24],C}function d6(t){const e=bt.c(15);let n,r,a,i;e[0]!==t?({children:n,value:i,index:r,...a}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i):(n=e[1],r=e[2],a=e[3],i=e[4]);const s=i!==r,o=`image-generation-tabpanel-${r}`,l=`image-generation-tab-${r}`;let u;e[5]!==n||e[6]!==r||e[7]!==i?(u=i===r&&c.jsx(ee,{sx:{pt:3},children:n}),e[5]=n,e[6]=r,e[7]=i,e[8]=u):u=e[8];let d;return e[9]!==a||e[10]!==s||e[11]!==o||e[12]!==l||e[13]!==u?(d=c.jsx("div",{role:"tabpanel",hidden:s,id:o,"aria-labelledby":l,...a,children:u}),e[9]=a,e[10]=s,e[11]=o,e[12]=l,e[13]=u,e[14]=d):d=e[14],d}function MGe(){const t=bt.c(61);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=["imageGeneration"],t[0]=e):e=t[0];const{t:n}=qt(e),[r,a]=coe();let i;t[1]!==r?(i=r.get("tab"),t[1]=r,t[2]=i):i=t[2];const s=i,[o,l]=A.useState(0);let u,d;t[3]!==s?(u=()=>{l(s==="comfyui"||s==="workflows"||s==="servers"?1:s==="wildcards"?2:0)},d=[s],t[3]=s,t[4]=u,t[5]=d):(u=t[4],d=t[5]),A.useEffect(u,d);let h;t[6]!==a?(h=(Y,ne)=>{l(ne),ne===0?a({tab:"nai"}):ne===1?a({tab:"comfyui"}):ne===2&&a({tab:"wildcards"})},t[6]=a,t[7]=h):h=t[7];const m=h;let y;t[8]===Symbol.for("react.memo_cache_sentinel")?(y={p:3},t[8]=y):y=t[8];let x;t[9]===Symbol.for("react.memo_cache_sentinel")?(x={mb:3},t[9]=x):x=t[9];let v;t[10]!==n?(v=n("imageGeneration:page.title"),t[10]=n,t[11]=v):v=t[11];let _;t[12]!==v?(_=c.jsx(ae,{variant:"h4",gutterBottom:!0,children:v}),t[12]=v,t[13]=_):_=t[13];let C;t[14]!==n?(C=n("imageGeneration:page.subtitle"),t[14]=n,t[15]=C):C=t[15];let w;t[16]!==C?(w=c.jsx(ae,{variant:"body2",color:"text.secondary",children:C}),t[16]=C,t[17]=w):w=t[17];let T;t[18]!==w||t[19]!==_?(T=c.jsxs(ee,{sx:x,children:[_,w]}),t[18]=w,t[19]=_,t[20]=T):T=t[20];let E;t[21]===Symbol.for("react.memo_cache_sentinel")?(E={borderBottom:1,borderColor:"divider",mb:2},t[21]=E):E=t[21];let k;t[22]!==n?(k=n("imageGeneration:tabs.ariaLabel"),t[22]=n,t[23]=k):k=t[23];let j;t[24]===Symbol.for("react.memo_cache_sentinel")?(j=c.jsx(mg,{}),t[24]=j):j=t[24];let O;t[25]!==n?(O=n("imageGeneration:tabs.novelai"),t[25]=n,t[26]=O):O=t[26];let z;t[27]!==O?(z=c.jsx(Vn,{icon:j,iconPosition:"start",label:O,id:"image-generation-tab-0","aria-controls":"image-generation-tabpanel-0"}),t[27]=O,t[28]=z):z=t[28];let M;t[29]===Symbol.for("react.memo_cache_sentinel")?(M=c.jsx(qX,{}),t[29]=M):M=t[29];let N;t[30]!==n?(N=n("imageGeneration:tabs.comfyui"),t[30]=n,t[31]=N):N=t[31];let U;t[32]!==N?(U=c.jsx(Vn,{icon:M,iconPosition:"start",label:N,id:"image-generation-tab-1","aria-controls":"image-generation-tabpanel-1"}),t[32]=N,t[33]=U):U=t[33];let F;t[34]===Symbol.for("react.memo_cache_sentinel")?(F=c.jsx(YX,{}),t[34]=F):F=t[34];let $;t[35]!==n?($=n("imageGeneration:tabs.wildcards"),t[35]=n,t[36]=$):$=t[36];let D;t[37]!==$?(D=c.jsx(Vn,{icon:F,iconPosition:"start",label:$,id:"image-generation-tab-2","aria-controls":"image-generation-tabpanel-2"}),t[37]=$,t[38]=D):D=t[38];let H;t[39]!==o||t[40]!==m||t[41]!==k||t[42]!==z||t[43]!==U||t[44]!==D?(H=c.jsx(ee,{sx:E,children:c.jsxs(nl,{value:o,onChange:m,"aria-label":k,children:[z,U,D]})}),t[39]=o,t[40]=m,t[41]=k,t[42]=z,t[43]=U,t[44]=D,t[45]=H):H=t[45];let L;t[46]===Symbol.for("react.memo_cache_sentinel")?(L=c.jsx(oGe,{}),t[46]=L):L=t[46];let V;t[47]!==o?(V=c.jsx(d6,{value:o,index:0,children:L}),t[47]=o,t[48]=V):V=t[48];let J;t[49]===Symbol.for("react.memo_cache_sentinel")?(J=c.jsx(dGe,{}),t[49]=J):J=t[49];let Q;t[50]!==o?(Q=c.jsx(d6,{value:o,index:1,children:J}),t[50]=o,t[51]=Q):Q=t[51];let K;t[52]===Symbol.for("react.memo_cache_sentinel")?(K=c.jsx(NGe,{}),t[52]=K):K=t[52];let q;t[53]!==o?(q=c.jsx(d6,{value:o,index:2,children:K}),t[53]=o,t[54]=q):q=t[54];let Z;return t[55]!==T||t[56]!==H||t[57]!==V||t[58]!==Q||t[59]!==q?(Z=c.jsxs(ee,{sx:y,children:[T,H,V,Q,q]}),t[55]=T,t[56]=H,t[57]=V,t[58]=Q,t[59]=q,t[60]=Z):Z=t[60],Z}function PGe(){const t=bt.c(19);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e={mb:3},t[0]=e):e=t[0];let n;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=c.jsx(ts,{}),t[1]=n):n=t[1];let r;t[2]===Symbol.for("react.memo_cache_sentinel")?(r=c.jsx(jc,{expandIcon:n,children:c.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(cv,{color:"info"}),c.jsx(ae,{variant:"h6",children:"Marked Fields  "})]})}),t[2]=r):r=t[2];let a;t[3]===Symbol.for("react.memo_cache_sentinel")?(a=c.jsx(bn,{sx:{mb:2}}),t[3]=a):a=t[3];let i,s;t[4]===Symbol.for("react.memo_cache_sentinel")?(i=c.jsx(ae,{variant:"body1",gutterBottom:!0,children:c.jsx("strong",{children:"Marked Fields?"})}),s=c.jsx(ae,{variant:"body2",paragraph:!0,children:"        .  , ,  , Steps, CFG     ."}),t[4]=i,t[5]=s):(i=t[4],s=t[5]);let o;t[6]===Symbol.for("react.memo_cache_sentinel")?(o=c.jsx(ae,{variant:"body1",gutterBottom:!0,sx:{mt:2},children:c.jsx("strong",{children:"JSON Path  :"})}),t[6]=o):o=t[6];let l;t[7]===Symbol.for("react.memo_cache_sentinel")?(l={pl:2,"& li":{mb:1}},t[7]=l):l=t[7];let u,d;t[8]===Symbol.for("react.memo_cache_sentinel")?(u=c.jsx("li",{children:c.jsxs(ae,{variant:"body2",children:["ComfyUI    ",c.jsx(gt,{label:"Save (API Format)",size:"small"}),"  "]})}),d=c.jsx("li",{children:c.jsx(ae,{variant:"body2",children:"JSON       "})}),t[8]=u,t[9]=d):(u=t[8],d=t[9]);let h;t[10]===Symbol.for("react.memo_cache_sentinel")?(h=c.jsxs(ee,{component:"ol",sx:l,children:[u,d,c.jsx("li",{children:c.jsxs(ae,{variant:"body2",children:[" : ",c.jsx("code",{children:"[].inputs.[]"})]})})]}),t[10]=h):h=t[10];let m;t[11]===Symbol.for("react.memo_cache_sentinel")?(m={mt:2},t[11]=m):m=t[11];let y;t[12]===Symbol.for("react.memo_cache_sentinel")?(y=c.jsx(wt,{severity:"success",sx:m,children:c.jsxs(ae,{variant:"body2",component:"div",children:[c.jsx("strong",{children:" :"}),c.jsx("br",{}),c.jsx("br",{}),c.jsx("strong",{children:"1.   (CLIPTextEncode  #6)"}),c.jsxs("ul",{style:{marginLeft:"20px",marginTop:"8px"},children:[c.jsxs("li",{children:[c.jsx("strong",{children:" ID:"})," prompt_positive"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"})," "]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"}),"   (textarea)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"JSON Path:"})," 6.inputs.text"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"})," a beautiful landscape"]})]}),c.jsx("br",{}),c.jsx("strong",{children:"2.   (KSampler  #3)"}),c.jsxs("ul",{style:{marginLeft:"20px",marginTop:"8px"},children:[c.jsxs("li",{children:[c.jsx("strong",{children:" ID:"})," seed"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"})," Seed"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"}),"  (number)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"JSON Path:"})," 3.inputs.seed"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"})," 123456"]})]}),c.jsx("br",{}),c.jsx("strong",{children:"3. Steps (KSampler  #3)"}),c.jsxs("ul",{style:{marginLeft:"20px",marginTop:"8px"},children:[c.jsxs("li",{children:[c.jsx("strong",{children:" ID:"})," steps"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"})," Steps"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"}),"  (number)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"JSON Path:"})," 3.inputs.steps"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"})," 20"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"})," 1"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"})," 150"]})]}),c.jsx("br",{}),c.jsx("strong",{children:"4. Sampler (KSampler  #3)"}),c.jsxs("ul",{style:{marginLeft:"20px",marginTop:"8px"},children:[c.jsxs("li",{children:[c.jsx("strong",{children:" ID:"})," sampler_name"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"})," Sampler"]}),c.jsxs("li",{children:[c.jsx("strong",{children:":"}),"  (select)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"JSON Path:"})," 3.inputs.sampler_name"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" :"})," euler, euler_ancestral, dpm++ 2m, ddim"]})]})]})}),t[12]=y):y=t[12];let x;t[13]===Symbol.for("react.memo_cache_sentinel")?(x={mt:2},t[13]=x):x=t[13];let v;t[14]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx("strong",{children:" :"}),t[14]=v):v=t[14];let _;t[15]===Symbol.for("react.memo_cache_sentinel")?(_=c.jsx("br",{}),t[15]=_):_=t[15];let C;t[16]===Symbol.for("react.memo_cache_sentinel")?(C=c.jsx("code",{children:'{"3": {"inputs": {"seed": 123}}}'}),t[16]=C):C=t[16];let w;t[17]===Symbol.for("react.memo_cache_sentinel")?(w=c.jsx("br",{}),t[17]=w):w=t[17];let T;return t[18]===Symbol.for("react.memo_cache_sentinel")?(T=c.jsx(Yt,{sx:e,children:c.jsxs(kc,{children:[r,c.jsxs(Ic,{children:[a,i,s,o,h,y,c.jsx(wt,{severity:"info",sx:x,children:c.jsxs(ae,{variant:"body2",children:[v," JSON Path Workflow JSON   .",_,"  JSON ",C," ",w,"JSON Path ",c.jsx("code",{children:"3.inputs.seed"})," ."]})})]})]})}),t[18]=T):T=t[18],T}function LGe({workflowJson:t,markedFields:e}){const[n,r]=A.useState({}),[a,i]=A.useState(!1);let s=null,o=null;try{t.trim()&&(s=JSON.parse(t))}catch{o="Workflow JSON   "}const l=m=>{if(!s)return{valid:!1,currentValue:null,error:"Workflow JSON "};try{const y=m.split(".");let x=s;for(const v of y)if(x&&typeof x=="object"&&v in x)x=x[v];else return{valid:!1,currentValue:null,error:`   : ${m}`};return{valid:!0,currentValue:x}}catch{return{valid:!1,currentValue:null,error:"    "}}},u=()=>{const m={};e.forEach(y=>{m[y.id]=y.default_value||(y.type==="number"?0:"")}),r(m),i(!0)},d=()=>{if(!s)return"";try{const m=JSON.parse(JSON.stringify(s));return e.forEach(y=>{const x=n[y.id]||y.default_value;if(x==null)return;const v=y.jsonPath.split(".");let _=m;for(let w=0;w<v.length-1;w++)v[w]in _||(_[v[w]]={}),_=_[v[w]];const C=v[v.length-1];_[C]=y.type==="number"?parseFloat(x)||0:x}),JSON.stringify(m,null,2)}catch{return"   "}},h=m=>{const y=n[m.id]||m.default_value||"";switch(m.type){case"textarea":return c.jsx(Lt,{fullWidth:!0,multiline:!0,rows:4,label:m.label,value:y,onChange:x=>r({...n,[m.id]:x.target.value}),placeholder:m.placeholder,size:"small",sx:{mb:2}},m.id);case"number":return c.jsx(Lt,{fullWidth:!0,type:"number",label:m.label,value:y,onChange:x=>r({...n,[m.id]:x.target.value}),placeholder:m.placeholder,inputProps:{min:m.min,max:m.max},size:"small",sx:{mb:2}},m.id);case"select":return c.jsxs(Lt,{fullWidth:!0,select:!0,label:m.label,value:y,onChange:x=>r({...n,[m.id]:x.target.value}),SelectProps:{native:!0},size:"small",sx:{mb:2},children:[c.jsx("option",{value:"",children:""}),m.options?.map(x=>c.jsx("option",{value:x,children:x},x))]},m.id);default:return c.jsx(Lt,{fullWidth:!0,label:m.label,value:y,onChange:x=>r({...n,[m.id]:x.target.value}),placeholder:m.placeholder,size:"small",sx:{mb:2}},m.id)}};return e.length===0?null:c.jsxs(Yt,{sx:{p:3,mb:3},children:[c.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[c.jsx(LO,{color:"primary"}),c.jsx(ae,{variant:"h6",children:"Marked Fields "})]}),c.jsx(bn,{sx:{mb:3}}),o&&c.jsx(wt,{severity:"error",sx:{mb:2},children:o}),s&&c.jsxs(ee,{sx:{mb:3},children:[c.jsx(ae,{variant:"subtitle1",gutterBottom:!0,children:"  "}),c.jsx(ee,{sx:{display:"flex",flexDirection:"column",gap:1},children:e.map(m=>{const y=l(m.jsonPath);return c.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:1,p:1,bgcolor:y.valid?"success.50":"error.50",borderRadius:1},children:[y.valid?c.jsx(Cs,{color:"success",fontSize:"small"}):c.jsx(gg,{color:"error",fontSize:"small"}),c.jsxs(ae,{variant:"body2",children:[c.jsx("strong",{children:m.label})," (",m.jsonPath,")"]}),y.valid&&y.currentValue!==void 0&&c.jsx(gt,{label:` : ${JSON.stringify(y.currentValue)}`,size:"small",sx:{ml:"auto"}}),!y.valid&&c.jsxs(ae,{variant:"caption",color:"error",sx:{ml:"auto"},children:[" ",y.error]})]},m.id)})})]}),c.jsxs(ee,{sx:{mb:3},children:[c.jsx(ae,{variant:"subtitle1",gutterBottom:!0,children:"    "}),c.jsxs(ee,{sx:{p:2,border:"1px dashed",borderColor:"divider",borderRadius:1,bgcolor:"background.default"},children:[e.map(m=>h(m)),c.jsx(Ze,{variant:"contained",fullWidth:!0,disabled:!0,children:"  ()"})]})]}),c.jsxs(ee,{children:[c.jsx(Ze,{variant:"outlined",onClick:u,sx:{mb:2},children:"  "}),a&&c.jsxs(kc,{children:[c.jsx(jc,{expandIcon:c.jsx(ts,{}),children:c.jsx(ae,{variant:"body2",children:" Workflow JSON "})}),c.jsx(Ic,{children:c.jsx(ee,{component:"pre",sx:{p:2,borderRadius:1,overflow:"auto",maxHeight:400,fontSize:"0.75rem",fontFamily:"monospace"},children:d()})})]})]})]})}function ws(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=ws(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var f6={exports:{}},h6={},p6={exports:{}},m6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JB;function zGe(){if(JB)return m6;JB=1;var t=kg();function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,i=t.useLayoutEffect,s=t.useDebugValue;function o(h,m){var y=m(),x=r({inst:{value:y,getSnapshot:m}}),v=x[0].inst,_=x[1];return i(function(){v.value=y,v.getSnapshot=m,l(v)&&_({inst:v})},[h,y,m]),a(function(){return l(v)&&_({inst:v}),h(function(){l(v)&&_({inst:v})})},[h]),s(y),y}function l(h){var m=h.getSnapshot;h=h.value;try{var y=m();return!n(h,y)}catch{return!0}}function u(h,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return m6.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,m6}var eH;function FGe(){return eH||(eH=1,p6.exports=zGe()),p6.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tH;function BGe(){if(tH)return h6;tH=1;var t=kg(),e=FGe();function n(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,i=t.useRef,s=t.useEffect,o=t.useMemo,l=t.useDebugValue;return h6.useSyncExternalStoreWithSelector=function(u,d,h,m,y){var x=i(null);if(x.current===null){var v={hasValue:!1,value:null};x.current=v}else v=x.current;x=o(function(){function C(j){if(!w){if(w=!0,T=j,j=m(j),y!==void 0&&v.hasValue){var O=v.value;if(y(O,j))return E=O}return E=j}if(O=E,r(T,j))return O;var z=m(j);return y!==void 0&&y(O,z)?(T=j,O):(T=j,E=z)}var w=!1,T,E,k=h===void 0?null:h;return[function(){return C(d())},k===null?void 0:function(){return C(k())}]},[d,h,m,y]);var _=a(u,x[0],x[1]);return s(function(){v.hasValue=!0,v.value=_},[_]),l(_),_},h6}var nH;function HGe(){return nH||(nH=1,f6.exports=BGe()),f6.exports}var UGe=HGe();const $Ge=$f(UGe),GGe={},rH=t=>{let e;const n=new Set,r=(d,h)=>{const m=typeof d=="function"?d(e):d;if(!Object.is(m,e)){const y=e;e=h??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(x=>x(e,y))}},a=()=>e,l={setState:r,getState:a,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(GGe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,a,l);return l},qGe=t=>t?rH(t):rH,{useDebugValue:VGe}=je,{useSyncExternalStoreWithSelector:WGe}=$Ge,YGe=t=>t;function Tee(t,e=YGe,n){const r=WGe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return VGe(r),r}const aH=(t,e)=>{const n=qGe(t),r=(a,i=e)=>Tee(n,a,i);return Object.assign(r,n),r},KGe=(t,e)=>t?aH(t,e):aH;function ns(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,a]of t)if(!Object.is(a,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var XGe={value:()=>{}};function hw(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new B4(n)}function B4(t){this._=t}function QGe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}B4.prototype=hw.prototype={constructor:B4,on:function(t,e){var n=this._,r=QGe(t+"",n),a,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((a=(t=r[i]).type)&&(a=ZGe(n[a],t.name)))return a;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<s;)if(a=(t=r[i]).type)n[a]=iH(n[a],t.name,e);else if(e==null)for(a in n)n[a]=iH(n[a],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new B4(t)},call:function(t,e){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,i;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)}};function ZGe(t,e){for(var n=0,r=t.length,a;n<r;++n)if((a=t[n]).name===e)return a.value}function iH(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=XGe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var ZI="http://www.w3.org/1999/xhtml";const sH={svg:"http://www.w3.org/2000/svg",xhtml:ZI,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pw(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),sH.hasOwnProperty(e)?{space:sH[e],local:t}:t}function JGe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ZI&&e.documentElement.namespaceURI===ZI?e.createElement(t):e.createElementNS(n,t)}}function eqe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Aee(t){var e=pw(t);return(e.local?eqe:JGe)(e)}function tqe(){}function _D(t){return t==null?tqe:function(){return this.querySelector(t)}}function nqe(t){typeof t!="function"&&(t=_D(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i=e[a],s=i.length,o=r[a]=new Array(s),l,u,d=0;d<s;++d)(l=i[d])&&(u=t.call(l,l.__data__,d,i))&&("__data__"in l&&(u.__data__=l.__data__),o[d]=u);return new Nl(r,this._parents)}function rqe(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function aqe(){return[]}function Ree(t){return t==null?aqe:function(){return this.querySelectorAll(t)}}function iqe(t){return function(){return rqe(t.apply(this,arguments))}}function sqe(t){typeof t=="function"?t=iqe(t):t=Ree(t);for(var e=this._groups,n=e.length,r=[],a=[],i=0;i<n;++i)for(var s=e[i],o=s.length,l,u=0;u<o;++u)(l=s[u])&&(r.push(t.call(l,l.__data__,u,s)),a.push(l));return new Nl(r,a)}function kee(t){return function(){return this.matches(t)}}function Iee(t){return function(e){return e.matches(t)}}var oqe=Array.prototype.find;function lqe(t){return function(){return oqe.call(this.children,t)}}function cqe(){return this.firstElementChild}function uqe(t){return this.select(t==null?cqe:lqe(typeof t=="function"?t:Iee(t)))}var dqe=Array.prototype.filter;function fqe(){return Array.from(this.children)}function hqe(t){return function(){return dqe.call(this.children,t)}}function pqe(t){return this.selectAll(t==null?fqe:hqe(typeof t=="function"?t:Iee(t)))}function mqe(t){typeof t!="function"&&(t=kee(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i=e[a],s=i.length,o=r[a]=[],l,u=0;u<s;++u)(l=i[u])&&t.call(l,l.__data__,u,i)&&o.push(l);return new Nl(r,this._parents)}function jee(t){return new Array(t.length)}function gqe(){return new Nl(this._enter||this._groups.map(jee),this._parents)}function BC(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}BC.prototype={constructor:BC,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function yqe(t){return function(){return t}}function bqe(t,e,n,r,a,i){for(var s=0,o,l=e.length,u=i.length;s<u;++s)(o=e[s])?(o.__data__=i[s],r[s]=o):n[s]=new BC(t,i[s]);for(;s<l;++s)(o=e[s])&&(a[s]=o)}function xqe(t,e,n,r,a,i,s){var o,l,u=new Map,d=e.length,h=i.length,m=new Array(d),y;for(o=0;o<d;++o)(l=e[o])&&(m[o]=y=s.call(l,l.__data__,o,e)+"",u.has(y)?a[o]=l:u.set(y,l));for(o=0;o<h;++o)y=s.call(t,i[o],o,i)+"",(l=u.get(y))?(r[o]=l,l.__data__=i[o],u.delete(y)):n[o]=new BC(t,i[o]);for(o=0;o<d;++o)(l=e[o])&&u.get(m[o])===l&&(a[o]=l)}function vqe(t){return t.__data__}function Sqe(t,e){if(!arguments.length)return Array.from(this,vqe);var n=e?xqe:bqe,r=this._parents,a=this._groups;typeof t!="function"&&(t=yqe(t));for(var i=a.length,s=new Array(i),o=new Array(i),l=new Array(i),u=0;u<i;++u){var d=r[u],h=a[u],m=h.length,y=_qe(t.call(d,d&&d.__data__,u,r)),x=y.length,v=o[u]=new Array(x),_=s[u]=new Array(x),C=l[u]=new Array(m);n(d,h,v,_,C,y,e);for(var w=0,T=0,E,k;w<x;++w)if(E=v[w]){for(w>=T&&(T=w+1);!(k=_[T])&&++T<x;);E._next=k||null}}return s=new Nl(s,r),s._enter=o,s._exit=l,s}function _qe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Cqe(){return new Nl(this._exit||this._groups.map(jee),this._parents)}function wqe(t,e,n){var r=this.enter(),a=this,i=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(a=e(a),a&&(a=a.selection())),n==null?i.remove():n(i),r&&a?r.merge(a).order():a}function Eqe(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,a=n.length,i=r.length,s=Math.min(a,i),o=new Array(a),l=0;l<s;++l)for(var u=n[l],d=r[l],h=u.length,m=o[l]=new Array(h),y,x=0;x<h;++x)(y=u[x]||d[x])&&(m[x]=y);for(;l<a;++l)o[l]=n[l];return new Nl(o,this._parents)}function Tqe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],a=r.length-1,i=r[a],s;--a>=0;)(s=r[a])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function Aqe(t){t||(t=Rqe);function e(h,m){return h&&m?t(h.__data__,m.__data__):!h-!m}for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var s=n[i],o=s.length,l=a[i]=new Array(o),u,d=0;d<o;++d)(u=s[d])&&(l[d]=u);l.sort(e)}return new Nl(a,this._parents).order()}function Rqe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function kqe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Iqe(){return Array.from(this)}function jqe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length;a<i;++a){var s=r[a];if(s)return s}return null}function Oqe(){let t=0;for(const e of this)++t;return t}function Dqe(){return!this.node()}function Nqe(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a=e[n],i=0,s=a.length,o;i<s;++i)(o=a[i])&&t.call(o,o.__data__,i,a);return this}function Mqe(t){return function(){this.removeAttribute(t)}}function Pqe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Lqe(t,e){return function(){this.setAttribute(t,e)}}function zqe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Fqe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Bqe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Hqe(t,e){var n=pw(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Pqe:Mqe:typeof e=="function"?n.local?Bqe:Fqe:n.local?zqe:Lqe)(n,e))}function Oee(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Uqe(t){return function(){this.style.removeProperty(t)}}function $qe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Gqe(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function qqe(t,e,n){return arguments.length>1?this.each((e==null?Uqe:typeof e=="function"?Gqe:$qe)(t,e,n??"")):uy(this.node(),t)}function uy(t,e){return t.style.getPropertyValue(e)||Oee(t).getComputedStyle(t,null).getPropertyValue(e)}function Vqe(t){return function(){delete this[t]}}function Wqe(t,e){return function(){this[t]=e}}function Yqe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Kqe(t,e){return arguments.length>1?this.each((e==null?Vqe:typeof e=="function"?Yqe:Wqe)(t,e)):this.node()[t]}function Dee(t){return t.trim().split(/^|\s+/)}function CD(t){return t.classList||new Nee(t)}function Nee(t){this._node=t,this._names=Dee(t.getAttribute("class")||"")}Nee.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Mee(t,e){for(var n=CD(t),r=-1,a=e.length;++r<a;)n.add(e[r])}function Pee(t,e){for(var n=CD(t),r=-1,a=e.length;++r<a;)n.remove(e[r])}function Xqe(t){return function(){Mee(this,t)}}function Qqe(t){return function(){Pee(this,t)}}function Zqe(t,e){return function(){(e.apply(this,arguments)?Mee:Pee)(this,t)}}function Jqe(t,e){var n=Dee(t+"");if(arguments.length<2){for(var r=CD(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof e=="function"?Zqe:e?Xqe:Qqe)(n,e))}function eVe(){this.textContent=""}function tVe(t){return function(){this.textContent=t}}function nVe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function rVe(t){return arguments.length?this.each(t==null?eVe:(typeof t=="function"?nVe:tVe)(t)):this.node().textContent}function aVe(){this.innerHTML=""}function iVe(t){return function(){this.innerHTML=t}}function sVe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function oVe(t){return arguments.length?this.each(t==null?aVe:(typeof t=="function"?sVe:iVe)(t)):this.node().innerHTML}function lVe(){this.nextSibling&&this.parentNode.appendChild(this)}function cVe(){return this.each(lVe)}function uVe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function dVe(){return this.each(uVe)}function fVe(t){var e=typeof t=="function"?t:Aee(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function hVe(){return null}function pVe(t,e){var n=typeof t=="function"?t:Aee(t),r=e==null?hVe:typeof e=="function"?e:_D(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function mVe(){var t=this.parentNode;t&&t.removeChild(this)}function gVe(){return this.each(mVe)}function yVe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function bVe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function xVe(t){return this.select(t?bVe:yVe)}function vVe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function SVe(t){return function(e){t.call(this,e,this.__data__)}}function _Ve(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function CVe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,a=e.length,i;n<a;++n)i=e[n],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++r]=i;++r?e.length=r:delete this.__on}}}function wVe(t,e,n){return function(){var r=this.__on,a,i=SVe(e);if(r){for(var s=0,o=r.length;s<o;++s)if((a=r[s]).type===t.type&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=n),a.value=e;return}}this.addEventListener(t.type,i,n),a={type:t.type,name:t.name,value:e,listener:i,options:n},r?r.push(a):this.__on=[a]}}function EVe(t,e,n){var r=_Ve(t+""),a,i=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,d;l<u;++l)for(a=0,d=o[l];a<i;++a)if((s=r[a]).type===d.type&&s.name===d.name)return d.value}return}for(o=e?wVe:CVe,a=0;a<i;++a)this.each(o(r[a],e,n));return this}function Lee(t,e,n){var r=Oee(t),a=r.CustomEvent;typeof a=="function"?a=new a(e,n):(a=r.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function TVe(t,e){return function(){return Lee(this,t,e)}}function AVe(t,e){return function(){return Lee(this,t,e.apply(this,arguments))}}function RVe(t,e){return this.each((typeof e=="function"?AVe:TVe)(t,e))}function*kVe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length,s;a<i;++a)(s=r[a])&&(yield s)}var zee=[null];function Nl(t,e){this._groups=t,this._parents=e}function hS(){return new Nl([[document.documentElement]],zee)}function IVe(){return this}Nl.prototype=hS.prototype={constructor:Nl,select:nqe,selectAll:sqe,selectChild:uqe,selectChildren:pqe,filter:mqe,data:Sqe,enter:gqe,exit:Cqe,join:wqe,merge:Eqe,selection:IVe,order:Tqe,sort:Aqe,call:kqe,nodes:Iqe,node:jqe,size:Oqe,empty:Dqe,each:Nqe,attr:Hqe,style:qqe,property:Kqe,classed:Jqe,text:rVe,html:oVe,raise:cVe,lower:dVe,append:fVe,insert:pVe,remove:gVe,clone:xVe,datum:vVe,on:EVe,dispatch:RVe,[Symbol.iterator]:kVe};function _c(t){return typeof t=="string"?new Nl([[document.querySelector(t)]],[document.documentElement]):new Nl([[t]],zee)}function jVe(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ou(t,e){if(t=jVe(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}}return[t.pageX,t.pageY]}const OVe={passive:!1},Tv={capture:!0,passive:!1};function g6(t){t.stopImmediatePropagation()}function $1(t){t.preventDefault(),t.stopImmediatePropagation()}function Fee(t){var e=t.document.documentElement,n=_c(t).on("dragstart.drag",$1,Tv);"onselectstart"in e?n.on("selectstart.drag",$1,Tv):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Bee(t,e){var n=t.document.documentElement,r=_c(t).on("dragstart.drag",null);e&&(r.on("click.drag",$1,Tv),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const l4=t=>()=>t;function JI(t,{sourceEvent:e,subject:n,target:r,identifier:a,active:i,x:s,y:o,dx:l,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}JI.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function DVe(t){return!t.ctrlKey&&!t.button}function NVe(){return this.parentNode}function MVe(t,e){return e??{x:t.x,y:t.y}}function PVe(){return navigator.maxTouchPoints||"ontouchstart"in this}function LVe(){var t=DVe,e=NVe,n=MVe,r=PVe,a={},i=hw("start","drag","end"),s=0,o,l,u,d,h=0;function m(E){E.on("mousedown.drag",y).filter(r).on("touchstart.drag",_).on("touchmove.drag",C,OVe).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(E,k){if(!(d||!t.call(this,E,k))){var j=T(this,e.call(this,E,k),E,k,"mouse");j&&(_c(E.view).on("mousemove.drag",x,Tv).on("mouseup.drag",v,Tv),Fee(E.view),g6(E),u=!1,o=E.clientX,l=E.clientY,j("start",E))}}function x(E){if($1(E),!u){var k=E.clientX-o,j=E.clientY-l;u=k*k+j*j>h}a.mouse("drag",E)}function v(E){_c(E.view).on("mousemove.drag mouseup.drag",null),Bee(E.view,u),$1(E),a.mouse("end",E)}function _(E,k){if(t.call(this,E,k)){var j=E.changedTouches,O=e.call(this,E,k),z=j.length,M,N;for(M=0;M<z;++M)(N=T(this,O,E,k,j[M].identifier,j[M]))&&(g6(E),N("start",E,j[M]))}}function C(E){var k=E.changedTouches,j=k.length,O,z;for(O=0;O<j;++O)(z=a[k[O].identifier])&&($1(E),z("drag",E,k[O]))}function w(E){var k=E.changedTouches,j=k.length,O,z;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),O=0;O<j;++O)(z=a[k[O].identifier])&&(g6(E),z("end",E,k[O]))}function T(E,k,j,O,z,M){var N=i.copy(),U=ou(M||j,k),F,$,D;if((D=n.call(E,new JI("beforestart",{sourceEvent:j,target:m,identifier:z,active:s,x:U[0],y:U[1],dx:0,dy:0,dispatch:N}),O))!=null)return F=D.x-U[0]||0,$=D.y-U[1]||0,function H(L,V,J){var Q=U,K;switch(L){case"start":a[z]=H,K=s++;break;case"end":delete a[z],--s;case"drag":U=ou(J||V,k),K=s;break}N.call(L,E,new JI(L,{sourceEvent:V,subject:D,target:m,identifier:z,active:K,x:U[0]+F,y:U[1]+$,dx:U[0]-Q[0],dy:U[1]-Q[1],dispatch:N}),O)}}return m.filter=function(E){return arguments.length?(t=typeof E=="function"?E:l4(!!E),m):t},m.container=function(E){return arguments.length?(e=typeof E=="function"?E:l4(E),m):e},m.subject=function(E){return arguments.length?(n=typeof E=="function"?E:l4(E),m):n},m.touchable=function(E){return arguments.length?(r=typeof E=="function"?E:l4(!!E),m):r},m.on=function(){var E=i.on.apply(i,arguments);return E===i?m:E},m.clickDistance=function(E){return arguments.length?(h=(E=+E)*E,m):Math.sqrt(h)},m}function wD(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Hee(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function pS(){}var Av=.7,HC=1/Av,G1="\\s*([+-]?\\d+)\\s*",Rv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ad="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zVe=/^#([0-9a-f]{3,8})$/,FVe=new RegExp(`^rgb\\(${G1},${G1},${G1}\\)$`),BVe=new RegExp(`^rgb\\(${Ad},${Ad},${Ad}\\)$`),HVe=new RegExp(`^rgba\\(${G1},${G1},${G1},${Rv}\\)$`),UVe=new RegExp(`^rgba\\(${Ad},${Ad},${Ad},${Rv}\\)$`),$Ve=new RegExp(`^hsl\\(${Rv},${Ad},${Ad}\\)$`),GVe=new RegExp(`^hsla\\(${Rv},${Ad},${Ad},${Rv}\\)$`),oH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wD(pS,kv,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:lH,formatHex:lH,formatHex8:qVe,formatHsl:VVe,formatRgb:cH,toString:cH});function lH(){return this.rgb().formatHex()}function qVe(){return this.rgb().formatHex8()}function VVe(){return Uee(this).formatHsl()}function cH(){return this.rgb().formatRgb()}function kv(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=zVe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?uH(e):n===3?new Ko(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?c4(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?c4(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=FVe.exec(t))?new Ko(e[1],e[2],e[3],1):(e=BVe.exec(t))?new Ko(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=HVe.exec(t))?c4(e[1],e[2],e[3],e[4]):(e=UVe.exec(t))?c4(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=$Ve.exec(t))?hH(e[1],e[2]/100,e[3]/100,1):(e=GVe.exec(t))?hH(e[1],e[2]/100,e[3]/100,e[4]):oH.hasOwnProperty(t)?uH(oH[t]):t==="transparent"?new Ko(NaN,NaN,NaN,0):null}function uH(t){return new Ko(t>>16&255,t>>8&255,t&255,1)}function c4(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ko(t,e,n,r)}function WVe(t){return t instanceof pS||(t=kv(t)),t?(t=t.rgb(),new Ko(t.r,t.g,t.b,t.opacity)):new Ko}function ej(t,e,n,r){return arguments.length===1?WVe(t):new Ko(t,e,n,r??1)}function Ko(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}wD(Ko,ej,Hee(pS,{brighter(t){return t=t==null?HC:Math.pow(HC,t),new Ko(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Av:Math.pow(Av,t),new Ko(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ko(lg(this.r),lg(this.g),lg(this.b),UC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dH,formatHex:dH,formatHex8:YVe,formatRgb:fH,toString:fH}));function dH(){return`#${Jm(this.r)}${Jm(this.g)}${Jm(this.b)}`}function YVe(){return`#${Jm(this.r)}${Jm(this.g)}${Jm(this.b)}${Jm((isNaN(this.opacity)?1:this.opacity)*255)}`}function fH(){const t=UC(this.opacity);return`${t===1?"rgb(":"rgba("}${lg(this.r)}, ${lg(this.g)}, ${lg(this.b)}${t===1?")":`, ${t})`}`}function UC(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function lg(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Jm(t){return t=lg(t),(t<16?"0":"")+t.toString(16)}function hH(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new uu(t,e,n,r)}function Uee(t){if(t instanceof uu)return new uu(t.h,t.s,t.l,t.opacity);if(t instanceof pS||(t=kv(t)),!t)return new uu;if(t instanceof uu)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),s=NaN,o=i-a,l=(i+a)/2;return o?(e===i?s=(n-r)/o+(n<r)*6:n===i?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new uu(s,o,l,t.opacity)}function KVe(t,e,n,r){return arguments.length===1?Uee(t):new uu(t,e,n,r??1)}function uu(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}wD(uu,KVe,Hee(pS,{brighter(t){return t=t==null?HC:Math.pow(HC,t),new uu(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Av:Math.pow(Av,t),new uu(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Ko(y6(t>=240?t-240:t+120,a,r),y6(t,a,r),y6(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new uu(pH(this.h),u4(this.s),u4(this.l),UC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=UC(this.opacity);return`${t===1?"hsl(":"hsla("}${pH(this.h)}, ${u4(this.s)*100}%, ${u4(this.l)*100}%${t===1?")":`, ${t})`}`}}));function pH(t){return t=(t||0)%360,t<0?t+360:t}function u4(t){return Math.max(0,Math.min(1,t||0))}function y6(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $ee=t=>()=>t;function XVe(t,e){return function(n){return t+n*e}}function QVe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ZVe(t){return(t=+t)==1?Gee:function(e,n){return n-e?QVe(e,n,t):$ee(isNaN(e)?n:e)}}function Gee(t,e){var n=e-t;return n?XVe(t,n):$ee(isNaN(t)?e:t)}const mH=(function t(e){var n=ZVe(e);function r(a,i){var s=n((a=ej(a)).r,(i=ej(i)).r),o=n(a.g,i.g),l=n(a.b,i.b),u=Gee(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=o(d),a.b=l(d),a.opacity=u(d),a+""}}return r.gamma=t,r})(1);function Qh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var tj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,b6=new RegExp(tj.source,"g");function JVe(t){return function(){return t}}function eWe(t){return function(e){return t(e)+""}}function tWe(t,e){var n=tj.lastIndex=b6.lastIndex=0,r,a,i,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=tj.exec(t))&&(a=b6.exec(e));)(i=a.index)>n&&(i=e.slice(n,i),o[s]?o[s]+=i:o[++s]=i),(r=r[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:Qh(r,a)})),n=b6.lastIndex;return n<e.length&&(i=e.slice(n),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?eWe(l[0].x):JVe(e):(e=l.length,function(u){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(u);return o.join("")})}var gH=180/Math.PI,nj={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function qee(t,e,n,r,a,i){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:a,translateY:i,rotate:Math.atan2(e,t)*gH,skewX:Math.atan(l)*gH,scaleX:s,scaleY:o}}var d4;function nWe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?nj:qee(e.a,e.b,e.c,e.d,e.e,e.f)}function rWe(t){return t==null||(d4||(d4=document.createElementNS("http://www.w3.org/2000/svg","g")),d4.setAttribute("transform",t),!(t=d4.transform.baseVal.consolidate()))?nj:(t=t.matrix,qee(t.a,t.b,t.c,t.d,t.e,t.f))}function Vee(t,e,n,r){function a(u){return u.length?u.pop()+" ":""}function i(u,d,h,m,y,x){if(u!==h||d!==m){var v=y.push("translate(",null,e,null,n);x.push({i:v-4,x:Qh(u,h)},{i:v-2,x:Qh(d,m)})}else(h||m)&&y.push("translate("+h+e+m+n)}function s(u,d,h,m){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),m.push({i:h.push(a(h)+"rotate(",null,r)-2,x:Qh(u,d)})):d&&h.push(a(h)+"rotate("+d+r)}function o(u,d,h,m){u!==d?m.push({i:h.push(a(h)+"skewX(",null,r)-2,x:Qh(u,d)}):d&&h.push(a(h)+"skewX("+d+r)}function l(u,d,h,m,y,x){if(u!==h||d!==m){var v=y.push(a(y)+"scale(",null,",",null,")");x.push({i:v-4,x:Qh(u,h)},{i:v-2,x:Qh(d,m)})}else(h!==1||m!==1)&&y.push(a(y)+"scale("+h+","+m+")")}return function(u,d){var h=[],m=[];return u=t(u),d=t(d),i(u.translateX,u.translateY,d.translateX,d.translateY,h,m),s(u.rotate,d.rotate,h,m),o(u.skewX,d.skewX,h,m),l(u.scaleX,u.scaleY,d.scaleX,d.scaleY,h,m),u=d=null,function(y){for(var x=-1,v=m.length,_;++x<v;)h[(_=m[x]).i]=_.x(y);return h.join("")}}}var aWe=Vee(nWe,"px, ","px)","deg)"),iWe=Vee(rWe,", ",")",")"),sWe=1e-12;function yH(t){return((t=Math.exp(t))+1/t)/2}function oWe(t){return((t=Math.exp(t))-1/t)/2}function lWe(t){return((t=Math.exp(2*t))-1)/(t+1)}const cWe=(function t(e,n,r){function a(i,s){var o=i[0],l=i[1],u=i[2],d=s[0],h=s[1],m=s[2],y=d-o,x=h-l,v=y*y+x*x,_,C;if(v<sWe)C=Math.log(m/u)/e,_=function(O){return[o+O*y,l+O*x,u*Math.exp(e*O*C)]};else{var w=Math.sqrt(v),T=(m*m-u*u+r*v)/(2*u*n*w),E=(m*m-u*u-r*v)/(2*m*n*w),k=Math.log(Math.sqrt(T*T+1)-T),j=Math.log(Math.sqrt(E*E+1)-E);C=(j-k)/e,_=function(O){var z=O*C,M=yH(k),N=u/(n*w)*(M*lWe(e*z+k)-oWe(k));return[o+N*y,l+N*x,u*M/yH(e*z+k)]}}return _.duration=C*1e3*e/Math.SQRT2,_}return a.rho=function(i){var s=Math.max(.001,+i),o=s*s,l=o*o;return t(s,o,l)},a})(Math.SQRT2,2,4);var dy=0,h2=0,Ux=0,Wee=1e3,$C,p2,GC=0,Eg=0,mw=0,Iv=typeof performance=="object"&&performance.now?performance:Date,Yee=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ED(){return Eg||(Yee(uWe),Eg=Iv.now()+mw)}function uWe(){Eg=0}function qC(){this._call=this._time=this._next=null}qC.prototype=Kee.prototype={constructor:qC,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ED():+n)+(e==null?0:+e),!this._next&&p2!==this&&(p2?p2._next=this:$C=this,p2=this),this._call=t,this._time=n,rj()},stop:function(){this._call&&(this._call=null,this._time=1/0,rj())}};function Kee(t,e,n){var r=new qC;return r.restart(t,e,n),r}function dWe(){ED(),++dy;for(var t=$C,e;t;)(e=Eg-t._time)>=0&&t._call.call(void 0,e),t=t._next;--dy}function bH(){Eg=(GC=Iv.now())+mw,dy=h2=0;try{dWe()}finally{dy=0,hWe(),Eg=0}}function fWe(){var t=Iv.now(),e=t-GC;e>Wee&&(mw-=e,GC=t)}function hWe(){for(var t,e=$C,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:$C=n);p2=t,rj(r)}function rj(t){if(!dy){h2&&(h2=clearTimeout(h2));var e=t-Eg;e>24?(t<1/0&&(h2=setTimeout(bH,t-Iv.now()-mw)),Ux&&(Ux=clearInterval(Ux))):(Ux||(GC=Iv.now(),Ux=setInterval(fWe,Wee)),dy=1,Yee(bH))}}function xH(t,e,n){var r=new qC;return e=e==null?0:+e,r.restart(a=>{r.stop(),t(a+e)},e,n),r}var pWe=hw("start","end","cancel","interrupt"),mWe=[],Xee=0,vH=1,aj=2,H4=3,SH=4,ij=5,U4=6;function gw(t,e,n,r,a,i){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;gWe(t,n,{name:e,index:r,group:a,on:pWe,tween:mWe,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Xee})}function TD(t,e){var n=ku(t,e);if(n.state>Xee)throw new Error("too late; already scheduled");return n}function Fd(t,e){var n=ku(t,e);if(n.state>H4)throw new Error("too late; already running");return n}function ku(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function gWe(t,e,n){var r=t.__transition,a;r[e]=n,n.timer=Kee(i,0,n.time);function i(u){n.state=vH,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var d,h,m,y;if(n.state!==vH)return l();for(d in r)if(y=r[d],y.name===n.name){if(y.state===H4)return xH(s);y.state===SH?(y.state=U4,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete r[d]):+d<e&&(y.state=U4,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete r[d])}if(xH(function(){n.state===H4&&(n.state=SH,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=aj,n.on.call("start",t,t.__data__,n.index,n.group),n.state===aj){for(n.state=H4,a=new Array(m=n.tween.length),d=0,h=-1;d<m;++d)(y=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(a[++h]=y);a.length=h+1}}function o(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=ij,1),h=-1,m=a.length;++h<m;)a[h].call(t,d);n.state===ij&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=U4,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function $4(t,e){var n=t.__transition,r,a,i=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){i=!1;continue}a=r.state>aj&&r.state<ij,r.state=U4,r.timer.stop(),r.on.call(a?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}i&&delete t.__transition}}function yWe(t){return this.each(function(){$4(this,t)})}function bWe(t,e){var n,r;return function(){var a=Fd(this,t),i=a.tween;if(i!==n){r=n=i;for(var s=0,o=r.length;s<o;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}a.tween=r}}function xWe(t,e,n){var r,a;if(typeof n!="function")throw new Error;return function(){var i=Fd(this,t),s=i.tween;if(s!==r){a=(r=s).slice();for(var o={name:e,value:n},l=0,u=a.length;l<u;++l)if(a[l].name===e){a[l]=o;break}l===u&&a.push(o)}i.tween=a}}function vWe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ku(this.node(),n).tween,a=0,i=r.length,s;a<i;++a)if((s=r[a]).name===t)return s.value;return null}return this.each((e==null?bWe:xWe)(n,t,e))}function AD(t,e,n){var r=t._id;return t.each(function(){var a=Fd(this,r);(a.value||(a.value={}))[e]=n.apply(this,arguments)}),function(a){return ku(a,r).value[e]}}function Qee(t,e){var n;return(typeof e=="number"?Qh:e instanceof kv?mH:(n=kv(e))?(e=n,mH):tWe)(t,e)}function SWe(t){return function(){this.removeAttribute(t)}}function _We(t){return function(){this.removeAttributeNS(t.space,t.local)}}function CWe(t,e,n){var r,a=n+"",i;return function(){var s=this.getAttribute(t);return s===a?null:s===r?i:i=e(r=s,n)}}function wWe(t,e,n){var r,a=n+"",i;return function(){var s=this.getAttributeNS(t.space,t.local);return s===a?null:s===r?i:i=e(r=s,n)}}function EWe(t,e,n){var r,a,i;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=o+"",s===l?null:s===r&&l===a?i:(a=l,i=e(r=s,o)))}}function TWe(t,e,n){var r,a,i;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=o+"",s===l?null:s===r&&l===a?i:(a=l,i=e(r=s,o)))}}function AWe(t,e){var n=pw(t),r=n==="transform"?iWe:Qee;return this.attrTween(t,typeof e=="function"?(n.local?TWe:EWe)(n,r,AD(this,"attr."+t,e)):e==null?(n.local?_We:SWe)(n):(n.local?wWe:CWe)(n,r,e))}function RWe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function kWe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function IWe(t,e){var n,r;function a(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&kWe(t,i)),n}return a._value=e,a}function jWe(t,e){var n,r;function a(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&RWe(t,i)),n}return a._value=e,a}function OWe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=pw(t);return this.tween(n,(r.local?IWe:jWe)(r,e))}function DWe(t,e){return function(){TD(this,t).delay=+e.apply(this,arguments)}}function NWe(t,e){return e=+e,function(){TD(this,t).delay=e}}function MWe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?DWe:NWe)(e,t)):ku(this.node(),e).delay}function PWe(t,e){return function(){Fd(this,t).duration=+e.apply(this,arguments)}}function LWe(t,e){return e=+e,function(){Fd(this,t).duration=e}}function zWe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?PWe:LWe)(e,t)):ku(this.node(),e).duration}function FWe(t,e){if(typeof e!="function")throw new Error;return function(){Fd(this,t).ease=e}}function BWe(t){var e=this._id;return arguments.length?this.each(FWe(e,t)):ku(this.node(),e).ease}function HWe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Fd(this,t).ease=n}}function UWe(t){if(typeof t!="function")throw new Error;return this.each(HWe(this._id,t))}function $We(t){typeof t!="function"&&(t=kee(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i=e[a],s=i.length,o=r[a]=[],l,u=0;u<s;++u)(l=i[u])&&t.call(l,l.__data__,u,i)&&o.push(l);return new Hf(r,this._parents,this._name,this._id)}function GWe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,a=n.length,i=Math.min(r,a),s=new Array(r),o=0;o<i;++o)for(var l=e[o],u=n[o],d=l.length,h=s[o]=new Array(d),m,y=0;y<d;++y)(m=l[y]||u[y])&&(h[y]=m);for(;o<r;++o)s[o]=e[o];return new Hf(s,this._parents,this._name,this._id)}function qWe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function VWe(t,e,n){var r,a,i=qWe(e)?TD:Fd;return function(){var s=i(this,t),o=s.on;o!==r&&(a=(r=o).copy()).on(e,n),s.on=a}}function WWe(t,e){var n=this._id;return arguments.length<2?ku(this.node(),n).on.on(t):this.each(VWe(n,t,e))}function YWe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function KWe(){return this.on("end.remove",YWe(this._id))}function XWe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=_D(t));for(var r=this._groups,a=r.length,i=new Array(a),s=0;s<a;++s)for(var o=r[s],l=o.length,u=i[s]=new Array(l),d,h,m=0;m<l;++m)(d=o[m])&&(h=t.call(d,d.__data__,m,o))&&("__data__"in d&&(h.__data__=d.__data__),u[m]=h,gw(u[m],e,n,m,u,ku(d,n)));return new Hf(i,this._parents,e,n)}function QWe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ree(t));for(var r=this._groups,a=r.length,i=[],s=[],o=0;o<a;++o)for(var l=r[o],u=l.length,d,h=0;h<u;++h)if(d=l[h]){for(var m=t.call(d,d.__data__,h,l),y,x=ku(d,n),v=0,_=m.length;v<_;++v)(y=m[v])&&gw(y,e,n,v,m,x);i.push(m),s.push(d)}return new Hf(i,s,e,n)}var ZWe=hS.prototype.constructor;function JWe(){return new ZWe(this._groups,this._parents)}function eYe(t,e){var n,r,a;return function(){var i=uy(this,t),s=(this.style.removeProperty(t),uy(this,t));return i===s?null:i===n&&s===r?a:a=e(n=i,r=s)}}function Zee(t){return function(){this.style.removeProperty(t)}}function tYe(t,e,n){var r,a=n+"",i;return function(){var s=uy(this,t);return s===a?null:s===r?i:i=e(r=s,n)}}function nYe(t,e,n){var r,a,i;return function(){var s=uy(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),uy(this,t))),s===l?null:s===r&&l===a?i:(a=l,i=e(r=s,o))}}function rYe(t,e){var n,r,a,i="style."+e,s="end."+i,o;return function(){var l=Fd(this,t),u=l.on,d=l.value[i]==null?o||(o=Zee(e)):void 0;(u!==n||a!==d)&&(r=(n=u).copy()).on(s,a=d),l.on=r}}function aYe(t,e,n){var r=(t+="")=="transform"?aWe:Qee;return e==null?this.styleTween(t,eYe(t,r)).on("end.style."+t,Zee(t)):typeof e=="function"?this.styleTween(t,nYe(t,r,AD(this,"style."+t,e))).each(rYe(this._id,t)):this.styleTween(t,tYe(t,r,e),n).on("end.style."+t,null)}function iYe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function sYe(t,e,n){var r,a;function i(){var s=e.apply(this,arguments);return s!==a&&(r=(a=s)&&iYe(t,s,n)),r}return i._value=e,i}function oYe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,sYe(t,e,n??""))}function lYe(t){return function(){this.textContent=t}}function cYe(t){return function(){var e=t(this);this.textContent=e??""}}function uYe(t){return this.tween("text",typeof t=="function"?cYe(AD(this,"text",t)):lYe(t==null?"":t+""))}function dYe(t){return function(e){this.textContent=t.call(this,e)}}function fYe(t){var e,n;function r(){var a=t.apply(this,arguments);return a!==n&&(e=(n=a)&&dYe(a)),e}return r._value=t,r}function hYe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,fYe(t))}function pYe(){for(var t=this._name,e=this._id,n=Jee(),r=this._groups,a=r.length,i=0;i<a;++i)for(var s=r[i],o=s.length,l,u=0;u<o;++u)if(l=s[u]){var d=ku(l,e);gw(l,t,n,u,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Hf(r,this._parents,t,n)}function mYe(){var t,e,n=this,r=n._id,a=n.size();return new Promise(function(i,s){var o={value:s},l={value:function(){--a===0&&i()}};n.each(function(){var u=Fd(this,r),d=u.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),u.on=e}),a===0&&i()})}var gYe=0;function Hf(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Jee(){return++gYe}var Tf=hS.prototype;Hf.prototype={constructor:Hf,select:XWe,selectAll:QWe,selectChild:Tf.selectChild,selectChildren:Tf.selectChildren,filter:$We,merge:GWe,selection:JWe,transition:pYe,call:Tf.call,nodes:Tf.nodes,node:Tf.node,size:Tf.size,empty:Tf.empty,each:Tf.each,on:WWe,attr:AWe,attrTween:OWe,style:aYe,styleTween:oYe,text:uYe,textTween:hYe,remove:KWe,tween:vWe,delay:MWe,duration:zWe,ease:BWe,easeVarying:UWe,end:mYe,[Symbol.iterator]:Tf[Symbol.iterator]};function yYe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var bYe={time:null,delay:0,duration:250,ease:yYe};function xYe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function vYe(t){var e,n;t instanceof Hf?(e=t._id,t=t._name):(e=Jee(),(n=bYe).time=ED(),t=t==null?null:t+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var s=r[i],o=s.length,l,u=0;u<o;++u)(l=s[u])&&gw(l,t,e,u,s,n||xYe(l,e));return new Hf(r,this._parents,t,e)}hS.prototype.interrupt=yWe;hS.prototype.transition=vYe;const f4=t=>()=>t;function SYe(t,{sourceEvent:e,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function Of(t,e,n){this.k=t,this.x=e,this.y=n}Of.prototype={constructor:Of,scale:function(t){return t===1?this:new Of(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Of(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Mf=new Of(1,0,0);Of.prototype;function x6(t){t.stopImmediatePropagation()}function $x(t){t.preventDefault(),t.stopImmediatePropagation()}function _Ye(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function CYe(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function _H(){return this.__zoom||Mf}function wYe(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function EYe(){return navigator.maxTouchPoints||"ontouchstart"in this}function TYe(t,e,n){var r=t.invertX(e[0][0])-n[0][0],a=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function ete(){var t=_Ye,e=CYe,n=TYe,r=wYe,a=EYe,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,l=cWe,u=hw("start","zoom","end"),d,h,m,y=500,x=150,v=0,_=10;function C(D){D.property("__zoom",_H).on("wheel.zoom",z,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",N).filter(a).on("touchstart.zoom",U).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}C.transform=function(D,H,L,V){var J=D.selection?D.selection():D;J.property("__zoom",_H),D!==J?k(D,H,L,V):J.interrupt().each(function(){j(this,arguments).event(V).start().zoom(null,typeof H=="function"?H.apply(this,arguments):H).end()})},C.scaleBy=function(D,H,L,V){C.scaleTo(D,function(){var J=this.__zoom.k,Q=typeof H=="function"?H.apply(this,arguments):H;return J*Q},L,V)},C.scaleTo=function(D,H,L,V){C.transform(D,function(){var J=e.apply(this,arguments),Q=this.__zoom,K=L==null?E(J):typeof L=="function"?L.apply(this,arguments):L,q=Q.invert(K),Z=typeof H=="function"?H.apply(this,arguments):H;return n(T(w(Q,Z),K,q),J,s)},L,V)},C.translateBy=function(D,H,L,V){C.transform(D,function(){return n(this.__zoom.translate(typeof H=="function"?H.apply(this,arguments):H,typeof L=="function"?L.apply(this,arguments):L),e.apply(this,arguments),s)},null,V)},C.translateTo=function(D,H,L,V,J){C.transform(D,function(){var Q=e.apply(this,arguments),K=this.__zoom,q=V==null?E(Q):typeof V=="function"?V.apply(this,arguments):V;return n(Mf.translate(q[0],q[1]).scale(K.k).translate(typeof H=="function"?-H.apply(this,arguments):-H,typeof L=="function"?-L.apply(this,arguments):-L),Q,s)},V,J)};function w(D,H){return H=Math.max(i[0],Math.min(i[1],H)),H===D.k?D:new Of(H,D.x,D.y)}function T(D,H,L){var V=H[0]-L[0]*D.k,J=H[1]-L[1]*D.k;return V===D.x&&J===D.y?D:new Of(D.k,V,J)}function E(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function k(D,H,L,V){D.on("start.zoom",function(){j(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).event(V).end()}).tween("zoom",function(){var J=this,Q=arguments,K=j(J,Q).event(V),q=e.apply(J,Q),Z=L==null?E(q):typeof L=="function"?L.apply(J,Q):L,Y=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),ne=J.__zoom,re=typeof H=="function"?H.apply(J,Q):H,ie=l(ne.invert(Z).concat(Y/ne.k),re.invert(Z).concat(Y/re.k));return function(ce){if(ce===1)ce=re;else{var he=ie(ce),me=Y/he[2];ce=new Of(me,Z[0]-he[0]*me,Z[1]-he[1]*me)}K.zoom(null,ce)}})}function j(D,H,L){return!L&&D.__zooming||new O(D,H)}function O(D,H){this.that=D,this.args=H,this.active=0,this.sourceEvent=null,this.extent=e.apply(D,H),this.taps=0}O.prototype={event:function(D){return D&&(this.sourceEvent=D),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,H){return this.mouse&&D!=="mouse"&&(this.mouse[1]=H.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=H.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=H.invert(this.touch1[0])),this.that.__zoom=H,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){var H=_c(this.that).datum();u.call(D,this.that,new SYe(D,{sourceEvent:this.sourceEvent,target:C,transform:this.that.__zoom,dispatch:u}),H)}};function z(D,...H){if(!t.apply(this,arguments))return;var L=j(this,H).event(D),V=this.__zoom,J=Math.max(i[0],Math.min(i[1],V.k*Math.pow(2,r.apply(this,arguments)))),Q=ou(D);if(L.wheel)(L.mouse[0][0]!==Q[0]||L.mouse[0][1]!==Q[1])&&(L.mouse[1]=V.invert(L.mouse[0]=Q)),clearTimeout(L.wheel);else{if(V.k===J)return;L.mouse=[Q,V.invert(Q)],$4(this),L.start()}$x(D),L.wheel=setTimeout(K,x),L.zoom("mouse",n(T(w(V,J),L.mouse[0],L.mouse[1]),L.extent,s));function K(){L.wheel=null,L.end()}}function M(D,...H){if(m||!t.apply(this,arguments))return;var L=D.currentTarget,V=j(this,H,!0).event(D),J=_c(D.view).on("mousemove.zoom",Z,!0).on("mouseup.zoom",Y,!0),Q=ou(D,L),K=D.clientX,q=D.clientY;Fee(D.view),x6(D),V.mouse=[Q,this.__zoom.invert(Q)],$4(this),V.start();function Z(ne){if($x(ne),!V.moved){var re=ne.clientX-K,ie=ne.clientY-q;V.moved=re*re+ie*ie>v}V.event(ne).zoom("mouse",n(T(V.that.__zoom,V.mouse[0]=ou(ne,L),V.mouse[1]),V.extent,s))}function Y(ne){J.on("mousemove.zoom mouseup.zoom",null),Bee(ne.view,V.moved),$x(ne),V.event(ne).end()}}function N(D,...H){if(t.apply(this,arguments)){var L=this.__zoom,V=ou(D.changedTouches?D.changedTouches[0]:D,this),J=L.invert(V),Q=L.k*(D.shiftKey?.5:2),K=n(T(w(L,Q),V,J),e.apply(this,H),s);$x(D),o>0?_c(this).transition().duration(o).call(k,K,V,D):_c(this).call(C.transform,K,V,D)}}function U(D,...H){if(t.apply(this,arguments)){var L=D.touches,V=L.length,J=j(this,H,D.changedTouches.length===V).event(D),Q,K,q,Z;for(x6(D),K=0;K<V;++K)q=L[K],Z=ou(q,this),Z=[Z,this.__zoom.invert(Z),q.identifier],J.touch0?!J.touch1&&J.touch0[2]!==Z[2]&&(J.touch1=Z,J.taps=0):(J.touch0=Z,Q=!0,J.taps=1+!!d);d&&(d=clearTimeout(d)),Q&&(J.taps<2&&(h=Z[0],d=setTimeout(function(){d=null},y)),$4(this),J.start())}}function F(D,...H){if(this.__zooming){var L=j(this,H).event(D),V=D.changedTouches,J=V.length,Q,K,q,Z;for($x(D),Q=0;Q<J;++Q)K=V[Q],q=ou(K,this),L.touch0&&L.touch0[2]===K.identifier?L.touch0[0]=q:L.touch1&&L.touch1[2]===K.identifier&&(L.touch1[0]=q);if(K=L.that.__zoom,L.touch1){var Y=L.touch0[0],ne=L.touch0[1],re=L.touch1[0],ie=L.touch1[1],ce=(ce=re[0]-Y[0])*ce+(ce=re[1]-Y[1])*ce,he=(he=ie[0]-ne[0])*he+(he=ie[1]-ne[1])*he;K=w(K,Math.sqrt(ce/he)),q=[(Y[0]+re[0])/2,(Y[1]+re[1])/2],Z=[(ne[0]+ie[0])/2,(ne[1]+ie[1])/2]}else if(L.touch0)q=L.touch0[0],Z=L.touch0[1];else return;L.zoom("touch",n(T(K,q,Z),L.extent,s))}}function $(D,...H){if(this.__zooming){var L=j(this,H).event(D),V=D.changedTouches,J=V.length,Q,K;for(x6(D),m&&clearTimeout(m),m=setTimeout(function(){m=null},y),Q=0;Q<J;++Q)K=V[Q],L.touch0&&L.touch0[2]===K.identifier?delete L.touch0:L.touch1&&L.touch1[2]===K.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(K=ou(K,this),Math.hypot(h[0]-K[0],h[1]-K[1])<_)){var q=_c(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return C.wheelDelta=function(D){return arguments.length?(r=typeof D=="function"?D:f4(+D),C):r},C.filter=function(D){return arguments.length?(t=typeof D=="function"?D:f4(!!D),C):t},C.touchable=function(D){return arguments.length?(a=typeof D=="function"?D:f4(!!D),C):a},C.extent=function(D){return arguments.length?(e=typeof D=="function"?D:f4([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),C):e},C.scaleExtent=function(D){return arguments.length?(i[0]=+D[0],i[1]=+D[1],C):[i[0],i[1]]},C.translateExtent=function(D){return arguments.length?(s[0][0]=+D[0][0],s[1][0]=+D[1][0],s[0][1]=+D[0][1],s[1][1]=+D[1][1],C):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},C.constrain=function(D){return arguments.length?(n=D,C):n},C.duration=function(D){return arguments.length?(o=+D,C):o},C.interpolate=function(D){return arguments.length?(l=D,C):l},C.on=function(){var D=u.on.apply(u,arguments);return D===u?C:D},C.clickDistance=function(D){return arguments.length?(v=(D=+D)*D,C):Math.sqrt(v)},C.tapDistance=function(D){return arguments.length?(_=+D,C):_},C}const yw=A.createContext(null),AYe=yw.Provider,Uf={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},tte=Uf.error001();function ia(t,e){const n=A.useContext(yw);if(n===null)throw new Error(tte);return Tee(n,t,e)}const Bi=()=>{const t=A.useContext(yw);if(t===null)throw new Error(tte);return A.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},RYe=t=>t.userSelectionActive?"none":"all";function RD({position:t,children:e,className:n,style:r,...a}){const i=ia(RYe),s=`${t}`.split("-");return je.createElement("div",{className:ws(["react-flow__panel",n,...s]),style:{...r,pointerEvents:i},...a},e)}function kYe({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:je.createElement(RD,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},je.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const IYe=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:a=!0,labelBgStyle:i={},labelBgPadding:s=[2,4],labelBgBorderRadius:o=2,children:l,className:u,...d})=>{const h=A.useRef(null),[m,y]=A.useState({x:0,y:0,width:0,height:0}),x=ws(["react-flow__edge-textwrapper",u]);return A.useEffect(()=>{if(h.current){const v=h.current.getBBox();y({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:je.createElement("g",{transform:`translate(${t-m.width/2} ${e-m.height/2})`,className:x,visibility:m.width?"visible":"hidden",...d},a&&je.createElement("rect",{width:m.width+2*s[0],x:-s[0],y:-s[1],height:m.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:o,ry:o}),je.createElement("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:h,style:r},n),l)};var jYe=A.memo(IYe);const kD=t=>({width:t.offsetWidth,height:t.offsetHeight}),fy=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),ID=(t={x:0,y:0},e)=>({x:fy(t.x,e[0][0],e[1][0]),y:fy(t.y,e[0][1],e[1][1])}),CH=(t,e,n)=>t<e?fy(Math.abs(t-e),1,50)/50:t>n?-fy(Math.abs(t-n),1,50)/50:0,nte=(t,e)=>{const n=CH(t.x,35,e.width-35)*20,r=CH(t.y,35,e.height-35)*20;return[n,r]},rte=t=>t.getRootNode?.()||window?.document,ate=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),jv=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),ite=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),wH=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),OYe=(t,e)=>ite(ate(jv(t),jv(e))),sj=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},DYe=t=>Tc(t.width)&&Tc(t.height)&&Tc(t.x)&&Tc(t.y),Tc=t=>!isNaN(t)&&isFinite(t),Za=Symbol.for("internals"),ste=["Enter"," ","Escape"],NYe=(t,e)=>{},MYe=t=>"nativeEvent"in t;function oj(t){const n=(MYe(t)?t.nativeEvent:t).composedPath?.()?.[0]||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const ote=t=>"clientX"in t,Sp=(t,e)=>{const n=ote(t),r=n?t.clientX:t.touches?.[0].clientX,a=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:a-(e?.top??0)}},VC=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,mS=({id:t,path:e,labelX:n,labelY:r,label:a,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:m,interactionWidth:y=20})=>je.createElement(je.Fragment,null,je.createElement("path",{id:t,style:d,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:m}),y&&je.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:y,className:"react-flow__edge-interaction"}),a&&Tc(n)&&Tc(r)?je.createElement(jYe,{x:n,y:r,label:a,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u}):null);mS.displayName="BaseEdge";function Gx(t,e,n){return n===void 0?n:r=>{const a=e().edges.find(i=>i.id===t);a&&n(r,{...a})}}function lte({sourceX:t,sourceY:e,targetX:n,targetY:r}){const a=Math.abs(n-t)/2,i=n<t?n+a:n-a,s=Math.abs(r-e)/2,o=r<e?r+s:r-s;return[i,o,a,s]}function cte({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:a,sourceControlY:i,targetControlX:s,targetControlY:o}){const l=t*.125+a*.375+s*.375+n*.125,u=e*.125+i*.375+o*.375+r*.125,d=Math.abs(l-t),h=Math.abs(u-e);return[l,u,d,h]}var Tg;(function(t){t.Strict="strict",t.Loose="loose"})(Tg||(Tg={}));var eg;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(eg||(eg={}));var Ov;(function(t){t.Partial="partial",t.Full="full"})(Ov||(Ov={}));var np;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(np||(np={}));var Dv;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Dv||(Dv={}));var ln;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(ln||(ln={}));function EH({pos:t,x1:e,y1:n,x2:r,y2:a}){return t===ln.Left||t===ln.Right?[.5*(e+r),n]:[e,.5*(n+a)]}function ute({sourceX:t,sourceY:e,sourcePosition:n=ln.Bottom,targetX:r,targetY:a,targetPosition:i=ln.Top}){const[s,o]=EH({pos:n,x1:t,y1:e,x2:r,y2:a}),[l,u]=EH({pos:i,x1:r,y1:a,x2:t,y2:e}),[d,h,m,y]=cte({sourceX:t,sourceY:e,targetX:r,targetY:a,sourceControlX:s,sourceControlY:o,targetControlX:l,targetControlY:u});return[`M${t},${e} C${s},${o} ${l},${u} ${r},${a}`,d,h,m,y]}const jD=A.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:a=ln.Bottom,targetPosition:i=ln.Top,label:s,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:m,markerEnd:y,markerStart:x,interactionWidth:v})=>{const[_,C,w]=ute({sourceX:t,sourceY:e,sourcePosition:a,targetX:n,targetY:r,targetPosition:i});return je.createElement(mS,{path:_,labelX:C,labelY:w,label:s,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:m,markerEnd:y,markerStart:x,interactionWidth:v})});jD.displayName="SimpleBezierEdge";const TH={[ln.Left]:{x:-1,y:0},[ln.Right]:{x:1,y:0},[ln.Top]:{x:0,y:-1},[ln.Bottom]:{x:0,y:1}},PYe=({source:t,sourcePosition:e=ln.Bottom,target:n})=>e===ln.Left||e===ln.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},AH=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function LYe({source:t,sourcePosition:e=ln.Bottom,target:n,targetPosition:r=ln.Top,center:a,offset:i}){const s=TH[e],o=TH[r],l={x:t.x+s.x*i,y:t.y+s.y*i},u={x:n.x+o.x*i,y:n.y+o.y*i},d=PYe({source:l,sourcePosition:e,target:u}),h=d.x!==0?"x":"y",m=d[h];let y=[],x,v;const _={x:0,y:0},C={x:0,y:0},[w,T,E,k]=lte({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(s[h]*o[h]===-1){x=a.x??w,v=a.y??T;const O=[{x,y:l.y},{x,y:u.y}],z=[{x:l.x,y:v},{x:u.x,y:v}];s[h]===m?y=h==="x"?O:z:y=h==="x"?z:O}else{const O=[{x:l.x,y:u.y}],z=[{x:u.x,y:l.y}];if(h==="x"?y=s.x===m?z:O:y=s.y===m?O:z,e===r){const $=Math.abs(t[h]-n[h]);if($<=i){const D=Math.min(i-1,i-$);s[h]===m?_[h]=(l[h]>t[h]?-1:1)*D:C[h]=(u[h]>n[h]?-1:1)*D}}if(e!==r){const $=h==="x"?"y":"x",D=s[h]===o[$],H=l[$]>u[$],L=l[$]<u[$];(s[h]===1&&(!D&&H||D&&L)||s[h]!==1&&(!D&&L||D&&H))&&(y=h==="x"?O:z)}const M={x:l.x+_.x,y:l.y+_.y},N={x:u.x+C.x,y:u.y+C.y},U=Math.max(Math.abs(M.x-y[0].x),Math.abs(N.x-y[0].x)),F=Math.max(Math.abs(M.y-y[0].y),Math.abs(N.y-y[0].y));U>=F?(x=(M.x+N.x)/2,v=y[0].y):(x=y[0].x,v=(M.y+N.y)/2)}return[[t,{x:l.x+_.x,y:l.y+_.y},...y,{x:u.x+C.x,y:u.y+C.y},n],x,v,E,k]}function zYe(t,e,n,r){const a=Math.min(AH(t,e)/2,AH(e,n)/2,r),{x:i,y:s}=e;if(t.x===i&&i===n.x||t.y===s&&s===n.y)return`L${i} ${s}`;if(t.y===s){const u=t.x<n.x?-1:1,d=t.y<n.y?1:-1;return`L ${i+a*u},${s}Q ${i},${s} ${i},${s+a*d}`}const o=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${i},${s+a*l}Q ${i},${s} ${i+a*o},${s}`}function lj({sourceX:t,sourceY:e,sourcePosition:n=ln.Bottom,targetX:r,targetY:a,targetPosition:i=ln.Top,borderRadius:s=5,centerX:o,centerY:l,offset:u=20}){const[d,h,m,y,x]=LYe({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:a},targetPosition:i,center:{x:o,y:l},offset:u});return[d.reduce((_,C,w)=>{let T="";return w>0&&w<d.length-1?T=zYe(d[w-1],C,d[w+1],s):T=`${w===0?"M":"L"}${C.x} ${C.y}`,_+=T,_},""),h,m,y,x]}const bw=A.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:a,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:d,sourcePosition:h=ln.Bottom,targetPosition:m=ln.Top,markerEnd:y,markerStart:x,pathOptions:v,interactionWidth:_})=>{const[C,w,T]=lj({sourceX:t,sourceY:e,sourcePosition:h,targetX:n,targetY:r,targetPosition:m,borderRadius:v?.borderRadius,offset:v?.offset});return je.createElement(mS,{path:C,labelX:w,labelY:T,label:a,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:y,markerStart:x,interactionWidth:_})});bw.displayName="SmoothStepEdge";const OD=A.memo(t=>je.createElement(bw,{...t,pathOptions:A.useMemo(()=>({borderRadius:0,offset:t.pathOptions?.offset}),[t.pathOptions?.offset])}));OD.displayName="StepEdge";function FYe({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[a,i,s,o]=lte({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,a,i,s,o]}const DD=A.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:a,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:m,interactionWidth:y})=>{const[x,v,_]=FYe({sourceX:t,sourceY:e,targetX:n,targetY:r});return je.createElement(mS,{path:x,labelX:v,labelY:_,label:a,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:m,interactionWidth:y})});DD.displayName="StraightEdge";function h4(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function RH({pos:t,x1:e,y1:n,x2:r,y2:a,c:i}){switch(t){case ln.Left:return[e-h4(e-r,i),n];case ln.Right:return[e+h4(r-e,i),n];case ln.Top:return[e,n-h4(n-a,i)];case ln.Bottom:return[e,n+h4(a-n,i)]}}function dte({sourceX:t,sourceY:e,sourcePosition:n=ln.Bottom,targetX:r,targetY:a,targetPosition:i=ln.Top,curvature:s=.25}){const[o,l]=RH({pos:n,x1:t,y1:e,x2:r,y2:a,c:s}),[u,d]=RH({pos:i,x1:r,y1:a,x2:t,y2:e,c:s}),[h,m,y,x]=cte({sourceX:t,sourceY:e,targetX:r,targetY:a,sourceControlX:o,sourceControlY:l,targetControlX:u,targetControlY:d});return[`M${t},${e} C${o},${l} ${u},${d} ${r},${a}`,h,m,y,x]}const WC=A.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:a=ln.Bottom,targetPosition:i=ln.Top,label:s,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:m,markerEnd:y,markerStart:x,pathOptions:v,interactionWidth:_})=>{const[C,w,T]=dte({sourceX:t,sourceY:e,sourcePosition:a,targetX:n,targetY:r,targetPosition:i,curvature:v?.curvature});return je.createElement(mS,{path:C,labelX:w,labelY:T,label:s,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:m,markerEnd:y,markerStart:x,interactionWidth:_})});WC.displayName="BezierEdge";const ND=A.createContext(null),BYe=ND.Provider;ND.Consumer;const HYe=()=>A.useContext(ND),UYe=t=>"id"in t&&"source"in t&&"target"in t,$Ye=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,cj=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,GYe=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),qYe=(t,e)=>{if(!t.source||!t.target)return e;let n;return UYe(t)?n={...t}:n={...t,id:$Ye(t)},GYe(n,e)?e:e.concat(n)},uj=({x:t,y:e},[n,r,a],i,[s,o])=>{const l={x:(t-n)/a,y:(e-r)/a};return i?{x:s*Math.round(l.x/s),y:o*Math.round(l.y/o)}:l},fte=({x:t,y:e},[n,r,a])=>({x:t*a+n,y:e*a+r}),cg=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],a={x:t.position.x-n,y:t.position.y-r};return{...a,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:a}},xw=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,a)=>{const{x:i,y:s}=cg(a,e).positionAbsolute;return ate(r,jv({x:i,y:s,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return ite(n)},hte=(t,e,[n,r,a]=[0,0,1],i=!1,s=!1,o=[0,0])=>{const l={x:(e.x-n)/a,y:(e.y-r)/a,width:e.width/a,height:e.height/a},u=[];return t.forEach(d=>{const{width:h,height:m,selectable:y=!0,hidden:x=!1}=d;if(s&&!y||x)return!1;const{positionAbsolute:v}=cg(d,o),_={x:v.x,y:v.y,width:h||0,height:m||0},C=sj(l,_),w=typeof h>"u"||typeof m>"u"||h===null||m===null,T=i&&C>0,E=(h||0)*(m||0);(w||T||C>=E||d.dragging)&&u.push(d)}),u},pte=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},mte=(t,e,n,r,a,i=.1)=>{const s=e/(t.width*(1+i)),o=n/(t.height*(1+i)),l=Math.min(s,o),u=fy(l,r,a),d=t.x+t.width/2,h=t.y+t.height/2,m=e/2-d*u,y=n/2-h*u;return{x:m,y,zoom:u}},Pm=(t,e=0)=>t.transition().duration(e);function kH(t,e,n,r){return(e[n]||[]).reduce((a,i)=>(`${t.id}-${i.id}-${n}`!==r&&a.push({id:i.id||null,type:n,nodeId:t.id,x:(t.positionAbsolute?.x??0)+i.x+i.width/2,y:(t.positionAbsolute?.y??0)+i.y+i.height/2}),a),[])}function VYe(t,e,n,r,a,i){const{x:s,y:o}=Sp(t),u=e.elementsFromPoint(s,o).find(x=>x.classList.contains("react-flow__handle"));if(u){const x=u.getAttribute("data-nodeid");if(x){const v=MD(void 0,u),_=u.getAttribute("data-handleid"),C=i({nodeId:x,id:_,type:v});if(C){const w=a.find(T=>T.nodeId===x&&T.type===v&&T.id===_);return{handle:{id:_,type:v,nodeId:x,x:w?.x||n.x,y:w?.y||n.y},validHandleResult:C}}}}let d=[],h=1/0;if(a.forEach(x=>{const v=Math.sqrt((x.x-n.x)**2+(x.y-n.y)**2);if(v<=r){const _=i(x);v<=h&&(v<h?d=[{handle:x,validHandleResult:_}]:v===h&&d.push({handle:x,validHandleResult:_}),h=v)}}),!d.length)return{handle:null,validHandleResult:gte()};if(d.length===1)return d[0];const m=d.some(({validHandleResult:x})=>x.isValid),y=d.some(({handle:x})=>x.type==="target");return d.find(({handle:x,validHandleResult:v})=>y?x.type==="target":m?v.isValid:!0)||d[0]}const WYe={source:null,target:null,sourceHandle:null,targetHandle:null},gte=()=>({handleDomNode:null,isValid:!1,connection:WYe,endHandle:null});function yte(t,e,n,r,a,i,s){const o=a==="target",l=s.querySelector(`.react-flow__handle[data-id="${t?.nodeId}-${t?.id}-${t?.type}"]`),u={...gte(),handleDomNode:l};if(l){const d=MD(void 0,l),h=l.getAttribute("data-nodeid"),m=l.getAttribute("data-handleid"),y=l.classList.contains("connectable"),x=l.classList.contains("connectableend"),v={source:o?h:n,sourceHandle:o?m:r,target:o?n:h,targetHandle:o?r:m};u.connection=v,y&&x&&(e===Tg.Strict?o&&d==="source"||!o&&d==="target":h!==n||m!==r)&&(u.endHandle={nodeId:h,handleId:m,type:d},u.isValid=i(v))}return u}function YYe({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((a,i)=>{if(i[Za]){const{handleBounds:s}=i[Za];let o=[],l=[];s&&(o=kH(i,s,"source",`${e}-${n}-${r}`),l=kH(i,s,"target",`${e}-${n}-${r}`)),a.push(...o,...l)}return a},[])}function MD(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function v6(t){t?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function KYe(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function bte({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:a,getState:i,setState:s,isValidConnection:o,edgeUpdaterType:l,onReconnectEnd:u}){const d=rte(t.target),{connectionMode:h,domNode:m,autoPanOnConnect:y,connectionRadius:x,onConnectStart:v,panBy:_,getNodes:C,cancelConnection:w}=i();let T=0,E;const{x:k,y:j}=Sp(t),O=d?.elementFromPoint(k,j),z=MD(l,O),M=m?.getBoundingClientRect();if(!M||!z)return;let N,U=Sp(t,M),F=!1,$=null,D=!1,H=null;const L=YYe({nodes:C(),nodeId:n,handleId:e,handleType:z}),V=()=>{if(!y)return;const[K,q]=nte(U,M);_({x:K,y:q}),T=requestAnimationFrame(V)};s({connectionPosition:U,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:z,connectionStartHandle:{nodeId:n,handleId:e,type:z},connectionEndHandle:null}),v?.(t,{nodeId:n,handleId:e,handleType:z});function J(K){const{transform:q}=i();U=Sp(K,M);const{handle:Z,validHandleResult:Y}=VYe(K,d,uj(U,q,!1,[1,1]),x,L,ne=>yte(ne,h,n,e,a?"target":"source",o,d));if(E=Z,F||(V(),F=!0),H=Y.handleDomNode,$=Y.connection,D=Y.isValid,s({connectionPosition:E&&D?fte({x:E.x,y:E.y},q):U,connectionStatus:KYe(!!E,D),connectionEndHandle:Y.endHandle}),!E&&!D&&!H)return v6(N);$.source!==$.target&&H&&(v6(N),N=H,H.classList.add("connecting","react-flow__handle-connecting"),H.classList.toggle("valid",D),H.classList.toggle("react-flow__handle-valid",D))}function Q(K){(E||H)&&$&&D&&r?.($),i().onConnectEnd?.(K),l&&u?.(K),v6(N),w(),cancelAnimationFrame(T),F=!1,D=!1,$=null,H=null,d.removeEventListener("mousemove",J),d.removeEventListener("mouseup",Q),d.removeEventListener("touchmove",J),d.removeEventListener("touchend",Q)}d.addEventListener("mousemove",J),d.addEventListener("mouseup",Q),d.addEventListener("touchmove",J),d.addEventListener("touchend",Q)}const IH=()=>!0,XYe=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),QYe=(t,e,n)=>r=>{const{connectionStartHandle:a,connectionEndHandle:i,connectionClickStartHandle:s}=r;return{connecting:a?.nodeId===t&&a?.handleId===e&&a?.type===n||i?.nodeId===t&&i?.handleId===e&&i?.type===n,clickConnecting:s?.nodeId===t&&s?.handleId===e&&s?.type===n}},xte=A.forwardRef(({type:t="source",position:e=ln.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:a=!0,isConnectableEnd:i=!0,id:s,onConnect:o,children:l,className:u,onMouseDown:d,onTouchStart:h,...m},y)=>{const x=s||null,v=t==="target",_=Bi(),C=HYe(),{connectOnClick:w,noPanClassName:T}=ia(XYe,ns),{connecting:E,clickConnecting:k}=ia(QYe(C,x,t),ns);C||_.getState().onError?.("010",Uf.error010());const j=M=>{const{defaultEdgeOptions:N,onConnect:U,hasDefaultEdges:F}=_.getState(),$={...N,...M};if(F){const{edges:D,setEdges:H}=_.getState();H(qYe($,D))}U?.($),o?.($)},O=M=>{if(!C)return;const N=ote(M);a&&(N&&M.button===0||!N)&&bte({event:M,handleId:x,nodeId:C,onConnect:j,isTarget:v,getState:_.getState,setState:_.setState,isValidConnection:n||_.getState().isValidConnection||IH}),N?d?.(M):h?.(M)},z=M=>{const{onClickConnectStart:N,onClickConnectEnd:U,connectionClickStartHandle:F,connectionMode:$,isValidConnection:D}=_.getState();if(!C||!F&&!a)return;if(!F){N?.(M,{nodeId:C,handleId:x,handleType:t}),_.setState({connectionClickStartHandle:{nodeId:C,type:t,handleId:x}});return}const H=rte(M.target),L=n||D||IH,{connection:V,isValid:J}=yte({nodeId:C,id:x,type:t},$,F.nodeId,F.handleId||null,F.type,L,H);J&&j(V),U?.(M),_.setState({connectionClickStartHandle:null})};return je.createElement("div",{"data-handleid":x,"data-nodeid":C,"data-handlepos":e,"data-id":`${C}-${x}-${t}`,className:ws(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",T,u,{source:!v,target:v,connectable:r,connectablestart:a,connectableend:i,connecting:k,connectionindicator:r&&(a&&!E||i&&E)}]),onMouseDown:O,onTouchStart:O,onClick:w?z:void 0,ref:y,...m},l)});xte.displayName="Handle";var hy=A.memo(xte);const vte=({data:t,isConnectable:e,targetPosition:n=ln.Top,sourcePosition:r=ln.Bottom})=>je.createElement(je.Fragment,null,je.createElement(hy,{type:"target",position:n,isConnectable:e}),t?.label,je.createElement(hy,{type:"source",position:r,isConnectable:e}));vte.displayName="DefaultNode";var dj=A.memo(vte);const Ste=({data:t,isConnectable:e,sourcePosition:n=ln.Bottom})=>je.createElement(je.Fragment,null,t?.label,je.createElement(hy,{type:"source",position:n,isConnectable:e}));Ste.displayName="InputNode";var _te=A.memo(Ste);const Cte=({data:t,isConnectable:e,targetPosition:n=ln.Top})=>je.createElement(je.Fragment,null,je.createElement(hy,{type:"target",position:n,isConnectable:e}),t?.label);Cte.displayName="OutputNode";var wte=A.memo(Cte);const PD=()=>null;PD.displayName="GroupNode";const ZYe=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),p4=t=>t.id;function JYe(t,e){return ns(t.selectedNodes.map(p4),e.selectedNodes.map(p4))&&ns(t.selectedEdges.map(p4),e.selectedEdges.map(p4))}const Ete=A.memo(({onSelectionChange:t})=>{const e=Bi(),{selectedNodes:n,selectedEdges:r}=ia(ZYe,JYe);return A.useEffect(()=>{const a={nodes:n,edges:r};t?.(a),e.getState().onSelectionChange.forEach(i=>i(a))},[n,r,t]),null});Ete.displayName="SelectionListener";const eKe=t=>!!t.onSelectionChange;function tKe({onSelectionChange:t}){const e=ia(eKe);return t||e?je.createElement(Ete,{onSelectionChange:t}):null}const nKe=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function g1(t,e){A.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function Kn(t,e,n){A.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const rKe=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:a,onConnectStart:i,onConnectEnd:s,onClickConnectStart:o,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:d,nodesFocusable:h,edgesFocusable:m,edgesUpdatable:y,elevateNodesOnSelect:x,minZoom:v,maxZoom:_,nodeExtent:C,onNodesChange:w,onEdgesChange:T,elementsSelectable:E,connectionMode:k,snapGrid:j,snapToGrid:O,translateExtent:z,connectOnClick:M,defaultEdgeOptions:N,fitView:U,fitViewOptions:F,onNodesDelete:$,onEdgesDelete:D,onNodeDrag:H,onNodeDragStart:L,onNodeDragStop:V,onSelectionDrag:J,onSelectionDragStart:Q,onSelectionDragStop:K,noPanClassName:q,nodeOrigin:Z,rfId:Y,autoPanOnConnect:ne,autoPanOnNodeDrag:re,onError:ie,connectionRadius:ce,isValidConnection:he,nodeDragThreshold:me})=>{const{setNodes:le,setEdges:de,setDefaultNodesAndEdges:pe,setMinZoom:ve,setMaxZoom:ge,setTranslateExtent:oe,setNodeExtent:Se,reset:be}=ia(nKe,ns),Ae=Bi();return A.useEffect(()=>{const Me=r?.map(Pe=>({...Pe,...N}));return pe(n,Me),()=>{be()}},[]),Kn("defaultEdgeOptions",N,Ae.setState),Kn("connectionMode",k,Ae.setState),Kn("onConnect",a,Ae.setState),Kn("onConnectStart",i,Ae.setState),Kn("onConnectEnd",s,Ae.setState),Kn("onClickConnectStart",o,Ae.setState),Kn("onClickConnectEnd",l,Ae.setState),Kn("nodesDraggable",u,Ae.setState),Kn("nodesConnectable",d,Ae.setState),Kn("nodesFocusable",h,Ae.setState),Kn("edgesFocusable",m,Ae.setState),Kn("edgesUpdatable",y,Ae.setState),Kn("elementsSelectable",E,Ae.setState),Kn("elevateNodesOnSelect",x,Ae.setState),Kn("snapToGrid",O,Ae.setState),Kn("snapGrid",j,Ae.setState),Kn("onNodesChange",w,Ae.setState),Kn("onEdgesChange",T,Ae.setState),Kn("connectOnClick",M,Ae.setState),Kn("fitViewOnInit",U,Ae.setState),Kn("fitViewOnInitOptions",F,Ae.setState),Kn("onNodesDelete",$,Ae.setState),Kn("onEdgesDelete",D,Ae.setState),Kn("onNodeDrag",H,Ae.setState),Kn("onNodeDragStart",L,Ae.setState),Kn("onNodeDragStop",V,Ae.setState),Kn("onSelectionDrag",J,Ae.setState),Kn("onSelectionDragStart",Q,Ae.setState),Kn("onSelectionDragStop",K,Ae.setState),Kn("noPanClassName",q,Ae.setState),Kn("nodeOrigin",Z,Ae.setState),Kn("rfId",Y,Ae.setState),Kn("autoPanOnConnect",ne,Ae.setState),Kn("autoPanOnNodeDrag",re,Ae.setState),Kn("onError",ie,Ae.setState),Kn("connectionRadius",ce,Ae.setState),Kn("isValidConnection",he,Ae.setState),Kn("nodeDragThreshold",me,Ae.setState),g1(t,le),g1(e,de),g1(v,ve),g1(_,ge),g1(z,oe),g1(C,Se),null},jH={display:"none"},aKe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Tte="react-flow__node-desc",Ate="react-flow__edge-desc",iKe="react-flow__aria-live",sKe=t=>t.ariaLiveMessage;function oKe({rfId:t}){const e=ia(sKe);return je.createElement("div",{id:`${iKe}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:aKe},e)}function lKe({rfId:t,disableKeyboardA11y:e}){return je.createElement(je.Fragment,null,je.createElement("div",{id:`${Tte}-${t}`,style:jH},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),je.createElement("div",{id:`${Ate}-${t}`,style:jH},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&je.createElement(oKe,{rfId:t}))}var Nv=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=A.useState(!1),a=A.useRef(!1),i=A.useRef(new Set([])),[s,o]=A.useMemo(()=>{if(t!==null){const u=(Array.isArray(t)?t:[t]).filter(h=>typeof h=="string").map(h=>h.split("+")),d=u.reduce((h,m)=>h.concat(...m),[]);return[u,d]}return[[],[]]},[t]);return A.useEffect(()=>{const l=typeof document<"u"?document:null,u=e?.target||l;if(t!==null){const d=y=>{if(a.current=y.ctrlKey||y.metaKey||y.shiftKey,(!a.current||a.current&&!e.actInsideInputWithModifier)&&oj(y))return!1;const v=DH(y.code,o);i.current.add(y[v]),OH(s,i.current,!1)&&(y.preventDefault(),r(!0))},h=y=>{if((!a.current||a.current&&!e.actInsideInputWithModifier)&&oj(y))return!1;const v=DH(y.code,o);OH(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(y[v]),y.key==="Meta"&&i.current.clear(),a.current=!1},m=()=>{i.current.clear(),r(!1)};return u?.addEventListener("keydown",d),u?.addEventListener("keyup",h),window.addEventListener("blur",m),()=>{u?.removeEventListener("keydown",d),u?.removeEventListener("keyup",h),window.removeEventListener("blur",m)}}},[t,r]),n};function OH(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(a=>e.has(a)))}function DH(t,e){return e.includes(t)?"code":"key"}function Rte(t,e,n,r){const a=t.parentNode||t.parentId;if(!a)return n;const i=e.get(a),s=cg(i,r);return Rte(i,e,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(i[Za]?.z??0)>(n.z??0)?i[Za]?.z??0:n.z??0},r)}function kte(t,e,n){t.forEach(r=>{const a=r.parentNode||r.parentId;if(a&&!t.has(a))throw new Error(`Parent node ${a} not found`);if(a||n?.[r.id]){const{x:i,y:s,z:o}=Rte(r,t,{...r.position,z:r[Za]?.z??0},e);r.positionAbsolute={x:i,y:s},r[Za].z=o,n?.[r.id]&&(r[Za].isParent=!0)}})}function S6(t,e,n,r){const a=new Map,i={},s=r?1e3:0;return t.forEach(o=>{const l=(Tc(o.zIndex)?o.zIndex:0)+(o.selected?s:0),u=e.get(o.id),d={...o,positionAbsolute:{x:o.position.x,y:o.position.y}},h=o.parentNode||o.parentId;h&&(i[h]=!0);const m=u?.type&&u?.type!==o.type;Object.defineProperty(d,Za,{enumerable:!1,value:{handleBounds:m?void 0:u?.[Za]?.handleBounds,z:l}}),a.set(o.id,d)}),kte(a,n,i),a}function Ite(t,e={}){const{getNodes:n,width:r,height:a,minZoom:i,maxZoom:s,d3Zoom:o,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:h}=t(),m=e.initial&&!u&&d;if(o&&l&&(m||!e.initial)){const x=n().filter(_=>{const C=e.includeHiddenNodes?_.width&&_.height:!_.hidden;return e.nodes?.length?C&&e.nodes.some(w=>w.id===_.id):C}),v=x.every(_=>_.width&&_.height);if(x.length>0&&v){const _=xw(x,h),{x:C,y:w,zoom:T}=mte(_,r,a,e.minZoom??i,e.maxZoom??s,e.padding??.1),E=Mf.translate(C,w).scale(T);return typeof e.duration=="number"&&e.duration>0?o.transform(Pm(l,e.duration),E):o.transform(l,E),!0}}return!1}function cKe(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[Za]:r[Za],selected:n.selected})}),new Map(e)}function uKe(t,e){return e.map(n=>{const r=t.find(a=>a.id===n.id);return r&&(n.selected=r.selected),n})}function m4({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:a,edges:i,onNodesChange:s,onEdgesChange:o,hasDefaultNodes:l,hasDefaultEdges:u}=n();t?.length&&(l&&r({nodeInternals:cKe(t,a)}),s?.(t)),e?.length&&(u&&r({edges:uKe(e,i)}),o?.(e))}const y1=()=>{},dKe={zoomIn:y1,zoomOut:y1,zoomTo:y1,getZoom:()=>1,setViewport:y1,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:y1,fitBounds:y1,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},fKe=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),hKe=()=>{const t=Bi(),{d3Zoom:e,d3Selection:n}=ia(fKe,ns);return A.useMemo(()=>n&&e?{zoomIn:a=>e.scaleBy(Pm(n,a?.duration),1.2),zoomOut:a=>e.scaleBy(Pm(n,a?.duration),1/1.2),zoomTo:(a,i)=>e.scaleTo(Pm(n,i?.duration),a),getZoom:()=>t.getState().transform[2],setViewport:(a,i)=>{const[s,o,l]=t.getState().transform,u=Mf.translate(a.x??s,a.y??o).scale(a.zoom??l);e.transform(Pm(n,i?.duration),u)},getViewport:()=>{const[a,i,s]=t.getState().transform;return{x:a,y:i,zoom:s}},fitView:a=>Ite(t.getState,a),setCenter:(a,i,s)=>{const{width:o,height:l,maxZoom:u}=t.getState(),d=typeof s?.zoom<"u"?s.zoom:u,h=o/2-a*d,m=l/2-i*d,y=Mf.translate(h,m).scale(d);e.transform(Pm(n,s?.duration),y)},fitBounds:(a,i)=>{const{width:s,height:o,minZoom:l,maxZoom:u}=t.getState(),{x:d,y:h,zoom:m}=mte(a,s,o,l,u,i?.padding??.1),y=Mf.translate(d,h).scale(m);e.transform(Pm(n,i?.duration),y)},project:a=>{const{transform:i,snapToGrid:s,snapGrid:o}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),uj(a,i,s,o)},screenToFlowPosition:a=>{const{transform:i,snapToGrid:s,snapGrid:o,domNode:l}=t.getState();if(!l)return a;const{x:u,y:d}=l.getBoundingClientRect(),h={x:a.x-u,y:a.y-d};return uj(h,i,s,o)},flowToScreenPosition:a=>{const{transform:i,domNode:s}=t.getState();if(!s)return a;const{x:o,y:l}=s.getBoundingClientRect(),u=fte(a,i);return{x:u.x+o,y:u.y+l}},viewportInitialized:!0}:dKe,[e,n])};function LD(){const t=hKe(),e=Bi(),n=A.useCallback(()=>e.getState().getNodes().map(v=>({...v})),[]),r=A.useCallback(v=>e.getState().nodeInternals.get(v),[]),a=A.useCallback(()=>{const{edges:v=[]}=e.getState();return v.map(_=>({..._}))},[]),i=A.useCallback(v=>{const{edges:_=[]}=e.getState();return _.find(C=>C.id===v)},[]),s=A.useCallback(v=>{const{getNodes:_,setNodes:C,hasDefaultNodes:w,onNodesChange:T}=e.getState(),E=_(),k=typeof v=="function"?v(E):v;if(w)C(k);else if(T){const j=k.length===0?E.map(O=>({type:"remove",id:O.id})):k.map(O=>({item:O,type:"reset"}));T(j)}},[]),o=A.useCallback(v=>{const{edges:_=[],setEdges:C,hasDefaultEdges:w,onEdgesChange:T}=e.getState(),E=typeof v=="function"?v(_):v;if(w)C(E);else if(T){const k=E.length===0?_.map(j=>({type:"remove",id:j.id})):E.map(j=>({item:j,type:"reset"}));T(k)}},[]),l=A.useCallback(v=>{const _=Array.isArray(v)?v:[v],{getNodes:C,setNodes:w,hasDefaultNodes:T,onNodesChange:E}=e.getState();if(T){const j=[...C(),..._];w(j)}else if(E){const k=_.map(j=>({item:j,type:"add"}));E(k)}},[]),u=A.useCallback(v=>{const _=Array.isArray(v)?v:[v],{edges:C=[],setEdges:w,hasDefaultEdges:T,onEdgesChange:E}=e.getState();if(T)w([...C,..._]);else if(E){const k=_.map(j=>({item:j,type:"add"}));E(k)}},[]),d=A.useCallback(()=>{const{getNodes:v,edges:_=[],transform:C}=e.getState(),[w,T,E]=C;return{nodes:v().map(k=>({...k})),edges:_.map(k=>({...k})),viewport:{x:w,y:T,zoom:E}}},[]),h=A.useCallback(({nodes:v,edges:_})=>{const{nodeInternals:C,getNodes:w,edges:T,hasDefaultNodes:E,hasDefaultEdges:k,onNodesDelete:j,onEdgesDelete:O,onNodesChange:z,onEdgesChange:M}=e.getState(),N=(v||[]).map(H=>H.id),U=(_||[]).map(H=>H.id),F=w().reduce((H,L)=>{const V=L.parentNode||L.parentId,J=!N.includes(L.id)&&V&&H.find(K=>K.id===V);return(typeof L.deletable=="boolean"?L.deletable:!0)&&(N.includes(L.id)||J)&&H.push(L),H},[]),$=T.filter(H=>typeof H.deletable=="boolean"?H.deletable:!0),D=$.filter(H=>U.includes(H.id));if(F||D){const H=pte(F,$),L=[...D,...H],V=L.reduce((J,Q)=>(J.includes(Q.id)||J.push(Q.id),J),[]);if((k||E)&&(k&&e.setState({edges:T.filter(J=>!V.includes(J.id))}),E&&(F.forEach(J=>{C.delete(J.id)}),e.setState({nodeInternals:new Map(C)}))),V.length>0&&(O?.(L),M&&M(V.map(J=>({id:J,type:"remove"})))),F.length>0&&(j?.(F),z)){const J=F.map(Q=>({id:Q.id,type:"remove"}));z(J)}}},[]),m=A.useCallback(v=>{const _=DYe(v),C=_?null:e.getState().nodeInternals.get(v.id);return!_&&!C?[null,null,_]:[_?v:wH(C),C,_]},[]),y=A.useCallback((v,_=!0,C)=>{const[w,T,E]=m(v);return w?(C||e.getState().getNodes()).filter(k=>{if(!E&&(k.id===T.id||!k.positionAbsolute))return!1;const j=wH(k),O=sj(j,w);return _&&O>0||O>=w.width*w.height}):[]},[]),x=A.useCallback((v,_,C=!0)=>{const[w]=m(v);if(!w)return!1;const T=sj(w,_);return C&&T>0||T>=w.width*w.height},[]);return A.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:a,getEdge:i,setNodes:s,setEdges:o,addNodes:l,addEdges:u,toObject:d,deleteElements:h,getIntersectingNodes:y,isNodeIntersecting:x}),[t,n,r,a,i,s,o,l,u,d,h,y,x])}const pKe={actInsideInputWithModifier:!1};var mKe=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=Bi(),{deleteElements:r}=LD(),a=Nv(t,pKe),i=Nv(e);A.useEffect(()=>{if(a){const{edges:s,getNodes:o}=n.getState(),l=o().filter(d=>d.selected),u=s.filter(d=>d.selected);r({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[a]),A.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function gKe(t){const e=Bi();A.useEffect(()=>{let n;const r=()=>{if(!t.current)return;const a=kD(t.current);(a.height===0||a.width===0)&&e.getState().onError?.("004",Uf.error004()),e.setState({width:a.width||500,height:a.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const zD={position:"absolute",width:"100%",height:"100%",top:0,left:0},yKe=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,g4=t=>({x:t.x,y:t.y,zoom:t.k}),b1=(t,e)=>t.target.closest(`.${e}`),NH=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),MH=t=>{const e=t.ctrlKey&&VC()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},bKe=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),xKe=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:a=!0,zoomOnPinch:i=!0,panOnScroll:s=!1,panOnScrollSpeed:o=.5,panOnScrollMode:l=eg.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:h=!0,defaultViewport:m,translateExtent:y,minZoom:x,maxZoom:v,zoomActivationKeyCode:_,preventScrolling:C=!0,children:w,noWheelClassName:T,noPanClassName:E})=>{const k=A.useRef(),j=Bi(),O=A.useRef(!1),z=A.useRef(!1),M=A.useRef(null),N=A.useRef({x:0,y:0,zoom:0}),{d3Zoom:U,d3Selection:F,d3ZoomHandler:$,userSelectionActive:D}=ia(bKe,ns),H=Nv(_),L=A.useRef(0),V=A.useRef(!1),J=A.useRef();return gKe(M),A.useEffect(()=>{if(M.current){const Q=M.current.getBoundingClientRect(),K=ete().scaleExtent([x,v]).translateExtent(y),q=_c(M.current).call(K),Z=Mf.translate(m.x,m.y).scale(fy(m.zoom,x,v)),Y=[[0,0],[Q.width,Q.height]],ne=K.constrain()(Z,Y,y);K.transform(q,ne),K.wheelDelta(MH),j.setState({d3Zoom:K,d3Selection:q,d3ZoomHandler:q.on("wheel.zoom"),transform:[ne.x,ne.y,ne.k],domNode:M.current.closest(".react-flow")})}},[]),A.useEffect(()=>{F&&U&&(s&&!H&&!D?F.on("wheel.zoom",Q=>{if(b1(Q,T))return!1;Q.preventDefault(),Q.stopImmediatePropagation();const K=F.property("__zoom").k||1;if(Q.ctrlKey&&i){const he=ou(Q),me=MH(Q),le=K*Math.pow(2,me);U.scaleTo(F,le,he,Q);return}const q=Q.deltaMode===1?20:1;let Z=l===eg.Vertical?0:Q.deltaX*q,Y=l===eg.Horizontal?0:Q.deltaY*q;!VC()&&Q.shiftKey&&l!==eg.Vertical&&(Z=Q.deltaY*q,Y=0),U.translateBy(F,-(Z/K)*o,-(Y/K)*o,{internal:!0});const ne=g4(F.property("__zoom")),{onViewportChangeStart:re,onViewportChange:ie,onViewportChangeEnd:ce}=j.getState();clearTimeout(J.current),V.current||(V.current=!0,e?.(Q,ne),re?.(ne)),V.current&&(t?.(Q,ne),ie?.(ne),J.current=setTimeout(()=>{n?.(Q,ne),ce?.(ne),V.current=!1},150))},{passive:!1}):typeof $<"u"&&F.on("wheel.zoom",function(Q,K){if(!C&&Q.type==="wheel"&&!Q.ctrlKey||b1(Q,T))return null;Q.preventDefault(),$.call(this,Q,K)},{passive:!1}))},[D,s,l,F,U,$,H,i,C,T,e,t,n]),A.useEffect(()=>{U&&U.on("start",Q=>{if(!Q.sourceEvent||Q.sourceEvent.internal)return null;L.current=Q.sourceEvent?.button;const{onViewportChangeStart:K}=j.getState(),q=g4(Q.transform);O.current=!0,N.current=q,Q.sourceEvent?.type==="mousedown"&&j.setState({paneDragging:!0}),K?.(q),e?.(Q.sourceEvent,q)})},[U,e]),A.useEffect(()=>{U&&(D&&!O.current?U.on("zoom",null):D||U.on("zoom",Q=>{const{onViewportChange:K}=j.getState();if(j.setState({transform:[Q.transform.x,Q.transform.y,Q.transform.k]}),z.current=!!(r&&NH(h,L.current??0)),(t||K)&&!Q.sourceEvent?.internal){const q=g4(Q.transform);K?.(q),t?.(Q.sourceEvent,q)}}))},[D,U,t,h,r]),A.useEffect(()=>{U&&U.on("end",Q=>{if(!Q.sourceEvent||Q.sourceEvent.internal)return null;const{onViewportChangeEnd:K}=j.getState();if(O.current=!1,j.setState({paneDragging:!1}),r&&NH(h,L.current??0)&&!z.current&&r(Q.sourceEvent),z.current=!1,(n||K)&&yKe(N.current,Q.transform)){const q=g4(Q.transform);N.current=q,clearTimeout(k.current),k.current=setTimeout(()=>{K?.(q),n?.(Q.sourceEvent,q)},s?150:0)}})},[U,s,h,n,r]),A.useEffect(()=>{U&&U.filter(Q=>{const K=H||a,q=i&&Q.ctrlKey;if((h===!0||Array.isArray(h)&&h.includes(1))&&Q.button===1&&Q.type==="mousedown"&&(b1(Q,"react-flow__node")||b1(Q,"react-flow__edge")))return!0;if(!h&&!K&&!s&&!u&&!i||D||!u&&Q.type==="dblclick"||b1(Q,T)&&Q.type==="wheel"||b1(Q,E)&&(Q.type!=="wheel"||s&&Q.type==="wheel"&&!H)||!i&&Q.ctrlKey&&Q.type==="wheel"||!K&&!s&&!q&&Q.type==="wheel"||!h&&(Q.type==="mousedown"||Q.type==="touchstart")||Array.isArray(h)&&!h.includes(Q.button)&&Q.type==="mousedown")return!1;const Z=Array.isArray(h)&&h.includes(Q.button)||!Q.button||Q.button<=1;return(!Q.ctrlKey||Q.type==="wheel")&&Z})},[D,U,a,i,s,u,h,d,H]),je.createElement("div",{className:"react-flow__renderer",ref:M,style:zD},w)},vKe=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function SKe(){const{userSelectionActive:t,userSelectionRect:e}=ia(vKe,ns);return t&&e?je.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function PH(t,e){const n=e.parentNode||e.parentId,r=t.find(a=>a.id===n);if(r){const a=e.position.x+e.width-r.width,i=e.position.y+e.height-r.height;if(a>0||i>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,a>0&&(r.style.width+=a),i>0&&(r.style.height+=i),e.position.x<0){const s=Math.abs(e.position.x);r.position.x=r.position.x-s,r.style.width+=s,e.position.x=0}if(e.position.y<0){const s=Math.abs(e.position.y);r.position.y=r.position.y-s,r.style.height+=s,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function jte(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,a)=>{const i=t.filter(o=>o.id===a.id);if(i.length===0)return r.push(a),r;const s={...a};for(const o of i)if(o)switch(o.type){case"select":{s.selected=o.selected;break}case"position":{typeof o.position<"u"&&(s.position=o.position),typeof o.positionAbsolute<"u"&&(s.positionAbsolute=o.positionAbsolute),typeof o.dragging<"u"&&(s.dragging=o.dragging),s.expandParent&&PH(r,s);break}case"dimensions":{typeof o.dimensions<"u"&&(s.width=o.dimensions.width,s.height=o.dimensions.height),typeof o.updateStyle<"u"&&(s.style={...s.style||{},...o.dimensions}),typeof o.resizing=="boolean"&&(s.resizing=o.resizing),s.expandParent&&PH(r,s);break}case"remove":return r}return r.push(s),r},n)}function Ote(t,e){return jte(t,e)}function _Ke(t,e){return jte(t,e)}const Zh=(t,e)=>({id:t,type:"select",selected:e});function O1(t,e){return t.reduce((n,r)=>{const a=e.includes(r.id);return!r.selected&&a?(r.selected=!0,n.push(Zh(r.id,!0))):r.selected&&!a&&(r.selected=!1,n.push(Zh(r.id,!1))),n},[])}const _6=(t,e)=>n=>{n.target===e.current&&t?.(n)},CKe=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),Dte=A.memo(({isSelecting:t,selectionMode:e=Ov.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:a,onPaneClick:i,onPaneContextMenu:s,onPaneScroll:o,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:d,children:h})=>{const m=A.useRef(null),y=Bi(),x=A.useRef(0),v=A.useRef(0),_=A.useRef(),{userSelectionActive:C,elementsSelectable:w,dragging:T}=ia(CKe,ns),E=()=>{y.setState({userSelectionActive:!1,userSelectionRect:null}),x.current=0,v.current=0},k=$=>{i?.($),y.getState().resetSelectedElements(),y.setState({nodesSelectionActive:!1})},j=$=>{if(Array.isArray(n)&&n?.includes(2)){$.preventDefault();return}s?.($)},O=o?$=>o($):void 0,z=$=>{const{resetSelectedElements:D,domNode:H}=y.getState();if(_.current=H?.getBoundingClientRect(),!w||!t||$.button!==0||$.target!==m.current||!_.current)return;const{x:L,y:V}=Sp($,_.current);D(),y.setState({userSelectionRect:{width:0,height:0,startX:L,startY:V,x:L,y:V}}),r?.($)},M=$=>{const{userSelectionRect:D,nodeInternals:H,edges:L,transform:V,onNodesChange:J,onEdgesChange:Q,nodeOrigin:K,getNodes:q}=y.getState();if(!t||!_.current||!D)return;y.setState({userSelectionActive:!0,nodesSelectionActive:!1});const Z=Sp($,_.current),Y=D.startX??0,ne=D.startY??0,re={...D,x:Z.x<Y?Z.x:Y,y:Z.y<ne?Z.y:ne,width:Math.abs(Z.x-Y),height:Math.abs(Z.y-ne)},ie=q(),ce=hte(H,re,V,e===Ov.Partial,!0,K),he=pte(ce,L).map(le=>le.id),me=ce.map(le=>le.id);if(x.current!==me.length){x.current=me.length;const le=O1(ie,me);le.length&&J?.(le)}if(v.current!==he.length){v.current=he.length;const le=O1(L,he);le.length&&Q?.(le)}y.setState({userSelectionRect:re})},N=$=>{if($.button!==0)return;const{userSelectionRect:D}=y.getState();!C&&D&&$.target===m.current&&k?.($),y.setState({nodesSelectionActive:x.current>0}),E(),a?.($)},U=$=>{C&&(y.setState({nodesSelectionActive:x.current>0}),a?.($)),E()},F=w&&(t||C);return je.createElement("div",{className:ws(["react-flow__pane",{dragging:T,selection:t}]),onClick:F?void 0:_6(k,m),onContextMenu:_6(j,m),onWheel:_6(O,m),onMouseEnter:F?void 0:l,onMouseDown:F?z:void 0,onMouseMove:F?M:u,onMouseUp:F?N:void 0,onMouseLeave:F?U:d,ref:m,style:zD},h,je.createElement(SKe,null))});Dte.displayName="Pane";function Nte(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:Nte(r,e):!1}function LH(t,e,n){let r=t;do{if(r?.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function wKe(t,e,n,r){return Array.from(t.values()).filter(a=>(a.selected||a.id===r)&&(!a.parentNode||a.parentId||!Nte(a,t))&&(a.draggable||e&&typeof a.draggable>"u")).map(a=>({id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:n.x-(a.positionAbsolute?.x??0),y:n.y-(a.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}))}function EKe(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function Mte(t,e,n,r,a=[0,0],i){const s=EKe(t,t.extent||r);let o=s;const l=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(l&&t.width&&t.height){const h=n.get(l),{x:m,y}=cg(h,a).positionAbsolute;o=h&&Tc(m)&&Tc(y)&&Tc(h.width)&&Tc(h.height)?[[m+t.width*a[0],y+t.height*a[1]],[m+h.width-t.width+t.width*a[0],y+h.height-t.height+t.height*a[1]]]:o}else i?.("005",Uf.error005()),o=s;else if(t.extent&&l&&t.extent!=="parent"){const h=n.get(l),{x:m,y}=cg(h,a).positionAbsolute;o=[[t.extent[0][0]+m,t.extent[0][1]+y],[t.extent[1][0]+m,t.extent[1][1]+y]]}let u={x:0,y:0};if(l){const h=n.get(l);u=cg(h,a).positionAbsolute}const d=o&&o!=="parent"?ID(e,o):e;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function C6({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(a=>({...n.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[t?r.find(a=>a.id===t):r[0],r]}const zH=(t,e,n,r)=>{const a=e.querySelectorAll(t);if(!a||!a.length)return null;const i=Array.from(a),s=e.getBoundingClientRect(),o={x:s.width*r[0],y:s.height*r[1]};return i.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-s.left-o.x)/n,y:(u.top-s.top-o.y)/n,...kD(l)}})};function qx(t,e,n){return n===void 0?n:r=>{const a=e().nodeInternals.get(t);a&&n(r,{...a})}}function fj({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:a,unselectNodesAndEdges:i,multiSelectionActive:s,nodeInternals:o,onError:l}=e.getState(),u=o.get(t);if(!u){l?.("012",Uf.error012(t));return}e.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):a([t])}function TKe(){const t=Bi();return A.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:a,snapToGrid:i}=t.getState(),s=n.touches?n.touches[0].clientX:n.clientX,o=n.touches?n.touches[0].clientY:n.clientY,l={x:(s-r[0])/r[2],y:(o-r[1])/r[2]};return{xSnapped:i?a[0]*Math.round(l.x/a[0]):l.x,ySnapped:i?a[1]*Math.round(l.y/a[1]):l.y,...l}},[])}function w6(t){return(e,n,r)=>t?.(e,r)}function Pte({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:a,isSelectable:i,selectNodesOnDrag:s}){const o=Bi(),[l,u]=A.useState(!1),d=A.useRef([]),h=A.useRef({x:null,y:null}),m=A.useRef(0),y=A.useRef(null),x=A.useRef({x:0,y:0}),v=A.useRef(null),_=A.useRef(!1),C=A.useRef(!1),w=A.useRef(!1),T=TKe();return A.useEffect(()=>{if(t?.current){const E=_c(t.current),k=({x:z,y:M})=>{const{nodeInternals:N,onNodeDrag:U,onSelectionDrag:F,updateNodePositions:$,nodeExtent:D,snapGrid:H,snapToGrid:L,nodeOrigin:V,onError:J}=o.getState();h.current={x:z,y:M};let Q=!1,K={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&D){const Z=xw(d.current,V);K=jv(Z)}if(d.current=d.current.map(Z=>{const Y={x:z-Z.distance.x,y:M-Z.distance.y};L&&(Y.x=H[0]*Math.round(Y.x/H[0]),Y.y=H[1]*Math.round(Y.y/H[1]));const ne=[[D[0][0],D[0][1]],[D[1][0],D[1][1]]];d.current.length>1&&D&&!Z.extent&&(ne[0][0]=Z.positionAbsolute.x-K.x+D[0][0],ne[1][0]=Z.positionAbsolute.x+(Z.width??0)-K.x2+D[1][0],ne[0][1]=Z.positionAbsolute.y-K.y+D[0][1],ne[1][1]=Z.positionAbsolute.y+(Z.height??0)-K.y2+D[1][1]);const re=Mte(Z,Y,N,ne,V,J);return Q=Q||Z.position.x!==re.position.x||Z.position.y!==re.position.y,Z.position=re.position,Z.positionAbsolute=re.positionAbsolute,Z}),!Q)return;$(d.current,!0,!0),u(!0);const q=a?U:w6(F);if(q&&v.current){const[Z,Y]=C6({nodeId:a,dragItems:d.current,nodeInternals:N});q(v.current,Z,Y)}},j=()=>{if(!y.current)return;const[z,M]=nte(x.current,y.current);if(z!==0||M!==0){const{transform:N,panBy:U}=o.getState();h.current.x=(h.current.x??0)-z/N[2],h.current.y=(h.current.y??0)-M/N[2],U({x:z,y:M})&&k(h.current)}m.current=requestAnimationFrame(j)},O=z=>{const{nodeInternals:M,multiSelectionActive:N,nodesDraggable:U,unselectNodesAndEdges:F,onNodeDragStart:$,onSelectionDragStart:D}=o.getState();C.current=!0;const H=a?$:w6(D);(!s||!i)&&!N&&a&&(M.get(a)?.selected||F()),a&&i&&s&&fj({id:a,store:o,nodeRef:t});const L=T(z);if(h.current=L,d.current=wKe(M,U,L,a),H&&d.current){const[V,J]=C6({nodeId:a,dragItems:d.current,nodeInternals:M});H(z.sourceEvent,V,J)}};if(e)E.on(".drag",null);else{const z=LVe().on("start",M=>{const{domNode:N,nodeDragThreshold:U}=o.getState();U===0&&O(M),w.current=!1;const F=T(M);h.current=F,y.current=N?.getBoundingClientRect()||null,x.current=Sp(M.sourceEvent,y.current)}).on("drag",M=>{const N=T(M),{autoPanOnNodeDrag:U,nodeDragThreshold:F}=o.getState();if(M.sourceEvent.type==="touchmove"&&M.sourceEvent.touches.length>1&&(w.current=!0),!w.current){if(!_.current&&C.current&&U&&(_.current=!0,j()),!C.current){const $=N.xSnapped-(h?.current?.x??0),D=N.ySnapped-(h?.current?.y??0);Math.sqrt($*$+D*D)>F&&O(M)}(h.current.x!==N.xSnapped||h.current.y!==N.ySnapped)&&d.current&&C.current&&(v.current=M.sourceEvent,x.current=Sp(M.sourceEvent,y.current),k(N))}}).on("end",M=>{if(!(!C.current||w.current)&&(u(!1),_.current=!1,C.current=!1,cancelAnimationFrame(m.current),d.current)){const{updateNodePositions:N,nodeInternals:U,onNodeDragStop:F,onSelectionDragStop:$}=o.getState(),D=a?F:w6($);if(N(d.current,!1,!1),D){const[H,L]=C6({nodeId:a,dragItems:d.current,nodeInternals:U});D(M.sourceEvent,H,L)}}}).filter(M=>{const N=M.target;return!M.button&&(!n||!LH(N,`.${n}`,t))&&(!r||LH(N,r,t))});return E.call(z),()=>{E.on(".drag",null)}}}},[t,e,n,r,i,o,a,s,T]),l}function Lte(){const t=Bi();return A.useCallback(n=>{const{nodeInternals:r,nodeExtent:a,updateNodePositions:i,getNodes:s,snapToGrid:o,snapGrid:l,onError:u,nodesDraggable:d}=t.getState(),h=s().filter(w=>w.selected&&(w.draggable||d&&typeof w.draggable>"u")),m=o?l[0]:5,y=o?l[1]:5,x=n.isShiftPressed?4:1,v=n.x*m*x,_=n.y*y*x,C=h.map(w=>{if(w.positionAbsolute){const T={x:w.positionAbsolute.x+v,y:w.positionAbsolute.y+_};o&&(T.x=l[0]*Math.round(T.x/l[0]),T.y=l[1]*Math.round(T.y/l[1]));const{positionAbsolute:E,position:k}=Mte(w,T,r,a,void 0,u);w.position=k,w.positionAbsolute=E}return w});i(C,!0,!1)},[])}const q1={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Vx=t=>{const e=({id:n,type:r,data:a,xPos:i,yPos:s,xPosOrigin:o,yPosOrigin:l,selected:u,onClick:d,onMouseEnter:h,onMouseMove:m,onMouseLeave:y,onContextMenu:x,onDoubleClick:v,style:_,className:C,isDraggable:w,isSelectable:T,isConnectable:E,isFocusable:k,selectNodesOnDrag:j,sourcePosition:O,targetPosition:z,hidden:M,resizeObserver:N,dragHandle:U,zIndex:F,isParent:$,noDragClassName:D,noPanClassName:H,initialized:L,disableKeyboardA11y:V,ariaLabel:J,rfId:Q,hasHandleBounds:K})=>{const q=Bi(),Z=A.useRef(null),Y=A.useRef(null),ne=A.useRef(O),re=A.useRef(z),ie=A.useRef(r),ce=T||w||d||h||m||y,he=Lte(),me=qx(n,q.getState,h),le=qx(n,q.getState,m),de=qx(n,q.getState,y),pe=qx(n,q.getState,x),ve=qx(n,q.getState,v),ge=be=>{const{nodeDragThreshold:Ae}=q.getState();if(T&&(!j||!w||Ae>0)&&fj({id:n,store:q,nodeRef:Z}),d){const Me=q.getState().nodeInternals.get(n);Me&&d(be,{...Me})}},oe=be=>{if(!oj(be)&&!V)if(ste.includes(be.key)&&T){const Ae=be.key==="Escape";fj({id:n,store:q,unselect:Ae,nodeRef:Z})}else w&&u&&Object.prototype.hasOwnProperty.call(q1,be.key)&&(q.setState({ariaLiveMessage:`Moved selected node ${be.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~s}`}),he({x:q1[be.key].x,y:q1[be.key].y,isShiftPressed:be.shiftKey}))};A.useEffect(()=>()=>{Y.current&&(N?.unobserve(Y.current),Y.current=null)},[]),A.useEffect(()=>{if(Z.current&&!M){const be=Z.current;(!L||!K||Y.current!==be)&&(Y.current&&N?.unobserve(Y.current),N?.observe(be),Y.current=be)}},[M,L,K]),A.useEffect(()=>{const be=ie.current!==r,Ae=ne.current!==O,Me=re.current!==z;Z.current&&(be||Ae||Me)&&(be&&(ie.current=r),Ae&&(ne.current=O),Me&&(re.current=z),q.getState().updateNodeDimensions([{id:n,nodeElement:Z.current,forceUpdate:!0}]))},[n,r,O,z]);const Se=Pte({nodeRef:Z,disabled:M||!w,noDragClassName:D,handleSelector:U,nodeId:n,isSelectable:T,selectNodesOnDrag:j});return M?null:je.createElement("div",{className:ws(["react-flow__node",`react-flow__node-${r}`,{[H]:w},C,{selected:u,selectable:T,parent:$,dragging:Se}]),ref:Z,style:{zIndex:F,transform:`translate(${o}px,${l}px)`,pointerEvents:ce?"all":"none",visibility:L?"visible":"hidden",..._},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:me,onMouseMove:le,onMouseLeave:de,onContextMenu:pe,onClick:ge,onDoubleClick:ve,onKeyDown:k?oe:void 0,tabIndex:k?0:void 0,role:k?"button":void 0,"aria-describedby":V?void 0:`${Tte}-${Q}`,"aria-label":J},je.createElement(BYe,{value:n},je.createElement(t,{id:n,data:a,type:r,xPos:i,yPos:s,selected:u,isConnectable:E,sourcePosition:O,targetPosition:z,dragging:Se,dragHandle:U,zIndex:F})))};return e.displayName="NodeWrapper",A.memo(e)};const AKe=t=>{const e=t.getNodes().filter(n=>n.selected);return{...xw(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function RKe({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=Bi(),{width:a,height:i,x:s,y:o,transformString:l,userSelectionActive:u}=ia(AKe,ns),d=Lte(),h=A.useRef(null);if(A.useEffect(()=>{n||h.current?.focus({preventScroll:!0})},[n]),Pte({nodeRef:h}),u||!a||!i)return null;const m=t?x=>{const v=r.getState().getNodes().filter(_=>_.selected);t(x,v)}:void 0,y=x=>{Object.prototype.hasOwnProperty.call(q1,x.key)&&d({x:q1[x.key].x,y:q1[x.key].y,isShiftPressed:x.shiftKey})};return je.createElement("div",{className:ws(["react-flow__nodesselection","react-flow__container",e]),style:{transform:l}},je.createElement("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:y,style:{width:a,height:i,top:o,left:s}}))}var kKe=A.memo(RKe);const IKe=t=>t.nodesSelectionActive,zte=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:i,onPaneScroll:s,deleteKeyCode:o,onMove:l,onMoveStart:u,onMoveEnd:d,selectionKeyCode:h,selectionOnDrag:m,selectionMode:y,onSelectionStart:x,onSelectionEnd:v,multiSelectionKeyCode:_,panActivationKeyCode:C,zoomActivationKeyCode:w,elementsSelectable:T,zoomOnScroll:E,zoomOnPinch:k,panOnScroll:j,panOnScrollSpeed:O,panOnScrollMode:z,zoomOnDoubleClick:M,panOnDrag:N,defaultViewport:U,translateExtent:F,minZoom:$,maxZoom:D,preventScrolling:H,onSelectionContextMenu:L,noWheelClassName:V,noPanClassName:J,disableKeyboardA11y:Q})=>{const K=ia(IKe),q=Nv(h),Z=Nv(C),Y=Z||N,ne=Z||j,re=q||m&&Y!==!0;return mKe({deleteKeyCode:o,multiSelectionKeyCode:_}),je.createElement(xKe,{onMove:l,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:i,elementsSelectable:T,zoomOnScroll:E,zoomOnPinch:k,panOnScroll:ne,panOnScrollSpeed:O,panOnScrollMode:z,zoomOnDoubleClick:M,panOnDrag:!q&&Y,defaultViewport:U,translateExtent:F,minZoom:$,maxZoom:D,zoomActivationKeyCode:w,preventScrolling:H,noWheelClassName:V,noPanClassName:J},je.createElement(Dte,{onSelectionStart:x,onSelectionEnd:v,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:Y,isSelecting:!!re,selectionMode:y},t,K&&je.createElement(kKe,{onSelectionContextMenu:L,noPanClassName:J,disableKeyboardA11y:Q})))};zte.displayName="FlowRenderer";var jKe=A.memo(zte);function OKe(t){return ia(A.useCallback(n=>t?hte(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function DKe(t){const e={input:Vx(t.input||_te),default:Vx(t.default||dj),output:Vx(t.output||wte),group:Vx(t.group||PD)},n={},r=Object.keys(t).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,i)=>(a[i]=Vx(t[i]||dj),a),n);return{...e,...r}}const NKe=({x:t,y:e,width:n,height:r,origin:a})=>!n||!r?{x:t,y:e}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:t,y:e}:{x:t-n*a[0],y:e-r*a[1]},MKe=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),Fte=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,updateNodeDimensions:i,onError:s}=ia(MKe,ns),o=OKe(t.onlyRenderVisibleElements),l=A.useRef(),u=A.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(h=>{const m=h.map(y=>({id:y.target.getAttribute("data-id"),nodeElement:y.target,forceUpdate:!0}));i(m)});return l.current=d,d},[]);return A.useEffect(()=>()=>{l?.current?.disconnect()},[]),je.createElement("div",{className:"react-flow__nodes",style:zD},o.map(d=>{let h=d.type||"default";t.nodeTypes[h]||(s?.("003",Uf.error003(h)),h="default");const m=t.nodeTypes[h]||t.nodeTypes.default,y=!!(d.draggable||e&&typeof d.draggable>"u"),x=!!(d.selectable||a&&typeof d.selectable>"u"),v=!!(d.connectable||n&&typeof d.connectable>"u"),_=!!(d.focusable||r&&typeof d.focusable>"u"),C=t.nodeExtent?ID(d.positionAbsolute,t.nodeExtent):d.positionAbsolute,w=C?.x??0,T=C?.y??0,E=NKe({x:w,y:T,width:d.width??0,height:d.height??0,origin:t.nodeOrigin});return je.createElement(m,{key:d.id,id:d.id,className:d.className,style:d.style,type:h,data:d.data,sourcePosition:d.sourcePosition||ln.Bottom,targetPosition:d.targetPosition||ln.Top,hidden:d.hidden,xPos:w,yPos:T,xPosOrigin:E.x,yPosOrigin:E.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!d.selected,isDraggable:y,isSelectable:x,isConnectable:v,isFocusable:_,resizeObserver:u,dragHandle:d.dragHandle,zIndex:d[Za]?.z??0,isParent:!!d[Za]?.isParent,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!d.width&&!!d.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!d[Za]?.handleBounds})}))};Fte.displayName="NodeRenderer";var PKe=A.memo(Fte);const LKe=(t,e,n)=>n===ln.Left?t-e:n===ln.Right?t+e:t,zKe=(t,e,n)=>n===ln.Top?t-e:n===ln.Bottom?t+e:t,FH="react-flow__edgeupdater",BH=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:a,onMouseEnter:i,onMouseOut:s,type:o})=>je.createElement("circle",{onMouseDown:a,onMouseEnter:i,onMouseOut:s,className:ws([FH,`${FH}-${o}`]),cx:LKe(e,r,t),cy:zKe(n,r,t),r,stroke:"transparent",fill:"transparent"}),FKe=()=>!0;var x1=t=>{const e=({id:n,className:r,type:a,data:i,onClick:s,onEdgeDoubleClick:o,selected:l,animated:u,label:d,labelStyle:h,labelShowBg:m,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:v,style:_,source:C,target:w,sourceX:T,sourceY:E,targetX:k,targetY:j,sourcePosition:O,targetPosition:z,elementsSelectable:M,hidden:N,sourceHandleId:U,targetHandleId:F,onContextMenu:$,onMouseEnter:D,onMouseMove:H,onMouseLeave:L,reconnectRadius:V,onReconnect:J,onReconnectStart:Q,onReconnectEnd:K,markerEnd:q,markerStart:Z,rfId:Y,ariaLabel:ne,isFocusable:re,isReconnectable:ie,pathOptions:ce,interactionWidth:he,disableKeyboardA11y:me})=>{const le=A.useRef(null),[de,pe]=A.useState(!1),[ve,ge]=A.useState(!1),oe=Bi(),Se=A.useMemo(()=>`url('#${cj(Z,Y)}')`,[Z,Y]),be=A.useMemo(()=>`url('#${cj(q,Y)}')`,[q,Y]);if(N)return null;const Ae=Je=>{const{edges:Ge,addSelectedEdges:it,unselectNodesAndEdges:ct,multiSelectionActive:nt}=oe.getState(),dt=Ge.find($t=>$t.id===n);dt&&(M&&(oe.setState({nodesSelectionActive:!1}),dt.selected&&nt?(ct({nodes:[],edges:[dt]}),le.current?.blur()):it([n])),s&&s(Je,dt))},Me=Gx(n,oe.getState,o),Pe=Gx(n,oe.getState,$),Le=Gx(n,oe.getState,D),Oe=Gx(n,oe.getState,H),Xe=Gx(n,oe.getState,L),ke=(Je,Ge)=>{if(Je.button!==0)return;const{edges:it,isValidConnection:ct}=oe.getState(),nt=Ge?w:C,dt=(Ge?F:U)||null,$t=Ge?"target":"source",Wt=ct||FKe,sn=Ge,xn=it.find(xt=>xt.id===n);ge(!0),Q?.(Je,xn,$t);const In=xt=>{ge(!1),K?.(xt,xn,$t)};bte({event:Je,handleId:dt,nodeId:nt,onConnect:xt=>J?.(xn,xt),isTarget:sn,getState:oe.getState,setState:oe.setState,isValidConnection:Wt,edgeUpdaterType:$t,onReconnectEnd:In})},Ie=Je=>ke(Je,!0),ye=Je=>ke(Je,!1),Ce=()=>pe(!0),Ne=()=>pe(!1),Be=!M&&!s,Ke=Je=>{if(!me&&ste.includes(Je.key)&&M){const{unselectNodesAndEdges:Ge,addSelectedEdges:it,edges:ct}=oe.getState();Je.key==="Escape"?(le.current?.blur(),Ge({edges:[ct.find(dt=>dt.id===n)]})):it([n])}};return je.createElement("g",{className:ws(["react-flow__edge",`react-flow__edge-${a}`,r,{selected:l,animated:u,inactive:Be,updating:de}]),onClick:Ae,onDoubleClick:Me,onContextMenu:Pe,onMouseEnter:Le,onMouseMove:Oe,onMouseLeave:Xe,onKeyDown:re?Ke:void 0,tabIndex:re?0:void 0,role:re?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":ne===null?void 0:ne||`Edge from ${C} to ${w}`,"aria-describedby":re?`${Ate}-${Y}`:void 0,ref:le},!ve&&je.createElement(t,{id:n,source:C,target:w,selected:l,animated:u,label:d,labelStyle:h,labelShowBg:m,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:v,data:i,style:_,sourceX:T,sourceY:E,targetX:k,targetY:j,sourcePosition:O,targetPosition:z,sourceHandleId:U,targetHandleId:F,markerStart:Se,markerEnd:be,pathOptions:ce,interactionWidth:he}),ie&&je.createElement(je.Fragment,null,(ie==="source"||ie===!0)&&je.createElement(BH,{position:O,centerX:T,centerY:E,radius:V,onMouseDown:Ie,onMouseEnter:Ce,onMouseOut:Ne,type:"source"}),(ie==="target"||ie===!0)&&je.createElement(BH,{position:z,centerX:k,centerY:j,radius:V,onMouseDown:ye,onMouseEnter:Ce,onMouseOut:Ne,type:"target"})))};return e.displayName="EdgeWrapper",A.memo(e)};function BKe(t){const e={default:x1(t.default||WC),straight:x1(t.bezier||DD),step:x1(t.step||OD),smoothstep:x1(t.step||bw),simplebezier:x1(t.simplebezier||jD)},n={},r=Object.keys(t).filter(a=>!["default","bezier"].includes(a)).reduce((a,i)=>(a[i]=x1(t[i]||WC),a),n);return{...e,...r}}function HH(t,e,n=null){const r=(n?.x||0)+e.x,a=(n?.y||0)+e.y,i=n?.width||e.width,s=n?.height||e.height;switch(t){case ln.Top:return{x:r+i/2,y:a};case ln.Right:return{x:r+i,y:a+s/2};case ln.Bottom:return{x:r+i/2,y:a+s};case ln.Left:return{x:r,y:a+s/2}}}function UH(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const HKe=(t,e,n,r,a,i)=>{const s=HH(n,t,e),o=HH(i,r,a);return{sourceX:s.x,sourceY:s.y,targetX:o.x,targetY:o.y}};function UKe({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:a,targetHeight:i,width:s,height:o,transform:l}){const u={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+a),y2:Math.max(t.y+r,e.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=jv({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:s/l[2],height:o/l[2]}),h=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),m=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(h*m)>0}function $H(t){const e=t?.[Za]?.handleBounds||null,n=e&&t?.width&&t?.height&&typeof t?.positionAbsolute?.x<"u"&&typeof t?.positionAbsolute?.y<"u";return[{x:t?.positionAbsolute?.x||0,y:t?.positionAbsolute?.y||0,width:t?.width||0,height:t?.height||0},e,!!n]}const $Ke=[{level:0,isMaxLevel:!0,edges:[]}];function GKe(t,e,n=!1){let r=-1;const a=t.reduce((s,o)=>{const l=Tc(o.zIndex);let u=l?o.zIndex:0;if(n){const d=e.get(o.target),h=e.get(o.source),m=o.selected||d?.selected||h?.selected,y=Math.max(h?.[Za]?.z||0,d?.[Za]?.z||0,1e3);u=(l?o.zIndex:0)+(m?y:0)}return s[u]?s[u].push(o):s[u]=[o],r=u>r?u:r,s},{}),i=Object.entries(a).map(([s,o])=>{const l=+s;return{edges:o,level:l,isMaxLevel:l===r}});return i.length===0?$Ke:i}function qKe(t,e,n){const r=ia(A.useCallback(a=>t?a.edges.filter(i=>{const s=e.get(i.source),o=e.get(i.target);return s?.width&&s?.height&&o?.width&&o?.height&&UKe({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:o.width,targetHeight:o.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[t,e]));return GKe(r,e,n)}const VKe=({color:t="none",strokeWidth:e=1})=>je.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),WKe=({color:t="none",strokeWidth:e=1})=>je.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),GH={[Dv.Arrow]:VKe,[Dv.ArrowClosed]:WKe};function YKe(t){const e=Bi();return A.useMemo(()=>Object.prototype.hasOwnProperty.call(GH,t)?GH[t]:(e.getState().onError?.("009",Uf.error009(t)),null),[t])}const KKe=({id:t,type:e,color:n,width:r=12.5,height:a=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:o="auto-start-reverse"})=>{const l=YKe(e);return l?je.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:o,refX:"0",refY:"0"},je.createElement(l,{color:n,strokeWidth:s})):null},XKe=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((a,i)=>([i.markerStart,i.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const o=cj(s,e);r.includes(o)||(a.push({id:o,color:s.color||t,...s}),r.push(o))}}),a),[]).sort((a,i)=>a.id.localeCompare(i.id))},Bte=({defaultColor:t,rfId:e})=>{const n=ia(A.useCallback(XKe({defaultColor:t,rfId:e}),[t,e]),(r,a)=>!(r.length!==a.length||r.some((i,s)=>i.id!==a[s].id)));return je.createElement("defs",null,n.map(r=>je.createElement(KKe,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Bte.displayName="MarkerDefinitions";var QKe=A.memo(Bte);const ZKe=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),Hte=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:a,noPanClassName:i,onEdgeContextMenu:s,onEdgeMouseEnter:o,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:h,onReconnect:m,onReconnectStart:y,onReconnectEnd:x,reconnectRadius:v,children:_,disableKeyboardA11y:C})=>{const{edgesFocusable:w,edgesUpdatable:T,elementsSelectable:E,width:k,height:j,connectionMode:O,nodeInternals:z,onError:M}=ia(ZKe,ns),N=qKe(e,z,n);return k?je.createElement(je.Fragment,null,N.map(({level:U,edges:F,isMaxLevel:$})=>je.createElement("svg",{key:U,style:{zIndex:U},width:k,height:j,className:"react-flow__edges react-flow__container"},$&&je.createElement(QKe,{defaultColor:t,rfId:r}),je.createElement("g",null,F.map(D=>{const[H,L,V]=$H(z.get(D.source)),[J,Q,K]=$H(z.get(D.target));if(!V||!K)return null;let q=D.type||"default";a[q]||(M?.("011",Uf.error011(q)),q="default");const Z=a[q]||a.default,Y=O===Tg.Strict?Q.target:(Q.target??[]).concat(Q.source??[]),ne=UH(L.source,D.sourceHandle),re=UH(Y,D.targetHandle),ie=ne?.position||ln.Bottom,ce=re?.position||ln.Top,he=!!(D.focusable||w&&typeof D.focusable>"u"),me=D.reconnectable||D.updatable,le=typeof m<"u"&&(me||T&&typeof me>"u");if(!ne||!re)return M?.("008",Uf.error008(ne,D)),null;const{sourceX:de,sourceY:pe,targetX:ve,targetY:ge}=HKe(H,ne,ie,J,re,ce);return je.createElement(Z,{key:D.id,id:D.id,className:ws([D.className,i]),type:q,data:D.data,selected:!!D.selected,animated:!!D.animated,hidden:!!D.hidden,label:D.label,labelStyle:D.labelStyle,labelShowBg:D.labelShowBg,labelBgStyle:D.labelBgStyle,labelBgPadding:D.labelBgPadding,labelBgBorderRadius:D.labelBgBorderRadius,style:D.style,source:D.source,target:D.target,sourceHandleId:D.sourceHandle,targetHandleId:D.targetHandle,markerEnd:D.markerEnd,markerStart:D.markerStart,sourceX:de,sourceY:pe,targetX:ve,targetY:ge,sourcePosition:ie,targetPosition:ce,elementsSelectable:E,onContextMenu:s,onMouseEnter:o,onMouseMove:l,onMouseLeave:u,onClick:d,onEdgeDoubleClick:h,onReconnect:m,onReconnectStart:y,onReconnectEnd:x,reconnectRadius:v,rfId:r,ariaLabel:D.ariaLabel,isFocusable:he,isReconnectable:le,pathOptions:"pathOptions"in D?D.pathOptions:void 0,interactionWidth:D.interactionWidth,disableKeyboardA11y:C})})))),_):null};Hte.displayName="EdgeRenderer";var JKe=A.memo(Hte);const eXe=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function tXe({children:t}){const e=ia(eXe);return je.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function nXe(t){const e=LD(),n=A.useRef(!1);A.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const rXe={[ln.Left]:ln.Right,[ln.Right]:ln.Left,[ln.Top]:ln.Bottom,[ln.Bottom]:ln.Top},Ute=({nodeId:t,handleType:e,style:n,type:r=np.Bezier,CustomComponent:a,connectionStatus:i})=>{const{fromNode:s,handleId:o,toX:l,toY:u,connectionMode:d}=ia(A.useCallback(j=>({fromNode:j.nodeInternals.get(t),handleId:j.connectionHandleId,toX:(j.connectionPosition.x-j.transform[0])/j.transform[2],toY:(j.connectionPosition.y-j.transform[1])/j.transform[2],connectionMode:j.connectionMode}),[t]),ns),h=s?.[Za]?.handleBounds;let m=h?.[e];if(d===Tg.Loose&&(m=m||h?.[e==="source"?"target":"source"]),!s||!m)return null;const y=o?m.find(j=>j.id===o):m[0],x=y?y.x+y.width/2:(s.width??0)/2,v=y?y.y+y.height/2:s.height??0,_=(s.positionAbsolute?.x??0)+x,C=(s.positionAbsolute?.y??0)+v,w=y?.position,T=w?rXe[w]:null;if(!w||!T)return null;if(a)return je.createElement(a,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:y,fromX:_,fromY:C,toX:l,toY:u,fromPosition:w,toPosition:T,connectionStatus:i});let E="";const k={sourceX:_,sourceY:C,sourcePosition:w,targetX:l,targetY:u,targetPosition:T};return r===np.Bezier?[E]=dte(k):r===np.Step?[E]=lj({...k,borderRadius:0}):r===np.SmoothStep?[E]=lj(k):r===np.SimpleBezier?[E]=ute(k):E=`M${_},${C} ${l},${u}`,je.createElement("path",{d:E,fill:"none",className:"react-flow__connection-path",style:n})};Ute.displayName="ConnectionLine";const aXe=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function iXe({containerStyle:t,style:e,type:n,component:r}){const{nodeId:a,handleType:i,nodesConnectable:s,width:o,height:l,connectionStatus:u}=ia(aXe,ns);return!(a&&i&&o&&s)?null:je.createElement("svg",{style:t,width:o,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},je.createElement("g",{className:ws(["react-flow__connection",u])},je.createElement(Ute,{nodeId:a,handleType:i,style:e,type:n,CustomComponent:r,connectionStatus:u})))}function qH(t,e){return A.useRef(null),Bi(),A.useMemo(()=>e(t),[t])}const $te=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:a,onInit:i,onNodeClick:s,onEdgeClick:o,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:m,onNodeContextMenu:y,onSelectionContextMenu:x,onSelectionStart:v,onSelectionEnd:_,connectionLineType:C,connectionLineStyle:w,connectionLineComponent:T,connectionLineContainerStyle:E,selectionKeyCode:k,selectionOnDrag:j,selectionMode:O,multiSelectionKeyCode:z,panActivationKeyCode:M,zoomActivationKeyCode:N,deleteKeyCode:U,onlyRenderVisibleElements:F,elementsSelectable:$,selectNodesOnDrag:D,defaultViewport:H,translateExtent:L,minZoom:V,maxZoom:J,preventScrolling:Q,defaultMarkerColor:K,zoomOnScroll:q,zoomOnPinch:Z,panOnScroll:Y,panOnScrollSpeed:ne,panOnScrollMode:re,zoomOnDoubleClick:ie,panOnDrag:ce,onPaneClick:he,onPaneMouseEnter:me,onPaneMouseMove:le,onPaneMouseLeave:de,onPaneScroll:pe,onPaneContextMenu:ve,onEdgeContextMenu:ge,onEdgeMouseEnter:oe,onEdgeMouseMove:Se,onEdgeMouseLeave:be,onReconnect:Ae,onReconnectStart:Me,onReconnectEnd:Pe,reconnectRadius:Le,noDragClassName:Oe,noWheelClassName:Xe,noPanClassName:ke,elevateEdgesOnSelect:Ie,disableKeyboardA11y:ye,nodeOrigin:Ce,nodeExtent:Ne,rfId:Be})=>{const Ke=qH(t,DKe),Je=qH(e,BKe);return nXe(i),je.createElement(jKe,{onPaneClick:he,onPaneMouseEnter:me,onPaneMouseMove:le,onPaneMouseLeave:de,onPaneContextMenu:ve,onPaneScroll:pe,deleteKeyCode:U,selectionKeyCode:k,selectionOnDrag:j,selectionMode:O,onSelectionStart:v,onSelectionEnd:_,multiSelectionKeyCode:z,panActivationKeyCode:M,zoomActivationKeyCode:N,elementsSelectable:$,onMove:n,onMoveStart:r,onMoveEnd:a,zoomOnScroll:q,zoomOnPinch:Z,zoomOnDoubleClick:ie,panOnScroll:Y,panOnScrollSpeed:ne,panOnScrollMode:re,panOnDrag:ce,defaultViewport:H,translateExtent:L,minZoom:V,maxZoom:J,onSelectionContextMenu:x,preventScrolling:Q,noDragClassName:Oe,noWheelClassName:Xe,noPanClassName:ke,disableKeyboardA11y:ye},je.createElement(tXe,null,je.createElement(JKe,{edgeTypes:Je,onEdgeClick:o,onEdgeDoubleClick:u,onlyRenderVisibleElements:F,onEdgeContextMenu:ge,onEdgeMouseEnter:oe,onEdgeMouseMove:Se,onEdgeMouseLeave:be,onReconnect:Ae,onReconnectStart:Me,onReconnectEnd:Pe,reconnectRadius:Le,defaultMarkerColor:K,noPanClassName:ke,elevateEdgesOnSelect:!!Ie,disableKeyboardA11y:ye,rfId:Be},je.createElement(iXe,{style:w,type:C,component:T,containerStyle:E})),je.createElement("div",{className:"react-flow__edgelabel-renderer"}),je.createElement(PKe,{nodeTypes:Ke,onNodeClick:s,onNodeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:m,onNodeContextMenu:y,selectNodesOnDrag:D,onlyRenderVisibleElements:F,noPanClassName:ke,noDragClassName:Oe,disableKeyboardA11y:ye,nodeOrigin:Ce,nodeExtent:Ne,rfId:Be})))};$te.displayName="GraphView";var sXe=A.memo($te);const hj=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],$h={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:hj,nodeExtent:hj,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Tg.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:NYe,isValidConnection:void 0},oXe=()=>KGe((t,e)=>({...$h,setNodes:n=>{const{nodeInternals:r,nodeOrigin:a,elevateNodesOnSelect:i}=e();t({nodeInternals:S6(n,r,a,i)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(a=>({...r,...a}))})},setDefaultNodesAndEdges:(n,r)=>{const a=typeof n<"u",i=typeof r<"u",s=a?S6(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:s,edges:i?r:[],hasDefaultNodes:a,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:a,fitViewOnInit:i,fitViewOnInitDone:s,fitViewOnInitOptions:o,domNode:l,nodeOrigin:u}=e(),d=l?.querySelector(".react-flow__viewport");if(!d)return;const h=window.getComputedStyle(d),{m22:m}=new window.DOMMatrixReadOnly(h.transform),y=n.reduce((v,_)=>{const C=a.get(_.id);if(C?.hidden)a.set(C.id,{...C,[Za]:{...C[Za],handleBounds:void 0}});else if(C){const w=kD(_.nodeElement);!!(w.width&&w.height&&(C.width!==w.width||C.height!==w.height||_.forceUpdate))&&(a.set(C.id,{...C,[Za]:{...C[Za],handleBounds:{source:zH(".source",_.nodeElement,m,u),target:zH(".target",_.nodeElement,m,u)}},...w}),v.push({id:C.id,type:"dimensions",dimensions:w}))}return v},[]);kte(a,u);const x=s||i&&!s&&Ite(e,{initial:!0,...o});t({nodeInternals:new Map(a),fitViewOnInitDone:x}),y?.length>0&&r?.(y)},updateNodePositions:(n,r=!0,a=!1)=>{const{triggerNodeChanges:i}=e(),s=n.map(o=>{const l={id:o.id,type:"position",dragging:a};return r&&(l.positionAbsolute=o.positionAbsolute,l.position=o.position),l});i(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:a,hasDefaultNodes:i,nodeOrigin:s,getNodes:o,elevateNodesOnSelect:l}=e();if(n?.length){if(i){const u=Ote(n,o()),d=S6(u,a,s,l);t({nodeInternals:d})}r?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:a,getNodes:i}=e();let s,o=null;r?s=n.map(l=>Zh(l,!0)):(s=O1(i(),n),o=O1(a,[])),m4({changedNodes:s,changedEdges:o,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:a,getNodes:i}=e();let s,o=null;r?s=n.map(l=>Zh(l,!0)):(s=O1(a,n),o=O1(i(),[])),m4({changedNodes:o,changedEdges:s,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:a,getNodes:i}=e(),s=n||i(),o=r||a,l=s.map(d=>(d.selected=!1,Zh(d.id,!1))),u=o.map(d=>Zh(d.id,!1));m4({changedNodes:l,changedEdges:u,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:a}=e();r?.scaleExtent([n,a]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:a}=e();r?.scaleExtent([a,n]),t({maxZoom:n})},setTranslateExtent:n=>{e().d3Zoom?.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),i=r().filter(o=>o.selected).map(o=>Zh(o.id,!1)),s=n.filter(o=>o.selected).map(o=>Zh(o.id,!1));m4({changedNodes:i,changedEdges:s,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(a=>{a.positionAbsolute=ID(a.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:a,height:i,d3Zoom:s,d3Selection:o,translateExtent:l}=e();if(!s||!o||!n.x&&!n.y)return!1;const u=Mf.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[a,i]],h=s?.constrain()(u,d,l);return s.transform(o,h),r[0]!==h.x||r[1]!==h.y||r[2]!==h.k},cancelConnection:()=>t({connectionNodeId:$h.connectionNodeId,connectionHandleId:$h.connectionHandleId,connectionHandleType:$h.connectionHandleType,connectionStatus:$h.connectionStatus,connectionStartHandle:$h.connectionStartHandle,connectionEndHandle:$h.connectionEndHandle}),reset:()=>t({...$h})}),Object.is),Gte=({children:t})=>{const e=A.useRef(null);return e.current||(e.current=oXe()),je.createElement(AYe,{value:e.current},t)};Gte.displayName="ReactFlowProvider";const qte=({children:t})=>A.useContext(yw)?je.createElement(je.Fragment,null,t):je.createElement(Gte,null,t);qte.displayName="ReactFlowWrapper";const lXe={input:_te,default:dj,output:wte,group:PD},cXe={default:WC,straight:DD,step:OD,smoothstep:bw,simplebezier:jD},uXe=[0,0],dXe=[15,15],fXe={x:0,y:0,zoom:1},hXe={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Vte=A.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:a,nodeTypes:i=lXe,edgeTypes:s=cXe,onNodeClick:o,onEdgeClick:l,onInit:u,onMove:d,onMoveStart:h,onMoveEnd:m,onConnect:y,onConnectStart:x,onConnectEnd:v,onClickConnectStart:_,onClickConnectEnd:C,onNodeMouseEnter:w,onNodeMouseMove:T,onNodeMouseLeave:E,onNodeContextMenu:k,onNodeDoubleClick:j,onNodeDragStart:O,onNodeDrag:z,onNodeDragStop:M,onNodesDelete:N,onEdgesDelete:U,onSelectionChange:F,onSelectionDragStart:$,onSelectionDrag:D,onSelectionDragStop:H,onSelectionContextMenu:L,onSelectionStart:V,onSelectionEnd:J,connectionMode:Q=Tg.Strict,connectionLineType:K=np.Bezier,connectionLineStyle:q,connectionLineComponent:Z,connectionLineContainerStyle:Y,deleteKeyCode:ne="Backspace",selectionKeyCode:re="Shift",selectionOnDrag:ie=!1,selectionMode:ce=Ov.Full,panActivationKeyCode:he="Space",multiSelectionKeyCode:me=VC()?"Meta":"Control",zoomActivationKeyCode:le=VC()?"Meta":"Control",snapToGrid:de=!1,snapGrid:pe=dXe,onlyRenderVisibleElements:ve=!1,selectNodesOnDrag:ge=!0,nodesDraggable:oe,nodesConnectable:Se,nodesFocusable:be,nodeOrigin:Ae=uXe,edgesFocusable:Me,edgesUpdatable:Pe,elementsSelectable:Le,defaultViewport:Oe=fXe,minZoom:Xe=.5,maxZoom:ke=2,translateExtent:Ie=hj,preventScrolling:ye=!0,nodeExtent:Ce,defaultMarkerColor:Ne="#b1b1b7",zoomOnScroll:Be=!0,zoomOnPinch:Ke=!0,panOnScroll:Je=!1,panOnScrollSpeed:Ge=.5,panOnScrollMode:it=eg.Free,zoomOnDoubleClick:ct=!0,panOnDrag:nt=!0,onPaneClick:dt,onPaneMouseEnter:$t,onPaneMouseMove:Wt,onPaneMouseLeave:sn,onPaneScroll:xn,onPaneContextMenu:In,children:Gt,onEdgeContextMenu:xt,onEdgeDoubleClick:Zt,onEdgeMouseEnter:Cn,onEdgeMouseMove:jn,onEdgeMouseLeave:Ut,onEdgeUpdate:Tn,onEdgeUpdateStart:Et,onEdgeUpdateEnd:Pt,onReconnect:on,onReconnectStart:rn,onReconnectEnd:wn,reconnectRadius:xr=10,edgeUpdaterRadius:Mr=10,onNodesChange:jr,onEdgesChange:sa,noDragClassName:zr="nodrag",noWheelClassName:vr="nowheel",noPanClassName:Fr="nopan",fitView:Es=!1,fitViewOptions:Ja,connectOnClick:Ai=!0,attributionPosition:Ts,proOptions:Ml,defaultEdgeOptions:as,elevateNodesOnSelect:As=!0,elevateEdgesOnSelect:Zs=!1,disableKeyboardA11y:is=!1,autoPanOnConnect:ss=!0,autoPanOnNodeDrag:Ri=!0,connectionRadius:Sr=20,isValidConnection:di,onError:il,style:ki,id:oa,nodeDragThreshold:va,...Rs},lr)=>{const ks=oa||"1";return je.createElement("div",{...Rs,style:{...ki,...hXe},ref:lr,className:ws(["react-flow",a]),"data-testid":"rf__wrapper",id:oa},je.createElement(qte,null,je.createElement(sXe,{onInit:u,onMove:d,onMoveStart:h,onMoveEnd:m,onNodeClick:o,onEdgeClick:l,onNodeMouseEnter:w,onNodeMouseMove:T,onNodeMouseLeave:E,onNodeContextMenu:k,onNodeDoubleClick:j,nodeTypes:i,edgeTypes:s,connectionLineType:K,connectionLineStyle:q,connectionLineComponent:Z,connectionLineContainerStyle:Y,selectionKeyCode:re,selectionOnDrag:ie,selectionMode:ce,deleteKeyCode:ne,multiSelectionKeyCode:me,panActivationKeyCode:he,zoomActivationKeyCode:le,onlyRenderVisibleElements:ve,selectNodesOnDrag:ge,defaultViewport:Oe,translateExtent:Ie,minZoom:Xe,maxZoom:ke,preventScrolling:ye,zoomOnScroll:Be,zoomOnPinch:Ke,zoomOnDoubleClick:ct,panOnScroll:Je,panOnScrollSpeed:Ge,panOnScrollMode:it,panOnDrag:nt,onPaneClick:dt,onPaneMouseEnter:$t,onPaneMouseMove:Wt,onPaneMouseLeave:sn,onPaneScroll:xn,onPaneContextMenu:In,onSelectionContextMenu:L,onSelectionStart:V,onSelectionEnd:J,onEdgeContextMenu:xt,onEdgeDoubleClick:Zt,onEdgeMouseEnter:Cn,onEdgeMouseMove:jn,onEdgeMouseLeave:Ut,onReconnect:on??Tn,onReconnectStart:rn??Et,onReconnectEnd:wn??Pt,reconnectRadius:xr??Mr,defaultMarkerColor:Ne,noDragClassName:zr,noWheelClassName:vr,noPanClassName:Fr,elevateEdgesOnSelect:Zs,rfId:ks,disableKeyboardA11y:is,nodeOrigin:Ae,nodeExtent:Ce}),je.createElement(rKe,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:y,onConnectStart:x,onConnectEnd:v,onClickConnectStart:_,onClickConnectEnd:C,nodesDraggable:oe,nodesConnectable:Se,nodesFocusable:be,edgesFocusable:Me,edgesUpdatable:Pe,elementsSelectable:Le,elevateNodesOnSelect:As,minZoom:Xe,maxZoom:ke,nodeExtent:Ce,onNodesChange:jr,onEdgesChange:sa,snapToGrid:de,snapGrid:pe,connectionMode:Q,translateExtent:Ie,connectOnClick:Ai,defaultEdgeOptions:as,fitView:Es,fitViewOptions:Ja,onNodesDelete:N,onEdgesDelete:U,onNodeDragStart:O,onNodeDrag:z,onNodeDragStop:M,onSelectionDrag:D,onSelectionDragStart:$,onSelectionDragStop:H,noPanClassName:Fr,nodeOrigin:Ae,rfId:ks,autoPanOnConnect:ss,autoPanOnNodeDrag:Ri,onError:il,connectionRadius:Sr,isValidConnection:di,nodeDragThreshold:va}),je.createElement(tKe,{onSelectionChange:F}),Gt,je.createElement(kYe,{proOptions:Ml,position:Ts}),je.createElement(lKe,{rfId:ks,disableKeyboardA11y:is})))});Vte.displayName="ReactFlow";function Wte(t){return e=>{const[n,r]=A.useState(e),a=A.useCallback(i=>r(s=>t(i,s)),[]);return[n,r,a]}}const pXe=Wte(Ote),mXe=Wte(_Ke),Yte=({id:t,x:e,y:n,width:r,height:a,style:i,color:s,strokeColor:o,strokeWidth:l,className:u,borderRadius:d,shapeRendering:h,onClick:m,selected:y})=>{const{background:x,backgroundColor:v}=i||{},_=s||x||v;return je.createElement("rect",{className:ws(["react-flow__minimap-node",{selected:y},u]),x:e,y:n,rx:d,ry:d,width:r,height:a,fill:_,stroke:o,strokeWidth:l,shapeRendering:h,onClick:m?C=>m(C,t):void 0})};Yte.displayName="MiniMapNode";var gXe=A.memo(Yte);const yXe=t=>t.nodeOrigin,bXe=t=>t.getNodes().filter(e=>!e.hidden&&e.width&&e.height),E6=t=>t instanceof Function?t:()=>t;function xXe({nodeStrokeColor:t="transparent",nodeColor:e="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:a=2,nodeComponent:i=gXe,onClick:s}){const o=ia(bXe,ns),l=ia(yXe),u=E6(e),d=E6(t),h=E6(n),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return je.createElement(je.Fragment,null,o.map(y=>{const{x,y:v}=cg(y,l).positionAbsolute;return je.createElement(i,{key:y.id,x,y:v,width:y.width,height:y.height,style:y.style,selected:y.selected,className:h(y),color:u(y),borderRadius:r,strokeColor:d(y),strokeWidth:a,shapeRendering:m,onClick:s,id:y.id})}))}var vXe=A.memo(xXe);const SXe=200,_Xe=150,CXe=t=>{const e=t.getNodes(),n={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:n,boundingRect:e.length>0?OYe(xw(e,t.nodeOrigin),n):n,rfId:t.rfId}},wXe="react-flow__minimap-desc";function Kte({style:t,className:e,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:a="",nodeBorderRadius:i=5,nodeStrokeWidth:s=2,nodeComponent:o,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:d=1,position:h="bottom-right",onClick:m,onNodeClick:y,pannable:x=!1,zoomable:v=!1,ariaLabel:_="React Flow mini map",inversePan:C=!1,zoomStep:w=10,offsetScale:T=5}){const E=Bi(),k=A.useRef(null),{boundingRect:j,viewBB:O,rfId:z}=ia(CXe,ns),M=t?.width??SXe,N=t?.height??_Xe,U=j.width/M,F=j.height/N,$=Math.max(U,F),D=$*M,H=$*N,L=T*$,V=j.x-(D-j.width)/2-L,J=j.y-(H-j.height)/2-L,Q=D+L*2,K=H+L*2,q=`${wXe}-${z}`,Z=A.useRef(0);Z.current=$,A.useEffect(()=>{if(k.current){const re=_c(k.current),ie=me=>{const{transform:le,d3Selection:de,d3Zoom:pe}=E.getState();if(me.sourceEvent.type!=="wheel"||!de||!pe)return;const ve=-me.sourceEvent.deltaY*(me.sourceEvent.deltaMode===1?.05:me.sourceEvent.deltaMode?1:.002)*w,ge=le[2]*Math.pow(2,ve);pe.scaleTo(de,ge)},ce=me=>{const{transform:le,d3Selection:de,d3Zoom:pe,translateExtent:ve,width:ge,height:oe}=E.getState();if(me.sourceEvent.type!=="mousemove"||!de||!pe)return;const Se=Z.current*Math.max(1,le[2])*(C?-1:1),be={x:le[0]-me.sourceEvent.movementX*Se,y:le[1]-me.sourceEvent.movementY*Se},Ae=[[0,0],[ge,oe]],Me=Mf.translate(be.x,be.y).scale(le[2]),Pe=pe.constrain()(Me,Ae,ve);pe.transform(de,Pe)},he=ete().on("zoom",x?ce:null).on("zoom.wheel",v?ie:null);return re.call(he),()=>{re.on("zoom",null)}}},[x,v,C,w]);const Y=m?re=>{const ie=ou(re);m(re,{x:ie[0],y:ie[1]})}:void 0,ne=y?(re,ie)=>{const ce=E.getState().nodeInternals.get(ie);y(re,ce)}:void 0;return je.createElement(RD,{position:h,style:t,className:ws(["react-flow__minimap",e]),"data-testid":"rf__minimap"},je.createElement("svg",{width:M,height:N,viewBox:`${V} ${J} ${Q} ${K}`,role:"img","aria-labelledby":q,ref:k,onClick:Y},_&&je.createElement("title",{id:q},_),je.createElement(vXe,{onClick:ne,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:a,nodeStrokeWidth:s,nodeComponent:o}),je.createElement("path",{className:"react-flow__minimap-mask",d:`M${V-L},${J-L}h${Q+L*2}v${K+L*2}h${-Q-L*2}z
        M${O.x},${O.y}h${O.width}v${O.height}h${-O.width}z`,fill:l,fillRule:"evenodd",stroke:u,strokeWidth:d,pointerEvents:"none"})))}Kte.displayName="MiniMap";var EXe=A.memo(Kte);function TXe(){return je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},je.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function AXe(){return je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},je.createElement("path",{d:"M0 0h32v4.2H0z"}))}function RXe(){return je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},je.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function kXe(){return je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},je.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function IXe(){return je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},je.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const m2=({children:t,className:e,...n})=>je.createElement("button",{type:"button",className:ws(["react-flow__controls-button",e]),...n},t);m2.displayName="ControlButton";const jXe=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),Xte=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:a,onZoomIn:i,onZoomOut:s,onFitView:o,onInteractiveChange:l,className:u,children:d,position:h="bottom-left"})=>{const m=Bi(),[y,x]=A.useState(!1),{isInteractive:v,minZoomReached:_,maxZoomReached:C}=ia(jXe,ns),{zoomIn:w,zoomOut:T,fitView:E}=LD();if(A.useEffect(()=>{x(!0)},[]),!y)return null;const k=()=>{w(),i?.()},j=()=>{T(),s?.()},O=()=>{E(a),o?.()},z=()=>{m.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),l?.(!v)};return je.createElement(RD,{className:ws(["react-flow__controls",u]),position:h,style:t,"data-testid":"rf__controls"},e&&je.createElement(je.Fragment,null,je.createElement(m2,{onClick:k,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:C},je.createElement(TXe,null)),je.createElement(m2,{onClick:j,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:_},je.createElement(AXe,null))),n&&je.createElement(m2,{className:"react-flow__controls-fitview",onClick:O,title:"fit view","aria-label":"fit view"},je.createElement(RXe,null)),r&&je.createElement(m2,{className:"react-flow__controls-interactive",onClick:z,title:"toggle interactivity","aria-label":"toggle interactivity"},v?je.createElement(IXe,null):je.createElement(kXe,null)),d)};Xte.displayName="Controls";var OXe=A.memo(Xte),Rc;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Rc||(Rc={}));function DXe({color:t,dimensions:e,lineWidth:n}){return je.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function NXe({color:t,radius:e}){return je.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const MXe={[Rc.Dots]:"#91919a",[Rc.Lines]:"#eee",[Rc.Cross]:"#e2e2e2"},PXe={[Rc.Dots]:1,[Rc.Lines]:1,[Rc.Cross]:6},LXe=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function Qte({id:t,variant:e=Rc.Dots,gap:n=20,size:r,lineWidth:a=1,offset:i=2,color:s,style:o,className:l}){const u=A.useRef(null),{transform:d,patternId:h}=ia(LXe,ns),m=s||MXe[e],y=r||PXe[e],x=e===Rc.Dots,v=e===Rc.Cross,_=Array.isArray(n)?n:[n,n],C=[_[0]*d[2]||1,_[1]*d[2]||1],w=y*d[2],T=v?[w,w]:C,E=x?[w/i,w/i]:[T[0]/i,T[1]/i];return je.createElement("svg",{className:ws(["react-flow__background",l]),style:{...o,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},je.createElement("pattern",{id:h+t,x:d[0]%C[0],y:d[1]%C[1],width:C[0],height:C[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${E[0]},-${E[1]})`},x?je.createElement(NXe,{color:m,radius:w/i}):je.createElement(DXe,{dimensions:T,color:m,lineWidth:a})),je.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${h+t})`}))}Qte.displayName="Background";var zXe=A.memo(Qte);function FD(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var T6,VH;function FXe(){if(VH)return T6;VH=1;function t(){this.__data__=[],this.size=0}return T6=t,T6}var A6,WH;function zy(){if(WH)return A6;WH=1;function t(e,n){return e===n||e!==e&&n!==n}return A6=t,A6}var R6,YH;function vw(){if(YH)return R6;YH=1;var t=zy();function e(n,r){for(var a=n.length;a--;)if(t(n[a][0],r))return a;return-1}return R6=e,R6}var k6,KH;function BXe(){if(KH)return k6;KH=1;var t=vw(),e=Array.prototype,n=e.splice;function r(a){var i=this.__data__,s=t(i,a);if(s<0)return!1;var o=i.length-1;return s==o?i.pop():n.call(i,s,1),--this.size,!0}return k6=r,k6}var I6,XH;function HXe(){if(XH)return I6;XH=1;var t=vw();function e(n){var r=this.__data__,a=t(r,n);return a<0?void 0:r[a][1]}return I6=e,I6}var j6,QH;function UXe(){if(QH)return j6;QH=1;var t=vw();function e(n){return t(this.__data__,n)>-1}return j6=e,j6}var O6,ZH;function $Xe(){if(ZH)return O6;ZH=1;var t=vw();function e(n,r){var a=this.__data__,i=t(a,n);return i<0?(++this.size,a.push([n,r])):a[i][1]=r,this}return O6=e,O6}var D6,JH;function Sw(){if(JH)return D6;JH=1;var t=FXe(),e=BXe(),n=HXe(),r=UXe(),a=$Xe();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,D6=i,D6}var N6,eU;function GXe(){if(eU)return N6;eU=1;var t=Sw();function e(){this.__data__=new t,this.size=0}return N6=e,N6}var M6,tU;function qXe(){if(tU)return M6;tU=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return M6=t,M6}var P6,nU;function VXe(){if(nU)return P6;nU=1;function t(e){return this.__data__.get(e)}return P6=t,P6}var L6,rU;function WXe(){if(rU)return L6;rU=1;function t(e){return this.__data__.has(e)}return L6=t,L6}var z6,aU;function Zte(){if(aU)return z6;aU=1;var t=typeof c_=="object"&&c_&&c_.Object===Object&&c_;return z6=t,z6}var F6,iU;function Iu(){if(iU)return F6;iU=1;var t=Zte(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return F6=n,F6}var B6,sU;function Fy(){if(sU)return B6;sU=1;var t=Iu(),e=t.Symbol;return B6=e,B6}var H6,oU;function YXe(){if(oU)return H6;oU=1;var t=Fy(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,a=t?t.toStringTag:void 0;function i(s){var o=n.call(s,a),l=s[a];try{s[a]=void 0;var u=!0}catch{}var d=r.call(s);return u&&(o?s[a]=l:delete s[a]),d}return H6=i,H6}var U6,lU;function KXe(){if(lU)return U6;lU=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return U6=n,U6}var $6,cU;function Bg(){if(cU)return $6;cU=1;var t=Fy(),e=YXe(),n=KXe(),r="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?a:r:i&&i in Object(o)?e(o):n(o)}return $6=s,$6}var G6,uU;function Lc(){if(uU)return G6;uU=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return G6=t,G6}var q6,dU;function gS(){if(dU)return q6;dU=1;var t=Bg(),e=Lc(),n="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(o){if(!e(o))return!1;var l=t(o);return l==r||l==a||l==n||l==i}return q6=s,q6}var V6,fU;function XXe(){if(fU)return V6;fU=1;var t=Iu(),e=t["__core-js_shared__"];return V6=e,V6}var W6,hU;function QXe(){if(hU)return W6;hU=1;var t=XXe(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return W6=n,W6}var Y6,pU;function Jte(){if(pU)return Y6;pU=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Y6=n,Y6}var K6,mU;function ZXe(){if(mU)return K6;mU=1;var t=gS(),e=QXe(),n=Lc(),r=Jte(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,l=s.toString,u=o.hasOwnProperty,d=RegExp("^"+l.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!n(m)||e(m))return!1;var y=t(m)?d:i;return y.test(r(m))}return K6=h,K6}var X6,gU;function JXe(){if(gU)return X6;gU=1;function t(e,n){return e?.[n]}return X6=t,X6}var Q6,yU;function Hg(){if(yU)return Q6;yU=1;var t=ZXe(),e=JXe();function n(r,a){var i=e(r,a);return t(i)?i:void 0}return Q6=n,Q6}var Z6,bU;function BD(){if(bU)return Z6;bU=1;var t=Hg(),e=Iu(),n=t(e,"Map");return Z6=n,Z6}var J6,xU;function _w(){if(xU)return J6;xU=1;var t=Hg(),e=t(Object,"create");return J6=e,J6}var e8,vU;function eQe(){if(vU)return e8;vU=1;var t=_w();function e(){this.__data__=t?t(null):{},this.size=0}return e8=e,e8}var t8,SU;function tQe(){if(SU)return t8;SU=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return t8=t,t8}var n8,_U;function nQe(){if(_U)return n8;_U=1;var t=_w(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function a(i){var s=this.__data__;if(t){var o=s[i];return o===e?void 0:o}return r.call(s,i)?s[i]:void 0}return n8=a,n8}var r8,CU;function rQe(){if(CU)return r8;CU=1;var t=_w(),e=Object.prototype,n=e.hasOwnProperty;function r(a){var i=this.__data__;return t?i[a]!==void 0:n.call(i,a)}return r8=r,r8}var a8,wU;function aQe(){if(wU)return a8;wU=1;var t=_w(),e="__lodash_hash_undefined__";function n(r,a){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=t&&a===void 0?e:a,this}return a8=n,a8}var i8,EU;function iQe(){if(EU)return i8;EU=1;var t=eQe(),e=tQe(),n=nQe(),r=rQe(),a=aQe();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,i8=i,i8}var s8,TU;function sQe(){if(TU)return s8;TU=1;var t=iQe(),e=Sw(),n=BD();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return s8=r,s8}var o8,AU;function oQe(){if(AU)return o8;AU=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return o8=t,o8}var l8,RU;function Cw(){if(RU)return l8;RU=1;var t=oQe();function e(n,r){var a=n.__data__;return t(r)?a[typeof r=="string"?"string":"hash"]:a.map}return l8=e,l8}var c8,kU;function lQe(){if(kU)return c8;kU=1;var t=Cw();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return c8=e,c8}var u8,IU;function cQe(){if(IU)return u8;IU=1;var t=Cw();function e(n){return t(this,n).get(n)}return u8=e,u8}var d8,jU;function uQe(){if(jU)return d8;jU=1;var t=Cw();function e(n){return t(this,n).has(n)}return d8=e,d8}var f8,OU;function dQe(){if(OU)return f8;OU=1;var t=Cw();function e(n,r){var a=t(this,n),i=a.size;return a.set(n,r),this.size+=a.size==i?0:1,this}return f8=e,f8}var h8,DU;function HD(){if(DU)return h8;DU=1;var t=sQe(),e=lQe(),n=cQe(),r=uQe(),a=dQe();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,h8=i,h8}var p8,NU;function fQe(){if(NU)return p8;NU=1;var t=Sw(),e=BD(),n=HD(),r=200;function a(i,s){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<r-1)return l.push([i,s]),this.size=++o.size,this;o=this.__data__=new n(l)}return o.set(i,s),this.size=o.size,this}return p8=a,p8}var m8,MU;function ww(){if(MU)return m8;MU=1;var t=Sw(),e=GXe(),n=qXe(),r=VXe(),a=WXe(),i=fQe();function s(o){var l=this.__data__=new t(o);this.size=l.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=a,s.prototype.set=i,m8=s,m8}var g8,PU;function UD(){if(PU)return g8;PU=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a&&n(e[r],r,e)!==!1;);return e}return g8=t,g8}var y8,LU;function ene(){if(LU)return y8;LU=1;var t=Hg(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return y8=e,y8}var b8,zU;function Ew(){if(zU)return b8;zU=1;var t=ene();function e(n,r,a){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[r]=a}return b8=e,b8}var x8,FU;function Tw(){if(FU)return x8;FU=1;var t=Ew(),e=zy(),n=Object.prototype,r=n.hasOwnProperty;function a(i,s,o){var l=i[s];(!(r.call(i,s)&&e(l,o))||o===void 0&&!(s in i))&&t(i,s,o)}return x8=a,x8}var v8,BU;function yS(){if(BU)return v8;BU=1;var t=Tw(),e=Ew();function n(r,a,i,s){var o=!i;i||(i={});for(var l=-1,u=a.length;++l<u;){var d=a[l],h=s?s(i[d],r[d],d,i,r):void 0;h===void 0&&(h=r[d]),o?e(i,d,h):t(i,d,h)}return i}return v8=n,v8}var S8,HU;function hQe(){if(HU)return S8;HU=1;function t(e,n){for(var r=-1,a=Array(e);++r<e;)a[r]=n(r);return a}return S8=t,S8}var _8,UU;function Bd(){if(UU)return _8;UU=1;function t(e){return e!=null&&typeof e=="object"}return _8=t,_8}var C8,$U;function pQe(){if($U)return C8;$U=1;var t=Bg(),e=Bd(),n="[object Arguments]";function r(a){return e(a)&&t(a)==n}return C8=r,C8}var w8,GU;function bS(){if(GU)return w8;GU=1;var t=pQe(),e=Bd(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(s){return e(s)&&r.call(s,"callee")&&!a.call(s,"callee")};return w8=i,w8}var E8,qU;function Ti(){if(qU)return E8;qU=1;var t=Array.isArray;return E8=t,E8}var g2={exports:{}},T8,VU;function mQe(){if(VU)return T8;VU=1;function t(){return!1}return T8=t,T8}g2.exports;var WU;function By(){return WU||(WU=1,(function(t,e){var n=Iu(),r=mQe(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;t.exports=u})(g2,g2.exports)),g2.exports}var A8,YU;function Aw(){if(YU)return A8;YU=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,a){var i=typeof r;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<a}return A8=n,A8}var R8,KU;function $D(){if(KU)return R8;KU=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return R8=e,R8}var k8,XU;function gQe(){if(XU)return k8;XU=1;var t=Bg(),e=$D(),n=Bd(),r="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",o="[object Error]",l="[object Function]",u="[object Map]",d="[object Number]",h="[object Object]",m="[object RegExp]",y="[object Set]",x="[object String]",v="[object WeakMap]",_="[object ArrayBuffer]",C="[object DataView]",w="[object Float32Array]",T="[object Float64Array]",E="[object Int8Array]",k="[object Int16Array]",j="[object Int32Array]",O="[object Uint8Array]",z="[object Uint8ClampedArray]",M="[object Uint16Array]",N="[object Uint32Array]",U={};U[w]=U[T]=U[E]=U[k]=U[j]=U[O]=U[z]=U[M]=U[N]=!0,U[r]=U[a]=U[_]=U[i]=U[C]=U[s]=U[o]=U[l]=U[u]=U[d]=U[h]=U[m]=U[y]=U[x]=U[v]=!1;function F($){return n($)&&e($.length)&&!!U[t($)]}return k8=F,k8}var I8,QU;function Rw(){if(QU)return I8;QU=1;function t(e){return function(n){return e(n)}}return I8=t,I8}var y2={exports:{}};y2.exports;var ZU;function GD(){return ZU||(ZU=1,(function(t,e){var n=Zte(),r=e&&!e.nodeType&&e,a=r&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===r,s=i&&n.process,o=(function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}})();t.exports=o})(y2,y2.exports)),y2.exports}var j8,JU;function xS(){if(JU)return j8;JU=1;var t=gQe(),e=Rw(),n=GD(),r=n&&n.isTypedArray,a=r?e(r):t;return j8=a,j8}var O8,e$;function tne(){if(e$)return O8;e$=1;var t=hQe(),e=bS(),n=Ti(),r=By(),a=Aw(),i=xS(),s=Object.prototype,o=s.hasOwnProperty;function l(u,d){var h=n(u),m=!h&&e(u),y=!h&&!m&&r(u),x=!h&&!m&&!y&&i(u),v=h||m||y||x,_=v?t(u.length,String):[],C=_.length;for(var w in u)(d||o.call(u,w))&&!(v&&(w=="length"||y&&(w=="offset"||w=="parent")||x&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||a(w,C)))&&_.push(w);return _}return O8=l,O8}var D8,t$;function kw(){if(t$)return D8;t$=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,a=typeof r=="function"&&r.prototype||t;return n===a}return D8=e,D8}var N8,n$;function nne(){if(n$)return N8;n$=1;function t(e,n){return function(r){return e(n(r))}}return N8=t,N8}var M8,r$;function yQe(){if(r$)return M8;r$=1;var t=nne(),e=t(Object.keys,Object);return M8=e,M8}var P8,a$;function qD(){if(a$)return P8;a$=1;var t=kw(),e=yQe(),n=Object.prototype,r=n.hasOwnProperty;function a(i){if(!t(i))return e(i);var s=[];for(var o in Object(i))r.call(i,o)&&o!="constructor"&&s.push(o);return s}return P8=a,P8}var L8,i$;function Kf(){if(i$)return L8;i$=1;var t=gS(),e=$D();function n(r){return r!=null&&e(r.length)&&!t(r)}return L8=n,L8}var z8,s$;function Hp(){if(s$)return z8;s$=1;var t=tne(),e=qD(),n=Kf();function r(a){return n(a)?t(a):e(a)}return z8=r,z8}var F8,o$;function bQe(){if(o$)return F8;o$=1;var t=yS(),e=Hp();function n(r,a){return r&&t(a,e(a),r)}return F8=n,F8}var B8,l$;function xQe(){if(l$)return B8;l$=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return B8=t,B8}var H8,c$;function vQe(){if(c$)return H8;c$=1;var t=Lc(),e=kw(),n=xQe(),r=Object.prototype,a=r.hasOwnProperty;function i(s){if(!t(s))return n(s);var o=e(s),l=[];for(var u in s)u=="constructor"&&(o||!a.call(s,u))||l.push(u);return l}return H8=i,H8}var U8,u$;function Ug(){if(u$)return U8;u$=1;var t=tne(),e=vQe(),n=Kf();function r(a){return n(a)?t(a,!0):e(a)}return U8=r,U8}var $8,d$;function SQe(){if(d$)return $8;d$=1;var t=yS(),e=Ug();function n(r,a){return r&&t(a,e(a),r)}return $8=n,$8}var b2={exports:{}};b2.exports;var f$;function rne(){return f$||(f$=1,(function(t,e){var n=Iu(),r=e&&!e.nodeType&&e,a=r&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===r,s=i?n.Buffer:void 0,o=s?s.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var h=u.length,m=o?o(h):new u.constructor(h);return u.copy(m),m}t.exports=l})(b2,b2.exports)),b2.exports}var G8,h$;function ane(){if(h$)return G8;h$=1;function t(e,n){var r=-1,a=e.length;for(n||(n=Array(a));++r<a;)n[r]=e[r];return n}return G8=t,G8}var q8,p$;function ine(){if(p$)return q8;p$=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=0,s=[];++r<a;){var o=e[r];n(o,r,e)&&(s[i++]=o)}return s}return q8=t,q8}var V8,m$;function sne(){if(m$)return V8;m$=1;function t(){return[]}return V8=t,V8}var W8,g$;function VD(){if(g$)return W8;g$=1;var t=ine(),e=sne(),n=Object.prototype,r=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),t(a(s),function(o){return r.call(s,o)}))}:e;return W8=i,W8}var Y8,y$;function _Qe(){if(y$)return Y8;y$=1;var t=yS(),e=VD();function n(r,a){return t(r,e(r),a)}return Y8=n,Y8}var K8,b$;function WD(){if(b$)return K8;b$=1;function t(e,n){for(var r=-1,a=n.length,i=e.length;++r<a;)e[i+r]=n[r];return e}return K8=t,K8}var X8,x$;function Iw(){if(x$)return X8;x$=1;var t=nne(),e=t(Object.getPrototypeOf,Object);return X8=e,X8}var Q8,v$;function one(){if(v$)return Q8;v$=1;var t=WD(),e=Iw(),n=VD(),r=sne(),a=Object.getOwnPropertySymbols,i=a?function(s){for(var o=[];s;)t(o,n(s)),s=e(s);return o}:r;return Q8=i,Q8}var Z8,S$;function CQe(){if(S$)return Z8;S$=1;var t=yS(),e=one();function n(r,a){return t(r,e(r),a)}return Z8=n,Z8}var J8,_$;function lne(){if(_$)return J8;_$=1;var t=WD(),e=Ti();function n(r,a,i){var s=a(r);return e(r)?s:t(s,i(r))}return J8=n,J8}var eA,C$;function cne(){if(C$)return eA;C$=1;var t=lne(),e=VD(),n=Hp();function r(a){return t(a,n,e)}return eA=r,eA}var tA,w$;function wQe(){if(w$)return tA;w$=1;var t=lne(),e=one(),n=Ug();function r(a){return t(a,n,e)}return tA=r,tA}var nA,E$;function EQe(){if(E$)return nA;E$=1;var t=Hg(),e=Iu(),n=t(e,"DataView");return nA=n,nA}var rA,T$;function TQe(){if(T$)return rA;T$=1;var t=Hg(),e=Iu(),n=t(e,"Promise");return rA=n,rA}var aA,A$;function une(){if(A$)return aA;A$=1;var t=Hg(),e=Iu(),n=t(e,"Set");return aA=n,aA}var iA,R$;function AQe(){if(R$)return iA;R$=1;var t=Hg(),e=Iu(),n=t(e,"WeakMap");return iA=n,iA}var sA,k$;function Hy(){if(k$)return sA;k$=1;var t=EQe(),e=BD(),n=TQe(),r=une(),a=AQe(),i=Bg(),s=Jte(),o="[object Map]",l="[object Object]",u="[object Promise]",d="[object Set]",h="[object WeakMap]",m="[object DataView]",y=s(t),x=s(e),v=s(n),_=s(r),C=s(a),w=i;return(t&&w(new t(new ArrayBuffer(1)))!=m||e&&w(new e)!=o||n&&w(n.resolve())!=u||r&&w(new r)!=d||a&&w(new a)!=h)&&(w=function(T){var E=i(T),k=E==l?T.constructor:void 0,j=k?s(k):"";if(j)switch(j){case y:return m;case x:return o;case v:return u;case _:return d;case C:return h}return E}),sA=w,sA}var oA,I$;function RQe(){if(I$)return oA;I$=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var a=r.length,i=new r.constructor(a);return a&&typeof r[0]=="string"&&e.call(r,"index")&&(i.index=r.index,i.input=r.input),i}return oA=n,oA}var lA,j$;function dne(){if(j$)return lA;j$=1;var t=Iu(),e=t.Uint8Array;return lA=e,lA}var cA,O$;function YD(){if(O$)return cA;O$=1;var t=dne();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return cA=e,cA}var uA,D$;function kQe(){if(D$)return uA;D$=1;var t=YD();function e(n,r){var a=r?t(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.byteLength)}return uA=e,uA}var dA,N$;function IQe(){if(N$)return dA;N$=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return dA=e,dA}var fA,M$;function jQe(){if(M$)return fA;M$=1;var t=Fy(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(a){return n?Object(n.call(a)):{}}return fA=r,fA}var hA,P$;function fne(){if(P$)return hA;P$=1;var t=YD();function e(n,r){var a=r?t(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.length)}return hA=e,hA}var pA,L$;function OQe(){if(L$)return pA;L$=1;var t=YD(),e=kQe(),n=IQe(),r=jQe(),a=fne(),i="[object Boolean]",s="[object Date]",o="[object Map]",l="[object Number]",u="[object RegExp]",d="[object Set]",h="[object String]",m="[object Symbol]",y="[object ArrayBuffer]",x="[object DataView]",v="[object Float32Array]",_="[object Float64Array]",C="[object Int8Array]",w="[object Int16Array]",T="[object Int32Array]",E="[object Uint8Array]",k="[object Uint8ClampedArray]",j="[object Uint16Array]",O="[object Uint32Array]";function z(M,N,U){var F=M.constructor;switch(N){case y:return t(M);case i:case s:return new F(+M);case x:return e(M,U);case v:case _:case C:case w:case T:case E:case k:case j:case O:return a(M,U);case o:return new F;case l:case h:return new F(M);case u:return n(M);case d:return new F;case m:return r(M)}}return pA=z,pA}var mA,z$;function hne(){if(z$)return mA;z$=1;var t=Lc(),e=Object.create,n=(function(){function r(){}return function(a){if(!t(a))return{};if(e)return e(a);r.prototype=a;var i=new r;return r.prototype=void 0,i}})();return mA=n,mA}var gA,F$;function pne(){if(F$)return gA;F$=1;var t=hne(),e=Iw(),n=kw();function r(a){return typeof a.constructor=="function"&&!n(a)?t(e(a)):{}}return gA=r,gA}var yA,B$;function DQe(){if(B$)return yA;B$=1;var t=Hy(),e=Bd(),n="[object Map]";function r(a){return e(a)&&t(a)==n}return yA=r,yA}var bA,H$;function NQe(){if(H$)return bA;H$=1;var t=DQe(),e=Rw(),n=GD(),r=n&&n.isMap,a=r?e(r):t;return bA=a,bA}var xA,U$;function MQe(){if(U$)return xA;U$=1;var t=Hy(),e=Bd(),n="[object Set]";function r(a){return e(a)&&t(a)==n}return xA=r,xA}var vA,$$;function PQe(){if($$)return vA;$$=1;var t=MQe(),e=Rw(),n=GD(),r=n&&n.isSet,a=r?e(r):t;return vA=a,vA}var SA,G$;function mne(){if(G$)return SA;G$=1;var t=ww(),e=UD(),n=Tw(),r=bQe(),a=SQe(),i=rne(),s=ane(),o=_Qe(),l=CQe(),u=cne(),d=wQe(),h=Hy(),m=RQe(),y=OQe(),x=pne(),v=Ti(),_=By(),C=NQe(),w=Lc(),T=PQe(),E=Hp(),k=Ug(),j=1,O=2,z=4,M="[object Arguments]",N="[object Array]",U="[object Boolean]",F="[object Date]",$="[object Error]",D="[object Function]",H="[object GeneratorFunction]",L="[object Map]",V="[object Number]",J="[object Object]",Q="[object RegExp]",K="[object Set]",q="[object String]",Z="[object Symbol]",Y="[object WeakMap]",ne="[object ArrayBuffer]",re="[object DataView]",ie="[object Float32Array]",ce="[object Float64Array]",he="[object Int8Array]",me="[object Int16Array]",le="[object Int32Array]",de="[object Uint8Array]",pe="[object Uint8ClampedArray]",ve="[object Uint16Array]",ge="[object Uint32Array]",oe={};oe[M]=oe[N]=oe[ne]=oe[re]=oe[U]=oe[F]=oe[ie]=oe[ce]=oe[he]=oe[me]=oe[le]=oe[L]=oe[V]=oe[J]=oe[Q]=oe[K]=oe[q]=oe[Z]=oe[de]=oe[pe]=oe[ve]=oe[ge]=!0,oe[$]=oe[D]=oe[Y]=!1;function Se(be,Ae,Me,Pe,Le,Oe){var Xe,ke=Ae&j,Ie=Ae&O,ye=Ae&z;if(Me&&(Xe=Le?Me(be,Pe,Le,Oe):Me(be)),Xe!==void 0)return Xe;if(!w(be))return be;var Ce=v(be);if(Ce){if(Xe=m(be),!ke)return s(be,Xe)}else{var Ne=h(be),Be=Ne==D||Ne==H;if(_(be))return i(be,ke);if(Ne==J||Ne==M||Be&&!Le){if(Xe=Ie||Be?{}:x(be),!ke)return Ie?l(be,a(Xe,be)):o(be,r(Xe,be))}else{if(!oe[Ne])return Le?be:{};Xe=y(be,Ne,ke)}}Oe||(Oe=new t);var Ke=Oe.get(be);if(Ke)return Ke;Oe.set(be,Xe),T(be)?be.forEach(function(it){Xe.add(Se(it,Ae,Me,it,be,Oe))}):C(be)&&be.forEach(function(it,ct){Xe.set(ct,Se(it,Ae,Me,ct,be,Oe))});var Je=ye?Ie?d:u:Ie?k:E,Ge=Ce?void 0:Je(be);return e(Ge||be,function(it,ct){Ge&&(ct=it,it=be[ct]),n(Xe,ct,Se(it,Ae,Me,ct,be,Oe))}),Xe}return SA=Se,SA}var _A,q$;function LQe(){if(q$)return _A;q$=1;var t=mne(),e=4;function n(r){return t(r,e)}return _A=n,_A}var CA,V$;function KD(){if(V$)return CA;V$=1;function t(e){return function(){return e}}return CA=t,CA}var wA,W$;function zQe(){if(W$)return wA;W$=1;function t(e){return function(n,r,a){for(var i=-1,s=Object(n),o=a(n),l=o.length;l--;){var u=o[e?l:++i];if(r(s[u],u,s)===!1)break}return n}}return wA=t,wA}var EA,Y$;function XD(){if(Y$)return EA;Y$=1;var t=zQe(),e=t();return EA=e,EA}var TA,K$;function QD(){if(K$)return TA;K$=1;var t=XD(),e=Hp();function n(r,a){return r&&t(r,a,e)}return TA=n,TA}var AA,X$;function FQe(){if(X$)return AA;X$=1;var t=Kf();function e(n,r){return function(a,i){if(a==null)return a;if(!t(a))return n(a,i);for(var s=a.length,o=r?s:-1,l=Object(a);(r?o--:++o<s)&&i(l[o],o,l)!==!1;);return a}}return AA=e,AA}var RA,Q$;function jw(){if(Q$)return RA;Q$=1;var t=QD(),e=FQe(),n=e(t);return RA=n,RA}var kA,Z$;function $g(){if(Z$)return kA;Z$=1;function t(e){return e}return kA=t,kA}var IA,J$;function gne(){if(J$)return IA;J$=1;var t=$g();function e(n){return typeof n=="function"?n:t}return IA=e,IA}var jA,eG;function yne(){if(eG)return jA;eG=1;var t=UD(),e=jw(),n=gne(),r=Ti();function a(i,s){var o=r(i)?t:e;return o(i,n(s))}return jA=a,jA}var OA,tG;function bne(){return tG||(tG=1,OA=yne()),OA}var DA,nG;function BQe(){if(nG)return DA;nG=1;var t=jw();function e(n,r){var a=[];return t(n,function(i,s,o){r(i,s,o)&&a.push(i)}),a}return DA=e,DA}var NA,rG;function HQe(){if(rG)return NA;rG=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return NA=e,NA}var MA,aG;function UQe(){if(aG)return MA;aG=1;function t(e){return this.__data__.has(e)}return MA=t,MA}var PA,iG;function xne(){if(iG)return PA;iG=1;var t=HD(),e=HQe(),n=UQe();function r(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new t;++i<s;)this.add(a[i])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,PA=r,PA}var LA,sG;function $Qe(){if(sG)return LA;sG=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(e[r],r,e))return!0;return!1}return LA=t,LA}var zA,oG;function vne(){if(oG)return zA;oG=1;function t(e,n){return e.has(n)}return zA=t,zA}var FA,lG;function Sne(){if(lG)return FA;lG=1;var t=xne(),e=$Qe(),n=vne(),r=1,a=2;function i(s,o,l,u,d,h){var m=l&r,y=s.length,x=o.length;if(y!=x&&!(m&&x>y))return!1;var v=h.get(s),_=h.get(o);if(v&&_)return v==o&&_==s;var C=-1,w=!0,T=l&a?new t:void 0;for(h.set(s,o),h.set(o,s);++C<y;){var E=s[C],k=o[C];if(u)var j=m?u(k,E,C,o,s,h):u(E,k,C,s,o,h);if(j!==void 0){if(j)continue;w=!1;break}if(T){if(!e(o,function(O,z){if(!n(T,z)&&(E===O||d(E,O,l,u,h)))return T.push(z)})){w=!1;break}}else if(!(E===k||d(E,k,l,u,h))){w=!1;break}}return h.delete(s),h.delete(o),w}return FA=i,FA}var BA,cG;function GQe(){if(cG)return BA;cG=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a,i){r[++n]=[i,a]}),r}return BA=t,BA}var HA,uG;function ZD(){if(uG)return HA;uG=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a){r[++n]=a}),r}return HA=t,HA}var UA,dG;function qQe(){if(dG)return UA;dG=1;var t=Fy(),e=dne(),n=zy(),r=Sne(),a=GQe(),i=ZD(),s=1,o=2,l="[object Boolean]",u="[object Date]",d="[object Error]",h="[object Map]",m="[object Number]",y="[object RegExp]",x="[object Set]",v="[object String]",_="[object Symbol]",C="[object ArrayBuffer]",w="[object DataView]",T=t?t.prototype:void 0,E=T?T.valueOf:void 0;function k(j,O,z,M,N,U,F){switch(z){case w:if(j.byteLength!=O.byteLength||j.byteOffset!=O.byteOffset)return!1;j=j.buffer,O=O.buffer;case C:return!(j.byteLength!=O.byteLength||!U(new e(j),new e(O)));case l:case u:case m:return n(+j,+O);case d:return j.name==O.name&&j.message==O.message;case y:case v:return j==O+"";case h:var $=a;case x:var D=M&s;if($||($=i),j.size!=O.size&&!D)return!1;var H=F.get(j);if(H)return H==O;M|=o,F.set(j,O);var L=r($(j),$(O),M,N,U,F);return F.delete(j),L;case _:if(E)return E.call(j)==E.call(O)}return!1}return UA=k,UA}var $A,fG;function VQe(){if(fG)return $A;fG=1;var t=cne(),e=1,n=Object.prototype,r=n.hasOwnProperty;function a(i,s,o,l,u,d){var h=o&e,m=t(i),y=m.length,x=t(s),v=x.length;if(y!=v&&!h)return!1;for(var _=y;_--;){var C=m[_];if(!(h?C in s:r.call(s,C)))return!1}var w=d.get(i),T=d.get(s);if(w&&T)return w==s&&T==i;var E=!0;d.set(i,s),d.set(s,i);for(var k=h;++_<y;){C=m[_];var j=i[C],O=s[C];if(l)var z=h?l(O,j,C,s,i,d):l(j,O,C,i,s,d);if(!(z===void 0?j===O||u(j,O,o,l,d):z)){E=!1;break}k||(k=C=="constructor")}if(E&&!k){var M=i.constructor,N=s.constructor;M!=N&&"constructor"in i&&"constructor"in s&&!(typeof M=="function"&&M instanceof M&&typeof N=="function"&&N instanceof N)&&(E=!1)}return d.delete(i),d.delete(s),E}return $A=a,$A}var GA,hG;function WQe(){if(hG)return GA;hG=1;var t=ww(),e=Sne(),n=qQe(),r=VQe(),a=Hy(),i=Ti(),s=By(),o=xS(),l=1,u="[object Arguments]",d="[object Array]",h="[object Object]",m=Object.prototype,y=m.hasOwnProperty;function x(v,_,C,w,T,E){var k=i(v),j=i(_),O=k?d:a(v),z=j?d:a(_);O=O==u?h:O,z=z==u?h:z;var M=O==h,N=z==h,U=O==z;if(U&&s(v)){if(!s(_))return!1;k=!0,M=!1}if(U&&!M)return E||(E=new t),k||o(v)?e(v,_,C,w,T,E):n(v,_,O,C,w,T,E);if(!(C&l)){var F=M&&y.call(v,"__wrapped__"),$=N&&y.call(_,"__wrapped__");if(F||$){var D=F?v.value():v,H=$?_.value():_;return E||(E=new t),T(D,H,C,w,E)}}return U?(E||(E=new t),r(v,_,C,w,T,E)):!1}return GA=x,GA}var qA,pG;function _ne(){if(pG)return qA;pG=1;var t=WQe(),e=Bd();function n(r,a,i,s,o){return r===a?!0:r==null||a==null||!e(r)&&!e(a)?r!==r&&a!==a:t(r,a,i,s,n,o)}return qA=n,qA}var VA,mG;function YQe(){if(mG)return VA;mG=1;var t=ww(),e=_ne(),n=1,r=2;function a(i,s,o,l){var u=o.length,d=u,h=!l;if(i==null)return!d;for(i=Object(i);u--;){var m=o[u];if(h&&m[2]?m[1]!==i[m[0]]:!(m[0]in i))return!1}for(;++u<d;){m=o[u];var y=m[0],x=i[y],v=m[1];if(h&&m[2]){if(x===void 0&&!(y in i))return!1}else{var _=new t;if(l)var C=l(x,v,y,i,s,_);if(!(C===void 0?e(v,x,n|r,l,_):C))return!1}}return!0}return VA=a,VA}var WA,gG;function Cne(){if(gG)return WA;gG=1;var t=Lc();function e(n){return n===n&&!t(n)}return WA=e,WA}var YA,yG;function KQe(){if(yG)return YA;yG=1;var t=Cne(),e=Hp();function n(r){for(var a=e(r),i=a.length;i--;){var s=a[i],o=r[s];a[i]=[s,o,t(o)]}return a}return YA=n,YA}var KA,bG;function wne(){if(bG)return KA;bG=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return KA=t,KA}var XA,xG;function XQe(){if(xG)return XA;xG=1;var t=YQe(),e=KQe(),n=wne();function r(a){var i=e(a);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(s){return s===a||t(s,a,i)}}return XA=r,XA}var QA,vG;function Uy(){if(vG)return QA;vG=1;var t=Bg(),e=Bd(),n="[object Symbol]";function r(a){return typeof a=="symbol"||e(a)&&t(a)==n}return QA=r,QA}var ZA,SG;function JD(){if(SG)return ZA;SG=1;var t=Ti(),e=Uy(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,s){if(t(i))return!1;var o=typeof i;return o=="number"||o=="symbol"||o=="boolean"||i==null||e(i)?!0:r.test(i)||!n.test(i)||s!=null&&i in Object(s)}return ZA=a,ZA}var JA,_G;function QQe(){if(_G)return JA;_G=1;var t=HD(),e="Expected a function";function n(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var s=arguments,o=a?a.apply(this,s):s[0],l=i.cache;if(l.has(o))return l.get(o);var u=r.apply(this,s);return i.cache=l.set(o,u)||l,u};return i.cache=new(n.Cache||t),i}return n.Cache=t,JA=n,JA}var eR,CG;function ZQe(){if(CG)return eR;CG=1;var t=QQe(),e=500;function n(r){var a=t(r,function(s){return i.size===e&&i.clear(),s}),i=a.cache;return a}return eR=n,eR}var tR,wG;function JQe(){if(wG)return tR;wG=1;var t=ZQe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(s,o,l,u){i.push(l?u.replace(n,"$1"):o||s)}),i});return tR=r,tR}var nR,EG;function Ow(){if(EG)return nR;EG=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=Array(a);++r<a;)i[r]=n(e[r],r,e);return i}return nR=t,nR}var rR,TG;function eZe(){if(TG)return rR;TG=1;var t=Fy(),e=Ow(),n=Ti(),r=Uy(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function s(o){if(typeof o=="string")return o;if(n(o))return e(o,s)+"";if(r(o))return i?i.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return rR=s,rR}var aR,AG;function Ene(){if(AG)return aR;AG=1;var t=eZe();function e(n){return n==null?"":t(n)}return aR=e,aR}var iR,RG;function Dw(){if(RG)return iR;RG=1;var t=Ti(),e=JD(),n=JQe(),r=Ene();function a(i,s){return t(i)?i:e(i,s)?[i]:n(r(i))}return iR=a,iR}var sR,kG;function vS(){if(kG)return sR;kG=1;var t=Uy();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return sR=e,sR}var oR,IG;function Nw(){if(IG)return oR;IG=1;var t=Dw(),e=vS();function n(r,a){a=t(a,r);for(var i=0,s=a.length;r!=null&&i<s;)r=r[e(a[i++])];return i&&i==s?r:void 0}return oR=n,oR}var lR,jG;function tZe(){if(jG)return lR;jG=1;var t=Nw();function e(n,r,a){var i=n==null?void 0:t(n,r);return i===void 0?a:i}return lR=e,lR}var cR,OG;function nZe(){if(OG)return cR;OG=1;function t(e,n){return e!=null&&n in Object(e)}return cR=t,cR}var uR,DG;function Tne(){if(DG)return uR;DG=1;var t=Dw(),e=bS(),n=Ti(),r=Aw(),a=$D(),i=vS();function s(o,l,u){l=t(l,o);for(var d=-1,h=l.length,m=!1;++d<h;){var y=i(l[d]);if(!(m=o!=null&&u(o,y)))break;o=o[y]}return m||++d!=h?m:(h=o==null?0:o.length,!!h&&a(h)&&r(y,h)&&(n(o)||e(o)))}return uR=s,uR}var dR,NG;function Ane(){if(NG)return dR;NG=1;var t=nZe(),e=Tne();function n(r,a){return r!=null&&e(r,a,t)}return dR=n,dR}var fR,MG;function rZe(){if(MG)return fR;MG=1;var t=_ne(),e=tZe(),n=Ane(),r=JD(),a=Cne(),i=wne(),s=vS(),o=1,l=2;function u(d,h){return r(d)&&a(h)?i(s(d),h):function(m){var y=e(m,d);return y===void 0&&y===h?n(m,d):t(h,y,o|l)}}return fR=u,fR}var hR,PG;function Rne(){if(PG)return hR;PG=1;function t(e){return function(n){return n?.[e]}}return hR=t,hR}var pR,LG;function aZe(){if(LG)return pR;LG=1;var t=Nw();function e(n){return function(r){return t(r,n)}}return pR=e,pR}var mR,zG;function iZe(){if(zG)return mR;zG=1;var t=Rne(),e=aZe(),n=JD(),r=vS();function a(i){return n(i)?t(r(i)):e(i)}return mR=a,mR}var gR,FG;function Xf(){if(FG)return gR;FG=1;var t=XQe(),e=rZe(),n=$g(),r=Ti(),a=iZe();function i(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):a(s)}return gR=i,gR}var yR,BG;function kne(){if(BG)return yR;BG=1;var t=ine(),e=BQe(),n=Xf(),r=Ti();function a(i,s){var o=r(i)?t:e;return o(i,n(s,3))}return yR=a,yR}var bR,HG;function sZe(){if(HG)return bR;HG=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r,a){return r!=null&&e.call(r,a)}return bR=n,bR}var xR,UG;function Ine(){if(UG)return xR;UG=1;var t=sZe(),e=Tne();function n(r,a){return r!=null&&e(r,a,t)}return xR=n,xR}var vR,$G;function oZe(){if($G)return vR;$G=1;var t=qD(),e=Hy(),n=bS(),r=Ti(),a=Kf(),i=By(),s=kw(),o=xS(),l="[object Map]",u="[object Set]",d=Object.prototype,h=d.hasOwnProperty;function m(y){if(y==null)return!0;if(a(y)&&(r(y)||typeof y=="string"||typeof y.splice=="function"||i(y)||o(y)||n(y)))return!y.length;var x=e(y);if(x==l||x==u)return!y.size;if(s(y))return!t(y).length;for(var v in y)if(h.call(y,v))return!1;return!0}return vR=m,vR}var SR,GG;function jne(){if(GG)return SR;GG=1;function t(e){return e===void 0}return SR=t,SR}var _R,qG;function One(){if(qG)return _R;qG=1;var t=jw(),e=Kf();function n(r,a){var i=-1,s=e(r)?Array(r.length):[];return t(r,function(o,l,u){s[++i]=a(o,l,u)}),s}return _R=n,_R}var CR,VG;function Dne(){if(VG)return CR;VG=1;var t=Ow(),e=Xf(),n=One(),r=Ti();function a(i,s){var o=r(i)?t:n;return o(i,e(s,3))}return CR=a,CR}var wR,WG;function lZe(){if(WG)return wR;WG=1;function t(e,n,r,a){var i=-1,s=e==null?0:e.length;for(a&&s&&(r=e[++i]);++i<s;)r=n(r,e[i],i,e);return r}return wR=t,wR}var ER,YG;function cZe(){if(YG)return ER;YG=1;function t(e,n,r,a,i){return i(e,function(s,o,l){r=a?(a=!1,s):n(r,s,o,l)}),r}return ER=t,ER}var TR,KG;function Nne(){if(KG)return TR;KG=1;var t=lZe(),e=jw(),n=Xf(),r=cZe(),a=Ti();function i(s,o,l){var u=a(s)?t:r,d=arguments.length<3;return u(s,n(o,4),l,d,e)}return TR=i,TR}var AR,XG;function uZe(){if(XG)return AR;XG=1;var t=Bg(),e=Ti(),n=Bd(),r="[object String]";function a(i){return typeof i=="string"||!e(i)&&n(i)&&t(i)==r}return AR=a,AR}var RR,QG;function dZe(){if(QG)return RR;QG=1;var t=Rne(),e=t("length");return RR=e,RR}var kR,ZG;function fZe(){if(ZG)return kR;ZG=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+t+a+i+"]");function l(u){return o.test(u)}return kR=l,kR}var IR,JG;function hZe(){if(JG)return IR;JG=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",s="["+t+"]",o="["+a+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+o+"|"+l+")",d="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",x=u+"?",v="["+i+"]?",_="(?:"+y+"(?:"+[d,h,m].join("|")+")"+v+x+")*",C=v+x+_,w="(?:"+[d+o+"?",o,h,m,s].join("|")+")",T=RegExp(l+"(?="+l+")|"+w+C,"g");function E(k){for(var j=T.lastIndex=0;T.test(k);)++j;return j}return IR=E,IR}var jR,eq;function pZe(){if(eq)return jR;eq=1;var t=dZe(),e=fZe(),n=hZe();function r(a){return e(a)?n(a):t(a)}return jR=r,jR}var OR,tq;function mZe(){if(tq)return OR;tq=1;var t=qD(),e=Hy(),n=Kf(),r=uZe(),a=pZe(),i="[object Map]",s="[object Set]";function o(l){if(l==null)return 0;if(n(l))return r(l)?a(l):l.length;var u=e(l);return u==i||u==s?l.size:t(l).length}return OR=o,OR}var DR,nq;function gZe(){if(nq)return DR;nq=1;var t=UD(),e=hne(),n=QD(),r=Xf(),a=Iw(),i=Ti(),s=By(),o=gS(),l=Lc(),u=xS();function d(h,m,y){var x=i(h),v=x||s(h)||u(h);if(m=r(m,4),y==null){var _=h&&h.constructor;v?y=x?new _:[]:l(h)?y=o(_)?e(a(h)):{}:y={}}return(v?t:n)(h,function(C,w,T){return m(y,C,w,T)}),y}return DR=d,DR}var NR,rq;function yZe(){if(rq)return NR;rq=1;var t=Fy(),e=bS(),n=Ti(),r=t?t.isConcatSpreadable:void 0;function a(i){return n(i)||e(i)||!!(r&&i&&i[r])}return NR=a,NR}var MR,aq;function eN(){if(aq)return MR;aq=1;var t=WD(),e=yZe();function n(r,a,i,s,o){var l=-1,u=r.length;for(i||(i=e),o||(o=[]);++l<u;){var d=r[l];a>0&&i(d)?a>1?n(d,a-1,i,s,o):t(o,d):s||(o[o.length]=d)}return o}return MR=n,MR}var PR,iq;function bZe(){if(iq)return PR;iq=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return PR=t,PR}var LR,sq;function Mne(){if(sq)return LR;sq=1;var t=bZe(),e=Math.max;function n(r,a,i){return a=e(a===void 0?r.length-1:a,0),function(){for(var s=arguments,o=-1,l=e(s.length-a,0),u=Array(l);++o<l;)u[o]=s[a+o];o=-1;for(var d=Array(a+1);++o<a;)d[o]=s[o];return d[a]=i(u),t(r,this,d)}}return LR=n,LR}var zR,oq;function xZe(){if(oq)return zR;oq=1;var t=KD(),e=ene(),n=$g(),r=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:n;return zR=r,zR}var FR,lq;function vZe(){if(lq)return FR;lq=1;var t=800,e=16,n=Date.now;function r(a){var i=0,s=0;return function(){var o=n(),l=e-(o-s);if(s=o,l>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return FR=r,FR}var BR,cq;function Pne(){if(cq)return BR;cq=1;var t=xZe(),e=vZe(),n=e(t);return BR=n,BR}var HR,uq;function Mw(){if(uq)return HR;uq=1;var t=$g(),e=Mne(),n=Pne();function r(a,i){return n(e(a,i,t),a+"")}return HR=r,HR}var UR,dq;function Lne(){if(dq)return UR;dq=1;function t(e,n,r,a){for(var i=e.length,s=r+(a?1:-1);a?s--:++s<i;)if(n(e[s],s,e))return s;return-1}return UR=t,UR}var $R,fq;function SZe(){if(fq)return $R;fq=1;function t(e){return e!==e}return $R=t,$R}var GR,hq;function _Ze(){if(hq)return GR;hq=1;function t(e,n,r){for(var a=r-1,i=e.length;++a<i;)if(e[a]===n)return a;return-1}return GR=t,GR}var qR,pq;function CZe(){if(pq)return qR;pq=1;var t=Lne(),e=SZe(),n=_Ze();function r(a,i,s){return i===i?n(a,i,s):t(a,e,s)}return qR=r,qR}var VR,mq;function wZe(){if(mq)return VR;mq=1;var t=CZe();function e(n,r){var a=n==null?0:n.length;return!!a&&t(n,r,0)>-1}return VR=e,VR}var WR,gq;function EZe(){if(gq)return WR;gq=1;function t(e,n,r){for(var a=-1,i=e==null?0:e.length;++a<i;)if(r(n,e[a]))return!0;return!1}return WR=t,WR}var YR,yq;function TZe(){if(yq)return YR;yq=1;function t(){}return YR=t,YR}var KR,bq;function AZe(){if(bq)return KR;bq=1;var t=une(),e=TZe(),n=ZD(),r=1/0,a=t&&1/n(new t([,-0]))[1]==r?function(i){return new t(i)}:e;return KR=a,KR}var XR,xq;function RZe(){if(xq)return XR;xq=1;var t=xne(),e=wZe(),n=EZe(),r=vne(),a=AZe(),i=ZD(),s=200;function o(l,u,d){var h=-1,m=e,y=l.length,x=!0,v=[],_=v;if(d)x=!1,m=n;else if(y>=s){var C=u?null:a(l);if(C)return i(C);x=!1,m=r,_=new t}else _=u?[]:v;e:for(;++h<y;){var w=l[h],T=u?u(w):w;if(w=d||w!==0?w:0,x&&T===T){for(var E=_.length;E--;)if(_[E]===T)continue e;u&&_.push(T),v.push(w)}else m(_,T,d)||(_!==v&&_.push(T),v.push(w))}return v}return XR=o,XR}var QR,vq;function zne(){if(vq)return QR;vq=1;var t=Kf(),e=Bd();function n(r){return e(r)&&t(r)}return QR=n,QR}var ZR,Sq;function kZe(){if(Sq)return ZR;Sq=1;var t=eN(),e=Mw(),n=RZe(),r=zne(),a=e(function(i){return n(t(i,1,r,!0))});return ZR=a,ZR}var JR,_q;function IZe(){if(_q)return JR;_q=1;var t=Ow();function e(n,r){return t(r,function(a){return n[a]})}return JR=e,JR}var e9,Cq;function Fne(){if(Cq)return e9;Cq=1;var t=IZe(),e=Hp();function n(r){return r==null?[]:t(r,e(r))}return e9=n,e9}var t9,wq;function zc(){if(wq)return t9;wq=1;var t;if(typeof FD=="function")try{t={clone:LQe(),constant:KD(),each:bne(),filter:kne(),has:Ine(),isArray:Ti(),isEmpty:oZe(),isFunction:gS(),isUndefined:jne(),keys:Hp(),map:Dne(),reduce:Nne(),size:mZe(),transform:gZe(),union:kZe(),values:Fne()}}catch{}return t||(t=window._),t9=t,t9}var n9,Eq;function tN(){if(Eq)return n9;Eq=1;var t=zc();n9=a;var e="\0",n="\0",r="";function a(d){this._isDirected=t.has(d,"directed")?d.directed:!0,this._isMultigraph=t.has(d,"multigraph")?d.multigraph:!1,this._isCompound=t.has(d,"compound")?d.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(d){return this._label=d,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(d){return t.isFunction(d)||(d=t.constant(d)),this._defaultNodeLabelFn=d,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return t.keys(this._nodes)},a.prototype.sources=function(){var d=this;return t.filter(this.nodes(),function(h){return t.isEmpty(d._in[h])})},a.prototype.sinks=function(){var d=this;return t.filter(this.nodes(),function(h){return t.isEmpty(d._out[h])})},a.prototype.setNodes=function(d,h){var m=arguments,y=this;return t.each(d,function(x){m.length>1?y.setNode(x,h):y.setNode(x)}),this},a.prototype.setNode=function(d,h){return t.has(this._nodes,d)?(arguments.length>1&&(this._nodes[d]=h),this):(this._nodes[d]=arguments.length>1?h:this._defaultNodeLabelFn(d),this._isCompound&&(this._parent[d]=n,this._children[d]={},this._children[n][d]=!0),this._in[d]={},this._preds[d]={},this._out[d]={},this._sucs[d]={},++this._nodeCount,this)},a.prototype.node=function(d){return this._nodes[d]},a.prototype.hasNode=function(d){return t.has(this._nodes,d)},a.prototype.removeNode=function(d){var h=this;if(t.has(this._nodes,d)){var m=function(y){h.removeEdge(h._edgeObjs[y])};delete this._nodes[d],this._isCompound&&(this._removeFromParentsChildList(d),delete this._parent[d],t.each(this.children(d),function(y){h.setParent(y)}),delete this._children[d]),t.each(t.keys(this._in[d]),m),delete this._in[d],delete this._preds[d],t.each(t.keys(this._out[d]),m),delete this._out[d],delete this._sucs[d],--this._nodeCount}return this},a.prototype.setParent=function(d,h){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(h))h=n;else{h+="";for(var m=h;!t.isUndefined(m);m=this.parent(m))if(m===d)throw new Error("Setting "+h+" as parent of "+d+" would create a cycle");this.setNode(h)}return this.setNode(d),this._removeFromParentsChildList(d),this._parent[d]=h,this._children[h][d]=!0,this},a.prototype._removeFromParentsChildList=function(d){delete this._children[this._parent[d]][d]},a.prototype.parent=function(d){if(this._isCompound){var h=this._parent[d];if(h!==n)return h}},a.prototype.children=function(d){if(t.isUndefined(d)&&(d=n),this._isCompound){var h=this._children[d];if(h)return t.keys(h)}else{if(d===n)return this.nodes();if(this.hasNode(d))return[]}},a.prototype.predecessors=function(d){var h=this._preds[d];if(h)return t.keys(h)},a.prototype.successors=function(d){var h=this._sucs[d];if(h)return t.keys(h)},a.prototype.neighbors=function(d){var h=this.predecessors(d);if(h)return t.union(h,this.successors(d))},a.prototype.isLeaf=function(d){var h;return this.isDirected()?h=this.successors(d):h=this.neighbors(d),h.length===0},a.prototype.filterNodes=function(d){var h=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});h.setGraph(this.graph());var m=this;t.each(this._nodes,function(v,_){d(_)&&h.setNode(_,v)}),t.each(this._edgeObjs,function(v){h.hasNode(v.v)&&h.hasNode(v.w)&&h.setEdge(v,m.edge(v))});var y={};function x(v){var _=m.parent(v);return _===void 0||h.hasNode(_)?(y[v]=_,_):_ in y?y[_]:x(_)}return this._isCompound&&t.each(h.nodes(),function(v){h.setParent(v,x(v))}),h},a.prototype.setDefaultEdgeLabel=function(d){return t.isFunction(d)||(d=t.constant(d)),this._defaultEdgeLabelFn=d,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return t.values(this._edgeObjs)},a.prototype.setPath=function(d,h){var m=this,y=arguments;return t.reduce(d,function(x,v){return y.length>1?m.setEdge(x,v,h):m.setEdge(x,v),v}),this},a.prototype.setEdge=function(){var d,h,m,y,x=!1,v=arguments[0];typeof v=="object"&&v!==null&&"v"in v?(d=v.v,h=v.w,m=v.name,arguments.length===2&&(y=arguments[1],x=!0)):(d=v,h=arguments[1],m=arguments[3],arguments.length>2&&(y=arguments[2],x=!0)),d=""+d,h=""+h,t.isUndefined(m)||(m=""+m);var _=o(this._isDirected,d,h,m);if(t.has(this._edgeLabels,_))return x&&(this._edgeLabels[_]=y),this;if(!t.isUndefined(m)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(d),this.setNode(h),this._edgeLabels[_]=x?y:this._defaultEdgeLabelFn(d,h,m);var C=l(this._isDirected,d,h,m);return d=C.v,h=C.w,Object.freeze(C),this._edgeObjs[_]=C,i(this._preds[h],d),i(this._sucs[d],h),this._in[h][_]=C,this._out[d][_]=C,this._edgeCount++,this},a.prototype.edge=function(d,h,m){var y=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,d,h,m);return this._edgeLabels[y]},a.prototype.hasEdge=function(d,h,m){var y=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,d,h,m);return t.has(this._edgeLabels,y)},a.prototype.removeEdge=function(d,h,m){var y=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,d,h,m),x=this._edgeObjs[y];return x&&(d=x.v,h=x.w,delete this._edgeLabels[y],delete this._edgeObjs[y],s(this._preds[h],d),s(this._sucs[d],h),delete this._in[h][y],delete this._out[d][y],this._edgeCount--),this},a.prototype.inEdges=function(d,h){var m=this._in[d];if(m){var y=t.values(m);return h?t.filter(y,function(x){return x.v===h}):y}},a.prototype.outEdges=function(d,h){var m=this._out[d];if(m){var y=t.values(m);return h?t.filter(y,function(x){return x.w===h}):y}},a.prototype.nodeEdges=function(d,h){var m=this.inEdges(d,h);if(m)return m.concat(this.outEdges(d,h))};function i(d,h){d[h]?d[h]++:d[h]=1}function s(d,h){--d[h]||delete d[h]}function o(d,h,m,y){var x=""+h,v=""+m;if(!d&&x>v){var _=x;x=v,v=_}return x+r+v+r+(t.isUndefined(y)?e:y)}function l(d,h,m,y){var x=""+h,v=""+m;if(!d&&x>v){var _=x;x=v,v=_}var C={v:x,w:v};return y&&(C.name=y),C}function u(d,h){return o(d,h.v,h.w,h.name)}return n9}var r9,Tq;function jZe(){return Tq||(Tq=1,r9="2.1.8"),r9}var a9,Aq;function OZe(){return Aq||(Aq=1,a9={Graph:tN(),version:jZe()}),a9}var i9,Rq;function DZe(){if(Rq)return i9;Rq=1;var t=zc(),e=tN();i9={write:n,read:i};function n(s){var o={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:r(s),edges:a(s)};return t.isUndefined(s.graph())||(o.value=t.clone(s.graph())),o}function r(s){return t.map(s.nodes(),function(o){var l=s.node(o),u=s.parent(o),d={v:o};return t.isUndefined(l)||(d.value=l),t.isUndefined(u)||(d.parent=u),d})}function a(s){return t.map(s.edges(),function(o){var l=s.edge(o),u={v:o.v,w:o.w};return t.isUndefined(o.name)||(u.name=o.name),t.isUndefined(l)||(u.value=l),u})}function i(s){var o=new e(s.options).setGraph(s.value);return t.each(s.nodes,function(l){o.setNode(l.v,l.value),l.parent&&o.setParent(l.v,l.parent)}),t.each(s.edges,function(l){o.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),o}return i9}var s9,kq;function NZe(){if(kq)return s9;kq=1;var t=zc();s9=e;function e(n){var r={},a=[],i;function s(o){t.has(r,o)||(r[o]=!0,i.push(o),t.each(n.successors(o),s),t.each(n.predecessors(o),s))}return t.each(n.nodes(),function(o){i=[],s(o),i.length&&a.push(i)}),a}return s9}var o9,Iq;function Bne(){if(Iq)return o9;Iq=1;var t=zc();o9=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(n){return n.key})},e.prototype.has=function(n){return t.has(this._keyIndices,n)},e.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(n,r){var a=this._keyIndices;if(n=String(n),!t.has(a,n)){var i=this._arr,s=i.length;return a[n]=s,i.push({key:n,priority:r}),this._decrease(s),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},e.prototype.decrease=function(n,r){var a=this._keyIndices[n];if(r>this._arr[a].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[a].priority+" New: "+r);this._arr[a].priority=r,this._decrease(a)},e.prototype._heapify=function(n){var r=this._arr,a=2*n,i=a+1,s=n;a<r.length&&(s=r[a].priority<r[s].priority?a:s,i<r.length&&(s=r[i].priority<r[s].priority?i:s),s!==n&&(this._swap(n,s),this._heapify(s)))},e.prototype._decrease=function(n){for(var r=this._arr,a=r[n].priority,i;n!==0&&(i=n>>1,!(r[i].priority<a));)this._swap(n,i),n=i},e.prototype._swap=function(n,r){var a=this._arr,i=this._keyIndices,s=a[n],o=a[r];a[n]=o,a[r]=s,i[o.key]=n,i[s.key]=r},o9}var l9,jq;function Hne(){if(jq)return l9;jq=1;var t=zc(),e=Bne();l9=r;var n=t.constant(1);function r(i,s,o,l){return a(i,String(s),o||n,l||function(u){return i.outEdges(u)})}function a(i,s,o,l){var u={},d=new e,h,m,y=function(x){var v=x.v!==h?x.v:x.w,_=u[v],C=o(x),w=m.distance+C;if(C<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+x+" Weight: "+C);w<_.distance&&(_.distance=w,_.predecessor=h,d.decrease(v,w))};for(i.nodes().forEach(function(x){var v=x===s?0:Number.POSITIVE_INFINITY;u[x]={distance:v},d.add(x,v)});d.size()>0&&(h=d.removeMin(),m=u[h],m.distance!==Number.POSITIVE_INFINITY);)l(h).forEach(y);return u}return l9}var c9,Oq;function MZe(){if(Oq)return c9;Oq=1;var t=Hne(),e=zc();c9=n;function n(r,a,i){return e.transform(r.nodes(),function(s,o){s[o]=t(r,o,a,i)},{})}return c9}var u9,Dq;function Une(){if(Dq)return u9;Dq=1;var t=zc();u9=e;function e(n){var r=0,a=[],i={},s=[];function o(l){var u=i[l]={onStack:!0,lowlink:r,index:r++};if(a.push(l),n.successors(l).forEach(function(m){t.has(i,m)?i[m].onStack&&(u.lowlink=Math.min(u.lowlink,i[m].index)):(o(m),u.lowlink=Math.min(u.lowlink,i[m].lowlink))}),u.lowlink===u.index){var d=[],h;do h=a.pop(),i[h].onStack=!1,d.push(h);while(l!==h);s.push(d)}}return n.nodes().forEach(function(l){t.has(i,l)||o(l)}),s}return u9}var d9,Nq;function PZe(){if(Nq)return d9;Nq=1;var t=zc(),e=Une();d9=n;function n(r){return t.filter(e(r),function(a){return a.length>1||a.length===1&&r.hasEdge(a[0],a[0])})}return d9}var f9,Mq;function LZe(){if(Mq)return f9;Mq=1;var t=zc();f9=n;var e=t.constant(1);function n(a,i,s){return r(a,i||e,s||function(o){return a.outEdges(o)})}function r(a,i,s){var o={},l=a.nodes();return l.forEach(function(u){o[u]={},o[u][u]={distance:0},l.forEach(function(d){u!==d&&(o[u][d]={distance:Number.POSITIVE_INFINITY})}),s(u).forEach(function(d){var h=d.v===u?d.w:d.v,m=i(d);o[u][h]={distance:m,predecessor:u}})}),l.forEach(function(u){var d=o[u];l.forEach(function(h){var m=o[h];l.forEach(function(y){var x=m[u],v=d[y],_=m[y],C=x.distance+v.distance;C<_.distance&&(_.distance=C,_.predecessor=v.predecessor)})})}),o}return f9}var h9,Pq;function $ne(){if(Pq)return h9;Pq=1;var t=zc();h9=e,e.CycleException=n;function e(r){var a={},i={},s=[];function o(l){if(t.has(i,l))throw new n;t.has(a,l)||(i[l]=!0,a[l]=!0,t.each(r.predecessors(l),o),delete i[l],s.push(l))}if(t.each(r.sinks(),o),t.size(a)!==r.nodeCount())throw new n;return s}function n(){}return n.prototype=new Error,h9}var p9,Lq;function zZe(){if(Lq)return p9;Lq=1;var t=$ne();p9=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return p9}var m9,zq;function Gne(){if(zq)return m9;zq=1;var t=zc();m9=e;function e(r,a,i){t.isArray(a)||(a=[a]);var s=(r.isDirected()?r.successors:r.neighbors).bind(r),o=[],l={};return t.each(a,function(u){if(!r.hasNode(u))throw new Error("Graph does not have node: "+u);n(r,u,i==="post",l,s,o)}),o}function n(r,a,i,s,o,l){t.has(s,a)||(s[a]=!0,i||l.push(a),t.each(o(a),function(u){n(r,u,i,s,o,l)}),i&&l.push(a))}return m9}var g9,Fq;function FZe(){if(Fq)return g9;Fq=1;var t=Gne();g9=e;function e(n,r){return t(n,r,"post")}return g9}var y9,Bq;function BZe(){if(Bq)return y9;Bq=1;var t=Gne();y9=e;function e(n,r){return t(n,r,"pre")}return y9}var b9,Hq;function HZe(){if(Hq)return b9;Hq=1;var t=zc(),e=tN(),n=Bne();b9=r;function r(a,i){var s=new e,o={},l=new n,u;function d(m){var y=m.v===u?m.w:m.v,x=l.priority(y);if(x!==void 0){var v=i(m);v<x&&(o[y]=u,l.decrease(y,v))}}if(a.nodeCount()===0)return s;t.each(a.nodes(),function(m){l.add(m,Number.POSITIVE_INFINITY),s.setNode(m)}),l.decrease(a.nodes()[0],0);for(var h=!1;l.size()>0;){if(u=l.removeMin(),t.has(o,u))s.setEdge(u,o[u]);else{if(h)throw new Error("Input graph is not connected: "+a);h=!0}a.nodeEdges(u).forEach(d)}return s}return b9}var x9,Uq;function UZe(){return Uq||(Uq=1,x9={components:NZe(),dijkstra:Hne(),dijkstraAll:MZe(),findCycles:PZe(),floydWarshall:LZe(),isAcyclic:zZe(),postorder:FZe(),preorder:BZe(),prim:HZe(),tarjan:Une(),topsort:$ne()}),x9}var v9,$q;function $Ze(){if($q)return v9;$q=1;var t=OZe();return v9={Graph:t.Graph,json:DZe(),alg:UZe(),version:t.version},v9}var S9,Gq;function Su(){if(Gq)return S9;Gq=1;var t;if(typeof FD=="function")try{t=$Ze()}catch{}return t||(t=window.graphlib),S9=t,S9}var _9,qq;function GZe(){if(qq)return _9;qq=1;var t=mne(),e=1,n=4;function r(a){return t(a,e|n)}return _9=r,_9}var C9,Vq;function Pw(){if(Vq)return C9;Vq=1;var t=zy(),e=Kf(),n=Aw(),r=Lc();function a(i,s,o){if(!r(o))return!1;var l=typeof s;return(l=="number"?e(o)&&n(s,o.length):l=="string"&&s in o)?t(o[s],i):!1}return C9=a,C9}var w9,Wq;function qZe(){if(Wq)return w9;Wq=1;var t=Mw(),e=zy(),n=Pw(),r=Ug(),a=Object.prototype,i=a.hasOwnProperty,s=t(function(o,l){o=Object(o);var u=-1,d=l.length,h=d>2?l[2]:void 0;for(h&&n(l[0],l[1],h)&&(d=1);++u<d;)for(var m=l[u],y=r(m),x=-1,v=y.length;++x<v;){var _=y[x],C=o[_];(C===void 0||e(C,a[_])&&!i.call(o,_))&&(o[_]=m[_])}return o});return w9=s,w9}var E9,Yq;function VZe(){if(Yq)return E9;Yq=1;var t=Xf(),e=Kf(),n=Hp();function r(a){return function(i,s,o){var l=Object(i);if(!e(i)){var u=t(s,3);i=n(i),s=function(h){return u(l[h],h,l)}}var d=a(i,s,o);return d>-1?l[u?i[d]:d]:void 0}}return E9=r,E9}var T9,Kq;function WZe(){if(Kq)return T9;Kq=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return T9=e,T9}var A9,Xq;function YZe(){if(Xq)return A9;Xq=1;var t=WZe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return A9=n,A9}var R9,Qq;function KZe(){if(Qq)return R9;Qq=1;var t=YZe(),e=Lc(),n=Uy(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var h=i.test(u);return h||s.test(u)?o(u.slice(2),h?2:8):a.test(u)?r:+u}return R9=l,R9}var k9,Zq;function qne(){if(Zq)return k9;Zq=1;var t=KZe(),e=1/0,n=17976931348623157e292;function r(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*n}return a===a?a:0}return k9=r,k9}var I9,Jq;function XZe(){if(Jq)return I9;Jq=1;var t=qne();function e(n){var r=t(n),a=r%1;return r===r?a?r-a:r:0}return I9=e,I9}var j9,eV;function QZe(){if(eV)return j9;eV=1;var t=Lne(),e=Xf(),n=XZe(),r=Math.max;function a(i,s,o){var l=i==null?0:i.length;if(!l)return-1;var u=o==null?0:n(o);return u<0&&(u=r(l+u,0)),t(i,e(s,3),u)}return j9=a,j9}var O9,tV;function ZZe(){if(tV)return O9;tV=1;var t=VZe(),e=QZe(),n=t(e);return O9=n,O9}var D9,nV;function Vne(){if(nV)return D9;nV=1;var t=eN();function e(n){var r=n==null?0:n.length;return r?t(n,1):[]}return D9=e,D9}var N9,rV;function JZe(){if(rV)return N9;rV=1;var t=XD(),e=gne(),n=Ug();function r(a,i){return a==null?a:t(a,e(i),n)}return N9=r,N9}var M9,aV;function eJe(){if(aV)return M9;aV=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return M9=t,M9}var P9,iV;function tJe(){if(iV)return P9;iV=1;var t=Ew(),e=QD(),n=Xf();function r(a,i){var s={};return i=n(i,3),e(a,function(o,l,u){t(s,l,i(o,l,u))}),s}return P9=r,P9}var L9,sV;function nN(){if(sV)return L9;sV=1;var t=Uy();function e(n,r,a){for(var i=-1,s=n.length;++i<s;){var o=n[i],l=r(o);if(l!=null&&(u===void 0?l===l&&!t(l):a(l,u)))var u=l,d=o}return d}return L9=e,L9}var z9,oV;function nJe(){if(oV)return z9;oV=1;function t(e,n){return e>n}return z9=t,z9}var F9,lV;function rJe(){if(lV)return F9;lV=1;var t=nN(),e=nJe(),n=$g();function r(a){return a&&a.length?t(a,n,e):void 0}return F9=r,F9}var B9,cV;function Wne(){if(cV)return B9;cV=1;var t=Ew(),e=zy();function n(r,a,i){(i!==void 0&&!e(r[a],i)||i===void 0&&!(a in r))&&t(r,a,i)}return B9=n,B9}var H9,uV;function aJe(){if(uV)return H9;uV=1;var t=Bg(),e=Iw(),n=Bd(),r="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,o=i.hasOwnProperty,l=s.call(Object);function u(d){if(!n(d)||t(d)!=r)return!1;var h=e(d);if(h===null)return!0;var m=o.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&s.call(m)==l}return H9=u,H9}var U9,dV;function Yne(){if(dV)return U9;dV=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return U9=t,U9}var $9,fV;function iJe(){if(fV)return $9;fV=1;var t=yS(),e=Ug();function n(r){return t(r,e(r))}return $9=n,$9}var G9,hV;function sJe(){if(hV)return G9;hV=1;var t=Wne(),e=rne(),n=fne(),r=ane(),a=pne(),i=bS(),s=Ti(),o=zne(),l=By(),u=gS(),d=Lc(),h=aJe(),m=xS(),y=Yne(),x=iJe();function v(_,C,w,T,E,k,j){var O=y(_,w),z=y(C,w),M=j.get(z);if(M){t(_,w,M);return}var N=k?k(O,z,w+"",_,C,j):void 0,U=N===void 0;if(U){var F=s(z),$=!F&&l(z),D=!F&&!$&&m(z);N=z,F||$||D?s(O)?N=O:o(O)?N=r(O):$?(U=!1,N=e(z,!0)):D?(U=!1,N=n(z,!0)):N=[]:h(z)||i(z)?(N=O,i(O)?N=x(O):(!d(O)||u(O))&&(N=a(z))):U=!1}U&&(j.set(z,N),E(N,z,T,k,j),j.delete(z)),t(_,w,N)}return G9=v,G9}var q9,pV;function oJe(){if(pV)return q9;pV=1;var t=ww(),e=Wne(),n=XD(),r=sJe(),a=Lc(),i=Ug(),s=Yne();function o(l,u,d,h,m){l!==u&&n(u,function(y,x){if(m||(m=new t),a(y))r(l,u,x,d,o,h,m);else{var v=h?h(s(l,x),y,x+"",l,u,m):void 0;v===void 0&&(v=y),e(l,x,v)}},i)}return q9=o,q9}var V9,mV;function lJe(){if(mV)return V9;mV=1;var t=Mw(),e=Pw();function n(r){return t(function(a,i){var s=-1,o=i.length,l=o>1?i[o-1]:void 0,u=o>2?i[2]:void 0;for(l=r.length>3&&typeof l=="function"?(o--,l):void 0,u&&e(i[0],i[1],u)&&(l=o<3?void 0:l,o=1),a=Object(a);++s<o;){var d=i[s];d&&r(a,d,s,l)}return a})}return V9=n,V9}var W9,gV;function cJe(){if(gV)return W9;gV=1;var t=oJe(),e=lJe(),n=e(function(r,a,i){t(r,a,i)});return W9=n,W9}var Y9,yV;function Kne(){if(yV)return Y9;yV=1;function t(e,n){return e<n}return Y9=t,Y9}var K9,bV;function uJe(){if(bV)return K9;bV=1;var t=nN(),e=Kne(),n=$g();function r(a){return a&&a.length?t(a,n,e):void 0}return K9=r,K9}var X9,xV;function dJe(){if(xV)return X9;xV=1;var t=nN(),e=Xf(),n=Kne();function r(a,i){return a&&a.length?t(a,e(i,2),n):void 0}return X9=r,X9}var Q9,vV;function fJe(){if(vV)return Q9;vV=1;var t=Iu(),e=function(){return t.Date.now()};return Q9=e,Q9}var Z9,SV;function hJe(){if(SV)return Z9;SV=1;var t=Tw(),e=Dw(),n=Aw(),r=Lc(),a=vS();function i(s,o,l,u){if(!r(s))return s;o=e(o,s);for(var d=-1,h=o.length,m=h-1,y=s;y!=null&&++d<h;){var x=a(o[d]),v=l;if(x==="__proto__"||x==="constructor"||x==="prototype")return s;if(d!=m){var _=y[x];v=u?u(_,x,y):void 0,v===void 0&&(v=r(_)?_:n(o[d+1])?[]:{})}t(y,x,v),y=y[x]}return s}return Z9=i,Z9}var J9,_V;function pJe(){if(_V)return J9;_V=1;var t=Nw(),e=hJe(),n=Dw();function r(a,i,s){for(var o=-1,l=i.length,u={};++o<l;){var d=i[o],h=t(a,d);s(h,d)&&e(u,n(d,a),h)}return u}return J9=r,J9}var e7,CV;function mJe(){if(CV)return e7;CV=1;var t=pJe(),e=Ane();function n(r,a){return t(r,a,function(i,s){return e(r,s)})}return e7=n,e7}var t7,wV;function gJe(){if(wV)return t7;wV=1;var t=Vne(),e=Mne(),n=Pne();function r(a){return n(e(a,void 0,t),a+"")}return t7=r,t7}var n7,EV;function yJe(){if(EV)return n7;EV=1;var t=mJe(),e=gJe(),n=e(function(r,a){return r==null?{}:t(r,a)});return n7=n,n7}var r7,TV;function bJe(){if(TV)return r7;TV=1;var t=Math.ceil,e=Math.max;function n(r,a,i,s){for(var o=-1,l=e(t((a-r)/(i||1)),0),u=Array(l);l--;)u[s?l:++o]=r,r+=i;return u}return r7=n,r7}var a7,AV;function xJe(){if(AV)return a7;AV=1;var t=bJe(),e=Pw(),n=qne();function r(a){return function(i,s,o){return o&&typeof o!="number"&&e(i,s,o)&&(s=o=void 0),i=n(i),s===void 0?(s=i,i=0):s=n(s),o=o===void 0?i<s?1:-1:n(o),t(i,s,o,a)}}return a7=r,a7}var i7,RV;function vJe(){if(RV)return i7;RV=1;var t=xJe(),e=t();return i7=e,i7}var s7,kV;function SJe(){if(kV)return s7;kV=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return s7=t,s7}var o7,IV;function _Je(){if(IV)return o7;IV=1;var t=Uy();function e(n,r){if(n!==r){var a=n!==void 0,i=n===null,s=n===n,o=t(n),l=r!==void 0,u=r===null,d=r===r,h=t(r);if(!u&&!h&&!o&&n>r||o&&l&&d&&!u&&!h||i&&l&&d||!a&&d||!s)return 1;if(!i&&!o&&!h&&n<r||h&&a&&s&&!i&&!o||u&&a&&s||!l&&s||!d)return-1}return 0}return o7=e,o7}var l7,jV;function CJe(){if(jV)return l7;jV=1;var t=_Je();function e(n,r,a){for(var i=-1,s=n.criteria,o=r.criteria,l=s.length,u=a.length;++i<l;){var d=t(s[i],o[i]);if(d){if(i>=u)return d;var h=a[i];return d*(h=="desc"?-1:1)}}return n.index-r.index}return l7=e,l7}var c7,OV;function wJe(){if(OV)return c7;OV=1;var t=Ow(),e=Nw(),n=Xf(),r=One(),a=SJe(),i=Rw(),s=CJe(),o=$g(),l=Ti();function u(d,h,m){h.length?h=t(h,function(v){return l(v)?function(_){return e(_,v.length===1?v[0]:v)}:v}):h=[o];var y=-1;h=t(h,i(n));var x=r(d,function(v,_,C){var w=t(h,function(T){return T(v)});return{criteria:w,index:++y,value:v}});return a(x,function(v,_){return s(v,_,m)})}return c7=u,c7}var u7,DV;function EJe(){if(DV)return u7;DV=1;var t=eN(),e=wJe(),n=Mw(),r=Pw(),a=n(function(i,s){if(i==null)return[];var o=s.length;return o>1&&r(i,s[0],s[1])?s=[]:o>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(i,t(s,1),[])});return u7=a,u7}var d7,NV;function TJe(){if(NV)return d7;NV=1;var t=Ene(),e=0;function n(r){var a=++e;return t(r)+a}return d7=n,d7}var f7,MV;function AJe(){if(MV)return f7;MV=1;function t(e,n,r){for(var a=-1,i=e.length,s=n.length,o={};++a<i;){var l=a<s?n[a]:void 0;r(o,e[a],l)}return o}return f7=t,f7}var h7,PV;function RJe(){if(PV)return h7;PV=1;var t=Tw(),e=AJe();function n(r,a){return e(r||[],a||[],t)}return h7=n,h7}var p7,LV;function ja(){if(LV)return p7;LV=1;var t;if(typeof FD=="function")try{t={cloneDeep:GZe(),constant:KD(),defaults:qZe(),each:bne(),filter:kne(),find:ZZe(),flatten:Vne(),forEach:yne(),forIn:JZe(),has:Ine(),isUndefined:jne(),last:eJe(),map:Dne(),mapValues:tJe(),max:rJe(),merge:cJe(),min:uJe(),minBy:dJe(),now:fJe(),pick:yJe(),range:vJe(),reduce:Nne(),sortBy:EJe(),uniqueId:TJe(),values:Fne(),zipObject:RJe()}}catch{}return t||(t=window._),p7=t,p7}var m7,zV;function kJe(){if(zV)return m7;zV=1,m7=t;function t(){var r={};r._next=r._prev=r,this._sentinel=r}t.prototype.dequeue=function(){var r=this._sentinel,a=r._prev;if(a!==r)return e(a),a},t.prototype.enqueue=function(r){var a=this._sentinel;r._prev&&r._next&&e(r),r._next=a._next,a._next._prev=r,a._next=r,r._prev=a},t.prototype.toString=function(){for(var r=[],a=this._sentinel,i=a._prev;i!==a;)r.push(JSON.stringify(i,n)),i=i._prev;return"["+r.join(", ")+"]"};function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,a){if(r!=="_next"&&r!=="_prev")return a}return m7}var g7,FV;function IJe(){if(FV)return g7;FV=1;var t=ja(),e=Su().Graph,n=kJe();g7=a;var r=t.constant(1);function a(u,d){if(u.nodeCount()<=1)return[];var h=o(u,d||r),m=i(h.graph,h.buckets,h.zeroIdx);return t.flatten(t.map(m,function(y){return u.outEdges(y.v,y.w)}),!0)}function i(u,d,h){for(var m=[],y=d[d.length-1],x=d[0],v;u.nodeCount();){for(;v=x.dequeue();)s(u,d,h,v);for(;v=y.dequeue();)s(u,d,h,v);if(u.nodeCount()){for(var _=d.length-2;_>0;--_)if(v=d[_].dequeue(),v){m=m.concat(s(u,d,h,v,!0));break}}}return m}function s(u,d,h,m,y){var x=y?[]:void 0;return t.forEach(u.inEdges(m.v),function(v){var _=u.edge(v),C=u.node(v.v);y&&x.push({v:v.v,w:v.w}),C.out-=_,l(d,h,C)}),t.forEach(u.outEdges(m.v),function(v){var _=u.edge(v),C=v.w,w=u.node(C);w.in-=_,l(d,h,w)}),u.removeNode(m.v),x}function o(u,d){var h=new e,m=0,y=0;t.forEach(u.nodes(),function(_){h.setNode(_,{v:_,in:0,out:0})}),t.forEach(u.edges(),function(_){var C=h.edge(_.v,_.w)||0,w=d(_),T=C+w;h.setEdge(_.v,_.w,T),y=Math.max(y,h.node(_.v).out+=w),m=Math.max(m,h.node(_.w).in+=w)});var x=t.range(y+m+3).map(function(){return new n}),v=m+1;return t.forEach(h.nodes(),function(_){l(x,v,h.node(_))}),{graph:h,buckets:x,zeroIdx:v}}function l(u,d,h){h.out?h.in?u[h.out-h.in+d].enqueue(h):u[u.length-1].enqueue(h):u[0].enqueue(h)}return g7}var y7,BV;function jJe(){if(BV)return y7;BV=1;var t=ja(),e=IJe();y7={run:n,undo:a};function n(i){var s=i.graph().acyclicer==="greedy"?e(i,o(i)):r(i);t.forEach(s,function(l){var u=i.edge(l);i.removeEdge(l),u.forwardName=l.name,u.reversed=!0,i.setEdge(l.w,l.v,u,t.uniqueId("rev"))});function o(l){return function(u){return l.edge(u).weight}}}function r(i){var s=[],o={},l={};function u(d){t.has(l,d)||(l[d]=!0,o[d]=!0,t.forEach(i.outEdges(d),function(h){t.has(o,h.w)?s.push(h):u(h.w)}),delete o[d])}return t.forEach(i.nodes(),u),s}function a(i){t.forEach(i.edges(),function(s){var o=i.edge(s);if(o.reversed){i.removeEdge(s);var l=o.forwardName;delete o.reversed,delete o.forwardName,i.setEdge(s.w,s.v,o,l)}})}return y7}var b7,HV;function el(){if(HV)return b7;HV=1;var t=ja(),e=Su().Graph;b7={addDummyNode:n,simplify:r,asNonCompoundGraph:a,successorWeights:i,predecessorWeights:s,intersectRect:o,buildLayerMatrix:l,normalizeRanks:u,removeEmptyRanks:d,addBorderNode:h,maxRank:m,partition:y,time:x,notime:v};function n(_,C,w,T){var E;do E=t.uniqueId(T);while(_.hasNode(E));return w.dummy=C,_.setNode(E,w),E}function r(_){var C=new e().setGraph(_.graph());return t.forEach(_.nodes(),function(w){C.setNode(w,_.node(w))}),t.forEach(_.edges(),function(w){var T=C.edge(w.v,w.w)||{weight:0,minlen:1},E=_.edge(w);C.setEdge(w.v,w.w,{weight:T.weight+E.weight,minlen:Math.max(T.minlen,E.minlen)})}),C}function a(_){var C=new e({multigraph:_.isMultigraph()}).setGraph(_.graph());return t.forEach(_.nodes(),function(w){_.children(w).length||C.setNode(w,_.node(w))}),t.forEach(_.edges(),function(w){C.setEdge(w,_.edge(w))}),C}function i(_){var C=t.map(_.nodes(),function(w){var T={};return t.forEach(_.outEdges(w),function(E){T[E.w]=(T[E.w]||0)+_.edge(E).weight}),T});return t.zipObject(_.nodes(),C)}function s(_){var C=t.map(_.nodes(),function(w){var T={};return t.forEach(_.inEdges(w),function(E){T[E.v]=(T[E.v]||0)+_.edge(E).weight}),T});return t.zipObject(_.nodes(),C)}function o(_,C){var w=_.x,T=_.y,E=C.x-w,k=C.y-T,j=_.width/2,O=_.height/2;if(!E&&!k)throw new Error("Not possible to find intersection inside of the rectangle");var z,M;return Math.abs(k)*j>Math.abs(E)*O?(k<0&&(O=-O),z=O*E/k,M=O):(E<0&&(j=-j),z=j,M=j*k/E),{x:w+z,y:T+M}}function l(_){var C=t.map(t.range(m(_)+1),function(){return[]});return t.forEach(_.nodes(),function(w){var T=_.node(w),E=T.rank;t.isUndefined(E)||(C[E][T.order]=w)}),C}function u(_){var C=t.min(t.map(_.nodes(),function(w){return _.node(w).rank}));t.forEach(_.nodes(),function(w){var T=_.node(w);t.has(T,"rank")&&(T.rank-=C)})}function d(_){var C=t.min(t.map(_.nodes(),function(k){return _.node(k).rank})),w=[];t.forEach(_.nodes(),function(k){var j=_.node(k).rank-C;w[j]||(w[j]=[]),w[j].push(k)});var T=0,E=_.graph().nodeRankFactor;t.forEach(w,function(k,j){t.isUndefined(k)&&j%E!==0?--T:T&&t.forEach(k,function(O){_.node(O).rank+=T})})}function h(_,C,w,T){var E={width:0,height:0};return arguments.length>=4&&(E.rank=w,E.order=T),n(_,"border",E,C)}function m(_){return t.max(t.map(_.nodes(),function(C){var w=_.node(C).rank;if(!t.isUndefined(w))return w}))}function y(_,C){var w={lhs:[],rhs:[]};return t.forEach(_,function(T){C(T)?w.lhs.push(T):w.rhs.push(T)}),w}function x(_,C){var w=t.now();try{return C()}finally{console.log(_+" time: "+(t.now()-w)+"ms")}}function v(_,C){return C()}return b7}var x7,UV;function OJe(){if(UV)return x7;UV=1;var t=ja(),e=el();x7={run:n,undo:a};function n(i){i.graph().dummyChains=[],t.forEach(i.edges(),function(s){r(i,s)})}function r(i,s){var o=s.v,l=i.node(o).rank,u=s.w,d=i.node(u).rank,h=s.name,m=i.edge(s),y=m.labelRank;if(d!==l+1){i.removeEdge(s);var x,v,_;for(_=0,++l;l<d;++_,++l)m.points=[],v={width:0,height:0,edgeLabel:m,edgeObj:s,rank:l},x=e.addDummyNode(i,"edge",v,"_d"),l===y&&(v.width=m.width,v.height=m.height,v.dummy="edge-label",v.labelpos=m.labelpos),i.setEdge(o,x,{weight:m.weight},h),_===0&&i.graph().dummyChains.push(x),o=x;i.setEdge(o,u,{weight:m.weight},h)}}function a(i){t.forEach(i.graph().dummyChains,function(s){var o=i.node(s),l=o.edgeLabel,u;for(i.setEdge(o.edgeObj,l);o.dummy;)u=i.successors(s)[0],i.removeNode(s),l.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(l.x=o.x,l.y=o.y,l.width=o.width,l.height=o.height),s=u,o=i.node(s)})}return x7}var v7,$V;function YC(){if($V)return v7;$V=1;var t=ja();v7={longestPath:e,slack:n};function e(r){var a={};function i(s){var o=r.node(s);if(t.has(a,s))return o.rank;a[s]=!0;var l=t.min(t.map(r.outEdges(s),function(u){return i(u.w)-r.edge(u).minlen}));return(l===Number.POSITIVE_INFINITY||l===void 0||l===null)&&(l=0),o.rank=l}t.forEach(r.sources(),i)}function n(r,a){return r.node(a.w).rank-r.node(a.v).rank-r.edge(a).minlen}return v7}var S7,GV;function Xne(){if(GV)return S7;GV=1;var t=ja(),e=Su().Graph,n=YC().slack;S7=r;function r(o){var l=new e({directed:!1}),u=o.nodes()[0],d=o.nodeCount();l.setNode(u,{});for(var h,m;a(l,o)<d;)h=i(l,o),m=l.hasNode(h.v)?n(o,h):-n(o,h),s(l,o,m);return l}function a(o,l){function u(d){t.forEach(l.nodeEdges(d),function(h){var m=h.v,y=d===m?h.w:m;!o.hasNode(y)&&!n(l,h)&&(o.setNode(y,{}),o.setEdge(d,y,{}),u(y))})}return t.forEach(o.nodes(),u),o.nodeCount()}function i(o,l){return t.minBy(l.edges(),function(u){if(o.hasNode(u.v)!==o.hasNode(u.w))return n(l,u)})}function s(o,l,u){t.forEach(o.nodes(),function(d){l.node(d).rank+=u})}return S7}var _7,qV;function DJe(){if(qV)return _7;qV=1;var t=ja(),e=Xne(),n=YC().slack,r=YC().longestPath,a=Su().alg.preorder,i=Su().alg.postorder,s=el().simplify;_7=o,o.initLowLimValues=h,o.initCutValues=l,o.calcCutValue=d,o.leaveEdge=y,o.enterEdge=x,o.exchangeEdges=v;function o(T){T=s(T),r(T);var E=e(T);h(E),l(E,T);for(var k,j;k=y(E);)j=x(E,T,k),v(E,T,k,j)}function l(T,E){var k=i(T,T.nodes());k=k.slice(0,k.length-1),t.forEach(k,function(j){u(T,E,j)})}function u(T,E,k){var j=T.node(k),O=j.parent;T.edge(k,O).cutvalue=d(T,E,k)}function d(T,E,k){var j=T.node(k),O=j.parent,z=!0,M=E.edge(k,O),N=0;return M||(z=!1,M=E.edge(O,k)),N=M.weight,t.forEach(E.nodeEdges(k),function(U){var F=U.v===k,$=F?U.w:U.v;if($!==O){var D=F===z,H=E.edge(U).weight;if(N+=D?H:-H,C(T,k,$)){var L=T.edge(k,$).cutvalue;N+=D?-L:L}}}),N}function h(T,E){arguments.length<2&&(E=T.nodes()[0]),m(T,{},1,E)}function m(T,E,k,j,O){var z=k,M=T.node(j);return E[j]=!0,t.forEach(T.neighbors(j),function(N){t.has(E,N)||(k=m(T,E,k,N,j))}),M.low=z,M.lim=k++,O?M.parent=O:delete M.parent,k}function y(T){return t.find(T.edges(),function(E){return T.edge(E).cutvalue<0})}function x(T,E,k){var j=k.v,O=k.w;E.hasEdge(j,O)||(j=k.w,O=k.v);var z=T.node(j),M=T.node(O),N=z,U=!1;z.lim>M.lim&&(N=M,U=!0);var F=t.filter(E.edges(),function($){return U===w(T,T.node($.v),N)&&U!==w(T,T.node($.w),N)});return t.minBy(F,function($){return n(E,$)})}function v(T,E,k,j){var O=k.v,z=k.w;T.removeEdge(O,z),T.setEdge(j.v,j.w,{}),h(T),l(T,E),_(T,E)}function _(T,E){var k=t.find(T.nodes(),function(O){return!E.node(O).parent}),j=a(T,k);j=j.slice(1),t.forEach(j,function(O){var z=T.node(O).parent,M=E.edge(O,z),N=!1;M||(M=E.edge(z,O),N=!0),E.node(O).rank=E.node(z).rank+(N?M.minlen:-M.minlen)})}function C(T,E,k){return T.hasEdge(E,k)}function w(T,E,k){return k.low<=E.lim&&E.lim<=k.lim}return _7}var C7,VV;function NJe(){if(VV)return C7;VV=1;var t=YC(),e=t.longestPath,n=Xne(),r=DJe();C7=a;function a(l){switch(l.graph().ranker){case"network-simplex":o(l);break;case"tight-tree":s(l);break;case"longest-path":i(l);break;default:o(l)}}var i=e;function s(l){e(l),n(l)}function o(l){r(l)}return C7}var w7,WV;function MJe(){if(WV)return w7;WV=1;var t=ja();w7=e;function e(a){var i=r(a);t.forEach(a.graph().dummyChains,function(s){for(var o=a.node(s),l=o.edgeObj,u=n(a,i,l.v,l.w),d=u.path,h=u.lca,m=0,y=d[m],x=!0;s!==l.w;){if(o=a.node(s),x){for(;(y=d[m])!==h&&a.node(y).maxRank<o.rank;)m++;y===h&&(x=!1)}if(!x){for(;m<d.length-1&&a.node(y=d[m+1]).minRank<=o.rank;)m++;y=d[m]}a.setParent(s,y),s=a.successors(s)[0]}})}function n(a,i,s,o){var l=[],u=[],d=Math.min(i[s].low,i[o].low),h=Math.max(i[s].lim,i[o].lim),m,y;m=s;do m=a.parent(m),l.push(m);while(m&&(i[m].low>d||h>i[m].lim));for(y=m,m=o;(m=a.parent(m))!==y;)u.push(m);return{path:l.concat(u.reverse()),lca:y}}function r(a){var i={},s=0;function o(l){var u=s;t.forEach(a.children(l),o),i[l]={low:u,lim:s++}}return t.forEach(a.children(),o),i}return w7}var E7,YV;function PJe(){if(YV)return E7;YV=1;var t=ja(),e=el();E7={run:n,cleanup:s};function n(o){var l=e.addDummyNode(o,"root",{},"_root"),u=a(o),d=t.max(t.values(u))-1,h=2*d+1;o.graph().nestingRoot=l,t.forEach(o.edges(),function(y){o.edge(y).minlen*=h});var m=i(o)+1;t.forEach(o.children(),function(y){r(o,l,h,m,d,u,y)}),o.graph().nodeRankFactor=h}function r(o,l,u,d,h,m,y){var x=o.children(y);if(!x.length){y!==l&&o.setEdge(l,y,{weight:0,minlen:u});return}var v=e.addBorderNode(o,"_bt"),_=e.addBorderNode(o,"_bb"),C=o.node(y);o.setParent(v,y),C.borderTop=v,o.setParent(_,y),C.borderBottom=_,t.forEach(x,function(w){r(o,l,u,d,h,m,w);var T=o.node(w),E=T.borderTop?T.borderTop:w,k=T.borderBottom?T.borderBottom:w,j=T.borderTop?d:2*d,O=E!==k?1:h-m[y]+1;o.setEdge(v,E,{weight:j,minlen:O,nestingEdge:!0}),o.setEdge(k,_,{weight:j,minlen:O,nestingEdge:!0})}),o.parent(y)||o.setEdge(l,v,{weight:0,minlen:h+m[y]})}function a(o){var l={};function u(d,h){var m=o.children(d);m&&m.length&&t.forEach(m,function(y){u(y,h+1)}),l[d]=h}return t.forEach(o.children(),function(d){u(d,1)}),l}function i(o){return t.reduce(o.edges(),function(l,u){return l+o.edge(u).weight},0)}function s(o){var l=o.graph();o.removeNode(l.nestingRoot),delete l.nestingRoot,t.forEach(o.edges(),function(u){var d=o.edge(u);d.nestingEdge&&o.removeEdge(u)})}return E7}var T7,KV;function LJe(){if(KV)return T7;KV=1;var t=ja(),e=el();T7=n;function n(a){function i(s){var o=a.children(s),l=a.node(s);if(o.length&&t.forEach(o,i),t.has(l,"minRank")){l.borderLeft=[],l.borderRight=[];for(var u=l.minRank,d=l.maxRank+1;u<d;++u)r(a,"borderLeft","_bl",s,l,u),r(a,"borderRight","_br",s,l,u)}}t.forEach(a.children(),i)}function r(a,i,s,o,l,u){var d={width:0,height:0,rank:u,borderType:i},h=l[i][u-1],m=e.addDummyNode(a,"border",d,s);l[i][u]=m,a.setParent(m,o),h&&a.setEdge(h,m,{weight:1})}return T7}var A7,XV;function zJe(){if(XV)return A7;XV=1;var t=ja();A7={adjust:e,undo:n};function e(u){var d=u.graph().rankdir.toLowerCase();(d==="lr"||d==="rl")&&r(u)}function n(u){var d=u.graph().rankdir.toLowerCase();(d==="bt"||d==="rl")&&i(u),(d==="lr"||d==="rl")&&(o(u),r(u))}function r(u){t.forEach(u.nodes(),function(d){a(u.node(d))}),t.forEach(u.edges(),function(d){a(u.edge(d))})}function a(u){var d=u.width;u.width=u.height,u.height=d}function i(u){t.forEach(u.nodes(),function(d){s(u.node(d))}),t.forEach(u.edges(),function(d){var h=u.edge(d);t.forEach(h.points,s),t.has(h,"y")&&s(h)})}function s(u){u.y=-u.y}function o(u){t.forEach(u.nodes(),function(d){l(u.node(d))}),t.forEach(u.edges(),function(d){var h=u.edge(d);t.forEach(h.points,l),t.has(h,"x")&&l(h)})}function l(u){var d=u.x;u.x=u.y,u.y=d}return A7}var R7,QV;function FJe(){if(QV)return R7;QV=1;var t=ja();R7=e;function e(n){var r={},a=t.filter(n.nodes(),function(u){return!n.children(u).length}),i=t.max(t.map(a,function(u){return n.node(u).rank})),s=t.map(t.range(i+1),function(){return[]});function o(u){if(!t.has(r,u)){r[u]=!0;var d=n.node(u);s[d.rank].push(u),t.forEach(n.successors(u),o)}}var l=t.sortBy(a,function(u){return n.node(u).rank});return t.forEach(l,o),s}return R7}var k7,ZV;function BJe(){if(ZV)return k7;ZV=1;var t=ja();k7=e;function e(r,a){for(var i=0,s=1;s<a.length;++s)i+=n(r,a[s-1],a[s]);return i}function n(r,a,i){for(var s=t.zipObject(i,t.map(i,function(m,y){return y})),o=t.flatten(t.map(a,function(m){return t.sortBy(t.map(r.outEdges(m),function(y){return{pos:s[y.w],weight:r.edge(y).weight}}),"pos")}),!0),l=1;l<i.length;)l<<=1;var u=2*l-1;l-=1;var d=t.map(new Array(u),function(){return 0}),h=0;return t.forEach(o.forEach(function(m){var y=m.pos+l;d[y]+=m.weight;for(var x=0;y>0;)y%2&&(x+=d[y+1]),y=y-1>>1,d[y]+=m.weight;h+=m.weight*x})),h}return k7}var I7,JV;function HJe(){if(JV)return I7;JV=1;var t=ja();I7=e;function e(n,r){return t.map(r,function(a){var i=n.inEdges(a);if(i.length){var s=t.reduce(i,function(o,l){var u=n.edge(l),d=n.node(l.v);return{sum:o.sum+u.weight*d.order,weight:o.weight+u.weight}},{sum:0,weight:0});return{v:a,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:a}})}return I7}var j7,eW;function UJe(){if(eW)return j7;eW=1;var t=ja();j7=e;function e(a,i){var s={};t.forEach(a,function(l,u){var d=s[l.v]={indegree:0,in:[],out:[],vs:[l.v],i:u};t.isUndefined(l.barycenter)||(d.barycenter=l.barycenter,d.weight=l.weight)}),t.forEach(i.edges(),function(l){var u=s[l.v],d=s[l.w];!t.isUndefined(u)&&!t.isUndefined(d)&&(d.indegree++,u.out.push(s[l.w]))});var o=t.filter(s,function(l){return!l.indegree});return n(o)}function n(a){var i=[];function s(u){return function(d){d.merged||(t.isUndefined(d.barycenter)||t.isUndefined(u.barycenter)||d.barycenter>=u.barycenter)&&r(u,d)}}function o(u){return function(d){d.in.push(u),--d.indegree===0&&a.push(d)}}for(;a.length;){var l=a.pop();i.push(l),t.forEach(l.in.reverse(),s(l)),t.forEach(l.out,o(l))}return t.map(t.filter(i,function(u){return!u.merged}),function(u){return t.pick(u,["vs","i","barycenter","weight"])})}function r(a,i){var s=0,o=0;a.weight&&(s+=a.barycenter*a.weight,o+=a.weight),i.weight&&(s+=i.barycenter*i.weight,o+=i.weight),a.vs=i.vs.concat(a.vs),a.barycenter=s/o,a.weight=o,a.i=Math.min(i.i,a.i),i.merged=!0}return j7}var O7,tW;function $Je(){if(tW)return O7;tW=1;var t=ja(),e=el();O7=n;function n(i,s){var o=e.partition(i,function(v){return t.has(v,"barycenter")}),l=o.lhs,u=t.sortBy(o.rhs,function(v){return-v.i}),d=[],h=0,m=0,y=0;l.sort(a(!!s)),y=r(d,u,y),t.forEach(l,function(v){y+=v.vs.length,d.push(v.vs),h+=v.barycenter*v.weight,m+=v.weight,y=r(d,u,y)});var x={vs:t.flatten(d,!0)};return m&&(x.barycenter=h/m,x.weight=m),x}function r(i,s,o){for(var l;s.length&&(l=t.last(s)).i<=o;)s.pop(),i.push(l.vs),o++;return o}function a(i){return function(s,o){return s.barycenter<o.barycenter?-1:s.barycenter>o.barycenter?1:i?o.i-s.i:s.i-o.i}}return O7}var D7,nW;function GJe(){if(nW)return D7;nW=1;var t=ja(),e=HJe(),n=UJe(),r=$Je();D7=a;function a(o,l,u,d){var h=o.children(l),m=o.node(l),y=m?m.borderLeft:void 0,x=m?m.borderRight:void 0,v={};y&&(h=t.filter(h,function(k){return k!==y&&k!==x}));var _=e(o,h);t.forEach(_,function(k){if(o.children(k.v).length){var j=a(o,k.v,u,d);v[k.v]=j,t.has(j,"barycenter")&&s(k,j)}});var C=n(_,u);i(C,v);var w=r(C,d);if(y&&(w.vs=t.flatten([y,w.vs,x],!0),o.predecessors(y).length)){var T=o.node(o.predecessors(y)[0]),E=o.node(o.predecessors(x)[0]);t.has(w,"barycenter")||(w.barycenter=0,w.weight=0),w.barycenter=(w.barycenter*w.weight+T.order+E.order)/(w.weight+2),w.weight+=2}return w}function i(o,l){t.forEach(o,function(u){u.vs=t.flatten(u.vs.map(function(d){return l[d]?l[d].vs:d}),!0)})}function s(o,l){t.isUndefined(o.barycenter)?(o.barycenter=l.barycenter,o.weight=l.weight):(o.barycenter=(o.barycenter*o.weight+l.barycenter*l.weight)/(o.weight+l.weight),o.weight+=l.weight)}return D7}var N7,rW;function qJe(){if(rW)return N7;rW=1;var t=ja(),e=Su().Graph;N7=n;function n(a,i,s){var o=r(a),l=new e({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(u){return a.node(u)});return t.forEach(a.nodes(),function(u){var d=a.node(u),h=a.parent(u);(d.rank===i||d.minRank<=i&&i<=d.maxRank)&&(l.setNode(u),l.setParent(u,h||o),t.forEach(a[s](u),function(m){var y=m.v===u?m.w:m.v,x=l.edge(y,u),v=t.isUndefined(x)?0:x.weight;l.setEdge(y,u,{weight:a.edge(m).weight+v})}),t.has(d,"minRank")&&l.setNode(u,{borderLeft:d.borderLeft[i],borderRight:d.borderRight[i]}))}),l}function r(a){for(var i;a.hasNode(i=t.uniqueId("_root")););return i}return N7}var M7,aW;function VJe(){if(aW)return M7;aW=1;var t=ja();M7=e;function e(n,r,a){var i={},s;t.forEach(a,function(o){for(var l=n.parent(o),u,d;l;){if(u=n.parent(l),u?(d=i[u],i[u]=l):(d=s,s=l),d&&d!==l){r.setEdge(d,l);return}l=u}})}return M7}var P7,iW;function WJe(){if(iW)return P7;iW=1;var t=ja(),e=FJe(),n=BJe(),r=GJe(),a=qJe(),i=VJe(),s=Su().Graph,o=el();P7=l;function l(m){var y=o.maxRank(m),x=u(m,t.range(1,y+1),"inEdges"),v=u(m,t.range(y-1,-1,-1),"outEdges"),_=e(m);h(m,_);for(var C=Number.POSITIVE_INFINITY,w,T=0,E=0;E<4;++T,++E){d(T%2?x:v,T%4>=2),_=o.buildLayerMatrix(m);var k=n(m,_);k<C&&(E=0,w=t.cloneDeep(_),C=k)}h(m,w)}function u(m,y,x){return t.map(y,function(v){return a(m,v,x)})}function d(m,y){var x=new s;t.forEach(m,function(v){var _=v.graph().root,C=r(v,_,x,y);t.forEach(C.vs,function(w,T){v.node(w).order=T}),i(v,x,C.vs)})}function h(m,y){t.forEach(y,function(x){t.forEach(x,function(v,_){m.node(v).order=_})})}return P7}var L7,sW;function YJe(){if(sW)return L7;sW=1;var t=ja(),e=Su().Graph,n=el();L7={positionX:x,findType1Conflicts:r,findType2Conflicts:a,addConflict:s,hasConflict:o,verticalAlignment:l,horizontalCompaction:u,alignCoordinates:m,findSmallestWidthAlignment:h,balance:y};function r(C,w){var T={};function E(k,j){var O=0,z=0,M=k.length,N=t.last(j);return t.forEach(j,function(U,F){var $=i(C,U),D=$?C.node($).order:M;($||U===N)&&(t.forEach(j.slice(z,F+1),function(H){t.forEach(C.predecessors(H),function(L){var V=C.node(L),J=V.order;(J<O||D<J)&&!(V.dummy&&C.node(H).dummy)&&s(T,L,H)})}),z=F+1,O=D)}),j}return t.reduce(w,E),T}function a(C,w){var T={};function E(j,O,z,M,N){var U;t.forEach(t.range(O,z),function(F){U=j[F],C.node(U).dummy&&t.forEach(C.predecessors(U),function($){var D=C.node($);D.dummy&&(D.order<M||D.order>N)&&s(T,$,U)})})}function k(j,O){var z=-1,M,N=0;return t.forEach(O,function(U,F){if(C.node(U).dummy==="border"){var $=C.predecessors(U);$.length&&(M=C.node($[0]).order,E(O,N,F,z,M),N=F,z=M)}E(O,N,O.length,M,j.length)}),O}return t.reduce(w,k),T}function i(C,w){if(C.node(w).dummy)return t.find(C.predecessors(w),function(T){return C.node(T).dummy})}function s(C,w,T){if(w>T){var E=w;w=T,T=E}var k=C[w];k||(C[w]=k={}),k[T]=!0}function o(C,w,T){if(w>T){var E=w;w=T,T=E}return t.has(C[w],T)}function l(C,w,T,E){var k={},j={},O={};return t.forEach(w,function(z){t.forEach(z,function(M,N){k[M]=M,j[M]=M,O[M]=N})}),t.forEach(w,function(z){var M=-1;t.forEach(z,function(N){var U=E(N);if(U.length){U=t.sortBy(U,function(L){return O[L]});for(var F=(U.length-1)/2,$=Math.floor(F),D=Math.ceil(F);$<=D;++$){var H=U[$];j[N]===N&&M<O[H]&&!o(T,N,H)&&(j[H]=N,j[N]=k[N]=k[H],M=O[H])}}})}),{root:k,align:j}}function u(C,w,T,E,k){var j={},O=d(C,w,T,k),z=k?"borderLeft":"borderRight";function M(F,$){for(var D=O.nodes(),H=D.pop(),L={};H;)L[H]?F(H):(L[H]=!0,D.push(H),D=D.concat($(H))),H=D.pop()}function N(F){j[F]=O.inEdges(F).reduce(function($,D){return Math.max($,j[D.v]+O.edge(D))},0)}function U(F){var $=O.outEdges(F).reduce(function(H,L){return Math.min(H,j[L.w]-O.edge(L))},Number.POSITIVE_INFINITY),D=C.node(F);$!==Number.POSITIVE_INFINITY&&D.borderType!==z&&(j[F]=Math.max(j[F],$))}return M(N,O.predecessors.bind(O)),M(U,O.successors.bind(O)),t.forEach(E,function(F){j[F]=j[T[F]]}),j}function d(C,w,T,E){var k=new e,j=C.graph(),O=v(j.nodesep,j.edgesep,E);return t.forEach(w,function(z){var M;t.forEach(z,function(N){var U=T[N];if(k.setNode(U),M){var F=T[M],$=k.edge(F,U);k.setEdge(F,U,Math.max(O(C,N,M),$||0))}M=N})}),k}function h(C,w){return t.minBy(t.values(w),function(T){var E=Number.NEGATIVE_INFINITY,k=Number.POSITIVE_INFINITY;return t.forIn(T,function(j,O){var z=_(C,O)/2;E=Math.max(j+z,E),k=Math.min(j-z,k)}),E-k})}function m(C,w){var T=t.values(w),E=t.min(T),k=t.max(T);t.forEach(["u","d"],function(j){t.forEach(["l","r"],function(O){var z=j+O,M=C[z],N;if(M!==w){var U=t.values(M);N=O==="l"?E-t.min(U):k-t.max(U),N&&(C[z]=t.mapValues(M,function(F){return F+N}))}})})}function y(C,w){return t.mapValues(C.ul,function(T,E){if(w)return C[w.toLowerCase()][E];var k=t.sortBy(t.map(C,E));return(k[1]+k[2])/2})}function x(C){var w=n.buildLayerMatrix(C),T=t.merge(r(C,w),a(C,w)),E={},k;t.forEach(["u","d"],function(O){k=O==="u"?w:t.values(w).reverse(),t.forEach(["l","r"],function(z){z==="r"&&(k=t.map(k,function(F){return t.values(F).reverse()}));var M=(O==="u"?C.predecessors:C.successors).bind(C),N=l(C,k,T,M),U=u(C,k,N.root,N.align,z==="r");z==="r"&&(U=t.mapValues(U,function(F){return-F})),E[O+z]=U})});var j=h(C,E);return m(E,j),y(E,C.graph().align)}function v(C,w,T){return function(E,k,j){var O=E.node(k),z=E.node(j),M=0,N;if(M+=O.width/2,t.has(O,"labelpos"))switch(O.labelpos.toLowerCase()){case"l":N=-O.width/2;break;case"r":N=O.width/2;break}if(N&&(M+=T?N:-N),N=0,M+=(O.dummy?w:C)/2,M+=(z.dummy?w:C)/2,M+=z.width/2,t.has(z,"labelpos"))switch(z.labelpos.toLowerCase()){case"l":N=z.width/2;break;case"r":N=-z.width/2;break}return N&&(M+=T?N:-N),N=0,M}}function _(C,w){return C.node(w).width}return L7}var z7,oW;function KJe(){if(oW)return z7;oW=1;var t=ja(),e=el(),n=YJe().positionX;z7=r;function r(i){i=e.asNonCompoundGraph(i),a(i),t.forEach(n(i),function(s,o){i.node(o).x=s})}function a(i){var s=e.buildLayerMatrix(i),o=i.graph().ranksep,l=0;t.forEach(s,function(u){var d=t.max(t.map(u,function(h){return i.node(h).height}));t.forEach(u,function(h){i.node(h).y=l+d/2}),l+=d+o})}return z7}var F7,lW;function XJe(){if(lW)return F7;lW=1;var t=ja(),e=jJe(),n=OJe(),r=NJe(),a=el().normalizeRanks,i=MJe(),s=el().removeEmptyRanks,o=PJe(),l=LJe(),u=zJe(),d=WJe(),h=KJe(),m=el(),y=Su().Graph;F7=x;function x(ne,re){var ie=re&&re.debugTiming?m.time:m.notime;ie("layout",function(){var ce=ie("  buildLayoutGraph",function(){return M(ne)});ie("  runLayout",function(){v(ce,ie)}),ie("  updateInputGraph",function(){_(ne,ce)})})}function v(ne,re){re("    makeSpaceForEdgeLabels",function(){N(ne)}),re("    removeSelfEdges",function(){Q(ne)}),re("    acyclic",function(){e.run(ne)}),re("    nestingGraph.run",function(){o.run(ne)}),re("    rank",function(){r(m.asNonCompoundGraph(ne))}),re("    injectEdgeLabelProxies",function(){U(ne)}),re("    removeEmptyRanks",function(){s(ne)}),re("    nestingGraph.cleanup",function(){o.cleanup(ne)}),re("    normalizeRanks",function(){a(ne)}),re("    assignRankMinMax",function(){F(ne)}),re("    removeEdgeLabelProxies",function(){$(ne)}),re("    normalize.run",function(){n.run(ne)}),re("    parentDummyChains",function(){i(ne)}),re("    addBorderSegments",function(){l(ne)}),re("    order",function(){d(ne)}),re("    insertSelfEdges",function(){K(ne)}),re("    adjustCoordinateSystem",function(){u.adjust(ne)}),re("    position",function(){h(ne)}),re("    positionSelfEdges",function(){q(ne)}),re("    removeBorderNodes",function(){J(ne)}),re("    normalize.undo",function(){n.undo(ne)}),re("    fixupEdgeLabelCoords",function(){L(ne)}),re("    undoCoordinateSystem",function(){u.undo(ne)}),re("    translateGraph",function(){D(ne)}),re("    assignNodeIntersects",function(){H(ne)}),re("    reversePoints",function(){V(ne)}),re("    acyclic.undo",function(){e.undo(ne)})}function _(ne,re){t.forEach(ne.nodes(),function(ie){var ce=ne.node(ie),he=re.node(ie);ce&&(ce.x=he.x,ce.y=he.y,re.children(ie).length&&(ce.width=he.width,ce.height=he.height))}),t.forEach(ne.edges(),function(ie){var ce=ne.edge(ie),he=re.edge(ie);ce.points=he.points,t.has(he,"x")&&(ce.x=he.x,ce.y=he.y)}),ne.graph().width=re.graph().width,ne.graph().height=re.graph().height}var C=["nodesep","edgesep","ranksep","marginx","marginy"],w={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},T=["acyclicer","ranker","rankdir","align"],E=["width","height"],k={width:0,height:0},j=["minlen","weight","width","height","labeloffset"],O={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},z=["labelpos"];function M(ne){var re=new y({multigraph:!0,compound:!0}),ie=Y(ne.graph());return re.setGraph(t.merge({},w,Z(ie,C),t.pick(ie,T))),t.forEach(ne.nodes(),function(ce){var he=Y(ne.node(ce));re.setNode(ce,t.defaults(Z(he,E),k)),re.setParent(ce,ne.parent(ce))}),t.forEach(ne.edges(),function(ce){var he=Y(ne.edge(ce));re.setEdge(ce,t.merge({},O,Z(he,j),t.pick(he,z)))}),re}function N(ne){var re=ne.graph();re.ranksep/=2,t.forEach(ne.edges(),function(ie){var ce=ne.edge(ie);ce.minlen*=2,ce.labelpos.toLowerCase()!=="c"&&(re.rankdir==="TB"||re.rankdir==="BT"?ce.width+=ce.labeloffset:ce.height+=ce.labeloffset)})}function U(ne){t.forEach(ne.edges(),function(re){var ie=ne.edge(re);if(ie.width&&ie.height){var ce=ne.node(re.v),he=ne.node(re.w),me={rank:(he.rank-ce.rank)/2+ce.rank,e:re};m.addDummyNode(ne,"edge-proxy",me,"_ep")}})}function F(ne){var re=0;t.forEach(ne.nodes(),function(ie){var ce=ne.node(ie);ce.borderTop&&(ce.minRank=ne.node(ce.borderTop).rank,ce.maxRank=ne.node(ce.borderBottom).rank,re=t.max(re,ce.maxRank))}),ne.graph().maxRank=re}function $(ne){t.forEach(ne.nodes(),function(re){var ie=ne.node(re);ie.dummy==="edge-proxy"&&(ne.edge(ie.e).labelRank=ie.rank,ne.removeNode(re))})}function D(ne){var re=Number.POSITIVE_INFINITY,ie=0,ce=Number.POSITIVE_INFINITY,he=0,me=ne.graph(),le=me.marginx||0,de=me.marginy||0;function pe(ve){var ge=ve.x,oe=ve.y,Se=ve.width,be=ve.height;re=Math.min(re,ge-Se/2),ie=Math.max(ie,ge+Se/2),ce=Math.min(ce,oe-be/2),he=Math.max(he,oe+be/2)}t.forEach(ne.nodes(),function(ve){pe(ne.node(ve))}),t.forEach(ne.edges(),function(ve){var ge=ne.edge(ve);t.has(ge,"x")&&pe(ge)}),re-=le,ce-=de,t.forEach(ne.nodes(),function(ve){var ge=ne.node(ve);ge.x-=re,ge.y-=ce}),t.forEach(ne.edges(),function(ve){var ge=ne.edge(ve);t.forEach(ge.points,function(oe){oe.x-=re,oe.y-=ce}),t.has(ge,"x")&&(ge.x-=re),t.has(ge,"y")&&(ge.y-=ce)}),me.width=ie-re+le,me.height=he-ce+de}function H(ne){t.forEach(ne.edges(),function(re){var ie=ne.edge(re),ce=ne.node(re.v),he=ne.node(re.w),me,le;ie.points?(me=ie.points[0],le=ie.points[ie.points.length-1]):(ie.points=[],me=he,le=ce),ie.points.unshift(m.intersectRect(ce,me)),ie.points.push(m.intersectRect(he,le))})}function L(ne){t.forEach(ne.edges(),function(re){var ie=ne.edge(re);if(t.has(ie,"x"))switch((ie.labelpos==="l"||ie.labelpos==="r")&&(ie.width-=ie.labeloffset),ie.labelpos){case"l":ie.x-=ie.width/2+ie.labeloffset;break;case"r":ie.x+=ie.width/2+ie.labeloffset;break}})}function V(ne){t.forEach(ne.edges(),function(re){var ie=ne.edge(re);ie.reversed&&ie.points.reverse()})}function J(ne){t.forEach(ne.nodes(),function(re){if(ne.children(re).length){var ie=ne.node(re),ce=ne.node(ie.borderTop),he=ne.node(ie.borderBottom),me=ne.node(t.last(ie.borderLeft)),le=ne.node(t.last(ie.borderRight));ie.width=Math.abs(le.x-me.x),ie.height=Math.abs(he.y-ce.y),ie.x=me.x+ie.width/2,ie.y=ce.y+ie.height/2}}),t.forEach(ne.nodes(),function(re){ne.node(re).dummy==="border"&&ne.removeNode(re)})}function Q(ne){t.forEach(ne.edges(),function(re){if(re.v===re.w){var ie=ne.node(re.v);ie.selfEdges||(ie.selfEdges=[]),ie.selfEdges.push({e:re,label:ne.edge(re)}),ne.removeEdge(re)}})}function K(ne){var re=m.buildLayerMatrix(ne);t.forEach(re,function(ie){var ce=0;t.forEach(ie,function(he,me){var le=ne.node(he);le.order=me+ce,t.forEach(le.selfEdges,function(de){m.addDummyNode(ne,"selfedge",{width:de.label.width,height:de.label.height,rank:le.rank,order:me+ ++ce,e:de.e,label:de.label},"_se")}),delete le.selfEdges})})}function q(ne){t.forEach(ne.nodes(),function(re){var ie=ne.node(re);if(ie.dummy==="selfedge"){var ce=ne.node(ie.e.v),he=ce.x+ce.width/2,me=ce.y,le=ie.x-he,de=ce.height/2;ne.setEdge(ie.e,ie.label),ne.removeNode(re),ie.label.points=[{x:he+2*le/3,y:me-de},{x:he+5*le/6,y:me-de},{x:he+le,y:me},{x:he+5*le/6,y:me+de},{x:he+2*le/3,y:me+de}],ie.label.x=ie.x,ie.label.y=ie.y}})}function Z(ne,re){return t.mapValues(t.pick(ne,re),Number)}function Y(ne){var re={};return t.forEach(ne,function(ie,ce){re[ce.toLowerCase()]=ie}),re}return F7}var B7,cW;function QJe(){if(cW)return B7;cW=1;var t=ja(),e=el(),n=Su().Graph;B7={debugOrdering:r};function r(a){var i=e.buildLayerMatrix(a),s=new n({compound:!0,multigraph:!0}).setGraph({});return t.forEach(a.nodes(),function(o){s.setNode(o,{label:o}),s.setParent(o,"layer"+a.node(o).rank)}),t.forEach(a.edges(),function(o){s.setEdge(o.v,o.w,{},o.name)}),t.forEach(i,function(o,l){var u="layer"+l;s.setNode(u,{rank:"same"}),t.reduce(o,function(d,h){return s.setEdge(d,h,{style:"invis"}),h})}),s}return B7}var H7,uW;function ZJe(){return uW||(uW=1,H7="0.8.5"),H7}var U7,dW;function JJe(){return dW||(dW=1,U7={graphlib:Su(),layout:XJe(),debug:QJe(),util:{time:el().time,notime:el().notime},version:ZJe()}),U7}var eet=JJe();const fW=$f(eet),pj={MODEL:{color:"#9C27B0",label:"Model"},CLIP:{color:"#FF9800",label:"CLIP"},VAE:{color:"#E91E63",label:"VAE"},CONDITIONING:{color:"#F44336",label:"Conditioning"},LATENT:{color:"#00BCD4",label:"Latent"},IMAGE:{color:"#4CAF50",label:"Image"},MASK:{color:"#FFFFFF",label:"Mask"},CONTROL_NET:{color:"#FF5722",label:"ControlNet"},UPSCALE_MODEL:{color:"#673AB7",label:"Upscale Model"},SAMPLER:{color:"#2196F3",label:"Sampler"},SIGMAS:{color:"#3F51B5",label:"Sigmas"},NOISE:{color:"#607D8B",label:"Noise"},STRING:{color:"#9E9E9E",label:"String"},INT:{color:"#795548",label:"Integer"},FLOAT:{color:"#8D6E63",label:"Float"},BOOLEAN:{color:"#FFEB3B",label:"Boolean"},UNKNOWN:{color:"#757575",label:"Unknown"}};function hW(t,e,n){const r=t.toLowerCase();if(r.includes("model"))return"MODEL";if(r.includes("clip"))return"CLIP";if(r.includes("vae"))return"VAE";if(r.includes("conditioning")||r.includes("positive")||r.includes("negative"))return"CONDITIONING";if(r.includes("latent")||r.includes("samples"))return"LATENT";if(r.includes("image")||r.includes("images"))return"IMAGE";if(r.includes("mask"))return"MASK";if(r.includes("control_net")||r.includes("controlnet"))return"CONTROL_NET";if(r.includes("upscale"))return"UPSCALE_MODEL";if(r.includes("sampler"))return"SAMPLER";if(r.includes("sigmas"))return"SIGMAS";if(r.includes("noise"))return"NOISE";if(n){const a=n.toLowerCase();if(a.includes("checkpoint")||a.includes("modelloader"))return"MODEL";if(a.includes("cliploader")||a.includes("cliptext"))return"CLIP";if(a.includes("vaeloader")||a.includes("vaedecode"))return"VAE";if(a.includes("sampler"))return"LATENT";if(a.includes("image"))return"IMAGE"}return typeof e=="string"?"STRING":typeof e=="number"?Number.isInteger(e)?"INT":"FLOAT":typeof e=="boolean"?"BOOLEAN":"UNKNOWN"}function py(t){const e=t.toUpperCase();return pj[e]?.color||pj.UNKNOWN.color}function rN(t){const e=t.toUpperCase();return pj[e]?.label||t}function tet(t){return t.includes("Loader")||t.includes("Load")?"#4CAF50":t.includes("Sampler")?"#2196F3":t.includes("Text")||t.includes("CLIP")?"#FF9800":t.includes("VAE")||t.includes("Decode")||t.includes("Encode")?"#9C27B0":t.includes("Save")||t.includes("Output")?"#F44336":t.includes("Latent")?"#00BCD4":t.includes("Image")?"#673AB7":"#757575"}function net(t){return t.includes("Loader")||t.includes("Load")?c.jsx(Ty,{fontSize:"small"}):t.includes("Sampler")?c.jsx(i9e,{fontSize:"small"}):t.includes("Text")||t.includes("CLIP")?c.jsx(a9e,{fontSize:"small"}):t.includes("Save")||t.includes("Output")?c.jsx(MO,{fontSize:"small"}):t.includes("Image")||t.includes("Latent")?c.jsx(xu,{fontSize:"small"}):c.jsx(YX,{fontSize:"small"})}function Qne(t){return t==null?"":typeof t=="string"?t.length>50?t.substring(0,50)+"...":t:typeof t=="number"?String(t):typeof t=="boolean"?t?"true":"false":Array.isArray(t)?`[${t.length} items]`:typeof t=="object"?"{...}":String(t)}function pW(t,e,n=40){if(e===1)return 50;const r=Math.min(80/(e+1),30);return n+10+(t+1)*r}const ret=t=>{const e=bt.c(78),{data:n,selected:r,id:a,onParameterContextMenu:i}=t,[s,o]=A.useState(!0);let l;e[0]!==n.classType?(l=tet(n.classType),e[0]=n.classType,e[1]=l):l=e[1];const u=l;let d;e[2]!==n.classType?(d=net(n.classType),e[2]=n.classType,e[3]=d):d=e[3];const h=d;let m,y,x,v,_,C;if(e[4]!==u||e[5]!==n.classType||e[6]!==n.inputs||e[7]!==n.nodeId||e[8]!==n.outputs||e[9]!==n.title||e[10]!==n.widgets||e[11]!==s||e[12]!==h||e[13]!==a||e[14]!==i||e[15]!==r){const E=n.inputs.filter(iet),k=n.inputs.filter(set);let j;e[22]!==a||e[23]!==i?(j=(ie,ce,he)=>me=>{i&&i(a,ie,ce,he,me)},e[22]=a,e[23]=i,e[24]=j):j=e[24];const O=j;m=Yt,y=r?8:2;const z=`2px solid ${u}`;let M;e[25]===Symbol.for("react.memo_cache_sentinel")?(M={boxShadow:6},e[25]=M):M=e[25],e[26]!==z?(x={minWidth:250,maxWidth:350,border:z,borderRadius:2,overflow:"hidden",transition:"all 0.2s ease","&:hover":M},e[26]=z,e[27]=x):x=e[27];let N;e[28]!==u?(N={bgcolor:u,color:"white",p:1,display:"flex",alignItems:"center",gap:1},e[28]=u,e[29]=N):N=e[29];let U;e[30]===Symbol.for("react.memo_cache_sentinel")?(U={flexGrow:1},e[30]=U):U=e[30];let F;e[31]===Symbol.for("react.memo_cache_sentinel")?(F={display:"block",fontSize:"0.85rem"},e[31]=F):F=e[31];let $;e[32]!==n.nodeId||e[33]!==n.title?($=c.jsxs(ae,{variant:"caption",fontWeight:"bold",sx:F,children:["#",n.nodeId," - ",n.title]}),e[32]=n.nodeId,e[33]=n.title,e[34]=$):$=e[34];let D;e[35]===Symbol.for("react.memo_cache_sentinel")?(D={display:"block",opacity:.9,fontSize:"0.7rem"},e[35]=D):D=e[35];let H;e[36]!==n.classType?(H=c.jsx(ae,{variant:"caption",sx:D,children:n.classType}),e[36]=n.classType,e[37]=H):H=e[37];let L;e[38]!==$||e[39]!==H?(L=c.jsxs(ee,{sx:U,children:[$,H]}),e[38]=$,e[39]=H,e[40]=L):L=e[40];let V;e[41]!==s?(V=()=>o(!s),e[41]=s,e[42]=V):V=e[42];let J;e[43]===Symbol.for("react.memo_cache_sentinel")?(J={color:"white",p:.5},e[43]=J):J=e[43];let Q;e[44]!==s?(Q=s?c.jsx(DO,{fontSize:"small"}):c.jsx(ts,{fontSize:"small"}),e[44]=s,e[45]=Q):Q=e[45];let K;e[46]!==V||e[47]!==Q?(K=c.jsx(ht,{size:"small",onClick:V,sx:J,children:Q}),e[46]=V,e[47]=Q,e[48]=K):K=e[48],e[49]!==h||e[50]!==N||e[51]!==L||e[52]!==K?(v=c.jsxs(ee,{sx:N,children:[h,L,K]}),e[49]=h,e[50]=N,e[51]=L,e[52]=K,e[53]=v):v=e[53];let q;e[54]===Symbol.for("react.memo_cache_sentinel")?(q={p:1.5,bgcolor:"background.paper"},e[54]=q):q=e[54];const Z=n.inputs.length>0&&c.jsxs(ee,{sx:{mb:1.5},children:[c.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:.5,mb:.5},children:[c.jsx(BRe,{sx:{fontSize:"0.9rem",color:"text.secondary"}}),c.jsxs(ae,{variant:"caption",fontWeight:"600",sx:{fontSize:"0.75rem"},children:["INPUTS (",n.inputs.length,")"]})]}),c.jsxs(ee,{sx:{pl:1},children:[E.map(oet),k.map(ie=>c.jsx(Xt,{title:`${ie.name}: ${String(ie.value)} (Right-click to add to Marked Fields)`,arrow:!0,children:c.jsxs(ae,{variant:"caption",onContextMenu:O(ie.name,ie.value,ie.dataType||"text"),sx:{display:"block",fontSize:"0.75rem",mb:.3,color:"text.secondary",cursor:"context-menu","&:hover":{bgcolor:"rgba(33, 150, 243, 0.1)",borderRadius:"4px",px:.5}},children:[" ",ie.name,": ",c.jsx("span",{style:{fontWeight:500},children:Qne(ie.value)})]})},ie.name))]})]});let Y;e[55]!==n.widgets?(Y=n.widgets.length>0&&c.jsxs(ee,{sx:{mb:1.5},children:[c.jsx(bn,{sx:{my:1}}),c.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:.5,mb:.5},children:[c.jsx(ny,{sx:{fontSize:"0.9rem",color:"text.secondary"}}),c.jsxs(ae,{variant:"caption",fontWeight:"600",sx:{fontSize:"0.75rem"},children:["WIDGETS (",n.widgets.length,")"]})]}),c.jsx(ee,{sx:{pl:1},children:n.widgets.map(cet)})]}),e[55]=n.widgets,e[56]=Y):Y=e[56];let ne;e[57]!==n.outputs?(ne=n.outputs.length>0&&c.jsxs(ee,{children:[c.jsx(bn,{sx:{my:1}}),c.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:.5,mb:.5},children:[c.jsx(VRe,{sx:{fontSize:"0.9rem",color:"text.secondary"}}),c.jsxs(ae,{variant:"caption",fontWeight:"600",sx:{fontSize:"0.75rem"},children:["OUTPUTS (",n.outputs.length,")"]})]}),c.jsx(ee,{sx:{pl:1},children:n.outputs.map(uet)})]}),e[57]=n.outputs,e[58]=ne):ne=e[58];let re;e[59]!==Z||e[60]!==Y||e[61]!==ne?(re=c.jsxs(ee,{sx:q,children:[Z,Y,ne]}),e[59]=Z,e[60]=Y,e[61]=ne,e[62]=re):re=e[62],e[63]!==s||e[64]!==re?(_=c.jsx(Tp,{in:s,children:re}),e[63]=s,e[64]=re,e[65]=_):_=e[65],C=E.map((ie,ce)=>{const he=py(ie.dataType||"UNKNOWN"),me=pW(ce,E.length,40);return c.jsx(hy,{type:"target",position:ln.Left,id:`input-${ie.name}`,style:{background:he,width:12,height:12,border:"2px solid white",top:`${me}%`}},`input-${ie.name}`)}),e[4]=u,e[5]=n.classType,e[6]=n.inputs,e[7]=n.nodeId,e[8]=n.outputs,e[9]=n.title,e[10]=n.widgets,e[11]=s,e[12]=h,e[13]=a,e[14]=i,e[15]=r,e[16]=m,e[17]=y,e[18]=x,e[19]=v,e[20]=_,e[21]=C}else m=e[16],y=e[17],x=e[18],v=e[19],_=e[20],C=e[21];let w;if(e[66]!==n.outputs){let E;e[68]!==n.outputs.length?(E=(k,j)=>{const O=py(k.dataType),z=pW(j,n.outputs.length,40);return c.jsx(hy,{type:"source",position:ln.Right,id:`output-${k.slot}`,style:{background:O,width:12,height:12,border:"2px solid white",top:`${z}%`}},`output-${k.slot}`)},e[68]=n.outputs.length,e[69]=E):E=e[69],w=n.outputs.map(E),e[66]=n.outputs,e[67]=w}else w=e[67];let T;return e[70]!==m||e[71]!==y||e[72]!==x||e[73]!==v||e[74]!==_||e[75]!==C||e[76]!==w?(T=c.jsxs(m,{elevation:y,sx:x,children:[v,_,C,w]}),e[70]=m,e[71]=y,e[72]=x,e[73]=v,e[74]=_,e[75]=C,e[76]=w,e[77]=T):T=e[77],T},aet=A.memo(ret);function iet(t){return t.type==="connection"}function set(t){return t.type==="parameter"}function oet(t){return c.jsx(Xt,{title:`From #${t.sourceNode} [${rN(t.dataType||"UNKNOWN")}]`,arrow:!0,children:c.jsxs(ae,{variant:"caption",sx:{display:"flex",alignItems:"center",gap:.5,fontSize:"0.75rem",mb:.3,color:"text.primary"},children:[c.jsx(ee,{sx:{width:8,height:8,borderRadius:"50%",bgcolor:py(t.dataType||"UNKNOWN"),flexShrink:0}}),c.jsx("span",{style:{fontWeight:500},children:t.name}),c.jsxs("span",{style:{opacity:.6,fontSize:"0.7rem"},children:["[from #",t.sourceNode,"]"]})]})},t.name)}function cet(t,e){return c.jsx(Xt,{title:`${t.name}: ${String(t.value)} (${t.type})`,arrow:!0,children:c.jsxs(ae,{variant:"caption",sx:{display:"block",fontSize:"0.75rem",mb:.3,color:"text.secondary"},children:[" ",t.name,": ",c.jsx("span",{style:{fontWeight:500},children:Qne(t.value)})]})},e)}function uet(t){return c.jsxs(ae,{variant:"caption",sx:{display:"flex",alignItems:"center",gap:.5,fontSize:"0.75rem",mb:.3,color:"text.primary"},children:[c.jsx(ee,{sx:{width:8,height:8,borderRadius:"50%",bgcolor:py(t.dataType),flexShrink:0}}),c.jsx("span",{style:{fontWeight:500},children:t.name}),c.jsxs("span",{style:{opacity:.6,fontSize:"0.7rem"},children:["[",rN(t.dataType),"]"]})]},t.slot)}const det=t=>{const e=bt.c(44),{onSearchChange:n,onFilterChange:r,onLayoutChange:a,onExpandAll:i,onCollapseAll:s,nodeTypes:o,layout:l}=t,[u,d]=A.useState("");let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=[],e[0]=h):h=e[0];const[m,y]=A.useState(h);let x;e[1]!==n?(x=Y=>{const ne=Y.target.value;d(ne),n(ne)},e[1]=n,e[2]=x):x=e[2];const v=x;let _;e[3]!==r?(_=Y=>{const ne=Y.target.value;y(ne),r(ne)},e[3]=r,e[4]=_):_=e[4];const C=_;let w;e[5]!==l||e[6]!==a?(w=()=>{a(l==="LR"?"TB":"LR")},e[5]=l,e[6]=a,e[7]=w):w=e[7];const T=w;let E,k;e[8]===Symbol.for("react.memo_cache_sentinel")?(E={"& .MuiInputBase-root":{bgcolor:"rgba(26, 26, 26, 0.8)",color:"#ffffff"},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(64, 64, 64, 0.5)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 255, 255, 0.3)"}},k={"& .MuiInputBase-root":{bgcolor:"rgba(26, 26, 26, 0.8)",color:"#ffffff"},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(64, 64, 64, 0.5)"}},e[8]=E,e[9]=k):(E=e[8],k=e[9]);let j;e[10]===Symbol.for("react.memo_cache_sentinel")?(j={position:"absolute",top:10,right:10,zIndex:5,p:1.5,display:"flex",gap:1.5,alignItems:"center",bgcolor:"rgba(42, 42, 42, 0.95)",borderRadius:2,maxWidth:"600px",flexWrap:"wrap",border:"1px solid rgba(64, 64, 64, 0.5)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)","& .MuiTextField-root":E,"& .MuiFormControl-root":k,"& .MuiIconButton-root":{color:"rgba(255, 255, 255, 0.8)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.1)"}},"& .MuiSvgIcon-root":{color:"rgba(255, 255, 255, 0.6)"}},e[10]=j):j=e[10];let O,z;e[11]===Symbol.for("react.memo_cache_sentinel")?(O={startAdornment:c.jsx(qf,{fontSize:"small",sx:{mr:.5,color:"text.secondary"}})},z={minWidth:180},e[11]=O,e[12]=z):(O=e[11],z=e[12]);let M;e[13]!==v||e[14]!==u?(M=c.jsx(Lt,{size:"small",placeholder:"Search nodes...",value:u,onChange:v,InputProps:O,sx:z}),e[13]=v,e[14]=u,e[15]=M):M=e[15];let N,U;e[16]===Symbol.for("react.memo_cache_sentinel")?(N={minWidth:150},U=c.jsx(Ci,{children:"Filter Types"}),e[16]=N,e[17]=U):(N=e[16],U=e[17]);let F;e[18]===Symbol.for("react.memo_cache_sentinel")?(F={bgcolor:"rgba(255, 255, 255, 0.1)"},e[18]=F):F=e[18];let $;e[19]===Symbol.for("react.memo_cache_sentinel")?($={PaperProps:{sx:{bgcolor:"#2a2a2a",border:"1px solid rgba(64, 64, 64, 0.5)","& .MuiMenuItem-root":{color:"#ffffff","&:hover":F,"&.Mui-selected":{bgcolor:"rgba(76, 175, 80, 0.2)","&:hover":{bgcolor:"rgba(76, 175, 80, 0.3)"}}}}}},e[19]=$):$=e[19];let D;e[20]!==o?(D=o.map(pet),e[20]=o,e[21]=D):D=e[21];let H;e[22]!==C||e[23]!==m||e[24]!==D?(H=c.jsxs(ba,{size:"small",sx:N,children:[U,c.jsx(Ha,{multiple:!0,value:m,onChange:C,label:"Filter Types",renderValue:het,MenuProps:$,children:D})]}),e[22]=C,e[23]=m,e[24]=D,e[25]=H):H=e[25];const L=`Switch to ${l==="LR"?"Top-Bottom":"Left-Right"} layout`;let V;e[26]!==l?(V=l==="LR"?c.jsx(o9e,{}):c.jsx(l9e,{}),e[26]=l,e[27]=V):V=e[27];let J;e[28]!==T||e[29]!==V?(J=c.jsx(ht,{size:"small",onClick:T,children:V}),e[28]=T,e[29]=V,e[30]=J):J=e[30];let Q;e[31]!==L||e[32]!==J?(Q=c.jsx(Xt,{title:L,children:J}),e[31]=L,e[32]=J,e[33]=Q):Q=e[33];let K;e[34]!==i?(K=i&&c.jsx(Xt,{title:"Expand all nodes",children:c.jsx(ht,{size:"small",onClick:i,children:c.jsx(sQ,{})})}),e[34]=i,e[35]=K):K=e[35];let q;e[36]!==s?(q=s&&c.jsx(Xt,{title:"Collapse all nodes",children:c.jsx(ht,{size:"small",onClick:s,children:c.jsx(iQ,{})})}),e[36]=s,e[37]=q):q=e[37];let Z;return e[38]!==M||e[39]!==H||e[40]!==Q||e[41]!==K||e[42]!==q?(Z=c.jsxs(Yt,{elevation:1,sx:j,children:[M,H,Q,K,q]}),e[38]=M,e[39]=H,e[40]=Q,e[41]=K,e[42]=q,e[43]=Z):Z=e[43],Z};function fet(t){return c.jsx(gt,{label:t,size:"small",sx:{bgcolor:"rgba(76, 175, 80, 0.2)",color:"#4CAF50",border:"1px solid rgba(76, 175, 80, 0.4)"}},t)}function het(t){return c.jsx(ee,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:t.map(fet)})}function pet(t){return c.jsx(en,{value:t,children:t},t)}function met(t,e,n){const r=[],a=[],i=[],s=e._meta?.title||e.title||`Node ${t}`;if(e.inputs&&Object.entries(e.inputs).forEach(([d,h])=>{if(Array.isArray(h)&&h.length>=2){const m=String(h[0]),y=h[1],x=n[m],v=hW(d,h,x?.class_type);r.push({name:d,type:"connection",dataType:v,sourceNode:m,sourceSlot:y})}else{const m=hW(d,h,e.class_type);r.push({name:d,type:"parameter",value:h,dataType:m})}}),get(e.class_type).forEach((d,h)=>{a.push({name:d.name,slot:h,dataType:d.dataType})}),e.widgets_values&&Array.isArray(e.widgets_values)){const d=yet(e.class_type);e.widgets_values.forEach((h,m)=>{const y=d[m]||`widget_${m}`,x=typeof h;i.push({name:y,value:h,type:x})})}const l=e._meta?.position?{x:e._meta.position[0],y:e._meta.position[1]}:void 0,u=e._meta?.size?{width:e._meta.size[0],height:e._meta.size[1]}:void 0;return{nodeId:t,title:s,classType:e.class_type,inputs:r,outputs:a,widgets:i,position:l,size:u,color:e._meta?.color,bgColor:e._meta?.bgcolor,rawNode:e}}function get(t){const e=t.toLowerCase();return e.includes("checkpointloader")?[{name:"MODEL",dataType:"MODEL"},{name:"CLIP",dataType:"CLIP"},{name:"VAE",dataType:"VAE"}]:e.includes("loraloader")?[{name:"MODEL",dataType:"MODEL"},{name:"CLIP",dataType:"CLIP"}]:e.includes("cliptextencode")?[{name:"CONDITIONING",dataType:"CONDITIONING"}]:e.includes("sampler")?[{name:"LATENT",dataType:"LATENT"}]:e.includes("vaedecode")?[{name:"IMAGE",dataType:"IMAGE"}]:e.includes("vaeencode")?[{name:"LATENT",dataType:"LATENT"}]:e.includes("emptylatent")?[{name:"LATENT",dataType:"LATENT"}]:e.includes("loadimage")?[{name:"IMAGE",dataType:"IMAGE"},{name:"MASK",dataType:"MASK"}]:e.includes("controlnet")?[{name:"CONDITIONING",dataType:"CONDITIONING"}]:[{name:"OUTPUT",dataType:"UNKNOWN"}]}function yet(t){const e=t.toLowerCase();return e.includes("cliptextencode")?["text"]:e.includes("checkpointloader")?["ckpt_name"]:e.includes("loraloader")?["lora_name","strength_model","strength_clip"]:e.includes("ksampler")?["seed","control_after_generate","steps","cfg","sampler_name","scheduler","denoise"]:e.includes("emptylatent")?["width","height","batch_size"]:e.includes("saveimage")?["filename_prefix"]:e.includes("loadimage")?["image","upload"]:[]}function mj(t){let i=56;return t.inputs.length>0&&(i+=28,i+=t.inputs.length*24),t.widgets.length>0&&(i+=28,i+=t.widgets.length*24),t.outputs.length>0&&(i+=28,i+=t.outputs.length*24),Math.max(120,Math.min(600,i))}function bet(t){try{const e=typeof t=="string"?JSON.parse(t):t,n=[],r=[];return Object.entries(e).forEach(([a,i])=>{const s=met(a,i,e),o=mj(s);n.push({id:a,type:"enhancedNode",position:s.position||{x:0,y:0},data:s,style:{width:250,height:o}})}),n.forEach(a=>{a.data.inputs.filter(s=>s.type==="connection").forEach(s=>{if(s.sourceNode){const o=n.find(h=>h.id===s.sourceNode),l=a.id,u=o?.data.outputs[s.sourceSlot||0],d=s.dataType||u?.dataType||"UNKNOWN";r.push({id:`${s.sourceNode}-${s.sourceSlot||0}-${l}-${s.name}`,source:s.sourceNode,target:l,sourceHandle:`output-${s.sourceSlot||0}`,targetHandle:`input-${s.name}`,label:rN(d),dataType:d,type:"smoothstep",style:{stroke:py(d),strokeWidth:2},labelStyle:{fontSize:10,fill:py(d),fontWeight:600},labelBgStyle:{fill:"#ffffff",fillOpacity:.8}})}})}),{nodes:n,edges:r}}catch(e){return console.error("Failed to parse workflow:",e),{nodes:[],edges:[]}}}function xet(t,e,n="LR"){const r=new fW.graphlib.Graph;r.setDefaultEdgeLabel(()=>({})),r.setGraph({rankdir:n,ranksep:150,nodesep:80}),t.forEach(s=>{const o=s.style?.height||mj(s.data);r.setNode(s.id,{width:250,height:o})}),e.forEach(s=>{r.setEdge(s.source,s.target)}),fW.layout(r);const a=t.map(s=>{const o=r.node(s.id),l=s.style?.height||mj(s.data);return{...s,position:{x:o.x-125,y:o.y-l/2}}}),i=e.map(s=>({...s,markerEnd:{type:Dv.ArrowClosed,width:20,height:20,color:s.style?.stroke||"#757575"}}));return{nodes:a,edges:i}}const vet=t=>({enhancedNode:e=>c.jsx(aet,{...e,onParameterContextMenu:t})}),_et=({workflowJson:t,onParameterRightClick:e})=>{const[n,r]=A.useState("LR"),[a,i]=A.useState(""),[s,o]=A.useState([]),[l,u]=A.useState(null),d=A.useRef(null),{nodes:h,edges:m}=A.useMemo(()=>bet(t),[t]),y=A.useMemo(()=>{const F=new Set;return h.forEach($=>{const D=$.data.classType.split(/(?=[A-Z])/).slice(0,2).join("");F.add(D)}),Array.from(F).sort()},[h]),x=A.useMemo(()=>h.filter(F=>{const $=a===""||F.data.title.toLowerCase().includes(a.toLowerCase())||F.data.classType.toLowerCase().includes(a.toLowerCase())||F.data.nodeId.includes(a),D=s.length===0||s.some(H=>F.data.classType.includes(H));return $&&D}),[h,a,s]),v=A.useMemo(()=>{const F=new Set(x.map($=>$.id));return m.filter($=>F.has($.source)&&F.has($.target))},[m,x]),{nodes:_,edges:C}=A.useMemo(()=>xet(x,v,n),[x,v,n]),[w,T,E]=pXe(_),[k,j,O]=mXe(C);A.useEffect(()=>{T(_),j(C)},[_,C,T,j]);const z=(F,$,D,H,L)=>{L.preventDefault(),L.stopPropagation(),u({visible:!0,x:L.clientX,y:L.clientY,nodeId:F,paramKey:$,paramValue:D,paramType:H}),d.current={top:L.clientY,left:L.clientX}},M=()=>{l&&e&&e(l.nodeId,l.paramKey,l.paramValue,l.paramType),u(null)},N=()=>{u(null),d.current=null},U=A.useMemo(()=>vet(z),[]);return h.length===0?c.jsx(ee,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",p:4},children:c.jsx(ae,{variant:"body1",color:"text.secondary",children:"No workflow data to display"})}):c.jsxs(ee,{sx:{width:"100%",height:"100%",position:"relative",bgcolor:"#1a1a1a"},children:[c.jsxs(Vte,{nodes:w,edges:k,onNodesChange:E,onEdgesChange:O,nodeTypes:U,fitView:!0,attributionPosition:"bottom-left",minZoom:.1,maxZoom:2,defaultEdgeOptions:{type:"smoothstep"},style:{backgroundColor:"#1a1a1a"},children:[c.jsx(zXe,{variant:Rc.Dots,gap:16,size:1,color:"#404040",style:{backgroundColor:"#1a1a1a"}}),c.jsx(OXe,{style:{"--rf-control-button-background":"#2a2a2a","--rf-control-button-border":"1px solid #404040","--rf-control-button-color":"#ffffff"}}),c.jsx(EXe,{nodeColor:F=>Cet(F.data?.classType||""),maskColor:"rgba(255, 255, 255, 0.05)",style:{backgroundColor:"#2a2a2a",border:"1px solid #404040"}})]}),c.jsx(det,{onSearchChange:i,onFilterChange:o,onLayoutChange:r,nodeTypes:y,layout:n}),c.jsx(ee,{sx:{position:"absolute",top:10,left:10,bgcolor:"rgba(42, 42, 42, 0.95)",p:1,borderRadius:1,border:"1px solid rgba(64, 64, 64, 0.5)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",zIndex:5},children:c.jsxs(ae,{variant:"caption",sx:{display:"block",fontSize:"0.75rem",color:"#ffffff"},children:[" Nodes: ",w.length," / ",h.length," | Edges: ",k.length," / ",m.length]})}),c.jsx(wy,{open:l?.visible||!1,onClose:N,anchorReference:"anchorPosition",anchorPosition:d.current?{top:d.current.top,left:d.current.left}:void 0,slotProps:{paper:{sx:{bgcolor:"#2a2a2a",border:"1px solid #404040",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.5)"}}},children:c.jsxs(en,{onClick:M,children:[c.jsx(lu,{children:c.jsx(Ws,{fontSize:"small",sx:{color:"#4caf50"}})}),c.jsx(Ss,{primary:"Add to Marked Fields",sx:{color:"#ffffff"}})]})})]})};function Cet(t){return t.includes("Loader")||t.includes("Load")?"#4CAF50":t.includes("Sampler")?"#2196F3":t.includes("Text")||t.includes("CLIP")?"#FF9800":t.includes("VAE")?"#9C27B0":t.includes("Save")||t.includes("Output")?"#F44336":t.includes("Latent")?"#00BCD4":t.includes("Image")?"#673AB7":"#757575"}const wet=t=>{const e=bt.c(24),{workflowJson:n}=t,[r,a]=A.useState(!1);let i;e[0]!==n?(i=typeof n=="string"?n:JSON.stringify(n,null,2),e[0]=n,e[1]=i):i=e[1];const s=i;let o;e[2]!==s?(o=async()=>{try{await navigator.clipboard.writeText(s),a(!0)}catch(z){console.error("Failed to copy:",z)}},e[2]=s,e[3]=o):o=e[3];const l=o;let u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{a(!1)},e[4]=u):u=e[4];const d=u,h=Tet;let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m={width:"100%",height:"100%",display:"flex",flexDirection:"column"},e[5]=m):m=e[5];let y,x;e[6]===Symbol.for("react.memo_cache_sentinel")?(y={display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,px:1},x=c.jsx(ae,{variant:"subtitle2",color:"text.secondary",children:"Workflow JSON Structure"}),e[6]=y,e[7]=x):(y=e[6],x=e[7]);let v;e[8]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx(Qv,{fontSize:"small"}),e[8]=v):v=e[8];let _;e[9]!==l?(_=c.jsxs(ee,{sx:y,children:[x,c.jsx(Xt,{title:"Copy to clipboard",children:c.jsx(ht,{size:"small",onClick:l,children:v})})]}),e[9]=l,e[10]=_):_=e[10];let C;e[11]===Symbol.for("react.memo_cache_sentinel")?(C={flex:1,overflow:"auto",bgcolor:"#282c34",color:"#abb2bf",p:2,borderRadius:1,border:"1px solid",borderColor:"divider"},e[11]=C):C=e[11];let w;e[12]!==s?(w=h(s),e[12]=s,e[13]=w):w=e[13];let T;e[14]!==w?(T=c.jsx(Yt,{elevation:0,sx:C,children:w}),e[14]=w,e[15]=T):T=e[15];let E;e[16]===Symbol.for("react.memo_cache_sentinel")?(E={vertical:"bottom",horizontal:"center"},e[16]=E):E=e[16];let k;e[17]===Symbol.for("react.memo_cache_sentinel")?(k=c.jsx(wt,{onClose:d,severity:"success",sx:{width:"100%"},children:"Copied to clipboard!"}),e[17]=k):k=e[17];let j;e[18]!==r?(j=c.jsx(jg,{open:r,autoHideDuration:2e3,onClose:d,anchorOrigin:E,children:k}),e[18]=r,e[19]=j):j=e[19];let O;return e[20]!==T||e[21]!==j||e[22]!==_?(O=c.jsxs(ee,{sx:m,children:[_,T,j]}),e[20]=T,e[21]=j,e[22]=_,e[23]=O):O=e[23],O};function Eet(t,e){const n=t.replace(/"([^"]+)":/g,'<span style="color: #e06c75;">"$1"</span>:').replace(/: "([^"]*)"/g,': <span style="color: #98c379;">"$1"</span>').replace(/: (\d+\.?\d*)/g,': <span style="color: #d19a66;">$1</span>').replace(/: (true|false|null)/g,': <span style="color: #56b6c2;">$1</span>').replace(/([{}\[\]])/g,'<span style="color: #abb2bf;">$1</span>');return c.jsx("div",{style:{fontFamily:'Consolas, Monaco, "Courier New", monospace',fontSize:"0.875rem",lineHeight:"1.5",padding:"2px 0"},dangerouslySetInnerHTML:{__html:n}},e)}function Tet(t){return t.split(`
`).map(Eet)}function Aet(t){return t.toLowerCase().trim().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"").replace(/^_+|_+$/g,"")}const Ret={text:{label:"Text",icon:"",color:"#4caf50"},textarea:{label:"Textarea",icon:"",color:"#4caf50"},number:{label:"Number",icon:"",color:"#2196f3"},select:{label:"Select",icon:"",color:"#ff9800"},image:{label:"Image",icon:"",color:"#9c27b0"}},ket=({field:t,index:e,onUpdate:n,onDelete:r,dragHandleProps:a,fieldErrors:i=[],isExpanded:s,onToggleExpand:o})=>{const{t:l}=qt(),[u,d]=A.useState(!1),[h,m]=A.useState([]),y=Ret[t.type],x=async()=>{try{const w=await T1.getAllLists();m(w.data||[]),d(!0)}catch(w){console.error("Failed to load custom lists:",w)}},v=w=>{n(e,{options:w.items}),d(!1)},_=w=>{const T={label:w};if(!t.id||t.id.startsWith("field_")){const E=Aet(w);E&&(T.id=E)}n(e,T)},C=w=>{const T=w.match(/^(\d+)\./);return T?`Node ${T[1]}`:w};return c.jsxs(fr,{sx:{mb:2,borderLeft:`4px solid ${y.color}`,borderRadius:2,overflow:"hidden",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",bgcolor:s?_s(y.color,.02):"background.paper","&:hover":{boxShadow:s?6:4,transform:"translateY(-2px)",borderLeftWidth:"6px"}},children:[c.jsxs(ee,{sx:{display:"flex",alignItems:"center",px:2,py:1.5,cursor:"pointer","&:hover":{bgcolor:w=>_s(w.palette.action.hover,.04)}},onClick:o,children:[c.jsx(ee,{...a,sx:{display:"flex",alignItems:"center",mr:1.5,cursor:"grab",opacity:.3,transition:"all 0.2s ease",color:y.color,"&:hover":{opacity:1,transform:"scale(1.1)"},"&:active":{cursor:"grabbing",transform:"scale(0.95)"}},onClick:w=>w.stopPropagation(),children:c.jsx(XX,{fontSize:"small"})}),c.jsx(ae,{sx:{fontSize:"1.2rem",mr:1},children:y.icon}),c.jsxs(ee,{sx:{flex:1,minWidth:0},children:[c.jsxs(ae,{variant:"subtitle2",sx:{fontWeight:600},children:[t.label||l("workflows:markedFields.unnamedField"),t.required&&c.jsx(gt,{label:"Required",size:"small",color:"error",sx:{ml:1,height:20,fontSize:"0.7rem"}})]}),c.jsx(ae,{variant:"caption",color:"text.secondary",sx:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.jsonPath?`${C(t.jsonPath)}  ${t.jsonPath}`:l("workflows:markedFields.noJsonPath")}),i.length>0&&c.jsx(ee,{sx:{mt:.5},children:i.map((w,T)=>c.jsxs(ae,{variant:"caption",sx:{display:"block",color:w.severity==="error"?"error.main":"warning.main",fontSize:"0.7rem"},children:[w.severity==="error"?"":""," ",w.message]},T))})]}),c.jsx(gt,{label:y.label,size:"small",sx:{bgcolor:_s(y.color,.1),color:y.color,fontWeight:600,mr:1}}),c.jsx(ht,{size:"small",sx:{transform:s?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"},children:c.jsx(ts,{})})]}),c.jsx(Tp,{in:s,timeout:{enter:300,exit:250},unmountOnExit:!0,children:c.jsxs(Ra,{sx:{pt:2,pb:2,borderTop:"1px solid",borderColor:"divider",bgcolor:w=>_s(w.palette.background.default,.3)},children:[c.jsxs(ee,{sx:{display:"flex",gap:2,mb:2},children:[c.jsx(Lt,{label:l("workflows:fieldForm.fieldId"),value:t.id,onChange:w=>n(e,{id:w.target.value}),size:"small",placeholder:l("workflows:fieldForm.fieldIdPlaceholder"),helperText:l("workflows:fieldForm.fieldIdHelper"),sx:{flex:1}}),c.jsx(Lt,{label:l("workflows:fieldForm.label"),value:t.label,onChange:w=>_(w.target.value),size:"small",placeholder:l("workflows:fieldForm.labelPlaceholder"),helperText:l("workflows:fieldForm.labelHelper"),sx:{flex:1}}),c.jsxs(Lt,{select:!0,label:l("workflows:fieldForm.type"),value:t.type,onChange:w=>n(e,{type:w.target.value}),size:"small",helperText:l("workflows:fieldForm.typeHelper"),sx:{flex:1},SelectProps:{native:!0},children:[c.jsx("option",{value:"text",children:l("workflows:fieldForm.typeText")}),c.jsx("option",{value:"textarea",children:l("workflows:fieldForm.typeTextarea")}),c.jsx("option",{value:"number",children:l("workflows:fieldForm.typeNumber")}),c.jsx("option",{value:"select",children:l("workflows:fieldForm.typeSelect")}),c.jsx("option",{value:"image",children:"Image"})]})]}),c.jsxs(ee,{sx:{display:"flex",gap:2,mb:2},children:[c.jsx(Lt,{fullWidth:!0,label:l("workflows:fieldForm.jsonPath"),value:t.jsonPath,onChange:w=>n(e,{jsonPath:w.target.value}),placeholder:l("workflows:fieldForm.jsonPathPlaceholder"),size:"small",helperText:l("workflows:fieldForm.jsonPathHelper"),sx:{flex:2}}),c.jsx(Lt,{fullWidth:!0,label:l("workflows:fieldForm.defaultValue"),value:t.default_value||"",onChange:w=>n(e,{default_value:w.target.value}),size:"small",placeholder:l("workflows:fieldForm.defaultValuePlaceholder"),helperText:l("workflows:fieldForm.defaultValueHelper"),sx:{flex:1}})]}),t.type==="number"&&c.jsxs(ee,{sx:{display:"flex",gap:2,mb:2},children:[c.jsx(Lt,{label:l("workflows:fieldForm.minValue"),type:"number",value:t.min??"",onChange:w=>n(e,{min:w.target.value?parseFloat(w.target.value):void 0}),size:"small",placeholder:l("workflows:fieldForm.minPlaceholder"),sx:{flex:1}}),c.jsx(Lt,{label:l("workflows:fieldForm.maxValue"),type:"number",value:t.max??"",onChange:w=>n(e,{max:w.target.value?parseFloat(w.target.value):void 0}),size:"small",placeholder:l("workflows:fieldForm.maxPlaceholder"),sx:{flex:1}}),c.jsx(Lt,{label:" (Step)",type:"number",value:t.step??"",onChange:w=>n(e,{step:w.target.value?parseFloat(w.target.value):void 0}),size:"small",placeholder:"0.01",helperText:"   (: 0.01)",inputProps:{step:"any",min:0},sx:{flex:1}})]}),t.type==="select"&&c.jsxs(ee,{sx:{display:"flex",gap:1,mb:2},children:[c.jsx(Lt,{fullWidth:!0,label:l("workflows:fieldForm.selectOptions"),value:t.options?.join(", ")||"",onChange:w=>n(e,{options:w.target.value.split(",").map(T=>T.trim()).filter(T=>T)}),size:"small",placeholder:l("workflows:fieldForm.selectOptionsPlaceholder"),helperText:l("workflows:fieldForm.selectOptionsHelper")}),c.jsx(ht,{size:"small",onClick:x,title:"  ",sx:{alignSelf:"flex-start",mt:.5},children:c.jsx(nI,{})})]}),c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx(gr,{control:c.jsx(ii,{checked:t.required||!1,onChange:w=>n(e,{required:w.target.checked}),size:"small"}),label:l("workflows:fieldForm.required")}),c.jsx(ht,{onClick:()=>r(e),color:"error",size:"small",children:c.jsx(Ia,{})})]})]})}),c.jsxs(hr,{open:u,onClose:()=>d(!1),maxWidth:"sm",fullWidth:!0,children:[c.jsx(br,{children:"  "}),c.jsx(yr,{children:h.length===0?c.jsx(ae,{variant:"body2",color:"text.secondary",align:"center",sx:{py:2},children:"   ."}):c.jsx(Ff,{children:h.map(w=>c.jsx(Bf,{disablePadding:!0,children:c.jsx(dC,{onClick:()=>v(w),children:c.jsx(Ss,{primary:w.name,secondary:`${w.items.length}  - ${w.items.slice(0,3).join(", ")}${w.items.length>3?"...":""}`})})},w.id))})}),c.jsx(kr,{children:c.jsx(Ze,{onClick:()=>d(!1),children:""})})]})]})},Iet=t=>{const e=bt.c(24),{field:n,index:r,onUpdate:a,onDelete:i,fieldErrors:s,isExpanded:o,onToggleExpand:l}=t;let u;e[0]!==n.id?(u={id:n.id},e[0]=n.id,e[1]=u):u=e[1];const{attributes:d,listeners:h,setNodeRef:m,transform:y,transition:x,isDragging:v}=fee(u);let _;e[2]!==y?(_=cy.Transform.toString(y),e[2]=y,e[3]=_):_=e[3];const C=v?.5:1;let w;e[4]!==_||e[5]!==C||e[6]!==x?(w={transform:_,transition:x,opacity:C},e[4]=_,e[5]=C,e[6]=x,e[7]=w):w=e[7];const T=w;let E;e[8]!==d||e[9]!==h?(E={...d,...h},e[8]=d,e[9]=h,e[10]=E):E=e[10];let k;e[11]!==n||e[12]!==s||e[13]!==r||e[14]!==o||e[15]!==i||e[16]!==l||e[17]!==a||e[18]!==E?(k=c.jsx(ket,{field:n,index:r,onUpdate:a,onDelete:i,dragHandleProps:E,fieldErrors:s,isExpanded:o,onToggleExpand:l}),e[11]=n,e[12]=s,e[13]=r,e[14]=o,e[15]=i,e[16]=l,e[17]=a,e[18]=E,e[19]=k):k=e[19];let j;return e[20]!==m||e[21]!==T||e[22]!==k?(j=c.jsx("div",{ref:m,style:T,children:k}),e[20]=m,e[21]=T,e[22]=k,e[23]=j):j=e[23],j};function Zne(t){const e=bt.c(19);let n;e[0]!==t?(n=[],t.forEach((v,_)=>{!v.id||v.id.trim()===""?n.push({fieldId:v.id,fieldIndex:_,field:"id",message:"Field ID is required",severity:"error"}):/^[a-zA-Z0-9_]+$/.test(v.id)||n.push({fieldId:v.id,fieldIndex:_,field:"id",message:"Field ID must contain only letters, numbers, and underscores",severity:"error"});const C=t.findIndex((T,E)=>E!==_&&T.id===v.id&&v.id.trim()!=="");C!==-1&&n.push({fieldId:v.id,fieldIndex:_,field:"id",message:`Duplicate Field ID: also used in field #${C+1}`,severity:"error"}),(!v.label||v.label.trim()==="")&&n.push({fieldId:v.id,fieldIndex:_,field:"label",message:"Label is required",severity:"error"}),!v.jsonPath||v.jsonPath.trim()===""?n.push({fieldId:v.id,fieldIndex:_,field:"jsonPath",message:"JSON Path is required",severity:"error"}):/^\d+\./.test(v.jsonPath)||n.push({fieldId:v.id,fieldIndex:_,field:"jsonPath",message:'JSON Path should start with a node number (e.g., "6.inputs.text")',severity:"warning"});const w=t.findIndex((T,E)=>E!==_&&T.jsonPath===v.jsonPath&&v.jsonPath.trim()!=="");w!==-1&&n.push({fieldId:v.id,fieldIndex:_,field:"jsonPath",message:`Duplicate JSON Path: also used in field #${w+1}`,severity:"warning"}),v.type==="number"&&v.min!==void 0&&v.max!==void 0&&v.min>v.max&&n.push({fieldId:v.id,fieldIndex:_,field:"min",message:"Min value must be less than or equal to Max value",severity:"error"}),v.type==="select"&&(!v.options||v.options.length===0)&&n.push({fieldId:v.id,fieldIndex:_,field:"options",message:"Select fields must have at least one option",severity:"error"})}),e[0]=t,e[1]=n):n=e[1];const r=n;let a;e[2]!==r?(a=r.filter(Det),e[2]=r,e[3]=a):a=e[3];const i=a.length===0;let s;e[4]!==r?(s=v=>r.filter(_=>_.fieldIndex===v),e[4]=r,e[5]=s):s=e[5];const o=s;let l;e[6]!==r?(l=v=>r.filter(_=>_.severity===v),e[6]=r,e[7]=l):l=e[7];const u=l;let d;e[8]!==r?(d=r.filter(Oet),e[8]=r,e[9]=d):d=e[9];const h=d.length;let m;e[10]!==r?(m=r.filter(jet),e[10]=r,e[11]=m):m=e[11];const y=m.length;let x;return e[12]!==h||e[13]!==r||e[14]!==u||e[15]!==o||e[16]!==i||e[17]!==y?(x={errors:r,isValid:i,errorCount:h,warningCount:y,getFieldErrors:o,getErrorsByType:u},e[12]=h,e[13]=r,e[14]=u,e[15]=o,e[16]=i,e[17]=y,e[18]=x):x=e[18],x}function jet(t){return t.severity==="warning"}function Oet(t){return t.severity==="error"}function Det(t){return t.severity==="error"}const Net=t=>{const e=bt.c(34),{fields:n,onFieldsChange:r,onUpdateField:a,onDeleteField:i}=t,{t:s}=qt(),o=Zne(n);let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=new Set,e[0]=l):l=e[0];const[u,d]=A.useState(l);let h;e[1]===Symbol.for("react.memo_cache_sentinel")?(h=O=>{d(z=>{const M=new Set(z);return M.has(O)?M.delete(O):M.add(O),M})},e[1]=h):h=e[1];const m=h;let y;e[2]===Symbol.for("react.memo_cache_sentinel")?(y={activationConstraint:{distance:8}},e[2]=y):y=e[2];let x;e[3]===Symbol.for("react.memo_cache_sentinel")?(x={coordinateGetter:p$e},e[3]=x):x=e[3];const v=UJ(GI(sw,y),GI(yD,x));let _;e[4]!==n||e[5]!==r?(_=O=>{const{active:z,over:M}=O;if(M&&z.id!==M.id){const N=n.findIndex(F=>F.id===z.id),U=n.findIndex(F=>F.id===M.id);if(N!==-1&&U!==-1){const F=cw(n,N,U);r(F)}}},e[4]=n,e[5]=r,e[6]=_):_=e[6];const C=_;if(n.length===0){let O;e[7]===Symbol.for("react.memo_cache_sentinel")?(O={textAlign:"center",py:4,color:"text.secondary"},e[7]=O):O=e[7];let z;e[8]!==s?(z=s("workflows:markedFields.noFields"),e[8]=s,e[9]=z):z=e[9];let M;return e[10]!==z?(M=c.jsx(ee,{sx:O,children:c.jsx(ae,{variant:"body2",children:z})}),e[10]=z,e[11]=M):M=e[11],M}let w;e[12]!==n?(w=n.map(Met),e[12]=n,e[13]=w):w=e[13];let T;if(e[14]!==u||e[15]!==n||e[16]!==i||e[17]!==a||e[18]!==o){let O;e[20]!==u||e[21]!==i||e[22]!==a||e[23]!==o?(O=(z,M)=>{const N=o.getFieldErrors(M),U=u.has(z.id);return c.jsx(Iet,{field:z,index:M,onUpdate:a,onDelete:i,fieldErrors:N,isExpanded:U,onToggleExpand:()=>m(z.id)},z.id)},e[20]=u,e[21]=i,e[22]=a,e[23]=o,e[24]=O):O=e[24],T=n.map(O),e[14]=u,e[15]=n,e[16]=i,e[17]=a,e[18]=o,e[19]=T}else T=e[19];let E;e[25]!==T?(E=c.jsx(ee,{children:T}),e[25]=T,e[26]=E):E=e[26];let k;e[27]!==w||e[28]!==E?(k=c.jsx(uee,{items:w,strategy:oee,children:E}),e[27]=w,e[28]=E,e[29]=k):k=e[29];let j;return e[30]!==C||e[31]!==v||e[32]!==k?(j=c.jsx(iee,{sensors:v,collisionDetection:VJ,onDragEnd:C,children:k}),e[30]=C,e[31]=v,e[32]=k,e[33]=j):j=e[33],j};function Met(t){return t.id}function mW(){const t=Gf(),{id:e}=Lj(),n=!!e,{t:r}=qt(["workflows","common"]),[a,i]=A.useState(!1),[s,o]=A.useState(!1),[l,u]=A.useState(null),[d,h]=A.useState(null),[m,y]=A.useState(""),[x,v]=A.useState(""),[_,C]=A.useState(""),[w,T]=A.useState(!0),[E,k]=A.useState("#2196f3"),[j,O]=A.useState([]),[z,M]=A.useState(0),N=Zne(j),U=A.useRef(null),F=A.useCallback(Y=>{U.current&&clearTimeout(U.current),U.current=setTimeout(()=>{k(Y)},100)},[]),[$,D]=A.useState(null);A.useEffect(()=>{n&&H()},[e]);const H=async()=>{try{i(!0);const ne=(await gp.getWorkflow(parseInt(e))).data;y(ne.name),v(ne.description||""),C(ne.workflow_json),T(ne.is_active),k(ne.color||"#2196f3"),O(ne.marked_fields||[])}catch(Y){u(Y.response?.data?.error||Y.message)}finally{i(!1)}},L=Y=>{if(C(Y),Y.trim())try{JSON.parse(Y),D(null)}catch{D(r("workflows:form.invalidJson"))}else D(null)},V=Y=>{const ne=Y.target.files?.[0];if(ne){const re=new FileReader;re.onload=ie=>{const ce=ie.target?.result;L(ce)},re.readAsText(ne)}},J=()=>{const Y={id:`field_${Date.now()}`,label:"",jsonPath:"",type:"text",required:!1};O([...j,Y])},Q=(Y,ne)=>{const re=[...j];re[Y]={...re[Y],...ne},O(re)},K=Y=>{O(j.filter((ne,re)=>re!==Y))},q=(Y,ne,re)=>{const ie=`${Y}.inputs.${ne}`;if(j.some(le=>le.jsonPath===ie)){u(`Parameter "${ne}" from node ${Y} is already in Marked Fields`),setTimeout(()=>u(null),3e3);return}let he="text";typeof re=="number"?he="number":typeof re=="string"&&re.length>100&&(he="textarea");const me={id:`field_${Date.now()}`,label:`${ne} (Node ${Y})`,jsonPath:ie,type:he,required:!1};O([...j,me]),h(`Added "${ne}" from Node ${Y} to Marked Fields`),setTimeout(()=>h(null),3e3)},Z=async()=>{if(!m.trim()){u(r("workflows:form.nameRequired"));return}if(!_.trim()){u(r("workflows:form.jsonRequired"));return}if($){u(r("workflows:form.validateJson"));return}try{o(!0),u(null);const Y={name:m.trim(),description:x.trim()||void 0,workflow_json:_,marked_fields:j.length>0?j:void 0,is_active:w,color:E};n?(await gp.updateWorkflow(parseInt(e),Y),h(r("workflows:alerts.updated"))):(await gp.createWorkflow(Y),h(r("workflows:alerts.created"))),setTimeout(()=>{t("/image-generation?tab=workflows")},1500)}catch(Y){u(Y.response?.data?.error||Y.message)}finally{o(!1)}};return a?c.jsx(ee,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:c.jsx(Kt,{})}):c.jsxs(ee,{sx:{p:3,maxWidth:1200,mx:"auto"},children:[c.jsxs(ee,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[c.jsx(ht,{onClick:()=>t("/image-generation?tab=workflows"),children:c.jsx(hC,{})}),c.jsx(ae,{variant:"h4",children:r(n?"workflows:page.editTitle":"workflows:page.createTitle")})]}),l&&c.jsx(wt,{severity:"error",sx:{mb:2},onClose:()=>u(null),children:l}),d&&c.jsx(wt,{severity:"success",sx:{mb:2},children:d}),c.jsxs(Yt,{sx:{p:3,mb:3},children:[c.jsx(ae,{variant:"h6",gutterBottom:!0,children:r("workflows:form.basicInfo")}),c.jsx(bn,{sx:{mb:2}}),c.jsx(Lt,{fullWidth:!0,label:r("workflows:form.workflowName"),value:m,onChange:Y=>y(Y.target.value),required:!0,sx:{mb:2}}),c.jsx(Lt,{fullWidth:!0,label:r("workflows:form.description"),value:x,onChange:Y=>v(Y.target.value),multiline:!0,rows:2,sx:{mb:2}}),c.jsxs(ee,{sx:{mb:2},children:[c.jsx(ae,{variant:"body2",sx:{mb:1},children:" "}),c.jsxs(ee,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[[{color:"#2196f3",label:" ()"},{color:"#f44336",label:""},{color:"#4caf50",label:""},{color:"#ff9800",label:""},{color:"#9c27b0",label:""},{color:"#00bcd4",label:""},{color:"#ffeb3b",label:""},{color:"#795548",label:""},{color:"#607d8b",label:""},{color:"#e91e63",label:""}].map(Y=>c.jsx(ee,{onClick:()=>k(Y.color),sx:{width:40,height:40,bgcolor:Y.color,borderRadius:1,cursor:"pointer",border:E===Y.color?"3px solid #000":"2px solid #ddd",transition:"all 0.2s","&:hover":{transform:"scale(1.1)",boxShadow:2}},title:Y.label},Y.color)),c.jsx("input",{type:"color",defaultValue:E,onInput:Y=>F(Y.target.value),style:{width:"40px",height:"40px",border:"2px solid #ddd",borderRadius:"4px",cursor:"pointer"},title:"  "})]})]}),c.jsx(gr,{control:c.jsx(ii,{checked:w,onChange:Y=>T(Y.target.checked)}),label:r("workflows:form.activate")})]}),c.jsxs(Yt,{sx:{p:3,mb:3},children:[c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[c.jsx(ae,{variant:"h6",children:r("workflows:form.workflowJson")}),c.jsxs(Ze,{component:"label",startIcon:c.jsx(uv,{}),size:"small",children:[r("workflows:form.uploadFile"),c.jsx("input",{type:"file",accept:".json",hidden:!0,onChange:V})]})]}),c.jsx(ee,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:c.jsxs(nl,{value:z,onChange:(Y,ne)=>M(ne),children:[c.jsx(Vn,{label:"JSON Editor"}),c.jsx(Vn,{label:"Graph View",disabled:!_||!!$}),c.jsx(Vn,{label:"JSON View",disabled:!_||!!$})]})}),c.jsx(ee,{role:"tabpanel",hidden:z!==0,children:z===0&&c.jsxs(c.Fragment,{children:[c.jsx(wt,{severity:"warning",sx:{mb:2},children:c.jsxs(ae,{variant:"body2",children:[c.jsx("strong",{children:r("workflows:alerts.importantNote")})," ",r("workflows:alerts.apiFormatWarning")]})}),c.jsx(Lt,{fullWidth:!0,multiline:!0,rows:15,value:_,onChange:Y=>L(Y.target.value),placeholder:r("workflows:form.jsonPlaceholder"),error:!!$,helperText:$||r("workflows:form.jsonHelper"),sx:{"& .MuiInputBase-input":{fontFamily:"monospace",fontSize:"0.875rem"}}}),_&&!$&&c.jsx(ee,{sx:{mt:2},children:c.jsx(gt,{label:r("workflows:form.jsonCharCount",{count:JSON.stringify(JSON.parse(_)).length}),size:"small",color:"success"})})]})}),c.jsx(ee,{role:"tabpanel",hidden:z!==1,children:z===1&&_&&!$&&c.jsx(ee,{sx:{height:"600px",border:"1px solid",borderColor:"divider",borderRadius:1},children:c.jsx(_et,{workflowJson:_,onParameterRightClick:q})})}),c.jsx(ee,{role:"tabpanel",hidden:z!==2,children:z===2&&_&&!$&&c.jsx(ee,{sx:{height:"600px",border:"1px solid",borderColor:"divider",borderRadius:1,overflow:"auto"},children:c.jsx(wet,{workflowJson:_})})})]}),c.jsx(PGe,{}),c.jsxs(Yt,{sx:{p:3,mb:3},children:[c.jsxs(ee,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[c.jsx(ae,{variant:"h6",children:r("workflows:markedFields.sectionTitle")}),c.jsx(Ze,{startIcon:c.jsx(Ws,{}),onClick:J,variant:"contained",size:"small",children:r("workflows:markedFields.addField")})]}),c.jsx(bn,{sx:{mb:2}}),(N.errorCount>0||N.warningCount>0)&&c.jsxs(wt,{severity:N.errorCount>0?"error":"warning",sx:{mb:2},children:[N.errorCount>0&&c.jsxs(ae,{variant:"body2",children:[N.errorCount," error",N.errorCount>1?"s":""," found"]}),N.warningCount>0&&c.jsxs(ae,{variant:"body2",children:[N.warningCount," warning",N.warningCount>1?"s":""," found"]})]}),c.jsx(Net,{fields:j,onFieldsChange:O,onUpdateField:Q,onDeleteField:K})]}),c.jsx(LGe,{workflowJson:_,markedFields:j}),c.jsxs(ee,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[c.jsx(Ze,{variant:"outlined",onClick:()=>t("/image-generation?tab=workflows"),disabled:s,children:r("workflows:actions.cancel")}),c.jsx(Ze,{variant:"contained",startIcon:s?c.jsx(Kt,{size:20}):c.jsx(MO,{}),onClick:Z,disabled:s||!!$||!m.trim()||!_.trim(),children:r(s?"workflows:actions.saving":n?"workflows:actions.update":"workflows:actions.create")})]})]})}async function Pet(t){if(t.startsWith("data:"))return t;try{const n=await(await fetch(`http://localhost:1566${t}`)).blob();return new Promise((r,a)=>{const i=new FileReader;i.onloadend=()=>r(i.result),i.onerror=a,i.readAsDataURL(n)})}catch(e){throw console.error("Failed to convert image to Base64:",e),e}}async function Let(t,e){if(!t?.workflow_json||!t?.marked_fields)return{};try{const n=JSON.parse(t.workflow_json),r=JSON.parse(JSON.stringify(n));for(const a of t.marked_fields){const i=a.jsonPath.split(".");let s=r;for(let u=0;u<i.length-1;u++)i[u]in s||(s[i[u]]={}),s=s[i[u]];const o=i[i.length-1],l=e[a.id];a.type==="number"?s[o]=parseFloat(l)||0:a.type==="image"?l?s[o]=await Pet(l):s[o]="":s[o]=l}return r}catch(n){return console.error("Failed to build prompt data:",n),{}}}async function zet(t,e){const n=await Let(t,e);return await KI(n,"comfyui")}function Fet(t){if(!t.marked_fields)return{};const e={};return t.marked_fields.forEach(n=>{e[n.id]=n.default_value||""}),e}function Bet(t){const[e,n]=A.useState(!0),[r,a]=A.useState(null),[i,s]=A.useState(null),[o,l]=A.useState({});return{loading:e,error:r,setError:a,workflow:i,formData:o,loadWorkflow:async()=>{if(t)try{n(!0);const y=(await gp.getWorkflow(parseInt(t))).data;s(y);const x=Fet(y);l(x)}catch(m){a(m.response?.data?.error||m.message)}finally{n(!1)}},handleFieldChange:(m,y)=>{l(x=>({...x,[m]:y}))},getPromptData:async()=>await zet(i,o)}}function Het(){const[t,e]=A.useState([]),[n,r]=A.useState({}),[a,i]=A.useState({}),s=async()=>{try{const u=await zm.getAllServers(!0);e(u.data||[]);const d={};(u.data||[]).forEach(h=>{d[h.id]={status:"idle"}}),i(d),o(u.data||[])}catch(u){console.error("Failed to load servers:",u)}},o=async u=>{const d=await Promise.all(u.map(async m=>{try{const y=Date.now(),x=await zm.testConnection(m.id),v=Date.now()-y;return{serverId:m.id,connected:x.data?.isConnected||!1,responseTime:v}}catch{return{serverId:m.id,connected:!1,error:"Connection failed"}}})),h={};d.forEach(m=>{h[m.serverId]={connected:m.connected,responseTime:m.responseTime,error:m.error}}),r(h)};return{servers:t,serverStatus:n,generationStatus:a,setGenerationStatus:i,loadServers:s,getConnectedServers:()=>t.filter(u=>n[u.id]?.connected)}}function Uet(){const t=bt.c(7),[e,n]=A.useState(null),[r,a]=A.useState(null),[i,s]=A.useState(!1);let o,l;if(t[0]===Symbol.for("react.memo_cache_sentinel")){o=async()=>{try{const x=localStorage.getItem("workflow_selected_group_id");if(x){const v=parseInt(x);n(v),await y(v)}}catch(x){console.error("Failed to load saved group:",x)}};const y=async x=>{try{const v=await At.get(`/api/groups/${x}`);v.data.success&&a(v.data.data)}catch(v){console.error("Failed to load group info:",v),n(null),a(null)}};l=async x=>{n(x),localStorage.setItem("workflow_selected_group_id",x.toString()),await y(x),s(!1)},t[0]=o,t[1]=l}else o=t[0],l=t[1];const u=l;let d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{n(null),a(null),localStorage.removeItem("workflow_selected_group_id")},t[2]=d):d=t[2];const h=d;let m;return t[3]!==i||t[4]!==r||t[5]!==e?(m={selectedGroupId:e,selectedGroup:r,groupModalOpen:i,setGroupModalOpen:s,loadSavedGroup:o,handleGroupSelect:u,handleRemoveGroup:h},t[3]=i,t[4]=r,t[5]=e,t[6]=m):m=t[6],m}function $et({workflowId:t,workflow:e,formData:n,getPromptData:r,selectedGroupId:a,servers:i,setGenerationStatus:s,setError:o}){const{t:l}=qt(["workflows"]),[u,d]=A.useState(0),h=async y=>{if(i.find(v=>v.id===y)){if(e?.marked_fields){const v=e.marked_fields.filter(_=>_.required&&!n[_.id]);if(v.length>0){o(l("workflows:generate.missingFields",{fields:v.map(_=>_.label).join(", ")}));return}}try{s(w=>({...w,[y]:{status:"generating",progress:0}})),o(null);const v=await r(),C=(await gp.generateImageOnServer(parseInt(t),y,v,a||void 0)).data.history_id;if(!C){console.error("No history_id in response"),o("Failed to start image generation");return}s(w=>({...w,[y]:{status:"generating",historyId:C}})),await m(y,C)}catch(v){throw s(_=>({..._,[y]:{status:"failed",error:v.response?.data?.error||v.message}})),v}}},m=async(y,x)=>{let _=0,C=null;return new Promise((w,T)=>{const E=async()=>{_++;try{const j=(await hd.getById(x,!0)).record;if(console.log(`[ComfyUI] Polling attempt ${_}/150 for history ${x}: status="${j.generation_status}"`),j.generation_status==="completed"||j.generation_status==="failed"){console.log(`[ComfyUI]  Generation ${x} finished with status: ${j.generation_status}`),C&&(clearTimeout(C),C=null),s(O=>({...O,[y]:{status:j.generation_status,historyId:x,error:j.error_message}})),j.generation_status==="completed"?(console.log("[ComfyUI]  Triggering history refresh (refreshKey increment)"),d(O=>{const z=O+1;return console.log(`[ComfyUI] historyRefreshKey: ${O}  ${z}`),setTimeout(()=>w(),0),z})):(console.error("[ComfyUI]  Generation failed:",j.error_message),T(new Error(j.error_message||"Generation failed")));return}if(_>=150){console.error(`[ComfyUI] Generation ${x} timeout after ${_} attempts`),C&&clearTimeout(C),T(new Error("Generation timeout (5 minutes)"));return}C=setTimeout(E,2e3)}catch(k){if(console.error(`[ComfyUI] Failed to check status (attempt ${_}/150):`,k),_>=150){C&&clearTimeout(C),T(new Error("Status check failed after timeout"));return}C=setTimeout(E,2e3)}};E()})};return{historyRefreshKey:u,handleGenerateOnServer:h}}function Get(t){const e=bt.c(9),{servers:n,serverStatus:r,repeatConfig:a,handleGenerateOnServer:i,handleStartServerRepeat:s,setError:o}=t;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=["workflows"],e[0]=l):l=e[0];const{t:u}=qt(l);let d;return e[1]!==i||e[2]!==s||e[3]!==a||e[4]!==r||e[5]!==n||e[6]!==o||e[7]!==u?(d={handleGenerateOnAllServers:async()=>{console.log("[ComfyUI Generate] Button clicked",{repeatConfig:a,repeatEnabled:a.enabled});const m=n.filter(x=>r[x.id]?.connected);if(m.length===0){o(u("workflows:generate.noConnectedServers"));return}if(a.enabled){console.log("[ComfyUI Repeat] Starting independent repeat execution on all servers",{count:a.count,delaySeconds:a.delaySeconds,servers:m.map(qet)}),m.forEach(x=>{s(x.id)});return}console.log("[ComfyUI Generate] Single execution mode",{connectedServers:m.length});const y=m.map(x=>i(x.id));await Promise.all(y)}},e[1]=i,e[2]=s,e[3]=a,e[4]=r,e[5]=n,e[6]=o,e[7]=u,e[8]=d):d=e[8],d}function qet(t){return t.name}function Vet({servers:t,repeatConfig:e,handleGenerateOnServer:n}){const[r,a]=A.useState({}),i=A.useRef(e),s=A.useRef(r);A.useEffect(()=>{i.current=e},[e]),A.useEffect(()=>{s.current=r},[r]);const o=d=>{const h=t.find(y=>y.id===d);if(!h)return;console.log("[Server Repeat] Starting repeat execution for server",{serverId:d,serverName:h.name,count:e.count,delaySeconds:e.delaySeconds});const m={isRunning:!0,currentIteration:0,totalIterations:e.count===-1?-1:e.count,timeoutId:null};a(y=>({...y,[d]:m})),s.current={...s.current,[d]:m},l(d,0)},l=async(d,h)=>{const m=i.current,y=s.current[d];if(!y||!y.isRunning){console.log("[Server Repeat] Stopped (state not found or not running)",{serverId:d});return}if(h>=100){console.warn("[Server Repeat] Maximum safe iterations reached (100)",{serverId:d}),u(d);return}const v=y.totalIterations;if(v!==-1&&h>=v){console.log("[Server Repeat] All iterations completed",{serverId:d,iteration:h,totalIterations:v}),u(d);return}console.log("[Server Repeat] Starting iteration",{serverId:d,current:h+1,total:v===-1?"infinite":v,isRunning:y.isRunning}),a(_=>({..._,[d]:{..._[d],currentIteration:h}}));try{await n(d),console.log("[Server Repeat] Iteration completed",{serverId:d,iteration:h+1});const _=s.current[d];if(!_||!_.isRunning){console.log("[Server Repeat] Stopped during execution",{serverId:d});return}const C=h+1;if(v===-1||C<v){console.log("[Server Repeat] Scheduling next iteration after delay",{serverId:d,delaySeconds:m.delaySeconds,nextIteration:C});const T=window.setTimeout(()=>{l(d,C)},m.delaySeconds*1e3);a(E=>({...E,[d]:{...E[d],timeoutId:T}}))}else console.log("[Server Repeat] Finished all iterations",{serverId:d}),u(d)}catch(_){console.error("[Server Repeat] Error during iteration",{serverId:d,iteration:h,error:_}),u(d)}},u=d=>{a(h=>{const m=h[d];m?.timeoutId&&clearTimeout(m.timeoutId),console.log("[Server Repeat] Stopping repeat execution",{serverId:d});const y={...h};return delete y[d],y})};return{serverRepeatStates:r,handleStartServerRepeat:o,handleStopServerRepeat:u}}function Wet(t){const e=bt.c(22),{workflow:n}=t,r=Gf();let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=["workflows"],e[0]=a):a=e[0];const{t:i}=qt(a);let s;e[1]===Symbol.for("react.memo_cache_sentinel")?(s={mb:3,display:"flex",alignItems:"center",gap:2},e[1]=s):s=e[1];let o;e[2]!==r?(o=()=>r("/image-generation?tab=workflows"),e[2]=r,e[3]=o):o=e[3];let l;e[4]===Symbol.for("react.memo_cache_sentinel")?(l=c.jsx(hC,{}),e[4]=l):l=e[4];let u;e[5]!==o?(u=c.jsx(ht,{onClick:o,children:l}),e[5]=o,e[6]=u):u=e[6];let d;e[7]===Symbol.for("react.memo_cache_sentinel")?(d={flex:1},e[7]=d):d=e[7];let h;e[8]!==n.name?(h=c.jsx(ae,{variant:"h4",children:n.name}),e[8]=n.name,e[9]=h):h=e[9];let m;e[10]!==n.description?(m=n.description&&c.jsx(ae,{variant:"body2",color:"text.secondary",children:n.description}),e[10]=n.description,e[11]=m):m=e[11];let y;e[12]!==h||e[13]!==m?(y=c.jsxs(ee,{sx:d,children:[h,m]}),e[12]=h,e[13]=m,e[14]=y):y=e[14];let x;e[15]!==i||e[16]!==n.is_active?(x=!n.is_active&&c.jsx(gt,{label:i("workflows:card.inactive"),color:"default"}),e[15]=i,e[16]=n.is_active,e[17]=x):x=e[17];let v;return e[18]!==x||e[19]!==u||e[20]!==y?(v=c.jsxs(ee,{sx:s,children:[u,y,x]}),e[18]=x,e[19]=u,e[20]=y,e[21]=v):v=e[21],v}function Wx(t){const e=bt.c(13);let n,r,a,i;e[0]!==t?({children:n,value:i,index:r,...a}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i):(n=e[1],r=e[2],a=e[3],i=e[4]);const s=i!==r;let o;e[5]!==n||e[6]!==r||e[7]!==i?(o=i===r&&c.jsx(ee,{sx:{p:2},children:n}),e[5]=n,e[6]=r,e[7]=i,e[8]=o):o=e[8];let l;return e[9]!==a||e[10]!==s||e[11]!==o?(l=c.jsx("div",{role:"tabpanel",hidden:s,...a,children:o}),e[9]=a,e[10]=s,e[11]=o,e[12]=l):l=e[12],l}function Yet({open:t,onClose:e,onSelect:n,fieldLabel:r}){const[a,i]=A.useState(0),[s,o]=A.useState(""),[l,u]=A.useState(null),[d,h]=A.useState([]),[m,y]=A.useState(""),[x,v]=A.useState(!1),[_,C]=A.useState(null);A.useEffect(()=>{t&&a===4&&w()},[t,a]);const w=async()=>{try{v(!0);const j=await gp.getCanvasImages();h(j.data||[]),y(j.canvasPath||"")}catch(j){C("Failed to load canvas images"),console.error(j)}finally{v(!1)}},T=j=>{const O=j.target.files?.[0];if(O){const z=new FileReader;z.onloadend=()=>{u(z.result)},z.readAsDataURL(O)}},E=j=>{n(j),e()},k=()=>{o(""),u(null),C(null),e()};return c.jsxs(hr,{open:t,onClose:k,maxWidth:"md",fullWidth:!0,children:[c.jsxs(br,{children:[r," -  "]}),c.jsxs(yr,{children:[c.jsx(ee,{sx:{borderBottom:1,borderColor:"divider"},children:c.jsxs(nl,{value:a,onChange:(j,O)=>i(O),children:[c.jsx(Vn,{icon:c.jsx(qf,{}),label:"DB ",iconPosition:"start",disabled:!0}),c.jsx(Vn,{icon:c.jsx(r9e,{}),label:"",iconPosition:"start"}),c.jsx(Vn,{icon:c.jsx(lv,{}),label:"",iconPosition:"start"}),c.jsx(Vn,{icon:c.jsx(pC,{}),label:"",iconPosition:"start",disabled:!0}),c.jsx(Vn,{icon:c.jsx(Ty,{}),label:" ",iconPosition:"start"})]})}),_&&c.jsx(wt,{severity:"error",sx:{mt:2},onClose:()=>C(null),children:_}),c.jsx(Wx,{value:a,index:0,children:c.jsx(ee,{sx:{textAlign:"center",py:4},children:c.jsx(ae,{variant:"body1",color:"text.secondary",children:" "})})}),c.jsxs(Wx,{value:a,index:1,children:[c.jsx(Lt,{fullWidth:!0,label:"  ",value:s,onChange:j=>o(j.target.value),placeholder:"  ",sx:{mb:2}}),s&&c.jsx(ee,{sx:{textAlign:"center",py:2},children:c.jsx(ae,{variant:"body2",color:"text.secondary",children:"       ."})})]}),c.jsx(Wx,{value:a,index:2,children:c.jsxs(ee,{children:[c.jsx("input",{accept:"image/*",style:{display:"none"},id:"image-upload-input",type:"file",onChange:T}),c.jsx("label",{htmlFor:"image-upload-input",children:c.jsx(Ze,{variant:"outlined",component:"span",fullWidth:!0,startIcon:c.jsx(lv,{}),sx:{mb:2},children:" "})}),l&&c.jsxs(ee,{sx:{mt:2,textAlign:"center"},children:[c.jsx("img",{src:l,alt:"Preview",style:{maxWidth:"100%",maxHeight:"400px",objectFit:"contain"}}),c.jsxs(ee,{sx:{mt:2,display:"flex",gap:2,justifyContent:"center"},children:[c.jsx(Ze,{variant:"contained",onClick:()=>{l&&E(l)},children:" "}),c.jsx(Ze,{variant:"outlined",disabled:!0,children:" ( )"})]})]})]})}),c.jsx(Wx,{value:a,index:3,children:c.jsx(ee,{sx:{textAlign:"center",py:4},children:c.jsx(ae,{variant:"body1",color:"text.secondary",children:" "})})}),c.jsx(Wx,{value:a,index:4,children:x?c.jsx(ee,{sx:{textAlign:"center",py:4},children:c.jsx(Kt,{})}):d.length===0?c.jsxs(ee,{sx:{textAlign:"center",py:4},children:[c.jsx(ae,{variant:"body1",color:"text.secondary",children:"   ."}),m&&c.jsxs(ae,{variant:"body2",color:"text.secondary",sx:{mt:1},children:[m,"   ."]})]}):c.jsx(yn,{container:!0,spacing:2,children:d.map((j,O)=>c.jsx(yn,{size:{xs:6,sm:4,md:3},children:c.jsx(fr,{children:c.jsxs(fwe,{onClick:()=>E(j.path),children:[c.jsx(Vs,{component:"img",height:"140",image:`http://localhost:1566${j.path}`,alt:j.filename,sx:{objectFit:"cover"}}),c.jsx(ee,{sx:{p:1},children:c.jsx(ae,{variant:"caption",noWrap:!0,children:j.filename})})]})})},O))})})]}),c.jsx(kr,{children:c.jsx(Ze,{onClick:k,children:""})})]})}function Ket(t){const e=bt.c(41),{workflow:n,formData:r,onFieldChange:a,promptData:i}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=["workflows"],e[0]=s):s=e[0];const{t:o}=qt(s),[l,u]=A.useState(!1),[d,h]=A.useState(null);let m;e[1]===Symbol.for("react.memo_cache_sentinel")?(m=L=>{h(L),u(!0)},e[1]=m):m=e[1];const y=m;let x;e[2]!==d||e[3]!==a?(x=L=>{d&&a(d.id,L),u(!1),h(null)},e[2]=d,e[3]=a,e[4]=x):x=e[4];const v=x;let _;e[5]!==r||e[6]!==a||e[7]!==o?(_=L=>{const V=r[L.id]||"";switch(L.type){case"textarea":return c.jsx(Lt,{fullWidth:!0,multiline:!0,rows:4,label:L.label,value:V,onChange:J=>a(L.id,J.target.value),required:L.required,placeholder:L.placeholder,sx:{mb:2}},L.id);case"number":return c.jsx(Lt,{fullWidth:!0,type:"number",label:L.label,value:V,onChange:J=>a(L.id,J.target.value),required:L.required,placeholder:L.placeholder,inputProps:{min:L.min,max:L.max,step:L.step||1},sx:{mb:2}},L.id);case"select":return c.jsxs(Lt,{fullWidth:!0,select:!0,label:L.label,value:V,onChange:J=>a(L.id,J.target.value),required:L.required,SelectProps:{native:!0},sx:{mb:2},children:[c.jsx("option",{value:"",children:o("workflows:generate.selectPlaceholder")}),L.options?.map(Xet)]},L.id);case"image":return c.jsxs(ee,{sx:{mb:2},children:[c.jsxs(ae,{variant:"subtitle2",gutterBottom:!0,children:[L.label," ",L.required&&c.jsx("span",{style:{color:"red"},children:"*"})]}),c.jsx(Ze,{variant:"outlined",startIcon:c.jsx(xu,{}),onClick:()=>y(L),fullWidth:!0,sx:{mb:1},children:" "}),V&&c.jsx(fr,{sx:{mt:1},children:c.jsx(Vs,{component:"img",height:"200",image:V.startsWith("data:")?V:`http://localhost:1566${V}`,alt:L.label,sx:{objectFit:"contain"}})})]},L.id);default:return c.jsx(Lt,{fullWidth:!0,label:L.label,value:V,onChange:J=>a(L.id,J.target.value),required:L.required,placeholder:L.placeholder,sx:{mb:2}},L.id)}},e[5]=r,e[6]=a,e[7]=o,e[8]=_):_=e[8];const C=_;let w;e[9]===Symbol.for("react.memo_cache_sentinel")?(w={p:3},e[9]=w):w=e[9];let T;e[10]!==o?(T=o("workflows:generate.settingsTitle"),e[10]=o,e[11]=T):T=e[11];let E;e[12]!==T?(E=c.jsx(ae,{variant:"h6",gutterBottom:!0,children:T}),e[12]=T,e[13]=E):E=e[13];let k;e[14]===Symbol.for("react.memo_cache_sentinel")?(k=c.jsx(bn,{sx:{mb:3}}),e[14]=k):k=e[14];let j;e[15]!==C||e[16]!==o||e[17]!==n.marked_fields?(j=n.marked_fields&&n.marked_fields.length>0?c.jsx(ee,{children:n.marked_fields.map(L=>C(L))}):c.jsx(wt,{severity:"info",sx:{mb:2},children:o("workflows:alerts.noConfigurableFields")}),e[15]=C,e[16]=o,e[17]=n.marked_fields,e[18]=j):j=e[18];let O;e[19]===Symbol.for("react.memo_cache_sentinel")?(O=c.jsx(ts,{}),e[19]=O):O=e[19];let z;e[20]!==o?(z=o("workflows:generate.previewTitle"),e[20]=o,e[21]=z):z=e[21];let M;e[22]!==z?(M=c.jsx(jc,{expandIcon:O,children:c.jsx(ae,{variant:"body2",children:z})}),e[22]=z,e[23]=M):M=e[23];let N;e[24]===Symbol.for("react.memo_cache_sentinel")?(N={p:2,borderRadius:1,overflow:"auto",maxHeight:400,fontSize:"0.75rem",fontFamily:"monospace"},e[24]=N):N=e[24];let U;e[25]!==i?(U=JSON.stringify(i,null,2),e[25]=i,e[26]=U):U=e[26];let F;e[27]!==U?(F=c.jsx(Ic,{children:c.jsx(ee,{component:"pre",sx:N,children:U})}),e[27]=U,e[28]=F):F=e[28];let $;e[29]!==M||e[30]!==F?($=c.jsxs(kc,{children:[M,F]}),e[29]=M,e[30]=F,e[31]=$):$=e[31];let D;e[32]!==d||e[33]!==v||e[34]!==l?(D=d&&c.jsx(Yet,{open:l,onClose:()=>{u(!1),h(null)},onSelect:v,fieldLabel:d.label}),e[32]=d,e[33]=v,e[34]=l,e[35]=D):D=e[35];let H;return e[36]!==$||e[37]!==D||e[38]!==E||e[39]!==j?(H=c.jsxs(Yt,{sx:w,children:[E,k,j,$,D]}),e[36]=$,e[37]=D,e[38]=E,e[39]=j,e[40]=H):H=e[40],H}function Xet(t){return c.jsx("option",{value:t,children:t},t)}function Qet(t){const e=bt.c(11),{selectedGroup:n,onOpenModal:r,onRemove:a}=t;let i,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={p:3},s=c.jsx(ae,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:" "}),e[0]=i,e[1]=s):(i=e[0],s=e[1]);let o;e[2]===Symbol.for("react.memo_cache_sentinel")?(o=c.jsx(bn,{sx:{mb:2}}),e[2]=o):o=e[2];let l;e[3]===Symbol.for("react.memo_cache_sentinel")?(l={display:"flex",flexDirection:"column",gap:2},e[3]=l):l=e[3];let u;e[4]!==r||e[5]!==a||e[6]!==n?(u=n?c.jsx(ee,{sx:{display:"flex",alignItems:"center",gap:1},children:c.jsx(gt,{icon:c.jsx(bu,{}),label:n.name,onDelete:a,color:"primary",sx:{flex:1}})}):c.jsx(Ze,{variant:"outlined",startIcon:c.jsx(bu,{}),onClick:r,fullWidth:!0,children:" "}),e[4]=r,e[5]=a,e[6]=n,e[7]=u):u=e[7];let d;e[8]===Symbol.for("react.memo_cache_sentinel")?(d=c.jsx(ae,{variant:"caption",color:"text.secondary",children:"     "}),e[8]=d):d=e[8];let h;return e[9]!==u?(h=c.jsxs(Yt,{sx:i,children:[s,o,c.jsxs(ee,{sx:l,children:[u,d]})]}),e[9]=u,e[10]=h):h=e[10],h}function Zet(t){const e=bt.c(27),{servers:n,serverRepeatStates:r}=t;if(Object.keys(r).length===0)return null;let a;e[0]!==r?(a=Object.values(r).reduce(ttt,0),e[0]=r,e[1]=a):a=e[1];const i=a;let s;e[2]!==r?(s=Object.values(r).reduce(ett,0),e[2]=r,e[3]=s):s=e[3];const o=s,l=Object.values(r).some(Jet),u=o>0?i/o*100:0;let d,h;e[4]===Symbol.for("react.memo_cache_sentinel")?(d={p:3},h=c.jsx(ae,{variant:"h6",gutterBottom:!0,children:"  "}),e[4]=d,e[5]=h):(d=e[4],h=e[5]);let m;e[6]===Symbol.for("react.memo_cache_sentinel")?(m=c.jsx(bn,{sx:{mb:2}}),e[6]=m):m=e[6];let y;e[7]===Symbol.for("react.memo_cache_sentinel")?(y={mb:3},e[7]=y):y=e[7];const x=o>0?` / ${o}`:"",v=l&&" (  )";let _;e[8]!==i||e[9]!==x||e[10]!==v?(_=c.jsxs(ae,{variant:"body2",gutterBottom:!0,children:[": ",i,x," ",v]}),e[8]=i,e[9]=x,e[10]=v,e[11]=_):_=e[11];let C;e[12]!==o||e[13]!==u?(C=o>0&&c.jsx(Id,{variant:"determinate",value:u,sx:{mt:1}}),e[12]=o,e[13]=u,e[14]=C):C=e[14];let w;e[15]!==C||e[16]!==_?(w=c.jsxs(ee,{sx:y,children:[_,C]}),e[15]=C,e[16]=_,e[17]=w):w=e[17];let T;e[18]===Symbol.for("react.memo_cache_sentinel")?(T={display:"flex",flexDirection:"column",gap:1},e[18]=T):T=e[18];let E;e[19]!==r?(E=Object.entries(r),e[19]=r,e[20]=E):E=e[20];let k;e[21]!==n||e[22]!==E?(k=c.jsx(ee,{sx:T,children:E.map(O=>{const[z,M]=O,N=parseInt(z),U=n.find(F=>F.id===N);return U?c.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:1,p:1,borderRadius:1,bgcolor:"action.hover"},children:[c.jsx(ae,{variant:"body2",sx:{flex:1},children:U.name}),c.jsx(gt,{label:M.totalIterations===-1?`${M.currentIteration} ()`:`${M.currentIteration} / ${M.totalIterations}`,size:"small",color:M.isRunning?"primary":"default"})]},N):null})}),e[21]=n,e[22]=E,e[23]=k):k=e[23];let j;return e[24]!==w||e[25]!==k?(j=c.jsxs(Yt,{sx:d,children:[h,m,w,k]}),e[24]=w,e[25]=k,e[26]=j):j=e[26],j}function Jet(t){return t.totalIterations===-1}function ett(t,e){return t+(e.totalIterations===-1?0:e.totalIterations)}function ttt(t,e){return t+e.currentIteration}function ntt(t){const e=bt.c(33),{workflow:n,servers:r,serverStatus:a,generationStatus:i,serverRepeatStates:s,onGenerate:o,onStartRepeat:l,onStopRepeat:u}=t;let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d=["workflows"],e[0]=d):d=e[0];const{t:h}=qt(d);let m;e[1]===Symbol.for("react.memo_cache_sentinel")?(m={p:3},e[1]=m):m=e[1];let y;e[2]!==h?(y=h("workflows:generate.serversListTitle"),e[2]=h,e[3]=y):y=e[3];let x;e[4]!==y?(x=c.jsx(ae,{variant:"h6",gutterBottom:!0,children:y}),e[4]=y,e[5]=x):x=e[5];let v;e[6]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx(bn,{sx:{mb:2}}),e[6]=v):v=e[6];let _;e[7]!==r.length||e[8]!==h?(_=r.length===0&&c.jsx(wt,{severity:"info",children:h("workflows:generate.noServers")}),e[7]=r.length,e[8]=h,e[9]=_):_=e[9];let C;if(e[10]!==i||e[11]!==o||e[12]!==l||e[13]!==u||e[14]!==s||e[15]!==a||e[16]!==r||e[17]!==h||e[18]!==n){let T;e[20]!==i||e[21]!==o||e[22]!==l||e[23]!==u||e[24]!==s||e[25]!==a||e[26]!==h||e[27]!==n?(T=E=>{const k=a[E.id],j=i[E.id],O=s[E.id];return c.jsxs(ee,{sx:{mb:2,pb:2,borderBottom:"1px solid",borderColor:"divider"},children:[c.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[k?.connected?c.jsx(Cs,{color:"success",fontSize:"small"}):c.jsx(gg,{color:"error",fontSize:"small"}),c.jsx(ae,{variant:"body2",fontWeight:"bold",sx:{flex:1},children:E.name}),j?.status==="generating"&&c.jsx(Kt,{size:16})]}),k?.responseTime&&c.jsx(ae,{variant:"caption",color:"text.secondary",display:"block",children:h("workflows:generate.responseTime",{time:k.responseTime})}),O&&c.jsx(ee,{sx:{mt:1,mb:1},children:c.jsx(gt,{label:O.totalIterations===-1?`${O.currentIteration}   ()`:`${O.currentIteration} / ${O.totalIterations}`,color:"primary",size:"small"})}),c.jsxs(ee,{sx:{mt:1,display:"flex",gap:1},children:[c.jsx(Ze,{size:"small",variant:"outlined",onClick:()=>o(E.id),disabled:!k?.connected||j?.status==="generating"||O?.isRunning||!n.is_active,children:""}),O?.isRunning?c.jsx(Ze,{size:"small",variant:"outlined",color:"error",onClick:()=>u(E.id),children:""}):c.jsx(Ze,{size:"small",variant:"outlined",color:"primary",onClick:()=>l(E.id),disabled:!k?.connected||j?.status==="generating"||!n.is_active,children:" "})]}),j?.status==="generating"&&c.jsx(Id,{sx:{mt:1}}),j?.status==="failed"&&c.jsx(wt,{severity:"error",sx:{mt:1},children:j.error||h("workflows:generate.generationFailed")})]},E.id)},e[20]=i,e[21]=o,e[22]=l,e[23]=u,e[24]=s,e[25]=a,e[26]=h,e[27]=n,e[28]=T):T=e[28],C=r.map(T),e[10]=i,e[11]=o,e[12]=l,e[13]=u,e[14]=s,e[15]=a,e[16]=r,e[17]=h,e[18]=n,e[19]=C}else C=e[19];let w;return e[29]!==x||e[30]!==_||e[31]!==C?(w=c.jsxs(Yt,{sx:m,children:[x,v,_,C]}),e[29]=x,e[30]=_,e[31]=C,e[32]=w):w=e[32],w}function rtt(){const t=bt.c(172),{id:e}=Lj();let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=["workflows","common"],t[0]=n):n=t[0];const{t:r}=qt(n),{loading:a,error:i,setError:s,workflow:o,formData:l,loadWorkflow:u,handleFieldChange:d,getPromptData:h}=Bet(e);let m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m={},t[1]=m):m=t[1];const[y,x]=A.useState(m),{servers:v,serverStatus:_,generationStatus:C,setGenerationStatus:w,loadServers:T,getConnectedServers:E}=Het(),{selectedGroupId:k,selectedGroup:j,groupModalOpen:O,setGroupModalOpen:z,loadSavedGroup:M,handleGroupSelect:N,handleRemoveGroup:U}=Uet();let F;t[2]!==l||t[3]!==h||t[4]!==e||t[5]!==k||t[6]!==v||t[7]!==s||t[8]!==w||t[9]!==o?(F={workflowId:e,workflow:o,formData:l,getPromptData:h,selectedGroupId:k,servers:v,setGenerationStatus:w,setError:s},t[2]=l,t[3]=h,t[4]=e,t[5]=k,t[6]=v,t[7]=s,t[8]=w,t[9]=o,t[10]=F):F=t[10];const{historyRefreshKey:$,handleGenerateOnServer:D}=$et(F);let H;t[11]===Symbol.for("react.memo_cache_sentinel")?(H={enabled:!1,count:3,delaySeconds:5},t[11]=H):H=t[11];const[L,V]=A.useState(H);let J;t[12]!==D||t[13]!==L||t[14]!==v?(J={servers:v,repeatConfig:L,handleGenerateOnServer:D},t[12]=D,t[13]=L,t[14]=v,t[15]=J):J=t[15];const{serverRepeatStates:Q,handleStartServerRepeat:K,handleStopServerRepeat:q}=Vet(J);let Z;t[16]!==D||t[17]!==K||t[18]!==L||t[19]!==_||t[20]!==v||t[21]!==s?(Z={servers:v,serverStatus:_,repeatConfig:L,handleGenerateOnServer:D,handleStartServerRepeat:K,setError:s},t[16]=D,t[17]=K,t[18]=L,t[19]=_,t[20]=v,t[21]=s,t[22]=Z):Z=t[22];const{handleGenerateOnAllServers:Y}=Get(Z);let ne;t[23]!==M||t[24]!==T||t[25]!==u?(ne=()=>{u(),T(),M()},t[23]=M,t[24]=T,t[25]=u,t[26]=ne):ne=t[26];let re;t[27]!==e?(re=[e],t[27]=e,t[28]=re):re=t[28],A.useEffect(ne,re);let ie;t[29]!==l||t[30]!==h||t[31]!==o?(ie=()=>{o&&l&&h().then(xt=>{x(xt)}).catch(xt=>{console.error("[WorkflowGeneratePage] Failed to build prompt data:",xt),x({})})},t[29]=l,t[30]=h,t[31]=o,t[32]=ie):ie=t[32];let ce;if(t[33]!==l||t[34]!==o?(ce=[o,l],t[33]=l,t[34]=o,t[35]=ce):ce=t[35],A.useEffect(ie,ce),a){let xt;return t[36]===Symbol.for("react.memo_cache_sentinel")?(xt=c.jsx(ee,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:c.jsx(Kt,{})}),t[36]=xt):xt=t[36],xt}if(!o){let xt;t[37]===Symbol.for("react.memo_cache_sentinel")?(xt={p:3},t[37]=xt):xt=t[37];let Zt;t[38]!==r?(Zt=r("workflows:card.notFound"),t[38]=r,t[39]=Zt):Zt=t[39];let Cn;return t[40]!==Zt?(Cn=c.jsx(ee,{sx:xt,children:c.jsx(wt,{severity:"error",children:Zt})}),t[40]=Zt,t[41]=Cn):Cn=t[41],Cn}let he,me,le,de,pe,ve,ge,oe,Se,be,Ae,Me,Pe,Le,Oe,Xe,ke,Ie,ye,Ce,Ne,Be;if(t[42]!==i||t[43]!==l||t[44]!==E||t[45]!==d||t[46]!==Y||t[47]!==U||t[48]!==q||t[49]!==y||t[50]!==L||t[51]!==j||t[52]!==Q||t[53]!==s||t[54]!==z||t[55]!==r||t[56]!==o){const xt=E();pe=ee,t[79]===Symbol.for("react.memo_cache_sentinel")?(Ce={p:3},t[79]=Ce):Ce=t[79],t[80]!==o?(Ne=c.jsx(Wet,{workflow:o}),t[80]=o,t[81]=Ne):Ne=t[81],t[82]!==i||t[83]!==s?(Be=i&&c.jsx(wt,{severity:"error",sx:{mb:2},onClose:()=>s(null),children:i}),t[82]=i,t[83]=s,t[84]=Be):Be=t[84],de=yn,Ie=!0,ye=3,le=yn,t[85]===Symbol.for("react.memo_cache_sentinel")?(ke={xs:12,md:12,lg:4},t[85]=ke):ke=t[85],me=ee,t[86]===Symbol.for("react.memo_cache_sentinel")?(Pe={display:"flex",flexDirection:"column",gap:3},t[86]=Pe):Pe=t[86],t[87]!==l||t[88]!==d||t[89]!==y||t[90]!==o?(Le=c.jsx(Ket,{workflow:o,formData:l,onFieldChange:d,promptData:y}),t[87]=l,t[88]=d,t[89]=y,t[90]=o,t[91]=Le):Le=t[91];let Zt;t[92]!==z?(Zt=()=>z(!0),t[92]=z,t[93]=Zt):Zt=t[93],t[94]!==U||t[95]!==j||t[96]!==Zt?(Oe=c.jsx(Qet,{selectedGroup:j,onOpenModal:Zt,onRemove:U}),t[94]=U,t[95]=j,t[96]=Zt,t[97]=Oe):Oe=t[97];let Cn;t[98]===Symbol.for("react.memo_cache_sentinel")?(Cn={p:3},t[98]=Cn):Cn=t[98];let jn;t[99]!==Q?(jn=Object.keys(Q),t[99]=Q,t[100]=jn):jn=t[100];const Ut=jn.length>0;let Tn;t[101]!==Ut?(Tn={isRunning:Ut,currentIteration:0,totalIterations:0},t[101]=Ut,t[102]=Tn):Tn=t[102];let Et;t[103]!==q||t[104]!==Q?(Et=()=>{Object.keys(Q).forEach(Pt=>{q(parseInt(Pt))})},t[103]=q,t[104]=Q,t[105]=Et):Et=t[105],t[106]!==L||t[107]!==Tn||t[108]!==Et?(Xe=c.jsx(Yt,{sx:Cn,children:c.jsx(gee,{config:L,state:Tn,onConfigChange:V,onStop:Et,namespace:"workflows"})}),t[106]=L,t[107]=Tn,t[108]=Et,t[109]=Xe):Xe=t[109],he=Ze,ve=!0,ge="contained",oe="large",t[110]===Symbol.for("react.memo_cache_sentinel")?(Se=c.jsx(pp,{}),t[110]=Se):Se=t[110],be=Y,Ae=xt.length===0||!o.is_active||Object.keys(Q).length>0,Me=r("workflows:generate.generateAll",{count:xt.length}),t[42]=i,t[43]=l,t[44]=E,t[45]=d,t[46]=Y,t[47]=U,t[48]=q,t[49]=y,t[50]=L,t[51]=j,t[52]=Q,t[53]=s,t[54]=z,t[55]=r,t[56]=o,t[57]=he,t[58]=me,t[59]=le,t[60]=de,t[61]=pe,t[62]=ve,t[63]=ge,t[64]=oe,t[65]=Se,t[66]=be,t[67]=Ae,t[68]=Me,t[69]=Pe,t[70]=Le,t[71]=Oe,t[72]=Xe,t[73]=ke,t[74]=Ie,t[75]=ye,t[76]=Ce,t[77]=Ne,t[78]=Be}else he=t[57],me=t[58],le=t[59],de=t[60],pe=t[61],ve=t[62],ge=t[63],oe=t[64],Se=t[65],be=t[66],Ae=t[67],Me=t[68],Pe=t[69],Le=t[70],Oe=t[71],Xe=t[72],ke=t[73],Ie=t[74],ye=t[75],Ce=t[76],Ne=t[77],Be=t[78];let Ke;t[111]!==he||t[112]!==ve||t[113]!==ge||t[114]!==oe||t[115]!==Se||t[116]!==be||t[117]!==Ae||t[118]!==Me?(Ke=c.jsx(he,{fullWidth:ve,variant:ge,size:oe,startIcon:Se,onClick:be,disabled:Ae,children:Me}),t[111]=he,t[112]=ve,t[113]=ge,t[114]=oe,t[115]=Se,t[116]=be,t[117]=Ae,t[118]=Me,t[119]=Ke):Ke=t[119];let Je;t[120]!==Q||t[121]!==v?(Je=c.jsx(Zet,{servers:v,serverRepeatStates:Q}),t[120]=Q,t[121]=v,t[122]=Je):Je=t[122];let Ge;t[123]!==C||t[124]!==D||t[125]!==K||t[126]!==q||t[127]!==Q||t[128]!==_||t[129]!==v||t[130]!==o?(Ge=c.jsx(ntt,{workflow:o,servers:v,serverStatus:_,generationStatus:C,serverRepeatStates:Q,onGenerate:D,onStartRepeat:K,onStopRepeat:q}),t[123]=C,t[124]=D,t[125]=K,t[126]=q,t[127]=Q,t[128]=_,t[129]=v,t[130]=o,t[131]=Ge):Ge=t[131];let it;t[132]!==r||t[133]!==o.is_active?(it=!o.is_active&&c.jsx(wt,{severity:"warning",children:r("workflows:alerts.inactiveWarning")}),t[132]=r,t[133]=o.is_active,t[134]=it):it=t[134];let ct;t[135]!==me||t[136]!==Pe||t[137]!==Le||t[138]!==Oe||t[139]!==Xe||t[140]!==Ke||t[141]!==Je||t[142]!==Ge||t[143]!==it?(ct=c.jsxs(me,{sx:Pe,children:[Le,Oe,Xe,Ke,Je,Ge,it]}),t[135]=me,t[136]=Pe,t[137]=Le,t[138]=Oe,t[139]=Xe,t[140]=Ke,t[141]=Je,t[142]=Ge,t[143]=it,t[144]=ct):ct=t[144];let nt;t[145]!==le||t[146]!==ke||t[147]!==ct?(nt=c.jsx(le,{size:ke,children:ct}),t[145]=le,t[146]=ke,t[147]=ct,t[148]=nt):nt=t[148];let dt;t[149]===Symbol.for("react.memo_cache_sentinel")?(dt={xs:12,md:12,lg:8},t[149]=dt):dt=t[149];const $t=parseInt(e);let Wt;t[150]!==$||t[151]!==$t?(Wt=c.jsx(yn,{size:dt,children:c.jsx(yee,{serviceType:"comfyui",workflowId:$t,refreshKey:$})}),t[150]=$,t[151]=$t,t[152]=Wt):Wt=t[152];let sn;t[153]!==de||t[154]!==Ie||t[155]!==ye||t[156]!==nt||t[157]!==Wt?(sn=c.jsxs(de,{container:Ie,spacing:ye,children:[nt,Wt]}),t[153]=de,t[154]=Ie,t[155]=ye,t[156]=nt,t[157]=Wt,t[158]=sn):sn=t[158];let xn;t[159]!==z?(xn=()=>z(!1),t[159]=z,t[160]=xn):xn=t[160];let In;t[161]!==O||t[162]!==N||t[163]!==xn?(In=c.jsx(W5,{open:O,onClose:xn,selectedImageCount:1,onAssign:N}),t[161]=O,t[162]=N,t[163]=xn,t[164]=In):In=t[164];let Gt;return t[165]!==pe||t[166]!==Ce||t[167]!==Ne||t[168]!==Be||t[169]!==sn||t[170]!==In?(Gt=c.jsxs(pe,{sx:Ce,children:[Ne,Be,sn,In]}),t[165]=pe,t[166]=Ce,t[167]=Ne,t[168]=Be,t[169]=sn,t[170]=In,t[171]=Gt):Gt=t[171],Gt}function gW(t){const e=[],n=String(t||"");let r=n.indexOf(","),a=0,i=!1;for(;!i;){r===-1&&(r=n.length,i=!0);const s=n.slice(a,r).trim();(s||!i)&&e.push(s),a=r+1,r=n.indexOf(",",a)}return e}function Jne(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const att=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,itt=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,stt={};function yW(t,e){return(stt.jsx?itt:att).test(t)}const ott=/[ \t\n\f\r]/g;function ltt(t){return typeof t=="object"?t.type==="text"?bW(t.value):!1:bW(t)}function bW(t){return t.replace(ott,"")===""}let SS=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};SS.prototype.normal={};SS.prototype.property={};SS.prototype.space=void 0;function ere(t,e){const n={},r={};for(const a of t)Object.assign(n,a.property),Object.assign(r,a.normal);return new SS(n,r,e)}function Mv(t){return t.toLowerCase()}let al=class{constructor(e,n){this.attribute=n,this.property=e}};al.prototype.attribute="";al.prototype.booleanish=!1;al.prototype.boolean=!1;al.prototype.commaOrSpaceSeparated=!1;al.prototype.commaSeparated=!1;al.prototype.defined=!1;al.prototype.mustUseProperty=!1;al.prototype.number=!1;al.prototype.overloadedBoolean=!1;al.prototype.property="";al.prototype.spaceSeparated=!1;al.prototype.space=void 0;let ctt=0;const Bn=Gg(),xi=Gg(),gj=Gg(),kt=Gg(),ta=Gg(),V1=Gg(),Cl=Gg();function Gg(){return 2**++ctt}const yj=Object.freeze(Object.defineProperty({__proto__:null,boolean:Bn,booleanish:xi,commaOrSpaceSeparated:Cl,commaSeparated:V1,number:kt,overloadedBoolean:gj,spaceSeparated:ta},Symbol.toStringTag,{value:"Module"})),$7=Object.keys(yj);let aN=class extends al{constructor(e,n,r,a){let i=-1;if(super(e,n),xW(this,"space",a),typeof r=="number")for(;++i<$7.length;){const s=$7[i];xW(this,$7[i],(r&yj[s])===yj[s])}}};aN.prototype.defined=!0;function xW(t,e,n){n&&(t[e]=n)}function $y(t){const e={},n={};for(const[r,a]of Object.entries(t.properties)){const i=new aN(r,t.transform(t.attributes||{},r),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),e[r]=i,n[Mv(r)]=r,n[Mv(i.attribute)]=r}return new SS(e,n,t.space)}const tre=$y({properties:{ariaActiveDescendant:null,ariaAtomic:xi,ariaAutoComplete:null,ariaBusy:xi,ariaChecked:xi,ariaColCount:kt,ariaColIndex:kt,ariaColSpan:kt,ariaControls:ta,ariaCurrent:null,ariaDescribedBy:ta,ariaDetails:null,ariaDisabled:xi,ariaDropEffect:ta,ariaErrorMessage:null,ariaExpanded:xi,ariaFlowTo:ta,ariaGrabbed:xi,ariaHasPopup:null,ariaHidden:xi,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ta,ariaLevel:kt,ariaLive:null,ariaModal:xi,ariaMultiLine:xi,ariaMultiSelectable:xi,ariaOrientation:null,ariaOwns:ta,ariaPlaceholder:null,ariaPosInSet:kt,ariaPressed:xi,ariaReadOnly:xi,ariaRelevant:null,ariaRequired:xi,ariaRoleDescription:ta,ariaRowCount:kt,ariaRowIndex:kt,ariaRowSpan:kt,ariaSelected:xi,ariaSetSize:kt,ariaSort:null,ariaValueMax:kt,ariaValueMin:kt,ariaValueNow:kt,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function nre(t,e){return e in t?t[e]:e}function rre(t,e){return nre(t,e.toLowerCase())}const utt=$y({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:V1,acceptCharset:ta,accessKey:ta,action:null,allow:null,allowFullScreen:Bn,allowPaymentRequest:Bn,allowUserMedia:Bn,alt:null,as:null,async:Bn,autoCapitalize:null,autoComplete:ta,autoFocus:Bn,autoPlay:Bn,blocking:ta,capture:null,charSet:null,checked:Bn,cite:null,className:ta,cols:kt,colSpan:null,content:null,contentEditable:xi,controls:Bn,controlsList:ta,coords:kt|V1,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Bn,defer:Bn,dir:null,dirName:null,disabled:Bn,download:gj,draggable:xi,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Bn,formTarget:null,headers:ta,height:kt,hidden:gj,high:kt,href:null,hrefLang:null,htmlFor:ta,httpEquiv:ta,id:null,imageSizes:null,imageSrcSet:null,inert:Bn,inputMode:null,integrity:null,is:null,isMap:Bn,itemId:null,itemProp:ta,itemRef:ta,itemScope:Bn,itemType:ta,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Bn,low:kt,manifest:null,max:null,maxLength:kt,media:null,method:null,min:null,minLength:kt,multiple:Bn,muted:Bn,name:null,nonce:null,noModule:Bn,noValidate:Bn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Bn,optimum:kt,pattern:null,ping:ta,placeholder:null,playsInline:Bn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Bn,referrerPolicy:null,rel:ta,required:Bn,reversed:Bn,rows:kt,rowSpan:kt,sandbox:ta,scope:null,scoped:Bn,seamless:Bn,selected:Bn,shadowRootClonable:Bn,shadowRootDelegatesFocus:Bn,shadowRootMode:null,shape:null,size:kt,sizes:null,slot:null,span:kt,spellCheck:xi,src:null,srcDoc:null,srcLang:null,srcSet:null,start:kt,step:null,style:null,tabIndex:kt,target:null,title:null,translate:null,type:null,typeMustMatch:Bn,useMap:null,value:xi,width:kt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ta,axis:null,background:null,bgColor:null,border:kt,borderColor:null,bottomMargin:kt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Bn,declare:Bn,event:null,face:null,frame:null,frameBorder:null,hSpace:kt,leftMargin:kt,link:null,longDesc:null,lowSrc:null,marginHeight:kt,marginWidth:kt,noResize:Bn,noHref:Bn,noShade:Bn,noWrap:Bn,object:null,profile:null,prompt:null,rev:null,rightMargin:kt,rules:null,scheme:null,scrolling:xi,standby:null,summary:null,text:null,topMargin:kt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:kt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Bn,disableRemotePlayback:Bn,prefix:null,property:null,results:kt,security:null,unselectable:null},space:"html",transform:rre}),dtt=$y({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Cl,accentHeight:kt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:kt,amplitude:kt,arabicForm:null,ascent:kt,attributeName:null,attributeType:null,azimuth:kt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:kt,by:null,calcMode:null,capHeight:kt,className:ta,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:kt,diffuseConstant:kt,direction:null,display:null,dur:null,divisor:kt,dominantBaseline:null,download:Bn,dx:null,dy:null,edgeMode:null,editable:null,elevation:kt,enableBackground:null,end:null,event:null,exponent:kt,externalResourcesRequired:null,fill:null,fillOpacity:kt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:V1,g2:V1,glyphName:V1,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:kt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:kt,horizOriginX:kt,horizOriginY:kt,id:null,ideographic:kt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:kt,k:kt,k1:kt,k2:kt,k3:kt,k4:kt,kernelMatrix:Cl,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:kt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:kt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:kt,overlineThickness:kt,paintOrder:null,panose1:null,path:null,pathLength:kt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ta,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:kt,pointsAtY:kt,pointsAtZ:kt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Cl,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Cl,rev:Cl,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Cl,requiredFeatures:Cl,requiredFonts:Cl,requiredFormats:Cl,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:kt,specularExponent:kt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:kt,strikethroughThickness:kt,string:null,stroke:null,strokeDashArray:Cl,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:kt,strokeOpacity:kt,strokeWidth:null,style:null,surfaceScale:kt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Cl,tabIndex:kt,tableValues:null,target:null,targetX:kt,targetY:kt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Cl,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:kt,underlineThickness:kt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:kt,values:null,vAlphabetic:kt,vMathematical:kt,vectorEffect:null,vHanging:kt,vIdeographic:kt,version:null,vertAdvY:kt,vertOriginX:kt,vertOriginY:kt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:kt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:nre}),are=$y({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),ire=$y({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:rre}),sre=$y({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),ftt={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},htt=/[A-Z]/g,vW=/-[a-z]/g,ptt=/^data[-\w.:]+$/i;function iN(t,e){const n=Mv(e);let r=e,a=al;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&ptt.test(e)){if(e.charAt(4)==="-"){const i=e.slice(5).replace(vW,gtt);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=e.slice(4);if(!vW.test(i)){let s=i.replace(htt,mtt);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}a=aN}return new a(r,e)}function mtt(t){return"-"+t.toLowerCase()}function gtt(t){return t.charAt(1).toUpperCase()}const Lw=ere([tre,utt,are,ire,sre],"html"),Gy=ere([tre,dtt,are,ire,sre],"svg");function SW(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function ore(t){return t.join(" ").trim()}var v1={},G7,_W;function ytt(){if(_W)return G7;_W=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,o=/^\s+|\s+$/g,l=`
`,u="/",d="*",h="",m="comment",y="declaration";G7=function(v,_){if(typeof v!="string")throw new TypeError("First argument must be a string");if(!v)return[];_=_||{};var C=1,w=1;function T($){var D=$.match(e);D&&(C+=D.length);var H=$.lastIndexOf(l);w=~H?$.length-H:w+$.length}function E(){var $={line:C,column:w};return function(D){return D.position=new k($),z(),D}}function k($){this.start=$,this.end={line:C,column:w},this.source=_.source}k.prototype.content=v;function j($){var D=new Error(_.source+":"+C+":"+w+": "+$);if(D.reason=$,D.filename=_.source,D.line=C,D.column=w,D.source=v,!_.silent)throw D}function O($){var D=$.exec(v);if(D){var H=D[0];return T(H),v=v.slice(H.length),D}}function z(){O(n)}function M($){var D;for($=$||[];D=N();)D!==!1&&$.push(D);return $}function N(){var $=E();if(!(u!=v.charAt(0)||d!=v.charAt(1))){for(var D=2;h!=v.charAt(D)&&(d!=v.charAt(D)||u!=v.charAt(D+1));)++D;if(D+=2,h===v.charAt(D-1))return j("End of comment missing");var H=v.slice(2,D-2);return w+=2,T(H),v=v.slice(D),w+=2,$({type:m,comment:H})}}function U(){var $=E(),D=O(r);if(D){if(N(),!O(a))return j("property missing ':'");var H=O(i),L=$({type:y,property:x(D[0].replace(t,h)),value:H?x(H[0].replace(t,h)):h});return O(s),L}}function F(){var $=[];M($);for(var D;D=U();)D!==!1&&($.push(D),M($));return $}return z(),F()};function x(v){return v?v.replace(o,h):h}return G7}var CW;function btt(){if(CW)return v1;CW=1;var t=v1&&v1.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(v1,"__esModule",{value:!0}),v1.default=n;const e=t(ytt());function n(r,a){let i=null;if(!r||typeof r!="string")return i;const s=(0,e.default)(r),o=typeof a=="function";return s.forEach(l=>{if(l.type!=="declaration")return;const{property:u,value:d}=l;o?a(u,d,l):d&&(i=i||{},i[u]=d)}),i}return v1}var Yx={},wW;function xtt(){if(wW)return Yx;wW=1,Object.defineProperty(Yx,"__esModule",{value:!0}),Yx.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,i=function(u){return!u||n.test(u)||t.test(u)},s=function(u,d){return d.toUpperCase()},o=function(u,d){return"".concat(d,"-")},l=function(u,d){return d===void 0&&(d={}),i(u)?u:(u=u.toLowerCase(),d.reactCompat?u=u.replace(a,o):u=u.replace(r,o),u.replace(e,s))};return Yx.camelCase=l,Yx}var Kx,EW;function vtt(){if(EW)return Kx;EW=1;var t=Kx&&Kx.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},e=t(btt()),n=xtt();function r(a,i){var s={};return!a||typeof a!="string"||(0,e.default)(a,function(o,l){o&&l&&(s[(0,n.camelCase)(o,i)]=l)}),s}return r.default=r,Kx=r,Kx}var Stt=vtt();const _tt=$f(Stt),zw=lre("end"),Hd=lre("start");function lre(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function cre(t){const e=Hd(t),n=zw(t);if(e&&n)return{start:e,end:n}}function H2(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?TW(t.position):"start"in t||"end"in t?TW(t):"line"in t||"column"in t?bj(t):""}function bj(t){return AW(t&&t.line)+":"+AW(t&&t.column)}function TW(t){return bj(t&&t.start)+"-"+bj(t&&t.end)}function AW(t){return t&&typeof t=="number"?t:1}class Xs extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},s=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof e=="string"?a=e:!i.cause&&e&&(s=!0,a=e.message,i.cause=e),!i.ruleId&&!i.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const o=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=o?o.line:void 0,this.name=H2(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=s&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Xs.prototype.file="";Xs.prototype.name="";Xs.prototype.reason="";Xs.prototype.message="";Xs.prototype.stack="";Xs.prototype.column=void 0;Xs.prototype.line=void 0;Xs.prototype.ancestors=void 0;Xs.prototype.cause=void 0;Xs.prototype.fatal=void 0;Xs.prototype.place=void 0;Xs.prototype.ruleId=void 0;Xs.prototype.source=void 0;const sN={}.hasOwnProperty,Ctt=new Map,wtt=/[A-Z]/g,Ett=new Set(["table","tbody","thead","tfoot","tr"]),Ttt=new Set(["td","th"]),ure="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Att(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Mtt(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Ntt(n,e.jsx,e.jsxs)}const a={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Gy:Lw,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},i=dre(a,t,void 0);return i&&typeof i!="string"?i:a.create(t,a.Fragment,{children:i||void 0},void 0)}function dre(t,e,n){if(e.type==="element")return Rtt(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return ktt(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return jtt(t,e,n);if(e.type==="mdxjsEsm")return Itt(t,e);if(e.type==="root")return Ott(t,e,n);if(e.type==="text")return Dtt(t,e)}function Rtt(t,e,n){const r=t.schema;let a=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=Gy,t.schema=a),t.ancestors.push(e);const i=hre(t,e.tagName,!1),s=Ptt(t,e);let o=lN(t,e);return Ett.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!ltt(l):!0})),fre(t,s,i,e),oN(s,o),t.ancestors.pop(),t.schema=r,t.create(e,i,s,n)}function ktt(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Pv(t,e.position)}function Itt(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Pv(t,e.position)}function jtt(t,e,n){const r=t.schema;let a=r;e.name==="svg"&&r.space==="html"&&(a=Gy,t.schema=a),t.ancestors.push(e);const i=e.name===null?t.Fragment:hre(t,e.name,!0),s=Ltt(t,e),o=lN(t,e);return fre(t,s,i,e),oN(s,o),t.ancestors.pop(),t.schema=r,t.create(e,i,s,n)}function Ott(t,e,n){const r={};return oN(r,lN(t,e)),t.create(e,t.Fragment,r,n)}function Dtt(t,e){return e.value}function fre(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function oN(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Ntt(t,e,n){return r;function r(a,i,s,o){const u=Array.isArray(s.children)?n:e;return o?u(i,s,o):u(i,s)}}function Mtt(t,e){return n;function n(r,a,i,s){const o=Array.isArray(i.children),l=Hd(r);return e(a,i,s,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function Ptt(t,e){const n={};let r,a;for(a in e.properties)if(a!=="children"&&sN.call(e.properties,a)){const i=ztt(t,a,e.properties[a]);if(i){const[s,o]=i;t.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&Ttt.has(e.tagName)?r=o:n[s]=o}}if(r){const i=n.style||(n.style={});i[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Ltt(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const i=r.data.estree.body[0];i.type;const s=i.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else Pv(t,e.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,i=t.evaluater.evaluateExpression(o.expression)}else Pv(t,e.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function lN(t,e){const n=[];let r=-1;const a=t.passKeys?new Map:Ctt;for(;++r<e.children.length;){const i=e.children[r];let s;if(t.passKeys){const l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){const u=a.get(l)||0;s=l+"-"+u,a.set(l,u+1)}}const o=dre(t,i,s);o!==void 0&&n.push(o)}return n}function ztt(t,e,n){const r=iN(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Jne(n):ore(n)),r.property==="style"){let a=typeof n=="object"?n:Ftt(t,String(n));return t.stylePropertyNameCase==="css"&&(a=Btt(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&r.space?ftt[r.property]||r.property:r.attribute,n]}}function Ftt(t,e){try{return _tt(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,a=new Xs("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=ure+"#cannot-parse-style-attribute",a}}function hre(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const a=e.split(".");let i=-1,s;for(;++i<a.length;){const o=yW(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(i&&o.type==="Literal"),optional:!1}:o}r=s}else r=yW(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const a=r.value;return sN.call(t.components,a)?t.components[a]:a}if(t.evaluater)return t.evaluater.evaluateExpression(r);Pv(t)}function Pv(t,e){const n=new Xs("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=ure+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Btt(t){const e={};let n;for(n in t)sN.call(t,n)&&(e[Htt(n)]=t[n]);return e}function Htt(t){let e=t.replace(wtt,Utt);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Utt(t){return"-"+t.toLowerCase()}const q7={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},$tt={};function cN(t,e){const n=$tt,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return pre(t,r,a)}function pre(t,e,n){if(Gtt(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return RW(t.children,e,n)}return Array.isArray(t)?RW(t,e,n):""}function RW(t,e,n){const r=[];let a=-1;for(;++a<t.length;)r[a]=pre(t[a],e,n);return r.join("")}function Gtt(t){return!!(t&&typeof t=="object")}const kW=document.createElement("i");function uN(t){const e="&"+t+";";kW.innerHTML=e;const n=kW.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Il(t,e,n,r){const a=t.length;let i=0,s;if(e<0?e=-e>a?0:a+e:e=e>a?a:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);i<r.length;)s=r.slice(i,i+1e4),s.unshift(e,0),t.splice(...s),i+=1e4,e+=1e4}function bc(t,e){return t.length>0?(Il(t,t.length,0,e),t):e}const IW={}.hasOwnProperty;function mre(t){const e={};let n=-1;for(;++n<t.length;)qtt(e,t[n]);return e}function qtt(t,e){let n;for(n in e){const a=(IW.call(t,n)?t[n]:void 0)||(t[n]={}),i=e[n];let s;if(i)for(s in i){IW.call(a,s)||(a[s]=[]);const o=i[s];Vtt(a[s],Array.isArray(o)?o:o?[o]:[])}}}function Vtt(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Il(t,0,0,r)}function gre(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function mu(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const yo=Up(/[A-Za-z]/),qs=Up(/[\dA-Za-z]/),Wtt=Up(/[#-'*+\--9=?A-Z^-~]/);function KC(t){return t!==null&&(t<32||t===127)}const xj=Up(/\d/),Ytt=Up(/[\dA-Fa-f]/),Ktt=Up(/[!-/:-@[-`{-~]/);function pn(t){return t!==null&&t<-2}function Yr(t){return t!==null&&(t<0||t===32)}function er(t){return t===-2||t===-1||t===32}const Fw=Up(new RegExp("\\p{P}|\\p{S}","u")),Ag=Up(/\s/);function Up(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function qy(t){const e=[];let n=-1,r=0,a=0;for(;++n<t.length;){const i=t.charCodeAt(n);let s="";if(i===37&&qs(t.charCodeAt(n+1))&&qs(t.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(s=String.fromCharCode(i));else if(i>55295&&i<57344){const o=t.charCodeAt(n+1);i<56320&&o>56319&&o<57344?(s=String.fromCharCode(i,o),a=1):s=""}else s=String.fromCharCode(i);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+a+1,s=""),a&&(n+=a,a=0)}return e.join("")+t.slice(r)}function ur(t,e,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return s;function s(l){return er(l)?(t.enter(n),o(l)):e(l)}function o(l){return er(l)&&i++<a?(t.consume(l),o):(t.exit(n),e(l))}}const Xtt={tokenize:Qtt};function Qtt(t){const e=t.attempt(this.parser.constructs.contentInitial,r,a);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),ur(t,e,"linePrefix")}function a(o){return t.enter("paragraph"),i(o)}function i(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return pn(o)?(t.consume(o),t.exit("chunkText"),i):(t.consume(o),s)}}const Ztt={tokenize:Jtt},jW={tokenize:ent};function Jtt(t){const e=this,n=[];let r=0,a,i,s;return o;function o(T){if(r<n.length){const E=n[r];return e.containerState=E[1],t.attempt(E[0].continuation,l,u)(T)}return u(T)}function l(T){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,a&&w();const E=e.events.length;let k=E,j;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){j=e.events[k][1].end;break}C(r);let O=E;for(;O<e.events.length;)e.events[O][1].end={...j},O++;return Il(e.events,k+1,0,e.events.slice(E)),e.events.length=O,u(T)}return o(T)}function u(T){if(r===n.length){if(!a)return m(T);if(a.currentConstruct&&a.currentConstruct.concrete)return x(T);e.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(jW,d,h)(T)}function d(T){return a&&w(),C(r),m(T)}function h(T){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,x(T)}function m(T){return e.containerState={},t.attempt(jW,y,x)(T)}function y(T){return r++,n.push([e.currentConstruct,e.containerState]),m(T)}function x(T){if(T===null){a&&w(),C(0),t.consume(T);return}return a=a||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),v(T)}function v(T){if(T===null){_(t.exit("chunkFlow"),!0),C(0),t.consume(T);return}return pn(T)?(t.consume(T),_(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(T),v)}function _(T,E){const k=e.sliceStream(T);if(E&&k.push(null),T.previous=i,i&&(i.next=T),i=T,a.defineSkip(T.start),a.write(k),e.parser.lazy[T.start.line]){let j=a.events.length;for(;j--;)if(a.events[j][1].start.offset<s&&(!a.events[j][1].end||a.events[j][1].end.offset>s))return;const O=e.events.length;let z=O,M,N;for(;z--;)if(e.events[z][0]==="exit"&&e.events[z][1].type==="chunkFlow"){if(M){N=e.events[z][1].end;break}M=!0}for(C(r),j=O;j<e.events.length;)e.events[j][1].end={...N},j++;Il(e.events,z+1,0,e.events.slice(O)),e.events.length=j}}function C(T){let E=n.length;for(;E-- >T;){const k=n[E];e.containerState=k[1],k[0].exit.call(e,t)}n.length=T}function w(){a.write([null]),i=void 0,a=void 0,e.containerState._closeFlow=void 0}}function ent(t,e,n){return ur(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function my(t){if(t===null||Yr(t)||Ag(t))return 1;if(Fw(t))return 2}function Bw(t,e,n){const r=[];let a=-1;for(;++a<t.length;){const i=t[a].resolveAll;i&&!r.includes(i)&&(e=i(e,n),r.push(i))}return e}const vj={name:"attention",resolveAll:tnt,tokenize:nnt};function tnt(t,e){let n=-1,r,a,i,s,o,l,u,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h={...t[r][1].end},m={...t[n][1].start};OW(h,-l),OW(m,l),s={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...t[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:m},i={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},a={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},t[r][1].end={...s.start},t[n][1].start={...o.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=bc(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=bc(u,[["enter",a,e],["enter",s,e],["exit",s,e],["enter",i,e]]),u=bc(u,Bw(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=bc(u,[["exit",i,e],["enter",o,e],["exit",o,e],["exit",a,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,u=bc(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,Il(t,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function nnt(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=my(r);let i;return s;function s(l){return i=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===i)return t.consume(l),o;const u=t.exit("attentionSequence"),d=my(l),h=!d||d===2&&a||n.includes(l),m=!a||a===2&&d||n.includes(r);return u._open=!!(i===42?h:h&&(a||!m)),u._close=!!(i===42?m:m&&(d||!h)),e(l)}}function OW(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const rnt={name:"autolink",tokenize:ant};function ant(t,e,n){let r=0;return a;function a(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),i}function i(y){return yo(y)?(t.consume(y),s):y===64?n(y):u(y)}function s(y){return y===43||y===45||y===46||qs(y)?(r=1,o(y)):u(y)}function o(y){return y===58?(t.consume(y),r=0,l):(y===43||y===45||y===46||qs(y))&&r++<32?(t.consume(y),o):(r=0,u(y))}function l(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):y===null||y===32||y===60||KC(y)?n(y):(t.consume(y),l)}function u(y){return y===64?(t.consume(y),d):Wtt(y)?(t.consume(y),u):n(y)}function d(y){return qs(y)?h(y):n(y)}function h(y){return y===46?(t.consume(y),r=0,d):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):m(y)}function m(y){if((y===45||qs(y))&&r++<63){const x=y===45?m:h;return t.consume(y),x}return n(y)}}const _S={partial:!0,tokenize:int};function int(t,e,n){return r;function r(i){return er(i)?ur(t,a,"linePrefix")(i):a(i)}function a(i){return i===null||pn(i)?e(i):n(i)}}const yre={continuation:{tokenize:ont},exit:lnt,name:"blockQuote",tokenize:snt};function snt(t,e,n){const r=this;return a;function a(s){if(s===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),i}return n(s)}function i(s){return er(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function ont(t,e,n){const r=this;return a;function a(s){return er(s)?ur(t,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):i(s)}function i(s){return t.attempt(yre,e,n)(s)}}function lnt(t){t.exit("blockQuote")}const bre={name:"characterEscape",tokenize:cnt};function cnt(t,e,n){return r;function r(i){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(i),t.exit("escapeMarker"),a}function a(i){return Ktt(i)?(t.enter("characterEscapeValue"),t.consume(i),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(i)}}const xre={name:"characterReference",tokenize:unt};function unt(t,e,n){const r=this;let a=0,i,s;return o;function o(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),l}function l(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),i=31,s=qs,d(h))}function u(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),i=6,s=Ytt,d):(t.enter("characterReferenceValue"),i=7,s=xj,d(h))}function d(h){if(h===59&&a){const m=t.exit("characterReferenceValue");return s===qs&&!uN(r.sliceSerialize(m))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(h)&&a++<i?(t.consume(h),d):n(h)}}const DW={partial:!0,tokenize:fnt},NW={concrete:!0,name:"codeFenced",tokenize:dnt};function dnt(t,e,n){const r=this,a={partial:!0,tokenize:k};let i=0,s=0,o;return l;function l(j){return u(j)}function u(j){const O=r.events[r.events.length-1];return i=O&&O[1].type==="linePrefix"?O[2].sliceSerialize(O[1],!0).length:0,o=j,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(j)}function d(j){return j===o?(s++,t.consume(j),d):s<3?n(j):(t.exit("codeFencedFenceSequence"),er(j)?ur(t,h,"whitespace")(j):h(j))}function h(j){return j===null||pn(j)?(t.exit("codeFencedFence"),r.interrupt?e(j):t.check(DW,v,E)(j)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(j))}function m(j){return j===null||pn(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(j)):er(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),ur(t,y,"whitespace")(j)):j===96&&j===o?n(j):(t.consume(j),m)}function y(j){return j===null||pn(j)?h(j):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(j))}function x(j){return j===null||pn(j)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(j)):j===96&&j===o?n(j):(t.consume(j),x)}function v(j){return t.attempt(a,E,_)(j)}function _(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),C}function C(j){return i>0&&er(j)?ur(t,w,"linePrefix",i+1)(j):w(j)}function w(j){return j===null||pn(j)?t.check(DW,v,E)(j):(t.enter("codeFlowValue"),T(j))}function T(j){return j===null||pn(j)?(t.exit("codeFlowValue"),w(j)):(t.consume(j),T)}function E(j){return t.exit("codeFenced"),e(j)}function k(j,O,z){let M=0;return N;function N(H){return j.enter("lineEnding"),j.consume(H),j.exit("lineEnding"),U}function U(H){return j.enter("codeFencedFence"),er(H)?ur(j,F,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(H):F(H)}function F(H){return H===o?(j.enter("codeFencedFenceSequence"),$(H)):z(H)}function $(H){return H===o?(M++,j.consume(H),$):M>=s?(j.exit("codeFencedFenceSequence"),er(H)?ur(j,D,"whitespace")(H):D(H)):z(H)}function D(H){return H===null||pn(H)?(j.exit("codeFencedFence"),O(H)):z(H)}}}function fnt(t,e,n){const r=this;return a;function a(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i)}function i(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const V7={name:"codeIndented",tokenize:pnt},hnt={partial:!0,tokenize:mnt};function pnt(t,e,n){const r=this;return a;function a(u){return t.enter("codeIndented"),ur(t,i,"linePrefix",5)(u)}function i(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):pn(u)?t.attempt(hnt,s,l)(u):(t.enter("codeFlowValue"),o(u))}function o(u){return u===null||pn(u)?(t.exit("codeFlowValue"),s(u)):(t.consume(u),o)}function l(u){return t.exit("codeIndented"),e(u)}}function mnt(t,e,n){const r=this;return a;function a(s){return r.parser.lazy[r.now().line]?n(s):pn(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):ur(t,i,"linePrefix",5)(s)}function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):pn(s)?a(s):n(s)}}const gnt={name:"codeText",previous:bnt,resolve:ynt,tokenize:xnt};function ynt(t){let e=t.length-4,n=3,r,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)a===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(a=r):(r===e||t[r][1].type==="lineEnding")&&(t[a][1].type="codeTextData",r!==a+2&&(t[a][1].end=t[r-1][1].end,t.splice(a+2,r-a-2),e-=r-a-2,r=a+2),a=void 0);return t}function bnt(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function xnt(t,e,n){let r=0,a,i;return s;function s(h){return t.enter("codeText"),t.enter("codeTextSequence"),o(h)}function o(h){return h===96?(t.consume(h),r++,o):(t.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),l):h===96?(i=t.enter("codeTextSequence"),a=0,d(h)):pn(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||pn(h)?(t.exit("codeTextData"),l(h)):(t.consume(h),u)}function d(h){return h===96?(t.consume(h),a++,d):a===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(i.type="codeTextData",u(h))}}class vnt{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const a=n||0;this.setCursor(Math.trunc(e));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&Xx(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Xx(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Xx(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Xx(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Xx(this.left,n.reverse())}}}function Xx(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function vre(t){const e={};let n=-1,r,a,i,s,o,l,u;const d=new vnt(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Snt(d,n)),n=e[n],u=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(s=d.get(i),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),s[1].type="lineEnding",a=i);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;a&&(r[1].end={...d.get(a)[1].start},o=d.slice(a,n),o.unshift(r),d.splice(a,n-a+1,o))}}return Il(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function Snt(t,e){const n=t.get(e)[1],r=t.get(e)[2];let a=e-1;const i=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],u={};let d,h,m=-1,y=n,x=0,v=0;const _=[v];for(;y;){for(;t.get(++a)[1]!==y;);i.push(a),y._tokenizer||(d=r.sliceStream(y),y.next||d.push(null),h&&s.defineSkip(y.start),y._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),y._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),h=y,y=y.next}for(y=n;++m<o.length;)o[m][0]==="exit"&&o[m-1][0]==="enter"&&o[m][1].type===o[m-1][1].type&&o[m][1].start.line!==o[m][1].end.line&&(v=m+1,_.push(v),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(s.events=[],y?(y._tokenizer=void 0,y.previous=void 0):_.pop(),m=_.length;m--;){const C=o.slice(_[m],_[m+1]),w=i.pop();l.push([w,w+C.length-1]),t.splice(w,2,C)}for(l.reverse(),m=-1;++m<l.length;)u[x+l[m][0]]=x+l[m][1],x+=l[m][1]-l[m][0]-1;return u}const _nt={resolve:wnt,tokenize:Ent},Cnt={partial:!0,tokenize:Tnt};function wnt(t){return vre(t),t}function Ent(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(o)}function a(o){return o===null?i(o):pn(o)?t.check(Cnt,s,i)(o):(t.consume(o),a)}function i(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function s(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function Tnt(t,e,n){const r=this;return a;function a(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),ur(t,i,"linePrefix")}function i(s){if(s===null||pn(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function Sre(t,e,n,r,a,i,s,o,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return h;function h(C){return C===60?(t.enter(r),t.enter(a),t.enter(i),t.consume(C),t.exit(i),m):C===null||C===32||C===41||KC(C)?n(C):(t.enter(r),t.enter(s),t.enter(o),t.enter("chunkString",{contentType:"string"}),v(C))}function m(C){return C===62?(t.enter(i),t.consume(C),t.exit(i),t.exit(a),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),y(C))}function y(C){return C===62?(t.exit("chunkString"),t.exit(o),m(C)):C===null||C===60||pn(C)?n(C):(t.consume(C),C===92?x:y)}function x(C){return C===60||C===62||C===92?(t.consume(C),y):y(C)}function v(C){return!d&&(C===null||C===41||Yr(C))?(t.exit("chunkString"),t.exit(o),t.exit(s),t.exit(r),e(C)):d<u&&C===40?(t.consume(C),d++,v):C===41?(t.consume(C),d--,v):C===null||C===32||C===40||KC(C)?n(C):(t.consume(C),C===92?_:v)}function _(C){return C===40||C===41||C===92?(t.consume(C),v):v(C)}}function _re(t,e,n,r,a,i){const s=this;let o=0,l;return u;function u(y){return t.enter(r),t.enter(a),t.consume(y),t.exit(a),t.enter(i),d}function d(y){return o>999||y===null||y===91||y===93&&!l||y===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(y):y===93?(t.exit(i),t.enter(a),t.consume(y),t.exit(a),t.exit(r),e):pn(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===null||y===91||y===93||pn(y)||o++>999?(t.exit("chunkString"),d(y)):(t.consume(y),l||(l=!er(y)),y===92?m:h)}function m(y){return y===91||y===92||y===93?(t.consume(y),o++,h):h(y)}}function Cre(t,e,n,r,a,i){let s;return o;function o(m){return m===34||m===39||m===40?(t.enter(r),t.enter(a),t.consume(m),t.exit(a),s=m===40?41:m,l):n(m)}function l(m){return m===s?(t.enter(a),t.consume(m),t.exit(a),t.exit(r),e):(t.enter(i),u(m))}function u(m){return m===s?(t.exit(i),l(s)):m===null?n(m):pn(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),ur(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===s||m===null||pn(m)?(t.exit("chunkString"),u(m)):(t.consume(m),m===92?h:d)}function h(m){return m===s||m===92?(t.consume(m),d):d(m)}}function U2(t,e){let n;return r;function r(a){return pn(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,r):er(a)?ur(t,r,n?"linePrefix":"lineSuffix")(a):e(a)}}const Ant={name:"definition",tokenize:knt},Rnt={partial:!0,tokenize:Int};function knt(t,e,n){const r=this;let a;return i;function i(y){return t.enter("definition"),s(y)}function s(y){return _re.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function o(y){return a=mu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),l):n(y)}function l(y){return Yr(y)?U2(t,u)(y):u(y)}function u(y){return Sre(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function d(y){return t.attempt(Rnt,h,h)(y)}function h(y){return er(y)?ur(t,m,"whitespace")(y):m(y)}function m(y){return y===null||pn(y)?(t.exit("definition"),r.parser.defined.push(a),e(y)):n(y)}}function Int(t,e,n){return r;function r(o){return Yr(o)?U2(t,a)(o):n(o)}function a(o){return Cre(t,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function i(o){return er(o)?ur(t,s,"whitespace")(o):s(o)}function s(o){return o===null||pn(o)?e(o):n(o)}}const jnt={name:"hardBreakEscape",tokenize:Ont};function Ont(t,e,n){return r;function r(i){return t.enter("hardBreakEscape"),t.consume(i),a}function a(i){return pn(i)?(t.exit("hardBreakEscape"),e(i)):n(i)}}const Dnt={name:"headingAtx",resolve:Nnt,tokenize:Mnt};function Nnt(t,e){let n=t.length-2,r=3,a,i;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},i={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Il(t,r,n-r+1,[["enter",a,e],["enter",i,e],["exit",i,e],["exit",a,e]])),t}function Mnt(t,e,n){let r=0;return a;function a(d){return t.enter("atxHeading"),i(d)}function i(d){return t.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(t.consume(d),s):d===null||Yr(d)?(t.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(t.enter("atxHeadingSequence"),l(d)):d===null||pn(d)?(t.exit("atxHeading"),e(d)):er(d)?ur(t,o,"whitespace")(d):(t.enter("atxHeadingText"),u(d))}function l(d){return d===35?(t.consume(d),l):(t.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||Yr(d)?(t.exit("atxHeadingText"),o(d)):(t.consume(d),u)}}const Pnt=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],MW=["pre","script","style","textarea"],Lnt={concrete:!0,name:"htmlFlow",resolveTo:Bnt,tokenize:Hnt},znt={partial:!0,tokenize:$nt},Fnt={partial:!0,tokenize:Unt};function Bnt(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Hnt(t,e,n){const r=this;let a,i,s,o,l;return u;function u(Y){return d(Y)}function d(Y){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(Y),h}function h(Y){return Y===33?(t.consume(Y),m):Y===47?(t.consume(Y),i=!0,v):Y===63?(t.consume(Y),a=3,r.interrupt?e:K):yo(Y)?(t.consume(Y),s=String.fromCharCode(Y),_):n(Y)}function m(Y){return Y===45?(t.consume(Y),a=2,y):Y===91?(t.consume(Y),a=5,o=0,x):yo(Y)?(t.consume(Y),a=4,r.interrupt?e:K):n(Y)}function y(Y){return Y===45?(t.consume(Y),r.interrupt?e:K):n(Y)}function x(Y){const ne="CDATA[";return Y===ne.charCodeAt(o++)?(t.consume(Y),o===ne.length?r.interrupt?e:F:x):n(Y)}function v(Y){return yo(Y)?(t.consume(Y),s=String.fromCharCode(Y),_):n(Y)}function _(Y){if(Y===null||Y===47||Y===62||Yr(Y)){const ne=Y===47,re=s.toLowerCase();return!ne&&!i&&MW.includes(re)?(a=1,r.interrupt?e(Y):F(Y)):Pnt.includes(s.toLowerCase())?(a=6,ne?(t.consume(Y),C):r.interrupt?e(Y):F(Y)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(Y):i?w(Y):T(Y))}return Y===45||qs(Y)?(t.consume(Y),s+=String.fromCharCode(Y),_):n(Y)}function C(Y){return Y===62?(t.consume(Y),r.interrupt?e:F):n(Y)}function w(Y){return er(Y)?(t.consume(Y),w):N(Y)}function T(Y){return Y===47?(t.consume(Y),N):Y===58||Y===95||yo(Y)?(t.consume(Y),E):er(Y)?(t.consume(Y),T):N(Y)}function E(Y){return Y===45||Y===46||Y===58||Y===95||qs(Y)?(t.consume(Y),E):k(Y)}function k(Y){return Y===61?(t.consume(Y),j):er(Y)?(t.consume(Y),k):T(Y)}function j(Y){return Y===null||Y===60||Y===61||Y===62||Y===96?n(Y):Y===34||Y===39?(t.consume(Y),l=Y,O):er(Y)?(t.consume(Y),j):z(Y)}function O(Y){return Y===l?(t.consume(Y),l=null,M):Y===null||pn(Y)?n(Y):(t.consume(Y),O)}function z(Y){return Y===null||Y===34||Y===39||Y===47||Y===60||Y===61||Y===62||Y===96||Yr(Y)?k(Y):(t.consume(Y),z)}function M(Y){return Y===47||Y===62||er(Y)?T(Y):n(Y)}function N(Y){return Y===62?(t.consume(Y),U):n(Y)}function U(Y){return Y===null||pn(Y)?F(Y):er(Y)?(t.consume(Y),U):n(Y)}function F(Y){return Y===45&&a===2?(t.consume(Y),L):Y===60&&a===1?(t.consume(Y),V):Y===62&&a===4?(t.consume(Y),q):Y===63&&a===3?(t.consume(Y),K):Y===93&&a===5?(t.consume(Y),Q):pn(Y)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(znt,Z,$)(Y)):Y===null||pn(Y)?(t.exit("htmlFlowData"),$(Y)):(t.consume(Y),F)}function $(Y){return t.check(Fnt,D,Z)(Y)}function D(Y){return t.enter("lineEnding"),t.consume(Y),t.exit("lineEnding"),H}function H(Y){return Y===null||pn(Y)?$(Y):(t.enter("htmlFlowData"),F(Y))}function L(Y){return Y===45?(t.consume(Y),K):F(Y)}function V(Y){return Y===47?(t.consume(Y),s="",J):F(Y)}function J(Y){if(Y===62){const ne=s.toLowerCase();return MW.includes(ne)?(t.consume(Y),q):F(Y)}return yo(Y)&&s.length<8?(t.consume(Y),s+=String.fromCharCode(Y),J):F(Y)}function Q(Y){return Y===93?(t.consume(Y),K):F(Y)}function K(Y){return Y===62?(t.consume(Y),q):Y===45&&a===2?(t.consume(Y),K):F(Y)}function q(Y){return Y===null||pn(Y)?(t.exit("htmlFlowData"),Z(Y)):(t.consume(Y),q)}function Z(Y){return t.exit("htmlFlow"),e(Y)}}function Unt(t,e,n){const r=this;return a;function a(s){return pn(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):n(s)}function i(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function $nt(t,e,n){return r;function r(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(_S,e,n)}}const Gnt={name:"htmlText",tokenize:qnt};function qnt(t,e,n){const r=this;let a,i,s;return o;function o(K){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(K),l}function l(K){return K===33?(t.consume(K),u):K===47?(t.consume(K),k):K===63?(t.consume(K),T):yo(K)?(t.consume(K),z):n(K)}function u(K){return K===45?(t.consume(K),d):K===91?(t.consume(K),i=0,x):yo(K)?(t.consume(K),w):n(K)}function d(K){return K===45?(t.consume(K),y):n(K)}function h(K){return K===null?n(K):K===45?(t.consume(K),m):pn(K)?(s=h,V(K)):(t.consume(K),h)}function m(K){return K===45?(t.consume(K),y):h(K)}function y(K){return K===62?L(K):K===45?m(K):h(K)}function x(K){const q="CDATA[";return K===q.charCodeAt(i++)?(t.consume(K),i===q.length?v:x):n(K)}function v(K){return K===null?n(K):K===93?(t.consume(K),_):pn(K)?(s=v,V(K)):(t.consume(K),v)}function _(K){return K===93?(t.consume(K),C):v(K)}function C(K){return K===62?L(K):K===93?(t.consume(K),C):v(K)}function w(K){return K===null||K===62?L(K):pn(K)?(s=w,V(K)):(t.consume(K),w)}function T(K){return K===null?n(K):K===63?(t.consume(K),E):pn(K)?(s=T,V(K)):(t.consume(K),T)}function E(K){return K===62?L(K):T(K)}function k(K){return yo(K)?(t.consume(K),j):n(K)}function j(K){return K===45||qs(K)?(t.consume(K),j):O(K)}function O(K){return pn(K)?(s=O,V(K)):er(K)?(t.consume(K),O):L(K)}function z(K){return K===45||qs(K)?(t.consume(K),z):K===47||K===62||Yr(K)?M(K):n(K)}function M(K){return K===47?(t.consume(K),L):K===58||K===95||yo(K)?(t.consume(K),N):pn(K)?(s=M,V(K)):er(K)?(t.consume(K),M):L(K)}function N(K){return K===45||K===46||K===58||K===95||qs(K)?(t.consume(K),N):U(K)}function U(K){return K===61?(t.consume(K),F):pn(K)?(s=U,V(K)):er(K)?(t.consume(K),U):M(K)}function F(K){return K===null||K===60||K===61||K===62||K===96?n(K):K===34||K===39?(t.consume(K),a=K,$):pn(K)?(s=F,V(K)):er(K)?(t.consume(K),F):(t.consume(K),D)}function $(K){return K===a?(t.consume(K),a=void 0,H):K===null?n(K):pn(K)?(s=$,V(K)):(t.consume(K),$)}function D(K){return K===null||K===34||K===39||K===60||K===61||K===96?n(K):K===47||K===62||Yr(K)?M(K):(t.consume(K),D)}function H(K){return K===47||K===62||Yr(K)?M(K):n(K)}function L(K){return K===62?(t.consume(K),t.exit("htmlTextData"),t.exit("htmlText"),e):n(K)}function V(K){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(K),t.exit("lineEnding"),J}function J(K){return er(K)?ur(t,Q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):Q(K)}function Q(K){return t.enter("htmlTextData"),s(K)}}const dN={name:"labelEnd",resolveAll:Knt,resolveTo:Xnt,tokenize:Qnt},Vnt={tokenize:Znt},Wnt={tokenize:Jnt},Ynt={tokenize:ert};function Knt(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",e+=a}}return t.length!==n.length&&Il(t,0,t.length,n),t}function Xnt(t,e){let n=t.length,r=0,a,i,s,o;for(;n--;)if(a=t[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(s=n);const l={type:t[i][1].type==="labelLink"?"link":"image",start:{...t[i][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[i][1].start},end:{...t[s][1].end}},d={type:"labelText",start:{...t[i+r+2][1].end},end:{...t[s-2][1].start}};return o=[["enter",l,e],["enter",u,e]],o=bc(o,t.slice(i+1,i+r+3)),o=bc(o,[["enter",d,e]]),o=bc(o,Bw(e.parser.constructs.insideSpan.null,t.slice(i+r+4,s-3),e)),o=bc(o,[["exit",d,e],t[s-2],t[s-1],["exit",u,e]]),o=bc(o,t.slice(s+1)),o=bc(o,[["exit",l,e]]),Il(t,i,t.length,o),t}function Qnt(t,e,n){const r=this;let a=r.events.length,i,s;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return o;function o(m){return i?i._inactive?h(m):(s=r.parser.defined.includes(mu(r.sliceSerialize({start:i.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelEnd"),l):n(m)}function l(m){return m===40?t.attempt(Vnt,d,s?d:h)(m):m===91?t.attempt(Wnt,d,s?u:h)(m):s?d(m):h(m)}function u(m){return t.attempt(Ynt,d,h)(m)}function d(m){return e(m)}function h(m){return i._balanced=!0,n(m)}}function Znt(t,e,n){return r;function r(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),a}function a(h){return Yr(h)?U2(t,i)(h):i(h)}function i(h){return h===41?d(h):Sre(t,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function s(h){return Yr(h)?U2(t,l)(h):d(h)}function o(h){return n(h)}function l(h){return h===34||h===39||h===40?Cre(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return Yr(h)?U2(t,d)(h):d(h)}function d(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function Jnt(t,e,n){const r=this;return a;function a(o){return _re.call(r,t,i,s,"reference","referenceMarker","referenceString")(o)}function i(o){return r.parser.defined.includes(mu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function s(o){return n(o)}}function ert(t,e,n){return r;function r(i){return t.enter("reference"),t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),a}function a(i){return i===93?(t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),t.exit("reference"),e):n(i)}}const trt={name:"labelStartImage",resolveAll:dN.resolveAll,tokenize:nrt};function nrt(t,e,n){const r=this;return a;function a(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),i}function i(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const rrt={name:"labelStartLink",resolveAll:dN.resolveAll,tokenize:art};function art(t,e,n){const r=this;return a;function a(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),i}function i(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const W7={name:"lineEnding",tokenize:irt};function irt(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),ur(t,e,"linePrefix")}}const G4={name:"thematicBreak",tokenize:srt};function srt(t,e,n){let r=0,a;return i;function i(u){return t.enter("thematicBreak"),s(u)}function s(u){return a=u,o(u)}function o(u){return u===a?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||pn(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===a?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),er(u)?ur(t,o,"whitespace")(u):o(u))}}const Vo={continuation:{tokenize:urt},exit:frt,name:"list",tokenize:crt},ort={partial:!0,tokenize:hrt},lrt={partial:!0,tokenize:drt};function crt(t,e,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,s=0;return o;function o(y){const x=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:xj(y)){if(r.containerState.type||(r.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(G4,n,u)(y):u(y);if(!r.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(y)}return n(y)}function l(y){return xj(y)&&++s<10?(t.consume(y),l):(!r.interrupt||s<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),u(y)):n(y)}function u(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,t.check(_S,r.interrupt?n:d,t.attempt(ort,m,h))}function d(y){return r.containerState.initialBlankLine=!0,i++,m(y)}function h(y){return er(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),m):n(y)}function m(y){return r.containerState.size=i+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}function urt(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(_S,a,i);function a(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ur(t,e,"listItemIndent",r.containerState.size+1)(o)}function i(o){return r.containerState.furtherBlankLines||!er(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(lrt,e,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,ur(t,t.attempt(Vo,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function drt(t,e,n){const r=this;return ur(t,a,"listItemIndent",r.containerState.size+1);function a(i){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(i):n(i)}}function frt(t){t.exit(this.containerState.type)}function hrt(t,e,n){const r=this;return ur(t,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const s=r.events[r.events.length-1];return!er(i)&&s&&s[1].type==="listItemPrefixWhitespace"?e(i):n(i)}}const PW={name:"setextUnderline",resolveTo:prt,tokenize:mrt};function prt(t,e){let n=t.length,r,a,i;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!i&&t[n][1].type==="definition"&&(i=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",i?(t.splice(a,0,["enter",s,e]),t.splice(i+1,0,["exit",t[r][1],e]),t[r][1].end={...t[i][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function mrt(t,e,n){const r=this;let a;return i;function i(u){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(t.enter("setextHeadingLine"),a=u,s(u)):n(u)}function s(u){return t.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===a?(t.consume(u),o):(t.exit("setextHeadingLineSequence"),er(u)?ur(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||pn(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const grt={tokenize:yrt};function yrt(t){const e=this,n=t.attempt(_S,r,t.attempt(this.parser.constructs.flowInitial,a,ur(t,t.attempt(this.parser.constructs.flow,a,t.attempt(_nt,a)),"linePrefix")));return n;function r(i){if(i===null){t.consume(i);return}return t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function a(i){if(i===null){t.consume(i);return}return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const brt={resolveAll:Ere()},xrt=wre("string"),vrt=wre("text");function wre(t){return{resolveAll:Ere(t==="text"?Srt:void 0),tokenize:e};function e(n){const r=this,a=this.parser.constructs[t],i=n.attempt(a,s,o);return s;function s(d){return u(d)?i(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),i(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const h=a[d];let m=-1;if(h)for(;++m<h.length;){const y=h[m];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function Ere(t){return e;function e(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return t?t(n,r):n}}function Srt(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],a=e.sliceStream(r);let i=a.length,s=-1,o=0,l;for(;i--;){const u=a[i];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(u===-2)l=!0,o++;else if(u!==-1){i++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(o=0),o){const u={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?s:r.start._bufferIndex+s,_index:r.start._index+i,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const _rt={42:Vo,43:Vo,45:Vo,48:Vo,49:Vo,50:Vo,51:Vo,52:Vo,53:Vo,54:Vo,55:Vo,56:Vo,57:Vo,62:yre},Crt={91:Ant},wrt={[-2]:V7,[-1]:V7,32:V7},Ert={35:Dnt,42:G4,45:[PW,G4],60:Lnt,61:PW,95:G4,96:NW,126:NW},Trt={38:xre,92:bre},Art={[-5]:W7,[-4]:W7,[-3]:W7,33:trt,38:xre,42:vj,60:[rnt,Gnt],91:rrt,92:[jnt,bre],93:dN,95:vj,96:gnt},Rrt={null:[vj,brt]},krt={null:[42,95]},Irt={null:[]},jrt=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:krt,contentInitial:Crt,disable:Irt,document:_rt,flow:Ert,flowInitial:wrt,insideSpan:Rrt,string:Trt,text:Art},Symbol.toStringTag,{value:"Module"}));function Ort(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let s=[],o=[];const l={attempt:O(k),check:O(j),consume:w,enter:T,exit:E,interrupt:O(j,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:x,parser:t,previous:null,sliceSerialize:m,sliceStream:y,write:h};let d=e.tokenize.call(u,l);return e.resolveAll&&i.push(e),u;function h(U){return s=bc(s,U),_(),s[s.length-1]!==null?[]:(z(e,0),u.events=Bw(i,u.events,u),u.events)}function m(U,F){return Nrt(y(U),F)}function y(U){return Drt(s,U)}function x(){const{_bufferIndex:U,_index:F,line:$,column:D,offset:H}=r;return{_bufferIndex:U,_index:F,line:$,column:D,offset:H}}function v(U){a[U.line]=U.column,N()}function _(){let U;for(;r._index<s.length;){const F=s[r._index];if(typeof F=="string")for(U=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===U&&r._bufferIndex<F.length;)C(F.charCodeAt(r._bufferIndex));else C(F)}}function C(U){d=d(U)}function w(U){pn(U)?(r.line++,r.column=1,r.offset+=U===-3?2:1,N()):U!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=U}function T(U,F){const $=F||{};return $.type=U,$.start=x(),u.events.push(["enter",$,u]),o.push($),$}function E(U){const F=o.pop();return F.end=x(),u.events.push(["exit",F,u]),F}function k(U,F){z(U,F.from)}function j(U,F){F.restore()}function O(U,F){return $;function $(D,H,L){let V,J,Q,K;return Array.isArray(D)?Z(D):"tokenize"in D?Z([D]):q(D);function q(ie){return ce;function ce(he){const me=he!==null&&ie[he],le=he!==null&&ie.null,de=[...Array.isArray(me)?me:me?[me]:[],...Array.isArray(le)?le:le?[le]:[]];return Z(de)(he)}}function Z(ie){return V=ie,J=0,ie.length===0?L:Y(ie[J])}function Y(ie){return ce;function ce(he){return K=M(),Q=ie,ie.partial||(u.currentConstruct=ie),ie.name&&u.parser.constructs.disable.null.includes(ie.name)?re():ie.tokenize.call(F?Object.assign(Object.create(u),F):u,l,ne,re)(he)}}function ne(ie){return U(Q,K),H}function re(ie){return K.restore(),++J<V.length?Y(V[J]):L}}}function z(U,F){U.resolveAll&&!i.includes(U)&&i.push(U),U.resolve&&Il(u.events,F,u.events.length-F,U.resolve(u.events.slice(F),u)),U.resolveTo&&(u.events=U.resolveTo(u.events,u))}function M(){const U=x(),F=u.previous,$=u.currentConstruct,D=u.events.length,H=Array.from(o);return{from:D,restore:L};function L(){r=U,u.previous=F,u.currentConstruct=$,u.events.length=D,o=H,N()}}function N(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function Drt(t,e){const n=e.start._index,r=e.start._bufferIndex,a=e.end._index,i=e.end._bufferIndex;let s;if(n===a)s=[t[n].slice(r,i)];else{if(s=t.slice(n,a),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}i>0&&s.push(t[a].slice(0,i))}return s}function Nrt(t,e){let n=-1;const r=[];let a;for(;++n<t.length;){const i=t[n];let s;if(typeof i=="string")s=i;else switch(i){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&a)continue;s=" ";break}default:s=String.fromCharCode(i)}a=i===-2,r.push(s)}return r.join("")}function Mrt(t){const r={constructs:mre([jrt,...(t||{}).extensions||[]]),content:a(Xtt),defined:[],document:a(Ztt),flow:a(grt),lazy:{},string:a(xrt),text:a(vrt)};return r;function a(i){return s;function s(o){return Ort(r,i,o)}}}function Prt(t){for(;!vre(t););return t}const LW=/[\0\t\n\r]/g;function Lrt(){let t=1,e="",n=!0,r;return a;function a(i,s,o){const l=[];let u,d,h,m,y;for(i=e+(typeof i=="string"?i.toString():new TextDecoder(s||void 0).decode(i)),h=0,e="",n&&(i.charCodeAt(0)===65279&&h++,n=void 0);h<i.length;){if(LW.lastIndex=h,u=LW.exec(i),m=u&&u.index!==void 0?u.index:i.length,y=i.charCodeAt(m),!u){e=i.slice(h);break}if(y===10&&h===m&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<m&&(l.push(i.slice(h,m)),t+=m-h),y){case 0:{l.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,l.push(-2);t++<d;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}h=m+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const zrt=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Frt(t){return t.replace(zrt,Brt)}function Brt(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),i=a===120||a===88;return gre(n.slice(i?2:1),i?16:10)}return uN(n)||t}const Tre={}.hasOwnProperty;function Hrt(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Urt(n)(Prt(Mrt(n).document().write(Lrt()(t,e,!0))))}function Urt(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Me),autolinkProtocol:M,autolinkEmail:M,atxHeading:i(oe),blockQuote:i(le),characterEscape:M,characterReference:M,codeFenced:i(de),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:i(de,s),codeText:i(pe,s),codeTextData:M,data:M,codeFlowValue:M,definition:i(ve),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:i(ge),hardBreakEscape:i(Se),hardBreakTrailing:i(Se),htmlFlow:i(be,s),htmlFlowData:M,htmlText:i(be,s),htmlTextData:M,image:i(Ae),label:s,link:i(Me),listItem:i(Le),listItemValue:m,listOrdered:i(Pe,h),listUnordered:i(Pe),paragraph:i(Oe),reference:Y,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:i(oe),strong:i(Xe),thematicBreak:i(Ie)},exit:{atxHeading:l(),atxHeadingSequence:k,autolink:l(),autolinkEmail:me,autolinkProtocol:he,blockQuote:l(),characterEscapeValue:N,characterReferenceMarkerHexadecimal:re,characterReferenceMarkerNumeric:re,characterReferenceValue:ie,characterReference:ce,codeFenced:l(_),codeFencedFence:v,codeFencedFenceInfo:y,codeFencedFenceMeta:x,codeFlowValue:N,codeIndented:l(C),codeText:l(H),codeTextData:N,data:N,definition:l(),definitionDestinationString:E,definitionLabelString:w,definitionTitleString:T,emphasis:l(),hardBreakEscape:l(F),hardBreakTrailing:l(F),htmlFlow:l($),htmlFlowData:N,htmlText:l(D),htmlTextData:N,image:l(V),label:Q,labelText:J,lineEnding:U,link:l(L),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ne,resourceDestinationString:K,resourceTitleString:q,resource:Z,setextHeading:l(z),setextHeadingLineSequence:O,setextHeadingText:j,strong:l(),thematicBreak:l()}};Are(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ye){let Ce={type:"root",children:[]};const Ne={stack:[Ce],tokenStack:[],config:e,enter:o,exit:u,buffer:s,resume:d,data:n},Be=[];let Ke=-1;for(;++Ke<ye.length;)if(ye[Ke][1].type==="listOrdered"||ye[Ke][1].type==="listUnordered")if(ye[Ke][0]==="enter")Be.push(Ke);else{const Je=Be.pop();Ke=a(ye,Je,Ke)}for(Ke=-1;++Ke<ye.length;){const Je=e[ye[Ke][0]];Tre.call(Je,ye[Ke][1].type)&&Je[ye[Ke][1].type].call(Object.assign({sliceSerialize:ye[Ke][2].sliceSerialize},Ne),ye[Ke][1])}if(Ne.tokenStack.length>0){const Je=Ne.tokenStack[Ne.tokenStack.length-1];(Je[1]||zW).call(Ne,void 0,Je[0])}for(Ce.position={start:Gh(ye.length>0?ye[0][1].start:{line:1,column:1,offset:0}),end:Gh(ye.length>0?ye[ye.length-2][1].end:{line:1,column:1,offset:0})},Ke=-1;++Ke<e.transforms.length;)Ce=e.transforms[Ke](Ce)||Ce;return Ce}function a(ye,Ce,Ne){let Be=Ce-1,Ke=-1,Je=!1,Ge,it,ct,nt;for(;++Be<=Ne;){const dt=ye[Be];switch(dt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{dt[0]==="enter"?Ke++:Ke--,nt=void 0;break}case"lineEndingBlank":{dt[0]==="enter"&&(Ge&&!nt&&!Ke&&!ct&&(ct=Be),nt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:nt=void 0}if(!Ke&&dt[0]==="enter"&&dt[1].type==="listItemPrefix"||Ke===-1&&dt[0]==="exit"&&(dt[1].type==="listUnordered"||dt[1].type==="listOrdered")){if(Ge){let $t=Be;for(it=void 0;$t--;){const Wt=ye[$t];if(Wt[1].type==="lineEnding"||Wt[1].type==="lineEndingBlank"){if(Wt[0]==="exit")continue;it&&(ye[it][1].type="lineEndingBlank",Je=!0),Wt[1].type="lineEnding",it=$t}else if(!(Wt[1].type==="linePrefix"||Wt[1].type==="blockQuotePrefix"||Wt[1].type==="blockQuotePrefixWhitespace"||Wt[1].type==="blockQuoteMarker"||Wt[1].type==="listItemIndent"))break}ct&&(!it||ct<it)&&(Ge._spread=!0),Ge.end=Object.assign({},it?ye[it][1].start:dt[1].end),ye.splice(it||Be,0,["exit",Ge,dt[2]]),Be++,Ne++}if(dt[1].type==="listItemPrefix"){const $t={type:"listItem",_spread:!1,start:Object.assign({},dt[1].start),end:void 0};Ge=$t,ye.splice(Be,0,["enter",$t,dt[2]]),Be++,Ne++,ct=void 0,nt=!0}}}return ye[Ce][1]._spread=Je,Ne}function i(ye,Ce){return Ne;function Ne(Be){o.call(this,ye(Be),Be),Ce&&Ce.call(this,Be)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(ye,Ce,Ne){this.stack[this.stack.length-1].children.push(ye),this.stack.push(ye),this.tokenStack.push([Ce,Ne||void 0]),ye.position={start:Gh(Ce.start),end:void 0}}function l(ye){return Ce;function Ce(Ne){ye&&ye.call(this,Ne),u.call(this,Ne)}}function u(ye,Ce){const Ne=this.stack.pop(),Be=this.tokenStack.pop();if(Be)Be[0].type!==ye.type&&(Ce?Ce.call(this,ye,Be[0]):(Be[1]||zW).call(this,ye,Be[0]));else throw new Error("Cannot close `"+ye.type+"` ("+H2({start:ye.start,end:ye.end})+"): its not open");Ne.position.end=Gh(ye.end)}function d(){return cN(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function m(ye){if(this.data.expectingFirstListItemValue){const Ce=this.stack[this.stack.length-2];Ce.start=Number.parseInt(this.sliceSerialize(ye),10),this.data.expectingFirstListItemValue=void 0}}function y(){const ye=this.resume(),Ce=this.stack[this.stack.length-1];Ce.lang=ye}function x(){const ye=this.resume(),Ce=this.stack[this.stack.length-1];Ce.meta=ye}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const ye=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ye.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){const ye=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ye.replace(/(\r?\n|\r)$/g,"")}function w(ye){const Ce=this.resume(),Ne=this.stack[this.stack.length-1];Ne.label=Ce,Ne.identifier=mu(this.sliceSerialize(ye)).toLowerCase()}function T(){const ye=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=ye}function E(){const ye=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=ye}function k(ye){const Ce=this.stack[this.stack.length-1];if(!Ce.depth){const Ne=this.sliceSerialize(ye).length;Ce.depth=Ne}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function O(ye){const Ce=this.stack[this.stack.length-1];Ce.depth=this.sliceSerialize(ye).codePointAt(0)===61?1:2}function z(){this.data.setextHeadingSlurpLineEnding=void 0}function M(ye){const Ne=this.stack[this.stack.length-1].children;let Be=Ne[Ne.length-1];(!Be||Be.type!=="text")&&(Be=ke(),Be.position={start:Gh(ye.start),end:void 0},Ne.push(Be)),this.stack.push(Be)}function N(ye){const Ce=this.stack.pop();Ce.value+=this.sliceSerialize(ye),Ce.position.end=Gh(ye.end)}function U(ye){const Ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ne=Ce.children[Ce.children.length-1];Ne.position.end=Gh(ye.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ce.type)&&(M.call(this,ye),N.call(this,ye))}function F(){this.data.atHardBreak=!0}function $(){const ye=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ye}function D(){const ye=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ye}function H(){const ye=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ye}function L(){const ye=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";ye.type+="Reference",ye.referenceType=Ce,delete ye.url,delete ye.title}else delete ye.identifier,delete ye.label;this.data.referenceType=void 0}function V(){const ye=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";ye.type+="Reference",ye.referenceType=Ce,delete ye.url,delete ye.title}else delete ye.identifier,delete ye.label;this.data.referenceType=void 0}function J(ye){const Ce=this.sliceSerialize(ye),Ne=this.stack[this.stack.length-2];Ne.label=Frt(Ce),Ne.identifier=mu(Ce).toLowerCase()}function Q(){const ye=this.stack[this.stack.length-1],Ce=this.resume(),Ne=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ne.type==="link"){const Be=ye.children;Ne.children=Be}else Ne.alt=Ce}function K(){const ye=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=ye}function q(){const ye=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=ye}function Z(){this.data.inReference=void 0}function Y(){this.data.referenceType="collapsed"}function ne(ye){const Ce=this.resume(),Ne=this.stack[this.stack.length-1];Ne.label=Ce,Ne.identifier=mu(this.sliceSerialize(ye)).toLowerCase(),this.data.referenceType="full"}function re(ye){this.data.characterReferenceType=ye.type}function ie(ye){const Ce=this.sliceSerialize(ye),Ne=this.data.characterReferenceType;let Be;Ne?(Be=gre(Ce,Ne==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Be=uN(Ce);const Ke=this.stack[this.stack.length-1];Ke.value+=Be}function ce(ye){const Ce=this.stack.pop();Ce.position.end=Gh(ye.end)}function he(ye){N.call(this,ye);const Ce=this.stack[this.stack.length-1];Ce.url=this.sliceSerialize(ye)}function me(ye){N.call(this,ye);const Ce=this.stack[this.stack.length-1];Ce.url="mailto:"+this.sliceSerialize(ye)}function le(){return{type:"blockquote",children:[]}}function de(){return{type:"code",lang:null,meta:null,value:""}}function pe(){return{type:"inlineCode",value:""}}function ve(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ge(){return{type:"emphasis",children:[]}}function oe(){return{type:"heading",depth:0,children:[]}}function Se(){return{type:"break"}}function be(){return{type:"html",value:""}}function Ae(){return{type:"image",title:null,url:"",alt:null}}function Me(){return{type:"link",title:null,url:"",children:[]}}function Pe(ye){return{type:"list",ordered:ye.type==="listOrdered",start:null,spread:ye._spread,children:[]}}function Le(ye){return{type:"listItem",spread:ye._spread,checked:null,children:[]}}function Oe(){return{type:"paragraph",children:[]}}function Xe(){return{type:"strong",children:[]}}function ke(){return{type:"text",value:""}}function Ie(){return{type:"thematicBreak"}}}function Gh(t){return{line:t.line,column:t.column,offset:t.offset}}function Are(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?Are(t,r):$rt(t,r)}}function $rt(t,e){let n;for(n in e)if(Tre.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function zW(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+H2({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+H2({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+H2({start:e.start,end:e.end})+") is still open")}function Grt(t){const e=this;e.parser=n;function n(r){return Hrt(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function qrt(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Vrt(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Wrt(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function Yrt(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Krt(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Xrt(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),a=qy(r.toLowerCase()),i=t.footnoteOrder.indexOf(r);let s,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=i+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function Qrt(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Zrt(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Rre(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const a=t.all(e),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const s=a[a.length-1];return s&&s.type==="text"?s.value+=r:a.push({type:"text",value:r}),a}function Jrt(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Rre(t,e);const a={src:qy(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return t.patch(e,i),t.applyData(e,i)}function eat(t,e){const n={src:qy(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function tat(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function nat(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Rre(t,e);const a={href:qy(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function rat(t,e){const n={href:qy(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function aat(t,e,n){const r=t.all(e),a=n?iat(n):kre(e),i={},s=[];if(typeof e.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(a||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(a||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:s};return t.patch(e,u),t.applyData(e,u)}function iat(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=kre(n[r])}return e}function kre(t){const e=t.spread;return e??t.children.length>1}function sat(t,e){const n={},r=t.all(e);let a=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++a<r.length;){const s=r[a];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,i),t.applyData(e,i)}function oat(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function lat(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function cat(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function uat(t,e){const n=t.all(e),r=n.shift(),a=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),a.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=Hd(e.children[1]),l=zw(e.children[e.children.length-1]);o&&l&&(s.position={start:o,end:l}),a.push(s)}const i={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(e,i),t.applyData(e,i)}function dat(t,e,n){const r=n?n.children:void 0,i=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:e.children.length;let l=-1;const u=[];for(;++l<o;){const h=e.children[l],m={},y=s?s[l]:void 0;y&&(m.align=y);let x={type:"element",tagName:i,properties:m,children:[]};h&&(x.children=t.all(h),t.patch(h,x),x=t.applyData(h,x)),u.push(x)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,d),t.applyData(e,d)}function fat(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const FW=9,BW=32;function hat(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),a=0;const i=[];for(;r;)i.push(HW(e.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(e);return i.push(HW(e.slice(a),a>0,!1)),i.join("")}function HW(t,e,n){let r=0,a=t.length;if(e){let i=t.codePointAt(r);for(;i===FW||i===BW;)r++,i=t.codePointAt(r)}if(n){let i=t.codePointAt(a-1);for(;i===FW||i===BW;)a--,i=t.codePointAt(a-1)}return a>r?t.slice(r,a):""}function pat(t,e){const n={type:"text",value:hat(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function mat(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const gat={blockquote:qrt,break:Vrt,code:Wrt,delete:Yrt,emphasis:Krt,footnoteReference:Xrt,heading:Qrt,html:Zrt,imageReference:Jrt,image:eat,inlineCode:tat,linkReference:nat,link:rat,listItem:aat,list:sat,paragraph:oat,root:lat,strong:cat,table:uat,tableCell:fat,tableRow:dat,text:pat,thematicBreak:mat,toml:y4,yaml:y4,definition:y4,footnoteDefinition:y4};function y4(){}const Ire=-1,Hw=0,$2=1,XC=2,fN=3,hN=4,pN=5,mN=6,jre=7,Ore=8,UW=typeof self=="object"?self:globalThis,yat=(t,e)=>{const n=(a,i)=>(t.set(i,a),a),r=a=>{if(t.has(a))return t.get(a);const[i,s]=e[a];switch(i){case Hw:case Ire:return n(s,a);case $2:{const o=n([],a);for(const l of s)o.push(r(l));return o}case XC:{const o=n({},a);for(const[l,u]of s)o[r(l)]=r(u);return o}case fN:return n(new Date(s),a);case hN:{const{source:o,flags:l}=s;return n(new RegExp(o,l),a)}case pN:{const o=n(new Map,a);for(const[l,u]of s)o.set(r(l),r(u));return o}case mN:{const o=n(new Set,a);for(const l of s)o.add(r(l));return o}case jre:{const{name:o,message:l}=s;return n(new UW[o](l),a)}case Ore:return n(BigInt(s),a);case"BigInt":return n(Object(BigInt(s)),a);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new UW[i](s),a)};return r},$W=t=>yat(new Map,t)(0),S1="",{toString:bat}={},{keys:xat}=Object,Qx=t=>{const e=typeof t;if(e!=="object"||!t)return[Hw,e];const n=bat.call(t).slice(8,-1);switch(n){case"Array":return[$2,S1];case"Object":return[XC,S1];case"Date":return[fN,S1];case"RegExp":return[hN,S1];case"Map":return[pN,S1];case"Set":return[mN,S1];case"DataView":return[$2,n]}return n.includes("Array")?[$2,n]:n.includes("Error")?[jre,n]:[XC,n]},b4=([t,e])=>t===Hw&&(e==="function"||e==="symbol"),vat=(t,e,n,r)=>{const a=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},i=s=>{if(n.has(s))return n.get(s);let[o,l]=Qx(s);switch(o){case Hw:{let d=s;switch(l){case"bigint":o=Ore,d=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return a([Ire],s)}return a([o,d],s)}case $2:{if(l){let m=s;return l==="DataView"?m=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(m=new Uint8Array(s)),a([l,[...m]],s)}const d=[],h=a([o,d],s);for(const m of s)d.push(i(m));return h}case XC:{if(l)switch(l){case"BigInt":return a([l,s.toString()],s);case"Boolean":case"Number":case"String":return a([l,s.valueOf()],s)}if(e&&"toJSON"in s)return i(s.toJSON());const d=[],h=a([o,d],s);for(const m of xat(s))(t||!b4(Qx(s[m])))&&d.push([i(m),i(s[m])]);return h}case fN:return a([o,s.toISOString()],s);case hN:{const{source:d,flags:h}=s;return a([o,{source:d,flags:h}],s)}case pN:{const d=[],h=a([o,d],s);for(const[m,y]of s)(t||!(b4(Qx(m))||b4(Qx(y))))&&d.push([i(m),i(y)]);return h}case mN:{const d=[],h=a([o,d],s);for(const m of s)(t||!b4(Qx(m)))&&d.push(i(m));return h}}const{message:u}=s;return a([o,{name:l,message:u}],s)};return i},GW=(t,{json:e,lossy:n}={})=>{const r=[];return vat(!(e||n),!!e,new Map,r)(t),r},Rg=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?$W(GW(t,e)):structuredClone(t):(t,e)=>$W(GW(t,e));function Sat(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function _at(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Cat(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Sat,r=t.options.footnoteBackLabel||_at,a=t.options.footnoteLabel||"Footnotes",i=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const d=t.all(u),h=String(u.identifier).toUpperCase(),m=qy(h.toLowerCase());let y=0;const x=[],v=t.footnoteCounts.get(h);for(;v!==void 0&&++y<=v;){x.length>0&&x.push({type:"text",value:" "});let w=typeof n=="string"?n:n(l,y);typeof w=="string"&&(w={type:"text",value:w}),x.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+m+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,y),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const _=d[d.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const w=_.children[_.children.length-1];w&&w.type==="text"?w.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...x)}else d.push(...x);const C={type:"element",tagName:"li",properties:{id:e+"fn-"+m},children:t.wrap(d,!0)};t.patch(u,C),o.push(C)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Rg(s),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const Uw=(function(t){if(t==null)return Aat;if(typeof t=="function")return $w(t);if(typeof t=="object")return Array.isArray(t)?wat(t):Eat(t);if(typeof t=="string")return Tat(t);throw new Error("Expected function, string, or object as test")});function wat(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Uw(t[n]);return $w(r);function r(...a){let i=-1;for(;++i<e.length;)if(e[i].apply(this,a))return!0;return!1}}function Eat(t){const e=t;return $w(n);function n(r){const a=r;let i;for(i in t)if(a[i]!==e[i])return!1;return!0}}function Tat(t){return $w(e);function e(n){return n&&n.type===t}}function $w(t){return e;function e(n,r,a){return!!(Rat(n)&&t.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function Aat(){return!0}function Rat(t){return t!==null&&typeof t=="object"&&"type"in t}const Dre=[],kat=!0,Sj=!1,Iat="skip";function Nre(t,e,n,r){let a;typeof e=="function"&&typeof n!="function"?(r=n,n=e):a=e;const i=Uw(a),s=r?-1:1;o(t,void 0,[])();function o(l,u,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const y=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(l.type+(y?"<"+y+">":""))+")"})}return m;function m(){let y=Dre,x,v,_;if((!e||i(l,u,d[d.length-1]||void 0))&&(y=jat(n(l,d)),y[0]===Sj))return y;if("children"in l&&l.children){const C=l;if(C.children&&y[0]!==Iat)for(v=(r?C.children.length:-1)+s,_=d.concat(C);v>-1&&v<C.children.length;){const w=C.children[v];if(x=o(w,v,_)(),x[0]===Sj)return x;v=typeof x[1]=="number"?x[1]:v+s}}return y}}}function jat(t){return Array.isArray(t)?t:typeof t=="number"?[kat,t]:t==null?Dre:[t]}function Gw(t,e,n,r){let a,i,s;typeof e=="function"&&typeof n!="function"?(i=void 0,s=e,a=n):(i=e,s=n,a=r),Nre(t,i,o,a);function o(l,u){const d=u[u.length-1],h=d?d.children.indexOf(l):void 0;return s(l,h,d)}}const _j={}.hasOwnProperty,Oat={};function Dat(t,e){const n=e||Oat,r=new Map,a=new Map,i=new Map,s={...gat,...n.handlers},o={all:u,applyData:Mat,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:s,one:l,options:n,patch:Nat,wrap:Lat};return Gw(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:a,m=String(d.identifier).toUpperCase();h.has(m)||h.set(m,d)}}),o;function l(d,h){const m=d.type,y=o.handlers[m];if(_j.call(o.handlers,m)&&y)return y(o,d,h);if(o.options.passThrough&&o.options.passThrough.includes(m)){if("children"in d){const{children:v,..._}=d,C=Rg(_);return C.children=o.all(d),C}return Rg(d)}return(o.options.unknownHandler||Pat)(o,d,h)}function u(d){const h=[];if("children"in d){const m=d.children;let y=-1;for(;++y<m.length;){const x=o.one(m[y],d);if(x){if(y&&m[y-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=qW(x.value)),!Array.isArray(x)&&x.type==="element")){const v=x.children[0];v&&v.type==="text"&&(v.value=qW(v.value))}Array.isArray(x)?h.push(...x):h.push(x)}}}return h}}function Nat(t,e){t.position&&(e.position=cre(t))}function Mat(t,e){let n=e;if(t&&t.data){const r=t.data.hName,a=t.data.hChildren,i=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&i&&Object.assign(n.properties,Rg(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function Pat(t,e){const n=e.data||{},r="value"in e&&!(_j.call(n,"hProperties")||_j.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Lat(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function qW(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function VW(t,e){const n=Dat(t,e),r=n.one(t,void 0),a=Cat(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function zat(t,e){return t&&"run"in t?async function(n,r){const a=VW(n,{file:r,...e});await t.run(a,r)}:function(n,r){return VW(n,{file:r,...t||e})}}function WW(t){if(t)throw t}var Y7,YW;function Fat(){if(YW)return Y7;YW=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(u){return typeof Array.isArray=="function"?Array.isArray(u):e.call(u)==="[object Array]"},i=function(u){if(!u||e.call(u)!=="[object Object]")return!1;var d=t.call(u,"constructor"),h=u.constructor&&u.constructor.prototype&&t.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!d&&!h)return!1;var m;for(m in u);return typeof m>"u"||t.call(u,m)},s=function(u,d){n&&d.name==="__proto__"?n(u,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):u[d.name]=d.newValue},o=function(u,d){if(d==="__proto__")if(t.call(u,d)){if(r)return r(u,d).value}else return;return u[d]};return Y7=function l(){var u,d,h,m,y,x,v=arguments[0],_=1,C=arguments.length,w=!1;for(typeof v=="boolean"&&(w=v,v=arguments[1]||{},_=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});_<C;++_)if(u=arguments[_],u!=null)for(d in u)h=o(v,d),m=o(u,d),v!==m&&(w&&m&&(i(m)||(y=a(m)))?(y?(y=!1,x=h&&a(h)?h:[]):x=h&&i(h)?h:{},s(v,{name:d,newValue:l(w,x,m)})):typeof m<"u"&&s(v,{name:d,newValue:m}));return v},Y7}var Bat=Fat();const K7=$f(Bat);function Cj(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Hat(){const t=[],e={run:n,use:r};return e;function n(...a){let i=-1;const s=a.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...a);function o(l,...u){const d=t[++i];let h=-1;if(l){s(l);return}for(;++h<a.length;)(u[h]===null||u[h]===void 0)&&(u[h]=a[h]);a=u,d?Uat(d,o)(...u):s(null,...u)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),e}}function Uat(t,e){let n;return r;function r(...s){const o=t.length>s.length;let l;o&&s.push(a);try{l=t.apply(this,s)}catch(u){const d=u;if(o&&n)throw d;return a(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(i,a):l instanceof Error?a(l):i(l))}function a(s,...o){n||(n=!0,e(s,...o))}function i(s){a(null,s)}}const fd={basename:$at,dirname:Gat,extname:qat,join:Vat,sep:"/"};function $at(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');CS(t);let n=0,r=-1,a=t.length,i;if(e===void 0||e.length===0||e.length>t.length){for(;a--;)if(t.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,o=e.length-1;for(;a--;)if(t.codePointAt(a)===47){if(i){n=a+1;break}}else s<0&&(i=!0,s=a+1),o>-1&&(t.codePointAt(a)===e.codePointAt(o--)?o<0&&(r=a):(o=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function Gat(t){if(CS(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function qat(t){CS(t);let e=t.length,n=-1,r=0,a=-1,i=0,s;for(;e--;){const o=t.codePointAt(e);if(o===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),o===46?a<0?a=e:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":t.slice(a,n)}function Vat(...t){let e=-1,n;for(;++e<t.length;)CS(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Wat(n)}function Wat(t){CS(t);const e=t.codePointAt(0)===47;let n=Yat(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Yat(t,e){let n="",r=0,a=-1,i=0,s=-1,o,l;for(;++s<=t.length;){if(s<t.length)o=t.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(a===s-1||i===1))if(a!==s-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),a=s,i=0;continue}}else if(n.length>0){n="",r=0,a=s,i=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(a+1,s):n=t.slice(a+1,s),r=s-a-1;a=s,i=0}else o===46&&i>-1?i++:i=-1}return n}function CS(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Kat={cwd:Xat};function Xat(){return"/"}function wj(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Qat(t){if(typeof t=="string")t=new URL(t);else if(!wj(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Zat(t)}function Zat(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(e)}const X7=["history","path","basename","stem","extname","dirname"];class Mre{constructor(e){let n;e?wj(e)?n={path:e}:typeof e=="string"||Jat(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Kat.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<X7.length;){const i=X7[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)X7.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?fd.basename(this.path):void 0}set basename(e){Z7(e,"basename"),Q7(e,"basename"),this.path=fd.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?fd.dirname(this.path):void 0}set dirname(e){KW(this.basename,"dirname"),this.path=fd.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?fd.extname(this.path):void 0}set extname(e){if(Q7(e,"extname"),KW(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=fd.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){wj(e)&&(e=Qat(e)),Z7(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?fd.basename(this.path,this.extname):void 0}set stem(e){Z7(e,"stem"),Q7(e,"stem"),this.path=fd.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const a=this.message(e,n,r);throw a.fatal=!0,a}info(e,n,r){const a=this.message(e,n,r);return a.fatal=void 0,a}message(e,n,r){const a=new Xs(e,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Q7(t,e){if(t&&t.includes(fd.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+fd.sep+"`")}function Z7(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function KW(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Jat(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const eit=(function(t){const r=this.constructor.prototype,a=r[t],i=function(){return a.apply(i,arguments)};return Object.setPrototypeOf(i,r),i}),tit={}.hasOwnProperty;class gN extends eit{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Hat()}copy(){const e=new gN;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(K7(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(tk("data",this.frozen),this.namespace[e]=n,this):tit.call(this.namespace,e)&&this.namespace[e]||void 0:e?(tk("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(e,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=x4(e),r=this.parser||this.Parser;return J7("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),J7("process",this.parser||this.Parser),ek("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,s){const o=x4(e),l=r.parse(o);r.run(l,o,function(d,h,m){if(d||!h||!m)return u(d);const y=h,x=r.stringify(y,m);ait(x)?m.value=x:m.result=x,u(d,m)});function u(d,h){d||!h?s(d):i?i(h):n(void 0,h)}}}processSync(e){let n=!1,r;return this.freeze(),J7("processSync",this.parser||this.Parser),ek("processSync",this.compiler||this.Compiler),this.process(e,a),QW("processSync","process",n),r;function a(i,s){n=!0,WW(i),r=s}}run(e,n,r){XW(e),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(s,o){const l=x4(n);a.run(e,l,u);function u(d,h,m){const y=h||e;d?o(d):s?s(y):r(void 0,y,m)}}}runSync(e,n){let r=!1,a;return this.run(e,n,i),QW("runSync","run",r),a;function i(s,o){WW(s),a=o,r=!0}}stringify(e,n){this.freeze();const r=x4(n),a=this.compiler||this.Compiler;return ek("stringify",a),XW(e),a(e,r)}use(e,...n){const r=this.attachers,a=this.namespace;if(tk("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function i(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;l(d,h)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(a.settings=K7(!0,a.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];i(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let h=-1,m=-1;for(;++h<r.length;)if(r[h][0]===u){m=h;break}if(m===-1)r.push([u,...d]);else if(d.length>0){let[y,...x]=d;const v=r[m][1];Cj(v)&&Cj(y)&&(y=K7(!0,v,y)),r[m]=[u,y,...x]}}}}const nit=new gN().freeze();function J7(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function ek(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function tk(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function XW(t){if(!Cj(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function QW(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function x4(t){return rit(t)?t:new Mre(t)}function rit(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function ait(t){return typeof t=="string"||iit(t)}function iit(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const sit="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ZW=[],JW={allowDangerousHtml:!0},oit=/^(https?|ircs?|mailto|xmpp)$/i,lit=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function cit(t){const e=uit(t),n=dit(t);return fit(e.runSync(e.parse(n),n),t)}function uit(t){const e=t.rehypePlugins||ZW,n=t.remarkPlugins||ZW,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...JW}:JW;return nit().use(Grt).use(n).use(zat,r).use(e)}function dit(t){const e=t.children||"",n=new Mre;return typeof e=="string"&&(n.value=e),n}function fit(t,e){const n=e.allowedElements,r=e.allowElement,a=e.components,i=e.disallowedElements,s=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||hit;for(const d of lit)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+sit+d.id,void 0);return Gw(t,u),Att(t,{Fragment:c.Fragment,components:a,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(d,h,m){if(d.type==="raw"&&m&&typeof h=="number")return s?m.children.splice(h,1):m.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let y;for(y in q7)if(Object.hasOwn(q7,y)&&Object.hasOwn(d.properties,y)){const x=d.properties[y],v=q7[y];(v===null||v.includes(d.tagName))&&(d.properties[y]=l(String(x||""),y,d))}}if(d.type==="element"){let y=n?!n.includes(d.tagName):i?i.includes(d.tagName):!1;if(!y&&r&&typeof h=="number"&&(y=!r(d,h,m)),y&&m&&typeof h=="number")return o&&d.children?m.children.splice(h,1,...d.children):m.children.splice(h,1),h}}}function hit(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),a=t.indexOf("/");return e===-1||a!==-1&&e>a||n!==-1&&e>n||r!==-1&&e>r||oit.test(t.slice(0,e))?t:""}function eY(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(e);for(;a!==-1;)r++,a=n.indexOf(e,a+e.length);return r}function pit(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function mit(t,e,n){const a=Uw((n||{}).ignore||[]),i=git(e);let s=-1;for(;++s<i.length;)Nre(t,"text",o);function o(u,d){let h=-1,m;for(;++h<d.length;){const y=d[h],x=m?m.children:void 0;if(a(y,x?x.indexOf(y):void 0,m))return;m=y}if(m)return l(u,d)}function l(u,d){const h=d[d.length-1],m=i[s][0],y=i[s][1];let x=0;const _=h.children.indexOf(u);let C=!1,w=[];m.lastIndex=0;let T=m.exec(u.value);for(;T;){const E=T.index,k={index:T.index,input:T.input,stack:[...d,u]};let j=y(...T,k);if(typeof j=="string"&&(j=j.length>0?{type:"text",value:j}:void 0),j===!1?m.lastIndex=E+1:(x!==E&&w.push({type:"text",value:u.value.slice(x,E)}),Array.isArray(j)?w.push(...j):j&&w.push(j),x=E+T[0].length,C=!0),!m.global)break;T=m.exec(u.value)}return C?(x<u.value.length&&w.push({type:"text",value:u.value.slice(x)}),h.children.splice(_,1,...w)):w=[u],_+w.length}}function git(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const a=n[r];e.push([yit(a[0]),bit(a[1])])}return e}function yit(t){return typeof t=="string"?new RegExp(pit(t),"g"):t}function bit(t){return typeof t=="function"?t:function(){return t}}const nk="phrasing",rk=["autolink","link","image","label"];function xit(){return{transforms:[Tit],enter:{literalAutolink:Sit,literalAutolinkEmail:ak,literalAutolinkHttp:ak,literalAutolinkWww:ak},exit:{literalAutolink:Eit,literalAutolinkEmail:wit,literalAutolinkHttp:_it,literalAutolinkWww:Cit}}}function vit(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:nk,notInConstruct:rk},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:nk,notInConstruct:rk},{character:":",before:"[ps]",after:"\\/",inConstruct:nk,notInConstruct:rk}]}}function Sit(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function ak(t){this.config.enter.autolinkProtocol.call(this,t)}function _it(t){this.config.exit.autolinkProtocol.call(this,t)}function Cit(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function wit(t){this.config.exit.autolinkEmail.call(this,t)}function Eit(t){this.exit(t)}function Tit(t){mit(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Ait],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Rit]],{ignore:["link","linkReference"]})}function Ait(t,e,n,r,a){let i="";if(!Pre(a)||(/^w/i.test(e)&&(n=e+n,e="",i="http://"),!kit(n)))return!1;const s=Iit(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:i+e+s[0],children:[{type:"text",value:e+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function Rit(t,e,n,r){return!Pre(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function kit(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Iit(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const a=eY(t,"(");let i=eY(t,")");for(;r!==-1&&a>i;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[t,n]}function Pre(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Ag(n)||Fw(n))&&(!e||n!==47)}Lre.peek=Fit;function jit(){this.buffer()}function Oit(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function Dit(){this.buffer()}function Nit(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function Mit(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=mu(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Pit(t){this.exit(t)}function Lit(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=mu(this.sliceSerialize(t)).toLowerCase(),n.label=e}function zit(t){this.exit(t)}function Fit(){return"["}function Lre(t,e,n,r){const a=n.createTracker(r);let i=a.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return i+=a.move(n.safe(n.associationId(t),{after:"]",before:i})),o(),s(),i+=a.move("]"),i}function Bit(){return{enter:{gfmFootnoteCallString:jit,gfmFootnoteCall:Oit,gfmFootnoteDefinitionLabelString:Dit,gfmFootnoteDefinition:Nit},exit:{gfmFootnoteCallString:Mit,gfmFootnoteCall:Pit,gfmFootnoteDefinitionLabelString:Lit,gfmFootnoteDefinition:zit}}}function Hit(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:Lre},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,i,s){const o=i.createTracker(s);let l=o.move("[^");const u=i.enter("footnoteDefinition"),d=i.enter("label");return l+=o.move(i.safe(i.associationId(r),{before:l,after:"]"})),d(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((e?`
`:" ")+i.indentLines(i.containerFlow(r,o.current()),e?zre:Uit))),u(),l}}function Uit(t,e,n){return e===0?t:zre(t,e,n)}function zre(t,e,n){return(n?"":"    ")+t}const $it=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Fre.peek=Yit;function Git(){return{canContainEols:["delete"],enter:{strikethrough:Vit},exit:{strikethrough:Wit}}}function qit(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:$it}],handlers:{delete:Fre}}}function Vit(t){this.enter({type:"delete",children:[]},t)}function Wit(t){this.exit(t)}function Fre(t,e,n,r){const a=n.createTracker(r),i=n.enter("strikethrough");let s=a.move("~~");return s+=n.containerPhrasing(t,{...a.current(),before:s,after:"~"}),s+=a.move("~~"),i(),s}function Yit(){return"~"}function Kit(t){return t.length}function Xit(t,e){const n=e||{},r=(n.align||[]).concat(),a=n.stringLength||Kit,i=[],s=[],o=[],l=[];let u=0,d=-1;for(;++d<t.length;){const v=[],_=[];let C=-1;for(t[d].length>u&&(u=t[d].length);++C<t[d].length;){const w=Qit(t[d][C]);if(n.alignDelimiters!==!1){const T=a(w);_[C]=T,(l[C]===void 0||T>l[C])&&(l[C]=T)}v.push(w)}s[d]=v,o[d]=_}let h=-1;if(typeof r=="object"&&"length"in r)for(;++h<u;)i[h]=tY(r[h]);else{const v=tY(r);for(;++h<u;)i[h]=v}h=-1;const m=[],y=[];for(;++h<u;){const v=i[h];let _="",C="";v===99?(_=":",C=":"):v===108?_=":":v===114&&(C=":");let w=n.alignDelimiters===!1?1:Math.max(1,l[h]-_.length-C.length);const T=_+"-".repeat(w)+C;n.alignDelimiters!==!1&&(w=_.length+w+C.length,w>l[h]&&(l[h]=w),y[h]=w),m[h]=T}s.splice(1,0,m),o.splice(1,0,y),d=-1;const x=[];for(;++d<s.length;){const v=s[d],_=o[d];h=-1;const C=[];for(;++h<u;){const w=v[h]||"";let T="",E="";if(n.alignDelimiters!==!1){const k=l[h]-(_[h]||0),j=i[h];j===114?T=" ".repeat(k):j===99?k%2?(T=" ".repeat(k/2+.5),E=" ".repeat(k/2-.5)):(T=" ".repeat(k/2),E=T):E=" ".repeat(k)}n.delimiterStart!==!1&&!h&&C.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&w==="")&&(n.delimiterStart!==!1||h)&&C.push(" "),n.alignDelimiters!==!1&&C.push(T),C.push(w),n.alignDelimiters!==!1&&C.push(E),n.padding!==!1&&C.push(" "),(n.delimiterEnd!==!1||h!==u-1)&&C.push("|")}x.push(n.delimiterEnd===!1?C.join("").replace(/ +$/,""):C.join(""))}return x.join(`
`)}function Qit(t){return t==null?"":String(t)}function tY(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}const nY={}.hasOwnProperty;function Bre(t,e){const n=e||{};function r(a,...i){let s=r.invalid;const o=r.handlers;if(a&&nY.call(a,t)){const l=String(a[t]);s=nY.call(o,l)?o[l]:r.unknown}if(s)return s.call(this,a,...i)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function Zit(t,e,n,r){const a=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const s=n.indentLines(n.containerFlow(t,i.current()),Jit);return a(),s}function Jit(t,e,n){return">"+(n?"":" ")+t}function est(t,e){return rY(t,e.inConstruct,!0)&&!rY(t,e.notInConstruct,!1)}function rY(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function aY(t,e,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&est(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function tst(t,e){const n=String(t);let r=n.indexOf(e),a=r,i=0,s=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++i>s&&(s=i):i=1,a=r+e.length,r=n.indexOf(e,a);return s}function nst(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function rst(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function ast(t,e,n,r){const a=rst(n),i=t.value||"",s=a==="`"?"GraveAccent":"Tilde";if(nst(t,n)){const h=n.enter("codeIndented"),m=n.indentLines(i,ist);return h(),m}const o=n.createTracker(r),l=a.repeat(Math.max(tst(i,a)+1,3)),u=n.enter("codeFenced");let d=o.move(l);if(t.lang){const h=n.enter(`codeFencedLang${s}`);d+=o.move(n.safe(t.lang,{before:d,after:" ",encode:["`"],...o.current()})),h()}if(t.lang&&t.meta){const h=n.enter(`codeFencedMeta${s}`);d+=o.move(" "),d+=o.move(n.safe(t.meta,{before:d,after:`
`,encode:["`"],...o.current()})),h()}return d+=o.move(`
`),i&&(d+=o.move(i+`
`)),d+=o.move(l),u(),d}function ist(t,e,n){return(n?"":"    ")+t}function yN(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function sst(t,e,n,r){const a=yN(n),i=a==='"'?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(t),{before:u,after:"]",...l.current()})),u+=l.move("]: "),o(),!t.url||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...l.current()}))),o(),t.title&&(o=n.enter(`title${i}`),u+=l.move(" "+a),u+=l.move(n.safe(t.title,{before:u,after:a,...l.current()})),u+=l.move(a),o()),s(),u}function ost(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Lv(t){return"&#x"+t.toString(16).toUpperCase()+";"}function QC(t,e,n){const r=my(t),a=my(e);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Hre.peek=lst;function Hre(t,e,n,r){const a=ost(n),i=n.enter("emphasis"),s=n.createTracker(r),o=s.move(a);let l=s.move(n.containerPhrasing(t,{after:a,before:o,...s.current()}));const u=l.charCodeAt(0),d=QC(r.before.charCodeAt(r.before.length-1),u,a);d.inside&&(l=Lv(u)+l.slice(1));const h=l.charCodeAt(l.length-1),m=QC(r.after.charCodeAt(0),h,a);m.inside&&(l=l.slice(0,-1)+Lv(h));const y=s.move(a);return i(),n.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},o+l+y}function lst(t,e,n){return n.options.emphasis||"*"}function cst(t,e){let n=!1;return Gw(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Sj}),!!((!t.depth||t.depth<3)&&cN(t)&&(e.options.setext||n))}function ust(t,e,n,r){const a=Math.max(Math.min(6,t.depth||1),1),i=n.createTracker(r);if(cst(t,n)){const d=n.enter("headingSetext"),h=n.enter("phrasing"),m=n.containerPhrasing(t,{...i.current(),before:`
`,after:`
`});return h(),d(),m+`
`+(a===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf(`
`))+1))}const s="#".repeat(a),o=n.enter("headingAtx"),l=n.enter("phrasing");i.move(s+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(u)&&(u=Lv(u.charCodeAt(0))+u.slice(1)),u=u?s+" "+u:s,n.options.closeAtx&&(u+=" "+s),l(),o(),u}Ure.peek=dst;function Ure(t){return t.value||""}function dst(){return"<"}$re.peek=fst;function $re(t,e,n,r){const a=yN(n),i=a==='"'?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(t.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),o(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":")",...l.current()}))),o(),t.title&&(o=n.enter(`title${i}`),u+=l.move(" "+a),u+=l.move(n.safe(t.title,{before:u,after:a,...l.current()})),u+=l.move(a),o()),u+=l.move(")"),s(),u}function fst(){return"!"}Gre.peek=hst;function Gre(t,e,n,r){const a=t.referenceType,i=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const u=n.safe(t.alt,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...o.current()});return s(),n.stack=d,i(),a==="full"||!u||u!==h?l+=o.move(h+"]"):a==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function hst(){return"!"}qre.peek=pst;function qre(t,e,n){let r=t.value||"",a="`",i=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const s=n.unsafe[i],o=n.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return a+r+a}function pst(){return"`"}function Vre(t,e){const n=cN(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Wre.peek=mst;function Wre(t,e,n,r){const a=yN(n),i=a==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let o,l;if(Vre(t,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let h=s.move("<");return h+=s.move(n.containerPhrasing(t,{before:h,after:">",...s.current()})),h+=s.move(">"),o(),n.stack=d,h}o=n.enter("link"),l=n.enter("label");let u=s.move("[");return u+=s.move(n.containerPhrasing(t,{before:u,after:"](",...s.current()})),u+=s.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(t.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(l=n.enter("destinationRaw"),u+=s.move(n.safe(t.url,{before:u,after:t.title?" ":")",...s.current()}))),l(),t.title&&(l=n.enter(`title${i}`),u+=s.move(" "+a),u+=s.move(n.safe(t.title,{before:u,after:a,...s.current()})),u+=s.move(a),l()),u+=s.move(")"),o(),u}function mst(t,e,n){return Vre(t,n)?"<":"["}Yre.peek=gst;function Yre(t,e,n,r){const a=t.referenceType,i=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const u=n.containerPhrasing(t,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...o.current()});return s(),n.stack=d,i(),a==="full"||!u||u!==h?l+=o.move(h+"]"):a==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function gst(){return"["}function bN(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function yst(t){const e=bN(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function bst(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Kre(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function xst(t,e,n,r){const a=n.enter("list"),i=n.bulletCurrent;let s=t.ordered?bst(n):bN(n);const o=t.ordered?s==="."?")":".":yst(n);let l=e&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!t.ordered){const d=t.children?t.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),Kre(n)===s&&d){let h=-1;for(;++h<t.children.length;){const m=t.children[h];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),n.bulletCurrent=s;const u=n.containerFlow(t,r);return n.bulletLastUsed=s,n.bulletCurrent=i,a(),u}function vst(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Sst(t,e,n,r){const a=vst(n);let i=n.bulletCurrent||bN(n);e&&e.type==="list"&&e.ordered&&(i=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+i);let s=i.length+1;(a==="tab"||a==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(i+" ".repeat(s-i.length)),o.shift(s);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,o.current()),d);return l(),u;function d(h,m,y){return m?(y?"":" ".repeat(s))+h:(y?i:i+" ".repeat(s-i.length))+h}}function _st(t,e,n,r){const a=n.enter("paragraph"),i=n.enter("phrasing"),s=n.containerPhrasing(t,r);return i(),a(),s}const Cst=Uw(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function wst(t,e,n,r){return(t.children.some(function(s){return Cst(s)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function Est(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Xre.peek=Tst;function Xre(t,e,n,r){const a=Est(n),i=n.enter("strong"),s=n.createTracker(r),o=s.move(a+a);let l=s.move(n.containerPhrasing(t,{after:a,before:o,...s.current()}));const u=l.charCodeAt(0),d=QC(r.before.charCodeAt(r.before.length-1),u,a);d.inside&&(l=Lv(u)+l.slice(1));const h=l.charCodeAt(l.length-1),m=QC(r.after.charCodeAt(0),h,a);m.inside&&(l=l.slice(0,-1)+Lv(h));const y=s.move(a+a);return i(),n.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},o+l+y}function Tst(t,e,n){return n.options.strong||"*"}function Ast(t,e,n,r){return n.safe(t.value,r)}function Rst(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function kst(t,e,n){const r=(Kre(n)+(n.options.ruleSpaces?" ":"")).repeat(Rst(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Qre={blockquote:Zit,break:aY,code:ast,definition:sst,emphasis:Hre,hardBreak:aY,heading:ust,html:Ure,image:$re,imageReference:Gre,inlineCode:qre,link:Wre,linkReference:Yre,list:xst,listItem:Sst,paragraph:_st,root:wst,strong:Xre,text:Ast,thematicBreak:kst};function Ist(){return{enter:{table:jst,tableData:iY,tableHeader:iY,tableRow:Dst},exit:{codeText:Nst,table:Ost,tableData:ik,tableHeader:ik,tableRow:ik}}}function jst(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function Ost(t){this.exit(t),this.data.inTable=void 0}function Dst(t){this.enter({type:"tableRow",children:[]},t)}function ik(t){this.exit(t)}function iY(t){this.enter({type:"tableCell",children:[]},t)}function Nst(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,Mst));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function Mst(t,e){return e==="|"?e:t}function Pst(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,a=e.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:m,table:s,tableCell:l,tableRow:o}};function s(y,x,v,_){return u(d(y,v,_),y.align)}function o(y,x,v,_){const C=h(y,v,_),w=u([C]);return w.slice(0,w.indexOf(`
`))}function l(y,x,v,_){const C=v.enter("tableCell"),w=v.enter("phrasing"),T=v.containerPhrasing(y,{..._,before:i,after:i});return w(),C(),T}function u(y,x){return Xit(y,{align:x,alignDelimiters:r,padding:n,stringLength:a})}function d(y,x,v){const _=y.children;let C=-1;const w=[],T=x.enter("table");for(;++C<_.length;)w[C]=h(_[C],x,v);return T(),w}function h(y,x,v){const _=y.children;let C=-1;const w=[],T=x.enter("tableRow");for(;++C<_.length;)w[C]=l(_[C],y,x,v);return T(),w}function m(y,x,v){let _=Qre.inlineCode(y,x,v);return v.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_}}function Lst(){return{exit:{taskListCheckValueChecked:sY,taskListCheckValueUnchecked:sY,paragraph:Fst}}}function zst(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Bst}}}function sY(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function Fst(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=e.children;let i=-1,s;for(;++i<a.length;){const o=a[i];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function Bst(t,e,n,r){const a=t.children[0],i=typeof t.checked=="boolean"&&a&&a.type==="paragraph",s="["+(t.checked?"x":" ")+"] ",o=n.createTracker(r);i&&o.move(s);let l=Qre.listItem(t,e,n,{...r,...o.current()});return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(d){return d+s}}function Hst(){return[xit(),Bit(),Git(),Ist(),Lst()]}function Ust(t){return{extensions:[vit(),Hit(t),qit(),Pst(t),zst()]}}const $st={tokenize:Kst,partial:!0},Zre={tokenize:Xst,partial:!0},Jre={tokenize:Qst,partial:!0},eae={tokenize:Zst,partial:!0},Gst={tokenize:Jst,partial:!0},tae={name:"wwwAutolink",tokenize:Wst,previous:rae},nae={name:"protocolAutolink",tokenize:Yst,previous:aae},Qf={name:"emailAutolink",tokenize:Vst,previous:iae},Ud={};function qst(){return{text:Ud}}let Im=48;for(;Im<123;)Ud[Im]=Qf,Im++,Im===58?Im=65:Im===91&&(Im=97);Ud[43]=Qf;Ud[45]=Qf;Ud[46]=Qf;Ud[95]=Qf;Ud[72]=[Qf,nae];Ud[104]=[Qf,nae];Ud[87]=[Qf,tae];Ud[119]=[Qf,tae];function Vst(t,e,n){const r=this;let a,i;return s;function s(h){return!Ej(h)||!iae.call(r,r.previous)||xN(r.events)?n(h):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),o(h))}function o(h){return Ej(h)?(t.consume(h),o):h===64?(t.consume(h),l):n(h)}function l(h){return h===46?t.check(Gst,d,u)(h):h===45||h===95||qs(h)?(i=!0,t.consume(h),l):d(h)}function u(h){return t.consume(h),a=!0,l}function d(h){return i&&a&&yo(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(h)):n(h)}}function Wst(t,e,n){const r=this;return a;function a(s){return s!==87&&s!==119||!rae.call(r,r.previous)||xN(r.events)?n(s):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check($st,t.attempt(Zre,t.attempt(Jre,i),n),n)(s))}function i(s){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(s)}}function Yst(t,e,n){const r=this;let a="",i=!1;return s;function s(h){return(h===72||h===104)&&aae.call(r,r.previous)&&!xN(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),a+=String.fromCodePoint(h),t.consume(h),o):n(h)}function o(h){if(yo(h)&&a.length<5)return a+=String.fromCodePoint(h),t.consume(h),o;if(h===58){const m=a.toLowerCase();if(m==="http"||m==="https")return t.consume(h),l}return n(h)}function l(h){return h===47?(t.consume(h),i?u:(i=!0,l)):n(h)}function u(h){return h===null||KC(h)||Yr(h)||Ag(h)||Fw(h)?n(h):t.attempt(Zre,t.attempt(Jre,d),n)(h)}function d(h){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(h)}}function Kst(t,e,n){let r=0;return a;function a(s){return(s===87||s===119)&&r<3?(r++,t.consume(s),a):s===46&&r===3?(t.consume(s),i):n(s)}function i(s){return s===null?n(s):e(s)}}function Xst(t,e,n){let r,a,i;return s;function s(u){return u===46||u===95?t.check(eae,l,o)(u):u===null||Yr(u)||Ag(u)||u!==45&&Fw(u)?l(u):(i=!0,t.consume(u),s)}function o(u){return u===95?r=!0:(a=r,r=void 0),t.consume(u),s}function l(u){return a||r||!i?n(u):e(u)}}function Qst(t,e){let n=0,r=0;return a;function a(s){return s===40?(n++,t.consume(s),a):s===41&&r<n?i(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?t.check(eae,e,i)(s):s===null||Yr(s)||Ag(s)?e(s):(t.consume(s),a)}function i(s){return s===41&&r++,t.consume(s),a}}function Zst(t,e,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(t.consume(o),r):o===38?(t.consume(o),i):o===93?(t.consume(o),a):o===60||o===null||Yr(o)||Ag(o)?e(o):n(o)}function a(o){return o===null||o===40||o===91||Yr(o)||Ag(o)?e(o):r(o)}function i(o){return yo(o)?s(o):n(o)}function s(o){return o===59?(t.consume(o),r):yo(o)?(t.consume(o),s):n(o)}}function Jst(t,e,n){return r;function r(i){return t.consume(i),a}function a(i){return qs(i)?n(i):e(i)}}function rae(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Yr(t)}function aae(t){return!yo(t)}function iae(t){return!(t===47||Ej(t))}function Ej(t){return t===43||t===45||t===46||t===95||qs(t)}function xN(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const eot={tokenize:lot,partial:!0};function tot(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:iot,continuation:{tokenize:sot},exit:oot}},text:{91:{name:"gfmFootnoteCall",tokenize:aot},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:not,resolveTo:rot}}}}function not(t,e,n){const r=this;let a=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;a--;){const l=r.events[a][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return n(l);const u=mu(r.sliceSerialize({start:s.end,end:r.now()}));return u.codePointAt(0)!==94||!i.includes(u.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function rot(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},t[t.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},o=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",a,e],["exit",a,e],["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...o),t}function aot(t,e,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,s;return o;function o(h){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),l}function l(h){return h!==94?n(h):(t.enter("gfmFootnoteCallMarker"),t.consume(h),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(h){if(i>999||h===93&&!s||h===null||h===91||Yr(h))return n(h);if(h===93){t.exit("chunkString");const m=t.exit("gfmFootnoteCallString");return a.includes(mu(r.sliceSerialize(m)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(h)}return Yr(h)||(s=!0),i++,t.consume(h),h===92?d:u}function d(h){return h===91||h===92||h===93?(t.consume(h),i++,u):u(h)}}function iot(t,e,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,s=0,o;return l;function l(x){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(x),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(x){return x===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(x),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",d):n(x)}function d(x){if(s>999||x===93&&!o||x===null||x===91||Yr(x))return n(x);if(x===93){t.exit("chunkString");const v=t.exit("gfmFootnoteDefinitionLabelString");return i=mu(r.sliceSerialize(v)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(x),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),m}return Yr(x)||(o=!0),s++,t.consume(x),x===92?h:d}function h(x){return x===91||x===92||x===93?(t.consume(x),s++,d):d(x)}function m(x){return x===58?(t.enter("definitionMarker"),t.consume(x),t.exit("definitionMarker"),a.includes(i)||a.push(i),ur(t,y,"gfmFootnoteDefinitionWhitespace")):n(x)}function y(x){return e(x)}}function sot(t,e,n){return t.check(_S,e,t.attempt(eot,e,n))}function oot(t){t.exit("gfmFootnoteDefinition")}function lot(t,e,n){const r=this;return ur(t,a,"gfmFootnoteDefinitionIndent",5);function a(i){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?e(i):n(i)}}function cot(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:i,resolveAll:a};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function a(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let u=l;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[l][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[l][1].end)},h={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[l][1].start)},m=[["enter",d,o],["enter",s[u][1],o],["exit",s[u][1],o],["enter",h,o]],y=o.parser.constructs.insideSpan.null;y&&Il(m,m.length,0,Bw(y,s.slice(u+1,l),o)),Il(m,m.length,0,[["exit",h,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",d,o]]),Il(s,u-1,l-u+3,m),l=u+m.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function i(s,o,l){const u=this.previous,d=this.events;let h=0;return m;function m(x){return u===126&&d[d.length-1][1].type!=="characterEscape"?l(x):(s.enter("strikethroughSequenceTemporary"),y(x))}function y(x){const v=my(u);if(x===126)return h>1?l(x):(s.consume(x),h++,y);if(h<2&&!n)return l(x);const _=s.exit("strikethroughSequenceTemporary"),C=my(x);return _._open=!C||C===2&&!!v,_._close=!v||v===2&&!!C,o(x)}}}class uot{constructor(){this.map=[]}add(e,n,r){dot(this,e,n,r)}consume(e){if(this.map.sort(function(i,s){return i[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let a=r.pop();for(;a;){for(const i of a)e.push(i);a=r.pop()}this.map.length=0}}function dot(t,e,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<t.map.length;){if(t.map[a][0]===e){t.map[a][1]+=n,t.map[a][2].push(...r);return}a+=1}t.map.push([e,n,r])}}function fot(t,e){let n=!1;const r=[];for(;e<t.length;){const a=t[e];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function hot(){return{flow:{null:{name:"table",tokenize:pot,resolveAll:mot}}}}function pot(t,e,n){const r=this;let a=0,i=0,s;return o;function o(N){let U=r.events.length-1;for(;U>-1;){const D=r.events[U][1].type;if(D==="lineEnding"||D==="linePrefix")U--;else break}const F=U>-1?r.events[U][1].type:null,$=F==="tableHead"||F==="tableRow"?j:l;return $===j&&r.parser.lazy[r.now().line]?n(N):$(N)}function l(N){return t.enter("tableHead"),t.enter("tableRow"),u(N)}function u(N){return N===124||(s=!0,i+=1),d(N)}function d(N){return N===null?n(N):pn(N)?i>1?(i=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),y):n(N):er(N)?ur(t,d,"whitespace")(N):(i+=1,s&&(s=!1,a+=1),N===124?(t.enter("tableCellDivider"),t.consume(N),t.exit("tableCellDivider"),s=!0,d):(t.enter("data"),h(N)))}function h(N){return N===null||N===124||Yr(N)?(t.exit("data"),d(N)):(t.consume(N),N===92?m:h)}function m(N){return N===92||N===124?(t.consume(N),h):h(N)}function y(N){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(N):(t.enter("tableDelimiterRow"),s=!1,er(N)?ur(t,x,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):x(N))}function x(N){return N===45||N===58?_(N):N===124?(s=!0,t.enter("tableCellDivider"),t.consume(N),t.exit("tableCellDivider"),v):k(N)}function v(N){return er(N)?ur(t,_,"whitespace")(N):_(N)}function _(N){return N===58?(i+=1,s=!0,t.enter("tableDelimiterMarker"),t.consume(N),t.exit("tableDelimiterMarker"),C):N===45?(i+=1,C(N)):N===null||pn(N)?E(N):k(N)}function C(N){return N===45?(t.enter("tableDelimiterFiller"),w(N)):k(N)}function w(N){return N===45?(t.consume(N),w):N===58?(s=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(N),t.exit("tableDelimiterMarker"),T):(t.exit("tableDelimiterFiller"),T(N))}function T(N){return er(N)?ur(t,E,"whitespace")(N):E(N)}function E(N){return N===124?x(N):N===null||pn(N)?!s||a!==i?k(N):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(N)):k(N)}function k(N){return n(N)}function j(N){return t.enter("tableRow"),O(N)}function O(N){return N===124?(t.enter("tableCellDivider"),t.consume(N),t.exit("tableCellDivider"),O):N===null||pn(N)?(t.exit("tableRow"),e(N)):er(N)?ur(t,O,"whitespace")(N):(t.enter("data"),z(N))}function z(N){return N===null||N===124||Yr(N)?(t.exit("data"),O(N)):(t.consume(N),N===92?M:z)}function M(N){return N===92||N===124?(t.consume(N),z):z(N)}}function mot(t,e){let n=-1,r=!0,a=0,i=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,u,d,h;const m=new uot;for(;++n<t.length;){const y=t[n],x=y[1];y[0]==="enter"?x.type==="tableHead"?(o=!1,l!==0&&(oY(m,e,l,u,d),d=void 0,l=0),u={type:"table",start:Object.assign({},x.start),end:Object.assign({},x.end)},m.add(n,0,[["enter",u,e]])):x.type==="tableRow"||x.type==="tableDelimiterRow"?(r=!0,h=void 0,i=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},x.start),end:Object.assign({},x.end)},m.add(n,0,[["enter",d,e]])),a=x.type==="tableDelimiterRow"?2:d?3:1):a&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(i[1]!==0&&(s[0]=s[1],h=v4(m,e,i,a,void 0,h),i=[0,0,0,0]),s[2]=n)):x.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(s[0]=s[1],h=v4(m,e,i,a,void 0,h)),i=s,s=[i[1],n,0,0])):x.type==="tableHead"?(o=!0,l=n):x.type==="tableRow"||x.type==="tableDelimiterRow"?(l=n,i[1]!==0?(s[0]=s[1],h=v4(m,e,i,a,n,h)):s[1]!==0&&(h=v4(m,e,s,a,n,h)),a=0):a&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&oY(m,e,l,u,d),m.consume(e.events),n=-1;++n<e.events.length;){const y=e.events[n];y[0]==="enter"&&y[1].type==="table"&&(y[1]._align=fot(e.events,n))}return t}function v4(t,e,n,r,a,i){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(i.end=Object.assign({},A1(e.events,n[0])),t.add(n[0],0,[["exit",i,e]]));const l=A1(e.events,n[1]);if(i={type:s,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",i,e]]),n[2]!==0){const u=A1(e.events,n[2]),d=A1(e.events,n[3]),h={type:o,start:Object.assign({},u),end:Object.assign({},d)};if(t.add(n[2],0,[["enter",h,e]]),r!==2){const m=e.events[n[2]],y=e.events[n[3]];if(m[1].end=Object.assign({},y[1].end),m[1].type="chunkText",m[1].contentType="text",n[3]>n[2]+1){const x=n[2]+1,v=n[3]-n[2]-1;t.add(x,v,[])}}t.add(n[3]+1,0,[["exit",h,e]])}return a!==void 0&&(i.end=Object.assign({},A1(e.events,a)),t.add(a,0,[["exit",i,e]]),i=void 0),i}function oY(t,e,n,r,a){const i=[],s=A1(e.events,n);a&&(a.end=Object.assign({},s),i.push(["exit",a,e])),r.end=Object.assign({},s),i.push(["exit",r,e]),t.add(n+1,0,i)}function A1(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const got={name:"tasklistCheck",tokenize:bot};function yot(){return{text:{91:got}}}function bot(t,e,n){const r=this;return a;function a(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),i)}function i(l){return Yr(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),o):n(l)}function o(l){return pn(l)?e(l):er(l)?t.check({tokenize:xot},e,n)(l):n(l)}}function xot(t,e,n){return ur(t,r,"whitespace");function r(a){return a===null?n(a):e(a)}}function vot(t){return mre([qst(),tot(),cot(t),hot(),yot()])}const Sot={};function _ot(t){const e=this,n=t||Sot,r=e.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(vot(n)),i.push(Hst()),s.push(Ust(n))}const lY=/[#.]/g;function Cot(t,e){const n=t||"",r={};let a=0,i,s;for(;a<n.length;){lY.lastIndex=a;const o=lY.exec(n),l=n.slice(a,o?o.index:n.length);l&&(i?i==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:s=l,a+=l.length),o&&(i=o[0],a++)}return{type:"element",tagName:s||e||"div",properties:r,children:[]}}function sae(t,e,n){const r=n?Aot(n):void 0;function a(i,s,...o){let l;if(i==null){l={type:"root",children:[]};const u=s;o.unshift(u)}else{l=Cot(i,e);const u=l.tagName.toLowerCase(),d=r?r.get(u):void 0;if(l.tagName=d||u,wot(s))o.unshift(s);else for(const[h,m]of Object.entries(s))Eot(t,l.properties,h,m)}for(const u of o)Tj(l.children,u);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return a}function wot(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const r of n){const a=e[r];if(a&&typeof a=="object"){if(!Array.isArray(a))return!0;const i=a;for(const s of i)if(typeof s!="number"&&typeof s!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function Eot(t,e,n,r){const a=iN(t,n);let i;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;i=r}else typeof r=="boolean"?i=r:typeof r=="string"?a.spaceSeparated?i=SW(r):a.commaSeparated?i=gW(r):a.commaOrSpaceSeparated?i=SW(gW(r).join(" ")):i=cY(a,a.property,r):Array.isArray(r)?i=[...r]:i=a.property==="style"?Tot(r):String(r);if(Array.isArray(i)){const s=[];for(const o of i)s.push(cY(a,a.property,o));i=s}a.property==="className"&&Array.isArray(e.className)&&(i=e.className.concat(i)),e[a.property]=i}}function Tj(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)Tj(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?Tj(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function cY(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||Mv(n)===Mv(e)))return!0}return n}function Tot(t){const e=[];for(const[n,r]of Object.entries(t))e.push([n,r].join(": "));return e.join("; ")}function Aot(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const Rot=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],kot=sae(Lw,"div"),Iot=sae(Gy,"g",Rot);function jot(t){const e=String(t),n=[];return{toOffset:a,toPoint:r};function r(i){if(typeof i=="number"&&i>-1&&i<=e.length){let s=0;for(;;){let o=n[s];if(o===void 0){const l=uY(e,n[s-1]);o=l===-1?e.length+1:l+1,n[s]=o}if(o>i)return{line:s+1,column:i-(s>0?n[s-1]:0)+1,offset:i};s++}}}function a(i){if(i&&typeof i.line=="number"&&typeof i.column=="number"&&!Number.isNaN(i.line)&&!Number.isNaN(i.column)){for(;n.length<i.line;){const o=n[n.length-1],l=uY(e,o),u=l===-1?e.length+1:l+1;if(o===u)break;n.push(u)}const s=(i.line>1?n[i.line-2]:0)+i.column-1;if(s<n[i.line-1])return s}}}function uY(t,e){const n=t.indexOf("\r",e),r=t.indexOf(`
`,e);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const tg={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},oae={}.hasOwnProperty,Oot=Object.prototype;function Dot(t,e){const n=e||{};return vN({file:n.file||void 0,location:!1,schema:n.space==="svg"?Gy:Lw,verbose:n.verbose||!1},t)}function vN(t,e){let n;switch(e.nodeName){case"#comment":{const r=e;return n={type:"comment",value:r.data},q4(t,r,n),n}case"#document":case"#document-fragment":{const r=e,a="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:lae(t,e.childNodes),data:{quirksMode:a}},t.file&&t.location){const i=String(t.file),s=jot(i),o=s.toPoint(0),l=s.toPoint(i.length);n.position={start:o,end:l}}return n}case"#documentType":{const r=e;return n={type:"doctype"},q4(t,r,n),n}case"#text":{const r=e;return n={type:"text",value:r.value},q4(t,r,n),n}default:return n=Not(t,e),n}}function lae(t,e){let n=-1;const r=[];for(;++n<e.length;){const a=vN(t,e[n]);r.push(a)}return r}function Not(t,e){const n=t.schema;t.schema=e.namespaceURI===tg.svg?Gy:Lw;let r=-1;const a={};for(;++r<e.attrs.length;){const o=e.attrs[r],l=(o.prefix?o.prefix+":":"")+o.name;oae.call(Oot,l)||(a[l]=o.value)}const s=(t.schema.space==="svg"?Iot:kot)(e.tagName,a,lae(t,e.childNodes));if(q4(t,e,s),s.tagName==="template"){const o=e,l=o.sourceCodeLocation,u=l&&l.startTag&&D1(l.startTag),d=l&&l.endTag&&D1(l.endTag),h=vN(t,o.content);u&&d&&t.file&&(h.position={start:u.end,end:d.start}),s.content=h}return t.schema=n,s}function q4(t,e,n){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&t.file){const r=Mot(t,n,e.sourceCodeLocation);r&&(t.location=!0,n.position=r)}}function Mot(t,e,n){const r=D1(n);if(e.type==="element"){const a=e.children[e.children.length-1];if(r&&!n.endTag&&a&&a.position&&a.position.end&&(r.end=Object.assign({},a.position.end)),t.verbose){const i={};let s;if(n.attrs)for(s in n.attrs)oae.call(n.attrs,s)&&(i[iN(t.schema,s).property]=D1(n.attrs[s]));n.startTag;const o=D1(n.startTag),l=n.endTag?D1(n.endTag):void 0,u={opening:o};l&&(u.closing=l),u.properties=i,e.data={position:u}}}return r}function D1(t){const e=dY({line:t.startLine,column:t.startCol,offset:t.startOffset}),n=dY({line:t.endLine,column:t.endCol,offset:t.endOffset});return e||n?{start:e,end:n}:void 0}function dY(t){return t.line&&t.column?t:void 0}class wS{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}wS.prototype.property={};wS.prototype.normal={};wS.prototype.space=null;function cae(t,e){const n={},r={};let a=-1;for(;++a<t.length;)Object.assign(n,t[a].property),Object.assign(r,t[a].normal);return new wS(n,r,e)}function Aj(t){return t.toLowerCase()}class Fc{constructor(e,n){this.property=e,this.attribute=n}}Fc.prototype.space=null;Fc.prototype.boolean=!1;Fc.prototype.booleanish=!1;Fc.prototype.overloadedBoolean=!1;Fc.prototype.number=!1;Fc.prototype.commaSeparated=!1;Fc.prototype.spaceSeparated=!1;Fc.prototype.commaOrSpaceSeparated=!1;Fc.prototype.mustUseProperty=!1;Fc.prototype.defined=!1;let Pot=0;const Ln=qg(),vi=qg(),uae=qg(),It=qg(),na=qg(),W1=qg(),wl=qg();function qg(){return 2**++Pot}const Rj=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ln,booleanish:vi,commaOrSpaceSeparated:wl,commaSeparated:W1,number:It,overloadedBoolean:uae,spaceSeparated:na},Symbol.toStringTag,{value:"Module"})),sk=Object.keys(Rj);class SN extends Fc{constructor(e,n,r,a){let i=-1;if(super(e,n),fY(this,"space",a),typeof r=="number")for(;++i<sk.length;){const s=sk[i];fY(this,sk[i],(r&Rj[s])===Rj[s])}}}SN.prototype.defined=!0;function fY(t,e,n){n&&(t[e]=n)}const Lot={}.hasOwnProperty;function Vy(t){const e={},n={};let r;for(r in t.properties)if(Lot.call(t.properties,r)){const a=t.properties[r],i=new SN(r,t.transform(t.attributes||{},r),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),e[r]=i,n[Aj(r)]=r,n[Aj(i.attribute)]=r}return new wS(e,n,t.space)}const dae=Vy({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),fae=Vy({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function hae(t,e){return e in t?t[e]:e}function pae(t,e){return hae(t,e.toLowerCase())}const mae=Vy({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:pae,properties:{xmlns:null,xmlnsXLink:null}}),gae=Vy({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:vi,ariaAutoComplete:null,ariaBusy:vi,ariaChecked:vi,ariaColCount:It,ariaColIndex:It,ariaColSpan:It,ariaControls:na,ariaCurrent:null,ariaDescribedBy:na,ariaDetails:null,ariaDisabled:vi,ariaDropEffect:na,ariaErrorMessage:null,ariaExpanded:vi,ariaFlowTo:na,ariaGrabbed:vi,ariaHasPopup:null,ariaHidden:vi,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:na,ariaLevel:It,ariaLive:null,ariaModal:vi,ariaMultiLine:vi,ariaMultiSelectable:vi,ariaOrientation:null,ariaOwns:na,ariaPlaceholder:null,ariaPosInSet:It,ariaPressed:vi,ariaReadOnly:vi,ariaRelevant:null,ariaRequired:vi,ariaRoleDescription:na,ariaRowCount:It,ariaRowIndex:It,ariaRowSpan:It,ariaSelected:vi,ariaSetSize:It,ariaSort:null,ariaValueMax:It,ariaValueMin:It,ariaValueNow:It,ariaValueText:null,role:null}}),zot=Vy({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:pae,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:W1,acceptCharset:na,accessKey:na,action:null,allow:null,allowFullScreen:Ln,allowPaymentRequest:Ln,allowUserMedia:Ln,alt:null,as:null,async:Ln,autoCapitalize:null,autoComplete:na,autoFocus:Ln,autoPlay:Ln,blocking:na,capture:null,charSet:null,checked:Ln,cite:null,className:na,cols:It,colSpan:null,content:null,contentEditable:vi,controls:Ln,controlsList:na,coords:It|W1,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ln,defer:Ln,dir:null,dirName:null,disabled:Ln,download:uae,draggable:vi,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ln,formTarget:null,headers:na,height:It,hidden:Ln,high:It,href:null,hrefLang:null,htmlFor:na,httpEquiv:na,id:null,imageSizes:null,imageSrcSet:null,inert:Ln,inputMode:null,integrity:null,is:null,isMap:Ln,itemId:null,itemProp:na,itemRef:na,itemScope:Ln,itemType:na,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ln,low:It,manifest:null,max:null,maxLength:It,media:null,method:null,min:null,minLength:It,multiple:Ln,muted:Ln,name:null,nonce:null,noModule:Ln,noValidate:Ln,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ln,optimum:It,pattern:null,ping:na,placeholder:null,playsInline:Ln,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ln,referrerPolicy:null,rel:na,required:Ln,reversed:Ln,rows:It,rowSpan:It,sandbox:na,scope:null,scoped:Ln,seamless:Ln,selected:Ln,shadowRootClonable:Ln,shadowRootDelegatesFocus:Ln,shadowRootMode:null,shape:null,size:It,sizes:null,slot:null,span:It,spellCheck:vi,src:null,srcDoc:null,srcLang:null,srcSet:null,start:It,step:null,style:null,tabIndex:It,target:null,title:null,translate:null,type:null,typeMustMatch:Ln,useMap:null,value:vi,width:It,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:na,axis:null,background:null,bgColor:null,border:It,borderColor:null,bottomMargin:It,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ln,declare:Ln,event:null,face:null,frame:null,frameBorder:null,hSpace:It,leftMargin:It,link:null,longDesc:null,lowSrc:null,marginHeight:It,marginWidth:It,noResize:Ln,noHref:Ln,noShade:Ln,noWrap:Ln,object:null,profile:null,prompt:null,rev:null,rightMargin:It,rules:null,scheme:null,scrolling:vi,standby:null,summary:null,text:null,topMargin:It,valueType:null,version:null,vAlign:null,vLink:null,vSpace:It,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ln,disableRemotePlayback:Ln,prefix:null,property:null,results:It,security:null,unselectable:null}}),Fot=Vy({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:hae,properties:{about:wl,accentHeight:It,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:It,amplitude:It,arabicForm:null,ascent:It,attributeName:null,attributeType:null,azimuth:It,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:It,by:null,calcMode:null,capHeight:It,className:na,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:It,diffuseConstant:It,direction:null,display:null,dur:null,divisor:It,dominantBaseline:null,download:Ln,dx:null,dy:null,edgeMode:null,editable:null,elevation:It,enableBackground:null,end:null,event:null,exponent:It,externalResourcesRequired:null,fill:null,fillOpacity:It,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:W1,g2:W1,glyphName:W1,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:It,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:It,horizOriginX:It,horizOriginY:It,id:null,ideographic:It,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:It,k:It,k1:It,k2:It,k3:It,k4:It,kernelMatrix:wl,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:It,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:It,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:It,overlineThickness:It,paintOrder:null,panose1:null,path:null,pathLength:It,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:na,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:It,pointsAtY:It,pointsAtZ:It,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:wl,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:wl,rev:wl,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:wl,requiredFeatures:wl,requiredFonts:wl,requiredFormats:wl,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:It,specularExponent:It,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:It,strikethroughThickness:It,string:null,stroke:null,strokeDashArray:wl,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:It,strokeOpacity:It,strokeWidth:null,style:null,surfaceScale:It,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:wl,tabIndex:It,tableValues:null,target:null,targetX:It,targetY:It,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:wl,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:It,underlineThickness:It,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:It,values:null,vAlphabetic:It,vMathematical:It,vectorEffect:null,vHanging:It,vIdeographic:It,version:null,vertAdvY:It,vertOriginX:It,vertOriginY:It,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:It,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Bot=/^data[-\w.:]+$/i,hY=/-[a-z]/g,Hot=/[A-Z]/g;function Uot(t,e){const n=Aj(e);let r=e,a=Fc;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Bot.test(e)){if(e.charAt(4)==="-"){const i=e.slice(5).replace(hY,Got);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=e.slice(4);if(!hY.test(i)){let s=i.replace(Hot,$ot);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}a=SN}return new a(r,e)}function $ot(t){return"-"+t.toLowerCase()}function Got(t){return t.charAt(1).toUpperCase()}const qot=cae([fae,dae,mae,gae,zot],"html"),yae=cae([fae,dae,mae,gae,Fot],"svg"),Vot={},Wot={}.hasOwnProperty,bae=Bre("type",{handlers:{root:Kot,element:elt,text:Zot,comment:Jot,doctype:Qot}});function Yot(t,e){const r=(e||Vot).space;return bae(t,r==="svg"?yae:qot)}function Kot(t,e){const n={nodeName:"#document",mode:(t.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=_N(t.children,n,e),Wy(t,n),n}function Xot(t,e){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=_N(t.children,n,e),Wy(t,n),n}function Qot(t){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Wy(t,e),e}function Zot(t){const e={nodeName:"#text",value:t.value,parentNode:null};return Wy(t,e),e}function Jot(t){const e={nodeName:"#comment",data:t.value,parentNode:null};return Wy(t,e),e}function elt(t,e){const n=e;let r=n;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=yae);const a=[];let i;if(t.properties){for(i in t.properties)if(i!=="children"&&Wot.call(t.properties,i)){const l=tlt(r,i,t.properties[i]);l&&a.push(l)}}const s=r.space,o={nodeName:t.tagName,tagName:t.tagName,attrs:a,namespaceURI:tg[s],childNodes:[],parentNode:null};return o.childNodes=_N(t.children,o,r),Wy(t,o),t.tagName==="template"&&t.content&&(o.content=Xot(t.content,r)),o}function tlt(t,e,n){const r=Uot(t,e);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?Jne(n):ore(n));const a={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const i=a.name.indexOf(":");i<0?a.prefix="":(a.name=a.name.slice(i+1),a.prefix=r.attribute.slice(0,i)),a.namespace=tg[r.space]}return a}function _N(t,e,n){let r=-1;const a=[];if(t)for(;++r<t.length;){const i=bae(t[r],n);i.parentNode=e,a.push(i)}return a}function Wy(t,e){const n=t.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,e.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const nlt=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],rlt=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Aa="";var xe;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(xe||(xe={}));const qo={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function xae(t){return t>=55296&&t<=57343}function alt(t){return t>=56320&&t<=57343}function ilt(t,e){return(t-55296)*1024+9216+e}function vae(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function Sae(t){return t>=64976&&t<=65007||rlt.has(t)}var st;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(st||(st={}));const slt=65536;class olt{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=slt,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,n){const{line:r,col:a,offset:i}=this,s=a+n,o=i+n;return{code:e,startLine:r,endLine:r,startCol:s,endCol:s,startOffset:o,endOffset:o}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(alt(n))return this.pos++,this._addGap(),ilt(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,xe.EOF;return this._err(st.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let r=0;r<e.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==e.charCodeAt(r))return!1;return!0}peek(e){const n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,xe.EOF;const r=this.html.charCodeAt(n);return r===xe.CARRIAGE_RETURN?xe.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,xe.EOF;let e=this.html.charCodeAt(this.pos);return e===xe.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,xe.LINE_FEED):e===xe.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,xae(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===xe.LINE_FEED||e===xe.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){vae(e)?this._err(st.controlCharacterInInputStream):Sae(e)&&this._err(st.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Xn;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(Xn||(Xn={}));function _ae(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}const llt=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),clt=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function ult(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=clt.get(t))!==null&&e!==void 0?e:t}var Qi;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Qi||(Qi={}));const dlt=32;var dp;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(dp||(dp={}));function kj(t){return t>=Qi.ZERO&&t<=Qi.NINE}function flt(t){return t>=Qi.UPPER_A&&t<=Qi.UPPER_F||t>=Qi.LOWER_A&&t<=Qi.LOWER_F}function hlt(t){return t>=Qi.UPPER_A&&t<=Qi.UPPER_Z||t>=Qi.LOWER_A&&t<=Qi.LOWER_Z||kj(t)}function plt(t){return t===Qi.EQUALS||hlt(t)}var Yi;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(Yi||(Yi={}));var jf;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(jf||(jf={}));class mlt{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=Yi.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=jf.Strict}startEntity(e){this.decodeMode=e,this.state=Yi.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case Yi.EntityStart:return e.charCodeAt(n)===Qi.NUM?(this.state=Yi.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=Yi.NamedEntity,this.stateNamedEntity(e,n));case Yi.NumericStart:return this.stateNumericStart(e,n);case Yi.NumericDecimal:return this.stateNumericDecimal(e,n);case Yi.NumericHex:return this.stateNumericHex(e,n);case Yi.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|dlt)===Qi.LOWER_X?(this.state=Yi.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=Yi.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,a){if(n!==r){const i=r-n;this.result=this.result*Math.pow(a,i)+Number.parseInt(e.substr(n,i),a),this.consumed+=i}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const a=e.charCodeAt(n);if(kj(a)||flt(a))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const a=e.charCodeAt(n);if(kj(a))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Qi.SEMI)this.consumed+=1;else if(this.decodeMode===jf.Strict)return 0;return this.emitCodePoint(ult(this.result),this.consumed),this.errors&&(e!==Qi.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let a=r[this.treeIndex],i=(a&dp.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const s=e.charCodeAt(n);if(this.treeIndex=glt(r,a,this.treeIndex+Math.max(1,i),s),this.treeIndex<0)return this.result===0||this.decodeMode===jf.Attribute&&(i===0||plt(s))?0:this.emitNotTerminatedNamedEntity();if(a=r[this.treeIndex],i=(a&dp.VALUE_LENGTH)>>14,i!==0){if(s===Qi.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==jf.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,a=(r[n]&dp.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,a,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:a}=this;return this.emitCodePoint(n===1?a[e]&~dp.VALUE_LENGTH:a[e+1],r),n===3&&this.emitCodePoint(a[e+2],r),r}end(){var e;switch(this.state){case Yi.NamedEntity:return this.result!==0&&(this.decodeMode!==jf.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Yi.NumericDecimal:return this.emitNumericEntity(0,2);case Yi.NumericHex:return this.emitNumericEntity(0,3);case Yi.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Yi.EntityStart:return 0}}}function glt(t,e,n,r){const a=(e&dp.BRANCH_LENGTH)>>7,i=e&dp.JUMP_TABLE;if(a===0)return i!==0&&r===i?n:-1;if(i){const l=r-i;return l<0||l>=a?-1:t[n+l]-1}let s=n,o=s+a-1;for(;s<=o;){const l=s+o>>>1,u=t[l];if(u<r)s=l+1;else if(u>r)o=l-1;else return t[l+a]}return-1}var vt;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(vt||(vt={}));var ug;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(ug||(ug={}));var xc;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(xc||(xc={}));var qe;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(qe||(qe={}));var W;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(W||(W={}));const ylt=new Map([[qe.A,W.A],[qe.ADDRESS,W.ADDRESS],[qe.ANNOTATION_XML,W.ANNOTATION_XML],[qe.APPLET,W.APPLET],[qe.AREA,W.AREA],[qe.ARTICLE,W.ARTICLE],[qe.ASIDE,W.ASIDE],[qe.B,W.B],[qe.BASE,W.BASE],[qe.BASEFONT,W.BASEFONT],[qe.BGSOUND,W.BGSOUND],[qe.BIG,W.BIG],[qe.BLOCKQUOTE,W.BLOCKQUOTE],[qe.BODY,W.BODY],[qe.BR,W.BR],[qe.BUTTON,W.BUTTON],[qe.CAPTION,W.CAPTION],[qe.CENTER,W.CENTER],[qe.CODE,W.CODE],[qe.COL,W.COL],[qe.COLGROUP,W.COLGROUP],[qe.DD,W.DD],[qe.DESC,W.DESC],[qe.DETAILS,W.DETAILS],[qe.DIALOG,W.DIALOG],[qe.DIR,W.DIR],[qe.DIV,W.DIV],[qe.DL,W.DL],[qe.DT,W.DT],[qe.EM,W.EM],[qe.EMBED,W.EMBED],[qe.FIELDSET,W.FIELDSET],[qe.FIGCAPTION,W.FIGCAPTION],[qe.FIGURE,W.FIGURE],[qe.FONT,W.FONT],[qe.FOOTER,W.FOOTER],[qe.FOREIGN_OBJECT,W.FOREIGN_OBJECT],[qe.FORM,W.FORM],[qe.FRAME,W.FRAME],[qe.FRAMESET,W.FRAMESET],[qe.H1,W.H1],[qe.H2,W.H2],[qe.H3,W.H3],[qe.H4,W.H4],[qe.H5,W.H5],[qe.H6,W.H6],[qe.HEAD,W.HEAD],[qe.HEADER,W.HEADER],[qe.HGROUP,W.HGROUP],[qe.HR,W.HR],[qe.HTML,W.HTML],[qe.I,W.I],[qe.IMG,W.IMG],[qe.IMAGE,W.IMAGE],[qe.INPUT,W.INPUT],[qe.IFRAME,W.IFRAME],[qe.KEYGEN,W.KEYGEN],[qe.LABEL,W.LABEL],[qe.LI,W.LI],[qe.LINK,W.LINK],[qe.LISTING,W.LISTING],[qe.MAIN,W.MAIN],[qe.MALIGNMARK,W.MALIGNMARK],[qe.MARQUEE,W.MARQUEE],[qe.MATH,W.MATH],[qe.MENU,W.MENU],[qe.META,W.META],[qe.MGLYPH,W.MGLYPH],[qe.MI,W.MI],[qe.MO,W.MO],[qe.MN,W.MN],[qe.MS,W.MS],[qe.MTEXT,W.MTEXT],[qe.NAV,W.NAV],[qe.NOBR,W.NOBR],[qe.NOFRAMES,W.NOFRAMES],[qe.NOEMBED,W.NOEMBED],[qe.NOSCRIPT,W.NOSCRIPT],[qe.OBJECT,W.OBJECT],[qe.OL,W.OL],[qe.OPTGROUP,W.OPTGROUP],[qe.OPTION,W.OPTION],[qe.P,W.P],[qe.PARAM,W.PARAM],[qe.PLAINTEXT,W.PLAINTEXT],[qe.PRE,W.PRE],[qe.RB,W.RB],[qe.RP,W.RP],[qe.RT,W.RT],[qe.RTC,W.RTC],[qe.RUBY,W.RUBY],[qe.S,W.S],[qe.SCRIPT,W.SCRIPT],[qe.SEARCH,W.SEARCH],[qe.SECTION,W.SECTION],[qe.SELECT,W.SELECT],[qe.SOURCE,W.SOURCE],[qe.SMALL,W.SMALL],[qe.SPAN,W.SPAN],[qe.STRIKE,W.STRIKE],[qe.STRONG,W.STRONG],[qe.STYLE,W.STYLE],[qe.SUB,W.SUB],[qe.SUMMARY,W.SUMMARY],[qe.SUP,W.SUP],[qe.TABLE,W.TABLE],[qe.TBODY,W.TBODY],[qe.TEMPLATE,W.TEMPLATE],[qe.TEXTAREA,W.TEXTAREA],[qe.TFOOT,W.TFOOT],[qe.TD,W.TD],[qe.TH,W.TH],[qe.THEAD,W.THEAD],[qe.TITLE,W.TITLE],[qe.TR,W.TR],[qe.TRACK,W.TRACK],[qe.TT,W.TT],[qe.U,W.U],[qe.UL,W.UL],[qe.SVG,W.SVG],[qe.VAR,W.VAR],[qe.WBR,W.WBR],[qe.XMP,W.XMP]]);function Yy(t){var e;return(e=ylt.get(t))!==null&&e!==void 0?e:W.UNKNOWN}const Ct=W,blt={[vt.HTML]:new Set([Ct.ADDRESS,Ct.APPLET,Ct.AREA,Ct.ARTICLE,Ct.ASIDE,Ct.BASE,Ct.BASEFONT,Ct.BGSOUND,Ct.BLOCKQUOTE,Ct.BODY,Ct.BR,Ct.BUTTON,Ct.CAPTION,Ct.CENTER,Ct.COL,Ct.COLGROUP,Ct.DD,Ct.DETAILS,Ct.DIR,Ct.DIV,Ct.DL,Ct.DT,Ct.EMBED,Ct.FIELDSET,Ct.FIGCAPTION,Ct.FIGURE,Ct.FOOTER,Ct.FORM,Ct.FRAME,Ct.FRAMESET,Ct.H1,Ct.H2,Ct.H3,Ct.H4,Ct.H5,Ct.H6,Ct.HEAD,Ct.HEADER,Ct.HGROUP,Ct.HR,Ct.HTML,Ct.IFRAME,Ct.IMG,Ct.INPUT,Ct.LI,Ct.LINK,Ct.LISTING,Ct.MAIN,Ct.MARQUEE,Ct.MENU,Ct.META,Ct.NAV,Ct.NOEMBED,Ct.NOFRAMES,Ct.NOSCRIPT,Ct.OBJECT,Ct.OL,Ct.P,Ct.PARAM,Ct.PLAINTEXT,Ct.PRE,Ct.SCRIPT,Ct.SECTION,Ct.SELECT,Ct.SOURCE,Ct.STYLE,Ct.SUMMARY,Ct.TABLE,Ct.TBODY,Ct.TD,Ct.TEMPLATE,Ct.TEXTAREA,Ct.TFOOT,Ct.TH,Ct.THEAD,Ct.TITLE,Ct.TR,Ct.TRACK,Ct.UL,Ct.WBR,Ct.XMP]),[vt.MATHML]:new Set([Ct.MI,Ct.MO,Ct.MN,Ct.MS,Ct.MTEXT,Ct.ANNOTATION_XML]),[vt.SVG]:new Set([Ct.TITLE,Ct.FOREIGN_OBJECT,Ct.DESC]),[vt.XLINK]:new Set,[vt.XML]:new Set,[vt.XMLNS]:new Set},Ij=new Set([Ct.H1,Ct.H2,Ct.H3,Ct.H4,Ct.H5,Ct.H6]);qe.STYLE,qe.SCRIPT,qe.XMP,qe.IFRAME,qe.NOEMBED,qe.NOFRAMES,qe.PLAINTEXT;var _e;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(_e||(_e={}));const oi={DATA:_e.DATA,RCDATA:_e.RCDATA,RAWTEXT:_e.RAWTEXT,SCRIPT_DATA:_e.SCRIPT_DATA,PLAINTEXT:_e.PLAINTEXT,CDATA_SECTION:_e.CDATA_SECTION};function xlt(t){return t>=xe.DIGIT_0&&t<=xe.DIGIT_9}function x2(t){return t>=xe.LATIN_CAPITAL_A&&t<=xe.LATIN_CAPITAL_Z}function vlt(t){return t>=xe.LATIN_SMALL_A&&t<=xe.LATIN_SMALL_Z}function Wh(t){return vlt(t)||x2(t)}function pY(t){return Wh(t)||xlt(t)}function S4(t){return t+32}function Cae(t){return t===xe.SPACE||t===xe.LINE_FEED||t===xe.TABULATION||t===xe.FORM_FEED}function mY(t){return Cae(t)||t===xe.SOLIDUS||t===xe.GREATER_THAN_SIGN}function Slt(t){return t===xe.NULL?st.nullCharacterReference:t>1114111?st.characterReferenceOutsideUnicodeRange:xae(t)?st.surrogateCharacterReference:Sae(t)?st.noncharacterCharacterReference:vae(t)||t===xe.CARRIAGE_RETURN?st.controlCharacterReference:null}class _lt{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=_e.DATA,this.returnState=_e.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new olt(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new mlt(llt,(r,a)=>{this.preprocessor.pos=this.entityStartPos+a-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(st.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(st.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const a=Slt(r);a&&this._err(a,1)}}:void 0)}_err(e,n=0){var r,a;(a=(r=this.handler).onParseError)===null||a===void 0||a.call(r,this.preprocessor.getError(e,n))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e?.())}write(e,n,r){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Xn.START_TAG,tagName:"",tagID:W.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Xn.END_TAG,tagName:"",tagID:W.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:Xn.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:Xn.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;const r=this.currentToken;if(_ae(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const a=(e=(n=r.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);a[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(st.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=Yy(e.tagName),e.type===Xn.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(st.endTagWithAttributes),e.selfClosing&&this._err(st.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case Xn.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Xn.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Xn.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:Xn.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,n)}_emitCodePoint(e){const n=Cae(e)?Xn.WHITESPACE_CHARACTER:e===xe.NULL?Xn.NULL_CHARACTER:Xn.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(Xn.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=_e.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?jf.Attribute:jf.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===_e.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===_e.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===_e.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case _e.DATA:{this._stateData(e);break}case _e.RCDATA:{this._stateRcdata(e);break}case _e.RAWTEXT:{this._stateRawtext(e);break}case _e.SCRIPT_DATA:{this._stateScriptData(e);break}case _e.PLAINTEXT:{this._statePlaintext(e);break}case _e.TAG_OPEN:{this._stateTagOpen(e);break}case _e.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case _e.TAG_NAME:{this._stateTagName(e);break}case _e.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case _e.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case _e.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case _e.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case _e.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case _e.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case _e.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case _e.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case _e.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case _e.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case _e.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case _e.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case _e.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case _e.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case _e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case _e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case _e.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case _e.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case _e.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case _e.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case _e.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case _e.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case _e.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case _e.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case _e.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case _e.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case _e.BOGUS_COMMENT:{this._stateBogusComment(e);break}case _e.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case _e.COMMENT_START:{this._stateCommentStart(e);break}case _e.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case _e.COMMENT:{this._stateComment(e);break}case _e.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case _e.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case _e.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case _e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case _e.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case _e.COMMENT_END:{this._stateCommentEnd(e);break}case _e.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case _e.DOCTYPE:{this._stateDoctype(e);break}case _e.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case _e.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case _e.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case _e.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case _e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case _e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case _e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case _e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case _e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case _e.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case _e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case _e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case _e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case _e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case _e.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case _e.CDATA_SECTION:{this._stateCdataSection(e);break}case _e.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case _e.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case _e.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case _e.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case xe.LESS_THAN_SIGN:{this.state=_e.TAG_OPEN;break}case xe.AMPERSAND:{this._startCharacterReference();break}case xe.NULL:{this._err(st.unexpectedNullCharacter),this._emitCodePoint(e);break}case xe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case xe.AMPERSAND:{this._startCharacterReference();break}case xe.LESS_THAN_SIGN:{this.state=_e.RCDATA_LESS_THAN_SIGN;break}case xe.NULL:{this._err(st.unexpectedNullCharacter),this._emitChars(Aa);break}case xe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case xe.LESS_THAN_SIGN:{this.state=_e.RAWTEXT_LESS_THAN_SIGN;break}case xe.NULL:{this._err(st.unexpectedNullCharacter),this._emitChars(Aa);break}case xe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case xe.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_LESS_THAN_SIGN;break}case xe.NULL:{this._err(st.unexpectedNullCharacter),this._emitChars(Aa);break}case xe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case xe.NULL:{this._err(st.unexpectedNullCharacter),this._emitChars(Aa);break}case xe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(Wh(e))this._createStartTagToken(),this.state=_e.TAG_NAME,this._stateTagName(e);else switch(e){case xe.EXCLAMATION_MARK:{this.state=_e.MARKUP_DECLARATION_OPEN;break}case xe.SOLIDUS:{this.state=_e.END_TAG_OPEN;break}case xe.QUESTION_MARK:{this._err(st.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=_e.BOGUS_COMMENT,this._stateBogusComment(e);break}case xe.EOF:{this._err(st.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(st.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=_e.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(Wh(e))this._createEndTagToken(),this.state=_e.TAG_NAME,this._stateTagName(e);else switch(e){case xe.GREATER_THAN_SIGN:{this._err(st.missingEndTagName),this.state=_e.DATA;break}case xe.EOF:{this._err(st.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(st.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=_e.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const n=this.currentToken;switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:{this.state=_e.BEFORE_ATTRIBUTE_NAME;break}case xe.SOLIDUS:{this.state=_e.SELF_CLOSING_START_TAG;break}case xe.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentTagToken();break}case xe.NULL:{this._err(st.unexpectedNullCharacter),n.tagName+=Aa;break}case xe.EOF:{this._err(st.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(x2(e)?S4(e):e)}}_stateRcdataLessThanSign(e){e===xe.SOLIDUS?this.state=_e.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=_e.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){Wh(e)?(this.state=_e.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=_e.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=_e.BEFORE_ATTRIBUTE_NAME,!1;case xe.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=_e.SELF_CLOSING_START_TAG,!1;case xe.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=_e.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=_e.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===xe.SOLIDUS?this.state=_e.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=_e.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){Wh(e)?(this.state=_e.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=_e.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=_e.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case xe.SOLIDUS:{this.state=_e.SCRIPT_DATA_END_TAG_OPEN;break}case xe.EXCLAMATION_MARK:{this.state=_e.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=_e.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){Wh(e)?(this.state=_e.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=_e.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=_e.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===xe.HYPHEN_MINUS?(this.state=_e.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=_e.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===xe.HYPHEN_MINUS?(this.state=_e.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=_e.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case xe.HYPHEN_MINUS:{this.state=_e.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case xe.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case xe.NULL:{this._err(st.unexpectedNullCharacter),this._emitChars(Aa);break}case xe.EOF:{this._err(st.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case xe.HYPHEN_MINUS:{this.state=_e.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case xe.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case xe.NULL:{this._err(st.unexpectedNullCharacter),this.state=_e.SCRIPT_DATA_ESCAPED,this._emitChars(Aa);break}case xe.EOF:{this._err(st.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_e.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case xe.HYPHEN_MINUS:{this._emitChars("-");break}case xe.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case xe.GREATER_THAN_SIGN:{this.state=_e.SCRIPT_DATA,this._emitChars(">");break}case xe.NULL:{this._err(st.unexpectedNullCharacter),this.state=_e.SCRIPT_DATA_ESCAPED,this._emitChars(Aa);break}case xe.EOF:{this._err(st.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_e.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===xe.SOLIDUS?this.state=_e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Wh(e)?(this._emitChars("<"),this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=_e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){Wh(e)?(this.state=_e.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=_e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=_e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(qo.SCRIPT,!1)&&mY(this.preprocessor.peek(qo.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<qo.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=_e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case xe.HYPHEN_MINUS:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case xe.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case xe.NULL:{this._err(st.unexpectedNullCharacter),this._emitChars(Aa);break}case xe.EOF:{this._err(st.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case xe.HYPHEN_MINUS:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case xe.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case xe.NULL:{this._err(st.unexpectedNullCharacter),this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Aa);break}case xe.EOF:{this._err(st.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case xe.HYPHEN_MINUS:{this._emitChars("-");break}case xe.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case xe.GREATER_THAN_SIGN:{this.state=_e.SCRIPT_DATA,this._emitChars(">");break}case xe.NULL:{this._err(st.unexpectedNullCharacter),this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Aa);break}case xe.EOF:{this._err(st.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===xe.SOLIDUS?(this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(qo.SCRIPT,!1)&&mY(this.preprocessor.peek(qo.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<qo.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=_e.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:break;case xe.SOLIDUS:case xe.GREATER_THAN_SIGN:case xe.EOF:{this.state=_e.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case xe.EQUALS_SIGN:{this._err(st.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=_e.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=_e.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:case xe.SOLIDUS:case xe.GREATER_THAN_SIGN:case xe.EOF:{this._leaveAttrName(),this.state=_e.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case xe.EQUALS_SIGN:{this._leaveAttrName(),this.state=_e.BEFORE_ATTRIBUTE_VALUE;break}case xe.QUOTATION_MARK:case xe.APOSTROPHE:case xe.LESS_THAN_SIGN:{this._err(st.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case xe.NULL:{this._err(st.unexpectedNullCharacter),this.currentAttr.name+=Aa;break}default:this.currentAttr.name+=String.fromCodePoint(x2(e)?S4(e):e)}}_stateAfterAttributeName(e){switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:break;case xe.SOLIDUS:{this.state=_e.SELF_CLOSING_START_TAG;break}case xe.EQUALS_SIGN:{this.state=_e.BEFORE_ATTRIBUTE_VALUE;break}case xe.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentTagToken();break}case xe.EOF:{this._err(st.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=_e.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:break;case xe.QUOTATION_MARK:{this.state=_e.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case xe.APOSTROPHE:{this.state=_e.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case xe.GREATER_THAN_SIGN:{this._err(st.missingAttributeValue),this.state=_e.DATA,this.emitCurrentTagToken();break}default:this.state=_e.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case xe.QUOTATION_MARK:{this.state=_e.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case xe.AMPERSAND:{this._startCharacterReference();break}case xe.NULL:{this._err(st.unexpectedNullCharacter),this.currentAttr.value+=Aa;break}case xe.EOF:{this._err(st.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case xe.APOSTROPHE:{this.state=_e.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case xe.AMPERSAND:{this._startCharacterReference();break}case xe.NULL:{this._err(st.unexpectedNullCharacter),this.currentAttr.value+=Aa;break}case xe.EOF:{this._err(st.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:{this._leaveAttrValue(),this.state=_e.BEFORE_ATTRIBUTE_NAME;break}case xe.AMPERSAND:{this._startCharacterReference();break}case xe.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=_e.DATA,this.emitCurrentTagToken();break}case xe.NULL:{this._err(st.unexpectedNullCharacter),this.currentAttr.value+=Aa;break}case xe.QUOTATION_MARK:case xe.APOSTROPHE:case xe.LESS_THAN_SIGN:case xe.EQUALS_SIGN:case xe.GRAVE_ACCENT:{this._err(st.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case xe.EOF:{this._err(st.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:{this._leaveAttrValue(),this.state=_e.BEFORE_ATTRIBUTE_NAME;break}case xe.SOLIDUS:{this._leaveAttrValue(),this.state=_e.SELF_CLOSING_START_TAG;break}case xe.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=_e.DATA,this.emitCurrentTagToken();break}case xe.EOF:{this._err(st.eofInTag),this._emitEOFToken();break}default:this._err(st.missingWhitespaceBetweenAttributes),this.state=_e.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case xe.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=_e.DATA,this.emitCurrentTagToken();break}case xe.EOF:{this._err(st.eofInTag),this._emitEOFToken();break}default:this._err(st.unexpectedSolidusInTag),this.state=_e.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const n=this.currentToken;switch(e){case xe.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentComment(n);break}case xe.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case xe.NULL:{this._err(st.unexpectedNullCharacter),n.data+=Aa;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(qo.DASH_DASH,!0)?(this._createCommentToken(qo.DASH_DASH.length+1),this.state=_e.COMMENT_START):this._consumeSequenceIfMatch(qo.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(qo.DOCTYPE.length+1),this.state=_e.DOCTYPE):this._consumeSequenceIfMatch(qo.CDATA_START,!0)?this.inForeignNode?this.state=_e.CDATA_SECTION:(this._err(st.cdataInHtmlContent),this._createCommentToken(qo.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=_e.BOGUS_COMMENT):this._ensureHibernation()||(this._err(st.incorrectlyOpenedComment),this._createCommentToken(2),this.state=_e.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case xe.HYPHEN_MINUS:{this.state=_e.COMMENT_START_DASH;break}case xe.GREATER_THAN_SIGN:{this._err(st.abruptClosingOfEmptyComment),this.state=_e.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=_e.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const n=this.currentToken;switch(e){case xe.HYPHEN_MINUS:{this.state=_e.COMMENT_END;break}case xe.GREATER_THAN_SIGN:{this._err(st.abruptClosingOfEmptyComment),this.state=_e.DATA,this.emitCurrentComment(n);break}case xe.EOF:{this._err(st.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=_e.COMMENT,this._stateComment(e)}}_stateComment(e){const n=this.currentToken;switch(e){case xe.HYPHEN_MINUS:{this.state=_e.COMMENT_END_DASH;break}case xe.LESS_THAN_SIGN:{n.data+="<",this.state=_e.COMMENT_LESS_THAN_SIGN;break}case xe.NULL:{this._err(st.unexpectedNullCharacter),n.data+=Aa;break}case xe.EOF:{this._err(st.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const n=this.currentToken;switch(e){case xe.EXCLAMATION_MARK:{n.data+="!",this.state=_e.COMMENT_LESS_THAN_SIGN_BANG;break}case xe.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=_e.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===xe.HYPHEN_MINUS?this.state=_e.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=_e.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===xe.HYPHEN_MINUS?this.state=_e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=_e.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==xe.GREATER_THAN_SIGN&&e!==xe.EOF&&this._err(st.nestedComment),this.state=_e.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const n=this.currentToken;switch(e){case xe.HYPHEN_MINUS:{this.state=_e.COMMENT_END;break}case xe.EOF:{this._err(st.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=_e.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const n=this.currentToken;switch(e){case xe.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentComment(n);break}case xe.EXCLAMATION_MARK:{this.state=_e.COMMENT_END_BANG;break}case xe.HYPHEN_MINUS:{n.data+="-";break}case xe.EOF:{this._err(st.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=_e.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const n=this.currentToken;switch(e){case xe.HYPHEN_MINUS:{n.data+="--!",this.state=_e.COMMENT_END_DASH;break}case xe.GREATER_THAN_SIGN:{this._err(st.incorrectlyClosedComment),this.state=_e.DATA,this.emitCurrentComment(n);break}case xe.EOF:{this._err(st.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=_e.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:{this.state=_e.BEFORE_DOCTYPE_NAME;break}case xe.GREATER_THAN_SIGN:{this.state=_e.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case xe.EOF:{this._err(st.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(st.missingWhitespaceBeforeDoctypeName),this.state=_e.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(x2(e))this._createDoctypeToken(String.fromCharCode(S4(e))),this.state=_e.DOCTYPE_NAME;else switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:break;case xe.NULL:{this._err(st.unexpectedNullCharacter),this._createDoctypeToken(Aa),this.state=_e.DOCTYPE_NAME;break}case xe.GREATER_THAN_SIGN:{this._err(st.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case xe.EOF:{this._err(st.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=_e.DOCTYPE_NAME}}_stateDoctypeName(e){const n=this.currentToken;switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:{this.state=_e.AFTER_DOCTYPE_NAME;break}case xe.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentDoctype(n);break}case xe.NULL:{this._err(st.unexpectedNullCharacter),n.name+=Aa;break}case xe.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(x2(e)?S4(e):e)}}_stateAfterDoctypeName(e){const n=this.currentToken;switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:break;case xe.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentDoctype(n);break}case xe.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(qo.PUBLIC,!1)?this.state=_e.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(qo.SYSTEM,!1)?this.state=_e.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(st.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const n=this.currentToken;switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:{this.state=_e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case xe.QUOTATION_MARK:{this._err(st.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=_e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case xe.APOSTROPHE:{this._err(st.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=_e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case xe.GREATER_THAN_SIGN:{this._err(st.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_e.DATA,this.emitCurrentDoctype(n);break}case xe.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(st.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:break;case xe.QUOTATION_MARK:{n.publicId="",this.state=_e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case xe.APOSTROPHE:{n.publicId="",this.state=_e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case xe.GREATER_THAN_SIGN:{this._err(st.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_e.DATA,this.emitCurrentDoctype(n);break}case xe.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(st.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case xe.QUOTATION_MARK:{this.state=_e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case xe.NULL:{this._err(st.unexpectedNullCharacter),n.publicId+=Aa;break}case xe.GREATER_THAN_SIGN:{this._err(st.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case xe.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case xe.APOSTROPHE:{this.state=_e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case xe.NULL:{this._err(st.unexpectedNullCharacter),n.publicId+=Aa;break}case xe.GREATER_THAN_SIGN:{this._err(st.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case xe.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:{this.state=_e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case xe.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentDoctype(n);break}case xe.QUOTATION_MARK:{this._err(st.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case xe.APOSTROPHE:{this._err(st.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case xe.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(st.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const n=this.currentToken;switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:break;case xe.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=_e.DATA;break}case xe.QUOTATION_MARK:{n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case xe.APOSTROPHE:{n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case xe.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(st.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const n=this.currentToken;switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:{this.state=_e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case xe.QUOTATION_MARK:{this._err(st.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case xe.APOSTROPHE:{this._err(st.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case xe.GREATER_THAN_SIGN:{this._err(st.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.DATA,this.emitCurrentDoctype(n);break}case xe.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(st.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:break;case xe.QUOTATION_MARK:{n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case xe.APOSTROPHE:{n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case xe.GREATER_THAN_SIGN:{this._err(st.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.DATA,this.emitCurrentDoctype(n);break}case xe.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(st.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case xe.QUOTATION_MARK:{this.state=_e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case xe.NULL:{this._err(st.unexpectedNullCharacter),n.systemId+=Aa;break}case xe.GREATER_THAN_SIGN:{this._err(st.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case xe.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case xe.APOSTROPHE:{this.state=_e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case xe.NULL:{this._err(st.unexpectedNullCharacter),n.systemId+=Aa;break}case xe.GREATER_THAN_SIGN:{this._err(st.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case xe.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case xe.SPACE:case xe.LINE_FEED:case xe.TABULATION:case xe.FORM_FEED:break;case xe.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=_e.DATA;break}case xe.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(st.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const n=this.currentToken;switch(e){case xe.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=_e.DATA;break}case xe.NULL:{this._err(st.unexpectedNullCharacter);break}case xe.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case xe.RIGHT_SQUARE_BRACKET:{this.state=_e.CDATA_SECTION_BRACKET;break}case xe.EOF:{this._err(st.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===xe.RIGHT_SQUARE_BRACKET?this.state=_e.CDATA_SECTION_END:(this._emitChars("]"),this.state=_e.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case xe.GREATER_THAN_SIGN:{this.state=_e.DATA;break}case xe.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=_e.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(xe.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&pY(this.preprocessor.peek(1))?_e.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){pY(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===xe.SEMICOLON&&this._err(st.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const wae=new Set([W.DD,W.DT,W.LI,W.OPTGROUP,W.OPTION,W.P,W.RB,W.RP,W.RT,W.RTC]),gY=new Set([...wae,W.CAPTION,W.COLGROUP,W.TBODY,W.TD,W.TFOOT,W.TH,W.THEAD,W.TR]),ZC=new Set([W.APPLET,W.CAPTION,W.HTML,W.MARQUEE,W.OBJECT,W.TABLE,W.TD,W.TEMPLATE,W.TH]),Clt=new Set([...ZC,W.OL,W.UL]),wlt=new Set([...ZC,W.BUTTON]),yY=new Set([W.ANNOTATION_XML,W.MI,W.MN,W.MO,W.MS,W.MTEXT]),bY=new Set([W.DESC,W.FOREIGN_OBJECT,W.TITLE]),Elt=new Set([W.TR,W.TEMPLATE,W.HTML]),Tlt=new Set([W.TBODY,W.TFOOT,W.THEAD,W.TEMPLATE,W.HTML]),Alt=new Set([W.TABLE,W.TEMPLATE,W.HTML]),Rlt=new Set([W.TD,W.TH]);class klt{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=W.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===W.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===vt.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){const r=this._indexOf(e);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(e,n,r){const a=this._indexOf(e)+1;this.items.splice(a,0,n),this.tagIDs.splice(a,0,r),this.stackTop++,a===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,a===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==vt.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(e){for(;this.stackTop>=e;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){const n=this._indexOf(e);this.shortenToLength(Math.max(n,0))}popUntilPopped(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(Ij,vt.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Rlt,vt.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let r=this.stackTop;r>=0;r--)if(e.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(Alt,vt.HTML)}clearBackToTableBodyContext(){this.clearBackTo(Tlt,vt.HTML)}clearBackToTableRowContext(){this.clearBackTo(Elt,vt.HTML)}remove(e){const n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===W.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===W.HTML}hasInDynamicScope(e,n){for(let r=this.stackTop;r>=0;r--){const a=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case vt.HTML:{if(a===e)return!0;if(n.has(a))return!1;break}case vt.SVG:{if(bY.has(a))return!1;break}case vt.MATHML:{if(yY.has(a))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,ZC)}hasInListItemScope(e){return this.hasInDynamicScope(e,Clt)}hasInButtonScope(e){return this.hasInDynamicScope(e,wlt)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case vt.HTML:{if(Ij.has(n))return!0;if(ZC.has(n))return!1;break}case vt.SVG:{if(bY.has(n))return!1;break}case vt.MATHML:{if(yY.has(n))return!1;break}}}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===vt.HTML)switch(this.tagIDs[n]){case e:return!0;case W.TABLE:case W.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===vt.HTML)switch(this.tagIDs[e]){case W.TBODY:case W.THEAD:case W.TFOOT:return!0;case W.TABLE:case W.HTML:return!1}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===vt.HTML)switch(this.tagIDs[n]){case e:return!0;case W.OPTION:case W.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&wae.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&gY.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==void 0&&this.currentTagId!==e&&gY.has(this.currentTagId);)this.pop()}}const ok=3;var yd;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(yd||(yd={}));const xY={type:yd.Marker};class Ilt{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){const r=[],a=n.length,i=this.treeAdapter.getTagName(e),s=this.treeAdapter.getNamespaceURI(e);for(let o=0;o<this.entries.length;o++){const l=this.entries[o];if(l.type===yd.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===i&&this.treeAdapter.getNamespaceURI(u)===s){const d=this.treeAdapter.getAttrList(u);d.length===a&&r.push({idx:o,attrs:d})}}return r}_ensureNoahArkCondition(e){if(this.entries.length<ok)return;const n=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,n);if(r.length<ok)return;const a=new Map(n.map(s=>[s.name,s.value]));let i=0;for(let s=0;s<r.length;s++){const o=r[s];o.attrs.every(l=>a.get(l.name)===l.value)&&(i+=1,i>=ok&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(xY)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:yd.Element,element:e,token:n})}insertElementAfterBookmark(e,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:yd.Element,element:e,token:n})}removeEntry(e){const n=this.entries.indexOf(e);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const e=this.entries.indexOf(xY);e===-1?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const n=this.entries.find(r=>r.type===yd.Marker||this.treeAdapter.getTagName(r.element)===e);return n&&n.type===yd.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===yd.Element&&n.element===e)}}const Yh={createDocument(){return{nodeName:"#document",mode:xc.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){const r=t.childNodes.indexOf(n);t.childNodes.splice(r,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,r){const a=t.childNodes.find(i=>i.nodeName==="#documentType");if(a)a.name=e,a.publicId=n,a.systemId=r;else{const i={nodeName:"#documentType",name:e,publicId:n,systemId:r,parentNode:null};Yh.appendChild(t,i)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if(Yh.isTextNode(n)){n.value+=e;return}}Yh.appendChild(t,Yh.createTextNode(e))},insertTextBefore(t,e,n){const r=t.childNodes[t.childNodes.indexOf(n)-1];r&&Yh.isTextNode(r)?r.value+=e:Yh.insertBefore(t,Yh.createTextNode(e),n)},adoptAttributes(t,e){const n=new Set(t.attrs.map(r=>r.name));for(let r=0;r<e.length;r++)n.has(e[r].name)||t.attrs.push(e[r])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},Eae="html",jlt="about:legacy-compat",Olt="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Tae=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Dlt=[...Tae,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Nlt=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Aae=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Mlt=[...Aae,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function vY(t,e){return e.some(n=>t.startsWith(n))}function Plt(t){return t.name===Eae&&t.publicId===null&&(t.systemId===null||t.systemId===jlt)}function Llt(t){if(t.name!==Eae)return xc.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===Olt)return xc.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),Nlt.has(n))return xc.QUIRKS;let r=e===null?Dlt:Tae;if(vY(n,r))return xc.QUIRKS;if(r=e===null?Aae:Mlt,vY(n,r))return xc.LIMITED_QUIRKS}return xc.NO_QUIRKS}const SY={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},zlt="definitionurl",Flt="definitionURL",Blt=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),Hlt=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:vt.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:vt.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:vt.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:vt.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:vt.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:vt.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:vt.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:vt.XML}],["xml:space",{prefix:"xml",name:"space",namespace:vt.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:vt.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:vt.XMLNS}]]),Ult=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),$lt=new Set([W.B,W.BIG,W.BLOCKQUOTE,W.BODY,W.BR,W.CENTER,W.CODE,W.DD,W.DIV,W.DL,W.DT,W.EM,W.EMBED,W.H1,W.H2,W.H3,W.H4,W.H5,W.H6,W.HEAD,W.HR,W.I,W.IMG,W.LI,W.LISTING,W.MENU,W.META,W.NOBR,W.OL,W.P,W.PRE,W.RUBY,W.S,W.SMALL,W.SPAN,W.STRONG,W.STRIKE,W.SUB,W.SUP,W.TABLE,W.TT,W.U,W.UL,W.VAR]);function Glt(t){const e=t.tagID;return e===W.FONT&&t.attrs.some(({name:r})=>r===ug.COLOR||r===ug.SIZE||r===ug.FACE)||$lt.has(e)}function Rae(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===zlt){t.attrs[e].name=Flt;break}}function kae(t){for(let e=0;e<t.attrs.length;e++){const n=Blt.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function CN(t){for(let e=0;e<t.attrs.length;e++){const n=Hlt.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function qlt(t){const e=Ult.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=Yy(t.tagName))}function Vlt(t,e){return e===vt.MATHML&&(t===W.MI||t===W.MO||t===W.MN||t===W.MS||t===W.MTEXT)}function Wlt(t,e,n){if(e===vt.MATHML&&t===W.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===ug.ENCODING){const a=n[r].value.toLowerCase();return a===SY.TEXT_HTML||a===SY.APPLICATION_XML}}return e===vt.SVG&&(t===W.FOREIGN_OBJECT||t===W.DESC||t===W.TITLE)}function Ylt(t,e,n,r){return(!r||r===vt.HTML)&&Wlt(t,e,n)||(!r||r===vt.MATHML)&&Vlt(t,e)}const Klt="hidden",Xlt=8,Qlt=3;var Ee;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Ee||(Ee={}));const Zlt={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Iae=new Set([W.TABLE,W.TBODY,W.TFOOT,W.THEAD,W.TR]),_Y={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Yh,onParseError:null};class CY{constructor(e,n,r=null,a=null){this.fragmentContext=r,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=Ee.INITIAL,this.originalInsertionMode=Ee.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={..._Y,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new _lt(this.options,this),this.activeFormattingElements=new Ilt(this.treeAdapter),this.fragmentContextID=r?Yy(this.treeAdapter.getTagName(r)):W.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new klt(this.document,this.treeAdapter,this)}static parse(e,n){const r=new this(n);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,n){const r={..._Y,...n};e??(e=r.treeAdapter.createElement(qe.TEMPLATE,vt.HTML,[]));const a=r.treeAdapter.createElement("documentmock",vt.HTML,[]),i=new this(r,a,e);return i.fragmentContextID===W.TEMPLATE&&i.tmplInsertionModeStack.unshift(Ee.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,r){var a;if(!this.onParseError)return;const i=(a=e.location)!==null&&a!==void 0?a:Zlt,s={code:n,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:r?i.startLine:i.endLine,endCol:r?i.startCol:i.endCol,endOffset:r?i.startOffset:i.endOffset};this.onParseError(s)}onItemPush(e,n,r){var a,i;(i=(a=this.treeAdapter).onItemPush)===null||i===void 0||i.call(a,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var r,a;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(a=(r=this.treeAdapter).onItemPop)===null||a===void 0||a.call(r,e,this.openElements.current),n){let i,s;this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,s=this.fragmentContextID):{current:i,currentTagId:s}=this.openElements,this._setContextModes(i,s)}}_setContextModes(e,n){const r=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===vt.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&e!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,vt.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=Ee.TEXT}switchToPlaintextParsing(){this.insertionMode=Ee.TEXT,this.originalInsertionMode=Ee.IN_BODY,this.tokenizer.state=oi.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===qe.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==vt.HTML))switch(this.fragmentContextID){case W.TITLE:case W.TEXTAREA:{this.tokenizer.state=oi.RCDATA;break}case W.STYLE:case W.XMP:case W.IFRAME:case W.NOEMBED:case W.NOFRAMES:case W.NOSCRIPT:{this.tokenizer.state=oi.RAWTEXT;break}case W.SCRIPT:{this.tokenizer.state=oi.SCRIPT_DATA;break}case W.PLAINTEXT:{this.tokenizer.state=oi.PLAINTEXT;break}}}_setDocumentType(e){const n=e.name||"",r=e.publicId||"",a=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,a),e.location){const s=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));s&&this.treeAdapter.setNodeSourceCodeLocation(s,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,e)}}_appendElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,n){const r=this.treeAdapter.createElement(e,vt.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(e){const n=this.treeAdapter.createElement(e.tagName,vt.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(qe.HTML,vt.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,W.HTML)}_appendCommentNode(e,n){const r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,e.chars,r):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;const a=this.treeAdapter.getChildNodes(n),i=r?a.lastIndexOf(r):a.length,s=a[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){const{endLine:l,endCol:u,endOffset:d}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:l,endCol:u,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,e.location)}_adoptNodes(e,n){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){const r=n.location,a=this.treeAdapter.getTagName(e),i=n.type===Xn.END_TAG&&a===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,i)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,e.tagID===W.SVG&&this.treeAdapter.getTagName(n)===qe.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===vt.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===W.MGLYPH||e.tagID===W.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,vt.HTML)}_processToken(e){switch(e.type){case Xn.CHARACTER:{this.onCharacter(e);break}case Xn.NULL_CHARACTER:{this.onNullCharacter(e);break}case Xn.COMMENT:{this.onComment(e);break}case Xn.DOCTYPE:{this.onDoctype(e);break}case Xn.START_TAG:{this._processStartTag(e);break}case Xn.END_TAG:{this.onEndTag(e);break}case Xn.EOF:{this.onEof(e);break}case Xn.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,r){const a=this.treeAdapter.getNamespaceURI(n),i=this.treeAdapter.getAttrList(n);return Ylt(e,a,i,r)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const n=this.activeFormattingElements.entries.findIndex(a=>a.type===yd.Marker||this.openElements.contains(a.element)),r=n===-1?e-1:n-1;for(let a=r;a>=0;a--){const i=this.activeFormattingElements.entries[a];this._insertElement(i.token,this.treeAdapter.getNamespaceURI(i.element)),i.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Ee.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(W.P),this.openElements.popUntilTagNamePopped(W.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case W.TR:{this.insertionMode=Ee.IN_ROW;return}case W.TBODY:case W.THEAD:case W.TFOOT:{this.insertionMode=Ee.IN_TABLE_BODY;return}case W.CAPTION:{this.insertionMode=Ee.IN_CAPTION;return}case W.COLGROUP:{this.insertionMode=Ee.IN_COLUMN_GROUP;return}case W.TABLE:{this.insertionMode=Ee.IN_TABLE;return}case W.BODY:{this.insertionMode=Ee.IN_BODY;return}case W.FRAMESET:{this.insertionMode=Ee.IN_FRAMESET;return}case W.SELECT:{this._resetInsertionModeForSelect(e);return}case W.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case W.HTML:{this.insertionMode=this.headElement?Ee.AFTER_HEAD:Ee.BEFORE_HEAD;return}case W.TD:case W.TH:{if(e>0){this.insertionMode=Ee.IN_CELL;return}break}case W.HEAD:{if(e>0){this.insertionMode=Ee.IN_HEAD;return}break}}this.insertionMode=Ee.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===W.TEMPLATE)break;if(r===W.TABLE){this.insertionMode=Ee.IN_SELECT_IN_TABLE;return}}this.insertionMode=Ee.IN_SELECT}_isElementCausesFosterParenting(e){return Iae.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case W.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===vt.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case W.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){const r=this.treeAdapter.getNamespaceURI(e);return blt[r].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Rut(this,e);return}switch(this.insertionMode){case Ee.INITIAL:{Zx(this,e);break}case Ee.BEFORE_HTML:{G2(this,e);break}case Ee.BEFORE_HEAD:{q2(this,e);break}case Ee.IN_HEAD:{V2(this,e);break}case Ee.IN_HEAD_NO_SCRIPT:{W2(this,e);break}case Ee.AFTER_HEAD:{Y2(this,e);break}case Ee.IN_BODY:case Ee.IN_CAPTION:case Ee.IN_CELL:case Ee.IN_TEMPLATE:{Oae(this,e);break}case Ee.TEXT:case Ee.IN_SELECT:case Ee.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case Ee.IN_TABLE:case Ee.IN_TABLE_BODY:case Ee.IN_ROW:{lk(this,e);break}case Ee.IN_TABLE_TEXT:{zae(this,e);break}case Ee.IN_COLUMN_GROUP:{JC(this,e);break}case Ee.AFTER_BODY:{e5(this,e);break}case Ee.AFTER_AFTER_BODY:{V4(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Aut(this,e);return}switch(this.insertionMode){case Ee.INITIAL:{Zx(this,e);break}case Ee.BEFORE_HTML:{G2(this,e);break}case Ee.BEFORE_HEAD:{q2(this,e);break}case Ee.IN_HEAD:{V2(this,e);break}case Ee.IN_HEAD_NO_SCRIPT:{W2(this,e);break}case Ee.AFTER_HEAD:{Y2(this,e);break}case Ee.TEXT:{this._insertCharacters(e);break}case Ee.IN_TABLE:case Ee.IN_TABLE_BODY:case Ee.IN_ROW:{lk(this,e);break}case Ee.IN_COLUMN_GROUP:{JC(this,e);break}case Ee.AFTER_BODY:{e5(this,e);break}case Ee.AFTER_AFTER_BODY:{V4(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){jj(this,e);return}switch(this.insertionMode){case Ee.INITIAL:case Ee.BEFORE_HTML:case Ee.BEFORE_HEAD:case Ee.IN_HEAD:case Ee.IN_HEAD_NO_SCRIPT:case Ee.AFTER_HEAD:case Ee.IN_BODY:case Ee.IN_TABLE:case Ee.IN_CAPTION:case Ee.IN_COLUMN_GROUP:case Ee.IN_TABLE_BODY:case Ee.IN_ROW:case Ee.IN_CELL:case Ee.IN_SELECT:case Ee.IN_SELECT_IN_TABLE:case Ee.IN_TEMPLATE:case Ee.IN_FRAMESET:case Ee.AFTER_FRAMESET:{jj(this,e);break}case Ee.IN_TABLE_TEXT:{Jx(this,e);break}case Ee.AFTER_BODY:{ict(this,e);break}case Ee.AFTER_AFTER_BODY:case Ee.AFTER_AFTER_FRAMESET:{sct(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case Ee.INITIAL:{oct(this,e);break}case Ee.BEFORE_HEAD:case Ee.IN_HEAD:case Ee.IN_HEAD_NO_SCRIPT:case Ee.AFTER_HEAD:{this._err(e,st.misplacedDoctype);break}case Ee.IN_TABLE_TEXT:{Jx(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,st.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?kut(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case Ee.INITIAL:{Zx(this,e);break}case Ee.BEFORE_HTML:{lct(this,e);break}case Ee.BEFORE_HEAD:{uct(this,e);break}case Ee.IN_HEAD:{ju(this,e);break}case Ee.IN_HEAD_NO_SCRIPT:{hct(this,e);break}case Ee.AFTER_HEAD:{mct(this,e);break}case Ee.IN_BODY:{Qs(this,e);break}case Ee.IN_TABLE:{gy(this,e);break}case Ee.IN_TABLE_TEXT:{Jx(this,e);break}case Ee.IN_CAPTION:{dut(this,e);break}case Ee.IN_COLUMN_GROUP:{TN(this,e);break}case Ee.IN_TABLE_BODY:{Ww(this,e);break}case Ee.IN_ROW:{Yw(this,e);break}case Ee.IN_CELL:{put(this,e);break}case Ee.IN_SELECT:{Hae(this,e);break}case Ee.IN_SELECT_IN_TABLE:{gut(this,e);break}case Ee.IN_TEMPLATE:{but(this,e);break}case Ee.AFTER_BODY:{vut(this,e);break}case Ee.IN_FRAMESET:{Sut(this,e);break}case Ee.AFTER_FRAMESET:{Cut(this,e);break}case Ee.AFTER_AFTER_BODY:{Eut(this,e);break}case Ee.AFTER_AFTER_FRAMESET:{Tut(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?Iut(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case Ee.INITIAL:{Zx(this,e);break}case Ee.BEFORE_HTML:{cct(this,e);break}case Ee.BEFORE_HEAD:{dct(this,e);break}case Ee.IN_HEAD:{fct(this,e);break}case Ee.IN_HEAD_NO_SCRIPT:{pct(this,e);break}case Ee.AFTER_HEAD:{gct(this,e);break}case Ee.IN_BODY:{Vw(this,e);break}case Ee.TEXT:{tut(this,e);break}case Ee.IN_TABLE:{zv(this,e);break}case Ee.IN_TABLE_TEXT:{Jx(this,e);break}case Ee.IN_CAPTION:{fut(this,e);break}case Ee.IN_COLUMN_GROUP:{hut(this,e);break}case Ee.IN_TABLE_BODY:{Oj(this,e);break}case Ee.IN_ROW:{Bae(this,e);break}case Ee.IN_CELL:{mut(this,e);break}case Ee.IN_SELECT:{Uae(this,e);break}case Ee.IN_SELECT_IN_TABLE:{yut(this,e);break}case Ee.IN_TEMPLATE:{xut(this,e);break}case Ee.AFTER_BODY:{Gae(this,e);break}case Ee.IN_FRAMESET:{_ut(this,e);break}case Ee.AFTER_FRAMESET:{wut(this,e);break}case Ee.AFTER_AFTER_BODY:{V4(this,e);break}}}onEof(e){switch(this.insertionMode){case Ee.INITIAL:{Zx(this,e);break}case Ee.BEFORE_HTML:{G2(this,e);break}case Ee.BEFORE_HEAD:{q2(this,e);break}case Ee.IN_HEAD:{V2(this,e);break}case Ee.IN_HEAD_NO_SCRIPT:{W2(this,e);break}case Ee.AFTER_HEAD:{Y2(this,e);break}case Ee.IN_BODY:case Ee.IN_TABLE:case Ee.IN_CAPTION:case Ee.IN_COLUMN_GROUP:case Ee.IN_TABLE_BODY:case Ee.IN_ROW:case Ee.IN_CELL:case Ee.IN_SELECT:case Ee.IN_SELECT_IN_TABLE:{Pae(this,e);break}case Ee.TEXT:{nut(this,e);break}case Ee.IN_TABLE_TEXT:{Jx(this,e);break}case Ee.IN_TEMPLATE:{$ae(this,e);break}case Ee.AFTER_BODY:case Ee.IN_FRAMESET:case Ee.AFTER_FRAMESET:case Ee.AFTER_AFTER_BODY:case Ee.AFTER_AFTER_FRAMESET:{EN(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===xe.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case Ee.IN_HEAD:case Ee.IN_HEAD_NO_SCRIPT:case Ee.AFTER_HEAD:case Ee.TEXT:case Ee.IN_COLUMN_GROUP:case Ee.IN_SELECT:case Ee.IN_SELECT_IN_TABLE:case Ee.IN_FRAMESET:case Ee.AFTER_FRAMESET:{this._insertCharacters(e);break}case Ee.IN_BODY:case Ee.IN_CAPTION:case Ee.IN_CELL:case Ee.IN_TEMPLATE:case Ee.AFTER_BODY:case Ee.AFTER_AFTER_BODY:case Ee.AFTER_AFTER_FRAMESET:{jae(this,e);break}case Ee.IN_TABLE:case Ee.IN_TABLE_BODY:case Ee.IN_ROW:{lk(this,e);break}case Ee.IN_TABLE_TEXT:{Lae(this,e);break}}}}function Jlt(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):Mae(t,e),n}function ect(t,e){let n=null,r=t.openElements.stackTop;for(;r>=0;r--){const a=t.openElements.items[r];if(a===e.element)break;t._isSpecialElement(a,t.openElements.tagIDs[r])&&(n=a)}return n||(t.openElements.shortenToLength(Math.max(r,0)),t.activeFormattingElements.removeEntry(e)),n}function tct(t,e,n){let r=e,a=t.openElements.getCommonAncestor(e);for(let i=0,s=a;s!==n;i++,s=a){a=t.openElements.getCommonAncestor(s);const o=t.activeFormattingElements.getElementEntry(s),l=o&&i>=Qlt;!o||l?(l&&t.activeFormattingElements.removeEntry(o),t.openElements.remove(s)):(s=nct(t,o),r===e&&(t.activeFormattingElements.bookmark=o),t.treeAdapter.detachNode(r),t.treeAdapter.appendChild(s,r),r=s)}return r}function nct(t,e){const n=t.treeAdapter.getNamespaceURI(e.element),r=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,r),e.element=r,r}function rct(t,e,n){const r=t.treeAdapter.getTagName(e),a=Yy(r);if(t._isElementCausesFosterParenting(a))t._fosterParentElement(n);else{const i=t.treeAdapter.getNamespaceURI(e);a===W.TEMPLATE&&i===vt.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function act(t,e,n){const r=t.treeAdapter.getNamespaceURI(n.element),{token:a}=n,i=t.treeAdapter.createElement(a.tagName,r,a.attrs);t._adoptNodes(e,i),t.treeAdapter.appendChild(e,i),t.activeFormattingElements.insertElementAfterBookmark(i,a),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,i,a.tagID)}function wN(t,e){for(let n=0;n<Xlt;n++){const r=Jlt(t,e);if(!r)break;const a=ect(t,r);if(!a)break;t.activeFormattingElements.bookmark=r;const i=tct(t,a,r.element),s=t.openElements.getCommonAncestor(r.element);t.treeAdapter.detachNode(i),s&&rct(t,s,i),act(t,a,r)}}function jj(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function ict(t,e){t._appendCommentNode(e,t.openElements.items[0])}function sct(t,e){t._appendCommentNode(e,t.document)}function EN(t,e){if(t.stopped=!0,e.location){const n=t.fragmentContext?0:2;for(let r=t.openElements.stackTop;r>=n;r--)t._setEndLocation(t.openElements.items[r],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const r=t.openElements.items[0],a=t.treeAdapter.getNodeSourceCodeLocation(r);if(a&&!a.endTag&&(t._setEndLocation(r,e),t.openElements.stackTop>=1)){const i=t.openElements.items[1],s=t.treeAdapter.getNodeSourceCodeLocation(i);s&&!s.endTag&&t._setEndLocation(i,e)}}}}function oct(t,e){t._setDocumentType(e);const n=e.forceQuirks?xc.QUIRKS:Llt(e);Plt(e)||t._err(e,st.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=Ee.BEFORE_HTML}function Zx(t,e){t._err(e,st.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,xc.QUIRKS),t.insertionMode=Ee.BEFORE_HTML,t._processToken(e)}function lct(t,e){e.tagID===W.HTML?(t._insertElement(e,vt.HTML),t.insertionMode=Ee.BEFORE_HEAD):G2(t,e)}function cct(t,e){const n=e.tagID;(n===W.HTML||n===W.HEAD||n===W.BODY||n===W.BR)&&G2(t,e)}function G2(t,e){t._insertFakeRootElement(),t.insertionMode=Ee.BEFORE_HEAD,t._processToken(e)}function uct(t,e){switch(e.tagID){case W.HTML:{Qs(t,e);break}case W.HEAD:{t._insertElement(e,vt.HTML),t.headElement=t.openElements.current,t.insertionMode=Ee.IN_HEAD;break}default:q2(t,e)}}function dct(t,e){const n=e.tagID;n===W.HEAD||n===W.BODY||n===W.HTML||n===W.BR?q2(t,e):t._err(e,st.endTagWithoutMatchingOpenElement)}function q2(t,e){t._insertFakeElement(qe.HEAD,W.HEAD),t.headElement=t.openElements.current,t.insertionMode=Ee.IN_HEAD,t._processToken(e)}function ju(t,e){switch(e.tagID){case W.HTML:{Qs(t,e);break}case W.BASE:case W.BASEFONT:case W.BGSOUND:case W.LINK:case W.META:{t._appendElement(e,vt.HTML),e.ackSelfClosing=!0;break}case W.TITLE:{t._switchToTextParsing(e,oi.RCDATA);break}case W.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,oi.RAWTEXT):(t._insertElement(e,vt.HTML),t.insertionMode=Ee.IN_HEAD_NO_SCRIPT);break}case W.NOFRAMES:case W.STYLE:{t._switchToTextParsing(e,oi.RAWTEXT);break}case W.SCRIPT:{t._switchToTextParsing(e,oi.SCRIPT_DATA);break}case W.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=Ee.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(Ee.IN_TEMPLATE);break}case W.HEAD:{t._err(e,st.misplacedStartTagForHeadElement);break}default:V2(t,e)}}function fct(t,e){switch(e.tagID){case W.HEAD:{t.openElements.pop(),t.insertionMode=Ee.AFTER_HEAD;break}case W.BODY:case W.BR:case W.HTML:{V2(t,e);break}case W.TEMPLATE:{Vg(t,e);break}default:t._err(e,st.endTagWithoutMatchingOpenElement)}}function Vg(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==W.TEMPLATE&&t._err(e,st.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(W.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,st.endTagWithoutMatchingOpenElement)}function V2(t,e){t.openElements.pop(),t.insertionMode=Ee.AFTER_HEAD,t._processToken(e)}function hct(t,e){switch(e.tagID){case W.HTML:{Qs(t,e);break}case W.BASEFONT:case W.BGSOUND:case W.HEAD:case W.LINK:case W.META:case W.NOFRAMES:case W.STYLE:{ju(t,e);break}case W.NOSCRIPT:{t._err(e,st.nestedNoscriptInHead);break}default:W2(t,e)}}function pct(t,e){switch(e.tagID){case W.NOSCRIPT:{t.openElements.pop(),t.insertionMode=Ee.IN_HEAD;break}case W.BR:{W2(t,e);break}default:t._err(e,st.endTagWithoutMatchingOpenElement)}}function W2(t,e){const n=e.type===Xn.EOF?st.openElementsLeftAfterEof:st.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=Ee.IN_HEAD,t._processToken(e)}function mct(t,e){switch(e.tagID){case W.HTML:{Qs(t,e);break}case W.BODY:{t._insertElement(e,vt.HTML),t.framesetOk=!1,t.insertionMode=Ee.IN_BODY;break}case W.FRAMESET:{t._insertElement(e,vt.HTML),t.insertionMode=Ee.IN_FRAMESET;break}case W.BASE:case W.BASEFONT:case W.BGSOUND:case W.LINK:case W.META:case W.NOFRAMES:case W.SCRIPT:case W.STYLE:case W.TEMPLATE:case W.TITLE:{t._err(e,st.abandonedHeadElementChild),t.openElements.push(t.headElement,W.HEAD),ju(t,e),t.openElements.remove(t.headElement);break}case W.HEAD:{t._err(e,st.misplacedStartTagForHeadElement);break}default:Y2(t,e)}}function gct(t,e){switch(e.tagID){case W.BODY:case W.HTML:case W.BR:{Y2(t,e);break}case W.TEMPLATE:{Vg(t,e);break}default:t._err(e,st.endTagWithoutMatchingOpenElement)}}function Y2(t,e){t._insertFakeElement(qe.BODY,W.BODY),t.insertionMode=Ee.IN_BODY,qw(t,e)}function qw(t,e){switch(e.type){case Xn.CHARACTER:{Oae(t,e);break}case Xn.WHITESPACE_CHARACTER:{jae(t,e);break}case Xn.COMMENT:{jj(t,e);break}case Xn.START_TAG:{Qs(t,e);break}case Xn.END_TAG:{Vw(t,e);break}case Xn.EOF:{Pae(t,e);break}}}function jae(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function Oae(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function yct(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function bct(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function xct(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,vt.HTML),t.insertionMode=Ee.IN_FRAMESET)}function vct(t,e){t.openElements.hasInButtonScope(W.P)&&t._closePElement(),t._insertElement(e,vt.HTML)}function Sct(t,e){t.openElements.hasInButtonScope(W.P)&&t._closePElement(),t.openElements.currentTagId!==void 0&&Ij.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,vt.HTML)}function _ct(t,e){t.openElements.hasInButtonScope(W.P)&&t._closePElement(),t._insertElement(e,vt.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function Cct(t,e){const n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(W.P)&&t._closePElement(),t._insertElement(e,vt.HTML),n||(t.formElement=t.openElements.current))}function wct(t,e){t.framesetOk=!1;const n=e.tagID;for(let r=t.openElements.stackTop;r>=0;r--){const a=t.openElements.tagIDs[r];if(n===W.LI&&a===W.LI||(n===W.DD||n===W.DT)&&(a===W.DD||a===W.DT)){t.openElements.generateImpliedEndTagsWithExclusion(a),t.openElements.popUntilTagNamePopped(a);break}if(a!==W.ADDRESS&&a!==W.DIV&&a!==W.P&&t._isSpecialElement(t.openElements.items[r],a))break}t.openElements.hasInButtonScope(W.P)&&t._closePElement(),t._insertElement(e,vt.HTML)}function Ect(t,e){t.openElements.hasInButtonScope(W.P)&&t._closePElement(),t._insertElement(e,vt.HTML),t.tokenizer.state=oi.PLAINTEXT}function Tct(t,e){t.openElements.hasInScope(W.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(W.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,vt.HTML),t.framesetOk=!1}function Act(t,e){const n=t.activeFormattingElements.getElementEntryInScopeWithTagName(qe.A);n&&(wN(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,vt.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function Rct(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,vt.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function kct(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(W.NOBR)&&(wN(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,vt.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function Ict(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,vt.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function jct(t,e){t.treeAdapter.getDocumentMode(t.document)!==xc.QUIRKS&&t.openElements.hasInButtonScope(W.P)&&t._closePElement(),t._insertElement(e,vt.HTML),t.framesetOk=!1,t.insertionMode=Ee.IN_TABLE}function Dae(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,vt.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function Nae(t){const e=_ae(t,ug.TYPE);return e!=null&&e.toLowerCase()===Klt}function Oct(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,vt.HTML),Nae(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function Dct(t,e){t._appendElement(e,vt.HTML),e.ackSelfClosing=!0}function Nct(t,e){t.openElements.hasInButtonScope(W.P)&&t._closePElement(),t._appendElement(e,vt.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function Mct(t,e){e.tagName=qe.IMG,e.tagID=W.IMG,Dae(t,e)}function Pct(t,e){t._insertElement(e,vt.HTML),t.skipNextNewLine=!0,t.tokenizer.state=oi.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=Ee.TEXT}function Lct(t,e){t.openElements.hasInButtonScope(W.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,oi.RAWTEXT)}function zct(t,e){t.framesetOk=!1,t._switchToTextParsing(e,oi.RAWTEXT)}function wY(t,e){t._switchToTextParsing(e,oi.RAWTEXT)}function Fct(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,vt.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===Ee.IN_TABLE||t.insertionMode===Ee.IN_CAPTION||t.insertionMode===Ee.IN_TABLE_BODY||t.insertionMode===Ee.IN_ROW||t.insertionMode===Ee.IN_CELL?Ee.IN_SELECT_IN_TABLE:Ee.IN_SELECT}function Bct(t,e){t.openElements.currentTagId===W.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,vt.HTML)}function Hct(t,e){t.openElements.hasInScope(W.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,vt.HTML)}function Uct(t,e){t.openElements.hasInScope(W.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(W.RTC),t._insertElement(e,vt.HTML)}function $ct(t,e){t._reconstructActiveFormattingElements(),Rae(e),CN(e),e.selfClosing?t._appendElement(e,vt.MATHML):t._insertElement(e,vt.MATHML),e.ackSelfClosing=!0}function Gct(t,e){t._reconstructActiveFormattingElements(),kae(e),CN(e),e.selfClosing?t._appendElement(e,vt.SVG):t._insertElement(e,vt.SVG),e.ackSelfClosing=!0}function EY(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,vt.HTML)}function Qs(t,e){switch(e.tagID){case W.I:case W.S:case W.B:case W.U:case W.EM:case W.TT:case W.BIG:case W.CODE:case W.FONT:case W.SMALL:case W.STRIKE:case W.STRONG:{Rct(t,e);break}case W.A:{Act(t,e);break}case W.H1:case W.H2:case W.H3:case W.H4:case W.H5:case W.H6:{Sct(t,e);break}case W.P:case W.DL:case W.OL:case W.UL:case W.DIV:case W.DIR:case W.NAV:case W.MAIN:case W.MENU:case W.ASIDE:case W.CENTER:case W.FIGURE:case W.FOOTER:case W.HEADER:case W.HGROUP:case W.DIALOG:case W.DETAILS:case W.ADDRESS:case W.ARTICLE:case W.SEARCH:case W.SECTION:case W.SUMMARY:case W.FIELDSET:case W.BLOCKQUOTE:case W.FIGCAPTION:{vct(t,e);break}case W.LI:case W.DD:case W.DT:{wct(t,e);break}case W.BR:case W.IMG:case W.WBR:case W.AREA:case W.EMBED:case W.KEYGEN:{Dae(t,e);break}case W.HR:{Nct(t,e);break}case W.RB:case W.RTC:{Hct(t,e);break}case W.RT:case W.RP:{Uct(t,e);break}case W.PRE:case W.LISTING:{_ct(t,e);break}case W.XMP:{Lct(t,e);break}case W.SVG:{Gct(t,e);break}case W.HTML:{yct(t,e);break}case W.BASE:case W.LINK:case W.META:case W.STYLE:case W.TITLE:case W.SCRIPT:case W.BGSOUND:case W.BASEFONT:case W.TEMPLATE:{ju(t,e);break}case W.BODY:{bct(t,e);break}case W.FORM:{Cct(t,e);break}case W.NOBR:{kct(t,e);break}case W.MATH:{$ct(t,e);break}case W.TABLE:{jct(t,e);break}case W.INPUT:{Oct(t,e);break}case W.PARAM:case W.TRACK:case W.SOURCE:{Dct(t,e);break}case W.IMAGE:{Mct(t,e);break}case W.BUTTON:{Tct(t,e);break}case W.APPLET:case W.OBJECT:case W.MARQUEE:{Ict(t,e);break}case W.IFRAME:{zct(t,e);break}case W.SELECT:{Fct(t,e);break}case W.OPTION:case W.OPTGROUP:{Bct(t,e);break}case W.NOEMBED:case W.NOFRAMES:{wY(t,e);break}case W.FRAMESET:{xct(t,e);break}case W.TEXTAREA:{Pct(t,e);break}case W.NOSCRIPT:{t.options.scriptingEnabled?wY(t,e):EY(t,e);break}case W.PLAINTEXT:{Ect(t,e);break}case W.COL:case W.TH:case W.TD:case W.TR:case W.HEAD:case W.FRAME:case W.TBODY:case W.TFOOT:case W.THEAD:case W.CAPTION:case W.COLGROUP:break;default:EY(t,e)}}function qct(t,e){if(t.openElements.hasInScope(W.BODY)&&(t.insertionMode=Ee.AFTER_BODY,t.options.sourceCodeLocationInfo)){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function Vct(t,e){t.openElements.hasInScope(W.BODY)&&(t.insertionMode=Ee.AFTER_BODY,Gae(t,e))}function Wct(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function Yct(t){const e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(W.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(W.FORM):n&&t.openElements.remove(n))}function Kct(t){t.openElements.hasInButtonScope(W.P)||t._insertFakeElement(qe.P,W.P),t._closePElement()}function Xct(t){t.openElements.hasInListItemScope(W.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(W.LI),t.openElements.popUntilTagNamePopped(W.LI))}function Qct(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function Zct(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function Jct(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function eut(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(qe.BR,W.BR),t.openElements.pop(),t.framesetOk=!1}function Mae(t,e){const n=e.tagName,r=e.tagID;for(let a=t.openElements.stackTop;a>0;a--){const i=t.openElements.items[a],s=t.openElements.tagIDs[a];if(r===s&&(r!==W.UNKNOWN||t.treeAdapter.getTagName(i)===n)){t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.stackTop>=a&&t.openElements.shortenToLength(a);break}if(t._isSpecialElement(i,s))break}}function Vw(t,e){switch(e.tagID){case W.A:case W.B:case W.I:case W.S:case W.U:case W.EM:case W.TT:case W.BIG:case W.CODE:case W.FONT:case W.NOBR:case W.SMALL:case W.STRIKE:case W.STRONG:{wN(t,e);break}case W.P:{Kct(t);break}case W.DL:case W.UL:case W.OL:case W.DIR:case W.DIV:case W.NAV:case W.PRE:case W.MAIN:case W.MENU:case W.ASIDE:case W.BUTTON:case W.CENTER:case W.FIGURE:case W.FOOTER:case W.HEADER:case W.HGROUP:case W.DIALOG:case W.ADDRESS:case W.ARTICLE:case W.DETAILS:case W.SEARCH:case W.SECTION:case W.SUMMARY:case W.LISTING:case W.FIELDSET:case W.BLOCKQUOTE:case W.FIGCAPTION:{Wct(t,e);break}case W.LI:{Xct(t);break}case W.DD:case W.DT:{Qct(t,e);break}case W.H1:case W.H2:case W.H3:case W.H4:case W.H5:case W.H6:{Zct(t);break}case W.BR:{eut(t);break}case W.BODY:{qct(t,e);break}case W.HTML:{Vct(t,e);break}case W.FORM:{Yct(t);break}case W.APPLET:case W.OBJECT:case W.MARQUEE:{Jct(t,e);break}case W.TEMPLATE:{Vg(t,e);break}default:Mae(t,e)}}function Pae(t,e){t.tmplInsertionModeStack.length>0?$ae(t,e):EN(t,e)}function tut(t,e){var n;e.tagID===W.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function nut(t,e){t._err(e,st.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function lk(t,e){if(t.openElements.currentTagId!==void 0&&Iae.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=Ee.IN_TABLE_TEXT,e.type){case Xn.CHARACTER:{zae(t,e);break}case Xn.WHITESPACE_CHARACTER:{Lae(t,e);break}}else ES(t,e)}function rut(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,vt.HTML),t.insertionMode=Ee.IN_CAPTION}function aut(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,vt.HTML),t.insertionMode=Ee.IN_COLUMN_GROUP}function iut(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(qe.COLGROUP,W.COLGROUP),t.insertionMode=Ee.IN_COLUMN_GROUP,TN(t,e)}function sut(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,vt.HTML),t.insertionMode=Ee.IN_TABLE_BODY}function out(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(qe.TBODY,W.TBODY),t.insertionMode=Ee.IN_TABLE_BODY,Ww(t,e)}function lut(t,e){t.openElements.hasInTableScope(W.TABLE)&&(t.openElements.popUntilTagNamePopped(W.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function cut(t,e){Nae(e)?t._appendElement(e,vt.HTML):ES(t,e),e.ackSelfClosing=!0}function uut(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,vt.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function gy(t,e){switch(e.tagID){case W.TD:case W.TH:case W.TR:{out(t,e);break}case W.STYLE:case W.SCRIPT:case W.TEMPLATE:{ju(t,e);break}case W.COL:{iut(t,e);break}case W.FORM:{uut(t,e);break}case W.TABLE:{lut(t,e);break}case W.TBODY:case W.TFOOT:case W.THEAD:{sut(t,e);break}case W.INPUT:{cut(t,e);break}case W.CAPTION:{rut(t,e);break}case W.COLGROUP:{aut(t,e);break}default:ES(t,e)}}function zv(t,e){switch(e.tagID){case W.TABLE:{t.openElements.hasInTableScope(W.TABLE)&&(t.openElements.popUntilTagNamePopped(W.TABLE),t._resetInsertionMode());break}case W.TEMPLATE:{Vg(t,e);break}case W.BODY:case W.CAPTION:case W.COL:case W.COLGROUP:case W.HTML:case W.TBODY:case W.TD:case W.TFOOT:case W.TH:case W.THEAD:case W.TR:break;default:ES(t,e)}}function ES(t,e){const n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,qw(t,e),t.fosterParentingEnabled=n}function Lae(t,e){t.pendingCharacterTokens.push(e)}function zae(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function Jx(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)ES(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const Fae=new Set([W.CAPTION,W.COL,W.COLGROUP,W.TBODY,W.TD,W.TFOOT,W.TH,W.THEAD,W.TR]);function dut(t,e){const n=e.tagID;Fae.has(n)?t.openElements.hasInTableScope(W.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(W.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Ee.IN_TABLE,gy(t,e)):Qs(t,e)}function fut(t,e){const n=e.tagID;switch(n){case W.CAPTION:case W.TABLE:{t.openElements.hasInTableScope(W.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(W.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Ee.IN_TABLE,n===W.TABLE&&zv(t,e));break}case W.BODY:case W.COL:case W.COLGROUP:case W.HTML:case W.TBODY:case W.TD:case W.TFOOT:case W.TH:case W.THEAD:case W.TR:break;default:Vw(t,e)}}function TN(t,e){switch(e.tagID){case W.HTML:{Qs(t,e);break}case W.COL:{t._appendElement(e,vt.HTML),e.ackSelfClosing=!0;break}case W.TEMPLATE:{ju(t,e);break}default:JC(t,e)}}function hut(t,e){switch(e.tagID){case W.COLGROUP:{t.openElements.currentTagId===W.COLGROUP&&(t.openElements.pop(),t.insertionMode=Ee.IN_TABLE);break}case W.TEMPLATE:{Vg(t,e);break}case W.COL:break;default:JC(t,e)}}function JC(t,e){t.openElements.currentTagId===W.COLGROUP&&(t.openElements.pop(),t.insertionMode=Ee.IN_TABLE,t._processToken(e))}function Ww(t,e){switch(e.tagID){case W.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,vt.HTML),t.insertionMode=Ee.IN_ROW;break}case W.TH:case W.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(qe.TR,W.TR),t.insertionMode=Ee.IN_ROW,Yw(t,e);break}case W.CAPTION:case W.COL:case W.COLGROUP:case W.TBODY:case W.TFOOT:case W.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Ee.IN_TABLE,gy(t,e));break}default:gy(t,e)}}function Oj(t,e){const n=e.tagID;switch(e.tagID){case W.TBODY:case W.TFOOT:case W.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Ee.IN_TABLE);break}case W.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Ee.IN_TABLE,zv(t,e));break}case W.BODY:case W.CAPTION:case W.COL:case W.COLGROUP:case W.HTML:case W.TD:case W.TH:case W.TR:break;default:zv(t,e)}}function Yw(t,e){switch(e.tagID){case W.TH:case W.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,vt.HTML),t.insertionMode=Ee.IN_CELL,t.activeFormattingElements.insertMarker();break}case W.CAPTION:case W.COL:case W.COLGROUP:case W.TBODY:case W.TFOOT:case W.THEAD:case W.TR:{t.openElements.hasInTableScope(W.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Ee.IN_TABLE_BODY,Ww(t,e));break}default:gy(t,e)}}function Bae(t,e){switch(e.tagID){case W.TR:{t.openElements.hasInTableScope(W.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Ee.IN_TABLE_BODY);break}case W.TABLE:{t.openElements.hasInTableScope(W.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Ee.IN_TABLE_BODY,Oj(t,e));break}case W.TBODY:case W.TFOOT:case W.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(W.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Ee.IN_TABLE_BODY,Oj(t,e));break}case W.BODY:case W.CAPTION:case W.COL:case W.COLGROUP:case W.HTML:case W.TD:case W.TH:break;default:zv(t,e)}}function put(t,e){const n=e.tagID;Fae.has(n)?(t.openElements.hasInTableScope(W.TD)||t.openElements.hasInTableScope(W.TH))&&(t._closeTableCell(),Yw(t,e)):Qs(t,e)}function mut(t,e){const n=e.tagID;switch(n){case W.TD:case W.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Ee.IN_ROW);break}case W.TABLE:case W.TBODY:case W.TFOOT:case W.THEAD:case W.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),Bae(t,e));break}case W.BODY:case W.CAPTION:case W.COL:case W.COLGROUP:case W.HTML:break;default:Vw(t,e)}}function Hae(t,e){switch(e.tagID){case W.HTML:{Qs(t,e);break}case W.OPTION:{t.openElements.currentTagId===W.OPTION&&t.openElements.pop(),t._insertElement(e,vt.HTML);break}case W.OPTGROUP:{t.openElements.currentTagId===W.OPTION&&t.openElements.pop(),t.openElements.currentTagId===W.OPTGROUP&&t.openElements.pop(),t._insertElement(e,vt.HTML);break}case W.HR:{t.openElements.currentTagId===W.OPTION&&t.openElements.pop(),t.openElements.currentTagId===W.OPTGROUP&&t.openElements.pop(),t._appendElement(e,vt.HTML),e.ackSelfClosing=!0;break}case W.INPUT:case W.KEYGEN:case W.TEXTAREA:case W.SELECT:{t.openElements.hasInSelectScope(W.SELECT)&&(t.openElements.popUntilTagNamePopped(W.SELECT),t._resetInsertionMode(),e.tagID!==W.SELECT&&t._processStartTag(e));break}case W.SCRIPT:case W.TEMPLATE:{ju(t,e);break}}}function Uae(t,e){switch(e.tagID){case W.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===W.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===W.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===W.OPTGROUP&&t.openElements.pop();break}case W.OPTION:{t.openElements.currentTagId===W.OPTION&&t.openElements.pop();break}case W.SELECT:{t.openElements.hasInSelectScope(W.SELECT)&&(t.openElements.popUntilTagNamePopped(W.SELECT),t._resetInsertionMode());break}case W.TEMPLATE:{Vg(t,e);break}}}function gut(t,e){const n=e.tagID;n===W.CAPTION||n===W.TABLE||n===W.TBODY||n===W.TFOOT||n===W.THEAD||n===W.TR||n===W.TD||n===W.TH?(t.openElements.popUntilTagNamePopped(W.SELECT),t._resetInsertionMode(),t._processStartTag(e)):Hae(t,e)}function yut(t,e){const n=e.tagID;n===W.CAPTION||n===W.TABLE||n===W.TBODY||n===W.TFOOT||n===W.THEAD||n===W.TR||n===W.TD||n===W.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(W.SELECT),t._resetInsertionMode(),t.onEndTag(e)):Uae(t,e)}function but(t,e){switch(e.tagID){case W.BASE:case W.BASEFONT:case W.BGSOUND:case W.LINK:case W.META:case W.NOFRAMES:case W.SCRIPT:case W.STYLE:case W.TEMPLATE:case W.TITLE:{ju(t,e);break}case W.CAPTION:case W.COLGROUP:case W.TBODY:case W.TFOOT:case W.THEAD:{t.tmplInsertionModeStack[0]=Ee.IN_TABLE,t.insertionMode=Ee.IN_TABLE,gy(t,e);break}case W.COL:{t.tmplInsertionModeStack[0]=Ee.IN_COLUMN_GROUP,t.insertionMode=Ee.IN_COLUMN_GROUP,TN(t,e);break}case W.TR:{t.tmplInsertionModeStack[0]=Ee.IN_TABLE_BODY,t.insertionMode=Ee.IN_TABLE_BODY,Ww(t,e);break}case W.TD:case W.TH:{t.tmplInsertionModeStack[0]=Ee.IN_ROW,t.insertionMode=Ee.IN_ROW,Yw(t,e);break}default:t.tmplInsertionModeStack[0]=Ee.IN_BODY,t.insertionMode=Ee.IN_BODY,Qs(t,e)}}function xut(t,e){e.tagID===W.TEMPLATE&&Vg(t,e)}function $ae(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(W.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):EN(t,e)}function vut(t,e){e.tagID===W.HTML?Qs(t,e):e5(t,e)}function Gae(t,e){var n;if(e.tagID===W.HTML){if(t.fragmentContext||(t.insertionMode=Ee.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===W.HTML){t._setEndLocation(t.openElements.items[0],e);const r=t.openElements.items[1];r&&!(!((n=t.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&t._setEndLocation(r,e)}}else e5(t,e)}function e5(t,e){t.insertionMode=Ee.IN_BODY,qw(t,e)}function Sut(t,e){switch(e.tagID){case W.HTML:{Qs(t,e);break}case W.FRAMESET:{t._insertElement(e,vt.HTML);break}case W.FRAME:{t._appendElement(e,vt.HTML),e.ackSelfClosing=!0;break}case W.NOFRAMES:{ju(t,e);break}}}function _ut(t,e){e.tagID===W.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==W.FRAMESET&&(t.insertionMode=Ee.AFTER_FRAMESET))}function Cut(t,e){switch(e.tagID){case W.HTML:{Qs(t,e);break}case W.NOFRAMES:{ju(t,e);break}}}function wut(t,e){e.tagID===W.HTML&&(t.insertionMode=Ee.AFTER_AFTER_FRAMESET)}function Eut(t,e){e.tagID===W.HTML?Qs(t,e):V4(t,e)}function V4(t,e){t.insertionMode=Ee.IN_BODY,qw(t,e)}function Tut(t,e){switch(e.tagID){case W.HTML:{Qs(t,e);break}case W.NOFRAMES:{ju(t,e);break}}}function Aut(t,e){e.chars=Aa,t._insertCharacters(e)}function Rut(t,e){t._insertCharacters(e),t.framesetOk=!1}function qae(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==vt.HTML&&t.openElements.currentTagId!==void 0&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function kut(t,e){if(Glt(e))qae(t),t._startTagOutsideForeignContent(e);else{const n=t._getAdjustedCurrentElement(),r=t.treeAdapter.getNamespaceURI(n);r===vt.MATHML?Rae(e):r===vt.SVG&&(qlt(e),kae(e)),CN(e),e.selfClosing?t._appendElement(e,r):t._insertElement(e,r),e.ackSelfClosing=!0}}function Iut(t,e){if(e.tagID===W.P||e.tagID===W.BR){qae(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){const r=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(r)===vt.HTML){t._endTagOutsideForeignContent(e);break}const a=t.treeAdapter.getTagName(r);if(a.toLowerCase()===e.tagName){e.tagName=a,t.openElements.shortenToLength(n);break}}}qe.AREA,qe.BASE,qe.BASEFONT,qe.BGSOUND,qe.BR,qe.COL,qe.EMBED,qe.FRAME,qe.HR,qe.IMG,qe.INPUT,qe.KEYGEN,qe.LINK,qe.META,qe.PARAM,qe.SOURCE,qe.TRACK,qe.WBR;const jut=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,Out=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),TY={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Vae(t,e){const n=Uut(t),r=Bre("type",{handlers:{root:Dut,element:Nut,text:Mut,comment:Yae,doctype:Put,raw:zut},unknown:Fut}),a={parser:n?new CY(TY):CY.getFragmentParser(void 0,TY),handle(o){r(o,a)},stitches:!1,options:e||{}};r(t,a),Ky(a,Hd());const i=n?a.parser.document:a.parser.getFragment(),s=Dot(i,{file:a.options.file});return a.stitches&&Gw(s,"comment",function(o,l,u){const d=o;if(d.value.stitch&&u&&l!==void 0){const h=u.children;return h[l]=d.value.stitch,l}}),s.type==="root"&&s.children.length===1&&s.children[0].type===t.type?s.children[0]:s}function Wae(t,e){let n=-1;if(t)for(;++n<t.length;)e.handle(t[n])}function Dut(t,e){Wae(t.children,e)}function Nut(t,e){But(t,e),Wae(t.children,e),Hut(t,e)}function Mut(t,e){e.parser.tokenizer.state>4&&(e.parser.tokenizer.state=0);const n={type:Xn.CHARACTER,chars:t.value,location:TS(t)};Ky(e,Hd(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function Put(t,e){const n={type:Xn.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:TS(t)};Ky(e,Hd(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function Lut(t,e){e.stitches=!0;const n=$ut(t);if("children"in t&&"children"in n){const r=Vae({type:"root",children:t.children},e.options);n.children=r.children}Yae({type:"comment",value:{stitch:n}},e)}function Yae(t,e){const n=t.value,r={type:Xn.COMMENT,data:n,location:TS(t)};Ky(e,Hd(t)),e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)}function zut(t,e){if(e.parser.tokenizer.preprocessor.html="",e.parser.tokenizer.preprocessor.pos=-1,e.parser.tokenizer.preprocessor.lastGapPos=-2,e.parser.tokenizer.preprocessor.gapStack=[],e.parser.tokenizer.preprocessor.skipNextNewLine=!1,e.parser.tokenizer.preprocessor.lastChunkWritten=!1,e.parser.tokenizer.preprocessor.endOfChunkHit=!1,e.parser.tokenizer.preprocessor.isEol=!1,Kae(e,Hd(t)),e.parser.tokenizer.write(e.options.tagfilter?t.value.replace(jut,"&lt;$1$2"):t.value,!1),e.parser.tokenizer._runParsingLoop(),e.parser.tokenizer.state===72||e.parser.tokenizer.state===78){e.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=e.parser.tokenizer._consume();e.parser.tokenizer._callState(n)}}function Fut(t,e){const n=t;if(e.options.passThrough&&e.options.passThrough.includes(n.type))Lut(n,e);else{let r="";throw Out.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Ky(t,e){Kae(t,e);const n=t.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=t.parser.tokenizer.preprocessor.line,n.location.endCol=t.parser.tokenizer.preprocessor.col+1,n.location.endOffset=t.parser.tokenizer.preprocessor.offset+1,t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)),t.parser.tokenizer.paused=!1,t.parser.tokenizer.inLoop=!1,t.parser.tokenizer.active=!1,t.parser.tokenizer.returnState=oi.DATA,t.parser.tokenizer.charRefCode=-1,t.parser.tokenizer.consumedAfterSnapshot=-1,t.parser.tokenizer.currentLocation=null,t.parser.tokenizer.currentCharacterToken=null,t.parser.tokenizer.currentToken=null,t.parser.tokenizer.currentAttr={name:"",value:""}}function Kae(t,e){if(e&&e.offset!==void 0){const n={startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:-1,endCol:-1,endOffset:-1};t.parser.tokenizer.preprocessor.lineStartPos=-e.column+1,t.parser.tokenizer.preprocessor.droppedBufferSize=e.offset,t.parser.tokenizer.preprocessor.line=e.line,t.parser.tokenizer.currentLocation=n}}function But(t,e){const n=t.tagName.toLowerCase();if(e.parser.tokenizer.state===oi.PLAINTEXT)return;Ky(e,Hd(t));const r=e.parser.openElements.current;let a="namespaceURI"in r?r.namespaceURI:tg.html;a===tg.html&&n==="svg"&&(a=tg.svg);const i=Yot({...t,children:[]},{space:a===tg.svg?"svg":"html"}),s={type:Xn.START_TAG,tagName:n,tagID:Yy(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in i?i.attrs:[],location:TS(t)};e.parser.currentToken=s,e.parser._processToken(e.parser.currentToken),e.parser.tokenizer.lastStartTagName=n}function Hut(t,e){const n=t.tagName.toLowerCase();if(!e.parser.tokenizer.inForeignNode&&nlt.includes(n)||e.parser.tokenizer.state===oi.PLAINTEXT)return;Ky(e,zw(t));const r={type:Xn.END_TAG,tagName:n,tagID:Yy(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:TS(t)};e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken),n===e.parser.tokenizer.lastStartTagName&&(e.parser.tokenizer.state===oi.RCDATA||e.parser.tokenizer.state===oi.RAWTEXT||e.parser.tokenizer.state===oi.SCRIPT_DATA)&&(e.parser.tokenizer.state=oi.DATA)}function Uut(t){const e=t.type==="root"?t.children[0]:t;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName.toLowerCase()==="html"))}function TS(t){const e=Hd(t)||{line:void 0,column:void 0,offset:void 0},n=zw(t)||{line:void 0,column:void 0,offset:void 0};return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function $ut(t){return"children"in t?Rg({...t,children:[]}):Rg(t)}function Gut(t){return function(e,n){return Vae(e,{...t,file:n})}}const jm=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],AY={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...jm,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...jm],h2:[["className","sr-only"]],img:[...jm,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...jm,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...jm],table:[...jm],ul:[...jm,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},Jh={}.hasOwnProperty;function qut(t,e){let n={type:"root",children:[]};const r={schema:e?{...AY,...e}:AY,stack:[]},a=Xae(r,t);return a&&(Array.isArray(a)?a.length===1?n=a[0]:n.children=a:n=a),n}function Xae(t,e){if(e&&typeof e=="object"){const n=e;switch(typeof n.type=="string"?n.type:""){case"comment":return Vut(t,n);case"doctype":return Wut(t,n);case"element":return Yut(t,n);case"root":return Kut(t,n);case"text":return Xut(t,n)}}}function Vut(t,e){if(t.schema.allowComments){const n=typeof e.value=="string"?e.value:"",r=n.indexOf("-->"),i={type:"comment",value:r<0?n:n.slice(0,r)};return AS(i,e),i}}function Wut(t,e){if(t.schema.allowDoctypes){const n={type:"doctype"};return AS(n,e),n}}function Yut(t,e){const n=typeof e.tagName=="string"?e.tagName:"";t.stack.push(n);const r=Qae(t,e.children),a=Qut(t,e.properties);t.stack.pop();let i=!1;if(n&&n!=="*"&&(!t.schema.tagNames||t.schema.tagNames.includes(n))&&(i=!0,t.schema.ancestors&&Jh.call(t.schema.ancestors,n))){const o=t.schema.ancestors[n];let l=-1;for(i=!1;++l<o.length;)t.stack.includes(o[l])&&(i=!0)}if(!i)return t.schema.strip&&!t.schema.strip.includes(n)?r:void 0;const s={type:"element",tagName:n,properties:a,children:r};return AS(s,e),s}function Kut(t,e){const r={type:"root",children:Qae(t,e.children)};return AS(r,e),r}function Xut(t,e){const r={type:"text",value:typeof e.value=="string"?e.value:""};return AS(r,e),r}function Qae(t,e){const n=[];if(Array.isArray(e)){const r=e;let a=-1;for(;++a<r.length;){const i=Xae(t,r[a]);i&&(Array.isArray(i)?n.push(...i):n.push(i))}}return n}function Qut(t,e){const n=t.stack[t.stack.length-1],r=t.schema.attributes,a=t.schema.required,i=r&&Jh.call(r,n)?r[n]:void 0,s=r&&Jh.call(r,"*")?r["*"]:void 0,o=e&&typeof e=="object"?e:{},l={};let u;for(u in o)if(Jh.call(o,u)){const d=o[u];let h=RY(t,kY(i,u),u,d);h==null&&(h=RY(t,kY(s,u),u,d)),h!=null&&(l[u]=h)}if(a&&Jh.call(a,n)){const d=a[n];for(u in d)Jh.call(d,u)&&!Jh.call(l,u)&&(l[u]=d[u])}return l}function RY(t,e,n,r){return e?Array.isArray(r)?Zut(t,e,n,r):Zae(t,e,n,r):void 0}function Zut(t,e,n,r){let a=-1;const i=[];for(;++a<r.length;){const s=Zae(t,e,n,r[a]);(typeof s=="number"||typeof s=="string")&&i.push(s)}return i}function Zae(t,e,n,r){if(!(typeof r!="boolean"&&typeof r!="number"&&typeof r!="string")&&Jut(t,n,r)){if(typeof e=="object"&&e.length>1){let a=!1,i=0;for(;++i<e.length;){const s=e[i];if(s&&typeof s=="object"&&"flags"in s){if(s.test(String(r))){a=!0;break}}else if(s===r){a=!0;break}}if(!a)return}return t.schema.clobber&&t.schema.clobberPrefix&&t.schema.clobber.includes(n)?t.schema.clobberPrefix+r:r}}function Jut(t,e,n){const r=t.schema.protocols&&Jh.call(t.schema.protocols,e)?t.schema.protocols[e]:void 0;if(!r||r.length===0)return!0;const a=String(n),i=a.indexOf(":"),s=a.indexOf("?"),o=a.indexOf("#"),l=a.indexOf("/");if(i<0||l>-1&&i>l||s>-1&&i>s||o>-1&&i>o)return!0;let u=-1;for(;++u<r.length;){const d=r[u];if(i===d.length&&a.slice(0,d.length)===d)return!0}return!1}function AS(t,e){const n=cre(e);e.data&&(t.data=Rg(e.data)),n&&(t.position=n)}function kY(t,e){let n,r=-1;if(t)for(;++r<t.length;){const a=t[r],i=typeof a=="string"?a:a[0];if(i===e)return a;i==="data*"&&(n=a)}if(e.length>4&&e.slice(0,4).toLowerCase()==="data")return n}function edt(t){return function(e){return qut(e,t)}}const tdt=()=>{const{t,i18n:e}=qt(["navigation","common"]),n=rs(),r=ov(n.breakpoints.down("md")),[a,i]=A.useState("setup"),[s,o]=A.useState(""),[l,u]=A.useState(!1),[d,h]=A.useState(null),[m,y]=A.useState(!r),x=[{id:"setup",title:t("navigation:help.sections.setup"," "),file:"setup.md"},{id:"filters",title:t("navigation:help.sections.filters"," "),file:"filters.md"}];A.useEffect(()=>{(async()=>{u(!0),h(null);try{const w=x.find(k=>k.id===a);if(!w)throw new Error("Section not found");const T=e.language||"ko",E=await fetch(`/help/${T}/${w.file}`);if(E.ok){const k=await E.text();o(k)}else{const k=await fetch(`/help/ko/${w.file}`);if(!k.ok)throw new Error("Help content not found");const j=await k.text();o(j)}}catch(w){console.error("Failed to load help content:",w),h(t("common:errors.loadFailed","  .")),o("")}finally{u(!1)}})()},[a,e.language]);const v=C=>{i(C),r&&y(!1)},_=c.jsxs(ee,{sx:{width:280,pt:2},children:[c.jsx(ae,{variant:"h6",sx:{px:2,mb:2,fontWeight:600},children:t("navigation:help.title","")}),c.jsx(Ff,{children:x.map(C=>c.jsx(Bf,{disablePadding:!0,children:c.jsx(dC,{selected:a===C.id,onClick:()=>v(C.id),children:c.jsx(Ss,{primary:C.title})})},C.id))})]});return c.jsxs(ee,{sx:{display:"flex",minHeight:"calc(100vh - 64px)"},children:[!r&&c.jsx(uC,{variant:"permanent",sx:{width:280,flexShrink:0,"& .MuiDrawer-paper":{width:280,boxSizing:"border-box",position:"relative",height:"auto"}},children:_}),r&&c.jsx(uC,{variant:"temporary",open:m,onClose:()=>y(!1),ModalProps:{keepMounted:!0},children:_}),c.jsx(ee,{component:"main",sx:{flexGrow:1,p:3},children:c.jsxs(ig,{maxWidth:"lg",children:[r&&c.jsx(ht,{onClick:()=>y(!0),sx:{mb:2},"aria-label":"Open menu",children:c.jsx(JX,{})}),l&&c.jsx(ee,{sx:{display:"flex",justifyContent:"center",py:8},children:c.jsx(Kt,{})}),d&&c.jsx(wt,{severity:"error",sx:{mb:3},children:d}),!l&&!d&&s&&c.jsx(Yt,{elevation:0,sx:{p:4,backgroundColor:n.palette.mode==="dark"?"background.paper":"background.default","& h1":{fontSize:"2rem",fontWeight:600,mb:2,mt:0},"& h2":{fontSize:"1.5rem",fontWeight:600,mb:2,mt:4,borderBottom:`1px solid ${n.palette.divider}`,pb:1},"& h3":{fontSize:"1.25rem",fontWeight:600,mb:1.5,mt:3},"& p":{mb:2,lineHeight:1.7},"& ul, & ol":{mb:2,pl:3},"& li":{mb:1},"& code":{backgroundColor:n.palette.mode==="dark"?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)",padding:"2px 6px",borderRadius:"4px",fontSize:"0.9em",fontFamily:"monospace"},"& pre":{backgroundColor:n.palette.mode==="dark"?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.02)",padding:2,borderRadius:1,overflow:"auto",mb:2},"& pre code":{backgroundColor:"transparent",padding:0},"& blockquote":{borderLeft:`4px solid ${n.palette.primary.main}`,pl:2,ml:0,fontStyle:"italic",color:n.palette.text.secondary},"& table":{width:"100%",borderCollapse:"collapse",mb:2},"& th, & td":{border:`1px solid ${n.palette.divider}`,padding:1.5,textAlign:"left"},"& th":{backgroundColor:n.palette.mode==="dark"?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.02)",fontWeight:600},"& img":{maxWidth:"100%",height:"auto",borderRadius:1,mb:2}},children:c.jsx(cit,{remarkPlugins:[_ot],rehypePlugins:[Gut,edt],children:s})})]})})]})},ndt=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(""),[a,i]=A.useState(""),[s,o]=A.useState(!1),[l,u]=A.useState(!1),[d,h]=A.useState(null),{login:m}=dD(),y=Gf();A.useEffect(()=>{(async()=>{try{const _=await og.getDatabaseInfo();h(_)}catch(_){console.error("Failed to load database info:",_)}})()},[]);const x=async v=>{v.preventDefault(),i(""),o(!0);try{await m(t,n),y("/")}catch(_){_ instanceof Error?i(_.message||"Login failed"):i("Login failed")}finally{o(!1)}};return c.jsx(ee,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"background.default"},children:c.jsxs(ig,{maxWidth:"sm",children:[c.jsx(fr,{elevation:3,children:c.jsxs(Ra,{sx:{p:4},children:[c.jsxs(ee,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:3},children:[c.jsx(ee,{sx:{width:56,height:56,borderRadius:"50%",bgcolor:"primary.main",display:"flex",alignItems:"center",justifyContent:"center",mb:2},children:c.jsx(GRe,{sx:{fontSize:32,color:"white"}})}),c.jsx(ae,{variant:"h5",component:"h1",fontWeight:"bold",children:"ComfyUI Image Manager"}),c.jsx(ae,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Sign in to continue"})]}),a&&c.jsx(wt,{severity:"error",sx:{mb:2},children:a}),c.jsxs("form",{onSubmit:x,children:[c.jsx(Lt,{fullWidth:!0,label:"Username",variant:"outlined",value:t,onChange:v=>e(v.target.value),disabled:s,autoComplete:"username",autoFocus:!0,sx:{mb:2}}),c.jsx(Lt,{fullWidth:!0,label:"Password",type:"password",variant:"outlined",value:n,onChange:v=>r(v.target.value),disabled:s,autoComplete:"current-password",sx:{mb:3}}),c.jsx(Ze,{fullWidth:!0,type:"submit",variant:"contained",size:"large",disabled:s||!t||!n,sx:{py:1.5},children:s?c.jsx(Kt,{size:24}):"Sign In"}),c.jsx(ee,{sx:{mt:2,textAlign:"center"},children:c.jsxs(Zk,{component:"button",type:"button",variant:"body2",onClick:()=>u(!0),sx:{display:"inline-flex",alignItems:"center",gap:.5,cursor:"pointer",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:[c.jsx(NO,{fontSize:"small"}),"  "]})})]})]})}),c.jsxs(hr,{open:l,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[c.jsx(br,{children:"  "}),c.jsx(yr,{children:c.jsxs(wt,{severity:"info",sx:{mb:2},children:[c.jsx(ae,{variant:"body2",sx:{mb:2},children:"  ,      ."}),c.jsx(ae,{variant:"body2",component:"div",sx:{mb:1},children:c.jsx("strong",{children:" :"})}),c.jsxs(ae,{variant:"body2",component:"ol",sx:{pl:2,mb:2},children:[c.jsx("li",{children:" "}),c.jsx("li",{children:"  "}),c.jsx("li",{children:"  "}),c.jsx("li",{children:"  "})]}),d&&c.jsxs(ee,{sx:{bgcolor:"background.default",p:2,borderRadius:1,mt:2},children:[c.jsx(ae,{variant:"caption",sx:{display:"block",mb:1},children:c.jsx("strong",{children:" :"})}),c.jsx(ae,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.85rem",wordBreak:"break-all",bgcolor:"grey.900",color:"success.light",p:1,borderRadius:1},children:d.authDbPath})]}),c.jsx(wt,{severity:"warning",sx:{mt:2},children:c.jsx(ae,{variant:"caption",children:" :      ,   . ,       ."})})]})}),c.jsx(kr,{children:c.jsx(Ze,{onClick:()=>u(!1),children:""})})]})]})})},rdt=t=>{const e=bt.c(6),{children:n}=t,{isAuthenticated:r,isLoading:a,hasCredentials:i}=dD();if(a){let o;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o=c.jsx(ee,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:c.jsx(Kt,{})}),e[0]=o):o=e[0],o}if(!i){let o;return e[1]!==n?(o=c.jsx(c.Fragment,{children:n}),e[1]=n,e[2]=o):o=e[2],o}if(!r){let o;return e[3]===Symbol.for("react.memo_cache_sentinel")?(o=c.jsx(Dse,{to:"/login",replace:!0}),e[3]=o):o=e[3],o}let s;return e[4]!==n?(s=c.jsx(c.Fragment,{children:n}),e[4]=n,e[5]=s):s=e[5],s},Jae=A.createContext(void 0),adt=()=>{const t=A.useContext(Jae);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},idt=t=>x5({palette:{mode:t,primary:{main:t==="dark"?"#90caf9":"#1976d2"},secondary:{main:t==="dark"?"#f48fb1":"#dc004e"},background:{default:t==="dark"?"#121212":"#fafafa",paper:t==="dark"?"#1e1e1e":"#ffffff"},divider:t==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.12)"},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',h4:{fontWeight:600},h6:{fontWeight:600}},shape:{borderRadius:8},components:{MuiAppBar:{styleOverrides:{root:{backgroundColor:t==="dark"?"#1e1e1e":"#1976d2",color:"#ffffff"}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"none"}}},MuiCard:{styleOverrides:{root:{border:`1px solid ${t==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.12)"}`}}},MuiButton:{styleOverrides:{root:{textTransform:"none",fontWeight:500}}},MuiChip:{styleOverrides:{root:{fontWeight:500}}}}}),sdt=t=>{const e=bt.c(17),{children:n}=t,[r,a]=A.useState(odt);let i;e[0]!==r?(i=idt(r),e[0]=r,e[1]=i):i=e[1];const s=i;let o;e[2]!==r?(o=()=>{const v=r==="light"?"dark":"light";a(v),localStorage.setItem("theme-mode",v)},e[2]=r,e[3]=o):o=e[3];const l=o;let u,d;e[4]!==r?(u=()=>{localStorage.setItem("theme-mode",r)},d=[r],e[4]=r,e[5]=u,e[6]=d):(u=e[5],d=e[6]),A.useEffect(u,d);let h;e[7]!==r||e[8]!==s||e[9]!==l?(h={mode:r,toggleMode:l,theme:s},e[7]=r,e[8]=s,e[9]=l,e[10]=h):h=e[10];const m=h;let y;e[11]!==n||e[12]!==s?(y=c.jsx(C_e,{theme:s,children:n}),e[11]=n,e[12]=s,e[13]=y):y=e[13];let x;return e[14]!==m||e[15]!==y?(x=c.jsx(Jae.Provider,{value:m,children:y}),e[14]=m,e[15]=y,e[16]=x):x=e[16],x};function odt(){return localStorage.getItem("theme-mode")||"light"}const ldt=()=>{const{t}=qt("navigation"),e=Dd(),n=rs(),{mode:r,toggleMode:a}=adt(),i=ov(n.breakpoints.down("md")),s=ov(n.breakpoints.down("lg")),[o,l]=A.useState(!1),[u,d]=A.useState(!0);A.useEffect(()=>{(async()=>{try{const C=await $s.getSettings();d(C.general.enableGallery??!0)}catch(C){console.error("Failed to load gallery setting:",C),d(!0)}})()},[]);const h=[{label:t("header.menu.home"),path:"/",icon:ZX,tooltip:t("header.tooltip.home")},{label:t("header.menu.gallery"),path:"/gallery",icon:tI,tooltip:t("header.tooltip.gallery")},{label:t("header.menu.imageGroups"),path:"/image-groups",icon:Ty,tooltip:t("header.tooltip.imageGroups")},{label:t("header.menu.search"),path:"/search",icon:qf,tooltip:t("header.tooltip.search")},{label:t("header.menu.upload"),path:"/upload",icon:lv,tooltip:t("header.tooltip.upload")},{label:t("header.menu.imageGeneration"),path:"/image-generation",icon:mg,tooltip:t("header.tooltip.imageGeneration")},{label:t("header.menu.settings"),path:"/settings",icon:ny,tooltip:t("header.tooltip.settings")},{label:t("header.menu.help"),path:"/help",icon:NO,tooltip:t("header.tooltip.help")}],m=u?h:h.filter(_=>_.path!=="/gallery"),y=()=>{l(!o)},x=()=>{l(!1)},v=()=>c.jsxs(uC,{anchor:"left",open:o,onClose:x,sx:{zIndex:_=>_.zIndex.drawer+2,"& .MuiDrawer-paper":{width:280,boxSizing:"border-box"}},ModalProps:{keepMounted:!0},children:[c.jsxs(ee,{sx:{p:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx(ae,{variant:"h6",component:"div",children:t("header.title")}),c.jsx(ht,{onClick:x,"aria-label":t("header.mobileMenu.close"),children:c.jsx(kp,{})})]}),c.jsx(bn,{}),c.jsx(Ff,{children:m.map(_=>{const C=_.icon;return c.jsx(Bf,{disablePadding:!0,children:c.jsxs(dC,{component:K4,to:_.path,selected:e.pathname===_.path,onClick:x,children:[c.jsx(lu,{children:c.jsx(C,{})}),c.jsx(Ss,{primary:_.label})]})},_.path)})}),c.jsx(bn,{}),c.jsx(Ff,{children:c.jsx(Bf,{disablePadding:!0,children:c.jsxs(dC,{onClick:a,children:[c.jsx(lu,{children:r==="dark"?c.jsx(uT,{}):c.jsx(cT,{})}),c.jsx(Ss,{primary:t(r==="dark"?"header.theme.light":"header.theme.dark"),secondary:t("header.theme.toggle")})]})})})]});return c.jsxs(c.Fragment,{children:[c.jsx(X4e,{position:"static",elevation:1,children:c.jsxs(jO,{sx:{width:"100%",px:{xs:2,sm:3,md:4}},children:[i&&c.jsx(ht,{edge:"start",color:"inherit","aria-label":"menu",onClick:y,sx:{mr:2},children:c.jsx(JX,{})}),c.jsx(ae,{variant:"h6",component:"div",sx:{flexGrow:1,fontWeight:600,fontSize:{xs:"1.1rem",sm:"1.25rem"}},children:t("header.title")}),!i&&c.jsxs(ee,{sx:{display:"flex",gap:1,alignItems:"center"},children:[m.map(_=>{const C=_.icon,w=s&&!i;return c.jsx(Xt,{title:_.tooltip,arrow:!0,children:c.jsxs(Ze,{color:"inherit",component:K4,to:_.path,variant:e.pathname===_.path?"outlined":"text",sx:{color:"inherit",borderColor:e.pathname===_.path?"currentColor":"transparent",minWidth:"auto",px:w?1.5:2,"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:[c.jsx(C,{sx:{fontSize:20,mr:w?0:1}}),!w&&_.label]})},_.path)}),c.jsx(Xt,{title:t("header.theme.toggle"),arrow:!0,children:c.jsx(ht,{color:"inherit",onClick:a,sx:{ml:1,"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:r==="dark"?c.jsx(uT,{}):c.jsx(cT,{})})})]}),i&&c.jsx(Xt,{title:t("header.theme.toggle"),arrow:!0,children:c.jsx(ht,{color:"inherit",onClick:a,sx:{"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:r==="dark"?c.jsx(uT,{}):c.jsx(cT,{})})})]})}),c.jsx(v,{})]})},cdt=()=>{const t=bt.c(11),{t:e}=qt("navigation"),n=rs(),r=n.palette.mode==="dark"?n.palette.grey[900]:n.palette.grey[100];let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={xs:2,sm:3,md:4},t[0]=a):a=t[0];let i;t[1]!==r?(i={backgroundColor:r,py:3,mt:"auto",borderTop:1,borderColor:"divider",width:"100%",px:a},t[1]=r,t[2]=i):i=t[2];let s;t[3]===Symbol.for("react.memo_cache_sentinel")?(s={fontSize:{xs:"0.75rem",sm:"0.875rem"}},t[3]=s):s=t[3];let o;t[4]!==e?(o=e("footer.copyright"),t[4]=e,t[5]=o):o=t[5];let l;t[6]!==o?(l=c.jsx(ae,{variant:"body2",color:"text.secondary",align:"center",sx:s,children:o}),t[6]=o,t[7]=l):l=t[7];let u;return t[8]!==i||t[9]!==l?(u=c.jsx(ee,{component:"footer",sx:i,children:l}),t[8]=i,t[9]=l,t[10]=u):u=t[10],u},udt=t=>{const e=bt.c(18),{children:n,maxWidth:r,disablePadding:a}=t,i=r===void 0?!1:r,s=a===void 0?!1:a;let o,l;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={display:"flex",flexDirection:"column",minHeight:"100vh",width:"100%"},l=c.jsx(ldt,{}),e[0]=o,e[1]=l):(o=e[0],l=e[1]);let u;e[2]!==s?(u=s?0:{xs:2,sm:3,md:4},e[2]=s,e[3]=u):u=e[3];let d;e[4]!==s?(d=s?0:{xs:2,sm:3,md:4},e[4]=s,e[5]=d):d=e[5];let h;e[6]!==u||e[7]!==d?(h={flexGrow:1,py:u,px:d,width:"100%",display:"flex",flexDirection:"column"},e[6]=u,e[7]=d,e[8]=h):h=e[8];let m;e[9]!==n||e[10]!==i?(m=i===!1?c.jsx(ee,{sx:{width:"100%",flex:1},children:n}):c.jsx(ig,{maxWidth:i,sx:{flex:1,display:"flex",flexDirection:"column",px:0},children:n}),e[9]=n,e[10]=i,e[11]=m):m=e[11];let y;e[12]!==h||e[13]!==m?(y=c.jsx(ee,{component:"main",sx:h,children:m}),e[12]=h,e[13]=m,e[14]=y):y=e[14];let x;e[15]===Symbol.for("react.memo_cache_sentinel")?(x=c.jsx(cdt,{}),e[15]=x):x=e[15];let v;return e[16]!==y?(v=c.jsxs(ee,{sx:o,children:[l,y,x]}),e[16]=y,e[17]=v):v=e[17],v},ddt=new Bde({defaultOptions:{queries:{staleTime:6e4,gcTime:3e5,refetchOnWindowFocus:!1,retry:1}}});function fdt(){const t=bt.c(14);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=c.jsx(gde,{}),t[0]=e):e=t[0];let n;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=c.jsx(uo,{path:"/login",element:c.jsx(ndt,{})}),t[1]=n):n=t[1];let r;t[2]===Symbol.for("react.memo_cache_sentinel")?(r=c.jsx(uo,{path:"/",element:c.jsx(ZNe,{})}),t[2]=r):r=t[2];let a;t[3]===Symbol.for("react.memo_cache_sentinel")?(a=c.jsx(uo,{path:"/gallery",element:c.jsx(IFe,{})}),t[3]=a):a=t[3];let i;t[4]===Symbol.for("react.memo_cache_sentinel")?(i=c.jsx(uo,{path:"/image-groups",element:c.jsx(EBe,{})}),t[4]=i):i=t[4];let s;t[5]===Symbol.for("react.memo_cache_sentinel")?(s=c.jsx(uo,{path:"/upload",element:c.jsx(AFe,{})}),t[5]=s):s=t[5];let o;t[6]===Symbol.for("react.memo_cache_sentinel")?(o=c.jsx(uo,{path:"/search",element:c.jsx(tBe,{})}),t[6]=o):o=t[6];let l;t[7]===Symbol.for("react.memo_cache_sentinel")?(l=c.jsx(uo,{path:"/settings",element:c.jsx(w$e,{})}),t[7]=l):l=t[7];let u;t[8]===Symbol.for("react.memo_cache_sentinel")?(u=c.jsx(uo,{path:"/help",element:c.jsx(tdt,{})}),t[8]=u):u=t[8];let d;t[9]===Symbol.for("react.memo_cache_sentinel")?(d=c.jsx(uo,{path:"/image/:compositeHash",element:c.jsx(TBe,{})}),t[9]=d):d=t[9];let h;t[10]===Symbol.for("react.memo_cache_sentinel")?(h=c.jsx(uo,{path:"/image-generation",element:c.jsx(MGe,{})}),t[10]=h):h=t[10];let m;t[11]===Symbol.for("react.memo_cache_sentinel")?(m=c.jsx(uo,{path:"/image-generation/new",element:c.jsx(mW,{})}),t[11]=m):m=t[11];let y;t[12]===Symbol.for("react.memo_cache_sentinel")?(y=c.jsx(uo,{path:"/image-generation/:id/edit",element:c.jsx(mW,{})}),t[12]=y):y=t[12];let x;return t[13]===Symbol.for("react.memo_cache_sentinel")?(x=c.jsx(Hde,{client:ddt,children:c.jsxs(sdt,{children:[e,c.jsx(aoe,{children:c.jsx(IHe,{children:c.jsxs(TM,{children:[n,c.jsx(uo,{path:"/*",element:c.jsx(rdt,{children:c.jsx(udt,{children:c.jsxs(TM,{children:[r,a,i,s,o,l,u,d,h,m,y,c.jsx(uo,{path:"/image-generation/:id/generate",element:c.jsx(rtt,{})})]})})})})]})})})]})}),t[13]=x):x=t[13],x}Uie.createRoot(document.getElementById("root")).render(c.jsx(A.StrictMode,{children:c.jsx(fdt,{})}));
