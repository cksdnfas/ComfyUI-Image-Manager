function Toe(t,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const r=Object.getOwnPropertyDescriptor(a,i);r&&Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();var kC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _f(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var YT={exports:{}},Ix={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DM;function Eoe(){if(DM)return Ix;DM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,i,r){var o=null;if(r!==void 0&&(o=""+r),i.key!==void 0&&(o=""+i.key),"key"in i){r={};for(var s in i)s!=="key"&&(r[s]=i[s])}else r=i;return i=r.ref,{$$typeof:t,type:a,key:o,ref:i!==void 0?i:null,props:r}}return Ix.Fragment=e,Ix.jsx=n,Ix.jsxs=n,Ix}var OM;function Aoe(){return OM||(OM=1,YT.exports=Eoe()),YT.exports}var l=Aoe(),KT={exports:{}},Nn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MM;function Roe(){if(MM)return Nn;MM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),m=Symbol.iterator;function g(K){return K===null||typeof K!="object"?null:(K=m&&K[m]||K["@@iterator"],typeof K=="function"?K:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,S={};function w(K,J,W){this.props=K,this.context=J,this.refs=S,this.updater=W||y}w.prototype.isReactComponent={},w.prototype.setState=function(K,J){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,J,"setState")},w.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function _(){}_.prototype=w.prototype;function T(K,J,W){this.props=K,this.context=J,this.refs=S,this.updater=W||y}var A=T.prototype=new _;A.constructor=T,v(A,w.prototype),A.isPureReactComponent=!0;var R=Array.isArray;function I(){}var N={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function O(K,J,W){var te=W.ref;return{$$typeof:t,type:K,key:J,ref:te!==void 0?te:null,props:W}}function D(K,J){return O(K.type,J,K.props)}function H(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function L(K){var J={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(W){return J[W]})}var $=/\/+/g;function M(K,J){return typeof K=="object"&&K!==null&&K.key!=null?L(""+K.key):J.toString(36)}function z(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(I,I):(K.status="pending",K.then(function(J){K.status==="pending"&&(K.status="fulfilled",K.value=J)},function(J){K.status==="pending"&&(K.status="rejected",K.reason=J)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function F(K,J,W,te,re){var ne=typeof K;(ne==="undefined"||ne==="boolean")&&(K=null);var ce=!1;if(K===null)ce=!0;else switch(ne){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(K.$$typeof){case t:case e:ce=!0;break;case d:return ce=K._init,F(ce(K._payload),J,W,te,re)}}if(ce)return re=re(K),ce=te===""?"."+M(K,0):te,R(re)?(W="",ce!=null&&(W=ce.replace($,"$&/")+"/"),F(re,J,W,"",function(ge){return ge})):re!=null&&(H(re)&&(re=D(re,W+(re.key==null||K&&K.key===re.key?"":(""+re.key).replace($,"$&/")+"/")+ce)),J.push(re)),1;ce=0;var pe=te===""?".":te+":";if(R(K))for(var me=0;me<K.length;me++)te=K[me],ne=pe+M(te,me),ce+=F(te,J,W,ne,re);else if(me=g(K),typeof me=="function")for(K=me.call(K),me=0;!(te=K.next()).done;)te=te.value,ne=pe+M(te,me++),ce+=F(te,J,W,ne,re);else if(ne==="object"){if(typeof K.then=="function")return F(z(K),J,W,te,re);throw J=String(K),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ce}function G(K,J,W){if(K==null)return K;var te=[],re=0;return F(K,te,"","",function(ne){return J.call(W,ne,re++)}),te}function ee(K){if(K._status===-1){var J=K._result;J=J(),J.then(function(W){(K._status===0||K._status===-1)&&(K._status=1,K._result=W)},function(W){(K._status===0||K._status===-1)&&(K._status=2,K._result=W)}),K._status===-1&&(K._status=0,K._result=J)}if(K._status===1)return K._result.default;throw K._result}var V=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},Y={map:G,forEach:function(K,J,W){G(K,function(){J.apply(this,arguments)},W)},count:function(K){var J=0;return G(K,function(){J++}),J},toArray:function(K){return G(K,function(J){return J})||[]},only:function(K){if(!H(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return Nn.Activity=h,Nn.Children=Y,Nn.Component=w,Nn.Fragment=n,Nn.Profiler=i,Nn.PureComponent=T,Nn.StrictMode=a,Nn.Suspense=c,Nn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Nn.__COMPILER_RUNTIME={__proto__:null,c:function(K){return N.H.useMemoCache(K)}},Nn.cache=function(K){return function(){return K.apply(null,arguments)}},Nn.cacheSignal=function(){return null},Nn.cloneElement=function(K,J,W){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var te=v({},K.props),re=K.key;if(J!=null)for(ne in J.key!==void 0&&(re=""+J.key),J)!P.call(J,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&J.ref===void 0||(te[ne]=J[ne]);var ne=arguments.length-2;if(ne===1)te.children=W;else if(1<ne){for(var ce=Array(ne),pe=0;pe<ne;pe++)ce[pe]=arguments[pe+2];te.children=ce}return O(K.type,re,te)},Nn.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:r,_context:K},K},Nn.createElement=function(K,J,W){var te,re={},ne=null;if(J!=null)for(te in J.key!==void 0&&(ne=""+J.key),J)P.call(J,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(re[te]=J[te]);var ce=arguments.length-2;if(ce===1)re.children=W;else if(1<ce){for(var pe=Array(ce),me=0;me<ce;me++)pe[me]=arguments[me+2];re.children=pe}if(K&&K.defaultProps)for(te in ce=K.defaultProps,ce)re[te]===void 0&&(re[te]=ce[te]);return O(K,ne,re)},Nn.createRef=function(){return{current:null}},Nn.forwardRef=function(K){return{$$typeof:s,render:K}},Nn.isValidElement=H,Nn.lazy=function(K){return{$$typeof:d,_payload:{_status:-1,_result:K},_init:ee}},Nn.memo=function(K,J){return{$$typeof:u,type:K,compare:J===void 0?null:J}},Nn.startTransition=function(K){var J=N.T,W={};N.T=W;try{var te=K(),re=N.S;re!==null&&re(W,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(I,V)}catch(ne){V(ne)}finally{J!==null&&W.types!==null&&(J.types=W.types),N.T=J}},Nn.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Nn.use=function(K){return N.H.use(K)},Nn.useActionState=function(K,J,W){return N.H.useActionState(K,J,W)},Nn.useCallback=function(K,J){return N.H.useCallback(K,J)},Nn.useContext=function(K){return N.H.useContext(K)},Nn.useDebugValue=function(){},Nn.useDeferredValue=function(K,J){return N.H.useDeferredValue(K,J)},Nn.useEffect=function(K,J){return N.H.useEffect(K,J)},Nn.useEffectEvent=function(K){return N.H.useEffectEvent(K)},Nn.useId=function(){return N.H.useId()},Nn.useImperativeHandle=function(K,J,W){return N.H.useImperativeHandle(K,J,W)},Nn.useInsertionEffect=function(K,J){return N.H.useInsertionEffect(K,J)},Nn.useLayoutEffect=function(K,J){return N.H.useLayoutEffect(K,J)},Nn.useMemo=function(K,J){return N.H.useMemo(K,J)},Nn.useOptimistic=function(K,J){return N.H.useOptimistic(K,J)},Nn.useReducer=function(K,J,W){return N.H.useReducer(K,J,W)},Nn.useRef=function(K){return N.H.useRef(K)},Nn.useState=function(K){return N.H.useState(K)},Nn.useSyncExternalStore=function(K,J,W){return N.H.useSyncExternalStore(K,J,W)},Nn.useTransition=function(){return N.H.useTransition()},Nn.version="19.2.0",Nn}var PM;function Eg(){return PM||(PM=1,KT.exports=Roe()),KT.exports}var E=Eg();const ke=_f(E),m4=Toe({__proto__:null,default:ke},[E]);var XT={exports:{}},Nx={},QT={exports:{}},ZT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LM;function koe(){return LM||(LM=1,(function(t){function e(F,G){var ee=F.length;F.push(G);e:for(;0<ee;){var V=ee-1>>>1,Y=F[V];if(0<i(Y,G))F[V]=G,F[ee]=Y,ee=V;else break e}}function n(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var G=F[0],ee=F.pop();if(ee!==G){F[0]=ee;e:for(var V=0,Y=F.length,K=Y>>>1;V<K;){var J=2*(V+1)-1,W=F[J],te=J+1,re=F[te];if(0>i(W,ee))te<Y&&0>i(re,W)?(F[V]=re,F[te]=ee,V=te):(F[V]=W,F[J]=ee,V=J);else if(te<Y&&0>i(re,ee))F[V]=re,F[te]=ee,V=te;else break e}}return G}function i(F,G){var ee=F.sortIndex-G.sortIndex;return ee!==0?ee:F.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var c=[],u=[],d=1,h=null,m=3,g=!1,y=!1,v=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function A(F){for(var G=n(u);G!==null;){if(G.callback===null)a(u);else if(G.startTime<=F)a(u),G.sortIndex=G.expirationTime,e(c,G);else break;G=n(u)}}function R(F){if(v=!1,A(F),!y)if(n(c)!==null)y=!0,I||(I=!0,L());else{var G=n(u);G!==null&&z(R,G.startTime-F)}}var I=!1,N=-1,P=5,O=-1;function D(){return S?!0:!(t.unstable_now()-O<P)}function H(){if(S=!1,I){var F=t.unstable_now();O=F;var G=!0;try{e:{y=!1,v&&(v=!1,_(N),N=-1),g=!0;var ee=m;try{t:{for(A(F),h=n(c);h!==null&&!(h.expirationTime>F&&D());){var V=h.callback;if(typeof V=="function"){h.callback=null,m=h.priorityLevel;var Y=V(h.expirationTime<=F);if(F=t.unstable_now(),typeof Y=="function"){h.callback=Y,A(F),G=!0;break t}h===n(c)&&a(c),A(F)}else a(c);h=n(c)}if(h!==null)G=!0;else{var K=n(u);K!==null&&z(R,K.startTime-F),G=!1}}break e}finally{h=null,m=ee,g=!1}G=void 0}}finally{G?L():I=!1}}}var L;if(typeof T=="function")L=function(){T(H)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,M=$.port2;$.port1.onmessage=H,L=function(){M.postMessage(null)}}else L=function(){w(H,0)};function z(F,G){N=w(function(){F(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var ee=m;m=G;try{return F()}finally{m=ee}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(F,G){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ee=m;m=F;try{return G()}finally{m=ee}},t.unstable_scheduleCallback=function(F,G,ee){var V=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?V+ee:V):ee=V,F){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ee+Y,F={id:d++,callback:G,priorityLevel:F,startTime:ee,expirationTime:Y,sortIndex:-1},ee>V?(F.sortIndex=ee,e(u,F),n(c)===null&&F===n(u)&&(v?(_(N),N=-1):v=!0,z(R,ee-V))):(F.sortIndex=Y,e(c,F),y||g||(y=!0,I||(I=!0,L()))),F},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(F){var G=m;return function(){var ee=m;m=G;try{return F.apply(this,arguments)}finally{m=ee}}}})(ZT)),ZT}var zM;function QN(){return zM||(zM=1,QT.exports=koe()),QT.exports}var JT={exports:{}},To={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FM;function Ioe(){if(FM)return To;FM=1;var t=Eg();function e(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function r(c,u,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:c,containerInfo:u,implementation:d}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return To.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,To.createPortal=function(c,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return r(c,u,null,d)},To.flushSync=function(c){var u=o.T,d=a.p;try{if(o.T=null,a.p=2,c)return c()}finally{o.T=u,a.p=d,a.d.f()}},To.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,a.d.C(c,u))},To.prefetchDNS=function(c){typeof c=="string"&&a.d.D(c)},To.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var d=u.as,h=s(d,u.crossOrigin),m=typeof u.integrity=="string"?u.integrity:void 0,g=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?a.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:m,fetchPriority:g}):d==="script"&&a.d.X(c,{crossOrigin:h,integrity:m,fetchPriority:g,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},To.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=s(u.as,u.crossOrigin);a.d.M(c,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&a.d.M(c)},To.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,h=s(d,u.crossOrigin);a.d.L(c,d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},To.preloadModule=function(c,u){if(typeof c=="string")if(u){var d=s(u.as,u.crossOrigin);a.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else a.d.m(c)},To.requestFormReset=function(c){a.d.r(c)},To.unstable_batchedUpdates=function(c,u){return c(u)},To.useFormState=function(c,u,d){return o.H.useFormState(c,u,d)},To.useFormStatus=function(){return o.H.useHostTransitionStatus()},To.version="19.2.0",To}var BM;function iK(){if(BM)return JT.exports;BM=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),JT.exports=Ioe(),JT.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HM;function Noe(){if(HM)return Nx;HM=1;var t=QN(),e=Eg(),n=iK();function a(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)p+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function r(f){var p=f,C=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,(p.flags&4098)!==0&&(C=p.return),f=p.return;while(f)}return p.tag===3?C:null}function o(f){if(f.tag===13){var p=f.memoizedState;if(p===null&&(f=f.alternate,f!==null&&(p=f.memoizedState)),p!==null)return p.dehydrated}return null}function s(f){if(f.tag===31){var p=f.memoizedState;if(p===null&&(f=f.alternate,f!==null&&(p=f.memoizedState)),p!==null)return p.dehydrated}return null}function c(f){if(r(f)!==f)throw Error(a(188))}function u(f){var p=f.alternate;if(!p){if(p=r(f),p===null)throw Error(a(188));return p!==f?null:f}for(var C=f,k=p;;){var U=C.return;if(U===null)break;var q=U.alternate;if(q===null){if(k=U.return,k!==null){C=k;continue}break}if(U.child===q.child){for(q=U.child;q;){if(q===C)return c(U),f;if(q===k)return c(U),p;q=q.sibling}throw Error(a(188))}if(C.return!==k.return)C=U,k=q;else{for(var se=!1,xe=U.child;xe;){if(xe===C){se=!0,C=U,k=q;break}if(xe===k){se=!0,k=U,C=q;break}xe=xe.sibling}if(!se){for(xe=q.child;xe;){if(xe===C){se=!0,C=q,k=U;break}if(xe===k){se=!0,k=q,C=U;break}xe=xe.sibling}if(!se)throw Error(a(189))}}if(C.alternate!==k)throw Error(a(190))}if(C.tag!==3)throw Error(a(188));return C.stateNode.current===C?f:p}function d(f){var p=f.tag;if(p===5||p===26||p===27||p===6)return f;for(f=f.child;f!==null;){if(p=d(f),p!==null)return p;f=f.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),T=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function L(f){return f===null||typeof f!="object"?null:(f=H&&f[H]||f["@@iterator"],typeof f=="function"?f:null)}var $=Symbol.for("react.client.reference");function M(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===$?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case v:return"Fragment";case w:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case I:return"SuspenseList";case O:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case y:return"Portal";case T:return f.displayName||"Context";case _:return(f._context.displayName||"Context")+".Consumer";case A:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case N:return p=f.displayName||null,p!==null?p:M(f.type)||"Memo";case P:p=f._payload,f=f._init;try{return M(f(p))}catch{}}return null}var z=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},V=[],Y=-1;function K(f){return{current:f}}function J(f){0>Y||(f.current=V[Y],V[Y]=null,Y--)}function W(f,p){Y++,V[Y]=f.current,f.current=p}var te=K(null),re=K(null),ne=K(null),ce=K(null);function pe(f,p){switch(W(ne,p),W(re,f),W(te,null),p.nodeType){case 9:case 11:f=(f=p.documentElement)&&(f=f.namespaceURI)?nM(f):0;break;default:if(f=p.tagName,p=p.namespaceURI)p=nM(p),f=aM(p,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}J(te),W(te,f)}function me(){J(te),J(re),J(ne)}function ge(f){f.memoizedState!==null&&W(ce,f);var p=te.current,C=aM(p,f.type);p!==C&&(W(re,f),W(te,C))}function ye(f){re.current===f&&(J(te),J(re)),ce.current===f&&(J(ce),Ex._currentValue=ee)}var he,de;function fe(f){if(he===void 0)try{throw Error()}catch(C){var p=C.stack.trim().match(/\n( *(at )?)/);he=p&&p[1]||"",de=-1<C.stack.indexOf(`
    at`)?" (<anonymous>)":-1<C.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+f+de}var oe=!1;function ue(f,p){if(!f||oe)return"";oe=!0;var C=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var k={DetermineComponentFrameRoot:function(){try{if(p){var gt=function(){throw Error()};if(Object.defineProperty(gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(gt,[])}catch(it){var Je=it}Reflect.construct(f,[],gt)}else{try{gt.call()}catch(it){Je=it}f.call(gt.prototype)}}else{try{throw Error()}catch(it){Je=it}(gt=f())&&typeof gt.catch=="function"&&gt.catch(function(){})}}catch(it){if(it&&Je&&typeof it.stack=="string")return[it.stack,Je.stack]}return[null,null]}};k.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var U=Object.getOwnPropertyDescriptor(k.DetermineComponentFrameRoot,"name");U&&U.configurable&&Object.defineProperty(k.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var q=k.DetermineComponentFrameRoot(),se=q[0],xe=q[1];if(se&&xe){var je=se.split(`
`),Xe=xe.split(`
`);for(U=k=0;k<je.length&&!je[k].includes("DetermineComponentFrameRoot");)k++;for(;U<Xe.length&&!Xe[U].includes("DetermineComponentFrameRoot");)U++;if(k===je.length||U===Xe.length)for(k=je.length-1,U=Xe.length-1;1<=k&&0<=U&&je[k]!==Xe[U];)U--;for(;1<=k&&0<=U;k--,U--)if(je[k]!==Xe[U]){if(k!==1||U!==1)do if(k--,U--,0>U||je[k]!==Xe[U]){var ct=`
`+je[k].replace(" at new "," at ");return f.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",f.displayName)),ct}while(1<=k&&0<=U);break}}}finally{oe=!1,Error.prepareStackTrace=C}return(C=f?f.displayName||f.name:"")?fe(C):""}function le(f,p){switch(f.tag){case 26:case 27:case 5:return fe(f.type);case 16:return fe("Lazy");case 13:return f.child!==p&&p!==null?fe("Suspense Fallback"):fe("Suspense");case 19:return fe("SuspenseList");case 0:case 15:return ue(f.type,!1);case 11:return ue(f.type.render,!1);case 1:return ue(f.type,!0);case 31:return fe("Activity");default:return""}}function Se(f){try{var p="",C=null;do p+=le(f,C),C=f,f=f.return;while(f);return p}catch(k){return`
Error generating stack: `+k.message+`
`+k.stack}}var _e=Object.prototype.hasOwnProperty,Ie=t.unstable_scheduleCallback,ze=t.unstable_cancelCallback,Me=t.unstable_shouldYield,Ze=t.unstable_requestPaint,Ee=t.unstable_now,Ne=t.unstable_getCurrentPriorityLevel,ve=t.unstable_ImmediatePriority,we=t.unstable_UserBlockingPriority,Oe=t.unstable_NormalPriority,Le=t.unstable_LowPriority,We=t.unstable_IdlePriority,Fe=t.log,Ve=t.unstable_setDisableYieldValue,rt=null,at=null;function ot(f){if(typeof Fe=="function"&&Ve(f),at&&typeof at.setStrictMode=="function")try{at.setStrictMode(rt,f)}catch{}}var bt=Math.clz32?Math.clz32:vn,Xt=Math.log,Jt=Math.LN2;function vn(f){return f>>>=0,f===0?32:31-(Xt(f)/Jt|0)|0}var jn=256,ea=262144,Kt=4194304;function Ht(f){var p=f&42;if(p!==0)return p;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return f&261888;case 262144:case 524288:case 1048576:case 2097152:return f&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function hn(f,p,C){var k=f.pendingLanes;if(k===0)return 0;var U=0,q=f.suspendedLanes,se=f.pingedLanes;f=f.warmLanes;var xe=k&134217727;return xe!==0?(k=xe&~q,k!==0?U=Ht(k):(se&=xe,se!==0?U=Ht(se):C||(C=xe&~f,C!==0&&(U=Ht(C))))):(xe=k&~q,xe!==0?U=Ht(xe):se!==0?U=Ht(se):C||(C=k&~f,C!==0&&(U=Ht(C)))),U===0?0:p!==0&&p!==U&&(p&q)===0&&(q=U&-U,C=p&-p,q>=C||q===32&&(C&4194048)!==0)?p:U}function _n(f,p){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&p)===0}function Tn(f,p){switch(f){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wt(){var f=Kt;return Kt<<=1,(Kt&62914560)===0&&(Kt=4194304),f}function Rn(f){for(var p=[],C=0;31>C;C++)p.push(f);return p}function Et(f,p){f.pendingLanes|=p,p!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function Mt(f,p,C,k,U,q){var se=f.pendingLanes;f.pendingLanes=C,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=C,f.entangledLanes&=C,f.errorRecoveryDisabledLanes&=C,f.shellSuspendCounter=0;var xe=f.entanglements,je=f.expirationTimes,Xe=f.hiddenUpdates;for(C=se&~C;0<C;){var ct=31-bt(C),gt=1<<ct;xe[ct]=0,je[ct]=-1;var Je=Xe[ct];if(Je!==null)for(Xe[ct]=null,ct=0;ct<Je.length;ct++){var it=Je[ct];it!==null&&(it.lane&=-536870913)}C&=~gt}k!==0&&rn(f,k,0),q!==0&&U===0&&f.tag!==0&&(f.suspendedLanes|=q&~(se&~p))}function rn(f,p,C){f.pendingLanes|=p,f.suspendedLanes&=~p;var k=31-bt(p);f.entangledLanes|=p,f.entanglements[k]=f.entanglements[k]|1073741824|C&261930}function an(f,p){var C=f.entangledLanes|=p;for(f=f.entanglements;C;){var k=31-bt(C),U=1<<k;U&p|f[k]&p&&(f[k]|=p),C&=~U}}function En(f,p){var C=p&-p;return C=(C&42)!==0?1:fa(C),(C&(f.suspendedLanes|p))!==0?0:C}function fa(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function ya(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function Ra(){var f=G.p;return f!==0?f:(f=window.event,f===void 0?32:EM(f.type))}function Ka(f,p){var C=G.p;try{return G.p=f,p()}finally{G.p=C}}var Oa=Math.random().toString(36).slice(2),xa="__reactFiber$"+Oa,Ma="__reactProps$"+Oa,wr="__reactContainer$"+Oa,Qi="__reactEvents$"+Oa,Xr="__reactListeners$"+Oa,gd="__reactHandles$"+Oa,jf="__reactResources$"+Oa,Fs="__reactMarker$"+Oa;function hc(f){delete f[xa],delete f[Ma],delete f[Qi],delete f[Xr],delete f[gd]}function pc(f){var p=f[xa];if(p)return p;for(var C=f.parentNode;C;){if(p=C[wr]||C[xa]){if(C=p.alternate,p.child!==null||C!==null&&C.child!==null)for(f=uM(f);f!==null;){if(C=f[xa])return C;f=uM(f)}return p}f=C,C=f.parentNode}return null}function dl(f){if(f=f[xa]||f[wr]){var p=f.tag;if(p===5||p===6||p===13||p===31||p===26||p===27||p===3)return f}return null}function ou(f){var p=f.tag;if(p===5||p===26||p===27||p===6)return f.stateNode;throw Error(a(33))}function fl(f){var p=f[jf];return p||(p=f[jf]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function xi(f){f[Fs]=!0}var Bs=new Set,Df={};function hl(f,p){Or(f,p),Or(f+"Capture",p)}function Or(f,p){for(Df[f]=p,f=0;f<p.length;f++)Bs.add(p[f])}var Qr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bd={},Ua={};function yd(f){return _e.call(Ua,f)?!0:_e.call(bd,f)?!1:Qr.test(f)?Ua[f]=!0:(bd[f]=!0,!1)}function Of(f,p,C){if(yd(p))if(C===null)f.removeAttribute(p);else{switch(typeof C){case"undefined":case"function":case"symbol":f.removeAttribute(p);return;case"boolean":var k=p.toLowerCase().slice(0,5);if(k!=="data-"&&k!=="aria-"){f.removeAttribute(p);return}}f.setAttribute(p,""+C)}}function Np(f,p,C){if(C===null)f.removeAttribute(p);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(p);return}f.setAttribute(p,""+C)}}function pl(f,p,C,k){if(k===null)f.removeAttribute(C);else{switch(typeof k){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(C);return}f.setAttributeNS(p,C,""+k)}}function ns(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function qg(f){var p=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function ay(f,p,C){var k=Object.getOwnPropertyDescriptor(f.constructor.prototype,p);if(!f.hasOwnProperty(p)&&typeof k<"u"&&typeof k.get=="function"&&typeof k.set=="function"){var U=k.get,q=k.set;return Object.defineProperty(f,p,{configurable:!0,get:function(){return U.call(this)},set:function(se){C=""+se,q.call(this,se)}}),Object.defineProperty(f,p,{enumerable:k.enumerable}),{getValue:function(){return C},setValue:function(se){C=""+se},stopTracking:function(){f._valueTracker=null,delete f[p]}}}}function jp(f){if(!f._valueTracker){var p=qg(f)?"checked":"value";f._valueTracker=ay(f,p,""+f[p])}}function Mr(f){if(!f)return!1;var p=f._valueTracker;if(!p)return!0;var C=p.getValue(),k="";return f&&(k=qg(f)?f.checked?"true":"false":f.value),f=k,f!==C?(p.setValue(f),!0):!1}function Xa(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var Wg=/[\n"\\]/g;function Pr(f){return f.replace(Wg,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function Mf(f,p,C,k,U,q,se,xe){f.name="",se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?f.type=se:f.removeAttribute("type"),p!=null?se==="number"?(p===0&&f.value===""||f.value!=p)&&(f.value=""+ns(p)):f.value!==""+ns(p)&&(f.value=""+ns(p)):se!=="submit"&&se!=="reset"||f.removeAttribute("value"),p!=null?Hs(f,se,ns(p)):C!=null?Hs(f,se,ns(C)):k!=null&&f.removeAttribute("value"),U==null&&q!=null&&(f.defaultChecked=!!q),U!=null&&(f.checked=U&&typeof U!="function"&&typeof U!="symbol"),xe!=null&&typeof xe!="function"&&typeof xe!="symbol"&&typeof xe!="boolean"?f.name=""+ns(xe):f.removeAttribute("name")}function Vg(f,p,C,k,U,q,se,xe){if(q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(f.type=q),p!=null||C!=null){if(!(q!=="submit"&&q!=="reset"||p!=null)){jp(f);return}C=C!=null?""+ns(C):"",p=p!=null?""+ns(p):C,xe||p===f.value||(f.value=p),f.defaultValue=p}k=k??U,k=typeof k!="function"&&typeof k!="symbol"&&!!k,f.checked=xe?f.checked:!!k,f.defaultChecked=!!k,se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"&&(f.name=se),jp(f)}function Hs(f,p,C){p==="number"&&Xa(f.ownerDocument)===f||f.defaultValue===""+C||(f.defaultValue=""+C)}function mc(f,p,C,k){if(f=f.options,p){p={};for(var U=0;U<C.length;U++)p["$"+C[U]]=!0;for(C=0;C<f.length;C++)U=p.hasOwnProperty("$"+f[C].value),f[C].selected!==U&&(f[C].selected=U),U&&k&&(f[C].defaultSelected=!0)}else{for(C=""+ns(C),p=null,U=0;U<f.length;U++){if(f[U].value===C){f[U].selected=!0,k&&(f[U].defaultSelected=!0);return}p!==null||f[U].disabled||(p=f[U])}p!==null&&(p.selected=!0)}}function Yg(f,p,C){if(p!=null&&(p=""+ns(p),p!==f.value&&(f.value=p),C==null)){f.defaultValue!==p&&(f.defaultValue=p);return}f.defaultValue=C!=null?""+ns(C):""}function Kg(f,p,C,k){if(p==null){if(k!=null){if(C!=null)throw Error(a(92));if(z(k)){if(1<k.length)throw Error(a(93));k=k[0]}C=k}C==null&&(C=""),p=C}C=ns(p),f.defaultValue=C,k=f.textContent,k===C&&k!==""&&k!==null&&(f.value=k),jp(f)}function xd(f,p){if(p){var C=f.firstChild;if(C&&C===f.lastChild&&C.nodeType===3){C.nodeValue=p;return}}f.textContent=p}var qS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function iy(f,p,C){var k=p.indexOf("--")===0;C==null||typeof C=="boolean"||C===""?k?f.setProperty(p,""):p==="float"?f.cssFloat="":f[p]="":k?f.setProperty(p,C):typeof C!="number"||C===0||qS.has(p)?p==="float"?f.cssFloat=C:f[p]=(""+C).trim():f[p]=C+"px"}function ry(f,p,C){if(p!=null&&typeof p!="object")throw Error(a(62));if(f=f.style,C!=null){for(var k in C)!C.hasOwnProperty(k)||p!=null&&p.hasOwnProperty(k)||(k.indexOf("--")===0?f.setProperty(k,""):k==="float"?f.cssFloat="":f[k]="");for(var U in p)k=p[U],p.hasOwnProperty(U)&&C[U]!==k&&iy(f,U,k)}else for(var q in p)p.hasOwnProperty(q)&&iy(f,q,p[q])}function Xg(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var WS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dp(f){return oy.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}function gc(){}var Qg=null;function Zg(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var vd=null,su=null;function sy(f){var p=dl(f);if(p&&(f=p.stateNode)){var C=f[Ma]||null;e:switch(f=p.stateNode,p.type){case"input":if(Mf(f,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name),p=C.name,C.type==="radio"&&p!=null){for(C=f;C.parentNode;)C=C.parentNode;for(C=C.querySelectorAll('input[name="'+Pr(""+p)+'"][type="radio"]'),p=0;p<C.length;p++){var k=C[p];if(k!==f&&k.form===f.form){var U=k[Ma]||null;if(!U)throw Error(a(90));Mf(k,U.value,U.defaultValue,U.defaultValue,U.checked,U.defaultChecked,U.type,U.name)}}for(p=0;p<C.length;p++)k=C[p],k.form===f.form&&Mr(k)}break e;case"textarea":Yg(f,C.value,C.defaultValue);break e;case"select":p=C.value,p!=null&&mc(f,!!C.multiple,p,!1)}}}var Jg=!1;function ly(f,p,C){if(Jg)return f(p,C);Jg=!0;try{var k=f(p);return k}finally{if(Jg=!1,(vd!==null||su!==null)&&(Ws(),vd&&(p=vd,f=su,su=vd=null,sy(p),f)))for(p=0;p<f.length;p++)sy(f[p])}}function Pf(f,p){var C=f.stateNode;if(C===null)return null;var k=C[Ma]||null;if(k===null)return null;C=k[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(k=!k.disabled)||(f=f.type,k=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!k;break e;default:f=!1}if(f)return null;if(C&&typeof C!="function")throw Error(a(231,p,typeof C));return C}var ml=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cy=!1;if(ml)try{var Lf={};Object.defineProperty(Lf,"passive",{get:function(){cy=!0}}),window.addEventListener("test",Lf,Lf),window.removeEventListener("test",Lf,Lf)}catch{cy=!1}var Po=null,e0=null,Sd=null;function Op(){if(Sd)return Sd;var f,p=e0,C=p.length,k,U="value"in Po?Po.value:Po.textContent,q=U.length;for(f=0;f<C&&p[f]===U[f];f++);var se=C-f;for(k=1;k<=se&&p[C-k]===U[q-k];k++);return Sd=U.slice(f,1<k?1-k:void 0)}function Mp(f){var p=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&p===13&&(f=13)):f=p,f===10&&(f=13),32<=f||f===13?f:0}function zf(){return!0}function VS(){return!1}function Zr(f){function p(C,k,U,q,se){this._reactName=C,this._targetInst=U,this.type=k,this.nativeEvent=q,this.target=se,this.currentTarget=null;for(var xe in f)f.hasOwnProperty(xe)&&(C=f[xe],this[xe]=C?C(q):q[xe]);return this.isDefaultPrevented=(q.defaultPrevented!=null?q.defaultPrevented:q.returnValue===!1)?zf:VS,this.isPropagationStopped=VS,this}return h(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var C=this.nativeEvent;C&&(C.preventDefault?C.preventDefault():typeof C.returnValue!="unknown"&&(C.returnValue=!1),this.isDefaultPrevented=zf)},stopPropagation:function(){var C=this.nativeEvent;C&&(C.stopPropagation?C.stopPropagation():typeof C.cancelBubble!="unknown"&&(C.cancelBubble=!0),this.isPropagationStopped=zf)},persist:function(){},isPersistent:zf}),p}var lu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pp=Zr(lu),Ff=h({},lu,{view:0,detail:0}),YS=Zr(Ff),Lp,t0,Bf,Hf=h({},Ff,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r0,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Bf&&(Bf&&f.type==="mousemove"?(Lp=f.screenX-Bf.screenX,t0=f.screenY-Bf.screenY):t0=Lp=0,Bf=f),Lp)},movementY:function(f){return"movementY"in f?f.movementY:t0}}),uy=Zr(Hf),KS=h({},Hf,{dataTransfer:0}),XS=Zr(KS),dy=h({},Ff,{relatedTarget:0}),n0=Zr(dy),QS=h({},lu,{animationName:0,elapsedTime:0,pseudoElement:0}),pT=Zr(QS),mT=h({},lu,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),ZS=Zr(mT),zp=h({},lu,{data:0}),a0=Zr(zp),i0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fy(f){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(f):(f=e3[f])?!!p[f]:!1}function r0(){return fy}var t3=h({},Ff,{key:function(f){if(f.key){var p=i0[f.key]||f.key;if(p!=="Unidentified")return p}return f.type==="keypress"?(f=Mp(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?JS[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r0,charCode:function(f){return f.type==="keypress"?Mp(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Mp(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),Cd=Zr(t3),o0=h({},Hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hy=Zr(o0),py=h({},Ff,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r0}),n3=Zr(py),a3=h({},lu,{propertyName:0,elapsedTime:0,pseudoElement:0}),gT=Zr(a3),_r=h({},Hf,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),i3=Zr(_r),r3=h({},lu,{newState:0,oldState:0}),o3=Zr(r3),s3=[9,13,27,32],wd=ml&&"CompositionEvent"in window,$f=null;ml&&"documentMode"in document&&($f=document.documentMode);var s0=ml&&"TextEvent"in window&&!$f,my=ml&&(!wd||$f&&8<$f&&11>=$f),l3=" ",Fp=!1;function l0(f,p){switch(f){case"keyup":return s3.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gy(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var _d=!1;function c3(f,p){switch(f){case"compositionend":return gy(p);case"keypress":return p.which!==32?null:(Fp=!0,l3);case"textInput":return f=p.data,f===l3&&Fp?null:f;default:return null}}function by(f,p){if(_d)return f==="compositionend"||!wd&&l0(f,p)?(f=Op(),Sd=e0=Po=null,_d=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return my&&p.locale!=="ko"?null:p.data;default:return null}}var yy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xy(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p==="input"?!!yy[f.type]:p==="textarea"}function c0(f,p,C,k){vd?su?su.push(k):su=[k]:vd=k,p=pC(p,"onChange"),0<p.length&&(C=new Pp("onChange","change",null,C,k),f.push({event:C,listeners:p}))}var cu=null,Td=null;function u3(f){XO(f,0)}function Uf(f){var p=ou(f);if(Mr(p))return f}function vy(f,p){if(f==="change")return p}var gl=!1;if(ml){var Bp;if(ml){var Sy="oninput"in document;if(!Sy){var Cy=document.createElement("div");Cy.setAttribute("oninput","return;"),Sy=typeof Cy.oninput=="function"}Bp=Sy}else Bp=!1;gl=Bp&&(!document.documentMode||9<document.documentMode)}function as(){cu&&(cu.detachEvent("onpropertychange",Hp),Td=cu=null)}function Hp(f){if(f.propertyName==="value"&&Uf(Td)){var p=[];c0(p,Td,f,Zg(f)),ly(u3,p)}}function d3(f,p,C){f==="focusin"?(as(),cu=p,Td=C,cu.attachEvent("onpropertychange",Hp)):f==="focusout"&&as()}function wy(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Uf(Td)}function f3(f,p){if(f==="click")return Uf(p)}function h3(f,p){if(f==="input"||f==="change")return Uf(p)}function _y(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var Jr=typeof Object.is=="function"?Object.is:_y;function Gf(f,p){if(Jr(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var C=Object.keys(f),k=Object.keys(p);if(C.length!==k.length)return!1;for(k=0;k<C.length;k++){var U=C[k];if(!_e.call(p,U)||!Jr(f[U],p[U]))return!1}return!0}function $p(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function qf(f,p){var C=$p(f);f=0;for(var k;C;){if(C.nodeType===3){if(k=f+C.textContent.length,f<=p&&k>=p)return{node:C,offset:p-f};f=k}e:{for(;C;){if(C.nextSibling){C=C.nextSibling;break e}C=C.parentNode}C=void 0}C=$p(C)}}function Pa(f,p){return f&&p?f===p?!0:f&&f.nodeType===3?!1:p&&p.nodeType===3?Pa(f,p.parentNode):"contains"in f?f.contains(p):f.compareDocumentPosition?!!(f.compareDocumentPosition(p)&16):!1:!1}function p3(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var p=Xa(f.document);p instanceof f.HTMLIFrameElement;){try{var C=typeof p.contentWindow.location.href=="string"}catch{C=!1}if(C)f=p.contentWindow;else break;p=Xa(f.document)}return p}function Ty(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p&&(p==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||p==="textarea"||f.contentEditable==="true")}var m3=ml&&"documentMode"in document&&11>=document.documentMode,bl=null,yl=null,Wf=null,u0=!1;function Vf(f,p,C){var k=C.window===C?C.document:C.nodeType===9?C:C.ownerDocument;u0||bl==null||bl!==Xa(k)||(k=bl,"selectionStart"in k&&Ty(k)?k={start:k.selectionStart,end:k.selectionEnd}:(k=(k.ownerDocument&&k.ownerDocument.defaultView||window).getSelection(),k={anchorNode:k.anchorNode,anchorOffset:k.anchorOffset,focusNode:k.focusNode,focusOffset:k.focusOffset}),Wf&&Gf(Wf,k)||(Wf=k,k=pC(yl,"onSelect"),0<k.length&&(p=new Pp("onSelect","select",null,p,C),f.push({event:p,listeners:k}),p.target=bl)))}function Lr(f,p){var C={};return C[f.toLowerCase()]=p.toLowerCase(),C["Webkit"+f]="webkit"+p,C["Moz"+f]="moz"+p,C}var Ed={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},Up={},Ey={};ml&&(Ey=document.createElement("div").style,"AnimationEvent"in window||(delete Ed.animationend.animation,delete Ed.animationiteration.animation,delete Ed.animationstart.animation),"TransitionEvent"in window||delete Ed.transitionend.transition);function bc(f){if(Up[f])return Up[f];if(!Ed[f])return f;var p=Ed[f],C;for(C in p)if(p.hasOwnProperty(C)&&C in Ey)return Up[f]=p[C];return f}var d0=bc("animationend"),Gp=bc("animationiteration"),Ay=bc("animationstart"),g3=bc("transitionrun"),bT=bc("transitionstart"),b3=bc("transitioncancel"),Ry=bc("transitionend"),is=new Map,qp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qp.push("scrollEnd");function rs(f,p){is.set(f,p),hl(p,[f])}var Wp=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},os=[],yc=0,cr=0;function Vp(){for(var f=yc,p=cr=yc=0;p<f;){var C=os[p];os[p++]=null;var k=os[p];os[p++]=null;var U=os[p];os[p++]=null;var q=os[p];if(os[p++]=null,k!==null&&U!==null){var se=k.pending;se===null?U.next=U:(U.next=se.next,se.next=U),k.pending=U}q!==0&&uu(C,U,q)}}function ur(f,p,C,k){os[yc++]=f,os[yc++]=p,os[yc++]=C,os[yc++]=k,cr|=k,f.lanes|=k,f=f.alternate,f!==null&&(f.lanes|=k)}function f0(f,p,C,k){return ur(f,p,C,k),ss(f)}function eo(f,p){return ur(f,null,null,p),ss(f)}function uu(f,p,C){f.lanes|=C;var k=f.alternate;k!==null&&(k.lanes|=C);for(var U=!1,q=f.return;q!==null;)q.childLanes|=C,k=q.alternate,k!==null&&(k.childLanes|=C),q.tag===22&&(f=q.stateNode,f===null||f._visibility&1||(U=!0)),f=q,q=q.return;return f.tag===3?(q=f.stateNode,U&&p!==null&&(U=31-bt(C),f=q.hiddenUpdates,k=f[U],k===null?f[U]=[p]:k.push(p),p.lane=C|536870912),q):null}function ss(f){if(50<ku)throw ku=0,qd=null,Error(a(185));for(var p=f.return;p!==null;)f=p,p=f.return;return f.tag===3?f.stateNode:null}var du={};function ky(f,p,C,k){this.tag=f,this.key=C,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(f,p,C,k){return new ky(f,p,C,k)}function h0(f){return f=f.prototype,!(!f||!f.isReactComponent)}function go(f,p){var C=f.alternate;return C===null?(C=li(f.tag,p,f.key,f.mode),C.elementType=f.elementType,C.type=f.type,C.stateNode=f.stateNode,C.alternate=f,f.alternate=C):(C.pendingProps=p,C.type=f.type,C.flags=0,C.subtreeFlags=0,C.deletions=null),C.flags=f.flags&65011712,C.childLanes=f.childLanes,C.lanes=f.lanes,C.child=f.child,C.memoizedProps=f.memoizedProps,C.memoizedState=f.memoizedState,C.updateQueue=f.updateQueue,p=f.dependencies,C.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},C.sibling=f.sibling,C.index=f.index,C.ref=f.ref,C.refCleanup=f.refCleanup,C}function Yf(f,p){f.flags&=65011714;var C=f.alternate;return C===null?(f.childLanes=0,f.lanes=p,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=C.childLanes,f.lanes=C.lanes,f.child=C.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=C.memoizedProps,f.memoizedState=C.memoizedState,f.updateQueue=C.updateQueue,f.type=C.type,p=C.dependencies,f.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),f}function xl(f,p,C,k,U,q){var se=0;if(k=f,typeof f=="function")h0(f)&&(se=1);else if(typeof f=="string")se=hoe(f,C,te.current)?26:f==="html"||f==="head"||f==="body"?27:5;else e:switch(f){case O:return f=li(31,C,p,U),f.elementType=O,f.lanes=q,f;case v:return fu(C.children,U,q,p);case S:se=8,U|=24;break;case w:return f=li(12,C,p,U|2),f.elementType=w,f.lanes=q,f;case R:return f=li(13,C,p,U),f.elementType=R,f.lanes=q,f;case I:return f=li(19,C,p,U),f.elementType=I,f.lanes=q,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case T:se=10;break e;case _:se=9;break e;case A:se=11;break e;case N:se=14;break e;case P:se=16,k=null;break e}se=29,C=Error(a(130,f===null?"null":typeof f,"")),k=null}return p=li(se,C,p,U),p.elementType=f,p.type=k,p.lanes=q,p}function fu(f,p,C,k){return f=li(7,f,k,p),f.lanes=C,f}function p0(f,p,C){return f=li(6,f,null,p),f.lanes=C,f}function Kf(f){var p=li(18,null,null,0);return p.stateNode=f,p}function m0(f,p,C){return p=li(4,f.children!==null?f.children:[],f.key,p),p.lanes=C,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}var Yp=new WeakMap;function Lo(f,p){if(typeof f=="object"&&f!==null){var C=Yp.get(f);return C!==void 0?C:(p={value:f,source:p,stack:Se(p)},Yp.set(f,p),p)}return{value:f,source:p,stack:Se(p)}}var hu=[],pu=0,Xf=null,Qf=0,bo=[],Qa=0,xc=null,ci=1,$s="";function vl(f,p){hu[pu++]=Qf,hu[pu++]=Xf,Xf=f,Qf=p}function y3(f,p,C){bo[Qa++]=ci,bo[Qa++]=$s,bo[Qa++]=xc,xc=f;var k=ci;f=$s;var U=32-bt(k)-1;k&=~(1<<U),C+=1;var q=32-bt(p)+U;if(30<q){var se=U-U%5;q=(k&(1<<se)-1).toString(32),k>>=se,U-=se,ci=1<<32-bt(p)+U|C<<U|k,$s=q+f}else ci=1<<q|C<<U|k,$s=f}function Sl(f){f.return!==null&&(vl(f,1),y3(f,1,0))}function g0(f){for(;f===Xf;)Xf=hu[--pu],hu[pu]=null,Qf=hu[--pu],hu[pu]=null;for(;f===xc;)xc=bo[--Qa],bo[Qa]=null,$s=bo[--Qa],bo[Qa]=null,ci=bo[--Qa],bo[Qa]=null}function b0(f,p){bo[Qa++]=ci,bo[Qa++]=$s,bo[Qa++]=xc,ci=p.id,$s=p.overflow,xc=f}var vi=null,La=null,Xn=!1,vc=null,zo=!1,Zf=Error(a(519));function Cl(f){var p=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wl(Lo(p,f)),Zf}function x3(f){var p=f.stateNode,C=f.type,k=f.memoizedProps;switch(p[xa]=f,p[Ma]=k,C){case"dialog":na("cancel",p),na("close",p);break;case"iframe":case"object":case"embed":na("load",p);break;case"video":case"audio":for(C=0;C<vs.length;C++)na(vs[C],p);break;case"source":na("error",p);break;case"img":case"image":case"link":na("error",p),na("load",p);break;case"details":na("toggle",p);break;case"input":na("invalid",p),Vg(p,k.value,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name,!0);break;case"select":na("invalid",p);break;case"textarea":na("invalid",p),Kg(p,k.value,k.defaultValue,k.children)}C=k.children,typeof C!="string"&&typeof C!="number"&&typeof C!="bigint"||p.textContent===""+C||k.suppressHydrationWarning===!0||eM(p.textContent,C)?(k.popover!=null&&(na("beforetoggle",p),na("toggle",p)),k.onScroll!=null&&na("scroll",p),k.onScrollEnd!=null&&na("scrollend",p),k.onClick!=null&&(p.onclick=gc),p=!0):p=!1,p||Cl(f,!0)}function v3(f){for(vi=f.return;vi;)switch(vi.tag){case 5:case 31:case 13:zo=!1;return;case 27:case 3:zo=!0;return;default:vi=vi.return}}function Jf(f){if(f!==vi)return!1;if(!Xn)return v3(f),Xn=!0,!1;var p=f.tag,C;if((C=p!==3&&p!==27)&&((C=p===5)&&(C=f.type,C=!(C!=="form"&&C!=="button")||DT(f.type,f.memoizedProps)),C=!C),C&&La&&Cl(f),v3(f),p===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));La=cM(f)}else if(p===31){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));La=cM(f)}else p===27?(p=La,xh(f.type)?(f=zT,zT=null,La=f):La=p):La=vi?Ll(f.stateNode.nextSibling):null;return!0}function mu(){La=vi=null,Xn=!1}function y0(){var f=vc;return f!==null&&(Ci===null?Ci=f:Ci.push.apply(Ci,f),vc=null),f}function wl(f){vc===null?vc=[f]:vc.push(f)}var eh=K(null),gu=null,_l=null;function Sc(f,p,C){W(eh,p._currentValue),p._currentValue=C}function Tl(f){f._currentValue=eh.current,J(eh)}function x0(f,p,C){for(;f!==null;){var k=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,k!==null&&(k.childLanes|=p)):k!==null&&(k.childLanes&p)!==p&&(k.childLanes|=p),f===C)break;f=f.return}}function v0(f,p,C,k){var U=f.child;for(U!==null&&(U.return=f);U!==null;){var q=U.dependencies;if(q!==null){var se=U.child;q=q.firstContext;e:for(;q!==null;){var xe=q;q=U;for(var je=0;je<p.length;je++)if(xe.context===p[je]){q.lanes|=C,xe=q.alternate,xe!==null&&(xe.lanes|=C),x0(q.return,C,f),k||(se=null);break e}q=xe.next}}else if(U.tag===18){if(se=U.return,se===null)throw Error(a(341));se.lanes|=C,q=se.alternate,q!==null&&(q.lanes|=C),x0(se,C,f),se=null}else se=U.child;if(se!==null)se.return=U;else for(se=U;se!==null;){if(se===f){se=null;break}if(U=se.sibling,U!==null){U.return=se.return,se=U;break}se=se.return}U=se}}function El(f,p,C,k){f=null;for(var U=p,q=!1;U!==null;){if(!q){if((U.flags&524288)!==0)q=!0;else if((U.flags&262144)!==0)break}if(U.tag===10){var se=U.alternate;if(se===null)throw Error(a(387));if(se=se.memoizedProps,se!==null){var xe=U.type;Jr(U.pendingProps.value,se.value)||(f!==null?f.push(xe):f=[xe])}}else if(U===ce.current){if(se=U.alternate,se===null)throw Error(a(387));se.memoizedState.memoizedState!==U.memoizedState.memoizedState&&(f!==null?f.push(Ex):f=[Ex])}U=U.return}f!==null&&v0(p,f,C,k),p.flags|=262144}function Kp(f){for(f=f.firstContext;f!==null;){if(!Jr(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function bu(f){gu=f,_l=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function bn(f){return S3(gu,f)}function th(f,p){return gu===null&&bu(f),S3(f,p)}function S3(f,p){var C=p._currentValue;if(p={context:p,memoizedValue:C,next:null},_l===null){if(f===null)throw Error(a(308));_l=p,f.dependencies={lanes:0,firstContext:p},f.flags|=524288}else _l=_l.next=p;return C}var C3=typeof AbortController<"u"?AbortController:function(){var f=[],p=this.signal={aborted:!1,addEventListener:function(C,k){f.push(k)}};this.abort=function(){p.aborted=!0,f.forEach(function(C){return C()})}},yT=t.unstable_scheduleCallback,xT=t.unstable_NormalPriority,Hi={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Iy(){return{controller:new C3,data:new Map,refCount:0}}function Ad(f){f.refCount--,f.refCount===0&&yT(xT,function(){f.controller.abort()})}var Fo=null,S0=0,Cc=0,ls=null;function Ny(f,p){if(Fo===null){var C=Fo=[];S0=0,Cc=et(),ls={status:"pending",value:void 0,then:function(k){C.push(k)}}}return S0++,p.then(jy,jy),p}function jy(){if(--S0===0&&Fo!==null){ls!==null&&(ls.status="fulfilled");var f=Fo;Fo=null,Cc=0,ls=null;for(var p=0;p<f.length;p++)(0,f[p])()}}function Dy(f,p){var C=[],k={status:"pending",value:null,reason:null,then:function(U){C.push(U)}};return f.then(function(){k.status="fulfilled",k.value=p;for(var U=0;U<C.length;U++)(0,C[U])(p)},function(U){for(k.status="rejected",k.reason=U,U=0;U<C.length;U++)(0,C[U])(void 0)}),k}var w3=F.S;F.S=function(f,p){vx=Ee(),typeof p=="object"&&p!==null&&typeof p.then=="function"&&Ny(f,p),w3!==null&&w3(f,p)};var yu=K(null);function C0(){var f=yu.current;return f!==null?f:yn.pooledCache}function Xp(f,p){p===null?W(yu,yu.current):W(yu,p.pool)}function Oy(){var f=C0();return f===null?null:{parent:Hi._currentValue,pool:f}}var Rd=Error(a(460)),Qp=Error(a(474)),On=Error(a(542)),w0={then:function(){}};function yo(f){return f=f.status,f==="fulfilled"||f==="rejected"}function _0(f,p,C){switch(C=f[C],C===void 0?f.push(p):C!==p&&(p.then(gc,gc),p=C),p.status){case"fulfilled":return p.value;case"rejected":throw f=p.reason,Nd(f),f;default:if(typeof p.status=="string")p.then(gc,gc);else{if(f=yn,f!==null&&100<f.shellSuspendCounter)throw Error(a(482));f=p,f.status="pending",f.then(function(k){if(p.status==="pending"){var U=p;U.status="fulfilled",U.value=k}},function(k){if(p.status==="pending"){var U=p;U.status="rejected",U.reason=k}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw f=p.reason,Nd(f),f}throw Al=p,Rd}}function kd(f){try{var p=f._init;return p(f._payload)}catch(C){throw C!==null&&typeof C=="object"&&typeof C.then=="function"?(Al=C,Rd):C}}var Al=null;function Id(){if(Al===null)throw Error(a(459));var f=Al;return Al=null,f}function Nd(f){if(f===Rd||f===On)throw Error(a(483))}var jd=null,Dd=0;function Zp(f){var p=Dd;return Dd+=1,jd===null&&(jd=[]),_0(jd,f,p)}function cs(f,p){p=p.props.ref,f.ref=p!==void 0?p:null}function nh(f,p){throw p.$$typeof===m?Error(a(525)):(f=Object.prototype.toString.call(p),Error(a(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f)))}function T0(f){function p(Be,Pe){if(f){var Ke=Be.deletions;Ke===null?(Be.deletions=[Pe],Be.flags|=16):Ke.push(Pe)}}function C(Be,Pe){if(!f)return null;for(;Pe!==null;)p(Be,Pe),Pe=Pe.sibling;return null}function k(Be){for(var Pe=new Map;Be!==null;)Be.key!==null?Pe.set(Be.key,Be):Pe.set(Be.index,Be),Be=Be.sibling;return Pe}function U(Be,Pe){return Be=go(Be,Pe),Be.index=0,Be.sibling=null,Be}function q(Be,Pe,Ke){return Be.index=Ke,f?(Ke=Be.alternate,Ke!==null?(Ke=Ke.index,Ke<Pe?(Be.flags|=67108866,Pe):Ke):(Be.flags|=67108866,Pe)):(Be.flags|=1048576,Pe)}function se(Be){return f&&Be.alternate===null&&(Be.flags|=67108866),Be}function xe(Be,Pe,Ke,pt){return Pe===null||Pe.tag!==6?(Pe=p0(Ke,Be.mode,pt),Pe.return=Be,Pe):(Pe=U(Pe,Ke),Pe.return=Be,Pe)}function je(Be,Pe,Ke,pt){var ln=Ke.type;return ln===v?ct(Be,Pe,Ke.props.children,pt,Ke.key):Pe!==null&&(Pe.elementType===ln||typeof ln=="object"&&ln!==null&&ln.$$typeof===P&&kd(ln)===Pe.type)?(Pe=U(Pe,Ke.props),cs(Pe,Ke),Pe.return=Be,Pe):(Pe=xl(Ke.type,Ke.key,Ke.props,null,Be.mode,pt),cs(Pe,Ke),Pe.return=Be,Pe)}function Xe(Be,Pe,Ke,pt){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==Ke.containerInfo||Pe.stateNode.implementation!==Ke.implementation?(Pe=m0(Ke,Be.mode,pt),Pe.return=Be,Pe):(Pe=U(Pe,Ke.children||[]),Pe.return=Be,Pe)}function ct(Be,Pe,Ke,pt,ln){return Pe===null||Pe.tag!==7?(Pe=fu(Ke,Be.mode,pt,ln),Pe.return=Be,Pe):(Pe=U(Pe,Ke),Pe.return=Be,Pe)}function gt(Be,Pe,Ke){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return Pe=p0(""+Pe,Be.mode,Ke),Pe.return=Be,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case g:return Ke=xl(Pe.type,Pe.key,Pe.props,null,Be.mode,Ke),cs(Ke,Pe),Ke.return=Be,Ke;case y:return Pe=m0(Pe,Be.mode,Ke),Pe.return=Be,Pe;case P:return Pe=kd(Pe),gt(Be,Pe,Ke)}if(z(Pe)||L(Pe))return Pe=fu(Pe,Be.mode,Ke,null),Pe.return=Be,Pe;if(typeof Pe.then=="function")return gt(Be,Zp(Pe),Ke);if(Pe.$$typeof===T)return gt(Be,th(Be,Pe),Ke);nh(Be,Pe)}return null}function Je(Be,Pe,Ke,pt){var ln=Pe!==null?Pe.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return ln!==null?null:xe(Be,Pe,""+Ke,pt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case g:return Ke.key===ln?je(Be,Pe,Ke,pt):null;case y:return Ke.key===ln?Xe(Be,Pe,Ke,pt):null;case P:return Ke=kd(Ke),Je(Be,Pe,Ke,pt)}if(z(Ke)||L(Ke))return ln!==null?null:ct(Be,Pe,Ke,pt,null);if(typeof Ke.then=="function")return Je(Be,Pe,Zp(Ke),pt);if(Ke.$$typeof===T)return Je(Be,Pe,th(Be,Ke),pt);nh(Be,Ke)}return null}function it(Be,Pe,Ke,pt,ln){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return Be=Be.get(Ke)||null,xe(Pe,Be,""+pt,ln);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case g:return Be=Be.get(pt.key===null?Ke:pt.key)||null,je(Pe,Be,pt,ln);case y:return Be=Be.get(pt.key===null?Ke:pt.key)||null,Xe(Pe,Be,pt,ln);case P:return pt=kd(pt),it(Be,Pe,Ke,pt,ln)}if(z(pt)||L(pt))return Be=Be.get(Ke)||null,ct(Pe,Be,pt,ln,null);if(typeof pt.then=="function")return it(Be,Pe,Ke,Zp(pt),ln);if(pt.$$typeof===T)return it(Be,Pe,Ke,th(Pe,pt),ln);nh(Pe,pt)}return null}function Zt(Be,Pe,Ke,pt){for(var ln=null,ga=null,en=Pe,Bn=Pe=0,oa=null;en!==null&&Bn<Ke.length;Bn++){en.index>Bn?(oa=en,en=null):oa=en.sibling;var ba=Je(Be,en,Ke[Bn],pt);if(ba===null){en===null&&(en=oa);break}f&&en&&ba.alternate===null&&p(Be,en),Pe=q(ba,Pe,Bn),ga===null?ln=ba:ga.sibling=ba,ga=ba,en=oa}if(Bn===Ke.length)return C(Be,en),Xn&&vl(Be,Bn),ln;if(en===null){for(;Bn<Ke.length;Bn++)en=gt(Be,Ke[Bn],pt),en!==null&&(Pe=q(en,Pe,Bn),ga===null?ln=en:ga.sibling=en,ga=en);return Xn&&vl(Be,Bn),ln}for(en=k(en);Bn<Ke.length;Bn++)oa=it(en,Be,Bn,Ke[Bn],pt),oa!==null&&(f&&oa.alternate!==null&&en.delete(oa.key===null?Bn:oa.key),Pe=q(oa,Pe,Bn),ga===null?ln=oa:ga.sibling=oa,ga=oa);return f&&en.forEach(function(_h){return p(Be,_h)}),Xn&&vl(Be,Bn),ln}function gn(Be,Pe,Ke,pt){if(Ke==null)throw Error(a(151));for(var ln=null,ga=null,en=Pe,Bn=Pe=0,oa=null,ba=Ke.next();en!==null&&!ba.done;Bn++,ba=Ke.next()){en.index>Bn?(oa=en,en=null):oa=en.sibling;var _h=Je(Be,en,ba.value,pt);if(_h===null){en===null&&(en=oa);break}f&&en&&_h.alternate===null&&p(Be,en),Pe=q(_h,Pe,Bn),ga===null?ln=_h:ga.sibling=_h,ga=_h,en=oa}if(ba.done)return C(Be,en),Xn&&vl(Be,Bn),ln;if(en===null){for(;!ba.done;Bn++,ba=Ke.next())ba=gt(Be,ba.value,pt),ba!==null&&(Pe=q(ba,Pe,Bn),ga===null?ln=ba:ga.sibling=ba,ga=ba);return Xn&&vl(Be,Bn),ln}for(en=k(en);!ba.done;Bn++,ba=Ke.next())ba=it(en,Be,Bn,ba.value,pt),ba!==null&&(f&&ba.alternate!==null&&en.delete(ba.key===null?Bn:ba.key),Pe=q(ba,Pe,Bn),ga===null?ln=ba:ga.sibling=ba,ga=ba);return f&&en.forEach(function(_oe){return p(Be,_oe)}),Xn&&vl(Be,Bn),ln}function Ba(Be,Pe,Ke,pt){if(typeof Ke=="object"&&Ke!==null&&Ke.type===v&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case g:e:{for(var ln=Ke.key;Pe!==null;){if(Pe.key===ln){if(ln=Ke.type,ln===v){if(Pe.tag===7){C(Be,Pe.sibling),pt=U(Pe,Ke.props.children),pt.return=Be,Be=pt;break e}}else if(Pe.elementType===ln||typeof ln=="object"&&ln!==null&&ln.$$typeof===P&&kd(ln)===Pe.type){C(Be,Pe.sibling),pt=U(Pe,Ke.props),cs(pt,Ke),pt.return=Be,Be=pt;break e}C(Be,Pe);break}else p(Be,Pe);Pe=Pe.sibling}Ke.type===v?(pt=fu(Ke.props.children,Be.mode,pt,Ke.key),pt.return=Be,Be=pt):(pt=xl(Ke.type,Ke.key,Ke.props,null,Be.mode,pt),cs(pt,Ke),pt.return=Be,Be=pt)}return se(Be);case y:e:{for(ln=Ke.key;Pe!==null;){if(Pe.key===ln)if(Pe.tag===4&&Pe.stateNode.containerInfo===Ke.containerInfo&&Pe.stateNode.implementation===Ke.implementation){C(Be,Pe.sibling),pt=U(Pe,Ke.children||[]),pt.return=Be,Be=pt;break e}else{C(Be,Pe);break}else p(Be,Pe);Pe=Pe.sibling}pt=m0(Ke,Be.mode,pt),pt.return=Be,Be=pt}return se(Be);case P:return Ke=kd(Ke),Ba(Be,Pe,Ke,pt)}if(z(Ke))return Zt(Be,Pe,Ke,pt);if(L(Ke)){if(ln=L(Ke),typeof ln!="function")throw Error(a(150));return Ke=ln.call(Ke),gn(Be,Pe,Ke,pt)}if(typeof Ke.then=="function")return Ba(Be,Pe,Zp(Ke),pt);if(Ke.$$typeof===T)return Ba(Be,Pe,th(Be,Ke),pt);nh(Be,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint"?(Ke=""+Ke,Pe!==null&&Pe.tag===6?(C(Be,Pe.sibling),pt=U(Pe,Ke),pt.return=Be,Be=pt):(C(Be,Pe),pt=p0(Ke,Be.mode,pt),pt.return=Be,Be=pt),se(Be)):C(Be,Pe)}return function(Be,Pe,Ke,pt){try{Dd=0;var ln=Ba(Be,Pe,Ke,pt);return jd=null,ln}catch(en){if(en===Rd||en===On)throw en;var ga=li(29,en,null,Be.mode);return ga.lanes=pt,ga.return=Be,ga}finally{}}}var wc=T0(!0),E0=T0(!1),to=!1;function Jp(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function My(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function _c(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function xu(f,p,C){var k=f.updateQueue;if(k===null)return null;if(k=k.shared,(tn&2)!==0){var U=k.pending;return U===null?p.next=p:(p.next=U.next,U.next=p),k.pending=p,p=ss(f),uu(f,null,C),p}return ur(f,k,p,C),ss(f)}function vu(f,p,C){if(p=p.updateQueue,p!==null&&(p=p.shared,(C&4194048)!==0)){var k=p.lanes;k&=f.pendingLanes,C|=k,p.lanes=C,an(f,C)}}function sn(f,p){var C=f.updateQueue,k=f.alternate;if(k!==null&&(k=k.updateQueue,C===k)){var U=null,q=null;if(C=C.firstBaseUpdate,C!==null){do{var se={lane:C.lane,tag:C.tag,payload:C.payload,callback:null,next:null};q===null?U=q=se:q=q.next=se,C=C.next}while(C!==null);q===null?U=q=p:q=q.next=p}else U=q=p;C={baseState:k.baseState,firstBaseUpdate:U,lastBaseUpdate:q,shared:k.shared,callbacks:k.callbacks},f.updateQueue=C;return}f=C.lastBaseUpdate,f===null?C.firstBaseUpdate=p:f.next=p,C.lastBaseUpdate=p}var Py=!1;function em(){if(Py){var f=ls;if(f!==null)throw f}}function ah(f,p,C,k){Py=!1;var U=f.updateQueue;to=!1;var q=U.firstBaseUpdate,se=U.lastBaseUpdate,xe=U.shared.pending;if(xe!==null){U.shared.pending=null;var je=xe,Xe=je.next;je.next=null,se===null?q=Xe:se.next=Xe,se=je;var ct=f.alternate;ct!==null&&(ct=ct.updateQueue,xe=ct.lastBaseUpdate,xe!==se&&(xe===null?ct.firstBaseUpdate=Xe:xe.next=Xe,ct.lastBaseUpdate=je))}if(q!==null){var gt=U.baseState;se=0,ct=Xe=je=null,xe=q;do{var Je=xe.lane&-536870913,it=Je!==xe.lane;if(it?(Dn&Je)===Je:(k&Je)===Je){Je!==0&&Je===Cc&&(Py=!0),ct!==null&&(ct=ct.next={lane:0,tag:xe.tag,payload:xe.payload,callback:null,next:null});e:{var Zt=f,gn=xe;Je=p;var Ba=C;switch(gn.tag){case 1:if(Zt=gn.payload,typeof Zt=="function"){gt=Zt.call(Ba,gt,Je);break e}gt=Zt;break e;case 3:Zt.flags=Zt.flags&-65537|128;case 0:if(Zt=gn.payload,Je=typeof Zt=="function"?Zt.call(Ba,gt,Je):Zt,Je==null)break e;gt=h({},gt,Je);break e;case 2:to=!0}}Je=xe.callback,Je!==null&&(f.flags|=64,it&&(f.flags|=8192),it=U.callbacks,it===null?U.callbacks=[Je]:it.push(Je))}else it={lane:Je,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null},ct===null?(Xe=ct=it,je=gt):ct=ct.next=it,se|=Je;if(xe=xe.next,xe===null){if(xe=U.shared.pending,xe===null)break;it=xe,xe=it.next,it.next=null,U.lastBaseUpdate=it,U.shared.pending=null}}while(!0);ct===null&&(je=gt),U.baseState=je,U.firstBaseUpdate=Xe,U.lastBaseUpdate=ct,q===null&&(U.shared.lanes=0),Ol|=se,f.lanes=se,f.memoizedState=gt}}function ih(f,p){if(typeof f!="function")throw Error(a(191,f));f.call(p)}function _3(f,p){var C=f.callbacks;if(C!==null)for(f.callbacks=null,f=0;f<C.length;f++)ih(C[f],p)}var rh=K(null),A0=K(0);function T3(f,p){f=Uo,W(A0,f),W(rh,p),Uo=f|p.baseLanes}function Ly(){W(A0,Uo),W(rh,rh.current)}function tm(){Uo=A0.current,J(rh),J(A0)}var xo=K(null),no=null;function Tc(f){var p=f.alternate;W(Qn,Qn.current&1),W(xo,f),no===null&&(p===null||rh.current!==null||p.memoizedState!==null)&&(no=f)}function zy(f){W(Qn,Qn.current),W(xo,f),no===null&&(no=f)}function E3(f){f.tag===22?(W(Qn,Qn.current),W(xo,f),no===null&&(no=f)):vo()}function vo(){W(Qn,Qn.current),W(xo,xo.current)}function ji(f){J(xo),no===f&&(no=null),J(Qn)}var Qn=K(0);function Bo(f){for(var p=f;p!==null;){if(p.tag===13){var C=p.memoizedState;if(C!==null&&(C=C.dehydrated,C===null||PT(C)||LT(C)))return p}else if(p.tag===19&&(p.memoizedProps.revealOrder==="forwards"||p.memoizedProps.revealOrder==="backwards"||p.memoizedProps.revealOrder==="unstable_legacy-backwards"||p.memoizedProps.revealOrder==="together")){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Za=0,kn=null,ka=null,Vn=null,us=!1,oh=!1,Od=!1,R0=0,nm=0,sh=null,Fy=0;function ui(){throw Error(a(321))}function By(f,p){if(p===null)return!1;for(var C=0;C<p.length&&C<f.length;C++)if(!Jr(f[C],p[C]))return!1;return!0}function k0(f,p,C,k,U,q){return Za=q,kn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,F.H=f===null||f.memoizedState===null?iC:ox,Od=!1,q=C(k,U),Od=!1,oh&&(q=Md(p,C,k,U)),A3(f),q}function A3(f){F.H=lh;var p=ka!==null&&ka.next!==null;if(Za=0,Vn=ka=kn=null,us=!1,nm=0,sh=null,p)throw Error(a(300));f===null||$i||(f=f.dependencies,f!==null&&Kp(f)&&($i=!0))}function Md(f,p,C,k){kn=f;var U=0;do{if(oh&&(sh=null),nm=0,oh=!1,25<=U)throw Error(a(301));if(U+=1,Vn=ka=null,f.updateQueue!=null){var q=f.updateQueue;q.lastEffect=null,q.events=null,q.stores=null,q.memoCache!=null&&(q.memoCache.index=0)}F.H=ds,q=p(C,k)}while(oh);return q}function Pd(){var f=F.H,p=f.useState()[0];return p=typeof p.then=="function"?am(p):p,f=f.useState()[0],(ka!==null?ka.memoizedState:null)!==f&&(kn.flags|=1024),p}function Hy(){var f=R0!==0;return R0=0,f}function $y(f,p,C){p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~C}function Uy(f){if(us){for(f=f.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}us=!1}Za=0,Vn=ka=kn=null,oh=!1,nm=R0=0,sh=null}function Zi(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?kn.memoizedState=Vn=f:Vn=Vn.next=f,Vn}function Di(){if(ka===null){var f=kn.alternate;f=f!==null?f.memoizedState:null}else f=ka.next;var p=Vn===null?kn.memoizedState:Vn.next;if(p!==null)Vn=p,ka=f;else{if(f===null)throw kn.alternate===null?Error(a(467)):Error(a(310));ka=f,f={memoizedState:ka.memoizedState,baseState:ka.baseState,baseQueue:ka.baseQueue,queue:ka.queue,next:null},Vn===null?kn.memoizedState=Vn=f:Vn=Vn.next=f}return Vn}function I0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function am(f){var p=nm;return nm+=1,sh===null&&(sh=[]),f=_0(sh,f,p),p=kn,(Vn===null?p.memoizedState:Vn.next)===null&&(p=p.alternate,F.H=p===null||p.memoizedState===null?iC:ox),f}function Su(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return am(f);if(f.$$typeof===T)return bn(f)}throw Error(a(438,String(f)))}function Gy(f){var p=null,C=kn.updateQueue;if(C!==null&&(p=C.memoCache),p==null){var k=kn.alternate;k!==null&&(k=k.updateQueue,k!==null&&(k=k.memoCache,k!=null&&(p={data:k.data.map(function(U){return U.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),C===null&&(C=I0(),kn.updateQueue=C),C.memoCache=p,C=p.data[p.index],C===void 0)for(C=p.data[p.index]=Array(f),k=0;k<f;k++)C[k]=D;return p.index++,C}function Ec(f,p){return typeof p=="function"?p(f):p}function N0(f){var p=Di();return qy(p,ka,f)}function qy(f,p,C){var k=f.queue;if(k===null)throw Error(a(311));k.lastRenderedReducer=C;var U=f.baseQueue,q=k.pending;if(q!==null){if(U!==null){var se=U.next;U.next=q.next,q.next=se}p.baseQueue=U=q,k.pending=null}if(q=f.baseState,U===null)f.memoizedState=q;else{p=U.next;var xe=se=null,je=null,Xe=p,ct=!1;do{var gt=Xe.lane&-536870913;if(gt!==Xe.lane?(Dn&gt)===gt:(Za&gt)===gt){var Je=Xe.revertLane;if(Je===0)je!==null&&(je=je.next={lane:0,revertLane:0,gesture:null,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),gt===Cc&&(ct=!0);else if((Za&Je)===Je){Xe=Xe.next,Je===Cc&&(ct=!0);continue}else gt={lane:0,revertLane:Xe.revertLane,gesture:null,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},je===null?(xe=je=gt,se=q):je=je.next=gt,kn.lanes|=Je,Ol|=Je;gt=Xe.action,Od&&C(q,gt),q=Xe.hasEagerState?Xe.eagerState:C(q,gt)}else Je={lane:gt,revertLane:Xe.revertLane,gesture:Xe.gesture,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},je===null?(xe=je=Je,se=q):je=je.next=Je,kn.lanes|=gt,Ol|=gt;Xe=Xe.next}while(Xe!==null&&Xe!==p);if(je===null?se=q:je.next=xe,!Jr(q,f.memoizedState)&&($i=!0,ct&&(C=ls,C!==null)))throw C;f.memoizedState=q,f.baseState=se,f.baseQueue=je,k.lastRenderedState=q}return U===null&&(k.lanes=0),[f.memoizedState,k.dispatch]}function Wy(f){var p=Di(),C=p.queue;if(C===null)throw Error(a(311));C.lastRenderedReducer=f;var k=C.dispatch,U=C.pending,q=p.memoizedState;if(U!==null){C.pending=null;var se=U=U.next;do q=f(q,se.action),se=se.next;while(se!==U);Jr(q,p.memoizedState)||($i=!0),p.memoizedState=q,p.baseQueue===null&&(p.baseState=q),C.lastRenderedState=q}return[q,k]}function R3(f,p,C){var k=kn,U=Di(),q=Xn;if(q){if(C===void 0)throw Error(a(407));C=C()}else C=p();var se=!Jr((ka||U).memoizedState,C);if(se&&(U.memoizedState=C,$i=!0),U=U.queue,ex(N3.bind(null,k,U,f),[f]),U.getSnapshot!==p||se||Vn!==null&&Vn.memoizedState.tag&1){if(k.flags|=2048,Cu(9,{destroy:void 0},I3.bind(null,k,U,C,p),null),yn===null)throw Error(a(349));q||(Za&127)!==0||k3(k,p,C)}return C}function k3(f,p,C){f.flags|=16384,f={getSnapshot:p,value:C},p=kn.updateQueue,p===null?(p=I0(),kn.updateQueue=p,p.stores=[f]):(C=p.stores,C===null?p.stores=[f]:C.push(f))}function I3(f,p,C,k){p.value=C,p.getSnapshot=k,j3(p)&&D3(f)}function N3(f,p,C){return C(function(){j3(p)&&D3(f)})}function j3(f){var p=f.getSnapshot;f=f.value;try{var C=p();return!Jr(f,C)}catch{return!0}}function D3(f){var p=eo(f,2);p!==null&&Pn(p,f,2)}function Vy(f){var p=Zi();if(typeof f=="function"){var C=f;if(f=C(),Od){ot(!0);try{C()}finally{ot(!1)}}}return p.memoizedState=p.baseState=f,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ec,lastRenderedState:f},p}function Yy(f,p,C,k){return f.baseState=C,qy(f,ka,typeof k=="function"?k:Ec)}function vT(f,p,C,k,U){if(M0(f))throw Error(a(485));if(f=p.action,f!==null){var q={payload:U,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(se){q.listeners.push(se)}};F.T!==null?C(!0):q.isTransition=!1,k(q),C=p.pending,C===null?(q.next=p.pending=q,O3(p,q)):(q.next=C.next,p.pending=C.next=q)}}function O3(f,p){var C=p.action,k=p.payload,U=f.state;if(p.isTransition){var q=F.T,se={};F.T=se;try{var xe=C(U,k),je=F.S;je!==null&&je(se,xe),M3(f,p,xe)}catch(Xe){Ky(f,p,Xe)}finally{q!==null&&se.types!==null&&(q.types=se.types),F.T=q}}else try{q=C(U,k),M3(f,p,q)}catch(Xe){Ky(f,p,Xe)}}function M3(f,p,C){C!==null&&typeof C=="object"&&typeof C.then=="function"?C.then(function(k){P3(f,p,k)},function(k){return Ky(f,p,k)}):P3(f,p,C)}function P3(f,p,C){p.status="fulfilled",p.value=C,L3(p),f.state=C,p=f.pending,p!==null&&(C=p.next,C===p?f.pending=null:(C=C.next,p.next=C,O3(f,C)))}function Ky(f,p,C){var k=f.pending;if(f.pending=null,k!==null){k=k.next;do p.status="rejected",p.reason=C,L3(p),p=p.next;while(p!==k)}f.action=null}function L3(f){f=f.listeners;for(var p=0;p<f.length;p++)(0,f[p])()}function Xy(f,p){return p}function Qy(f,p){if(Xn){var C=yn.formState;if(C!==null){e:{var k=kn;if(Xn){if(La){t:{for(var U=La,q=zo;U.nodeType!==8;){if(!q){U=null;break t}if(U=Ll(U.nextSibling),U===null){U=null;break t}}q=U.data,U=q==="F!"||q==="F"?U:null}if(U){La=Ll(U.nextSibling),k=U.data==="F!";break e}}Cl(k)}k=!1}k&&(p=C[0])}}return C=Zi(),C.memoizedState=C.baseState=p,k={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xy,lastRenderedState:p},C.queue=k,C=tC.bind(null,kn,k),k.dispatch=C,k=Vy(!1),q=rx.bind(null,kn,!1,k.queue),k=Zi(),U={state:p,dispatch:null,action:f,pending:null},k.queue=U,C=vT.bind(null,kn,U,q,C),U.dispatch=C,k.memoizedState=f,[p,C,!1]}function z3(f){var p=Di();return Zy(p,ka,f)}function Zy(f,p,C){if(p=qy(f,p,Xy)[0],f=N0(Ec)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var k=am(p)}catch(se){throw se===Rd?On:se}else k=p;p=Di();var U=p.queue,q=U.dispatch;return C!==p.memoizedState&&(kn.flags|=2048,Cu(9,{destroy:void 0},F3.bind(null,U,C),null)),[k,q,f]}function F3(f,p){f.action=p}function Jy(f){var p=Di(),C=ka;if(C!==null)return Zy(p,C,f);Di(),p=p.memoizedState,C=Di();var k=C.queue.dispatch;return C.memoizedState=f,[p,k,!1]}function Cu(f,p,C,k){return f={tag:f,create:C,deps:k,inst:p,next:null},p=kn.updateQueue,p===null&&(p=I0(),kn.updateQueue=p),C=p.lastEffect,C===null?p.lastEffect=f.next=f:(k=C.next,C.next=f,f.next=k,p.lastEffect=f),f}function j0(){return Di().memoizedState}function D0(f,p,C,k){var U=Zi();kn.flags|=f,U.memoizedState=Cu(1|p,{destroy:void 0},C,k===void 0?null:k)}function O0(f,p,C,k){var U=Di();k=k===void 0?null:k;var q=U.memoizedState.inst;ka!==null&&k!==null&&By(k,ka.memoizedState.deps)?U.memoizedState=Cu(p,q,C,k):(kn.flags|=f,U.memoizedState=Cu(1|p,q,C,k))}function B3(f,p){D0(8390656,8,f,p)}function ex(f,p){O0(2048,8,f,p)}function H3(f){kn.flags|=4;var p=kn.updateQueue;if(p===null)p=I0(),kn.updateQueue=p,p.events=[f];else{var C=p.events;C===null?p.events=[f]:C.push(f)}}function $3(f){var p=Di().memoizedState;return H3({ref:p,nextImpl:f}),function(){if((tn&2)!==0)throw Error(a(440));return p.impl.apply(void 0,arguments)}}function U3(f,p){return O0(4,2,f,p)}function G3(f,p){return O0(4,4,f,p)}function q3(f,p){if(typeof p=="function"){f=f();var C=p(f);return function(){typeof C=="function"?C():p(null)}}if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function W3(f,p,C){C=C!=null?C.concat([f]):null,O0(4,4,q3.bind(null,p,f),C)}function tx(){}function V3(f,p){var C=Di();p=p===void 0?null:p;var k=C.memoizedState;return p!==null&&By(p,k[1])?k[0]:(C.memoizedState=[f,p],f)}function Y3(f,p){var C=Di();p=p===void 0?null:p;var k=C.memoizedState;if(p!==null&&By(p,k[1]))return k[0];if(k=f(),Od){ot(!0);try{f()}finally{ot(!1)}}return C.memoizedState=[k,p],k}function nx(f,p,C){return C===void 0||(Za&1073741824)!==0&&(Dn&261930)===0?f.memoizedState=p:(f.memoizedState=C,f=Gn(),kn.lanes|=f,Ol|=f,C)}function K3(f,p,C,k){return Jr(C,p)?C:rh.current!==null?(f=nx(f,C,k),Jr(f,p)||($i=!0),f):(Za&42)===0||(Za&1073741824)!==0&&(Dn&261930)===0?($i=!0,f.memoizedState=C):(f=Gn(),kn.lanes|=f,Ol|=f,p)}function X3(f,p,C,k,U){var q=G.p;G.p=q!==0&&8>q?q:8;var se=F.T,xe={};F.T=xe,rx(f,!1,p,C);try{var je=U(),Xe=F.S;if(Xe!==null&&Xe(xe,je),je!==null&&typeof je=="object"&&typeof je.then=="function"){var ct=Dy(je,k);im(f,p,ct,qo(f))}else im(f,p,k,qo(f))}catch(gt){im(f,p,{then:function(){},status:"rejected",reason:gt},qo())}finally{G.p=q,se!==null&&xe.types!==null&&(se.types=xe.types),F.T=se}}function ST(){}function ax(f,p,C,k){if(f.tag!==5)throw Error(a(476));var U=Q3(f).queue;X3(f,U,p,ee,C===null?ST:function(){return Z3(f),C(k)})}function Q3(f){var p=f.memoizedState;if(p!==null)return p;p={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ec,lastRenderedState:ee},next:null};var C={};return p.next={memoizedState:C,baseState:C,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ec,lastRenderedState:C},next:null},f.memoizedState=p,f=f.alternate,f!==null&&(f.memoizedState=p),p}function Z3(f){var p=Q3(f);p.next===null&&(p=f.alternate.memoizedState),im(f,p.next.queue,{},qo())}function ix(){return bn(Ex)}function J3(){return Di().memoizedState}function eC(){return Di().memoizedState}function CT(f){for(var p=f.return;p!==null;){switch(p.tag){case 24:case 3:var C=qo();f=_c(C);var k=xu(p,f,C);k!==null&&(Pn(k,p,C),vu(k,p,C)),p={cache:Iy()},f.payload=p;return}p=p.return}}function wT(f,p,C){var k=qo();C={lane:k,revertLane:0,gesture:null,action:C,hasEagerState:!1,eagerState:null,next:null},M0(f)?nC(p,C):(C=f0(f,p,C,k),C!==null&&(Pn(C,f,k),aC(C,p,k)))}function tC(f,p,C){var k=qo();im(f,p,C,k)}function im(f,p,C,k){var U={lane:k,revertLane:0,gesture:null,action:C,hasEagerState:!1,eagerState:null,next:null};if(M0(f))nC(p,U);else{var q=f.alternate;if(f.lanes===0&&(q===null||q.lanes===0)&&(q=p.lastRenderedReducer,q!==null))try{var se=p.lastRenderedState,xe=q(se,C);if(U.hasEagerState=!0,U.eagerState=xe,Jr(xe,se))return ur(f,p,U,0),yn===null&&Vp(),!1}catch{}finally{}if(C=f0(f,p,U,k),C!==null)return Pn(C,f,k),aC(C,p,k),!0}return!1}function rx(f,p,C,k){if(k={lane:2,revertLane:et(),gesture:null,action:k,hasEagerState:!1,eagerState:null,next:null},M0(f)){if(p)throw Error(a(479))}else p=f0(f,C,k,2),p!==null&&Pn(p,f,2)}function M0(f){var p=f.alternate;return f===kn||p!==null&&p===kn}function nC(f,p){oh=us=!0;var C=f.pending;C===null?p.next=p:(p.next=C.next,C.next=p),f.pending=p}function aC(f,p,C){if((C&4194048)!==0){var k=p.lanes;k&=f.pendingLanes,C|=k,p.lanes=C,an(f,C)}}var lh={readContext:bn,use:Su,useCallback:ui,useContext:ui,useEffect:ui,useImperativeHandle:ui,useLayoutEffect:ui,useInsertionEffect:ui,useMemo:ui,useReducer:ui,useRef:ui,useState:ui,useDebugValue:ui,useDeferredValue:ui,useTransition:ui,useSyncExternalStore:ui,useId:ui,useHostTransitionStatus:ui,useFormState:ui,useActionState:ui,useOptimistic:ui,useMemoCache:ui,useCacheRefresh:ui};lh.useEffectEvent=ui;var iC={readContext:bn,use:Su,useCallback:function(f,p){return Zi().memoizedState=[f,p===void 0?null:p],f},useContext:bn,useEffect:B3,useImperativeHandle:function(f,p,C){C=C!=null?C.concat([f]):null,D0(4194308,4,q3.bind(null,p,f),C)},useLayoutEffect:function(f,p){return D0(4194308,4,f,p)},useInsertionEffect:function(f,p){D0(4,2,f,p)},useMemo:function(f,p){var C=Zi();p=p===void 0?null:p;var k=f();if(Od){ot(!0);try{f()}finally{ot(!1)}}return C.memoizedState=[k,p],k},useReducer:function(f,p,C){var k=Zi();if(C!==void 0){var U=C(p);if(Od){ot(!0);try{C(p)}finally{ot(!1)}}}else U=p;return k.memoizedState=k.baseState=U,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:U},k.queue=f,f=f.dispatch=wT.bind(null,kn,f),[k.memoizedState,f]},useRef:function(f){var p=Zi();return f={current:f},p.memoizedState=f},useState:function(f){f=Vy(f);var p=f.queue,C=tC.bind(null,kn,p);return p.dispatch=C,[f.memoizedState,C]},useDebugValue:tx,useDeferredValue:function(f,p){var C=Zi();return nx(C,f,p)},useTransition:function(){var f=Vy(!1);return f=X3.bind(null,kn,f.queue,!0,!1),Zi().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,p,C){var k=kn,U=Zi();if(Xn){if(C===void 0)throw Error(a(407));C=C()}else{if(C=p(),yn===null)throw Error(a(349));(Dn&127)!==0||k3(k,p,C)}U.memoizedState=C;var q={value:C,getSnapshot:p};return U.queue=q,B3(N3.bind(null,k,q,f),[f]),k.flags|=2048,Cu(9,{destroy:void 0},I3.bind(null,k,q,C,p),null),C},useId:function(){var f=Zi(),p=yn.identifierPrefix;if(Xn){var C=$s,k=ci;C=(k&~(1<<32-bt(k)-1)).toString(32)+C,p="_"+p+"R_"+C,C=R0++,0<C&&(p+="H"+C.toString(32)),p+="_"}else C=Fy++,p="_"+p+"r_"+C.toString(32)+"_";return f.memoizedState=p},useHostTransitionStatus:ix,useFormState:Qy,useActionState:Qy,useOptimistic:function(f){var p=Zi();p.memoizedState=p.baseState=f;var C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=C,p=rx.bind(null,kn,!0,C),C.dispatch=p,[f,p]},useMemoCache:Gy,useCacheRefresh:function(){return Zi().memoizedState=CT.bind(null,kn)},useEffectEvent:function(f){var p=Zi(),C={impl:f};return p.memoizedState=C,function(){if((tn&2)!==0)throw Error(a(440));return C.impl.apply(void 0,arguments)}}},ox={readContext:bn,use:Su,useCallback:V3,useContext:bn,useEffect:ex,useImperativeHandle:W3,useInsertionEffect:U3,useLayoutEffect:G3,useMemo:Y3,useReducer:N0,useRef:j0,useState:function(){return N0(Ec)},useDebugValue:tx,useDeferredValue:function(f,p){var C=Di();return K3(C,ka.memoizedState,f,p)},useTransition:function(){var f=N0(Ec)[0],p=Di().memoizedState;return[typeof f=="boolean"?f:am(f),p]},useSyncExternalStore:R3,useId:J3,useHostTransitionStatus:ix,useFormState:z3,useActionState:z3,useOptimistic:function(f,p){var C=Di();return Yy(C,ka,f,p)},useMemoCache:Gy,useCacheRefresh:eC};ox.useEffectEvent=$3;var ds={readContext:bn,use:Su,useCallback:V3,useContext:bn,useEffect:ex,useImperativeHandle:W3,useInsertionEffect:U3,useLayoutEffect:G3,useMemo:Y3,useReducer:Wy,useRef:j0,useState:function(){return Wy(Ec)},useDebugValue:tx,useDeferredValue:function(f,p){var C=Di();return ka===null?nx(C,f,p):K3(C,ka.memoizedState,f,p)},useTransition:function(){var f=Wy(Ec)[0],p=Di().memoizedState;return[typeof f=="boolean"?f:am(f),p]},useSyncExternalStore:R3,useId:J3,useHostTransitionStatus:ix,useFormState:Jy,useActionState:Jy,useOptimistic:function(f,p){var C=Di();return ka!==null?Yy(C,ka,f,p):(C.baseState=f,[f,C.queue.dispatch])},useMemoCache:Gy,useCacheRefresh:eC};ds.useEffectEvent=$3;function P0(f,p,C,k){p=f.memoizedState,C=C(k,p),C=C==null?p:h({},p,C),f.memoizedState=C,f.lanes===0&&(f.updateQueue.baseState=C)}var rm={enqueueSetState:function(f,p,C){f=f._reactInternals;var k=qo(),U=_c(k);U.payload=p,C!=null&&(U.callback=C),p=xu(f,U,k),p!==null&&(Pn(p,f,k),vu(p,f,k))},enqueueReplaceState:function(f,p,C){f=f._reactInternals;var k=qo(),U=_c(k);U.tag=1,U.payload=p,C!=null&&(U.callback=C),p=xu(f,U,k),p!==null&&(Pn(p,f,k),vu(p,f,k))},enqueueForceUpdate:function(f,p){f=f._reactInternals;var C=qo(),k=_c(C);k.tag=2,p!=null&&(k.callback=p),p=xu(f,k,C),p!==null&&(Pn(p,f,C),vu(p,f,C))}};function sx(f,p,C,k,U,q,se){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(k,q,se):p.prototype&&p.prototype.isPureReactComponent?!Gf(C,k)||!Gf(U,q):!0}function lx(f,p,C,k){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(C,k),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(C,k),p.state!==f&&rm.enqueueReplaceState(p,p.state,null)}function wu(f,p){var C=p;if("ref"in p){C={};for(var k in p)k!=="ref"&&(C[k]=p[k])}if(f=f.defaultProps){C===p&&(C=h({},C));for(var U in f)C[U]===void 0&&(C[U]=f[U])}return C}function rC(f){Wp(f)}function cx(f){console.error(f)}function ux(f){Wp(f)}function L0(f,p){try{var C=f.onUncaughtError;C(p.value,{componentStack:p.stack})}catch(k){setTimeout(function(){throw k})}}function oC(f,p,C){try{var k=f.onCaughtError;k(C.value,{componentStack:C.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(U){setTimeout(function(){throw U})}}function dx(f,p,C){return C=_c(C),C.tag=3,C.payload={element:null},C.callback=function(){L0(f,p)},C}function fx(f){return f=_c(f),f.tag=3,f}function sC(f,p,C,k){var U=C.type.getDerivedStateFromError;if(typeof U=="function"){var q=k.value;f.payload=function(){return U(q)},f.callback=function(){oC(p,C,k)}}var se=C.stateNode;se!==null&&typeof se.componentDidCatch=="function"&&(f.callback=function(){oC(p,C,k),typeof U!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var xe=k.stack;this.componentDidCatch(k.value,{componentStack:xe!==null?xe:""})})}function Ji(f,p,C,k,U){if(C.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){if(p=C.alternate,p!==null&&El(p,C,U,!0),C=xo.current,C!==null){switch(C.tag){case 31:case 13:return no===null?mh():C.alternate===null&&di===0&&(di=3),C.flags&=-257,C.flags|=65536,C.lanes=U,k===w0?C.flags|=16384:(p=C.updateQueue,p===null?C.updateQueue=new Set([k]):p.add(k),bm(f,k,U)),!1;case 22:return C.flags|=65536,k===w0?C.flags|=16384:(p=C.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([k])},C.updateQueue=p):(C=p.retryQueue,C===null?p.retryQueue=new Set([k]):C.add(k)),bm(f,k,U)),!1}throw Error(a(435,C.tag))}return bm(f,k,U),mh(),!1}if(Xn)return p=xo.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=U,k!==Zf&&(f=Error(a(422),{cause:k}),wl(Lo(f,C)))):(k!==Zf&&(p=Error(a(423),{cause:k}),wl(Lo(p,C))),f=f.current.alternate,f.flags|=65536,U&=-U,f.lanes|=U,k=Lo(k,C),U=dx(f.stateNode,k,U),sn(f,U),di!==4&&(di=2)),!1;var q=Error(a(520),{cause:k});if(q=Lo(q,C),Gd===null?Gd=[q]:Gd.push(q),di!==4&&(di=2),p===null)return!0;k=Lo(k,C),C=p;do{switch(C.tag){case 3:return C.flags|=65536,f=U&-U,C.lanes|=f,f=dx(C.stateNode,k,f),sn(C,f),!1;case 1:if(p=C.type,q=C.stateNode,(C.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Pi===null||!Pi.has(q))))return C.flags|=65536,U&=-U,C.lanes|=U,U=fx(U),sC(U,f,C,k),sn(C,U),!1}C=C.return}while(C!==null);return!1}var z0=Error(a(461)),$i=!1;function dr(f,p,C,k){p.child=f===null?E0(p,null,C,k):wc(p,f.child,C,k)}function hx(f,p,C,k,U){C=C.render;var q=p.ref;if("ref"in k){var se={};for(var xe in k)xe!=="ref"&&(se[xe]=k[xe])}else se=k;return bu(p),k=k0(f,p,C,se,q,U),xe=Hy(),f!==null&&!$i?($y(f,p,U),Oi(f,p,U)):(Xn&&xe&&Sl(p),p.flags|=1,dr(f,p,k,U),p.child)}function Ld(f,p,C,k,U){if(f===null){var q=C.type;return typeof q=="function"&&!h0(q)&&q.defaultProps===void 0&&C.compare===null?(p.tag=15,p.type=q,F0(f,p,q,k,U)):(f=xl(C.type,null,k,p,p.mode,U),f.ref=p.ref,f.return=p,p.child=f)}if(q=f.child,!q0(f,U)){var se=q.memoizedProps;if(C=C.compare,C=C!==null?C:Gf,C(se,k)&&f.ref===p.ref)return Oi(f,p,U)}return p.flags|=1,f=go(q,k),f.ref=p.ref,f.return=p,p.child=f}function F0(f,p,C,k,U){if(f!==null){var q=f.memoizedProps;if(Gf(q,k)&&f.ref===p.ref)if($i=!1,p.pendingProps=k=q,q0(f,U))(f.flags&131072)!==0&&($i=!0);else return p.lanes=f.lanes,Oi(f,p,U)}return ch(f,p,C,k,U)}function zd(f,p,C,k){var U=k.children,q=f!==null?f.memoizedState:null;if(f===null&&p.stateNode===null&&(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),k.mode==="hidden"){if((p.flags&128)!==0){if(q=q!==null?q.baseLanes|C:C,f!==null){for(k=p.child=f.child,U=0;k!==null;)U=U|k.lanes|k.childLanes,k=k.sibling;k=U&~q}else k=0,p.child=null;return So(f,p,q,C,k)}if((C&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},f!==null&&Xp(p,q!==null?q.cachePool:null),q!==null?T3(p,q):Ly(),E3(p);else return k=p.lanes=536870912,So(f,p,q!==null?q.baseLanes|C:C,C,k)}else q!==null?(Xp(p,q.cachePool),T3(p,q),vo(),p.memoizedState=null):(f!==null&&Xp(p,null),Ly(),vo());return dr(f,p,U,C),p.child}function Rl(f,p){return f!==null&&f.tag===22||p.stateNode!==null||(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.sibling}function So(f,p,C,k,U){var q=C0();return q=q===null?null:{parent:Hi._currentValue,pool:q},p.memoizedState={baseLanes:C,cachePool:q},f!==null&&Xp(p,null),Ly(),E3(p),f!==null&&El(f,p,k,!0),p.childLanes=U,null}function B0(f,p){return p=G0({mode:p.mode,children:p.children},f.mode),p.ref=f.ref,f.child=p,p.return=f,p}function lC(f,p,C){return wc(p,f.child,null,C),f=B0(p,p.pendingProps),f.flags|=2,ji(p),p.memoizedState=null,f}function H0(f,p,C){var k=p.pendingProps,U=(p.flags&128)!==0;if(p.flags&=-129,f===null){if(Xn){if(k.mode==="hidden")return f=B0(p,k),p.lanes=536870912,Rl(null,f);if(zy(p),(f=La)?(f=lM(f,zo),f=f!==null&&f.data==="&"?f:null,f!==null&&(p.memoizedState={dehydrated:f,treeContext:xc!==null?{id:ci,overflow:$s}:null,retryLane:536870912,hydrationErrors:null},C=Kf(f),C.return=p,p.child=C,vi=p,La=null)):f=null,f===null)throw Cl(p);return p.lanes=536870912,null}return B0(p,k)}var q=f.memoizedState;if(q!==null){var se=q.dehydrated;if(zy(p),U)if(p.flags&256)p.flags&=-257,p=lC(f,p,C);else if(p.memoizedState!==null)p.child=f.child,p.flags|=128,p=null;else throw Error(a(558));else if($i||El(f,p,C,!1),U=(C&f.childLanes)!==0,$i||U){if(k=yn,k!==null&&(se=En(k,C),se!==0&&se!==q.retryLane))throw q.retryLane=se,eo(f,se),Pn(k,f,se),z0;mh(),p=lC(f,p,C)}else f=q.treeContext,La=Ll(se.nextSibling),vi=p,Xn=!0,vc=null,zo=!1,f!==null&&b0(p,f),p=B0(p,k),p.flags|=4096;return p}return f=go(f.child,{mode:k.mode,children:k.children}),f.ref=p.ref,p.child=f,f.return=p,f}function Fd(f,p){var C=p.ref;if(C===null)f!==null&&f.ref!==null&&(p.flags|=4194816);else{if(typeof C!="function"&&typeof C!="object")throw Error(a(284));(f===null||f.ref!==C)&&(p.flags|=4194816)}}function ch(f,p,C,k,U){return bu(p),C=k0(f,p,C,k,void 0,U),k=Hy(),f!==null&&!$i?($y(f,p,U),Oi(f,p,U)):(Xn&&k&&Sl(p),p.flags|=1,dr(f,p,C,U),p.child)}function om(f,p,C,k,U,q){return bu(p),p.updateQueue=null,C=Md(p,k,C,U),A3(f),k=Hy(),f!==null&&!$i?($y(f,p,q),Oi(f,p,q)):(Xn&&k&&Sl(p),p.flags|=1,dr(f,p,C,q),p.child)}function $0(f,p,C,k,U){if(bu(p),p.stateNode===null){var q=du,se=C.contextType;typeof se=="object"&&se!==null&&(q=bn(se)),q=new C(k,q),p.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,q.updater=rm,p.stateNode=q,q._reactInternals=p,q=p.stateNode,q.props=k,q.state=p.memoizedState,q.refs={},Jp(p),se=C.contextType,q.context=typeof se=="object"&&se!==null?bn(se):du,q.state=p.memoizedState,se=C.getDerivedStateFromProps,typeof se=="function"&&(P0(p,C,se,k),q.state=p.memoizedState),typeof C.getDerivedStateFromProps=="function"||typeof q.getSnapshotBeforeUpdate=="function"||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(se=q.state,typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount(),se!==q.state&&rm.enqueueReplaceState(q,q.state,null),ah(p,k,q,U),em(),q.state=p.memoizedState),typeof q.componentDidMount=="function"&&(p.flags|=4194308),k=!0}else if(f===null){q=p.stateNode;var xe=p.memoizedProps,je=wu(C,xe);q.props=je;var Xe=q.context,ct=C.contextType;se=du,typeof ct=="object"&&ct!==null&&(se=bn(ct));var gt=C.getDerivedStateFromProps;ct=typeof gt=="function"||typeof q.getSnapshotBeforeUpdate=="function",xe=p.pendingProps!==xe,ct||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(xe||Xe!==se)&&lx(p,q,k,se),to=!1;var Je=p.memoizedState;q.state=Je,ah(p,k,q,U),em(),Xe=p.memoizedState,xe||Je!==Xe||to?(typeof gt=="function"&&(P0(p,C,gt,k),Xe=p.memoizedState),(je=to||sx(p,C,je,k,Je,Xe,se))?(ct||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(p.flags|=4194308)):(typeof q.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=k,p.memoizedState=Xe),q.props=k,q.state=Xe,q.context=se,k=je):(typeof q.componentDidMount=="function"&&(p.flags|=4194308),k=!1)}else{q=p.stateNode,My(f,p),se=p.memoizedProps,ct=wu(C,se),q.props=ct,gt=p.pendingProps,Je=q.context,Xe=C.contextType,je=du,typeof Xe=="object"&&Xe!==null&&(je=bn(Xe)),xe=C.getDerivedStateFromProps,(Xe=typeof xe=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(se!==gt||Je!==je)&&lx(p,q,k,je),to=!1,Je=p.memoizedState,q.state=Je,ah(p,k,q,U),em();var it=p.memoizedState;se!==gt||Je!==it||to||f!==null&&f.dependencies!==null&&Kp(f.dependencies)?(typeof xe=="function"&&(P0(p,C,xe,k),it=p.memoizedState),(ct=to||sx(p,C,ct,k,Je,it,je)||f!==null&&f.dependencies!==null&&Kp(f.dependencies))?(Xe||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(k,it,je),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(k,it,je)),typeof q.componentDidUpdate=="function"&&(p.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof q.componentDidUpdate!="function"||se===f.memoizedProps&&Je===f.memoizedState||(p.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||se===f.memoizedProps&&Je===f.memoizedState||(p.flags|=1024),p.memoizedProps=k,p.memoizedState=it),q.props=k,q.state=it,q.context=je,k=ct):(typeof q.componentDidUpdate!="function"||se===f.memoizedProps&&Je===f.memoizedState||(p.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||se===f.memoizedProps&&Je===f.memoizedState||(p.flags|=1024),k=!1)}return q=k,Fd(f,p),k=(p.flags&128)!==0,q||k?(q=p.stateNode,C=k&&typeof C.getDerivedStateFromError!="function"?null:q.render(),p.flags|=1,f!==null&&k?(p.child=wc(p,f.child,null,U),p.child=wc(p,null,C,U)):dr(f,p,C,U),p.memoizedState=q.state,f=p.child):f=Oi(f,p,U),f}function cC(f,p,C,k){return mu(),p.flags|=256,dr(f,p,C,k),p.child}var px={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zr(f){return{baseLanes:f,cachePool:Oy()}}function U0(f,p,C){return f=f!==null?f.childLanes&~C:0,p&&(f|=oo),f}function uC(f,p,C){var k=p.pendingProps,U=!1,q=(p.flags&128)!==0,se;if((se=q)||(se=f!==null&&f.memoizedState===null?!1:(Qn.current&2)!==0),se&&(U=!0,p.flags&=-129),se=(p.flags&32)!==0,p.flags&=-33,f===null){if(Xn){if(U?Tc(p):vo(),(f=La)?(f=lM(f,zo),f=f!==null&&f.data!=="&"?f:null,f!==null&&(p.memoizedState={dehydrated:f,treeContext:xc!==null?{id:ci,overflow:$s}:null,retryLane:536870912,hydrationErrors:null},C=Kf(f),C.return=p,p.child=C,vi=p,La=null)):f=null,f===null)throw Cl(p);return LT(f)?p.lanes=32:p.lanes=536870912,null}var xe=k.children;return k=k.fallback,U?(vo(),U=p.mode,xe=G0({mode:"hidden",children:xe},U),k=fu(k,U,C,null),xe.return=p,k.return=p,xe.sibling=k,p.child=xe,k=p.child,k.memoizedState=zr(C),k.childLanes=U0(f,se,C),p.memoizedState=px,Rl(null,k)):(Tc(p),sm(p,xe))}var je=f.memoizedState;if(je!==null&&(xe=je.dehydrated,xe!==null)){if(q)p.flags&256?(Tc(p),p.flags&=-257,p=mx(f,p,C)):p.memoizedState!==null?(vo(),p.child=f.child,p.flags|=128,p=null):(vo(),xe=k.fallback,U=p.mode,k=G0({mode:"visible",children:k.children},U),xe=fu(xe,U,C,null),xe.flags|=2,k.return=p,xe.return=p,k.sibling=xe,p.child=k,wc(p,f.child,null,C),k=p.child,k.memoizedState=zr(C),k.childLanes=U0(f,se,C),p.memoizedState=px,p=Rl(null,k));else if(Tc(p),LT(xe)){if(se=xe.nextSibling&&xe.nextSibling.dataset,se)var Xe=se.dgst;se=Xe,k=Error(a(419)),k.stack="",k.digest=se,wl({value:k,source:null,stack:null}),p=mx(f,p,C)}else if($i||El(f,p,C,!1),se=(C&f.childLanes)!==0,$i||se){if(se=yn,se!==null&&(k=En(se,C),k!==0&&k!==je.retryLane))throw je.retryLane=k,eo(f,k),Pn(se,f,k),z0;PT(xe)||mh(),p=mx(f,p,C)}else PT(xe)?(p.flags|=192,p.child=f.child,p=null):(f=je.treeContext,La=Ll(xe.nextSibling),vi=p,Xn=!0,vc=null,zo=!1,f!==null&&b0(p,f),p=sm(p,k.children),p.flags|=4096);return p}return U?(vo(),xe=k.fallback,U=p.mode,je=f.child,Xe=je.sibling,k=go(je,{mode:"hidden",children:k.children}),k.subtreeFlags=je.subtreeFlags&65011712,Xe!==null?xe=go(Xe,xe):(xe=fu(xe,U,C,null),xe.flags|=2),xe.return=p,k.return=p,k.sibling=xe,p.child=k,Rl(null,k),k=p.child,xe=f.child.memoizedState,xe===null?xe=zr(C):(U=xe.cachePool,U!==null?(je=Hi._currentValue,U=U.parent!==je?{parent:je,pool:je}:U):U=Oy(),xe={baseLanes:xe.baseLanes|C,cachePool:U}),k.memoizedState=xe,k.childLanes=U0(f,se,C),p.memoizedState=px,Rl(f.child,k)):(Tc(p),C=f.child,f=C.sibling,C=go(C,{mode:"visible",children:k.children}),C.return=p,C.sibling=null,f!==null&&(se=p.deletions,se===null?(p.deletions=[f],p.flags|=16):se.push(f)),p.child=C,p.memoizedState=null,C)}function sm(f,p){return p=G0({mode:"visible",children:p},f.mode),p.return=f,f.child=p}function G0(f,p){return f=li(22,f,null,p),f.lanes=0,f}function mx(f,p,C){return wc(p,f.child,null,C),f=sm(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function dC(f,p,C){f.lanes|=p;var k=f.alternate;k!==null&&(k.lanes|=p),x0(f.return,p,C)}function Bd(f,p,C,k,U,q){var se=f.memoizedState;se===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:k,tail:C,tailMode:U,treeForkCount:q}:(se.isBackwards=p,se.rendering=null,se.renderingStartTime=0,se.last=k,se.tail=C,se.tailMode=U,se.treeForkCount=q)}function Co(f,p,C){var k=p.pendingProps,U=k.revealOrder,q=k.tail;k=k.children;var se=Qn.current,xe=(se&2)!==0;if(xe?(se=se&1|2,p.flags|=128):se&=1,W(Qn,se),dr(f,p,k,C),k=Xn?Qf:0,!xe&&f!==null&&(f.flags&128)!==0)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&dC(f,C,p);else if(f.tag===19)dC(f,C,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}switch(U){case"forwards":for(C=p.child,U=null;C!==null;)f=C.alternate,f!==null&&Bo(f)===null&&(U=C),C=C.sibling;C=U,C===null?(U=p.child,p.child=null):(U=C.sibling,C.sibling=null),Bd(p,!1,U,C,q,k);break;case"backwards":case"unstable_legacy-backwards":for(C=null,U=p.child,p.child=null;U!==null;){if(f=U.alternate,f!==null&&Bo(f)===null){p.child=U;break}f=U.sibling,U.sibling=C,C=U,U=f}Bd(p,!0,C,null,q,k);break;case"together":Bd(p,!1,null,null,void 0,k);break;default:p.memoizedState=null}return p.child}function Oi(f,p,C){if(f!==null&&(p.dependencies=f.dependencies),Ol|=p.lanes,(C&p.childLanes)===0)if(f!==null){if(El(f,p,C,!1),(C&p.childLanes)===0)return null}else return null;if(f!==null&&p.child!==f.child)throw Error(a(153));if(p.child!==null){for(f=p.child,C=go(f,f.pendingProps),p.child=C,C.return=p;f.sibling!==null;)f=f.sibling,C=C.sibling=go(f,f.pendingProps),C.return=p;C.sibling=null}return p.child}function q0(f,p){return(f.lanes&p)!==0?!0:(f=f.dependencies,!!(f!==null&&Kp(f)))}function _T(f,p,C){switch(p.tag){case 3:pe(p,p.stateNode.containerInfo),Sc(p,Hi,f.memoizedState.cache),mu();break;case 27:case 5:ge(p);break;case 4:pe(p,p.stateNode.containerInfo);break;case 10:Sc(p,p.type,p.memoizedProps.value);break;case 31:if(p.memoizedState!==null)return p.flags|=128,zy(p),null;break;case 13:var k=p.memoizedState;if(k!==null)return k.dehydrated!==null?(Tc(p),p.flags|=128,null):(C&p.child.childLanes)!==0?uC(f,p,C):(Tc(p),f=Oi(f,p,C),f!==null?f.sibling:null);Tc(p);break;case 19:var U=(f.flags&128)!==0;if(k=(C&p.childLanes)!==0,k||(El(f,p,C,!1),k=(C&p.childLanes)!==0),U){if(k)return Co(f,p,C);p.flags|=128}if(U=p.memoizedState,U!==null&&(U.rendering=null,U.tail=null,U.lastEffect=null),W(Qn,Qn.current),k)break;return null;case 22:return p.lanes=0,zd(f,p,C,p.pendingProps);case 24:Sc(p,Hi,f.memoizedState.cache)}return Oi(f,p,C)}function W0(f,p,C){if(f!==null)if(f.memoizedProps!==p.pendingProps)$i=!0;else{if(!q0(f,C)&&(p.flags&128)===0)return $i=!1,_T(f,p,C);$i=(f.flags&131072)!==0}else $i=!1,Xn&&(p.flags&1048576)!==0&&y3(p,Qf,p.index);switch(p.lanes=0,p.tag){case 16:e:{var k=p.pendingProps;if(f=kd(p.elementType),p.type=f,typeof f=="function")h0(f)?(k=wu(f,k),p.tag=1,p=$0(null,p,f,k,C)):(p.tag=0,p=ch(null,p,f,k,C));else{if(f!=null){var U=f.$$typeof;if(U===A){p.tag=11,p=hx(null,p,f,k,C);break e}else if(U===N){p.tag=14,p=Ld(null,p,f,k,C);break e}}throw p=M(f)||f,Error(a(306,p,""))}}return p;case 0:return ch(f,p,p.type,p.pendingProps,C);case 1:return k=p.type,U=wu(k,p.pendingProps),$0(f,p,k,U,C);case 3:e:{if(pe(p,p.stateNode.containerInfo),f===null)throw Error(a(387));k=p.pendingProps;var q=p.memoizedState;U=q.element,My(f,p),ah(p,k,null,C);var se=p.memoizedState;if(k=se.cache,Sc(p,Hi,k),k!==q.cache&&v0(p,[Hi],C,!0),em(),k=se.element,q.isDehydrated)if(q={element:k,isDehydrated:!1,cache:se.cache},p.updateQueue.baseState=q,p.memoizedState=q,p.flags&256){p=cC(f,p,k,C);break e}else if(k!==U){U=Lo(Error(a(424)),p),wl(U),p=cC(f,p,k,C);break e}else{switch(f=p.stateNode.containerInfo,f.nodeType){case 9:f=f.body;break;default:f=f.nodeName==="HTML"?f.ownerDocument.body:f}for(La=Ll(f.firstChild),vi=p,Xn=!0,vc=null,zo=!0,C=E0(p,null,k,C),p.child=C;C;)C.flags=C.flags&-3|4096,C=C.sibling}else{if(mu(),k===U){p=Oi(f,p,C);break e}dr(f,p,k,C)}p=p.child}return p;case 26:return Fd(f,p),f===null?(C=pM(p.type,null,p.pendingProps,null))?p.memoizedState=C:Xn||(C=p.type,f=p.pendingProps,k=mC(ne.current).createElement(C),k[xa]=p,k[Ma]=f,lo(k,C,f),xi(k),p.stateNode=k):p.memoizedState=pM(p.type,f.memoizedProps,p.pendingProps,f.memoizedState),null;case 27:return ge(p),f===null&&Xn&&(k=p.stateNode=dM(p.type,p.pendingProps,ne.current),vi=p,zo=!0,U=La,xh(p.type)?(zT=U,La=Ll(k.firstChild)):La=U),dr(f,p,p.pendingProps.children,C),Fd(f,p),f===null&&(p.flags|=4194304),p.child;case 5:return f===null&&Xn&&((U=k=La)&&(k=eoe(k,p.type,p.pendingProps,zo),k!==null?(p.stateNode=k,vi=p,La=Ll(k.firstChild),zo=!1,U=!0):U=!1),U||Cl(p)),ge(p),U=p.type,q=p.pendingProps,se=f!==null?f.memoizedProps:null,k=q.children,DT(U,q)?k=null:se!==null&&DT(U,se)&&(p.flags|=32),p.memoizedState!==null&&(U=k0(f,p,Pd,null,null,C),Ex._currentValue=U),Fd(f,p),dr(f,p,k,C),p.child;case 6:return f===null&&Xn&&((f=C=La)&&(C=toe(C,p.pendingProps,zo),C!==null?(p.stateNode=C,vi=p,La=null,f=!0):f=!1),f||Cl(p)),null;case 13:return uC(f,p,C);case 4:return pe(p,p.stateNode.containerInfo),k=p.pendingProps,f===null?p.child=wc(p,null,k,C):dr(f,p,k,C),p.child;case 11:return hx(f,p,p.type,p.pendingProps,C);case 7:return dr(f,p,p.pendingProps,C),p.child;case 8:return dr(f,p,p.pendingProps.children,C),p.child;case 12:return dr(f,p,p.pendingProps.children,C),p.child;case 10:return k=p.pendingProps,Sc(p,p.type,k.value),dr(f,p,k.children,C),p.child;case 9:return U=p.type._context,k=p.pendingProps.children,bu(p),U=bn(U),k=k(U),p.flags|=1,dr(f,p,k,C),p.child;case 14:return Ld(f,p,p.type,p.pendingProps,C);case 15:return F0(f,p,p.type,p.pendingProps,C);case 19:return Co(f,p,C);case 31:return H0(f,p,C);case 22:return zd(f,p,C,p.pendingProps);case 24:return bu(p),k=bn(Hi),f===null?(U=C0(),U===null&&(U=yn,q=Iy(),U.pooledCache=q,q.refCount++,q!==null&&(U.pooledCacheLanes|=C),U=q),p.memoizedState={parent:k,cache:U},Jp(p),Sc(p,Hi,U)):((f.lanes&C)!==0&&(My(f,p),ah(p,null,null,C),em()),U=f.memoizedState,q=p.memoizedState,U.parent!==k?(U={parent:k,cache:k},p.memoizedState=U,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=U),Sc(p,Hi,k)):(k=q.cache,Sc(p,Hi,k),k!==U.cache&&v0(p,[Hi],C,!0))),dr(f,p,p.pendingProps.children,C),p.child;case 29:throw p.pendingProps}throw Error(a(156,p.tag))}function kl(f){f.flags|=4}function lm(f,p,C,k,U){if((p=(f.mode&32)!==0)&&(p=!1),p){if(f.flags|=16777216,(U&335544128)===U)if(f.stateNode.complete)f.flags|=8192;else if(hi())f.flags|=8192;else throw Al=w0,Qp}else f.flags&=-16777217}function gx(f,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!xM(p))if(hi())f.flags|=8192;else throw Al=w0,Qp}function Ac(f,p){p!==null&&(f.flags|=4),f.flags&16384&&(p=f.tag!==22?Wt():536870912,f.lanes|=p,Ga|=p)}function Il(f,p){if(!Xn)switch(f.tailMode){case"hidden":p=f.tail;for(var C=null;p!==null;)p.alternate!==null&&(C=p),p=p.sibling;C===null?f.tail=null:C.sibling=null;break;case"collapsed":C=f.tail;for(var k=null;C!==null;)C.alternate!==null&&(k=C),C=C.sibling;k===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:k.sibling=null}}function Ia(f){var p=f.alternate!==null&&f.alternate.child===f.child,C=0,k=0;if(p)for(var U=f.child;U!==null;)C|=U.lanes|U.childLanes,k|=U.subtreeFlags&65011712,k|=U.flags&65011712,U.return=f,U=U.sibling;else for(U=f.child;U!==null;)C|=U.lanes|U.childLanes,k|=U.subtreeFlags,k|=U.flags,U.return=f,U=U.sibling;return f.subtreeFlags|=k,f.childLanes=C,p}function cm(f,p,C){var k=p.pendingProps;switch(g0(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ia(p),null;case 1:return Ia(p),null;case 3:return C=p.stateNode,k=null,f!==null&&(k=f.memoizedState.cache),p.memoizedState.cache!==k&&(p.flags|=2048),Tl(Hi),me(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(f===null||f.child===null)&&(Jf(p)?kl(p):f===null||f.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,y0())),Ia(p),null;case 26:var U=p.type,q=p.memoizedState;return f===null?(kl(p),q!==null?(Ia(p),gx(p,q)):(Ia(p),lm(p,U,null,k,C))):q?q!==f.memoizedState?(kl(p),Ia(p),gx(p,q)):(Ia(p),p.flags&=-16777217):(f=f.memoizedProps,f!==k&&kl(p),Ia(p),lm(p,U,f,k,C)),null;case 27:if(ye(p),C=ne.current,U=p.type,f!==null&&p.stateNode!=null)f.memoizedProps!==k&&kl(p);else{if(!k){if(p.stateNode===null)throw Error(a(166));return Ia(p),null}f=te.current,Jf(p)?x3(p):(f=dM(U,k,C),p.stateNode=f,kl(p))}return Ia(p),null;case 5:if(ye(p),U=p.type,f!==null&&p.stateNode!=null)f.memoizedProps!==k&&kl(p);else{if(!k){if(p.stateNode===null)throw Error(a(166));return Ia(p),null}if(q=te.current,Jf(p))x3(p);else{var se=mC(ne.current);switch(q){case 1:q=se.createElementNS("http://www.w3.org/2000/svg",U);break;case 2:q=se.createElementNS("http://www.w3.org/1998/Math/MathML",U);break;default:switch(U){case"svg":q=se.createElementNS("http://www.w3.org/2000/svg",U);break;case"math":q=se.createElementNS("http://www.w3.org/1998/Math/MathML",U);break;case"script":q=se.createElement("div"),q.innerHTML="<script><\/script>",q=q.removeChild(q.firstChild);break;case"select":q=typeof k.is=="string"?se.createElement("select",{is:k.is}):se.createElement("select"),k.multiple?q.multiple=!0:k.size&&(q.size=k.size);break;default:q=typeof k.is=="string"?se.createElement(U,{is:k.is}):se.createElement(U)}}q[xa]=p,q[Ma]=k;e:for(se=p.child;se!==null;){if(se.tag===5||se.tag===6)q.appendChild(se.stateNode);else if(se.tag!==4&&se.tag!==27&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===p)break e;for(;se.sibling===null;){if(se.return===null||se.return===p)break e;se=se.return}se.sibling.return=se.return,se=se.sibling}p.stateNode=q;e:switch(lo(q,U,k),U){case"button":case"input":case"select":case"textarea":k=!!k.autoFocus;break e;case"img":k=!0;break e;default:k=!1}k&&kl(p)}}return Ia(p),lm(p,p.type,f===null?null:f.memoizedProps,p.pendingProps,C),null;case 6:if(f&&p.stateNode!=null)f.memoizedProps!==k&&kl(p);else{if(typeof k!="string"&&p.stateNode===null)throw Error(a(166));if(f=ne.current,Jf(p)){if(f=p.stateNode,C=p.memoizedProps,k=null,U=vi,U!==null)switch(U.tag){case 27:case 5:k=U.memoizedProps}f[xa]=p,f=!!(f.nodeValue===C||k!==null&&k.suppressHydrationWarning===!0||eM(f.nodeValue,C)),f||Cl(p,!0)}else f=mC(f).createTextNode(k),f[xa]=p,p.stateNode=f}return Ia(p),null;case 31:if(C=p.memoizedState,f===null||f.memoizedState!==null){if(k=Jf(p),C!==null){if(f===null){if(!k)throw Error(a(318));if(f=p.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(557));f[xa]=p}else mu(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Ia(p),f=!1}else C=y0(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=C),f=!0;if(!f)return p.flags&256?(ji(p),p):(ji(p),null);if((p.flags&128)!==0)throw Error(a(558))}return Ia(p),null;case 13:if(k=p.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(U=Jf(p),k!==null&&k.dehydrated!==null){if(f===null){if(!U)throw Error(a(318));if(U=p.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(a(317));U[xa]=p}else mu(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Ia(p),U=!1}else U=y0(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=U),U=!0;if(!U)return p.flags&256?(ji(p),p):(ji(p),null)}return ji(p),(p.flags&128)!==0?(p.lanes=C,p):(C=k!==null,f=f!==null&&f.memoizedState!==null,C&&(k=p.child,U=null,k.alternate!==null&&k.alternate.memoizedState!==null&&k.alternate.memoizedState.cachePool!==null&&(U=k.alternate.memoizedState.cachePool.pool),q=null,k.memoizedState!==null&&k.memoizedState.cachePool!==null&&(q=k.memoizedState.cachePool.pool),q!==U&&(k.flags|=2048)),C!==f&&C&&(p.child.flags|=8192),Ac(p,p.updateQueue),Ia(p),null);case 4:return me(),f===null&&RT(p.stateNode.containerInfo),Ia(p),null;case 10:return Tl(p.type),Ia(p),null;case 19:if(J(Qn),k=p.memoizedState,k===null)return Ia(p),null;if(U=(p.flags&128)!==0,q=k.rendering,q===null)if(U)Il(k,!1);else{if(di!==0||f!==null&&(f.flags&128)!==0)for(f=p.child;f!==null;){if(q=Bo(f),q!==null){for(p.flags|=128,Il(k,!1),f=q.updateQueue,p.updateQueue=f,Ac(p,f),p.subtreeFlags=0,f=C,C=p.child;C!==null;)Yf(C,f),C=C.sibling;return W(Qn,Qn.current&1|2),Xn&&vl(p,k.treeForkCount),p.child}f=f.sibling}k.tail!==null&&Ee()>Mi&&(p.flags|=128,U=!0,Il(k,!1),p.lanes=4194304)}else{if(!U)if(f=Bo(q),f!==null){if(p.flags|=128,U=!0,f=f.updateQueue,p.updateQueue=f,Ac(p,f),Il(k,!0),k.tail===null&&k.tailMode==="hidden"&&!q.alternate&&!Xn)return Ia(p),null}else 2*Ee()-k.renderingStartTime>Mi&&C!==536870912&&(p.flags|=128,U=!0,Il(k,!1),p.lanes=4194304);k.isBackwards?(q.sibling=p.child,p.child=q):(f=k.last,f!==null?f.sibling=q:p.child=q,k.last=q)}return k.tail!==null?(f=k.tail,k.rendering=f,k.tail=f.sibling,k.renderingStartTime=Ee(),f.sibling=null,C=Qn.current,W(Qn,U?C&1|2:C&1),Xn&&vl(p,k.treeForkCount),f):(Ia(p),null);case 22:case 23:return ji(p),tm(),k=p.memoizedState!==null,f!==null?f.memoizedState!==null!==k&&(p.flags|=8192):k&&(p.flags|=8192),k?(C&536870912)!==0&&(p.flags&128)===0&&(Ia(p),p.subtreeFlags&6&&(p.flags|=8192)):Ia(p),C=p.updateQueue,C!==null&&Ac(p,C.retryQueue),C=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(C=f.memoizedState.cachePool.pool),k=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(k=p.memoizedState.cachePool.pool),k!==C&&(p.flags|=2048),f!==null&&J(yu),null;case 24:return C=null,f!==null&&(C=f.memoizedState.cache),p.memoizedState.cache!==C&&(p.flags|=2048),Tl(Hi),Ia(p),null;case 25:return null;case 30:return null}throw Error(a(156,p.tag))}function fs(f,p){switch(g0(p),p.tag){case 1:return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return Tl(Hi),me(),f=p.flags,(f&65536)!==0&&(f&128)===0?(p.flags=f&-65537|128,p):null;case 26:case 27:case 5:return ye(p),null;case 31:if(p.memoizedState!==null){if(ji(p),p.alternate===null)throw Error(a(340));mu()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 13:if(ji(p),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(a(340));mu()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return J(Qn),null;case 4:return me(),null;case 10:return Tl(p.type),null;case 22:case 23:return ji(p),tm(),f!==null&&J(yu),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 24:return Tl(Hi),null;case 25:return null;default:return null}}function Ho(f,p){switch(g0(p),p.tag){case 3:Tl(Hi),me();break;case 26:case 27:case 5:ye(p);break;case 4:me();break;case 31:p.memoizedState!==null&&ji(p);break;case 13:ji(p);break;case 19:J(Qn);break;case 10:Tl(p.type);break;case 22:case 23:ji(p),tm(),f!==null&&J(yu);break;case 24:Tl(Hi)}}function hs(f,p){try{var C=p.updateQueue,k=C!==null?C.lastEffect:null;if(k!==null){var U=k.next;C=U;do{if((C.tag&f)===f){k=void 0;var q=C.create,se=C.inst;k=q(),se.destroy=k}C=C.next}while(C!==U)}}catch(xe){la(p,p.return,xe)}}function Tr(f,p,C){try{var k=p.updateQueue,U=k!==null?k.lastEffect:null;if(U!==null){var q=U.next;k=q;do{if((k.tag&f)===f){var se=k.inst,xe=se.destroy;if(xe!==void 0){se.destroy=void 0,U=p;var je=C,Xe=xe;try{Xe()}catch(ct){la(U,je,ct)}}}k=k.next}while(k!==q)}}catch(ct){la(p,p.return,ct)}}function Us(f){var p=f.updateQueue;if(p!==null){var C=f.stateNode;try{_3(p,C)}catch(k){la(f,f.return,k)}}}function fr(f,p,C){C.props=wu(f.type,f.memoizedProps),C.state=f.memoizedState;try{C.componentWillUnmount()}catch(k){la(f,p,k)}}function Rc(f,p){try{var C=f.ref;if(C!==null){switch(f.tag){case 26:case 27:case 5:var k=f.stateNode;break;case 30:k=f.stateNode;break;default:k=f.stateNode}typeof C=="function"?f.refCleanup=C(k):C.current=k}}catch(U){la(f,p,U)}}function Er(f,p){var C=f.ref,k=f.refCleanup;if(C!==null)if(typeof k=="function")try{k()}catch(U){la(f,p,U)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof C=="function")try{C(null)}catch(U){la(f,p,U)}else C.current=null}function um(f){var p=f.type,C=f.memoizedProps,k=f.stateNode;try{e:switch(p){case"button":case"input":case"select":case"textarea":C.autoFocus&&k.focus();break e;case"img":C.src?k.src=C.src:C.srcSet&&(k.srcset=C.srcSet)}}catch(U){la(f,f.return,U)}}function er(f,p,C){try{var k=f.stateNode;Yre(k,f.type,C,p),k[Ma]=p}catch(U){la(f,f.return,U)}}function Ja(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27&&xh(f.type)||f.tag===4}function Yn(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||Ja(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.tag===27&&xh(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Nl(f,p,C){var k=f.tag;if(k===5||k===6)f=f.stateNode,p?(C.nodeType===9?C.body:C.nodeName==="HTML"?C.ownerDocument.body:C).insertBefore(f,p):(p=C.nodeType===9?C.body:C.nodeName==="HTML"?C.ownerDocument.body:C,p.appendChild(f),C=C._reactRootContainer,C!=null||p.onclick!==null||(p.onclick=gc));else if(k!==4&&(k===27&&xh(f.type)&&(C=f.stateNode,p=null),f=f.child,f!==null))for(Nl(f,p,C),f=f.sibling;f!==null;)Nl(f,p,C),f=f.sibling}function ao(f,p,C){var k=f.tag;if(k===5||k===6)f=f.stateNode,p?C.insertBefore(f,p):C.appendChild(f);else if(k!==4&&(k===27&&xh(f.type)&&(C=f.stateNode),f=f.child,f!==null))for(ao(f,p,C),f=f.sibling;f!==null;)ao(f,p,C),f=f.sibling}function V0(f){var p=f.stateNode,C=f.memoizedProps;try{for(var k=f.type,U=p.attributes;U.length;)p.removeAttributeNode(U[0]);lo(p,k,C),p[xa]=f,p[Ma]=C}catch(q){la(f,f.return,q)}}var ps=!1,za=!1,Gs=!1,fC=typeof WeakSet=="function"?WeakSet:Set,hr=null;function TT(f,p){if(f=f.containerInfo,NT=CC,f=p3(f),Ty(f)){if("selectionStart"in f)var C={start:f.selectionStart,end:f.selectionEnd};else e:{C=(C=f.ownerDocument)&&C.defaultView||window;var k=C.getSelection&&C.getSelection();if(k&&k.rangeCount!==0){C=k.anchorNode;var U=k.anchorOffset,q=k.focusNode;k=k.focusOffset;try{C.nodeType,q.nodeType}catch{C=null;break e}var se=0,xe=-1,je=-1,Xe=0,ct=0,gt=f,Je=null;t:for(;;){for(var it;gt!==C||U!==0&&gt.nodeType!==3||(xe=se+U),gt!==q||k!==0&&gt.nodeType!==3||(je=se+k),gt.nodeType===3&&(se+=gt.nodeValue.length),(it=gt.firstChild)!==null;)Je=gt,gt=it;for(;;){if(gt===f)break t;if(Je===C&&++Xe===U&&(xe=se),Je===q&&++ct===k&&(je=se),(it=gt.nextSibling)!==null)break;gt=Je,Je=gt.parentNode}gt=it}C=xe===-1||je===-1?null:{start:xe,end:je}}else C=null}C=C||{start:0,end:0}}else C=null;for(jT={focusedElem:f,selectionRange:C},CC=!1,hr=p;hr!==null;)if(p=hr,f=p.child,(p.subtreeFlags&1028)!==0&&f!==null)f.return=p,hr=f;else for(;hr!==null;){switch(p=hr,q=p.alternate,f=p.flags,p.tag){case 0:if((f&4)!==0&&(f=p.updateQueue,f=f!==null?f.events:null,f!==null))for(C=0;C<f.length;C++)U=f[C],U.ref.impl=U.nextImpl;break;case 11:case 15:break;case 1:if((f&1024)!==0&&q!==null){f=void 0,C=p,U=q.memoizedProps,q=q.memoizedState,k=C.stateNode;try{var Zt=wu(C.type,U);f=k.getSnapshotBeforeUpdate(Zt,q),k.__reactInternalSnapshotBeforeUpdate=f}catch(gn){la(C,C.return,gn)}}break;case 3:if((f&1024)!==0){if(f=p.stateNode.containerInfo,C=f.nodeType,C===9)MT(f);else if(C===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":MT(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(a(163))}if(f=p.sibling,f!==null){f.return=p.return,hr=f;break}hr=p.return}}function ei(f,p,C){var k=C.flags;switch(C.tag){case 0:case 11:case 15:bs(f,C),k&4&&hs(5,C);break;case 1:if(bs(f,C),k&4)if(f=C.stateNode,p===null)try{f.componentDidMount()}catch(se){la(C,C.return,se)}else{var U=wu(C.type,p.memoizedProps);p=p.memoizedState;try{f.componentDidUpdate(U,p,f.__reactInternalSnapshotBeforeUpdate)}catch(se){la(C,C.return,se)}}k&64&&Us(C),k&512&&Rc(C,C.return);break;case 3:if(bs(f,C),k&64&&(f=C.updateQueue,f!==null)){if(p=null,C.child!==null)switch(C.child.tag){case 27:case 5:p=C.child.stateNode;break;case 1:p=C.child.stateNode}try{_3(f,p)}catch(se){la(C,C.return,se)}}break;case 27:p===null&&k&4&&V0(C);case 26:case 5:bs(f,C),p===null&&k&4&&um(C),k&512&&Rc(C,C.return);break;case 12:bs(f,C);break;case 31:bs(f,C),k&4&&_u(f,C);break;case 13:bs(f,C),k&4&&uh(f,C),k&64&&(f=C.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&(C=j.bind(null,C),noe(f,C))));break;case 22:if(k=C.memoizedState!==null||ps,!k){p=p!==null&&p.memoizedState!==null||za,U=ps;var q=za;ps=k,(za=p)&&!q?io(f,C,(C.subtreeFlags&8772)!==0):bs(f,C),ps=U,za=q}break;case 30:break;default:bs(f,C)}}function dm(f){var p=f.alternate;p!==null&&(f.alternate=null,dm(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&hc(p)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var va=null,Fr=!1;function ms(f,p,C){for(C=C.child;C!==null;)Y0(f,p,C),C=C.sibling}function Y0(f,p,C){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(rt,C)}catch{}switch(C.tag){case 26:za||Er(C,p),ms(f,p,C),C.memoizedState?C.memoizedState.count--:C.stateNode&&(C=C.stateNode,C.parentNode.removeChild(C));break;case 27:za||Er(C,p);var k=va,U=Fr;xh(C.type)&&(va=C.stateNode,Fr=!1),ms(f,p,C),wx(C.stateNode),va=k,Fr=U;break;case 5:za||Er(C,p);case 6:if(k=va,U=Fr,va=null,ms(f,p,C),va=k,Fr=U,va!==null)if(Fr)try{(va.nodeType===9?va.body:va.nodeName==="HTML"?va.ownerDocument.body:va).removeChild(C.stateNode)}catch(q){la(C,p,q)}else try{va.removeChild(C.stateNode)}catch(q){la(C,p,q)}break;case 18:va!==null&&(Fr?(f=va,oM(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,C.stateNode),n1(f)):oM(va,C.stateNode));break;case 4:k=va,U=Fr,va=C.stateNode.containerInfo,Fr=!0,ms(f,p,C),va=k,Fr=U;break;case 0:case 11:case 14:case 15:Tr(2,C,p),za||Tr(4,C,p),ms(f,p,C);break;case 1:za||(Er(C,p),k=C.stateNode,typeof k.componentWillUnmount=="function"&&fr(C,p,k)),ms(f,p,C);break;case 21:ms(f,p,C);break;case 22:za=(k=za)||C.memoizedState!==null,ms(f,p,C),za=k;break;default:ms(f,p,C)}}function _u(f,p){if(p.memoizedState===null&&(f=p.alternate,f!==null&&(f=f.memoizedState,f!==null))){f=f.dehydrated;try{n1(f)}catch(C){la(p,p.return,C)}}}function uh(f,p){if(p.memoizedState===null&&(f=p.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{n1(f)}catch(C){la(p,p.return,C)}}function bx(f){switch(f.tag){case 31:case 13:case 19:var p=f.stateNode;return p===null&&(p=f.stateNode=new fC),p;case 22:return f=f.stateNode,p=f._retryCache,p===null&&(p=f._retryCache=new fC),p;default:throw Error(a(435,f.tag))}}function kc(f,p){var C=bx(f);p.forEach(function(k){if(!C.has(k)){C.add(k);var U=B.bind(null,f,k);k.then(U,U)}})}function tr(f,p){var C=p.deletions;if(C!==null)for(var k=0;k<C.length;k++){var U=C[k],q=f,se=p,xe=se;e:for(;xe!==null;){switch(xe.tag){case 27:if(xh(xe.type)){va=xe.stateNode,Fr=!1;break e}break;case 5:va=xe.stateNode,Fr=!1;break e;case 3:case 4:va=xe.stateNode.containerInfo,Fr=!0;break e}xe=xe.return}if(va===null)throw Error(a(160));Y0(q,se,U),va=null,Fr=!1,q=U.alternate,q!==null&&(q.return=null),U.return=null}if(p.subtreeFlags&13886)for(p=p.child;p!==null;)Tu(p,f),p=p.sibling}var gs=null;function Tu(f,p){var C=f.alternate,k=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:tr(p,f),nr(f),k&4&&(Tr(3,f,f.return),hs(3,f),Tr(5,f,f.return));break;case 1:tr(p,f),nr(f),k&512&&(za||C===null||Er(C,C.return)),k&64&&ps&&(f=f.updateQueue,f!==null&&(k=f.callbacks,k!==null&&(C=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=C===null?k:C.concat(k))));break;case 26:var U=gs;if(tr(p,f),nr(f),k&512&&(za||C===null||Er(C,C.return)),k&4){var q=C!==null?C.memoizedState:null;if(k=f.memoizedState,C===null)if(k===null)if(f.stateNode===null){e:{k=f.type,C=f.memoizedProps,U=U.ownerDocument||U;t:switch(k){case"title":q=U.getElementsByTagName("title")[0],(!q||q[Fs]||q[xa]||q.namespaceURI==="http://www.w3.org/2000/svg"||q.hasAttribute("itemprop"))&&(q=U.createElement(k),U.head.insertBefore(q,U.querySelector("head > title"))),lo(q,k,C),q[xa]=f,xi(q),k=q;break e;case"link":var se=bM("link","href",U).get(k+(C.href||""));if(se){for(var xe=0;xe<se.length;xe++)if(q=se[xe],q.getAttribute("href")===(C.href==null||C.href===""?null:C.href)&&q.getAttribute("rel")===(C.rel==null?null:C.rel)&&q.getAttribute("title")===(C.title==null?null:C.title)&&q.getAttribute("crossorigin")===(C.crossOrigin==null?null:C.crossOrigin)){se.splice(xe,1);break t}}q=U.createElement(k),lo(q,k,C),U.head.appendChild(q);break;case"meta":if(se=bM("meta","content",U).get(k+(C.content||""))){for(xe=0;xe<se.length;xe++)if(q=se[xe],q.getAttribute("content")===(C.content==null?null:""+C.content)&&q.getAttribute("name")===(C.name==null?null:C.name)&&q.getAttribute("property")===(C.property==null?null:C.property)&&q.getAttribute("http-equiv")===(C.httpEquiv==null?null:C.httpEquiv)&&q.getAttribute("charset")===(C.charSet==null?null:C.charSet)){se.splice(xe,1);break t}}q=U.createElement(k),lo(q,k,C),U.head.appendChild(q);break;default:throw Error(a(468,k))}q[xa]=f,xi(q),k=q}f.stateNode=k}else yM(U,f.type,f.stateNode);else f.stateNode=gM(U,k,f.memoizedProps);else q!==k?(q===null?C.stateNode!==null&&(C=C.stateNode,C.parentNode.removeChild(C)):q.count--,k===null?yM(U,f.type,f.stateNode):gM(U,k,f.memoizedProps)):k===null&&f.stateNode!==null&&er(f,f.memoizedProps,C.memoizedProps)}break;case 27:tr(p,f),nr(f),k&512&&(za||C===null||Er(C,C.return)),C!==null&&k&4&&er(f,f.memoizedProps,C.memoizedProps);break;case 5:if(tr(p,f),nr(f),k&512&&(za||C===null||Er(C,C.return)),f.flags&32){U=f.stateNode;try{xd(U,"")}catch(Zt){la(f,f.return,Zt)}}k&4&&f.stateNode!=null&&(U=f.memoizedProps,er(f,U,C!==null?C.memoizedProps:U)),k&1024&&(Gs=!0);break;case 6:if(tr(p,f),nr(f),k&4){if(f.stateNode===null)throw Error(a(162));k=f.memoizedProps,C=f.stateNode;try{C.nodeValue=k}catch(Zt){la(f,f.return,Zt)}}break;case 3:if(yC=null,U=gs,gs=gC(p.containerInfo),tr(p,f),gs=U,nr(f),k&4&&C!==null&&C.memoizedState.isDehydrated)try{n1(p.containerInfo)}catch(Zt){la(f,f.return,Zt)}Gs&&(Gs=!1,K0(f));break;case 4:k=gs,gs=gC(f.stateNode.containerInfo),tr(p,f),nr(f),gs=k;break;case 12:tr(p,f),nr(f);break;case 31:tr(p,f),nr(f),k&4&&(k=f.updateQueue,k!==null&&(f.updateQueue=null,kc(f,k)));break;case 13:tr(p,f),nr(f),f.child.flags&8192&&f.memoizedState!==null!=(C!==null&&C.memoizedState!==null)&&(dh=Ee()),k&4&&(k=f.updateQueue,k!==null&&(f.updateQueue=null,kc(f,k)));break;case 22:U=f.memoizedState!==null;var je=C!==null&&C.memoizedState!==null,Xe=ps,ct=za;if(ps=Xe||U,za=ct||je,tr(p,f),za=ct,ps=Xe,nr(f),k&8192)e:for(p=f.stateNode,p._visibility=U?p._visibility&-2:p._visibility|1,U&&(C===null||je||ps||za||jl(f)),C=null,p=f;;){if(p.tag===5||p.tag===26){if(C===null){je=C=p;try{if(q=je.stateNode,U)se=q.style,typeof se.setProperty=="function"?se.setProperty("display","none","important"):se.display="none";else{xe=je.stateNode;var gt=je.memoizedProps.style,Je=gt!=null&&gt.hasOwnProperty("display")?gt.display:null;xe.style.display=Je==null||typeof Je=="boolean"?"":(""+Je).trim()}}catch(Zt){la(je,je.return,Zt)}}}else if(p.tag===6){if(C===null){je=p;try{je.stateNode.nodeValue=U?"":je.memoizedProps}catch(Zt){la(je,je.return,Zt)}}}else if(p.tag===18){if(C===null){je=p;try{var it=je.stateNode;U?sM(it,!0):sM(je.stateNode,!1)}catch(Zt){la(je,je.return,Zt)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===f)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break e;for(;p.sibling===null;){if(p.return===null||p.return===f)break e;C===p&&(C=null),p=p.return}C===p&&(C=null),p.sibling.return=p.return,p=p.sibling}k&4&&(k=f.updateQueue,k!==null&&(C=k.retryQueue,C!==null&&(k.retryQueue=null,kc(f,C))));break;case 19:tr(p,f),nr(f),k&4&&(k=f.updateQueue,k!==null&&(f.updateQueue=null,kc(f,k)));break;case 30:break;case 21:break;default:tr(p,f),nr(f)}}function nr(f){var p=f.flags;if(p&2){try{for(var C,k=f.return;k!==null;){if(Ja(k)){C=k;break}k=k.return}if(C==null)throw Error(a(160));switch(C.tag){case 27:var U=C.stateNode,q=Yn(f);ao(f,q,U);break;case 5:var se=C.stateNode;C.flags&32&&(xd(se,""),C.flags&=-33);var xe=Yn(f);ao(f,xe,se);break;case 3:case 4:var je=C.stateNode.containerInfo,Xe=Yn(f);Nl(f,Xe,je);break;default:throw Error(a(161))}}catch(ct){la(f,f.return,ct)}f.flags&=-3}p&4096&&(f.flags&=-4097)}function K0(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var p=f;K0(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),f=f.sibling}}function bs(f,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)ei(f,p.alternate,p),p=p.sibling}function jl(f){for(f=f.child;f!==null;){var p=f;switch(p.tag){case 0:case 11:case 14:case 15:Tr(4,p,p.return),jl(p);break;case 1:Er(p,p.return);var C=p.stateNode;typeof C.componentWillUnmount=="function"&&fr(p,p.return,C),jl(p);break;case 27:wx(p.stateNode);case 26:case 5:Er(p,p.return),jl(p);break;case 22:p.memoizedState===null&&jl(p);break;case 30:jl(p);break;default:jl(p)}f=f.sibling}}function io(f,p,C){for(C=C&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var k=p.alternate,U=f,q=p,se=q.flags;switch(q.tag){case 0:case 11:case 15:io(U,q,C),hs(4,q);break;case 1:if(io(U,q,C),k=q,U=k.stateNode,typeof U.componentDidMount=="function")try{U.componentDidMount()}catch(Xe){la(k,k.return,Xe)}if(k=q,U=k.updateQueue,U!==null){var xe=k.stateNode;try{var je=U.shared.hiddenCallbacks;if(je!==null)for(U.shared.hiddenCallbacks=null,U=0;U<je.length;U++)ih(je[U],xe)}catch(Xe){la(k,k.return,Xe)}}C&&se&64&&Us(q),Rc(q,q.return);break;case 27:V0(q);case 26:case 5:io(U,q,C),C&&k===null&&se&4&&um(q),Rc(q,q.return);break;case 12:io(U,q,C);break;case 31:io(U,q,C),C&&se&4&&_u(U,q);break;case 13:io(U,q,C),C&&se&4&&uh(U,q);break;case 22:q.memoizedState===null&&io(U,q,C),Rc(q,q.return);break;case 30:break;default:io(U,q,C)}p=p.sibling}}function Eu(f,p){var C=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(C=f.memoizedState.cachePool.pool),f=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(f=p.memoizedState.cachePool.pool),f!==C&&(f!=null&&f.refCount++,C!=null&&Ad(C))}function Hd(f,p){f=null,p.alternate!==null&&(f=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==f&&(p.refCount++,f!=null&&Ad(f))}function Ar(f,p,C,k){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)yx(f,p,C,k),p=p.sibling}function yx(f,p,C,k){var U=p.flags;switch(p.tag){case 0:case 11:case 15:Ar(f,p,C,k),U&2048&&hs(9,p);break;case 1:Ar(f,p,C,k);break;case 3:Ar(f,p,C,k),U&2048&&(f=null,p.alternate!==null&&(f=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==f&&(p.refCount++,f!=null&&Ad(f)));break;case 12:if(U&2048){Ar(f,p,C,k),f=p.stateNode;try{var q=p.memoizedProps,se=q.id,xe=q.onPostCommit;typeof xe=="function"&&xe(se,p.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(je){la(p,p.return,je)}}else Ar(f,p,C,k);break;case 31:Ar(f,p,C,k);break;case 13:Ar(f,p,C,k);break;case 23:break;case 22:q=p.stateNode,se=p.alternate,p.memoizedState!==null?q._visibility&2?Ar(f,p,C,k):Dl(f,p):q._visibility&2?Ar(f,p,C,k):(q._visibility|=2,Rr(f,p,C,k,(p.subtreeFlags&10256)!==0||!1)),U&2048&&Eu(se,p);break;case 24:Ar(f,p,C,k),U&2048&&Hd(p.alternate,p);break;default:Ar(f,p,C,k)}}function Rr(f,p,C,k,U){for(U=U&&((p.subtreeFlags&10256)!==0||!1),p=p.child;p!==null;){var q=f,se=p,xe=C,je=k,Xe=se.flags;switch(se.tag){case 0:case 11:case 15:Rr(q,se,xe,je,U),hs(8,se);break;case 23:break;case 22:var ct=se.stateNode;se.memoizedState!==null?ct._visibility&2?Rr(q,se,xe,je,U):Dl(q,se):(ct._visibility|=2,Rr(q,se,xe,je,U)),U&&Xe&2048&&Eu(se.alternate,se);break;case 24:Rr(q,se,xe,je,U),U&&Xe&2048&&Hd(se.alternate,se);break;default:Rr(q,se,xe,je,U)}p=p.sibling}}function Dl(f,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var C=f,k=p,U=k.flags;switch(k.tag){case 22:Dl(C,k),U&2048&&Eu(k.alternate,k);break;case 24:Dl(C,k),U&2048&&Hd(k.alternate,k);break;default:Dl(C,k)}p=p.sibling}}var $d=8192;function $o(f,p,C){if(f.subtreeFlags&$d)for(f=f.child;f!==null;)X0(f,p,C),f=f.sibling}function X0(f,p,C){switch(f.tag){case 26:$o(f,p,C),f.flags&$d&&f.memoizedState!==null&&poe(C,gs,f.memoizedState,f.memoizedProps);break;case 5:$o(f,p,C);break;case 3:case 4:var k=gs;gs=gC(f.stateNode.containerInfo),$o(f,p,C),gs=k;break;case 22:f.memoizedState===null&&(k=f.alternate,k!==null&&k.memoizedState!==null?(k=$d,$d=16777216,$o(f,p,C),$d=k):$o(f,p,C));break;default:$o(f,p,C)}}function Ud(f){var p=f.alternate;if(p!==null&&(f=p.child,f!==null)){p.child=null;do p=f.sibling,f.sibling=null,f=p;while(f!==null)}}function Au(f){var p=f.deletions;if((f.flags&16)!==0){if(p!==null)for(var C=0;C<p.length;C++){var k=p[C];hr=k,Si(k,f)}Ud(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)wo(f),f=f.sibling}function wo(f){switch(f.tag){case 0:case 11:case 15:Au(f),f.flags&2048&&Tr(9,f,f.return);break;case 3:Au(f);break;case 12:Au(f);break;case 22:var p=f.stateNode;f.memoizedState!==null&&p._visibility&2&&(f.return===null||f.return.tag!==13)?(p._visibility&=-3,ro(f)):Au(f);break;default:Au(f)}}function ro(f){var p=f.deletions;if((f.flags&16)!==0){if(p!==null)for(var C=0;C<p.length;C++){var k=p[C];hr=k,Si(k,f)}Ud(f)}for(f=f.child;f!==null;){switch(p=f,p.tag){case 0:case 11:case 15:Tr(8,p,p.return),ro(p);break;case 22:C=p.stateNode,C._visibility&2&&(C._visibility&=-3,ro(p));break;default:ro(p)}f=f.sibling}}function Si(f,p){for(;hr!==null;){var C=hr;switch(C.tag){case 0:case 11:case 15:Tr(8,C,p);break;case 23:case 22:if(C.memoizedState!==null&&C.memoizedState.cachePool!==null){var k=C.memoizedState.cachePool.pool;k!=null&&k.refCount++}break;case 24:Ad(C.memoizedState.cache)}if(k=C.child,k!==null)k.return=C,hr=k;else e:for(C=f;hr!==null;){k=hr;var U=k.sibling,q=k.return;if(dm(k),k===C){hr=null;break e}if(U!==null){U.return=q,hr=U;break e}hr=q}}}var Ic={getCacheForType:function(f){var p=bn(Hi),C=p.data.get(f);return C===void 0&&(C=f(),p.data.set(f,C)),C},cacheSignal:function(){return bn(Hi).controller.signal}},In=typeof WeakMap=="function"?WeakMap:Map,tn=0,yn=null,Mn=null,Dn=0,ta=0,Br=null,ys=!1,qs=!1,xx=!1,Uo=0,di=0,Ol=0,Ru=0,fm=0,oo=0,Ga=0,Gd=null,Ci=null,wi=!1,dh=0,vx=0,Mi=1/0,fi=null,Pi=null,Sa=0,Go=null,fh=null,xs=0,hh=0,ph=null,hm=null,ku=0,qd=null;function qo(){return(tn&2)!==0&&Dn!==0?Dn&-Dn:F.T!==null?et():Ra()}function Gn(){if(oo===0)if((Dn&536870912)===0||Xn){var f=ea;ea<<=1,(ea&3932160)===0&&(ea=262144),oo=f}else oo=536870912;return f=xo.current,f!==null&&(f.flags|=32),oo}function Pn(f,p,C){(f===yn&&(ta===2||ta===9)||f.cancelPendingCommit!==null)&&(Nu(f,0),Ui(f,Dn,oo,!1)),Et(f,C),((tn&2)===0||f!==yn)&&(f===yn&&((tn&2)===0&&(Ru|=C),di===4&&Ui(f,Dn,oo,!1)),Ct(f))}function qn(f,p,C){if((tn&6)!==0)throw Error(a(327));var k=!C&&(p&127)===0&&(p&f.expiredLanes)===0||_n(f,p),U=k?pm(f,p):so(f,p,!0),q=k;do{if(U===0){qs&&!k&&Ui(f,p,0,!1);break}else{if(C=f.current.alternate,q&&!Ca(C)){U=so(f,p,!1),q=!1;continue}if(U===2){if(q=p,f.errorRecoveryDisabledLanes&q)var se=0;else se=f.pendingLanes&-536870913,se=se!==0?se:se&536870912?536870912:0;if(se!==0){p=se;e:{var xe=f;U=Gd;var je=xe.current.memoizedState.isDehydrated;if(je&&(Nu(xe,se).flags|=256),se=so(xe,se,!1),se!==2){if(xx&&!je){xe.errorRecoveryDisabledLanes|=q,Ru|=q,U=4;break e}q=Ci,Ci=U,q!==null&&(Ci===null?Ci=q:Ci.push.apply(Ci,q))}U=se}if(q=!1,U!==2)continue}}if(U===1){Nu(f,0),Ui(f,p,0,!0);break}e:{switch(k=f,q=U,q){case 0:case 1:throw Error(a(345));case 4:if((p&4194048)!==p)break;case 6:Ui(k,p,oo,!ys);break e;case 2:Ci=null;break;case 3:case 5:break;default:throw Error(a(329))}if((p&62914560)===p&&(U=dh+300-Ee(),10<U)){if(Ui(k,p,oo,!ys),hn(k,0,!0)!==0)break e;xs=p,k.timeoutHandle=iM(Kn.bind(null,k,C,Ci,fi,wi,p,oo,Ru,Ga,ys,q,"Throttled",-0,0),U);break e}Kn(k,C,Ci,fi,wi,p,oo,Ru,Ga,ys,q,null,-0,0)}}break}while(!0);Ct(f)}function Kn(f,p,C,k,U,q,se,xe,je,Xe,ct,gt,Je,it){if(f.timeoutHandle=-1,gt=p.subtreeFlags,gt&8192||(gt&16785408)===16785408){gt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gc},X0(p,q,gt);var Zt=(q&62914560)===q?dh-Ee():(q&4194048)===q?vx-Ee():0;if(Zt=moe(gt,Zt),Zt!==null){xs=q,f.cancelPendingCommit=Zt(jc.bind(null,f,p,q,C,k,U,se,xe,je,ct,gt,null,Je,it)),Ui(f,q,se,!Xe);return}}jc(f,p,q,C,k,U,se,xe,je)}function Ca(f){for(var p=f;;){var C=p.tag;if((C===0||C===11||C===15)&&p.flags&16384&&(C=p.updateQueue,C!==null&&(C=C.stores,C!==null)))for(var k=0;k<C.length;k++){var U=C[k],q=U.getSnapshot;U=U.value;try{if(!Jr(q(),U))return!1}catch{return!1}}if(C=p.child,p.subtreeFlags&16384&&C!==null)C.return=p,p=C;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Ui(f,p,C,k){p&=~fm,p&=~Ru,f.suspendedLanes|=p,f.pingedLanes&=~p,k&&(f.warmLanes|=p),k=f.expirationTimes;for(var U=p;0<U;){var q=31-bt(U),se=1<<q;k[q]=-1,U&=~se}C!==0&&rn(f,C,p)}function Ws(){return(tn&6)===0?(Vt(0),!1):!0}function Iu(){if(Mn!==null){if(ta===0)var f=Mn.return;else f=Mn,_l=gu=null,Uy(f),jd=null,Dd=0,f=Mn;for(;f!==null;)Ho(f.alternate,f),f=f.return;Mn=null}}function Nu(f,p){var C=f.timeoutHandle;C!==-1&&(f.timeoutHandle=-1,Qre(C)),C=f.cancelPendingCommit,C!==null&&(f.cancelPendingCommit=null,C()),xs=0,Iu(),yn=f,Mn=C=go(f.current,null),Dn=p,ta=0,Br=null,ys=!1,qs=_n(f,p),xx=!1,Ga=oo=fm=Ru=Ol=di=0,Ci=Gd=null,wi=!1,(p&8)!==0&&(p|=p&32);var k=f.entangledLanes;if(k!==0)for(f=f.entanglements,k&=p;0<k;){var U=31-bt(k),q=1<<U;p|=f[U],k&=~q}return Uo=p,Vp(),C}function Ml(f,p){kn=null,F.H=lh,p===Rd||p===On?(p=Id(),ta=3):p===Qp?(p=Id(),ta=4):ta=p===z0?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,Br=p,Mn===null&&(di=1,L0(f,Lo(p,f.current)))}function hi(){var f=xo.current;return f===null?!0:(Dn&4194048)===Dn?no===null:(Dn&62914560)===Dn||(Dn&536870912)!==0?f===no:!1}function Nc(){var f=F.H;return F.H=lh,f===null?lh:f}function ju(){var f=F.A;return F.A=Ic,f}function mh(){di=4,ys||(Dn&4194048)!==Dn&&xo.current!==null||(qs=!0),(Ol&134217727)===0&&(Ru&134217727)===0||yn===null||Ui(yn,Dn,oo,!1)}function so(f,p,C){var k=tn;tn|=2;var U=Nc(),q=ju();(yn!==f||Dn!==p)&&(fi=null,Nu(f,p)),p=!1;var se=di;e:do try{if(ta!==0&&Mn!==null){var xe=Mn,je=Br;switch(ta){case 8:Iu(),se=6;break e;case 3:case 2:case 9:case 6:xo.current===null&&(p=!0);var Xe=ta;if(ta=0,Br=null,Wd(f,xe,je,Xe),C&&qs){se=0;break e}break;default:Xe=ta,ta=0,Br=null,Wd(f,xe,je,Xe)}}gh(),se=di;break}catch(ct){Ml(f,ct)}while(!0);return p&&f.shellSuspendCounter++,_l=gu=null,tn=k,F.H=U,F.A=q,Mn===null&&(yn=null,Dn=0,Vp()),se}function gh(){for(;Mn!==null;)Q0(Mn)}function pm(f,p){var C=tn;tn|=2;var k=Nc(),U=ju();yn!==f||Dn!==p?(fi=null,Mi=Ee()+500,Nu(f,p)):qs=_n(f,p);e:do try{if(ta!==0&&Mn!==null){p=Mn;var q=Br;t:switch(ta){case 1:ta=0,Br=null,Wd(f,p,q,1);break;case 2:case 9:if(yo(q)){ta=0,Br=null,mm(p);break}p=function(){ta!==2&&ta!==9||yn!==f||(ta=7),Ct(f)},q.then(p,p);break e;case 3:ta=7;break e;case 4:ta=5;break e;case 7:yo(q)?(ta=0,Br=null,mm(p)):(ta=0,Br=null,Wd(f,p,q,7));break;case 5:var se=null;switch(Mn.tag){case 26:se=Mn.memoizedState;case 5:case 27:var xe=Mn;if(se?xM(se):xe.stateNode.complete){ta=0,Br=null;var je=xe.sibling;if(je!==null)Mn=je;else{var Xe=xe.return;Xe!==null?(Mn=Xe,Du(Xe)):Mn=null}break t}}ta=0,Br=null,Wd(f,p,q,5);break;case 6:ta=0,Br=null,Wd(f,p,q,6);break;case 8:Iu(),di=6;break e;default:throw Error(a(462))}}_o();break}catch(ct){Ml(f,ct)}while(!0);return _l=gu=null,F.H=k,F.A=U,tn=C,Mn!==null?0:(yn=null,Dn=0,Vp(),di)}function _o(){for(;Mn!==null&&!Me();)Q0(Mn)}function Q0(f){var p=W0(f.alternate,f,Uo);f.memoizedProps=f.pendingProps,p===null?Du(f):Mn=p}function mm(f){var p=f,C=p.alternate;switch(p.tag){case 15:case 0:p=om(C,p,p.pendingProps,p.type,void 0,Dn);break;case 11:p=om(C,p,p.pendingProps,p.type.render,p.ref,Dn);break;case 5:Uy(p);default:Ho(C,p),p=Mn=Yf(p,Uo),p=W0(C,p,Uo)}f.memoizedProps=f.pendingProps,p===null?Du(f):Mn=p}function Wd(f,p,C,k){_l=gu=null,Uy(p),jd=null,Dd=0;var U=p.return;try{if(Ji(f,U,p,C,Dn)){di=1,L0(f,Lo(C,f.current)),Mn=null;return}}catch(q){if(U!==null)throw Mn=U,q;di=1,L0(f,Lo(C,f.current)),Mn=null;return}p.flags&32768?(Xn||k===1?f=!0:qs||(Dn&536870912)!==0?f=!1:(ys=f=!0,(k===2||k===9||k===3||k===6)&&(k=xo.current,k!==null&&k.tag===13&&(k.flags|=16384))),gm(p,f)):Du(p)}function Du(f){var p=f;do{if((p.flags&32768)!==0){gm(p,ys);return}f=p.return;var C=cm(p.alternate,p,Uo);if(C!==null){Mn=C;return}if(p=p.sibling,p!==null){Mn=p;return}Mn=p=f}while(p!==null);di===0&&(di=5)}function gm(f,p){do{var C=fs(f.alternate,f);if(C!==null){C.flags&=32767,Mn=C;return}if(C=f.return,C!==null&&(C.flags|=32768,C.subtreeFlags=0,C.deletions=null),!p&&(f=f.sibling,f!==null)){Mn=f;return}Mn=f=C}while(f!==null);di=6,Mn=null}function jc(f,p,C,k,U,q,se,xe,je){f.cancelPendingCommit=null;do bh();while(Sa!==0);if((tn&6)!==0)throw Error(a(327));if(p!==null){if(p===f.current)throw Error(a(177));if(q=p.lanes|p.childLanes,q|=cr,Mt(f,C,q,se,xe,je),f===yn&&(Mn=yn=null,Dn=0),fh=p,Go=f,xs=C,hh=q,ph=U,hm=k,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,Q(Oe,function(){return Z0(),null})):(f.callbackNode=null,f.callbackPriority=0),k=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||k){k=F.T,F.T=null,U=G.p,G.p=2,se=tn,tn|=4;try{TT(f,p,C)}finally{tn=se,G.p=U,F.T=k}}Sa=1,Gi(),Dc(),Vd()}}function Gi(){if(Sa===1){Sa=0;var f=Go,p=fh,C=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||C){C=F.T,F.T=null;var k=G.p;G.p=2;var U=tn;tn|=4;try{Tu(p,f);var q=jT,se=p3(f.containerInfo),xe=q.focusedElem,je=q.selectionRange;if(se!==xe&&xe&&xe.ownerDocument&&Pa(xe.ownerDocument.documentElement,xe)){if(je!==null&&Ty(xe)){var Xe=je.start,ct=je.end;if(ct===void 0&&(ct=Xe),"selectionStart"in xe)xe.selectionStart=Xe,xe.selectionEnd=Math.min(ct,xe.value.length);else{var gt=xe.ownerDocument||document,Je=gt&&gt.defaultView||window;if(Je.getSelection){var it=Je.getSelection(),Zt=xe.textContent.length,gn=Math.min(je.start,Zt),Ba=je.end===void 0?gn:Math.min(je.end,Zt);!it.extend&&gn>Ba&&(se=Ba,Ba=gn,gn=se);var Be=qf(xe,gn),Pe=qf(xe,Ba);if(Be&&Pe&&(it.rangeCount!==1||it.anchorNode!==Be.node||it.anchorOffset!==Be.offset||it.focusNode!==Pe.node||it.focusOffset!==Pe.offset)){var Ke=gt.createRange();Ke.setStart(Be.node,Be.offset),it.removeAllRanges(),gn>Ba?(it.addRange(Ke),it.extend(Pe.node,Pe.offset)):(Ke.setEnd(Pe.node,Pe.offset),it.addRange(Ke))}}}}for(gt=[],it=xe;it=it.parentNode;)it.nodeType===1&&gt.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof xe.focus=="function"&&xe.focus(),xe=0;xe<gt.length;xe++){var pt=gt[xe];pt.element.scrollLeft=pt.left,pt.element.scrollTop=pt.top}}CC=!!NT,jT=NT=null}finally{tn=U,G.p=k,F.T=C}}f.current=p,Sa=2}}function Dc(){if(Sa===2){Sa=0;var f=Go,p=fh,C=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||C){C=F.T,F.T=null;var k=G.p;G.p=2;var U=tn;tn|=4;try{ei(f,p.alternate,p)}finally{tn=U,G.p=k,F.T=C}}Sa=3}}function Vd(){if(Sa===4||Sa===3){Sa=0,Ze();var f=Go,p=fh,C=xs,k=hm;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?Sa=5:(Sa=0,fh=Go=null,Pl(f,f.pendingLanes));var U=f.pendingLanes;if(U===0&&(Pi=null),ya(C),p=p.stateNode,at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(rt,p,void 0,(p.current.flags&128)===128)}catch{}if(k!==null){p=F.T,U=G.p,G.p=2,F.T=null;try{for(var q=f.onRecoverableError,se=0;se<k.length;se++){var xe=k[se];q(xe.value,{componentStack:xe.stack})}}finally{F.T=p,G.p=U}}(xs&3)!==0&&bh(),Ct(f),U=f.pendingLanes,(C&261930)!==0&&(U&42)!==0?f===qd?ku++:(ku=0,qd=f):ku=0,Vt(0)}}function Pl(f,p){(f.pooledCacheLanes&=p)===0&&(p=f.pooledCache,p!=null&&(f.pooledCache=null,Ad(p)))}function bh(){return Gi(),Dc(),Vd(),Z0()}function Z0(){if(Sa!==5)return!1;var f=Go,p=hh;hh=0;var C=ya(xs),k=F.T,U=G.p;try{G.p=32>C?32:C,F.T=null,C=ph,ph=null;var q=Go,se=xs;if(Sa=0,fh=Go=null,xs=0,(tn&6)!==0)throw Error(a(331));var xe=tn;if(tn|=4,wo(q.current),yx(q,q.current,se,C),tn=xe,Vt(0,!1),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(rt,q)}catch{}return!0}finally{G.p=U,F.T=k,Pl(f,p)}}function Sx(f,p,C){p=Lo(C,p),p=dx(f.stateNode,p,2),f=xu(f,p,2),f!==null&&(Et(f,2),Ct(f))}function la(f,p,C){if(f.tag===3)Sx(f,f,C);else for(;p!==null;){if(p.tag===3){Sx(p,f,C);break}else if(p.tag===1){var k=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(Pi===null||!Pi.has(k))){f=Lo(C,f),C=fx(2),k=xu(p,C,2),k!==null&&(sC(C,k,p,f),Et(k,2),Ct(k));break}}p=p.return}}function bm(f,p,C){var k=f.pingCache;if(k===null){k=f.pingCache=new In;var U=new Set;k.set(p,U)}else U=k.get(p),U===void 0&&(U=new Set,k.set(p,U));U.has(C)||(xx=!0,U.add(C),f=b.bind(null,f,p,C),p.then(f,f))}function b(f,p,C){var k=f.pingCache;k!==null&&k.delete(p),f.pingedLanes|=f.suspendedLanes&C,f.warmLanes&=~C,yn===f&&(Dn&C)===C&&(di===4||di===3&&(Dn&62914560)===Dn&&300>Ee()-dh?(tn&2)===0&&Nu(f,0):fm|=C,Ga===Dn&&(Ga=0)),Ct(f)}function x(f,p){p===0&&(p=Wt()),f=eo(f,p),f!==null&&(Et(f,p),Ct(f))}function j(f){var p=f.memoizedState,C=0;p!==null&&(C=p.retryLane),x(f,C)}function B(f,p){var C=0;switch(f.tag){case 31:case 13:var k=f.stateNode,U=f.memoizedState;U!==null&&(C=U.retryLane);break;case 19:k=f.stateNode;break;case 22:k=f.stateNode._retryCache;break;default:throw Error(a(314))}k!==null&&k.delete(p),x(f,C)}function Q(f,p){return Ie(f,p)}var ae=null,be=null,De=!1,tt=!1,vt=!1,Dt=0;function Ct(f){f!==be&&f.next===null&&(be===null?ae=be=f:be=be.next=f),tt=!0,De||(De=!0,He())}function Vt(f,p){if(!vt&&tt){vt=!0;do for(var C=!1,k=ae;k!==null;){if(f!==0){var U=k.pendingLanes;if(U===0)var q=0;else{var se=k.suspendedLanes,xe=k.pingedLanes;q=(1<<31-bt(42|f)+1)-1,q&=U&~(se&~xe),q=q&201326741?q&201326741|1:q?q|2:0}q!==0&&(C=!0,Qe(k,q))}else q=Dn,q=hn(k,k===yn?q:0,k.cancelPendingCommit!==null||k.timeoutHandle!==-1),(q&3)===0||_n(k,q)||(C=!0,Qe(k,q));k=k.next}while(C);vt=!1}}function An(){pr()}function pr(){tt=De=!1;var f=0;Dt!==0&&Xre()&&(f=Dt);for(var p=Ee(),C=null,k=ae;k!==null;){var U=k.next,q=yh(k,p);q===0?(k.next=null,C===null?ae=U:C.next=U,U===null&&(be=C)):(C=k,(f!==0||(q&3)!==0)&&(tt=!0)),k=U}Sa!==0&&Sa!==5||Vt(f),Dt!==0&&(Dt=0)}function yh(f,p){for(var C=f.suspendedLanes,k=f.pingedLanes,U=f.expirationTimes,q=f.pendingLanes&-62914561;0<q;){var se=31-bt(q),xe=1<<se,je=U[se];je===-1?((xe&C)===0||(xe&k)!==0)&&(U[se]=Tn(xe,p)):je<=p&&(f.expiredLanes|=xe),q&=~xe}if(p=yn,C=Dn,C=hn(f,f===p?C:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),k=f.callbackNode,C===0||f===p&&(ta===2||ta===9)||f.cancelPendingCommit!==null)return k!==null&&k!==null&&ze(k),f.callbackNode=null,f.callbackPriority=0;if((C&3)===0||_n(f,C)){if(p=C&-C,p===f.callbackPriority)return p;switch(k!==null&&ze(k),ya(C)){case 2:case 8:C=we;break;case 32:C=Oe;break;case 268435456:C=We;break;default:C=Oe}return k=Ou.bind(null,f),C=Ie(C,k),f.callbackPriority=p,f.callbackNode=C,p}return k!==null&&k!==null&&ze(k),f.callbackPriority=2,f.callbackNode=null,2}function Ou(f,p){if(Sa!==0&&Sa!==5)return f.callbackNode=null,f.callbackPriority=0,null;var C=f.callbackNode;if(bh()&&f.callbackNode!==C)return null;var k=Dn;return k=hn(f,f===yn?k:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),k===0?null:(qn(f,k,p),yh(f,Ee()),f.callbackNode!=null&&f.callbackNode===C?Ou.bind(null,f):null)}function Qe(f,p){if(bh())return null;qn(f,p,!0)}function He(){Zre(function(){(tn&6)!==0?Ie(ve,An):pr()})}function et(){if(Dt===0){var f=Cc;f===0&&(f=jn,jn<<=1,(jn&261888)===0&&(jn=256)),Dt=f}return Dt}function Rt(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:Dp(""+f)}function un(f,p){var C=p.ownerDocument.createElement("input");return C.name=p.name,C.value=p.value,f.id&&C.setAttribute("form",f.id),p.parentNode.insertBefore(C,p),f=new FormData(f),C.parentNode.removeChild(C),f}function pi(f,p,C,k,U){if(p==="submit"&&C&&C.stateNode===U){var q=Rt((U[Ma]||null).action),se=k.submitter;se&&(p=(p=se[Ma]||null)?Rt(p.formAction):se.getAttribute("formAction"),p!==null&&(q=p,se=null));var xe=new Pp("action","action",null,k,U);f.push({event:xe,listeners:[{instance:null,listener:function(){if(k.defaultPrevented){if(Dt!==0){var je=se?un(U,se):new FormData(U);ax(C,{pending:!0,data:je,method:U.method,action:q},null,je)}}else typeof q=="function"&&(xe.preventDefault(),je=se?un(U,se):new FormData(U),ax(C,{pending:!0,data:je,method:U.method,action:q},q,je))},currentTarget:U}]})}}for(var pn=0;pn<qp.length;pn++){var ra=qp[pn],mr=ra.toLowerCase(),ha=ra[0].toUpperCase()+ra.slice(1);rs(mr,"on"+ha)}rs(d0,"onAnimationEnd"),rs(Gp,"onAnimationIteration"),rs(Ay,"onAnimationStart"),rs("dblclick","onDoubleClick"),rs("focusin","onFocus"),rs("focusout","onBlur"),rs(g3,"onTransitionRun"),rs(bT,"onTransitionStart"),rs(b3,"onTransitionCancel"),rs(Ry,"onTransitionEnd"),Or("onMouseEnter",["mouseout","mouseover"]),Or("onMouseLeave",["mouseout","mouseover"]),Or("onPointerEnter",["pointerout","pointerover"]),Or("onPointerLeave",["pointerout","pointerover"]),hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hl("onBeforeInput",["compositionend","keypress","textInput","paste"]),hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ET=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vs));function XO(f,p){p=(p&4)!==0;for(var C=0;C<f.length;C++){var k=f[C],U=k.event;k=k.listeners;e:{var q=void 0;if(p)for(var se=k.length-1;0<=se;se--){var xe=k[se],je=xe.instance,Xe=xe.currentTarget;if(xe=xe.listener,je!==q&&U.isPropagationStopped())break e;q=xe,U.currentTarget=Xe;try{q(U)}catch(ct){Wp(ct)}U.currentTarget=null,q=je}else for(se=0;se<k.length;se++){if(xe=k[se],je=xe.instance,Xe=xe.currentTarget,xe=xe.listener,je!==q&&U.isPropagationStopped())break e;q=xe,U.currentTarget=Xe;try{q(U)}catch(ct){Wp(ct)}U.currentTarget=null,q=je}}}}function na(f,p){var C=p[Qi];C===void 0&&(C=p[Qi]=new Set);var k=f+"__bubble";C.has(k)||(QO(p,f,2,!1),C.add(k))}function AT(f,p,C){var k=0;p&&(k|=4),QO(C,f,k,p)}var hC="_reactListening"+Math.random().toString(36).slice(2);function RT(f){if(!f[hC]){f[hC]=!0,Bs.forEach(function(C){C!=="selectionchange"&&(ET.has(C)||AT(C,!1,f),AT(C,!0,f))});var p=f.nodeType===9?f:f.ownerDocument;p===null||p[hC]||(p[hC]=!0,AT("selectionchange",!1,p))}}function QO(f,p,C,k){switch(EM(p)){case 2:var U=yoe;break;case 8:U=xoe;break;default:U=UT}C=U.bind(null,p,C,f),U=void 0,!cy||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(U=!0),k?U!==void 0?f.addEventListener(p,C,{capture:!0,passive:U}):f.addEventListener(p,C,!0):U!==void 0?f.addEventListener(p,C,{passive:U}):f.addEventListener(p,C,!1)}function kT(f,p,C,k,U){var q=k;if((p&1)===0&&(p&2)===0&&k!==null)e:for(;;){if(k===null)return;var se=k.tag;if(se===3||se===4){var xe=k.stateNode.containerInfo;if(xe===U)break;if(se===4)for(se=k.return;se!==null;){var je=se.tag;if((je===3||je===4)&&se.stateNode.containerInfo===U)return;se=se.return}for(;xe!==null;){if(se=pc(xe),se===null)return;if(je=se.tag,je===5||je===6||je===26||je===27){k=q=se;continue e}xe=xe.parentNode}}k=k.return}ly(function(){var Xe=q,ct=Zg(C),gt=[];e:{var Je=is.get(f);if(Je!==void 0){var it=Pp,Zt=f;switch(f){case"keypress":if(Mp(C)===0)break e;case"keydown":case"keyup":it=Cd;break;case"focusin":Zt="focus",it=n0;break;case"focusout":Zt="blur",it=n0;break;case"beforeblur":case"afterblur":it=n0;break;case"click":if(C.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=uy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=XS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=n3;break;case d0:case Gp:case Ay:it=pT;break;case Ry:it=gT;break;case"scroll":case"scrollend":it=YS;break;case"wheel":it=i3;break;case"copy":case"cut":case"paste":it=ZS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=hy;break;case"toggle":case"beforetoggle":it=o3}var gn=(p&4)!==0,Ba=!gn&&(f==="scroll"||f==="scrollend"),Be=gn?Je!==null?Je+"Capture":null:Je;gn=[];for(var Pe=Xe,Ke;Pe!==null;){var pt=Pe;if(Ke=pt.stateNode,pt=pt.tag,pt!==5&&pt!==26&&pt!==27||Ke===null||Be===null||(pt=Pf(Pe,Be),pt!=null&&gn.push(Cx(Pe,pt,Ke))),Ba)break;Pe=Pe.return}0<gn.length&&(Je=new it(Je,Zt,null,C,ct),gt.push({event:Je,listeners:gn}))}}if((p&7)===0){e:{if(Je=f==="mouseover"||f==="pointerover",it=f==="mouseout"||f==="pointerout",Je&&C!==Qg&&(Zt=C.relatedTarget||C.fromElement)&&(pc(Zt)||Zt[wr]))break e;if((it||Je)&&(Je=ct.window===ct?ct:(Je=ct.ownerDocument)?Je.defaultView||Je.parentWindow:window,it?(Zt=C.relatedTarget||C.toElement,it=Xe,Zt=Zt?pc(Zt):null,Zt!==null&&(Ba=r(Zt),gn=Zt.tag,Zt!==Ba||gn!==5&&gn!==27&&gn!==6)&&(Zt=null)):(it=null,Zt=Xe),it!==Zt)){if(gn=uy,pt="onMouseLeave",Be="onMouseEnter",Pe="mouse",(f==="pointerout"||f==="pointerover")&&(gn=hy,pt="onPointerLeave",Be="onPointerEnter",Pe="pointer"),Ba=it==null?Je:ou(it),Ke=Zt==null?Je:ou(Zt),Je=new gn(pt,Pe+"leave",it,C,ct),Je.target=Ba,Je.relatedTarget=Ke,pt=null,pc(ct)===Xe&&(gn=new gn(Be,Pe+"enter",Zt,C,ct),gn.target=Ke,gn.relatedTarget=Ba,pt=gn),Ba=pt,it&&Zt)t:{for(gn=qre,Be=it,Pe=Zt,Ke=0,pt=Be;pt;pt=gn(pt))Ke++;pt=0;for(var ln=Pe;ln;ln=gn(ln))pt++;for(;0<Ke-pt;)Be=gn(Be),Ke--;for(;0<pt-Ke;)Pe=gn(Pe),pt--;for(;Ke--;){if(Be===Pe||Pe!==null&&Be===Pe.alternate){gn=Be;break t}Be=gn(Be),Pe=gn(Pe)}gn=null}else gn=null;it!==null&&ZO(gt,Je,it,gn,!1),Zt!==null&&Ba!==null&&ZO(gt,Ba,Zt,gn,!0)}}e:{if(Je=Xe?ou(Xe):window,it=Je.nodeName&&Je.nodeName.toLowerCase(),it==="select"||it==="input"&&Je.type==="file")var ga=vy;else if(xy(Je))if(gl)ga=h3;else{ga=wy;var en=d3}else it=Je.nodeName,!it||it.toLowerCase()!=="input"||Je.type!=="checkbox"&&Je.type!=="radio"?Xe&&Xg(Xe.elementType)&&(ga=vy):ga=f3;if(ga&&(ga=ga(f,Xe))){c0(gt,ga,C,ct);break e}en&&en(f,Je,Xe),f==="focusout"&&Xe&&Je.type==="number"&&Xe.memoizedProps.value!=null&&Hs(Je,"number",Je.value)}switch(en=Xe?ou(Xe):window,f){case"focusin":(xy(en)||en.contentEditable==="true")&&(bl=en,yl=Xe,Wf=null);break;case"focusout":Wf=yl=bl=null;break;case"mousedown":u0=!0;break;case"contextmenu":case"mouseup":case"dragend":u0=!1,Vf(gt,C,ct);break;case"selectionchange":if(m3)break;case"keydown":case"keyup":Vf(gt,C,ct)}var Bn;if(wd)e:{switch(f){case"compositionstart":var oa="onCompositionStart";break e;case"compositionend":oa="onCompositionEnd";break e;case"compositionupdate":oa="onCompositionUpdate";break e}oa=void 0}else _d?l0(f,C)&&(oa="onCompositionEnd"):f==="keydown"&&C.keyCode===229&&(oa="onCompositionStart");oa&&(my&&C.locale!=="ko"&&(_d||oa!=="onCompositionStart"?oa==="onCompositionEnd"&&_d&&(Bn=Op()):(Po=ct,e0="value"in Po?Po.value:Po.textContent,_d=!0)),en=pC(Xe,oa),0<en.length&&(oa=new a0(oa,f,null,C,ct),gt.push({event:oa,listeners:en}),Bn?oa.data=Bn:(Bn=gy(C),Bn!==null&&(oa.data=Bn)))),(Bn=s0?c3(f,C):by(f,C))&&(oa=pC(Xe,"onBeforeInput"),0<oa.length&&(en=new a0("onBeforeInput","beforeinput",null,C,ct),gt.push({event:en,listeners:oa}),en.data=Bn)),pi(gt,f,Xe,C,ct)}XO(gt,p)})}function Cx(f,p,C){return{instance:f,listener:p,currentTarget:C}}function pC(f,p){for(var C=p+"Capture",k=[];f!==null;){var U=f,q=U.stateNode;if(U=U.tag,U!==5&&U!==26&&U!==27||q===null||(U=Pf(f,C),U!=null&&k.unshift(Cx(f,U,q)),U=Pf(f,p),U!=null&&k.push(Cx(f,U,q))),f.tag===3)return k;f=f.return}return[]}function qre(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function ZO(f,p,C,k,U){for(var q=p._reactName,se=[];C!==null&&C!==k;){var xe=C,je=xe.alternate,Xe=xe.stateNode;if(xe=xe.tag,je!==null&&je===k)break;xe!==5&&xe!==26&&xe!==27||Xe===null||(je=Xe,U?(Xe=Pf(C,q),Xe!=null&&se.unshift(Cx(C,Xe,je))):U||(Xe=Pf(C,q),Xe!=null&&se.push(Cx(C,Xe,je)))),C=C.return}se.length!==0&&f.push({event:p,listeners:se})}var Wre=/\r\n?/g,Vre=/\u0000|\uFFFD/g;function JO(f){return(typeof f=="string"?f:""+f).replace(Wre,`
`).replace(Vre,"")}function eM(f,p){return p=JO(p),JO(f)===p}function Fa(f,p,C,k,U,q){switch(C){case"children":typeof k=="string"?p==="body"||p==="textarea"&&k===""||xd(f,k):(typeof k=="number"||typeof k=="bigint")&&p!=="body"&&xd(f,""+k);break;case"className":Np(f,"class",k);break;case"tabIndex":Np(f,"tabindex",k);break;case"dir":case"role":case"viewBox":case"width":case"height":Np(f,C,k);break;case"style":ry(f,k,q);break;case"data":if(p!=="object"){Np(f,"data",k);break}case"src":case"href":if(k===""&&(p!=="a"||C!=="href")){f.removeAttribute(C);break}if(k==null||typeof k=="function"||typeof k=="symbol"||typeof k=="boolean"){f.removeAttribute(C);break}k=Dp(""+k),f.setAttribute(C,k);break;case"action":case"formAction":if(typeof k=="function"){f.setAttribute(C,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof q=="function"&&(C==="formAction"?(p!=="input"&&Fa(f,p,"name",U.name,U,null),Fa(f,p,"formEncType",U.formEncType,U,null),Fa(f,p,"formMethod",U.formMethod,U,null),Fa(f,p,"formTarget",U.formTarget,U,null)):(Fa(f,p,"encType",U.encType,U,null),Fa(f,p,"method",U.method,U,null),Fa(f,p,"target",U.target,U,null)));if(k==null||typeof k=="symbol"||typeof k=="boolean"){f.removeAttribute(C);break}k=Dp(""+k),f.setAttribute(C,k);break;case"onClick":k!=null&&(f.onclick=gc);break;case"onScroll":k!=null&&na("scroll",f);break;case"onScrollEnd":k!=null&&na("scrollend",f);break;case"dangerouslySetInnerHTML":if(k!=null){if(typeof k!="object"||!("__html"in k))throw Error(a(61));if(C=k.__html,C!=null){if(U.children!=null)throw Error(a(60));f.innerHTML=C}}break;case"multiple":f.multiple=k&&typeof k!="function"&&typeof k!="symbol";break;case"muted":f.muted=k&&typeof k!="function"&&typeof k!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(k==null||typeof k=="function"||typeof k=="boolean"||typeof k=="symbol"){f.removeAttribute("xlink:href");break}C=Dp(""+k),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",C);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":k!=null&&typeof k!="function"&&typeof k!="symbol"?f.setAttribute(C,""+k):f.removeAttribute(C);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":k&&typeof k!="function"&&typeof k!="symbol"?f.setAttribute(C,""):f.removeAttribute(C);break;case"capture":case"download":k===!0?f.setAttribute(C,""):k!==!1&&k!=null&&typeof k!="function"&&typeof k!="symbol"?f.setAttribute(C,k):f.removeAttribute(C);break;case"cols":case"rows":case"size":case"span":k!=null&&typeof k!="function"&&typeof k!="symbol"&&!isNaN(k)&&1<=k?f.setAttribute(C,k):f.removeAttribute(C);break;case"rowSpan":case"start":k==null||typeof k=="function"||typeof k=="symbol"||isNaN(k)?f.removeAttribute(C):f.setAttribute(C,k);break;case"popover":na("beforetoggle",f),na("toggle",f),Of(f,"popover",k);break;case"xlinkActuate":pl(f,"http://www.w3.org/1999/xlink","xlink:actuate",k);break;case"xlinkArcrole":pl(f,"http://www.w3.org/1999/xlink","xlink:arcrole",k);break;case"xlinkRole":pl(f,"http://www.w3.org/1999/xlink","xlink:role",k);break;case"xlinkShow":pl(f,"http://www.w3.org/1999/xlink","xlink:show",k);break;case"xlinkTitle":pl(f,"http://www.w3.org/1999/xlink","xlink:title",k);break;case"xlinkType":pl(f,"http://www.w3.org/1999/xlink","xlink:type",k);break;case"xmlBase":pl(f,"http://www.w3.org/XML/1998/namespace","xml:base",k);break;case"xmlLang":pl(f,"http://www.w3.org/XML/1998/namespace","xml:lang",k);break;case"xmlSpace":pl(f,"http://www.w3.org/XML/1998/namespace","xml:space",k);break;case"is":Of(f,"is",k);break;case"innerText":case"textContent":break;default:(!(2<C.length)||C[0]!=="o"&&C[0]!=="O"||C[1]!=="n"&&C[1]!=="N")&&(C=WS.get(C)||C,Of(f,C,k))}}function IT(f,p,C,k,U,q){switch(C){case"style":ry(f,k,q);break;case"dangerouslySetInnerHTML":if(k!=null){if(typeof k!="object"||!("__html"in k))throw Error(a(61));if(C=k.__html,C!=null){if(U.children!=null)throw Error(a(60));f.innerHTML=C}}break;case"children":typeof k=="string"?xd(f,k):(typeof k=="number"||typeof k=="bigint")&&xd(f,""+k);break;case"onScroll":k!=null&&na("scroll",f);break;case"onScrollEnd":k!=null&&na("scrollend",f);break;case"onClick":k!=null&&(f.onclick=gc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Df.hasOwnProperty(C))e:{if(C[0]==="o"&&C[1]==="n"&&(U=C.endsWith("Capture"),p=C.slice(2,U?C.length-7:void 0),q=f[Ma]||null,q=q!=null?q[C]:null,typeof q=="function"&&f.removeEventListener(p,q,U),typeof k=="function")){typeof q!="function"&&q!==null&&(C in f?f[C]=null:f.hasAttribute(C)&&f.removeAttribute(C)),f.addEventListener(p,k,U);break e}C in f?f[C]=k:k===!0?f.setAttribute(C,""):Of(f,C,k)}}}function lo(f,p,C){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":na("error",f),na("load",f);var k=!1,U=!1,q;for(q in C)if(C.hasOwnProperty(q)){var se=C[q];if(se!=null)switch(q){case"src":k=!0;break;case"srcSet":U=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,p));default:Fa(f,p,q,se,C,null)}}U&&Fa(f,p,"srcSet",C.srcSet,C,null),k&&Fa(f,p,"src",C.src,C,null);return;case"input":na("invalid",f);var xe=q=se=U=null,je=null,Xe=null;for(k in C)if(C.hasOwnProperty(k)){var ct=C[k];if(ct!=null)switch(k){case"name":U=ct;break;case"type":se=ct;break;case"checked":je=ct;break;case"defaultChecked":Xe=ct;break;case"value":q=ct;break;case"defaultValue":xe=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(a(137,p));break;default:Fa(f,p,k,ct,C,null)}}Vg(f,q,xe,je,Xe,se,U,!1);return;case"select":na("invalid",f),k=se=q=null;for(U in C)if(C.hasOwnProperty(U)&&(xe=C[U],xe!=null))switch(U){case"value":q=xe;break;case"defaultValue":se=xe;break;case"multiple":k=xe;default:Fa(f,p,U,xe,C,null)}p=q,C=se,f.multiple=!!k,p!=null?mc(f,!!k,p,!1):C!=null&&mc(f,!!k,C,!0);return;case"textarea":na("invalid",f),q=U=k=null;for(se in C)if(C.hasOwnProperty(se)&&(xe=C[se],xe!=null))switch(se){case"value":k=xe;break;case"defaultValue":U=xe;break;case"children":q=xe;break;case"dangerouslySetInnerHTML":if(xe!=null)throw Error(a(91));break;default:Fa(f,p,se,xe,C,null)}Kg(f,k,U,q);return;case"option":for(je in C)if(C.hasOwnProperty(je)&&(k=C[je],k!=null))switch(je){case"selected":f.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Fa(f,p,je,k,C,null)}return;case"dialog":na("beforetoggle",f),na("toggle",f),na("cancel",f),na("close",f);break;case"iframe":case"object":na("load",f);break;case"video":case"audio":for(k=0;k<vs.length;k++)na(vs[k],f);break;case"image":na("error",f),na("load",f);break;case"details":na("toggle",f);break;case"embed":case"source":case"link":na("error",f),na("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Xe in C)if(C.hasOwnProperty(Xe)&&(k=C[Xe],k!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,p));default:Fa(f,p,Xe,k,C,null)}return;default:if(Xg(p)){for(ct in C)C.hasOwnProperty(ct)&&(k=C[ct],k!==void 0&&IT(f,p,ct,k,C,void 0));return}}for(xe in C)C.hasOwnProperty(xe)&&(k=C[xe],k!=null&&Fa(f,p,xe,k,C,null))}function Yre(f,p,C,k){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var U=null,q=null,se=null,xe=null,je=null,Xe=null,ct=null;for(it in C){var gt=C[it];if(C.hasOwnProperty(it)&&gt!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":je=gt;default:k.hasOwnProperty(it)||Fa(f,p,it,null,k,gt)}}for(var Je in k){var it=k[Je];if(gt=C[Je],k.hasOwnProperty(Je)&&(it!=null||gt!=null))switch(Je){case"type":q=it;break;case"name":U=it;break;case"checked":Xe=it;break;case"defaultChecked":ct=it;break;case"value":se=it;break;case"defaultValue":xe=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(a(137,p));break;default:it!==gt&&Fa(f,p,Je,it,k,gt)}}Mf(f,se,xe,je,Xe,ct,q,U);return;case"select":it=se=xe=Je=null;for(q in C)if(je=C[q],C.hasOwnProperty(q)&&je!=null)switch(q){case"value":break;case"multiple":it=je;default:k.hasOwnProperty(q)||Fa(f,p,q,null,k,je)}for(U in k)if(q=k[U],je=C[U],k.hasOwnProperty(U)&&(q!=null||je!=null))switch(U){case"value":Je=q;break;case"defaultValue":xe=q;break;case"multiple":se=q;default:q!==je&&Fa(f,p,U,q,k,je)}p=xe,C=se,k=it,Je!=null?mc(f,!!C,Je,!1):!!k!=!!C&&(p!=null?mc(f,!!C,p,!0):mc(f,!!C,C?[]:"",!1));return;case"textarea":it=Je=null;for(xe in C)if(U=C[xe],C.hasOwnProperty(xe)&&U!=null&&!k.hasOwnProperty(xe))switch(xe){case"value":break;case"children":break;default:Fa(f,p,xe,null,k,U)}for(se in k)if(U=k[se],q=C[se],k.hasOwnProperty(se)&&(U!=null||q!=null))switch(se){case"value":Je=U;break;case"defaultValue":it=U;break;case"children":break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(91));break;default:U!==q&&Fa(f,p,se,U,k,q)}Yg(f,Je,it);return;case"option":for(var Zt in C)if(Je=C[Zt],C.hasOwnProperty(Zt)&&Je!=null&&!k.hasOwnProperty(Zt))switch(Zt){case"selected":f.selected=!1;break;default:Fa(f,p,Zt,null,k,Je)}for(je in k)if(Je=k[je],it=C[je],k.hasOwnProperty(je)&&Je!==it&&(Je!=null||it!=null))switch(je){case"selected":f.selected=Je&&typeof Je!="function"&&typeof Je!="symbol";break;default:Fa(f,p,je,Je,k,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gn in C)Je=C[gn],C.hasOwnProperty(gn)&&Je!=null&&!k.hasOwnProperty(gn)&&Fa(f,p,gn,null,k,Je);for(Xe in k)if(Je=k[Xe],it=C[Xe],k.hasOwnProperty(Xe)&&Je!==it&&(Je!=null||it!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(a(137,p));break;default:Fa(f,p,Xe,Je,k,it)}return;default:if(Xg(p)){for(var Ba in C)Je=C[Ba],C.hasOwnProperty(Ba)&&Je!==void 0&&!k.hasOwnProperty(Ba)&&IT(f,p,Ba,void 0,k,Je);for(ct in k)Je=k[ct],it=C[ct],!k.hasOwnProperty(ct)||Je===it||Je===void 0&&it===void 0||IT(f,p,ct,Je,k,it);return}}for(var Be in C)Je=C[Be],C.hasOwnProperty(Be)&&Je!=null&&!k.hasOwnProperty(Be)&&Fa(f,p,Be,null,k,Je);for(gt in k)Je=k[gt],it=C[gt],!k.hasOwnProperty(gt)||Je===it||Je==null&&it==null||Fa(f,p,gt,Je,k,it)}function tM(f){switch(f){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kre(){if(typeof performance.getEntriesByType=="function"){for(var f=0,p=0,C=performance.getEntriesByType("resource"),k=0;k<C.length;k++){var U=C[k],q=U.transferSize,se=U.initiatorType,xe=U.duration;if(q&&xe&&tM(se)){for(se=0,xe=U.responseEnd,k+=1;k<C.length;k++){var je=C[k],Xe=je.startTime;if(Xe>xe)break;var ct=je.transferSize,gt=je.initiatorType;ct&&tM(gt)&&(je=je.responseEnd,se+=ct*(je<xe?1:(xe-Xe)/(je-Xe)))}if(--k,p+=8*(q+se)/(U.duration/1e3),f++,10<f)break}}if(0<f)return p/f/1e6}return navigator.connection&&(f=navigator.connection.downlink,typeof f=="number")?f:5}var NT=null,jT=null;function mC(f){return f.nodeType===9?f:f.ownerDocument}function nM(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function aM(f,p){if(f===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&p==="foreignObject"?0:f}function DT(f,p){return f==="textarea"||f==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var OT=null;function Xre(){var f=window.event;return f&&f.type==="popstate"?f===OT?!1:(OT=f,!0):(OT=null,!1)}var iM=typeof setTimeout=="function"?setTimeout:void 0,Qre=typeof clearTimeout=="function"?clearTimeout:void 0,rM=typeof Promise=="function"?Promise:void 0,Zre=typeof queueMicrotask=="function"?queueMicrotask:typeof rM<"u"?function(f){return rM.resolve(null).then(f).catch(Jre)}:iM;function Jre(f){setTimeout(function(){throw f})}function xh(f){return f==="head"}function oM(f,p){var C=p,k=0;do{var U=C.nextSibling;if(f.removeChild(C),U&&U.nodeType===8)if(C=U.data,C==="/$"||C==="/&"){if(k===0){f.removeChild(U),n1(p);return}k--}else if(C==="$"||C==="$?"||C==="$~"||C==="$!"||C==="&")k++;else if(C==="html")wx(f.ownerDocument.documentElement);else if(C==="head"){C=f.ownerDocument.head,wx(C);for(var q=C.firstChild;q;){var se=q.nextSibling,xe=q.nodeName;q[Fs]||xe==="SCRIPT"||xe==="STYLE"||xe==="LINK"&&q.rel.toLowerCase()==="stylesheet"||C.removeChild(q),q=se}}else C==="body"&&wx(f.ownerDocument.body);C=U}while(C);n1(p)}function sM(f,p){var C=f;f=0;do{var k=C.nextSibling;if(C.nodeType===1?p?(C._stashedDisplay=C.style.display,C.style.display="none"):(C.style.display=C._stashedDisplay||"",C.getAttribute("style")===""&&C.removeAttribute("style")):C.nodeType===3&&(p?(C._stashedText=C.nodeValue,C.nodeValue=""):C.nodeValue=C._stashedText||""),k&&k.nodeType===8)if(C=k.data,C==="/$"){if(f===0)break;f--}else C!=="$"&&C!=="$?"&&C!=="$~"&&C!=="$!"||f++;C=k}while(C)}function MT(f){var p=f.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var C=p;switch(p=p.nextSibling,C.nodeName){case"HTML":case"HEAD":case"BODY":MT(C),hc(C);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(C.rel.toLowerCase()==="stylesheet")continue}f.removeChild(C)}}function eoe(f,p,C,k){for(;f.nodeType===1;){var U=C;if(f.nodeName.toLowerCase()!==p.toLowerCase()){if(!k&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(k){if(!f[Fs])switch(p){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(q=f.getAttribute("rel"),q==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(q!==U.rel||f.getAttribute("href")!==(U.href==null||U.href===""?null:U.href)||f.getAttribute("crossorigin")!==(U.crossOrigin==null?null:U.crossOrigin)||f.getAttribute("title")!==(U.title==null?null:U.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(q=f.getAttribute("src"),(q!==(U.src==null?null:U.src)||f.getAttribute("type")!==(U.type==null?null:U.type)||f.getAttribute("crossorigin")!==(U.crossOrigin==null?null:U.crossOrigin))&&q&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(p==="input"&&f.type==="hidden"){var q=U.name==null?null:""+U.name;if(U.type==="hidden"&&f.getAttribute("name")===q)return f}else return f;if(f=Ll(f.nextSibling),f===null)break}return null}function toe(f,p,C){if(p==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!C||(f=Ll(f.nextSibling),f===null))return null;return f}function lM(f,p){for(;f.nodeType!==8;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!p||(f=Ll(f.nextSibling),f===null))return null;return f}function PT(f){return f.data==="$?"||f.data==="$~"}function LT(f){return f.data==="$!"||f.data==="$?"&&f.ownerDocument.readyState!=="loading"}function noe(f,p){var C=f.ownerDocument;if(f.data==="$~")f._reactRetry=p;else if(f.data!=="$?"||C.readyState!=="loading")p();else{var k=function(){p(),C.removeEventListener("DOMContentLoaded",k)};C.addEventListener("DOMContentLoaded",k),f._reactRetry=k}}function Ll(f){for(;f!=null;f=f.nextSibling){var p=f.nodeType;if(p===1||p===3)break;if(p===8){if(p=f.data,p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"||p==="F!"||p==="F")break;if(p==="/$"||p==="/&")return null}}return f}var zT=null;function cM(f){f=f.nextSibling;for(var p=0;f;){if(f.nodeType===8){var C=f.data;if(C==="/$"||C==="/&"){if(p===0)return Ll(f.nextSibling);p--}else C!=="$"&&C!=="$!"&&C!=="$?"&&C!=="$~"&&C!=="&"||p++}f=f.nextSibling}return null}function uM(f){f=f.previousSibling;for(var p=0;f;){if(f.nodeType===8){var C=f.data;if(C==="$"||C==="$!"||C==="$?"||C==="$~"||C==="&"){if(p===0)return f;p--}else C!=="/$"&&C!=="/&"||p++}f=f.previousSibling}return null}function dM(f,p,C){switch(p=mC(C),f){case"html":if(f=p.documentElement,!f)throw Error(a(452));return f;case"head":if(f=p.head,!f)throw Error(a(453));return f;case"body":if(f=p.body,!f)throw Error(a(454));return f;default:throw Error(a(451))}}function wx(f){for(var p=f.attributes;p.length;)f.removeAttributeNode(p[0]);hc(f)}var zl=new Map,fM=new Set;function gC(f){return typeof f.getRootNode=="function"?f.getRootNode():f.nodeType===9?f:f.ownerDocument}var Yd=G.d;G.d={f:aoe,r:ioe,D:roe,C:ooe,L:soe,m:loe,X:uoe,S:coe,M:doe};function aoe(){var f=Yd.f(),p=Ws();return f||p}function ioe(f){var p=dl(f);p!==null&&p.tag===5&&p.type==="form"?Z3(p):Yd.r(f)}var J0=typeof document>"u"?null:document;function hM(f,p,C){var k=J0;if(k&&typeof p=="string"&&p){var U=Pr(p);U='link[rel="'+f+'"][href="'+U+'"]',typeof C=="string"&&(U+='[crossorigin="'+C+'"]'),fM.has(U)||(fM.add(U),f={rel:f,crossOrigin:C,href:p},k.querySelector(U)===null&&(p=k.createElement("link"),lo(p,"link",f),xi(p),k.head.appendChild(p)))}}function roe(f){Yd.D(f),hM("dns-prefetch",f,null)}function ooe(f,p){Yd.C(f,p),hM("preconnect",f,p)}function soe(f,p,C){Yd.L(f,p,C);var k=J0;if(k&&f&&p){var U='link[rel="preload"][as="'+Pr(p)+'"]';p==="image"&&C&&C.imageSrcSet?(U+='[imagesrcset="'+Pr(C.imageSrcSet)+'"]',typeof C.imageSizes=="string"&&(U+='[imagesizes="'+Pr(C.imageSizes)+'"]')):U+='[href="'+Pr(f)+'"]';var q=U;switch(p){case"style":q=e1(f);break;case"script":q=t1(f)}zl.has(q)||(f=h({rel:"preload",href:p==="image"&&C&&C.imageSrcSet?void 0:f,as:p},C),zl.set(q,f),k.querySelector(U)!==null||p==="style"&&k.querySelector(_x(q))||p==="script"&&k.querySelector(Tx(q))||(p=k.createElement("link"),lo(p,"link",f),xi(p),k.head.appendChild(p)))}}function loe(f,p){Yd.m(f,p);var C=J0;if(C&&f){var k=p&&typeof p.as=="string"?p.as:"script",U='link[rel="modulepreload"][as="'+Pr(k)+'"][href="'+Pr(f)+'"]',q=U;switch(k){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":q=t1(f)}if(!zl.has(q)&&(f=h({rel:"modulepreload",href:f},p),zl.set(q,f),C.querySelector(U)===null)){switch(k){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(C.querySelector(Tx(q)))return}k=C.createElement("link"),lo(k,"link",f),xi(k),C.head.appendChild(k)}}}function coe(f,p,C){Yd.S(f,p,C);var k=J0;if(k&&f){var U=fl(k).hoistableStyles,q=e1(f);p=p||"default";var se=U.get(q);if(!se){var xe={loading:0,preload:null};if(se=k.querySelector(_x(q)))xe.loading=5;else{f=h({rel:"stylesheet",href:f,"data-precedence":p},C),(C=zl.get(q))&&FT(f,C);var je=se=k.createElement("link");xi(je),lo(je,"link",f),je._p=new Promise(function(Xe,ct){je.onload=Xe,je.onerror=ct}),je.addEventListener("load",function(){xe.loading|=1}),je.addEventListener("error",function(){xe.loading|=2}),xe.loading|=4,bC(se,p,k)}se={type:"stylesheet",instance:se,count:1,state:xe},U.set(q,se)}}}function uoe(f,p){Yd.X(f,p);var C=J0;if(C&&f){var k=fl(C).hoistableScripts,U=t1(f),q=k.get(U);q||(q=C.querySelector(Tx(U)),q||(f=h({src:f,async:!0},p),(p=zl.get(U))&&BT(f,p),q=C.createElement("script"),xi(q),lo(q,"link",f),C.head.appendChild(q)),q={type:"script",instance:q,count:1,state:null},k.set(U,q))}}function doe(f,p){Yd.M(f,p);var C=J0;if(C&&f){var k=fl(C).hoistableScripts,U=t1(f),q=k.get(U);q||(q=C.querySelector(Tx(U)),q||(f=h({src:f,async:!0,type:"module"},p),(p=zl.get(U))&&BT(f,p),q=C.createElement("script"),xi(q),lo(q,"link",f),C.head.appendChild(q)),q={type:"script",instance:q,count:1,state:null},k.set(U,q))}}function pM(f,p,C,k){var U=(U=ne.current)?gC(U):null;if(!U)throw Error(a(446));switch(f){case"meta":case"title":return null;case"style":return typeof C.precedence=="string"&&typeof C.href=="string"?(p=e1(C.href),C=fl(U).hoistableStyles,k=C.get(p),k||(k={type:"style",instance:null,count:0,state:null},C.set(p,k)),k):{type:"void",instance:null,count:0,state:null};case"link":if(C.rel==="stylesheet"&&typeof C.href=="string"&&typeof C.precedence=="string"){f=e1(C.href);var q=fl(U).hoistableStyles,se=q.get(f);if(se||(U=U.ownerDocument||U,se={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},q.set(f,se),(q=U.querySelector(_x(f)))&&!q._p&&(se.instance=q,se.state.loading=5),zl.has(f)||(C={rel:"preload",as:"style",href:C.href,crossOrigin:C.crossOrigin,integrity:C.integrity,media:C.media,hrefLang:C.hrefLang,referrerPolicy:C.referrerPolicy},zl.set(f,C),q||foe(U,f,C,se.state))),p&&k===null)throw Error(a(528,""));return se}if(p&&k!==null)throw Error(a(529,""));return null;case"script":return p=C.async,C=C.src,typeof C=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=t1(C),C=fl(U).hoistableScripts,k=C.get(p),k||(k={type:"script",instance:null,count:0,state:null},C.set(p,k)),k):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,f))}}function e1(f){return'href="'+Pr(f)+'"'}function _x(f){return'link[rel="stylesheet"]['+f+"]"}function mM(f){return h({},f,{"data-precedence":f.precedence,precedence:null})}function foe(f,p,C,k){f.querySelector('link[rel="preload"][as="style"]['+p+"]")?k.loading=1:(p=f.createElement("link"),k.preload=p,p.addEventListener("load",function(){return k.loading|=1}),p.addEventListener("error",function(){return k.loading|=2}),lo(p,"link",C),xi(p),f.head.appendChild(p))}function t1(f){return'[src="'+Pr(f)+'"]'}function Tx(f){return"script[async]"+f}function gM(f,p,C){if(p.count++,p.instance===null)switch(p.type){case"style":var k=f.querySelector('style[data-href~="'+Pr(C.href)+'"]');if(k)return p.instance=k,xi(k),k;var U=h({},C,{"data-href":C.href,"data-precedence":C.precedence,href:null,precedence:null});return k=(f.ownerDocument||f).createElement("style"),xi(k),lo(k,"style",U),bC(k,C.precedence,f),p.instance=k;case"stylesheet":U=e1(C.href);var q=f.querySelector(_x(U));if(q)return p.state.loading|=4,p.instance=q,xi(q),q;k=mM(C),(U=zl.get(U))&&FT(k,U),q=(f.ownerDocument||f).createElement("link"),xi(q);var se=q;return se._p=new Promise(function(xe,je){se.onload=xe,se.onerror=je}),lo(q,"link",k),p.state.loading|=4,bC(q,C.precedence,f),p.instance=q;case"script":return q=t1(C.src),(U=f.querySelector(Tx(q)))?(p.instance=U,xi(U),U):(k=C,(U=zl.get(q))&&(k=h({},C),BT(k,U)),f=f.ownerDocument||f,U=f.createElement("script"),xi(U),lo(U,"link",k),f.head.appendChild(U),p.instance=U);case"void":return null;default:throw Error(a(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(k=p.instance,p.state.loading|=4,bC(k,C.precedence,f));return p.instance}function bC(f,p,C){for(var k=C.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),U=k.length?k[k.length-1]:null,q=U,se=0;se<k.length;se++){var xe=k[se];if(xe.dataset.precedence===p)q=xe;else if(q!==U)break}q?q.parentNode.insertBefore(f,q.nextSibling):(p=C.nodeType===9?C.head:C,p.insertBefore(f,p.firstChild))}function FT(f,p){f.crossOrigin==null&&(f.crossOrigin=p.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=p.referrerPolicy),f.title==null&&(f.title=p.title)}function BT(f,p){f.crossOrigin==null&&(f.crossOrigin=p.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=p.referrerPolicy),f.integrity==null&&(f.integrity=p.integrity)}var yC=null;function bM(f,p,C){if(yC===null){var k=new Map,U=yC=new Map;U.set(C,k)}else U=yC,k=U.get(C),k||(k=new Map,U.set(C,k));if(k.has(f))return k;for(k.set(f,null),C=C.getElementsByTagName(f),U=0;U<C.length;U++){var q=C[U];if(!(q[Fs]||q[xa]||f==="link"&&q.getAttribute("rel")==="stylesheet")&&q.namespaceURI!=="http://www.w3.org/2000/svg"){var se=q.getAttribute(p)||"";se=f+se;var xe=k.get(se);xe?xe.push(q):k.set(se,[q])}}return k}function yM(f,p,C){f=f.ownerDocument||f,f.head.insertBefore(C,p==="title"?f.querySelector("head > title"):null)}function hoe(f,p,C){if(C===1||p.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return f=p.disabled,typeof p.precedence=="string"&&f==null;default:return!0}case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function xM(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}function poe(f,p,C,k){if(C.type==="stylesheet"&&(typeof k.media!="string"||matchMedia(k.media).matches!==!1)&&(C.state.loading&4)===0){if(C.instance===null){var U=e1(k.href),q=p.querySelector(_x(U));if(q){p=q._p,p!==null&&typeof p=="object"&&typeof p.then=="function"&&(f.count++,f=xC.bind(f),p.then(f,f)),C.state.loading|=4,C.instance=q,xi(q);return}q=p.ownerDocument||p,k=mM(k),(U=zl.get(U))&&FT(k,U),q=q.createElement("link"),xi(q);var se=q;se._p=new Promise(function(xe,je){se.onload=xe,se.onerror=je}),lo(q,"link",k),C.instance=q}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(C,p),(p=C.state.preload)&&(C.state.loading&3)===0&&(f.count++,C=xC.bind(f),p.addEventListener("load",C),p.addEventListener("error",C))}}var HT=0;function moe(f,p){return f.stylesheets&&f.count===0&&SC(f,f.stylesheets),0<f.count||0<f.imgCount?function(C){var k=setTimeout(function(){if(f.stylesheets&&SC(f,f.stylesheets),f.unsuspend){var q=f.unsuspend;f.unsuspend=null,q()}},6e4+p);0<f.imgBytes&&HT===0&&(HT=62500*Kre());var U=setTimeout(function(){if(f.waitingForImages=!1,f.count===0&&(f.stylesheets&&SC(f,f.stylesheets),f.unsuspend)){var q=f.unsuspend;f.unsuspend=null,q()}},(f.imgBytes>HT?50:800)+p);return f.unsuspend=C,function(){f.unsuspend=null,clearTimeout(k),clearTimeout(U)}}:null}function xC(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)SC(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var vC=null;function SC(f,p){f.stylesheets=null,f.unsuspend!==null&&(f.count++,vC=new Map,p.forEach(goe,f),vC=null,xC.call(f))}function goe(f,p){if(!(p.state.loading&4)){var C=vC.get(f);if(C)var k=C.get(null);else{C=new Map,vC.set(f,C);for(var U=f.querySelectorAll("link[data-precedence],style[data-precedence]"),q=0;q<U.length;q++){var se=U[q];(se.nodeName==="LINK"||se.getAttribute("media")!=="not all")&&(C.set(se.dataset.precedence,se),k=se)}k&&C.set(null,k)}U=p.instance,se=U.getAttribute("data-precedence"),q=C.get(se)||k,q===k&&C.set(null,U),C.set(se,U),this.count++,k=xC.bind(this),U.addEventListener("load",k),U.addEventListener("error",k),q?q.parentNode.insertBefore(U,q.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(U,f.firstChild)),p.state.loading|=4}}var Ex={$$typeof:T,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function boe(f,p,C,k,U,q,se,xe,je){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rn(0),this.hiddenUpdates=Rn(null),this.identifierPrefix=k,this.onUncaughtError=U,this.onCaughtError=q,this.onRecoverableError=se,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=je,this.incompleteTransitions=new Map}function vM(f,p,C,k,U,q,se,xe,je,Xe,ct,gt){return f=new boe(f,p,C,se,je,Xe,ct,gt,xe),p=1,q===!0&&(p|=24),q=li(3,null,null,p),f.current=q,q.stateNode=f,p=Iy(),p.refCount++,f.pooledCache=p,p.refCount++,q.memoizedState={element:k,isDehydrated:C,cache:p},Jp(q),f}function SM(f){return f?(f=du,f):du}function CM(f,p,C,k,U,q){U=SM(U),k.context===null?k.context=U:k.pendingContext=U,k=_c(p),k.payload={element:C},q=q===void 0?null:q,q!==null&&(k.callback=q),C=xu(f,k,p),C!==null&&(Pn(C,f,p),vu(C,f,p))}function wM(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var C=f.retryLane;f.retryLane=C!==0&&C<p?C:p}}function $T(f,p){wM(f,p),(f=f.alternate)&&wM(f,p)}function _M(f){if(f.tag===13||f.tag===31){var p=eo(f,67108864);p!==null&&Pn(p,f,67108864),$T(f,67108864)}}function TM(f){if(f.tag===13||f.tag===31){var p=qo();p=fa(p);var C=eo(f,p);C!==null&&Pn(C,f,p),$T(f,p)}}var CC=!0;function yoe(f,p,C,k){var U=F.T;F.T=null;var q=G.p;try{G.p=2,UT(f,p,C,k)}finally{G.p=q,F.T=U}}function xoe(f,p,C,k){var U=F.T;F.T=null;var q=G.p;try{G.p=8,UT(f,p,C,k)}finally{G.p=q,F.T=U}}function UT(f,p,C,k){if(CC){var U=GT(k);if(U===null)kT(f,p,k,wC,C),AM(f,k);else if(Soe(U,f,p,C,k))k.stopPropagation();else if(AM(f,k),p&4&&-1<voe.indexOf(f)){for(;U!==null;){var q=dl(U);if(q!==null)switch(q.tag){case 3:if(q=q.stateNode,q.current.memoizedState.isDehydrated){var se=Ht(q.pendingLanes);if(se!==0){var xe=q;for(xe.pendingLanes|=2,xe.entangledLanes|=2;se;){var je=1<<31-bt(se);xe.entanglements[1]|=je,se&=~je}Ct(q),(tn&6)===0&&(Mi=Ee()+500,Vt(0))}}break;case 31:case 13:xe=eo(q,2),xe!==null&&Pn(xe,q,2),Ws(),$T(q,2)}if(q=GT(k),q===null&&kT(f,p,k,wC,C),q===U)break;U=q}U!==null&&k.stopPropagation()}else kT(f,p,k,null,C)}}function GT(f){return f=Zg(f),qT(f)}var wC=null;function qT(f){if(wC=null,f=pc(f),f!==null){var p=r(f);if(p===null)f=null;else{var C=p.tag;if(C===13){if(f=o(p),f!==null)return f;f=null}else if(C===31){if(f=s(p),f!==null)return f;f=null}else if(C===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;f=null}else p!==f&&(f=null)}}return wC=f,null}function EM(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ne()){case ve:return 2;case we:return 8;case Oe:case Le:return 32;case We:return 268435456;default:return 32}default:return 32}}var WT=!1,vh=null,Sh=null,Ch=null,Ax=new Map,Rx=new Map,wh=[],voe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function AM(f,p){switch(f){case"focusin":case"focusout":vh=null;break;case"dragenter":case"dragleave":Sh=null;break;case"mouseover":case"mouseout":Ch=null;break;case"pointerover":case"pointerout":Ax.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rx.delete(p.pointerId)}}function kx(f,p,C,k,U,q){return f===null||f.nativeEvent!==q?(f={blockedOn:p,domEventName:C,eventSystemFlags:k,nativeEvent:q,targetContainers:[U]},p!==null&&(p=dl(p),p!==null&&_M(p)),f):(f.eventSystemFlags|=k,p=f.targetContainers,U!==null&&p.indexOf(U)===-1&&p.push(U),f)}function Soe(f,p,C,k,U){switch(p){case"focusin":return vh=kx(vh,f,p,C,k,U),!0;case"dragenter":return Sh=kx(Sh,f,p,C,k,U),!0;case"mouseover":return Ch=kx(Ch,f,p,C,k,U),!0;case"pointerover":var q=U.pointerId;return Ax.set(q,kx(Ax.get(q)||null,f,p,C,k,U)),!0;case"gotpointercapture":return q=U.pointerId,Rx.set(q,kx(Rx.get(q)||null,f,p,C,k,U)),!0}return!1}function RM(f){var p=pc(f.target);if(p!==null){var C=r(p);if(C!==null){if(p=C.tag,p===13){if(p=o(C),p!==null){f.blockedOn=p,Ka(f.priority,function(){TM(C)});return}}else if(p===31){if(p=s(C),p!==null){f.blockedOn=p,Ka(f.priority,function(){TM(C)});return}}else if(p===3&&C.stateNode.current.memoizedState.isDehydrated){f.blockedOn=C.tag===3?C.stateNode.containerInfo:null;return}}}f.blockedOn=null}function _C(f){if(f.blockedOn!==null)return!1;for(var p=f.targetContainers;0<p.length;){var C=GT(f.nativeEvent);if(C===null){C=f.nativeEvent;var k=new C.constructor(C.type,C);Qg=k,C.target.dispatchEvent(k),Qg=null}else return p=dl(C),p!==null&&_M(p),f.blockedOn=C,!1;p.shift()}return!0}function kM(f,p,C){_C(f)&&C.delete(p)}function Coe(){WT=!1,vh!==null&&_C(vh)&&(vh=null),Sh!==null&&_C(Sh)&&(Sh=null),Ch!==null&&_C(Ch)&&(Ch=null),Ax.forEach(kM),Rx.forEach(kM)}function TC(f,p){f.blockedOn===p&&(f.blockedOn=null,WT||(WT=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Coe)))}var EC=null;function IM(f){EC!==f&&(EC=f,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){EC===f&&(EC=null);for(var p=0;p<f.length;p+=3){var C=f[p],k=f[p+1],U=f[p+2];if(typeof k!="function"){if(qT(k||C)===null)continue;break}var q=dl(C);q!==null&&(f.splice(p,3),p-=3,ax(q,{pending:!0,data:U,method:C.method,action:k},k,U))}}))}function n1(f){function p(je){return TC(je,f)}vh!==null&&TC(vh,f),Sh!==null&&TC(Sh,f),Ch!==null&&TC(Ch,f),Ax.forEach(p),Rx.forEach(p);for(var C=0;C<wh.length;C++){var k=wh[C];k.blockedOn===f&&(k.blockedOn=null)}for(;0<wh.length&&(C=wh[0],C.blockedOn===null);)RM(C),C.blockedOn===null&&wh.shift();if(C=(f.ownerDocument||f).$$reactFormReplay,C!=null)for(k=0;k<C.length;k+=3){var U=C[k],q=C[k+1],se=U[Ma]||null;if(typeof q=="function")se||IM(C);else if(se){var xe=null;if(q&&q.hasAttribute("formAction")){if(U=q,se=q[Ma]||null)xe=se.formAction;else if(qT(U)!==null)continue}else xe=se.action;typeof xe=="function"?C[k+1]=xe:(C.splice(k,3),k-=3),IM(C)}}}function NM(){function f(q){q.canIntercept&&q.info==="react-transition"&&q.intercept({handler:function(){return new Promise(function(se){return U=se})},focusReset:"manual",scroll:"manual"})}function p(){U!==null&&(U(),U=null),k||setTimeout(C,20)}function C(){if(!k&&!navigation.transition){var q=navigation.currentEntry;q&&q.url!=null&&navigation.navigate(q.url,{state:q.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var k=!1,U=null;return navigation.addEventListener("navigate",f),navigation.addEventListener("navigatesuccess",p),navigation.addEventListener("navigateerror",p),setTimeout(C,100),function(){k=!0,navigation.removeEventListener("navigate",f),navigation.removeEventListener("navigatesuccess",p),navigation.removeEventListener("navigateerror",p),U!==null&&(U(),U=null)}}}function VT(f){this._internalRoot=f}AC.prototype.render=VT.prototype.render=function(f){var p=this._internalRoot;if(p===null)throw Error(a(409));var C=p.current,k=qo();CM(C,k,f,p,null,null)},AC.prototype.unmount=VT.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var p=f.containerInfo;CM(f.current,2,null,f,null,null),Ws(),p[wr]=null}};function AC(f){this._internalRoot=f}AC.prototype.unstable_scheduleHydration=function(f){if(f){var p=Ra();f={blockedOn:null,target:f,priority:p};for(var C=0;C<wh.length&&p!==0&&p<wh[C].priority;C++);wh.splice(C,0,f),C===0&&RM(f)}};var jM=e.version;if(jM!=="19.2.0")throw Error(a(527,jM,"19.2.0"));G.findDOMNode=function(f){var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(a(188)):(f=Object.keys(f).join(","),Error(a(268,f)));return f=u(p),f=f!==null?d(f):null,f=f===null?null:f.stateNode,f};var woe={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var RC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!RC.isDisabled&&RC.supportsFiber)try{rt=RC.inject(woe),at=RC}catch{}}return Nx.createRoot=function(f,p){if(!i(f))throw Error(a(299));var C=!1,k="",U=rC,q=cx,se=ux;return p!=null&&(p.unstable_strictMode===!0&&(C=!0),p.identifierPrefix!==void 0&&(k=p.identifierPrefix),p.onUncaughtError!==void 0&&(U=p.onUncaughtError),p.onCaughtError!==void 0&&(q=p.onCaughtError),p.onRecoverableError!==void 0&&(se=p.onRecoverableError)),p=vM(f,1,!1,null,null,C,k,null,U,q,se,NM),f[wr]=p.current,RT(f),new VT(p)},Nx.hydrateRoot=function(f,p,C){if(!i(f))throw Error(a(299));var k=!1,U="",q=rC,se=cx,xe=ux,je=null;return C!=null&&(C.unstable_strictMode===!0&&(k=!0),C.identifierPrefix!==void 0&&(U=C.identifierPrefix),C.onUncaughtError!==void 0&&(q=C.onUncaughtError),C.onCaughtError!==void 0&&(se=C.onCaughtError),C.onRecoverableError!==void 0&&(xe=C.onRecoverableError),C.formState!==void 0&&(je=C.formState)),p=vM(f,1,!0,p,C??null,k,U,je,q,se,xe,NM),p.context=SM(null),C=p.current,k=qo(),k=fa(k),U=_c(k),U.callback=null,xu(C,U,k),C=k,p.current.lanes=C,Et(p,C),Ct(p),f[wr]=p.current,RT(f),new AC(p)},Nx.version="19.2.0",Nx}var $M;function joe(){if($M)return XT.exports;$M=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),XT.exports=Noe(),XT.exports}var Doe=joe(),eE={exports:{}},tE={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UM;function Ooe(){if(UM)return tE;UM=1;var t=Eg().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return tE.c=function(e){return t.H.useMemoCache(e)},tE}var GM;function Moe(){return GM||(GM=1,eE.exports=Ooe()),eE.exports}var yt=Moe();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qM="popstate";function Poe(t={}){function e(i,r){let{pathname:o="/",search:s="",hash:c=""}=Ag(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),RI("",{pathname:o,search:s,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){let o=i.document.querySelector("base"),s="";if(o&&o.getAttribute("href")){let c=i.location.href,u=c.indexOf("#");s=u===-1?c:c.slice(0,u)}return s+"#"+(typeof r=="string"?r:u2(r))}function a(i,r){al(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(r)})`)}return zoe(e,n,a,t)}function Ii(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function al(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Loe(){return Math.random().toString(36).substring(2,10)}function WM(t,e){return{usr:t.state,key:t.key,idx:e}}function RI(t,e,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ag(e):e,state:n,key:e&&e.key||a||Loe()}}function u2({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ag(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function zoe(t,e,n,a={}){let{window:i=document.defaultView,v5Compat:r=!1}=a,o=i.history,s="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function h(){s="POP";let S=d(),w=S==null?null:S-u;u=S,c&&c({action:s,location:v.location,delta:w})}function m(S,w){s="PUSH";let _=RI(v.location,S,w);n&&n(_,S),u=d()+1;let T=WM(_,u),A=v.createHref(_);try{o.pushState(T,"",A)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(A)}r&&c&&c({action:s,location:v.location,delta:1})}function g(S,w){s="REPLACE";let _=RI(v.location,S,w);n&&n(_,S),u=d();let T=WM(_,u),A=v.createHref(_);o.replaceState(T,"",A),r&&c&&c({action:s,location:v.location,delta:0})}function y(S){return Foe(S)}let v={get action(){return s},get location(){return t(i,o)},listen(S){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(qM,h),c=S,()=>{i.removeEventListener(qM,h),c=null}},createHref(S){return e(i,S)},createURL:y,encodeLocation(S){let w=y(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:g,go(S){return o.go(S)}};return v}function Foe(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ii(n,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:u2(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function rK(t,e,n="/"){return Boe(t,e,n,!1)}function Boe(t,e,n,a){let i=typeof e=="string"?Ag(e):e,r=mf(i.pathname||"/",n);if(r==null)return null;let o=oK(t);Hoe(o);let s=null;for(let c=0;s==null&&c<o.length;++c){let u=Zoe(r);s=Xoe(o[c],u,a)}return s}function oK(t,e=[],n=[],a="",i=!1){let r=(o,s,c=i,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(a)&&c)return;Ii(d.relativePath.startsWith(a),`Absolute route path "${d.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(a.length)}let h=ff([a,d.relativePath]),m=n.concat(d);o.children&&o.children.length>0&&(Ii(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),oK(o.children,e,m,h,c)),!(o.path==null&&!o.index)&&e.push({path:h,score:Yoe(h,o.index),routesMeta:m})};return t.forEach((o,s)=>{if(o.path===""||!o.path?.includes("?"))r(o,s);else for(let c of sK(o.path))r(o,s,!0,c)}),e}function sK(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,i=n.endsWith("?"),r=n.replace(/\?$/,"");if(a.length===0)return i?[r,""]:[r];let o=sK(a.join("/")),s=[];return s.push(...o.map(c=>c===""?r:[r,c].join("/"))),i&&s.push(...o),s.map(c=>t.startsWith("/")&&c===""?"/":c)}function Hoe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Koe(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var $oe=/^:[\w-]+$/,Uoe=3,Goe=2,qoe=1,Woe=10,Voe=-2,VM=t=>t==="*";function Yoe(t,e){let n=t.split("/"),a=n.length;return n.some(VM)&&(a+=Voe),e&&(a+=Goe),n.filter(i=>!VM(i)).reduce((i,r)=>i+($oe.test(r)?Uoe:r===""?qoe:Woe),a)}function Koe(t,e){return t.length===e.length&&t.slice(0,-1).every((a,i)=>a===e[i])?t[t.length-1]-e[e.length-1]:0}function Xoe(t,e,n=!1){let{routesMeta:a}=t,i={},r="/",o=[];for(let s=0;s<a.length;++s){let c=a[s],u=s===a.length-1,d=r==="/"?e:e.slice(r.length)||"/",h=g4({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h&&u&&n&&!a[a.length-1].route.index&&(h=g4({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:ff([r,h.pathname]),pathnameBase:nse(ff([r,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(r=ff([r,h.pathnameBase]))}return o}function g4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=Qoe(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let r=i[0],o=r.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:a.reduce((u,{paramName:d,isOptional:h},m)=>{if(d==="*"){let y=s[m]||"";o=r.slice(0,r.length-y.length).replace(/(.)\/+$/,"$1")}const g=s[m];return h&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:r,pathnameBase:o,pattern:t}}function Qoe(t,e=!1,n=!0){al(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,c)=>(a.push({paramName:s,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function Zoe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return al(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function mf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function Joe(t,e="/"){let{pathname:n,search:a="",hash:i=""}=typeof t=="string"?Ag(t):t;return{pathname:n?n.startsWith("/")?n:ese(n,e):e,search:ase(a),hash:ise(i)}}function ese(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function nE(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tse(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ZN(t){let e=tse(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function JN(t,e,n,a=!1){let i;typeof t=="string"?i=Ag(t):(i={...t},Ii(!i.pathname||!i.pathname.includes("?"),nE("?","pathname","search",i)),Ii(!i.pathname||!i.pathname.includes("#"),nE("#","pathname","hash",i)),Ii(!i.search||!i.search.includes("#"),nE("#","search","hash",i)));let r=t===""||i.pathname==="",o=r?"/":i.pathname,s;if(o==null)s=n;else{let h=e.length-1;if(!a&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}s=h>=0?e[h]:"/"}let c=Joe(i,s),u=o&&o!=="/"&&o.endsWith("/"),d=(r||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var ff=t=>t.join("/").replace(/\/\/+/g,"/"),nse=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ase=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ise=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var lK=["POST","PUT","PATCH","DELETE"];new Set(lK);var ose=["GET",...lK];new Set(ose);var Tb=E.createContext(null);Tb.displayName="DataRouter";var T_=E.createContext(null);T_.displayName="DataRouterState";E.createContext(!1);var cK=E.createContext({isTransitioning:!1});cK.displayName="ViewTransition";var sse=E.createContext(new Map);sse.displayName="Fetchers";var lse=E.createContext(null);lse.displayName="Await";var Kc=E.createContext(null);Kc.displayName="Navigation";var Z2=E.createContext(null);Z2.displayName="Location";var Xc=E.createContext({outlet:null,matches:[],isDataRoute:!1});Xc.displayName="Route";var ej=E.createContext(null);ej.displayName="RouteError";function cse(t,{relative:e}={}){Ii(Eb(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=E.useContext(Kc),{hash:i,pathname:r,search:o}=J2(t,{relative:e}),s=r;return n!=="/"&&(s=r==="/"?n:ff([n,r])),a.createHref({pathname:s,search:o,hash:i})}function Eb(){return E.useContext(Z2)!=null}function sd(){return Ii(Eb(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Z2).location}var uK="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dK(t){E.useContext(Kc).static||E.useLayoutEffect(t)}function Tf(){let{isDataRoute:t}=E.useContext(Xc);return t?Cse():use()}function use(){Ii(Eb(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Tb),{basename:e,navigator:n}=E.useContext(Kc),{matches:a}=E.useContext(Xc),{pathname:i}=sd(),r=JSON.stringify(ZN(a)),o=E.useRef(!1);return dK(()=>{o.current=!0}),E.useCallback((c,u={})=>{if(al(o.current,uK),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=JN(c,JSON.parse(r),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ff([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,r,i,t])}E.createContext(null);function tj(){let{matches:t}=E.useContext(Xc),e=t[t.length-1];return e?e.params:{}}function J2(t,{relative:e}={}){let{matches:n}=E.useContext(Xc),{pathname:a}=sd(),i=JSON.stringify(ZN(n));return E.useMemo(()=>JN(t,JSON.parse(i),a,e==="path"),[t,i,a,e])}function dse(t,e){return fK(t,e)}function fK(t,e,n,a,i){Ii(Eb(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=E.useContext(Kc),{matches:o}=E.useContext(Xc),s=o[o.length-1],c=s?s.params:{},u=s?s.pathname:"/",d=s?s.pathnameBase:"/",h=s&&s.route;{let _=h&&h.path||"";hK(u,!h||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let m=sd(),g;if(e){let _=typeof e=="string"?Ag(e):e;Ii(d==="/"||_.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${_.pathname}" was given in the \`location\` prop.`),g=_}else g=m;let y=g.pathname||"/",v=y;if(d!=="/"){let _=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let S=rK(t,{pathname:v});al(h||S!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),al(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=gse(S&&S.map(_=>Object.assign({},_,{params:Object.assign({},c,_.params),pathname:ff([d,r.encodeLocation?r.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?d:ff([d,r.encodeLocation?r.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),o,n,a,i);return e&&w?E.createElement(Z2.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function fse(){let t=Sse(),e=rse(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},r={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:r},"ErrorBoundary")," or"," ",E.createElement("code",{style:r},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,o)}var hse=E.createElement(fse,null),pse=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?E.createElement(Xc.Provider,{value:this.props.routeContext},E.createElement(ej.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mse({routeContext:t,match:e,children:n}){let a=E.useContext(Tb);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Xc.Provider,{value:t},n)}function gse(t,e=[],n=null,a=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,o=n?.errors;if(o!=null){let u=r.findIndex(d=>d.route.id&&o?.[d.route.id]!==void 0);Ii(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,u+1))}let s=!1,c=-1;if(n)for(let u=0;u<r.length;u++){let d=r[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:m}=n,g=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||g){s=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((u,d,h)=>{let m,g=!1,y=null,v=null;n&&(m=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||hse,s&&(c<0&&h===0?(hK("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):c===h&&(g=!0,v=d.route.hydrateFallbackElement||null)));let S=e.concat(r.slice(0,h+1)),w=()=>{let _;return m?_=y:g?_=v:d.route.Component?_=E.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,E.createElement(mse,{match:d,routeContext:{outlet:u,matches:S,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?E.createElement(pse,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:w(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:a}):w()},null)}function nj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bse(t){let e=E.useContext(Tb);return Ii(e,nj(t)),e}function yse(t){let e=E.useContext(T_);return Ii(e,nj(t)),e}function xse(t){let e=E.useContext(Xc);return Ii(e,nj(t)),e}function aj(t){let e=xse(t),n=e.matches[e.matches.length-1];return Ii(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function vse(){return aj("useRouteId")}function Sse(){let t=E.useContext(ej),e=yse("useRouteError"),n=aj("useRouteError");return t!==void 0?t:e.errors?.[n]}function Cse(){let{router:t}=bse("useNavigate"),e=aj("useNavigate"),n=E.useRef(!1);return dK(()=>{n.current=!0}),E.useCallback(async(i,r={})=>{al(n.current,uK),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...r}))},[t,e])}var YM={};function hK(t,e,n){!e&&!YM[t]&&(YM[t]=!0,al(!1,n))}E.memo(wse);function wse({routes:t,future:e,state:n,unstable_onError:a}){return fK(t,void 0,n,a,e)}function _se({to:t,replace:e,state:n,relative:a}){Ii(Eb(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(Kc);al(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=E.useContext(Xc),{pathname:o}=sd(),s=Tf(),c=JN(t,ZN(r),o,a==="path"),u=JSON.stringify(c);return E.useEffect(()=>{s(JSON.parse(u),{replace:e,state:n,relative:a})},[s,u,a,e,n]),null}function Vo(t){Ii(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Tse({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:i,static:r=!1}){Ii(!Eb(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),s=E.useMemo(()=>({basename:o,navigator:i,static:r,future:{}}),[o,i,r]);typeof n=="string"&&(n=Ag(n));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:m="default"}=n,g=E.useMemo(()=>{let y=mf(c,o);return y==null?null:{location:{pathname:y,search:u,hash:d,state:h,key:m},navigationType:a}},[o,c,u,d,h,m,a]);return al(g!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:E.createElement(Kc.Provider,{value:s},E.createElement(Z2.Provider,{children:e,value:g}))}function KM({children:t,location:e}){return dse(kI(t),e)}function kI(t,e=[]){let n=[];return E.Children.forEach(t,(a,i)=>{if(!E.isValidElement(a))return;let r=[...e,i];if(a.type===E.Fragment){n.push.apply(n,kI(a.props.children,r));return}Ii(a.type===Vo,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ii(!a.props.index||!a.props.children,"An index route cannot have child routes.");let o={id:a.props.id||r.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=kI(a.props.children,r)),n.push(o)}),n}var Gw="get",qw="application/x-www-form-urlencoded";function E_(t){return t!=null&&typeof t.tagName=="string"}function Ese(t){return E_(t)&&t.tagName.toLowerCase()==="button"}function Ase(t){return E_(t)&&t.tagName.toLowerCase()==="form"}function Rse(t){return E_(t)&&t.tagName.toLowerCase()==="input"}function kse(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ise(t,e){return t.button===0&&(!e||e==="_self")&&!kse(t)}function II(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let a=t[n];return e.concat(Array.isArray(a)?a.map(i=>[n,i]):[[n,a]])},[]))}function Nse(t,e){let n=II(t);return e&&e.forEach((a,i)=>{n.has(i)||e.getAll(i).forEach(r=>{n.append(i,r)})}),n}var IC=null;function jse(){if(IC===null)try{new FormData(document.createElement("form"),0),IC=!1}catch{IC=!0}return IC}var Dse=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function aE(t){return t!=null&&!Dse.has(t)?(al(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qw}"`),null):t}function Ose(t,e){let n,a,i,r,o;if(Ase(t)){let s=t.getAttribute("action");a=s?mf(s,e):null,n=t.getAttribute("method")||Gw,i=aE(t.getAttribute("enctype"))||qw,r=new FormData(t)}else if(Ese(t)||Rse(t)&&(t.type==="submit"||t.type==="image")){let s=t.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||s.getAttribute("action");if(a=c?mf(c,e):null,n=t.getAttribute("formmethod")||s.getAttribute("method")||Gw,i=aE(t.getAttribute("formenctype"))||aE(s.getAttribute("enctype"))||qw,r=new FormData(s,t),!jse()){let{name:u,type:d,value:h}=t;if(d==="image"){let m=u?`${u}.`:"";r.append(`${m}x`,"0"),r.append(`${m}y`,"0")}else u&&r.append(u,h)}}else{if(E_(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gw,a=null,i=qw,o=t}return r&&i==="text/plain"&&(o=r,r=void 0),{action:a,method:n.toLowerCase(),encType:i,formData:r,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ij(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mse(t,e,n){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&mf(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function Pse(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Lse(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function zse(t,e,n){let a=await Promise.all(t.map(async i=>{let r=e.routes[i.route.id];if(r){let o=await Pse(r,n);return o.links?o.links():[]}return[]}));return $se(a.flat(1).filter(Lse).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function XM(t,e,n,a,i,r){let o=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,s=(c,u)=>n[u].pathname!==c.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==c.params["*"];return r==="assets"?e.filter((c,u)=>o(c,u)||s(c,u)):r==="data"?e.filter((c,u)=>{let d=a.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||s(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Fse(t,e,{includeHydrateFallback:n}={}){return Bse(t.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let r=[i.module];return i.clientActionModule&&(r=r.concat(i.clientActionModule)),i.clientLoaderModule&&(r=r.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(r=r.concat(i.hydrateFallbackModule)),i.imports&&(r=r.concat(i.imports)),r}).flat(1))}function Bse(t){return[...new Set(t)]}function Hse(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function $se(t,e){let n=new Set;return new Set(e),t.reduce((a,i)=>{let r=JSON.stringify(Hse(i));return n.has(r)||(n.add(r),a.push({key:r,link:i})),a},[])}function pK(){let t=E.useContext(Tb);return ij(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Use(){let t=E.useContext(T_);return ij(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var rj=E.createContext(void 0);rj.displayName="FrameworkContext";function mK(){let t=E.useContext(rj);return ij(t,"You must render this element inside a <HydratedRouter> element"),t}function Gse(t,e){let n=E.useContext(rj),[a,i]=E.useState(!1),[r,o]=E.useState(!1),{onFocus:s,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,m=E.useRef(null);E.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let v=w=>{w.forEach(_=>{o(_.isIntersecting)})},S=new IntersectionObserver(v,{threshold:.5});return m.current&&S.observe(m.current),()=>{S.disconnect()}}},[t]),E.useEffect(()=>{if(a){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[a]);let g=()=>{i(!0)},y=()=>{i(!1),o(!1)};return n?t!=="intent"?[r,m,{}]:[r,m,{onFocus:jx(s,g),onBlur:jx(c,y),onMouseEnter:jx(u,g),onMouseLeave:jx(d,y),onTouchStart:jx(h,g)}]:[!1,m,{}]}function jx(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function qse({page:t,...e}){let{router:n}=pK(),a=E.useMemo(()=>rK(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?E.createElement(Vse,{page:t,matches:a,...e}):null}function Wse(t){let{manifest:e,routeModules:n}=mK(),[a,i]=E.useState([]);return E.useEffect(()=>{let r=!1;return zse(t,e,n).then(o=>{r||i(o)}),()=>{r=!0}},[t,e,n]),a}function Vse({page:t,matches:e,...n}){let a=sd(),{manifest:i,routeModules:r}=mK(),{basename:o}=pK(),{loaderData:s,matches:c}=Use(),u=E.useMemo(()=>XM(t,e,c,i,a,"data"),[t,e,c,i,a]),d=E.useMemo(()=>XM(t,e,c,i,a,"assets"),[t,e,c,i,a]),h=E.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let y=new Set,v=!1;if(e.forEach(w=>{let _=i.routes[w.route.id];!_||!_.hasLoader||(!u.some(T=>T.route.id===w.route.id)&&w.route.id in s&&r[w.route.id]?.shouldRevalidate||_.hasClientLoader?v=!0:y.add(w.route.id))}),y.size===0)return[];let S=Mse(t,o,"data");return v&&y.size>0&&S.searchParams.set("_routes",e.filter(w=>y.has(w.route.id)).map(w=>w.route.id).join(",")),[S.pathname+S.search]},[o,s,a,i,u,e,t,r]),m=E.useMemo(()=>Fse(d,i),[d,i]),g=Wse(d);return E.createElement(E.Fragment,null,h.map(y=>E.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),m.map(y=>E.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),g.map(({key:y,link:v})=>E.createElement("link",{key:y,nonce:n.nonce,...v})))}function Yse(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var gK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gK&&(window.__reactRouterVersion="7.9.3")}catch{}function Kse({basename:t,children:e,window:n}){let a=E.useRef();a.current==null&&(a.current=Poe({window:n,v5Compat:!0}));let i=a.current,[r,o]=E.useState({action:i.action,location:i.location}),s=E.useCallback(c=>{E.startTransition(()=>o(c))},[o]);return E.useLayoutEffect(()=>i.listen(s),[i,s]),E.createElement(Tse,{basename:t,children:e,location:r.location,navigationType:r.action,navigator:i})}var bK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,b4=E.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:i,reloadDocument:r,replace:o,state:s,target:c,to:u,preventScrollReset:d,viewTransition:h,...m},g){let{basename:y}=E.useContext(Kc),v=typeof u=="string"&&bK.test(u),S,w=!1;if(typeof u=="string"&&v&&(S=u,gK))try{let O=new URL(window.location.href),D=u.startsWith("//")?new URL(O.protocol+u):new URL(u),H=mf(D.pathname,y);D.origin===O.origin&&H!=null?u=H+D.search+D.hash:w=!0}catch{al(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=cse(u,{relative:i}),[T,A,R]=Gse(a,m),I=Jse(u,{replace:o,state:s,target:c,preventScrollReset:d,relative:i,viewTransition:h});function N(O){e&&e(O),O.defaultPrevented||I(O)}let P=E.createElement("a",{...m,...R,href:S||_,onClick:w||r?e:N,ref:Yse(g,A),target:c,"data-discover":!v&&n==="render"?"true":void 0});return T&&!v?E.createElement(E.Fragment,null,P,E.createElement(qse,{page:_})):P});b4.displayName="Link";var Xse=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:i=!1,style:r,to:o,viewTransition:s,children:c,...u},d){let h=J2(o,{relative:u.relative}),m=sd(),g=E.useContext(T_),{navigator:y,basename:v}=E.useContext(Kc),S=g!=null&&rle(h)&&s===!0,w=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,_=m.pathname,T=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(_=_.toLowerCase(),T=T?T.toLowerCase():null,w=w.toLowerCase()),T&&v&&(T=mf(T,v)||T);const A=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let R=_===w||!i&&_.startsWith(w)&&_.charAt(A)==="/",I=T!=null&&(T===w||!i&&T.startsWith(w)&&T.charAt(w.length)==="/"),N={isActive:R,isPending:I,isTransitioning:S},P=R?e:void 0,O;typeof a=="function"?O=a(N):O=[a,R?"active":null,I?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let D=typeof r=="function"?r(N):r;return E.createElement(b4,{...u,"aria-current":P,className:O,ref:d,style:D,to:o,viewTransition:s},typeof c=="function"?c(N):c)});Xse.displayName="NavLink";var Qse=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:i,state:r,method:o=Gw,action:s,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...m},g)=>{let y=ale(),v=ile(s,{relative:u}),S=o.toLowerCase()==="get"?"get":"post",w=typeof s=="string"&&bK.test(s),_=T=>{if(c&&c(T),T.defaultPrevented)return;T.preventDefault();let A=T.nativeEvent.submitter,R=A?.getAttribute("formmethod")||o;y(A||T.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:i,state:r,relative:u,preventScrollReset:d,viewTransition:h})};return E.createElement("form",{ref:g,method:S,action:v,onSubmit:a?c:_,...m,"data-discover":!w&&t==="render"?"true":void 0})});Qse.displayName="Form";function Zse(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yK(t){let e=E.useContext(Tb);return Ii(e,Zse(t)),e}function Jse(t,{target:e,replace:n,state:a,preventScrollReset:i,relative:r,viewTransition:o}={}){let s=Tf(),c=sd(),u=J2(t,{relative:r});return E.useCallback(d=>{if(Ise(d,e)){d.preventDefault();let h=n!==void 0?n:u2(c)===u2(u);s(t,{replace:h,state:a,preventScrollReset:i,relative:r,viewTransition:o})}},[c,s,u,n,a,e,t,i,r,o])}function ele(t){al(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=E.useRef(II(t)),n=E.useRef(!1),a=sd(),i=E.useMemo(()=>Nse(a.search,n.current?null:e.current),[a.search]),r=Tf(),o=E.useCallback((s,c)=>{const u=II(typeof s=="function"?s(new URLSearchParams(i)):s);n.current=!0,r("?"+u,c)},[r,i]);return[i,o]}var tle=0,nle=()=>`__${String(++tle)}__`;function ale(){let{router:t}=yK("useSubmit"),{basename:e}=E.useContext(Kc),n=vse();return E.useCallback(async(a,i={})=>{let{action:r,method:o,encType:s,formData:c,body:u}=Ose(a,e);if(i.navigate===!1){let d=i.fetcherKey||nle();await t.fetch(d,n,i.action||r,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await t.navigate(i.action||r,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function ile(t,{relative:e}={}){let{basename:n}=E.useContext(Kc),a=E.useContext(Xc);Ii(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),r={...J2(t||".",{relative:e})},o=sd();if(t==null){r.search=o.search;let s=new URLSearchParams(r.search),c=s.getAll("index");if(c.some(d=>d==="")){s.delete("index"),c.filter(h=>h).forEach(h=>s.append("index",h));let d=s.toString();r.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:ff([n,r.pathname])),u2(r)}function rle(t,{relative:e}={}){let n=E.useContext(cK);Ii(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=yK("useViewTransitionState"),i=J2(t,{relative:e});if(!n.isTransitioning)return!1;let r=mf(n.currentLocation.pathname,a)||n.currentLocation.pathname,o=mf(n.nextLocation.pathname,a)||n.nextLocation.pathname;return g4(i.pathname,o)!=null||g4(i.pathname,r)!=null}var qh=iK();const NC=_f(qh);var iE={exports:{}},rE,QM;function ole(){if(QM)return rE;QM=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return rE=t,rE}var oE,ZM;function sle(){if(ZM)return oE;ZM=1;var t=ole();function e(){}function n(){}return n.resetWarningCache=e,oE=function(){function a(o,s,c,u,d,h){if(h!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}a.isRequired=a;function i(){return a}var r={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:i,element:a,elementType:a,instanceOf:i,node:a,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return r.PropTypes=r,r},oE}var JM;function lle(){return JM||(JM=1,iE.exports=sle()()),iE.exports}var cle=lle();const qa=_f(cle);function gf(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(a=>n.searchParams.append("args[]",a)),`Minified MUI error #${t}; visit ${n} for the full message.`}function Ge(t){if(typeof t!="string")throw new Error(gf(7));return t.charAt(0).toUpperCase()+t.slice(1)}var sE={exports:{}},Ha={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eP;function ule(){if(eP)return Ha;eP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function y(v){if(typeof v=="object"&&v!==null){var S=v.$$typeof;switch(S){case t:switch(v=v.type,v){case n:case i:case a:case c:case u:case m:return v;default:switch(v=v&&v.$$typeof,v){case o:case s:case h:case d:return v;case r:return v;default:return S}}case e:return S}}}return Ha.ContextConsumer=r,Ha.ContextProvider=o,Ha.Element=t,Ha.ForwardRef=s,Ha.Fragment=n,Ha.Lazy=h,Ha.Memo=d,Ha.Portal=e,Ha.Profiler=i,Ha.StrictMode=a,Ha.Suspense=c,Ha.SuspenseList=u,Ha.isContextConsumer=function(v){return y(v)===r},Ha.isContextProvider=function(v){return y(v)===o},Ha.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},Ha.isForwardRef=function(v){return y(v)===s},Ha.isFragment=function(v){return y(v)===n},Ha.isLazy=function(v){return y(v)===h},Ha.isMemo=function(v){return y(v)===d},Ha.isPortal=function(v){return y(v)===e},Ha.isProfiler=function(v){return y(v)===i},Ha.isStrictMode=function(v){return y(v)===a},Ha.isSuspense=function(v){return y(v)===c},Ha.isSuspenseList=function(v){return y(v)===u},Ha.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===n||v===i||v===a||v===c||v===u||typeof v=="object"&&v!==null&&(v.$$typeof===h||v.$$typeof===d||v.$$typeof===o||v.$$typeof===r||v.$$typeof===s||v.$$typeof===g||v.getModuleId!==void 0)},Ha.typeOf=y,Ha}var tP;function dle(){return tP||(tP=1,sE.exports=ule()),sE.exports}var xK=dle();function Wu(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function vK(t){if(E.isValidElement(t)||xK.isValidElementType(t)||!Wu(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=vK(t[n])}),e}function qr(t,e,n={clone:!0}){const a=n.clone?{...t}:t;return Wu(t)&&Wu(e)&&Object.keys(e).forEach(i=>{E.isValidElement(e[i])||xK.isValidElementType(e[i])?a[i]=e[i]:Wu(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Wu(t[i])?a[i]=qr(t[i],e[i],n):n.clone?a[i]=Wu(e[i])?vK(e[i]):e[i]:a[i]=e[i]}),a}function Ov(t,e){return e?qr(t,e,{clone:!1}):t}function nP(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(a=>a.startsWith("@container")).sort((a,i)=>{const r=/min-width:\s*([0-9.]+)/;return+(a.match(r)?.[1]||0)-+(i.match(r)?.[1]||0)});return n.length?n.reduce((a,i)=>{const r=e[i];return delete a[i],a[i]=r,a},{...e}):e}function fle(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function hle(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,a,i]=n,r=Number.isNaN(+a)?a||0:+a;return t.containerQueries(i).up(r)}function ple(t){const e=(r,o)=>r.replace("@media",o?`@container ${o}`:"@container");function n(r,o){r.up=(...s)=>e(t.breakpoints.up(...s),o),r.down=(...s)=>e(t.breakpoints.down(...s),o),r.between=(...s)=>e(t.breakpoints.between(...s),o),r.only=(...s)=>e(t.breakpoints.only(...s),o),r.not=(...s)=>{const c=e(t.breakpoints.not(...s),o);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const a={},i=r=>(n(a,r),a);return n(i),{...t,containerQueries:i}}const A_={xs:0,sm:600,md:900,lg:1200,xl:1536},aP={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${A_[t]}px)`},mle={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:A_[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Uc(t,e,n){const a=t.theme||{};if(Array.isArray(e)){const r=a.breakpoints||aP;return e.reduce((o,s,c)=>(o[r.up(r.keys[c])]=n(e[c]),o),{})}if(typeof e=="object"){const r=a.breakpoints||aP;return Object.keys(e).reduce((o,s)=>{if(fle(r.keys,s)){const c=hle(a.containerQueries?a:mle,s);c&&(o[c]=n(e[s],s))}else if(Object.keys(r.values||A_).includes(s)){const c=r.up(s);o[c]=n(e[s],s)}else{const c=s;o[c]=e[c]}return o},{})}return n(e)}function SK(t={}){return t.keys?.reduce((n,a)=>{const i=t.up(a);return n[i]={},n},{})||{}}function NI(t,e){return t.reduce((n,a)=>{const i=n[a];return(!i||Object.keys(i).length===0)&&delete n[a],n},e)}function gle(t,...e){const n=SK(t),a=[n,...e].reduce((i,r)=>qr(i,r),{});return NI(Object.keys(n),a)}function ble(t,e){if(typeof t!="object")return{};const n={},a=Object.keys(e);return Array.isArray(t)?a.forEach((i,r)=>{r<t.length&&(n[i]=!0)}):a.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function lE({values:t,breakpoints:e,base:n}){const a=n||ble(t,e),i=Object.keys(a);if(i.length===0)return t;let r;return i.reduce((o,s,c)=>(Array.isArray(t)?(o[s]=t[c]!=null?t[c]:t[r],r=c):typeof t=="object"?(o[s]=t[s]!=null?t[s]:t[r],r=s):o[s]=t,o),{})}function $u(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const a=`vars.${e}`.split(".").reduce((i,r)=>i&&i[r]?i[r]:null,t);if(a!=null)return a}return e.split(".").reduce((a,i)=>a&&a[i]!=null?a[i]:null,t)}function y4(t,e,n,a=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||a:i=$u(t,n)||a,e&&(i=e(i,a,t)),i}function lr(t){const{prop:e,cssProperty:n=t.prop,themeKey:a,transform:i}=t,r=o=>{if(o[e]==null)return null;const s=o[e],c=o.theme,u=$u(c,a)||{};return Uc(o,s,h=>{let m=y4(u,i,h);return h===m&&typeof h=="string"&&(m=y4(u,i,`${e}${h==="default"?"":Ge(h)}`,h)),n===!1?m:{[n]:m}})};return r.propTypes={},r.filterProps=[e],r}function yle(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const xle={m:"margin",p:"padding"},vle={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},iP={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Sle=yle(t=>{if(t.length>2)if(iP[t])t=iP[t];else return[t];const[e,n]=t.split(""),a=xle[e],i=vle[n]||"";return Array.isArray(i)?i.map(r=>a+r):[a+i]}),oj=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],sj=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...oj,...sj];function eS(t,e,n,a){const i=$u(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?r=>typeof r=="string"?r:typeof i=="string"?i.startsWith("var(")&&r===0?0:i.startsWith("var(")&&r===1?i:`calc(${r} * ${i})`:i*r:Array.isArray(i)?r=>{if(typeof r=="string")return r;const o=Math.abs(r),s=i[o];return r>=0?s:typeof s=="number"?-s:typeof s=="string"&&s.startsWith("var(")?`calc(-1 * ${s})`:`-${s}`}:typeof i=="function"?i:()=>{}}function R_(t){return eS(t,"spacing",8)}function lg(t,e){return typeof e=="string"||e==null?e:t(e)}function Cle(t,e){return n=>t.reduce((a,i)=>(a[i]=lg(e,n),a),{})}function wle(t,e,n,a){if(!e.includes(n))return null;const i=Sle(n),r=Cle(i,a),o=t[n];return Uc(t,o,r)}function CK(t,e){const n=R_(t.theme);return Object.keys(t).map(a=>wle(t,e,a,n)).reduce(Ov,{})}function qi(t){return CK(t,oj)}qi.propTypes={};qi.filterProps=oj;function Wi(t){return CK(t,sj)}Wi.propTypes={};Wi.filterProps=sj;function k_(...t){const e=t.reduce((a,i)=>(i.filterProps.forEach(r=>{a[r]=i}),a),{}),n=a=>Object.keys(a).reduce((i,r)=>e[r]?Ov(i,e[r](a)):i,{});return n.propTypes={},n.filterProps=t.reduce((a,i)=>a.concat(i.filterProps),[]),n}function ql(t){return typeof t!="number"?t:`${t}px solid`}function lc(t,e){return lr({prop:t,themeKey:"borders",transform:e})}const _le=lc("border",ql),Tle=lc("borderTop",ql),Ele=lc("borderRight",ql),Ale=lc("borderBottom",ql),Rle=lc("borderLeft",ql),kle=lc("borderColor"),Ile=lc("borderTopColor"),Nle=lc("borderRightColor"),jle=lc("borderBottomColor"),Dle=lc("borderLeftColor"),Ole=lc("outline",ql),Mle=lc("outlineColor"),I_=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=eS(t.theme,"shape.borderRadius",4),n=a=>({borderRadius:lg(e,a)});return Uc(t,t.borderRadius,n)}return null};I_.propTypes={};I_.filterProps=["borderRadius"];k_(_le,Tle,Ele,Ale,Rle,kle,Ile,Nle,jle,Dle,I_,Ole,Mle);const N_=t=>{if(t.gap!==void 0&&t.gap!==null){const e=eS(t.theme,"spacing",8),n=a=>({gap:lg(e,a)});return Uc(t,t.gap,n)}return null};N_.propTypes={};N_.filterProps=["gap"];const j_=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=eS(t.theme,"spacing",8),n=a=>({columnGap:lg(e,a)});return Uc(t,t.columnGap,n)}return null};j_.propTypes={};j_.filterProps=["columnGap"];const D_=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=eS(t.theme,"spacing",8),n=a=>({rowGap:lg(e,a)});return Uc(t,t.rowGap,n)}return null};D_.propTypes={};D_.filterProps=["rowGap"];const Ple=lr({prop:"gridColumn"}),Lle=lr({prop:"gridRow"}),zle=lr({prop:"gridAutoFlow"}),Fle=lr({prop:"gridAutoColumns"}),Ble=lr({prop:"gridAutoRows"}),Hle=lr({prop:"gridTemplateColumns"}),$le=lr({prop:"gridTemplateRows"}),Ule=lr({prop:"gridTemplateAreas"}),Gle=lr({prop:"gridArea"});k_(N_,j_,D_,Ple,Lle,zle,Fle,Ble,Hle,$le,Ule,Gle);function B1(t,e){return e==="grey"?e:t}const qle=lr({prop:"color",themeKey:"palette",transform:B1}),Wle=lr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:B1}),Vle=lr({prop:"backgroundColor",themeKey:"palette",transform:B1});k_(qle,Wle,Vle);function Qs(t){return t<=1&&t!==0?`${t*100}%`:t}const Yle=lr({prop:"width",transform:Qs}),lj=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{const a=t.theme?.breakpoints?.values?.[n]||A_[n];return a?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${a}${t.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Qs(n)}};return Uc(t,t.maxWidth,e)}return null};lj.filterProps=["maxWidth"];const Kle=lr({prop:"minWidth",transform:Qs}),Xle=lr({prop:"height",transform:Qs}),Qle=lr({prop:"maxHeight",transform:Qs}),Zle=lr({prop:"minHeight",transform:Qs});lr({prop:"size",cssProperty:"width",transform:Qs});lr({prop:"size",cssProperty:"height",transform:Qs});const Jle=lr({prop:"boxSizing"});k_(Yle,lj,Kle,Xle,Qle,Zle,Jle);const tS={border:{themeKey:"borders",transform:ql},borderTop:{themeKey:"borders",transform:ql},borderRight:{themeKey:"borders",transform:ql},borderBottom:{themeKey:"borders",transform:ql},borderLeft:{themeKey:"borders",transform:ql},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ql},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:I_},color:{themeKey:"palette",transform:B1},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:B1},backgroundColor:{themeKey:"palette",transform:B1},p:{style:Wi},pt:{style:Wi},pr:{style:Wi},pb:{style:Wi},pl:{style:Wi},px:{style:Wi},py:{style:Wi},padding:{style:Wi},paddingTop:{style:Wi},paddingRight:{style:Wi},paddingBottom:{style:Wi},paddingLeft:{style:Wi},paddingX:{style:Wi},paddingY:{style:Wi},paddingInline:{style:Wi},paddingInlineStart:{style:Wi},paddingInlineEnd:{style:Wi},paddingBlock:{style:Wi},paddingBlockStart:{style:Wi},paddingBlockEnd:{style:Wi},m:{style:qi},mt:{style:qi},mr:{style:qi},mb:{style:qi},ml:{style:qi},mx:{style:qi},my:{style:qi},margin:{style:qi},marginTop:{style:qi},marginRight:{style:qi},marginBottom:{style:qi},marginLeft:{style:qi},marginX:{style:qi},marginY:{style:qi},marginInline:{style:qi},marginInlineStart:{style:qi},marginInlineEnd:{style:qi},marginBlock:{style:qi},marginBlockStart:{style:qi},marginBlockEnd:{style:qi},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:N_},rowGap:{style:D_},columnGap:{style:j_},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Qs},maxWidth:{style:lj},minWidth:{transform:Qs},height:{transform:Qs},maxHeight:{transform:Qs},minHeight:{transform:Qs},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function ece(...t){const e=t.reduce((a,i)=>a.concat(Object.keys(i)),[]),n=new Set(e);return t.every(a=>n.size===Object.keys(a).length)}function tce(t,e){return typeof t=="function"?t(e):t}function nce(){function t(n,a,i,r){const o={[n]:a,theme:i},s=r[n];if(!s)return{[n]:a};const{cssProperty:c=n,themeKey:u,transform:d,style:h}=s;if(a==null)return null;if(u==="typography"&&a==="inherit")return{[n]:a};const m=$u(i,u)||{};return h?h(o):Uc(o,a,y=>{let v=y4(m,d,y);return y===v&&typeof y=="string"&&(v=y4(m,d,`${n}${y==="default"?"":Ge(y)}`,y)),c===!1?v:{[c]:v}})}function e(n){const{sx:a,theme:i={},nested:r}=n||{};if(!a)return null;const o=i.unstable_sxConfig??tS;function s(c){let u=c;if(typeof c=="function")u=c(i);else if(typeof c!="object")return c;if(!u)return null;const d=SK(i.breakpoints),h=Object.keys(d);let m=d;return Object.keys(u).forEach(g=>{const y=tce(u[g],i);if(y!=null)if(typeof y=="object")if(o[g])m=Ov(m,t(g,y,i,o));else{const v=Uc({theme:i},y,S=>({[g]:S}));ece(v,y)?m[g]=e({sx:y,theme:i,nested:!0}):m=Ov(m,v)}else m=Ov(m,t(g,y,i,o))}),!r&&i.modularCssLayers?{"@layer sx":nP(i,NI(h,m))}:nP(i,NI(h,m))}return Array.isArray(a)?a.map(s):s(a)}return e}const dp=nce();dp.filterProps=["sx"];const ace=t=>{const e={systemProps:{},otherProps:{}},n=t?.theme?.unstable_sxConfig??tS;return Object.keys(t).forEach(a=>{n[a]?e.systemProps[a]=t[a]:e.otherProps[a]=t[a]}),e};function O_(t){const{sx:e,...n}=t,{systemProps:a,otherProps:i}=ace(n);let r;return Array.isArray(e)?r=[a,...e]:typeof e=="function"?r=(...o)=>{const s=e(...o);return Wu(s)?{...a,...s}:a}:r={...a,...e},{...i,sx:r}}function x4(){return x4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},x4.apply(null,arguments)}function ice(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function rce(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var oce=(function(){function t(n){var a=this;this._insertTag=function(i){var r;a.tags.length===0?a.insertionPoint?r=a.insertionPoint.nextSibling:a.prepend?r=a.container.firstChild:r=a.before:r=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(i,r),a.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(a){a.forEach(this._insertTag)},e.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(rce(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var r=ice(i);try{r.insertRule(a,r.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(a));this.ctr++},e.flush=function(){this.tags.forEach(function(a){var i;return(i=a.parentNode)==null?void 0:i.removeChild(a)}),this.tags=[],this.ctr=0},t})(),Eo="-ms-",v4="-moz-",_a="-webkit-",wK="comm",cj="rule",uj="decl",sce="@import",_K="@keyframes",lce="@layer",cce=Math.abs,M_=String.fromCharCode,uce=Object.assign;function dce(t,e){return uo(t,0)^45?(((e<<2^uo(t,0))<<2^uo(t,1))<<2^uo(t,2))<<2^uo(t,3):0}function TK(t){return t.trim()}function fce(t,e){return(t=e.exec(t))?t[0]:t}function Ta(t,e,n){return t.replace(e,n)}function jI(t,e){return t.indexOf(e)}function uo(t,e){return t.charCodeAt(e)|0}function d2(t,e,n){return t.slice(e,n)}function Uu(t){return t.length}function dj(t){return t.length}function jC(t,e){return e.push(t),t}function hce(t,e){return t.map(e).join("")}var P_=1,tb=1,EK=0,Os=0,yr=0,Ab="";function L_(t,e,n,a,i,r,o){return{value:t,root:e,parent:n,type:a,props:i,children:r,line:P_,column:tb,length:o,return:""}}function Dx(t,e){return uce(L_("",null,null,"",null,null,0),t,{length:-t.length},e)}function pce(){return yr}function mce(){return yr=Os>0?uo(Ab,--Os):0,tb--,yr===10&&(tb=1,P_--),yr}function el(){return yr=Os<EK?uo(Ab,Os++):0,tb++,yr===10&&(tb=1,P_++),yr}function Ku(){return uo(Ab,Os)}function Ww(){return Os}function nS(t,e){return d2(Ab,t,e)}function f2(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function AK(t){return P_=tb=1,EK=Uu(Ab=t),Os=0,[]}function RK(t){return Ab="",t}function Vw(t){return TK(nS(Os-1,DI(t===91?t+2:t===40?t+1:t)))}function gce(t){for(;(yr=Ku())&&yr<33;)el();return f2(t)>2||f2(yr)>3?"":" "}function bce(t,e){for(;--e&&el()&&!(yr<48||yr>102||yr>57&&yr<65||yr>70&&yr<97););return nS(t,Ww()+(e<6&&Ku()==32&&el()==32))}function DI(t){for(;el();)switch(yr){case t:return Os;case 34:case 39:t!==34&&t!==39&&DI(yr);break;case 40:t===41&&DI(t);break;case 92:el();break}return Os}function yce(t,e){for(;el()&&t+yr!==57;)if(t+yr===84&&Ku()===47)break;return"/*"+nS(e,Os-1)+"*"+M_(t===47?t:el())}function xce(t){for(;!f2(Ku());)el();return nS(t,Os)}function vce(t){return RK(Yw("",null,null,null,[""],t=AK(t),0,[0],t))}function Yw(t,e,n,a,i,r,o,s,c){for(var u=0,d=0,h=o,m=0,g=0,y=0,v=1,S=1,w=1,_=0,T="",A=i,R=r,I=a,N=T;S;)switch(y=_,_=el()){case 40:if(y!=108&&uo(N,h-1)==58){jI(N+=Ta(Vw(_),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:N+=Vw(_);break;case 9:case 10:case 13:case 32:N+=gce(y);break;case 92:N+=bce(Ww()-1,7);continue;case 47:switch(Ku()){case 42:case 47:jC(Sce(yce(el(),Ww()),e,n),c);break;default:N+="/"}break;case 123*v:s[u++]=Uu(N)*w;case 125*v:case 59:case 0:switch(_){case 0:case 125:S=0;case 59+d:w==-1&&(N=Ta(N,/\f/g,"")),g>0&&Uu(N)-h&&jC(g>32?oP(N+";",a,n,h-1):oP(Ta(N," ","")+";",a,n,h-2),c);break;case 59:N+=";";default:if(jC(I=rP(N,e,n,u,d,i,s,T,A=[],R=[],h),r),_===123)if(d===0)Yw(N,e,I,I,A,r,h,s,R);else switch(m===99&&uo(N,3)===110?100:m){case 100:case 108:case 109:case 115:Yw(t,I,I,a&&jC(rP(t,I,I,0,0,i,s,T,i,A=[],h),R),i,R,h,s,a?A:R);break;default:Yw(N,I,I,I,[""],R,0,s,R)}}u=d=g=0,v=w=1,T=N="",h=o;break;case 58:h=1+Uu(N),g=y;default:if(v<1){if(_==123)--v;else if(_==125&&v++==0&&mce()==125)continue}switch(N+=M_(_),_*v){case 38:w=d>0?1:(N+="\f",-1);break;case 44:s[u++]=(Uu(N)-1)*w,w=1;break;case 64:Ku()===45&&(N+=Vw(el())),m=Ku(),d=h=Uu(T=N+=xce(Ww())),_++;break;case 45:y===45&&Uu(N)==2&&(v=0)}}return r}function rP(t,e,n,a,i,r,o,s,c,u,d){for(var h=i-1,m=i===0?r:[""],g=dj(m),y=0,v=0,S=0;y<a;++y)for(var w=0,_=d2(t,h+1,h=cce(v=o[y])),T=t;w<g;++w)(T=TK(v>0?m[w]+" "+_:Ta(_,/&\f/g,m[w])))&&(c[S++]=T);return L_(t,e,n,i===0?cj:s,c,u,d)}function Sce(t,e,n){return L_(t,e,n,wK,M_(pce()),d2(t,2,-2),0)}function oP(t,e,n,a){return L_(t,e,n,uj,d2(t,0,a),d2(t,a+1,-1),a)}function H1(t,e){for(var n="",a=dj(t),i=0;i<a;i++)n+=e(t[i],i,t,e)||"";return n}function Cce(t,e,n,a){switch(t.type){case lce:if(t.children.length)break;case sce:case uj:return t.return=t.return||t.value;case wK:return"";case _K:return t.return=t.value+"{"+H1(t.children,a)+"}";case cj:t.value=t.props.join(",")}return Uu(n=H1(t.children,a))?t.return=t.value+"{"+n+"}":""}function wce(t){var e=dj(t);return function(n,a,i,r){for(var o="",s=0;s<e;s++)o+=t[s](n,a,i,r)||"";return o}}function _ce(t){return function(e){e.root||(e=e.return)&&t(e)}}function kK(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Tce=function(e,n,a){for(var i=0,r=0;i=r,r=Ku(),i===38&&r===12&&(n[a]=1),!f2(r);)el();return nS(e,Os)},Ece=function(e,n){var a=-1,i=44;do switch(f2(i)){case 0:i===38&&Ku()===12&&(n[a]=1),e[a]+=Tce(Os-1,n,a);break;case 2:e[a]+=Vw(i);break;case 4:if(i===44){e[++a]=Ku()===58?"&\f":"",n[a]=e[a].length;break}default:e[a]+=M_(i)}while(i=el());return e},Ace=function(e,n){return RK(Ece(AK(e),n))},sP=new WeakMap,Rce=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,a=e.parent,i=e.column===a.column&&e.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!sP.get(a))&&!i){sP.set(e,!0);for(var r=[],o=Ace(n,r),s=a.props,c=0,u=0;c<o.length;c++)for(var d=0;d<s.length;d++,u++)e.props[u]=r[c]?o[c].replace(/&\f/g,s[d]):s[d]+" "+o[c]}}},kce=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function IK(t,e){switch(dce(t,e)){case 5103:return _a+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _a+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return _a+t+v4+t+Eo+t+t;case 6828:case 4268:return _a+t+Eo+t+t;case 6165:return _a+t+Eo+"flex-"+t+t;case 5187:return _a+t+Ta(t,/(\w+).+(:[^]+)/,_a+"box-$1$2"+Eo+"flex-$1$2")+t;case 5443:return _a+t+Eo+"flex-item-"+Ta(t,/flex-|-self/,"")+t;case 4675:return _a+t+Eo+"flex-line-pack"+Ta(t,/align-content|flex-|-self/,"")+t;case 5548:return _a+t+Eo+Ta(t,"shrink","negative")+t;case 5292:return _a+t+Eo+Ta(t,"basis","preferred-size")+t;case 6060:return _a+"box-"+Ta(t,"-grow","")+_a+t+Eo+Ta(t,"grow","positive")+t;case 4554:return _a+Ta(t,/([^-])(transform)/g,"$1"+_a+"$2")+t;case 6187:return Ta(Ta(Ta(t,/(zoom-|grab)/,_a+"$1"),/(image-set)/,_a+"$1"),t,"")+t;case 5495:case 3959:return Ta(t,/(image-set\([^]*)/,_a+"$1$`$1");case 4968:return Ta(Ta(t,/(.+:)(flex-)?(.*)/,_a+"box-pack:$3"+Eo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_a+t+t;case 4095:case 3583:case 4068:case 2532:return Ta(t,/(.+)-inline(.+)/,_a+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Uu(t)-1-e>6)switch(uo(t,e+1)){case 109:if(uo(t,e+4)!==45)break;case 102:return Ta(t,/(.+:)(.+)-([^]+)/,"$1"+_a+"$2-$3$1"+v4+(uo(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~jI(t,"stretch")?IK(Ta(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(uo(t,e+1)!==115)break;case 6444:switch(uo(t,Uu(t)-3-(~jI(t,"!important")&&10))){case 107:return Ta(t,":",":"+_a)+t;case 101:return Ta(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+_a+(uo(t,14)===45?"inline-":"")+"box$3$1"+_a+"$2$3$1"+Eo+"$2box$3")+t}break;case 5936:switch(uo(t,e+11)){case 114:return _a+t+Eo+Ta(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return _a+t+Eo+Ta(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return _a+t+Eo+Ta(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return _a+t+Eo+t+t}return t}var Ice=function(e,n,a,i){if(e.length>-1&&!e.return)switch(e.type){case uj:e.return=IK(e.value,e.length);break;case _K:return H1([Dx(e,{value:Ta(e.value,"@","@"+_a)})],i);case cj:if(e.length)return hce(e.props,function(r){switch(fce(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return H1([Dx(e,{props:[Ta(r,/:(read-\w+)/,":"+v4+"$1")]})],i);case"::placeholder":return H1([Dx(e,{props:[Ta(r,/:(plac\w+)/,":"+_a+"input-$1")]}),Dx(e,{props:[Ta(r,/:(plac\w+)/,":"+v4+"$1")]}),Dx(e,{props:[Ta(r,/:(plac\w+)/,Eo+"input-$1")]})],i)}return""})}},Nce=[Ice],jce=function(e){var n=e.key;if(n==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(v){var S=v.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||Nce,r={},o,s=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var S=v.getAttribute("data-emotion").split(" "),w=1;w<S.length;w++)r[S[w]]=!0;s.push(v)});var c,u=[Rce,kce];{var d,h=[Cce,_ce(function(v){d.insert(v)})],m=wce(u.concat(i,h)),g=function(S){return H1(vce(S),m)};c=function(S,w,_,T){d=_,g(S?S+"{"+w.styles+"}":w.styles),T&&(y.inserted[w.name]=!0)}}var y={key:n,sheet:new oce({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:r,registered:{},insert:c};return y.sheet.hydrate(s),y},cE={exports:{}},Na={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lP;function Dce(){if(lP)return Na;lP=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,a=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,r=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,s=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,h=t?Symbol.for("react.suspense"):60113,m=t?Symbol.for("react.suspense_list"):60120,g=t?Symbol.for("react.memo"):60115,y=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,S=t?Symbol.for("react.fundamental"):60117,w=t?Symbol.for("react.responder"):60118,_=t?Symbol.for("react.scope"):60119;function T(R){if(typeof R=="object"&&R!==null){var I=R.$$typeof;switch(I){case e:switch(R=R.type,R){case c:case u:case a:case r:case i:case h:return R;default:switch(R=R&&R.$$typeof,R){case s:case d:case y:case g:case o:return R;default:return I}}case n:return I}}}function A(R){return T(R)===u}return Na.AsyncMode=c,Na.ConcurrentMode=u,Na.ContextConsumer=s,Na.ContextProvider=o,Na.Element=e,Na.ForwardRef=d,Na.Fragment=a,Na.Lazy=y,Na.Memo=g,Na.Portal=n,Na.Profiler=r,Na.StrictMode=i,Na.Suspense=h,Na.isAsyncMode=function(R){return A(R)||T(R)===c},Na.isConcurrentMode=A,Na.isContextConsumer=function(R){return T(R)===s},Na.isContextProvider=function(R){return T(R)===o},Na.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===e},Na.isForwardRef=function(R){return T(R)===d},Na.isFragment=function(R){return T(R)===a},Na.isLazy=function(R){return T(R)===y},Na.isMemo=function(R){return T(R)===g},Na.isPortal=function(R){return T(R)===n},Na.isProfiler=function(R){return T(R)===r},Na.isStrictMode=function(R){return T(R)===i},Na.isSuspense=function(R){return T(R)===h},Na.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===a||R===u||R===r||R===i||R===h||R===m||typeof R=="object"&&R!==null&&(R.$$typeof===y||R.$$typeof===g||R.$$typeof===o||R.$$typeof===s||R.$$typeof===d||R.$$typeof===S||R.$$typeof===w||R.$$typeof===_||R.$$typeof===v)},Na.typeOf=T,Na}var cP;function Oce(){return cP||(cP=1,cE.exports=Dce()),cE.exports}var uE,uP;function Mce(){if(uP)return uE;uP=1;var t=Oce(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r={};r[t.ForwardRef]=a,r[t.Memo]=i;function o(y){return t.isMemo(y)?i:r[y.$$typeof]||e}var s=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,m=Object.prototype;function g(y,v,S){if(typeof v!="string"){if(m){var w=h(v);w&&w!==m&&g(y,w,S)}var _=c(v);u&&(_=_.concat(u(v)));for(var T=o(y),A=o(v),R=0;R<_.length;++R){var I=_[R];if(!n[I]&&!(S&&S[I])&&!(A&&A[I])&&!(T&&T[I])){var N=d(v,I);try{s(y,I,N)}catch{}}}}return y}return uE=g,uE}Mce();var Pce=!0;function NK(t,e,n){var a="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(a+=i+" ")}),a}var fj=function(e,n,a){var i=e.key+"-"+n.name;(a===!1||Pce===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},hj=function(e,n,a){fj(e,n,a);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var r=n;do e.insert(n===r?"."+i:"",r,e.sheet,!0),r=r.next;while(r!==void 0)}};function Lce(t){for(var e=0,n,a=0,i=t.length;i>=4;++a,i-=4)n=t.charCodeAt(a)&255|(t.charCodeAt(++a)&255)<<8|(t.charCodeAt(++a)&255)<<16|(t.charCodeAt(++a)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(a+2)&255)<<16;case 2:e^=(t.charCodeAt(a+1)&255)<<8;case 1:e^=t.charCodeAt(a)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var zce={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Fce=/[A-Z]|^ms/g,Bce=/_EMO_([^_]+?)_([^]*?)_EMO_/g,jK=function(e){return e.charCodeAt(1)===45},dP=function(e){return e!=null&&typeof e!="boolean"},dE=kK(function(t){return jK(t)?t:t.replace(Fce,"-$&").toLowerCase()}),fP=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Bce,function(a,i,r){return Gu={name:i,styles:r,next:Gu},i})}return zce[e]!==1&&!jK(e)&&typeof n=="number"&&n!==0?n+"px":n};function h2(t,e,n){if(n==null)return"";var a=n;if(a.__emotion_styles!==void 0)return a;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Gu={name:i.name,styles:i.styles,next:Gu},i.name;var r=n;if(r.styles!==void 0){var o=r.next;if(o!==void 0)for(;o!==void 0;)Gu={name:o.name,styles:o.styles,next:Gu},o=o.next;var s=r.styles+";";return s}return Hce(t,e,n)}case"function":{if(t!==void 0){var c=Gu,u=n(t);return Gu=c,h2(t,e,u)}break}}var d=n;if(e==null)return d;var h=e[d];return h!==void 0?h:d}function Hce(t,e,n){var a="";if(Array.isArray(n))for(var i=0;i<n.length;i++)a+=h2(t,e,n[i])+";";else for(var r in n){var o=n[r];if(typeof o!="object"){var s=o;e!=null&&e[s]!==void 0?a+=r+"{"+e[s]+"}":dP(s)&&(a+=dE(r)+":"+fP(r,s)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var c=0;c<o.length;c++)dP(o[c])&&(a+=dE(r)+":"+fP(r,o[c])+";");else{var u=h2(t,e,o);switch(r){case"animation":case"animationName":{a+=dE(r)+":"+u+";";break}default:a+=r+"{"+u+"}"}}}return a}var hP=/label:\s*([^\s;{]+)\s*(;|$)/g,Gu;function aS(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var a=!0,i="";Gu=void 0;var r=t[0];if(r==null||r.raw===void 0)a=!1,i+=h2(n,e,r);else{var o=r;i+=o[0]}for(var s=1;s<t.length;s++)if(i+=h2(n,e,t[s]),a){var c=r;i+=c[s]}hP.lastIndex=0;for(var u="",d;(d=hP.exec(i))!==null;)u+="-"+d[1];var h=Lce(i)+u;return{name:h,styles:i,next:Gu}}var $ce=function(e){return e()},DK=m4.useInsertionEffect?m4.useInsertionEffect:!1,OK=DK||$ce,pP=DK||E.useLayoutEffect,MK=E.createContext(typeof HTMLElement<"u"?jce({key:"css"}):null);MK.Provider;var pj=function(e){return E.forwardRef(function(n,a){var i=E.useContext(MK);return e(n,i,a)})},iS=E.createContext({}),mj={}.hasOwnProperty,OI="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Uce=function(e,n){var a={};for(var i in n)mj.call(n,i)&&(a[i]=n[i]);return a[OI]=e,a},Gce=function(e){var n=e.cache,a=e.serialized,i=e.isStringTag;return fj(n,a,i),OK(function(){return hj(n,a,i)}),null},qce=pj(function(t,e,n){var a=t.css;typeof a=="string"&&e.registered[a]!==void 0&&(a=e.registered[a]);var i=t[OI],r=[a],o="";typeof t.className=="string"?o=NK(e.registered,r,t.className):t.className!=null&&(o=t.className+" ");var s=aS(r,void 0,E.useContext(iS));o+=e.key+"-"+s.name;var c={};for(var u in t)mj.call(t,u)&&u!=="css"&&u!==OI&&(c[u]=t[u]);return c.className=o,n&&(c.ref=n),E.createElement(E.Fragment,null,E.createElement(Gce,{cache:e,serialized:s,isStringTag:typeof i=="string"}),E.createElement(i,c))}),Wce=qce,mP=function(e,n){var a=arguments;if(n==null||!mj.call(n,"css"))return E.createElement.apply(void 0,a);var i=a.length,r=new Array(i);r[0]=Wce,r[1]=Uce(e,n);for(var o=2;o<i;o++)r[o]=a[o];return E.createElement.apply(null,r)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(mP||(mP={}));var Vce=pj(function(t,e){var n=t.styles,a=aS([n],void 0,E.useContext(iS)),i=E.useRef();return pP(function(){var r=e.key+"-global",o=new e.sheet.constructor({key:r,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),s=!1,c=document.querySelector('style[data-emotion="'+r+" "+a.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),c!==null&&(s=!0,c.setAttribute("data-emotion",r),o.hydrate([c])),i.current=[o,s],function(){o.flush()}},[e]),pP(function(){var r=i.current,o=r[0],s=r[1];if(s){r[1]=!1;return}if(a.next!==void 0&&hj(e,a.next,!0),o.tags.length){var c=o.tags[o.tags.length-1].nextElementSibling;o.before=c,o.flush()}e.insert("",a,o,!1)},[e,a.name]),null});function yp(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return aS(e)}function ld(){var t=yp.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Yce=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Kce=kK(function(t){return Yce.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Xce=Kce,Qce=function(e){return e!=="theme"},gP=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Xce:Qce},bP=function(e,n,a){var i;if(n){var r=n.shouldForwardProp;i=e.__emotion_forwardProp&&r?function(o){return e.__emotion_forwardProp(o)&&r(o)}:r}return typeof i!="function"&&a&&(i=e.__emotion_forwardProp),i},Zce=function(e){var n=e.cache,a=e.serialized,i=e.isStringTag;return fj(n,a,i),OK(function(){return hj(n,a,i)}),null},Jce=function t(e,n){var a=e.__emotion_real===e,i=a&&e.__emotion_base||e,r,o;n!==void 0&&(r=n.label,o=n.target);var s=bP(e,n,a),c=s||gP(i),u=!c("as");return function(){var d=arguments,h=a&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(r!==void 0&&h.push("label:"+r+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{var m=d[0];h.push(m[0]);for(var g=d.length,y=1;y<g;y++)h.push(d[y],m[y])}var v=pj(function(S,w,_){var T=u&&S.as||i,A="",R=[],I=S;if(S.theme==null){I={};for(var N in S)I[N]=S[N];I.theme=E.useContext(iS)}typeof S.className=="string"?A=NK(w.registered,R,S.className):S.className!=null&&(A=S.className+" ");var P=aS(h.concat(R),w.registered,I);A+=w.key+"-"+P.name,o!==void 0&&(A+=" "+o);var O=u&&s===void 0?gP(T):c,D={};for(var H in S)u&&H==="as"||O(H)&&(D[H]=S[H]);return D.className=A,_&&(D.ref=_),E.createElement(E.Fragment,null,E.createElement(Zce,{cache:w,serialized:P,isStringTag:typeof T=="string"}),E.createElement(T,D))});return v.displayName=r!==void 0?r:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=i,v.__emotion_styles=h,v.__emotion_forwardProp=s,Object.defineProperty(v,"toString",{value:function(){return"."+o}}),v.withComponent=function(S,w){var _=t(S,x4({},n,w,{shouldForwardProp:bP(v,w,!0)}));return _.apply(void 0,h)},v}},eue=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],MI=Jce.bind(null);eue.forEach(function(t){MI[t]=MI(t)});function tue(t){return t==null||Object.keys(t).length===0}function PK(t){const{styles:e,defaultTheme:n={}}=t,a=typeof e=="function"?i=>e(tue(i)?n:i):e;return l.jsx(Vce,{styles:a})}function LK(t,e){return MI(t,e)}function nue(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const yP=[];function np(t){return yP[0]=t,aS(yP)}const aue=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,a)=>n.val-a.val),e.reduce((n,a)=>({...n,[a.key]:a.val}),{})};function iue(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5,...i}=t,r=aue(e),o=Object.keys(r);function s(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n})`}function c(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-a/100}${n})`}function u(m,g){const y=o.indexOf(g);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n}) and (max-width:${(y!==-1&&typeof e[o[y]]=="number"?e[o[y]]:g)-a/100}${n})`}function d(m){return o.indexOf(m)+1<o.length?u(m,o[o.indexOf(m)+1]):s(m)}function h(m){const g=o.indexOf(m);return g===0?s(o[1]):g===o.length-1?c(o[g]):u(m,o[o.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:o,values:r,up:s,down:c,between:u,only:d,not:h,unit:n,...i}}const rue={borderRadius:4};function zK(t=8,e=R_({spacing:t})){if(t.mui)return t;const n=(...a)=>(a.length===0?[1]:a).map(r=>{const o=e(r);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function oue(t,e){const n=this;if(n.vars){if(!n.colorSchemes?.[t]||typeof n.getColorSchemeSelector!="function")return{};let a=n.getColorSchemeSelector(t);return a==="&"?e:((a.includes("data-")||a.includes("."))&&(a=`*:where(${a.replace(/\s*&$/,"")}) &`),{[a]:e})}return n.palette.mode===t?e:{}}function Rb(t={},...e){const{breakpoints:n={},palette:a={},spacing:i,shape:r={},...o}=t,s=iue(n),c=zK(i);let u=qr({breakpoints:s,direction:"ltr",components:{},palette:{mode:"light",...a},spacing:c,shape:{...rue,...r}},o);return u=ple(u),u.applyStyles=oue,u=e.reduce((d,h)=>qr(d,h),u),u.unstable_sxConfig={...tS,...o?.unstable_sxConfig},u.unstable_sx=function(h){return dp({sx:h,theme:this})},u}function sue(t){return Object.keys(t).length===0}function z_(t=null){const e=E.useContext(iS);return!e||sue(e)?t:e}const lue=Rb();function rS(t=lue){return z_(t)}function fE(t){const e=np(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function FK({styles:t,themeId:e,defaultTheme:n={}}){const a=rS(n),i=e&&a[e]||a;let r=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(r)?r=r.map(o=>fE(typeof o=="function"?o(i):o)):r=fE(r)),l.jsx(PK,{styles:r})}const xP=t=>t,cue=()=>{let t=xP;return{configure(e){t=e},generate(e){return t(e)},reset(){t=xP}}},BK=cue();function HK(t){var e,n,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=HK(t[e]))&&(a&&(a+=" "),a+=n)}else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}function dt(){for(var t,e,n=0,a="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=HK(t))&&(a&&(a+=" "),a+=e);return a}function uue(t={}){const{themeId:e,defaultTheme:n,defaultClassName:a="MuiBox-root",generateClassName:i}=t,r=LK("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(dp);return E.forwardRef(function(c,u){const d=rS(n),{className:h,component:m="div",...g}=O_(c);return l.jsx(r,{as:m,ref:u,className:dt(h,i?i(a):a),theme:e&&d[e]||d,...g})})}const due={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Pt(t,e,n="Mui"){const a=due[e];return a?`${n}-${a}`:`${BK.generate(t)}-${e}`}function Ft(t,e,n="Mui"){const a={};return e.forEach(i=>{a[i]=Pt(t,i,n)}),a}function $K(t){const{variants:e,...n}=t,a={variants:e,style:np(n),isProcessed:!0};return a.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=np(i.style))}),a}const fue=Rb();function hE(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Pm(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function hue(t){return t?(e,n)=>n[t]:null}function pue(t,e,n){t.theme=gue(t.theme)?n:t.theme[e]||t.theme}function Kw(t,e,n){const a=typeof e=="function"?e(t):e;if(Array.isArray(a))return a.flatMap(i=>Kw(t,i,n));if(Array.isArray(a?.variants)){let i;if(a.isProcessed)i=n?Pm(a.style,n):a.style;else{const{variants:r,...o}=a;i=n?Pm(np(o),n):o}return UK(t,a.variants,[i],n)}return a?.isProcessed?n?Pm(np(a.style),n):a.style:n?Pm(np(a),n):a}function UK(t,e,n=[],a=void 0){let i;e:for(let r=0;r<e.length;r+=1){const o=e[r];if(typeof o.props=="function"){if(i??={...t,...t.ownerState,ownerState:t.ownerState},!o.props(i))continue}else for(const s in o.props)if(t[s]!==o.props[s]&&t.ownerState?.[s]!==o.props[s])continue e;typeof o.style=="function"?(i??={...t,...t.ownerState,ownerState:t.ownerState},n.push(a?Pm(np(o.style(i)),a):o.style(i))):n.push(a?Pm(np(o.style),a):o.style)}return n}function GK(t={}){const{themeId:e,defaultTheme:n=fue,rootShouldForwardProp:a=hE,slotShouldForwardProp:i=hE}=t;function r(s){pue(s,e,n)}return(s,c={})=>{nue(s,I=>I.filter(N=>N!==dp));const{name:u,slot:d,skipVariantsResolver:h,skipSx:m,overridesResolver:g=hue(yue(d)),...y}=c,v=u&&u.startsWith("Mui")||d?"components":"custom",S=h!==void 0?h:d&&d!=="Root"&&d!=="root"||!1,w=m||!1;let _=hE;d==="Root"||d==="root"?_=a:d?_=i:bue(s)&&(_=void 0);const T=LK(s,{shouldForwardProp:_,label:mue(),...y}),A=I=>{if(I.__emotion_real===I)return I;if(typeof I=="function")return function(P){return Kw(P,I,P.theme.modularCssLayers?v:void 0)};if(Wu(I)){const N=$K(I);return function(O){return N.variants?Kw(O,N,O.theme.modularCssLayers?v:void 0):O.theme.modularCssLayers?Pm(N.style,v):N.style}}return I},R=(...I)=>{const N=[],P=I.map(A),O=[];if(N.push(r),u&&g&&O.push(function($){const z=$.theme.components?.[u]?.styleOverrides;if(!z)return null;const F={};for(const G in z)F[G]=Kw($,z[G],$.theme.modularCssLayers?"theme":void 0);return g($,F)}),u&&!S&&O.push(function($){const z=$.theme?.components?.[u]?.variants;return z?UK($,z,[],$.theme.modularCssLayers?"theme":void 0):null}),w||O.push(dp),Array.isArray(P[0])){const L=P.shift(),$=new Array(N.length).fill(""),M=new Array(O.length).fill("");let z;z=[...$,...L,...M],z.raw=[...$,...L.raw,...M],N.unshift(z)}const D=[...N,...P,...O],H=T(...D);return s.muiName&&(H.muiName=s.muiName),H};return T.withConfig&&(R.withConfig=T.withConfig),R}}function mue(t,e){return void 0}function gue(t){for(const e in t)return!1;return!0}function bue(t){return typeof t=="string"&&t.charCodeAt(0)>96}function yue(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const gj=GK();function nb(t,e,n=!1){const a={...e};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const r=i;if(r==="components"||r==="slots")a[r]={...t[r],...a[r]};else if(r==="componentsProps"||r==="slotProps"){const o=t[r],s=e[r];if(!s)a[r]=o||{};else if(!o)a[r]=s;else{a[r]={...s};for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const u=c;a[r][u]=nb(o[u],s[u],n)}}}else r==="className"&&n&&e.className?a.className=dt(t?.className,e?.className):r==="style"&&n&&e.style?a.style={...t?.style,...e?.style}:a[r]===void 0&&(a[r]=t[r])}return a}function qK(t){const{theme:e,name:n,props:a}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?a:nb(e.components[n].defaultProps,a)}function bj({props:t,name:e,defaultTheme:n,themeId:a}){let i=rS(n);return a&&(i=i[a]||i),qK({theme:i,name:e,props:t})}const Io=typeof window<"u"?E.useLayoutEffect:E.useEffect;function xue(t,e,n,a,i){const[r,o]=E.useState(()=>i&&n?n(t).matches:a?a(t).matches:e);return Io(()=>{if(!n)return;const s=n(t),c=()=>{o(s.matches)};return c(),s.addEventListener("change",c),()=>{s.removeEventListener("change",c)}},[t,n]),r}const vue={...m4},WK=vue.useSyncExternalStore;function Sue(t,e,n,a,i){const r=E.useCallback(()=>e,[e]),o=E.useMemo(()=>{if(i&&n)return()=>n(t).matches;if(a!==null){const{matches:d}=a(t);return()=>d}return r},[r,t,a,i,n]),[s,c]=E.useMemo(()=>{if(n===null)return[r,()=>()=>{}];const d=n(t);return[()=>d.matches,h=>(d.addEventListener("change",h),()=>{d.removeEventListener("change",h)})]},[r,n,t]);return WK(c,s,o)}function VK(t={}){const{themeId:e}=t;return function(a,i={}){let r=z_();r&&e&&(r=r[e]||r);const o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:s=!1,matchMedia:c=o?window.matchMedia:null,ssrMatchMedia:u=null,noSsr:d=!1}=qK({name:"MuiUseMediaQuery",props:i,theme:r});let h=typeof a=="function"?a(r):a;return h=h.replace(/^@media( ?)/m,""),h.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(WK!==void 0?Sue:xue)(h,s,c,u,d)}}VK();function k1(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function yj(t,e=0,n=1){return k1(t,e,n)}function Cue(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(a=>a+a)),n?`rgb${n.length===4?"a":""}(${n.map((a,i)=>i<3?parseInt(a,16):Math.round(parseInt(a,16)/255*1e3)/1e3).join(", ")})`:""}function fp(t){if(t.type)return t;if(t.charAt(0)==="#")return fp(Cue(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(gf(9,t));let a=t.substring(e+1,t.length-1),i;if(n==="color"){if(a=a.split(" "),i=a.shift(),a.length===4&&a[3].charAt(0)==="/"&&(a[3]=a[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(gf(10,i))}else a=a.split(",");return a=a.map(r=>parseFloat(r)),{type:n,values:a,colorSpace:i}}const wue=t=>{const e=fp(t);return e.values.slice(0,3).map((n,a)=>e.type.includes("hsl")&&a!==0?`${n}%`:n).join(" ")},pv=(t,e)=>{try{return wue(t)}catch{return t}};function F_(t){const{type:e,colorSpace:n}=t;let{values:a}=t;return e.includes("rgb")?a=a.map((i,r)=>r<3?parseInt(i,10):i):e.includes("hsl")&&(a[1]=`${a[1]}%`,a[2]=`${a[2]}%`),e.includes("color")?a=`${n} ${a.join(" ")}`:a=`${a.join(", ")}`,`${e}(${a})`}function YK(t){t=fp(t);const{values:e}=t,n=e[0],a=e[1]/100,i=e[2]/100,r=a*Math.min(i,1-i),o=(u,d=(u+n/30)%12)=>i-r*Math.max(Math.min(d-3,9-d,1),-1);let s="rgb";const c=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(s+="a",c.push(e[3])),F_({type:s,values:c})}function PI(t){t=fp(t);let e=t.type==="hsl"||t.type==="hsla"?fp(YK(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function _ue(t,e){const n=PI(t),a=PI(e);return(Math.max(n,a)+.05)/(Math.min(n,a)+.05)}function gi(t,e){return t=fp(t),e=yj(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,F_(t)}function ym(t,e,n){try{return gi(t,e)}catch{return t}}function B_(t,e){if(t=fp(t),e=yj(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return F_(t)}function ja(t,e,n){try{return B_(t,e)}catch{return t}}function H_(t,e){if(t=fp(t),e=yj(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return F_(t)}function Da(t,e,n){try{return H_(t,e)}catch{return t}}function p2(t,e=.15){return PI(t)>.5?B_(t,e):H_(t,e)}function DC(t,e,n){try{return p2(t,e)}catch{return t}}const KK=E.createContext(null);function xj(){return E.useContext(KK)}const Tue=typeof Symbol=="function"&&Symbol.for,Eue=Tue?Symbol.for("mui.nested"):"__THEME_NESTED__";function Aue(t,e){return typeof e=="function"?e(t):{...t,...e}}function Rue(t){const{children:e,theme:n}=t,a=xj(),i=E.useMemo(()=>{const r=a===null?{...n}:Aue(a,n);return r!=null&&(r[Eue]=a!==null),r},[n,a]);return l.jsx(KK.Provider,{value:i,children:e})}const XK=E.createContext();function kue({value:t,...e}){return l.jsx(XK.Provider,{value:t??!0,...e})}const cd=()=>E.useContext(XK)??!1,QK=E.createContext(void 0);function Iue({value:t,children:e}){return l.jsx(QK.Provider,{value:t,children:e})}function Nue(t){const{theme:e,name:n,props:a}=t;if(!e||!e.components||!e.components[n])return a;const i=e.components[n];return i.defaultProps?nb(i.defaultProps,a,e.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?nb(i,a,e.components.mergeClassNameAndStyle):a}function jue({props:t,name:e}){const n=E.useContext(QK);return Nue({props:t,name:e,theme:{components:n}})}let vP=0;function Due(t){const[e,n]=E.useState(t),a=t||e;return E.useEffect(()=>{e==null&&(vP+=1,n(`mui-${vP}`))},[e]),a}const Oue={...m4},SP=Oue.useId;function nd(t){if(SP!==void 0){const e=SP();return t??e}return Due(t)}function Mue(t){const e=z_(),n=nd()||"",{modularCssLayers:a}=t;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!a||e!==null?i="":typeof a=="string"?i=a.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,Io(()=>{const r=document.querySelector("head");if(!r)return;const o=r.firstChild;if(i){if(o&&o.hasAttribute?.("data-mui-layer-order")&&o.getAttribute("data-mui-layer-order")===n)return;const s=document.createElement("style");s.setAttribute("data-mui-layer-order",n),s.textContent=i,r.prepend(s)}else r.querySelector(`style[data-mui-layer-order="${n}"]`)?.remove()},[i,n]),i?l.jsx(FK,{styles:i}):null}const CP={};function wP(t,e,n,a=!1){return E.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const r=n(i),o=t?{...e,[t]:r}:r;return a?()=>o:o}return t?{...e,[t]:n}:{...e,...n}},[t,e,n,a])}function ZK(t){const{children:e,theme:n,themeId:a}=t,i=z_(CP),r=xj()||CP,o=wP(a,i,n),s=wP(a,r,n,!0),c=(a?o[a]:o).direction==="rtl",u=Mue(o);return l.jsx(Rue,{theme:s,children:l.jsx(iS.Provider,{value:o,children:l.jsx(kue,{value:c,children:l.jsxs(Iue,{value:a?o[a].components:o.components,children:[u,e]})})})})}const _P={theme:void 0};function Pue(t){let e,n;return function(i){let r=e;return(r===void 0||i.theme!==n)&&(_P.theme=i.theme,r=$K(t(_P)),e=r,n=i.theme),r}}const vj="mode",Sj="color-scheme",Lue="data-color-scheme";function zue(t){const{defaultMode:e="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:a="dark",modeStorageKey:i=vj,colorSchemeStorageKey:r=Sj,attribute:o=Lue,colorSchemeNode:s="document.documentElement",nonce:c}=t||{};let u="",d=o;if(o==="class"&&(d=".%s"),o==="data"&&(d="[data-%s]"),d.startsWith(".")){const m=d.substring(1);u+=`${s}.classList.remove('${m}'.replace('%s', light), '${m}'.replace('%s', dark));
      ${s}.classList.add('${m}'.replace('%s', colorScheme));`}const h=d.match(/\[([^[\]]+)\]/);if(h){const[m,g]=h[1].split("=");g||(u+=`${s}.removeAttribute('${m}'.replace('%s', light));
      ${s}.removeAttribute('${m}'.replace('%s', dark));`),u+=`
      ${s}.setAttribute('${m}'.replace('%s', colorScheme), ${g?`${g}.replace('%s', colorScheme)`:'""'});`}else u+=`${s}.setAttribute('${d}', colorScheme);`;return l.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${e}';
  const dark = localStorage.getItem('${r}-dark') || '${a}';
  const light = localStorage.getItem('${r}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${u}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function Fue(){}const Bue=({key:t,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(n){if(typeof window>"u")return;if(!e)return n;let a;try{a=e.localStorage.getItem(t)}catch{}return a||n},set:n=>{if(e)try{e.localStorage.setItem(t,n)}catch{}},subscribe:n=>{if(!e)return Fue;const a=i=>{const r=i.newValue;i.key===t&&n(r)};return e.addEventListener("storage",a),()=>{e.removeEventListener("storage",a)}}});function pE(){}function TP(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function JK(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function Hue(t){return JK(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function $ue(t){const{defaultMode:e="light",defaultLightColorScheme:n,defaultDarkColorScheme:a,supportedColorSchemes:i=[],modeStorageKey:r=vj,colorSchemeStorageKey:o=Sj,storageWindow:s=typeof window>"u"?void 0:window,storageManager:c=Bue,noSsr:u=!1}=t,d=i.join(","),h=i.length>1,m=E.useMemo(()=>c?.({key:r,storageWindow:s}),[c,r,s]),g=E.useMemo(()=>c?.({key:`${o}-light`,storageWindow:s}),[c,o,s]),y=E.useMemo(()=>c?.({key:`${o}-dark`,storageWindow:s}),[c,o,s]),[v,S]=E.useState(()=>{const P=m?.get(e)||e,O=g?.get(n)||n,D=y?.get(a)||a;return{mode:P,systemMode:TP(P),lightColorScheme:O,darkColorScheme:D}}),[w,_]=E.useState(u||!h);E.useEffect(()=>{_(!0)},[]);const T=Hue(v),A=E.useCallback(P=>{S(O=>{if(P===O.mode)return O;const D=P??e;return m?.set(D),{...O,mode:D,systemMode:TP(D)}})},[m,e]),R=E.useCallback(P=>{P?typeof P=="string"?P&&!d.includes(P)?console.error(`\`${P}\` does not exist in \`theme.colorSchemes\`.`):S(O=>{const D={...O};return JK(O,H=>{H==="light"&&(g?.set(P),D.lightColorScheme=P),H==="dark"&&(y?.set(P),D.darkColorScheme=P)}),D}):S(O=>{const D={...O},H=P.light===null?n:P.light,L=P.dark===null?a:P.dark;return H&&(d.includes(H)?(D.lightColorScheme=H,g?.set(H)):console.error(`\`${H}\` does not exist in \`theme.colorSchemes\`.`)),L&&(d.includes(L)?(D.darkColorScheme=L,y?.set(L)):console.error(`\`${L}\` does not exist in \`theme.colorSchemes\`.`)),D}):S(O=>(g?.set(n),y?.set(a),{...O,lightColorScheme:n,darkColorScheme:a}))},[d,g,y,n,a]),I=E.useCallback(P=>{v.mode==="system"&&S(O=>{const D=P?.matches?"dark":"light";return O.systemMode===D?O:{...O,systemMode:D}})},[v.mode]),N=E.useRef(I);return N.current=I,E.useEffect(()=>{if(typeof window.matchMedia!="function"||!h)return;const P=(...D)=>N.current(...D),O=window.matchMedia("(prefers-color-scheme: dark)");return O.addListener(P),P(O),()=>{O.removeListener(P)}},[h]),E.useEffect(()=>{if(h){const P=m?.subscribe(H=>{(!H||["light","dark","system"].includes(H))&&A(H||e)})||pE,O=g?.subscribe(H=>{(!H||d.match(H))&&R({light:H})})||pE,D=y?.subscribe(H=>{(!H||d.match(H))&&R({dark:H})})||pE;return()=>{P(),O(),D()}}},[R,A,d,e,s,h,m,g,y]),{...v,mode:w?v.mode:void 0,systemMode:w?v.systemMode:void 0,colorScheme:w?T:void 0,setMode:A,setColorScheme:R}}const Uue="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Gue(t){const{themeId:e,theme:n={},modeStorageKey:a=vj,colorSchemeStorageKey:i=Sj,disableTransitionOnChange:r=!1,defaultColorScheme:o,resolveTheme:s}=t,c={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},u=E.createContext(void 0),d=()=>E.useContext(u)||c,h={},m={};function g(w){const{children:_,theme:T,modeStorageKey:A=a,colorSchemeStorageKey:R=i,disableTransitionOnChange:I=r,storageManager:N,storageWindow:P=typeof window>"u"?void 0:window,documentNode:O=typeof document>"u"?void 0:document,colorSchemeNode:D=typeof document>"u"?void 0:document.documentElement,disableNestedContext:H=!1,disableStyleSheetGeneration:L=!1,defaultMode:$="system",forceThemeRerender:M=!1,noSsr:z}=w,F=E.useRef(!1),G=xj(),ee=E.useContext(u),V=!!ee&&!H,Y=E.useMemo(()=>T||(typeof n=="function"?n():n),[T]),K=Y[e],J=K||Y,{colorSchemes:W=h,components:te=m,cssVarPrefix:re}=J,ne=Object.keys(W).filter(ve=>!!W[ve]).join(","),ce=E.useMemo(()=>ne.split(","),[ne]),pe=typeof o=="string"?o:o.light,me=typeof o=="string"?o:o.dark,ge=W[pe]&&W[me]?$:W[J.defaultColorScheme]?.palette?.mode||J.palette?.mode,{mode:ye,setMode:he,systemMode:de,lightColorScheme:fe,darkColorScheme:oe,colorScheme:ue,setColorScheme:le}=$ue({supportedColorSchemes:ce,defaultLightColorScheme:pe,defaultDarkColorScheme:me,modeStorageKey:A,colorSchemeStorageKey:R,defaultMode:ge,storageManager:N,storageWindow:P,noSsr:z});let Se=ye,_e=ue;V&&(Se=ee.mode,_e=ee.colorScheme);let Ie=_e||J.defaultColorScheme;J.vars&&!M&&(Ie=J.defaultColorScheme);const ze=E.useMemo(()=>{const ve=J.generateThemeVars?.()||J.vars,we={...J,components:te,colorSchemes:W,cssVarPrefix:re,vars:ve};if(typeof we.generateSpacing=="function"&&(we.spacing=we.generateSpacing()),Ie){const Oe=W[Ie];Oe&&typeof Oe=="object"&&Object.keys(Oe).forEach(Le=>{Oe[Le]&&typeof Oe[Le]=="object"?we[Le]={...we[Le],...Oe[Le]}:we[Le]=Oe[Le]})}return s?s(we):we},[J,Ie,te,W,re]),Me=J.colorSchemeSelector;Io(()=>{if(_e&&D&&Me&&Me!=="media"){const ve=Me;let we=Me;if(ve==="class"&&(we=".%s"),ve==="data"&&(we="[data-%s]"),ve?.startsWith("data-")&&!ve.includes("%s")&&(we=`[${ve}="%s"]`),we.startsWith("."))D.classList.remove(...ce.map(Oe=>we.substring(1).replace("%s",Oe))),D.classList.add(we.substring(1).replace("%s",_e));else{const Oe=we.replace("%s",_e).match(/\[([^\]]+)\]/);if(Oe){const[Le,We]=Oe[1].split("=");We||ce.forEach(Fe=>{D.removeAttribute(Le.replace(_e,Fe))}),D.setAttribute(Le,We?We.replace(/"|'/g,""):"")}else D.setAttribute(we,_e)}}},[_e,Me,D,ce]),E.useEffect(()=>{let ve;if(I&&F.current&&O){const we=O.createElement("style");we.appendChild(O.createTextNode(Uue)),O.head.appendChild(we),window.getComputedStyle(O.body),ve=setTimeout(()=>{O.head.removeChild(we)},1)}return()=>{clearTimeout(ve)}},[_e,I,O]),E.useEffect(()=>(F.current=!0,()=>{F.current=!1}),[]);const Ze=E.useMemo(()=>({allColorSchemes:ce,colorScheme:_e,darkColorScheme:oe,lightColorScheme:fe,mode:Se,setColorScheme:le,setMode:he,systemMode:de}),[ce,_e,oe,fe,Se,le,he,de,ze.colorSchemeSelector]);let Ee=!0;(L||J.cssVariables===!1||V&&G?.cssVarPrefix===re)&&(Ee=!1);const Ne=l.jsxs(E.Fragment,{children:[l.jsx(ZK,{themeId:K?e:void 0,theme:ze,children:_}),Ee&&l.jsx(PK,{styles:ze.generateStyleSheets?.()||[]})]});return V?Ne:l.jsx(u.Provider,{value:Ze,children:Ne})}const y=typeof o=="string"?o:o.light,v=typeof o=="string"?o:o.dark;return{CssVarsProvider:g,useColorScheme:d,getInitColorSchemeScript:w=>zue({colorSchemeStorageKey:i,defaultLightColorScheme:y,defaultDarkColorScheme:v,modeStorageKey:a,...w})}}function que(t=""){function e(...a){if(!a.length)return"";const i=a[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...a.slice(1))})`:`, ${i}`}return(a,...i)=>`var(--${t?`${t}-`:""}${a}${e(...i)})`}const EP=(t,e,n,a=[])=>{let i=t;e.forEach((r,o)=>{o===e.length-1?Array.isArray(i)?i[Number(r)]=n:i&&typeof i=="object"&&(i[r]=n):i&&typeof i=="object"&&(i[r]||(i[r]=a.includes(r)?[]:{}),i=i[r])})},Wue=(t,e,n)=>{function a(i,r=[],o=[]){Object.entries(i).forEach(([s,c])=>{(!n||n&&!n([...r,s]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?a(c,[...r,s],Array.isArray(c)?[...o,s]:o):e([...r,s],c,o))})}a(t)},Vue=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(a=>t.includes(a))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function mE(t,e){const{prefix:n,shouldSkipGeneratingVar:a}=e||{},i={},r={},o={};return Wue(t,(s,c,u)=>{if((typeof c=="string"||typeof c=="number")&&(!a||!a(s,c))){const d=`--${n?`${n}-`:""}${s.join("-")}`,h=Vue(s,c);Object.assign(i,{[d]:h}),EP(r,s,`var(${d})`,u),EP(o,s,`var(${d}, ${h})`,u)}},s=>s[0]==="vars"),{css:i,vars:r,varsWithDefaults:o}}function Yue(t,e={}){const{getSelector:n=w,disableCssColorScheme:a,colorSchemeSelector:i,enableContrastVars:r}=e,{colorSchemes:o={},components:s,defaultColorScheme:c="light",...u}=t,{vars:d,css:h,varsWithDefaults:m}=mE(u,e);let g=m;const y={},{[c]:v,...S}=o;if(Object.entries(S||{}).forEach(([A,R])=>{const{vars:I,css:N,varsWithDefaults:P}=mE(R,e);g=qr(g,P),y[A]={css:N,vars:I}}),v){const{css:A,vars:R,varsWithDefaults:I}=mE(v,e);g=qr(g,I),y[c]={css:A,vars:R}}function w(A,R){let I=i;if(i==="class"&&(I=".%s"),i==="data"&&(I="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(I=`[${i}="%s"]`),A){if(I==="media")return t.defaultColorScheme===A?":root":{[`@media (prefers-color-scheme: ${o[A]?.palette?.mode||A})`]:{":root":R}};if(I)return t.defaultColorScheme===A?`:root, ${I.replace("%s",String(A))}`:I.replace("%s",String(A))}return":root"}return{vars:g,generateThemeVars:()=>{let A={...d};return Object.entries(y).forEach(([,{vars:R}])=>{A=qr(A,R)}),A},generateStyleSheets:()=>{const A=[],R=t.defaultColorScheme||"light";function I(O,D){Object.keys(D).length&&A.push(typeof O=="string"?{[O]:{...D}}:O)}I(n(void 0,{...h}),h);const{[R]:N,...P}=y;if(N){const{css:O}=N,D=o[R]?.palette?.mode,H=!a&&D?{colorScheme:D,...O}:{...O};I(n(R,{...H}),H)}return Object.entries(P).forEach(([O,{css:D}])=>{const H=o[O]?.palette?.mode,L=!a&&H?{colorScheme:H,...D}:{...D};I(n(O,{...L}),L)}),r&&A.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),A}}}function Kue(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function Lt(t,e,n=void 0){const a={};for(const i in t){const r=t[i];let o="",s=!0;for(let c=0;c<r.length;c+=1){const u=r[c];u&&(o+=(s===!0?"":" ")+e(u),s=!1,n&&n[u]&&(o+=" "+n[u]))}a[i]=o}return a}const Xue=Rb(),Que=gj("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ge(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),Zue=t=>bj({props:t,name:"MuiContainer",defaultTheme:Xue}),Jue=(t,e)=>{const n=c=>Pt(e,c),{classes:a,fixed:i,disableGutters:r,maxWidth:o}=t,s={root:["root",o&&`maxWidth${Ge(String(o))}`,i&&"fixed",r&&"disableGutters"]};return Lt(s,n,a)};function ede(t={}){const{createStyledComponent:e=Que,useThemeProps:n=Zue,componentName:a="MuiContainer"}=t,i=e(({theme:o,ownerState:s})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!s.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}}),({theme:o,ownerState:s})=>s.fixed&&Object.keys(o.breakpoints.values).reduce((c,u)=>{const d=u,h=o.breakpoints.values[d];return h!==0&&(c[o.breakpoints.up(d)]={maxWidth:`${h}${o.breakpoints.unit}`}),c},{}),({theme:o,ownerState:s})=>({...s.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},...s.maxWidth&&s.maxWidth!=="xs"&&{[o.breakpoints.up(s.maxWidth)]:{maxWidth:`${o.breakpoints.values[s.maxWidth]}${o.breakpoints.unit}`}}}));return E.forwardRef(function(s,c){const u=n(s),{className:d,component:h="div",disableGutters:m=!1,fixed:g=!1,maxWidth:y="lg",classes:v,...S}=u,w={...u,component:h,disableGutters:m,fixed:g,maxWidth:y},_=Jue(w,a);return l.jsx(i,{as:h,ownerState:w,className:dt(_.root,d),ref:c,...S})})}function Mv(t,e){return E.isValidElement(t)&&e.indexOf(t.type.muiName??t.type?._payload?.value?.muiName)!==-1}const tde=(t,e)=>t.filter(n=>e.includes(n)),kb=(t,e,n)=>{const a=t.keys[0];Array.isArray(e)?e.forEach((i,r)=>{n((o,s)=>{r<=t.keys.length-1&&(r===0?Object.assign(o,s):o[t.up(t.keys[r])]=s)},i)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:tde(t.keys,Object.keys(e))).forEach(r=>{if(t.keys.includes(r)){const o=e[r];o!==void 0&&n((s,c)=>{a===r?Object.assign(s,c):s[t.up(r)]=c},o)}}):(typeof e=="number"||typeof e=="string")&&n((i,r)=>{Object.assign(i,r)},e)};function S4(t){return`--Grid-${t}Spacing`}function $_(t){return`--Grid-parent-${t}Spacing`}const AP="--Grid-columns",$1="--Grid-parent-columns",nde=({theme:t,ownerState:e})=>{const n={};return kb(t.breakpoints,e.size,(a,i)=>{let r={};i==="grow"&&(r={flexBasis:0,flexGrow:1,maxWidth:"100%"}),i==="auto"&&(r={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof i=="number"&&(r={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${i} / var(${$1}) - (var(${$1}) - ${i}) * (var(${$_("column")}) / var(${$1})))`}),a(n,r)}),n},ade=({theme:t,ownerState:e})=>{const n={};return kb(t.breakpoints,e.offset,(a,i)=>{let r={};i==="auto"&&(r={marginLeft:"auto"}),typeof i=="number"&&(r={marginLeft:i===0?"0px":`calc(100% * ${i} / var(${$1}) + var(${$_("column")}) * ${i} / var(${$1}))`}),a(n,r)}),n},ide=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={[AP]:12};return kb(t.breakpoints,e.columns,(a,i)=>{const r=i??12;a(n,{[AP]:r,"> *":{[$1]:r}})}),n},rde=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return kb(t.breakpoints,e.rowSpacing,(a,i)=>{const r=typeof i=="string"?i:t.spacing?.(i);a(n,{[S4("row")]:r,"> *":{[$_("row")]:r}})}),n},ode=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return kb(t.breakpoints,e.columnSpacing,(a,i)=>{const r=typeof i=="string"?i:t.spacing?.(i);a(n,{[S4("column")]:r,"> *":{[$_("column")]:r}})}),n},sde=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return kb(t.breakpoints,e.direction,(a,i)=>{a(n,{flexDirection:i})}),n},lde=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${S4("row")}) var(${S4("column")})`}}),cde=t=>{const e=[];return Object.entries(t).forEach(([n,a])=>{a!==!1&&a!==void 0&&e.push(`grid-${n}-${String(a)}`)}),e},ude=(t,e="xs")=>{function n(a){return a===void 0?!1:typeof a=="string"&&!Number.isNaN(Number(a))||typeof a=="number"&&a>0}if(n(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const a=[];return Object.entries(t).forEach(([i,r])=>{n(r)&&a.push(`spacing-${i}-${String(r)}`)}),a}return[]},dde=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,n])=>`direction-${e}-${n}`):[`direction-xs-${String(t)}`];function fde(t,e){t.item!==void 0&&delete t.item,t.zeroMinWidth!==void 0&&delete t.zeroMinWidth,e.keys.forEach(n=>{t[n]!==void 0&&delete t[n]})}const hde=Rb(),pde=gj("div",{name:"MuiGrid",slot:"Root"});function mde(t){return bj({props:t,name:"MuiGrid",defaultTheme:hde})}function gde(t={}){const{createStyledComponent:e=pde,useThemeProps:n=mde,useTheme:a=rS,componentName:i="MuiGrid"}=t,r=(u,d)=>{const{container:h,direction:m,spacing:g,wrap:y,size:v}=u,S={root:["root",h&&"container",y!=="wrap"&&`wrap-xs-${String(y)}`,...dde(m),...cde(v),...h?ude(g,d.breakpoints.keys[0]):[]]};return Lt(S,w=>Pt(i,w),{})};function o(u,d,h=()=>!0){const m={};return u===null||(Array.isArray(u)?u.forEach((g,y)=>{g!==null&&h(g)&&d.keys[y]&&(m[d.keys[y]]=g)}):typeof u=="object"?Object.keys(u).forEach(g=>{const y=u[g];y!=null&&h(y)&&(m[g]=y)}):m[d.keys[0]]=u),m}const s=e(ide,ode,rde,nde,sde,lde,ade),c=E.forwardRef(function(d,h){const m=a(),g=n(d),y=O_(g);fde(y,m.breakpoints);const{className:v,children:S,columns:w=12,container:_=!1,component:T="div",direction:A="row",wrap:R="wrap",size:I={},offset:N={},spacing:P=0,rowSpacing:O=P,columnSpacing:D=P,unstable_level:H=0,...L}=y,$=o(I,m.breakpoints,K=>K!==!1),M=o(N,m.breakpoints),z=d.columns??(H?void 0:w),F=d.spacing??(H?void 0:P),G=d.rowSpacing??d.spacing??(H?void 0:O),ee=d.columnSpacing??d.spacing??(H?void 0:D),V={...y,level:H,columns:z,container:_,direction:A,wrap:R,spacing:F,rowSpacing:G,columnSpacing:ee,size:$,offset:M},Y=r(V,m);return l.jsx(s,{ref:h,as:T,ownerState:V,className:dt(Y.root,v),...L,children:E.Children.map(S,K=>E.isValidElement(K)&&Mv(K,["Grid"])&&_&&K.props.container?E.cloneElement(K,{unstable_level:K.props?.unstable_level??H+1}):K)})});return c.muiName="Grid",c}const bde=Rb(),yde=gj("div",{name:"MuiStack",slot:"Root"});function xde(t){return bj({props:t,name:"MuiStack",defaultTheme:bde})}function vde(t,e){const n=E.Children.toArray(t).filter(Boolean);return n.reduce((a,i,r)=>(a.push(i),r<n.length-1&&a.push(E.cloneElement(e,{key:`separator-${r}`})),a),[])}const Sde=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],Cde=({ownerState:t,theme:e})=>{let n={display:"flex",flexDirection:"column",...Uc({theme:e},lE({values:t.direction,breakpoints:e.breakpoints.values}),a=>({flexDirection:a}))};if(t.spacing){const a=R_(e),i=Object.keys(e.breakpoints.values).reduce((c,u)=>((typeof t.spacing=="object"&&t.spacing[u]!=null||typeof t.direction=="object"&&t.direction[u]!=null)&&(c[u]=!0),c),{}),r=lE({values:t.direction,base:i}),o=lE({values:t.spacing,base:i});typeof r=="object"&&Object.keys(r).forEach((c,u,d)=>{if(!r[c]){const m=u>0?r[d[u-1]]:"column";r[c]=m}}),n=qr(n,Uc({theme:e},o,(c,u)=>t.useFlexGap?{gap:lg(a,c)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Sde(u?r[u]:t.direction)}`]:lg(a,c)}}))}return n=gle(e.breakpoints,n),n};function wde(t={}){const{createStyledComponent:e=yde,useThemeProps:n=xde,componentName:a="MuiStack"}=t,i=()=>Lt({root:["root"]},c=>Pt(a,c),{}),r=e(Cde);return E.forwardRef(function(c,u){const d=n(c),h=O_(d),{component:m="div",direction:g="column",spacing:y=0,divider:v,children:S,className:w,useFlexGap:_=!1,...T}=h,A={direction:g,spacing:y,useFlexGap:_},R=i();return l.jsx(r,{as:m,ownerState:A,ref:u,className:dt(R.root,w),...T,children:v?vde(S,v):S})})}const m2={black:"#000",white:"#fff"},_de={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},a1={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},i1={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Ox={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},r1={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},o1={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},s1={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function eX(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:m2.white,default:m2.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const tX=eX();function nX(){return{text:{primary:m2.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:m2.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const LI=nX();function RP(t,e,n,a){const i=a.light||a,r=a.dark||a*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=H_(t.main,i):e==="dark"&&(t.dark=B_(t.main,r)))}function kP(t,e,n,a,i){const r=i.light||i,o=i.dark||i*1.5;e[n]||(e.hasOwnProperty(a)?e[n]=e[a]:n==="light"?e.light=`color-mix(in ${t}, ${e.main}, #fff ${(r*100).toFixed(0)}%)`:n==="dark"&&(e.dark=`color-mix(in ${t}, ${e.main}, #000 ${(o*100).toFixed(0)}%)`))}function Tde(t="light"){return t==="dark"?{main:r1[200],light:r1[50],dark:r1[400]}:{main:r1[700],light:r1[400],dark:r1[800]}}function Ede(t="light"){return t==="dark"?{main:a1[200],light:a1[50],dark:a1[400]}:{main:a1[500],light:a1[300],dark:a1[700]}}function Ade(t="light"){return t==="dark"?{main:i1[500],light:i1[300],dark:i1[700]}:{main:i1[700],light:i1[400],dark:i1[800]}}function Rde(t="light"){return t==="dark"?{main:o1[400],light:o1[300],dark:o1[700]}:{main:o1[700],light:o1[500],dark:o1[900]}}function kde(t="light"){return t==="dark"?{main:s1[400],light:s1[300],dark:s1[700]}:{main:s1[800],light:s1[500],dark:s1[900]}}function Ide(t="light"){return t==="dark"?{main:Ox[400],light:Ox[300],dark:Ox[700]}:{main:"#ed6c02",light:Ox[500],dark:Ox[900]}}function Nde(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function Cj(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:a=.2,colorSpace:i,...r}=t,o=t.primary||Tde(e),s=t.secondary||Ede(e),c=t.error||Ade(e),u=t.info||Rde(e),d=t.success||kde(e),h=t.warning||Ide(e);function m(S){return i?Nde(S):_ue(S,LI.text.primary)>=n?LI.text.primary:tX.text.primary}const g=({color:S,name:w,mainShade:_=500,lightShade:T=300,darkShade:A=700})=>{if(S={...S},!S.main&&S[_]&&(S.main=S[_]),!S.hasOwnProperty("main"))throw new Error(gf(11,w?` (${w})`:"",_));if(typeof S.main!="string")throw new Error(gf(12,w?` (${w})`:"",JSON.stringify(S.main)));return i?(kP(i,S,"light",T,a),kP(i,S,"dark",A,a)):(RP(S,"light",T,a),RP(S,"dark",A,a)),S.contrastText||(S.contrastText=m(S.main)),S};let y;return e==="light"?y=eX():e==="dark"&&(y=nX()),qr({common:{...m2},mode:e,primary:g({color:o,name:"primary"}),secondary:g({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:c,name:"error"}),warning:g({color:h,name:"warning"}),info:g({color:u,name:"info"}),success:g({color:d,name:"success"}),grey:_de,contrastThreshold:n,getContrastText:m,augmentColor:g,tonalOffset:a,...y},r)}function jde(t){const e={};return Object.entries(t).forEach(a=>{const[i,r]=a;typeof r=="object"&&(e[i]=`${r.fontStyle?`${r.fontStyle} `:""}${r.fontVariant?`${r.fontVariant} `:""}${r.fontWeight?`${r.fontWeight} `:""}${r.fontStretch?`${r.fontStretch} `:""}${r.fontSize||""}${r.lineHeight?`/${r.lineHeight} `:""}${r.fontFamily||""}`)}),e}function Dde(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function Ode(t){return Math.round(t*1e5)/1e5}const IP={textTransform:"uppercase"},NP='"Roboto", "Helvetica", "Arial", sans-serif';function aX(t,e){const{fontFamily:n=NP,fontSize:a=14,fontWeightLight:i=300,fontWeightRegular:r=400,fontWeightMedium:o=500,fontWeightBold:s=700,htmlFontSize:c=16,allVariants:u,pxToRem:d,...h}=typeof e=="function"?e(t):e,m=a/14,g=d||(S=>`${S/c*m}rem`),y=(S,w,_,T,A)=>({fontFamily:n,fontWeight:S,fontSize:g(w),lineHeight:_,...n===NP?{letterSpacing:`${Ode(T/w)}em`}:{},...A,...u}),v={h1:y(i,96,1.167,-1.5),h2:y(i,60,1.2,-.5),h3:y(r,48,1.167,0),h4:y(r,34,1.235,.25),h5:y(r,24,1.334,0),h6:y(o,20,1.6,.15),subtitle1:y(r,16,1.75,.15),subtitle2:y(o,14,1.57,.1),body1:y(r,16,1.5,.15),body2:y(r,14,1.43,.15),button:y(o,14,1.75,.4,IP),caption:y(r,12,1.66,.4),overline:y(r,12,2.66,1,IP),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return qr({htmlFontSize:c,pxToRem:g,fontFamily:n,fontSize:a,fontWeightLight:i,fontWeightRegular:r,fontWeightMedium:o,fontWeightBold:s,...v},h,{clone:!1})}const Mde=.2,Pde=.14,Lde=.12;function _i(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Mde})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Pde})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Lde})`].join(",")}const zde=["none",_i(0,2,1,-1,0,1,1,0,0,1,3,0),_i(0,3,1,-2,0,2,2,0,0,1,5,0),_i(0,3,3,-2,0,3,4,0,0,1,8,0),_i(0,2,4,-1,0,4,5,0,0,1,10,0),_i(0,3,5,-1,0,5,8,0,0,1,14,0),_i(0,3,5,-1,0,6,10,0,0,1,18,0),_i(0,4,5,-2,0,7,10,1,0,2,16,1),_i(0,5,5,-3,0,8,10,1,0,3,14,2),_i(0,5,6,-3,0,9,12,1,0,3,16,2),_i(0,6,6,-3,0,10,14,1,0,4,18,3),_i(0,6,7,-4,0,11,15,1,0,4,20,3),_i(0,7,8,-4,0,12,17,2,0,5,22,4),_i(0,7,8,-4,0,13,19,2,0,5,24,4),_i(0,7,9,-4,0,14,21,2,0,5,26,4),_i(0,8,9,-5,0,15,22,2,0,6,28,5),_i(0,8,10,-5,0,16,24,2,0,6,30,5),_i(0,8,11,-5,0,17,26,2,0,6,32,5),_i(0,9,11,-5,0,18,28,2,0,7,34,6),_i(0,9,12,-6,0,19,29,2,0,7,36,6),_i(0,10,13,-6,0,20,31,3,0,8,38,7),_i(0,10,13,-6,0,21,33,3,0,8,40,7),_i(0,10,14,-6,0,22,35,3,0,8,42,7),_i(0,11,14,-7,0,23,36,3,0,9,44,8),_i(0,11,15,-7,0,24,38,3,0,9,46,8)],Fde={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},iX={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function jP(t){return`${Math.round(t)}ms`}function Bde(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Hde(t){const e={...Fde,...t.easing},n={...iX,...t.duration};return{getAutoHeightDuration:Bde,create:(i=["all"],r={})=>{const{duration:o=n.standard,easing:s=e.easeInOut,delay:c=0,...u}=r;return(Array.isArray(i)?i:[i]).map(d=>`${d} ${typeof o=="string"?o:jP(o)} ${s} ${typeof c=="string"?c:jP(c)}`).join(",")},...t,easing:e,duration:n}}const $de={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Ude(t){return Wu(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function rX(t={}){const e={...t};function n(a){const i=Object.entries(a);for(let r=0;r<i.length;r++){const[o,s]=i[r];!Ude(s)||o.startsWith("unstable_")?delete a[o]:Wu(s)&&(a[o]={...s},n(a[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function DP(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const Gde=t=>{if(!Number.isNaN(+t))return+t;const e=t.match(/\d*\.?\d+/g);if(!e)return 0;let n=0;for(let a=0;a<e.length;a+=1)n+=+e[a];return n};function qde(t){Object.assign(t,{alpha(e,n){const a=this||t;return a.colorSpace?`oklch(from ${e} l c h / ${typeof n=="string"?`calc(${n})`:n})`:a.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:gi(e,Gde(n))},lighten(e,n){const a=this||t;return a.colorSpace?`color-mix(in ${a.colorSpace}, ${e}, #fff ${DP(n)})`:H_(e,n)},darken(e,n){const a=this||t;return a.colorSpace?`color-mix(in ${a.colorSpace}, ${e}, #000 ${DP(n)})`:B_(e,n)}})}function zI(t={},...e){const{breakpoints:n,mixins:a={},spacing:i,palette:r={},transitions:o={},typography:s={},shape:c,colorSpace:u,...d}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(gf(20));const h=Cj({...r,colorSpace:u}),m=Rb(t);let g=qr(m,{mixins:Dde(m.breakpoints,a),palette:h,shadows:zde.slice(),typography:aX(h,s),transitions:Hde(o),zIndex:{...$de}});return g=qr(g,d),g=e.reduce((y,v)=>qr(y,v),g),g.unstable_sxConfig={...tS,...d?.unstable_sxConfig},g.unstable_sx=function(v){return dp({sx:v,theme:this})},g.toRuntimeSource=rX,qde(g),g}function FI(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const Wde=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=FI(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function oX(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function sX(t){return t==="dark"?Wde:[]}function Vde(t){const{palette:e={mode:"light"},opacity:n,overlays:a,colorSpace:i,...r}=t,o=Cj({...e,colorSpace:i});return{palette:o,opacity:{...oX(o.mode),...n},overlays:a||sX(o.mode),...r}}function Yde(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const Kde=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],Xde=t=>(e,n)=>{const a=t.rootSelector||":root",i=t.colorSchemeSelector;let r=i;if(i==="class"&&(r=".%s"),i==="data"&&(r="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(r=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const o={};return Kde(t.cssVarPrefix).forEach(s=>{o[s]=n[s],delete n[s]}),r==="media"?{[a]:n,"@media (prefers-color-scheme: dark)":{[a]:o}}:r?{[r.replace("%s",e)]:o,[`${a}, ${r.replace("%s",e)}`]:n}:{[a]:{...n,...o}}}if(r&&r!=="media")return`${a}, ${r.replace("%s",String(e))}`}else if(e){if(r==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[a]:n}};if(r)return r.replace("%s",String(e))}return a};function Qde(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function ut(t,e,n){!t[e]&&n&&(t[e]=n)}function mv(t){return typeof t!="string"||!t.startsWith("hsl")?t:YK(t)}function Kd(t,e){`${e}Channel`in t||(t[`${e}Channel`]=pv(mv(t[e])))}function Zde(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Mu=t=>{try{return t()}catch{}},Jde=(t="mui")=>que(t);function gE(t,e,n,a,i){if(!n)return;n=n===!0?{}:n;const r=i==="dark"?"dark":"light";if(!a){e[i]=Vde({...n,palette:{mode:r,...n?.palette},colorSpace:t});return}const{palette:o,...s}=zI({...a,palette:{mode:r,...n?.palette},colorSpace:t});return e[i]={...n,palette:o,opacity:{...oX(r),...n?.opacity},overlays:n?.overlays||sX(r)},s}function efe(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:a,disableCssColorScheme:i=!1,cssVarPrefix:r="mui",nativeColor:o=!1,shouldSkipGeneratingVar:s=Yde,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:u=":root",...d}=t,h=Object.keys(n)[0],m=a||(n.light&&h!=="light"?"light":h),g=Jde(r),{[m]:y,light:v,dark:S,...w}=n,_={...w};let T=y;if((m==="dark"&&!("dark"in n)||m==="light"&&!("light"in n))&&(T=!0),!T)throw new Error(gf(21,m));let A;o&&(A="oklch");const R=gE(A,_,T,d,m);v&&!_.light&&gE(A,_,v,void 0,"light"),S&&!_.dark&&gE(A,_,S,void 0,"dark");let I={defaultColorScheme:m,...R,cssVarPrefix:r,colorSchemeSelector:c,rootSelector:u,getCssVar:g,colorSchemes:_,font:{...jde(R.typography),...R.font},spacing:Zde(d.spacing)};Object.keys(I.colorSchemes).forEach(H=>{const L=I.colorSchemes[H].palette,$=z=>{const F=z.split("-"),G=F[1],ee=F[2];return g(z,L[G][ee])};L.mode==="light"&&(ut(L.common,"background","#fff"),ut(L.common,"onBackground","#000")),L.mode==="dark"&&(ut(L.common,"background","#000"),ut(L.common,"onBackground","#fff"));function M(z,F,G){if(A){let ee;return z===ym&&(ee=`transparent ${((1-G)*100).toFixed(0)}%`),z===ja&&(ee=`#000 ${(G*100).toFixed(0)}%`),z===Da&&(ee=`#fff ${(G*100).toFixed(0)}%`),`color-mix(in ${A}, ${F}, ${ee})`}return z(F,G)}if(Qde(L,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),L.mode==="light"){ut(L.Alert,"errorColor",M(ja,L.error.light,.6)),ut(L.Alert,"infoColor",M(ja,L.info.light,.6)),ut(L.Alert,"successColor",M(ja,L.success.light,.6)),ut(L.Alert,"warningColor",M(ja,L.warning.light,.6)),ut(L.Alert,"errorFilledBg",$("palette-error-main")),ut(L.Alert,"infoFilledBg",$("palette-info-main")),ut(L.Alert,"successFilledBg",$("palette-success-main")),ut(L.Alert,"warningFilledBg",$("palette-warning-main")),ut(L.Alert,"errorFilledColor",Mu(()=>L.getContrastText(L.error.main))),ut(L.Alert,"infoFilledColor",Mu(()=>L.getContrastText(L.info.main))),ut(L.Alert,"successFilledColor",Mu(()=>L.getContrastText(L.success.main))),ut(L.Alert,"warningFilledColor",Mu(()=>L.getContrastText(L.warning.main))),ut(L.Alert,"errorStandardBg",M(Da,L.error.light,.9)),ut(L.Alert,"infoStandardBg",M(Da,L.info.light,.9)),ut(L.Alert,"successStandardBg",M(Da,L.success.light,.9)),ut(L.Alert,"warningStandardBg",M(Da,L.warning.light,.9)),ut(L.Alert,"errorIconColor",$("palette-error-main")),ut(L.Alert,"infoIconColor",$("palette-info-main")),ut(L.Alert,"successIconColor",$("palette-success-main")),ut(L.Alert,"warningIconColor",$("palette-warning-main")),ut(L.AppBar,"defaultBg",$("palette-grey-100")),ut(L.Avatar,"defaultBg",$("palette-grey-400")),ut(L.Button,"inheritContainedBg",$("palette-grey-300")),ut(L.Button,"inheritContainedHoverBg",$("palette-grey-A100")),ut(L.Chip,"defaultBorder",$("palette-grey-400")),ut(L.Chip,"defaultAvatarColor",$("palette-grey-700")),ut(L.Chip,"defaultIconColor",$("palette-grey-700")),ut(L.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ut(L.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ut(L.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ut(L.LinearProgress,"primaryBg",M(Da,L.primary.main,.62)),ut(L.LinearProgress,"secondaryBg",M(Da,L.secondary.main,.62)),ut(L.LinearProgress,"errorBg",M(Da,L.error.main,.62)),ut(L.LinearProgress,"infoBg",M(Da,L.info.main,.62)),ut(L.LinearProgress,"successBg",M(Da,L.success.main,.62)),ut(L.LinearProgress,"warningBg",M(Da,L.warning.main,.62)),ut(L.Skeleton,"bg",A?M(ym,L.text.primary,.11):`rgba(${$("palette-text-primaryChannel")} / 0.11)`),ut(L.Slider,"primaryTrack",M(Da,L.primary.main,.62)),ut(L.Slider,"secondaryTrack",M(Da,L.secondary.main,.62)),ut(L.Slider,"errorTrack",M(Da,L.error.main,.62)),ut(L.Slider,"infoTrack",M(Da,L.info.main,.62)),ut(L.Slider,"successTrack",M(Da,L.success.main,.62)),ut(L.Slider,"warningTrack",M(Da,L.warning.main,.62));const z=A?M(ja,L.background.default,.6825):DC(L.background.default,.8);ut(L.SnackbarContent,"bg",z),ut(L.SnackbarContent,"color",Mu(()=>A?LI.text.primary:L.getContrastText(z))),ut(L.SpeedDialAction,"fabHoverBg",DC(L.background.paper,.15)),ut(L.StepConnector,"border",$("palette-grey-400")),ut(L.StepContent,"border",$("palette-grey-400")),ut(L.Switch,"defaultColor",$("palette-common-white")),ut(L.Switch,"defaultDisabledColor",$("palette-grey-100")),ut(L.Switch,"primaryDisabledColor",M(Da,L.primary.main,.62)),ut(L.Switch,"secondaryDisabledColor",M(Da,L.secondary.main,.62)),ut(L.Switch,"errorDisabledColor",M(Da,L.error.main,.62)),ut(L.Switch,"infoDisabledColor",M(Da,L.info.main,.62)),ut(L.Switch,"successDisabledColor",M(Da,L.success.main,.62)),ut(L.Switch,"warningDisabledColor",M(Da,L.warning.main,.62)),ut(L.TableCell,"border",M(Da,M(ym,L.divider,1),.88)),ut(L.Tooltip,"bg",M(ym,L.grey[700],.92))}if(L.mode==="dark"){ut(L.Alert,"errorColor",M(Da,L.error.light,.6)),ut(L.Alert,"infoColor",M(Da,L.info.light,.6)),ut(L.Alert,"successColor",M(Da,L.success.light,.6)),ut(L.Alert,"warningColor",M(Da,L.warning.light,.6)),ut(L.Alert,"errorFilledBg",$("palette-error-dark")),ut(L.Alert,"infoFilledBg",$("palette-info-dark")),ut(L.Alert,"successFilledBg",$("palette-success-dark")),ut(L.Alert,"warningFilledBg",$("palette-warning-dark")),ut(L.Alert,"errorFilledColor",Mu(()=>L.getContrastText(L.error.dark))),ut(L.Alert,"infoFilledColor",Mu(()=>L.getContrastText(L.info.dark))),ut(L.Alert,"successFilledColor",Mu(()=>L.getContrastText(L.success.dark))),ut(L.Alert,"warningFilledColor",Mu(()=>L.getContrastText(L.warning.dark))),ut(L.Alert,"errorStandardBg",M(ja,L.error.light,.9)),ut(L.Alert,"infoStandardBg",M(ja,L.info.light,.9)),ut(L.Alert,"successStandardBg",M(ja,L.success.light,.9)),ut(L.Alert,"warningStandardBg",M(ja,L.warning.light,.9)),ut(L.Alert,"errorIconColor",$("palette-error-main")),ut(L.Alert,"infoIconColor",$("palette-info-main")),ut(L.Alert,"successIconColor",$("palette-success-main")),ut(L.Alert,"warningIconColor",$("palette-warning-main")),ut(L.AppBar,"defaultBg",$("palette-grey-900")),ut(L.AppBar,"darkBg",$("palette-background-paper")),ut(L.AppBar,"darkColor",$("palette-text-primary")),ut(L.Avatar,"defaultBg",$("palette-grey-600")),ut(L.Button,"inheritContainedBg",$("palette-grey-800")),ut(L.Button,"inheritContainedHoverBg",$("palette-grey-700")),ut(L.Chip,"defaultBorder",$("palette-grey-700")),ut(L.Chip,"defaultAvatarColor",$("palette-grey-300")),ut(L.Chip,"defaultIconColor",$("palette-grey-300")),ut(L.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ut(L.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ut(L.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ut(L.LinearProgress,"primaryBg",M(ja,L.primary.main,.5)),ut(L.LinearProgress,"secondaryBg",M(ja,L.secondary.main,.5)),ut(L.LinearProgress,"errorBg",M(ja,L.error.main,.5)),ut(L.LinearProgress,"infoBg",M(ja,L.info.main,.5)),ut(L.LinearProgress,"successBg",M(ja,L.success.main,.5)),ut(L.LinearProgress,"warningBg",M(ja,L.warning.main,.5)),ut(L.Skeleton,"bg",A?M(ym,L.text.primary,.13):`rgba(${$("palette-text-primaryChannel")} / 0.13)`),ut(L.Slider,"primaryTrack",M(ja,L.primary.main,.5)),ut(L.Slider,"secondaryTrack",M(ja,L.secondary.main,.5)),ut(L.Slider,"errorTrack",M(ja,L.error.main,.5)),ut(L.Slider,"infoTrack",M(ja,L.info.main,.5)),ut(L.Slider,"successTrack",M(ja,L.success.main,.5)),ut(L.Slider,"warningTrack",M(ja,L.warning.main,.5));const z=A?M(Da,L.background.default,.985):DC(L.background.default,.98);ut(L.SnackbarContent,"bg",z),ut(L.SnackbarContent,"color",Mu(()=>A?tX.text.primary:L.getContrastText(z))),ut(L.SpeedDialAction,"fabHoverBg",DC(L.background.paper,.15)),ut(L.StepConnector,"border",$("palette-grey-600")),ut(L.StepContent,"border",$("palette-grey-600")),ut(L.Switch,"defaultColor",$("palette-grey-300")),ut(L.Switch,"defaultDisabledColor",$("palette-grey-600")),ut(L.Switch,"primaryDisabledColor",M(ja,L.primary.main,.55)),ut(L.Switch,"secondaryDisabledColor",M(ja,L.secondary.main,.55)),ut(L.Switch,"errorDisabledColor",M(ja,L.error.main,.55)),ut(L.Switch,"infoDisabledColor",M(ja,L.info.main,.55)),ut(L.Switch,"successDisabledColor",M(ja,L.success.main,.55)),ut(L.Switch,"warningDisabledColor",M(ja,L.warning.main,.55)),ut(L.TableCell,"border",M(ja,M(ym,L.divider,1),.68)),ut(L.Tooltip,"bg",M(ym,L.grey[700],.92))}Kd(L.background,"default"),Kd(L.background,"paper"),Kd(L.common,"background"),Kd(L.common,"onBackground"),Kd(L,"divider"),Object.keys(L).forEach(z=>{const F=L[z];z!=="tonalOffset"&&F&&typeof F=="object"&&(F.main&&ut(L[z],"mainChannel",pv(mv(F.main))),F.light&&ut(L[z],"lightChannel",pv(mv(F.light))),F.dark&&ut(L[z],"darkChannel",pv(mv(F.dark))),F.contrastText&&ut(L[z],"contrastTextChannel",pv(mv(F.contrastText))),z==="text"&&(Kd(L[z],"primary"),Kd(L[z],"secondary")),z==="action"&&(F.active&&Kd(L[z],"active"),F.selected&&Kd(L[z],"selected")))})}),I=e.reduce((H,L)=>qr(H,L),I);const N={prefix:r,disableCssColorScheme:i,shouldSkipGeneratingVar:s,getSelector:Xde(I),enableContrastVars:o},{vars:P,generateThemeVars:O,generateStyleSheets:D}=Yue(I,N);return I.vars=P,Object.entries(I.colorSchemes[I.defaultColorScheme]).forEach(([H,L])=>{I[H]=L}),I.generateThemeVars=O,I.generateStyleSheets=D,I.generateSpacing=function(){return zK(d.spacing,R_(this))},I.getColorSchemeSelector=Kue(c),I.spacing=I.generateSpacing(),I.shouldSkipGeneratingVar=s,I.unstable_sxConfig={...tS,...d?.unstable_sxConfig},I.unstable_sx=function(L){return dp({sx:L,theme:this})},I.toRuntimeSource=rX,I}function OP(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:Cj({...n===!0?{}:n.palette,mode:e})})}function U_(t={},...e){const{palette:n,cssVariables:a=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:r=n?.mode,...o}=t,s=r||"light",c=i?.[s],u={...i,...n?{[s]:{...typeof c!="boolean"&&c,palette:n}}:void 0};if(a===!1){if(!("colorSchemes"in t))return zI(t,...e);let d=n;"palette"in t||u[s]&&(u[s]!==!0?d=u[s].palette:s==="dark"&&(d={mode:"dark"}));const h=zI({...t,palette:d},...e);return h.defaultColorScheme=s,h.colorSchemes=u,h.palette.mode==="light"&&(h.colorSchemes.light={...u.light!==!0&&u.light,palette:h.palette},OP(h,"dark",u.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:h.palette},OP(h,"light",u.light)),h}return!n&&!("light"in u)&&s==="light"&&(u.light=!0),efe({...o,colorSchemes:u,defaultColorScheme:s,...typeof a!="boolean"&&a},...e)}const wj=U_(),Bc="$$material";function Fi(){const t=rS(wj);return t[Bc]||t}function tfe(t){return l.jsx(FK,{...t,defaultTheme:wj,themeId:Bc})}function G_(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Sr=t=>G_(t)&&t!=="classes",qe=GK({themeId:Bc,defaultTheme:wj,rootShouldForwardProp:Sr});function _j(t){return function(n){return l.jsx(tfe,{styles:typeof t=="function"?a=>t({theme:a,...n}):t})}}function nfe(){return O_}function Bt(t){return jue(t)}const BI=typeof _j({})=="function",afe=(t,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!t.vars&&{colorScheme:t.palette.mode}}),ife=t=>({color:(t.vars||t).palette.text.primary,...t.typography.body1,backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),lX=(t,e=!1)=>{const n={};e&&t.colorSchemes&&typeof t.getColorSchemeSelector=="function"&&Object.entries(t.colorSchemes).forEach(([r,o])=>{const s=t.getColorSchemeSelector(r);s.startsWith("@")?n[s]={":root":{colorScheme:o.palette?.mode}}:n[s.replace(/\s*&/,"")]={colorScheme:o.palette?.mode}});let a={html:afe(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:{margin:0,...ife(t),"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}},...n};const i=t.components?.MuiCssBaseline?.styleOverrides;return i&&(a=[a,i]),a},Xw="mui-ecs",rfe=t=>{const e=lX(t,!1),n=Array.isArray(e)?e[0]:e;return!t.vars&&n&&(n.html[`:root:has(${Xw})`]={colorScheme:t.palette.mode}),t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([a,i])=>{const r=t.getColorSchemeSelector(a);r.startsWith("@")?n[r]={[`:root:not(:has(.${Xw}))`]:{colorScheme:i.palette?.mode}}:n[r.replace(/\s*&/,"")]={[`&:not(:has(.${Xw}))`]:{colorScheme:i.palette?.mode}}}),e},ofe=_j(BI?({theme:t,enableColorScheme:e})=>lX(t,e):({theme:t})=>rfe(t));function sfe(t){const e=Bt({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:a=!1}=e;return l.jsxs(E.Fragment,{children:[BI&&l.jsx(ofe,{enableColorScheme:a}),!BI&&!a&&l.jsx("span",{className:Xw,style:{display:"none"}}),n]})}var Ib=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lfe={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},cfe=class{#e=lfe;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Lm=new cfe;function ufe(t){setTimeout(t,0)}var cg=typeof window>"u"||"Deno"in globalThis;function Qo(){}function dfe(t,e){return typeof t=="function"?t(e):t}function HI(t){return typeof t=="number"&&t>=0&&t!==1/0}function cX(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ap(t,e){return typeof t=="function"?t(e):t}function $l(t,e){return typeof t=="function"?t(e):t}function MP(t,e){const{type:n="all",exact:a,fetchStatus:i,predicate:r,queryKey:o,stale:s}=t;if(o){if(a){if(e.queryHash!==Tj(o,e.options))return!1}else if(!g2(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||i&&i!==e.state.fetchStatus||r&&!r(e))}function PP(t,e){const{exact:n,status:a,predicate:i,mutationKey:r}=t;if(r){if(!e.options.mutationKey)return!1;if(n){if(ug(e.options.mutationKey)!==ug(r))return!1}else if(!g2(e.options.mutationKey,r))return!1}return!(a&&e.state.status!==a||i&&!i(e))}function Tj(t,e){return(e?.queryKeyHashFn||ug)(t)}function ug(t){return JSON.stringify(t,(e,n)=>$I(n)?Object.keys(n).sort().reduce((a,i)=>(a[i]=n[i],a),{}):n)}function g2(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>g2(t[n],e[n])):!1}var ffe=Object.prototype.hasOwnProperty;function uX(t,e){if(t===e)return t;const n=LP(t)&&LP(e);if(!n&&!($I(t)&&$I(e)))return e;const i=(n?t:Object.keys(t)).length,r=n?e:Object.keys(e),o=r.length,s=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:r[u],h=t[d],m=e[d];if(h===m){s[d]=h,(n?u<i:ffe.call(t,d))&&c++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){s[d]=m;continue}const g=uX(h,m);s[d]=g,g===h&&c++}return i===o&&c===i?t:s}function C4(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function LP(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $I(t){if(!zP(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!zP(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function zP(t){return Object.prototype.toString.call(t)==="[object Object]"}function hfe(t){return new Promise(e=>{Lm.setTimeout(e,t)})}function UI(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?uX(t,e):e}function pfe(t,e,n=0){const a=[...t,e];return n&&a.length>n?a.slice(1):a}function mfe(t,e,n=0){const a=[e,...t];return n&&a.length>n?a.slice(0,-1):a}var Ej=Symbol();function dX(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Ej?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function fX(t,e){return typeof t=="function"?t(...e):!!t}var gfe=class extends Ib{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!cg&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Aj=new gfe;function GI(){let t,e;const n=new Promise((i,r)=>{t=i,e=r});n.status="pending",n.catch(()=>{});function a(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{a({status:"fulfilled",value:i}),t(i)},n.reject=i=>{a({status:"rejected",reason:i}),e(i)},n}var bfe=ufe;function yfe(){let t=[],e=0,n=s=>{s()},a=s=>{s()},i=bfe;const r=s=>{e?t.push(s):i(()=>{n(s)})},o=()=>{const s=t;t=[],s.length&&i(()=>{a(()=>{s.forEach(c=>{n(c)})})})};return{batch:s=>{let c;e++;try{c=s()}finally{e--,e||o()}return c},batchCalls:s=>(...c)=>{r(()=>{s(...c)})},schedule:r,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{a=s},setScheduler:s=>{i=s}}}var Ir=yfe(),xfe=class extends Ib{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!cg&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},w4=new xfe;function vfe(t){return Math.min(1e3*2**t,3e4)}function hX(t){return(t??"online")==="online"?w4.isOnline():!0}var qI=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function pX(t){let e=!1,n=0,a;const i=GI(),r=()=>i.status!=="pending",o=v=>{if(!r()){const S=new qI(v);m(S),t.onCancel?.(S)}},s=()=>{e=!0},c=()=>{e=!1},u=()=>Aj.isFocused()&&(t.networkMode==="always"||w4.isOnline())&&t.canRun(),d=()=>hX(t.networkMode)&&t.canRun(),h=v=>{r()||(a?.(),i.resolve(v))},m=v=>{r()||(a?.(),i.reject(v))},g=()=>new Promise(v=>{a=S=>{(r()||u())&&v(S)},t.onPause?.()}).then(()=>{a=void 0,r()||t.onContinue?.()}),y=()=>{if(r())return;let v;const S=n===0?t.initialPromise:void 0;try{v=S??t.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(h).catch(w=>{if(r())return;const _=t.retry??(cg?0:3),T=t.retryDelay??vfe,A=typeof T=="function"?T(n,w):T,R=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,w);if(e||!R){m(w);return}n++,t.onFail?.(n,w),hfe(A).then(()=>u()?void 0:g()).then(()=>{e?m(w):y()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(a?.(),i),cancelRetry:s,continueRetry:c,canStart:d,start:()=>(d()?y():g().then(y),i)}}var mX=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),HI(this.gcTime)&&(this.#e=Lm.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(cg?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Lm.clearTimeout(this.#e),this.#e=void 0)}},Sfe=class extends mX{#e;#t;#n;#i;#a;#o;#s;constructor(t){super(),this.#s=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=FP(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=FP(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=UI(this.state.data,t,this.options);return this.#r({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#r({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#a?.promise;return this.#a?.cancel(t),e?e.then(Qo).catch(Qo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>$l(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ej||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ap(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!cX(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#a&&(this.#s?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const s=this.observers.find(c=>c.options.queryFn);s&&this.setOptions(s.options)}const n=new AbortController,a=s=>{Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},i=()=>{const s=dX(this.options,e),u=(()=>{const d={client:this.#i,queryKey:this.queryKey,meta:this.meta};return a(d),d})();return this.#s=!1,this.options.persister?this.options.persister(s,u,this):s(u)},o=(()=>{const s={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return a(s),s})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#r({type:"fetch",meta:o.fetchOptions?.meta}),this.#a=pX({initialPromise:e?.initialPromise,fn:o.fetchFn,onCancel:s=>{s instanceof qI&&s.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(s,c)=>{this.#r({type:"failed",failureCount:s,error:c})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const s=await this.#a.start();if(s===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(s),this.#n.config.onSuccess?.(s,this),this.#n.config.onSettled?.(s,this.state.error,this),s}catch(s){if(s instanceof qI){if(s.silent)return this.#a.promise;if(s.revert){if(this.state.data===void 0)throw s;return this.state.data}}throw this.#r({type:"error",error:s}),this.#n.config.onError?.(s,this),this.#n.config.onSettled?.(this.state.data,s,this),s}finally{this.scheduleGc()}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...gX(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?a:void 0,a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Ir.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function gX(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hX(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function FP(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,a=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var bX=class extends Ib{constructor(t,e){super(),this.options=e,this.#e=t,this.#r=null,this.#s=GI(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#i=void 0;#a;#o;#s;#r;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),BP(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return WI(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return WI(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#S(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $l(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#C(),this.#t.setOptions(this.options),e._defaulted&&!C4(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const a=this.hasListeners();a&&HP(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),a&&(this.#t!==n||$l(this.options.enabled,this.#t)!==$l(e.enabled,this.#t)||ap(this.options.staleTime,this.#t)!==ap(e.staleTime,this.#t))&&this.#g();const i=this.#b();a&&(this.#t!==n||$l(this.options.enabled,this.#t)!==$l(e.enabled,this.#t)||i!==this.#l)&&this.#y(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return wfe(this,n)&&(this.#i=n,this.#o=this.options,this.#a=this.#t.state),n}getCurrentResult(){return this.#i}trackResult(t,e){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),e?.(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#s.status==="pending"&&this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(t){this.#C();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Qo)),e}#g(){this.#v();const t=ap(this.options.staleTime,this.#t);if(cg||this.#i.isStale||!HI(t))return;const n=cX(this.#i.dataUpdatedAt,t)+1;this.#c=Lm.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#b(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#S(),this.#l=t,!(cg||$l(this.options.enabled,this.#t)===!1||!HI(this.#l)||this.#l===0)&&(this.#u=Lm.setInterval(()=>{(this.options.refetchIntervalInBackground||Aj.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#y(this.#b())}#v(){this.#c&&(Lm.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(Lm.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,a=this.options,i=this.#i,r=this.#a,o=this.#o,c=t!==n?t.state:this.#n,{state:u}=t;let d={...u},h=!1,m;if(e._optimisticResults){const P=this.hasListeners(),O=!P&&BP(t,e),D=P&&HP(t,n,e,a);(O||D)&&(d={...d,...gX(u.data,t.options)}),e._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:v}=d;m=d.data;let S=!1;if(e.placeholderData!==void 0&&m===void 0&&v==="pending"){let P;i?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(P=i.data,S=!0):P=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,P!==void 0&&(v="success",m=UI(i?.data,P,e),h=!0)}if(e.select&&m!==void 0&&!S)if(i&&m===r?.data&&e.select===this.#m)m=this.#f;else try{this.#m=e.select,m=e.select(m),m=UI(i?.data,m,e),this.#f=m,this.#r=null}catch(P){this.#r=P}this.#r&&(g=this.#r,m=this.#f,y=Date.now(),v="error");const w=d.fetchStatus==="fetching",_=v==="pending",T=v==="error",A=_&&w,R=m!==void 0,N={status:v,fetchStatus:d.fetchStatus,isPending:_,isSuccess:v==="success",isError:T,isInitialLoading:A,isLoading:A,data:m,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!_,isLoadingError:T&&!R,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:T&&R,isStale:Rj(t,e),refetch:this.refetch,promise:this.#s,isEnabled:$l(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=H=>{N.status==="error"?H.reject(N.error):N.data!==void 0&&H.resolve(N.data)},O=()=>{const H=this.#s=N.promise=GI();P(H)},D=this.#s;switch(D.status){case"pending":t.queryHash===n.queryHash&&P(D);break;case"fulfilled":(N.status==="error"||N.data!==D.value)&&O();break;case"rejected":(N.status!=="error"||N.error!==D.reason)&&O();break}}return N}updateResult(){const t=this.#i,e=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#o=this.options,this.#a.data!==void 0&&(this.#h=this.#t),C4(e,t))return;this.#i=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!this.#p.size)return!0;const r=new Set(i??this.#p);return this.options.throwOnError&&r.add("error"),Object.keys(this.#i).some(o=>{const s=o;return this.#i[s]!==t[s]&&r.has(s)})};this.#w({listeners:n()})}#C(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#w(t){Ir.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Cfe(t,e){return $l(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function BP(t,e){return Cfe(t,e)||t.state.data!==void 0&&WI(t,e,e.refetchOnMount)}function WI(t,e,n){if($l(e.enabled,t)!==!1&&ap(e.staleTime,t)!=="static"){const a=typeof n=="function"?n(t):n;return a==="always"||a!==!1&&Rj(t,e)}return!1}function HP(t,e,n,a){return(t!==e||$l(a.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Rj(t,n)}function Rj(t,e){return $l(e.enabled,t)!==!1&&t.isStaleByTime(ap(e.staleTime,t))}function wfe(t,e){return!C4(t.getCurrentResult(),e)}function _4(t){return{onFetch:(e,n)=>{const a=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,r=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let s={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const h=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},m=dX(e.options,e.fetchOptions),g=async(y,v,S)=>{if(d)return Promise.reject();if(v==null&&y.pages.length)return Promise.resolve(y);const _=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:v,direction:S?"backward":"forward",meta:e.options.meta};return h(I),I})(),T=await m(_),{maxPages:A}=e.options,R=S?mfe:pfe;return{pages:R(y.pages,T,A),pageParams:R(y.pageParams,v,A)}};if(i&&r.length){const y=i==="backward",v=y?yX:VI,S={pages:r,pageParams:o},w=v(a,S);s=await g(S,w,y)}else{const y=t??r.length;do{const v=c===0?o[0]??a.initialPageParam:VI(a,s);if(c>0&&v==null)break;s=await g(s,v),c++}while(c<y)}return s};e.options.persister?e.fetchFn=()=>e.options.persister?.(u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=u}}}function VI(t,{pages:e,pageParams:n}){const a=e.length-1;return e.length>0?t.getNextPageParam(e[a],e,n[a],n):void 0}function yX(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}function _fe(t,e){return e?VI(t,e)!=null:!1}function Tfe(t,e){return!e||!t.getPreviousPageParam?!1:yX(t,e)!=null}var Efe=class extends bX{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:_4()})}getOptimisticResult(t){return t.behavior=_4(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){const{state:n}=t,a=super.createResult(t,e),{isFetching:i,isRefetching:r,isError:o,isRefetchError:s}=a,c=n.fetchMeta?.fetchMore?.direction,u=o&&c==="forward",d=i&&c==="forward",h=o&&c==="backward",m=i&&c==="backward";return{...a,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:_fe(e,n.data),hasPreviousPage:Tfe(e,n.data),isFetchNextPageError:u,isFetchingNextPage:d,isFetchPreviousPageError:h,isFetchingPreviousPage:m,isRefetchError:s&&!u&&!h,isRefetching:r&&!d&&!m}}},Afe=class extends mX{#e;#t;#n;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||xX(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#a({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=pX({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(r,o)=>{this.#a({type:"failed",failureCount:r,error:o})},onPause:()=>{this.#a({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",i=!this.#i.canStart();try{if(a)e();else{this.#a({type:"pending",variables:t,isPaused:i}),await this.#n.config.onMutate?.(t,this,n);const o=await this.options.onMutate?.(t,n);o!==this.state.context&&this.#a({type:"pending",context:o,variables:t,isPaused:i})}const r=await this.#i.start();return await this.#n.config.onSuccess?.(r,t,this.state.context,this,n),await this.options.onSuccess?.(r,t,this.state.context,n),await this.#n.config.onSettled?.(r,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(r,null,t,this.state.context,n),this.#a({type:"success",data:r}),r}catch(r){try{throw await this.#n.config.onError?.(r,t,this.state.context,this,n),await this.options.onError?.(r,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,r,t,this.state.context,n),r}finally{this.#a({type:"error",error:r})}}finally{this.#n.runNext(this)}}#a(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Ir.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function xX(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Rfe=class extends Ib{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const a=new Afe({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(a),a}add(t){this.#e.add(t);const e=OC(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=OC(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=OC(t);if(typeof e=="string"){const a=this.#t.get(e)?.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){const e=OC(t);return typeof e=="string"?this.#t.get(e)?.find(a=>a!==t&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ir.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>PP(e,n))}findAll(t={}){return this.getAll().filter(e=>PP(t,e))}notify(t){Ir.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Ir.batch(()=>Promise.all(t.map(e=>e.continue().catch(Qo))))}};function OC(t){return t.options.scope?.id}var kfe=class extends Ib{#e;#t=void 0;#n;#i;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),C4(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&ug(n.mutationKey)!==ug(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#o(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#o()}mutate(e,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#a(){const e=this.#n?.state??xX();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){Ir.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#t.variables,a=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#i.onSuccess?.(e.data,n,a,i),this.#i.onSettled?.(e.data,null,n,a,i)):e?.type==="error"&&(this.#i.onError?.(e.error,n,a,i),this.#i.onSettled?.(void 0,e.error,n,a,i))}this.listeners.forEach(n=>{n(this.#t)})})}},Ife=class extends Ib{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const a=e.queryKey,i=e.queryHash??Tj(a,e);let r=this.get(i);return r||(r=new Sfe({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(r)),r}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ir.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>MP(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>MP(t,n)):e}notify(t){Ir.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Ir.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ir.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Nfe=class{#e;#t;#n;#i;#a;#o;#s;#r;constructor(t={}){this.#e=t.queryCache||new Ife,this.#t=t.mutationCache||new Rfe,this.#n=t.defaultOptions||{},this.#i=new Map,this.#a=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#s=Aj.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=w4.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#s?.(),this.#s=void 0,this.#r?.(),this.#r=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),a=n.state.data;return a===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ap(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(a))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const a=n.data;return[e,a]})}setQueryData(t,e,n){const a=this.defaultQueryOptions({queryKey:t}),r=this.#e.get(a.queryHash)?.state.data,o=dfe(e,r);if(o!==void 0)return this.#e.build(this,a).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ir.batch(()=>this.#e.findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Ir.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Ir.batch(()=>(n.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},a=Ir.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(a).then(Qo).catch(Qo)}invalidateQueries(t,e={}){return Ir.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},a=Ir.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let r=i.fetch(void 0,n);return n.throwOnError||(r=r.catch(Qo)),i.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(a).then(Qo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(ap(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Qo).catch(Qo)}fetchInfiniteQuery(t){return t.behavior=_4(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Qo).catch(Qo)}ensureInfiniteQueryData(t){return t.behavior=_4(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return w4.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(ug(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(a=>{g2(t,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(t,e){this.#a.set(ug(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#a.values()],n={};return e.forEach(a=>{g2(t,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Tj(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ej&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},vX=E.createContext(void 0),xp=t=>{const e=E.useContext(vX);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},jfe=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(vX.Provider,{value:t,children:e})),SX=E.createContext(!1),Dfe=()=>E.useContext(SX);SX.Provider;function Ofe(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Mfe=E.createContext(Ofe()),Pfe=()=>E.useContext(Mfe),Lfe=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},zfe=t=>{E.useEffect(()=>{t.clearReset()},[t])},Ffe=({result:t,errorResetBoundary:e,throwOnError:n,query:a,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&a&&(i&&t.data===void 0||fX(n,[t.error,a])),Bfe=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),a=t.staleTime;t.staleTime=typeof a=="function"?(...i)=>n(a(...i)):n(a),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Hfe=(t,e)=>t.isLoading&&t.isFetching&&!e,$fe=(t,e)=>t?.suspense&&e.isPending,$P=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function CX(t,e,n){const a=Dfe(),i=Pfe(),r=xp(),o=r.defaultQueryOptions(t);r.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=a?"isRestoring":"optimistic",Bfe(o),Lfe(o,i),zfe(i);const s=!r.getQueryCache().get(o.queryHash),[c]=E.useState(()=>new e(r,o)),u=c.getOptimisticResult(o),d=!a&&t.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(h=>{const m=d?c.subscribe(Ir.batchCalls(h)):Qo;return c.updateResult(),m},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),E.useEffect(()=>{c.setOptions(o)},[o,c]),$fe(o,u))throw $P(o,c,i);if(Ffe({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!cg&&Hfe(u,a)&&(s?$P(o,c,i):r.getQueryCache().get(o.queryHash)?.promise)?.catch(Qo).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function Nb(t,e){return CX(t,bX)}function oS(t,e){const n=xp(),[a]=E.useState(()=>new kfe(n,t));E.useEffect(()=>{a.setOptions(t)},[a,t]);const i=E.useSyncExternalStore(E.useCallback(o=>a.subscribe(Ir.batchCalls(o)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),r=E.useCallback((o,s)=>{a.mutate(o,s).catch(Qo)},[a]);if(i.error&&fX(a.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:r,mutateAsync:i.mutate}}function Ufe(t,e){return CX(t,Efe)}function wX(t){var e,n,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=wX(t[e]))&&(a&&(a+=" "),a+=n);else for(e in t)t[e]&&(a&&(a+=" "),a+=e);return a}function Rg(){for(var t,e,n=0,a="";n<arguments.length;)(t=arguments[n++])&&(e=wX(t))&&(a&&(a+=" "),a+=e);return a}let Gfe={data:""},qfe=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||Gfe},Wfe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Vfe=/\/\*[^]*?\*\/|  +/g,UP=/\n+/g,jm=(t,e)=>{let n="",a="",i="";for(let r in t){let o=t[r];r[0]=="@"?r[1]=="i"?n=r+" "+o+";":a+=r[1]=="f"?jm(o,r):r+"{"+jm(o,r[1]=="k"?"":e)+"}":typeof o=="object"?a+=jm(o,e?e.replace(/([^,])+/g,s=>r.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,s):s?s+" "+c:c)):r):o!=null&&(r=/^--/.test(r)?r:r.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=jm.p?jm.p(r,o):r+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+a},Xd={},_X=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+_X(t[n]);return e}return t},Yfe=(t,e,n,a,i)=>{let r=_X(t),o=Xd[r]||(Xd[r]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(r));if(!Xd[o]){let c=r!==t?t:(u=>{let d,h,m=[{}];for(;d=Wfe.exec(u.replace(Vfe,""));)d[4]?m.shift():d[3]?(h=d[3].replace(UP," ").trim(),m.unshift(m[0][h]=m[0][h]||{})):m[0][d[1]]=d[2].replace(UP," ").trim();return m[0]})(t);Xd[o]=jm(i?{["@keyframes "+o]:c}:c,n?"":"."+o)}let s=n&&Xd.g?Xd.g:null;return n&&(Xd.g=Xd[o]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Xd[o],e,a,s),o},Kfe=(t,e,n)=>t.reduce((a,i,r)=>{let o=e[r];if(o&&o.call){let s=o(n),c=s&&s.props&&s.props.className||/^go/.test(s)&&s;o=c?"."+c:s&&typeof s=="object"?s.props?"":jm(s,""):s===!1?"":s}return a+i+(o??"")},"");function kj(t){let e=this||{},n=t.call?t(e.p):t;return Yfe(n.unshift?n.raw?Kfe(n,[].slice.call(arguments,1),e.p):n.reduce((a,i)=>Object.assign(a,i&&i.call?i(e.p):i),{}):n,qfe(e.target),e.g,e.o,e.k)}kj.bind({g:1});kj.bind({k:1});function Xfe(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function TX(t,e,n){return e&&Xfe(t.prototype,e),t}function $a(){return $a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},$a.apply(this,arguments)}function EX(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function sS(t,e){if(t==null)return{};var n={},a=Object.keys(t),i,r;for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function GP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var qP=function(){return""},AX=ke.createContext({enqueueSnackbar:qP,closeSnackbar:qP}),Em={downXs:"@media (max-width:599.95px)",upSm:"@media (min-width:600px)"},WP=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Ij=function(e){return""+WP(e.vertical)+WP(e.horizontal)},MC=function(e){return!!e||e===0},PC="unmounted",l1="exited",c1="entering",Mx="entered",VP="exiting",Nj=(function(t){EX(e,t);function e(a){var i;i=t.call(this,a)||this;var r=a.appear,o;return i.appearStatus=null,a.in?r?(o=l1,i.appearStatus=c1):o=Mx:a.unmountOnExit||a.mountOnEnter?o=PC:o=l1,i.state={status:o},i.nextCallback=null,i}e.getDerivedStateFromProps=function(i,r){var o=i.in;return o&&r.status===PC?{status:l1}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var r=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==c1&&o!==Mx&&(r=c1):(o===c1||o===Mx)&&(r=VP)}this.updateStatus(!1,r)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,r=i,o=i;return i!=null&&typeof i!="number"&&typeof i!="string"&&(o=i.exit,r=i.enter),{exit:o,enter:r}},n.updateStatus=function(i,r){i===void 0&&(i=!1),r!==null?(this.cancelNextCallback(),r===c1?this.performEnter(i):this.performExit()):this.props.unmountOnExit&&this.state.status===l1&&this.setState({status:PC})},n.performEnter=function(i){var r=this,o=this.props.enter,s=i,c=this.getTimeouts();if(!i&&!o){this.safeSetState({status:Mx},function(){r.props.onEntered&&r.props.onEntered(r.node,s)});return}this.props.onEnter&&this.props.onEnter(this.node,s),this.safeSetState({status:c1},function(){r.props.onEntering&&r.props.onEntering(r.node,s),r.onTransitionEnd(c.enter,function(){r.safeSetState({status:Mx},function(){r.props.onEntered&&r.props.onEntered(r.node,s)})})})},n.performExit=function(){var i=this,r=this.props.exit,o=this.getTimeouts();if(!r){this.safeSetState({status:l1},function(){i.props.onExited&&i.props.onExited(i.node)});return}this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:VP},function(){i.props.onExiting&&i.props.onExiting(i.node),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:l1},function(){i.props.onExited&&i.props.onExited(i.node)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,r){r=this.setNextCallback(r),this.setState(i,r)},n.setNextCallback=function(i){var r=this,o=!0;return this.nextCallback=function(){o&&(o=!1,r.nextCallback=null,i())},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,r){this.setNextCallback(r);var o=i==null&&!this.props.addEndListener;if(!this.node||o){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===PC)return null;var r=this.props,o=r.children,s=sS(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return o(i,s)},TX(e,[{key:"node",get:function(){var i,r=(i=this.props.nodeRef)===null||i===void 0?void 0:i.current;if(!r)throw new Error("notistack - Custom snackbar is not refForwarding");return r}}]),e})(ke.Component);function u1(){}Nj.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:u1,onEntering:u1,onEntered:u1,onExit:u1,onExiting:u1,onExited:u1};function YP(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function YI(t,e){return E.useMemo(function(){return t==null&&e==null?null:function(n){YP(t,n),YP(e,n)}},[t,e])}function T4(t){var e=t.timeout,n=t.style,a=n===void 0?{}:n,i=t.mode;return{duration:typeof e=="object"?e[i]||0:e,easing:a.transitionTimingFunction,delay:a.transitionDelay}}var KI={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},RX=function(e){e.scrollTop=e.scrollTop},KP=function(e){return Math.round(e)+"ms"};function O1(t,e){t===void 0&&(t=["all"]);var n=e||{},a=n.duration,i=a===void 0?300:a,r=n.easing,o=r===void 0?KI.easeInOut:r,s=n.delay,c=s===void 0?0:s,u=Array.isArray(t)?t:[t];return u.map(function(d){var h=typeof i=="string"?i:KP(i),m=typeof c=="string"?c:KP(c);return d+" "+h+" "+o+" "+m}).join(",")}function Qfe(t){return t&&t.ownerDocument||document}function kX(t){var e=Qfe(t);return e.defaultView||window}function Zfe(t,e){e===void 0&&(e=166);var n;function a(){for(var i=this,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];var c=function(){t.apply(i,o)};clearTimeout(n),n=setTimeout(c,e)}return a.clear=function(){clearTimeout(n)},a}function Jfe(t,e){var n=e.getBoundingClientRect(),a=kX(e),i;if(e.fakeTransform)i=e.fakeTransform;else{var r=a.getComputedStyle(e);i=r.getPropertyValue("-webkit-transform")||r.getPropertyValue("transform")}var o=0,s=0;if(i&&i!=="none"&&typeof i=="string"){var c=i.split("(")[1].split(")")[0].split(",");o=parseInt(c[4],10),s=parseInt(c[5],10)}switch(t){case"left":return"translateX("+(a.innerWidth+o-n.left)+"px)";case"right":return"translateX(-"+(n.left+n.width-o)+"px)";case"up":return"translateY("+(a.innerHeight+s-n.top)+"px)";default:return"translateY(-"+(n.top+n.height-s)+"px)"}}function LC(t,e){if(e){var n=Jfe(t,e);n&&(e.style.webkitTransform=n,e.style.transform=n)}}var IX=E.forwardRef(function(t,e){var n=t.children,a=t.direction,i=a===void 0?"down":a,r=t.in,o=t.style,s=t.timeout,c=s===void 0?0:s,u=t.onEnter,d=t.onEntered,h=t.onExit,m=t.onExited,g=sS(t,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),y=E.useRef(null),v=YI(n.ref,y),S=YI(v,e),w=function(N,P){LC(i,N),RX(N),u&&u(N,P)},_=function(N){var P=o?.transitionTimingFunction||KI.easeOut,O=T4({timeout:c,mode:"enter",style:$a({},o,{transitionTimingFunction:P})});N.style.webkitTransition=O1("-webkit-transform",O),N.style.transition=O1("transform",O),N.style.webkitTransform="none",N.style.transform="none"},T=function(N){var P=o?.transitionTimingFunction||KI.sharp,O=T4({timeout:c,mode:"exit",style:$a({},o,{transitionTimingFunction:P})});N.style.webkitTransition=O1("-webkit-transform",O),N.style.transition=O1("transform",O),LC(i,N),h&&h(N)},A=function(N){N.style.webkitTransition="",N.style.transition="",m&&m(N)},R=E.useCallback(function(){y.current&&LC(i,y.current)},[i]);return E.useEffect(function(){if(!(r||i==="down"||i==="right")){var I=Zfe(function(){y.current&&LC(i,y.current)}),N=kX(y.current);return N.addEventListener("resize",I),function(){I.clear(),N.removeEventListener("resize",I)}}},[i,r]),E.useEffect(function(){r||R()},[r,R]),E.createElement(Nj,Object.assign({appear:!0,nodeRef:y,onEnter:w,onEntered:d,onEntering:_,onExit:T,onExited:A,in:r,timeout:c},g),function(I,N){return E.cloneElement(n,$a({ref:S,style:$a({visibility:I==="exited"&&!r?"hidden":void 0},o,{},n.props.style)},N))})});IX.displayName="Slide";var q_=function(e){return ke.createElement("svg",Object.assign({viewBox:"0 0 24 24",focusable:"false",style:{fontSize:20,marginInlineEnd:8,userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0}},e))},ehe=function(){return ke.createElement(q_,null,ke.createElement("path",{d:`M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41
        10.59L10 14.17L17.59 6.58L19 8L10 17Z`}))},the=function(){return ke.createElement(q_,null,ke.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},nhe=function(){return ke.createElement(q_,null,ke.createElement("path",{d:`M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,
        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,
        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`}))},ahe=function(){return ke.createElement(q_,null,ke.createElement("path",{d:`M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,
        0 22,12A10,10 0 0,0 12,2Z`}))},ihe={default:void 0,success:ke.createElement(ehe,null),warning:ke.createElement(the,null),error:ke.createElement(nhe,null),info:ke.createElement(ahe,null)},Qm={maxSnack:3,persist:!1,hideIconVariant:!1,disableWindowBlurListener:!1,variant:"default",autoHideDuration:5e3,iconVariant:ihe,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:IX,transitionDuration:{enter:225,exit:195}},rhe=function(e,n){var a=function(r){return typeof r=="number"||r===null};return a(e)?e:a(n)?n:Qm.autoHideDuration},ohe=function(e,n){var a=function(r,o){return o.some(function(s){return typeof r===s})};return a(e,["string","number"])?e:a(e,["object"])?$a({},Qm.transitionDuration,{},a(n,["object"])&&n,{},e):a(n,["string","number"])?n:a(n,["object"])?$a({},Qm.transitionDuration,{},n):Qm.transitionDuration},she=function(e,n){return function(a,i){return i===void 0&&(i=!1),i?$a({},Qm[a],{},n[a],{},e[a]):a==="autoHideDuration"?rhe(e.autoHideDuration,n.autoHideDuration):a==="transitionDuration"?ohe(e.transitionDuration,n.transitionDuration):e[a]||n[a]||Qm[a]}};function lS(t){return Object.entries(t).reduce(function(e,n){var a,i=n[0],r=n[1];return $a({},e,(a={},a[i]=kj(r),a))},{})}var ab={SnackbarContainer:"notistack-SnackbarContainer",Snackbar:"notistack-Snackbar",CollapseWrapper:"notistack-CollapseWrapper",MuiContent:"notistack-MuiContent",MuiContentVariant:function(e){return"notistack-MuiContent-"+e}},XP=lS({root:{height:0},entered:{height:"auto"}}),bE="0px",yE=175,NX=E.forwardRef(function(t,e){var n=t.children,a=t.in,i=t.onExited,r=E.useRef(null),o=E.useRef(null),s=YI(e,o),c=function(){return r.current?r.current.clientHeight:0},u=function(v){v.style.height=bE},d=function(v){var S=c(),w=T4({timeout:yE,mode:"enter"}),_=w.duration,T=w.easing;v.style.transitionDuration=typeof _=="string"?_:_+"ms",v.style.height=S+"px",v.style.transitionTimingFunction=T||""},h=function(v){v.style.height="auto"},m=function(v){v.style.height=c()+"px"},g=function(v){RX(v);var S=T4({timeout:yE,mode:"exit"}),w=S.duration,_=S.easing;v.style.transitionDuration=typeof w=="string"?w:w+"ms",v.style.height=bE,v.style.transitionTimingFunction=_||""};return E.createElement(Nj,{in:a,unmountOnExit:!0,onEnter:u,onEntered:h,onEntering:d,onExit:m,onExited:i,onExiting:g,nodeRef:o,timeout:yE},function(y,v){return E.createElement("div",Object.assign({ref:s,className:Rg(XP.root,y==="entered"&&XP.entered),style:$a({pointerEvents:"all",overflow:"hidden",minHeight:bE,transition:O1("height")},y==="entered"&&{overflow:"visible"},{},y==="exited"&&!a&&{visibility:"hidden"})},v),E.createElement("div",{ref:r,className:ab.CollapseWrapper,style:{display:"flex",width:"100%"}},n))})});NX.displayName="Collapse";var QP={right:"left",left:"right",bottom:"up",top:"down"},lhe=function(e){return e.horizontal!=="center"?QP[e.horizontal]:QP[e.vertical]},che=function(e){return"anchorOrigin"+Ij(e)},uhe=function(e){e===void 0&&(e={});var n={containerRoot:!0,containerAnchorOriginTopCenter:!0,containerAnchorOriginBottomCenter:!0,containerAnchorOriginTopRight:!0,containerAnchorOriginBottomRight:!0,containerAnchorOriginTopLeft:!0,containerAnchorOriginBottomLeft:!0};return Object.keys(e).filter(function(a){return!n[a]}).reduce(function(a,i){var r;return $a({},a,(r={},r[i]=e[i],r))},{})},dhe=function(){};function Pv(t,e){return t.reduce(function(n,a){return a==null?n:function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];var c=[].concat(o);e&&c.indexOf(e)===-1&&c.push(e),n.apply(this,c),a.apply(this,c)}},dhe)}var fhe=typeof window<"u"?E.useLayoutEffect:E.useEffect;function ZP(t){var e=E.useRef(t);return fhe(function(){e.current=t}),E.useCallback(function(){return e.current.apply(void 0,arguments)},[])}var jX=E.forwardRef(function(t,e){var n=t.children,a=t.className,i=t.autoHideDuration,r=t.disableWindowBlurListener,o=r===void 0?!1:r,s=t.onClose,c=t.id,u=t.open,d=t.SnackbarProps,h=d===void 0?{}:d,m=E.useRef(),g=ZP(function(){s&&s.apply(void 0,arguments)}),y=ZP(function(T){!s||T==null||(m.current&&clearTimeout(m.current),m.current=setTimeout(function(){g(null,"timeout",c)},T))});E.useEffect(function(){return u&&y(i),function(){m.current&&clearTimeout(m.current)}},[u,i,y]);var v=function(){m.current&&clearTimeout(m.current)},S=E.useCallback(function(){i!=null&&y(i*.5)},[i,y]),w=function(A){h.onMouseEnter&&h.onMouseEnter(A),v()},_=function(A){h.onMouseLeave&&h.onMouseLeave(A),S()};return E.useEffect(function(){if(!o&&u)return window.addEventListener("focus",S),window.addEventListener("blur",v),function(){window.removeEventListener("focus",S),window.removeEventListener("blur",v)}},[o,S,u]),E.createElement("div",Object.assign({ref:e},h,{className:Rg(ab.Snackbar,a),onMouseEnter:w,onMouseLeave:_}),n)});jX.displayName="Snackbar";var xE,hhe=lS({root:(xE={display:"flex",flexWrap:"wrap",flexGrow:1},xE[Em.upSm]={flexGrow:"initial",minWidth:"288px"},xE)}),DX=E.forwardRef(function(t,e){var n=t.className,a=sS(t,["className"]);return ke.createElement("div",Object.assign({ref:e,className:Rg(hhe.root,n)},a))});DX.displayName="SnackbarContent";var Px=lS({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:8*2.5+"px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),JP="notistack-snackbar",OX=E.forwardRef(function(t,e){var n=t.id,a=t.message,i=t.action,r=t.iconVariant,o=t.variant,s=t.hideIconVariant,c=t.style,u=t.className,d=r[o],h=i;return typeof h=="function"&&(h=h(n)),ke.createElement(DX,{ref:e,role:"alert","aria-describedby":JP,style:c,className:Rg(ab.MuiContent,ab.MuiContentVariant(o),Px.root,Px[o],u,!s&&d&&Px.lessPadding)},ke.createElement("div",{id:JP,className:Px.message},s?null:d,a),h&&ke.createElement("div",{className:Px.action},h))});OX.displayName="MaterialDesignContent";var phe=E.memo(OX),mhe=lS({wrappedRoot:{width:"100%",position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0,minWidth:"288px"}}),ghe=function(e){var n=E.useRef(),a=E.useState(!0),i=a[0],r=a[1],o=Pv([e.snack.onClose,e.onClose]),s=function(){e.snack.requestClose&&o(null,"instructed",e.snack.id)},c=E.useCallback(function(){n.current=setTimeout(function(){r(function(O){return!O})},125)},[]);E.useEffect(function(){return function(){n.current&&clearTimeout(n.current)}},[]);var u=e.snack,d=e.classes,h=e.Component,m=h===void 0?phe:h,g=E.useMemo(function(){return uhe(d)},[d]),y=u.open,v=u.SnackbarProps,S=u.TransitionComponent,w=u.TransitionProps,_=u.transitionDuration,T=u.disableWindowBlurListener,A=u.content,R=sS(u,["open","SnackbarProps","TransitionComponent","TransitionProps","transitionDuration","disableWindowBlurListener","content","entered","requestClose","onEnter","onEntered","onExit","onExited"]),I=$a({direction:lhe(R.anchorOrigin),timeout:_},w),N=A;typeof N=="function"&&(N=N(R.id,R.message));var P=["onEnter","onEntered","onExit","onExited"].reduce(function(O,D){var H;return $a({},O,(H={},H[D]=Pv([e.snack[D],e[D]],R.id),H))},{});return ke.createElement(NX,{in:i,onExited:P.onExited},ke.createElement(jX,{open:y,id:R.id,disableWindowBlurListener:T,autoHideDuration:R.autoHideDuration,className:Rg(mhe.wrappedRoot,g.root,g[che(R.anchorOrigin)]),SnackbarProps:v,onClose:o},ke.createElement(S,Object.assign({},I,{appear:!0,in:y,onExit:P.onExit,onExited:c,onEnter:P.onEnter,onEntered:Pv([P.onEntered,s],R.id)}),N||ke.createElement(m,Object.assign({},R)))))},Lx,vE,zC,FC,SE,Qd={view:{default:20},snackbar:{default:6,dense:2}},eL="."+ab.CollapseWrapper,CE=16,BC=lS({root:(Lx={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:O1(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"},Lx[eL]={padding:Qd.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},Lx.maxWidth="calc(100% - "+Qd.view.default*2+"px)",Lx[Em.downXs]={width:"100%",maxWidth:"calc(100% - "+CE*2+"px)"},Lx),rootDense:(vE={},vE[eL]={padding:Qd.snackbar.dense+"px 0px"},vE),top:{top:Qd.view.default-Qd.snackbar.default+"px",flexDirection:"column"},bottom:{bottom:Qd.view.default-Qd.snackbar.default+"px",flexDirection:"column-reverse"},left:(zC={left:Qd.view.default+"px"},zC[Em.upSm]={alignItems:"flex-start"},zC[Em.downXs]={left:CE+"px"},zC),right:(FC={right:Qd.view.default+"px"},FC[Em.upSm]={alignItems:"flex-end"},FC[Em.downXs]={right:CE+"px"},FC),center:(SE={left:"50%",transform:"translateX(-50%)"},SE[Em.upSm]={alignItems:"center"},SE)}),bhe=function(e){var n=e.classes,a=n===void 0?{}:n,i=e.anchorOrigin,r=e.dense,o=e.children,s=Rg(ab.SnackbarContainer,BC[i.vertical],BC[i.horizontal],BC.root,a.containerRoot,a["containerAnchorOrigin"+Ij(i)],r&&BC.rootDense);return ke.createElement("div",{className:s},o)},yhe=E.memo(bhe),tL=function(e){var n=typeof e=="string"||E.isValidElement(e);return!n},b2,xhe=(function(t){EX(e,t);function e(a){var i;return i=t.call(this,a)||this,i.enqueueSnackbar=function(r,o){if(o===void 0&&(o={}),r==null)throw new Error("enqueueSnackbar called with invalid argument");var s=tL(r)?r:o,c=tL(r)?r.message:r,u=s.key,d=s.preventDuplicate,h=sS(s,["key","preventDuplicate"]),m=MC(u),g=m?u:new Date().getTime()+Math.random(),y=she(h,i.props),v=$a({id:g},h,{message:c,open:!0,entered:!1,requestClose:!1,persist:y("persist"),action:y("action"),content:y("content"),variant:y("variant"),anchorOrigin:y("anchorOrigin"),disableWindowBlurListener:y("disableWindowBlurListener"),autoHideDuration:y("autoHideDuration"),hideIconVariant:y("hideIconVariant"),TransitionComponent:y("TransitionComponent"),transitionDuration:y("transitionDuration"),TransitionProps:y("TransitionProps",!0),iconVariant:y("iconVariant",!0),style:y("style",!0),SnackbarProps:y("SnackbarProps",!0),className:Rg(i.props.className,h.className)});return v.persist&&(v.autoHideDuration=void 0),i.setState(function(S){if(d===void 0&&i.props.preventDuplicate||d){var w=function(R){return m?R.id===g:R.message===c},_=S.queue.findIndex(w)>-1,T=S.snacks.findIndex(w)>-1;if(_||T)return S}return i.handleDisplaySnack($a({},S,{queue:[].concat(S.queue,[v])}))}),g},i.handleDisplaySnack=function(r){var o=r.snacks;return o.length>=i.maxSnack?i.handleDismissOldest(r):i.processQueue(r)},i.processQueue=function(r){var o=r.queue,s=r.snacks;return o.length>0?$a({},r,{snacks:[].concat(s,[o[0]]),queue:o.slice(1,o.length)}):r},i.handleDismissOldest=function(r){if(r.snacks.some(function(d){return!d.open||d.requestClose}))return r;var o=!1,s=!1,c=r.snacks.reduce(function(d,h){return d+(h.open&&h.persist?1:0)},0);c===i.maxSnack&&(s=!0);var u=r.snacks.map(function(d){return!o&&(!d.persist||s)?(o=!0,d.entered?(d.onClose&&d.onClose(null,"maxsnack",d.id),i.props.onClose&&i.props.onClose(null,"maxsnack",d.id),$a({},d,{open:!1})):$a({},d,{requestClose:!0})):$a({},d)});return $a({},r,{snacks:u})},i.handleEnteredSnack=function(r,o,s){if(!MC(s))throw new Error("handleEnteredSnack Cannot be called with undefined key");i.setState(function(c){var u=c.snacks;return{snacks:u.map(function(d){return d.id===s?$a({},d,{entered:!0}):$a({},d)})}})},i.handleCloseSnack=function(r,o,s){i.props.onClose&&i.props.onClose(r,o,s);var c=s===void 0;i.setState(function(u){var d=u.snacks,h=u.queue;return{snacks:d.map(function(m){return!c&&m.id!==s?$a({},m):m.entered?$a({},m,{open:!1}):$a({},m,{requestClose:!0})}),queue:h.filter(function(m){return m.id!==s})}})},i.closeSnackbar=function(r){var o=i.state.snacks.find(function(s){return s.id===r});MC(r)&&o&&o.onClose&&o.onClose(null,"instructed",r),i.handleCloseSnack(null,"instructed",r)},i.handleExitedSnack=function(r,o){if(!MC(o))throw new Error("handleExitedSnack Cannot be called with undefined key");i.setState(function(s){var c=i.processQueue($a({},s,{snacks:s.snacks.filter(function(u){return u.id!==o})}));return c.queue.length===0?c:i.handleDismissOldest(c)})},b2=i.enqueueSnackbar,i.closeSnackbar,i.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:i.enqueueSnackbar.bind(GP(i)),closeSnackbar:i.closeSnackbar.bind(GP(i))}},i}var n=e.prototype;return n.render=function(){var i=this,r=this.state.contextValue,o=this.props,s=o.domRoot,c=o.children,u=o.dense,d=u===void 0?!1:u,h=o.Components,m=h===void 0?{}:h,g=o.classes,y=this.state.snacks.reduce(function(S,w){var _,T=Ij(w.anchorOrigin),A=S[T]||[];return $a({},S,(_={},_[T]=[].concat(A,[w]),_))},{}),v=Object.keys(y).map(function(S){var w=y[S],_=w[0];return ke.createElement(yhe,{key:S,dense:d,anchorOrigin:_.anchorOrigin,classes:g},w.map(function(T){return ke.createElement(ghe,{key:T.id,snack:T,classes:g,Component:m[T.variant],onClose:i.handleCloseSnack,onEnter:i.props.onEnter,onExit:i.props.onExit,onExited:Pv([i.handleExitedSnack,i.props.onExited],T.id),onEntered:Pv([i.handleEnteredSnack,i.props.onEntered],T.id)})}))});return ke.createElement(AX.Provider,{value:r},c,s?qh.createPortal(v,s):v)},TX(e,[{key:"maxSnack",get:function(){return this.props.maxSnack||Qm.maxSnack}}]),e})(E.Component),jj=(function(){return E.useContext(AX)});const Sn=t=>typeof t=="string",zx=()=>{let t,e;const n=new Promise((a,i)=>{t=a,e=i});return n.resolve=t,n.reject=e,n},nL=t=>t==null?"":""+t,vhe=(t,e,n)=>{t.forEach(a=>{e[a]&&(n[a]=e[a])})},She=/###/g,aL=t=>t&&t.indexOf("###")>-1?t.replace(She,"."):t,iL=t=>!t||Sn(t),Lv=(t,e,n)=>{const a=Sn(e)?e.split("."):e;let i=0;for(;i<a.length-1;){if(iL(t))return{};const r=aL(a[i]);!t[r]&&n&&(t[r]=new n),Object.prototype.hasOwnProperty.call(t,r)?t=t[r]:t={},++i}return iL(t)?{}:{obj:t,k:aL(a[i])}},rL=(t,e,n)=>{const{obj:a,k:i}=Lv(t,e,Object);if(a!==void 0||e.length===1){a[i]=n;return}let r=e[e.length-1],o=e.slice(0,e.length-1),s=Lv(t,o,Object);for(;s.obj===void 0&&o.length;)r=`${o[o.length-1]}.${r}`,o=o.slice(0,o.length-1),s=Lv(t,o,Object),s?.obj&&typeof s.obj[`${s.k}.${r}`]<"u"&&(s.obj=void 0);s.obj[`${s.k}.${r}`]=n},Che=(t,e,n,a)=>{const{obj:i,k:r}=Lv(t,e,Object);i[r]=i[r]||[],i[r].push(n)},E4=(t,e)=>{const{obj:n,k:a}=Lv(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,a))return n[a]},whe=(t,e,n)=>{const a=E4(t,n);return a!==void 0?a:E4(e,n)},MX=(t,e,n)=>{for(const a in e)a!=="__proto__"&&a!=="constructor"&&(a in t?Sn(t[a])||t[a]instanceof String||Sn(e[a])||e[a]instanceof String?n&&(t[a]=e[a]):MX(t[a],e[a],n):t[a]=e[a]);return t},d1=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var _he={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const The=t=>Sn(t)?t.replace(/[&<>"'\/]/g,e=>_he[e]):t;class Ehe{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const a=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,a),this.regExpQueue.push(e),a}}const Ahe=[" ",",","?","!",";"],Rhe=new Ehe(20),khe=(t,e,n)=>{e=e||"",n=n||"";const a=Ahe.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(a.length===0)return!0;const i=Rhe.getRegExp(`(${a.map(o=>o==="?"?"\\?":o).join("|")})`);let r=!i.test(t);if(!r){const o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(r=!0)}return r},XI=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const a=e.split(n);let i=t;for(let r=0;r<a.length;){if(!i||typeof i!="object")return;let o,s="";for(let c=r;c<a.length;++c)if(c!==r&&(s+=n),s+=a[c],o=i[s],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<a.length-1)continue;r+=c-r+1;break}i=o}return i},y2=t=>t?.replace("_","-"),Ihe={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class A4{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||Ihe,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,a,i){return i&&!this.debug?null:(Sn(e[0])&&(e[0]=`${a}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new A4(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new A4(this.logger,e)}}var Yu=new A4;class W_{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const i=this.observers[a].get(n)||0;this.observers[a].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,r])=>{for(let o=0;o<r;o++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,r])=>{for(let o=0;o<r;o++)i.apply(i,[e,...n])})}}class oL extends W_{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,a,i={}){const r=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;e.indexOf(".")>-1?s=e.split("."):(s=[e,n],a&&(Array.isArray(a)?s.push(...a):Sn(a)&&r?s.push(...a.split(r)):s.push(a)));const c=E4(this.data,s);return!c&&!n&&!a&&e.indexOf(".")>-1&&(e=s[0],n=s[1],a=s.slice(2).join(".")),c||!o||!Sn(a)?c:XI(this.data?.[e]?.[n],a,r)}addResource(e,n,a,i,r={silent:!1}){const o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=[e,n];a&&(s=s.concat(o?a.split(o):a)),e.indexOf(".")>-1&&(s=e.split("."),i=n,n=s[1]),this.addNamespaces(n),rL(this.data,s,i),r.silent||this.emit("added",e,n,a,i)}addResources(e,n,a,i={silent:!1}){for(const r in a)(Sn(a[r])||Array.isArray(a[r]))&&this.addResource(e,n,r,a[r],{silent:!0});i.silent||this.emit("added",e,n,a)}addResourceBundle(e,n,a,i,r,o={silent:!1,skipCopy:!1}){let s=[e,n];e.indexOf(".")>-1&&(s=e.split("."),i=a,a=n,n=s[1]),this.addNamespaces(n);let c=E4(this.data,s)||{};o.skipCopy||(a=JSON.parse(JSON.stringify(a))),i?MX(c,a,r):c={...c,...a},rL(this.data,s,c),o.silent||this.emit("added",e,n,a)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var PX={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,a,i){return t.forEach(r=>{e=this.processors[r]?.process(e,n,a,i)??e}),e}};const LX=Symbol("i18next/PATH_KEY");function Nhe(){const t=[],e=Object.create(null);let n;return e.get=(a,i)=>(n?.revoke?.(),i===LX?t:(t.push(i),n=Proxy.revocable(a,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function QI(t,e){const{[LX]:n}=t(Nhe());return n.join(e?.keySeparator??".")}const sL={},wE=t=>!Sn(t)&&typeof t!="boolean"&&typeof t!="number";class R4 extends W_{constructor(e,n={}){super(),vhe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Yu.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const a={...n};if(e==null)return!1;const i=this.resolve(e,a);if(i?.res===void 0)return!1;const r=wE(i.res);return!(a.returnObjects===!1&&r)}extractFromKey(e,n){let a=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let r=n.ns||this.options.defaultNS||[];const o=a&&e.indexOf(a)>-1,s=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!khe(e,a,i);if(o&&!s){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:Sn(r)?[r]:r};const u=e.split(a);(a!==i||a===i&&this.options.ns.indexOf(u[0])>-1)&&(r=u.shift()),e=u.join(i)}return{key:e,namespaces:Sn(r)?[r]:r}}translate(e,n,a){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=QI(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const r=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:s,namespaces:c}=this.extractFromKey(e[e.length-1],i),u=c[c.length-1];let d=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const h=i.lng||this.language,m=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h?.toLowerCase()==="cimode")return m?r?{res:`${u}${d}${s}`,usedKey:s,exactUsedKey:s,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:`${u}${d}${s}`:r?{res:s,usedKey:s,exactUsedKey:s,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:s;const g=this.resolve(e,i);let y=g?.res;const v=g?.usedKey||s,S=g?.exactUsedKey||s,w=["[object Number]","[object Function]","[object RegExp]"],_=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject,A=i.count!==void 0&&!Sn(i.count),R=R4.hasDefaultValue(i),I=A?this.pluralResolver.getSuffix(h,i.count,i):"",N=i.ordinal&&A?this.pluralResolver.getSuffix(h,i.count,{ordinal:!1}):"",P=A&&!i.ordinal&&i.count===0,O=P&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${I}`]||i[`defaultValue${N}`]||i.defaultValue;let D=y;T&&!y&&R&&(D=O);const H=wE(D),L=Object.prototype.toString.apply(D);if(T&&D&&H&&w.indexOf(L)<0&&!(Sn(_)&&Array.isArray(D))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const $=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,D,{...i,ns:c}):`key '${s} (${this.language})' returned an object instead of string.`;return r?(g.res=$,g.usedParams=this.getUsedParamsDetails(i),g):$}if(o){const $=Array.isArray(D),M=$?[]:{},z=$?S:v;for(const F in D)if(Object.prototype.hasOwnProperty.call(D,F)){const G=`${z}${o}${F}`;R&&!y?M[F]=this.translate(G,{...i,defaultValue:wE(O)?O[F]:void 0,joinArrays:!1,ns:c}):M[F]=this.translate(G,{...i,joinArrays:!1,ns:c}),M[F]===G&&(M[F]=D[F])}y=M}}else if(T&&Sn(_)&&Array.isArray(y))y=y.join(_),y&&(y=this.extendTranslation(y,e,i,a));else{let $=!1,M=!1;!this.isValidLookup(y)&&R&&($=!0,y=O),this.isValidLookup(y)||(M=!0,y=s);const F=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&M?void 0:y,G=R&&O!==y&&this.options.updateMissing;if(M||$||G){if(this.logger.log(G?"updateKey":"missingKey",h,u,s,G?O:y),o){const K=this.resolve(s,{...i,keySeparator:!1});K&&K.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ee=[];const V=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&V&&V[0])for(let K=0;K<V.length;K++)ee.push(V[K]);else this.options.saveMissingTo==="all"?ee=this.languageUtils.toResolveHierarchy(i.lng||this.language):ee.push(i.lng||this.language);const Y=(K,J,W)=>{const te=R&&W!==y?W:F;this.options.missingKeyHandler?this.options.missingKeyHandler(K,u,J,te,G,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(K,u,J,te,G,i),this.emit("missingKey",K,u,J,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?ee.forEach(K=>{const J=this.pluralResolver.getSuffixes(K,i);P&&i[`defaultValue${this.options.pluralSeparator}zero`]&&J.indexOf(`${this.options.pluralSeparator}zero`)<0&&J.push(`${this.options.pluralSeparator}zero`),J.forEach(W=>{Y([K],s+W,i[`defaultValue${W}`]||O)})}):Y(ee,s,O))}y=this.extendTranslation(y,e,i,g,a),M&&y===s&&this.options.appendNamespaceToMissingKey&&(y=`${u}${d}${s}`),(M||$)&&this.options.parseMissingKeyHandler&&(y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${s}`:s,$?y:void 0,i))}return r?(g.res=y,g.usedParams=this.getUsedParamsDetails(i),g):y}extendTranslation(e,n,a,i,r){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const c=Sn(e)&&(a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const h=e.match(this.interpolator.nestingRegexp);u=h&&h.length}let d=a.replace&&!Sn(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,a.lng||this.language||i.usedLng,a),c){const h=e.match(this.interpolator.nestingRegexp),m=h&&h.length;u<m&&(a.nest=!1)}!a.lng&&i&&i.res&&(a.lng=this.language||i.usedLng),a.nest!==!1&&(e=this.interpolator.nest(e,(...h)=>r?.[0]===h[0]&&!a.context?(this.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${n[0]}`),null):this.translate(...h,n),a)),a.interpolation&&this.interpolator.reset()}const o=a.postProcess||this.options.postProcess,s=Sn(o)?[o]:o;return e!=null&&s?.length&&a.applyPostProcessor!==!1&&(e=PX.handle(s,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),e}resolve(e,n={}){let a,i,r,o,s;return Sn(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(a))return;const u=this.extractFromKey(c,n),d=u.key;i=d;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const m=n.count!==void 0&&!Sn(n.count),g=m&&!n.ordinal&&n.count===0,y=n.context!==void 0&&(Sn(n.context)||typeof n.context=="number")&&n.context!=="",v=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(S=>{this.isValidLookup(a)||(s=S,!sL[`${v[0]}-${S}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(s)&&(sL[`${v[0]}-${S}`]=!0,this.logger.warn(`key "${i}" for languages "${v.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(w=>{if(this.isValidLookup(a))return;o=w;const _=[d];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(_,d,w,S,n);else{let A;m&&(A=this.pluralResolver.getSuffix(w,n.count,n));const R=`${this.options.pluralSeparator}zero`,I=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(n.ordinal&&A.indexOf(I)===0&&_.push(d+A.replace(I,this.options.pluralSeparator)),_.push(d+A),g&&_.push(d+R)),y){const N=`${d}${this.options.contextSeparator||"_"}${n.context}`;_.push(N),m&&(n.ordinal&&A.indexOf(I)===0&&_.push(N+A.replace(I,this.options.pluralSeparator)),_.push(N+A),g&&_.push(N+R))}}let T;for(;T=_.pop();)this.isValidLookup(a)||(r=T,a=this.getResource(w,S,T,n))}))})}),{res:a,usedKey:i,exactUsedKey:r,usedLng:o,usedNS:s}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,a,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,a,i):this.resourceStore.getResource(e,n,a,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=e.replace&&!Sn(e.replace);let i=a?e.replace:e;if(a&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!a){i={...i};for(const r of n)delete i[r]}return i}static hasDefaultValue(e){const n="defaultValue";for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&n===a.substring(0,n.length)&&e[a]!==void 0)return!0;return!1}}class lL{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Yu.create("languageUtils")}getScriptPartFromCode(e){if(e=y2(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=y2(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Sn(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(a=>{if(n)return;const i=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(a=>{if(n)return;const i=this.getScriptPartFromCode(a);if(this.isSupportedCode(i))return n=i;const r=this.getLanguagePartFromCode(a);if(this.isSupportedCode(r))return n=r;n=this.options.supportedLngs.find(o=>{if(o===r)return o;if(!(o.indexOf("-")<0&&r.indexOf("-")<0)&&(o.indexOf("-")>0&&r.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===r||o.indexOf(r)===0&&r.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Sn(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let a=e[n];return a||(a=e[this.getScriptPartFromCode(n)]),a||(a=e[this.formatLanguageCode(n)]),a||(a=e[this.getLanguagePartFromCode(n)]),a||(a=e.default),a||[]}toResolveHierarchy(e,n){const a=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],r=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Sn(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&r(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&r(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&r(this.getLanguagePartFromCode(e))):Sn(e)&&r(this.formatLanguageCode(e)),a.forEach(o=>{i.indexOf(o)<0&&r(this.formatLanguageCode(o))}),i}}const cL={zero:0,one:1,two:2,few:3,many:4,other:5},uL={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class jhe{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Yu.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const a=y2(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:a,type:i});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let o;try{o=new Intl.PluralRules(a,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),uL;if(!e.match(/-|_/))return uL;const c=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(c,n)}return this.pluralRulesCache[r]=o,o}needsPlural(e,n={}){let a=this.getRule(e,n);return a||(a=this.getRule("dev",n)),a?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,a={}){return this.getSuffixes(e,a).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let a=this.getRule(e,n);return a||(a=this.getRule("dev",n)),a?a.resolvedOptions().pluralCategories.sort((i,r)=>cL[i]-cL[r]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,a={}){const i=this.getRule(e,a);return i?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,a))}}const dL=(t,e,n,a=".",i=!0)=>{let r=whe(t,e,n);return!r&&i&&Sn(n)&&(r=XI(t,n,a),r===void 0&&(r=XI(e,n,a))),r},_E=t=>t.replace(/\$/g,"$$$$");class Dhe{constructor(e={}){this.logger=Yu.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:a,useRawValueToEscape:i,prefix:r,prefixEscaped:o,suffix:s,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:m,nestingPrefixEscaped:g,nestingSuffix:y,nestingSuffixEscaped:v,nestingOptionsSeparator:S,maxReplaces:w,alwaysFormat:_}=e.interpolation;this.escape=n!==void 0?n:The,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=r?d1(r):o||"{{",this.suffix=s?d1(s):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=m?d1(m):g||d1("$t("),this.nestingSuffix=y?d1(y):v||d1(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=w||1e3,this.alwaysFormat=_!==void 0?_:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,a)=>n?.source===a?(n.lastIndex=0,n):new RegExp(a,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,a,i){let r,o,s;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const w=dL(n,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,a,{...i,...n,interpolationkey:g}):w}const y=g.split(this.formatSeparator),v=y.shift().trim(),S=y.join(this.formatSeparator).trim();return this.format(dL(n,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),S,a,{...i,...n,interpolationkey:v})};this.resetRegExp();const d=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,h=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>_E(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?_E(this.escape(g)):_E(g)}].forEach(g=>{for(s=0;r=g.regex.exec(e);){const y=r[1].trim();if(o=u(y),o===void 0)if(typeof d=="function"){const S=d(e,r,i);o=Sn(S)?S:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))o="";else if(h){o=r[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),o="";else!Sn(o)&&!this.useRawValueToEscape&&(o=nL(o));const v=g.safeValue(o);if(e=e.replace(r[0],v),h?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=r[0].length):g.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,n,a={}){let i,r,o;const s=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const h=c.split(new RegExp(`${d}[ ]*{`));let m=`{${h[1]}`;c=h[0],m=this.interpolate(m,o);const g=m.match(/'/g),y=m.match(/"/g);((g?.length??0)%2===0&&!y||y.length%2!==0)&&(m=m.replace(/'/g,'"'));try{o=JSON.parse(m),u&&(o={...u,...o})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,v),`${c}${d}${m}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;i=this.nestingRegexp.exec(e);){let c=[];o={...a},o=o.replace&&!Sn(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(u!==-1&&(c=i[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),i[1]=i[1].slice(0,u)),r=n(s.call(this,i[1].trim(),o),o),r&&i[0]===e&&!Sn(r))return r;Sn(r)||(r=nL(r)),r||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),r=""),c.length&&(r=c.reduce((d,h)=>this.format(d,h,a.lng,{...a,interpolationkey:i[1].trim()}),r.trim())),e=e.replace(i[0],r),this.regexp.lastIndex=0}return e}}const Ohe=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const a=t.split("(");e=a[0].toLowerCase().trim();const i=a[1].substring(0,a[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[s,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=s.trim();n[d]||(n[d]=u),u==="false"&&(n[d]=!1),u==="true"&&(n[d]=!0),isNaN(u)||(n[d]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},fL=t=>{const e={};return(n,a,i)=>{let r=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(r={...r,[i.interpolationkey]:void 0});const o=a+JSON.stringify(r);let s=e[o];return s||(s=t(y2(a),i),e[o]=s),s(n)}},Mhe=t=>(e,n,a)=>t(y2(n),a)(e);class Phe{constructor(e={}){this.logger=Yu.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const a=n.cacheInBuiltFormats?fL:Mhe;this.formats={number:a((i,r)=>{const o=new Intl.NumberFormat(i,{...r});return s=>o.format(s)}),currency:a((i,r)=>{const o=new Intl.NumberFormat(i,{...r,style:"currency"});return s=>o.format(s)}),datetime:a((i,r)=>{const o=new Intl.DateTimeFormat(i,{...r});return s=>o.format(s)}),relativetime:a((i,r)=>{const o=new Intl.RelativeTimeFormat(i,{...r});return s=>o.format(s,r.range||"day")}),list:a((i,r)=>{const o=new Intl.ListFormat(i,{...r});return s=>o.format(s)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=fL(n)}format(e,n,a,i={}){const r=n.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(s=>s.indexOf(")")>-1)){const s=r.findIndex(c=>c.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,s)].join(this.formatSeparator)}return r.reduce((s,c)=>{const{formatName:u,formatOptions:d}=Ohe(c);if(this.formats[u]){let h=s;try{const m=i?.formatParams?.[i.interpolationkey]||{},g=m.locale||m.lng||i.locale||i.lng||a;h=this.formats[u](s,g,{...d,...i,...m})}catch(m){this.logger.warn(m)}return h}else this.logger.warn(`there was no format function for ${u}`);return s},e)}}const Lhe=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class zhe extends W_{constructor(e,n,a,i={}){super(),this.backend=e,this.store=n,this.services=a,this.languageUtils=a.languageUtils,this.options=i,this.logger=Yu.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(a,i.backend,i)}queueLoad(e,n,a,i){const r={},o={},s={},c={};return e.forEach(u=>{let d=!0;n.forEach(h=>{const m=`${u}|${h}`;!a.reload&&this.store.hasResourceBundle(u,h)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?o[m]===void 0&&(o[m]=!0):(this.state[m]=1,d=!1,o[m]===void 0&&(o[m]=!0),r[m]===void 0&&(r[m]=!0),c[h]===void 0&&(c[h]=!0)))}),d||(s[u]=!0)}),(Object.keys(r).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(r),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(c)}}loaded(e,n,a){const i=e.split("|"),r=i[0],o=i[1];n&&this.emit("failedLoading",r,o,n),!n&&a&&this.store.addResourceBundle(r,o,a,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&a&&(this.state[e]=0);const s={};this.queue.forEach(c=>{Che(c.loaded,[r],o),Lhe(c,e),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{s[u]||(s[u]={});const d=c.loaded[u];d.length&&d.forEach(h=>{s[u][h]===void 0&&(s[u][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(c=>!c.done)}read(e,n,a,i=0,r=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:a,tried:i,wait:r,callback:o});return}this.readingCalls++;const s=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,a,i+1,r*2,o)},r);return}o(u,d)},c=this.backend[a].bind(this.backend);if(c.length===2){try{const u=c(e,n);u&&typeof u.then=="function"?u.then(d=>s(null,d)).catch(s):s(null,u)}catch(u){s(u)}return}return c(e,n,s)}prepareLoading(e,n,a={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Sn(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Sn(n)&&(n=[n]);const r=this.queueLoad(e,n,a,i);if(!r.toLoad.length)return r.pending.length||i(),null;r.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,a){this.prepareLoading(e,n,{},a)}reload(e,n,a){this.prepareLoading(e,n,{reload:!0},a)}loadOne(e,n=""){const a=e.split("|"),i=a[0],r=a[1];this.read(i,r,"read",void 0,void 0,(o,s)=>{o&&this.logger.warn(`${n}loading namespace ${r} for language ${i} failed`,o),!o&&s&&this.logger.log(`${n}loaded namespace ${r} for language ${i}`,s),this.loaded(e,o,s)})}saveMissing(e,n,a,i,r,o={},s=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${a}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if(this.backend?.create){const c={...o,isUpdate:r},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(e,n,a,i,c):d=u(e,n,a,i),d&&typeof d.then=="function"?d.then(h=>s(null,h)).catch(s):s(null,d)}catch(d){s(d)}else u(e,n,a,i,s,c)}!e||!e[0]||this.store.addResource(e[0],n,a,i)}}}const hL=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Sn(t[1])&&(e.defaultValue=t[1]),Sn(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(a=>{e[a]=n[a]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),pL=t=>(Sn(t.ns)&&(t.ns=[t.ns]),Sn(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Sn(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),HC=()=>{},Fhe=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class x2 extends W_{constructor(e={},n){if(super(),this.options=pL(e),this.services={},this.logger=Yu,this.modules={external:[]},Fhe(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Sn(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const a=hL();this.options={...a,...this.options,...pL(e)},this.options.interpolation={...a.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Yu.init(i(this.modules.logger),this.options):Yu.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=Phe;const d=new lL(this.options);this.store=new oL(this.options.resources,this.options);const h=this.services;h.logger=Yu,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new jhe(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(h.formatter=i(u),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new Dhe(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new zhe(i(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(g,...y)=>{this.emit(g,...y)}),this.modules.languageDetector&&(h.languageDetector=i(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=i(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new R4(this.services,this.options),this.translator.on("*",(g,...y)=>{this.emit(g,...y)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,n||(n=HC),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const s=zx(),c=()=>{const u=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(h),n(d,h)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),s}loadResources(e,n=HC){let a=n;const i=Sn(e)?e:this.language;if(typeof e=="function"&&(a=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const r=[],o=s=>{if(!s||s==="cimode")return;this.services.languageUtils.toResolveHierarchy(s).forEach(u=>{u!=="cimode"&&r.indexOf(u)<0&&r.push(u)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload?.forEach?.(s=>o(s)),this.services.backendConnector.load(r,this.options.ns,s=>{!s&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(s)})}else a(null)}reloadResources(e,n,a){const i=zx();return typeof e=="function"&&(a=e,e=void 0),typeof n=="function"&&(a=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),a||(a=HC),this.services.backendConnector.reload(e,n,r=>{i.resolve(),a(r)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&PX.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const a=this.languages[n];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const a=zx();this.emit("languageChanging",e);const i=s=>{this.language=s,this.languages=this.services.languageUtils.toResolveHierarchy(s),this.resolvedLanguage=void 0,this.setResolvedLanguage(s)},r=(s,c)=>{c?this.isLanguageChangingTo===e&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,a.resolve((...u)=>this.t(...u)),n&&n(s,(...u)=>this.t(...u))},o=s=>{!e&&!s&&this.services.languageDetector&&(s=[]);const c=Sn(s)?s:s&&s[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Sn(s)?[s]:s);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector?.cacheUserLanguage?.(u)),this.loadResources(u,d=>{r(d,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),a}getFixedT(e,n,a){const i=(r,o,...s)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([r,o].concat(s)):c={...o},c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||a||i.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(r)?d=r.map(h=>(typeof h=="function"&&(h=QI(h,{...this.options,...o})),`${c.keyPrefix}${u}${h}`)):(typeof r=="function"&&(r=QI(r,{...this.options,...o})),d=c.keyPrefix?`${c.keyPrefix}${u}${r}`:r),this.t(d,c)};return Sn(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=a,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,r=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const o=(s,c)=>{const u=this.services.backendConnector.state[`${s}|${c}`];return u===-1||u===0||u===2};if(n.precheck){const s=n.precheck(this,o);if(s!==void 0)return s}return!!(this.hasResourceBundle(a,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(a,e)&&(!i||o(r,e)))}loadNamespaces(e,n){const a=zx();return this.options.ns?(Sn(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{a.resolve(),n&&n(i)}),a):(n&&n(),Promise.resolve())}loadLanguages(e,n){const a=zx();Sn(e)&&(e=[e]);const i=this.options.preload||[],r=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return r.length?(this.options.preload=i.concat(r),this.loadResources(o=>{a.resolve(),n&&n(o)}),a):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const i=new Intl.Locale(e);if(i&&i.getTextInfo){const r=i.getTextInfo();if(r&&r.direction)return r.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=this.services?.languageUtils||new lL(hL());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(a.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new x2(e,n)}cloneInstance(e={},n=HC){const a=e.forkResourceStore;a&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},r=new x2(i);if((e.debug!==void 0||e.prefix!==void 0)&&(r.logger=r.logger.clone(e)),["store","services","language"].forEach(s=>{r[s]=this[s]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},a){const s=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,h)=>(d[h]={...c[u][h]},d),c[u]),c),{});r.store=new oL(s,i),r.services.resourceStore=r.store}return r.translator=new R4(r.services,i),r.translator.on("*",(s,...c)=>{r.emit(s,...c)}),r.init(i,n),r.translator.options=i,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Do=x2.createInstance();Do.createInstance=x2.createInstance;Do.createInstance;Do.dir;Do.init;Do.loadResources;Do.reloadResources;Do.use;Do.changeLanguage;Do.getFixedT;Do.t;Do.exists;Do.setDefaultNamespace;Do.hasLoadedNamespace;Do.loadNamespaces;Do.loadLanguages;const Bhe=(t,e,n,a)=>{const i=[n,{code:e,...a||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Zm(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...i):console?.warn&&console.warn(...i)},mL={},ZI=(t,e,n,a)=>{Zm(n)&&mL[n]||(Zm(n)&&(mL[n]=new Date),Bhe(t,e,n,a))},zX=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},JI=(t,e,n)=>{t.loadNamespaces(e,zX(t,n))},gL=(t,e,n,a)=>{if(Zm(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return JI(t,n,a);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,zX(t,a))},Hhe=(t,e,n={})=>!e.languages||!e.languages.length?(ZI(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(a,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!i(a.isLanguageChangingTo,t))return!1}}),Zm=t=>typeof t=="string",$he=t=>typeof t=="object"&&t!==null,Uhe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Ghe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},qhe=t=>Ghe[t],Whe=t=>t.replace(Uhe,qhe);let e7={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Whe};const Vhe=(t={})=>{e7={...e7,...t}},Yhe=()=>e7;let FX;const Khe=t=>{FX=t},Xhe=()=>FX,Qhe={type:"3rdParty",init(t){Vhe(t.options.react),Khe(t)}},Zhe=E.createContext();class Jhe{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const epe=(t,e)=>{const n=E.useRef();return E.useEffect(()=>{n.current=t},[t,e]),n.current},BX=(t,e,n,a)=>t.getFixedT(e,n,a),tpe=(t,e,n,a)=>E.useCallback(BX(t,e,n,a),[t,e,n,a]),ht=(t,e={})=>{const{i18n:n}=e,{i18n:a,defaultNS:i}=E.useContext(Zhe)||{},r=n||a||Xhe();if(r&&!r.reportNamespaces&&(r.reportNamespaces=new Jhe),!r){ZI(r,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const A=(I,N)=>Zm(N)?N:$he(N)&&Zm(N.defaultValue)?N.defaultValue:Array.isArray(I)?I[I.length-1]:I,R=[A,{},!1];return R.t=A,R.i18n={},R.ready=!1,R}r.options.react?.wait&&ZI(r,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...Yhe(),...r.options.react,...e},{useSuspense:s,keyPrefix:c}=o;let u=t||i||r.options?.defaultNS;u=Zm(u)?[u]:u||["translation"],r.reportNamespaces.addUsedNamespaces?.(u);const d=(r.isInitialized||r.initializedStoreOnce)&&u.every(A=>Hhe(A,r,o)),h=tpe(r,e.lng||null,o.nsMode==="fallback"?u:u[0],c),m=()=>h,g=()=>BX(r,e.lng||null,o.nsMode==="fallback"?u:u[0],c),[y,v]=E.useState(m);let S=u.join();e.lng&&(S=`${e.lng}${S}`);const w=epe(S),_=E.useRef(!0);E.useEffect(()=>{const{bindI18n:A,bindI18nStore:R}=o;_.current=!0,!d&&!s&&(e.lng?gL(r,e.lng,u,()=>{_.current&&v(g)}):JI(r,u,()=>{_.current&&v(g)})),d&&w&&w!==S&&_.current&&v(g);const I=()=>{_.current&&v(g)};return A&&r?.on(A,I),R&&r?.store.on(R,I),()=>{_.current=!1,r&&A&&A?.split(" ").forEach(N=>r.off(N,I)),R&&r&&R.split(" ").forEach(N=>r.store.off(N,I))}},[r,S]),E.useEffect(()=>{_.current&&d&&v(m)},[r,c,d]);const T=[y,r,d];if(T.t=y,T.i18n=r,T.ready=d,d||!d&&!s)return T;throw new Promise(A=>{e.lng?gL(r,e.lng,u,()=>A()):JI(r,u,()=>A())})},{slice:npe,forEach:ape}=[];function ipe(t){return ape.call(npe.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function rpe(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const bL=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,ope=function(t,e){const a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let r=`${t}=${i}`;if(a.maxAge>0){const o=a.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");r+=`; Max-Age=${Math.floor(o)}`}if(a.domain){if(!bL.test(a.domain))throw new TypeError("option domain is invalid");r+=`; Domain=${a.domain}`}if(a.path){if(!bL.test(a.path))throw new TypeError("option path is invalid");r+=`; Path=${a.path}`}if(a.expires){if(typeof a.expires.toUTCString!="function")throw new TypeError("option expires is invalid");r+=`; Expires=${a.expires.toUTCString()}`}if(a.httpOnly&&(r+="; HttpOnly"),a.secure&&(r+="; Secure"),a.sameSite)switch(typeof a.sameSite=="string"?a.sameSite.toLowerCase():a.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a.partitioned&&(r+="; Partitioned"),r},yL={create(t,e,n,a){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),a&&(i.domain=a),document.cookie=ope(t,e,i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let a=0;a<n.length;a++){let i=n[a];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var spe={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return yL.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:a,cookieDomain:i,cookieOptions:r}=e;n&&typeof document<"u"&&yL.create(n,t,a,i,r)}},lpe={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const r=a.substring(1).split("&");for(let o=0;o<r.length;o++){const s=r[o].indexOf("=");s>0&&r[o].substring(0,s)===e&&(n=r[o].substring(s+1))}}return n}},cpe={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:n}=t,a;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const r=i.substring(1);if(e){const o=r.split("&");for(let s=0;s<o.length;s++){const c=o[s].indexOf("=");c>0&&o[s].substring(0,c)===e&&(a=o[s].substring(c+1))}}if(a)return a;if(!a&&n>-1){const o=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?o[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return a}};let f1=null;const xL=()=>{if(f1!==null)return f1;try{if(f1=typeof window<"u"&&window.localStorage!==null,!f1)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{f1=!1}return f1};var upe={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&xL())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&xL()&&window.localStorage.setItem(n,t)}};let h1=null;const vL=()=>{if(h1!==null)return h1;try{if(h1=typeof window<"u"&&window.sessionStorage!==null,!h1)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{h1=!1}return h1};var dpe={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&vL())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&vL()&&window.sessionStorage.setItem(n,t)}},fpe={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:a,language:i}=navigator;if(n)for(let r=0;r<n.length;r++)e.push(n[r]);a&&e.push(a),i&&e.push(i)}return e.length>0?e:void 0}},hpe={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const a=e||(typeof document<"u"?document.documentElement:null);return a&&typeof a.getAttribute=="function"&&(n=a.getAttribute("lang")),n}},ppe={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof e=="number"?e:0]?.replace("/",""):void 0}},mpe={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,a=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(a)return a[n]}};let HX=!1;try{document.cookie,HX=!0}catch{}const $X=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];HX||$X.splice(1,1);const gpe=()=>({order:$X,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class UX{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=ipe(n,this.options||{},gpe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=a,this.addDetector(spe),this.addDetector(lpe),this.addDetector(upe),this.addDetector(dpe),this.addDetector(fpe),this.addDetector(hpe),this.addDetector(ppe),this.addDetector(mpe),this.addDetector(cpe)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(a=>{if(this.detectors[a]){let i=this.detectors[a].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(a=>a!=null&&!rpe(a)).map(a=>this.options.convertDetectedLanguage(a)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(a=>{this.detectors[a]&&this.detectors[a].cacheUserLanguage(e,this.options)}))}}UX.type="languageDetector";const bpe={save:"",cancel:"",delete:"",edit:"",add:"",upload:"",download:"",search:"",filter:"",reset:"",confirm:"",close:"",back:"",next:"",previous:"",select:"",deselect:" ",selectAll:" ",deselectAll:" ",apply:"",clear:""},ype={loading:" ...",saving:" ...",success:"",error:"",noData:" ",confirmDelete:"?",unsavedChanges:"   ",processing:" ...",uploading:" ...",downloading:" ...",deleting:" ..."},xpe={name:"",description:"",date:"",status:"",type:"",size:"",created:"",updated:"",width:"",height:"",duration:" ",resolution:""},vpe={tooltips:{viewDetails:" ",download:"",delete:"",select:""},badges:{auto:"",video:""},confirmDelete:{image:" ?",video:" ?"}},Spe={selectedCount:"{{count}}  ",selectedCountImages:"{{count}}  ",tooltips:{download:"",addToGroup:" ",delete:"",clearSelection:" ",batchTag:"  "},confirmDelete:{mixed:" {{count}} (/) ?",images:" {{count}}  ?",videos:" {{count}}  ?",files:" {{count}}  ?"},confirmBatchTag:" {{count}}   ?",batchTagSuccess:"{{count}}    ",batchTagError:"     "},Cpe={perPage:"",items:"",page:"",of:"/",showing:"{{total}}  {{from}}-{{to}}",goToPage:" ",rowsPerPage:"  "},wpe={loading:" ",error:"",empty:"",success:"",pending:" ",completed:"",failed:""},_pe={view:"",download:"",delete:"",edit:"",create:"",update:"",cancel:"",confirm:"",retry:"",refresh:""},Tpe={title:{add:" ",edit:" "},groupTypes:{label:" ",exclude:"",or:"OR",and:"AND"},categories:{label:"",positive_prompt:"",negative_prompt:"",auto_tag:"",basic:""},conditionSettings:{label:" ",conditionType:" ",value:"",valuePlaceholder:"  "},conditionTypes:{prompt_contains:"",prompt_regex:"",negative_prompt_contains:"",negative_prompt_regex:"",auto_tag_exists:" ",auto_tag_has_character:" ",auto_tag_rating:"Rating ",auto_tag_rating_score:"Rating ",auto_tag_general:"General ",auto_tag_character:"Character ",auto_tag_model:"",ai_tool:"AI ",model_name:""},fields:{exists:"",notExists:"",ratingType:"Rating ",scoreRange:" : {{min}} ~ {{max}}",weightRange:" : {{min}} ~ {{max}}",tagOrCharacter:"/",tagPlaceholder:": 1girl, hatsune_miku"},ratingTypes:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"}},Epe={groupTypes:{exclude:{label:" (NOT)",labelShort:"",description:"     ( )"},or:{label:"OR ",labelShort:"OR",description:"    "},and:{label:"AND ",labelShort:"AND",description:"   "}},categories:{positive_prompt:" ",negative_prompt:" ",auto_tag:"",basic:""},conditionTypes:{prompt_contains:"",prompt_regex:"",negative_prompt_contains:"",negative_prompt_regex:"",auto_tag_exists:" ",auto_tag_has_character:" ",auto_tag_rating:"Rating ",auto_tag_rating_score:"Rating ",auto_tag_general:"General ",auto_tag_character:"Character ",auto_tag_model:"",ai_tool:"AI ",model_name:""},labels:{condition:"",conditionNumber:" #{{number}}",editCondition:" #{{number}} ",category:"",conditionType:" ",value:"",score:"",scoreRange:" : {{min}} ~ {{max}}",weightRange:" : {{min}} ~ {{max}}",ratingType:"Rating ",tagCharacterName:"/",conditionsCount:"{{count}} "},buttons:{addCondition:" "},messages:{noConditions:" .     ."},values:{exists:"",notExists:""},ratingTypes:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"}},Ape={title:" ",canvasInfo:" ",canvasSize:": {{width}} x {{height}} px",toolProperties:" ",brushSize:" : {{size}}px",brushColor:" ",eraserSize:" : {{size}}px",panHelp:"     .   /  ."},Rpe=" ",kpe="",Ipe="",Npe="",jpe="",Dpe="",Ope="",Mpe="",Ppe="",Lpe={buttons:bpe,messages:ype,labels:xpe,imageCard:vpe,bulkActions:Spe,pagination:Cpe,states:wpe,actions:_pe,filterModal:Tpe,filterBuilder:Epe,imageEditor:Ape,clickToCopy:Rpe,thumbnail:kpe,original:Ipe,video:Npe,none:jpe,enabled:Dpe,disabled:Ope,save:Mpe,refresh:Ppe},zpe="",Fpe="ComfyUI Image Manager   ",Bpe={general:" ",tagger:"Tagger ",rating:"Rating  ",similarity:"  ",prompts:" ",metadata:" ",folders:" ",account:"",externalApi:" ",advanced:" "},Hpe={title:" ",language:{label:"",description:"   ",ko:"",en:"English",ja:"","zh-CN":"","zh-TW":""},gallery:{label:" ",tooltip:"    .    ."},canvasCleanup:{label:"  Canvas   ",tooltip:"   Canvas     .    ."},ratingBadges:{label:"Rating  ",tooltip:"  Rating   .       ."},deleteProtection:{label:"  RecycleBin ",tooltip:"       RecycleBin  . RecycleBin    ,     ."},metadata:{title:"  ",scanMode:{title:"Stealth PNG  ",fast:{label:"Fast ()",description:"   -  200    "},full:{label:"Full",description:"   -    ()"},skip:{label:"Skip",description:"  - Secondary extraction "}},limits:{title:"    ",fileSize:{label:"   (MB)",helper:"    Stealth PNG  "},resolution:{label:"  ()",helper:"    Stealth PNG  "}},skipSettings:{title:"AI   ",description:" AI   Stealth PNG   .",comfyui:{label:"ComfyUI   ()",description:"ComfyUI Stealth PNG    "},webui:{label:"WebUI  ",description:"WebUI Stealth PNG     "}},secondary:{label:"Secondary extraction ",description:"Primary extraction   Stealth PNG  ."},performanceNote:" :  (Fast + ComfyUI )     . ComfyUI    2682ms  4ms !"},thumbnail:{title:" ",description:"      ",saveFailed:"   ",size:{label:" ",selectLabel:" ",original:"  ",default:"1080px ()"},quality:{label:" ",helperText:"     (60-100%)"},regenerate:{button:" ",description:"      "}}},$pe={title:"WD Tagger ",description:"AI      .",enableAutoTagging:"  ",model:{label:" ",loading:"   ...",downloaded:"Downloaded",vit:{label:"ViT (Vision Transformer)",description:" ,   -   "},swinv2:{label:"SwinV2 (Swin Transformer V2)",description:" ,    -    "},convnext:{label:"ConvNeXt",description:" ,   -    "}},device:{label:" ",auto:{title:" (Auto)",description:"GPU   GPU,  CPU "},cpu:{title:"CPU",description:"CPU  ( )"},cuda:{title:"GPU (CUDA)",description:"NVIDIA GPU  (, GPU )"}},modelStatus:{title:" ",loaded:"",unloaded:"",lastUsed:" ",justNow:" ",minutesAgo:"{{minutes}} ",hoursAgo:"{{hours}} ",daysAgo:"{{days}} ",none:""},status:{downloaded:"",notDownloaded:""},buttons:{load:"",unload:"",refresh:"",download:" ",downloading:"   ...",refreshStatus:" ",checkDependencies:"Python  ",checking:"Python   ...",save:"",cancel:""},alerts:{modelDownloaded:"{{model}}   .",modelNotDownloaded:"{{model}}   .     .",modelLoaded:" ",modelUnloaded:" ",loadFailed:"  ",unloadFailed:"  ",saveFailed:"  ",dependencyCheckFailed:"  "},threshold:{general:{label:"General Tags Threshold: {{value}}",description:"     (  )"},character:{label:"Character Tags Threshold: {{value}}",description:"     (  )"}},pythonPath:{label:"Python  ",helper:"Python    (: python, python3, C:\\Python39\\python.exe)"},memoryManagement:{title:" ",description:"    .",keepModelLoaded:"    ",autoUnloadMinutes:"  : {{minutes}}",autoUnloadDescription:"        .",keepLoadedAlert:"       .",notKeepLoadedAlert:"   .       ."},batch:{title:" ",description:"    .",untaggedCount:" : {{count}}",progress:" : {{current}} / {{total}}",buttons:{tagUnprocessed:"   ( 100)",tagAll:"  ( 100)",processing:" ..."},alerts:{complete:":  {{success}},  {{failed}}",failed:"   ",tagAllFailed:"  "},confirmDialog:{title:"  ",message:`   ?     .
( 100 )`,confirm:"",cancel:""}},test:{title:"",description:"    .",imageHash:" ",placeholderHash:": abc123def456...",button:" ",processing:" ...",result:" :",failed:" ",invalidId:"  ID "}},Upe={title:"Rating  ",description:"    ",weights:{title:" ",description:" Rating    .",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",preview:{title:"  ( Rating: general=0.001, sensitive=0.045, questionable=0.735, explicit=0.470)",score:": <strong>{{score}}</strong>"},buttons:{save:" ",cancel:"",saving:" ..."},alerts:{saveSuccess:"  .",saveFailed:"  .",loadFailed:"   ."}},tiers:{title:"  ",description:"   .",addButton:" ",table:{order:"",name:"",scoreRange:" ",color:"",actions:"",empty:" .  .",scoreFormat:"{{min}} ~ {{max}}",infinity:""},dialog:{createTitle:" ",editTitle:" ",tierName:"",minScore:" ",maxScore:"  (  = )",order:"",color:" (Hex)",colorPlaceholder:"#2196f3",colorHelper:": #22c55e, #3b82f6, #f59e0b, #ef4444",save:"",cancel:"",saving:" ...",requiredFields:"   ."},alerts:{created:" .",updated:" .",deleted:" .",saveFailed:"  .",deleteFailed:"  .",loadFailed:"   .",deleteConfirm:"  ?"}},calculator:{title:"  ",description:"Rating    .",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",calculate:" ",calculating:" ...",result:{title:" ",score:": <strong>{{score}}</strong>",breakdown:" :",generalScore:"General: {{score}}",sensitiveScore:"Sensitive: {{score}}",questionableScore:"Questionable: {{score}}",explicitScore:"Explicit: {{score}}"},failed:"  ."},recalculation:{title:"Rating  ",description:"  rating_score     . auto_tags    .",buttons:{recalculate:"   ",processing:" ..."},progress:"  ... {{current}}/{{total}}",success:" :  {{total}}  {{success}} , {{failed}} ",failed:"  .",confirmDialog:{title:"Rating  ",message:"  rating_score ?      .",confirm:"",cancel:""}}},Gpe={title:" ",description:"      ",saveFailed:"   ",size:{label:" ",selectLabel:" ",original:"  ",default:"1080px ()"},quality:{label:" ",helperText:"     (60-100%)"},regenerate:{button:" ",description:"      "}},qpe={title:"  ",loadFailed:"    ",confirmReset:"  ?     .",resetFailed:"  ",resetQueue:" ",autoTagFailed:"   ",confirmHashGen:"{{count}}   ?",hashGenComplete:"  :  {{processed}},  {{failed}}",hashGenFailed:"  ",confirmVerify:" {{count}}  ?\\n      .",verifyFailed:"   ",verifyIntervalError:"  300-86400  ",verifySaveFailed:"    ",autoUpdate:"5  .",autoUpdateDisabled:"  .",queue:{title:" ",pending:" : {{count}}",processing:" ",waiting:""},tasks:{metadata:" ",promptCollection:" ",pendingCount:"{{count}}  "},autoTag:{title:"  ",manualTrigger:" ",running:" ",stopped:"",untaggedCount:" : {{count}}",pollingInterval:" : {{seconds}}",batchSize:" : {{size}}"},hash:{title:"  ",generate:" ",total:": {{count}}",completed:"  : {{count}}",pending:": {{count}}",completion:": {{percent}}%"},verify:{title:"  ",viewLogs:" ",run:" ",progress:"   : {{checked}}/{{total}}",missing:": {{count}}",totalFiles:" : {{count}}",missingFiles:" : {{count}}",lastVerification:" : {{date}}",schedulerTitle:"  ",intervalLabel:"  ()",intervalHelper:"300-86400 (5-24)",intervalTooltip:"          "}},Wpe={title:"   ",autoGenerateHash:"    ",description:"      ",hashPlaceholder:": a1b2c3d4e5f6...",systemStatus:{title:" ",description:"     .",totalImages:" : {{count}}",withHash:" : {{count}}",withoutHash:": {{count}}",completion:": {{percent}}%",autoGenerateHash:"    ",rebuildButton:"     ({{count}})",rebuildingButton:" ...",refreshButton:" ",rebuildProgress:"   ... {{processed}} /{{total}}  ({{percent}}% )",allComplete:"   !",allCompleteShort:"",rebuildComplete:" : {{processed}}   .",rebuildCompleteWithErrors:" : {{success}} , {{failed}} ",rebuildFailed:"  ",noImagesToProcess:"  .",autoGenerateUpdateFailed:"  "},test:{title:" & ",description:"    .",imageId:" ID",placeholder:": 123",compositeHash:" ",hashHelperText:" composite_hash ",searchType:" ",types:{duplicates:" ",similar:" ",color:" "},searchButton:" ",searching:" ...",hashStatus:"Hash ",queryImage:"  ",results:" : {{count}}",noResults:"  .",searchFailed:" ",rebuild:{button:"{{count}}   ",rebuilding:" ...",success:" : {{processed}} , {{failed}} , {{remaining}} ",error:": {{error}}"},imageDetails:{id:"ID:",filename:":",size:":",aiTool:"AI :"},matchTypes:{exact:" ",nearDuplicate:" ",similar:"",colorSimilar:" "},similarity:"{{percent}}%",colorSimilarity:": {{percent}}%"},duplicateScan:{title:"  ",description:"     .",scanButton:"  ",scanning:" ...",foundGroups:"  : {{count}}",groupLabel:" {{id}}  {{count}} ",similarityLabel:"{{percent}}% ",moreImages:"+{{count}}  ",noResults:"     .",id:"ID: {{id}}",selectAll:" ",deselectAll:" ",keepOne:"1 ",keepOneDelete:"     ",deleteSelected:" {{count}} ",deleteConfirmTitle:"  ",deleteConfirmMessage:" {{count}}  ?",deleteWarning:"    !",cancel:"",confirmDelete:"",deleting:" ...",deleteSuccess:"{{count}}  .",deletePartialSuccess:"{{success}} , {{failed}} ",deleteFailed:"  ."},thresholds:{title:" ",description:"   .",duplicate:{label:"  : {{value}}",description:"  (0= , 5= , 10=   )",strict:"0 ()",recommended:"5 ()",lenient:"10 ()"},similar:{label:"  : {{value}}",description:" ,      ",strict:"5 ()",recommended:"15 ()",lenient:"25 ()"},color:{label:"  : {{value}}%",description:"   ( )",min:"70%",recommended:"85% ()",max:"100%"},searchLimit:{label:"  ",options:{10:"10",20:"20 ()",50:"50",100:"100"}},localStorageNote:"  ,    ."}},Vpe={forgotAccount:{title:" ?",description:"  ,      .",methodTitle:" :",step1:" ",step2:"  ",step3:"  ",step4:"  ",fileToDelete:" :",warning:" :      ,   .",warningNote:",       ."},setup:{title:" ",description:"        .      .",username:" ",password:"",confirmPassword:" ",button:" ",success:"  !     .",errors:{required:"   ",mismatch:"  ",failed:"  "}},update:{title:"  ",description:"        .",currentPassword:" ",newUsername:"  ",newPassword:" ",confirmNewPassword:"  ",button:"  ",success:"   !",errors:{required:"  ",mismatch:"   ",failed:"   "}}},Ype={saveSuccess:"  ",saveFailed:"  ",loadFailed:"  "},Kpe={title:" ",sections:{currentStatus:" "},stats:{totalFiles:" :",withThumbnail:" :",withoutThumbnail:" :"},phases:{verifying:"  ...",deleting:"   ...",generating:"  ...",completed:"",waiting:" "},time:{seconds:"{{elapsed}}",minutesSeconds:"{{minutes}} {{seconds}}"},status:{completed:"",inProgress:" "},progress:{deletedThumbnails:" :",generatedThumbnails:" :",elapsedTime:" :"},messages:{success:"  !",loadStatsFailed:"  ",alreadyRunning:"    ",startFailed:"   "},instructions:{title:"    :",step1:"1.   ",step2:"2.   ",step3:"3.   ",warning:":",warningText:"       ."},buttons:{close:"",start:" ",starting:" ...",inProgress:" ..."}},Xpe={title:" ",subtitle:"  ,    .",scheduler:{title:" ",backgroundHash:{title:"   ",tooltip:"     (Phase 2)  .       .",intervalLabel:" ()",intervalTooltip:"    . 5-300    .",saveButton:"",savingButton:" ...",errorRange:" 5-300  ",errorSave:"  "},autoTagger:{title:"  ",tooltip:"       .           .",pollingIntervalLabel:"  ()",pollingIntervalTooltip:"   . 5-300    .",batchSizeLabel:"  ()",batchSizeTooltip:"    . 1-100    .",saveButton:"",savingButton:" ...",errorPollingRange:"  5-300  ",errorBatchRange:"  1-100  ",errorSave:"  "}},watchedFolders:{title:"  ",addFolder:" ",refresh:"",viewAllLogs:" ",scanAll:" ",scanning:" ...",noName:" ",active:"",inactive:"",autoScanInterval:"{{interval}}",scanStatus:"",lastScan:" : {{date}}",noScanHistory:"  ",watcherStatus:{starting:" ...",watching:" ",error:"",stopped:"",inactive:""},tooltips:{scan:"",log:"",edit:"",delete:"",watcherStart:" ",watcherStop:" ",processing:" ..."},messages:{loadFailed:"   ",deleteFailed:"  ",deleteConfirm:'"{{name}}"  ?',scanFailed:"  ",scanAllFailed:"   ",scanAllComplete:"  : {{totalFolders}} ,  {{totalNew}},  {{totalExisting}}{{errors}}",scanAllErrors:",  {{totalErrors}}",watcherStartFailed:"   ",watcherStopFailed:"   "}},dialog:{addTitle:" ",editTitle:" ",folderPath:"  *",folderPathDisabled:"    ",folderPathHelper:"   (: D:\\Images  \\\\192.168.1.100\\Share\\Images)",folderName:" ",folderNameHelper:"    ",watcherEnabled:"   ",watcherTooltip:"     //    .    ,     .",pollingInterval:"  ( )",pollingIntervalTooltip:"       .         .    (: 1000ms).",pollingIntervalLabel:"  ()",pollingIntervalPlaceholder:"  ( : 1000ms)",pollingIntervalHelper:"  . : 500-3000ms",autoScan:"  ",scanInterval:"  ()",scanIntervalHelper:"   ( )",advancedOptions:" ",recursive:"   ( )",excludeExtensions:" ",excludeExtensionsTooltip:"    (.jpg, .png, .webp, .gif, .bmp, .tiff) .      .",excludeExtensionsPlaceholder:".tmp",excludePatterns:" ",excludePatternsTooltip:"       . : node_modules, .git, temp",excludePatternsPlaceholder:": node_modules, .git",addButton:"",saveButton:"",savingButton:" ...",cancelButton:"",errorPath:"  ",errorSave:"  "},scanLog:{title:" ",titleSpecific:"  ( )",titleAll:"  ()",noLogs:"  ",loadFailed:"   ",refresh:"",close:"",columns:{scanTime:" ",folder:"",status:"",scanned:"",new:"",existing:"",errors:"",duration:"",details:""},status:{success:"",error:""},errorDetails:"  ({{count}})",durationSeconds:"{{seconds}}"},verificationLog:{title:"  ",noLogs:"  ",loadFailed:"   ",refresh:"",close:"",columns:{verificationTime:" ",verificationType:" ",checked:" ",missingFound:" ",deletedRecords:" ",errors:"",duration:" "},verificationType:{auto:" ",manual:" "},errorDetails:"  ({{count}})",errorItem:{fileId:" ID: {{id}}",path:": {{path}}",error:": {{error}}"},noErrors:"",countFormat:"{{count}}",durationMs:"{{ms}}ms",durationSeconds:"{{seconds}}"}},Qpe={save:"",cancel:"",delete:"",create:"",enabled:"",disabled:""},Zpe={title:"Civitai ",description:"     Civitai    .",settings:{title:"",enableIntegration:"Civitai  ",enableDescription:"    Civitai    .",apiInterval:"API  : {{interval}}",apiIntervalDescription:"API       . : 2."},statistics:{title:"",refresh:"",totalLookups:" ",successful:"",failed:"",successRate:"",lastApiCall:" API ",never:"",recheckFailed:"  ",resetStats:" "},rescan:{title:"  ",description:"       Civitai   . Civitai      .",processing:" : {{processed}}/{{total}}",added:"  : {{count}}",startButton:"  ",starting:" ...",enableRequired:"   Civitai  ."},cachedModels:{title:"  ({{count}})",clearCache:" ",modelName:" ",type:"",hash:"",cachedAt:" ",empty:"   .       .",unknown:"  "},dialogs:{clearCache:{title:"  ",message:"    ?    Civitai  .    .",confirm:""},resetStats:{title:" ",message:"  ?     .",confirm:""},cancel:""},upload:{title:"Civitai ",description:"  Civitai ",selectedImage:" ",methodLabel:" ",downloadMethod:"  ",intentMethod:" ",downloadTooltip:"  Civitai .    ",intentTooltip:" URL .     ",downloadDescription:"   Civitai    ",intentDescription:"  URL Civitai   (  )",downloadSuccess:" ! Civitai  ...",downloadError:"  ",downloadButtonTooltip:"  Civitai   ",intentButtonTooltip:" URL  Civitai ",downloadAndOpen:"  Civitai ",postTitle:"",postTitlePlaceholder:"  ",postDescription:"",postDescriptionPlaceholder:"   ()",tags:"",tagsPlaceholder:"   ",includeMetadata:"  ",includeMetadataDescription:"AI  (,  )  ",uploadButton:"",uploading:" ...",submit:" ",openInCivitai:"Civitai ",success:"Intent URL .  Civitai .",error:"   ",disabled:"Civitai   "},errors:{loadFailed:"Civitai   ",updateFailed:"  ",resetFailed:" ",clearFailed:"  ",rescanFailed:"  "},success:{enabled:"Civitai  ",disabled:"Civitai  ",statsReset:" ",cacheCleared:" ",rescanStarted:" : {{total}}   ",rescanCompleted:" : {{added}}   "}},Jpe={title:" API ",description:"Civitai   API    .",currentApiKey:" API ",currentApiKeyHelper:"   ",newApiKey:" API ",newApiKeyPlaceholder:" API  ",baseUrl:"Base URL",baseUrlHelper:" : API  URL",testConnection:" ",addProvider:" Provider ",addProviderDescription:"  API Provider .",providerName:"Provider ",providerNameHelper:", , _, -    (: openai, stability)",providerDisplayName:" ",deleteConfirmTitle:"Provider ",deleteConfirmMessage:"{{provider}} ?",success:{saved:"API  ",deleted:"Provider ",created:"Provider ",connectionTest:"  ",toggled:"{{state}} "},errors:{loadFailed:"Provider   ",saveFailed:" ",deleteFailed:" ",createFailed:" ",connectionTestFailed:"  ",nameRequired:"    ",toggleFailed:"   "}},eme={title:zpe,subtitle:Fpe,tabs:Bpe,general:Hpe,tagger:$pe,rating:Upe,thumbnail:Gpe,background:qpe,similarity:Wpe,auth:Vpe,messages:Ype,thumbnailRegeneration:Kpe,folderSettings:Xpe,common:Qpe,civitai:Zpe,externalApi:Jpe},tme={title:"ComfyUI Image Manager",menu:{home:"",gallery:"",imageGroups:"",search:"",upload:"",imageGeneration:" ",settings:"",help:""},tooltip:{home:"  ",gallery:"  ",imageGroups:" ",search:" ",upload:" ",imageGeneration:"AI  ",settings:" ",help:" "},theme:{light:" ",dark:" ",toggle:" "},mobileMenu:{open:" ",close:" "}},nme={copyright:" 2024 ComfyUI Image Manager. All rights reserved.",version:""},ame={title:"",sections:{setup:" ",filters:" "}},ime={header:tme,footer:nme,help:ame},rme={title:" ",description:"      ."},ome={aiTool:"AI ",sortBy:" ",sortOrder:"",all:"",clearFilters:" "},sme={uploadDate:" ",filename:"",fileSize:" ",width:" ",height:" ",ascending:"",descending:""},lme={refresh:"",selectAll:" ",deselectAll:" "},cme={loading:"  ...",noImages:" .",uploadPrompt:"    .",error:"    ."},ume={aiToolLabel:"AI : {{tool}}"},dme="  ({{selected}}/{{total}})",fme=" {{count}} ",hme={title:" "},pme={toggleMode:"  ",activateMode:"  ",selectedImages:" :",selectAll:" ",deselectAll:" ",selectAllWithCount:"  ({{selected}}/{{total}})",methods:{title:" :",click:" :  /",drag:" :   ",shiftClick:" Shift + :  ",ctrlClick:" Ctrl/Cmd + :  ",ctrlA:" Ctrl/Cmd + A:  ",esc:" ESC:  "}},mme={noImages:" ",uploadPrompt:" .",uploadOrSearch:"    ."},gme="  ...",bme="  ",yme={page:rme,filters:ome,sorting:sme,actions:lme,status:cme,chips:ume,selectAllLabel:dme,totalImages:fme,imageGridModal:hme,selection:pme,emptyState:mme,loading:gme,allImagesLoaded:bme},xme={title:"  ",notFound:"   .",errorLoading:"    .",noIdProvided:" ID  ."},vme={title:" "},Sme=" ",Cme="   ...",wme=" ",_me="  ( )",Tme="   ()",Eme="    .  .",Ame={download:"",share:"",back:"",goToDetail:" ",uploadToCivitai:"Civitai ",delete:"",deleteConfirm:" ?",deleteSuccess:" .",deleteError:"    ."},Rme={fileInfo:" ",imageInfo:" ",videoInfo:" ",aiInfo:" ",promptInfo:" ",groupInfo:" ",fullMetadata:" "},kme={originalFilename:" ",filename:"",size:"",fileSize:" ",mimeType:"MIME ",uploadDate:" "},Ime={dimensions:"",dimensionsValue:"{{width}}  {{height}}"},Nme={duration:" ",durationValue:"{{minutes}} {{seconds}}",fps:" ",fpsValue:"{{fps}} fps",videoCodec:" ",audioCodec:" ",bitrate:"",bitrateValue:"{{bitrate}} Mbps"},jme={tool:"AI ",toolShort:"",model:"",lora:"LoRA",steps:"",cfgScale:"CFG Scale",cfgShort:"CFG",sampler:"",scheduler:"",seed:"",denoiseStrength:" ",generationTime:" ",generationTimeValue:"{{time}}",batchSize:" ",batchIndex:" "},Dme={autoType:"",manualType:"",groupLabel:"{{name}} ({{type}})"},Ome={controls:{zoomIn:"",zoomOut:"",rotateLeft:" ",rotateRight:" ",flipHorizontal:" ",flipVertical:" ",reset:"  ",info:"",close:""},navigation:{previous:"  ()",next:"  ()",random:"  (Space)",currentPosition:"{{current}} / {{total}}"}},Mme={title:": {{name}}",defaultTitle:" "},Pme={page:xme,info:vme,copyHash:Sme,hashGenerating:Cme,hashCopied:wme,viewThumbnail:_me,viewOriginal:Tme,originalNotFound:Eme,actions:Ame,sections:Rme,fileInfo:kme,imageInfo:Ime,videoInfo:Nme,aiInfo:jme,groupInfo:Dme,viewer:Ome,groupModal:Mme},Lme={title:" ",description:"AI         ."},zme={dragActive:"  ",dragInactive:"     ",supportedFormats:": JPG, PNG, GIF, BMP, WebP, TIFF | : MP4, WebM, MOV, AVI, MKV ( 500MB,    )",imageSupport:" ",videoSupport:" ",multipleSelection:"  ",divider:""},Fme={selectFiles:" ",selectFolder:" "},Bme={title:" ",fileCount:"{{completed}}/{{total}}",summary:" {{total}}  - : {{success}}, : {{failed}}"},Hme={upload:" ",metadata:" ",thumbnail:" ",autoCollect:"  ",autoTag:" "},$me={waiting:" ",processing:" ",complete:"",error:""},Ume={uploadComplete:" ",uploadSuccess:"  .",uploadFailed:" .",uploadError:"   .",multipleSuccess:"{{count}}   .",allFailed:"   .",partialSuccess:"{{success}} , {{failed}} ."},Gme={title:" ",description:"  AI     . (  )",dragOrClick:"   ",dropHere:"  ",noUpload:"     ",imagePreview:" ",aiTool:"AI ",positivePrompt:"",negativePrompt:" ",terms:" ",loraModels:"LoRA ",parameters:" ",rawMetadata:"  (EXIF/PNG )",invalidFileType:"    ",extractionFailed:"  "},qme={page:Lme,dropzone:zme,buttons:Fme,progress:Bme,stages:Hme,status:$me,messages:Ume,promptPreview:Gme},Wme={title:" ",description:"",emptyTitle:"   ",emptyDescription:"     .",customGroupsTab:" ",autoFolderGroupsTab:" "},Vme={imageCount:"{{count}} ",subgroupCount:"{{count}} ",folderCount:"{{count}} ",autoCollect:"",stats:": {{auto}} | : {{manual}}"},Yme={viewImages:" ",title:"{{name}} - ",description:"    ",folderDescription:"    "},Kme={edit:"",delete:"",runAutoCollection:" "},Xme={basicInfo:" ",autoCollect:" "},Qme={createTitle:"  ",editTitle:" ",basicInfo:" ",groupName:"",description:"",groupColor:" ",parentGroup:" ",noParent:" ()",selectParent:"  ",autoCollectEnable:" ",autoCollectDescription:"       .",autoCollectDisabledHelp:"           .",filterApplied:"{{count}}  .  :   OR  AND",addFiltersPrompt:"    ",filterHelpTooltip:"  ",orConditionInfo:"OR :       .",orConditionExample:`: " 'anime' " + "  "      `,conditionsTitle:" ",addCondition:" ",conditionType:" ",conditionValue:"",emptyConditions:"    .",buttonCreate:"",buttonUpdate:"",buttonCancel:""},Zme={root:"",groupList:" ",childGroups:"  {{count}}",openSubgroups:"  ",backToParent:" ",moveGroup:" ",moveToRoot:" ",cannotMoveToSelf:"    ",cannotMoveToDescendant:"    ",maxDepthExceeded:" (5) ",circularReference:"  ",hierarchyInvalid:"  "},Jme={conditionNumber:" {{number}}",removeCondition:" ",addFirstCondition:"   ",autoCollectDisabled:"     .",groups:{basic:"",prompt:"",autotag:"Auto Tag",duplicate:" "},types:{aiTool:"AI ",modelName:" ()",promptContains:" ",promptRegex:" ",negativePromptContains:"  ",negativePromptRegex:"  ",autoTagExists:"Auto Tag  ",autoTagRating:"Auto Tag: Rating",autoTagRatingScore:"Auto Tag: Rating  ()",autoTagGeneral:"Auto Tag: General ",autoTagCharacter:"Auto Tag: ",autoTagHasCharacter:"Auto Tag:   ",autoTagModel:"Auto Tag: ",duplicateExact:"  ",duplicateNear:"  ",duplicateSimilar:" ",duplicateCustom:"   "},values:{exists:"",notExists:""},ratings:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"},fields:{value:"",ratingType:"Rating ",minScore:" ",maxScore:" ",tagName:"",characterName:"",caseSensitive:" ",exactMatch:" ",exactMatchHelp:"      (: 'asd'   'aasd', 'asdf' )",weightedScore:"  ",maxWeightInfo:" 200",confidenceRange:"   (0.0 ~ 1.0): {{min}} ~ {{max}}",confidenceInfo:"      ",hammingThreshold:"Hamming Distance ",hammingThresholdHelp:"0-64   (  )",hammingInfo:" Hamming Distance   perceptual hash    .      .",duplicateNote:"   perceptual_hash   ."},duplicateInfo:{duplicate_exact:"     (Hamming Distance = 0).       .",duplicate_near:"     (Hamming Distance  5).  , ,     .",duplicate_similar:"    (Hamming Distance  15).     ."},placeholders:{regex:"  ",modelName:"  (: wd-v1-4-moat-tagger-v2)",text:"  ",tagName:" ",characterName:" "}},ege={nameRequired:" .",conditionRequired:"   1  .",valueRequired:" {{index}}  .",ratingTypeRequired:" {{index}}: Rating  .",ratingScoreRequired:" {{index}}:         .",minScoreInvalid:" {{index}}:   0  .",maxScoreInvalid:" {{index}}:   0  .",scoreRangeInvalid:" {{index}}:      .",confidenceScoreRange:" {{index}}:   0.0 ~ 1.0  .",confidenceMaxScoreRange:" {{index}}:   0.0 ~ 1.0  .",confidenceMinMaxInvalid:" {{index}}:       .",hammingThresholdRequired:" {{index}}: Hamming Distance  .",hammingThresholdRange:" {{index}}: Hamming Distance 0 64   ."},tge={loadFailed:"   .",imageLoadFailed:"   .",deleteSuccess:" .",deleteFailed:"  .",autoCollectSuccess:" : {{added}} , {{removed}} ",autoCollectFailed:"  .",createSuccess:" .",createFailed:"  .",updateSuccess:" .",updateFailed:"  .",removeWarning:"    .",removeSuccess:"{{count}}  .",removePartialSuccess:"{{removed}}  . {{failed}} .",removeError:"    .",assignSuccess:"{{added}} , {{converted}} , {{skipped}} ",assignFailed:"  .",assignError:"    .",emptyGroup:"  "},nge={title:"  ",message:"'{{name}}'  ?",groupInfo:{imageCount:" : {{count}}",childCount:" : {{count}}"},warning:{imageAssociations:"      .     ."},options:{title:"   ",orphan:{label:"   ()",description:"    ."},cascade:{label:"     ",description:"{{count}}    .     ."}}},age={title:"{{name}} ({{count}} )",selectedCount:"{{count}} ",buttonRemove:"",buttonAssign:" ",infoMixedSelection:"       .     ,      .",warningAutoOnly:"       .     .",confirmRemoveTitle:"  ",confirmRemoveMessage:" {{count}}     ?",confirmRemoveNote:"    ."},ige={title:" ",description:" {{count}}   .",currentGroup:" ",emptyGroups:"  ",loadError:"   .",loadingError:"     .",buttonAssign:"",buttonCancel:""},rge={menuTitle:" ",scopeAll:" ",scopeSelected:" {{count}}",typeThumbnail:" ()",typeOriginal:" ()",typeVideo:"   ()",confirmTitle:"  ",confirmMessage:"{{count}}  . ?",confirmButton:""},oge="",sge="   : {{from}}  {{to}}",lge=" .  .",cge=" .  .",uge={noGroups:"  ",noSubgroups:"  ",createPrompt:"+     ",noSubgroupsHelp:"    "},dge={readOnlyMessage:"  .     .",rebuilding:" ...",refresh:"",emptyState:{noGroups:"   ",noSubfolders:"  ",refreshPrompt:"     ",noSubfoldersHelp:"    "}},fge={page:Wme,groupCard:Vme,imageView:Yme,menu:Kme,tabs:Xme,modal:Qme,hierarchy:Zme,conditions:Jme,validation:ege,messages:tge,deleteConfirm:nge,imageModal:age,assignModal:ige,download:rge,defaultGroupName:oge,autoNavigate:sge,created:lge,updated:cge,emptyState:uge,autoFolder:dge},hge=" ",pge=", AI , , Auto Tag     .",mge={placeholder:"  ...",button:"",clear:" ",execute:" "},gge={title:" ",searching:" ...",found:" {{count}}  .",noResults:"  ",noResultsHint:"    .",initialMessage:"   ",initialHint:", AI , , Auto Tag,     .",reset:" ",refresh:""},bge={basic:{aiTool:{label:"AI ",all:""},modelName:{label:"",placeholder:": sd_xl_base_1.0"},startDate:{label:" "},endDate:{label:" "}},quickDate:{today:"",todayTooltip:"  ","7days":"7","7daysTooltip":" 7","30days":"30","30daysTooltip":" 30","90days":"90","90daysTooltip":" 90"},advanced:{title:" ",active:"",negativePrompt:{label:" ",placeholder:"   (: ugly, blurry)"}},autoTag:{title:"Auto Tag ",subtitle:"(WD v3 Tagger)",active:"",tabs:{rating:"Rating",character:"Character",generalTags:"General Tags"},rating:{typeMode:"Type ",scoreMode:"Score  ",typeDescription:" Rating    ",scoreDescription:"      ",type:{label:"Rating ",none:" ",general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"},confidenceRange:" ",scoreRange:" "},character:{description:"   ",existence:{label:" ",all:"",true:"",false:""},name:{label:"",placeholder:": hatsune_miku"},confidenceRange:" "},generalTags:{description:"    ",tagName:{label:"",placeholder:": 1girl, solo, landscape"},confidence:": {{min}} ~ {{max}}",addedTags:"  ({{count}})"}}},yge={title:" "},xge={addButton:" ",emptyMessage:"   ",countInfo:"{{count}}  .",executionOrder:" :   OR  AND",modal:{title:" ",cancel:"",back:"",next:"",add:" ",steps:{selectGroup:"  ",selectCategory:" ",configureCondition:" "},step1:{description:"   "},step2:{description:"    "},step3:{description:"  .           ."}},groupTypes:{exclude:{label:" (NOT)",description:"     "},or:{label:"OR ",description:"     "},and:{label:"AND ",description:"     "}},categories:{positive_prompt:{label:" ",description:"     "},negative_prompt:{label:" ",description:"     "},auto_tag:{label:" (WD Tagger)",description:"WD v3 Tagger    "},basic:{label:" ",description:"AI ,     "}},conditionTypes:{conditionType:" ",value:"",placeholder:"  ",scoreRange:" ",weightRange:" ",tagName:"/",tagPlaceholder:": 1girl, hatsune_miku",ratingType:"Rating ",exists:"",notExists:""}},vge={title:hge,description:pge,searchInput:mge,results:gge,filters:bge,searchHistory:yge,filterBlock:xge},Sge=" ",Cge="AI      .",wge={positive:"",negative:""},_ge={search:{placeholder:"{{type}}  ..."},filters:{groupFilter:{label:" ",all:"",unassigned:""}},table:{headers:{prompt:"",usageCount:" ",assignedGroup:" ",actions:""},empty:" .",synonyms:{more:"+{{count}} "}},bulkActions:{assignSelected:"  ",bulkAssign:" ",selectedCount:"{{count}} "},actions:{assignToGroup:" ",delete:"",cannotDelete:"     ",groupManagement:" "},statistics:{unclassified:"",unknown:"  "},pagination:{rowsPerPage:"   :",displayedRows:"{{from}}-{{to}} / {{count}}"},messages:{loadFailed:"   .",deleteSuccess:" .",deleteFailed:"  .",assignSuccess:"  .",assignFailed:"  ."}},Tge={title:" ",selectGroup:{label:" ",unassigned:""},actions:{cancel:"",assign:""}},Ege={title:"  ",groupSelect:{label:" ",placeholder:" "},textInput:{label:" ",placeholder:"  (   )",example:": 1, 2, 3"},preview:{title:" ({{count}})",empty:"  "},actions:{assign:"",cancel:"",close:""},results:{title:" ",created:": {{count}}",updated:": {{count}}",failed:": {{count}}",total:" {{count}} "}},Age={title:"{{type}}   ",dragHint:"    ",editForm:{titleAdd:"  ",titleEdit:" ",groupName:{label:"",required:" ."},displayOrder:{label:" "},visibility:{label:"",hidden:""},actions:{save:"",cancel:""}},groupList:{title:"  ({{count}})",add:" ",empty:"  .",promptCount:"{{count}}",displayOrder:" : {{order}}"},actions:{toggleVisibility:" ",edit:"",delete:"",deleteConfirm:"   ?",close:""},messages:{loadFailed:"   .",createSuccess:" .",createFailed:"  .",updateSuccess:" .",updateFailed:"  .",deleteSuccess:" .",deleteFailed:"  .",visibilityFailed:"   .",reorderSuccess:"  .",reorderFailed:"   ."}},Rge={tabs:{positive:"",negative:"",auto:"AUTO"},labels:{prompt:"",negativePrompt:" "},noPrompt:"  .",loading:" ...",loadFailed:"    ."},kge={noTags:"      .",generateButton:" ",generating:" ...",generationError:"    .",sections:{rating:"Rating",characters:"Characters",tagList:"Tag List",generalTags:"General Tags ({{count}})",modelInfo:"Model Information"},modelInfo:{model:"Model",generalThreshold:"General",characterThreshold:"Character",taggedAt:"Tagged At"}},Ige={title:Sge,description:Cge,tabs:wge,promptList:_ge,assignDialog:Tge,bulkAssignDialog:Ege,groupManagement:Age,promptDisplay:Rge,autoTagDisplay:kge},Nge={generate:" ",history:""},jge={title:" ",listTitle:" ",addButton:" ",editTitle:" ",createTitle:" ",noWorkflows:"  ",noWorkflowsDesc:'" "   ComfyUI  '},Dge={active:"",inactive:"",fieldsCount:"{{count}} ",createdDate:": {{date}}",generateImage:" ",notFound:"   "},Oge={basicInfo:" ",workflowName:" ",description:"",apiEndpoint:"API Endpoint",activate:"",workflowJson:"Workflow JSON",uploadFile:" ",jsonPlaceholder:'{"prompt": {...}}',jsonHelper:"ComfyUI Export Workflow API JSON ",jsonCharCount:"{{count}} ",invalidJson:"  JSON ",nameRequired:"  ",jsonRequired:"Workflow JSON ",validateJson:"JSON  ",colorLabel:" ",customColorTooltip:"  ",selectImage:" "},Mge={blue:" ()",red:"",green:"",orange:"",purple:"",cyan:"",yellow:"",brown:"",gray:"",pink:""},Pge={importantNote:":",apiFormatWarning:'ComfyUI "Save (API Format)"   JSON .   JSON  .',created:" ",updated:" ",inactiveWarning:"    .     .",noConfigurableFields:"     ."},Lge={sectionTitle:"Marked Fields ",guideTitle:"Marked Fields  ",addField:" ",noFields:'Marked Fields .  " "  ',whatIs:"Marked Fields?",whatIsDesc:"        .  , ,  , Steps, CFG     .",howToFind:"JSON Path  :",step1:'ComfyUI    "Save (API Format)"  ',step2:"JSON       ",step3:" : [].inputs.[]",exampleTitle:" :",example1Title:"1.   (CLIPTextEncode  #6)",example1FieldId:" ID: prompt_positive",example1Label:": ",example1Type:":   (textarea)",example1Path:"JSON Path: 6.inputs.text",example1Default:": a beautiful landscape",example2Title:"2.   (KSampler  #3)",example2FieldId:" ID: seed",example2Label:": Seed",example2Type:":  (number)",example2Path:"JSON Path: 3.inputs.seed",example2Default:": 123456",example3Title:"3. Steps (KSampler  #3)",example3FieldId:" ID: steps",example3Label:": Steps",example3Type:":  (number)",example3Path:"JSON Path: 3.inputs.steps",example3Default:": 20",example3Min:": 1",example3Max:": 150",example4Title:"4. Sampler (KSampler  #3)",example4FieldId:" ID: sampler_name",example4Label:": Sampler",example4Type:":  (select)",example4Path:"JSON Path: 3.inputs.sampler_name",example4Options:" : euler, euler_ancestral, dpm++ 2m, ddim",tipTitle:" :",tipDesc:'JSON Path Workflow JSON   .   JSON {"3": {"inputs": {"seed": 123}}}  JSON Path 3.inputs.seed .',previewTitle:"Marked Fields ",unnamedField:"  ",noJsonPath:"JSON  ",stepLabel:" (Step)",stepHelperText:"   (: 0.01)",stepPlaceholder:"0.01",autoUpdated:"( )",listPreviewHelper:"   ( )",loadFromListTooltip:"  ",loadFromListTitle:"  ",noCustomLists:"   .",itemCount:"{{count}}  - "},zge={fieldId:" ID",fieldIdPlaceholder:"prompt_positive",fieldIdHelper:" ",label:"",labelPlaceholder:"",labelHelper:"  ",type:"",typeHelper:" ",typeText:" ( )",typeTextarea:"  ( )",typeNumber:"",typeSelect:" ()",jsonPath:"JSON Path *",jsonPathPlaceholder:"6.inputs.text",jsonPathHelper:"Workflow JSON  . : 6.inputs.text (6  text )",defaultValue:"",defaultValuePlaceholder:"a beautiful landscape",defaultValueHelper:"   ",required:"",minValue:"",minPlaceholder:"1",maxValue:"",maxPlaceholder:"150",selectOptions:"  ( )",selectOptionsPlaceholder:"euler, dpm++, ddim",selectOptionsHelper:": euler, dpm++ 2m, ddim"},Fge={pageTitle:" ",settingsTitle:" ",missingFields:"  : {{fields}}",emptyPrompt:" .    .",selectPlaceholder:"",previewTitle:"  ",generateAll:"     ({{count}})",serversListTitle:"ComfyUI  ",serversListDesc:"      ",noServers:" ComfyUI  .     .",noConnectedServers:"  ",responseTime:" : {{time}}ms",generateButton:"  ",generating:" ...",generationComplete:"  !",generationFailed:"  ",executionTime:"{{time}}",viewImage:" "},Bge={save:"",saving:" ...",cancel:"",create:"",update:"",delete:"",confirmDelete:"   ?"},Hge={title:" ",enable:"  ",count:" ",infinite:"  (-1)",countHelp:"1-999  -1 ()",delay:"  ()",delayHelp:"         (1-300)",progress:"{{current}}  ",progressWithTotal:"{{current}}/{{total}}  ",stop:""},$ge={title:"   ",buttons:{add:"  ",edit:"",delete:"",view:"",cancel:"",create:"",save:""},labels:{name:" ",description:"",items:"  (   )",itemsHelper:"    "},empty:{title:"    .",description:"'  '     "},dialog:{add:"   ",edit:"  ",deleteConfirm:"   ?"},validation:{minItems:" 1   ."},stats:{itemCount:"{{count}}",moreItems:"+{{count}}",createdAt:": {{date}}"}},Uge={statusTitle:"  ",overall:": {{completed}}{{total}} ",withInfinite:" (  )",serverProgress:"{{count}}",serverProgressInfinite:"{{count}} ()"},Gge={generate:"",startRepeat:" ",stop:"",executingInfinite:"{{count}}   ()",executingProgress:"{{current}} / {{total}}"},qge={title:" ",selectGroup:" ",autoAddDescription:"     "},Wge={searchPlaceholder:" ...",filterTypes:" ",layoutSwitch:"{{layout}}  ",layoutTopBottom:"",layoutLeftRight:"",expandAll:"  ",collapseAll:"  "},Vge={title:" JSON ",copyToClipboard:" ",copied:" !"},Yge={graphView:" ",jsonView:"JSON "},Kge={title:"Marked Fields ",parseError:"Workflow JSON   ",noJson:"Workflow JSON ",pathNotFound:"   : {{path}}",validationError:"    ",substitutionError:"   ",validationResults:"  ",currentValue:" :",formTitle:"    ",generateButton:"  ()",testDataButton:"  ",viewJsonTitle:" Workflow JSON "},Xge={title:" ",tabs:{dbSearch:"DB ",hash:"",upload:"",history:"",dedicatedFolder:" "},inPreparation:" ",hashInputLabel:"  ",hashInputPlaceholder:"  ",hashComingSoon:"       .",selectButton:" ",useAsIs:" ",editButton:" ( )",noImagesInFolder:"   .",addImagesPrompt:"  ."},Qge={subtabs:Nge,page:jge,card:Dge,form:Oge,colors:Mge,alerts:Pge,markedFields:Lge,fieldForm:zge,generate:Fge,actions:Bge,repeat:Hge,customDropdowns:$ge,repeatExecution:Uge,serverStatus:Gge,groupAssignment:qge,graphToolbar:Wge,jsonViewer:Vge,workflowViewer:Yge,preview:Kge,imageSelection:Xge},Zge={title:" ",subtitle:"ComfyUI    "},Jge={novelai:"NovelAI",comfyui:"ComfyUI",wildcards:"",ariaLabel:"  "},e0e={subtabs:{generate:" ",history:""},login:{title:"NovelAI ",subtitle:"NovelAI  ",tabs:{credentials:"/",token:""},username:"",password:"",token:"Access Token",tokenPlaceholder:"NovelAI Access Token ",tokenHint:"NovelAI   Access Token ",loginButton:"",loggingIn:" ...",error:" ",tokenError:"  "},tabs:{basic:" ",advanced:" "},sections:{preset:" ",prompts:"",output:" ",advanced:" ",sampling:" ",quality:" ",model:" "},anlas:{balance:"Anlas ",refresh:"",subscription:"",free:"",tablet:"Tablet",scroll:"Scroll",opus:"Opus"},cost:{title:" ",anlas:"Anlas",balance:"",sufficient:"",insufficient:"",opusFree:"Opus   ",maxSamples:"  "},models:{label:" ",v45curated:"V4.5 Curated ()",v45full:"V4.5 Full",v4curated:"V4 Curated",v4full:"V4 Full",v3:"V3 ()",v3furry:"V3 Furry"},advanced:{cfgRescale:"Prompt Guidance Rescale",noiseSchedule:"Noise Schedule",uncondScale:"Undesired Content Strength"},presets:{title:" ",label:" ",quality:{name:" ",description:"   (28 steps, Euler)"},fast:{name:"",description:"  (15 steps, Euler)"},artistic:{name:"",description:"  (35 steps, DPM++ 2S Ancestral, SMEA DYN)"},realistic:{name:"",description:"  (40 steps, DPM++ 2M, SMEA)"},detail:{name:"",description:"  (50 steps, DPM++ SDE, SMEA DYN)"}},gallery:{images:"",showMetadata:" ",hideMetadata:" ",downloadAll:" "},settings:{qualityToggle:"   "},generate:{title:"NovelAI  ",logout:"",prompt:"",negativePrompt:" ",resolution:"",sampler:"",steps:"",guidance:"",samples:" ",ucPreset:" ",generateButton:" ",generating:" ...",resultTitle:" ",download:"",upload:"",metadata:"",tokenExpired:" .  .",subscriptionRequired:"  ",error:"  ",uploadSuccess:"  ",uploadError:"  ",autoUploadSuccess:"{{count}}   ",autoUploadPartial:"{{success}}  , {{fail}} ",success:"{{count}}   .   .",completed:"  ",failed:"  "},errors:{emptyPrompt:" .    ."},repeat:{title:" ",enable:"  ",count:" ",infinite:"  (-1)",countHelp:"1-999  -1 ()",delay:"  ()",delayHelp:"       (1-300)",progress:"{{current}}  ",progressWithTotal:"{{current}}/{{total}}  ",stop:""},history:{title:" ",comingSoon:"    .",description:"      ."},resolution:{mode:" ",modeFixed:" ",modeRandom:" ",selectResolution:" ",selectMultiple:"  (   )",addCustom:" ",swapDimensions:" ",swapDimensionsDesc:"  / ",finalResolution:" ",randomPool:" ",swapped:"",randomSwapInfo:"  50%   ",selectAtLeastOne:"   1    ",customDialog:{addTitle:"  ",editTitle:"  ",name:"",namePlaceholder:":  ",width:"",height:"",save:"",cancel:"",nameRequired:" ",widthInvalid:" 64~2048   ",heightInvalid:" 64~2048   "}},naiSettings:{basic:{title:" ",model:"",resolution:"",prompt:"",promptPlaceholder:"1girl, portrait, detailed face, masterpiece...",negativePrompt:" ",negativePromptPlaceholder:"bad anatomy, low quality..."},sampling:{title:" ",sampler:"",noiseSchedule:"Noise Schedule",steps:"Steps",guidance:"Guidance",cfgRescale:"CFG Rescale",uncondScale:"Uncond Scale",varietyPlus:"Variety+"},output:{title:" ",samples:" "}}},t0e={title:"  ",buttons:{addList:"  ",loadComfyUI:"ComfyUI  ",edit:"",delete:"",close:"",cancel:"",create:"",collect:" ",viewList:" ",selectFolder:"models  "},tabs:{autoCollected:" ",manual:" "},labels:{auto:"",itemCount:"{{count}}",listName:" ",listNameRequired:"  *",description:"",path:"",itemList:"  (   ) *",itemListCount:"  ({{count}})",pathOptions:" :",checkpointsFullPath:"checkpoints -   ",unetFullPath:"unet -   ",upscaleModelsFullPath:"upscale_models -   "},dialog:{viewTitle:"  ( )",createTitle:"   ",editTitle:"  ",comfyUITitle:"ComfyUI  "},messages:{noAutoCollected:'   . "ComfyUI  "    .',noManual:'   . "  "    .',minItemError:" 1   .",deleteConfirm:"   ?",selectFolderError:"  .",autoCollectedReadOnly:"     .     .",selectComfyUIFolder:"ComfyUI models  .",foldersDetected:"{{count}}    :",fileCount:"{{count}} ",moreCount:"... {{count}} ",collecting:" ...",pathExample:": {{example}}",scanInfo:` :
 checkpoints, unet, upscale_models   
      
    " "    `},placeholders:{itemList:`:
SDXL 1.0
SD 1.5
Realistic Vision
DreamShaper`},helperText:{itemList:"    "}},n0e={page:Zge,tabs:Jge,nai:e0e,customDropdown:t0e},a0e=" ",i0e="{{count}}",r0e="  ",o0e=" ...",s0e="  ...",l0e="  ",c0e="  ",u0e="    ",d0e="   ?",f0e=" ",h0e={pending:"",processing:"",completed:"",failed:""},p0e={comfyui:"ComfyUI",novelai:"NovelAI"},m0e={regenerate:"",delete:"",refresh:"",confirmDelete:"   ?"},g0e=" ",b0e="  ",y0e="{{count}}    ?",x0e=" ,  .",v0e="",S0e=" ...",C0e="{{count}}   ",w0e="   ",_0e="  ",T0e="  ({{count}})",E0e={title:"  ",confirm:" {{count}}  ?",warning:"    ."},A0e={title:"  ",status:"",service:"",positivePrompt:" ",negativePrompt:" ",size:"",model:"",sampler:"",steps:"",cfgScale:"CFG Scale",seed:"",error:"",createdAt:" ",completedAt:" "},R0e={title:a0e,count:i0e,empty:r0e,loading:o0e,loadingMore:s0e,allLoaded:l0e,noHistory:c0e,noHistoryDescription:u0e,deleteConfirm:d0e,deleteFailed:f0e,status:h0e,service:p0e,actions:m0e,cleanupFailed:g0e,cleanupFailedTitle:b0e,cleanupFailedConfirm:y0e,cleanupFailedNote:x0e,cleanup:v0e,cleaning:S0e,cleanupSuccess:C0e,noFailedRecords:w0e,bulkDeleteFailed:_0e,deleteSelected:T0e,deleteDialog:E0e,detail:A0e},k0e={title:" ",listTitle:"ComfyUI  ",addButton:" ",noServers:"  ",noServersDesc:'" "   ComfyUI  '},I0e={active:"",inactive:"",priority:": {{priority}}",concurrent:": {{count}}",connectionSuccess:" ",connectionFailed:" ",testConnection:" "},N0e={addTitle:" ",editTitle:" ",serverName:" ",endpointUrl:" URL",endpointPlaceholder:"http://127.0.0.1:8188",description:"",priority:"",priorityHelper:"  ",maxConcurrent:"   ",activate:"",cancel:"",add:"",update:""},j0e={connected:"",disconnected:" ",testing:" ",error:"",responseTime:" : {{time}}ms"},D0e={test:" ",edit:"",delete:"",confirmDelete:"   ?"},O0e={page:k0e,card:I0e,dialog:N0e,status:j0e,actions:D0e},M0e={network:"  .   .",timeout:"  .  .",unauthorized:" .  .",forbidden:" .     .",notFound:"    .",serverError:"  .   .",badRequest:" .   .",unknown:"   .  ."},P0e={fileTooLarge:"   .  50MB   .",invalidFileType:"   .      .",uploadFailed:" .  .",multipleUploadFailed:"   .",fileCountLimit:"    .",processingFailed:"  .",noFilesSelected:"  .   ."},L0e={loadFailed:"  .",deleteFailed:"  .",multipleDeleteFailed:"{{count}}   .",downloadFailed:"  .",notFound:"   .",metadataExtractionFailed:"   ."},z0e={loadFailed:"  .",createFailed:"  .",updateFailed:"  .",deleteFailed:"  .",assignFailed:"  .",removeFailed:"  .",autoCollectFailed:"  .",notFound:"   ."},F0e={loadFailed:"  .",deleteFailed:"  .",assignFailed:"   .",synonymFailed:"  .",notFound:"   ."},B0e={failed:" .  .",invalidQuery:" .",noResults:"  ."},H0e={required:"  .",invalid:"  .",tooShort:"   .",tooLong:"   ."},$0e={api:M0e,upload:P0e,image:L0e,group:z0e,prompt:F0e,search:B0e,validation:H0e},U0e={field:"  ",name:" ",description:" ",file:" ",image:" ",group:" "},G0e={invalid:"  ",email:"   ",url:" URL  ",number:" ",integer:" "},q0e={min:" {{min}}  ",max:" {{max}}  ",exact:" {{length}} ",between:"{{min}} {{max}}  "},W0e={fileSize:"  {{max}}   ",imageSize:"  {{width}}{{height}}   ",fileTooLarge:"   (: {{max}})",fileTooSmall:"   (: {{min}})"},V0e={min:"  {{min}}  ",max:"  {{max}}   ",between:" {{min}} {{max}}  "},Y0e={invalid:"   ",imageOnly:"   ",videoOnly:"   ",imageOrVideo:"     ",allowedTypes:" : {{types}}"},K0e={exists:" ",name:"  ",value:"  "},X0e={required:U0e,format:G0e,length:q0e,size:W0e,range:V0e,fileType:Y0e,duplicate:K0e},Q0e={title:" ",noWildcards:"  ",noWildcardsDesc:"     "},Z0e={all:"",both:""},J0e={add:" ",addItem:" ",preview:"",confirmDelete:" '{{name}}'  ?",copiedToClipboard:" ",copyFailed:" "},e1e={openScanDialog:"LORA ",openLogDialog:"  "},t1e={items:"{{count}} ",itemsCount:"",moreItems:" {{count}}"},n1e={createTitle:" ",editTitle:" "},a1e={name:"",nameHelper:"++    (: , )",description:" ()",parent:" ",parentHelper:"     ",noParent:" ()",includeChildren:"   ",includeChildrenHelper:"          ",comfyuiItems:"ComfyUI  ",naiItems:"NovelAI  ",itemsHelper:"       .   ++++    .",itemPlaceholder:": , ,   , ++++"},i1e={title:" ",inputLabel:" ",inputPlaceholder:": ++++  , ++++ ",generate:" ",results:"  ( 5)",result:" {{number}}"},r1e={nameRequired:"  ",itemsRequired:" 1   ",previewTextRequired:"  ",copyFailed:" "},o1e={manual:" ",autoCollected:"  (LORA)"},s1e={children:" ",items:" ",selectItem:"  ",moreItems:" "},l1e={title:"LORA   ",description:"LORA     ",folderPath:"LORA  ",folderPathHelper:"ComfyUI loras   LORA     ",loraWeight:" LORA ",loraWeightHelper:"     (: 1.0)",duplicateHandling:"   ",duplicateNumber:"  (style, style_2)",duplicateParent:"   (anime_style, realistic_style)",matchingMode:"   ",matchingModeFilename:"  (lora.txt)",matchingModeCommon:"   ",commonTextFilename:"  ",commonTextFilenameHelper:"      (: add.txt, common.txt)",matchingPriority:" ",priorityFilename:"   (    )",priorityCommon:"   (    )",scanButton:"LORA  ",scanning:" ...",lastScan:" ",noScanYet:"   ",tierLabel:" {{tier}}",filesSelected:"{{count}} LORA  ",filesFound:"<strong>{{count}} LORA </strong> :",promptsCount:"{{count}} ",moreFiles:"... {{count}} ",childCount:"{{count}}  ",noItems:" ",filters:{tierFilter:" ",wildcardSearch:" ",searchPlaceholder:"...",clearFilters:" ",totalWildcards:" <strong>{{count}}</strong> ",filteredCount:"(: <strong>{{count}}</strong>)",noResults:"  ",tryDifferentFilters:"   "},scanLog:{title:" ",timestamp:" ",folderPath:" ",totalWildcards:" ",totalItems:"  ",details:" ",wildcardName:" ",itemCount:" "},noAutoWildcards:"   ",noAutoWildcardsDesc:"LORA    ",autoCollectedBadge:"",viewDetail:" ",errors:{folderPathRequired:"LORA   ",invalidWeight:"    (0.1 ~ 2.0)",scanFailed:" : {{error}}"}},c1e={title:"LORA   ",infoMessage:"ComfyUI loras   LORA    .",scanButton:"LORA ",warningTitle:" :",warning1:".safetensors   ",warning2:"     ",warning3:"       "},u1e={title:" LORA  "},d1e={title:"  ( )",readOnlyInfo:"     .     .",name:" ",description:"",path:"",itemList:"  ({{count}})"},f1e={hint:"++    ",manualTab:"",autoTab:" (LORA)",noResults:" ",selectTier:" ",root:""},h1e={title:"  ",message:"'{{name}}'  ?",childrenNotice:"    .",wildcardInfo:{itemCount:" : {{count}}",childCount:" : {{count}}"},warning:{permanent:"    ."},options:{title:"  :",moveUp:{label:"  ",description:"     "},cascade:{label:"   ",description:"{{count}}    "}}},p1e={deleteSuccess:"  ",deleteFailed:"  "},m1e={page:Q0e,filters:Z0e,actions:J0e,buttons:e1e,card:t1e,dialog:n1e,form:a1e,preview:i1e,errors:r1e,tabs:o1e,detail:s1e,autoCollect:l1e,scanDialog:c1e,logDialog:u1e,detailDialog:d1e,autocomplete:f1e,deleteConfirm:h1e,messages:p1e},g1e={save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",add:"Add",upload:"Upload",download:"Download",search:"Search",filter:"Filter",reset:"Reset",confirm:"Confirm",close:"Close",back:"Back",next:"Next",previous:"Previous",select:"Select",deselect:"Deselect",selectAll:"Select All",deselectAll:"Deselect All",apply:"Apply",clear:"Clear"},b1e={loading:"Loading...",saving:"Saving...",success:"Success",error:"Error",noData:"No data available",confirmDelete:"Are you sure you want to delete?",unsavedChanges:"You have unsaved changes",processing:"Processing...",uploading:"Uploading...",downloading:"Downloading...",deleting:"Deleting..."},y1e={name:"Name",description:"Description",date:"Date",status:"Status",type:"Type",size:"Size",created:"Created",updated:"Updated",width:"Width",height:"Height",duration:"Duration",resolution:"Resolution"},x1e={tooltips:{viewDetails:"View Details",download:"Download",delete:"Delete",select:"Select"},badges:{auto:"Auto",video:"Video"},confirmDelete:{image:"Are you sure you want to delete this image?",video:"Are you sure you want to delete this video?"}},v1e={selectedCount:"{{count}} items selected",selectedCountImages:"{{count}} images selected",tooltips:{download:"Download",addToGroup:"Add to Group",delete:"Delete",clearSelection:"Clear Selection",batchTag:"Batch Tag Generation"},confirmDelete:{mixed:"Are you sure you want to delete {{count}} files (images/videos)?",images:"Are you sure you want to delete {{count}} images?",videos:"Are you sure you want to delete {{count}} videos?",files:"Are you sure you want to delete {{count}} files?"},confirmBatchTag:"Generate tags for {{count}} selected images?",batchTagSuccess:"Successfully generated tags for {{count}} images",batchTagError:"An error occurred during batch tag generation"},S1e={perPage:"per page",items:"items",page:"Page",of:"of",showing:"Showing {{from}}-{{to}} of {{total}}",goToPage:"Go to page",rowsPerPage:"Rows per page"},C1e={loading:"Loading",error:"Error",empty:"Empty",success:"Success",pending:"Pending",completed:"Completed",failed:"Failed"},w1e={view:"View",download:"Download",delete:"Delete",edit:"Edit",create:"Create",update:"Update",cancel:"Cancel",confirm:"Confirm",retry:"Retry",refresh:"Refresh"},_1e={title:{add:"Add Filter",edit:"Edit Filter"},groupTypes:{label:"Select Group",exclude:"Exclude",or:"OR",and:"AND"},categories:{label:"Category",positive_prompt:"Positive",negative_prompt:"Negative",auto_tag:"Auto Tag",basic:"Basic"},conditionSettings:{label:"Condition Settings",conditionType:"Condition Type",value:"Value",valuePlaceholder:"Enter value to search"},conditionTypes:{prompt_contains:"Contains",prompt_regex:"Regex",negative_prompt_contains:"Contains",negative_prompt_regex:"Regex",auto_tag_exists:"Auto Tag Exists",auto_tag_has_character:"Character Exists",auto_tag_rating:"Rating Type",auto_tag_rating_score:"Rating Score",auto_tag_general:"General Tag",auto_tag_character:"Character Tag",auto_tag_model:"Model",ai_tool:"AI Tool",model_name:"Model Name"},fields:{exists:"Exists",notExists:"Not Exists",ratingType:"Rating Type",scoreRange:"Score Range: {{min}} ~ {{max}}",weightRange:"Weight Range: {{min}} ~ {{max}}",tagOrCharacter:"Tag/Character Name",tagPlaceholder:"e.g., 1girl, hatsune_miku"},ratingTypes:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"}},T1e={groupTypes:{exclude:{label:"Exclude (NOT)",labelShort:"Exclude",description:"Exclude images matching these conditions (highest priority)"},or:{label:"OR Group",labelShort:"OR",description:"Include images matching any of these conditions"},and:{label:"AND Group",labelShort:"AND",description:"Include images matching all of these conditions"}},categories:{positive_prompt:"Positive Prompt",negative_prompt:"Negative Prompt",auto_tag:"Auto Tag",basic:"Basic"},conditionTypes:{prompt_contains:"Contains",prompt_regex:"Regex",negative_prompt_contains:"Contains",negative_prompt_regex:"Regex",auto_tag_exists:"Auto Tag Exists",auto_tag_has_character:"Character Exists",auto_tag_rating:"Rating Type",auto_tag_rating_score:"Rating Score",auto_tag_general:"General Tag",auto_tag_character:"Character Tag",auto_tag_model:"Model",ai_tool:"AI Tool",model_name:"Model Name"},labels:{condition:"Condition",conditionNumber:"Condition #{{number}}",editCondition:"Edit Condition #{{number}}",category:"Category",conditionType:"Condition Type",value:"Value",score:"Score",scoreRange:"Score Range: {{min}} ~ {{max}}",weightRange:"Weight Range: {{min}} ~ {{max}}",ratingType:"Rating Type",tagCharacterName:"Tag/Character Name",conditionsCount:"{{count}} conditions"},buttons:{addCondition:"Add Condition"},messages:{noConditions:"No conditions. Click the button below to add a condition."},values:{exists:"Exists",notExists:"Not Exists"},ratingTypes:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"}},E1e={title:"Image Editor",canvasInfo:"Canvas Info",canvasSize:"Size: {{width}} x {{height}} px",toolProperties:"Tool Properties",brushSize:"Brush Size: {{size}}px",brushColor:"Brush Color",eraserSize:"Eraser Size: {{size}}px",panHelp:"Click and drag to move the canvas. Use mouse wheel to zoom in/out."},A1e="Click to copy",R1e="Thumbnail",k1e="Original",I1e="Video",N1e="None",j1e="Enabled",D1e="Disabled",O1e="Save",M1e="Refresh",P1e={buttons:g1e,messages:b1e,labels:y1e,imageCard:x1e,bulkActions:v1e,pagination:S1e,states:C1e,actions:w1e,filterModal:_1e,filterBuilder:T1e,imageEditor:E1e,clickToCopy:A1e,thumbnail:R1e,original:k1e,video:I1e,none:N1e,enabled:j1e,disabled:D1e,save:O1e,refresh:M1e},L1e="Settings",z1e="Manage your ComfyUI Image Manager application settings",F1e={general:"General Settings",tagger:"Tagger Settings",rating:"Rating Score Settings",similarity:"Image Similarity Search",prompts:"Prompt Management",metadata:"Metadata Extraction",folders:"Folder Management",account:"Account",externalApi:"External API",advanced:"Advanced Settings"},B1e={title:"General Settings",language:{label:"Language",description:"Select the application display language",ko:"",en:"English",ja:"","zh-CN":"","zh-TW":""},gallery:{label:"Enable Gallery",tooltip:"Show gallery page in menu and navigation. When disabled, only masonry view will be used."},canvasCleanup:{label:"Auto cleanup Canvas folder on shutdown",tooltip:"Automatically delete edited images in the Canvas folder when the server shuts down. When disabled, edited images are preserved."},deleteProtection:{title:"Delete File Protection",description:"Store deleted files in RecycleBin folder for recovery",enabled:{label:"Store deleted files in RecycleBin",description:"When enabled, deleted files are backed up to RecycleBin folder instead of being permanently removed."},info:"RecycleBin folder is created in the project root. Deleted files are stored with timestamps. You can manually copy files from RecycleBin if recovery is needed."},metadata:{title:"Metadata Extraction Optimization",scanMode:{title:"Stealth PNG Scan Mode",fast:{label:"Fast (Recommended)",description:"Quick signature scan - checks first 200 pixels then exits early"},full:{label:"Full",description:"Full file scan - checks all pixels (slow)"},skip:{label:"Skip",description:"Skip scanning - disables secondary extraction"}},limits:{title:"File Size and Resolution Limits",fileSize:{label:"Max File Size (MB)",helper:"Files larger than this will skip Stealth PNG scanning"},resolution:{label:"Max Resolution (Megapixels)",helper:"Images larger than this will skip Stealth PNG scanning"}},skipSettings:{title:"AI Tool Skip Settings",description:"Automatically skip Stealth PNG scanning for specific AI tool images.",comfyui:{label:"Skip ComfyUI images (Recommended)",description:"ComfyUI doesn't use Stealth PNG, scanning unnecessary"},webui:{label:"Skip WebUI images",description:"WebUI may use Stealth PNG, enable only if needed"}},secondary:{label:"Enable secondary extraction",description:"Retry with Stealth PNG method if primary extraction fails."},performanceNote:" Tip: Default settings (Fast + ComfyUI skip) provide optimal performance for most cases. ComfyUI image processing time reduced from 2682ms  4ms!"},thumbnail:{title:"Thumbnail Settings",description:"Configure the size and quality used when generating thumbnails",saveFailed:"Failed to save thumbnail settings",size:{label:"Thumbnail Size",selectLabel:"Thumbnail Size",original:"Same as original",default:"1080px (default)"},quality:{label:"Thumbnail Quality",helperText:"Higher quality increases file size (60-100%)"},regenerate:{button:"Regenerate Thumbnails",description:"Regenerate thumbnails for all images with current settings"}}},H1e={title:"WD Tagger Settings",description:"Configure AI-based automatic image tagging",enableAutoTagging:"Enable Auto-Tagging",model:{label:"Model Selection",loading:"Loading models...",downloaded:"Downloaded",vit:{label:"ViT (Vision Transformer)",description:"Fast speed, high accuracy - recommended for general use"},swinv2:{label:"SwinV2 (Swin Transformer V2)",description:"Moderate speed, very high accuracy - for cases requiring high accuracy"},convnext:{label:"ConvNeXt",description:"Fast speed, high accuracy - for cases requiring fast processing"}},device:{label:"Device Selection",auto:{title:"Auto",description:"Use GPU if available, otherwise CPU"},cpu:{title:"CPU",description:"CPU only (slower but stable)"},cuda:{title:"GPU (CUDA)",description:"Use NVIDIA GPU (fast, requires GPU)"}},threshold:{general:{label:"General Tags Threshold: {{value}}",description:"Lower values extract more tags (may increase noise)"},character:{label:"Character Tags Threshold: {{value}}",description:"Lower values detect more characters (may increase false positives)"}},pythonPath:{label:"Python Executable Path",helper:"Path to Python executable (e.g., python, python3, C:\\Python39\\python.exe)"},memoryManagement:{title:"Memory Management",description:"Configure how the model is unloaded from memory.",keepModelLoaded:"Enable Auto-Unload After Tasks",autoUnloadMinutes:"Auto-Unload Time: {{minutes}} minutes",autoUnloadDescription:"Automatically unloads from memory after the configured time since last use.",keepLoadedAlert:"Model will be automatically unloaded from memory after the configured time.",notKeepLoadedAlert:"Model will remain in memory. It will stay loaded until manually unloaded or program shutdown."},test:{title:"Test",description:"Test current settings with a specific image.",imageHash:"Image Hash",placeholderHash:"e.g., abc123def456...",button:"Run Test",processing:"Processing...",result:"Tagging Result:",failed:"Test failed"},buttons:{save:"Save",cancel:"Cancel",download:"Download Model",downloading:"Checking download info...",checkDependencies:"Check Python Dependencies",checking:"Checking dependencies..."}},$1e={title:"Rating Score Settings",description:"Configure the image rating score system",weights:{title:"Weight Configuration",description:"Configure scoring weights for each rating category.",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",preview:{title:"Live Preview (Example Rating: general=0.001, sensitive=0.045, questionable=0.735, explicit=0.470)",score:"Total Score: <strong>{{score}} points</strong>"},buttons:{save:"Save Weights",cancel:"Cancel",saving:"Saving..."},alerts:{saveSuccess:"Weight settings have been saved.",saveFailed:"Failed to save weight settings.",loadFailed:"Failed to load weight settings."}},tiers:{title:"Tier Configuration",description:"Configure rating tiers by score range.",addButton:"Add Tier",table:{order:"Order",name:"Tier Name",scoreRange:"Score Range",color:"Color",actions:"Actions",empty:"No tiers. Please add a tier.",scoreFormat:"{{min}} ~ {{max}} points",infinity:""},dialog:{createTitle:"Add Tier",editTitle:"Edit Tier",tierName:"Tier Name",minScore:"Minimum Score",maxScore:"Maximum Score (empty = infinity)",order:"Order",color:"Color (Hex)",colorPlaceholder:"#2196f3",colorHelper:"e.g., #22c55e, #3b82f6, #f59e0b, #ef4444",save:"Save",cancel:"Cancel",saving:"Saving...",requiredFields:"Please fill in all required fields."},alerts:{created:"Tier has been added.",updated:"Tier has been updated.",deleted:"Tier has been deleted.",saveFailed:"Failed to save tier.",deleteFailed:"Failed to delete tier.",loadFailed:"Failed to load tier settings.",deleteConfirm:"Delete this tier?"}},calculator:{title:"Score Calculator Test",description:"Enter rating values to calculate the score.",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",calculate:"Calculate Score",calculating:"Calculating...",result:{title:"Calculation Result",score:"Total Score: <strong>{{score}} points</strong>",breakdown:"Detailed Scores:",generalScore:"General: {{score}} points",sensitiveScore:"Sensitive: {{score}} points",questionableScore:"Questionable: {{score}} points",explicitScore:"Explicit: {{score}} points"},failed:"Failed to calculate score."},recalculation:{title:"Recalculate Rating Scores",description:"Recalculate rating_score for all images based on current weight settings. All images with auto_tags will be processed.",buttons:{recalculate:"Recalculate All Image Scores",processing:"Recalculating..."},progress:"Recalculation in progress... {{current}}/{{total}}",success:"Recalculation complete: {{success}} succeeded, {{failed}} failed out of {{total}}",failed:"Failed to recalculate scores.",confirmDialog:{title:"Recalculate Rating Scores",message:"Recalculate rating_score for all images? This may take some time.",confirm:"Recalculate",cancel:"Cancel"}}},U1e={title:"Thumbnail Settings",description:"Configure size and quality used for thumbnail generation",saveFailed:"Failed to save thumbnail settings",size:{label:"Thumbnail Size",selectLabel:"Thumbnail Size",original:"Same as original size",default:"1080px (default)"},quality:{label:"Thumbnail Quality",helperText:"Higher quality increases file size (60-100%)"},regenerate:{button:"Regenerate Thumbnails",description:"Regenerate all image thumbnails with current settings"}},G1e={title:"Background Task Monitoring",loadFailed:"Failed to load background task status",confirmReset:"Reset background queue? All pending tasks will be cancelled.",resetFailed:"Failed to reset queue",resetQueue:"Reset Queue",autoTagFailed:"Failed to trigger auto-tagging",confirmHashGen:"Generate hash for {{count}} images?",hashGenComplete:"Hash generation complete: {{processed}} succeeded, {{failed}} failed",hashGenFailed:"Failed to regenerate hashes",confirmVerify:"Verify {{count}} files?\\nThis may take time if there are many files.",verifyFailed:"Failed to run file verification",verifyIntervalError:"Verification interval must be between 300-86400 seconds",verifySaveFailed:"Failed to save file verification settings",autoUpdate:"Auto-updates every 5 seconds.",autoUpdateDisabled:"Auto-update is disabled.",queue:{title:"Background Queue",pending:"Pending: {{count}}",processing:"Processing",waiting:"Waiting"},tasks:{metadata:"Metadata Extraction",promptCollection:"Prompt Collection",pendingCount:"{{count}} pending"},autoTag:{title:"Auto-Tagging Scheduler",manualTrigger:"Manual Run",running:"Running",stopped:"Stopped",untaggedCount:"Untagged images: {{count}}",pollingInterval:"Polling interval: {{seconds}}s",batchSize:"Batch size: {{size}}"},hash:{title:"Media Hash Status",generate:"Generate Hash",total:"Total: {{count}}",completed:"Hash generated: {{count}}",pending:"Not generated: {{count}}",completion:"Completion: {{percent}}%"},verify:{title:"File Verification Status",viewLogs:"View Logs",run:"Run Verification",progress:"File verification in progress: {{checked}}/{{total}}",missing:"Missing: {{count}}",totalFiles:"Total files: {{count}}",missingFiles:"Missing files: {{count}}",lastVerification:"Last verification: {{date}}",schedulerTitle:"Verification Scheduler Settings",intervalLabel:"Verification Interval (seconds)",intervalHelper:"300-86400 seconds (5 min - 24 hours)",intervalTooltip:"May cause time consumption and system load if there are many files"}},q1e={title:"Image Similarity Search Settings",autoGenerateHash:"Auto-generate Hash on Upload",description:"Automatically generate hashes for similar image search",hashPlaceholder:"e.g., a1b2c3d4e5f6...",test:{title:"Test",description:"Test current settings with a specific image.",imageHash:"Image Hash",placeholderHash:"e.g., abc123def456...",compositeHash:"Image Hash",hashHelperText:"Enter the image's composite_hash",button:"Run Test",processing:"Processing...",result:"Tagging Result:",failed:"Test failed",hashStatus:"Hash Status",rebuild:{button:"Rebuild {{count}} Missing Hashes",rebuilding:"Rebuilding...",success:"Processed: {{processed}}, Failed: {{failed}}, Remaining: {{remaining}}",error:"Error: {{error}}"}},duplicateScan:{title:"Full Duplicate Analysis",description:"Find duplicate image groups across the entire database.",scanButton:"Run Full Scan",scanning:"Scanning...",foundGroups:"Found Duplicate Groups: {{count}}",groupLabel:"Group {{id}}  {{count}} images",similarityLabel:"{{percent}}% similar",moreImages:"+{{count}} more",noResults:"Run scan to display duplicate image groups.",id:"ID: {{id}}",selectAll:"Select All",deselectAll:"Deselect All",keepOne:"Keep 1",keepOneDelete:"Keep first image and select rest for deletion",deleteSelected:"Delete {{count}} Selected",deleteConfirmTitle:"Confirm Image Deletion",deleteConfirmMessage:"Are you sure you want to delete {{count}} selected images?",deleteWarning:"Deleted images cannot be recovered!",cancel:"Cancel",confirmDelete:"Delete",deleting:"Deleting...",deleteSuccess:"{{count}} images deleted successfully.",deletePartialSuccess:"{{success}} succeeded, {{failed}} failed",deleteFailed:"Failed to delete images."}},W1e={forgotAccount:{title:"Forgot your account?",description:"If you forgot your password, you can recover your account using the following method.",methodTitle:"Recovery Method:",step1:"Stop the server",step2:"Delete the file below",step3:"Restart the server",step4:"Set up a new account",fileToDelete:"File to delete:",warning:" Warning: Deleting this file will invalidate all sessions and require re-login.",warningNote:"Other data such as workflows and settings will not be affected."},setup:{title:"Setup Authentication",description:"Configure username and password to protect your image manager from unauthorized access. Once set, you will need to login to access the application.",username:"Username",password:"Password",confirmPassword:"Confirm Password",button:"Setup Authentication",success:"Authentication configured successfully! You will need to login on your next visit.",errors:{required:"Username and password are required",mismatch:"Passwords do not match",failed:"Failed to setup authentication"}},update:{title:"Change Credentials",description:"Changing your credentials will require you to login again with the new credentials.",currentPassword:"Current Password",newUsername:"New Username",newPassword:"New Password",confirmNewPassword:"Confirm New Password",button:"Update Credentials",success:"Credentials updated successfully!",errors:{required:"All fields are required",mismatch:"New passwords do not match",failed:"Failed to update credentials"}}},V1e={saveSuccess:"Settings saved successfully",saveFailed:"Failed to save settings",loadFailed:"Failed to load settings"},Y1e={title:"Thumbnail Regeneration",sections:{currentStatus:"Current Status"},stats:{totalFiles:"Total Files:",withThumbnail:"With Thumbnail:",withoutThumbnail:"Without Thumbnail:"},phases:{verifying:"Verifying files...",deleting:"Deleting existing thumbnails...",generating:"Generating thumbnails...",completed:"Completed",waiting:"Waiting"},time:{seconds:"{{elapsed}}s",minutesSeconds:"{{minutes}}m {{seconds}}s"},status:{completed:"Completed",inProgress:"In Progress"},progress:{deletedThumbnails:"Deleted Thumbnails:",generatedThumbnails:"Generated Thumbnails:",elapsedTime:"Elapsed Time:"},messages:{success:"Thumbnail regeneration completed!",loadStatsFailed:"Failed to load statistics",alreadyRunning:"Thumbnail regeneration is already running",startFailed:"Failed to start thumbnail regeneration"},instructions:{title:"Thumbnail regeneration will proceed in the following order:",step1:"1. Verify files",step2:"2. Delete existing thumbnails",step3:"3. Generate new thumbnails",warning:"Warning:",warningText:"This may take a long time depending on the number of files."},buttons:{close:"Close",start:"Start Regeneration",starting:"Starting...",inProgress:"In Progress..."}},K1e={title:"Folder Management",subtitle:"Configure watched folders and monitor background task status.",scheduler:{title:"Scheduler Settings",backgroundHash:{title:"Background Hash Monitoring Interval",tooltip:"Execution interval for background task (Phase 2) that generates hashes for uploaded files. Shorter intervals process faster but increase system load.",intervalLabel:"Interval (seconds)",intervalTooltip:"Period to check for unprocessed hash tasks. Can be set between 5-300 seconds.",saveButton:"Save",savingButton:"Saving...",errorRange:"Interval must be between 5-300 seconds",errorSave:"Failed to save settings"},autoTagger:{title:"Auto-Tagging Scheduler",tooltip:"Configure polling interval and batch size for auto-tagging scheduler. Shorter polling intervals and larger batch sizes process faster but increase system load.",pollingIntervalLabel:"Polling Interval (seconds)",pollingIntervalTooltip:"Period to check for untagged images. Can be set between 5-300 seconds.",batchSizeLabel:"Batch Size (images)",batchSizeTooltip:"Number of images to process at once. Can be set between 1-100 images.",saveButton:"Save",savingButton:"Saving...",errorPollingRange:"Polling interval must be between 5-300 seconds",errorBatchRange:"Batch size must be between 1-100",errorSave:"Failed to save settings"}},watchedFolders:{title:"Watched Folders List",addFolder:"Add Folder",refresh:"Refresh",viewAllLogs:"All Logs",scanAll:"Scan All",scanning:"Scanning...",noName:"Unnamed",active:"Active",inactive:"Inactive",autoScanInterval:"{{interval}}min",scanStatus:"Scan",lastScan:"Last scan: {{date}}",noScanHistory:"No scan history",watcherStatus:{starting:"Starting...",watching:"Watching",error:"Error",stopped:"Stopped",inactive:"Inactive"},tooltips:{scan:"Scan",log:"Log",edit:"Edit",delete:"Delete",watcherStart:"Start watching",watcherStop:"Stop watching",processing:"Processing..."},messages:{loadFailed:"Failed to load folder list",deleteFailed:"Failed to delete folder",deleteConfirm:'Delete folder "{{name}}"?',scanFailed:"Failed to scan folder",scanAllFailed:"Failed to scan all folders",scanAllComplete:"Full scan complete: {{totalFolders}} folders, {{totalNew}} new, {{totalExisting}} existing{{errors}}",scanAllErrors:", {{totalErrors}} errors",watcherStartFailed:"Failed to start real-time monitoring",watcherStopFailed:"Failed to stop real-time monitoring"}},dialog:{addTitle:"Add Folder",editTitle:"Edit Folder",folderPath:"Folder Path *",folderPathDisabled:"Folder path cannot be edited",folderPathHelper:"Enter absolute path (e.g., D:\\Images or \\\\192.168.1.100\\Share\\Images)",folderName:"Folder Name",folderNameHelper:"If left blank, folder name will be used automatically",watcherEnabled:"Enable Real-time File Monitoring",watcherTooltip:"Real-time monitoring immediately detects file additions/modifications/deletions in the folder and processes them automatically. Works independently of auto-scan and provides faster response.",pollingInterval:"Polling Interval (for Network Drives)",pollingIntervalTooltip:"For network drives, file changes are detected using polling method. Shorter intervals detect faster but increase network load. Leave blank for auto-detection (default: 1000ms).",pollingIntervalLabel:"Polling Interval (milliseconds)",pollingIntervalPlaceholder:"Auto-detect (Network drive: 1000ms)",pollingIntervalHelper:"Leave blank for automatic configuration. Recommended: 500-3000ms",autoScan:"Enable Auto-Scan",scanInterval:"Scan Interval (minutes)",scanIntervalHelper:"Auto-scan period (in minutes)",advancedOptions:"Advanced Options",recursive:"Include Subfolders (Recursive Scan)",excludeExtensions:"Exclude Extensions",excludeExtensionsTooltip:"By default, all image formats (.jpg, .png, .webp, .gif, .bmp, .tiff) are scanned. Add extensions to exclude from scanning.",excludeExtensionsPlaceholder:".tmp",excludePatterns:"Exclude Patterns",excludePatternsTooltip:"Exclude specific folders or file patterns from scanning. Examples: node_modules, .git, temp",excludePatternsPlaceholder:"e.g., node_modules, .git",addButton:"Add",saveButton:"Save",savingButton:"Saving...",cancelButton:"Cancel",errorPath:"Please enter folder path",errorSave:"Failed to save folder"},scanLog:{title:"Scan Log",titleSpecific:"Scan Log (Specific Folder)",titleAll:"Scan Log (All)",noLogs:"No scan logs",loadFailed:"Failed to load scan logs",refresh:"Refresh",close:"Close",columns:{scanTime:"Scan Time",folder:"Folder",status:"Status",scanned:"Scanned",new:"New",existing:"Existing",errors:"Errors",duration:"Duration",details:"Details"},status:{success:"Success",error:"Error"},errorDetails:"Error Details ({{count}})",durationSeconds:"{{seconds}}s"},verificationLog:{title:"File Verification Log",noLogs:"No verification logs",loadFailed:"Failed to load verification logs",refresh:"Refresh",close:"Close",columns:{verificationTime:"Verification Time",verificationType:"Verification Type",checked:"Files Checked",missingFound:"Missing Found",deletedRecords:"Deleted Records",errors:"Errors",duration:"Duration"},verificationType:{auto:"Auto Verification",manual:"Manual Verification"},errorDetails:"Error Details ({{count}})",errorItem:{fileId:"File ID: {{id}}",path:"Path: {{path}}",error:"Error: {{error}}"},noErrors:"None",countFormat:"{{count}}",durationMs:"{{ms}}ms",durationSeconds:"{{seconds}}s"}},X1e={save:"Save",cancel:"Cancel",delete:"Delete",create:"Create",enabled:"Enabled",disabled:"Disabled"},Q1e={title:"Civitai Integration",description:"Automatically fetch model information from Civitai based on model hashes in image metadata.",settings:{title:"Settings",enableIntegration:"Enable Civitai Integration",enableDescription:"When enabled, model information will be automatically fetched from Civitai for new images.",apiInterval:"API Call Interval: {{interval}} seconds",apiIntervalDescription:"Minimum time between API calls to avoid rate limiting. Recommended: 2 seconds."},statistics:{title:"Statistics",refresh:"Refresh",totalLookups:"Total Lookups",successful:"Successful",failed:"Failed",successRate:"Success Rate",lastApiCall:"Last API Call",never:"Never",recheckFailed:"Re-check Failed Models",resetStats:"Reset Statistics"},rescan:{title:"Scan Existing Images",description:"Scan existing images in your library to extract model references and add them to the Civitai lookup queue. This is useful for images that were imported before Civitai integration was enabled.",processing:"Processing: {{processed}}/{{total}}",added:"Model references added: {{count}}",startButton:"Start Full Rescan",starting:"Starting...",enableRequired:"Enable Civitai integration to use this feature."},cachedModels:{title:"Cached Models ({{count}})",clearCache:"Clear Cache",modelName:"Model Name",type:"Type",hash:"Hash",cachedAt:"Cached At",empty:"No models cached yet. Models will be cached automatically when images with model hashes are added.",unknown:"Unknown"},dialogs:{clearCache:{title:"Clear Model Cache",message:"Are you sure you want to clear all cached model information? This will remove all locally stored Civitai data. Models will be re-fetched when needed.",confirm:"Clear"},resetStats:{title:"Reset Statistics",message:"Are you sure you want to reset all statistics? This action cannot be undone.",confirm:"Reset"},cancel:"Cancel"},upload:{title:"Upload to Civitai",description:"Share this image on Civitai",selectedImage:"Selected image",methodLabel:"Upload Method",downloadMethod:"Download & Upload",intentMethod:"Direct Link",downloadTooltip:"Download image and open Civitai. Upload the downloaded file manually",intentTooltip:"Use server URL to share. Requires server to be accessible from internet",downloadDescription:"Download image, then select the file on Civitai upload page",intentDescription:"Server provides image URL directly to Civitai (requires external access)",downloadSuccess:"Image downloaded! Opening Civitai...",downloadError:"Failed to download image",downloadButtonTooltip:"Download image and open Civitai upload page",intentButtonTooltip:"Generate intent URL and open Civitai",downloadAndOpen:"Download & Open Civitai",postTitle:"Title",postTitlePlaceholder:"Enter post title",postDescription:"Description",postDescriptionPlaceholder:"Enter post description (optional)",tags:"Tags",tagsPlaceholder:"Enter tags separated by comma",includeMetadata:"Include generation metadata",includeMetadataDescription:"Include AI generation info (prompt, model, etc.) in the post",uploadButton:"Upload",uploading:"Processing...",submit:"Create Post",openInCivitai:"Open in Civitai",success:"Intent URL created successfully. Click to open Civitai.",error:"Failed to create upload intent",disabled:"Civitai integration is disabled"},errors:{loadFailed:"Failed to load Civitai settings",updateFailed:"Failed to update settings",resetFailed:"Failed to reset",clearFailed:"Failed to clear cache",rescanFailed:"Failed to start rescan"},success:{enabled:"Civitai integration enabled",disabled:"Civitai integration disabled",statsReset:"Statistics reset",cacheCleared:"Cache cleared",rescanStarted:"Rescan started: {{total}} images to process",rescanCompleted:"Rescan completed: {{added}} model references added"}},Z1e={title:"External API Authentication",description:"Manage authentication credentials for external API services like Civitai.",currentApiKey:"Current API Key",currentApiKeyHelper:"Only partially shown for security",newApiKey:"New API Key",newApiKeyPlaceholder:"Enter your new API key",baseUrl:"Base URL",baseUrlHelper:"Optional: API endpoint URL",testConnection:"Test Connection",addProvider:"Add New Provider",addProviderDescription:"Add a new external API provider.",providerName:"Provider Name",providerNameHelper:"Only letters, numbers, _, - allowed (e.g., openai, stability)",providerDisplayName:"Display Name",deleteConfirmTitle:"Delete Provider",deleteConfirmMessage:"Are you sure you want to delete {{provider}}?",success:{saved:"API key saved successfully",deleted:"Provider deleted successfully",created:"Provider created successfully",connectionTest:"Connection test successful",toggled:"{{state}} successfully"},errors:{loadFailed:"Failed to load providers",saveFailed:"Failed to save",deleteFailed:"Failed to delete",createFailed:"Failed to create",connectionTestFailed:"Connection test failed",nameRequired:"Please enter both name and display name",toggleFailed:"Failed to toggle status"}},J1e={title:L1e,subtitle:z1e,tabs:F1e,general:B1e,tagger:H1e,rating:$1e,thumbnail:U1e,background:G1e,similarity:q1e,auth:W1e,messages:V1e,thumbnailRegeneration:Y1e,folderSettings:K1e,common:X1e,civitai:Q1e,externalApi:Z1e},ebe={title:"ComfyUI Image Manager",menu:{home:"Home",gallery:"Gallery",imageGroups:"Groups",search:"Search",upload:"Upload",imageGeneration:"Image Generation",settings:"Settings",help:"Help"},tooltip:{home:"Go to home page",gallery:"View image gallery",imageGroups:"Manage groups",search:"Search images",upload:"Upload images",imageGeneration:"Generate AI images",settings:"Manage settings",help:"View help"},theme:{light:"Light Mode",dark:"Dark Mode",toggle:"Toggle Theme"},mobileMenu:{open:"Open Menu",close:"Close Menu"}},tbe={copyright:" 2024 ComfyUI Image Manager. All rights reserved.",version:"Version"},nbe={title:"Help",sections:{gettingStarted:"Getting Started",imageManagement:"Image Management",autoCollection:"Auto Collection",promptSystem:"Prompt System",settings:"Settings",shortcuts:"Shortcuts"}},abe={header:ebe,footer:tbe,help:nbe},ibe={title:"Image Gallery",description:"View and manage all uploaded images."},rbe={aiTool:"AI Tool",sortBy:"Sort By",sortOrder:"Order",all:"All",clearFilters:"Clear Filters"},obe={uploadDate:"Upload Date",filename:"Filename",fileSize:"File Size",width:"Width",height:"Height",ascending:"Ascending",descending:"Descending"},sbe={refresh:"Refresh",selectAll:"Select All",deselectAll:"Deselect All"},lbe={loading:"Loading images...",noImages:"No images found.",error:"An error occurred while loading images."},cbe={aiToolLabel:"AI Tool: {{tool}}"},ube="Select All ({{selected}}/{{total}})",dbe="Total {{count}} images",fbe={title:"Image Grid"},hbe={toggleMode:"Deactivate Selection Mode",activateMode:"Activate Selection Mode",selectedImages:"Selected Images:",selectAll:"Select All",deselectAll:"Deselect All",selectAllWithCount:"Select All ({{selected}}/{{total}})",methods:{title:"Selection Methods:",click:" Click: Select/deselect individual",drag:" Drag: Select multiple images",shiftClick:" Shift + Click: Range select",ctrlClick:" Ctrl/Cmd + Click: Toggle select",ctrlA:" Ctrl/Cmd + A: Select all",esc:" ESC: Deselect"}},pbe={noImages:"No images",uploadPrompt:"Try uploading images.",uploadOrSearch:"Upload images or change search criteria."},mbe="Loading images...",gbe="All images loaded",bbe={page:ibe,filters:rbe,sorting:obe,actions:sbe,status:lbe,chips:cbe,selectAllLabel:ube,totalImages:dbe,imageGridModal:fbe,selection:hbe,emptyState:pbe,loading:mbe,allImagesLoaded:gbe},ybe={title:"Image Details",notFound:"Image not found.",errorLoading:"An error occurred while loading the image.",noIdProvided:"No image ID provided."},xbe={title:"Image Information"},vbe="Copy hash",Sbe="Waiting for hash generation...",Cbe="Hash copied",wbe="View Thumbnail (Fast Loading)",_be="View Original (High Quality)",Tbe="Original image not found. Showing thumbnail.",Ebe={download:"Download",share:"Share",back:"Back",goToDetail:"Detail Page",uploadToCivitai:"Upload to Civitai",delete:"Delete",deleteConfirm:"Are you sure you want to delete this image?",deleteSuccess:"Image deleted successfully.",deleteError:"Failed to delete image."},Abe={fileInfo:"File Information",imageInfo:"Image Information",videoInfo:"Video Information",aiInfo:"Generation Info",promptInfo:"Prompt Information",groupInfo:"Groups",fullMetadata:"Full Metadata"},Rbe={originalFilename:"Original Filename",filename:"Filename",size:"Size",fileSize:"File Size",mimeType:"MIME Type",uploadDate:"Upload Date"},kbe={dimensions:"Dimensions",dimensionsValue:"{{width}}  {{height}}"},Ibe={duration:"Duration",durationValue:"{{minutes}}m {{seconds}}s",fps:"Frame Rate",fpsValue:"{{fps}} fps",videoCodec:"Video Codec",audioCodec:"Audio Codec",bitrate:"Bitrate",bitrateValue:"{{bitrate}} Mbps"},Nbe={tool:"AI Tool",toolShort:"Tool",model:"Model",lora:"LoRA",steps:"Steps",cfgScale:"CFG Scale",cfgShort:"CFG",sampler:"Sampler",scheduler:"Scheduler",seed:"Seed",denoiseStrength:"Denoise Strength",generationTime:"Generation Time",generationTimeValue:"{{time}}s",batchSize:"Batch Size",batchIndex:"Batch Index"},jbe={autoType:"Auto",manualType:"Manual",groupLabel:"{{name}} ({{type}})"},Dbe={controls:{zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateLeft:"Rotate Left",rotateRight:"Rotate Right",flipHorizontal:"Flip Horizontal",flipVertical:"Flip Vertical",reset:"Reset",info:"Info",close:"Close"},navigation:{previous:"Previous Image ()",next:"Next Image ()",random:"Random Image (Space)",currentPosition:"{{current}} / {{total}}"}},Obe={title:"Group: {{name}}",defaultTitle:"Group Images"},Mbe={page:ybe,info:xbe,copyHash:vbe,hashGenerating:Sbe,hashCopied:Cbe,viewThumbnail:wbe,viewOriginal:_be,originalNotFound:Tbe,actions:Ebe,sections:Abe,fileInfo:Rbe,imageInfo:kbe,videoInfo:Ibe,aiInfo:Nbe,groupInfo:jbe,viewer:Dbe,groupModal:Obe},Pbe={title:"Media Upload",description:"Upload AI-generated images and videos to automatically extract and analyze metadata."},Lbe={dragActive:"Drop files here",dragInactive:"Drag and drop images or videos, or click to upload",supportedFormats:"Images: JPG, PNG, GIF, BMP, WebP, TIFF | Videos: MP4, WebM, MOV, AVI, MKV (Max 500MB, unlimited files)",imageSupport:"Image Support",videoSupport:"Video Support",multipleSelection:"Multiple Selection",divider:"or"},zbe={selectFiles:"Select Files",selectFolder:"Select Folder"},Fbe={title:"Overall Progress",fileCount:"{{completed}}/{{total}}",summary:"Total {{total}} files - Success: {{success}}, Failed: {{failed}}"},Bbe={upload:"Uploading",metadata:"Extracting Metadata",thumbnail:"Generating Thumbnail",autoCollect:"Auto Grouping",autoTag:"Auto Tagging"},Hbe={waiting:"Waiting",processing:"Processing",complete:"Complete",error:"Error"},$be={uploadComplete:"Upload Complete",uploadSuccess:"Image upload completed successfully.",uploadFailed:"Upload failed.",uploadError:"An error occurred during upload.",multipleSuccess:"{{count}} images uploaded successfully.",allFailed:"All image uploads failed.",partialSuccess:"{{success}} succeeded, {{failed}} failed."},Ube={title:"Prompt Preview",description:"Select an image to instantly view AI metadata without uploading to server.",dragOrClick:"Drag or click to select an image",dropHere:"Drop file here",noUpload:"Images are analyzed in browser only, not uploaded to server",imagePreview:"Image Preview",aiTool:"AI Tool",positivePrompt:"Prompt",negativePrompt:"Negative Prompt",terms:"Extracted Terms",loraModels:"LoRA Models",parameters:"Generation Parameters",rawMetadata:"Raw Metadata (EXIF/PNG Chunks)",invalidFileType:"Only image files are allowed",extractionFailed:"Failed to extract metadata"},Gbe={page:Pbe,dropzone:Lbe,buttons:zbe,progress:Fbe,stages:Bbe,status:Hbe,messages:$be,promptPreview:Ube},qbe={title:"Media Groups",description:"",emptyTitle:"No groups created yet",emptyDescription:"Create a new group to systematically manage your images.",customGroupsTab:"Custom Groups",autoFolderGroupsTab:"Auto Folder Groups"},Wbe={imageCount:"{{count}} images",subgroupCount:"{{count}} subgroups",folderCount:"{{count}} subfolders",autoCollect:"Auto-collect",stats:"Auto: {{auto}} | Manual: {{manual}}"},Vbe={viewImages:"View Images",title:"{{name}} - Images",description:"View direct images in this group",folderDescription:"View direct images in this folder"},Ybe={edit:"Edit",delete:"Delete",runAutoCollection:"Run Auto-collection"},Kbe={basicInfo:"Basic Information",autoCollect:"Auto-collection Settings"},Xbe={createTitle:"Create New Group",editTitle:"Edit Group",basicInfo:"Basic Information",groupName:"Group Name",description:"Description",groupColor:"Group Color",parentGroup:"Parent Group",noParent:"None (Root Level)",selectParent:"Select Parent Group",autoCollectEnable:"Enable Auto-collection",autoCollectDescription:"Automatically add images that match the configured conditions to this group.",autoCollectDisabledHelp:"When auto-collection is enabled, newly uploaded images will be automatically added to this group based on the configured conditions.",filterApplied:"{{count}} filters applied. Execution order: Exclude  OR  AND",addFiltersPrompt:"Add filters to configure auto-collection conditions",filterHelpTooltip:"Filter usage help",orConditionInfo:"OR Condition: Multiple conditions will collect images that satisfy at least one condition.",orConditionExample:`Example: "Prompt contains 'anime'" + "Auto-tag has character"  Collects if either is satisfied`,conditionsTitle:"Auto-collection Conditions",addCondition:"Add Condition",conditionType:"Condition Type",conditionValue:"Value",emptyConditions:"Add conditions to configure auto-collection rules.",buttonCreate:"Create",buttonUpdate:"Update",buttonCancel:"Cancel"},Qbe={root:"Root",groupList:"Group List",childGroups:"{{count}} subgroups",openSubgroups:"Open Subgroups",backToParent:"Back to Parent",moveGroup:"Move Group",moveToRoot:"Move to Root",cannotMoveToSelf:"Cannot move to itself",cannotMoveToDescendant:"Cannot move to descendant group",maxDepthExceeded:"Maximum depth (5 levels) exceeded",circularReference:"Circular reference detected",hierarchyInvalid:"Invalid hierarchy structure"},Zbe={conditionNumber:"Condition {{number}}",removeCondition:"Remove Condition",addFirstCondition:"Add First Condition",autoCollectDisabled:"Enable auto-collection to configure conditions.",groups:{basic:"Basic",prompt:"Prompt",autotag:"Auto-tag",duplicate:"Duplicate Images"},types:{aiTool:"AI Tool",modelName:"Model Name (Metadata)",promptContains:"Prompt Contains",promptRegex:"Prompt Regex",negativePromptContains:"Negative Prompt Contains",negativePromptRegex:"Negative Prompt Regex",autoTagExists:"Auto-tag Exists",autoTagRating:"Auto-tag: Rating",autoTagRatingScore:"Auto-tag: Rating Score (Weighted)",autoTagGeneral:"Auto-tag: General Tag",autoTagCharacter:"Auto-tag: Character",autoTagHasCharacter:"Auto-tag: Has Character",autoTagModel:"Auto-tag: Model Name",duplicateExact:"Exact Duplicate",duplicateNear:"Near Duplicate",duplicateSimilar:"Similar Images",duplicateCustom:"Custom Duplicate Detection"},values:{exists:"Exists",notExists:"Not Exists"},ratings:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"},fields:{value:"Value",ratingType:"Rating Type",minScore:"Min Score",maxScore:"Max Score",tagName:"Tag Name",characterName:"Character Name",caseSensitive:"Case Sensitive",exactMatch:"Exact Match",exactMatchHelp:"When checked, only exact word matches are searched (e.g., 'asd' won't match 'aasd' or 'asdf')",weightedScore:"Weighted Total Score",maxWeightInfo:"Usually up to 200",confidenceRange:"Confidence Score Range (0.0 ~ 1.0): {{min}} ~ {{max}}",confidenceInfo:" Higher scores indicate higher confidence in the tag",hammingThreshold:"Hamming Distance Threshold",hammingThresholdHelp:"Value between 0-64 (lower = stricter matching)",hammingInfo:" Hamming Distance measures bit differences between perceptual hashes. Lower values find more similar images.",duplicateNote:" This condition only searches images with perceptual_hash."},duplicateInfo:{duplicate_exact:" Finds exact duplicates (Hamming Distance = 0). Detects identical images even with different filenames or metadata.",duplicate_near:" Finds near duplicates (Hamming Distance  5). Detects images with resizing, compression, or minor edits.",duplicate_similar:" Finds similar images (Hamming Distance  15). Detects images with similar composition or content."},placeholders:{regex:"Enter regex pattern",modelName:"Enter model name (e.g., wd-v1-4-moat-tagger-v2)",text:"Enter text to search",tagName:"Enter tag name",characterName:"Enter character name"}},Jbe={nameRequired:"Please enter a group name.",conditionRequired:"At least one condition is required to enable auto-collection.",valueRequired:"Please enter a value for condition {{index}}.",ratingTypeRequired:"Condition {{index}}: Please select a rating type.",ratingScoreRequired:"Condition {{index}}: Either min score or max score must be set.",minScoreInvalid:"Condition {{index}}: Min score must be 0 or greater.",maxScoreInvalid:"Condition {{index}}: Max score must be 0 or greater.",scoreRangeInvalid:"Condition {{index}}: Min score must be less than max score.",confidenceScoreRange:"Condition {{index}}: Min score must be between 0.0 and 1.0.",confidenceMaxScoreRange:"Condition {{index}}: Max score must be between 0.0 and 1.0.",confidenceMinMaxInvalid:"Condition {{index}}: Min score cannot be greater than max score.",hammingThresholdRequired:"Condition {{index}}: Hamming Distance threshold is required.",hammingThresholdRange:"Condition {{index}}: Hamming Distance must be between 0 and 64."},eye={loadFailed:"Failed to load group list.",imageLoadFailed:"Failed to load group images.",deleteSuccess:"Group has been deleted.",deleteFailed:"Failed to delete group.",autoCollectSuccess:"Auto-collection complete: {{added}} added, {{removed}} removed",autoCollectFailed:"Failed to run auto-collection.",createSuccess:"Group has been created.",createFailed:"Failed to create group.",updateSuccess:"Group has been updated.",updateFailed:"Failed to update group.",removeWarning:"No images available to remove.",removeSuccess:"{{count}} images have been removed.",removePartialSuccess:"{{removed}} images removed. {{failed}} failed.",removeError:"An error occurred while removing images.",assignSuccess:"{{added}} added, {{converted}} converted, {{skipped}} skipped",assignFailed:"Failed to assign images.",assignError:"An error occurred while assigning images.",emptyGroup:"This group is empty"},tye={title:"Confirm Group Deletion",message:"Are you sure you want to delete the group '{{name}}'?",groupInfo:{imageCount:"Associated images: {{count}}",childCount:"Subgroups: {{count}}"},warning:{imageAssociations:" All associations between this group and images will be removed. The image files themselves will not be deleted."},options:{title:"How to handle subgroups",orphan:{label:"Delete only this group (Recommended)",description:"Subgroups will be moved to root level."},cascade:{label:"Delete this group and all subgroups",description:"{{count}} subgroups will be deleted. This action cannot be undone."}}},nye={title:"{{name}} ({{count}} images)",selectedCount:"{{count}} selected",buttonRemove:"Remove",buttonAssign:"Assign to Group",infoMixedSelection:"Both manual and auto-collected images are selected. Only manual images can be removed, while group assignment applies to all selected images.",warningAutoOnly:"Auto-collected images cannot be removed directly from the group. Please change or disable the auto-collection conditions.",confirmRemoveTitle:"Confirm Image Removal",confirmRemoveMessage:"Remove {{count}} manually collected images from the group?",confirmRemoveNote:"The image files themselves will not be deleted."},aye={title:"Assign to Group",description:"Assign {{count}} selected images to a group.",currentGroup:"Current Group",emptyGroups:"No groups created",loadError:"Failed to load group list.",loadingError:"An error occurred while loading groups.",buttonAssign:"Assign",buttonCancel:"Cancel"},iye={menuTitle:"Download Options",scopeAll:"Download All",scopeSelected:"Selected {{count}} Only",typeThumbnail:"Images (Thumbnail)",typeOriginal:"Images (Original)",typeVideo:"Videos & Animations (Original)",confirmTitle:"Confirm Large Download",confirmMessage:"Download {{count}} files. Continue?",confirmButton:"Download"},rye="Group",oye="Auto-navigate to subgroup: {{from}}  {{to}}",sye="Group created. Please refresh your browser.",lye="Group updated. Please refresh your browser.",cye={noGroups:"No groups created",noSubgroups:"No subgroups",createPrompt:"Press the + button to create a new group",noSubgroupsHelp:"Current group has no subgroups"},uye={readOnlyMessage:"This is a read-only group. Changes must be made to the original file location.",rebuilding:"Rebuilding...",refresh:"Refresh",emptyState:{noGroups:"No auto folder groups",noSubfolders:"No subfolders",refreshPrompt:"Press the refresh button to create folder structure",noSubfoldersHelp:"Current folder has no subfolders"}},dye={page:qbe,groupCard:Wbe,imageView:Vbe,menu:Ybe,tabs:Kbe,modal:Xbe,hierarchy:Qbe,conditions:Zbe,validation:Jbe,messages:eye,deleteConfirm:tye,imageModal:nye,assignModal:aye,download:iye,defaultGroupName:rye,autoNavigate:oye,created:sye,updated:lye,emptyState:cye,autoFolder:uye},fye="Image Search",hye="Search for images by prompts, AI tools, model names, auto tags, and more.",pye={placeholder:"Search by prompt keywords...",button:"Search",clear:"Reset All",execute:"Execute Search"},mye={title:"Search Results",searching:"Searching...",found:"Found {{count}} images.",noResults:"No results found",noResultsHint:"Try different keywords or adjust filters.",initialMessage:"Enter keywords to search for images",initialHint:"You can search by prompts, AI tools, model names, auto tags, dates, and more.",reset:"Reset Search",refresh:"Refresh"},gye={basic:{aiTool:{label:"AI Tool",all:"All"},modelName:{label:"Model Name",placeholder:"e.g. sd_xl_base_1.0"},startDate:{label:"Start Date"},endDate:{label:"End Date"}},quickDate:{today:"Today",todayTooltip:"Images uploaded today","7days":"7 Days","7daysTooltip":"Last 7 days","30days":"30 Days","30daysTooltip":"Last 30 days","90days":"90 Days","90daysTooltip":"Last 90 days"},advanced:{title:"Advanced Filters",active:"Active",negativePrompt:{label:"Negative Prompt",placeholder:"Enter keywords to exclude (e.g., ugly, blurry)"}},autoTag:{title:"Auto Tag Filters",subtitle:"(WD v3 Tagger)",active:"Active",tabs:{rating:"Rating",character:"Character",generalTags:"General Tags"},rating:{typeMode:"Filter by Type",scoreMode:"Filter by Score",typeDescription:"Filter by confidence range of specific rating type",scoreDescription:"Filter by weighted total score configured in settings",type:{label:"Rating Type",none:"None",general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"},confidenceRange:"Confidence Range",scoreRange:"Score Range"},character:{description:"Filter images by character tags",existence:{label:"Character Presence",all:"All",true:"Present",false:"Absent"},name:{label:"Character Name",placeholder:"e.g., hatsune_miku"},confidenceRange:"Confidence Range"},generalTags:{description:"Filter by general tags and confidence range",tagName:{label:"Tag Name",placeholder:"e.g., 1girl, solo, landscape"},confidence:"Confidence: {{min}} ~ {{max}}",addedTags:"Added Tags ({{count}})"}}},bye={title:"Recent Searches"},yye={addButton:"Add Filter",emptyMessage:"Add filters to start searching",countInfo:"{{count}} filter(s) will be applied.",executionOrder:"Execution order: Exclude  OR  AND",modal:{title:"Add Filter",cancel:"Cancel",back:"Back",next:"Next",add:"Add Filter",steps:{selectGroup:"Select Filter Group",selectCategory:"Select Category",configureCondition:"Configure Condition"},step1:{description:"Choose how to apply the filter"},step2:{description:"Select what information to search by"},step3:{description:"Configure the condition. Filters cannot be edited after creation, you must delete and recreate them."}},groupTypes:{exclude:{label:"Exclude (NOT)",description:"Exclude images matching this condition from results"},or:{label:"OR Group",description:"Include images matching this condition in results"},and:{label:"AND Group",description:"Only include images matching all conditions"}},categories:{positive_prompt:{label:"Positive Prompt",description:"Search positive prompts used in image generation"},negative_prompt:{label:"Negative Prompt",description:"Search negative prompts used in image generation"},auto_tag:{label:"Auto Tag (WD Tagger)",description:"Search auto-generated tags from WD v3 Tagger"},basic:{label:"Basic Info",description:"Search basic metadata like AI tool and model name"}},conditionTypes:{conditionType:"Condition Type",value:"Value",placeholder:"Enter value to search",scoreRange:"Score Range",weightRange:"Weight Range",tagName:"Tag/Character Name",tagPlaceholder:"e.g., 1girl, hatsune_miku",ratingType:"Rating Type",exists:"Present",notExists:"Absent"}},xye={title:fye,description:hye,searchInput:pye,results:mye,filters:gye,searchHistory:bye,filterBlock:yye},vye="Prompt Management",Sye="Manage and analyze prompts extracted from AI-generated images.",Cye={positive:"Positive",negative:"Negative"},wye={search:{placeholder:"Search {{type}} prompts..."},filters:{groupFilter:{label:"Group Filter",all:"All",unassigned:"Unassigned"}},table:{headers:{prompt:"Prompt",usageCount:"Usage Count",assignedGroup:"Assigned Group",actions:"Actions"},empty:"No prompts available.",synonyms:{more:"+{{count}} more"}},actions:{assignToGroup:"Assign to Group",delete:"Delete",cannotDelete:"Cannot delete prompts in use",groupManagement:"Group Management"},statistics:{unclassified:"Unclassified",unknown:"Unknown"},pagination:{rowsPerPage:"Rows per page:",displayedRows:"{{from}}-{{to}} of {{count}}"},messages:{loadFailed:"Failed to load prompt list.",deleteSuccess:"Prompt deleted successfully.",deleteFailed:"Failed to delete prompt.",assignSuccess:"Prompt assigned to group successfully.",assignFailed:"Failed to assign prompt."}},_ye={title:"Assign to Group",selectGroup:{label:"Select Group",unassigned:"Unassigned"},actions:{cancel:"Cancel",assign:"Assign"}},Tye={title:"{{type}} Prompt Group Management",dragHint:"Drag to reorder groups",editForm:{titleAdd:"Add New Group",titleEdit:"Edit Group",groupName:{label:"Group Name",required:"Please enter a group name."},displayOrder:{label:"Display Order"},visibility:{label:"Visible",hidden:"Hidden"},actions:{save:"Save",cancel:"Cancel"}},groupList:{title:"Group List ({{count}})",add:"Add Group",empty:"No groups created.",promptCount:"{{count}} prompts",displayOrder:"Display Order: {{order}}"},actions:{toggleVisibility:"Toggle Visibility",edit:"Edit",delete:"Delete",deleteConfirm:"Are you sure you want to delete this group?",close:"Close"},messages:{loadFailed:"Failed to load group list.",createSuccess:"Group created successfully.",createFailed:"Failed to create group.",updateSuccess:"Group updated successfully.",updateFailed:"Failed to update group.",deleteSuccess:"Group deleted successfully.",deleteFailed:"Failed to delete group.",visibilityFailed:"Failed to change group settings.",reorderSuccess:"Group order updated successfully.",reorderFailed:"Failed to update group order."}},Eye={tabs:{positive:"Positive",negative:"Negative",auto:"AUTO"},labels:{prompt:"Prompt",negativePrompt:"Negative Prompt"},noPrompt:"No prompt information available.",loading:"Loading...",loadFailed:"Failed to load group information."},Aye={noTags:"Auto tagging has not been generated for this image yet.",generateButton:"Generate Tags",generating:"Generating...",generationError:"An error occurred while generating tags.",sections:{rating:"Rating",characters:"Characters",tagList:"Tag List",generalTags:"General Tags ({{count}})",modelInfo:"Model Information"},modelInfo:{model:"Model",generalThreshold:"General",characterThreshold:"Character",taggedAt:"Tagged At"}},Rye={title:vye,description:Sye,tabs:Cye,promptList:wye,assignDialog:_ye,groupManagement:Tye,promptDisplay:Eye,autoTagDisplay:Aye},kye={generate:"Generate",history:"History"},Iye={title:"Workflow Management",listTitle:"Workflow List",addButton:"Add Workflow",editTitle:"Edit Workflow",createTitle:"Add Workflow",noWorkflows:"No workflows registered",noWorkflowsDesc:'Click "Add Workflow" button to add a ComfyUI workflow'},Nye={active:"Active",inactive:"Inactive",fieldsCount:"{{count}} fields",createdDate:"Created: {{date}}",generateImage:"Generate Image",notFound:"Workflow not found"},jye={basicInfo:"Basic Information",workflowName:"Workflow Name",description:"Description",apiEndpoint:"API Endpoint",activate:"Activate",workflowJson:"Workflow JSON",uploadFile:"Upload File",jsonPlaceholder:'{"prompt": {...}}',jsonHelper:"Paste the Workflow API JSON exported from ComfyUI",jsonCharCount:"{{count}} characters",invalidJson:"Invalid JSON format",nameRequired:"Please enter workflow name",jsonRequired:"Please enter Workflow JSON",validateJson:"Please check JSON format",colorLabel:"Workflow Color",customColorTooltip:"Select custom color",selectImage:"Select Image"},Dye={blue:"Blue (default)",red:"Red",green:"Green",orange:"Orange",purple:"Purple",cyan:"Cyan",yellow:"Yellow",brown:"Brown",gray:"Gray",pink:"Pink"},Oye={importantNote:"Important:",apiFormatWarning:'Use JSON saved with "Save (API Format)" button in ComfyUI. Regular workflow JSON will not work.',created:"Workflow created successfully",updated:"Workflow updated successfully",inactiveWarning:"This workflow is currently inactive. You need to activate it first to generate images.",noConfigurableFields:"This workflow has no configurable fields."},Mye={sectionTitle:"Marked Fields Configuration",guideTitle:"Marked Fields Usage Guide",addField:"Add Field",noFields:'No Marked Fields. Click "Add Field" button to add one',whatIs:"What are Marked Fields?",whatIsDesc:"Define fields that users can modify when generating images. For example, you can dynamically input prompts, seed values, Steps, CFG, etc.",howToFind:"How to find JSON Path:",step1:'Create a workflow in ComfyUI and click "Save (API Format)" button',step2:"Open the JSON file and find the node number and input field name",step3:"Path format: [node_number].inputs.[field_name]",exampleTitle:"Real Examples:",example1Title:"1. Prompt Field (CLIPTextEncode Node #6)",example1FieldId:"Field ID: prompt_positive",example1Label:"Label: Prompt",example1Type:"Type: Long Text (textarea)",example1Path:"JSON Path: 6.inputs.text",example1Default:"Default: a beautiful landscape",example2Title:"2. Seed Value (KSampler Node #3)",example2FieldId:"Field ID: seed",example2Label:"Label: Seed",example2Type:"Type: Number",example2Path:"JSON Path: 3.inputs.seed",example2Default:"Default: 123456",example3Title:"3. Steps (KSampler Node #3)",example3FieldId:"Field ID: steps",example3Label:"Label: Steps",example3Type:"Type: Number",example3Path:"JSON Path: 3.inputs.steps",example3Default:"Default: 20",example3Min:"Min: 1",example3Max:"Max: 150",example4Title:"4. Sampler (KSampler Node #3)",example4FieldId:"Field ID: sampler_name",example4Label:"Label: Sampler",example4Type:"Type: Select",example4Path:"JSON Path: 3.inputs.sampler_name",example4Options:"Options: euler, euler_ancestral, dpm++ 2m, ddim",tipTitle:" Tip:",tipDesc:'JSON Path follows the structure of Workflow JSON. For example, if JSON is {"3": {"inputs": {"seed": 123}}}, the JSON Path would be 3.inputs.seed.',previewTitle:"Marked Fields Preview",unnamedField:"Unnamed Field",noJsonPath:"No JSON Path",stepLabel:"Step Unit",stepHelperText:"Step value (e.g., 0.01)",stepPlaceholder:"0.01",autoUpdated:"(Auto-updated)",listPreviewHelper:"Preview of referenced list (read-only)",loadFromListTooltip:"Load from custom list",loadFromListTitle:"Load from Custom List",noCustomLists:"No custom lists registered.",itemCount:"{{count}} items - "},Pye={fieldId:"Field ID",fieldIdPlaceholder:"prompt_positive",fieldIdHelper:"Unique identifier",label:"Label",labelPlaceholder:"Prompt",labelHelper:"Name displayed to users",type:"Type",typeHelper:"Input method",typeText:"Text (single line)",typeTextarea:"Long Text (multiple lines)",typeNumber:"Number",typeSelect:"Select (dropdown)",jsonPath:"JSON Path *",jsonPathPlaceholder:"6.inputs.text",jsonPathHelper:"Path in Workflow JSON. Example: 6.inputs.text (text input of node 6)",defaultValue:"Default Value",defaultValuePlaceholder:"a beautiful landscape",defaultValueHelper:"Value to display when empty",required:"Required",minValue:"Min Value",minPlaceholder:"1",maxValue:"Max Value",maxPlaceholder:"150",selectOptions:"Select Options (comma separated)",selectOptionsPlaceholder:"euler, dpm++, ddim",selectOptionsHelper:"Example: euler, dpm++ 2m, ddim"},Lye={pageTitle:"Generate Image",settingsTitle:"Generation Settings",missingFields:"Please enter required fields: {{fields}}",emptyPrompt:"Prompt is empty. Cannot generate image.",selectPlaceholder:"Please select",previewTitle:"Data to be sent Preview",generateAll:"Generate on all active servers ({{count}})",serversListTitle:"ComfyUI Server List",serversListDesc:"You can generate images independently on each server",noServers:"No ComfyUI servers registered. Add a server in the server management page.",noConnectedServers:"No connected servers",responseTime:"Response time: {{time}}ms",generateButton:"Generate on this server",generating:"Generating...",generationComplete:"Image generation completed!",generationFailed:"Image generation failed",executionTime:"{{time}}s",viewImage:"View Image Details"},zye={save:"Save",saving:"Saving...",cancel:"Cancel",create:"Create",update:"Update",delete:"Delete",confirmDelete:"Are you sure you want to delete this workflow?"},Fye={title:"Repeat Execution",enable:"Enable repeat execution",count:"Repeat count",infinite:"Infinite repeat (-1)",countHelp:"1-999 or -1 (infinite)",delay:"Delay (seconds)",delayHelp:"Wait time before next generation after all servers complete (1-300 seconds)",progress:"Iteration {{current}} in progress",progressWithTotal:"Iteration {{current}}/{{total}} in progress",stop:"Stop"},Bye={title:"Custom Dropdown Lists Management",buttons:{add:"Add New List",edit:"Edit",delete:"Delete",view:"View",cancel:"Cancel",create:"Create",save:"Save"},labels:{name:"List Name",description:"Description",items:"Items (one per line)",itemsHelper:"Enter each item separated by newlines"},empty:{title:"No custom dropdown lists registered",description:"Click 'Add New List' to create a custom dropdown list"},dialog:{add:"Add New Custom List",edit:"Edit Custom List",deleteConfirm:"Are you sure you want to delete this list?"},validation:{minItems:"Please enter at least 1 item"},stats:{itemCount:"{{count}} items",moreItems:"+{{count}}",createdAt:"Created: {{date}}"}},Hye={statusTitle:"Repeat Execution Status",overall:"Overall: {{completed}}{{total}} completed",withInfinite:" (including infinite repeat)",serverProgress:"{{count}} times",serverProgressInfinite:"{{count}} times (infinite)"},$ye={generate:"Generate",startRepeat:"Start Repeat",stop:"Stop",executingInfinite:"{{count}} times executing (infinite)",executingProgress:"{{current}} / {{total}} times"},Uye={title:"Group Assignment",selectGroup:"Select Group",autoAddDescription:"Generated images will be automatically added to the selected group"},Gye={searchPlaceholder:"Search nodes...",filterTypes:"Filter Types",layoutSwitch:"Switch to {{layout}} layout",layoutTopBottom:"Top-Bottom",layoutLeftRight:"Left-Right",expandAll:"Expand all nodes",collapseAll:"Collapse all nodes"},qye={title:"Workflow JSON Structure",copyToClipboard:"Copy to clipboard",copied:"Copied to clipboard!"},Wye={graphView:"Graph View",jsonView:"JSON View"},Vye={title:"Marked Fields Preview",parseError:"Cannot parse Workflow JSON",noJson:"No Workflow JSON",pathNotFound:"Path not found: {{path}}",validationError:"Error during path validation",substitutionError:"Error during substitution",validationResults:"Path Validation Results",currentValue:"Current value:",formTitle:"Form to be displayed during image generation",generateButton:"Generate Image (Preview)",testDataButton:"Preview with test data",viewJsonTitle:"View substituted Workflow JSON"},Yye={title:"Select Image",tabs:{dbSearch:"DB Search",hash:"Hash",upload:"Upload",history:"History",dedicatedFolder:"Dedicated Folder"},inPreparation:"In preparation",hashInputLabel:"Enter image hash",hashInputPlaceholder:"Enter image hash",hashComingSoon:"Hash-based image loading will be implemented in the future.",selectButton:"Select Image",useAsIs:"Use as is",editButton:"Edit (In preparation)",noImagesInFolder:"No images in dedicated folder.",addImagesPrompt:"Add images to folder."},Kye={subtabs:kye,page:Iye,card:Nye,form:jye,colors:Dye,alerts:Oye,markedFields:Mye,fieldForm:Pye,generate:Lye,actions:zye,repeat:Fye,customDropdowns:Bye,repeatExecution:Hye,serverStatus:$ye,groupAssignment:Uye,graphToolbar:Gye,jsonViewer:qye,workflowViewer:Wye,preview:Vye,imageSelection:Yye},Xye={title:"Image Generation",subtitle:"Manage ComfyUI workflows and generate images"},Qye={novelai:"NovelAI",comfyui:"ComfyUI",wildcards:"Wildcards",ariaLabel:"Image generation tabs"},Zye={subtabs:{generate:"Generate",history:"History"},login:{title:"NovelAI Login",subtitle:"Sign in with your NovelAI account",tabs:{credentials:"Email/Password",token:"Token"},username:"Email",password:"Password",token:"Access Token",tokenPlaceholder:"Enter your NovelAI Access Token",tokenHint:"Enter the Access Token obtained from the NovelAI website",loginButton:"Login",loggingIn:"Logging in...",error:"Login failed",tokenError:"Token authentication failed"},tabs:{basic:"Basic Settings",advanced:"Advanced Settings"},sections:{preset:"Quality Presets",prompts:"Prompts",output:"Output Settings",advanced:"Advanced Settings",sampling:"Sampling Settings",quality:"Quality Settings",model:"Model Selection"},anlas:{balance:"Anlas Balance",refresh:"Refresh",subscription:"Subscription",free:"Free",tablet:"Tablet",scroll:"Scroll",opus:"Opus"},cost:{title:"Cost Estimate",anlas:"Anlas",balance:"Balance",sufficient:"Sufficient",insufficient:"Insufficient",opusFree:"Opus Free Generation",maxSamples:"Max Samples"},models:{label:"Model Selection",v45curated:"V4.5 Curated (Recommended)",v45full:"V4.5 Full",v4curated:"V4 Curated",v4full:"V4 Full",v3:"V3 (Legacy)",v3furry:"V3 Furry"},advanced:{cfgRescale:"Prompt Guidance Rescale",noiseSchedule:"Noise Schedule",uncondScale:"Undesired Content Strength"},settings:{qualityToggle:"Auto-add quality tags"},presets:{title:"Quality Presets",label:"Quality Presets",quality:{name:"Quality",description:"Balanced quality and speed (28 steps, Euler)"},fast:{name:"Fast",description:"Quick generation (15 steps, Euler)"},artistic:{name:"Artistic",description:"Creative results (35 steps, DPM++ 2S Ancestral, SMEA DYN)"},realistic:{name:"Realistic",description:"Realistic images (40 steps, DPM++ 2M, SMEA)"},detail:{name:"Detail",description:"Maximum detail (50 steps, DPM++ SDE, SMEA DYN)"}},gallery:{images:"Images",showMetadata:"Show Metadata",hideMetadata:"Hide Metadata",downloadAll:"Download All"},generate:{title:"NovelAI Image Generation",logout:"Logout",prompt:"Prompt",negativePrompt:"Negative Prompt",resolution:"Resolution",sampler:"Sampler",steps:"Steps",guidance:"Guidance",samples:"Samples",ucPreset:"Quality Preset",generateButton:"Generate Image",generating:"Generating...",resultTitle:"Generated Images",download:"Download",upload:"Upload",metadata:"Metadata",tokenExpired:"Token expired. Please login again.",subscriptionRequired:"Active subscription required",error:"Image generation failed",uploadSuccess:"Image uploaded successfully",uploadError:"Image upload failed",autoUploadSuccess:"{{count}} image(s) uploaded automatically",autoUploadPartial:"{{success}} uploaded, {{fail}} failed",success:"{{count}} image(s) generation started. Check the History tab.",completed:"Image generation completed",failed:"Image generation failed"},errors:{emptyPrompt:"Prompt is empty. Cannot generate image."},repeat:{title:"Repeat Execution",enable:"Enable repeat execution",count:"Repeat count",infinite:"Infinite repeat (-1)",countHelp:"1-999 or -1 (infinite)",delay:"Delay (seconds)",delayHelp:"Wait time before next generation after completion (1-300 seconds)",progress:"Iteration {{current}} in progress",progressWithTotal:"Iteration {{current}}/{{total}} in progress",stop:"Stop"},history:{title:"Generation History",comingSoon:"This feature is coming soon.",description:"View your previously generated images and settings."},resolution:{mode:"Resolution Mode",modeFixed:"Fixed Mode",modeRandom:"Random Mode",selectResolution:"Select Resolution",selectMultiple:"Select Resolutions (Multiple)",addCustom:"Add Custom",swapDimensions:"Swap Dimensions",swapDimensionsDesc:"Swap width and height of selected resolution",finalResolution:"Final Resolution",randomPool:"Random Pool",swapped:"swapped",randomSwapInfo:"Each resolution has 50% chance to be swapped",selectAtLeastOne:"Select at least one resolution in random mode",customDialog:{addTitle:"Add Custom Resolution",editTitle:"Edit Custom Resolution",name:"Name",namePlaceholder:"e.g., My Resolution",width:"Width",height:"Height",save:"Save",cancel:"Cancel",nameRequired:"Name is required",widthInvalid:"Width must be between 64 and 2048",heightInvalid:"Height must be between 64 and 2048"}},naiSettings:{basic:{title:"Basic Settings",model:"Model",resolution:"Resolution",prompt:"Prompt",promptPlaceholder:"1girl, portrait, detailed face, masterpiece...",negativePrompt:"Negative Prompt",negativePromptPlaceholder:"bad anatomy, low quality..."},sampling:{title:"Sampling Settings",sampler:"Sampler",noiseSchedule:"Noise Schedule",steps:"Steps",guidance:"Guidance",cfgRescale:"CFG Rescale",uncondScale:"Uncond Scale",varietyPlus:"Variety+"},output:{title:"Output Settings",samples:"Sample Count"}}},Jye={title:"Custom Dropdown Lists",buttons:{addList:"Add New List",loadComfyUI:"Load ComfyUI Models",edit:"Edit",delete:"Delete",close:"Close",cancel:"Cancel",create:"Create",collect:"Collect Models",viewList:"View List",selectFolder:"Select models folder"},tabs:{autoCollected:"Auto-Collected",manual:"Manual"},labels:{auto:"Auto",itemCount:"{{count}} items",listName:"List Name",listNameRequired:"List Name *",description:"Description",path:"Path",itemList:"Item List (one per line) *",itemListCount:"Item List ({{count}} items)",pathOptions:"Path Options:",checkpointsFullPath:"checkpoints - Include full path",unetFullPath:"unet - Include full path",upscaleModelsFullPath:"upscale_models - Include full path"},dialog:{viewTitle:"View List (Read Only)",createTitle:"Add New Custom List",editTitle:"Edit Custom List",comfyUITitle:"Load ComfyUI Models"},messages:{noAutoCollected:'No auto-collected lists. Use "Load ComfyUI Models" button to scan models.',noManual:'No manually created lists. Use "Add New List" button to create a list.',minItemError:"Please enter at least 1 item.",deleteConfirm:"Are you sure you want to delete this list?",selectFolderError:"Please select a model folder.",autoCollectedReadOnly:"Auto-collected items cannot be edited. You can only view the content.",selectComfyUIFolder:"Please select the ComfyUI models folder.",foldersDetected:"Model files detected in {{count}} folder(s):",fileCount:"{{count}} files",moreCount:"...and {{count}} more folders",collecting:"Collecting...",pathExample:"e.g., {{example}}",scanInfo:`Scan Information:
 Automatically collects checkpoints, unet, and upscale_models folders
 Rescanning the same folder will update the items
 Auto-collected items can be viewed in the "Auto-Collected" tab`},placeholders:{itemList:`Example:
SDXL 1.0
SD 1.5
Realistic Vision
DreamShaper`},helperText:{itemList:"Enter each item separated by a line break"}},exe={page:Xye,tabs:Qye,nai:Zye,customDropdown:Jye},txe="Generation History",nxe="{{count}} items",axe="No generation history",ixe="Loading...",rxe="Loading more history...",oxe="All history loaded",sxe="No generation history",lxe="History will appear when you start generating images",cxe="Are you sure you want to delete this generation history?",uxe="Failed to delete",dxe={pending:"Pending",processing:"Processing",completed:"Completed",failed:"Failed"},fxe={comfyui:"ComfyUI",novelai:"NovelAI"},hxe={regenerate:"Regenerate",delete:"Delete",refresh:"Refresh",confirmDelete:"Are you sure you want to delete this generation history?"},pxe="Failed to cleanup",mxe="Cleanup Failed Items",gxe="Are you sure you want to delete {{count}} failed generation histories?",bxe="Only database records will be deleted, files will be kept.",yxe="Cleanup",xxe="Cleaning...",vxe="{{count}} failed items have been deleted",Sxe="No failed items to clean up",Cxe="Failed to bulk delete",wxe="Delete Selected ({{count}})",_xe={title:"Delete Selected Items",confirm:"Are you sure you want to delete {{count}} history items?",warning:"This action cannot be undone."},Txe={title:"Generation History Details",status:"Status",service:"Service",positivePrompt:"Positive Prompt",negativePrompt:"Negative Prompt",size:"Size",model:"Model",sampler:"Sampler",steps:"Steps",cfgScale:"CFG Scale",seed:"Seed",error:"Error",createdAt:"Created At",completedAt:"Completed At"},Exe={title:txe,count:nxe,empty:axe,loading:ixe,loadingMore:rxe,allLoaded:oxe,noHistory:sxe,noHistoryDescription:lxe,deleteConfirm:cxe,deleteFailed:uxe,status:dxe,service:fxe,actions:hxe,cleanupFailed:pxe,cleanupFailedTitle:mxe,cleanupFailedConfirm:gxe,cleanupFailedNote:bxe,cleanup:yxe,cleaning:xxe,cleanupSuccess:vxe,noFailedRecords:Sxe,bulkDeleteFailed:Cxe,deleteSelected:wxe,deleteDialog:_xe,detail:Txe},Axe={title:"Server Management",listTitle:"ComfyUI Server List",addButton:"Add Server",noServers:"No servers registered",noServersDesc:'Click "Add Server" button to add a ComfyUI server'},Rxe={active:"Active",inactive:"Inactive",priority:"Priority: {{priority}}",concurrent:"Concurrent: {{count}}",connectionSuccess:"Connection successful",connectionFailed:"Connection failed",testConnection:"Test Connection"},kxe={addTitle:"Add Server",editTitle:"Edit Server",serverName:"Server Name",endpointUrl:"Endpoint URL",endpointPlaceholder:"http://127.0.0.1:8188",description:"Description",priority:"Priority",priorityHelper:"Higher values are used first",maxConcurrent:"Max Concurrent Jobs",activate:"Activate",cancel:"Cancel",add:"Add",update:"Update"},Ixe={connected:"Connected",disconnected:"Disconnected",testing:"Testing",error:"Error",responseTime:"Response time: {{time}}ms"},Nxe={test:"Test Connection",edit:"Edit",delete:"Delete",confirmDelete:"Are you sure you want to delete this server?"},jxe={page:Axe,card:Rxe,dialog:kxe,status:Ixe,actions:Nxe},Dxe={network:"Network connection error. Please check your internet connection.",timeout:"Request timeout. Please try again.",unauthorized:"Authentication required. Please log in again.",forbidden:"Access denied. You don't have permission to perform this action.",notFound:"The requested resource was not found.",serverError:"Server error occurred. Please try again later.",badRequest:"Invalid request. Please check your input.",unknown:"An unexpected error occurred. Please try again."},Oxe={fileTooLarge:"File size is too large. Maximum file size is 50MB.",invalidFileType:"Invalid file type. Only images and videos are allowed.",uploadFailed:"Upload failed. Please try again.",multipleUploadFailed:"Some files failed to upload.",fileCountLimit:"File count limit exceeded.",processingFailed:"File processing failed.",noFilesSelected:"No files selected. Please select files to upload."},Mxe={loadFailed:"Failed to load image.",deleteFailed:"Failed to delete image.",multipleDeleteFailed:"{{count}} images failed to delete.",downloadFailed:"Failed to download image.",notFound:"Image not found.",metadataExtractionFailed:"Failed to extract image metadata."},Pxe={loadFailed:"Failed to load groups.",createFailed:"Failed to create group.",updateFailed:"Failed to update group.",deleteFailed:"Failed to delete group.",assignFailed:"Failed to assign to group.",removeFailed:"Failed to remove from group.",autoCollectFailed:"Auto-collection failed.",notFound:"Group not found."},Lxe={loadFailed:"Failed to load prompts.",deleteFailed:"Failed to delete prompt.",assignFailed:"Failed to assign prompt to group.",synonymFailed:"Failed to set synonyms.",notFound:"Prompt not found."},zxe={failed:"Search failed. Please try again.",invalidQuery:"Invalid search query.",noResults:"No results found."},Fxe={required:"This field is required.",invalid:"Invalid input.",tooShort:"Input is too short.",tooLong:"Input is too long."},Bxe={api:Dxe,upload:Oxe,image:Mxe,group:Pxe,prompt:Lxe,search:zxe,validation:Fxe},Hxe={field:"This field is required",name:"Name is required",description:"Description is required",file:"Please select a file",image:"Please select an image",group:"Please select a group"},$xe={invalid:"Invalid format",email:"Invalid email format",url:"Invalid URL format",number:"Must be a number",integer:"Must be an integer"},Uxe={min:"Minimum length is {{min}} characters",max:"Maximum length is {{max}} characters",exact:"Must be exactly {{length}} characters",between:"Length must be between {{min}} and {{max}} characters"},Gxe={fileSize:"File size must not exceed {{max}}",imageSize:"Image dimensions must not exceed {{width}}{{height}}",fileTooLarge:"File is too large (max: {{max}})",fileTooSmall:"File is too small (min: {{min}})"},qxe={min:"Value must be at least {{min}}",max:"Value must not exceed {{max}}",between:"Value must be between {{min}} and {{max}}"},Wxe={invalid:"Invalid file type",imageOnly:"Only image files are allowed",videoOnly:"Only video files are allowed",imageOrVideo:"Only images and videos are allowed",allowedTypes:"Allowed types: {{types}}"},Vxe={exists:"Already exists",name:"Name already exists",value:"Value already exists"},Yxe={required:Hxe,format:$xe,length:Uxe,size:Gxe,range:qxe,fileType:Wxe,duplicate:Vxe},Kxe={title:"Wildcard Management",noWildcards:"No wildcards registered",noWildcardsDesc:"Add new wildcards to automate prompt generation"},Xxe={all:"All",both:"Both"},Qxe={add:"Add Wildcard",addItem:"Add Item",preview:"Preview",confirmDelete:"Are you sure you want to delete the '{{name}}' wildcard?",copiedToClipboard:"Copied to clipboard",copyFailed:"Failed to copy"},Zxe={openScanDialog:"Scan LORA",openLogDialog:"Last Scan Log"},Jxe={items:"{{count}} items",itemsCount:" items",moreItems:"and {{count}} more"},eve={createTitle:"Create Wildcard",editTitle:"Edit Wildcard"},tve={name:"Name",nameHelper:"Enter name without ++ (e.g. flower, color)",description:"Description (optional)",parent:"Parent Wildcard",parentHelper:"Select a parent wildcard to create a hierarchy",noParent:"None (Root Level)",includeChildren:"Automatically Include Child Wildcards",includeChildrenHelper:"When enabled, using this wildcard will automatically include items from direct children",comfyuiItems:"ComfyUI Prompt Items",naiItems:"NovelAI Prompt Items",itemsHelper:"Each item can contain comma-separated words. You can nest other wildcards using ++name++ format.",itemPlaceholder:"e.g. rose, red, thorns or wilted, ++flower++"},nve={title:"Wildcard Preview",inputLabel:"Test Prompt",inputPlaceholder:"e.g. A garden with blooming ++flower++, ++color++ sky",generate:"Generate Results",results:"Parsing Results (5 random samples)",result:"Result {{number}}"},ave={nameRequired:"Wildcard name is required",itemsRequired:"At least one item is required",previewTextRequired:"Please enter a prompt to test",copyFailed:"Failed to copy"},ive={manual:"Manual Creation",autoCollected:"Auto-Collected (LORA)"},rve={children:"Sub-items",items:"Item List",selectItem:"Select an item from the left",moreItems:"More"},ove={title:"LORA Wildcard Auto-Generation",description:"Scan LORA folders to automatically generate wildcards",folderPath:"Select LORA Folder",folderPathHelper:"Specify ComfyUI loras folder or subfolder containing LORA files",loraWeight:"Default LORA Weight",loraWeightHelper:"Default weight value for generated wildcards (e.g., 1.0)",duplicateHandling:"Duplicate Name Handling",duplicateNumber:"Number suffix (style, style_2)",duplicateParent:"Include parent folder (anime_style, realistic_style)",matchingMode:"Text File Matching Mode",matchingModeFilename:"Filename Matching (lora.txt)",matchingModeCommon:"Use Common Text File",commonTextFilename:"Common Text Filename",commonTextFilenameHelper:"Common text filename to use within folders (e.g., add.txt, common.txt)",matchingPriority:"Matching Priority",priorityFilename:"Filename Matching First (fallback to common text)",priorityCommon:"Common Text First (fallback to filename matching)",scanButton:"Scan LORA Folder",scanning:"Scanning...",lastScan:"Last Scan",noScanYet:"No scan has been performed yet",tierLabel:"Tier {{tier}}",filesSelected:"{{count}} LORA files selected",filesFound:"Found <strong>{{count}} LORA files</strong>:",promptsCount:"{{count}} prompts",moreFiles:"...and {{count}} more files",childCount:"{{count}} children",noItems:"No items",filters:{tierFilter:"Tier Filter",wildcardSearch:"Wildcard Search",searchPlaceholder:"Search...",clearFilters:"Clear Filters",totalWildcards:"Total <strong>{{count}}</strong> wildcards",filteredCount:"(Filtered: <strong>{{count}}</strong>)",noResults:"No results found",tryDifferentFilters:"Try different search terms or filters"},scanLog:{title:"Scan Log",timestamp:"Scan Time",folderPath:"Scan Path",totalWildcards:"Generated Wildcards",totalItems:"Total Items",details:"Details",wildcardName:"Wildcard Name",itemCount:"Item Count"},noAutoWildcards:"No auto-collected wildcards",noAutoWildcardsDesc:"Scan a LORA folder to generate wildcards",autoCollectedBadge:"Auto",viewDetail:"View Details",errors:{folderPathRequired:"LORA folder path is required",invalidWeight:"Please enter a valid weight value (0.1 ~ 2.0)",scanFailed:"Scan failed: {{error}}"}},sve={title:"LORA Wildcard Auto-Generation",infoMessage:"Please select ComfyUI's loras folder or a folder containing LORA files.",scanButton:"Collect LORA",warningTitle:"Scan Information:",warning1:"Automatically collects .safetensors files",warning2:"Re-scanning the same folder will update the items",warning3:"Auto-collected items can be found in this tab"},lve={title:"Last LORA Scan Log"},cve={title:"View List (Read-Only)",readOnlyInfo:"Auto-collected items cannot be edited. You can only view the contents.",name:"List Name",description:"Description",path:"Path",itemList:"Item List ({{count}} items)"},uve={hint:"Type ++ to show wildcard list",manualTab:"Manual",autoTab:"Auto (LORA)",noResults:"No results",selectTier:"Select a tier",root:"Root"},dve={title:"Confirm Wildcard Deletion",message:"Are you sure you want to delete '{{name}}' wildcard?",childrenNotice:"This wildcard has child wildcards.",wildcardInfo:{itemCount:"Items: {{count}}",childCount:"Child wildcards: {{count}}"},warning:{permanent:"This action cannot be undone."},options:{title:"Choose deletion option:",moveUp:{label:"Delete this item only",description:"Child wildcards will move one level up"},cascade:{label:"Delete with children",description:"{{count}} child wildcard(s) will also be deleted"}}},fve={deleteSuccess:"Wildcard deleted successfully",deleteFailed:"Failed to delete wildcard"},hve={page:Kxe,filters:Xxe,actions:Qxe,buttons:Zxe,card:Jxe,dialog:eve,form:tve,preview:nve,errors:ave,tabs:ive,detail:rve,autoCollect:ove,scanDialog:sve,logDialog:lve,detailDialog:cve,autocomplete:uve,deleteConfirm:dve,messages:fve},pve={save:"",cancel:"",delete:"",edit:"",add:"",upload:"",download:"",search:"",filter:"",reset:"",confirm:"",close:"",back:"",next:"",previous:"",select:"",deselect:"",selectAll:"",deselectAll:"",apply:"",clear:""},mve={loading:"...",saving:"...",success:"",error:"",noData:"",confirmDelete:"",unsavedChanges:"",processing:"...",uploading:"...",downloading:"...",deleting:"..."},gve={name:"",description:"",date:"",status:"",type:"",size:"",created:"",updated:"",width:"",height:"",duration:"",resolution:""},bve={tooltips:{viewDetails:"",download:"",delete:"",select:""},badges:{auto:"",video:""},confirmDelete:{image:"",video:""}},yve={selectedCount:"{{count}}",selectedCountImages:"{{count}}",tooltips:{download:"",addToGroup:"",delete:"",clearSelection:"",batchTag:""},confirmDelete:{mixed:"{{count}}/",images:"{{count}}",videos:"{{count}}",files:"{{count}}"},confirmBatchTag:"{{count}}",batchTagSuccess:"{{count}}",batchTagError:""},xve={perPage:"",items:"",page:"",of:"/",showing:"{{total}}{{from}}-{{to}}",goToPage:"",rowsPerPage:""},vve={loading:"",error:"",empty:"",success:"",pending:"",completed:"",failed:""},Sve={view:"",download:"",delete:"",edit:"",create:"",update:"",cancel:"",confirm:"",retry:"",refresh:""},Cve={title:{add:"",edit:""},groupTypes:{label:"",exclude:"",or:"OR",and:"AND"},categories:{label:"",positive_prompt:"",negative_prompt:"",auto_tag:"",basic:""},conditionSettings:{label:"",conditionType:"",value:"",valuePlaceholder:""},conditionTypes:{prompt_contains:"",prompt_regex:"",negative_prompt_contains:"",negative_prompt_regex:"",auto_tag_exists:"",auto_tag_has_character:"",auto_tag_rating:"Rating",auto_tag_rating_score:"Rating",auto_tag_general:"General",auto_tag_character:"Character",auto_tag_model:"",ai_tool:"AI",model_name:""},fields:{exists:"",notExists:"",ratingType:"Rating",scoreRange:": {{min}} ~ {{max}}",weightRange:": {{min}} ~ {{max}}",tagOrCharacter:"/",tagPlaceholder:": 1girl, hatsune_miku"},ratingTypes:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"}},wve={groupTypes:{exclude:{label:" (NOT)",labelShort:"",description:""},or:{label:"OR",labelShort:"OR",description:""},and:{label:"AND",labelShort:"AND",description:""}},categories:{positive_prompt:"",negative_prompt:"",auto_tag:"",basic:""},conditionTypes:{prompt_contains:"",prompt_regex:"",negative_prompt_contains:"",negative_prompt_regex:"",auto_tag_exists:"",auto_tag_has_character:"",auto_tag_rating:"",auto_tag_rating_score:"",auto_tag_general:"",auto_tag_character:"",auto_tag_model:"",ai_tool:"AI",model_name:""},labels:{condition:"",conditionNumber:" #{{number}}",editCondition:" #{{number}} ",category:"",conditionType:"",value:"",score:"",scoreRange:": {{min}} ~ {{max}}",weightRange:": {{min}} ~ {{max}}",ratingType:"",tagCharacterName:"/",conditionsCount:"{{count}}"},buttons:{addCondition:""},messages:{noConditions:""},values:{exists:"",notExists:""},ratingTypes:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"}},_ve={title:"",canvasInfo:"",canvasSize:": {{width}} x {{height}} px",toolProperties:"",brushSize:": {{size}}px",brushColor:"",eraserSize:": {{size}}px",panHelp:"/"},Tve="",Eve="",Ave="",Rve="",kve="",Ive="",Nve="",jve="",Dve="",Ove={buttons:pve,messages:mve,labels:gve,imageCard:bve,bulkActions:yve,pagination:xve,states:vve,actions:Sve,filterModal:Cve,filterBuilder:wve,imageEditor:_ve,clickToCopy:Tve,thumbnail:Eve,original:Ave,video:Rve,none:kve,enabled:Ive,disabled:Nve,save:jve,refresh:Dve},Mve="",Pve="ComfyUI Image Manager",Lve={general:"",tagger:"Tagger",rating:"",similarity:"",prompts:"",advanced:"",metadata:"Metadata Extraction",folders:"Folder Management",account:"Account",externalApi:"API"},zve={title:"",language:{label:"",description:"",ko:"",en:"English",ja:"","zh-CN":"","zh-TW":""},gallery:{label:"",tooltip:""},canvasCleanup:{label:"Canvas",tooltip:"Canvas"},deleteProtection:{title:"Delete File Protection",description:"Store deleted files in RecycleBin folder for recovery",enabled:{label:"Store deleted files in RecycleBin",description:"When enabled, deleted files are backed up to RecycleBin folder instead of being permanently removed."},info:"RecycleBin folder is created in the project root. Deleted files are stored with timestamps. You can manually copy files from RecycleBin if recovery is needed."},metadata:{title:"Metadata Extraction Optimization",scanMode:{title:"Stealth PNG Scan Mode",fast:{label:"Fast (Recommended)",description:"Quick signature scan - checks first 200 pixels then exits early"},full:{label:"Full",description:"Full file scan - checks all pixels (slow)"},skip:{label:"Skip",description:"Skip scanning - disables secondary extraction"}},limits:{title:"File Size and Resolution Limits",fileSize:{label:"Max File Size (MB)",helper:"Files larger than this will skip Stealth PNG scanning"},resolution:{label:"Max Resolution (Megapixels)",helper:"Images larger than this will skip Stealth PNG scanning"}},skipSettings:{title:"AI Tool Skip Settings",description:"Automatically skip Stealth PNG scanning for specific AI tool images.",comfyui:{label:"Skip ComfyUI images (Recommended)",description:"ComfyUI doesn't use Stealth PNG, scanning unnecessary"},webui:{label:"Skip WebUI images",description:"WebUI may use Stealth PNG, enable only if needed"}},secondary:{label:"Enable secondary extraction",description:"Retry with Stealth PNG method if primary extraction fails."},performanceNote:" Tip: Default settings (Fast + ComfyUI skip) provide optimal performance for most cases. ComfyUI image processing time reduced from 2682ms  4ms!"},thumbnail:{title:"Thumbnail Settings",description:"Configure the size and quality used when generating thumbnails",saveFailed:"Failed to save thumbnail settings",size:{label:"Thumbnail Size",selectLabel:"Thumbnail Size",original:"Same as original",default:"1080px (default)"},quality:{label:"Thumbnail Quality",helperText:"Higher quality increases file size (60-100%)"},regenerate:{button:"Regenerate Thumbnails",description:"Regenerate thumbnails for all images with current settings"}}},Fve={title:"WD Tagger",description:"AI",enabled:"Tagger",autoTagOnUpload:"",model:{label:"",loading:"...",downloaded:"",vit:{label:"ViT (Vision Transformer)",description:" - "},swinv2:{label:"SwinV2 (Swin Transformer V2)",description:" - "},convnext:{label:"ConvNeXt",description:" - "}},device:{label:"",auto:{title:" (Auto)",description:"GPUGPUCPU"},cpu:{title:"CPU",description:"CPU"},cuda:{title:"GPU (CUDA)",description:"NVIDIA GPUGPU"}},modelStatus:{title:"",loaded:"",unloaded:"",lastUsed:"",justNow:"",minutesAgo:"{{minutes}}",hoursAgo:"{{hours}}",daysAgo:"{{days}}",none:""},buttons:{load:"",unload:"",refresh:"",download:"",downloading:"...",refreshStatus:"",checkDependencies:"Python",checking:"Python...",save:"",cancel:""},alerts:{modelDownloaded:"{{model}}",modelNotDownloaded:"{{model}}",modelLoaded:"",modelUnloaded:"",loadFailed:"",unloadFailed:"",saveFailed:"",dependencyCheckFailed:""},threshold:{general:{label:": {{value}}",description:""},character:{label:": {{value}}",description:""}},pythonPath:{label:"Python",helper:"Python: python, python3, C:\\Python39\\python.exe"},memoryManagement:{title:"",description:"",keepModelLoaded:"",autoUnloadMinutes:": {{minutes}}",autoUnloadDescription:"",keepLoadedAlert:"",notKeepLoadedAlert:""},batch:{title:"",description:"",untaggedCount:": {{count}}",progress:": {{current}} / {{total}}",buttons:{tagUnprocessed:"100",tagAll:"100",processing:"..."},alerts:{complete:": {{success}}{{failed}}",failed:"",tagAllFailed:""},confirmDialog:{title:"",message:`
100`,confirm:"",cancel:""}},test:{title:"",description:"",imageId:"ID",placeholder:": 123",button:"",processing:"...",result:":",failed:"",invalidId:"ID",imageHash:"Image Hash",placeholderHash:"e.g., abc123def456..."},enableAutoTagging:"Enable Auto-Tagging"},Bve={title:"",description:"",weights:{title:"",description:"",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",preview:{title:": general=0.001, sensitive=0.045, questionable=0.735, explicit=0.470",score:": <strong>{{score}}</strong>"},buttons:{save:"",cancel:"",saving:"..."},alerts:{saveSuccess:"",saveFailed:"",loadFailed:""}},tiers:{title:"",description:"",addButton:"",table:{order:"",name:"",scoreRange:"",color:"",actions:"",empty:"",scoreFormat:"{{min}} ~ {{max}}",infinity:""},dialog:{createTitle:"",editTitle:"",tierName:"",minScore:"",maxScore:" = ",order:"",color:" (Hex)",colorPlaceholder:"#2196f3",colorHelper:": #22c55e, #3b82f6, #f59e0b, #ef4444",save:"",cancel:"",saving:"...",requiredFields:""},alerts:{created:"",updated:"",deleted:"",saveFailed:"",deleteFailed:"",loadFailed:"",deleteConfirm:""}},calculator:{title:"",description:"",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",calculate:"",calculating:"...",result:{title:"",score:": <strong>{{score}}</strong>",breakdown:":",generalScore:"General: {{score}}",sensitiveScore:"Sensitive: {{score}}",questionableScore:"Questionable: {{score}}",explicitScore:"Explicit: {{score}}"},failed:""},recalculation:{title:"",description:"rating_scoreauto_tags",buttons:{recalculate:"",processing:"..."},progress:"... {{current}}/{{total}}",success:": {{total}}{{success}}{{failed}}",failed:"",confirmDialog:{title:"",message:"rating_score",confirm:"",cancel:""}}},Hve={title:"",description:"",systemStatus:{title:"",description:"",totalImages:": {{count}}",withHash:": {{count}}",withoutHash:": {{count}}",completion:": {{percent}}%",autoGenerateHash:"",rebuildButton:"{{count}}",rebuildingButton:"...",refreshButton:"",rebuildProgress:"... {{processed}}/{{total}}{{percent}}%",allComplete:"",rebuildComplete:": {{processed}}",rebuildCompleteWithErrors:": {{success}}{{failed}}",rebuildFailed:"",noImagesToProcess:"",autoGenerateUpdateFailed:""},test:{title:" & ",description:"",imageId:"ID",placeholder:": 123",searchType:"",types:{duplicates:"",similar:"",color:""},searchButton:"",searching:"...",queryImage:"",results:": {{count}}",noResults:"",searchFailed:"",imageDetails:{id:"ID:",filename:":",size:":",aiTool:"AI:"},matchTypes:{exact:"",nearDuplicate:"",similar:"",colorSimilar:""},similarity:"{{percent}}%",colorSimilarity:": {{percent}}%",hashStatus:"",rebuild:{button:"{{count}}",rebuilding:"...",success:": {{processed}}{{failed}}{{remaining}}",error:": {{error}}"},imageHash:"Image Hash",placeholderHash:"e.g., abc123def456...",compositeHash:"Image Hash",hashHelperText:"Enter the image's composite_hash",button:"Run Test",processing:"Processing...",result:"Tagging Result:",failed:"Test failed"},duplicateScan:{title:"",description:"",scanButton:"",scanning:"...",foundGroups:": {{count}}",groupLabel:"{{id}}  {{count}}",similarityLabel:"{{percent}}%",moreImages:"+{{count}}",noResults:"",id:"ID: {{id}}",selectAll:"Select All",deselectAll:"Deselect All",keepOne:"Keep 1",keepOneDelete:"Keep first image and select rest for deletion",deleteSelected:"Delete {{count}} Selected",deleteConfirmTitle:"Confirm Image Deletion",deleteConfirmMessage:"Are you sure you want to delete {{count}} selected images?",deleteWarning:"Deleted images cannot be recovered!",cancel:"Cancel",confirmDelete:"Delete",deleting:"Deleting...",deleteSuccess:"{{count}} images deleted successfully.",deletePartialSuccess:"{{success}} succeeded, {{failed}} failed",deleteFailed:"Failed to delete images."},thresholds:{title:"",description:"",duplicate:{label:": {{value}}",description:"0=5=10=",strict:"0",recommended:"5",lenient:"10"},similar:{label:": {{value}}",description:"",strict:"5",recommended:"15",lenient:"25"},color:{label:": {{value}}%",description:"",min:"70%",recommended:"85%",max:"100%"},searchLimit:{label:"",options:{10:"10",20:"20",50:"50",100:"100"}},localStorageNote:""},autoGenerateHash:"Auto-generate Hash on Upload",hashPlaceholder:"e.g., a1b2c3d4e5f6..."},$ve={saveSuccess:"",saveFailed:"",loadFailed:""},Uve={title:"",sections:{currentStatus:""},stats:{totalFiles:":",withThumbnail:":",withoutThumbnail:":"},phases:{verifying:"...",deleting:"...",generating:"...",completed:"",waiting:""},time:{seconds:"{{elapsed}}",minutesSeconds:"{{minutes}}{{seconds}}"},status:{completed:"",inProgress:""},progress:{deletedThumbnails:":",generatedThumbnails:":",elapsedTime:":"},messages:{success:"",loadStatsFailed:"",alreadyRunning:"",startFailed:""},instructions:{title:":",step1:"1. ",step2:"2. ",step3:"3. ",warning:":",warningText:""},buttons:{close:"",start:"",starting:"...",inProgress:"..."}},Gve={title:"",subtitle:"",scheduler:{title:"",backgroundHash:{title:"",tooltip:"Phase 2",intervalLabel:"",intervalTooltip:"5-300",saveButton:"",savingButton:"...",errorRange:"5-300",errorSave:""},autoTagger:{title:"",tooltip:"",pollingIntervalLabel:"",pollingIntervalTooltip:"5-300",batchSizeLabel:"",batchSizeTooltip:"1-100",saveButton:"",savingButton:"...",errorPollingRange:"5-300",errorBatchRange:"1-100",errorSave:""}},watchedFolders:{title:"",addFolder:"",refresh:"",viewAllLogs:"",scanAll:"",scanning:"...",noName:"",active:"",inactive:"",autoScanInterval:"{{interval}}",scanStatus:"",lastScan:": {{date}}",noScanHistory:"",watcherStatus:{starting:"...",watching:"",error:"",stopped:"",inactive:""},tooltips:{scan:"",log:"",edit:"",delete:"",watcherStart:"",watcherStop:"",processing:"..."},messages:{loadFailed:"",deleteFailed:"",deleteConfirm:"{{name}}",scanFailed:"",scanAllFailed:"",scanAllComplete:": {{totalFolders}}{{totalNew}}{{totalExisting}}{{errors}}",scanAllErrors:"{{totalErrors}}",watcherStartFailed:"",watcherStopFailed:""}},dialog:{addTitle:"",editTitle:"",folderPath:" *",folderPathDisabled:"",folderPathHelper:": D:\\Images  \\\\192.168.1.100\\Share\\Images",folderName:"",folderNameHelper:"",watcherEnabled:"",watcherTooltip:"//",pollingInterval:"",pollingIntervalTooltip:": 1000ms",pollingIntervalLabel:"",pollingIntervalPlaceholder:": 1000ms",pollingIntervalHelper:": 500-3000ms",autoScan:"",scanInterval:"",scanIntervalHelper:"",advancedOptions:"",recursive:"",excludeExtensions:"",excludeExtensionsTooltip:".jpg, .png, .webp, .gif, .bmp, .tiff",excludeExtensionsPlaceholder:".tmp",excludePatterns:"",excludePatternsTooltip:": node_modules, .git, temp",excludePatternsPlaceholder:": node_modules, .git",addButton:"",saveButton:"",savingButton:"...",cancelButton:"",errorPath:"",errorSave:""},scanLog:{title:"",titleSpecific:"",titleAll:"",noLogs:"",loadFailed:"",refresh:"",close:"",columns:{scanTime:"",folder:"",status:"",scanned:"",new:"",existing:"",errors:"",duration:"",details:""},status:{success:"",error:""},errorDetails:"{{count}}",durationSeconds:"{{seconds}}"},verificationLog:{title:"",noLogs:"",loadFailed:"",refresh:"",close:"",columns:{verificationTime:"",verificationType:"",checked:"",missingFound:"",deletedRecords:"",errors:"",duration:""},verificationType:{auto:"",manual:""},errorDetails:"{{count}}",errorItem:{fileId:"ID: {{id}}",path:": {{path}}",error:": {{error}}"},noErrors:"",countFormat:"{{count}}",durationMs:"{{ms}}ms",durationSeconds:"{{seconds}}"}},qve={title:"Thumbnail Settings",description:"Configure size and quality used for thumbnail generation",saveFailed:"Failed to save thumbnail settings",size:{label:"Thumbnail Size",selectLabel:"Thumbnail Size",original:"Same as original size",default:"1080px (default)"},quality:{label:"Thumbnail Quality",helperText:"Higher quality increases file size (60-100%)"},regenerate:{button:"Regenerate Thumbnails",description:"Regenerate all image thumbnails with current settings"}},Wve={title:"Background Task Monitoring",loadFailed:"Failed to load background task status",confirmReset:"Reset background queue? All pending tasks will be cancelled.",resetFailed:"Failed to reset queue",resetQueue:"Reset Queue",autoTagFailed:"Failed to trigger auto-tagging",confirmHashGen:"Generate hash for {{count}} images?",hashGenComplete:"Hash generation complete: {{processed}} succeeded, {{failed}} failed",hashGenFailed:"Failed to regenerate hashes",confirmVerify:"Verify {{count}} files?\\nThis may take time if there are many files.",verifyFailed:"Failed to run file verification",verifyIntervalError:"Verification interval must be between 300-86400 seconds",verifySaveFailed:"Failed to save file verification settings",autoUpdate:"Auto-updates every 5 seconds.",autoUpdateDisabled:"Auto-update is disabled.",queue:{title:"Background Queue",pending:"Pending: {{count}}",processing:"Processing",waiting:"Waiting"},tasks:{metadata:"Metadata Extraction",promptCollection:"Prompt Collection",pendingCount:"{{count}} pending"},autoTag:{title:"Auto-Tagging Scheduler",manualTrigger:"Manual Run",running:"Running",stopped:"Stopped",untaggedCount:"Untagged images: {{count}}",pollingInterval:"Polling interval: {{seconds}}s",batchSize:"Batch size: {{size}}"},hash:{title:"Media Hash Status",generate:"Generate Hash",total:"Total: {{count}}",completed:"Hash generated: {{count}}",pending:"Not generated: {{count}}",completion:"Completion: {{percent}}%"},verify:{title:"File Verification Status",viewLogs:"View Logs",run:"Run Verification",progress:"File verification in progress: {{checked}}/{{total}}",missing:"Missing: {{count}}",totalFiles:"Total files: {{count}}",missingFiles:"Missing files: {{count}}",lastVerification:"Last verification: {{date}}",schedulerTitle:"Verification Scheduler Settings",intervalLabel:"Verification Interval (seconds)",intervalHelper:"300-86400 seconds (5 min - 24 hours)",intervalTooltip:"May cause time consumption and system load if there are many files"}},Vve={forgotAccount:{title:"Forgot your account?",description:"If you forgot your password, you can recover your account using the following method.",methodTitle:"Recovery Method:",step1:"Stop the server",step2:"Delete the file below",step3:"Restart the server",step4:"Set up a new account",fileToDelete:"File to delete:",warning:" Warning: Deleting this file will invalidate all sessions and require re-login.",warningNote:"Other data such as workflows and settings will not be affected."},setup:{title:"Setup Authentication",description:"Configure username and password to protect your image manager from unauthorized access. Once set, you will need to login to access the application.",username:"Username",password:"Password",confirmPassword:"Confirm Password",button:"Setup Authentication",success:"Authentication configured successfully! You will need to login on your next visit.",errors:{required:"Username and password are required",mismatch:"Passwords do not match",failed:"Failed to setup authentication"}},update:{title:"Change Credentials",description:"Changing your credentials will require you to login again with the new credentials.",currentPassword:"Current Password",newUsername:"New Username",newPassword:"New Password",confirmNewPassword:"Confirm New Password",button:"Update Credentials",success:"Credentials updated successfully!",errors:{required:"All fields are required",mismatch:"New passwords do not match",failed:"Failed to update credentials"}}},Yve={save:"",cancel:"",delete:"",create:"",enabled:"",disabled:""},Kve={title:"Civitai",description:"Civitai",settings:{title:"",enableIntegration:"Civitai",enableDescription:"Civitai",apiInterval:"API: {{interval}}",apiIntervalDescription:"API2"},statistics:{title:"",refresh:"",totalLookups:"",successful:"",failed:"",successRate:"",lastApiCall:"API",never:"",recheckFailed:"",resetStats:""},rescan:{title:"",description:"CivitaiCivitai",processing:": {{processed}}/{{total}}",added:": {{count}}",startButton:"",starting:"...",enableRequired:"Civitai"},cachedModels:{title:" ({{count}})",clearCache:"",modelName:"",type:"",hash:"",cachedAt:"",empty:"",unknown:""},dialogs:{clearCache:{title:"",message:"Civitai",confirm:""},resetStats:{title:"",message:"",confirm:""},cancel:""},upload:{title:"Civitai",description:"Civitai",selectedImage:"",methodLabel:"",downloadMethod:"",intentMethod:"",downloadTooltip:"Civitai",intentTooltip:"URL",downloadDescription:"Civitai",intentDescription:"URLCivitai",downloadSuccess:"Civitai...",downloadError:"",downloadButtonTooltip:"Civitai",intentButtonTooltip:"URLCivitai",downloadAndOpen:"Civitai",postTitle:"",postTitlePlaceholder:"",postDescription:"",postDescriptionPlaceholder:"",tags:"",tagsPlaceholder:"",includeMetadata:"",includeMetadataDescription:"AI",uploadButton:"",uploading:"...",submit:"",openInCivitai:"Civitai",success:"Intent URLCivitai",error:"",disabled:"Civitai"},errors:{loadFailed:"Civitai",updateFailed:"",resetFailed:"",clearFailed:"",rescanFailed:""},success:{enabled:"Civitai",disabled:"Civitai",statsReset:"",cacheCleared:"",rescanStarted:"{{total}}",rescanCompleted:"{{added}}"}},Xve={title:"API",description:"CivitaiAPI",currentApiKey:"API",currentApiKeyHelper:"",newApiKey:"API",newApiKeyPlaceholder:"API",baseUrl:"URL",baseUrlHelper:"APIURL",testConnection:"",addProvider:"",addProviderDescription:"API",providerName:"",providerNameHelper:"_-openaistability",providerDisplayName:"",deleteConfirmTitle:"",deleteConfirmMessage:"{{provider}}",success:{saved:"API",deleted:"",created:"",connectionTest:"",toggled:"{{state}}"},errors:{loadFailed:"",saveFailed:"",deleteFailed:"",createFailed:"",connectionTestFailed:"",nameRequired:"",toggleFailed:""}},Qve={title:Mve,subtitle:Pve,tabs:Lve,general:zve,tagger:Fve,rating:Bve,similarity:Hve,messages:$ve,thumbnailRegeneration:Uve,folderSettings:Gve,thumbnail:qve,background:Wve,auth:Vve,common:Yve,civitai:Kve,externalApi:Xve},Zve={title:"ComfyUI Image Manager",menu:{home:"",gallery:"",imageGroups:"",search:"",upload:"",imageGeneration:"",settings:"",help:""},tooltip:{home:"",gallery:"",imageGroups:"",search:"",upload:"",imageGeneration:"AI",settings:"",help:""},theme:{light:"",dark:"",toggle:""},mobileMenu:{open:"",close:""}},Jve={copyright:" 2024 ComfyUI Image Manager. All rights reserved.",version:""},e2e={title:"",sections:{gettingStarted:"",imageManagement:"",autoCollection:"",promptSystem:"",settings:"",shortcuts:""}},t2e={header:Zve,footer:Jve,help:e2e},n2e={title:"",description:""},a2e={aiTool:"AI",sortBy:"",sortOrder:"",all:"",clearFilters:""},i2e={uploadDate:"",filename:"",fileSize:"",width:"",height:"",ascending:"",descending:""},r2e={refresh:"",selectAll:"",deselectAll:""},o2e={loading:"...",noImages:"",error:""},s2e={aiToolLabel:"AI: {{tool}}"},l2e="Select All ({{selected}}/{{total}})",c2e="Total {{count}} images",u2e={title:"Image Grid"},d2e={toggleMode:"Deactivate Selection Mode",activateMode:"Activate Selection Mode",selectedImages:"Selected Images:",selectAll:"Select All",deselectAll:"Deselect All",selectAllWithCount:"Select All ({{selected}}/{{total}})",methods:{title:"Selection Methods:",click:"Click: Select/deselect individual",drag:"Drag: Select multiple images",shiftClick:"Shift + Click: Range select",ctrlClick:"Ctrl/Cmd + Click: Toggle select",ctrlA:"Ctrl/Cmd + A: Select all",esc:"ESC: Deselect"}},f2e={noImages:"No images",uploadPrompt:"Try uploading images.",uploadOrSearch:"Upload images or change search criteria."},h2e="Loading images...",p2e="All images loaded",m2e={page:n2e,filters:a2e,sorting:i2e,actions:r2e,status:o2e,chips:s2e,selectAllLabel:l2e,totalImages:c2e,imageGridModal:u2e,selection:d2e,emptyState:f2e,loading:h2e,allImagesLoaded:p2e},g2e={title:"",notFound:"",errorLoading:"",noIdProvided:"ID"},b2e={download:"",share:"",back:"",goToDetail:"",uploadToCivitai:"Civitai",delete:"",deleteConfirm:"",deleteSuccess:"",deleteError:""},y2e={fileInfo:"",imageInfo:"",videoInfo:"",aiInfo:"",promptInfo:"",groupInfo:"",fullMetadata:""},x2e={originalFilename:"",filename:"",size:"",fileSize:"",mimeType:"MIME",uploadDate:""},v2e={dimensions:"",dimensionsValue:"{{width}}  {{height}}"},S2e={duration:"",durationValue:"{{minutes}} {{seconds}}",fps:"",fpsValue:"{{fps}} fps",videoCodec:"",audioCodec:"",bitrate:"",bitrateValue:"{{bitrate}} Mbps"},C2e={tool:"AI",toolShort:"",model:"",lora:"LoRA",steps:"",cfgScale:"CFG Scale",cfgShort:"CFG",sampler:"",scheduler:"",seed:"",denoiseStrength:"",generationTime:"",generationTimeValue:"{{time}}",batchSize:"",batchIndex:""},w2e={autoType:"",manualType:"",groupLabel:"{{name}} ({{type}})"},_2e={controls:{zoomIn:"",zoomOut:"",rotateLeft:"",rotateRight:"",flipHorizontal:"",flipVertical:"",reset:"",info:"",close:""},navigation:{previous:" ()",next:" ()",random:" (Space)",currentPosition:"{{current}} / {{total}}"}},T2e={title:"Image Information"},E2e="Copy hash",A2e="Waiting for hash generation...",R2e="Hash copied",k2e="View Thumbnail (Fast Loading)",I2e="View Original (High Quality)",N2e="Original image not found. Showing thumbnail.",j2e={title:"Group: {{name}}",defaultTitle:"Group Images"},D2e={page:g2e,actions:b2e,sections:y2e,fileInfo:x2e,imageInfo:v2e,videoInfo:S2e,aiInfo:C2e,groupInfo:w2e,viewer:_2e,info:T2e,copyHash:E2e,hashGenerating:A2e,hashCopied:R2e,viewThumbnail:k2e,viewOriginal:I2e,originalNotFound:N2e,groupModal:j2e},O2e={title:"",description:"AI"},M2e={dragActive:"",dragInactive:"",supportedFormats:"JPGPNGGIFBMPWebPTIFF | MP4WebMMOVAVIMKV500MB",imageSupport:"",videoSupport:"",multipleSelection:"",divider:""},P2e={selectFiles:"",selectFolder:""},L2e={title:"",fileCount:"{{completed}}/{{total}}",summary:"{{total}} - {{success}}{{failed}}"},z2e={upload:"",metadata:"",thumbnail:"",autoCollect:"",autoTag:""},F2e={waiting:"",processing:"",complete:"",error:""},B2e={uploadComplete:"",uploadSuccess:"",uploadFailed:"",uploadError:"",multipleSuccess:"{{count}}",allFailed:"",partialSuccess:"{{success}}{{failed}}"},H2e={title:"Prompt Preview",description:"Select an image to instantly view AI metadata without uploading to server.",dragOrClick:"Drag or click to select an image",dropHere:"Drop file here",noUpload:"Images are analyzed in browser only, not uploaded to server",imagePreview:"Image Preview",aiTool:"AI Tool",positivePrompt:"Prompt",negativePrompt:"Negative Prompt",terms:"Extracted Terms",loraModels:"LoRA Models",parameters:"Generation Parameters",rawMetadata:"Raw Metadata (EXIF/PNG Chunks)",invalidFileType:"Only image files are allowed",extractionFailed:"Failed to extract metadata"},$2e={page:O2e,dropzone:M2e,buttons:P2e,progress:L2e,stages:z2e,status:F2e,messages:B2e,promptPreview:H2e},U2e={title:"",description:"",emptyTitle:"",emptyDescription:"",customGroupsTab:"Custom Groups",autoFolderGroupsTab:"Auto Folder Groups"},G2e={imageCount:"{{count}}",subgroupCount:"{{count}}",folderCount:"{{count}}",autoCollect:"",stats:"{{auto}} | {{manual}}"},q2e={viewImages:"",title:"{{name}} - ",description:"",folderDescription:""},W2e={edit:"",delete:"",runAutoCollection:""},V2e={basicInfo:"",autoCollect:""},Y2e={createTitle:"",editTitle:"",basicInfo:"",groupName:"",description:"",groupColor:"",autoCollectEnable:"",autoCollectDescription:"",orConditionInfo:"OR",orConditionExample:"'anime'+",conditionsTitle:"",addCondition:"",conditionType:"",conditionValue:"",emptyConditions:"",buttonCreate:"",buttonUpdate:"",buttonCancel:"",autoCollectDisabledHelp:"",filterApplied:"{{count}}:   OR  AND",addFiltersPrompt:"",filterHelpTooltip:"",parentGroup:"Parent Group",noParent:"None (Root Level)",selectParent:"Select Parent Group"},K2e={conditionNumber:"{{number}}",removeCondition:"",addFirstCondition:"",autoCollectDisabled:"",groups:{basic:"",prompt:"",autotag:"Auto Tag",duplicate:""},types:{aiTool:"AI",modelName:"",promptContains:"",promptRegex:"",negativePromptContains:"",negativePromptRegex:"",autoTagExists:"Auto Tag ",autoTagRating:"Auto Tag: Rating",autoTagRatingScore:"Auto Tag: Rating ",autoTagGeneral:"Auto Tag: General ",autoTagCharacter:"Auto Tag: ",autoTagHasCharacter:"Auto Tag: ",autoTagModel:"Auto Tag: ",duplicateExact:"",duplicateNear:"",duplicateSimilar:"",duplicateCustom:""},values:{exists:"",notExists:""},ratings:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"},fields:{value:"",ratingType:"Rating ",minScore:"",maxScore:"",tagName:"",characterName:"",caseSensitive:"",exactMatch:"",exactMatchHelp:"asdaasdasdf",weightedScore:"",maxWeightInfo:"200",confidenceRange:"0.01.0{{min}}{{max}}",confidenceInfo:" ",hammingThreshold:"",hammingThresholdHelp:"064",hammingInfo:" ",duplicateNote:" perceptual_hash"},duplicateInfo:{duplicate_exact:"  = 0",duplicate_near:"   5",duplicate_similar:"   15"},placeholders:{regex:"",modelName:"wd-v1-4-moat-tagger-v2",text:"",tagName:"",characterName:""}},X2e={nameRequired:"",conditionRequired:"1",valueRequired:"{{index}}",ratingTypeRequired:"{{index}}Rating",ratingScoreRequired:"{{index}}",minScoreInvalid:"{{index}}0",maxScoreInvalid:"{{index}}0",scoreRangeInvalid:"{{index}}",confidenceScoreRange:"{{index}}0.01.0",confidenceMaxScoreRange:"{{index}}0.01.0",confidenceMinMaxInvalid:"{{index}}",hammingThresholdRequired:"{{index}}",hammingThresholdRange:"{{index}}064"},Q2e={loadFailed:"",imageLoadFailed:"",deleteSuccess:"",deleteFailed:"",autoCollectSuccess:"{{added}}{{removed}}",autoCollectFailed:"",createSuccess:"",createFailed:"",updateSuccess:"",updateFailed:"",removeWarning:"",removeSuccess:"{{count}}",removePartialSuccess:"{{removed}}{{failed}}",removeError:"",assignSuccess:"{{added}}{{converted}}{{skipped}}",assignFailed:"",assignError:"",emptyGroup:""},Z2e={title:"{{name}}{{count}}",selectedCount:"{{count}}",buttonRemove:"",buttonAssign:"",infoMixedSelection:"",warningAutoOnly:"",confirmRemoveTitle:"",confirmRemoveMessage:"{{count}}",confirmRemoveNote:""},J2e={title:"",description:"{{count}}",currentGroup:"",emptyGroups:"",loadError:"",loadingError:"",buttonAssign:"",buttonCancel:""},eSe={groupList:"",root:"Root",childGroups:"{{count}} subgroups",openSubgroups:"Open Subgroups",backToParent:"Back to Parent",moveGroup:"Move Group",moveToRoot:"Move to Root",cannotMoveToSelf:"Cannot move to itself",cannotMoveToDescendant:"Cannot move to descendant group",maxDepthExceeded:"Maximum depth (5 levels) exceeded",circularReference:"Circular reference detected",hierarchyInvalid:"Invalid hierarchy structure"},tSe={title:"Confirm Group Deletion",message:"Are you sure you want to delete the group '{{name}}'?",groupInfo:{imageCount:"Associated images: {{count}}",childCount:"Subgroups: {{count}}"},warning:{imageAssociations:" All associations between this group and images will be removed. The image files themselves will not be deleted."},options:{title:"How to handle subgroups",orphan:{label:"Delete only this group (Recommended)",description:"Subgroups will be moved to root level."},cascade:{label:"Delete this group and all subgroups",description:"{{count}} subgroups will be deleted. This action cannot be undone."}}},nSe={menuTitle:"Download Options",scopeAll:"Download All",scopeSelected:"Selected {{count}} Only",typeThumbnail:"Images (Thumbnail)",typeOriginal:"Images (Original)",typeVideo:"Videos & Animations (Original)",confirmTitle:"Confirm Large Download",confirmMessage:"Download {{count}} files. Continue?",confirmButton:"Download"},aSe="Group",iSe="Auto-navigate to subgroup: {{from}}  {{to}}",rSe="Group created. Please refresh your browser.",oSe="Group updated. Please refresh your browser.",sSe={noGroups:"No groups created",noSubgroups:"No subgroups",createPrompt:"Press the + button to create a new group",noSubgroupsHelp:"Current group has no subgroups"},lSe={readOnlyMessage:"This is a read-only group. Changes must be made to the original file location.",rebuilding:"Rebuilding...",refresh:"",emptyState:{noGroups:"No auto folder groups",noSubfolders:"No subfolders",refreshPrompt:"Press the refresh button to create folder structure",noSubfoldersHelp:"Current folder has no subfolders"}},cSe={page:U2e,groupCard:G2e,imageView:q2e,menu:W2e,tabs:V2e,modal:Y2e,conditions:K2e,validation:X2e,messages:Q2e,imageModal:Z2e,assignModal:J2e,hierarchy:eSe,deleteConfirm:tSe,download:nSe,defaultGroupName:aSe,autoNavigate:iSe,created:rSe,updated:oSe,emptyState:sSe,autoFolder:lSe},uSe="",dSe="AI",fSe={placeholder:"...",button:"",clear:"",execute:""},hSe={title:"",searching:"...",found:"{{count}}",noResults:"",noResultsHint:"",initialMessage:"",initialHint:"AI",reset:"",refresh:""},pSe={basic:{aiTool:{label:"AI",all:""},modelName:{label:"",placeholder:": sd_xl_base_1.0"},startDate:{label:""},endDate:{label:""}},quickDate:{today:"",todayTooltip:"","7days":"7","7daysTooltip":"7","30days":"30","30daysTooltip":"30","90days":"90","90daysTooltip":"90"},advanced:{title:"",active:"",negativePrompt:{label:"",placeholder:" (: ugly, blurry)"}},autoTag:{title:"",subtitle:"(WD v3 Tagger)",active:"",tabs:{rating:"",character:"",generalTags:""},rating:{typeMode:"",scoreMode:"",typeDescription:"",scoreDescription:"",type:{label:"",none:"",general:"",sensitive:"",questionable:"",explicit:""},confidenceRange:"",scoreRange:""},character:{description:"",existence:{label:"",all:"",true:"",false:""},name:{label:"",placeholder:": hatsune_miku"},confidenceRange:""},generalTags:{description:"",tagName:{label:"",placeholder:": 1girl, solo, landscape"},confidence:": {{min}} ~ {{max}}",addedTags:" ({{count}})"}}},mSe={title:""},gSe={addButton:"Add Filter",emptyMessage:"Add filters to start searching",countInfo:"{{count}} filter(s) will be applied.",executionOrder:"Execution order: Exclude  OR  AND",modal:{title:"Add Filter",cancel:"Cancel",back:"Back",next:"Next",add:"Add Filter",steps:{selectGroup:"Select Filter Group",selectCategory:"Select Category",configureCondition:"Configure Condition"},step1:{description:"Choose how to apply the filter"},step2:{description:"Select what information to search by"},step3:{description:"Configure the condition. Filters cannot be edited after creation, you must delete and recreate them."}},groupTypes:{exclude:{label:"Exclude (NOT)",description:"Exclude images matching this condition from results"},or:{label:"OR Group",description:"Include images matching this condition in results"},and:{label:"AND Group",description:"Only include images matching all conditions"}},categories:{positive_prompt:{label:"Positive Prompt",description:"Search positive prompts used in image generation"},negative_prompt:{label:"Negative Prompt",description:"Search negative prompts used in image generation"},auto_tag:{label:"Auto Tag (WD Tagger)",description:"Search auto-generated tags from WD v3 Tagger"},basic:{label:"Basic Info",description:"Search basic metadata like AI tool and model name"}},conditionTypes:{conditionType:"Condition Type",value:"Value",placeholder:"Enter value to search",scoreRange:"Score Range",weightRange:"Weight Range",tagName:"Tag/Character Name",tagPlaceholder:"e.g., 1girl, hatsune_miku",ratingType:"Rating Type",exists:"Present",notExists:"Absent"}},bSe={title:uSe,description:dSe,searchInput:fSe,results:hSe,filters:pSe,searchHistory:mSe,filterBlock:gSe},ySe="",xSe="AI",vSe={positive:"",negative:""},SSe={search:{placeholder:"{{type}}..."},filters:{groupFilter:{label:"",all:"",unassigned:""}},table:{headers:{prompt:"",usageCount:"",assignedGroup:"",actions:""},empty:"",synonyms:{more:"+{{count}}"}},actions:{assignToGroup:"",delete:"",cannotDelete:"",groupManagement:""},statistics:{unclassified:"",unknown:""},pagination:{rowsPerPage:":",displayedRows:"{{from}}-{{to}} / {{count}}"},messages:{loadFailed:"",deleteSuccess:"",deleteFailed:"",assignSuccess:"",assignFailed:""}},CSe={title:"",selectGroup:{label:"",unassigned:""},actions:{cancel:"",assign:""}},wSe={title:"{{type}}",dragHint:"",editForm:{titleAdd:"",titleEdit:"",groupName:{label:"",required:""},displayOrder:{label:""},visibility:{label:"",hidden:""},actions:{save:"",cancel:""}},groupList:{title:" ({{count}})",add:"",empty:"",promptCount:"{{count}}",displayOrder:": {{order}}"},actions:{toggleVisibility:"",edit:"",delete:"",deleteConfirm:"",close:""},messages:{loadFailed:"",createSuccess:"",createFailed:"",updateSuccess:"",updateFailed:"",deleteSuccess:"",deleteFailed:"",visibilityFailed:"",reorderSuccess:"",reorderFailed:""}},_Se={tabs:{positive:"",negative:"",auto:"AUTO"},labels:{prompt:"",negativePrompt:""},noPrompt:"",loading:"...",loadFailed:""},TSe={noTags:"",generateButton:"",generating:"...",generationError:"",sections:{rating:"",characters:"",tagList:"",generalTags:" ({{count}})",modelInfo:""},modelInfo:{model:"",generalThreshold:"",characterThreshold:"",taggedAt:""}},ESe={title:ySe,description:xSe,tabs:vSe,promptList:SSe,assignDialog:CSe,groupManagement:wSe,promptDisplay:_Se,autoTagDisplay:TSe},ASe={generate:"",history:""},RSe={title:"",listTitle:"",addButton:"",editTitle:"",createTitle:"",noWorkflows:"",noWorkflowsDesc:"ComfyUI"},kSe={active:"",inactive:"",fieldsCount:"{{count}}",createdDate:": {{date}}",generateImage:"",notFound:""},ISe={basicInfo:"",workflowName:"",description:"",apiEndpoint:"API",activate:"",workflowJson:"JSON",uploadFile:"",jsonPlaceholder:'{"prompt": {...}}',jsonHelper:"ComfyUIAPI JSON",jsonCharCount:"{{count}}",invalidJson:"JSON",nameRequired:"",jsonRequired:"JSON",validateJson:"JSON",colorLabel:"Workflow Color",customColorTooltip:"Select custom color",selectImage:"Select Image"},NSe={importantNote:":",apiFormatWarning:"ComfyUISave (API Format)JSONJSON",created:"",updated:"",inactiveWarning:"",noConfigurableFields:""},jSe={sectionTitle:"",guideTitle:"",addField:"",noFields:"",whatIs:"",whatIsDesc:"StepsCFG",howToFind:"JSON:",step1:"ComfyUISave (API Format)",step2:"JSON",step3:": [].inputs.[]",exampleTitle:":",example1Title:"1.  (CLIPTextEncode #6)",example1FieldId:"ID: prompt_positive",example1Label:": ",example1Type:":  (textarea)",example1Path:"JSON: 6.inputs.text",example1Default:": a beautiful landscape",example2Title:"2.  (KSampler #3)",example2FieldId:"ID: seed",example2Label:": ",example2Type:": ",example2Path:"JSON: 3.inputs.seed",example2Default:": 123456",example3Title:"3.  (KSampler #3)",example3FieldId:"ID: steps",example3Label:": ",example3Type:": ",example3Path:"JSON: 3.inputs.steps",example3Default:": 20",example3Min:": 1",example3Max:": 150",example4Title:"4.  (KSampler #3)",example4FieldId:"ID: sampler_name",example4Label:": ",example4Type:": ",example4Path:"JSON: 3.inputs.sampler_name",example4Options:": euler, euler_ancestral, dpm++ 2m, ddim",tipTitle:" :",tipDesc:'JSONJSONJSON{"3": {"inputs": {"seed": 123}}}JSON3.inputs.seed',previewTitle:"",unnamedField:"Unnamed Field",noJsonPath:"No JSON Path",stepLabel:"Step Unit",stepHelperText:"Step value (e.g., 0.01)",stepPlaceholder:"0.01",autoUpdated:"(Auto-updated)",listPreviewHelper:"Preview of referenced list (read-only)",loadFromListTooltip:"Load from custom list",loadFromListTitle:"Load from Custom List",noCustomLists:"No custom lists registered.",itemCount:"{{count}} items - "},DSe={fieldId:"ID",fieldIdPlaceholder:"prompt_positive",fieldIdHelper:"",label:"",labelPlaceholder:"",labelHelper:"",type:"",typeHelper:"",typeText:" (1)",typeTextarea:" ()",typeNumber:"",typeSelect:" ()",jsonPath:"JSON *",jsonPathPlaceholder:"6.inputs.text",jsonPathHelper:"JSON: 6.inputs.text (6)",defaultValue:"",defaultValuePlaceholder:"a beautiful landscape",defaultValueHelper:"",required:"",minValue:"",minPlaceholder:"1",maxValue:"",maxPlaceholder:"150",selectOptions:" ()",selectOptionsPlaceholder:"euler, dpm++, ddim",selectOptionsHelper:": euler, dpm++ 2m, ddim"},OSe={pageTitle:"",settingsTitle:"",missingFields:": {{fields}}",emptyPrompt:"",selectPlaceholder:"",previewTitle:"",generateAll:" ({{count}})",serversListTitle:"ComfyUI",serversListDesc:"",noServers:"ComfyUI",noConnectedServers:"",responseTime:": {{time}}ms",generateButton:"",generating:"...",generationComplete:"",generationFailed:"",executionTime:"{{time}}",viewImage:""},MSe={save:"",saving:"...",cancel:"",create:"",update:"",delete:"",confirmDelete:""},PSe={title:"",enable:"",count:"",infinite:" (-1)",countHelp:"1-999  -1 ()",delay:"",delayHelp:"1-300",progress:"{{current}}",progressWithTotal:"{{current}}/{{total}}",stop:""},LSe={title:"",buttons:{add:"",edit:"",delete:"",view:"",cancel:"",create:"",save:""},labels:{name:"",description:"",items:"11",itemsHelper:""},empty:{title:"",description:""},dialog:{add:"",edit:"",deleteConfirm:""},validation:{minItems:"1"},stats:{itemCount:"{{count}}",moreItems:"+{{count}}",createdAt:": {{date}}"}},zSe={statusTitle:"",overall:": {{completed}}{{total}} ",withInfinite:" ()",serverProgress:"{{count}}",serverProgressInfinite:"{{count}} ()"},FSe={generate:"",startRepeat:"",stop:"",executingInfinite:"{{count}} ()",executingProgress:"{{current}} / {{total}}"},BSe={title:"",selectGroup:"",autoAddDescription:""},HSe={searchPlaceholder:"...",filterTypes:"",layoutSwitch:"{{layout}}",layoutTopBottom:"",layoutLeftRight:"",expandAll:"",collapseAll:""},$Se={title:"JSON",copyToClipboard:"",copied:""},USe={graphView:"",jsonView:"JSON"},GSe={blue:"Blue (default)",red:"Red",green:"Green",orange:"Orange",purple:"Purple",cyan:"Cyan",yellow:"Yellow",brown:"Brown",gray:"Gray",pink:"Pink"},qSe={title:"Marked Fields Preview",parseError:"Cannot parse Workflow JSON",noJson:"No Workflow JSON",pathNotFound:"Path not found: {{path}}",validationError:"Error during path validation",substitutionError:"Error during substitution",validationResults:"Path Validation Results",currentValue:"Current value:",formTitle:"Form to be displayed during image generation",generateButton:"Generate Image (Preview)",testDataButton:"Preview with test data",viewJsonTitle:"View substituted Workflow JSON"},WSe={title:"Select Image",tabs:{dbSearch:"DB Search",hash:"Hash",upload:"Upload",history:"History",dedicatedFolder:"Dedicated Folder"},inPreparation:"In preparation",hashInputLabel:"Enter image hash",hashInputPlaceholder:"Enter image hash",hashComingSoon:"Hash-based image loading will be implemented in the future.",selectButton:"Select Image",useAsIs:"Use as is",editButton:"Edit (In preparation)",noImagesInFolder:"No images in dedicated folder.",addImagesPrompt:"Add images to folder."},VSe={subtabs:ASe,page:RSe,card:kSe,form:ISe,alerts:NSe,markedFields:jSe,fieldForm:DSe,generate:OSe,actions:MSe,repeat:PSe,customDropdowns:LSe,repeatExecution:zSe,serverStatus:FSe,groupAssignment:BSe,graphToolbar:HSe,jsonViewer:$Se,workflowViewer:USe,colors:GSe,preview:qSe,imageSelection:WSe},YSe={title:"",subtitle:"ComfyUI"},KSe={workflows:"",servers:"",novelai:"NovelAI",ariaLabel:"",comfyui:"ComfyUI",wildcards:"Wildcards"},XSe={subtabs:{generate:"",history:"",helper:""},login:{title:"NovelAI",subtitle:"NovelAI",tabs:{credentials:"/",token:""},username:"",password:"",token:"",tokenPlaceholder:"NovelAI ",tokenHint:"NovelAI",loginButton:"",loggingIn:"...",error:"",tokenError:""},generate:{title:"NovelAI",logout:"",prompt:"",negativePrompt:"",resolution:"",sampler:"",steps:"",guidance:"",samples:"",ucPreset:"",generateButton:"",generating:"...",resultTitle:"",download:"",upload:"",metadata:"",tokenExpired:"",subscriptionRequired:"",error:"",uploadSuccess:"",uploadError:"",autoUploadSuccess:"{{count}}",autoUploadPartial:"{{success}}{{fail}}",success:"{{count}}",completed:"",failed:""},errors:{emptyPrompt:""},repeat:{title:"",enable:"",count:"",infinite:" (-1)",countHelp:"1-999  -1 ()",delay:"",delayHelp:"1-300",progress:"{{current}}",progressWithTotal:"{{current}}/{{total}}",stop:""},resolution:{mode:"",modeFixed:"",modeRandom:"",selectResolution:"",selectMultiple:"",addCustom:"",swapDimensions:"",swapDimensionsDesc:"",finalResolution:"",randomPool:"",swapped:"",randomSwapInfo:"50%",selectAtLeastOne:"1",customDialog:{addTitle:"",editTitle:"",name:"",namePlaceholder:"",width:"",height:"",save:"",cancel:"",nameRequired:"",widthInvalid:"642048",heightInvalid:"642048"}},naiSettings:{basic:{title:"",model:"",resolution:"",prompt:"",promptPlaceholder:"1girl, portrait, detailed face, masterpiece...",negativePrompt:"",negativePromptPlaceholder:"bad anatomy, low quality..."},sampling:{title:"",sampler:"",noiseSchedule:"Noise Schedule",steps:"Steps",guidance:"Guidance",cfgRescale:"CFG Rescale",uncondScale:"Uncond Scale",varietyPlus:"Variety+"},output:{title:"",samples:""}},tabs:{basic:"Basic Settings",advanced:"Advanced Settings"},sections:{preset:"Quality Presets",prompts:"Prompts",output:"Output Settings",advanced:"Advanced Settings",sampling:"Sampling Settings",quality:"Quality Settings",model:"Model Selection"},anlas:{balance:"Anlas Balance",refresh:"",subscription:"Subscription",free:"Free",tablet:"Tablet",scroll:"Scroll",opus:"Opus"},cost:{title:"Cost Estimate",anlas:"Anlas",balance:"Balance",sufficient:"Sufficient",insufficient:"Insufficient",opusFree:"Opus Free Generation",maxSamples:"Max Samples"},models:{label:"Model Selection",v45curated:"V4.5 Curated (Recommended)",v45full:"V4.5 Full",v4curated:"V4 Curated",v4full:"V4 Full",v3:"V3 (Legacy)",v3furry:"V3 Furry"},advanced:{cfgRescale:"Prompt Guidance Rescale",noiseSchedule:"Noise Schedule",uncondScale:"Undesired Content Strength"},settings:{qualityToggle:"Auto-add quality tags"},presets:{title:"Quality Presets",label:"Quality Presets",quality:{name:"Quality",description:"Balanced quality and speed (28 steps, Euler)"},fast:{name:"Fast",description:"Quick generation (15 steps, Euler)"},artistic:{name:"Artistic",description:"Creative results (35 steps, DPM++ 2S Ancestral, SMEA DYN)"},realistic:{name:"Realistic",description:"Realistic images (40 steps, DPM++ 2M, SMEA)"},detail:{name:"Detail",description:"Maximum detail (50 steps, DPM++ SDE, SMEA DYN)"}},gallery:{images:"Images",showMetadata:"Show Metadata",hideMetadata:"Hide Metadata",downloadAll:"Download All"},history:{title:"Generation History",comingSoon:"This feature is coming soon.",description:"View your previously generated images and settings."}},QSe={title:"",buttons:{addList:"",loadComfyUI:"ComfyUI",edit:"",delete:"",close:"",cancel:"",create:"",collect:"",viewList:"",selectFolder:"models"},tabs:{autoCollected:"",manual:""},labels:{auto:"",itemCount:"{{count}}",listName:"",listNameRequired:" *",description:"",path:"",itemList:"11*",itemListCount:"{{count}}",pathOptions:"",checkpointsFullPath:"checkpoints - ",unetFullPath:"unet - ",upscaleModelsFullPath:"upscale_models - "},dialog:{viewTitle:"",createTitle:"",editTitle:"",comfyUITitle:"ComfyUI"},messages:{noAutoCollected:"ComfyUI",noManual:"",minItemError:"1",deleteConfirm:"",selectFolderError:"",autoCollectedReadOnly:"",selectComfyUIFolder:"ComfyUImodels",foldersDetected:"{{count}}",fileCount:"{{count}}",moreCount:"...{{count}}",collecting:"...",pathExample:"{{example}}",scanInfo:`
 checkpointsunetupscale_models
 
 `},placeholders:{itemList:`
SDXL 1.0
SD 1.5
Realistic Vision
DreamShaper`},helperText:{itemList:""}},ZSe={page:YSe,tabs:KSe,nai:XSe,customDropdown:QSe},JSe="",e3e="{{count}}",t3e="",n3e="...",a3e="...",i3e="",r3e="",o3e="",s3e="",l3e="",c3e={pending:"",processing:"",completed:"",failed:""},u3e={comfyui:"ComfyUI",novelai:"NovelAI"},d3e={regenerate:"",delete:"",refresh:"",confirmDelete:""},f3e=" ({{count}})",h3e={title:"",confirm:"{{count}}",warning:""},p3e={title:"",status:"",service:"",positivePrompt:"",negativePrompt:"",size:"",model:"",sampler:"",steps:"",cfgScale:"CFG Scale",seed:"",error:"",createdAt:"",completedAt:""},m3e="Failed to cleanup",g3e="Cleanup Failed Items",b3e="Are you sure you want to delete {{count}} failed generation histories?",y3e="Only database records will be deleted, files will be kept.",x3e="Cleanup",v3e="Cleaning...",S3e="{{count}} failed items have been deleted",C3e="No failed items to clean up",w3e="Failed to bulk delete",_3e={title:JSe,count:e3e,empty:t3e,loading:n3e,loadingMore:a3e,allLoaded:i3e,noHistory:r3e,noHistoryDescription:o3e,deleteConfirm:s3e,deleteFailed:l3e,status:c3e,service:u3e,actions:d3e,deleteSelected:f3e,deleteDialog:h3e,detail:p3e,cleanupFailed:m3e,cleanupFailedTitle:g3e,cleanupFailedConfirm:b3e,cleanupFailedNote:y3e,cleanup:x3e,cleaning:v3e,cleanupSuccess:S3e,noFailedRecords:C3e,bulkDeleteFailed:w3e},T3e={title:"",listTitle:"ComfyUI",addButton:"",noServers:"",noServersDesc:"ComfyUI"},E3e={active:"",inactive:"",priority:": {{priority}}",concurrent:": {{count}}",connectionSuccess:"",connectionFailed:"",testConnection:""},A3e={addTitle:"",editTitle:"",serverName:"",endpointUrl:"URL",endpointPlaceholder:"http://127.0.0.1:8188",description:"",priority:"",priorityHelper:"",maxConcurrent:"",activate:"",cancel:"",add:"",update:""},R3e={connected:"",disconnected:"",testing:"",error:"",responseTime:": {{time}}ms"},k3e={test:"",edit:"",delete:"",confirmDelete:""},I3e={page:T3e,card:E3e,dialog:A3e,status:R3e,actions:k3e},N3e={network:"",timeout:"",unauthorized:"",forbidden:"",notFound:"",serverError:"",badRequest:"",unknown:""},j3e={fileTooLarge:"50MB",invalidFileType:"",uploadFailed:"",multipleUploadFailed:"",fileCountLimit:"",processingFailed:"",noFilesSelected:""},D3e={loadFailed:"",deleteFailed:"",multipleDeleteFailed:"{{count}}",downloadFailed:"",notFound:"",metadataExtractionFailed:""},O3e={loadFailed:"",createFailed:"",updateFailed:"",deleteFailed:"",assignFailed:"",removeFailed:"",autoCollectFailed:"",notFound:""},M3e={loadFailed:"",deleteFailed:"",assignFailed:"",synonymFailed:"",notFound:""},P3e={failed:"",invalidQuery:"",noResults:""},L3e={required:"",invalid:"",tooShort:"",tooLong:""},z3e={api:N3e,upload:j3e,image:D3e,group:O3e,prompt:M3e,search:P3e,validation:L3e},F3e={field:"",name:"",description:"",file:"",image:"",group:""},B3e={invalid:"",email:"",url:"URL",number:"",integer:""},H3e={min:"{{min}}",max:"{{max}}",exact:"{{length}}",between:"{{min}}{{max}}"},$3e={fileSize:"{{max}}",imageSize:"{{width}}{{height}}",fileTooLarge:"{{max}}",fileTooSmall:"{{min}}"},U3e={min:"{{min}}",max:"{{max}}",between:"{{min}}{{max}}"},G3e={invalid:"",imageOnly:"",videoOnly:"",imageOrVideo:"",allowedTypes:"{{types}}"},q3e={exists:"",name:"",value:""},W3e={required:F3e,format:B3e,length:H3e,size:$3e,range:U3e,fileType:G3e,duplicate:q3e},V3e={title:"",noWildcards:"",noWildcardsDesc:""},Y3e={all:"",both:""},K3e={add:"",addItem:"",preview:"",confirmDelete:"'{{name}}'?",copiedToClipboard:"Copied to clipboard",copyFailed:"Failed to copy"},X3e={items:"{{count}}",itemsCount:"",moreItems:"{{count}}"},Q3e={createTitle:"",editTitle:""},Z3e={name:"",nameHelper:"++ (: )",description:" ()",parent:"",parentHelper:"",noParent:" ()",includeChildren:"",includeChildrenHelper:"",comfyuiItems:"ComfyUI",naiItems:"NovelAI",itemsHelper:"++++",itemPlaceholder:":   ++++"},J3e={title:"",inputLabel:"",inputPlaceholder:": ++++++++",generate:"",results:" (5)",result:" {{number}}"},eCe={nameRequired:"",itemsRequired:"1",previewTextRequired:"",copyFailed:"Failed to copy"},tCe={manual:"",autoCollected:" (LORA)"},nCe={children:"",items:"",selectItem:"",moreItems:""},aCe={title:"LORA",description:"LORA",folderPath:"LORA",folderPathHelper:"ComfyUI lorasLORA",loraWeight:"LORA",loraWeightHelper:" (: 1.0)",duplicateHandling:"",duplicateNumber:" (style, style_2)",duplicateParent:" (anime_style, realistic_style)",scanButton:"LORA",scanning:"...",lastScan:"",noScanYet:"",scanLog:{title:"",timestamp:"",folderPath:"",totalWildcards:"",totalItems:"",details:"",wildcardName:"",itemCount:""},noAutoWildcards:"",noAutoWildcardsDesc:"LORA",autoCollectedBadge:"",viewDetail:"View Details",errors:{folderPathRequired:"LORA",invalidWeight:" (0.1 ~ 2.0)",scanFailed:": {{error}}"},tierLabel:" {{tier}}",filesSelected:"{{count}}LORA",filesFound:"<strong>{{count}}LORA</strong>:",promptsCount:"{{count}}",moreFiles:"...{{count}}",childCount:"{{count}}",noItems:"",filters:{tierFilter:"",wildcardSearch:"",searchPlaceholder:"...",clearFilters:"",totalWildcards:"<strong>{{count}}</strong>",filteredCount:"(: <strong>{{count}}</strong>)",noResults:"",tryDifferentFilters:""},matchingMode:"Text File Matching Mode",matchingModeFilename:"Filename Matching (lora.txt)",matchingModeCommon:"Use Common Text File",commonTextFilename:"Common Text Filename",commonTextFilenameHelper:"Common text filename to use within folders (e.g., add.txt, common.txt)",matchingPriority:"Matching Priority",priorityFilename:"Filename Matching First (fallback to common text)",priorityCommon:"Common Text First (fallback to filename matching)"},iCe={openScanDialog:"Scan LORA",openLogDialog:"Last Scan Log"},rCe={title:"LORA Wildcard Auto-Generation",infoMessage:"Please select ComfyUI's loras folder or a folder containing LORA files.",scanButton:"Collect LORA",warningTitle:"Scan Information:",warning1:"Automatically collects .safetensors files",warning2:"Re-scanning the same folder will update the items",warning3:"Auto-collected items can be found in this tab"},oCe={title:"Last LORA Scan Log"},sCe={title:"View List (Read-Only)",readOnlyInfo:"Auto-collected items cannot be edited. You can only view the contents.",name:"List Name",description:"Description",path:"Path",itemList:"Item List ({{count}} items)"},lCe={hint:"++",manualTab:"",autoTab:" (LORA)",noResults:"",selectTier:"",root:""},cCe={title:"",message:"'{{name}}' ",childrenNotice:"",wildcardInfo:{itemCount:": {{count}}",childCount:": {{count}}"},warning:{permanent:""},options:{title:":",moveUp:{label:"",description:""},cascade:{label:"",description:"{{count}}"}}},uCe={deleteSuccess:"",deleteFailed:""},dCe={page:V3e,filters:Y3e,actions:K3e,card:X3e,dialog:Q3e,form:Z3e,preview:J3e,errors:eCe,tabs:tCe,detail:nCe,autoCollect:aCe,buttons:iCe,scanDialog:rCe,logDialog:oCe,detailDialog:sCe,autocomplete:lCe,deleteConfirm:cCe,messages:uCe},fCe={link:"",title:"",description:"",procedureTitle:":",step1:"",step2:"",step3:"",step4:"",fileLabel:":",warning:" : ",warningNote:""},hCe={recovery:fCe},pCe={save:"",cancel:"",delete:"",edit:"",add:"",upload:"",download:"",search:"",filter:"",reset:"",confirm:"",close:"",back:"",next:"",previous:"",select:"",deselect:"",selectAll:"",deselectAll:"",apply:"",clear:""},mCe={loading:"...",saving:"...",success:"",error:"",noData:"",confirmDelete:"",unsavedChanges:"",processing:"...",uploading:"...",downloading:"...",deleting:"..."},gCe={name:"",description:"",date:"",status:"",type:"",size:"",created:"",updated:"",width:"",height:"",duration:"",resolution:""},bCe={tooltips:{viewDetails:"",download:"",delete:"",select:""},badges:{auto:"",video:""},confirmDelete:{image:"",video:""}},yCe={selectedCount:"{{count}}",selectedCountImages:"{{count}}",tooltips:{download:"",addToGroup:"",delete:"",clearSelection:"",batchTag:""},confirmDelete:{mixed:"{{count}}/",images:"{{count}}",videos:"{{count}}",files:"{{count}}"},confirmBatchTag:"{{count}}",batchTagSuccess:"{{count}}",batchTagError:""},xCe={perPage:"",items:"",page:"",of:"/",showing:"{{total}}{{from}}-{{to}}",goToPage:"",rowsPerPage:""},vCe={loading:"",error:"",empty:"",success:"",pending:"",completed:"",failed:""},SCe={view:"",download:"",delete:"",edit:"",create:"",update:"",cancel:"",confirm:"",retry:"",refresh:""},CCe={title:{add:"",edit:""},groupTypes:{label:"",exclude:"",or:"OR",and:"AND"},categories:{label:"",positive_prompt:"",negative_prompt:"",auto_tag:"",basic:""},conditionSettings:{label:"",conditionType:"",value:"",valuePlaceholder:""},conditionTypes:{prompt_contains:"",prompt_regex:"",negative_prompt_contains:"",negative_prompt_regex:"",auto_tag_exists:"",auto_tag_has_character:"",auto_tag_rating:"Rating",auto_tag_rating_score:"Rating",auto_tag_general:"General",auto_tag_character:"Character",auto_tag_model:"",ai_tool:"AI",model_name:""},fields:{exists:"",notExists:"",ratingType:"Rating",scoreRange:": {{min}} ~ {{max}}",weightRange:": {{min}} ~ {{max}}",tagOrCharacter:"/",tagPlaceholder:": 1girl, hatsune_miku"},ratingTypes:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"}},wCe={groupTypes:{exclude:{label:" (NOT)",labelShort:"",description:""},or:{label:"OR",labelShort:"OR",description:""},and:{label:"AND",labelShort:"AND",description:""}},categories:{positive_prompt:"",negative_prompt:"",auto_tag:"",basic:""},conditionTypes:{prompt_contains:"",prompt_regex:"",negative_prompt_contains:"",negative_prompt_regex:"",auto_tag_exists:"",auto_tag_has_character:"",auto_tag_rating:"",auto_tag_rating_score:"",auto_tag_general:"",auto_tag_character:"",auto_tag_model:"",ai_tool:"AI",model_name:""},labels:{condition:"",conditionNumber:" #{{number}}",editCondition:" #{{number}}",category:"",conditionType:"",value:"",score:"",scoreRange:": {{min}} ~ {{max}}",weightRange:": {{min}} ~ {{max}}",ratingType:"",tagCharacterName:"/",conditionsCount:"{{count}}"},buttons:{addCondition:""},messages:{noConditions:""},values:{exists:"",notExists:""},ratingTypes:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"}},_Ce={title:"",canvasInfo:"",canvasSize:": {{width}} x {{height}} px",toolProperties:"",brushSize:": {{size}}px",brushColor:"",eraserSize:": {{size}}px",panHelp:"/"},TCe="",ECe="",ACe="",RCe="",kCe="",ICe="",NCe="",jCe="",DCe="",OCe={buttons:pCe,messages:mCe,labels:gCe,imageCard:bCe,bulkActions:yCe,pagination:xCe,states:vCe,actions:SCe,filterModal:CCe,filterBuilder:wCe,imageEditor:_Ce,clickToCopy:TCe,thumbnail:ECe,original:ACe,video:RCe,none:kCe,enabled:ICe,disabled:NCe,save:jCe,refresh:DCe},MCe="",PCe="ComfyUI Image Manager",LCe={general:"",tagger:"Tagger",rating:"",similarity:"",prompts:"",advanced:"",metadata:"[zh-CN] Metadata Extraction",folders:"[zh-CN] Folder Management",account:"[zh-CN] Account",externalApi:"API"},zCe={title:"",language:{label:"",description:"",ko:"",en:"English",ja:"","zh-CN":"","zh-TW":""},gallery:{label:"",tooltip:""},canvasCleanup:{label:"Canvas",tooltip:"Canvas"},deleteProtection:{title:"[zh-CN] Delete File Protection",description:"[zh-CN] Store deleted files in RecycleBin folder for recovery",enabled:{label:"[zh-CN] Store deleted files in RecycleBin",description:"[zh-CN] When enabled, deleted files are backed up to RecycleBin folder instead of being permanently removed."},info:"[zh-CN] RecycleBin folder is created in the project root. Deleted files are stored with timestamps. You can manually copy files from RecycleBin if recovery is needed."},metadata:{title:"[zh-CN] Metadata Extraction Optimization",scanMode:{title:"[zh-CN] Stealth PNG Scan Mode",fast:{label:"[zh-CN] Fast (Recommended)",description:"[zh-CN] Quick signature scan - checks first 200 pixels then exits early"},full:{label:"[zh-CN] Full",description:"[zh-CN] Full file scan - checks all pixels (slow)"},skip:{label:"[zh-CN] Skip",description:"[zh-CN] Skip scanning - disables secondary extraction"}},limits:{title:"[zh-CN] File Size and Resolution Limits",fileSize:{label:"[zh-CN] Max File Size (MB)",helper:"[zh-CN] Files larger than this will skip Stealth PNG scanning"},resolution:{label:"[zh-CN] Max Resolution (Megapixels)",helper:"[zh-CN] Images larger than this will skip Stealth PNG scanning"}},skipSettings:{title:"[zh-CN] AI Tool Skip Settings",description:"[zh-CN] Automatically skip Stealth PNG scanning for specific AI tool images.",comfyui:{label:"[zh-CN] Skip ComfyUI images (Recommended)",description:"[zh-CN] ComfyUI doesn't use Stealth PNG, scanning unnecessary"},webui:{label:"[zh-CN] Skip WebUI images",description:"[zh-CN] WebUI may use Stealth PNG, enable only if needed"}},secondary:{label:"[zh-CN] Enable secondary extraction",description:"[zh-CN] Retry with Stealth PNG method if primary extraction fails."},performanceNote:"[zh-CN]  Tip: Default settings (Fast + ComfyUI skip) provide optimal performance for most cases. ComfyUI image processing time reduced from 2682ms  4ms!"},thumbnail:{title:"[zh-CN] Thumbnail Settings",description:"[zh-CN] Configure the size and quality used when generating thumbnails",saveFailed:"[zh-CN] Failed to save thumbnail settings",size:{label:"[zh-CN] Thumbnail Size",selectLabel:"[zh-CN] Thumbnail Size",original:"[zh-CN] Same as original",default:"[zh-CN] 1080px (default)"},quality:{label:"[zh-CN] Thumbnail Quality",helperText:"[zh-CN] Higher quality increases file size (60-100%)"},regenerate:{button:"[zh-CN] Regenerate Thumbnails",description:"[zh-CN] Regenerate thumbnails for all images with current settings"}}},FCe={title:"WD Tagger",description:"AI",enabled:"Tagger",autoTagOnUpload:"",model:{label:"",loading:"...",downloaded:"",vit:{label:"ViT (Vision Transformer)",description:" - "},swinv2:{label:"SwinV2 (Swin Transformer V2)",description:" - "},convnext:{label:"ConvNeXt",description:" - "}},device:{label:"",auto:{title:" (Auto)",description:"GPUGPUCPU"},cpu:{title:"CPU",description:"CPU"},cuda:{title:"GPU (CUDA)",description:"NVIDIA GPUGPU"}},modelStatus:{title:"",loaded:"",unloaded:"",lastUsed:"",justNow:"",minutesAgo:"{{minutes}}",hoursAgo:"{{hours}}",daysAgo:"{{days}}",none:""},buttons:{load:"",unload:"",refresh:"",download:"",downloading:"...",refreshStatus:"",checkDependencies:"Python",checking:"Python...",save:"",cancel:""},alerts:{modelDownloaded:"{{model}}",modelNotDownloaded:"{{model}}",modelLoaded:"",modelUnloaded:"",loadFailed:"",unloadFailed:"",saveFailed:"",dependencyCheckFailed:""},threshold:{general:{label:": {{value}}",description:""},character:{label:": {{value}}",description:""}},pythonPath:{label:"Python",helper:"Python: python, python3, C:\\Python39\\python.exe"},memoryManagement:{title:"",description:"",keepModelLoaded:"",autoUnloadMinutes:": {{minutes}}",autoUnloadDescription:"",keepLoadedAlert:"",notKeepLoadedAlert:""},batch:{title:"",description:"",untaggedCount:": {{count}}",progress:": {{current}} / {{total}}",buttons:{tagUnprocessed:"100",tagAll:"100",processing:"..."},alerts:{complete:": {{success}}{{failed}}",failed:"",tagAllFailed:""},confirmDialog:{title:"",message:`
100`,confirm:"",cancel:""}},test:{title:"",description:"",imageId:"ID",placeholder:": 123",button:"",processing:"...",result:":",failed:"",invalidId:"ID",imageHash:"[zh-CN] Image Hash",placeholderHash:"[zh-CN] e.g., abc123def456..."},enableAutoTagging:"[zh-CN] Enable Auto-Tagging"},BCe={title:"",description:"",weights:{title:"",description:"",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",preview:{title:": general=0.001, sensitive=0.045, questionable=0.735, explicit=0.470",score:": <strong>{{score}}</strong>"},buttons:{save:"",cancel:"",saving:"..."},alerts:{saveSuccess:"",saveFailed:"",loadFailed:""}},tiers:{title:"",description:"",addButton:"",table:{order:"",name:"",scoreRange:"",color:"",actions:"",empty:"",scoreFormat:"{{min}} ~ {{max}}",infinity:""},dialog:{createTitle:"",editTitle:"",tierName:"",minScore:"",maxScore:" = ",order:"",color:" (Hex)",colorPlaceholder:"#2196f3",colorHelper:": #22c55e, #3b82f6, #f59e0b, #ef4444",save:"",cancel:"",saving:"...",requiredFields:""},alerts:{created:"",updated:"",deleted:"",saveFailed:"",deleteFailed:"",loadFailed:"",deleteConfirm:""}},calculator:{title:"",description:"",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",calculate:"",calculating:"...",result:{title:"",score:": <strong>{{score}}</strong>",breakdown:":",generalScore:"General: {{score}}",sensitiveScore:"Sensitive: {{score}}",questionableScore:"Questionable: {{score}}",explicitScore:"Explicit: {{score}}"},failed:""},recalculation:{title:"",description:"rating_scoreauto_tags",buttons:{recalculate:"",processing:"..."},progress:"... {{current}}/{{total}}",success:": {{total}}{{success}}{{failed}}",failed:"",confirmDialog:{title:"",message:"rating_score",confirm:"",cancel:""}}},HCe={title:"",description:"",systemStatus:{title:"",description:"",totalImages:": {{count}}",withHash:": {{count}}",withoutHash:": {{count}}",completion:": {{percent}}%",autoGenerateHash:"",rebuildButton:"{{count}}",rebuildingButton:"...",refreshButton:"",rebuildProgress:"... {{processed}}/{{total}}{{percent}}%",allComplete:"",rebuildComplete:": {{processed}}",rebuildCompleteWithErrors:": {{success}}{{failed}}",rebuildFailed:"",noImagesToProcess:"",autoGenerateUpdateFailed:""},test:{title:"",description:"",imageId:"ID",placeholder:": 123",searchType:"",types:{duplicates:"",similar:"",color:""},searchButton:"",searching:"...",queryImage:"",results:": {{count}}",noResults:"",searchFailed:"",imageDetails:{id:"ID:",filename:":",size:":",aiTool:"AI:"},matchTypes:{exact:"",nearDuplicate:"",similar:"",colorSimilar:""},similarity:"{{percent}}%",colorSimilarity:": {{percent}}%",hashStatus:"",rebuild:{button:"{{count}}",rebuilding:"...",success:": {{processed}}: {{failed}}: {{remaining}}",error:": {{error}}"},imageHash:"[zh-CN] Image Hash",placeholderHash:"[zh-CN] e.g., abc123def456...",compositeHash:"[zh-CN] Image Hash",hashHelperText:"[zh-CN] Enter the image's composite_hash",button:"[zh-CN] Run Test",processing:"[zh-CN] Processing...",result:"[zh-CN] Tagging Result:",failed:"[zh-CN] Test failed"},duplicateScan:{title:"",description:"",scanButton:"",scanning:"...",foundGroups:": {{count}}",groupLabel:"{{id}}  {{count}}",similarityLabel:"{{percent}}%",moreImages:"+{{count}}",noResults:"",id:"ID: {{id}}",selectAll:"[zh-CN] Select All",deselectAll:"[zh-CN] Deselect All",keepOne:"[zh-CN] Keep 1",keepOneDelete:"[zh-CN] Keep first image and select rest for deletion",deleteSelected:"[zh-CN] Delete {{count}} Selected",deleteConfirmTitle:"[zh-CN] Confirm Image Deletion",deleteConfirmMessage:"[zh-CN] Are you sure you want to delete {{count}} selected images?",deleteWarning:"[zh-CN] Deleted images cannot be recovered!",cancel:"[zh-CN] Cancel",confirmDelete:"[zh-CN] Delete",deleting:"[zh-CN] Deleting...",deleteSuccess:"[zh-CN] {{count}} images deleted successfully.",deletePartialSuccess:"[zh-CN] {{success}} succeeded, {{failed}} failed",deleteFailed:"[zh-CN] Failed to delete images."},thresholds:{title:"",description:"",duplicate:{label:": {{value}}",description:"0=5=10=",strict:"0",recommended:"5",lenient:"10"},similar:{label:": {{value}}",description:"",strict:"5",recommended:"15",lenient:"25"},color:{label:": {{value}}%",description:"",min:"70%",recommended:"85%",max:"100%"},searchLimit:{label:"",options:{10:"10",20:"20",50:"50",100:"100"}},localStorageNote:""},autoGenerateHash:"[zh-CN] Auto-generate Hash on Upload",hashPlaceholder:"[zh-CN] e.g., a1b2c3d4e5f6..."},$Ce={saveSuccess:"",saveFailed:"",loadFailed:""},UCe={title:"",sections:{currentStatus:""},stats:{totalFiles:":",withThumbnail:":",withoutThumbnail:":"},phases:{verifying:"...",deleting:"...",generating:"...",completed:"",waiting:""},time:{seconds:"{{elapsed}}",minutesSeconds:"{{minutes}}{{seconds}}"},status:{completed:"",inProgress:""},progress:{deletedThumbnails:":",generatedThumbnails:":",elapsedTime:":"},messages:{success:"",loadStatsFailed:"",alreadyRunning:"",startFailed:""},instructions:{title:":",step1:"1. ",step2:"2. ",step3:"3. ",warning:":",warningText:""},buttons:{close:"",start:"",starting:"...",inProgress:"..."}},GCe={title:"",subtitle:"",scheduler:{title:"",backgroundHash:{title:"",tooltip:"Phase 2",intervalLabel:"",intervalTooltip:"5-300",saveButton:"",savingButton:"...",errorRange:"5-300",errorSave:""},autoTagger:{title:"",tooltip:"",pollingIntervalLabel:"",pollingIntervalTooltip:"5-300",batchSizeLabel:"",batchSizeTooltip:"1-100",saveButton:"",savingButton:"...",errorPollingRange:"5-300",errorBatchRange:"1-100",errorSave:""}},watchedFolders:{title:"",addFolder:"",refresh:"",viewAllLogs:"",scanAll:"",scanning:"...",noName:"",active:"",inactive:"",autoScanInterval:"{{interval}}",scanStatus:"",lastScan:": {{date}}",noScanHistory:"",watcherStatus:{starting:"...",watching:"",error:"",stopped:"",inactive:""},tooltips:{scan:"",log:"",edit:"",delete:"",watcherStart:"",watcherStop:"",processing:"..."},messages:{loadFailed:"",deleteFailed:"",deleteConfirm:'"{{name}}"',scanFailed:"",scanAllFailed:"",scanAllComplete:": {{totalFolders}}{{totalNew}}{{totalExisting}}{{errors}}",scanAllErrors:"{{totalErrors}}",watcherStartFailed:"",watcherStopFailed:""}},dialog:{addTitle:"",editTitle:"",folderPath:" *",folderPathDisabled:"",folderPathHelper:": D:\\Images  \\\\192.168.1.100\\Share\\Images",folderName:"",folderNameHelper:"",watcherEnabled:"",watcherTooltip:"//",pollingInterval:"",pollingIntervalTooltip:": 1000ms",pollingIntervalLabel:"",pollingIntervalPlaceholder:": 1000ms",pollingIntervalHelper:": 500-3000ms",autoScan:"",scanInterval:"",scanIntervalHelper:"",advancedOptions:"",recursive:"",excludeExtensions:"",excludeExtensionsTooltip:".jpg, .png, .webp, .gif, .bmp, .tiff",excludeExtensionsPlaceholder:".tmp",excludePatterns:"",excludePatternsTooltip:": node_modules, .git, temp",excludePatternsPlaceholder:": node_modules, .git",addButton:"",saveButton:"",savingButton:"...",cancelButton:"",errorPath:"",errorSave:""},scanLog:{title:"",titleSpecific:"",titleAll:"",noLogs:"",loadFailed:"",refresh:"",close:"",columns:{scanTime:"",folder:"",status:"",scanned:"",new:"",existing:"",errors:"",duration:"",details:""},status:{success:"",error:""},errorDetails:"{{count}}",durationSeconds:"{{seconds}}"},verificationLog:{title:"",noLogs:"",loadFailed:"",refresh:"",close:"",columns:{verificationTime:"",verificationType:"",checked:"",missingFound:"",deletedRecords:"",errors:"",duration:""},verificationType:{auto:"",manual:""},errorDetails:"{{count}}",errorItem:{fileId:"ID: {{id}}",path:": {{path}}",error:": {{error}}"},noErrors:"",countFormat:"{{count}}",durationMs:"{{ms}}ms",durationSeconds:"{{seconds}}"}},qCe={title:"[zh-CN] Thumbnail Settings",description:"[zh-CN] Configure size and quality used for thumbnail generation",saveFailed:"[zh-CN] Failed to save thumbnail settings",size:{label:"[zh-CN] Thumbnail Size",selectLabel:"[zh-CN] Thumbnail Size",original:"[zh-CN] Same as original size",default:"[zh-CN] 1080px (default)"},quality:{label:"[zh-CN] Thumbnail Quality",helperText:"[zh-CN] Higher quality increases file size (60-100%)"},regenerate:{button:"[zh-CN] Regenerate Thumbnails",description:"[zh-CN] Regenerate all image thumbnails with current settings"}},WCe={title:"[zh-CN] Background Task Monitoring",loadFailed:"[zh-CN] Failed to load background task status",confirmReset:"[zh-CN] Reset background queue? All pending tasks will be cancelled.",resetFailed:"[zh-CN] Failed to reset queue",resetQueue:"[zh-CN] Reset Queue",autoTagFailed:"[zh-CN] Failed to trigger auto-tagging",confirmHashGen:"[zh-CN] Generate hash for {{count}} images?",hashGenComplete:"[zh-CN] Hash generation complete: {{processed}} succeeded, {{failed}} failed",hashGenFailed:"[zh-CN] Failed to regenerate hashes",confirmVerify:"[zh-CN] Verify {{count}} files?\\nThis may take time if there are many files.",verifyFailed:"[zh-CN] Failed to run file verification",verifyIntervalError:"[zh-CN] Verification interval must be between 300-86400 seconds",verifySaveFailed:"[zh-CN] Failed to save file verification settings",autoUpdate:"[zh-CN] Auto-updates every 5 seconds.",autoUpdateDisabled:"[zh-CN] Auto-update is disabled.",queue:{title:"[zh-CN] Background Queue",pending:"[zh-CN] Pending: {{count}}",processing:"[zh-CN] Processing",waiting:"[zh-CN] Waiting"},tasks:{metadata:"[zh-CN] Metadata Extraction",promptCollection:"[zh-CN] Prompt Collection",pendingCount:"[zh-CN] {{count}} pending"},autoTag:{title:"[zh-CN] Auto-Tagging Scheduler",manualTrigger:"[zh-CN] Manual Run",running:"[zh-CN] Running",stopped:"[zh-CN] Stopped",untaggedCount:"[zh-CN] Untagged images: {{count}}",pollingInterval:"[zh-CN] Polling interval: {{seconds}}s",batchSize:"[zh-CN] Batch size: {{size}}"},hash:{title:"[zh-CN] Media Hash Status",generate:"[zh-CN] Generate Hash",total:"[zh-CN] Total: {{count}}",completed:"[zh-CN] Hash generated: {{count}}",pending:"[zh-CN] Not generated: {{count}}",completion:"[zh-CN] Completion: {{percent}}%"},verify:{title:"[zh-CN] File Verification Status",viewLogs:"[zh-CN] View Logs",run:"[zh-CN] Run Verification",progress:"[zh-CN] File verification in progress: {{checked}}/{{total}}",missing:"[zh-CN] Missing: {{count}}",totalFiles:"[zh-CN] Total files: {{count}}",missingFiles:"[zh-CN] Missing files: {{count}}",lastVerification:"[zh-CN] Last verification: {{date}}",schedulerTitle:"[zh-CN] Verification Scheduler Settings",intervalLabel:"[zh-CN] Verification Interval (seconds)",intervalHelper:"[zh-CN] 300-86400 seconds (5 min - 24 hours)",intervalTooltip:"[zh-CN] May cause time consumption and system load if there are many files"}},VCe={forgotAccount:{title:"[zh-CN] Forgot your account?",description:"[zh-CN] If you forgot your password, you can recover your account using the following method.",methodTitle:"[zh-CN] Recovery Method:",step1:"[zh-CN] Stop the server",step2:"[zh-CN] Delete the file below",step3:"[zh-CN] Restart the server",step4:"[zh-CN] Set up a new account",fileToDelete:"[zh-CN] File to delete:",warning:"[zh-CN]  Warning: Deleting this file will invalidate all sessions and require re-login.",warningNote:"[zh-CN] Other data such as workflows and settings will not be affected."},setup:{title:"[zh-CN] Setup Authentication",description:"[zh-CN] Configure username and password to protect your image manager from unauthorized access. Once set, you will need to login to access the application.",username:"[zh-CN] Username",password:"[zh-CN] Password",confirmPassword:"[zh-CN] Confirm Password",button:"[zh-CN] Setup Authentication",success:"[zh-CN] Authentication configured successfully! You will need to login on your next visit.",errors:{required:"[zh-CN] Username and password are required",mismatch:"[zh-CN] Passwords do not match",failed:"[zh-CN] Failed to setup authentication"}},update:{title:"[zh-CN] Change Credentials",description:"[zh-CN] Changing your credentials will require you to login again with the new credentials.",currentPassword:"[zh-CN] Current Password",newUsername:"[zh-CN] New Username",newPassword:"[zh-CN] New Password",confirmNewPassword:"[zh-CN] Confirm New Password",button:"[zh-CN] Update Credentials",success:"[zh-CN] Credentials updated successfully!",errors:{required:"[zh-CN] All fields are required",mismatch:"[zh-CN] New passwords do not match",failed:"[zh-CN] Failed to update credentials"}}},YCe={save:"",cancel:"",delete:"",create:"",enabled:"",disabled:""},KCe={title:"Civitai",description:"Civitai",settings:{title:"",enableIntegration:"Civitai",enableDescription:"Civitai",apiInterval:"API: {{interval}}",apiIntervalDescription:"API2"},statistics:{title:"",refresh:"",totalLookups:"",successful:"",failed:"",successRate:"",lastApiCall:"API",never:"",recheckFailed:"",resetStats:""},rescan:{title:"",description:"CivitaiCivitai",processing:": {{processed}}/{{total}}",added:": {{count}}",startButton:"",starting:"...",enableRequired:"Civitai"},cachedModels:{title:" ({{count}})",clearCache:"",modelName:"",type:"",hash:"",cachedAt:"",empty:"",unknown:""},dialogs:{clearCache:{title:"",message:"Civitai",confirm:""},resetStats:{title:"",message:"",confirm:""},cancel:""},upload:{title:"Civitai",description:"Civitai",selectedImage:"",methodLabel:"",downloadMethod:"",intentMethod:"",downloadTooltip:"Civitai",intentTooltip:"URL",downloadDescription:"Civitai",intentDescription:"CivitaiURL",downloadSuccess:"Civitai...",downloadError:"",downloadButtonTooltip:"Civitai",intentButtonTooltip:"URLCivitai",downloadAndOpen:"Civitai",postTitle:"",postTitlePlaceholder:"",postDescription:"",postDescriptionPlaceholder:"",tags:"",tagsPlaceholder:"",includeMetadata:"",includeMetadataDescription:"AI",uploadButton:"",uploading:"...",submit:"",openInCivitai:"Civitai",success:"Intent URLCivitai",error:"",disabled:"Civitai"},errors:{loadFailed:"Civitai",updateFailed:"",resetFailed:"",clearFailed:"",rescanFailed:""},success:{enabled:"Civitai",disabled:"Civitai",statsReset:"",cacheCleared:"",rescanStarted:"{{total}}",rescanCompleted:"{{added}}"}},XCe={title:"API",description:"CivitaiAPI",currentApiKey:"API",currentApiKeyHelper:"",newApiKey:"API",newApiKeyPlaceholder:"API",baseUrl:"URL",baseUrlHelper:"APIURL",testConnection:"",addProvider:"",addProviderDescription:"API",providerName:"",providerNameHelper:"_-openaistability",providerDisplayName:"",deleteConfirmTitle:"",deleteConfirmMessage:"{{provider}}",success:{saved:"API",deleted:"",created:"",connectionTest:"",toggled:"{{state}}"},errors:{loadFailed:"",saveFailed:"",deleteFailed:"",createFailed:"",connectionTestFailed:"",nameRequired:"",toggleFailed:""}},QCe={title:MCe,subtitle:PCe,tabs:LCe,general:zCe,tagger:FCe,rating:BCe,similarity:HCe,messages:$Ce,thumbnailRegeneration:UCe,folderSettings:GCe,thumbnail:qCe,background:WCe,auth:VCe,common:YCe,civitai:KCe,externalApi:XCe},ZCe={title:"ComfyUI Image Manager",menu:{home:"",gallery:"",imageGroups:"",search:"",upload:"",imageGeneration:"",settings:"",help:""},tooltip:{home:"",gallery:"",imageGroups:"",search:"",upload:"",imageGeneration:"AI",settings:"",help:""},theme:{light:"",dark:"",toggle:""},mobileMenu:{open:"",close:""}},JCe={copyright:" 2024 ComfyUI Image Manager. ",version:""},ewe={title:"",sections:{gettingStarted:"",imageManagement:"",autoCollection:"",promptSystem:"",settings:"",shortcuts:""}},twe={header:ZCe,footer:JCe,help:ewe},nwe={title:"",description:""},awe={aiTool:"AI ",sortBy:"",sortOrder:"",all:"",clearFilters:""},iwe={uploadDate:"",filename:"",fileSize:"",width:"",height:"",ascending:"",descending:""},rwe={refresh:"",selectAll:"",deselectAll:""},owe={loading:"...",noImages:"",error:""},swe={aiToolLabel:"AI : {{tool}}"},lwe="[zh-CN] Select All ({{selected}}/{{total}})",cwe="[zh-CN] Total {{count}} images",uwe={title:"[zh-CN] Image Grid"},dwe={toggleMode:"[zh-CN] Deactivate Selection Mode",activateMode:"[zh-CN] Activate Selection Mode",selectedImages:"[zh-CN] Selected Images:",selectAll:"[zh-CN] Select All",deselectAll:"[zh-CN] Deselect All",selectAllWithCount:"[zh-CN] Select All ({{selected}}/{{total}})",methods:{title:"[zh-CN] Selection Methods:",click:"[zh-CN]  Click: Select/deselect individual",drag:"[zh-CN]  Drag: Select multiple images",shiftClick:"[zh-CN]  Shift + Click: Range select",ctrlClick:"[zh-CN]  Ctrl/Cmd + Click: Toggle select",ctrlA:"[zh-CN]  Ctrl/Cmd + A: Select all",esc:"[zh-CN]  ESC: Deselect"}},fwe={noImages:"[zh-CN] No images",uploadPrompt:"[zh-CN] Try uploading images.",uploadOrSearch:"[zh-CN] Upload images or change search criteria."},hwe="[zh-CN] Loading images...",pwe="[zh-CN] All images loaded",mwe={page:nwe,filters:awe,sorting:iwe,actions:rwe,status:owe,chips:swe,selectAllLabel:lwe,totalImages:cwe,imageGridModal:uwe,selection:dwe,emptyState:fwe,loading:hwe,allImagesLoaded:pwe},gwe={title:"",notFound:"",errorLoading:"",noIdProvided:" ID"},bwe={download:"",share:"",back:"",goToDetail:"",uploadToCivitai:"Civitai",delete:"",deleteConfirm:"",deleteSuccess:"",deleteError:""},ywe={fileInfo:"",imageInfo:"",videoInfo:"",aiInfo:"",promptInfo:"",groupInfo:"",fullMetadata:""},xwe={originalFilename:"",filename:"",size:"",fileSize:"",mimeType:"MIME ",uploadDate:""},vwe={dimensions:"",dimensionsValue:"{{width}}  {{height}}"},Swe={duration:"",durationValue:"{{minutes}} {{seconds}}",fps:"",fpsValue:"{{fps}} fps",videoCodec:"",audioCodec:"",bitrate:"",bitrateValue:"{{bitrate}} Mbps"},Cwe={tool:"AI ",toolShort:"",model:"",lora:"LoRA",steps:"",cfgScale:"CFG Scale",cfgShort:"CFG",sampler:"",scheduler:"",seed:"",denoiseStrength:"",generationTime:"",generationTimeValue:"{{time}}",batchSize:"",batchIndex:""},wwe={autoType:"",manualType:"",groupLabel:"{{name}} ({{type}})"},_we={controls:{zoomIn:"",zoomOut:"",rotateLeft:"",rotateRight:"",flipHorizontal:"",flipVertical:"",reset:"",info:"",close:""},navigation:{previous:" ()",next:" ()",random:" (Space)",currentPosition:"{{current}} / {{total}}"}},Twe={title:"[zh-CN] Image Information"},Ewe="[zh-CN] Copy hash",Awe="[zh-CN] Waiting for hash generation...",Rwe="[zh-CN] Hash copied",kwe="[zh-CN] View Thumbnail (Fast Loading)",Iwe="[zh-CN] View Original (High Quality)",Nwe="[zh-CN] Original image not found. Showing thumbnail.",jwe={title:"[zh-CN] Group: {{name}}",defaultTitle:"[zh-CN] Group Images"},Dwe={page:gwe,actions:bwe,sections:ywe,fileInfo:xwe,imageInfo:vwe,videoInfo:Swe,aiInfo:Cwe,groupInfo:wwe,viewer:_we,info:Twe,copyHash:Ewe,hashGenerating:Awe,hashCopied:Rwe,viewThumbnail:kwe,viewOriginal:Iwe,originalNotFound:Nwe,groupModal:jwe},Owe={title:"",description:"AI"},Mwe={dragActive:"",dragInactive:"",supportedFormats:"JPGPNGGIFBMPWebPTIFF | MP4WebMMOVAVIMKV500MB",imageSupport:"",videoSupport:"",multipleSelection:"",divider:""},Pwe={selectFiles:"",selectFolder:""},Lwe={title:"",fileCount:"{{completed}}/{{total}}",summary:"{{total}} - {{success}}{{failed}}"},zwe={upload:"",metadata:"",thumbnail:"",autoCollect:"",autoTag:""},Fwe={waiting:"",processing:"",complete:"",error:""},Bwe={uploadComplete:"",uploadSuccess:"",uploadFailed:"",uploadError:"",multipleSuccess:"{{count}}",allFailed:"",partialSuccess:"{{success}}{{failed}}"},Hwe={title:"[zh-CN] Prompt Preview",description:"[zh-CN] Select an image to instantly view AI metadata without uploading to server.",dragOrClick:"[zh-CN] Drag or click to select an image",dropHere:"[zh-CN] Drop file here",noUpload:"[zh-CN] Images are analyzed in browser only, not uploaded to server",imagePreview:"[zh-CN] Image Preview",aiTool:"[zh-CN] AI Tool",positivePrompt:"[zh-CN] Prompt",negativePrompt:"[zh-CN] Negative Prompt",terms:"[zh-CN] Extracted Terms",loraModels:"[zh-CN] LoRA Models",parameters:"[zh-CN] Generation Parameters",rawMetadata:"[zh-CN] Raw Metadata (EXIF/PNG Chunks)",invalidFileType:"[zh-CN] Only image files are allowed",extractionFailed:"[zh-CN] Failed to extract metadata"},$we={page:Owe,dropzone:Mwe,buttons:Pwe,progress:Lwe,stages:zwe,status:Fwe,messages:Bwe,promptPreview:Hwe},Uwe={title:"",description:"",emptyTitle:"",emptyDescription:"",customGroupsTab:"[zh-CN] Custom Groups",autoFolderGroupsTab:"[zh-CN] Auto Folder Groups"},Gwe={imageCount:"{{count}}",subgroupCount:"{{count}}",folderCount:"{{count}}",autoCollect:"",stats:"{{auto}} | {{manual}}"},qwe={viewImages:"",title:"{{name}} - ",description:"",folderDescription:""},Wwe={edit:"",delete:"",runAutoCollection:""},Vwe={basicInfo:"",autoCollect:""},Ywe={createTitle:"",editTitle:"",basicInfo:"",groupName:"",description:"",groupColor:"",autoCollectEnable:"",autoCollectDescription:"",orConditionInfo:"OR",orConditionExample:`"'anime'" + ""  `,conditionsTitle:"",addCondition:"",conditionType:"",conditionValue:"",emptyConditions:"",buttonCreate:"",buttonUpdate:"",buttonCancel:"",autoCollectDisabledHelp:",",filterApplied:"{{count}}:   OR  AND",addFiltersPrompt:"",filterHelpTooltip:"",parentGroup:"[zh-CN] Parent Group",noParent:"[zh-CN] None (Root Level)",selectParent:"[zh-CN] Select Parent Group"},Kwe={conditionNumber:"{{number}}",removeCondition:"",addFirstCondition:"",autoCollectDisabled:"",groups:{basic:"",prompt:"",autotag:"Auto Tag",duplicate:""},types:{aiTool:"AI",modelName:"",promptContains:"",promptRegex:"",negativePromptContains:"",negativePromptRegex:"",autoTagExists:"Auto Tag ",autoTagRating:"Auto Tag: ",autoTagRatingScore:"Auto Tag: ",autoTagGeneral:"Auto Tag: ",autoTagCharacter:"Auto Tag: ",autoTagHasCharacter:"Auto Tag: ",autoTagModel:"Auto Tag: ",duplicateExact:"",duplicateNear:"",duplicateSimilar:"",duplicateCustom:""},values:{exists:"",notExists:""},ratings:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"},fields:{value:"",ratingType:"",minScore:"",maxScore:"",tagName:"",characterName:"",caseSensitive:"",exactMatch:"",exactMatchHelp:"'asd''aasd''asdf'",weightedScore:"",maxWeightInfo:"200",confidenceRange:"0.01.0{{min}}{{max}}",confidenceInfo:" ",hammingThreshold:"",hammingThresholdHelp:"0-64",hammingInfo:" ",duplicateNote:" perceptual_hash"},duplicateInfo:{duplicate_exact:"  = 0",duplicate_near:"   5",duplicate_similar:"   15"},placeholders:{regex:"",modelName:"wd-v1-4-moat-tagger-v2",text:"",tagName:"",characterName:""}},Xwe={nameRequired:"",conditionRequired:"",valueRequired:"{{index}}",ratingTypeRequired:"{{index}}",ratingScoreRequired:"{{index}}",minScoreInvalid:"{{index}}0",maxScoreInvalid:"{{index}}0",scoreRangeInvalid:"{{index}}",confidenceScoreRange:"{{index}}0.01.0",confidenceMaxScoreRange:"{{index}}0.01.0",confidenceMinMaxInvalid:"{{index}}",hammingThresholdRequired:"{{index}}",hammingThresholdRange:"{{index}}064"},Qwe={loadFailed:"",imageLoadFailed:"",deleteSuccess:"",deleteFailed:"",autoCollectSuccess:"{{added}}{{removed}}",autoCollectFailed:"",createSuccess:"",createFailed:"",updateSuccess:"",updateFailed:"",removeWarning:"",removeSuccess:"{{count}}",removePartialSuccess:"{{removed}}{{failed}}",removeError:"",assignSuccess:"{{added}}{{converted}}{{skipped}}",assignFailed:"",assignError:"",emptyGroup:""},Zwe={title:"{{name}}{{count}}",selectedCount:"{{count}}",buttonRemove:"",buttonAssign:"",infoMixedSelection:"",warningAutoOnly:"",confirmRemoveTitle:"",confirmRemoveMessage:"{{count}}",confirmRemoveNote:""},Jwe={title:"",description:"{{count}}",currentGroup:"",emptyGroups:"",loadError:"",loadingError:"",buttonAssign:"",buttonCancel:""},e4e={groupList:"",root:"[zh-CN] Root",childGroups:"[zh-CN] {{count}} subgroups",openSubgroups:"[zh-CN] Open Subgroups",backToParent:"[zh-CN] Back to Parent",moveGroup:"[zh-CN] Move Group",moveToRoot:"[zh-CN] Move to Root",cannotMoveToSelf:"[zh-CN] Cannot move to itself",cannotMoveToDescendant:"[zh-CN] Cannot move to descendant group",maxDepthExceeded:"[zh-CN] Maximum depth (5 levels) exceeded",circularReference:"[zh-CN] Circular reference detected",hierarchyInvalid:"[zh-CN] Invalid hierarchy structure"},t4e={title:"[zh-CN] Confirm Group Deletion",message:"[zh-CN] Are you sure you want to delete the group '{{name}}'?",groupInfo:{imageCount:"[zh-CN] Associated images: {{count}}",childCount:"[zh-CN] Subgroups: {{count}}"},warning:{imageAssociations:"[zh-CN]  All associations between this group and images will be removed. The image files themselves will not be deleted."},options:{title:"[zh-CN] How to handle subgroups",orphan:{label:"[zh-CN] Delete only this group (Recommended)",description:"[zh-CN] Subgroups will be moved to root level."},cascade:{label:"[zh-CN] Delete this group and all subgroups",description:"[zh-CN] {{count}} subgroups will be deleted. This action cannot be undone."}}},n4e={menuTitle:"[zh-CN] Download Options",scopeAll:"[zh-CN] Download All",scopeSelected:"[zh-CN] Selected {{count}} Only",typeThumbnail:"[zh-CN] Images (Thumbnail)",typeOriginal:"[zh-CN] Images (Original)",typeVideo:"[zh-CN] Videos & Animations (Original)",confirmTitle:"[zh-CN] Confirm Large Download",confirmMessage:"[zh-CN] Download {{count}} files. Continue?",confirmButton:"[zh-CN] Download"},a4e="[zh-CN] Group",i4e="[zh-CN] Auto-navigate to subgroup: {{from}}  {{to}}",r4e="[zh-CN] Group created. Please refresh your browser.",o4e="[zh-CN] Group updated. Please refresh your browser.",s4e={noGroups:"[zh-CN] No groups created",noSubgroups:"[zh-CN] No subgroups",createPrompt:"[zh-CN] Press the + button to create a new group",noSubgroupsHelp:"[zh-CN] Current group has no subgroups"},l4e={readOnlyMessage:"[zh-CN] This is a read-only group. Changes must be made to the original file location.",rebuilding:"[zh-CN] Rebuilding...",refresh:"",emptyState:{noGroups:"[zh-CN] No auto folder groups",noSubfolders:"[zh-CN] No subfolders",refreshPrompt:"[zh-CN] Press the refresh button to create folder structure",noSubfoldersHelp:"[zh-CN] Current folder has no subfolders"}},c4e={page:Uwe,groupCard:Gwe,imageView:qwe,menu:Wwe,tabs:Vwe,modal:Ywe,conditions:Kwe,validation:Xwe,messages:Qwe,imageModal:Zwe,assignModal:Jwe,hierarchy:e4e,deleteConfirm:t4e,download:n4e,defaultGroupName:a4e,autoNavigate:i4e,created:r4e,updated:o4e,emptyState:s4e,autoFolder:l4e},u4e="",d4e="AI",f4e={placeholder:"...",button:"",clear:"",execute:""},h4e={title:"",searching:"...",found:"{{count}}",noResults:"",noResultsHint:"",initialMessage:"",initialHint:"AI",reset:"",refresh:""},p4e={basic:{aiTool:{label:"AI",all:""},modelName:{label:"",placeholder:": sd_xl_base_1.0"},startDate:{label:""},endDate:{label:""}},quickDate:{today:"",todayTooltip:"","7days":"7","7daysTooltip":"7","30days":"30","30daysTooltip":"30","90days":"90","90daysTooltip":"90"},advanced:{title:"",active:"",negativePrompt:{label:"",placeholder:" (: ugly, blurry)"}},autoTag:{title:"",subtitle:"(WD v3 Tagger)",active:"",tabs:{rating:"",character:"",generalTags:""},rating:{typeMode:"",scoreMode:"",typeDescription:"",scoreDescription:"",type:{label:"",none:"",general:"",sensitive:"",questionable:"",explicit:""},confidenceRange:"",scoreRange:""},character:{description:"",existence:{label:"",all:"",true:"",false:""},name:{label:"",placeholder:": hatsune_miku"},confidenceRange:""},generalTags:{description:"",tagName:{label:"",placeholder:": 1girl, solo, landscape"},confidence:": {{min}} ~ {{max}}",addedTags:" ({{count}})"}}},m4e={title:""},g4e={addButton:"[zh-CN] Add Filter",emptyMessage:"[zh-CN] Add filters to start searching",countInfo:"[zh-CN] {{count}} filter(s) will be applied.",executionOrder:"[zh-CN] Execution order: Exclude  OR  AND",modal:{title:"[zh-CN] Add Filter",cancel:"[zh-CN] Cancel",back:"[zh-CN] Back",next:"[zh-CN] Next",add:"[zh-CN] Add Filter",steps:{selectGroup:"[zh-CN] Select Filter Group",selectCategory:"[zh-CN] Select Category",configureCondition:"[zh-CN] Configure Condition"},step1:{description:"[zh-CN] Choose how to apply the filter"},step2:{description:"[zh-CN] Select what information to search by"},step3:{description:"[zh-CN] Configure the condition. Filters cannot be edited after creation, you must delete and recreate them."}},groupTypes:{exclude:{label:"[zh-CN] Exclude (NOT)",description:"[zh-CN] Exclude images matching this condition from results"},or:{label:"[zh-CN] OR Group",description:"[zh-CN] Include images matching this condition in results"},and:{label:"[zh-CN] AND Group",description:"[zh-CN] Only include images matching all conditions"}},categories:{positive_prompt:{label:"[zh-CN] Positive Prompt",description:"[zh-CN] Search positive prompts used in image generation"},negative_prompt:{label:"[zh-CN] Negative Prompt",description:"[zh-CN] Search negative prompts used in image generation"},auto_tag:{label:"[zh-CN] Auto Tag (WD Tagger)",description:"[zh-CN] Search auto-generated tags from WD v3 Tagger"},basic:{label:"[zh-CN] Basic Info",description:"[zh-CN] Search basic metadata like AI tool and model name"}},conditionTypes:{conditionType:"[zh-CN] Condition Type",value:"[zh-CN] Value",placeholder:"[zh-CN] Enter value to search",scoreRange:"[zh-CN] Score Range",weightRange:"[zh-CN] Weight Range",tagName:"[zh-CN] Tag/Character Name",tagPlaceholder:"[zh-CN] e.g., 1girl, hatsune_miku",ratingType:"[zh-CN] Rating Type",exists:"[zh-CN] Present",notExists:"[zh-CN] Absent"}},b4e={title:u4e,description:d4e,searchInput:f4e,results:h4e,filters:p4e,searchHistory:m4e,filterBlock:g4e},y4e="",x4e="AI",v4e={positive:"",negative:""},S4e={search:{placeholder:"{{type}}..."},filters:{groupFilter:{label:"",all:"",unassigned:""}},table:{headers:{prompt:"",usageCount:"",assignedGroup:"",actions:""},empty:"",synonyms:{more:"+{{count}}"}},actions:{assignToGroup:"",delete:"",cannotDelete:"",groupManagement:""},statistics:{unclassified:"",unknown:""},pagination:{rowsPerPage:":",displayedRows:"{{from}}-{{to}} / {{count}}"},messages:{loadFailed:"",deleteSuccess:"",deleteFailed:"",assignSuccess:"",assignFailed:""}},C4e={title:"",selectGroup:{label:"",unassigned:""},actions:{cancel:"",assign:""}},w4e={title:"{{type}}",dragHint:"",editForm:{titleAdd:"",titleEdit:"",groupName:{label:"",required:""},displayOrder:{label:""},visibility:{label:"",hidden:""},actions:{save:"",cancel:""}},groupList:{title:" ({{count}})",add:"",empty:"",promptCount:"{{count}}",displayOrder:": {{order}}"},actions:{toggleVisibility:"",edit:"",delete:"",deleteConfirm:"",close:""},messages:{loadFailed:"",createSuccess:"",createFailed:"",updateSuccess:"",updateFailed:"",deleteSuccess:"",deleteFailed:"",visibilityFailed:"",reorderSuccess:"",reorderFailed:""}},_4e={tabs:{positive:"",negative:"",auto:""},labels:{prompt:"",negativePrompt:""},noPrompt:"",loading:"...",loadFailed:""},T4e={noTags:"",generateButton:"",generating:"...",generationError:"",sections:{rating:"",characters:"",tagList:"",generalTags:" ({{count}})",modelInfo:""},modelInfo:{model:"",generalThreshold:"",characterThreshold:"",taggedAt:""}},E4e={title:y4e,description:x4e,tabs:v4e,promptList:S4e,assignDialog:C4e,groupManagement:w4e,promptDisplay:_4e,autoTagDisplay:T4e},A4e={generate:"",history:""},R4e={title:"",listTitle:"",addButton:"",editTitle:"",createTitle:"",noWorkflows:"",noWorkflowsDesc:'""ComfyUI'},k4e={active:"",inactive:"",fieldsCount:"{{count}}",createdDate:": {{date}}",generateImage:"",notFound:""},I4e={basicInfo:"",workflowName:"",description:"",apiEndpoint:"API",activate:"",workflowJson:"JSON",uploadFile:"",jsonPlaceholder:'{"prompt": {...}}',jsonHelper:"ComfyUIAPI JSON",jsonCharCount:"{{count}}",invalidJson:"JSON",nameRequired:"",jsonRequired:"JSON",validateJson:"JSON",colorLabel:"[zh-CN] Workflow Color",customColorTooltip:"[zh-CN] Select custom color",selectImage:"[zh-CN] Select Image"},N4e={importantNote:":",apiFormatWarning:'ComfyUI"Save (API Format)"JSONJSON',created:"",updated:"",inactiveWarning:"",noConfigurableFields:""},j4e={sectionTitle:"",guideTitle:"",addField:"",noFields:'""',whatIs:"",whatIsDesc:"CFG",howToFind:"JSON:",step1:'ComfyUI"Save (API Format)"',step2:"JSON",step3:": [].inputs.[]",exampleTitle:":",example1Title:"1.  (CLIPTextEncode #6)",example1FieldId:"ID: prompt_positive",example1Label:": ",example1Type:":  (textarea)",example1Path:"JSON: 6.inputs.text",example1Default:": a beautiful landscape",example2Title:"2.  (KSampler #3)",example2FieldId:"ID: seed",example2Label:": ",example2Type:": ",example2Path:"JSON: 3.inputs.seed",example2Default:": 123456",example3Title:"3.  (KSampler #3)",example3FieldId:"ID: steps",example3Label:": ",example3Type:": ",example3Path:"JSON: 3.inputs.steps",example3Default:": 20",example3Min:": 1",example3Max:": 150",example4Title:"4.  (KSampler #3)",example4FieldId:"ID: sampler_name",example4Label:": ",example4Type:": ",example4Path:"JSON: 3.inputs.sampler_name",example4Options:": euler, euler_ancestral, dpm++ 2m, ddim",tipTitle:" :",tipDesc:'JSONJSONJSON{\\"3\\": {\\"inputs\\": {\\"seed\\": 123}}}JSON3.inputs.seed',previewTitle:"",unnamedField:"[zh-CN] Unnamed Field",noJsonPath:"[zh-CN] No JSON Path",stepLabel:"[zh-CN] Step Unit",stepHelperText:"[zh-CN] Step value (e.g., 0.01)",stepPlaceholder:"[zh-CN] 0.01",autoUpdated:"[zh-CN] (Auto-updated)",listPreviewHelper:"[zh-CN] Preview of referenced list (read-only)",loadFromListTooltip:"[zh-CN] Load from custom list",loadFromListTitle:"[zh-CN] Load from Custom List",noCustomLists:"[zh-CN] No custom lists registered.",itemCount:"[zh-CN] {{count}} items - "},D4e={fieldId:"ID",fieldIdPlaceholder:"prompt_positive",fieldIdHelper:"",label:"",labelPlaceholder:"",labelHelper:"",type:"",typeHelper:"",typeText:" ()",typeTextarea:" ()",typeNumber:"",typeSelect:" ()",jsonPath:"JSON *",jsonPathPlaceholder:"6.inputs.text",jsonPathHelper:"JSON: 6.inputs.text (6text)",defaultValue:"",defaultValuePlaceholder:"a beautiful landscape",defaultValueHelper:"",required:"",minValue:"",minPlaceholder:"1",maxValue:"",maxPlaceholder:"150",selectOptions:" ()",selectOptionsPlaceholder:"euler, dpm++, ddim",selectOptionsHelper:": euler, dpm++ 2m, ddim"},O4e={pageTitle:"",settingsTitle:"",missingFields:": {{fields}}",emptyPrompt:"",selectPlaceholder:"",previewTitle:"",generateAll:" ({{count}})",serversListTitle:"ComfyUI",serversListDesc:"",noServers:"ComfyUI",noConnectedServers:"",responseTime:": {{time}}",generateButton:"",generating:"...",generationComplete:"",generationFailed:"",executionTime:"{{time}}",viewImage:""},M4e={save:"",saving:"...",cancel:"",create:"",update:"",delete:"",confirmDelete:""},P4e={title:"",enable:"",count:"",infinite:"-1",countHelp:"1-999  -1",delay:"",delayHelp:"1-300",progress:"{{current}}",progressWithTotal:"{{current}}/{{total}}",stop:""},L4e={title:"",buttons:{add:"",edit:"",delete:"",view:"",cancel:"",create:"",save:""},labels:{name:"",description:"",items:"",itemsHelper:""},empty:{title:"",description:'""'},dialog:{add:"",edit:"",deleteConfirm:""},validation:{minItems:"1"},stats:{itemCount:"{{count}}",moreItems:"+{{count}}",createdAt:": {{date}}"}},z4e={statusTitle:"",overall:": {{completed}}{{total}} ",withInfinite:" ()",serverProgress:"{{count}}",serverProgressInfinite:"{{count}} ()"},F4e={generate:"",startRepeat:"",stop:"",executingInfinite:"{{count}} ()",executingProgress:"{{current}} / {{total}}"},B4e={title:"",selectGroup:"",autoAddDescription:""},H4e={searchPlaceholder:"...",filterTypes:"",layoutSwitch:"{{layout}}",layoutTopBottom:"",layoutLeftRight:"",expandAll:"",collapseAll:""},$4e={title:"JSON",copyToClipboard:"",copied:""},U4e={graphView:"",jsonView:"JSON"},G4e={blue:"[zh-CN] Blue (default)",red:"[zh-CN] Red",green:"[zh-CN] Green",orange:"[zh-CN] Orange",purple:"[zh-CN] Purple",cyan:"[zh-CN] Cyan",yellow:"[zh-CN] Yellow",brown:"[zh-CN] Brown",gray:"[zh-CN] Gray",pink:"[zh-CN] Pink"},q4e={title:"[zh-CN] Marked Fields Preview",parseError:"[zh-CN] Cannot parse Workflow JSON",noJson:"[zh-CN] No Workflow JSON",pathNotFound:"[zh-CN] Path not found: {{path}}",validationError:"[zh-CN] Error during path validation",substitutionError:"[zh-CN] Error during substitution",validationResults:"[zh-CN] Path Validation Results",currentValue:"[zh-CN] Current value:",formTitle:"[zh-CN] Form to be displayed during image generation",generateButton:"[zh-CN] Generate Image (Preview)",testDataButton:"[zh-CN] Preview with test data",viewJsonTitle:"[zh-CN] View substituted Workflow JSON"},W4e={title:"[zh-CN] Select Image",tabs:{dbSearch:"[zh-CN] DB Search",hash:"[zh-CN] Hash",upload:"[zh-CN] Upload",history:"[zh-CN] History",dedicatedFolder:"[zh-CN] Dedicated Folder"},inPreparation:"[zh-CN] In preparation",hashInputLabel:"[zh-CN] Enter image hash",hashInputPlaceholder:"[zh-CN] Enter image hash",hashComingSoon:"[zh-CN] Hash-based image loading will be implemented in the future.",selectButton:"[zh-CN] Select Image",useAsIs:"[zh-CN] Use as is",editButton:"[zh-CN] Edit (In preparation)",noImagesInFolder:"[zh-CN] No images in dedicated folder.",addImagesPrompt:"[zh-CN] Add images to folder."},V4e={subtabs:A4e,page:R4e,card:k4e,form:I4e,alerts:N4e,markedFields:j4e,fieldForm:D4e,generate:O4e,actions:M4e,repeat:P4e,customDropdowns:L4e,repeatExecution:z4e,serverStatus:F4e,groupAssignment:B4e,graphToolbar:H4e,jsonViewer:$4e,workflowViewer:U4e,colors:G4e,preview:q4e,imageSelection:W4e},Y4e={title:"",subtitle:"ComfyUI"},K4e={workflows:"",servers:"",novelai:"NovelAI",ariaLabel:"",comfyui:"[zh-CN] ComfyUI",wildcards:"[zh-CN] Wildcards"},X4e={subtabs:{generate:"",history:"",helper:""},login:{title:"NovelAI",subtitle:"NovelAI",tabs:{credentials:"/",token:""},username:"",password:"",token:"",tokenPlaceholder:"NovelAI",tokenHint:"NovelAI",loginButton:"",loggingIn:"...",error:"",tokenError:""},generate:{title:"NovelAI",logout:"",prompt:"",negativePrompt:"",resolution:"",sampler:"",steps:"",guidance:"",samples:"",ucPreset:"",generateButton:"",generating:"...",resultTitle:"",download:"",upload:"",metadata:"",tokenExpired:"",subscriptionRequired:"",error:"",uploadSuccess:"",uploadError:"",autoUploadSuccess:"{{count}}",autoUploadPartial:"{{success}}{{fail}}",success:"{{count}}",completed:"",failed:""},errors:{emptyPrompt:""},repeat:{title:"",enable:"",count:"",infinite:"-1",countHelp:"1-999  -1",delay:"",delayHelp:"1-300",progress:"{{current}}",progressWithTotal:"{{current}}/{{total}}",stop:""},resolution:{mode:"",modeFixed:"",modeRandom:"",selectResolution:"",selectMultiple:"",addCustom:"",swapDimensions:"",swapDimensionsDesc:"",finalResolution:"",randomPool:"",swapped:"",randomSwapInfo:"50%",selectAtLeastOne:"",customDialog:{addTitle:"",editTitle:"",name:"",namePlaceholder:"",width:"",height:"",save:"",cancel:"",nameRequired:"",widthInvalid:"642048",heightInvalid:"642048"}},naiSettings:{basic:{title:"",model:"",resolution:"",prompt:"",promptPlaceholder:"1girl, portrait, detailed face, masterpiece...",negativePrompt:"",negativePromptPlaceholder:"bad anatomy, low quality..."},sampling:{title:"",sampler:"",noiseSchedule:"Noise Schedule",steps:"Steps",guidance:"Guidance",cfgRescale:"CFG Rescale",uncondScale:"Uncond Scale",varietyPlus:"Variety+"},output:{title:"",samples:""}},tabs:{basic:"[zh-CN] Basic Settings",advanced:"[zh-CN] Advanced Settings"},sections:{preset:"[zh-CN] Quality Presets",prompts:"[zh-CN] Prompts",output:"[zh-CN] Output Settings",advanced:"[zh-CN] Advanced Settings",sampling:"[zh-CN] Sampling Settings",quality:"[zh-CN] Quality Settings",model:"[zh-CN] Model Selection"},anlas:{balance:"[zh-CN] Anlas Balance",refresh:"",subscription:"[zh-CN] Subscription",free:"[zh-CN] Free",tablet:"[zh-CN] Tablet",scroll:"[zh-CN] Scroll",opus:"[zh-CN] Opus"},cost:{title:"[zh-CN] Cost Estimate",anlas:"[zh-CN] Anlas",balance:"[zh-CN] Balance",sufficient:"[zh-CN] Sufficient",insufficient:"[zh-CN] Insufficient",opusFree:"[zh-CN] Opus Free Generation",maxSamples:"[zh-CN] Max Samples"},models:{label:"[zh-CN] Model Selection",v45curated:"[zh-CN] V4.5 Curated (Recommended)",v45full:"[zh-CN] V4.5 Full",v4curated:"[zh-CN] V4 Curated",v4full:"[zh-CN] V4 Full",v3:"[zh-CN] V3 (Legacy)",v3furry:"[zh-CN] V3 Furry"},advanced:{cfgRescale:"[zh-CN] Prompt Guidance Rescale",noiseSchedule:"[zh-CN] Noise Schedule",uncondScale:"[zh-CN] Undesired Content Strength"},settings:{qualityToggle:"[zh-CN] Auto-add quality tags"},presets:{title:"[zh-CN] Quality Presets",label:"[zh-CN] Quality Presets",quality:{name:"[zh-CN] Quality",description:"[zh-CN] Balanced quality and speed (28 steps, Euler)"},fast:{name:"[zh-CN] Fast",description:"[zh-CN] Quick generation (15 steps, Euler)"},artistic:{name:"[zh-CN] Artistic",description:"[zh-CN] Creative results (35 steps, DPM++ 2S Ancestral, SMEA DYN)"},realistic:{name:"[zh-CN] Realistic",description:"[zh-CN] Realistic images (40 steps, DPM++ 2M, SMEA)"},detail:{name:"[zh-CN] Detail",description:"[zh-CN] Maximum detail (50 steps, DPM++ SDE, SMEA DYN)"}},gallery:{images:"[zh-CN] Images",showMetadata:"[zh-CN] Show Metadata",hideMetadata:"[zh-CN] Hide Metadata",downloadAll:"[zh-CN] Download All"},history:{title:"[zh-CN] Generation History",comingSoon:"[zh-CN] This feature is coming soon.",description:"[zh-CN] View your previously generated images and settings."}},Q4e={title:"",buttons:{addList:"",loadComfyUI:"ComfyUI",edit:"",delete:"",close:"",cancel:"",create:"",collect:"",viewList:"",selectFolder:"models"},tabs:{autoCollected:"",manual:""},labels:{auto:"",itemCount:"{{count}}",listName:"",listNameRequired:" *",description:"",path:"",itemList:"*",itemListCount:"{{count}}",pathOptions:"",checkpointsFullPath:"checkpoints - ",unetFullPath:"unet - ",upscaleModelsFullPath:"upscale_models - "},dialog:{viewTitle:"",createTitle:"",editTitle:"",comfyUITitle:"ComfyUI"},messages:{noAutoCollected:'"ComfyUI"',noManual:'""',minItemError:"1",deleteConfirm:"",selectFolderError:"",autoCollectedReadOnly:"",selectComfyUIFolder:"ComfyUImodels",foldersDetected:"{{count}}",fileCount:"{{count}}",moreCount:"...{{count}}",collecting:"...",pathExample:"{{example}}",scanInfo:`
 checkpointsunetupscale_models
 
 ""`},placeholders:{itemList:`
SDXL 1.0
SD 1.5
Realistic Vision
DreamShaper`},helperText:{itemList:""}},Z4e={page:Y4e,tabs:K4e,nai:X4e,customDropdown:Q4e},J4e="",e_e="{{count}}",t_e="",n_e="...",a_e="...",i_e="",r_e="",o_e="",s_e="",l_e="",c_e={pending:"",processing:"",completed:"",failed:""},u_e={comfyui:"ComfyUI",novelai:"NovelAI"},d_e={regenerate:"",delete:"",refresh:"",confirmDelete:""},f_e=" ({{count}})",h_e={title:"",confirm:"{{count}}",warning:""},p_e={title:"",status:"",service:"",positivePrompt:"",negativePrompt:"",size:"",model:"",sampler:"",steps:"",cfgScale:"CFG Scale",seed:"",error:"",createdAt:"",completedAt:""},m_e="[zh-CN] Failed to cleanup",g_e="[zh-CN] Cleanup Failed Items",b_e="[zh-CN] Are you sure you want to delete {{count}} failed generation histories?",y_e="[zh-CN] Only database records will be deleted, files will be kept.",x_e="[zh-CN] Cleanup",v_e="[zh-CN] Cleaning...",S_e="[zh-CN] {{count}} failed items have been deleted",C_e="[zh-CN] No failed items to clean up",w_e="[zh-CN] Failed to bulk delete",__e={title:J4e,count:e_e,empty:t_e,loading:n_e,loadingMore:a_e,allLoaded:i_e,noHistory:r_e,noHistoryDescription:o_e,deleteConfirm:s_e,deleteFailed:l_e,status:c_e,service:u_e,actions:d_e,deleteSelected:f_e,deleteDialog:h_e,detail:p_e,cleanupFailed:m_e,cleanupFailedTitle:g_e,cleanupFailedConfirm:b_e,cleanupFailedNote:y_e,cleanup:x_e,cleaning:v_e,cleanupSuccess:S_e,noFailedRecords:C_e,bulkDeleteFailed:w_e},T_e={title:"",listTitle:"ComfyUI",addButton:"",noServers:"",noServersDesc:'""ComfyUI'},E_e={active:"",inactive:"",priority:": {{priority}}",concurrent:": {{count}}",connectionSuccess:"",connectionFailed:"",testConnection:""},A_e={addTitle:"",editTitle:"",serverName:"",endpointUrl:"URL",endpointPlaceholder:"http://127.0.0.1:8188",description:"",priority:"",priorityHelper:"",maxConcurrent:"",activate:"",cancel:"",add:"",update:""},R_e={connected:"",disconnected:"",testing:"",error:"",responseTime:": {{time}}"},k_e={test:"",edit:"",delete:"",confirmDelete:""},I_e={page:T_e,card:E_e,dialog:A_e,status:R_e,actions:k_e},N_e={network:"",timeout:"",unauthorized:"",forbidden:"",notFound:"",serverError:"",badRequest:"",unknown:""},j_e={fileTooLarge:"50MB",invalidFileType:"",uploadFailed:"",multipleUploadFailed:"",fileCountLimit:"",processingFailed:"",noFilesSelected:""},D_e={loadFailed:"",deleteFailed:"",multipleDeleteFailed:"{{count}}",downloadFailed:"",notFound:"",metadataExtractionFailed:""},O_e={loadFailed:"",createFailed:"",updateFailed:"",deleteFailed:"",assignFailed:"",removeFailed:"",autoCollectFailed:"",notFound:""},M_e={loadFailed:"",deleteFailed:"",assignFailed:"",synonymFailed:"",notFound:""},P_e={failed:"",invalidQuery:"",noResults:""},L_e={required:"",invalid:"",tooShort:"",tooLong:""},z_e={api:N_e,upload:j_e,image:D_e,group:O_e,prompt:M_e,search:P_e,validation:L_e},F_e={field:"",name:"",description:"",file:"",image:"",group:""},B_e={invalid:"",email:"",url:"URL",number:"",integer:""},H_e={min:"{{min}}",max:"{{max}}",exact:"{{length}}",between:"{{min}}{{max}}"},$_e={fileSize:"{{max}}",imageSize:"{{width}}{{height}}",fileTooLarge:"{{max}}",fileTooSmall:"{{min}}"},U_e={min:"{{min}}",max:"{{max}}",between:"{{min}}{{max}}"},G_e={invalid:"",imageOnly:"",videoOnly:"",imageOrVideo:"",allowedTypes:"{{types}}"},q_e={exists:"",name:"",value:""},W_e={required:F_e,format:B_e,length:H_e,size:$_e,range:U_e,fileType:G_e,duplicate:q_e},V_e={title:"",noWildcards:"",noWildcardsDesc:""},Y_e={all:"",both:""},K_e={add:"",addItem:"",preview:"",confirmDelete:"'{{name}}'?",copiedToClipboard:"[zh-CN] Copied to clipboard",copyFailed:"[zh-CN] Failed to copy"},X_e={items:"{{count}}",itemsCount:"",moreItems:"{{count}}"},Q_e={createTitle:"",editTitle:""},Z_e={name:"",nameHelper:"++ (: , )",description:" ()",parent:"",parentHelper:"",noParent:" ()",includeChildren:"",includeChildrenHelper:"",comfyuiItems:"ComfyUI",naiItems:"NovelAI",itemsHelper:"++++",itemPlaceholder:": , ,   , ++++"},J_e={title:"",inputLabel:"",inputPlaceholder:": ++++, ++++",generate:"",results:" (5)",result:" {{number}}"},e5e={nameRequired:"",itemsRequired:"",previewTextRequired:"",copyFailed:"[zh-CN] Failed to copy"},t5e={manual:"",autoCollected:" (LORA)"},n5e={children:"",items:"",selectItem:"",moreItems:""},a5e={title:"LORA",description:"LORA",folderPath:"LORA",folderPathHelper:"ComfyUI lorasLORA",loraWeight:"LORA",loraWeightHelper:" (: 1.0)",duplicateHandling:"",duplicateNumber:" (style, style_2)",duplicateParent:" (anime_style, realistic_style)",scanButton:"LORA",scanning:"...",lastScan:"",noScanYet:"",scanLog:{title:"",timestamp:"",folderPath:"",totalWildcards:"",totalItems:"",details:"",wildcardName:"",itemCount:""},noAutoWildcards:"",noAutoWildcardsDesc:"LORA",autoCollectedBadge:"",viewDetail:"[zh-CN] View Details",errors:{folderPathRequired:"LORA",invalidWeight:" (0.1 ~ 2.0)",scanFailed:": {{error}}"},tierLabel:" {{tier}}",filesSelected:"{{count}}LORA",filesFound:"<strong>{{count}}LORA</strong>:",promptsCount:"{{count}}",moreFiles:"...{{count}}",childCount:"{{count}}",noItems:"",filters:{tierFilter:"",wildcardSearch:"",searchPlaceholder:"...",clearFilters:"",totalWildcards:"<strong>{{count}}</strong>",filteredCount:"(: <strong>{{count}}</strong>)",noResults:"",tryDifferentFilters:""},matchingMode:"[zh-CN] Text File Matching Mode",matchingModeFilename:"[zh-CN] Filename Matching (lora.txt)",matchingModeCommon:"[zh-CN] Use Common Text File",commonTextFilename:"[zh-CN] Common Text Filename",commonTextFilenameHelper:"[zh-CN] Common text filename to use within folders (e.g., add.txt, common.txt)",matchingPriority:"[zh-CN] Matching Priority",priorityFilename:"[zh-CN] Filename Matching First (fallback to common text)",priorityCommon:"[zh-CN] Common Text First (fallback to filename matching)"},i5e={openScanDialog:"[zh-CN] Scan LORA",openLogDialog:"[zh-CN] Last Scan Log"},r5e={title:"[zh-CN] LORA Wildcard Auto-Generation",infoMessage:"[zh-CN] Please select ComfyUI's loras folder or a folder containing LORA files.",scanButton:"[zh-CN] Collect LORA",warningTitle:"[zh-CN] Scan Information:",warning1:"[zh-CN] Automatically collects .safetensors files",warning2:"[zh-CN] Re-scanning the same folder will update the items",warning3:"[zh-CN] Auto-collected items can be found in this tab"},o5e={title:"[zh-CN] Last LORA Scan Log"},s5e={title:"[zh-CN] View List (Read-Only)",readOnlyInfo:"[zh-CN] Auto-collected items cannot be edited. You can only view the contents.",name:"[zh-CN] List Name",description:"[zh-CN] Description",path:"[zh-CN] Path",itemList:"[zh-CN] Item List ({{count}} items)"},l5e={hint:" ++ ",manualTab:"",autoTab:" (LORA)",noResults:"",selectTier:""},c5e={title:"",message:"'{{name}}'?",childrenNotice:"",wildcardInfo:{itemCount:": {{count}}",childCount:": {{count}}"},warning:{permanent:""},options:{title:":",moveUp:{label:"",description:""},cascade:{label:"",description:"{{count}}"}}},u5e={deleteSuccess:"",deleteFailed:""},d5e={page:V_e,filters:Y_e,actions:K_e,card:X_e,dialog:Q_e,form:Z_e,preview:J_e,errors:e5e,tabs:t5e,detail:n5e,autoCollect:a5e,buttons:i5e,scanDialog:r5e,logDialog:o5e,detailDialog:s5e,autocomplete:l5e,deleteConfirm:c5e,messages:u5e},f5e={link:"",title:"",description:"",procedureTitle:"",step1:"",step2:"",step3:"",step4:"",fileLabel:"",warning:" ",warningNote:""},h5e={recovery:f5e},p5e={save:"",cancel:"",delete:"",edit:"",add:"",upload:"",download:"",search:"",filter:"",reset:"",confirm:"",close:"",back:"",next:"",previous:"",select:"",deselect:"",selectAll:"",deselectAll:"",apply:"",clear:""},m5e={loading:"...",saving:"...",success:"",error:"",noData:"",confirmDelete:"",unsavedChanges:"",processing:"...",uploading:"...",downloading:"...",deleting:"..."},g5e={name:"",description:"",date:"",status:"",type:"",size:"",created:"",updated:"",width:"",height:"",duration:"",resolution:""},b5e={tooltips:{viewDetails:"",download:"",delete:"",select:""},badges:{auto:"",video:""},confirmDelete:{image:"",video:""}},y5e={selectedCount:"{{count}}",selectedCountImages:"{{count}}",tooltips:{download:"",addToGroup:"",delete:"",clearSelection:"",batchTag:""},confirmDelete:{mixed:"{{count}}/",images:"{{count}}",videos:"{{count}}",files:"{{count}}"},confirmBatchTag:"{{count}}",batchTagSuccess:"{{count}}",batchTagError:""},x5e={perPage:"",items:"",page:"",of:"/",showing:"{{total}}{{from}}-{{to}}",goToPage:"",rowsPerPage:""},v5e={loading:"",error:"",empty:"",success:"",pending:"",completed:"",failed:""},S5e={view:"",download:"",delete:"",edit:"",create:"",update:"",cancel:"",confirm:"",retry:"",refresh:""},C5e={title:{add:"",edit:""},groupTypes:{label:"",exclude:"",or:"OR",and:"AND"},categories:{label:"",positive_prompt:"",negative_prompt:"",auto_tag:"",basic:""},conditionSettings:{label:"",conditionType:"",value:"",valuePlaceholder:""},conditionTypes:{prompt_contains:"",prompt_regex:"",negative_prompt_contains:"",negative_prompt_regex:"",auto_tag_exists:"",auto_tag_has_character:"",auto_tag_rating:"Rating",auto_tag_rating_score:"Rating",auto_tag_general:"General",auto_tag_character:"Character",auto_tag_model:"",ai_tool:"AI",model_name:""},fields:{exists:"",notExists:"",ratingType:"Rating",scoreRange:": {{min}} ~ {{max}}",weightRange:": {{min}} ~ {{max}}",tagOrCharacter:"/",tagPlaceholder:": 1girl, hatsune_miku"},ratingTypes:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"}},w5e={groupTypes:{exclude:{label:" (NOT)",labelShort:"",description:""},or:{label:"OR",labelShort:"OR",description:""},and:{label:"AND",labelShort:"AND",description:""}},categories:{positive_prompt:"",negative_prompt:"",auto_tag:"",basic:""},conditionTypes:{prompt_contains:"",prompt_regex:"",negative_prompt_contains:"",negative_prompt_regex:"",auto_tag_exists:"",auto_tag_has_character:"",auto_tag_rating:"",auto_tag_rating_score:"",auto_tag_general:"",auto_tag_character:"",auto_tag_model:"",ai_tool:"AI",model_name:""},labels:{condition:"",conditionNumber:" #{{number}}",editCondition:" #{{number}}",category:"",conditionType:"",value:"",score:"",scoreRange:": {{min}} ~ {{max}}",weightRange:": {{min}} ~ {{max}}",ratingType:"",tagCharacterName:"/",conditionsCount:"{{count}}"},buttons:{addCondition:""},messages:{noConditions:""},values:{exists:"",notExists:""},ratingTypes:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"}},_5e={title:"",canvasInfo:"",canvasSize:": {{width}} x {{height}} px",toolProperties:"",brushSize:": {{size}}px",brushColor:"",eraserSize:": {{size}}px",panHelp:"/"},T5e="",E5e="",A5e="",R5e="",k5e="",I5e="",N5e="",j5e="",D5e="",O5e={buttons:p5e,messages:m5e,labels:g5e,imageCard:b5e,bulkActions:y5e,pagination:x5e,states:v5e,actions:S5e,filterModal:C5e,filterBuilder:w5e,imageEditor:_5e,clickToCopy:T5e,thumbnail:E5e,original:A5e,video:R5e,none:k5e,enabled:I5e,disabled:N5e,save:j5e,refresh:D5e},M5e="",P5e="ComfyUI Image Manager",L5e={general:"",tagger:"Tagger",rating:"",similarity:"",prompts:"",advanced:"",metadata:"[zh-TW] Metadata Extraction",folders:"[zh-TW] Folder Management",account:"[zh-TW] Account",externalApi:"API"},z5e={title:"",language:{label:"",description:"",ko:"",en:"English",ja:"","zh-CN":"","zh-TW":""},gallery:{label:"",tooltip:""},canvasCleanup:{label:"Canvas",tooltip:"Canvas"},deleteProtection:{title:"[zh-TW] Delete File Protection",description:"[zh-TW] Store deleted files in RecycleBin folder for recovery",enabled:{label:"[zh-TW] Store deleted files in RecycleBin",description:"[zh-TW] When enabled, deleted files are backed up to RecycleBin folder instead of being permanently removed."},info:"[zh-TW] RecycleBin folder is created in the project root. Deleted files are stored with timestamps. You can manually copy files from RecycleBin if recovery is needed."},metadata:{title:"[zh-TW] Metadata Extraction Optimization",scanMode:{title:"[zh-TW] Stealth PNG Scan Mode",fast:{label:"[zh-TW] Fast (Recommended)",description:"[zh-TW] Quick signature scan - checks first 200 pixels then exits early"},full:{label:"[zh-TW] Full",description:"[zh-TW] Full file scan - checks all pixels (slow)"},skip:{label:"[zh-TW] Skip",description:"[zh-TW] Skip scanning - disables secondary extraction"}},limits:{title:"[zh-TW] File Size and Resolution Limits",fileSize:{label:"[zh-TW] Max File Size (MB)",helper:"[zh-TW] Files larger than this will skip Stealth PNG scanning"},resolution:{label:"[zh-TW] Max Resolution (Megapixels)",helper:"[zh-TW] Images larger than this will skip Stealth PNG scanning"}},skipSettings:{title:"[zh-TW] AI Tool Skip Settings",description:"[zh-TW] Automatically skip Stealth PNG scanning for specific AI tool images.",comfyui:{label:"[zh-TW] Skip ComfyUI images (Recommended)",description:"[zh-TW] ComfyUI doesn't use Stealth PNG, scanning unnecessary"},webui:{label:"[zh-TW] Skip WebUI images",description:"[zh-TW] WebUI may use Stealth PNG, enable only if needed"}},secondary:{label:"[zh-TW] Enable secondary extraction",description:"[zh-TW] Retry with Stealth PNG method if primary extraction fails."},performanceNote:"[zh-TW]  Tip: Default settings (Fast + ComfyUI skip) provide optimal performance for most cases. ComfyUI image processing time reduced from 2682ms  4ms!"},thumbnail:{title:"[zh-TW] Thumbnail Settings",description:"[zh-TW] Configure the size and quality used when generating thumbnails",saveFailed:"[zh-TW] Failed to save thumbnail settings",size:{label:"[zh-TW] Thumbnail Size",selectLabel:"[zh-TW] Thumbnail Size",original:"[zh-TW] Same as original",default:"[zh-TW] 1080px (default)"},quality:{label:"[zh-TW] Thumbnail Quality",helperText:"[zh-TW] Higher quality increases file size (60-100%)"},regenerate:{button:"[zh-TW] Regenerate Thumbnails",description:"[zh-TW] Regenerate thumbnails for all images with current settings"}}},F5e={title:"WD Tagger",description:"AI",enabled:"Tagger",autoTagOnUpload:"",model:{label:"",loading:"...",downloaded:"",vit:{label:"ViT (Vision Transformer)",description:" - "},swinv2:{label:"SwinV2 (Swin Transformer V2)",description:" - "},convnext:{label:"ConvNeXt",description:" - "}},device:{label:"",auto:{title:" (Auto)",description:"GPUGPUCPU"},cpu:{title:"CPU",description:"CPU"},cuda:{title:"GPU (CUDA)",description:"NVIDIA GPUGPU"}},modelStatus:{title:"",loaded:"",unloaded:"",lastUsed:"",justNow:"",minutesAgo:"{{minutes}}",hoursAgo:"{{hours}}",daysAgo:"{{days}}",none:""},buttons:{load:"",unload:"",refresh:"",download:"",downloading:"...",refreshStatus:"",checkDependencies:"Python",checking:"Python...",save:"",cancel:""},alerts:{modelDownloaded:"{{model}}",modelNotDownloaded:"{{model}}",modelLoaded:"",modelUnloaded:"",loadFailed:"",unloadFailed:"",saveFailed:"",dependencyCheckFailed:""},threshold:{general:{label:": {{value}}",description:""},character:{label:": {{value}}",description:""}},pythonPath:{label:"Python",helper:"Python: python, python3, C:\\Python39\\python.exe"},memoryManagement:{title:"",description:"",keepModelLoaded:"",autoUnloadMinutes:": {{minutes}}",autoUnloadDescription:"",keepLoadedAlert:"",notKeepLoadedAlert:""},batch:{title:"",description:"",untaggedCount:": {{count}}",progress:": {{current}} / {{total}}",buttons:{tagUnprocessed:"100",tagAll:"100",processing:"..."},alerts:{complete:": {{success}}{{failed}}",failed:"",tagAllFailed:""},confirmDialog:{title:"",message:`
100`,confirm:"",cancel:""}},test:{title:"",description:"",imageId:"ID",placeholder:": 123",button:"",processing:"...",result:":",failed:"",invalidId:"ID",imageHash:"[zh-TW] Image Hash",placeholderHash:"[zh-TW] e.g., abc123def456..."},enableAutoTagging:"[zh-TW] Enable Auto-Tagging"},B5e={title:"",description:"",weights:{title:"",description:"",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",preview:{title:": general=0.001, sensitive=0.045, questionable=0.735, explicit=0.470",score:": <strong>{{score}}</strong>"},buttons:{save:"",cancel:"",saving:"..."},alerts:{saveSuccess:"",saveFailed:"",loadFailed:""}},tiers:{title:"",description:"",addButton:"",table:{order:"",name:"",scoreRange:"",color:"",actions:"",empty:"",scoreFormat:"{{min}} ~ {{max}}",infinity:""},dialog:{createTitle:"",editTitle:"",tierName:"",minScore:"",maxScore:" = ",order:"",color:" (Hex)",colorPlaceholder:"#2196f3",colorHelper:": #22c55e, #3b82f6, #f59e0b, #ef4444",save:"",cancel:"",saving:"...",requiredFields:""},alerts:{created:"",updated:"",deleted:"",saveFailed:"",deleteFailed:"",loadFailed:"",deleteConfirm:""}},calculator:{title:"",description:"",general:"General: {{value}}",sensitive:"Sensitive: {{value}}",questionable:"Questionable: {{value}}",explicit:"Explicit: {{value}}",calculate:"",calculating:"...",result:{title:"",score:": <strong>{{score}}</strong>",breakdown:":",generalScore:"General: {{score}}",sensitiveScore:"Sensitive: {{score}}",questionableScore:"Questionable: {{score}}",explicitScore:"Explicit: {{score}}"},failed:""},recalculation:{title:"",description:"rating_scoreauto_tags",buttons:{recalculate:"",processing:"..."},progress:"... {{current}}/{{total}}",success:": {{total}}{{success}}{{failed}}",failed:"",confirmDialog:{title:"",message:"rating_score",confirm:"",cancel:""}}},H5e={title:"",description:"",systemStatus:{title:"",description:"",totalImages:": {{count}}",withHash:": {{count}}",withoutHash:": {{count}}",completion:": {{percent}}%",autoGenerateHash:"",rebuildButton:"{{count}}",rebuildingButton:"...",refreshButton:"",rebuildProgress:"... {{processed}}/{{total}}{{percent}}%",allComplete:"",rebuildComplete:": {{processed}}",rebuildCompleteWithErrors:": {{success}}{{failed}}",rebuildFailed:"",noImagesToProcess:"",autoGenerateUpdateFailed:""},test:{title:"",description:"",imageId:"ID",placeholder:": 123",searchType:"",types:{duplicates:"",similar:"",color:""},searchButton:"",searching:"...",queryImage:"",results:": {{count}}",noResults:"",searchFailed:"",imageDetails:{id:"ID:",filename:":",size:":",aiTool:"AI:"},matchTypes:{exact:"",nearDuplicate:"",similar:"",colorSimilar:""},similarity:"{{percent}}%",colorSimilarity:": {{percent}}%",hashStatus:"",rebuild:{button:"{{count}}",rebuilding:"...",success:": {{processed}}: {{failed}}: {{remaining}}",error:": {{error}}"},imageHash:"[zh-TW] Image Hash",placeholderHash:"[zh-TW] e.g., abc123def456...",compositeHash:"[zh-TW] Image Hash",hashHelperText:"[zh-TW] Enter the image's composite_hash",button:"[zh-TW] Run Test",processing:"[zh-TW] Processing...",result:"[zh-TW] Tagging Result:",failed:"[zh-TW] Test failed"},duplicateScan:{title:"",description:"",scanButton:"",scanning:"...",foundGroups:": {{count}}",groupLabel:"{{id}}  {{count}}",similarityLabel:"{{percent}}%",moreImages:"+{{count}}",noResults:"",id:"ID: {{id}}",selectAll:"[zh-TW] Select All",deselectAll:"[zh-TW] Deselect All",keepOne:"[zh-TW] Keep 1",keepOneDelete:"[zh-TW] Keep first image and select rest for deletion",deleteSelected:"[zh-TW] Delete {{count}} Selected",deleteConfirmTitle:"[zh-TW] Confirm Image Deletion",deleteConfirmMessage:"[zh-TW] Are you sure you want to delete {{count}} selected images?",deleteWarning:"[zh-TW] Deleted images cannot be recovered!",cancel:"[zh-TW] Cancel",confirmDelete:"[zh-TW] Delete",deleting:"[zh-TW] Deleting...",deleteSuccess:"[zh-TW] {{count}} images deleted successfully.",deletePartialSuccess:"[zh-TW] {{success}} succeeded, {{failed}} failed",deleteFailed:"[zh-TW] Failed to delete images."},thresholds:{title:"",description:"",duplicate:{label:": {{value}}",description:"0=5=10=",strict:"0",recommended:"5",lenient:"10"},similar:{label:": {{value}}",description:"",strict:"5",recommended:"15",lenient:"25"},color:{label:": {{value}}%",description:"",min:"70%",recommended:"85%",max:"100%"},searchLimit:{label:"",options:{10:"10",20:"20",50:"50",100:"100"}},localStorageNote:""},autoGenerateHash:"[zh-TW] Auto-generate Hash on Upload",hashPlaceholder:"[zh-TW] e.g., a1b2c3d4e5f6..."},$5e={saveSuccess:"",saveFailed:"",loadFailed:""},U5e={title:"",sections:{currentStatus:""},stats:{totalFiles:":",withThumbnail:":",withoutThumbnail:":"},phases:{verifying:"...",deleting:"...",generating:"...",completed:"",waiting:""},time:{seconds:"{{elapsed}}",minutesSeconds:"{{minutes}}{{seconds}}"},status:{completed:"",inProgress:""},progress:{deletedThumbnails:":",generatedThumbnails:":",elapsedTime:":"},messages:{success:"",loadStatsFailed:"",alreadyRunning:"",startFailed:""},instructions:{title:":",step1:"1. ",step2:"2. ",step3:"3. ",warning:":",warningText:""},buttons:{close:"",start:"",starting:"...",inProgress:"..."}},G5e={title:"",subtitle:"",scheduler:{title:"",backgroundHash:{title:"",tooltip:"Phase 2",intervalLabel:"",intervalTooltip:"5-300",saveButton:"",savingButton:"...",errorRange:"5-300",errorSave:""},autoTagger:{title:"",tooltip:"",pollingIntervalLabel:"",pollingIntervalTooltip:"5-300",batchSizeLabel:"",batchSizeTooltip:"1-100",saveButton:"",savingButton:"...",errorPollingRange:"5-300",errorBatchRange:"1-100",errorSave:""}},watchedFolders:{title:"",addFolder:"",refresh:"",viewAllLogs:"",scanAll:"",scanning:"...",noName:"",active:"",inactive:"",autoScanInterval:"{{interval}}",scanStatus:"",lastScan:": {{date}}",noScanHistory:"",watcherStatus:{starting:"...",watching:"",error:"",stopped:"",inactive:""},tooltips:{scan:"",log:"",edit:"",delete:"",watcherStart:"",watcherStop:"",processing:"..."},messages:{loadFailed:"",deleteFailed:"",deleteConfirm:'"{{name}}"',scanFailed:"",scanAllFailed:"",scanAllComplete:": {{totalFolders}}{{totalNew}}{{totalExisting}}{{errors}}",scanAllErrors:"{{totalErrors}}",watcherStartFailed:"",watcherStopFailed:""}},dialog:{addTitle:"",editTitle:"",folderPath:" *",folderPathDisabled:"",folderPathHelper:": D:\\Images  \\\\192.168.1.100\\Share\\Images",folderName:"",folderNameHelper:"",watcherEnabled:"",watcherTooltip:"//",pollingInterval:"",pollingIntervalTooltip:": 1000ms",pollingIntervalLabel:"",pollingIntervalPlaceholder:": 1000ms",pollingIntervalHelper:": 500-3000ms",autoScan:"",scanInterval:"",scanIntervalHelper:"",advancedOptions:"",recursive:"",excludeExtensions:"",excludeExtensionsTooltip:".jpg, .png, .webp, .gif, .bmp, .tiff",excludeExtensionsPlaceholder:".tmp",excludePatterns:"",excludePatternsTooltip:": node_modules, .git, temp",excludePatternsPlaceholder:": node_modules, .git",addButton:"",saveButton:"",savingButton:"...",cancelButton:"",errorPath:"",errorSave:""},scanLog:{title:"",titleSpecific:"",titleAll:"",noLogs:"",loadFailed:"",refresh:"",close:"",columns:{scanTime:"",folder:"",status:"",scanned:"",new:"",existing:"",errors:"",duration:"",details:""},status:{success:"",error:""},errorDetails:"{{count}}",durationSeconds:"{{seconds}}"},verificationLog:{title:"",noLogs:"",loadFailed:"",refresh:"",close:"",columns:{verificationTime:"",verificationType:"",checked:"",missingFound:"",deletedRecords:"",errors:"",duration:""},verificationType:{auto:"",manual:""},errorDetails:"{{count}}",errorItem:{fileId:"ID: {{id}}",path:": {{path}}",error:": {{error}}"},noErrors:"",countFormat:"{{count}}",durationMs:"{{ms}}ms",durationSeconds:"{{seconds}}"}},q5e={title:"[zh-TW] Thumbnail Settings",description:"[zh-TW] Configure size and quality used for thumbnail generation",saveFailed:"[zh-TW] Failed to save thumbnail settings",size:{label:"[zh-TW] Thumbnail Size",selectLabel:"[zh-TW] Thumbnail Size",original:"[zh-TW] Same as original size",default:"[zh-TW] 1080px (default)"},quality:{label:"[zh-TW] Thumbnail Quality",helperText:"[zh-TW] Higher quality increases file size (60-100%)"},regenerate:{button:"[zh-TW] Regenerate Thumbnails",description:"[zh-TW] Regenerate all image thumbnails with current settings"}},W5e={title:"[zh-TW] Background Task Monitoring",loadFailed:"[zh-TW] Failed to load background task status",confirmReset:"[zh-TW] Reset background queue? All pending tasks will be cancelled.",resetFailed:"[zh-TW] Failed to reset queue",resetQueue:"[zh-TW] Reset Queue",autoTagFailed:"[zh-TW] Failed to trigger auto-tagging",confirmHashGen:"[zh-TW] Generate hash for {{count}} images?",hashGenComplete:"[zh-TW] Hash generation complete: {{processed}} succeeded, {{failed}} failed",hashGenFailed:"[zh-TW] Failed to regenerate hashes",confirmVerify:"[zh-TW] Verify {{count}} files?\\nThis may take time if there are many files.",verifyFailed:"[zh-TW] Failed to run file verification",verifyIntervalError:"[zh-TW] Verification interval must be between 300-86400 seconds",verifySaveFailed:"[zh-TW] Failed to save file verification settings",autoUpdate:"[zh-TW] Auto-updates every 5 seconds.",autoUpdateDisabled:"[zh-TW] Auto-update is disabled.",queue:{title:"[zh-TW] Background Queue",pending:"[zh-TW] Pending: {{count}}",processing:"[zh-TW] Processing",waiting:"[zh-TW] Waiting"},tasks:{metadata:"[zh-TW] Metadata Extraction",promptCollection:"[zh-TW] Prompt Collection",pendingCount:"[zh-TW] {{count}} pending"},autoTag:{title:"[zh-TW] Auto-Tagging Scheduler",manualTrigger:"[zh-TW] Manual Run",running:"[zh-TW] Running",stopped:"[zh-TW] Stopped",untaggedCount:"[zh-TW] Untagged images: {{count}}",pollingInterval:"[zh-TW] Polling interval: {{seconds}}s",batchSize:"[zh-TW] Batch size: {{size}}"},hash:{title:"[zh-TW] Media Hash Status",generate:"[zh-TW] Generate Hash",total:"[zh-TW] Total: {{count}}",completed:"[zh-TW] Hash generated: {{count}}",pending:"[zh-TW] Not generated: {{count}}",completion:"[zh-TW] Completion: {{percent}}%"},verify:{title:"[zh-TW] File Verification Status",viewLogs:"[zh-TW] View Logs",run:"[zh-TW] Run Verification",progress:"[zh-TW] File verification in progress: {{checked}}/{{total}}",missing:"[zh-TW] Missing: {{count}}",totalFiles:"[zh-TW] Total files: {{count}}",missingFiles:"[zh-TW] Missing files: {{count}}",lastVerification:"[zh-TW] Last verification: {{date}}",schedulerTitle:"[zh-TW] Verification Scheduler Settings",intervalLabel:"[zh-TW] Verification Interval (seconds)",intervalHelper:"[zh-TW] 300-86400 seconds (5 min - 24 hours)",intervalTooltip:"[zh-TW] May cause time consumption and system load if there are many files"}},V5e={forgotAccount:{title:"[zh-TW] Forgot your account?",description:"[zh-TW] If you forgot your password, you can recover your account using the following method.",methodTitle:"[zh-TW] Recovery Method:",step1:"[zh-TW] Stop the server",step2:"[zh-TW] Delete the file below",step3:"[zh-TW] Restart the server",step4:"[zh-TW] Set up a new account",fileToDelete:"[zh-TW] File to delete:",warning:"[zh-TW]  Warning: Deleting this file will invalidate all sessions and require re-login.",warningNote:"[zh-TW] Other data such as workflows and settings will not be affected."},setup:{title:"[zh-TW] Setup Authentication",description:"[zh-TW] Configure username and password to protect your image manager from unauthorized access. Once set, you will need to login to access the application.",username:"[zh-TW] Username",password:"[zh-TW] Password",confirmPassword:"[zh-TW] Confirm Password",button:"[zh-TW] Setup Authentication",success:"[zh-TW] Authentication configured successfully! You will need to login on your next visit.",errors:{required:"[zh-TW] Username and password are required",mismatch:"[zh-TW] Passwords do not match",failed:"[zh-TW] Failed to setup authentication"}},update:{title:"[zh-TW] Change Credentials",description:"[zh-TW] Changing your credentials will require you to login again with the new credentials.",currentPassword:"[zh-TW] Current Password",newUsername:"[zh-TW] New Username",newPassword:"[zh-TW] New Password",confirmNewPassword:"[zh-TW] Confirm New Password",button:"[zh-TW] Update Credentials",success:"[zh-TW] Credentials updated successfully!",errors:{required:"[zh-TW] All fields are required",mismatch:"[zh-TW] New passwords do not match",failed:"[zh-TW] Failed to update credentials"}}},Y5e={save:"",cancel:"",delete:"",create:"",enabled:"",disabled:""},K5e={title:"Civitai",description:"Civitai",settings:{title:"",enableIntegration:"Civitai",enableDescription:"Civitai",apiInterval:"API: {{interval}}",apiIntervalDescription:"API2"},statistics:{title:"",refresh:"",totalLookups:"",successful:"",failed:"",successRate:"",lastApiCall:"API",never:"",recheckFailed:"",resetStats:""},rescan:{title:"",description:"CivitaiCivitai",processing:": {{processed}}/{{total}}",added:": {{count}}",startButton:"",starting:"...",enableRequired:"Civitai"},cachedModels:{title:" ({{count}})",clearCache:"",modelName:"",type:"",hash:"",cachedAt:"",empty:"",unknown:""},dialogs:{clearCache:{title:"",message:"Civitai",confirm:""},resetStats:{title:"",message:"",confirm:""},cancel:""},upload:{title:"Civitai",description:"Civitai",selectedImage:"",methodLabel:"",downloadMethod:"",intentMethod:"",downloadTooltip:"Civitai",intentTooltip:"URL",downloadDescription:"Civitai",intentDescription:"CivitaiURL",downloadSuccess:"Civitai...",downloadError:"",downloadButtonTooltip:"Civitai",intentButtonTooltip:"URLCivitai",downloadAndOpen:"Civitai",postTitle:"",postTitlePlaceholder:"",postDescription:"",postDescriptionPlaceholder:"",tags:"",tagsPlaceholder:"",includeMetadata:"",includeMetadataDescription:"AI",uploadButton:"",uploading:"...",submit:"",openInCivitai:"Civitai",success:"Intent URLCivitai",error:"",disabled:"Civitai"},errors:{loadFailed:"Civitai",updateFailed:"",resetFailed:"",clearFailed:"",rescanFailed:""},success:{enabled:"Civitai",disabled:"Civitai",statsReset:"",cacheCleared:"",rescanStarted:"{{total}}",rescanCompleted:"{{added}}"}},X5e={title:"API",description:"CivitaiAPI",currentApiKey:"API",currentApiKeyHelper:"",newApiKey:"API",newApiKeyPlaceholder:"API",baseUrl:"URL",baseUrlHelper:"APIURL",testConnection:"",addProvider:"",addProviderDescription:"API",providerName:"",providerNameHelper:"_-openaistability",providerDisplayName:"",deleteConfirmTitle:"",deleteConfirmMessage:"{{provider}}",success:{saved:"API",deleted:"",created:"",connectionTest:"",toggled:"{{state}}"},errors:{loadFailed:"",saveFailed:"",deleteFailed:"",createFailed:"",connectionTestFailed:"",nameRequired:"",toggleFailed:""}},Q5e={title:M5e,subtitle:P5e,tabs:L5e,general:z5e,tagger:F5e,rating:B5e,similarity:H5e,messages:$5e,thumbnailRegeneration:U5e,folderSettings:G5e,thumbnail:q5e,background:W5e,auth:V5e,common:Y5e,civitai:K5e,externalApi:X5e},Z5e={title:"ComfyUI Image Manager",menu:{home:"",gallery:"",imageGroups:"",search:"",upload:"",imageGeneration:"",settings:"",help:""},tooltip:{home:"",gallery:"",imageGroups:"",search:"",upload:"",imageGeneration:"AI",settings:"",help:""},theme:{light:"",dark:"",toggle:""},mobileMenu:{open:"",close:""}},J5e={copyright:" 2024 ComfyUI Image Manager. ",version:""},eTe={title:"",sections:{gettingStarted:"",imageManagement:"",autoCollection:"",promptSystem:"",settings:"",shortcuts:""}},tTe={header:Z5e,footer:J5e,help:eTe},nTe={title:"",description:""},aTe={aiTool:"AI ",sortBy:"",sortOrder:"",all:"",clearFilters:""},iTe={uploadDate:"",filename:"",fileSize:"",width:"",height:"",ascending:"",descending:""},rTe={refresh:"",selectAll:"",deselectAll:""},oTe={loading:"...",noImages:"",error:""},sTe={aiToolLabel:"AI : {{tool}}"},lTe="[zh-TW] Select All ({{selected}}/{{total}})",cTe="[zh-TW] Total {{count}} images",uTe={title:"[zh-TW] Image Grid"},dTe={toggleMode:"[zh-TW] Deactivate Selection Mode",activateMode:"[zh-TW] Activate Selection Mode",selectedImages:"[zh-TW] Selected Images:",selectAll:"[zh-TW] Select All",deselectAll:"[zh-TW] Deselect All",selectAllWithCount:"[zh-TW] Select All ({{selected}}/{{total}})",methods:{title:"[zh-TW] Selection Methods:",click:"[zh-TW]  Click: Select/deselect individual",drag:"[zh-TW]  Drag: Select multiple images",shiftClick:"[zh-TW]  Shift + Click: Range select",ctrlClick:"[zh-TW]  Ctrl/Cmd + Click: Toggle select",ctrlA:"[zh-TW]  Ctrl/Cmd + A: Select all",esc:"[zh-TW]  ESC: Deselect"}},fTe={noImages:"[zh-TW] No images",uploadPrompt:"[zh-TW] Try uploading images.",uploadOrSearch:"[zh-TW] Upload images or change search criteria."},hTe="[zh-TW] Loading images...",pTe="[zh-TW] All images loaded",mTe={page:nTe,filters:aTe,sorting:iTe,actions:rTe,status:oTe,chips:sTe,selectAllLabel:lTe,totalImages:cTe,imageGridModal:uTe,selection:dTe,emptyState:fTe,loading:hTe,allImagesLoaded:pTe},gTe={title:"",notFound:"",errorLoading:"",noIdProvided:" ID"},bTe={download:"",share:"",back:"",goToDetail:"",uploadToCivitai:"Civitai",delete:"",deleteConfirm:"",deleteSuccess:"",deleteError:""},yTe={fileInfo:"",imageInfo:"",videoInfo:"",aiInfo:"",promptInfo:"",groupInfo:"",fullMetadata:""},xTe={originalFilename:"",filename:"",size:"",fileSize:"",mimeType:"MIME ",uploadDate:""},vTe={dimensions:"",dimensionsValue:"{{width}}  {{height}}"},STe={duration:"",durationValue:"{{minutes}} {{seconds}}",fps:"",fpsValue:"{{fps}} fps",videoCodec:"",audioCodec:"",bitrate:"",bitrateValue:"{{bitrate}} Mbps"},CTe={tool:"AI ",toolShort:"",model:"",lora:"LoRA",steps:"",cfgScale:"CFG Scale",cfgShort:"CFG",sampler:"",scheduler:"",seed:"",denoiseStrength:"",generationTime:"",generationTimeValue:"{{time}}",batchSize:"",batchIndex:""},wTe={autoType:"",manualType:"",groupLabel:"{{name}} ({{type}})"},_Te={controls:{zoomIn:"",zoomOut:"",rotateLeft:"",rotateRight:"",flipHorizontal:"",flipVertical:"",reset:"",info:"",close:""},navigation:{previous:" ()",next:" ()",random:" (Space)",currentPosition:"{{current}} / {{total}}"}},TTe={title:"[zh-TW] Image Information"},ETe="[zh-TW] Copy hash",ATe="[zh-TW] Waiting for hash generation...",RTe="[zh-TW] Hash copied",kTe="[zh-TW] View Thumbnail (Fast Loading)",ITe="[zh-TW] View Original (High Quality)",NTe="[zh-TW] Original image not found. Showing thumbnail.",jTe={title:"[zh-TW] Group: {{name}}",defaultTitle:"[zh-TW] Group Images"},DTe={page:gTe,actions:bTe,sections:yTe,fileInfo:xTe,imageInfo:vTe,videoInfo:STe,aiInfo:CTe,groupInfo:wTe,viewer:_Te,info:TTe,copyHash:ETe,hashGenerating:ATe,hashCopied:RTe,viewThumbnail:kTe,viewOriginal:ITe,originalNotFound:NTe,groupModal:jTe},OTe={title:"",description:"AI"},MTe={dragActive:"",dragInactive:"",supportedFormats:"JPGPNGGIFBMPWebPTIFF | MP4WebMMOVAVIMKV500MB",imageSupport:"",videoSupport:"",multipleSelection:"",divider:""},PTe={selectFiles:"",selectFolder:""},LTe={title:"",fileCount:"{{completed}}/{{total}}",summary:"{{total}} - {{success}}{{failed}}"},zTe={upload:"",metadata:"",thumbnail:"",autoCollect:"",autoTag:""},FTe={waiting:"",processing:"",complete:"",error:""},BTe={uploadComplete:"",uploadSuccess:"",uploadFailed:"",uploadError:"",multipleSuccess:"{{count}}",allFailed:"",partialSuccess:"{{success}}{{failed}}"},HTe={title:"[zh-TW] Prompt Preview",description:"[zh-TW] Select an image to instantly view AI metadata without uploading to server.",dragOrClick:"[zh-TW] Drag or click to select an image",dropHere:"[zh-TW] Drop file here",noUpload:"[zh-TW] Images are analyzed in browser only, not uploaded to server",imagePreview:"[zh-TW] Image Preview",aiTool:"[zh-TW] AI Tool",positivePrompt:"[zh-TW] Prompt",negativePrompt:"[zh-TW] Negative Prompt",terms:"[zh-TW] Extracted Terms",loraModels:"[zh-TW] LoRA Models",parameters:"[zh-TW] Generation Parameters",rawMetadata:"[zh-TW] Raw Metadata (EXIF/PNG Chunks)",invalidFileType:"[zh-TW] Only image files are allowed",extractionFailed:"[zh-TW] Failed to extract metadata"},$Te={page:OTe,dropzone:MTe,buttons:PTe,progress:LTe,stages:zTe,status:FTe,messages:BTe,promptPreview:HTe},UTe={title:"",description:"",emptyTitle:"",emptyDescription:"",customGroupsTab:"[zh-TW] Custom Groups",autoFolderGroupsTab:"[zh-TW] Auto Folder Groups"},GTe={imageCount:"{{count}}",subgroupCount:"{{count}}",folderCount:"{{count}}",autoCollect:"",stats:"{{auto}} | {{manual}}"},qTe={viewImages:"",title:"{{name}} - ",description:"",folderDescription:""},WTe={edit:"",delete:"",runAutoCollection:""},VTe={basicInfo:"",autoCollect:""},YTe={createTitle:"",editTitle:"",basicInfo:"",groupName:"",description:"",groupColor:"",autoCollectEnable:"",autoCollectDescription:"",orConditionInfo:"OR",orConditionExample:"'anime'+ ",conditionsTitle:"",addCondition:"",conditionType:"",conditionValue:"",emptyConditions:"",buttonCreate:"",buttonUpdate:"",buttonCancel:"",autoCollectDisabledHelp:",",filterApplied:"{{count}}:   OR  AND",addFiltersPrompt:"",filterHelpTooltip:"",parentGroup:"[zh-TW] Parent Group",noParent:"[zh-TW] None (Root Level)",selectParent:"[zh-TW] Select Parent Group"},KTe={conditionNumber:"{{number}}",removeCondition:"",addFirstCondition:"",autoCollectDisabled:"",groups:{basic:"",prompt:"",autotag:"Auto Tag",duplicate:""},types:{aiTool:"AI",modelName:"",promptContains:"",promptRegex:"",negativePromptContains:"",negativePromptRegex:"",autoTagExists:"Auto Tag ",autoTagRating:"Auto Tag: ",autoTagRatingScore:"Auto Tag: ",autoTagGeneral:"Auto Tag: ",autoTagCharacter:"Auto Tag: ",autoTagHasCharacter:"Auto Tag: ",autoTagModel:"Auto Tag: ",duplicateExact:"",duplicateNear:"",duplicateSimilar:"",duplicateCustom:""},values:{exists:"",notExists:""},ratings:{general:"General",sensitive:"Sensitive",questionable:"Questionable",explicit:"Explicit"},fields:{value:"",ratingType:"",minScore:"",maxScore:"",tagName:"",characterName:"",caseSensitive:"",exactMatch:"",exactMatchHelp:"'asd''aasd''asdf'",weightedScore:"",maxWeightInfo:"200",confidenceRange:"0.01.0{{min}}{{max}}",confidenceInfo:" ",hammingThreshold:"",hammingThresholdHelp:"0-64",hammingInfo:" ",duplicateNote:" perceptual_hash"},duplicateInfo:{duplicate_exact:"  = 0",duplicate_near:"   5",duplicate_similar:"   15"},placeholders:{regex:"",modelName:"wd-v1-4-moat-tagger-v2",text:"",tagName:"",characterName:""}},XTe={nameRequired:"",conditionRequired:"",valueRequired:"{{index}}",ratingTypeRequired:"{{index}}",ratingScoreRequired:"{{index}}",minScoreInvalid:"{{index}}0",maxScoreInvalid:"{{index}}0",scoreRangeInvalid:"{{index}}",confidenceScoreRange:"{{index}}0.01.0",confidenceMaxScoreRange:"{{index}}0.01.0",confidenceMinMaxInvalid:"{{index}}",hammingThresholdRequired:"{{index}}",hammingThresholdRange:"{{index}}064"},QTe={loadFailed:"",imageLoadFailed:"",deleteSuccess:"",deleteFailed:"",autoCollectSuccess:"{{added}}{{removed}}",autoCollectFailed:"",createSuccess:"",createFailed:"",updateSuccess:"",updateFailed:"",removeWarning:"",removeSuccess:"{{count}}",removePartialSuccess:"{{removed}}{{failed}}",removeError:"",assignSuccess:"{{added}}{{converted}}{{skipped}}",assignFailed:"",assignError:"",emptyGroup:""},ZTe={title:"{{name}}{{count}}",selectedCount:"{{count}}",buttonRemove:"",buttonAssign:"",infoMixedSelection:"",warningAutoOnly:"",confirmRemoveTitle:"",confirmRemoveMessage:"{{count}}",confirmRemoveNote:""},JTe={title:"",description:"{{count}}",currentGroup:"",emptyGroups:"",loadError:"",loadingError:"",buttonAssign:"",buttonCancel:""},eEe={groupList:"",root:"[zh-TW] Root",childGroups:"[zh-TW] {{count}} subgroups",openSubgroups:"[zh-TW] Open Subgroups",backToParent:"[zh-TW] Back to Parent",moveGroup:"[zh-TW] Move Group",moveToRoot:"[zh-TW] Move to Root",cannotMoveToSelf:"[zh-TW] Cannot move to itself",cannotMoveToDescendant:"[zh-TW] Cannot move to descendant group",maxDepthExceeded:"[zh-TW] Maximum depth (5 levels) exceeded",circularReference:"[zh-TW] Circular reference detected",hierarchyInvalid:"[zh-TW] Invalid hierarchy structure"},tEe={title:"[zh-TW] Confirm Group Deletion",message:"[zh-TW] Are you sure you want to delete the group '{{name}}'?",groupInfo:{imageCount:"[zh-TW] Associated images: {{count}}",childCount:"[zh-TW] Subgroups: {{count}}"},warning:{imageAssociations:"[zh-TW]  All associations between this group and images will be removed. The image files themselves will not be deleted."},options:{title:"[zh-TW] How to handle subgroups",orphan:{label:"[zh-TW] Delete only this group (Recommended)",description:"[zh-TW] Subgroups will be moved to root level."},cascade:{label:"[zh-TW] Delete this group and all subgroups",description:"[zh-TW] {{count}} subgroups will be deleted. This action cannot be undone."}}},nEe={menuTitle:"[zh-TW] Download Options",scopeAll:"[zh-TW] Download All",scopeSelected:"[zh-TW] Selected {{count}} Only",typeThumbnail:"[zh-TW] Images (Thumbnail)",typeOriginal:"[zh-TW] Images (Original)",typeVideo:"[zh-TW] Videos & Animations (Original)",confirmTitle:"[zh-TW] Confirm Large Download",confirmMessage:"[zh-TW] Download {{count}} files. Continue?",confirmButton:"[zh-TW] Download"},aEe="[zh-TW] Group",iEe="[zh-TW] Auto-navigate to subgroup: {{from}}  {{to}}",rEe="[zh-TW] Group created. Please refresh your browser.",oEe="[zh-TW] Group updated. Please refresh your browser.",sEe={noGroups:"[zh-TW] No groups created",noSubgroups:"[zh-TW] No subgroups",createPrompt:"[zh-TW] Press the + button to create a new group",noSubgroupsHelp:"[zh-TW] Current group has no subgroups"},lEe={readOnlyMessage:"[zh-TW] This is a read-only group. Changes must be made to the original file location.",rebuilding:"[zh-TW] Rebuilding...",refresh:"",emptyState:{noGroups:"[zh-TW] No auto folder groups",noSubfolders:"[zh-TW] No subfolders",refreshPrompt:"[zh-TW] Press the refresh button to create folder structure",noSubfoldersHelp:"[zh-TW] Current folder has no subfolders"}},cEe={page:UTe,groupCard:GTe,imageView:qTe,menu:WTe,tabs:VTe,modal:YTe,conditions:KTe,validation:XTe,messages:QTe,imageModal:ZTe,assignModal:JTe,hierarchy:eEe,deleteConfirm:tEe,download:nEe,defaultGroupName:aEe,autoNavigate:iEe,created:rEe,updated:oEe,emptyState:sEe,autoFolder:lEe},uEe="",dEe="AI",fEe={placeholder:"...",button:"",clear:"",execute:""},hEe={title:"",searching:"...",found:"{{count}}",noResults:"",noResultsHint:"",initialMessage:"",initialHint:"AI",reset:"",refresh:""},pEe={basic:{aiTool:{label:"AI",all:""},modelName:{label:"",placeholder:": sd_xl_base_1.0"},startDate:{label:""},endDate:{label:""}},quickDate:{today:"",todayTooltip:"","7days":"7","7daysTooltip":"7","30days":"30","30daysTooltip":"30","90days":"90","90daysTooltip":"90"},advanced:{title:"",active:"",negativePrompt:{label:"",placeholder:" (: ugly, blurry)"}},autoTag:{title:"",subtitle:"(WD v3 Tagger)",active:"",tabs:{rating:"",character:"",generalTags:""},rating:{typeMode:"",scoreMode:"",typeDescription:"",scoreDescription:"",type:{label:"",none:"",general:"",sensitive:"",questionable:"",explicit:""},confidenceRange:"",scoreRange:""},character:{description:"",existence:{label:"",all:"",true:"",false:""},name:{label:"",placeholder:": hatsune_miku"},confidenceRange:""},generalTags:{description:"",tagName:{label:"",placeholder:": 1girl, solo, landscape"},confidence:": {{min}} ~ {{max}}",addedTags:" ({{count}})"}}},mEe={title:""},gEe={addButton:"[zh-TW] Add Filter",emptyMessage:"[zh-TW] Add filters to start searching",countInfo:"[zh-TW] {{count}} filter(s) will be applied.",executionOrder:"[zh-TW] Execution order: Exclude  OR  AND",modal:{title:"[zh-TW] Add Filter",cancel:"[zh-TW] Cancel",back:"[zh-TW] Back",next:"[zh-TW] Next",add:"[zh-TW] Add Filter",steps:{selectGroup:"[zh-TW] Select Filter Group",selectCategory:"[zh-TW] Select Category",configureCondition:"[zh-TW] Configure Condition"},step1:{description:"[zh-TW] Choose how to apply the filter"},step2:{description:"[zh-TW] Select what information to search by"},step3:{description:"[zh-TW] Configure the condition. Filters cannot be edited after creation, you must delete and recreate them."}},groupTypes:{exclude:{label:"[zh-TW] Exclude (NOT)",description:"[zh-TW] Exclude images matching this condition from results"},or:{label:"[zh-TW] OR Group",description:"[zh-TW] Include images matching this condition in results"},and:{label:"[zh-TW] AND Group",description:"[zh-TW] Only include images matching all conditions"}},categories:{positive_prompt:{label:"[zh-TW] Positive Prompt",description:"[zh-TW] Search positive prompts used in image generation"},negative_prompt:{label:"[zh-TW] Negative Prompt",description:"[zh-TW] Search negative prompts used in image generation"},auto_tag:{label:"[zh-TW] Auto Tag (WD Tagger)",description:"[zh-TW] Search auto-generated tags from WD v3 Tagger"},basic:{label:"[zh-TW] Basic Info",description:"[zh-TW] Search basic metadata like AI tool and model name"}},conditionTypes:{conditionType:"[zh-TW] Condition Type",value:"[zh-TW] Value",placeholder:"[zh-TW] Enter value to search",scoreRange:"[zh-TW] Score Range",weightRange:"[zh-TW] Weight Range",tagName:"[zh-TW] Tag/Character Name",tagPlaceholder:"[zh-TW] e.g., 1girl, hatsune_miku",ratingType:"[zh-TW] Rating Type",exists:"[zh-TW] Present",notExists:"[zh-TW] Absent"}},bEe={title:uEe,description:dEe,searchInput:fEe,results:hEe,filters:pEe,searchHistory:mEe,filterBlock:gEe},yEe="",xEe="AI",vEe={positive:"",negative:""},SEe={search:{placeholder:"{{type}}..."},filters:{groupFilter:{label:"",all:"",unassigned:""}},table:{headers:{prompt:"",usageCount:"",assignedGroup:"",actions:""},empty:"",synonyms:{more:"+{{count}}"}},actions:{assignToGroup:"",delete:"",cannotDelete:"",groupManagement:""},statistics:{unclassified:"",unknown:""},pagination:{rowsPerPage:":",displayedRows:"{{from}}-{{to}} / {{count}}"},messages:{loadFailed:"",deleteSuccess:"",deleteFailed:"",assignSuccess:"",assignFailed:""}},CEe={title:"",selectGroup:{label:"",unassigned:""},actions:{cancel:"",assign:""}},wEe={title:"{{type}}",dragHint:"",editForm:{titleAdd:"",titleEdit:"",groupName:{label:"",required:""},displayOrder:{label:""},visibility:{label:"",hidden:""},actions:{save:"",cancel:""}},groupList:{title:" ({{count}})",add:"",empty:"",promptCount:"{{count}}",displayOrder:": {{order}}"},actions:{toggleVisibility:"",edit:"",delete:"",deleteConfirm:"",close:""},messages:{loadFailed:"",createSuccess:"",createFailed:"",updateSuccess:"",updateFailed:"",deleteSuccess:"",deleteFailed:"",visibilityFailed:"",reorderSuccess:"",reorderFailed:""}},_Ee={tabs:{positive:"",negative:"",auto:""},labels:{prompt:"",negativePrompt:""},noPrompt:"",loading:"...",loadFailed:""},TEe={noTags:"",generateButton:"",generating:"...",generationError:"",sections:{rating:"",characters:"",tagList:"",generalTags:" ({{count}})",modelInfo:""},modelInfo:{model:"",generalThreshold:"",characterThreshold:"",taggedAt:""}},EEe={title:yEe,description:xEe,tabs:vEe,promptList:SEe,assignDialog:CEe,groupManagement:wEe,promptDisplay:_Ee,autoTagDisplay:TEe},AEe={generate:"",history:""},REe={title:"",listTitle:"",addButton:"",editTitle:"",createTitle:"",noWorkflows:"",noWorkflowsDesc:"ComfyUI"},kEe={active:"",inactive:"",fieldsCount:"{{count}}",createdDate:": {{date}}",generateImage:"",notFound:""},IEe={basicInfo:"",workflowName:"",description:"",apiEndpoint:"API",activate:"",workflowJson:"JSON",uploadFile:"",jsonPlaceholder:'{"prompt": {...}}',jsonHelper:"ComfyUIAPI JSON",jsonCharCount:"{{count}}",invalidJson:"JSON",nameRequired:"",jsonRequired:"JSON",validateJson:"JSON",colorLabel:"[zh-TW] Workflow Color",customColorTooltip:"[zh-TW] Select custom color",selectImage:"[zh-TW] Select Image"},NEe={importantNote:":",apiFormatWarning:"ComfyUISave (API Format)JSONJSON",created:"",updated:"",inactiveWarning:"",noConfigurableFields:""},jEe={sectionTitle:"",guideTitle:"",addField:"",noFields:"",whatIs:"",whatIsDesc:"CFG",howToFind:"JSON:",step1:"ComfyUISave (API Format)",step2:"JSON",step3:": [].inputs.[]",exampleTitle:":",example1Title:"1.  (CLIPTextEncode #6)",example1FieldId:"ID: prompt_positive",example1Label:": ",example1Type:":  (textarea)",example1Path:"JSON: 6.inputs.text",example1Default:": a beautiful landscape",example2Title:"2.  (KSampler #3)",example2FieldId:"ID: seed",example2Label:": ",example2Type:": ",example2Path:"JSON: 3.inputs.seed",example2Default:": 123456",example3Title:"3.  (KSampler #3)",example3FieldId:"ID: steps",example3Label:": ",example3Type:": ",example3Path:"JSON: 3.inputs.steps",example3Default:": 20",example3Min:": 1",example3Max:": 150",example4Title:"4.  (KSampler #3)",example4FieldId:"ID: sampler_name",example4Label:": ",example4Type:": ",example4Path:"JSON: 3.inputs.sampler_name",example4Options:": euler, euler_ancestral, dpm++ 2m, ddim",tipTitle:" :",tipDesc:'JSONJSONJSON{"3": {"inputs": {"seed": 123}}}JSON3.inputs.seed',previewTitle:"",unnamedField:"[zh-TW] Unnamed Field",noJsonPath:"[zh-TW] No JSON Path",stepLabel:"[zh-TW] Step Unit",stepHelperText:"[zh-TW] Step value (e.g., 0.01)",stepPlaceholder:"[zh-TW] 0.01",autoUpdated:"[zh-TW] (Auto-updated)",listPreviewHelper:"[zh-TW] Preview of referenced list (read-only)",loadFromListTooltip:"[zh-TW] Load from custom list",loadFromListTitle:"[zh-TW] Load from Custom List",noCustomLists:"[zh-TW] No custom lists registered.",itemCount:"[zh-TW] {{count}} items - "},DEe={fieldId:"ID",fieldIdPlaceholder:"prompt_positive",fieldIdHelper:"",label:"",labelPlaceholder:"",labelHelper:"",type:"",typeHelper:"",typeText:" ()",typeTextarea:" ()",typeNumber:"",typeSelect:" ()",jsonPath:"JSON *",jsonPathPlaceholder:"6.inputs.text",jsonPathHelper:"JSON: 6.inputs.text (6text)",defaultValue:"",defaultValuePlaceholder:"a beautiful landscape",defaultValueHelper:"",required:"",minValue:"",minPlaceholder:"1",maxValue:"",maxPlaceholder:"150",selectOptions:" ()",selectOptionsPlaceholder:"euler, dpm++, ddim",selectOptionsHelper:": euler, dpm++ 2m, ddim"},OEe={pageTitle:"",settingsTitle:"",missingFields:": {{fields}}",emptyPrompt:"",selectPlaceholder:"",previewTitle:"",generateAll:" ({{count}})",serversListTitle:"ComfyUI",serversListDesc:"",noServers:"ComfyUI",noConnectedServers:"",responseTime:": {{time}}",generateButton:"",generating:"...",generationComplete:"",generationFailed:"",executionTime:"{{time}}",viewImage:""},MEe={save:"",saving:"...",cancel:"",create:"",update:"",delete:"",confirmDelete:""},PEe={title:"",enable:"",count:"",infinite:"-1",countHelp:"1-999  -1",delay:"",delayHelp:"1-300",progress:"{{current}}",progressWithTotal:"{{current}}/{{total}}",stop:""},LEe={title:"",buttons:{add:"",edit:"",delete:"",view:"",cancel:"",create:"",save:""},labels:{name:"",description:"",items:"",itemsHelper:""},empty:{title:"",description:""},dialog:{add:"",edit:"",deleteConfirm:""},validation:{minItems:"1"},stats:{itemCount:"{{count}}",moreItems:"+{{count}}",createdAt:": {{date}}"}},zEe={statusTitle:"",overall:": {{completed}}{{total}} ",withInfinite:" ()",serverProgress:"{{count}}",serverProgressInfinite:"{{count}} ()"},FEe={generate:"",startRepeat:"",stop:"",executingInfinite:"{{count}} ()",executingProgress:"{{current}} / {{total}}"},BEe={title:"",selectGroup:"",autoAddDescription:""},HEe={searchPlaceholder:"...",filterTypes:"",layoutSwitch:"{{layout}}",layoutTopBottom:"",layoutLeftRight:"",expandAll:"",collapseAll:""},$Ee={title:"JSON",copyToClipboard:"",copied:""},UEe={graphView:"",jsonView:"JSON"},GEe={blue:"[zh-TW] Blue (default)",red:"[zh-TW] Red",green:"[zh-TW] Green",orange:"[zh-TW] Orange",purple:"[zh-TW] Purple",cyan:"[zh-TW] Cyan",yellow:"[zh-TW] Yellow",brown:"[zh-TW] Brown",gray:"[zh-TW] Gray",pink:"[zh-TW] Pink"},qEe={title:"[zh-TW] Marked Fields Preview",parseError:"[zh-TW] Cannot parse Workflow JSON",noJson:"[zh-TW] No Workflow JSON",pathNotFound:"[zh-TW] Path not found: {{path}}",validationError:"[zh-TW] Error during path validation",substitutionError:"[zh-TW] Error during substitution",validationResults:"[zh-TW] Path Validation Results",currentValue:"[zh-TW] Current value:",formTitle:"[zh-TW] Form to be displayed during image generation",generateButton:"[zh-TW] Generate Image (Preview)",testDataButton:"[zh-TW] Preview with test data",viewJsonTitle:"[zh-TW] View substituted Workflow JSON"},WEe={title:"[zh-TW] Select Image",tabs:{dbSearch:"[zh-TW] DB Search",hash:"[zh-TW] Hash",upload:"[zh-TW] Upload",history:"[zh-TW] History",dedicatedFolder:"[zh-TW] Dedicated Folder"},inPreparation:"[zh-TW] In preparation",hashInputLabel:"[zh-TW] Enter image hash",hashInputPlaceholder:"[zh-TW] Enter image hash",hashComingSoon:"[zh-TW] Hash-based image loading will be implemented in the future.",selectButton:"[zh-TW] Select Image",useAsIs:"[zh-TW] Use as is",editButton:"[zh-TW] Edit (In preparation)",noImagesInFolder:"[zh-TW] No images in dedicated folder.",addImagesPrompt:"[zh-TW] Add images to folder."},VEe={subtabs:AEe,page:REe,card:kEe,form:IEe,alerts:NEe,markedFields:jEe,fieldForm:DEe,generate:OEe,actions:MEe,repeat:PEe,customDropdowns:LEe,repeatExecution:zEe,serverStatus:FEe,groupAssignment:BEe,graphToolbar:HEe,jsonViewer:$Ee,workflowViewer:UEe,colors:GEe,preview:qEe,imageSelection:WEe},YEe={title:"",subtitle:"ComfyUI"},KEe={workflows:"",servers:"",novelai:"NovelAI",ariaLabel:"",comfyui:"[zh-TW] ComfyUI",wildcards:"[zh-TW] Wildcards"},XEe={subtabs:{generate:"",history:"",helper:""},login:{title:"NovelAI",subtitle:"NovelAI",tabs:{credentials:"/",token:""},username:"",password:"",token:"",tokenPlaceholder:"NovelAI",tokenHint:"NovelAI",loginButton:"",loggingIn:"...",error:"",tokenError:""},generate:{title:"NovelAI",logout:"",prompt:"",negativePrompt:"",resolution:"",sampler:"",steps:"",guidance:"",samples:"",ucPreset:"",generateButton:"",generating:"...",resultTitle:"",download:"",upload:"",metadata:"",tokenExpired:"",subscriptionRequired:"",error:"",uploadSuccess:"",uploadError:"",autoUploadSuccess:"{{count}}",autoUploadPartial:"{{success}}{{fail}}",success:"{{count}}",completed:"",failed:""},errors:{emptyPrompt:""},repeat:{title:"",enable:"",count:"",infinite:"-1",countHelp:"1-999  -1",delay:"",delayHelp:"1-300",progress:"{{current}}",progressWithTotal:"{{current}}/{{total}}",stop:""},resolution:{mode:"",modeFixed:"",modeRandom:"",selectResolution:"",selectMultiple:"",addCustom:"",swapDimensions:"",swapDimensionsDesc:"",finalResolution:"",randomPool:"",swapped:"",randomSwapInfo:"50%",selectAtLeastOne:"",customDialog:{addTitle:"",editTitle:"",name:"",namePlaceholder:"",width:"",height:"",save:"",cancel:"",nameRequired:"",widthInvalid:"642048",heightInvalid:"642048"}},naiSettings:{basic:{title:"",model:"",resolution:"",prompt:"",promptPlaceholder:"1girl, portrait, detailed face, masterpiece...",negativePrompt:"",negativePromptPlaceholder:"bad anatomy, low quality..."},sampling:{title:"",sampler:"",noiseSchedule:"Noise Schedule",steps:"Steps",guidance:"Guidance",cfgRescale:"CFG Rescale",uncondScale:"Uncond Scale",varietyPlus:"Variety+"},output:{title:"",samples:""}},tabs:{basic:"[zh-TW] Basic Settings",advanced:"[zh-TW] Advanced Settings"},sections:{preset:"[zh-TW] Quality Presets",prompts:"[zh-TW] Prompts",output:"[zh-TW] Output Settings",advanced:"[zh-TW] Advanced Settings",sampling:"[zh-TW] Sampling Settings",quality:"[zh-TW] Quality Settings",model:"[zh-TW] Model Selection"},anlas:{balance:"[zh-TW] Anlas Balance",refresh:"",subscription:"[zh-TW] Subscription",free:"[zh-TW] Free",tablet:"[zh-TW] Tablet",scroll:"[zh-TW] Scroll",opus:"[zh-TW] Opus"},cost:{title:"[zh-TW] Cost Estimate",anlas:"[zh-TW] Anlas",balance:"[zh-TW] Balance",sufficient:"[zh-TW] Sufficient",insufficient:"[zh-TW] Insufficient",opusFree:"[zh-TW] Opus Free Generation",maxSamples:"[zh-TW] Max Samples"},models:{label:"[zh-TW] Model Selection",v45curated:"[zh-TW] V4.5 Curated (Recommended)",v45full:"[zh-TW] V4.5 Full",v4curated:"[zh-TW] V4 Curated",v4full:"[zh-TW] V4 Full",v3:"[zh-TW] V3 (Legacy)",v3furry:"[zh-TW] V3 Furry"},advanced:{cfgRescale:"[zh-TW] Prompt Guidance Rescale",noiseSchedule:"[zh-TW] Noise Schedule",uncondScale:"[zh-TW] Undesired Content Strength"},settings:{qualityToggle:"[zh-TW] Auto-add quality tags"},presets:{title:"[zh-TW] Quality Presets",label:"[zh-TW] Quality Presets",quality:{name:"[zh-TW] Quality",description:"[zh-TW] Balanced quality and speed (28 steps, Euler)"},fast:{name:"[zh-TW] Fast",description:"[zh-TW] Quick generation (15 steps, Euler)"},artistic:{name:"[zh-TW] Artistic",description:"[zh-TW] Creative results (35 steps, DPM++ 2S Ancestral, SMEA DYN)"},realistic:{name:"[zh-TW] Realistic",description:"[zh-TW] Realistic images (40 steps, DPM++ 2M, SMEA)"},detail:{name:"[zh-TW] Detail",description:"[zh-TW] Maximum detail (50 steps, DPM++ SDE, SMEA DYN)"}},gallery:{images:"[zh-TW] Images",showMetadata:"[zh-TW] Show Metadata",hideMetadata:"[zh-TW] Hide Metadata",downloadAll:"[zh-TW] Download All"},history:{title:"[zh-TW] Generation History",comingSoon:"[zh-TW] This feature is coming soon.",description:"[zh-TW] View your previously generated images and settings."}},QEe={title:"",buttons:{addList:"",loadComfyUI:"ComfyUI",edit:"",delete:"",close:"",cancel:"",create:"",collect:"",viewList:"",selectFolder:"models"},tabs:{autoCollected:"",manual:""},labels:{auto:"",itemCount:"{{count}}",listName:"",listNameRequired:" *",description:"",path:"",itemList:"*",itemListCount:"{{count}}",pathOptions:"",checkpointsFullPath:"checkpoints - ",unetFullPath:"unet - ",upscaleModelsFullPath:"upscale_models - "},dialog:{viewTitle:"",createTitle:"",editTitle:"",comfyUITitle:"ComfyUI"},messages:{noAutoCollected:'"ComfyUI"',noManual:'""',minItemError:"1",deleteConfirm:"",selectFolderError:"",autoCollectedReadOnly:"",selectComfyUIFolder:"ComfyUImodels",foldersDetected:"{{count}}",fileCount:"{{count}}",moreCount:"...{{count}}",collecting:"...",pathExample:"{{example}}",scanInfo:`
 checkpointsunetupscale_models
 
 ""`},placeholders:{itemList:`
SDXL 1.0
SD 1.5
Realistic Vision
DreamShaper`},helperText:{itemList:""}},ZEe={page:YEe,tabs:KEe,nai:XEe,customDropdown:QEe},JEe="",e6e="{{count}}",t6e="",n6e="...",a6e="...",i6e="",r6e="",o6e="",s6e="",l6e="",c6e={pending:"",processing:"",completed:"",failed:""},u6e={comfyui:"ComfyUI",novelai:"NovelAI"},d6e={regenerate:"",delete:"",refresh:"",confirmDelete:""},f6e=" ({{count}})",h6e={title:"",confirm:"{{count}}",warning:""},p6e={title:"",status:"",service:"",positivePrompt:"",negativePrompt:"",size:"",model:"",sampler:"",steps:"",cfgScale:"CFG Scale",seed:"",error:"",createdAt:"",completedAt:""},m6e="[zh-TW] Failed to cleanup",g6e="[zh-TW] Cleanup Failed Items",b6e="[zh-TW] Are you sure you want to delete {{count}} failed generation histories?",y6e="[zh-TW] Only database records will be deleted, files will be kept.",x6e="[zh-TW] Cleanup",v6e="[zh-TW] Cleaning...",S6e="[zh-TW] {{count}} failed items have been deleted",C6e="[zh-TW] No failed items to clean up",w6e="[zh-TW] Failed to bulk delete",_6e={title:JEe,count:e6e,empty:t6e,loading:n6e,loadingMore:a6e,allLoaded:i6e,noHistory:r6e,noHistoryDescription:o6e,deleteConfirm:s6e,deleteFailed:l6e,status:c6e,service:u6e,actions:d6e,deleteSelected:f6e,deleteDialog:h6e,detail:p6e,cleanupFailed:m6e,cleanupFailedTitle:g6e,cleanupFailedConfirm:b6e,cleanupFailedNote:y6e,cleanup:x6e,cleaning:v6e,cleanupSuccess:S6e,noFailedRecords:C6e,bulkDeleteFailed:w6e},T6e={title:"",listTitle:"ComfyUI",addButton:"",noServers:"",noServersDesc:"ComfyUI"},E6e={active:"",inactive:"",priority:": {{priority}}",concurrent:": {{count}}",connectionSuccess:"",connectionFailed:"",testConnection:""},A6e={addTitle:"",editTitle:"",serverName:"",endpointUrl:"URL",endpointPlaceholder:"http://127.0.0.1:8188",description:"",priority:"",priorityHelper:"",maxConcurrent:"",activate:"",cancel:"",add:"",update:""},R6e={connected:"",disconnected:"",testing:"",error:"",responseTime:": {{time}}"},k6e={test:"",edit:"",delete:"",confirmDelete:""},I6e={page:T6e,card:E6e,dialog:A6e,status:R6e,actions:k6e},N6e={network:"",timeout:"",unauthorized:"",forbidden:"",notFound:"",serverError:"",badRequest:"",unknown:""},j6e={fileTooLarge:"50MB",invalidFileType:"",uploadFailed:"",multipleUploadFailed:"",fileCountLimit:"",processingFailed:"",noFilesSelected:""},D6e={loadFailed:"",deleteFailed:"",multipleDeleteFailed:"{{count}}",downloadFailed:"",notFound:"",metadataExtractionFailed:""},O6e={loadFailed:"",createFailed:"",updateFailed:"",deleteFailed:"",assignFailed:"",removeFailed:"",autoCollectFailed:"",notFound:""},M6e={loadFailed:"",deleteFailed:"",assignFailed:"",synonymFailed:"",notFound:""},P6e={failed:"",invalidQuery:"",noResults:""},L6e={required:"",invalid:"",tooShort:"",tooLong:""},z6e={api:N6e,upload:j6e,image:D6e,group:O6e,prompt:M6e,search:P6e,validation:L6e},F6e={field:"",name:"",description:"",file:"",image:"",group:""},B6e={invalid:"",email:"",url:"URL",number:"",integer:""},H6e={min:"{{min}}",max:"{{max}}",exact:"{{length}}",between:"{{min}}{{max}}"},$6e={fileSize:"{{max}}",imageSize:"{{width}}{{height}}",fileTooLarge:"{{max}}",fileTooSmall:"{{min}}"},U6e={min:"{{min}}",max:"{{max}}",between:"{{min}}{{max}}"},G6e={invalid:"",imageOnly:"",videoOnly:"",imageOrVideo:"",allowedTypes:"{{types}}"},q6e={exists:"",name:"",value:""},W6e={required:F6e,format:B6e,length:H6e,size:$6e,range:U6e,fileType:G6e,duplicate:q6e},V6e={title:"",noWildcards:"",noWildcardsDesc:""},Y6e={all:"",both:""},K6e={add:"",addItem:"",preview:"",confirmDelete:"'{{name}}'?",copiedToClipboard:"[zh-TW] Copied to clipboard",copyFailed:"[zh-TW] Failed to copy"},X6e={items:"{{count}}",itemsCount:"",moreItems:"{{count}}"},Q6e={createTitle:"",editTitle:""},Z6e={name:"",nameHelper:"++ (: , )",description:" ()",parent:"",parentHelper:"",noParent:" ()",includeChildren:"",includeChildrenHelper:"",comfyuiItems:"ComfyUI",naiItems:"NovelAI",itemsHelper:"++++",itemPlaceholder:": , ,   , ++++"},J6e={title:"",inputLabel:"",inputPlaceholder:": ++++, ++++",generate:"",results:" (5)",result:" {{number}}"},eAe={nameRequired:"",itemsRequired:"",previewTextRequired:"",copyFailed:"[zh-TW] Failed to copy"},tAe={manual:"",autoCollected:" (LORA)"},nAe={children:"",items:"",selectItem:"",moreItems:""},aAe={title:"LORA",description:"LORA",folderPath:"LORA",folderPathHelper:"ComfyUI lorasLORA",loraWeight:"LORA",loraWeightHelper:" (: 1.0)",duplicateHandling:"",duplicateNumber:" (style, style_2)",duplicateParent:" (anime_style, realistic_style)",scanButton:"LORA",scanning:"...",lastScan:"",noScanYet:"",scanLog:{title:"",timestamp:"",folderPath:"",totalWildcards:"",totalItems:"",details:"",wildcardName:"",itemCount:""},noAutoWildcards:"",noAutoWildcardsDesc:"LORA",autoCollectedBadge:"",viewDetail:"[zh-TW] View Details",errors:{folderPathRequired:"LORA",invalidWeight:" (0.1 ~ 2.0)",scanFailed:": {{error}}"},tierLabel:" {{tier}}",filesSelected:"{{count}}LORA",filesFound:"<strong>{{count}}LORA</strong>:",promptsCount:"{{count}}",moreFiles:"...{{count}}",childCount:"{{count}}",noItems:"",filters:{tierFilter:"",wildcardSearch:"",searchPlaceholder:"...",clearFilters:"",totalWildcards:"<strong>{{count}}</strong>",filteredCount:"(: <strong>{{count}}</strong>)",noResults:"",tryDifferentFilters:""},matchingMode:"[zh-TW] Text File Matching Mode",matchingModeFilename:"[zh-TW] Filename Matching (lora.txt)",matchingModeCommon:"[zh-TW] Use Common Text File",commonTextFilename:"[zh-TW] Common Text Filename",commonTextFilenameHelper:"[zh-TW] Common text filename to use within folders (e.g., add.txt, common.txt)",matchingPriority:"[zh-TW] Matching Priority",priorityFilename:"[zh-TW] Filename Matching First (fallback to common text)",priorityCommon:"[zh-TW] Common Text First (fallback to filename matching)"},iAe={openScanDialog:"[zh-TW] Scan LORA",openLogDialog:"[zh-TW] Last Scan Log"},rAe={title:"[zh-TW] LORA Wildcard Auto-Generation",infoMessage:"[zh-TW] Please select ComfyUI's loras folder or a folder containing LORA files.",scanButton:"[zh-TW] Collect LORA",warningTitle:"[zh-TW] Scan Information:",warning1:"[zh-TW] Automatically collects .safetensors files",warning2:"[zh-TW] Re-scanning the same folder will update the items",warning3:"[zh-TW] Auto-collected items can be found in this tab"},oAe={title:"[zh-TW] Last LORA Scan Log"},sAe={title:"[zh-TW] View List (Read-Only)",readOnlyInfo:"[zh-TW] Auto-collected items cannot be edited. You can only view the contents.",name:"[zh-TW] List Name",description:"[zh-TW] Description",path:"[zh-TW] Path",itemList:"[zh-TW] Item List ({{count}} items)"},lAe={hint:" ++ ",manualTab:"",autoTab:" (LORA)",noResults:"",selectTier:""},cAe={title:"",message:"'{{name}}'?",childrenNotice:"",wildcardInfo:{itemCount:": {{count}}",childCount:": {{count}}"},warning:{permanent:""},options:{title:":",moveUp:{label:"",description:""},cascade:{label:"",description:"{{count}}"}}},uAe={deleteSuccess:"",deleteFailed:""},dAe={page:V6e,filters:Y6e,actions:K6e,card:X6e,dialog:Q6e,form:Z6e,preview:J6e,errors:eAe,tabs:tAe,detail:nAe,autoCollect:aAe,buttons:iAe,scanDialog:rAe,logDialog:oAe,detailDialog:sAe,autocomplete:lAe,deleteConfirm:cAe,messages:uAe},fAe={link:"",title:"",description:"",procedureTitle:"",step1:"",step2:"",step3:"",step4:"",fileLabel:"",warning:" ",warningNote:""},hAe={recovery:fAe},pAe={ko:{common:Lpe,settings:eme,navigation:ime,gallery:yme,imageDetail:Pme,upload:qme,imageGroups:fge,search:vge,promptManagement:Ige,workflows:Qge,imageGeneration:n0e,generationHistory:R0e,servers:O0e,errors:$0e,validation:X0e,wildcards:m1e},en:{common:P1e,settings:J1e,navigation:abe,gallery:bbe,imageDetail:Mbe,upload:Gbe,imageGroups:dye,search:xye,promptManagement:Rye,workflows:Kye,imageGeneration:exe,generationHistory:Exe,servers:jxe,errors:Bxe,validation:Yxe,wildcards:hve},ja:{common:Ove,settings:Qve,navigation:t2e,gallery:m2e,imageDetail:D2e,upload:$2e,imageGroups:cSe,search:bSe,promptManagement:ESe,workflows:VSe,imageGeneration:ZSe,generationHistory:_3e,servers:I3e,errors:z3e,validation:W3e,wildcards:dCe,auth:hCe},"zh-CN":{common:OCe,settings:QCe,navigation:twe,gallery:mwe,imageDetail:Dwe,upload:$we,imageGroups:c4e,search:b4e,promptManagement:E4e,workflows:V4e,imageGeneration:Z4e,generationHistory:__e,servers:I_e,errors:z_e,validation:W_e,wildcards:d5e,auth:h5e},"zh-TW":{common:O5e,settings:Q5e,navigation:tTe,gallery:mTe,imageDetail:DTe,upload:$Te,imageGroups:cEe,search:bEe,promptManagement:EEe,workflows:VEe,imageGeneration:ZEe,generationHistory:_6e,servers:I6e,errors:z6e,validation:W6e,wildcards:dAe,auth:hAe}};Do.use(UX).use(Qhe).init({resources:pAe,fallbackLng:"en",defaultNS:"common",ns:["common","settings","navigation","gallery","imageDetail","upload","imageGroups","search","promptManagement","workflows","imageGeneration","generationHistory","servers","errors","validation","wildcards"],detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"},interpolation:{escapeValue:!1},react:{useSuspense:!1}});function mAe(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function gAe(t){return parseFloat(t)}function bAe({theme:t,...e}){const n=Bc in t?t[Bc]:void 0;return l.jsx(ZK,{...e,themeId:n?Bc:void 0,theme:n||t})}const $C={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:yAe}=Gue({themeId:Bc,theme:()=>U_({cssVariables:!0}),colorSchemeStorageKey:$C.colorSchemeStorageKey,modeStorageKey:$C.modeStorageKey,defaultColorScheme:{light:$C.defaultLightColorScheme,dark:$C.defaultDarkColorScheme},resolveTheme:t=>{const e={...t,typography:aX(t.palette,t.typography)};return e.unstable_sx=function(a){return dp({sx:a,theme:this})},e}}),xAe=yAe;function vAe({theme:t,...e}){const n=E.useMemo(()=>{if(typeof t=="function")return t;const a=Bc in t?t[Bc]:t;return"colorSchemes"in a?null:"vars"in a?t:{...t,vars:null}},[t]);return n?l.jsx(bAe,{theme:n,...e}):l.jsx(xAe,{theme:t,...e})}function t7(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}const kt=Pue;function SAe(t){return Pt("MuiSvgIcon",t)}Ft("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const CAe=t=>{const{color:e,fontSize:n,classes:a}=t,i={root:["root",e!=="inherit"&&`color${Ge(e)}`,`fontSize${Ge(n)}`]};return Lt(i,SAe,a)},wAe=qe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ge(n.color)}`],e[`fontSize${Ge(n.fontSize)}`]]}})(kt(({theme:t})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(t.vars??t).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),n7=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiSvgIcon"}),{children:i,className:r,color:o="inherit",component:s="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:h,viewBox:m="0 0 24 24",...g}=a,y=E.isValidElement(i)&&i.type==="svg",v={...a,color:o,component:s,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:m,hasSvgAsChild:y},S={};d||(S.viewBox=m);const w=CAe(v);return l.jsxs(wAe,{as:s,className:dt(w.root,r),focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n,...S,...g,...y&&i.props,ownerState:v,children:[y?i.props.children:i,h?l.jsx("title",{children:h}):null]})});n7.muiName="SvgIcon";function ft(t,e){function n(a,i){return l.jsx(n7,{"data-testid":void 0,ref:i,...a,children:t})}return n.muiName=n7.muiName,E.memo(E.forwardRef(n))}function cS(t,e=166){let n;function a(...i){const r=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(r,e)}return a.clear=()=>{clearTimeout(n)},a}function sr(t){return t&&t.ownerDocument||document}function il(t){return sr(t).defaultView||window}function SL(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function hp(t){const{controlled:e,default:n,name:a,state:i="value"}=t,{current:r}=E.useRef(e!==void 0),[o,s]=E.useState(n),c=r?e:o,u=E.useCallback(d=>{r||s(d)},[]);return[c,u]}function Wr(t){const e=E.useRef(t);return Io(()=>{e.current=t}),E.useRef((...n)=>(0,e.current)(...n)).current}function oi(...t){const e=E.useRef(void 0),n=E.useCallback(a=>{const i=t.map(r=>{if(r==null)return null;if(typeof r=="function"){const o=r,s=o(a);return typeof s=="function"?s:()=>{o(null)}}return r.current=a,()=>{r.current=null}});return()=>{i.forEach(r=>r?.())}},t);return E.useMemo(()=>t.every(a=>a==null)?null:a=>{e.current&&(e.current(),e.current=void 0),a!=null&&(e.current=n(a))},t)}function _Ae(t,e){const n=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&n>=65&&n<=90&&typeof e=="function"}function Dj(t,e){if(!t)return e;function n(o,s){const c={};return Object.keys(s).forEach(u=>{_Ae(u,s[u])&&typeof o[u]=="function"&&(c[u]=(...d)=>{o[u](...d),s[u](...d)})}),c}if(typeof t=="function"||typeof e=="function")return o=>{const s=typeof e=="function"?e(o):e,c=typeof t=="function"?t({...o,...s}):t,u=dt(o?.className,s?.className,c?.className),d=n(c,s);return{...s,...c,...d,...!!u&&{className:u},...s?.style&&c?.style&&{style:{...s.style,...c.style}},...s?.sx&&c?.sx&&{sx:[...Array.isArray(s.sx)?s.sx:[s.sx],...Array.isArray(c.sx)?c.sx:[c.sx]]}}};const a=e,i=n(t,a),r=dt(a?.className,t?.className);return{...e,...t,...i,...!!r&&{className:r},...a?.style&&t?.style&&{style:{...a.style,...t.style}},...a?.sx&&t?.sx&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function GX(t,e){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(e.indexOf(a)!==-1)continue;n[a]=t[a]}return n}function a7(t,e){return a7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},a7(t,e)}function qX(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,a7(t,e)}const CL={disabled:!1},k4=ke.createContext(null);var TAe=function(e){return e.scrollTop},gv="unmounted",Am="exited",Rm="entering",I1="entered",i7="exiting",cc=(function(t){qX(e,t);function e(a,i){var r;r=t.call(this,a,i)||this;var o=i,s=o&&!o.isMounting?a.enter:a.appear,c;return r.appearStatus=null,a.in?s?(c=Am,r.appearStatus=Rm):c=I1:a.unmountOnExit||a.mountOnEnter?c=gv:c=Am,r.state={status:c},r.nextCallback=null,r}e.getDerivedStateFromProps=function(i,r){var o=i.in;return o&&r.status===gv?{status:Am}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var r=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Rm&&o!==I1&&(r=Rm):(o===Rm||o===I1)&&(r=i7)}this.updateStatus(!1,r)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,r,o,s;return r=o=s=i,i!=null&&typeof i!="number"&&(r=i.exit,o=i.enter,s=i.appear!==void 0?i.appear:o),{exit:r,enter:o,appear:s}},n.updateStatus=function(i,r){if(i===void 0&&(i=!1),r!==null)if(this.cancelNextCallback(),r===Rm){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:NC.findDOMNode(this);o&&TAe(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Am&&this.setState({status:gv})},n.performEnter=function(i){var r=this,o=this.props.enter,s=this.context?this.context.isMounting:i,c=this.props.nodeRef?[s]:[NC.findDOMNode(this),s],u=c[0],d=c[1],h=this.getTimeouts(),m=s?h.appear:h.enter;if(!i&&!o||CL.disabled){this.safeSetState({status:I1},function(){r.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:Rm},function(){r.props.onEntering(u,d),r.onTransitionEnd(m,function(){r.safeSetState({status:I1},function(){r.props.onEntered(u,d)})})})},n.performExit=function(){var i=this,r=this.props.exit,o=this.getTimeouts(),s=this.props.nodeRef?void 0:NC.findDOMNode(this);if(!r||CL.disabled){this.safeSetState({status:Am},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:i7},function(){i.props.onExiting(s),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Am},function(){i.props.onExited(s)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,r){r=this.setNextCallback(r),this.setState(i,r)},n.setNextCallback=function(i){var r=this,o=!0;return this.nextCallback=function(s){o&&(o=!1,r.nextCallback=null,i(s))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,r){this.setNextCallback(r);var o=this.props.nodeRef?this.props.nodeRef.current:NC.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!o||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=c[0],d=c[1];this.props.addEndListener(u,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===gv)return null;var r=this.props,o=r.children;r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef;var s=GX(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ke.createElement(k4.Provider,{value:null},typeof o=="function"?o(i,s):ke.cloneElement(ke.Children.only(o),s))},e})(ke.Component);cc.contextType=k4;cc.propTypes={};function p1(){}cc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p1,onEntering:p1,onEntered:p1,onExit:p1,onExiting:p1,onExited:p1};cc.UNMOUNTED=gv;cc.EXITED=Am;cc.ENTERING=Rm;cc.ENTERED=I1;cc.EXITING=i7;function EAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oj(t,e){var n=function(r){return e&&E.isValidElement(r)?e(r):r},a=Object.create(null);return t&&E.Children.map(t,function(i){return i}).forEach(function(i){a[i.key]=n(i)}),a}function AAe(t,e){t=t||{},e=e||{};function n(d){return d in e?e[d]:t[d]}var a=Object.create(null),i=[];for(var r in t)r in e?i.length&&(a[r]=i,i=[]):i.push(r);var o,s={};for(var c in e){if(a[c])for(o=0;o<a[c].length;o++){var u=a[c][o];s[a[c][o]]=n(u)}s[c]=n(c)}for(o=0;o<i.length;o++)s[i[o]]=n(i[o]);return s}function zm(t,e,n){return n[e]!=null?n[e]:t.props[e]}function RAe(t,e){return Oj(t.children,function(n){return E.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:zm(n,"appear",t),enter:zm(n,"enter",t),exit:zm(n,"exit",t)})})}function kAe(t,e,n){var a=Oj(t.children),i=AAe(e,a);return Object.keys(i).forEach(function(r){var o=i[r];if(E.isValidElement(o)){var s=r in e,c=r in a,u=e[r],d=E.isValidElement(u)&&!u.props.in;c&&(!s||d)?i[r]=E.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:zm(o,"exit",t),enter:zm(o,"enter",t)}):!c&&s&&!d?i[r]=E.cloneElement(o,{in:!1}):c&&s&&E.isValidElement(u)&&(i[r]=E.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:zm(o,"exit",t),enter:zm(o,"enter",t)}))}}),i}var IAe=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},NAe={component:"div",childFactory:function(e){return e}},Mj=(function(t){qX(e,t);function e(a,i){var r;r=t.call(this,a,i)||this;var o=r.handleExited.bind(EAe(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,r){var o=r.children,s=r.handleExited,c=r.firstRender;return{children:c?RAe(i,s):kAe(i,o,s),firstRender:!1}},n.handleExited=function(i,r){var o=Oj(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(r),this.mounted&&this.setState(function(s){var c=x4({},s.children);return delete c[i.key],{children:c}}))},n.render=function(){var i=this.props,r=i.component,o=i.childFactory,s=GX(i,["component","childFactory"]),c=this.state.contextValue,u=IAe(this.state.children).map(o);return delete s.appear,delete s.enter,delete s.exit,r===null?ke.createElement(k4.Provider,{value:c},u):ke.createElement(k4.Provider,{value:c},ke.createElement(r,s,u))},e})(ke.Component);Mj.propTypes={};Mj.defaultProps=NAe;const wL={};function WX(t,e){const n=E.useRef(wL);return n.current===wL&&(n.current=t(e)),n}const jAe=[];function DAe(t){E.useEffect(t,jAe)}class V_{static create(){return new V_}currentId=null;start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function Wh(){const t=WX(V_.create).current;return DAe(t.disposeEffect),t}const Pj=t=>t.scrollTop;function pp(t,e){const{timeout:n,easing:a,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof a=="object"?a[e.mode]:a),delay:i.transitionDelay}}function OAe(t){return Pt("MuiCollapse",t)}Ft("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const MAe=t=>{const{orientation:e,classes:n}=t,a={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return Lt(a,OAe,n)},PAe=qe("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(kt(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),LAe=qe("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),zAe=qe("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Gc=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiCollapse"}),{addEndListener:i,children:r,className:o,collapsedSize:s="0px",component:c,easing:u,in:d,onEnter:h,onEntered:m,onEntering:g,onExit:y,onExited:v,onExiting:S,orientation:w="vertical",style:_,timeout:T=iX.standard,TransitionComponent:A=cc,...R}=a,I={...a,orientation:w,collapsedSize:s},N=MAe(I),P=Fi(),O=Wh(),D=E.useRef(null),H=E.useRef(),L=typeof s=="number"?`${s}px`:s,$=w==="horizontal",M=$?"width":"height",z=E.useRef(null),F=oi(n,z),G=ne=>ce=>{if(ne){const pe=z.current;ce===void 0?ne(pe):ne(pe,ce)}},ee=()=>D.current?D.current[$?"clientWidth":"clientHeight"]:0,V=G((ne,ce)=>{D.current&&$&&(D.current.style.position="absolute"),ne.style[M]=L,h&&h(ne,ce)}),Y=G((ne,ce)=>{const pe=ee();D.current&&$&&(D.current.style.position="");const{duration:me,easing:ge}=pp({style:_,timeout:T,easing:u},{mode:"enter"});if(T==="auto"){const ye=P.transitions.getAutoHeightDuration(pe);ne.style.transitionDuration=`${ye}ms`,H.current=ye}else ne.style.transitionDuration=typeof me=="string"?me:`${me}ms`;ne.style[M]=`${pe}px`,ne.style.transitionTimingFunction=ge,g&&g(ne,ce)}),K=G((ne,ce)=>{ne.style[M]="auto",m&&m(ne,ce)}),J=G(ne=>{ne.style[M]=`${ee()}px`,y&&y(ne)}),W=G(v),te=G(ne=>{const ce=ee(),{duration:pe,easing:me}=pp({style:_,timeout:T,easing:u},{mode:"exit"});if(T==="auto"){const ge=P.transitions.getAutoHeightDuration(ce);ne.style.transitionDuration=`${ge}ms`,H.current=ge}else ne.style.transitionDuration=typeof pe=="string"?pe:`${pe}ms`;ne.style[M]=L,ne.style.transitionTimingFunction=me,S&&S(ne)}),re=ne=>{T==="auto"&&O.start(H.current||0,ne),i&&i(z.current,ne)};return l.jsx(A,{in:d,onEnter:V,onEntered:K,onEntering:Y,onExit:J,onExited:W,onExiting:te,addEndListener:re,nodeRef:z,timeout:T==="auto"?null:T,...R,children:(ne,{ownerState:ce,...pe})=>l.jsx(PAe,{as:c,className:dt(N.root,o,{entered:N.entered,exited:!d&&L==="0px"&&N.hidden}[ne]),style:{[$?"minWidth":"minHeight"]:L,..._},ref:F,ownerState:{...I,state:ne},...pe,children:l.jsx(LAe,{ownerState:{...I,state:ne},className:N.wrapper,ref:D,children:l.jsx(zAe,{ownerState:{...I,state:ne},className:N.wrapperInner,children:r})})})})});Gc&&(Gc.muiSupportAuto=!0);function FAe(t){return Pt("MuiPaper",t)}Ft("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const BAe=t=>{const{square:e,elevation:n,variant:a,classes:i}=t,r={root:["root",a,!e&&"rounded",a==="elevation"&&`elevation${n}`]};return Lt(r,FAe,i)},HAe=qe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(kt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Gt=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiPaper"}),i=Fi(),{className:r,component:o="div",elevation:s=1,square:c=!1,variant:u="elevation",...d}=a,h={...a,component:o,elevation:s,square:c,variant:u},m=BAe(h);return l.jsx(HAe,{as:o,ownerState:h,className:dt(m.root,r),ref:n,...d,style:{...u==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[s],...i.vars&&{"--Paper-overlay":i.vars.overlays?.[s]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${gi("#fff",FI(s))}, ${gi("#fff",FI(s))})`}},...d.style}})}),VX=E.createContext({});function Xu(t){return typeof t=="string"}function YX(t,e,n){return t===void 0||Xu(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function KX(t,e,n){return typeof t=="function"?t(e,n):t}function Jm(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(a=>a.match(/^on[A-Z]/)&&typeof t[a]=="function"&&!e.includes(a)).forEach(a=>{n[a]=t[a]}),n}function _L(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function XX(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:a,externalForwardedProps:i,className:r}=t;if(!e){const g=dt(n?.className,r,i?.className,a?.className),y={...n?.style,...i?.style,...a?.style},v={...n,...i,...a};return g.length>0&&(v.className=g),Object.keys(y).length>0&&(v.style=y),{props:v,internalRef:void 0}}const o=Jm({...i,...a}),s=_L(a),c=_L(i),u=e(o),d=dt(u?.className,n?.className,r,i?.className,a?.className),h={...u?.style,...n?.style,...i?.style,...a?.style},m={...u,...n,...c,...s};return d.length>0&&(m.className=d),Object.keys(h).length>0&&(m.style=h),{props:m,internalRef:u.ref}}function qt(t,e){const{className:n,elementType:a,ownerState:i,externalForwardedProps:r,internalForwardedProps:o,shouldForwardComponentProp:s=!1,...c}=e,{component:u,slots:d={[t]:void 0},slotProps:h={[t]:void 0},...m}=r,g=d[t]||a,y=KX(h[t],i),{props:{component:v,...S},internalRef:w}=XX({className:n,...c,externalForwardedProps:t==="root"?m:void 0,externalSlotProps:y}),_=oi(w,y?.ref,e.ref),T=t==="root"?v||u:v,A=YX(g,{...t==="root"&&!u&&!d[t]&&o,...t!=="root"&&!d[t]&&o,...S,...T&&!s&&{as:T},...T&&s&&{component:T},ref:_},i);return[g,A]}function $Ae(t){return Pt("MuiAccordion",t)}const UC=Ft("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),UAe=t=>{const{classes:e,square:n,expanded:a,disabled:i,disableGutters:r}=t;return Lt({root:["root",!n&&"rounded",a&&"expanded",i&&"disabled",!r&&"gutters"],heading:["heading"],region:["region"]},$Ae,e)},GAe=qe(Gt,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${UC.region}`]:e.region},e.root,!n.square&&e.rounded,!n.disableGutters&&e.gutters]}})(kt(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],e),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${UC.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${UC.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}}),kt(({theme:t})=>({variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${UC.expanded}`]:{margin:"16px 0"}}}]}))),qAe=qe("h3",{name:"MuiAccordion",slot:"Heading"})({all:"unset"}),WAe=qe("div",{name:"MuiAccordion",slot:"Region"})({}),rl=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiAccordion"}),{children:i,className:r,defaultExpanded:o=!1,disabled:s=!1,disableGutters:c=!1,expanded:u,onChange:d,square:h=!1,slots:m={},slotProps:g={},TransitionComponent:y,TransitionProps:v,...S}=a,[w,_]=hp({controlled:u,default:o,name:"Accordion",state:"expanded"}),T=E.useCallback(Y=>{_(!w),d&&d(Y,!w)},[w,d,_]),[A,...R]=E.Children.toArray(i),I=E.useMemo(()=>({expanded:w,disabled:s,disableGutters:c,toggle:T}),[w,s,c,T]),N={...a,square:h,disabled:s,disableGutters:c,expanded:w},P=UAe(N),O={transition:y,...m},D={transition:v,...g},H={slots:O,slotProps:D},[L,$]=qt("root",{elementType:GAe,externalForwardedProps:{...H,...S},className:dt(P.root,r),shouldForwardComponentProp:!0,ownerState:N,ref:n,additionalProps:{square:h}}),[M,z]=qt("heading",{elementType:qAe,externalForwardedProps:H,className:P.heading,ownerState:N}),[F,G]=qt("transition",{elementType:Gc,externalForwardedProps:H,ownerState:N}),[ee,V]=qt("region",{elementType:WAe,externalForwardedProps:H,ownerState:N,className:P.region,additionalProps:{"aria-labelledby":A.props.id,id:A.props["aria-controls"],role:"region"}});return l.jsxs(L,{...$,children:[l.jsx(M,{...z,children:l.jsx(VX.Provider,{value:I,children:A})}),l.jsx(F,{in:w,timeout:"auto",...G,children:l.jsx(ee,{...V,children:R})})]})});function VAe(t){return Pt("MuiAccordionDetails",t)}Ft("MuiAccordionDetails",["root"]);const YAe=t=>{const{classes:e}=t;return Lt({root:["root"]},VAe,e)},KAe=qe("div",{name:"MuiAccordionDetails",slot:"Root"})(kt(({theme:t})=>({padding:t.spacing(1,2,2)}))),ol=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiAccordionDetails"}),{className:i,...r}=a,o=a,s=YAe(o);return l.jsx(KAe,{className:dt(s.root,i),ref:n,ownerState:o,...r})});function mp(t){try{return t.matches(":focus-visible")}catch{}return!1}class I4{static create(){return new I4}static use(){const e=WX(I4.create).current,[n,a]=E.useState(!1);return e.shouldMount=n,e.setShouldMount=a,E.useEffect(e.mountEffect,[n]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=QAe(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function XAe(){return I4.use()}function QAe(){let t,e;const n=new Promise((a,i)=>{t=a,e=i});return n.resolve=t,n.reject=e,n}function ZAe(t){const{className:e,classes:n,pulsate:a=!1,rippleX:i,rippleY:r,rippleSize:o,in:s,onExited:c,timeout:u}=t,[d,h]=E.useState(!1),m=dt(e,n.ripple,n.rippleVisible,a&&n.ripplePulsate),g={width:o,height:o,top:-(o/2)+r,left:-(o/2)+i},y=dt(n.child,d&&n.childLeaving,a&&n.childPulsate);return!s&&!d&&h(!0),E.useEffect(()=>{if(!s&&c!=null){const v=setTimeout(c,u);return()=>{clearTimeout(v)}}},[c,s,u]),l.jsx("span",{className:m,style:g,children:l.jsx("span",{className:y})})}const Ul=Ft("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),r7=550,JAe=80,e8e=ld`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,t8e=ld`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,n8e=ld`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,a8e=qe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),i8e=qe(ZAe,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Ul.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${e8e};
    animation-duration: ${r7}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Ul.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Ul.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Ul.childLeaving} {
    opacity: 0;
    animation-name: ${t8e};
    animation-duration: ${r7}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Ul.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${n8e};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,r8e=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:r={},className:o,...s}=a,[c,u]=E.useState([]),d=E.useRef(0),h=E.useRef(null);E.useEffect(()=>{h.current&&(h.current(),h.current=null)},[c]);const m=E.useRef(!1),g=Wh(),y=E.useRef(null),v=E.useRef(null),S=E.useCallback(A=>{const{pulsate:R,rippleX:I,rippleY:N,rippleSize:P,cb:O}=A;u(D=>[...D,l.jsx(i8e,{classes:{ripple:dt(r.ripple,Ul.ripple),rippleVisible:dt(r.rippleVisible,Ul.rippleVisible),ripplePulsate:dt(r.ripplePulsate,Ul.ripplePulsate),child:dt(r.child,Ul.child),childLeaving:dt(r.childLeaving,Ul.childLeaving),childPulsate:dt(r.childPulsate,Ul.childPulsate)},timeout:r7,pulsate:R,rippleX:I,rippleY:N,rippleSize:P},d.current)]),d.current+=1,h.current=O},[r]),w=E.useCallback((A={},R={},I=()=>{})=>{const{pulsate:N=!1,center:P=i||R.pulsate,fakeElement:O=!1}=R;if(A?.type==="mousedown"&&m.current){m.current=!1;return}A?.type==="touchstart"&&(m.current=!0);const D=O?null:v.current,H=D?D.getBoundingClientRect():{width:0,height:0,left:0,top:0};let L,$,M;if(P||A===void 0||A.clientX===0&&A.clientY===0||!A.clientX&&!A.touches)L=Math.round(H.width/2),$=Math.round(H.height/2);else{const{clientX:z,clientY:F}=A.touches&&A.touches.length>0?A.touches[0]:A;L=Math.round(z-H.left),$=Math.round(F-H.top)}if(P)M=Math.sqrt((2*H.width**2+H.height**2)/3),M%2===0&&(M+=1);else{const z=Math.max(Math.abs((D?D.clientWidth:0)-L),L)*2+2,F=Math.max(Math.abs((D?D.clientHeight:0)-$),$)*2+2;M=Math.sqrt(z**2+F**2)}A?.touches?y.current===null&&(y.current=()=>{S({pulsate:N,rippleX:L,rippleY:$,rippleSize:M,cb:I})},g.start(JAe,()=>{y.current&&(y.current(),y.current=null)})):S({pulsate:N,rippleX:L,rippleY:$,rippleSize:M,cb:I})},[i,S,g]),_=E.useCallback(()=>{w({},{pulsate:!0})},[w]),T=E.useCallback((A,R)=>{if(g.clear(),A?.type==="touchend"&&y.current){y.current(),y.current=null,g.start(0,()=>{T(A,R)});return}y.current=null,u(I=>I.length>0?I.slice(1):I),h.current=R},[g]);return E.useImperativeHandle(n,()=>({pulsate:_,start:w,stop:T}),[_,w,T]),l.jsx(a8e,{className:dt(Ul.root,r.root,o),ref:v,...s,children:l.jsx(Mj,{component:null,exit:!0,children:c})})});function o8e(t){return Pt("MuiButtonBase",t)}const s8e=Ft("MuiButtonBase",["root","disabled","focusVisible"]),l8e=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:a,classes:i}=t,o=Lt({root:["root",e&&"disabled",n&&"focusVisible"]},o8e,i);return n&&a&&(o.root+=` ${a}`),o},c8e=qe("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${s8e.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ts=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:r=!1,children:o,className:s,component:c="button",disabled:u=!1,disableRipple:d=!1,disableTouchRipple:h=!1,focusRipple:m=!1,focusVisibleClassName:g,LinkComponent:y="a",onBlur:v,onClick:S,onContextMenu:w,onDragLeave:_,onFocus:T,onFocusVisible:A,onKeyDown:R,onKeyUp:I,onMouseDown:N,onMouseLeave:P,onMouseUp:O,onTouchEnd:D,onTouchMove:H,onTouchStart:L,tabIndex:$=0,TouchRippleProps:M,touchRippleRef:z,type:F,...G}=a,ee=E.useRef(null),V=XAe(),Y=oi(V.ref,z),[K,J]=E.useState(!1);u&&K&&J(!1),E.useImperativeHandle(i,()=>({focusVisible:()=>{J(!0),ee.current.focus()}}),[]);const W=V.shouldMount&&!d&&!u;E.useEffect(()=>{K&&m&&!d&&V.pulsate()},[d,m,K,V]);const te=Zd(V,"start",N,h),re=Zd(V,"stop",w,h),ne=Zd(V,"stop",_,h),ce=Zd(V,"stop",O,h),pe=Zd(V,"stop",Me=>{K&&Me.preventDefault(),P&&P(Me)},h),me=Zd(V,"start",L,h),ge=Zd(V,"stop",D,h),ye=Zd(V,"stop",H,h),he=Zd(V,"stop",Me=>{mp(Me.target)||J(!1),v&&v(Me)},!1),de=Wr(Me=>{ee.current||(ee.current=Me.currentTarget),mp(Me.target)&&(J(!0),A&&A(Me)),T&&T(Me)}),fe=()=>{const Me=ee.current;return c&&c!=="button"&&!(Me.tagName==="A"&&Me.href)},oe=Wr(Me=>{m&&!Me.repeat&&K&&Me.key===" "&&V.stop(Me,()=>{V.start(Me)}),Me.target===Me.currentTarget&&fe()&&Me.key===" "&&Me.preventDefault(),R&&R(Me),Me.target===Me.currentTarget&&fe()&&Me.key==="Enter"&&!u&&(Me.preventDefault(),S&&S(Me))}),ue=Wr(Me=>{m&&Me.key===" "&&K&&!Me.defaultPrevented&&V.stop(Me,()=>{V.pulsate(Me)}),I&&I(Me),S&&Me.target===Me.currentTarget&&fe()&&Me.key===" "&&!Me.defaultPrevented&&S(Me)});let le=c;le==="button"&&(G.href||G.to)&&(le=y);const Se={};le==="button"?(Se.type=F===void 0?"button":F,Se.disabled=u):(!G.href&&!G.to&&(Se.role="button"),u&&(Se["aria-disabled"]=u));const _e=oi(n,ee),Ie={...a,centerRipple:r,component:c,disabled:u,disableRipple:d,disableTouchRipple:h,focusRipple:m,tabIndex:$,focusVisible:K},ze=l8e(Ie);return l.jsxs(c8e,{as:le,className:dt(ze.root,s),ownerState:Ie,onBlur:he,onClick:S,onContextMenu:re,onFocus:de,onKeyDown:oe,onKeyUp:ue,onMouseDown:te,onMouseLeave:pe,onMouseUp:ce,onDragLeave:ne,onTouchEnd:ge,onTouchMove:ye,onTouchStart:me,ref:_e,tabIndex:u?-1:$,type:F,...Se,...G,children:[o,W?l.jsx(r8e,{ref:Y,center:r,...M}):null]})});function Zd(t,e,n,a=!1){return Wr(i=>(n&&n(i),a||t[e](i),!0))}function u8e(t){return Pt("MuiAccordionSummary",t)}const M1=Ft("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),d8e=t=>{const{classes:e,expanded:n,disabled:a,disableGutters:i}=t;return Lt({root:["root",n&&"expanded",a&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},u8e,e)},f8e=qe(ts,{name:"MuiAccordionSummary",slot:"Root"})(kt(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],e),[`&.${M1.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${M1.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${M1.disabled})`]:{cursor:"pointer"},variants:[{props:n=>!n.disableGutters,style:{[`&.${M1.expanded}`]:{minHeight:64}}}]}})),h8e=qe("span",{name:"MuiAccordionSummary",slot:"Content"})(kt(({theme:t})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${M1.expanded}`]:{margin:"20px 0"}}}]}))),p8e=qe("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper"})(kt(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${M1.expanded}`]:{transform:"rotate(180deg)"}}))),sl=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiAccordionSummary"}),{children:i,className:r,expandIcon:o,focusVisibleClassName:s,onClick:c,slots:u,slotProps:d,...h}=a,{disabled:m=!1,disableGutters:g,expanded:y,toggle:v}=E.useContext(VX),S=D=>{v&&v(D),c&&c(D)},w={...a,expanded:y,disabled:m,disableGutters:g},_=d8e(w),T={slots:u,slotProps:d},[A,R]=qt("root",{ref:n,shouldForwardComponentProp:!0,className:dt(_.root,r),elementType:f8e,externalForwardedProps:{...T,...h},ownerState:w,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:m,"aria-expanded":y,focusVisibleClassName:dt(_.focusVisible,s)},getSlotProps:D=>({...D,onClick:H=>{D.onClick?.(H),S(H)}})}),[I,N]=qt("content",{className:_.content,elementType:h8e,externalForwardedProps:T,ownerState:w}),[P,O]=qt("expandIconWrapper",{className:_.expandIconWrapper,elementType:p8e,externalForwardedProps:T,ownerState:w});return l.jsxs(A,{...R,children:[l.jsx(I,{...N,children:i}),o&&l.jsx(P,{...O,children:o})]})});function m8e(t){return typeof t.main=="string"}function g8e(t,e=[]){if(!m8e(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function sa(t=[]){return([,e])=>e&&g8e(e,t)}function b8e(t){return Pt("MuiAlert",t)}const TL=Ft("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function y8e(t){return Pt("MuiCircularProgress",t)}Ft("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Th=44,o7=ld`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,s7=ld`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,x8e=typeof o7!="string"?yp`
        animation: ${o7} 1.4s linear infinite;
      `:null,v8e=typeof s7!="string"?yp`
        animation: ${s7} 1.4s ease-in-out infinite;
      `:null,S8e=t=>{const{classes:e,variant:n,color:a,disableShrink:i}=t,r={root:["root",n,`color${Ge(a)}`],svg:["svg"],circle:["circle",`circle${Ge(n)}`,i&&"circleDisableShrink"]};return Lt(r,y8e,e)},C8e=qe("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${Ge(n.color)}`]]}})(kt(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:x8e||{animation:`${o7} 1.4s linear infinite`}},...Object.entries(t.palette).filter(sa()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),w8e=qe("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),_8e=qe("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${Ge(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(kt(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:v8e||{animation:`${s7} 1.4s ease-in-out infinite`}}]}))),Yt=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiCircularProgress"}),{className:i,color:r="primary",disableShrink:o=!1,size:s=40,style:c,thickness:u=3.6,value:d=0,variant:h="indeterminate",...m}=a,g={...a,color:r,disableShrink:o,size:s,thickness:u,value:d,variant:h},y=S8e(g),v={},S={},w={};if(h==="determinate"){const _=2*Math.PI*((Th-u)/2);v.strokeDasharray=_.toFixed(3),w["aria-valuenow"]=Math.round(d),v.strokeDashoffset=`${((100-d)/100*_).toFixed(3)}px`,S.transform="rotate(-90deg)"}return l.jsx(C8e,{className:dt(y.root,i),style:{width:s,height:s,...S,...c},ownerState:g,ref:n,role:"progressbar",...w,...m,children:l.jsx(w8e,{className:y.svg,ownerState:g,viewBox:`${Th/2} ${Th/2} ${Th} ${Th}`,children:l.jsx(_8e,{className:y.circle,style:v,ownerState:g,cx:Th,cy:Th,r:(Th-u)/2,fill:"none",strokeWidth:u})})})});function T8e(t){return Pt("MuiIconButton",t)}const EL=Ft("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),E8e=t=>{const{classes:e,disabled:n,color:a,edge:i,size:r,loading:o}=t,s={root:["root",o&&"loading",n&&"disabled",a!=="default"&&`color${Ge(a)}`,i&&`edge${Ge(i)}`,`size${Ge(r)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Lt(s,T8e,e)},A8e=qe(ts,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${Ge(n.color)}`],n.edge&&e[`edge${Ge(n.edge)}`],e[`size${Ge(n.size)}`]]}})(kt(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),kt(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(sa()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(sa()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${EL.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${EL.loading}`]:{color:"transparent"}}))),R8e=qe("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),lt=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:r,className:o,color:s="default",disabled:c=!1,disableFocusRipple:u=!1,size:d="medium",id:h,loading:m=null,loadingIndicator:g,...y}=a,v=nd(h),S=g??l.jsx(Yt,{"aria-labelledby":v,color:"inherit",size:16}),w={...a,edge:i,color:s,disabled:c,disableFocusRipple:u,loading:m,loadingIndicator:S,size:d},_=E8e(w);return l.jsxs(A8e,{id:m?v:h,className:dt(_.root,o),centerRipple:!0,focusRipple:!u,disabled:c||m,ref:n,...y,ownerState:w,children:[typeof m=="boolean"&&l.jsx("span",{className:_.loadingWrapper,style:{display:"contents"},children:l.jsx(R8e,{className:_.loadingIndicator,ownerState:w,children:m&&S})}),r]})}),k8e=ft(l.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),I8e=ft(l.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),N8e=ft(l.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),j8e=ft(l.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),D8e=ft(l.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),O8e=t=>{const{variant:e,color:n,severity:a,classes:i}=t,r={root:["root",`color${Ge(n||a)}`,`${e}${Ge(n||a)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return Lt(r,b8e,i)},M8e=qe(Gt,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ge(n.color||n.severity)}`]]}})(kt(({theme:t})=>{const e=t.palette.mode==="light"?t.darken:t.lighten,n=t.palette.mode==="light"?t.lighten:t.darken;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(sa(["light"])).map(([a])=>({props:{colorSeverity:a,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${a}Color`]:e(t.palette[a].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${a}StandardBg`]:n(t.palette[a].light,.9),[`& .${TL.icon}`]:t.vars?{color:t.vars.palette.Alert[`${a}IconColor`]}:{color:t.palette[a].main}}})),...Object.entries(t.palette).filter(sa(["light"])).map(([a])=>({props:{colorSeverity:a,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${a}Color`]:e(t.palette[a].light,.6),border:`1px solid ${(t.vars||t).palette[a].light}`,[`& .${TL.icon}`]:t.vars?{color:t.vars.palette.Alert[`${a}IconColor`]}:{color:t.palette[a].main}}})),...Object.entries(t.palette).filter(sa(["dark"])).map(([a])=>({props:{colorSeverity:a,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${a}FilledColor`],backgroundColor:t.vars.palette.Alert[`${a}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[a].dark:t.palette[a].main,color:t.palette.getContrastText(t.palette[a].main)}}}))]}})),P8e=qe("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),L8e=qe("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),z8e=qe("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),AL={success:l.jsx(k8e,{fontSize:"inherit"}),warning:l.jsx(I8e,{fontSize:"inherit"}),error:l.jsx(N8e,{fontSize:"inherit"}),info:l.jsx(j8e,{fontSize:"inherit"})},xt=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiAlert"}),{action:i,children:r,className:o,closeText:s="Close",color:c,components:u={},componentsProps:d={},icon:h,iconMapping:m=AL,onClose:g,role:y="alert",severity:v="success",slotProps:S={},slots:w={},variant:_="standard",...T}=a,A={...a,color:c,severity:v,variant:_,colorSeverity:c||v},R=O8e(A),I={slots:{closeButton:u.CloseButton,closeIcon:u.CloseIcon,...w},slotProps:{...d,...S}},[N,P]=qt("root",{ref:n,shouldForwardComponentProp:!0,className:dt(R.root,o),elementType:M8e,externalForwardedProps:{...I,...T},ownerState:A,additionalProps:{role:y,elevation:0}}),[O,D]=qt("icon",{className:R.icon,elementType:P8e,externalForwardedProps:I,ownerState:A}),[H,L]=qt("message",{className:R.message,elementType:L8e,externalForwardedProps:I,ownerState:A}),[$,M]=qt("action",{className:R.action,elementType:z8e,externalForwardedProps:I,ownerState:A}),[z,F]=qt("closeButton",{elementType:lt,externalForwardedProps:I,ownerState:A}),[G,ee]=qt("closeIcon",{elementType:D8e,externalForwardedProps:I,ownerState:A});return l.jsxs(N,{...P,children:[h!==!1?l.jsx(O,{...D,children:h||m[v]||AL[v]}):null,l.jsx(H,{...L,children:r}),i!=null?l.jsx($,{...M,children:i}):null,i==null&&g?l.jsx($,{...M,children:l.jsx(z,{size:"small","aria-label":s,title:s,color:"inherit",onClick:g,...F,children:l.jsx(G,{fontSize:"small",...ee})})}):null]})});function F8e(t){return Pt("MuiTypography",t)}const RL=Ft("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),B8e={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},H8e=nfe(),$8e=t=>{const{align:e,gutterBottom:n,noWrap:a,paragraph:i,variant:r,classes:o}=t,s={root:["root",r,t.align!=="inherit"&&`align${Ge(e)}`,n&&"gutterBottom",a&&"noWrap",i&&"paragraph"]};return Lt(s,F8e,o)},U8e=qe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Ge(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(kt(({theme:t})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([e,n])=>e!=="inherit"&&n&&typeof n=="object").map(([e,n])=>({props:{variant:e},style:n})),...Object.entries(t.palette).filter(sa()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${Ge(e)}`},style:{color:(t.vars||t).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),kL={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},ie=E.forwardRef(function(e,n){const{color:a,...i}=Bt({props:e,name:"MuiTypography"}),r=!B8e[a],o=H8e({...i,...r&&{color:a}}),{align:s="inherit",className:c,component:u,gutterBottom:d=!1,noWrap:h=!1,paragraph:m=!1,variant:g="body1",variantMapping:y=kL,...v}=o,S={...o,align:s,color:a,className:c,component:u,gutterBottom:d,noWrap:h,paragraph:m,variant:g,variantMapping:y},w=u||(m?"p":y[g]||kL[g])||"span",_=$8e(S);return l.jsx(U8e,{as:w,ref:n,className:dt(_.root,c),...v,ownerState:S,style:{...s!=="inherit"&&{"--Typography-textAlign":s},...v.style}})});function G8e(t){return Pt("MuiAppBar",t)}Ft("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const q8e=t=>{const{color:e,position:n,classes:a}=t,i={root:["root",`color${Ge(e)}`,`position${Ge(n)}`]};return Lt(i,G8e,a)},IL=(t,e)=>t?`${t?.replace(")","")}, ${e})`:e,W8e=qe(Gt,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Ge(n.position)}`],e[`color${Ge(n.color)}`]]}})(kt(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(sa(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(t.vars??t).palette[e].main,"--AppBar-color":(t.vars??t).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?IL(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?IL(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),V8e=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiAppBar"}),{className:i,color:r="primary",enableColorOnDark:o=!1,position:s="fixed",...c}=a,u={...a,color:r,position:s,enableColorOnDark:o},d=q8e(u);return l.jsx(W8e,{square:!0,component:"header",ownerState:u,elevation:4,className:dt(d.root,i,s==="fixed"&&"mui-fixed"),ref:n,...c})}),QX=t=>{const e=E.useRef({});return E.useEffect(()=>{e.current=t}),e.current};var ks="top",ac="bottom",ic="right",Is="left",Lj="auto",uS=[ks,ac,ic,Is],ib="start",v2="end",Y8e="clippingParents",ZX="viewport",Fx="popper",K8e="reference",NL=uS.reduce(function(t,e){return t.concat([e+"-"+ib,e+"-"+v2])},[]),JX=[].concat(uS,[Lj]).reduce(function(t,e){return t.concat([e,e+"-"+ib,e+"-"+v2])},[]),X8e="beforeRead",Q8e="read",Z8e="afterRead",J8e="beforeMain",eRe="main",tRe="afterMain",nRe="beforeWrite",aRe="write",iRe="afterWrite",rRe=[X8e,Q8e,Z8e,J8e,eRe,tRe,nRe,aRe,iRe];function ad(t){return t?(t.nodeName||"").toLowerCase():null}function ll(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function dg(t){var e=ll(t).Element;return t instanceof e||t instanceof Element}function tc(t){var e=ll(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function zj(t){if(typeof ShadowRoot>"u")return!1;var e=ll(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function oRe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var a=e.styles[n]||{},i=e.attributes[n]||{},r=e.elements[n];!tc(r)||!ad(r)||(Object.assign(r.style,a),Object.keys(i).forEach(function(o){var s=i[o];s===!1?r.removeAttribute(o):r.setAttribute(o,s===!0?"":s)}))})}function sRe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(a){var i=e.elements[a],r=e.attributes[a]||{},o=Object.keys(e.styles.hasOwnProperty(a)?e.styles[a]:n[a]),s=o.reduce(function(c,u){return c[u]="",c},{});!tc(i)||!ad(i)||(Object.assign(i.style,s),Object.keys(r).forEach(function(c){i.removeAttribute(c)}))})}}const lRe={name:"applyStyles",enabled:!0,phase:"write",fn:oRe,effect:sRe,requires:["computeStyles"]};function Qu(t){return t.split("-")[0]}var eg=Math.max,N4=Math.min,rb=Math.round;function l7(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function eQ(){return!/^((?!chrome|android).)*safari/i.test(l7())}function ob(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var a=t.getBoundingClientRect(),i=1,r=1;e&&tc(t)&&(i=t.offsetWidth>0&&rb(a.width)/t.offsetWidth||1,r=t.offsetHeight>0&&rb(a.height)/t.offsetHeight||1);var o=dg(t)?ll(t):window,s=o.visualViewport,c=!eQ()&&n,u=(a.left+(c&&s?s.offsetLeft:0))/i,d=(a.top+(c&&s?s.offsetTop:0))/r,h=a.width/i,m=a.height/r;return{width:h,height:m,top:d,right:u+h,bottom:d+m,left:u,x:u,y:d}}function Fj(t){var e=ob(t),n=t.offsetWidth,a=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-a)<=1&&(a=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:a}}function tQ(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&zj(n)){var a=e;do{if(a&&t.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function bf(t){return ll(t).getComputedStyle(t)}function cRe(t){return["table","td","th"].indexOf(ad(t))>=0}function vp(t){return((dg(t)?t.ownerDocument:t.document)||window.document).documentElement}function Y_(t){return ad(t)==="html"?t:t.assignedSlot||t.parentNode||(zj(t)?t.host:null)||vp(t)}function jL(t){return!tc(t)||bf(t).position==="fixed"?null:t.offsetParent}function uRe(t){var e=/firefox/i.test(l7()),n=/Trident/i.test(l7());if(n&&tc(t)){var a=bf(t);if(a.position==="fixed")return null}var i=Y_(t);for(zj(i)&&(i=i.host);tc(i)&&["html","body"].indexOf(ad(i))<0;){var r=bf(i);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return i;i=i.parentNode}return null}function dS(t){for(var e=ll(t),n=jL(t);n&&cRe(n)&&bf(n).position==="static";)n=jL(n);return n&&(ad(n)==="html"||ad(n)==="body"&&bf(n).position==="static")?e:n||uRe(t)||e}function Bj(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function zv(t,e,n){return eg(t,N4(e,n))}function dRe(t,e,n){var a=zv(t,e,n);return a>n?n:a}function nQ(){return{top:0,right:0,bottom:0,left:0}}function aQ(t){return Object.assign({},nQ(),t)}function iQ(t,e){return e.reduce(function(n,a){return n[a]=t,n},{})}var fRe=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,aQ(typeof e!="number"?e:iQ(e,uS))};function hRe(t){var e,n=t.state,a=t.name,i=t.options,r=n.elements.arrow,o=n.modifiersData.popperOffsets,s=Qu(n.placement),c=Bj(s),u=[Is,ic].indexOf(s)>=0,d=u?"height":"width";if(!(!r||!o)){var h=fRe(i.padding,n),m=Fj(r),g=c==="y"?ks:Is,y=c==="y"?ac:ic,v=n.rects.reference[d]+n.rects.reference[c]-o[c]-n.rects.popper[d],S=o[c]-n.rects.reference[c],w=dS(r),_=w?c==="y"?w.clientHeight||0:w.clientWidth||0:0,T=v/2-S/2,A=h[g],R=_-m[d]-h[y],I=_/2-m[d]/2+T,N=zv(A,I,R),P=c;n.modifiersData[a]=(e={},e[P]=N,e.centerOffset=N-I,e)}}function pRe(t){var e=t.state,n=t.options,a=n.element,i=a===void 0?"[data-popper-arrow]":a;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||tQ(e.elements.popper,i)&&(e.elements.arrow=i))}const mRe={name:"arrow",enabled:!0,phase:"main",fn:hRe,effect:pRe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function sb(t){return t.split("-")[1]}var gRe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bRe(t,e){var n=t.x,a=t.y,i=e.devicePixelRatio||1;return{x:rb(n*i)/i||0,y:rb(a*i)/i||0}}function DL(t){var e,n=t.popper,a=t.popperRect,i=t.placement,r=t.variation,o=t.offsets,s=t.position,c=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,h=t.isFixed,m=o.x,g=m===void 0?0:m,y=o.y,v=y===void 0?0:y,S=typeof d=="function"?d({x:g,y:v}):{x:g,y:v};g=S.x,v=S.y;var w=o.hasOwnProperty("x"),_=o.hasOwnProperty("y"),T=Is,A=ks,R=window;if(u){var I=dS(n),N="clientHeight",P="clientWidth";if(I===ll(n)&&(I=vp(n),bf(I).position!=="static"&&s==="absolute"&&(N="scrollHeight",P="scrollWidth")),I=I,i===ks||(i===Is||i===ic)&&r===v2){A=ac;var O=h&&I===R&&R.visualViewport?R.visualViewport.height:I[N];v-=O-a.height,v*=c?1:-1}if(i===Is||(i===ks||i===ac)&&r===v2){T=ic;var D=h&&I===R&&R.visualViewport?R.visualViewport.width:I[P];g-=D-a.width,g*=c?1:-1}}var H=Object.assign({position:s},u&&gRe),L=d===!0?bRe({x:g,y:v},ll(n)):{x:g,y:v};if(g=L.x,v=L.y,c){var $;return Object.assign({},H,($={},$[A]=_?"0":"",$[T]=w?"0":"",$.transform=(R.devicePixelRatio||1)<=1?"translate("+g+"px, "+v+"px)":"translate3d("+g+"px, "+v+"px, 0)",$))}return Object.assign({},H,(e={},e[A]=_?v+"px":"",e[T]=w?g+"px":"",e.transform="",e))}function yRe(t){var e=t.state,n=t.options,a=n.gpuAcceleration,i=a===void 0?!0:a,r=n.adaptive,o=r===void 0?!0:r,s=n.roundOffsets,c=s===void 0?!0:s,u={placement:Qu(e.placement),variation:sb(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,DL(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,DL(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const xRe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:yRe,data:{}};var GC={passive:!0};function vRe(t){var e=t.state,n=t.instance,a=t.options,i=a.scroll,r=i===void 0?!0:i,o=a.resize,s=o===void 0?!0:o,c=ll(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&u.forEach(function(d){d.addEventListener("scroll",n.update,GC)}),s&&c.addEventListener("resize",n.update,GC),function(){r&&u.forEach(function(d){d.removeEventListener("scroll",n.update,GC)}),s&&c.removeEventListener("resize",n.update,GC)}}const SRe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:vRe,data:{}};var CRe={left:"right",right:"left",bottom:"top",top:"bottom"};function Qw(t){return t.replace(/left|right|bottom|top/g,function(e){return CRe[e]})}var wRe={start:"end",end:"start"};function OL(t){return t.replace(/start|end/g,function(e){return wRe[e]})}function Hj(t){var e=ll(t),n=e.pageXOffset,a=e.pageYOffset;return{scrollLeft:n,scrollTop:a}}function $j(t){return ob(vp(t)).left+Hj(t).scrollLeft}function _Re(t,e){var n=ll(t),a=vp(t),i=n.visualViewport,r=a.clientWidth,o=a.clientHeight,s=0,c=0;if(i){r=i.width,o=i.height;var u=eQ();(u||!u&&e==="fixed")&&(s=i.offsetLeft,c=i.offsetTop)}return{width:r,height:o,x:s+$j(t),y:c}}function TRe(t){var e,n=vp(t),a=Hj(t),i=(e=t.ownerDocument)==null?void 0:e.body,r=eg(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=eg(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-a.scrollLeft+$j(t),c=-a.scrollTop;return bf(i||n).direction==="rtl"&&(s+=eg(n.clientWidth,i?i.clientWidth:0)-r),{width:r,height:o,x:s,y:c}}function Uj(t){var e=bf(t),n=e.overflow,a=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+a)}function rQ(t){return["html","body","#document"].indexOf(ad(t))>=0?t.ownerDocument.body:tc(t)&&Uj(t)?t:rQ(Y_(t))}function Fv(t,e){var n;e===void 0&&(e=[]);var a=rQ(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),r=ll(a),o=i?[r].concat(r.visualViewport||[],Uj(a)?a:[]):a,s=e.concat(o);return i?s:s.concat(Fv(Y_(o)))}function c7(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ERe(t,e){var n=ob(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function ML(t,e,n){return e===ZX?c7(_Re(t,n)):dg(e)?ERe(e,n):c7(TRe(vp(t)))}function ARe(t){var e=Fv(Y_(t)),n=["absolute","fixed"].indexOf(bf(t).position)>=0,a=n&&tc(t)?dS(t):t;return dg(a)?e.filter(function(i){return dg(i)&&tQ(i,a)&&ad(i)!=="body"}):[]}function RRe(t,e,n,a){var i=e==="clippingParents"?ARe(t):[].concat(e),r=[].concat(i,[n]),o=r[0],s=r.reduce(function(c,u){var d=ML(t,u,a);return c.top=eg(d.top,c.top),c.right=N4(d.right,c.right),c.bottom=N4(d.bottom,c.bottom),c.left=eg(d.left,c.left),c},ML(t,o,a));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function oQ(t){var e=t.reference,n=t.element,a=t.placement,i=a?Qu(a):null,r=a?sb(a):null,o=e.x+e.width/2-n.width/2,s=e.y+e.height/2-n.height/2,c;switch(i){case ks:c={x:o,y:e.y-n.height};break;case ac:c={x:o,y:e.y+e.height};break;case ic:c={x:e.x+e.width,y:s};break;case Is:c={x:e.x-n.width,y:s};break;default:c={x:e.x,y:e.y}}var u=i?Bj(i):null;if(u!=null){var d=u==="y"?"height":"width";switch(r){case ib:c[u]=c[u]-(e[d]/2-n[d]/2);break;case v2:c[u]=c[u]+(e[d]/2-n[d]/2);break}}return c}function S2(t,e){e===void 0&&(e={});var n=e,a=n.placement,i=a===void 0?t.placement:a,r=n.strategy,o=r===void 0?t.strategy:r,s=n.boundary,c=s===void 0?Y8e:s,u=n.rootBoundary,d=u===void 0?ZX:u,h=n.elementContext,m=h===void 0?Fx:h,g=n.altBoundary,y=g===void 0?!1:g,v=n.padding,S=v===void 0?0:v,w=aQ(typeof S!="number"?S:iQ(S,uS)),_=m===Fx?K8e:Fx,T=t.rects.popper,A=t.elements[y?_:m],R=RRe(dg(A)?A:A.contextElement||vp(t.elements.popper),c,d,o),I=ob(t.elements.reference),N=oQ({reference:I,element:T,placement:i}),P=c7(Object.assign({},T,N)),O=m===Fx?P:I,D={top:R.top-O.top+w.top,bottom:O.bottom-R.bottom+w.bottom,left:R.left-O.left+w.left,right:O.right-R.right+w.right},H=t.modifiersData.offset;if(m===Fx&&H){var L=H[i];Object.keys(D).forEach(function($){var M=[ic,ac].indexOf($)>=0?1:-1,z=[ks,ac].indexOf($)>=0?"y":"x";D[$]+=L[z]*M})}return D}function kRe(t,e){e===void 0&&(e={});var n=e,a=n.placement,i=n.boundary,r=n.rootBoundary,o=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?JX:c,d=sb(a),h=d?s?NL:NL.filter(function(y){return sb(y)===d}):uS,m=h.filter(function(y){return u.indexOf(y)>=0});m.length===0&&(m=h);var g=m.reduce(function(y,v){return y[v]=S2(t,{placement:v,boundary:i,rootBoundary:r,padding:o})[Qu(v)],y},{});return Object.keys(g).sort(function(y,v){return g[y]-g[v]})}function IRe(t){if(Qu(t)===Lj)return[];var e=Qw(t);return[OL(t),e,OL(e)]}function NRe(t){var e=t.state,n=t.options,a=t.name;if(!e.modifiersData[a]._skip){for(var i=n.mainAxis,r=i===void 0?!0:i,o=n.altAxis,s=o===void 0?!0:o,c=n.fallbackPlacements,u=n.padding,d=n.boundary,h=n.rootBoundary,m=n.altBoundary,g=n.flipVariations,y=g===void 0?!0:g,v=n.allowedAutoPlacements,S=e.options.placement,w=Qu(S),_=w===S,T=c||(_||!y?[Qw(S)]:IRe(S)),A=[S].concat(T).reduce(function(te,re){return te.concat(Qu(re)===Lj?kRe(e,{placement:re,boundary:d,rootBoundary:h,padding:u,flipVariations:y,allowedAutoPlacements:v}):re)},[]),R=e.rects.reference,I=e.rects.popper,N=new Map,P=!0,O=A[0],D=0;D<A.length;D++){var H=A[D],L=Qu(H),$=sb(H)===ib,M=[ks,ac].indexOf(L)>=0,z=M?"width":"height",F=S2(e,{placement:H,boundary:d,rootBoundary:h,altBoundary:m,padding:u}),G=M?$?ic:Is:$?ac:ks;R[z]>I[z]&&(G=Qw(G));var ee=Qw(G),V=[];if(r&&V.push(F[L]<=0),s&&V.push(F[G]<=0,F[ee]<=0),V.every(function(te){return te})){O=H,P=!1;break}N.set(H,V)}if(P)for(var Y=y?3:1,K=function(re){var ne=A.find(function(ce){var pe=N.get(ce);if(pe)return pe.slice(0,re).every(function(me){return me})});if(ne)return O=ne,"break"},J=Y;J>0;J--){var W=K(J);if(W==="break")break}e.placement!==O&&(e.modifiersData[a]._skip=!0,e.placement=O,e.reset=!0)}}const jRe={name:"flip",enabled:!0,phase:"main",fn:NRe,requiresIfExists:["offset"],data:{_skip:!1}};function PL(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function LL(t){return[ks,ic,ac,Is].some(function(e){return t[e]>=0})}function DRe(t){var e=t.state,n=t.name,a=e.rects.reference,i=e.rects.popper,r=e.modifiersData.preventOverflow,o=S2(e,{elementContext:"reference"}),s=S2(e,{altBoundary:!0}),c=PL(o,a),u=PL(s,i,r),d=LL(c),h=LL(u);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const ORe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:DRe};function MRe(t,e,n){var a=Qu(t),i=[Is,ks].indexOf(a)>=0?-1:1,r=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=r[0],s=r[1];return o=o||0,s=(s||0)*i,[Is,ic].indexOf(a)>=0?{x:s,y:o}:{x:o,y:s}}function PRe(t){var e=t.state,n=t.options,a=t.name,i=n.offset,r=i===void 0?[0,0]:i,o=JX.reduce(function(d,h){return d[h]=MRe(h,e.rects,r),d},{}),s=o[e.placement],c=s.x,u=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[a]=o}const LRe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:PRe};function zRe(t){var e=t.state,n=t.name;e.modifiersData[n]=oQ({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const FRe={name:"popperOffsets",enabled:!0,phase:"read",fn:zRe,data:{}};function BRe(t){return t==="x"?"y":"x"}function HRe(t){var e=t.state,n=t.options,a=t.name,i=n.mainAxis,r=i===void 0?!0:i,o=n.altAxis,s=o===void 0?!1:o,c=n.boundary,u=n.rootBoundary,d=n.altBoundary,h=n.padding,m=n.tether,g=m===void 0?!0:m,y=n.tetherOffset,v=y===void 0?0:y,S=S2(e,{boundary:c,rootBoundary:u,padding:h,altBoundary:d}),w=Qu(e.placement),_=sb(e.placement),T=!_,A=Bj(w),R=BRe(A),I=e.modifiersData.popperOffsets,N=e.rects.reference,P=e.rects.popper,O=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,D=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),H=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(I){if(r){var $,M=A==="y"?ks:Is,z=A==="y"?ac:ic,F=A==="y"?"height":"width",G=I[A],ee=G+S[M],V=G-S[z],Y=g?-P[F]/2:0,K=_===ib?N[F]:P[F],J=_===ib?-P[F]:-N[F],W=e.elements.arrow,te=g&&W?Fj(W):{width:0,height:0},re=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:nQ(),ne=re[M],ce=re[z],pe=zv(0,N[F],te[F]),me=T?N[F]/2-Y-pe-ne-D.mainAxis:K-pe-ne-D.mainAxis,ge=T?-N[F]/2+Y+pe+ce+D.mainAxis:J+pe+ce+D.mainAxis,ye=e.elements.arrow&&dS(e.elements.arrow),he=ye?A==="y"?ye.clientTop||0:ye.clientLeft||0:0,de=($=H?.[A])!=null?$:0,fe=G+me-de-he,oe=G+ge-de,ue=zv(g?N4(ee,fe):ee,G,g?eg(V,oe):V);I[A]=ue,L[A]=ue-G}if(s){var le,Se=A==="x"?ks:Is,_e=A==="x"?ac:ic,Ie=I[R],ze=R==="y"?"height":"width",Me=Ie+S[Se],Ze=Ie-S[_e],Ee=[ks,Is].indexOf(w)!==-1,Ne=(le=H?.[R])!=null?le:0,ve=Ee?Me:Ie-N[ze]-P[ze]-Ne+D.altAxis,we=Ee?Ie+N[ze]+P[ze]-Ne-D.altAxis:Ze,Oe=g&&Ee?dRe(ve,Ie,we):zv(g?ve:Me,Ie,g?we:Ze);I[R]=Oe,L[R]=Oe-Ie}e.modifiersData[a]=L}}const $Re={name:"preventOverflow",enabled:!0,phase:"main",fn:HRe,requiresIfExists:["offset"]};function URe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function GRe(t){return t===ll(t)||!tc(t)?Hj(t):URe(t)}function qRe(t){var e=t.getBoundingClientRect(),n=rb(e.width)/t.offsetWidth||1,a=rb(e.height)/t.offsetHeight||1;return n!==1||a!==1}function WRe(t,e,n){n===void 0&&(n=!1);var a=tc(e),i=tc(e)&&qRe(e),r=vp(e),o=ob(t,i,n),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(a||!a&&!n)&&((ad(e)!=="body"||Uj(r))&&(s=GRe(e)),tc(e)?(c=ob(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):r&&(c.x=$j(r))),{x:o.left+s.scrollLeft-c.x,y:o.top+s.scrollTop-c.y,width:o.width,height:o.height}}function VRe(t){var e=new Map,n=new Set,a=[];t.forEach(function(r){e.set(r.name,r)});function i(r){n.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(s){if(!n.has(s)){var c=e.get(s);c&&i(c)}}),a.push(r)}return t.forEach(function(r){n.has(r.name)||i(r)}),a}function YRe(t){var e=VRe(t);return rRe.reduce(function(n,a){return n.concat(e.filter(function(i){return i.phase===a}))},[])}function KRe(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function XRe(t){var e=t.reduce(function(n,a){var i=n[a.name];return n[a.name]=i?Object.assign({},i,a,{options:Object.assign({},i.options,a.options),data:Object.assign({},i.data,a.data)}):a,n},{});return Object.keys(e).map(function(n){return e[n]})}var zL={placement:"bottom",modifiers:[],strategy:"absolute"};function FL(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function QRe(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,a=n===void 0?[]:n,i=e.defaultOptions,r=i===void 0?zL:i;return function(s,c,u){u===void 0&&(u=r);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},zL,r),modifiersData:{},elements:{reference:s,popper:c},attributes:{},styles:{}},h=[],m=!1,g={state:d,setOptions:function(w){var _=typeof w=="function"?w(d.options):w;v(),d.options=Object.assign({},r,d.options,_),d.scrollParents={reference:dg(s)?Fv(s):s.contextElement?Fv(s.contextElement):[],popper:Fv(c)};var T=YRe(XRe([].concat(a,d.options.modifiers)));return d.orderedModifiers=T.filter(function(A){return A.enabled}),y(),g.update()},forceUpdate:function(){if(!m){var w=d.elements,_=w.reference,T=w.popper;if(FL(_,T)){d.rects={reference:WRe(_,dS(T),d.options.strategy==="fixed"),popper:Fj(T)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(D){return d.modifiersData[D.name]=Object.assign({},D.data)});for(var A=0;A<d.orderedModifiers.length;A++){if(d.reset===!0){d.reset=!1,A=-1;continue}var R=d.orderedModifiers[A],I=R.fn,N=R.options,P=N===void 0?{}:N,O=R.name;typeof I=="function"&&(d=I({state:d,options:P,name:O,instance:g})||d)}}}},update:KRe(function(){return new Promise(function(S){g.forceUpdate(),S(d)})}),destroy:function(){v(),m=!0}};if(!FL(s,c))return g;g.setOptions(u).then(function(S){!m&&u.onFirstUpdate&&u.onFirstUpdate(S)});function y(){d.orderedModifiers.forEach(function(S){var w=S.name,_=S.options,T=_===void 0?{}:_,A=S.effect;if(typeof A=="function"){var R=A({state:d,name:w,instance:g,options:T}),I=function(){};h.push(R||I)}})}function v(){h.forEach(function(S){return S()}),h=[]}return g}}var ZRe=[SRe,FRe,xRe,lRe,LRe,jRe,$Re,mRe,ORe],JRe=QRe({defaultModifiers:ZRe});function Zo(t){const{elementType:e,externalSlotProps:n,ownerState:a,skipResolvingSlotProps:i=!1,...r}=t,o=i?{}:KX(n,a),{props:s,internalRef:c}=XX({...r,externalSlotProps:o}),u=oi(c,o?.ref,t.additionalProps?.ref);return YX(e,{...s,ref:u},a)}function Sp(t){return parseInt(E.version,10)>=19?t?.props?.ref||null:t?.ref||null}function eke(t){return typeof t=="function"?t():t}const sQ=E.forwardRef(function(e,n){const{children:a,container:i,disablePortal:r=!1}=e,[o,s]=E.useState(null),c=oi(E.isValidElement(a)?Sp(a):null,n);if(Io(()=>{r||s(eke(i)||document.body)},[i,r]),Io(()=>{if(o&&!r)return SL(n,o),()=>{SL(n,null)}},[n,o,r]),r){if(E.isValidElement(a)){const u={ref:c};return E.cloneElement(a,u)}return a}return o&&qh.createPortal(a,o)});function tke(t){return Pt("MuiPopper",t)}Ft("MuiPopper",["root"]);function nke(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function u7(t){return typeof t=="function"?t():t}function ake(t){return t.nodeType!==void 0}const ike=t=>{const{classes:e}=t;return Lt({root:["root"]},tke,e)},rke={},oke=E.forwardRef(function(e,n){const{anchorEl:a,children:i,direction:r,disablePortal:o,modifiers:s,open:c,placement:u,popperOptions:d,popperRef:h,slotProps:m={},slots:g={},TransitionProps:y,ownerState:v,...S}=e,w=E.useRef(null),_=oi(w,n),T=E.useRef(null),A=oi(T,h),R=E.useRef(A);Io(()=>{R.current=A},[A]),E.useImperativeHandle(h,()=>T.current,[]);const I=nke(u,r),[N,P]=E.useState(I),[O,D]=E.useState(u7(a));E.useEffect(()=>{T.current&&T.current.forceUpdate()}),E.useEffect(()=>{a&&D(u7(a))},[a]),Io(()=>{if(!O||!c)return;const z=ee=>{P(ee.placement)};let F=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:ee})=>{z(ee)}}];s!=null&&(F=F.concat(s)),d&&d.modifiers!=null&&(F=F.concat(d.modifiers));const G=JRe(O,w.current,{placement:I,...d,modifiers:F});return R.current(G),()=>{G.destroy(),R.current(null)}},[O,o,s,c,d,I]);const H={placement:N};y!==null&&(H.TransitionProps=y);const L=ike(e),$=g.root??"div",M=Zo({elementType:$,externalSlotProps:m.root,externalForwardedProps:S,additionalProps:{role:"tooltip",ref:_},ownerState:e,className:L.root});return l.jsx($,{...M,children:typeof i=="function"?i(H):i})}),ske=E.forwardRef(function(e,n){const{anchorEl:a,children:i,container:r,direction:o="ltr",disablePortal:s=!1,keepMounted:c=!1,modifiers:u,open:d,placement:h="bottom",popperOptions:m=rke,popperRef:g,style:y,transition:v=!1,slotProps:S={},slots:w={},..._}=e,[T,A]=E.useState(!0),R=()=>{A(!1)},I=()=>{A(!0)};if(!c&&!d&&(!v||T))return null;let N;if(r)N=r;else if(a){const D=u7(a);N=D&&ake(D)?sr(D).body:sr(null).body}const P=!d&&c&&(!v||T)?"none":void 0,O=v?{in:d,onEnter:R,onExited:I}:void 0;return l.jsx(sQ,{disablePortal:s,container:N,children:l.jsx(oke,{anchorEl:a,direction:o,disablePortal:s,modifiers:u,ref:n,open:v?!T:d,placement:h,popperOptions:m,popperRef:g,slotProps:S,slots:w,..._,style:{position:"fixed",top:0,left:0,display:P,...y},TransitionProps:O,children:i})})}),lke=qe(ske,{name:"MuiPopper",slot:"Root"})({}),Gj=E.forwardRef(function(e,n){const a=cd(),i=Bt({props:e,name:"MuiPopper"}),{anchorEl:r,component:o,components:s,componentsProps:c,container:u,disablePortal:d,keepMounted:h,modifiers:m,open:g,placement:y,popperOptions:v,popperRef:S,transition:w,slots:_,slotProps:T,...A}=i,R=_?.root??s?.Root,I={anchorEl:r,container:u,disablePortal:d,keepMounted:h,modifiers:m,open:g,placement:y,popperOptions:v,popperRef:S,transition:w,...A};return l.jsx(lke,{as:o,direction:a?"rtl":"ltr",slots:{root:R},slotProps:T??c,...I,ref:n})}),cke=ft(l.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function uke(t){return Pt("MuiChip",t)}const aa=Ft("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),dke=t=>{const{classes:e,disabled:n,size:a,color:i,iconColor:r,onDelete:o,clickable:s,variant:c}=t,u={root:["root",c,n&&"disabled",`size${Ge(a)}`,`color${Ge(i)}`,s&&"clickable",s&&`clickableColor${Ge(i)}`,o&&"deletable",o&&`deletableColor${Ge(i)}`,`${c}${Ge(i)}`],label:["label",`label${Ge(a)}`],avatar:["avatar",`avatar${Ge(a)}`,`avatarColor${Ge(i)}`],icon:["icon",`icon${Ge(a)}`,`iconColor${Ge(r)}`],deleteIcon:["deleteIcon",`deleteIcon${Ge(a)}`,`deleteIconColor${Ge(i)}`,`deleteIcon${Ge(c)}Color${Ge(i)}`]};return Lt(u,uke,e)},fke=qe("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:a,iconColor:i,clickable:r,onDelete:o,size:s,variant:c}=n;return[{[`& .${aa.avatar}`]:e.avatar},{[`& .${aa.avatar}`]:e[`avatar${Ge(s)}`]},{[`& .${aa.avatar}`]:e[`avatarColor${Ge(a)}`]},{[`& .${aa.icon}`]:e.icon},{[`& .${aa.icon}`]:e[`icon${Ge(s)}`]},{[`& .${aa.icon}`]:e[`iconColor${Ge(i)}`]},{[`& .${aa.deleteIcon}`]:e.deleteIcon},{[`& .${aa.deleteIcon}`]:e[`deleteIcon${Ge(s)}`]},{[`& .${aa.deleteIcon}`]:e[`deleteIconColor${Ge(a)}`]},{[`& .${aa.deleteIcon}`]:e[`deleteIcon${Ge(c)}Color${Ge(a)}`]},e.root,e[`size${Ge(s)}`],e[`color${Ge(a)}`],r&&e.clickable,r&&a!=="default"&&e[`clickableColor${Ge(a)})`],o&&e.deletable,o&&a!=="default"&&e[`deletableColor${Ge(a)}`],e[c],e[`${c}${Ge(a)}`]]}})(kt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${aa.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${aa.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${aa.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${aa.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${aa.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${aa.icon}`]:{marginLeft:5,marginRight:-6},[`& .${aa.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.alpha((t.vars||t).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.alpha((t.vars||t).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${aa.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${aa.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(sa(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${aa.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${aa.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${aa.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${aa.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}},...Object.entries(t.palette).filter(sa(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${aa.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)},[`&.${aa.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(sa(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${aa.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${aa.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${aa.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${aa.avatar}`]:{marginLeft:4},[`& .${aa.avatarSmall}`]:{marginLeft:2},[`& .${aa.icon}`]:{marginLeft:4},[`& .${aa.iconSmall}`]:{marginLeft:2},[`& .${aa.deleteIcon}`]:{marginRight:5},[`& .${aa.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(sa()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.alpha((t.vars||t).palette[n].main,.7)}`,[`&.${aa.clickable}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)},[`&.${aa.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.focusOpacity)},[`& .${aa.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}))]}})),hke=qe("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:a}=n;return[e.label,e[`label${Ge(a)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function BL(t){return t.key==="Backspace"||t.key==="Delete"}const mt=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiChip"}),{avatar:i,className:r,clickable:o,color:s="default",component:c,deleteIcon:u,disabled:d=!1,icon:h,label:m,onClick:g,onDelete:y,onKeyDown:v,onKeyUp:S,size:w="medium",variant:_="filled",tabIndex:T,skipFocusWhenDisabled:A=!1,slots:R={},slotProps:I={},...N}=a,P=E.useRef(null),O=oi(P,n),D=ne=>{ne.stopPropagation(),y&&y(ne)},H=ne=>{ne.currentTarget===ne.target&&BL(ne)&&ne.preventDefault(),v&&v(ne)},L=ne=>{ne.currentTarget===ne.target&&y&&BL(ne)&&y(ne),S&&S(ne)},$=o!==!1&&g?!0:o,M=$||y?ts:c||"div",z={...a,component:M,disabled:d,size:w,color:s,iconColor:E.isValidElement(h)&&h.props.color||s,onDelete:!!y,clickable:$,variant:_},F=dke(z),G=M===ts?{component:c||"div",focusVisibleClassName:F.focusVisible,...y&&{disableRipple:!0}}:{};let ee=null;y&&(ee=u&&E.isValidElement(u)?E.cloneElement(u,{className:dt(u.props.className,F.deleteIcon),onClick:D}):l.jsx(cke,{className:F.deleteIcon,onClick:D}));let V=null;i&&E.isValidElement(i)&&(V=E.cloneElement(i,{className:dt(F.avatar,i.props.className)}));let Y=null;h&&E.isValidElement(h)&&(Y=E.cloneElement(h,{className:dt(F.icon,h.props.className)}));const K={slots:R,slotProps:I},[J,W]=qt("root",{elementType:fke,externalForwardedProps:{...K,...N},ownerState:z,shouldForwardComponentProp:!0,ref:O,className:dt(F.root,r),additionalProps:{disabled:$&&d?!0:void 0,tabIndex:A&&d?-1:T,...G},getSlotProps:ne=>({...ne,onClick:ce=>{ne.onClick?.(ce),g?.(ce)},onKeyDown:ce=>{ne.onKeyDown?.(ce),H(ce)},onKeyUp:ce=>{ne.onKeyUp?.(ce),L(ce)}})}),[te,re]=qt("label",{elementType:hke,externalForwardedProps:K,ownerState:z,className:F.label});return l.jsxs(J,{as:M,...W,children:[V||Y,l.jsx(te,{...re,children:m}),ee]})});function qC(t){return parseInt(t,10)||0}const pke={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function mke(t){for(const e in t)return!1;return!0}function HL(t){return mke(t)||t.outerHeightStyle===0&&!t.overflowing}const gke=E.forwardRef(function(e,n){const{onChange:a,maxRows:i,minRows:r=1,style:o,value:s,...c}=e,{current:u}=E.useRef(s!=null),d=E.useRef(null),h=oi(n,d),m=E.useRef(null),g=E.useRef(null),y=E.useCallback(()=>{const T=d.current,A=g.current;if(!T||!A)return;const I=il(T).getComputedStyle(T);if(I.width==="0px")return{outerHeightStyle:0,overflowing:!1};A.style.width=I.width,A.value=T.value||e.placeholder||"x",A.value.slice(-1)===`
`&&(A.value+=" ");const N=I.boxSizing,P=qC(I.paddingBottom)+qC(I.paddingTop),O=qC(I.borderBottomWidth)+qC(I.borderTopWidth),D=A.scrollHeight;A.value="x";const H=A.scrollHeight;let L=D;r&&(L=Math.max(Number(r)*H,L)),i&&(L=Math.min(Number(i)*H,L)),L=Math.max(L,H);const $=L+(N==="border-box"?P+O:0),M=Math.abs(L-D)<=1;return{outerHeightStyle:$,overflowing:M}},[i,r,e.placeholder]),v=Wr(()=>{const T=d.current,A=y();if(!T||!A||HL(A))return!1;const R=A.outerHeightStyle;return m.current!=null&&m.current!==R}),S=E.useCallback(()=>{const T=d.current,A=y();if(!T||!A||HL(A))return;const R=A.outerHeightStyle;m.current!==R&&(m.current=R,T.style.height=`${R}px`),T.style.overflow=A.overflowing?"hidden":""},[y]),w=E.useRef(-1);Io(()=>{const T=cS(S),A=d?.current;if(!A)return;const R=il(A);R.addEventListener("resize",T);let I;return typeof ResizeObserver<"u"&&(I=new ResizeObserver(()=>{v()&&(I.unobserve(A),cancelAnimationFrame(w.current),S(),w.current=requestAnimationFrame(()=>{I.observe(A)}))}),I.observe(A)),()=>{T.clear(),cancelAnimationFrame(w.current),R.removeEventListener("resize",T),I&&I.disconnect()}},[y,S,v]),Io(()=>{S()});const _=T=>{u||S();const A=T.target,R=A.value.length,I=A.value.endsWith(`
`),N=A.selectionStart===R;I&&N&&A.setSelectionRange(R,R),a&&a(T)};return l.jsxs(E.Fragment,{children:[l.jsx("textarea",{value:s,onChange:_,ref:h,rows:r,style:o,...c}),l.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:g,tabIndex:-1,style:{...pke.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function Cp({props:t,states:e,muiFormControl:n}){return e.reduce((a,i)=>(a[i]=t[i],n&&typeof t[i]>"u"&&(a[i]=n[i]),a),{})}const K_=E.createContext(void 0);function Qc(){return E.useContext(K_)}function $L(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function j4(t,e=!1){return t&&($L(t.value)&&t.value!==""||e&&$L(t.defaultValue)&&t.defaultValue!=="")}function bke(t){return t.startAdornment}function yke(t){return Pt("MuiInputBase",t)}const lb=Ft("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var UL;const X_=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Ge(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Q_=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},xke=t=>{const{classes:e,color:n,disabled:a,error:i,endAdornment:r,focused:o,formControl:s,fullWidth:c,hiddenLabel:u,multiline:d,readOnly:h,size:m,startAdornment:g,type:y}=t,v={root:["root",`color${Ge(n)}`,a&&"disabled",i&&"error",c&&"fullWidth",o&&"focused",s&&"formControl",m&&m!=="medium"&&`size${Ge(m)}`,d&&"multiline",g&&"adornedStart",r&&"adornedEnd",u&&"hiddenLabel",h&&"readOnly"],input:["input",a&&"disabled",y==="search"&&"inputTypeSearch",d&&"inputMultiline",m==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",g&&"inputAdornedStart",r&&"inputAdornedEnd",h&&"readOnly"]};return Lt(v,yke,e)},Z_=qe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:X_})(kt(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${lb.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),J_=qe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Q_})(kt(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},a={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${lb.formControl} &`]:{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${lb.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:r})=>!r.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:r})=>r.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),GL=_j({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),e5=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:r,autoFocus:o,className:s,color:c,components:u={},componentsProps:d={},defaultValue:h,disabled:m,disableInjectingGlobalStyles:g,endAdornment:y,error:v,fullWidth:S=!1,id:w,inputComponent:_="input",inputProps:T={},inputRef:A,margin:R,maxRows:I,minRows:N,multiline:P=!1,name:O,onBlur:D,onChange:H,onClick:L,onFocus:$,onKeyDown:M,onKeyUp:z,placeholder:F,readOnly:G,renderSuffix:ee,rows:V,size:Y,slotProps:K={},slots:J={},startAdornment:W,type:te="text",value:re,...ne}=a,ce=T.value!=null?T.value:re,{current:pe}=E.useRef(ce!=null),me=E.useRef(),ge=E.useCallback(Fe=>{},[]),ye=oi(me,A,T.ref,ge),[he,de]=E.useState(!1),fe=Qc(),oe=Cp({props:a,muiFormControl:fe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});oe.focused=fe?fe.focused:he,E.useEffect(()=>{!fe&&m&&he&&(de(!1),D&&D())},[fe,m,he,D]);const ue=fe&&fe.onFilled,le=fe&&fe.onEmpty,Se=E.useCallback(Fe=>{j4(Fe)?ue&&ue():le&&le()},[ue,le]);Io(()=>{pe&&Se({value:ce})},[ce,Se,pe]);const _e=Fe=>{$&&$(Fe),T.onFocus&&T.onFocus(Fe),fe&&fe.onFocus?fe.onFocus(Fe):de(!0)},Ie=Fe=>{D&&D(Fe),T.onBlur&&T.onBlur(Fe),fe&&fe.onBlur?fe.onBlur(Fe):de(!1)},ze=(Fe,...Ve)=>{if(!pe){const rt=Fe.target||me.current;if(rt==null)throw new Error(gf(1));Se({value:rt.value})}T.onChange&&T.onChange(Fe,...Ve),H&&H(Fe,...Ve)};E.useEffect(()=>{Se(me.current)},[]);const Me=Fe=>{me.current&&Fe.currentTarget===Fe.target&&me.current.focus(),L&&L(Fe)};let Ze=_,Ee=T;P&&Ze==="input"&&(V?Ee={type:void 0,minRows:V,maxRows:V,...Ee}:Ee={type:void 0,maxRows:I,minRows:N,...Ee},Ze=gke);const Ne=Fe=>{Se(Fe.animationName==="mui-auto-fill-cancel"?me.current:{value:"x"})};E.useEffect(()=>{fe&&fe.setAdornedStart(!!W)},[fe,W]);const ve={...a,color:oe.color||"primary",disabled:oe.disabled,endAdornment:y,error:oe.error,focused:oe.focused,formControl:fe,fullWidth:S,hiddenLabel:oe.hiddenLabel,multiline:P,size:oe.size,startAdornment:W,type:te},we=xke(ve),Oe=J.root||u.Root||Z_,Le=K.root||d.root||{},We=J.input||u.Input||J_;return Ee={...Ee,...K.input??d.input},l.jsxs(E.Fragment,{children:[!g&&typeof GL=="function"&&(UL||(UL=l.jsx(GL,{}))),l.jsxs(Oe,{...Le,ref:n,onClick:Me,...ne,...!Xu(Oe)&&{ownerState:{...ve,...Le.ownerState}},className:dt(we.root,Le.className,s,G&&"MuiInputBase-readOnly"),children:[W,l.jsx(K_.Provider,{value:null,children:l.jsx(We,{"aria-invalid":oe.error,"aria-describedby":i,autoComplete:r,autoFocus:o,defaultValue:h,disabled:oe.disabled,id:w,onAnimationStart:Ne,name:O,placeholder:F,readOnly:G,required:oe.required,rows:V,value:ce,onKeyDown:M,onKeyUp:z,type:te,...Ee,...!Xu(We)&&{as:Ze,ownerState:{...ve,...Ee.ownerState}},ref:ye,className:dt(we.input,Ee.className,G&&"MuiInputBase-readOnly"),onBlur:Ie,onChange:ze,onFocus:_e})}),y,ee?ee({...oe,startAdornment:W}):null]})]})});function vke(t){return Pt("MuiInput",t)}const Bx={...lb,...Ft("MuiInput",["root","underline","input"])};function Ske(t){return Pt("MuiOutlinedInput",t)}const Pu={...lb,...Ft("MuiOutlinedInput",["root","notchedOutline","input"])};function Cke(t){return Pt("MuiFilledInput",t)}const xm={...lb,...Ft("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},wke=ft(l.jsx("path",{d:"M7 10l5 5 5-5z"})),_ke={entering:{opacity:1},entered:{opacity:1}},d7=E.forwardRef(function(e,n){const a=Fi(),i={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{addEndListener:r,appear:o=!0,children:s,easing:c,in:u,onEnter:d,onEntered:h,onEntering:m,onExit:g,onExited:y,onExiting:v,style:S,timeout:w=i,TransitionComponent:_=cc,...T}=e,A=E.useRef(null),R=oi(A,Sp(s),n),I=M=>z=>{if(M){const F=A.current;z===void 0?M(F):M(F,z)}},N=I(m),P=I((M,z)=>{Pj(M);const F=pp({style:S,timeout:w,easing:c},{mode:"enter"});M.style.webkitTransition=a.transitions.create("opacity",F),M.style.transition=a.transitions.create("opacity",F),d&&d(M,z)}),O=I(h),D=I(v),H=I(M=>{const z=pp({style:S,timeout:w,easing:c},{mode:"exit"});M.style.webkitTransition=a.transitions.create("opacity",z),M.style.transition=a.transitions.create("opacity",z),g&&g(M)}),L=I(y),$=M=>{r&&r(A.current,M)};return l.jsx(_,{appear:o,in:u,nodeRef:A,onEnter:P,onEntered:O,onEntering:N,onExit:H,onExited:L,onExiting:D,addEndListener:$,timeout:w,...T,children:(M,{ownerState:z,...F})=>E.cloneElement(s,{style:{opacity:0,visibility:M==="exited"&&!u?"hidden":void 0,..._ke[M],...S,...s.props.style},ref:R,...F})})});function Tke(t){return Pt("MuiBackdrop",t)}Ft("MuiBackdrop",["root","invisible"]);const Eke=t=>{const{classes:e,invisible:n}=t;return Lt({root:["root",n&&"invisible"]},Tke,e)},Ake=qe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),lQ=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiBackdrop"}),{children:i,className:r,component:o="div",invisible:s=!1,open:c,components:u={},componentsProps:d={},slotProps:h={},slots:m={},TransitionComponent:g,transitionDuration:y,...v}=a,S={...a,component:o,invisible:s},w=Eke(S),_={transition:g,root:u.Root,...m},T={...d,...h},A={component:o,slots:_,slotProps:T},[R,I]=qt("root",{elementType:Ake,externalForwardedProps:A,className:dt(w.root,r),ownerState:S}),[N,P]=qt("transition",{elementType:d7,externalForwardedProps:A,ownerState:S});return l.jsx(N,{in:c,timeout:y,...v,...P,children:l.jsx(R,{"aria-hidden":!0,...I,classes:w,ref:n,children:i})})});function Rke(t){const{badgeContent:e,invisible:n=!1,max:a=99,showZero:i=!1}=t,r=QX({badgeContent:e,max:a});let o=n;n===!1&&e===0&&!i&&(o=!0);const{badgeContent:s,max:c=a}=o?r:t,u=s&&Number(s)>c?`${c}+`:s;return{badgeContent:s,invisible:o,max:c,displayValue:u}}function kke(t){return Pt("MuiBadge",t)}const Eh=Ft("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),TE=10,EE=4,Ike=t=>{const{color:e,anchorOrigin:n,invisible:a,overlap:i,variant:r,classes:o={}}=t,s={root:["root"],badge:["badge",r,a&&"invisible",`anchorOrigin${Ge(n.vertical)}${Ge(n.horizontal)}`,`anchorOrigin${Ge(n.vertical)}${Ge(n.horizontal)}${Ge(i)}`,`overlap${Ge(i)}`,e!=="default"&&`color${Ge(e)}`]};return Lt(s,kke,o)},Nke=qe("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),jke=qe("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.badge,e[n.variant],e[`anchorOrigin${Ge(n.anchorOrigin.vertical)}${Ge(n.anchorOrigin.horizontal)}${Ge(n.overlap)}`],n.color!=="default"&&e[`color${Ge(n.color)}`],n.invisible&&e.invisible]}})(kt(({theme:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:TE*2,lineHeight:1,padding:"0 6px",height:TE*2,borderRadius:TE,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(sa(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}})),{props:{variant:"dot"},style:{borderRadius:EE,height:EE*2,minWidth:EE*2,padding:0}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Eh.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Eh.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Eh.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Eh.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Eh.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Eh.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Eh.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Eh.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]})));function qL(t){return{vertical:t?.vertical??"top",horizontal:t?.horizontal??"right"}}const WL=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiBadge"}),{anchorOrigin:i,className:r,classes:o,component:s,components:c={},componentsProps:u={},children:d,overlap:h="rectangular",color:m="default",invisible:g=!1,max:y=99,badgeContent:v,slots:S,slotProps:w,showZero:_=!1,variant:T="standard",...A}=a,{badgeContent:R,invisible:I,max:N,displayValue:P}=Rke({max:y,invisible:g,badgeContent:v,showZero:_}),O=QX({anchorOrigin:qL(i),color:m,overlap:h,variant:T,badgeContent:v}),D=I||R==null&&T!=="dot",{color:H=m,overlap:L=h,anchorOrigin:$,variant:M=T}=D?O:a,z=qL($),F=M!=="dot"?P:void 0,G={...a,badgeContent:R,invisible:D,max:N,displayValue:F,showZero:_,anchorOrigin:z,color:H,overlap:L,variant:M},ee=Ike(G),V={slots:{root:S?.root??c.Root,badge:S?.badge??c.Badge},slotProps:{root:w?.root??u.root,badge:w?.badge??u.badge}},[Y,K]=qt("root",{elementType:Nke,externalForwardedProps:{...V,...A},ownerState:G,className:dt(ee.root,r),ref:n,additionalProps:{as:s}}),[J,W]=qt("badge",{elementType:jke,externalForwardedProps:V,ownerState:G,className:ee.badge});return l.jsxs(Y,{...K,children:[d,l.jsx(J,{...W,children:F})]})}),Dke=Ft("MuiBox",["root"]),Oke=U_(),Z=uue({themeId:Bc,defaultTheme:Oke,defaultClassName:Dke.root,generateClassName:BK.generate}),Mke=ft(l.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),Pke=qe(ts,{name:"MuiBreadcrumbCollapsed"})(kt(({theme:t})=>({display:"flex",marginLeft:`calc(${t.spacing(1)} * 0.5)`,marginRight:`calc(${t.spacing(1)} * 0.5)`,...t.palette.mode==="light"?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},borderRadius:2,"&:hover, &:focus":{...t.palette.mode==="light"?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}},"&:active":{boxShadow:t.shadows[0],...t.palette.mode==="light"?{backgroundColor:p2(t.palette.grey[200],.12)}:{backgroundColor:p2(t.palette.grey[600],.12)}}}))),Lke=qe(Mke)({width:24,height:16});function zke(t){const{slots:e={},slotProps:n={},...a}=t,i=t;return l.jsx("li",{children:l.jsx(Pke,{focusRipple:!0,...a,ownerState:i,children:l.jsx(Lke,{as:e.CollapsedIcon,ownerState:i,...n.collapsedIcon})})})}function Fke(t){return Pt("MuiBreadcrumbs",t)}const Bke=Ft("MuiBreadcrumbs",["root","ol","li","separator"]),Hke=t=>{const{classes:e}=t;return Lt({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},Fke,e)},$ke=qe(ie,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(t,e)=>[{[`& .${Bke.li}`]:e.li},e.root]})({}),Uke=qe("ol",{name:"MuiBreadcrumbs",slot:"Ol"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),Gke=qe("li",{name:"MuiBreadcrumbs",slot:"Separator"})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function qke(t,e,n,a){return t.reduce((i,r,o)=>(o<t.length-1?i=i.concat(r,l.jsx(Gke,{"aria-hidden":!0,className:e,ownerState:a,children:n},`separator-${o}`)):i.push(r),i),[])}const Wke=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiBreadcrumbs"}),{children:i,className:r,component:o="nav",slots:s={},slotProps:c={},expandText:u="Show path",itemsAfterCollapse:d=1,itemsBeforeCollapse:h=1,maxItems:m=8,separator:g="/",...y}=a,[v,S]=E.useState(!1),w={...a,component:o,expanded:v,expandText:u,itemsAfterCollapse:d,itemsBeforeCollapse:h,maxItems:m,separator:g},_=Hke(w),T=Zo({elementType:s.CollapsedIcon,externalSlotProps:c.collapsedIcon,ownerState:w}),A=E.useRef(null),R=N=>{const P=()=>{S(!0);const O=A.current.querySelector("a[href],button,[tabindex]");O&&O.focus()};return h+d>=N.length?N:[...N.slice(0,h),l.jsx(zke,{"aria-label":u,slots:{CollapsedIcon:s.CollapsedIcon},slotProps:{collapsedIcon:T},onClick:P},"ellipsis"),...N.slice(N.length-d,N.length)]},I=E.Children.toArray(i).filter(N=>E.isValidElement(N)).map((N,P)=>l.jsx("li",{className:_.li,children:N},`child-${P}`));return l.jsx($ke,{ref:n,component:o,color:"textSecondary",className:dt(_.root,r),ownerState:w,...y,children:l.jsx(Uke,{className:_.ol,ref:A,ownerState:w,children:qke(v||m&&I.length<=m?I:R(I),_.separator,g,w)})})});function Vke(t){return Pt("MuiButton",t)}const vm=Ft("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),Yke=E.createContext({}),Kke=E.createContext(void 0),Xke=t=>{const{color:e,disableElevation:n,fullWidth:a,size:i,variant:r,loading:o,loadingPosition:s,classes:c}=t,u={root:["root",o&&"loading",r,`${r}${Ge(e)}`,`size${Ge(i)}`,`${r}Size${Ge(i)}`,`color${Ge(e)}`,n&&"disableElevation",a&&"fullWidth",o&&`loadingPosition${Ge(s)}`],startIcon:["icon","startIcon",`iconSize${Ge(i)}`],endIcon:["icon","endIcon",`iconSize${Ge(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},d=Lt(u,Vke,c);return{...c,...d}},cQ=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Qke=qe(ts,{shouldForwardProp:t=>Sr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ge(n.color)}`],e[`size${Ge(n.size)}`],e[`${n.variant}Size${Ge(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(kt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${vm.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${vm.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${vm.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${vm.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(sa()).map(([a])=>({props:{color:a},style:{"--variant-textColor":(t.vars||t).palette[a].main,"--variant-outlinedColor":(t.vars||t).palette[a].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[a].main,.5),"--variant-containedColor":(t.vars||t).palette[a].contrastText,"--variant-containedBg":(t.vars||t).palette[a].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[a].dark,"--variant-textBg":t.alpha((t.vars||t).palette[a].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[a].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[a].main,(t.vars||t).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${vm.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${vm.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${vm.loading}`]:{color:"transparent"}}}]}})),Zke=qe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${Ge(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...cQ]})),Jke=qe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${Ge(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...cQ]})),e9e=qe("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),VL=qe("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Ue=E.forwardRef(function(e,n){const a=E.useContext(Yke),i=E.useContext(Kke),r=nb(a,e),o=Bt({props:r,name:"MuiButton"}),{children:s,color:c="primary",component:u="button",className:d,disabled:h=!1,disableElevation:m=!1,disableFocusRipple:g=!1,endIcon:y,focusVisibleClassName:v,fullWidth:S=!1,id:w,loading:_=null,loadingIndicator:T,loadingPosition:A="center",size:R="medium",startIcon:I,type:N,variant:P="text",...O}=o,D=nd(w),H=T??l.jsx(Yt,{"aria-labelledby":D,color:"inherit",size:16}),L={...o,color:c,component:u,disabled:h,disableElevation:m,disableFocusRipple:g,fullWidth:S,loading:_,loadingIndicator:H,loadingPosition:A,size:R,type:N,variant:P},$=Xke(L),M=(I||_&&A==="start")&&l.jsx(Zke,{className:$.startIcon,ownerState:L,children:I||l.jsx(VL,{className:$.loadingIconPlaceholder,ownerState:L})}),z=(y||_&&A==="end")&&l.jsx(Jke,{className:$.endIcon,ownerState:L,children:y||l.jsx(VL,{className:$.loadingIconPlaceholder,ownerState:L})}),F=i||"",G=typeof _=="boolean"?l.jsx("span",{className:$.loadingWrapper,style:{display:"contents"},children:_&&l.jsx(e9e,{className:$.loadingIndicator,ownerState:L,children:H})}):null;return l.jsxs(Qke,{ownerState:L,className:dt(a.className,$.root,d,F),component:u,disabled:h||_,focusRipple:!g,focusVisibleClassName:dt($.focusVisible,v),ref:n,type:N,id:_?D:w,...O,classes:$,children:[M,A!=="end"&&G,s,A==="end"&&G,z]})});function t9e(t){return E.Children.toArray(t).filter(e=>E.isValidElement(e))}function n9e(t){return Pt("MuiCard",t)}Ft("MuiCard",["root"]);const a9e=t=>{const{classes:e}=t;return Lt({root:["root"]},n9e,e)},i9e=qe(Gt,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),ma=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiCard"}),{className:i,raised:r=!1,...o}=a,s={...a,raised:r},c=a9e(s);return l.jsx(i9e,{className:dt(c.root,i),elevation:r?8:void 0,ref:n,ownerState:s,...o})});function r9e(t){return Pt("MuiCardActionArea",t)}const AE=Ft("MuiCardActionArea",["root","focusVisible","focusHighlight"]),o9e=t=>{const{classes:e}=t;return Lt({root:["root"],focusHighlight:["focusHighlight"]},r9e,e)},s9e=qe(ts,{name:"MuiCardActionArea",slot:"Root"})(kt(({theme:t})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${AE.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${AE.focusVisible} .${AE.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}}))),l9e=qe("span",{name:"MuiCardActionArea",slot:"FocusHighlight"})(kt(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})}))),c9e=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiCardActionArea"}),{children:i,className:r,focusVisibleClassName:o,slots:s={},slotProps:c={},...u}=a,d=a,h=o9e(d),m={slots:s,slotProps:c},[g,y]=qt("root",{elementType:s9e,externalForwardedProps:{...m,...u},shouldForwardComponentProp:!0,ownerState:d,ref:n,className:dt(h.root,r),additionalProps:{focusVisibleClassName:dt(o,h.focusVisible)}}),[v,S]=qt("focusHighlight",{elementType:l9e,externalForwardedProps:m,ownerState:d,ref:n,className:h.focusHighlight});return l.jsxs(g,{...y,children:[i,l.jsx(v,{...S})]})});function u9e(t){return Pt("MuiCardActions",t)}Ft("MuiCardActions",["root","spacing"]);const d9e=t=>{const{classes:e,disableSpacing:n}=t;return Lt({root:["root",!n&&"spacing"]},u9e,e)},f9e=qe("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),f7=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiCardActions"}),{disableSpacing:i=!1,className:r,...o}=a,s={...a,disableSpacing:i},c=d9e(s);return l.jsx(f9e,{className:dt(c.root,r),ownerState:s,ref:n,...o})});function h9e(t){return Pt("MuiCardContent",t)}Ft("MuiCardContent",["root"]);const p9e=t=>{const{classes:e}=t;return Lt({root:["root"]},h9e,e)},m9e=qe("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),Ri=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiCardContent"}),{className:i,component:r="div",...o}=a,s={...a,component:r},c=p9e(s);return l.jsx(m9e,{as:r,className:dt(c.root,i),ownerState:s,ref:n,...o})});function g9e(t){return Pt("MuiCardMedia",t)}Ft("MuiCardMedia",["root","media","img"]);const b9e=t=>{const{classes:e,isMediaComponent:n,isImageComponent:a}=t;return Lt({root:["root",n&&"media",a&&"img"]},g9e,e)},y9e=qe("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:a,isImageComponent:i}=n;return[e.root,a&&e.media,i&&e.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),x9e=["video","audio","picture","iframe","img"],v9e=["picture","img"],ho=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiCardMedia"}),{children:i,className:r,component:o="div",image:s,src:c,style:u,...d}=a,h=x9e.includes(o),m=!h&&s?{backgroundImage:`url("${s}")`,...u}:u,g={...a,component:o,isMediaComponent:h,isImageComponent:v9e.includes(o)},y=b9e(g);return l.jsx(y9e,{className:dt(y.root,r),as:o,role:!h&&s?"img":void 0,ref:n,style:m,ownerState:g,src:h?s||c:void 0,...d,children:i})});function S9e(t){return Pt("PrivateSwitchBase",t)}Ft("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const C9e=t=>{const{classes:e,checked:n,disabled:a,edge:i}=t,r={root:["root",n&&"checked",a&&"disabled",i&&`edge${Ge(i)}`],input:["input"]};return Lt(r,S9e,e)},w9e=qe(ts,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),_9e=qe("input",{name:"MuiSwitchBase",shouldForwardProp:Sr})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),qj=E.forwardRef(function(e,n){const{autoFocus:a,checked:i,checkedIcon:r,defaultChecked:o,disabled:s,disableFocusRipple:c=!1,edge:u=!1,icon:d,id:h,inputProps:m,inputRef:g,name:y,onBlur:v,onChange:S,onFocus:w,readOnly:_,required:T=!1,tabIndex:A,type:R,value:I,slots:N={},slotProps:P={},...O}=e,[D,H]=hp({controlled:i,default:!!o,name:"SwitchBase",state:"checked"}),L=Qc(),$=re=>{w&&w(re),L&&L.onFocus&&L.onFocus(re)},M=re=>{v&&v(re),L&&L.onBlur&&L.onBlur(re)},z=re=>{if(re.nativeEvent.defaultPrevented)return;const ne=re.target.checked;H(ne),S&&S(re,ne)};let F=s;L&&typeof F>"u"&&(F=L.disabled);const G=R==="checkbox"||R==="radio",ee={...e,checked:D,disabled:F,disableFocusRipple:c,edge:u},V=C9e(ee),Y={slots:N,slotProps:{input:m,...P}},[K,J]=qt("root",{ref:n,elementType:w9e,className:V.root,shouldForwardComponentProp:!0,externalForwardedProps:{...Y,component:"span",...O},getSlotProps:re=>({...re,onFocus:ne=>{re.onFocus?.(ne),$(ne)},onBlur:ne=>{re.onBlur?.(ne),M(ne)}}),ownerState:ee,additionalProps:{centerRipple:!0,focusRipple:!c,disabled:F,role:void 0,tabIndex:null}}),[W,te]=qt("input",{ref:g,elementType:_9e,className:V.input,externalForwardedProps:Y,getSlotProps:re=>({...re,onChange:ne=>{re.onChange?.(ne),z(ne)}}),ownerState:ee,additionalProps:{autoFocus:a,checked:i,defaultChecked:o,disabled:F,id:G?h:void 0,name:y,readOnly:_,required:T,tabIndex:A,type:R,...R==="checkbox"&&I===void 0?{}:{value:I}}});return l.jsxs(K,{...J,children:[l.jsx(W,{...te}),D?r:d]})}),T9e=ft(l.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),E9e=ft(l.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),A9e=ft(l.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function R9e(t){return Pt("MuiCheckbox",t)}const RE=Ft("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),k9e=t=>{const{classes:e,indeterminate:n,color:a,size:i}=t,r={root:["root",n&&"indeterminate",`color${Ge(a)}`,`size${Ge(i)}`]},o=Lt(r,R9e,e);return{...e,...o}},I9e=qe(qj,{shouldForwardProp:t=>Sr(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${Ge(n.size)}`],n.color!=="default"&&e[`color${Ge(n.color)}`]]}})(kt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(sa()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(sa()).map(([e])=>({props:{color:e},style:{[`&.${RE.checked}, &.${RE.indeterminate}`]:{color:(t.vars||t).palette[e].main},[`&.${RE.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),N9e=l.jsx(E9e,{}),j9e=l.jsx(T9e,{}),D9e=l.jsx(A9e,{}),Zs=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiCheckbox"}),{checkedIcon:i=N9e,color:r="primary",icon:o=j9e,indeterminate:s=!1,indeterminateIcon:c=D9e,inputProps:u,size:d="medium",disableRipple:h=!1,className:m,slots:g={},slotProps:y={},...v}=a,S=s?c:o,w=s?c:i,_={...a,disableRipple:h,color:r,indeterminate:s,size:d},T=k9e(_),A=y.input??u,[R,I]=qt("root",{ref:n,elementType:I9e,className:dt(T.root,m),shouldForwardComponentProp:!0,externalForwardedProps:{slots:g,slotProps:y,...v},ownerState:_,additionalProps:{type:"checkbox",icon:E.cloneElement(S,{fontSize:S.props.fontSize??d}),checkedIcon:E.cloneElement(w,{fontSize:w.props.fontSize??d}),disableRipple:h,slots:g,slotProps:{input:Dj(typeof A=="function"?A(_):A,{"data-indeterminate":s})}}});return l.jsx(R,{...I,classes:T})});function YL(t){return t.substring(2).toLowerCase()}function O9e(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function uQ(t){const{children:e,disableReactTree:n=!1,mouseEvent:a="onClick",onClickAway:i,touchEvent:r="onTouchEnd"}=t,o=E.useRef(!1),s=E.useRef(null),c=E.useRef(!1),u=E.useRef(!1);E.useEffect(()=>(setTimeout(()=>{c.current=!0},0),()=>{c.current=!1}),[]);const d=oi(Sp(e),s),h=Wr(y=>{const v=u.current;u.current=!1;const S=sr(s.current);if(!c.current||!s.current||"clientX"in y&&O9e(y,S))return;if(o.current){o.current=!1;return}let w;y.composedPath?w=y.composedPath().includes(s.current):w=!S.documentElement.contains(y.target)||s.current.contains(y.target),!w&&(n||!v)&&i(y)}),m=y=>v=>{u.current=!0;const S=e.props[y];S&&S(v)},g={ref:d};return r!==!1&&(g[r]=m(r)),E.useEffect(()=>{if(r!==!1){const y=YL(r),v=sr(s.current),S=()=>{o.current=!0};return v.addEventListener(y,h),v.addEventListener("touchmove",S),()=>{v.removeEventListener(y,h),v.removeEventListener("touchmove",S)}}},[h,r]),a!==!1&&(g[a]=m(a)),E.useEffect(()=>{if(a!==!1){const y=YL(a),v=sr(s.current);return v.addEventListener(y,h),()=>{v.removeEventListener(y,h)}}},[h,a]),E.cloneElement(e,g)}const tg=ede({createStyledComponent:qe("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ge(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>Bt({props:t,name:"MuiContainer"})});function dQ(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function M9e(t){const e=sr(t);return e.body===t?il(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Bv(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function KL(t){return parseInt(il(t).getComputedStyle(t).paddingRight,10)||0}function P9e(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),a=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||a}function XL(t,e,n,a,i){const r=[e,n,...a];[].forEach.call(t.children,o=>{const s=!r.includes(o),c=!P9e(o);s&&c&&Bv(o,i)})}function kE(t,e){let n=-1;return t.some((a,i)=>e(a)?(n=i,!0):!1),n}function L9e(t,e){const n=[],a=t.container;if(!e.disableScrollLock){if(M9e(a)){const o=dQ(il(a));n.push({value:a.style.paddingRight,property:"padding-right",el:a}),a.style.paddingRight=`${KL(a)+o}px`;const s=sr(a).querySelectorAll(".mui-fixed");[].forEach.call(s,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${KL(c)+o}px`})}let r;if(a.parentNode instanceof DocumentFragment)r=sr(a).body;else{const o=a.parentElement,s=il(a);r=o?.nodeName==="HTML"&&s.getComputedStyle(o).overflowY==="scroll"?o:a}n.push({value:r.style.overflow,property:"overflow",el:r},{value:r.style.overflowX,property:"overflow-x",el:r},{value:r.style.overflowY,property:"overflow-y",el:r}),r.style.overflow="hidden"}return()=>{n.forEach(({value:r,el:o,property:s})=>{r?o.style.setProperty(s,r):o.style.removeProperty(s)})}}function z9e(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class F9e{constructor(){this.modals=[],this.containers=[]}add(e,n){let a=this.modals.indexOf(e);if(a!==-1)return a;a=this.modals.length,this.modals.push(e),e.modalRef&&Bv(e.modalRef,!1);const i=z9e(n);XL(n,e.mount,e.modalRef,i,!0);const r=kE(this.containers,o=>o.container===n);return r!==-1?(this.containers[r].modals.push(e),a):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),a)}mount(e,n){const a=kE(this.containers,r=>r.modals.includes(e)),i=this.containers[a];i.restore||(i.restore=L9e(i,n))}remove(e,n=!0){const a=this.modals.indexOf(e);if(a===-1)return a;const i=kE(this.containers,o=>o.modals.includes(e)),r=this.containers[i];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(a,1),r.modals.length===0)r.restore&&r.restore(),e.modalRef&&Bv(e.modalRef,n),XL(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=r.modals[r.modals.length-1];o.modalRef&&Bv(o.modalRef,!1)}return a}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const B9e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function H9e(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function $9e(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=a=>t.ownerDocument.querySelector(`input[type="radio"]${a}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function U9e(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||$9e(t))}function G9e(t){const e=[],n=[];return Array.from(t.querySelectorAll(B9e)).forEach((a,i)=>{const r=H9e(a);r===-1||!U9e(a)||(r===0?e.push(a):n.push({documentOrder:i,tabIndex:r,node:a}))}),n.sort((a,i)=>a.tabIndex===i.tabIndex?a.documentOrder-i.documentOrder:a.tabIndex-i.tabIndex).map(a=>a.node).concat(e)}function q9e(){return!0}function W9e(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:a=!1,disableRestoreFocus:i=!1,getTabbable:r=G9e,isEnabled:o=q9e,open:s}=t,c=E.useRef(!1),u=E.useRef(null),d=E.useRef(null),h=E.useRef(null),m=E.useRef(null),g=E.useRef(!1),y=E.useRef(null),v=oi(Sp(e),y),S=E.useRef(null);E.useEffect(()=>{!s||!y.current||(g.current=!n)},[n,s]),E.useEffect(()=>{if(!s||!y.current)return;const T=sr(y.current);return y.current.contains(T.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex","-1"),g.current&&y.current.focus()),()=>{i||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}},[s]),E.useEffect(()=>{if(!s||!y.current)return;const T=sr(y.current),A=N=>{S.current=N,!(a||!o()||N.key!=="Tab")&&T.activeElement===y.current&&N.shiftKey&&(c.current=!0,d.current&&d.current.focus())},R=()=>{const N=y.current;if(N===null)return;if(!T.hasFocus()||!o()||c.current){c.current=!1;return}if(N.contains(T.activeElement)||a&&T.activeElement!==u.current&&T.activeElement!==d.current)return;if(T.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!g.current)return;let P=[];if((T.activeElement===u.current||T.activeElement===d.current)&&(P=r(y.current)),P.length>0){const O=!!(S.current?.shiftKey&&S.current?.key==="Tab"),D=P[0],H=P[P.length-1];typeof D!="string"&&typeof H!="string"&&(O?H.focus():D.focus())}else N.focus()};T.addEventListener("focusin",R),T.addEventListener("keydown",A,!0);const I=setInterval(()=>{T.activeElement&&T.activeElement.tagName==="BODY"&&R()},50);return()=>{clearInterval(I),T.removeEventListener("focusin",R),T.removeEventListener("keydown",A,!0)}},[n,a,i,o,s,r]);const w=T=>{h.current===null&&(h.current=T.relatedTarget),g.current=!0,m.current=T.target;const A=e.props.onFocus;A&&A(T)},_=T=>{h.current===null&&(h.current=T.relatedTarget),g.current=!0};return l.jsxs(E.Fragment,{children:[l.jsx("div",{tabIndex:s?0:-1,onFocus:_,ref:u,"data-testid":"sentinelStart"}),E.cloneElement(e,{ref:v,onFocus:w}),l.jsx("div",{tabIndex:s?0:-1,onFocus:_,ref:d,"data-testid":"sentinelEnd"})]})}function V9e(t){return typeof t=="function"?t():t}function Y9e(t){return t?t.props.hasOwnProperty("in"):!1}const QL=()=>{},WC=new F9e;function K9e(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:a=!1,closeAfterTransition:i=!1,onTransitionEnter:r,onTransitionExited:o,children:s,onClose:c,open:u,rootRef:d}=t,h=E.useRef({}),m=E.useRef(null),g=E.useRef(null),y=oi(g,d),[v,S]=E.useState(!u),w=Y9e(s);let _=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(_=!1);const T=()=>sr(m.current),A=()=>(h.current.modalRef=g.current,h.current.mount=m.current,h.current),R=()=>{WC.mount(A(),{disableScrollLock:a}),g.current&&(g.current.scrollTop=0)},I=Wr(()=>{const z=V9e(e)||T().body;WC.add(A(),z),g.current&&R()}),N=()=>WC.isTopModal(A()),P=Wr(z=>{m.current=z,z&&(u&&N()?R():g.current&&Bv(g.current,_))}),O=E.useCallback(()=>{WC.remove(A(),_)},[_]);E.useEffect(()=>()=>{O()},[O]),E.useEffect(()=>{u?I():(!w||!i)&&O()},[u,O,w,i,I]);const D=z=>F=>{z.onKeyDown?.(F),!(F.key!=="Escape"||F.which===229||!N())&&(n||(F.stopPropagation(),c&&c(F,"escapeKeyDown")))},H=z=>F=>{z.onClick?.(F),F.target===F.currentTarget&&c&&c(F,"backdropClick")};return{getRootProps:(z={})=>{const F=Jm(t);delete F.onTransitionEnter,delete F.onTransitionExited;const G={...F,...z};return{role:"presentation",...G,onKeyDown:D(G),ref:y}},getBackdropProps:(z={})=>{const F=z;return{"aria-hidden":!0,...F,onClick:H(F),open:u}},getTransitionProps:()=>{const z=()=>{S(!1),r&&r()},F=()=>{S(!0),o&&o(),i&&O()};return{onEnter:t7(z,s?.props.onEnter??QL),onExited:t7(F,s?.props.onExited??QL)}},rootRef:y,portalRef:P,isTopModal:N,exited:v,hasTransition:w}}function X9e(t){return Pt("MuiModal",t)}Ft("MuiModal",["root","hidden","backdrop"]);const Q9e=t=>{const{open:e,exited:n,classes:a}=t;return Lt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},X9e,a)},Z9e=qe("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(kt(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),J9e=qe(lQ,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),Wj=E.forwardRef(function(e,n){const a=Bt({name:"MuiModal",props:e}),{BackdropComponent:i=J9e,BackdropProps:r,classes:o,className:s,closeAfterTransition:c=!1,children:u,container:d,component:h,components:m={},componentsProps:g={},disableAutoFocus:y=!1,disableEnforceFocus:v=!1,disableEscapeKeyDown:S=!1,disablePortal:w=!1,disableRestoreFocus:_=!1,disableScrollLock:T=!1,hideBackdrop:A=!1,keepMounted:R=!1,onClose:I,onTransitionEnter:N,onTransitionExited:P,open:O,slotProps:D={},slots:H={},theme:L,...$}=a,M={...a,closeAfterTransition:c,disableAutoFocus:y,disableEnforceFocus:v,disableEscapeKeyDown:S,disablePortal:w,disableRestoreFocus:_,disableScrollLock:T,hideBackdrop:A,keepMounted:R},{getRootProps:z,getBackdropProps:F,getTransitionProps:G,portalRef:ee,isTopModal:V,exited:Y,hasTransition:K}=K9e({...M,rootRef:n}),J={...M,exited:Y},W=Q9e(J),te={};if(u.props.tabIndex===void 0&&(te.tabIndex="-1"),K){const{onEnter:ge,onExited:ye}=G();te.onEnter=ge,te.onExited=ye}const re={slots:{root:m.Root,backdrop:m.Backdrop,...H},slotProps:{...g,...D}},[ne,ce]=qt("root",{ref:n,elementType:Z9e,externalForwardedProps:{...re,...$,component:h},getSlotProps:z,ownerState:J,className:dt(s,W?.root,!J.open&&J.exited&&W?.hidden)}),[pe,me]=qt("backdrop",{ref:r?.ref,elementType:i,externalForwardedProps:re,shouldForwardComponentProp:!0,additionalProps:r,getSlotProps:ge=>F({...ge,onClick:ye=>{ge?.onClick&&ge.onClick(ye)}}),className:dt(r?.className,W?.backdrop),ownerState:J});return!R&&!O&&(!K||Y)?null:l.jsx(sQ,{ref:ee,container:d,disablePortal:w,children:l.jsxs(ne,{...ce,children:[!A&&i?l.jsx(pe,{...me}):null,l.jsx(W9e,{disableEnforceFocus:v,disableAutoFocus:y,disableRestoreFocus:_,isEnabled:V,open:O,children:E.cloneElement(u,te)})]})})});function eIe(t){return Pt("MuiDialog",t)}const IE=Ft("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),fQ=E.createContext({}),tIe=qe(lQ,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),nIe=t=>{const{classes:e,scroll:n,maxWidth:a,fullWidth:i,fullScreen:r}=t,o={root:["root"],container:["container",`scroll${Ge(n)}`],paper:["paper",`paperScroll${Ge(n)}`,`paperWidth${Ge(String(a))}`,i&&"paperFullWidth",r&&"paperFullScreen"]};return Lt(o,eIe,e)},aIe=qe(Wj,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),iIe=qe("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${Ge(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),rIe=qe(Gt,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${Ge(n.scroll)}`],e[`paperWidth${Ge(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(kt(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${IE.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${IE.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${IE.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Fn=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiDialog"}),i=Fi(),r={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":s,"aria-modal":c=!0,BackdropComponent:u,BackdropProps:d,children:h,className:m,disableEscapeKeyDown:g=!1,fullScreen:y=!1,fullWidth:v=!1,maxWidth:S="sm",onClick:w,onClose:_,open:T,PaperComponent:A=Gt,PaperProps:R={},scroll:I="paper",slots:N={},slotProps:P={},TransitionComponent:O=d7,transitionDuration:D=r,TransitionProps:H,...L}=a,$={...a,disableEscapeKeyDown:g,fullScreen:y,fullWidth:v,maxWidth:S,scroll:I},M=nIe($),z=E.useRef(),F=de=>{z.current=de.target===de.currentTarget},G=de=>{w&&w(de),z.current&&(z.current=null,_&&_(de,"backdropClick"))},ee=nd(s),V=E.useMemo(()=>({titleId:ee}),[ee]),Y={transition:O,...N},K={transition:H,paper:R,backdrop:d,...P},J={slots:Y,slotProps:K},[W,te]=qt("root",{elementType:aIe,shouldForwardComponentProp:!0,externalForwardedProps:J,ownerState:$,className:dt(M.root,m),ref:n}),[re,ne]=qt("backdrop",{elementType:tIe,shouldForwardComponentProp:!0,externalForwardedProps:J,ownerState:$}),[ce,pe]=qt("paper",{elementType:rIe,shouldForwardComponentProp:!0,externalForwardedProps:J,ownerState:$,className:dt(M.paper,R.className)}),[me,ge]=qt("container",{elementType:iIe,externalForwardedProps:J,ownerState:$,className:M.container}),[ye,he]=qt("transition",{elementType:d7,externalForwardedProps:J,ownerState:$,additionalProps:{appear:!0,in:T,timeout:D,role:"presentation"}});return l.jsx(W,{closeAfterTransition:!0,slots:{backdrop:re},slotProps:{backdrop:{transitionDuration:D,as:u,...ne}},disableEscapeKeyDown:g,onClose:_,open:T,onClick:G,...te,...L,children:l.jsx(ye,{...he,children:l.jsx(me,{onMouseDown:F,...ge,children:l.jsx(ce,{as:A,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":ee,"aria-modal":c,...pe,children:l.jsx(fQ.Provider,{value:V,children:h})})})})})});function oIe(t){return Pt("MuiDialogActions",t)}Ft("MuiDialogActions",["root","spacing"]);const sIe=t=>{const{classes:e,disableSpacing:n}=t;return Lt({root:["root",!n&&"spacing"]},oIe,e)},lIe=qe("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Wn=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:r=!1,...o}=a,s={...a,disableSpacing:r},c=sIe(s);return l.jsx(lIe,{className:dt(c.root,i),ownerState:s,ref:n,...o})});function cIe(t){return Pt("MuiDialogContent",t)}Ft("MuiDialogContent",["root","dividers"]);function uIe(t){return Pt("MuiDialogTitle",t)}const dIe=Ft("MuiDialogTitle",["root"]),fIe=t=>{const{classes:e,dividers:n}=t;return Lt({root:["root",n&&"dividers"]},cIe,e)},hIe=qe("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(kt(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${dIe.root} + &`]:{paddingTop:0}}}]}))),$n=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiDialogContent"}),{className:i,dividers:r=!1,...o}=a,s={...a,dividers:r},c=fIe(s);return l.jsx(hIe,{className:dt(c.root,i),ownerState:s,ref:n,...o})});function pIe(t){return Pt("MuiDialogContentText",t)}Ft("MuiDialogContentText",["root"]);const mIe=t=>{const{classes:e}=t,a=Lt({root:["root"]},pIe,e);return{...e,...a}},gIe=qe(ie,{shouldForwardProp:t=>Sr(t)||t==="classes",name:"MuiDialogContentText",slot:"Root"})({}),rc=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiDialogContentText"}),{children:i,className:r,...o}=a,s=mIe(o);return l.jsx(gIe,{component:"p",variant:"body1",color:"textSecondary",ref:n,ownerState:o,className:dt(s.root,r),...a,classes:s})}),bIe=t=>{const{classes:e}=t;return Lt({root:["root"]},uIe,e)},yIe=qe(ie,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),Un=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiDialogTitle"}),{className:i,id:r,...o}=a,s=a,c=bIe(s),{titleId:u=r}=E.useContext(fQ);return l.jsx(yIe,{component:"h2",className:dt(c.root,i),ownerState:s,ref:n,variant:"h6",id:r??u,...o})});function xIe(t){return Pt("MuiDivider",t)}const ZL=Ft("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),vIe=t=>{const{absolute:e,children:n,classes:a,flexItem:i,light:r,orientation:o,textAlign:s,variant:c}=t;return Lt({root:["root",e&&"absolute",c,r&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",s==="right"&&o!=="vertical"&&"textAlignRight",s==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},xIe,a)},SIe=qe("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(kt(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.alpha((t.vars||t).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),CIe=qe("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(kt(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),fn=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiDivider"}),{absolute:i=!1,children:r,className:o,orientation:s="horizontal",component:c=r||s==="vertical"?"div":"hr",flexItem:u=!1,light:d=!1,role:h=c!=="hr"?"separator":void 0,textAlign:m="center",variant:g="fullWidth",...y}=a,v={...a,absolute:i,component:c,flexItem:u,light:d,orientation:s,role:h,textAlign:m,variant:g},S=vIe(v);return l.jsx(SIe,{as:c,className:dt(S.root,o),role:h,ref:n,ownerState:v,"aria-orientation":h==="separator"&&(c!=="hr"||s==="vertical")?s:void 0,...y,children:r?l.jsx(CIe,{className:S.wrapper,ownerState:v,children:r}):null})});fn&&(fn.muiSkipListHighlight=!0);function wIe(t,e,n){const a=e.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),r=il(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const u=r.getComputedStyle(e);o=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let s=0,c=0;if(o&&o!=="none"&&typeof o=="string"){const u=o.split("(")[1].split(")")[0].split(",");s=parseInt(u[4],10),c=parseInt(u[5],10)}return t==="left"?i?`translateX(${i.right+s-a.left}px)`:`translateX(${r.innerWidth+s-a.left}px)`:t==="right"?i?`translateX(-${a.right-i.left-s}px)`:`translateX(-${a.left+a.width-s}px)`:t==="up"?i?`translateY(${i.bottom+c-a.top}px)`:`translateY(${r.innerHeight+c-a.top}px)`:i?`translateY(-${a.top-i.top+a.height-c}px)`:`translateY(-${a.top+a.height-c}px)`}function _Ie(t){return typeof t=="function"?t():t}function VC(t,e,n){const a=_Ie(n),i=wIe(t,e,a);i&&(e.style.webkitTransform=i,e.style.transform=i)}const TIe=E.forwardRef(function(e,n){const a=Fi(),i={enter:a.transitions.easing.easeOut,exit:a.transitions.easing.sharp},r={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:c,container:u,direction:d="down",easing:h=i,in:m,onEnter:g,onEntered:y,onEntering:v,onExit:S,onExited:w,onExiting:_,style:T,timeout:A=r,TransitionComponent:R=cc,...I}=e,N=E.useRef(null),P=oi(Sp(c),N,n),O=ee=>V=>{ee&&(V===void 0?ee(N.current):ee(N.current,V))},D=O((ee,V)=>{VC(d,ee,u),Pj(ee),g&&g(ee,V)}),H=O((ee,V)=>{const Y=pp({timeout:A,style:T,easing:h},{mode:"enter"});ee.style.webkitTransition=a.transitions.create("-webkit-transform",{...Y}),ee.style.transition=a.transitions.create("transform",{...Y}),ee.style.webkitTransform="none",ee.style.transform="none",v&&v(ee,V)}),L=O(y),$=O(_),M=O(ee=>{const V=pp({timeout:A,style:T,easing:h},{mode:"exit"});ee.style.webkitTransition=a.transitions.create("-webkit-transform",V),ee.style.transition=a.transitions.create("transform",V),VC(d,ee,u),S&&S(ee)}),z=O(ee=>{ee.style.webkitTransition="",ee.style.transition="",w&&w(ee)}),F=ee=>{o&&o(N.current,ee)},G=E.useCallback(()=>{N.current&&VC(d,N.current,u)},[d,u]);return E.useEffect(()=>{if(m||d==="down"||d==="right")return;const ee=cS(()=>{N.current&&VC(d,N.current,u)}),V=il(N.current);return V.addEventListener("resize",ee),()=>{ee.clear(),V.removeEventListener("resize",ee)}},[d,m,u]),E.useEffect(()=>{m||G()},[m,G]),l.jsx(R,{nodeRef:N,onEnter:D,onEntered:L,onEntering:H,onExit:M,onExited:z,onExiting:$,addEndListener:F,appear:s,in:m,timeout:A,...I,children:(ee,{ownerState:V,...Y})=>E.cloneElement(c,{ref:P,style:{visibility:ee==="exited"&&!m?"hidden":void 0,...T,...c.props.style},...Y})})});function EIe(t){return Pt("MuiDrawer",t)}Ft("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const hQ=(t,e)=>{const{ownerState:n}=t;return[e.root,(n.variant==="permanent"||n.variant==="persistent")&&e.docked,e.modal]},AIe=t=>{const{classes:e,anchor:n,variant:a}=t,i={root:["root",`anchor${Ge(n)}`],docked:[(a==="permanent"||a==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Ge(n)}`,a!=="temporary"&&`paperAnchorDocked${Ge(n)}`]};return Lt(i,EIe,e)},RIe=qe(Wj,{name:"MuiDrawer",slot:"Root",overridesResolver:hQ})(kt(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer}))),kIe=qe("div",{shouldForwardProp:Sr,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:hQ})({flex:"0 0 auto"}),IIe=qe(Gt,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`paperAnchor${Ge(n.anchor)}`],n.variant!=="temporary"&&e[`paperAnchorDocked${Ge(n.anchor)}`]]}})(kt(({theme:t})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>e.anchor==="left"&&e.variant!=="temporary",style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="top"&&e.variant!=="temporary",style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="right"&&e.variant!=="temporary",style:{borderLeft:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="bottom"&&e.variant!=="temporary",style:{borderTop:`1px solid ${(t.vars||t).palette.divider}`}}]}))),pQ={left:"right",right:"left",top:"down",bottom:"up"};function NIe(t){return["left","right"].includes(t)}function jIe({direction:t},e){return t==="rtl"&&NIe(e)?pQ[e]:e}const D4=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiDrawer"}),i=Fi(),r=cd(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:s="left",BackdropProps:c,children:u,className:d,elevation:h=16,hideBackdrop:m=!1,ModalProps:{BackdropProps:g,...y}={},onClose:v,open:S=!1,PaperProps:w={},SlideProps:_,TransitionComponent:T,transitionDuration:A=o,variant:R="temporary",slots:I={},slotProps:N={},...P}=a,O=E.useRef(!1);E.useEffect(()=>{O.current=!0},[]);const D=jIe({direction:r?"rtl":"ltr"},s),L={...a,anchor:s,elevation:h,open:S,variant:R,...P},$=AIe(L),M={slots:{transition:T,...I},slotProps:{paper:w,transition:_,...N,backdrop:Dj(N.backdrop||{...c,...g},{transitionDuration:A})}},[z,F]=qt("root",{ref:n,elementType:RIe,className:dt($.root,$.modal,d),shouldForwardComponentProp:!0,ownerState:L,externalForwardedProps:{...M,...P,...y},additionalProps:{open:S,onClose:v,hideBackdrop:m,slots:{backdrop:M.slots.backdrop},slotProps:{backdrop:M.slotProps.backdrop}}}),[G,ee]=qt("paper",{elementType:IIe,shouldForwardComponentProp:!0,className:dt($.paper,w.className),ownerState:L,externalForwardedProps:M,additionalProps:{elevation:R==="temporary"?h:0,square:!0,...R==="temporary"&&{role:"dialog","aria-modal":"true"}}}),[V,Y]=qt("docked",{elementType:kIe,ref:n,className:dt($.root,$.docked,d),ownerState:L,externalForwardedProps:M,additionalProps:P}),[K,J]=qt("transition",{elementType:TIe,ownerState:L,externalForwardedProps:M,additionalProps:{in:S,direction:pQ[D],timeout:A,appear:O.current}}),W=l.jsx(G,{...ee,children:u});if(R==="permanent")return l.jsx(V,{...Y,children:W});const te=l.jsx(K,{...J,children:W});return R==="persistent"?l.jsx(V,{...Y,children:te}):l.jsx(z,{...F,children:te})});function DIe(t){return Pt("MuiFab",t)}const JL=Ft("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),OIe=t=>{const{color:e,variant:n,classes:a,size:i}=t,r={root:["root",n,`size${Ge(i)}`,e==="inherit"?"colorInherit":e]},o=Lt(r,DIe,a);return{...a,...o}},MIe=qe(ts,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>Sr(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Ge(n.size)}`],n.color==="inherit"&&e.colorInherit,e[Ge(n.size)],e[n.color]]}})(kt(({theme:t})=>({...t.typography.button,minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.grey[900]:t.palette.getContrastText?.(t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${JL.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},variants:[{props:{size:"small"},style:{width:40,height:40}},{props:{size:"medium"},style:{width:48,height:48}},{props:{variant:"extended"},style:{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48}},{props:{variant:"extended",size:"small"},style:{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34}},{props:{variant:"extended",size:"medium"},style:{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40}},{props:{color:"inherit"},style:{color:"inherit"}}]})),kt(({theme:t})=>({variants:[...Object.entries(t.palette).filter(sa(["dark","contrastText"])).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].contrastText,backgroundColor:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:(t.vars||t).palette[e].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e].main}}}}))]})),kt(({theme:t})=>({[`&.${JL.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}))),PIe=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiFab"}),{children:i,className:r,color:o="default",component:s="button",disabled:c=!1,disableFocusRipple:u=!1,focusVisibleClassName:d,size:h="large",variant:m="circular",...g}=a,y={...a,color:o,component:s,disabled:c,disableFocusRipple:u,size:h,variant:m},v=OIe(y);return l.jsx(MIe,{className:dt(v.root,r),component:s,disabled:c,focusRipple:!u,focusVisibleClassName:dt(v.focusVisible,d),ownerState:y,ref:n,...g,classes:v,children:i})}),LIe=t=>{const{classes:e,disableUnderline:n,startAdornment:a,endAdornment:i,size:r,hiddenLabel:o,multiline:s}=t,c={root:["root",!n&&"underline",a&&"adornedStart",i&&"adornedEnd",r==="small"&&`size${Ge(r)}`,o&&"hiddenLabel",s&&"multiline"],input:["input"]},u=Lt(c,Cke,e);return{...e,...u}},zIe=qe(Z_,{shouldForwardProp:t=>Sr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...X_(t,e),!n.disableUnderline&&e.underline]}})(kt(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",r=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a}},[`&.${xm.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a},[`&.${xm.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:r},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${xm.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${xm.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${xm.disabled}, .${xm.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${xm.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(sa()).map(([o])=>({props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[o]?.main}`}}})),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:s})=>o.multiline&&s==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),FIe=qe(J_,{name:"MuiFilledInput",slot:"Input",overridesResolver:Q_})(kt(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),Vj=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:r={},componentsProps:o,fullWidth:s=!1,hiddenLabel:c,inputComponent:u="input",multiline:d=!1,slotProps:h,slots:m={},type:g="text",...y}=a,v={...a,disableUnderline:i,fullWidth:s,inputComponent:u,multiline:d,type:g},S=LIe(a),w={root:{ownerState:v},input:{ownerState:v}},_=h??o?qr(w,h??o):w,T=m.root??r.Root??zIe,A=m.input??r.Input??FIe;return l.jsx(e5,{slots:{root:T,input:A},slotProps:_,fullWidth:s,inputComponent:u,multiline:d,ref:n,type:g,...y,classes:S})});Vj.muiName="Input";function BIe(t){return Pt("MuiFormControl",t)}Ft("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const HIe=t=>{const{classes:e,margin:n,fullWidth:a}=t,i={root:["root",n!=="none"&&`margin${Ge(n)}`,a&&"fullWidth"]};return Lt(i,BIe,e)},$Ie=qe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${Ge(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),ri=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiFormControl"}),{children:i,className:r,color:o="primary",component:s="div",disabled:c=!1,error:u=!1,focused:d,fullWidth:h=!1,hiddenLabel:m=!1,margin:g="none",required:y=!1,size:v="medium",variant:S="outlined",...w}=a,_={...a,color:o,component:s,disabled:c,error:u,fullWidth:h,hiddenLabel:m,margin:g,required:y,size:v,variant:S},T=HIe(_),[A,R]=E.useState(()=>{let z=!1;return i&&E.Children.forEach(i,F=>{if(!Mv(F,["Input","Select"]))return;const G=Mv(F,["Select"])?F.props.input:F;G&&bke(G.props)&&(z=!0)}),z}),[I,N]=E.useState(()=>{let z=!1;return i&&E.Children.forEach(i,F=>{Mv(F,["Input","Select"])&&(j4(F.props,!0)||j4(F.props.inputProps,!0))&&(z=!0)}),z}),[P,O]=E.useState(!1);c&&P&&O(!1);const D=d!==void 0&&!c?d:P;let H;E.useRef(!1);const L=E.useCallback(()=>{N(!0)},[]),$=E.useCallback(()=>{N(!1)},[]),M=E.useMemo(()=>({adornedStart:A,setAdornedStart:R,color:o,disabled:c,error:u,filled:I,focused:D,fullWidth:h,hiddenLabel:m,size:v,onBlur:()=>{O(!1)},onFocus:()=>{O(!0)},onEmpty:$,onFilled:L,registerEffect:H,required:y,variant:S}),[A,o,c,u,I,D,h,m,H,$,L,y,v,S]);return l.jsx(K_.Provider,{value:M,children:l.jsx($Ie,{as:s,ownerState:_,className:dt(T.root,r),ref:n,...w,children:i})})});function UIe(t){return Pt("MuiFormControlLabel",t)}const bv=Ft("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),GIe=t=>{const{classes:e,disabled:n,labelPlacement:a,error:i,required:r}=t,o={root:["root",n&&"disabled",`labelPlacement${Ge(a)}`,i&&"error",r&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return Lt(o,UIe,e)},qIe=qe("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${bv.label}`]:e.label},e.root,e[`labelPlacement${Ge(n.labelPlacement)}`]]}})(kt(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${bv.disabled}`]:{cursor:"default"},[`& .${bv.label}`]:{[`&.${bv.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),WIe=qe("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(kt(({theme:t})=>({[`&.${bv.error}`]:{color:(t.vars||t).palette.error.main}}))),wn=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiFormControlLabel"}),{checked:i,className:r,componentsProps:o={},control:s,disabled:c,disableTypography:u,inputRef:d,label:h,labelPlacement:m="end",name:g,onChange:y,required:v,slots:S={},slotProps:w={},value:_,...T}=a,A=Qc(),R=c??s.props.disabled??A?.disabled,I=v??s.props.required,N={disabled:R,required:I};["checked","name","onChange","value","inputRef"].forEach(z=>{typeof s.props[z]>"u"&&typeof a[z]<"u"&&(N[z]=a[z])});const P=Cp({props:a,muiFormControl:A,states:["error"]}),O={...a,disabled:R,labelPlacement:m,required:I,error:P.error},D=GIe(O),H={slots:S,slotProps:{...o,...w}},[L,$]=qt("typography",{elementType:ie,externalForwardedProps:H,ownerState:O});let M=h;return M!=null&&M.type!==ie&&!u&&(M=l.jsx(L,{component:"span",...$,className:dt(D.label,$?.className),children:M})),l.jsxs(qIe,{className:dt(D.root,r),ownerState:O,ref:n,...T,children:[E.cloneElement(s,N),I?l.jsxs("div",{children:[M,l.jsxs(WIe,{ownerState:O,"aria-hidden":!0,className:D.asterisk,children:["","*"]})]}):M]})});function VIe(t){return Pt("MuiFormGroup",t)}Ft("MuiFormGroup",["root","row","error"]);const YIe=t=>{const{classes:e,row:n,error:a}=t;return Lt({root:["root",n&&"row",a&&"error"]},VIe,e)},KIe=qe("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.row&&e.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),h7=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiFormGroup"}),{className:i,row:r=!1,...o}=a,s=Qc(),c=Cp({props:a,muiFormControl:s,states:["error"]}),u={...a,row:r,error:c.error},d=YIe(u);return l.jsx(KIe,{className:dt(d.root,i),ownerState:u,ref:n,...o})});function XIe(t){return Pt("MuiFormHelperText",t)}const ez=Ft("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var tz;const QIe=t=>{const{classes:e,contained:n,size:a,disabled:i,error:r,filled:o,focused:s,required:c}=t,u={root:["root",i&&"disabled",r&&"error",a&&`size${Ge(a)}`,n&&"contained",s&&"focused",o&&"filled",c&&"required"]};return Lt(u,XIe,e)},ZIe=qe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Ge(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(kt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${ez.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${ez.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),JIe=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiFormHelperText"}),{children:i,className:r,component:o="p",disabled:s,error:c,filled:u,focused:d,margin:h,required:m,variant:g,...y}=a,v=Qc(),S=Cp({props:a,muiFormControl:v,states:["variant","size","disabled","error","filled","focused","required"]}),w={...a,component:o,contained:S.variant==="filled"||S.variant==="outlined",variant:S.variant,size:S.size,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required};delete w.ownerState;const _=QIe(w);return l.jsx(ZIe,{as:o,className:dt(_.root,r),ref:n,...y,ownerState:w,children:i===" "?tz||(tz=l.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})});function e7e(t){return Pt("MuiFormLabel",t)}const Hv=Ft("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),t7e=t=>{const{classes:e,color:n,focused:a,disabled:i,error:r,filled:o,required:s}=t,c={root:["root",`color${Ge(n)}`,i&&"disabled",r&&"error",o&&"filled",a&&"focused",s&&"required"],asterisk:["asterisk",r&&"error"]};return Lt(c,e7e,e)},n7e=qe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(kt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(sa()).map(([e])=>({props:{color:e},style:{[`&.${Hv.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${Hv.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Hv.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),a7e=qe("span",{name:"MuiFormLabel",slot:"Asterisk"})(kt(({theme:t})=>({[`&.${Hv.error}`]:{color:(t.vars||t).palette.error.main}}))),$v=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiFormLabel"}),{children:i,className:r,color:o,component:s="label",disabled:c,error:u,filled:d,focused:h,required:m,...g}=a,y=Qc(),v=Cp({props:a,muiFormControl:y,states:["color","required","focused","disabled","error","filled"]}),S={...a,color:v.color||"primary",component:s,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required},w=t7e(S);return l.jsxs(n7e,{as:s,ownerState:S,className:dt(w.root,r),ref:n,...g,children:[i,v.required&&l.jsxs(a7e,{ownerState:S,"aria-hidden":!0,className:w.asterisk,children:["","*"]})]})}),dn=gde({createStyledComponent:qe("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:t=>Bt({props:t,name:"MuiGrid"}),useTheme:Fi});function p7(t){return`scale(${t}, ${t**2})`}const i7e={entering:{opacity:1,transform:p7(1)},entered:{opacity:1,transform:"none"}},NE=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),C2=E.forwardRef(function(e,n){const{addEndListener:a,appear:i=!0,children:r,easing:o,in:s,onEnter:c,onEntered:u,onEntering:d,onExit:h,onExited:m,onExiting:g,style:y,timeout:v="auto",TransitionComponent:S=cc,...w}=e,_=Wh(),T=E.useRef(),A=Fi(),R=E.useRef(null),I=oi(R,Sp(r),n),N=z=>F=>{if(z){const G=R.current;F===void 0?z(G):z(G,F)}},P=N(d),O=N((z,F)=>{Pj(z);const{duration:G,delay:ee,easing:V}=pp({style:y,timeout:v,easing:o},{mode:"enter"});let Y;v==="auto"?(Y=A.transitions.getAutoHeightDuration(z.clientHeight),T.current=Y):Y=G,z.style.transition=[A.transitions.create("opacity",{duration:Y,delay:ee}),A.transitions.create("transform",{duration:NE?Y:Y*.666,delay:ee,easing:V})].join(","),c&&c(z,F)}),D=N(u),H=N(g),L=N(z=>{const{duration:F,delay:G,easing:ee}=pp({style:y,timeout:v,easing:o},{mode:"exit"});let V;v==="auto"?(V=A.transitions.getAutoHeightDuration(z.clientHeight),T.current=V):V=F,z.style.transition=[A.transitions.create("opacity",{duration:V,delay:G}),A.transitions.create("transform",{duration:NE?V:V*.666,delay:NE?G:G||V*.333,easing:ee})].join(","),z.style.opacity=0,z.style.transform=p7(.75),h&&h(z)}),$=N(m),M=z=>{v==="auto"&&_.start(T.current||0,z),a&&a(R.current,z)};return l.jsx(S,{appear:i,in:s,nodeRef:R,onEnter:O,onEntered:D,onEntering:P,onExit:L,onExited:$,onExiting:H,addEndListener:M,timeout:v==="auto"?null:v,...w,children:(z,{ownerState:F,...G})=>E.cloneElement(r,{style:{opacity:0,transform:p7(.75),visibility:z==="exited"&&!s?"hidden":void 0,...i7e[z],...y,...r.props.style},ref:I,...G})})});C2&&(C2.muiSupportAuto=!0);const r7e=t=>{const{classes:e,disableUnderline:n}=t,i=Lt({root:["root",!n&&"underline"],input:["input"]},vke,e);return{...e,...i}},o7e=qe(Z_,{shouldForwardProp:t=>Sr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...X_(t,e),!n.disableUnderline&&e.underline]}})(kt(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:a})=>a.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Bx.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Bx.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Bx.disabled}, .${Bx.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Bx.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(sa()).map(([a])=>({props:{color:a,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[a].main}`}}}))]}})),s7e=qe(J_,{name:"MuiInput",slot:"Input",overridesResolver:Q_})({}),Yj=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:r={},componentsProps:o,fullWidth:s=!1,inputComponent:c="input",multiline:u=!1,slotProps:d,slots:h={},type:m="text",...g}=a,y=r7e(a),S={root:{ownerState:{disableUnderline:i}}},w=d??o?qr(d??o,S):S,_=h.root??r.Root??o7e,T=h.input??r.Input??s7e;return l.jsx(e5,{slots:{root:_,input:T},slotProps:w,fullWidth:s,inputComponent:c,multiline:u,ref:n,type:m,...g,classes:y})});Yj.muiName="Input";function l7e(t){return Pt("MuiInputAdornment",t)}const nz=Ft("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var az;const c7e=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Ge(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},u7e=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:a,position:i,size:r,variant:o}=t,s={root:["root",n&&"disablePointerEvents",i&&`position${Ge(i)}`,o,a&&"hiddenLabel",r&&`size${Ge(r)}`]};return Lt(s,l7e,e)},d7e=qe("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:c7e})(kt(({theme:t})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${nz.positionStart}&:not(.${nz.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),w2=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiInputAdornment"}),{children:i,className:r,component:o="div",disablePointerEvents:s=!1,disableTypography:c=!1,position:u,variant:d,...h}=a,m=Qc()||{};let g=d;d&&m.variant,m&&!g&&(g=m.variant);const y={...a,hiddenLabel:m.hiddenLabel,size:m.size,disablePointerEvents:s,position:u,variant:g},v=u7e(y);return l.jsx(K_.Provider,{value:null,children:l.jsx(d7e,{as:o,ownerState:y,className:dt(v.root,r),ref:n,...h,children:typeof i=="string"&&!c?l.jsx(ie,{color:"textSecondary",children:i}):l.jsxs(E.Fragment,{children:[u==="start"?az||(az=l.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,i]})})})});function f7e(t){return Pt("MuiInputLabel",t)}Ft("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const h7e=t=>{const{classes:e,formControl:n,size:a,shrink:i,disableAnimation:r,variant:o,required:s}=t,c={root:["root",n&&"formControl",!r&&"animated",i&&"shrink",a&&a!=="medium"&&`size${Ge(a)}`,o],asterisk:[s&&"asterisk"]},u=Lt(c,f7e,e);return{...e,...u}},p7e=qe($v,{shouldForwardProp:t=>Sr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Hv.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(kt(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:a})=>e==="filled"&&n.shrink&&a==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),Nr=E.forwardRef(function(e,n){const a=Bt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:r,shrink:o,variant:s,className:c,...u}=a,d=Qc();let h=o;typeof h>"u"&&d&&(h=d.filled||d.focused||d.adornedStart);const m=Cp({props:a,muiFormControl:d,states:["size","variant","required","focused"]}),g={...a,disableAnimation:i,formControl:d,shrink:h,size:m.size,variant:m.variant,required:m.required,focused:m.focused},y=h7e(g);return l.jsx(p7e,{"data-shrink":h,ref:n,className:dt(y.root,c),...u,ownerState:g,classes:y})});function m7e(t){return Pt("MuiLinearProgress",t)}Ft("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const m7=4,g7=ld`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,g7e=typeof g7!="string"?yp`
        animation: ${g7} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,b7=ld`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,b7e=typeof b7!="string"?yp`
        animation: ${b7} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,y7=ld`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,y7e=typeof y7!="string"?yp`
        animation: ${y7} 3s infinite linear;
      `:null,x7e=t=>{const{classes:e,variant:n,color:a}=t,i={root:["root",`color${Ge(a)}`,n],dashed:["dashed",`dashedColor${Ge(a)}`],bar1:["bar","bar1",`barColor${Ge(a)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",n!=="buffer"&&`barColor${Ge(a)}`,n==="buffer"&&`color${Ge(a)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return Lt(i,m7e,e)},Kj=(t,e)=>t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?t.lighten(t.palette[e].main,.62):t.darken(t.palette[e].main,.5),v7e=qe("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${Ge(n.color)}`],e[n.variant]]}})(kt(({theme:t})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(t.palette).filter(sa()).map(([e])=>({props:{color:e},style:{backgroundColor:Kj(t,e)}})),{props:({ownerState:e})=>e.color==="inherit"&&e.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),S7e=qe("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${Ge(n.color)}`]]}})(kt(({theme:t})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(t.palette).filter(sa()).map(([e])=>{const n=Kj(t,e);return{props:{color:e},style:{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`}}})]})),y7e||{animation:`${y7} 3s infinite linear`}),C7e=qe("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e.bar1,e[`barColor${Ge(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(kt(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(t.palette).filter(sa()).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main}})),{props:{variant:"determinate"},style:{transition:`transform .${m7}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${m7}s linear`}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:g7e||{animation:`${g7} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),w7e=qe("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e.bar2,e[`barColor${Ge(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(kt(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(t.palette).filter(sa()).map(([e])=>({props:{color:e},style:{"--LinearProgressBar2-barColor":(t.vars||t).palette[e].main}})),{props:({ownerState:e})=>e.variant!=="buffer"&&e.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:e})=>e.variant!=="buffer"&&e.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(t.palette).filter(sa()).map(([e])=>({props:{color:e,variant:"buffer"},style:{backgroundColor:Kj(t,e),transition:`transform .${m7}s linear`}})),{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:b7e||{animation:`${b7} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),oc=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiLinearProgress"}),{className:i,color:r="primary",value:o,valueBuffer:s,variant:c="indeterminate",...u}=a,d={...a,color:r,variant:c},h=x7e(d),m=cd(),g={},y={bar1:{},bar2:{}};if((c==="determinate"||c==="buffer")&&o!==void 0){g["aria-valuenow"]=Math.round(o),g["aria-valuemin"]=0,g["aria-valuemax"]=100;let v=o-100;m&&(v=-v),y.bar1.transform=`translateX(${v}%)`}if(c==="buffer"&&s!==void 0){let v=(s||0)-100;m&&(v=-v),y.bar2.transform=`translateX(${v}%)`}return l.jsxs(v7e,{className:dt(h.root,i),ownerState:d,role:"progressbar",...g,ref:n,...u,children:[c==="buffer"?l.jsx(S7e,{className:h.dashed,ownerState:d}):null,l.jsx(C7e,{className:h.bar1,ownerState:d,style:y.bar1}),c==="determinate"?null:l.jsx(w7e,{className:h.bar2,ownerState:d,style:y.bar2})]})});function _7e(t){return Pt("MuiLink",t)}const T7e=Ft("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),E7e=({theme:t,ownerState:e})=>{const n=e.color;if("colorSpace"in t&&t.colorSpace){const r=$u(t,`palette.${n}.main`)||$u(t,`palette.${n}`)||e.color;return t.alpha(r,.4)}const a=$u(t,`palette.${n}.main`,!1)||$u(t,`palette.${n}`,!1)||e.color,i=$u(t,`palette.${n}.mainChannel`)||$u(t,`palette.${n}Channel`);return"vars"in t&&i?`rgba(${i} / 0.4)`:gi(a,.4)},iz={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},A7e=t=>{const{classes:e,component:n,focusVisible:a,underline:i}=t,r={root:["root",`underline${Ge(i)}`,n==="button"&&"button",a&&"focusVisible"]};return Lt(r,_7e,e)},R7e=qe(ie,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`underline${Ge(n.underline)}`],n.component==="button"&&e.button]}})(kt(({theme:t})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:n})=>e==="always"&&n.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},{props:({underline:e,ownerState:n})=>e==="always"&&n.color==="inherit",style:t.colorSpace?{textDecorationColor:t.alpha("currentColor",.4)}:null},...Object.entries(t.palette).filter(sa()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":t.alpha((t.vars||t).palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.alpha((t.vars||t).palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.alpha((t.vars||t).palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${T7e.focusVisible}`]:{outline:"auto"}}}]}))),x7=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiLink"}),i=Fi(),{className:r,color:o="primary",component:s="a",onBlur:c,onFocus:u,TypographyClasses:d,underline:h="always",variant:m="inherit",sx:g,...y}=a,[v,S]=E.useState(!1),w=R=>{mp(R.target)||S(!1),c&&c(R)},_=R=>{mp(R.target)&&S(!0),u&&u(R)},T={...a,color:o,component:s,focusVisible:v,underline:h,variant:m},A=A7e(T);return l.jsx(R7e,{color:o,className:dt(A.root,r),classes:d,component:s,onBlur:w,onFocus:_,ref:n,ownerState:T,variant:m,...y,sx:[...iz[o]===void 0?[{color:o}]:[],...Array.isArray(g)?g:[g]],style:{...y.style,...h==="always"&&o!=="inherit"&&!iz[o]&&{"--Link-underlineColor":E7e({theme:i,ownerState:T})}}})}),Hc=E.createContext({});function k7e(t){return Pt("MuiList",t)}Ft("MuiList",["root","padding","dense","subheader"]);const I7e=t=>{const{classes:e,disablePadding:n,dense:a,subheader:i}=t;return Lt({root:["root",!n&&"padding",a&&"dense",i&&"subheader"]},k7e,e)},N7e=qe("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),Ms=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiList"}),{children:i,className:r,component:o="ul",dense:s=!1,disablePadding:c=!1,subheader:u,...d}=a,h=E.useMemo(()=>({dense:s}),[s]),m={...a,component:o,dense:s,disablePadding:c},g=I7e(m);return l.jsx(Hc.Provider,{value:h,children:l.jsxs(N7e,{as:o,className:dt(g.root,r),ref:n,ownerState:m,...d,children:[u,i]})})});function j7e(t){return Pt("MuiListItem",t)}Ft("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function D7e(t){return Pt("MuiListItemButton",t)}const N1=Ft("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),O7e=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},M7e=t=>{const{alignItems:e,classes:n,dense:a,disabled:i,disableGutters:r,divider:o,selected:s}=t,u=Lt({root:["root",a&&"dense",!r&&"gutters",o&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",s&&"selected"]},D7e,n);return{...n,...u}},P7e=qe(ts,{shouldForwardProp:t=>Sr(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:O7e})(kt(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${N1.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${N1.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${N1.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${N1.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${N1.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),gp=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:r=!1,component:o="div",children:s,dense:c=!1,disableGutters:u=!1,divider:d=!1,focusVisibleClassName:h,selected:m=!1,className:g,...y}=a,v=E.useContext(Hc),S=E.useMemo(()=>({dense:c||v.dense||!1,alignItems:i,disableGutters:u}),[i,v.dense,c,u]),w=E.useRef(null);Io(()=>{r&&w.current&&w.current.focus()},[r]);const _={...a,alignItems:i,dense:S.dense,disableGutters:u,divider:d,selected:m},T=M7e(_),A=oi(w,n);return l.jsx(Hc.Provider,{value:S,children:l.jsx(P7e,{ref:A,href:y.href||y.to,component:(y.href||y.to)&&o==="div"?"button":o,focusVisibleClassName:dt(T.focusVisible,h),ownerState:_,className:dt(T.root,g),...y,classes:T,children:s})})});function L7e(t){return Pt("MuiListItemSecondaryAction",t)}Ft("MuiListItemSecondaryAction",["root","disableGutters"]);const z7e=t=>{const{disableGutters:e,classes:n}=t;return Lt({root:["root",e&&"disableGutters"]},L7e,n)},F7e=qe("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),Xj=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiListItemSecondaryAction"}),{className:i,...r}=a,o=E.useContext(Hc),s={...a,disableGutters:o.disableGutters},c=z7e(s);return l.jsx(F7e,{className:dt(c.root,i),ownerState:s,ref:n,...r})});Xj.muiName="ListItemSecondaryAction";const B7e=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.hasSecondaryAction&&e.secondaryAction]},H7e=t=>{const{alignItems:e,classes:n,dense:a,disableGutters:i,disablePadding:r,divider:o,hasSecondaryAction:s}=t;return Lt({root:["root",a&&"dense",!i&&"gutters",!r&&"padding",o&&"divider",e==="flex-start"&&"alignItemsFlexStart",s&&"secondaryAction"],container:["container"]},j7e,n)},$7e=qe("div",{name:"MuiListItem",slot:"Root",overridesResolver:B7e})(kt(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${N1.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),U7e=qe("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),yf=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiListItem"}),{alignItems:i="center",children:r,className:o,component:s,components:c={},componentsProps:u={},ContainerComponent:d="li",ContainerProps:{className:h,...m}={},dense:g=!1,disableGutters:y=!1,disablePadding:v=!1,divider:S=!1,secondaryAction:w,slotProps:_={},slots:T={},...A}=a,R=E.useContext(Hc),I=E.useMemo(()=>({dense:g||R.dense||!1,alignItems:i,disableGutters:y}),[i,R.dense,g,y]),N=E.useRef(null),P=E.Children.toArray(r),O=P.length&&Mv(P[P.length-1],["ListItemSecondaryAction"]),D={...a,alignItems:i,dense:I.dense,disableGutters:y,disablePadding:v,divider:S,hasSecondaryAction:O},H=H7e(D),L=oi(N,n),$=T.root||c.Root||$7e,M=_.root||u.root||{},z={className:dt(H.root,M.className,o),...A};let F=s||"li";return O?(F=!z.component&&!s?"div":F,d==="li"&&(F==="li"?F="div":z.component==="li"&&(z.component="div")),l.jsx(Hc.Provider,{value:I,children:l.jsxs(U7e,{as:d,className:dt(H.container,h),ref:L,ownerState:D,...m,children:[l.jsx($,{...M,...!Xu($)&&{as:F,ownerState:{...D,...M.ownerState}},...z,children:P}),P.pop()]})})):l.jsx(Hc.Provider,{value:I,children:l.jsxs($,{...M,as:F,ref:L,...!Xu($)&&{ownerState:{...D,...M.ownerState}},...z,children:[P,w&&l.jsx(Xj,{children:w})]})})});function G7e(t){return Pt("MuiListItemIcon",t)}const rz=Ft("MuiListItemIcon",["root","alignItemsFlexStart"]),q7e=t=>{const{alignItems:e,classes:n}=t;return Lt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},G7e,n)},W7e=qe("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(kt(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Ao=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiListItemIcon"}),{className:i,...r}=a,o=E.useContext(Hc),s={...a,alignItems:o.alignItems},c=q7e(s);return l.jsx(W7e,{className:dt(c.root,i),ownerState:s,ref:n,...r})});function V7e(t){return Pt("MuiListItemText",t)}const P1=Ft("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Y7e=t=>{const{classes:e,inset:n,primary:a,secondary:i,dense:r}=t;return Lt({root:["root",n&&"inset",r&&"dense",a&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},V7e,e)},K7e=qe("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${P1.primary}`]:e.primary},{[`& .${P1.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${RL.root}:where(& .${P1.primary})`]:{display:"block"},[`.${RL.root}:where(& .${P1.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),ar=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiListItemText"}),{children:i,className:r,disableTypography:o=!1,inset:s=!1,primary:c,primaryTypographyProps:u,secondary:d,secondaryTypographyProps:h,slots:m={},slotProps:g={},...y}=a,{dense:v}=E.useContext(Hc);let S=c??i,w=d;const _={...a,disableTypography:o,inset:s,primary:!!S,secondary:!!w,dense:v},T=Y7e(_),A={slots:m,slotProps:{primary:u,secondary:h,...g}},[R,I]=qt("root",{className:dt(T.root,r),elementType:K7e,externalForwardedProps:{...A,...y},ownerState:_,ref:n}),[N,P]=qt("primary",{className:T.primary,elementType:ie,externalForwardedProps:A,ownerState:_}),[O,D]=qt("secondary",{className:T.secondary,elementType:ie,externalForwardedProps:A,ownerState:_});return S!=null&&S.type!==ie&&!o&&(S=l.jsx(N,{variant:v?"body2":"body1",component:P?.variant?void 0:"span",...P,children:S})),w!=null&&w.type!==ie&&!o&&(w=l.jsx(O,{variant:"body2",color:"textSecondary",...D,children:w})),l.jsxs(R,{...I,children:[S,w]})});function jE(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function oz(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function mQ(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function Hx(t,e,n,a,i,r){let o=!1,s=i(t,e,e?n:!1);for(;s;){if(s===t.firstChild){if(o)return!1;o=!0}const c=a?!1:s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||!mQ(s,r)||c)s=i(t,s,n);else return s.focus(),!0}return!1}const X7e=E.forwardRef(function(e,n){const{actions:a,autoFocus:i=!1,autoFocusItem:r=!1,children:o,className:s,disabledItemsFocusable:c=!1,disableListWrap:u=!1,onKeyDown:d,variant:h="selectedMenu",...m}=e,g=E.useRef(null),y=E.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Io(()=>{i&&g.current.focus()},[i]),E.useImperativeHandle(a,()=>({adjustStyleForScrollbar:(T,{direction:A})=>{const R=!g.current.style.width;if(T.clientHeight<g.current.clientHeight&&R){const I=`${dQ(il(T))}px`;g.current.style[A==="rtl"?"paddingLeft":"paddingRight"]=I,g.current.style.width=`calc(100% + ${I})`}return g.current}}),[]);const v=T=>{const A=g.current,R=T.key;if(T.ctrlKey||T.metaKey||T.altKey){d&&d(T);return}const N=sr(A).activeElement;if(R==="ArrowDown")T.preventDefault(),Hx(A,N,u,c,jE);else if(R==="ArrowUp")T.preventDefault(),Hx(A,N,u,c,oz);else if(R==="Home")T.preventDefault(),Hx(A,null,u,c,jE);else if(R==="End")T.preventDefault(),Hx(A,null,u,c,oz);else if(R.length===1){const P=y.current,O=R.toLowerCase(),D=performance.now();P.keys.length>0&&(D-P.lastTime>500?(P.keys=[],P.repeating=!0,P.previousKeyMatched=!0):P.repeating&&O!==P.keys[0]&&(P.repeating=!1)),P.lastTime=D,P.keys.push(O);const H=N&&!P.repeating&&mQ(N,P);P.previousKeyMatched&&(H||Hx(A,N,!1,c,jE,P))?T.preventDefault():P.previousKeyMatched=!1}d&&d(T)},S=oi(g,n);let w=-1;E.Children.forEach(o,(T,A)=>{if(!E.isValidElement(T)){w===A&&(w+=1,w>=o.length&&(w=-1));return}T.props.disabled||(h==="selectedMenu"&&T.props.selected||w===-1)&&(w=A),w===A&&(T.props.disabled||T.props.muiSkipListHighlight||T.type.muiSkipListHighlight)&&(w+=1,w>=o.length&&(w=-1))});const _=E.Children.map(o,(T,A)=>{if(A===w){const R={};return r&&(R.autoFocus=!0),T.props.tabIndex===void 0&&h==="selectedMenu"&&(R.tabIndex=0),E.cloneElement(T,R)}return T});return l.jsx(Ms,{role:"menu",ref:S,className:s,onKeyDown:v,tabIndex:i?0:-1,...m,children:_})});function Q7e(t){return Pt("MuiPopover",t)}Ft("MuiPopover",["root","paper"]);function sz(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function lz(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function cz(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function YC(t){return typeof t=="function"?t():t}const Z7e=t=>{const{classes:e}=t;return Lt({root:["root"],paper:["paper"]},Q7e,e)},J7e=qe(Wj,{name:"MuiPopover",slot:"Root"})({}),gQ=qe(Gt,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),eNe=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiPopover"}),{action:i,anchorEl:r,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:s,anchorReference:c="anchorEl",children:u,className:d,container:h,elevation:m=8,marginThreshold:g=16,open:y,PaperProps:v={},slots:S={},slotProps:w={},transformOrigin:_={vertical:"top",horizontal:"left"},TransitionComponent:T,transitionDuration:A="auto",TransitionProps:R={},disableScrollLock:I=!1,...N}=a,P=E.useRef(),O={...a,anchorOrigin:o,anchorReference:c,elevation:m,marginThreshold:g,transformOrigin:_,TransitionComponent:T,transitionDuration:A,TransitionProps:R},D=Z7e(O),H=E.useCallback(()=>{if(c==="anchorPosition")return s;const ge=YC(r),he=(ge&&ge.nodeType===1?ge:sr(P.current).body).getBoundingClientRect();return{top:he.top+sz(he,o.vertical),left:he.left+lz(he,o.horizontal)}},[r,o.horizontal,o.vertical,s,c]),L=E.useCallback(ge=>({vertical:sz(ge,_.vertical),horizontal:lz(ge,_.horizontal)}),[_.horizontal,_.vertical]),$=E.useCallback(ge=>{const ye={width:ge.offsetWidth,height:ge.offsetHeight},he=L(ye);if(c==="none")return{top:null,left:null,transformOrigin:cz(he)};const de=H();let fe=de.top-he.vertical,oe=de.left-he.horizontal;const ue=fe+ye.height,le=oe+ye.width,Se=il(YC(r)),_e=Se.innerHeight-g,Ie=Se.innerWidth-g;if(g!==null&&fe<g){const ze=fe-g;fe-=ze,he.vertical+=ze}else if(g!==null&&ue>_e){const ze=ue-_e;fe-=ze,he.vertical+=ze}if(g!==null&&oe<g){const ze=oe-g;oe-=ze,he.horizontal+=ze}else if(le>Ie){const ze=le-Ie;oe-=ze,he.horizontal+=ze}return{top:`${Math.round(fe)}px`,left:`${Math.round(oe)}px`,transformOrigin:cz(he)}},[r,c,H,L,g]),[M,z]=E.useState(y),F=E.useCallback(()=>{const ge=P.current;if(!ge)return;const ye=$(ge);ye.top!==null&&ge.style.setProperty("top",ye.top),ye.left!==null&&(ge.style.left=ye.left),ge.style.transformOrigin=ye.transformOrigin,z(!0)},[$]);E.useEffect(()=>(I&&window.addEventListener("scroll",F),()=>window.removeEventListener("scroll",F)),[r,I,F]);const G=()=>{F()},ee=()=>{z(!1)};E.useEffect(()=>{y&&F()}),E.useImperativeHandle(i,()=>y?{updatePosition:()=>{F()}}:null,[y,F]),E.useEffect(()=>{if(!y)return;const ge=cS(()=>{F()}),ye=il(YC(r));return ye.addEventListener("resize",ge),()=>{ge.clear(),ye.removeEventListener("resize",ge)}},[r,y,F]);let V=A;const Y={slots:{transition:T,...S},slotProps:{transition:R,paper:v,...w}},[K,J]=qt("transition",{elementType:C2,externalForwardedProps:Y,ownerState:O,getSlotProps:ge=>({...ge,onEntering:(ye,he)=>{ge.onEntering?.(ye,he),G()},onExited:ye=>{ge.onExited?.(ye),ee()}}),additionalProps:{appear:!0,in:y}});A==="auto"&&!K.muiSupportAuto&&(V=void 0);const W=h||(r?sr(YC(r)).body:void 0),[te,{slots:re,slotProps:ne,...ce}]=qt("root",{ref:n,elementType:J7e,externalForwardedProps:{...Y,...N},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:S.backdrop},slotProps:{backdrop:Dj(typeof w.backdrop=="function"?w.backdrop(O):w.backdrop,{invisible:!0})},container:W,open:y},ownerState:O,className:dt(D.root,d)}),[pe,me]=qt("paper",{ref:P,className:D.paper,elementType:gQ,externalForwardedProps:Y,shouldForwardComponentProp:!0,additionalProps:{elevation:m,style:M?void 0:{opacity:0}},ownerState:O});return l.jsx(te,{...ce,...!Xu(te)&&{slots:re,slotProps:ne,disableScrollLock:I},children:l.jsx(K,{...J,timeout:V,children:l.jsx(pe,{...me,children:u})})})});function tNe(t){return Pt("MuiMenu",t)}Ft("MuiMenu",["root","paper","list"]);const nNe={vertical:"top",horizontal:"right"},aNe={vertical:"top",horizontal:"left"},iNe=t=>{const{classes:e}=t;return Lt({root:["root"],paper:["paper"],list:["list"]},tNe,e)},rNe=qe(eNe,{shouldForwardProp:t=>Sr(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),oNe=qe(gQ,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),sNe=qe(X7e,{name:"MuiMenu",slot:"List"})({outline:0}),jb=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:r,className:o,disableAutoFocusItem:s=!1,MenuListProps:c={},onClose:u,open:d,PaperProps:h={},PopoverClasses:m,transitionDuration:g="auto",TransitionProps:{onEntering:y,...v}={},variant:S="selectedMenu",slots:w={},slotProps:_={},...T}=a,A=cd(),R={...a,autoFocus:i,disableAutoFocusItem:s,MenuListProps:c,onEntering:y,PaperProps:h,transitionDuration:g,TransitionProps:v,variant:S},I=iNe(R),N=i&&!s&&d,P=E.useRef(null),O=(V,Y)=>{P.current&&P.current.adjustStyleForScrollbar(V,{direction:A?"rtl":"ltr"}),y&&y(V,Y)},D=V=>{V.key==="Tab"&&(V.preventDefault(),u&&u(V,"tabKeyDown"))};let H=-1;E.Children.map(r,(V,Y)=>{E.isValidElement(V)&&(V.props.disabled||(S==="selectedMenu"&&V.props.selected||H===-1)&&(H=Y))});const L={slots:w,slotProps:{list:c,transition:v,paper:h,..._}},$=Zo({elementType:w.root,externalSlotProps:_.root,ownerState:R,className:[I.root,o]}),[M,z]=qt("paper",{className:I.paper,elementType:oNe,externalForwardedProps:L,shouldForwardComponentProp:!0,ownerState:R}),[F,G]=qt("list",{className:dt(I.list,c.className),elementType:sNe,shouldForwardComponentProp:!0,externalForwardedProps:L,getSlotProps:V=>({...V,onKeyDown:Y=>{D(Y),V.onKeyDown?.(Y)}}),ownerState:R}),ee=typeof L.slotProps.transition=="function"?L.slotProps.transition(R):L.slotProps.transition;return l.jsx(rNe,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:A?"right":"left"},transformOrigin:A?nNe:aNe,slots:{root:w.root,paper:M,backdrop:w.backdrop,...w.transition&&{transition:w.transition}},slotProps:{root:$,paper:z,backdrop:typeof _.backdrop=="function"?_.backdrop(R):_.backdrop,transition:{...ee,onEntering:(...V)=>{O(...V),ee?.onEntering?.(...V)}}},open:d,ref:n,transitionDuration:g,ownerState:R,...T,classes:m,children:l.jsx(F,{actions:P,autoFocus:i&&(H===-1||s),autoFocusItem:N,variant:S,...G,children:r})})});function lNe(t){return Pt("MuiMenuItem",t)}const $x=Ft("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),cNe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},uNe=t=>{const{disabled:e,dense:n,divider:a,disableGutters:i,selected:r,classes:o}=t,c=Lt({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",a&&"divider",r&&"selected"]},lNe,o);return{...o,...c}},dNe=qe(ts,{shouldForwardProp:t=>Sr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:cNe})(kt(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${$x.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${$x.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${$x.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${$x.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${$x.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${ZL.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${ZL.inset}`]:{marginLeft:52},[`& .${P1.root}`]:{marginTop:0,marginBottom:0},[`& .${P1.inset}`]:{paddingLeft:36},[`& .${rz.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${rz.root} svg`]:{fontSize:"1.25rem"}}}]}))),nn=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:r="li",dense:o=!1,divider:s=!1,disableGutters:c=!1,focusVisibleClassName:u,role:d="menuitem",tabIndex:h,className:m,...g}=a,y=E.useContext(Hc),v=E.useMemo(()=>({dense:o||y.dense||!1,disableGutters:c}),[y.dense,o,c]),S=E.useRef(null);Io(()=>{i&&S.current&&S.current.focus()},[i]);const w={...a,dense:v.dense,divider:s,disableGutters:c},_=uNe(a),T=oi(S,n);let A;return a.disabled||(A=h!==void 0?h:-1),l.jsx(Hc.Provider,{value:v,children:l.jsx(dNe,{ref:T,role:d,tabIndex:A,component:r,focusVisibleClassName:dt(_.focusVisible,u),className:dt(_.root,m),...g,ownerState:w,classes:_})})});function fNe(t){return Pt("MuiNativeSelect",t)}const Qj=Ft("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),hNe=t=>{const{classes:e,variant:n,disabled:a,multiple:i,open:r,error:o}=t,s={select:["select",n,a&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Ge(n)}`,r&&"iconOpen",a&&"disabled"]};return Lt(s,fNe,e)},bQ=qe("select",{name:"MuiNativeSelect"})(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${Qj.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),pNe=qe(bQ,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Sr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${Qj.multiple}`]:e.multiple}]}})({}),yQ=qe("svg",{name:"MuiNativeSelect"})(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${Qj.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),mNe=qe(yQ,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ge(n.variant)}`],n.open&&e.iconOpen]}})({}),gNe=E.forwardRef(function(e,n){const{className:a,disabled:i,error:r,IconComponent:o,inputRef:s,variant:c="standard",...u}=e,d={...e,disabled:i,variant:c,error:r},h=hNe(d);return l.jsxs(E.Fragment,{children:[l.jsx(pNe,{ownerState:d,className:dt(h.select,a),disabled:i,ref:s||n,...u}),e.multiple?null:l.jsx(mNe,{as:o,ownerState:d,className:h.icon})]})});var uz;const bNe=qe("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Sr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),yNe=qe("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Sr})(kt(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function xNe(t){const{children:e,classes:n,className:a,label:i,notched:r,...o}=t,s=i!=null&&i!=="",c={...t,notched:r,withLabel:s};return l.jsx(bNe,{"aria-hidden":!0,className:a,ownerState:c,...o,children:l.jsx(yNe,{ownerState:c,children:s?l.jsx("span",{children:i}):uz||(uz=l.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const vNe=t=>{const{classes:e}=t,a=Lt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Ske,e);return{...e,...a}},SNe=qe(Z_,{shouldForwardProp:t=>Sr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:X_})(kt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Pu.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Pu.notchedOutline}`]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}},[`&.${Pu.focused} .${Pu.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(sa()).map(([n])=>({props:{color:n},style:{[`&.${Pu.focused} .${Pu.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${Pu.error} .${Pu.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Pu.disabled} .${Pu.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:a})=>n.multiline&&a==="small",style:{padding:"8.5px 14px"}}]}})),CNe=qe(xNe,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(kt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}})),wNe=qe(J_,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Q_})(kt(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),Zj=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiOutlinedInput"}),{components:i={},fullWidth:r=!1,inputComponent:o="input",label:s,multiline:c=!1,notched:u,slots:d={},slotProps:h={},type:m="text",...g}=a,y=vNe(a),v=Qc(),S=Cp({props:a,muiFormControl:v,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),w={...a,color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:v,fullWidth:r,hiddenLabel:S.hiddenLabel,multiline:c,size:S.size,type:m},_=d.root??i.Root??SNe,T=d.input??i.Input??wNe,[A,R]=qt("notchedOutline",{elementType:CNe,className:y.notchedOutline,shouldForwardComponentProp:!0,ownerState:w,externalForwardedProps:{slots:d,slotProps:h},additionalProps:{label:s!=null&&s!==""&&S.required?l.jsxs(E.Fragment,{children:[s,"","*"]}):s}});return l.jsx(e5,{slots:{root:_,input:T},slotProps:h,renderSuffix:I=>l.jsx(A,{...R,notched:typeof u<"u"?u:!!(I.startAdornment||I.filled||I.focused)}),fullWidth:r,inputComponent:o,multiline:c,ref:n,type:m,...g,classes:{...y,notchedOutline:null}})});Zj.muiName="Input";function _Ne(t){return Pt("MuiPagination",t)}Ft("MuiPagination",["root","ul","outlined","text"]);function TNe(t={}){const{boundaryCount:e=1,componentName:n="usePagination",count:a=1,defaultPage:i=1,disabled:r=!1,hideNextButton:o=!1,hidePrevButton:s=!1,onChange:c,page:u,showFirstButton:d=!1,showLastButton:h=!1,siblingCount:m=1,...g}=t,[y,v]=hp({controlled:u,default:i,name:n,state:"page"}),S=(O,D)=>{u||v(D),c&&c(O,D)},w=(O,D)=>{const H=D-O+1;return Array.from({length:H},(L,$)=>O+$)},_=w(1,Math.min(e,a)),T=w(Math.max(a-e+1,e+1),a),A=Math.max(Math.min(y-m,a-e-m*2-1),e+2),R=Math.min(Math.max(y+m,e+m*2+2),a-e-1),I=[...d?["first"]:[],...s?[]:["previous"],..._,...A>e+2?["start-ellipsis"]:e+1<a-e?[e+1]:[],...w(A,R),...R<a-e-1?["end-ellipsis"]:a-e>e?[a-e]:[],...T,...o?[]:["next"],...h?["last"]:[]],N=O=>{switch(O){case"first":return 1;case"previous":return y-1;case"next":return y+1;case"last":return a;default:return null}};return{items:I.map(O=>typeof O=="number"?{onClick:D=>{S(D,O)},type:"page",page:O,selected:O===y,disabled:r,"aria-current":O===y?"page":void 0}:{onClick:D=>{S(D,N(O))},type:O,page:N(O),selected:!1,disabled:r||!O.includes("ellipsis")&&(O==="next"||O==="last"?y>=a:y<=1)}),...g}}function ENe(t){return Pt("MuiPaginationItem",t)}const Yo=Ft("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),xQ=ft(l.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),vQ=ft(l.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"})),ANe=ft(l.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),RNe=ft(l.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),SQ=(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Ge(n.size)}`],n.variant==="text"&&e[`text${Ge(n.color)}`],n.variant==="outlined"&&e[`outlined${Ge(n.color)}`],n.shape==="rounded"&&e.rounded,n.type==="page"&&e.page,(n.type==="start-ellipsis"||n.type==="end-ellipsis")&&e.ellipsis,(n.type==="previous"||n.type==="next")&&e.previousNext,(n.type==="first"||n.type==="last")&&e.firstLast]},kNe=t=>{const{classes:e,color:n,disabled:a,selected:i,size:r,shape:o,type:s,variant:c}=t,u={root:["root",`size${Ge(r)}`,c,o,n!=="standard"&&`color${Ge(n)}`,n!=="standard"&&`${c}${Ge(n)}`,a&&"disabled",i&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[s]],icon:["icon"]};return Lt(u,ENe,e)},INe=qe("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:SQ})(kt(({theme:t})=>({...t.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,height:"auto",[`&.${Yo.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:{size:"small"},style:{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)}}]}))),NNe=qe(ts,{name:"MuiPaginationItem",slot:"Root",overridesResolver:SQ})(kt(({theme:t})=>({...t.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,[`&.${Yo.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Yo.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},transition:t.transitions.create(["color","background-color"],{duration:t.transitions.duration.short}),"&:hover":{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Yo.selected}`]:{backgroundColor:(t.vars||t).palette.action.selected,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${Yo.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},[`&.${Yo.disabled}`]:{opacity:1,color:(t.vars||t).palette.action.disabled,backgroundColor:(t.vars||t).palette.action.selected}},variants:[{props:{size:"small"},style:{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)}},{props:{shape:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"outlined"},style:{border:t.vars?`1px solid ${t.alpha(t.vars.palette.common.onBackground,.23)}`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Yo.selected}`]:{[`&.${Yo.disabled}`]:{borderColor:(t.vars||t).palette.action.disabledBackground,color:(t.vars||t).palette.action.disabled}}}},{props:{variant:"text"},style:{[`&.${Yo.selected}`]:{[`&.${Yo.disabled}`]:{color:(t.vars||t).palette.action.disabled}}}},...Object.entries(t.palette).filter(sa(["dark","contrastText"])).map(([e])=>({props:{variant:"text",color:e},style:{[`&.${Yo.selected}`]:{color:(t.vars||t).palette[e].contrastText,backgroundColor:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:(t.vars||t).palette[e].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e].main}},[`&.${Yo.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e].dark},[`&.${Yo.disabled}`]:{color:(t.vars||t).palette.action.disabled}}}})),...Object.entries(t.palette).filter(sa(["light"])).map(([e])=>({props:{variant:"outlined",color:e},style:{[`&.${Yo.selected}`]:{color:(t.vars||t).palette[e].main,border:`1px solid ${t.alpha((t.vars||t).palette[e].main,.5)}`,backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.activatedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,`${(t.vars||t).palette.action.activatedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Yo.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[e].main,`${(t.vars||t).palette.action.activatedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}}}))]}))),jNe=qe("div",{name:"MuiPaginationItem",slot:"Icon"})(kt(({theme:t})=>({fontSize:t.typography.pxToRem(20),margin:"0 -8px",variants:[{props:{size:"small"},style:{fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:t.typography.pxToRem(22)}}]}))),DNe=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiPaginationItem"}),{className:i,color:r="standard",component:o,components:s={},disabled:c=!1,page:u,selected:d=!1,shape:h="circular",size:m="medium",slots:g={},slotProps:y={},type:v="page",variant:S="text",...w}=a,_={...a,color:r,disabled:c,selected:d,shape:h,size:m,type:v,variant:S},T=cd(),A=kNe(_),R={slots:{previous:g.previous??s.previous,next:g.next??s.next,first:g.first??s.first,last:g.last??s.last},slotProps:y},[I,N]=qt("previous",{elementType:ANe,externalForwardedProps:R,ownerState:_}),[P,O]=qt("next",{elementType:RNe,externalForwardedProps:R,ownerState:_}),[D,H]=qt("first",{elementType:xQ,externalForwardedProps:R,ownerState:_}),[L,$]=qt("last",{elementType:vQ,externalForwardedProps:R,ownerState:_}),M=T?{previous:"next",next:"previous",first:"last",last:"first"}[v]:v,z={previous:I,next:P,first:D,last:L}[M],F={previous:N,next:O,first:H,last:$}[M];return v==="start-ellipsis"||v==="end-ellipsis"?l.jsx(INe,{ref:n,ownerState:_,className:dt(A.root,i),children:""}):l.jsxs(NNe,{ref:n,ownerState:_,component:o,disabled:c,className:dt(A.root,i),...w,children:[v==="page"&&u,z?l.jsx(jNe,{...F,className:A.icon,as:z}):null]})}),ONe=t=>{const{classes:e,variant:n}=t;return Lt({root:["root",n],ul:["ul"]},_Ne,e)},MNe=qe("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant]]}})({}),PNe=qe("ul",{name:"MuiPagination",slot:"Ul"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function LNe(t,e,n){return t==="page"?`${n?"":"Go to "}page ${e}`:`Go to ${t} page`}const zNe=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiPagination"}),{boundaryCount:i=1,className:r,color:o="standard",count:s=1,defaultPage:c=1,disabled:u=!1,getItemAriaLabel:d=LNe,hideNextButton:h=!1,hidePrevButton:m=!1,onChange:g,page:y,renderItem:v=D=>l.jsx(DNe,{...D}),shape:S="circular",showFirstButton:w=!1,showLastButton:_=!1,siblingCount:T=1,size:A="medium",variant:R="text",...I}=a,{items:N}=TNe({...a,componentName:"Pagination"}),P={...a,boundaryCount:i,color:o,count:s,defaultPage:c,disabled:u,getItemAriaLabel:d,hideNextButton:h,hidePrevButton:m,renderItem:v,shape:S,showFirstButton:w,showLastButton:_,siblingCount:T,size:A,variant:R},O=ONe(P);return l.jsx(MNe,{"aria-label":"pagination navigation",className:dt(O.root,r),ownerState:P,ref:n,...I,children:l.jsx(PNe,{className:O.ul,ownerState:P,children:N.map((D,H)=>l.jsx("li",{children:v({...D,color:o,"aria-label":d(D.type,D.page,D.selected),shape:S,size:A,variant:R})},H))})})}),FNe=ft(l.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),BNe=ft(l.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"})),HNe=qe("span",{name:"MuiRadioButtonIcon",shouldForwardProp:Sr})({position:"relative",display:"flex"}),$Ne=qe(FNe,{name:"MuiRadioButtonIcon"})({transform:"scale(1)"}),UNe=qe(BNe,{name:"MuiRadioButtonIcon"})(kt(({theme:t})=>({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})}}]})));function CQ(t){const{checked:e=!1,classes:n={},fontSize:a}=t,i={...t,checked:e};return l.jsxs(HNe,{className:n.root,ownerState:i,children:[l.jsx($Ne,{fontSize:a,className:n.background,ownerState:i}),l.jsx(UNe,{fontSize:a,className:n.dot,ownerState:i})]})}const wQ=E.createContext(void 0);function GNe(){return E.useContext(wQ)}function qNe(t){return Pt("MuiRadio",t)}const dz=Ft("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),WNe=t=>{const{classes:e,color:n,size:a}=t,i={root:["root",`color${Ge(n)}`,a!=="medium"&&`size${Ge(a)}`]};return{...e,...Lt(i,qNe,e)}},VNe=qe(qj,{shouldForwardProp:t=>Sr(t)||t==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size!=="medium"&&e[`size${Ge(n.size)}`],e[`color${Ge(n.color)}`]]}})(kt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,[`&.${dz.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(sa()).map(([e])=>({props:{color:e,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(sa()).map(([e])=>({props:{color:e,disabled:!1},style:{[`&.${dz.checked}`]:{color:(t.vars||t).palette[e].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]})));function YNe(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}const KNe=l.jsx(CQ,{checked:!0}),XNe=l.jsx(CQ,{}),Xs=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiRadio"}),{checked:i,checkedIcon:r=KNe,color:o="primary",icon:s=XNe,name:c,onChange:u,size:d="medium",className:h,disabled:m,disableRipple:g=!1,slots:y={},slotProps:v={},inputProps:S,...w}=a,_=Qc();let T=m;_&&typeof T>"u"&&(T=_.disabled),T??=!1;const A={...a,disabled:T,disableRipple:g,color:o,size:d},R=WNe(A),I=GNe();let N=i;const P=t7(u,I&&I.onChange);let O=c;I&&(typeof N>"u"&&(N=YNe(I.value,a.value)),typeof O>"u"&&(O=I.name));const D=v.input??S,[H,L]=qt("root",{ref:n,elementType:VNe,className:dt(R.root,h),shouldForwardComponentProp:!0,externalForwardedProps:{slots:y,slotProps:v,...w},getSlotProps:$=>({...$,onChange:(M,...z)=>{$.onChange?.(M,...z),P(M,...z)}}),ownerState:A,additionalProps:{type:"radio",icon:E.cloneElement(s,{fontSize:s.props.fontSize??d}),checkedIcon:E.cloneElement(r,{fontSize:r.props.fontSize??d}),disabled:T,name:O,checked:N,slots:y,slotProps:{input:typeof D=="function"?D(A):D}}});return l.jsx(H,{...L,classes:R})});function QNe(t){return Pt("MuiRadioGroup",t)}Ft("MuiRadioGroup",["root","row","error"]);const ZNe=t=>{const{classes:e,row:n,error:a}=t;return Lt({root:["root",n&&"row",a&&"error"]},QNe,e)},U1=E.forwardRef(function(e,n){const{actions:a,children:i,className:r,defaultValue:o,name:s,onChange:c,value:u,...d}=e,h=E.useRef(null),m=ZNe(e),[g,y]=hp({controlled:u,default:o,name:"RadioGroup"});E.useImperativeHandle(a,()=>({focus:()=>{let _=h.current.querySelector("input:not(:disabled):checked");_||(_=h.current.querySelector("input:not(:disabled)")),_&&_.focus()}}),[]);const v=oi(n,h),S=nd(s),w=E.useMemo(()=>({name:S,onChange(_){y(_.target.value),c&&c(_,_.target.value)},value:g}),[S,c,y,g]);return l.jsx(wQ.Provider,{value:w,children:l.jsx(h7,{role:"radiogroup",ref:v,className:dt(m.root,r),...d,children:i})})}),JNe={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function _Q(t){return Pt("MuiSelect",t)}const Ux=Ft("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var fz;const eje=qe(bQ,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Ux.select}`]:e.select},{[`&.${Ux.select}`]:e[n.variant]},{[`&.${Ux.error}`]:e.error},{[`&.${Ux.multiple}`]:e.multiple}]}})({[`&.${Ux.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),tje=qe(yQ,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ge(n.variant)}`],n.open&&e.iconOpen]}})({}),nje=qe("input",{shouldForwardProp:t=>G_(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function hz(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function aje(t){return t==null||typeof t=="string"&&!t.trim()}const ije=t=>{const{classes:e,variant:n,disabled:a,multiple:i,open:r,error:o}=t,s={select:["select",n,a&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Ge(n)}`,r&&"iconOpen",a&&"disabled"],nativeInput:["nativeInput"]};return Lt(s,_Q,e)},rje=E.forwardRef(function(e,n){const{"aria-describedby":a,"aria-label":i,autoFocus:r,autoWidth:o,children:s,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:m,error:g=!1,IconComponent:y,inputRef:v,labelId:S,MenuProps:w={},multiple:_,name:T,onBlur:A,onChange:R,onClose:I,onFocus:N,onOpen:P,open:O,readOnly:D,renderValue:H,required:L,SelectDisplayProps:$={},tabIndex:M,type:z,value:F,variant:G="standard",...ee}=e,[V,Y]=hp({controlled:F,default:d,name:"Select"}),[K,J]=hp({controlled:O,default:u,name:"Select"}),W=E.useRef(null),te=E.useRef(null),[re,ne]=E.useState(null),{current:ce}=E.useRef(O!=null),[pe,me]=E.useState(),ge=oi(n,v),ye=E.useCallback(ot=>{te.current=ot,ot&&ne(ot)},[]),he=re?.parentNode;E.useImperativeHandle(ge,()=>({focus:()=>{te.current.focus()},node:W.current,value:V}),[V]),E.useEffect(()=>{u&&K&&re&&!ce&&(me(o?null:he.clientWidth),te.current.focus())},[re,o]),E.useEffect(()=>{r&&te.current.focus()},[r]),E.useEffect(()=>{if(!S)return;const ot=sr(te.current).getElementById(S);if(ot){const bt=()=>{getSelection().isCollapsed&&te.current.focus()};return ot.addEventListener("click",bt),()=>{ot.removeEventListener("click",bt)}}},[S]);const de=(ot,bt)=>{ot?P&&P(bt):I&&I(bt),ce||(me(o?null:he.clientWidth),J(ot))},fe=ot=>{ot.button===0&&(ot.preventDefault(),te.current.focus(),de(!0,ot))},oe=ot=>{de(!1,ot)},ue=E.Children.toArray(s),le=ot=>{const bt=ue.find(Xt=>Xt.props.value===ot.target.value);bt!==void 0&&(Y(bt.props.value),R&&R(ot,bt))},Se=ot=>bt=>{let Xt;if(bt.currentTarget.hasAttribute("tabindex")){if(_){Xt=Array.isArray(V)?V.slice():[];const Jt=V.indexOf(ot.props.value);Jt===-1?Xt.push(ot.props.value):Xt.splice(Jt,1)}else Xt=ot.props.value;if(ot.props.onClick&&ot.props.onClick(bt),V!==Xt&&(Y(Xt),R)){const Jt=bt.nativeEvent||bt,vn=new Jt.constructor(Jt.type,Jt);Object.defineProperty(vn,"target",{writable:!0,value:{value:Xt,name:T}}),R(vn,ot)}_||de(!1,bt)}},_e=ot=>{D||[" ","ArrowUp","ArrowDown","Enter"].includes(ot.key)&&(ot.preventDefault(),de(!0,ot))},Ie=re!==null&&K,ze=ot=>{!Ie&&A&&(Object.defineProperty(ot,"target",{writable:!0,value:{value:V,name:T}}),A(ot))};delete ee["aria-invalid"];let Me,Ze;const Ee=[];let Ne=!1;(j4({value:V})||m)&&(H?Me=H(V):Ne=!0);const ve=ue.map(ot=>{if(!E.isValidElement(ot))return null;let bt;if(_){if(!Array.isArray(V))throw new Error(gf(2));bt=V.some(Xt=>hz(Xt,ot.props.value)),bt&&Ne&&Ee.push(ot.props.children)}else bt=hz(V,ot.props.value),bt&&Ne&&(Ze=ot.props.children);return E.cloneElement(ot,{"aria-selected":bt?"true":"false",onClick:Se(ot),onKeyUp:Xt=>{Xt.key===" "&&Xt.preventDefault(),ot.props.onKeyUp&&ot.props.onKeyUp(Xt)},role:"option",selected:bt,value:void 0,"data-value":ot.props.value})});Ne&&(_?Ee.length===0?Me=null:Me=Ee.reduce((ot,bt,Xt)=>(ot.push(bt),Xt<Ee.length-1&&ot.push(", "),ot),[]):Me=Ze);let we=pe;!o&&ce&&re&&(we=he.clientWidth);let Oe;typeof M<"u"?Oe=M:Oe=h?null:0;const Le=$.id||(T?`mui-component-select-${T}`:void 0),We={...e,variant:G,value:V,open:Ie,error:g},Fe=ije(We),Ve={...w.PaperProps,...typeof w.slotProps?.paper=="function"?w.slotProps.paper(We):w.slotProps?.paper},rt={...w.MenuListProps,...typeof w.slotProps?.list=="function"?w.slotProps.list(We):w.slotProps?.list},at=nd();return l.jsxs(E.Fragment,{children:[l.jsx(eje,{as:"div",ref:ye,tabIndex:Oe,role:"combobox","aria-controls":Ie?at:void 0,"aria-disabled":h?"true":void 0,"aria-expanded":Ie?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[S,Le].filter(Boolean).join(" ")||void 0,"aria-describedby":a,"aria-required":L?"true":void 0,"aria-invalid":g?"true":void 0,onKeyDown:_e,onMouseDown:h||D?null:fe,onBlur:ze,onFocus:N,...$,ownerState:We,className:dt($.className,Fe.select,c),id:Le,children:aje(Me)?fz||(fz=l.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Me}),l.jsx(nje,{"aria-invalid":g,value:Array.isArray(V)?V.join(","):V,name:T,ref:W,"aria-hidden":!0,onChange:le,tabIndex:-1,disabled:h,className:Fe.nativeInput,autoFocus:r,required:L,...ee,ownerState:We}),l.jsx(tje,{as:y,className:Fe.icon,ownerState:We}),l.jsx(jb,{id:`menu-${T||""}`,anchorEl:he,open:Ie,onClose:oe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...w,slotProps:{...w.slotProps,list:{"aria-labelledby":S,role:"listbox","aria-multiselectable":_?"true":void 0,disableListWrap:!0,id:at,...rt},paper:{...Ve,style:{minWidth:we,...Ve!=null?Ve.style:null}}},children:ve})]})}),oje=t=>{const{classes:e}=t,a=Lt({root:["root"]},_Q,e);return{...e,...a}},Jj={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>Sr(t)&&t!=="variant"},sje=qe(Yj,Jj)(""),lje=qe(Zj,Jj)(""),cje=qe(Vj,Jj)(""),Xi=E.forwardRef(function(e,n){const a=Bt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:r,classes:o={},className:s,defaultOpen:c=!1,displayEmpty:u=!1,IconComponent:d=wke,id:h,input:m,inputProps:g,label:y,labelId:v,MenuProps:S,multiple:w=!1,native:_=!1,onClose:T,onOpen:A,open:R,renderValue:I,SelectDisplayProps:N,variant:P="outlined",...O}=a,D=_?gNe:rje,H=Qc(),L=Cp({props:a,muiFormControl:H,states:["variant","error"]}),$=L.variant||P,M={...a,variant:$,classes:o},z=oje(M),{root:F,...G}=z,ee=m||{standard:l.jsx(sje,{ownerState:M}),outlined:l.jsx(lje,{label:y,ownerState:M}),filled:l.jsx(cje,{ownerState:M})}[$],V=oi(n,Sp(ee));return l.jsx(E.Fragment,{children:E.cloneElement(ee,{inputComponent:D,inputProps:{children:r,error:L.error,IconComponent:d,variant:$,type:void 0,multiple:w,..._?{id:h}:{autoWidth:i,defaultOpen:c,displayEmpty:u,labelId:v,MenuProps:S,onClose:T,onOpen:A,open:R,renderValue:I,SelectDisplayProps:{id:h,...N}},...g,classes:g?qr(G,g.classes):G,...m?m.props.inputProps:{}},...(w&&_||u)&&$==="outlined"?{notched:!0}:{},ref:V,className:dt(ee.props.className,s,z.root),...!m&&{variant:$},...O})})});Xi.muiName="Select";function uje(t){return Pt("MuiSkeleton",t)}Ft("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const dje=t=>{const{classes:e,variant:n,animation:a,hasChildren:i,width:r,height:o}=t;return Lt({root:["root",n,a,i&&"withChildren",i&&!r&&"fitContent",i&&!o&&"heightAuto"]},uje,e)},v7=ld`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,S7=ld`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,fje=typeof v7!="string"?yp`
        animation: ${v7} 2s ease-in-out 0.5s infinite;
      `:null,hje=typeof S7!="string"?yp`
        &::after {
          animation: ${S7} 2s linear 0.5s infinite;
        }
      `:null,pje=qe("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.animation!==!1&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})(kt(({theme:t})=>{const e=mAe(t.shape.borderRadius)||"px",n=gAe(t.shape.borderRadius);return{display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:t.alpha(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${e}/${Math.round(n/.6*10)/10}${e}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:({ownerState:a})=>a.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:a})=>a.hasChildren&&!a.width,style:{maxWidth:"fit-content"}},{props:({ownerState:a})=>a.hasChildren&&!a.height,style:{height:"auto"}},{props:{animation:"pulse"},style:fje||{animation:`${v7} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(t.vars||t).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:hje||{"&::after":{animation:`${S7} 2s linear 0.5s infinite`}}}]}})),zc=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiSkeleton"}),{animation:i="pulse",className:r,component:o="span",height:s,style:c,variant:u="text",width:d,...h}=a,m={...a,animation:i,component:o,variant:u,hasChildren:!!h.children},g=dje(m);return l.jsx(pje,{as:o,ref:n,className:dt(g.root,r),ownerState:m,...h,style:{width:d,height:s,...c}})});function mje(t,e,n=(a,i)=>a===i){return t.length===e.length&&t.every((a,i)=>n(a,e[i]))}const gje=2;function m1(t,e,n,a,i){return n===1?Math.min(t+e,i):Math.max(t-e,a)}function TQ(t,e){return t-e}function pz(t,e){const{index:n}=t.reduce((a,i,r)=>{const o=Math.abs(e-i);return a===null||o<a.distance||o===a.distance?{distance:o,index:r}:a},null)??{};return n}function KC(t,e){if(e.current!==void 0&&t.changedTouches){const n=t;for(let a=0;a<n.changedTouches.length;a+=1){const i=n.changedTouches[a];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function O4(t,e,n){return(t-e)*100/(n-e)}function bje(t,e,n){return(n-e)*t+e}function yje(t){if(Math.abs(t)<1){const n=t.toExponential().split("e-"),a=n[0].split(".")[1];return(a?a.length:0)+parseInt(n[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function xje(t,e,n){const a=Math.round((t-n)/e)*e+n;return Number(a.toFixed(yje(e)))}function mz({values:t,newValue:e,index:n}){const a=t.slice();return a[n]=e,a.sort(TQ)}function XC({sliderRef:t,activeIndex:e,setActive:n}){const a=sr(t.current);(!t.current?.contains(a.activeElement)||Number(a?.activeElement?.getAttribute("data-index"))!==e)&&t.current?.querySelector(`[type="range"][data-index="${e}"]`).focus(),n&&n(e)}function QC(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?mje(t,e):!1}const vje={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},Sje=t=>t;let ZC;function gz(){return ZC===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?ZC=CSS.supports("touch-action","none"):ZC=!0),ZC}function Cje(t){const{"aria-labelledby":e,defaultValue:n,disabled:a=!1,disableSwap:i=!1,isRtl:r=!1,marks:o=!1,max:s=100,min:c=0,name:u,onChange:d,onChangeCommitted:h,orientation:m="horizontal",rootRef:g,scale:y=Sje,step:v=1,shiftStep:S=10,tabIndex:w,value:_}=t,T=E.useRef(void 0),[A,R]=E.useState(-1),[I,N]=E.useState(-1),[P,O]=E.useState(!1),D=E.useRef(0),H=E.useRef(null),[L,$]=hp({controlled:_,default:n??c,name:"Slider"}),M=d&&((Ne,ve,we)=>{const Oe=Ne.nativeEvent||Ne,Le=new Oe.constructor(Oe.type,Oe);Object.defineProperty(Le,"target",{writable:!0,value:{value:ve,name:u}}),H.current=ve,d(Le,ve,we)}),z=Array.isArray(L);let F=z?L.slice().sort(TQ):[L];F=F.map(Ne=>Ne==null?c:k1(Ne,c,s));const G=o===!0&&v!==null?[...Array(Math.floor((s-c)/v)+1)].map((Ne,ve)=>({value:c+v*ve})):o||[],ee=G.map(Ne=>Ne.value),[V,Y]=E.useState(-1),K=E.useRef(null),J=oi(g,K),W=Ne=>ve=>{const we=Number(ve.currentTarget.getAttribute("data-index"));mp(ve.target)&&Y(we),N(we),Ne?.onFocus?.(ve)},te=Ne=>ve=>{mp(ve.target)||Y(-1),N(-1),Ne?.onBlur?.(ve)},re=(Ne,ve)=>{const we=Number(Ne.currentTarget.getAttribute("data-index")),Oe=F[we],Le=ee.indexOf(Oe);let We=ve;if(G&&v==null){const Fe=ee[ee.length-1];We>=Fe?We=Fe:We<=ee[0]?We=ee[0]:We=We<Oe?ee[Le-1]:ee[Le+1]}if(We=k1(We,c,s),z){i&&(We=k1(We,F[we-1]||-1/0,F[we+1]||1/0));const Fe=We;We=mz({values:F,newValue:We,index:we});let Ve=we;i||(Ve=We.indexOf(Fe)),XC({sliderRef:K,activeIndex:Ve})}$(We),Y(we),M&&!QC(We,L)&&M(Ne,We,we),h&&h(Ne,H.current??We)},ne=Ne=>ve=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(ve.key)){ve.preventDefault();const we=Number(ve.currentTarget.getAttribute("data-index")),Oe=F[we];let Le=null;if(v!=null){const We=ve.shiftKey?S:v;switch(ve.key){case"ArrowUp":Le=m1(Oe,We,1,c,s);break;case"ArrowRight":Le=m1(Oe,We,r?-1:1,c,s);break;case"ArrowDown":Le=m1(Oe,We,-1,c,s);break;case"ArrowLeft":Le=m1(Oe,We,r?1:-1,c,s);break;case"PageUp":Le=m1(Oe,S,1,c,s);break;case"PageDown":Le=m1(Oe,S,-1,c,s);break;case"Home":Le=c;break;case"End":Le=s;break}}else if(G){const We=ee[ee.length-1],Fe=ee.indexOf(Oe),Ve=[r?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],rt=[r?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];Ve.includes(ve.key)?Fe===0?Le=ee[0]:Le=ee[Fe-1]:rt.includes(ve.key)&&(Fe===ee.length-1?Le=We:Le=ee[Fe+1])}Le!=null&&re(ve,Le)}Ne?.onKeyDown?.(ve)};Io(()=>{a&&K.current.contains(document.activeElement)&&document.activeElement?.blur()},[a]),a&&A!==-1&&R(-1),a&&V!==-1&&Y(-1);const ce=Ne=>ve=>{Ne.onChange?.(ve),re(ve,ve.target.valueAsNumber)},pe=E.useRef(void 0);let me=m;r&&m==="horizontal"&&(me+="-reverse");const ge=({finger:Ne,move:ve=!1})=>{const{current:we}=K,{width:Oe,height:Le,bottom:We,left:Fe}=we.getBoundingClientRect();let Ve;me.startsWith("vertical")?Ve=(We-Ne.y)/Le:Ve=(Ne.x-Fe)/Oe,me.includes("-reverse")&&(Ve=1-Ve);let rt;if(rt=bje(Ve,c,s),v)rt=xje(rt,v,c);else{const ot=pz(ee,rt);rt=ee[ot]}rt=k1(rt,c,s);let at=0;if(z){ve?at=pe.current:at=pz(F,rt),i&&(rt=k1(rt,F[at-1]||-1/0,F[at+1]||1/0));const ot=rt;rt=mz({values:F,newValue:rt,index:at}),i&&ve||(at=rt.indexOf(ot),pe.current=at)}return{newValue:rt,activeIndex:at}},ye=Wr(Ne=>{const ve=KC(Ne,T);if(!ve)return;if(D.current+=1,Ne.type==="mousemove"&&Ne.buttons===0){he(Ne);return}const{newValue:we,activeIndex:Oe}=ge({finger:ve,move:!0});XC({sliderRef:K,activeIndex:Oe,setActive:R}),$(we),!P&&D.current>gje&&O(!0),M&&!QC(we,L)&&M(Ne,we,Oe)}),he=Wr(Ne=>{const ve=KC(Ne,T);if(O(!1),!ve)return;const{newValue:we}=ge({finger:ve,move:!0});R(-1),Ne.type==="touchend"&&N(-1),h&&h(Ne,H.current??we),T.current=void 0,fe()}),de=Wr(Ne=>{if(a)return;gz()||Ne.preventDefault();const ve=Ne.changedTouches[0];ve!=null&&(T.current=ve.identifier);const we=KC(Ne,T);if(we!==!1){const{newValue:Le,activeIndex:We}=ge({finger:we});XC({sliderRef:K,activeIndex:We,setActive:R}),$(Le),M&&!QC(Le,L)&&M(Ne,Le,We)}D.current=0;const Oe=sr(K.current);Oe.addEventListener("touchmove",ye,{passive:!0}),Oe.addEventListener("touchend",he,{passive:!0})}),fe=E.useCallback(()=>{const Ne=sr(K.current);Ne.removeEventListener("mousemove",ye),Ne.removeEventListener("mouseup",he),Ne.removeEventListener("touchmove",ye),Ne.removeEventListener("touchend",he)},[he,ye]);E.useEffect(()=>{const{current:Ne}=K;return Ne.addEventListener("touchstart",de,{passive:gz()}),()=>{Ne.removeEventListener("touchstart",de),fe()}},[fe,de]),E.useEffect(()=>{a&&fe()},[a,fe]);const oe=Ne=>ve=>{if(Ne.onMouseDown?.(ve),a||ve.defaultPrevented||ve.button!==0)return;ve.preventDefault();const we=KC(ve,T);if(we!==!1){const{newValue:Le,activeIndex:We}=ge({finger:we});XC({sliderRef:K,activeIndex:We,setActive:R}),$(Le),M&&!QC(Le,L)&&M(ve,Le,We)}D.current=0;const Oe=sr(K.current);Oe.addEventListener("mousemove",ye,{passive:!0}),Oe.addEventListener("mouseup",he)},ue=O4(z?F[0]:c,c,s),le=O4(F[F.length-1],c,s)-ue,Se=(Ne={})=>{const ve=Jm(Ne),we={onMouseDown:oe(ve||{})},Oe={...ve,...we};return{...Ne,ref:J,...Oe}},_e=Ne=>ve=>{Ne.onMouseOver?.(ve);const we=Number(ve.currentTarget.getAttribute("data-index"));N(we)},Ie=Ne=>ve=>{Ne.onMouseLeave?.(ve),N(-1)},ze=(Ne={})=>{const ve=Jm(Ne),we={onMouseOver:_e(ve||{}),onMouseLeave:Ie(ve||{})};return{...Ne,...ve,...we}},Me=Ne=>({pointerEvents:A!==-1&&A!==Ne?"none":void 0});let Ze;return m==="vertical"&&(Ze=r?"vertical-rl":"vertical-lr"),{active:A,axis:me,axisProps:vje,dragging:P,focusedThumbIndex:V,getHiddenInputProps:(Ne={})=>{const ve=Jm(Ne),we={onChange:ce(ve||{}),onFocus:W(ve||{}),onBlur:te(ve||{}),onKeyDown:ne(ve||{})},Oe={...ve,...we};return{tabIndex:w,"aria-labelledby":e,"aria-orientation":m,"aria-valuemax":y(s),"aria-valuemin":y(c),name:u,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":t.step??void 0,disabled:a,...Ne,...Oe,style:{...JNe,direction:r?"rtl":"ltr",width:"100%",height:"100%",writingMode:Ze}}},getRootProps:Se,getThumbProps:ze,marks:G,open:I,range:z,rootRef:J,trackLeap:le,trackOffset:ue,values:F,getThumbStyle:Me}}const wje=t=>!t||!Xu(t);function _je(t){return Pt("MuiSlider",t)}const Zl=Ft("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Tje=t=>{const{open:e}=t;return{offset:dt(e&&Zl.valueLabelOpen),circle:Zl.valueLabelCircle,label:Zl.valueLabelLabel}};function Eje(t){const{children:e,className:n,value:a}=t,i=Tje(t);return e?E.cloneElement(e,{className:e.props.className},l.jsxs(E.Fragment,{children:[e.props.children,l.jsx("span",{className:dt(i.offset,n),"aria-hidden":!0,children:l.jsx("span",{className:i.circle,children:l.jsx("span",{className:i.label,children:a})})})]})):null}function bz(t){return t}const Aje=qe("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${Ge(n.color)}`],n.size!=="medium"&&e[`size${Ge(n.size)}`],n.marked&&e.marked,n.orientation==="vertical"&&e.vertical,n.track==="inverted"&&e.trackInverted,n.track===!1&&e.trackFalse]}})(kt(({theme:t})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Zl.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${Zl.dragging}`]:{[`& .${Zl.thumb}, & .${Zl.track}`]:{transition:"none"}},variants:[...Object.entries(t.palette).filter(sa()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),Rje=qe("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),kje=qe("span",{name:"MuiSlider",slot:"Track"})(kt(({theme:t})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(t.palette).filter(sa()).map(([e])=>({props:{color:e,track:"inverted"},style:{...t.vars?{backgroundColor:t.vars.palette.Slider[`${e}Track`],borderColor:t.vars.palette.Slider[`${e}Track`]}:{backgroundColor:t.lighten(t.palette[e].main,.62),borderColor:t.lighten(t.palette[e].main,.62),...t.applyStyles("dark",{backgroundColor:t.darken(t.palette[e].main,.5)}),...t.applyStyles("dark",{borderColor:t.darken(t.palette[e].main,.5)})}}}))]}))),Ije=qe("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.thumb,e[`thumbColor${Ge(n.color)}`],n.size!=="medium"&&e[`thumbSize${Ge(n.size)}`]]}})(kt(({theme:t})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Zl.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(t.palette).filter(sa()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${Zl.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${t.alpha((t.vars||t).palette[e].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${Zl.active}`]:{boxShadow:`0px 0px 0px 14px ${t.alpha((t.vars||t).palette[e].main,.16)}`}}}))]}))),Nje=qe(Eje,{name:"MuiSlider",slot:"ValueLabel"})(kt(({theme:t})=>({zIndex:1,whiteSpace:"nowrap",...t.typography.body2,fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Zl.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Zl.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),jje=qe("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>G_(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:n}=t;return[e.mark,n&&e.markActive]}})(kt(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}))),Dje=qe("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>G_(t)&&t!=="markLabelActive"})(kt(({theme:t})=>({...t.typography.body2,color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]}))),Oje=t=>{const{disabled:e,dragging:n,marked:a,orientation:i,track:r,classes:o,color:s,size:c}=t,u={root:["root",e&&"disabled",n&&"dragging",a&&"marked",i==="vertical"&&"vertical",r==="inverted"&&"trackInverted",r===!1&&"trackFalse",s&&`color${Ge(s)}`,c&&`size${Ge(c)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",c&&`thumbSize${Ge(c)}`,s&&`thumbColor${Ge(s)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Lt(u,_je,o)},Mje=({children:t})=>t,ki=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiSlider"}),i=cd(),{"aria-label":r,"aria-valuetext":o,"aria-labelledby":s,component:c="span",components:u={},componentsProps:d={},color:h="primary",classes:m,className:g,disableSwap:y=!1,disabled:v=!1,getAriaLabel:S,getAriaValueText:w,marks:_=!1,max:T=100,min:A=0,name:R,onChange:I,onChangeCommitted:N,orientation:P="horizontal",shiftStep:O=10,size:D="medium",step:H=1,scale:L=bz,slotProps:$,slots:M,tabIndex:z,track:F="normal",value:G,valueLabelDisplay:ee="off",valueLabelFormat:V=bz,...Y}=a,K={...a,isRtl:i,max:T,min:A,classes:m,disabled:v,disableSwap:y,orientation:P,marks:_,color:h,size:D,step:H,shiftStep:O,scale:L,track:F,valueLabelDisplay:ee,valueLabelFormat:V},{axisProps:J,getRootProps:W,getHiddenInputProps:te,getThumbProps:re,open:ne,active:ce,axis:pe,focusedThumbIndex:me,range:ge,dragging:ye,marks:he,values:de,trackOffset:fe,trackLeap:oe,getThumbStyle:ue}=Cje({...K,rootRef:n});K.marked=he.length>0&&he.some(Kt=>Kt.label),K.dragging=ye,K.focusedThumbIndex=me;const le=Oje(K),Se=M?.root??u.Root??Aje,_e=M?.rail??u.Rail??Rje,Ie=M?.track??u.Track??kje,ze=M?.thumb??u.Thumb??Ije,Me=M?.valueLabel??u.ValueLabel??Nje,Ze=M?.mark??u.Mark??jje,Ee=M?.markLabel??u.MarkLabel??Dje,Ne=M?.input??u.Input??"input",ve=$?.root??d.root,we=$?.rail??d.rail,Oe=$?.track??d.track,Le=$?.thumb??d.thumb,We=$?.valueLabel??d.valueLabel,Fe=$?.mark??d.mark,Ve=$?.markLabel??d.markLabel,rt=$?.input??d.input,at=Zo({elementType:Se,getSlotProps:W,externalSlotProps:ve,externalForwardedProps:Y,additionalProps:{...wje(Se)&&{as:c}},ownerState:{...K,...ve?.ownerState},className:[le.root,g]}),ot=Zo({elementType:_e,externalSlotProps:we,ownerState:K,className:le.rail}),bt=Zo({elementType:Ie,externalSlotProps:Oe,additionalProps:{style:{...J[pe].offset(fe),...J[pe].leap(oe)}},ownerState:{...K,...Oe?.ownerState},className:le.track}),Xt=Zo({elementType:ze,getSlotProps:re,externalSlotProps:Le,ownerState:{...K,...Le?.ownerState},className:le.thumb}),Jt=Zo({elementType:Me,externalSlotProps:We,ownerState:{...K,...We?.ownerState},className:le.valueLabel}),vn=Zo({elementType:Ze,externalSlotProps:Fe,ownerState:K,className:le.mark}),jn=Zo({elementType:Ee,externalSlotProps:Ve,ownerState:K,className:le.markLabel}),ea=Zo({elementType:Ne,getSlotProps:te,externalSlotProps:rt,ownerState:K});return l.jsxs(Se,{...at,children:[l.jsx(_e,{...ot}),l.jsx(Ie,{...bt}),he.filter(Kt=>Kt.value>=A&&Kt.value<=T).map((Kt,Ht)=>{const hn=O4(Kt.value,A,T),_n=J[pe].offset(hn);let Tn;return F===!1?Tn=de.includes(Kt.value):Tn=F==="normal"&&(ge?Kt.value>=de[0]&&Kt.value<=de[de.length-1]:Kt.value<=de[0])||F==="inverted"&&(ge?Kt.value<=de[0]||Kt.value>=de[de.length-1]:Kt.value>=de[0]),l.jsxs(E.Fragment,{children:[l.jsx(Ze,{"data-index":Ht,...vn,...!Xu(Ze)&&{markActive:Tn},style:{..._n,...vn.style},className:dt(vn.className,Tn&&le.markActive)}),Kt.label!=null?l.jsx(Ee,{"aria-hidden":!0,"data-index":Ht,...jn,...!Xu(Ee)&&{markLabelActive:Tn},style:{..._n,...jn.style},className:dt(le.markLabel,jn.className,Tn&&le.markLabelActive),children:Kt.label}):null]},Ht)}),de.map((Kt,Ht)=>{const hn=O4(Kt,A,T),_n=J[pe].offset(hn),Tn=ee==="off"?Mje:Me;return l.jsx(Tn,{...!Xu(Tn)&&{valueLabelFormat:V,valueLabelDisplay:ee,value:typeof V=="function"?V(L(Kt),Ht):V,index:Ht,open:ne===Ht||ce===Ht||ee==="on",disabled:v},...Jt,children:l.jsx(ze,{"data-index":Ht,...Xt,className:dt(le.thumb,Xt.className,ce===Ht&&le.active,me===Ht&&le.focusVisible),style:{..._n,...ue(Ht),...Xt.style},children:l.jsx(Ne,{"data-index":Ht,"aria-label":S?S(Ht):r,"aria-valuenow":L(Kt),"aria-labelledby":s,"aria-valuetext":w?w(L(Kt),Ht):o,value:de[Ht],...ea})})},Ht)})]})});function Pje(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:a,open:i,resumeHideDuration:r}=t,o=Wh();E.useEffect(()=>{if(!i)return;function w(_){_.defaultPrevented||_.key==="Escape"&&a?.(_,"escapeKeyDown")}return document.addEventListener("keydown",w),()=>{document.removeEventListener("keydown",w)}},[i,a]);const s=Wr((w,_)=>{a?.(w,_)}),c=Wr(w=>{!a||w==null||o.start(w,()=>{s(null,"timeout")})});E.useEffect(()=>(i&&c(e),o.clear),[i,e,c,o]);const u=w=>{a?.(w,"clickaway")},d=o.clear,h=E.useCallback(()=>{e!=null&&c(r??e*.5)},[e,r,c]),m=w=>_=>{const T=w.onBlur;T?.(_),h()},g=w=>_=>{const T=w.onFocus;T?.(_),d()},y=w=>_=>{const T=w.onMouseEnter;T?.(_),d()},v=w=>_=>{const T=w.onMouseLeave;T?.(_),h()};return E.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",h),window.addEventListener("blur",d),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",d)}},[n,i,h,d]),{getRootProps:(w={})=>{const _={...Jm(t),...Jm(w)};return{role:"presentation",...w,..._,onBlur:m(_),onFocus:g(_),onMouseEnter:y(_),onMouseLeave:v(_)}},onClickAway:u}}function Lje(t){return Pt("MuiSnackbarContent",t)}Ft("MuiSnackbarContent",["root","message","action"]);const zje=t=>{const{classes:e}=t;return Lt({root:["root"],action:["action"],message:["message"]},Lje,e)},Fje=qe(Gt,{name:"MuiSnackbarContent",slot:"Root"})(kt(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98;return{...t.typography.body2,color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(p2(t.palette.background.default,e)),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:p2(t.palette.background.default,e),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),Bje=qe("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"}),Hje=qe("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),$je=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiSnackbarContent"}),{action:i,className:r,message:o,role:s="alert",...c}=a,u=a,d=zje(u);return l.jsxs(Fje,{role:s,elevation:6,className:dt(d.root,r),ownerState:u,ref:n,...c,children:[l.jsx(Bje,{className:d.message,ownerState:u,children:o}),i?l.jsx(Hje,{className:d.action,ownerState:u,children:i}):null]})});function Uje(t){return Pt("MuiSnackbar",t)}Ft("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Gje=t=>{const{classes:e,anchorOrigin:n}=t,a={root:["root",`anchorOrigin${Ge(n.vertical)}${Ge(n.horizontal)}`]};return Lt(a,Uje,e)},qje=qe("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${Ge(n.anchorOrigin.vertical)}${Ge(n.anchorOrigin.horizontal)}`]]}})(kt(({theme:t})=>({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:e})=>e.anchorOrigin.vertical==="top",style:{top:8,[t.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:e})=>e.anchorOrigin.vertical!=="top",style:{bottom:8,[t.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[t.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[t.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="center",style:{[t.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),kg=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiSnackbar"}),i=Fi(),r={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:s,horizontal:c}={vertical:"bottom",horizontal:"left"},autoHideDuration:u=null,children:d,className:h,ClickAwayListenerProps:m,ContentProps:g,disableWindowBlurListener:y=!1,message:v,onBlur:S,onClose:w,onFocus:_,onMouseEnter:T,onMouseLeave:A,open:R,resumeHideDuration:I,slots:N={},slotProps:P={},TransitionComponent:O,transitionDuration:D=r,TransitionProps:{onEnter:H,onExited:L,...$}={},...M}=a,z={...a,anchorOrigin:{vertical:s,horizontal:c},autoHideDuration:u,disableWindowBlurListener:y,TransitionComponent:O,transitionDuration:D},F=Gje(z),{getRootProps:G,onClickAway:ee}=Pje({...z}),[V,Y]=E.useState(!0),K=de=>{Y(!0),L&&L(de)},J=(de,fe)=>{Y(!1),H&&H(de,fe)},W={slots:{transition:O,...N},slotProps:{content:g,clickAwayListener:m,transition:$,...P}},[te,re]=qt("root",{ref:n,className:[F.root,h],elementType:qje,getSlotProps:G,externalForwardedProps:{...W,...M},ownerState:z}),[ne,{ownerState:ce,...pe}]=qt("clickAwayListener",{elementType:uQ,externalForwardedProps:W,getSlotProps:de=>({onClickAway:(...fe)=>{const oe=fe[0];de.onClickAway?.(...fe),!oe?.defaultMuiPrevented&&ee(...fe)}}),ownerState:z}),[me,ge]=qt("content",{elementType:$je,shouldForwardComponentProp:!0,externalForwardedProps:W,additionalProps:{message:v,action:o},ownerState:z}),[ye,he]=qt("transition",{elementType:C2,externalForwardedProps:W,getSlotProps:de=>({onEnter:(...fe)=>{de.onEnter?.(...fe),J(...fe)},onExited:(...fe)=>{de.onExited?.(...fe),K(...fe)}}),additionalProps:{appear:!0,in:R,timeout:D,direction:s==="top"?"down":"up"},ownerState:z});return!R&&V?null:l.jsx(ne,{...pe,...N.clickAwayListener&&{ownerState:ce},children:l.jsx(te,{...re,children:l.jsx(ye,{...he,children:d||l.jsx(me,{...ge})})})})});function Wje(t){return Pt("MuiTooltip",t)}const Yi=Ft("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function Vje(t){return Math.round(t*1e5)/1e5}const Yje=t=>{const{classes:e,disableInteractive:n,arrow:a,touch:i,placement:r}=t,o={popper:["popper",!n&&"popperInteractive",a&&"popperArrow"],tooltip:["tooltip",a&&"tooltipArrow",i&&"touch",`tooltipPlacement${Ge(r.split("-")[0])}`],arrow:["arrow"]};return Lt(o,Wje,e)},Kje=qe(Gj,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(kt(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${Yi.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Yi.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Yi.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Yi.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Yi.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Yi.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Yi.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Yi.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),Xje=qe("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${Ge(n.placement.split("-")[0])}`]]}})(kt(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${Yi.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Yi.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Yi.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Yi.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${Vje(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${Yi.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Yi.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${Yi.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Yi.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${Yi.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Yi.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${Yi.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Yi.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Yi.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Yi.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),Qje=qe("span",{name:"MuiTooltip",slot:"Arrow"})(kt(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let JC=!1;const yz=new V_;let Gx={x:0,y:0};function ew(t,e){return(n,...a)=>{e&&e(n,...a),t(n,...a)}}const jt=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiTooltip"}),{arrow:i=!1,children:r,classes:o,components:s={},componentsProps:c={},describeChild:u=!1,disableFocusListener:d=!1,disableHoverListener:h=!1,disableInteractive:m=!1,disableTouchListener:g=!1,enterDelay:y=100,enterNextDelay:v=0,enterTouchDelay:S=700,followCursor:w=!1,id:_,leaveDelay:T=0,leaveTouchDelay:A=1500,onClose:R,onOpen:I,open:N,placement:P="bottom",PopperComponent:O,PopperProps:D={},slotProps:H={},slots:L={},title:$,TransitionComponent:M,TransitionProps:z,...F}=a,G=E.isValidElement(r)?r:l.jsx("span",{children:r}),ee=Fi(),V=cd(),[Y,K]=E.useState(),[J,W]=E.useState(null),te=E.useRef(!1),re=m||w,ne=Wh(),ce=Wh(),pe=Wh(),me=Wh(),[ge,ye]=hp({controlled:N,default:!1,name:"Tooltip",state:"open"});let he=ge;const de=nd(_),fe=E.useRef(),oe=Wr(()=>{fe.current!==void 0&&(document.body.style.WebkitUserSelect=fe.current,fe.current=void 0),me.clear()});E.useEffect(()=>oe,[oe]);const ue=Wt=>{yz.clear(),JC=!0,ye(!0),I&&!he&&I(Wt)},le=Wr(Wt=>{yz.start(800+T,()=>{JC=!1}),ye(!1),R&&he&&R(Wt),ne.start(ee.transitions.duration.shortest,()=>{te.current=!1})}),Se=Wt=>{te.current&&Wt.type!=="touchstart"||(Y&&Y.removeAttribute("title"),ce.clear(),pe.clear(),y||JC&&v?ce.start(JC?v:y,()=>{ue(Wt)}):ue(Wt))},_e=Wt=>{ce.clear(),pe.start(T,()=>{le(Wt)})},[,Ie]=E.useState(!1),ze=Wt=>{mp(Wt.target)||(Ie(!1),_e(Wt))},Me=Wt=>{Y||K(Wt.currentTarget),mp(Wt.target)&&(Ie(!0),Se(Wt))},Ze=Wt=>{te.current=!0;const Rn=G.props;Rn.onTouchStart&&Rn.onTouchStart(Wt)},Ee=Wt=>{Ze(Wt),pe.clear(),ne.clear(),oe(),fe.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",me.start(S,()=>{document.body.style.WebkitUserSelect=fe.current,Se(Wt)})},Ne=Wt=>{G.props.onTouchEnd&&G.props.onTouchEnd(Wt),oe(),pe.start(A,()=>{le(Wt)})};E.useEffect(()=>{if(!he)return;function Wt(Rn){Rn.key==="Escape"&&le(Rn)}return document.addEventListener("keydown",Wt),()=>{document.removeEventListener("keydown",Wt)}},[le,he]);const ve=oi(Sp(G),K,n);!$&&$!==0&&(he=!1);const we=E.useRef(),Oe=Wt=>{const Rn=G.props;Rn.onMouseMove&&Rn.onMouseMove(Wt),Gx={x:Wt.clientX,y:Wt.clientY},we.current&&we.current.update()},Le={},We=typeof $=="string";u?(Le.title=!he&&We&&!h?$:null,Le["aria-describedby"]=he?de:null):(Le["aria-label"]=We?$:null,Le["aria-labelledby"]=he&&!We?de:null);const Fe={...Le,...F,...G.props,className:dt(F.className,G.props.className),onTouchStart:Ze,ref:ve,...w?{onMouseMove:Oe}:{}},Ve={};g||(Fe.onTouchStart=Ee,Fe.onTouchEnd=Ne),h||(Fe.onMouseOver=ew(Se,Fe.onMouseOver),Fe.onMouseLeave=ew(_e,Fe.onMouseLeave),re||(Ve.onMouseOver=Se,Ve.onMouseLeave=_e)),d||(Fe.onFocus=ew(Me,Fe.onFocus),Fe.onBlur=ew(ze,Fe.onBlur),re||(Ve.onFocus=Me,Ve.onBlur=ze));const rt={...a,isRtl:V,arrow:i,disableInteractive:re,placement:P,PopperComponentProp:O,touch:te.current},at=typeof H.popper=="function"?H.popper(rt):H.popper,ot=E.useMemo(()=>{let Wt=[{name:"arrow",enabled:!!J,options:{element:J,padding:4}}];return D.popperOptions?.modifiers&&(Wt=Wt.concat(D.popperOptions.modifiers)),at?.popperOptions?.modifiers&&(Wt=Wt.concat(at.popperOptions.modifiers)),{...D.popperOptions,...at?.popperOptions,modifiers:Wt}},[J,D.popperOptions,at?.popperOptions]),bt=Yje(rt),Xt=typeof H.transition=="function"?H.transition(rt):H.transition,Jt={slots:{popper:s.Popper,transition:s.Transition??M,tooltip:s.Tooltip,arrow:s.Arrow,...L},slotProps:{arrow:H.arrow??c.arrow,popper:{...D,...at??c.popper},tooltip:H.tooltip??c.tooltip,transition:{...z,...Xt??c.transition}}},[vn,jn]=qt("popper",{elementType:Kje,externalForwardedProps:Jt,ownerState:rt,className:dt(bt.popper,D?.className)}),[ea,Kt]=qt("transition",{elementType:C2,externalForwardedProps:Jt,ownerState:rt}),[Ht,hn]=qt("tooltip",{elementType:Xje,className:bt.tooltip,externalForwardedProps:Jt,ownerState:rt}),[_n,Tn]=qt("arrow",{elementType:Qje,className:bt.arrow,externalForwardedProps:Jt,ownerState:rt,ref:W});return l.jsxs(E.Fragment,{children:[E.cloneElement(G,Fe),l.jsx(vn,{as:O??Gj,placement:P,anchorEl:w?{getBoundingClientRect:()=>({top:Gx.y,left:Gx.x,right:Gx.x,bottom:Gx.y,width:0,height:0})}:Y,popperRef:we,open:Y?he:!1,id:de,transition:!0,...Ve,...jn,popperOptions:ot,children:({TransitionProps:Wt})=>l.jsx(ea,{timeout:ee.transitions.duration.shorter,...Wt,...Kt,children:l.jsxs(Ht,{...hn,children:[$,i?l.jsx(_n,{...Tn}):null]})})})]})}),cn=wde({createStyledComponent:qe("div",{name:"MuiStack",slot:"Root"}),useThemeProps:t=>Bt({props:t,name:"MuiStack"})});function Zje(t){return Pt("MuiSwitch",t)}const Xo=Ft("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Jje=t=>{const{classes:e,edge:n,size:a,color:i,checked:r,disabled:o}=t,s={root:["root",n&&`edge${Ge(n)}`,`size${Ge(a)}`],switchBase:["switchBase",`color${Ge(i)}`,r&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=Lt(s,Zje,e);return{...e,...c}},eDe=qe("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.edge&&e[`edge${Ge(n.edge)}`],e[`size${Ge(n.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Xo.thumb}`]:{width:16,height:16},[`& .${Xo.switchBase}`]:{padding:4,[`&.${Xo.checked}`]:{transform:"translateX(16px)"}}}}]}),tDe=qe(qj,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.switchBase,{[`& .${Xo.input}`]:e.input},n.color!=="default"&&e[`color${Ge(n.color)}`]]}})(kt(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${Xo.checked}`]:{transform:"translateX(20px)"},[`&.${Xo.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${Xo.checked} + .${Xo.track}`]:{opacity:.5},[`&.${Xo.disabled} + .${Xo.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${Xo.input}`]:{left:"-100%",width:"300%"}})),kt(({theme:t})=>({"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(sa(["light"])).map(([e])=>({props:{color:e},style:{[`&.${Xo.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Xo.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?t.lighten(t.palette[e].main,.62):t.darken(t.palette[e].main,.55)}`}},[`&.${Xo.checked} + .${Xo.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]}))),nDe=qe("span",{name:"MuiSwitch",slot:"Track"})(kt(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`}))),aDe=qe("span",{name:"MuiSwitch",slot:"Thumb"})(kt(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),Ai=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiSwitch"}),{className:i,color:r="primary",edge:o=!1,size:s="medium",sx:c,slots:u={},slotProps:d={},...h}=a,m={...a,color:r,edge:o,size:s},g=Jje(m),y={slots:u,slotProps:d},[v,S]=qt("root",{className:dt(g.root,i),elementType:eDe,externalForwardedProps:y,ownerState:m,additionalProps:{sx:c}}),[w,_]=qt("thumb",{className:g.thumb,elementType:aDe,externalForwardedProps:y,ownerState:m}),T=l.jsx(w,{..._}),[A,R]=qt("track",{className:g.track,elementType:nDe,externalForwardedProps:y,ownerState:m});return l.jsxs(v,{...S,children:[l.jsx(tDe,{type:"checkbox",icon:T,checkedIcon:T,ref:n,ownerState:m,...h,classes:{...g,root:g.switchBase},slots:{...u.switchBase&&{root:u.switchBase},...u.input&&{input:u.input}},slotProps:{...d.switchBase&&{root:typeof d.switchBase=="function"?d.switchBase(m):d.switchBase},input:{role:"switch"},...d.input&&{input:typeof d.input=="function"?d.input(m):d.input}}}),l.jsx(A,{...R})]})});function iDe(t){return Pt("MuiTab",t)}const Fl=Ft("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),rDe=t=>{const{classes:e,textColor:n,fullWidth:a,wrapped:i,icon:r,label:o,selected:s,disabled:c}=t,u={root:["root",r&&o&&"labelIcon",`textColor${Ge(n)}`,a&&"fullWidth",i&&"wrapped",s&&"selected",c&&"disabled"],icon:["iconWrapper","icon"]};return Lt(u,iDe,e)},oDe=qe(ts,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${Ge(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped,{[`& .${Fl.iconWrapper}`]:e.iconWrapper},{[`& .${Fl.icon}`]:e.icon}]}})(kt(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="top",style:{[`& > .${Fl.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="bottom",style:{[`& > .${Fl.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="start",style:{[`& > .${Fl.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="end",style:{[`& > .${Fl.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Fl.selected}`]:{opacity:1},[`&.${Fl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${Fl.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${Fl.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${Fl.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${Fl.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),Cn=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiTab"}),{className:i,disabled:r=!1,disableFocusRipple:o=!1,fullWidth:s,icon:c,iconPosition:u="top",indicator:d,label:h,onChange:m,onClick:g,onFocus:y,selected:v,selectionFollowsFocus:S,textColor:w="inherit",value:_,wrapped:T=!1,...A}=a,R={...a,disabled:r,disableFocusRipple:o,selected:v,icon:!!c,iconPosition:u,label:!!h,fullWidth:s,textColor:w,wrapped:T},I=rDe(R),N=c&&h&&E.isValidElement(c)?E.cloneElement(c,{className:dt(I.icon,c.props.className)}):c,P=D=>{!v&&m&&m(D,_),g&&g(D)},O=D=>{S&&!v&&m&&m(D,_),y&&y(D)};return l.jsxs(oDe,{focusRipple:!o,className:dt(I.root,i),ref:n,role:"tab","aria-selected":v,disabled:r,onClick:P,onFocus:O,ownerState:R,tabIndex:v?0:-1,...A,children:[u==="top"||u==="start"?l.jsxs(E.Fragment,{children:[N,h]}):l.jsxs(E.Fragment,{children:[h,N]}),d]})}),EQ=E.createContext();function sDe(t){return Pt("MuiTable",t)}Ft("MuiTable",["root","stickyHeader"]);const lDe=t=>{const{classes:e,stickyHeader:n}=t;return Lt({root:["root",n&&"stickyHeader"]},sDe,e)},cDe=qe("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(kt(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),xz="table",fS=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiTable"}),{className:i,component:r=xz,padding:o="normal",size:s="medium",stickyHeader:c=!1,...u}=a,d={...a,component:r,padding:o,size:s,stickyHeader:c},h=lDe(d),m=E.useMemo(()=>({padding:o,size:s,stickyHeader:c}),[o,s,c]);return l.jsx(EQ.Provider,{value:m,children:l.jsx(cDe,{as:r,role:r===xz?null:"table",ref:n,className:dt(h.root,i),ownerState:d,...u})})}),t5=E.createContext();function uDe(t){return Pt("MuiTableBody",t)}Ft("MuiTableBody",["root"]);const dDe=t=>{const{classes:e}=t;return Lt({root:["root"]},uDe,e)},fDe=qe("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),hDe={variant:"body"},vz="tbody",hS=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiTableBody"}),{className:i,component:r=vz,...o}=a,s={...a,component:r},c=dDe(s);return l.jsx(t5.Provider,{value:hDe,children:l.jsx(fDe,{className:dt(c.root,i),as:r,ref:n,role:r===vz?null:"rowgroup",ownerState:s,...o})})});function pDe(t){return Pt("MuiTableCell",t)}const mDe=Ft("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),gDe=t=>{const{classes:e,variant:n,align:a,padding:i,size:r,stickyHeader:o}=t,s={root:["root",n,o&&"stickyHeader",a!=="inherit"&&`align${Ge(a)}`,i!=="normal"&&`padding${Ge(i)}`,`size${Ge(r)}`]};return Lt(s,pDe,e)},bDe=qe("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Ge(n.size)}`],n.padding!=="normal"&&e[`padding${Ge(n.padding)}`],n.align!=="inherit"&&e[`align${Ge(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(kt(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?t.lighten(t.alpha(t.palette.divider,1),.88):t.darken(t.alpha(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${mDe.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),Qt=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiTableCell"}),{align:i="inherit",className:r,component:o,padding:s,scope:c,size:u,sortDirection:d,variant:h,...m}=a,g=E.useContext(EQ),y=E.useContext(t5),v=y&&y.variant==="head";let S;o?S=o:S=v?"th":"td";let w=c;S==="td"?w=void 0:!w&&v&&(w="col");const _=h||y&&y.variant,T={...a,align:i,component:S,padding:s||(g&&g.padding?g.padding:"normal"),size:u||(g&&g.size?g.size:"medium"),sortDirection:d,stickyHeader:_==="head"&&g&&g.stickyHeader,variant:_},A=gDe(T);let R=null;return d&&(R=d==="asc"?"ascending":"descending"),l.jsx(bDe,{as:S,ref:n,className:dt(A.root,r),"aria-sort":R,scope:w,ownerState:T,...m})});function yDe(t){return Pt("MuiTableContainer",t)}Ft("MuiTableContainer",["root"]);const xDe=t=>{const{classes:e}=t;return Lt({root:["root"]},yDe,e)},vDe=qe("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),n5=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiTableContainer"}),{className:i,component:r="div",...o}=a,s={...a,component:r},c=xDe(s);return l.jsx(vDe,{ref:n,as:r,className:dt(c.root,i),ownerState:s,...o})});function SDe(t){return Pt("MuiTableHead",t)}Ft("MuiTableHead",["root"]);const CDe=t=>{const{classes:e}=t;return Lt({root:["root"]},SDe,e)},wDe=qe("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),_De={variant:"head"},Sz="thead",pS=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiTableHead"}),{className:i,component:r=Sz,...o}=a,s={...a,component:r},c=CDe(s);return l.jsx(t5.Provider,{value:_De,children:l.jsx(wDe,{as:r,className:dt(c.root,i),ref:n,role:r===Sz?null:"rowgroup",ownerState:s,...o})})});function TDe(t){return Pt("MuiToolbar",t)}Ft("MuiToolbar",["root","gutters","regular","dense"]);const EDe=t=>{const{classes:e,disableGutters:n,variant:a}=t;return Lt({root:["root",!n&&"gutters",a]},TDe,e)},ADe=qe("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(kt(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}))),eD=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiToolbar"}),{className:i,component:r="div",disableGutters:o=!1,variant:s="regular",...c}=a,u={...a,component:r,disableGutters:o,variant:s},d=EDe(u);return l.jsx(ADe,{as:r,className:dt(d.root,i),ref:n,ownerState:u,...c})}),AQ=ft(l.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),RQ=ft(l.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function RDe(t){return Pt("MuiTablePaginationActions",t)}Ft("MuiTablePaginationActions",["root"]);const kDe=t=>{const{classes:e}=t;return Lt({root:["root"]},RDe,e)},IDe=qe("div",{name:"MuiTablePaginationActions",slot:"Root"})({}),NDe=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiTablePaginationActions"}),{backIconButtonProps:i,className:r,count:o,disabled:s=!1,getItemAriaLabel:c,nextIconButtonProps:u,onPageChange:d,page:h,rowsPerPage:m,showFirstButton:g,showLastButton:y,slots:v={},slotProps:S={},...w}=a,_=cd(),A=kDe(a),R=re=>{d(re,0)},I=re=>{d(re,h-1)},N=re=>{d(re,h+1)},P=re=>{d(re,Math.max(0,Math.ceil(o/m)-1))},O=v.firstButton??lt,D=v.lastButton??lt,H=v.nextButton??lt,L=v.previousButton??lt,$=v.firstButtonIcon??xQ,M=v.lastButtonIcon??vQ,z=v.nextButtonIcon??RQ,F=v.previousButtonIcon??AQ,G=_?D:O,ee=_?H:L,V=_?L:H,Y=_?O:D,K=_?S.lastButton:S.firstButton,J=_?S.nextButton:S.previousButton,W=_?S.previousButton:S.nextButton,te=_?S.firstButton:S.lastButton;return l.jsxs(IDe,{ref:n,className:dt(A.root,r),...w,children:[g&&l.jsx(G,{onClick:R,disabled:s||h===0,"aria-label":c("first",h),title:c("first",h),...K,children:_?l.jsx(M,{...S.lastButtonIcon}):l.jsx($,{...S.firstButtonIcon})}),l.jsx(ee,{onClick:I,disabled:s||h===0,color:"inherit","aria-label":c("previous",h),title:c("previous",h),...J??i,children:_?l.jsx(z,{...S.nextButtonIcon}):l.jsx(F,{...S.previousButtonIcon})}),l.jsx(V,{onClick:N,disabled:s||(o!==-1?h>=Math.ceil(o/m)-1:!1),color:"inherit","aria-label":c("next",h),title:c("next",h),...W??u,children:_?l.jsx(F,{...S.previousButtonIcon}):l.jsx(z,{...S.nextButtonIcon})}),y&&l.jsx(Y,{onClick:P,disabled:s||h>=Math.ceil(o/m)-1,"aria-label":c("last",h),title:c("last",h),...te,children:_?l.jsx($,{...S.firstButtonIcon}):l.jsx(M,{...S.lastButtonIcon})})]})});function jDe(t){return Pt("MuiTablePagination",t)}const Uv=Ft("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var Cz;const DDe=qe(Qt,{name:"MuiTablePagination",slot:"Root"})(kt(({theme:t})=>({overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}}))),ODe=qe(eD,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(t,e)=>({[`& .${Uv.actions}`]:e.actions,...e.toolbar})})(kt(({theme:t})=>({minHeight:52,paddingRight:2,[`${t.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${Uv.actions}`]:{flexShrink:0,marginLeft:20}}))),MDe=qe("div",{name:"MuiTablePagination",slot:"Spacer"})({flex:"1 1 100%"}),PDe=qe("p",{name:"MuiTablePagination",slot:"SelectLabel"})(kt(({theme:t})=>({...t.typography.body2,flexShrink:0}))),LDe=qe(Xi,{name:"MuiTablePagination",slot:"Select",overridesResolver:(t,e)=>({[`& .${Uv.selectIcon}`]:e.selectIcon,[`& .${Uv.select}`]:e.select,...e.input,...e.selectRoot})})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${Uv.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),zDe=qe(nn,{name:"MuiTablePagination",slot:"MenuItem"})({}),FDe=qe("p",{name:"MuiTablePagination",slot:"DisplayedRows"})(kt(({theme:t})=>({...t.typography.body2,flexShrink:0})));function BDe({from:t,to:e,count:n}){return`${t}${e} of ${n!==-1?n:`more than ${e}`}`}function HDe(t){return`Go to ${t} page`}const $De=t=>{const{classes:e}=t;return Lt({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},jDe,e)},UDe=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiTablePagination"}),{ActionsComponent:i=NDe,backIconButtonProps:r,colSpan:o,component:s=Qt,count:c,disabled:u=!1,getItemAriaLabel:d=HDe,labelDisplayedRows:h=BDe,labelRowsPerPage:m="Rows per page:",nextIconButtonProps:g,onPageChange:y,onRowsPerPageChange:v,page:S,rowsPerPage:w,rowsPerPageOptions:_=[10,25,50,100],SelectProps:T={},showFirstButton:A=!1,showLastButton:R=!1,slotProps:I={},slots:N={},...P}=a,O=a,D=$De(O),H=I?.select??T,L=H.native?"option":zDe;let $;(s===Qt||s==="td")&&($=o||1e3);const M=nd(H.id),z=nd(H.labelId),F=()=>c===-1?(S+1)*w:w===-1?c:Math.min(c,(S+1)*w),G={slots:N,slotProps:I},[ee,V]=qt("root",{ref:n,className:D.root,elementType:DDe,externalForwardedProps:{...G,component:s,...P},ownerState:O,additionalProps:{colSpan:$}}),[Y,K]=qt("toolbar",{className:D.toolbar,elementType:ODe,externalForwardedProps:G,ownerState:O}),[J,W]=qt("spacer",{className:D.spacer,elementType:MDe,externalForwardedProps:G,ownerState:O}),[te,re]=qt("selectLabel",{className:D.selectLabel,elementType:PDe,externalForwardedProps:G,ownerState:O,additionalProps:{id:z}}),[ne,ce]=qt("select",{className:D.select,elementType:LDe,externalForwardedProps:G,ownerState:O}),[pe,me]=qt("menuItem",{className:D.menuItem,elementType:L,externalForwardedProps:G,ownerState:O}),[ge,ye]=qt("displayedRows",{className:D.displayedRows,elementType:FDe,externalForwardedProps:G,ownerState:O});return l.jsx(ee,{...V,children:l.jsxs(Y,{...K,children:[l.jsx(J,{...W}),_.length>1&&l.jsx(te,{...re,children:m}),_.length>1&&l.jsx(ne,{variant:"standard",...!H.variant&&{input:Cz||(Cz=l.jsx(e5,{}))},value:w,onChange:v,id:M,labelId:z,...H,classes:{...H.classes,root:dt(D.input,D.selectRoot,(H.classes||{}).root),select:dt(D.select,(H.classes||{}).select),icon:dt(D.selectIcon,(H.classes||{}).icon)},disabled:u,...ce,children:_.map(he=>E.createElement(pe,{...me,key:he.label?he.label:he,value:he.value?he.value:he},he.label?he.label:he))}),l.jsx(ge,{...ye,children:h({from:c===0?0:S*w+1,to:F(),count:c===-1?-1:c,page:S})}),l.jsx(i,{className:D.actions,backIconButtonProps:r,count:c,nextIconButtonProps:g,onPageChange:y,page:S,rowsPerPage:w,showFirstButton:A,showLastButton:R,slotProps:I.actions,slots:N.actions,getItemAriaLabel:d,disabled:u})]})})});function GDe(t){return Pt("MuiTableRow",t)}const wz=Ft("MuiTableRow",["root","selected","hover","head","footer"]),qDe=t=>{const{classes:e,selected:n,hover:a,head:i,footer:r}=t;return Lt({root:["root",n&&"selected",a&&"hover",i&&"head",r&&"footer"]},GDe,e)},WDe=qe("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(kt(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${wz.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${wz.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)}}}))),_z="tr",Es=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiTableRow"}),{className:i,component:r=_z,hover:o=!1,selected:s=!1,...c}=a,u=E.useContext(t5),d={...a,component:r,hover:o,selected:s,head:u&&u.variant==="head",footer:u&&u.variant==="footer"},h=qDe(d);return l.jsx(WDe,{as:r,ref:n,className:dt(h.root,i),role:r===_z?null:"row",ownerState:d,...c})});function VDe(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function YDe(t,e,n,a={},i=()=>{}){const{ease:r=VDe,duration:o=300}=a;let s=null;const c=e[t];let u=!1;const d=()=>{u=!0},h=m=>{if(u){i(new Error("Animation cancelled"));return}s===null&&(s=m);const g=Math.min(1,(m-s)/o);if(e[t]=r(g)*(n-c)+c,g>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(h)};return c===n?(i(new Error("Element already at target position")),d):(requestAnimationFrame(h),d)}const KDe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function XDe(t){const{onChange:e,...n}=t,a=E.useRef(),i=E.useRef(null),r=()=>{a.current=i.current.offsetHeight-i.current.clientHeight};return Io(()=>{const o=cS(()=>{const c=a.current;r(),c!==a.current&&e(a.current)}),s=il(i.current);return s.addEventListener("resize",o),()=>{o.clear(),s.removeEventListener("resize",o)}},[e]),E.useEffect(()=>{r(),e(a.current)},[e]),l.jsx("div",{style:KDe,...n,ref:i})}function QDe(t){return Pt("MuiTabScrollButton",t)}const ZDe=Ft("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),JDe=t=>{const{classes:e,orientation:n,disabled:a}=t;return Lt({root:["root",n,a&&"disabled"]},QDe,e)},eOe=qe(ts,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${ZDe.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),tOe=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiTabScrollButton"}),{className:i,slots:r={},slotProps:o={},direction:s,orientation:c,disabled:u,...d}=a,h=cd(),m={isRtl:h,...a},g=JDe(m),y=r.StartScrollButtonIcon??AQ,v=r.EndScrollButtonIcon??RQ,S=Zo({elementType:y,externalSlotProps:o.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m}),w=Zo({elementType:v,externalSlotProps:o.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m});return l.jsx(eOe,{component:"div",className:dt(g.root,i),ref:n,role:null,ownerState:m,tabIndex:null,...d,style:{...d.style,...c==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${h?-90:90}deg)`}},children:s==="left"?l.jsx(y,{...S}):l.jsx(v,{...w})})});function nOe(t){return Pt("MuiTabs",t)}const DE=Ft("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Tz=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,Ez=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,tw=(t,e,n)=>{let a=!1,i=n(t,e);for(;i;){if(i===t.firstChild){if(a)return;a=!0}const r=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||r)i=n(t,i);else{i.focus();return}}},aOe=t=>{const{vertical:e,fixed:n,hideScrollbar:a,scrollableX:i,scrollableY:r,centered:o,scrollButtonsHideMobile:s,classes:c}=t;return Lt({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",a&&"hideScrollbar",i&&"scrollableX",r&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",s&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[a&&"hideScrollbar"]},nOe,c)},iOe=qe("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${DE.scrollButtons}`]:e.scrollButtons},{[`& .${DE.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(kt(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${DE.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),rOe=qe("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),oOe=qe("div",{name:"MuiTabs",slot:"List",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.list,e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),sOe=qe("span",{name:"MuiTabs",slot:"Indicator"})(kt(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),lOe=qe(XDe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Az={},No=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiTabs"}),i=Fi(),r=cd(),{"aria-label":o,"aria-labelledby":s,action:c,centered:u=!1,children:d,className:h,component:m="div",allowScrollButtonsMobile:g=!1,indicatorColor:y="primary",onChange:v,orientation:S="horizontal",ScrollButtonComponent:w,scrollButtons:_="auto",selectionFollowsFocus:T,slots:A={},slotProps:R={},TabIndicatorProps:I={},TabScrollButtonProps:N={},textColor:P="primary",value:O,variant:D="standard",visibleScrollbar:H=!1,...L}=a,$=D==="scrollable",M=S==="vertical",z=M?"scrollTop":"scrollLeft",F=M?"top":"left",G=M?"bottom":"right",ee=M?"clientHeight":"clientWidth",V=M?"height":"width",Y={...a,component:m,allowScrollButtonsMobile:g,indicatorColor:y,orientation:S,vertical:M,scrollButtons:_,textColor:P,variant:D,visibleScrollbar:H,fixed:!$,hideScrollbar:$&&!H,scrollableX:$&&!M,scrollableY:$&&M,centered:u&&!$,scrollButtonsHideMobile:!g},K=aOe(Y),J=Zo({elementType:A.StartScrollButtonIcon,externalSlotProps:R.startScrollButtonIcon,ownerState:Y}),W=Zo({elementType:A.EndScrollButtonIcon,externalSlotProps:R.endScrollButtonIcon,ownerState:Y}),[te,re]=E.useState(!1),[ne,ce]=E.useState(Az),[pe,me]=E.useState(!1),[ge,ye]=E.useState(!1),[he,de]=E.useState(!1),[fe,oe]=E.useState({overflow:"hidden",scrollbarWidth:0}),ue=new Map,le=E.useRef(null),Se=E.useRef(null),_e={slots:A,slotProps:{indicator:I,scrollButton:N,...R}},Ie=()=>{const Et=le.current;let Mt;if(Et){const an=Et.getBoundingClientRect();Mt={clientWidth:Et.clientWidth,scrollLeft:Et.scrollLeft,scrollTop:Et.scrollTop,scrollWidth:Et.scrollWidth,top:an.top,bottom:an.bottom,left:an.left,right:an.right}}let rn;if(Et&&O!==!1){const an=Se.current.children;if(an.length>0){const En=an[ue.get(O)];rn=En?En.getBoundingClientRect():null}}return{tabsMeta:Mt,tabMeta:rn}},ze=Wr(()=>{const{tabsMeta:Et,tabMeta:Mt}=Ie();let rn=0,an;M?(an="top",Mt&&Et&&(rn=Mt.top-Et.top+Et.scrollTop)):(an=r?"right":"left",Mt&&Et&&(rn=(r?-1:1)*(Mt[an]-Et[an]+Et.scrollLeft)));const En={[an]:rn,[V]:Mt?Mt[V]:0};if(typeof ne[an]!="number"||typeof ne[V]!="number")ce(En);else{const fa=Math.abs(ne[an]-En[an]),ya=Math.abs(ne[V]-En[V]);(fa>=1||ya>=1)&&ce(En)}}),Me=(Et,{animation:Mt=!0}={})=>{Mt?YDe(z,le.current,Et,{duration:i.transitions.duration.standard}):le.current[z]=Et},Ze=Et=>{let Mt=le.current[z];M?Mt+=Et:Mt+=Et*(r?-1:1),Me(Mt)},Ee=()=>{const Et=le.current[ee];let Mt=0;const rn=Array.from(Se.current.children);for(let an=0;an<rn.length;an+=1){const En=rn[an];if(Mt+En[ee]>Et){an===0&&(Mt=Et);break}Mt+=En[ee]}return Mt},Ne=()=>{Ze(-1*Ee())},ve=()=>{Ze(Ee())},[we,{onChange:Oe,...Le}]=qt("scrollbar",{className:dt(K.scrollableX,K.hideScrollbar),elementType:lOe,shouldForwardComponentProp:!0,externalForwardedProps:_e,ownerState:Y}),We=E.useCallback(Et=>{Oe?.(Et),oe({overflow:null,scrollbarWidth:Et})},[Oe]),[Fe,Ve]=qt("scrollButtons",{className:dt(K.scrollButtons,N.className),elementType:tOe,externalForwardedProps:_e,ownerState:Y,additionalProps:{orientation:S,slots:{StartScrollButtonIcon:A.startScrollButtonIcon||A.StartScrollButtonIcon,EndScrollButtonIcon:A.endScrollButtonIcon||A.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:J,endScrollButtonIcon:W}}}),rt=()=>{const Et={};Et.scrollbarSizeListener=$?l.jsx(we,{...Le,onChange:We}):null;const rn=$&&(_==="auto"&&(pe||ge)||_===!0);return Et.scrollButtonStart=rn?l.jsx(Fe,{direction:r?"right":"left",onClick:Ne,disabled:!pe,...Ve}):null,Et.scrollButtonEnd=rn?l.jsx(Fe,{direction:r?"left":"right",onClick:ve,disabled:!ge,...Ve}):null,Et},at=Wr(Et=>{const{tabsMeta:Mt,tabMeta:rn}=Ie();if(!(!rn||!Mt)){if(rn[F]<Mt[F]){const an=Mt[z]+(rn[F]-Mt[F]);Me(an,{animation:Et})}else if(rn[G]>Mt[G]){const an=Mt[z]+(rn[G]-Mt[G]);Me(an,{animation:Et})}}}),ot=Wr(()=>{$&&_!==!1&&de(!he)});E.useEffect(()=>{const Et=cS(()=>{le.current&&ze()});let Mt;const rn=fa=>{fa.forEach(ya=>{ya.removedNodes.forEach(Ra=>{Mt?.unobserve(Ra)}),ya.addedNodes.forEach(Ra=>{Mt?.observe(Ra)})}),Et(),ot()},an=il(le.current);an.addEventListener("resize",Et);let En;return typeof ResizeObserver<"u"&&(Mt=new ResizeObserver(Et),Array.from(Se.current.children).forEach(fa=>{Mt.observe(fa)})),typeof MutationObserver<"u"&&(En=new MutationObserver(rn),En.observe(Se.current,{childList:!0})),()=>{Et.clear(),an.removeEventListener("resize",Et),En?.disconnect(),Mt?.disconnect()}},[ze,ot]),E.useEffect(()=>{const Et=Array.from(Se.current.children),Mt=Et.length;if(typeof IntersectionObserver<"u"&&Mt>0&&$&&_!==!1){const rn=Et[0],an=Et[Mt-1],En={root:le.current,threshold:.99},fa=Oa=>{me(!Oa[0].isIntersecting)},ya=new IntersectionObserver(fa,En);ya.observe(rn);const Ra=Oa=>{ye(!Oa[0].isIntersecting)},Ka=new IntersectionObserver(Ra,En);return Ka.observe(an),()=>{ya.disconnect(),Ka.disconnect()}}},[$,_,he,d?.length]),E.useEffect(()=>{re(!0)},[]),E.useEffect(()=>{ze()}),E.useEffect(()=>{at(Az!==ne)},[at,ne]),E.useImperativeHandle(c,()=>({updateIndicator:ze,updateScrollButtons:ot}),[ze,ot]);const[bt,Xt]=qt("indicator",{className:dt(K.indicator,I.className),elementType:sOe,externalForwardedProps:_e,ownerState:Y,additionalProps:{style:ne}}),Jt=l.jsx(bt,{...Xt});let vn=0;const jn=E.Children.map(d,Et=>{if(!E.isValidElement(Et))return null;const Mt=Et.props.value===void 0?vn:Et.props.value;ue.set(Mt,vn);const rn=Mt===O;return vn+=1,E.cloneElement(Et,{fullWidth:D==="fullWidth",indicator:rn&&!te&&Jt,selected:rn,selectionFollowsFocus:T,onChange:v,textColor:P,value:Mt,...vn===1&&O===!1&&!Et.props.tabIndex?{tabIndex:0}:{}})}),ea=Et=>{if(Et.altKey||Et.shiftKey||Et.ctrlKey||Et.metaKey)return;const Mt=Se.current,rn=sr(Mt).activeElement;if(rn.getAttribute("role")!=="tab")return;let En=S==="horizontal"?"ArrowLeft":"ArrowUp",fa=S==="horizontal"?"ArrowRight":"ArrowDown";switch(S==="horizontal"&&r&&(En="ArrowRight",fa="ArrowLeft"),Et.key){case En:Et.preventDefault(),tw(Mt,rn,Ez);break;case fa:Et.preventDefault(),tw(Mt,rn,Tz);break;case"Home":Et.preventDefault(),tw(Mt,null,Tz);break;case"End":Et.preventDefault(),tw(Mt,null,Ez);break}},Kt=rt(),[Ht,hn]=qt("root",{ref:n,className:dt(K.root,h),elementType:iOe,externalForwardedProps:{..._e,...L,component:m},ownerState:Y}),[_n,Tn]=qt("scroller",{ref:le,className:K.scroller,elementType:rOe,externalForwardedProps:_e,ownerState:Y,additionalProps:{style:{overflow:fe.overflow,[M?`margin${r?"Left":"Right"}`:"marginBottom"]:H?void 0:-fe.scrollbarWidth}}}),[Wt,Rn]=qt("list",{ref:Se,className:dt(K.list,K.flexContainer),elementType:oOe,externalForwardedProps:_e,ownerState:Y,getSlotProps:Et=>({...Et,onKeyDown:Mt=>{ea(Mt),Et.onKeyDown?.(Mt)}})});return l.jsxs(Ht,{...hn,children:[Kt.scrollButtonStart,Kt.scrollbarSizeListener,l.jsxs(_n,{...Tn,children:[l.jsx(Wt,{"aria-label":o,"aria-labelledby":s,"aria-orientation":S==="vertical"?"vertical":null,role:"tablist",...Rn,children:jn}),te&&Jt]}),Kt.scrollButtonEnd]})});function cOe(t){return Pt("MuiTextField",t)}Ft("MuiTextField",["root"]);const uOe={standard:Yj,filled:Vj,outlined:Zj},dOe=t=>{const{classes:e}=t;return Lt({root:["root"]},cOe,e)},fOe=qe(ri,{name:"MuiTextField",slot:"Root"})({}),Tt=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:r=!1,children:o,className:s,color:c="primary",defaultValue:u,disabled:d=!1,error:h=!1,FormHelperTextProps:m,fullWidth:g=!1,helperText:y,id:v,InputLabelProps:S,inputProps:w,InputProps:_,inputRef:T,label:A,maxRows:R,minRows:I,multiline:N=!1,name:P,onBlur:O,onChange:D,onFocus:H,placeholder:L,required:$=!1,rows:M,select:z=!1,SelectProps:F,slots:G={},slotProps:ee={},type:V,value:Y,variant:K="outlined",...J}=a,W={...a,autoFocus:r,color:c,disabled:d,error:h,fullWidth:g,multiline:N,required:$,select:z,variant:K},te=dOe(W),re=nd(v),ne=y&&re?`${re}-helper-text`:void 0,ce=A&&re?`${re}-label`:void 0,pe=uOe[K],me={slots:G,slotProps:{input:_,inputLabel:S,htmlInput:w,formHelperText:m,select:F,...ee}},ge={},ye=me.slotProps.inputLabel;K==="outlined"&&(ye&&typeof ye.shrink<"u"&&(ge.notched=ye.shrink),ge.label=A),z&&((!F||!F.native)&&(ge.id=void 0),ge["aria-describedby"]=void 0);const[he,de]=qt("root",{elementType:fOe,shouldForwardComponentProp:!0,externalForwardedProps:{...me,...J},ownerState:W,className:dt(te.root,s),ref:n,additionalProps:{disabled:d,error:h,fullWidth:g,required:$,color:c,variant:K}}),[fe,oe]=qt("input",{elementType:pe,externalForwardedProps:me,additionalProps:ge,ownerState:W}),[ue,le]=qt("inputLabel",{elementType:Nr,externalForwardedProps:me,ownerState:W}),[Se,_e]=qt("htmlInput",{elementType:"input",externalForwardedProps:me,ownerState:W}),[Ie,ze]=qt("formHelperText",{elementType:JIe,externalForwardedProps:me,ownerState:W}),[Me,Ze]=qt("select",{elementType:Xi,externalForwardedProps:me,ownerState:W}),Ee=l.jsx(fe,{"aria-describedby":ne,autoComplete:i,autoFocus:r,defaultValue:u,fullWidth:g,multiline:N,name:P,rows:M,maxRows:R,minRows:I,type:V,value:Y,id:re,inputRef:T,onBlur:O,onChange:D,onFocus:H,placeholder:L,inputProps:_e,slots:{input:G.htmlInput?Se:void 0},...oe});return l.jsxs(he,{...de,children:[A!=null&&A!==""&&l.jsx(ue,{htmlFor:re,id:ce,...le,children:A}),z?l.jsx(Me,{"aria-describedby":ne,id:re,labelId:ce,value:Y,input:Ee,...Ze,children:o}):Ee,y&&l.jsx(Ie,{id:ne,...ze,children:y})]})});function hOe(t){return Pt("MuiToggleButton",t)}const Fm=Ft("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),kQ=E.createContext({}),IQ=E.createContext(void 0);function pOe(t,e){return e===void 0||t===void 0?!1:Array.isArray(e)?e.includes(t):t===e}const mOe=t=>{const{classes:e,fullWidth:n,selected:a,disabled:i,size:r,color:o}=t,s={root:["root",a&&"selected",i&&"disabled",n&&"fullWidth",`size${Ge(r)}`,o]};return Lt(s,hOe,e)},gOe=qe(ts,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`size${Ge(n.size)}`]]}})(kt(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${Fm.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${Fm.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.text.primary,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(sa()).map(([e])=>({props:{color:e},style:{[`&.${Fm.selected}`]:{color:(t.vars||t).palette[e].main,backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),of=E.forwardRef(function(e,n){const{value:a,...i}=E.useContext(kQ),r=E.useContext(IQ),o=nb({...i,selected:pOe(e.value,a)},e),s=Bt({props:o,name:"MuiToggleButton"}),{children:c,className:u,color:d="standard",disabled:h=!1,disableFocusRipple:m=!1,fullWidth:g=!1,onChange:y,onClick:v,selected:S,size:w="medium",value:_,...T}=s,A={...s,color:d,disabled:h,disableFocusRipple:m,fullWidth:g,size:w},R=mOe(A),I=P=>{v&&(v(P,_),P.defaultPrevented)||y&&y(P,_)},N=r||"";return l.jsx(gOe,{className:dt(i.className,R.root,u,N),disabled:h,focusRipple:!m,ref:n,onClick:I,onChange:y,value:_,ownerState:A,"aria-pressed":S,...T,children:c})});function bOe(t){return Pt("MuiToggleButtonGroup",t)}const mi=Ft("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),yOe=t=>{const{classes:e,orientation:n,fullWidth:a,disabled:i}=t,r={root:["root",n,a&&"fullWidth"],grouped:["grouped",`grouped${Ge(n)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Lt(r,bOe,e)},xOe=qe("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${mi.grouped}`]:e.grouped},{[`& .${mi.grouped}`]:e[`grouped${Ge(n.orientation)}`]},{[`& .${mi.firstButton}`]:e.firstButton},{[`& .${mi.lastButton}`]:e.lastButton},{[`& .${mi.middleButton}`]:e.middleButton},e.root,n.orientation==="vertical"&&e.vertical,n.fullWidth&&e.fullWidth]}})(kt(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${mi.grouped}`]:{[`&.${mi.selected} + .${mi.grouped}.${mi.selected}`]:{borderTop:0,marginTop:0}},[`& .${mi.firstButton},& .${mi.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${mi.lastButton},& .${mi.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${mi.lastButton}.${Fm.disabled},& .${mi.middleButton}.${Fm.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${mi.grouped}`]:{[`&.${mi.selected} + .${mi.grouped}.${mi.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${mi.firstButton},& .${mi.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${mi.lastButton},& .${mi.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${mi.lastButton}.${Fm.disabled},& .${mi.middleButton}.${Fm.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),NQ=E.forwardRef(function(e,n){const a=Bt({props:e,name:"MuiToggleButtonGroup"}),{children:i,className:r,color:o="standard",disabled:s=!1,exclusive:c=!1,fullWidth:u=!1,onChange:d,orientation:h="horizontal",size:m="medium",value:g,...y}=a,v={...a,disabled:s,fullWidth:u,orientation:h,size:m},S=yOe(v),w=E.useCallback((N,P)=>{if(!d)return;const O=g&&g.indexOf(P);let D;g&&O>=0?(D=g.slice(),D.splice(O,1)):D=g?g.concat(P):[P],d(N,D)},[d,g]),_=E.useCallback((N,P)=>{d&&d(N,g===P?null:P)},[d,g]),T=E.useMemo(()=>({className:S.grouped,onChange:c?_:w,value:g,size:m,fullWidth:u,color:o,disabled:s}),[S.grouped,c,_,w,g,m,u,o,s]),A=t9e(i),R=A.length,I=N=>{const P=N===0,O=N===R-1;return P&&O?"":P?S.firstButton:O?S.lastButton:S.middleButton};return l.jsx(xOe,{role:"group",className:dt(S.root,r),ref:n,ownerState:v,...y,children:l.jsx(kQ.Provider,{value:T,children:A.map((N,P)=>l.jsx(IQ.Provider,{value:I(P),children:N},P))})})}),xf=VK({themeId:Bc}),tD=ft(l.jsx("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"})),Vr=ft(l.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),cb=ft(l.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),vf=ft(l.jsx("path",{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25z"})),vOe=ft(l.jsx("path",{d:"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6m6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26"})),jQ=ft(l.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12m8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8"})),OE=ft(l.jsx("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6"})),ME=ft(l.jsx("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6m0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4"})),SOe=ft(l.jsx("path",{d:"M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3m13.71-9.37-1.34-1.34a.996.996 0 0 0-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41"})),DQ=ft(l.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5.97 4.06L14.09 6l1.41 1.41L16.91 6l1.06 1.06-1.41 1.41 1.41 1.41-1.06 1.06-1.41-1.4-1.41 1.41-1.06-1.06 1.41-1.41zm-6.78.66h5v1.5h-5zM11.5 16h-2v2H8v-2H6v-1.5h2v-2h1.5v2h2zm6.5 1.25h-5v-1.5h5zm0-2.5h-5v-1.5h5z"})),nD=ft(l.jsx("path",{d:"m14 4 2.29 2.29-2.88 2.88 1.42 1.42 2.88-2.88L20 10V4zm-4 0H4v6l2.29-2.29 4.71 4.7V20h2v-8.41l-5.29-5.3z"})),OQ=ft([l.jsx("path",{d:"m12 2-5.5 9h11z"},"0"),l.jsx("circle",{cx:"17.5",cy:"17.5",r:"4.5"},"1"),l.jsx("path",{d:"M3 13.5h8v8H3z"},"2")]),COe=ft(l.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),po=ft(l.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),Vh=ft(l.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),wOe=ft(l.jsx("path",{d:"M16 11h-1V3c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v8H8c-2.76 0-5 2.24-5 5v7h18v-7c0-2.76-2.24-5-5-5m3 10h-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v3h-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v3H9v-3c0-.55-.45-1-1-1s-1 .45-1 1v3H5v-5c0-1.65 1.35-3 3-3h8c1.65 0 3 1.35 3 3z"})),Db=ft(l.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Sf=ft(l.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),_Oe=ft(l.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96M3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4z"})),TOe=ft(l.jsx("path",{d:"M21.5 14.98c-.02 0-.03 0-.05.01C21.2 13.3 19.76 12 18 12c-1.4 0-2.6.83-3.16 2.02C13.26 14.1 12 15.4 12 17c0 1.66 1.34 3 3 3l6.5-.02c1.38 0 2.5-1.12 2.5-2.5s-1.12-2.5-2.5-2.5M10 4.26v2.09C7.67 7.18 6 9.39 6 12c0 1.77.78 3.34 2 4.44V14h2v6H4v-2h2.73C5.06 16.54 4 14.4 4 12c0-3.73 2.55-6.85 6-7.74M20 6h-2.73c1.43 1.26 2.41 3.01 2.66 5h-2.02c-.23-1.36-.93-2.55-1.91-3.44V10h-2V4h6z"})),bp=ft(l.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"})),EOe=ft(l.jsx("path",{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2m-11-4 2.03 2.71L16 11l4 5H8zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"})),ng=ft(l.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"})),AOe=ft(l.jsx("path",{d:"M17 15h2V7c0-1.1-.9-2-2-2H9v2h8zM7 17V1H5v4H1v2h4v10c0 1.1.9 2 2 2h10v4h2v-4h4v-2z"})),Wa=ft(l.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),C7=ft(l.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"})),MQ=ft(l.jsx("path",{d:"M3 13h2v-2H3zm4 8h2v-2H7zm6-18h-2v2h2zm6 0v2h2c0-1.1-.9-2-2-2M5 21v-2H3c0 1.1.9 2 2 2m-2-4h2v-2H3zm8 4h2v-2h-2zm8-8h2v-2h-2zm0-4h2V7h-2zm-4-4h2V3h-2zM7.83 5 7 4.17V3h2v2zm12 12-.83-.83V15h2v2zm1.36 4.19L2.81 2.81 1.39 4.22 4.17 7H3v2h2V7.83l2 2V17h7.17l2 2H15v2h2v-1.17l2.78 2.78zM9 15v-3.17L12.17 15zm6-2.83V9h-3.17l-2-2H17v7.17z"})),fg=ft(l.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),PQ=ft(l.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),ROe=ft(l.jsx("path",{d:"M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m-6 12v-3h-4v-4h4V8l5 5z"})),id=ft(l.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),hg=ft(l.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"})),aD=ft(l.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"})),zi=ft(l.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),kOe=ft(l.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"})),IOe=ft(l.jsx("path",{d:"M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3"})),NOe=ft(l.jsx("path",{d:"M17 4h3c1.1 0 2 .9 2 2v2h-2V6h-3zM4 8V6h3V4H4c-1.1 0-2 .9-2 2v2zm16 8v2h-3v2h3c1.1 0 2-.9 2-2v-2zM7 18H4v-2H2v2c0 1.1.9 2 2 2h3zM18 8H6v8h12z"})),LQ=ft(l.jsx("path",{d:"M15 21h2v-2h-2zm4-12h2V7h-2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2m16-2v2h2c0-1.1-.9-2-2-2m-8 20h2V1h-2zm8-6h2v-2h-2zM15 5h2V3h-2zm4 8h2v-2h-2zm0 8c1.1 0 2-.9 2-2h-2z"})),jOe=ft([l.jsx("path",{d:"M9 12c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3"},"0"),l.jsx("path",{d:"M8 10V8H5.09C6.47 5.61 9.05 4 12 4c3.72 0 6.85 2.56 7.74 6h2.06c-.93-4.56-4.96-8-9.8-8-3.27 0-6.18 1.58-8 4.01V4H2v6zm8 4v2h2.91c-1.38 2.39-3.96 4-6.91 4-3.72 0-6.85-2.56-7.74-6H2.2c.93 4.56 4.96 8 9.8 8 3.27 0 6.18-1.58 8-4.01V20h2v-6z"},"1")]),cl=ft(l.jsx("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z"})),Ps=ft(l.jsx("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 12H4V8h16z"})),iD=ft(l.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"})),G1=ft(l.jsx("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"})),DOe=ft(l.jsx("path",{d:"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-8 11H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11zm7-1c0 .55-.45 1-1 1h-.75v1.5h-1.5V15H14c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1zm-3.5-.5h2v-3h-2z"})),M4=ft(l.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"})),zQ=ft(l.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})),mS=ft(l.jsx("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2zm10 14.5V20H8v-3.5l4-4zm-4-5-4-4V4h8v3.5z"})),qc=ft(l.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"})),Yh=ft(l.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),Wl=ft(l.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"})),OOe=ft(l.jsx("path",{d:"M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2M11 16l4-4-4-4v3H1v2h10z"})),MOe=ft(l.jsx("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm7 7V3.5L18.5 9z"})),POe=ft(l.jsx("path",{d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12z"})),LOe=ft(l.jsx("path",{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27z"})),zOe=ft(l.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"})),FOe=ft(l.jsx("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"})),BOe=ft(l.jsx("path",{d:"m21.41 11.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42M5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7"})),HOe=ft(l.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2M9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9zm9 14H6V10h12zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2"})),Rz=ft(l.jsx("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"})),FQ=ft(l.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),BQ=ft(l.jsx("path",{d:"M17 20.41 18.41 19 15 15.59 13.59 17zM7.5 8H11v5.59L5.59 19 7 20.41l6-6V8h3.5L12 3.5z"})),$Oe=ft(l.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),HQ=ft(l.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),UOe=ft([l.jsx("path",{d:"m17 17 5-5-5-5-1.41 1.41L18.17 11H9v2h9.17l-2.58 2.59z"},"0"),l.jsx("path",{d:"M19 19H5V5h14v2h2V5c0-1.1-.89-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.11 0 2-.9 2-2v-2h-2z"},"1")]),GOe=ft(l.jsx("path",{d:"M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5"})),qOe=ft(l.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),w7=ft(l.jsx("path",{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2m-11-4 2.03 2.71L16 11l4 5H8zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"})),ip=ft(l.jsx("path",{d:"M8 5v14l11-7z"})),_7=ft(l.jsx("path",{d:"M14 10H3v2h11zm0-4H3v2h11zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2zM3 16h7v-2H3z"})),WOe=ft(l.jsx("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7z"})),jo=ft(l.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"})),VOe=ft(l.jsx("path",{d:"M7 7h10v3l4-4-4-4v3H5v6h2zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2z"})),YOe=ft(l.jsx("path",{d:"M7.11 8.53 5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47M6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47m1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93"})),$Q=ft(l.jsx("path",{d:"M15.55 5.55 11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10zM19.93 11c-.17-1.39-.72-2.73-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47zM13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.44-1.44c-.75.54-1.59.89-2.46 1.03m3.89-2.42 1.42 1.41c.9-1.16 1.45-2.5 1.62-3.89h-2.02c-.14.87-.48 1.72-1.02 2.48"})),rD=ft(l.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),KOe=ft(l.jsx("path",{d:"M19.8 18.4 14 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81H9.04c-.42 0-.65.48-.39.81L10 6.5v4.17L4.2 18.4c-.49.66-.02 1.6.8 1.6h14c.82 0 1.29-.94.8-1.6"})),Wc=ft(l.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),XOe=ft(l.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"})),UQ=ft(l.jsx("path",{d:"M3 5h2V3c-1.1 0-2 .9-2 2m0 8h2v-2H3zm4 8h2v-2H7zM3 9h2V7H3zm10-6h-2v2h2zm6 0v2h2c0-1.1-.9-2-2-2M5 21v-2H3c0 1.1.9 2 2 2m-2-4h2v-2H3zM9 3H7v2h2zm2 18h2v-2h-2zm8-8h2v-2h-2zm0 8c1.1 0 2-.9 2-2h-2zm0-12h2V7h-2zm0 8h2v-2h-2zm-4 4h2v-2h-2zm0-16h2V3h-2zM7 17h10V7H7zm2-8h6v6H9z"})),ub=ft(l.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"})),QOe=ft(l.jsx("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"})),ZOe=ft(l.jsx("path",{d:"M6 6h12v12H6z"})),GQ=ft(l.jsx("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"})),JOe=ft(l.jsx("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"})),eMe=ft(l.jsx("path",{d:"M20 10V8h-4V4h-2v4h-4V4H8v4H4v2h4v4H4v2h4v4h2v-4h4v4h2v-4h4v-2h-4v-4zm-6 4h-4v-4h4z"})),tMe=ft(l.jsx("path",{d:"M2.5 4v3h5v12h3V7h5V4zm19 5h-9v3h3v7h3v-7h3z"})),nMe=ft(l.jsx("path",{d:"m20.41 8.41-4.83-4.83c-.37-.37-.88-.58-1.41-.58H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V9.83c0-.53-.21-1.04-.59-1.42M7 7h7v2H7zm10 10H7v-2h10zm0-4H7v-2h10z"})),aMe=ft(l.jsx("path",{d:"M3 17v2h6v-2zM3 5v2h10V5zm10 16v-2h8v-2h-8v-2h-2v6zM7 9v2H3v2h4v2h2V9zm14 4v-2H11v2zm-6-4h2V7h4V5h-4V3h-2z"})),iMe=ft(l.jsx("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"})),oD=ft(l.jsx("path",{d:"M7.41 18.59 8.83 20 12 16.83 15.17 20l1.41-1.41L12 14zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10z"})),sD=ft(l.jsx("path",{d:"M12 5.83 15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15z"})),_2=ft(l.jsx("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"})),lD=ft(l.jsx("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8 12.5v-9l6 4.5z"})),kz=ft(l.jsx("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11z"})),qQ=ft(l.jsx("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"})),rMe=ft(l.jsx("path",{d:"M14.67 5v6.5H9.33V5zm1 6.5H21V5h-5.33zm-1 7.5v-6.5H9.33V19zm1-6.5V19H21v-6.5zm-7.34 0H3V19h5.33zm0-1V5H3v6.5z"})),gS=ft(l.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),P4=ft(l.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"})),L4=ft(l.jsx("path",{d:"M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"})),oMe=ft(l.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"})),WQ=ft([l.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"},"0"),l.jsx("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"},"1")]),VQ=ft(l.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14M7 9h5v1H7z"}));function sMe(t,e){if(t==null)return{};var n=lMe(t,e),a,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function lMe(t,e){if(t==null)return{};var n={},a=Object.keys(t),i,r;for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function z4(){return z4=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},z4.apply(this,arguments)}function Iz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function qx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Iz(Object(n),!0).forEach(function(a){cMe(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iz(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function cMe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const uMe={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},PE=2;class F4 extends ke.Component{constructor(e){super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let n;this.props.breakpointCols&&this.props.breakpointCols.default?n=this.props.breakpointCols.default:n=parseInt(this.props.breakpointCols)||PE,this.state={columnCount:n}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const e=window&&window.innerWidth||1/0;let n=this.props.breakpointCols;typeof n!="object"&&(n={default:parseInt(n)||PE});let a=1/0,i=n.default||PE;for(let r in n){const o=parseInt(r);o>0&&e<=o&&o<a&&(a=o,i=n[r])}i=Math.max(1,parseInt(i)||1),this.state.columnCount!==i&&this.setState({columnCount:i})}itemsInColumns(){const e=this.state.columnCount,n=new Array(e),a=ke.Children.toArray(this.props.children);for(let i=0;i<a.length;i++){const r=i%e;n[r]||(n[r]=[]),n[r].push(a[i])}return n}renderColumns(){const{column:e,columnAttrs:n={},columnClassName:a}=this.props,i=this.itemsInColumns(),r=`${100/i.length}%`;let o=a;o&&typeof o!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof o>"u"&&(o="my-masonry-grid_column"));const s=qx(qx(qx({},e),n),{},{style:qx(qx({},n.style),{},{width:r}),className:o});return i.map((c,u)=>ke.createElement("div",z4({},s,{key:u}),c))}logDeprecated(e){console.error("[Masonry]",e)}render(){const e=this.props,{children:n,breakpointCols:a,columnClassName:i,columnAttrs:r,column:o,className:s}=e,c=sMe(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let u=s;return typeof s!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof s>"u"&&(u="my-masonry-grid")),ke.createElement("div",z4({},c,{className:u}),this.renderColumns())}}F4.defaultProps=uMe;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var T7=function(t,e){return T7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},T7(t,e)};function dMe(t,e){T7(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Gv=function(){return Gv=Object.assign||function(e){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gv.apply(this,arguments)};function fMe(t,e,n,a){var i,r=!1,o=0;function s(){i&&clearTimeout(i)}function c(){s(),r=!0}typeof e!="boolean"&&(a=n,n=e,e=void 0);function u(){var d=this,h=Date.now()-o,m=arguments;if(r)return;function g(){o=Date.now(),n.apply(d,m)}function y(){i=void 0}a&&!i&&g(),s(),a===void 0&&h>t?g():e!==!0&&(i=setTimeout(a?y:g,a===void 0?t-h:t))}return u.cancel=c,u}var q1={Pixel:"Pixel",Percent:"Percent"},Nz={unit:q1.Percent,value:.8};function jz(t){return typeof t=="number"?{unit:q1.Percent,value:t*100}:typeof t=="string"?t.match(/^(\d*(\.\d+)?)px$/)?{unit:q1.Pixel,value:parseFloat(t)}:t.match(/^(\d*(\.\d+)?)%$/)?{unit:q1.Percent,value:parseFloat(t)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),Nz):(console.warn("scrollThreshold should be string or number"),Nz)}var YQ=(function(t){dMe(e,t);function e(n){var a=t.call(this,n)||this;return a.lastScrollTop=0,a.actionTriggered=!1,a.startY=0,a.currentY=0,a.dragging=!1,a.maxPullDownDistance=0,a.getScrollableTarget=function(){return a.props.scrollableTarget instanceof HTMLElement?a.props.scrollableTarget:typeof a.props.scrollableTarget=="string"?document.getElementById(a.props.scrollableTarget):(a.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},a.onStart=function(i){a.lastScrollTop||(a.dragging=!0,i instanceof MouseEvent?a.startY=i.pageY:i instanceof TouchEvent&&(a.startY=i.touches[0].pageY),a.currentY=a.startY,a._infScroll&&(a._infScroll.style.willChange="transform",a._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},a.onMove=function(i){a.dragging&&(i instanceof MouseEvent?a.currentY=i.pageY:i instanceof TouchEvent&&(a.currentY=i.touches[0].pageY),!(a.currentY<a.startY)&&(a.currentY-a.startY>=Number(a.props.pullDownToRefreshThreshold)&&a.setState({pullToRefreshThresholdBreached:!0}),!(a.currentY-a.startY>a.maxPullDownDistance*1.5)&&a._infScroll&&(a._infScroll.style.overflow="visible",a._infScroll.style.transform="translate3d(0px, "+(a.currentY-a.startY)+"px, 0px)")))},a.onEnd=function(){a.startY=0,a.currentY=0,a.dragging=!1,a.state.pullToRefreshThresholdBreached&&(a.props.refreshFunction&&a.props.refreshFunction(),a.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){a._infScroll&&(a._infScroll.style.overflow="auto",a._infScroll.style.transform="none",a._infScroll.style.willChange="unset")})},a.onScrollListener=function(i){typeof a.props.onScroll=="function"&&setTimeout(function(){return a.props.onScroll&&a.props.onScroll(i)},0);var r=a.props.height||a._scrollableNode?i.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!a.actionTriggered){var o=a.props.inverse?a.isElementAtTop(r,a.props.scrollThreshold):a.isElementAtBottom(r,a.props.scrollThreshold);o&&a.props.hasMore&&(a.actionTriggered=!0,a.setState({showLoader:!0}),a.props.next&&a.props.next()),a.lastScrollTop=r.scrollTop}},a.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:n.dataLength},a.throttledOnScrollListener=fMe(150,a.onScrollListener).bind(a),a.onStart=a.onStart.bind(a),a.onMove=a.onMove.bind(a),a.onEnd=a.onEnd.bind(a),a}return e.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},e.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},e.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},e.getDerivedStateFromProps=function(n,a){var i=n.dataLength!==a.prevDataLength;return i?Gv(Gv({},a),{prevDataLength:n.dataLength}):null},e.prototype.isElementAtTop=function(n,a){a===void 0&&(a=.8);var i=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,r=jz(a);return r.unit===q1.Pixel?n.scrollTop<=r.value+i-n.scrollHeight+1:n.scrollTop<=r.value/100+i-n.scrollHeight+1},e.prototype.isElementAtBottom=function(n,a){a===void 0&&(a=.8);var i=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,r=jz(a);return r.unit===q1.Pixel?n.scrollTop+i>=n.scrollHeight-r.value:n.scrollTop+i>=r.value/100*n.scrollHeight},e.prototype.render=function(){var n=this,a=Gv({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),i=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),r=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return ke.createElement("div",{style:r,className:"infinite-scroll-component__outerdiv"},ke.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(o){return n._infScroll=o},style:a},this.props.pullDownToRefresh&&ke.createElement("div",{style:{position:"relative"},ref:function(o){return n._pullDown=o}},ke.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!i&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},e})(E.Component);const hMe=()=>"http://localhost:1566",pMe=t=>t.replace(/\/+$/,""),mMe=t=>/^https?:\/\//i.test(t)?t:`http://${t}`,gMe=()=>{if(typeof window>"u")return;const t=window?.electronAPI;return t?.backendOrigin||t?.publicBaseUrl},bMe=()=>[void 0,void 0,void 0].find(e=>e&&e.trim().length>0);let Wx=null;const Zc=()=>{if(Wx)return Wx;const t=gMe()||bMe();return t?Wx=pMe(mMe(t.trim())):Wx=hMe(),Wx},yMe=t=>/^https?:\/\//i.test(t),xMe=t=>t.replace(/^[/\\]+/,"").replace(/^uploads[/\\]+/i,"").replace(/\\/g,"/"),B4=t=>{if(!t||t.trim().length===0)return null;if(yMe(t))return t;const e=xMe(t.trim());return`${Zc()}/${e}`},vMe=t=>{const e=yt.c(13),{tier:n,score:a}=t,i=n.max_score!==null?`${n.min_score} ~ ${n.max_score}`:`${n.min_score} `,r=n.tier_name;let o;e[0]!==a?(o=a.toFixed(1),e[0]=a,e[1]=o):o=e[1];const s=`${r}: ${o} (${i})`,c=n.color||"#757575";let u;e[2]!==c?(u={bgcolor:c,filter:"brightness(1.1)"},e[2]=c,e[3]=u):u=e[3];let d;e[4]!==c||e[5]!==u?(d={fontSize:"0.7rem",height:"26px",fontWeight:600,bgcolor:c,color:"#ffffff",backdropFilter:"blur(4px)",boxShadow:"0 2px 4px rgba(0,0,0,0.2)","&:hover":u},e[4]=c,e[5]=u,e[6]=d):d=e[6];let h;e[7]!==d||e[8]!==n.tier_name?(h=l.jsx(mt,{label:n.tier_name,size:"small",sx:d}),e[7]=d,e[8]=n.tier_name,e[9]=h):h=e[9];let m;return e[10]!==h||e[11]!==s?(m=l.jsx(jt,{title:s,placement:"top",arrow:!0,children:h}),e[10]=h,e[11]=s,e[12]=m):m=e[12],m},KQ=E.memo(vMe);function XQ(t,e){return function(){return t.apply(e,arguments)}}const{toString:SMe}=Object.prototype,{getPrototypeOf:cD}=Object,{iterator:a5,toStringTag:QQ}=Symbol,i5=(t=>e=>{const n=SMe.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Jc=t=>(t=t.toLowerCase(),e=>i5(e)===t),r5=t=>e=>typeof e===t,{isArray:Ob}=Array,db=r5("undefined");function bS(t){return t!==null&&!db(t)&&t.constructor!==null&&!db(t.constructor)&&Ns(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ZQ=Jc("ArrayBuffer");function CMe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ZQ(t.buffer),e}const wMe=r5("string"),Ns=r5("function"),JQ=r5("number"),yS=t=>t!==null&&typeof t=="object",_Me=t=>t===!0||t===!1,Zw=t=>{if(i5(t)!=="object")return!1;const e=cD(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(QQ in t)&&!(a5 in t)},TMe=t=>{if(!yS(t)||bS(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},EMe=Jc("Date"),AMe=Jc("File"),RMe=Jc("Blob"),kMe=Jc("FileList"),IMe=t=>yS(t)&&Ns(t.pipe),NMe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ns(t.append)&&((e=i5(t))==="formdata"||e==="object"&&Ns(t.toString)&&t.toString()==="[object FormData]"))},jMe=Jc("URLSearchParams"),[DMe,OMe,MMe,PMe]=["ReadableStream","Request","Response","Headers"].map(Jc),LMe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xS(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let a,i;if(typeof t!="object"&&(t=[t]),Ob(t))for(a=0,i=t.length;a<i;a++)e.call(null,t[a],a,t);else{if(bS(t))return;const r=n?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let s;for(a=0;a<o;a++)s=r[a],e.call(null,t[s],s,t)}}function eZ(t,e){if(bS(t))return null;e=e.toLowerCase();const n=Object.keys(t);let a=n.length,i;for(;a-- >0;)if(i=n[a],e===i.toLowerCase())return i;return null}const Bm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tZ=t=>!db(t)&&t!==Bm;function E7(){const{caseless:t,skipUndefined:e}=tZ(this)&&this||{},n={},a=(i,r)=>{const o=t&&eZ(n,r)||r;Zw(n[o])&&Zw(i)?n[o]=E7(n[o],i):Zw(i)?n[o]=E7({},i):Ob(i)?n[o]=i.slice():(!e||!db(i))&&(n[o]=i)};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&xS(arguments[i],a);return n}const zMe=(t,e,n,{allOwnKeys:a}={})=>(xS(e,(i,r)=>{n&&Ns(i)?t[r]=XQ(i,n):t[r]=i},{allOwnKeys:a}),t),FMe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),BMe=(t,e,n,a)=>{t.prototype=Object.create(e.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},HMe=(t,e,n,a)=>{let i,r,o;const s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),r=i.length;r-- >0;)o=i[r],(!a||a(o,t,e))&&!s[o]&&(e[o]=t[o],s[o]=!0);t=n!==!1&&cD(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},$Me=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const a=t.indexOf(e,n);return a!==-1&&a===n},UMe=t=>{if(!t)return null;if(Ob(t))return t;let e=t.length;if(!JQ(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},GMe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&cD(Uint8Array)),qMe=(t,e)=>{const a=(t&&t[a5]).call(t);let i;for(;(i=a.next())&&!i.done;){const r=i.value;e.call(t,r[0],r[1])}},WMe=(t,e)=>{let n;const a=[];for(;(n=t.exec(e))!==null;)a.push(n);return a},VMe=Jc("HTMLFormElement"),YMe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,i){return a.toUpperCase()+i}),Dz=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),KMe=Jc("RegExp"),nZ=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),a={};xS(n,(i,r)=>{let o;(o=e(i,r,t))!==!1&&(a[r]=o||i)}),Object.defineProperties(t,a)},XMe=t=>{nZ(t,(e,n)=>{if(Ns(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=t[n];if(Ns(a)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},QMe=(t,e)=>{const n={},a=i=>{i.forEach(r=>{n[r]=!0})};return Ob(t)?a(t):a(String(t).split(e)),n},ZMe=()=>{},JMe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function ePe(t){return!!(t&&Ns(t.append)&&t[QQ]==="FormData"&&t[a5])}const tPe=t=>{const e=new Array(10),n=(a,i)=>{if(yS(a)){if(e.indexOf(a)>=0)return;if(bS(a))return a;if(!("toJSON"in a)){e[i]=a;const r=Ob(a)?[]:{};return xS(a,(o,s)=>{const c=n(o,i+1);!db(c)&&(r[s]=c)}),e[i]=void 0,r}}return a};return n(t,0)},nPe=Jc("AsyncFunction"),aPe=t=>t&&(yS(t)||Ns(t))&&Ns(t.then)&&Ns(t.catch),aZ=((t,e)=>t?setImmediate:e?((n,a)=>(Bm.addEventListener("message",({source:i,data:r})=>{i===Bm&&r===n&&a.length&&a.shift()()},!1),i=>{a.push(i),Bm.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ns(Bm.postMessage)),iPe=typeof queueMicrotask<"u"?queueMicrotask.bind(Bm):typeof process<"u"&&process.nextTick||aZ,rPe=t=>t!=null&&Ns(t[a5]),nt={isArray:Ob,isArrayBuffer:ZQ,isBuffer:bS,isFormData:NMe,isArrayBufferView:CMe,isString:wMe,isNumber:JQ,isBoolean:_Me,isObject:yS,isPlainObject:Zw,isEmptyObject:TMe,isReadableStream:DMe,isRequest:OMe,isResponse:MMe,isHeaders:PMe,isUndefined:db,isDate:EMe,isFile:AMe,isBlob:RMe,isRegExp:KMe,isFunction:Ns,isStream:IMe,isURLSearchParams:jMe,isTypedArray:GMe,isFileList:kMe,forEach:xS,merge:E7,extend:zMe,trim:LMe,stripBOM:FMe,inherits:BMe,toFlatObject:HMe,kindOf:i5,kindOfTest:Jc,endsWith:$Me,toArray:UMe,forEachEntry:qMe,matchAll:WMe,isHTMLForm:VMe,hasOwnProperty:Dz,hasOwnProp:Dz,reduceDescriptors:nZ,freezeMethods:XMe,toObjectSet:QMe,toCamelCase:YMe,noop:ZMe,toFiniteNumber:JMe,findKey:eZ,global:Bm,isContextDefined:tZ,isSpecCompliantForm:ePe,toJSONObject:tPe,isAsyncFn:nPe,isThenable:aPe,setImmediate:aZ,asap:iPe,isIterable:rPe};function zn(t,e,n,a,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),a&&(this.request=a),i&&(this.response=i,this.status=i.status?i.status:null)}nt.inherits(zn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:nt.toJSONObject(this.config),code:this.code,status:this.status}}});const iZ=zn.prototype,rZ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{rZ[t]={value:t}});Object.defineProperties(zn,rZ);Object.defineProperty(iZ,"isAxiosError",{value:!0});zn.from=(t,e,n,a,i,r)=>{const o=Object.create(iZ);nt.toFlatObject(t,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const s=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return zn.call(o,s,c,n,a,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",r&&Object.assign(o,r),o};const oPe=null;function A7(t){return nt.isPlainObject(t)||nt.isArray(t)}function oZ(t){return nt.endsWith(t,"[]")?t.slice(0,-2):t}function Oz(t,e,n){return t?t.concat(e).map(function(i,r){return i=oZ(i),!n&&r?"["+i+"]":i}).join(n?".":""):e}function sPe(t){return nt.isArray(t)&&!t.some(A7)}const lPe=nt.toFlatObject(nt,{},null,function(e){return/^is[A-Z]/.test(e)});function o5(t,e,n){if(!nt.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=nt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,S){return!nt.isUndefined(S[v])});const a=n.metaTokens,i=n.visitor||d,r=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&nt.isSpecCompliantForm(e);if(!nt.isFunction(i))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(nt.isDate(y))return y.toISOString();if(nt.isBoolean(y))return y.toString();if(!c&&nt.isBlob(y))throw new zn("Blob is not supported. Use a Buffer instead.");return nt.isArrayBuffer(y)||nt.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,v,S){let w=y;if(y&&!S&&typeof y=="object"){if(nt.endsWith(v,"{}"))v=a?v:v.slice(0,-2),y=JSON.stringify(y);else if(nt.isArray(y)&&sPe(y)||(nt.isFileList(y)||nt.endsWith(v,"[]"))&&(w=nt.toArray(y)))return v=oZ(v),w.forEach(function(T,A){!(nt.isUndefined(T)||T===null)&&e.append(o===!0?Oz([v],A,r):o===null?v:v+"[]",u(T))}),!1}return A7(y)?!0:(e.append(Oz(S,v,r),u(y)),!1)}const h=[],m=Object.assign(lPe,{defaultVisitor:d,convertValue:u,isVisitable:A7});function g(y,v){if(!nt.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(y),nt.forEach(y,function(w,_){(!(nt.isUndefined(w)||w===null)&&i.call(e,w,nt.isString(_)?_.trim():_,v,m))===!0&&g(w,v?v.concat(_):[_])}),h.pop()}}if(!nt.isObject(t))throw new TypeError("data must be an object");return g(t),e}function Mz(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return e[a]})}function uD(t,e){this._pairs=[],t&&o5(t,this,e)}const sZ=uD.prototype;sZ.append=function(e,n){this._pairs.push([e,n])};sZ.toString=function(e){const n=e?function(a){return e.call(this,a,Mz)}:Mz;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function cPe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function lZ(t,e,n){if(!e)return t;const a=n&&n.encode||cPe;nt.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let r;if(i?r=i(e,n):r=nt.isURLSearchParams(e)?e.toString():new uD(e,n).toString(a),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class Pz{constructor(){this.handlers=[]}use(e,n,a){return this.handlers.push({fulfilled:e,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){nt.forEach(this.handlers,function(a){a!==null&&e(a)})}}const cZ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uPe=typeof URLSearchParams<"u"?URLSearchParams:uD,dPe=typeof FormData<"u"?FormData:null,fPe=typeof Blob<"u"?Blob:null,hPe={isBrowser:!0,classes:{URLSearchParams:uPe,FormData:dPe,Blob:fPe},protocols:["http","https","file","blob","url","data"]},dD=typeof window<"u"&&typeof document<"u",R7=typeof navigator=="object"&&navigator||void 0,pPe=dD&&(!R7||["ReactNative","NativeScript","NS"].indexOf(R7.product)<0),mPe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gPe=dD&&window.location.href||"http://localhost",bPe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dD,hasStandardBrowserEnv:pPe,hasStandardBrowserWebWorkerEnv:mPe,navigator:R7,origin:gPe},Symbol.toStringTag,{value:"Module"})),Ro={...bPe,...hPe};function yPe(t,e){return o5(t,new Ro.classes.URLSearchParams,{visitor:function(n,a,i,r){return Ro.isNode&&nt.isBuffer(n)?(this.append(a,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function xPe(t){return nt.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function vPe(t){const e={},n=Object.keys(t);let a;const i=n.length;let r;for(a=0;a<i;a++)r=n[a],e[r]=t[r];return e}function uZ(t){function e(n,a,i,r){let o=n[r++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),c=r>=n.length;return o=!o&&nt.isArray(i)?i.length:o,c?(nt.hasOwnProp(i,o)?i[o]=[i[o],a]:i[o]=a,!s):((!i[o]||!nt.isObject(i[o]))&&(i[o]=[]),e(n,a,i[o],r)&&nt.isArray(i[o])&&(i[o]=vPe(i[o])),!s)}if(nt.isFormData(t)&&nt.isFunction(t.entries)){const n={};return nt.forEachEntry(t,(a,i)=>{e(xPe(a),i,n,0)}),n}return null}function SPe(t,e,n){if(nt.isString(t))try{return(e||JSON.parse)(t),nt.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(t)}const vS={transitional:cZ,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const a=n.getContentType()||"",i=a.indexOf("application/json")>-1,r=nt.isObject(e);if(r&&nt.isHTMLForm(e)&&(e=new FormData(e)),nt.isFormData(e))return i?JSON.stringify(uZ(e)):e;if(nt.isArrayBuffer(e)||nt.isBuffer(e)||nt.isStream(e)||nt.isFile(e)||nt.isBlob(e)||nt.isReadableStream(e))return e;if(nt.isArrayBufferView(e))return e.buffer;if(nt.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(r){if(a.indexOf("application/x-www-form-urlencoded")>-1)return yPe(e,this.formSerializer).toString();if((s=nt.isFileList(e))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return o5(s?{"files[]":e}:e,c&&new c,this.formSerializer)}}return r||i?(n.setContentType("application/json",!1),SPe(e)):e}],transformResponse:[function(e){const n=this.transitional||vS.transitional,a=n&&n.forcedJSONParsing,i=this.responseType==="json";if(nt.isResponse(e)||nt.isReadableStream(e))return e;if(e&&nt.isString(e)&&(a&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(s){if(o)throw s.name==="SyntaxError"?zn.from(s,zn.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ro.classes.FormData,Blob:Ro.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};nt.forEach(["delete","get","head","post","put","patch"],t=>{vS.headers[t]={}});const CPe=nt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wPe=t=>{const e={};let n,a,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),a=o.substring(i+1).trim(),!(!n||e[n]&&CPe[n])&&(n==="set-cookie"?e[n]?e[n].push(a):e[n]=[a]:e[n]=e[n]?e[n]+", "+a:a)}),e},Lz=Symbol("internals");function Vx(t){return t&&String(t).trim().toLowerCase()}function Jw(t){return t===!1||t==null?t:nt.isArray(t)?t.map(Jw):String(t)}function _Pe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(t);)e[a[1]]=a[2];return e}const TPe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function LE(t,e,n,a,i){if(nt.isFunction(a))return a.call(this,e,n);if(i&&(e=n),!!nt.isString(e)){if(nt.isString(a))return e.indexOf(a)!==-1;if(nt.isRegExp(a))return a.test(e)}}function EPe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,a)=>n.toUpperCase()+a)}function APe(t,e){const n=nt.toCamelCase(" "+e);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+n,{value:function(i,r,o){return this[a].call(this,e,i,r,o)},configurable:!0})})}let js=class{constructor(e){e&&this.set(e)}set(e,n,a){const i=this;function r(s,c,u){const d=Vx(c);if(!d)throw new Error("header name must be a non-empty string");const h=nt.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||c]=Jw(s))}const o=(s,c)=>nt.forEach(s,(u,d)=>r(u,d,c));if(nt.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(nt.isString(e)&&(e=e.trim())&&!TPe(e))o(wPe(e),n);else if(nt.isObject(e)&&nt.isIterable(e)){let s={},c,u;for(const d of e){if(!nt.isArray(d))throw TypeError("Object iterator must return a key-value pair");s[u=d[0]]=(c=s[u])?nt.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(s,n)}else e!=null&&r(n,e,a);return this}get(e,n){if(e=Vx(e),e){const a=nt.findKey(this,e);if(a){const i=this[a];if(!n)return i;if(n===!0)return _Pe(i);if(nt.isFunction(n))return n.call(this,i,a);if(nt.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Vx(e),e){const a=nt.findKey(this,e);return!!(a&&this[a]!==void 0&&(!n||LE(this,this[a],a,n)))}return!1}delete(e,n){const a=this;let i=!1;function r(o){if(o=Vx(o),o){const s=nt.findKey(a,o);s&&(!n||LE(a,a[s],s,n))&&(delete a[s],i=!0)}}return nt.isArray(e)?e.forEach(r):r(e),i}clear(e){const n=Object.keys(this);let a=n.length,i=!1;for(;a--;){const r=n[a];(!e||LE(this,this[r],r,e,!0))&&(delete this[r],i=!0)}return i}normalize(e){const n=this,a={};return nt.forEach(this,(i,r)=>{const o=nt.findKey(a,r);if(o){n[o]=Jw(i),delete n[r];return}const s=e?EPe(r):String(r).trim();s!==r&&delete n[r],n[s]=Jw(i),a[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return nt.forEach(this,(a,i)=>{a!=null&&a!==!1&&(n[i]=e&&nt.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const a=new this(e);return n.forEach(i=>a.set(i)),a}static accessor(e){const a=(this[Lz]=this[Lz]={accessors:{}}).accessors,i=this.prototype;function r(o){const s=Vx(o);a[s]||(APe(i,o),a[s]=!0)}return nt.isArray(e)?e.forEach(r):r(e),this}};js.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);nt.reduceDescriptors(js.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(a){this[n]=a}}});nt.freezeMethods(js);function zE(t,e){const n=this||vS,a=e||n,i=js.from(a.headers);let r=a.data;return nt.forEach(t,function(s){r=s.call(n,r,i.normalize(),e?e.status:void 0)}),i.normalize(),r}function dZ(t){return!!(t&&t.__CANCEL__)}function Mb(t,e,n){zn.call(this,t??"canceled",zn.ERR_CANCELED,e,n),this.name="CanceledError"}nt.inherits(Mb,zn,{__CANCEL__:!0});function fZ(t,e,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?t(n):e(new zn("Request failed with status code "+n.status,[zn.ERR_BAD_REQUEST,zn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function RPe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function kPe(t,e){t=t||10;const n=new Array(t),a=new Array(t);let i=0,r=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=a[r];o||(o=u),n[i]=c,a[i]=u;let h=r,m=0;for(;h!==i;)m+=n[h++],h=h%t;if(i=(i+1)%t,i===r&&(r=(r+1)%t),u-o<e)return;const g=d&&u-d;return g?Math.round(m*1e3/g):void 0}}function IPe(t,e){let n=0,a=1e3/e,i,r;const o=(u,d=Date.now())=>{n=d,i=null,r&&(clearTimeout(r),r=null),t(...u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=a?o(u,d):(i=u,r||(r=setTimeout(()=>{r=null,o(i)},a-h)))},()=>i&&o(i)]}const H4=(t,e,n=3)=>{let a=0;const i=kPe(50,250);return IPe(r=>{const o=r.loaded,s=r.lengthComputable?r.total:void 0,c=o-a,u=i(c),d=o<=s;a=o;const h={loaded:o,total:s,progress:s?o/s:void 0,bytes:c,rate:u||void 0,estimated:u&&s&&d?(s-o)/u:void 0,event:r,lengthComputable:s!=null,[e?"download":"upload"]:!0};t(h)},n)},zz=(t,e)=>{const n=t!=null;return[a=>e[0]({lengthComputable:n,total:t,loaded:a}),e[1]]},Fz=t=>(...e)=>nt.asap(()=>t(...e)),NPe=Ro.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ro.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ro.origin),Ro.navigator&&/(msie|trident)/i.test(Ro.navigator.userAgent)):()=>!0,jPe=Ro.hasStandardBrowserEnv?{write(t,e,n,a,i,r){const o=[t+"="+encodeURIComponent(e)];nt.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),nt.isString(a)&&o.push("path="+a),nt.isString(i)&&o.push("domain="+i),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function DPe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function OPe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function hZ(t,e,n){let a=!DPe(e);return t&&(a||n==!1)?OPe(t,e):e}const Bz=t=>t instanceof js?{...t}:t;function pg(t,e){e=e||{};const n={};function a(u,d,h,m){return nt.isPlainObject(u)&&nt.isPlainObject(d)?nt.merge.call({caseless:m},u,d):nt.isPlainObject(d)?nt.merge({},d):nt.isArray(d)?d.slice():d}function i(u,d,h,m){if(nt.isUndefined(d)){if(!nt.isUndefined(u))return a(void 0,u,h,m)}else return a(u,d,h,m)}function r(u,d){if(!nt.isUndefined(d))return a(void 0,d)}function o(u,d){if(nt.isUndefined(d)){if(!nt.isUndefined(u))return a(void 0,u)}else return a(void 0,d)}function s(u,d,h){if(h in e)return a(u,d);if(h in t)return a(void 0,u)}const c={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(u,d,h)=>i(Bz(u),Bz(d),h,!0)};return nt.forEach(Object.keys({...t,...e}),function(d){const h=c[d]||i,m=h(t[d],e[d],d);nt.isUndefined(m)&&h!==s||(n[d]=m)}),n}const pZ=t=>{const e=pg({},t);let{data:n,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:r,headers:o,auth:s}=e;if(e.headers=o=js.from(o),e.url=lZ(hZ(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),nt.isFormData(n)){if(Ro.hasStandardBrowserEnv||Ro.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(nt.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,h])=>{u.includes(d.toLowerCase())&&o.set(d,h)})}}if(Ro.hasStandardBrowserEnv&&(a&&nt.isFunction(a)&&(a=a(e)),a||a!==!1&&NPe(e.url))){const c=i&&r&&jPe.read(r);c&&o.set(i,c)}return e},MPe=typeof XMLHttpRequest<"u",PPe=MPe&&function(t){return new Promise(function(n,a){const i=pZ(t);let r=i.data;const o=js.from(i.headers).normalize();let{responseType:s,onUploadProgress:c,onDownloadProgress:u}=i,d,h,m,g,y;function v(){g&&g(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(i.method.toUpperCase(),i.url,!0),S.timeout=i.timeout;function w(){if(!S)return;const T=js.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),R={data:!s||s==="text"||s==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:T,config:t,request:S};fZ(function(N){n(N),v()},function(N){a(N),v()},R),S=null}"onloadend"in S?S.onloadend=w:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(w)},S.onabort=function(){S&&(a(new zn("Request aborted",zn.ECONNABORTED,t,S)),S=null)},S.onerror=function(A){const R=A&&A.message?A.message:"Network Error",I=new zn(R,zn.ERR_NETWORK,t,S);I.event=A||null,a(I),S=null},S.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const R=i.transitional||cZ;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),a(new zn(A,R.clarifyTimeoutError?zn.ETIMEDOUT:zn.ECONNABORTED,t,S)),S=null},r===void 0&&o.setContentType(null),"setRequestHeader"in S&&nt.forEach(o.toJSON(),function(A,R){S.setRequestHeader(R,A)}),nt.isUndefined(i.withCredentials)||(S.withCredentials=!!i.withCredentials),s&&s!=="json"&&(S.responseType=i.responseType),u&&([m,y]=H4(u,!0),S.addEventListener("progress",m)),c&&S.upload&&([h,g]=H4(c),S.upload.addEventListener("progress",h),S.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(d=T=>{S&&(a(!T||T.type?new Mb(null,t,S):T),S.abort(),S=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const _=RPe(i.url);if(_&&Ro.protocols.indexOf(_)===-1){a(new zn("Unsupported protocol "+_+":",zn.ERR_BAD_REQUEST,t));return}S.send(r||null)})},LPe=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let a=new AbortController,i;const r=function(u){if(!i){i=!0,s();const d=u instanceof Error?u:this.reason;a.abort(d instanceof zn?d:new Mb(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,r(new zn(`timeout ${e} of ms exceeded`,zn.ETIMEDOUT))},e);const s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(r):u.removeEventListener("abort",r)}),t=null)};t.forEach(u=>u.addEventListener("abort",r));const{signal:c}=a;return c.unsubscribe=()=>nt.asap(s),c}},zPe=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let a=0,i;for(;a<n;)i=a+e,yield t.slice(a,i),a=i},FPe=async function*(t,e){for await(const n of BPe(t))yield*zPe(n,e)},BPe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:a}=await e.read();if(n)break;yield a}}finally{await e.cancel()}},Hz=(t,e,n,a)=>{const i=FPe(t,e);let r=0,o,s=c=>{o||(o=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){s(),c.close();return}let h=d.byteLength;if(n){let m=r+=h;n(m)}c.enqueue(new Uint8Array(d))}catch(u){throw s(u),u}},cancel(c){return s(c),i.return()}},{highWaterMark:2})},$z=64*1024,{isFunction:nw}=nt,HPe=(({Request:t,Response:e})=>({Request:t,Response:e}))(nt.global),{ReadableStream:Uz,TextEncoder:Gz}=nt.global,qz=(t,...e)=>{try{return!!t(...e)}catch{return!1}},$Pe=t=>{t=nt.merge.call({skipUndefined:!0},HPe,t);const{fetch:e,Request:n,Response:a}=t,i=e?nw(e):typeof fetch=="function",r=nw(n),o=nw(a);if(!i)return!1;const s=i&&nw(Uz),c=i&&(typeof Gz=="function"?(y=>v=>y.encode(v))(new Gz):async y=>new Uint8Array(await new n(y).arrayBuffer())),u=r&&s&&qz(()=>{let y=!1;const v=new n(Ro.origin,{body:new Uz,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!v}),d=o&&s&&qz(()=>nt.isReadableStream(new a("").body)),h={stream:d&&(y=>y.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!h[y]&&(h[y]=(v,S)=>{let w=v&&v[y];if(w)return w.call(v);throw new zn(`Response type '${y}' is not supported`,zn.ERR_NOT_SUPPORT,S)})});const m=async y=>{if(y==null)return 0;if(nt.isBlob(y))return y.size;if(nt.isSpecCompliantForm(y))return(await new n(Ro.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(nt.isArrayBufferView(y)||nt.isArrayBuffer(y))return y.byteLength;if(nt.isURLSearchParams(y)&&(y=y+""),nt.isString(y))return(await c(y)).byteLength},g=async(y,v)=>{const S=nt.toFiniteNumber(y.getContentLength());return S??m(v)};return async y=>{let{url:v,method:S,data:w,signal:_,cancelToken:T,timeout:A,onDownloadProgress:R,onUploadProgress:I,responseType:N,headers:P,withCredentials:O="same-origin",fetchOptions:D}=pZ(y),H=e||fetch;N=N?(N+"").toLowerCase():"text";let L=LPe([_,T&&T.toAbortSignal()],A),$=null;const M=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let z;try{if(I&&u&&S!=="get"&&S!=="head"&&(z=await g(P,w))!==0){let K=new n(v,{method:"POST",body:w,duplex:"half"}),J;if(nt.isFormData(w)&&(J=K.headers.get("content-type"))&&P.setContentType(J),K.body){const[W,te]=zz(z,H4(Fz(I)));w=Hz(K.body,$z,W,te)}}nt.isString(O)||(O=O?"include":"omit");const F=r&&"credentials"in n.prototype,G={...D,signal:L,method:S.toUpperCase(),headers:P.normalize().toJSON(),body:w,duplex:"half",credentials:F?O:void 0};$=r&&new n(v,G);let ee=await(r?H($,D):H(v,G));const V=d&&(N==="stream"||N==="response");if(d&&(R||V&&M)){const K={};["status","statusText","headers"].forEach(re=>{K[re]=ee[re]});const J=nt.toFiniteNumber(ee.headers.get("content-length")),[W,te]=R&&zz(J,H4(Fz(R),!0))||[];ee=new a(Hz(ee.body,$z,W,()=>{te&&te(),M&&M()}),K)}N=N||"text";let Y=await h[nt.findKey(h,N)||"text"](ee,y);return!V&&M&&M(),await new Promise((K,J)=>{fZ(K,J,{data:Y,headers:js.from(ee.headers),status:ee.status,statusText:ee.statusText,config:y,request:$})})}catch(F){throw M&&M(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new zn("Network Error",zn.ERR_NETWORK,y,$),{cause:F.cause||F}):zn.from(F,F&&F.code,y,$)}}},UPe=new Map,mZ=t=>{let e=t?t.env:{};const{fetch:n,Request:a,Response:i}=e,r=[a,i,n];let o=r.length,s=o,c,u,d=UPe;for(;s--;)c=r[s],u=d.get(c),u===void 0&&d.set(c,u=s?new Map:$Pe(e)),d=u;return u};mZ();const k7={http:oPe,xhr:PPe,fetch:{get:mZ}};nt.forEach(k7,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Wz=t=>`- ${t}`,GPe=t=>nt.isFunction(t)||t===null||t===!1,gZ={getAdapter:(t,e)=>{t=nt.isArray(t)?t:[t];const{length:n}=t;let a,i;const r={};for(let o=0;o<n;o++){a=t[o];let s;if(i=a,!GPe(a)&&(i=k7[(s=String(a)).toLowerCase()],i===void 0))throw new zn(`Unknown adapter '${s}'`);if(i&&(nt.isFunction(i)||(i=i.get(e))))break;r[s||"#"+o]=i}if(!i){const o=Object.entries(r).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let s=n?o.length>1?`since :
`+o.map(Wz).join(`
`):" "+Wz(o[0]):"as no adapter specified";throw new zn("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i},adapters:k7};function FE(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Mb(null,t)}function Vz(t){return FE(t),t.headers=js.from(t.headers),t.data=zE.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),gZ.getAdapter(t.adapter||vS.adapter,t)(t).then(function(a){return FE(t),a.data=zE.call(t,t.transformResponse,a),a.headers=js.from(a.headers),a},function(a){return dZ(a)||(FE(t),a&&a.response&&(a.response.data=zE.call(t,t.transformResponse,a.response),a.response.headers=js.from(a.response.headers))),Promise.reject(a)})}const bZ="1.12.2",s5={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{s5[t]=function(a){return typeof a===t||"a"+(e<1?"n ":" ")+t}});const Yz={};s5.transitional=function(e,n,a){function i(r,o){return"[Axios v"+bZ+"] Transitional option '"+r+"'"+o+(a?". "+a:"")}return(r,o,s)=>{if(e===!1)throw new zn(i(o," has been removed"+(n?" in "+n:"")),zn.ERR_DEPRECATED);return n&&!Yz[o]&&(Yz[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,o,s):!0}};s5.spelling=function(e){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${e}`),!0)};function qPe(t,e,n){if(typeof t!="object")throw new zn("options must be an object",zn.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let i=a.length;for(;i-- >0;){const r=a[i],o=e[r];if(o){const s=t[r],c=s===void 0||o(s,r,t);if(c!==!0)throw new zn("option "+r+" must be "+c,zn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new zn("Unknown option "+r,zn.ERR_BAD_OPTION)}}const e4={assertOptions:qPe,validators:s5},Lu=e4.validators;let ag=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Pz,response:new Pz}}async request(e,n){try{return await this._request(e,n)}catch(a){if(a instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{a.stack?r&&!String(a.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+r):a.stack=r}catch{}}throw a}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=pg(this.defaults,n);const{transitional:a,paramsSerializer:i,headers:r}=n;a!==void 0&&e4.assertOptions(a,{silentJSONParsing:Lu.transitional(Lu.boolean),forcedJSONParsing:Lu.transitional(Lu.boolean),clarifyTimeoutError:Lu.transitional(Lu.boolean)},!1),i!=null&&(nt.isFunction(i)?n.paramsSerializer={serialize:i}:e4.assertOptions(i,{encode:Lu.function,serialize:Lu.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),e4.assertOptions(n,{baseUrl:Lu.spelling("baseURL"),withXsrfToken:Lu.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=r&&nt.merge(r.common,r[n.method]);r&&nt.forEach(["delete","get","head","post","put","patch","common"],y=>{delete r[y]}),n.headers=js.concat(o,r);const s=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,s.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,h=0,m;if(!c){const y=[Vz.bind(this),void 0];for(y.unshift(...s),y.push(...u),m=y.length,d=Promise.resolve(n);h<m;)d=d.then(y[h++],y[h++]);return d}m=s.length;let g=n;for(;h<m;){const y=s[h++],v=s[h++];try{g=y(g)}catch(S){v.call(this,S);break}}try{d=Vz.call(this,g)}catch(y){return Promise.reject(y)}for(h=0,m=u.length;h<m;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=pg(this.defaults,e);const n=hZ(e.baseURL,e.url,e.allowAbsoluteUrls);return lZ(n,e.params,e.paramsSerializer)}};nt.forEach(["delete","get","head","options"],function(e){ag.prototype[e]=function(n,a){return this.request(pg(a||{},{method:e,url:n,data:(a||{}).data}))}});nt.forEach(["post","put","patch"],function(e){function n(a){return function(r,o,s){return this.request(pg(s||{},{method:e,headers:a?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}ag.prototype[e]=n(),ag.prototype[e+"Form"]=n(!0)});let WPe=class yZ{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const a=this;this.promise.then(i=>{if(!a._listeners)return;let r=a._listeners.length;for(;r-- >0;)a._listeners[r](i);a._listeners=null}),this.promise.then=i=>{let r;const o=new Promise(s=>{a.subscribe(s),r=s}).then(i);return o.cancel=function(){a.unsubscribe(r)},o},e(function(r,o,s){a.reason||(a.reason=new Mb(r,o,s),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=a=>{e.abort(a)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new yZ(function(i){e=i}),cancel:e}}};function VPe(t){return function(n){return t.apply(null,n)}}function YPe(t){return nt.isObject(t)&&t.isAxiosError===!0}const I7={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(I7).forEach(([t,e])=>{I7[e]=t});function xZ(t){const e=new ag(t),n=XQ(ag.prototype.request,e);return nt.extend(n,ag.prototype,e,{allOwnKeys:!0}),nt.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return xZ(pg(t,i))},n}const Ut=xZ(vS);Ut.Axios=ag;Ut.CanceledError=Mb;Ut.CancelToken=WPe;Ut.isCancel=dZ;Ut.VERSION=bZ;Ut.toFormData=o5;Ut.AxiosError=zn;Ut.Cancel=Ut.CanceledError;Ut.all=function(e){return Promise.all(e)};Ut.spread=VPe;Ut.isAxiosError=YPe;Ut.mergeConfig=pg;Ut.AxiosHeaders=js;Ut.formToJSON=t=>uZ(nt.isHTMLForm(t)?new FormData(t):t);Ut.getAdapter=gZ.getAdapter;Ut.HttpStatusCode=I7;Ut.default=Ut;const{Axios:G1t,AxiosError:q1t,CanceledError:W1t,isCancel:V1t,CancelToken:Y1t,VERSION:K1t,all:X1t,Cancel:Q1t,isAxiosError:Z1t,spread:J1t,toFormData:ebt,AxiosHeaders:tbt,HttpStatusCode:nbt,formToJSON:abt,getAdapter:ibt,mergeConfig:rbt}=Ut,Aa=Zc();class KPe{cache=new Map;defaultTTL=300*1e3;getCacheKey(e){const n=e.url||"",a=JSON.stringify(e.params||{});return`${e.method}:${n}?${a}`}isValid(e,n){return Date.now()-e.timestamp<n}get(e,n){const a=this.getCacheKey(e),i=this.cache.get(a);if(!i)return null;const r=n??this.defaultTTL;return this.isValid(i,r)?i.data:(this.cache.delete(a),null)}set(e,n){const a=this.getCacheKey(e);this.cache.set(a,{data:n,timestamp:Date.now()})}clear(e){const n=this.getCacheKey(e);this.cache.delete(n)}clearAll(){this.cache.clear()}clearPattern(e){for(const n of this.cache.keys())e.test(n)&&this.cache.delete(n)}}class XPe{pendingRequests=new Map;getRequestKey(e){const n=e.url||"",a=JSON.stringify(e.params||{});return`${e.method}:${n}?${a}`}deduplicate(e,n){const a=this.getRequestKey(e),i=this.pendingRequests.get(a);if(i)return i;const r=n().finally(()=>{this.pendingRequests.delete(a)});return this.pendingRequests.set(a,r),r}clear(){this.pendingRequests.clear()}}const vZ=new KPe,QPe=new XPe,At=Ut.create({baseURL:Aa,headers:{"Content-Type":"application/json"},withCredentials:!0});At.interceptors.request.use(t=>{if(t.method?.toLowerCase()==="get"){const e=vZ.get(t);if(e)return Promise.reject({__cached:!0,response:e})}return t},t=>Promise.reject(t));At.interceptors.response.use(t=>(t.config.method?.toLowerCase()==="get"&&vZ.set(t.config,t),t),t=>t.__cached?Promise.resolve(t.response):Promise.reject(t));const Kz=At.request.bind(At);At.request=function(t){return t.method?.toLowerCase()==="get"?QPe.deduplicate(t,()=>Kz(t)):Kz(t)};const bi={getImages:async(t=1,e=25,n="first_seen_date",a="DESC")=>(await At.get(`/api/images?page=${t}&limit=${e}&sortBy=${n}&sortOrder=${a}`)).data,searchImages:async t=>(await At.post("/api/images/search",t)).data,searchByAutoTags:async t=>(await At.post("/api/images/search-by-autotags",t)).data,searchComplex:async t=>(await At.post("/api/images/search/complex",t)).data,searchComplexIds:async t=>(await At.post("/api/images/search/complex/ids",t)).data,getImage:async t=>(await At.get(`/api/images/${t}`)).data,deleteImage:async t=>(await At.delete(`/api/images/${t}`)).data,deleteImages:async t=>{if(t.length===0)return{success:!0,details:{deleted:0}};const e=Array.from(new Set(t));e.length!==t.length&&console.warn(` Removed ${t.length-e.length} duplicate hashes from deletion request`);try{const a=(await Promise.all(e.map(i=>bi.deleteImage(i)))).filter(i=>!i.success);return a.length>0?{success:!1,error:`${a.length}/${e.length}   `,details:{failed:a,total:e.length}}:{success:!0,details:{deleted:e.length}}}catch{return{success:!1,error:"    ."}}},deleteImageFiles:async t=>{try{return(await At.delete("/api/images/files/bulk",{data:{fileIds:t}})).data}catch{return{success:!1,error:"    ."}}},getRandomImage:async()=>(await At.get("/api/images/random")).data,getRandomFromSearch:async t=>(await At.post("/api/images/random-from-search",t)).data,searchImageIds:async t=>(await At.post("/api/images/search/ids",t)).data,getMetadata:async t=>{const e=await At.get(`/api/images/metadata/${t}`);if(e.data.success&&e.data.data)return e.data.data;throw new Error(e.data.error||"Failed to fetch metadata")},generateHash:async t=>(await At.post("/api/images/generate-hash",t)).data,getDownloadUrl:t=>`${Aa}/api/images/${t}/download/original`,getThumbnailUrl:t=>`${Aa}/api/images/${t}/thumbnail`},ir={getGroups:async()=>(await At.get("/api/groups")).data,getGroup:async t=>(await At.get(`/api/groups/${t}`)).data,createGroup:async t=>(await At.post("/api/groups",t)).data,updateGroup:async(t,e)=>(await At.put(`/api/groups/${t}`,e)).data,deleteGroup:async(t,e=!1)=>(await At.delete(`/api/groups/${t}?cascade=${e}`)).data,getGroupImages:async(t,e=1,n=20,a)=>{let i=`/api/groups/${t}/images?page=${e}&limit=${n}`;return a&&(i+=`&collection_type=${a}`),(await At.get(i)).data},addImageToGroup:async(t,e,n=0)=>(await At.post(`/api/groups/${t}/images`,{composite_hash:e,order_index:n})).data,addImagesToGroup:async(t,e)=>(await At.post(`/api/groups/${t}/images/bulk`,{composite_hashes:e})).data,removeImageFromGroup:async(t,e)=>(await At.delete(`/api/groups/${t}/images/${e}`)).data,removeImagesFromGroup:async(t,e)=>{let n=0;const a=[];for(const i of e)try{const r=await At.delete(`/api/groups/${t}/images/${i}`);r.data.success?n++:a.push(`Image ${i}: ${r.data.error||"Failed to remove"}`)}catch(r){a.push(`Image ${i}: ${r.response?.data?.error||r.message||"Failed to remove"}`)}return{success:a.length===0,removed:n,errors:a}},runAutoCollection:async t=>(await At.post(`/api/groups/${t}/auto-collect`)).data,runAllAutoCollection:async()=>(await At.post("/api/groups/auto-collect-all")).data,getThumbnailUrl:t=>`${Aa}/api/groups/${t}/thumbnail`,getRandomImageFromGroup:async t=>(await At.get(`/api/groups/${t}/random-image`)).data,getPreviewImages:async(t,e=8,n=!0)=>(await At.get(`/api/groups/${t}/preview-images?count=${e}&includeChildren=${n}`)).data,getImageIdsForGroup:async t=>(await At.get(`/api/groups/${t}/image-ids`)).data,getDownloadUrl:(t,e,n)=>{let a=`${Aa}/api/groups/${t}/download?type=${e}`;return n&&n.length>0&&(a+=`&hashes=${encodeURIComponent(JSON.stringify(n))}`),a},getFileCountsByType:async t=>(await At.get(`/api/groups/${t}/file-counts`)).data,downloadGroupBlob:async(t,e,n)=>{let a=`/api/groups/${t}/download?type=${e}`;n&&n.length>0&&(a+=`&hashes=${encodeURIComponent(JSON.stringify(n))}`);const i=await At.get(a,{responseType:"blob"}),r=window.URL.createObjectURL(new Blob([i.data])),o=document.createElement("a");o.href=r;const s=i.headers["content-disposition"];let c=`group-${t}-${e}.zip`;if(s){const u=s.match(/filename\*=UTF-8''(.+)|filename="?(.+?)"?(?:;|$)/);u&&(c=decodeURIComponent(u[1]||u[2]))}o.setAttribute("download",c),document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(r)},getRootGroups:async()=>(await At.get("/api/groups/hierarchy/roots")).data,getChildGroups:async t=>(await At.get(`/api/groups/${t}/children`)).data,getBreadcrumbPath:async t=>(await At.get(`/api/groups/${t}/breadcrumb`)).data,moveGroup:async(t,e)=>{const n={parent_id:e};return(await At.post(`/api/groups/${t}/move`,n)).data},validateHierarchy:async(t,e)=>(await At.post(`/api/groups/${t}/validate-hierarchy`,{parent_id:e})).data,getAllGroupsWithHierarchy:async()=>(await At.get("/api/groups/hierarchy/all")).data},Zu={getAll:async()=>(await At.get("/api/auto-folder-groups")).data,getRootGroups:async()=>(await At.get("/api/auto-folder-groups/children/root")).data,getChildGroups:async t=>(await At.get(`/api/auto-folder-groups/children/${t}`)).data,getGroup:async t=>(await At.get(`/api/auto-folder-groups/${t}`)).data,getGroupImages:async(t,e=1,n=50)=>(await At.get(`/api/auto-folder-groups/${t}/images`,{params:{page:e,pageSize:n}})).data,getBreadcrumbPath:async t=>(await At.get(`/api/auto-folder-groups/${t}/breadcrumb`)).data,getThumbnailUrl:t=>`${Aa}/api/auto-folder-groups/${t}/thumbnail?t=${Date.now()}`,getPreviewImages:async(t,e=8,n=!0)=>(await At.get(`/api/auto-folder-groups/${t}/preview-images?count=${e}&includeChildren=${n}`)).data,rebuild:async()=>(await At.post("/api/auto-folder-groups/rebuild")).data,getFileCounts:async(t,e)=>{const n={};return e&&e.length>0&&(n.hashes=e.join(",")),(await At.get(`/api/auto-folder-groups/${t}/file-counts`,{params:n})).data},downloadGroup:async(t,e="original",n)=>{const a={type:e};n&&n.length>0&&(a.hashes=n.join(","));const i=await At.get(`/api/auto-folder-groups/${t}/download`,{params:a,responseType:"blob"}),r=window.URL.createObjectURL(new Blob([i.data])),o=document.createElement("a");o.href=r;const s=i.headers["content-disposition"];let c=`folder-group-${t}.zip`;if(s){const u=s.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/);u&&u[1]&&(c=u[1].replace(/['"]/g,""))}o.setAttribute("download",c),document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(r)}},t4={searchPrompts:async(t="",e="both",n=1,a=20,i="usage_count",r="DESC",o)=>{let s=`/api/prompt-collection/search?q=${encodeURIComponent(t)}&type=${e}&page=${n}&limit=${a}&sortBy=${i}&sortOrder=${r}`;return o!==void 0&&(s+=`&group_id=${o}`),(await At.get(s)).data},deletePrompt:async(t,e="positive")=>(await At.delete(`/api/prompt-collection/${t}?type=${e}`)).data,assignPromptToGroup:async(t,e,n="positive")=>(await At.put("/api/prompt-collection/assign-group",{prompt_id:t,group_id:e,type:n})).data,batchAssignPromptsToGroup:async(t,e,n="positive")=>(await At.post("/api/prompt-collection/batch-assign",{prompts:t,group_id:e,type:n})).data,getStatistics:async()=>(await At.get("/api/prompt-collection/statistics")).data,getTopPrompts:async(t=20,e="both")=>(await At.get(`/api/prompt-collection/top?limit=${t}&type=${e}`)).data,setSynonyms:async(t,e,n="positive")=>(await At.post("/api/prompt-collection/synonyms",{mainPrompt:t,synonyms:e,type:n})).data,removeSynonym:async(t,e,n="positive")=>(await At.delete(`/api/prompt-collection/synonyms/${t}`,{data:{synonym:e,type:n}})).data},km={getGroups:async(t=!1,e="positive")=>(await At.get(`/api/prompt-groups?include_hidden=${t}&type=${e}`)).data,getGroup:async(t,e="positive")=>(await At.get(`/api/prompt-groups/${t}?type=${e}`)).data,getGroupPrompts:async(t,e="positive",n=1,a=20)=>(await At.get(`/api/prompt-groups/${t}/prompts?type=${e}&page=${n}&limit=${a}`)).data,createGroup:async(t,e="positive")=>(await At.post(`/api/prompt-groups?type=${e}`,t)).data,updateGroup:async(t,e,n="positive")=>(await At.put(`/api/prompt-groups/${t}`,{...e,type:n})).data,deleteGroup:async(t,e="positive")=>(await At.delete(`/api/prompt-groups/${t}?type=${e}`)).data,movePromptToGroup:async(t,e,n="positive")=>(await At.put("/api/prompt-groups/move-prompt",{prompt_id:t,target_group_id:e,type:n})).data,updateGroupOrders:async(t,e="positive")=>(await At.put("/api/prompt-groups/reorder",{group_orders:t,type:e})).data},Xz={uploadImage:async t=>{try{const e=new FormData;return e.append("image",t),(await At.post("/api/images/upload",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(e){return e.response?.status===413?{success:!1,error:"   .  50MB   ."}:{success:!1,error:e.response?.data?.error||e.message||"   ."}}},uploadImages:async t=>{try{const e=new FormData;t.forEach(a=>{e.append("images",a)});const n=await At.post("/api/images/upload-multiple",e,{headers:{"Content-Type":"multipart/form-data"}});if(n.data.success&&n.data.data){const{uploaded:a,failed:i}=n.data.data,r=[];return a.forEach(o=>{r.push({success:!0,data:o})}),i.forEach(o=>{r.push({success:!1,error:o.error})}),r}return[{success:!1,error:n.data.error||" ."}]}catch(e){return e.response?.status===400&&e.response?.data?.error?.includes("LIMIT_FILE_COUNT")?[{success:!1,error:"    ."}]:e.response?.status===413?[{success:!1,error:"   .   50MB   ."}]:[{success:!1,error:e.response?.data?.error||e.message||"   ."}]}},uploadImagesWithProgress:async(t,e)=>{const n=new FormData;t.forEach(s=>{n.append("images",s)});const a=await fetch(`${Aa}/api/images/upload-multiple-stream`,{method:"POST",body:n});if(!a.ok)throw new Error(`Upload failed: ${a.statusText}`);const i=a.body.getReader(),r=new TextDecoder;let o="";try{for(;;){const{done:s,value:c}=await i.read();if(s)break;o+=r.decode(c,{stream:!0});const u=o.split(`
`);o=u.pop()||"";for(const d of u)if(d.startsWith("data: "))try{const h=JSON.parse(d.slice(6));e(h)}catch(h){console.warn("Failed to parse SSE event:",d,h)}}}finally{i.releaseLock()}}},Hu={getAll:async t=>{const e=new URLSearchParams;return t?.service_type&&e.append("service_type",t.service_type),t?.generation_status&&e.append("generation_status",t.generation_status),t?.limit&&e.append("limit",t.limit.toString()),t?.offset&&e.append("offset",t.offset.toString()),t?.bustCache&&e.append("_t",Date.now().toString()),(await At.get(`/api/generation-history?${e.toString()}`,{headers:t?.bustCache?{"Cache-Control":"no-cache, no-store, must-revalidate"}:{}})).data},getRecent:async(t=50)=>(await At.get(`/api/generation-history/recent?limit=${t}`)).data,getStatistics:async()=>(await At.get("/api/generation-history/statistics")).data,getById:async(t,e=!1)=>{const n=e?`/api/generation-history/${t}?_t=${Date.now()}`:`/api/generation-history/${t}`;return(await At.get(n,{headers:e?{"Cache-Control":"no-cache, no-store, must-revalidate"}:{}})).data},createComfyUI:async t=>(await At.post("/api/generation-history/comfyui",t)).data,createNovelAI:async t=>(await At.post("/api/generation-history/novelai",t)).data,uploadImage:async(t,e)=>{const n=new FormData;return n.append("image",e,"generated.png"),(await At.post(`/api/generation-history/${t}/upload-image`,n,{headers:{"Content-Type":"multipart/form-data"}})).data},delete:async t=>(await At.delete(`/api/generation-history/${t}`)).data,getByWorkflow:async(t,e)=>{const n=new URLSearchParams;return e?.generation_status&&n.append("generation_status",e.generation_status),e?.limit&&n.append("limit",e.limit.toString()),e?.offset&&n.append("offset",e.offset.toString()),e?.bustCache&&n.append("_t",Date.now().toString()),(await At.get(`/api/generation-history/workflow/${t}?${n.toString()}`,{headers:e?.bustCache?{"Cache-Control":"no-cache, no-store, must-revalidate"}:{}})).data},getWorkflowStatistics:async t=>(await At.get(`/api/generation-history/workflow/${t}/statistics`)).data,cleanupFailed:async(t=!1)=>{const e=new URLSearchParams;return t&&e.append("dry_run","true"),(await At.post(`/api/generation-history/cleanup-failed?${e.toString()}`)).data}},N7={login:async(t,e)=>(await At.post("/api/nai/auth/login",{username:t,password:e})).data,loginWithToken:async t=>(await At.post("/api/nai/auth/login-with-token",{token:t})).data,generateImage:async(t,e)=>(await At.post("/api/nai/generate/image",e,{headers:{Authorization:`Bearer ${t}`}})).data},ZPe="http://localhost:1566/api",Ss=Ut.create({baseURL:ZPe,withCredentials:!0}),rp={getAllWorkflows:async(t=!1)=>(await Ss.get("/workflows",{params:{active:t}})).data,getWorkflow:async t=>(await Ss.get(`/workflows/${t}`)).data,createWorkflow:async t=>(await Ss.post("/workflows",t)).data,updateWorkflow:async(t,e)=>(await Ss.put(`/workflows/${t}`,e)).data,deleteWorkflow:async t=>(await Ss.delete(`/workflows/${t}`)).data,generateImage:async(t,e)=>(await Ss.post(`/workflows/${t}/generate`,{prompt_data:e})).data,generateImageOnServer:async(t,e,n,a)=>(await Ss.post(`/workflows/${t}/generate`,{prompt_data:n,server_id:e,groupId:a})).data,generateImageParallel:async(t,e)=>(await Ss.post(`/workflows/${t}/generate-parallel`,{prompt_data:e})).data,getHistory:async(t,e=1,n=20)=>(await Ss.get(`/workflows/${t}/history`,{params:{page:e,limit:n}})).data,getGenerationStatus:async t=>(await Ss.get(`/workflows/history/${t}`)).data,getWorkflowServers:async t=>(await Ss.get(`/workflows/${t}/servers`)).data,linkServers:async(t,e)=>(await Ss.post(`/workflows/${t}/servers`,{server_ids:e})).data,unlinkServer:async(t,e)=>(await Ss.delete(`/workflows/${t}/servers/${e}`)).data,getCanvasImages:async()=>(await Ss.get("/workflows/canvas-images")).data},Ah=Ut.create({baseURL:`${Aa}/api/settings/rating`,headers:{"Content-Type":"application/json"},withCredentials:!0}),Kh={getWeights:async()=>(await Ah.get("/weights")).data.data,updateWeights:async t=>(await Ah.put("/weights",t)).data.data,getAllTiers:async()=>(await Ah.get("/tiers")).data.data,createTier:async t=>(await Ah.post("/tiers",t)).data.data,updateTier:async(t,e)=>(await Ah.put(`/tiers/${t}`,e)).data.data,deleteTier:async t=>{await Ah.delete(`/tiers/${t}`)},updateAllTiers:async t=>(await Ah.put("/tiers",t)).data.data,calculateScore:async t=>(await Ah.post("/calculate",t)).data.data};function SZ(){const[t,e]=E.useState([]),[n,a]=E.useState(!0),[i,r]=E.useState(null),o=E.useCallback(async()=>{try{a(!0),r(null);const u=[...await Kh.getAllTiers()].sort((d,h)=>d.tier_order-h.tier_order);e(u)}catch(c){console.error("[useRatingTiers] Error fetching tiers:",c),r(c instanceof Error?c.message:"Unknown error")}finally{a(!1)}},[]);E.useEffect(()=>{o()},[o]);const s=E.useCallback(c=>c==null||t.length===0?null:t.find(d=>{const h=c>=d.min_score,m=d.max_score===null||c<d.max_score;return h&&m})||null,[t]);return{tiers:t,loading:n,error:i,getTierByScore:s,refetch:o}}const JPe=t=>{const e=yt.c(62),{image:n,onClick:a,selected:i,selectable:r,onSelectionChange:o}=t,s=i===void 0?!1:i,c=r===void 0?!1:r,[u,d]=E.useState(!1),[h,m]=E.useState(!1),[g,y]=E.useState(!1),v=E.useRef(null);let S;e[0]===Symbol.for("react.memo_cache_sentinel")?(S=Zc(),e[0]=S):S=e[0];const w=S,{getTierByScore:_}=SZ();let T;e[1]!==_||e[2]!==n.rating_score?(T=_(n.rating_score),e[1]=_,e[2]=n.rating_score,e[3]=T):T=e[3];const R=T,I=n.file_type==="animated",N=n.file_type==="video",P=n.is_processing||!n.composite_hash;let O;e:{if(P){O=`${w}/api/images/by-path/${encodeURIComponent(n.original_file_path||"")}`;break e}if(N||I){O=`${w}/api/images/${n.composite_hash}/file`;break e}let ue;e[4]!==n.first_seen_date||e[5]!==n.thumbnail_path?(ue=n.thumbnail_path?`?v=${Date.parse(n.first_seen_date)}`:"",e[4]=n.first_seen_date,e[5]=n.thumbnail_path,e[6]=ue):ue=e[6];const le=ue;O=`${w}/api/images/${n.composite_hash}/thumbnail${le}`}const D=O;let H;e[7]!==n.id||e[8]!==o?(H=ue=>{ue.stopPropagation(),o&&n.id&&o(n.id,ue)},e[7]=n.id,e[8]=o,e[9]=H):H=e[9];const L=H;let $;e[10]!==a?($=ue=>{ue.target.closest(".image-card-actions")||a()},e[10]=a,e[11]=$):$=e[11];const M=$,z=n.width&&n.height?n.width/n.height:1;let F;e[12]===Symbol.for("react.memo_cache_sentinel")?(F=()=>{d(!0)},e[12]=F):F=e[12];const G=F;let ee,V;e[13]===Symbol.for("react.memo_cache_sentinel")?(V=()=>{if(!v.current)return;const ue=new IntersectionObserver(le=>{le.forEach(Se=>{Se.isIntersecting&&(m(!0),ue.disconnect())})},{rootMargin:"200px"});return ue.observe(v.current),()=>{ue.disconnect()}},ee=[],e[13]=ee,e[14]=V):(ee=e[13],V=e[14]),E.useEffect(V,ee);let Y,K;e[15]===Symbol.for("react.memo_cache_sentinel")?(Y=()=>y(!0),K=()=>y(!1),e[15]=Y,e[16]=K):(Y=e[15],K=e[16]);const J=s?3:1,W=s?"primary.main":"divider";let te;e[17]===Symbol.for("react.memo_cache_sentinel")?(te={transform:"translateY(-4px)",boxShadow:6},e[17]=te):te=e[17];let re;e[18]!==J||e[19]!==W?(re={cursor:"pointer",transition:"all 0.2s ease-in-out",position:"relative",border:J,borderColor:W,"&:hover":te},e[18]=J,e[19]=W,e[20]=re):re=e[20];let ne;e[21]!==L||e[22]!==g||e[23]!==c||e[24]!==s?(ne=c&&l.jsx(Z,{className:"image-card-actions",sx:{position:"absolute",top:8,left:8,zIndex:2,opacity:g||s?1:.3,transition:"opacity 0.2s ease-in-out"},onClick:L,children:s?l.jsx(po,{sx:{fontSize:32,color:"primary.main",bgcolor:"white",borderRadius:"50%",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"}}):l.jsx(Z,{sx:{width:32,height:32,borderRadius:"50%",border:"2px solid white",bgcolor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease-in-out","&:hover":{bgcolor:"rgba(0, 0, 0, 0.7)",transform:"scale(1.1)"}}})}),e[21]=L,e[22]=g,e[23]=c,e[24]=s,e[25]=ne):ne=e[25];let ce;e[26]!==s?(ce=s&&l.jsx(Z,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(33, 150, 243, 0.15)",zIndex:1,pointerEvents:"none"}}),e[26]=s,e[27]=ce):ce=e[27];let pe;e[28]!==z||e[29]!==I||e[30]!==N?(pe={position:"relative",width:"100%",...N||I?{}:{paddingTop:`${1/z*100}%`},overflow:"hidden",bgcolor:"transparent"},e[28]=z,e[29]=I,e[30]=N,e[31]=pe):pe=e[31];let me;e[32]!==u?(me=!u&&l.jsx(zc,{variant:"rectangular",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),e[32]=u,e[33]=me):me=e[33];let ge;e[34]!==n.original_file_path||e[35]!==u||e[36]!==D||e[37]!==I||e[38]!==N||e[39]!==h?(ge=h&&(N?l.jsx(Z,{component:"video",src:D,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,onLoadedData:G,sx:{width:"100%",height:"auto",display:"block",opacity:u?1:0,transition:"opacity 0.15s ease-in-out"}}):I?l.jsx(ho,{component:"img",image:D,alt:n.original_file_path||"Image",loading:"lazy",decoding:"async",draggable:!1,onLoad:G,sx:{width:"100%",height:"auto",display:"block",opacity:u?1:0,transition:"opacity 0.15s ease-in-out"}}):l.jsx(ho,{component:"img",image:D,alt:n.original_file_path||"Image",loading:"lazy",decoding:"async",draggable:!1,onLoad:G,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain",display:"block",opacity:u?1:0,transition:"opacity 0.15s ease-in-out"}})),e[34]=n.original_file_path,e[35]=u,e[36]=D,e[37]=I,e[38]=N,e[39]=h,e[40]=ge):ge=e[40];let ye;e[41]!==pe||e[42]!==me||e[43]!==ge?(ye=l.jsxs(Z,{sx:pe,children:[me,ge]}),e[41]=pe,e[42]=me,e[43]=ge,e[44]=ye):ye=e[44];let he;e[45]!==n.is_processing?(he=n.is_processing&&l.jsx(Z,{sx:{position:"absolute",top:8,right:8,zIndex:1},children:l.jsx(mt,{icon:l.jsx(mS,{sx:{fontSize:"0.8rem"}}),label:"Processing",size:"small",sx:{fontSize:"0.7rem",height:"22px",fontWeight:600,bgcolor:"rgba(255, 152, 0, 0.9)",color:"white",backdropFilter:"blur(4px)","& .MuiChip-icon":{color:"white"}}})}),e[45]=n.is_processing,e[46]=he):he=e[46];let de;e[47]!==n.duration||e[48]!==N?(de=N&&n.duration&&l.jsx(Z,{sx:{position:"absolute",bottom:8,left:8,zIndex:1},children:l.jsx(mt,{icon:l.jsx(lD,{sx:{fontSize:"0.8rem"}}),label:`${Math.floor(n.duration/60)}:${String(Math.floor(n.duration%60)).padStart(2,"0")}`,size:"small",sx:{fontSize:"0.7rem",height:"22px",fontWeight:600,bgcolor:"rgba(0, 0, 0, 0.75)",color:"white",backdropFilter:"blur(4px)","& .MuiChip-icon":{color:"white"}}})}),e[47]=n.duration,e[48]=N,e[49]=de):de=e[49];let fe;e[50]!==n.rating_score||e[51]!==R?(fe=R&&n.rating_score!==null&&n.rating_score!==void 0&&l.jsx(Z,{sx:{position:"absolute",bottom:8,right:8,zIndex:1},children:l.jsx(KQ,{tier:R,score:n.rating_score})}),e[50]=n.rating_score,e[51]=R,e[52]=fe):fe=e[52];let oe;return e[53]!==M||e[54]!==re||e[55]!==ne||e[56]!==ce||e[57]!==ye||e[58]!==he||e[59]!==de||e[60]!==fe?(oe=l.jsxs(ma,{ref:v,onClick:M,onMouseEnter:Y,onMouseLeave:K,sx:re,children:[ne,ce,ye,he,de,fe]}),e[53]=M,e[54]=re,e[55]=ne,e[56]=ce,e[57]=ye,e[58]=he,e[59]=de,e[60]=fe,e[61]=oe):oe=e[61],oe},eLe=E.memo(JPe),tLe=t=>{const e=yt.c(37),{currentIndex:n,totalCount:a,onPrevious:i,onNext:r,onRandom:o,disabled:s,isRandomMode:c}=t,u=s===void 0?!1:s,d=c===void 0?!1:c,{t:h}=ht(),m=xf("(max-width:420px)"),g=n>0,y=n<a-1,v=m?.25:1;let S;e[0]!==v?(S={display:"flex",alignItems:"center",gap:v},e[0]=v,e[1]=S):S=e[1];let w;e[2]!==h?(w=h("imageDetail:viewer.navigation.previous"),e[2]=h,e[3]=w):w=e[3];const _=u||!g;let T;e[4]===Symbol.for("react.memo_cache_sentinel")?(T=l.jsx($Oe,{}),e[4]=T):T=e[4];let A;e[5]!==i||e[6]!==_?(A=l.jsx("span",{children:l.jsx(lt,{onClick:i,disabled:_,size:"small",children:T})}),e[5]=i,e[6]=_,e[7]=A):A=e[7];let R;e[8]!==w||e[9]!==A?(R=l.jsx(jt,{title:w,children:A}),e[8]=w,e[9]=A,e[10]=R):R=e[10];const I=m?"60px":"80px",N=m?"0.75rem":"0.875rem";let P;e[11]!==I||e[12]!==N?(P={minWidth:I,textAlign:"center",fontSize:N},e[11]=I,e[12]=N,e[13]=P):P=e[13];const O=d?"Random":a>0?`${n+1} / ${a}`:"0 / 0";let D;e[14]!==P||e[15]!==O?(D=l.jsx(ie,{variant:"body2",color:"text.secondary",sx:P,children:O}),e[14]=P,e[15]=O,e[16]=D):D=e[16];let H;e[17]!==h?(H=h("imageDetail:viewer.navigation.next"),e[17]=h,e[18]=H):H=e[18];const L=u||!y;let $;e[19]===Symbol.for("react.memo_cache_sentinel")?($=l.jsx(HQ,{}),e[19]=$):$=e[19];let M;e[20]!==r||e[21]!==L?(M=l.jsx("span",{children:l.jsx(lt,{onClick:r,disabled:L,size:"small",children:$})}),e[20]=r,e[21]=L,e[22]=M):M=e[22];let z;e[23]!==H||e[24]!==M?(z=l.jsx(jt,{title:H,children:M}),e[23]=H,e[24]=M,e[25]=z):z=e[25];let F;e[26]!==u||e[27]!==o||e[28]!==h||e[29]!==a?(F=o&&l.jsx(jt,{title:h("imageDetail:viewer.navigation.random"),children:l.jsx("span",{children:l.jsx(lt,{onClick:o,disabled:u||a<=1,size:"small",color:"primary",children:l.jsx(QOe,{})})})}),e[26]=u,e[27]=o,e[28]=h,e[29]=a,e[30]=F):F=e[30];let G;return e[31]!==D||e[32]!==z||e[33]!==F||e[34]!==S||e[35]!==R?(G=l.jsxs(Z,{sx:S,children:[R,D,z,F]}),e[31]=D,e[32]=z,e[33]=F,e[34]=S,e[35]=R,e[36]=G):G=e[36],G},nLe=t=>{const e=yt.c(95),{image:n,selected:a,selectable:i,onSelectionChange:r,onDelete:o,onImageClick:s,showCollectionType:c,currentGroupId:u}=t,d=a===void 0?!1:a,h=i===void 0?!1:i,m=c===void 0?!1:c;let g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=["common"],e[0]=g):g=e[0];const{t:y}=ht(g),[v,S]=E.useState(!1),[w,_]=E.useState(!1);let T;e[1]===Symbol.for("react.memo_cache_sentinel")?(T=Zc(),e[1]=T):T=e[1];const A=T,{getTierByScore:R}=SZ();let I;e[2]!==R||e[3]!==n.rating_score?(I=R(n.rating_score),e[2]=R,e[3]=n.rating_score,e[4]=I):I=e[4];const N=I;n.composite_hash&&Math.random()<.1&&console.log("[ImageCard] Rating debug:",{has_rating_score:n.rating_score!==null,rating_score:n.rating_score,tier_found:!!N,tier_name:N?.tier_name});const P=N;let O;e[5]!==u||e[6]!==n.groups?(O=u?n.groups?.find(at=>at.id===u):null,e[5]=u,e[6]=n.groups,e[7]=O):O=e[7];const H=O?.collection_type==="auto";let L;e[8]!==n.id||e[9]!==r?(L=at=>{at.stopPropagation(),r&&n.id&&r(n.id,at)},e[8]=n.id,e[9]=r,e[10]=L):L=e[10];const $=L;let M;e[11]!==n.composite_hash||e[12]!==n.is_processing||e[13]!==n.original_file_path?(M=at=>{at.stopPropagation();const ot=document.createElement("a");n.is_processing||!n.composite_hash?ot.href=`${A}/api/images/by-path/${encodeURIComponent(n.original_file_path||"")}`:ot.href=`${A}/api/images/${n.composite_hash}/download/original`,ot.download=n.original_file_path||`image_${n.composite_hash?.substring(0,8)||"unknown"}.png`,document.body.appendChild(ot),ot.click(),document.body.removeChild(ot)},e[11]=n.composite_hash,e[12]=n.is_processing,e[13]=n.original_file_path,e[14]=M):M=e[14];const z=M;let F;e[15]!==n.composite_hash||e[16]!==n.mime_type||e[17]!==o||e[18]!==y?(F=at=>{at.stopPropagation();const ot=n.mime_type?.startsWith("video/"),bt=y(ot?"common:imageCard.confirmDelete.video":"common:imageCard.confirmDelete.image");o&&n.composite_hash&&window.confirm(bt)&&o(n.composite_hash)},e[15]=n.composite_hash,e[16]=n.mime_type,e[17]=o,e[18]=y,e[19]=F):F=e[19];const G=F,ee=n.file_type==="animated",V=n.file_type==="video",Y=n.is_processing||!n.composite_hash;let K;e:{if(Y){K=`${A}/api/images/by-path/${encodeURIComponent(n.original_file_path||"")}`;break e}if(ee||V){K=`${A}/api/images/${n.composite_hash}/file`;break e}let at;e[20]!==n.first_seen_date||e[21]!==n.thumbnail_path?(at=n.thumbnail_path?`?v=${Date.parse(n.first_seen_date)}`:"",e[20]=n.first_seen_date,e[21]=n.thumbnail_path,e[22]=at):at=e[22];const ot=at;K=`${A}/api/images/${n.composite_hash}/thumbnail${ot}`}const J=K;let W;e:{if(Y){W=`${A}/api/images/by-path/${encodeURIComponent(n.original_file_path||"")}`;break e}if(ee||V){W=n.original_file_path?`${A}/api/images/by-path/${encodeURIComponent(n.original_file_path)}`:`${A}/api/images/${n.composite_hash}/thumbnail`;break e}W=`${A}/api/images/${n.composite_hash}/file`}const te=W,re=h?"selectable-image":"",ne=n.composite_hash;let ce,pe;e[23]===Symbol.for("react.memo_cache_sentinel")?(ce=()=>_(!0),pe=()=>_(!1),e[23]=ce,e[24]=pe):(ce=e[23],pe=e[24]);const me=d||m&&H?3:1,ge=d?"primary.main":m&&H?iLe:"divider",ye=m&&H?"dashed":"solid",he=m&&H?rLe:"none",de=m&&H?oLe:8;let fe;e[25]!==de?(fe={boxShadow:de,transform:"translateY(-2px)"},e[25]=de,e[26]=fe):fe=e[26];let oe;e[27]!==me||e[28]!==ge||e[29]!==ye||e[30]!==he||e[31]!==fe?(oe={position:"relative",aspectRatio:"5 / 7",overflow:"hidden",border:me,borderColor:ge,borderStyle:ye,borderRadius:2,transition:"all 0.3s ease",boxShadow:he,"&:hover":fe},e[27]=me,e[28]=ge,e[29]=ye,e[30]=he,e[31]=fe,e[32]=oe):oe=e[32];let ue;e[33]===Symbol.for("react.memo_cache_sentinel")?(ue=l.jsx(Z,{sx:{width:"100%",paddingTop:"140%"}}),e[33]=ue):ue=e[33];let le;e[34]!==$||e[35]!==w||e[36]!==h||e[37]!==d?(le=h&&l.jsx(Z,{className:"image-card-actions",sx:{position:"absolute",top:8,left:8,zIndex:2,opacity:w||d?1:.3,transition:"opacity 0.2s ease-in-out"},onClick:$,children:d?l.jsx(po,{sx:{fontSize:32,color:"primary.main",bgcolor:"white",borderRadius:"50%",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"}}):l.jsx(Z,{sx:{width:32,height:32,borderRadius:"50%",border:"2px solid white",bgcolor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease-in-out","&:hover":{bgcolor:"rgba(0, 0, 0, 0.7)",transform:"scale(1.1)"}}})}),e[34]=$,e[35]=w,e[36]=h,e[37]=d,e[38]=le):le=e[38];let Se;e[39]!==d?(Se=d&&l.jsx(Z,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(33, 150, 243, 0.15)",zIndex:1,pointerEvents:"none"}}),e[39]=d,e[40]=Se):Se=e[40];let _e;e[41]!==n.is_processing?(_e=n.is_processing&&l.jsx(Z,{sx:{position:"absolute",top:8,right:8,zIndex:1},children:l.jsx(mt,{icon:l.jsx(mS,{sx:{fontSize:"0.8rem"}}),label:"Processing",size:"small",sx:{fontSize:"0.7rem",height:"22px",fontWeight:600,bgcolor:"rgba(255, 152, 0, 0.9)",color:"white",backdropFilter:"blur(4px)","& .MuiChip-icon":{color:"white"}}})}),e[41]=n.is_processing,e[42]=_e):_e=e[42];let Ie;e[43]!==n.duration||e[44]!==n.mime_type?(Ie=n.mime_type?.startsWith("video/")&&n.duration&&l.jsx(Z,{sx:{position:"absolute",bottom:8,left:8,zIndex:1},children:l.jsx(mt,{icon:l.jsx(lD,{sx:{fontSize:"0.8rem"}}),label:`${Math.floor(n.duration/60)}:${String(Math.floor(n.duration%60)).padStart(2,"0")}`,size:"small",sx:{fontSize:"0.7rem",height:"22px",fontWeight:600,bgcolor:"rgba(0, 0, 0, 0.75)",color:"white",backdropFilter:"blur(4px)","& .MuiChip-icon":{color:"white"}}})}),e[43]=n.duration,e[44]=n.mime_type,e[45]=Ie):Ie=e[45];let ze;e[46]!==n.rating_score||e[47]!==H||e[48]!==P||e[49]!==m?(ze=(P||m&&H)&&l.jsxs(Z,{sx:{position:"absolute",bottom:8,right:8,display:"flex",gap:.5,alignItems:"center",zIndex:1},children:[m&&H&&l.jsx(mt,{icon:l.jsx(vf,{sx:{fontSize:"0.85rem",color:"white !important"}}),size:"small",sx:{height:"26px",minWidth:"26px",width:"26px",padding:0,bgcolor:sLe,backdropFilter:"blur(4px)","& .MuiChip-icon":{margin:0},"& .MuiChip-label":{display:"none"}}}),P&&n.rating_score!==null&&n.rating_score!==void 0&&l.jsx(KQ,{tier:P,score:n.rating_score})]}),e[46]=n.rating_score,e[47]=H,e[48]=P,e[49]=m,e[50]=ze):ze=e[50];let Me;e[51]===Symbol.for("react.memo_cache_sentinel")?(Me={position:"absolute",top:8,right:8,zIndex:1},e[51]=Me):Me=e[51];let Ze;e[52]===Symbol.for("react.memo_cache_sentinel")?(Ze={display:"flex",gap:.5},e[52]=Ze):Ze=e[52];let Ee;e[53]!==y?(Ee=y("common:imageCard.tooltips.download"),e[53]=y,e[54]=Ee):Ee=e[54];let Ne,ve;e[55]===Symbol.for("react.memo_cache_sentinel")?(Ne={bgcolor:lLe,borderRadius:1,"&:hover":{bgcolor:cLe}},ve=l.jsx(fg,{fontSize:"small"}),e[55]=Ne,e[56]=ve):(Ne=e[55],ve=e[56]);let we;e[57]!==z?(we=l.jsx(lt,{size:"small",onClick:z,sx:Ne,children:ve}),e[57]=z,e[58]=we):we=e[58];let Oe;e[59]!==Ee||e[60]!==we?(Oe=l.jsx(jt,{title:Ee,children:we}),e[59]=Ee,e[60]=we,e[61]=Oe):Oe=e[61];let Le;e[62]!==G||e[63]!==o||e[64]!==y?(Le=o&&l.jsx(jt,{title:y("common:imageCard.tooltips.delete"),children:l.jsx(lt,{size:"small",onClick:G,sx:{bgcolor:uLe,borderRadius:1,"&:hover":{bgcolor:dLe}},children:l.jsx(Wa,{fontSize:"small"})})}),e[62]=G,e[63]=o,e[64]=y,e[65]=Le):Le=e[65];let We;e[66]!==Oe||e[67]!==Le?(We=l.jsx(Z,{className:"image-card-actions",sx:Me,children:l.jsxs(Z,{sx:Ze,children:[Oe,Le]})}),e[66]=Oe,e[67]=Le,e[68]=We):We=e[68];let Fe;e[69]!==te||e[70]!==n.mime_type||e[71]!==n.original_file_path||e[72]!==v||e[73]!==ee||e[74]!==V||e[75]!==s||e[76]!==J?(Fe=V?l.jsx(Z,{component:"video",src:J,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,onError:at=>{console.error("[ImageCard] Video load error:",J,at),S(!0)},sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",cursor:"pointer"},onClick:s}):ee?l.jsx(ho,{component:"img",image:v?te:J,alt:n.original_file_path??"",draggable:!1,onError:at=>{console.error("[ImageCard] Image load error:",v?te:J,"isGif:",ee,"mime_type:",n.mime_type,at),S(!0)},sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",cursor:"pointer"},onClick:s}):l.jsx(ho,{component:"img",image:v?te:J,alt:n.original_file_path??"",draggable:!1,onError:at=>{console.error("[ImageCard] Image load error:",v?te:J,"isGif:",ee,"mime_type:",n.mime_type,at),S(!0)},sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",cursor:"pointer"},onClick:s}),e[69]=te,e[70]=n.mime_type,e[71]=n.original_file_path,e[72]=v,e[73]=ee,e[74]=V,e[75]=s,e[76]=J,e[77]=Fe):Fe=e[77];let Ve;e[78]!==n.ai_tool||e[79]!==n.groups||e[80]!==m?(Ve=!m&&l.jsxs(Z,{sx:{position:"absolute",bottom:8,left:8,right:8,display:"flex",flexWrap:"wrap",gap:.5,alignItems:"center",zIndex:1},children:[n.groups&&n.groups.length>0&&l.jsxs(l.Fragment,{children:[n.groups.slice(0,1).map(fLe),n.groups.length>1&&l.jsx(mt,{label:`+${n.groups.length-1}`,size:"small",variant:"outlined",sx:{fontSize:{xs:"0.6rem",sm:"0.7rem"},height:{xs:"20px",sm:"22px"},bgcolor:"rgba(0, 0, 0, 0.6)",color:"white",borderColor:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(4px)"}})]}),n.ai_tool&&l.jsx(mt,{label:n.ai_tool,size:"small",variant:"outlined",sx:{fontSize:{xs:"0.65rem",sm:"0.75rem"},height:{xs:"20px",sm:"22px"},bgcolor:"rgba(25, 118, 210, 0.9)",color:"white",borderColor:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(4px)"}})]}),e[78]=n.ai_tool,e[79]=n.groups,e[80]=m,e[81]=Ve):Ve=e[81];let rt;return e[82]!==n.composite_hash||e[83]!==h||e[84]!==re||e[85]!==oe||e[86]!==le||e[87]!==Se||e[88]!==_e||e[89]!==Ie||e[90]!==ze||e[91]!==We||e[92]!==Fe||e[93]!==Ve?(rt=l.jsx(l.Fragment,{children:l.jsxs(ma,{className:re,"data-image-id":ne,"data-selectable":h,onMouseEnter:ce,onMouseLeave:pe,sx:oe,children:[ue,le,Se,_e,Ie,ze,We,Fe,Ve]})}),e[82]=n.composite_hash,e[83]=h,e[84]=re,e[85]=oe,e[86]=le,e[87]=Se,e[88]=_e,e[89]=Ie,e[90]=ze,e[91]=We,e[92]=Fe,e[93]=Ve,e[94]=rt):rt=e[94],rt},aLe=E.memo(nLe);function iLe(t){return t.palette.mode==="dark"?"#42a5f5":"#1976d2"}function rLe(t){return`0 0 8px ${t.palette.mode==="dark"?"rgba(66, 165, 245, 0.4)":"rgba(25, 118, 210, 0.3)"}`}function oLe(t){return`0 4px 12px ${t.palette.mode==="dark"?"rgba(66, 165, 245, 0.5)":"rgba(25, 118, 210, 0.4)"}, 0 8px 24px rgba(0,0,0,0.2)`}function sLe(t){return t.palette.mode==="dark"?"rgba(33, 150, 243, 0.9)":"rgba(33, 150, 243, 0.95)"}function lLe(t){return t.palette.mode==="dark"?"rgba(0, 0, 0, 0.6)":"rgba(255, 255, 255, 0.8)"}function cLe(t){return t.palette.mode==="dark"?"rgba(0, 0, 0, 0.8)":"rgba(255, 255, 255, 0.9)"}function uLe(t){return t.palette.mode==="dark"?"rgba(0, 0, 0, 0.6)":"rgba(255, 255, 255, 0.8)"}function dLe(t){return t.palette.mode==="dark"?"rgba(0, 0, 0, 0.8)":"rgba(255, 255, 255, 0.9)"}function fLe(t){return l.jsx(mt,{label:t.name,size:"small",variant:"filled",sx:{fontSize:{xs:"0.6rem",sm:"0.7rem"},height:{xs:"20px",sm:"22px"},maxWidth:"120px",backgroundColor:t.color||(t.collection_type==="auto"?"#e3f2fd":"#f3e5f5"),color:t.color?"#fff":t.collection_type==="auto"?"#1976d2":"#7b1fa2",backdropFilter:"blur(4px)","& .MuiChip-label":{px:.5,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},t.id)}const hLe=t=>{const e=yt.c(24),{value:n,onChange:a,disabled:i}=t,r=i===void 0?!1:i;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=["common"],e[0]=o):o=e[0];const{t:s}=ht(o);let c;e[1]!==a?(c=R=>{a(R.target.value)},e[1]=a,e[2]=c):c=e[2];const u=c;let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d={display:"flex",alignItems:"center",gap:1},e[3]=d):d=e[3];let h;e[4]!==s?(h=s("common:pagination.perPage"),e[4]=s,e[5]=h):h=e[5];let m;e[6]!==h?(m=l.jsx(ie,{variant:"body2",color:"text.secondary",children:h}),e[6]=h,e[7]=m):m=e[7];let g;e[8]===Symbol.for("react.memo_cache_sentinel")?(g={minWidth:80},e[8]=g):g=e[8];let y,v,S;e[9]===Symbol.for("react.memo_cache_sentinel")?(v=l.jsx(nn,{value:25,children:"25"}),S=l.jsx(nn,{value:50,children:"50"}),y=l.jsx(nn,{value:100,children:"100"}),e[9]=y,e[10]=v,e[11]=S):(y=e[9],v=e[10],S=e[11]);let w;e[12]!==r||e[13]!==u||e[14]!==n?(w=l.jsx(ri,{size:"small",sx:g,children:l.jsxs(Xi,{value:n,onChange:u,disabled:r,variant:"outlined",children:[v,S,y]})}),e[12]=r,e[13]=u,e[14]=n,e[15]=w):w=e[15];let _;e[16]!==s?(_=s("common:pagination.items"),e[16]=s,e[17]=_):_=e[17];let T;e[18]!==_?(T=l.jsx(ie,{variant:"body2",color:"text.secondary",children:_}),e[18]=_,e[19]=T):T=e[19];let A;return e[20]!==w||e[21]!==T||e[22]!==m?(A=l.jsxs(Z,{sx:d,children:[m,w,T]}),e[20]=w,e[21]=T,e[22]=m,e[23]=A):A=e[23],A},l5=({images:t=[],loading:e=!1,selectable:n=!1,selectedIds:a=[],onSelectionChange:i,pageSize:r=25,onPageSizeChange:o,currentPage:s=1,totalPages:c=1,total:u=0,onPageChange:d,onImageDelete:h,showCollectionType:m=!1,currentGroupId:g,searchParams:y,allImageIds:v})=>{const{t:S}=ht(["common","gallery"]),[w,_]=E.useState(!1),[T,A]=E.useState(0),[R,I]=E.useState(-1),[N,P]=E.useState([]),O=t||[],D=v||N;E.useEffect(()=>{if(v&&v.length>0)return;(async()=>{try{if(g){const Y=await ir.getImageIdsForGroup(g);Y.success&&Y.data&&P(Y.data.ids)}else if(y){const Y=await bi.searchImageIds(y);Y.success&&Y.data&&P(Y.data.ids)}else P([])}catch(Y){console.error("Failed to fetch all image IDs:",Y),P([])}})()},[g,y,v]);const H=(V,Y)=>{if(!i)return;const K=O.findIndex(W=>W.id===V);if(Y&&(Y.ctrlKey||Y.metaKey)){const W=a.includes(V)?a.filter(te=>te!==V):[...a,V];i(W),I(K);return}if(Y&&Y.shiftKey&&R>=0){const W=Math.min(R,K),te=Math.max(R,K),re=O.slice(W,te+1).map(ce=>ce.id).filter(ce=>ce!=null),ne=Array.from(new Set([...a,...re]));i(ne);return}const J=a.includes(V)?a.filter(W=>W!==V):[...a,V];i(J),I(K)},L=V=>{if(i)if(V){const Y=O.map(K=>K.id).filter(K=>K!=null);i(Y)}else i([])},$=O.filter(V=>V.id!==void 0&&V.id!==null).length,M=$>0&&a.length===$,z=a.length>0&&a.length<$,F=V=>{A(V),_(!0)},G=V=>{A(V)},ee=V=>{const Y=V.target,K=Y.closest(".MuiCard-root"),J=Y.closest(".image-card-actions"),W=Y.closest(".no-drag-select"),te=Y.closest(".MuiPagination-root");!K&&!J&&!W&&!te&&i&&a.length>0&&(i([]),I(-1))};return E.useEffect(()=>{if(!n||!i)return;const V=Y=>{if((Y.ctrlKey||Y.metaKey)&&Y.key==="a"){Y.preventDefault();const K=O.map(J=>J.id).filter(J=>J!=null);i(K)}Y.key==="Escape"&&(Y.preventDefault(),i([]),I(-1))};return window.addEventListener("keydown",V),()=>{window.removeEventListener("keydown",V)}},[n,i,O]),e?l.jsx(Z,{children:l.jsx(dn,{container:!0,spacing:2,children:Array.from({length:r},(V,Y)=>l.jsxs(dn,{size:{xs:12,sm:6,md:4,lg:3,xl:2},children:[l.jsx(zc,{variant:"rectangular",height:200}),l.jsxs(Z,{sx:{pt:.5},children:[l.jsx(zc,{}),l.jsx(zc,{width:"60%"})]})]},Y))})}):O.length===0?l.jsxs(Z,{sx:{textAlign:"center",py:8},children:[l.jsx(ie,{variant:"h6",color:"text.secondary",children:S("gallery:status.noImages")}),l.jsx(ie,{variant:"body2",color:"text.secondary",children:S("gallery:emptyState.uploadOrSearch")})]}):l.jsxs(Z,{onClick:ee,sx:{position:"relative"},children:[l.jsxs(Z,{sx:{mb:3},children:[l.jsxs(cn,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"stretch",sm:"center"},spacing:2,children:[l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[l.jsx(wn,{control:l.jsx(Zs,{checked:M,indeterminate:z,onChange:V=>L(V.target.checked),disabled:!n}),label:S("gallery:selection.selectAllWithCount",{selected:a.length,total:O.length})}),l.jsx(ie,{variant:"body2",color:"text.secondary",children:S("gallery:totalImages",{count:u})})]}),o&&l.jsx(hLe,{value:r,onChange:o,disabled:e})]}),l.jsx(fn,{sx:{mt:2}})]}),l.jsx(dn,{container:!0,spacing:3,children:O.map((V,Y)=>l.jsx(dn,{size:{xs:6,sm:4,md:3,lg:2,xl:1.5},children:l.jsx(aLe,{image:V,selected:V.id?a.includes(V.id):!1,selectable:n,onSelectionChange:(K,J)=>H(K,J),onDelete:h,onImageClick:()=>F(Y),showCollectionType:m,currentGroupId:g})},V.id?`id-${V.id}`:`hash-${V.composite_hash||"processing"}-${Y}`))}),c>1&&d&&l.jsx(Z,{sx:{display:"flex",justifyContent:"center",mt:4},children:l.jsx(zNe,{count:c,page:s,onChange:(V,Y)=>d(Y),color:"primary",size:"large",showFirstButton:!0,showLastButton:!0})}),l.jsx(p5,{open:w,onClose:()=>_(!1),image:O[T]||null,images:O,currentIndex:T,onImageChange:G,onImageDeleted:h,searchContext:y?"search":g?"group":"all",searchParams:y,groupId:g,allImageIds:D})]})},pLe=t=>{const e=yt.c(36),{open:n,onClose:a,images:i,loading:r,selectable:o,selectedIds:s,onSelectionChange:c,pageSize:u,onPageSizeChange:d,currentPage:h,totalPages:m,total:g,onPageChange:y,onImageDelete:v,title:S}=t,w=r===void 0?!1:r,_=o===void 0?!1:o;let T;e[0]!==s?(T=s===void 0?[]:s,e[0]=s,e[1]=T):T=e[1];const A=T,R=u===void 0?25:u,I=h===void 0?1:h,N=m===void 0?1:m,P=g===void 0?0:g;let O;e[2]===Symbol.for("react.memo_cache_sentinel")?(O=["gallery"],e[2]=O):O=e[2];const{t:D}=ht(O);let H;e[3]!==D||e[4]!==S?(H=S||D("gallery:imageGridModal.title"," "),e[3]=D,e[4]=S,e[5]=H):H=e[5];const L=H;let $;e[6]===Symbol.for("react.memo_cache_sentinel")?($={sx:{height:"90vh",maxHeight:"90vh"}},e[6]=$):$=e[6];let M;e[7]===Symbol.for("react.memo_cache_sentinel")?(M={display:"flex",justifyContent:"space-between",alignItems:"center"},e[7]=M):M=e[7];let z;e[8]!==L?(z=l.jsx(ie,{variant:"h6",children:L}),e[8]=L,e[9]=z):z=e[9];let F,G;e[10]===Symbol.for("react.memo_cache_sentinel")?(F={color:mLe},G=l.jsx(Sf,{}),e[10]=F,e[11]=G):(F=e[10],G=e[11]);let ee;e[12]!==a?(ee=l.jsx(lt,{"aria-label":"close",onClick:a,sx:F,children:G}),e[12]=a,e[13]=ee):ee=e[13];let V;e[14]!==z||e[15]!==ee?(V=l.jsx(Un,{children:l.jsxs(Z,{sx:M,children:[z,ee]})}),e[14]=z,e[15]=ee,e[16]=V):V=e[16];let Y;e[17]===Symbol.for("react.memo_cache_sentinel")?(Y={p:2,overflow:"auto",flex:1},e[17]=Y):Y=e[17];let K;e[18]!==I||e[19]!==i||e[20]!==w||e[21]!==v||e[22]!==y||e[23]!==d||e[24]!==c||e[25]!==R||e[26]!==_||e[27]!==A||e[28]!==P||e[29]!==N?(K=l.jsx($n,{sx:Y,children:l.jsx(l5,{images:i,loading:w,selectable:_,selectedIds:A,onSelectionChange:c,pageSize:R,onPageSizeChange:d,currentPage:I,totalPages:N,total:P,onPageChange:y,onImageDelete:v})}),e[18]=I,e[19]=i,e[20]=w,e[21]=v,e[22]=y,e[23]=d,e[24]=c,e[25]=R,e[26]=_,e[27]=A,e[28]=P,e[29]=N,e[30]=K):K=e[30];let J;return e[31]!==a||e[32]!==n||e[33]!==V||e[34]!==K?(J=l.jsxs(Fn,{open:n,onClose:a,maxWidth:"xl",fullWidth:!0,PaperProps:$,children:[V,K]}),e[31]=a,e[32]=n,e[33]=V,e[34]=K,e[35]=J):J=e[35],J};function mLe(t){return t.palette.grey[500]}const Bl=Ut.create({baseURL:`${Aa}/api/settings`,headers:{"Content-Type":"application/json"},withCredentials:!0}),fo={getSettings:async()=>(await Bl.get("/")).data.data,updateGeneralSettings:async t=>(await Bl.put("/general",t)).data.data,updateTaggerSettings:async t=>(await Bl.put("/tagger",t)).data.data,getModelsList:async()=>(await Bl.get("/tagger/models")).data.data,checkDependencies:async()=>(await Bl.post("/tagger/check-dependencies")).data.data,downloadModel:async t=>{const e=await Bl.post("/tagger/download",{model:t});return{downloaded:e.data.data.downloaded,message:e.data.message}},getTaggerStatus:async()=>(await Bl.get("/tagger/status")).data.data,loadModel:async t=>{await Bl.post("/tagger/load-model",{model:t})},unloadModel:async()=>{await Bl.post("/tagger/unload-model")},updateSimilaritySettings:async t=>(await Bl.put("/similarity",t)).data.data,updateMetadataSettings:async t=>(await Bl.put("/metadata",t)).data.data,updateThumbnailSettings:async t=>(await Bl.put("/thumbnail",t)).data.data},aw=Ut.create({baseURL:"/api/images",headers:{"Content-Type":"application/json"},withCredentials:!0}),fD={tagUnprocessed:async t=>(await aw.post("/batch-tag-unprocessed",{limit:t})).data.data,tagAll:async(t,e)=>(await aw.post("/batch-tag-all",{limit:t,force:e})).data.data,testImage:async t=>(await aw.post(`/${t}/tag`)).data.data,getUntaggedCount:async()=>(await aw.get("/untagged-count")).data.data.count},BE=Ut.create({baseURL:`${Aa}/api/thumbnails`,headers:{"Content-Type":"application/json"},withCredentials:!0}),n4={regenerate:async()=>{await BE.post("/regenerate")},getProgress:async()=>(await BE.get("/progress")).data.data,getStats:async()=>(await BE.get("/stats")).data.data},gLe=Object.freeze(Object.defineProperty({__proto__:null,settingsApi:fo,taggerBatchApi:fD,thumbnailApi:n4},Symbol.toStringTag,{value:"Module"})),bLe=(t,e)=>{const n=yt.c(40),a=e===void 0?!1:e,[i,r]=E.useState(1),[o,s]=E.useState(0),[c,u]=E.useState(!1),[d,h]=E.useState(!1);let m;n[0]===Symbol.for("react.memo_cache_sentinel")?(m={x:0,y:0},n[0]=m):m=n[0];const[g,y]=E.useState(m),[v,S]=E.useState(!1);let w;n[1]===Symbol.for("react.memo_cache_sentinel")?(w={x:0,y:0},n[1]=w):w=n[1];const[_,T]=E.useState(w),A=E.useRef(null),[R,I]=E.useState(0),[N,P]=E.useState(1);let O;n[2]===Symbol.for("react.memo_cache_sentinel")?(O=()=>{r(1),s(0),u(!1),h(!1),y({x:0,y:0}),S(!1)},n[2]=O):O=n[2];let D;n[3]!==t?(D=[t],n[3]=t,n[4]=D):D=n[4],E.useEffect(O,D);let H;n[5]===Symbol.for("react.memo_cache_sentinel")?(H=()=>{r(yLe)},n[5]=H):H=n[5];const L=H;let $;n[6]===Symbol.for("react.memo_cache_sentinel")?($=()=>{r(fe=>{const oe=Math.max(fe/1.2,.1);return oe<=1&&y({x:0,y:0}),oe})},n[6]=$):$=n[6];const M=$;let z;n[7]===Symbol.for("react.memo_cache_sentinel")?(z=()=>{s(xLe)},n[7]=z):z=n[7];const F=z;let G;n[8]===Symbol.for("react.memo_cache_sentinel")?(G=()=>{s(vLe)},n[8]=G):G=n[8];const ee=G;let V;n[9]===Symbol.for("react.memo_cache_sentinel")?(V=()=>{u(SLe)},n[9]=V):V=n[9];const Y=V;let K;n[10]===Symbol.for("react.memo_cache_sentinel")?(K=()=>{h(CLe)},n[10]=K):K=n[10];const J=K;let W;n[11]===Symbol.for("react.memo_cache_sentinel")?(W=()=>{r(1),s(0),u(!1),h(!1),y({x:0,y:0})},n[11]=W):W=n[11];const te=W;let re;n[12]!==g||n[13]!==i?(re=fe=>{i>1&&(fe.preventDefault(),S(!0),T({x:fe.clientX-g.x,y:fe.clientY-g.y}))},n[12]=g,n[13]=i,n[14]=re):re=n[14];const ne=re;let ce,pe;n[15]!==_||n[16]!==v||n[17]!==i?(ce=()=>{if(!v)return;const fe=ue=>{i>1&&y({x:ue.clientX-_.x,y:ue.clientY-_.y})},oe=()=>{S(!1)};return document.addEventListener("mousemove",fe),document.addEventListener("mouseup",oe),()=>{document.removeEventListener("mousemove",fe),document.removeEventListener("mouseup",oe)}},pe=[v,i,_],n[15]=_,n[16]=v,n[17]=i,n[18]=ce,n[19]=pe):(ce=n[18],pe=n[19]),E.useEffect(ce,pe);let me,ge;n[20]!==a?(me=()=>{if(!a)return;const fe=setTimeout(()=>{const oe=A.current;if(!oe)return;const ue=le=>{le.preventDefault(),le.stopPropagation();const _e=1+(le.deltaY>0?-1:1)*.1;r(Ie=>{const ze=Math.max(.1,Math.min(5,Ie*_e));return ze<=1&&y({x:0,y:0}),ze})};return oe.addEventListener("wheel",ue,{passive:!1}),()=>{oe.removeEventListener("wheel",ue)}},100);return()=>{clearTimeout(fe)}},ge=[a],n[20]=a,n[21]=me,n[22]=ge):(me=n[21],ge=n[22]),E.useEffect(me,ge);let ye,he;n[23]!==_||n[24]!==g||n[25]!==v||n[26]!==a||n[27]!==i||n[28]!==R||n[29]!==N?(ye=()=>{if(!a)return;const fe=A.current;if(!fe)return;const oe=wLe,ue=_e=>{if(_e.touches.length===2){_e.preventDefault();const Ie=oe(_e.touches);I(Ie),P(i)}else if(_e.touches.length===1&&i>1){_e.preventDefault();const Ie=_e.touches[0];S(!0),T({x:Ie.clientX-g.x,y:Ie.clientY-g.y})}},le=_e=>{if(_e.touches.length===2){_e.preventDefault();const Ie=oe(_e.touches);if(R>0){const ze=Ie/R,Me=Math.max(.1,Math.min(5,N*ze));r(Me),Me<=1&&y({x:0,y:0})}}else if(_e.touches.length===1&&i>1&&v){_e.preventDefault();const Ie=_e.touches[0];y({x:Ie.clientX-_.x,y:Ie.clientY-_.y})}},Se=_e=>{_e.touches.length<2&&(I(0),P(1)),_e.touches.length===0&&S(!1)};return fe.addEventListener("touchstart",ue,{passive:!1}),fe.addEventListener("touchmove",le,{passive:!1}),fe.addEventListener("touchend",Se,{passive:!1}),()=>{fe.removeEventListener("touchstart",ue),fe.removeEventListener("touchmove",le),fe.removeEventListener("touchend",Se)}},he=[a,i,R,N,g,v,_],n[23]=_,n[24]=g,n[25]=v,n[26]=a,n[27]=i,n[28]=R,n[29]=N,n[30]=ye,n[31]=he):(ye=n[30],he=n[31]),E.useEffect(ye,he);let de;return n[32]!==c||n[33]!==d||n[34]!==ne||n[35]!==g||n[36]!==v||n[37]!==o||n[38]!==i?(de={scale:i,rotation:o,flipX:c,flipY:d,imagePosition:g,isDragging:v,imageContainerRef:A,handleZoomIn:L,handleZoomOut:M,handleRotateLeft:F,handleRotateRight:ee,handleFlipHorizontal:Y,handleFlipVertical:J,handleReset:te,handleMouseDown:ne},n[32]=c,n[33]=d,n[34]=ne,n[35]=g,n[36]=v,n[37]=o,n[38]=i,n[39]=de):de=n[39],de};function yLe(t){return Math.min(t*1.2,5)}function xLe(t){return(t-90)%360}function vLe(t){return(t+90)%360}function SLe(t){return!t}function CLe(t){return!t}function wLe(t){if(t.length<2)return 0;const e=t[0],n=t[1],a=e.clientX-n.clientX,i=e.clientY-n.clientY;return Math.sqrt(a*a+i*i)}const _Le=({images:t,currentIndex:e,onImageChange:n,isOpen:a,onClose:i,searchContext:r="all",searchParams:o,groupId:s,allImageIds:c=[],onRandomImageLoaded:u,onRandomModeChange:d})=>{const h=E.useCallback(()=>{e>0&&n&&(n(e-1),d&&d(!1))},[e,n,d]),m=E.useCallback(()=>{const y=t?.length??0;e<y-1&&n&&(n(e+1),d&&d(!1))},[e,t,n,d]),g=E.useCallback(async()=>{if(c&&c.length>0)try{const S=c[Math.floor(Math.random()*c.length)],w=t?.findIndex(_=>_.id===S)??-1;w>=0&&n?(n(w),d&&d(!1)):console.warn("Random image not in current page - falling back to API random");return}catch(S){console.error("Failed to load random image:",S)}try{let S=null;if(r==="all"?S=await bi.getRandomImage():r==="search"&&o?S=await bi.getRandomFromSearch(o):r==="group"&&s!==void 0&&(S=await ir.getRandomImageFromGroup(s)),S?.success&&S.data){const w=t?.findIndex(_=>_.composite_hash===S.data.composite_hash)??-1;w>=0&&n?(n(w),d&&d(!1)):(u&&u(S.data),d&&d(!0));return}}catch(S){console.error("Failed to get random image from server:",S)}const y=t?.length??0;if(y<=1||!n)return;let v;do v=Math.floor(Math.random()*y);while(v===e);n(v),d&&d(!1)},[c,t,e,n,u,d,r,o,s]);return E.useEffect(()=>{if(!a)return;const y=v=>{switch(v.key){case"ArrowLeft":v.preventDefault(),h();break;case"ArrowRight":v.preventDefault(),m();break;case" ":v.preventDefault(),g();break;case"Escape":v.preventDefault(),i();break}};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[a,h,m,g,i]),{handlePrevious:h,handleNext:m,handleRandom:g}},TLe=()=>{const[t,e]=E.useState(!1),[n,a]=E.useState(null),[i,r]=E.useState([]),[o,s]=E.useState(!1),[c,u]=E.useState(1),[d,h]=E.useState(1),[m,g]=E.useState(0),[y,v]=E.useState(25),S=E.useCallback(async(R,I=1,N)=>{try{s(!0);const P=N||y,O=await ir.getGroupImages(R,I,P);O.success&&O.data?(r(O.data.images||[]),u(O.data.pagination?.page||1),h(O.data.pagination?.totalPages||1),g(O.data.pagination?.total||0)):r([])}catch(P){console.error("Error fetching group images:",P),r([])}finally{s(!1)}},[y]),w=E.useCallback(async R=>{a(R),s(!0),e(!0),await S(R.id,1,y)},[S,y]),_=E.useCallback(()=>{e(!1)},[]),T=E.useCallback(R=>{n&&S(n.id,R,y)},[n,S,y]),A=E.useCallback(R=>{v(R),n&&S(n.id,1,R)},[n,S]);return{groupModalOpen:t,selectedGroup:n,groupImages:i,groupImagesLoading:o,groupImagesPage:c,groupImagesTotalPages:d,groupImagesTotal:m,groupImagesPageSize:y,handleGroupClick:w,handleGroupModalClose:_,handleGroupImagesPageChange:T,handleGroupImagesPageSizeChange:A}},ELe=t=>{const e=yt.c(95),{scale:n,isMobile:a,showOriginal:i,isGif:r,isVideo:o,onZoomIn:s,onZoomOut:c,onRotateLeft:u,onRotateRight:d,onFlipHorizontal:h,onFlipVertical:m,onReset:g,onToggleOriginal:y,onEdit:v,onOpenDrawer:S,onClose:w}=t,{t:_}=ht();let T;e[0]===Symbol.for("react.memo_cache_sentinel")?(T={position:"absolute",top:0,left:0,right:0,zIndex:2,display:"flex",justifyContent:"space-between",alignItems:"center",p:1,background:"linear-gradient(to bottom, rgba(0,0,0,0.5), transparent)"},e[0]=T):T=e[0];let A;e[1]===Symbol.for("react.memo_cache_sentinel")?(A={display:"flex",gap:.5,alignItems:"center"},e[1]=A):A=e[1];let R;e[2]===Symbol.for("react.memo_cache_sentinel")?(R={color:"white"},e[2]=R):R=e[2];let I;e[3]!==_?(I=_("imageDetail:controls.zoomOut"),e[3]=_,e[4]=I):I=e[4];let N;e[5]===Symbol.for("react.memo_cache_sentinel")?(N=l.jsx(VQ,{}),e[5]=N):N=e[5];let P;e[6]!==c||e[7]!==I?(P=l.jsx(lt,{onClick:c,sx:R,size:"small",title:I,children:N}),e[6]=c,e[7]=I,e[8]=P):P=e[8];let O;e[9]===Symbol.for("react.memo_cache_sentinel")?(O={color:"white",minWidth:"50px",textAlign:"center"},e[9]=O):O=e[9];let D;e[10]!==n?(D=Math.round(n*100),e[10]=n,e[11]=D):D=e[11];let H;e[12]!==D?(H=l.jsxs(ie,{variant:"caption",sx:O,children:[D,"%"]}),e[12]=D,e[13]=H):H=e[13];let L;e[14]===Symbol.for("react.memo_cache_sentinel")?(L={color:"white"},e[14]=L):L=e[14];let $;e[15]!==_?($=_("imageDetail:controls.zoomIn"),e[15]=_,e[16]=$):$=e[16];let M;e[17]===Symbol.for("react.memo_cache_sentinel")?(M=l.jsx(WQ,{}),e[17]=M):M=e[17];let z;e[18]!==s||e[19]!==$?(z=l.jsx(lt,{onClick:s,sx:L,size:"small",title:$,children:M}),e[18]=s,e[19]=$,e[20]=z):z=e[20];let F;e[21]===Symbol.for("react.memo_cache_sentinel")?(F={color:"white"},e[21]=F):F=e[21];let G;e[22]!==_?(G=_("imageDetail:controls.rotateLeft"),e[22]=_,e[23]=G):G=e[23];let ee;e[24]===Symbol.for("react.memo_cache_sentinel")?(ee=l.jsx(YOe,{}),e[24]=ee):ee=e[24];let V;e[25]!==u||e[26]!==G?(V=l.jsx(lt,{onClick:u,sx:F,size:"small",title:G,children:ee}),e[25]=u,e[26]=G,e[27]=V):V=e[27];let Y;e[28]===Symbol.for("react.memo_cache_sentinel")?(Y={color:"white"},e[28]=Y):Y=e[28];let K;e[29]!==_?(K=_("imageDetail:controls.rotateRight"),e[29]=_,e[30]=K):K=e[30];let J;e[31]===Symbol.for("react.memo_cache_sentinel")?(J=l.jsx($Q,{}),e[31]=J):J=e[31];let W;e[32]!==d||e[33]!==K?(W=l.jsx(lt,{onClick:d,sx:Y,size:"small",title:K,children:J}),e[32]=d,e[33]=K,e[34]=W):W=e[34];let te;e[35]===Symbol.for("react.memo_cache_sentinel")?(te={color:"white"},e[35]=te):te=e[35];let re;e[36]!==_?(re=_("imageDetail:controls.flipHorizontal"),e[36]=_,e[37]=re):re=e[37];let ne;e[38]===Symbol.for("react.memo_cache_sentinel")?(ne=l.jsx(LQ,{}),e[38]=ne):ne=e[38];let ce;e[39]!==h||e[40]!==re?(ce=l.jsx(lt,{onClick:h,sx:te,size:"small",title:re,children:ne}),e[39]=h,e[40]=re,e[41]=ce):ce=e[41];let pe;e[42]===Symbol.for("react.memo_cache_sentinel")?(pe={color:"white"},e[42]=pe):pe=e[42];let me;e[43]!==_?(me=_("imageDetail:controls.flipVertical"),e[43]=_,e[44]=me):me=e[44];let ge;e[45]===Symbol.for("react.memo_cache_sentinel")?(ge=l.jsx(jOe,{}),e[45]=ge):ge=e[45];let ye;e[46]!==m||e[47]!==me?(ye=l.jsx(lt,{onClick:m,sx:pe,size:"small",title:me,children:ge}),e[46]=m,e[47]=me,e[48]=ye):ye=e[48];let he;e[49]===Symbol.for("react.memo_cache_sentinel")?(he={color:"white"},e[49]=he):he=e[49];let de;e[50]!==_?(de=_("imageDetail:controls.reset"),e[50]=_,e[51]=de):de=e[51];let fe;e[52]===Symbol.for("react.memo_cache_sentinel")?(fe=l.jsx(jo,{}),e[52]=fe):fe=e[52];let oe;e[53]!==g||e[54]!==de?(oe=l.jsx(lt,{onClick:g,sx:he,size:"small",title:de,children:fe}),e[53]=g,e[54]=de,e[55]=oe):oe=e[55];let ue;e[56]!==r||e[57]!==o||e[58]!==y||e[59]!==i||e[60]!==_?(ue=!r&&!o&&l.jsx(lt,{onClick:y,sx:{color:"white",bgcolor:i?"rgba(255, 255, 255, 0.2)":"transparent","&:hover":{bgcolor:i?"rgba(255, 255, 255, 0.3)":"rgba(255, 255, 255, 0.1)"}},size:"small",title:_(i?"imageDetail:viewThumbnail":"imageDetail:viewOriginal"),children:i?l.jsx(qc,{}):l.jsx(DOe,{})}),e[56]=r,e[57]=o,e[58]=y,e[59]=i,e[60]=_,e[61]=ue):ue=e[61];let le;e[62]!==r||e[63]!==o||e[64]!==v?(le=v&&!r&&!o&&l.jsx(lt,{onClick:v,sx:{color:"white"},size:"small",title:"Edit for img2img",children:l.jsx(id,{})}),e[62]=r,e[63]=o,e[64]=v,e[65]=le):le=e[65];let Se;e[66]!==z||e[67]!==V||e[68]!==W||e[69]!==ce||e[70]!==ye||e[71]!==oe||e[72]!==ue||e[73]!==le||e[74]!==P||e[75]!==H?(Se=l.jsxs(Z,{sx:A,children:[P,H,z,V,W,ce,ye,oe,ue,le]}),e[66]=z,e[67]=V,e[68]=W,e[69]=ce,e[70]=ye,e[71]=oe,e[72]=ue,e[73]=le,e[74]=P,e[75]=H,e[76]=Se):Se=e[76];let _e;e[77]===Symbol.for("react.memo_cache_sentinel")?(_e={display:"flex",gap:.5},e[77]=_e):_e=e[77];let Ie;e[78]!==a||e[79]!==S||e[80]!==_?(Ie=a&&S&&l.jsx(lt,{onClick:S,sx:{color:"white"},size:"small",title:_("imageDetail:controls.info"),children:l.jsx(Yh,{})}),e[78]=a,e[79]=S,e[80]=_,e[81]=Ie):Ie=e[81];let ze;e[82]===Symbol.for("react.memo_cache_sentinel")?(ze={color:"white"},e[82]=ze):ze=e[82];let Me;e[83]!==_?(Me=_("imageDetail:controls.close"),e[83]=_,e[84]=Me):Me=e[84];let Ze;e[85]===Symbol.for("react.memo_cache_sentinel")?(Ze=l.jsx(Sf,{}),e[85]=Ze):Ze=e[85];let Ee;e[86]!==w||e[87]!==Me?(Ee=l.jsx(lt,{onClick:w,sx:ze,size:"small",title:Me,children:Ze}),e[86]=w,e[87]=Me,e[88]=Ee):Ee=e[88];let Ne;e[89]!==Ie||e[90]!==Ee?(Ne=l.jsxs(Z,{sx:_e,children:[Ie,Ee]}),e[89]=Ie,e[90]=Ee,e[91]=Ne):Ne=e[91];let ve;return e[92]!==Se||e[93]!==Ne?(ve=l.jsxs(Z,{sx:T,children:[Se,Ne]}),e[92]=Se,e[93]=Ne,e[94]=ve):ve=e[94],ve},ALe=t=>{const e=yt.c(51),{image:n,scale:a,rotation:i,flipX:r,flipY:o,imagePosition:s,isDragging:c,containerRef:u,onMouseDown:d,showOriginal:h,onOriginalLoadError:m}=t,g=h===void 0?!1:h,[y,v]=E.useState(!1),[S,w]=E.useState(!0),[_,T]=E.useState(!1),[A,R]=E.useState(!1);let I;e[0]===Symbol.for("react.memo_cache_sentinel")?(I=Zc(),e[0]=I):I=e[0];const N=I,P=E.useRef(null),O=E.useRef(null);let D;e[1]===Symbol.for("react.memo_cache_sentinel")?(D=()=>{v(!1),T(!1),R(!1),w(!0)},e[1]=D):D=e[1];let H;e[2]!==n.composite_hash||e[3]!==g?(H=[n.composite_hash,g],e[2]=n.composite_hash,e[3]=g,e[4]=H):H=e[4],E.useEffect(D,H);let L;e[5]!==n.file_type?(L=()=>{(()=>{n.file_type==="video"&&O.current?O.current.readyState>=3&&w(!1):P.current&&P.current.complete&&P.current.naturalHeight>0&&w(!1)})();const W=setTimeout(()=>{w(!1)},2e3);return()=>{clearTimeout(W)}},e[5]=n.file_type,e[6]=L):L=e[6];let $;e[7]!==n.composite_hash||e[8]!==n.file_type||e[9]!==g||e[10]!==_||e[11]!==A?($=[n.composite_hash,g,_,A,n.file_type],e[7]=n.composite_hash,e[8]=n.file_type,e[9]=g,e[10]=_,e[11]=A,e[12]=$):$=e[12],E.useEffect(L,$);let M;e[13]!==n.composite_hash||e[14]!==n.file_type||e[15]!==n.image_url||e[16]!==n.thumbnail_url||e[17]!==g||e[18]!==_||e[19]!==A?(M=(()=>{if(A)return`${N}/api/images/placeholder`;const W=n.file_type==="animated",te=n.file_type==="video";return _?n.thumbnail_url?n.thumbnail_url.startsWith("http")?n.thumbnail_url:`${N}${n.thumbnail_url}`:n.composite_hash?`${N}/api/images/${n.composite_hash}/thumbnail`:`${N}/api/images/placeholder`:n.composite_hash?W||te?`${N}/api/images/${n.composite_hash}/file`:g?n.image_url?n.image_url.startsWith("http")?n.image_url:`${N}${n.image_url}`:`${N}/api/images/${n.composite_hash}/download/original`:n.thumbnail_url?n.thumbnail_url.startsWith("http")?n.thumbnail_url:`${N}${n.thumbnail_url}`:`${N}/api/images/${n.composite_hash}/thumbnail`:n.image_url?n.image_url.startsWith("http")?n.image_url:`${N}${n.image_url}`:n.thumbnail_url?n.thumbnail_url.startsWith("http")?n.thumbnail_url:`${N}${n.thumbnail_url}`:`${N}/api/images/placeholder`})(),e[13]=n.composite_hash,e[14]=n.file_type,e[15]=n.image_url,e[16]=n.thumbnail_url,e[17]=g,e[18]=_,e[19]=A,e[20]=M):M=e[20];const z=M;let F;e[21]!==y||e[22]!==m||e[23]!==g||e[24]!==_||e[25]!==A?(F=()=>{y||(v(!0),g&&!_?(T(!0),w(!0),m&&m()):_&&!A&&(R(!0),w(!0)))},e[21]=y,e[22]=m,e[23]=g,e[24]=_,e[25]=A,e[26]=F):F=e[26];const G=F;let ee;e[27]===Symbol.for("react.memo_cache_sentinel")?(ee={flex:1,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",touchAction:"none"},e[27]=ee):ee=e[27];let V;e[28]!==S?(V=S&&l.jsx(zc,{variant:"rectangular",sx:{position:"absolute",width:"100%",height:"100%",bgcolor:"grey.800"}}),e[28]=S,e[29]=V):V=e[29];let Y;e[30]!==r||e[31]!==o||e[32]!==G||e[33]!==n.composite_hash||e[34]!==n.file_type||e[35]!==n.original_file_path||e[36]!==S||e[37]!==s.x||e[38]!==s.y||e[39]!==z||e[40]!==c||e[41]!==i||e[42]!==a||e[43]!==_||e[44]!==A?(Y=n.file_type==="video"?l.jsx(Z,{component:"video",ref:O,src:z,controls:!0,autoPlay:!0,loop:!0,muted:!0,onError:G,onLoadedData:()=>w(!1),sx:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",opacity:S?0:1,transition:c?"opacity 0.3s ease":"opacity 0.3s ease, transform 0.15s ease-out",transform:`translate(${s.x}px, ${s.y}px) scale(${a}) rotate(${i}deg) scaleX(${r?-1:1}) scaleY(${o?-1:1})`,transformOrigin:"center center",cursor:a>1?c?"grabbing":"grab":"default",userSelect:"none",pointerEvents:"auto"}},`video-${n.composite_hash}-${_}-${A}`):l.jsx(Z,{component:"img",ref:P,src:z,alt:n.original_file_path??"",draggable:!1,onError:G,onLoad:()=>w(!1),sx:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",opacity:S?0:1,transition:c?"opacity 0.3s ease":"opacity 0.3s ease, transform 0.15s ease-out",transform:`translate(${s.x}px, ${s.y}px) scale(${a}) rotate(${i}deg) scaleX(${r?-1:1}) scaleY(${o?-1:1})`,transformOrigin:"center center",cursor:a>1?c?"grabbing":"grab":"default",userSelect:"none",pointerEvents:"none"}},`img-${n.composite_hash}-${_}-${A}`),e[30]=r,e[31]=o,e[32]=G,e[33]=n.composite_hash,e[34]=n.file_type,e[35]=n.original_file_path,e[36]=S,e[37]=s.x,e[38]=s.y,e[39]=z,e[40]=c,e[41]=i,e[42]=a,e[43]=_,e[44]=A,e[45]=Y):Y=e[45];let K;return e[46]!==u||e[47]!==d||e[48]!==V||e[49]!==Y?(K=l.jsxs(Z,{id:"image-container",sx:ee,onMouseDown:d,ref:u,children:[V,Y]}),e[46]=u,e[47]=d,e[48]=V,e[49]=Y,e[50]=K):K=e[50],K},RLe=[{code:"ko",name:"",englishName:"Korean"},{code:"en",name:"English",englishName:"English"},{code:"ja",name:"",englishName:"Japanese"},{code:"zh-CN",name:"",englishName:"Chinese (Simplified)"},{code:"zh-TW",name:"",englishName:"Chinese (Traditional)"}],CZ=t=>t?t.replace(/\(([^:)]+):[+-]?[\d.]+\)/g,"$1"):"",kLe=t=>t?t.split(",").map(e=>e.trim()).filter(e=>e.length>0).map(e=>CZ(e)):[],Qz=t=>{const e=CZ(t),n=kLe(e);return{original:t,cleaned:e,terms:n}},ILe=t=>{if(!t)return"";let e=t;const n=/([(\[{]+)([^)\]}]+)([)\]}]+)/g;return e=e.replace(n,(a,i,r,o)=>r.includes(",")?r.split(",").map(c=>c.trim()).filter(c=>c.length>0).map(c=>`${i}${c}${o}`).join(", "):a),e},NLe=t=>{if(!t)return"";let e=t;const n=/[^a-zA-Z0-9\s,.:_<>()[\]{}]*\s*([-+]?[\d.]+)::(.*?)::/g;return e=e.replace(n,(a,i,r)=>{const o=r.trim();return o?`(${o}:${i})`:""}),e},jLe=t=>{if(!t)return"";let e=t;return e=NLe(e),e=ILe(e),e=e.replace(/\s*,\s*,\s*/g,", ").replace(/,\s*$/,"").trim(),e},DLe=t=>{if(!t)return!1;const e=t.trim();return e.startsWith("<lora:")&&e.includes(">")},OLe=t=>t?t.replace(/(<lora:[^:>]+):[^>]+>/,"$1>"):"",wZ=t=>{if(!t)return{loras:[],terms:[]};const e=[],n=[],a=t.split(",").map(i=>i.trim()).filter(i=>i.length>0);for(const i of a)DLe(i)?e.push(i):n.push(i);return{loras:e,terms:n}},MLe=t=>{if(!t)return"";let e=t,n=0;for(;e.length!==n;)n=e.length,e=e.replace(/[()[\]{}]/g,"");return e=e.replace(/:[+-]?[\d.]+/g,""),e=e.replace(/_/g," "),e=e.replace(/\s+/g," ").trim(),e},PLe=t=>{if(t===0)return"0 Bytes";const e=1024,n=["Bytes","KB","MB","GB","TB"],a=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,a)).toFixed(2))+" "+n[a]},LLe=(t,e="ko-KR")=>new Date(t).toLocaleString(e),zLe=(t,e=40)=>{if(t.length<=e)return t;const n=t.split(".").pop();return n?`${t.substring(0,t.lastIndexOf(".")).substring(0,e-n.length-4)+"..."}.${n}`:t.substring(0,e)+"..."},FLe=async t=>{try{const n=await(await fetch(`${Aa}/api/prompt-groups?type=${t}&include_hidden=false`)).json();return n.success?n.data.filter(a=>a.id!==0):(console.error("Failed to fetch prompt groups:",n.error),[])}catch(e){return console.error("Error fetching prompt groups:",e),[]}},BLe=async(t,e)=>{try{const a=await(await fetch(`${Aa}/api/prompt-groups/${t}/prompts?type=${e}&limit=1000`)).json();return a.success&&a.data.prompts?a.data.prompts.map(i=>i.prompt):[]}catch(n){return console.error("Error fetching group prompts:",n),[]}},Zz=new Map,HLe=300*1e3,$Le=async t=>{const e=`groups_${t}`,n=Zz.get(e);if(n&&Date.now()-n.timestamp<HLe)return n.data;const a=await FLe(t);return Zz.set(e,{data:a,timestamp:Date.now()}),a},Jz=async(t,e)=>{if(!t)return{groups:[],unclassified_terms:[]};const n=jLe(t),{loras:a,terms:i}=wZ(n),r=await $Le(e),o=new Map,s=r.map(async m=>{const g=await BLe(m.id,e);return{groupId:m.id,prompts:g.map(y=>y.toLowerCase())}}),c=await Promise.all(s);for(const m of c)o.set(m.groupId,m.prompts);const u=new Map,d=[];for(const m of i){const g=MLe(m).toLowerCase();let y=!1;for(const[v,S]of o)if(S.includes(g)){u.has(v)||u.set(v,[]),u.get(v).push(m),y=!0;break}y||d.push(m)}for(const m of a){const g=OLe(m).toLowerCase();let y=!1;for(const[v,S]of o)if(S.includes(g)){u.has(v)||u.set(v,[]),u.get(v).push(m),y=!0;break}y||d.push(m)}const h=[];for(const m of r){const g=u.get(m.id)||[];g.length>0&&h.push({id:m.id,group_name:m.group_name,terms:g})}return h.sort((m,g)=>{const y=r.find(S=>S.id===m.id),v=r.find(S=>S.id===g.id);return(y?.display_order||0)-(v?.display_order||0)}),{groups:h,unclassified_terms:d}},ULe=({imageId:t,autoTags:e,onTagGenerated:n})=>{const{t:a}=ht("promptManagement"),[i,r]=E.useState(!1),[o,s]=E.useState(null),c=async()=>{r(!0),s(null);try{await fD.testImage(t),n&&n()}catch(S){const w=S instanceof Error?S.message:a("autoTagDisplay.generationError");s(w)}finally{r(!1)}};if(!e)return l.jsxs(Z,{sx:{p:2,textAlign:"center"},children:[o&&l.jsx(xt,{severity:"error",sx:{mb:2},children:o}),l.jsx(ie,{variant:"body2",color:"text.secondary",sx:{mb:2},children:a("autoTagDisplay.noTags")}),l.jsx(Ue,{variant:"contained",onClick:c,disabled:i,startIcon:i?l.jsx(Yt,{size:20}):void 0,children:a(i?"autoTagDisplay.generating":"autoTagDisplay.generateButton")})]});const u=S=>({general:"#4caf50",sensitive:"#ffeb3b",questionable:"#ff9800",explicit:"#d32f2f"})[S]||"#9e9e9e",d=S=>S<.33?"#9e9e9e":S<.66?"#2196f3":"#4caf50",h=()=>{if(!e.rating)return null;const S=Object.entries(e.rating).map(([_,T])=>({key:_,value:Math.round(T*100)/100,color:u(_)})).filter(_=>_.value>0);if(S.length===0)return null;const w=S.reduce((_,T)=>_+T.value,0);return l.jsxs(Z,{sx:{mb:3},children:[l.jsx(ie,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:a("autoTagDisplay.sections.rating")}),l.jsx(Z,{sx:{display:"flex",height:32,borderRadius:1,overflow:"hidden",border:"1px solid",borderColor:"divider"},children:S.map(_=>l.jsx(Z,{sx:{flex:_.value/w,backgroundColor:_.color,display:"flex",alignItems:"center",justifyContent:"center",position:"relative","&:not(:last-child)":{borderRight:"1px solid rgba(0,0,0,0.1)"}},children:_.value>=.33&&l.jsxs(ie,{variant:"caption",sx:{color:_.key==="sensitive"?"rgba(0,0,0,0.7)":"white",fontWeight:600,fontSize:"0.7rem",textShadow:_.key==="sensitive"?"none":"0 1px 2px rgba(0,0,0,0.3)"},children:[_.key.substring(0,3).toUpperCase()," ",(_.value*100).toFixed(0),"%"]})},_.key))})]})},m=()=>{if(!e.character)return null;const S=Object.entries(e.character).sort((w,_)=>_[1]-w[1]);return S.length===0?null:l.jsxs(Z,{sx:{mb:2},children:[l.jsx(ie,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:a("autoTagDisplay.sections.characters")}),l.jsx(Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:S.map(([w,_])=>l.jsxs(Z,{children:[l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[l.jsx(ie,{variant:"body2",sx:{fontSize:"0.85rem"},children:w}),l.jsxs(ie,{variant:"caption",color:"text.secondary",children:[(_*100).toFixed(1),"%"]})]}),l.jsx(oc,{variant:"determinate",value:_*100,sx:{height:6,borderRadius:1,backgroundColor:"rgba(0,0,0,0.1)","& .MuiLinearProgress-bar":{backgroundColor:d(_),borderRadius:1}}})]},w))})]})},g=()=>e.taglist?l.jsxs(Z,{sx:{mb:2},children:[l.jsx(ie,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:a("autoTagDisplay.sections.tagList")}),l.jsx(ie,{variant:"body2",sx:{lineHeight:1.6,wordBreak:"break-word"},children:e.taglist})]}):null,y=()=>{if(!e.general)return null;const S=Object.entries(e.general).sort((w,_)=>_[1]-w[1]);return S.length===0?null:l.jsxs(rl,{defaultExpanded:!1,children:[l.jsx(sl,{expandIcon:l.jsx(zi,{}),children:l.jsx(ie,{variant:"subtitle2",sx:{fontWeight:600},children:a("autoTagDisplay.sections.generalTags",{count:S.length})})}),l.jsx(ol,{children:l.jsx(Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:S.map(([w,_])=>l.jsxs(Z,{children:[l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[l.jsx(ie,{variant:"body2",sx:{fontSize:"0.85rem"},children:w}),l.jsxs(ie,{variant:"caption",color:"text.secondary",children:[(_*100).toFixed(1),"%"]})]}),l.jsx(oc,{variant:"determinate",value:_*100,sx:{height:6,borderRadius:1,backgroundColor:"rgba(0,0,0,0.1)","& .MuiLinearProgress-bar":{backgroundColor:d(_),borderRadius:1}}})]},w))})})]})},v=()=>l.jsxs(rl,{defaultExpanded:!1,sx:{mb:2},children:[l.jsx(sl,{expandIcon:l.jsx(zi,{}),children:l.jsx(ie,{variant:"subtitle2",sx:{fontWeight:600},children:a("autoTagDisplay.sections.modelInfo")})}),l.jsx(ol,{children:l.jsxs(Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[a("autoTagDisplay.modelInfo.model"),":"]})," ",e.model]}),l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[a("autoTagDisplay.modelInfo.generalThreshold"),":"]})," ",e.thresholds.general]}),l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[a("autoTagDisplay.modelInfo.characterThreshold"),":"]})," ",e.thresholds.character]}),e.tagged_at&&l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[a("autoTagDisplay.modelInfo.taggedAt"),":"]})," ",new Date(e.tagged_at).toLocaleString("ko-KR")]})]})})]});return l.jsxs(Z,{sx:{p:2,height:"100%",overflowY:"auto"},children:[h(),v(),m(),g(),y()]})};function HE(t){const e=yt.c(20);let n,a,i,r;e[0]!==t?({children:n,value:r,index:a,...i}=t,e[0]=t,e[1]=n,e[2]=a,e[3]=i,e[4]=r):(n=e[1],a=e[2],i=e[3],r=e[4]);const o=r!==a,s=`prompt-tabpanel-${a}`,c=`prompt-tab-${a}`,u=r===a?"100%":"0",d=r===a?"1 1 0%":"0 0 0%",h=r===a?"flex":"none";let m;e[5]!==u||e[6]!==d||e[7]!==h?(m={height:u,flex:d,display:h,flexDirection:"column"},e[5]=u,e[6]=d,e[7]=h,e[8]=m):m=e[8];let g;e[9]!==n||e[10]!==a||e[11]!==r?(g=r===a&&l.jsx(Z,{sx:{p:1,height:"100%",overflow:"hidden",flex:1,display:"flex",flexDirection:"column"},children:n}),e[9]=n,e[10]=a,e[11]=r,e[12]=g):g=e[12];let y;return e[13]!==i||e[14]!==o||e[15]!==s||e[16]!==c||e[17]!==m||e[18]!==g?(y=l.jsx("div",{role:"tabpanel",hidden:o,id:s,"aria-labelledby":c,...i,style:m,children:g}),e[13]=i,e[14]=o,e[15]=s,e[16]=c,e[17]=m,e[18]=g,e[19]=y):y=e[19],y}const _Z=({prompt:t,negativePrompt:e,maxHeight:n,showLabels:a=!0,variant:i="outlined",showGrouped:r=!1,imageId:o,autoTags:s,isTaggerEnabled:c=!1,onAutoTagGenerated:u})=>{const{t:d}=ht("promptManagement"),[h,m]=E.useState(0),[g,y]=E.useState(null),[v,S]=E.useState(null),[w,_]=E.useState(!1),T=ke.useRef("positive"),A=t&&t.trim(),R=e&&e.trim(),I=c&&o!==void 0||s&&Object.keys(s).length>0,N=ke.useMemo(()=>t?.trim()||"",[t?.trim()]),P=ke.useMemo(()=>e?.trim()||"",[e?.trim()]);E.useEffect(()=>{r?(async()=>{_(!0);try{if(A){const z=await Jz(N,"positive");y(z)}if(R){const z=await Jz(P,"negative");S(z)}}catch(z){console.error("Error grouping prompts:",z)}finally{_(!1)}})():(y(null),S(null))},[r,N,P,A,R]),E.useEffect(()=>{const M=T.current;let z=0;if(A){if(M==="positive"){m(z);return}z++}if(R){if(M==="negative"){m(z);return}z++}if(I&&M==="auto"){m(z);return}m(0)},[t,e,A,R,I]);const O=(M,z)=>{m(z);let F=0;if(A){if(z===F){T.current="positive";return}F++}if(R){if(z===F){T.current="negative";return}F++}I&&z===F&&(T.current="auto")},D=(M,z=!1)=>l.jsxs(Z,{sx:{height:"100%",overflow:"auto",p:2},children:[M.groups.map(F=>l.jsxs(Z,{sx:{mb:1.5},children:[l.jsx(ie,{variant:"subtitle2",sx:{mb:.5,fontWeight:600,color:z?"error.main":"primary.main",fontSize:"0.9rem"},children:F.group_name}),l.jsx(ie,{variant:"body2",sx:{lineHeight:1.6,wordBreak:"break-word",color:"text.primary"},children:F.terms.join(", ")})]},F.id)),M.unclassified_terms.length>0&&l.jsx(Z,{sx:{mb:1.5},children:l.jsx(ie,{variant:"body2",sx:{lineHeight:1.6,wordBreak:"break-word",color:"text.secondary"},children:M.unclassified_terms.join(", ")})})]}),H=n||"100%";if(!A&&!R&&!I)return l.jsx(Z,{sx:{py:2,textAlign:"center",height:H,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(ie,{variant:"body2",color:"text.secondary",children:d("promptDisplay.noPrompt")})});if(A&&!R&&!I){const M={height:"100%",borderRadius:i==="none"?0:2,display:"flex",flexDirection:"column"},z=r?w?l.jsx(Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:l.jsx(ie,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loading")})}):g?D(g,!1):l.jsx(Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:l.jsx(ie,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loadFailed")})}):l.jsxs(Z,{sx:{flex:1,p:2,overflowY:"auto",minHeight:0,"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"rgba(0,0,0,0.2)",borderRadius:"3px","&:hover":{background:"rgba(0,0,0,0.3)"}}},children:[a&&l.jsx(ie,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:600,color:"primary.main",mb:1},children:d("promptDisplay.labels.prompt")}),l.jsx(ie,{variant:"body2",sx:{whiteSpace:"pre-wrap",lineHeight:1.6,wordBreak:"break-word"},children:t})]});return l.jsx(Z,{sx:{height:H,width:"100%",display:"flex",flexDirection:"column"},children:i==="none"?l.jsx(Z,{sx:M,children:z}):l.jsx(Gt,{variant:i,sx:M,children:z})})}if(!A&&R&&!I){const M={height:"100%",borderRadius:i==="none"?0:2,display:"flex",flexDirection:"column"},z=r?w?l.jsx(Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:l.jsx(ie,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loading")})}):v?D(v,!0):l.jsx(Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:l.jsx(ie,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loadFailed")})}):l.jsxs(Z,{sx:{flex:1,p:2,overflowY:"auto",minHeight:0,"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"rgba(0,0,0,0.2)",borderRadius:"3px","&:hover":{background:"rgba(0,0,0,0.3)"}}},children:[a&&l.jsx(ie,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:600,color:"error.main",mb:1},children:d("promptDisplay.labels.negativePrompt")}),l.jsx(ie,{variant:"body2",sx:{whiteSpace:"pre-wrap",lineHeight:1.6,wordBreak:"break-word",color:"text.secondary"},children:e})]});return l.jsx(Z,{sx:{height:H,width:"100%",display:"flex",flexDirection:"column"},children:i==="none"?l.jsx(Z,{sx:M,children:z}):l.jsx(Gt,{variant:i,sx:M,children:z})})}const L={height:"100%",borderRadius:i==="none"?0:2,display:"flex",flexDirection:"column"},$=l.jsxs(l.Fragment,{children:[l.jsxs(No,{value:h,onChange:O,"aria-label":" ",sx:{borderBottom:1,borderColor:"divider",flexShrink:0,"& .MuiTabs-flexContainer":{height:48}},children:[A&&l.jsx(Cn,{label:d("promptDisplay.tabs.positive"),id:"prompt-tab-0","aria-controls":"prompt-tabpanel-0",sx:{minHeight:48,color:"primary.main","&.Mui-selected":{fontWeight:600}}}),R&&l.jsx(Cn,{label:d("promptDisplay.tabs.negative"),id:`prompt-tab-${A?1:0}`,"aria-controls":`prompt-tabpanel-${A?1:0}`,sx:{minHeight:48,color:"error.main","&.Mui-selected":{fontWeight:600}}}),I&&l.jsx(Cn,{label:d("promptDisplay.tabs.auto"),id:`prompt-tab-${(A?1:0)+(R?1:0)}`,"aria-controls":`prompt-tabpanel-${(A?1:0)+(R?1:0)}`,sx:{minHeight:48,color:"info.main","&.Mui-selected":{fontWeight:600}}})]}),l.jsxs(Z,{sx:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",minHeight:0},children:[A&&l.jsx(HE,{value:h,index:0,children:r?w?l.jsx(Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:l.jsx(ie,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loading")})}):g?D(g,!1):l.jsx(Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:l.jsx(ie,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loadFailed")})}):l.jsx(Z,{sx:{height:"100%",overflowY:"auto",p:2,"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"rgba(0,0,0,0.2)",borderRadius:"3px","&:hover":{background:"rgba(0,0,0,0.3)"}}},children:l.jsx(ie,{variant:"body2",sx:{whiteSpace:"pre-wrap",lineHeight:1.6,wordBreak:"break-word"},children:t})})}),R&&l.jsx(HE,{value:h,index:A?1:0,children:r?w?l.jsx(Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:l.jsx(ie,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loading")})}):v?D(v,!0):l.jsx(Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:l.jsx(ie,{variant:"body2",color:"text.secondary",children:d("promptDisplay.loadFailed")})}):l.jsx(Z,{sx:{height:"100%",overflowY:"auto",p:2,"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"rgba(0,0,0,0.2)",borderRadius:"3px","&:hover":{background:"rgba(0,0,0,0.3)"}}},children:l.jsx(ie,{variant:"body2",sx:{whiteSpace:"pre-wrap",lineHeight:1.6,wordBreak:"break-word",color:"text.secondary"},children:e})})}),I&&l.jsx(HE,{value:h,index:(A?1:0)+(R?1:0),children:l.jsx(ULe,{imageId:o,autoTags:s??null,onTagGenerated:u})})]})]});return l.jsx(Z,{sx:{height:H,width:"100%",display:"flex",flexDirection:"column"},children:i==="none"?l.jsx(Z,{sx:L,children:$}):l.jsx(Gt,{variant:i,sx:L,children:$})})},GLe=t=>{const e=yt.c(55),{image:n}=t,{t:a}=ht(),[i,r]=E.useState(!1);let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={mb:3},e[0]=o):o=e[0];let s;e[1]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer","&:hover":{bgcolor:"action.hover"},px:1,py:.5,borderRadius:1,mb:1},e[1]=s):s=e[1];let c;e[2]!==i?(c=()=>r(!i),e[2]=i,e[3]=c):c=e[3];let u;e[4]!==a?(u=a("imageDetail:sections.fileInfo"),e[4]=a,e[5]=u):u=e[5];let d;e[6]!==u?(d=l.jsx(ie,{variant:"subtitle2",color:"primary",children:u}),e[6]=u,e[7]=d):d=e[7];let h;e[8]===Symbol.for("react.memo_cache_sentinel")?(h={p:0},e[8]=h):h=e[8];let m;e[9]!==i?(m=l.jsx(lt,{size:"small",sx:h,children:i?l.jsx(aD,{fontSize:"small"}):l.jsx(zi,{fontSize:"small"})}),e[9]=i,e[10]=m):m=e[10];let g;e[11]!==c||e[12]!==d||e[13]!==m?(g=l.jsxs(Z,{sx:s,onClick:c,children:[d,m]}),e[11]=c,e[12]=d,e[13]=m,e[14]=g):g=e[14];let y;e[15]===Symbol.for("react.memo_cache_sentinel")?(y={display:"flex",flexDirection:"column",gap:.5,pl:1},e[15]=y):y=e[15];const v=n.original_file_path??"";let S;e[16]!==a?(S=a("imageDetail:fileInfo.filename"),e[16]=a,e[17]=S):S=e[17];const w=n.original_file_path||"";let _;e[18]!==w?(_=zLe(w),e[18]=w,e[19]=_):_=e[19];let T;e[20]!==v||e[21]!==S||e[22]!==_?(T=l.jsxs(ie,{variant:"body2",title:v,children:[S,": ",_]}),e[20]=v,e[21]=S,e[22]=_,e[23]=T):T=e[23];let A;e[24]!==a?(A=a("imageDetail:imageInfo.dimensions"),e[24]=a,e[25]=A):A=e[25];let R;e[26]!==n.height||e[27]!==n.width||e[28]!==A?(R=l.jsxs(ie,{variant:"body2",children:[A,": ",n.width,"  ",n.height]}),e[26]=n.height,e[27]=n.width,e[28]=A,e[29]=R):R=e[29];let I;e[30]!==a?(I=a("imageDetail:fileInfo.fileSize"),e[30]=a,e[31]=I):I=e[31];const N=n.file_size??0;let P;e[32]!==N?(P=PLe(N),e[32]=N,e[33]=P):P=e[33];let O;e[34]!==I||e[35]!==P?(O=l.jsxs(ie,{variant:"body2",children:[I,": ",P]}),e[34]=I,e[35]=P,e[36]=O):O=e[36];let D;e[37]!==a?(D=a("imageDetail:fileInfo.uploadDate"),e[37]=a,e[38]=D):D=e[38];let H;e[39]!==n.first_seen_date?(H=LLe(n.first_seen_date),e[39]=n.first_seen_date,e[40]=H):H=e[40];let L;e[41]!==D||e[42]!==H?(L=l.jsxs(ie,{variant:"body2",children:[D,": ",H]}),e[41]=D,e[42]=H,e[43]=L):L=e[43];let $;e[44]!==T||e[45]!==R||e[46]!==O||e[47]!==L?($=l.jsxs(Z,{sx:y,children:[T,R,O,L]}),e[44]=T,e[45]=R,e[46]=O,e[47]=L,e[48]=$):$=e[48];let M;e[49]!==i||e[50]!==$?(M=l.jsx(Gc,{in:i,children:$}),e[49]=i,e[50]=$,e[51]=M):M=e[51];let z;return e[52]!==M||e[53]!==g?(z=l.jsxs(Z,{sx:o,children:[g,M]}),e[52]=M,e[53]=g,e[54]=z):z=e[54],z},qLe=t=>{const e=yt.c(16),{groups:n,onGroupClick:a}=t,{t:i}=ht();if(!n||n.length===0)return null;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={mb:3},e[0]=r):r=e[0];let o;e[1]!==i?(o=i("imageDetail:sections.groupInfo"),e[1]=i,e[2]=o):o=e[2];let s;e[3]!==o?(s=l.jsx(ie,{variant:"subtitle2",gutterBottom:!0,color:"primary",children:o}),e[3]=o,e[4]=s):s=e[4];let c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c={display:"flex",flexWrap:"wrap",gap:.5},e[5]=c):c=e[5];let u;if(e[6]!==n||e[7]!==a){let m;e[9]!==a?(m=(g,y)=>l.jsx(mt,{label:g.name,size:"small",variant:"filled",clickable:!0,onClick:()=>a(g),sx:{backgroundColor:g.color||(g.collection_type==="auto"?"#e3f2fd":"#f3e5f5"),color:g.color?"#fff":g.collection_type==="auto"?"#1976d2":"#7b1fa2",fontSize:"0.7rem",cursor:"pointer","&:hover":{opacity:.8}}},g.id??`group-${y}`),e[9]=a,e[10]=m):m=e[10],u=n.map(m),e[6]=n,e[7]=a,e[8]=u}else u=e[8];let d;e[11]!==u?(d=l.jsx(Z,{sx:c,children:u}),e[11]=u,e[12]=d):d=e[12];let h;return e[13]!==s||e[14]!==d?(h=l.jsxs(Z,{sx:r,children:[s,d]}),e[13]=s,e[14]=d,e[15]=h):h=e[15],h},WLe=t=>{const e=yt.c(47),{image:n}=t,{t:a}=ht(),[i,r]=E.useState(!0);if(!(n.ai_tool||n.model_name||n.steps||n.cfg_scale||n.sampler||n.seed))return null;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={mb:3},e[0]=s):s=e[0];let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c={display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer","&:hover":{bgcolor:"action.hover"},px:1,py:.5,borderRadius:1,mb:1},e[1]=c):c=e[1];let u;e[2]!==i?(u=()=>r(!i),e[2]=i,e[3]=u):u=e[3];let d;e[4]!==a?(d=a("imageDetail:sections.aiInfo"),e[4]=a,e[5]=d):d=e[5];let h;e[6]!==d?(h=l.jsx(ie,{variant:"subtitle2",color:"primary",children:d}),e[6]=d,e[7]=h):h=e[7];let m;e[8]===Symbol.for("react.memo_cache_sentinel")?(m={p:0},e[8]=m):m=e[8];let g;e[9]!==i?(g=l.jsx(lt,{size:"small",sx:m,children:i?l.jsx(aD,{fontSize:"small"}):l.jsx(zi,{fontSize:"small"})}),e[9]=i,e[10]=g):g=e[10];let y;e[11]!==u||e[12]!==h||e[13]!==g?(y=l.jsxs(Z,{sx:c,onClick:u,children:[h,g]}),e[11]=u,e[12]=h,e[13]=g,e[14]=y):y=e[14];let v;e[15]===Symbol.for("react.memo_cache_sentinel")?(v={display:"flex",flexDirection:"column",gap:.5,pl:1},e[15]=v):v=e[15];let S;e[16]!==n.ai_tool||e[17]!==a?(S=n.ai_tool&&l.jsxs(ie,{variant:"body2",children:[a("imageDetail:aiInfo.toolShort"),": ",n.ai_tool]}),e[16]=n.ai_tool,e[17]=a,e[18]=S):S=e[18];let w;e[19]!==n.model_name||e[20]!==a?(w=n.model_name&&l.jsxs(ie,{variant:"body2",children:[a("imageDetail:aiInfo.model"),": ",n.model_name]}),e[19]=n.model_name,e[20]=a,e[21]=w):w=e[21];let _;e[22]!==n.steps||e[23]!==a?(_=n.steps&&l.jsxs(ie,{variant:"body2",children:[a("imageDetail:aiInfo.steps"),": ",n.steps]}),e[22]=n.steps,e[23]=a,e[24]=_):_=e[24];let T;e[25]!==n.cfg_scale||e[26]!==a?(T=n.cfg_scale&&l.jsxs(ie,{variant:"body2",children:[a("imageDetail:aiInfo.cfgShort"),": ",n.cfg_scale]}),e[25]=n.cfg_scale,e[26]=a,e[27]=T):T=e[27];let A;e[28]!==n.sampler||e[29]!==a?(A=n.sampler&&l.jsxs(ie,{variant:"body2",children:[a("imageDetail:aiInfo.sampler"),": ",n.sampler]}),e[28]=n.sampler,e[29]=a,e[30]=A):A=e[30];let R;e[31]!==n.seed||e[32]!==a?(R=n.seed&&l.jsxs(ie,{variant:"body2",children:[a("imageDetail:aiInfo.seed"),": ",n.seed]}),e[31]=n.seed,e[32]=a,e[33]=R):R=e[33];let I;e[34]!==S||e[35]!==w||e[36]!==_||e[37]!==T||e[38]!==A||e[39]!==R?(I=l.jsxs(Z,{sx:v,children:[S,w,_,T,A,R]}),e[34]=S,e[35]=w,e[36]=_,e[37]=T,e[38]=A,e[39]=R,e[40]=I):I=e[40];let N;e[41]!==i||e[42]!==I?(N=l.jsx(Gc,{in:i,children:I}),e[41]=i,e[42]=I,e[43]=N):N=e[43];let P;return e[44]!==N||e[45]!==y?(P=l.jsxs(Z,{sx:s,children:[y,N]}),e[44]=N,e[45]=y,e[46]=P):P=e[46],P},eF=t=>{const e=yt.c(52),{image:n,onGroupClick:a,isTaggerEnabled:i,onAutoTagGenerated:r,isHistoryContext:o}=t,s=i===void 0?!1:i,c=o===void 0?!1:o;let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=["imageDetail","common"],e[0]=u):u=e[0];const{t:d}=ht(u),[h,m]=E.useState(!1),g=n.ai_metadata&&(n.ai_metadata.prompts.prompt||n.ai_metadata.prompts.negative_prompt);let y;e[1]!==n.auto_tags?(y=n.auto_tags&&Object.keys(n.auto_tags).length>0,e[1]=n.auto_tags,e[2]=y):y=e[2];const S=g||s||y;let w;e[3]!==n.composite_hash?(w=async()=>{if(n.composite_hash)try{await navigator.clipboard.writeText(n.composite_hash),m(!0)}catch(J){console.error("Failed to copy hash:",J)}},e[3]=n.composite_hash,e[4]=w):w=e[4];const _=w;let T;e[5]===Symbol.for("react.memo_cache_sentinel")?(T={p:{xs:2,sm:3},height:"100%",display:"flex",flexDirection:"column"},e[5]=T):T=e[5];let A;e[6]===Symbol.for("react.memo_cache_sentinel")?(A={flexShrink:0,overflowY:"auto",mb:2},e[6]=A):A=e[6];let R;e[7]===Symbol.for("react.memo_cache_sentinel")?(R={mb:2},e[7]=R):R=e[7];let I;e[8]!==d?(I=d("imageDetail:info.title"),e[8]=d,e[9]=I):I=e[9];let N;e[10]!==I?(N=l.jsx(ie,{variant:"h6",gutterBottom:!0,sx:R,children:I}),e[10]=I,e[11]=N):N=e[11];let P;e[12]===Symbol.for("react.memo_cache_sentinel")?(P={mb:2,p:1.5,bgcolor:"action.hover",borderRadius:1,display:"flex",alignItems:"center",gap:1},e[12]=P):P=e[12];let O;e[13]!==_||e[14]!==n.composite_hash||e[15]!==d?(O=l.jsx(Z,{sx:P,children:n.composite_hash?l.jsxs(l.Fragment,{children:[l.jsx(jt,{title:d("common:clickToCopy"),children:l.jsx(Z,{onClick:_,sx:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer",fontFamily:"monospace",fontSize:"0.75rem",color:"text.secondary","&:hover":{color:"primary.main"}},children:n.composite_hash})}),l.jsx(jt,{title:d("imageDetail:copyHash"),children:l.jsx(lt,{size:"small",onClick:_,sx:{flexShrink:0},children:l.jsx(ng,{fontSize:"small"})})})]}):l.jsxs(l.Fragment,{children:[l.jsx(mS,{fontSize:"small",color:"disabled"}),l.jsx(ie,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:d("imageDetail:hashGenerating")})]})}),e[13]=_,e[14]=n.composite_hash,e[15]=d,e[16]=O):O=e[16];let D;e[17]!==n?(D=l.jsx(GLe,{image:n}),e[17]=n,e[18]=D):D=e[18];let H;e[19]!==n.groups||e[20]!==a?(H=l.jsx(qLe,{groups:n.groups,onGroupClick:a}),e[19]=n.groups,e[20]=a,e[21]=H):H=e[21];let L;e[22]!==n?(L=l.jsx(WLe,{image:n}),e[22]=n,e[23]=L):L=e[23];let $;e[24]!==N||e[25]!==O||e[26]!==D||e[27]!==H||e[28]!==L?($=l.jsxs(Z,{sx:A,children:[N,O,D,H,L]}),e[24]=N,e[25]=O,e[26]=D,e[27]=H,e[28]=L,e[29]=$):$=e[29];let M;e[30]!==n.ai_metadata?.prompts||e[31]!==n.auto_tags||e[32]!==n.composite_hash||e[33]!==c||e[34]!==s||e[35]!==r||e[36]!==S?(M=S&&l.jsx(Z,{sx:{flex:1,display:"flex",flexDirection:"column",minHeight:0},children:l.jsx(_Z,{prompt:n.ai_metadata?.prompts.prompt,negativePrompt:n.ai_metadata?.prompts.negative_prompt,variant:"outlined",showGrouped:!0,imageId:n.composite_hash||void 0,autoTags:n.auto_tags,isTaggerEnabled:s,onAutoTagGenerated:r,isHistoryContext:c})}),e[30]=n.ai_metadata?.prompts,e[31]=n.auto_tags,e[32]=n.composite_hash,e[33]=c,e[34]=s,e[35]=r,e[36]=S,e[37]=M):M=e[37];let z,F;e[38]===Symbol.for("react.memo_cache_sentinel")?(z=()=>m(!1),F={vertical:"bottom",horizontal:"center"},e[38]=z,e[39]=F):(z=e[38],F=e[39]);let G;e[40]===Symbol.for("react.memo_cache_sentinel")?(G=()=>m(!1),e[40]=G):G=e[40];let ee;e[41]!==d?(ee=d("imageDetail:hashCopied"),e[41]=d,e[42]=ee):ee=e[42];let V;e[43]!==ee?(V=l.jsx(xt,{onClose:G,severity:"success",variant:"filled",children:ee}),e[43]=ee,e[44]=V):V=e[44];let Y;e[45]!==h||e[46]!==V?(Y=l.jsx(kg,{open:h,autoHideDuration:2e3,onClose:z,anchorOrigin:F,children:V}),e[45]=h,e[46]=V,e[47]=Y):Y=e[47];let K;return e[48]!==$||e[49]!==M||e[50]!==Y?(K=l.jsxs(Z,{sx:T,children:[$,M,Y]}),e[48]=$,e[49]=M,e[50]=Y,e[51]=K):K=e[51],K},VLe=()=>{const t=yt.c(17);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[[]],t[0]=e):e=t[0];const[n,a]=E.useState(e),[i,r]=E.useState(0);let o;t[1]!==n||t[2]!==i?(o=w=>{const _=n.slice(0,i+1);_.push([...w]),a(_),r(_.length-1)},t[1]=n,t[2]=i,t[3]=o):o=t[3];const s=o;let c;t[4]!==n||t[5]!==i?(c=()=>i>0?(r(i-1),n[i-1]):null,t[4]=n,t[5]=i,t[6]=c):c=t[6];const u=c;let d;t[7]!==n||t[8]!==i?(d=()=>i<n.length-1?(r(i+1),n[i+1]):null,t[7]=n,t[8]=i,t[9]=d):d=t[9];const h=d,m=i>0,g=i<n.length-1;let y;t[10]===Symbol.for("react.memo_cache_sentinel")?(y=()=>{a([[]]),r(0)},t[10]=y):y=t[10];const v=y;let S;return t[11]!==g||t[12]!==m||t[13]!==h||t[14]!==s||t[15]!==u?(S={saveToHistory:s,undo:u,redo:h,canUndo:m,canRedo:g,reset:v},t[11]=g,t[12]=m,t[13]=h,t[14]=s,t[15]=u,t[16]=S):S=t[16],S},YLe=(t=1)=>{const[e,n]=E.useState(t),[a,i]=E.useState({x:0,y:0}),[r,o]=E.useState(0),[s,c]=E.useState(1),u=E.useRef(!1),d=E.useRef({x:0,y:0}),h=E.useCallback(()=>{n(I=>Math.min(I*1.2,5))},[]),m=E.useCallback(()=>{n(I=>Math.max(I/1.2,.1))},[]),g=E.useCallback(()=>{n(1),i({x:0,y:0})},[]),y=E.useCallback((I,N)=>{I.evt.preventDefault();const P=N.current;if(!P)return;const O=e,D=P.getPointerPosition(),H={x:(D.x-a.x)/O,y:(D.y-a.y)/O},L=I.evt.deltaY>0?O/1.1:O*1.1,$=Math.max(.1,Math.min(5,L));n($);const M={x:D.x-H.x*$,y:D.y-H.y*$};i(M)},[e,a.x,a.y]),v=E.useCallback(I=>{u.current=!0,d.current=I},[]),S=E.useCallback(I=>{if(!u.current)return!1;const N=I.x-d.current.x,P=I.y-d.current.y;return i(O=>({x:O.x+N,y:O.y+P})),d.current=I,!0},[]),w=E.useCallback(()=>{u.current=!1},[]),_=E.useCallback(()=>{o(I=>(I+90)%360)},[]),T=E.useCallback(()=>{c(I=>I*-1)},[]),A=E.useCallback(()=>{n(1),i({x:0,y:0}),o(0),c(1)},[]),R=E.useCallback(I=>{n(I)},[]);return{zoom:e,stagePos:a,rotation:r,scaleX:s,isPanning:u.current,handleZoomIn:h,handleZoomOut:m,handleFitScreen:g,handleWheel:y,startPan:v,movePan:S,endPan:w,handleRotate:_,handleFlip:T,reset:A,setInitialZoom:R}},KLe=({tool:t,brushSize:e,brushColor:n,eraserSize:a,zoom:i,stagePos:r,onDrawingComplete:o})=>{const[s,c]=E.useState([]),u=E.useRef(!1),d=E.useCallback(S=>{if(t!=="brush"&&t!=="eraser")return;u.current=!0;const w={x:(S.x-r.x)/i,y:(S.y-r.y)/i},_={tool:t,points:[w.x,w.y],color:t==="brush"?n:"#ffffff",strokeWidth:t==="brush"?e:a};c(T=>[...T,_])},[t,e,n,a,i,r]),h=E.useCallback(S=>{if(!u.current)return;const w={x:(S.x-r.x)/i,y:(S.y-r.y)/i};c(_=>{const T=_[_.length-1];if(!T)return _;const A={...T,points:T.points.concat([w.x,w.y])};return[..._.slice(0,-1),A]})},[i,r]),m=E.useCallback(()=>{u.current&&(u.current=!1,o(s))},[s,o]),g=E.useCallback(()=>{c([]),o([])},[o]),y=E.useCallback(S=>{c(S)},[]),v=E.useCallback(()=>{c([]),u.current=!1},[]);return{lines:s,isDrawing:u.current,startDrawing:d,continueDrawing:h,endDrawing:m,clearLines:g,setLinesFromHistory:y,reset:v}},XLe=(t,e,n,a,i)=>{if(!t)return{x:0,y:0,width:0,height:0};const r=a/2,o=i/2;return{x:r,y:o,width:e.width,height:e.height}},QLe=(t,e,n,a)=>{if(!t||!e||!n||!a)return 1;const i=n*.9,r=a*.9,o=i/t,s=r/e;return Math.min(o,s,1)},ZLe=async(t,e,n,a)=>{if(!t)throw new Error("Layer reference not available");const r=t.toDataURL({x:e.x-e.width/2,y:e.y-e.height/2,width:e.width,height:e.height,pixelRatio:1/a});await Ut.post(`/api/image-editor/${n}/save`,{imageData:r})},JLe=t=>{const e=yt.c(35),{zoom:n,onZoomIn:a,onZoomOut:i,onFitScreen:r,onClose:o}=t,{t:s}=ht("common");let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c={display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:1,borderColor:"divider",py:1.5,px:2},e[0]=c):c=e[0];let u;e[1]===Symbol.for("react.memo_cache_sentinel")?(u={display:"flex",alignItems:"center",gap:2},e[1]=u):u=e[1];let d;e[2]!==s?(d=s("imageEditor.title"),e[2]=s,e[3]=d):d=e[3];let h;e[4]!==d?(h=l.jsx(ie,{variant:"h6",children:d}),e[4]=d,e[5]=h):h=e[5];let m;e[6]===Symbol.for("react.memo_cache_sentinel")?(m={display:"flex",gap:1},e[6]=m):m=e[6];let g;e[7]===Symbol.for("react.memo_cache_sentinel")?(g=l.jsx(VQ,{fontSize:"small"}),e[7]=g):g=e[7];let y;e[8]!==i?(y=l.jsx(lt,{onClick:i,size:"small",children:g}),e[8]=i,e[9]=y):y=e[9];let v;e[10]===Symbol.for("react.memo_cache_sentinel")?(v={minWidth:60,textAlign:"center",lineHeight:"32px"},e[10]=v):v=e[10];let S;e[11]!==n?(S=Math.round(n*100),e[11]=n,e[12]=S):S=e[12];let w;e[13]!==S?(w=l.jsxs(ie,{variant:"body2",sx:v,children:[S,"%"]}),e[13]=S,e[14]=w):w=e[14];let _;e[15]===Symbol.for("react.memo_cache_sentinel")?(_=l.jsx(WQ,{fontSize:"small"}),e[15]=_):_=e[15];let T;e[16]!==a?(T=l.jsx(lt,{onClick:a,size:"small",children:_}),e[16]=a,e[17]=T):T=e[17];let A;e[18]===Symbol.for("react.memo_cache_sentinel")?(A=l.jsx(NOe,{fontSize:"small"}),e[18]=A):A=e[18];let R;e[19]!==r?(R=l.jsx(lt,{onClick:r,size:"small",children:A}),e[19]=r,e[20]=R):R=e[20];let I;e[21]!==w||e[22]!==T||e[23]!==R||e[24]!==y?(I=l.jsxs(Z,{sx:m,children:[y,w,T,R]}),e[21]=w,e[22]=T,e[23]=R,e[24]=y,e[25]=I):I=e[25];let N;e[26]!==I||e[27]!==h?(N=l.jsxs(Z,{sx:u,children:[h,I]}),e[26]=I,e[27]=h,e[28]=N):N=e[28];let P;e[29]===Symbol.for("react.memo_cache_sentinel")?(P=l.jsx(Sf,{}),e[29]=P):P=e[29];let O;e[30]!==o?(O=l.jsx(lt,{onClick:o,size:"small",children:P}),e[30]=o,e[31]=O):O=e[31];let D;return e[32]!==N||e[33]!==O?(D=l.jsxs(Un,{sx:c,children:[N,O]}),e[32]=N,e[33]=O,e[34]=D):D=e[34],D},eze=t=>{const e=yt.c(49),{tool:n,canUndo:a,canRedo:i,onToolChange:r,onUndo:o,onRedo:s,onClear:c,onRotate:u,onFlip:d}=t;let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h={width:60,display:"flex",flexDirection:"column",alignItems:"center",gap:.5,py:2,borderRight:1,borderColor:"divider",bgcolor:"background.paper"},e[0]=h):h=e[0];let m;e[1]!==r?(m=()=>r("pan"),e[1]=r,e[2]=m):m=e[2];const g=n==="pan"?"primary":"default";let y;e[3]===Symbol.for("react.memo_cache_sentinel")?(y=l.jsx(GOe,{}),e[3]=y):y=e[3];let v;e[4]!==m||e[5]!==g?(v=l.jsx(lt,{onClick:m,color:g,size:"medium",children:y}),e[4]=m,e[5]=g,e[6]=v):v=e[6];let S;e[7]!==r?(S=()=>r("brush"),e[7]=r,e[8]=S):S=e[8];const w=n==="brush"?"primary":"default";let _;e[9]===Symbol.for("react.memo_cache_sentinel")?(_=l.jsx(SOe,{}),e[9]=_):_=e[9];let T;e[10]!==S||e[11]!==w?(T=l.jsx(lt,{onClick:S,color:w,size:"medium",children:_}),e[10]=S,e[11]=w,e[12]=T):T=e[12];let A;e[13]!==r?(A=()=>r("eraser"),e[13]=r,e[14]=A):A=e[14];const R=n==="eraser"?"primary":"default";let I;e[15]===Symbol.for("react.memo_cache_sentinel")?(I={fontSize:20},e[15]=I):I=e[15];let N;e[16]!==A||e[17]!==R?(N=l.jsx(lt,{onClick:A,color:R,size:"medium",sx:I,children:""}),e[16]=A,e[17]=R,e[18]=N):N=e[18];let P;e[19]===Symbol.for("react.memo_cache_sentinel")?(P=l.jsx(Z,{sx:{width:"80%",borderTop:1,borderColor:"divider",my:1}}),e[19]=P):P=e[19];const O=!a;let D;e[20]===Symbol.for("react.memo_cache_sentinel")?(D=l.jsx(iMe,{}),e[20]=D):D=e[20];let H;e[21]!==o||e[22]!==O?(H=l.jsx(lt,{onClick:o,disabled:O,size:"medium",children:D}),e[21]=o,e[22]=O,e[23]=H):H=e[23];const L=!i;let $;e[24]===Symbol.for("react.memo_cache_sentinel")?($=l.jsx(WOe,{}),e[24]=$):$=e[24];let M;e[25]!==s||e[26]!==L?(M=l.jsx(lt,{onClick:s,disabled:L,size:"medium",children:$}),e[25]=s,e[26]=L,e[27]=M):M=e[27];let z;e[28]===Symbol.for("react.memo_cache_sentinel")?(z=l.jsx(Wa,{}),e[28]=z):z=e[28];let F;e[29]!==c?(F=l.jsx(lt,{onClick:c,size:"medium",children:z}),e[29]=c,e[30]=F):F=e[30];let G;e[31]===Symbol.for("react.memo_cache_sentinel")?(G=l.jsx(Z,{sx:{width:"80%",borderTop:1,borderColor:"divider",my:1}}),e[31]=G):G=e[31];let ee;e[32]===Symbol.for("react.memo_cache_sentinel")?(ee=l.jsx($Q,{}),e[32]=ee):ee=e[32];let V;e[33]!==u?(V=l.jsx(lt,{onClick:u,size:"medium",children:ee}),e[33]=u,e[34]=V):V=e[34];let Y;e[35]===Symbol.for("react.memo_cache_sentinel")?(Y=l.jsx(LQ,{}),e[35]=Y):Y=e[35];let K;e[36]!==d?(K=l.jsx(lt,{onClick:d,size:"medium",children:Y}),e[36]=d,e[37]=K):K=e[37];let J;e[38]===Symbol.for("react.memo_cache_sentinel")?(J=l.jsx(lt,{disabled:!0,size:"medium",sx:{opacity:.3},children:l.jsx(AOe,{})}),e[38]=J):J=e[38];let W;e[39]===Symbol.for("react.memo_cache_sentinel")?(W=l.jsx(lt,{disabled:!0,size:"medium",sx:{opacity:.3},children:l.jsx(LOe,{})}),e[39]=W):W=e[39];let te;return e[40]!==N||e[41]!==H||e[42]!==M||e[43]!==F||e[44]!==V||e[45]!==K||e[46]!==v||e[47]!==T?(te=l.jsxs(Z,{sx:h,children:[v,T,N,P,H,M,F,G,V,K,J,W]}),e[40]=N,e[41]=H,e[42]=M,e[43]=F,e[44]=V,e[45]=K,e[46]=v,e[47]=T,e[48]=te):te=e[48],te},tze=Math.PI/180;function nze(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const Hm=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},$t={_global:Hm,version:"10.0.8",isBrowser:nze(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return $t.angleDeg?t*tze:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return $t.DD.isDragging},isTransforming(){var t,e;return(e=(t=$t.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!$t.DD.node},releaseCanvasOnDestroy:!0,document:Hm.document,_injectGlobal(t){typeof Hm.Konva<"u"&&console.error("Several Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),Hm.Konva=t}},Bi=t=>{$t[t.prototype.getClassName()]=t};$t._injectGlobal($t);const aze=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,tF=()=>{if(typeof document>"u")throw new Error(aze)};let Mc=class TZ{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new TZ(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){const n=Math.cos(e),a=Math.sin(e),i=this.m[0]*n+this.m[2]*a,r=this.m[1]*n+this.m[3]*a,o=this.m[0]*-a+this.m[2]*n,s=this.m[1]*-a+this.m[3]*n;return this.m[0]=i,this.m[1]=r,this.m[2]=o,this.m[3]=s,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){const a=this.m[0]+this.m[2]*n,i=this.m[1]+this.m[3]*n,r=this.m[2]+this.m[0]*e,o=this.m[3]+this.m[1]*e;return this.m[0]=a,this.m[1]=i,this.m[2]=r,this.m[3]=o,this}multiply(e){const n=this.m[0]*e.m[0]+this.m[2]*e.m[1],a=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],r=this.m[1]*e.m[2]+this.m[3]*e.m[3],o=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],s=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=a,this.m[2]=i,this.m[3]=r,this.m[4]=o,this.m[5]=s,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,a=-this.m[1]*e,i=-this.m[2]*e,r=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),s=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=a,this.m[2]=i,this.m[3]=r,this.m[4]=o,this.m[5]=s,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],a=this.m[2],i=this.m[3],r=this.m[4],o=this.m[5],s=e*i-n*a,c={x:r,y:o,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){const u=Math.sqrt(e*e+n*n);c.rotation=n>0?Math.acos(e/u):-Math.acos(e/u),c.scaleX=u,c.scaleY=s/u,c.skewX=(e*a+n*i)/s,c.skewY=0}else if(a!=0||i!=0){const u=Math.sqrt(a*a+i*i);c.rotation=Math.PI/2-(i>0?Math.acos(-a/u):-Math.acos(a/u)),c.scaleX=s/u,c.scaleY=u,c.skewX=0,c.skewY=(e*a+n*i)/s}return c.rotation=$e._getRotation(c.rotation),c}};const ize="[object Array]",rze="[object Number]",oze="[object String]",sze="[object Boolean]",lze=Math.PI/180,cze=180/Math.PI,$E="#",uze="",dze="0",fze="Konva warning: ",nF="Konva error: ",hze="rgb(",UE={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},pze=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let iw=[];const mze=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},$e={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===ize},_isNumber(t){return Object.prototype.toString.call(t)===rze&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===oze},_isBoolean(t){return Object.prototype.toString.call(t)===sze},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){iw.push(t),iw.length===1&&mze(function(){const e=iw;iw=[],e.forEach(function(n){n()})})},createCanvasElement(){tF();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return tF(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const n=$e.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace($E,uze);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=dze+t;return $E+t},getRGB(t){let e;return t in UE?(e=UE[t],{r:e[0],g:e[1],b:e[2]}):t[0]===$E?this._hexToRgb(t.substring(1)):t.substr(0,4)===hze?(e=pze.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",$e._namedColorToRBA(t)||$e._hex3ColorToRGBA(t)||$e._hex4ColorToRGBA(t)||$e._hex6ColorToRGBA(t)||$e._hex8ColorToRGBA(t)||$e._rgbColorToRGBA(t)||$e._rgbaColorToRGBA(t)||$e._hslColorToRGBA(t)},_namedColorToRBA(t){const e=UE[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((n,a)=>n.slice(-1)==="%"?a===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),a=Number(n[0])/360,i=Number(n[1])/100,r=Number(n[2])/100;let o,s,c;if(i===0)return c=r*255,{r:Math.round(c),g:Math.round(c),b:Math.round(c),a:1};r<.5?o=r*(1+i):o=r+i-r*i;const u=2*r-o,d=[0,0,0];for(let h=0;h<3;h++)s=a+1/3*-(h-1),s<0&&s++,s>1&&s--,6*s<1?c=u+(o-u)*6*s:2*s<1?c=o:3*s<2?c=u+(o-u)*(2/3-s)*6:c=u,d[h]=c*255;return{r:Math.round(d[0]),g:Math.round(d[1]),b:Math.round(d[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*lze},radToDeg(t){return t*cze},_degToRad(t){return $e.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),$e.degToRad(t)},_radToDeg(t){return $e.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),$e.radToDeg(t)},_getRotation(t){return $t.angleDeg?$e.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(nF+t)},error(t){console.error(nF+t)},warn(t){$t.showWarnings&&console.warn(fze+t)},each(t,e){for(const n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,a,i,r){let o,s,c;const u=(t-n)*(t-n)+(e-a)*(e-a);if(u==0)o=t,s=e,c=(i-n)*(i-n)+(r-a)*(r-a);else{const d=((i-t)*(n-t)+(r-e)*(a-e))/u;d<0?(o=t,s=e,c=(t-i)*(t-i)+(e-r)*(e-r)):d>1?(o=n,s=a,c=(n-i)*(n-i)+(a-r)*(a-r)):(o=t+d*(n-t),s=e+d*(a-e),c=(o-i)*(o-i)+(s-r)*(s-r))}return[o,s,c]},_getProjectionToLine(t,e,n){const a=$e.cloneObject(t);let i=Number.MAX_VALUE;return e.forEach(function(r,o){if(!n&&o===e.length-1)return;const s=e[(o+1)%e.length],c=$e._getProjectionToSegment(r.x,r.y,s.x,s.y,t.x,t.y),u=c[0],d=c[1],h=c[2];h<i&&(a.x=u,a.y=d,i=h)}),a},_prepareArrayForTween(t,e,n){const a=[],i=[];if(t.length>e.length){const o=e;e=t,t=o}for(let o=0;o<t.length;o+=2)a.push({x:t[o],y:t[o+1]});for(let o=0;o<e.length;o+=2)i.push({x:e[o],y:e[o+1]});const r=[];return i.forEach(function(o){const s=$e._getProjectionToLine(o,a,n);r.push(s.x),r.push(s.y)}),r},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||$e._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if($e._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){$t.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,a){let i=e<0?e:0,r=n<0?n:0;e=Math.abs(e),n=Math.abs(n);let o=0,s=0,c=0,u=0;typeof a=="number"?o=s=c=u=Math.min(a,e/2,n/2):(o=Math.min(a[0]||0,e/2,n/2),s=Math.min(a[1]||0,e/2,n/2),u=Math.min(a[2]||0,e/2,n/2),c=Math.min(a[3]||0,e/2,n/2)),t.moveTo(i+o,r),t.lineTo(i+e-s,r),t.arc(i+e-s,r+s,s,Math.PI*3/2,0,!1),t.lineTo(i+e,r+n-u),t.arc(i+e-u,r+n-u,u,0,Math.PI/2,!1),t.lineTo(i+c,r+n),t.arc(i+c,r+n-c,c,Math.PI/2,Math.PI,!1),t.lineTo(i,r+o),t.arc(i+o,r+o,o,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,n,a,i){a=Math.abs(a);for(let r=0;r<n;r++){const o=e[(r-1+n)%n],s=e[r],c=e[(r+1)%n],u={x:s.x-o.x,y:s.y-o.y},d={x:c.x-s.x,y:c.y-s.y},h=Math.hypot(u.x,u.y),m=Math.hypot(d.x,d.y);let g;typeof i=="number"?g=i:g=r<i.length?i[r]:0,g=a*Math.cos(Math.PI/n)*Math.min(1,g/a*2);const v={x:u.x/h,y:u.y/h},S={x:d.x/m,y:d.y/m},w={x:s.x-v.x*g,y:s.y-v.y*g},_={x:s.x+S.x*g,y:s.y+S.y*g};r===0?t.moveTo(w.x,w.y):t.lineTo(w.x,w.y),t.arcTo(s.x,s.y,_.x,_.y,g)}}};function gze(t){const e=[],n=t.length,a=$e;for(let i=0;i<n;i++){let r=t[i];a._isNumber(r)?r=Math.round(r*1e3)/1e3:a._isString(r)||(r=r+""),e.push(r)}return e}const aF=",",bze="(",yze=")",xze="([",vze="])",Sze=";",Cze="()",wze="=",iF=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],_ze=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],Tze=100;let rw=null;function rF(){if(rw!==null)return rw;try{const e=$e.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(rw=!1,!1)}catch{return rw=!1,!1}}let c5=class{constructor(e){this.canvas=e,$t.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let a=this.traceArr,i=a.length,r="",o,s,c,u;for(o=0;o<i;o++)s=a[o],c=s.method,c?(u=s.args,r+=c,e?r+=Cze:$e._isArray(u[0])?r+=xze+u.join(aF)+vze:(n&&(u=u.map(d=>typeof d=="number"?Math.floor(d):d)),r+=bze+u.join(aF)+yze)):(r+=s.property,e||(r+=wze+s.val)),r+=Sze;return r}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,a;n.push(e),a=n.length,a>=Tze&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(e){const n=e.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(e,n){this._context[e]=n}arc(e,n,a,i,r,o){this._context.arc(e,n,a,i,r,o)}arcTo(e,n,a,i,r){this._context.arcTo(e,n,a,i,r)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,a,i,r,o){this._context.bezierCurveTo(e,n,a,i,r,o)}clearRect(e,n,a,i){this._context.clearRect(e,n,a,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const a=arguments;if(a.length===2)return this._context.createImageData(e,n);if(a.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,a,i){return this._context.createLinearGradient(e,n,a,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,a,i,r,o){return this._context.createRadialGradient(e,n,a,i,r,o)}drawImage(e,n,a,i,r,o,s,c,u){const d=arguments,h=this._context;d.length===3?h.drawImage(e,n,a):d.length===5?h.drawImage(e,n,a,i,r):d.length===9&&h.drawImage(e,n,a,i,r,o,s,c,u)}ellipse(e,n,a,i,r,o,s,c){this._context.ellipse(e,n,a,i,r,o,s,c)}isPointInPath(e,n,a,i){return a?this._context.isPointInPath(a,e,n,i):this._context.isPointInPath(e,n,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,a,i){this._context.fillRect(e,n,a,i)}strokeRect(e,n,a,i){this._context.strokeRect(e,n,a,i)}fillText(e,n,a,i){i?this._context.fillText(e,n,a,i):this._context.fillText(e,n,a)}measureText(e){return this._context.measureText(e)}getImageData(e,n,a,i){return this._context.getImageData(e,n,a,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,a,i){this._context.rect(e,n,a,i)}roundRect(e,n,a,i,r){this._context.roundRect(e,n,a,i,r)}putImageData(e,n,a){this._context.putImageData(e,n,a)}quadraticCurveTo(e,n,a,i){this._context.quadraticCurveTo(e,n,a,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,a,i,r,o){this._context.setTransform(e,n,a,i,r,o)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,a,i){this._context.strokeText(e,n,a,i)}transform(e,n,a,i,r,o){this._context.transform(e,n,a,i,r,o)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=iF.length,a=this.setAttr,i,r;const o=function(s){let c=e[s],u;e[s]=function(){return r=gze(Array.prototype.slice.call(arguments,0)),u=c.apply(e,arguments),e._trace({method:s,args:r}),u}};for(i=0;i<n;i++)o(iF[i]);e.setAttr=function(){a.apply(e,arguments);const s=arguments[0];let c=arguments[1];(s==="shadowOffsetX"||s==="shadowOffsetY"||s==="shadowBlur")&&(c=c/this.canvas.getPixelRatio()),e._trace({property:s,val:c})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}};_ze.forEach(function(t){Object.defineProperty(c5.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class Eze extends c5{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),a=e.getFillPriority();if(n&&a==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&a==="pattern"){this._fillPattern(e);return}const r=e.getFillLinearGradientColorStops();if(r&&a==="linear-gradient"){this._fillLinearGradient(e);return}const o=e.getFillRadialGradientColorStops();if(o&&a==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):r?this._fillLinearGradient(e):o&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),a=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),r=this.createLinearGradient(n.x,n.y,a.x,a.y);if(i){for(let o=0;o<i.length;o+=2)r.addColorStop(i[o],i[o+1]);this.setAttr("strokeStyle",r)}}_stroke(e){const n=e.dash(),a=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!a){this.save();const r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),a||this.restore()}}_applyShadow(e){var n,a,i;const r=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",o=(a=e.getShadowBlur())!==null&&a!==void 0?a:5,s=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},c=e.getAbsoluteScale(),u=this.canvas.getPixelRatio(),d=c.x*u,h=c.y*u;this.setAttr("shadowColor",r),this.setAttr("shadowBlur",o*Math.min(Math.abs(d),Math.abs(h))),this.setAttr("shadowOffsetX",s.x*d),this.setAttr("shadowOffsetY",s.y*h)}}class Aze extends c5{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(e);const a=e.hitStrokeWidth(),i=a==="auto"?e.strokeWidth():a;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}let ow;function Rze(){if(ow)return ow;const t=$e.createCanvasElement(),e=t.getContext("2d");return ow=(function(){const n=$t._global.devicePixelRatio||1,a=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/a})(),$e.releaseCanvas(t),ow}class hD{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const a=(e||{}).pixelRatio||$t.pixelRatio||Rze();this.pixelRatio=a,this._canvas=$e.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return $e.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class $h extends hD{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new Eze(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}function oF(){const t=$e.createCanvasElement();t.width=1,t.height=1;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,1,1),e.fillStyle="rgba(255,0,255,1)",e.fillRect(0,0,1,1);const n=e.getImageData(0,0,1,1).data;return!(n[0]===255&&n[1]===0&&n[2]===255&&n[3]===255)}function sF(){var t,e;return typeof navigator>"u"?!1:(e=(t=navigator.brave)===null||t===void 0?void 0:t.isBrave())!==null&&e!==void 0?e:!1}let lF=!1;function kze(){return sF()&&oF()&&!lF&&(lF=!0,$e.error('Looks like you have "Brave shield" enabled in your browser. It breaks KonvaJS internals. Please disable it. You may need to ask your users to do the same.')),sF()&&oF()}class pD extends hD{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new Aze(this),this.setSize(e.width,e.height),kze()}}const Ea={get isDragging(){let t=!1;return Ea._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return Ea._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];Ea._dragElements.forEach((n,a)=>{const{node:i}=n,r=i.getStage();r.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=$e._getFirstPointerId(t));const o=r._changedPointerPositions.find(s=>s.id===n.pointerId);if(o){if(n.dragStatus!=="dragging"){const s=i.dragDistance();if(Math.max(Math.abs(o.x-n.startPointerPos.x),Math.abs(o.y-n.startPointerPos.y))<s||(i.startDrag({evt:t}),!i.isDragging()))return}i._setDragPosition(t,n),e.push(i)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];Ea._dragElements.forEach(n=>{const{node:a}=n,i=a.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find(s=>s.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(Ea.justDragged=!0,$t._mouseListenClick=!1,$t._touchListenClick=!1,$t._pointerListenClick=!1,n.dragStatus="stopped");const o=n.node.getLayer()||n.node instanceof $t.Stage&&n.node;o&&e.indexOf(o)===-1&&e.push(o)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){Ea._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&Ea._dragElements.delete(n)})}};$t.isBrowser&&(window.addEventListener("mouseup",Ea._endDragBefore,!0),window.addEventListener("touchend",Ea._endDragBefore,!0),window.addEventListener("touchcancel",Ea._endDragBefore,!0),window.addEventListener("mousemove",Ea._drag),window.addEventListener("touchmove",Ea._drag),window.addEventListener("mouseup",Ea._endDragAfter,!1),window.addEventListener("touchend",Ea._endDragAfter,!1),window.addEventListener("touchcancel",Ea._endDragAfter,!1));function wp(t){return $e._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||$e._isBoolean(t)?t:Object.prototype.toString.call(t)}function EZ(t){return t>255?255:t<0?0:Math.round(t)}function zt(){if($t.isUnminified)return function(t,e){return $e._isNumber(t)||$e.warn(wp(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function u5(t){if($t.isUnminified)return function(e,n){let a=$e._isNumber(e),i=$e._isArray(e)&&e.length==t;return!a&&!i&&$e.warn(wp(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function mD(){if($t.isUnminified)return function(t,e){return $e._isNumber(t)||t==="auto"||$e.warn(wp(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Ig(){if($t.isUnminified)return function(t,e){return $e._isString(t)||$e.warn(wp(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function AZ(){if($t.isUnminified)return function(t,e){const n=$e._isString(t),a=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||a||$e.warn(wp(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function Ize(){if($t.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||($e._isArray(t)?t.forEach(function(a){$e._isNumber(a)||$e.warn('"'+e+'" attribute has non numeric element '+a+". Make sure that all elements are numbers.")}):$e.warn(wp(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function eu(){if($t.isUnminified)return function(t,e){return t===!0||t===!1||$e.warn(wp(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function Nze(t){if($t.isUnminified)return function(e,n){return e==null||$e.isObject(e)||$e.warn(wp(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}const Yx="get",Kx="set",Ae={addGetterSetter(t,e,n,a,i){Ae.addGetter(t,e,n),Ae.addSetter(t,e,a,i),Ae.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){const a=Yx+$e._capitalize(e);t.prototype[a]=t.prototype[a]||function(){const i=this.attrs[e];return i===void 0?n:i}},addSetter(t,e,n,a){const i=Kx+$e._capitalize(e);t.prototype[i]||Ae.overWriteSetter(t,e,n,a)},overWriteSetter(t,e,n,a){const i=Kx+$e._capitalize(e);t.prototype[i]=function(r){return n&&r!==void 0&&r!==null&&(r=n.call(this,r,e)),this._setAttr(e,r),a&&a.call(this),this}},addComponentsGetterSetter(t,e,n,a,i){const r=n.length,o=$e._capitalize,s=Yx+o(e),c=Kx+o(e);t.prototype[s]=function(){const d={};for(let h=0;h<r;h++){const m=n[h];d[m]=this.getAttr(e+o(m))}return d};const u=Nze(n);t.prototype[c]=function(d){const h=this.attrs[e];a&&(d=a.call(this,d,e)),u&&u.call(this,d,e);for(const m in d)d.hasOwnProperty(m)&&this._setAttr(e+o(m),d[m]);return d||n.forEach(m=>{this._setAttr(e+o(m),void 0)}),this._fireChangeEvent(e,h,d),i&&i.call(this),this},Ae.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const n=$e._capitalize(e),a=Kx+n,i=Yx+n;t.prototype[e]=function(){return arguments.length?(this[a](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,n,a){$e.error("Adding deprecated "+e);const i=Yx+$e._capitalize(e),r=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){$e.error(r);const o=this.attrs[e];return o===void 0?n:o},Ae.addSetter(t,e,a,function(){$e.error(r)}),Ae.addOverloadedGetterSetter(t,e)},backCompat(t,e){$e.each(e,function(n,a){const i=t.prototype[a],r=Yx+$e._capitalize(n),o=Kx+$e._capitalize(n);function s(){i.apply(this,arguments),$e.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+a+'" instead.')}t.prototype[n]=s,t.prototype[r]=s,t.prototype[o]=s})},afterSetFilter(){this._filterUpToDate=!1}};function jze(t){const e=/(\w+)\(([^)]+)\)/g;let n;for(;(n=e.exec(t))!==null;){const[,a,i]=n;switch(a){case"blur":{const r=parseFloat(i.replace("px",""));return function(o){this.blurRadius(r*.5);const s=$t.Filters;s&&s.Blur&&s.Blur.call(this,o)}}case"brightness":{const r=i.includes("%")?parseFloat(i)/100:parseFloat(i);return function(o){this.brightness(r);const s=$t.Filters;s&&s.Brightness&&s.Brightness.call(this,o)}}case"contrast":{const r=parseFloat(i);return function(o){const s=100*(Math.sqrt(r)-1);this.contrast(s);const c=$t.Filters;c&&c.Contrast&&c.Contrast.call(this,o)}}case"grayscale":return function(r){const o=$t.Filters;o&&o.Grayscale&&o.Grayscale.call(this,r)};case"sepia":return function(r){const o=$t.Filters;o&&o.Sepia&&o.Sepia.call(this,r)};case"invert":return function(r){const o=$t.Filters;o&&o.Invert&&o.Invert.call(this,r)};default:$e.warn(`CSS filter "${a}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const a4="absoluteOpacity",sw="allEventListeners",rf="absoluteTransform",cF="absoluteScale",Sm="canvas",Dze="Change",Oze="children",Mze="konva",j7="listening",Pze="mouseenter",Lze="mouseleave",zze="pointerenter",Fze="pointerleave",Bze="touchenter",Hze="touchleave",uF="set",dF="Shape",i4=" ",fF="stage",Dh="transform",$ze="Stage",D7="visible",Uze=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(i4);let Gze=1;class Ot{constructor(e){this._id=Gze++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Dh||e===rf)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let a=this._cache.get(e);return(a===void 0||(e===Dh||e===rf)&&a.dirty===!0)&&(a=n.call(this),this._cache.set(e,a)),a}_calculate(e,n,a){if(!this._attachedDepsListeners.get(e)){const i=n.map(r=>r+"Change.konva").join(i4);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,a)}_getCanvasCache(){return this._cache.get(Sm)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===rf&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Sm)){const{scene:e,filter:n,hit:a,buffer:i}=this._cache.get(Sm);$e.releaseCanvas(e,n,a,i),this._cache.delete(Sm)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let a={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(a=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(n.width||a.width),r=Math.ceil(n.height||a.height),o=n.pixelRatio,s=n.x===void 0?Math.floor(a.x):n.x,c=n.y===void 0?Math.floor(a.y):n.y,u=n.offset||0,d=n.drawBorder||!1,h=n.hitCanvasPixelRatio||1;if(!i||!r){$e.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const m=Math.abs(Math.round(a.x)-s)>.5?1:0,g=Math.abs(Math.round(a.y)-c)>.5?1:0;i+=u*2+m,r+=u*2+g,s-=u,c-=u;const y=new $h({pixelRatio:o,width:i,height:r}),v=new $h({pixelRatio:o,width:0,height:0,willReadFrequently:!0}),S=new pD({pixelRatio:h,width:i,height:r}),w=y.getContext(),_=S.getContext(),T=new $h({width:y.width/y.pixelRatio+Math.abs(s),height:y.height/y.pixelRatio+Math.abs(c),pixelRatio:y.pixelRatio}),A=T.getContext();return S.isCache=!0,y.isCache=!0,this._cache.delete(Sm),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(y.getContext()._context.imageSmoothingEnabled=!1,v.getContext()._context.imageSmoothingEnabled=!1),w.save(),_.save(),A.save(),w.translate(-s,-c),_.translate(-s,-c),A.translate(-s,-c),T.x=s,T.y=c,this._isUnderCache=!0,this._clearSelfAndDescendantCache(a4),this._clearSelfAndDescendantCache(cF),this.drawScene(y,this,T),this.drawHit(S,this),this._isUnderCache=!1,w.restore(),_.restore(),d&&(w.save(),w.beginPath(),w.rect(0,0,i,r),w.closePath(),w.setAttr("strokeStyle","red"),w.setAttr("lineWidth",5),w.stroke(),w.restore()),this._cache.set(Sm,{scene:y,filter:v,hit:S,buffer:T,x:s,y:c}),this._requestDraw(),this}isCached(){return this._cache.has(Sm)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const a=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let i=1/0,r=1/0,o=-1/0,s=-1/0;const c=this.getAbsoluteTransform(n);return a.forEach(function(u){const d=c.point(u);i===void 0&&(i=o=d.x,r=s=d.y),i=Math.min(i,d.x),r=Math.min(r,d.y),o=Math.max(o,d.x),s=Math.max(s,d.y)}),{x:i,y:r,width:o-i,height:s-r}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const a=this._getCachedSceneCanvas(),i=a.pixelRatio;e.drawImage(a._canvas,0,0,a.width/i,a.height/i),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),a=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(a._canvas,0,0,a.width/a.pixelRatio,a.height/a.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),a=n.scene,i=n.filter,r=i.getContext(),o,s,c,u;if(!e||e.length===0)return a;if(this._filterUpToDate)return i;let d=!0;for(let m=0;m<e.length;m++)if(typeof e[m]=="string"&&rF(),typeof e[m]!="string"||!rF()){d=!1;break}const h=a.pixelRatio;if(i.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio),d){const m=e.join(" ");return r.save(),r.setAttr("filter",m),r.drawImage(a._canvas,0,0,a.getWidth()/h,a.getHeight()/h),r.restore(),this._filterUpToDate=!0,i}try{for(o=e.length,r.clear(),r.drawImage(a._canvas,0,0,a.getWidth()/h,a.getHeight()/h),s=r.getImageData(0,0,i.getWidth(),i.getHeight()),c=0;c<o;c++)u=e[c],typeof u=="string"&&(u=jze(u)),u.call(this,s),r.putImageData(s,0,0)}catch(m){$e.error("Unable to apply filter. "+m.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,i}on(e,n){if(this._cache&&this._cache.delete(sw),arguments.length===3)return this._delegate.apply(this,arguments);const a=e.split(i4);for(let i=0;i<a.length;i++){const o=a[i].split("."),s=o[0],c=o[1]||"";this.eventListeners[s]||(this.eventListeners[s]=[]),this.eventListeners[s].push({name:c,handler:n})}return this}off(e,n){let a=(e||"").split(i4),i=a.length,r,o,s,c,u,d;if(this._cache&&this._cache.delete(sw),!e)for(o in this.eventListeners)this._off(o);for(r=0;r<i;r++)if(s=a[r],c=s.split("."),u=c[0],d=c[1],u)this.eventListeners[u]&&this._off(u,d,n);else for(o in this.eventListeners)this._off(o,d,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(a){n.call(this,a.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,a){const i=this;this.on(e,function(r){const o=r.target.findAncestors(n,!0,i);for(let s=0;s<o.length;s++)r=$e.cloneObject(r),r.currentTarget=o[s],a.call(o[s],r)})}remove(){return this.isDragging()&&this.stopDrag(),Ea._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(rf),this._clearSelfAndDescendantCache(a4),this._clearSelfAndDescendantCache(cF),this._clearSelfAndDescendantCache(fF),this._clearSelfAndDescendantCache(D7),this._clearSelfAndDescendantCache(j7)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+$e._capitalize(e);return $e._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,a;if(!e)return this;for(n in e)n!==Oze&&(a=uF+$e._capitalize(n),$e._isFunction(this[a])?this[a](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(j7,this._isListening)}_isListening(e){if(!this.listening())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isListening(e):!0}isVisible(){return this._getCache(D7,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const a=this.getLayer();let i=!1;Ea._dragElements.forEach(o=>{o.dragStatus==="dragging"&&(o.node.nodeType==="Stage"||o.node.getLayer()===a)&&(i=!0)});const r=!n&&!$t.hitOnDragEnabled&&(i||$t.isTransforming());return this.isListening()&&this.isVisible()&&!r}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,a=0,i,r,o,s;function c(d){for(i=[],r=d.length,o=0;o<r;o++)s=d[o],a++,s.nodeType!==dF&&(i=i.concat(s.getChildren().slice())),s._id===n._id&&(o=r);i.length>0&&i[0].getDepth()<=e&&c(i)}const u=this.getStage();return n.nodeType!==$ze&&u&&c(u.getChildren()),a}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Dh),this._clearSelfAndDescendantCache(rf)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const a=this.getAbsoluteTransform().copy();return a.invert(),a.point(n)}getAbsolutePosition(e){let n=!1,a=this.parent;for(;a;){if(a.isCached()){n=!0;break}a=a.parent}n&&!e&&(e=!0);const i=this.getAbsoluteTransform(e).getMatrix(),r=new Mc,o=this.offset();return r.m=i.slice(),r.translate(o.x,o.y),r.getTranslation()}setAbsolutePosition(e){const{x:n,y:a,...i}=this._clearTransform();this.attrs.x=n,this.attrs.y=a,this._clearCache(Dh);const r=this._getAbsoluteTransform().copy();return r.invert(),r.translate(e.x,e.y),e={x:this.attrs.x+r.getTranslation().x,y:this.attrs.y+r.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(Dh),this._clearSelfAndDescendantCache(rf),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,a=e.y,i=this.x(),r=this.y();return n!==void 0&&(i+=n),a!==void 0&&(r+=a),this.setPosition({x:i,y:r}),this}_eachAncestorReverse(e,n){let a=[],i=this.getParent(),r,o;if(!(n&&n._id===this._id)){for(a.unshift(this);i&&(!n||i._id!==n._id);)a.unshift(i),i=i.parent;for(r=a.length,o=0;o<r;o++)e(a[o])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return $e.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return $e.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return $e.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return $e.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return $e.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&$e.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(a4,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,a,i,r,o;const s={attrs:{},className:this.getClassName()};for(n in e)a=e[n],o=$e.isObject(a)&&!$e._isPlainObject(a)&&!$e._isArray(a),!o&&(i=typeof this[n]=="function"&&this[n],delete e[n],r=i?i.call(this):null,e[n]=a,r!==a&&(s.attrs[n]=a));return $e._prepareToStringify(s)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,a){const i=[];n&&this._isMatch(e)&&i.push(this);let r=this.parent;for(;r;){if(r===a)return i;r._isMatch(e)&&i.push(r),r=r.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,a){return this.findAncestors(e,n,a)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),a=n.length,i,r;for(i=0;i<a;i++)if(r=n[i],$e.isValidSelector(r)||($e.warn('Selector "'+r+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),$e.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),$e.warn("Konva is awesome, right?")),r.charAt(0)==="#"){if(this.id()===r.slice(1))return!0}else if(r.charAt(0)==="."){if(this.hasName(r.slice(1)))return!0}else if(this.className===r||this.nodeType===r)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(fF,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},a){return n.target=n.target||this,a?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(rf,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new Mc,this._eachAncestorReverse(function(a){const i=a.transformsEnabled();i==="all"?n.multiply(a.getTransform()):i==="position"&&n.translate(a.x()-a.offsetX(),a.y()-a.offsetY())},e),n;{n=this._cache.get(rf)||new Mc,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const a=this.transformsEnabled();if(a==="all")n.multiply(this.getTransform());else if(a==="position"){const i=this.attrs.x||0,r=this.attrs.y||0,o=this.attrs.offsetX||0,s=this.attrs.offsetY||0;n.translate(i-o,r-s)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Dh,this._getTransform)}_getTransform(){var e,n;const a=this._cache.get(Dh)||new Mc;a.reset();const i=this.x(),r=this.y(),o=$t.getAngle(this.rotation()),s=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,c=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,u=this.attrs.skewX||0,d=this.attrs.skewY||0,h=this.attrs.offsetX||0,m=this.attrs.offsetY||0;return(i!==0||r!==0)&&a.translate(i,r),o!==0&&a.rotate(o),(u!==0||d!==0)&&a.skew(u,d),(s!==1||c!==1)&&a.scale(s,c),(h!==0||m!==0)&&a.translate(-1*h,-1*m),a.dirty=!1,a}clone(e){let n=$e.cloneObject(this.attrs),a,i,r,o,s;for(a in e)n[a]=e[a];const c=new this.constructor(n);for(a in this.eventListeners)for(i=this.eventListeners[a],r=i.length,o=0;o<r;o++)s=i[o],s.name.indexOf(Mze)<0&&(c.eventListeners[a]||(c.eventListeners[a]=[]),c.eventListeners[a].push(s));return c}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),a=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),r=e.y!==void 0?e.y:Math.floor(n.y),o=e.pixelRatio||1,s=new $h({width:e.width||Math.ceil(n.width)||(a?a.width():0),height:e.height||Math.ceil(n.height)||(a?a.height():0),pixelRatio:o}),c=s.getContext(),u=new $h({width:s.width/s.pixelRatio+Math.abs(i),height:s.height/s.pixelRatio+Math.abs(r),pixelRatio:s.pixelRatio});return e.imageSmoothingEnabled===!1&&(c._context.imageSmoothingEnabled=!1),c.save(),(i||r)&&c.translate(-1*i,-1*r),this.drawScene(s,void 0,u),c.restore(),s}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,a=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,a);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,a)=>{try{const i=e?.callback;i&&delete e.callback,$e._urlToImage(this.toDataURL(e),function(r){n(r),i?.(r)})}catch(i){a(i)}})}toBlob(e){return new Promise((n,a)=>{try{const i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(r=>{n(r),i?.(r)},e?.mimeType,e?.quality)}catch(i){a(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():$t.dragDistance}_off(e,n,a){let i=this.eventListeners[e],r,o,s;for(r=0;r<i.length;r++)if(o=i[r].name,s=i[r].handler,(o!=="konva"||n==="konva")&&(!n||o===n)&&(!a||a===s)){if(i.splice(r,1),i.length===0){delete this.eventListeners[e];break}r--}}_fireChangeEvent(e,n,a){this._fire(e+Dze,{oldVal:n,newVal:a})}addName(e){if(!this.hasName(e)){const n=this.name(),a=n?n+" "+e:e;this.name(a)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),a=n.indexOf(e);return a!==-1&&(n.splice(a,1),this.name(n.join(" "))),this}setAttr(e,n){const a=this[uF+$e._capitalize(e)];return $e._isFunction(a)?a.call(this,n):this._setAttr(e,n),this}_requestDraw(){if($t.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,n){const a=this.attrs[e];a===n&&!$e.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,a,n),this._requestDraw())}_setComponentAttr(e,n,a){let i;a!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=a,this._fireChangeEvent(e,i,a))}_fireAndBubble(e,n,a){n&&this.nodeType===dF&&(n.target=this);const i=[Pze,Lze,zze,Fze,Bze,Hze];if(!(i.indexOf(e)!==-1&&(a&&(this===a||this.isAncestorOf&&this.isAncestorOf(a))||this.nodeType==="Stage"&&!a))){this._fire(e,n);const o=i.indexOf(e)!==-1&&a&&a.isAncestorOf&&a.isAncestorOf(this)&&!a.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!o&&(a&&a.parent?this._fireAndBubble.call(this.parent,e,n,a):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,a,i;const r=(n=this._cache.get(sw))!==null&&n!==void 0?n:{};let o=r?.[e];if(o===void 0){o=[];let s=Object.getPrototypeOf(this);for(;s;){const c=(i=(a=s.eventListeners)===null||a===void 0?void 0:a[e])!==null&&i!==void 0?i:[];o.push(...c),s=Object.getPrototypeOf(s)}r[e]=o,this._cache.set(sw,r)}return o}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const a=this._getProtoListeners(e);if(a)for(let r=0;r<a.length;r++)a[r].handler.call(this,n);const i=this.eventListeners[e];if(i)for(let r=0;r<i.length;r++)i[r].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,a=this.getStage(),i=this.getAbsolutePosition();if(!a)return;const r=a._getPointerById(n)||a._changedPointerPositions[0]||i;Ea._dragElements.set(this._id,{node:this,startPointerPos:r,offset:{x:r.x-i.x,y:r.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){Ea._dragElements.has(this._id)||this._createDragElement(e);const a=Ea._dragElements.get(this._id);a.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const a=this.getStage()._getPointerById(n.pointerId);if(!a)return;let i={x:a.x-n.offset.x,y:a.y-n.offset.y};const r=this.dragBoundFunc();if(r!==void 0){const o=r.call(this,i,e);o?i=o:$e.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){const n=Ea._dragElements.get(this._id);n&&(n.dragStatus="stopped"),Ea._endDragBefore(e),Ea._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=Ea._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||$t.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;Ea._dragElements.forEach(r=>{this.isAncestorOf(r.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=Ea._dragElements.get(this._id),a=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";a?this.stopDrag():i&&Ea._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const a={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return $e.haveIntersection(a,this.getClientRect())}static create(e,n){return $e._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let a=Ot.prototype.getClassName.call(e),i=e.children,r,o,s;n&&(e.attrs.container=n),$t[a]||($e.warn('Can not find a node with class name "'+a+'". Fallback to "Shape".'),a="Shape");const c=$t[a];if(r=new c(e.attrs),i)for(o=i.length,s=0;s<o;s++)r.add(Ot._createNode(i[s]));return r}}Ot.prototype.nodeType="Node";Ot.prototype._attrsAffectingSize=[];Ot.prototype.eventListeners={};Ot.prototype.on.call(Ot.prototype,Uze,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Dh),this._clearSelfAndDescendantCache(rf)});Ot.prototype.on.call(Ot.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(D7)});Ot.prototype.on.call(Ot.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(j7)});Ot.prototype.on.call(Ot.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(a4)});const Ya=Ae.addGetterSetter;Ya(Ot,"zIndex");Ya(Ot,"absolutePosition");Ya(Ot,"position");Ya(Ot,"x",0,zt());Ya(Ot,"y",0,zt());Ya(Ot,"globalCompositeOperation","source-over",Ig());Ya(Ot,"opacity",1,zt());Ya(Ot,"name","",Ig());Ya(Ot,"id","",Ig());Ya(Ot,"rotation",0,zt());Ae.addComponentsGetterSetter(Ot,"scale",["x","y"]);Ya(Ot,"scaleX",1,zt());Ya(Ot,"scaleY",1,zt());Ae.addComponentsGetterSetter(Ot,"skew",["x","y"]);Ya(Ot,"skewX",0,zt());Ya(Ot,"skewY",0,zt());Ae.addComponentsGetterSetter(Ot,"offset",["x","y"]);Ya(Ot,"offsetX",0,zt());Ya(Ot,"offsetY",0,zt());Ya(Ot,"dragDistance",void 0,zt());Ya(Ot,"width",0,zt());Ya(Ot,"height",0,zt());Ya(Ot,"listening",!0,eu());Ya(Ot,"preventDefault",!0,eu());Ya(Ot,"filters",void 0,function(t){return this._filterUpToDate=!1,t});Ya(Ot,"visible",!0,eu());Ya(Ot,"transformsEnabled","all",Ig());Ya(Ot,"size");Ya(Ot,"dragBoundFunc");Ya(Ot,"draggable",!1,eu());Ae.backCompat(Ot,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class tl extends Ot{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let a=0;a<e.length;a++)this.add(e[a]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const a=[];return this._descendants(i=>{const r=i._isMatch(e);return r&&a.push(i),!!(r&&n)}),a}_descendants(e){let n=!1;const a=this.getChildren();for(const i of a){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){const e=Ot.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=Ot.prototype.clone.call(this,e);return this.getChildren().forEach(function(a){n.add(a.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(a=>{a.isVisible()&&a.intersects(e)&&n.push(a)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(a){a._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,a){n.index=a}),this._requestDraw()}drawScene(e,n,a){const i=this.getLayer(),r=e||i&&i.getCanvas(),o=r&&r.getContext(),s=this._getCanvasCache(),c=s&&s.scene,u=r&&r.isCache;if(!this.isVisible()&&!u)return this;if(c){o.save();const d=this.getAbsoluteTransform(n).getMatrix();o.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedSceneCanvas(o),o.restore()}else this._drawChildren("drawScene",r,n,a);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const a=this.getLayer(),i=e||a&&a.hitCanvas,r=i&&i.getContext(),o=this._getCanvasCache();if(o&&o.hit){r.save();const c=this.getAbsoluteTransform(n).getMatrix();r.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedHitCanvas(r),r.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,a,i){var r;const o=n&&n.getContext(),s=this.clipWidth(),c=this.clipHeight(),u=this.clipFunc(),d=typeof s=="number"&&typeof c=="number"||u,h=a===this;if(d){o.save();const g=this.getAbsoluteTransform(a);let y=g.getMatrix();o.transform(y[0],y[1],y[2],y[3],y[4],y[5]),o.beginPath();let v;if(u)v=u.call(this,o,this);else{const S=this.clipX(),w=this.clipY();o.rect(S||0,w||0,s,c)}o.clip.apply(o,v),y=g.copy().invert().getMatrix(),o.transform(y[0],y[1],y[2],y[3],y[4],y[5])}const m=!h&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";m&&(o.save(),o._applyGlobalCompositeOperation(this)),(r=this.children)===null||r===void 0||r.forEach(function(g){g[e](n,a,i)}),m&&o.restore(),d&&o.restore()}getClientRect(e={}){var n;const a=e.skipTransform,i=e.relativeTo;let r,o,s,c,u={x:1/0,y:1/0,width:0,height:0};const d=this;(n=this.children)===null||n===void 0||n.forEach(function(g){if(!g.visible())return;const y=g.getClientRect({relativeTo:d,skipShadow:e.skipShadow,skipStroke:e.skipStroke});y.width===0&&y.height===0||(r===void 0?(r=y.x,o=y.y,s=y.x+y.width,c=y.y+y.height):(r=Math.min(r,y.x),o=Math.min(o,y.y),s=Math.max(s,y.x+y.width),c=Math.max(c,y.y+y.height)))});const h=this.find("Shape");let m=!1;for(let g=0;g<h.length;g++)if(h[g]._isVisible(this)){m=!0;break}return m&&r!==void 0?u={x:r,y:o,width:s-r,height:c-o}:u={x:0,y:0,width:0,height:0},a?u:this._transformedRect(u,i)}}Ae.addComponentsGetterSetter(tl,"clip",["x","y","width","height"]);Ae.addGetterSetter(tl,"clipX",void 0,zt());Ae.addGetterSetter(tl,"clipY",void 0,zt());Ae.addGetterSetter(tl,"clipWidth",void 0,zt());Ae.addGetterSetter(tl,"clipHeight",void 0,zt());Ae.addGetterSetter(tl,"clipFunc");const T2=new Map,RZ=$t._global.PointerEvent!==void 0;function GE(t){return T2.get(t)}function gD(t){return{evt:t,pointerId:t.pointerId}}function kZ(t,e){return T2.get(t)===e}function IZ(t,e){qv(t),e.getStage()&&(T2.set(t,e),RZ&&e._fire("gotpointercapture",gD(new PointerEvent("gotpointercapture"))))}function qv(t,e){const n=T2.get(t);if(!n)return;const a=n.getStage();a&&a.content,T2.delete(t),RZ&&n._fire("lostpointercapture",gD(new PointerEvent("lostpointercapture")))}const qze="Stage",Wze="string",hF="px",Vze="mouseout",NZ="mouseleave",jZ="mouseover",DZ="mouseenter",OZ="mousemove",MZ="mousedown",PZ="mouseup",yv="pointermove",xv="pointerdown",L1="pointerup",vv="pointercancel",Yze="lostpointercapture",lw="pointerout",Sv="pointerleave",cw="pointerover",uw="pointerenter",O7="contextmenu",LZ="touchstart",zZ="touchend",FZ="touchmove",BZ="touchcancel",M7="wheel",Kze=5,Xze=[[DZ,"_pointerenter"],[MZ,"_pointerdown"],[OZ,"_pointermove"],[PZ,"_pointerup"],[NZ,"_pointerleave"],[LZ,"_pointerdown"],[FZ,"_pointermove"],[zZ,"_pointerup"],[BZ,"_pointercancel"],[jZ,"_pointerover"],[M7,"_wheel"],[O7,"_contextmenu"],[xv,"_pointerdown"],[yv,"_pointermove"],[L1,"_pointerup"],[vv,"_pointercancel"],[Sv,"_pointerleave"],[Yze,"_lostpointercapture"]],qE={mouse:{[lw]:Vze,[Sv]:NZ,[cw]:jZ,[uw]:DZ,[yv]:OZ,[xv]:MZ,[L1]:PZ,[vv]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[lw]:"touchout",[Sv]:"touchleave",[cw]:"touchover",[uw]:"touchenter",[yv]:FZ,[xv]:LZ,[L1]:zZ,[vv]:BZ,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[lw]:lw,[Sv]:Sv,[cw]:cw,[uw]:uw,[yv]:yv,[xv]:xv,[L1]:L1,[vv]:vv,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Cv=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",g1=t=>{const e=Cv(t);if(e==="pointer")return $t.pointerEventsEnabled&&qE.pointer;if(e==="touch")return qE.touch;if(e==="mouse")return qE.mouse};function pF(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&$e.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const Qze="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",Wv=[];let d5=class extends tl{constructor(e){super(pF(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Wv.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{pF(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",a=e.getType()==="FastLayer";n||a||$e.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===Wze){let n;if(e.charAt(0)==="."){const a=e.slice(1);e=document.getElementsByClassName(a)[0]}else e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n);if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,n=e.length;for(let a=0;a<n;a++)e[a].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),tl.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&$e._isInDocument(e)&&this.container().removeChild(e);const n=Wv.indexOf(this);return n>-1&&Wv.splice(n,1),$e.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:($e.warn(Qze),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const n=new $h({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),a=n.getContext()._context,i=this.children;return(e.x||e.y)&&a.translate(-1*e.x,-1*e.y),i.forEach(function(r){if(!r.isVisible())return;const o=r._toKonvaCanvas(e);a.drawImage(o._canvas,e.x,e.y,o.getWidth()/o.getPixelRatio(),o.getHeight()/o.getPixelRatio())}),n}getIntersection(e){if(!e)return null;const n=this.children,a=n.length,i=a-1;for(let r=i;r>=0;r--){const o=n[r].getIntersection(e);if(o)return o}return null}_resizeDOM(){const e=this.width(),n=this.height();this.content&&(this.content.style.width=e+hF,this.content.style.height=n+hF),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(a=>{a.setSize({width:e,height:n}),a.draw()})}add(e,...n){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(e);const a=this.children.length;return a>Kze&&$e.warn("The stage has "+a+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),$t.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return kZ(e,this)}setPointerCapture(e){IZ(e,this)}releaseCapture(e){qv(e)}getLayers(){return this.children}_bindContentEvents(){$t.isBrowser&&Xze.forEach(([e,n])=>{this.content.addEventListener(e,a=>{this[n](a)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=g1(e.type);n&&this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=g1(e.type);n&&this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=g1(e.type),a=Cv(e.type);if(!n)return;this.setPointersPositions(e);const i=this._getTargetShape(a),r=!($t.isDragging()||$t.isTransforming())||$t.hitOnDragEnabled;i&&r?(i._fireAndBubble(n.pointerout,{evt:e}),i._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[a+"targetShape"]=null):r&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const n=g1(e.type),a=Cv(e.type);if(!n)return;this.setPointersPositions(e);let i=!1;this._changedPointerPositions.forEach(r=>{const o=this.getIntersection(r);if(Ea.justDragged=!1,$t["_"+a+"ListenClick"]=!0,!o||!o.isListening()){this[a+"ClickStartShape"]=void 0;return}$t.capturePointerEventsEnabled&&o.setPointerCapture(r.id),this[a+"ClickStartShape"]=o,o._fireAndBubble(n.pointerdown,{evt:e,pointerId:r.id}),i=!0;const s=e.type.indexOf("touch")>=0;o.preventDefault()&&e.cancelable&&s&&e.preventDefault()}),i||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const n=g1(e.type),a=Cv(e.type);if(!n)return;const i=e.type.indexOf("touch")>=0||e.pointerType==="touch";if($t.isDragging()&&Ea.node.preventDefault()&&e.cancelable&&i&&e.preventDefault(),this.setPointersPositions(e),!(!($t.isDragging()||$t.isTransforming())||$t.hitOnDragEnabled))return;const o={};let s=!1;const c=this._getTargetShape(a);this._changedPointerPositions.forEach(u=>{const d=GE(u.id)||this.getIntersection(u),h=u.id,m={evt:e,pointerId:h},g=c!==d;if(g&&c&&(c._fireAndBubble(n.pointerout,{...m},d),c._fireAndBubble(n.pointerleave,{...m},d)),d){if(o[d._id])return;o[d._id]=!0}d&&d.isListening()?(s=!0,g&&(d._fireAndBubble(n.pointerover,{...m},c),d._fireAndBubble(n.pointerenter,{...m},c),this[a+"targetShape"]=d),d._fireAndBubble(n.pointermove,{...m})):c&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:h}),this[a+"targetShape"]=null)}),s||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=g1(e.type),a=Cv(e.type);if(!n)return;this.setPointersPositions(e);const i=this[a+"ClickStartShape"],r=this[a+"ClickEndShape"],o={};let s=!1;this._changedPointerPositions.forEach(c=>{const u=GE(c.id)||this.getIntersection(c);if(u){if(u.releaseCapture(c.id),o[u._id])return;o[u._id]=!0}const d=c.id,h={evt:e,pointerId:d};let m=!1;$t["_"+a+"InDblClickWindow"]?(m=!0,clearTimeout(this[a+"DblTimeout"])):Ea.justDragged||($t["_"+a+"InDblClickWindow"]=!0,clearTimeout(this[a+"DblTimeout"])),this[a+"DblTimeout"]=setTimeout(function(){$t["_"+a+"InDblClickWindow"]=!1},$t.dblClickWindow),u&&u.isListening()?(s=!0,this[a+"ClickEndShape"]=u,u._fireAndBubble(n.pointerup,{...h}),$t["_"+a+"ListenClick"]&&i&&i===u&&(u._fireAndBubble(n.pointerclick,{...h}),m&&r&&r===u&&u._fireAndBubble(n.pointerdblclick,{...h}))):(this[a+"ClickEndShape"]=null,s||(this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),s=!0),$t["_"+a+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:d}),m&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:d}))}),s||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),$t["_"+a+"ListenClick"]=!1,e.cancelable&&a!=="touch"&&a!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(O7,{evt:e}):this._fire(O7,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(M7,{evt:e}):this._fire(M7,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=GE(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(L1,gD(e)),qv(e.pointerId)}_lostpointercapture(e){qv(e.pointerId)}setPointersPositions(e){const n=this._getContentPosition();let a=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,r=>{this._pointerPositions.push({id:r.identifier,x:(r.clientX-n.left)/n.scaleX,y:(r.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,r=>{this._changedPointerPositions.push({id:r.identifier,x:(r.clientX-n.left)/n.scaleX,y:(r.clientY-n.top)/n.scaleY})})):(a=(e.clientX-n.left)/n.scaleX,i=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:a,y:i},this._pointerPositions=[{x:a,y:i,id:$e._getFirstPointerId(e)}],this._changedPointerPositions=[{x:a,y:i,id:$e._getFirstPointerId(e)}])}_setPointerPosition(e){$e.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new $h({width:this.width(),height:this.height()}),this.bufferHitCanvas=new pD({pixelRatio:1,width:this.width(),height:this.height()}),!$t.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return $e.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};d5.prototype.nodeType=qze;Bi(d5);Ae.addGetterSetter(d5,"container");$t.isBrowser&&document.addEventListener("visibilitychange",()=>{Wv.forEach(t=>{t.batchDraw()})});const HZ="hasShadow",$Z="shadowRGBA",UZ="patternImage",GZ="linearGradient",qZ="radialGradient";let dw;function WE(){return dw||(dw=$e.createCanvasElement().getContext("2d"),dw)}const Vv={};function Zze(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function Jze(t){t.stroke()}function eFe(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function tFe(t){t.stroke()}function nFe(){this._clearCache(HZ)}function aFe(){this._clearCache($Z)}function iFe(){this._clearCache(UZ)}function rFe(){this._clearCache(GZ)}function oFe(){this._clearCache(qZ)}class wt extends Ot{constructor(e){super(e);let n;for(;n=$e.getRandomColor(),!(n&&!(n in Vv)););this.colorKey=n,Vv[n]=this}getContext(){return $e.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return $e.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(HZ,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(UZ,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=WE().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const a=new Mc;a.translate(this.fillPatternX(),this.fillPatternY()),a.rotate($t.getAngle(this.fillPatternRotation())),a.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),a.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=a.getMatrix(),r=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);n.setTransform(r)}return n}}_getLinearGradient(){return this._getCache(GZ,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const n=WE(),a=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),r=n.createLinearGradient(a.x,a.y,i.x,i.y);for(let o=0;o<e.length;o+=2)r.addColorStop(e[o],e[o+1]);return r}}_getRadialGradient(){return this._getCache(qZ,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const n=WE(),a=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),r=n.createRadialGradient(a.x,a.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius());for(let o=0;o<e.length;o+=2)r.addColorStop(e[o],e[o+1]);return r}}getShadowRGBA(){return this._getCache($Z,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=$e.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const n=this.getStage();if(!n)return!1;const a=n.bufferHitCanvas;return a.getContext().clear(),this.drawHit(a,void 0,!0),a.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return Ot.prototype.destroy.call(this),delete Vv[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const i=e||this.hasFill(),r=this.hasStroke(),o=this.getAbsoluteOpacity()!==1;if(i&&r&&o)return!0;const s=this.hasShadow(),c=this.shadowForStrokeEnabled();return!!(i&&r&&s&&c)}setStrokeHitEnabled(e){$e.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let n=!1,a=this.getParent();for(;a;){if(a.isCached()){n=!0;break}a=a.getParent()}const i=e.skipTransform,r=e.relativeTo||n&&this.getStage()||void 0,o=this.getSelfRect(),c=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,u=o.width+c,d=o.height+c,h=!e.skipShadow&&this.hasShadow(),m=h?this.shadowOffsetX():0,g=h?this.shadowOffsetY():0,y=u+Math.abs(m),v=d+Math.abs(g),S=h&&this.shadowBlur()||0,w=y+S*2,_=v+S*2,T={width:w,height:_,x:-(c/2+S)+Math.min(m,0)+o.x,y:-(c/2+S)+Math.min(g,0)+o.y};return i?T:this._transformedRect(T,r)}drawScene(e,n,a){const i=this.getLayer(),r=e||i.getCanvas(),o=r.getContext(),s=this._getCanvasCache(),c=this.getSceneFunc(),u=this.hasShadow();let d;const h=n===this;if(!this.isVisible()&&!h)return this;if(s){o.save();const m=this.getAbsoluteTransform(n).getMatrix();return o.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedSceneCanvas(o),o.restore(),this}if(!c)return this;if(o.save(),this._useBufferCanvas()){d=this.getStage();const m=a||d.bufferCanvas,g=m.getContext();g.clear(),g.save(),g._applyLineJoin(this),g._applyMiterLimit(this);const y=this.getAbsoluteTransform(n).getMatrix();g.transform(y[0],y[1],y[2],y[3],y[4],y[5]),c.call(this,g,this),g.restore();const v=m.pixelRatio;u&&o._applyShadow(this),h||(o._applyOpacity(this),o._applyGlobalCompositeOperation(this)),o.drawImage(m._canvas,m.x||0,m.y||0,m.width/v,m.height/v)}else{if(o._applyLineJoin(this),o._applyMiterLimit(this),!h){const m=this.getAbsoluteTransform(n).getMatrix();o.transform(m[0],m[1],m[2],m[3],m[4],m[5]),o._applyOpacity(this),o._applyGlobalCompositeOperation(this)}u&&o._applyShadow(this),c.call(this,o,this)}return o.restore(),this}drawHit(e,n,a=!1){if(!this.shouldDrawHit(n,a))return this;const i=this.getLayer(),r=e||i.hitCanvas,o=r&&r.getContext(),s=this.hitFunc()||this.sceneFunc(),c=this._getCanvasCache(),u=c&&c.hit;if(this.colorKey||$e.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),u){o.save();const h=this.getAbsoluteTransform(n).getMatrix();return o.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedHitCanvas(o),o.restore(),this}if(!s)return this;if(o.save(),o._applyLineJoin(this),o._applyMiterLimit(this),!(this===n)){const h=this.getAbsoluteTransform(n).getMatrix();o.transform(h[0],h[1],h[2],h[3],h[4],h[5])}return s.call(this,o,this),o.restore(),this}drawHitFromCache(e=0){const n=this._getCanvasCache(),a=this._getCachedSceneCanvas(),i=n.hit,r=i.getContext(),o=i.getWidth(),s=i.getHeight();r.clear(),r.drawImage(a._canvas,0,0,o,s);try{const c=r.getImageData(0,0,o,s),u=c.data,d=u.length,h=$e._hexToRgb(this.colorKey);for(let m=0;m<d;m+=4)u[m+3]>e?(u[m]=h.r,u[m+1]=h.g,u[m+2]=h.b,u[m+3]=255):u[m+3]=0;r.putImageData(c,0,0)}catch(c){$e.error("Unable to draw hit graph from cached scene canvas. "+c.message)}return this}hasPointerCapture(e){return kZ(e,this)}setPointerCapture(e){IZ(e,this)}releaseCapture(e){qv(e)}}wt.prototype._fillFunc=Zze;wt.prototype._strokeFunc=Jze;wt.prototype._fillFuncHit=eFe;wt.prototype._strokeFuncHit=tFe;wt.prototype._centroid=!1;wt.prototype.nodeType="Shape";Bi(wt);wt.prototype.eventListeners={};wt.prototype.on.call(wt.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",nFe);wt.prototype.on.call(wt.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",aFe);wt.prototype.on.call(wt.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",iFe);wt.prototype.on.call(wt.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",rFe);wt.prototype.on.call(wt.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",oFe);Ae.addGetterSetter(wt,"stroke",void 0,AZ());Ae.addGetterSetter(wt,"strokeWidth",2,zt());Ae.addGetterSetter(wt,"fillAfterStrokeEnabled",!1);Ae.addGetterSetter(wt,"hitStrokeWidth","auto",mD());Ae.addGetterSetter(wt,"strokeHitEnabled",!0,eu());Ae.addGetterSetter(wt,"perfectDrawEnabled",!0,eu());Ae.addGetterSetter(wt,"shadowForStrokeEnabled",!0,eu());Ae.addGetterSetter(wt,"lineJoin");Ae.addGetterSetter(wt,"lineCap");Ae.addGetterSetter(wt,"miterLimit");Ae.addGetterSetter(wt,"sceneFunc");Ae.addGetterSetter(wt,"hitFunc");Ae.addGetterSetter(wt,"dash");Ae.addGetterSetter(wt,"dashOffset",0,zt());Ae.addGetterSetter(wt,"shadowColor",void 0,Ig());Ae.addGetterSetter(wt,"shadowBlur",0,zt());Ae.addGetterSetter(wt,"shadowOpacity",1,zt());Ae.addComponentsGetterSetter(wt,"shadowOffset",["x","y"]);Ae.addGetterSetter(wt,"shadowOffsetX",0,zt());Ae.addGetterSetter(wt,"shadowOffsetY",0,zt());Ae.addGetterSetter(wt,"fillPatternImage");Ae.addGetterSetter(wt,"fill",void 0,AZ());Ae.addGetterSetter(wt,"fillPatternX",0,zt());Ae.addGetterSetter(wt,"fillPatternY",0,zt());Ae.addGetterSetter(wt,"fillLinearGradientColorStops");Ae.addGetterSetter(wt,"strokeLinearGradientColorStops");Ae.addGetterSetter(wt,"fillRadialGradientStartRadius",0);Ae.addGetterSetter(wt,"fillRadialGradientEndRadius",0);Ae.addGetterSetter(wt,"fillRadialGradientColorStops");Ae.addGetterSetter(wt,"fillPatternRepeat","repeat");Ae.addGetterSetter(wt,"fillEnabled",!0);Ae.addGetterSetter(wt,"strokeEnabled",!0);Ae.addGetterSetter(wt,"shadowEnabled",!0);Ae.addGetterSetter(wt,"dashEnabled",!0);Ae.addGetterSetter(wt,"strokeScaleEnabled",!0);Ae.addGetterSetter(wt,"fillPriority","color");Ae.addComponentsGetterSetter(wt,"fillPatternOffset",["x","y"]);Ae.addGetterSetter(wt,"fillPatternOffsetX",0,zt());Ae.addGetterSetter(wt,"fillPatternOffsetY",0,zt());Ae.addComponentsGetterSetter(wt,"fillPatternScale",["x","y"]);Ae.addGetterSetter(wt,"fillPatternScaleX",1,zt());Ae.addGetterSetter(wt,"fillPatternScaleY",1,zt());Ae.addComponentsGetterSetter(wt,"fillLinearGradientStartPoint",["x","y"]);Ae.addComponentsGetterSetter(wt,"strokeLinearGradientStartPoint",["x","y"]);Ae.addGetterSetter(wt,"fillLinearGradientStartPointX",0);Ae.addGetterSetter(wt,"strokeLinearGradientStartPointX",0);Ae.addGetterSetter(wt,"fillLinearGradientStartPointY",0);Ae.addGetterSetter(wt,"strokeLinearGradientStartPointY",0);Ae.addComponentsGetterSetter(wt,"fillLinearGradientEndPoint",["x","y"]);Ae.addComponentsGetterSetter(wt,"strokeLinearGradientEndPoint",["x","y"]);Ae.addGetterSetter(wt,"fillLinearGradientEndPointX",0);Ae.addGetterSetter(wt,"strokeLinearGradientEndPointX",0);Ae.addGetterSetter(wt,"fillLinearGradientEndPointY",0);Ae.addGetterSetter(wt,"strokeLinearGradientEndPointY",0);Ae.addComponentsGetterSetter(wt,"fillRadialGradientStartPoint",["x","y"]);Ae.addGetterSetter(wt,"fillRadialGradientStartPointX",0);Ae.addGetterSetter(wt,"fillRadialGradientStartPointY",0);Ae.addComponentsGetterSetter(wt,"fillRadialGradientEndPoint",["x","y"]);Ae.addGetterSetter(wt,"fillRadialGradientEndPointX",0);Ae.addGetterSetter(wt,"fillRadialGradientEndPointY",0);Ae.addGetterSetter(wt,"fillPatternRotation",0);Ae.addGetterSetter(wt,"fillRule",void 0,Ig());Ae.backCompat(wt,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const sFe="#",lFe="beforeDraw",cFe="draw",WZ=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],uFe=WZ.length;let Ng=class extends tl{constructor(e){super(e),this.canvas=new $h,this.hitCanvas=new pD({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Ot.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Ot.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Ot.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Ot.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return Ot.prototype.remove.call(this),e&&e.parentNode&&$e._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&$e.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Ot.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){$e.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){$e.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,$e.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,a=!1;for(;;){for(let i=0;i<uFe;i++){const r=WZ[i],o=this._getIntersection({x:e.x+r.x*n,y:e.y+r.y*n}),s=o.shape;if(s)return s;if(a=!!o.antialiased,!o.antialiased)break}if(a)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,a=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=a[3];if(i===255){const r=$e._rgbToHex(a[0],a[1],a[2]),o=Vv[sFe+r];return o?{shape:o}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n,a){const i=this.getLayer(),r=e||i&&i.getCanvas();return this._fire(lFe,{node:this}),this.clearBeforeDraw()&&r.getContext().clear(),tl.prototype.drawScene.call(this,r,n,a),this._fire(cFe,{node:this}),this}drawHit(e,n){const a=this.getLayer(),i=e||a&&a.hitCanvas;return a&&a.clearBeforeDraw()&&a.getHitCanvas().getContext().clear(),tl.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){$e.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return $e.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return $e.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Ng.prototype.nodeType="Layer";Bi(Ng);Ae.addGetterSetter(Ng,"imageSmoothingEnabled",!0);Ae.addGetterSetter(Ng,"clearBeforeDraw",!0);Ae.addGetterSetter(Ng,"hitGraphEnabled",!0,eu());class bD extends Ng{constructor(e){super(e),this.listening(!1),$e.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}bD.prototype.nodeType="FastLayer";Bi(bD);class fb extends tl{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&$e.throw("You may only add groups and shapes to groups.")}}fb.prototype.nodeType="Group";Bi(fb);const VE=(function(){return Hm.performance&&Hm.performance.now?function(){return Hm.performance.now()}:function(){return new Date().getTime()}})();class Kl{constructor(e,n){this.id=Kl.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:VE(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,a=n.length;for(let i=0;i<a;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=Kl.animations,a=n.length;for(let i=0;i<a;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=VE(),Kl._addAnimation(this),this}stop(){return Kl._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,a=this.animations,i=a.length;for(let r=0;r<i;r++)if(a[r].id===n){this.animations.splice(r,1);break}}static _runFrames(){const e={},n=this.animations;for(let a=0;a<n.length;a++){const i=n[a],r=i.layers,o=i.func;i._updateFrameObject(VE());const s=r.length;let c;if(o?c=o.call(i,i.frame)!==!1:c=!0,!!c)for(let u=0;u<s;u++){const d=r[u];d._id!==void 0&&(e[d._id]=d)}}for(const a in e)e.hasOwnProperty(a)&&e[a].batchDraw()}static _animationLoop(){const e=Kl;e.animations.length?(e._runFrames(),$e.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,$e.requestAnimFrame(this._animationLoop))}}Kl.animations=[];Kl.animIdCounter=0;Kl.animRunning=!1;const dFe={node:1,duration:1,easing:1,onFinish:1,yoyo:1},fFe=1,mF=2,gF=3,bF=["fill","stroke","shadowColor"];let hFe=0;class pFe{constructor(e,n,a,i,r,o,s){this.prop=e,this.propFunc=n,this.begin=i,this._pos=i,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=s,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=a,this._change=r-this.begin,this.pause()}fire(e){const n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=mF,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=gF,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===mF?this.setTime(e):this.state===gF&&this.setTime(this.duration-e)}pause(){this.state=fFe,this.fire("onPause")}getTimer(){return new Date().getTime()}}class ti{constructor(e){const n=this,a=e.node,i=a._id,r=e.easing||Yv.Linear,o=!!e.yoyo;let s,c;typeof e.duration>"u"?s=.3:e.duration===0?s=.001:s=e.duration,this.node=a,this._id=hFe++;const u=a.getLayer()||(a instanceof $t.Stage?a.getLayers():null);u||$e.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Kl(function(){n.tween.onEnterFrame()},u),this.tween=new pFe(c,function(d){n._tweenFunc(d)},r,0,1,s*1e3,o),this._addListeners(),ti.attrs[i]||(ti.attrs[i]={}),ti.attrs[i][this._id]||(ti.attrs[i][this._id]={}),ti.tweens[i]||(ti.tweens[i]={});for(c in e)dFe[c]===void 0&&this._addAttr(c,e[c]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){const a=this.node,i=a._id;let r,o,s,c,u;const d=ti.tweens[i][e];d&&delete ti.attrs[i][d][e];let h=a.getAttr(e);if($e._isArray(n))if(r=[],o=Math.max(n.length,h.length),e==="points"&&n.length!==h.length&&(n.length>h.length?(c=h,h=$e._prepareArrayForTween(h,n,a.closed())):(s=n,n=$e._prepareArrayForTween(n,h,a.closed()))),e.indexOf("fill")===0)for(let m=0;m<o;m++)if(m%2===0)r.push(n[m]-h[m]);else{const g=$e.colorToRGBA(h[m]);u=$e.colorToRGBA(n[m]),h[m]=g,r.push({r:u.r-g.r,g:u.g-g.g,b:u.b-g.b,a:u.a-g.a})}else for(let m=0;m<o;m++)r.push(n[m]-h[m]);else bF.indexOf(e)!==-1?(h=$e.colorToRGBA(h),u=$e.colorToRGBA(n),r={r:u.r-h.r,g:u.g-h.g,b:u.b-h.b,a:u.a-h.a}):r=n-h;ti.attrs[i][this._id][e]={start:h,diff:r,end:n,trueEnd:s,trueStart:c},ti.tweens[i][e]=this._id}_tweenFunc(e){const n=this.node,a=ti.attrs[n._id][this._id];let i,r,o,s,c,u,d,h;for(i in a){if(r=a[i],o=r.start,s=r.diff,h=r.end,$e._isArray(o))if(c=[],d=Math.max(o.length,h.length),i.indexOf("fill")===0)for(u=0;u<d;u++)u%2===0?c.push((o[u]||0)+s[u]*e):c.push("rgba("+Math.round(o[u].r+s[u].r*e)+","+Math.round(o[u].g+s[u].g*e)+","+Math.round(o[u].b+s[u].b*e)+","+(o[u].a+s[u].a*e)+")");else for(u=0;u<d;u++)c.push((o[u]||0)+s[u]*e);else bF.indexOf(i)!==-1?c="rgba("+Math.round(o.r+s.r*e)+","+Math.round(o.g+s.g*e)+","+Math.round(o.b+s.b*e)+","+(o.a+s.a*e)+")":c=o+s*e;n.setAttr(i,c)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,n=ti.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,n=ti.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,n=this._id,a=ti.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const i in a)delete ti.tweens[e][i];delete ti.attrs[e][n],ti.tweens[e]&&(Object.keys(ti.tweens[e]).length===0&&delete ti.tweens[e],Object.keys(ti.attrs[e]).length===0&&delete ti.attrs[e])}}ti.attrs={};ti.tweens={};Ot.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new ti(t).play()};const Yv={BackEaseIn(t,e,n,a){return n*(t/=a)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,n,a){return n*((t=t/a-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,n,a){let i=1.70158;return(t/=a/2)<1?n/2*(t*t*(((i*=1.525)+1)*t-i))+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn(t,e,n,a,i,r){let o=0;return t===0?e:(t/=a)===1?e+n:(r||(r=a*.3),!i||i<Math.abs(n)?(i=n,o=r/4):o=r/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*a-o)*(2*Math.PI)/r))+e)},ElasticEaseOut(t,e,n,a,i,r){let o=0;return t===0?e:(t/=a)===1?e+n:(r||(r=a*.3),!i||i<Math.abs(n)?(i=n,o=r/4):o=r/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*a-o)*(2*Math.PI)/r)+n+e)},ElasticEaseInOut(t,e,n,a,i,r){let o=0;return t===0?e:(t/=a/2)===2?e+n:(r||(r=a*(.3*1.5)),!i||i<Math.abs(n)?(i=n,o=r/4):o=r/(2*Math.PI)*Math.asin(n/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*a-o)*(2*Math.PI)/r))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*a-o)*(2*Math.PI)/r)*.5+n+e)},BounceEaseOut(t,e,n,a){return(t/=a)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,a){return n-Yv.BounceEaseOut(a-t,0,n,a)+e},BounceEaseInOut(t,e,n,a){return t<a/2?Yv.BounceEaseIn(t*2,0,n,a)*.5+e:Yv.BounceEaseOut(t*2-a,0,n,a)*.5+n*.5+e},EaseIn(t,e,n,a){return n*(t/=a)*t+e},EaseOut(t,e,n,a){return-n*(t/=a)*(t-2)+e},EaseInOut(t,e,n,a){return(t/=a/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,a){return n*(t/=a)*t*t*t*t+e},StrongEaseOut(t,e,n,a){return n*((t=t/a-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,a){return(t/=a/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,a){return n*t/a+e}},hb=$e._assign($t,{Util:$e,Transform:Mc,Node:Ot,Container:tl,Stage:d5,stages:Wv,Layer:Ng,FastLayer:bD,Group:fb,DD:Ea,Shape:wt,shapes:Vv,Animation:Kl,Tween:ti,Easings:Yv,Context:c5,Canvas:hD});class Ef extends wt{_sceneFunc(e){const n=$t.getAngle(this.angle()),a=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,a),e.arc(0,0,this.innerRadius(),n,0,!a),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),a=this.clockwise(),i=$t.getAngle(a?360-this.angle():this.angle()),r=Math.cos(Math.min(i,Math.PI)),o=1,s=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),c=Math.sin(Math.min(i,Math.PI/2)),u=r*(r>0?e:n),d=o*n,h=s*(s>0?e:n),m=c*(c>0?n:e);return{x:u,y:a?-1*m:h,width:d-u,height:m-h}}}Ef.prototype._centroid=!0;Ef.prototype.className="Arc";Ef.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];Bi(Ef);Ae.addGetterSetter(Ef,"innerRadius",0,zt());Ae.addGetterSetter(Ef,"outerRadius",0,zt());Ae.addGetterSetter(Ef,"angle",0,zt());Ae.addGetterSetter(Ef,"clockwise",!1,eu());function P7(t,e,n,a,i,r,o){const s=Math.sqrt(Math.pow(n-t,2)+Math.pow(a-e,2)),c=Math.sqrt(Math.pow(i-n,2)+Math.pow(r-a,2)),u=o*s/(s+c),d=o*c/(s+c),h=n-u*(i-t),m=a-u*(r-e),g=n+d*(i-t),y=a+d*(r-e);return[h,m,g,y]}function yF(t,e){const n=t.length,a=[];for(let i=2;i<n-2;i+=2){const r=P7(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e);isNaN(r[0])||(a.push(r[0]),a.push(r[1]),a.push(t[i]),a.push(t[i+1]),a.push(r[2]),a.push(r[3]))}return a}let Af=class extends wt{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),a=n.length,i=this.tension(),r=this.closed(),o=this.bezier();if(!a)return;let s=0;if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&a>4){const c=this.getTensionPoints(),u=c.length;for(s=r?0:4,r||e.quadraticCurveTo(c[0],c[1],c[2],c[3]);s<u-2;)e.bezierCurveTo(c[s++],c[s++],c[s++],c[s++],c[s++],c[s++]);r||e.quadraticCurveTo(c[u-2],c[u-1],n[a-2],n[a-1])}else if(o)for(s=2;s<a;)e.bezierCurveTo(n[s++],n[s++],n[s++],n[s++],n[s++],n[s++]);else for(s=2;s<a;s+=2)e.lineTo(n[s],n[s+1]);r?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():yF(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,a=this.tension(),i=P7(e[n-2],e[n-1],e[0],e[1],e[2],e[3],a),r=P7(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],a),o=yF(e,a);return[i[2],i[3]].concat(o).concat([r[0],r[1],e[n-2],e[n-1],r[2],r[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],a=e[0],i=e[1],r=e[1],o,s;for(let c=0;c<e.length/2;c++)o=e[c*2],s=e[c*2+1],n=Math.min(n,o),a=Math.max(a,o),i=Math.min(i,s),r=Math.max(r,s);return{x:n,y:i,width:a-n,height:r-i}}};Af.prototype.className="Line";Af.prototype._attrsAffectingSize=["points","bezier","tension"];Bi(Af);Ae.addGetterSetter(Af,"closed",!1);Ae.addGetterSetter(Af,"bezier",!1);Ae.addGetterSetter(Af,"tension",0,zt());Ae.addGetterSetter(Af,"points",[],Ize());const mFe=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],gFe=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],bFe=[[1],[1,1],[1,2,1],[1,3,3,1]],xF=(t,e,n)=>{let a,i;const o=n/2;a=0;for(let s=0;s<20;s++)i=o*mFe[20][s]+o,a+=gFe[20][s]*yFe(t,e,i);return o*a},vF=(t,e,n)=>{n===void 0&&(n=1);const a=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],r=2*t[1]-2*t[0],o=2*e[1]-2*e[0],s=4*(a*a+i*i),c=4*(a*r+i*o),u=r*r+o*o;if(s===0)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const d=c/(2*s),h=u/s,m=n+d,g=h-d*d,y=m*m+g>0?Math.sqrt(m*m+g):0,v=d*d+g>0?Math.sqrt(d*d+g):0,S=d+Math.sqrt(d*d+g)!==0?g*Math.log(Math.abs((m+y)/(d+v))):0;return Math.sqrt(s)/2*(m*y-d*v+S)};function yFe(t,e,n){const a=L7(1,n,t),i=L7(1,n,e),r=a*a+i*i;return Math.sqrt(r)}const L7=(t,e,n)=>{const a=n.length-1;let i,r;if(a===0)return 0;if(t===0){r=0;for(let o=0;o<=a;o++)r+=bFe[a][o]*Math.pow(1-e,a-o)*Math.pow(e,o)*n[o];return r}else{i=new Array(a);for(let o=0;o<a;o++)i[o]=a*(n[o+1]-n[o]);return L7(t-1,e,i)}},SF=(t,e,n)=>{let a=1,i=t/e,r=(t-n(i))/e,o=0;for(;a>.001;){const s=n(i+r),c=Math.abs(t-s)/e;if(c<a)a=c,i+=r;else{const u=n(i-r),d=Math.abs(t-u)/e;d<a?(a=d,i-=r):r/=2}if(o++,o>500)break}return i};class ii extends wt{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=ii.parsePathData(this.data()),this.pathLength=ii.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let a=!1;for(let i=0;i<n.length;i++){const r=n[i].command,o=n[i].points;switch(r){case"L":e.lineTo(o[0],o[1]);break;case"M":e.moveTo(o[0],o[1]);break;case"C":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":const s=o[0],c=o[1],u=o[2],d=o[3],h=o[4],m=o[5],g=o[6],y=o[7],v=u>d?u:d,S=u>d?1:u/d,w=u>d?d/u:1;e.translate(s,c),e.rotate(g),e.scale(S,w),e.arc(0,0,v,h,h+m,1-y),e.scale(1/S,1/w),e.rotate(-g),e.translate(-s,-c);break;case"z":a=!0,e.closePath();break}}!a&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(c){if(c.command==="A"){const u=c.points[4],d=c.points[5],h=c.points[4]+d;let m=Math.PI/180;if(Math.abs(u-h)<m&&(m=Math.abs(u-h)),d<0)for(let g=u-m;g>h;g-=m){const y=ii.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],g,0);e.push(y.x,y.y)}else for(let g=u+m;g<h;g+=m){const y=ii.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],g,0);e.push(y.x,y.y)}}else if(c.command==="C")for(let u=0;u<=1;u+=.01){const d=ii.getPointOnCubicBezier(u,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3],c.points[4],c.points[5]);e.push(d.x,d.y)}else e=e.concat(c.points)});let n=e[0],a=e[0],i=e[1],r=e[1],o,s;for(let c=0;c<e.length/2;c++)o=e[c*2],s=e[c*2+1],isNaN(o)||(n=Math.min(n,o),a=Math.max(a,o)),isNaN(s)||(i=Math.min(i,s),r=Math.max(r,s));return{x:n,y:i,width:a-n,height:r-i}}getLength(){return this.pathLength}getPointAtLength(e){return ii.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,a,i){return Math.sqrt((a-e)*(a-e)+(i-n)*(i-n))}static getPathLength(e){let n=0;for(let a=0;a<e.length;++a)n+=e[a].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let a,i=0,r=n.length;if(!r)return null;for(;i<r&&e>n[i].pathLength;)e-=n[i].pathLength,++i;if(i===r)return a=n[i-1].points.slice(-2),{x:a[0],y:a[1]};if(e<.01)return n[i].command==="M"?(a=n[i].points.slice(0,2),{x:a[0],y:a[1]}):{x:n[i].start.x,y:n[i].start.y};const o=n[i],s=o.points;switch(o.command){case"L":return ii.getPointOnLine(e,o.start.x,o.start.y,s[0],s[1]);case"C":return ii.getPointOnCubicBezier(SF(e,ii.getPathLength(n),v=>xF([o.start.x,s[0],s[2],s[4]],[o.start.y,s[1],s[3],s[5]],v)),o.start.x,o.start.y,s[0],s[1],s[2],s[3],s[4],s[5]);case"Q":return ii.getPointOnQuadraticBezier(SF(e,ii.getPathLength(n),v=>vF([o.start.x,s[0],s[2]],[o.start.y,s[1],s[3]],v)),o.start.x,o.start.y,s[0],s[1],s[2],s[3]);case"A":const c=s[0],u=s[1],d=s[2],h=s[3],m=s[5],g=s[6];let y=s[4];return y+=m*e/o.pathLength,ii.getPointOnEllipticalArc(c,u,d,h,y,g)}return null}static getPointOnLine(e,n,a,i,r,o,s){o=o??n,s=s??a;const c=this.getLineLength(n,a,i,r);if(c<1e-10)return{x:n,y:a};if(i===n)return{x:o,y:s+(r>a?e:-e)};const u=(r-a)/(i-n),d=Math.sqrt(e*e/(1+u*u))*(i<n?-1:1),h=u*d;if(Math.abs(s-a-u*(o-n))<1e-10)return{x:o+d,y:s+h};const m=((o-n)*(i-n)+(s-a)*(r-a))/(c*c),g=n+m*(i-n),y=a+m*(r-a),v=this.getLineLength(o,s,g,y),S=Math.sqrt(e*e-v*v),w=Math.sqrt(S*S/(1+u*u))*(i<n?-1:1),_=u*w;return{x:g+w,y:y+_}}static getPointOnCubicBezier(e,n,a,i,r,o,s,c,u){function d(S){return S*S*S}function h(S){return 3*S*S*(1-S)}function m(S){return 3*S*(1-S)*(1-S)}function g(S){return(1-S)*(1-S)*(1-S)}const y=c*d(e)+o*h(e)+i*m(e)+n*g(e),v=u*d(e)+s*h(e)+r*m(e)+a*g(e);return{x:y,y:v}}static getPointOnQuadraticBezier(e,n,a,i,r,o,s){function c(g){return g*g}function u(g){return 2*g*(1-g)}function d(g){return(1-g)*(1-g)}const h=o*c(e)+i*u(e)+n*d(e),m=s*c(e)+r*u(e)+a*d(e);return{x:h,y:m}}static getPointOnEllipticalArc(e,n,a,i,r,o){const s=Math.cos(o),c=Math.sin(o),u={x:a*Math.cos(r),y:i*Math.sin(r)};return{x:e+(u.x*s-u.y*c),y:n+(u.x*c+u.y*s)}}static parsePathData(e){if(!e)return[];let n=e;const a=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let h=0;h<a.length;h++)n=n.replace(new RegExp(a[h],"g"),"|"+a[h]);const i=n.split("|"),r=[],o=[];let s=0,c=0;const u=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let d;for(let h=1;h<i.length;h++){let m=i[h],g=m.charAt(0);for(m=m.slice(1),o.length=0;d=u.exec(m);)o.push(d[0]);let y=[],v=g==="A"||g==="a"?0:-1;for(let S=0,w=o.length;S<w;S++){const _=o[S];if(_==="00"){y.push(0,0),v>=0&&(v+=2,v>=7&&(v-=7));continue}if(v>=0){if(v===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(_)){y.push(parseInt(_[0],10)),y.push(parseInt(_[1],10)),y.push(parseFloat(_.slice(2))),v+=3,v>=7&&(v-=7);continue}if(_==="11"||_==="10"||_==="01"){y.push(parseInt(_[0],10)),y.push(parseInt(_[1],10)),v+=2,v>=7&&(v-=7);continue}if(_==="0"||_==="1"){y.push(parseInt(_,10)),v+=1,v>=7&&(v-=7);continue}}else if(v===4){if(/^[01]\d+(?:\.\d+)?$/.test(_)){y.push(parseInt(_[0],10)),y.push(parseFloat(_.slice(1))),v+=2,v>=7&&(v-=7);continue}if(_==="0"||_==="1"){y.push(parseInt(_,10)),v+=1,v>=7&&(v-=7);continue}}const T=parseFloat(_);isNaN(T)?y.push(0):y.push(T),v+=1,v>=7&&(v-=7)}else{const T=parseFloat(_);isNaN(T)?y.push(0):y.push(T)}}for(;y.length>0&&!isNaN(y[0]);){let S="",w=[];const _=s,T=c;let A,R,I,N,P,O,D,H,L,$;switch(g){case"l":s+=y.shift(),c+=y.shift(),S="L",w.push(s,c);break;case"L":s=y.shift(),c=y.shift(),w.push(s,c);break;case"m":const M=y.shift(),z=y.shift();if(s+=M,c+=z,S="M",r.length>2&&r[r.length-1].command==="z"){for(let F=r.length-2;F>=0;F--)if(r[F].command==="M"){s=r[F].points[0]+M,c=r[F].points[1]+z;break}}w.push(s,c),g="l";break;case"M":s=y.shift(),c=y.shift(),S="M",w.push(s,c),g="L";break;case"h":s+=y.shift(),S="L",w.push(s,c);break;case"H":s=y.shift(),S="L",w.push(s,c);break;case"v":c+=y.shift(),S="L",w.push(s,c);break;case"V":c=y.shift(),S="L",w.push(s,c);break;case"C":w.push(y.shift(),y.shift(),y.shift(),y.shift()),s=y.shift(),c=y.shift(),w.push(s,c);break;case"c":w.push(s+y.shift(),c+y.shift(),s+y.shift(),c+y.shift()),s+=y.shift(),c+=y.shift(),S="C",w.push(s,c);break;case"S":R=s,I=c,A=r[r.length-1],A.command==="C"&&(R=s+(s-A.points[2]),I=c+(c-A.points[3])),w.push(R,I,y.shift(),y.shift()),s=y.shift(),c=y.shift(),S="C",w.push(s,c);break;case"s":R=s,I=c,A=r[r.length-1],A.command==="C"&&(R=s+(s-A.points[2]),I=c+(c-A.points[3])),w.push(R,I,s+y.shift(),c+y.shift()),s+=y.shift(),c+=y.shift(),S="C",w.push(s,c);break;case"Q":w.push(y.shift(),y.shift()),s=y.shift(),c=y.shift(),w.push(s,c);break;case"q":w.push(s+y.shift(),c+y.shift()),s+=y.shift(),c+=y.shift(),S="Q",w.push(s,c);break;case"T":R=s,I=c,A=r[r.length-1],A.command==="Q"&&(R=s+(s-A.points[0]),I=c+(c-A.points[1])),s=y.shift(),c=y.shift(),S="Q",w.push(R,I,s,c);break;case"t":R=s,I=c,A=r[r.length-1],A.command==="Q"&&(R=s+(s-A.points[0]),I=c+(c-A.points[1])),s+=y.shift(),c+=y.shift(),S="Q",w.push(R,I,s,c);break;case"A":N=y.shift(),P=y.shift(),O=y.shift(),D=y.shift(),H=y.shift(),L=s,$=c,s=y.shift(),c=y.shift(),S="A",w=this.convertEndpointToCenterParameterization(L,$,s,c,D,H,N,P,O);break;case"a":N=y.shift(),P=y.shift(),O=y.shift(),D=y.shift(),H=y.shift(),L=s,$=c,s+=y.shift(),c+=y.shift(),S="A",w=this.convertEndpointToCenterParameterization(L,$,s,c,D,H,N,P,O);break}r.push({command:S||g,points:w,start:{x:_,y:T},pathLength:this.calcLength(_,T,S||g,w)})}(g==="z"||g==="Z")&&r.push({command:"z",points:[],start:void 0,pathLength:0})}return r}static calcLength(e,n,a,i){let r,o,s,c;const u=ii;switch(a){case"L":return u.getLineLength(e,n,i[0],i[1]);case"C":return xF([e,i[0],i[2],i[4]],[n,i[1],i[3],i[5]],1);case"Q":return vF([e,i[0],i[2]],[n,i[1],i[3]],1);case"A":r=0;const d=i[4],h=i[5],m=i[4]+h;let g=Math.PI/180;if(Math.abs(d-m)<g&&(g=Math.abs(d-m)),o=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),h<0)for(c=d-g;c>m;c-=g)s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),r+=u.getLineLength(o.x,o.y,s.x,s.y),o=s;else for(c=d+g;c<m;c+=g)s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),r+=u.getLineLength(o.x,o.y,s.x,s.y),o=s;return s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],m,0),r+=u.getLineLength(o.x,o.y,s.x,s.y),r}return 0}static convertEndpointToCenterParameterization(e,n,a,i,r,o,s,c,u){const d=u*(Math.PI/180),h=Math.cos(d)*(e-a)/2+Math.sin(d)*(n-i)/2,m=-1*Math.sin(d)*(e-a)/2+Math.cos(d)*(n-i)/2,g=h*h/(s*s)+m*m/(c*c);g>1&&(s*=Math.sqrt(g),c*=Math.sqrt(g));let y=Math.sqrt((s*s*(c*c)-s*s*(m*m)-c*c*(h*h))/(s*s*(m*m)+c*c*(h*h)));r===o&&(y*=-1),isNaN(y)&&(y=0);const v=y*s*m/c,S=y*-c*h/s,w=(e+a)/2+Math.cos(d)*v-Math.sin(d)*S,_=(n+i)/2+Math.sin(d)*v+Math.cos(d)*S,T=function(D){return Math.sqrt(D[0]*D[0]+D[1]*D[1])},A=function(D,H){return(D[0]*H[0]+D[1]*H[1])/(T(D)*T(H))},R=function(D,H){return(D[0]*H[1]<D[1]*H[0]?-1:1)*Math.acos(A(D,H))},I=R([1,0],[(h-v)/s,(m-S)/c]),N=[(h-v)/s,(m-S)/c],P=[(-1*h-v)/s,(-1*m-S)/c];let O=R(N,P);return A(N,P)<=-1&&(O=Math.PI),A(N,P)>=1&&(O=0),o===0&&O>0&&(O=O-2*Math.PI),o===1&&O<0&&(O=O+2*Math.PI),[w,_,s,c,I,O,d,o]}}ii.prototype.className="Path";ii.prototype._attrsAffectingSize=["data"];Bi(ii);Ae.addGetterSetter(ii,"data");class jg extends Af{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,a=this.points();let i=a;const r=this.tension()!==0&&a.length>4;r&&(i=this.getTensionPoints());const o=this.pointerLength(),s=a.length;let c,u;if(r){const m=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],a[s-2],a[s-1]],g=ii.calcLength(i[i.length-4],i[i.length-3],"C",m),y=ii.getPointOnQuadraticBezier(Math.min(1,1-o/g),m[0],m[1],m[2],m[3],m[4],m[5]);c=a[s-2]-y.x,u=a[s-1]-y.y}else c=a[s-2]-a[s-4],u=a[s-1]-a[s-3];const d=(Math.atan2(u,c)+n)%n,h=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(a[s-2],a[s-1]),e.rotate(d),e.moveTo(0,0),e.lineTo(-o,h/2),e.lineTo(-o,-h/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(a[0],a[1]),r?(c=(i[0]+i[2])/2-a[0],u=(i[1]+i[3])/2-a[1]):(c=a[2]-a[0],u=a[3]-a[1]),e.rotate((Math.atan2(-u,-c)+n)%n),e.moveTo(0,0),e.lineTo(-o,h/2),e.lineTo(-o,-h/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}}jg.prototype.className="Arrow";Bi(jg);Ae.addGetterSetter(jg,"pointerLength",10,zt());Ae.addGetterSetter(jg,"pointerWidth",10,zt());Ae.addGetterSetter(jg,"pointerAtBeginning",!1);Ae.addGetterSetter(jg,"pointerAtEnding",!0);class Pb extends wt{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}Pb.prototype._centroid=!0;Pb.prototype.className="Circle";Pb.prototype._attrsAffectingSize=["radius"];Bi(Pb);Ae.addGetterSetter(Pb,"radius",0,zt());class _p extends wt{_sceneFunc(e){const n=this.radiusX(),a=this.radiusY();e.beginPath(),e.save(),n!==a&&e.scale(1,a/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}_p.prototype.className="Ellipse";_p.prototype._centroid=!0;_p.prototype._attrsAffectingSize=["radiusX","radiusY"];Bi(_p);Ae.addComponentsGetterSetter(_p,"radius",["x","y"]);Ae.addGetterSetter(_p,"radiusX",0,zt());Ae.addGetterSetter(_p,"radiusY",0,zt());let tu=class VZ extends wt{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),a=this.getHeight(),i=this.cornerRadius(),r=this.attrs.image;let o;if(r){const s=this.attrs.cropWidth,c=this.attrs.cropHeight;s&&c?o=[r,this.cropX(),this.cropY(),s,c,0,0,n,a]:o=[r,0,0,n,a]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?$e.drawRoundedRectPath(e,n,a,i):e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)),r&&(i&&e.clip(),e.drawImage.apply(e,o))}_hitFunc(e){const n=this.width(),a=this.height(),i=this.cornerRadius();e.beginPath(),i?$e.drawRoundedRectPath(e,n,a,i):e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n,a;return(a=(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width)!==null&&a!==void 0?a:0}getHeight(){var e,n,a;return(a=(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height)!==null&&a!==void 0?a:0}static fromURL(e,n,a=null){const i=$e.createImageElement();i.onload=function(){const r=new VZ({image:i});n(r)},i.onerror=a,i.crossOrigin="Anonymous",i.src=e}};tu.prototype.className="Image";tu.prototype._attrsAffectingSize=["image"];Bi(tu);Ae.addGetterSetter(tu,"cornerRadius",0,u5(4));Ae.addGetterSetter(tu,"image");Ae.addComponentsGetterSetter(tu,"crop",["x","y","width","height"]);Ae.addGetterSetter(tu,"cropX",0,zt());Ae.addGetterSetter(tu,"cropY",0,zt());Ae.addGetterSetter(tu,"cropWidth",0,zt());Ae.addGetterSetter(tu,"cropHeight",0,zt());const YZ=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],xFe="Change.konva",vFe="none",z7="up",F7="right",B7="down",H7="left",SFe=YZ.length;class yD extends fb{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,a;const i=function(){n._sync()};for(a=0;a<SFe;a++)e.on(YZ[a]+xFe,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),a,i,r,o,s,c,u;if(e&&n){switch(a=e.width(),i=e.height(),r=n.pointerDirection(),o=n.pointerWidth(),u=n.pointerHeight(),s=0,c=0,r){case z7:s=a/2,c=-1*u;break;case F7:s=a+o,c=i/2;break;case B7:s=a/2,c=i+u;break;case H7:s=-1*o,c=i/2;break}n.setAttrs({x:-1*s,y:-1*c,width:a,height:i}),e.setAttrs({x:-1*s,y:-1*c})}}}yD.prototype.className="Label";Bi(yD);class Dg extends wt{_sceneFunc(e){const n=this.width(),a=this.height(),i=this.pointerDirection(),r=this.pointerWidth(),o=this.pointerHeight(),s=this.cornerRadius();let c=0,u=0,d=0,h=0;typeof s=="number"?c=u=d=h=Math.min(s,n/2,a/2):(c=Math.min(s[0]||0,n/2,a/2),u=Math.min(s[1]||0,n/2,a/2),h=Math.min(s[2]||0,n/2,a/2),d=Math.min(s[3]||0,n/2,a/2)),e.beginPath(),e.moveTo(c,0),i===z7&&(e.lineTo((n-r)/2,0),e.lineTo(n/2,-1*o),e.lineTo((n+r)/2,0)),e.lineTo(n-u,0),e.arc(n-u,u,u,Math.PI*3/2,0,!1),i===F7&&(e.lineTo(n,(a-o)/2),e.lineTo(n+r,a/2),e.lineTo(n,(a+o)/2)),e.lineTo(n,a-h),e.arc(n-h,a-h,h,0,Math.PI/2,!1),i===B7&&(e.lineTo((n+r)/2,a),e.lineTo(n/2,a+o),e.lineTo((n-r)/2,a)),e.lineTo(d,a),e.arc(d,a-d,d,Math.PI/2,Math.PI,!1),i===H7&&(e.lineTo(0,(a+o)/2),e.lineTo(-1*r,a/2),e.lineTo(0,(a-o)/2)),e.lineTo(0,c),e.arc(c,c,c,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,a=this.pointerWidth(),i=this.pointerHeight(),r=this.pointerDirection(),o=this.width(),s=this.height();return r===z7?(n-=i,s+=i):r===B7?s+=i:r===H7?(e-=a*1.5,o+=a):r===F7&&(o+=a*1.5),{x:e,y:n,width:o,height:s}}}Dg.prototype.className="Tag";Bi(Dg);Ae.addGetterSetter(Dg,"pointerDirection",vFe);Ae.addGetterSetter(Dg,"pointerWidth",0,zt());Ae.addGetterSetter(Dg,"pointerHeight",0,zt());Ae.addGetterSetter(Dg,"cornerRadius",0,u5(4));let SS=class extends wt{_sceneFunc(e){const n=this.cornerRadius(),a=this.width(),i=this.height();e.beginPath(),n?$e.drawRoundedRectPath(e,a,i,n):e.rect(0,0,a,i),e.closePath(),e.fillStrokeShape(this)}};SS.prototype.className="Rect";Bi(SS);Ae.addGetterSetter(SS,"cornerRadius",0,u5(4));class Tp extends wt{_sceneFunc(e){const n=this._getPoints(),a=this.radius(),i=this.sides(),r=this.cornerRadius();if(e.beginPath(),r)$e.drawRoundedPolygonPath(e,n,i,a,r);else{e.moveTo(n[0].x,n[0].y);for(let o=1;o<n.length;o++)e.lineTo(n[o].x,n[o].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,a=[];for(let i=0;i<e;i++)a.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return a}getSelfRect(){const e=this._getPoints();let n=e[0].x,a=e[0].y,i=e[0].x,r=e[0].y;return e.forEach(o=>{n=Math.min(n,o.x),a=Math.max(a,o.x),i=Math.min(i,o.y),r=Math.max(r,o.y)}),{x:n,y:i,width:a-n,height:r-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Tp.prototype.className="RegularPolygon";Tp.prototype._centroid=!0;Tp.prototype._attrsAffectingSize=["radius"];Bi(Tp);Ae.addGetterSetter(Tp,"radius",0,zt());Ae.addGetterSetter(Tp,"sides",0,zt());Ae.addGetterSetter(Tp,"cornerRadius",0,u5(4));const CF=Math.PI*2;class Og extends wt{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,CF,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),CF,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Og.prototype.className="Ring";Og.prototype._centroid=!0;Og.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Bi(Og);Ae.addGetterSetter(Og,"innerRadius",0,zt());Ae.addGetterSetter(Og,"outerRadius",0,zt());class ud extends wt{constructor(e){super(e),this._updated=!0,this.anim=new Kl(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),a=this.frameIndex(),i=a*4,r=this.animations()[n],o=this.frameOffsets(),s=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3],h=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,u,d),e.closePath(),e.fillStrokeShape(this)),h)if(o){const m=o[n],g=a*2;e.drawImage(h,s,c,u,d,m[g+0],m[g+1],u,d)}else e.drawImage(h,s,c,u,d,0,0,u,d)}_hitFunc(e){const n=this.animation(),a=this.frameIndex(),i=a*4,r=this.animations()[n],o=this.frameOffsets(),s=r[i+2],c=r[i+3];if(e.beginPath(),o){const u=o[n],d=a*2;e.rect(u[d+0],u[d+1],s,c)}else e.rect(0,0,s,c);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),a=this.animations(),i=a[n],r=i.length/4;e<r-1?this.frameIndex(e+1):this.frameIndex(0)}}ud.prototype.className="Sprite";Bi(ud);Ae.addGetterSetter(ud,"animation");Ae.addGetterSetter(ud,"animations");Ae.addGetterSetter(ud,"frameOffsets");Ae.addGetterSetter(ud,"image");Ae.addGetterSetter(ud,"frameIndex",0,zt());Ae.addGetterSetter(ud,"frameRate",17,zt());Ae.backCompat(ud,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Ep extends wt{_sceneFunc(e){const n=this.innerRadius(),a=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-a);for(let r=1;r<i*2;r++){const o=r%2===0?a:n,s=o*Math.sin(r*Math.PI/i),c=-1*o*Math.cos(r*Math.PI/i);e.lineTo(s,c)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Ep.prototype.className="Star";Ep.prototype._centroid=!0;Ep.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Bi(Ep);Ae.addGetterSetter(Ep,"numPoints",5,zt());Ae.addGetterSetter(Ep,"innerRadius",0,zt());Ae.addGetterSetter(Ep,"outerRadius",0,zt());function Oh(t){return[...t].reduce((e,n,a,i)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const r=i[a+1];r&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(r)?(e.push(n+r),i[a+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(i[a+1]||""))?e.push(n+i[a+1]):a>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const b1="auto",CFe="center",KZ="inherit",y1="justify",wFe="Change.konva",_Fe="2d",wF="-",XZ="left",TFe="text",EFe="Text",AFe="top",RFe="bottom",_F="middle",QZ="normal",kFe="px ",fw=" ",IFe="right",TF="rtl",NFe="word",jFe="char",EF="none",YE="",ZZ=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],DFe=ZZ.length;function OFe(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,a=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!a&&(e=`"${e}"`),e}).join(", ")}let hw;function KE(){return hw||(hw=$e.createCanvasElement().getContext(_Fe),hw)}function MFe(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function PFe(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function LFe(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}class yi extends wt{constructor(e){super(LFe(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<DFe;n++)this.on(ZZ[n]+wFe,this._setTextData);this._setTextData()}_sceneFunc(e){var n,a;const i=this.textArr,r=i.length;if(!this.text())return;let o=this.padding(),s=this.fontSize(),c=this.lineHeight()*s,u=this.verticalAlign(),d=this.direction(),h=0,m=this.align(),g=this.getWidth(),y=this.letterSpacing(),v=this.charRenderFunc(),S=this.fill(),w=this.textDecoration(),_=w.indexOf("underline")!==-1,T=w.indexOf("line-through")!==-1,A;d=d===KZ?e.direction:d;let R=c/2,I=_F;if(!$t.legacyTextRendering){const N=this.measureSize("M");I="alphabetic";const P=(n=N.fontBoundingBoxAscent)!==null&&n!==void 0?n:N.actualBoundingBoxAscent,O=(a=N.fontBoundingBoxDescent)!==null&&a!==void 0?a:N.actualBoundingBoxDescent;R=(P-O)/2+c/2}for(d===TF&&e.setAttr("direction",d),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",I),e.setAttr("textAlign",XZ),u===_F?h=(this.getHeight()-r*c-o*2)/2:u===RFe&&(h=this.getHeight()-r*c-o*2),e.translate(o,h+o),A=0;A<r;A++){let N=0,P=0;const O=i[A],D=O.text,H=O.width,L=O.lastInParagraph;if(e.save(),m===IFe?N+=g-H-o*2:m===CFe&&(N+=(g-H-o*2)/2),_){e.save(),e.beginPath();const $=$t.legacyTextRendering?Math.round(s/2):Math.round(s/4),M=N,z=R+P+$;e.moveTo(M,z);const F=m===y1&&!L?g-o*2:H;e.lineTo(M+Math.round(F),z),e.lineWidth=s/15;const G=this._getLinearGradient();e.strokeStyle=G||S,e.stroke(),e.restore()}if(d!==TF&&(y!==0||m===y1||v)){const $=D.split(" ").length-1,M=Oh(D);for(let z=0;z<M.length;z++){const F=M[z];if(F===" "&&!L&&m===y1&&(N+=(g-o*2-H)/$),this._partialTextX=N,this._partialTextY=R+P,this._partialText=F,v){e.save();const ee=i.slice(0,A).reduce((Y,K)=>Y+Oh(K.text).length,0),V=z+ee;v({char:F,index:V,x:N,y:R+P,lineIndex:A,column:z,isLastInLine:L,width:this.measureSize(F).width,context:e})}e.fillStrokeShape(this),v&&e.restore(),N+=this.measureSize(F).width+y}}else y!==0&&e.setAttr("letterSpacing",`${y}px`),this._partialTextX=N,this._partialTextY=R+P,this._partialText=D,e.fillStrokeShape(this);if(T){e.save(),e.beginPath();const $=$t.legacyTextRendering?0:-Math.round(s/4),M=m===y1?0:N;e.moveTo(M,R+P+$);const z=m===y1&&!L?g-o*2:H;e.lineTo(M+Math.round(z),R+P+$),e.lineWidth=s/15;const F=this._getLinearGradient();e.strokeStyle=F||S,e.stroke(),e.restore()}e.restore(),r>1&&(R+=c)}}_hitFunc(e){const n=this.getWidth(),a=this.getHeight();e.beginPath(),e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=$e._isString(e)?e:e==null?"":e+"";return this._setAttr(TFe,n),this}getWidth(){return this.attrs.width===b1||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===b1||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return $e.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,a,i,r,o,s,c,u,d,h,m;let g=KE(),y=this.fontSize(),v;g.save(),g.font=this._getContextFont(),v=g.measureText(e),g.restore();const S=y/100;return{actualBoundingBoxAscent:(n=v.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*S,actualBoundingBoxDescent:(a=v.actualBoundingBoxDescent)!==null&&a!==void 0?a:0,actualBoundingBoxLeft:(i=v.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*S,actualBoundingBoxRight:(r=v.actualBoundingBoxRight)!==null&&r!==void 0?r:75.732421875*S,alphabeticBaseline:(o=v.alphabeticBaseline)!==null&&o!==void 0?o:0,emHeightAscent:(s=v.emHeightAscent)!==null&&s!==void 0?s:100*S,emHeightDescent:(c=v.emHeightDescent)!==null&&c!==void 0?c:-20*S,fontBoundingBoxAscent:(u=v.fontBoundingBoxAscent)!==null&&u!==void 0?u:91*S,fontBoundingBoxDescent:(d=v.fontBoundingBoxDescent)!==null&&d!==void 0?d:21*S,hangingBaseline:(h=v.hangingBaseline)!==null&&h!==void 0?h:72.80000305175781*S,ideographicBaseline:(m=v.ideographicBaseline)!==null&&m!==void 0?m:-21*S,width:v.width,height:y}}_getContextFont(){return this.fontStyle()+fw+this.fontVariant()+fw+(this.fontSize()+kFe)+OFe(this.fontFamily())}_addTextLine(e){this.align()===y1&&(e=e.trim());const a=this._getTextWidth(e);return this.textArr.push({text:e,width:a,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),a=e.length;return KE().measureText(e).width+n*a}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),a=0,i=this.lineHeight()*n,r=this.attrs.width,o=this.attrs.height,s=r!==b1&&r!==void 0,c=o!==b1&&o!==void 0,u=this.padding(),d=r-u*2,h=o-u*2,m=0,g=this.wrap(),y=g!==EF,v=g!==jFe&&y,S=this.ellipsis();this.textArr=[],KE().font=this._getContextFont();const w=S?this._getTextWidth(YE):0;for(let _=0,T=e.length;_<T;++_){let A=e[_],R=this._getTextWidth(A);if(s&&R>d)for(;A.length>0;){let I=0,N=Oh(A).length,P="",O=0;for(;I<N;){const D=I+N>>>1,H=Oh(A),L=H.slice(0,D+1).join(""),$=this._getTextWidth(L);(S&&c&&m+i>h?$+w:$)<=d?(I=D+1,P=L,O=$):N=D}if(P){if(v){const L=Oh(A),$=Oh(P),M=L[$.length],z=M===fw||M===wF;let F;if(z&&O<=d)F=$.length;else{const G=$.lastIndexOf(fw),ee=$.lastIndexOf(wF);F=Math.max(G,ee)+1}F>0&&(I=F,P=L.slice(0,I).join(""),O=this._getTextWidth(P))}if(P=P.trimRight(),this._addTextLine(P),a=Math.max(a,O),m+=i,this._shouldHandleEllipsis(m)){this._tryToAddEllipsisToLastLine();break}if(A=Oh(A).slice(I).join("").trimLeft(),A.length>0&&(R=this._getTextWidth(A),R<=d)){this._addTextLine(A),m+=i,a=Math.max(a,R);break}}else break}else this._addTextLine(A),m+=i,a=Math.max(a,R),this._shouldHandleEllipsis(m)&&_<T-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),c&&m+i>h)break}this.textHeight=n,this.textWidth=a}_shouldHandleEllipsis(e){const n=+this.fontSize(),a=this.lineHeight()*n,i=this.attrs.height,r=i!==b1&&i!==void 0,o=this.padding(),s=i-o*2;return!(this.wrap()!==EF)||r&&e+a>s}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==b1&&e!==void 0,a=this.padding(),i=e-a*2,r=this.ellipsis(),o=this.textArr[this.textArr.length-1];!o||!r||(n&&(this._getTextWidth(o.text+YE)<i||(o.text=o.text.slice(0,o.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(o.text+YE))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}}yi.prototype._fillFunc=MFe;yi.prototype._strokeFunc=PFe;yi.prototype.className=EFe;yi.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];Bi(yi);Ae.overWriteSetter(yi,"width",mD());Ae.overWriteSetter(yi,"height",mD());Ae.addGetterSetter(yi,"direction",KZ);Ae.addGetterSetter(yi,"fontFamily","Arial");Ae.addGetterSetter(yi,"fontSize",12,zt());Ae.addGetterSetter(yi,"fontStyle",QZ);Ae.addGetterSetter(yi,"fontVariant",QZ);Ae.addGetterSetter(yi,"padding",0,zt());Ae.addGetterSetter(yi,"align",XZ);Ae.addGetterSetter(yi,"verticalAlign",AFe);Ae.addGetterSetter(yi,"lineHeight",1,zt());Ae.addGetterSetter(yi,"wrap",NFe);Ae.addGetterSetter(yi,"ellipsis",!1,eu());Ae.addGetterSetter(yi,"letterSpacing",0,zt());Ae.addGetterSetter(yi,"text","",Ig());Ae.addGetterSetter(yi,"textDecoration","");Ae.addGetterSetter(yi,"charRenderFunc",void 0);const zFe="",JZ="normal";function eJ(t){t.fillText(this.partialText,0,0)}function tJ(t){t.strokeText(this.partialText,0,0)}class jr extends wt{constructor(e){super(e),this.dummyCanvas=$e.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return ii.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e>n?null:ii.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=ii.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),a=this.fill(),i=this.fontSize(),r=this.glyphInfo,o=n.indexOf("underline")!==-1,s=n.indexOf("line-through")!==-1;o&&e.beginPath();for(let c=0;c<r.length;c++){e.save();const u=r[c].p0;e.translate(u.x,u.y),e.rotate(r[c].rotation),this.partialText=r[c].text,e.fillStrokeShape(this),o&&(c===0&&e.moveTo(0,i/2+1),e.lineTo(r[c].width,i/2+1)),e.restore()}if(o&&(e.strokeStyle=a,e.lineWidth=i/20,e.stroke()),s){e.beginPath();for(let c=0;c<r.length;c++){e.save();const u=r[c].p0;e.translate(u.x,u.y),e.rotate(r[c].rotation),c===0&&e.moveTo(0,0),e.lineTo(r[c].width,0),e.restore()}e.strokeStyle=a,e.lineWidth=i/20,e.stroke()}e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const a=n[0].p0;e.moveTo(a.x,a.y)}for(let a=0;a<n.length;a++){const i=n[a].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return $e.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return yi.prototype.setText.call(this,e)}_getContextFont(){return yi.prototype._getContextFont.call(this)}_getTextSize(e){const a=this.dummyCanvas.getContext("2d");a.save(),a.font=this._getContextFont();const i=a.measureText(e);return a.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=Oh(this.text()),n=[];let a=0;for(let h=0;h<e.length;h++)n.push({char:e[h],width:this._getTextSize(e[h]).width}),a+=n[h].width;const{height:i}=this._getTextSize(this.attrs.text);if(this.textWidth=a,this.textHeight=i,this.glyphInfo=[],!this.attrs.data)return null;const r=this.letterSpacing(),o=this.align(),s=this.kerningFunc(),c=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);let u=0;o==="center"&&(u=Math.max(0,this.pathLength/2-c/2)),o==="right"&&(u=Math.max(0,this.pathLength-c));let d=u;for(let h=0;h<n.length;h++){const m=this._getPointAtLength(d);if(!m)return;const g=n[h].char;let y=n[h].width+r;if(g===" "&&o==="justify"){const A=this.text().split(" ").length-1;y+=(this.pathLength-c)/A}const v=this._getPointAtLength(d+y);if(!v)return;const S=ii.getLineLength(m.x,m.y,v.x,v.y);let w=0;if(s)try{w=s(n[h-1].char,g)*this.fontSize()}catch{w=0}m.x+=w,v.x+=w,this.textWidth+=w;const _=ii.getPointOnLine(w+S/2,m.x,m.y,v.x,v.y),T=Math.atan2(v.y-m.y,v.x-m.x);this.glyphInfo.push({transposeX:_.x,transposeY:_.y,text:e[h],rotation:T,p0:m,p1:v,width:S}),d+=y}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(u){e.push(u.p0.x),e.push(u.p0.y),e.push(u.p1.x),e.push(u.p1.y)});let n=e[0]||0,a=e[0]||0,i=e[1]||0,r=e[1]||0,o,s;for(let u=0;u<e.length/2;u++)o=e[u*2],s=e[u*2+1],n=Math.min(n,o),a=Math.max(a,o),i=Math.min(i,s),r=Math.max(r,s);const c=this.fontSize();return{x:n-c/2,y:i-c/2,width:a-n+c,height:r-i+c}}destroy(){return $e.releaseCanvas(this.dummyCanvas),super.destroy()}}jr.prototype._fillFunc=eJ;jr.prototype._strokeFunc=tJ;jr.prototype._fillFuncHit=eJ;jr.prototype._strokeFuncHit=tJ;jr.prototype.className="TextPath";jr.prototype._attrsAffectingSize=["text","fontSize","data"];Bi(jr);Ae.addGetterSetter(jr,"data");Ae.addGetterSetter(jr,"fontFamily","Arial");Ae.addGetterSetter(jr,"fontSize",12,zt());Ae.addGetterSetter(jr,"fontStyle",JZ);Ae.addGetterSetter(jr,"align","left");Ae.addGetterSetter(jr,"letterSpacing",0,zt());Ae.addGetterSetter(jr,"textBaseline","middle");Ae.addGetterSetter(jr,"fontVariant",JZ);Ae.addGetterSetter(jr,"text",zFe);Ae.addGetterSetter(jr,"textDecoration","");Ae.addGetterSetter(jr,"kerningFunc",void 0);const nJ="tr-konva",FFe=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${nJ}`).join(" "),AF="nodesRect",BFe=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],HFe={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},$Fe="ontouchstart"in $t._global;function UFe(t,e,n){if(t==="rotater")return n;e+=$e.degToRad(HFe[t]||0);const a=($e.radToDeg(e)%360+360)%360;return $e._inRange(a,315+22.5,360)||$e._inRange(a,0,22.5)?"ns-resize":$e._inRange(a,45-22.5,45+22.5)?"nesw-resize":$e._inRange(a,90-22.5,90+22.5)?"ew-resize":$e._inRange(a,135-22.5,135+22.5)?"nwse-resize":$e._inRange(a,180-22.5,180+22.5)?"ns-resize":$e._inRange(a,225-22.5,225+22.5)?"nesw-resize":$e._inRange(a,270-22.5,270+22.5)?"ew-resize":$e._inRange(a,315-22.5,315+22.5)?"nwse-resize":($e.error("Transformer has unknown angle for cursor detection: "+a),"pointer")}const $4=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function GFe(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function aJ(t,e,n){const a=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:a,y:i}}function qFe(t,e){const n=GFe(t);return aJ(t,e,n)}function WFe(t,e,n){let a=e;for(let i=0;i<t.length;i++){const r=$t.getAngle(t[i]),o=Math.abs(r-e)%(Math.PI*2);Math.min(o,Math.PI*2-o)<n&&(a=r)}return a}let $7=0;class da extends fb{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(FFe,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return $e.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return nJ+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(i=>i.isAncestorOf(this)?($e.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const r=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){const o=i._attrsAffectingSize.map(s=>s+"Change."+this._getEventNamespace()).join(" ");i.on(o,r)}i.on(BFe.map(o=>o+`.${this._getEventNamespace()}`).join(" "),r),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,r),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,a=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(a,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,a=>{if(!n)return;const i=e.getAbsolutePosition(),r=i.x-n.x,o=i.y-n.y;this.nodes().forEach(s=>{if(s===e||s.isDragging())return;const c=s.getAbsolutePosition();s.setAbsolutePosition({x:c.x+r,y:c.y+o}),s.startDrag(a)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(AF),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(AF,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),a){const i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),r=e.getAbsoluteScale(a),o=e.getAbsolutePosition(a),s=i.x*r.x-e.offsetX()*r.x,c=i.y*r.y-e.offsetY()*r.y,u=($t.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),d={x:o.x+s*Math.cos(u)+c*Math.sin(-u),y:o.y+c*Math.cos(u)+s*Math.sin(u),width:i.width*r.x,height:i.height*r.y,rotation:u};return aJ(d,-$t.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(u=>{const d=u.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),h=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}],m=u.getAbsoluteTransform();h.forEach(function(g){const y=m.point(g);n.push(y)})});const a=new Mc;a.rotate(-$t.getAngle(this.rotation()));let i=1/0,r=1/0,o=-1/0,s=-1/0;n.forEach(function(u){const d=a.point(u);i===void 0&&(i=o=d.x,r=s=d.y),i=Math.min(i,d.x),r=Math.min(r,d.y),o=Math.max(o,d.x),s=Math.max(s,d.y)}),a.invert();const c=a.point({x:i,y:r});return{x:c.x,y:c.y,width:o-i,height:s-r,rotation:$t.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),$4.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new SS({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:$Fe?10:"auto"}),a=this;n.on("mousedown touchstart",function(i){a._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{const i=$t.getAngle(this.rotation()),r=this.rotateAnchorCursor(),o=UFe(e,i,r);n.getStage().content&&(n.getStage().content.style.cursor=o),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new wt({name:"back",width:0,height:0,sceneFunc(n,a){const i=a.getParent(),r=i.padding();n.beginPath(),n.rect(-r,-r,a.width()+r*2,a.height()+r*2),n.moveTo(a.width()/2,-r),i.rotateEnabled()&&i.rotateLineVisible()&&n.lineTo(a.width()/2,-i.rotateAnchorOffset()*$e._sign(a.height())-r),n.fillStrokeShape(a)},hitFunc:(n,a)=>{if(!this.shouldOverdrawWholeArea())return;const i=this.padding();n.beginPath(),n.rect(-i,-i,a.width()+i*2,a.height()+i*2),n.fillStrokeShape(a)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),a=n.width,i=n.height,r=Math.sqrt(Math.pow(a,2)+Math.pow(i,2));this.sin=Math.abs(i/r),this.cos=Math.abs(a/r),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const o=e.target.getAbsolutePosition(),s=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:s.x-o.x,y:s.y-o.y},$7++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(c=>{c._fire("transformstart",{evt:e.evt,target:c})})}_handleMouseMove(e){let n,a,i;const r=this.findOne("."+this._movingAnchorName),o=r.getStage();o.setPointersPositions(e);const s=o.getPointerPosition();let c={x:s.x-this._anchorDragOffset.x,y:s.y-this._anchorDragOffset.y};const u=r.getAbsolutePosition();this.anchorDragBoundFunc()&&(c=this.anchorDragBoundFunc()(u,c,e)),r.setAbsolutePosition(c);const d=r.getAbsolutePosition();if(u.x===d.x&&u.y===d.y)return;if(this._movingAnchorName==="rotater"){const _=this._getNodeRect();n=r.x()-_.width/2,a=-r.y()+_.height/2;let T=Math.atan2(-a,n)+Math.PI/2;_.height<0&&(T-=Math.PI);const R=$t.getAngle(this.rotation())+T,I=$t.getAngle(this.rotationSnapTolerance()),P=WFe(this.rotationSnaps(),R,I)-_.rotation,O=qFe(_,P);this._fitNodesInto(O,e);return}const h=this.shiftBehavior();let m;h==="inverted"?m=this.keepRatio()&&!e.shiftKey:h==="none"?m=this.keepRatio():m=this.keepRatio()||e.shiftKey;let g=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(m){const _=g?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(_.x-r.x(),2)+Math.pow(_.y-r.y(),2));const T=this.findOne(".top-left").x()>_.x?-1:1,A=this.findOne(".top-left").y()>_.y?-1:1;n=i*this.cos*T,a=i*this.sin*A,this.findOne(".top-left").x(_.x-n),this.findOne(".top-left").y(_.y-a)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(r.y());else if(this._movingAnchorName==="top-right"){if(m){const _=g?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(r.x()-_.x,2)+Math.pow(_.y-r.y(),2));const T=this.findOne(".top-right").x()<_.x?-1:1,A=this.findOne(".top-right").y()>_.y?-1:1;n=i*this.cos*T,a=i*this.sin*A,this.findOne(".top-right").x(_.x+n),this.findOne(".top-right").y(_.y-a)}var y=r.position();this.findOne(".top-left").y(y.y),this.findOne(".bottom-right").x(y.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(r.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(r.x());else if(this._movingAnchorName==="bottom-left"){if(m){const _=g?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(_.x-r.x(),2)+Math.pow(r.y()-_.y,2));const T=_.x<r.x()?-1:1,A=r.y()<_.y?-1:1;n=i*this.cos*T,a=i*this.sin*A,r.x(_.x-n),r.y(_.y+a)}y=r.position(),this.findOne(".top-left").x(y.x),this.findOne(".bottom-right").y(y.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(r.y());else if(this._movingAnchorName==="bottom-right"){if(m){const _=g?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(r.x()-_.x,2)+Math.pow(r.y()-_.y,2));const T=this.findOne(".bottom-right").x()<_.x?-1:1,A=this.findOne(".bottom-right").y()<_.y?-1:1;n=i*this.cos*T,a=i*this.sin*A,this.findOne(".bottom-right").x(_.x+n),this.findOne(".bottom-right").y(_.y+a)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(g=this.centeredScaling()||e.altKey,g){const _=this.findOne(".top-left"),T=this.findOne(".bottom-right"),A=_.x(),R=_.y(),I=this.getWidth()-T.x(),N=this.getHeight()-T.y();T.move({x:-A,y:-R}),_.move({x:I,y:N})}const v=this.findOne(".top-left").getAbsolutePosition();n=v.x,a=v.y;const S=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),w=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:a,width:S,height:w,rotation:$t.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const a=this.getNode();$7--,this._fire("transformend",{evt:e,target:a}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),a&&this._nodes.forEach(i=>{var r;i._fire("transformend",{evt:e,target:i}),(r=i.getLayer())===null||r===void 0||r.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const a=this._getNodeRect(),i=1;if($e._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if($e._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const r=new Mc;if(r.rotate($t.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const m=r.point({x:-this.padding()*2,y:0});e.x+=m.x,e.y+=m.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const m=r.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const m=r.point({x:0,y:-this.padding()*2});e.x+=m.x,e.y+=m.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const m=r.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const m=this.boundBoxFunc()(a,e);m?e=m:$e.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,s=new Mc;s.translate(a.x,a.y),s.rotate(a.rotation),s.scale(a.width/o,a.height/o);const c=new Mc,u=e.width/o,d=e.height/o;this.flipEnabled()===!1?(c.translate(e.x,e.y),c.rotate(e.rotation),c.translate(e.width<0?e.width:0,e.height<0?e.height:0),c.scale(Math.abs(u),Math.abs(d))):(c.translate(e.x,e.y),c.rotate(e.rotation),c.scale(u,d));const h=c.multiply(s.invert());this._nodes.forEach(m=>{var g;if(!m.getStage())return;const y=m.getParent().getAbsoluteTransform(),v=m.getTransform().copy();v.translate(m.offsetX(),m.offsetY());const S=new Mc;S.multiply(y.copy().invert()).multiply(h).multiply(y).multiply(v);const w=S.decompose();m.setAttrs(w),(g=m.getLayer())===null||g===void 0||g.batchDraw()}),this.rotation($e._getRotation(e.rotation)),this._nodes.forEach(m=>{this._fire("transform",{evt:n,target:m}),m._fire("transform",{evt:n,target:m})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation($e._getRotation(n.rotation));const a=n.width,i=n.height,r=this.enabledAnchors(),o=this.resizeEnabled(),s=this.padding(),c=this.anchorSize(),u=this.find("._anchor");u.forEach(h=>{h.setAttrs({width:c,height:c,offsetX:c/2,offsetY:c/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:c/2+s,offsetY:c/2+s,visible:o&&r.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:a/2,y:0,offsetY:c/2+s,visible:o&&r.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:a,y:0,offsetX:c/2-s,offsetY:c/2+s,visible:o&&r.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:c/2+s,visible:o&&r.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:a,y:i/2,offsetX:c/2-s,visible:o&&r.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:c/2+s,offsetY:c/2-s,visible:o&&r.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:a/2,y:i,offsetY:c/2-s,visible:o&&r.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:a,y:i,offsetX:c/2-s,offsetY:c/2-s,visible:o&&r.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:a/2,y:-this.rotateAnchorOffset()*$e._sign(i)-s,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:a,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(h=>h.draggable()),x:0,y:0});const d=this.anchorStyleFunc();d&&u.forEach(h=>{d(h)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),fb.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Ot.prototype.toObject.call(this)}clone(e){return Ot.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}da.isTransforming=()=>$7>0;function VFe(t){return t instanceof Array||$e.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){$4.indexOf(e)===-1&&$e.warn("Unknown anchor name: "+e+". Available names are: "+$4.join(", "))}),t||[]}da.prototype.className="Transformer";Bi(da);Ae.addGetterSetter(da,"enabledAnchors",$4,VFe);Ae.addGetterSetter(da,"flipEnabled",!0,eu());Ae.addGetterSetter(da,"resizeEnabled",!0);Ae.addGetterSetter(da,"anchorSize",10,zt());Ae.addGetterSetter(da,"rotateEnabled",!0);Ae.addGetterSetter(da,"rotateLineVisible",!0);Ae.addGetterSetter(da,"rotationSnaps",[]);Ae.addGetterSetter(da,"rotateAnchorOffset",50,zt());Ae.addGetterSetter(da,"rotateAnchorCursor","crosshair");Ae.addGetterSetter(da,"rotationSnapTolerance",5,zt());Ae.addGetterSetter(da,"borderEnabled",!0);Ae.addGetterSetter(da,"anchorStroke","rgb(0, 161, 255)");Ae.addGetterSetter(da,"anchorStrokeWidth",1,zt());Ae.addGetterSetter(da,"anchorFill","white");Ae.addGetterSetter(da,"anchorCornerRadius",0,zt());Ae.addGetterSetter(da,"borderStroke","rgb(0, 161, 255)");Ae.addGetterSetter(da,"borderStrokeWidth",1,zt());Ae.addGetterSetter(da,"borderDash");Ae.addGetterSetter(da,"keepRatio",!0);Ae.addGetterSetter(da,"shiftBehavior","default");Ae.addGetterSetter(da,"centeredScaling",!1);Ae.addGetterSetter(da,"ignoreStroke",!1);Ae.addGetterSetter(da,"padding",0,zt());Ae.addGetterSetter(da,"nodes");Ae.addGetterSetter(da,"node");Ae.addGetterSetter(da,"boundBoxFunc");Ae.addGetterSetter(da,"anchorDragBoundFunc");Ae.addGetterSetter(da,"anchorStyleFunc");Ae.addGetterSetter(da,"shouldOverdrawWholeArea",!1);Ae.addGetterSetter(da,"useSingleNodeRotation",!0);Ae.backCompat(da,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class Rf extends wt{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,$t.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Rf.prototype.className="Wedge";Rf.prototype._centroid=!0;Rf.prototype._attrsAffectingSize=["radius"];Bi(Rf);Ae.addGetterSetter(Rf,"radius",0,zt());Ae.addGetterSetter(Rf,"angle",0,zt());Ae.addGetterSetter(Rf,"clockwise",!1);Ae.backCompat(Rf,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function RF(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const YFe=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],KFe=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function XFe(t,e){const n=t.data,a=t.width,i=t.height;let r,o,s,c,u,d,h,m,g,y,v,S,w,_,T,A,R,I,N,P;const O=e+e+1,D=a-1,H=i-1,L=e+1,$=L*(L+1)/2,M=new RF,z=YFe[e],F=KFe[e];let G=null,ee=M,V=null,Y=null;for(let K=1;K<O;K++)ee=ee.next=new RF,K===L&&(G=ee);ee.next=M,s=o=0;for(let K=0;K<i;K++){S=w=_=T=c=u=d=h=0,m=L*(A=n[o]),g=L*(R=n[o+1]),y=L*(I=n[o+2]),v=L*(N=n[o+3]),c+=$*A,u+=$*R,d+=$*I,h+=$*N,ee=M;for(let J=0;J<L;J++)ee.r=A,ee.g=R,ee.b=I,ee.a=N,ee=ee.next;for(let J=1;J<L;J++)r=o+((D<J?D:J)<<2),c+=(ee.r=A=n[r])*(P=L-J),u+=(ee.g=R=n[r+1])*P,d+=(ee.b=I=n[r+2])*P,h+=(ee.a=N=n[r+3])*P,S+=A,w+=R,_+=I,T+=N,ee=ee.next;V=M,Y=G;for(let J=0;J<a;J++)n[o+3]=N=h*z>>F,N!==0?(N=255/N,n[o]=(c*z>>F)*N,n[o+1]=(u*z>>F)*N,n[o+2]=(d*z>>F)*N):n[o]=n[o+1]=n[o+2]=0,c-=m,u-=g,d-=y,h-=v,m-=V.r,g-=V.g,y-=V.b,v-=V.a,r=s+((r=J+e+1)<D?r:D)<<2,S+=V.r=n[r],w+=V.g=n[r+1],_+=V.b=n[r+2],T+=V.a=n[r+3],c+=S,u+=w,d+=_,h+=T,V=V.next,m+=A=Y.r,g+=R=Y.g,y+=I=Y.b,v+=N=Y.a,S-=A,w-=R,_-=I,T-=N,Y=Y.next,o+=4;s+=a}for(let K=0;K<a;K++){w=_=T=S=u=d=h=c=0,o=K<<2,m=L*(A=n[o]),g=L*(R=n[o+1]),y=L*(I=n[o+2]),v=L*(N=n[o+3]),c+=$*A,u+=$*R,d+=$*I,h+=$*N,ee=M;for(let W=0;W<L;W++)ee.r=A,ee.g=R,ee.b=I,ee.a=N,ee=ee.next;let J=a;for(let W=1;W<=e;W++)o=J+K<<2,c+=(ee.r=A=n[o])*(P=L-W),u+=(ee.g=R=n[o+1])*P,d+=(ee.b=I=n[o+2])*P,h+=(ee.a=N=n[o+3])*P,S+=A,w+=R,_+=I,T+=N,ee=ee.next,W<H&&(J+=a);o=K,V=M,Y=G;for(let W=0;W<i;W++)r=o<<2,n[r+3]=N=h*z>>F,N>0?(N=255/N,n[r]=(c*z>>F)*N,n[r+1]=(u*z>>F)*N,n[r+2]=(d*z>>F)*N):n[r]=n[r+1]=n[r+2]=0,c-=m,u-=g,d-=y,h-=v,m-=V.r,g-=V.g,y-=V.b,v-=V.a,r=K+((r=W+L)<H?r:H)*a<<2,c+=S+=V.r=n[r],u+=w+=V.g=n[r+1],d+=_+=V.b=n[r+2],h+=T+=V.a=n[r+3],V=V.next,m+=A=Y.r,g+=R=Y.g,y+=I=Y.b,v+=N=Y.a,S-=A,w-=R,_-=I,T-=N,Y=Y.next,o+=a}}const QFe=function(e){const n=Math.round(this.blurRadius());n>0&&XFe(e,n)};Ae.addGetterSetter(Ot,"blurRadius",0,zt(),Ae.afterSetFilter);const ZFe=function(t){const e=this.brightness()*255,n=t.data,a=n.length;for(let i=0;i<a;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};Ae.addGetterSetter(Ot,"brightness",0,zt(),Ae.afterSetFilter);const JFe=function(t){const e=this.brightness(),n=t.data,a=n.length;for(let i=0;i<a;i+=4)n[i]=Math.min(255,n[i]*e),n[i+1]=Math.min(255,n[i+1]*e),n[i+2]=Math.min(255,n[i+2]*e)},eBe=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,a=n.length;let i=150,r=150,o=150;for(let s=0;s<a;s+=4)i=n[s],r=n[s+1],o=n[s+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,r/=255,r-=.5,r*=e,r+=.5,r*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,i=i<0?0:i>255?255:i,r=r<0?0:r>255?255:r,o=o<0?0:o>255?255:o,n[s]=i,n[s+1]=r,n[s+2]=o};Ae.addGetterSetter(Ot,"contrast",0,zt(),Ae.afterSetFilter);const tBe=function(t){var e,n,a,i,r,o,s,c,u;const d=t.data,h=t.width,m=t.height,g=Math.min(1,Math.max(0,(n=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:.5)),y=Math.min(1,Math.max(0,(i=(a=this.embossWhiteLevel)===null||a===void 0?void 0:a.call(this))!==null&&i!==void 0?i:.5)),S=(s={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(o=(r=this.embossDirection)===null||r===void 0?void 0:r.call(this))!==null&&o!==void 0?o:"top-left"])!==null&&s!==void 0?s:315,w=!!((u=(c=this.embossBlend)===null||c===void 0?void 0:c.call(this))!==null&&u!==void 0&&u),_=g*10,T=y*255,A=S*Math.PI/180,R=Math.cos(A),I=Math.sin(A),N=128/1020*_,P=new Uint8ClampedArray(d),O=new Float32Array(h*m);for(let M=0,z=0;z<d.length;z+=4,M++)O[M]=.2126*P[z]+.7152*P[z+1]+.0722*P[z+2];const D=[-1,0,1,-2,0,2,-1,0,1],H=[-1,-2,-1,0,0,0,1,2,1],L=[-h-1,-h,-h+1,-1,0,1,h-1,h,h+1],$=M=>M<0?0:M>255?255:M;for(let M=1;M<m-1;M++)for(let z=1;z<h-1;z++){const F=M*h+z;let G=0,ee=0;G+=O[F+L[0]]*D[0],ee+=O[F+L[0]]*H[0],G+=O[F+L[1]]*D[1],ee+=O[F+L[1]]*H[1],G+=O[F+L[2]]*D[2],ee+=O[F+L[2]]*H[2],G+=O[F+L[3]]*D[3],ee+=O[F+L[3]]*H[3],G+=O[F+L[5]]*D[5],ee+=O[F+L[5]]*H[5],G+=O[F+L[6]]*D[6],ee+=O[F+L[6]]*H[6],G+=O[F+L[7]]*D[7],ee+=O[F+L[7]]*H[7],G+=O[F+L[8]]*D[8],ee+=O[F+L[8]]*H[8];const V=R*G+I*ee,Y=$(T+V*N),K=F*4;if(w){const J=Y-T;d[K]=$(P[K]+J),d[K+1]=$(P[K+1]+J),d[K+2]=$(P[K+2]+J),d[K+3]=P[K+3]}else d[K]=d[K+1]=d[K+2]=Y,d[K+3]=P[K+3]}for(let M=0;M<h;M++){let z=M*4,F=((m-1)*h+M)*4;d[z]=P[z],d[z+1]=P[z+1],d[z+2]=P[z+2],d[z+3]=P[z+3],d[F]=P[F],d[F+1]=P[F+1],d[F+2]=P[F+2],d[F+3]=P[F+3]}for(let M=1;M<m-1;M++){let z=M*h*4,F=(M*h+(h-1))*4;d[z]=P[z],d[z+1]=P[z+1],d[z+2]=P[z+2],d[z+3]=P[z+3],d[F]=P[F],d[F+1]=P[F+1],d[F+2]=P[F+2],d[F+3]=P[F+3]}return t};Ae.addGetterSetter(Ot,"embossStrength",.5,zt(),Ae.afterSetFilter);Ae.addGetterSetter(Ot,"embossWhiteLevel",.5,zt(),Ae.afterSetFilter);Ae.addGetterSetter(Ot,"embossDirection","top-left",void 0,Ae.afterSetFilter);Ae.addGetterSetter(Ot,"embossBlend",!1,void 0,Ae.afterSetFilter);function XE(t,e,n,a,i){const r=n-e,o=i-a;if(r===0)return a+o/2;if(o===0)return a;let s=(t-e)/r;return s=o*s+a,s}const nBe=function(t){const e=t.data,n=e.length;let a=e[0],i=a,r,o=e[1],s=o,c,u=e[2],d=u,h;const m=this.enhance();if(m===0)return;for(let T=0;T<n;T+=4)r=e[T+0],r<a?a=r:r>i&&(i=r),c=e[T+1],c<o?o=c:c>s&&(s=c),h=e[T+2],h<u?u=h:h>d&&(d=h);i===a&&(i=255,a=0),s===o&&(s=255,o=0),d===u&&(d=255,u=0);let g,y,v,S,w,_;if(m>0)g=i+m*(255-i),y=a-m*(a-0),v=s+m*(255-s),S=o-m*(o-0),w=d+m*(255-d),_=u-m*(u-0);else{const T=(i+a)*.5;g=i+m*(i-T),y=a+m*(a-T);const A=(s+o)*.5;v=s+m*(s-A),S=o+m*(o-A);const R=(d+u)*.5;w=d+m*(d-R),_=u+m*(u-R)}for(let T=0;T<n;T+=4)e[T+0]=XE(e[T+0],a,i,y,g),e[T+1]=XE(e[T+1],o,s,S,v),e[T+2]=XE(e[T+2],u,d,_,w)};Ae.addGetterSetter(Ot,"enhance",0,zt(),Ae.afterSetFilter);const aBe=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4){const i=.34*e[a]+.5*e[a+1]+.16*e[a+2];e[a]=i,e[a+1]=i,e[a+2]=i}};Ae.addGetterSetter(Ot,"hue",0,zt(),Ae.afterSetFilter);Ae.addGetterSetter(Ot,"saturation",0,zt(),Ae.afterSetFilter);Ae.addGetterSetter(Ot,"luminance",0,zt(),Ae.afterSetFilter);const iBe=function(t){const e=t.data,n=e.length,a=1,i=Math.pow(2,this.saturation()),r=Math.abs(this.hue()+360)%360,o=this.luminance()*127,s=a*i*Math.cos(r*Math.PI/180),c=a*i*Math.sin(r*Math.PI/180),u=.299*a+.701*s+.167*c,d=.587*a-.587*s+.33*c,h=.114*a-.114*s-.497*c,m=.299*a-.299*s-.328*c,g=.587*a+.413*s+.035*c,y=.114*a-.114*s+.293*c,v=.299*a-.3*s+1.25*c,S=.587*a-.586*s-1.05*c,w=.114*a+.886*s-.2*c;let _,T,A,R;for(let I=0;I<n;I+=4)_=e[I+0],T=e[I+1],A=e[I+2],R=e[I+3],e[I+0]=u*_+d*T+h*A+o,e[I+1]=m*_+g*T+y*A+o,e[I+2]=v*_+S*T+w*A+o,e[I+3]=R},rBe=function(t){const e=t.data,n=e.length,a=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),r=Math.abs(this.hue()+360)%360,o=a*i*Math.cos(r*Math.PI/180),s=a*i*Math.sin(r*Math.PI/180),c=.299*a+.701*o+.167*s,u=.587*a-.587*o+.33*s,d=.114*a-.114*o-.497*s,h=.299*a-.299*o-.328*s,m=.587*a+.413*o+.035*s,g=.114*a-.114*o+.293*s,y=.299*a-.3*o+1.25*s,v=.587*a-.586*o-1.05*s,S=.114*a+.886*o-.2*s;for(let w=0;w<n;w+=4){const _=e[w+0],T=e[w+1],A=e[w+2],R=e[w+3];e[w+0]=c*_+u*T+d*A,e[w+1]=h*_+m*T+g*A,e[w+2]=y*_+v*T+S*A,e[w+3]=R}};Ae.addGetterSetter(Ot,"hue",0,zt(),Ae.afterSetFilter);Ae.addGetterSetter(Ot,"saturation",0,zt(),Ae.afterSetFilter);Ae.addGetterSetter(Ot,"value",0,zt(),Ae.afterSetFilter);const oBe=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4)e[a]=255-e[a],e[a+1]=255-e[a+1],e[a+2]=255-e[a+2]},sBe=function(t,e,n){const a=t.data,i=e.data,r=t.width,o=t.height,s=n.polarCenterX||r/2,c=n.polarCenterY||o/2;let u=Math.sqrt(s*s+c*c),d=r-s,h=o-c;const m=Math.sqrt(d*d+h*h);u=m>u?m:u;const g=o,y=r,v=360/y*Math.PI/180;for(let S=0;S<y;S+=1){const w=Math.sin(S*v),_=Math.cos(S*v);for(let T=0;T<g;T+=1){d=Math.floor(s+u*T/g*_),h=Math.floor(c+u*T/g*w);let A=(h*r+d)*4;const R=a[A+0],I=a[A+1],N=a[A+2],P=a[A+3];A=(S+T*r)*4,i[A+0]=R,i[A+1]=I,i[A+2]=N,i[A+3]=P}}},lBe=function(t,e,n){const a=t.data,i=e.data,r=t.width,o=t.height,s=n.polarCenterX||r/2,c=n.polarCenterY||o/2;let u=Math.sqrt(s*s+c*c),d=r-s,h=o-c;const m=Math.sqrt(d*d+h*h);u=m>u?m:u;const g=o,y=r,v=0;let S,w;for(d=0;d<r;d+=1)for(h=0;h<o;h+=1){const _=d-s,T=h-c,A=Math.sqrt(_*_+T*T)*g/u;let R=(Math.atan2(T,_)*180/Math.PI+360+v)%360;R=R*y/360,S=Math.floor(R),w=Math.floor(A);let I=(w*r+S)*4;const N=a[I+0],P=a[I+1],O=a[I+2],D=a[I+3];I=(h*r+d)*4,i[I+0]=N,i[I+1]=P,i[I+2]=O,i[I+3]=D}},cBe=function(t){const e=t.width,n=t.height;let a,i,r,o,s,c,u,d,h,m,g=Math.round(this.kaleidoscopePower());const y=Math.round(this.kaleidoscopeAngle()),v=Math.floor(e*(y%360)/360);if(g<1)return;const S=$e.createCanvasElement();S.width=e,S.height=n;const w=S.getContext("2d").getImageData(0,0,e,n);$e.releaseCanvas(S),sBe(t,w,{polarCenterX:e/2,polarCenterY:n/2});let _=e/Math.pow(2,g);for(;_<=8;)_=_*2,g-=1;_=Math.ceil(_);let T=_,A=0,R=T,I=1;for(v+_>e&&(A=T,R=0,I=-1),i=0;i<n;i+=1)for(a=A;a!==R;a+=I)r=Math.round(a+v)%e,h=(e*i+r)*4,s=w.data[h+0],c=w.data[h+1],u=w.data[h+2],d=w.data[h+3],m=(e*i+a)*4,w.data[m+0]=s,w.data[m+1]=c,w.data[m+2]=u,w.data[m+3]=d;for(i=0;i<n;i+=1)for(T=Math.floor(_),o=0;o<g;o+=1){for(a=0;a<T+1;a+=1)h=(e*i+a)*4,s=w.data[h+0],c=w.data[h+1],u=w.data[h+2],d=w.data[h+3],m=(e*i+T*2-a-1)*4,w.data[m+0]=s,w.data[m+1]=c,w.data[m+2]=u,w.data[m+3]=d;T*=2}lBe(w,t,{})};Ae.addGetterSetter(Ot,"kaleidoscopePower",2,zt(),Ae.afterSetFilter);Ae.addGetterSetter(Ot,"kaleidoscopeAngle",0,zt(),Ae.afterSetFilter);function pw(t,e,n){let a=(n*t.width+e)*4;const i=[];return i.push(t.data[a++],t.data[a++],t.data[a++],t.data[a++]),i}function Xx(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function uBe(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function dBe(t,e){const n=pw(t,0,0),a=pw(t,t.width-1,0),i=pw(t,0,t.height-1),r=pw(t,t.width-1,t.height-1),o=e||10;if(Xx(n,a)<o&&Xx(a,r)<o&&Xx(r,i)<o&&Xx(i,n)<o){const s=uBe([a,n,r,i]),c=[];for(let u=0;u<t.width*t.height;u++){const d=Xx(s,[t.data[u*4],t.data[u*4+1],t.data[u*4+2]]);c[u]=d<o?0:255}return c}}function fBe(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function hBe(t,e,n){const a=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(a.length)),r=Math.floor(i/2),o=[];for(let s=0;s<n;s++)for(let c=0;c<e;c++){const u=s*e+c;let d=0;for(let h=0;h<i;h++)for(let m=0;m<i;m++){const g=s+h-r,y=c+m-r;if(g>=0&&g<n&&y>=0&&y<e){const v=g*e+y,S=a[h*i+m];d+=t[v]*S}}o[u]=d===2040?255:0}return o}function pBe(t,e,n){const a=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(a.length)),r=Math.floor(i/2),o=[];for(let s=0;s<n;s++)for(let c=0;c<e;c++){const u=s*e+c;let d=0;for(let h=0;h<i;h++)for(let m=0;m<i;m++){const g=s+h-r,y=c+m-r;if(g>=0&&g<n&&y>=0&&y<e){const v=g*e+y,S=a[h*i+m];d+=t[v]*S}}o[u]=d>=1020?255:0}return o}function mBe(t,e,n){const a=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(a.length)),r=Math.floor(i/2),o=[];for(let s=0;s<n;s++)for(let c=0;c<e;c++){const u=s*e+c;let d=0;for(let h=0;h<i;h++)for(let m=0;m<i;m++){const g=s+h-r,y=c+m-r;if(g>=0&&g<n&&y>=0&&y<e){const v=g*e+y,S=a[h*i+m];d+=t[v]*S}}o[u]=d}return o}const gBe=function(t){const e=this.threshold();let n=dBe(t,e);return n&&(n=hBe(n,t.width,t.height),n=pBe(n,t.width,t.height),n=mBe(n,t.width,t.height),fBe(t,n)),t};Ae.addGetterSetter(Ot,"threshold",0,zt(),Ae.afterSetFilter);const bBe=function(t){const e=this.noise()*255,n=t.data,a=n.length,i=e/2;for(let r=0;r<a;r+=4)n[r+0]+=i-2*i*Math.random(),n[r+1]+=i-2*i*Math.random(),n[r+2]+=i-2*i*Math.random()};Ae.addGetterSetter(Ot,"noise",.2,zt(),Ae.afterSetFilter);const yBe=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,a=t.height,i=Math.ceil(n/e),r=Math.ceil(a/e),o=t.data;if(e<=0){$e.error("pixelSize value can not be <= 0");return}for(let s=0;s<i;s+=1)for(let c=0;c<r;c+=1){let u=0,d=0,h=0,m=0;const g=s*e,y=g+e,v=c*e,S=v+e;let w=0;for(let _=g;_<y;_+=1)if(!(_>=n))for(let T=v;T<S;T+=1){if(T>=a)continue;const A=(n*T+_)*4;u+=o[A+0],d+=o[A+1],h+=o[A+2],m+=o[A+3],w+=1}u=u/w,d=d/w,h=h/w,m=m/w;for(let _=g;_<y;_+=1)if(!(_>=n))for(let T=v;T<S;T+=1){if(T>=a)continue;const A=(n*T+_)*4;o[A+0]=u,o[A+1]=d,o[A+2]=h,o[A+3]=m}}};Ae.addGetterSetter(Ot,"pixelSize",8,zt(),Ae.afterSetFilter);const xBe=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,a=n.length,i=255/e;for(let r=0;r<a;r+=1)n[r]=Math.floor(n[r]/i)*i};Ae.addGetterSetter(Ot,"levels",.5,zt(),Ae.afterSetFilter);const vBe=function(t){const e=t.data,n=e.length,a=this.red(),i=this.green(),r=this.blue();for(let o=0;o<n;o+=4){const s=(.34*e[o]+.5*e[o+1]+.16*e[o+2])/255;e[o]=s*a,e[o+1]=s*i,e[o+2]=s*r,e[o+3]=e[o+3]}};Ae.addGetterSetter(Ot,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Ae.addGetterSetter(Ot,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Ae.addGetterSetter(Ot,"blue",0,EZ,Ae.afterSetFilter);const SBe=function(t){const e=t.data,n=e.length,a=this.red(),i=this.green(),r=this.blue(),o=this.alpha();for(let s=0;s<n;s+=4){const c=1-o;e[s]=a*o+e[s]*c,e[s+1]=i*o+e[s+1]*c,e[s+2]=r*o+e[s+2]*c}};Ae.addGetterSetter(Ot,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Ae.addGetterSetter(Ot,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Ae.addGetterSetter(Ot,"blue",0,EZ,Ae.afterSetFilter);Ae.addGetterSetter(Ot,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const CBe=function(t){const e=t.data,n=e.length;for(let a=0;a<n;a+=4){const i=e[a+0],r=e[a+1],o=e[a+2];e[a+0]=Math.min(255,i*.393+r*.769+o*.189),e[a+1]=Math.min(255,i*.349+r*.686+o*.168),e[a+2]=Math.min(255,i*.272+r*.534+o*.131)}},wBe=function(t){const n=t.data;for(let a=0;a<n.length;a+=4){const i=n[a],r=n[a+1],o=n[a+2];.2126*i+.7152*r+.0722*o>=128&&(n[a]=255-i,n[a+1]=255-r,n[a+2]=255-o)}return t},_Be=function(t){const e=this.threshold()*255,n=t.data,a=n.length;for(let i=0;i<a;i+=1)n[i]=n[i]<e?0:255};Ae.addGetterSetter(Ot,"threshold",.5,zt(),Ae.afterSetFilter);hb.Util._assign(hb,{Arc:Ef,Arrow:jg,Circle:Pb,Ellipse:_p,Image:tu,Label:yD,Tag:Dg,Line:Af,Path:ii,Rect:SS,RegularPolygon:Tp,Ring:Og,Sprite:ud,Star:Ep,Text:yi,TextPath:jr,Transformer:da,Wedge:Rf,Filters:{Blur:QFe,Brightness:JFe,Brighten:ZFe,Contrast:eBe,Emboss:tBe,Enhance:nBe,Grayscale:aBe,HSL:iBe,HSV:rBe,Invert:oBe,Kaleidoscope:cBe,Mask:gBe,Noise:bBe,Pixelate:yBe,Posterize:xBe,RGB:vBe,RGBA:SBe,Sepia:CBe,Solarize:wBe,Threshold:_Be}});var QE={exports:{}},ZE={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kF;function TBe(){return kF||(kF=1,(function(t){t.exports=function(e){function n(b,x,j,B){return new Iy(b,x,j,B)}function a(){}function i(b){var x="https://react.dev/errors/"+b;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var j=2;j<arguments.length;j++)x+="&args[]="+encodeURIComponent(arguments[j])}return"Minified React error #"+b+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(b){var x=b,j=b;if(b.alternate)for(;x.return;)x=x.return;else{b=x;do x=b,(x.flags&4098)!==0&&(j=x.return),b=x.return;while(b)}return x.tag===3?j:null}function o(b){if(r(b)!==b)throw Error(i(188))}function s(b){var x=b.alternate;if(!x){if(x=r(b),x===null)throw Error(i(188));return x!==b?null:b}for(var j=b,B=x;;){var Q=j.return;if(Q===null)break;var ae=Q.alternate;if(ae===null){if(B=Q.return,B!==null){j=B;continue}break}if(Q.child===ae.child){for(ae=Q.child;ae;){if(ae===j)return o(Q),b;if(ae===B)return o(Q),x;ae=ae.sibling}throw Error(i(188))}if(j.return!==B.return)j=Q,B=ae;else{for(var be=!1,De=Q.child;De;){if(De===j){be=!0,j=Q,B=ae;break}if(De===B){be=!0,B=Q,j=ae;break}De=De.sibling}if(!be){for(De=ae.child;De;){if(De===j){be=!0,j=ae,B=Q;break}if(De===B){be=!0,B=ae,j=Q;break}De=De.sibling}if(!be)throw Error(i(189))}}if(j.alternate!==B)throw Error(i(190))}if(j.tag!==3)throw Error(i(188));return j.stateNode.current===j?b:x}function c(b){var x=b.tag;if(x===5||x===26||x===27||x===6)return b;for(b=b.child;b!==null;){if(x=c(b),x!==null)return x;b=b.sibling}return null}function u(b){var x=b.tag;if(x===5||x===26||x===27||x===6)return b;for(b=b.child;b!==null;){if(b.tag!==4&&(x=u(b),x!==null))return x;b=b.sibling}return null}function d(b){return b===null||typeof b!="object"?null:(b=_c&&b[_c]||b["@@iterator"],typeof b=="function"?b:null)}function h(b){if(b==null)return null;if(typeof b=="function")return b.$$typeof===xu?null:b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case Nd:return"Fragment";case Dd:return"Profiler";case jd:return"StrictMode";case T0:return"Suspense";case wc:return"SuspenseList";case Jp:return"Activity"}if(typeof b=="object")switch(b.$$typeof){case Id:return"Portal";case cs:return b.displayName||"Context";case Zp:return(b._context.displayName||"Context")+".Consumer";case nh:var x=b.render;return b=b.displayName,b||(b=x.displayName||x.name||"",b=b!==""?"ForwardRef("+b+")":"ForwardRef"),b;case E0:return x=b.displayName||null,x!==null?x:h(b.type)||"Memo";case to:x=b._payload,b=b._init;try{return h(b(x))}catch{}}return null}function m(b){return{current:b}}function g(b){0>zd||(b.current=F0[zd],F0[zd]=null,zd--)}function y(b,x){zd++,F0[zd]=b.current,b.current=x}function v(b){return b>>>=0,b===0?32:31-(B0(b)/lC|0)|0}function S(b){var x=b&42;if(x!==0)return x;switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return b&261888;case 262144:case 524288:case 1048576:case 2097152:return b&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return b&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return b}}function w(b,x,j){var B=b.pendingLanes;if(B===0)return 0;var Q=0,ae=b.suspendedLanes,be=b.pingedLanes;b=b.warmLanes;var De=B&134217727;return De!==0?(B=De&~ae,B!==0?Q=S(B):(be&=De,be!==0?Q=S(be):j||(j=De&~b,j!==0&&(Q=S(j))))):(De=B&~ae,De!==0?Q=S(De):be!==0?Q=S(be):j||(j=B&~b,j!==0&&(Q=S(j)))),Q===0?0:x!==0&&x!==Q&&(x&ae)===0&&(ae=Q&-Q,j=x&-x,ae>=j||ae===32&&(j&4194048)!==0)?x:Q}function _(b,x){return(b.pendingLanes&~(b.suspendedLanes&~b.pingedLanes)&x)===0}function T(b,x){switch(b){case 1:case 2:case 4:case 8:case 64:return x+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function A(){var b=ch;return ch<<=1,(ch&62914560)===0&&(ch=4194304),b}function R(b){for(var x=[],j=0;31>j;j++)x.push(b);return x}function I(b,x){b.pendingLanes|=x,x!==268435456&&(b.suspendedLanes=0,b.pingedLanes=0,b.warmLanes=0)}function N(b,x,j,B,Q,ae){var be=b.pendingLanes;b.pendingLanes=j,b.suspendedLanes=0,b.pingedLanes=0,b.warmLanes=0,b.expiredLanes&=j,b.entangledLanes&=j,b.errorRecoveryDisabledLanes&=j,b.shellSuspendCounter=0;var De=b.entanglements,tt=b.expirationTimes,vt=b.hiddenUpdates;for(j=be&~j;0<j;){var Dt=31-So(j),Ct=1<<Dt;De[Dt]=0,tt[Dt]=-1;var Vt=vt[Dt];if(Vt!==null)for(vt[Dt]=null,Dt=0;Dt<Vt.length;Dt++){var An=Vt[Dt];An!==null&&(An.lane&=-536870913)}j&=~Ct}B!==0&&P(b,B,0),ae!==0&&Q===0&&b.tag!==0&&(b.suspendedLanes|=ae&~(be&~x))}function P(b,x,j){b.pendingLanes|=x,b.suspendedLanes&=~x;var B=31-So(x);b.entangledLanes|=x,b.entanglements[B]=b.entanglements[B]|1073741824|j&261930}function O(b,x){var j=b.entangledLanes|=x;for(b=b.entanglements;j;){var B=31-So(j),Q=1<<B;Q&x|b[B]&x&&(b[B]|=x),j&=~Q}}function D(b,x){var j=x&-x;return j=(j&42)!==0?1:H(j),(j&(b.suspendedLanes|x))!==0?0:j}function H(b){switch(b){case 2:b=1;break;case 8:b=4;break;case 32:b=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:b=128;break;case 268435456:b=134217728;break;default:b=0}return b}function L(b){return b&=-b,2<b?8<b?(b&134217727)!==0?32:268435456:8:2}function $(b){if(typeof mx=="function"&&dC(b),Co&&typeof Co.setStrictMode=="function")try{Co.setStrictMode(Bd,b)}catch{}}function M(b,x){return b===x&&(b!==0||1/b===1/x)||b!==b&&x!==x}function z(b){if(W0===void 0)try{throw Error()}catch(j){var x=j.stack.trim().match(/\n( *(at )?)/);W0=x&&x[1]||"",kl=-1<j.stack.indexOf(`
    at`)?" (<anonymous>)":-1<j.stack.indexOf("@")?"@unknown:0:0":""}return`
`+W0+b+kl}function F(b,x){if(!b||lm)return"";lm=!0;var j=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var B={DetermineComponentFrameRoot:function(){try{if(x){var Ct=function(){throw Error()};if(Object.defineProperty(Ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ct,[])}catch(An){var Vt=An}Reflect.construct(b,[],Ct)}else{try{Ct.call()}catch(An){Vt=An}b.call(Ct.prototype)}}else{try{throw Error()}catch(An){Vt=An}(Ct=b())&&typeof Ct.catch=="function"&&Ct.catch(function(){})}}catch(An){if(An&&Vt&&typeof An.stack=="string")return[An.stack,Vt.stack]}return[null,null]}};B.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var Q=Object.getOwnPropertyDescriptor(B.DetermineComponentFrameRoot,"name");Q&&Q.configurable&&Object.defineProperty(B.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var ae=B.DetermineComponentFrameRoot(),be=ae[0],De=ae[1];if(be&&De){var tt=be.split(`
`),vt=De.split(`
`);for(Q=B=0;B<tt.length&&!tt[B].includes("DetermineComponentFrameRoot");)B++;for(;Q<vt.length&&!vt[Q].includes("DetermineComponentFrameRoot");)Q++;if(B===tt.length||Q===vt.length)for(B=tt.length-1,Q=vt.length-1;1<=B&&0<=Q&&tt[B]!==vt[Q];)Q--;for(;1<=B&&0<=Q;B--,Q--)if(tt[B]!==vt[Q]){if(B!==1||Q!==1)do if(B--,Q--,0>Q||tt[B]!==vt[Q]){var Dt=`
`+tt[B].replace(" at new "," at ");return b.displayName&&Dt.includes("<anonymous>")&&(Dt=Dt.replace("<anonymous>",b.displayName)),Dt}while(1<=B&&0<=Q);break}}}finally{lm=!1,Error.prepareStackTrace=j}return(j=b?b.displayName||b.name:"")?z(j):""}function G(b,x){switch(b.tag){case 26:case 27:case 5:return z(b.type);case 16:return z("Lazy");case 13:return b.child!==x&&x!==null?z("Suspense Fallback"):z("Suspense");case 19:return z("SuspenseList");case 0:case 15:return F(b.type,!1);case 11:return F(b.type.render,!1);case 1:return F(b.type,!0);case 31:return z("Activity");default:return""}}function ee(b){try{var x="",j=null;do x+=G(b,j),j=b,b=b.return;while(b);return x}catch(B){return`
Error generating stack: `+B.message+`
`+B.stack}}function V(b,x){if(typeof b=="object"&&b!==null){var j=gx.get(b);return j!==void 0?j:(x={value:b,source:x,stack:ee(x)},gx.set(b,x),x)}return{value:b,source:x,stack:ee(x)}}function Y(b,x){Ac[Il++]=cm,Ac[Il++]=Ia,Ia=b,cm=x}function K(b,x,j){fs[Ho++]=Tr,fs[Ho++]=Us,fs[Ho++]=hs,hs=b;var B=Tr;b=Us;var Q=32-So(B)-1;B&=~(1<<Q),j+=1;var ae=32-So(x)+Q;if(30<ae){var be=Q-Q%5;ae=(B&(1<<be)-1).toString(32),B>>=be,Q-=be,Tr=1<<32-So(x)+Q|j<<Q|B,Us=ae+b}else Tr=1<<ae|j<<Q|B,Us=b}function J(b){b.return!==null&&(Y(b,1),K(b,1,0))}function W(b){for(;b===Ia;)Ia=Ac[--Il],Ac[Il]=null,cm=Ac[--Il],Ac[Il]=null;for(;b===hs;)hs=fs[--Ho],fs[Ho]=null,Us=fs[--Ho],fs[Ho]=null,Tr=fs[--Ho],fs[Ho]=null}function te(b,x){fs[Ho++]=Tr,fs[Ho++]=Us,fs[Ho++]=hs,Tr=x.id,Us=x.overflow,hs=b}function re(b,x){y(Er,x),y(Rc,b),y(fr,null),b=_3(x),g(fr),y(fr,b)}function ne(){g(fr),g(Rc),g(Er)}function ce(b){b.memoizedState!==null&&y(um,b);var x=fr.current,j=rh(x,b.type);x!==j&&(y(Rc,b),y(fr,j))}function pe(b){Rc.current===b&&(g(fr),g(Rc)),um.current===b&&(g(um),ji?Pd._currentValue=Md:Pd._currentValue2=Md)}function me(b){var x=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw oe(V(x,b)),V0}function ge(b,x){if(!Za)throw Error(i(175));X3(b.stateNode,b.type,b.memoizedProps,x,b)||me(b,!0)}function ye(b){for(er=b.return;er;)switch(er.tag){case 5:case 31:case 13:ao=!1;return;case 27:case 3:ao=!0;return;default:er=er.return}}function he(b){if(!Za||b!==er)return!1;if(!Yn)return ye(b),Yn=!0,!1;var x=b.tag;if(Ji?x!==3&&x!==27&&(x!==5||lh(b.type)&&!no(b.type,b.memoizedProps))&&Ja&&me(b):x!==3&&(x!==5||lh(b.type)&&!no(b.type,b.memoizedProps))&&Ja&&me(b),ye(b),x===13){if(!Za)throw Error(i(316));if(b=b.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(i(317));Ja=ix(b)}else if(x===31){if(b=b.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(i(317));Ja=Z3(b)}else Ja=Ji&&x===27?$3(b.type,Ja):er?H3(b.stateNode):null;return!0}function de(){Za&&(Ja=er=null,Yn=!1)}function fe(){var b=Nl;return b!==null&&(_o===null?_o=b:_o.push.apply(_o,b),Nl=null),b}function oe(b){Nl===null?Nl=[b]:Nl.push(b)}function ue(b,x,j){ji?(y(ps,x._currentValue),x._currentValue=j):(y(ps,x._currentValue2),x._currentValue2=j)}function le(b){var x=ps.current;ji?b._currentValue=x:b._currentValue2=x,g(ps)}function Se(b,x,j){for(;b!==null;){var B=b.alternate;if((b.childLanes&x)!==x?(b.childLanes|=x,B!==null&&(B.childLanes|=x)):B!==null&&(B.childLanes&x)!==x&&(B.childLanes|=x),b===j)break;b=b.return}}function _e(b,x,j,B){var Q=b.child;for(Q!==null&&(Q.return=b);Q!==null;){var ae=Q.dependencies;if(ae!==null){var be=Q.child;ae=ae.firstContext;e:for(;ae!==null;){var De=ae;ae=Q;for(var tt=0;tt<x.length;tt++)if(De.context===x[tt]){ae.lanes|=j,De=ae.alternate,De!==null&&(De.lanes|=j),Se(ae.return,j,b),B||(be=null);break e}ae=De.next}}else if(Q.tag===18){if(be=Q.return,be===null)throw Error(i(341));be.lanes|=j,ae=be.alternate,ae!==null&&(ae.lanes|=j),Se(be,j,b),be=null}else be=Q.child;if(be!==null)be.return=Q;else for(be=Q;be!==null;){if(be===b){be=null;break}if(Q=be.sibling,Q!==null){Q.return=be.return,be=Q;break}be=be.return}Q=be}}function Ie(b,x,j,B){b=null;for(var Q=x,ae=!1;Q!==null;){if(!ae){if((Q.flags&524288)!==0)ae=!0;else if((Q.flags&262144)!==0)break}if(Q.tag===10){var be=Q.alternate;if(be===null)throw Error(i(387));if(be=be.memoizedProps,be!==null){var De=Q.type;Oi(Q.pendingProps.value,be.value)||(b!==null?b.push(De):b=[De])}}else if(Q===um.current){if(be=Q.alternate,be===null)throw Error(i(387));be.memoizedState.memoizedState!==Q.memoizedState.memoizedState&&(b!==null?b.push(Pd):b=[Pd])}Q=Q.return}b!==null&&_e(x,b,j,B),x.flags|=262144}function ze(b){for(b=b.firstContext;b!==null;){var x=b.context;if(!Oi(ji?x._currentValue:x._currentValue2,b.memoizedValue))return!0;b=b.next}return!1}function Me(b){za=b,Gs=null,b=b.dependencies,b!==null&&(b.firstContext=null)}function Ze(b){return Ne(za,b)}function Ee(b,x){return za===null&&Me(b),Ne(b,x)}function Ne(b,x){var j=ji?x._currentValue:x._currentValue2;if(x={context:x,memoizedValue:j,next:null},Gs===null){if(b===null)throw Error(i(308));Gs=x,b.dependencies={lanes:0,firstContext:x},b.flags|=524288}else Gs=Gs.next=x;return j}function ve(){return{controller:new fC,data:new Map,refCount:0}}function we(b){b.refCount--,b.refCount===0&&hr(TT,function(){b.controller.abort()})}function Oe(){}function Le(b){b!==va&&b.next===null&&(va===null?dm=va=b:va=va.next=b),ms=!0,Fr||(Fr=!0,bt())}function We(b,x){if(!Y0&&ms){Y0=!0;do for(var j=!1,B=dm;B!==null;){if(b!==0){var Q=B.pendingLanes;if(Q===0)var ae=0;else{var be=B.suspendedLanes,De=B.pingedLanes;ae=(1<<31-So(42|b)+1)-1,ae&=Q&~(be&~De),ae=ae&201326741?ae&201326741|1:ae?ae|2:0}ae!==0&&(j=!0,ot(B,ae))}else ae=Kn,ae=w(B,B===Pn?ae:0,B.cancelPendingCommit!==null||B.timeoutHandle!==vo),(ae&3)===0||_(B,ae)||(j=!0,ot(B,ae));B=B.next}while(j);Y0=!1}}function Fe(){Ve()}function Ve(){ms=Fr=!1;var b=0;_u!==0&&Od()&&(b=_u);for(var x=zr(),j=null,B=dm;B!==null;){var Q=B.next,ae=rt(B,x);ae===0?(B.next=null,j===null?dm=Q:j.next=Q,Q===null&&(va=j)):(j=B,(b!==0||(ae&3)!==0)&&(ms=!0)),B=Q}Gi!==0&&Gi!==5||We(b),_u!==0&&(_u=0)}function rt(b,x){for(var j=b.suspendedLanes,B=b.pingedLanes,Q=b.expirationTimes,ae=b.pendingLanes&-62914561;0<ae;){var be=31-So(ae),De=1<<be,tt=Q[be];tt===-1?((De&j)===0||(De&B)!==0)&&(Q[be]=T(De,x)):tt<=x&&(b.expiredLanes|=De),ae&=~De}if(x=Pn,j=Kn,j=w(b,b===x?j:0,b.cancelPendingCommit!==null||b.timeoutHandle!==vo),B=b.callbackNode,j===0||b===x&&(Ca===2||Ca===9)||b.cancelPendingCommit!==null)return B!==null&&B!==null&&$0(B),b.callbackNode=null,b.callbackPriority=0;if((j&3)===0||_(b,j)){if(x=j&-j,x===b.callbackPriority)return x;switch(B!==null&&$0(B),L(j)){case 2:case 8:j=uC;break;case 32:j=sm;break;case 268435456:j=G0;break;default:j=sm}return B=at.bind(null,b),j=om(j,B),b.callbackPriority=x,b.callbackNode=j,x}return B!==null&&B!==null&&$0(B),b.callbackPriority=2,b.callbackNode=null,2}function at(b,x){if(Gi!==0&&Gi!==5)return b.callbackNode=null,b.callbackPriority=0,null;var j=b.callbackNode;if(El()&&b.callbackNode!==j)return null;var B=Kn;return B=w(b,b===Pn?B:0,b.cancelPendingCommit!==null||b.timeoutHandle!==vo),B===0?null:($s(b,B,x),rt(b,zr()),b.callbackNode!=null&&b.callbackNode===j?at.bind(null,b):null)}function ot(b,x){if(El())return null;$s(b,x,!0)}function bt(){$y?Uy(function(){(Gn&6)!==0?om(U0,Fe):Ve()}):om(U0,Fe)}function Xt(){if(_u===0){var b=kc;b===0&&(b=H0,H0<<=1,(H0&261888)===0&&(H0=256)),_u=b}return _u}function Jt(b,x){if(uh===null){var j=uh=[];bx=0,kc=Xt(),tr={status:"pending",value:void 0,then:function(B){j.push(B)}}}return bx++,x.then(vn,vn),x}function vn(){if(--bx===0&&uh!==null){tr!==null&&(tr.status="fulfilled");var b=uh;uh=null,kc=0,tr=null;for(var x=0;x<b.length;x++)(0,b[x])()}}function jn(b,x){var j=[],B={status:"pending",value:null,reason:null,then:function(Q){j.push(Q)}};return b.then(function(){B.status="fulfilled",B.value=x;for(var Q=0;Q<j.length;Q++)(0,j[Q])(x)},function(Q){for(B.status="rejected",B.reason=Q,Q=0;Q<j.length;Q++)(0,j[Q])(void 0)}),B}function ea(){var b=Tu.current;return b!==null?b:Pn.pooledCache}function Kt(b,x){x===null?y(Tu,Tu.current):y(Tu,x.pool)}function Ht(){var b=ea();return b===null?null:{parent:ji?ei._currentValue:ei._currentValue2,pool:b}}function hn(b,x){if(Oi(b,x))return!0;if(typeof b!="object"||b===null||typeof x!="object"||x===null)return!1;var j=Object.keys(b),B=Object.keys(x);if(j.length!==B.length)return!1;for(B=0;B<j.length;B++){var Q=j[B];if(!_T.call(x,Q)||!Oi(b[Q],x[Q]))return!1}return!0}function _n(b){return b=b.status,b==="fulfilled"||b==="rejected"}function Tn(b,x,j){switch(j=b[j],j===void 0?b.push(x):j!==x&&(x.then(Oe,Oe),x=j),x.status){case"fulfilled":return x.value;case"rejected":throw b=x.reason,Et(b),b;default:if(typeof x.status=="string")x.then(Oe,Oe);else{if(b=Pn,b!==null&&100<b.shellSuspendCounter)throw Error(i(482));b=x,b.status="pending",b.then(function(B){if(x.status==="pending"){var Q=x;Q.status="fulfilled",Q.value=B}},function(B){if(x.status==="pending"){var Q=x;Q.status="rejected",Q.reason=B}})}switch(x.status){case"fulfilled":return x.value;case"rejected":throw b=x.reason,Et(b),b}throw io=x,nr}}function Wt(b){try{var x=b._init;return x(b._payload)}catch(j){throw j!==null&&typeof j=="object"&&typeof j.then=="function"?(io=j,nr):j}}function Rn(){if(io===null)throw Error(i(459));var b=io;return io=null,b}function Et(b){if(b===nr||b===bs)throw Error(i(483))}function Mt(b){var x=Hd;return Hd+=1,Eu===null&&(Eu=[]),Tn(Eu,b,x)}function rn(b,x){x=x.props.ref,b.ref=x!==void 0?x:null}function an(b,x){throw x.$$typeof===kd?Error(i(525)):(b=Object.prototype.toString.call(x),Error(i(31,b==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":b)))}function En(b){function x(Qe,He){if(b){var et=Qe.deletions;et===null?(Qe.deletions=[He],Qe.flags|=16):et.push(He)}}function j(Qe,He){if(!b)return null;for(;He!==null;)x(Qe,He),He=He.sibling;return null}function B(Qe){for(var He=new Map;Qe!==null;)Qe.key!==null?He.set(Qe.key,Qe):He.set(Qe.index,Qe),Qe=Qe.sibling;return He}function Q(Qe,He){return Qe=Fo(Qe,He),Qe.index=0,Qe.sibling=null,Qe}function ae(Qe,He,et){return Qe.index=et,b?(et=Qe.alternate,et!==null?(et=et.index,et<He?(Qe.flags|=67108866,He):et):(Qe.flags|=67108866,He)):(Qe.flags|=1048576,He)}function be(Qe){return b&&Qe.alternate===null&&(Qe.flags|=67108866),Qe}function De(Qe,He,et,Rt){return He===null||He.tag!==6?(He=Ny(et,Qe.mode,Rt),He.return=Qe,He):(He=Q(He,et),He.return=Qe,He)}function tt(Qe,He,et,Rt){var un=et.type;return un===Nd?Dt(Qe,He,et.props.children,Rt,et.key):He!==null&&(He.elementType===un||typeof un=="object"&&un!==null&&un.$$typeof===to&&Wt(un)===He.type)?(He=Q(He,et.props),rn(He,et),He.return=Qe,He):(He=Cc(et.type,et.key,et.props,null,Qe.mode,Rt),rn(He,et),He.return=Qe,He)}function vt(Qe,He,et,Rt){return He===null||He.tag!==4||He.stateNode.containerInfo!==et.containerInfo||He.stateNode.implementation!==et.implementation?(He=Dy(et,Qe.mode,Rt),He.return=Qe,He):(He=Q(He,et.children||[]),He.return=Qe,He)}function Dt(Qe,He,et,Rt,un){return He===null||He.tag!==7?(He=ls(et,Qe.mode,Rt,un),He.return=Qe,He):(He=Q(He,et),He.return=Qe,He)}function Ct(Qe,He,et){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return He=Ny(""+He,Qe.mode,et),He.return=Qe,He;if(typeof He=="object"&&He!==null){switch(He.$$typeof){case Al:return et=Cc(He.type,He.key,He.props,null,Qe.mode,et),rn(et,He),et.return=Qe,et;case Id:return He=Dy(He,Qe.mode,et),He.return=Qe,He;case to:return He=Wt(He),Ct(Qe,He,et)}if(vu(He)||d(He))return He=ls(He,Qe.mode,et,null),He.return=Qe,He;if(typeof He.then=="function")return Ct(Qe,Mt(He),et);if(He.$$typeof===cs)return Ct(Qe,Ee(Qe,He),et);an(Qe,He)}return null}function Vt(Qe,He,et,Rt){var un=He!==null?He.key:null;if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return un!==null?null:De(Qe,He,""+et,Rt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case Al:return et.key===un?tt(Qe,He,et,Rt):null;case Id:return et.key===un?vt(Qe,He,et,Rt):null;case to:return et=Wt(et),Vt(Qe,He,et,Rt)}if(vu(et)||d(et))return un!==null?null:Dt(Qe,He,et,Rt,null);if(typeof et.then=="function")return Vt(Qe,He,Mt(et),Rt);if(et.$$typeof===cs)return Vt(Qe,He,Ee(Qe,et),Rt);an(Qe,et)}return null}function An(Qe,He,et,Rt,un){if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number"||typeof Rt=="bigint")return Qe=Qe.get(et)||null,De(He,Qe,""+Rt,un);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case Al:return Qe=Qe.get(Rt.key===null?et:Rt.key)||null,tt(He,Qe,Rt,un);case Id:return Qe=Qe.get(Rt.key===null?et:Rt.key)||null,vt(He,Qe,Rt,un);case to:return Rt=Wt(Rt),An(Qe,He,et,Rt,un)}if(vu(Rt)||d(Rt))return Qe=Qe.get(et)||null,Dt(He,Qe,Rt,un,null);if(typeof Rt.then=="function")return An(Qe,He,et,Mt(Rt),un);if(Rt.$$typeof===cs)return An(Qe,He,et,Ee(He,Rt),un);an(He,Rt)}return null}function pr(Qe,He,et,Rt){for(var un=null,pi=null,pn=He,ra=He=0,mr=null;pn!==null&&ra<et.length;ra++){pn.index>ra?(mr=pn,pn=null):mr=pn.sibling;var ha=Vt(Qe,pn,et[ra],Rt);if(ha===null){pn===null&&(pn=mr);break}b&&pn&&ha.alternate===null&&x(Qe,pn),He=ae(ha,He,ra),pi===null?un=ha:pi.sibling=ha,pi=ha,pn=mr}if(ra===et.length)return j(Qe,pn),Yn&&Y(Qe,ra),un;if(pn===null){for(;ra<et.length;ra++)pn=Ct(Qe,et[ra],Rt),pn!==null&&(He=ae(pn,He,ra),pi===null?un=pn:pi.sibling=pn,pi=pn);return Yn&&Y(Qe,ra),un}for(pn=B(pn);ra<et.length;ra++)mr=An(pn,Qe,ra,et[ra],Rt),mr!==null&&(b&&mr.alternate!==null&&pn.delete(mr.key===null?ra:mr.key),He=ae(mr,He,ra),pi===null?un=mr:pi.sibling=mr,pi=mr);return b&&pn.forEach(function(vs){return x(Qe,vs)}),Yn&&Y(Qe,ra),un}function yh(Qe,He,et,Rt){if(et==null)throw Error(i(151));for(var un=null,pi=null,pn=He,ra=He=0,mr=null,ha=et.next();pn!==null&&!ha.done;ra++,ha=et.next()){pn.index>ra?(mr=pn,pn=null):mr=pn.sibling;var vs=Vt(Qe,pn,ha.value,Rt);if(vs===null){pn===null&&(pn=mr);break}b&&pn&&vs.alternate===null&&x(Qe,pn),He=ae(vs,He,ra),pi===null?un=vs:pi.sibling=vs,pi=vs,pn=mr}if(ha.done)return j(Qe,pn),Yn&&Y(Qe,ra),un;if(pn===null){for(;!ha.done;ra++,ha=et.next())ha=Ct(Qe,ha.value,Rt),ha!==null&&(He=ae(ha,He,ra),pi===null?un=ha:pi.sibling=ha,pi=ha);return Yn&&Y(Qe,ra),un}for(pn=B(pn);!ha.done;ra++,ha=et.next())ha=An(pn,Qe,ra,ha.value,Rt),ha!==null&&(b&&ha.alternate!==null&&pn.delete(ha.key===null?ra:ha.key),He=ae(ha,He,ra),pi===null?un=ha:pi.sibling=ha,pi=ha);return b&&pn.forEach(function(ET){return x(Qe,ET)}),Yn&&Y(Qe,ra),un}function Ou(Qe,He,et,Rt){if(typeof et=="object"&&et!==null&&et.type===Nd&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case Al:e:{for(var un=et.key;He!==null;){if(He.key===un){if(un=et.type,un===Nd){if(He.tag===7){j(Qe,He.sibling),Rt=Q(He,et.props.children),Rt.return=Qe,Qe=Rt;break e}}else if(He.elementType===un||typeof un=="object"&&un!==null&&un.$$typeof===to&&Wt(un)===He.type){j(Qe,He.sibling),Rt=Q(He,et.props),rn(Rt,et),Rt.return=Qe,Qe=Rt;break e}j(Qe,He);break}else x(Qe,He);He=He.sibling}et.type===Nd?(Rt=ls(et.props.children,Qe.mode,Rt,et.key),Rt.return=Qe,Qe=Rt):(Rt=Cc(et.type,et.key,et.props,null,Qe.mode,Rt),rn(Rt,et),Rt.return=Qe,Qe=Rt)}return be(Qe);case Id:e:{for(un=et.key;He!==null;){if(He.key===un)if(He.tag===4&&He.stateNode.containerInfo===et.containerInfo&&He.stateNode.implementation===et.implementation){j(Qe,He.sibling),Rt=Q(He,et.children||[]),Rt.return=Qe,Qe=Rt;break e}else{j(Qe,He);break}else x(Qe,He);He=He.sibling}Rt=Dy(et,Qe.mode,Rt),Rt.return=Qe,Qe=Rt}return be(Qe);case to:return et=Wt(et),Ou(Qe,He,et,Rt)}if(vu(et))return pr(Qe,He,et,Rt);if(d(et)){if(un=d(et),typeof un!="function")throw Error(i(150));return et=un.call(et),yh(Qe,He,et,Rt)}if(typeof et.then=="function")return Ou(Qe,He,Mt(et),Rt);if(et.$$typeof===cs)return Ou(Qe,He,Ee(Qe,et),Rt);an(Qe,et)}return typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint"?(et=""+et,He!==null&&He.tag===6?(j(Qe,He.sibling),Rt=Q(He,et),Rt.return=Qe,Qe=Rt):(j(Qe,He),Rt=Ny(et,Qe.mode,Rt),Rt.return=Qe,Qe=Rt),be(Qe)):j(Qe,He)}return function(Qe,He,et,Rt){try{Hd=0;var un=Ou(Qe,He,et,Rt);return Eu=null,un}catch(pn){if(pn===nr||pn===bs)throw pn;var pi=n(29,pn,null,Qe.mode);return pi.lanes=Rt,pi.return=Qe,pi}finally{}}}function fa(){for(var b=Dl,x=$d=Dl=0;x<b;){var j=Rr[x];Rr[x++]=null;var B=Rr[x];Rr[x++]=null;var Q=Rr[x];Rr[x++]=null;var ae=Rr[x];if(Rr[x++]=null,B!==null&&Q!==null){var be=B.pending;be===null?Q.next=Q:(Q.next=be.next,be.next=Q),B.pending=Q}ae!==0&&Oa(j,Q,ae)}}function ya(b,x,j,B){Rr[Dl++]=b,Rr[Dl++]=x,Rr[Dl++]=j,Rr[Dl++]=B,$d|=B,b.lanes|=B,b=b.alternate,b!==null&&(b.lanes|=B)}function Ra(b,x,j,B){return ya(b,x,j,B),xa(b)}function Ka(b,x){return ya(b,null,null,x),xa(b)}function Oa(b,x,j){b.lanes|=j;var B=b.alternate;B!==null&&(B.lanes|=j);for(var Q=!1,ae=b.return;ae!==null;)ae.childLanes|=j,B=ae.alternate,B!==null&&(B.childLanes|=j),ae.tag===22&&(b=ae.stateNode,b===null||b._visibility&1||(Q=!0)),b=ae,ae=ae.return;return b.tag===3?(ae=b.stateNode,Q&&x!==null&&(Q=31-So(j),b=ae.hiddenUpdates,B=b[Q],B===null?b[Q]=[x]:B.push(x),x.lane=j|536870912),ae):null}function xa(b){if(50<la)throw la=0,bm=null,Error(i(185));for(var x=b.return;x!==null;)b=x,x=b.return;return b.tag===3?b.stateNode:null}function Ma(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wr(b,x){b=b.updateQueue,x.updateQueue===b&&(x.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,callbacks:null})}function Qi(b){return{lane:b,tag:0,payload:null,callback:null,next:null}}function Xr(b,x,j){var B=b.updateQueue;if(B===null)return null;if(B=B.shared,(Gn&2)!==0){var Q=B.pending;return Q===null?x.next=x:(x.next=Q.next,Q.next=x),B.pending=x,x=xa(b),Oa(b,null,j),x}return ya(b,B,x,j),xa(b)}function gd(b,x,j){if(x=x.updateQueue,x!==null&&(x=x.shared,(j&4194048)!==0)){var B=x.lanes;B&=b.pendingLanes,j|=B,x.lanes=j,O(b,j)}}function jf(b,x){var j=b.updateQueue,B=b.alternate;if(B!==null&&(B=B.updateQueue,j===B)){var Q=null,ae=null;if(j=j.firstBaseUpdate,j!==null){do{var be={lane:j.lane,tag:j.tag,payload:j.payload,callback:null,next:null};ae===null?Q=ae=be:ae=ae.next=be,j=j.next}while(j!==null);ae===null?Q=ae=x:ae=ae.next=x}else Q=ae=x;j={baseState:B.baseState,firstBaseUpdate:Q,lastBaseUpdate:ae,shared:B.shared,callbacks:B.callbacks},b.updateQueue=j;return}b=j.lastBaseUpdate,b===null?j.firstBaseUpdate=x:b.next=x,j.lastBaseUpdate=x}function Fs(){if(X0){var b=tr;if(b!==null)throw b}}function hc(b,x,j,B){X0=!1;var Q=b.updateQueue;$o=!1;var ae=Q.firstBaseUpdate,be=Q.lastBaseUpdate,De=Q.shared.pending;if(De!==null){Q.shared.pending=null;var tt=De,vt=tt.next;tt.next=null,be===null?ae=vt:be.next=vt,be=tt;var Dt=b.alternate;Dt!==null&&(Dt=Dt.updateQueue,De=Dt.lastBaseUpdate,De!==be&&(De===null?Dt.firstBaseUpdate=vt:De.next=vt,Dt.lastBaseUpdate=tt))}if(ae!==null){var Ct=Q.baseState;be=0,Dt=vt=tt=null,De=ae;do{var Vt=De.lane&-536870913,An=Vt!==De.lane;if(An?(Kn&Vt)===Vt:(B&Vt)===Vt){Vt!==0&&Vt===kc&&(X0=!0),Dt!==null&&(Dt=Dt.next={lane:0,tag:De.tag,payload:De.payload,callback:null,next:null});e:{var pr=b,yh=De;Vt=x;var Ou=j;switch(yh.tag){case 1:if(pr=yh.payload,typeof pr=="function"){Ct=pr.call(Ou,Ct,Vt);break e}Ct=pr;break e;case 3:pr.flags=pr.flags&-65537|128;case 0:if(pr=yh.payload,Vt=typeof pr=="function"?pr.call(Ou,Ct,Vt):pr,Vt==null)break e;Ct=_0({},Ct,Vt);break e;case 2:$o=!0}}Vt=De.callback,Vt!==null&&(b.flags|=64,An&&(b.flags|=8192),An=Q.callbacks,An===null?Q.callbacks=[Vt]:An.push(Vt))}else An={lane:Vt,tag:De.tag,payload:De.payload,callback:De.callback,next:null},Dt===null?(vt=Dt=An,tt=Ct):Dt=Dt.next=An,be|=Vt;if(De=De.next,De===null){if(De=Q.shared.pending,De===null)break;An=De,De=An.next,An.next=null,Q.lastBaseUpdate=An,Q.shared.pending=null}}while(!0);Dt===null&&(tt=Ct),Q.baseState=tt,Q.firstBaseUpdate=vt,Q.lastBaseUpdate=Dt,ae===null&&(Q.shared.lanes=0),Nc|=be,b.lanes=be,b.memoizedState=Ct}}function pc(b,x){if(typeof b!="function")throw Error(i(191,b));b.call(x)}function dl(b,x){var j=b.callbacks;if(j!==null)for(b.callbacks=null,b=0;b<j.length;b++)pc(j[b],x)}function ou(b,x){b=Ml,y(Au,b),y(Ud,x),Ml=b|x.baseLanes}function fl(){y(Au,Ml),y(Ud,Ud.current)}function xi(){Ml=Au.current,g(Ud),g(Au)}function Bs(b){var x=b.alternate;y(Si,Si.current&1),y(wo,b),ro===null&&(x===null||Ud.current!==null||x.memoizedState!==null)&&(ro=b)}function Df(b){y(Si,Si.current),y(wo,b),ro===null&&(ro=b)}function hl(b){b.tag===22?(y(Si,Si.current),y(wo,b),ro===null&&(ro=b)):Or()}function Or(){y(Si,Si.current),y(wo,wo.current)}function Qr(b){g(wo),ro===b&&(ro=null),g(Si)}function bd(b){for(var x=b;x!==null;){if(x.tag===13){var j=x.memoizedState;if(j!==null&&(j=j.dehydrated,j===null||Cu(j)||j0(j)))return x}else if(x.tag===19&&(x.memoizedProps.revealOrder==="forwards"||x.memoizedProps.revealOrder==="backwards"||x.memoizedProps.revealOrder==="unstable_legacy-backwards"||x.memoizedProps.revealOrder==="together")){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===b)break;for(;x.sibling===null;){if(x.return===null||x.return===b)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}function Ua(){throw Error(i(321))}function yd(b,x){if(x===null)return!1;for(var j=0;j<x.length&&j<b.length;j++)if(!Oi(b[j],x[j]))return!1;return!0}function Of(b,x,j,B,Q,ae){return Ic=ae,In=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,sn.H=b===null||b.memoizedState===null?di:Ol,ta=!1,ae=j(B,Q),ta=!1,Dn&&(ae=pl(x,j,B,Q)),Np(b),ae}function Np(b){sn.H=Uo;var x=tn!==null&&tn.next!==null;if(Ic=0,yn=tn=In=null,Mn=!1,ys=0,qs=null,x)throw Error(i(300));b===null||Ga||(b=b.dependencies,b!==null&&ze(b)&&(Ga=!0))}function pl(b,x,j,B){In=b;var Q=0;do{if(Dn&&(qs=null),ys=0,Dn=!1,25<=Q)throw Error(i(301));if(Q+=1,yn=tn=null,b.updateQueue!=null){var ae=b.updateQueue;ae.lastEffect=null,ae.events=null,ae.stores=null,ae.memoCache!=null&&(ae.memoCache.index=0)}sn.H=Ru,ae=x(j,B)}while(Dn);return ae}function ns(){var b=sn.H,x=b.useState()[0];return x=typeof x.then=="function"?Pr(x):x,b=b.useState()[0],(tn!==null?tn.memoizedState:null)!==b&&(In.flags|=1024),x}function qg(){var b=Br!==0;return Br=0,b}function ay(b,x,j){x.updateQueue=b.updateQueue,x.flags&=-2053,b.lanes&=~j}function jp(b){if(Mn){for(b=b.memoizedState;b!==null;){var x=b.queue;x!==null&&(x.pending=null),b=b.next}Mn=!1}Ic=0,yn=tn=In=null,Dn=!1,ys=Br=0,qs=null}function Mr(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?In.memoizedState=yn=b:yn=yn.next=b,yn}function Xa(){if(tn===null){var b=In.alternate;b=b!==null?b.memoizedState:null}else b=tn.next;var x=yn===null?In.memoizedState:yn.next;if(x!==null)yn=x,tn=b;else{if(b===null)throw In.alternate===null?Error(i(467)):Error(i(310));tn=b,b={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},yn===null?In.memoizedState=yn=b:yn=yn.next=b}return yn}function Wg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pr(b){var x=ys;return ys+=1,qs===null&&(qs=[]),b=Tn(qs,b,x),x=In,(yn===null?x.memoizedState:yn.next)===null&&(x=x.alternate,sn.H=x===null||x.memoizedState===null?di:Ol),b}function Mf(b){if(b!==null&&typeof b=="object"){if(typeof b.then=="function")return Pr(b);if(b.$$typeof===cs)return Ze(b)}throw Error(i(438,String(b)))}function Vg(b){var x=null,j=In.updateQueue;if(j!==null&&(x=j.memoCache),x==null){var B=In.alternate;B!==null&&(B=B.updateQueue,B!==null&&(B=B.memoCache,B!=null&&(x={data:B.data.map(function(Q){return Q.slice()}),index:0})))}if(x==null&&(x={data:[],index:0}),j===null&&(j=Wg(),In.updateQueue=j),j.memoCache=x,j=x.data[x.index],j===void 0)for(j=x.data[x.index]=Array(b),B=0;B<b;B++)j[B]=My;return x.index++,j}function Hs(b,x){return typeof x=="function"?x(b):x}function mc(b){var x=Xa();return Yg(x,tn,b)}function Yg(b,x,j){var B=b.queue;if(B===null)throw Error(i(311));B.lastRenderedReducer=j;var Q=b.baseQueue,ae=B.pending;if(ae!==null){if(Q!==null){var be=Q.next;Q.next=ae.next,ae.next=be}x.baseQueue=Q=ae,B.pending=null}if(ae=b.baseState,Q===null)b.memoizedState=ae;else{x=Q.next;var De=be=null,tt=null,vt=x,Dt=!1;do{var Ct=vt.lane&-536870913;if(Ct!==vt.lane?(Kn&Ct)===Ct:(Ic&Ct)===Ct){var Vt=vt.revertLane;if(Vt===0)tt!==null&&(tt=tt.next={lane:0,revertLane:0,gesture:null,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null}),Ct===kc&&(Dt=!0);else if((Ic&Vt)===Vt){vt=vt.next,Vt===kc&&(Dt=!0);continue}else Ct={lane:0,revertLane:vt.revertLane,gesture:null,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},tt===null?(De=tt=Ct,be=ae):tt=tt.next=Ct,In.lanes|=Vt,Nc|=Vt;Ct=vt.action,ta&&j(ae,Ct),ae=vt.hasEagerState?vt.eagerState:j(ae,Ct)}else Vt={lane:Ct,revertLane:vt.revertLane,gesture:vt.gesture,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},tt===null?(De=tt=Vt,be=ae):tt=tt.next=Vt,In.lanes|=Ct,Nc|=Ct;vt=vt.next}while(vt!==null&&vt!==x);if(tt===null?be=ae:tt.next=De,!Oi(ae,b.memoizedState)&&(Ga=!0,Dt&&(j=tr,j!==null)))throw j;b.memoizedState=ae,b.baseState=be,b.baseQueue=tt,B.lastRenderedState=ae}return Q===null&&(B.lanes=0),[b.memoizedState,B.dispatch]}function Kg(b){var x=Xa(),j=x.queue;if(j===null)throw Error(i(311));j.lastRenderedReducer=b;var B=j.dispatch,Q=j.pending,ae=x.memoizedState;if(Q!==null){j.pending=null;var be=Q=Q.next;do ae=b(ae,be.action),be=be.next;while(be!==Q);Oi(ae,x.memoizedState)||(Ga=!0),x.memoizedState=ae,x.baseQueue===null&&(x.baseState=ae),j.lastRenderedState=ae}return[ae,B]}function xd(b,x,j){var B=In,Q=Xa(),ae=Yn;if(ae){if(j===void 0)throw Error(i(407));j=j()}else j=x();var be=!Oi((tn||Q).memoizedState,j);if(be&&(Q.memoizedState=j,Ga=!0),Q=Q.queue,zf(ry.bind(null,B,Q,b),[b]),Q.getSnapshot!==x||be||yn!==null&&yn.memoizedState.tag&1){if(B.flags|=2048,Po(9,{destroy:void 0},iy.bind(null,B,Q,j,x),null),Pn===null)throw Error(i(349));ae||(Ic&127)!==0||qS(B,x,j)}return j}function qS(b,x,j){b.flags|=16384,b={getSnapshot:x,value:j},x=In.updateQueue,x===null?(x=Wg(),In.updateQueue=x,x.stores=[b]):(j=x.stores,j===null?x.stores=[b]:j.push(b))}function iy(b,x,j,B){x.value=j,x.getSnapshot=B,Xg(x)&&WS(b)}function ry(b,x,j){return j(function(){Xg(x)&&WS(b)})}function Xg(b){var x=b.getSnapshot;b=b.value;try{var j=x();return!Oi(b,j)}catch{return!0}}function WS(b){var x=Ka(b,2);x!==null&&ci(x,b,2)}function oy(b){var x=Mr();if(typeof b=="function"){var j=b;if(b=j(),ta){$(!0);try{j()}finally{$(!1)}}}return x.memoizedState=x.baseState=b,x.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:b},x}function Dp(b,x,j,B){return b.baseState=j,Yg(b,tn,typeof B=="function"?B:Hs)}function gc(b,x,j,B,Q){if(i0(b))throw Error(i(485));if(b=x.action,b!==null){var ae={payload:Q,action:b,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(be){ae.listeners.push(be)}};sn.T!==null?j(!0):ae.isTransition=!1,B(ae),j=x.pending,j===null?(ae.next=x.pending=ae,Qg(x,ae)):(ae.next=j.next,x.pending=j.next=ae)}}function Qg(b,x){var j=x.action,B=x.payload,Q=b.state;if(x.isTransition){var ae=sn.T,be={};sn.T=be;try{var De=j(Q,B),tt=sn.S;tt!==null&&tt(be,De),Zg(b,x,De)}catch(vt){su(b,x,vt)}finally{ae!==null&&be.types!==null&&(ae.types=be.types),sn.T=ae}}else try{ae=j(Q,B),Zg(b,x,ae)}catch(vt){su(b,x,vt)}}function Zg(b,x,j){j!==null&&typeof j=="object"&&typeof j.then=="function"?j.then(function(B){vd(b,x,B)},function(B){return su(b,x,B)}):vd(b,x,j)}function vd(b,x,j){x.status="fulfilled",x.value=j,sy(x),b.state=j,x=b.pending,x!==null&&(j=x.next,j===x?b.pending=null:(j=j.next,x.next=j,Qg(b,j)))}function su(b,x,j){var B=b.pending;if(b.pending=null,B!==null){B=B.next;do x.status="rejected",x.reason=j,sy(x),x=x.next;while(x!==B)}b.action=null}function sy(b){b=b.listeners;for(var x=0;x<b.length;x++)(0,b[x])()}function Jg(b,x){return x}function ly(b,x){if(Yn){var j=Pn.formState;if(j!==null){e:{var B=In;if(Yn){if(Ja){var Q=B3(Ja,ao);if(Q){Ja=H3(Q),B=ex(Q);break e}}me(B)}B=!1}B&&(x=j[0])}}j=Mr(),j.memoizedState=j.baseState=x,B={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jg,lastRenderedState:x},j.queue=B,j=ZS.bind(null,In,B),B.dispatch=j,B=oy(!1);var ae=a0.bind(null,In,!1,B.queue);return B=Mr(),Q={state:x,dispatch:null,action:b,pending:null},B.queue=Q,j=gc.bind(null,In,Q,ae,j),Q.dispatch=j,B.memoizedState=b,[x,j,!1]}function Pf(b){var x=Xa();return ml(x,tn,b)}function ml(b,x,j){if(x=Yg(b,x,Jg)[0],b=mc(Hs)[0],typeof x=="object"&&x!==null&&typeof x.then=="function")try{var B=Pr(x)}catch(be){throw be===nr?bs:be}else B=x;x=Xa();var Q=x.queue,ae=Q.dispatch;return j!==x.memoizedState&&(In.flags|=2048,Po(9,{destroy:void 0},cy.bind(null,Q,j),null)),[B,ae,b]}function cy(b,x){b.action=x}function Lf(b){var x=Xa(),j=tn;if(j!==null)return ml(x,j,b);Xa(),x=x.memoizedState,j=Xa();var B=j.queue.dispatch;return j.memoizedState=b,[x,B,!1]}function Po(b,x,j,B){return b={tag:b,create:j,deps:B,inst:x,next:null},x=In.updateQueue,x===null&&(x=Wg(),In.updateQueue=x),j=x.lastEffect,j===null?x.lastEffect=b.next=b:(B=j.next,j.next=b,b.next=B,x.lastEffect=b),b}function e0(){return Xa().memoizedState}function Sd(b,x,j,B){var Q=Mr();In.flags|=b,Q.memoizedState=Po(1|x,{destroy:void 0},j,B===void 0?null:B)}function Op(b,x,j,B){var Q=Xa();B=B===void 0?null:B;var ae=Q.memoizedState.inst;tn!==null&&B!==null&&yd(B,tn.memoizedState.deps)?Q.memoizedState=Po(x,ae,j,B):(In.flags|=b,Q.memoizedState=Po(1|x,ae,j,B))}function Mp(b,x){Sd(8390656,8,b,x)}function zf(b,x){Op(2048,8,b,x)}function VS(b){In.flags|=4;var x=In.updateQueue;if(x===null)x=Wg(),In.updateQueue=x,x.events=[b];else{var j=x.events;j===null?x.events=[b]:j.push(b)}}function Zr(b){var x=Xa().memoizedState;return VS({ref:x,nextImpl:b}),function(){if((Gn&2)!==0)throw Error(i(440));return x.impl.apply(void 0,arguments)}}function lu(b,x){return Op(4,2,b,x)}function Pp(b,x){return Op(4,4,b,x)}function Ff(b,x){if(typeof x=="function"){b=b();var j=x(b);return function(){typeof j=="function"?j():x(null)}}if(x!=null)return b=b(),x.current=b,function(){x.current=null}}function YS(b,x,j){j=j!=null?j.concat([b]):null,Op(4,4,Ff.bind(null,x,b),j)}function Lp(){}function t0(b,x){var j=Xa();x=x===void 0?null:x;var B=j.memoizedState;return x!==null&&yd(x,B[1])?B[0]:(j.memoizedState=[b,x],b)}function Bf(b,x){var j=Xa();x=x===void 0?null:x;var B=j.memoizedState;if(x!==null&&yd(x,B[1]))return B[0];if(B=b(),ta){$(!0);try{b()}finally{$(!1)}}return j.memoizedState=[B,x],B}function Hf(b,x,j){return j===void 0||(Ic&1073741824)!==0&&(Kn&261930)===0?b.memoizedState=x:(b.memoizedState=j,b=xc(),In.lanes|=b,Nc|=b,j)}function uy(b,x,j,B){return Oi(j,x)?j:Ud.current!==null?(b=Hf(b,j,B),Oi(b,x)||(Ga=!0),b):(Ic&42)===0||(Ic&1073741824)!==0&&(Kn&261930)===0?(Ga=!0,b.memoizedState=j):(b=xc(),In.lanes|=b,Nc|=b,x)}function KS(b,x,j,B,Q){var ae=us();Vn(ae!==0&&8>ae?ae:8);var be=sn.T,De={};sn.T=De,a0(b,!1,x,j);try{var tt=Q(),vt=sn.S;if(vt!==null&&vt(De,tt),tt!==null&&typeof tt=="object"&&typeof tt.then=="function"){var Dt=jn(tt,B);zp(b,x,Dt,Qa(b))}else zp(b,x,B,Qa(b))}catch(Ct){zp(b,x,{then:function(){},status:"rejected",reason:Ct},Qa())}finally{Vn(ae),be!==null&&De.types!==null&&(be.types=De.types),sn.T=be}}function XS(b){var x=b.memoizedState;if(x!==null)return x;x={memoizedState:Md,baseState:Md,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:Md},next:null};var j={};return x.next={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:j},next:null},b.memoizedState=x,b=b.alternate,b!==null&&(b.memoizedState=x),x}function dy(){return Ze(Pd)}function n0(){return Xa().memoizedState}function QS(){return Xa().memoizedState}function pT(b){for(var x=b.return;x!==null;){switch(x.tag){case 24:case 3:var j=Qa();b=Qi(j);var B=Xr(x,b,j);B!==null&&(ci(B,x,j),gd(B,x,j)),x={cache:ve()},b.payload=x;return}x=x.return}}function mT(b,x,j){var B=Qa();j={lane:B,revertLane:0,gesture:null,action:j,hasEagerState:!1,eagerState:null,next:null},i0(b)?JS(x,j):(j=Ra(b,x,j,B),j!==null&&(ci(j,b,B),e3(j,x,B)))}function ZS(b,x,j){var B=Qa();zp(b,x,j,B)}function zp(b,x,j,B){var Q={lane:B,revertLane:0,gesture:null,action:j,hasEagerState:!1,eagerState:null,next:null};if(i0(b))JS(x,Q);else{var ae=b.alternate;if(b.lanes===0&&(ae===null||ae.lanes===0)&&(ae=x.lastRenderedReducer,ae!==null))try{var be=x.lastRenderedState,De=ae(be,j);if(Q.hasEagerState=!0,Q.eagerState=De,Oi(De,be))return ya(b,x,Q,0),Pn===null&&fa(),!1}catch{}finally{}if(j=Ra(b,x,Q,B),j!==null)return ci(j,b,B),e3(j,x,B),!0}return!1}function a0(b,x,j,B){if(B={lane:2,revertLane:Xt(),gesture:null,action:B,hasEagerState:!1,eagerState:null,next:null},i0(b)){if(x)throw Error(i(479))}else x=Ra(b,j,B,2),x!==null&&ci(x,b,2)}function i0(b){var x=b.alternate;return b===In||x!==null&&x===In}function JS(b,x){Dn=Mn=!0;var j=b.pending;j===null?x.next=x:(x.next=j.next,j.next=x),b.pending=x}function e3(b,x,j){if((j&4194048)!==0){var B=x.lanes;B&=b.pendingLanes,j|=B,x.lanes=j,O(b,j)}}function fy(b,x,j,B){x=b.memoizedState,j=j(B,x),j=j==null?x:_0({},x,j),b.memoizedState=j,b.lanes===0&&(b.updateQueue.baseState=j)}function r0(b,x,j,B,Q,ae,be){return b=b.stateNode,typeof b.shouldComponentUpdate=="function"?b.shouldComponentUpdate(B,ae,be):x.prototype&&x.prototype.isPureReactComponent?!hn(j,B)||!hn(Q,ae):!0}function t3(b,x,j,B){b=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(j,B),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(j,B),x.state!==b&&fm.enqueueReplaceState(x,x.state,null)}function Cd(b,x){var j=x;if("ref"in x){j={};for(var B in x)B!=="ref"&&(j[B]=x[B])}if(b=b.defaultProps){j===x&&(j=_0({},j));for(var Q in b)j[Q]===void 0&&(j[Q]=b[Q])}return j}function o0(b,x){try{var j=b.onUncaughtError;j(x.value,{componentStack:x.stack})}catch(B){setTimeout(function(){throw B})}}function hy(b,x,j){try{var B=b.onCaughtError;B(j.value,{componentStack:j.stack,errorBoundary:x.tag===1?x.stateNode:null})}catch(Q){setTimeout(function(){throw Q})}}function py(b,x,j){return j=Qi(j),j.tag=3,j.payload={element:null},j.callback=function(){o0(b,x)},j}function n3(b){return b=Qi(b),b.tag=3,b}function a3(b,x,j,B){var Q=j.type.getDerivedStateFromError;if(typeof Q=="function"){var ae=B.value;b.payload=function(){return Q(ae)},b.callback=function(){hy(x,j,B)}}var be=j.stateNode;be!==null&&typeof be.componentDidCatch=="function"&&(b.callback=function(){hy(x,j,B),typeof Q!="function"&&(jc===null?jc=new Set([this]):jc.add(this));var De=B.stack;this.componentDidCatch(B.value,{componentStack:De!==null?De:""})})}function gT(b,x,j,B,Q){if(j.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){if(x=j.alternate,x!==null&&Ie(x,j,Q,!0),j=wo.current,j!==null){switch(j.tag){case 31:case 13:return ro===null?Zf():j.alternate===null&&hi===0&&(hi=3),j.flags&=-257,j.flags|=65536,j.lanes=Q,B===jl?j.flags|=16384:(x=j.updateQueue,x===null?j.updateQueue=new Set([B]):x.add(B),th(b,B,Q)),!1;case 22:return j.flags|=65536,B===jl?j.flags|=16384:(x=j.updateQueue,x===null?(x={transitions:null,markerInstances:null,retryQueue:new Set([B])},j.updateQueue=x):(j=x.retryQueue,j===null?x.retryQueue=new Set([B]):j.add(B)),th(b,B,Q)),!1}throw Error(i(435,j.tag))}return th(b,B,Q),Zf(),!1}if(Yn)return x=wo.current,x!==null?((x.flags&65536)===0&&(x.flags|=256),x.flags|=65536,x.lanes=Q,B!==V0&&(b=Error(i(422),{cause:B}),oe(V(b,j)))):(B!==V0&&(x=Error(i(423),{cause:B}),oe(V(x,j))),b=b.current.alternate,b.flags|=65536,Q&=-Q,b.lanes|=Q,B=V(B,j),Q=py(b.stateNode,B,Q),jf(b,Q),hi!==4&&(hi=2)),!1;var ae=Error(i(520),{cause:B});if(ae=V(ae,j),pm===null?pm=[ae]:pm.push(ae),hi!==4&&(hi=2),x===null)return!0;B=V(B,j),j=x;do{switch(j.tag){case 3:return j.flags|=65536,b=Q&-Q,j.lanes|=b,b=py(j.stateNode,B,b),jf(j,b),!1;case 1:if(x=j.type,ae=j.stateNode,(j.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(jc===null||!jc.has(ae))))return j.flags|=65536,Q&=-Q,j.lanes|=Q,Q=n3(Q),a3(Q,b,j,B),jf(j,Q),!1}j=j.return}while(j!==null);return!1}function _r(b,x,j,B){x.child=b===null?yx(x,null,j,B):Ar(x,b.child,j,B)}function i3(b,x,j,B,Q){j=j.render;var ae=x.ref;if("ref"in B){var be={};for(var De in B)De!=="ref"&&(be[De]=B[De])}else be=B;return Me(x),B=Of(b,x,j,be,ae,Q),De=qg(),b!==null&&!Ga?(ay(b,x,Q),gl(b,x,Q)):(Yn&&De&&J(x),x.flags|=1,_r(b,x,B,Q),x.child)}function r3(b,x,j,B,Q){if(b===null){var ae=j.type;return typeof ae=="function"&&!Ad(ae)&&ae.defaultProps===void 0&&j.compare===null?(x.tag=15,x.type=ae,o3(b,x,ae,B,Q)):(b=Cc(j.type,null,B,x,x.mode,Q),b.ref=x.ref,b.return=x,x.child=b)}if(ae=b.child,!Bp(b,Q)){var be=ae.memoizedProps;if(j=j.compare,j=j!==null?j:hn,j(be,B)&&b.ref===x.ref)return gl(b,x,Q)}return x.flags|=1,b=Fo(ae,B),b.ref=x.ref,b.return=x,x.child=b}function o3(b,x,j,B,Q){if(b!==null){var ae=b.memoizedProps;if(hn(ae,B)&&b.ref===x.ref)if(Ga=!1,x.pendingProps=B=ae,Bp(b,Q))(b.flags&131072)!==0&&(Ga=!0);else return x.lanes=b.lanes,gl(b,x,Q)}return l0(b,x,j,B,Q)}function s3(b,x,j,B){var Q=B.children,ae=b!==null?b.memoizedState:null;if(b===null&&x.stateNode===null&&(x.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),B.mode==="hidden"){if((x.flags&128)!==0){if(ae=ae!==null?ae.baseLanes|j:j,b!==null){for(B=x.child=b.child,Q=0;B!==null;)Q=Q|B.lanes|B.childLanes,B=B.sibling;B=Q&~ae}else B=0,x.child=null;return $f(b,x,ae,j,B)}if((j&536870912)!==0)x.memoizedState={baseLanes:0,cachePool:null},b!==null&&Kt(x,ae!==null?ae.cachePool:null),ae!==null?ou(x,ae):fl(),hl(x);else return B=x.lanes=536870912,$f(b,x,ae!==null?ae.baseLanes|j:j,j,B)}else ae!==null?(Kt(x,ae.cachePool),ou(x,ae),Or(),x.memoizedState=null):(b!==null&&Kt(x,null),fl(),Or());return _r(b,x,Q,j),x.child}function wd(b,x){return b!==null&&b.tag===22||x.stateNode!==null||(x.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.sibling}function $f(b,x,j,B,Q){var ae=ea();return ae=ae===null?null:{parent:ji?ei._currentValue:ei._currentValue2,pool:ae},x.memoizedState={baseLanes:j,cachePool:ae},b!==null&&Kt(x,null),fl(),hl(x),b!==null&&Ie(b,x,B,!0),x.childLanes=Q,null}function s0(b,x){return x=cu({mode:x.mode,children:x.children},b.mode),x.ref=b.ref,b.child=x,x.return=b,x}function my(b,x,j){return Ar(x,b.child,null,j),b=s0(x,x.pendingProps),b.flags|=2,Qr(x),x.memoizedState=null,b}function l3(b,x,j){var B=x.pendingProps,Q=(x.flags&128)!==0;if(x.flags&=-129,b===null){if(Yn){if(B.mode==="hidden")return b=s0(x,B),x.lanes=536870912,wd(null,b);if(Df(x),(b=Ja)?(b=nx(b,ao),b!==null&&(x.memoizedState={dehydrated:b,treeContext:hs!==null?{id:Tr,overflow:Us}:null,retryLane:536870912,hydrationErrors:null},j=jy(b),j.return=x,x.child=j,er=x,Ja=null)):b=null,b===null)throw me(x);return x.lanes=536870912,null}return s0(x,B)}var ae=b.memoizedState;if(ae!==null){var be=ae.dehydrated;if(Df(x),Q)if(x.flags&256)x.flags&=-257,x=my(b,x,j);else if(x.memoizedState!==null)x.child=b.child,x.flags|=128,x=null;else throw Error(i(558));else if(Ga||Ie(b,x,j,!1),Q=(j&b.childLanes)!==0,Ga||Q){if(B=Pn,B!==null&&(be=D(B,j),be!==0&&be!==ae.retryLane))throw ae.retryLane=be,Ka(b,be),ci(B,b,be),oo;Zf(),x=my(b,x,j)}else b=ae.treeContext,Za&&(Ja=q3(be),er=x,Yn=!0,Nl=null,ao=!1,b!==null&&te(x,b)),x=s0(x,B),x.flags|=4096;return x}return b=Fo(b.child,{mode:B.mode,children:B.children}),b.ref=x.ref,x.child=b,b.return=x,b}function Fp(b,x){var j=x.ref;if(j===null)b!==null&&b.ref!==null&&(x.flags|=4194816);else{if(typeof j!="function"&&typeof j!="object")throw Error(i(284));(b===null||b.ref!==j)&&(x.flags|=4194816)}}function l0(b,x,j,B,Q){return Me(x),j=Of(b,x,j,B,void 0,Q),B=qg(),b!==null&&!Ga?(ay(b,x,Q),gl(b,x,Q)):(Yn&&B&&J(x),x.flags|=1,_r(b,x,j,Q),x.child)}function gy(b,x,j,B,Q,ae){return Me(x),x.updateQueue=null,j=pl(x,B,j,Q),Np(b),B=qg(),b!==null&&!Ga?(ay(b,x,ae),gl(b,x,ae)):(Yn&&B&&J(x),x.flags|=1,_r(b,x,j,ae),x.child)}function _d(b,x,j,B,Q){if(Me(x),x.stateNode===null){var ae=Rl,be=j.contextType;typeof be=="object"&&be!==null&&(ae=Ze(be)),ae=new j(B,ae),x.memoizedState=ae.state!==null&&ae.state!==void 0?ae.state:null,ae.updater=fm,x.stateNode=ae,ae._reactInternals=x,ae=x.stateNode,ae.props=B,ae.state=x.memoizedState,ae.refs={},Ma(x),be=j.contextType,ae.context=typeof be=="object"&&be!==null?Ze(be):Rl,ae.state=x.memoizedState,be=j.getDerivedStateFromProps,typeof be=="function"&&(fy(x,j,be,B),ae.state=x.memoizedState),typeof j.getDerivedStateFromProps=="function"||typeof ae.getSnapshotBeforeUpdate=="function"||typeof ae.UNSAFE_componentWillMount!="function"&&typeof ae.componentWillMount!="function"||(be=ae.state,typeof ae.componentWillMount=="function"&&ae.componentWillMount(),typeof ae.UNSAFE_componentWillMount=="function"&&ae.UNSAFE_componentWillMount(),be!==ae.state&&fm.enqueueReplaceState(ae,ae.state,null),hc(x,B,ae,Q),Fs(),ae.state=x.memoizedState),typeof ae.componentDidMount=="function"&&(x.flags|=4194308),B=!0}else if(b===null){ae=x.stateNode;var De=x.memoizedProps,tt=Cd(j,De);ae.props=tt;var vt=ae.context,Dt=j.contextType;be=Rl,typeof Dt=="object"&&Dt!==null&&(be=Ze(Dt));var Ct=j.getDerivedStateFromProps;Dt=typeof Ct=="function"||typeof ae.getSnapshotBeforeUpdate=="function",De=x.pendingProps!==De,Dt||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(De||vt!==be)&&t3(x,ae,B,be),$o=!1;var Vt=x.memoizedState;ae.state=Vt,hc(x,B,ae,Q),Fs(),vt=x.memoizedState,De||Vt!==vt||$o?(typeof Ct=="function"&&(fy(x,j,Ct,B),vt=x.memoizedState),(tt=$o||r0(x,j,tt,B,Vt,vt,be))?(Dt||typeof ae.UNSAFE_componentWillMount!="function"&&typeof ae.componentWillMount!="function"||(typeof ae.componentWillMount=="function"&&ae.componentWillMount(),typeof ae.UNSAFE_componentWillMount=="function"&&ae.UNSAFE_componentWillMount()),typeof ae.componentDidMount=="function"&&(x.flags|=4194308)):(typeof ae.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=B,x.memoizedState=vt),ae.props=B,ae.state=vt,ae.context=be,B=tt):(typeof ae.componentDidMount=="function"&&(x.flags|=4194308),B=!1)}else{ae=x.stateNode,wr(b,x),be=x.memoizedProps,Dt=Cd(j,be),ae.props=Dt,Ct=x.pendingProps,Vt=ae.context,vt=j.contextType,tt=Rl,typeof vt=="object"&&vt!==null&&(tt=Ze(vt)),De=j.getDerivedStateFromProps,(vt=typeof De=="function"||typeof ae.getSnapshotBeforeUpdate=="function")||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(be!==Ct||Vt!==tt)&&t3(x,ae,B,tt),$o=!1,Vt=x.memoizedState,ae.state=Vt,hc(x,B,ae,Q),Fs();var An=x.memoizedState;be!==Ct||Vt!==An||$o||b!==null&&b.dependencies!==null&&ze(b.dependencies)?(typeof De=="function"&&(fy(x,j,De,B),An=x.memoizedState),(Dt=$o||r0(x,j,Dt,B,Vt,An,tt)||b!==null&&b.dependencies!==null&&ze(b.dependencies))?(vt||typeof ae.UNSAFE_componentWillUpdate!="function"&&typeof ae.componentWillUpdate!="function"||(typeof ae.componentWillUpdate=="function"&&ae.componentWillUpdate(B,An,tt),typeof ae.UNSAFE_componentWillUpdate=="function"&&ae.UNSAFE_componentWillUpdate(B,An,tt)),typeof ae.componentDidUpdate=="function"&&(x.flags|=4),typeof ae.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof ae.componentDidUpdate!="function"||be===b.memoizedProps&&Vt===b.memoizedState||(x.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||be===b.memoizedProps&&Vt===b.memoizedState||(x.flags|=1024),x.memoizedProps=B,x.memoizedState=An),ae.props=B,ae.state=An,ae.context=tt,B=Dt):(typeof ae.componentDidUpdate!="function"||be===b.memoizedProps&&Vt===b.memoizedState||(x.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||be===b.memoizedProps&&Vt===b.memoizedState||(x.flags|=1024),B=!1)}return ae=B,Fp(b,x),B=(x.flags&128)!==0,ae||B?(ae=x.stateNode,j=B&&typeof j.getDerivedStateFromError!="function"?null:ae.render(),x.flags|=1,b!==null&&B?(x.child=Ar(x,b.child,null,Q),x.child=Ar(x,null,j,Q)):_r(b,x,j,Q),x.memoizedState=ae.state,b=x.child):b=gl(b,x,Q),b}function c3(b,x,j,B){return de(),x.flags|=256,_r(b,x,j,B),x.child}function by(b){return{baseLanes:b,cachePool:Ht()}}function yy(b,x,j){return b=b!==null?b.childLanes&~j:0,x&&(b|=so),b}function xy(b,x,j){var B=x.pendingProps,Q=!1,ae=(x.flags&128)!==0,be;if((be=ae)||(be=b!==null&&b.memoizedState===null?!1:(Si.current&2)!==0),be&&(Q=!0,x.flags&=-129),be=(x.flags&32)!==0,x.flags&=-33,b===null){if(Yn){if(Q?Bs(x):Or(),(b=Ja)?(b=K3(b,ao),b!==null&&(x.memoizedState={dehydrated:b,treeContext:hs!==null?{id:Tr,overflow:Us}:null,retryLane:536870912,hydrationErrors:null},j=jy(b),j.return=x,x.child=j,er=x,Ja=null)):b=null,b===null)throw me(x);return j0(b)?x.lanes=32:x.lanes=536870912,null}var De=B.children;return B=B.fallback,Q?(Or(),Q=x.mode,De=cu({mode:"hidden",children:De},Q),B=ls(B,Q,j,null),De.return=x,B.return=x,De.sibling=B,x.child=De,B=x.child,B.memoizedState=by(j),B.childLanes=yy(b,be,j),x.memoizedState=Gd,wd(null,B)):(Bs(x),c0(x,De))}var tt=b.memoizedState;if(tt!==null&&(De=tt.dehydrated,De!==null)){if(ae)x.flags&256?(Bs(x),x.flags&=-257,x=Td(b,x,j)):x.memoizedState!==null?(Or(),x.child=b.child,x.flags|=128,x=null):(Or(),De=B.fallback,Q=x.mode,B=cu({mode:"visible",children:B.children},Q),De=ls(De,Q,j,null),De.flags|=2,B.return=x,De.return=x,B.sibling=De,x.child=B,Ar(x,b.child,null,j),B=x.child,B.memoizedState=by(j),B.childLanes=yy(b,be,j),x.memoizedState=Gd,x=wd(null,B));else if(Bs(x),j0(De))be=D0(De).digest,B=Error(i(419)),B.stack="",B.digest=be,oe({value:B,source:null,stack:null}),x=Td(b,x,j);else if(Ga||Ie(b,x,j,!1),be=(j&b.childLanes)!==0,Ga||be){if(be=Pn,be!==null&&(B=D(be,j),B!==0&&B!==tt.retryLane))throw tt.retryLane=B,Ka(b,B),ci(be,b,B),oo;Cu(De)||Zf(),x=Td(b,x,j)}else Cu(De)?(x.flags|=192,x.child=b.child,x=null):(b=tt.treeContext,Za&&(Ja=W3(De),er=x,Yn=!0,Nl=null,ao=!1,b!==null&&te(x,b)),x=c0(x,B.children),x.flags|=4096);return x}return Q?(Or(),De=B.fallback,Q=x.mode,tt=b.child,ae=tt.sibling,B=Fo(tt,{mode:"hidden",children:B.children}),B.subtreeFlags=tt.subtreeFlags&65011712,ae!==null?De=Fo(ae,De):(De=ls(De,Q,j,null),De.flags|=2),De.return=x,B.return=x,B.sibling=De,x.child=B,wd(null,B),B=x.child,De=b.child.memoizedState,De===null?De=by(j):(Q=De.cachePool,Q!==null?(tt=ji?ei._currentValue:ei._currentValue2,Q=Q.parent!==tt?{parent:tt,pool:tt}:Q):Q=Ht(),De={baseLanes:De.baseLanes|j,cachePool:Q}),B.memoizedState=De,B.childLanes=yy(b,be,j),x.memoizedState=Gd,wd(b.child,B)):(Bs(x),j=b.child,b=j.sibling,j=Fo(j,{mode:"visible",children:B.children}),j.return=x,j.sibling=null,b!==null&&(be=x.deletions,be===null?(x.deletions=[b],x.flags|=16):be.push(b)),x.child=j,x.memoizedState=null,j)}function c0(b,x){return x=cu({mode:"visible",children:x},b.mode),x.return=b,b.child=x}function cu(b,x){return b=n(22,b,null,x),b.lanes=0,b}function Td(b,x,j){return Ar(x,b.child,null,j),b=c0(x,x.pendingProps.children),b.flags|=2,x.memoizedState=null,b}function u3(b,x,j){b.lanes|=x;var B=b.alternate;B!==null&&(B.lanes|=x),Se(b.return,x,j)}function Uf(b,x,j,B,Q,ae){var be=b.memoizedState;be===null?b.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:B,tail:j,tailMode:Q,treeForkCount:ae}:(be.isBackwards=x,be.rendering=null,be.renderingStartTime=0,be.last=B,be.tail=j,be.tailMode=Q,be.treeForkCount=ae)}function vy(b,x,j){var B=x.pendingProps,Q=B.revealOrder,ae=B.tail;B=B.children;var be=Si.current,De=(be&2)!==0;if(De?(be=be&1|2,x.flags|=128):be&=1,y(Si,be),_r(b,x,B,j),B=Yn?cm:0,!De&&b!==null&&(b.flags&128)!==0)e:for(b=x.child;b!==null;){if(b.tag===13)b.memoizedState!==null&&u3(b,j,x);else if(b.tag===19)u3(b,j,x);else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===x)break e;for(;b.sibling===null;){if(b.return===null||b.return===x)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}switch(Q){case"forwards":for(j=x.child,Q=null;j!==null;)b=j.alternate,b!==null&&bd(b)===null&&(Q=j),j=j.sibling;j=Q,j===null?(Q=x.child,x.child=null):(Q=j.sibling,j.sibling=null),Uf(x,!1,Q,j,ae,B);break;case"backwards":case"unstable_legacy-backwards":for(j=null,Q=x.child,x.child=null;Q!==null;){if(b=Q.alternate,b!==null&&bd(b)===null){x.child=Q;break}b=Q.sibling,Q.sibling=j,j=Q,Q=b}Uf(x,!0,j,null,ae,B);break;case"together":Uf(x,!1,null,null,void 0,B);break;default:x.memoizedState=null}return x.child}function gl(b,x,j){if(b!==null&&(x.dependencies=b.dependencies),Nc|=x.lanes,(j&x.childLanes)===0)if(b!==null){if(Ie(b,x,j,!1),(j&x.childLanes)===0)return null}else return null;if(b!==null&&x.child!==b.child)throw Error(i(153));if(x.child!==null){for(b=x.child,j=Fo(b,b.pendingProps),x.child=j,j.return=x;b.sibling!==null;)b=b.sibling,j=j.sibling=Fo(b,b.pendingProps),j.return=x;j.sibling=null}return x.child}function Bp(b,x){return(b.lanes&x)!==0?!0:(b=b.dependencies,!!(b!==null&&ze(b)))}function Sy(b,x,j){switch(x.tag){case 3:re(x,x.stateNode.containerInfo),ue(x,ei,b.memoizedState.cache),de();break;case 27:case 5:ce(x);break;case 4:re(x,x.stateNode.containerInfo);break;case 10:ue(x,x.type,x.memoizedProps.value);break;case 31:if(x.memoizedState!==null)return x.flags|=128,Df(x),null;break;case 13:var B=x.memoizedState;if(B!==null)return B.dehydrated!==null?(Bs(x),x.flags|=128,null):(j&x.child.childLanes)!==0?xy(b,x,j):(Bs(x),b=gl(b,x,j),b!==null?b.sibling:null);Bs(x);break;case 19:var Q=(b.flags&128)!==0;if(B=(j&x.childLanes)!==0,B||(Ie(b,x,j,!1),B=(j&x.childLanes)!==0),Q){if(B)return vy(b,x,j);x.flags|=128}if(Q=x.memoizedState,Q!==null&&(Q.rendering=null,Q.tail=null,Q.lastEffect=null),y(Si,Si.current),B)break;return null;case 22:return x.lanes=0,s3(b,x,j,x.pendingProps);case 24:ue(x,ei,b.memoizedState.cache)}return gl(b,x,j)}function Cy(b,x,j){if(b!==null)if(b.memoizedProps!==x.pendingProps)Ga=!0;else{if(!Bp(b,j)&&(x.flags&128)===0)return Ga=!1,Sy(b,x,j);Ga=(b.flags&131072)!==0}else Ga=!1,Yn&&(x.flags&1048576)!==0&&K(x,cm,x.index);switch(x.lanes=0,x.tag){case 16:e:{var B=x.pendingProps;if(b=Wt(x.elementType),x.type=b,typeof b=="function")Ad(b)?(B=Cd(b,B),x.tag=1,x=_d(null,x,b,B,j)):(x.tag=0,x=l0(null,x,b,B,j));else{if(b!=null){var Q=b.$$typeof;if(Q===nh){x.tag=11,x=i3(null,x,b,B,j);break e}else if(Q===E0){x.tag=14,x=r3(null,x,b,B,j);break e}}throw x=h(b)||b,Error(i(306,x,""))}}return x;case 0:return l0(b,x,x.type,x.pendingProps,j);case 1:return B=x.type,Q=Cd(B,x.pendingProps),_d(b,x,B,Q,j);case 3:e:{if(re(x,x.stateNode.containerInfo),b===null)throw Error(i(387));var ae=x.pendingProps;Q=x.memoizedState,B=Q.element,wr(b,x),hc(x,ae,null,j);var be=x.memoizedState;if(ae=be.cache,ue(x,ei,ae),ae!==Q.cache&&_e(x,[ei],j,!0),Fs(),ae=be.element,Za&&Q.isDehydrated)if(Q={element:ae,isDehydrated:!1,cache:be.cache},x.updateQueue.baseState=Q,x.memoizedState=Q,x.flags&256){x=c3(b,x,ae,j);break e}else if(ae!==B){B=V(Error(i(424)),x),oe(B),x=c3(b,x,ae,j);break e}else for(Za&&(Ja=G3(x.stateNode.containerInfo),er=x,Yn=!0,Nl=null,ao=!0),j=yx(x,null,ae,j),x.child=j;j;)j.flags=j.flags&-3|4096,j=j.sibling;else{if(de(),ae===B){x=gl(b,x,j);break e}_r(b,x,ae,j)}x=x.child}return x;case 26:if(ds)return Fp(b,x),b===null?(j=sx(x.type,null,x.pendingProps,null))?x.memoizedState=j:Yn||(x.stateNode=L0(x.type,x.pendingProps,Er.current,x)):x.memoizedState=sx(x.type,b.memoizedProps,x.pendingProps,b.memoizedState),null;case 27:if(Ji)return ce(x),b===null&&Ji&&Yn&&(B=x.stateNode=z0(x.type,x.pendingProps,Er.current,fr.current,!1),er=x,ao=!0,Ja=tx(x.type,B,Ja)),_r(b,x,x.pendingProps.children,j),Fp(b,x),b===null&&(x.flags|=4194304),x.child;case 5:return b===null&&Yn&&(iC(x.type,x.pendingProps,fr.current),(Q=B=Ja)&&(B=V3(B,x.type,x.pendingProps,ao),B!==null?(x.stateNode=B,er=x,Ja=U3(B),ao=!1,Q=!0):Q=!1),Q||me(x)),ce(x),Q=x.type,ae=x.pendingProps,be=b!==null?b.memoizedProps:null,B=ae.children,no(Q,ae)?B=null:be!==null&&no(Q,be)&&(x.flags|=32),x.memoizedState!==null&&(Q=Of(b,x,ns,null,null,j),ji?Pd._currentValue=Q:Pd._currentValue2=Q),Fp(b,x),_r(b,x,B,j),x.child;case 6:return b===null&&Yn&&(ox(x.pendingProps,fr.current),(b=j=Ja)&&(j=Y3(j,x.pendingProps,ao),j!==null?(x.stateNode=j,er=x,Ja=null,b=!0):b=!1),b||me(x)),null;case 13:return xy(b,x,j);case 4:return re(x,x.stateNode.containerInfo),B=x.pendingProps,b===null?x.child=Ar(x,null,B,j):_r(b,x,B,j),x.child;case 11:return i3(b,x,x.type,x.pendingProps,j);case 7:return _r(b,x,x.pendingProps,j),x.child;case 8:return _r(b,x,x.pendingProps.children,j),x.child;case 12:return _r(b,x,x.pendingProps.children,j),x.child;case 10:return B=x.pendingProps,ue(x,x.type,B.value),_r(b,x,B.children,j),x.child;case 9:return Q=x.type._context,B=x.pendingProps.children,Me(x),Q=Ze(Q),B=B(Q),x.flags|=1,_r(b,x,B,j),x.child;case 14:return r3(b,x,x.type,x.pendingProps,j);case 15:return o3(b,x,x.type,x.pendingProps,j);case 19:return vy(b,x,j);case 31:return l3(b,x,j);case 22:return s3(b,x,j,x.pendingProps);case 24:return Me(x),B=Ze(ei),b===null?(Q=ea(),Q===null&&(Q=Pn,ae=ve(),Q.pooledCache=ae,ae.refCount++,ae!==null&&(Q.pooledCacheLanes|=j),Q=ae),x.memoizedState={parent:B,cache:Q},Ma(x),ue(x,ei,Q)):((b.lanes&j)!==0&&(wr(b,x),hc(x,null,null,j),Fs()),Q=b.memoizedState,ae=x.memoizedState,Q.parent!==B?(Q={parent:B,cache:B},x.memoizedState=Q,x.lanes===0&&(x.memoizedState=x.updateQueue.baseState=Q),ue(x,ei,B)):(B=ae.cache,ue(x,ei,B),B!==Q.cache&&_e(x,[ei],j,!0))),_r(b,x,x.pendingProps.children,j),x.child;case 29:throw x.pendingProps}throw Error(i(156,x.tag))}function as(b){b.flags|=4}function Hp(b){Bo&&(b.flags|=8)}function d3(b,x){if(b!==null&&b.child===x.child)return!1;if((x.flags&16)!==0)return!0;for(b=x.child;b!==null;){if((b.flags&8218)!==0||(b.subtreeFlags&8218)!==0)return!0;b=b.sibling}return!1}function wy(b,x,j,B){if(Qn)for(j=x.child;j!==null;){if(j.tag===5||j.tag===6)tm(b,j.stateNode);else if(!(j.tag===4||Ji&&j.tag===27)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===x)break;for(;j.sibling===null;){if(j.return===null||j.return===x)return;j=j.return}j.sibling.return=j.return,j=j.sibling}else if(Bo)for(var Q=x.child;Q!==null;){if(Q.tag===5){var ae=Q.stateNode;j&&B&&(ae=F3(ae,Q.type,Q.memoizedProps)),tm(b,ae)}else if(Q.tag===6)ae=Q.stateNode,j&&B&&(ae=Jy(ae,Q.memoizedProps)),tm(b,ae);else if(Q.tag!==4){if(Q.tag===22&&Q.memoizedState!==null)ae=Q.child,ae!==null&&(ae.return=Q),wy(b,Q,!0,!0);else if(Q.child!==null){Q.child.return=Q,Q=Q.child;continue}}if(Q===x)break;for(;Q.sibling===null;){if(Q.return===null||Q.return===x)return;Q=Q.return}Q.sibling.return=Q.return,Q=Q.sibling}}function f3(b,x,j,B){var Q=!1;if(Bo)for(var ae=x.child;ae!==null;){if(ae.tag===5){var be=ae.stateNode;j&&B&&(be=F3(be,ae.type,ae.memoizedProps)),Qy(b,be)}else if(ae.tag===6)be=ae.stateNode,j&&B&&(be=Jy(be,ae.memoizedProps)),Qy(b,be);else if(ae.tag!==4){if(ae.tag===22&&ae.memoizedState!==null)Q=ae.child,Q!==null&&(Q.return=ae),f3(b,ae,!0,!0),Q=!0;else if(ae.child!==null){ae.child.return=ae,ae=ae.child;continue}}if(ae===x)break;for(;ae.sibling===null;){if(ae.return===null||ae.return===x)return Q;ae=ae.return}ae.sibling.return=ae.return,ae=ae.sibling}return Q}function h3(b,x){if(Bo&&d3(b,x)){b=x.stateNode;var j=b.containerInfo,B=Xy();f3(B,x,!1,!1),b.pendingChildren=B,as(x),z3(j,B)}}function _y(b,x,j,B){if(Qn)b.memoizedProps!==B&&as(x);else if(Bo){var Q=b.stateNode,ae=b.memoizedProps;if((b=d3(b,x))||ae!==B){var be=fr.current;ae=L3(Q,j,ae,B,!b,null),ae===Q?x.stateNode=Q:(Hp(x),xo(ae,j,B,be)&&as(x),x.stateNode=ae,b&&wy(ae,x,!1,!1))}else x.stateNode=Q}}function Jr(b,x,j,B,Q){if((b.mode&32)!==0&&(j===null?nm(x,B):sh(x,j,B))){if(b.flags|=16777216,(Q&335544128)===Q||Fy(x,B))if(ui(b.stateNode,x,B))b.flags|=8192;else if(Xn())b.flags|=8192;else throw io=jl,K0}else b.flags&=-16777217}function Gf(b,x){if(dx(x)){if(b.flags|=16777216,!fx(x))if(Xn())b.flags|=8192;else throw io=jl,K0}else b.flags&=-16777217}function $p(b,x){x!==null&&(b.flags|=4),b.flags&16384&&(x=b.tag!==22?A():536870912,b.lanes|=x,gh|=x)}function qf(b,x){if(!Yn)switch(b.tailMode){case"hidden":x=b.tail;for(var j=null;x!==null;)x.alternate!==null&&(j=x),x=x.sibling;j===null?b.tail=null:j.sibling=null;break;case"collapsed":j=b.tail;for(var B=null;j!==null;)j.alternate!==null&&(B=j),j=j.sibling;B===null?x||b.tail===null?b.tail=null:b.tail.sibling=null:B.sibling=null}}function Pa(b){var x=b.alternate!==null&&b.alternate.child===b.child,j=0,B=0;if(x)for(var Q=b.child;Q!==null;)j|=Q.lanes|Q.childLanes,B|=Q.subtreeFlags&65011712,B|=Q.flags&65011712,Q.return=b,Q=Q.sibling;else for(Q=b.child;Q!==null;)j|=Q.lanes|Q.childLanes,B|=Q.subtreeFlags,B|=Q.flags,Q.return=b,Q=Q.sibling;return b.subtreeFlags|=B,b.childLanes=j,x}function p3(b,x,j){var B=x.pendingProps;switch(W(x),x.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pa(x),null;case 1:return Pa(x),null;case 3:return j=x.stateNode,B=null,b!==null&&(B=b.memoizedState.cache),x.memoizedState.cache!==B&&(x.flags|=2048),le(ei),ne(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(b===null||b.child===null)&&(he(x)?as(x):b===null||b.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,fe())),h3(b,x),Pa(x),null;case 26:if(ds){var Q=x.type,ae=x.memoizedState;return b===null?(as(x),ae!==null?(Pa(x),Gf(x,ae)):(Pa(x),Jr(x,Q,null,B,j))):ae?ae!==b.memoizedState?(as(x),Pa(x),Gf(x,ae)):(Pa(x),x.flags&=-16777217):(ae=b.memoizedProps,Qn?ae!==B&&as(x):_y(b,x,Q,B),Pa(x),Jr(x,Q,ae,B,j)),null}case 27:if(Ji){if(pe(x),j=Er.current,Q=x.type,b!==null&&x.stateNode!=null)Qn?b.memoizedProps!==B&&as(x):_y(b,x,Q,B);else{if(!B){if(x.stateNode===null)throw Error(i(166));return Pa(x),null}b=fr.current,he(x)?ge(x,b):(b=z0(Q,B,j,b,!0),x.stateNode=b,as(x))}return Pa(x),null}case 5:if(pe(x),Q=x.type,b!==null&&x.stateNode!=null)_y(b,x,Q,B);else{if(!B){if(x.stateNode===null)throw Error(i(166));return Pa(x),null}if(ae=fr.current,he(x))ge(x,ae),tC(x.stateNode,Q,B,ae)&&(x.flags|=64);else{var be=Ly(Q,B,Er.current,ae,x);Hp(x),wy(be,x,!1,!1),x.stateNode=be,xo(be,Q,B,ae)&&as(x)}}return Pa(x),Jr(x,x.type,b===null?null:b.memoizedProps,x.pendingProps,j),null;case 6:if(b&&x.stateNode!=null)j=b.memoizedProps,Qn?j!==B&&as(x):Bo&&(j!==B?(b=Er.current,j=fr.current,Hp(x),x.stateNode=Tc(B,b,j,x)):x.stateNode=b.stateNode);else{if(typeof B!="string"&&x.stateNode===null)throw Error(i(166));if(b=Er.current,j=fr.current,he(x)){if(!Za)throw Error(i(176));if(b=x.stateNode,j=x.memoizedProps,B=null,Q=er,Q!==null)switch(Q.tag){case 27:case 5:B=Q.memoizedProps}ST(b,j,x,B)||me(x,!0)}else Hp(x),x.stateNode=Tc(B,b,j,x)}return Pa(x),null;case 31:if(j=x.memoizedState,b===null||b.memoizedState!==null){if(B=he(x),j!==null){if(b===null){if(!B)throw Error(i(318));if(!Za)throw Error(i(556));if(b=x.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(i(557));ax(b,x)}else de(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;Pa(x),b=!1}else j=fe(),b!==null&&b.memoizedState!==null&&(b.memoizedState.hydrationErrors=j),b=!0;if(!b)return x.flags&256?(Qr(x),x):(Qr(x),null);if((x.flags&128)!==0)throw Error(i(558))}return Pa(x),null;case 13:if(B=x.memoizedState,b===null||b.memoizedState!==null&&b.memoizedState.dehydrated!==null){if(Q=he(x),B!==null&&B.dehydrated!==null){if(b===null){if(!Q)throw Error(i(318));if(!Za)throw Error(i(344));if(Q=x.memoizedState,Q=Q!==null?Q.dehydrated:null,!Q)throw Error(i(317));Q3(Q,x)}else de(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;Pa(x),Q=!1}else Q=fe(),b!==null&&b.memoizedState!==null&&(b.memoizedState.hydrationErrors=Q),Q=!0;if(!Q)return x.flags&256?(Qr(x),x):(Qr(x),null)}return Qr(x),(x.flags&128)!==0?(x.lanes=j,x):(j=B!==null,b=b!==null&&b.memoizedState!==null,j&&(B=x.child,Q=null,B.alternate!==null&&B.alternate.memoizedState!==null&&B.alternate.memoizedState.cachePool!==null&&(Q=B.alternate.memoizedState.cachePool.pool),ae=null,B.memoizedState!==null&&B.memoizedState.cachePool!==null&&(ae=B.memoizedState.cachePool.pool),ae!==Q&&(B.flags|=2048)),j!==b&&j&&(x.child.flags|=8192),$p(x,x.updateQueue),Pa(x),null);case 4:return ne(),h3(b,x),b===null&&ka(x.stateNode.containerInfo),Pa(x),null;case 10:return le(x.type),Pa(x),null;case 19:if(g(Si),B=x.memoizedState,B===null)return Pa(x),null;if(Q=(x.flags&128)!==0,ae=B.rendering,ae===null)if(Q)qf(B,!1);else{if(hi!==0||b!==null&&(b.flags&128)!==0)for(b=x.child;b!==null;){if(ae=bd(b),ae!==null){for(x.flags|=128,qf(B,!1),b=ae.updateQueue,x.updateQueue=b,$p(x,b),x.subtreeFlags=0,b=j,j=x.child;j!==null;)S0(j,b),j=j.sibling;return y(Si,Si.current&1|2),Yn&&Y(x,B.treeForkCount),x.child}b=b.sibling}B.tail!==null&&zr()>Du&&(x.flags|=128,Q=!0,qf(B,!1),x.lanes=4194304)}else{if(!Q)if(b=bd(ae),b!==null){if(x.flags|=128,Q=!0,b=b.updateQueue,x.updateQueue=b,$p(x,b),qf(B,!0),B.tail===null&&B.tailMode==="hidden"&&!ae.alternate&&!Yn)return Pa(x),null}else 2*zr()-B.renderingStartTime>Du&&j!==536870912&&(x.flags|=128,Q=!0,qf(B,!1),x.lanes=4194304);B.isBackwards?(ae.sibling=x.child,x.child=ae):(b=B.last,b!==null?b.sibling=ae:x.child=ae,B.last=ae)}return B.tail!==null?(b=B.tail,B.rendering=b,B.tail=b.sibling,B.renderingStartTime=zr(),b.sibling=null,j=Si.current,y(Si,Q?j&1|2:j&1),Yn&&Y(x,B.treeForkCount),b):(Pa(x),null);case 22:case 23:return Qr(x),xi(),B=x.memoizedState!==null,b!==null?b.memoizedState!==null!==B&&(x.flags|=8192):B&&(x.flags|=8192),B?(j&536870912)!==0&&(x.flags&128)===0&&(Pa(x),x.subtreeFlags&6&&(x.flags|=8192)):Pa(x),j=x.updateQueue,j!==null&&$p(x,j.retryQueue),j=null,b!==null&&b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(j=b.memoizedState.cachePool.pool),B=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(B=x.memoizedState.cachePool.pool),B!==j&&(x.flags|=2048),b!==null&&g(Tu),null;case 24:return j=null,b!==null&&(j=b.memoizedState.cache),x.memoizedState.cache!==j&&(x.flags|=2048),le(ei),Pa(x),null;case 25:return null;case 30:return null}throw Error(i(156,x.tag))}function Ty(b,x){switch(W(x),x.tag){case 1:return b=x.flags,b&65536?(x.flags=b&-65537|128,x):null;case 3:return le(ei),ne(),b=x.flags,(b&65536)!==0&&(b&128)===0?(x.flags=b&-65537|128,x):null;case 26:case 27:case 5:return pe(x),null;case 31:if(x.memoizedState!==null){if(Qr(x),x.alternate===null)throw Error(i(340));de()}return b=x.flags,b&65536?(x.flags=b&-65537|128,x):null;case 13:if(Qr(x),b=x.memoizedState,b!==null&&b.dehydrated!==null){if(x.alternate===null)throw Error(i(340));de()}return b=x.flags,b&65536?(x.flags=b&-65537|128,x):null;case 19:return g(Si),null;case 4:return ne(),null;case 10:return le(x.type),null;case 22:case 23:return Qr(x),xi(),b!==null&&g(Tu),b=x.flags,b&65536?(x.flags=b&-65537|128,x):null;case 24:return le(ei),null;case 25:return null;default:return null}}function m3(b,x){switch(W(x),x.tag){case 3:le(ei),ne();break;case 26:case 27:case 5:pe(x);break;case 4:ne();break;case 31:x.memoizedState!==null&&Qr(x);break;case 13:Qr(x);break;case 19:g(Si);break;case 10:le(x.type);break;case 22:case 23:Qr(x),xi(),b!==null&&g(Tu);break;case 24:le(ei)}}function bl(b,x){try{var j=x.updateQueue,B=j!==null?j.lastEffect:null;if(B!==null){var Q=B.next;j=Q;do{if((j.tag&b)===b){B=void 0;var ae=j.create,be=j.inst;B=ae(),be.destroy=B}j=j.next}while(j!==Q)}}catch(De){bn(x,x.return,De)}}function yl(b,x,j){try{var B=x.updateQueue,Q=B!==null?B.lastEffect:null;if(Q!==null){var ae=Q.next;B=ae;do{if((B.tag&b)===b){var be=B.inst,De=be.destroy;if(De!==void 0){be.destroy=void 0,Q=x;var tt=j,vt=De;try{vt()}catch(Dt){bn(Q,tt,Dt)}}}B=B.next}while(B!==ae)}}catch(Dt){bn(x,x.return,Dt)}}function Wf(b){var x=b.updateQueue;if(x!==null){var j=b.stateNode;try{dl(x,j)}catch(B){bn(b,b.return,B)}}}function u0(b,x,j){j.props=Cd(b.type,b.memoizedProps),j.state=b.memoizedState;try{j.componentWillUnmount()}catch(B){bn(b,x,B)}}function Vf(b,x){try{var j=b.ref;if(j!==null){switch(b.tag){case 26:case 27:case 5:var B=ih(b.stateNode);break;case 30:B=b.stateNode;break;default:B=b.stateNode}typeof j=="function"?b.refCleanup=j(B):j.current=B}}catch(Q){bn(b,x,Q)}}function Lr(b,x){var j=b.ref,B=b.refCleanup;if(j!==null)if(typeof B=="function")try{B()}catch(Q){bn(b,x,Q)}finally{b.refCleanup=null,b=b.alternate,b!=null&&(b.refCleanup=null)}else if(typeof j=="function")try{j(null)}catch(Q){bn(b,x,Q)}else j.current=null}function Ed(b){var x=b.type,j=b.memoizedProps,B=b.stateNode;try{k3(B,x,j,b)}catch(Q){bn(b,b.return,Q)}}function Up(b,x,j){try{I3(b.stateNode,b.type,j,x,b)}catch(B){bn(b,b.return,B)}}function Ey(b){return b.tag===5||b.tag===3||(ds?b.tag===26:!1)||(Ji?b.tag===27&&Ld(b.type):!1)||b.tag===4}function bc(b){e:for(;;){for(;b.sibling===null;){if(b.return===null||Ey(b.return))return null;b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==5&&b.tag!==6&&b.tag!==18;){if(Ji&&b.tag===27&&Ld(b.type)||b.flags&2||b.child===null||b.tag===4)continue e;b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function d0(b,x,j){var B=b.tag;if(B===5||B===6)b=b.stateNode,x?j3(j,b,x):Wy(j,b);else if(B!==4&&(Ji&&B===27&&Ld(b.type)&&(j=b.stateNode,x=null),b=b.child,b!==null))for(d0(b,x,j),b=b.sibling;b!==null;)d0(b,x,j),b=b.sibling}function Gp(b,x,j){var B=b.tag;if(B===5||B===6)b=b.stateNode,x?N3(j,b,x):qy(j,b);else if(B!==4&&(Ji&&B===27&&Ld(b.type)&&(j=b.stateNode),b=b.child,b!==null))for(Gp(b,x,j),b=b.sibling;b!==null;)Gp(b,x,j),b=b.sibling}function Ay(b,x,j){b=b.containerInfo;try{Zy(b,j)}catch(B){bn(x,x.return,B)}}function g3(b){var x=b.stateNode,j=b.memoizedProps;try{$i(b.type,j,x,b)}catch(B){bn(b,b.return,B)}}function bT(b,x){for(A0(b.containerInfo),Mi=x;Mi!==null;)if(b=Mi,x=b.child,(b.subtreeFlags&1028)!==0&&x!==null)x.return=b,Mi=x;else for(;Mi!==null;){b=Mi;var j=b.alternate;switch(x=b.flags,b.tag){case 0:if((x&4)!==0&&(x=b.updateQueue,x=x!==null?x.events:null,x!==null))for(var B=0;B<x.length;B++){var Q=x[B];Q.ref.impl=Q.nextImpl}break;case 11:case 15:break;case 1:if((x&1024)!==0&&j!==null){x=void 0,B=b,Q=j.memoizedProps,j=j.memoizedState;var ae=B.stateNode;try{var be=Cd(B.type,Q);x=ae.getSnapshotBeforeUpdate(be,j),ae.__reactInternalSnapshotBeforeUpdate=x}catch(De){bn(B,B.return,De)}}break;case 3:(x&1024)!==0&&Qn&&Ky(b.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((x&1024)!==0)throw Error(i(163))}if(x=b.sibling,x!==null){x.return=b.return,Mi=x;break}Mi=b.return}}function b3(b,x,j){var B=j.flags;switch(j.tag){case 0:case 11:case 15:eo(b,j),B&4&&bl(5,j);break;case 1:if(eo(b,j),B&4)if(b=j.stateNode,x===null)try{b.componentDidMount()}catch(be){bn(j,j.return,be)}else{var Q=Cd(j.type,x.memoizedProps);x=x.memoizedState;try{b.componentDidUpdate(Q,x,b.__reactInternalSnapshotBeforeUpdate)}catch(be){bn(j,j.return,be)}}B&64&&Wf(j),B&512&&Vf(j,j.return);break;case 3:if(eo(b,j),B&64&&(B=j.updateQueue,B!==null)){if(b=null,j.child!==null)switch(j.child.tag){case 27:case 5:b=ih(j.child.stateNode);break;case 1:b=j.child.stateNode}try{dl(B,b)}catch(be){bn(j,j.return,be)}}break;case 27:Ji&&x===null&&B&4&&g3(j);case 26:case 5:if(eo(b,j),x===null){if(B&4)Ed(j);else if(B&64){b=j.type,x=j.memoizedProps,Q=j.stateNode;try{J3(Q,b,x,j)}catch(be){bn(j,j.return,be)}}}B&512&&Vf(j,j.return);break;case 12:eo(b,j);break;case 31:eo(b,j),B&4&&rs(b,j);break;case 13:eo(b,j),B&4&&Wp(b,j),B&64&&(B=j.memoizedState,B!==null&&(B=B.dehydrated,B!==null&&(j=yT.bind(null,j),O0(B,j))));break;case 22:if(B=j.memoizedState!==null||Ci,!B){x=x!==null&&x.memoizedState!==null||wi,Q=Ci;var ae=wi;Ci=B,(wi=x)&&!ae?ss(b,j,(j.subtreeFlags&8772)!==0):eo(b,j),Ci=Q,wi=ae}break;case 30:break;default:eo(b,j)}}function Ry(b){var x=b.alternate;x!==null&&(b.alternate=null,Ry(x)),b.child=null,b.deletions=null,b.sibling=null,b.tag===5&&(x=b.stateNode,x!==null&&R0(x)),b.stateNode=null,b.return=null,b.dependencies=null,b.memoizedProps=null,b.memoizedState=null,b.pendingProps=null,b.stateNode=null,b.updateQueue=null}function is(b,x,j){for(j=j.child;j!==null;)qp(b,x,j),j=j.sibling}function qp(b,x,j){if(Co&&typeof Co.onCommitFiberUnmount=="function")try{Co.onCommitFiberUnmount(Bd,j)}catch{}switch(j.tag){case 26:if(ds){wi||Lr(j,x),is(b,x,j),j.memoizedState?wu(j.memoizedState):j.stateNode&&ux(j.stateNode);break}case 27:if(Ji){wi||Lr(j,x);var B=fi,Q=Pi;Ld(j.type)&&(fi=j.stateNode,Pi=!1),is(b,x,j),dr(j.stateNode),fi=B,Pi=Q;break}case 5:wi||Lr(j,x);case 6:if(Qn){if(B=fi,Q=Pi,fi=null,is(b,x,j),fi=B,Pi=Q,fi!==null)if(Pi)try{Vy(fi,j.stateNode)}catch(ae){bn(j,x,ae)}else try{D3(fi,j.stateNode)}catch(ae){bn(j,x,ae)}}else is(b,x,j);break;case 18:Qn&&fi!==null&&(Pi?M0(fi,j.stateNode):rx(fi,j.stateNode));break;case 4:Qn?(B=fi,Q=Pi,fi=j.stateNode.containerInfo,Pi=!0,is(b,x,j),fi=B,Pi=Q):(Bo&&Ay(j.stateNode,j,Xy()),is(b,x,j));break;case 0:case 11:case 14:case 15:yl(2,j,x),wi||yl(4,j,x),is(b,x,j);break;case 1:wi||(Lr(j,x),B=j.stateNode,typeof B.componentWillUnmount=="function"&&u0(j,x,B)),is(b,x,j);break;case 21:is(b,x,j);break;case 22:wi=(B=wi)||j.memoizedState!==null,is(b,x,j),wi=B;break;default:is(b,x,j)}}function rs(b,x){if(Za&&x.memoizedState===null&&(b=x.alternate,b!==null&&(b=b.memoizedState,b!==null))){b=b.dehydrated;try{CT(b)}catch(j){bn(x,x.return,j)}}}function Wp(b,x){if(Za&&x.memoizedState===null&&(b=x.alternate,b!==null&&(b=b.memoizedState,b!==null&&(b=b.dehydrated,b!==null))))try{wT(b)}catch(j){bn(x,x.return,j)}}function os(b){switch(b.tag){case 31:case 13:case 19:var x=b.stateNode;return x===null&&(x=b.stateNode=new vx),x;case 22:return b=b.stateNode,x=b._retryCache,x===null&&(x=b._retryCache=new vx),x;default:throw Error(i(435,b.tag))}}function yc(b,x){var j=os(b);x.forEach(function(B){if(!j.has(B)){j.add(B);var Q=xT.bind(null,b,B);B.then(Q,Q)}})}function cr(b,x){var j=x.deletions;if(j!==null)for(var B=0;B<j.length;B++){var Q=j[B],ae=b,be=x;if(Qn){var De=be;e:for(;De!==null;){switch(De.tag){case 27:if(Ji){if(Ld(De.type)){fi=De.stateNode,Pi=!1;break e}break}case 5:fi=De.stateNode,Pi=!1;break e;case 3:case 4:fi=De.stateNode.containerInfo,Pi=!0;break e}De=De.return}if(fi===null)throw Error(i(160));qp(ae,be,Q),fi=null,Pi=!1}else qp(ae,be,Q);ae=Q.alternate,ae!==null&&(ae.return=null),Q.return=null}if(x.subtreeFlags&13886)for(x=x.child;x!==null;)Vp(x,b),x=x.sibling}function Vp(b,x){var j=b.alternate,B=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:cr(x,b),ur(b),B&4&&(yl(3,b,b.return),bl(3,b),yl(5,b,b.return));break;case 1:cr(x,b),ur(b),B&512&&(wi||j===null||Lr(j,j.return)),B&64&&Ci&&(b=b.updateQueue,b!==null&&(B=b.callbacks,B!==null&&(j=b.shared.hiddenCallbacks,b.shared.hiddenCallbacks=j===null?B:j.concat(B))));break;case 26:if(ds){var Q=Sa;if(cr(x,b),ur(b),B&512&&(wi||j===null||Lr(j,j.return)),B&4){B=j!==null?j.memoizedState:null;var ae=b.memoizedState;j===null?ae===null?b.stateNode===null?b.stateNode=rC(Q,b.type,b.memoizedProps,b):cx(Q,b.type,b.stateNode):b.stateNode=lx(Q,ae,b.memoizedProps):B!==ae?(B===null?j.stateNode!==null&&ux(j.stateNode):wu(B),ae===null?cx(Q,b.type,b.stateNode):lx(Q,ae,b.memoizedProps)):ae===null&&b.stateNode!==null&&Up(b,b.memoizedProps,j.memoizedProps)}break}case 27:if(Ji){cr(x,b),ur(b),B&512&&(wi||j===null||Lr(j,j.return)),j!==null&&B&4&&Up(b,b.memoizedProps,j.memoizedProps);break}case 5:if(cr(x,b),ur(b),B&512&&(wi||j===null||Lr(j,j.return)),Qn){if(b.flags&32){Q=b.stateNode;try{Yy(Q)}catch(Ct){bn(b,b.return,Ct)}}B&4&&b.stateNode!=null&&(Q=b.memoizedProps,Up(b,Q,j!==null?j.memoizedProps:Q)),B&1024&&(dh=!0)}else Bo&&b.alternate!==null&&(b.alternate.stateNode=b.stateNode);break;case 6:if(cr(x,b),ur(b),B&4&&Qn){if(b.stateNode===null)throw Error(i(162));B=b.memoizedProps,j=j!==null?j.memoizedProps:B,Q=b.stateNode;try{R3(Q,j,B)}catch(Ct){bn(b,b.return,Ct)}}break;case 3:if(ds?(oC(),Q=Sa,Sa=rm(x.containerInfo),cr(x,b),Sa=Q):cr(x,b),ur(b),B&4){if(Qn&&Za&&j!==null&&j.memoizedState.isDehydrated)try{eC(x.containerInfo)}catch(Ct){bn(b,b.return,Ct)}if(Bo){B=x.containerInfo,j=x.pendingChildren;try{Zy(B,j)}catch(Ct){bn(b,b.return,Ct)}}}dh&&(dh=!1,f0(b));break;case 4:ds?(j=Sa,Sa=rm(b.stateNode.containerInfo),cr(x,b),ur(b),Sa=j):(cr(x,b),ur(b)),B&4&&Bo&&Ay(b.stateNode,b,b.stateNode.pendingChildren);break;case 12:cr(x,b),ur(b);break;case 31:cr(x,b),ur(b),B&4&&(B=b.updateQueue,B!==null&&(b.updateQueue=null,yc(b,B)));break;case 13:cr(x,b),ur(b),b.child.flags&8192&&b.memoizedState!==null!=(j!==null&&j.memoizedState!==null)&&(mm=zr()),B&4&&(B=b.updateQueue,B!==null&&(b.updateQueue=null,yc(b,B)));break;case 22:Q=b.memoizedState!==null;var be=j!==null&&j.memoizedState!==null,De=Ci,tt=wi;if(Ci=De||Q,wi=tt||be,cr(x,b),wi=tt,Ci=De,ur(b),B&8192&&(x=b.stateNode,x._visibility=Q?x._visibility&-2:x._visibility|1,Q&&(j===null||be||Ci||wi||uu(b)),Qn)){e:if(j=null,Qn)for(x=b;;){if(x.tag===5||ds&&x.tag===26){if(j===null){be=j=x;try{ae=be.stateNode,Q?vT(ae):M3(be.stateNode,be.memoizedProps)}catch(Ct){bn(be,be.return,Ct)}}}else if(x.tag===6){if(j===null){be=x;try{var vt=be.stateNode;Q?O3(vt):P3(vt,be.memoizedProps)}catch(Ct){bn(be,be.return,Ct)}}}else if(x.tag===18){if(j===null){be=x;try{var Dt=be.stateNode;Q?nC(Dt):aC(be.stateNode)}catch(Ct){bn(be,be.return,Ct)}}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===b)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===b)break e;for(;x.sibling===null;){if(x.return===null||x.return===b)break e;j===x&&(j=null),x=x.return}j===x&&(j=null),x.sibling.return=x.return,x=x.sibling}}B&4&&(B=b.updateQueue,B!==null&&(j=B.retryQueue,j!==null&&(B.retryQueue=null,yc(b,j))));break;case 19:cr(x,b),ur(b),B&4&&(B=b.updateQueue,B!==null&&(b.updateQueue=null,yc(b,B)));break;case 30:break;case 21:break;default:cr(x,b),ur(b)}}function ur(b){var x=b.flags;if(x&2){try{for(var j,B=b.return;B!==null;){if(Ey(B)){j=B;break}B=B.return}if(Qn){if(j==null)throw Error(i(160));switch(j.tag){case 27:if(Ji){var Q=j.stateNode,ae=bc(b);Gp(b,ae,Q);break}case 5:var be=j.stateNode;j.flags&32&&(Yy(be),j.flags&=-33);var De=bc(b);Gp(b,De,be);break;case 3:case 4:var tt=j.stateNode.containerInfo,vt=bc(b);d0(b,vt,tt);break;default:throw Error(i(161))}}}catch(Dt){bn(b,b.return,Dt)}b.flags&=-3}x&4096&&(b.flags&=-4097)}function f0(b){if(b.subtreeFlags&1024)for(b=b.child;b!==null;){var x=b;f0(x),x.tag===5&&x.flags&1024&&Hy(x.stateNode),b=b.sibling}}function eo(b,x){if(x.subtreeFlags&8772)for(x=x.child;x!==null;)b3(b,x.alternate,x),x=x.sibling}function uu(b){for(b=b.child;b!==null;){var x=b;switch(x.tag){case 0:case 11:case 14:case 15:yl(4,x,x.return),uu(x);break;case 1:Lr(x,x.return);var j=x.stateNode;typeof j.componentWillUnmount=="function"&&u0(x,x.return,j),uu(x);break;case 27:Ji&&dr(x.stateNode);case 26:case 5:Lr(x,x.return),uu(x);break;case 22:x.memoizedState===null&&uu(x);break;case 30:uu(x);break;default:uu(x)}b=b.sibling}}function ss(b,x,j){for(j=j&&(x.subtreeFlags&8772)!==0,x=x.child;x!==null;){var B=x.alternate,Q=b,ae=x,be=ae.flags;switch(ae.tag){case 0:case 11:case 15:ss(Q,ae,j),bl(4,ae);break;case 1:if(ss(Q,ae,j),B=ae,Q=B.stateNode,typeof Q.componentDidMount=="function")try{Q.componentDidMount()}catch(vt){bn(B,B.return,vt)}if(B=ae,Q=B.updateQueue,Q!==null){var De=B.stateNode;try{var tt=Q.shared.hiddenCallbacks;if(tt!==null)for(Q.shared.hiddenCallbacks=null,Q=0;Q<tt.length;Q++)pc(tt[Q],De)}catch(vt){bn(B,B.return,vt)}}j&&be&64&&Wf(ae),Vf(ae,ae.return);break;case 27:Ji&&g3(ae);case 26:case 5:ss(Q,ae,j),j&&B===null&&be&4&&Ed(ae),Vf(ae,ae.return);break;case 12:ss(Q,ae,j);break;case 31:ss(Q,ae,j),j&&be&4&&rs(Q,ae);break;case 13:ss(Q,ae,j),j&&be&4&&Wp(Q,ae);break;case 22:ae.memoizedState===null&&ss(Q,ae,j),Vf(ae,ae.return);break;case 30:break;default:ss(Q,ae,j)}x=x.sibling}}function du(b,x){var j=null;b!==null&&b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(j=b.memoizedState.cachePool.pool),b=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(b=x.memoizedState.cachePool.pool),b!==j&&(b!=null&&b.refCount++,j!=null&&we(j))}function ky(b,x){b=null,x.alternate!==null&&(b=x.alternate.memoizedState.cache),x=x.memoizedState.cache,x!==b&&(x.refCount++,b!=null&&we(b))}function li(b,x,j,B){if(x.subtreeFlags&10256)for(x=x.child;x!==null;)h0(b,x,j,B),x=x.sibling}function h0(b,x,j,B){var Q=x.flags;switch(x.tag){case 0:case 11:case 15:li(b,x,j,B),Q&2048&&bl(9,x);break;case 1:li(b,x,j,B);break;case 3:li(b,x,j,B),Q&2048&&(b=null,x.alternate!==null&&(b=x.alternate.memoizedState.cache),x=x.memoizedState.cache,x!==b&&(x.refCount++,b!=null&&we(b)));break;case 12:if(Q&2048){li(b,x,j,B),b=x.stateNode;try{var ae=x.memoizedProps,be=ae.id,De=ae.onPostCommit;typeof De=="function"&&De(be,x.alternate===null?"mount":"update",b.passiveEffectDuration,-0)}catch(tt){bn(x,x.return,tt)}}else li(b,x,j,B);break;case 31:li(b,x,j,B);break;case 13:li(b,x,j,B);break;case 23:break;case 22:ae=x.stateNode,be=x.alternate,x.memoizedState!==null?ae._visibility&2?li(b,x,j,B):Yf(b,x):ae._visibility&2?li(b,x,j,B):(ae._visibility|=2,go(b,x,j,B,(x.subtreeFlags&10256)!==0||!1)),Q&2048&&du(be,x);break;case 24:li(b,x,j,B),Q&2048&&ky(x.alternate,x);break;default:li(b,x,j,B)}}function go(b,x,j,B,Q){for(Q=Q&&((x.subtreeFlags&10256)!==0||!1),x=x.child;x!==null;){var ae=b,be=x,De=j,tt=B,vt=be.flags;switch(be.tag){case 0:case 11:case 15:go(ae,be,De,tt,Q),bl(8,be);break;case 23:break;case 22:var Dt=be.stateNode;be.memoizedState!==null?Dt._visibility&2?go(ae,be,De,tt,Q):Yf(ae,be):(Dt._visibility|=2,go(ae,be,De,tt,Q)),Q&&vt&2048&&du(be.alternate,be);break;case 24:go(ae,be,De,tt,Q),Q&&vt&2048&&ky(be.alternate,be);break;default:go(ae,be,De,tt,Q)}x=x.sibling}}function Yf(b,x){if(x.subtreeFlags&10256)for(x=x.child;x!==null;){var j=b,B=x,Q=B.flags;switch(B.tag){case 22:Yf(j,B),Q&2048&&du(B.alternate,B);break;case 24:Yf(j,B),Q&2048&&ky(B.alternate,B);break;default:Yf(j,B)}x=x.sibling}}function xl(b,x,j){if(b.subtreeFlags&Go)for(b=b.child;b!==null;)fu(b,x,j),b=b.sibling}function fu(b,x,j){switch(b.tag){case 26:if(xl(b,x,j),b.flags&Go)if(b.memoizedState!==null)sC(j,Sa,b.memoizedState,b.memoizedProps);else{var B=b.stateNode,Q=b.type;b=b.memoizedProps,((x&335544128)===x||Fy(Q,b))&&k0(j,B,Q,b)}break;case 5:xl(b,x,j),b.flags&Go&&(B=b.stateNode,Q=b.type,b=b.memoizedProps,((x&335544128)===x||Fy(Q,b))&&k0(j,B,Q,b));break;case 3:case 4:ds?(B=Sa,Sa=rm(b.stateNode.containerInfo),xl(b,x,j),Sa=B):xl(b,x,j);break;case 22:b.memoizedState===null&&(B=b.alternate,B!==null&&B.memoizedState!==null?(B=Go,Go=16777216,xl(b,x,j),Go=B):xl(b,x,j));break;default:xl(b,x,j)}}function p0(b){var x=b.alternate;if(x!==null&&(b=x.child,b!==null)){x.child=null;do x=b.sibling,b.sibling=null,b=x;while(b!==null)}}function Kf(b){var x=b.deletions;if((b.flags&16)!==0){if(x!==null)for(var j=0;j<x.length;j++){var B=x[j];Mi=B,Lo(B,b)}p0(b)}if(b.subtreeFlags&10256)for(b=b.child;b!==null;)m0(b),b=b.sibling}function m0(b){switch(b.tag){case 0:case 11:case 15:Kf(b),b.flags&2048&&yl(9,b,b.return);break;case 3:Kf(b);break;case 12:Kf(b);break;case 22:var x=b.stateNode;b.memoizedState!==null&&x._visibility&2&&(b.return===null||b.return.tag!==13)?(x._visibility&=-3,Yp(b)):Kf(b);break;default:Kf(b)}}function Yp(b){var x=b.deletions;if((b.flags&16)!==0){if(x!==null)for(var j=0;j<x.length;j++){var B=x[j];Mi=B,Lo(B,b)}p0(b)}for(b=b.child;b!==null;){switch(x=b,x.tag){case 0:case 11:case 15:yl(8,x,x.return),Yp(x);break;case 22:j=x.stateNode,j._visibility&2&&(j._visibility&=-3,Yp(x));break;default:Yp(x)}b=b.sibling}}function Lo(b,x){for(;Mi!==null;){var j=Mi;switch(j.tag){case 0:case 11:case 15:yl(8,j,x);break;case 23:case 22:if(j.memoizedState!==null&&j.memoizedState.cachePool!==null){var B=j.memoizedState.cachePool.pool;B!=null&&B.refCount++}break;case 24:we(j.memoizedState.cache)}if(B=j.child,B!==null)B.return=j,Mi=B;else e:for(j=b;Mi!==null;){B=Mi;var Q=B.sibling,ae=B.return;if(Ry(B),B===j){Mi=null;break e}if(Q!==null){Q.return=ae,Mi=Q;break e}Mi=ae}}}function hu(b){var x=kn(b);if(x!=null){if(typeof x.memoizedProps["data-testname"]!="string")throw Error(i(364));return x}if(b=Di(b),b===null)throw Error(i(362));return b.stateNode.current}function pu(b,x){var j=b.tag;switch(x.$$typeof){case xs:if(b.type===x.value)return!0;break;case hh:e:{for(x=x.value,b=[b,0],j=0;j<b.length;){var B=b[j++],Q=B.tag,ae=b[j++],be=x[ae];if(Q!==5&&Q!==26&&Q!==27||!Su(B)){for(;be!=null&&pu(B,be);)ae++,be=x[ae];if(ae===x.length){x=!0;break e}else for(B=B.child;B!==null;)b.push(B,ae),B=B.sibling}}x=!1}return x;case ph:if((j===5||j===26||j===27)&&Gy(b.stateNode,x.value))return!0;break;case ku:if((j===5||j===6||j===26||j===27)&&(b=am(b),b!==null&&0<=b.indexOf(x.value)))return!0;break;case hm:if((j===5||j===26||j===27)&&(b=b.memoizedProps["data-testname"],typeof b=="string"&&b.toLowerCase()===x.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function Xf(b){switch(b.$$typeof){case xs:return"<"+(h(b.value)||"Unknown")+">";case hh:return":has("+(Xf(b)||"")+")";case ph:return'[role="'+b.value+'"]';case ku:return'"'+b.value+'"';case hm:return'[data-testname="'+b.value+'"]';default:throw Error(i(365))}}function Qf(b,x){var j=[];b=[b,0];for(var B=0;B<b.length;){var Q=b[B++],ae=Q.tag,be=b[B++],De=x[be];if(ae!==5&&ae!==26&&ae!==27||!Su(Q)){for(;De!=null&&pu(Q,De);)be++,De=x[be];if(be===x.length)j.push(Q);else for(Q=Q.child;Q!==null;)b.push(Q,be),Q=Q.sibling}}return j}function bo(b,x){if(!Zi)throw Error(i(363));b=hu(b),b=Qf(b,x),x=[],b=Array.from(b);for(var j=0;j<b.length;){var B=b[j++],Q=B.tag;if(Q===5||Q===26||Q===27)Su(B)||x.push(B.stateNode);else for(B=B.child;B!==null;)b.push(B),B=B.sibling}return x}function Qa(){return(Gn&2)!==0&&Kn!==0?Kn&-Kn:sn.T!==null?Xt():oh()}function xc(){if(so===0)if((Kn&536870912)===0||Yn){var b=Fd;Fd<<=1,(Fd&3932160)===0&&(Fd=262144),so=b}else so=536870912;return b=wo.current,b!==null&&(b.flags|=32),so}function ci(b,x,j){(b===Pn&&(Ca===2||Ca===9)||b.cancelPendingCommit!==null)&&(vi(b,0),Sl(b,Kn,so,!1)),I(b,j),((Gn&2)===0||b!==Pn)&&(b===Pn&&((Gn&2)===0&&(ju|=j),hi===4&&Sl(b,Kn,so,!1)),Le(b))}function $s(b,x,j){if((Gn&6)!==0)throw Error(i(327));var B=!j&&(x&127)===0&&(x&b.expiredLanes)===0||_(b,x),Q=B?v3(b,x):Cl(b,x,!0),ae=B;do{if(Q===0){Iu&&!B&&Sl(b,x,0,!1);break}else{if(j=b.current.alternate,ae&&!y3(j)){Q=Cl(b,x,!1),ae=!1;continue}if(Q===2){if(ae=x,b.errorRecoveryDisabledLanes&ae)var be=0;else be=b.pendingLanes&-536870913,be=be!==0?be:be&536870912?536870912:0;if(be!==0){x=be;e:{var De=b;Q=pm;var tt=Za&&De.current.memoizedState.isDehydrated;if(tt&&(vi(De,be).flags|=256),be=Cl(De,be,!1),be!==2){if(Nu&&!tt){De.errorRecoveryDisabledLanes|=ae,ju|=ae,Q=4;break e}ae=_o,_o=Q,ae!==null&&(_o===null?_o=ae:_o.push.apply(_o,ae))}Q=be}if(ae=!1,Q!==2)continue}}if(Q===1){vi(b,0),Sl(b,x,0,!0);break}e:{switch(B=b,ae=Q,ae){case 0:case 1:throw Error(i(345));case 4:if((x&4194048)!==x)break;case 6:Sl(B,x,so,!Ws);break e;case 2:_o=null;break;case 3:case 5:break;default:throw Error(i(329))}if((x&62914560)===x&&(Q=mm+300-zr(),10<Q)){if(Sl(B,x,so,!Ws),w(B,0,!0)!==0)break e;Pl=x,B.timeoutHandle=zy(vl.bind(null,B,j,_o,gm,Q0,x,so,ju,gh,Ws,ae,"Throttled",-0,0),Q);break e}vl(B,j,_o,gm,Q0,x,so,ju,gh,Ws,ae,null,-0,0)}}break}while(!0);Le(b)}function vl(b,x,j,B,Q,ae,be,De,tt,vt,Dt,Ct,Vt,An){if(b.timeoutHandle=vo,Ct=x.subtreeFlags,Ct&8192||(Ct&16785408)===16785408){Ct=By(),fu(x,ae,Ct);var pr=(ae&62914560)===ae?mm-zr():(ae&4194048)===ae?Wd-zr():0;if(pr=A3(Ct,pr),pr!==null){Pl=ae,b.cancelPendingCommit=pr(_l.bind(null,b,x,ae,j,B,Q,be,De,tt,Dt,Ct,null,Vt,An)),Sl(b,ae,be,!vt);return}}_l(b,x,ae,j,B,Q,be,De,tt)}function y3(b){for(var x=b;;){var j=x.tag;if((j===0||j===11||j===15)&&x.flags&16384&&(j=x.updateQueue,j!==null&&(j=j.stores,j!==null)))for(var B=0;B<j.length;B++){var Q=j[B],ae=Q.getSnapshot;Q=Q.value;try{if(!Oi(ae(),Q))return!1}catch{return!1}}if(j=x.child,x.subtreeFlags&16384&&j!==null)j.return=x,x=j;else{if(x===b)break;for(;x.sibling===null;){if(x.return===null||x.return===b)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function Sl(b,x,j,B){x&=~mh,x&=~ju,b.suspendedLanes|=x,b.pingedLanes&=~x,B&&(b.warmLanes|=x),B=b.expirationTimes;for(var Q=x;0<Q;){var ae=31-So(Q),be=1<<ae;B[ae]=-1,Q&=~be}j!==0&&P(b,j,x)}function g0(){return(Gn&6)===0?(We(0),!1):!0}function b0(){if(qn!==null){if(Ca===0)var b=qn.return;else b=qn,Gs=za=null,jp(b),Eu=null,Hd=0,b=qn;for(;b!==null;)m3(b.alternate,b),b=b.return;qn=null}}function vi(b,x){var j=b.timeoutHandle;j!==vo&&(b.timeoutHandle=vo,E3(j)),j=b.cancelPendingCommit,j!==null&&(b.cancelPendingCommit=null,j()),Pl=0,b0(),Pn=b,qn=j=Fo(b.current,null),Kn=x,Ca=0,Ui=null,Ws=!1,Iu=_(b,x),Nu=!1,gh=so=mh=ju=Nc=hi=0,_o=pm=null,Q0=!1,(x&8)!==0&&(x|=x&32);var B=b.entangledLanes;if(B!==0)for(b=b.entanglements,B&=x;0<B;){var Q=31-So(B),ae=1<<Q;x|=b[Q],B&=~ae}return Ml=x,fa(),j}function La(b,x){In=null,sn.H=Uo,x===nr||x===bs?(x=Rn(),Ca=3):x===K0?(x=Rn(),Ca=4):Ca=x===oo?8:x!==null&&typeof x=="object"&&typeof x.then=="function"?6:1,Ui=x,qn===null&&(hi=1,o0(b,V(x,b.current)))}function Xn(){var b=wo.current;return b===null?!0:(Kn&4194048)===Kn?ro===null:(Kn&62914560)===Kn||(Kn&536870912)!==0?b===ro:!1}function vc(){var b=sn.H;return sn.H=Uo,b===null?Uo:b}function zo(){var b=sn.A;return sn.A=fh,b}function Zf(){hi=4,Ws||(Kn&4194048)!==Kn&&wo.current!==null||(Iu=!0),(Nc&134217727)===0&&(ju&134217727)===0||Pn===null||Sl(Pn,Kn,so,!1)}function Cl(b,x,j){var B=Gn;Gn|=2;var Q=vc(),ae=zo();(Pn!==b||Kn!==x)&&(gm=null,vi(b,x)),x=!1;var be=hi;e:do try{if(Ca!==0&&qn!==null){var De=qn,tt=Ui;switch(Ca){case 8:b0(),be=6;break e;case 3:case 2:case 9:case 6:wo.current===null&&(x=!0);var vt=Ca;if(Ca=0,Ui=null,wl(b,De,tt,vt),j&&Iu){be=0;break e}break;default:vt=Ca,Ca=0,Ui=null,wl(b,De,tt,vt)}}x3(),be=hi;break}catch(Dt){La(b,Dt)}while(!0);return x&&b.shellSuspendCounter++,Gs=za=null,Gn=B,sn.H=Q,sn.A=ae,qn===null&&(Pn=null,Kn=0,fa()),be}function x3(){for(;qn!==null;)mu(qn)}function v3(b,x){var j=Gn;Gn|=2;var B=vc(),Q=zo();Pn!==b||Kn!==x?(gm=null,Du=zr()+500,vi(b,x)):Iu=_(b,x);e:do try{if(Ca!==0&&qn!==null){x=qn;var ae=Ui;t:switch(Ca){case 1:Ca=0,Ui=null,wl(b,x,ae,1);break;case 2:case 9:if(_n(ae)){Ca=0,Ui=null,y0(x);break}x=function(){Ca!==2&&Ca!==9||Pn!==b||(Ca=7),Le(b)},ae.then(x,x);break e;case 3:Ca=7;break e;case 4:Ca=5;break e;case 7:_n(ae)?(Ca=0,Ui=null,y0(x)):(Ca=0,Ui=null,wl(b,x,ae,7));break;case 5:var be=null;switch(qn.tag){case 26:be=qn.memoizedState;case 5:case 27:var De=qn,tt=De.type,vt=De.pendingProps;if(be?fx(be):ui(De.stateNode,tt,vt)){Ca=0,Ui=null;var Dt=De.sibling;if(Dt!==null)qn=Dt;else{var Ct=De.return;Ct!==null?(qn=Ct,eh(Ct)):qn=null}break t}}Ca=0,Ui=null,wl(b,x,ae,5);break;case 6:Ca=0,Ui=null,wl(b,x,ae,6);break;case 8:b0(),hi=6;break e;default:throw Error(i(462))}}Jf();break}catch(Vt){La(b,Vt)}while(!0);return Gs=za=null,sn.H=B,sn.A=Q,Gn=j,qn!==null?0:(Pn=null,Kn=0,fa(),hi)}function Jf(){for(;qn!==null&&!cC();)mu(qn)}function mu(b){var x=Cy(b.alternate,b,Ml);b.memoizedProps=b.pendingProps,x===null?eh(b):qn=x}function y0(b){var x=b,j=x.alternate;switch(x.tag){case 15:case 0:x=gy(j,x,x.pendingProps,x.type,void 0,Kn);break;case 11:x=gy(j,x,x.pendingProps,x.type.render,x.ref,Kn);break;case 5:jp(x);default:m3(j,x),x=qn=S0(x,Ml),x=Cy(j,x,Ml)}b.memoizedProps=b.pendingProps,x===null?eh(b):qn=x}function wl(b,x,j,B){Gs=za=null,jp(x),Eu=null,Hd=0;var Q=x.return;try{if(gT(b,Q,x,j,Kn)){hi=1,o0(b,V(j,b.current)),qn=null;return}}catch(ae){if(Q!==null)throw qn=Q,ae;hi=1,o0(b,V(j,b.current)),qn=null;return}x.flags&32768?(Yn||B===1?b=!0:Iu||(Kn&536870912)!==0?b=!1:(Ws=b=!0,(B===2||B===9||B===3||B===6)&&(B=wo.current,B!==null&&B.tag===13&&(B.flags|=16384))),gu(x,b)):eh(x)}function eh(b){var x=b;do{if((x.flags&32768)!==0){gu(x,Ws);return}b=x.return;var j=p3(x.alternate,x,Ml);if(j!==null){qn=j;return}if(x=x.sibling,x!==null){qn=x;return}qn=x=b}while(x!==null);hi===0&&(hi=5)}function gu(b,x){do{var j=Ty(b.alternate,b);if(j!==null){j.flags&=32767,qn=j;return}if(j=b.return,j!==null&&(j.flags|=32768,j.subtreeFlags=0,j.deletions=null),!x&&(b=b.sibling,b!==null)){qn=b;return}qn=b=j}while(b!==null);hi=6,qn=null}function _l(b,x,j,B,Q,ae,be,De,tt){b.cancelPendingCommit=null;do El();while(Gi!==0);if((Gn&6)!==0)throw Error(i(327));if(x!==null){if(x===b.current)throw Error(i(177));if(ae=x.lanes|x.childLanes,ae|=$d,N(b,j,ae,be,De,tt),b===Pn&&(qn=Pn=null,Kn=0),Vd=x,Dc=b,Pl=j,bh=ae,Z0=Q,Sx=B,(x.subtreeFlags&10256)!==0||(x.flags&10256)!==0?(b.callbackNode=null,b.callbackPriority=0,Hi(sm,function(){return Kp(),null})):(b.callbackNode=null,b.callbackPriority=0),B=(x.flags&13878)!==0,(x.subtreeFlags&13878)!==0||B){B=sn.T,sn.T=null,Q=us(),Vn(2),be=Gn,Gn|=4;try{bT(b,x,j)}finally{Gn=be,Vn(Q),sn.T=B}}Gi=1,Sc(),Tl(),x0()}}function Sc(){if(Gi===1){Gi=0;var b=Dc,x=Vd,j=(x.flags&13878)!==0;if((x.subtreeFlags&13878)!==0||j){j=sn.T,sn.T=null;var B=us();Vn(2);var Q=Gn;Gn|=4;try{Vp(x,b),T3(b.containerInfo)}finally{Gn=Q,Vn(B),sn.T=j}}b.current=x,Gi=2}}function Tl(){if(Gi===2){Gi=0;var b=Dc,x=Vd,j=(x.flags&8772)!==0;if((x.subtreeFlags&8772)!==0||j){j=sn.T,sn.T=null;var B=us();Vn(2);var Q=Gn;Gn|=4;try{b3(b,x.alternate,x)}finally{Gn=Q,Vn(B),sn.T=j}}Gi=3}}function x0(){if(Gi===4||Gi===3){Gi=0,px();var b=Dc,x=Vd,j=Pl,B=Sx;(x.subtreeFlags&10256)!==0||(x.flags&10256)!==0?Gi=5:(Gi=0,Vd=Dc=null,v0(b,b.pendingLanes));var Q=b.pendingLanes;if(Q===0&&(jc=null),L(j),x=x.stateNode,Co&&typeof Co.onCommitFiberRoot=="function")try{Co.onCommitFiberRoot(Bd,x,void 0,(x.current.flags&128)===128)}catch{}if(B!==null){x=sn.T,Q=us(),Vn(2),sn.T=null;try{for(var ae=b.onRecoverableError,be=0;be<B.length;be++){var De=B[be];ae(De.value,{componentStack:De.stack})}}finally{sn.T=x,Vn(Q)}}(Pl&3)!==0&&El(),Le(b),Q=b.pendingLanes,(j&261930)!==0&&(Q&42)!==0?b===bm?la++:(la=0,bm=b):la=0,Za&&im(),We(0)}}function v0(b,x){(b.pooledCacheLanes&=x)===0&&(x=b.pooledCache,x!=null&&(b.pooledCache=null,we(x)))}function El(){return Sc(),Tl(),x0(),Kp()}function Kp(){if(Gi!==5)return!1;var b=Dc,x=bh;bh=0;var j=L(Pl),B=32>j?32:j;j=sn.T;var Q=us();try{Vn(B),sn.T=null,B=Z0,Z0=null;var ae=Dc,be=Pl;if(Gi=0,Vd=Dc=null,Pl=0,(Gn&6)!==0)throw Error(i(331));var De=Gn;if(Gn|=4,m0(ae.current),h0(ae,ae.current,be,B),Gn=De,We(0,!1),Co&&typeof Co.onPostCommitFiberRoot=="function")try{Co.onPostCommitFiberRoot(Bd,ae)}catch{}return!0}finally{Vn(Q),sn.T=j,v0(b,x)}}function bu(b,x,j){x=V(j,x),x=py(b.stateNode,x,2),b=Xr(b,x,2),b!==null&&(I(b,2),Le(b))}function bn(b,x,j){if(b.tag===3)bu(b,b,j);else for(;x!==null;){if(x.tag===3){bu(x,b,j);break}else if(x.tag===1){var B=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof B.componentDidCatch=="function"&&(jc===null||!jc.has(B))){b=V(j,b),j=n3(2),B=Xr(x,j,2),B!==null&&(a3(j,B,x,b),I(B,2),Le(B));break}}x=x.return}}function th(b,x,j){var B=b.pingCache;if(B===null){B=b.pingCache=new qo;var Q=new Set;B.set(x,Q)}else Q=B.get(x),Q===void 0&&(Q=new Set,B.set(x,Q));Q.has(j)||(Nu=!0,Q.add(j),b=S3.bind(null,b,x,j),x.then(b,b))}function S3(b,x,j){var B=b.pingCache;B!==null&&B.delete(x),b.pingedLanes|=b.suspendedLanes&j,b.warmLanes&=~j,Pn===b&&(Kn&j)===j&&(hi===4||hi===3&&(Kn&62914560)===Kn&&300>zr()-mm?(Gn&2)===0&&vi(b,0):mh|=j,gh===Kn&&(gh=0)),Le(b)}function C3(b,x){x===0&&(x=A()),b=Ka(b,x),b!==null&&(I(b,x),Le(b))}function yT(b){var x=b.memoizedState,j=0;x!==null&&(j=x.retryLane),C3(b,j)}function xT(b,x){var j=0;switch(b.tag){case 31:case 13:var B=b.stateNode,Q=b.memoizedState;Q!==null&&(j=Q.retryLane);break;case 19:B=b.stateNode;break;case 22:B=b.stateNode._retryCache;break;default:throw Error(i(314))}B!==null&&B.delete(x),C3(b,j)}function Hi(b,x){return om(b,x)}function Iy(b,x,j,B){this.tag=b,this.key=j,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=B,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ad(b){return b=b.prototype,!(!b||!b.isReactComponent)}function Fo(b,x){var j=b.alternate;return j===null?(j=n(b.tag,x,b.key,b.mode),j.elementType=b.elementType,j.type=b.type,j.stateNode=b.stateNode,j.alternate=b,b.alternate=j):(j.pendingProps=x,j.type=b.type,j.flags=0,j.subtreeFlags=0,j.deletions=null),j.flags=b.flags&65011712,j.childLanes=b.childLanes,j.lanes=b.lanes,j.child=b.child,j.memoizedProps=b.memoizedProps,j.memoizedState=b.memoizedState,j.updateQueue=b.updateQueue,x=b.dependencies,j.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},j.sibling=b.sibling,j.index=b.index,j.ref=b.ref,j.refCleanup=b.refCleanup,j}function S0(b,x){b.flags&=65011714;var j=b.alternate;return j===null?(b.childLanes=0,b.lanes=x,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=j.childLanes,b.lanes=j.lanes,b.child=j.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=j.memoizedProps,b.memoizedState=j.memoizedState,b.updateQueue=j.updateQueue,b.type=j.type,x=j.dependencies,b.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),b}function Cc(b,x,j,B,Q,ae){var be=0;if(B=b,typeof b=="function")Ad(b)&&(be=1);else if(typeof b=="string")be=ds&&Ji?P0(b,j,fr.current)?26:hx(b)?27:5:ds?P0(b,j,fr.current)?26:5:Ji&&hx(b)?27:5;else e:switch(b){case Jp:return b=n(31,j,x,Q),b.elementType=Jp,b.lanes=ae,b;case Nd:return ls(j.children,Q,ae,x);case jd:be=8,Q|=24;break;case Dd:return b=n(12,j,x,Q|2),b.elementType=Dd,b.lanes=ae,b;case T0:return b=n(13,j,x,Q),b.elementType=T0,b.lanes=ae,b;case wc:return b=n(19,j,x,Q),b.elementType=wc,b.lanes=ae,b;default:if(typeof b=="object"&&b!==null)switch(b.$$typeof){case cs:be=10;break e;case Zp:be=9;break e;case nh:be=11;break e;case E0:be=14;break e;case to:be=16,B=null;break e}be=29,j=Error(i(130,b===null?"null":typeof b,"")),B=null}return x=n(be,j,x,Q),x.elementType=b,x.type=B,x.lanes=ae,x}function ls(b,x,j,B){return b=n(7,b,B,x),b.lanes=j,b}function Ny(b,x,j){return b=n(6,b,null,x),b.lanes=j,b}function jy(b){var x=n(18,null,null,0);return x.stateNode=b,x}function Dy(b,x,j){return x=n(4,b.children!==null?b.children:[],b.key,x),x.lanes=j,x.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation},x}function w3(b,x,j,B,Q,ae,be,De,tt){this.tag=1,this.containerInfo=b,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=vo,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=R(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R(0),this.hiddenUpdates=R(null),this.identifierPrefix=B,this.onUncaughtError=Q,this.onCaughtError=ae,this.onRecoverableError=be,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=tt,this.incompleteTransitions=new Map}function yu(b,x,j,B,Q,ae,be,De,tt,vt,Dt,Ct){return b=new w3(b,x,j,be,tt,vt,Dt,Ct,De),x=1,ae===!0&&(x|=24),ae=n(3,null,null,x),b.current=ae,ae.stateNode=b,x=ve(),x.refCount++,b.pooledCache=x,x.refCount++,ae.memoizedState={element:B,isDehydrated:j,cache:x},Ma(ae),b}function C0(b){return b?(b=Rl,b):Rl}function Xp(b){var x=b._reactInternals;if(x===void 0)throw typeof b.render=="function"?Error(i(188)):(b=Object.keys(b).join(","),Error(i(268,b)));return b=s(x),b=b!==null?c(b):null,b===null?null:ih(b.stateNode)}function Oy(b,x,j,B,Q,ae){Q=C0(Q),B.context===null?B.context=Q:B.pendingContext=Q,B=Qi(x),B.payload={element:j},ae=ae===void 0?null:ae,ae!==null&&(B.callback=ae),j=Xr(b,B,x),j!==null&&(ci(j,b,x),gd(j,b,x))}function Rd(b,x){if(b=b.memoizedState,b!==null&&b.dehydrated!==null){var j=b.retryLane;b.retryLane=j!==0&&j<x?j:x}}function Qp(b,x){Rd(b,x),(b=b.alternate)&&Rd(b,x)}var On={},w0=Eg(),yo=QN(),_0=Object.assign,kd=Symbol.for("react.element"),Al=Symbol.for("react.transitional.element"),Id=Symbol.for("react.portal"),Nd=Symbol.for("react.fragment"),jd=Symbol.for("react.strict_mode"),Dd=Symbol.for("react.profiler"),Zp=Symbol.for("react.consumer"),cs=Symbol.for("react.context"),nh=Symbol.for("react.forward_ref"),T0=Symbol.for("react.suspense"),wc=Symbol.for("react.suspense_list"),E0=Symbol.for("react.memo"),to=Symbol.for("react.lazy"),Jp=Symbol.for("react.activity"),My=Symbol.for("react.memo_cache_sentinel"),_c=Symbol.iterator,xu=Symbol.for("react.client.reference"),vu=Array.isArray,sn=w0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Py=e.rendererVersion,em=e.rendererPackageName,ah=e.extraDevToolsConfig,ih=e.getPublicInstance,_3=e.getRootHostContext,rh=e.getChildHostContext,A0=e.prepareForCommit,T3=e.resetAfterCommit,Ly=e.createInstance;e.cloneMutableInstance;var tm=e.appendInitialChild,xo=e.finalizeInitialChildren,no=e.shouldSetTextContent,Tc=e.createTextInstance;e.cloneMutableTextInstance;var zy=e.scheduleTimeout,E3=e.cancelTimeout,vo=e.noTimeout,ji=e.isPrimaryRenderer;e.warnsIfNotActing;var Qn=e.supportsMutation,Bo=e.supportsPersistence,Za=e.supportsHydration,kn=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var ka=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Vn=e.setCurrentUpdatePriority,us=e.getCurrentUpdatePriority,oh=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var Od=e.shouldAttemptEagerTransition,R0=e.detachDeletedInstance;e.requestPostPaintCallback;var nm=e.maySuspendCommit,sh=e.maySuspendCommitOnUpdate,Fy=e.maySuspendCommitInSyncRender,ui=e.preloadInstance,By=e.startSuspendingCommit,k0=e.suspendInstance;e.suspendOnActiveViewTransition;var A3=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var Md=e.NotPendingTransition,Pd=e.HostTransitionContext,Hy=e.resetFormInstance;e.bindToConsole;var $y=e.supportsMicrotasks,Uy=e.scheduleMicrotask,Zi=e.supportsTestSelectors,Di=e.findFiberRoot,I0=e.getBoundingRect,am=e.getTextContent,Su=e.isHiddenSubtree,Gy=e.matchAccessibilityRole,Ec=e.setFocusIfFocusable,N0=e.setupIntersectionObserver,qy=e.appendChild,Wy=e.appendChildToContainer,R3=e.commitTextUpdate,k3=e.commitMount,I3=e.commitUpdate,N3=e.insertBefore,j3=e.insertInContainerBefore,D3=e.removeChild,Vy=e.removeChildFromContainer,Yy=e.resetTextContent,vT=e.hideInstance,O3=e.hideTextInstance,M3=e.unhideInstance,P3=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var Ky=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var L3=e.cloneInstance,Xy=e.createContainerChildSet,Qy=e.appendChildToContainerChildSet,z3=e.finalizeContainerChildren,Zy=e.replaceContainerChildren,F3=e.cloneHiddenInstance,Jy=e.cloneHiddenTextInstance,Cu=e.isSuspenseInstancePending,j0=e.isSuspenseInstanceFallback,D0=e.getSuspenseInstanceFallbackErrorDetails,O0=e.registerSuspenseInstanceRetry,B3=e.canHydrateFormStateMarker,ex=e.isFormStateMarkerMatching,H3=e.getNextHydratableSibling,$3=e.getNextHydratableSiblingAfterSingleton,U3=e.getFirstHydratableChild,G3=e.getFirstHydratableChildWithinContainer,q3=e.getFirstHydratableChildWithinActivityInstance,W3=e.getFirstHydratableChildWithinSuspenseInstance,tx=e.getFirstHydratableChildWithinSingleton,V3=e.canHydrateInstance,Y3=e.canHydrateTextInstance,nx=e.canHydrateActivityInstance,K3=e.canHydrateSuspenseInstance,X3=e.hydrateInstance,ST=e.hydrateTextInstance,ax=e.hydrateActivityInstance,Q3=e.hydrateSuspenseInstance,Z3=e.getNextHydratableInstanceAfterActivityInstance,ix=e.getNextHydratableInstanceAfterSuspenseInstance,J3=e.commitHydratedInstance,eC=e.commitHydratedContainer,CT=e.commitHydratedActivityInstance,wT=e.commitHydratedSuspenseInstance,tC=e.finalizeHydratedChildren,im=e.flushHydrationEvents;e.clearActivityBoundary;var rx=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var M0=e.clearSuspenseBoundaryFromContainer,nC=e.hideDehydratedBoundary,aC=e.unhideDehydratedBoundary,lh=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var iC=e.validateHydratableInstance,ox=e.validateHydratableTextInstance,ds=e.supportsResources,P0=e.isHostHoistableType,rm=e.getHoistableRoot,sx=e.getResource,lx=e.acquireResource,wu=e.releaseResource,rC=e.hydrateHoistable,cx=e.mountHoistable,ux=e.unmountHoistable,L0=e.createHoistableInstance,oC=e.prepareToCommitHoistables,dx=e.mayResourceSuspendCommit,fx=e.preloadResource,sC=e.suspendResource,Ji=e.supportsSingletons,z0=e.resolveSingletonInstance,$i=e.acquireSingletonInstance,dr=e.releaseSingletonInstance,hx=e.isHostSingletonType,Ld=e.isSingletonScope,F0=[],zd=-1,Rl={},So=Math.clz32?Math.clz32:v,B0=Math.log,lC=Math.LN2,H0=256,Fd=262144,ch=4194304,om=yo.unstable_scheduleCallback,$0=yo.unstable_cancelCallback,cC=yo.unstable_shouldYield,px=yo.unstable_requestPaint,zr=yo.unstable_now,U0=yo.unstable_ImmediatePriority,uC=yo.unstable_UserBlockingPriority,sm=yo.unstable_NormalPriority,G0=yo.unstable_IdlePriority,mx=yo.log,dC=yo.unstable_setDisableYieldValue,Bd=null,Co=null,Oi=typeof Object.is=="function"?Object.is:M,q0=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var x=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(x))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},_T=Object.prototype.hasOwnProperty,W0,kl,lm=!1,gx=new WeakMap,Ac=[],Il=0,Ia=null,cm=0,fs=[],Ho=0,hs=null,Tr=1,Us="",fr=m(null),Rc=m(null),Er=m(null),um=m(null),er=null,Ja=null,Yn=!1,Nl=null,ao=!1,V0=Error(i(519)),ps=m(null),za=null,Gs=null,fC=typeof AbortController<"u"?AbortController:function(){var b=[],x=this.signal={aborted:!1,addEventListener:function(j,B){b.push(B)}};this.abort=function(){x.aborted=!0,b.forEach(function(j){return j()})}},hr=yo.unstable_scheduleCallback,TT=yo.unstable_NormalPriority,ei={$$typeof:cs,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},dm=null,va=null,Fr=!1,ms=!1,Y0=!1,_u=0,uh=null,bx=0,kc=0,tr=null,gs=sn.S;sn.S=function(b,x){Wd=zr(),typeof x=="object"&&x!==null&&typeof x.then=="function"&&Jt(b,x),gs!==null&&gs(b,x)};var Tu=m(null),nr=Error(i(460)),K0=Error(i(474)),bs=Error(i(542)),jl={then:function(){}},io=null,Eu=null,Hd=0,Ar=En(!0),yx=En(!1),Rr=[],Dl=0,$d=0,$o=!1,X0=!1,Ud=m(null),Au=m(0),wo=m(null),ro=null,Si=m(0),Ic=0,In=null,tn=null,yn=null,Mn=!1,Dn=!1,ta=!1,Br=0,ys=0,qs=null,xx=0,Uo={readContext:Ze,use:Mf,useCallback:Ua,useContext:Ua,useEffect:Ua,useImperativeHandle:Ua,useLayoutEffect:Ua,useInsertionEffect:Ua,useMemo:Ua,useReducer:Ua,useRef:Ua,useState:Ua,useDebugValue:Ua,useDeferredValue:Ua,useTransition:Ua,useSyncExternalStore:Ua,useId:Ua,useHostTransitionStatus:Ua,useFormState:Ua,useActionState:Ua,useOptimistic:Ua,useMemoCache:Ua,useCacheRefresh:Ua};Uo.useEffectEvent=Ua;var di={readContext:Ze,use:Mf,useCallback:function(b,x){return Mr().memoizedState=[b,x===void 0?null:x],b},useContext:Ze,useEffect:Mp,useImperativeHandle:function(b,x,j){j=j!=null?j.concat([b]):null,Sd(4194308,4,Ff.bind(null,x,b),j)},useLayoutEffect:function(b,x){return Sd(4194308,4,b,x)},useInsertionEffect:function(b,x){Sd(4,2,b,x)},useMemo:function(b,x){var j=Mr();x=x===void 0?null:x;var B=b();if(ta){$(!0);try{b()}finally{$(!1)}}return j.memoizedState=[B,x],B},useReducer:function(b,x,j){var B=Mr();if(j!==void 0){var Q=j(x);if(ta){$(!0);try{j(x)}finally{$(!1)}}}else Q=x;return B.memoizedState=B.baseState=Q,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:Q},B.queue=b,b=b.dispatch=mT.bind(null,In,b),[B.memoizedState,b]},useRef:function(b){var x=Mr();return b={current:b},x.memoizedState=b},useState:function(b){b=oy(b);var x=b.queue,j=ZS.bind(null,In,x);return x.dispatch=j,[b.memoizedState,j]},useDebugValue:Lp,useDeferredValue:function(b,x){var j=Mr();return Hf(j,b,x)},useTransition:function(){var b=oy(!1);return b=KS.bind(null,In,b.queue,!0,!1),Mr().memoizedState=b,[!1,b]},useSyncExternalStore:function(b,x,j){var B=In,Q=Mr();if(Yn){if(j===void 0)throw Error(i(407));j=j()}else{if(j=x(),Pn===null)throw Error(i(349));(Kn&127)!==0||qS(B,x,j)}Q.memoizedState=j;var ae={value:j,getSnapshot:x};return Q.queue=ae,Mp(ry.bind(null,B,ae,b),[b]),B.flags|=2048,Po(9,{destroy:void 0},iy.bind(null,B,ae,j,x),null),j},useId:function(){var b=Mr(),x=Pn.identifierPrefix;if(Yn){var j=Us,B=Tr;j=(B&~(1<<32-So(B)-1)).toString(32)+j,x="_"+x+"R_"+j,j=Br++,0<j&&(x+="H"+j.toString(32)),x+="_"}else j=xx++,x="_"+x+"r_"+j.toString(32)+"_";return b.memoizedState=x},useHostTransitionStatus:dy,useFormState:ly,useActionState:ly,useOptimistic:function(b){var x=Mr();x.memoizedState=x.baseState=b;var j={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return x.queue=j,x=a0.bind(null,In,!0,j),j.dispatch=x,[b,x]},useMemoCache:Vg,useCacheRefresh:function(){return Mr().memoizedState=pT.bind(null,In)},useEffectEvent:function(b){var x=Mr(),j={impl:b};return x.memoizedState=j,function(){if((Gn&2)!==0)throw Error(i(440));return j.impl.apply(void 0,arguments)}}},Ol={readContext:Ze,use:Mf,useCallback:t0,useContext:Ze,useEffect:zf,useImperativeHandle:YS,useInsertionEffect:lu,useLayoutEffect:Pp,useMemo:Bf,useReducer:mc,useRef:e0,useState:function(){return mc(Hs)},useDebugValue:Lp,useDeferredValue:function(b,x){var j=Xa();return uy(j,tn.memoizedState,b,x)},useTransition:function(){var b=mc(Hs)[0],x=Xa().memoizedState;return[typeof b=="boolean"?b:Pr(b),x]},useSyncExternalStore:xd,useId:n0,useHostTransitionStatus:dy,useFormState:Pf,useActionState:Pf,useOptimistic:function(b,x){var j=Xa();return Dp(j,tn,b,x)},useMemoCache:Vg,useCacheRefresh:QS};Ol.useEffectEvent=Zr;var Ru={readContext:Ze,use:Mf,useCallback:t0,useContext:Ze,useEffect:zf,useImperativeHandle:YS,useInsertionEffect:lu,useLayoutEffect:Pp,useMemo:Bf,useReducer:Kg,useRef:e0,useState:function(){return Kg(Hs)},useDebugValue:Lp,useDeferredValue:function(b,x){var j=Xa();return tn===null?Hf(j,b,x):uy(j,tn.memoizedState,b,x)},useTransition:function(){var b=Kg(Hs)[0],x=Xa().memoizedState;return[typeof b=="boolean"?b:Pr(b),x]},useSyncExternalStore:xd,useId:n0,useHostTransitionStatus:dy,useFormState:Lf,useActionState:Lf,useOptimistic:function(b,x){var j=Xa();return tn!==null?Dp(j,tn,b,x):(j.baseState=b,[b,j.queue.dispatch])},useMemoCache:Vg,useCacheRefresh:QS};Ru.useEffectEvent=Zr;var fm={enqueueSetState:function(b,x,j){b=b._reactInternals;var B=Qa(),Q=Qi(B);Q.payload=x,j!=null&&(Q.callback=j),x=Xr(b,Q,B),x!==null&&(ci(x,b,B),gd(x,b,B))},enqueueReplaceState:function(b,x,j){b=b._reactInternals;var B=Qa(),Q=Qi(B);Q.tag=1,Q.payload=x,j!=null&&(Q.callback=j),x=Xr(b,Q,B),x!==null&&(ci(x,b,B),gd(x,b,B))},enqueueForceUpdate:function(b,x){b=b._reactInternals;var j=Qa(),B=Qi(j);B.tag=2,x!=null&&(B.callback=x),x=Xr(b,B,j),x!==null&&(ci(x,b,j),gd(x,b,j))}},oo=Error(i(461)),Ga=!1,Gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},Ci=!1,wi=!1,dh=!1,vx=typeof WeakSet=="function"?WeakSet:Set,Mi=null,fi=null,Pi=!1,Sa=null,Go=8192,fh={getCacheForType:function(b){var x=Ze(ei),j=x.data.get(b);return j===void 0&&(j=b(),x.data.set(b,j)),j},cacheSignal:function(){return Ze(ei).controller.signal}},xs=0,hh=1,ph=2,hm=3,ku=4;if(typeof Symbol=="function"&&Symbol.for){var qd=Symbol.for;xs=qd("selector.component"),hh=qd("selector.has_pseudo_class"),ph=qd("selector.role"),hm=qd("selector.test_id"),ku=qd("selector.text")}var qo=typeof WeakMap=="function"?WeakMap:Map,Gn=0,Pn=null,qn=null,Kn=0,Ca=0,Ui=null,Ws=!1,Iu=!1,Nu=!1,Ml=0,hi=0,Nc=0,ju=0,mh=0,so=0,gh=0,pm=null,_o=null,Q0=!1,mm=0,Wd=0,Du=1/0,gm=null,jc=null,Gi=0,Dc=null,Vd=null,Pl=0,bh=0,Z0=null,Sx=null,la=0,bm=null;return On.attemptContinuousHydration=function(b){if(b.tag===13||b.tag===31){var x=Ka(b,67108864);x!==null&&ci(x,b,67108864),Qp(b,67108864)}},On.attemptHydrationAtCurrentPriority=function(b){if(b.tag===13||b.tag===31){var x=Qa();x=H(x);var j=Ka(b,x);j!==null&&ci(j,b,x),Qp(b,x)}},On.attemptSynchronousHydration=function(b){switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var x=S(b.pendingLanes);if(x!==0){for(b.pendingLanes|=2,b.entangledLanes|=2;x;){var j=1<<31-So(x);b.entanglements[1]|=j,x&=~j}Le(b),(Gn&6)===0&&(Du=zr()+500,We(0))}}break;case 31:case 13:x=Ka(b,2),x!==null&&ci(x,b,2),g0(),Qp(b,2)}},On.batchedUpdates=function(b,x){return b(x)},On.createComponentSelector=function(b){return{$$typeof:xs,value:b}},On.createContainer=function(b,x,j,B,Q,ae,be,De,tt,vt){return yu(b,x,!1,null,j,B,ae,null,be,De,tt,vt)},On.createHasPseudoClassSelector=function(b){return{$$typeof:hh,value:b}},On.createHydrationContainer=function(b,x,j,B,Q,ae,be,De,tt,vt,Dt,Ct,Vt,An){return b=yu(j,B,!0,b,Q,ae,De,An,tt,vt,Dt,Ct),b.context=C0(null),j=b.current,B=Qa(),B=H(B),Q=Qi(B),Q.callback=x??null,Xr(j,Q,B),x=B,b.current.lanes=x,I(b,x),Le(b),b},On.createPortal=function(b,x,j){var B=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Id,key:B==null?null:""+B,children:b,containerInfo:x,implementation:j}},On.createRoleSelector=function(b){return{$$typeof:ph,value:b}},On.createTestNameSelector=function(b){return{$$typeof:hm,value:b}},On.createTextSelector=function(b){return{$$typeof:ku,value:b}},On.defaultOnCaughtError=function(b){console.error(b)},On.defaultOnRecoverableError=function(b){q0(b)},On.defaultOnUncaughtError=function(b){q0(b)},On.deferredUpdates=function(b){var x=sn.T,j=us();try{return Vn(32),sn.T=null,b()}finally{Vn(j),sn.T=x}},On.discreteUpdates=function(b,x,j,B,Q){var ae=sn.T,be=us();try{return Vn(2),sn.T=null,b(x,j,B,Q)}finally{Vn(be),sn.T=ae,Gn===0&&(Du=zr()+500)}},On.findAllNodes=bo,On.findBoundingRects=function(b,x){if(!Zi)throw Error(i(363));x=bo(b,x),b=[];for(var j=0;j<x.length;j++)b.push(I0(x[j]));for(x=b.length-1;0<x;x--){j=b[x];for(var B=j.x,Q=B+j.width,ae=j.y,be=ae+j.height,De=x-1;0<=De;De--)if(x!==De){var tt=b[De],vt=tt.x,Dt=vt+tt.width,Ct=tt.y,Vt=Ct+tt.height;if(B>=vt&&ae>=Ct&&Q<=Dt&&be<=Vt){b.splice(x,1);break}else if(B!==vt||j.width!==tt.width||Vt<ae||Ct>be){if(!(ae!==Ct||j.height!==tt.height||Dt<B||vt>Q)){vt>B&&(tt.width+=vt-B,tt.x=B),Dt<Q&&(tt.width=Q-vt),b.splice(x,1);break}}else{Ct>ae&&(tt.height+=Ct-ae,tt.y=ae),Vt<be&&(tt.height=be-Ct),b.splice(x,1);break}}}return b},On.findHostInstance=Xp,On.findHostInstanceWithNoPortals=function(b){return b=s(b),b=b!==null?u(b):null,b===null?null:ih(b.stateNode)},On.findHostInstanceWithWarning=function(b){return Xp(b)},On.flushPassiveEffects=El,On.flushSyncFromReconciler=function(b){var x=Gn;Gn|=1;var j=sn.T,B=us();try{if(Vn(2),sn.T=null,b)return b()}finally{Vn(B),sn.T=j,Gn=x,(Gn&6)===0&&We(0)}},On.flushSyncWork=g0,On.focusWithin=function(b,x){if(!Zi)throw Error(i(363));for(b=hu(b),x=Qf(b,x),x=Array.from(x),b=0;b<x.length;){var j=x[b++],B=j.tag;if(!Su(j)){if((B===5||B===26||B===27)&&Ec(j.stateNode))return!0;for(j=j.child;j!==null;)x.push(j),j=j.sibling}}return!1},On.getFindAllNodesFailureDescription=function(b,x){if(!Zi)throw Error(i(363));var j=0,B=[];b=[hu(b),0];for(var Q=0;Q<b.length;){var ae=b[Q++],be=ae.tag,De=b[Q++],tt=x[De];if((be!==5&&be!==26&&be!==27||!Su(ae))&&(pu(ae,tt)&&(B.push(Xf(tt)),De++,De>j&&(j=De)),De<x.length))for(ae=ae.child;ae!==null;)b.push(ae,De),ae=ae.sibling}if(j<x.length){for(b=[];j<x.length;j++)b.push(Xf(x[j]));return`findAllNodes was able to match part of the selector:
  `+(B.join(" > ")+`

No matching component was found for:
  `)+b.join(" > ")}return null},On.getPublicRootInstance=function(b){if(b=b.current,!b.child)return null;switch(b.child.tag){case 27:case 5:return ih(b.child.stateNode);default:return b.child.stateNode}},On.injectIntoDevTools=function(){var b={bundleType:0,version:Py,rendererPackageName:em,currentDispatcherRef:sn,reconcilerVersion:"19.2.0"};if(ah!==null&&(b.rendererConfig=ah),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")b=!1;else{var x=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(x.isDisabled||!x.supportsFiber)b=!0;else{try{Bd=x.inject(b),Co=x}catch{}b=!!x.checkDCE}}return b},On.isAlreadyRendering=function(){return(Gn&6)!==0},On.observeVisibleRects=function(b,x,j,B){if(!Zi)throw Error(i(363));b=bo(b,x);var Q=N0(b,j,B).disconnect;return{disconnect:function(){Q()}}},On.shouldError=function(){return null},On.shouldSuspend=function(){return!1},On.startHostTransition=function(b,x,j,B){if(b.tag!==5)throw Error(i(476));var Q=XS(b).queue;KS(b,Q,x,Md,j===null?a:function(){var ae=XS(b);return ae.next===null&&(ae=b.alternate.memoizedState),zp(b,ae.next.queue,{},Qa()),j(B)})},On.updateContainer=function(b,x,j,B){var Q=x.current,ae=Qa();return Oy(Q,ae,b,x,j,B),ae},On.updateContainerSync=function(b,x,j,B){return Oy(x.current,2,b,x,j,B),2},On},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(ZE)),ZE.exports}var IF;function EBe(){return IF||(IF=1,QE.exports=TBe()),QE.exports}var ABe=EBe();const RBe=_f(ABe);var JE={exports:{}},Jd={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NF;function kBe(){return NF||(NF=1,Jd.ConcurrentRoot=1,Jd.ContinuousEventPriority=8,Jd.DefaultEventPriority=32,Jd.DiscreteEventPriority=2,Jd.IdleEventPriority=268435456,Jd.LegacyRoot=0,Jd.NoEventPriority=0),Jd}var jF;function IBe(){return jF||(jF=1,JE.exports=kBe()),JE.exports}var f5=IBe();const DF={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let OF=!1,MF=!1;const U4=".react-konva-event",NBe=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,jBe=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,DBe={};function h5(t,e,n=DBe){if(!OF&&"zIndex"in e&&(console.warn(jBe),OF=!0),!MF&&e.draggable){var a=e.x!==void 0||e.y!==void 0,i=e.onDragEnd||e.onDragMove;a&&!i&&(console.warn(NBe),MF=!0)}for(var r in n)if(!DF[r]){var o=r.slice(0,2)==="on",s=n[r]!==e[r];if(o&&s){var c=r.substr(2).toLowerCase();c.substr(0,7)==="content"&&(c="content"+c.substr(7,1).toUpperCase()+c.substr(8)),t.off(c,n[r])}var u=!e.hasOwnProperty(r);u&&t.setAttr(r,void 0)}var d=e._useStrictMode,h={},m=!1;const g={};for(var r in e)if(!DF[r]){var o=r.slice(0,2)==="on",y=n[r]!==e[r];if(o&&y){var c=r.substr(2).toLowerCase();c.substr(0,7)==="content"&&(c="content"+c.substr(7,1).toUpperCase()+c.substr(8)),e[r]&&(g[c]=e[r])}!o&&(e[r]!==n[r]||d&&e[r]!==t.getAttr(r))&&(m=!0,h[r]=e[r])}m&&(t.setAttrs(h),Ap(t));for(var c in g)t.off(c+U4),t.on(c+U4,g[c])}function Ap(t){if(!$t.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}var e6=QN();const iJ={},OBe={};hb.Node.prototype._applyProps=h5;let rJ=f5.DefaultEventPriority;function MBe(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),Ap(t)}function PBe(t,e,n){let a=hb[t];a||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),a=hb.Group);const i={},r={};for(var o in e)if(o!=="ref"){var s=o.slice(0,2)==="on";s?r[o]=e[o]:i[o]=e[o]}const c=new a(i);return h5(c,r),c}function LBe(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function zBe(t,e,n){return!1}function FBe(t){return t}function BBe(){return null}function HBe(){return null}function $Be(t,e,n,a){return OBe}function UBe(){}function GBe(t){}function qBe(t,e){return!1}function WBe(){return iJ}function VBe(){return iJ}const YBe=setTimeout,KBe=clearTimeout,XBe=!0,QBe=t=>{t()},ZBe=-1;function JBe(t,e){return!1}const eHe=!1,tHe=!1,nHe=!0,aHe=!1,iHe=!1;function rHe(t,e){e.parent===t?e.moveToTop():t.add(e),Ap(t)}function oHe(t,e){e.parent===t?e.moveToTop():t.add(e),Ap(t)}function oJ(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),Ap(t)}function sHe(t,e,n){oJ(t,e,n)}function lHe(t,e){e.destroy(),e.off(U4),Ap(t)}function cHe(t,e){e.destroy(),e.off(U4),Ap(t)}function uHe(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function dHe(t,e,n){}function fHe(t,e,n,a){h5(t,a,n)}function hHe(t){t.hide(),Ap(t)}function pHe(t){}function mHe(t,e){(e.visible==null||e.visible)&&t.show()}function gHe(t,e){}function bHe(t){}function yHe(){}function xHe(){return null}function vHe(){}function SHe(){}function CHe(){return f5.DefaultEventPriority}function wHe(){}function _He(){return null}function THe(t){rJ=t}function EHe(){return rJ}function AHe(){return f5.DiscreteEventPriority}function RHe(){return!1}function kHe(){}function IHe(){return null}function NHe(){return-1.1}function jHe(){}function DHe(){return!1}function OHe(){return!0}function MHe(){}function PHe(){}function LHe(){return null}const zHe=null,FHe=ke.createContext(null);function BHe(){}const HHe=Object.freeze(Object.defineProperty({__proto__:null,HostTransitionContext:FHe,NotPendingTransition:zHe,afterActiveInstanceBlur:SHe,appendChild:rHe,appendChildToContainer:oHe,appendInitialChild:MBe,beforeActiveInstanceBlur:vHe,cancelTimeout:KBe,clearContainer:bHe,commitMount:dHe,commitTextUpdate:uHe,commitUpdate:fHe,createInstance:PBe,createTextInstance:LBe,detachDeletedInstance:yHe,finalizeInitialChildren:zBe,getChildHostContext:VBe,getCurrentEventPriority:CHe,getCurrentUpdatePriority:EHe,getInstanceFromNode:xHe,getInstanceFromScope:_He,getPublicInstance:FBe,getRootHostContext:WBe,hideInstance:hHe,hideTextInstance:pHe,idlePriority:e6.unstable_IdlePriority,insertBefore:oJ,insertInContainerBefore:sHe,isPrimaryRenderer:eHe,maySuspendCommit:DHe,noTimeout:ZBe,now:e6.unstable_now,preloadInstance:OHe,prepareForCommit:BBe,preparePortalMount:HBe,prepareScopeUpdate:wHe,prepareUpdate:$Be,removeChild:lHe,removeChildFromContainer:cHe,requestPostPaintCallback:jHe,resetAfterCommit:UBe,resetFormInstance:BHe,resetTextContent:GBe,resolveEventTimeStamp:NHe,resolveEventType:IHe,resolveUpdatePriority:AHe,run:e6.unstable_runWithPriority,scheduleMicrotask:QBe,scheduleTimeout:YBe,setCurrentUpdatePriority:THe,shouldAttemptEagerTransition:RHe,shouldDeprioritizeSubtree:qBe,shouldSetTextContent:JBe,startSuspendingCommit:MHe,supportsHydration:iHe,supportsMicrotasks:XBe,supportsMutation:nHe,supportsPersistence:aHe,suspendInstance:PHe,trackSchedulerEvent:kHe,unhideInstance:mHe,unhideTextInstance:gHe,waitForCommitToBeReady:LHe,warnsIfNotActing:tHe},Symbol.toStringTag,{value:"Module"}));function sJ(t,e,n){if(!t)return;if(n(t)===!0)return t;let a=t.child;for(;a;){const i=sJ(a,e,n);if(i)return i;a=a.sibling}}function lJ(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const xD=lJ(E.createContext(null));let cJ=class extends E.Component{render(){return E.createElement(xD.Provider,{value:this._reactInternals},this.props.children)}};function $He(){const t=E.useContext(xD);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=E.useId();return E.useMemo(()=>{for(const n of[t,t?.alternate]){if(!n)continue;const a=sJ(n,!1,i=>{let r=i.memoizedState;for(;r;){if(r.memoizedState===e)return!0;r=r.next}});if(a)return a}},[t,e])}const UHe=Symbol.for("react.context"),GHe=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===UHe;function qHe(){const t=$He(),[e]=E.useState(()=>new Map);e.clear();let n=t;for(;n;){const a=n.type;GHe(a)&&a!==xD&&!e.has(a)&&e.set(a,E.use(lJ(a))),n=n.return}return e}function WHe(){const t=qHe();return E.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>a=>E.createElement(e,null,E.createElement(n.Provider,{...a,value:t.get(n)})),e=>E.createElement(cJ,{...e})),[t])}if(ke.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function VHe(t){const e=ke.useRef({});return ke.useLayoutEffect(()=>{e.current=t}),ke.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const YHe=()=>{const t=ke.useRef(0);return ke.useMemo(()=>{t.current++},[]),t.current>1},KHe=t=>{const e=ke.useRef(null),n=ke.useRef(null),a=ke.useRef(null),i=VHe(t),r=WHe(),o=ke.useRef(!1),s=u=>{const{forwardedRef:d}=t;d&&(typeof d=="function"?d(u):d.current=u)},c=YHe();return ke.useLayoutEffect(()=>o.current&&c?()=>{o.current=!1,s(null),Qx.updateContainer(null,a.current,null),n.current.destroy()}:(o.current=!0,n.current=new hb.Stage({width:t.width,height:t.height,container:e.current}),s(n.current),a.current=Qx.createContainer(n.current,f5.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),Qx.updateContainer(ke.createElement(r,{},t.children),a.current,null,()=>{}),()=>{c||(s(null),Qx.updateContainer(null,a.current,null),n.current.destroy())}),[]),ke.useLayoutEffect(()=>{s(n.current),h5(n.current,t,i),Qx.updateContainer(ke.createElement(r,{},t.children),a.current,null)}),ke.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},XHe="Layer",QHe="Rect",ZHe="Line",JHe="Image",Qx=RBe(HHe),e$e=ke.forwardRef((t,e)=>ke.createElement(cJ,{},ke.createElement(KHe,{...t,forwardedRef:e}))),t$e=t=>{const e=yt.c(30),{image:n,error:a,lines:i,imageTransform:r,rotation:o,scaleX:s,zoom:c,stagePos:u,cursor:d,stageRef:h,layerRef:m,onMouseDown:g,onMouseMove:y,onMouseUp:v,onWheel:S,onViewportResize:w}=t,_=E.useRef(null);let T;e[0]===Symbol.for("react.memo_cache_sentinel")?(T={width:800,height:600},e[0]=T):T=e[0];const[A,R]=E.useState(T);let I,N;e[1]!==w?(I=()=>{const $=()=>{if(_.current){const{width:M,height:z}=_.current.getBoundingClientRect();R({width:M,height:z}),w?.(M,z)}};return $(),window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},N=[w],e[1]=w,e[2]=I,e[3]=N):(I=e[2],N=e[3]),E.useEffect(I,N);let P;e[4]===Symbol.for("react.memo_cache_sentinel")?(P={flex:1,display:"flex",justifyContent:"center",alignItems:"center",bgcolor:"#2a2a2a",position:"relative",overflow:"hidden",backgroundImage:`
          linear-gradient(45deg, #1a1a1a 25%, transparent 25%),
          linear-gradient(-45deg, #1a1a1a 25%, transparent 25%),
          linear-gradient(45deg, transparent 75%, #1a1a1a 75%),
          linear-gradient(-45deg, transparent 75%, #1a1a1a 75%)
        `,backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px"},e[4]=P):P=e[4];let O;e[5]!==a?(O=a&&l.jsx(xt,{severity:"error",sx:{position:"absolute",top:16,left:16,right:16,zIndex:10},children:a}),e[5]=a,e[6]=O):O=e[6];let D;e[7]!==a||e[8]!==n?(D=!n&&!a&&l.jsx(Yt,{}),e[7]=a,e[8]=n,e[9]=D):D=e[9];let H;e[10]!==d||e[11]!==n||e[12]!==r||e[13]!==m||e[14]!==i||e[15]!==g||e[16]!==y||e[17]!==v||e[18]!==S||e[19]!==o||e[20]!==s||e[21]!==u||e[22]!==h||e[23]!==A||e[24]!==c?(H=n&&l.jsx(e$e,{ref:h,width:A.width,height:A.height,scaleX:c,scaleY:c,x:u.x,y:u.y,onMouseDown:g,onMousemove:y,onMouseup:v,onMouseleave:v,onWheel:S,style:{cursor:d},children:l.jsxs(XHe,{ref:m,children:[l.jsx(QHe,{x:r.x-r.width/2,y:r.y-r.height/2,width:r.width,height:r.height,stroke:"white",strokeWidth:2/c,listening:!1}),l.jsx(JHe,{image:n,x:r.x,y:r.y,offsetX:r.width/2,offsetY:r.height/2,width:r.width,height:r.height,scaleX:s,scaleY:1,rotation:o}),i.map(($,M)=>l.jsx(ZHe,{points:$.points,stroke:$.color,strokeWidth:$.strokeWidth/c,tension:.5,lineCap:"round",lineJoin:"round",globalCompositeOperation:$.tool==="eraser"?"destination-out":"source-over"},M))]})}),e[10]=d,e[11]=n,e[12]=r,e[13]=m,e[14]=i,e[15]=g,e[16]=y,e[17]=v,e[18]=S,e[19]=o,e[20]=s,e[21]=u,e[22]=h,e[23]=A,e[24]=c,e[25]=H):H=e[25];let L;return e[26]!==O||e[27]!==D||e[28]!==H?(L=l.jsxs(Z,{ref:_,sx:P,children:[O,D,H]}),e[26]=O,e[27]=D,e[28]=H,e[29]=L):L=e[29],L},n$e=["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ffffff","#000000"],a$e=t=>{const e=yt.c(38),{tool:n,canvasSize:a,brushSize:i,brushColor:r,eraserSize:o,onBrushSizeChange:s,onBrushColorChange:c,onEraserSizeChange:u}=t,{t:d}=ht("common");let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h={width:250,borderLeft:1,borderColor:"divider",bgcolor:"background.paper",p:2,overflowY:"auto"},e[0]=h):h=e[0];let m;e[1]!==d?(m=d("imageEditor.canvasInfo"),e[1]=d,e[2]=m):m=e[2];let g;e[3]!==m?(g=l.jsx(ie,{variant:"subtitle2",gutterBottom:!0,children:m}),e[3]=m,e[4]=g):g=e[4];let y;e[5]!==a.height||e[6]!==a.width||e[7]!==d?(y=d("imageEditor.canvasSize",{width:a.width,height:a.height}),e[5]=a.height,e[6]=a.width,e[7]=d,e[8]=y):y=e[8];let v;e[9]!==y?(v=l.jsx(ie,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:y}),e[9]=y,e[10]=v):v=e[10];let S;e[11]===Symbol.for("react.memo_cache_sentinel")?(S=l.jsx(fn,{sx:{my:2}}),e[11]=S):S=e[11];let w;e[12]!==d?(w=d("imageEditor.toolProperties"),e[12]=d,e[13]=w):w=e[13];let _;e[14]!==w?(_=l.jsx(ie,{variant:"subtitle2",gutterBottom:!0,children:w}),e[14]=w,e[15]=_):_=e[15];let T;e[16]!==r||e[17]!==i||e[18]!==c||e[19]!==s||e[20]!==d||e[21]!==n?(T=n==="brush"&&l.jsxs(l.Fragment,{children:[l.jsx(ie,{variant:"body2",gutterBottom:!0,sx:{mt:2},children:d("imageEditor.brushSize",{size:i})}),l.jsx(ki,{value:i,onChangeCommitted:(N,P)=>s(P),min:1,max:50,sx:{mb:3}}),l.jsx(ie,{variant:"body2",gutterBottom:!0,children:d("imageEditor.brushColor")}),l.jsx(Z,{sx:{display:"flex",gap:1,flexWrap:"wrap",mb:2},onMouseDown:i$e,onMouseMove:r$e,children:n$e.map(N=>l.jsx(Z,{onClick:()=>c(N),sx:{width:32,height:32,bgcolor:N,border:r===N?3:1,borderColor:r===N?"primary.main":"divider",borderRadius:1,cursor:"pointer"}},N))}),l.jsx("input",{type:"color",value:r,onChange:N=>c(N.target.value),onMouseDown:o$e,onMouseMove:s$e,style:{width:"100%",height:40}})]}),e[16]=r,e[17]=i,e[18]=c,e[19]=s,e[20]=d,e[21]=n,e[22]=T):T=e[22];let A;e[23]!==o||e[24]!==u||e[25]!==d||e[26]!==n?(A=n==="eraser"&&l.jsxs(l.Fragment,{children:[l.jsx(ie,{variant:"body2",gutterBottom:!0,sx:{mt:2},children:d("imageEditor.eraserSize",{size:o})}),l.jsx(ki,{value:o,onChangeCommitted:(N,P)=>u(P),min:5,max:100,sx:{mb:3}})]}),e[23]=o,e[24]=u,e[25]=d,e[26]=n,e[27]=A):A=e[27];let R;e[28]!==d||e[29]!==n?(R=n==="pan"&&l.jsx(ie,{variant:"body2",color:"text.secondary",sx:{mt:2},children:d("imageEditor.panHelp")}),e[28]=d,e[29]=n,e[30]=R):R=e[30];let I;return e[31]!==A||e[32]!==R||e[33]!==g||e[34]!==v||e[35]!==_||e[36]!==T?(I=l.jsxs(Z,{sx:h,children:[g,v,S,_,T,A,R]}),e[31]=A,e[32]=R,e[33]=g,e[34]=v,e[35]=_,e[36]=T,e[37]=I):I=e[37],I};function i$e(t){return t.stopPropagation()}function r$e(t){return t.stopPropagation()}function o$e(t){return t.stopPropagation()}function s$e(t){return t.stopPropagation()}const l$e=t=>{const e=yt.c(20),{saving:n,imageLoaded:a,onSave:i,onCancel:r}=t,{t:o}=ht("common");let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={borderTop:1,borderColor:"divider",p:2},e[0]=s):s=e[0];let c;e[1]!==o?(c=o("buttons.cancel"),e[1]=o,e[2]=c):c=e[2];let u;e[3]!==r||e[4]!==n||e[5]!==c?(u=l.jsx(Ue,{onClick:r,disabled:n,children:c}),e[3]=r,e[4]=n,e[5]=c,e[6]=u):u=e[6];let d;e[7]!==n?(d=n?l.jsx(Yt,{size:16}):l.jsx(rD,{}),e[7]=n,e[8]=d):d=e[8];const h=n||!a;let m;e[9]!==n||e[10]!==o?(m=o(n?"messages.saving":"buttons.save"),e[9]=n,e[10]=o,e[11]=m):m=e[11];let g;e[12]!==i||e[13]!==d||e[14]!==h||e[15]!==m?(g=l.jsx(Ue,{onClick:i,variant:"contained",startIcon:d,disabled:h,children:m}),e[12]=i,e[13]=d,e[14]=h,e[15]=m,e[16]=g):g=e[16];let y;return e[17]!==u||e[18]!==g?(y=l.jsxs(Wn,{sx:s,children:[u,g]}),e[17]=u,e[18]=g,e[19]=y):y=e[19],y},c$e=({open:t,imageId:e,imageUrl:n,onClose:a,onSaved:i})=>{const[r,o]=E.useState(null),[s,c]=E.useState({width:0,height:0}),[u,d]=E.useState({width:800,height:600}),[h,m]=E.useState(null),[g,y]=E.useState(!1),[v,S]=E.useState("brush"),[w,_]=E.useState(5),[T,A]=E.useState("#ff0000"),[R,I]=E.useState(20),N=E.useRef(null),P=E.useRef(null),O=VLe(),D=YLe(),H=KLe({tool:v,brushSize:w,brushColor:T,eraserSize:R,zoom:D.zoom,stagePos:D.stagePos,onDrawingComplete:O.saveToHistory}),L=E.useCallback((J,W)=>{d({width:J,height:W})},[]);E.useEffect(()=>{if(!t)return;const J=new window.Image;return J.crossOrigin="anonymous",J.onload=()=>{o(J),c({width:J.width,height:J.height});const W=QLe(J.width,J.height,u.width,u.height);D.setInitialZoom(W)},J.onerror=()=>{m("Failed to load image")},J.src=n,()=>{o(null),c({width:0,height:0}),m(null),O.reset(),D.reset(),H.reset()}},[t,n,u.width,u.height]);const $=XLe(r,s,D.rotation,u.width,u.height),M=J=>{if(v==="pan"){const W=J.target.getStage().getPointerPosition();D.startPan(W);return}if(v==="brush"||v==="eraser"){const W=J.target.getStage().getPointerPosition();H.startDrawing(W)}},z=J=>{const te=J.target.getStage().getPointerPosition();if(v==="pan"){D.movePan(te);return}H.isDrawing&&H.continueDrawing(te)},F=()=>{v==="pan"&&D.endPan(),H.isDrawing&&H.endDrawing()},G=()=>{const J=O.undo();J!==null&&H.setLinesFromHistory(J)},ee=()=>{const J=O.redo();J!==null&&H.setLinesFromHistory(J)},V=()=>{H.clearLines()},Y=async()=>{if(P.current)try{y(!0),m(null),await ZLe(P.current,$,e,D.zoom),y(!1),i?.(),a()}catch(J){console.error("Failed to save edited image:",J),m(J.response?.data?.error||"Failed to save image"),y(!1)}},K=()=>v==="pan"?D.isPanning?"grabbing":"grab":v==="brush"||v==="eraser"?"crosshair":"default";return l.jsxs(Fn,{open:t,onClose:a,maxWidth:!1,PaperProps:{sx:{width:"95vw",height:"95vh",maxWidth:"none",bgcolor:"background.paper"}},children:[l.jsx(JLe,{zoom:D.zoom,onZoomIn:D.handleZoomIn,onZoomOut:D.handleZoomOut,onFitScreen:D.handleFitScreen,onClose:a}),l.jsxs($n,{sx:{p:0,display:"flex",height:"100%",overflow:"hidden"},children:[l.jsx(eze,{tool:v,canUndo:O.canUndo,canRedo:O.canRedo,onToolChange:S,onUndo:G,onRedo:ee,onClear:V,onRotate:D.handleRotate,onFlip:D.handleFlip}),l.jsx(t$e,{image:r,error:h,lines:H.lines,imageTransform:$,rotation:D.rotation,scaleX:D.scaleX,zoom:D.zoom,stagePos:D.stagePos,cursor:K(),stageRef:N,layerRef:P,onMouseDown:M,onMouseMove:z,onMouseUp:F,onWheel:J=>D.handleWheel(J,N),onViewportResize:L}),l.jsx(a$e,{tool:v,canvasSize:s,brushSize:w,brushColor:T,eraserSize:R,onBrushSizeChange:_,onBrushColorChange:A,onEraserSizeChange:I})]}),l.jsx(l$e,{saving:g,imageLoaded:!!r,onSave:Y,onCancel:a})]})},Wo="http://localhost:1566",Hl={async getSettings(){const t=await Ut.get(`${Wo}/api/civitai/settings`);if(!t.data.success||!t.data.data)throw new Error(t.data.error||"Failed to get settings");return t.data.data},async updateSettings(t){const e=await Ut.put(`${Wo}/api/civitai/settings`,t);if(!e.data.success||!e.data.data)throw new Error(e.data.error||"Failed to update settings");return e.data.data},async getStats(){const t=await Ut.get(`${Wo}/api/civitai/stats`);if(!t.data.success||!t.data.data)throw new Error(t.data.error||"Failed to get stats");return t.data.data},async resetStats(){const t=await Ut.post(`${Wo}/api/civitai/stats/reset`);if(!t.data.success)throw new Error(t.data.error||"Failed to reset stats")},async getModels(t=100,e=0){const n=await Ut.get(`${Wo}/api/civitai/models`,{params:{limit:t,offset:e}});if(!n.data.success||!n.data.data)throw new Error(n.data.error||"Failed to get models");return n.data.data},async getModelByHash(t){const e=await Ut.get(`${Wo}/api/civitai/models/${t}`);if(!e.data.success||!e.data.data)throw new Error(e.data.error||"Failed to get model");return e.data.data},async getImageModels(t){const e=await Ut.get(`${Wo}/api/civitai/images/${t}/models`);if(!e.data.success||!e.data.data)throw new Error(e.data.error||"Failed to get image models");return e.data.data},async lookupModel(t){const e=await Ut.post(`${Wo}/api/civitai/lookup/${t}`);if(!e.data.success||!e.data.data)throw new Error(e.data.error||"Model not found on Civitai");return e.data.data},async resetFailed(){const t=await Ut.post(`${Wo}/api/civitai/reset-failed`);if(!t.data.success)throw new Error(t.data.error||"Failed to reset");return t.data.message||"Success"},async clearModelCache(){const t=await Ut.delete(`${Wo}/api/civitai/models`);if(!t.data.success)throw new Error(t.data.error||"Failed to clear cache");return t.data.message||"Success"},async createIntent(t){const e=await Ut.post(`${Wo}/api/civitai/create-intent`,t);if(!e.data.success||!e.data.data)throw new Error(e.data.error||"Failed to create intent URL");return e.data.data},async cleanupTempUrls(){const t=await Ut.post(`${Wo}/api/civitai/cleanup-temp-urls`);if(!t.data.success)throw new Error(t.data.error||"Failed to cleanup");return t.data.message||"Success"},async startRescan(){const t=await Ut.post(`${Wo}/api/civitai/rescan-all`);if(!t.data.success){const e=t.data;throw new Error(e.error||"Failed to start rescan")}return{message:t.data.message||"Rescan started",total:t.data.total||0}},async getRescanProgress(){const t=await Ut.get(`${Wo}/api/civitai/rescan-progress`);if(!t.data.success||!t.data.data)throw new Error(t.data.error||"Failed to get rescan progress");return t.data.data},async getUncheckedCount(){const t=await Ut.get(`${Wo}/api/civitai/unchecked-count`);if(!t.data.success||!t.data.data)throw new Error(t.data.error||"Failed to get unchecked count");return t.data.data.uncheckedCount}},u$e=({open:t,onClose:e,compositeHash:n,imageName:a,imageUrl:i})=>{const{t:r}=ht("settings"),[o,s]=E.useState(""),[c,u]=E.useState(""),[d,h]=E.useState(""),[m,g]=E.useState([]),[y,v]=E.useState(!0),[S,w]=E.useState(!1),[_,T]=E.useState(""),[A,R]=E.useState(""),[I,N]=E.useState("clipboard"),P=()=>{const z=d.trim();z&&!m.includes(z)&&(g([...m,z]),h(""))},O=z=>{g(m.filter(F=>F!==z))},D=z=>{z.key==="Enter"&&(z.preventDefault(),P())},H=async()=>{try{w(!0),T(""),R("");const z=await Hl.createIntent({compositeHashes:[n],includeMetadata:y,title:o||void 0,description:c||void 0,tags:m.length>0?m:void 0});window.open(z.intentUrl,"_blank"),e()}catch(z){T(z.message||r("civitai.upload.error"))}finally{w(!1)}},L=async()=>{try{w(!0),T(""),R("");const F=`${Zc()}/api/images/${n}/download/original`,G=await fetch(F,{credentials:"include"});if(!G.ok)throw new Error("Failed to fetch image");const ee=await G.blob(),V=URL.createObjectURL(ee),Y=document.createElement("a");Y.href=V,Y.download=a||`civitai_upload_${Date.now()}.png`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(V),R(r("civitai.upload.downloadSuccess")),setTimeout(()=>{window.open("https://civitai.com/posts/create","_blank"),e()},1e3)}catch(z){console.error("Download failed:",z),T(z.message||r("civitai.upload.downloadError"))}finally{w(!1)}},$=async()=>{I==="intent"?await H():await L()},M=()=>{S||(s(""),u(""),g([]),h(""),v(!0),T(""),R(""),e())};return l.jsxs(Fn,{open:t,onClose:M,maxWidth:"sm",fullWidth:!0,children:[l.jsx(Un,{children:l.jsxs(Z,{display:"flex",alignItems:"center",gap:1,children:[l.jsx(bp,{}),r("civitai.upload.title")]})}),l.jsxs($n,{children:[_&&l.jsx(xt,{severity:"error",sx:{mb:2},children:_}),A&&l.jsx(xt,{severity:"success",sx:{mb:2},children:A}),a&&l.jsxs(ie,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[r("civitai.upload.selectedImage"),": ",a]}),l.jsxs(Z,{sx:{mb:3},children:[l.jsx(ie,{variant:"subtitle2",gutterBottom:!0,children:r("civitai.upload.methodLabel")}),l.jsxs(NQ,{value:I,exclusive:!0,onChange:(z,F)=>F&&N(F),fullWidth:!0,size:"small",children:[l.jsx(jt,{title:r("civitai.upload.downloadTooltip"),arrow:!0,children:l.jsxs(of,{value:"clipboard",children:[l.jsx(fg,{sx:{mr:1}}),r("civitai.upload.downloadMethod")]})}),l.jsx(jt,{title:r("civitai.upload.intentTooltip"),arrow:!0,children:l.jsxs(of,{value:"intent",children:[l.jsx(zOe,{sx:{mr:1}}),r("civitai.upload.intentMethod")]})})]}),l.jsx(ie,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:r(I==="clipboard"?"civitai.upload.downloadDescription":"civitai.upload.intentDescription")})]}),I==="intent"&&l.jsxs(l.Fragment,{children:[l.jsx(Tt,{fullWidth:!0,label:r("civitai.upload.postTitle"),value:o,onChange:z=>s(z.target.value),sx:{mb:2},placeholder:r("civitai.upload.postTitlePlaceholder")}),l.jsx(Tt,{fullWidth:!0,label:r("civitai.upload.postDescription"),value:c,onChange:z=>u(z.target.value),multiline:!0,rows:3,sx:{mb:2},placeholder:r("civitai.upload.postDescriptionPlaceholder")}),l.jsxs(Z,{sx:{mb:2},children:[l.jsx(Tt,{fullWidth:!0,label:r("civitai.upload.tags"),value:d,onChange:z=>h(z.target.value),onKeyDown:D,placeholder:r("civitai.upload.tagsPlaceholder"),size:"small"}),m.length>0&&l.jsx(Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mt:1},children:m.map(z=>l.jsx(mt,{label:z,size:"small",onDelete:()=>O(z)},z))})]}),l.jsx(wn,{control:l.jsx(Zs,{checked:y,onChange:z=>v(z.target.checked)}),label:r("civitai.upload.includeMetadata")}),l.jsx(ie,{variant:"caption",display:"block",color:"text.secondary",sx:{ml:4},children:r("civitai.upload.includeMetadataDescription")})]})]}),l.jsxs(Wn,{children:[l.jsx(Ue,{onClick:M,disabled:S,children:r("civitai.cancel")}),l.jsx(jt,{title:r(I==="clipboard"?"civitai.upload.downloadButtonTooltip":"civitai.upload.intentButtonTooltip"),arrow:!0,children:l.jsx(Ue,{onClick:$,variant:"contained",disabled:S,startIcon:S?l.jsx(Yt,{size:20}):I==="clipboard"?l.jsx(fg,{}):l.jsx(bp,{}),children:r(S?"civitai.upload.uploading":I==="clipboard"?"civitai.upload.downloadAndOpen":"civitai.upload.uploadButton")})})]})]})},Cm="http://localhost:1566",Im={async getProviders(){const t=await Ut.get(`${Cm}/api/external-api/providers`,{withCredentials:!0});if(!t.data.success)throw new Error(t.data.error||"Failed to fetch providers");return t.data.data||[]},async getProvider(t){const e=await Ut.get(`${Cm}/api/external-api/providers/${encodeURIComponent(t)}`,{withCredentials:!0});if(!e.data.success||!e.data.data)throw new Error(e.data.error||"Provider not found");return e.data.data},async createProvider(t){const e=await Ut.post(`${Cm}/api/external-api/providers`,t,{withCredentials:!0});if(!e.data.success||!e.data.data)throw new Error(e.data.error||"Failed to create provider");return e.data.data},async updateProvider(t,e){const n=await Ut.put(`${Cm}/api/external-api/providers/${encodeURIComponent(t)}`,e,{withCredentials:!0});if(!n.data.success||!n.data.data)throw new Error(n.data.error||"Failed to update provider");return n.data.data},async deleteProvider(t){const e=await Ut.delete(`${Cm}/api/external-api/providers/${encodeURIComponent(t)}`,{withCredentials:!0});if(!e.data.success)throw new Error(e.data.error||"Failed to delete provider")},async toggleProvider(t,e){const n=await Ut.patch(`${Cm}/api/external-api/providers/${encodeURIComponent(t)}/toggle`,{is_enabled:e},{withCredentials:!0});if(!n.data.success||!n.data.data)throw new Error(n.data.error||"Failed to toggle provider");return n.data.data},async testConnection(t){return(await Ut.post(`${Cm}/api/external-api/providers/${encodeURIComponent(t)}/test`,{},{withCredentials:!0})).data}},p5=({open:t,onClose:e,image:n,images:a=[],currentIndex:i=0,onImageChange:r,onImageDeleted:o,searchContext:s="all",searchParams:c,groupId:u,allImageIds:d=[],isHistoryContext:h=!1})=>{const{t:m}=ht(),g=Fi(),y=xf(g.breakpoints.down("md")),v=Tf(),S=Zc(),[w,_]=E.useState(!y),[T,A]=E.useState(!1),[R,I]=E.useState(n),[N,P]=E.useState(!1),[O,D]=E.useState(!1),[H,L]=E.useState(!1),[$,M]=E.useState(!1),[z,F]=E.useState(!1),[G,ee]=E.useState(!1),[V,Y]=E.useState({open:!1,message:"",severity:"success"}),[K,J]=E.useState(null),W=bLe(n?.composite_hash||void 0,t),te=_Le({images:a,currentIndex:i,onImageChange:r,isOpen:t,onClose:e,searchContext:s,searchParams:c,groupId:u,allImageIds:d,onRandomImageLoaded:ue=>{I(ue)},onRandomModeChange:ue=>{D(ue)}}),re=TLe();E.useEffect(()=>{(async()=>{try{const[le,Se]=await Promise.all([fo.getSettings(),Im.getProvider("civitai").catch(()=>null)]);A(le.tagger.enabled),ee(!!Se&&Se.is_enabled&&Se.api_key_masked!=="********")}catch(le){console.error("Failed to load settings:",le),A(!1),ee(!1)}})()},[]),E.useEffect(()=>{if(!O&&n){if(!n.composite_hash){console.warn("[ImageViewerModal] No composite_hash, using props data"),I(n);return}if(R?.composite_hash===n.composite_hash)return;(async()=>{try{const le=await bi.getMetadata(n.composite_hash);I(le)}catch(le){console.error("[ImageViewerModal] Metadata fetch failed, using props data:",le),I(n)}})()}},[n?.composite_hash,O,R?.composite_hash]);const ne=async()=>{if(n?.composite_hash)try{const ue=await bi.getImage(n.composite_hash);ue.success&&ue.data&&I(ue.data)}catch(ue){console.error("Failed to reload image after tagging:",ue)}},ce=async()=>{if(!n)return;let ue="";if(h&&n.image_url&&n.image_url.trim().length>0)ue=n.image_url.startsWith("http")?n.image_url:`${S}${n.image_url}`;else if(n.image_url&&n.image_url.trim().length>0)ue=n.image_url.startsWith("http")?n.image_url:`${S}${n.image_url}`;else if(n.original_file_path)ue=`${S}/api/images/by-path/${encodeURIComponent(n.original_file_path)}`;else if(n.composite_hash)ue=`${S}/api/images/${n.composite_hash}/download/original`;else{console.error("Cannot download: no valid identifier found");return}try{const le=await fetch(ue,{credentials:"include"});if(!le.ok)throw new Error(`Failed to download: ${le.statusText}`);const Se=await le.blob(),_e=window.URL.createObjectURL(Se),Ie=document.createElement("a");Ie.href=_e,Ie.download=n.original_file_path||`image_${n.composite_hash?.substring(0,8)||"unknown"}.png`,document.body.appendChild(Ie),Ie.click(),document.body.removeChild(Ie),window.URL.revokeObjectURL(_e)}catch(le){console.error("Download failed:",le);const Se=document.createElement("a");Se.href=ue,Se.download=n.original_file_path||`image_${n.composite_hash?.substring(0,8)||"unknown"}.png`,Se.target="_blank",document.body.appendChild(Se),Se.click(),document.body.removeChild(Se)}},pe=()=>{n&&n.composite_hash&&(v(`/image/${n.composite_hash}`),e())},me=()=>{J(document.activeElement),P(!0)},ge=async()=>{if(R)try{let ue;if(h)ue=await Hu.delete(R.id||R.composite_hash);else{if(!R.composite_hash)throw new Error("Image is still processing");ue=await bi.deleteImage(R.composite_hash)}ue.success?(Y({open:!0,message:m("imageDetail:actions.deleteSuccess"),severity:"success"}),o&&R.composite_hash&&o(R.composite_hash),a.length>1?i<a.length-1?te.handleNext():i>0?te.handlePrevious():e():e()):Y({open:!0,message:ue.error||m("imageDetail:actions.deleteError"),severity:"error"})}catch(ue){console.error("Failed to delete:",ue),Y({open:!0,message:m("imageDetail:actions.deleteError"),severity:"error"})}finally{P(!1)}},ye=()=>{P(!1),K&&setTimeout(()=>{K.focus()},0)},he=()=>{J(document.activeElement),M(!0)},de=()=>{M(!1),K&&setTimeout(()=>{K.focus()},0)},fe=()=>{Y({...V,open:!1})},oe=()=>{Y({open:!0,message:m("imageDetail:originalNotFound"),severity:"error"}),L(!1)};return R?l.jsxs(Fn,{open:t,onClose:e,maxWidth:!1,fullWidth:!0,PaperProps:{sx:{width:"90vw",height:"90vh",maxWidth:"90vw",maxHeight:"90vh",borderRadius:2,overflow:"hidden",display:"flex",flexDirection:"column"}},children:[l.jsxs(Z,{sx:{display:"flex",flex:1,minHeight:0},children:[l.jsxs(Z,{sx:{flex:y?1:"1 1 auto",minWidth:0,display:"flex",flexDirection:"column",bgcolor:"black",position:"relative"},children:[l.jsx(ELe,{scale:W.scale,isMobile:y,showOriginal:H,isGif:R?.file_type==="animated",isVideo:R?.file_type==="video",onZoomIn:W.handleZoomIn,onZoomOut:W.handleZoomOut,onRotateLeft:W.handleRotateLeft,onRotateRight:W.handleRotateRight,onFlipHorizontal:W.handleFlipHorizontal,onFlipVertical:W.handleFlipVertical,onReset:W.handleReset,onToggleOriginal:()=>L(ue=>!ue),onEdit:R?.file_type==="image"?he:void 0,onOpenDrawer:y?()=>_(!0):void 0,onClose:e}),l.jsx(ALe,{image:R,scale:W.scale,rotation:W.rotation,flipX:W.flipX,flipY:W.flipY,imagePosition:W.imagePosition,isDragging:W.isDragging,containerRef:W.imageContainerRef,onMouseDown:W.handleMouseDown,showOriginal:H,onOriginalLoadError:oe})]}),!y&&l.jsx(Gt,{sx:{flex:"0 0 30%",minWidth:"325px",display:"flex",flexDirection:"column",borderRadius:0},elevation:0,children:l.jsx(eF,{image:R,onGroupClick:re.handleGroupClick,isTaggerEnabled:T,onAutoTagGenerated:ne,isHistoryContext:h})}),y&&l.jsx(D4,{anchor:"right",open:w,onClose:()=>_(!1),ModalProps:{style:{zIndex:1400},keepMounted:!1,disablePortal:!1},slotProps:{paper:{sx:{width:"80vw",maxWidth:400}}},children:l.jsx(eF,{image:R,onGroupClick:re.handleGroupClick,isTaggerEnabled:T,onAutoTagGenerated:ne,isHistoryContext:h})})]}),l.jsxs(Wn,{sx:{flexShrink:0,justifyContent:"space-between",px:2,py:1,borderTop:1,borderColor:"divider"},children:[l.jsx(tLe,{currentIndex:i,totalCount:a?.length??0,onPrevious:te.handlePrevious,onNext:te.handleNext,...!h&&{onRandom:te.handleRandom},isRandomMode:O,currentImage:R}),l.jsxs(Z,{sx:{display:"flex",gap:.5},children:[!h&&l.jsx(jt,{title:m("imageDetail:actions.goToDetail"),children:l.jsx(lt,{size:"small",onClick:pe,children:l.jsx(Wl,{})})}),l.jsx(jt,{title:m("imageDetail:actions.download"),children:l.jsx(lt,{size:"small",onClick:ce,children:l.jsx(fg,{})})}),!h&&G&&R?.composite_hash&&l.jsx(jt,{title:m("imageDetail:actions.uploadToCivitai"),children:l.jsx(lt,{size:"small",onClick:()=>F(!0),color:"primary",children:l.jsx(bp,{})})}),l.jsx(jt,{title:m("imageDetail:actions.delete"),children:l.jsx(lt,{size:"small",onClick:me,color:"error",children:l.jsx(Wa,{})})})]})]}),re.groupModalOpen&&l.jsx(pLe,{open:re.groupModalOpen,onClose:re.handleGroupModalClose,images:re.groupImages,loading:re.groupImagesLoading,title:re.selectedGroup?m("imageDetail:groupModal.title",{name:re.selectedGroup.name}):m("imageDetail:groupModal.defaultTitle"),pageSize:re.groupImagesPageSize,onPageSizeChange:re.handleGroupImagesPageSizeChange,currentPage:re.groupImagesPage,totalPages:re.groupImagesTotalPages,total:re.groupImagesTotal,onPageChange:re.handleGroupImagesPageChange}),l.jsxs(Fn,{open:N,onClose:ye,maxWidth:"xs",fullWidth:!0,hideBackdrop:!1,disablePortal:!1,style:{zIndex:1400},children:[l.jsx(Un,{children:m("imageDetail:actions.delete")}),l.jsx($n,{children:l.jsx(rc,{children:m("imageDetail:actions.deleteConfirm")})}),l.jsxs(Wn,{children:[l.jsx(Ue,{onClick:ye,color:"primary",children:m("common:actions.cancel")}),l.jsx(Ue,{onClick:ge,color:"error",variant:"contained",children:m("imageDetail:actions.delete")})]})]}),l.jsx(kg,{open:V.open,autoHideDuration:3e3,onClose:fe,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:l.jsx(xt,{onClose:fe,severity:V.severity,variant:"filled",children:V.message})}),R&&R.file_id&&l.jsx(c$e,{open:$,onClose:de,imageId:R.file_id,imageUrl:B4(H&&R.original_file_path||R.thumbnail_path)||"",onSaved:async()=>{if(R.composite_hash)try{const ue=await bi.getImage(R.composite_hash);ue.success&&ue.data&&I(ue.data)}catch(ue){console.error("Failed to reload image after editing:",ue)}}}),R?.composite_hash&&l.jsx(u$e,{open:z,onClose:()=>F(!1),compositeHash:R.composite_hash,imageName:R.original_file_path?.split("/").pop()||R.original_file_path?.split("\\").pop(),imageUrl:R.original_file_path||R.thumbnail_path})]}):null},d$e=t=>{const e=yt.c(77),{images:n,loading:a,hasMore:i,onLoadMore:r,selectable:o,selectedIds:s,onSelectionChange:c}=t,u=a===void 0?!1:a,d=o===void 0?!1:o;let h;e[0]!==s?(h=s===void 0?[]:s,e[0]=s,e[1]=h):h=e[1];const m=h;let g;e[2]===Symbol.for("react.memo_cache_sentinel")?(g=["gallery"],e[2]=g):g=e[2];const{t:y}=ht(g),[v,S]=E.useState(!1),[w,_]=E.useState(0),[T,A]=E.useState(-1);let R;e[3]!==m?(R=new Set(m),e[3]=m,e[4]=R):R=e[4];const I=R;let N;e[5]===Symbol.for("react.memo_cache_sentinel")?(N={default:6,1536:5,1200:4,900:3,600:2},e[5]=N):N=e[5];const P=N;let O;e[6]===Symbol.for("react.memo_cache_sentinel")?(O=ue=>{_(ue),S(!0)},e[6]=O):O=e[6];const D=O;let H;e[7]===Symbol.for("react.memo_cache_sentinel")?(H=ue=>{_(ue)},e[7]=H):H=e[7];const L=H;let $;e[8]!==n||e[9]!==T||e[10]!==c||e[11]!==m||e[12]!==I?($=(ue,le)=>{if(console.log("[ImageMasonry] handleSelectionChange called:",{id:ue,hasCallback:!!c,imageIndex:n.findIndex(Ie=>Ie.id===ue)}),!c)return;const Se=n.findIndex(Ie=>Ie.id===ue);if(le&&(le.ctrlKey||le.metaKey)){const Ie=I.has(ue)?m.filter(ze=>ze!==ue):[...m,ue];c(Ie),A(Se);return}if(le&&le.shiftKey&&T>=0){const Ie=Math.min(T,Se),ze=Math.max(T,Se),Me=n.slice(Ie,ze+1).map(f$e).filter(h$e),Ze=Array.from(new Set([...m,...Me]));c(Ze);return}const _e=I.has(ue)?m.filter(Ie=>Ie!==ue):[...m,ue];c(_e),A(Se)},e[8]=n,e[9]=T,e[10]=c,e[11]=m,e[12]=I,e[13]=$):$=e[13];const M=$;let z;e[14]!==c||e[15]!==m?(z=ue=>{const le=ue.target,Se=le.closest(".selectable-image"),_e=le.closest(".image-card-actions"),Ie=le.closest(".no-drag-select");!Se&&!_e&&!Ie&&c&&m.length>0&&(c([]),A(-1))},e[14]=c,e[15]=m,e[16]=z):z=e[16];const F=z;let G,ee;if(e[17]!==n||e[18]!==c||e[19]!==d?(G=()=>{if(!d||!c)return;const ue=le=>{if((le.ctrlKey||le.metaKey)&&le.key==="a"){le.preventDefault();const Se=n.map(p$e).filter(m$e);c(Se)}le.key==="Escape"&&(le.preventDefault(),c([]),A(-1))};return window.addEventListener("keydown",ue),()=>{window.removeEventListener("keydown",ue)}},ee=[d,c,n],e[17]=n,e[18]=c,e[19]=d,e[20]=G,e[21]=ee):(G=e[20],ee=e[21]),E.useEffect(G,ee),u&&n.length===0){let ue;e[22]===Symbol.for("react.memo_cache_sentinel")?(ue={width:"100%"},e[22]=ue):ue=e[22];let le;return e[23]===Symbol.for("react.memo_cache_sentinel")?(le=l.jsx(Z,{sx:ue,children:l.jsx(F4,{breakpointCols:P,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:Array.from({length:20},g$e)})}),e[23]=le):le=e[23],le}if(n.length===0){let ue;e[24]===Symbol.for("react.memo_cache_sentinel")?(ue={textAlign:"center",py:8},e[24]=ue):ue=e[24];let le;e[25]!==y?(le=y("gallery:emptyState.noImages"),e[25]=y,e[26]=le):le=e[26];let Se;e[27]!==le?(Se=l.jsx(ie,{variant:"h6",color:"text.secondary",children:le}),e[27]=le,e[28]=Se):Se=e[28];let _e;e[29]!==y?(_e=y("gallery:emptyState.uploadPrompt"),e[29]=y,e[30]=_e):_e=e[30];let Ie;e[31]!==_e?(Ie=l.jsx(ie,{variant:"body2",color:"text.secondary",children:_e}),e[31]=_e,e[32]=Ie):Ie=e[32];let ze;return e[33]!==Se||e[34]!==Ie?(ze=l.jsxs(Z,{sx:ue,children:[Se,Ie]}),e[33]=Se,e[34]=Ie,e[35]=ze):ze=e[35],ze}let V;e[36]===Symbol.for("react.memo_cache_sentinel")?(V={width:"100%",position:"relative"},e[36]=V):V=e[36];const Y=n.length;let K;e[37]===Symbol.for("react.memo_cache_sentinel")?(K={mt:2,width:"100%"},e[37]=K):K=e[37];let J;e[38]===Symbol.for("react.memo_cache_sentinel")?(J={textAlign:"center",py:2},e[38]=J):J=e[38];let W;e[39]!==y?(W=y("gallery:loading"),e[39]=y,e[40]=W):W=e[40];let te;e[41]!==W?(te=l.jsx(Z,{sx:K,children:l.jsx(Z,{sx:J,children:l.jsx(ie,{variant:"body2",color:"text.secondary",children:W})})}),e[41]=W,e[42]=te):te=e[42];let re;e[43]===Symbol.for("react.memo_cache_sentinel")?(re={textAlign:"center",py:4,mt:2},e[43]=re):re=e[43];let ne;e[44]!==y?(ne=y("gallery:allImagesLoaded"),e[44]=y,e[45]=ne):ne=e[45];let ce;e[46]!==ne?(ce=l.jsx(Z,{sx:re,children:l.jsx(ie,{variant:"body2",color:"text.secondary",children:ne})}),e[46]=ne,e[47]=ce):ce=e[47];let pe;e[48]===Symbol.for("react.memo_cache_sentinel")?(pe={overflow:"visible"},e[48]=pe):pe=e[48];let me;if(e[49]!==M||e[50]!==n||e[51]!==d||e[52]!==I){let ue;e[54]!==M||e[55]!==d||e[56]!==I?(ue=(le,Se)=>l.jsx(eLe,{image:le,onClick:()=>D(Se),selected:le.id?I.has(le.id):!1,selectable:d,onSelectionChange:M},le.id?`id-${le.id}`:`hash-${le.composite_hash||"processing"}-${Se}`),e[54]=M,e[55]=d,e[56]=I,e[57]=ue):ue=e[57],me=n.map(ue),e[49]=M,e[50]=n,e[51]=d,e[52]=I,e[53]=me}else me=e[53];let ge;e[58]!==me?(ge=l.jsx(F4,{breakpointCols:P,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:me}),e[58]=me,e[59]=ge):ge=e[59];let ye;e[60]!==i||e[61]!==n.length||e[62]!==r||e[63]!==te||e[64]!==ce||e[65]!==ge?(ye=l.jsx(YQ,{dataLength:Y,next:r,hasMore:i,loader:te,endMessage:ce,scrollThreshold:.8,style:pe,children:ge}),e[60]=i,e[61]=n.length,e[62]=r,e[63]=te,e[64]=ce,e[65]=ge,e[66]=ye):ye=e[66];let he;e[67]===Symbol.for("react.memo_cache_sentinel")?(he=()=>S(!1),e[67]=he):he=e[67];const de=n[w]||null;let fe;e[68]!==w||e[69]!==n||e[70]!==de||e[71]!==v?(fe=l.jsx(p5,{open:v,onClose:he,image:de,images:n,currentIndex:w,onImageChange:L}),e[68]=w,e[69]=n,e[70]=de,e[71]=v,e[72]=fe):fe=e[72];let oe;return e[73]!==F||e[74]!==ye||e[75]!==fe?(oe=l.jsxs(Z,{onClick:F,sx:V,children:[ye,fe]}),e[73]=F,e[74]=ye,e[75]=fe,e[76]=oe):oe=e[76],oe};function f$e(t){return t.id}function h$e(t){return t!=null}function p$e(t){return t.id}function m$e(t){return t!=null}function g$e(t,e){return l.jsx(zc,{variant:"rectangular",height:Math.random()*200+150,sx:{borderRadius:1}},e)}const b$e="modulepreload",y$e=function(t,e){return new URL(t,e).href},PF={},uJ=function(e,n,a){let i=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};const o=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),c=s?.nonce||s?.getAttribute("nonce");i=u(n.map(d=>{if(d=y$e(d,a),d in PF)return;PF[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(a)for(let y=o.length-1;y>=0;y--){const v=o[y];if(v.href===d&&(!h||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":b$e,h||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),h)return new Promise((y,v)=>{g.addEventListener("load",y),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&r(s.reason);return e().catch(r)})},x$e=()=>{const[t,e]=E.useState(!1),[n,a]=E.useState(null),i=E.useCallback(async s=>{if(s.length===0)return!1;e(!0),a(null);try{const c=await bi.deleteImageFiles(s);return c.success?!0:(a(c.error||"  ."),!1)}catch(c){return a("    ."),console.error("Bulk delete error:",c),!1}finally{e(!1)}},[]),r=E.useCallback(async s=>{if(s.length!==0){e(!0),a(null);try{for(const c of s){const u=document.createElement("a");u.href=bi.getDownloadUrl(c),u.download=`image_${c.substring(0,8)}`,document.body.appendChild(u),u.click(),document.body.removeChild(u),await new Promise(d=>setTimeout(d,100))}}catch(c){a("    ."),console.error("Bulk download error:",c)}finally{e(!1)}}},[]),o=E.useCallback(async(s,c)=>{if(s.length===0)return!1;e(!0),a(null);try{const u=await ir.addImagesToGroup(c,s);return u.success?!0:(a(u.error||"  ."),!1)}catch(u){return a("    ."),console.error("Group assignment error:",u),!1}finally{e(!1)}},[]);return{loading:t,error:n,deleteImages:i,downloadImages:r,assignToGroup:o,clearError:()=>a(null)}},dJ=t=>{const e=yt.c(38),{groups:n,excludeIds:a,selectedIds:i,onSelectionChange:r,multiSelect:o}=t;let s;e[0]!==a?(s=a===void 0?[]:a,e[0]=a,e[1]=s):s=e[1];const c=s;let u;e[2]!==i?(u=i===void 0?[]:i,e[2]=i,e[3]=u):u=e[3];const d=u,h=o===void 0?!1:o;let m;e[4]===Symbol.for("react.memo_cache_sentinel")?(m=new Set,e[4]=m):m=e[4];const[g,y]=E.useState(m);let v;e[5]!==d?(v=new Set(d),e[5]=d,e[6]=v):v=e[6];const[S,w]=E.useState(v);let _,T;e[7]!==d?(_=()=>{w(new Set(d))},T=[d],e[7]=d,e[8]=_,e[9]=T):(_=e[8],T=e[9]),E.useEffect(_,T);let A;if(e[10]!==c||e[11]!==n){const K=n.filter(te=>!c.includes(te.id)),J=new Map;K.forEach(te=>{J.set(te.id,{group:te,children:[],level:0})}),A=[],K.forEach(te=>{const re=J.get(te.id);if(re)if(te.parent_id&&J.has(te.parent_id)){const ne=J.get(te.parent_id);re.level=ne.level+1,ne.children.push(re)}else A.push(re)});const W=te=>{te.sort(v$e),te.forEach(re=>W(re.children))};W(A),e[10]=c,e[11]=n,e[12]=A}else A=e[12];const R=A;let I;e[13]===Symbol.for("react.memo_cache_sentinel")?(I=K=>{y(J=>{const W=new Set(J);return W.has(K)?W.delete(K):W.add(K),W})},e[13]=I):I=e[13];const N=I;let P;e[14]!==R?(P=()=>{const K=new Set,J=W=>{W.forEach(te=>{te.children.length>0&&(K.add(te.group.id),J(te.children))})};J(R),y(K)},e[14]=R,e[15]=P):P=e[15];const O=P;let D;e[16]===Symbol.for("react.memo_cache_sentinel")?(D=()=>{y(new Set)},e[16]=D):D=e[16];const H=D;let L;e[17]!==S||e[18]!==h||e[19]!==r?(L=K=>{let J;h?(J=new Set(S),J.has(K)?J.delete(K):J.add(K)):J=new Set([K]),w(J),r?.(Array.from(J))},e[17]=S,e[18]=h,e[19]=r,e[20]=L):L=e[20];const $=L;let M;if(e[21]!==R){M=J=>{const W=[],te=K(R,J);if(!te)return W;const re=ne=>{ne.children.forEach(ce=>{W.push(ce.group.id),re(ce)})};return re(te),W};const K=(J,W)=>{for(const te of J){if(te.group.id===W)return te;const re=K(te.children,W);if(re)return re}return null};e[21]=R,e[22]=M}else M=e[22];let z;e[23]!==g?(z=K=>g.has(K),e[23]=g,e[24]=z):z=e[24];const F=z;let G;e[25]!==S?(G=K=>S.has(K),e[25]=S,e[26]=G):G=e[26];const ee=G;let V;e[27]!==S?(V=Array.from(S),e[27]=S,e[28]=V):V=e[28];let Y;return e[29]!==O||e[30]!==g||e[31]!==M||e[32]!==$||e[33]!==F||e[34]!==ee||e[35]!==V||e[36]!==R?(Y={treeData:R,expandedIds:g,selectedIds:V,toggleExpand:N,expandAll:O,collapseAll:H,handleSelect:$,isExpanded:F,isSelected:ee,getDescendantIds:M},e[29]=O,e[30]=g,e[31]=M,e[32]=$,e[33]=F,e[34]=ee,e[35]=V,e[36]=R,e[37]=Y):Y=e[37],Y};function v$e(t,e){return t.group.name.localeCompare(e.group.name)}const fJ=t=>{const e=yt.c(55),{group:n,level:a,hasChildren:i,isExpanded:r,isSelected:o,onToggleExpand:s,onSelect:c}=t,u=Fi(),d=n.color||u.palette.primary.main,h=`${a*24+8}px`;let m;e[0]!==d||e[1]!==o?(m=o?gi(d,.15):"transparent",e[0]=d,e[1]=o,e[2]=m):m=e[2];const g=o?`3px solid ${d}`:"3px solid transparent";let y;e[3]!==d||e[4]!==o||e[5]!==u.palette.action?(y=o?gi(d,.2):gi(u.palette.action.hover,.08),e[3]=d,e[4]=o,e[5]=u.palette.action,e[6]=y):y=e[6];let v;e[7]!==y?(v={backgroundColor:y},e[7]=y,e[8]=v):v=e[8];let S;e[9]!==h||e[10]!==m||e[11]!==g||e[12]!==v?(S={display:"flex",alignItems:"center",paddingLeft:h,paddingRight:"8px",paddingY:.5,cursor:"pointer",backgroundColor:m,borderLeft:g,transition:"all 0.2s ease","&:hover":v},e[9]=h,e[10]=m,e[11]=g,e[12]=v,e[13]=S):S=e[13];let w;e[14]!==i||e[15]!==c||e[16]!==s?(w=()=>{c(),i&&s()},e[14]=i,e[15]=c,e[16]=s,e[17]=w):w=e[17];let _;e[18]===Symbol.for("react.memo_cache_sentinel")?(_={width:24,height:24,flexShrink:0},e[18]=_):_=e[18];let T;e[19]!==i||e[20]!==r||e[21]!==s?(T=i&&l.jsx(lt,{size:"small",onClick:F=>{F.stopPropagation(),s()},sx:{padding:0},children:r?l.jsx(zi,{fontSize:"small"}):l.jsx(Vh,{fontSize:"small"})}),e[19]=i,e[20]=r,e[21]=s,e[22]=T):T=e[22];let A;e[23]!==T?(A=l.jsx(Z,{sx:_,children:T}),e[23]=T,e[24]=A):A=e[24];let R;e[25]!==d?(R={width:24,height:24,flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",marginLeft:.5,marginRight:1,color:d},e[25]=d,e[26]=R):R=e[26];let I;e[27]!==i||e[28]!==r?(I=r&&i?l.jsx(Ps,{fontSize:"small"}):l.jsx(cl,{fontSize:"small"}),e[27]=i,e[28]=r,e[29]=I):I=e[29];let N;e[30]!==R||e[31]!==I?(N=l.jsx(Z,{sx:R,children:I}),e[30]=R,e[31]=I,e[32]=N):N=e[32];let P;e[33]!==d?(P=l.jsx(Z,{sx:{width:4,height:24,backgroundColor:d,borderRadius:1,marginRight:1.5,flexShrink:0}}),e[33]=d,e[34]=P):P=e[34];const O=o?600:400,D=o?u.palette.text.primary:u.palette.text.secondary;let H;e[35]!==O||e[36]!==D?(H={flexGrow:1,fontWeight:O,color:D,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e[35]=O,e[36]=D,e[37]=H):H=e[37];let L;e[38]!==n.name||e[39]!==H?(L=l.jsx(ie,{variant:"body2",sx:H,children:n.name}),e[38]=n.name,e[39]=H,e[40]=L):L=e[40];let $;e[41]!==n.image_count||e[42]!==u.palette.primary?($=(n.image_count??0)>0&&l.jsx(mt,{label:n.image_count,size:"small",sx:{height:20,fontSize:"0.7rem",marginLeft:1,backgroundColor:gi(u.palette.primary.main,.1),color:u.palette.primary.main}}),e[41]=n.image_count,e[42]=u.palette.primary,e[43]=$):$=e[43];let M;e[44]!==n.auto_collect_enabled?(M=!!n.auto_collect_enabled&&l.jsx(mt,{icon:l.jsx(vf,{sx:{fontSize:"0.8rem"}}),label:"Auto",size:"small",color:"secondary",sx:{height:20,fontSize:"0.65rem",marginLeft:.5,"& .MuiChip-icon":{marginLeft:"4px"}}}),e[44]=n.auto_collect_enabled,e[45]=M):M=e[45];let z;return e[46]!==A||e[47]!==N||e[48]!==P||e[49]!==L||e[50]!==$||e[51]!==M||e[52]!==S||e[53]!==w?(z=l.jsxs(Z,{sx:S,onClick:w,children:[A,N,P,L,$,M]}),e[46]=A,e[47]=N,e[48]=P,e[49]=L,e[50]=$,e[51]=M,e[52]=S,e[53]=w,e[54]=z):z=e[54],z},S$e=t=>{const e=yt.c(58),{groups:n,selectedIds:a,onSelectionChange:i,excludeIds:r,multiSelect:o,showSearch:s,emptyMessage:c,maxHeight:u}=t;let d;e[0]!==a?(d=a===void 0?[]:a,e[0]=a,e[1]=d):d=e[1];const h=d;let m;e[2]!==r?(m=r===void 0?[]:r,e[2]=r,e[3]=m):m=e[3];const g=m,y=o===void 0?!1:o,v=s===void 0?!0:s,S=c===void 0?"No groups available":c,w=u===void 0?400:u,[_,T]=E.useState("");let A;e:{if(!_.trim()){A=n;break e}let te;if(e[4]!==n||e[5]!==_){const re=_.toLowerCase();te=n.filter(ne=>ne.name.toLowerCase().includes(re)||ne.description?.toLowerCase().includes(re)),e[4]=n,e[5]=_,e[6]=te}else te=e[6];A=te}const R=A;let I;e[7]!==g||e[8]!==R||e[9]!==y||e[10]!==i||e[11]!==h?(I={groups:R,excludeIds:g,selectedIds:h,onSelectionChange:i,multiSelect:y},e[7]=g,e[8]=R,e[9]=y,e[10]=i,e[11]=h,e[12]=I):I=e[12];const{treeData:N,toggleExpand:P,expandAll:O,collapseAll:D,handleSelect:H,isExpanded:L,isSelected:$}=dJ(I);let M,z,F,G,ee,V,Y;if(e[13]!==D||e[14]!==S||e[15]!==O||e[16]!==H||e[17]!==L||e[18]!==$||e[19]!==w||e[20]!==_||e[21]!==v||e[22]!==P||e[23]!==N){const te=ye=>ye.map(he=>l.jsxs(ke.Fragment,{children:[l.jsx(fJ,{group:he.group,level:he.level,hasChildren:he.children.length>0,isExpanded:L(he.group.id),isSelected:$(he.group.id),onToggleExpand:()=>P(he.group.id),onSelect:()=>H(he.group.id)}),L(he.group.id)&&he.children.length>0&&l.jsx(Z,{children:te(he.children)})]},he.group.id));let re;e[31]===Symbol.for("react.memo_cache_sentinel")?(re=()=>{T("")},e[31]=re):re=e[31];const ne=re;z=Z,e[32]===Symbol.for("react.memo_cache_sentinel")?(V={display:"flex",flexDirection:"column",gap:1},e[32]=V):V=e[32],e[33]!==D||e[34]!==O||e[35]!==_||e[36]!==v?(Y=v&&l.jsxs(Z,{sx:{display:"flex",gap:1,alignItems:"center"},children:[l.jsx(Tt,{size:"small",placeholder:"Search groups...",value:_,onChange:ye=>T(ye.target.value),fullWidth:!0,InputProps:{startAdornment:l.jsx(w2,{position:"start",children:l.jsx(Wc,{fontSize:"small"})}),endAdornment:_&&l.jsx(w2,{position:"end",children:l.jsx(lt,{size:"small",onClick:ne,children:l.jsx(Db,{fontSize:"small"})})})}}),l.jsx(jt,{title:"Expand All",children:l.jsx(lt,{size:"small",onClick:O,children:l.jsx(sD,{})})}),l.jsx(jt,{title:"Collapse All",children:l.jsx(lt,{size:"small",onClick:D,children:l.jsx(oD,{})})})]}),e[33]=D,e[34]=O,e[35]=_,e[36]=v,e[37]=Y):Y=e[37],M=Gt,F="outlined";let ce,pe,me,ge;e[38]===Symbol.for("react.memo_cache_sentinel")?(ce={width:"8px"},pe={backgroundColor:"transparent"},me={backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"4px"},ge={backgroundColor:"rgba(0,0,0,0.3)"},e[38]=ce,e[39]=pe,e[40]=me,e[41]=ge):(ce=e[38],pe=e[39],me=e[40],ge=e[41]),e[42]!==w?(G={maxHeight:w,overflowY:"auto",overflowX:"hidden","&::-webkit-scrollbar":ce,"&::-webkit-scrollbar-track":pe,"&::-webkit-scrollbar-thumb":me,"&::-webkit-scrollbar-thumb:hover":ge},e[42]=w,e[43]=G):G=e[43],ee=N.length>0?l.jsx(Z,{sx:{paddingY:.5},children:te(N)}):l.jsx(Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:200,color:"text.secondary"},children:l.jsx(ie,{variant:"body2",children:S})}),e[13]=D,e[14]=S,e[15]=O,e[16]=H,e[17]=L,e[18]=$,e[19]=w,e[20]=_,e[21]=v,e[22]=P,e[23]=N,e[24]=M,e[25]=z,e[26]=F,e[27]=G,e[28]=ee,e[29]=V,e[30]=Y}else M=e[24],z=e[25],F=e[26],G=e[27],ee=e[28],V=e[29],Y=e[30];let K;e[44]!==M||e[45]!==F||e[46]!==G||e[47]!==ee?(K=l.jsx(M,{variant:F,sx:G,children:ee}),e[44]=M,e[45]=F,e[46]=G,e[47]=ee,e[48]=K):K=e[48];let J;e[49]!==y||e[50]!==h?(J=y&&h.length>0&&l.jsxs(ie,{variant:"caption",color:"text.secondary",children:[h.length," group",h.length!==1?"s":""," ","selected"]}),e[49]=y,e[50]=h,e[51]=J):J=e[51];let W;return e[52]!==z||e[53]!==V||e[54]!==Y||e[55]!==K||e[56]!==J?(W=l.jsxs(z,{sx:V,children:[Y,K,J]}),e[52]=z,e[53]=V,e[54]=Y,e[55]=K,e[56]=J,e[57]=W):W=e[57],W},C$e=t=>{const e=yt.c(109),{groups:n,selectedParentId:a,onParentChange:i,excludeIds:r,label:o,noParentLabel:s}=t;let c;e[0]!==r?(c=r===void 0?[]:r,e[0]=r,e[1]=c):c=e[1];const u=c,d=o===void 0?"Parent Group":o,h=s===void 0?"No Parent":s,m=Fi(),[g,y]=E.useState(!1);let v;e[2]!==a?(v=a?[a]:[],e[2]=a,e[3]=v):v=e[3];let S;e[4]!==i?(S=W=>{i(W[0]||null)},e[4]=i,e[5]=S):S=e[5];let w;e[6]!==u||e[7]!==n||e[8]!==v||e[9]!==S?(w={groups:n,excludeIds:u,selectedIds:v,onSelectionChange:S,multiSelect:!1},e[6]=u,e[7]=n,e[8]=v,e[9]=S,e[10]=w):w=e[10];const{treeData:_,toggleExpand:T,handleSelect:A,isExpanded:R,isSelected:I}=dJ(w);let N;e[11]!==n||e[12]!==a?(N=a?n.find(W=>W.id===a):null,e[11]=n,e[12]=a,e[13]=N):N=e[13];const P=N;let O,D,H,L,$,M,z,F,G,ee,V;if(e[14]!==A||e[15]!==R||e[16]!==g||e[17]!==I||e[18]!==d||e[19]!==h||e[20]!==i||e[21]!==P||e[22]!==a||e[23]!==m.palette.action.hover||e[24]!==m.palette.primary.main||e[25]!==T||e[26]!==_){const W=Ne=>Ne.map(ve=>l.jsxs(ke.Fragment,{children:[l.jsx(fJ,{group:ve.group,level:ve.level,hasChildren:ve.children.length>0,isExpanded:R(ve.group.id),isSelected:I(ve.group.id),onToggleExpand:()=>T(ve.group.id),onSelect:()=>A(ve.group.id)}),R(ve.group.id)&&ve.children.length>0&&l.jsx(Z,{children:W(ve.children)})]},ve.group.id));H=Z,e[38]===Symbol.for("react.memo_cache_sentinel")?(F={mb:3},e[38]=F):F=e[38];let te;e[39]===Symbol.for("react.memo_cache_sentinel")?(te={mb:1},e[39]=te):te=e[39],e[40]!==d?(G=l.jsx(ie,{variant:"subtitle2",sx:te,children:d}),e[40]=d,e[41]=G):G=e[41];let re;e[42]!==g||e[43]!==m.palette.primary.main?(re=g?gi(m.palette.primary.main,.05):"transparent",e[42]=g,e[43]=m.palette.primary.main,e[44]=re):re=e[44];const ne=g?"primary.main":"divider";let ce;e[45]!==m.palette.primary.main?(ce=gi(m.palette.primary.main,.02),e[45]=m.palette.primary.main,e[46]=ce):ce=e[46];let pe;e[47]!==ce?(pe={borderColor:"primary.main",backgroundColor:ce},e[47]=ce,e[48]=pe):pe=e[48];let me;e[49]!==re||e[50]!==ne||e[51]!==pe?(me={padding:1.5,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:re,borderColor:ne,transition:"all 0.2s ease","&:hover":pe},e[49]=re,e[50]=ne,e[51]=pe,e[52]=me):me=e[52];let ge;e[53]!==g?(ge=()=>y(!g),e[53]=g,e[54]=ge):ge=e[54];let ye;e[55]===Symbol.for("react.memo_cache_sentinel")?(ye={display:"flex",alignItems:"center",gap:1,flex:1},e[55]=ye):ye=e[55];let he;e[56]!==h||e[57]!==P?(he=l.jsx(Z,{sx:ye,children:P?l.jsxs(l.Fragment,{children:[P.color&&l.jsx(Z,{sx:{width:4,height:20,backgroundColor:P.color,borderRadius:1}}),l.jsx(ie,{variant:"body2",children:P.name})]}):l.jsx(ie,{variant:"body2",color:"text.secondary",children:h})}),e[56]=h,e[57]=P,e[58]=he):he=e[58];let de;e[59]===Symbol.for("react.memo_cache_sentinel")?(de={display:"flex",alignItems:"center",gap:.5},e[59]=de):de=e[59];let fe;e[60]!==i||e[61]!==a?(fe=a&&l.jsx(Ue,{size:"small",onClick:Ne=>{Ne.stopPropagation(),i(null)},sx:{minWidth:"auto",padding:.5},children:l.jsx(Db,{fontSize:"small"})}),e[60]=i,e[61]=a,e[62]=fe):fe=e[62];const oe=g?"rotate(180deg)":"rotate(0deg)";let ue;e[63]!==oe?(ue=l.jsx(zi,{sx:{transition:"transform 0.2s ease",transform:oe}}),e[63]=oe,e[64]=ue):ue=e[64];let le;e[65]!==fe||e[66]!==ue?(le=l.jsxs(Z,{sx:de,children:[fe,ue]}),e[65]=fe,e[66]=ue,e[67]=le):le=e[67],e[68]!==me||e[69]!==ge||e[70]!==he||e[71]!==le?(ee=l.jsxs(Gt,{variant:"outlined",sx:me,onClick:ge,children:[he,le]}),e[68]=me,e[69]=ge,e[70]=he,e[71]=le,e[72]=ee):ee=e[72],D=Gc,z=g,O=Gt,V="outlined",e[73]===Symbol.for("react.memo_cache_sentinel")?(L={mt:1,maxHeight:300,overflowY:"auto","&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"4px"}},e[73]=L):L=e[73];let Se;e[74]!==a||e[75]!==m.palette.primary.main?(Se=a?"transparent":gi(m.palette.primary.main,.15),e[74]=a,e[75]=m.palette.primary.main,e[76]=Se):Se=e[76];const _e=a?"3px solid transparent":`3px solid ${m.palette.primary.main}`;let Ie;e[77]!==m.palette.action.hover?(Ie=gi(m.palette.action.hover,.08),e[77]=m.palette.action.hover,e[78]=Ie):Ie=e[78];let ze;e[79]!==Ie?(ze={backgroundColor:Ie},e[79]=Ie,e[80]=ze):ze=e[80];let Me;e[81]!==Se||e[82]!==_e||e[83]!==ze?(Me={padding:1.5,cursor:"pointer",backgroundColor:Se,borderLeft:_e,transition:"all 0.2s ease","&:hover":ze},e[81]=Se,e[82]=_e,e[83]=ze,e[84]=Me):Me=e[84];let Ze;e[85]!==i?(Ze=()=>{i(null)},e[85]=i,e[86]=Ze):Ze=e[86];let Ee;e[87]!==h?(Ee=l.jsx(ie,{variant:"body2",color:"text.secondary",children:h}),e[87]=h,e[88]=Ee):Ee=e[88],e[89]!==Me||e[90]!==Ze||e[91]!==Ee?($=l.jsx(Z,{sx:Me,onClick:Ze,children:Ee}),e[89]=Me,e[90]=Ze,e[91]=Ee,e[92]=$):$=e[92],M=_.length>0?l.jsx(Z,{sx:{paddingY:.5},children:W(_)}):l.jsx(Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:100,color:"text.secondary"},children:l.jsx(ie,{variant:"body2",children:"No groups available"})}),e[14]=A,e[15]=R,e[16]=g,e[17]=I,e[18]=d,e[19]=h,e[20]=i,e[21]=P,e[22]=a,e[23]=m.palette.action.hover,e[24]=m.palette.primary.main,e[25]=T,e[26]=_,e[27]=O,e[28]=D,e[29]=H,e[30]=L,e[31]=$,e[32]=M,e[33]=z,e[34]=F,e[35]=G,e[36]=ee,e[37]=V}else O=e[27],D=e[28],H=e[29],L=e[30],$=e[31],M=e[32],z=e[33],F=e[34],G=e[35],ee=e[36],V=e[37];let Y;e[93]!==O||e[94]!==L||e[95]!==$||e[96]!==M||e[97]!==V?(Y=l.jsxs(O,{variant:V,sx:L,children:[$,M]}),e[93]=O,e[94]=L,e[95]=$,e[96]=M,e[97]=V,e[98]=Y):Y=e[98];let K;e[99]!==D||e[100]!==z||e[101]!==Y?(K=l.jsx(D,{in:z,children:Y}),e[99]=D,e[100]=z,e[101]=Y,e[102]=K):K=e[102];let J;return e[103]!==H||e[104]!==F||e[105]!==G||e[106]!==ee||e[107]!==K?(J=l.jsxs(H,{sx:F,children:[G,ee,K]}),e[103]=H,e[104]=F,e[105]=G,e[106]=ee,e[107]=K,e[108]=J):J=e[108],J};function w$e(t){const e=yt.c(75),{items:n,selectedParentId:a,onParentChange:i,excludeIds:r,label:o,noParentLabel:s,showItemCount:c}=t,u=r===void 0?[]:r,d=o===void 0?"Parent":o,h=s===void 0?"None (Root Level)":s,m=c===void 0?!0:c,g=Fi(),[y,v]=E.useState(!1);let S;e[0]===Symbol.for("react.memo_cache_sentinel")?(S=new Set,e[0]=S):S=e[0];const[w,_]=E.useState(S),T=(Ee,Ne)=>{const ve=Ee===void 0?null:Ee,we=Ne===void 0?0:Ne;return n.filter(Oe=>(Oe.parent_id??null)===ve&&!u.includes(Oe.id)).map(Oe=>({item:Oe,level:we,children:T(Oe.id,we+1)}))},A=T();let R;e[1]!==n||e[2]!==a?(R=a?n.find(Ee=>Ee.id===a):null,e[1]=n,e[2]=a,e[3]=R):R=e[3];const I=R;let N;e[4]===Symbol.for("react.memo_cache_sentinel")?(N=Ee=>{_(Ne=>{const ve=new Set(Ne);return ve.has(Ee)?ve.delete(Ee):ve.add(Ee),ve})},e[4]=N):N=e[4];const P=N,O=Ee=>{const Ne=w.has(Ee.item.id),ve=a===Ee.item.id,we=Ee.children.length>0,Oe=Ee.item.color||g.palette.primary.main,Le=Ee.item.image_count??Ee.item.item_count??0;return l.jsxs(ke.Fragment,{children:[l.jsxs(Z,{sx:{display:"flex",alignItems:"center",paddingLeft:`${Ee.level*24+8}px`,paddingRight:"8px",paddingY:.5,cursor:"pointer",backgroundColor:ve?gi(Oe,.15):"transparent",borderLeft:ve?`3px solid ${Oe}`:"3px solid transparent",transition:"all 0.2s ease","&:hover":{backgroundColor:ve?gi(Oe,.2):gi(g.palette.action.hover,.08)}},onClick:()=>{i(Ee.item.id),we&&P(Ee.item.id)},children:[l.jsx(Z,{sx:{width:24,height:24,flexShrink:0},children:we&&l.jsx(lt,{size:"small",onClick:We=>{We.stopPropagation(),P(Ee.item.id)},sx:{padding:0},children:Ne?l.jsx(zi,{fontSize:"small"}):l.jsx(Vh,{fontSize:"small"})})}),l.jsx(Z,{sx:{width:24,height:24,flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",marginLeft:.5,marginRight:1,color:Oe},children:Ne&&we?l.jsx(Ps,{fontSize:"small"}):l.jsx(cl,{fontSize:"small"})}),Ee.item.color&&l.jsx(Z,{sx:{width:4,height:24,backgroundColor:Oe,borderRadius:1,marginRight:1.5,flexShrink:0}}),l.jsx(ie,{variant:"body2",sx:{flexGrow:1,fontWeight:ve?600:400,color:ve?g.palette.text.primary:g.palette.text.secondary,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Ee.item.name}),m&&Le>0&&l.jsx(mt,{label:Le,size:"small",sx:{height:20,fontSize:"0.7rem",marginLeft:1,marginRight:1,backgroundColor:gi(g.palette.primary.main,.1),color:g.palette.primary.main}})]}),Ne&&we&&l.jsx(Z,{children:Ee.children.map(We=>O(We))})]},Ee.item.id)},D=Z;let H;e[5]===Symbol.for("react.memo_cache_sentinel")?(H={mb:3},e[5]=H):H=e[5];let L;e[6]===Symbol.for("react.memo_cache_sentinel")?(L={mb:1},e[6]=L):L=e[6];let $;e[7]!==d?($=l.jsx(ie,{variant:"subtitle2",sx:L,children:d}),e[7]=d,e[8]=$):$=e[8];let M;e[9]!==y||e[10]!==g.palette.primary.main?(M=y?gi(g.palette.primary.main,.05):"transparent",e[9]=y,e[10]=g.palette.primary.main,e[11]=M):M=e[11];const z=y?"primary.main":"divider";let F;e[12]!==g.palette.primary.main?(F=gi(g.palette.primary.main,.02),e[12]=g.palette.primary.main,e[13]=F):F=e[13];let G;e[14]!==F?(G={borderColor:"primary.main",backgroundColor:F},e[14]=F,e[15]=G):G=e[15];let ee;e[16]!==M||e[17]!==z||e[18]!==G?(ee={padding:1.5,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:M,borderColor:z,transition:"all 0.2s ease","&:hover":G},e[16]=M,e[17]=z,e[18]=G,e[19]=ee):ee=e[19];let V;e[20]!==y?(V=()=>v(!y),e[20]=y,e[21]=V):V=e[21];let Y;e[22]===Symbol.for("react.memo_cache_sentinel")?(Y={display:"flex",alignItems:"center",gap:1,flex:1},e[22]=Y):Y=e[22];let K;e[23]!==h||e[24]!==I?(K=l.jsx(Z,{sx:Y,children:I?l.jsxs(l.Fragment,{children:[I.color&&l.jsx(Z,{sx:{width:4,height:20,backgroundColor:I.color,borderRadius:1}}),l.jsx(ie,{variant:"body2",children:I.name})]}):l.jsx(ie,{variant:"body2",color:"text.secondary",children:h})}),e[23]=h,e[24]=I,e[25]=K):K=e[25];let J;e[26]===Symbol.for("react.memo_cache_sentinel")?(J={display:"flex",alignItems:"center",gap:.5},e[26]=J):J=e[26];let W;e[27]!==i||e[28]!==a?(W=a&&l.jsx(Ue,{size:"small",onClick:Ee=>{Ee.stopPropagation(),i(null)},sx:{minWidth:"auto",padding:.5},children:l.jsx(Db,{fontSize:"small"})}),e[27]=i,e[28]=a,e[29]=W):W=e[29];const te=y?"rotate(180deg)":"rotate(0deg)";let re;e[30]!==te?(re=l.jsx(zi,{sx:{transition:"transform 0.2s ease",transform:te}}),e[30]=te,e[31]=re):re=e[31];let ne;e[32]!==W||e[33]!==re?(ne=l.jsxs(Z,{sx:J,children:[W,re]}),e[32]=W,e[33]=re,e[34]=ne):ne=e[34];let ce;e[35]!==ee||e[36]!==V||e[37]!==K||e[38]!==ne?(ce=l.jsxs(Gt,{variant:"outlined",sx:ee,onClick:V,children:[K,ne]}),e[35]=ee,e[36]=V,e[37]=K,e[38]=ne,e[39]=ce):ce=e[39];const pe=Gc,me=Gt,ge="outlined";let ye;e[40]===Symbol.for("react.memo_cache_sentinel")?(ye={mt:1,maxHeight:300,overflowY:"auto","&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"4px"}},e[40]=ye):ye=e[40];let he;e[41]!==a||e[42]!==g.palette.primary.main?(he=a?"transparent":gi(g.palette.primary.main,.15),e[41]=a,e[42]=g.palette.primary.main,e[43]=he):he=e[43];const de=a?"3px solid transparent":`3px solid ${g.palette.primary.main}`;let fe;e[44]!==g.palette.action.hover?(fe=gi(g.palette.action.hover,.08),e[44]=g.palette.action.hover,e[45]=fe):fe=e[45];let oe;e[46]!==fe?(oe={backgroundColor:fe},e[46]=fe,e[47]=oe):oe=e[47];let ue;e[48]!==he||e[49]!==de||e[50]!==oe?(ue={padding:1.5,cursor:"pointer",backgroundColor:he,borderLeft:de,transition:"all 0.2s ease","&:hover":oe},e[48]=he,e[49]=de,e[50]=oe,e[51]=ue):ue=e[51];let le;e[52]!==i?(le=()=>{i(null)},e[52]=i,e[53]=le):le=e[53];let Se;e[54]!==h?(Se=l.jsx(ie,{variant:"body2",color:"text.secondary",children:h}),e[54]=h,e[55]=Se):Se=e[55];let _e;e[56]!==ue||e[57]!==le||e[58]!==Se?(_e=l.jsx(Z,{sx:ue,onClick:le,children:Se}),e[56]=ue,e[57]=le,e[58]=Se,e[59]=_e):_e=e[59];const Ie=A.length>0?l.jsx(Z,{sx:{paddingY:.5},children:A.map(Ee=>O(Ee))}):l.jsx(Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:100,color:"text.secondary"},children:l.jsx(ie,{variant:"body2",children:"No items available"})});let ze;e[60]!==me||e[61]!==ye||e[62]!==_e||e[63]!==Ie?(ze=l.jsxs(me,{variant:ge,sx:ye,children:[_e,Ie]}),e[60]=me,e[61]=ye,e[62]=_e,e[63]=Ie,e[64]=ze):ze=e[64];let Me;e[65]!==pe||e[66]!==y||e[67]!==ze?(Me=l.jsx(pe,{in:y,children:ze}),e[65]=pe,e[66]=y,e[67]=ze,e[68]=Me):Me=e[68];let Ze;return e[69]!==D||e[70]!==H||e[71]!==$||e[72]!==ce||e[73]!==Me?(Ze=l.jsxs(D,{sx:H,children:[$,ce,Me]}),e[69]=D,e[70]=H,e[71]=$,e[72]=ce,e[73]=Me,e[74]=Ze):Ze=e[74],Ze}const Jl={all:["groups"],root:(t=null)=>[...Jl.all,"root",t],children:t=>[...Jl.all,"children",t],hierarchy:()=>[...Jl.all,"hierarchy"],detail:t=>[...Jl.all,"detail",t]};function _$e(t){const e=yt.c(4),n=t===void 0?null:t;let a;e[0]!==n?(a=Jl.root(n),e[0]=n,e[1]=a):a=e[1];let i;return e[2]!==a?(i={queryKey:a,queryFn:T$e,staleTime:3e4},e[2]=a,e[3]=i):i=e[3],Nb(i)}async function T$e(){const t=await ir.getRootGroups();if(!t.success||!t.data)throw new Error("Failed to fetch root groups");return t.data}function E$e(t){const e=yt.c(8);let n;e[0]!==t?(n=Jl.children(t??0),e[0]=t,e[1]=n):n=e[1];let a;e[2]!==t?(a=async()=>{if(t===null)return[];const o=await ir.getChildGroups(t);if(!o.success||!o.data)throw new Error("Failed to fetch child groups");return o.data},e[2]=t,e[3]=a):a=e[3];const i=t!==null;let r;return e[4]!==n||e[5]!==a||e[6]!==i?(r={queryKey:n,queryFn:a,enabled:i,placeholderData:A$e,staleTime:3e4},e[4]=n,e[5]=a,e[6]=i,e[7]=r):r=e[7],Nb(r)}function A$e(t){return t}function hJ(){const t=yt.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:Jl.hierarchy(),queryFn:R$e,staleTime:3e4},t[0]=e):e=t[0],Nb(e)}async function R$e(){const t=await ir.getAllGroupsWithHierarchy();if(!t.success||!t.data)throw new Error("Failed to fetch groups hierarchy");return t.data}function k$e(){const t=yt.c(2),e=xp();let n;return t[0]!==e?(n={mutationFn:I$e,onSuccess:()=>{e.invalidateQueries({queryKey:Jl.all}),e.invalidateQueries({queryKey:["groupPreviewImages","group"]})}},t[0]=e,t[1]=n):n=t[1],oS(n)}async function I$e(t){const e=await ir.createGroup(t);if(!e.success||!e.data)throw new Error(e.error||"Failed to create group");return e.data}function N$e(){const t=yt.c(2),e=xp();let n;return t[0]!==e?(n={mutationFn:j$e,onSuccess:a=>{e.invalidateQueries({queryKey:Jl.all}),e.invalidateQueries({queryKey:Jl.detail(a.id)}),e.invalidateQueries({queryKey:["groupPreviewImages","group"]})}},t[0]=e,t[1]=n):n=t[1],oS(n)}async function j$e(t){const{id:e,data:n}=t,a=await ir.updateGroup(e,n);if(!a.success||!a.data)throw new Error(a.error||"Failed to update group");return a.data}function pJ(){const t=yt.c(2),e=xp();let n;return t[0]!==e?(n={mutationFn:D$e,onSuccess:()=>{e.invalidateQueries({queryKey:Jl.all}),e.invalidateQueries({queryKey:["groupPreviewImages","group"]})}},t[0]=e,t[1]=n):n=t[1],oS(n)}async function D$e(t){const{id:e,cascade:n}=t,a=n===void 0?!1:n,i=await ir.deleteGroup(e,a);if(!i.success)throw new Error(i.error||"Failed to delete group");return e}function O$e(){const t=yt.c(2),e=xp();let n;return t[0]!==e?(n={mutationFn:M$e,onSuccess:()=>{e.invalidateQueries({queryKey:Jl.all}),e.invalidateQueries({queryKey:["groupPreviewImages"]})}},t[0]=e,t[1]=n):n=t[1],oS(n)}async function M$e(t){const e=await ir.runAutoCollection(t);if(!e.success||!e.data)throw new Error(e.error||"Failed to run auto-collection");return e.data}const m5=t=>{const e=yt.c(56),{open:n,onClose:a,selectedImageCount:i,onAssign:r,currentGroupId:o}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=["common","imageGroups"],e[0]=s):s=e[0];const{t:c}=ht(s),[u,d]=E.useState(null),{data:h,isLoading:m,error:g}=hJ();let y;e[1]!==h?(y=h===void 0?[]:h,e[1]=h,e[2]=y):y=e[2];const v=y;let S;e[3]!==g||e[4]!==c?(S=g?c("imageGroups:assignModal.loadError"):null,e[3]=g,e[4]=c,e[5]=S):S=e[5];const w=S;let _,T;e[6]!==n?(_=()=>{n&&d(null)},T=[n],e[6]=n,e[7]=_,e[8]=T):(_=e[7],T=e[8]),E.useEffect(_,T);let A;e[9]===Symbol.for("react.memo_cache_sentinel")?(A=re=>{d(re[0]||null)},e[9]=A):A=e[9];const R=A;let I;e[10]!==o||e[11]!==r||e[12]!==a||e[13]!==u?(I=async()=>{u&&u!==o&&(await r(u),a())},e[10]=o,e[11]=r,e[12]=a,e[13]=u,e[14]=I):I=e[14];const N=I,P=P$e,O=L$e;let D;e[15]!==c?(D=c("imageGroups:assignModal.title"),e[15]=c,e[16]=D):D=e[16];let H;e[17]!==D?(H=l.jsx(Un,{children:D}),e[17]=D,e[18]=H):H=e[18];let L;e[19]===Symbol.for("react.memo_cache_sentinel")?(L={mb:2},e[19]=L):L=e[19];let $;e[20]!==i||e[21]!==c?($=c("imageGroups:assignModal.description",{count:i}),e[20]=i,e[21]=c,e[22]=$):$=e[22];let M;e[23]!==$?(M=l.jsx(rc,{sx:L,children:$}),e[23]=$,e[24]=M):M=e[24];let z;e[25]!==w?(z=w&&l.jsx(xt,{severity:"error",sx:{mb:2},children:w}),e[25]=w,e[26]=z):z=e[26];let F;e[27]!==v||e[28]!==m||e[29]!==u||e[30]!==c?(F=m?l.jsx(Z,{sx:{display:"flex",justifyContent:"center",py:4},children:l.jsx(Yt,{})}):v.length===0?l.jsx(Z,{sx:{textAlign:"center",py:4},children:l.jsx(ie,{color:"text.secondary",children:c("imageGroups:assignModal.emptyGroups")})}):l.jsx(S$e,{groups:v,selectedIds:u?[u]:[],onSelectionChange:R,multiSelect:!1,showSearch:!0,emptyMessage:c("imageGroups:assignModal.emptyGroups"),maxHeight:500}),e[27]=v,e[28]=m,e[29]=u,e[30]=c,e[31]=F):F=e[31];let G;e[32]!==M||e[33]!==z||e[34]!==F?(G=l.jsxs($n,{children:[M,z,F]}),e[32]=M,e[33]=z,e[34]=F,e[35]=G):G=e[35];let ee;e[36]!==c?(ee=c("imageGroups:assignModal.buttonCancel"),e[36]=c,e[37]=ee):ee=e[37];let V;e[38]!==a||e[39]!==ee?(V=l.jsx(Ue,{onClick:a,children:ee}),e[38]=a,e[39]=ee,e[40]=V):V=e[40];const Y=!u;let K;e[41]!==c?(K=c("imageGroups:assignModal.buttonAssign"),e[41]=c,e[42]=K):K=e[42];let J;e[43]!==N||e[44]!==Y||e[45]!==K?(J=l.jsx(Ue,{onClick:N,color:"primary",variant:"contained",disabled:Y,children:K}),e[43]=N,e[44]=Y,e[45]=K,e[46]=J):J=e[46];let W;e[47]!==V||e[48]!==J?(W=l.jsxs(Wn,{children:[V,J]}),e[47]=V,e[48]=J,e[49]=W):W=e[49];let te;return e[50]!==a||e[51]!==n||e[52]!==H||e[53]!==G||e[54]!==W?(te=l.jsxs(Fn,{open:n,onClose:a,maxWidth:"sm",fullWidth:!0,onMouseDown:P,onPointerDown:O,children:[H,G,W]}),e[50]=a,e[51]=n,e[52]=H,e[53]=G,e[54]=W,e[55]=te):te=e[55],te};function P$e(t){t.stopPropagation()}function L$e(t){t.stopPropagation()}const vD=({selectedCount:t,selectedIds:e,selectedImages:n=[],onSelectionClear:a,onActionComplete:i,onModalStateChange:r})=>{const{t:o}=ht(["common"]),[s,c]=E.useState(!1),{loading:u,error:d,deleteImages:h,downloadImages:m,assignToGroup:g,clearError:y}=x$e(),v=I=>{c(I),r&&r(I)},S=async()=>{const I=n.some(D=>D.mime_type?.startsWith("video/")),N=n.some(D=>!D.mime_type?.startsWith("video/"));let P;if(I&&N?P=o("common:bulkActions.confirmDelete.mixed",{count:t}):I?P=o("common:bulkActions.confirmDelete.videos",{count:t}):N?P=o("common:bulkActions.confirmDelete.images",{count:t}):P=o("common:bulkActions.confirmDelete.files",{count:t}),!window.confirm(P))return;if(await h(e)){const D=n.map(H=>H.composite_hash).filter(H=>H!==null);i&&i(D)}},w=async()=>{const I=n.map(N=>N.composite_hash).filter(N=>N!==null);await m(I)},_=async I=>{const N=n.map(O=>O.composite_hash).filter(O=>O!==null);await g(N,I)&&(v(!1),a())},T=async()=>{const I=n.map(P=>P.composite_hash).filter(P=>P!==null);if(I.length===0)return;const N=o("common:bulkActions.confirmBatchTag",{count:I.length})||` ? (${I.length} )`;if(window.confirm(N))try{const{taggerBatchApi:P}=await uJ(async()=>{const{taggerBatchApi:H}=await Promise.resolve().then(()=>gLe);return{taggerBatchApi:H}},[],import.meta.url),D=await(await fetch("/api/images/batch-tag",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image_ids:I})})).json();if(D.success)alert(o("common:bulkActions.batchTagSuccess",{count:D.data?.success_count||0})||`${D.data?.success_count||0}    `),a();else throw new Error(D.error||"Batch tag failed")}catch(P){console.error("Batch tag error:",P),alert(o("common:bulkActions.batchTagError")||"     .")}};if(t===0)return null;const A=I=>{I.stopPropagation()},R=I=>{I.stopPropagation()};return l.jsxs(l.Fragment,{children:[l.jsxs(Gt,{className:"no-drag-select",elevation:4,onMouseDown:A,onPointerDown:R,sx:{position:"fixed",bottom:24,left:"50%",transform:"translateX(-50%)",p:2,zIndex:1100,display:"flex",alignItems:"center",gap:2,minWidth:400},children:[l.jsx(ie,{variant:"body1",sx:{flexGrow:1},children:o("common:bulkActions.selectedCountImages",{count:t})}),u&&l.jsx(Yt,{size:24}),l.jsx(jt,{title:o("common:bulkActions.tooltips.download"),children:l.jsx(lt,{onClick:w,disabled:u,color:"primary",children:l.jsx(fg,{})})}),l.jsx(jt,{title:o("common:bulkActions.tooltips.addToGroup"),children:l.jsx(lt,{onClick:()=>v(!0),disabled:u,color:"primary",children:l.jsx(Ps,{})})}),l.jsx(jt,{title:o("common:bulkActions.tooltips.batchTag")||"  ",children:l.jsx(lt,{onClick:T,disabled:u,color:"primary",children:l.jsx(BOe,{})})}),l.jsx(jt,{title:o("common:bulkActions.tooltips.delete"),children:l.jsx(lt,{onClick:S,disabled:u,color:"error",children:l.jsx(Wa,{})})}),l.jsx(jt,{title:o("common:bulkActions.tooltips.clearSelection"),children:l.jsx(lt,{onClick:a,size:"small",children:l.jsx(Sf,{})})})]}),l.jsx(m5,{open:s,onClose:()=>v(!1),selectedImageCount:t,onAssign:_}),d&&l.jsx(Z,{sx:{position:"fixed",top:24,right:24,zIndex:1001,maxWidth:400},children:l.jsx(xt,{severity:"error",onClose:y,action:l.jsx(lt,{"aria-label":"close",color:"inherit",size:"small",onClick:y,children:l.jsx(Sf,{fontSize:"inherit"})}),children:d})})]})},z$e=50,F$e=()=>{const t=yt.c(20),e=xp();let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n={queryKey:["images","infinite"],queryFn:B$e,getNextPageParam:H$e,initialPageParam:1,staleTime:6e4,gcTime:3e5},t[0]=n):n=t[0];const{data:a,error:i,fetchNextPage:r,hasNextPage:o,isFetching:s,isFetchingNextPage:c,refetch:u}=Ufe(n);let d;t[1]!==a?.pages?(d=a?.pages.flatMap($$e)??[],d.length>0&&(console.log(" [useInfiniteImages] First 3 images received:"),d.slice(0,3).forEach(U$e)),t[1]=a?.pages,t[2]=d):d=t[2];const h=d,m=s&&!c,g=i?i.message:null;let y;t[3]!==r||t[4]!==o||t[5]!==c?(y=()=>{o&&!c&&r()},t[3]=r,t[4]=o,t[5]=c,t[6]=y):y=t[6];const v=y;let S;t[7]!==e||t[8]!==u?(S=async()=>{console.log(" [useInfiniteImages] Refreshing images..."),e.removeQueries({queryKey:["images"]}),await u(),console.log(" [useInfiniteImages] Refresh complete")},t[7]=e,t[8]=u,t[9]=S):S=t[9];const w=S;let _;t[10]!==e?(_=async I=>{try{await bi.deleteImage(I),e.setQueryData(["images","infinite"],N=>N&&{...N,pages:N.pages.map(P=>({...P,images:P.images.filter(O=>O.composite_hash!==I)}))}),e.invalidateQueries({queryKey:["images"]})}catch(N){throw console.error("Error deleting image:",N),new Error("  .")}},t[10]=e,t[11]=_):_=t[11];const T=_,A=o??!1;let R;return t[12]!==T||t[13]!==g||t[14]!==h||t[15]!==v||t[16]!==m||t[17]!==w||t[18]!==A?(R={images:h,loading:m,error:g,hasMore:A,loadMore:v,refreshImages:w,deleteImage:T},t[12]=T,t[13]=g,t[14]=h,t[15]=v,t[16]=m,t[17]=w,t[18]=A,t[19]=R):R=t[19],R};async function B$e(t){const{pageParam:e}=t,n=e===void 0?1:e,a=await bi.getImages(n,z$e);if(!a.success||!a.data)throw new Error(a.error||"  .");return a.data}function H$e(t){return t.page<t.totalPages?t.page+1:void 0}function $$e(t){return t.images}function U$e(t,e){console.log(`  [${e}] id=${t.id}, hash=${t.composite_hash?.substring(0,8)}, path=${t.original_file_path}`)}const G$e=()=>{const t=yt.c(43);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=["common"],t[0]=e):e=t[0];const{t:n}=ht(e),{images:a,loading:i,error:r,hasMore:o,loadMore:s,refreshImages:c}=F$e();let u;t[1]===Symbol.for("react.memo_cache_sentinel")?(u=[],t[1]=u):u=t[1];const[d,h]=E.useState(u);let m;t[2]!==d?(m=z=>{console.log("[HomePage] handleSelectionChange called:",{newSelectedIds:z,currentSelectedIds:d}),h(z)},t[2]=d,t[3]=m):m=t[3];const g=m;let y;t[4]===Symbol.for("react.memo_cache_sentinel")?(y=()=>{h([])},t[4]=y):y=t[4];const v=y;let S;t[5]!==a||t[6]!==c?(S=async z=>{if(z&&z.length>0){const F=a.filter(G=>G.composite_hash&&z.includes(G.composite_hash)).map(q$e).filter(W$e);h(G=>G.filter(ee=>!F.includes(ee)))}await c()},t[5]=a,t[6]=c,t[7]=S):S=t[7];const w=S;let _;t[8]===Symbol.for("react.memo_cache_sentinel")?(_={width:"100%"},t[8]=_):_=t[8];let T;t[9]===Symbol.for("react.memo_cache_sentinel")?(T={mb:{xs:2,sm:3},display:"flex",justifyContent:"space-between",alignItems:"center"},t[9]=T):T=t[9];let A;t[10]===Symbol.for("react.memo_cache_sentinel")?(A=l.jsx(Z,{children:l.jsx(ie,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontSize:{xs:"1.75rem",sm:"2rem",md:"2.25rem"},fontWeight:600},children:"Home"})}),t[10]=A):A=t[10];let R;t[11]!==n?(R=n("common:refresh"),t[11]=n,t[12]=R):R=t[12];let I;t[13]===Symbol.for("react.memo_cache_sentinel")?(I=l.jsx(jo,{}),t[13]=I):I=t[13];let N;t[14]!==i||t[15]!==c?(N=l.jsx("span",{children:l.jsx(lt,{onClick:c,disabled:i,children:I})}),t[14]=i,t[15]=c,t[16]=N):N=t[16];let P;t[17]!==N||t[18]!==R?(P=l.jsxs(Z,{sx:T,children:[A,l.jsx(jt,{title:R,children:N})]}),t[17]=N,t[18]=R,t[19]=P):P=t[19];let O;t[20]!==r?(O=r&&l.jsx(Z,{sx:{mb:{xs:2,sm:3},p:2,bgcolor:"error.light",color:"error.contrastText",borderRadius:2},children:l.jsx(ie,{variant:"body2",children:r})}),t[20]=r,t[21]=O):O=t[21];let D;t[22]!==g||t[23]!==o||t[24]!==a||t[25]!==s||t[26]!==i||t[27]!==d?(D=l.jsx(d$e,{images:a,loading:i,hasMore:o,onLoadMore:s,selectable:!0,selectedIds:d,onSelectionChange:g}),t[22]=g,t[23]=o,t[24]=a,t[25]=s,t[26]=i,t[27]=d,t[28]=D):D=t[28];const H=d.length;let L;if(t[29]!==a||t[30]!==d){let z;t[32]!==d?(z=F=>F.id&&d.includes(F.id),t[32]=d,t[33]=z):z=t[33],L=a.filter(z),t[29]=a,t[30]=d,t[31]=L}else L=t[31];let $;t[34]!==w||t[35]!==d||t[36]!==L?($=l.jsx(vD,{selectedCount:H,selectedIds:d,selectedImages:L,onSelectionClear:v,onActionComplete:w}),t[34]=w,t[35]=d,t[36]=L,t[37]=$):$=t[37];let M;return t[38]!==P||t[39]!==O||t[40]!==D||t[41]!==$?(M=l.jsxs(Z,{sx:_,children:[P,O,D,$]}),t[38]=P,t[39]=O,t[40]=D,t[41]=$,t[42]=M):M=t[42],M};function q$e(t){return t.id}function W$e(t){return t!==void 0}function Mg(t,e,n,a){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function s(d){try{u(a.next(d))}catch(h){o(h)}}function c(d){try{u(a.throw(d))}catch(h){o(h)}}function u(d){d.done?r(d.value):i(d.value).then(s,c)}u((a=a.apply(t,e||[])).next())})}const V$e=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function pb(t,e,n){const a=Y$e(t),{webkitRelativePath:i}=t,r=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof a.path!="string"&&LF(a,"path",r),LF(a,"relativePath",r),a}function Y$e(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const a=e.split(".").pop().toLowerCase(),i=V$e.get(a);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function LF(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const K$e=[".DS_Store","Thumbs.db"];function X$e(t){return Mg(this,void 0,void 0,function*(){return G4(t)&&Q$e(t.dataTransfer)?tUe(t.dataTransfer,t.type):Z$e(t)?J$e(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?eUe(t):[]})}function Q$e(t){return G4(t)}function Z$e(t){return G4(t)&&G4(t.target)}function G4(t){return typeof t=="object"&&t!==null}function J$e(t){return U7(t.target.files).map(e=>pb(e))}function eUe(t){return Mg(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>pb(n))})}function tUe(t,e){return Mg(this,void 0,void 0,function*(){if(t.items){const n=U7(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const a=yield Promise.all(n.map(nUe));return zF(mJ(a))}return zF(U7(t.files).map(n=>pb(n)))})}function zF(t){return t.filter(e=>K$e.indexOf(e.name)===-1)}function U7(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const a=t[n];e.push(a)}return e}function nUe(t){if(typeof t.webkitGetAsEntry!="function")return FF(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?gJ(e):FF(t,e)}function mJ(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?mJ(n):[n]],[])}function FF(t,e){return Mg(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const r=yield t.getAsFileSystemHandle();if(r===null)throw new Error(`${t} is not a File`);if(r!==void 0){const o=yield r.getFile();return o.handle=r,pb(o)}}const a=t.getAsFile();if(!a)throw new Error(`${t} is not a File`);return pb(a,(n=e?.fullPath)!==null&&n!==void 0?n:void 0)})}function aUe(t){return Mg(this,void 0,void 0,function*(){return t.isDirectory?gJ(t):iUe(t)})}function gJ(t){const e=t.createReader();return new Promise((n,a)=>{const i=[];function r(){e.readEntries(o=>Mg(this,void 0,void 0,function*(){if(o.length){const s=Promise.all(o.map(aUe));i.push(s),r()}else try{const s=yield Promise.all(i);n(s)}catch(s){a(s)}}),o=>{a(o)})}r()})}function iUe(t){return Mg(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(a=>{const i=pb(a,t.fullPath);e(i)},a=>{n(a)})})})}var mw={},BF;function rUe(){return BF||(BF=1,mw.__esModule=!0,mw.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var a=t.name||"",i=(t.type||"").toLowerCase(),r=i.replace(/\/.*$/,"");return n.some(function(o){var s=o.trim().toLowerCase();return s.charAt(0)==="."?a.toLowerCase().endsWith(s):s.endsWith("/*")?r===s.replace(/\/.*$/,""):i===s})}return!0}),mw}var oUe=rUe();const t6=_f(oUe);function HF(t){return cUe(t)||lUe(t)||yJ(t)||sUe()}function sUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cUe(t){if(Array.isArray(t))return G7(t)}function $F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function UF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$F(Object(n),!0).forEach(function(a){bJ(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$F(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function bJ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E2(t,e){return fUe(t)||dUe(t,e)||yJ(t,e)||uUe()}function uUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yJ(t,e){if(t){if(typeof t=="string")return G7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G7(t,e)}}function G7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function dUe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a=[],i=!0,r=!1,o,s;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(a.push(o.value),!(e&&a.length===e));i=!0);}catch(c){r=!0,s=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(r)throw s}}return a}}function fUe(t){if(Array.isArray(t))return t}var hUe=typeof t6=="function"?t6:t6.default,pUe="file-invalid-type",mUe="file-too-large",gUe="file-too-small",bUe="too-many-files",yUe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),a=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:pUe,message:"File type must be ".concat(a)}},GF=function(e){return{code:mUe,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},qF=function(e){return{code:gUe,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},xUe={code:bUe,message:"Too many files"};function xJ(t,e){var n=t.type==="application/x-moz-file"||hUe(t,e);return[n,n?null:yUe(e)]}function vJ(t,e,n){if(Dm(t.size))if(Dm(e)&&Dm(n)){if(t.size>n)return[!1,GF(n)];if(t.size<e)return[!1,qF(e)]}else{if(Dm(e)&&t.size<e)return[!1,qF(e)];if(Dm(n)&&t.size>n)return[!1,GF(n)]}return[!0,null]}function Dm(t){return t!=null}function vUe(t){var e=t.files,n=t.accept,a=t.minSize,i=t.maxSize,r=t.multiple,o=t.maxFiles,s=t.validator;return!r&&e.length>1||r&&o>=1&&e.length>o?!1:e.every(function(c){var u=xJ(c,n),d=E2(u,1),h=d[0],m=vJ(c,a,i),g=E2(m,1),y=g[0],v=s?s(c):null;return h&&y&&!v})}function q4(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function gw(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function WF(t){t.preventDefault()}function SUe(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function CUe(t){return t.indexOf("Edge/")!==-1}function wUe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return SUe(t)||CUe(t)}function zu(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(a){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return e.some(function(s){return!q4(a)&&s&&s.apply(void 0,[a].concat(r)),q4(a)})}}function _Ue(){return"showOpenFilePicker"in window}function TUe(t){if(Dm(t)){var e=Object.entries(t).filter(function(n){var a=E2(n,2),i=a[0],r=a[1],o=!0;return SJ(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(r)||!r.every(CJ))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,a){var i=E2(a,2),r=i[0],o=i[1];return UF(UF({},n),{},bJ({},r,o))},{});return[{description:"Files",accept:e}]}return t}function EUe(t){if(Dm(t))return Object.entries(t).reduce(function(e,n){var a=E2(n,2),i=a[0],r=a[1];return[].concat(HF(e),[i],HF(r))},[]).filter(function(e){return SJ(e)||CJ(e)}).join(",")}function AUe(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function RUe(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function SJ(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function CJ(t){return/^.*\.[\w]+$/.test(t)}var kUe=["children"],IUe=["open"],NUe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],jUe=["refKey","onChange","onClick"];function DUe(t){return PUe(t)||MUe(t)||wJ(t)||OUe()}function OUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PUe(t){if(Array.isArray(t))return q7(t)}function n6(t,e){return FUe(t)||zUe(t,e)||wJ(t,e)||LUe()}function LUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wJ(t,e){if(t){if(typeof t=="string")return q7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q7(t,e)}}function q7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function zUe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a=[],i=!0,r=!1,o,s;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(a.push(o.value),!(e&&a.length===e));i=!0);}catch(c){r=!0,s=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(r)throw s}}return a}}function FUe(t){if(Array.isArray(t))return t}function VF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function Li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VF(Object(n),!0).forEach(function(a){W7(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VF(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function W7(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W4(t,e){if(t==null)return{};var n=BUe(t,e),a,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function BUe(t,e){if(t==null)return{};var n={},a=Object.keys(t),i,r;for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var SD=E.forwardRef(function(t,e){var n=t.children,a=W4(t,kUe),i=TJ(a),r=i.open,o=W4(i,IUe);return E.useImperativeHandle(e,function(){return{open:r}},[r]),ke.createElement(E.Fragment,null,n(Li(Li({},o),{},{open:r})))});SD.displayName="Dropzone";var _J={disabled:!1,getFilesFromEvent:X$e,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};SD.defaultProps=_J;SD.propTypes={children:qa.func,accept:qa.objectOf(qa.arrayOf(qa.string)),multiple:qa.bool,preventDropOnDocument:qa.bool,noClick:qa.bool,noKeyboard:qa.bool,noDrag:qa.bool,noDragEventsBubbling:qa.bool,minSize:qa.number,maxSize:qa.number,maxFiles:qa.number,disabled:qa.bool,getFilesFromEvent:qa.func,onFileDialogCancel:qa.func,onFileDialogOpen:qa.func,useFsAccessApi:qa.bool,autoFocus:qa.bool,onDragEnter:qa.func,onDragLeave:qa.func,onDragOver:qa.func,onDrop:qa.func,onDropAccepted:qa.func,onDropRejected:qa.func,onError:qa.func,validator:qa.func};var V7={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function TJ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Li(Li({},_J),t),n=e.accept,a=e.disabled,i=e.getFilesFromEvent,r=e.maxSize,o=e.minSize,s=e.multiple,c=e.maxFiles,u=e.onDragEnter,d=e.onDragLeave,h=e.onDragOver,m=e.onDrop,g=e.onDropAccepted,y=e.onDropRejected,v=e.onFileDialogCancel,S=e.onFileDialogOpen,w=e.useFsAccessApi,_=e.autoFocus,T=e.preventDropOnDocument,A=e.noClick,R=e.noKeyboard,I=e.noDrag,N=e.noDragEventsBubbling,P=e.onError,O=e.validator,D=E.useMemo(function(){return EUe(n)},[n]),H=E.useMemo(function(){return TUe(n)},[n]),L=E.useMemo(function(){return typeof S=="function"?S:YF},[S]),$=E.useMemo(function(){return typeof v=="function"?v:YF},[v]),M=E.useRef(null),z=E.useRef(null),F=E.useReducer(HUe,V7),G=n6(F,2),ee=G[0],V=G[1],Y=ee.isFocused,K=ee.isFileDialogActive,J=E.useRef(typeof window<"u"&&window.isSecureContext&&w&&_Ue()),W=function(){!J.current&&K&&setTimeout(function(){if(z.current){var Ne=z.current.files;Ne.length||(V({type:"closeDialog"}),$())}},300)};E.useEffect(function(){return window.addEventListener("focus",W,!1),function(){window.removeEventListener("focus",W,!1)}},[z,K,$,J]);var te=E.useRef([]),re=function(Ne){M.current&&M.current.contains(Ne.target)||(Ne.preventDefault(),te.current=[])};E.useEffect(function(){return T&&(document.addEventListener("dragover",WF,!1),document.addEventListener("drop",re,!1)),function(){T&&(document.removeEventListener("dragover",WF),document.removeEventListener("drop",re))}},[M,T]),E.useEffect(function(){return!a&&_&&M.current&&M.current.focus(),function(){}},[M,_,a]);var ne=E.useCallback(function(Ee){P?P(Ee):console.error(Ee)},[P]),ce=E.useCallback(function(Ee){Ee.preventDefault(),Ee.persist(),Ie(Ee),te.current=[].concat(DUe(te.current),[Ee.target]),gw(Ee)&&Promise.resolve(i(Ee)).then(function(Ne){if(!(q4(Ee)&&!N)){var ve=Ne.length,we=ve>0&&vUe({files:Ne,accept:D,minSize:o,maxSize:r,multiple:s,maxFiles:c,validator:O}),Oe=ve>0&&!we;V({isDragAccept:we,isDragReject:Oe,isDragActive:!0,type:"setDraggedFiles"}),u&&u(Ee)}}).catch(function(Ne){return ne(Ne)})},[i,u,ne,N,D,o,r,s,c,O]),pe=E.useCallback(function(Ee){Ee.preventDefault(),Ee.persist(),Ie(Ee);var Ne=gw(Ee);if(Ne&&Ee.dataTransfer)try{Ee.dataTransfer.dropEffect="copy"}catch{}return Ne&&h&&h(Ee),!1},[h,N]),me=E.useCallback(function(Ee){Ee.preventDefault(),Ee.persist(),Ie(Ee);var Ne=te.current.filter(function(we){return M.current&&M.current.contains(we)}),ve=Ne.indexOf(Ee.target);ve!==-1&&Ne.splice(ve,1),te.current=Ne,!(Ne.length>0)&&(V({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),gw(Ee)&&d&&d(Ee))},[M,d,N]),ge=E.useCallback(function(Ee,Ne){var ve=[],we=[];Ee.forEach(function(Oe){var Le=xJ(Oe,D),We=n6(Le,2),Fe=We[0],Ve=We[1],rt=vJ(Oe,o,r),at=n6(rt,2),ot=at[0],bt=at[1],Xt=O?O(Oe):null;if(Fe&&ot&&!Xt)ve.push(Oe);else{var Jt=[Ve,bt];Xt&&(Jt=Jt.concat(Xt)),we.push({file:Oe,errors:Jt.filter(function(vn){return vn})})}}),(!s&&ve.length>1||s&&c>=1&&ve.length>c)&&(ve.forEach(function(Oe){we.push({file:Oe,errors:[xUe]})}),ve.splice(0)),V({acceptedFiles:ve,fileRejections:we,isDragReject:we.length>0,type:"setFiles"}),m&&m(ve,we,Ne),we.length>0&&y&&y(we,Ne),ve.length>0&&g&&g(ve,Ne)},[V,s,D,o,r,c,m,g,y,O]),ye=E.useCallback(function(Ee){Ee.preventDefault(),Ee.persist(),Ie(Ee),te.current=[],gw(Ee)&&Promise.resolve(i(Ee)).then(function(Ne){q4(Ee)&&!N||ge(Ne,Ee)}).catch(function(Ne){return ne(Ne)}),V({type:"reset"})},[i,ge,ne,N]),he=E.useCallback(function(){if(J.current){V({type:"openDialog"}),L();var Ee={multiple:s,types:H};window.showOpenFilePicker(Ee).then(function(Ne){return i(Ne)}).then(function(Ne){ge(Ne,null),V({type:"closeDialog"})}).catch(function(Ne){AUe(Ne)?($(Ne),V({type:"closeDialog"})):RUe(Ne)?(J.current=!1,z.current?(z.current.value=null,z.current.click()):ne(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ne(Ne)});return}z.current&&(V({type:"openDialog"}),L(),z.current.value=null,z.current.click())},[V,L,$,w,ge,ne,H,s]),de=E.useCallback(function(Ee){!M.current||!M.current.isEqualNode(Ee.target)||(Ee.key===" "||Ee.key==="Enter"||Ee.keyCode===32||Ee.keyCode===13)&&(Ee.preventDefault(),he())},[M,he]),fe=E.useCallback(function(){V({type:"focus"})},[]),oe=E.useCallback(function(){V({type:"blur"})},[]),ue=E.useCallback(function(){A||(wUe()?setTimeout(he,0):he())},[A,he]),le=function(Ne){return a?null:Ne},Se=function(Ne){return R?null:le(Ne)},_e=function(Ne){return I?null:le(Ne)},Ie=function(Ne){N&&Ne.stopPropagation()},ze=E.useMemo(function(){return function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ne=Ee.refKey,ve=Ne===void 0?"ref":Ne,we=Ee.role,Oe=Ee.onKeyDown,Le=Ee.onFocus,We=Ee.onBlur,Fe=Ee.onClick,Ve=Ee.onDragEnter,rt=Ee.onDragOver,at=Ee.onDragLeave,ot=Ee.onDrop,bt=W4(Ee,NUe);return Li(Li(W7({onKeyDown:Se(zu(Oe,de)),onFocus:Se(zu(Le,fe)),onBlur:Se(zu(We,oe)),onClick:le(zu(Fe,ue)),onDragEnter:_e(zu(Ve,ce)),onDragOver:_e(zu(rt,pe)),onDragLeave:_e(zu(at,me)),onDrop:_e(zu(ot,ye)),role:typeof we=="string"&&we!==""?we:"presentation"},ve,M),!a&&!R?{tabIndex:0}:{}),bt)}},[M,de,fe,oe,ue,ce,pe,me,ye,R,I,a]),Me=E.useCallback(function(Ee){Ee.stopPropagation()},[]),Ze=E.useMemo(function(){return function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ne=Ee.refKey,ve=Ne===void 0?"ref":Ne,we=Ee.onChange,Oe=Ee.onClick,Le=W4(Ee,jUe),We=W7({accept:D,multiple:s,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:le(zu(we,ye)),onClick:le(zu(Oe,Me)),tabIndex:-1},ve,z);return Li(Li({},We),Le)}},[z,n,s,ye,a]);return Li(Li({},ee),{},{isFocused:Y&&!a,getRootProps:ze,getInputProps:Ze,rootRef:M,inputRef:z,open:le(he)})}function HUe(t,e){switch(e.type){case"focus":return Li(Li({},t),{},{isFocused:!0});case"blur":return Li(Li({},t),{},{isFocused:!1});case"openDialog":return Li(Li({},V7),{},{isFileDialogActive:!0});case"closeDialog":return Li(Li({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Li(Li({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Li(Li({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Li({},V7);default:return t}}function YF(){}const $Ue=({onUploadComplete:t})=>{const{t:e}=ht("upload"),[n,a]=E.useState([]),[i,r]=E.useState(!1),[o,s]=E.useState(0),[c,u]=E.useState(null),d={upload:e("stages.upload"),metadata:e("stages.metadata"),thumbnail:e("stages.thumbnail"),"auto-collect":e("stages.autoCollect"),"auto-tag":e("stages.autoTag")},h=E.useCallback(async T=>{if(T.length===0)return;r(!0),u(null);const A=T.map(R=>({filename:R.name,status:"waiting"}));a(A),s(0);try{if(T.length===1){const R=await Xz.uploadImage(T[0]);R.success?(a([{filename:T[0].name,status:"complete",message:e("messages.uploadComplete"),imageId:R.data?.composite_hash}]),u({type:"success",text:e("messages.uploadSuccess")})):(a([{filename:T[0].name,status:"error",error:R.error}]),u({type:"error",text:R.error||e("messages.uploadFailed")}))}else{let R=0,I=0;await Xz.uploadImagesWithProgress(T,N=>{const P=N.currentFile-1;s(P),a(O=>{const D=[...O],H=D[P];return N.type==="start"?(H.status="processing",H.message=N.message):N.type==="stage"?(H.status="processing",H.currentStage=N.stage,H.message=N.message||(N.stage?d[N.stage]:"")):N.type==="complete"?(H.status="complete",H.message=N.message,H.imageId=N.compositeHash,R++):N.type==="error"&&(H.status="error",H.error=N.error,I++),D})}),u(I===0?{type:"success",text:e("messages.multipleSuccess",{count:R})}:R===0?{type:"error",text:e("messages.allFailed")}:{type:"info",text:e("messages.partialSuccess",{success:R,failed:I})})}t&&t()}catch(R){u({type:"error",text:e("messages.uploadError")}),console.error("Upload error:",R)}finally{r(!1)}},[t,e,d]),{getRootProps:m,getInputProps:g,isDragActive:y}=TJ({onDrop:h,accept:{"image/*":[".jpg",".jpeg",".png",".gif",".bmp",".webp",".tiff"],"video/*":[".mp4",".webm",".mov",".avi",".mkv"]},multiple:!0}),v=()=>{const T=document.createElement("input");T.type="file",T.multiple=!0,T.accept="image/*,video/*",T.onchange=A=>{const R=Array.from(A.target.files||[]);R.length>0&&h(R)},T.click()},S=()=>{const T=document.createElement("input");T.type="file",T.webkitdirectory=!0,T.multiple=!0,T.onchange=A=>{const R=Array.from(A.target.files||[]).filter(I=>I.type.startsWith("image/")||I.type.startsWith("video/"));R.length>0&&h(R)},T.click()},w=n.length>0?n.filter(T=>T.status==="complete"||T.status==="error").length/n.length*100:0,_=T=>{switch(T){case"complete":return l.jsx(po,{sx:{color:"success.main"}});case"error":return l.jsx(hg,{sx:{color:"error.main"}});case"processing":return l.jsx(vf,{sx:{color:"primary.main"}});default:return l.jsx(mS,{sx:{color:"text.secondary"}})}};return l.jsxs(Z,{sx:{width:"100%"},children:[l.jsxs(Gt,{...m(),elevation:y?8:2,sx:{p:4,textAlign:"center",border:"2px dashed",borderColor:y?"primary.main":"grey.300",backgroundColor:y?"action.hover":"background.paper",cursor:"pointer",transition:"all 0.2s ease-in-out","&:hover":{borderColor:"primary.main",backgroundColor:"action.hover"}},children:[l.jsx("input",{...g()}),l.jsx(bp,{sx:{fontSize:64,color:"primary.main",mb:2}}),l.jsx(ie,{variant:"h5",gutterBottom:!0,children:e(y?"dropzone.dragActive":"dropzone.dragInactive")}),l.jsx(ie,{variant:"body2",color:"text.secondary",sx:{mb:3},children:e("dropzone.supportedFormats")}),l.jsxs(cn,{direction:"row",spacing:2,justifyContent:"center",flexWrap:"wrap",children:[l.jsx(mt,{icon:l.jsx(qc,{}),label:e("dropzone.imageSupport"),variant:"outlined",size:"small"}),l.jsx(mt,{icon:l.jsx(lD,{}),label:e("dropzone.videoSupport"),variant:"outlined",size:"small"}),l.jsx(mt,{label:e("dropzone.multipleSelection"),variant:"outlined",size:"small"})]})]}),l.jsx(fn,{sx:{my:3},children:e("dropzone.divider")}),l.jsxs(dn,{container:!0,spacing:2,children:[l.jsx(dn,{size:{xs:12,sm:6},children:l.jsx(Ue,{fullWidth:!0,variant:"outlined",size:"large",startIcon:l.jsx(qc,{}),onClick:v,disabled:i,children:e("buttons.selectFiles")})}),l.jsx(dn,{size:{xs:12,sm:6},children:l.jsx(Ue,{fullWidth:!0,variant:"outlined",size:"large",startIcon:l.jsx(Ps,{}),onClick:S,disabled:i,children:e("buttons.selectFolder")})})]}),i&&n.length>0&&l.jsxs(Z,{sx:{mt:3},children:[l.jsxs(ie,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:[e("progress.title"),": ",e("progress.fileCount",{completed:n.filter(T=>T.status==="complete"||T.status==="error").length,total:n.length})]}),l.jsx(oc,{variant:"determinate",value:w,sx:{height:8,borderRadius:4,mb:2}}),l.jsx(Gt,{variant:"outlined",sx:{maxHeight:400,overflow:"auto",p:2},children:l.jsx(Ms,{dense:!0,children:n.map((T,A)=>l.jsxs(yf,{sx:{bgcolor:A===o&&T.status==="processing"?"action.selected":"transparent",borderRadius:1,mb:.5},children:[l.jsx(Ao,{sx:{minWidth:40},children:_(T.status)}),l.jsx(ar,{primary:T.filename,secondary:l.jsxs(l.Fragment,{children:[T.status==="processing"&&T.currentStage&&l.jsx(ie,{component:"span",variant:"caption",color:"primary",children:d[T.currentStage]}),T.message&&l.jsx(ie,{component:"span",variant:"caption",color:"text.secondary",sx:{ml:1},children:T.message}),T.error&&l.jsx(ie,{component:"span",variant:"caption",color:"error",children:T.error})]})})]},A))})})]}),c&&l.jsx(xt,{severity:c.type,sx:{mt:3},onClose:()=>u(null),children:c.text}),n.length>0&&!i&&l.jsx(Z,{sx:{mt:2},children:l.jsx(ie,{variant:"body2",color:"text.secondary",children:e("progress.summary",{total:n.length,success:n.filter(T=>T.status==="complete").length,failed:n.filter(T=>T.status==="error").length})})})]})};var g5=typeof self<"u"?self:global;const A2=typeof navigator<"u",UUe=A2&&typeof HTMLImageElement>"u",V4=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),b5=g5.Buffer,bw=g5.BigInt,y5=!!b5,GUe=t=>t;function Y4(t,e=GUe){if(V4)try{return typeof require=="function"?Promise.resolve(e(require(t))):import(t).then(e)}catch{console.warn(`Couldn't load ${t}`)}}let CD=g5.fetch;const qUe=t=>CD=t;if(!g5.fetch){const t=Y4("http",(a=>a)),e=Y4("https",(a=>a)),n=(a,{headers:i}={})=>new Promise((async(r,o)=>{let{port:s,hostname:c,pathname:u,protocol:d,search:h}=new URL(a);const m={method:"GET",hostname:c,path:encodeURI(u)+h,headers:i};s!==""&&(m.port=Number(s));const g=(d==="https:"?await e:await t).request(m,(y=>{if(y.statusCode===301||y.statusCode===302){let v=new URL(y.headers.location,a).toString();return n(v,{headers:i}).then(r).catch(o)}r({status:y.statusCode,arrayBuffer:()=>new Promise((v=>{let S=[];y.on("data",(w=>S.push(w))),y.on("end",(()=>v(Buffer.concat(S))))}))})}));g.on("error",o),g.end()}));qUe(n)}function xn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const K4=t=>EJ(t)?void 0:t,WUe=t=>t!==void 0;function EJ(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(WUe).length===0)}function vr(t){let e=new Error(t);throw delete e.stack,e}function $m(t){return(t=(function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e})(t).trim())===""?void 0:t}function Y7(t){let e=(function(n){let a=0;return n.ifd0.enabled&&(a+=1024),n.exif.enabled&&(a+=2048),n.makerNote&&(a+=2048),n.userComment&&(a+=1024),n.gps.enabled&&(a+=512),n.interop.enabled&&(a+=100),n.ifd1.enabled&&(a+=1024),a+2048})(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}const K7=t=>String.fromCharCode.apply(null,t),KF=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function AJ(t){return KF?KF.decode(t):y5?Buffer.from(t).toString("utf8"):decodeURIComponent(escape(K7(t)))}class Ts{static from(e,n){return e instanceof this&&e.le===n?e:new Ts(e,void 0,void 0,n)}constructor(e,n=0,a,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){a===void 0&&(a=e.byteLength-n);let r=new DataView(e,n,a);this._swapDataView(r)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof Ts){a===void 0&&(a=e.byteLength-n),(n+=e.byteOffset)+a>e.byteOffset+e.byteLength&&vr("Creating view outside of available memory in ArrayBuffer");let r=new DataView(e.buffer,n,a);this._swapDataView(r)}else if(typeof e=="number"){let r=new DataView(new ArrayBuffer(e));this._swapDataView(r)}else vr("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,n,a=Ts){return e instanceof DataView||e instanceof Ts?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||vr("BufferView.set(): Invalid data argument."),this.toUint8().set(e,n),new a(this,n,e.byteLength)}subarray(e,n){return n=n||this._lengthToEnd(e),new Ts(this,e,n)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,n){return new Uint8Array(this.buffer,this.byteOffset+e,n)}getString(e=0,n=this.byteLength){return AJ(this.getUint8Array(e,n))}getLatin1String(e=0,n=this.byteLength){let a=this.getUint8Array(e,n);return K7(a)}getUnicodeString(e=0,n=this.byteLength){const a=[];for(let i=0;i<n&&e+i<this.byteLength;i+=2)a.push(this.getUint16(e+i));return K7(a)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,n=this.le){return this.dataView.getInt16(e,n)}getInt32(e,n=this.le){return this.dataView.getInt32(e,n)}getUint16(e,n=this.le){return this.dataView.getUint16(e,n)}getUint32(e,n=this.le){return this.dataView.getUint32(e,n)}getFloat32(e,n=this.le){return this.dataView.getFloat32(e,n)}getFloat64(e,n=this.le){return this.dataView.getFloat64(e,n)}getFloat(e,n=this.le){return this.dataView.getFloat32(e,n)}getDouble(e,n=this.le){return this.dataView.getFloat64(e,n)}getUintBytes(e,n,a){switch(n){case 1:return this.getUint8(e,a);case 2:return this.getUint16(e,a);case 4:return this.getUint32(e,a);case 8:return this.getUint64&&this.getUint64(e,a)}}getUint(e,n,a){switch(n){case 8:return this.getUint8(e,a);case 16:return this.getUint16(e,a);case 32:return this.getUint32(e,a);case 64:return this.getUint64&&this.getUint64(e,a)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function X7(t,e){vr(`${t} '${e}' was not loaded, try using full build of exifr.`)}class wD extends Map{constructor(e){super(),this.kind=e}get(e,n){return this.has(e)||X7(this.kind,e),n&&(e in n||(function(a,i){vr(`Unknown ${a} '${i}'.`)})(this.kind,e),n[e].enabled||X7(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var rd=new wD("file parser"),xr=new wD("segment parser"),dd=new wD("file reader");function VUe(t,e){return typeof t=="string"?XF(t,e):A2&&!UUe&&t instanceof HTMLImageElement?XF(t.src,e):t instanceof Uint8Array||t instanceof ArrayBuffer||t instanceof DataView?new Ts(t):A2&&t instanceof Blob?Q7(t,e,"blob",gg):void vr("Invalid input argument")}function XF(t,e){return(n=t).startsWith("data:")||n.length>1e4?Z7(t,e,"base64"):V4&&t.includes("://")?Q7(t,e,"url",mg):V4?Z7(t,e,"fs"):A2?Q7(t,e,"url",mg):void vr("Invalid input argument");var n}async function Q7(t,e,n,a){return dd.has(n)?Z7(t,e,n):a?(async function(i,r){let o=await r(i);return new Ts(o)})(t,a):void vr(`Parser ${n} is not loaded`)}async function Z7(t,e,n){let a=new(dd.get(n))(t,e);return await a.read(),a}const mg=t=>CD(t).then((e=>e.arrayBuffer())),gg=t=>new Promise(((e,n)=>{let a=new FileReader;a.onloadend=()=>e(a.result||new ArrayBuffer),a.onerror=n,a.readAsArrayBuffer(t)}));class YUe extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function or(t,e,n){let a=new YUe;for(let[i,r]of n)a.set(i,r);if(Array.isArray(e))for(let i of e)t.set(i,a);else t.set(e,a);return a}function bg(t,e,n){let a,i=t.get(e);for(a of n)i.set(a[0],a[1])}const Yr=new Map,nu=new Map,op=new Map,Xh=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],Lb=["jfif","xmp","icc","iptc","ihdr"],yg=["tiff",...Lb],Vi=["ifd0","ifd1","exif","gps","interop"],Qh=[...yg,...Vi],Zh=["makerNote","userComment"],zb=["translateKeys","translateValues","reviveValues","multiSegment"],Jh=[...zb,"sanitize","mergeOutput","silentErrors"];class RJ{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class Zx extends RJ{get needed(){return this.enabled||this.deps.size>0}constructor(e,n,a,i){if(super(),xn(this,"enabled",!1),xn(this,"skip",new Set),xn(this,"pick",new Set),xn(this,"deps",new Set),xn(this,"translateKeys",!1),xn(this,"translateValues",!1),xn(this,"reviveValues",!1),this.key=e,this.enabled=n,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=Vi.includes(e),this.canBeFiltered&&(this.dict=Yr.get(e)),a!==void 0)if(Array.isArray(a))this.parse=this.enabled=!0,this.canBeFiltered&&a.length>0&&this.translateTagSet(a,this.pick);else if(typeof a=="object"){if(this.enabled=!0,this.parse=a.parse!==!1,this.canBeFiltered){let{pick:r,skip:o}=a;r&&r.length>0&&this.translateTagSet(r,this.pick),o&&o.length>0&&this.translateTagSet(o,this.skip)}this.applyInheritables(a)}else a===!0||a===!1?this.parse=this.enabled=a:vr(`Invalid options argument: ${a}`)}applyInheritables(e){let n,a;for(n of zb)a=e[n],a!==void 0&&(this[n]=a)}translateTagSet(e,n){if(this.dict){let a,i,{tagKeys:r,tagValues:o}=this.dict;for(a of e)typeof a=="string"?(i=o.indexOf(a),i===-1&&(i=r.indexOf(Number(a))),i!==-1&&n.add(Number(r[i]))):n.add(a)}else for(let a of e)n.add(a)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,X4(this.pick,this.deps)):this.enabled&&this.pick.size>0&&X4(this.pick,this.deps)}}var Ko={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},QF=new Map;class Pg extends RJ{static useCached(e){let n=QF.get(e);return n!==void 0||(n=new this(e),QF.set(e,n)),n}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):vr(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=A2?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of Xh)this[e]=Ko[e];for(e of Jh)this[e]=Ko[e];for(e of Zh)this[e]=Ko[e];for(e of Qh)this[e]=new Zx(e,Ko[e],void 0,this)}setupFromTrue(){let e;for(e of Xh)this[e]=Ko[e];for(e of Jh)this[e]=Ko[e];for(e of Zh)this[e]=!0;for(e of Qh)this[e]=new Zx(e,!0,void 0,this)}setupFromArray(e){let n;for(n of Xh)this[n]=Ko[n];for(n of Jh)this[n]=Ko[n];for(n of Zh)this[n]=Ko[n];for(n of Qh)this[n]=new Zx(n,!1,void 0,this);this.setupGlobalFilters(e,void 0,Vi)}setupFromObject(e){let n;for(n of(Vi.ifd0=Vi.ifd0||Vi.image,Vi.ifd1=Vi.ifd1||Vi.thumbnail,Object.assign(this,e),Xh))this[n]=a6(e[n],Ko[n]);for(n of Jh)this[n]=a6(e[n],Ko[n]);for(n of Zh)this[n]=a6(e[n],Ko[n]);for(n of yg)this[n]=new Zx(n,Ko[n],e[n],this);for(n of Vi)this[n]=new Zx(n,Ko[n],e[n],this.tiff);this.setupGlobalFilters(e.pick,e.skip,Vi,Qh),e.tiff===!0?this.batchEnableWithBool(Vi,!0):e.tiff===!1?this.batchEnableWithUserValue(Vi,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,Vi):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,Vi)}batchEnableWithBool(e,n){for(let a of e)this[a].enabled=n}batchEnableWithUserValue(e,n){for(let a of e){let i=n[a];this[a].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(e,n,a,i=a){if(e&&e.length){for(let o of i)this[o].enabled=!1;let r=ZF(e,a);for(let[o,s]of r)X4(this[o].pick,s),this[o].enabled=!0}else if(n&&n.length){let r=ZF(n,a);for(let[o,s]of r)X4(this[o].skip,s)}}filterNestedSegmentTags(){let{ifd0:e,exif:n,xmp:a,iptc:i,icc:r}=this;this.makerNote?n.deps.add(37500):n.skip.add(37500),this.userComment?n.deps.add(37510):n.skip.add(37510),a.enabled||e.skip.add(700),i.enabled||e.skip.add(33723),r.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:n,gps:a,interop:i}=this;i.needed&&(n.deps.add(40965),e.deps.add(40965)),n.needed&&e.deps.add(34665),a.needed&&e.deps.add(34853),this.tiff.enabled=Vi.some((r=>this[r].enabled===!0))||this.makerNote||this.userComment;for(let r of Vi)this[r].finalizeFilters()}get onlyTiff(){return!Lb.map((e=>this[e].enabled)).some((e=>e===!0))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of yg)this[e].enabled&&!xr.has(e)&&X7("segment parser",e)}}function ZF(t,e){let n,a,i,r,o=[];for(i of e){for(r of(n=Yr.get(i),a=[],n))(t.includes(r[0])||t.includes(r[1]))&&a.push(r[0]);a.length&&o.push([i,a])}return o}function a6(t,e){return t!==void 0?t:e!==void 0?e:void 0}function X4(t,e){for(let n of e)t.add(n)}xn(Pg,"default",Ko);class Rp{constructor(e){xn(this,"parsers",{}),xn(this,"output",{}),xn(this,"errors",[]),xn(this,"pushToErrors",(n=>this.errors.push(n))),this.options=Pg.useCached(e)}async read(e){this.file=await VUe(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,n=e.getUint16(0);for(let[a,i]of rd)if(i.canHandle(e,n))return this.fileParser=new i(this.options,this.file,this.parsers),e[a]=!0;this.file.close&&this.file.close(),vr("Unknown file format")}async parse(){let{output:e,errors:n}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),n.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&n.length>0&&(e.errors=n),K4(e)}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let n=Object.values(this.parsers).map((async a=>{let i=await a.parse();a.assignToOutput(e,i)}));this.options.silentErrors&&(n=n.map((a=>a.catch(this.pushToErrors)))),await Promise.all(n)}async extractThumbnail(){this.setup();let{options:e,file:n}=this,a=xr.get("tiff",e);var i;if(n.tiff?i={start:0,type:"tiff"}:n.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let r=await this.fileParser.ensureSegmentChunk(i),o=this.parsers.tiff=new a(r,e,n),s=await o.extractThumbnail();return n.close&&n.close(),s}}async function x5(t,e){let n=new Rp(e);return await n.read(t),n.parse()}var KUe=Object.freeze({__proto__:null,parse:x5,Exifr:Rp,fileParsers:rd,segmentParsers:xr,fileReaders:dd,tagKeys:Yr,tagValues:nu,tagRevivers:op,createDictionary:or,extendDictionary:bg,fetchUrlAsArrayBuffer:mg,readBlobAsArrayBuffer:gg,chunkedProps:Xh,otherSegments:Lb,segments:yg,tiffBlocks:Vi,segmentsAndBlocks:Qh,tiffExtractables:Zh,inheritables:zb,allFormatters:Jh,Options:Pg});class v5{constructor(e,n,a){xn(this,"errors",[]),xn(this,"ensureSegmentChunk",(async i=>{let r=i.start,o=i.size||65536;if(this.file.chunked)if(this.file.available(r,o))i.chunk=this.file.subarray(r,o);else try{i.chunk=await this.file.readChunk(r,o)}catch(s){vr(`Couldn't read segment: ${JSON.stringify(i)}. ${s.message}`)}else this.file.byteLength>r+o?i.chunk=this.file.subarray(r,o):i.size===void 0?i.chunk=this.file.subarray(r):vr("Segment unreachable: "+JSON.stringify(i));return i.chunk})),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=n,this.parsers=a}injectSegment(e,n){this.options[e].enabled&&this.createParser(e,n)}createParser(e,n){let a=new(xr.get(e))(n,this.options,this.file);return this.parsers[e]=a}createParsers(e){for(let n of e){let{type:a,chunk:i}=n,r=this.options[a];if(r&&r.enabled){let o=this.parsers[a];o&&o.append||o||this.createParser(a,i)}}}async readSegments(e){let n=e.map(this.ensureSegmentChunk);await Promise.all(n)}}let Fc=class{static findPosition(e,n){let a=e.getUint16(n+2)+2,i=typeof this.headerLength=="function"?this.headerLength(e,n,a):this.headerLength,r=n+i,o=a-i;return{offset:n,length:a,headerLength:i,start:r,size:o,end:r+o}}static parse(e,n={}){return new this(e,new Pg({[this.type]:n}),e).parse()}normalizeInput(e){return e instanceof Ts?e:new Ts(e)}constructor(e,n={},a){xn(this,"errors",[]),xn(this,"raw",new Map),xn(this,"handleError",(i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)})),this.chunk=this.normalizeInput(e),this.file=a,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,n){let a=op.get(n),i=nu.get(n),r=Yr.get(n),o=this.options[n],s=o.reviveValues&&!!a,c=o.translateValues&&!!i,u=o.translateKeys&&!!r,d={};for(let[h,m]of e)s&&a.has(h)?m=a.get(h)(m):c&&i.has(h)&&(m=this.translateValue(m,i.get(h))),u&&r.has(h)&&(h=r.get(h)||h),d[h]=m;return d}translateValue(e,n){return n[e]||n.DEFAULT||e}assignToOutput(e,n){this.assignObjectToOutput(e,this.constructor.type,n)}assignObjectToOutput(e,n,a){if(this.globalOptions.mergeOutput)return Object.assign(e,a);e[n]?Object.assign(e[n],a):e[n]=a}};xn(Fc,"headerLength",4),xn(Fc,"type",void 0),xn(Fc,"multiSegment",!1),xn(Fc,"canHandle",(()=>!1));function XUe(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function QUe(t){return t>=224&&t<=239}function ZUe(t,e,n){for(let[a,i]of xr)if(i.canHandle(t,e,n))return a}class JF extends v5{constructor(...e){super(...e),xn(this,"appSegments",[]),xn(this,"jpegSegments",[]),xn(this,"unknownSegments",[])}static canHandle(e,n){return n===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(xr.keyList())):(e=e===void 0?xr.keyList().filter((n=>this.options[n].enabled)):e.filter((n=>this.options[n].enabled&&xr.has(n))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,n){this.setupSegmentFinderArgs(n);let{file:a,findAll:i,wanted:r,remaining:o}=this;if(!i&&this.file.chunked&&(i=Array.from(r).some((s=>{let c=xr.get(s),u=this.options[s];return c.multiSegment&&u.multiSegment})),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,a.byteLength),!this.options.onlyTiff&&a.chunked){let s=!1;for(;o.size>0&&!s&&(a.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:c}=a,u=this.appSegments.some((d=>!this.file.available(d.offset||d.start,d.length||d.size)));if(s=e>c&&!u?!await a.readNextChunk(e):!await a.readNextChunk(c),(e=this.findAppSegmentsInRange(e,a.byteLength))===void 0)return}}}findAppSegmentsInRange(e,n){n-=2;let a,i,r,o,s,c,{file:u,findAll:d,wanted:h,remaining:m,options:g}=this;for(;e<n;e++)if(u.getUint8(e)===255){if(a=u.getUint8(e+1),QUe(a)){if(i=u.getUint16(e+2),r=ZUe(u,e,i),r&&h.has(r)&&(o=xr.get(r),s=o.findPosition(u,e),c=g[r],s.type=r,this.appSegments.push(s),!d&&(o.multiSegment&&c.multiSegment?(this.unfinishedMultiSegment=s.chunkNumber<s.chunkCount,this.unfinishedMultiSegment||m.delete(r)):m.delete(r),m.size===0)))break;g.recordUnknownSegments&&(s=Fc.findPosition(u,e),s.marker=a,this.unknownSegments.push(s)),e+=i+1}else if(XUe(a)){if(i=u.getUint16(e+2),a===218&&g.stopAfterSos!==!1)return;g.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:a}),e+=i+1}}return e}mergeMultiSegments(){if(!this.appSegments.some((n=>n.multiSegment)))return;let e=(function(n,a){let i,r,o,s=new Map;for(let c=0;c<n.length;c++)i=n[c],r=i[a],s.has(r)?o=s.get(r):s.set(r,o=[]),o.push(i);return Array.from(s)})(this.appSegments,"type");this.mergedAppSegments=e.map((([n,a])=>{let i=xr.get(n,this.options);return i.handleMultiSegments?{type:n,chunk:i.handleMultiSegments(a)}:a[0]}))}getSegment(e){return this.appSegments.find((n=>n.type===e))}async getOrFindSegment(e){let n=this.getSegment(e);return n===void 0&&(await this.findAppSegments(0,[e]),n=this.getSegment(e)),n}}xn(JF,"type","jpeg"),rd.set("jpeg",JF);const JUe=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class eGe extends Fc{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,n,a=new Map){let{pick:i,skip:r}=this.options[n];i=new Set(i);let o=i.size>0,s=r.size===0,c=this.chunk.getUint16(e);e+=2;for(let u=0;u<c;u++){let d=this.chunk.getUint16(e);if(o){if(i.has(d)&&(a.set(d,this.parseTag(e,d,n)),i.delete(d),i.size===0))break}else!s&&r.has(d)||a.set(d,this.parseTag(e,d,n));e+=12}return a}parseTag(e,n,a){let{chunk:i}=this,r=i.getUint16(e+2),o=i.getUint32(e+4),s=JUe[r];if(s*o<=4?e+=8:e=i.getUint32(e+8),(r<1||r>13)&&vr(`Invalid TIFF value type. block: ${a.toUpperCase()}, tag: ${n.toString(16)}, type: ${r}, offset ${e}`),e>i.byteLength&&vr(`Invalid TIFF value offset. block: ${a.toUpperCase()}, tag: ${n.toString(16)}, type: ${r}, offset ${e} is outside of chunk size ${i.byteLength}`),r===1)return i.getUint8Array(e,o);if(r===2)return $m(i.getString(e,o));if(r===7)return i.getUint8Array(e,o);if(o===1)return this.parseTagValue(r,e);{let c=new((function(d){switch(d){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}})(r))(o),u=s;for(let d=0;d<o;d++)c[d]=this.parseTagValue(r,e),e+=u;return c}}parseTagValue(e,n){let{chunk:a}=this;switch(e){case 1:return a.getUint8(n);case 3:return a.getUint16(n);case 4:return a.getUint32(n);case 5:return a.getUint32(n)/a.getUint32(n+4);case 6:return a.getInt8(n);case 8:return a.getInt16(n);case 9:return a.getInt32(n);case 10:return a.getInt32(n)/a.getInt32(n+4);case 11:return a.getFloat(n);case 12:return a.getDouble(n);case 13:return a.getUint32(n);default:vr(`Invalid tiff type ${e}`)}}}class i6 extends eGe{static canHandle(e,n){return e.getUint8(n+1)===225&&e.getUint32(n+4)===1165519206&&e.getUint16(n+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let n=this[e]();return n.catch!==void 0&&(n=n.catch(this.handleError)),n}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),n=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(n)}}parseBlock(e,n){let a=new Map;return this[n]=a,this.parseTags(e,n,a),a}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&vr("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&vr(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,Y7(this.options));let n=this.parseBlock(this.ifd0Offset,"ifd0");return n.size!==0?(this.exifOffset=n.get(34665),this.interopOffset=n.get(40965),this.gpsOffset=n.get(34853),this.xmp=n.get(700),this.iptc=n.get(33723),this.icc=n.get(34675),this.options.sanitize&&(n.delete(34665),n.delete(40965),n.delete(34853),n.delete(700),n.delete(33723),n.delete(34675)),n):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,Y7(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,n){let a=e.get(n);a&&a.length===1&&e.set(n,a[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",eB(...e.get(2),e.get(1))),e.set("longitude",eB(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),n=this.ifd1.get(514);return this.chunk.getUint8Array(e,n)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,n,a,i={};for(n of Vi)if(e=this[n],!EJ(e))if(a=this.canTranslate?this.translateBlock(e,n):Object.fromEntries(e),this.options.mergeOutput){if(n==="ifd1")continue;Object.assign(i,a)}else i[n]=a;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,n){if(this.globalOptions.mergeOutput)Object.assign(e,n);else for(let[a,i]of Object.entries(n))this.assignObjectToOutput(e,a,i)}}function eB(t,e,n,a){var i=t+e/60+n/3600;return a!=="S"&&a!=="W"||(i*=-1),i}xn(i6,"type","tiff"),xn(i6,"headerLength",10),xr.set("tiff",i6);var tGe=Object.freeze({__proto__:null,default:KUe,Exifr:Rp,fileParsers:rd,segmentParsers:xr,fileReaders:dd,tagKeys:Yr,tagValues:nu,tagRevivers:op,createDictionary:or,extendDictionary:bg,fetchUrlAsArrayBuffer:mg,readBlobAsArrayBuffer:gg,chunkedProps:Xh,otherSegments:Lb,segments:yg,tiffBlocks:Vi,segmentsAndBlocks:Qh,tiffExtractables:Zh,inheritables:zb,allFormatters:Jh,Options:Pg,parse:x5});const _D={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},TD=Object.assign({},_D,{firstChunkSize:4e4,gps:[1,2,3,4]});async function kJ(t){let e=new Rp(TD);await e.read(t);let n=await e.parse();if(n&&n.gps){let{latitude:a,longitude:i}=n.gps;return{latitude:a,longitude:i}}}const ED=Object.assign({},_D,{tiff:!1,ifd1:!0,mergeOutput:!1});async function IJ(t){let e=new Rp(ED);await e.read(t);let n=await e.extractThumbnail();return n&&y5?b5.from(n):n}async function NJ(t){let e=await this.thumbnail(t);if(e!==void 0){let n=new Blob([e]);return URL.createObjectURL(n)}}const AD=Object.assign({},_D,{firstChunkSize:4e4,ifd0:[274]});async function RD(t){let e=new Rp(AD);await e.read(t);let n=await e.parse();if(n&&n.ifd0)return n.ifd0[274]}const kD=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let Um=!0,Gm=!0;if(typeof navigator=="object"){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let e=t.match(/OS (\d+)_(\d+)/);if(e){let[,n,a]=e;Um=Number(n)+.1*Number(a)<13.4,Gm=!1}}else if(t.includes("OS X 10")){let[,e]=t.match(/OS X 10[_.](\d+)/);Um=Gm=Number(e)<15}if(t.includes("Chrome/")){let[,e]=t.match(/Chrome\/(\d+)/);Um=Gm=Number(e)<81}else if(t.includes("Firefox/")){let[,e]=t.match(/Firefox\/(\d+)/);Um=Gm=Number(e)<77}}async function jJ(t){let e=await RD(t);return Object.assign({canvas:Um,css:Gm},kD[e])}class nGe extends Ts{constructor(...e){super(...e),xn(this,"ranges",new aGe),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,n,a){if(e===0&&this.byteLength===0&&a){let i=new DataView(a.buffer||a,a.byteOffset,a.byteLength);this._swapDataView(i)}else{let i=e+n;if(i>this.byteLength){let{dataView:r}=this._extend(i);this._swapDataView(r)}}}_extend(e){let n;n=y5?b5.allocUnsafe(e):new Uint8Array(e);let a=new DataView(n.buffer,n.byteOffset,n.byteLength);return n.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:n,dataView:a}}subarray(e,n,a=!1){return n=n||this._lengthToEnd(e),a&&this._tryExtend(e,n),this.ranges.add(e,n),super.subarray(e,n)}set(e,n,a=!1){a&&this._tryExtend(n,e.byteLength,e);let i=super.set(e,n);return this.ranges.add(n,i.byteLength),i}async ensureChunk(e,n){this.chunked&&(this.ranges.available(e,n)||await this.readChunk(e,n))}available(e,n){return this.ranges.available(e,n)}}class aGe{constructor(){xn(this,"list",[])}get length(){return this.list.length}add(e,n,a=0){let i=e+n,r=this.list.filter((o=>tB(e,o.offset,i)||tB(e,o.end,i)));if(r.length>0){e=Math.min(e,...r.map((s=>s.offset))),i=Math.max(i,...r.map((s=>s.end))),n=i-e;let o=r.shift();o.offset=e,o.length=n,o.end=i,this.list=this.list.filter((s=>!r.includes(s)))}else this.list.push({offset:e,length:n,end:i})}available(e,n){let a=e+n;return this.list.some((i=>i.offset<=e&&a<=i.end))}}function tB(t,e,n){return t<=e&&e<=n}class S5 extends nGe{constructor(e,n){super(0),xn(this,"chunksRead",0),this.input=e,this.options=n}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let n=this.options.chunkSize,a=await this.readChunk(e,n);return!!a&&a.byteLength===n}async readChunk(e,n){if(this.chunksRead++,(n=this.safeWrapAddress(e,n))!==0)return this._readChunk(e,n)}safeWrapAddress(e,n){return this.size!==void 0&&e+n>this.size?Math.max(0,this.size-e):n}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}dd.set("blob",class extends S5{async readWhole(){this.chunked=!1;let t=await gg(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,e){let n=e?t+e:void 0,a=this.input.slice(t,n),i=await gg(a);return this.set(i,t,!0)}});var iGe=Object.freeze({__proto__:null,default:tGe,Exifr:Rp,fileParsers:rd,segmentParsers:xr,fileReaders:dd,tagKeys:Yr,tagValues:nu,tagRevivers:op,createDictionary:or,extendDictionary:bg,fetchUrlAsArrayBuffer:mg,readBlobAsArrayBuffer:gg,chunkedProps:Xh,otherSegments:Lb,segments:yg,tiffBlocks:Vi,segmentsAndBlocks:Qh,tiffExtractables:Zh,inheritables:zb,allFormatters:Jh,Options:Pg,parse:x5,gpsOnlyOptions:TD,gps:kJ,thumbnailOnlyOptions:ED,thumbnail:IJ,thumbnailUrl:NJ,orientationOnlyOptions:AD,orientation:RD,rotations:kD,get rotateCanvas(){return Um},get rotateCss(){return Gm},rotation:jJ});dd.set("url",class extends S5{async readWhole(){this.chunked=!1;let t=await mg(this.input);t instanceof ArrayBuffer?this._swapArrayBuffer(t):t instanceof Uint8Array&&this._swapBuffer(t)}async _readChunk(t,e){let n=e?t+e-1:void 0,a=this.options.httpHeaders||{};(t||n)&&(a.range=`bytes=${[t,n].join("-")}`);let i=await CD(this.input,{headers:a}),r=await i.arrayBuffer(),o=r.byteLength;if(i.status!==416)return o!==e&&(this.size=t+o),this.set(r,t,!0)}});Ts.prototype.getUint64=function(t){let e=this.getUint32(t),n=this.getUint32(t+4);return e<1048575?e<<32|n:typeof bw!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),bw(e)<<bw(32)|bw(n)):void vr("Trying to read 64b value but JS can only handle 53b numbers.")};class rGe extends v5{parseBoxes(e=0){let n=[];for(;e<this.file.byteLength-4;){let a=this.parseBoxHead(e);if(n.push(a),a.length===0)break;e+=a.length}return n}parseSubBoxes(e){e.boxes=this.parseBoxes(e.start)}findBox(e,n){return e.boxes===void 0&&this.parseSubBoxes(e),e.boxes.find((a=>a.kind===n))}parseBoxHead(e){let n=this.file.getUint32(e),a=this.file.getString(e+4,4),i=e+8;return n===1&&(n=this.file.getUint64(e+8),i+=8),{offset:e,length:n,kind:a,start:i}}parseBoxFullHead(e){if(e.version!==void 0)return;let n=this.file.getUint32(e.start);e.version=n>>24,e.start+=4}}class DJ extends rGe{static canHandle(e,n){if(n!==0)return!1;let a=e.getUint16(2);if(a>50)return!1;let i=16,r=[];for(;i<a;)r.push(e.getString(i,4)),i+=4;return r.includes(this.type)}async parse(){let e=this.file.getUint32(0),n=this.parseBoxHead(e);for(;n.kind!=="meta";)e+=n.length,await this.file.ensureChunk(e,16),n=this.parseBoxHead(e);await this.file.ensureChunk(n.offset,n.length),this.parseBoxFullHead(n),this.parseSubBoxes(n),this.options.icc.enabled&&await this.findIcc(n),this.options.tiff.enabled&&await this.findExif(n)}async registerSegment(e,n,a){await this.file.ensureChunk(n,a);let i=this.file.subarray(n,a);this.createParser(e,i)}async findIcc(e){let n=this.findBox(e,"iprp");if(n===void 0)return;let a=this.findBox(n,"ipco");if(a===void 0)return;let i=this.findBox(a,"colr");i!==void 0&&await this.registerSegment("icc",i.offset+12,i.length)}async findExif(e){let n=this.findBox(e,"iinf");if(n===void 0)return;let a=this.findBox(e,"iloc");if(a===void 0)return;let i=this.findExifLocIdInIinf(n),r=this.findExtentInIloc(a,i);if(r===void 0)return;let[o,s]=r;await this.file.ensureChunk(o,s);let c=4+this.file.getUint32(o);o+=c,s-=c,await this.registerSegment("tiff",o,s)}findExifLocIdInIinf(e){this.parseBoxFullHead(e);let n,a,i,r,o=e.start,s=this.file.getUint16(o);for(o+=2;s--;){if(n=this.parseBoxHead(o),this.parseBoxFullHead(n),a=n.start,n.version>=2&&(i=n.version===3?4:2,r=this.file.getString(a+i+2,4),r==="Exif"))return this.file.getUintBytes(a,i);o+=n.length}}get8bits(e){let n=this.file.getUint8(e);return[n>>4,15&n]}findExtentInIloc(e,n){this.parseBoxFullHead(e);let a=e.start,[i,r]=this.get8bits(a++),[o,s]=this.get8bits(a++),c=e.version===2?4:2,u=e.version===1||e.version===2?2:0,d=s+i+r,h=e.version===2?4:2,m=this.file.getUintBytes(a,h);for(a+=h;m--;){let g=this.file.getUintBytes(a,c);a+=c+u+2+o;let y=this.file.getUint16(a);if(a+=2,g===n)return y>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(a+s,i),this.file.getUintBytes(a+s+i,r)];a+=y*d}}}class OJ extends DJ{}xn(OJ,"type","heic");class nB extends DJ{}xn(nB,"type","avif"),rd.set("heic",OJ),rd.set("avif",nB),or(Yr,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),or(Yr,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),or(Yr,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),or(nu,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);let Kv=or(nu,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]);const aB={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};Kv.set(37392,aB),Kv.set(41488,aB);const r6={0:"Normal",1:"Low",2:"High"};function iB(t){return typeof t=="object"&&t.length!==void 0?t[0]:t}function rB(t){let e=Array.from(t).slice(1);return e[1]>15&&(e=e.map((n=>String.fromCharCode(n)))),e[2]!=="0"&&e[2]!==0||e.pop(),e.join(".")}function o6(t){if(typeof t=="string"){var[e,n,a,i,r,o]=t.trim().split(/[-: ]/g).map(Number),s=new Date(e,n-1,a);return Number.isNaN(i)||Number.isNaN(r)||Number.isNaN(o)||(s.setHours(i),s.setMinutes(r),s.setSeconds(o)),Number.isNaN(+s)?t:s}}function Jx(t){if(typeof t=="string")return t;let e=[];if(t[1]===0&&t[t.length-1]===0)for(let n=0;n<t.length;n+=2)e.push(oB(t[n+1],t[n]));else for(let n=0;n<t.length;n+=2)e.push(oB(t[n],t[n+1]));return $m(String.fromCodePoint(...e))}function oB(t,e){return t<<8|e}Kv.set(41992,r6),Kv.set(41993,r6),Kv.set(41994,r6),or(op,["ifd0","ifd1"],[[50827,function(t){return typeof t!="string"?AJ(t):t}],[306,o6],[40091,Jx],[40092,Jx],[40093,Jx],[40094,Jx],[40095,Jx]]),or(op,"exif",[[40960,rB],[36864,rB],[36867,o6],[36868,o6],[40962,iB],[40963,iB]]),or(op,"gps",[[0,t=>Array.from(t).join(".")],[7,t=>Array.from(t).join(":")]]);class s6 extends Fc{static canHandle(e,n){return e.getUint8(n+1)===225&&e.getUint32(n+4)===1752462448&&e.getString(n+4,20)==="http://ns.adobe.com/"}static headerLength(e,n){return e.getString(n+4,34)==="http://ns.adobe.com/xmp/extension/"?79:33}static findPosition(e,n){let a=super.findPosition(e,n);return a.multiSegment=a.extended=a.headerLength===79,a.multiSegment?(a.chunkCount=e.getUint8(n+72),a.chunkNumber=e.getUint8(n+76),e.getUint8(n+77)!==0&&a.chunkNumber++):(a.chunkCount=1/0,a.chunkNumber=-1),a}static handleMultiSegments(e){return e.map((n=>n.chunk.getString())).join("")}normalizeInput(e){return typeof e=="string"?e:Ts.from(e).getString()}parse(e=this.chunk){if(!this.localOptions.parse)return e;e=(function(r){let o={},s={};for(let c of zJ)o[c]=[],s[c]=0;return r.replace(cGe,((c,u,d)=>{if(u==="<"){let h=++s[d];return o[d].push(h),`${c}#${h}`}return`${c}#${o[d].pop()}`}))})(e);let n=W1.findAll(e,"rdf","Description");n.length===0&&n.push(new W1("rdf","Description",void 0,e));let a,i={};for(let r of n)for(let o of r.properties)a=lGe(o.ns,i),MJ(o,a);return(function(r){let o;for(let s in r)o=r[s]=K4(r[s]),o===void 0&&delete r[s];return K4(r)})(i)}assignToOutput(e,n){if(this.localOptions.parse)for(let[a,i]of Object.entries(n))switch(a){case"tiff":this.assignObjectToOutput(e,"ifd0",i);break;case"exif":this.assignObjectToOutput(e,"exif",i);break;case"xmlns":break;default:this.assignObjectToOutput(e,a,i)}else e.xmp=n}}xn(s6,"type","xmp"),xn(s6,"multiSegment",!0),xr.set("xmp",s6);class Q4{static findAll(e){return PJ(e,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(Q4.unpackMatch)}static unpackMatch(e){let n=e[1],a=e[2],i=e[3].slice(1,-1);return i=LJ(i),new Q4(n,a,i)}constructor(e,n,a){this.ns=e,this.name=n,this.value=a}serialize(){return this.value}}class W1{static findAll(e,n,a){if(n!==void 0||a!==void 0){n=n||"[\\w\\d-]+",a=a||"[\\w\\d-]+";var i=new RegExp(`<(${n}):(${a})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else i=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return PJ(e,i).map(W1.unpackMatch)}static unpackMatch(e){let n=e[1],a=e[2],i=e[4],r=e[8];return new W1(n,a,i,r)}constructor(e,n,a,i){this.ns=e,this.name=n,this.attrString=a,this.innerXml=i,this.attrs=Q4.findAll(a),this.children=W1.findAll(i),this.value=this.children.length===0?LJ(i):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:e,name:n}=this;return e==="rdf"&&(n==="Seq"||n==="Bag"||n==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return sGe(this.children.map(oGe));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let e={};for(let n of this.properties)MJ(n,e);return this.value!==void 0&&(e.value=this.value),K4(e)}}function MJ(t,e){let n=t.serialize();n!==void 0&&(e[t.name]=n)}var oGe=t=>t.serialize(),sGe=t=>t.length===1?t[0]:t,lGe=(t,e)=>e[t]?e[t]:e[t]={};function PJ(t,e){let n,a=[];if(!t)return a;for(;(n=e.exec(t))!==null;)a.push(n);return a}function LJ(t){if((function(a){return a==null||a==="null"||a==="undefined"||a===""||a.trim()===""})(t))return;let e=Number(t);if(!Number.isNaN(e))return e;let n=t.toLowerCase();return n==="true"||n!=="false"&&t.trim()}const zJ=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],cGe=new RegExp(`(<|\\/)(${zJ.join("|")})`,"g");var uGe=Object.freeze({__proto__:null,default:iGe,Exifr:Rp,fileParsers:rd,segmentParsers:xr,fileReaders:dd,tagKeys:Yr,tagValues:nu,tagRevivers:op,createDictionary:or,extendDictionary:bg,fetchUrlAsArrayBuffer:mg,readBlobAsArrayBuffer:gg,chunkedProps:Xh,otherSegments:Lb,segments:yg,tiffBlocks:Vi,segmentsAndBlocks:Qh,tiffExtractables:Zh,inheritables:zb,allFormatters:Jh,Options:Pg,parse:x5,gpsOnlyOptions:TD,gps:kJ,thumbnailOnlyOptions:ED,thumbnail:IJ,thumbnailUrl:NJ,orientationOnlyOptions:AD,orientation:RD,rotations:kD,get rotateCanvas(){return Um},get rotateCss(){return Gm},rotation:jJ});let sB=Y4("fs",(t=>t.promises));dd.set("fs",class extends S5{async readWhole(){this.chunked=!1,this.fs=await sB;let t=await this.fs.readFile(this.input);this._swapBuffer(t)}async readChunked(){this.chunked=!0,this.fs=await sB,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){this.fh===void 0&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(t,e){this.fh===void 0&&await this.open(),t+e>this.size&&(e=this.size-t);var n=this.subarray(t,e,!0);return await this.fh.read(n.dataView,0,e,t),n}async close(){if(this.fh){let t=this.fh;this.fh=void 0,await t.close()}}});dd.set("base64",class extends S5{constructor(...t){super(...t),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(t,e){let n,a,i=this.input;t===void 0?(t=0,n=0,a=0):(n=4*Math.floor(t/3),a=t-n/4*3),e===void 0&&(e=this.size);let r=t+e,o=n+4*Math.ceil(r/3);i=i.slice(n,o);let s=Math.min(e,this.size-t);if(y5){let c=b5.from(i,"base64").slice(a,a+s);return this.set(c,t,!0)}{let c=this.subarray(t,s,!0),u=atob(i),d=c.toUint8();for(let h=0;h<s;h++)d[h]=u.charCodeAt(a+h);return c}}});class lB extends v5{static canHandle(e,n){return n===18761||n===19789}extendOptions(e){let{ifd0:n,xmp:a,iptc:i,icc:r}=e;a.enabled&&n.deps.add(700),i.enabled&&n.deps.add(33723),r.enabled&&n.deps.add(34675),n.finalizeFilters()}async parse(){let{tiff:e,xmp:n,iptc:a,icc:i}=this.options;if(e.enabled||n.enabled||a.enabled||i.enabled){let r=Math.max(Y7(this.options),this.options.chunkSize);await this.file.ensureChunk(0,r),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(e){if(this.parsers.tiff[e]){let n=this.parsers.tiff[e];this.injectSegment(e,n)}}}xn(lB,"type","tiff"),rd.set("tiff",lB);let dGe=Y4("zlib");const fGe=["ihdr","iccp","text","itxt","exif"];class cB extends v5{constructor(...e){super(...e),xn(this,"catchError",(n=>this.errors.push(n))),xn(this,"metaChunks",[]),xn(this,"unknownChunks",[])}static canHandle(e,n){return n===35152&&e.getUint32(0)===2303741511&&e.getUint32(4)===218765834}async parse(){let{file:e}=this;await this.findPngChunksInRange(8,e.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(e,n){let{file:a}=this;for(;e<n;){let i=a.getUint32(e),r=a.getUint32(e+4),o=a.getString(e+4,4).toLowerCase(),s=i+4+4+4,c={type:o,offset:e,length:s,start:e+4+4,size:i,marker:r};fGe.includes(o)?this.metaChunks.push(c):this.unknownChunks.push(c),e+=s}}parseTextChunks(){let e=this.metaChunks.filter((n=>n.type==="text"));for(let n of e){let[a,i]=this.file.getString(n.start,n.size).split("\0");this.injectKeyValToIhdr(a,i)}}injectKeyValToIhdr(e,n){let a=this.parsers.ihdr;a&&a.raw.set(e,n)}findIhdr(){let e=this.metaChunks.find((n=>n.type==="ihdr"));e&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",e.chunk)}async findExif(){let e=this.metaChunks.find((n=>n.type==="exif"));e&&this.injectSegment("tiff",e.chunk)}async findXmp(){let e=this.metaChunks.filter((n=>n.type==="itxt"));for(let n of e)n.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",n.chunk)}async findIcc(){let e=this.metaChunks.find((s=>s.type==="iccp"));if(!e)return;let{chunk:n}=e,a=n.getUint8Array(0,81),i=0;for(;i<80&&a[i]!==0;)i++;let r=i+2,o=n.getString(0,i);if(this.injectKeyValToIhdr("ProfileName",o),V4){let s=await dGe,c=n.getUint8Array(r);c=s.inflateSync(c),this.injectSegment("icc",c)}}}xn(cB,"type","png"),rd.set("png",cB),or(Yr,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),bg(Yr,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);let uB=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];bg(Yr,"ifd0",uB),bg(Yr,"exif",uB),or(nu,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class l6 extends Fc{static canHandle(e,n){return e.getUint8(n+1)===224&&e.getUint32(n+4)===1246120262&&e.getUint8(n+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}xn(l6,"type","jfif"),xn(l6,"headerLength",9),xr.set("jfif",l6),or(Yr,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class dB extends Fc{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}xn(dB,"type","ihdr"),xr.set("ihdr",dB),or(Yr,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),or(nu,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class r4 extends Fc{static canHandle(e,n){return e.getUint8(n+1)===226&&e.getUint32(n+4)===1229144927}static findPosition(e,n){let a=super.findPosition(e,n);return a.chunkNumber=e.getUint8(n+16),a.chunkCount=e.getUint8(n+17),a.multiSegment=a.chunkCount>1,a}static handleMultiSegments(e){return(function(n){let a=(function(i){let r=i[0].constructor,o=0;for(let u of i)o+=u.length;let s=new r(o),c=0;for(let u of i)s.set(u,c),c+=u.length;return s})(n.map((i=>i.chunk.toUint8())));return new Ts(a)})(e)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:e}=this;this.chunk.byteLength<84&&vr("ICC header is too short");for(let[n,a]of Object.entries(hGe)){n=parseInt(n,10);let i=a(this.chunk,n);i!=="\0\0\0\0"&&e.set(n,i)}}parseTags(){let e,n,a,i,r,{raw:o}=this,s=this.chunk.getUint32(128),c=132,u=this.chunk.byteLength;for(;s--;){if(e=this.chunk.getString(c,4),n=this.chunk.getUint32(c+4),a=this.chunk.getUint32(c+8),i=this.chunk.getString(n,4),n+a>u)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");r=this.parseTag(i,n,a),r!==void 0&&r!=="\0\0\0\0"&&o.set(e,r),c+=12}}parseTag(e,n,a){switch(e){case"desc":return this.parseDesc(n);case"mluc":return this.parseMluc(n);case"text":return this.parseText(n,a);case"sig ":return this.parseSig(n)}if(!(n+a>this.chunk.byteLength))return this.chunk.getUint8Array(n,a)}parseDesc(e){let n=this.chunk.getUint32(e+8)-1;return $m(this.chunk.getString(e+12,n))}parseText(e,n){return $m(this.chunk.getString(e+8,n-8))}parseSig(e){return $m(this.chunk.getString(e+8,4))}parseMluc(e){let{chunk:n}=this,a=n.getUint32(e+8),i=n.getUint32(e+12),r=e+16,o=[];for(let s=0;s<a;s++){let c=n.getString(r+0,2),u=n.getString(r+2,2),d=n.getUint32(r+4),h=n.getUint32(r+8)+e,m=$m(n.getUnicodeString(h,d));o.push({lang:c,country:u,text:m}),r+=i}return a===1?o[0].text:o}translateValue(e,n){return typeof e=="string"?n[e]||n[e.toLowerCase()]||e:n[e]||e}}xn(r4,"type","icc"),xn(r4,"multiSegment",!0),xn(r4,"headerLength",18);const hGe={4:ef,8:function(t,e){return[t.getUint8(e),t.getUint8(e+1)>>4,t.getUint8(e+1)%16].map((n=>n.toString(10))).join(".")},12:ef,16:ef,20:ef,24:function(t,e){const n=t.getUint16(e),a=t.getUint16(e+2)-1,i=t.getUint16(e+4),r=t.getUint16(e+6),o=t.getUint16(e+8),s=t.getUint16(e+10);return new Date(Date.UTC(n,a,i,r,o,s))},36:ef,40:ef,48:ef,52:ef,64:(t,e)=>t.getUint32(e),80:ef};function ef(t,e){return $m(t.getString(e,4))}xr.set("icc",r4),or(Yr,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);const yw={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},fB={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};or(nu,"icc",[[4,yw],[12,fB],[40,Object.assign({},yw,fB)],[48,yw],[80,yw],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class xw extends Fc{static canHandle(e,n,a){return e.getUint8(n+1)===237&&e.getString(n+4,9)==="Photoshop"&&this.containsIptc8bim(e,n,a)!==void 0}static headerLength(e,n,a){let i,r=this.containsIptc8bim(e,n,a);if(r!==void 0)return i=e.getUint8(n+r+7),i%2!=0&&(i+=1),i===0&&(i=4),r+8+i}static containsIptc8bim(e,n,a){for(let i=0;i<a;i++)if(this.isIptcSegmentHead(e,n+i))return i}static isIptcSegmentHead(e,n){return e.getUint8(n)===56&&e.getUint32(n)===943868237&&e.getUint16(n+4)===1028}parse(){let{raw:e}=this,n=this.chunk.byteLength-1,a=!1;for(let i=0;i<n;i++)if(this.chunk.getUint8(i)===28&&this.chunk.getUint8(i+1)===2){a=!0;let r=this.chunk.getUint16(i+3),o=this.chunk.getUint8(i+2),s=this.chunk.getLatin1String(i+5,r);e.set(o,this.pluralizeValue(e.get(o),s)),i+=4+r}else if(a)break;return this.translate(),this.output}pluralizeValue(e,n){return e!==void 0?e instanceof Array?(e.push(n),e):[e,n]:n}}xn(xw,"type","iptc"),xn(xw,"translateValues",!1),xn(xw,"reviveValues",!1),xr.set("iptc",xw),or(Yr,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),or(nu,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const pGe=4,hB=0,pB=1,mGe=2;function Fb(t){let e=t.length;for(;--e>=0;)t[e]=0}const gGe=0,FJ=1,bGe=2,yGe=3,xGe=258,ID=29,CS=256,R2=CS+1+ID,V1=30,ND=19,BJ=2*R2+1,qm=15,c6=16,vGe=7,jD=256,HJ=16,$J=17,UJ=18,J7=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),o4=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),SGe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),GJ=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),CGe=512,sf=new Array((R2+2)*2);Fb(sf);const Xv=new Array(V1*2);Fb(Xv);const k2=new Array(CGe);Fb(k2);const I2=new Array(xGe-yGe+1);Fb(I2);const DD=new Array(ID);Fb(DD);const Z4=new Array(V1);Fb(Z4);function u6(t,e,n,a,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=a,this.max_length=i,this.has_stree=t&&t.length}let qJ,WJ,VJ;function d6(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const YJ=t=>t<256?k2[t]:k2[256+(t>>>7)],N2=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},As=(t,e,n)=>{t.bi_valid>c6-n?(t.bi_buf|=e<<t.bi_valid&65535,N2(t,t.bi_buf),t.bi_buf=e>>c6-t.bi_valid,t.bi_valid+=n-c6):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},Vu=(t,e,n)=>{As(t,n[e*2],n[e*2+1])},KJ=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},wGe=t=>{t.bi_valid===16?(N2(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},_Ge=(t,e)=>{const n=e.dyn_tree,a=e.max_code,i=e.stat_desc.static_tree,r=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,s=e.stat_desc.extra_base,c=e.stat_desc.max_length;let u,d,h,m,g,y,v=0;for(m=0;m<=qm;m++)t.bl_count[m]=0;for(n[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<BJ;u++)d=t.heap[u],m=n[n[d*2+1]*2+1]+1,m>c&&(m=c,v++),n[d*2+1]=m,!(d>a)&&(t.bl_count[m]++,g=0,d>=s&&(g=o[d-s]),y=n[d*2],t.opt_len+=y*(m+g),r&&(t.static_len+=y*(i[d*2+1]+g)));if(v!==0){do{for(m=c-1;t.bl_count[m]===0;)m--;t.bl_count[m]--,t.bl_count[m+1]+=2,t.bl_count[c]--,v-=2}while(v>0);for(m=c;m!==0;m--)for(d=t.bl_count[m];d!==0;)h=t.heap[--u],!(h>a)&&(n[h*2+1]!==m&&(t.opt_len+=(m-n[h*2+1])*n[h*2],n[h*2+1]=m),d--)}},XJ=(t,e,n)=>{const a=new Array(qm+1);let i=0,r,o;for(r=1;r<=qm;r++)i=i+n[r-1]<<1,a[r]=i;for(o=0;o<=e;o++){let s=t[o*2+1];s!==0&&(t[o*2]=KJ(a[s]++,s))}},TGe=()=>{let t,e,n,a,i;const r=new Array(qm+1);for(n=0,a=0;a<ID-1;a++)for(DD[a]=n,t=0;t<1<<J7[a];t++)I2[n++]=a;for(I2[n-1]=a,i=0,a=0;a<16;a++)for(Z4[a]=i,t=0;t<1<<o4[a];t++)k2[i++]=a;for(i>>=7;a<V1;a++)for(Z4[a]=i<<7,t=0;t<1<<o4[a]-7;t++)k2[256+i++]=a;for(e=0;e<=qm;e++)r[e]=0;for(t=0;t<=143;)sf[t*2+1]=8,t++,r[8]++;for(;t<=255;)sf[t*2+1]=9,t++,r[9]++;for(;t<=279;)sf[t*2+1]=7,t++,r[7]++;for(;t<=287;)sf[t*2+1]=8,t++,r[8]++;for(XJ(sf,R2+1,r),t=0;t<V1;t++)Xv[t*2+1]=5,Xv[t*2]=KJ(t,5);qJ=new u6(sf,J7,CS+1,R2,qm),WJ=new u6(Xv,o4,0,V1,qm),VJ=new u6(new Array(0),SGe,0,ND,vGe)},QJ=t=>{let e;for(e=0;e<R2;e++)t.dyn_ltree[e*2]=0;for(e=0;e<V1;e++)t.dyn_dtree[e*2]=0;for(e=0;e<ND;e++)t.bl_tree[e*2]=0;t.dyn_ltree[jD*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},ZJ=t=>{t.bi_valid>8?N2(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},mB=(t,e,n,a)=>{const i=e*2,r=n*2;return t[i]<t[r]||t[i]===t[r]&&a[e]<=a[n]},f6=(t,e,n)=>{const a=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&mB(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!mB(e,a,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=a},gB=(t,e,n)=>{let a,i,r=0,o,s;if(t.sym_next!==0)do a=t.pending_buf[t.sym_buf+r++]&255,a+=(t.pending_buf[t.sym_buf+r++]&255)<<8,i=t.pending_buf[t.sym_buf+r++],a===0?Vu(t,i,e):(o=I2[i],Vu(t,o+CS+1,e),s=J7[o],s!==0&&(i-=DD[o],As(t,i,s)),a--,o=YJ(a),Vu(t,o,n),s=o4[o],s!==0&&(a-=Z4[o],As(t,a,s)));while(r<t.sym_next);Vu(t,jD,e)},eN=(t,e)=>{const n=e.dyn_tree,a=e.stat_desc.static_tree,i=e.stat_desc.has_stree,r=e.stat_desc.elems;let o,s,c=-1,u;for(t.heap_len=0,t.heap_max=BJ,o=0;o<r;o++)n[o*2]!==0?(t.heap[++t.heap_len]=c=o,t.depth[o]=0):n[o*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=c<2?++c:0,n[u*2]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=a[u*2+1]);for(e.max_code=c,o=t.heap_len>>1;o>=1;o--)f6(t,n,o);u=r;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],f6(t,n,1),s=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=s,n[u*2]=n[o*2]+n[s*2],t.depth[u]=(t.depth[o]>=t.depth[s]?t.depth[o]:t.depth[s])+1,n[o*2+1]=n[s*2+1]=u,t.heap[1]=u++,f6(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],_Ge(t,e),XJ(n,c,t.bl_count)},bB=(t,e,n)=>{let a,i=-1,r,o=e[1],s=0,c=7,u=4;for(o===0&&(c=138,u=3),e[(n+1)*2+1]=65535,a=0;a<=n;a++)r=o,o=e[(a+1)*2+1],!(++s<c&&r===o)&&(s<u?t.bl_tree[r*2]+=s:r!==0?(r!==i&&t.bl_tree[r*2]++,t.bl_tree[HJ*2]++):s<=10?t.bl_tree[$J*2]++:t.bl_tree[UJ*2]++,s=0,i=r,o===0?(c=138,u=3):r===o?(c=6,u=3):(c=7,u=4))},yB=(t,e,n)=>{let a,i=-1,r,o=e[1],s=0,c=7,u=4;for(o===0&&(c=138,u=3),a=0;a<=n;a++)if(r=o,o=e[(a+1)*2+1],!(++s<c&&r===o)){if(s<u)do Vu(t,r,t.bl_tree);while(--s!==0);else r!==0?(r!==i&&(Vu(t,r,t.bl_tree),s--),Vu(t,HJ,t.bl_tree),As(t,s-3,2)):s<=10?(Vu(t,$J,t.bl_tree),As(t,s-3,3)):(Vu(t,UJ,t.bl_tree),As(t,s-11,7));s=0,i=r,o===0?(c=138,u=3):r===o?(c=6,u=3):(c=7,u=4)}},EGe=t=>{let e;for(bB(t,t.dyn_ltree,t.l_desc.max_code),bB(t,t.dyn_dtree,t.d_desc.max_code),eN(t,t.bl_desc),e=ND-1;e>=3&&t.bl_tree[GJ[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},AGe=(t,e,n,a)=>{let i;for(As(t,e-257,5),As(t,n-1,5),As(t,a-4,4),i=0;i<a;i++)As(t,t.bl_tree[GJ[i]*2+1],3);yB(t,t.dyn_ltree,e-1),yB(t,t.dyn_dtree,n-1)},RGe=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return hB;if(t.dyn_ltree[18]!==0||t.dyn_ltree[20]!==0||t.dyn_ltree[26]!==0)return pB;for(n=32;n<CS;n++)if(t.dyn_ltree[n*2]!==0)return pB;return hB};let xB=!1;const kGe=t=>{xB||(TGe(),xB=!0),t.l_desc=new d6(t.dyn_ltree,qJ),t.d_desc=new d6(t.dyn_dtree,WJ),t.bl_desc=new d6(t.bl_tree,VJ),t.bi_buf=0,t.bi_valid=0,QJ(t)},JJ=(t,e,n,a)=>{As(t,(gGe<<1)+(a?1:0),3),ZJ(t),N2(t,n),N2(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},IGe=t=>{As(t,FJ<<1,3),Vu(t,jD,sf),wGe(t)},NGe=(t,e,n,a)=>{let i,r,o=0;t.level>0?(t.strm.data_type===mGe&&(t.strm.data_type=RGe(t)),eN(t,t.l_desc),eN(t,t.d_desc),o=EGe(t),i=t.opt_len+3+7>>>3,r=t.static_len+3+7>>>3,r<=i&&(i=r)):i=r=n+5,n+4<=i&&e!==-1?JJ(t,e,n,a):t.strategy===pGe||r===i?(As(t,(FJ<<1)+(a?1:0),3),gB(t,sf,Xv)):(As(t,(bGe<<1)+(a?1:0),3),AGe(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),gB(t,t.dyn_ltree,t.dyn_dtree)),QJ(t),a&&ZJ(t)},jGe=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(I2[n]+CS+1)*2]++,t.dyn_dtree[YJ(e)*2]++),t.sym_next===t.sym_end);var DGe=kGe,OGe=JJ,MGe=NGe,PGe=jGe,LGe=IGe,zGe={_tr_init:DGe,_tr_stored_block:OGe,_tr_flush_block:MGe,_tr_tally:PGe,_tr_align:LGe};const FGe=(t,e,n,a)=>{let i=t&65535|0,r=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[a++]|0,r=r+i|0;while(--o);i%=65521,r%=65521}return i|r<<16|0};var j2=FGe;const BGe=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var a=0;a<8;a++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},HGe=new Uint32Array(BGe()),$Ge=(t,e,n,a)=>{const i=HGe,r=a+n;t^=-1;for(let o=a;o<r;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var $r=$Ge,xg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},wS={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:UGe,_tr_stored_block:tN,_tr_flush_block:GGe,_tr_tally:sp,_tr_align:qGe}=zGe,{Z_NO_FLUSH:lp,Z_PARTIAL_FLUSH:WGe,Z_FULL_FLUSH:VGe,Z_FINISH:Xl,Z_BLOCK:vB,Z_OK:co,Z_STREAM_END:SB,Z_STREAM_ERROR:Ju,Z_DATA_ERROR:YGe,Z_BUF_ERROR:h6,Z_DEFAULT_COMPRESSION:KGe,Z_FILTERED:XGe,Z_HUFFMAN_ONLY:vw,Z_RLE:QGe,Z_FIXED:ZGe,Z_DEFAULT_STRATEGY:JGe,Z_UNKNOWN:eqe,Z_DEFLATED:C5}=wS,tqe=9,nqe=15,aqe=8,iqe=29,rqe=256,nN=rqe+1+iqe,oqe=30,sqe=19,lqe=2*nN+1,cqe=15,ua=3,ep=258,ed=ep+ua+1,uqe=32,mb=42,OD=57,aN=69,iN=73,rN=91,oN=103,Wm=113,wv=666,es=1,Bb=2,vg=3,Hb=4,dqe=3,Vm=(t,e)=>(t.msg=xg[e],e),CB=t=>t*2-(t>4?9:0),Uh=t=>{let e=t.length;for(;--e>=0;)t[e]=0},fqe=t=>{let e,n,a,i=t.w_size;e=t.hash_size,a=e;do n=t.head[--a],t.head[a]=n>=i?n-i:0;while(--e);e=i,a=e;do n=t.prev[--a],t.prev[a]=n>=i?n-i:0;while(--e)};let hqe=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,cp=hqe;const Ks=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},Js=(t,e)=>{GGe(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Ks(t.strm)},wa=(t,e)=>{t.pending_buf[t.pending++]=e},ev=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},sN=(t,e,n,a)=>{let i=t.avail_in;return i>a&&(i=a),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),t.state.wrap===1?t.adler=j2(t.adler,e,i,n):t.state.wrap===2&&(t.adler=$r(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},eee=(t,e)=>{let n=t.max_chain_length,a=t.strstart,i,r,o=t.prev_length,s=t.nice_match;const c=t.strstart>t.w_size-ed?t.strstart-(t.w_size-ed):0,u=t.window,d=t.w_mask,h=t.prev,m=t.strstart+ep;let g=u[a+o-1],y=u[a+o];t.prev_length>=t.good_match&&(n>>=2),s>t.lookahead&&(s=t.lookahead);do if(i=e,!(u[i+o]!==y||u[i+o-1]!==g||u[i]!==u[a]||u[++i]!==u[a+1])){a+=2,i++;do;while(u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&a<m);if(r=ep-(m-a),a=m-ep,r>o){if(t.match_start=e,o=r,r>=s)break;g=u[a+o-1],y=u[a+o]}}while((e=h[e&d])>c&&--n!==0);return o<=t.lookahead?o:t.lookahead},gb=t=>{const e=t.w_size;let n,a,i;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-ed)&&(t.window.set(t.window.subarray(e,e+e-a),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),fqe(t),a+=e),t.strm.avail_in===0)break;if(n=sN(t.strm,t.window,t.strstart+t.lookahead,a),t.lookahead+=n,t.lookahead+t.insert>=ua)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=cp(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=cp(t,t.ins_h,t.window[i+ua-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<ua)););}while(t.lookahead<ed&&t.strm.avail_in!==0)},tee=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,a,i,r,o=0,s=t.strm.avail_in;do{if(a=65535,r=t.bi_valid+42>>3,t.strm.avail_out<r||(r=t.strm.avail_out-r,i=t.strstart-t.block_start,a>i+t.strm.avail_in&&(a=i+t.strm.avail_in),a>r&&(a=r),a<n&&(a===0&&e!==Xl||e===lp||a!==i+t.strm.avail_in)))break;o=e===Xl&&a===i+t.strm.avail_in?1:0,tN(t,0,0,o),t.pending_buf[t.pending-4]=a,t.pending_buf[t.pending-3]=a>>8,t.pending_buf[t.pending-2]=~a,t.pending_buf[t.pending-1]=~a>>8,Ks(t.strm),i&&(i>a&&(i=a),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,a-=i),a&&(sN(t.strm,t.strm.output,t.strm.next_out,a),t.strm.next_out+=a,t.strm.avail_out-=a,t.strm.total_out+=a)}while(o===0);return s-=t.strm.avail_in,s&&(s>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=s&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-s,t.strm.next_in),t.strstart),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?Hb:e!==lp&&e!==Xl&&t.strm.avail_in===0&&t.strstart===t.block_start?Bb:(r=t.window_size-t.strstart,t.strm.avail_in>r&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,r+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),r>t.strm.avail_in&&(r=t.strm.avail_in),r&&(sN(t.strm,t.window,t.strstart,r),t.strstart+=r,t.insert+=r>t.w_size-t.insert?t.w_size-t.insert:r),t.high_water<t.strstart&&(t.high_water=t.strstart),r=t.bi_valid+42>>3,r=t.pending_buf_size-r>65535?65535:t.pending_buf_size-r,n=r>t.w_size?t.w_size:r,i=t.strstart-t.block_start,(i>=n||(i||e===Xl)&&e!==lp&&t.strm.avail_in===0&&i<=r)&&(a=i>r?r:i,o=e===Xl&&t.strm.avail_in===0&&a===i?1:0,tN(t,t.block_start,a,o),t.block_start+=a,Ks(t.strm)),o?vg:es)},p6=(t,e)=>{let n,a;for(;;){if(t.lookahead<ed){if(gb(t),t.lookahead<ed&&e===lp)return es;if(t.lookahead===0)break}if(n=0,t.lookahead>=ua&&(t.ins_h=cp(t,t.ins_h,t.window[t.strstart+ua-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-ed&&(t.match_length=eee(t,n)),t.match_length>=ua)if(a=sp(t,t.strstart-t.match_start,t.match_length-ua),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ua){t.match_length--;do t.strstart++,t.ins_h=cp(t,t.ins_h,t.window[t.strstart+ua-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=cp(t,t.ins_h,t.window[t.strstart+1]);else a=sp(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(a&&(Js(t,!1),t.strm.avail_out===0))return es}return t.insert=t.strstart<ua-1?t.strstart:ua-1,e===Xl?(Js(t,!0),t.strm.avail_out===0?vg:Hb):t.sym_next&&(Js(t,!1),t.strm.avail_out===0)?es:Bb},x1=(t,e)=>{let n,a,i;for(;;){if(t.lookahead<ed){if(gb(t),t.lookahead<ed&&e===lp)return es;if(t.lookahead===0)break}if(n=0,t.lookahead>=ua&&(t.ins_h=cp(t,t.ins_h,t.window[t.strstart+ua-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ua-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-ed&&(t.match_length=eee(t,n),t.match_length<=5&&(t.strategy===XGe||t.match_length===ua&&t.strstart-t.match_start>4096)&&(t.match_length=ua-1)),t.prev_length>=ua&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-ua,a=sp(t,t.strstart-1-t.prev_match,t.prev_length-ua),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=cp(t,t.ins_h,t.window[t.strstart+ua-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=ua-1,t.strstart++,a&&(Js(t,!1),t.strm.avail_out===0))return es}else if(t.match_available){if(a=sp(t,0,t.window[t.strstart-1]),a&&Js(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return es}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(a=sp(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ua-1?t.strstart:ua-1,e===Xl?(Js(t,!0),t.strm.avail_out===0?vg:Hb):t.sym_next&&(Js(t,!1),t.strm.avail_out===0)?es:Bb},pqe=(t,e)=>{let n,a,i,r;const o=t.window;for(;;){if(t.lookahead<=ep){if(gb(t),t.lookahead<=ep&&e===lp)return es;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=ua&&t.strstart>0&&(i=t.strstart-1,a=o[i],a===o[++i]&&a===o[++i]&&a===o[++i])){r=t.strstart+ep;do;while(a===o[++i]&&a===o[++i]&&a===o[++i]&&a===o[++i]&&a===o[++i]&&a===o[++i]&&a===o[++i]&&a===o[++i]&&i<r);t.match_length=ep-(r-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ua?(n=sp(t,1,t.match_length-ua),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=sp(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Js(t,!1),t.strm.avail_out===0))return es}return t.insert=0,e===Xl?(Js(t,!0),t.strm.avail_out===0?vg:Hb):t.sym_next&&(Js(t,!1),t.strm.avail_out===0)?es:Bb},mqe=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(gb(t),t.lookahead===0)){if(e===lp)return es;break}if(t.match_length=0,n=sp(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Js(t,!1),t.strm.avail_out===0))return es}return t.insert=0,e===Xl?(Js(t,!0),t.strm.avail_out===0?vg:Hb):t.sym_next&&(Js(t,!1),t.strm.avail_out===0)?es:Bb};function Fu(t,e,n,a,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=a,this.func=i}const _v=[new Fu(0,0,0,0,tee),new Fu(4,4,8,4,p6),new Fu(4,5,16,8,p6),new Fu(4,6,32,32,p6),new Fu(4,4,16,16,x1),new Fu(8,16,32,32,x1),new Fu(8,16,128,128,x1),new Fu(8,32,128,256,x1),new Fu(32,128,258,1024,x1),new Fu(32,258,258,4096,x1)],gqe=t=>{t.window_size=2*t.w_size,Uh(t.head),t.max_lazy_match=_v[t.level].max_lazy,t.good_match=_v[t.level].good_length,t.nice_match=_v[t.level].nice_length,t.max_chain_length=_v[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ua-1,t.match_available=0,t.ins_h=0};function bqe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C5,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(lqe*2),this.dyn_dtree=new Uint16Array((2*oqe+1)*2),this.bl_tree=new Uint16Array((2*sqe+1)*2),Uh(this.dyn_ltree),Uh(this.dyn_dtree),Uh(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(cqe+1),this.heap=new Uint16Array(2*nN+1),Uh(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*nN+1),Uh(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const _S=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==mb&&e.status!==OD&&e.status!==aN&&e.status!==iN&&e.status!==rN&&e.status!==oN&&e.status!==Wm&&e.status!==wv?1:0},nee=t=>{if(_S(t))return Vm(t,Ju);t.total_in=t.total_out=0,t.data_type=eqe;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?OD:e.wrap?mb:Wm,t.adler=e.wrap===2?0:1,e.last_flush=-2,UGe(e),co},aee=t=>{const e=nee(t);return e===co&&gqe(t.state),e},yqe=(t,e)=>_S(t)||t.state.wrap!==2?Ju:(t.state.gzhead=e,co),iee=(t,e,n,a,i,r)=>{if(!t)return Ju;let o=1;if(e===KGe&&(e=6),a<0?(o=0,a=-a):a>15&&(o=2,a-=16),i<1||i>tqe||n!==C5||a<8||a>15||e<0||e>9||r<0||r>ZGe||a===8&&o!==1)return Vm(t,Ju);a===8&&(a=9);const s=new bqe;return t.state=s,s.strm=t,s.status=mb,s.wrap=o,s.gzhead=null,s.w_bits=a,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+ua-1)/ua),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=e,s.strategy=r,s.method=n,aee(t)},xqe=(t,e)=>iee(t,e,C5,nqe,aqe,JGe),vqe=(t,e)=>{if(_S(t)||e>vB||e<0)return t?Vm(t,Ju):Ju;const n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===wv&&e!==Xl)return Vm(t,t.avail_out===0?h6:Ju);const a=n.last_flush;if(n.last_flush=e,n.pending!==0){if(Ks(t),t.avail_out===0)return n.last_flush=-1,co}else if(t.avail_in===0&&CB(e)<=CB(a)&&e!==Xl)return Vm(t,h6);if(n.status===wv&&t.avail_in!==0)return Vm(t,h6);if(n.status===mb&&n.wrap===0&&(n.status=Wm),n.status===mb){let i=C5+(n.w_bits-8<<4)<<8,r=-1;if(n.strategy>=vw||n.level<2?r=0:n.level<6?r=1:n.level===6?r=2:r=3,i|=r<<6,n.strstart!==0&&(i|=uqe),i+=31-i%31,ev(n,i),n.strstart!==0&&(ev(n,t.adler>>>16),ev(n,t.adler&65535)),t.adler=1,n.status=Wm,Ks(t),n.pending!==0)return n.last_flush=-1,co}if(n.status===OD){if(t.adler=0,wa(n,31),wa(n,139),wa(n,8),n.gzhead)wa(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),wa(n,n.gzhead.time&255),wa(n,n.gzhead.time>>8&255),wa(n,n.gzhead.time>>16&255),wa(n,n.gzhead.time>>24&255),wa(n,n.level===9?2:n.strategy>=vw||n.level<2?4:0),wa(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(wa(n,n.gzhead.extra.length&255),wa(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=$r(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=aN;else if(wa(n,0),wa(n,0),wa(n,0),wa(n,0),wa(n,0),wa(n,n.level===9?2:n.strategy>=vw||n.level<2?4:0),wa(n,dqe),n.status=Wm,Ks(t),n.pending!==0)return n.last_flush=-1,co}if(n.status===aN){if(n.gzhead.extra){let i=n.pending,r=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let s=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(t.adler=$r(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=s,Ks(t),n.pending!==0)return n.last_flush=-1,co;i=0,r-=s}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>i&&(t.adler=$r(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=iN}if(n.status===iN){if(n.gzhead.name){let i=n.pending,r;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=$r(t.adler,n.pending_buf,n.pending-i,i)),Ks(t),n.pending!==0)return n.last_flush=-1,co;i=0}n.gzindex<n.gzhead.name.length?r=n.gzhead.name.charCodeAt(n.gzindex++)&255:r=0,wa(n,r)}while(r!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=$r(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=rN}if(n.status===rN){if(n.gzhead.comment){let i=n.pending,r;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=$r(t.adler,n.pending_buf,n.pending-i,i)),Ks(t),n.pending!==0)return n.last_flush=-1,co;i=0}n.gzindex<n.gzhead.comment.length?r=n.gzhead.comment.charCodeAt(n.gzindex++)&255:r=0,wa(n,r)}while(r!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=$r(t.adler,n.pending_buf,n.pending-i,i))}n.status=oN}if(n.status===oN){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Ks(t),n.pending!==0))return n.last_flush=-1,co;wa(n,t.adler&255),wa(n,t.adler>>8&255),t.adler=0}if(n.status=Wm,Ks(t),n.pending!==0)return n.last_flush=-1,co}if(t.avail_in!==0||n.lookahead!==0||e!==lp&&n.status!==wv){let i=n.level===0?tee(n,e):n.strategy===vw?mqe(n,e):n.strategy===QGe?pqe(n,e):_v[n.level].func(n,e);if((i===vg||i===Hb)&&(n.status=wv),i===es||i===vg)return t.avail_out===0&&(n.last_flush=-1),co;if(i===Bb&&(e===WGe?qGe(n):e!==vB&&(tN(n,0,0,!1),e===VGe&&(Uh(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Ks(t),t.avail_out===0))return n.last_flush=-1,co}return e!==Xl?co:n.wrap<=0?SB:(n.wrap===2?(wa(n,t.adler&255),wa(n,t.adler>>8&255),wa(n,t.adler>>16&255),wa(n,t.adler>>24&255),wa(n,t.total_in&255),wa(n,t.total_in>>8&255),wa(n,t.total_in>>16&255),wa(n,t.total_in>>24&255)):(ev(n,t.adler>>>16),ev(n,t.adler&65535)),Ks(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?co:SB)},Sqe=t=>{if(_S(t))return Ju;const e=t.state.status;return t.state=null,e===Wm?Vm(t,YGe):co},Cqe=(t,e)=>{let n=e.length;if(_S(t))return Ju;const a=t.state,i=a.wrap;if(i===2||i===1&&a.status!==mb||a.lookahead)return Ju;if(i===1&&(t.adler=j2(t.adler,e,n,0)),a.wrap=0,n>=a.w_size){i===0&&(Uh(a.head),a.strstart=0,a.block_start=0,a.insert=0);let c=new Uint8Array(a.w_size);c.set(e.subarray(n-a.w_size,n),0),e=c,n=a.w_size}const r=t.avail_in,o=t.next_in,s=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,gb(a);a.lookahead>=ua;){let c=a.strstart,u=a.lookahead-(ua-1);do a.ins_h=cp(a,a.ins_h,a.window[c+ua-1]),a.prev[c&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=c,c++;while(--u);a.strstart=c,a.lookahead=ua-1,gb(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=ua-1,a.match_available=0,t.next_in=o,t.input=s,t.avail_in=r,a.wrap=i,co};var wqe=xqe,_qe=iee,Tqe=aee,Eqe=nee,Aqe=yqe,Rqe=vqe,kqe=Sqe,Iqe=Cqe,Nqe="pako deflate (from Nodeca project)",Qv={deflateInit:wqe,deflateInit2:_qe,deflateReset:Tqe,deflateResetKeep:Eqe,deflateSetHeader:Aqe,deflate:Rqe,deflateEnd:kqe,deflateSetDictionary:Iqe,deflateInfo:Nqe};const jqe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Dqe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const a in n)jqe(n,a)&&(t[a]=n[a])}}return t},Oqe=t=>{let e=0;for(let a=0,i=t.length;a<i;a++)e+=t[a].length;const n=new Uint8Array(e);for(let a=0,i=0,r=t.length;a<r;a++){let o=t[a];n.set(o,i),i+=o.length}return n},w5={assign:Dqe,flattenChunks:Oqe};let ree=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ree=!1}const D2=new Uint8Array(256);for(let t=0;t<256;t++)D2[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;D2[254]=D2[254]=1;var Mqe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,a,i,r,o=t.length,s=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(a=t.charCodeAt(i+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(s),r=0,i=0;r<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(a=t.charCodeAt(i+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),i++)),n<128?e[r++]=n:n<2048?(e[r++]=192|n>>>6,e[r++]=128|n&63):n<65536?(e[r++]=224|n>>>12,e[r++]=128|n>>>6&63,e[r++]=128|n&63):(e[r++]=240|n>>>18,e[r++]=128|n>>>12&63,e[r++]=128|n>>>6&63,e[r++]=128|n&63);return e};const Pqe=(t,e)=>{if(e<65534&&t.subarray&&ree)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n};var Lqe=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let a,i;const r=new Array(n*2);for(i=0,a=0;a<n;){let o=t[a++];if(o<128){r[i++]=o;continue}let s=D2[o];if(s>4){r[i++]=65533,a+=s-1;continue}for(o&=s===2?31:s===3?15:7;s>1&&a<n;)o=o<<6|t[a++]&63,s--;if(s>1){r[i++]=65533;continue}o<65536?r[i++]=o:(o-=65536,r[i++]=55296|o>>10&1023,r[i++]=56320|o&1023)}return Pqe(r,i)},zqe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+D2[t[n]]>e?n:e},O2={string2buf:Mqe,buf2string:Lqe,utf8border:zqe};function Fqe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var oee=Fqe;const see=Object.prototype.toString,{Z_NO_FLUSH:Bqe,Z_SYNC_FLUSH:Hqe,Z_FULL_FLUSH:$qe,Z_FINISH:Uqe,Z_OK:J4,Z_STREAM_END:Gqe,Z_DEFAULT_COMPRESSION:qqe,Z_DEFAULT_STRATEGY:Wqe,Z_DEFLATED:Vqe}=wS;function TS(t){this.options=w5.assign({level:qqe,method:Vqe,chunkSize:16384,windowBits:15,memLevel:8,strategy:Wqe},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new oee,this.strm.avail_out=0;let n=Qv.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==J4)throw new Error(xg[n]);if(e.header&&Qv.deflateSetHeader(this.strm,e.header),e.dictionary){let a;if(typeof e.dictionary=="string"?a=O2.string2buf(e.dictionary):see.call(e.dictionary)==="[object ArrayBuffer]"?a=new Uint8Array(e.dictionary):a=e.dictionary,n=Qv.deflateSetDictionary(this.strm,a),n!==J4)throw new Error(xg[n]);this._dict_set=!0}}TS.prototype.push=function(t,e){const n=this.strm,a=this.options.chunkSize;let i,r;if(this.ended)return!1;for(e===~~e?r=e:r=e===!0?Uqe:Bqe,typeof t=="string"?n.input=O2.string2buf(t):see.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(a),n.next_out=0,n.avail_out=a),(r===Hqe||r===$qe)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=Qv.deflate(n,r),i===Gqe)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Qv.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===J4;if(n.avail_out===0){this.onData(n.output);continue}if(r>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};TS.prototype.onData=function(t){this.chunks.push(t)};TS.prototype.onEnd=function(t){t===J4&&(this.result=w5.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function MD(t,e){const n=new TS(e);if(n.push(t,!0),n.err)throw n.msg||xg[n.err];return n.result}function Yqe(t,e){return e=e||{},e.raw=!0,MD(t,e)}function Kqe(t,e){return e=e||{},e.gzip=!0,MD(t,e)}var Xqe=TS,Qqe=MD,Zqe=Yqe,Jqe=Kqe,eWe={Deflate:Xqe,deflate:Qqe,deflateRaw:Zqe,gzip:Jqe};const Sw=16209,tWe=16191;var nWe=function(e,n){let a,i,r,o,s,c,u,d,h,m,g,y,v,S,w,_,T,A,R,I,N,P,O,D;const H=e.state;a=e.next_in,O=e.input,i=a+(e.avail_in-5),r=e.next_out,D=e.output,o=r-(n-e.avail_out),s=r+(e.avail_out-257),c=H.dmax,u=H.wsize,d=H.whave,h=H.wnext,m=H.window,g=H.hold,y=H.bits,v=H.lencode,S=H.distcode,w=(1<<H.lenbits)-1,_=(1<<H.distbits)-1;e:do{y<15&&(g+=O[a++]<<y,y+=8,g+=O[a++]<<y,y+=8),T=v[g&w];t:for(;;){if(A=T>>>24,g>>>=A,y-=A,A=T>>>16&255,A===0)D[r++]=T&65535;else if(A&16){R=T&65535,A&=15,A&&(y<A&&(g+=O[a++]<<y,y+=8),R+=g&(1<<A)-1,g>>>=A,y-=A),y<15&&(g+=O[a++]<<y,y+=8,g+=O[a++]<<y,y+=8),T=S[g&_];n:for(;;){if(A=T>>>24,g>>>=A,y-=A,A=T>>>16&255,A&16){if(I=T&65535,A&=15,y<A&&(g+=O[a++]<<y,y+=8,y<A&&(g+=O[a++]<<y,y+=8)),I+=g&(1<<A)-1,I>c){e.msg="invalid distance too far back",H.mode=Sw;break e}if(g>>>=A,y-=A,A=r-o,I>A){if(A=I-A,A>d&&H.sane){e.msg="invalid distance too far back",H.mode=Sw;break e}if(N=0,P=m,h===0){if(N+=u-A,A<R){R-=A;do D[r++]=m[N++];while(--A);N=r-I,P=D}}else if(h<A){if(N+=u+h-A,A-=h,A<R){R-=A;do D[r++]=m[N++];while(--A);if(N=0,h<R){A=h,R-=A;do D[r++]=m[N++];while(--A);N=r-I,P=D}}}else if(N+=h-A,A<R){R-=A;do D[r++]=m[N++];while(--A);N=r-I,P=D}for(;R>2;)D[r++]=P[N++],D[r++]=P[N++],D[r++]=P[N++],R-=3;R&&(D[r++]=P[N++],R>1&&(D[r++]=P[N++]))}else{N=r-I;do D[r++]=D[N++],D[r++]=D[N++],D[r++]=D[N++],R-=3;while(R>2);R&&(D[r++]=D[N++],R>1&&(D[r++]=D[N++]))}}else if((A&64)===0){T=S[(T&65535)+(g&(1<<A)-1)];continue n}else{e.msg="invalid distance code",H.mode=Sw;break e}break}}else if((A&64)===0){T=v[(T&65535)+(g&(1<<A)-1)];continue t}else if(A&32){H.mode=tWe;break e}else{e.msg="invalid literal/length code",H.mode=Sw;break e}break}}while(a<i&&r<s);R=y>>3,a-=R,y-=R<<3,g&=(1<<y)-1,e.next_in=a,e.next_out=r,e.avail_in=a<i?5+(i-a):5-(a-i),e.avail_out=r<s?257+(s-r):257-(r-s),H.hold=g,H.bits=y};const v1=15,wB=852,_B=592,TB=0,m6=1,EB=2,aWe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),iWe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),rWe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),oWe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),sWe=(t,e,n,a,i,r,o,s)=>{const c=s.bits;let u=0,d=0,h=0,m=0,g=0,y=0,v=0,S=0,w=0,_=0,T,A,R,I,N,P=null,O;const D=new Uint16Array(v1+1),H=new Uint16Array(v1+1);let L=null,$,M,z;for(u=0;u<=v1;u++)D[u]=0;for(d=0;d<a;d++)D[e[n+d]]++;for(g=c,m=v1;m>=1&&D[m]===0;m--);if(g>m&&(g=m),m===0)return i[r++]=1<<24|64<<16|0,i[r++]=1<<24|64<<16|0,s.bits=1,0;for(h=1;h<m&&D[h]===0;h++);for(g<h&&(g=h),S=1,u=1;u<=v1;u++)if(S<<=1,S-=D[u],S<0)return-1;if(S>0&&(t===TB||m!==1))return-1;for(H[1]=0,u=1;u<v1;u++)H[u+1]=H[u]+D[u];for(d=0;d<a;d++)e[n+d]!==0&&(o[H[e[n+d]]++]=d);if(t===TB?(P=L=o,O=20):t===m6?(P=aWe,L=iWe,O=257):(P=rWe,L=oWe,O=0),_=0,d=0,u=h,N=r,y=g,v=0,R=-1,w=1<<g,I=w-1,t===m6&&w>wB||t===EB&&w>_B)return 1;for(;;){$=u-v,o[d]+1<O?(M=0,z=o[d]):o[d]>=O?(M=L[o[d]-O],z=P[o[d]-O]):(M=96,z=0),T=1<<u-v,A=1<<y,h=A;do A-=T,i[N+(_>>v)+A]=$<<24|M<<16|z|0;while(A!==0);for(T=1<<u-1;_&T;)T>>=1;if(T!==0?(_&=T-1,_+=T):_=0,d++,--D[u]===0){if(u===m)break;u=e[n+o[d]]}if(u>g&&(_&I)!==R){for(v===0&&(v=g),N+=h,y=u-v,S=1<<y;y+v<m&&(S-=D[y+v],!(S<=0));)y++,S<<=1;if(w+=1<<y,t===m6&&w>wB||t===EB&&w>_B)return 1;R=_&I,i[R]=g<<24|y<<16|N-r|0}}return _!==0&&(i[N+_]=u-v<<24|64<<16|0),s.bits=g,0};var Zv=sWe;const lWe=0,lee=1,cee=2,{Z_FINISH:AB,Z_BLOCK:cWe,Z_TREES:Cw,Z_OK:Sg,Z_STREAM_END:uWe,Z_NEED_DICT:dWe,Z_STREAM_ERROR:sc,Z_DATA_ERROR:uee,Z_MEM_ERROR:dee,Z_BUF_ERROR:fWe,Z_DEFLATED:RB}=wS,_5=16180,kB=16181,IB=16182,NB=16183,jB=16184,DB=16185,OB=16186,MB=16187,PB=16188,LB=16189,e_=16190,tf=16191,g6=16192,zB=16193,b6=16194,FB=16195,BB=16196,HB=16197,$B=16198,ww=16199,_w=16200,UB=16201,GB=16202,qB=16203,WB=16204,VB=16205,y6=16206,YB=16207,KB=16208,Ti=16209,fee=16210,hee=16211,hWe=852,pWe=592,mWe=15,gWe=mWe,XB=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function bWe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Lg=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<_5||e.mode>hee?1:0},pee=t=>{if(Lg(t))return sc;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=_5,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(hWe),e.distcode=e.distdyn=new Int32Array(pWe),e.sane=1,e.back=-1,Sg},mee=t=>{if(Lg(t))return sc;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,pee(t)},gee=(t,e)=>{let n;if(Lg(t))return sc;const a=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?sc:(a.window!==null&&a.wbits!==e&&(a.window=null),a.wrap=n,a.wbits=e,mee(t))},bee=(t,e)=>{if(!t)return sc;const n=new bWe;t.state=n,n.strm=t,n.window=null,n.mode=_5;const a=gee(t,e);return a!==Sg&&(t.state=null),a},yWe=t=>bee(t,gWe);let QB=!0,x6,v6;const xWe=t=>{if(QB){x6=new Int32Array(512),v6=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Zv(lee,t.lens,0,288,x6,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Zv(cee,t.lens,0,32,v6,0,t.work,{bits:5}),QB=!1}t.lencode=x6,t.lenbits=9,t.distcode=v6,t.distbits=5},yee=(t,e,n,a)=>{let i;const r=t.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),a>=r.wsize?(r.window.set(e.subarray(n-r.wsize,n),0),r.wnext=0,r.whave=r.wsize):(i=r.wsize-r.wnext,i>a&&(i=a),r.window.set(e.subarray(n-a,n-a+i),r.wnext),a-=i,a?(r.window.set(e.subarray(n-a,n),0),r.wnext=a,r.whave=r.wsize):(r.wnext+=i,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=i))),0},vWe=(t,e)=>{let n,a,i,r,o,s,c,u,d,h,m,g,y,v,S=0,w,_,T,A,R,I,N,P;const O=new Uint8Array(4);let D,H;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Lg(t)||!t.output||!t.input&&t.avail_in!==0)return sc;n=t.state,n.mode===tf&&(n.mode=g6),o=t.next_out,i=t.output,c=t.avail_out,r=t.next_in,a=t.input,s=t.avail_in,u=n.hold,d=n.bits,h=s,m=c,P=Sg;e:for(;;)switch(n.mode){case _5:if(n.wrap===0){n.mode=g6;break}for(;d<16;){if(s===0)break e;s--,u+=a[r++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,O[0]=u&255,O[1]=u>>>8&255,n.check=$r(n.check,O,2,0),u=0,d=0,n.mode=kB;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Ti;break}if((u&15)!==RB){t.msg="unknown compression method",n.mode=Ti;break}if(u>>>=4,d-=4,N=(u&15)+8,n.wbits===0&&(n.wbits=N),N>15||N>n.wbits){t.msg="invalid window size",n.mode=Ti;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?LB:tf,u=0,d=0;break;case kB:for(;d<16;){if(s===0)break e;s--,u+=a[r++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==RB){t.msg="unknown compression method",n.mode=Ti;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Ti;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,n.check=$r(n.check,O,2,0)),u=0,d=0,n.mode=IB;case IB:for(;d<32;){if(s===0)break e;s--,u+=a[r++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,O[2]=u>>>16&255,O[3]=u>>>24&255,n.check=$r(n.check,O,4,0)),u=0,d=0,n.mode=NB;case NB:for(;d<16;){if(s===0)break e;s--,u+=a[r++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,n.check=$r(n.check,O,2,0)),u=0,d=0,n.mode=jB;case jB:if(n.flags&1024){for(;d<16;){if(s===0)break e;s--,u+=a[r++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,n.check=$r(n.check,O,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=DB;case DB:if(n.flags&1024&&(g=n.length,g>s&&(g=s),g&&(n.head&&(N=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(a.subarray(r,r+g),N)),n.flags&512&&n.wrap&4&&(n.check=$r(n.check,a,g,r)),s-=g,r+=g,n.length-=g),n.length))break e;n.length=0,n.mode=OB;case OB:if(n.flags&2048){if(s===0)break e;g=0;do N=a[r+g++],n.head&&N&&n.length<65536&&(n.head.name+=String.fromCharCode(N));while(N&&g<s);if(n.flags&512&&n.wrap&4&&(n.check=$r(n.check,a,g,r)),s-=g,r+=g,N)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=MB;case MB:if(n.flags&4096){if(s===0)break e;g=0;do N=a[r+g++],n.head&&N&&n.length<65536&&(n.head.comment+=String.fromCharCode(N));while(N&&g<s);if(n.flags&512&&n.wrap&4&&(n.check=$r(n.check,a,g,r)),s-=g,r+=g,N)break e}else n.head&&(n.head.comment=null);n.mode=PB;case PB:if(n.flags&512){for(;d<16;){if(s===0)break e;s--,u+=a[r++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Ti;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=tf;break;case LB:for(;d<32;){if(s===0)break e;s--,u+=a[r++]<<d,d+=8}t.adler=n.check=XB(u),u=0,d=0,n.mode=e_;case e_:if(n.havedict===0)return t.next_out=o,t.avail_out=c,t.next_in=r,t.avail_in=s,n.hold=u,n.bits=d,dWe;t.adler=n.check=1,n.mode=tf;case tf:if(e===cWe||e===Cw)break e;case g6:if(n.last){u>>>=d&7,d-=d&7,n.mode=y6;break}for(;d<3;){if(s===0)break e;s--,u+=a[r++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=zB;break;case 1:if(xWe(n),n.mode=ww,e===Cw){u>>>=2,d-=2;break e}break;case 2:n.mode=BB;break;case 3:t.msg="invalid block type",n.mode=Ti}u>>>=2,d-=2;break;case zB:for(u>>>=d&7,d-=d&7;d<32;){if(s===0)break e;s--,u+=a[r++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Ti;break}if(n.length=u&65535,u=0,d=0,n.mode=b6,e===Cw)break e;case b6:n.mode=FB;case FB:if(g=n.length,g){if(g>s&&(g=s),g>c&&(g=c),g===0)break e;i.set(a.subarray(r,r+g),o),s-=g,r+=g,c-=g,o+=g,n.length-=g;break}n.mode=tf;break;case BB:for(;d<14;){if(s===0)break e;s--,u+=a[r++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Ti;break}n.have=0,n.mode=HB;case HB:for(;n.have<n.ncode;){for(;d<3;){if(s===0)break e;s--,u+=a[r++]<<d,d+=8}n.lens[L[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},P=Zv(lWe,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,P){t.msg="invalid code lengths set",n.mode=Ti;break}n.have=0,n.mode=$B;case $B:for(;n.have<n.nlen+n.ndist;){for(;S=n.lencode[u&(1<<n.lenbits)-1],w=S>>>24,_=S>>>16&255,T=S&65535,!(w<=d);){if(s===0)break e;s--,u+=a[r++]<<d,d+=8}if(T<16)u>>>=w,d-=w,n.lens[n.have++]=T;else{if(T===16){for(H=w+2;d<H;){if(s===0)break e;s--,u+=a[r++]<<d,d+=8}if(u>>>=w,d-=w,n.have===0){t.msg="invalid bit length repeat",n.mode=Ti;break}N=n.lens[n.have-1],g=3+(u&3),u>>>=2,d-=2}else if(T===17){for(H=w+3;d<H;){if(s===0)break e;s--,u+=a[r++]<<d,d+=8}u>>>=w,d-=w,N=0,g=3+(u&7),u>>>=3,d-=3}else{for(H=w+7;d<H;){if(s===0)break e;s--,u+=a[r++]<<d,d+=8}u>>>=w,d-=w,N=0,g=11+(u&127),u>>>=7,d-=7}if(n.have+g>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Ti;break}for(;g--;)n.lens[n.have++]=N}}if(n.mode===Ti)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Ti;break}if(n.lenbits=9,D={bits:n.lenbits},P=Zv(lee,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,P){t.msg="invalid literal/lengths set",n.mode=Ti;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},P=Zv(cee,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,P){t.msg="invalid distances set",n.mode=Ti;break}if(n.mode=ww,e===Cw)break e;case ww:n.mode=_w;case _w:if(s>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=r,t.avail_in=s,n.hold=u,n.bits=d,nWe(t,m),o=t.next_out,i=t.output,c=t.avail_out,r=t.next_in,a=t.input,s=t.avail_in,u=n.hold,d=n.bits,n.mode===tf&&(n.back=-1);break}for(n.back=0;S=n.lencode[u&(1<<n.lenbits)-1],w=S>>>24,_=S>>>16&255,T=S&65535,!(w<=d);){if(s===0)break e;s--,u+=a[r++]<<d,d+=8}if(_&&(_&240)===0){for(A=w,R=_,I=T;S=n.lencode[I+((u&(1<<A+R)-1)>>A)],w=S>>>24,_=S>>>16&255,T=S&65535,!(A+w<=d);){if(s===0)break e;s--,u+=a[r++]<<d,d+=8}u>>>=A,d-=A,n.back+=A}if(u>>>=w,d-=w,n.back+=w,n.length=T,_===0){n.mode=VB;break}if(_&32){n.back=-1,n.mode=tf;break}if(_&64){t.msg="invalid literal/length code",n.mode=Ti;break}n.extra=_&15,n.mode=UB;case UB:if(n.extra){for(H=n.extra;d<H;){if(s===0)break e;s--,u+=a[r++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=GB;case GB:for(;S=n.distcode[u&(1<<n.distbits)-1],w=S>>>24,_=S>>>16&255,T=S&65535,!(w<=d);){if(s===0)break e;s--,u+=a[r++]<<d,d+=8}if((_&240)===0){for(A=w,R=_,I=T;S=n.distcode[I+((u&(1<<A+R)-1)>>A)],w=S>>>24,_=S>>>16&255,T=S&65535,!(A+w<=d);){if(s===0)break e;s--,u+=a[r++]<<d,d+=8}u>>>=A,d-=A,n.back+=A}if(u>>>=w,d-=w,n.back+=w,_&64){t.msg="invalid distance code",n.mode=Ti;break}n.offset=T,n.extra=_&15,n.mode=qB;case qB:if(n.extra){for(H=n.extra;d<H;){if(s===0)break e;s--,u+=a[r++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Ti;break}n.mode=WB;case WB:if(c===0)break e;if(g=m-c,n.offset>g){if(g=n.offset-g,g>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Ti;break}g>n.wnext?(g-=n.wnext,y=n.wsize-g):y=n.wnext-g,g>n.length&&(g=n.length),v=n.window}else v=i,y=o-n.offset,g=n.length;g>c&&(g=c),c-=g,n.length-=g;do i[o++]=v[y++];while(--g);n.length===0&&(n.mode=_w);break;case VB:if(c===0)break e;i[o++]=n.length,c--,n.mode=_w;break;case y6:if(n.wrap){for(;d<32;){if(s===0)break e;s--,u|=a[r++]<<d,d+=8}if(m-=c,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?$r(n.check,i,m,o-m):j2(n.check,i,m,o-m)),m=c,n.wrap&4&&(n.flags?u:XB(u))!==n.check){t.msg="incorrect data check",n.mode=Ti;break}u=0,d=0}n.mode=YB;case YB:if(n.wrap&&n.flags){for(;d<32;){if(s===0)break e;s--,u+=a[r++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Ti;break}u=0,d=0}n.mode=KB;case KB:P=uWe;break e;case Ti:P=uee;break e;case fee:return dee;case hee:default:return sc}return t.next_out=o,t.avail_out=c,t.next_in=r,t.avail_in=s,n.hold=u,n.bits=d,(n.wsize||m!==t.avail_out&&n.mode<Ti&&(n.mode<y6||e!==AB))&&yee(t,t.output,t.next_out,m-t.avail_out),h-=t.avail_in,m-=t.avail_out,t.total_in+=h,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?$r(n.check,i,m,t.next_out-m):j2(n.check,i,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===tf?128:0)+(n.mode===ww||n.mode===b6?256:0),(h===0&&m===0||e===AB)&&P===Sg&&(P=fWe),P},SWe=t=>{if(Lg(t))return sc;let e=t.state;return e.window&&(e.window=null),t.state=null,Sg},CWe=(t,e)=>{if(Lg(t))return sc;const n=t.state;return(n.wrap&2)===0?sc:(n.head=e,e.done=!1,Sg)},wWe=(t,e)=>{const n=e.length;let a,i,r;return Lg(t)||(a=t.state,a.wrap!==0&&a.mode!==e_)?sc:a.mode===e_&&(i=1,i=j2(i,e,n,0),i!==a.check)?uee:(r=yee(t,e,n,n),r?(a.mode=fee,dee):(a.havedict=1,Sg))};var _We=mee,TWe=gee,EWe=pee,AWe=yWe,RWe=bee,kWe=vWe,IWe=SWe,NWe=CWe,jWe=wWe,DWe="pako inflate (from Nodeca project)",lf={inflateReset:_We,inflateReset2:TWe,inflateResetKeep:EWe,inflateInit:AWe,inflateInit2:RWe,inflate:kWe,inflateEnd:IWe,inflateGetHeader:NWe,inflateSetDictionary:jWe,inflateInfo:DWe};function OWe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var MWe=OWe;const xee=Object.prototype.toString,{Z_NO_FLUSH:PWe,Z_FINISH:LWe,Z_OK:M2,Z_STREAM_END:S6,Z_NEED_DICT:C6,Z_STREAM_ERROR:zWe,Z_DATA_ERROR:ZB,Z_MEM_ERROR:FWe}=wS;function ES(t){this.options=w5.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new oee,this.strm.avail_out=0;let n=lf.inflateInit2(this.strm,e.windowBits);if(n!==M2)throw new Error(xg[n]);if(this.header=new MWe,lf.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=O2.string2buf(e.dictionary):xee.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=lf.inflateSetDictionary(this.strm,e.dictionary),n!==M2)))throw new Error(xg[n])}ES.prototype.push=function(t,e){const n=this.strm,a=this.options.chunkSize,i=this.options.dictionary;let r,o,s;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?LWe:PWe,xee.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(a),n.next_out=0,n.avail_out=a),r=lf.inflate(n,o),r===C6&&i&&(r=lf.inflateSetDictionary(n,i),r===M2?r=lf.inflate(n,o):r===ZB&&(r=C6));n.avail_in>0&&r===S6&&n.state.wrap>0&&t[n.next_in]!==0;)lf.inflateReset(n),r=lf.inflate(n,o);switch(r){case zWe:case ZB:case C6:case FWe:return this.onEnd(r),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(n.avail_out===0||r===S6))if(this.options.to==="string"){let c=O2.utf8border(n.output,n.next_out),u=n.next_out-c,d=O2.buf2string(n.output,c);n.next_out=u,n.avail_out=a-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(r===M2&&s===0)){if(r===S6)return r=lf.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};ES.prototype.onData=function(t){this.chunks.push(t)};ES.prototype.onEnd=function(t){t===M2&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=w5.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function PD(t,e){const n=new ES(e);if(n.push(t),n.err)throw n.msg||xg[n.err];return n.result}function BWe(t,e){return e=e||{},e.raw=!0,PD(t,e)}var HWe=ES,$We=PD,UWe=BWe,GWe=PD,qWe={Inflate:HWe,inflate:$We,inflateRaw:UWe,ungzip:GWe};const{Deflate:WWe,deflate:VWe,deflateRaw:YWe,gzip:KWe}=eWe,{Inflate:XWe,inflate:QWe,inflateRaw:ZWe,ungzip:JWe}=qWe;var eVe=WWe,tVe=VWe,nVe=YWe,aVe=KWe,iVe=XWe,rVe=QWe,oVe=ZWe,sVe=JWe,lVe=wS,cVe={Deflate:eVe,deflate:tVe,deflateRaw:nVe,gzip:aVe,Inflate:iVe,inflate:rVe,inflateRaw:oVe,ungzip:sVe,constants:lVe};const Tv={ALPHA_UNCOMPRESSED:"stealth_pnginfo",ALPHA_COMPRESSED:"stealth_pngcomp",RGB_UNCOMPRESSED:"stealth_rgbinfo",RGB_COMPRESSED:"stealth_rgbcomp"};async function uVe(t){console.log(" [extractStealthPngInfo] Starting extraction...");try{const e=await dVe(t);if(e)return console.log(" [extractStealthPngInfo] LSB method successful"),e;console.log(" [extractStealthPngInfo] LSB failed, trying simple marker method...");const n=await fVe(t);return n?(console.log(" [extractStealthPngInfo] Marker method successful"),n):(console.log(" [extractStealthPngInfo] Both methods failed"),null)}catch(e){return console.error(" [extractStealthPngInfo] Error:",e),null}}async function dVe(t){return new Promise(e=>{const n=new Image,a=URL.createObjectURL(t);n.onload=()=>{try{const i=document.createElement("canvas"),r=i.getContext("2d");if(!r){URL.revokeObjectURL(a),e(null);return}i.width=n.width,i.height=n.height,r.drawImage(n,0,0);const s=r.getImageData(0,0,i.width,i.height).data,c=i.width,u=i.height,d=!0;console.log(` [LSB] Scanning ${c}x${u} image (4 channels)`);let h=null,m=!1,g="",y="",v="",S=0,w=0,_=!1,T=!0,A=!1,R=!1,I=!1,N=0;const P=Tv.ALPHA_UNCOMPRESSED.length*8;e:for(let D=0;D<c;D++){for(let H=0;H<u;H++){const L=(H*c+D)*4,$=s[L],M=s[L+1],z=s[L+2],F=s[L+3];if(d&&(y+=(F&1).toString(),S++),v+=($&1).toString(),v+=(M&1).toString(),v+=(z&1).toString(),w+=3,T){if(S===P&&d){const G=JB(y),ee=eH(G);if(ee)T=!1,_=!0,A=!0,h="alpha",m=ee.compressed,console.log(` [LSB] Signature found: ${G} (mode: alpha, compressed: ${m})`),y="",S=0;else{console.log(` [LSB] No valid signature in alpha channel: ${G}`),I=!0;break e}}else if(w===P){const G=JB(v),ee=eH(G);ee&&(T=!1,_=!0,A=!0,h="rgb",m=ee.compressed,console.log(` [LSB] Signature found: ${G} (mode: rgb, compressed: ${m})`),v="",w=0)}}else if(A){if(h==="alpha")S===32&&(N=parseInt(y,2),console.log(` [LSB] Data length: ${N} bits`),A=!1,R=!0,y="",S=0);else if(w===33){const G=v[v.length-1];v=v.slice(0,-1),N=parseInt(v,2),console.log(` [LSB] Data length: ${N} bits`),A=!1,R=!0,v=G,w=1}}else if(R){if(h==="alpha"){if(S===N){g=y,console.log(" [LSB] Data extraction complete"),I=!0;break e}}else if(w>=N){const G=N-w;G<0&&(v=v.slice(0,G)),g=v,console.log(" [LSB] Data extraction complete"),I=!0;break e}}else{I=!0;break e}}if(I)break}if(URL.revokeObjectURL(a),!_||g===""){console.log(" [LSB] No stealth data found"),e(null);return}const O=hVe(g);try{let D;if(m){console.log(" [LSB] Decompressing gzip data with pako...");try{const H=cVe.ungzip(new Uint8Array(O));D=new TextDecoder("utf-8").decode(H),console.log(" [LSB] Successfully decompressed gzip data")}catch(H){console.error(" [LSB] Decompression error:",H),e(null);return}}else D=new TextDecoder("utf-8").decode(new Uint8Array(O));console.log(` [LSB] Successfully decoded ${D.length} characters`),e(D)}catch(D){console.error(" [LSB] Decoding error:",D),e(null)}}catch(i){console.error(" [LSB] Extraction error:",i),URL.revokeObjectURL(a),e(null)}},n.onerror=()=>{console.error(" [LSB] Image load error"),URL.revokeObjectURL(a),e(null)},n.src=a})}async function fVe(t){return new Promise(e=>{const n=new FileReader;n.onload=a=>{try{const i=a.target?.result,r=new Uint8Array(i),o=new TextEncoder().encode("stealth_pnginfo");for(let s=0;s<r.length-o.length-4;s++){let c=!0;for(let u=0;u<o.length;u++)if(r[s+u]!==o[u]){c=!1;break}if(c){const u=s+o.length,d=r[u]|r[u+1]<<8|r[u+2]<<16|r[u+3]<<24,h=u+4,m=r.slice(h,h+d),g=new TextDecoder().decode(m);console.log(" [Marker] Successfully extracted"),e(g);return}}e(null)}catch(i){console.error(" [Marker] Error:",i),e(null)}},n.onerror=()=>e(null),n.readAsArrayBuffer(t)})}function JB(t){const e=[];for(let n=0;n<t.length;n+=8){const a=t.substring(n,n+8);a.length===8&&e.push(parseInt(a,2))}return new TextDecoder("utf-8").decode(new Uint8Array(e))}function hVe(t){const e=[];for(let n=0;n<t.length;n+=8){const a=t.substring(n,n+8);a.length===8&&e.push(parseInt(a,2))}return e}function eH(t){return t===Tv.ALPHA_UNCOMPRESSED?{type:"alpha",compressed:!1}:t===Tv.ALPHA_COMPRESSED?{type:"alpha",compressed:!0}:t===Tv.RGB_UNCOMPRESSED?{type:"rgb",compressed:!1}:t===Tv.RGB_COMPRESSED?{type:"rgb",compressed:!0}:null}class pVe{static extract(e){try{const{textChunks:n,rawStrings:a}=this.extractRawPngMetadata(e);if((n.Software==="NovelAI"||n.Source?.includes("NovelAI"))&&(console.log(" NovelAI image detected in PNG"),n.Comment))return{Comment:n.Comment,Source:n.Source};for(const i of a)if(i.includes("parameters")&&i.includes("Steps:"))return{parameters:i};return{textChunks:n,rawStrings:a}}catch(n){return console.warn("PNG metadata extraction error:",n),{}}}static extractRawPngMetadata(e){const n={},a=[];try{const i=new Uint8Array(e);if(i[0]!==137||i[1]!==80||i[2]!==78||i[3]!==71)return{textChunks:n,rawStrings:a};let r=8;for(;r<i.length-8;){const o=i[r]<<24|i[r+1]<<16|i[r+2]<<8|i[r+3],s=String.fromCharCode(i[r+4],i[r+5],i[r+6],i[r+7]);if(s==="tEXt"||s==="zTXt"){const c=i.slice(r+8,r+8+o),u=new TextDecoder("utf-8").decode(c);a.push(u);const d=u.indexOf("\0");if(d>0){const h=u.substring(0,d),m=u.substring(d+1);n[h]=m}}r+=8+o+4}}catch(i){console.error("PNG parsing error:",i)}return{textChunks:n,rawStrings:a}}}class Tw{static isNovelAIFormat(e){if(console.log(" [NovelAIParser.isNovelAIFormat] Checking data type:",typeof e),typeof e=="string")try{const n=JSON.parse(e);if(console.log(" [NovelAIParser] Parsed JSON keys:",Object.keys(n)),n.Comment){console.log(" [NovelAIParser] Found Comment field");try{const i=JSON.parse(n.Comment),r=this.hasNovelAIFields(i);if(console.log(" [NovelAIParser] Comment contains NAI fields:",r),r)return!0}catch{console.warn(" [NovelAIParser] Comment field is not valid JSON")}}const a=this.hasNovelAIFields(n);return console.log(" [NovelAIParser] Direct NAI fields:",a),a}catch(n){return console.warn(" [NovelAIParser] JSON parse failed:",n),!1}if(typeof e=="object"&&e!==null){if(console.log(" [NovelAIParser] Checking object data, keys:",Object.keys(e)),this.hasCommentField(e))return console.log(" [NovelAIParser] Object has valid Comment field"),!0;const n=this.hasNovelAIFields(e);return console.log(" [NovelAIParser] Object has NAI fields:",n),n}return console.log(" [NovelAIParser] Not a NovelAI format"),!1}static hasCommentField(e){if(!e.Comment)return!1;try{const n=JSON.parse(e.Comment);return this.hasNovelAIFields(n)}catch{return!1}}static hasNovelAIFields(e){return e&&(e.prompt!==void 0||e.v4_prompt!==void 0||e.uc!==void 0||e.scale!==void 0||e.noise_schedule!==void 0)}static parse(e){console.log(" [NovelAIParser.parse] Input type:",typeof e);try{let n,a=e;if(typeof e=="string")if(console.log(" [NovelAIParser] Parsing string input"),a=JSON.parse(e),console.log(" [NovelAIParser] Top-level keys:",Object.keys(a)),a.Comment){console.log(" [NovelAIParser] Parsing Comment field");try{n=JSON.parse(a.Comment),console.log(" [NovelAIParser] Successfully parsed Comment from Stealth PNG"),console.log(" [NovelAIParser] NAI data keys:",Object.keys(n))}catch(r){console.warn(" [NovelAIParser] Failed to parse Comment field:",r),n=a}}else console.log(" [NovelAIParser] No Comment field, using top-level data"),n=a;else if(e.Comment){console.log(" [NovelAIParser] Object has Comment field"),a=e;try{n=JSON.parse(e.Comment),console.log(" [NovelAIParser] Successfully parsed Comment field")}catch(r){console.warn(" [NovelAIParser] Failed to parse Comment field:",r),n=e}}else console.log(" [NovelAIParser] Using data directly"),n=e;const i={};if(n.v4_prompt?.caption?.base_caption?(i.positive_prompt=n.v4_prompt.caption.base_caption,i.prompt=i.positive_prompt):n.prompt&&(i.positive_prompt=n.prompt,i.prompt=n.prompt),n.v4_negative_prompt?.caption?.base_caption?i.negative_prompt=n.v4_negative_prompt.caption.base_caption:n.uc&&(i.negative_prompt=n.uc),n.steps&&(i.steps=n.steps),n.scale&&(i.cfg_scale=n.scale),n.seed&&(i.seed=Number(n.seed)),n.sampler&&(i.sampler=n.sampler),n.noise_schedule&&(i.scheduler=n.noise_schedule),n.width&&(i.width=n.width),n.height&&(i.height=n.height),a.Source){const r=a.Source.match(/NovelAI Diffusion (V[\d.]+)/i);r&&(i.model=`NovelAI Diffusion ${r[1]}`)}return i.ai_tool="NovelAI",console.log(" [NovelAIParser] Successfully parsed:",{hasPrompt:!!i.prompt,hasNegativePrompt:!!i.negative_prompt,promptLength:i.prompt?.length||0,negativePromptLength:i.negative_prompt?.length||0,steps:i.steps,scale:i.cfg_scale,sampler:i.sampler,model:i.model}),i}catch(n){return console.error(" [NovelAIParser] Parse error:",n),{}}}}class Ew{static isWebUIFormat(e){return typeof e=="string"?e.includes("parameters")||e.includes("Steps:")&&e.includes("Sampler:"):typeof e=="object"&&e!==null?e.parameters!==void 0:!1}static parse(e){try{let n;if(typeof e=="string")n=e;else if(e.parameters)n=e.parameters;else return{};return n.startsWith("parameters")&&(n=n.substring(10)),this.parseParametersText(n)}catch(n){return console.warn("WebUI parsing error:",n),{}}}static parseParametersText(e){const n={},a=e.split(/\r?\n/);let i=-1;for(let r=0;r<a.length;r++)if(a[r].trim().startsWith("Negative prompt:")){i=r;break}if(i>0){const r=a.slice(0,i);n.positive_prompt=r.join(`
`).trim().replace(/\u0000/g,""),n.prompt=n.positive_prompt;const o=a[i];n.negative_prompt=o.substring(16).trim().replace(/\u0000/g,"");const s=a.slice(i+1);this.parseOptionLines(s,n)}else n.positive_prompt=e.trim().replace(/\u0000/g,""),n.prompt=n.positive_prompt,n.negative_prompt="";return n}static parseOptionLines(e,n){const a=e.join(" ").trim();if(!a)return;const i=a.split(",");for(const r of i){const o=r.trim();if(!o||!o.includes(":"))continue;const s=o.indexOf(":"),c=o.substring(0,s).trim(),u=o.substring(s+1).trim().replace(/\u0000/g,"");this.parseOptionField(c,u,n)}}static parseOptionField(e,n,a){const i=e.toLowerCase();let r;try{if(n.includes("."))r=parseFloat(n);else{const o=parseInt(n);isNaN(o)||(r=o)}}catch{}switch(i){case"steps":a.steps=r;break;case"sampler":a.sampler=n;break;case"cfg scale":a.cfg_scale=r;break;case"seed":a.seed=r;break;case"size":const[o,s]=n.split("x").map(Number);o&&s&&(a.width=o,a.height=s);break;case"model":a.model=n;break;case"model hash":a.model_hash=n;break;case"denoising strength":a.denoising_strength=r;break;case"clip skip":a.clip_skip=r;break;default:a[e]=r!==void 0?r:n;break}}}async function mVe(t){const e={};try{const n=await uGe.parse(t,{tiff:!0,exif:!0,gps:!0,interop:!0,ifd1:!0,iptc:!0,jfif:!0,ihdr:!0});n&&Object.assign(e,n)}catch(n){console.warn("EXIF extraction failed:",n)}if(t.type==="image/png"||t.name.toLowerCase().endsWith(".png")){const n=await t.arrayBuffer(),a=pVe.extract(n);let i=tH(a);const r=!!(i.prompt&&i.prompt.trim()||i.positive_prompt&&i.positive_prompt.trim());if(console.log(" [extractFromFile] Primary extraction result:",{hasPrompt:r,promptLength:i.prompt?.length||0,positivePromptLength:i.positive_prompt?.length||0,promptPreview:(i.prompt||i.positive_prompt)?.substring(0,50)}),!r){console.log(" [extractFromFile] Primary extraction failed - attempting Stealth PNG Info");const o=await uVe(t);if(o){console.log(" [extractFromFile] Stealth PNG Info extracted successfully!"),console.log(" [extractFromFile] Stealth data length:",o.length),console.log(" [extractFromFile] First 200 chars:",o.substring(0,200)),e["Stealth PNG Info"]=o;const s=tH({stealthData:o});console.log(" [extractFromFile] Stealth parse result:",{hasPrompt:!!s.prompt,hasPositivePrompt:!!s.positive_prompt,promptLength:s.prompt?.length||0}),s.prompt||s.positive_prompt?(console.log(" [extractFromFile] Using Stealth PNG data"),i=s):console.log(" [extractFromFile] Stealth data parsing failed - no valid prompts")}else console.log(" [extractFromFile] Stealth PNG Info not found")}return{...e,...i}}return e}function tH(t){if(console.log(" [parseRawData] Input type:",typeof t,{hasStealthData:!!t.stealthData,stealthDataLength:t.stealthData?.length||0,stealthDataPreview:t.stealthData?.substring(0,100)}),Tw.isNovelAIFormat(t))return console.log(" [parseRawData] Parsing as NovelAI format"),Tw.parse(t);if(Ew.isWebUIFormat(t))return console.log(" [parseRawData] Parsing as WebUI format"),Ew.parse(t);if(t.stealthData){console.log(" [parseRawData] Attempting to parse stealth data...");const e=Tw.isNovelAIFormat(t.stealthData);if(console.log(" [parseRawData] Is NovelAI format?",e),e){console.log(" [parseRawData] Parsing stealth data as NovelAI format");const a=Tw.parse(t.stealthData);return console.log(" [parseRawData] NovelAI parse result:",{hasPrompt:!!a.prompt,hasPositivePrompt:!!a.positive_prompt,hasNegativePrompt:!!a.negative_prompt}),a}const n=Ew.isWebUIFormat(t.stealthData);if(console.log(" [parseRawData] Is WebUI format?",n),n){console.log(" [parseRawData] Parsing stealth data as WebUI format");const a=Ew.parse(t.stealthData);return console.log(" [parseRawData] WebUI parse result:",{hasPrompt:!!a.prompt,hasPositivePrompt:!!a.positive_prompt,hasNegativePrompt:!!a.negative_prompt}),a}console.log(" [parseRawData] Stealth data found but format not recognized"),console.log(" [parseRawData] Raw stealth data sample:",t.stealthData.substring(0,200))}return console.log(" [parseRawData] No recognized format found"),{}}function gVe(t){if(t.ai_tool)return t.ai_tool;const e=JSON.stringify(t).toLowerCase();return e.includes("comfyui")||e.includes("comfy ui")?"ComfyUI":e.includes("novelai")||e.includes("novel ai")?"NovelAI":e.includes("automatic1111")||e.includes("webui")?"Automatic1111":"Unknown"}async function bVe(t){try{const e=await mVe(t),n=gVe(e),a={},i=["ai_tool","prompt","positive_prompt","negative_prompt","textChunks","rawStrings"];for(const[r,o]of Object.entries(e))!i.includes(r)&&o!==void 0&&o!==null&&(a[r]=o);return{aiTool:n,prompt:e.prompt,positivePrompt:e.positive_prompt||e.prompt,negativePrompt:e.negative_prompt,parameters:Object.keys(a).length>0?a:void 0,rawMetadata:e}}catch(e){return console.error("Failed to extract metadata:",e),{aiTool:"Unknown",rawMetadata:{}}}}const yVe=()=>{const{t}=ht(["upload","common"]),[e,n]=E.useState(null),[a,i]=E.useState(!1),[r,o]=E.useState(null),[s,c]=E.useState(!1),[u,d]=E.useState(null),h=E.useCallback(async T=>{if(!T.type.startsWith("image/")){o(t("upload:promptPreview.invalidFileType"));return}i(!0),o(null);try{const A=URL.createObjectURL(T);d(A);const R=await bVe(T);n(R)}catch(A){console.error("Failed to extract metadata:",A),o(t("upload:promptPreview.extractionFailed"))}finally{i(!1)}},[t]),m=E.useCallback(T=>{T.preventDefault(),T.stopPropagation(),c(!1),T.dataTransfer.files&&T.dataTransfer.files.length>0&&h(T.dataTransfer.files[0])},[h]),g=E.useCallback(T=>{T.preventDefault(),T.stopPropagation(),c(!0)},[]),y=E.useCallback(T=>{T.preventDefault(),T.stopPropagation(),c(!1)},[]),v=E.useCallback(T=>{T.target.files&&T.target.files.length>0&&h(T.target.files[0])},[h]),S=e?.positivePrompt?Qz(e.positivePrompt):null,w=e?.negativePrompt?Qz(e.negativePrompt):null,_=e?.positivePrompt?wZ(e.positivePrompt):null;return ke.useEffect(()=>()=>{u&&URL.revokeObjectURL(u)},[u]),l.jsxs(Gt,{elevation:1,sx:{p:{xs:2,sm:3},mt:{xs:3,sm:4},borderRadius:2},children:[l.jsx(ie,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"1.1rem",sm:"1.25rem"},fontWeight:600},children:t("upload:promptPreview.title")}),l.jsx(ie,{variant:"body2",color:"text.secondary",sx:{mb:2},children:t("upload:promptPreview.description")}),l.jsxs(Z,{onDrop:m,onDragOver:g,onDragLeave:y,sx:{border:"2px dashed",borderColor:s?"primary.main":"grey.300",borderRadius:2,p:3,textAlign:"center",backgroundColor:s?"action.hover":"background.default",cursor:"pointer",transition:"all 0.2s","&:hover":{borderColor:"primary.main",backgroundColor:"action.hover"}},onClick:()=>document.getElementById("prompt-preview-input")?.click(),children:[l.jsx("input",{id:"prompt-preview-input",type:"file",accept:"image/*",style:{display:"none"},onChange:v}),l.jsx(qc,{sx:{fontSize:48,color:"text.secondary",mb:1}}),l.jsx(ie,{variant:"body1",color:"text.secondary",children:t(s?"upload:promptPreview.dropHere":"upload:promptPreview.dragOrClick")}),l.jsx(ie,{variant:"caption",color:"text.secondary",children:t("upload:promptPreview.noUpload")})]}),a&&l.jsx(Z,{sx:{display:"flex",justifyContent:"center",my:3},children:l.jsx(Yt,{})}),r&&l.jsx(xt,{severity:"error",sx:{mt:2},children:r}),e&&!a&&l.jsxs(Z,{sx:{mt:3},children:[u&&l.jsxs(Z,{sx:{mb:3},children:[l.jsx(ie,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:t("upload:promptPreview.imagePreview")}),l.jsx(Gt,{variant:"outlined",sx:{p:1,backgroundColor:"background.default",display:"flex",justifyContent:"center",alignItems:"center"},children:l.jsx(Z,{component:"img",src:u,alt:"Preview",sx:{maxWidth:"100%",maxHeight:400,objectFit:"contain",borderRadius:1}})})]}),l.jsxs(Z,{sx:{mb:2},children:[l.jsx(ie,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:t("upload:promptPreview.aiTool")}),l.jsx(mt,{label:e.aiTool||"Unknown",color:e.aiTool!=="Unknown"?"primary":"default",size:"small"})]}),S&&l.jsxs(Z,{sx:{mb:2},children:[l.jsx(ie,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:t("upload:promptPreview.positivePrompt")}),l.jsx(Gt,{variant:"outlined",sx:{p:2,backgroundColor:"background.default",maxHeight:200,overflow:"auto"},children:l.jsx(ie,{variant:"body2",sx:{whiteSpace:"pre-wrap"},children:S.cleaned})}),S.terms.length>0&&l.jsxs(Z,{sx:{mt:1},children:[l.jsxs(ie,{variant:"caption",color:"text.secondary",children:[t("upload:promptPreview.terms")," (",S.terms.length,")"]}),l.jsxs(cn,{direction:"row",spacing:.5,flexWrap:"wrap",sx:{mt:.5},children:[S.terms.slice(0,20).map((T,A)=>l.jsx(mt,{label:T,size:"small",variant:"outlined",sx:{mb:.5}},A)),S.terms.length>20&&l.jsx(mt,{label:`+${S.terms.length-20} more`,size:"small",variant:"outlined",sx:{mb:.5}})]})]})]}),w&&w.cleaned&&l.jsxs(Z,{sx:{mb:2},children:[l.jsx(ie,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:t("upload:promptPreview.negativePrompt")}),l.jsx(Gt,{variant:"outlined",sx:{p:2,backgroundColor:"background.default",maxHeight:150,overflow:"auto"},children:l.jsx(ie,{variant:"body2",sx:{whiteSpace:"pre-wrap"},children:w.cleaned})})]}),_&&_.loras.length>0&&l.jsxs(Z,{sx:{mb:2},children:[l.jsxs(ie,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:[t("upload:promptPreview.loraModels")," (",_.loras.length,")"]}),l.jsx(cn,{direction:"row",spacing:.5,flexWrap:"wrap",children:_.loras.map((T,A)=>l.jsx(mt,{label:T,size:"small",color:"secondary",sx:{mb:.5}},A))})]}),e.parameters&&Object.keys(e.parameters).length>0&&l.jsxs(Z,{sx:{mb:2},children:[l.jsx(ie,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:t("upload:promptPreview.parameters")}),l.jsx(Gt,{variant:"outlined",sx:{p:2,backgroundColor:"background.default"},children:l.jsx(cn,{spacing:.5,children:Object.entries(e.parameters).filter(([T,A])=>A!=null).map(([T,A])=>l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[T,":"]})," ",String(A)]},T))})})]}),l.jsxs(rl,{sx:{mt:2},children:[l.jsx(sl,{expandIcon:l.jsx(zi,{}),children:l.jsx(ie,{variant:"subtitle2",children:t("upload:promptPreview.rawMetadata")})}),l.jsx(ol,{children:l.jsx(Gt,{variant:"outlined",sx:{p:2,backgroundColor:"background.default",maxHeight:400,overflow:"auto"},children:l.jsx("pre",{style:{margin:0,fontSize:"0.75rem",whiteSpace:"pre-wrap"},children:JSON.stringify(e.rawMetadata,null,2)})})})]})]})]})},xVe=()=>{const t=yt.c(17);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=["upload","common"],t[0]=e):e=t[0];const{t:n}=ht(e),a=vVe;let i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i={width:"100%"},t[1]=i):i=t[1];let r;t[2]===Symbol.for("react.memo_cache_sentinel")?(r={fontSize:{xs:"1.75rem",sm:"2rem",md:"2.25rem"},fontWeight:600},t[2]=r):r=t[2];let o;t[3]!==n?(o=n("upload:page.title"),t[3]=n,t[4]=o):o=t[4];let s;t[5]!==o?(s=l.jsx(ie,{variant:"h4",component:"h1",gutterBottom:!0,sx:r,children:o}),t[5]=o,t[6]=s):s=t[6];let c;t[7]===Symbol.for("react.memo_cache_sentinel")?(c={mb:{xs:3,sm:4},fontSize:{xs:"0.875rem",sm:"1rem"}},t[7]=c):c=t[7];let u;t[8]!==n?(u=n("upload:page.description"),t[8]=n,t[9]=u):u=t[9];let d;t[10]!==u?(d=l.jsx(ie,{variant:"body1",color:"text.secondary",sx:c,children:u}),t[10]=u,t[11]=d):d=t[11];let h,m;t[12]===Symbol.for("react.memo_cache_sentinel")?(h=l.jsx($Ue,{onUploadComplete:a}),m=l.jsx(yVe,{}),t[12]=h,t[13]=m):(h=t[12],m=t[13]);let g;return t[14]!==s||t[15]!==d?(g=l.jsxs(Z,{sx:i,children:[s,d,h,m]}),t[14]=s,t[15]=d,t[16]=g):g=t[16],g};function vVe(){console.log("Upload completed")}const SVe=(t={})=>{const[e,n]=E.useState([]),[a,i]=E.useState(!1),[r,o]=E.useState(null),[s,c]=E.useState(1),[u,d]=E.useState(25),[h,m]=E.useState(0),[g,y]=E.useState(0),[v,S]=E.useState(t.initialSortBy||"first_seen_date"),[w,_]=E.useState(t.initialSortOrder||"DESC"),[T,A]=E.useState(t.initialAiToolFilter||""),R=E.useCallback(async(L=s,$=u,M=v,z=w,F=T)=>{i(!0),o(null);try{let G;F?G=await bi.searchImages({ai_tool:F,page:L,limit:$,sortBy:M,sortOrder:z}):G=await bi.getImages(L,$,M,z),G.success&&G.data?(n(G.data.images),m(G.data.totalPages),y(G.data.total),c(G.data.page)):o(G.error||"  .")}catch(G){o("  ."),console.error("Error fetching images:",G)}finally{i(!1)}},[s,u,v,w,T]),I=E.useCallback(L=>{c(L),R(L,u,v,w,T)},[R,u,v,w,T]),N=E.useCallback(L=>{d(L),c(1),R(1,L,v,w,T),localStorage.setItem("imagePageSize",L.toString())},[R,v,w,T]),P=E.useCallback((L,$)=>{S(L),_($),c(1),R(1,u,L,$,T)},[R,u,T]),O=E.useCallback(L=>{A(L),c(1),R(1,u,v,w,L)},[R,u,v,w]),D=E.useCallback(async L=>{console.log(" [Frontend] Deleting images:",L);try{n(M=>{const z=M.filter(F=>F.composite_hash&&!L.includes(F.composite_hash));return console.log(" [Frontend] Images after optimistic update:",z.length),z});const $=await bi.deleteImages(L);if(!$.success)throw new Error($.error||"Delete failed");console.log(" [Frontend] Delete successful, refreshing data"),await R(s,u,v,w,T)}catch($){console.error(" [Frontend] Delete error:",$),o("  ."),await R(s,u,v,w,T)}},[R,s,u,v,w,T]),H=E.useCallback(()=>{R(s,u,v,w,T)},[R,s,u,v,w,T]);return E.useEffect(()=>{const L=localStorage.getItem("imagePageSize");if(L){const $=parseInt(L);[25,50,100].includes($)&&d($)}},[]),E.useEffect(()=>{R()},[R]),{images:e,loading:a,error:r,currentPage:s,pageSize:u,totalPages:h,total:g,sortBy:v,sortOrder:w,aiToolFilter:T,changePage:I,changePageSize:N,changeSorting:P,changeAiToolFilter:O,deleteImages:D,refreshImages:H,fetchImages:R}},vee=()=>{const t=yt.c(12);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0];const[n,a]=E.useState(e);let i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=v=>{a(S=>S.includes(v)?S.filter(w=>w!==v):[...S,v])},t[1]=i):i=t[1];const r=i;let o;t[2]===Symbol.for("react.memo_cache_sentinel")?(o=v=>{a(v)},t[2]=o):o=t[2];const s=o;let c;t[3]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{a([])},t[3]=c):c=t[3];const u=c;let d;t[4]!==n?(d=v=>n.includes(v),t[4]=n,t[5]=d):d=t[5];const h=d;let m;t[6]!==n.length?(m=v=>{n.length===v.length?u():s(v)},t[6]=n.length,t[7]=m):m=t[7];const g=m;let y;return t[8]!==h||t[9]!==n||t[10]!==g?(y={selectedIds:n,toggleSelection:r,selectAll:s,deselectAll:u,isSelected:h,toggleSelectAll:g,selectedCount:n.length},t[8]=h,t[9]=n,t[10]=g,t[11]=y):y=t[11],y},CVe=()=>{const{t}=ht(["gallery","common"]),{images:e,loading:n,error:a,currentPage:i,pageSize:r,totalPages:o,total:s,sortBy:c,sortOrder:u,aiToolFilter:d,changePage:h,changePageSize:m,changeSorting:g,changeAiToolFilter:y,deleteImages:v,refreshImages:S}=SVe({initialSortBy:"first_seen_date",initialSortOrder:"DESC"}),{selectedIds:w,toggleSelection:_,selectAll:T,deselectAll:A,selectedCount:R}=vee(),I=z=>{T(z)},N=async z=>{await v([z]);const F=e.find(G=>G.composite_hash===z);F?.id&&w.includes(F.id)&&_(F.id)},P=()=>{A(),S()},O=z=>{g(z,u)},D=z=>{g(c,z)},[H,L]=E.useState([]);E.useEffect(()=>{(async()=>{try{const F=await bi.getImages(1,1e3,"first_seen_date","DESC");if(F.success&&F.data){const G=Array.from(new Set(F.data.images.map(ee=>ee.ai_tool).filter(ee=>ee!==null)));L(G)}}catch(F){console.error("Failed to fetch AI tools:",F)}})()},[]);const $=()=>{y(""),g("first_seen_date","DESC")},M=d!=="";return l.jsxs(Z,{sx:{width:"100%"},children:[l.jsxs(Z,{sx:{mb:{xs:2,sm:3}},children:[l.jsx(ie,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontSize:{xs:"1.75rem",sm:"2rem",md:"2.25rem"},fontWeight:600},children:t("gallery:page.title")}),l.jsx(ie,{variant:"body1",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:t("gallery:page.description")})]}),l.jsxs(Gt,{elevation:1,sx:{p:{xs:2,sm:3},mb:{xs:2,sm:3},borderRadius:2},children:[l.jsxs(cn,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:{xs:"stretch",sm:"center"},children:[l.jsxs(Z,{sx:{display:"flex",gap:2,flexWrap:"wrap",flex:1},children:[l.jsxs(ri,{size:"small",sx:{minWidth:150},children:[l.jsx(Nr,{children:t("gallery:filters.aiTool")}),l.jsxs(Xi,{value:d,label:t("gallery:filters.aiTool"),onChange:z=>y(z.target.value),children:[l.jsx(nn,{value:"",children:t("gallery:filters.all")}),H.map(z=>z&&l.jsx(nn,{value:z,children:z},z))]})]}),l.jsxs(ri,{size:"small",sx:{minWidth:120},children:[l.jsx(Nr,{children:t("gallery:filters.sortBy")}),l.jsxs(Xi,{value:c,label:t("gallery:filters.sortBy"),onChange:z=>O(z.target.value),children:[l.jsx(nn,{value:"first_seen_date",children:t("gallery:sorting.uploadDate")}),l.jsx(nn,{value:"file_size",children:t("gallery:sorting.fileSize")}),l.jsx(nn,{value:"width",children:t("gallery:sorting.width")}),l.jsx(nn,{value:"height",children:t("gallery:sorting.height")})]})]}),l.jsxs(ri,{size:"small",sx:{minWidth:100},children:[l.jsx(Nr,{children:t("gallery:filters.sortOrder")}),l.jsxs(Xi,{value:u,label:t("gallery:filters.sortOrder"),onChange:z=>D(z.target.value),children:[l.jsx(nn,{value:"DESC",children:t("gallery:sorting.descending")}),l.jsx(nn,{value:"ASC",children:t("gallery:sorting.ascending")})]})]})]}),l.jsxs(Z,{sx:{display:"flex",gap:1,alignItems:"center"},children:[M&&l.jsx(Ue,{variant:"outlined",size:"small",onClick:$,startIcon:l.jsx(kOe,{}),children:t("gallery:actions.clearFilters")}),l.jsx(jt,{title:t("gallery:actions.refresh"),children:l.jsx("span",{children:l.jsx(lt,{onClick:S,disabled:n,children:l.jsx(jo,{})})})})]})]}),M&&l.jsx(Z,{sx:{mt:2,display:"flex",gap:1,flexWrap:"wrap"},children:d&&l.jsx(mt,{label:t("gallery:filters.aiToolLabel",{tool:d}),onDelete:()=>y(""),size:"small",variant:"outlined"})})]}),a&&l.jsx(Z,{sx:{mb:{xs:2,sm:3},p:2,bgcolor:"error.light",color:"error.contrastText",borderRadius:2},children:l.jsx(ie,{variant:"body2",children:a})}),l.jsx(l5,{images:e,loading:n,selectable:!0,selectedIds:w,onSelectionChange:I,pageSize:r,onPageSizeChange:m,currentPage:i,totalPages:o,total:s,onPageChange:h,onImageDelete:N}),l.jsx(vD,{selectedCount:R,selectedIds:w,selectedImages:e.filter(z=>z.id&&w.includes(z.id)),onSelectionClear:A,onActionComplete:P})]})},wVe=t=>{const e=yt.c(12),{searchText:n,onSearchTextChange:a,onKeyPress:i}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={py:2},e[0]=r):r=e[0];let o,s;e[1]===Symbol.for("react.memo_cache_sentinel")?(o={display:"flex",alignItems:"center",gap:1,mb:2},s=l.jsx(ie,{variant:"body2",color:"text.secondary",children:"   ."}),e[1]=o,e[2]=s):(o=e[1],s=e[2]);let c;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsxs(cn,{spacing:.5,children:[l.jsx(ie,{variant:"caption",children:"  :  ,  General/Character"}),l.jsx(ie,{variant:"caption",children:"  "}),l.jsx(ie,{variant:"caption",children:'   " " '})]}),e[3]=c):c=e[3];let u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsxs(Z,{sx:o,children:[s,l.jsx(jt,{title:c,arrow:!0,placement:"right",children:l.jsx(lt,{size:"small",sx:{p:.5},children:l.jsx(G1,{fontSize:"small"})})})]}),e[4]=u):u=e[4];let d;e[5]!==a?(d=g=>a(g.target.value),e[5]=a,e[6]=d):d=e[6];let h;e[7]===Symbol.for("react.memo_cache_sentinel")?(h={startAdornment:l.jsx(w2,{position:"start",children:l.jsx(Wc,{})})},e[7]=h):h=e[7];let m;return e[8]!==i||e[9]!==n||e[10]!==d?(m=l.jsxs(Z,{sx:r,children:[u,l.jsx(Tt,{fullWidth:!0,variant:"outlined",placeholder:"  (: girl, masterpiece, hatsune miku)",value:n,onChange:d,onKeyPress:i,InputProps:h})]}),e[8]=i,e[9]=n,e[10]=d,e[11]=m):m=e[11],m},_Ve={exclude:{color:"#f44336",icon:jQ,bgColor:"#ffebee",darkBgColor:"#5d1f1f"},or:{color:"#2196f3",icon:nD,bgColor:"#e3f2fd",darkBgColor:"#1a3a52"},and:{color:"#4caf50",icon:BQ,bgColor:"#e8f5e9",darkBgColor:"#1e4620"}},TVe=t=>{const e=yt.c(78),{groupType:n,condition:a,onRemove:i,onEdit:r}=t,{t:o}=ht("common"),s=_Ve[n],c=s.icon;let u;e[0]!==n||e[1]!==o?(u=()=>o(`filterBuilder.groupTypes.${n}.labelShort`),e[0]=n,e[1]=o,e[2]=u):u=e[2];const d=u;let h;e[3]!==a.category||e[4]!==o?(h=()=>o(`filterBuilder.categories.${a.category}`),e[3]=a.category,e[4]=o,e[5]=h):h=e[5];const m=h;let g;e[6]!==a.type||e[7]!==o?(g=()=>o(`filterBuilder.conditionTypes.${a.type}`),e[6]=a.type,e[7]=o,e[8]=g):g=e[8];const y=g;let v;e[9]!==a.max_score||e[10]!==a.min_score||e[11]!==a.rating_type||e[12]!==a.type||e[13]!==a.value||e[14]!==m||e[15]!==y||e[16]!==o?(v=(()=>{const le=m(),Se=y();let _e=String(a.value);typeof a.value=="boolean"&&(_e=a.value?o("filterBuilder.values.exists"):o("filterBuilder.values.notExists")),a.type==="auto_tag_rating"&&a.rating_type&&(_e=o(`filterBuilder.ratingTypes.${a.rating_type}`));let Ie="";if(a.min_score!==void 0||a.max_score!==void 0){const ze=a.min_score??0,Me=a.max_score??1;Ie=` (${ze.toFixed(2)} ~ ${Me.toFixed(2)})`}return{category:le,type:Se,value:_e,scoreRange:Ie}})(),e[9]=a.max_score,e[10]=a.min_score,e[11]=a.rating_type,e[12]=a.type,e[13]=a.value,e[14]=m,e[15]=y,e[16]=o,e[17]=v):v=e[17];const{category:S,type:w,value:_,scoreRange:T}=v,A=`3px solid ${s.color}`;let R;e[18]===Symbol.for("react.memo_cache_sentinel")?(R={boxShadow:3,transform:"translateY(-1px)"},e[18]=R):R=e[18];let I;e[19]!==s.bgColor||e[20]!==s.darkBgColor?(I=ue=>ue.palette.mode==="dark"?s.darkBgColor:s.bgColor,e[19]=s.bgColor,e[20]=s.darkBgColor,e[21]=I):I=e[21];let N;e[22]!==A||e[23]!==I?(N={height:"100%",borderLeft:A,position:"relative",transition:"all 0.2s ease-in-out","&:hover":R,bgcolor:I},e[22]=A,e[23]=I,e[24]=N):N=e[24];let P;e[25]===Symbol.for("react.memo_cache_sentinel")?(P={p:1.5,"&:last-child":{pb:1.5}},e[25]=P):P=e[25];let O;e[26]===Symbol.for("react.memo_cache_sentinel")?(O={display:"flex",alignItems:"center",justifyContent:"space-between"},e[26]=O):O=e[26];let D;e[27]===Symbol.for("react.memo_cache_sentinel")?(D={fontSize:"0.875rem"},e[27]=D):D=e[27];let H;e[28]!==c?(H=l.jsx(c,{sx:D}),e[28]=c,e[29]=H):H=e[29];let L;e[30]!==d?(L=d(),e[30]=d,e[31]=L):L=e[31];let $;e[32]===Symbol.for("react.memo_cache_sentinel")?($={color:"white"},e[32]=$):$=e[32];let M;e[33]!==s.color?(M={bgcolor:s.color,color:"white",fontWeight:600,fontSize:"0.75rem",height:"24px","& .MuiChip-icon":$},e[33]=s.color,e[34]=M):M=e[34];let z;e[35]!==H||e[36]!==L||e[37]!==M?(z=l.jsx(mt,{icon:H,label:L,size:"small",sx:M}),e[35]=H,e[36]=L,e[37]=M,e[38]=z):z=e[38];let F;e[39]===Symbol.for("react.memo_cache_sentinel")?(F={display:"flex",gap:.5},e[39]=F):F=e[39];let G;e[40]===Symbol.for("react.memo_cache_sentinel")?(G={p:.5,color:"primary.main","&:hover":{bgcolor:"primary.light",color:"primary.dark"}},e[40]=G):G=e[40];let ee;e[41]===Symbol.for("react.memo_cache_sentinel")?(ee=l.jsx(id,{sx:{fontSize:"1rem"}}),e[41]=ee):ee=e[41];let V;e[42]!==r?(V=l.jsx(lt,{size:"small",onClick:r,sx:G,children:ee}),e[42]=r,e[43]=V):V=e[43];let Y;e[44]===Symbol.for("react.memo_cache_sentinel")?(Y={p:.5,color:"error.main","&:hover":{bgcolor:"error.light",color:"error.dark"}},e[44]=Y):Y=e[44];let K;e[45]===Symbol.for("react.memo_cache_sentinel")?(K=l.jsx(Sf,{sx:{fontSize:"1rem"}}),e[45]=K):K=e[45];let J;e[46]!==i?(J=l.jsx(lt,{size:"small",onClick:i,sx:Y,children:K}),e[46]=i,e[47]=J):J=e[47];let W;e[48]!==V||e[49]!==J?(W=l.jsxs(Z,{sx:F,children:[V,J]}),e[48]=V,e[49]=J,e[50]=W):W=e[50];let te;e[51]!==z||e[52]!==W?(te=l.jsxs(Z,{sx:O,children:[z,W]}),e[51]=z,e[52]=W,e[53]=te):te=e[53];let re;e[54]===Symbol.for("react.memo_cache_sentinel")?(re={fontWeight:500,textTransform:"uppercase",fontSize:"0.65rem"},e[54]=re):re=e[54];let ne;e[55]!==S?(ne=l.jsx(ie,{variant:"caption",color:"text.secondary",sx:re,children:S}),e[55]=S,e[56]=ne):ne=e[56];let ce;e[57]===Symbol.for("react.memo_cache_sentinel")?(ce={fontWeight:600,fontSize:"0.813rem"},e[57]=ce):ce=e[57];let pe;e[58]!==w?(pe=l.jsx(ie,{variant:"body2",sx:ce,children:w}),e[58]=w,e[59]=pe):pe=e[59];let me;e[60]===Symbol.for("react.memo_cache_sentinel")?(me={bgcolor:EVe,borderRadius:1,p:.75},e[60]=me):me=e[60];let ge;e[61]===Symbol.for("react.memo_cache_sentinel")?(ge={wordBreak:"break-word",fontFamily:"monospace",fontSize:"0.75rem"},e[61]=ge):ge=e[61];let ye;e[62]!==_?(ye=l.jsx(ie,{variant:"body2",sx:ge,children:_}),e[62]=_,e[63]=ye):ye=e[63];let he;e[64]!==T||e[65]!==o?(he=T&&l.jsxs(ie,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.25,fontSize:"0.65rem"},children:[o("filterBuilder.labels.score"),": ",T]}),e[64]=T,e[65]=o,e[66]=he):he=e[66];let de;e[67]!==ye||e[68]!==he?(de=l.jsxs(Z,{sx:me,children:[ye,he]}),e[67]=ye,e[68]=he,e[69]=de):de=e[69];let fe;e[70]!==te||e[71]!==ne||e[72]!==pe||e[73]!==de?(fe=l.jsx(Ri,{sx:P,children:l.jsxs(cn,{spacing:1,children:[te,ne,pe,de]})}),e[70]=te,e[71]=ne,e[72]=pe,e[73]=de,e[74]=fe):fe=e[74];let oe;return e[75]!==fe||e[76]!==N?(oe=l.jsx(ma,{sx:N,children:fe}),e[75]=fe,e[76]=N,e[77]=oe):oe=e[77],oe};function EVe(t){return t.palette.mode==="dark"?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)"}const AVe=t=>{const e={exclude:0,or:1,and:2};return[...t].sort((n,a)=>e[n.groupType]-e[a.groupType])},RVe=t=>{const e=yt.c(24),{blocks:n,onRemove:a,onEdit:i,onAdd:r}=t;let o,s,c,u;if(e[0]!==n||e[1]!==i||e[2]!==a){const S=AVe(n);s=Z,o=Z,e[7]===Symbol.for("react.memo_cache_sentinel")?(c={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(4, 1fr)",lg:"repeat(5, 1fr)",xl:"repeat(6, 1fr)"},gap:1.5},e[7]=c):c=e[7];let w;e[8]!==i||e[9]!==a?(w=_=>l.jsx(Z,{sx:{animation:"fadeIn 0.3s ease-in-out","@keyframes fadeIn":{from:{opacity:0,transform:"translateY(10px)"},to:{opacity:1,transform:"translateY(0)"}}},children:l.jsx(TVe,{id:_.id,groupType:_.groupType,condition:_.condition,onRemove:()=>a(_.id),onEdit:()=>i(_.id)})},_.id),e[8]=i,e[9]=a,e[10]=w):w=e[10],u=S.map(w),e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=c,e[6]=u}else o=e[3],s=e[4],c=e[5],u=e[6];let d;e[11]===Symbol.for("react.memo_cache_sentinel")?(d={bgcolor:IVe,borderColor:"primary.dark",transform:"scale(1.02)"},e[11]=d):d=e[11];let h;e[12]===Symbol.for("react.memo_cache_sentinel")?(h={display:"flex",alignItems:"center",justifyContent:"center",minHeight:120,border:"2px dashed",borderColor:"primary.main",borderRadius:2,cursor:"pointer",transition:"all 0.2s ease-in-out",bgcolor:kVe,"&:hover":d,animation:"fadeIn 0.3s ease-in-out","@keyframes fadeIn":{from:{opacity:0,transform:"translateY(10px)"},to:{opacity:1,transform:"translateY(0)"}}},e[12]=h):h=e[12];let m;e[13]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsx(lt,{color:"primary",sx:{width:56,height:56,bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark",transform:"rotate(90deg)"},transition:"all 0.3s ease-in-out"},children:l.jsx(Vr,{fontSize:"large"})}),e[13]=m):m=e[13];let g;e[14]!==r?(g=l.jsx(Z,{onClick:r,sx:h,children:m}),e[14]=r,e[15]=g):g=e[15];let y;e[16]!==o||e[17]!==c||e[18]!==u||e[19]!==g?(y=l.jsxs(o,{sx:c,children:[u,g]}),e[16]=o,e[17]=c,e[18]=u,e[19]=g,e[20]=y):y=e[20];let v;return e[21]!==s||e[22]!==y?(v=l.jsx(s,{children:y}),e[21]=s,e[22]=y,e[23]=v):v=e[23],v};function kVe(t){return t.palette.mode==="dark"?"rgba(33, 150, 243, 0.05)":"rgba(33, 150, 243, 0.02)"}function IVe(t){return t.palette.mode==="dark"?"rgba(33, 150, 243, 0.15)":"rgba(33, 150, 243, 0.08)"}const w6={exclude:{color:"#f44336","&.Mui-selected":{backgroundColor:"rgba(244, 67, 54, 0.12)",borderColor:"#f44336 !important",color:"#f44336",fontWeight:600,"&:hover":{backgroundColor:"rgba(244, 67, 54, 0.2)"}}},or:{color:"#2196f3","&.Mui-selected":{backgroundColor:"rgba(33, 150, 243, 0.12)",borderColor:"#2196f3 !important",color:"#2196f3",fontWeight:600,"&:hover":{backgroundColor:"rgba(33, 150, 243, 0.2)"}}},and:{color:"#4caf50","&.Mui-selected":{backgroundColor:"rgba(76, 175, 80, 0.12)",borderColor:"#4caf50 !important",color:"#4caf50",fontWeight:600,"&:hover":{backgroundColor:"rgba(76, 175, 80, 0.2)"}}}},nH={positive_prompt:["prompt_contains","prompt_regex"],negative_prompt:["negative_prompt_contains","negative_prompt_regex"],auto_tag:["auto_tag_exists","auto_tag_has_character","auto_tag_rating","auto_tag_rating_score","auto_tag_general","auto_tag_character","auto_tag_model"],basic:["ai_tool","model_name"]},NVe=t=>{const e=yt.c(104),{open:n,onClose:a,onAdd:i,initialData:r}=t,{t:o}=ht("common"),[s,c]=E.useState(null),[u,d]=E.useState(null),[h,m]=E.useState(""),[g,y]=E.useState(""),[v,S]=E.useState(0),[w,_]=E.useState(1),[T,A]=E.useState("general");let R,I;e[0]!==r||e[1]!==n?(R=()=>{n&&r&&(c(r.groupType),d(r.condition.category),m(r.condition.type),y(r.condition.value),S(r.condition.min_score??0),_(r.condition.max_score??1),A(r.condition.rating_type??"general"))},I=[n,r],e[0]=r,e[1]=n,e[2]=R,e[3]=I):(R=e[2],I=e[3]),E.useEffect(R,I);let N,P;e[4]!==r||e[5]!==u?(N=()=>{if(u&&!r){const Fe=nH[u][0];m(Fe),y(Fe==="auto_tag_exists"||Fe==="auto_tag_has_character"?!0:""),S(0),_(1),A("general")}},P=[u,r],e[4]=r,e[5]=u,e[6]=N,e[7]=P):(N=e[6],P=e[7]),E.useEffect(N,P);let O;e[8]!==a?(O=()=>{c(null),d(null),m(""),y(""),S(0),_(1),A("general"),a()},e[8]=a,e[9]=O):O=e[9];const D=O;let H;e[10]===Symbol.for("react.memo_cache_sentinel")?(H=(Fe,Ve)=>{Ve!==null&&c(Ve)},e[10]=H):H=e[10];const L=H;let $;e[11]===Symbol.for("react.memo_cache_sentinel")?($=(Fe,Ve)=>{Ve!==null&&d(Ve)},e[11]=$):$=e[11];const M=$;let z;e[12]===Symbol.for("react.memo_cache_sentinel")?(z=Fe=>{m(Fe),y(Fe==="auto_tag_exists"||Fe==="auto_tag_has_character"||Fe==="auto_tag_rating_score"?!0:"")},e[12]=z):z=e[12];const F=z;let G;e[13]!==h||e[14]!==g||e[15]!==D||e[16]!==w||e[17]!==v||e[18]!==i||e[19]!==T||e[20]!==u||e[21]!==s?(G=()=>{if(!s||!u||!h)return;const Fe={category:u,type:h,value:g};h==="auto_tag_rating"?(Fe.rating_type=T,Fe.min_score=v,Fe.max_score=w):(h==="auto_tag_general"||h==="auto_tag_character"||h==="auto_tag_rating_score")&&(Fe.min_score=v,Fe.max_score=w),i(s,Fe),D()},e[13]=h,e[14]=g,e[15]=D,e[16]=w,e[17]=v,e[18]=i,e[19]=T,e[20]=u,e[21]=s,e[22]=G):G=e[22];const ee=G;let V;e[23]!==h||e[24]!==g||e[25]!==u||e[26]!==s?(V=()=>!s||!u||!h?!1:h==="auto_tag_exists"||h==="auto_tag_has_character"||h==="auto_tag_rating_score"||h==="auto_tag_rating"?!0:typeof g=="string"?g.trim().length>0:!1,e[23]=h,e[24]=g,e[25]=u,e[26]=s,e[27]=V):V=e[27];const Y=V;let K;e[28]!==h||e[29]!==g||e[30]!==w||e[31]!==v||e[32]!==T||e[33]!==u||e[34]!==o?(K=()=>u?l.jsxs(Z,{children:[l.jsxs(ri,{fullWidth:!0,sx:{mb:2},children:[l.jsx(Nr,{children:o("filterModal.conditionSettings.conditionType")}),l.jsx(Xi,{value:h,label:o("filterModal.conditionSettings.conditionType"),onChange:Fe=>F(Fe.target.value),children:nH[u].map(Fe=>l.jsx(nn,{value:Fe,children:o(`filterModal.conditionTypes.${Fe}`)},Fe))})]}),(h==="auto_tag_exists"||h==="auto_tag_has_character")&&l.jsx(wn,{control:l.jsx(Ai,{checked:!!g,onChange:Fe=>y(Fe.target.checked)}),label:o(g?"filterModal.fields.exists":"filterModal.fields.notExists")}),h==="auto_tag_rating"&&l.jsxs(l.Fragment,{children:[l.jsxs(ri,{fullWidth:!0,sx:{mb:2},children:[l.jsx(Nr,{children:o("filterModal.fields.ratingType")}),l.jsxs(Xi,{value:T,label:o("filterModal.fields.ratingType"),onChange:Fe=>A(Fe.target.value),children:[l.jsx(nn,{value:"general",children:o("filterModal.ratingTypes.general")}),l.jsx(nn,{value:"sensitive",children:o("filterModal.ratingTypes.sensitive")}),l.jsx(nn,{value:"questionable",children:o("filterModal.ratingTypes.questionable")}),l.jsx(nn,{value:"explicit",children:o("filterModal.ratingTypes.explicit")})]})]}),l.jsxs(Z,{children:[l.jsx(ie,{variant:"body2",gutterBottom:!0,children:o("filterModal.fields.scoreRange",{min:v.toFixed(2),max:w.toFixed(2)})}),l.jsx(ki,{value:[v,w],onChange:(Fe,Ve)=>{const[rt,at]=Ve;S(rt),_(at)},min:0,max:1,step:.05,valueLabelDisplay:"auto",marks:!0})]})]}),(h==="auto_tag_general"||h==="auto_tag_character")&&l.jsxs(l.Fragment,{children:[l.jsx(Tt,{fullWidth:!0,label:o("filterModal.fields.tagOrCharacter"),value:g,onChange:Fe=>y(Fe.target.value),placeholder:o("filterModal.fields.tagPlaceholder"),sx:{mb:2}}),l.jsxs(Z,{children:[l.jsx(ie,{variant:"body2",gutterBottom:!0,children:o("filterModal.fields.weightRange",{min:v.toFixed(2),max:w.toFixed(2)})}),l.jsx(ki,{value:[v,w],onChange:(Fe,Ve)=>{const[rt,at]=Ve;S(rt),_(at)},min:0,max:1,step:.05,valueLabelDisplay:"auto",marks:!0})]})]}),h==="auto_tag_rating_score"&&l.jsxs(Z,{children:[l.jsx(ie,{variant:"body2",gutterBottom:!0,children:o("filterModal.fields.scoreRange",{min:v.toFixed(2),max:w.toFixed(2)})}),l.jsx(ki,{value:[v,w],onChange:(Fe,Ve)=>{const[rt,at]=Ve;S(rt),_(at)},min:0,max:1,step:.05,valueLabelDisplay:"auto",marks:!0})]}),h!=="auto_tag_exists"&&h!=="auto_tag_has_character"&&h!=="auto_tag_rating"&&h!=="auto_tag_general"&&h!=="auto_tag_character"&&h!=="auto_tag_rating_score"&&l.jsx(Tt,{fullWidth:!0,label:o("filterModal.conditionSettings.value"),value:g,onChange:Fe=>y(Fe.target.value),placeholder:o("filterModal.conditionSettings.valuePlaceholder")})]}):null,e[28]=h,e[29]=g,e[30]=w,e[31]=v,e[32]=T,e[33]=u,e[34]=o,e[35]=K):K=e[35];const J=K;let W;e[36]!==r||e[37]!==o?(W=o(r?"filterModal.title.edit":"filterModal.title.add"),e[36]=r,e[37]=o,e[38]=W):W=e[38];let te;e[39]!==W?(te=l.jsx(Un,{children:l.jsx(ie,{variant:"h6",fontWeight:600,children:W})}),e[39]=W,e[40]=te):te=e[40];let re;e[41]===Symbol.for("react.memo_cache_sentinel")?(re={mb:3},e[41]=re):re=e[41];let ne;e[42]!==o?(ne=o("filterModal.groupTypes.label"),e[42]=o,e[43]=ne):ne=e[43];let ce;e[44]!==ne?(ce=l.jsx(ie,{variant:"subtitle2",gutterBottom:!0,fontWeight:500,children:ne}),e[44]=ne,e[45]=ce):ce=e[45];let pe;e[46]===Symbol.for("react.memo_cache_sentinel")?(pe={mt:1},e[46]=pe):pe=e[46];let me;e[47]===Symbol.for("react.memo_cache_sentinel")?(me=l.jsx(jQ,{sx:{mr:.5,fontSize:"1.2rem"}}),e[47]=me):me=e[47];let ge;e[48]!==o?(ge=o("filterModal.groupTypes.exclude"),e[48]=o,e[49]=ge):ge=e[49];let ye;e[50]!==ge?(ye=l.jsxs(of,{value:"exclude",sx:w6.exclude,children:[me,ge]}),e[50]=ge,e[51]=ye):ye=e[51];let he;e[52]===Symbol.for("react.memo_cache_sentinel")?(he=l.jsx(nD,{sx:{mr:.5,fontSize:"1.2rem"}}),e[52]=he):he=e[52];let de;e[53]!==o?(de=o("filterModal.groupTypes.or"),e[53]=o,e[54]=de):de=e[54];let fe;e[55]!==de?(fe=l.jsxs(of,{value:"or",sx:w6.or,children:[he,de]}),e[55]=de,e[56]=fe):fe=e[56];let oe;e[57]===Symbol.for("react.memo_cache_sentinel")?(oe=l.jsx(BQ,{sx:{mr:.5,fontSize:"1.2rem"}}),e[57]=oe):oe=e[57];let ue;e[58]!==o?(ue=o("filterModal.groupTypes.and"),e[58]=o,e[59]=ue):ue=e[59];let le;e[60]!==ue?(le=l.jsxs(of,{value:"and",sx:w6.and,children:[oe,ue]}),e[60]=ue,e[61]=le):le=e[61];let Se;e[62]!==s||e[63]!==ye||e[64]!==fe||e[65]!==le?(Se=l.jsxs(NQ,{value:s,exclusive:!0,onChange:L,fullWidth:!0,sx:pe,children:[ye,fe,le]}),e[62]=s,e[63]=ye,e[64]=fe,e[65]=le,e[66]=Se):Se=e[66];let _e;e[67]!==ce||e[68]!==Se?(_e=l.jsxs(Z,{sx:re,children:[ce,Se]}),e[67]=ce,e[68]=Se,e[69]=_e):_e=e[69];let Ie;e[70]!==u||e[71]!==s||e[72]!==o?(Ie=s&&l.jsxs(Z,{sx:{mb:3},children:[l.jsx(ie,{variant:"subtitle2",gutterBottom:!0,fontWeight:500,children:o("filterModal.categories.label")}),l.jsxs(dn,{container:!0,spacing:1,sx:{mt:1},children:[l.jsx(dn,{size:{xs:6,sm:3},children:l.jsx(of,{value:"positive_prompt",selected:u==="positive_prompt",onChange:M,fullWidth:!0,sx:{py:1.5},children:o("filterModal.categories.positive_prompt")})}),l.jsx(dn,{size:{xs:6,sm:3},children:l.jsx(of,{value:"negative_prompt",selected:u==="negative_prompt",onChange:M,fullWidth:!0,sx:{py:1.5},children:o("filterModal.categories.negative_prompt")})}),l.jsx(dn,{size:{xs:6,sm:3},children:l.jsx(of,{value:"auto_tag",selected:u==="auto_tag",onChange:M,fullWidth:!0,sx:{py:1.5},children:o("filterModal.categories.auto_tag")})}),l.jsx(dn,{size:{xs:6,sm:3},children:l.jsx(of,{value:"basic",selected:u==="basic",onChange:M,fullWidth:!0,sx:{py:1.5},children:o("filterModal.categories.basic")})})]})]}),e[70]=u,e[71]=s,e[72]=o,e[73]=Ie):Ie=e[73];let ze;e[74]!==J||e[75]!==u||e[76]!==o?(ze=u&&l.jsxs(l.Fragment,{children:[l.jsx(fn,{sx:{my:3}}),l.jsxs(Z,{children:[l.jsx(ie,{variant:"subtitle2",gutterBottom:!0,fontWeight:500,sx:{mb:2},children:o("filterModal.conditionSettings.label")}),J()]})]}),e[74]=J,e[75]=u,e[76]=o,e[77]=ze):ze=e[77];let Me;e[78]!==_e||e[79]!==Ie||e[80]!==ze?(Me=l.jsxs($n,{children:[_e,Ie,ze]}),e[78]=_e,e[79]=Ie,e[80]=ze,e[81]=Me):Me=e[81];let Ze;e[82]===Symbol.for("react.memo_cache_sentinel")?(Ze={px:3,pb:2},e[82]=Ze):Ze=e[82];let Ee;e[83]!==o?(Ee=o("buttons.cancel"),e[83]=o,e[84]=Ee):Ee=e[84];let Ne;e[85]!==D||e[86]!==Ee?(Ne=l.jsx(Ue,{onClick:D,children:Ee}),e[85]=D,e[86]=Ee,e[87]=Ne):Ne=e[87];const ve=!Y();let we;e[88]!==r||e[89]!==o?(we=o(r?"buttons.edit":"buttons.add"),e[88]=r,e[89]=o,e[90]=we):we=e[90];let Oe;e[91]!==ee||e[92]!==ve||e[93]!==we?(Oe=l.jsx(Ue,{variant:"contained",onClick:ee,disabled:ve,children:we}),e[91]=ee,e[92]=ve,e[93]=we,e[94]=Oe):Oe=e[94];let Le;e[95]!==Ne||e[96]!==Oe?(Le=l.jsxs(Wn,{sx:Ze,children:[Ne,Oe]}),e[95]=Ne,e[96]=Oe,e[97]=Le):Le=e[97];let We;return e[98]!==D||e[99]!==n||e[100]!==te||e[101]!==Me||e[102]!==Le?(We=l.jsxs(Fn,{open:n,onClose:D,maxWidth:"sm",fullWidth:!0,disableRestoreFocus:!0,children:[te,Me,Le]}),e[98]=D,e[99]=n,e[100]=te,e[101]=Me,e[102]=Le,e[103]=We):We=e[103],We},See=t=>{const e=yt.c(26),{filterBlocks:n,onAddBlock:a,onRemoveBlock:i,onEditBlock:r,showHeader:o}=t,s=o===void 0?!1:o,[c,u]=E.useState(!1),[d,h]=E.useState(null),[m,g]=E.useState(null);let y;e[0]===Symbol.for("react.memo_cache_sentinel")?(y=()=>{h(null),g(null),u(!0)},e[0]=y):y=e[0];const v=y;let S;e[1]===Symbol.for("react.memo_cache_sentinel")?(S=()=>{u(!1),h(null),g(null)},e[1]=S):S=e[1];const w=S;let _;e[2]!==n?(_=$=>{const M=n.find(z=>z.id===$);M&&(h($),g(M),u(!0))},e[2]=n,e[3]=_):_=e[3];const T=_;let A;e[4]!==d||e[5]!==a||e[6]!==r?(A=($,M)=>{d?r(d,$,M):a($,M)},e[4]=d,e[5]=a,e[6]=r,e[7]=A):A=e[7];const R=A,I=jVe;let N;e[8]===Symbol.for("react.memo_cache_sentinel")?(N={py:2},e[8]=N):N=e[8];let P;e[9]!==n.length||e[10]!==s?(P=s&&l.jsxs(Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2,p:1.5,backgroundColor:DVe,borderRadius:1,border:"1px solid",borderColor:OVe},children:[l.jsxs(Z,{children:[l.jsx(ie,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:"  "}),l.jsx(ie,{variant:"body2",color:"text.secondary",children:n.length>0?`${n.length}      :   OR  AND`:"    "})]}),l.jsx(jt,{title:"  ",arrow:!0,children:l.jsx(lt,{onClick:I,size:"small",color:"primary",children:l.jsx(G1,{})})})]}),e[9]=n.length,e[10]=s,e[11]=P):P=e[11];let O;e[12]!==n||e[13]!==T||e[14]!==i?(O=l.jsx(RVe,{blocks:n,onRemove:i,onEdit:T,onAdd:v}),e[12]=n,e[13]=T,e[14]=i,e[15]=O):O=e[15];let D;e[16]!==m?(D=m?{groupType:m.groupType,condition:m.condition}:void 0,e[16]=m,e[17]=D):D=e[17];let H;e[18]!==R||e[19]!==c||e[20]!==D?(H=l.jsx(NVe,{open:c,onClose:w,onAdd:R,initialData:D}),e[18]=R,e[19]=c,e[20]=D,e[21]=H):H=e[21];let L;return e[22]!==H||e[23]!==P||e[24]!==O?(L=l.jsxs(Z,{sx:N,children:[P,O,H]}),e[22]=H,e[23]=P,e[24]=O,e[25]=L):L=e[25],L};function jVe(){window.open("/help?page=filters#/help","_blank")}function DVe(t){return t.palette.mode==="dark"?"rgb(7, 19, 24)":"rgb(229, 246, 253)"}function OVe(t){return t.palette.mode==="dark","rgb(1, 67, 97)"}const aH=t=>{const e=yt.c(9),{children:n,value:a,index:i}=t,r=a!==i,o=`search-tabpanel-${i}`,s=`search-tab-${i}`;let c;e[0]!==n||e[1]!==i||e[2]!==a?(c=a===i&&l.jsx(Z,{children:n}),e[0]=n,e[1]=i,e[2]=a,e[3]=c):c=e[3];let u;return e[4]!==r||e[5]!==o||e[6]!==s||e[7]!==c?(u=l.jsx("div",{role:"tabpanel",hidden:r,id:o,"aria-labelledby":s,children:c}),e[4]=r,e[5]=o,e[6]=s,e[7]=c,e[8]=u):u=e[8],u},MVe=t=>{const e=yt.c(64),{onSearch:n,loading:a}=t,i=a===void 0?!1:a,[r,o]=E.useState(0),[s,c]=E.useState("");let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=[],e[0]=u):u=e[0];const[d,h]=E.useState(u),[m,g]=E.useState(null);let y;e[1]!==d?(y=(ue,le)=>{const Se={id:`${Date.now()}-${Math.random()}`,groupType:ue,condition:le};h([...d,Se])},e[1]=d,e[2]=y):y=e[2];const v=y;let S;e[3]!==d?(S=(ue,le,Se)=>{h(d.map(_e=>_e.id===ue?{..._e,groupType:le,condition:Se}:_e))},e[3]=d,e[4]=S):S=e[4];const w=S;let _;e[5]!==d?(_=ue=>{h(d.filter(le=>le.id!==ue))},e[5]=d,e[6]=_):_=e[6];const T=_,A=PVe;let R;e[7]!==r||e[8]!==d||e[9]!==n||e[10]!==s?(R=()=>{if(g(null),r===0){if(!s.trim()){g(" ");return}const ue={simple_search:{text:s.trim()},page:1,limit:25};n(ue)}else{if(d.length===0){g("   ");return}for(let Ie=0;Ie<d.length;Ie++){const ze=A(d[Ie].condition);if(ze){g(` ${Ie+1}: ${ze}`);return}}const ue=d.filter(LVe).map(zVe),le=d.filter(FVe).map(BVe),Se=d.filter(HVe).map($Ve),_e={complex_filter:{exclude_group:ue.length>0?ue:void 0,or_group:le.length>0?le:void 0,and_group:Se.length>0?Se:void 0},page:1,limit:25};n(_e)}},e[7]=r,e[8]=d,e[9]=n,e[10]=s,e[11]=R):R=e[11];const I=R;let N;e[12]!==r?(N=()=>{r===0?c(""):h([])},e[12]=r,e[13]=N):N=e[13];const P=N;let O;e[14]!==I?(O=ue=>{ue.key==="Enter"&&I()},e[14]=I,e[15]=O):O=e[15];const D=O;let H;e[16]!==r||e[17]!==d.length||e[18]!==s?(H=r===0?s.trim().length>0:d.length>0,e[16]=r,e[17]=d.length,e[18]=s,e[19]=H):H=e[19];const L=H;let $;e[20]===Symbol.for("react.memo_cache_sentinel")?($={p:3},e[20]=$):$=e[20];let M;e[21]!==m?(M=m&&l.jsx(Z,{sx:{mb:2,p:2,bgcolor:"error.light",color:"error.contrastText",borderRadius:1},children:l.jsx(ie,{variant:"body2",children:m})}),e[21]=m,e[22]=M):M=e[22];let z;e[23]===Symbol.for("react.memo_cache_sentinel")?(z=(ue,le)=>{o(le),g(null)},e[23]=z):z=e[23];let F,G,ee;e[24]===Symbol.for("react.memo_cache_sentinel")?(F={borderBottom:1,borderColor:"divider",mb:2},G=l.jsx(Cn,{label:" ",id:"search-tab-0","aria-controls":"search-tabpanel-0"}),ee=l.jsx(Cn,{label:" ",id:"search-tab-1","aria-controls":"search-tabpanel-1"}),e[24]=F,e[25]=G,e[26]=ee):(F=e[24],G=e[25],ee=e[26]);let V;e[27]!==r?(V=l.jsxs(No,{value:r,onChange:z,"aria-label":"search tabs",sx:F,children:[G,ee]}),e[27]=r,e[28]=V):V=e[28];let Y;e[29]!==D||e[30]!==s?(Y=l.jsx(wVe,{searchText:s,onSearchTextChange:c,onKeyPress:D}),e[29]=D,e[30]=s,e[31]=Y):Y=e[31];let K;e[32]!==r||e[33]!==Y?(K=l.jsx(aH,{value:r,index:0,children:Y}),e[32]=r,e[33]=Y,e[34]=K):K=e[34];let J;e[35]!==d||e[36]!==v||e[37]!==w||e[38]!==T?(J=l.jsx(See,{filterBlocks:d,onAddBlock:v,onRemoveBlock:T,onEditBlock:w,showHeader:!0}),e[35]=d,e[36]=v,e[37]=w,e[38]=T,e[39]=J):J=e[39];let W;e[40]!==r||e[41]!==J?(W=l.jsx(aH,{value:r,index:1,children:J}),e[40]=r,e[41]=J,e[42]=W):W=e[42];let te;e[43]===Symbol.for("react.memo_cache_sentinel")?(te={mt:3,alignItems:"center"},e[43]=te):te=e[43];let re;e[44]===Symbol.for("react.memo_cache_sentinel")?(re=l.jsx(Wc,{}),e[44]=re):re=e[44];const ne=i||!L;let ce;e[45]===Symbol.for("react.memo_cache_sentinel")?(ce={py:1},e[45]=ce):ce=e[45];const pe=i?" ...":"";let me;e[46]!==I||e[47]!==ne||e[48]!==pe?(me=l.jsx(Ue,{variant:"contained",size:"medium",startIcon:re,onClick:I,disabled:ne,fullWidth:!0,sx:ce,children:pe}),e[46]=I,e[47]=ne,e[48]=pe,e[49]=me):me=e[49];const ge=i||!L;let ye,he;e[50]===Symbol.for("react.memo_cache_sentinel")?(ye={border:"1px solid",borderColor:"divider","&:hover":{backgroundColor:"action.hover"}},he=l.jsx(Db,{}),e[50]=ye,e[51]=he):(ye=e[50],he=e[51]);let de;e[52]!==P||e[53]!==ge?(de=l.jsx(jt,{title:"",arrow:!0,children:l.jsx("span",{children:l.jsx(lt,{onClick:P,disabled:ge,color:"default",sx:ye,children:he})})}),e[52]=P,e[53]=ge,e[54]=de):de=e[54];let fe;e[55]!==me||e[56]!==de?(fe=l.jsxs(cn,{direction:"row",spacing:2,sx:te,children:[me,de]}),e[55]=me,e[56]=de,e[57]=fe):fe=e[57];let oe;return e[58]!==M||e[59]!==V||e[60]!==K||e[61]!==W||e[62]!==fe?(oe=l.jsxs(Gt,{elevation:2,sx:$,children:[M,V,K,W,fe]}),e[58]=M,e[59]=V,e[60]=K,e[61]=W,e[62]=fe,e[63]=oe):oe=e[63],oe};function PVe(t){if(t.type==="auto_tag_exists"||t.type==="auto_tag_has_character"){if(typeof t.value!="boolean")return"  / "}else if(t.type==="auto_tag_general"||t.type==="auto_tag_character"||t.type==="prompt_contains"||t.type==="prompt_regex"||t.type==="negative_prompt_contains"||t.type==="negative_prompt_regex"||t.type==="ai_tool"||t.type==="model_name"||t.type==="auto_tag_model"){if(!t.value||typeof t.value=="string"&&t.value.trim()==="")return"  "}else if((t.type==="auto_tag_rating"||t.type==="auto_tag_rating_score")&&t.min_score===void 0&&t.max_score===void 0)return"     ";return null}function LVe(t){return t.groupType==="exclude"}function zVe(t){return t.condition}function FVe(t){return t.groupType==="or"}function BVe(t){return t.condition}function HVe(t){return t.groupType==="and"}function $Ve(t){return t.condition}const UVe=()=>{const[t,e]=E.useState([]),[n,a]=E.useState(!1),[i,r]=E.useState(null),[o,s]=E.useState(1),[c,u]=E.useState(25),[d,h]=E.useState(0),[m,g]=E.useState(0),[y,v]=E.useState(null),[S,w]=E.useState(null),[_,T]=E.useState(null),[A,R]=E.useState([]),I=E.useCallback(async($,M)=>{a(!0),r(null);const z={...$,page:$.page||1,limit:$.limit||c};try{let F;if(M){const G={...M,page:z.page,limit:z.limit};F=await bi.searchByAutoTags(G),w(G)}else F=await bi.searchImages(z),w(null);F.success&&F.data?(e(F.data.images),h(F.data.totalPages),g(F.data.total),s(F.data.page),v(z)):(r(F.error||" ."),e([]),g(0),h(0))}catch(F){r("   ."),e([]),g(0),h(0),console.error("Search error:",F)}finally{a(!1)}},[c]),N=E.useCallback(async $=>{a(!0),r(null);const M={...$,page:$.page||1,limit:$.limit||c};try{const[z,F]=await Promise.all([bi.searchComplex(M),bi.searchComplexIds(M)]);z.success&&z.data?(e(z.data.images),h(z.data.totalPages),g(z.data.total),s(z.data.page),T(M),v(null),w(null),F.success&&F.data&&R(F.data.composite_hashes)):(r(z.error||" ."),e([]),g(0),h(0),R([]))}catch(z){const F=z.response?.data?.error||z.message||"   .";r(F),e([]),g(0),h(0),R([]),console.error("Complex search error:",{message:z.message,response:z.response?.data,request:M})}finally{a(!1)}},[c]),P=E.useCallback($=>{if(_){const M={..._,page:$};N(M)}else if(y){const M={...y,page:$};I(M,S||void 0)}},[_,y,S,N,I]),O=E.useCallback($=>{if(u($),_){const M={..._,page:1,limit:$};N(M)}else if(y){const M={...y,page:1,limit:$};I(M,S||void 0)}localStorage.setItem("searchPageSize",$.toString())},[_,y,S,N,I]),D=E.useCallback(async $=>{a(!0);try{await bi.deleteImages($),_?await N(_):y&&await I(y,S||void 0)}catch(M){r("  ."),console.error("Error deleting images:",M)}finally{a(!1)}},[_,y,S,N,I]),H=E.useCallback(()=>{_?N(_):y&&I(y,S||void 0)},[_,y,S,N,I]),L=E.useCallback(()=>{e([]),g(0),h(0),s(1),v(null),w(null),T(null),r(null)},[]);return ke.useEffect(()=>{const $=localStorage.getItem("searchPageSize");if($){const M=parseInt($);[25,50,100].includes(M)&&u(M)}},[]),{images:t,loading:n,error:i,currentPage:o,pageSize:c,totalPages:d,total:m,lastSearchParams:y,lastComplexRequest:_,allResultIds:A,searchImages:I,searchComplex:N,changePage:P,changePageSize:O,deleteImages:D,refreshSearch:H,clearSearch:L}},GVe=()=>{const t=yt.c(77);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=["search","common"],t[0]=e):e=t[0];const{t:n}=ht(e),{images:a,loading:i,error:r,currentPage:o,pageSize:s,totalPages:c,total:u,lastSearchParams:d,lastComplexRequest:h,searchComplex:m,changePage:g,changePageSize:y,deleteImages:v,refreshSearch:S,clearSearch:w}=UVe(),{selectedIds:_,toggleSelection:T,selectAll:A,deselectAll:R,selectedCount:I}=vee();let N;t[1]!==R||t[2]!==m?(N=de=>{R(),m(de)},t[1]=R,t[2]=m,t[3]=N):N=t[3];const P=N;let O;t[4]!==R||t[5]!==a.length||t[6]!==A||t[7]!==_||t[8]!==T?(O=de=>{if(de.length===0)R();else if(de.length===a.length)A(de);else{const fe=de.find(ue=>!_.includes(ue)),oe=_.find(ue=>!de.includes(ue));fe?T(fe):oe&&T(oe)}},t[4]=R,t[5]=a.length,t[6]=A,t[7]=_,t[8]=T,t[9]=O):O=t[9];const D=O;let H;t[10]!==v||t[11]!==a||t[12]!==_||t[13]!==T?(H=async de=>{await v([de]);const fe=a.find(oe=>oe.composite_hash===de);fe?.id&&_.includes(fe.id)&&T(fe.id)},t[10]=v,t[11]=a,t[12]=_,t[13]=T,t[14]=H):H=t[14];const L=H;let $;t[15]!==R||t[16]!==S?($=()=>{R(),S()},t[15]=R,t[16]=S,t[17]=$):$=t[17];const M=$,z=d!==null||h!==null,F=a.length>0;let G;t[18]===Symbol.for("react.memo_cache_sentinel")?(G={width:"100%"},t[18]=G):G=t[18];let ee;t[19]===Symbol.for("react.memo_cache_sentinel")?(ee={mb:{xs:2,sm:3}},t[19]=ee):ee=t[19];let V;t[20]===Symbol.for("react.memo_cache_sentinel")?(V={fontSize:{xs:"1.75rem",sm:"2rem",md:"2.25rem"},fontWeight:600},t[20]=V):V=t[20];let Y;t[21]!==n?(Y=n("search:title"),t[21]=n,t[22]=Y):Y=t[22];let K;t[23]!==Y?(K=l.jsx(ie,{variant:"h4",component:"h1",gutterBottom:!0,sx:V,children:Y}),t[23]=Y,t[24]=K):K=t[24];let J;t[25]===Symbol.for("react.memo_cache_sentinel")?(J={fontSize:{xs:"0.875rem",sm:"1rem"}},t[25]=J):J=t[25];let W;t[26]!==n?(W=n("search:description"),t[26]=n,t[27]=W):W=t[27];let te;t[28]!==W?(te=l.jsx(ie,{variant:"body1",color:"text.secondary",sx:J,children:W}),t[28]=W,t[29]=te):te=t[29];let re;t[30]!==te||t[31]!==K?(re=l.jsxs(Z,{sx:ee,children:[K,te]}),t[30]=te,t[31]=K,t[32]=re):re=t[32];let ne;t[33]===Symbol.for("react.memo_cache_sentinel")?(ne={mb:{xs:2,sm:3}},t[33]=ne):ne=t[33];let ce;t[34]!==P||t[35]!==i?(ce=l.jsx(Z,{sx:ne,children:l.jsx(MVe,{onSearch:P,loading:i})}),t[34]=P,t[35]=i,t[36]=ce):ce=t[36];let pe;t[37]!==w||t[38]!==F||t[39]!==z||t[40]!==i||t[41]!==S||t[42]!==n||t[43]!==u?(pe=z&&l.jsx(Z,{sx:{mb:{xs:2,sm:3}},children:l.jsxs(cn,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"stretch",sm:"center"},spacing:2,children:[l.jsxs(Z,{children:[l.jsx(ie,{variant:"h6",children:n("search:results.title")}),l.jsx(ie,{variant:"body2",color:"text.secondary",children:i?n("search:results.searching"):n("search:results.found",{count:u})})]}),l.jsxs(Z,{sx:{display:"flex",gap:1},children:[l.jsx(Ue,{variant:"outlined",size:"small",onClick:w,startIcon:l.jsx(Db,{}),children:n("search:results.reset")}),F&&l.jsx(Ue,{variant:"outlined",size:"small",onClick:S,disabled:i,startIcon:l.jsx(jo,{}),children:n("search:results.refresh")})]})]})}),t[37]=w,t[38]=F,t[39]=z,t[40]=i,t[41]=S,t[42]=n,t[43]=u,t[44]=pe):pe=t[44];let me;t[45]!==r?(me=r&&l.jsx(xt,{severity:"error",sx:{mb:{xs:2,sm:3},borderRadius:2},children:r}),t[45]=r,t[46]=me):me=t[46];let ge;t[47]!==g||t[48]!==y||t[49]!==o||t[50]!==L||t[51]!==D||t[52]!==F||t[53]!==z||t[54]!==a||t[55]!==d||t[56]!==i||t[57]!==s||t[58]!==_||t[59]!==n||t[60]!==u||t[61]!==c?(ge=z?F?l.jsx(l5,{images:a,loading:i,selectable:!0,selectedIds:_,onSelectionChange:D,pageSize:s,onPageSizeChange:y,currentPage:o,totalPages:c,total:u,onPageChange:g,onImageDelete:L,searchParams:d||void 0}):i?null:l.jsxs(Z,{sx:{textAlign:"center",py:8},children:[l.jsx(ie,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:n("search:results.noResults")}),l.jsx(ie,{variant:"body2",color:"text.secondary",children:n("search:results.noResultsHint")})]}):l.jsxs(Z,{sx:{textAlign:"center",py:8},children:[l.jsx(ie,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:n("search:results.initialMessage")}),l.jsx(ie,{variant:"body2",color:"text.secondary",children:n("search:results.initialHint")})]}),t[47]=g,t[48]=y,t[49]=o,t[50]=L,t[51]=D,t[52]=F,t[53]=z,t[54]=a,t[55]=d,t[56]=i,t[57]=s,t[58]=_,t[59]=n,t[60]=u,t[61]=c,t[62]=ge):ge=t[62];let ye;t[63]!==R||t[64]!==M||t[65]!==F||t[66]!==a||t[67]!==I||t[68]!==_?(ye=F&&l.jsx(vD,{selectedCount:I,selectedIds:_,selectedImages:a.filter(de=>de.id&&_.includes(de.id)),onSelectionClear:R,onActionComplete:M}),t[63]=R,t[64]=M,t[65]=F,t[66]=a,t[67]=I,t[68]=_,t[69]=ye):ye=t[69];let he;return t[70]!==re||t[71]!==ce||t[72]!==pe||t[73]!==me||t[74]!==ge||t[75]!==ye?(he=l.jsxs(Z,{sx:G,children:[re,ce,pe,me,ge,ye]}),t[70]=re,t[71]=ce,t[72]=pe,t[73]=me,t[74]=ge,t[75]=ye,t[76]=he):he=t[76],he},qVe=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],WVe=t=>{const e=yt.c(55),{formData:n,onFormChange:a,availableParents:i,currentGroupId:r,isEditMode:o}=t;let s;e[0]!==i?(s=i===void 0?[]:i,e[0]=i,e[1]=s):s=e[1];const c=s,u=o===void 0?!1:o;let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=["imageGroups"],e[2]=d):d=e[2];const{t:h}=ht(d);let m;e[3]!==h?(m=h("imageGroups:modal.groupName"),e[3]=h,e[4]=m):m=e[4];let g;e[5]!==a?(g=G=>a("name",G.target.value),e[5]=a,e[6]=g):g=e[6];let y;e[7]===Symbol.for("react.memo_cache_sentinel")?(y={mb:2},e[7]=y):y=e[7];let v;e[8]!==n.name||e[9]!==m||e[10]!==g?(v=l.jsx(Tt,{label:m,fullWidth:!0,required:!0,value:n.name,onChange:g,sx:y,autoFocus:!0}),e[8]=n.name,e[9]=m,e[10]=g,e[11]=v):v=e[11];let S;e[12]!==h?(S=h("imageGroups:modal.description"),e[12]=h,e[13]=S):S=e[13];let w;e[14]!==a?(w=G=>a("description",G.target.value),e[14]=a,e[15]=w):w=e[15];let _;e[16]===Symbol.for("react.memo_cache_sentinel")?(_={mb:2},e[16]=_):_=e[16];let T;e[17]!==n.description||e[18]!==w||e[19]!==S?(T=l.jsx(Tt,{label:S,fullWidth:!0,multiline:!0,rows:3,value:n.description,onChange:w,sx:_}),e[17]=n.description,e[18]=w,e[19]=S,e[20]=T):T=e[20];const A=n.parent_id;let R;e[21]!==a?(R=G=>a("parent_id",G),e[21]=a,e[22]=R):R=e[22];let I;e[23]!==r||e[24]!==u?(I=u&&r?[r]:[],e[23]=r,e[24]=u,e[25]=I):I=e[25];let N;e[26]!==h?(N=h("imageGroups:modal.parentGroup"),e[26]=h,e[27]=N):N=e[27];let P;e[28]!==h?(P=h("imageGroups:modal.noParent"),e[28]=h,e[29]=P):P=e[29];let O;e[30]!==c||e[31]!==n.parent_id||e[32]!==R||e[33]!==I||e[34]!==N||e[35]!==P?(O=l.jsx(C$e,{groups:c,selectedParentId:A,onParentChange:R,excludeIds:I,label:N,noParentLabel:P}),e[30]=c,e[31]=n.parent_id,e[32]=R,e[33]=I,e[34]=N,e[35]=P,e[36]=O):O=e[36];let D;e[37]!==h?(D=h("imageGroups:modal.groupColor"),e[37]=h,e[38]=D):D=e[38];let H;e[39]!==D?(H=l.jsx(ie,{variant:"subtitle2",gutterBottom:!0,children:D}),e[39]=D,e[40]=H):H=e[40];let L;e[41]===Symbol.for("react.memo_cache_sentinel")?(L={display:"flex",flexWrap:"wrap",gap:1,mt:1},e[41]=L):L=e[41];let $;e[42]!==n.color||e[43]!==a?($=qVe.map(G=>l.jsx(Z,{sx:{width:40,height:40,backgroundColor:G,borderRadius:"50%",cursor:"pointer",border:n.color===G?"3px solid #000":"2px solid #e0e0e0",transition:"all 0.2s","&:hover":{transform:"scale(1.15)",boxShadow:2}},onClick:()=>a("color",G),role:"button","aria-label":`Select color ${G}`,tabIndex:0,onKeyDown:ee=>{(ee.key==="Enter"||ee.key===" ")&&a("color",G)}},G)),e[42]=n.color,e[43]=a,e[44]=$):$=e[44];let M;e[45]!==$?(M=l.jsx(Z,{sx:L,children:$}),e[45]=$,e[46]=M):M=e[46];let z;e[47]!==H||e[48]!==M?(z=l.jsxs(Z,{children:[H,M]}),e[47]=H,e[48]=M,e[49]=z):z=e[49];let F;return e[50]!==T||e[51]!==O||e[52]!==z||e[53]!==v?(F=l.jsxs(Z,{children:[v,T,O,z]}),e[50]=T,e[51]=O,e[52]=z,e[53]=v,e[54]=F):F=e[54],F},VVe=({enabled:t,conditions:e,onEnabledChange:n,onConditionsChange:a})=>{const{t:i}=ht(["imageGroups"]),[r,o]=E.useState(()=>{const m=[];let g=0;return e.exclude_group&&e.exclude_group.forEach(y=>{m.push({id:`exclude-${g++}`,groupType:"exclude",condition:y})}),e.or_group&&e.or_group.forEach(y=>{m.push({id:`or-${g++}`,groupType:"or",condition:y})}),e.and_group&&e.and_group.forEach(y=>{m.push({id:`and-${g++}`,groupType:"and",condition:y})}),m});ke.useEffect(()=>{const m=r.filter(S=>S.groupType==="exclude").map(S=>S.condition),g=r.filter(S=>S.groupType==="or").map(S=>S.condition),y=r.filter(S=>S.groupType==="and").map(S=>S.condition),v={exclude_group:m.length>0?m:void 0,or_group:g.length>0?g:void 0,and_group:y.length>0?y:void 0};a(v)},[r]);const s=(m,g)=>{const y={id:`${m}-${Date.now()}-${Math.random()}`,groupType:m,condition:g};o([...r,y])},c=(m,g,y)=>{o(r.map(v=>v.id===m?{...v,groupType:g,condition:y}:v))},u=m=>{o(r.filter(g=>g.id!==m))},d=()=>{window.open("/help?page=filters#/help","_blank")},h=t?(e.exclude_group?.length||0)+(e.or_group?.length||0)+(e.and_group?.length||0):0;return l.jsxs(Z,{children:[l.jsxs(Z,{sx:{mb:3},children:[l.jsx(wn,{control:l.jsx(Ai,{checked:t,onChange:m=>n(m.target.checked),color:"primary"}),label:l.jsx(ie,{variant:"subtitle1",fontWeight:500,children:i("imageGroups:modal.autoCollectEnable")})}),l.jsx(ie,{variant:"body2",color:"text.secondary",sx:{mt:1,ml:4},children:i("imageGroups:modal.autoCollectDescription")})]}),t&&l.jsxs(Z,{children:[l.jsxs(Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2,p:1.5,backgroundColor:m=>m.palette.mode==="dark"?"rgb(7, 19, 24)":"rgb(229, 246, 253)",borderRadius:1,border:"1px solid",borderColor:m=>(m.palette.mode==="dark","rgb(1, 67, 97)")},children:[l.jsx(ie,{variant:"body2",color:"text.secondary",children:h>0?i("imageGroups:modal.filterApplied",{count:h}):i("imageGroups:modal.addFiltersPrompt")}),l.jsx(jt,{title:i("imageGroups:modal.filterHelpTooltip"),arrow:!0,children:l.jsx(lt,{onClick:d,size:"small",color:"primary",children:l.jsx(G1,{fontSize:"small"})})})]}),l.jsx(See,{filterBlocks:r,onAddBlock:s,onRemoveBlock:u,onEditBlock:c})]}),!t&&l.jsx(Z,{sx:{border:"1px solid",borderColor:"divider",borderRadius:2,p:3,textAlign:"center",backgroundColor:m=>m.palette.mode==="dark"?"background.paper":"grey.50"},children:l.jsx(ie,{variant:"body2",color:"text.secondary",children:i("imageGroups:modal.autoCollectDisabledHelp")})})]})},YVe=t=>{const e=yt.c(61),{open:n,group:a,childCount:i,onClose:r,onConfirm:o}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=["imageGroups","common"],e[0]=s):s=e[0];const{t:c}=ht(s),[u,d]=ke.useState("orphan"),h=i>0;let m;e[1]!==u||e[2]!==o?(m=()=>{o(u==="cascade")},e[1]=u,e[2]=o,e[3]=m):m=e[3];const g=m;if(!a)return null;let y;e[4]!==c?(y=c("imageGroups:deleteConfirm.title"),e[4]=c,e[5]=y):y=e[5];let v;e[6]!==y?(v=l.jsx(Un,{children:y}),e[6]=y,e[7]=v):v=e[7];let S;e[8]===Symbol.for("react.memo_cache_sentinel")?(S={mb:2},e[8]=S):S=e[8];let w;e[9]!==a.name||e[10]!==c?(w=c("imageGroups:deleteConfirm.message",{name:a.name}),e[9]=a.name,e[10]=c,e[11]=w):w=e[11];let _;e[12]!==w?(_=l.jsx(Z,{sx:S,children:l.jsx(ie,{variant:"body1",gutterBottom:!0,children:w})}),e[12]=w,e[13]=_):_=e[13];let T;e[14]===Symbol.for("react.memo_cache_sentinel")?(T={mb:2,p:2,bgcolor:"action.hover",borderRadius:1},e[14]=T):T=e[14];let A;e[15]!==a.image_count||e[16]!==c?(A=c("imageGroups:deleteConfirm.groupInfo.imageCount",{count:a.image_count}),e[15]=a.image_count,e[16]=c,e[17]=A):A=e[17];let R;e[18]!==A?(R=l.jsx(ie,{variant:"body2",color:"text.secondary",children:A}),e[18]=A,e[19]=R):R=e[19];let I;e[20]!==i||e[21]!==h||e[22]!==c?(I=h&&l.jsx(ie,{variant:"body2",color:"text.secondary",children:c("imageGroups:deleteConfirm.groupInfo.childCount",{count:i})}),e[20]=i,e[21]=h,e[22]=c,e[23]=I):I=e[23];let N;e[24]!==R||e[25]!==I?(N=l.jsxs(Z,{sx:T,children:[R,I]}),e[24]=R,e[25]=I,e[26]=N):N=e[26];let P;e[27]===Symbol.for("react.memo_cache_sentinel")?(P={mb:2},e[27]=P):P=e[27];let O;e[28]!==c?(O=c("imageGroups:deleteConfirm.warning.imageAssociations"),e[28]=c,e[29]=O):O=e[29];let D;e[30]!==O?(D=l.jsx(xt,{severity:"warning",sx:P,children:O}),e[30]=O,e[31]=D):D=e[31];let H;e[32]!==i||e[33]!==u||e[34]!==h||e[35]!==c?(H=h&&l.jsxs(ri,{component:"fieldset",fullWidth:!0,children:[l.jsx(ie,{variant:"subtitle2",gutterBottom:!0,children:c("imageGroups:deleteConfirm.options.title")}),l.jsxs(U1,{value:u,onChange:V=>d(V.target.value),children:[l.jsx(wn,{value:"orphan",control:l.jsx(Xs,{}),label:l.jsxs(Z,{children:[l.jsx(ie,{variant:"body2",children:c("imageGroups:deleteConfirm.options.orphan.label")}),l.jsx(ie,{variant:"caption",color:"text.secondary",children:c("imageGroups:deleteConfirm.options.orphan.description")})]})}),l.jsx(wn,{value:"cascade",control:l.jsx(Xs,{color:"error"}),label:l.jsxs(Z,{children:[l.jsx(ie,{variant:"body2",color:"error",children:c("imageGroups:deleteConfirm.options.cascade.label")}),l.jsx(ie,{variant:"caption",color:"text.secondary",children:c("imageGroups:deleteConfirm.options.cascade.description",{count:i})})]})})]})]}),e[32]=i,e[33]=u,e[34]=h,e[35]=c,e[36]=H):H=e[36];let L;e[37]!==N||e[38]!==D||e[39]!==H||e[40]!==_?(L=l.jsxs($n,{children:[_,N,D,H]}),e[37]=N,e[38]=D,e[39]=H,e[40]=_,e[41]=L):L=e[41];let $;e[42]!==c?($=c("common:cancel"),e[42]=c,e[43]=$):$=e[43];let M;e[44]!==r||e[45]!==$?(M=l.jsx(Ue,{onClick:r,children:$}),e[44]=r,e[45]=$,e[46]=M):M=e[46];let z;e[47]!==c?(z=c("common:delete"),e[47]=c,e[48]=z):z=e[48];let F;e[49]!==g||e[50]!==z?(F=l.jsx(Ue,{onClick:g,color:"error",variant:"contained",children:z}),e[49]=g,e[50]=z,e[51]=F):F=e[51];let G;e[52]!==M||e[53]!==F?(G=l.jsxs(Wn,{children:[M,F]}),e[52]=M,e[53]=F,e[54]=G):G=e[54];let ee;return e[55]!==r||e[56]!==n||e[57]!==L||e[58]!==G||e[59]!==v?(ee=l.jsxs(Fn,{open:n,onClose:r,maxWidth:"sm",fullWidth:!0,children:[v,L,G]}),e[55]=r,e[56]=n,e[57]=L,e[58]=G,e[59]=v,e[60]=ee):ee=e[60],ee},iH=t=>{const e=yt.c(9),{children:n,value:a,index:i}=t,r=a!==i,o=`group-tabpanel-${i}`,s=`group-tab-${i}`;let c;e[0]!==n||e[1]!==i||e[2]!==a?(c=a===i&&l.jsx(Z,{sx:{py:2},children:n}),e[0]=n,e[1]=i,e[2]=a,e[3]=c):c=e[3];let u;return e[4]!==r||e[5]!==o||e[6]!==s||e[7]!==c?(u=l.jsx("div",{role:"tabpanel",hidden:r,id:o,"aria-labelledby":s,children:c}),e[4]=r,e[5]=o,e[6]=s,e[7]=c,e[8]=u):u=e[8],u},rH=({open:t,onClose:e,onSuccess:n,group:a})=>{const{t:i}=ht(["imageGroups","common"]),[r,o]=E.useState(0),[s,c]=E.useState({name:"",description:"",color:"#2196f3",parent_id:null,auto_collect_enabled:!1}),[u,d]=E.useState({}),[h,m]=E.useState(null),[g,y]=E.useState(!1),v=!!a,{data:S=[]}=hJ(),w=k$e(),_=N$e(),T=pJ(),A=a?.child_count||0;E.useEffect(()=>{if(a)if(c({name:a.name,description:a.description||"",color:a.color||"#2196f3",parent_id:a.parent_id||null,auto_collect_enabled:!!a.auto_collect_enabled}),a.auto_collect_conditions)try{const H=JSON.parse(a.auto_collect_conditions);H&&typeof H=="object"&&("exclude_group"in H||"or_group"in H||"and_group"in H)?d(H):Array.isArray(H)?d({}):d({})}catch{d({})}else d({});else c({name:"",description:"",color:"#2196f3",parent_id:null,auto_collect_enabled:!1}),d({});m(null),o(0)},[a,t]);const R=(H,L)=>{c($=>({...$,[H]:L}))},I=H=>{d(H)},N=()=>s.name.trim()?s.auto_collect_enabled&&!(u&&typeof u=="object"&&!Array.isArray(u)?(u.exclude_group?.length||0)+(u.or_group?.length||0)+(u.and_group?.length||0)>0:u.length>0)?(m(i("imageGroups:validation.conditionRequired")),!1):!0:(m(i("imageGroups:validation.nameRequired")),!1),P=async()=>{if(N()){m(null);try{const L=u&&typeof u=="object"&&!Array.isArray(u)?(u.exclude_group?.length||0)+(u.or_group?.length||0)+(u.and_group?.length||0)>0:u.length>0,$={name:s.name.trim(),description:s.description.trim()||void 0,color:s.color,parent_id:s.parent_id||void 0,auto_collect_enabled:s.auto_collect_enabled,auto_collect_conditions:s.auto_collect_enabled&&L?u:void 0};v?await _.mutateAsync({id:a.id,data:$}):await w.mutateAsync($),n()}catch(H){console.error("Error saving group:",H),m(i(`imageGroups:messages.${v?"updateFailed":"createFailed"}`))}}},O=()=>{y(!0)},D=async H=>{if(a)try{await T.mutateAsync({id:a.id,cascade:H}),y(!1),n()}catch(L){console.error("Error deleting group:",L),m(i("imageGroups:messages.deleteFailed"))}};return l.jsxs(Fn,{open:t,onClose:e,maxWidth:"md",fullWidth:!0,children:[l.jsx(Un,{children:i(v?"imageGroups:modal.editTitle":"imageGroups:modal.createTitle")}),l.jsxs($n,{dividers:!0,children:[h&&l.jsx(xt,{severity:"error",sx:{mb:2},children:h}),l.jsxs(No,{value:r,onChange:(H,L)=>o(L),"aria-label":"group editor tabs",sx:{borderBottom:1,borderColor:"divider",mb:2},children:[l.jsx(Cn,{label:i("imageGroups:tabs.basicInfo"),id:"group-tab-0","aria-controls":"group-tabpanel-0"}),l.jsx(Cn,{label:i("imageGroups:tabs.autoCollect"),id:"group-tab-1","aria-controls":"group-tabpanel-1"})]}),l.jsx(iH,{value:r,index:0,children:l.jsx(WVe,{formData:s,onFormChange:R,availableParents:S,currentGroupId:a?.id,isEditMode:v})}),l.jsx(iH,{value:r,index:1,children:l.jsx(VVe,{enabled:s.auto_collect_enabled,conditions:u,onEnabledChange:H=>R("auto_collect_enabled",H),onConditionsChange:I})})]}),l.jsxs(Wn,{sx:{justifyContent:"space-between"},children:[l.jsx(Z,{children:v&&l.jsx(Ue,{onClick:O,color:"error",startIcon:l.jsx(Wa,{}),disabled:w.isPending||_.isPending||T.isPending,children:i("common:delete")})}),l.jsxs(Z,{children:[l.jsx(Ue,{onClick:e,disabled:w.isPending||_.isPending||T.isPending,children:i("imageGroups:modal.buttonCancel")}),l.jsx(Ue,{onClick:P,variant:"contained",disabled:w.isPending||_.isPending||T.isPending,startIcon:w.isPending||_.isPending?l.jsx(Yt,{size:20}):null,sx:{ml:1},children:i(v?"imageGroups:modal.buttonUpdate":"imageGroups:modal.buttonCreate")})]})]}),l.jsx(YVe,{open:g,group:a||null,childCount:A,onClose:()=>y(!1),onConfirm:D})]})},Cee=({open:t,onClose:e,images:n,loading:a=!1,currentGroup:i,allGroups:r,pageSize:o=25,onPageSizeChange:s,currentPage:c=1,totalPages:u=1,total:d=0,onPageChange:h,readOnly:m=!1,onImagesRemoved:g,onImagesAssigned:y,groupType:v="custom",onShowSnackbar:S})=>{const{t:w}=ht(["imageGroups","common"]),[_,T]=E.useState([]),[A,R]=E.useState(!1),[I,N]=E.useState(!1),[P,O]=E.useState(null),[D,H]=E.useState("all"),[L,$]=E.useState(!1),[M,z]=E.useState(null),[F,G]=E.useState(null),[ee,V]=E.useState(!1);E.useEffect(()=>{t&&T([])},[t]),E.useEffect(()=>{T([])},[c]),E.useEffect(()=>{T([])},[i?.id]);const Y=n.filter(oe=>oe.id&&_.includes(oe.id)),K=Y.some(oe=>oe.groups?.find(le=>le.id===i?.id)?.collection_type==="manual"),J=Y.some(oe=>oe.groups?.find(le=>le.id===i?.id)?.collection_type==="auto"),W=K&&!J&&_.length>0,te=_.length>0,re=()=>{N(!0)},ne=()=>{if(N(!1),g){const oe=Y.filter(ue=>ue.groups?.find(Se=>Se.id===i?.id)?.collection_type==="manual").map(ue=>ue.composite_hash).filter(ue=>ue!==null);g(oe)}T([])},ce=()=>{R(!0)},pe=async oe=>{if(y){const ue=Y.map(le=>le.composite_hash).filter(le=>le!==null);y(oe,ue),T([])}};E.useEffect(()=>{t&&i?.id&&(V(!0),(v==="custom"?ir.getFileCountsByType(i.id):Zu.getFileCounts(i.id)).then(ue=>{ue.success&&ue.data&&G(ue.data)}).catch(ue=>console.error("Failed to fetch file counts:",ue)).finally(()=>V(!1)))},[t,i?.id,v]);const me=oe=>{O(oe.currentTarget)},ge=()=>{O(null)},ye=(oe,ue)=>{if(ge(),!i?.id)return;const le=ue==="all"?F?.[oe]||0:_.length;if(le===0){const Se=w(oe==="thumbnail"?"common:thumbnail":oe==="original"?"common:original":"common:video");S&&S(` ${Se}  .`,"warning");return}le>=100?(z(oe),H(ue),$(!0)):he(oe,ue)},he=async(oe,ue)=>{if(i?.id)try{let le;ue==="selected"&&_.length>0&&(le=Y.map(Se=>Se.composite_hash).filter(Se=>Se!==null)),v==="custom"?await ir.downloadGroupBlob(i.id,oe,le):await Zu.downloadGroup(i.id,oe,le),S&&S(" .","success")}catch(le){if(console.error("Download failed:",le),S){const Se=le instanceof Error?le.message:" .";S(Se,"error")}}},de=()=>{M&&he(M,D),$(!1),z(null)},fe=()=>_.length===0?null:K&&J?l.jsx(xt,{severity:"info",sx:{mb:2},children:w("imageGroups:imageModal.infoMixedSelection")}):J&&!K?l.jsx(xt,{severity:"warning",sx:{mb:2},children:w("imageGroups:imageModal.warningAutoOnly")}):null;return l.jsxs(l.Fragment,{children:[l.jsxs(Fn,{open:t,onClose:e,maxWidth:"xl",fullWidth:!0,PaperProps:{sx:{height:"90vh",maxHeight:"90vh"}},children:[l.jsx(Un,{children:l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx(ie,{variant:"h6",children:w("imageGroups:imageModal.title",{name:i?.name,count:d})}),l.jsxs(Z,{sx:{display:"flex",gap:1},children:[l.jsx(lt,{"aria-label":"download",onClick:me,disabled:ee||d===0,sx:{color:oe=>oe.palette.primary.main},children:ee?l.jsx(Yt,{size:24}):l.jsx(fg,{})}),l.jsx(lt,{"aria-label":"close",onClick:e,sx:{color:oe=>oe.palette.grey[500]},children:l.jsx(Sf,{})})]})]})}),_.length>0&&l.jsxs(eD,{sx:{bgcolor:"action.hover",borderTop:1,borderBottom:1,borderColor:"divider"},children:[l.jsx(ie,{variant:"body2",sx:{flex:1},children:w("imageGroups:imageModal.selectedCount",{count:_.length})}),l.jsx(Z,{sx:{display:"flex",gap:1},children:!m&&l.jsxs(l.Fragment,{children:[l.jsx(Ue,{variant:"outlined",color:"error",startIcon:l.jsx(Wa,{}),onClick:re,disabled:!W,children:w("imageGroups:imageModal.buttonRemove")}),l.jsx(Ue,{variant:"outlined",color:"primary",startIcon:l.jsx(ROe,{}),onClick:ce,disabled:!te,children:w("imageGroups:imageModal.buttonAssign")})]})})]}),l.jsxs($n,{sx:{p:2,overflow:"auto",flex:1},children:[fe(),l.jsx(l5,{images:n,loading:a,selectable:!0,selectedIds:_,onSelectionChange:T,pageSize:o,onPageSizeChange:s,currentPage:c,totalPages:u,total:d,onPageChange:h,showCollectionType:!0,currentGroupId:i?.id})]})]}),l.jsxs(Fn,{open:I,onClose:()=>N(!1),children:[l.jsx(Un,{children:w("imageGroups:imageModal.confirmRemoveTitle")}),l.jsx($n,{children:l.jsxs(rc,{children:[w("imageGroups:imageModal.confirmRemoveMessage",{count:Y.filter(oe=>oe.groups?.find(le=>le.id===i?.id)?.collection_type==="manual").length}),l.jsx("br",{}),l.jsx("strong",{children:w("imageGroups:imageModal.confirmRemoveNote")})]})}),l.jsxs(Wn,{children:[l.jsx(Ue,{onClick:()=>N(!1),children:w("common:buttons.cancel")}),l.jsx(Ue,{onClick:ne,color:"error",variant:"contained",children:w("imageGroups:imageModal.buttonRemove")})]})]}),l.jsx(m5,{open:A,onClose:()=>R(!1),selectedImageCount:_.length,onAssign:pe,currentGroupId:i?.id}),l.jsxs(jb,{anchorEl:P,open:!!P,onClose:ge,children:[l.jsx(nn,{disabled:!0,sx:{opacity:"1 !important"},children:l.jsx(ie,{variant:"subtitle2",color:"text.secondary",children:w("imageGroups:download.menuTitle")})}),l.jsx(nn,{disabled:!0,sx:{opacity:"1 !important",mt:1},children:l.jsx(ie,{variant:"caption",color:"text.secondary",children:w("imageGroups:download.scopeAll")})}),l.jsxs(nn,{onClick:()=>ye("thumbnail","all"),disabled:!F||F.thumbnail===0,children:[l.jsx(Ao,{children:l.jsx(qc,{fontSize:"small"})}),l.jsxs(ar,{children:[w("imageGroups:download.typeThumbnail"),F&&` (${F.thumbnail})`]})]}),l.jsxs(nn,{onClick:()=>ye("original","all"),disabled:!F||F.original===0,children:[l.jsx(Ao,{children:l.jsx(w7,{fontSize:"small"})}),l.jsxs(ar,{children:[w("imageGroups:download.typeOriginal"),F&&` (${F.original})`]})]}),l.jsxs(nn,{onClick:()=>ye("video","all"),disabled:!F||F.video===0,children:[l.jsx(Ao,{children:l.jsx(kz,{fontSize:"small"})}),l.jsxs(ar,{children:[w("imageGroups:download.typeVideo"),F&&` (${F.video})`]})]}),_.length>0&&[l.jsx(nn,{disabled:!0,sx:{opacity:"1 !important",mt:1},children:l.jsx(ie,{variant:"caption",color:"text.secondary",children:w("imageGroups:download.scopeSelected",{count:_.length})})},"selected-header"),l.jsxs(nn,{onClick:()=>ye("thumbnail","selected"),children:[l.jsx(Ao,{children:l.jsx(qc,{fontSize:"small"})}),l.jsx(ar,{children:w("imageGroups:download.typeThumbnail")})]},"selected-thumbnail"),l.jsxs(nn,{onClick:()=>ye("original","selected"),children:[l.jsx(Ao,{children:l.jsx(w7,{fontSize:"small"})}),l.jsx(ar,{children:w("imageGroups:download.typeOriginal")})]},"selected-original"),l.jsxs(nn,{onClick:()=>ye("video","selected"),children:[l.jsx(Ao,{children:l.jsx(kz,{fontSize:"small"})}),l.jsx(ar,{children:w("imageGroups:download.typeVideo")})]},"selected-video")]]}),l.jsxs(Fn,{open:L,onClose:()=>$(!1),children:[l.jsx(Un,{children:w("imageGroups:download.confirmTitle")}),l.jsx($n,{children:l.jsx(rc,{children:w("imageGroups:download.confirmMessage",{count:D==="all"?F?.[M||"thumbnail"]||0:_.length})})}),l.jsxs(Wn,{children:[l.jsx(Ue,{onClick:()=>$(!1),children:w("common:buttons.cancel")}),l.jsx(Ue,{onClick:de,color:"primary",variant:"contained",children:w("imageGroups:download.confirmButton")})]})]})]})},wee=t=>{const e=yt.c(26),{breadcrumb:n,currentGroupName:a,onNavigate:i,showGroupListRoot:r}=t,o=r===void 0?!1:r;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=["imageGroups"],e[0]=s):s=e[0];const{t:c}=ht(s);let u;e[1]===Symbol.for("react.memo_cache_sentinel")?(u={mb:2,p:1,bgcolor:"background.paper",borderRadius:1},e[1]=u):u=e[1];let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(HQ,{fontSize:"small"}),e[2]=d):d=e[2];let h;e[3]!==i?(h=()=>i(null),e[3]=i,e[4]=h):h=e[4];let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m={display:"flex",alignItems:"center",gap:.5,textDecoration:"none",color:"primary.main","&:hover":{textDecoration:"underline",cursor:"pointer"}},e[5]=m):m=e[5];let g;e[6]!==o?(g=o?l.jsx(Ps,{fontSize:"small"}):l.jsx(zQ,{fontSize:"small"}),e[6]=o,e[7]=g):g=e[7];let y;e[8]!==o||e[9]!==c?(y=c(o?"imageGroups:hierarchy.groupList":"imageGroups:hierarchy.root"),e[8]=o,e[9]=c,e[10]=y):y=e[10];let v;e[11]!==h||e[12]!==g||e[13]!==y?(v=l.jsxs(x7,{component:"button",variant:"body1",onClick:h,sx:m,children:[g,y]}),e[11]=h,e[12]=g,e[13]=y,e[14]=v):v=e[14];let S;if(e[15]!==n||e[16]!==i){let T;e[18]!==i?(T=A=>l.jsx(x7,{component:"button",variant:"body1",onClick:()=>i(A.id),sx:{textDecoration:"none",color:"primary.main","&:hover":{textDecoration:"underline",cursor:"pointer"}},children:A.name},A.id),e[18]=i,e[19]=T):T=e[19],S=n.map(T),e[15]=n,e[16]=i,e[17]=S}else S=e[17];let w;e[20]!==a?(w=a&&l.jsx(ie,{variant:"body1",color:"text.primary",fontWeight:"medium",children:a}),e[20]=a,e[21]=w):w=e[21];let _;return e[22]!==S||e[23]!==w||e[24]!==v?(_=l.jsx(Z,{sx:u,children:l.jsxs(Wke,{separator:d,"aria-label":"group navigation",children:[v,S,w]})}),e[22]=S,e[23]=w,e[24]=v,e[25]=_):_=e[25],_};function T5(t,e){const n=yt.c(36),{groupId:a,groupType:i,interval:r,preloadCount:o,includeChildren:s,enabled:c}=e,u=i===void 0?"group":i,d=o===void 0?8:o,h=s===void 0?!0:s,m=c===void 0?!0:c,[g,y]=E.useState(0),[v,S]=E.useState(!1),[w,_]=E.useState(0),T=E.useRef(null),A=E.useRef(null);let R;n[0]!==a||n[1]!==u||n[2]!==h||n[3]!==d?(R=["groupPreviewImages",u,a,d,h],n[0]=a,n[1]=u,n[2]=h,n[3]=d,n[4]=R):R=n[4];let I;n[5]!==t||n[6]!==h||n[7]!==d?(I=()=>t(d,h),n[5]=t,n[6]=h,n[7]=d,n[8]=I):I=n[8];let N;n[9]!==m||n[10]!==R||n[11]!==I?(N={queryKey:R,queryFn:I,staleTime:3e4,gcTime:6e5,enabled:m,retry:1},n[9]=m,n[10]=R,n[11]=I,n[12]=N):N=n[12];const{data:P,isLoading:O,error:D}=Nb(N);let H;n[13]!==P?(H=P===void 0?[]:P,n[13]=P,n[14]=H):H=n[14];const L=H;let $;if(n[15]!==L){const ne=new Set;$=L.filter(ce=>!ce.composite_hash||ne.has(ce.composite_hash)?!1:(ne.add(ce.composite_hash),!0)),n[15]=L,n[16]=$}else $=n[16];const M=$,z=D instanceof Error?D:null;let F,G;n[17]!==m||n[18]!==M.length?(F=()=>{if(!m||M.length<=1)return;const ne=()=>{const ce=2e3+Math.random()*4e3;T.current=setTimeout(()=>{S(!0),_(-100),A.current=setTimeout(()=>{y(pe=>(pe+1)%M.length),_(0),S(!1),ne()},600)},ce)};return ne(),()=>{T.current&&(clearTimeout(T.current),T.current=null),A.current&&(clearTimeout(A.current),A.current=null)}},G=[m,M.length],n[17]=m,n[18]=M.length,n[19]=F,n[20]=G):(F=n[19],G=n[20]),E.useEffect(F,G);let ee;n[21]!==M.length?(ee=()=>{M.length>0&&(S(!0),_(-100),setTimeout(()=>{y(ne=>(ne+1)%M.length),_(0),S(!1)},600))},n[21]=M.length,n[22]=ee):ee=n[22];const V=ee;let Y;n[23]!==M.length?(Y=()=>{M.length>0&&(S(!0),_(100),setTimeout(()=>{y(ne=>(ne-1+M.length)%M.length),_(0),S(!1)},600))},n[23]=M.length,n[24]=Y):Y=n[24];const K=Y,J=M.length>0?(g+1)%M.length:0,W=M[g]||null,te=M[J]||null;let re;return n[25]!==g||n[26]!==z||n[27]!==M||n[28]!==O||n[29]!==v||n[30]!==V||n[31]!==w||n[32]!==K||n[33]!==W||n[34]!==te?(re={currentImage:W,nextImage:te,images:M,currentIndex:g,isTransitioning:v,offset:w,isLoading:O,error:z,next:V,previous:K},n[25]=g,n[26]=z,n[27]=M,n[28]=O,n[29]=v,n[30]=V,n[31]=w,n[32]=K,n[33]=W,n[34]=te,n[35]=re):re=n[35],re}function KVe({group:t,onClick:e}){const{t:n}=ht("imageGroups"),a=Zc(),i=E.useCallback(async(R,I)=>{try{return(await Zu.getPreviewImages(t.id,R,I)).data||[]}catch(N){return console.error(`Failed to load preview images for auto folder group ${t.id}:`,N),[]}},[t.id]),{currentImage:r,nextImage:o,images:s,isTransitioning:c,offset:u,isLoading:d}=T5(i,{groupId:t.id,groupType:"auto-folder",interval:3e3,preloadCount:8,includeChildren:!0,enabled:!0}),h=E.useMemo(()=>r?.file_type==="video",[r]),m=E.useMemo(()=>r?.file_type==="animated",[r]),g=E.useMemo(()=>r?.is_processing||!r?.composite_hash,[r]),y=E.useMemo(()=>o?.file_type==="video",[o]),v=E.useMemo(()=>o?.file_type==="animated",[o]),S=E.useMemo(()=>o?.is_processing||!o?.composite_hash,[o]),w=E.useMemo(()=>`data:image/svg+xml,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 24 24">
        <rect width="24" height="24" fill="#1a1a1a"/>
        <path fill="#666" d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/>
      </svg>`)}`,[]),_=E.useMemo(()=>`/placeholders/folder-overlay-${Math.floor(Math.random()*12)+1}.webp`,[t.id]),T=E.useMemo(()=>{if(!r)return w;if(g)return`${a}/api/images/by-path/${encodeURIComponent(r.original_file_path||"")}`;if(h||m)return`${a}/api/images/${r.composite_hash}/file`;const R=r.thumbnail_path?`?v=${Date.parse(r.first_seen_date)}`:"";return`${a}/api/images/${r.composite_hash}/thumbnail${R}`},[r,h,m,g,a,w]),A=E.useMemo(()=>{if(!o)return w;if(S)return`${a}/api/images/by-path/${encodeURIComponent(o.original_file_path||"")}`;if(y||v)return`${a}/api/images/${o.composite_hash}/file`;const R=o.thumbnail_path?`?v=${Date.parse(o.first_seen_date)}`:"";return`${a}/api/images/${o.composite_hash}/thumbnail${R}`},[o,y,v,S,a,w]);return l.jsxs(ma,{sx:{cursor:"pointer",transition:"all 0.2s",aspectRatio:"5 / 7",position:"relative",overflow:"hidden",borderRadius:1,"&:hover":{transform:"translateY(-4px)",boxShadow:4,"& .hover-info":{opacity:1},"& .hover-overlay":{opacity:1}},opacity:s.length>0||d?1:.7},onClick:e,children:[l.jsx(Z,{sx:{width:"100%",paddingTop:"140%"}}),r?h?l.jsx(Z,{component:"video",src:T,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:1,transform:`translateX(${u}%)`,transition:c?"transform 0.6s ease-in-out":"none"}}):l.jsx(ho,{component:"img",image:T,alt:t.display_name,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:1,transform:`translateX(${u}%)`,transition:c?"transform 0.6s ease-in-out":"none"}}):l.jsxs(Z,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1},children:[l.jsx(ho,{component:"img",image:w,alt:"Empty folder",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",opacity:.4}}),l.jsx(Z,{component:"img",src:_,alt:"Placeholder",sx:{position:"absolute",top:"58%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",height:"auto",maxWidth:"200px",opacity:.8,objectFit:"contain"}})]}),s.length>1&&(y?l.jsx(Z,{component:"video",src:A,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,transform:`translateX(${u+100}%)`,transition:c?"transform 0.6s ease-in-out":"none"}}):l.jsx(ho,{component:"img",image:A,alt:t.display_name,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,transform:`translateX(${u+100}%)`,transition:c?"transform 0.6s ease-in-out":"none"}})),l.jsx(Z,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.6) 70%, transparent 100%)",p:1.5,pb:1,zIndex:2},children:l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[l.jsx(cl,{sx:{color:"primary.light",fontSize:"1.2rem"}}),l.jsx(ie,{variant:"subtitle1",component:"div",sx:{flex:1,color:"white",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.display_name})]})}),l.jsx(Z,{className:"hover-overlay",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(0, 0, 0, 0.6)",opacity:0,transition:"opacity 0.2s",zIndex:2}}),l.jsxs(Z,{className:"hover-info",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,p:2,opacity:0,transition:"opacity 0.2s",display:"flex",flexDirection:"column",gap:1.5,zIndex:3},children:[l.jsx(ie,{variant:"h6",sx:{color:"white",fontWeight:600},children:t.display_name}),l.jsx(ie,{variant:"caption",sx:{color:"rgba(255, 255, 255, 0.7)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.folder_path}),l.jsxs(Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:[l.jsx(mt,{label:n("groupCard.imageCount",{count:t.image_count||0}),size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white"}}),t.child_count!==void 0&&t.child_count>0&&l.jsx(mt,{label:n("groupCard.folderCount",{count:t.child_count}),size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white"}})]})]})]})}function XVe({group:t,onClick:e}){const{t:n}=ht("imageGroups"),a=E.useCallback(async u=>{try{return(await Zu.getPreviewImages(t.id,u,!1)).data||[]}catch(d){return console.error(`Failed to load preview images for auto folder group ${t.id}:`,d),[]}},[t.id]),{currentImage:i,images:r,isLoading:o}=T5(a,{groupId:`${t.id}-direct`,groupType:"auto-folder-direct",interval:3e3,preloadCount:8,includeChildren:!1,enabled:!0}),s=E.useMemo(()=>i?.file_type==="video",[i]),c=E.useMemo(()=>i?.thumbnail_url?i.thumbnail_url:`data:image/svg+xml,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 24 24">
        <rect width="24" height="24" fill="#1a1a1a"/>
        <path fill="#666" d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
      </svg>`)}`,[i]);return l.jsxs(ma,{sx:{cursor:"pointer",transition:"all 0.2s",aspectRatio:"5 / 7",position:"relative",overflow:"hidden",borderRadius:1,border:"2px solid",borderColor:"primary.main","&:hover":{transform:"translateY(-4px)",boxShadow:4,borderColor:"primary.light","& .hover-info":{opacity:1},"& .hover-overlay":{opacity:1}},opacity:r.length>0||o?1:.7},onClick:e,children:[s?l.jsx(Z,{component:"video",src:c,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transition:"opacity 0.6s ease-in-out"}}):l.jsx(ho,{component:"img",image:c,alt:n("imageView.viewImages"),sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transition:"opacity 0.6s ease-in-out"}}),l.jsx(Z,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.6) 70%, transparent 100%)",p:1.5,pb:1},children:l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[l.jsx(qc,{sx:{color:"primary.light",fontSize:"1.2rem"}}),l.jsx(ie,{variant:"subtitle1",component:"div",sx:{flex:1,color:"white",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n("imageView.viewImages")})]})}),l.jsx(Z,{className:"hover-overlay",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(0, 0, 0, 0.6)",opacity:0,transition:"opacity 0.2s"}}),l.jsxs(Z,{className:"hover-info",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,p:2,opacity:0,transition:"opacity 0.2s",display:"flex",flexDirection:"column",gap:1.5},children:[l.jsx(ie,{variant:"h6",sx:{color:"white",fontWeight:600},children:n("imageView.title",{name:t.display_name})}),l.jsx(ie,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.9)"},children:n("imageView.folderDescription")}),l.jsx(Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:l.jsx(mt,{label:n("groupCard.imageCount",{count:t.image_count||0}),size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white"}})})]})]})}const Y1={all:["autoFolderGroups"],root:()=>[...Y1.all,"root"],children:t=>[...Y1.all,"children",t],detail:t=>[...Y1.all,"detail",t]};function QVe(){const t=yt.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:Y1.root(),queryFn:ZVe,staleTime:3e4,gcTime:3e5,refetchOnMount:!0},t[0]=e):e=t[0],Nb(e)}async function ZVe(){console.log("[useAutoFolderRootGroups] Fetching root groups...");const t=await Zu.getRootGroups();if(console.log("[useAutoFolderRootGroups] Response:",t),!t.success||!t.data)throw new Error("Failed to fetch auto-folder root groups");return t.data}function JVe(t){const e=yt.c(8);let n;e[0]!==t?(n=Y1.children(t??0),e[0]=t,e[1]=n):n=e[1];let a;e[2]!==t?(a=async()=>{if(t===null)return[];console.log("[useAutoFolderChildGroups] Fetching child groups for parent:",t);const o=await Zu.getChildGroups(t);if(console.log("[useAutoFolderChildGroups] Response:",o),!o.success||!o.data)throw new Error("Failed to fetch auto-folder child groups");return o.data},e[2]=t,e[3]=a):a=e[3];const i=t!==null;let r;return e[4]!==n||e[5]!==a||e[6]!==i?(r={queryKey:n,queryFn:a,enabled:i,placeholderData:eYe,staleTime:3e4,gcTime:3e5,refetchOnMount:!0},e[4]=n,e[5]=a,e[6]=i,e[7]=r):r=e[7],Nb(r)}function eYe(t){return t}function tYe(){const t=yt.c(2),e=xp();let n;return t[0]!==e?(n={mutationFn:nYe,onSuccess:()=>{e.invalidateQueries({queryKey:Y1.all}),e.invalidateQueries({queryKey:["groupPreviewImages","auto-folder"]})}},t[0]=e,t[1]=n):n=t[1],oS(n)}async function nYe(){const t=await Zu.rebuild();if(!t.success||!t.data)throw new Error(t.error||"Failed to rebuild auto-folder groups");return t.data}const aYe=({onShowSnackbar:t})=>{const{t:e}=ht(["imageGroups","common"]),[n,a]=E.useState(null),[i,r]=E.useState(null),[o,s]=E.useState(!0),[c,u]=E.useState(null),[d,h]=E.useState(null),[m,g]=E.useState(null),[y,v]=E.useState([]),{data:S,isLoading:w,error:_}=QVe(),{data:T,isLoading:A,error:R}=JVe(d),I=tYe(),N=(d===null?S:T)||[],P=d===null?w:A;E.useEffect(()=>{console.log("[AutoFolderGroupsContent] State:",{currentParentId:d,isGroupListView:o,rootGroupsData:S,childGroupsData:T,groups:N.length,loading:P,rootError:_,childError:R})},[d,o,S,T,P]);const[O,D]=E.useState(!1),[H,L]=E.useState(null),[$,M]=E.useState([]),[z,F]=E.useState(!1),[G,ee]=E.useState(1),[V,Y]=E.useState(1),[K,J]=E.useState(0),[W,te]=E.useState(25),re=async oe=>{try{const ue=await Zu.getBreadcrumbPath(oe);ue.success&&ue.data&&v(ue.data)}catch(ue){console.error("Error loading breadcrumb:",ue)}};E.useEffect(()=>{d!==null&&re(d)},[d]);const ne=async()=>{try{const oe=await I.mutateAsync();t(` : ${oe.groups_created} , ${oe.images_assigned}  (${oe.duration_ms}ms)`,"success"),h(null),g(null),v([]),s(!0),setTimeout(()=>{window.location.reload()},1e3)}catch(oe){console.error("Error rebuilding:",oe),t("   ","error")}},ce=async oe=>{h(oe.id),g(oe),await re(oe.id)};E.useEffect(()=>{if(N.length===1&&d!==null){const oe=N[0];if(oe.image_count===0&&oe.child_count===1){const ue=m?.display_name||e("imageGroups:defaultGroupName");t(e("imageGroups:autoNavigate",{from:ue,to:oe.display_name}),"info"),ce(oe)}}},[N,d]);const pe=async oe=>{if(oe===null)s(!0),u(null),h(null),g(null),v([]);else{h(oe),await re(oe);try{const ue=await Zu.getGroup(oe);ue.success&&ue.data&&g(ue.data)}catch(ue){console.error("Error loading current group info:",ue)}}},me=()=>{a(null),r(null)},ge=()=>{const oe=N.find(ue=>ue.id===i);oe&&(L(oe),D(!0),ye(oe.id,1)),me()},ye=async(oe,ue)=>{try{F(!0);const le=await Zu.getGroupImages(oe,ue,W);le.success&&le.data&&(M(le.data.items),ee(le.data.pagination.page),Y(le.data.pagination.totalPages),J(le.data.pagination.total))}catch(le){console.error("Error loading group images:",le),t(e("imageGroups:messages.imageLoadFailed"),"error")}finally{F(!1)}},he=()=>{D(!1),L(null),M([]),ee(1)},de=oe=>{H&&ye(H.id,oe)},fe=oe=>{te(oe),H&&ye(H.id,1)};return P&&N.length===0?l.jsx(Z,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:l.jsx(Yt,{})}):l.jsxs(l.Fragment,{children:[l.jsxs(Z,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx(xt,{severity:"info",sx:{flex:1,mr:2},children:e("imageGroups:autoFolder.readOnlyMessage")}),l.jsx(Ue,{variant:"contained",startIcon:I.isPending?l.jsx(Yt,{size:20}):l.jsx(jo,{}),onClick:ne,disabled:I.isPending,children:I.isPending?e("imageGroups:autoFolder.rebuilding"):e("imageGroups:autoFolder.refresh")})]}),!o&&l.jsx(wee,{breadcrumb:y,onNavigate:pe,showGroupListRoot:!0}),P?l.jsx(Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",py:8},children:l.jsx(Yt,{})}):N.length===0?l.jsxs(Z,{sx:{textAlign:"center",py:8},children:[l.jsx(Ps,{sx:{fontSize:80,color:"text.secondary",mb:2}}),l.jsx(ie,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:e(o?"imageGroups:autoFolder.emptyState.noGroups":"imageGroups:autoFolder.emptyState.noSubfolders")}),l.jsx(ie,{variant:"body2",color:"text.secondary",children:e(o?"imageGroups:autoFolder.emptyState.refreshPrompt":"imageGroups:autoFolder.emptyState.noSubfoldersHelp")})]}):l.jsxs(dn,{container:!0,spacing:2,children:[!o&&d!==null&&m&&m.image_count>0&&l.jsx(dn,{size:{xs:6,sm:4,md:3,lg:2,xl:1.5},children:l.jsx(XVe,{group:m,onClick:()=>{L(m),D(!0),ye(m.id,1)}})},`image-view-${d}`),N.map(oe=>l.jsx(dn,{size:{xs:6,sm:4,md:3,lg:2,xl:1.5},children:l.jsx(KVe,{group:oe,onClick:()=>{if(o){s(!1),u(oe.id),ce(oe);return}oe.child_count&&oe.child_count>0?ce(oe):oe.image_count>0&&(L(oe),D(!0),ye(oe.id,1))}})},oe.id))]}),l.jsx(jb,{anchorEl:n,open:!!n,onClose:me,children:l.jsx(nn,{onClick:ge,children:e("imageGroups:viewImages")})}),l.jsx(Cee,{open:O,onClose:he,images:$,loading:z,currentGroup:H,allGroups:[],pageSize:W,onPageSizeChange:fe,currentPage:G,totalPages:V,total:K,onPageChange:de,onImagesRemoved:()=>{},onImagesAssigned:()=>{},readOnly:!0,groupType:"auto-folder",onShowSnackbar:t})]})};function iYe({group:t,onClick:e,onSettingsClick:n}){const{t:a}=ht("imageGroups"),i=Zc(),r=E.useCallback(N=>{N.stopPropagation(),n?.(t.id)},[t.id,n]),o=E.useCallback(async(N,P)=>{try{return(await ir.getPreviewImages(t.id,N,P)).data||[]}catch(O){return console.error(`Failed to load preview images for group ${t.id}:`,O),[]}},[t.id]),{currentImage:s,nextImage:c,images:u,isTransitioning:d,offset:h,isLoading:m}=T5(o,{groupId:t.id,groupType:"group",interval:3e3,preloadCount:8,includeChildren:!0,enabled:!0}),g=E.useMemo(()=>s?.file_type==="video",[s]),y=E.useMemo(()=>s?.file_type==="animated",[s]),v=E.useMemo(()=>s?.is_processing||!s?.composite_hash,[s]),S=E.useMemo(()=>c?.file_type==="video",[c]),w=E.useMemo(()=>c?.file_type==="animated",[c]),_=E.useMemo(()=>c?.is_processing||!c?.composite_hash,[c]),T=E.useMemo(()=>`data:image/svg+xml,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 24 24">
        <rect width="24" height="24" fill="#1a1a1a"/>
        <path fill="#666" d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/>
      </svg>`)}`,[]),A=E.useMemo(()=>`/placeholders/folder-overlay-${Math.floor(Math.random()*12)+1}.webp`,[t.id]),R=E.useMemo(()=>{if(!s)return T;if(v)return`${i}/api/images/by-path/${encodeURIComponent(s.original_file_path||"")}`;if(g||y)return`${i}/api/images/${s.composite_hash}/file`;const N=s.thumbnail_path?`?v=${Date.parse(s.first_seen_date)}`:"";return`${i}/api/images/${s.composite_hash}/thumbnail${N}`},[s,g,y,v,i,T]),I=E.useMemo(()=>{if(!c)return T;if(_)return`${i}/api/images/by-path/${encodeURIComponent(c.original_file_path||"")}`;if(S||w)return`${i}/api/images/${c.composite_hash}/file`;const N=c.thumbnail_path?`?v=${Date.parse(c.first_seen_date)}`:"";return`${i}/api/images/${c.composite_hash}/thumbnail${N}`},[c,S,w,_,i,T]);return l.jsxs(ma,{sx:{cursor:"pointer",transition:"all 0.2s",aspectRatio:"5 / 7",position:"relative",overflow:"hidden",borderRadius:1,"&:hover":{transform:"translateY(-4px)",boxShadow:4,"& .hover-info":{opacity:1},"& .hover-overlay":{opacity:1}},opacity:u.length>0||m?1:.7},onClick:e,children:[l.jsx(Z,{sx:{width:"100%",paddingTop:"140%"}}),s?g?l.jsx(Z,{component:"video",src:R,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:1,transform:`translateX(${h}%)`,transition:d?"transform 0.6s ease-in-out":"none"}}):l.jsx(ho,{component:"img",image:R,alt:t.name,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:1,transform:`translateX(${h}%)`,transition:d?"transform 0.6s ease-in-out":"none"}}):l.jsxs(Z,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1},children:[l.jsx(ho,{component:"img",image:T,alt:"Empty folder",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",opacity:.4}}),l.jsx(Z,{component:"img",src:A,alt:"Placeholder",sx:{position:"absolute",top:"58%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",height:"auto",maxWidth:"200px",opacity:.8,objectFit:"contain"}})]}),u.length>1&&(S?l.jsx(Z,{component:"video",src:I,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,transform:`translateX(${h+100}%)`,transition:d?"transform 0.6s ease-in-out":"none"}}):l.jsx(ho,{component:"img",image:I,alt:t.name,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,transform:`translateX(${h+100}%)`,transition:d?"transform 0.6s ease-in-out":"none"}})),n&&l.jsx(lt,{onClick:r,sx:{position:"absolute",bottom:8,right:8,zIndex:4,bgcolor:"rgba(0, 0, 0, 0.6)",color:"white",width:32,height:32,"&:hover":{bgcolor:"rgba(0, 0, 0, 0.8)",color:"primary.light"},transition:"all 0.2s"},size:"small",children:l.jsx(ub,{sx:{fontSize:"1.1rem"}})}),l.jsx(Z,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.6) 70%, transparent 100%)",p:1.5,pb:1,pr:n?6:1.5,zIndex:2},children:l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[l.jsx(cl,{sx:{color:t.color||"primary.light",fontSize:"1.2rem"}}),l.jsx(ie,{variant:"subtitle1",component:"div",sx:{flex:1,color:"white",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.name})]})}),l.jsx(Z,{className:"hover-overlay",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(0, 0, 0, 0.6)",opacity:0,transition:"opacity 0.2s",zIndex:2}}),l.jsxs(Z,{className:"hover-info",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,p:2,opacity:0,transition:"opacity 0.2s",display:"flex",flexDirection:"column",gap:1.5,zIndex:3},children:[l.jsx(ie,{variant:"h6",sx:{color:"white",fontWeight:600},children:t.name}),t.description&&l.jsx(ie,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.9)",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:t.description}),l.jsxs(Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:[l.jsx(mt,{label:a("groupCard.imageCount",{count:t.image_count||0}),size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white"}}),t.child_count!==void 0&&t.child_count>0&&l.jsx(mt,{label:a("groupCard.subgroupCount",{count:t.child_count}),size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white"}}),!!t.auto_collect_enabled&&l.jsx(mt,{icon:l.jsx(vf,{sx:{fontSize:"0.9rem",color:"white !important"}}),size:"small",color:"primary",sx:{color:"white","& .MuiChip-icon":{marginLeft:"4px",marginRight:"-4px"}}})]})]})]})}function rYe({group:t,onClick:e}){const{t:n}=ht("imageGroups"),a=E.useCallback(async u=>{try{return(await ir.getPreviewImages(t.id,u,!1)).data||[]}catch(d){return console.error(`Failed to load preview images for group ${t.id}:`,d),[]}},[t.id]),{currentImage:i,images:r,isLoading:o}=T5(a,{groupId:`${t.id}-direct`,groupType:"group-direct",interval:3e3,preloadCount:8,includeChildren:!1,enabled:!0}),s=E.useMemo(()=>i?.file_type==="video",[i]),c=E.useMemo(()=>i?.thumbnail_url?i.thumbnail_url:`data:image/svg+xml,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 24 24">
        <rect width="24" height="24" fill="#1a1a1a"/>
        <path fill="#666" d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
      </svg>`)}`,[i]);return l.jsxs(ma,{sx:{cursor:"pointer",transition:"all 0.2s",aspectRatio:"5 / 7",position:"relative",overflow:"hidden",borderRadius:1,border:"2px solid",borderColor:"primary.main","&:hover":{transform:"translateY(-4px)",boxShadow:4,borderColor:"primary.light","& .hover-info":{opacity:1},"& .hover-overlay":{opacity:1}},opacity:r.length>0||o?1:.7},onClick:e,children:[s?l.jsx(Z,{component:"video",src:c,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transition:"opacity 0.6s ease-in-out"}}):l.jsx(ho,{component:"img",image:c,alt:n("imageView.viewImages"),sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transition:"opacity 0.6s ease-in-out"}}),l.jsx(Z,{sx:{position:"absolute",top:5,left:5,backgroundColor:"primary.main",color:"white",px:1,py:.75,borderRadius:2,boxShadow:2,display:"flex",gap:.75,zIndex:2},children:l.jsx(qc,{sx:{fontSize:"1.1rem"}})}),l.jsx(Z,{className:"hover-overlay",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(0, 0, 0, 0.6)",opacity:0,transition:"opacity 0.2s"}}),l.jsxs(Z,{className:"hover-info",sx:{position:"absolute",top:20,left:0,right:0,bottom:0,p:2,opacity:0,transition:"opacity 0.2s",display:"flex",flexDirection:"column",gap:1.5},children:[l.jsx(ie,{variant:"h6",sx:{color:"white",fontWeight:600},children:n("imageView.title",{name:t.name})}),l.jsx(ie,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.9)"},children:n("imageView.description")}),l.jsx(Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:l.jsx(mt,{label:n("groupCard.imageCount",{count:t.image_count||0}),size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white"}})})]})]})}const oYe=()=>{const{t}=ht(["imageGroups","common"]),[e,n]=E.useState(0),[a,i]=E.useState(null),[r,o]=E.useState(!1),[s,c]=E.useState(!1),[u,d]=E.useState(null),[h,m]=E.useState(null),[g,y]=E.useState({open:!1,message:"",severity:"success"}),[v,S]=E.useState(!0),[w,_]=E.useState(null),[T,A]=E.useState(null),[R,I]=E.useState(null),[N,P]=E.useState([]),{data:O,isLoading:D}=_$e(T),{data:H,isLoading:L}=E$e(T),$=pJ(),M=O$e(),z=(T===null?O:H)||[],F=T===null?D:L,[G,ee]=E.useState(!1),[V,Y]=E.useState(null),[K,J]=E.useState([]),[W,te]=E.useState(!1),[re,ne]=E.useState(1),[ce,pe]=E.useState(1),[me,ge]=E.useState(0),[ye,he]=E.useState(25),de=async Ve=>{try{const rt=await ir.getBreadcrumbPath(Ve);rt.success&&rt.data&&P(rt.data)}catch(rt){console.error("Error loading breadcrumb:",rt)}},fe=async(Ve,rt=!0)=>{if(A(Ve),Ve===null)P([]),I(null);else{await de(Ve);try{const at=await ir.getGroup(Ve);console.log("[navigateToGroup] Group API response:",at),at.success&&at.data?(console.log("[navigateToGroup] Setting currentGroupInfo:",at.data),I(at.data)):console.error("[navigateToGroup] Failed to load group info:",at)}catch(at){console.error("Error loading current group info:",at)}}},oe=Ve=>{Ve===null?(S(!0),_(null),A(null),I(null),P([])):fe(Ve,!1)};E.useEffect(()=>{if(z.length===1&&T!==null){const Ve=z[0];if(Ve.image_count===0&&Ve.child_count===1){const rt=R?.name||t("imageGroups:defaultGroupName");le(t("imageGroups:autoNavigate",{from:rt,to:Ve.name}),"info"),fe(Ve.id,!0)}}},[z,T]);const ue=async(Ve,rt=1,at)=>{try{te(!0);const ot=at||ye,bt=await ir.getGroupImages(Ve,rt,ot);bt.success&&bt.data?(J(bt.data.images||[]),ne(bt.data.pagination?.page||1),pe(bt.data.pagination?.totalPages||1),ge(bt.data.pagination?.total||0)):(le(t("imageGroups:messages.imageLoadFailed"),"error"),J([]))}catch(ot){console.error("Error fetching group images:",ot),le(t("imageGroups:messages.imageLoadFailed"),"error"),J([])}finally{te(!1)}},le=(Ve,rt)=>{y({open:!0,message:Ve,severity:rt})},Se=()=>{y({...g,open:!1})},_e=()=>{d(null),m(null)},Ie=Ve=>{const rt=z.find(at=>at.id===Ve);rt&&(i(rt),c(!0))},ze=()=>{const Ve=z.find(rt=>rt.id===h);Ve&&(i(Ve),c(!0)),_e()},Me=async()=>{if(h){try{await $.mutateAsync({id:h,cascade:!1}),le(t("imageGroups:messages.deleteSuccess"),"success")}catch(Ve){console.error("Error deleting group:",Ve),le(t("imageGroups:messages.deleteFailed"),"error")}_e()}},Ze=async()=>{if(h){try{const Ve=await M.mutateAsync(h);le(t("imageGroups:messages.autoCollectSuccess",{added:Ve.images_added,removed:Ve.images_removed}),"success")}catch(Ve){console.error("Error running auto collection:",Ve),le(t("imageGroups:messages.autoCollectFailed"),"error")}_e()}},Ee=()=>{o(!1),le(t("imageGroups:created"),"info")},Ne=()=>{c(!1),i(null),le(t("imageGroups:updated"),"info")},ve=Ve=>{if(v){S(!1),_(Ve.id),A(Ve.id),fe(Ve.id);return}Ve.child_count&&Ve.child_count>0?fe(Ve.id):Ve.image_count>0?(Y(Ve),ee(!0),ne(1),ue(Ve.id,1,ye)):le(t("imageGroups:messages.emptyGroup"),"info")},we=()=>{ee(!1),Y(null),J([]),ne(1)},Oe=Ve=>{V&&(ne(Ve),ue(V.id,Ve,ye))},Le=Ve=>{he(Ve),V&&(ne(1),ue(V.id,1,Ve))},We=async Ve=>{if(V)try{if(Ve.length===0){le(t("imageGroups:messages.removeWarning"),"warning");return}const rt=await ir.removeImagesFromGroup(V.id,Ve);rt.success?le(t("imageGroups:messages.removeSuccess",{count:rt.removed}),"success"):le(t("imageGroups:messages.removePartialSuccess",{removed:rt.removed,failed:rt.errors.length}),"warning");const at=await ir.getGroupImages(V.id,re,ye);if(at.success&&at.data){const ot=at.data.images&&at.data.images.length>0,bt=re>1;!ot&&bt?(ne(re-1),ue(V.id,re-1,ye)):ue(V.id,re,ye)}else ue(V.id,re,ye)}catch(rt){console.error("Error removing images:",rt),le(t("imageGroups:messages.removeError"),"error")}},Fe=async(Ve,rt)=>{try{const at=await ir.addImagesToGroup(Ve,rt);if(at.success&&at.data){const{added_count:ot,converted_count:bt,skipped_count:Xt}=at.data;le(t("imageGroups:messages.assignSuccess",{added:ot,converted:bt,skipped:Xt}),"success")}else le(at.error||t("imageGroups:messages.assignFailed"),"error")}catch(at){console.error("Error assigning images:",at),le(t("imageGroups:messages.assignError"),"error")}};return F?l.jsx(Z,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:l.jsx(Yt,{})}):l.jsxs(tg,{maxWidth:"xl",sx:{py:3},children:[l.jsxs(Z,{sx:{mb:3},children:[l.jsx(ie,{variant:"h4",component:"h1",gutterBottom:!0,children:t("imageGroups:page.title")}),l.jsxs(No,{value:e,onChange:(Ve,rt)=>n(rt),sx:{mt:2,borderBottom:1,borderColor:"divider"},children:[l.jsx(Cn,{label:t("imageGroups:page.customGroupsTab")}),l.jsx(Cn,{label:t("imageGroups:page.autoFolderGroupsTab")})]})]}),l.jsxs(Z,{sx:{display:e===0?"block":"none"},children:[!v&&l.jsx(wee,{breadcrumb:N,onNavigate:oe,showGroupListRoot:!0}),(console.log("[Render] isGroupListView:",v),console.log("[Render] currentParentId:",T),console.log("[Render] currentGroupInfo:",R),console.log("[Render] groups.length:",z.length),!v&&T!==null&&R&&R.image_count>0||z.length>0)?l.jsxs(dn,{container:!0,spacing:3,children:[!v&&T!==null&&R&&R.image_count>0&&l.jsx(dn,{size:{xs:6,sm:4,md:3,lg:2,xl:1.5},children:l.jsx(rYe,{group:R,onClick:()=>{Y(R),ee(!0),ne(1),ue(R.id,1,ye)}})},`image-view-${T}`),z.map(Ve=>l.jsx(dn,{size:{xs:6,sm:4,md:3,lg:2,xl:1.5},children:l.jsx(iYe,{group:Ve,onClick:()=>ve(Ve),onSettingsClick:Ie})},Ve.id))]}):l.jsxs(Z,{textAlign:"center",py:8,children:[l.jsx(EOe,{sx:{fontSize:64,color:"text.secondary",mb:2}}),l.jsx(ie,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:t(v?"imageGroups:emptyState.noGroups":"imageGroups:emptyState.noSubgroups")}),l.jsx(ie,{variant:"body2",color:"text.secondary",mb:3,children:t(v?"imageGroups:emptyState.createPrompt":"imageGroups:emptyState.noSubgroupsHelp")})]}),l.jsx(PIe,{color:"primary","aria-label":"add group",sx:{position:"fixed",bottom:24,right:24},onClick:()=>o(!0),children:l.jsx(Vr,{})}),l.jsxs(jb,{anchorEl:u,open:!!u,onClose:_e,children:[l.jsxs(nn,{onClick:ze,children:[l.jsx(id,{sx:{mr:1},fontSize:"small"}),t("common:edit")]}),z.find(Ve=>Ve.id===h)?.auto_collect_enabled?l.jsxs(nn,{onClick:Ze,children:[l.jsx(ip,{sx:{mr:1},fontSize:"small"}),t("imageGroups:menu.runAutoCollection")]}):null,l.jsxs(nn,{onClick:Me,sx:{color:"error.main"},children:[l.jsx(Wa,{sx:{mr:1},fontSize:"small"}),t("common:delete")]})]}),l.jsx(rH,{open:r,onClose:()=>o(!1),onSuccess:Ee}),a?l.jsx(rH,{open:s,onClose:()=>{c(!1),i(null)},onSuccess:Ne,group:a}):null,l.jsx(Cee,{open:G,onClose:we,images:K,loading:W,currentGroup:V,allGroups:z,pageSize:ye,onPageSizeChange:Le,currentPage:re,totalPages:ce,total:me,onPageChange:Oe,onImagesRemoved:We,onImagesAssigned:Fe,groupType:"custom",onShowSnackbar:le})]}),l.jsx(Z,{sx:{display:e===1?"block":"none"},children:l.jsx(aYe,{onShowSnackbar:le})}),l.jsx(kg,{open:g.open,autoHideDuration:2e3,onClose:Se,children:l.jsx(xt,{onClose:Se,severity:g.severity,sx:{width:"100%"},children:g.message})})]})},sYe=()=>{const{t}=ht(["imageDetail","common"]),{compositeHash:e}=tj(),n=Tf(),[a,i]=E.useState(null),[r,o]=E.useState(!0),[s,c]=E.useState(null),[u,d]=E.useState(!1),[h,m]=E.useState(!1),[g,y]=E.useState(!1),v=Zc();E.useEffect(()=>{(async()=>{try{const D=await fo.getSettings();m(D.tagger.enabled)}catch(D){console.error("Failed to load settings:",D),m(!1)}})()},[]),E.useEffect(()=>{(async()=>{if(!e){c(t("imageDetail:page.noIdProvided")),o(!1);return}try{o(!0);const D=await bi.getImage(e);D.success&&D.data?i(D.data):c(D.error||t("imageDetail:page.notFound"))}catch{c(t("imageDetail:page.errorLoading"))}finally{o(!1)}})()},[e,t]);const S=async()=>{if(e)try{const O=await bi.getImage(e);O.success&&O.data&&i(O.data)}catch(O){console.error("Failed to reload image after tagging:",O)}},w=O=>{if(O===0)return"0 Bytes";const D=1024,H=["Bytes","KB","MB","GB"],L=Math.floor(Math.log(O)/Math.log(D));return parseFloat((O/Math.pow(D,L)).toFixed(2))+" "+H[L]},_=O=>new Date(O).toLocaleString("ko-KR"),T=()=>{if(!a||!a.composite_hash)return;const O=document.createElement("a");O.href=`${v}/api/images/${a.composite_hash}/download/original`,O.download=a.original_file_path||`image_${a.composite_hash.substring(0,8)}.png`,document.body.appendChild(O),O.click(),document.body.removeChild(O)},A=()=>{window.history.length>1?n(-1):n("/gallery")},R=(O,D=50)=>{if(O.length<=D)return O;const H=O.split(".").pop();return`${O.substring(0,O.lastIndexOf(".")).substring(0,D-H.length-4)+"..."}.${H}`},I=async()=>{if(a?.composite_hash)try{await navigator.clipboard.writeText(a.composite_hash),y(!0)}catch(O){console.error("Failed to copy hash:",O)}};if(r)return l.jsxs(Z,{sx:{maxWidth:1200,mx:"auto",p:3},children:[l.jsxs(Z,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[l.jsx(zc,{variant:"circular",width:40,height:40}),l.jsx(zc,{variant:"text",width:200,height:40})]}),l.jsxs(dn,{container:!0,spacing:3,children:[l.jsx(dn,{size:{xs:12,md:8},children:l.jsx(zc,{variant:"rectangular",height:600})}),l.jsx(dn,{size:{xs:12,md:4},children:l.jsx(zc,{variant:"rectangular",height:600})})]})]});if(s||!a)return l.jsxs(Z,{sx:{maxWidth:1200,mx:"auto",p:3},children:[l.jsxs(Z,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[l.jsx(lt,{onClick:A,children:l.jsx(cb,{})}),l.jsx(ie,{variant:"h5",children:t("imageDetail:page.title")})]}),l.jsx(xt,{severity:"error",children:s||t("imageDetail:page.notFound")})]});const N=a?`${v}/api/images/${a.composite_hash}/thumbnail`:"",P=a?`${v}/api/images/${a.composite_hash}/download/original`:"";return l.jsxs(Z,{sx:{maxWidth:1200,mx:"auto",p:3},children:[l.jsxs(Z,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[l.jsx(lt,{onClick:A,children:l.jsx(cb,{})}),l.jsx(ie,{variant:"h5",sx:{flex:1},children:t("imageDetail:page.title")}),l.jsx(Z,{sx:{display:"flex",gap:1},children:l.jsx(Ue,{variant:"outlined",startIcon:l.jsx(fg,{}),onClick:T,children:t("imageDetail:actions.download")})})]}),l.jsxs(dn,{container:!0,spacing:3,children:[l.jsx(dn,{size:{xs:12,md:7},children:l.jsxs(Z,{sx:{display:"flex",flexDirection:"column",gap:3},children:[l.jsx(Gt,{sx:{p:2,borderRadius:2},children:a.mime_type?.startsWith("video/")?l.jsx(Z,{component:"video",src:u?P:N,controls:!0,onError:()=>d(!0),sx:{width:"100%",height:"auto",maxHeight:"80vh",borderRadius:1}}):l.jsx(Z,{component:"img",src:u?P:N,alt:a.original_file_path??"",onError:()=>d(!0),sx:{width:"100%",height:"auto",maxHeight:"80vh",objectFit:"contain",borderRadius:1}})}),l.jsxs(Gt,{sx:{p:2,borderRadius:2},children:[l.jsx(ie,{variant:"h6",gutterBottom:!0,children:t("imageDetail:sections.fileInfo")}),l.jsxs(ie,{variant:"body2",color:"text.secondary",title:a.original_file_path??"",sx:{mb:1},children:[t("imageDetail:fileInfo.originalFilename"),": ",R(a.original_file_path??"")]})]}),l.jsxs(Gt,{sx:{p:2,borderRadius:2},children:[l.jsx(ie,{variant:"h6",gutterBottom:!0,children:a.mime_type?.startsWith("video/")?t("imageDetail:sections.videoInfo"):t("imageDetail:sections.imageInfo")}),l.jsxs(Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[t("imageDetail:fileInfo.size"),":"]})," ",a.width,"  ",a.height]}),l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[t("imageDetail:fileInfo.fileSize"),":"]})," ",w(a.file_size??0)]}),l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[t("imageDetail:fileInfo.mimeType"),":"]})," ",a.mime_type]}),a.mime_type?.startsWith("video/")&&l.jsxs(l.Fragment,{children:[a.duration&&l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[t("imageDetail:videoInfo.duration"),":"]})," ",t("imageDetail:videoInfo.durationValue",{minutes:Math.floor(a.duration/60),seconds:Math.floor(a.duration%60)})]}),a.fps&&l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[t("imageDetail:videoInfo.fps"),":"]})," ",t("imageDetail:videoInfo.fpsValue",{fps:a.fps.toFixed(2)})]}),a.video_codec&&l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[t("imageDetail:videoInfo.videoCodec"),":"]})," ",a.video_codec]}),a.audio_codec&&l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[t("imageDetail:videoInfo.audioCodec"),":"]})," ",a.audio_codec]}),a.bitrate&&l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[t("imageDetail:videoInfo.bitrate"),":"]})," ",t("imageDetail:videoInfo.bitrateValue",{bitrate:(a.bitrate/1e3).toFixed(2)})]})]}),l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[t("imageDetail:fileInfo.uploadDate"),":"]})," ",_(a.first_seen_date)]})]})]}),a.groups&&a.groups.length>0&&l.jsxs(Gt,{sx:{p:2,borderRadius:2},children:[l.jsx(ie,{variant:"h6",gutterBottom:!0,children:t("imageDetail:sections.groupInfo")}),l.jsx(Z,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:a.groups.map(O=>l.jsx(mt,{label:t("imageDetail:groupInfo.groupLabel",{name:O.name,type:O.collection_type==="auto"?t("imageDetail:groupInfo.autoType"):t("imageDetail:groupInfo.manualType")}),size:"small",variant:"filled",sx:{backgroundColor:O.color||(O.collection_type==="auto"?"#e3f2fd":"#f3e5f5"),color:O.color?"#fff":O.collection_type==="auto"?"#1976d2":"#7b1fa2"}},O.id))})]})]})}),l.jsx(dn,{size:{xs:12,md:5},children:l.jsxs(Z,{sx:{display:"flex",flexDirection:"column",gap:3,minWidth:325},children:[l.jsxs(Gt,{sx:{p:2,borderRadius:2},children:[l.jsx(ie,{variant:"h6",gutterBottom:!0,children:" "}),l.jsx(Z,{sx:{p:1.5,bgcolor:"action.hover",borderRadius:1,display:"flex",alignItems:"center",gap:1},children:a.composite_hash?l.jsxs(l.Fragment,{children:[l.jsx(jt,{title:" ",children:l.jsx(Z,{onClick:I,sx:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer",fontFamily:"monospace",fontSize:"0.75rem",color:"text.secondary","&:hover":{color:"primary.main"}},children:a.composite_hash})}),l.jsx(jt,{title:" ",children:l.jsx(lt,{size:"small",onClick:I,sx:{flexShrink:0},children:l.jsx(ng,{fontSize:"small"})})})]}):l.jsxs(l.Fragment,{children:[l.jsx(mS,{fontSize:"small",color:"disabled"}),l.jsx(ie,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:"   ..."})]})})]}),a.ai_metadata&&l.jsxs(Gt,{sx:{p:2,borderRadius:2},children:[l.jsx(ie,{variant:"h6",gutterBottom:!0,children:t("imageDetail:sections.aiInfo")}),l.jsxs(Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[a.ai_metadata.ai_tool&&l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[t("imageDetail:aiInfo.tool"),":"]})," ",a.ai_metadata.ai_tool]}),a.ai_metadata.model_name&&l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[t("imageDetail:aiInfo.model"),":"]})," ",a.ai_metadata.model_name]}),a.ai_metadata.lora_models&&l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[t("imageDetail:aiInfo.lora"),":"]})," ",JSON.stringify(a.ai_metadata.lora_models)]}),a.ai_metadata.generation_params.steps&&l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[t("imageDetail:aiInfo.steps"),":"]})," ",a.ai_metadata.generation_params.steps]}),a.ai_metadata.generation_params.cfg_scale&&l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[t("imageDetail:aiInfo.cfgScale"),":"]})," ",a.ai_metadata.generation_params.cfg_scale]}),a.ai_metadata.generation_params.sampler&&l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[t("imageDetail:aiInfo.sampler"),":"]})," ",a.ai_metadata.generation_params.sampler]}),a.ai_metadata.generation_params.scheduler&&l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[t("imageDetail:aiInfo.scheduler"),":"]})," ",a.ai_metadata.generation_params.scheduler]}),a.ai_metadata.generation_params.seed&&l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[t("imageDetail:aiInfo.seed"),":"]})," ",a.ai_metadata.generation_params.seed]}),a.ai_metadata.generation_params.denoise_strength&&l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[t("imageDetail:aiInfo.denoiseStrength"),":"]})," ",a.ai_metadata.generation_params.denoise_strength]}),a.ai_metadata.generation_params.generation_time&&l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[t("imageDetail:aiInfo.generationTime"),":"]})," ",t("imageDetail:aiInfo.generationTimeValue",{time:a.ai_metadata.generation_params.generation_time})]}),a.ai_metadata.generation_params.batch_size&&l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[t("imageDetail:aiInfo.batchSize"),":"]})," ",a.ai_metadata.generation_params.batch_size]}),a.ai_metadata.generation_params.batch_index&&l.jsxs(ie,{variant:"body2",children:[l.jsxs("strong",{children:[t("imageDetail:aiInfo.batchIndex"),":"]})," ",a.ai_metadata.generation_params.batch_index]})]})]}),a.ai_metadata&&(a.ai_metadata.prompts.prompt||a.ai_metadata.prompts.negative_prompt)||h?l.jsxs(Gt,{sx:{p:2,borderRadius:2},children:[l.jsx(ie,{variant:"h6",gutterBottom:!0,children:t("imageDetail:sections.promptInfo")}),l.jsx(_Z,{prompt:a.ai_metadata?.prompts.prompt,negativePrompt:a.ai_metadata?.prompts.negative_prompt,maxHeight:800,variant:"none",imageId:a.composite_hash,autoTags:a.auto_tags,isTaggerEnabled:h,onAutoTagGenerated:S})]}):null]})})]}),l.jsx(Z,{sx:{mt:3},children:l.jsxs(rl,{defaultExpanded:!1,children:[l.jsx(sl,{expandIcon:l.jsx(zi,{}),"aria-controls":"metadata-content",id:"metadata-header",children:l.jsx(ie,{variant:"h6",children:t("imageDetail:sections.fullMetadata")})}),l.jsx(ol,{children:l.jsx(Z,{component:"pre",sx:{p:2,borderRadius:1,overflow:"auto",maxHeight:"750px",fontSize:"0.875rem"},children:JSON.stringify(a,null,2)})})]})}),l.jsx(kg,{open:g,autoHideDuration:2e3,onClose:()=>y(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:l.jsx(xt,{onClose:()=>y(!1),severity:"success",variant:"filled",children:" "})})]})},lYe=({open:t,onClose:e})=>{const{t:n}=ht("settings"),[a,i]=E.useState(null),[r,o]=E.useState(null),[s,c]=E.useState(!1),[u,d]=E.useState(null),[h,m]=E.useState(!1),g=E.useRef(null);E.useEffect(()=>(t&&(y(),v()),()=>{g.current&&clearInterval(g.current)}),[t]),E.useEffect(()=>{if(h)return g.current=setInterval(async()=>{await v()},1e3),()=>{g.current&&clearInterval(g.current)};g.current&&clearInterval(g.current)},[h]),E.useEffect(()=>{r&&r.currentPhase==="completed"?(m(!1),y()):r&&r.isRunning?m(!0):r&&!r.isRunning&&m(!1)},[r]);const y=async()=>{try{const R=await n4.getStats();i(R)}catch(R){console.error("Failed to load thumbnail stats:",R),d(n("thumbnailRegeneration.messages.loadStatsFailed"))}},v=async()=>{try{const R=await n4.getProgress();o(R)}catch(R){console.error("Failed to load progress:",R)}},S=async()=>{c(!0),d(null);try{await n4.regenerate(),m(!0),await v()}catch(R){console.error("Failed to start thumbnail regeneration:",R),R.response?.status===409?d(n("thumbnailRegeneration.messages.alreadyRunning")):d(n("thumbnailRegeneration.messages.startFailed"))}finally{c(!1)}},w=()=>{h||e()},_=()=>!r||r.totalFiles===0?0:Math.round(r.processedFiles/r.totalFiles*100),T=R=>{switch(R){case"verification":return n("thumbnailRegeneration.phases.verifying");case"deletion":return n("thumbnailRegeneration.phases.deleting");case"generation":return n("thumbnailRegeneration.phases.generating");case"completed":return n("thumbnailRegeneration.phases.completed");case"idle":default:return n("thumbnailRegeneration.phases.waiting")}},A=()=>{if(!r||!r.startTime)return n("thumbnailRegeneration.time.seconds",{elapsed:0});const R=Math.floor((Date.now()-r.startTime)/1e3);if(R<60)return n("thumbnailRegeneration.time.seconds",{elapsed:R});const I=Math.floor(R/60),N=R%60;return n("thumbnailRegeneration.time.minutesSeconds",{minutes:I,seconds:N})};return l.jsxs(Fn,{open:t,onClose:w,maxWidth:"sm",fullWidth:!0,children:[l.jsx(Un,{children:l.jsxs(Z,{display:"flex",alignItems:"center",gap:1,children:[l.jsx(qc,{color:"primary"}),l.jsx(ie,{variant:"h6",children:n("thumbnailRegeneration.title")})]})}),l.jsxs($n,{dividers:!0,children:[u&&l.jsx(xt,{severity:"error",sx:{mb:2},children:u}),a&&!h&&l.jsxs(Z,{sx:{mb:3},children:[l.jsx(ie,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:n("thumbnailRegeneration.sections.currentStatus")}),l.jsxs(Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between"},children:[l.jsx(ie,{variant:"body2",color:"text.secondary",children:n("thumbnailRegeneration.stats.totalFiles")}),l.jsxs(ie,{variant:"body2",fontWeight:"medium",children:[a.totalFiles.toLocaleString(),""]})]}),l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between"},children:[l.jsx(ie,{variant:"body2",color:"text.secondary",children:n("thumbnailRegeneration.stats.withThumbnail")}),l.jsxs(ie,{variant:"body2",fontWeight:"medium",color:"success.main",children:[a.withThumbnails.toLocaleString(),""]})]}),l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between"},children:[l.jsx(ie,{variant:"body2",color:"text.secondary",children:n("thumbnailRegeneration.stats.withoutThumbnail")}),l.jsxs(ie,{variant:"body2",fontWeight:"medium",color:"error.main",children:[a.withoutThumbnails.toLocaleString(),""]})]})]})]}),h&&r&&l.jsxs(Z,{sx:{mb:3},children:[l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[l.jsx(ie,{variant:"subtitle1",fontWeight:"bold",children:T(r.currentPhase)}),l.jsx(mt,{label:r.currentPhase==="completed"?n("thumbnailRegeneration.status.completed"):n("thumbnailRegeneration.status.inProgress"),color:r.currentPhase==="completed"?"success":"primary",size:"small"})]}),r.currentPhase==="generation"&&l.jsxs(l.Fragment,{children:[l.jsx(oc,{variant:"determinate",value:_(),sx:{mb:1,height:8,borderRadius:4}}),l.jsxs(ie,{variant:"body2",color:"text.secondary",align:"center",sx:{mb:2},children:[r.processedFiles.toLocaleString()," / ",r.totalFiles.toLocaleString()," (",_(),"%)"]})]}),l.jsx(fn,{sx:{my:2}}),l.jsxs(Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between"},children:[l.jsx(ie,{variant:"body2",color:"text.secondary",children:n("thumbnailRegeneration.progress.deletedThumbnails")}),l.jsxs(ie,{variant:"body2",fontWeight:"medium",children:[r.deletedThumbnails.toLocaleString(),""]})]}),l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between"},children:[l.jsx(ie,{variant:"body2",color:"text.secondary",children:n("thumbnailRegeneration.progress.generatedThumbnails")}),l.jsxs(ie,{variant:"body2",fontWeight:"medium",color:"success.main",children:[r.generatedThumbnails.toLocaleString(),""]})]}),l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between"},children:[l.jsx(ie,{variant:"body2",color:"text.secondary",children:n("thumbnailRegeneration.progress.elapsedTime")}),l.jsx(ie,{variant:"body2",fontWeight:"medium",children:A()})]})]})]}),r&&r.currentPhase==="completed"&&l.jsx(xt,{severity:"success",icon:l.jsx(po,{}),children:n("thumbnailRegeneration.messages.success")}),!h&&l.jsxs(xt,{severity:"info",sx:{mt:2},children:[n("thumbnailRegeneration.instructions.title"),l.jsx("br",{}),n("thumbnailRegeneration.instructions.step1"),l.jsx("br",{}),n("thumbnailRegeneration.instructions.step2"),l.jsx("br",{}),n("thumbnailRegeneration.instructions.step3"),l.jsx("br",{}),l.jsx("br",{}),l.jsx("strong",{children:n("thumbnailRegeneration.instructions.warning")})," ",n("thumbnailRegeneration.instructions.warningText")]})]}),l.jsxs(Wn,{children:[l.jsx(Ue,{onClick:w,disabled:h,children:n(h?"thumbnailRegeneration.buttons.inProgress":"thumbnailRegeneration.buttons.close")}),!h&&l.jsx(Ue,{onClick:S,variant:"contained",color:"primary",disabled:s||h,children:n(s?"thumbnailRegeneration.buttons.starting":"thumbnailRegeneration.buttons.start")})]})]})},cYe=({settings:t,metadataSettings:e,thumbnailSettings:n,onUpdate:a,onMetadataUpdate:i,onThumbnailUpdate:r})=>{const{t:o,i18n:s}=ht("settings"),[c,u]=E.useState(!1),[d,h]=E.useState(null),[m,g]=E.useState(!1),y=async N=>{const P=N.target.value;u(!0),h(null);try{await a({language:P}),await s.changeLanguage(P)}catch(O){console.error("Failed to update language:",O),h("Failed to update language setting")}finally{u(!1)}},v=async N=>{u(!0),h(null);try{await i(N)}catch(P){console.error("Failed to update metadata settings:",P),h(o("messages.saveFailed"))}finally{u(!1)}},S=N=>{v({stealthScanMode:N.target.value})},w=N=>{const P=parseFloat(N.target.value);!isNaN(P)&&P>0&&v({stealthMaxFileSizeMB:P})},_=N=>{const P=parseFloat(N.target.value);!isNaN(P)&&P>0&&v({stealthMaxResolutionMP:P})},T=N=>P=>{v({[N]:P.target.checked})},A=async N=>{u(!0),h(null);try{await r(N)}catch(P){console.error("Failed to update thumbnail settings:",P),h(o("thumbnail.saveFailed"))}finally{u(!1)}},R=N=>{A({size:N.target.value})},I=N=>{const P=parseInt(N.target.value,10);!isNaN(P)&&P>=60&&P<=100&&A({quality:P})};return l.jsxs(Z,{children:[l.jsx(ie,{variant:"h6",gutterBottom:!0,children:o("general.title")}),d&&l.jsx(xt,{severity:"error",sx:{mb:2},children:d}),l.jsxs(Gt,{sx:{p:3},children:[l.jsxs(ri,{fullWidth:!0,disabled:c,children:[l.jsx(Nr,{id:"language-select-label",children:o("general.language.label")}),l.jsx(Xi,{labelId:"language-select-label",id:"language-select",value:t.language,label:o("general.language.label"),onChange:y,children:RLe.map(N=>l.jsxs(nn,{value:N.code,children:[N.name," (",N.englishName,")"]},N.code))})]}),l.jsx(Z,{sx:{mb:2,mt:3},children:l.jsx(wn,{control:l.jsx(Ai,{checked:t.enableGallery??!0,onChange:async N=>{try{await a({enableGallery:N.target.checked})}catch(P){console.error("Failed to update gallery setting:",P),h(o("messages.saveFailed"))}},disabled:c}),label:l.jsxs(Z,{sx:{display:"flex",alignItems:"center"},children:[l.jsx(ie,{variant:"body1",children:o("general.gallery.label")}),l.jsx(jt,{title:o("general.gallery.tooltip"),arrow:!0,children:l.jsx(Wl,{fontSize:"small",sx:{ml:1,color:"text.secondary"}})})]})})}),l.jsx(Z,{sx:{mb:2},children:l.jsx(wn,{control:l.jsx(Ai,{checked:t.autoCleanupCanvasOnShutdown??!1,onChange:async N=>{try{await a({autoCleanupCanvasOnShutdown:N.target.checked})}catch(P){console.error("Failed to update canvas cleanup setting:",P),h(o("messages.saveFailed"))}},disabled:c}),label:l.jsxs(Z,{sx:{display:"flex",alignItems:"center"},children:[l.jsx(ie,{variant:"body1",children:o("general.canvasCleanup.label")}),l.jsx(jt,{title:o("general.canvasCleanup.tooltip"),arrow:!0,children:l.jsx(Wl,{fontSize:"small",sx:{ml:1,color:"text.secondary"}})})]})})}),l.jsx(Z,{sx:{mb:2},children:l.jsx(wn,{control:l.jsx(Ai,{checked:t.showRatingBadges??!0,onChange:async N=>{try{await a({showRatingBadges:N.target.checked})}catch(P){console.error("Failed to update rating badges setting:",P),h(o("messages.saveFailed"))}},disabled:c}),label:l.jsxs(Z,{sx:{display:"flex",alignItems:"center"},children:[l.jsx(ie,{variant:"body1",children:o("general.ratingBadges.label")}),l.jsx(jt,{title:o("general.ratingBadges.tooltip"),arrow:!0,children:l.jsx(Wl,{fontSize:"small",sx:{ml:1,color:"text.secondary"}})})]})})}),l.jsx(Z,{sx:{mb:2},children:l.jsx(wn,{control:l.jsx(Ai,{checked:t.deleteProtection?.enabled??!0,onChange:async N=>{try{await a({deleteProtection:{...t.deleteProtection,enabled:N.target.checked,recycleBinPath:"RecycleBin"}})}catch(P){console.error("Failed to update delete protection:",P),h(o("messages.saveFailed"))}},disabled:c}),label:l.jsxs(Z,{sx:{display:"flex",alignItems:"center"},children:[l.jsx(ie,{variant:"body1",children:o("general.deleteProtection.label")}),l.jsx(jt,{title:o("general.deleteProtection.tooltip"),arrow:!0,children:l.jsx(Wl,{fontSize:"small",sx:{ml:1,color:"text.secondary"}})})]})})}),l.jsx(fn,{sx:{my:4}}),l.jsxs(Z,{sx:{display:"flex",alignItems:"center",mb:3},children:[l.jsx(ie,{variant:"h6",children:o("thumbnail.title")}),l.jsx(jt,{title:o("thumbnail.description"),arrow:!0,children:l.jsx(Wl,{fontSize:"small",sx:{ml:1,color:"text.secondary"}})})]}),l.jsxs(ri,{fullWidth:!0,disabled:c,sx:{mb:3},children:[l.jsx(Nr,{id:"thumbnail-size-label",children:o("thumbnail.size.label")}),l.jsxs(Xi,{labelId:"thumbnail-size-label",value:n.size,label:o("thumbnail.size.selectLabel"),onChange:R,children:[l.jsx(nn,{value:"original",children:o("thumbnail.size.original")}),l.jsx(nn,{value:"2048",children:"2048px"}),l.jsx(nn,{value:"1080",children:o("thumbnail.size.default")}),l.jsx(nn,{value:"720",children:"720px"}),l.jsx(nn,{value:"512",children:"512px"})]})]}),l.jsx(Tt,{fullWidth:!0,type:"number",label:o("thumbnail.quality.label"),value:n.quality,onChange:I,helperText:o("thumbnail.quality.helperText"),inputProps:{min:60,max:100},disabled:c,sx:{mb:3}}),l.jsxs(Z,{sx:{mb:3},children:[l.jsx(Ue,{variant:"contained",color:"primary",onClick:()=>g(!0),disabled:c,fullWidth:!0,children:o("thumbnail.regenerate.button")}),l.jsx(ie,{variant:"body2",color:"text.secondary",sx:{mt:1},children:o("thumbnail.regenerate.description")})]}),l.jsx(fn,{sx:{my:4}}),l.jsxs(Z,{sx:{display:"flex",alignItems:"center",mb:3},children:[l.jsx(ie,{variant:"h6",children:o("general.metadata.title")}),l.jsx(jt,{title:o("general.metadata.performanceNote"),arrow:!0,children:l.jsx(Wl,{fontSize:"small",sx:{ml:1,color:"text.secondary"}})})]}),l.jsxs(ri,{component:"fieldset",fullWidth:!0,sx:{mb:3},disabled:c,children:[l.jsx($v,{component:"legend",children:l.jsx(ie,{variant:"subtitle1",gutterBottom:!0,children:o("general.metadata.scanMode.title")})}),l.jsxs(U1,{value:e.stealthScanMode,onChange:S,children:[l.jsx(wn,{value:"fast",control:l.jsx(Xs,{}),label:l.jsxs(Z,{children:[l.jsx(ie,{variant:"body1",children:o("general.metadata.scanMode.fast.label")}),l.jsx(ie,{variant:"body2",color:"text.secondary",children:o("general.metadata.scanMode.fast.description")})]})}),l.jsx(wn,{value:"full",control:l.jsx(Xs,{}),label:l.jsxs(Z,{children:[l.jsx(ie,{variant:"body1",children:o("general.metadata.scanMode.full.label")}),l.jsx(ie,{variant:"body2",color:"text.secondary",children:o("general.metadata.scanMode.full.description")})]})}),l.jsx(wn,{value:"skip",control:l.jsx(Xs,{}),label:l.jsxs(Z,{children:[l.jsx(ie,{variant:"body1",children:o("general.metadata.scanMode.skip.label")}),l.jsx(ie,{variant:"body2",color:"text.secondary",children:o("general.metadata.scanMode.skip.description")})]})})]})]}),l.jsx(fn,{sx:{my:3}}),l.jsxs(Z,{sx:{mb:3},children:[l.jsx(ie,{variant:"subtitle1",gutterBottom:!0,children:o("general.metadata.limits.title")}),l.jsx(Tt,{fullWidth:!0,type:"number",label:o("general.metadata.limits.fileSize.label"),value:e.stealthMaxFileSizeMB,onChange:w,helperText:o("general.metadata.limits.fileSize.helper"),inputProps:{min:1,step:.5},disabled:c,sx:{mb:2}}),l.jsx(Tt,{fullWidth:!0,type:"number",label:o("general.metadata.limits.resolution.label"),value:e.stealthMaxResolutionMP,onChange:_,helperText:o("general.metadata.limits.resolution.helper"),inputProps:{min:1,step:.5},disabled:c})]}),l.jsx(fn,{sx:{my:3}}),l.jsxs(Z,{sx:{mb:3},children:[l.jsx(ie,{variant:"subtitle1",gutterBottom:!0,children:o("general.metadata.skipSettings.title")}),l.jsx(ie,{variant:"body2",color:"text.secondary",sx:{mb:2},children:o("general.metadata.skipSettings.description")}),l.jsx(wn,{control:l.jsx(Ai,{checked:e.skipStealthForComfyUI,onChange:T("skipStealthForComfyUI"),disabled:c}),label:l.jsxs(Z,{children:[l.jsx(ie,{variant:"body1",children:o("general.metadata.skipSettings.comfyui.label")}),l.jsx(ie,{variant:"body2",color:"text.secondary",children:o("general.metadata.skipSettings.comfyui.description")})]})}),l.jsx(wn,{control:l.jsx(Ai,{checked:e.skipStealthForWebUI,onChange:T("skipStealthForWebUI"),disabled:c}),label:l.jsxs(Z,{children:[l.jsx(ie,{variant:"body1",children:o("general.metadata.skipSettings.webui.label")}),l.jsx(ie,{variant:"body2",color:"text.secondary",children:o("general.metadata.skipSettings.webui.description")})]})})]}),l.jsx(fn,{sx:{my:3}}),l.jsx(Z,{sx:{mb:3},children:l.jsx(wn,{control:l.jsx(Ai,{checked:e.enableSecondaryExtraction,onChange:T("enableSecondaryExtraction"),disabled:c}),label:l.jsxs(Z,{children:[l.jsx(ie,{variant:"body1",children:o("general.metadata.secondary.label")}),l.jsx(ie,{variant:"body2",color:"text.secondary",children:o("general.metadata.secondary.description")})]})})})]}),l.jsx(lYe,{open:m,onClose:()=>g(!1)})]})},uYe=({settings:t,onUpdate:e})=>{const[n,a]=E.useState(t),[i,r]=E.useState(!1),[o,s]=E.useState(!1);return E.useEffect(()=>{a(t)},[t]),E.useEffect(()=>{const h=JSON.stringify(n)!==JSON.stringify(t);s(h)},[n,t]),{localSettings:n,loading:i,hasChanges:o,updateSettings:h=>{a({...n,...h})},handleSave:async()=>{r(!0);try{await e(n),s(!1)}catch(h){throw console.error("Failed to save settings:",h),h}finally{r(!1)}},handleReset:()=>{a(t),s(!1)}}},dYe=t=>{const[e,n]=E.useState([]),[a,i]=E.useState(null),[r,o]=E.useState(!1),[s,c]=E.useState(!1);E.useEffect(()=>{u(),d()},[]),E.useEffect(()=>{if(t){const v=setInterval(d,5e3);return()=>clearInterval(v)}},[t]);const u=async()=>{try{const v=await fo.getModelsList();n(v)}catch(v){console.error("Failed to load models:",v)}},d=async()=>{try{o(!0);const v=await fo.getTaggerStatus();i(v)}catch(v){console.error("Failed to load model status:",v)}finally{o(!1)}};return{models:e,modelStatus:a,statusLoading:r,loading:s,loadModels:u,loadModelStatus:d,handleLoadModel:async(v,S)=>{c(!0);try{await fo.loadModel(v),await d(),alert(S("tagger.alerts.modelLoaded"))}catch(w){alert(S("tagger.alerts.loadFailed")),console.error("Failed to load model:",w)}finally{c(!1)}},handleUnloadModel:async v=>{c(!0);try{await fo.unloadModel(),await d(),alert(v("tagger.alerts.modelUnloaded"))}catch(S){alert(v("tagger.alerts.unloadFailed")),console.error("Failed to unload model:",S)}finally{c(!1)}},handleDownloadModel:async(v,S)=>{c(!0);try{const w=await fo.downloadModel(v);alert(w.message),await u(),S&&S()}catch(w){alert("Failed to download model"),console.error("Failed to download model:",w)}finally{c(!1)}},handleCheckDependencies:async()=>{try{return await fo.checkDependencies()}catch(v){return console.error("Failed to check dependencies:",v),{available:!1,message:"Failed to check dependencies"}}}}},fYe=(t,e)=>{if(!t)return e("tagger.modelStatus.none");const n=new Date(t),i=new Date().getTime()-n.getTime(),r=Math.floor(i/6e4);if(r<1)return e("tagger.modelStatus.justNow");if(r<60)return e("tagger.modelStatus.minutesAgo",{minutes:r});const o=Math.floor(r/60);if(o<24)return e("tagger.modelStatus.hoursAgo",{hours:o});const s=Math.floor(o/24);return e("tagger.modelStatus.daysAgo",{days:s})},hYe=t=>/^[0-9a-fA-F]{32,48}$/.test(t)?{isValid:!0,hash:t}:{isValid:!1},pYe=t=>{if(hYe(t).isValid)return{isValid:!0,imageId:0};const n=parseInt(t);return isNaN(n)||n<=0?{isValid:!1}:{isValid:!0,imageId:n}},mYe=()=>{const[t,e]=E.useState(""),[n,a]=E.useState(!1),[i,r]=E.useState(null);return{testImageId:t,testProcessing:n,testResult:i,setTestImageId:e,handleTestImage:async s=>{const c=pYe(t);if(!c.isValid){alert(s("tagger.test.invalidId"));return}a(!0),r(null);try{const u=await fD.testImage(String(c.imageId));r(u)}catch(u){alert(s("tagger.test.failed")),console.error("Failed to test image:",u)}finally{a(!1)}}}},gYe=t=>{const e=yt.c(62),{modelStatus:n,statusLoading:a,models:i,loading:r,onLoadModel:o,onUnloadModel:s,onRefreshStatus:c}=t,{t:u}=ht("settings");let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d={bgcolor:"background.default"},e[0]=d):d=e[0];let h;e[1]!==u?(h=u("tagger.modelStatus.title"),e[1]=u,e[2]=h):h=e[2];let m;e[3]!==h?(m=l.jsx(ie,{variant:"subtitle1",gutterBottom:!0,children:h}),e[3]=h,e[4]=m):m=e[4];let g;e[5]===Symbol.for("react.memo_cache_sentinel")?(g={mb:1},e[5]=g):g=e[5];let y;e[6]!==n?.modelLoaded||e[7]!==u?(y=n?.modelLoaded?u("tagger.modelStatus.loaded"):u("tagger.modelStatus.unloaded"),e[6]=n?.modelLoaded,e[7]=u,e[8]=y):y=e[8];const v=n?.modelLoaded?"success":"default";let S;e[9]!==n?.modelLoaded?(S=n?.modelLoaded?l.jsx(po,{}):void 0,e[9]=n?.modelLoaded,e[10]=S):S=e[10];let w;e[11]!==y||e[12]!==v||e[13]!==S?(w=l.jsx(mt,{label:y,color:v,size:"small",icon:S}),e[11]=y,e[12]=v,e[13]=S,e[14]=w):w=e[14];let _;e[15]!==n||e[16]!==i?(_=n?.currentModel&&l.jsx(mt,{label:i.find(K=>K.name===n.currentModel)?.label||n.currentModel,size:"small",variant:"outlined"}),e[15]=n,e[16]=i,e[17]=_):_=e[17];let T;e[18]!==n?(T=n?.currentDevice&&l.jsx(mt,{label:n.currentDevice,size:"small",color:n.currentDevice.includes("cuda")?"success":"default",variant:"outlined"}),e[18]=n,e[19]=T):T=e[19];let A;e[20]!==a?(A=a&&l.jsx(Yt,{size:16}),e[20]=a,e[21]=A):A=e[21];let R;e[22]!==T||e[23]!==A||e[24]!==w||e[25]!==_?(R=l.jsxs(cn,{direction:"row",spacing:1,alignItems:"center",sx:g,children:[w,_,T,A]}),e[22]=T,e[23]=A,e[24]=w,e[25]=_,e[26]=R):R=e[26];let I;e[27]!==n||e[28]!==u?(I=n?.lastUsedAt&&l.jsxs(ie,{variant:"caption",color:"text.secondary",children:[u("tagger.modelStatus.lastUsed"),": ",fYe(n.lastUsedAt,u)]}),e[27]=n,e[28]=u,e[29]=I):I=e[29];let N;e[30]!==R||e[31]!==I||e[32]!==m?(N=l.jsxs(Z,{flex:1,children:[m,R,I]}),e[30]=R,e[31]=I,e[32]=m,e[33]=N):N=e[33];const P=n?.modelLoaded||r;let O;e[34]===Symbol.for("react.memo_cache_sentinel")?(O=l.jsx(bp,{}),e[34]=O):O=e[34];let D;e[35]!==u?(D=u("tagger.buttons.load"),e[35]=u,e[36]=D):D=e[36];let H;e[37]!==o||e[38]!==P||e[39]!==D?(H=l.jsx(Ue,{onClick:o,disabled:P,startIcon:O,size:"small",children:D}),e[37]=o,e[38]=P,e[39]=D,e[40]=H):H=e[40];const L=!n?.modelLoaded||r;let $;e[41]===Symbol.for("react.memo_cache_sentinel")?($=l.jsx(_Oe,{}),e[41]=$):$=e[41];let M;e[42]!==u?(M=u("tagger.buttons.unload"),e[42]=u,e[43]=M):M=e[43];let z;e[44]!==s||e[45]!==L||e[46]!==M?(z=l.jsx(Ue,{onClick:s,disabled:L,startIcon:$,color:"warning",size:"small",children:M}),e[44]=s,e[45]=L,e[46]=M,e[47]=z):z=e[47];let F;e[48]===Symbol.for("react.memo_cache_sentinel")?(F=l.jsx(jo,{}),e[48]=F):F=e[48];let G;e[49]!==u?(G=u("tagger.buttons.refresh"),e[49]=u,e[50]=G):G=e[50];let ee;e[51]!==c||e[52]!==a||e[53]!==G?(ee=l.jsx(Ue,{onClick:c,disabled:a,startIcon:F,size:"small",variant:"outlined",children:G}),e[51]=c,e[52]=a,e[53]=G,e[54]=ee):ee=e[54];let V;e[55]!==H||e[56]!==z||e[57]!==ee?(V=l.jsxs(cn,{direction:"row",spacing:1,children:[H,z,ee]}),e[55]=H,e[56]=z,e[57]=ee,e[58]=V):V=e[58];let Y;return e[59]!==N||e[60]!==V?(Y=l.jsx(ma,{variant:"outlined",sx:d,children:l.jsx(Ri,{children:l.jsxs(cn,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[N,V]})})}),e[59]=N,e[60]=V,e[61]=Y):Y=e[61],Y},bYe=t=>{const e=yt.c(135),{localSettings:n,models:a,onUpdateSettings:i}=t,{t:r}=ht("settings");let o;if(e[0]!==n.model||e[1]!==a){let Le;e[3]!==n.model?(Le=We=>We.name===n.model,e[3]=n.model,e[4]=Le):Le=e[4],o=a.find(Le),e[0]=n.model,e[1]=a,e[2]=o}else o=e[2];const s=o,c=s?.downloaded||!1;let u;e[5]!==i?(u=Le=>i({enabled:Le.target.checked}),e[5]=i,e[6]=u):u=e[6];let d;e[7]!==n.enabled||e[8]!==u?(d=l.jsx(Ai,{checked:n.enabled,onChange:u}),e[7]=n.enabled,e[8]=u,e[9]=d):d=e[9];let h;e[10]!==r?(h=r("tagger.enableAutoTagging"),e[10]=r,e[11]=h):h=e[11];let m;e[12]!==d||e[13]!==h?(m=l.jsx(wn,{control:d,label:h}),e[12]=d,e[13]=h,e[14]=m):m=e[14];let g;e[15]!==n.enabled||e[16]!==n.model||e[17]!==a||e[18]!==i||e[19]!==r?(g=a.length>0?l.jsxs(ri,{fullWidth:!0,disabled:!n.enabled,children:[l.jsx(Nr,{children:r("tagger.model.label")}),l.jsx(Xi,{value:n.model,label:r("tagger.model.label"),onChange:Le=>i({model:Le.target.value}),children:a.map(Le=>l.jsx(nn,{value:Le.name,children:l.jsxs(Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[l.jsxs(Z,{children:[l.jsx(ie,{variant:"body1",children:r(`tagger.model.${Le.name}.label`)}),l.jsx(ie,{variant:"caption",color:"text.secondary",children:r(`tagger.model.${Le.name}.description`)})]}),Le.downloaded&&l.jsx(mt,{size:"small",icon:l.jsx(po,{}),label:r("tagger.model.downloaded"),color:"success",sx:{ml:2}})]})},Le.name))})]}):l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[l.jsx(Yt,{size:20}),l.jsx(ie,{variant:"body2",color:"text.secondary",children:r("tagger.model.loading")})]}),e[15]=n.enabled,e[16]=n.model,e[17]=a,e[18]=i,e[19]=r,e[20]=g):g=e[20];const y=!n.enabled;let v;e[21]!==r?(v=r("tagger.device.label"),e[21]=r,e[22]=v):v=e[22];let S;e[23]!==v?(S=l.jsx(Nr,{children:v}),e[23]=v,e[24]=S):S=e[24];const w=n.device;let _;e[25]!==r?(_=r("tagger.device.label"),e[25]=r,e[26]=_):_=e[26];let T;e[27]!==i?(T=Le=>i({device:Le.target.value}),e[27]=i,e[28]=T):T=e[28];let A;e[29]!==r?(A=r("tagger.device.auto.title"),e[29]=r,e[30]=A):A=e[30];let R;e[31]!==A?(R=l.jsx(ie,{variant:"body1",children:A}),e[31]=A,e[32]=R):R=e[32];let I;e[33]!==r?(I=r("tagger.device.auto.description"),e[33]=r,e[34]=I):I=e[34];let N;e[35]!==I?(N=l.jsx(ie,{variant:"caption",color:"text.secondary",children:I}),e[35]=I,e[36]=N):N=e[36];let P;e[37]!==R||e[38]!==N?(P=l.jsx(nn,{value:"auto",children:l.jsxs(Z,{children:[R,N]})}),e[37]=R,e[38]=N,e[39]=P):P=e[39];let O;e[40]!==r?(O=r("tagger.device.cpu.title"),e[40]=r,e[41]=O):O=e[41];let D;e[42]!==O?(D=l.jsx(ie,{variant:"body1",children:O}),e[42]=O,e[43]=D):D=e[43];let H;e[44]!==r?(H=r("tagger.device.cpu.description"),e[44]=r,e[45]=H):H=e[45];let L;e[46]!==H?(L=l.jsx(ie,{variant:"caption",color:"text.secondary",children:H}),e[46]=H,e[47]=L):L=e[47];let $;e[48]!==D||e[49]!==L?($=l.jsx(nn,{value:"cpu",children:l.jsxs(Z,{children:[D,L]})}),e[48]=D,e[49]=L,e[50]=$):$=e[50];let M;e[51]!==r?(M=r("tagger.device.cuda.title"),e[51]=r,e[52]=M):M=e[52];let z;e[53]!==M?(z=l.jsx(ie,{variant:"body1",children:M}),e[53]=M,e[54]=z):z=e[54];let F;e[55]!==r?(F=r("tagger.device.cuda.description"),e[55]=r,e[56]=F):F=e[56];let G;e[57]!==F?(G=l.jsx(ie,{variant:"caption",color:"text.secondary",children:F}),e[57]=F,e[58]=G):G=e[58];let ee;e[59]!==z||e[60]!==G?(ee=l.jsx(nn,{value:"cuda",children:l.jsxs(Z,{children:[z,G]})}),e[59]=z,e[60]=G,e[61]=ee):ee=e[61];let V;e[62]!==n.device||e[63]!==_||e[64]!==T||e[65]!==P||e[66]!==$||e[67]!==ee?(V=l.jsxs(Xi,{value:w,label:_,onChange:T,children:[P,$,ee]}),e[62]=n.device,e[63]=_,e[64]=T,e[65]=P,e[66]=$,e[67]=ee,e[68]=V):V=e[68];let Y;e[69]!==V||e[70]!==y||e[71]!==S?(Y=l.jsxs(ri,{fullWidth:!0,disabled:y,children:[S,V]}),e[69]=V,e[70]=y,e[71]=S,e[72]=Y):Y=e[72];let K;e[73]!==s||e[74]!==c||e[75]!==n.enabled||e[76]!==r?(K=n.enabled&&l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[l.jsx(mt,{icon:c?l.jsx(po,{}):l.jsx(Yh,{}),label:r(c?"tagger.status.downloaded":"tagger.status.notDownloaded"),color:c?"success":"warning",size:"small"}),l.jsx(jt,{title:c?r("tagger.alerts.modelDownloaded",{model:s?r(`tagger.model.${s.name}.label`):""}):r("tagger.alerts.modelNotDownloaded",{model:s?r(`tagger.model.${s.name}.label`):""}),arrow:!0,children:l.jsx(Yh,{fontSize:"small",sx:{color:"text.secondary",cursor:"help"}})})]}),e[73]=s,e[74]=c,e[75]=n.enabled,e[76]=r,e[77]=K):K=e[77];let J;e[78]===Symbol.for("react.memo_cache_sentinel")?(J={display:"flex",alignItems:"center",gap:1,mb:1},e[78]=J):J=e[78];let W;e[79]!==n.generalThreshold||e[80]!==r?(W=r("tagger.threshold.general.label",{value:n.generalThreshold.toFixed(2)}),e[79]=n.generalThreshold,e[80]=r,e[81]=W):W=e[81];let te;e[82]!==W?(te=l.jsx(ie,{children:W}),e[82]=W,e[83]=te):te=e[83];let re;e[84]!==r?(re=r("tagger.threshold.general.description"),e[84]=r,e[85]=re):re=e[85];let ne;e[86]===Symbol.for("react.memo_cache_sentinel")?(ne=l.jsx(Yh,{fontSize:"small",sx:{color:"text.secondary",cursor:"help"}}),e[86]=ne):ne=e[86];let ce;e[87]!==re?(ce=l.jsx(jt,{title:re,arrow:!0,children:ne}),e[87]=re,e[88]=ce):ce=e[88];let pe;e[89]!==te||e[90]!==ce?(pe=l.jsxs(Z,{sx:J,children:[te,ce]}),e[89]=te,e[90]=ce,e[91]=pe):pe=e[91];let me;e[92]===Symbol.for("react.memo_cache_sentinel")?(me={width:"90%",mx:"auto"},e[92]=me):me=e[92];let ge;e[93]!==i?(ge=(Le,We)=>i({generalThreshold:We}),e[93]=i,e[94]=ge):ge=e[94];let ye;e[95]===Symbol.for("react.memo_cache_sentinel")?(ye=[{value:0,label:"0.0"},{value:.5,label:"0.5"},{value:1,label:"1.0"}],e[95]=ye):ye=e[95];const he=!n.enabled;let de;e[96]!==n.generalThreshold||e[97]!==ge||e[98]!==he?(de=l.jsx(Z,{sx:me,children:l.jsx(ki,{value:n.generalThreshold,onChange:ge,min:0,max:1,step:.05,marks:ye,disabled:he})}),e[96]=n.generalThreshold,e[97]=ge,e[98]=he,e[99]=de):de=e[99];let fe;e[100]!==pe||e[101]!==de?(fe=l.jsxs(Z,{children:[pe,de]}),e[100]=pe,e[101]=de,e[102]=fe):fe=e[102];let oe;e[103]===Symbol.for("react.memo_cache_sentinel")?(oe={display:"flex",alignItems:"center",gap:1,mb:1},e[103]=oe):oe=e[103];let ue;e[104]!==n.characterThreshold||e[105]!==r?(ue=r("tagger.threshold.character.label",{value:n.characterThreshold.toFixed(2)}),e[104]=n.characterThreshold,e[105]=r,e[106]=ue):ue=e[106];let le;e[107]!==ue?(le=l.jsx(ie,{children:ue}),e[107]=ue,e[108]=le):le=e[108];let Se;e[109]!==r?(Se=r("tagger.threshold.character.description"),e[109]=r,e[110]=Se):Se=e[110];let _e;e[111]===Symbol.for("react.memo_cache_sentinel")?(_e=l.jsx(Yh,{fontSize:"small",sx:{color:"text.secondary",cursor:"help"}}),e[111]=_e):_e=e[111];let Ie;e[112]!==Se?(Ie=l.jsx(jt,{title:Se,arrow:!0,children:_e}),e[112]=Se,e[113]=Ie):Ie=e[113];let ze;e[114]!==le||e[115]!==Ie?(ze=l.jsxs(Z,{sx:oe,children:[le,Ie]}),e[114]=le,e[115]=Ie,e[116]=ze):ze=e[116];let Me;e[117]===Symbol.for("react.memo_cache_sentinel")?(Me={width:"90%",mx:"auto"},e[117]=Me):Me=e[117];let Ze;e[118]!==i?(Ze=(Le,We)=>i({characterThreshold:We}),e[118]=i,e[119]=Ze):Ze=e[119];let Ee;e[120]===Symbol.for("react.memo_cache_sentinel")?(Ee=[{value:0,label:"0.0"},{value:.5,label:"0.5"},{value:1,label:"1.0"}],e[120]=Ee):Ee=e[120];const Ne=!n.enabled;let ve;e[121]!==n.characterThreshold||e[122]!==Ze||e[123]!==Ne?(ve=l.jsx(Z,{sx:Me,children:l.jsx(ki,{value:n.characterThreshold,onChange:Ze,min:0,max:1,step:.05,marks:Ee,disabled:Ne})}),e[121]=n.characterThreshold,e[122]=Ze,e[123]=Ne,e[124]=ve):ve=e[124];let we;e[125]!==ze||e[126]!==ve?(we=l.jsxs(Z,{children:[ze,ve]}),e[125]=ze,e[126]=ve,e[127]=we):we=e[127];let Oe;return e[128]!==Y||e[129]!==K||e[130]!==fe||e[131]!==m||e[132]!==we||e[133]!==g?(Oe=l.jsxs(cn,{spacing:3,children:[m,g,Y,K,fe,we]}),e[128]=Y,e[129]=K,e[130]=fe,e[131]=m,e[132]=we,e[133]=g,e[134]=Oe):Oe=e[134],Oe},yYe=t=>{const e=yt.c(35),{localSettings:n,onUpdateSettings:a}=t,{t:i}=ht("settings");let r;e[0]!==i?(r=i("tagger.memoryManagement.title"),e[0]=i,e[1]=r):r=e[1];let o;e[2]!==r?(o=l.jsx(ie,{variant:"h6",gutterBottom:!0,children:r}),e[2]=r,e[3]=o):o=e[3];let s;e[4]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex",alignItems:"center"},e[4]=s):s=e[4];let c;e[5]!==a?(c=T=>a({keepModelLoaded:T.target.checked}),e[5]=a,e[6]=c):c=e[6];let u;e[7]!==n.keepModelLoaded||e[8]!==c?(u=l.jsx(Ai,{checked:n.keepModelLoaded,onChange:c}),e[7]=n.keepModelLoaded,e[8]=c,e[9]=u):u=e[9];let d;e[10]!==i?(d=i("tagger.memoryManagement.keepModelLoaded"),e[10]=i,e[11]=d):d=e[11];let h;e[12]!==u||e[13]!==d?(h=l.jsx(wn,{control:u,label:d}),e[12]=u,e[13]=d,e[14]=h):h=e[14];let m;e[15]!==n.keepModelLoaded||e[16]!==i?(m=n.keepModelLoaded?i("tagger.memoryManagement.keepLoadedAlert"):i("tagger.memoryManagement.notKeepLoadedAlert"),e[15]=n.keepModelLoaded,e[16]=i,e[17]=m):m=e[17];let g;e[18]===Symbol.for("react.memo_cache_sentinel")?(g=l.jsx(Wl,{fontSize:"small",sx:{ml:1,color:"text.secondary"}}),e[18]=g):g=e[18];let y;e[19]!==m?(y=l.jsx(jt,{title:m,arrow:!0,children:g}),e[19]=m,e[20]=y):y=e[20];let v;e[21]!==y||e[22]!==h?(v=l.jsxs(Z,{sx:s,children:[h,y]}),e[21]=y,e[22]=h,e[23]=v):v=e[23];let S;e[24]!==n.autoUnloadMinutes||e[25]!==n.keepModelLoaded||e[26]!==a||e[27]!==i?(S=n.keepModelLoaded&&l.jsxs(Z,{children:[l.jsx(ie,{gutterBottom:!0,children:i("tagger.memoryManagement.autoUnloadMinutes",{minutes:n.autoUnloadMinutes})}),l.jsx(Z,{sx:{width:"90%",mx:"auto"},children:l.jsx(ki,{value:n.autoUnloadMinutes,onChange:(T,A)=>a({autoUnloadMinutes:A}),min:1,max:60,step:1,marks:[{value:1,label:"1min"},{value:15,label:"15min"},{value:30,label:"30min"},{value:60,label:"60min"}],sx:{"& .MuiSlider-markLabel":{fontSize:"0.75rem"}}})})]}),e[24]=n.autoUnloadMinutes,e[25]=n.keepModelLoaded,e[26]=a,e[27]=i,e[28]=S):S=e[28];let w;e[29]!==v||e[30]!==S?(w=l.jsxs(cn,{spacing:2,children:[v,S]}),e[29]=v,e[30]=S,e[31]=w):w=e[31];let _;return e[32]!==w||e[33]!==o?(_=l.jsxs(Z,{children:[o,w]}),e[32]=w,e[33]=o,e[34]=_):_=e[34],_},xYe=t=>{const e=yt.c(42),{testImageId:n,testProcessing:a,testResult:i,onSetTestImageId:r,onTestImage:o}=t,{t:s}=ht("settings");let c;e[0]!==s?(c=s("tagger.test.title"),e[0]=s,e[1]=c):c=e[1];let u;e[2]!==c?(u=l.jsx(ie,{variant:"h6",gutterBottom:!0,children:c}),e[2]=c,e[3]=u):u=e[3];let d;e[4]!==s?(d=s("tagger.test.description"),e[4]=s,e[5]=d):d=e[5];let h;e[6]!==d?(h=l.jsx(ie,{variant:"body2",color:"text.secondary",paragraph:!0,children:d}),e[6]=d,e[7]=h):h=e[7];let m;e[8]===Symbol.for("react.memo_cache_sentinel")?(m={mb:2},e[8]=m):m=e[8];let g;e[9]!==s?(g=s("tagger.test.imageHash"),e[9]=s,e[10]=g):g=e[10];let y;e[11]!==r?(y=O=>r(O.target.value),e[11]=r,e[12]=y):y=e[12];let v;e[13]!==s?(v=s("tagger.test.placeholderHash"),e[13]=s,e[14]=v):v=e[14];let S;e[15]!==g||e[16]!==y||e[17]!==v||e[18]!==n?(S=l.jsx(Tt,{label:g,value:n,onChange:y,fullWidth:!0,placeholder:v}),e[15]=g,e[16]=y,e[17]=v,e[18]=n,e[19]=S):S=e[19];let w;e[20]!==a?(w=a?l.jsx(Yt,{size:20}):l.jsx(KOe,{}),e[20]=a,e[21]=w):w=e[21];const _=a||!n;let T;e[22]===Symbol.for("react.memo_cache_sentinel")?(T={minWidth:150},e[22]=T):T=e[22];let A;e[23]!==s||e[24]!==a?(A=s(a?"tagger.test.processing":"tagger.test.button"),e[23]=s,e[24]=a,e[25]=A):A=e[25];let R;e[26]!==o||e[27]!==w||e[28]!==_||e[29]!==A?(R=l.jsx(Ue,{variant:"contained",startIcon:w,onClick:o,disabled:_,sx:T,children:A}),e[26]=o,e[27]=w,e[28]=_,e[29]=A,e[30]=R):R=e[30];let I;e[31]!==R||e[32]!==S?(I=l.jsxs(cn,{direction:"row",spacing:2,sx:m,children:[S,R]}),e[31]=R,e[32]=S,e[33]=I):I=e[33];let N;e[34]!==s||e[35]!==i?(N=i&&l.jsxs(xt,{severity:"success",sx:{mt:2},children:[l.jsx(ie,{variant:"subtitle2",gutterBottom:!0,children:s("tagger.test.result")}),l.jsx(ie,{variant:"body2",component:"pre",sx:{whiteSpace:"pre-wrap",fontSize:"0.875rem"},children:JSON.stringify(i.auto_tags,null,2)})]}),e[34]=s,e[35]=i,e[36]=N):N=e[36];let P;return e[37]!==I||e[38]!==N||e[39]!==u||e[40]!==h?(P=l.jsxs(Z,{children:[u,h,I,N]}),e[37]=I,e[38]=N,e[39]=u,e[40]=h,e[41]=P):P=e[41],P},vYe=({settings:t,onUpdate:e})=>{const{t:n}=ht("settings"),{localSettings:a,loading:i,hasChanges:r,updateSettings:o,handleSave:s,handleReset:c}=uYe({settings:t,onUpdate:e}),{models:u,modelStatus:d,statusLoading:h,loading:m,loadModelStatus:g,handleLoadModel:y,handleUnloadModel:v,handleCheckDependencies:S}=dYe(a.enabled),{testImageId:w,testProcessing:_,testResult:T,setTestImageId:A,handleTestImage:R}=mYe(),[I,N]=E.useState(!1),[P,O]=E.useState(!1),[D,H]=E.useState(null),[L,$]=E.useState(null),M=async()=>{N(!0),H(null);try{const z=await S();$(z.available),H(z.message)}catch{$(!1),H("Failed to check dependencies")}finally{N(!1)}};return l.jsx(Z,{children:l.jsx(ma,{children:l.jsxs(Ri,{children:[l.jsx(ie,{variant:"h6",gutterBottom:!0,children:n("tagger.title")}),l.jsx(ie,{variant:"body2",color:"text.secondary",paragraph:!0,children:n("tagger.description")}),l.jsxs(cn,{spacing:3,sx:{mt:3},children:[a.enabled&&l.jsx(gYe,{modelStatus:d,statusLoading:h,models:u,loading:m,onLoadModel:()=>y(a.model,n),onUnloadModel:()=>v(n),onRefreshStatus:g}),l.jsx(fn,{}),l.jsx(bYe,{localSettings:a,models:u,onUpdateSettings:o}),l.jsx(fn,{sx:{my:2}}),a.enabled&&l.jsx(yYe,{localSettings:a,onUpdateSettings:o}),l.jsx(fn,{sx:{my:2}}),l.jsxs(Z,{children:[l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[l.jsx(ie,{variant:"subtitle1",children:n("tagger.pythonPath.label")}),l.jsx(jt,{title:n("tagger.pythonPath.helper"),arrow:!0,children:l.jsx(Yh,{fontSize:"small",sx:{color:"text.secondary",cursor:"help"}})})]}),l.jsxs(cn,{direction:{xs:"column",sm:"row"},spacing:2,children:[l.jsx(Tt,{value:a.pythonPath,onChange:z=>o({pythonPath:z.target.value}),fullWidth:!0,disabled:!a.enabled,placeholder:"python"}),l.jsx(Ue,{variant:"outlined",startIcon:I?l.jsx(Yt,{size:20}):l.jsx(po,{}),onClick:M,disabled:I||!a.enabled,sx:{minWidth:{sm:"200px"},whiteSpace:"nowrap"},children:n(I?"tagger.buttons.checking":"tagger.buttons.checkDependencies")})]}),D&&l.jsx(xt,{severity:L?"success":"error",sx:{mt:2},children:D})]}),l.jsx(fn,{sx:{my:2}}),a.enabled&&l.jsx(xYe,{testImageId:w,testProcessing:_,testResult:T,onSetTestImageId:A,onTestImage:()=>R(n)}),l.jsxs(cn,{direction:"row",spacing:2,sx:{mt:3},children:[l.jsx(Ue,{variant:"contained",onClick:s,disabled:!r||i,fullWidth:!0,children:i?l.jsx(Yt,{size:24}):n("tagger.buttons.save")}),l.jsx(Ue,{variant:"outlined",onClick:c,disabled:!r||i,fullWidth:!0,children:n("tagger.buttons.cancel")})]})]})]})})})},SYe=()=>{const[t,e]=E.useState(null),[n,a]=E.useState({}),[i,r]=E.useState(!0),[o,s]=E.useState(!1);E.useEffect(()=>{c()},[]),E.useEffect(()=>{if(t){const h=n.general_weight!==void 0||n.sensitive_weight!==void 0||n.questionable_weight!==void 0||n.explicit_weight!==void 0;s(h)}},[n,t]);const c=async()=>{r(!0);try{const h=await Kh.getWeights();e(h),a({})}catch(h){throw console.error("Failed to load weights:",h),h}finally{r(!1)}};return{weights:t,localWeights:n,weightsLoading:i,weightsHasChanges:o,setLocalWeights:a,loadWeights:c,handleSaveWeights:async()=>{if(o)try{const h=await Kh.updateWeights(n);return e(h),a({}),h}catch(h){throw console.error("Failed to save weights:",h),h}},handleResetWeights:()=>{a({})}}},CYe=()=>{const[t,e]=E.useState([]),[n,a]=E.useState(!0),[i,r]=E.useState({open:!1,mode:"create",tier:{}});E.useEffect(()=>{o()},[]);const o=async()=>{a(!0);try{const h=await Kh.getAllTiers();e(h)}catch(h){throw console.error("Failed to load tiers:",h),h}finally{a(!1)}},s=(h,m)=>{if(h==="edit"&&m)r({open:!0,mode:"edit",tier:{tier_name:m.tier_name,min_score:m.min_score,max_score:m.max_score,tier_order:m.tier_order,color:m.color},editId:m.id});else{const g=t.length>0?Math.max(...t.map(y=>y.tier_order))+1:1;r({open:!0,mode:"create",tier:{tier_name:"",min_score:0,max_score:null,tier_order:g,color:"#2196f3"}})}},c=()=>{r({open:!1,mode:"create",tier:{}})};return{tiers:t,tiersLoading:n,tierDialog:i,setTierDialog:r,loadTiers:o,handleOpenTierDialog:s,handleCloseTierDialog:c,handleSaveTier:async()=>{const{mode:h,tier:m,editId:g}=i;if(!m.tier_name||m.min_score===void 0||m.tier_order===void 0)throw new Error("Required fields missing");try{return h==="create"?await Kh.createTier(m):g&&await Kh.updateTier(g,m),await o(),c(),h}catch(y){throw console.error("Failed to save tier:",y),y}},handleDeleteTier:async h=>{try{await Kh.deleteTier(h),await o()}catch(m){throw console.error("Failed to delete tier:",m),m}}}},Rh=(t,e,n)=>{if(!t)return 0;const a=e[n];return a!==void 0?a:t[n]??0},kh=t=>Math.round(t*1e3)/1e3,wYe=(t,e,n)=>{const[a,i]=E.useState({general:.001,sensitive:.045,questionable:.735,explicit:.47}),[r,o]=E.useState(null),[s,c]=E.useState(!1),[u,d]=E.useState(null);E.useEffect(()=>{e&&Object.keys(e).length>0&&h()},[e,t,n]);const h=()=>{if(t)try{const g={general_weight:e.general_weight??t.general_weight,sensitive_weight:e.sensitive_weight??t.sensitive_weight,questionable_weight:e.questionable_weight??t.questionable_weight,explicit_weight:e.explicit_weight??t.explicit_weight},y=kh(.001)*(g.general_weight||0)+kh(.045)*(g.sensitive_weight||0)+kh(.735)*(g.questionable_weight||0)+kh(.47)*(g.explicit_weight||0),v=n.find(S=>S.min_score<=y&&(S.max_score===null||S.max_score>y));d({score:y,tier:v||null,breakdown:{general:kh(.001)*(g.general_weight||0),sensitive:kh(.045)*(g.sensitive_weight||0),questionable:kh(.735)*(g.questionable_weight||0),explicit:kh(.47)*(g.explicit_weight||0)},rawRating:{general:.001,sensitive:.045,questionable:.735,explicit:.47}})}catch(g){console.error("Failed to calculate preview:",g)}};return{testRating:a,testResult:r,testLoading:s,previewResult:u,setTestRating:i,handleCalculateTest:async()=>{c(!0);try{const g=await Kh.calculateScore(a);o(g)}catch(g){throw console.error("Failed to calculate score:",g),g}finally{c(!1)}}}},_Ye=t=>{const e=yt.c(120),{weights:n,localWeights:a,weightsHasChanges:i,saving:r,previewResult:o,onUpdateWeights:s,onSaveWeights:c,onResetWeights:u}=t,{t:d}=ht("settings");let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h={mb:3},e[0]=h):h=e[0];let m;e[1]!==d?(m=d("rating.weights.title"),e[1]=d,e[2]=m):m=e[2];let g;e[3]!==m?(g=l.jsx(ie,{variant:"h6",gutterBottom:!0,children:m}),e[3]=m,e[4]=g):g=e[4];let y;e[5]!==d?(y=d("rating.weights.description"),e[5]=d,e[6]=y):y=e[6];let v;e[7]!==y?(v=l.jsx(ie,{variant:"body2",color:"text.secondary",paragraph:!0,children:y}),e[7]=y,e[8]=v):v=e[8];let S;e[9]===Symbol.for("react.memo_cache_sentinel")?(S={mt:3},e[9]=S):S=e[9];let w;e[10]!==a||e[11]!==d||e[12]!==n?(w=d("rating.weights.general",{value:Rh(n,a,"general_weight")}),e[10]=a,e[11]=d,e[12]=n,e[13]=w):w=e[13];let _;e[14]!==w?(_=l.jsx(ie,{gutterBottom:!0,children:w}),e[14]=w,e[15]=_):_=e[15];let T;e[16]===Symbol.for("react.memo_cache_sentinel")?(T={width:"90%",mx:"auto"},e[16]=T):T=e[16];let A;e[17]!==a||e[18]!==n?(A=Rh(n,a,"general_weight"),e[17]=a,e[18]=n,e[19]=A):A=e[19];let R;e[20]!==a||e[21]!==s?(R=(Ze,Ee)=>s({...a,general_weight:Ee}),e[20]=a,e[21]=s,e[22]=R):R=e[22];let I;e[23]===Symbol.for("react.memo_cache_sentinel")?(I=[{value:0,label:"0"},{value:50,label:"50"},{value:100,label:"100"}],e[23]=I):I=e[23];let N;e[24]!==A||e[25]!==R?(N=l.jsx(Z,{sx:T,children:l.jsx(ki,{value:A,onChange:R,min:0,max:100,step:1,marks:I})}),e[24]=A,e[25]=R,e[26]=N):N=e[26];let P;e[27]!==N||e[28]!==_?(P=l.jsxs(Z,{children:[_,N]}),e[27]=N,e[28]=_,e[29]=P):P=e[29];let O;e[30]!==a||e[31]!==d||e[32]!==n?(O=d("rating.weights.sensitive",{value:Rh(n,a,"sensitive_weight")}),e[30]=a,e[31]=d,e[32]=n,e[33]=O):O=e[33];let D;e[34]!==O?(D=l.jsx(ie,{gutterBottom:!0,children:O}),e[34]=O,e[35]=D):D=e[35];let H;e[36]===Symbol.for("react.memo_cache_sentinel")?(H={width:"90%",mx:"auto"},e[36]=H):H=e[36];let L;e[37]!==a||e[38]!==n?(L=Rh(n,a,"sensitive_weight"),e[37]=a,e[38]=n,e[39]=L):L=e[39];let $;e[40]!==a||e[41]!==s?($=(Ze,Ee)=>s({...a,sensitive_weight:Ee}),e[40]=a,e[41]=s,e[42]=$):$=e[42];let M;e[43]===Symbol.for("react.memo_cache_sentinel")?(M=[{value:0,label:"0"},{value:50,label:"50"},{value:100,label:"100"}],e[43]=M):M=e[43];let z;e[44]!==L||e[45]!==$?(z=l.jsx(Z,{sx:H,children:l.jsx(ki,{value:L,onChange:$,min:0,max:100,step:1,marks:M})}),e[44]=L,e[45]=$,e[46]=z):z=e[46];let F;e[47]!==D||e[48]!==z?(F=l.jsxs(Z,{children:[D,z]}),e[47]=D,e[48]=z,e[49]=F):F=e[49];let G;e[50]!==a||e[51]!==d||e[52]!==n?(G=d("rating.weights.questionable",{value:Rh(n,a,"questionable_weight")}),e[50]=a,e[51]=d,e[52]=n,e[53]=G):G=e[53];let ee;e[54]!==G?(ee=l.jsx(ie,{gutterBottom:!0,children:G}),e[54]=G,e[55]=ee):ee=e[55];let V;e[56]===Symbol.for("react.memo_cache_sentinel")?(V={width:"90%",mx:"auto"},e[56]=V):V=e[56];let Y;e[57]!==a||e[58]!==n?(Y=Rh(n,a,"questionable_weight"),e[57]=a,e[58]=n,e[59]=Y):Y=e[59];let K;e[60]!==a||e[61]!==s?(K=(Ze,Ee)=>s({...a,questionable_weight:Ee}),e[60]=a,e[61]=s,e[62]=K):K=e[62];let J;e[63]===Symbol.for("react.memo_cache_sentinel")?(J=[{value:0,label:"0"},{value:50,label:"50"},{value:100,label:"100"}],e[63]=J):J=e[63];let W;e[64]!==Y||e[65]!==K?(W=l.jsx(Z,{sx:V,children:l.jsx(ki,{value:Y,onChange:K,min:0,max:100,step:1,marks:J})}),e[64]=Y,e[65]=K,e[66]=W):W=e[66];let te;e[67]!==ee||e[68]!==W?(te=l.jsxs(Z,{children:[ee,W]}),e[67]=ee,e[68]=W,e[69]=te):te=e[69];let re;e[70]!==a||e[71]!==d||e[72]!==n?(re=d("rating.weights.explicit",{value:Rh(n,a,"explicit_weight")}),e[70]=a,e[71]=d,e[72]=n,e[73]=re):re=e[73];let ne;e[74]!==re?(ne=l.jsx(ie,{gutterBottom:!0,children:re}),e[74]=re,e[75]=ne):ne=e[75];let ce;e[76]===Symbol.for("react.memo_cache_sentinel")?(ce={width:"90%",mx:"auto"},e[76]=ce):ce=e[76];let pe;e[77]!==a||e[78]!==n?(pe=Rh(n,a,"explicit_weight"),e[77]=a,e[78]=n,e[79]=pe):pe=e[79];let me;e[80]!==a||e[81]!==s?(me=(Ze,Ee)=>s({...a,explicit_weight:Ee}),e[80]=a,e[81]=s,e[82]=me):me=e[82];let ge;e[83]===Symbol.for("react.memo_cache_sentinel")?(ge=[{value:0,label:"0"},{value:50,label:"50"},{value:100,label:"100"}],e[83]=ge):ge=e[83];let ye;e[84]!==pe||e[85]!==me?(ye=l.jsx(Z,{sx:ce,children:l.jsx(ki,{value:pe,onChange:me,min:0,max:100,step:1,marks:ge})}),e[84]=pe,e[85]=me,e[86]=ye):ye=e[86];let he;e[87]!==ne||e[88]!==ye?(he=l.jsxs(Z,{children:[ne,ye]}),e[87]=ne,e[88]=ye,e[89]=he):he=e[89];let de;e[90]!==o||e[91]!==d?(de=o&&l.jsxs(xt,{severity:"info",icon:l.jsx(DQ,{}),children:[l.jsx(ie,{variant:"subtitle2",gutterBottom:!0,children:d("rating.weights.preview.title")}),l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:1,mt:1},children:[l.jsx(ie,{variant:"body2",dangerouslySetInnerHTML:{__html:d("rating.weights.preview.score",{score:o.score.toFixed(2)})}}),o.tier&&l.jsx(mt,{label:o.tier.tier_name,size:"small",sx:{bgcolor:o.tier.color||void 0,color:"white"}})]})]}),e[90]=o,e[91]=d,e[92]=de):de=e[92];const fe=!i||r;let oe;e[93]!==r||e[94]!==d?(oe=r?l.jsx(Yt,{size:24}):d("rating.weights.buttons.save"),e[93]=r,e[94]=d,e[95]=oe):oe=e[95];let ue;e[96]!==c||e[97]!==fe||e[98]!==oe?(ue=l.jsx(Ue,{variant:"contained",onClick:c,disabled:fe,fullWidth:!0,children:oe}),e[96]=c,e[97]=fe,e[98]=oe,e[99]=ue):ue=e[99];const le=!i||r;let Se;e[100]!==d?(Se=d("rating.weights.buttons.cancel"),e[100]=d,e[101]=Se):Se=e[101];let _e;e[102]!==u||e[103]!==le||e[104]!==Se?(_e=l.jsx(Ue,{variant:"outlined",onClick:u,disabled:le,fullWidth:!0,children:Se}),e[102]=u,e[103]=le,e[104]=Se,e[105]=_e):_e=e[105];let Ie;e[106]!==ue||e[107]!==_e?(Ie=l.jsxs(cn,{direction:"row",spacing:2,children:[ue,_e]}),e[106]=ue,e[107]=_e,e[108]=Ie):Ie=e[108];let ze;e[109]!==P||e[110]!==F||e[111]!==te||e[112]!==he||e[113]!==de||e[114]!==Ie?(ze=l.jsxs(cn,{spacing:3,sx:S,children:[P,F,te,he,de,Ie]}),e[109]=P,e[110]=F,e[111]=te,e[112]=he,e[113]=de,e[114]=Ie,e[115]=ze):ze=e[115];let Me;return e[116]!==g||e[117]!==ze||e[118]!==v?(Me=l.jsx(ma,{sx:h,children:l.jsxs(Ri,{children:[g,v,ze]})}),e[116]=g,e[117]=ze,e[118]=v,e[119]=Me):Me=e[119],Me},TYe=t=>{const e=yt.c(76),{tiers:n,saving:a,onOpenTierDialog:i,onDeleteTier:r}=t,{t:o}=ht("settings");let s;e[0]!==r||e[1]!==o?(s=K=>{window.confirm(o("rating.tiers.alerts.deleteConfirm"))&&r(K)},e[0]=r,e[1]=o,e[2]=s):s=e[2];const c=s;let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u={mb:3},e[3]=u):u=e[3];let d;e[4]===Symbol.for("react.memo_cache_sentinel")?(d={display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},e[4]=d):d=e[4];let h;e[5]!==o?(h=o("rating.tiers.title"),e[5]=o,e[6]=h):h=e[6];let m;e[7]!==h?(m=l.jsx(ie,{variant:"h6",gutterBottom:!0,children:h}),e[7]=h,e[8]=m):m=e[8];let g;e[9]!==o?(g=o("rating.tiers.description"),e[9]=o,e[10]=g):g=e[10];let y;e[11]!==g?(y=l.jsx(ie,{variant:"body2",color:"text.secondary",children:g}),e[11]=g,e[12]=y):y=e[12];let v;e[13]!==m||e[14]!==y?(v=l.jsxs(Z,{children:[m,y]}),e[13]=m,e[14]=y,e[15]=v):v=e[15];let S;e[16]===Symbol.for("react.memo_cache_sentinel")?(S=l.jsx(Vr,{}),e[16]=S):S=e[16];let w;e[17]!==i?(w=()=>i("create"),e[17]=i,e[18]=w):w=e[18];let _;e[19]!==o?(_=o("rating.tiers.addButton"),e[19]=o,e[20]=_):_=e[20];let T;e[21]!==w||e[22]!==_?(T=l.jsx(Ue,{variant:"contained",startIcon:S,onClick:w,children:_}),e[21]=w,e[22]=_,e[23]=T):T=e[23];let A;e[24]!==T||e[25]!==v?(A=l.jsxs(Z,{sx:d,children:[v,T]}),e[24]=T,e[25]=v,e[26]=A):A=e[26];let R;e[27]!==o?(R=o("rating.tiers.table.order"),e[27]=o,e[28]=R):R=e[28];let I;e[29]!==R?(I=l.jsx(Qt,{children:R}),e[29]=R,e[30]=I):I=e[30];let N;e[31]!==o?(N=o("rating.tiers.table.name"),e[31]=o,e[32]=N):N=e[32];let P;e[33]!==N?(P=l.jsx(Qt,{children:N}),e[33]=N,e[34]=P):P=e[34];let O;e[35]!==o?(O=o("rating.tiers.table.scoreRange"),e[35]=o,e[36]=O):O=e[36];let D;e[37]!==O?(D=l.jsx(Qt,{children:O}),e[37]=O,e[38]=D):D=e[38];let H;e[39]!==o?(H=o("rating.tiers.table.color"),e[39]=o,e[40]=H):H=e[40];let L;e[41]!==H?(L=l.jsx(Qt,{children:H}),e[41]=H,e[42]=L):L=e[42];let $;e[43]!==o?($=o("rating.tiers.table.actions"),e[43]=o,e[44]=$):$=e[44];let M;e[45]!==$?(M=l.jsx(Qt,{align:"right",children:$}),e[45]=$,e[46]=M):M=e[46];let z;e[47]!==I||e[48]!==P||e[49]!==D||e[50]!==L||e[51]!==M?(z=l.jsx(pS,{children:l.jsxs(Es,{children:[I,P,D,L,M]})}),e[47]=I,e[48]=P,e[49]=D,e[50]=L,e[51]=M,e[52]=z):z=e[52];let F;if(e[53]!==c||e[54]!==i||e[55]!==a||e[56]!==o||e[57]!==n){let K;e[59]!==c||e[60]!==i||e[61]!==a||e[62]!==o?(K=J=>l.jsxs(Es,{children:[l.jsx(Qt,{children:J.tier_order}),l.jsx(Qt,{children:l.jsx(mt,{label:J.tier_name,sx:{bgcolor:J.color||void 0,color:"white"}})}),l.jsx(Qt,{children:o("rating.tiers.table.scoreFormat",{min:J.min_score,max:J.max_score!==null?J.max_score:o("rating.tiers.table.infinity")})}),l.jsx(Qt,{children:l.jsx(Z,{sx:{width:24,height:24,bgcolor:J.color||"#ccc",borderRadius:1}})}),l.jsxs(Qt,{align:"right",children:[l.jsx(lt,{size:"small",onClick:()=>i("edit",J),disabled:a,children:l.jsx(id,{fontSize:"small"})}),l.jsx(lt,{size:"small",onClick:()=>c(J.id),disabled:a,color:"error",children:l.jsx(Wa,{fontSize:"small"})})]})]},J.id),e[59]=c,e[60]=i,e[61]=a,e[62]=o,e[63]=K):K=e[63],F=n.map(K),e[53]=c,e[54]=i,e[55]=a,e[56]=o,e[57]=n,e[58]=F}else F=e[58];let G;e[64]!==o||e[65]!==n.length?(G=n.length===0&&l.jsx(Es,{children:l.jsx(Qt,{colSpan:5,align:"center",children:l.jsx(ie,{variant:"body2",color:"text.secondary",children:o("rating.tiers.table.empty")})})}),e[64]=o,e[65]=n.length,e[66]=G):G=e[66];let ee;e[67]!==F||e[68]!==G?(ee=l.jsxs(hS,{children:[F,G]}),e[67]=F,e[68]=G,e[69]=ee):ee=e[69];let V;e[70]!==z||e[71]!==ee?(V=l.jsx(n5,{component:Gt,variant:"outlined",children:l.jsxs(fS,{children:[z,ee]})}),e[70]=z,e[71]=ee,e[72]=V):V=e[72];let Y;return e[73]!==A||e[74]!==V?(Y=l.jsx(ma,{sx:u,children:l.jsxs(Ri,{children:[A,V]})}),e[73]=A,e[74]=V,e[75]=Y):Y=e[75],Y},EYe=t=>{const e=yt.c(80),{open:n,mode:a,tier:i,saving:r,onClose:o,onSave:s,onUpdateTier:c}=t,{t:u}=ht("settings");let d;e[0]!==a||e[1]!==u?(d=u(a==="create"?"rating.tiers.dialog.createTitle":"rating.tiers.dialog.editTitle"),e[0]=a,e[1]=u,e[2]=d):d=e[2];let h;e[3]!==d?(h=l.jsx(Un,{children:d}),e[3]=d,e[4]=h):h=e[4];let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m={mt:1},e[5]=m):m=e[5];let g;e[6]!==u?(g=u("rating.tiers.dialog.tierName"),e[6]=u,e[7]=g):g=e[7];const y=i.tier_name||"";let v;e[8]!==c?(v=ne=>c({tier_name:ne.target.value}),e[8]=c,e[9]=v):v=e[9];let S;e[10]!==g||e[11]!==y||e[12]!==v?(S=l.jsx(Tt,{label:g,value:y,onChange:v,fullWidth:!0,required:!0}),e[10]=g,e[11]=y,e[12]=v,e[13]=S):S=e[13];let w;e[14]!==u?(w=u("rating.tiers.dialog.minScore"),e[14]=u,e[15]=w):w=e[15];const _=i.min_score??"";let T;e[16]!==c?(T=ne=>c({min_score:parseFloat(ne.target.value)}),e[16]=c,e[17]=T):T=e[17];let A;e[18]!==T||e[19]!==w||e[20]!==_?(A=l.jsx(Tt,{label:w,type:"number",value:_,onChange:T,fullWidth:!0,required:!0}),e[18]=T,e[19]=w,e[20]=_,e[21]=A):A=e[21];let R;e[22]!==u?(R=u("rating.tiers.dialog.maxScore"),e[22]=u,e[23]=R):R=e[23];const I=i.max_score??"";let N;e[24]!==c?(N=ne=>c({max_score:ne.target.value===""?null:parseFloat(ne.target.value)}),e[24]=c,e[25]=N):N=e[25];let P;e[26]!==R||e[27]!==I||e[28]!==N?(P=l.jsx(Tt,{label:R,type:"number",value:I,onChange:N,fullWidth:!0}),e[26]=R,e[27]=I,e[28]=N,e[29]=P):P=e[29];let O;e[30]!==u?(O=u("rating.tiers.dialog.order"),e[30]=u,e[31]=O):O=e[31];const D=i.tier_order??"";let H;e[32]!==c?(H=ne=>c({tier_order:parseInt(ne.target.value,10)}),e[32]=c,e[33]=H):H=e[33];let L;e[34]!==O||e[35]!==D||e[36]!==H?(L=l.jsx(Tt,{label:O,type:"number",value:D,onChange:H,fullWidth:!0,required:!0}),e[34]=O,e[35]=D,e[36]=H,e[37]=L):L=e[37];let $;e[38]!==u?($=u("rating.tiers.dialog.color"),e[38]=u,e[39]=$):$=e[39];const M=i.color||"";let z;e[40]!==c?(z=ne=>c({color:ne.target.value}),e[40]=c,e[41]=z):z=e[41];let F;e[42]!==u?(F=u("rating.tiers.dialog.colorPlaceholder"),e[42]=u,e[43]=F):F=e[43];let G;e[44]!==u?(G=u("rating.tiers.dialog.colorHelper"),e[44]=u,e[45]=G):G=e[45];let ee;e[46]!==$||e[47]!==M||e[48]!==z||e[49]!==F||e[50]!==G?(ee=l.jsx(Tt,{label:$,value:M,onChange:z,fullWidth:!0,placeholder:F,helperText:G}),e[46]=$,e[47]=M,e[48]=z,e[49]=F,e[50]=G,e[51]=ee):ee=e[51];let V;e[52]!==A||e[53]!==P||e[54]!==L||e[55]!==ee||e[56]!==S?(V=l.jsx($n,{children:l.jsxs(cn,{spacing:2,sx:m,children:[S,A,P,L,ee]})}),e[52]=A,e[53]=P,e[54]=L,e[55]=ee,e[56]=S,e[57]=V):V=e[57];let Y;e[58]!==u?(Y=u("rating.tiers.dialog.cancel"),e[58]=u,e[59]=Y):Y=e[59];let K;e[60]!==o||e[61]!==r||e[62]!==Y?(K=l.jsx(Ue,{onClick:o,disabled:r,children:Y}),e[60]=o,e[61]=r,e[62]=Y,e[63]=K):K=e[63];let J;e[64]!==r||e[65]!==u?(J=r?l.jsx(Yt,{size:20}):u("rating.tiers.dialog.save"),e[64]=r,e[65]=u,e[66]=J):J=e[66];let W;e[67]!==s||e[68]!==r||e[69]!==J?(W=l.jsx(Ue,{onClick:s,variant:"contained",disabled:r,children:J}),e[67]=s,e[68]=r,e[69]=J,e[70]=W):W=e[70];let te;e[71]!==K||e[72]!==W?(te=l.jsxs(Wn,{children:[K,W]}),e[71]=K,e[72]=W,e[73]=te):te=e[73];let re;return e[74]!==o||e[75]!==n||e[76]!==h||e[77]!==V||e[78]!==te?(re=l.jsxs(Fn,{open:n,onClose:o,maxWidth:"sm",fullWidth:!0,children:[h,V,te]}),e[74]=o,e[75]=n,e[76]=h,e[77]=V,e[78]=te,e[79]=re):re=e[79],re},AYe=t=>{const e=yt.c(97),{testRating:n,testResult:a,testLoading:i,onUpdateTestRating:r,onCalculateTest:o}=t,{t:s}=ht("settings");let c;e[0]!==s?(c=s("rating.calculator.title"),e[0]=s,e[1]=c):c=e[1];let u;e[2]!==c?(u=l.jsx(ie,{variant:"h6",gutterBottom:!0,children:c}),e[2]=c,e[3]=u):u=e[3];let d;e[4]!==s?(d=s("rating.calculator.description"),e[4]=s,e[5]=d):d=e[5];let h;e[6]!==d?(h=l.jsx(ie,{variant:"body2",color:"text.secondary",paragraph:!0,children:d}),e[6]=d,e[7]=h):h=e[7];let m;e[8]===Symbol.for("react.memo_cache_sentinel")?(m={mt:3},e[8]=m):m=e[8];let g;e[9]!==s||e[10]!==n.general?(g=s("rating.calculator.general",{value:n.general.toFixed(3)}),e[9]=s,e[10]=n.general,e[11]=g):g=e[11];let y;e[12]!==g?(y=l.jsx(ie,{gutterBottom:!0,children:g}),e[12]=g,e[13]=y):y=e[13];let v;e[14]===Symbol.for("react.memo_cache_sentinel")?(v={width:"90%",mx:"auto"},e[14]=v):v=e[14];let S;e[15]!==r||e[16]!==n?(S=(ye,he)=>r({...n,general:he}),e[15]=r,e[16]=n,e[17]=S):S=e[17];let w;e[18]===Symbol.for("react.memo_cache_sentinel")?(w=[{value:0,label:"0.0"},{value:.5,label:"0.5"},{value:1,label:"1.0"}],e[18]=w):w=e[18];let _;e[19]!==S||e[20]!==n.general?(_=l.jsx(Z,{sx:v,children:l.jsx(ki,{value:n.general,onChange:S,min:0,max:1,step:.001,marks:w})}),e[19]=S,e[20]=n.general,e[21]=_):_=e[21];let T;e[22]!==_||e[23]!==y?(T=l.jsxs(Z,{children:[y,_]}),e[22]=_,e[23]=y,e[24]=T):T=e[24];let A;e[25]!==s||e[26]!==n.sensitive?(A=s("rating.calculator.sensitive",{value:n.sensitive.toFixed(3)}),e[25]=s,e[26]=n.sensitive,e[27]=A):A=e[27];let R;e[28]!==A?(R=l.jsx(ie,{gutterBottom:!0,children:A}),e[28]=A,e[29]=R):R=e[29];let I;e[30]===Symbol.for("react.memo_cache_sentinel")?(I={width:"90%",mx:"auto"},e[30]=I):I=e[30];let N;e[31]!==r||e[32]!==n?(N=(ye,he)=>r({...n,sensitive:he}),e[31]=r,e[32]=n,e[33]=N):N=e[33];let P;e[34]===Symbol.for("react.memo_cache_sentinel")?(P=[{value:0,label:"0.0"},{value:.5,label:"0.5"},{value:1,label:"1.0"}],e[34]=P):P=e[34];let O;e[35]!==N||e[36]!==n.sensitive?(O=l.jsx(Z,{sx:I,children:l.jsx(ki,{value:n.sensitive,onChange:N,min:0,max:1,step:.001,marks:P})}),e[35]=N,e[36]=n.sensitive,e[37]=O):O=e[37];let D;e[38]!==R||e[39]!==O?(D=l.jsxs(Z,{children:[R,O]}),e[38]=R,e[39]=O,e[40]=D):D=e[40];let H;e[41]!==s||e[42]!==n.questionable?(H=s("rating.calculator.questionable",{value:n.questionable.toFixed(3)}),e[41]=s,e[42]=n.questionable,e[43]=H):H=e[43];let L;e[44]!==H?(L=l.jsx(ie,{gutterBottom:!0,children:H}),e[44]=H,e[45]=L):L=e[45];let $;e[46]===Symbol.for("react.memo_cache_sentinel")?($={width:"90%",mx:"auto"},e[46]=$):$=e[46];let M;e[47]!==r||e[48]!==n?(M=(ye,he)=>r({...n,questionable:he}),e[47]=r,e[48]=n,e[49]=M):M=e[49];let z;e[50]===Symbol.for("react.memo_cache_sentinel")?(z=[{value:0,label:"0.0"},{value:.5,label:"0.5"},{value:1,label:"1.0"}],e[50]=z):z=e[50];let F;e[51]!==M||e[52]!==n.questionable?(F=l.jsx(Z,{sx:$,children:l.jsx(ki,{value:n.questionable,onChange:M,min:0,max:1,step:.001,marks:z})}),e[51]=M,e[52]=n.questionable,e[53]=F):F=e[53];let G;e[54]!==L||e[55]!==F?(G=l.jsxs(Z,{children:[L,F]}),e[54]=L,e[55]=F,e[56]=G):G=e[56];let ee;e[57]!==s||e[58]!==n.explicit?(ee=s("rating.calculator.explicit",{value:n.explicit.toFixed(3)}),e[57]=s,e[58]=n.explicit,e[59]=ee):ee=e[59];let V;e[60]!==ee?(V=l.jsx(ie,{gutterBottom:!0,children:ee}),e[60]=ee,e[61]=V):V=e[61];let Y;e[62]===Symbol.for("react.memo_cache_sentinel")?(Y={width:"90%",mx:"auto"},e[62]=Y):Y=e[62];let K;e[63]!==r||e[64]!==n?(K=(ye,he)=>r({...n,explicit:he}),e[63]=r,e[64]=n,e[65]=K):K=e[65];let J;e[66]===Symbol.for("react.memo_cache_sentinel")?(J=[{value:0,label:"0.0"},{value:.5,label:"0.5"},{value:1,label:"1.0"}],e[66]=J):J=e[66];let W;e[67]!==K||e[68]!==n.explicit?(W=l.jsx(Z,{sx:Y,children:l.jsx(ki,{value:n.explicit,onChange:K,min:0,max:1,step:.001,marks:J})}),e[67]=K,e[68]=n.explicit,e[69]=W):W=e[69];let te;e[70]!==V||e[71]!==W?(te=l.jsxs(Z,{children:[V,W]}),e[70]=V,e[71]=W,e[72]=te):te=e[72];let re;e[73]!==i?(re=i?l.jsx(Yt,{size:20}):l.jsx(DQ,{}),e[73]=i,e[74]=re):re=e[74];let ne;e[75]!==s||e[76]!==i?(ne=s(i?"rating.calculator.calculating":"rating.calculator.calculate"),e[75]=s,e[76]=i,e[77]=ne):ne=e[77];let ce;e[78]!==o||e[79]!==re||e[80]!==ne||e[81]!==i?(ce=l.jsx(Ue,{variant:"contained",startIcon:re,onClick:o,disabled:i,children:ne}),e[78]=o,e[79]=re,e[80]=ne,e[81]=i,e[82]=ce):ce=e[82];let pe;e[83]!==s||e[84]!==a?(pe=a&&l.jsxs(xt,{severity:"success",children:[l.jsx(ie,{variant:"subtitle2",gutterBottom:!0,children:s("rating.calculator.result.title")}),l.jsxs(Z,{sx:{mt:2},children:[l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[l.jsx(ie,{variant:"body1",dangerouslySetInnerHTML:{__html:s("rating.calculator.result.score",{score:a.score.toFixed(2)})}}),a.tier&&l.jsx(mt,{label:a.tier.tier_name,sx:{bgcolor:a.tier.color||void 0,color:"white"}})]}),l.jsx(fn,{sx:{my:1}}),l.jsx(ie,{variant:"caption",color:"text.secondary",children:s("rating.calculator.result.breakdown")}),l.jsxs(Z,{sx:{mt:1},children:[l.jsx(ie,{variant:"body2",children:s("rating.calculator.result.generalScore",{score:a.breakdown.general.toFixed(3)})}),l.jsx(ie,{variant:"body2",children:s("rating.calculator.result.sensitiveScore",{score:a.breakdown.sensitive.toFixed(3)})}),l.jsx(ie,{variant:"body2",children:s("rating.calculator.result.questionableScore",{score:a.breakdown.questionable.toFixed(3)})}),l.jsx(ie,{variant:"body2",children:s("rating.calculator.result.explicitScore",{score:a.breakdown.explicit.toFixed(3)})})]})]})]}),e[83]=s,e[84]=a,e[85]=pe):pe=e[85];let me;e[86]!==T||e[87]!==D||e[88]!==G||e[89]!==te||e[90]!==ce||e[91]!==pe?(me=l.jsxs(cn,{spacing:3,sx:m,children:[T,D,G,te,ce,pe]}),e[86]=T,e[87]=D,e[88]=G,e[89]=te,e[90]=ce,e[91]=pe,e[92]=me):me=e[92];let ge;return e[93]!==u||e[94]!==me||e[95]!==h?(ge=l.jsx(ma,{children:l.jsxs(Ri,{children:[u,h,me]})}),e[93]=u,e[94]=me,e[95]=h,e[96]=ge):ge=e[96],ge},RYe=()=>{const{t}=ht("settings"),[e,n]=E.useState(!1),[a,i]=E.useState(0),[r,o]=E.useState(0),[s,c]=E.useState(!1),[u,d]=E.useState(null),[h,m]=E.useState(null),g=async()=>{c(!1),n(!0),d(null),m(null),i(0),o(0);try{const y=await Ut.post("/api/images/recalculate-rating-scores");if(y.data.success){const{total:v,success_count:S,fail_count:w}=y.data.data;o(v),i(v),m(t("rating.recalculation.success",{total:v,success:S,failed:w}))}else d(y.data.error||t("rating.recalculation.failed"))}catch(y){console.error("[RatingScoreRecalculation] Error:",y),d(y.response?.data?.error||t("rating.recalculation.failed"))}finally{n(!1)}};return l.jsx(ma,{sx:{mt:3,mb:3},children:l.jsxs(Ri,{children:[l.jsx(ie,{variant:"h6",gutterBottom:!0,children:t("rating.recalculation.title")}),l.jsx(ie,{variant:"body2",color:"text.secondary",paragraph:!0,children:t("rating.recalculation.description")}),u&&l.jsx(xt,{severity:"error",sx:{mb:2},children:u}),h&&l.jsx(xt,{severity:"success",sx:{mb:2},children:h}),e&&r>0&&l.jsxs(Z,{sx:{mb:2},children:[l.jsx(ie,{variant:"body2",gutterBottom:!0,children:t("rating.recalculation.progress",{current:a,total:r})}),l.jsx(oc,{variant:"determinate",value:a/r*100})]}),l.jsx(cn,{spacing:2,children:l.jsx(Ue,{variant:"contained",color:"primary",startIcon:e?l.jsx(Yt,{size:20}):l.jsx(jo,{}),onClick:()=>c(!0),disabled:e,fullWidth:!0,children:t(e?"rating.recalculation.buttons.processing":"rating.recalculation.buttons.recalculate")})}),l.jsxs(Fn,{open:s,onClose:()=>c(!1),children:[l.jsx(Un,{children:t("rating.recalculation.confirmDialog.title")}),l.jsx($n,{children:l.jsx(rc,{children:t("rating.recalculation.confirmDialog.message")})}),l.jsxs(Wn,{children:[l.jsx(Ue,{onClick:()=>c(!1),children:t("rating.recalculation.confirmDialog.cancel")}),l.jsx(Ue,{onClick:g,color:"primary",variant:"contained",children:t("rating.recalculation.confirmDialog.confirm")})]})]})]})})},kYe=()=>{const{t}=ht("settings"),[e,n]=E.useState(!1),[a,i]=E.useState(null),[r,o]=E.useState(null),{weights:s,localWeights:c,weightsLoading:u,weightsHasChanges:d,setLocalWeights:h,handleSaveWeights:m,handleResetWeights:g}=SYe(),{tiers:y,tiersLoading:v,tierDialog:S,setTierDialog:w,handleOpenTierDialog:_,handleCloseTierDialog:T,handleSaveTier:A,handleDeleteTier:R}=CYe(),{testRating:I,testResult:N,testLoading:P,previewResult:O,setTestRating:D,handleCalculateTest:H}=wYe(s,c,y),L=async()=>{n(!0),i(null),o(null);try{await m(),o(t("rating.weights.alerts.saveSuccess")),setTimeout(()=>o(null),3e3)}catch{i(t("rating.weights.alerts.saveFailed"))}finally{n(!1)}},$=async()=>{n(!0),i(null);try{const F=await A();o(t(F==="create"?"rating.tiers.alerts.created":"rating.tiers.alerts.updated")),setTimeout(()=>o(null),3e3)}catch(F){F.message==="Required fields missing"?i(t("rating.tiers.dialog.requiredFields")):i(t("rating.tiers.alerts.saveFailed"))}finally{n(!1)}},M=async F=>{n(!0),i(null);try{await R(F),o(t("rating.tiers.alerts.deleted")),setTimeout(()=>o(null),3e3)}catch{i(t("rating.tiers.alerts.deleteFailed"))}finally{n(!1)}},z=async()=>{i(null);try{await H()}catch{i(t("rating.calculator.failed"))}};return u||v?l.jsx(Z,{sx:{display:"flex",justifyContent:"center",py:4},children:l.jsx(Yt,{})}):l.jsxs(Z,{children:[r&&l.jsx(xt,{severity:"success",sx:{mb:3},children:r}),a&&l.jsx(xt,{severity:"error",sx:{mb:3},children:a}),l.jsx(_Ye,{weights:s,localWeights:c,weightsHasChanges:d,saving:e,previewResult:O,onUpdateWeights:h,onSaveWeights:L,onResetWeights:g}),l.jsx(TYe,{tiers:y,saving:e,onOpenTierDialog:_,onDeleteTier:M}),l.jsx(AYe,{testRating:I,testResult:N,testLoading:P,onUpdateTestRating:D,onCalculateTest:z}),l.jsx(RYe,{}),l.jsx(EYe,{open:S.open,mode:S.mode,tier:S.tier,saving:e,onClose:T,onSave:$,onUpdateTier:F=>w({...S,tier:{...S.tier,...F}})})]})},S1=Ut.create({baseURL:`${Aa}/api/images`,headers:{"Content-Type":"application/json"},withCredentials:!0}),hf={findDuplicates:async(t,e=5,n=!0)=>(await S1.get(`/${t}/duplicates`,{params:{threshold:e,includeMetadata:n}})).data.data.similar,findSimilar:async(t,e={})=>{const{threshold:n=15,limit:a=20,includeColorSimilarity:i=!1,sortBy:r="similarity",sortOrder:o="DESC"}=e;return(await S1.get(`/${t}/similar`,{params:{threshold:n,limit:a,includeColorSimilarity:i,sortBy:r,sortOrder:o}})).data.data.similar},findSimilarByColor:async(t,e=85,n=20)=>(await S1.get(`/${t}/similar-color`,{params:{threshold:e,limit:n}})).data.data.similar,findAllDuplicates:async(t={})=>{const{threshold:e=5,minGroupSize:n=2}=t;return(await S1.get("/duplicates/all",{params:{threshold:e,minGroupSize:n}})).data.data.groups},rebuildHashes:async(t=50)=>(await S1.post("/similarity/rebuild",null,{params:{limit:t}})).data.data,getStats:async()=>(await S1.get("/similarity/stats")).data.data},IYe=()=>{const[t,e]=E.useState(null),[n,a]=E.useState(!1),[i,r]=E.useState(0),[o,s]=E.useState(0),[c,u]=E.useState(0),[d,h]=E.useState(!0);E.useEffect(()=>{m(),g()},[]);const m=async()=>{try{const S=await hf.getStats();e(S)}catch(S){console.error("Failed to load stats:",S)}},g=async()=>{try{const S=await fo.getSettings();h(S.similarity.autoGenerateHashOnUpload)}catch(S){console.error("Failed to load settings:",S)}};return{stats:t,rebuilding:n,rebuildProgress:i,rebuildProcessed:o,rebuildTotal:c,autoGenerateHash:d,loadStats:m,handleAutoGenerateHashChange:async(S,w)=>{h(S);try{await fo.updateSimilaritySettings({autoGenerateHashOnUpload:S})}catch(_){console.error("Failed to update similarity settings:",_),alert(w("similarity.systemStatus.autoGenerateUpdateFailed")),h(!S)}},handleRebuildHashes:async S=>{a(!0),r(0),s(0),u(0);try{const _=(await hf.getStats()).imagesWithoutHash;if(u(_),_===0){alert(S("similarity.systemStatus.noImagesToProcess"));return}let T=0,A=0;const R=50;for(;T<_;){const I=await hf.rebuildHashes(R);if(T+=I.processed,A+=I.failed,s(T),r(T/_*100),I.remaining===0)break}A>0?alert(S("similarity.systemStatus.rebuildCompleteWithErrors",{success:T,failed:A})):alert(S("similarity.systemStatus.rebuildComplete",{processed:T})),await m()}catch(w){alert(S("similarity.systemStatus.rebuildFailed")),console.error("Failed to rebuild hashes:",w)}finally{a(!1)}}}},NYe=()=>{const[t,e]=E.useState(""),[n,a]=E.useState(!1),[i,r]=E.useState([]),[o,s]=E.useState("similar"),[c,u]=E.useState(null),[d,h]=E.useState(5),[m,g]=E.useState(15),[y,v]=E.useState(85),[S,w]=E.useState(20);return{testImageId:t,testLoading:n,testResults:i,testType:o,queryImage:c,duplicateThreshold:d,similarThreshold:m,colorThreshold:y,searchLimit:S,setTestImageId:e,setTestType:s,setDuplicateThreshold:h,setSimilarThreshold:g,setColorThreshold:v,setSearchLimit:w,handleTestSearch:async T=>{const A=t.trim();if(!A){alert(T("similarity.test.invalidId")||"Please enter a composite hash");return}if(!/^[0-9a-fA-F]{48}$/.test(A)){alert(T("similarity.test.invalidHashFormat")||"Invalid hash format. Expected 48 hexadecimal characters.");return}a(!0),r([]),u(null);try{const I=await bi.getImage(A);I.success&&I.data&&u(I.data);let N=[];o==="duplicates"?N=await hf.findDuplicates(A,d):o==="similar"?N=await hf.findSimilar(A,{threshold:m,limit:S,includeColorSimilarity:!0}):o==="color"&&(N=await hf.findSimilarByColor(A,y,S)),r(N)}catch(I){alert(I.response?.data?.error||T("similarity.test.searchFailed")),console.error("Failed to search:",I)}finally{a(!1)}}}},jYe=t=>{const[e,n]=E.useState([]),[a,i]=E.useState(!1);return{duplicateGroups:e,scanLoading:a,handleScanDuplicates:async o=>{i(!0),n([]);try{const s=await hf.findAllDuplicates({threshold:t,minGroupSize:2});n(s)}catch(s){alert(o("similarity.test.searchFailed")),console.error("Failed to scan duplicates:",s)}finally{i(!1)}}}},DYe=t=>{const e=yt.c(86),{stats:n,rebuilding:a,rebuildProgress:i,rebuildProcessed:r,rebuildTotal:o,autoGenerateHash:s,onAutoGenerateHashChange:c,onRebuildHashes:u,onRefreshStats:d}=t,{t:h}=ht("settings");if(!n){let pe;return e[0]===Symbol.for("react.memo_cache_sentinel")?(pe=l.jsx(Yt,{}),e[0]=pe):pe=e[0],pe}let m;e[1]===Symbol.for("react.memo_cache_sentinel")?(m={mb:3},e[1]=m):m=e[1];let g;e[2]!==h?(g=h("similarity.systemStatus.title"),e[2]=h,e[3]=g):g=e[3];let y;e[4]!==g?(y=l.jsx(ie,{variant:"h6",gutterBottom:!0,children:g}),e[4]=g,e[5]=y):y=e[5];let v;e[6]!==h?(v=h("similarity.systemStatus.description"),e[6]=h,e[7]=v):v=e[7];let S;e[8]!==v?(S=l.jsx(ie,{variant:"body2",color:"text.secondary",paragraph:!0,children:v}),e[8]=v,e[9]=S):S=e[9];let w;e[10]!==n.totalImages||e[11]!==h?(w=h("similarity.systemStatus.totalImages",{count:n.totalImages}),e[10]=n.totalImages,e[11]=h,e[12]=w):w=e[12];let _;e[13]!==w?(_=l.jsx(mt,{label:w,color:"primary",variant:"outlined"}),e[13]=w,e[14]=_):_=e[14];let T;e[15]!==n.imagesWithHash||e[16]!==h?(T=h("similarity.systemStatus.withHash",{count:n.imagesWithHash}),e[15]=n.imagesWithHash,e[16]=h,e[17]=T):T=e[17];let A;e[18]===Symbol.for("react.memo_cache_sentinel")?(A=l.jsx(po,{}),e[18]=A):A=e[18];let R;e[19]!==T?(R=l.jsx(mt,{label:T,color:"success",icon:A}),e[19]=T,e[20]=R):R=e[20];let I;e[21]!==n.imagesWithoutHash||e[22]!==h?(I=h("similarity.systemStatus.withoutHash",{count:n.imagesWithoutHash}),e[21]=n.imagesWithoutHash,e[22]=h,e[23]=I):I=e[23];let N;e[24]!==I?(N=l.jsx(mt,{label:I,color:"warning"}),e[24]=I,e[25]=N):N=e[25];let P;e[26]!==n.completionPercentage||e[27]!==h?(P=h("similarity.systemStatus.completion",{percent:n.completionPercentage}),e[26]=n.completionPercentage,e[27]=h,e[28]=P):P=e[28];const O=n.completionPercentage===100?"success":"info";let D;e[29]!==P||e[30]!==O?(D=l.jsx(mt,{label:P,color:O}),e[29]=P,e[30]=O,e[31]=D):D=e[31];let H;e[32]!==R||e[33]!==N||e[34]!==D||e[35]!==_?(H=l.jsxs(cn,{direction:"row",spacing:1,flexWrap:"wrap",children:[_,R,N,D]}),e[32]=R,e[33]=N,e[34]=D,e[35]=_,e[36]=H):H=e[36];let L;e[37]!==r||e[38]!==i||e[39]!==o||e[40]!==a||e[41]!==h?(L=a&&l.jsxs(Z,{children:[l.jsx(ie,{variant:"body2",gutterBottom:!0,children:h("similarity.systemStatus.rebuildProgress",{processed:r,total:o,percent:i.toFixed(0)})}),l.jsx(oc,{variant:"determinate",value:i})]}),e[37]=r,e[38]=i,e[39]=o,e[40]=a,e[41]=h,e[42]=L):L=e[42];let $;e[43]!==c?($=pe=>c(pe.target.checked),e[43]=c,e[44]=$):$=e[44];let M;e[45]!==s||e[46]!==$?(M=l.jsx(Ai,{checked:s,onChange:$,color:"primary"}),e[45]=s,e[46]=$,e[47]=M):M=e[47];let z;e[48]!==h?(z=h("similarity.systemStatus.autoGenerateHash"),e[48]=h,e[49]=z):z=e[49];let F;e[50]!==M||e[51]!==z?(F=l.jsx(wn,{control:M,label:z}),e[50]=M,e[51]=z,e[52]=F):F=e[52];let G;e[53]!==a?(G=a?l.jsx(Yt,{size:20}):l.jsx(jo,{}),e[53]=a,e[54]=G):G=e[54];const ee=a||n.imagesWithoutHash===0;let V;e[55]!==a||e[56]!==n.imagesWithoutHash||e[57]!==h?(V=a?h("similarity.systemStatus.rebuildingButton"):h("similarity.systemStatus.rebuildButton",{count:n.imagesWithoutHash}),e[55]=a,e[56]=n.imagesWithoutHash,e[57]=h,e[58]=V):V=e[58];let Y;e[59]!==u||e[60]!==G||e[61]!==ee||e[62]!==V?(Y=l.jsx(Ue,{variant:"contained",startIcon:G,onClick:u,disabled:ee,children:V}),e[59]=u,e[60]=G,e[61]=ee,e[62]=V,e[63]=Y):Y=e[63];let K;e[64]===Symbol.for("react.memo_cache_sentinel")?(K=l.jsx(jo,{}),e[64]=K):K=e[64];let J;e[65]!==h?(J=h("similarity.systemStatus.refreshButton"),e[65]=h,e[66]=J):J=e[66];let W;e[67]!==d||e[68]!==J?(W=l.jsx(Ue,{variant:"outlined",startIcon:K,onClick:d,children:J}),e[67]=d,e[68]=J,e[69]=W):W=e[69];let te;e[70]!==Y||e[71]!==W?(te=l.jsxs(cn,{direction:"row",spacing:2,children:[Y,W]}),e[70]=Y,e[71]=W,e[72]=te):te=e[72];let re;e[73]!==n.imagesWithoutHash||e[74]!==h?(re=n.imagesWithoutHash===0&&l.jsx(jt,{title:h("similarity.systemStatus.allComplete"),arrow:!0,children:l.jsx(mt,{icon:l.jsx(po,{}),label:h("similarity.systemStatus.allCompleteShort"),color:"success",size:"small"})}),e[73]=n.imagesWithoutHash,e[74]=h,e[75]=re):re=e[75];let ne;e[76]!==H||e[77]!==L||e[78]!==F||e[79]!==te||e[80]!==re?(ne=l.jsxs(cn,{spacing:2,children:[H,L,F,te,re]}),e[76]=H,e[77]=L,e[78]=F,e[79]=te,e[80]=re,e[81]=ne):ne=e[81];let ce;return e[82]!==y||e[83]!==ne||e[84]!==S?(ce=l.jsx(ma,{sx:m,children:l.jsxs(Ri,{children:[y,S,ne]})}),e[82]=y,e[83]=ne,e[84]=S,e[85]=ce):ce=e[85],ce},Ev=t=>{const e=t.thumbnail_url??t.original_file_path;return e?B4(e):null},OYe=t=>{switch(t){case"exact":return"error";case"near-duplicate":return"warning";case"similar":return"info";case"color-similar":return"success";default:return"info"}},MYe=(t,e)=>{switch(t){case"exact":return e("similarity.test.matchTypes.exact");case"near-duplicate":return e("similarity.test.matchTypes.nearDuplicate");case"similar":return e("similarity.test.matchTypes.similar");case"color-similar":return e("similarity.test.matchTypes.colorSimilar");default:return e("similarity.test.matchTypes.similar")}},PYe=t=>{const e=yt.c(56),{queryImage:n,testResults:a}=t,{t:i}=ht("settings"),[r,o]=E.useState(null),[s,c]=E.useState(0);let u;e[0]!==i?(u=i("similarity.test.queryImage"),e[0]=i,e[1]=u):u=e[1];let d;e[2]!==u?(d=l.jsx(ie,{variant:"subtitle2",gutterBottom:!0,children:u}),e[2]=u,e[3]=d):d=e[3];let h;e[4]===Symbol.for("react.memo_cache_sentinel")?(h={maxWidth:400,mx:"auto",mb:3},e[4]=h):h=e[4];let m;e[5]!==n?(m=Ev(n)?l.jsx(Z,{component:"img",src:Ev(n),alt:n.original_file_path??"",sx:{width:"100%",maxHeight:300,objectFit:"contain"}}):l.jsx(Z,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"grey.100"},children:l.jsx(ie,{color:"text.secondary",children:"No thumbnail available"})}),e[5]=n,e[6]=m):m=e[6];let g;e[7]!==i?(g=i("similarity.test.imageDetails.id"),e[7]=i,e[8]=g):g=e[8];let y;e[9]!==g?(y=l.jsx("strong",{children:g}),e[9]=g,e[10]=y):y=e[10];let v;e[11]!==n.composite_hash||e[12]!==y?(v=l.jsxs(ie,{variant:"body2",children:[y," ",n.composite_hash]}),e[11]=n.composite_hash,e[12]=y,e[13]=v):v=e[13];let S;e[14]!==i?(S=i("similarity.test.imageDetails.filename"),e[14]=i,e[15]=S):S=e[15];let w;e[16]!==S?(w=l.jsx("strong",{children:S}),e[16]=S,e[17]=w):w=e[17];const _=n.original_file_path??"";let T;e[18]!==_||e[19]!==w?(T=l.jsxs(ie,{variant:"body2",noWrap:!0,children:[w," ",_]}),e[18]=_,e[19]=w,e[20]=T):T=e[20];let A;e[21]!==i?(A=i("similarity.test.imageDetails.size"),e[21]=i,e[22]=A):A=e[22];let R;e[23]!==A?(R=l.jsx("strong",{children:A}),e[23]=A,e[24]=R):R=e[24];let I;e[25]!==n.height||e[26]!==n.width||e[27]!==R?(I=l.jsxs(ie,{variant:"body2",children:[R," ",n.width,"  ",n.height]}),e[25]=n.height,e[26]=n.width,e[27]=R,e[28]=I):I=e[28];let N;e[29]!==n.ai_tool||e[30]!==i?(N=n.ai_tool&&l.jsxs(ie,{variant:"body2",children:[l.jsx("strong",{children:i("similarity.test.imageDetails.aiTool")})," ",n.ai_tool]}),e[29]=n.ai_tool,e[30]=i,e[31]=N):N=e[31];let P;e[32]!==T||e[33]!==I||e[34]!==N||e[35]!==v?(P=l.jsxs(Ri,{children:[v,T,I,N]}),e[32]=T,e[33]=I,e[34]=N,e[35]=v,e[36]=P):P=e[36];let O;e[37]!==P||e[38]!==m?(O=l.jsxs(ma,{variant:"outlined",sx:h,children:[m,P]}),e[37]=P,e[38]=m,e[39]=O):O=e[39];let D;e[40]!==i||e[41]!==a?(D=a.length>0&&l.jsxs(Z,{children:[l.jsx(ie,{variant:"subtitle2",gutterBottom:!0,children:i("similarity.test.results",{count:a.length})}),l.jsx(Z,{sx:{display:"grid",gridTemplateColumns:{xs:"repeat(2, 1fr)",sm:"repeat(3, 1fr)",md:"repeat(4, 1fr)"},gap:2},children:a.slice(0,12).map((F,G)=>l.jsx(Z,{children:l.jsxs(ma,{variant:"outlined",onClick:()=>{o(F.image),c(G)},sx:{cursor:"pointer",transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:4}},children:[Ev(F.image)?l.jsx(Z,{component:"img",src:Ev(F.image),alt:F.image.original_file_path??"",sx:{width:"100%",height:150,objectFit:"cover"}}):l.jsx(Z,{sx:{height:150,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"grey.100"},children:l.jsx(ie,{variant:"caption",color:"text.secondary",children:"No image"})}),l.jsxs(Ri,{sx:{p:1},children:[l.jsxs(cn,{direction:"row",spacing:.5,sx:{flexWrap:"wrap"},children:[l.jsx(mt,{label:i("similarity.test.similarity",{percent:F.similarity.toFixed(1)}),size:"small",color:"primary"}),l.jsx(mt,{label:MYe(F.matchType,i),size:"small",color:OYe(F.matchType)})]}),F.colorSimilarity&&l.jsx(ie,{variant:"caption",color:"text.secondary",children:i("similarity.test.colorSimilarity",{percent:F.colorSimilarity.toFixed(1)})})]})]})},`${F.image.composite_hash}-${F.image.file_id||G}`))})]}),e[40]=i,e[41]=a,e[42]=D):D=e[42];const H=r!==null;let L;e[43]===Symbol.for("react.memo_cache_sentinel")?(L=()=>o(null),e[43]=L):L=e[43];let $;e[44]!==a?($=a.map(LYe),e[44]=a,e[45]=$):$=e[45];let M;e[46]!==r||e[47]!==s||e[48]!==H||e[49]!==$?(M=l.jsx(p5,{open:H,onClose:L,image:r,images:$,currentIndex:s,onImageChange:c}),e[46]=r,e[47]=s,e[48]=H,e[49]=$,e[50]=M):M=e[50];let z;return e[51]!==O||e[52]!==D||e[53]!==d||e[54]!==M?(z=l.jsxs(Z,{children:[d,O,D,M]}),e[51]=O,e[52]=D,e[53]=d,e[54]=M,e[55]=z):z=e[55],z};function LYe(t){return t.image}const zYe=({testImageId:t,testLoading:e,testType:n,queryImage:a,testResults:i,onSetTestImageId:r,onSetTestType:o,onTestSearch:s})=>{const{t:c}=ht("settings"),[u,d]=E.useState(null),[h,m]=E.useState(!1),[g,y]=E.useState(!1),[v,S]=E.useState(""),[w,_]=E.useState(!1);E.useEffect(()=>{T()},[]);const T=async()=>{m(!0);try{const R=await hf.getStats();d(R)}catch(R){console.error("Failed to load stats:",R)}finally{m(!1)}},A=async()=>{y(!0),S(""),_(!1);try{const R=await hf.rebuildHashes(100);S(c("similarity.test.rebuild.success",{processed:R.processed,failed:R.failed,remaining:R.remaining})),_(!0),await T()}catch(R){S(c("similarity.test.rebuild.error",{error:R.response?.data?.error||R.message})),_(!1)}finally{y(!1)}};return l.jsx(ma,{sx:{mb:3},children:l.jsxs(Ri,{children:[l.jsx(ie,{variant:"h6",gutterBottom:!0,children:c("similarity.test.title")}),l.jsx(ie,{variant:"body2",color:"text.secondary",paragraph:!0,children:c("similarity.test.description")}),h?l.jsx(Z,{sx:{mb:2},children:l.jsx(Yt,{size:20})}):u?l.jsxs(Z,{sx:{mb:2},children:[l.jsxs(cn,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[l.jsxs(ie,{variant:"body2",color:"text.secondary",children:[c("similarity.test.hashStatus"),":"]}),l.jsx(mt,{size:"small",icon:u.completionPercentage>=100?l.jsx(po,{}):l.jsx(oMe,{}),label:`${u.imagesWithHash} / ${u.totalImages} (${u.completionPercentage.toFixed(1)}%)`,color:u.completionPercentage>=100?"success":"warning"})]}),u.completionPercentage<100&&l.jsx(oc,{variant:"determinate",value:u.completionPercentage,sx:{mb:1}}),u.imagesWithoutHash>0&&l.jsx(Ue,{size:"small",variant:"outlined",startIcon:g?l.jsx(Yt,{size:16}):l.jsx(jo,{}),onClick:A,disabled:g,sx:{mt:1},children:g?c("similarity.test.rebuild.rebuilding"):c("similarity.test.rebuild.button",{count:u.imagesWithoutHash})}),v&&l.jsx(xt,{severity:w?"success":"error",sx:{mt:1},children:v})]}):null,l.jsxs(cn,{spacing:2,children:[l.jsxs(cn,{direction:"row",spacing:2,alignItems:"flex-end",children:[l.jsx(Tt,{label:c("similarity.test.imageId"),value:t,onChange:R=>r(R.target.value),type:"text",placeholder:"e.g., a1b2c3d4e5f6... (48-character composite hash)",fullWidth:!0}),l.jsxs(ri,{sx:{minWidth:150},children:[l.jsx(Nr,{children:c("similarity.test.searchType")}),l.jsxs(Xi,{value:n,label:c("similarity.test.searchType"),onChange:R=>o(R.target.value),children:[l.jsx(nn,{value:"duplicates",children:c("similarity.test.types.duplicates")}),l.jsx(nn,{value:"similar",children:c("similarity.test.types.similar")}),l.jsx(nn,{value:"color",children:c("similarity.test.types.color")})]})]})]}),l.jsx(cn,{direction:"row",spacing:2,children:l.jsx(Ue,{variant:"contained",startIcon:e?l.jsx(Yt,{size:20}):l.jsx(Wc,{}),onClick:s,disabled:e||!t,fullWidth:!0,children:c(e?"similarity.test.searching":"similarity.test.searchButton")})}),a&&l.jsx(PYe,{queryImage:a,testResults:i}),i.length===0&&t&&!e&&l.jsx(xt,{severity:"info",children:c("similarity.test.noResults")})]})]})})},FYe=({duplicateGroups:t,scanLoading:e,onScanDuplicates:n,onImagesDeleted:a})=>{const{t:i}=ht("settings"),[r,o]=E.useState(new Set),[s,c]=E.useState(!1),[u,d]=E.useState(!1),h=w=>{o(_=>{const T=new Set(_);return T.has(w)?T.delete(w):T.add(w),T})},m=(w,_)=>{o(T=>{const A=new Set(T);return w.images.forEach(R=>{R.file_id&&(_?A.add(R.file_id):A.delete(R.file_id))}),A})},g=w=>{o(_=>{const T=new Set(_);return w.images.slice(1).forEach(A=>{A.file_id&&T.add(A.file_id)}),T})},y=async()=>{if(r.size!==0){d(!0);try{const w=Array.from(r),_=await bi.deleteImageFiles(w);if(!_.success)alert(_.error||i("similarity.duplicateScan.deleteError"));else{const T=_.details?.deletedFiles?.length||w.length;alert(i("similarity.duplicateScan.deleteSuccess",{count:T}))}o(new Set),c(!1),a&&a()}catch(w){console.error("Failed to delete images:",w),alert(i("similarity.duplicateScan.deleteFailed"))}finally{d(!1)}}},v=w=>w.images.every(_=>_.file_id&&r.has(_.file_id)),S=w=>w.images.some(_=>_.file_id&&r.has(_.file_id))&&!v(w);return l.jsxs(ma,{sx:{mb:3},children:[l.jsxs(Ri,{children:[l.jsx(ie,{variant:"h6",gutterBottom:!0,children:i("similarity.duplicateScan.title")}),l.jsx(ie,{variant:"body2",color:"text.secondary",paragraph:!0,children:i("similarity.duplicateScan.description")}),l.jsxs(cn,{spacing:2,children:[l.jsxs(cn,{direction:"row",spacing:2,children:[l.jsx(Ue,{variant:"contained",color:"secondary",startIcon:e?l.jsx(Yt,{size:20}):l.jsx(IOe,{}),onClick:n,disabled:e,children:i(e?"similarity.duplicateScan.scanning":"similarity.duplicateScan.scanButton")}),r.size>0&&l.jsx(Ue,{variant:"contained",color:"error",startIcon:l.jsx(Wa,{}),onClick:()=>c(!0),children:i("similarity.duplicateScan.deleteSelected",{count:r.size})})]}),t.length>0&&l.jsxs(Z,{children:[l.jsx(ie,{variant:"subtitle2",gutterBottom:!0,children:i("similarity.duplicateScan.foundGroups",{count:t.length})}),t.map(w=>l.jsxs(rl,{children:[l.jsx(sl,{expandIcon:l.jsx(zi,{}),children:l.jsxs(cn,{direction:"row",spacing:2,alignItems:"center",sx:{width:"100%"},children:[l.jsx(ng,{color:"warning"}),l.jsx(ie,{sx:{flex:1},children:i("similarity.duplicateScan.groupLabel",{id:w.groupId,count:w.images.length})}),l.jsx(mt,{label:i("similarity.duplicateScan.similarityLabel",{percent:w.similarity.toFixed(1)}),size:"small",color:"warning"})]})}),l.jsxs(ol,{children:[l.jsxs(cn,{direction:"row",spacing:1,sx:{mb:2},flexWrap:"wrap",children:[l.jsx(jt,{title:i("similarity.duplicateScan.selectAll"),children:l.jsx(Ue,{size:"small",variant:v(w)?"contained":"outlined",startIcon:l.jsx(UQ,{}),onClick:_=>{_.stopPropagation(),m(w,!v(w))},children:i("similarity.duplicateScan.selectAll")})}),l.jsx(jt,{title:i("similarity.duplicateScan.keepOneDelete"),children:l.jsx(Ue,{size:"small",variant:"outlined",color:"warning",onClick:_=>{_.stopPropagation(),g(w)},children:i("similarity.duplicateScan.keepOne")})}),(v(w)||S(w))&&l.jsx(jt,{title:i("similarity.duplicateScan.deselectAll"),children:l.jsx(Ue,{size:"small",variant:"outlined",startIcon:l.jsx(MQ,{}),onClick:_=>{_.stopPropagation(),m(w,!1)},children:i("similarity.duplicateScan.deselectAll")})})]}),l.jsx(Z,{sx:{display:"grid",gridTemplateColumns:{xs:"repeat(2, 1fr)",sm:"repeat(3, 1fr)",md:"repeat(5, 1fr)"},gap:2},children:w.images.map(_=>{if(!_.file_id)return null;const T=r.has(_.file_id);return l.jsxs(Z,{sx:{position:"relative",cursor:"pointer",border:T?"3px solid":"1px solid",borderColor:T?"error.main":"divider",borderRadius:1,overflow:"hidden",transition:"all 0.2s","&:hover":{borderColor:T?"error.dark":"primary.main",transform:"scale(1.02)"}},onClick:()=>h(_.file_id),children:[l.jsx(Zs,{checked:T,onChange:()=>h(_.file_id),sx:{position:"absolute",top:4,right:4,bgcolor:"background.paper",borderRadius:"50%","&:hover":{bgcolor:"background.paper"}},onClick:A=>A.stopPropagation()}),l.jsx(Z,{component:"img",src:Ev(_)||"",alt:_.original_file_path??"",sx:{width:"100%",height:150,objectFit:"cover",opacity:T?.6:1}}),l.jsxs(Z,{sx:{p:1,bgcolor:T?"error.light":"background.paper"},children:[l.jsxs(ie,{variant:"caption",display:"block",noWrap:!0,sx:{color:T?"error.contrastText":"text.primary"},children:["ID: ",_.file_id]}),l.jsxs(ie,{variant:"caption",display:"block",noWrap:!0,sx:{color:T?"error.contrastText":"text.secondary"},children:[_.width,"  ",_.height]})]}),T&&l.jsx(Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"rgba(211, 47, 47, 0.9)",borderRadius:"50%",p:1},children:l.jsx(Wa,{sx:{color:"white",fontSize:32}})})]},`file-${_.file_id}`)})})]})]},w.groupId))]}),t.length===0&&!e&&l.jsx(xt,{severity:"info",children:i("similarity.duplicateScan.noResults")})]})]}),l.jsxs(Fn,{open:s,onClose:()=>!u&&c(!1),children:[l.jsx(Un,{children:i("similarity.duplicateScan.deleteConfirmTitle")}),l.jsxs($n,{children:[l.jsx(rc,{children:i("similarity.duplicateScan.deleteConfirmMessage",{count:r.size})}),l.jsx(xt,{severity:"warning",sx:{mt:2},children:i("similarity.duplicateScan.deleteWarning")})]}),l.jsxs(Wn,{children:[l.jsx(Ue,{onClick:()=>c(!1),disabled:u,children:i("similarity.duplicateScan.cancel")}),l.jsx(Ue,{onClick:y,color:"error",variant:"contained",disabled:u,startIcon:u?l.jsx(Yt,{size:20}):l.jsx(Wa,{}),children:i(u?"similarity.duplicateScan.deleting":"similarity.duplicateScan.confirmDelete")})]})]})]})},BYe=t=>{const e=yt.c(166),{duplicateThreshold:n,similarThreshold:a,colorThreshold:i,searchLimit:r,onSetDuplicateThreshold:o,onSetSimilarThreshold:s,onSetColorThreshold:c,onSetSearchLimit:u}=t,{t:d}=ht("settings");let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h={display:"flex",alignItems:"center",mb:1},e[0]=h):h=e[0];let m;e[1]!==d?(m=d("similarity.thresholds.title"),e[1]=d,e[2]=m):m=e[2];let g;e[3]!==m?(g=l.jsx(ie,{variant:"h6",children:m}),e[3]=m,e[4]=g):g=e[4];let y;e[5]!==d?(y=d("similarity.thresholds.localStorageNote"),e[5]=d,e[6]=y):y=e[6];let v;e[7]===Symbol.for("react.memo_cache_sentinel")?(v=l.jsx(Wl,{fontSize:"small",sx:{ml:1,color:"text.secondary"}}),e[7]=v):v=e[7];let S;e[8]!==y?(S=l.jsx(jt,{title:y,arrow:!0,children:v}),e[8]=y,e[9]=S):S=e[9];let w;e[10]!==g||e[11]!==S?(w=l.jsxs(Z,{sx:h,children:[g,S]}),e[10]=g,e[11]=S,e[12]=w):w=e[12];let _;e[13]!==d?(_=d("similarity.thresholds.description"),e[13]=d,e[14]=_):_=e[14];let T;e[15]!==_?(T=l.jsx(ie,{variant:"body2",color:"text.secondary",paragraph:!0,children:_}),e[15]=_,e[16]=T):T=e[16];let A;e[17]!==n||e[18]!==d?(A=d("similarity.thresholds.duplicate.label",{value:n}),e[17]=n,e[18]=d,e[19]=A):A=e[19];let R;e[20]!==A?(R=l.jsx(ie,{gutterBottom:!0,children:A}),e[20]=A,e[21]=R):R=e[21];let I;e[22]!==o?(I=(Kt,Ht)=>o(Ht),e[22]=o,e[23]=I):I=e[23];let N;e[24]!==d?(N=d("similarity.thresholds.duplicate.strict"),e[24]=d,e[25]=N):N=e[25];let P;e[26]!==N?(P={value:0,label:N},e[26]=N,e[27]=P):P=e[27];let O;e[28]!==d?(O=d("similarity.thresholds.duplicate.recommended"),e[28]=d,e[29]=O):O=e[29];let D;e[30]!==O?(D={value:5,label:O},e[30]=O,e[31]=D):D=e[31];let H;e[32]!==d?(H=d("similarity.thresholds.duplicate.lenient"),e[32]=d,e[33]=H):H=e[33];let L;e[34]!==H?(L={value:10,label:H},e[34]=H,e[35]=L):L=e[35];let $;e[36]!==P||e[37]!==D||e[38]!==L?($=[P,D,L],e[36]=P,e[37]=D,e[38]=L,e[39]=$):$=e[39];let M;e[40]!==n||e[41]!==I||e[42]!==$?(M=l.jsx(ki,{value:n,onChange:I,min:0,max:10,step:1,marks:$}),e[40]=n,e[41]=I,e[42]=$,e[43]=M):M=e[43];let z;e[44]!==d?(z=d("similarity.thresholds.duplicate.description"),e[44]=d,e[45]=z):z=e[45];let F;e[46]!==z?(F=l.jsx(ie,{variant:"caption",color:"text.secondary",children:z}),e[46]=z,e[47]=F):F=e[47];let G;e[48]!==R||e[49]!==M||e[50]!==F?(G=l.jsxs(Z,{children:[R,M,F]}),e[48]=R,e[49]=M,e[50]=F,e[51]=G):G=e[51];let ee;e[52]!==a||e[53]!==d?(ee=d("similarity.thresholds.similar.label",{value:a}),e[52]=a,e[53]=d,e[54]=ee):ee=e[54];let V;e[55]!==ee?(V=l.jsx(ie,{gutterBottom:!0,children:ee}),e[55]=ee,e[56]=V):V=e[56];let Y;e[57]!==s?(Y=(Kt,Ht)=>s(Ht),e[57]=s,e[58]=Y):Y=e[58];let K;e[59]!==d?(K=d("similarity.thresholds.similar.strict"),e[59]=d,e[60]=K):K=e[60];let J;e[61]!==K?(J={value:5,label:K},e[61]=K,e[62]=J):J=e[62];let W;e[63]!==d?(W=d("similarity.thresholds.similar.recommended"),e[63]=d,e[64]=W):W=e[64];let te;e[65]!==W?(te={value:15,label:W},e[65]=W,e[66]=te):te=e[66];let re;e[67]!==d?(re=d("similarity.thresholds.similar.lenient"),e[67]=d,e[68]=re):re=e[68];let ne;e[69]!==re?(ne={value:25,label:re},e[69]=re,e[70]=ne):ne=e[70];let ce;e[71]!==J||e[72]!==te||e[73]!==ne?(ce=[J,te,ne],e[71]=J,e[72]=te,e[73]=ne,e[74]=ce):ce=e[74];let pe;e[75]!==a||e[76]!==Y||e[77]!==ce?(pe=l.jsx(ki,{value:a,onChange:Y,min:5,max:25,step:1,marks:ce}),e[75]=a,e[76]=Y,e[77]=ce,e[78]=pe):pe=e[78];let me;e[79]!==d?(me=d("similarity.thresholds.similar.description"),e[79]=d,e[80]=me):me=e[80];let ge;e[81]!==me?(ge=l.jsx(ie,{variant:"caption",color:"text.secondary",children:me}),e[81]=me,e[82]=ge):ge=e[82];let ye;e[83]!==V||e[84]!==pe||e[85]!==ge?(ye=l.jsxs(Z,{children:[V,pe,ge]}),e[83]=V,e[84]=pe,e[85]=ge,e[86]=ye):ye=e[86];let he;e[87]!==i||e[88]!==d?(he=d("similarity.thresholds.color.label",{value:i}),e[87]=i,e[88]=d,e[89]=he):he=e[89];let de;e[90]!==he?(de=l.jsx(ie,{gutterBottom:!0,children:he}),e[90]=he,e[91]=de):de=e[91];let fe;e[92]!==c?(fe=(Kt,Ht)=>c(Ht),e[92]=c,e[93]=fe):fe=e[93];let oe;e[94]!==d?(oe=d("similarity.thresholds.color.min"),e[94]=d,e[95]=oe):oe=e[95];let ue;e[96]!==oe?(ue={value:70,label:oe},e[96]=oe,e[97]=ue):ue=e[97];let le;e[98]!==d?(le=d("similarity.thresholds.color.recommended"),e[98]=d,e[99]=le):le=e[99];let Se;e[100]!==le?(Se={value:85,label:le},e[100]=le,e[101]=Se):Se=e[101];let _e;e[102]!==d?(_e=d("similarity.thresholds.color.max"),e[102]=d,e[103]=_e):_e=e[103];let Ie;e[104]!==_e?(Ie={value:100,label:_e},e[104]=_e,e[105]=Ie):Ie=e[105];let ze;e[106]!==ue||e[107]!==Se||e[108]!==Ie?(ze=[ue,Se,Ie],e[106]=ue,e[107]=Se,e[108]=Ie,e[109]=ze):ze=e[109];let Me;e[110]!==i||e[111]!==fe||e[112]!==ze?(Me=l.jsx(ki,{value:i,onChange:fe,min:70,max:100,step:5,marks:ze}),e[110]=i,e[111]=fe,e[112]=ze,e[113]=Me):Me=e[113];let Ze;e[114]!==d?(Ze=d("similarity.thresholds.color.description"),e[114]=d,e[115]=Ze):Ze=e[115];let Ee;e[116]!==Ze?(Ee=l.jsx(ie,{variant:"caption",color:"text.secondary",children:Ze}),e[116]=Ze,e[117]=Ee):Ee=e[117];let Ne;e[118]!==de||e[119]!==Me||e[120]!==Ee?(Ne=l.jsxs(Z,{children:[de,Me,Ee]}),e[118]=de,e[119]=Me,e[120]=Ee,e[121]=Ne):Ne=e[121];let ve;e[122]!==d?(ve=d("similarity.thresholds.searchLimit.label"),e[122]=d,e[123]=ve):ve=e[123];let we;e[124]!==ve?(we=l.jsx(Nr,{children:ve}),e[124]=ve,e[125]=we):we=e[125];let Oe;e[126]!==d?(Oe=d("similarity.thresholds.searchLimit.label"),e[126]=d,e[127]=Oe):Oe=e[127];let Le;e[128]!==u?(Le=Kt=>u(Kt.target.value),e[128]=u,e[129]=Le):Le=e[129];let We;e[130]!==d?(We=d("similarity.thresholds.searchLimit.options.10"),e[130]=d,e[131]=We):We=e[131];let Fe;e[132]!==We?(Fe=l.jsx(nn,{value:10,children:We}),e[132]=We,e[133]=Fe):Fe=e[133];let Ve;e[134]!==d?(Ve=d("similarity.thresholds.searchLimit.options.20"),e[134]=d,e[135]=Ve):Ve=e[135];let rt;e[136]!==Ve?(rt=l.jsx(nn,{value:20,children:Ve}),e[136]=Ve,e[137]=rt):rt=e[137];let at;e[138]!==d?(at=d("similarity.thresholds.searchLimit.options.50"),e[138]=d,e[139]=at):at=e[139];let ot;e[140]!==at?(ot=l.jsx(nn,{value:50,children:at}),e[140]=at,e[141]=ot):ot=e[141];let bt;e[142]!==d?(bt=d("similarity.thresholds.searchLimit.options.100"),e[142]=d,e[143]=bt):bt=e[143];let Xt;e[144]!==bt?(Xt=l.jsx(nn,{value:100,children:bt}),e[144]=bt,e[145]=Xt):Xt=e[145];let Jt;e[146]!==r||e[147]!==Oe||e[148]!==Le||e[149]!==Fe||e[150]!==rt||e[151]!==ot||e[152]!==Xt?(Jt=l.jsxs(Xi,{value:r,label:Oe,onChange:Le,children:[Fe,rt,ot,Xt]}),e[146]=r,e[147]=Oe,e[148]=Le,e[149]=Fe,e[150]=rt,e[151]=ot,e[152]=Xt,e[153]=Jt):Jt=e[153];let vn;e[154]!==we||e[155]!==Jt?(vn=l.jsxs(ri,{fullWidth:!0,children:[we,Jt]}),e[154]=we,e[155]=Jt,e[156]=vn):vn=e[156];let jn;e[157]!==G||e[158]!==ye||e[159]!==Ne||e[160]!==vn?(jn=l.jsxs(cn,{spacing:3,children:[G,ye,Ne,vn]}),e[157]=G,e[158]=ye,e[159]=Ne,e[160]=vn,e[161]=jn):jn=e[161];let ea;return e[162]!==jn||e[163]!==w||e[164]!==T?(ea=l.jsx(ma,{children:l.jsxs(Ri,{children:[w,T,jn]})}),e[162]=jn,e[163]=w,e[164]=T,e[165]=ea):ea=e[165],ea},HYe=()=>{const t=yt.c(54),{t:e}=ht("settings"),{stats:n,rebuilding:a,rebuildProgress:i,rebuildProcessed:r,rebuildTotal:o,autoGenerateHash:s,loadStats:c,handleAutoGenerateHashChange:u,handleRebuildHashes:d}=IYe(),{testImageId:h,testLoading:m,testResults:g,testType:y,queryImage:v,duplicateThreshold:S,similarThreshold:w,colorThreshold:_,searchLimit:T,setTestImageId:A,setTestType:R,setDuplicateThreshold:I,setSimilarThreshold:N,setColorThreshold:P,setSearchLimit:O,handleTestSearch:D}=NYe(),{duplicateGroups:H,scanLoading:L,handleScanDuplicates:$}=jYe(S);let M;t[0]!==u||t[1]!==e?(M=ce=>u(ce,e),t[0]=u,t[1]=e,t[2]=M):M=t[2];let z;t[3]!==d||t[4]!==e?(z=()=>d(e),t[3]=d,t[4]=e,t[5]=z):z=t[5];let F;t[6]!==s||t[7]!==c||t[8]!==r||t[9]!==i||t[10]!==o||t[11]!==a||t[12]!==n||t[13]!==M||t[14]!==z?(F=l.jsx(DYe,{stats:n,rebuilding:a,rebuildProgress:i,rebuildProcessed:r,rebuildTotal:o,autoGenerateHash:s,onAutoGenerateHashChange:M,onRebuildHashes:z,onRefreshStats:c}),t[6]=s,t[7]=c,t[8]=r,t[9]=i,t[10]=o,t[11]=a,t[12]=n,t[13]=M,t[14]=z,t[15]=F):F=t[15];let G;t[16]===Symbol.for("react.memo_cache_sentinel")?(G=l.jsx(fn,{sx:{my:3}}),t[16]=G):G=t[16];let ee;t[17]!==D||t[18]!==e?(ee=()=>D(e),t[17]=D,t[18]=e,t[19]=ee):ee=t[19];let V;t[20]!==v||t[21]!==A||t[22]!==R||t[23]!==ee||t[24]!==h||t[25]!==m||t[26]!==g||t[27]!==y?(V=l.jsx(zYe,{testImageId:h,testLoading:m,testType:y,queryImage:v,testResults:g,onSetTestImageId:A,onSetTestType:R,onTestSearch:ee}),t[20]=v,t[21]=A,t[22]=R,t[23]=ee,t[24]=h,t[25]=m,t[26]=g,t[27]=y,t[28]=V):V=t[28];let Y;t[29]===Symbol.for("react.memo_cache_sentinel")?(Y=l.jsx(fn,{sx:{my:3}}),t[29]=Y):Y=t[29];let K,J;t[30]!==$||t[31]!==e?(K=()=>$(e),J=()=>{$(e)},t[30]=$,t[31]=e,t[32]=K,t[33]=J):(K=t[32],J=t[33]);let W;t[34]!==H||t[35]!==L||t[36]!==K||t[37]!==J?(W=l.jsx(FYe,{duplicateGroups:H,scanLoading:L,onScanDuplicates:K,onImagesDeleted:J}),t[34]=H,t[35]=L,t[36]=K,t[37]=J,t[38]=W):W=t[38];let te;t[39]===Symbol.for("react.memo_cache_sentinel")?(te=l.jsx(fn,{sx:{my:3}}),t[39]=te):te=t[39];let re;t[40]!==_||t[41]!==S||t[42]!==T||t[43]!==P||t[44]!==I||t[45]!==O||t[46]!==N||t[47]!==w?(re=l.jsx(BYe,{duplicateThreshold:S,similarThreshold:w,colorThreshold:_,searchLimit:T,onSetDuplicateThreshold:I,onSetSimilarThreshold:N,onSetColorThreshold:P,onSetSearchLimit:O}),t[40]=_,t[41]=S,t[42]=T,t[43]=P,t[44]=I,t[45]=O,t[46]=N,t[47]=w,t[48]=re):re=t[48];let ne;return t[49]!==re||t[50]!==F||t[51]!==V||t[52]!==W?(ne=l.jsxs(Z,{children:[F,G,V,Y,W,te,re]}),t[49]=re,t[50]=F,t[51]=V,t[52]=W,t[53]=ne):ne=t[53],ne},$Ye=async t=>(await Ut.get(`${Aa}/api/folders`,{params:t,withCredentials:!0})).data.data,UYe=async t=>(await Ut.get(`${Aa}/api/folders/${t}`,{withCredentials:!0})).data.data,GYe=async t=>(await Ut.post(`${Aa}/api/folders`,t,{withCredentials:!0})).data.data,qYe=async(t,e)=>(await Ut.patch(`${Aa}/api/folders/${t}`,e,{withCredentials:!0})).data.data,WYe=async(t,e=!1)=>(await Ut.delete(`${Aa}/api/folders/${t}`,{params:{delete_files:e},withCredentials:!0})).data.data,VYe=async(t,e=!1)=>(await Ut.post(`${Aa}/api/folders/${t}/scan`,null,{params:{full:e},withCredentials:!0})).data.data,YYe=async()=>(await Ut.post(`${Aa}/api/folders/scan-all`,null,{withCredentials:!0})).data.data,KYe=async t=>(await Ut.post(`${Aa}/api/folders/validate-path`,{folder_path:t},{withCredentials:!0})).data.data,XYe=async t=>(await Ut.post(`${Aa}/api/folders/${t}/watcher/start`,null,{withCredentials:!0})).data.data,QYe=async t=>(await Ut.post(`${Aa}/api/folders/${t}/watcher/stop`,null,{withCredentials:!0})).data.data,ZYe=async t=>(await Ut.post(`${Aa}/api/folders/${t}/watcher/restart`,null,{withCredentials:!0})).data.data,JYe=async t=>(await Ut.get(`${Aa}/api/folders/${t}/watcher/status`,{withCredentials:!0})).data.data,eKe=async()=>(await Ut.get(`${Aa}/api/folders/watchers/health`,{withCredentials:!0})).data.data,Lh={getFolders:$Ye,getFolder:UYe,addFolder:GYe,updateFolder:qYe,deleteFolder:WYe,scanFolder:VYe,scanAllFolders:YYe,validateFolderPath:KYe,startWatcher:XYe,stopWatcher:QYe,restartWatcher:ZYe,getWatcherStatus:JYe,getWatchersHealth:eKe},tKe=({open:t,onClose:e,folder:n,onSuccess:a})=>{const{t:i}=ht("settings"),r=!!n,[o,s]=E.useState({folder_path:"",folder_name:"",auto_scan:!0,scan_interval:60,recursive:!0,exclude_extensions:[],exclude_patterns:[],watcher_enabled:!0,watcher_polling_interval:null}),[c,u]=E.useState(""),[d,h]=E.useState(""),[m,g]=E.useState(null),[y,v]=E.useState(!1);E.useEffect(()=>{s(n?{folder_path:n.folder_path,folder_name:n.folder_name||"",auto_scan:n.auto_scan===1,scan_interval:n.scan_interval,recursive:n.recursive===1,exclude_extensions:n.exclude_extensions?JSON.parse(n.exclude_extensions):[],exclude_patterns:n.exclude_patterns?JSON.parse(n.exclude_patterns):[],watcher_enabled:n.watcher_enabled===1,watcher_polling_interval:n.watcher_polling_interval}:{folder_path:"",folder_name:"",auto_scan:!0,scan_interval:60,recursive:!0,exclude_extensions:[],exclude_patterns:[],watcher_enabled:!0,watcher_polling_interval:null}),g(null)},[n,t]);const S=()=>{if(!c.trim())return;const R=c.trim().startsWith(".")?c.trim():`.${c.trim()}`;o.exclude_extensions?.includes(R)||s({...o,exclude_extensions:[...o.exclude_extensions||[],R]}),u("")},w=R=>{s({...o,exclude_extensions:o.exclude_extensions?.filter(I=>I!==R)})},_=()=>{d.trim()&&(o.exclude_patterns?.includes(d.trim())||s({...o,exclude_patterns:[...o.exclude_patterns||[],d.trim()]}),h(""))},T=R=>{s({...o,exclude_patterns:o.exclude_patterns?.filter(I=>I!==R)})},A=async()=>{if(!o.folder_path.trim()){g(i("folderSettings.dialog.errorPath"));return}v(!0);try{if(g(null),r&&n){const R={folder_name:o.folder_name,auto_scan:o.auto_scan,scan_interval:o.scan_interval,recursive:o.recursive,exclude_extensions:o.exclude_extensions,exclude_patterns:o.exclude_patterns,watcher_enabled:o.watcher_enabled,watcher_polling_interval:o.watcher_polling_interval};await Lh.updateFolder(n.id,R)}else await Lh.addFolder(o);await new Promise(R=>setTimeout(R,500)),a(),e()}catch(R){g(R.response?.data?.message||i("folderSettings.dialog.errorSave"))}finally{v(!1)}};return l.jsxs(Fn,{open:t,onClose:e,maxWidth:"md",fullWidth:!0,children:[l.jsx(Un,{children:i(r?"folderSettings.dialog.editTitle":"folderSettings.dialog.addTitle")}),l.jsxs($n,{children:[m&&l.jsx(xt,{severity:"error",sx:{mb:2},children:m}),l.jsxs(Z,{sx:{display:"flex",flexDirection:"column",gap:1.5,mt:.5},children:[l.jsx(Tt,{fullWidth:!0,label:i("folderSettings.dialog.folderPath"),value:o.folder_path,onChange:R=>s({...o,folder_path:R.target.value}),disabled:r,helperText:i(r?"folderSettings.dialog.folderPathDisabled":"folderSettings.dialog.folderPathHelper")}),l.jsx(Tt,{fullWidth:!0,label:i("folderSettings.dialog.folderName"),value:o.folder_name,onChange:R=>s({...o,folder_name:R.target.value}),helperText:i("folderSettings.dialog.folderNameHelper")}),l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:.5},children:[l.jsx(wn,{control:l.jsx(Ai,{checked:o.watcher_enabled,onChange:R=>s({...o,watcher_enabled:R.target.checked})}),label:i("folderSettings.dialog.watcherEnabled")}),l.jsx(jt,{title:i("folderSettings.dialog.watcherTooltip"),arrow:!0,placement:"right",children:l.jsx(lt,{size:"small",children:l.jsx(Wl,{fontSize:"small",color:"action"})})})]}),o.watcher_enabled&&l.jsxs(Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:.5},children:[l.jsx(ie,{variant:"body2",color:"text.secondary",children:i("folderSettings.dialog.pollingInterval")}),l.jsx(jt,{title:i("folderSettings.dialog.pollingIntervalTooltip"),arrow:!0,children:l.jsx(G1,{fontSize:"small",color:"action",sx:{cursor:"help"}})})]}),l.jsx(Tt,{size:"small",type:"number",label:i("folderSettings.dialog.pollingIntervalLabel"),value:o.watcher_polling_interval??"",onChange:R=>s({...o,watcher_polling_interval:R.target.value===""?null:parseInt(R.target.value)||null}),placeholder:i("folderSettings.dialog.pollingIntervalPlaceholder"),helperText:i("folderSettings.dialog.pollingIntervalHelper"),sx:{maxWidth:300},inputProps:{min:100,step:100}})]}),l.jsx(wn,{control:l.jsx(Ai,{checked:o.auto_scan,onChange:R=>s({...o,auto_scan:R.target.checked})}),label:i("folderSettings.dialog.autoScan")}),o.auto_scan&&l.jsx(Tt,{fullWidth:!0,type:"number",label:i("folderSettings.dialog.scanInterval"),value:o.scan_interval,onChange:R=>s({...o,scan_interval:parseInt(R.target.value)||60}),helperText:i("folderSettings.dialog.scanIntervalHelper")}),l.jsxs(rl,{sx:{boxShadow:"none","&:before":{display:"none"}},children:[l.jsx(sl,{expandIcon:l.jsx(zi,{}),sx:{minHeight:40,"& .MuiAccordionSummary-content":{my:.5}},children:l.jsx(ie,{variant:"body2",color:"text.secondary",children:i("folderSettings.dialog.advancedOptions")})}),l.jsx(ol,{sx:{pt:0},children:l.jsxs(Z,{sx:{display:"flex",flexDirection:"column",gap:1.5},children:[l.jsx(wn,{control:l.jsx(Ai,{checked:o.recursive,onChange:R=>s({...o,recursive:R.target.checked})}),label:i("folderSettings.dialog.recursive")}),l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:.5,mt:.5},children:[l.jsx(ie,{variant:"body2",color:"text.secondary",children:i("folderSettings.dialog.excludeExtensions")}),l.jsx(jt,{title:i("folderSettings.dialog.excludeExtensionsTooltip"),arrow:!0,children:l.jsx(G1,{fontSize:"small",color:"action",sx:{cursor:"help"}})})]}),l.jsxs(Z,{sx:{display:"flex",gap:1},children:[l.jsx(Tt,{size:"small",value:c,onChange:R=>u(R.target.value),onKeyDown:R=>R.key==="Enter"&&S(),placeholder:i("folderSettings.dialog.excludeExtensionsPlaceholder"),sx:{width:200}}),l.jsx(Ue,{onClick:S,startIcon:l.jsx(Vr,{}),variant:"outlined",size:"small",children:i("folderSettings.dialog.addButton")})]}),o.exclude_extensions&&o.exclude_extensions.length>0&&l.jsx(Z,{sx:{display:"flex",gap:.5,flexWrap:"wrap"},children:o.exclude_extensions.map(R=>l.jsx(mt,{label:R,onDelete:()=>w(R),size:"small",color:"error",variant:"outlined"},R))}),l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:.5,mt:.5},children:[l.jsx(ie,{variant:"body2",color:"text.secondary",children:i("folderSettings.dialog.excludePatterns")}),l.jsx(jt,{title:i("folderSettings.dialog.excludePatternsTooltip"),arrow:!0,children:l.jsx(G1,{fontSize:"small",color:"action",sx:{cursor:"help"}})})]}),l.jsxs(Z,{sx:{display:"flex",gap:1},children:[l.jsx(Tt,{size:"small",value:d,onChange:R=>h(R.target.value),onKeyDown:R=>R.key==="Enter"&&_(),placeholder:i("folderSettings.dialog.excludePatternsPlaceholder"),sx:{width:300}}),l.jsx(Ue,{onClick:_,startIcon:l.jsx(Vr,{}),variant:"outlined",size:"small",children:i("folderSettings.dialog.addButton")})]}),o.exclude_patterns&&o.exclude_patterns.length>0&&l.jsx(Z,{sx:{display:"flex",gap:.5,flexWrap:"wrap"},children:o.exclude_patterns.map(R=>l.jsx(mt,{label:R,onDelete:()=>T(R),size:"small"},R))})]})})]})]})]}),l.jsxs(Wn,{children:[l.jsx(Ue,{onClick:e,disabled:y,children:i("folderSettings.dialog.cancelButton")}),l.jsx(Ue,{onClick:A,variant:"contained",disabled:y,children:i(y?"folderSettings.dialog.savingButton":"folderSettings.dialog.saveButton")})]})]})},oH="http://localhost:1566",nKe=({open:t,onClose:e,folderId:n})=>{const{t:a}=ht("settings"),[i,r]=E.useState([]),[o,s]=E.useState(!1),[c,u]=E.useState(null);E.useEffect(()=>{t&&d()},[t,n]);const d=async()=>{s(!0),u(null);try{const g=n?`${oH}/api/folders/${n}/scan-logs`:`${oH}/api/folders/scan-logs/recent`,y=await Ut.get(g);r(y.data.data)}catch(g){console.error("Failed to load scan logs:",g),u(a("folderSettings.scanLog.loadFailed"))}finally{s(!1)}},h=g=>{switch(g){case"success":return"success";case"error":return"error";default:return"default"}},m=g=>{switch(g){case"success":return a("folderSettings.scanLog.status.success");case"error":return a("folderSettings.scanLog.status.error");default:return g}};return l.jsxs(Fn,{open:t,onClose:e,maxWidth:"lg",fullWidth:!0,children:[l.jsx(Un,{children:a(n?"folderSettings.scanLog.titleSpecific":"folderSettings.scanLog.titleAll")}),l.jsxs($n,{children:[c&&l.jsx(xt,{severity:"error",sx:{mb:2},children:c}),o?l.jsx(Z,{sx:{display:"flex",justifyContent:"center",py:4},children:l.jsx(Yt,{})}):i.length===0?l.jsx(xt,{severity:"info",children:a("folderSettings.scanLog.noLogs")}):l.jsx(n5,{component:Gt,variant:"outlined",children:l.jsxs(fS,{size:"small",children:[l.jsx(pS,{children:l.jsxs(Es,{children:[l.jsx(Qt,{children:a("folderSettings.scanLog.columns.scanTime")}),!n&&l.jsx(Qt,{children:a("folderSettings.scanLog.columns.folder")}),l.jsx(Qt,{align:"center",children:a("folderSettings.scanLog.columns.status")}),l.jsx(Qt,{align:"right",children:a("folderSettings.scanLog.columns.scanned")}),l.jsx(Qt,{align:"right",children:a("folderSettings.scanLog.columns.new")}),l.jsx(Qt,{align:"right",children:a("folderSettings.scanLog.columns.existing")}),l.jsx(Qt,{align:"right",children:a("folderSettings.scanLog.columns.errors")}),l.jsx(Qt,{align:"right",children:a("folderSettings.scanLog.columns.duration")}),l.jsx(Qt,{children:a("folderSettings.scanLog.columns.details")})]})}),l.jsx(hS,{children:i.map(g=>l.jsxs(Es,{children:[l.jsx(Qt,{children:l.jsx(ie,{variant:"caption",children:new Date(g.scan_date).toLocaleString()})}),!n&&l.jsx(Qt,{children:l.jsx(ie,{variant:"caption",noWrap:!0,children:g.folder_name||g.folder_path})}),l.jsx(Qt,{align:"center",children:l.jsx(mt,{label:m(g.scan_status),size:"small",color:h(g.scan_status)})}),l.jsx(Qt,{align:"right",children:g.total_scanned}),l.jsx(Qt,{align:"right",children:g.new_images}),l.jsx(Qt,{align:"right",children:g.existing_images}),l.jsx(Qt,{align:"right",children:g.errors_count>0&&l.jsx(mt,{label:g.errors_count,size:"small",color:"error",icon:l.jsx(hg,{})})}),l.jsx(Qt,{align:"right",children:l.jsx(ie,{variant:"caption",children:a("folderSettings.scanLog.durationSeconds",{seconds:(g.duration_ms/1e3).toFixed(2)})})}),l.jsx(Qt,{children:g.error_details&&g.error_details.length>0&&l.jsxs(rl,{children:[l.jsx(sl,{expandIcon:l.jsx(zi,{}),children:l.jsx(ie,{variant:"caption",children:a("folderSettings.scanLog.errorDetails",{count:g.error_details.length})})}),l.jsx(ol,{children:l.jsx(Z,{sx:{maxHeight:200,overflow:"auto"},children:g.error_details.map((y,v)=>l.jsxs(Z,{sx:{mb:1},children:[l.jsx(ie,{variant:"caption",fontWeight:"bold",children:y.file}),l.jsx(ie,{variant:"caption",color:"error",display:"block",children:y.error})]},v))})})]})})]},g.id))})]})})]}),l.jsxs(Wn,{children:[l.jsx(Ue,{onClick:d,disabled:o,children:a("folderSettings.scanLog.refresh")}),l.jsx(Ue,{onClick:e,children:a("folderSettings.scanLog.close")})]})]})},aKe=()=>{const{t}=ht("settings"),[e,n]=E.useState([]),[a,i]=E.useState(!0),[r,o]=E.useState(null),[s,c]=E.useState(!1),[u,d]=E.useState(null),[h,m]=E.useState(null),[g,y]=E.useState(!1),[v,S]=E.useState(!1),[w,_]=E.useState(void 0),[T,A]=E.useState(null),R=async()=>{try{o(null);const z=await Lh.getFolders();n(z.filter(F=>!F.is_default))}catch(z){console.error("Failed to load folders:",z),o(t("folderSettings.watchedFolders.messages.loadFailed"))}finally{i(!1)}};E.useEffect(()=>{R();const z=setInterval(()=>{R()},1e4);return()=>clearInterval(z)},[]);const I=z=>{d(z||null),c(!0)},N=()=>{c(!1),d(null)},P=()=>{R()},O=async z=>{if(window.confirm(t("folderSettings.watchedFolders.messages.deleteConfirm",{name:z.folder_name||z.folder_path})))try{await Lh.deleteFolder(z.id),R()}catch(F){console.error("Failed to delete folder:",F),o(t("folderSettings.watchedFolders.messages.deleteFailed"))}},D=async z=>{m(z);try{await Lh.scanFolder(z),R()}catch(F){console.error("Failed to scan folder:",F),o(t("folderSettings.watchedFolders.messages.scanFailed"))}finally{m(null)}},H=async()=>{y(!0);try{o(null);const z=await Lh.scanAllFolders(),F=z.totalErrors>0?t("folderSettings.watchedFolders.messages.scanAllErrors",{totalErrors:z.totalErrors}):"",G=t("folderSettings.watchedFolders.messages.scanAllComplete",{totalFolders:z.totalFolders,totalNew:z.totalNew,totalExisting:z.totalExisting,errors:F});alert(G),R()}catch(z){console.error("Failed to scan all folders:",z),o(t("folderSettings.watchedFolders.messages.scanAllFailed"))}finally{y(!1)}},L=async z=>{A(z);try{await Lh.startWatcher(z),R()}catch(F){console.error("Failed to start watcher:",F),o(t("folderSettings.watchedFolders.messages.watcherStartFailed"))}finally{A(null)}},$=async z=>{A(z);try{await Lh.stopWatcher(z),R()}catch(F){console.error("Failed to stop watcher:",F),o(t("folderSettings.watchedFolders.messages.watcherStopFailed"))}finally{A(null)}},M=z=>{const{watcher_status:F,watcher_enabled:G}=z;if(G===1&&!F)return t("folderSettings.watchedFolders.watcherStatus.starting");switch(F){case"watching":return t("folderSettings.watchedFolders.watcherStatus.watching");case"error":return t("folderSettings.watchedFolders.watcherStatus.error");case"stopped":return t("folderSettings.watchedFolders.watcherStatus.stopped");default:return t("folderSettings.watchedFolders.watcherStatus.inactive")}};return a?l.jsx(Gt,{sx:{p:3},children:l.jsx(Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:l.jsx(Yt,{})})}):l.jsxs(Z,{children:[l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[l.jsx(ie,{variant:"h6",children:t("folderSettings.watchedFolders.title")}),l.jsxs(Z,{sx:{display:"flex",gap:1},children:[l.jsx(Ue,{startIcon:l.jsx(M4,{}),onClick:()=>{_(void 0),S(!0)},size:"small",variant:"outlined",children:t("folderSettings.watchedFolders.viewAllLogs")}),l.jsx(Ue,{startIcon:g?l.jsx(Yt,{size:16}):l.jsx(ip,{}),onClick:H,disabled:g||e.length===0,variant:"outlined",color:"primary",children:t("folderSettings.watchedFolders.scanAll")}),l.jsx(Ue,{startIcon:l.jsx(jo,{}),onClick:R,size:"small",children:t("folderSettings.watchedFolders.refresh")})]})]}),r&&l.jsx(xt,{severity:"error",sx:{mb:2},onClose:()=>o(null),children:r}),l.jsxs(dn,{container:!0,spacing:2,children:[e.map(z=>l.jsx(dn,{size:{xs:12,sm:6,md:4},children:l.jsxs(ma,{sx:{display:"flex",flexDirection:"column",height:"100%",minHeight:220,position:"relative"},children:[l.jsxs(Z,{sx:{p:2,pb:1.5,borderBottom:"1px solid",borderColor:"divider"},children:[l.jsx(jt,{title:z.folder_path,placement:"top",arrow:!0,children:l.jsx(ie,{variant:"h6",component:"div",sx:{fontWeight:600,fontSize:"1.1rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",mb:.5},children:z.folder_name||t("folderSettings.watchedFolders.noName")})}),l.jsxs(Z,{sx:{display:"flex",gap:.5,alignItems:"center",flexWrap:"wrap"},children:[l.jsx(mt,{label:z.is_active?t("folderSettings.watchedFolders.active"):t("folderSettings.watchedFolders.inactive"),size:"small",color:z.is_active?"success":"default",sx:{height:20,fontSize:"0.7rem"}}),z.auto_scan===1&&l.jsx(mt,{icon:l.jsx(vOe,{sx:{fontSize:14}}),label:t("folderSettings.watchedFolders.autoScanInterval",{interval:z.scan_interval}),size:"small",variant:"outlined",sx:{height:20,fontSize:"0.7rem"}}),z.last_scan_status&&l.jsx(mt,{label:t("folderSettings.watchedFolders.scanStatus"),size:"small",sx:{height:20,fontSize:"0.7rem",color:z.last_scan_status==="success"?"success.main":z.last_scan_status==="error"?"error.main":z.last_scan_status==="in_progress"?"info.main":"grey.500",borderColor:z.last_scan_status==="success"?"success.main":z.last_scan_status==="error"?"error.main":z.last_scan_status==="in_progress"?"info.main":"grey.400"},variant:"outlined"}),z.watcher_enabled===1&&l.jsx(jt,{title:M(z),arrow:!0,children:l.jsx(Z,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:32,height:20,border:"1px solid",borderRadius:"10px",color:z.watcher_status==="watching"?"success.main":z.watcher_status==="error"?"error.main":"grey.500",borderColor:z.watcher_status==="watching"?"success.main":z.watcher_status==="error"?"error.main":"grey.400"},children:z.watcher_status==="watching"?l.jsx(gS,{sx:{fontSize:14}}):z.watcher_status==="error"?l.jsx(P4,{sx:{fontSize:14}}):l.jsx(P4,{sx:{fontSize:14}})})})]})]}),l.jsx(Ri,{sx:{flexGrow:1,p:2,pb:1,minHeight:60},children:z.watcher_error?l.jsx(xt,{severity:"error",sx:{py:.5,fontSize:"0.75rem"},children:z.watcher_error}):l.jsx(Z,{children:z.last_scan_date?l.jsx(ie,{variant:"caption",color:"text.disabled",sx:{fontSize:"0.75rem"},children:t("folderSettings.watchedFolders.lastScan",{date:new Date(z.last_scan_date).toLocaleString("ko-KR",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})})}):l.jsx(ie,{variant:"caption",color:"text.disabled",sx:{fontSize:"0.75rem"},children:t("folderSettings.watchedFolders.noScanHistory")})})}),l.jsxs(f7,{sx:{p:2,pt:1,borderTop:"1px solid",borderColor:"divider",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx(Z,{sx:{display:"flex",alignItems:"center"},children:z.watcher_enabled===1&&l.jsx(jt,{title:T===z.id?t("folderSettings.watchedFolders.tooltips.processing"):z.watcher_status==="watching"?t("folderSettings.watchedFolders.tooltips.watcherStop"):t("folderSettings.watchedFolders.tooltips.watcherStart"),arrow:!0,children:l.jsx(Ai,{size:"small",checked:z.watcher_status==="watching",onChange:F=>{F.target.checked?L(z.id):$(z.id)},disabled:T===z.id,color:"success"})})}),l.jsxs(Z,{sx:{display:"flex",gap:.5,alignItems:"center"},children:[l.jsx(jt,{title:t("folderSettings.watchedFolders.tooltips.scan"),arrow:!0,children:l.jsx("span",{children:l.jsx(lt,{size:"small",onClick:()=>D(z.id),disabled:h===z.id,color:"primary",children:h===z.id?l.jsx(Yt,{size:18}):l.jsx(ip,{fontSize:"small"})})})}),l.jsx(jt,{title:t("folderSettings.watchedFolders.tooltips.log"),arrow:!0,children:l.jsx(lt,{size:"small",onClick:()=>{_(z.id),S(!0)},children:l.jsx(M4,{fontSize:"small"})})}),l.jsx(jt,{title:t("folderSettings.watchedFolders.tooltips.edit"),arrow:!0,children:l.jsx(lt,{size:"small",onClick:()=>I(z),children:l.jsx(id,{fontSize:"small"})})}),l.jsx(jt,{title:t("folderSettings.watchedFolders.tooltips.delete"),arrow:!0,children:l.jsx(lt,{size:"small",onClick:()=>O(z),color:"error",children:l.jsx(Wa,{fontSize:"small"})})})]})]})]})},z.id)),l.jsx(dn,{size:{xs:12,sm:6,md:4},children:l.jsx(ma,{sx:{border:"2px dashed",borderColor:"primary.main",backgroundColor:"transparent",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",minHeight:220,transition:"all 0.2s","&:hover":{backgroundColor:"action.hover",borderColor:"primary.dark","& .add-icon-circle":{transform:"scale(1.1)",backgroundColor:"primary.dark"}}},onClick:()=>I(),children:l.jsxs(Z,{sx:{textAlign:"center",p:2},children:[l.jsx(Z,{className:"add-icon-circle",sx:{width:60,height:60,borderRadius:"50%",backgroundColor:"primary.main",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",transition:"all 0.2s"},children:l.jsx(Vr,{sx:{fontSize:32,color:"white"}})}),l.jsx(ie,{variant:"body2",color:"text.secondary",children:t("folderSettings.watchedFolders.addFolder")})]})})})]}),l.jsx(tKe,{open:s,onClose:N,onSuccess:P,folder:u}),l.jsx(nKe,{open:v,onClose:()=>S(!1),folderId:w})]})},iKe=async()=>(await Ut.get(`${Aa}/api/background-queue/status`,{withCredentials:!0})).data.data,rKe=async()=>(await Ut.post(`${Aa}/api/background-queue/clear`,null,{withCredentials:!0})).data.data,oKe=async()=>(await Ut.post(`${Aa}/api/background-queue/trigger-auto-tag`,null,{withCredentials:!0})).data.data,sKe=async()=>(await Ut.get(`${Aa}/api/images/similarity/stats`,{withCredentials:!0})).data.data,lKe=async()=>(await Ut.post(`${Aa}/api/images/similarity/rebuild-hashes`,null,{withCredentials:!0})).data.data,tv={getQueueStatus:iKe,clearQueue:rKe,triggerAutoTag:oKe,getHashStats:sKe,rebuildHashes:lKe},j1={async getStats(){const t=await At.get("/api/file-verification/stats");return t.data.data||t.data},async getProgress(){const t=await At.get("/api/file-verification/progress");return t.data.data||t.data},async triggerVerification(){return(await At.post("/api/file-verification/verify")).data},async getLogs(t=50){const e=await At.get("/api/file-verification/logs",{params:{limit:t}});return e.data.data||e.data},async getSettings(){const t=await At.get("/api/file-verification/settings");return t.data.data||t.data},async updateSettings(t){return(await At.put("/api/file-verification/settings",t)).data}},cKe=({open:t,onClose:e})=>{const{t:n}=ht("settings"),[a,i]=E.useState([]),[r,o]=E.useState(!1),[s,c]=E.useState(null);E.useEffect(()=>{t&&u()},[t]);const u=async()=>{o(!0),c(null);try{const y=await j1.getLogs(50);i(y)}catch(y){console.error("Failed to load verification logs:",y),c(n("folderSettings.verificationLog.loadFailed"))}finally{o(!1)}},d=y=>new Date(y).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),h=y=>{if(y<1e3)return n("folderSettings.verificationLog.durationMs",{ms:y});const v=(y/1e3).toFixed(2);return n("folderSettings.verificationLog.durationSeconds",{seconds:v})},m=y=>{switch(y){case"auto":return n("folderSettings.verificationLog.verificationType.auto");case"manual":return n("folderSettings.verificationLog.verificationType.manual");default:return y}},g=y=>{if(!y)return[];try{return JSON.parse(y)}catch{return[]}};return l.jsxs(Fn,{open:t,onClose:e,maxWidth:"lg",fullWidth:!0,children:[l.jsx(Un,{children:l.jsxs(Z,{display:"flex",alignItems:"center",gap:1,children:[l.jsx(po,{color:"primary"}),l.jsx(ie,{variant:"h6",children:n("folderSettings.verificationLog.title")})]})}),l.jsxs($n,{dividers:!0,children:[r&&l.jsx(Z,{display:"flex",justifyContent:"center",alignItems:"center",py:4,children:l.jsx(Yt,{})}),s&&l.jsx(xt,{severity:"error",sx:{mb:2},children:s}),!r&&!s&&a.length===0&&l.jsx(xt,{severity:"info",children:n("folderSettings.verificationLog.noLogs")}),!r&&!s&&a.length>0&&l.jsx(n5,{component:Gt,variant:"outlined",children:l.jsxs(fS,{size:"small",children:[l.jsx(pS,{children:l.jsxs(Es,{children:[l.jsx(Qt,{children:n("folderSettings.verificationLog.columns.verificationTime")}),l.jsx(Qt,{align:"center",children:n("folderSettings.verificationLog.columns.verificationType")}),l.jsx(Qt,{align:"right",children:n("folderSettings.verificationLog.columns.checked")}),l.jsx(Qt,{align:"right",children:n("folderSettings.verificationLog.columns.missingFound")}),l.jsx(Qt,{align:"right",children:n("folderSettings.verificationLog.columns.deletedRecords")}),l.jsx(Qt,{align:"right",children:n("folderSettings.verificationLog.columns.errors")}),l.jsx(Qt,{align:"right",children:n("folderSettings.verificationLog.columns.duration")})]})}),l.jsx(hS,{children:a.map(y=>{const v=g(y.error_details),S=y.error_count>0||v.length>0;return l.jsxs(ke.Fragment,{children:[l.jsxs(Es,{hover:!0,children:[l.jsx(Qt,{children:d(y.verification_date)}),l.jsx(Qt,{align:"center",children:l.jsx(mt,{label:m(y.verification_type),size:"small",color:y.verification_type==="auto"?"default":"primary"})}),l.jsx(Qt,{align:"right",children:y.total_checked.toLocaleString()}),l.jsx(Qt,{align:"right",children:y.missing_found>0?l.jsx(mt,{label:n("folderSettings.verificationLog.countFormat",{count:y.missing_found}),size:"small",color:"warning"}):l.jsx(ie,{variant:"body2",color:"text.secondary",children:n("folderSettings.verificationLog.countFormat",{count:0})})}),l.jsx(Qt,{align:"right",children:y.deleted_records>0?l.jsx(mt,{label:n("folderSettings.verificationLog.countFormat",{count:y.deleted_records}),size:"small",color:"error"}):l.jsx(ie,{variant:"body2",color:"text.secondary",children:n("folderSettings.verificationLog.countFormat",{count:0})})}),l.jsx(Qt,{align:"right",children:S?l.jsx(mt,{label:n("folderSettings.verificationLog.countFormat",{count:y.error_count}),size:"small",color:"error",icon:l.jsx(hg,{})}):l.jsx(ie,{variant:"body2",color:"text.secondary",children:n("folderSettings.verificationLog.noErrors")})}),l.jsx(Qt,{align:"right",children:h(y.duration_ms)})]}),S&&v.length>0&&l.jsx(Es,{children:l.jsx(Qt,{colSpan:7,sx:{py:0},children:l.jsxs(rl,{sx:{boxShadow:"none","&:before":{display:"none"}},children:[l.jsx(sl,{expandIcon:l.jsx(zi,{}),sx:{minHeight:"auto","& .MuiAccordionSummary-content":{my:1}},children:l.jsxs(Z,{display:"flex",alignItems:"center",gap:1,children:[l.jsx(hg,{color:"error",fontSize:"small"}),l.jsx(ie,{variant:"body2",color:"error",children:n("folderSettings.verificationLog.errorDetails",{count:v.length})})]})}),l.jsx(ol,{children:l.jsx(Z,{sx:{maxHeight:300,overflow:"auto"},children:v.map((w,_)=>l.jsxs(Z,{sx:{mb:1,p:1,bgcolor:"grey.50",borderRadius:1},children:[l.jsx(ie,{variant:"caption",display:"block",color:"error",fontWeight:"bold",children:n("folderSettings.verificationLog.errorItem.fileId",{id:w.fileId})}),l.jsx(ie,{variant:"caption",display:"block",sx:{wordBreak:"break-all"},children:n("folderSettings.verificationLog.errorItem.path",{path:w.filePath})}),l.jsx(ie,{variant:"caption",display:"block",color:"text.secondary",children:n("folderSettings.verificationLog.errorItem.error",{error:w.error})})]},_))})})]})})})]},y.id)})})]})})]}),l.jsxs(Wn,{children:[l.jsx(Ue,{onClick:u,disabled:r,children:n("folderSettings.verificationLog.refresh")}),l.jsx(Ue,{onClick:e,variant:"contained",children:n("folderSettings.verificationLog.close")})]})]})},uKe=()=>{const{t}=ht("settings"),[e,n]=E.useState(null),[a,i]=E.useState(!0),[r,o]=E.useState(null),[s]=E.useState(!0),[c,u]=E.useState(null),[d,h]=E.useState(!1),[m,g]=E.useState(null),[y,v]=E.useState(null),[S,w]=E.useState(null),[_,T]=E.useState(!1),[A,R]=E.useState(!1),[I,N]=E.useState("3600"),[P,O]=E.useState(!1),D=async()=>{try{o(null);const[G,ee,V,Y,K]=await Promise.all([tv.getQueueStatus(),tv.getHashStats(),j1.getStats(),j1.getProgress(),j1.getSettings()]);n(G),u(ee),g(V),v(Y),w(K),K&&(O(K.enabled??!1),N(K.interval?.toString()??"3600"))}catch(G){console.error("Failed to fetch background queue status:",G),o(t("background.loadFailed"))}finally{i(!1)}},H=async()=>{if(window.confirm(t("background.confirmReset")))try{await tv.clearQueue(),await D()}catch(G){console.error("Failed to clear queue:",G),o(t("background.resetFailed"))}},L=async()=>{try{await tv.triggerAutoTag(),await D()}catch(G){console.error("Failed to trigger auto-tag:",G),o(t("background.autoTagFailed"))}},$=async()=>{if(!(!c||c.imagesWithoutHash===0)&&window.confirm(t("background.confirmHashGen",{count:c.imagesWithoutHash})))try{h(!0),o(null);const G=await tv.rebuildHashes();await D(),G.failed>0&&o(t("background.hashGenComplete",{processed:G.processed,failed:G.failed}))}catch(G){console.error("Failed to rebuild hashes:",G),o(t("background.hashGenFailed"))}finally{h(!1)}},M=async()=>{if(m&&window.confirm(t("background.confirmVerify",{count:m.totalFiles})))try{R(!0),o(null),await j1.triggerVerification(),await D()}catch(G){console.error("Failed to trigger verification:",G),o(t("background.verifyFailed"))}finally{R(!1)}},z=async()=>{const G=parseInt(I,10);if(isNaN(G)||G<300||G>86400){o(t("background.verifyIntervalError"));return}try{o(null),await j1.updateSettings({enabled:P,interval:G}),await D()}catch(ee){console.error("Failed to update verification settings:",ee),o(t("background.verifySaveFailed"))}};E.useEffect(()=>{D()},[]),E.useEffect(()=>{if(!s)return;const G=setInterval(()=>{D()},5e3);return()=>clearInterval(G)},[s]);const F=G=>G?new Date(G).toLocaleString("ko-KR",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):t("common.none");return a?l.jsx(Gt,{sx:{p:3},children:l.jsx(Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:l.jsx(Yt,{})})}):e?l.jsxs(l.Fragment,{children:[l.jsxs(Gt,{sx:{p:3},children:[l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[l.jsx(ie,{variant:"h6",children:t("background.title")}),l.jsxs(Z,{children:[l.jsx(lt,{onClick:D,size:"small",title:t("common.refresh"),children:l.jsx(jo,{})}),l.jsx(lt,{onClick:H,size:"small",color:"error",title:t("background.resetQueue"),disabled:e.queue.queueLength===0,children:l.jsx(Db,{})})]})]}),r&&l.jsx(xt,{severity:"error",sx:{mb:2},onClose:()=>o(null),children:r}),l.jsxs(Z,{sx:{mb:3},children:[l.jsx(ie,{variant:"subtitle1",sx:{mb:2,fontWeight:"bold"},children:t("background.queue.title")}),l.jsxs(Z,{sx:{display:"flex",gap:2,mb:2},children:[l.jsx(mt,{label:t("background.queue.pending",{count:e.queue.queueLength}),color:e.queue.queueLength>0?"primary":"default"}),l.jsx(mt,{label:e.queue.processing?t("background.queue.processing"):t("background.queue.waiting"),color:e.queue.processing?"success":"default"})]}),e.queue.queueLength>0&&l.jsxs(Ms,{dense:!0,children:[l.jsxs(yf,{children:[l.jsx(ar,{primary:t("background.tasks.metadata"),secondary:t("background.tasks.pendingCount",{count:e.queue.tasksByType.metadata_extraction})}),e.queue.tasksByType.metadata_extraction>0&&l.jsx(Yt,{size:20})]}),l.jsxs(yf,{children:[l.jsx(ar,{primary:t("background.tasks.promptCollection"),secondary:t("background.tasks.pendingCount",{count:e.queue.tasksByType.prompt_collection})}),e.queue.tasksByType.prompt_collection>0&&l.jsx(Yt,{size:20})]})]})]}),l.jsx(fn,{sx:{my:3}}),l.jsxs(Z,{sx:{mb:3},children:[l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[l.jsxs(ie,{variant:"subtitle1",sx:{fontWeight:"bold",display:"flex",alignItems:"center",gap:1},children:[l.jsx(POe,{fontSize:"small"}),t("background.autoTag.title")]}),l.jsx(Ue,{variant:"outlined",size:"small",startIcon:l.jsx(ip,{}),onClick:L,disabled:!e.autoTag.isRunning||e.autoTag.untaggedCount===0,children:t("background.autoTag.manualTrigger")})]}),l.jsxs(Z,{sx:{display:"flex",gap:2,mb:2,flexWrap:"wrap"},children:[l.jsx(mt,{label:e.autoTag.isRunning?t("background.autoTag.running"):t("background.autoTag.stopped"),color:e.autoTag.isRunning?"success":"default",icon:e.autoTag.isRunning?l.jsx(Yt,{size:16}):void 0}),l.jsx(mt,{label:t("background.autoTag.untaggedCount",{count:e.autoTag.untaggedCount}),color:e.autoTag.untaggedCount>0?"warning":"default"}),l.jsx(mt,{label:t("background.autoTag.pollingInterval",{seconds:e.autoTag.pollingIntervalSeconds}),variant:"outlined"}),l.jsx(mt,{label:t("background.autoTag.batchSize",{size:e.autoTag.batchSize}),variant:"outlined"})]})]}),l.jsx(fn,{sx:{my:3}}),c&&l.jsxs(Z,{sx:{mb:3},children:[l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[l.jsx(ie,{variant:"subtitle1",sx:{fontWeight:"bold"},children:t("background.hash.title")}),l.jsx(Ue,{variant:"outlined",size:"small",startIcon:d?l.jsx(Yt,{size:16}):l.jsx(ip,{}),onClick:$,disabled:d||c.imagesWithoutHash===0,children:t("background.hash.generate")})]}),l.jsxs(Z,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[l.jsx(mt,{label:t("background.hash.total",{count:c.totalImages}),variant:"outlined"}),l.jsx(mt,{label:t("background.hash.completed",{count:c.imagesWithHash}),color:"success"}),l.jsx(mt,{label:t("background.hash.pending",{count:c.imagesWithoutHash}),color:c.imagesWithoutHash>0?"warning":"default"}),l.jsx(mt,{label:t("background.hash.completion",{percent:c.completionPercentage}),color:c.completionPercentage===100?"success":"default"})]})]}),l.jsx(fn,{sx:{my:3}}),m&&S&&l.jsxs(Z,{children:[l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[l.jsxs(ie,{variant:"subtitle1",sx:{fontWeight:"bold",display:"flex",alignItems:"center",gap:1},children:[l.jsx(po,{fontSize:"small"}),t("background.verify.title")]}),l.jsxs(Z,{sx:{display:"flex",gap:1},children:[l.jsx(Ue,{variant:"outlined",size:"small",onClick:()=>T(!0),children:t("background.verify.viewLogs")}),l.jsx(Ue,{variant:"outlined",size:"small",startIcon:A||y?.isRunning?l.jsx(Yt,{size:16}):l.jsx(ip,{}),onClick:M,disabled:A||y?.isRunning,children:t("background.verify.run")})]})]}),y?.isRunning&&l.jsxs(xt,{severity:"info",sx:{mb:2},children:[t("background.verify.progress",{checked:y.checkedFiles,total:y.totalFiles}),y.missingFiles>0&&` - ${t("background.verify.missing",{count:y.missingFiles})}`]}),l.jsxs(Z,{sx:{display:"flex",gap:2,mb:2,flexWrap:"wrap"},children:[l.jsx(mt,{label:t("background.verify.totalFiles",{count:m.totalFiles}),variant:"outlined"}),l.jsx(mt,{label:t("background.verify.missingFiles",{count:m.missingFiles}),color:m.missingFiles>0?"warning":"default"}),l.jsx(mt,{label:t("background.verify.lastVerification",{date:F(m.lastVerificationDate)}),variant:"outlined"})]}),l.jsxs(Z,{sx:{mt:2,p:2,borderRadius:1},children:[l.jsx(ie,{variant:"subtitle2",sx:{mb:1,fontWeight:"bold"},children:t("background.verify.schedulerTitle")}),l.jsxs(cn,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:"center",children:[l.jsx(Z,{sx:{minWidth:{xs:"100%",sm:"150px"}},children:l.jsx(wn,{control:l.jsx(Ai,{checked:P,onChange:G=>O(G.target.checked)}),label:t(P?"common.enabled":"common.disabled")})}),l.jsx(Z,{sx:{flex:1,minWidth:{xs:"100%",sm:"200px"}},children:l.jsx(Tt,{label:t("background.verify.intervalLabel"),type:"number",size:"small",fullWidth:!0,value:I,onChange:G=>N(G.target.value),disabled:!P,inputProps:{min:300,max:86400},helperText:t("background.verify.intervalHelper"),InputProps:{endAdornment:l.jsx(jt,{title:t("background.verify.intervalTooltip"),children:l.jsx(Yh,{fontSize:"small",color:"action"})})}})}),l.jsx(Z,{sx:{minWidth:{xs:"100%",sm:"100px"}},children:l.jsx(Ue,{variant:"contained",size:"small",fullWidth:!0,onClick:z,disabled:!S||P===S.enabled&&I===S.interval.toString(),children:t("common.save")})})]})]})]}),l.jsx(Z,{sx:{mt:2},children:l.jsx(ie,{variant:"caption",color:"text.secondary",children:t(s?"background.autoUpdate":"background.autoUpdateDisabled")})})]}),l.jsx(cKe,{open:_,onClose:()=>T(!1)})]}):null},dKe=()=>{const{t}=ht("settings"),[e,n]=E.useState(30),[a,i]=E.useState(30),[r,o]=E.useState(10),[s,c]=E.useState(!1),[u,d]=E.useState(!1),[h,m]=E.useState(null),[g,y]=E.useState(null),[v,S]=E.useState(null),[w,_]=E.useState(null);E.useEffect(()=>{T(),A()},[]);const T=async()=>{try{const N=await Ut.get("/api/settings/phase2-interval");n(N.data.data.interval)}catch(N){console.error("Failed to load phase2 interval:",N)}},A=async()=>{try{const N=await Ut.get("/api/settings/auto-tag-config");i(N.data.data.pollingInterval),o(N.data.data.batchSize)}catch(N){console.error("Failed to load auto-tag config:",N)}},R=async()=>{if(e<5||e>300){m(t("folderSettings.scheduler.backgroundHash.errorRange"));return}c(!0),m(null),y(null);try{const N=await Ut.put("/api/settings/phase2-interval",{interval:e});y(N.data.message),setTimeout(()=>y(null),3e3)}catch(N){m(N.response?.data?.error||t("folderSettings.scheduler.backgroundHash.errorSave"))}finally{c(!1)}},I=async()=>{if(a<5||a>300){S(t("folderSettings.scheduler.autoTagger.errorPollingRange"));return}if(r<1||r>100){S(t("folderSettings.scheduler.autoTagger.errorBatchRange"));return}d(!0),S(null),_(null);try{const N=await Ut.put("/api/settings/auto-tag-config",{pollingInterval:a,batchSize:r});_(N.data.message),setTimeout(()=>_(null),3e3)}catch(N){S(N.response?.data?.error||t("folderSettings.scheduler.autoTagger.errorSave"))}finally{d(!1)}};return l.jsxs(Z,{children:[l.jsx(ie,{variant:"h5",gutterBottom:!0,children:t("folderSettings.title")}),l.jsx(ie,{variant:"body2",color:"text.secondary",sx:{mb:4},children:t("folderSettings.subtitle")}),l.jsxs(Gt,{sx:{p:3,mb:4},children:[l.jsx(ie,{variant:"h6",sx:{mb:3},children:t("folderSettings.scheduler.title")}),l.jsxs(Z,{sx:{mb:4},children:[l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:.5,mb:2},children:[l.jsx(ie,{variant:"subtitle1",sx:{fontWeight:"medium"},children:t("folderSettings.scheduler.backgroundHash.title")}),l.jsx(jt,{title:t("folderSettings.scheduler.backgroundHash.tooltip"),arrow:!0,children:l.jsx(lt,{size:"small",children:l.jsx(Wl,{fontSize:"small",color:"action"})})})]}),h&&l.jsx(xt,{severity:"error",sx:{mb:2},onClose:()=>m(null),children:h}),g&&l.jsx(xt,{severity:"success",sx:{mb:2},onClose:()=>y(null),children:g}),l.jsxs(Z,{sx:{display:"flex",gap:2,alignItems:"center"},children:[l.jsx(jt,{title:t("folderSettings.scheduler.backgroundHash.intervalTooltip"),arrow:!0,children:l.jsx(Tt,{type:"number",value:e,onChange:N=>n(parseInt(N.target.value)||30),inputProps:{min:5,max:300},label:t("folderSettings.scheduler.backgroundHash.intervalLabel"),size:"small",sx:{width:200}})}),l.jsx(Ue,{variant:"outlined",size:"small",onClick:R,disabled:s,children:t(s?"folderSettings.scheduler.backgroundHash.savingButton":"folderSettings.scheduler.backgroundHash.saveButton")})]})]}),l.jsx(fn,{sx:{my:3}}),l.jsxs(Z,{children:[l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:.5,mb:2},children:[l.jsx(ie,{variant:"subtitle1",sx:{fontWeight:"medium"},children:t("folderSettings.scheduler.autoTagger.title")}),l.jsx(jt,{title:t("folderSettings.scheduler.autoTagger.tooltip"),arrow:!0,children:l.jsx(lt,{size:"small",children:l.jsx(Wl,{fontSize:"small",color:"action"})})})]}),v&&l.jsx(xt,{severity:"error",sx:{mb:2},onClose:()=>S(null),children:v}),w&&l.jsx(xt,{severity:"success",sx:{mb:2},onClose:()=>_(null),children:w}),l.jsxs(Z,{sx:{display:"flex",gap:2,alignItems:"center",flexWrap:"wrap"},children:[l.jsx(jt,{title:t("folderSettings.scheduler.autoTagger.pollingIntervalTooltip"),arrow:!0,children:l.jsx(Tt,{type:"number",value:a,onChange:N=>i(parseInt(N.target.value)||30),inputProps:{min:5,max:300},label:t("folderSettings.scheduler.autoTagger.pollingIntervalLabel"),size:"small",sx:{width:200}})}),l.jsx(jt,{title:t("folderSettings.scheduler.autoTagger.batchSizeTooltip"),arrow:!0,children:l.jsx(Tt,{type:"number",value:r,onChange:N=>o(parseInt(N.target.value)||10),inputProps:{min:1,max:100},label:t("folderSettings.scheduler.autoTagger.batchSizeLabel"),size:"small",sx:{width:200}})}),l.jsx(Ue,{variant:"outlined",size:"small",onClick:I,disabled:u,children:t(u?"folderSettings.scheduler.autoTagger.savingButton":"folderSettings.scheduler.autoTagger.saveButton")})]})]})]}),l.jsx(Z,{sx:{mb:4},children:l.jsx(uKe,{})}),l.jsx(fn,{sx:{my:4}}),l.jsx(Z,{children:l.jsx(aKe,{})})]})},C1="http://localhost:1566",ig={async checkStatus(){return(await Ut.get(`${C1}/api/auth/status`,{withCredentials:!0})).data},async login(t,e){return(await Ut.post(`${C1}/api/auth/login`,{username:t,password:e},{withCredentials:!0})).data},async logout(){return(await Ut.post(`${C1}/api/auth/logout`,{},{withCredentials:!0})).data},async setup(t,e){return(await Ut.post(`${C1}/api/auth/setup`,{username:t,password:e},{withCredentials:!0})).data},async updateCredentials(t,e,n){return(await Ut.put(`${C1}/api/auth/credentials`,{currentPassword:t,newUsername:e,newPassword:n},{withCredentials:!0})).data},async getDatabaseInfo(){return(await Ut.get(`${C1}/api/auth/database-info`)).data}},_ee=E.createContext(void 0),fKe=({children:t})=>{const[e,n]=E.useState(!1),[a,i]=E.useState(!0),[r,o]=E.useState(!1),[s,c]=E.useState(null),u=async()=>{try{i(!0);const g=await ig.checkStatus();o(g.hasCredentials),n(g.authenticated),c(g.username)}catch(g){console.error("Failed to check auth status:",g),n(!1),c(null)}finally{i(!1)}},d=async(g,y)=>{try{await ig.login(g,y),await u()}catch(v){throw v instanceof Error?new Error(v.message):new Error("Login failed")}},h=async()=>{try{await ig.logout(),n(!1),c(null)}catch(g){throw console.error("Logout failed:",g),g}};E.useEffect(()=>{u()},[]);const m={isAuthenticated:e,isLoading:a,hasCredentials:r,username:s,login:d,logout:h,checkAuth:u};return l.jsx(_ee.Provider,{value:m,children:t})},LD=()=>{const t=E.useContext(_ee);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},hKe=()=>{const{t}=ht("settings"),{hasCredentials:e,checkAuth:n}=LD(),[a,i]=E.useState(!1),[r,o]=E.useState(""),[s,c]=E.useState(""),[u,d]=E.useState(null),[h,m]=E.useState(""),[g,y]=E.useState(""),[v,S]=E.useState(""),[w,_]=E.useState(""),[T,A]=E.useState(""),[R,I]=E.useState(""),[N,P]=E.useState(""),O=()=>{o(""),c("")},D=()=>{m(""),y(""),S("")},H=()=>{_(""),A(""),I(""),P("")};E.useEffect(()=>{(async()=>{try{const z=await ig.getDatabaseInfo();d(z)}catch(z){console.error("Failed to load database info:",z)}})()},[]);const L=async()=>{if(O(),!h||!g){o(t("auth.setup.errors.required"));return}if(g!==v){o(t("auth.setup.errors.mismatch"));return}i(!0);try{await ig.setup(h,g),c(t("auth.setup.success")),D(),await n()}catch(M){M instanceof Error?o(M.message||t("auth.setup.errors.failed")):o(t("auth.setup.errors.failed"))}finally{i(!1)}},$=async()=>{if(O(),!w||!T||!R){o(t("auth.update.errors.required"));return}if(R!==N){o(t("auth.update.errors.mismatch"));return}i(!0);try{await ig.updateCredentials(w,T,R),c(t("auth.update.success")),H(),await n()}catch(M){M instanceof Error?o(M.message||t("auth.update.errors.failed")):o(t("auth.update.errors.failed"))}finally{i(!1)}};return l.jsxs(Z,{children:[r&&l.jsx(xt,{severity:"error",sx:{mb:3},onClose:O,children:r}),s&&l.jsx(xt,{severity:"success",sx:{mb:3},onClose:O,children:s}),e?l.jsxs(Gt,{sx:{p:3},children:[l.jsxs(Z,{sx:{display:"flex",alignItems:"center",mb:2},children:[l.jsx(L4,{sx:{mr:1,color:"primary.main"}}),l.jsx(ie,{variant:"h6",children:t("auth.update.title")})]}),l.jsx(xt,{severity:"warning",sx:{mb:3},children:t("auth.update.description")}),l.jsx(Tt,{fullWidth:!0,type:"password",label:t("auth.update.currentPassword"),value:w,onChange:M=>_(M.target.value),disabled:a,sx:{mb:2}}),l.jsx(fn,{sx:{my:2}}),l.jsx(Tt,{fullWidth:!0,label:t("auth.update.newUsername"),value:T,onChange:M=>A(M.target.value),disabled:a,sx:{mb:2}}),l.jsx(Tt,{fullWidth:!0,type:"password",label:t("auth.update.newPassword"),value:R,onChange:M=>I(M.target.value),disabled:a,sx:{mb:2}}),l.jsx(Tt,{fullWidth:!0,type:"password",label:t("auth.update.confirmNewPassword"),value:N,onChange:M=>P(M.target.value),disabled:a,sx:{mb:3}}),l.jsx(Ue,{variant:"contained",onClick:$,disabled:a||!w||!T||!R||!N,fullWidth:!0,children:a?l.jsx(Yt,{size:24}):t("auth.update.button")}),l.jsx(Z,{sx:{mt:3},children:l.jsxs(rl,{children:[l.jsx(sl,{expandIcon:l.jsx(zi,{}),children:l.jsxs(Z,{sx:{display:"flex",alignItems:"center"},children:[l.jsx(iD,{sx:{mr:1,color:"warning.main"}}),l.jsx(ie,{children:t("auth.forgotAccount.title")})]})}),l.jsx(ol,{children:l.jsxs(xt,{severity:"info",sx:{mb:2},children:[l.jsx(ie,{variant:"body2",sx:{mb:2},children:t("auth.forgotAccount.description")}),l.jsx(ie,{variant:"body2",component:"div",sx:{mb:1},children:l.jsx("strong",{children:t("auth.forgotAccount.methodTitle")})}),l.jsxs(ie,{variant:"body2",component:"ol",sx:{pl:2,mb:2},children:[l.jsx("li",{children:t("auth.forgotAccount.step1")}),l.jsx("li",{children:t("auth.forgotAccount.step2")}),l.jsx("li",{children:t("auth.forgotAccount.step3")}),l.jsx("li",{children:t("auth.forgotAccount.step4")})]}),u&&l.jsxs(Z,{sx:{bgcolor:"background.default",p:2,borderRadius:1,mt:2},children:[l.jsx(ie,{variant:"caption",sx:{display:"block",mb:1},children:l.jsx("strong",{children:t("auth.forgotAccount.fileToDelete")})}),l.jsx(ie,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.85rem",wordBreak:"break-all",bgcolor:"grey.900",color:"success.light",p:1,borderRadius:1},children:u.authDbPath})]}),l.jsx(xt,{severity:"warning",sx:{mt:2},children:l.jsxs(ie,{variant:"caption",children:[t("auth.forgotAccount.warning")," ",t("auth.forgotAccount.warningNote")]})})]})})]})})]}):l.jsxs(Gt,{sx:{p:3},children:[l.jsxs(Z,{sx:{display:"flex",alignItems:"center",mb:2},children:[l.jsx(XOe,{sx:{mr:1,color:"primary.main"}}),l.jsx(ie,{variant:"h6",children:t("auth.setup.title")})]}),l.jsx(xt,{severity:"info",sx:{mb:3},children:t("auth.setup.description")}),l.jsx(Tt,{fullWidth:!0,label:t("auth.setup.username"),value:h,onChange:M=>m(M.target.value),disabled:a,sx:{mb:2}}),l.jsx(Tt,{fullWidth:!0,type:"password",label:t("auth.setup.password"),value:g,onChange:M=>y(M.target.value),disabled:a,sx:{mb:2}}),l.jsx(Tt,{fullWidth:!0,type:"password",label:t("auth.setup.confirmPassword"),value:v,onChange:M=>S(M.target.value),disabled:a,sx:{mb:3}}),l.jsx(Ue,{variant:"contained",onClick:L,disabled:a||!h||!g||!v,fullWidth:!0,children:a?l.jsx(Yt,{size:24}):t("auth.setup.button")})]})]})},pKe=()=>{const{t}=ht("settings"),[e,n]=E.useState([]),[a,i]=E.useState(!0),[r,o]=E.useState(""),[s,c]=E.useState(""),[u,d]=E.useState(!1),[h,m]=E.useState({}),[g,y]=E.useState({}),[v,S]=E.useState({}),[w,_]=E.useState(!1),[T,A]=E.useState(""),[R,I]=E.useState(""),[N,P]=E.useState(!1),[O,D]=E.useState(null),H=()=>{o(""),c("")},L=async()=>{try{i(!0);const J=await Im.getProviders();n(J);const W={};J.forEach(te=>{W[te.provider_name]={api_key:"",api_secret:"",base_url:te.base_url||""}}),m(W)}catch(J){console.error("Failed to load providers:",J),o(t("externalApi.errors.loadFailed"))}finally{i(!1)}};E.useEffect(()=>{L()},[]);const $=J=>(W,te)=>{d(te?J:!1),H()},M=(J,W,te)=>{m(re=>({...re,[J]:{...re[J],[W]:te}}))},z=async(J,W)=>{try{H(),await Im.toggleProvider(J,!W),await L(),c(t("externalApi.success.toggled",{state:t(W?"common.disabled":"common.enabled")}))}catch(te){o(te.message||t("externalApi.errors.toggleFailed"))}},F=async J=>{try{H();const W=h[J],te={};W.api_key&&W.api_key.trim()!==""&&(te.api_key=W.api_key.trim()),W.api_secret&&W.api_secret.trim()!==""&&(te.api_secret=W.api_secret.trim()),W.base_url!==void 0&&(te.base_url=W.base_url.trim()||null),await Im.updateProvider(J,te),await L(),m(re=>({...re,[J]:{api_key:"",api_secret:"",base_url:W.base_url||""}})),c(t("externalApi.success.saved"))}catch(W){o(W.message||t("externalApi.errors.saveFailed"))}},G=async J=>{try{H(),S(te=>({...te,[J]:!0}));const W=await Im.testConnection(J);W.success?c(t("externalApi.success.connectionTest")):o(W.message||t("externalApi.errors.connectionTestFailed"))}catch(W){o(W.message||t("externalApi.errors.connectionTestFailed"))}finally{S(W=>({...W,[J]:!1}))}},ee=async()=>{if(O)try{H(),await Im.deleteProvider(O),await L(),c(t("externalApi.success.deleted")),P(!1),D(null)}catch(J){o(J.message||t("externalApi.errors.deleteFailed"))}},V=async()=>{try{if(H(),!T||!R){o(t("externalApi.errors.nameRequired"));return}const J={provider_name:T.toLowerCase().replace(/\s+/g,"_"),display_name:R};await Im.createProvider(J),await L(),c(t("externalApi.success.created")),_(!1),A(""),I("")}catch(J){o(J.message||t("externalApi.errors.createFailed"))}},Y=J=>{y(W=>({...W,[J]:!W[J]}))},K=J=>{D(J),P(!0)};return a?l.jsx(Z,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:l.jsx(Yt,{})}):l.jsxs(Z,{children:[l.jsxs(Gt,{sx:{p:3,mb:2},children:[l.jsxs(Z,{display:"flex",alignItems:"center",gap:1,mb:2,children:[l.jsx(L4,{color:"primary"}),l.jsx(ie,{variant:"h6",children:t("externalApi.title")})]}),l.jsx(ie,{variant:"body2",color:"text.secondary",paragraph:!0,children:t("externalApi.description")}),r&&l.jsx(xt,{severity:"error",sx:{mb:2},onClose:H,children:r}),s&&l.jsx(xt,{severity:"success",sx:{mb:2},onClose:H,children:s}),l.jsx(fn,{sx:{my:2}}),e.map(J=>{const W=h[J.provider_name]||{};return l.jsxs(rl,{expanded:u===J.provider_name,onChange:$(J.provider_name),sx:{mb:1},children:[l.jsx(sl,{expandIcon:l.jsx(zi,{}),children:l.jsxs(Z,{display:"flex",alignItems:"center",gap:2,width:"100%",children:[l.jsx(ie,{variant:"subtitle1",children:J.display_name}),l.jsx(Z,{flex:1}),l.jsx(wn,{control:l.jsx(Ai,{checked:J.is_enabled,onClick:te=>te.stopPropagation(),onChange:te=>{te.stopPropagation(),z(J.provider_name,J.is_enabled)}}),label:J.is_enabled?t("common.enabled"):t("common.disabled"),onClick:te=>te.stopPropagation()})]})}),l.jsx(ol,{children:l.jsxs(Z,{children:[l.jsx(Tt,{fullWidth:!0,label:t("externalApi.currentApiKey"),value:J.api_key_masked,disabled:!0,margin:"normal",size:"small",helperText:t("externalApi.currentApiKeyHelper")}),l.jsx(Tt,{fullWidth:!0,label:t("externalApi.newApiKey"),type:g[J.provider_name]?"text":"password",value:W.api_key||"",onChange:te=>M(J.provider_name,"api_key",te.target.value),margin:"normal",size:"small",placeholder:t("externalApi.newApiKeyPlaceholder"),InputProps:{endAdornment:l.jsx(w2,{position:"end",children:l.jsx(lt,{onClick:()=>Y(J.provider_name),edge:"end",children:g[J.provider_name]?l.jsx(P4,{}):l.jsx(gS,{})})})}}),J.provider_name==="civitai"&&l.jsx(Tt,{fullWidth:!0,label:t("externalApi.baseUrl"),value:W.base_url||"",onChange:te=>M(J.provider_name,"base_url",te.target.value),margin:"normal",size:"small",placeholder:"https://civitai.com/api/v1",helperText:t("externalApi.baseUrlHelper")}),l.jsxs(Z,{display:"flex",gap:1,mt:2,children:[l.jsx(Ue,{variant:"contained",startIcon:l.jsx(COe,{}),onClick:()=>F(J.provider_name),disabled:!W.api_key||W.api_key.trim()==="",children:t("common.save")}),l.jsx(Ue,{variant:"outlined",onClick:()=>G(J.provider_name),disabled:v[J.provider_name],children:v[J.provider_name]?l.jsx(Yt,{size:20}):t("externalApi.testConnection")}),J.provider_name!=="civitai"&&l.jsx(Ue,{variant:"outlined",color:"error",startIcon:l.jsx(Wa,{}),onClick:()=>K(J.provider_name),children:t("common.delete")})]})]})})]},J.provider_name)}),l.jsx(Ue,{variant:"outlined",startIcon:l.jsx(Vr,{}),onClick:()=>_(!0),sx:{mt:2},children:t("externalApi.addProvider")})]}),l.jsxs(Fn,{open:w,onClose:()=>_(!1),children:[l.jsx(Un,{children:t("externalApi.addProvider")}),l.jsxs($n,{children:[l.jsx(rc,{children:t("externalApi.addProviderDescription")}),l.jsx(Tt,{fullWidth:!0,label:t("externalApi.providerName"),value:T,onChange:J=>A(J.target.value),margin:"normal",helperText:t("externalApi.providerNameHelper")}),l.jsx(Tt,{fullWidth:!0,label:t("externalApi.providerDisplayName"),value:R,onChange:J=>I(J.target.value),margin:"normal"})]}),l.jsxs(Wn,{children:[l.jsx(Ue,{onClick:()=>_(!1),children:t("common.cancel")}),l.jsx(Ue,{onClick:V,variant:"contained",disabled:!T||!R,children:t("common.create")})]})]}),l.jsxs(Fn,{open:N,onClose:()=>P(!1),children:[l.jsx(Un,{children:t("externalApi.deleteConfirmTitle")}),l.jsx($n,{children:l.jsx(rc,{children:t("externalApi.deleteConfirmMessage",{provider:O})})}),l.jsxs(Wn,{children:[l.jsx(Ue,{onClick:()=>P(!1),children:t("common.cancel")}),l.jsx(Ue,{onClick:ee,color:"error",variant:"contained",children:t("common.delete")})]})]})]})},mKe=()=>{const{t}=ht("settings"),[e,n]=E.useState(null),[a,i]=E.useState(null),[r,o]=E.useState([]),[s,c]=E.useState(!0),[u,d]=E.useState(""),[h,m]=E.useState(""),[g,y]=E.useState(!1),[v,S]=E.useState(!1),[w,_]=E.useState(null),[T,A]=E.useState(!1),R=async()=>{try{c(!0),d("");const[$,M,z]=await Promise.all([Hl.getSettings(),Hl.getStats(),Hl.getModels(20,0)]);n($),i(M),o(z)}catch($){d("Failed to load Civitai settings"),console.error($)}finally{c(!1)}};E.useEffect(()=>{R()},[]);const I=async $=>{try{const M=await Hl.updateSettings({enabled:$});n(M),m($?"Civitai integration enabled":"Civitai integration disabled"),setTimeout(()=>m(""),3e3)}catch{d("Failed to update settings")}},N=async($,M)=>{const z=M;try{const F=await Hl.updateSettings({apiCallInterval:z});n(F)}catch{d("Failed to update interval")}},P=async()=>{try{const $=await Hl.resetFailed();m($),setTimeout(()=>m(""),3e3),R()}catch{d("Failed to reset failed lookups")}},O=async()=>{try{const $=await Hl.clearModelCache();m($),y(!1),setTimeout(()=>m(""),3e3),R()}catch{d("Failed to clear cache")}},D=async()=>{try{await Hl.resetStats(),m("Statistics reset"),S(!1),setTimeout(()=>m(""),3e3),R()}catch{d("Failed to reset statistics")}},H=async()=>{try{A(!0),d("");const $=await Hl.startRescan();m(`Rescan started: ${$.total} images to process`),setTimeout(()=>m(""),3e3),L()}catch($){$.message?.includes("disabled")?d("Civitai integration is disabled. Please enable it first."):$.message?.includes("in progress")?d("Rescan is already in progress"):d($.message||"Failed to start rescan")}finally{A(!1)}},L=async()=>{try{const $=await Hl.getRescanProgress();_($),$.isRunning?setTimeout(L,1e3):$.total>0&&(m(`Rescan completed: ${$.added} model references added`),setTimeout(()=>{m(""),_(null)},5e3),R())}catch($){console.error("Failed to get rescan progress:",$)}};return E.useEffect(()=>{(async()=>{try{const M=await Hl.getRescanProgress();M.isRunning&&(_(M),L())}catch{}})()},[]),s?l.jsx(Z,{display:"flex",justifyContent:"center",p:4,children:l.jsx(Yt,{})}):l.jsxs(Z,{children:[l.jsxs(ie,{variant:"h5",gutterBottom:!0,children:[l.jsx(TOe,{sx:{mr:1,verticalAlign:"middle"}}),t("civitai.title")]}),l.jsx(ie,{variant:"body2",color:"text.secondary",sx:{mb:3},children:t("civitai.description")}),u&&l.jsx(xt,{severity:"error",sx:{mb:2},children:u}),h&&l.jsx(xt,{severity:"success",sx:{mb:2},children:h}),l.jsxs(Gt,{sx:{p:3,mb:3},children:[l.jsx(ie,{variant:"h6",gutterBottom:!0,children:t("civitai.settings.title")}),l.jsx(wn,{control:l.jsx(Ai,{checked:e?.enabled??!1,onChange:$=>I($.target.checked)}),label:t("civitai.settings.enableIntegration")}),l.jsx(ie,{variant:"body2",color:"text.secondary",sx:{ml:4,mb:2},children:t("civitai.settings.enableDescription")}),l.jsx(fn,{sx:{my:2}}),l.jsx(ie,{gutterBottom:!0,children:t("civitai.settings.apiInterval",{interval:e?.apiCallInterval??2})}),l.jsx(ki,{value:e?.apiCallInterval??2,onChange:N,min:1,max:10,step:1,marks:!0,valueLabelDisplay:"auto",disabled:!e?.enabled,sx:{maxWidth:400}}),l.jsx(ie,{variant:"body2",color:"text.secondary",children:t("civitai.settings.apiIntervalDescription")})]}),l.jsxs(Gt,{sx:{p:3,mb:3},children:[l.jsxs(Z,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[l.jsx(ie,{variant:"h6",children:t("civitai.statistics.title")}),l.jsx(Ue,{size:"small",startIcon:l.jsx(jo,{}),onClick:R,children:t("civitai.statistics.refresh")})]}),a&&l.jsxs(l.Fragment,{children:[l.jsxs(Z,{display:"flex",gap:3,mb:2,children:[l.jsxs(Z,{children:[l.jsx(ie,{variant:"h4",children:a.totalLookups}),l.jsx(ie,{variant:"body2",color:"text.secondary",children:t("civitai.statistics.totalLookups")})]}),l.jsxs(Z,{children:[l.jsx(ie,{variant:"h4",color:"success.main",children:a.successfulLookups}),l.jsx(ie,{variant:"body2",color:"text.secondary",children:t("civitai.statistics.successful")})]}),l.jsxs(Z,{children:[l.jsx(ie,{variant:"h4",color:"error.main",children:a.failedLookups}),l.jsx(ie,{variant:"body2",color:"text.secondary",children:t("civitai.statistics.failed")})]}),l.jsxs(Z,{children:[l.jsxs(ie,{variant:"h4",children:[a.successRate,"%"]}),l.jsx(ie,{variant:"body2",color:"text.secondary",children:t("civitai.statistics.successRate")})]})]}),a.totalLookups>0&&l.jsx(oc,{variant:"determinate",value:a.successRate,color:a.successRate>80?"success":a.successRate>50?"warning":"error",sx:{height:8,borderRadius:4,mb:2}}),l.jsxs(ie,{variant:"body2",color:"text.secondary",children:[t("civitai.statistics.lastApiCall"),": ",a.lastApiCall?new Date(a.lastApiCall).toLocaleString():t("civitai.statistics.never")]})]}),l.jsxs(Z,{display:"flex",gap:2,mt:2,children:[l.jsx(Ue,{variant:"outlined",size:"small",onClick:P,children:t("civitai.statistics.recheckFailed")}),l.jsx(Ue,{variant:"outlined",color:"warning",size:"small",onClick:()=>S(!0),children:t("civitai.statistics.resetStats")})]})]}),l.jsxs(Gt,{sx:{p:3,mb:3},children:[l.jsxs(ie,{variant:"h6",gutterBottom:!0,children:[l.jsx(Wc,{sx:{mr:1,verticalAlign:"middle"}}),t("civitai.rescan.title")]}),l.jsx(ie,{variant:"body2",color:"text.secondary",sx:{mb:2},children:t("civitai.rescan.description")}),w?.isRunning?l.jsxs(Z,{children:[l.jsxs(Z,{display:"flex",justifyContent:"space-between",mb:1,children:[l.jsx(ie,{variant:"body2",children:t("civitai.rescan.processing",{processed:w.processed,total:w.total})}),l.jsxs(ie,{variant:"body2",children:[w.percentage,"%"]})]}),l.jsx(oc,{variant:"determinate",value:w.percentage,sx:{height:8,borderRadius:4,mb:1}}),l.jsx(ie,{variant:"body2",color:"text.secondary",children:t("civitai.rescan.added",{count:w.added})})]}):l.jsx(Ue,{variant:"contained",startIcon:T?l.jsx(Yt,{size:20,color:"inherit"}):l.jsx(Wc,{}),onClick:H,disabled:T||!e?.enabled,children:t(T?"civitai.rescan.starting":"civitai.rescan.startButton")}),!e?.enabled&&l.jsx(ie,{variant:"body2",color:"warning.main",sx:{mt:1},children:t("civitai.rescan.enableRequired")})]}),l.jsxs(Gt,{sx:{p:3},children:[l.jsxs(Z,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[l.jsx(ie,{variant:"h6",children:t("civitai.cachedModels.title",{count:r.length})}),l.jsx(Ue,{variant:"outlined",color:"error",size:"small",startIcon:l.jsx(Wa,{}),onClick:()=>y(!0),children:t("civitai.cachedModels.clearCache")})]}),r.length>0?l.jsxs(fS,{size:"small",children:[l.jsx(pS,{children:l.jsxs(Es,{children:[l.jsx(Qt,{children:t("civitai.cachedModels.modelName")}),l.jsx(Qt,{children:t("civitai.cachedModels.type")}),l.jsx(Qt,{children:t("civitai.cachedModels.hash")}),l.jsx(Qt,{children:t("civitai.cachedModels.cachedAt")})]})}),l.jsx(hS,{children:r.map($=>l.jsxs(Es,{children:[l.jsx(Qt,{children:$.model_name||t("civitai.cachedModels.unknown")}),l.jsx(Qt,{children:l.jsx(mt,{label:$.model_type||t("civitai.cachedModels.unknown"),size:"small",color:$.model_type==="checkpoint"?"primary":"secondary"})}),l.jsx(Qt,{sx:{fontFamily:"monospace",fontSize:"0.75rem"},children:$.model_hash}),l.jsx(Qt,{children:new Date($.created_at).toLocaleDateString()})]},$.id))})]}):l.jsx(ie,{color:"text.secondary",align:"center",py:3,children:t("civitai.cachedModels.empty")})]}),l.jsxs(Fn,{open:g,onClose:()=>y(!1),children:[l.jsx(Un,{children:t("civitai.dialogs.clearCache.title")}),l.jsx($n,{children:l.jsx(rc,{children:t("civitai.dialogs.clearCache.message")})}),l.jsxs(Wn,{children:[l.jsx(Ue,{onClick:()=>y(!1),children:t("civitai.dialogs.cancel")}),l.jsx(Ue,{onClick:O,color:"error",children:t("civitai.dialogs.clearCache.confirm")})]})]}),l.jsxs(Fn,{open:v,onClose:()=>S(!1),children:[l.jsx(Un,{children:t("civitai.dialogs.resetStats.title")}),l.jsx($n,{children:l.jsx(rc,{children:t("civitai.dialogs.resetStats.message")})}),l.jsxs(Wn,{children:[l.jsx(Ue,{onClick:()=>S(!1),children:t("civitai.dialogs.cancel")}),l.jsx(Ue,{onClick:D,color:"warning",children:t("civitai.dialogs.resetStats.confirm")})]})]})]})},gKe=()=>{const t=yt.c(5);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e={open:!1,message:"",severity:"success"},t[0]=e):e=t[0];const[n,a]=E.useState(e);let i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=(u,d)=>{a({open:!0,message:u,severity:d})},t[1]=i):i=t[1];const r=i;let o;t[2]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{a(bKe)},t[2]=o):o=t[2];const s=o;let c;return t[3]!==n?(c={snackbar:n,showSnackbar:r,hideSnackbar:s},t[3]=n,t[4]=c):c=t[4],c};function bKe(t){return{...t,open:!1}}const yKe=(t,e,n)=>{const[a,i]=E.useState([]),[r,o]=E.useState(!1),[s,c]=E.useState(null),[u,d]=E.useState(!1),h=E.useCallback(async()=>{try{o(!0);const A=await km.getGroups(!0,t);if(A.success&&A.data){const R=A.data.sort((I,N)=>I.display_order-N.display_order);i(R)}else n("Failed to load groups")}catch(A){console.error("Error fetching groups:",A),n("Failed to load groups")}finally{o(!1)}},[t,n]),m=E.useCallback(()=>{const A=a.length>0?Math.max(...a.map(R=>R.display_order)):0;c({group_name:"",display_order:A+1,is_visible:!0}),d(!0)},[a]),g=E.useCallback(A=>{c({id:A.id,group_name:A.group_name,display_order:A.display_order,is_visible:A.is_visible}),d(!0)},[]),y=E.useCallback(()=>{c(null),d(!1)},[]),v=E.useCallback(async A=>{if(!s||!s.group_name.trim()){n("Group name is required");return}try{const R={group_name:s.group_name.trim(),display_order:s.display_order,is_visible:s.is_visible};let I;s.id?I=await km.updateGroup(s.id,R,t):I=await km.createGroup(R,t),I.success?(e(s.id?"Group updated successfully":"Group created successfully"),await h(),A(),y()):n(I.error||(s.id?"Failed to update group":"Failed to create group"))}catch(R){console.error("Error saving group:",R),n(s?.id?"Failed to update group":"Failed to create group")}},[s,t,e,n,h,y]),S=E.useCallback(async(A,R)=>{if(confirm("Are you sure you want to delete this group?"))try{const I=await km.deleteGroup(A,t);I.success?(e("Group deleted successfully"),await h(),R()):n(I.error||"Failed to delete group")}catch(I){console.error("Error deleting group:",I),n("Failed to delete group")}},[t,e,n,h]),w=E.useCallback(async(A,R)=>{try{const I={group_name:A.group_name,display_order:A.display_order,is_visible:!A.is_visible},N=await km.updateGroup(A.id,I,t);N.success?(await h(),R()):n(N.error||"Failed to toggle visibility")}catch(I){console.error("Error toggling visibility:",I),n("Failed to toggle visibility")}},[t,n,h]),_=E.useCallback(async(A,R)=>{try{i(A);const I=A.map((O,D)=>{const H={group_name:O.group_name,display_order:D+1,is_visible:O.is_visible};return km.updateGroup(O.id,H,t)});(await Promise.all(I)).some(O=>!O.success)?(n("Failed to update group order"),await h()):(e("Group order updated successfully"),R())}catch(I){console.error("Error updating groups order:",I),n("Failed to update group order"),await h()}},[t,e,n,h]),T=E.useCallback(A=>{c(R=>R?{...R,...A}:null)},[]);return{groups:a,loading:r,editingGroup:s,isEditing:u,fetchGroups:h,startAddGroup:m,startEditGroup:g,cancelEdit:y,saveGroup:v,deleteGroup:S,toggleVisibility:w,updateGroupsOrder:_,updateEditingGroup:T,setGroups:i}};function xKe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return E.useMemo(()=>a=>{e.forEach(i=>i(a))},e)}const E5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $b(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function zD(t){return"nodeType"in t}function Ls(t){var e,n;return t?$b(t)?t:zD(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function FD(t){const{Document:e}=Ls(t);return t instanceof e}function AS(t){return $b(t)?!1:t instanceof Ls(t).HTMLElement}function Tee(t){return t instanceof Ls(t).SVGElement}function Ub(t){return t?$b(t)?t.document:zD(t)?FD(t)?t:AS(t)||Tee(t)?t.ownerDocument:document:document:document}const od=E5?E.useLayoutEffect:E.useEffect;function BD(t){const e=E.useRef(t);return od(()=>{e.current=t}),E.useCallback(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e.current==null?void 0:e.current(...a)},[])}function vKe(){const t=E.useRef(null),e=E.useCallback((a,i)=>{t.current=setInterval(a,i)},[]),n=E.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function P2(t,e){e===void 0&&(e=[t]);const n=E.useRef(t);return od(()=>{n.current!==t&&(n.current=t)},e),n}function RS(t,e){const n=E.useRef();return E.useMemo(()=>{const a=t(n.current);return n.current=a,a},[...e])}function t_(t){const e=BD(t),n=E.useRef(null),a=E.useCallback(i=>{i!==n.current&&e?.(i,n.current),n.current=i},[]);return[n,a]}function lN(t){const e=E.useRef();return E.useEffect(()=>{e.current=t},[t]),e.current}let _6={};function kS(t,e){return E.useMemo(()=>{if(e)return e;const n=_6[t]==null?0:_6[t]+1;return _6[t]=n,t+"-"+n},[t,e])}function Eee(t){return function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((r,o)=>{const s=Object.entries(o);for(const[c,u]of s){const d=r[c];d!=null&&(r[c]=d+t*u)}return r},{...e})}}const K1=Eee(1),L2=Eee(-1);function SKe(t){return"clientX"in t&&"clientY"in t}function HD(t){if(!t)return!1;const{KeyboardEvent:e}=Ls(t.target);return e&&t instanceof e}function CKe(t){if(!t)return!1;const{TouchEvent:e}=Ls(t.target);return e&&t instanceof e}function cN(t){if(CKe(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return SKe(t)?{x:t.clientX,y:t.clientY}:null}const bb=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[bb.Translate.toString(t),bb.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:a}=t;return e+" "+n+"ms "+a}}}),sH="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function wKe(t){return t.matches(sH)?t:t.querySelector(sH)}const _Ke={display:"none"};function TKe(t){let{id:e,value:n}=t;return ke.createElement("div",{id:e,style:_Ke},n)}function EKe(t){let{id:e,announcement:n,ariaLiveType:a="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ke.createElement("div",{id:e,style:i,role:"status","aria-live":a,"aria-atomic":!0},n)}function AKe(){const[t,e]=E.useState("");return{announce:E.useCallback(a=>{a!=null&&e(a)},[]),announcement:t}}const Aee=E.createContext(null);function RKe(t){const e=E.useContext(Aee);E.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function kKe(){const[t]=E.useState(()=>new Set),e=E.useCallback(a=>(t.add(a),()=>t.delete(a)),[t]);return[E.useCallback(a=>{let{type:i,event:r}=a;t.forEach(o=>{var s;return(s=o[i])==null?void 0:s.call(o,r)})},[t]),e]}const IKe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},NKe={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function jKe(t){let{announcements:e=NKe,container:n,hiddenTextDescribedById:a,screenReaderInstructions:i=IKe}=t;const{announce:r,announcement:o}=AKe(),s=kS("DndLiveRegion"),[c,u]=E.useState(!1);if(E.useEffect(()=>{u(!0)},[]),RKe(E.useMemo(()=>({onDragStart(h){let{active:m}=h;r(e.onDragStart({active:m}))},onDragMove(h){let{active:m,over:g}=h;e.onDragMove&&r(e.onDragMove({active:m,over:g}))},onDragOver(h){let{active:m,over:g}=h;r(e.onDragOver({active:m,over:g}))},onDragEnd(h){let{active:m,over:g}=h;r(e.onDragEnd({active:m,over:g}))},onDragCancel(h){let{active:m,over:g}=h;r(e.onDragCancel({active:m,over:g}))}}),[r,e])),!c)return null;const d=ke.createElement(ke.Fragment,null,ke.createElement(TKe,{id:a,value:i.draggable}),ke.createElement(EKe,{id:s,announcement:o}));return n?qh.createPortal(d,n):d}var kr;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(kr||(kr={}));function n_(){}function uN(t,e){return E.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function Ree(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return E.useMemo(()=>[...e].filter(a=>a!=null),[...e])}const Vc=Object.freeze({x:0,y:0});function kee(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Iee(t,e){let{data:{value:n}}=t,{data:{value:a}}=e;return n-a}function DKe(t,e){let{data:{value:n}}=t,{data:{value:a}}=e;return a-n}function lH(t){let{left:e,top:n,height:a,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+a},{x:e+i,y:n+a}]}function Nee(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function cH(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const jee=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=t;const i=cH(e,e.left,e.top),r=[];for(const o of a){const{id:s}=o,c=n.get(s);if(c){const u=kee(cH(c),i);r.push({id:s,data:{droppableContainer:o,value:u}})}}return r.sort(Iee)},OKe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=t;const i=lH(e),r=[];for(const o of a){const{id:s}=o,c=n.get(s);if(c){const u=lH(c),d=i.reduce((m,g,y)=>m+kee(u[y],g),0),h=Number((d/4).toFixed(4));r.push({id:s,data:{droppableContainer:o,value:h}})}}return r.sort(Iee)};function MKe(t,e){const n=Math.max(e.top,t.top),a=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),r=Math.min(e.top+e.height,t.top+t.height),o=i-a,s=r-n;if(a<i&&n<r){const c=e.width*e.height,u=t.width*t.height,d=o*s,h=d/(c+u-d);return Number(h.toFixed(4))}return 0}const PKe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=t;const i=[];for(const r of a){const{id:o}=r,s=n.get(o);if(s){const c=MKe(s,e);c>0&&i.push({id:o,data:{droppableContainer:r,value:c}})}}return i.sort(DKe)};function LKe(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function Dee(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Vc}function zKe(t){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),r=1;r<a;r++)i[r-1]=arguments[r];return i.reduce((o,s)=>({...o,top:o.top+t*s.y,bottom:o.bottom+t*s.y,left:o.left+t*s.x,right:o.right+t*s.x}),{...n})}}const FKe=zKe(1);function BKe(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function HKe(t,e,n){const a=BKe(e);if(!a)return t;const{scaleX:i,scaleY:r,x:o,y:s}=a,c=t.left-o-(1-i)*parseFloat(n),u=t.top-s-(1-r)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?t.width/i:t.width,h=r?t.height/r:t.height;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c}}const $Ke={ignoreTransform:!1};function Gb(t,e){e===void 0&&(e=$Ke);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:d}=Ls(t).getComputedStyle(t);u&&(n=HKe(n,u,d))}const{top:a,left:i,width:r,height:o,bottom:s,right:c}=n;return{top:a,left:i,width:r,height:o,bottom:s,right:c}}function uH(t){return Gb(t,{ignoreTransform:!0})}function UKe(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function GKe(t,e){return e===void 0&&(e=Ls(t).getComputedStyle(t)),e.position==="fixed"}function qKe(t,e){e===void 0&&(e=Ls(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const r=e[i];return typeof r=="string"?n.test(r):!1})}function A5(t,e){const n=[];function a(i){if(e!=null&&n.length>=e||!i)return n;if(FD(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!AS(i)||Tee(i)||n.includes(i))return n;const r=Ls(t).getComputedStyle(i);return i!==t&&qKe(i,r)&&n.push(i),GKe(i,r)?n:a(i.parentNode)}return t?a(t):n}function Oee(t){const[e]=A5(t,1);return e??null}function T6(t){return!E5||!t?null:$b(t)?t:zD(t)?FD(t)||t===Ub(t).scrollingElement?window:AS(t)?t:null:null}function Mee(t){return $b(t)?t.scrollX:t.scrollLeft}function Pee(t){return $b(t)?t.scrollY:t.scrollTop}function dN(t){return{x:Mee(t),y:Pee(t)}}var Ur;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Ur||(Ur={}));function Lee(t){return!E5||!t?!1:t===document.scrollingElement}function zee(t){const e={x:0,y:0},n=Lee(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},a={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,r=t.scrollLeft<=e.x,o=t.scrollTop>=a.y,s=t.scrollLeft>=a.x;return{isTop:i,isLeft:r,isBottom:o,isRight:s,maxScroll:a,minScroll:e}}const WKe={x:.2,y:.2};function VKe(t,e,n,a,i){let{top:r,left:o,right:s,bottom:c}=n;a===void 0&&(a=10),i===void 0&&(i=WKe);const{isTop:u,isBottom:d,isLeft:h,isRight:m}=zee(t),g={x:0,y:0},y={x:0,y:0},v={height:e.height*i.y,width:e.width*i.x};return!u&&r<=e.top+v.height?(g.y=Ur.Backward,y.y=a*Math.abs((e.top+v.height-r)/v.height)):!d&&c>=e.bottom-v.height&&(g.y=Ur.Forward,y.y=a*Math.abs((e.bottom-v.height-c)/v.height)),!m&&s>=e.right-v.width?(g.x=Ur.Forward,y.x=a*Math.abs((e.right-v.width-s)/v.width)):!h&&o<=e.left+v.width&&(g.x=Ur.Backward,y.x=a*Math.abs((e.left+v.width-o)/v.width)),{direction:g,speed:y}}function YKe(t){if(t===document.scrollingElement){const{innerWidth:r,innerHeight:o}=window;return{top:0,left:0,right:r,bottom:o,width:r,height:o}}const{top:e,left:n,right:a,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:a,bottom:i,width:t.clientWidth,height:t.clientHeight}}function Fee(t){return t.reduce((e,n)=>K1(e,dN(n)),Vc)}function KKe(t){return t.reduce((e,n)=>e+Mee(n),0)}function XKe(t){return t.reduce((e,n)=>e+Pee(n),0)}function QKe(t,e){if(e===void 0&&(e=Gb),!t)return;const{top:n,left:a,bottom:i,right:r}=e(t);Oee(t)&&(i<=0||r<=0||n>=window.innerHeight||a>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const ZKe=[["x",["left","right"],KKe],["y",["top","bottom"],XKe]];class $D{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=A5(n),i=Fee(a);this.rect={...e},this.width=e.width,this.height=e.height;for(const[r,o,s]of ZKe)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=s(a),d=i[r]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Jv{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=e}add(e,n,a){var i;(i=this.target)==null||i.addEventListener(e,n,a),this.listeners.push([e,n,a])}}function JKe(t){const{EventTarget:e}=Ls(t);return t instanceof e?t:Ub(t)}function E6(t,e){const n=Math.abs(t.x),a=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+a**2)>e:"x"in e&&"y"in e?n>e.x&&a>e.y:"x"in e?n>e.x:"y"in e?a>e.y:!1}var Gl;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Gl||(Gl={}));function dH(t){t.preventDefault()}function eXe(t){t.stopPropagation()}var ca;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ca||(ca={}));const Bee={start:[ca.Space,ca.Enter],cancel:[ca.Esc],end:[ca.Space,ca.Enter,ca.Tab]},tXe=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case ca.Right:return{...n,x:n.x+25};case ca.Left:return{...n,x:n.x-25};case ca.Down:return{...n,y:n.y+25};case ca.Up:return{...n,y:n.y-25}}};class UD{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Jv(Ub(n)),this.windowListeners=new Jv(Ls(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Gl.Resize,this.handleCancel),this.windowListeners.add(Gl.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Gl.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,a=e.node.current;a&&QKe(a),n(Vc)}handleKeyDown(e){if(HD(e)){const{active:n,context:a,options:i}=this.props,{keyboardCodes:r=Bee,coordinateGetter:o=tXe,scrollBehavior:s="smooth"}=i,{code:c}=e;if(r.end.includes(c)){this.handleEnd(e);return}if(r.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:u}=a.current,d=u?{x:u.left,y:u.top}:Vc;this.referenceCoordinates||(this.referenceCoordinates=d);const h=o(e,{active:n,context:a.current,currentCoordinates:d});if(h){const m=L2(h,d),g={x:0,y:0},{scrollableAncestors:y}=a.current;for(const v of y){const S=e.code,{isTop:w,isRight:_,isLeft:T,isBottom:A,maxScroll:R,minScroll:I}=zee(v),N=YKe(v),P={x:Math.min(S===ca.Right?N.right-N.width/2:N.right,Math.max(S===ca.Right?N.left:N.left+N.width/2,h.x)),y:Math.min(S===ca.Down?N.bottom-N.height/2:N.bottom,Math.max(S===ca.Down?N.top:N.top+N.height/2,h.y))},O=S===ca.Right&&!_||S===ca.Left&&!T,D=S===ca.Down&&!A||S===ca.Up&&!w;if(O&&P.x!==h.x){const H=v.scrollLeft+m.x,L=S===ca.Right&&H<=R.x||S===ca.Left&&H>=I.x;if(L&&!m.y){v.scrollTo({left:H,behavior:s});return}L?g.x=v.scrollLeft-H:g.x=S===ca.Right?v.scrollLeft-R.x:v.scrollLeft-I.x,g.x&&v.scrollBy({left:-g.x,behavior:s});break}else if(D&&P.y!==h.y){const H=v.scrollTop+m.y,L=S===ca.Down&&H<=R.y||S===ca.Up&&H>=I.y;if(L&&!m.x){v.scrollTo({top:H,behavior:s});return}L?g.y=v.scrollTop-H:g.y=S===ca.Down?v.scrollTop-R.y:v.scrollTop-I.y,g.y&&v.scrollBy({top:-g.y,behavior:s});break}}this.handleMove(e,K1(L2(h,this.referenceCoordinates),g))}}}handleMove(e,n){const{onMove:a}=this.props;e.preventDefault(),a(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}UD.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:a=Bee,onActivation:i}=e,{active:r}=n;const{code:o}=t.nativeEvent;if(a.start.includes(o)){const s=r.activatorNode.current;return s&&t.target!==s?!1:(t.preventDefault(),i?.({event:t.nativeEvent}),!0)}return!1}}];function fH(t){return!!(t&&"distance"in t)}function hH(t){return!!(t&&"delay"in t)}class GD{constructor(e,n,a){var i;a===void 0&&(a=JKe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:r}=e,{target:o}=r;this.props=e,this.events=n,this.document=Ub(o),this.documentListeners=new Jv(this.document),this.listeners=new Jv(a),this.windowListeners=new Jv(Ls(o)),this.initialCoordinates=(i=cN(r))!=null?i:Vc,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Gl.Resize,this.handleCancel),this.windowListeners.add(Gl.DragStart,dH),this.windowListeners.add(Gl.VisibilityChange,this.handleCancel),this.windowListeners.add(Gl.ContextMenu,dH),this.documentListeners.add(Gl.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(hH(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(fH(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:a,onPending:i}=this.props;i(a,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Gl.Click,eXe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Gl.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:a,initialCoordinates:i,props:r}=this,{onMove:o,options:{activationConstraint:s}}=r;if(!i)return;const c=(n=cN(e))!=null?n:Vc,u=L2(i,c);if(!a&&s){if(fH(s)){if(s.tolerance!=null&&E6(u,s.tolerance))return this.handleCancel();if(E6(u,s.distance))return this.handleStart()}if(hH(s)&&E6(u,s.tolerance))return this.handleCancel();this.handlePending(s,u);return}e.cancelable&&e.preventDefault(),o(c)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===ca.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const nXe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class R5 extends GD{constructor(e){const{event:n}=e,a=Ub(n.target);super(e,nXe,a)}}R5.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;return!n.isPrimary||n.button!==0?!1:(a?.({event:n}),!0)}}];const aXe={move:{name:"mousemove"},end:{name:"mouseup"}};var fN;(function(t){t[t.RightClick=2]="RightClick"})(fN||(fN={}));class iXe extends GD{constructor(e){super(e,aXe,Ub(e.event.target))}}iXe.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;return n.button===fN.RightClick?!1:(a?.({event:n}),!0)}}];const A6={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class rXe extends GD{constructor(e){super(e,A6)}static setup(){return window.addEventListener(A6.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(A6.move.name,e)};function e(){}}}rXe.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;const{touches:i}=n;return i.length>1?!1:(a?.({event:n}),!0)}}];var e2;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(e2||(e2={}));var a_;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(a_||(a_={}));function oXe(t){let{acceleration:e,activator:n=e2.Pointer,canScroll:a,draggingRect:i,enabled:r,interval:o=5,order:s=a_.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:m}=t;const g=lXe({delta:h,disabled:!r}),[y,v]=vKe(),S=E.useRef({x:0,y:0}),w=E.useRef({x:0,y:0}),_=E.useMemo(()=>{switch(n){case e2.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case e2.DraggableRect:return i}},[n,i,c]),T=E.useRef(null),A=E.useCallback(()=>{const I=T.current;if(!I)return;const N=S.current.x*w.current.x,P=S.current.y*w.current.y;I.scrollBy(N,P)},[]),R=E.useMemo(()=>s===a_.TreeOrder?[...u].reverse():u,[s,u]);E.useEffect(()=>{if(!r||!u.length||!_){v();return}for(const I of R){if(a?.(I)===!1)continue;const N=u.indexOf(I),P=d[N];if(!P)continue;const{direction:O,speed:D}=VKe(I,P,_,e,m);for(const H of["x","y"])g[H][O[H]]||(D[H]=0,O[H]=0);if(D.x>0||D.y>0){v(),T.current=I,y(A,o),S.current=D,w.current=O;return}}S.current={x:0,y:0},w.current={x:0,y:0},v()},[e,A,a,v,r,o,JSON.stringify(_),JSON.stringify(g),y,u,R,d,JSON.stringify(m)])}const sXe={x:{[Ur.Backward]:!1,[Ur.Forward]:!1},y:{[Ur.Backward]:!1,[Ur.Forward]:!1}};function lXe(t){let{delta:e,disabled:n}=t;const a=lN(e);return RS(i=>{if(n||!a||!i)return sXe;const r={x:Math.sign(e.x-a.x),y:Math.sign(e.y-a.y)};return{x:{[Ur.Backward]:i.x[Ur.Backward]||r.x===-1,[Ur.Forward]:i.x[Ur.Forward]||r.x===1},y:{[Ur.Backward]:i.y[Ur.Backward]||r.y===-1,[Ur.Forward]:i.y[Ur.Forward]||r.y===1}}},[n,e,a])}function cXe(t,e){const n=e!=null?t.get(e):void 0,a=n?n.node.current:null;return RS(i=>{var r;return e==null?null:(r=a??i)!=null?r:null},[a,e])}function uXe(t,e){return E.useMemo(()=>t.reduce((n,a)=>{const{sensor:i}=a,r=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,a)}));return[...n,...r]},[]),[t,e])}var z2;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(z2||(z2={}));var hN;(function(t){t.Optimized="optimized"})(hN||(hN={}));const pH=new Map;function dXe(t,e){let{dragging:n,dependencies:a,config:i}=e;const[r,o]=E.useState(null),{frequency:s,measure:c,strategy:u}=i,d=E.useRef(t),h=S(),m=P2(h),g=E.useCallback(function(w){w===void 0&&(w=[]),!m.current&&o(_=>_===null?w:_.concat(w.filter(T=>!_.includes(T))))},[m]),y=E.useRef(null),v=RS(w=>{if(h&&!n)return pH;if(!w||w===pH||d.current!==t||r!=null){const _=new Map;for(let T of t){if(!T)continue;if(r&&r.length>0&&!r.includes(T.id)&&T.rect.current){_.set(T.id,T.rect.current);continue}const A=T.node.current,R=A?new $D(c(A),A):null;T.rect.current=R,R&&_.set(T.id,R)}return _}return w},[t,r,n,h,c]);return E.useEffect(()=>{d.current=t},[t]),E.useEffect(()=>{h||g()},[n,h]),E.useEffect(()=>{r&&r.length>0&&o(null)},[JSON.stringify(r)]),E.useEffect(()=>{h||typeof s!="number"||y.current!==null||(y.current=setTimeout(()=>{g(),y.current=null},s))},[s,h,g,...a]),{droppableRects:v,measureDroppableContainers:g,measuringScheduled:r!=null};function S(){switch(u){case z2.Always:return!1;case z2.BeforeDragging:return n;default:return!n}}}function Hee(t,e){return RS(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function fXe(t,e){return Hee(t,e)}function hXe(t){let{callback:e,disabled:n}=t;const a=BD(e),i=E.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:r}=window;return new r(a)},[a,n]);return E.useEffect(()=>()=>i?.disconnect(),[i]),i}function k5(t){let{callback:e,disabled:n}=t;const a=BD(e),i=E.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:r}=window;return new r(a)},[n]);return E.useEffect(()=>()=>i?.disconnect(),[i]),i}function pXe(t){return new $D(Gb(t),t)}function mH(t,e,n){e===void 0&&(e=pXe);const[a,i]=E.useState(null);function r(){i(c=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=e(t);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const o=hXe({callback(c){if(t)for(const u of c){const{type:d,target:h}=u;if(d==="childList"&&h instanceof HTMLElement&&h.contains(t)){r();break}}}}),s=k5({callback:r});return od(()=>{r(),t?(s?.observe(t),o?.observe(document.body,{childList:!0,subtree:!0})):(s?.disconnect(),o?.disconnect())},[t]),a}function mXe(t){const e=Hee(t);return Dee(t,e)}const gH=[];function gXe(t){const e=E.useRef(t),n=RS(a=>t?a&&a!==gH&&t&&e.current&&t.parentNode===e.current.parentNode?a:A5(t):gH,[t]);return E.useEffect(()=>{e.current=t},[t]),n}function bXe(t){const[e,n]=E.useState(null),a=E.useRef(t),i=E.useCallback(r=>{const o=T6(r.target);o&&n(s=>s?(s.set(o,dN(o)),new Map(s)):null)},[]);return E.useEffect(()=>{const r=a.current;if(t!==r){o(r);const s=t.map(c=>{const u=T6(c);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,dN(u)]):null}).filter(c=>c!=null);n(s.length?new Map(s):null),a.current=t}return()=>{o(t),o(r)};function o(s){s.forEach(c=>{const u=T6(c);u?.removeEventListener("scroll",i)})}},[i,t]),E.useMemo(()=>t.length?e?Array.from(e.values()).reduce((r,o)=>K1(r,o),Vc):Fee(t):Vc,[t,e])}function bH(t,e){e===void 0&&(e=[]);const n=E.useRef(null);return E.useEffect(()=>{n.current=null},e),E.useEffect(()=>{const a=t!==Vc;a&&!n.current&&(n.current=t),!a&&n.current&&(n.current=null)},[t]),n.current?L2(t,n.current):Vc}function yXe(t){E.useEffect(()=>{if(!E5)return;const e=t.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function xXe(t,e){return E.useMemo(()=>t.reduce((n,a)=>{let{eventName:i,handler:r}=a;return n[i]=o=>{r(o,e)},n},{}),[t,e])}function $ee(t){return E.useMemo(()=>t?UKe(t):null,[t])}const yH=[];function vXe(t,e){e===void 0&&(e=Gb);const[n]=t,a=$ee(n?Ls(n):null),[i,r]=E.useState(yH);function o(){r(()=>t.length?t.map(c=>Lee(c)?a:new $D(e(c),c)):yH)}const s=k5({callback:o});return od(()=>{s?.disconnect(),o(),t.forEach(c=>s?.observe(c))},[t]),i}function SXe(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return AS(e)?e:t}function CXe(t){let{measure:e}=t;const[n,a]=E.useState(null),i=E.useCallback(u=>{for(const{target:d}of u)if(AS(d)){a(h=>{const m=e(d);return h?{...h,width:m.width,height:m.height}:m});break}},[e]),r=k5({callback:i}),o=E.useCallback(u=>{const d=SXe(u);r?.disconnect(),d&&r?.observe(d),a(d?e(d):null)},[e,r]),[s,c]=t_(o);return E.useMemo(()=>({nodeRef:s,rect:n,setRef:c}),[n,s,c])}const wXe=[{sensor:R5,options:{}},{sensor:UD,options:{}}],_Xe={current:{}},s4={draggable:{measure:uH},droppable:{measure:uH,strategy:z2.WhileDragging,frequency:hN.Optimized},dragOverlay:{measure:Gb}};class t2 extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,a;return(n=(a=this.get(e))==null?void 0:a.node.current)!=null?n:void 0}}const TXe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new t2,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:n_},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:s4,measureDroppableContainers:n_,windowRect:null,measuringScheduled:!1},EXe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:n_,draggableNodes:new Map,over:null,measureDroppableContainers:n_},I5=E.createContext(EXe),Uee=E.createContext(TXe);function AXe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new t2}}}function RXe(t,e){switch(e.type){case kr.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case kr.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case kr.DragEnd:case kr.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case kr.RegisterDroppable:{const{element:n}=e,{id:a}=n,i=new t2(t.droppable.containers);return i.set(a,n),{...t,droppable:{...t.droppable,containers:i}}}case kr.SetDroppableDisabled:{const{id:n,key:a,disabled:i}=e,r=t.droppable.containers.get(n);if(!r||a!==r.key)return t;const o=new t2(t.droppable.containers);return o.set(n,{...r,disabled:i}),{...t,droppable:{...t.droppable,containers:o}}}case kr.UnregisterDroppable:{const{id:n,key:a}=e,i=t.droppable.containers.get(n);if(!i||a!==i.key)return t;const r=new t2(t.droppable.containers);return r.delete(n),{...t,droppable:{...t.droppable,containers:r}}}default:return t}}function kXe(t){let{disabled:e}=t;const{active:n,activatorEvent:a,draggableNodes:i}=E.useContext(I5),r=lN(a),o=lN(n?.id);return E.useEffect(()=>{if(!e&&!a&&r&&o!=null){if(!HD(r)||document.activeElement===r.target)return;const s=i.get(o);if(!s)return;const{activatorNode:c,node:u}=s;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const h=wKe(d);if(h){h.focus();break}}})}},[a,e,i,o,r]),null}function IXe(t,e){let{transform:n,...a}=e;return t!=null&&t.length?t.reduce((i,r)=>r({transform:i,...a}),n):n}function NXe(t){return E.useMemo(()=>({draggable:{...s4.draggable,...t?.draggable},droppable:{...s4.droppable,...t?.droppable},dragOverlay:{...s4.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function jXe(t){let{activeNode:e,measure:n,initialRect:a,config:i=!0}=t;const r=E.useRef(!1),{x:o,y:s}=typeof i=="boolean"?{x:i,y:i}:i;od(()=>{if(!o&&!s||!e){r.current=!1;return}if(r.current||!a)return;const u=e?.node.current;if(!u||u.isConnected===!1)return;const d=n(u),h=Dee(d,a);if(o||(h.x=0),s||(h.y=0),r.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=Oee(u);m&&m.scrollBy({top:h.y,left:h.x})}},[e,o,s,a,n])}const Gee=E.createContext({...Vc,scaleX:1,scaleY:1});var zh;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(zh||(zh={}));const qee=E.memo(function(e){var n,a,i,r;let{id:o,accessibility:s,autoScroll:c=!0,children:u,sensors:d=wXe,collisionDetection:h=PKe,measuring:m,modifiers:g,...y}=e;const v=E.useReducer(RXe,void 0,AXe),[S,w]=v,[_,T]=kKe(),[A,R]=E.useState(zh.Uninitialized),I=A===zh.Initialized,{draggable:{active:N,nodes:P,translate:O},droppable:{containers:D}}=S,H=N!=null?P.get(N):null,L=E.useRef({initial:null,translated:null}),$=E.useMemo(()=>{var Kt;return N!=null?{id:N,data:(Kt=H?.data)!=null?Kt:_Xe,rect:L}:null},[N,H]),M=E.useRef(null),[z,F]=E.useState(null),[G,ee]=E.useState(null),V=P2(y,Object.values(y)),Y=kS("DndDescribedBy",o),K=E.useMemo(()=>D.getEnabled(),[D]),J=NXe(m),{droppableRects:W,measureDroppableContainers:te,measuringScheduled:re}=dXe(K,{dragging:I,dependencies:[O.x,O.y],config:J.droppable}),ne=cXe(P,N),ce=E.useMemo(()=>G?cN(G):null,[G]),pe=ea(),me=fXe(ne,J.draggable.measure);jXe({activeNode:N!=null?P.get(N):null,config:pe.layoutShiftCompensation,initialRect:me,measure:J.draggable.measure});const ge=mH(ne,J.draggable.measure,me),ye=mH(ne?ne.parentElement:null),he=E.useRef({activatorEvent:null,active:null,activeNode:ne,collisionRect:null,collisions:null,droppableRects:W,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),de=D.getNodeFor((n=he.current.over)==null?void 0:n.id),fe=CXe({measure:J.dragOverlay.measure}),oe=(a=fe.nodeRef.current)!=null?a:ne,ue=I?(i=fe.rect)!=null?i:ge:null,le=!!(fe.nodeRef.current&&fe.rect),Se=mXe(le?null:ge),_e=$ee(oe?Ls(oe):null),Ie=gXe(I?de??ne:null),ze=vXe(Ie),Me=IXe(g,{transform:{x:O.x-Se.x,y:O.y-Se.y,scaleX:1,scaleY:1},activatorEvent:G,active:$,activeNodeRect:ge,containerNodeRect:ye,draggingNodeRect:ue,over:he.current.over,overlayNodeRect:fe.rect,scrollableAncestors:Ie,scrollableAncestorRects:ze,windowRect:_e}),Ze=ce?K1(ce,O):null,Ee=bXe(Ie),Ne=bH(Ee),ve=bH(Ee,[ge]),we=K1(Me,Ne),Oe=ue?FKe(ue,Me):null,Le=$&&Oe?h({active:$,collisionRect:Oe,droppableRects:W,droppableContainers:K,pointerCoordinates:Ze}):null,We=Nee(Le,"id"),[Fe,Ve]=E.useState(null),rt=le?Me:K1(Me,ve),at=LKe(rt,(r=Fe?.rect)!=null?r:null,ge),ot=E.useRef(null),bt=E.useCallback((Kt,Ht)=>{let{sensor:hn,options:_n}=Ht;if(M.current==null)return;const Tn=P.get(M.current);if(!Tn)return;const Wt=Kt.nativeEvent,Rn=new hn({active:M.current,activeNode:Tn,event:Wt,options:_n,context:he,onAbort(Mt){if(!P.get(Mt))return;const{onDragAbort:an}=V.current,En={id:Mt};an?.(En),_({type:"onDragAbort",event:En})},onPending(Mt,rn,an,En){if(!P.get(Mt))return;const{onDragPending:ya}=V.current,Ra={id:Mt,constraint:rn,initialCoordinates:an,offset:En};ya?.(Ra),_({type:"onDragPending",event:Ra})},onStart(Mt){const rn=M.current;if(rn==null)return;const an=P.get(rn);if(!an)return;const{onDragStart:En}=V.current,fa={activatorEvent:Wt,active:{id:rn,data:an.data,rect:L}};qh.unstable_batchedUpdates(()=>{En?.(fa),R(zh.Initializing),w({type:kr.DragStart,initialCoordinates:Mt,active:rn}),_({type:"onDragStart",event:fa}),F(ot.current),ee(Wt)})},onMove(Mt){w({type:kr.DragMove,coordinates:Mt})},onEnd:Et(kr.DragEnd),onCancel:Et(kr.DragCancel)});ot.current=Rn;function Et(Mt){return async function(){const{active:an,collisions:En,over:fa,scrollAdjustedTranslate:ya}=he.current;let Ra=null;if(an&&ya){const{cancelDrop:Ka}=V.current;Ra={activatorEvent:Wt,active:an,collisions:En,delta:ya,over:fa},Mt===kr.DragEnd&&typeof Ka=="function"&&await Promise.resolve(Ka(Ra))&&(Mt=kr.DragCancel)}M.current=null,qh.unstable_batchedUpdates(()=>{w({type:Mt}),R(zh.Uninitialized),Ve(null),F(null),ee(null),ot.current=null;const Ka=Mt===kr.DragEnd?"onDragEnd":"onDragCancel";if(Ra){const Oa=V.current[Ka];Oa?.(Ra),_({type:Ka,event:Ra})}})}}},[P]),Xt=E.useCallback((Kt,Ht)=>(hn,_n)=>{const Tn=hn.nativeEvent,Wt=P.get(_n);if(M.current!==null||!Wt||Tn.dndKit||Tn.defaultPrevented)return;const Rn={active:Wt};Kt(hn,Ht.options,Rn)===!0&&(Tn.dndKit={capturedBy:Ht.sensor},M.current=_n,bt(hn,Ht))},[P,bt]),Jt=uXe(d,Xt);yXe(d),od(()=>{ge&&A===zh.Initializing&&R(zh.Initialized)},[ge,A]),E.useEffect(()=>{const{onDragMove:Kt}=V.current,{active:Ht,activatorEvent:hn,collisions:_n,over:Tn}=he.current;if(!Ht||!hn)return;const Wt={active:Ht,activatorEvent:hn,collisions:_n,delta:{x:we.x,y:we.y},over:Tn};qh.unstable_batchedUpdates(()=>{Kt?.(Wt),_({type:"onDragMove",event:Wt})})},[we.x,we.y]),E.useEffect(()=>{const{active:Kt,activatorEvent:Ht,collisions:hn,droppableContainers:_n,scrollAdjustedTranslate:Tn}=he.current;if(!Kt||M.current==null||!Ht||!Tn)return;const{onDragOver:Wt}=V.current,Rn=_n.get(We),Et=Rn&&Rn.rect.current?{id:Rn.id,rect:Rn.rect.current,data:Rn.data,disabled:Rn.disabled}:null,Mt={active:Kt,activatorEvent:Ht,collisions:hn,delta:{x:Tn.x,y:Tn.y},over:Et};qh.unstable_batchedUpdates(()=>{Ve(Et),Wt?.(Mt),_({type:"onDragOver",event:Mt})})},[We]),od(()=>{he.current={activatorEvent:G,active:$,activeNode:ne,collisionRect:Oe,collisions:Le,droppableRects:W,draggableNodes:P,draggingNode:oe,draggingNodeRect:ue,droppableContainers:D,over:Fe,scrollableAncestors:Ie,scrollAdjustedTranslate:we},L.current={initial:ue,translated:Oe}},[$,ne,Le,Oe,P,oe,ue,W,D,Fe,Ie,we]),oXe({...pe,delta:O,draggingRect:Oe,pointerCoordinates:Ze,scrollableAncestors:Ie,scrollableAncestorRects:ze});const vn=E.useMemo(()=>({active:$,activeNode:ne,activeNodeRect:ge,activatorEvent:G,collisions:Le,containerNodeRect:ye,dragOverlay:fe,draggableNodes:P,droppableContainers:D,droppableRects:W,over:Fe,measureDroppableContainers:te,scrollableAncestors:Ie,scrollableAncestorRects:ze,measuringConfiguration:J,measuringScheduled:re,windowRect:_e}),[$,ne,ge,G,Le,ye,fe,P,D,W,Fe,te,Ie,ze,J,re,_e]),jn=E.useMemo(()=>({activatorEvent:G,activators:Jt,active:$,activeNodeRect:ge,ariaDescribedById:{draggable:Y},dispatch:w,draggableNodes:P,over:Fe,measureDroppableContainers:te}),[G,Jt,$,ge,w,Y,P,Fe,te]);return ke.createElement(Aee.Provider,{value:T},ke.createElement(I5.Provider,{value:jn},ke.createElement(Uee.Provider,{value:vn},ke.createElement(Gee.Provider,{value:at},u)),ke.createElement(kXe,{disabled:s?.restoreFocus===!1})),ke.createElement(jKe,{...s,hiddenTextDescribedById:Y}));function ea(){const Kt=z?.autoScrollEnabled===!1,Ht=typeof c=="object"?c.enabled===!1:c===!1,hn=I&&!Kt&&!Ht;return typeof c=="object"?{...c,enabled:hn}:{enabled:hn}}}),DXe=E.createContext(null),xH="button",OXe="Draggable";function MXe(t){let{id:e,data:n,disabled:a=!1,attributes:i}=t;const r=kS(OXe),{activators:o,activatorEvent:s,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:m}=E.useContext(I5),{role:g=xH,roleDescription:y="draggable",tabIndex:v=0}=i??{},S=c?.id===e,w=E.useContext(S?Gee:DXe),[_,T]=t_(),[A,R]=t_(),I=xXe(o,e),N=P2(n);od(()=>(h.set(e,{id:e,key:r,node:_,activatorNode:A,data:N}),()=>{const O=h.get(e);O&&O.key===r&&h.delete(e)}),[h,e]);const P=E.useMemo(()=>({role:g,tabIndex:v,"aria-disabled":a,"aria-pressed":S&&g===xH?!0:void 0,"aria-roledescription":y,"aria-describedby":d.draggable}),[a,g,v,S,y,d.draggable]);return{active:c,activatorEvent:s,activeNodeRect:u,attributes:P,isDragging:S,listeners:a?void 0:I,node:_,over:m,setNodeRef:T,setActivatorNodeRef:R,transform:w}}function PXe(){return E.useContext(Uee)}const LXe="Droppable",zXe={timeout:25};function FXe(t){let{data:e,disabled:n=!1,id:a,resizeObserverConfig:i}=t;const r=kS(LXe),{active:o,dispatch:s,over:c,measureDroppableContainers:u}=E.useContext(I5),d=E.useRef({disabled:n}),h=E.useRef(!1),m=E.useRef(null),g=E.useRef(null),{disabled:y,updateMeasurementsFor:v,timeout:S}={...zXe,...i},w=P2(v??a),_=E.useCallback(()=>{if(!h.current){h.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{u(Array.isArray(w.current)?w.current:[w.current]),g.current=null},S)},[S]),T=k5({callback:_,disabled:y||!o}),A=E.useCallback((P,O)=>{T&&(O&&(T.unobserve(O),h.current=!1),P&&T.observe(P))},[T]),[R,I]=t_(A),N=P2(e);return E.useEffect(()=>{!T||!R.current||(T.disconnect(),h.current=!1,T.observe(R.current))},[R,T]),E.useEffect(()=>(s({type:kr.RegisterDroppable,element:{id:a,key:r,disabled:n,node:R,rect:m,data:N}}),()=>s({type:kr.UnregisterDroppable,key:r,id:a})),[a]),E.useEffect(()=>{n!==d.current.disabled&&(s({type:kr.SetDroppableDisabled,id:a,key:r,disabled:n}),d.current.disabled=n)},[a,r,n,s]),{active:o,rect:m,isOver:c?.id===a,node:R,over:c,setNodeRef:I}}function N5(t,e,n){const a=t.slice();return a.splice(n<0?a.length+n:n,0,a.splice(e,1)[0]),a}function BXe(t,e){return t.reduce((n,a,i)=>{const r=e.get(a);return r&&(n[i]=r),n},Array(t.length))}function Aw(t){return t!==null&&t>=0}function HXe(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function $Xe(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Wee=t=>{let{rects:e,activeIndex:n,overIndex:a,index:i}=t;const r=N5(e,a,n),o=e[i],s=r[i];return!s||!o?null:{x:s.left-o.left,y:s.top-o.top,scaleX:s.width/o.width,scaleY:s.height/o.height}},Rw={scaleX:1,scaleY:1},Vee=t=>{var e;let{activeIndex:n,activeNodeRect:a,index:i,rects:r,overIndex:o}=t;const s=(e=r[n])!=null?e:a;if(!s)return null;if(i===n){const u=r[o];return u?{x:0,y:n<o?u.top+u.height-(s.top+s.height):u.top-s.top,...Rw}:null}const c=UXe(r,i,n);return i>n&&i<=o?{x:0,y:-s.height-c,...Rw}:i<n&&i>=o?{x:0,y:s.height+c,...Rw}:{x:0,y:0,...Rw}};function UXe(t,e,n){const a=t[e],i=t[e-1],r=t[e+1];return a?n<e?i?a.top-(i.top+i.height):r?r.top-(a.top+a.height):0:r?r.top-(a.top+a.height):i?a.top-(i.top+i.height):0:0}const Yee="Sortable",Kee=ke.createContext({activeIndex:-1,containerId:Yee,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Wee,disabled:{draggable:!1,droppable:!1}});function Xee(t){let{children:e,id:n,items:a,strategy:i=Wee,disabled:r=!1}=t;const{active:o,dragOverlay:s,droppableRects:c,over:u,measureDroppableContainers:d}=PXe(),h=kS(Yee,n),m=s.rect!==null,g=E.useMemo(()=>a.map(I=>typeof I=="object"&&"id"in I?I.id:I),[a]),y=o!=null,v=o?g.indexOf(o.id):-1,S=u?g.indexOf(u.id):-1,w=E.useRef(g),_=!HXe(g,w.current),T=S!==-1&&v===-1||_,A=$Xe(r);od(()=>{_&&y&&d(g)},[_,g,y,d]),E.useEffect(()=>{w.current=g},[g]);const R=E.useMemo(()=>({activeIndex:v,containerId:h,disabled:A,disableTransforms:T,items:g,overIndex:S,useDragOverlay:m,sortedRects:BXe(g,c),strategy:i}),[v,h,A.draggable,A.droppable,T,g,S,c,m,i]);return ke.createElement(Kee.Provider,{value:R},e)}const GXe=t=>{let{id:e,items:n,activeIndex:a,overIndex:i}=t;return N5(n,a,i).indexOf(e)},qXe=t=>{let{containerId:e,isSorting:n,wasDragging:a,index:i,items:r,newIndex:o,previousItems:s,previousContainerId:c,transition:u}=t;return!u||!a||s!==r&&i===o?!1:n?!0:o!==i&&e===c},WXe={duration:200,easing:"ease"},Qee="transform",VXe=bb.Transition.toString({property:Qee,duration:0,easing:"linear"}),YXe={roleDescription:"sortable"};function KXe(t){let{disabled:e,index:n,node:a,rect:i}=t;const[r,o]=E.useState(null),s=E.useRef(n);return od(()=>{if(!e&&n!==s.current&&a.current){const c=i.current;if(c){const u=Gb(a.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&o(d)}}n!==s.current&&(s.current=n)},[e,n,a,i]),E.useEffect(()=>{r&&o(null)},[r]),r}function Zee(t){let{animateLayoutChanges:e=qXe,attributes:n,disabled:a,data:i,getNewIndex:r=GXe,id:o,strategy:s,resizeObserverConfig:c,transition:u=WXe}=t;const{items:d,containerId:h,activeIndex:m,disabled:g,disableTransforms:y,sortedRects:v,overIndex:S,useDragOverlay:w,strategy:_}=E.useContext(Kee),T=XXe(a,g),A=d.indexOf(o),R=E.useMemo(()=>({sortable:{containerId:h,index:A,items:d},...i}),[h,i,A,d]),I=E.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:N,node:P,isOver:O,setNodeRef:D}=FXe({id:o,data:R,disabled:T.droppable,resizeObserverConfig:{updateMeasurementsFor:I,...c}}),{active:H,activatorEvent:L,activeNodeRect:$,attributes:M,setNodeRef:z,listeners:F,isDragging:G,over:ee,setActivatorNodeRef:V,transform:Y}=MXe({id:o,data:R,attributes:{...YXe,...n},disabled:T.draggable}),K=xKe(D,z),J=!!H,W=J&&!y&&Aw(m)&&Aw(S),te=!w&&G,re=te&&W?Y:null,ce=W?re??(s??_)({rects:v,activeNodeRect:$,activeIndex:m,overIndex:S,index:A}):null,pe=Aw(m)&&Aw(S)?r({id:o,items:d,activeIndex:m,overIndex:S}):A,me=H?.id,ge=E.useRef({activeId:me,items:d,newIndex:pe,containerId:h}),ye=d!==ge.current.items,he=e({active:H,containerId:h,isDragging:G,isSorting:J,id:o,index:A,items:d,newIndex:ge.current.newIndex,previousItems:ge.current.items,previousContainerId:ge.current.containerId,transition:u,wasDragging:ge.current.activeId!=null}),de=KXe({disabled:!he,index:A,node:P,rect:N});return E.useEffect(()=>{J&&ge.current.newIndex!==pe&&(ge.current.newIndex=pe),h!==ge.current.containerId&&(ge.current.containerId=h),d!==ge.current.items&&(ge.current.items=d)},[J,pe,h,d]),E.useEffect(()=>{if(me===ge.current.activeId)return;if(me!=null&&ge.current.activeId==null){ge.current.activeId=me;return}const oe=setTimeout(()=>{ge.current.activeId=me},50);return()=>clearTimeout(oe)},[me]),{active:H,activeIndex:m,attributes:M,data:R,rect:N,index:A,newIndex:pe,items:d,isOver:O,isSorting:J,isDragging:G,listeners:F,node:P,overIndex:S,over:ee,setNodeRef:K,setActivatorNodeRef:V,setDroppableNodeRef:D,setDraggableNodeRef:z,transform:de??ce,transition:fe()};function fe(){if(de||ye&&ge.current.newIndex===A)return VXe;if(!(te&&!HD(L)||!u)&&(J||he))return bb.Transition.toString({...u,property:Qee})}}function XXe(t,e){var n,a;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(a=t?.droppable)!=null?a:e.droppable}}function i_(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const QXe=[ca.Down,ca.Right,ca.Up,ca.Left],ZXe=(t,e)=>{let{context:{active:n,collisionRect:a,droppableRects:i,droppableContainers:r,over:o,scrollableAncestors:s}}=e;if(QXe.includes(t.code)){if(t.preventDefault(),!n||!a)return;const c=[];r.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const m=i.get(h.id);if(m)switch(t.code){case ca.Down:a.top<m.top&&c.push(h);break;case ca.Up:a.top>m.top&&c.push(h);break;case ca.Left:a.left>m.left&&c.push(h);break;case ca.Right:a.left<m.left&&c.push(h);break}});const u=OKe({collisionRect:a,droppableRects:i,droppableContainers:c});let d=Nee(u,"id");if(d===o?.id&&u.length>1&&(d=u[1].id),d!=null){const h=r.get(n.id),m=r.get(d),g=m?i.get(m.id):null,y=m?.node.current;if(y&&g&&h&&m){const S=A5(y).some((I,N)=>s[N]!==I),w=Jee(h,m),_=JXe(h,m),T=S||!w?{x:0,y:0}:{x:_?a.width-g.width:0,y:_?a.height-g.height:0},A={x:g.left,y:g.top};return T.x&&T.y?A:L2(A,T)}}}};function Jee(t,e){return!i_(t)||!i_(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function JXe(t,e){return!i_(t)||!i_(e)||!Jee(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const eQe=()=>{const t=yt.c(5),[e,n]=E.useState(null);let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=d=>{n(d.active.id)},t[0]=a):a=t[0];const i=a;let r;t[1]===Symbol.for("react.memo_cache_sentinel")?(r=(d,h,m)=>{const{active:g,over:y}=d;if(!y||g.id===y.id){n(null);return}const v=h.findIndex(w=>w.id===g.id),S=h.findIndex(w=>w.id===y.id);if(v!==-1&&S!==-1){const w=N5(h,v,S).map(tQe);m(w)}n(null)},t[1]=r):r=t[1];const o=r;let s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{n(null)},t[2]=s):s=t[2];const c=s;let u;return t[3]!==e?(u={activeId:e,handleDragStart:i,handleDragEnd:o,handleDragCancel:c},t[3]=e,t[4]=u):u=t[4],u};function tQe(t,e){return{...t,display_order:e+1}}const nQe=t=>{const e=yt.c(56),{open:n,editingGroup:a,onUpdate:i,onSave:r,onCancel:o}=t,{t:s}=ht("promptManagement");if(!a)return null;let c;e[0]!==a.id||e[1]!==s?(c=a.id?s("groupManagement.editForm.titleEdit"):s("groupManagement.editForm.titleAdd"),e[0]=a.id,e[1]=s,e[2]=c):c=e[2];let u;e[3]!==c?(u=l.jsx(Un,{children:c}),e[3]=c,e[4]=u):u=e[4];let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d={display:"flex",flexDirection:"column",gap:2,pt:1},e[5]=d):d=e[5];let h;e[6]!==s?(h=s("groupManagement.editForm.groupName.label"),e[6]=s,e[7]=h):h=e[7];let m;e[8]!==i?(m=$=>i({group_name:$.target.value}),e[8]=i,e[9]=m):m=e[9];let g;e[10]!==a.group_name||e[11]!==h||e[12]!==m?(g=l.jsx(Tt,{label:h,fullWidth:!0,value:a.group_name,onChange:m,autoFocus:!0}),e[10]=a.group_name,e[11]=h,e[12]=m,e[13]=g):g=e[13];let y;e[14]!==s?(y=s("groupManagement.editForm.displayOrder.label"),e[14]=s,e[15]=y):y=e[15];let v;e[16]!==i?(v=$=>i({display_order:parseInt($.target.value)||0}),e[16]=i,e[17]=v):v=e[17];let S;e[18]===Symbol.for("react.memo_cache_sentinel")?(S={width:150},e[18]=S):S=e[18];let w;e[19]!==a.display_order||e[20]!==y||e[21]!==v?(w=l.jsx(Tt,{label:y,type:"number",value:a.display_order,onChange:v,sx:S}),e[19]=a.display_order,e[20]=y,e[21]=v,e[22]=w):w=e[22];let _;e[23]!==i?(_=$=>i({is_visible:$.target.checked}),e[23]=i,e[24]=_):_=e[24];let T;e[25]!==a.is_visible||e[26]!==_?(T=l.jsx(Ai,{checked:a.is_visible,onChange:_}),e[25]=a.is_visible,e[26]=_,e[27]=T):T=e[27];let A;e[28]!==s?(A=s("groupManagement.editForm.visibility.label"),e[28]=s,e[29]=A):A=e[29];let R;e[30]!==T||e[31]!==A?(R=l.jsx(wn,{control:T,label:A}),e[30]=T,e[31]=A,e[32]=R):R=e[32];let I;e[33]!==w||e[34]!==R||e[35]!==g?(I=l.jsx($n,{dividers:!0,children:l.jsxs(Z,{sx:d,children:[g,w,R]})}),e[33]=w,e[34]=R,e[35]=g,e[36]=I):I=e[36];let N;e[37]!==s?(N=s("groupManagement.editForm.actions.cancel"),e[37]=s,e[38]=N):N=e[38];let P;e[39]!==o||e[40]!==N?(P=l.jsx(Ue,{onClick:o,children:N}),e[39]=o,e[40]=N,e[41]=P):P=e[41];let O;e[42]!==s?(O=s("groupManagement.editForm.actions.save"),e[42]=s,e[43]=O):O=e[43];let D;e[44]!==r||e[45]!==O?(D=l.jsx(Ue,{onClick:r,variant:"contained",children:O}),e[44]=r,e[45]=O,e[46]=D):D=e[46];let H;e[47]!==P||e[48]!==D?(H=l.jsxs(Wn,{children:[P,D]}),e[47]=P,e[48]=D,e[49]=H):H=e[49];let L;return e[50]!==o||e[51]!==n||e[52]!==I||e[53]!==u||e[54]!==H?(L=l.jsxs(Fn,{open:n,onClose:o,maxWidth:"sm",fullWidth:!0,children:[u,I,H]}),e[50]=o,e[51]=n,e[52]=I,e[53]=u,e[54]=H,e[55]=L):L=e[55],L},aQe=t=>{const e=yt.c(78),{group:n,isEditing:a,onEdit:i,onDelete:r,onToggleVisibility:o}=t,{t:s}=ht("promptManagement");let c;e[0]!==n.id?(c={id:n.id},e[0]=n.id,e[1]=c):c=e[1];const{attributes:u,listeners:d,setNodeRef:h,transform:m,transition:g,isDragging:y}=Zee(c);let v;e[2]!==m?(v=bb.Transform.toString(m),e[2]=m,e[3]=v):v=e[3];const S=y?.5:1;let w;e[4]!==v||e[5]!==S||e[6]!==g?(w={transform:v,transition:g,opacity:S},e[4]=v,e[5]=S,e[6]=g,e[7]=w):w=e[7];const _=w,T=y?"grabbing":"default";let A;e[8]===Symbol.for("react.memo_cache_sentinel")?(A={bgcolor:"action.hover"},e[8]=A):A=e[8];let R;e[9]!==T?(R={cursor:T,bgcolor:"background.paper","&:hover":A},e[9]=T,e[10]=R):R=e[10];const I=y?"grabbing":"grab";let N;e[11]!==I?(N={cursor:I,display:"flex",alignItems:"center",mr:2,color:"text.secondary"},e[11]=I,e[12]=N):N=e[12];let P;e[13]===Symbol.for("react.memo_cache_sentinel")?(P=l.jsx(PQ,{}),e[13]=P):P=e[13];let O;e[14]!==u||e[15]!==d||e[16]!==N?(O=l.jsx(Z,{...u,...d,sx:N,children:P}),e[14]=u,e[15]=d,e[16]=N,e[17]=O):O=e[17];let D;e[18]===Symbol.for("react.memo_cache_sentinel")?(D={minWidth:30,color:"text.secondary",mr:2},e[18]=D):D=e[18];let H;e[19]!==n.display_order?(H=l.jsx(ie,{variant:"body2",sx:D,children:n.display_order}),e[19]=n.display_order,e[20]=H):H=e[20];let L;e[21]===Symbol.for("react.memo_cache_sentinel")?(L={display:"flex",alignItems:"center",gap:1},e[21]=L):L=e[21];let $;e[22]!==n.group_name?($=l.jsx(ie,{variant:"body1",children:n.group_name}),e[22]=n.group_name,e[23]=$):$=e[23];let M;e[24]!==n.prompt_count||e[25]!==s?(M=s("groupManagement.groupList.promptCount",{count:n.prompt_count}),e[24]=n.prompt_count,e[25]=s,e[26]=M):M=e[26];let z;e[27]!==M?(z=l.jsx(mt,{label:M,size:"small",variant:"outlined",color:"primary"}),e[27]=M,e[28]=z):z=e[28];let F;e[29]!==n.is_visible||e[30]!==s?(F=!n.is_visible&&l.jsx(mt,{label:s("groupManagement.editForm.visibility.hidden"),size:"small",color:"default"}),e[29]=n.is_visible,e[30]=s,e[31]=F):F=e[31];let G;e[32]!==$||e[33]!==z||e[34]!==F?(G=l.jsxs(Z,{sx:L,children:[$,z,F]}),e[32]=$,e[33]=z,e[34]=F,e[35]=G):G=e[35];let ee;e[36]!==n.display_order||e[37]!==s?(ee=s("groupManagement.groupList.displayOrder",{order:n.display_order}),e[36]=n.display_order,e[37]=s,e[38]=ee):ee=e[38];let V;e[39]!==G||e[40]!==ee?(V=l.jsx(ar,{primary:G,secondary:ee}),e[39]=G,e[40]=ee,e[41]=V):V=e[41];let Y;e[42]!==n||e[43]!==o?(Y=()=>o(n),e[42]=n,e[43]=o,e[44]=Y):Y=e[44];let K;e[45]===Symbol.for("react.memo_cache_sentinel")?(K={mr:1},e[45]=K):K=e[45];let J;e[46]!==n.is_visible?(J=n.is_visible?l.jsx(gS,{}):l.jsx(P4,{}),e[46]=n.is_visible,e[47]=J):J=e[47];let W;e[48]!==Y||e[49]!==J?(W=l.jsx(lt,{edge:"end",onClick:Y,sx:K,children:J}),e[48]=Y,e[49]=J,e[50]=W):W=e[50];let te;e[51]!==n||e[52]!==i?(te=()=>i(n),e[51]=n,e[52]=i,e[53]=te):te=e[53];let re,ne;e[54]===Symbol.for("react.memo_cache_sentinel")?(re={mr:1},ne=l.jsx(id,{}),e[54]=re,e[55]=ne):(re=e[54],ne=e[55]);let ce;e[56]!==a||e[57]!==te?(ce=l.jsx(lt,{edge:"end",onClick:te,disabled:a,sx:re,children:ne}),e[56]=a,e[57]=te,e[58]=ce):ce=e[58];let pe;e[59]!==n.id||e[60]!==r?(pe=()=>r(n.id),e[59]=n.id,e[60]=r,e[61]=pe):pe=e[61];let me;e[62]===Symbol.for("react.memo_cache_sentinel")?(me=l.jsx(Wa,{}),e[62]=me):me=e[62];let ge;e[63]!==a||e[64]!==pe?(ge=l.jsx(lt,{edge:"end",onClick:pe,disabled:a,color:"error",children:me}),e[63]=a,e[64]=pe,e[65]=ge):ge=e[65];let ye;e[66]!==W||e[67]!==ce||e[68]!==ge?(ye=l.jsxs(Xj,{children:[W,ce,ge]}),e[66]=W,e[67]=ce,e[68]=ge,e[69]=ye):ye=e[69];let he;return e[70]!==h||e[71]!==_||e[72]!==O||e[73]!==H||e[74]!==V||e[75]!==ye||e[76]!==R?(he=l.jsxs(yf,{ref:h,style:_,sx:R,children:[O,H,V,ye]}),e[70]=h,e[71]=_,e[72]=O,e[73]=H,e[74]=V,e[75]=ye,e[76]=R,e[77]=he):he=e[77],he},iQe=t=>{const e=yt.c(32),{groups:n,isEditing:a,onAddGroup:i,onEditGroup:r,onDeleteGroup:o,onToggleVisibility:s,onDragEnd:c}=t,{t:u}=ht("promptManagement");let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d={activationConstraint:{distance:8}},e[0]=d):d=e[0];const h=Ree(uN(R5,d));let m;e[1]===Symbol.for("react.memo_cache_sentinel")?(m={display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},e[1]=m):m=e[1];let g;e[2]!==n.length||e[3]!==u?(g=u("groupManagement.groupList.title",{count:n.length}),e[2]=n.length,e[3]=u,e[4]=g):g=e[4];let y;e[5]!==g?(y=l.jsx(ie,{variant:"h6",children:g}),e[5]=g,e[6]=y):y=e[6];let v;e[7]===Symbol.for("react.memo_cache_sentinel")?(v=l.jsx(Vr,{}),e[7]=v):v=e[7];let S;e[8]!==u?(S=u("groupManagement.groupList.add"),e[8]=u,e[9]=S):S=e[9];let w;e[10]!==i||e[11]!==S?(w=l.jsx(Ue,{variant:"contained",startIcon:v,onClick:i,children:S}),e[10]=i,e[11]=S,e[12]=w):w=e[12];let _;e[13]!==y||e[14]!==w?(_=l.jsxs(Z,{sx:m,children:[y,w]}),e[13]=y,e[14]=w,e[15]=_):_=e[15];let T;e[16]!==n.length||e[17]!==u?(T=n.length>0&&l.jsx(xt,{severity:"info",sx:{mb:2},children:u("groupManagement.dragHint")}),e[16]=n.length,e[17]=u,e[18]=T):T=e[18];let A;e[19]!==n||e[20]!==a||e[21]!==o||e[22]!==c||e[23]!==r||e[24]!==s||e[25]!==h||e[26]!==u?(A=n.length===0?l.jsx(Z,{sx:{textAlign:"center",py:6,color:"text.secondary"},children:l.jsx(ie,{variant:"body1",children:u("groupManagement.groupList.empty")})}):l.jsx(qee,{sensors:h,collisionDetection:jee,onDragEnd:c,children:l.jsx(Xee,{items:n.map(rQe),strategy:Vee,children:l.jsx(Ms,{children:n.map((I,N)=>l.jsxs(ke.Fragment,{children:[l.jsx(aQe,{group:I,isEditing:a,onEdit:r,onDelete:o,onToggleVisibility:s}),N<n.length-1&&l.jsx(fn,{})]},I.id))})})}),e[19]=n,e[20]=a,e[21]=o,e[22]=c,e[23]=r,e[24]=s,e[25]=h,e[26]=u,e[27]=A):A=e[27];let R;return e[28]!==A||e[29]!==_||e[30]!==T?(R=l.jsxs(Z,{children:[_,T,A]}),e[28]=A,e[29]=_,e[30]=T,e[31]=R):R=e[31],R};function rQe(t){return t.id}const oQe=t=>{const e=yt.c(72),{open:n,onClose:a,type:i,onGroupsChange:r}=t,{t:o}=ht("promptManagement"),{snackbar:s,showSnackbar:c,hideSnackbar:u}=gKe();let d,h;e[0]!==c||e[1]!==o?(d=le=>c(o(le)||le,"success"),h=le=>c(o(le)||le,"error"),e[0]=c,e[1]=o,e[2]=d,e[3]=h):(d=e[2],h=e[3]);const{groups:m,loading:g,editingGroup:y,isEditing:v,fetchGroups:S,startAddGroup:w,startEditGroup:_,cancelEdit:T,saveGroup:A,deleteGroup:R,toggleVisibility:I,updateGroupsOrder:N,updateEditingGroup:P,setGroups:O}=yKe(i,d,h),{handleDragEnd:D}=eQe();let H,L;e[4]!==S||e[5]!==n?(H=()=>{n&&S()},L=[n,S],e[4]=S,e[5]=n,e[6]=H,e[7]=L):(H=e[6],L=e[7]),E.useEffect(H,L);let $;e[8]!==T||e[9]!==a?($=()=>{T(),a()},e[8]=T,e[9]=a,e[10]=$):$=e[10];const M=$;let z;e[11]!==r||e[12]!==A?(z=()=>{A(r)},e[11]=r,e[12]=A,e[13]=z):z=e[13];const F=z;let G;e[14]!==R||e[15]!==r?(G=le=>{R(le,r)},e[14]=R,e[15]=r,e[16]=G):G=e[16];const ee=G;let V;e[17]!==r||e[18]!==I?(V=le=>{I(le,r)},e[17]=r,e[18]=I,e[19]=V):V=e[19];const Y=V;let K;e[20]!==m||e[21]!==D||e[22]!==r||e[23]!==O||e[24]!==N?(K=le=>{D(le,m,Se=>{O(Se),N(Se,r)})},e[20]=m,e[21]=D,e[22]=r,e[23]=O,e[24]=N,e[25]=K):K=e[25];const J=K,W=i==="positive"?"Positive":"Negative";let te;e[26]!==o||e[27]!==W?(te=o("groupManagement.title",{type:W}),e[26]=o,e[27]=W,e[28]=te):te=e[28];let re;e[29]!==te?(re=l.jsx(Un,{children:te}),e[29]=te,e[30]=re):re=e[30];let ne;e[31]===Symbol.for("react.memo_cache_sentinel")?(ne={minHeight:400},e[31]=ne):ne=e[31];let ce;e[32]!==m||e[33]!==ee||e[34]!==J||e[35]!==Y||e[36]!==v||e[37]!==g||e[38]!==w||e[39]!==_?(ce=l.jsx($n,{dividers:!0,sx:ne,children:g?l.jsx(Z,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"300px",children:l.jsx(Yt,{})}):l.jsx(iQe,{groups:m,isEditing:v,onAddGroup:w,onEditGroup:_,onDeleteGroup:ee,onToggleVisibility:Y,onDragEnd:J})}),e[32]=m,e[33]=ee,e[34]=J,e[35]=Y,e[36]=v,e[37]=g,e[38]=w,e[39]=_,e[40]=ce):ce=e[40];let pe;e[41]!==o?(pe=o("groupManagement.actions.close"),e[41]=o,e[42]=pe):pe=e[42];let me;e[43]!==M||e[44]!==pe?(me=l.jsx(Wn,{children:l.jsx(Ue,{onClick:M,children:pe})}),e[43]=M,e[44]=pe,e[45]=me):me=e[45];let ge;e[46]!==M||e[47]!==n||e[48]!==re||e[49]!==ce||e[50]!==me?(ge=l.jsxs(Fn,{open:n,onClose:M,maxWidth:"md",fullWidth:!0,children:[re,ce,me]}),e[46]=M,e[47]=n,e[48]=re,e[49]=ce,e[50]=me,e[51]=ge):ge=e[51];let ye;e[52]!==T||e[53]!==y||e[54]!==F||e[55]!==v||e[56]!==P?(ye=l.jsx(nQe,{open:v,editingGroup:y,onUpdate:P,onSave:F,onCancel:T}),e[52]=T,e[53]=y,e[54]=F,e[55]=v,e[56]=P,e[57]=ye):ye=e[57];let he;e[58]===Symbol.for("react.memo_cache_sentinel")?(he={vertical:"bottom",horizontal:"center"},e[58]=he):he=e[58];let de;e[59]===Symbol.for("react.memo_cache_sentinel")?(de={width:"100%"},e[59]=de):de=e[59];let fe;e[60]!==u||e[61]!==s.message||e[62]!==s.severity?(fe=l.jsx(xt,{onClose:u,severity:s.severity,sx:de,variant:"filled",children:s.message}),e[60]=u,e[61]=s.message,e[62]=s.severity,e[63]=fe):fe=e[63];let oe;e[64]!==u||e[65]!==s.open||e[66]!==fe?(oe=l.jsx(kg,{open:s.open,autoHideDuration:6e3,onClose:u,anchorOrigin:he,children:fe}),e[64]=u,e[65]=s.open,e[66]=fe,e[67]=oe):oe=e[67];let ue;return e[68]!==ge||e[69]!==ye||e[70]!==oe?(ue=l.jsxs(l.Fragment,{children:[ge,ye,oe]}),e[68]=ge,e[69]=ye,e[70]=oe,e[71]=ue):ue=e[71],ue},sQe=({open:t,onClose:e,type:n,groups:a,onSuccess:i,selectedPromptTexts:r=[]})=>{const{t:o}=ht("promptManagement"),[s,c]=E.useState(null),[u,d]=E.useState(""),[h,m]=E.useState(!1),[g,y]=E.useState(null);E.useEffect(()=>{t&&r.length>0&&d(r.join(`
`))},[t,r]);const S=(T=>{const A=T.split(/[,\n]+/).map(R=>R.trim()).filter(R=>R.length>0);return Array.from(new Set(A))})(u),w=async()=>{if(S.length!==0){m(!0),y(null);try{const T=await t4.batchAssignPromptsToGroup(S,s,n);T.success&&(y({created:T.created||0,updated:T.updated||0,failed:T.failed||[]}),i())}catch(T){console.error("Error batch assigning prompts:",T),y({created:0,updated:0,failed:S})}finally{m(!1)}}},_=()=>{h||(c(null),d(""),y(null),e())};return l.jsxs(Fn,{open:t,onClose:_,maxWidth:"md",fullWidth:!0,children:[l.jsx(Un,{children:o("bulkAssignDialog.title")}),l.jsx($n,{dividers:!0,children:l.jsxs(Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[l.jsxs(ri,{fullWidth:!0,children:[l.jsx(Nr,{children:o("bulkAssignDialog.groupSelect.label")}),l.jsxs(Xi,{value:s||"",label:o("bulkAssignDialog.groupSelect.label"),onChange:T=>c(T.target.value),disabled:h||g!==null,children:[l.jsx(nn,{value:"",children:o("assignDialog.selectGroup.unassigned")}),a.filter(T=>T.is_visible).map(T=>l.jsxs(nn,{value:T.id,children:[T.group_name," (",T.prompt_count,")"]},T.id))]})]}),l.jsx(Tt,{label:o("bulkAssignDialog.textInput.label"),placeholder:o("bulkAssignDialog.textInput.placeholder"),multiline:!0,rows:6,value:u,onChange:T=>d(T.target.value),disabled:h||g!==null,helperText:o("bulkAssignDialog.textInput.example")}),S.length>0&&!g&&l.jsxs(Z,{children:[l.jsx(ie,{variant:"subtitle2",gutterBottom:!0,children:o("bulkAssignDialog.preview.title",{count:S.length})}),l.jsxs(Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5,maxHeight:150,overflow:"auto",p:1,bgcolor:"background.default",borderRadius:1},children:[S.slice(0,20).map((T,A)=>l.jsx(mt,{label:T,size:"small",variant:"outlined"},A)),S.length>20&&l.jsx(mt,{label:`+${S.length-20} `,size:"small",color:"primary"})]})]}),g&&l.jsxs(Z,{children:[l.jsx(fn,{sx:{my:2}}),l.jsx(ie,{variant:"h6",gutterBottom:!0,children:o("bulkAssignDialog.results.title")}),l.jsxs(Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[l.jsx(xt,{severity:"success",children:o("bulkAssignDialog.results.created",{count:g.created})}),l.jsx(xt,{severity:"info",children:o("bulkAssignDialog.results.updated",{count:g.updated})}),g.failed.length>0&&l.jsxs(xt,{severity:"error",children:[o("bulkAssignDialog.results.failed",{count:g.failed.length}),l.jsxs(Z,{sx:{mt:1},children:[g.failed.slice(0,5).map((T,A)=>l.jsxs(ie,{variant:"body2",children:[" ",T]},A)),g.failed.length>5&&l.jsxs(ie,{variant:"body2",color:"text.secondary",children:["...  ",g.failed.length-5," "]})]})]}),l.jsx(xt,{severity:"success",children:o("bulkAssignDialog.results.total",{count:g.created+g.updated})})]})]})]})}),l.jsxs(Wn,{children:[l.jsx(Ue,{onClick:_,disabled:h,children:g?"":o("bulkAssignDialog.actions.cancel")}),!g&&l.jsx(Ue,{onClick:w,variant:"contained",disabled:h||S.length===0,startIcon:h?l.jsx(Yt,{size:20}):null,children:o("bulkAssignDialog.actions.assign")})]})]})},vH=({type:t})=>{const{t:e}=ht("promptManagement"),[n,a]=E.useState([]),[i,r]=E.useState([]),[o,s]=E.useState(!0),[c,u]=E.useState(""),[d,h]=E.useState("all"),[m,g]=E.useState(0),[y,v]=E.useState(25),[S,w]=E.useState(0),[_,T]=E.useState(!1),[A,R]=E.useState(!1),[I,N]=E.useState(null),[P,O]=E.useState(null),[D,H]=E.useState(!1),[L,$]=E.useState(new Set),[M,z]=E.useState(null),[F,G]=E.useState({open:!1,message:"",severity:"success"}),ee=async()=>{try{s(!0);let oe;d==="unassigned"?oe=null:typeof d=="number"&&(oe=d);const ue=await t4.searchPrompts(c,t,m+1,y,"usage_count","DESC",oe);ue.success&&ue.data?(a(Array.isArray(ue.data)?ue.data:[]),w(ue.pagination?.total||0)):Y(e("promptList.messages.loadFailed"),"error")}catch(oe){console.error("Error fetching prompts:",oe),Y(e("promptList.messages.loadFailed"),"error")}finally{s(!1)}},V=async()=>{try{const oe=await km.getGroups(!0,t);oe.success&&oe.data&&r(oe.data)}catch(oe){console.error("Error fetching groups:",oe)}};E.useEffect(()=>{V()},[t]),E.useEffect(()=>{const oe=setTimeout(()=>{ee()},300);return()=>clearTimeout(oe)},[c,d,m,y,t]);const Y=(oe,ue)=>{G({open:!0,message:oe,severity:ue})},K=()=>{G({...F,open:!1})},J=(oe,ue)=>{g(ue)},W=oe=>{v(parseInt(oe.target.value,10)),g(0)},te=async oe=>{try{const ue=await t4.deletePrompt(oe,t);ue.success?(Y(e("promptList.messages.deleteSuccess"),"success"),ee()):Y(ue.error||e("promptList.messages.deleteFailed"),"error")}catch(ue){console.error("Error deleting prompt:",ue),Y(e("promptList.messages.deleteFailed"),"error")}},re=oe=>{N(oe),R(!0)},ne=async()=>{if(I!==null){try{const oe=await t4.assignPromptToGroup(I,P,t);oe.success?(Y(e("promptList.messages.assignSuccess"),"success"),ee()):Y(oe.error||e("promptList.messages.assignFailed"),"error")}catch(oe){console.error("Error assigning prompt:",oe),Y(e("promptList.messages.assignFailed"),"error")}R(!1),N(null),O(null)}},ce=oe=>{z(oe.currentTarget)},pe=()=>{z(null)},me=oe=>oe===null?e("promptList.statistics.unclassified"):i.find(le=>le.id===oe)?.group_name||e("promptList.statistics.unknown"),ge=oe=>oe.usage_count===0,ye=oe=>{$(ue=>{const le=new Set(ue);return le.has(oe)?le.delete(oe):le.add(oe),le})},he=oe=>{oe.target.checked?$(new Set(n.map(ue=>ue.id))):$(new Set)},de=()=>{L.size!==0&&H(!0)},fe=()=>{$(new Set),ee()};return l.jsxs(Z,{children:[l.jsxs(Z,{sx:{display:"flex",gap:2,mb:3,alignItems:"center"},children:[l.jsx(Tt,{placeholder:e("promptList.search.placeholder",{type:t==="positive"?"Positive":"Negative"}),variant:"outlined",size:"small",value:c,onChange:oe=>u(oe.target.value),InputProps:{startAdornment:l.jsx(Wc,{sx:{mr:1,color:"text.secondary"}})},sx:{flexGrow:1}}),l.jsxs(ri,{size:"small",sx:{minWidth:150},children:[l.jsx(Nr,{children:e("promptList.filters.groupFilter.label")}),l.jsxs(Xi,{value:d,label:e("promptList.filters.groupFilter.label"),onChange:oe=>h(oe.target.value),children:[l.jsx(nn,{value:"all",children:e("promptList.filters.groupFilter.all")}),l.jsx(nn,{value:"unassigned",children:e("promptList.filters.groupFilter.unassigned")}),i.filter(oe=>oe.is_visible).map(oe=>l.jsxs(nn,{value:oe.id,children:[oe.group_name," (",oe.prompt_count,")"]},oe.id))]})]}),l.jsx(Ue,{variant:"outlined",startIcon:l.jsx(ub,{}),onClick:ce,children:e("promptList.actions.groupManagement")})]}),L.size>0&&l.jsxs(Z,{sx:{mb:2,p:2,bgcolor:"primary.light",borderRadius:1,display:"flex",gap:2,alignItems:"center"},children:[l.jsx(ie,{variant:"body2",sx:{color:"primary.contrastText",fontWeight:500},children:e("promptList.bulkActions.selectedCount",{count:L.size})}),l.jsx(Ue,{variant:"contained",size:"small",startIcon:l.jsx(_7,{}),onClick:de,sx:{bgcolor:"white",color:"primary.main","&:hover":{bgcolor:"grey.100"}},children:e("promptList.bulkActions.assignSelected")}),l.jsx(Ue,{variant:"outlined",size:"small",onClick:()=>$(new Set),sx:{borderColor:"white",color:"white","&:hover":{borderColor:"white",bgcolor:"rgba(255,255,255,0.1)"}},children:""})]}),l.jsx(Z,{sx:{mb:2,display:"flex",gap:2},children:l.jsx(Ue,{variant:"outlined",startIcon:l.jsx(_7,{}),onClick:()=>H(!0),children:e("promptList.bulkActions.bulkAssign")})}),l.jsx(n5,{children:l.jsxs(fS,{children:[l.jsx(pS,{children:l.jsxs(Es,{children:[l.jsx(Qt,{padding:"checkbox",children:l.jsx(Zs,{indeterminate:L.size>0&&L.size<n.length,checked:n.length>0&&L.size===n.length,onChange:he})}),l.jsx(Qt,{children:e("promptList.table.headers.prompt")}),l.jsx(Qt,{align:"center",children:e("promptList.table.headers.usageCount")}),l.jsx(Qt,{align:"center",children:e("promptList.table.headers.assignedGroup")}),l.jsx(Qt,{align:"center",children:e("promptList.table.headers.actions")})]})}),l.jsx(hS,{children:o?l.jsx(Es,{children:l.jsx(Qt,{colSpan:5,align:"center",sx:{py:4},children:l.jsx(Yt,{})})}):n.length===0?l.jsx(Es,{children:l.jsx(Qt,{colSpan:5,align:"center",sx:{py:4},children:l.jsx(ie,{color:"text.secondary",children:e("promptList.table.empty")})})}):n.map(oe=>l.jsxs(Es,{hover:!0,selected:L.has(oe.id),children:[l.jsx(Qt,{padding:"checkbox",children:l.jsx(Zs,{checked:L.has(oe.id),onChange:()=>ye(oe.id)})}),l.jsxs(Qt,{children:[l.jsx(ie,{variant:"body2",sx:{maxWidth:400},children:oe.prompt}),oe.synonyms&&oe.synonyms.length>0&&l.jsxs(Z,{sx:{mt:1},children:[oe.synonyms.slice(0,3).map((ue,le)=>l.jsx(mt,{label:ue,size:"small",variant:"outlined",sx:{mr:.5,mb:.5}},le)),oe.synonyms.length>3&&l.jsx(mt,{label:e("promptList.table.synonyms.more",{count:oe.synonyms.length-3}),size:"small",variant:"outlined",color:"primary"})]})]}),l.jsx(Qt,{align:"center",children:l.jsx(mt,{label:oe.usage_count,size:"small",color:oe.usage_count>0?"primary":"default"})}),l.jsx(Qt,{align:"center",children:l.jsx(mt,{label:me(oe.group_id),size:"small",variant:"outlined",color:oe.group_id===null?"default":"primary"})}),l.jsx(Qt,{align:"center",children:l.jsxs(Z,{sx:{display:"flex",gap:1,justifyContent:"center"},children:[l.jsx(jt,{title:e("promptList.actions.assignToGroup"),children:l.jsx(lt,{size:"small",onClick:()=>re(oe.id),children:l.jsx(nD,{})})}),l.jsx(jt,{title:ge(oe)?e("promptList.actions.delete"):e("promptList.actions.cannotDelete"),children:l.jsx("span",{children:l.jsx(lt,{size:"small",color:"error",disabled:!ge(oe),onClick:()=>te(oe.id),children:l.jsx(Wa,{})})})})]})})]},oe.id))})]})}),l.jsx(UDe,{rowsPerPageOptions:[10,25,50,100],component:"div",count:S,rowsPerPage:y,page:m,onPageChange:J,onRowsPerPageChange:W,labelRowsPerPage:e("promptList.pagination.rowsPerPage"),labelDisplayedRows:({from:oe,to:ue,count:le})=>{const Se=le!==-1?le:`${ue}+`;return`${oe}-${ue} / ${Se}`}}),l.jsx(jb,{anchorEl:M,open:!!M,onClose:pe,children:l.jsxs(nn,{onClick:()=>{T(!0),pe()},children:[l.jsx(Ao,{children:l.jsx(ub,{fontSize:"small"})}),l.jsx(ar,{children:e("promptList.actions.groupManagement")})]})}),l.jsxs(Fn,{open:A,onClose:()=>R(!1),children:[l.jsx(Un,{children:e("assignDialog.title")}),l.jsx($n,{children:l.jsxs(ri,{fullWidth:!0,sx:{mt:1,minWidth:300},children:[l.jsx(Nr,{children:e("assignDialog.selectGroup.label")}),l.jsxs(Xi,{value:P||"",label:e("assignDialog.selectGroup.label"),onChange:oe=>O(oe.target.value),children:[l.jsx(nn,{value:"",children:e("assignDialog.selectGroup.unassigned")}),i.filter(oe=>oe.is_visible).map(oe=>l.jsx(nn,{value:oe.id,children:oe.group_name},oe.id))]})]})}),l.jsxs(Wn,{children:[l.jsx(Ue,{onClick:()=>R(!1),children:e("assignDialog.actions.cancel")}),l.jsx(Ue,{onClick:ne,variant:"contained",children:e("assignDialog.actions.assign")})]})]}),l.jsx(oQe,{open:_,onClose:()=>T(!1),type:t,onGroupsChange:V}),l.jsx(sQe,{open:D,onClose:()=>H(!1),type:t,groups:i,onSuccess:fe,selectedPromptTexts:n.filter(oe=>L.has(oe.id)).map(oe=>oe.prompt)}),l.jsx(kg,{open:F.open,autoHideDuration:6e3,onClose:K,children:l.jsx(xt,{onClose:K,severity:F.severity,sx:{width:"100%"},children:F.message})})]})},nf=t=>{const e=yt.c(7),{children:n,value:a,index:i}=t,r=a!==i;let o;e[0]!==n||e[1]!==i||e[2]!==a?(o=a===i&&l.jsx(Z,{sx:{py:3},children:n}),e[0]=n,e[1]=i,e[2]=a,e[3]=o):o=e[3];let s;return e[4]!==r||e[5]!==o?(s=l.jsx("div",{role:"tabpanel",hidden:r,children:o}),e[4]=r,e[5]=o,e[6]=s):s=e[6],s},lQe=()=>{const{t}=ht("settings"),{t:e}=ht("promptManagement"),[n,a]=E.useState(0),[i,r]=E.useState(0),[o,s]=E.useState(null),[c,u]=E.useState(!0),[d,h]=E.useState(null),[m,g]=E.useState(null);E.useEffect(()=>{y()},[]);const y=async()=>{u(!0),h(null);try{const A=await fo.getSettings();s(A)}catch(A){h(t("messages.loadFailed")),console.error("Failed to load settings:",A)}finally{u(!1)}},v=async A=>{h(null),g(null);try{const R=await fo.updateGeneralSettings(A);s(R),g(t("messages.saveSuccess")),setTimeout(()=>{g(null)},3e3)}catch(R){throw h(t("messages.saveFailed")),console.error("Failed to update settings:",R),R}},S=async A=>{h(null),g(null);try{const R=await fo.updateTaggerSettings(A);s(R),g(t("messages.saveSuccess")),setTimeout(()=>{g(null)},3e3)}catch(R){throw h(t("messages.saveFailed")),console.error("Failed to update settings:",R),R}},w=async A=>{h(null),g(null);try{const R=await fo.updateMetadataSettings(A);s(R),g(t("messages.saveSuccess")),setTimeout(()=>{g(null)},3e3)}catch(R){throw h(t("messages.saveFailed")),console.error("Failed to update settings:",R),R}},_=async A=>{h(null),g(null);try{const R=await fo.updateThumbnailSettings(A);s(R),g(t("messages.saveSuccess")),setTimeout(()=>{g(null)},3e3)}catch(R){throw h(t("messages.saveFailed")),console.error("Failed to update settings:",R),R}},T=(A,R)=>{a(R)};return c?l.jsx(tg,{maxWidth:"md",children:l.jsx(Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:l.jsx(Yt,{})})}):d||!o?l.jsx(tg,{maxWidth:"md",children:l.jsx(Z,{sx:{py:4},children:l.jsx(xt,{severity:"error",children:d||t("messages.loadFailed")})})}):l.jsx(tg,{maxWidth:"md",children:l.jsxs(Z,{sx:{py:4},children:[l.jsxs(Z,{sx:{mb:4},children:[l.jsxs(Z,{sx:{display:"flex",alignItems:"center",mb:1},children:[l.jsx(ub,{sx:{mr:1,fontSize:32}}),l.jsx(ie,{variant:"h4",component:"h1",children:t("title")})]}),l.jsx(ie,{variant:"body1",color:"text.secondary",children:t("subtitle")})]}),m&&l.jsx(xt,{severity:"success",sx:{mb:3},children:m}),l.jsx(Z,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:l.jsxs(No,{value:n,onChange:T,variant:"scrollable",scrollButtons:"auto",children:[l.jsx(Cn,{label:t("tabs.general")}),l.jsx(Cn,{label:t("tabs.folders")}),l.jsx(Cn,{label:t("tabs.tagger")}),l.jsx(Cn,{label:t("tabs.prompts")}),l.jsx(Cn,{label:t("tabs.rating")}),l.jsx(Cn,{label:t("tabs.similarity")}),l.jsx(Cn,{label:t("tabs.account")}),l.jsx(Cn,{label:t("tabs.externalApi")}),l.jsx(Cn,{label:"Civitai"})]})}),l.jsx(nf,{value:n,index:0,children:l.jsx(cYe,{settings:o.general,metadataSettings:o.metadataExtraction,thumbnailSettings:o.thumbnail,onUpdate:v,onMetadataUpdate:w,onThumbnailUpdate:_})}),l.jsx(nf,{value:n,index:1,children:l.jsx(dKe,{})}),l.jsx(nf,{value:n,index:2,children:l.jsx(vYe,{settings:o.tagger,onUpdate:S})}),l.jsx(nf,{value:n,index:3,children:l.jsxs(Gt,{sx:{width:"100%"},children:[l.jsx(Z,{sx:{borderBottom:1,borderColor:"divider"},children:l.jsxs(No,{value:i,onChange:(A,R)=>r(R),"aria-label":"prompt management tabs",children:[l.jsx(Cn,{label:e("tabs.positive")}),l.jsx(Cn,{label:e("tabs.negative")})]})}),l.jsxs(Z,{sx:{p:3},children:[i===0&&l.jsx(vH,{type:"positive"}),i===1&&l.jsx(vH,{type:"negative"})]})]})}),l.jsx(nf,{value:n,index:4,children:l.jsx(kYe,{})}),l.jsx(nf,{value:n,index:5,children:l.jsx(HYe,{})}),l.jsx(nf,{value:n,index:6,children:l.jsx(hKe,{})}),l.jsx(nf,{value:n,index:7,children:l.jsx(pKe,{})}),l.jsx(nf,{value:n,index:8,children:l.jsx(mKe,{})})]})})};function cQe({onLoginSuccess:t}){const{t:e}=ht(["imageGeneration"]),[n,a]=E.useState(0),[i,r]=E.useState({username:"",password:""}),[o,s]=E.useState(""),[c,u]=E.useState(!1),[d,h]=E.useState(null),m=async y=>{y.preventDefault(),u(!0),h(null);try{const v=await N7.login(i.username,i.password);localStorage.setItem("nai_token",v.accessToken),localStorage.setItem("nai_token_expires",v.expiresAt),t(v.accessToken,v.expiresAt)}catch(v){h(v.response?.data?.error||e("imageGeneration:nai.login.error"))}finally{u(!1)}},g=async y=>{y.preventDefault(),u(!0),h(null);try{const v=o.trim();if(!v){h(e("imageGeneration:nai.login.tokenError")),u(!1);return}const S=await N7.loginWithToken(v);localStorage.setItem("nai_token",S.accessToken),localStorage.setItem("nai_token_expires",S.expiresAt),t(S.accessToken,S.expiresAt)}catch(v){console.error("[NAI Login] Token login error:",v),h(v.response?.data?.error||e("imageGeneration:nai.login.tokenError"))}finally{u(!1)}};return l.jsx(Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:l.jsxs(Gt,{sx:{p:4,maxWidth:500,width:"100%"},children:[l.jsxs(Z,{sx:{textAlign:"center",mb:3},children:[l.jsx(ie,{variant:"h5",gutterBottom:!0,children:e("imageGeneration:nai.login.title")}),l.jsx(ie,{variant:"body2",color:"text.secondary",children:e("imageGeneration:nai.login.subtitle")})]}),l.jsxs(No,{value:n,onChange:(y,v)=>{a(v),h(null)},variant:"fullWidth",sx:{mb:3},children:[l.jsx(Cn,{icon:l.jsx(Rz,{}),iconPosition:"start",label:e("imageGeneration:nai.login.tabs.credentials")}),l.jsx(Cn,{icon:l.jsx(L4,{}),iconPosition:"start",label:e("imageGeneration:nai.login.tabs.token")})]}),d&&l.jsx(xt,{severity:"error",sx:{mb:2},children:d}),n===0&&l.jsxs("form",{onSubmit:m,children:[l.jsx(Tt,{fullWidth:!0,label:e("imageGeneration:nai.login.username"),type:"email",value:i.username,onChange:y=>r({...i,username:y.target.value}),required:!0,disabled:c,sx:{mb:2}}),l.jsx(Tt,{fullWidth:!0,label:e("imageGeneration:nai.login.password"),type:"password",value:i.password,onChange:y=>r({...i,password:y.target.value}),required:!0,disabled:c,sx:{mb:3}}),l.jsx(Ue,{fullWidth:!0,type:"submit",variant:"contained",size:"large",disabled:c,startIcon:c?l.jsx(Yt,{size:20}):l.jsx(Rz,{}),children:e(c?"imageGeneration:nai.login.loggingIn":"imageGeneration:nai.login.loginButton")})]}),n===1&&l.jsxs("form",{onSubmit:g,children:[l.jsx(ie,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e("imageGeneration:nai.login.tokenHint")}),l.jsx(Tt,{fullWidth:!0,label:e("imageGeneration:nai.login.token"),type:"password",multiline:!0,rows:3,value:o,onChange:y=>s(y.target.value),placeholder:e("imageGeneration:nai.login.tokenPlaceholder"),required:!0,disabled:c,sx:{mb:3}}),l.jsx(Ue,{fullWidth:!0,type:"submit",variant:"contained",size:"large",disabled:c,startIcon:c?l.jsx(Yt,{size:20}):l.jsx(L4,{}),children:e(c?"imageGeneration:nai.login.loggingIn":"imageGeneration:nai.login.loginButton")})]})]})})}var ete={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},SH=ke.createContext&&ke.createContext(ete),uQe=["attr","size","title"];function dQe(t,e){if(t==null)return{};var n=fQe(t,e),a,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function fQe(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function r_(){return r_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},r_.apply(this,arguments)}function CH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function o_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CH(Object(n),!0).forEach(function(a){hQe(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CH(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function hQe(t,e,n){return e=pQe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pQe(t){var e=mQe(t,"string");return typeof e=="symbol"?e:e+""}function mQe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tte(t){return t&&t.map((e,n)=>ke.createElement(e.tag,o_({key:n},e.attr),tte(e.child)))}function gQe(t){return e=>ke.createElement(bQe,r_({attr:o_({},t.attr)},e),tte(t.child))}function bQe(t){var e=n=>{var{attr:a,size:i,title:r}=t,o=dQe(t,uQe),s=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),ke.createElement("svg",r_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,o,{className:c,style:o_(o_({color:t.color||n.color},n.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),r&&ke.createElement("title",null,r),t.children)};return SH!==void 0?ke.createElement(SH.Consumer,null,n=>e(n)):e(ete)}function yQe(t){return gQe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}const xQe=({token:t})=>{const{t:e}=ht(["imageGeneration"]),[n,a]=E.useState(null),[i,r]=E.useState(!1),[o,s]=E.useState(null),c=async()=>{if(t){r(!0),s(null);try{const d=await At.get("/api/nai/user/data",{headers:{Authorization:`Bearer ${t}`}});a(d.data)}catch(d){console.error("[NAI] User data fetch error:",d),s(d.response?.data?.error||"Failed to fetch user data")}finally{r(!1)}}};E.useEffect(()=>{t&&c()},[t]);const u=d=>{switch(d){case 3:return"tier-opus";case 2:return"tier-scroll";case 1:return"tier-tablet";default:return"tier-free"}};return o?null:l.jsx("div",{className:"nai-anlas-display",children:i?l.jsx("span",{className:"loading-text",children:"Loading..."}):n?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"anlas-info",children:[l.jsxs("span",{className:"anlas-label",children:[e("imageGeneration:nai.anlas.balance"),":"]}),l.jsx("span",{className:"anlas-value",children:n.anlasBalance.toLocaleString()})]}),l.jsxs("div",{className:"subscription-info",children:[l.jsxs("span",{className:"subscription-label",children:[e("imageGeneration:nai.anlas.subscription"),":"]}),l.jsx("span",{className:`tier-badge ${u(n.subscription.tier)}`,children:n.subscription.tierName})]}),l.jsx("button",{onClick:c,className:"refresh-button",title:e("imageGeneration:nai.anlas.refresh"),children:l.jsx(yQe,{})})]}):l.jsx("span",{className:"no-data-text",children:"No data"})})},uf={"512768":{width:512,height:768},"768512":{width:768,height:512},"640640":{width:640,height:640},"8321216":{width:832,height:1216},"1216832":{width:1216,height:832},"10241024":{width:1024,height:1024},"10241536":{width:1024,height:1536},"15361024":{width:1536,height:1024},"10881920":{width:1088,height:1920},"19201088":{width:1920,height:1088}},R6=Object.keys(uf),vQe=[{value:"nai-diffusion-4-5-curated",label:"V4.5 Curated ()"},{value:"nai-diffusion-4-5-full",label:"V4.5 Full"},{value:"nai-diffusion-4-curated-preview",label:"V4 Curated"},{value:"nai-diffusion-4-full",label:"V4 Full"},{value:"nai-diffusion-3",label:"V3 ()"},{value:"nai-diffusion-3-furry",label:"V3 Furry"}],SQe=[{value:"k_euler",label:"Euler"},{value:"k_euler_ancestral",label:"Euler Ancestral"},{value:"k_dpmpp_2s_ancestral",label:"DPM++ 2S Ancestral"},{value:"k_dpmpp_2m",label:"DPM++ 2M"},{value:"k_dpmpp_sde",label:"DPM++ SDE"},{value:"ddim_v3",label:"DDIM"}],CQe=[{value:"native",label:"Native"},{value:"karras",label:"Karras ()"},{value:"exponential",label:"Exponential"},{value:"polyexponential",label:"Polyexponential"}],wH="nai_generation_params",k6="nai_selected_group_id",pN={mode:"fixed",fixed:"8321216",random:[],customResolutions:[],swapDimensions:!1},_H={model:"nai-diffusion-4-5-curated",prompt:"",negative_prompt:"",resolution:"8321216",resolutionConfig:pN,steps:28,scale:6,sampler:"k_euler",n_samples:1,variety_plus:!1,cfg_rescale:.7,noise_schedule:"karras",uncond_scale:1},wQe="http://localhost:1566/api",Cs=Ut.create({baseURL:wQe,withCredentials:!0}),Pc={getAllWildcards:async(t=!0)=>(await Cs.get("/wildcards",{params:{withItems:t}})).data,getWildcardsHierarchical:async()=>(await Cs.get("/wildcards",{params:{hierarchical:!0}})).data,getRootWildcards:async()=>(await Cs.get("/wildcards",{params:{rootsOnly:!0}})).data,getWildcardChildren:async t=>(await Cs.get(`/wildcards/${t}/children`)).data,getWildcardPath:async t=>(await Cs.get(`/wildcards/${t}/path`)).data,getWildcard:async t=>(await Cs.get(`/wildcards/${t}`)).data,createWildcard:async t=>(await Cs.post("/wildcards",t)).data,updateWildcard:async(t,e)=>(await Cs.put(`/wildcards/${t}`,e)).data,deleteWildcard:async(t,e=!1)=>(await Cs.delete(`/wildcards/${t}?cascade=${e}`)).data,parseWildcards:async t=>(await Cs.post("/wildcards/parse",t)).data,getStatistics:async()=>(await Cs.get("/wildcards/stats/summary")).data,checkCircularReference:async t=>(await Cs.get(`/wildcards/${t}/circular-check`)).data,scanLoraFolder:async t=>(await Cs.post("/wildcards/scan-lora-folder",t)).data,getLastScanLog:async()=>(await Cs.get("/wildcards/last-scan-log")).data};function s_({value:t,onChange:e,label:n,required:a,placeholder:i,multiline:r=!1,rows:o=4,disabled:s=!1}){const{t:c}=ht(["wildcards"]),u=E.useRef(null),[d,h]=E.useState(null),[m,g]=E.useState(!1),[y,v]=E.useState(""),[S,w]=E.useState(0),[_,T]=E.useState(-1),[A,R]=E.useState([]),[I,N]=E.useState([]),[P,O]=E.useState(!1),[D,H]=E.useState(0),[L,$]=E.useState([]),[M,z]=E.useState([]),[F,G]=E.useState(null);E.useEffect(()=>{(async()=>{O(!0);try{const fe=await Pc.getWildcardsHierarchical();if(fe.success){R(fe.data);const ue=fe.data.filter(le=>!le.is_auto_collected);z(ue)}const oe=await Pc.getAllWildcards(!1);oe.success&&N(oe.data)}catch(fe){console.error("Failed to load wildcards:",fe)}finally{O(!1)}})()},[]);const ee=de=>Math.floor(de/1e5),V=I.filter(de=>de.is_auto_collected);[...new Set(V.map(de=>ee(de.id)))].sort((de,fe)=>de-fe),V.filter(de=>{const fe=ee(de.id);return F!==null&&fe!==F?!1:de.name.toLowerCase().includes(y.toLowerCase())});const Y=de=>{const fe=[],oe=ue=>{ue.forEach(le=>{fe.push(le),le.children&&le.children.length>0&&oe(le.children)})};return oe(de),fe},K=A.filter(de=>!de.is_auto_collected),J=A.filter(de=>de.is_auto_collected),te=y?Y(D===0?K:J).filter(de=>de.name.toLowerCase().includes(y.toLowerCase())):M,re=de=>{$([...L,de]),z(de.children||[]),v("")},ne=()=>{if(L.length===0)return;const de=[...L];if(de.pop(),$(de),de.length===0)z(D===0?K:J);else{const fe=de[de.length-1];z(fe.children||[])}v("")},ce=de=>{if(de===-1)$([]),z(D===0?K:J);else{const fe=L.slice(0,de+1);$(fe);const oe=fe[fe.length-1];z(oe.children||[])}v("")},pe=de=>{const fe=de.target.value,oe=de.target.selectionStart||0;e(fe),w(oe);const ue=fe.substring(0,oe),le=ue.lastIndexOf("++");if(le!==-1){const Se=ue.substring(le+2);if(!Se.includes("++")){const Ie=le>0?ue.substring(le-2,le):"";if(le===0||Ie===", "||Ie.endsWith(",")){T(le),v(Se),h(de.target),g(!0);return}}}g(!1),T(-1),v("")},me=de=>{if(_===-1)return;const fe=t.substring(0,_),oe=t.substring(S),ue=`${fe}++${de}++${oe}`;e(ue);const le=_+de.length+4,Se=_;w(le),T(Se),v(""),setTimeout(()=>{u.current&&(u.current.focus(),u.current.setSelectionRange(le,le))},0)},ge=()=>{const de=t.substring(0,S),fe=t.substring(S),oe=`${de}, ++${fe}`;e(oe);const ue=S+4,le=S+2;w(ue),T(le),v(""),$([]),z(D===0?K:J),setTimeout(()=>{u.current&&(u.current.focus(),u.current.setSelectionRange(ue,ue))},0)},ye=()=>{if(_!==-1){const de=t.substring(_,S);if(de.startsWith("++")&&!de.endsWith("++")){const oe=t.substring(0,_),ue=t.substring(S),le=oe+ue;e(le),setTimeout(()=>{u.current&&(u.current.focus(),u.current.setSelectionRange(_,_))},0)}}g(!1),T(-1),v(""),G(null),$([]),z(D===0?K:J)},he=de=>{m&&de.key==="Escape"&&ye()};return l.jsxs(Z,{sx:{position:"relative"},children:[l.jsx(Tt,{inputRef:u,fullWidth:!0,multiline:r,rows:r?o:void 0,label:n,value:t,onChange:pe,onKeyDown:he,required:a,placeholder:i,disabled:s}),l.jsx(Gj,{open:m,anchorEl:d,placement:"bottom-start",style:{zIndex:1300,width:d?.clientWidth||400},children:l.jsx(uQ,{onClickAway:ye,children:l.jsxs(Gt,{elevation:8,sx:{maxHeight:400,overflow:"hidden",display:"flex",flexDirection:"column",border:2,borderColor:"primary.main",bgcolor:de=>de.palette.mode==="dark"?"rgba(0, 0, 0, 0.9)":"background.paper"},children:[l.jsxs(Z,{sx:{display:"flex",alignItems:"center",borderBottom:1,borderColor:"divider"},children:[l.jsxs(No,{value:D,onChange:(de,fe)=>{H(fe),G(null),$([]),z(fe===0?K:J),v("")},sx:{flex:1},children:[l.jsx(Cn,{label:c("wildcards:autocomplete.manualTab")}),l.jsx(Cn,{label:c("wildcards:autocomplete.autoTab")})]}),l.jsx(lt,{size:"small",onClick:ge,sx:{mr:.5},color:"primary",children:l.jsx(Vr,{fontSize:"small"})}),l.jsx(lt,{size:"small",onClick:ye,sx:{mr:1},children:l.jsx(Sf,{fontSize:"small"})})]}),P?l.jsx(Z,{sx:{p:3,display:"flex",justifyContent:"center"},children:l.jsx(Yt,{size:24})}):l.jsxs(Z,{sx:{overflow:"auto",maxHeight:320},children:[D===0&&l.jsxs(l.Fragment,{children:[l.jsxs(Z,{sx:{p:1,display:"flex",alignItems:"center",gap:.5,borderBottom:1,borderColor:"divider",flexWrap:"wrap"},children:[L.length>0&&l.jsx(lt,{size:"small",onClick:ne,children:l.jsx(cb,{fontSize:"small"})}),l.jsx(mt,{label:c("wildcards:autocomplete.root",{defaultValue:"Root"}),size:"small",onClick:()=>ce(-1),color:L.length===0?"primary":"default",sx:{cursor:"pointer"}}),L.map((de,fe)=>l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:.5},children:[l.jsx(Vh,{fontSize:"small",color:"action"}),l.jsx(mt,{label:de.name,size:"small",onClick:()=>ce(fe),color:fe===L.length-1?"primary":"default",sx:{cursor:"pointer"}})]},de.id))]}),l.jsx(Ms,{dense:!0,children:te.length===0?l.jsx(ie,{sx:{p:2,color:"text.secondary"},children:c("wildcards:autocomplete.noResults")}):te.map(de=>{const fe=de.children&&de.children.length>0;return l.jsxs(gp,{sx:{display:"flex",alignItems:"center","&:hover .navigate-icon":{opacity:1},"&:hover":{bgcolor:"rgba(25, 118, 210, 0.08)"}},children:[l.jsx(Ao,{sx:{minWidth:36},children:fe?l.jsx(cl,{fontSize:"small",color:"primary"}):l.jsx(nMe,{fontSize:"small",color:"action"})}),l.jsx(ar,{primary:de.name,secondary:de.description,onClick:()=>me(de.name),sx:{cursor:"pointer",flex:1}}),fe&&l.jsx(lt,{size:"small",className:"navigate-icon",onClick:oe=>{oe.stopPropagation(),re(de)},sx:{opacity:.5,transition:"opacity 0.2s"},children:l.jsx(Vh,{fontSize:"small"})})]},de.id)})})]}),D===1&&l.jsxs(l.Fragment,{children:[l.jsxs(Z,{sx:{p:1,display:"flex",alignItems:"center",gap:.5,borderBottom:1,borderColor:"divider",flexWrap:"wrap"},children:[L.length>0&&l.jsx(lt,{size:"small",onClick:ne,children:l.jsx(cb,{fontSize:"small"})}),l.jsx(mt,{label:c("wildcards:autocomplete.root",{defaultValue:"Root"}),size:"small",onClick:()=>ce(-1),color:L.length===0?"secondary":"default",sx:{cursor:"pointer"}}),L.map((de,fe)=>l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:.5},children:[l.jsx(Vh,{fontSize:"small",color:"action"}),l.jsx(mt,{label:de.name,size:"small",onClick:()=>ce(fe),color:fe===L.length-1?"secondary":"default",sx:{cursor:"pointer"}})]},de.id))]}),l.jsx(Ms,{dense:!0,children:te.length===0?l.jsx(ie,{sx:{p:2,color:"text.secondary"},children:c("wildcards:autocomplete.noResults")}):te.map(de=>{const fe=de.children&&de.children.length>0;return l.jsxs(gp,{sx:{display:"flex",alignItems:"center","&:hover .navigate-icon":{opacity:1},"&:hover":{bgcolor:"rgba(156, 39, 176, 0.08)"}},children:[l.jsx(Ao,{sx:{minWidth:36},children:fe?l.jsx(cl,{fontSize:"small",color:"secondary"}):l.jsx(vf,{fontSize:"small",sx:{color:"secondary.main"}})}),l.jsx(ar,{primary:l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:.5},children:[l.jsx("span",{children:de.name}),l.jsx(mt,{label:c("wildcards:autoCollect.autoCollectedBadge",{defaultValue:"Auto"}),size:"small",color:"secondary",sx:{height:16,fontSize:"0.6rem"}})]}),secondary:de.description,onClick:()=>me(de.name),sx:{cursor:"pointer",flex:1}}),fe&&l.jsx(lt,{size:"small",className:"navigate-icon",onClick:oe=>{oe.stopPropagation(),re(de)},sx:{opacity:.5,transition:"opacity 0.2s"},children:l.jsx(Vh,{fontSize:"small"})})]},de.id)})})]})]})]})})})]})}function _Qe(t){const e=yt.c(78),{open:n,onClose:a,onSave:i,editResolution:r}=t,{t:o}=ht("imageGeneration"),[s,c]=E.useState(""),[u,d]=E.useState(""),[h,m]=E.useState("");let g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g={},e[0]=g):g=e[0];const[y,v]=E.useState(g);let S;e[1]!==r?(S=()=>{r?(c(r.name),d(r.width.toString()),m(r.height.toString())):(c(""),d(""),m("")),v({})},e[1]=r,e[2]=S):S=e[2];let w;e[3]!==r||e[4]!==n?(w=[r,n],e[3]=r,e[4]=n,e[5]=w):w=e[5],E.useEffect(S,w);let _;e[6]!==h||e[7]!==s||e[8]!==o||e[9]!==u?(_=()=>{const fe={};s.trim()||(fe.name=o("nai.resolution.customDialog.nameRequired"));const oe=parseInt(u);(!u||isNaN(oe)||oe<64||oe>2048)&&(fe.width=o("nai.resolution.customDialog.widthInvalid"));const ue=parseInt(h);return(!h||isNaN(ue)||ue<64||ue>2048)&&(fe.height=o("nai.resolution.customDialog.heightInvalid")),v(fe),Object.keys(fe).length===0},e[6]=h,e[7]=s,e[8]=o,e[9]=u,e[10]=_):_=e[10];const T=_;let A;e[11]!==h||e[12]!==s||e[13]!==a||e[14]!==i||e[15]!==T||e[16]!==u?(A=()=>{T()&&(i({name:s.trim(),width:parseInt(u),height:parseInt(h)}),a())},e[11]=h,e[12]=s,e[13]=a,e[14]=i,e[15]=T,e[16]=u,e[17]=A):A=e[17];const R=A;let I;e[18]!==a?(I=()=>{v({}),a()},e[18]=a,e[19]=I):I=e[19];const N=I;let P;e[20]!==r||e[21]!==o?(P=o(r?"nai.resolution.customDialog.editTitle":"nai.resolution.customDialog.addTitle"),e[20]=r,e[21]=o,e[22]=P):P=e[22];let O;e[23]!==P?(O=l.jsx(Un,{children:P}),e[23]=P,e[24]=O):O=e[24];let D;e[25]===Symbol.for("react.memo_cache_sentinel")?(D={mt:.5},e[25]=D):D=e[25];let H;e[26]!==o?(H=o("nai.resolution.customDialog.name"),e[26]=o,e[27]=H):H=e[27];let L;e[28]===Symbol.for("react.memo_cache_sentinel")?(L=fe=>c(fe.target.value),e[28]=L):L=e[28];const $=!!y.name,M=y.name;let z;e[29]!==o?(z=o("nai.resolution.customDialog.namePlaceholder"),e[29]=o,e[30]=z):z=e[30];let F;e[31]!==y.name||e[32]!==s||e[33]!==H||e[34]!==$||e[35]!==z?(F=l.jsx(dn,{size:12,children:l.jsx(Tt,{fullWidth:!0,label:H,value:s,onChange:L,error:$,helperText:M,placeholder:z})}),e[31]=y.name,e[32]=s,e[33]=H,e[34]=$,e[35]=z,e[36]=F):F=e[36];let G;e[37]!==o?(G=o("nai.resolution.customDialog.width"),e[37]=o,e[38]=G):G=e[38];let ee;e[39]===Symbol.for("react.memo_cache_sentinel")?(ee=fe=>d(fe.target.value),e[39]=ee):ee=e[39];const V=!!y.width;let Y;e[40]===Symbol.for("react.memo_cache_sentinel")?(Y={min:64,max:2048,step:64},e[40]=Y):Y=e[40];let K;e[41]!==y.width||e[42]!==G||e[43]!==V||e[44]!==u?(K=l.jsx(dn,{size:6,children:l.jsx(Tt,{fullWidth:!0,type:"number",label:G,value:u,onChange:ee,error:V,helperText:y.width,inputProps:Y})}),e[41]=y.width,e[42]=G,e[43]=V,e[44]=u,e[45]=K):K=e[45];let J;e[46]!==o?(J=o("nai.resolution.customDialog.height"),e[46]=o,e[47]=J):J=e[47];let W;e[48]===Symbol.for("react.memo_cache_sentinel")?(W=fe=>m(fe.target.value),e[48]=W):W=e[48];const te=!!y.height;let re;e[49]===Symbol.for("react.memo_cache_sentinel")?(re={min:64,max:2048,step:64},e[49]=re):re=e[49];let ne;e[50]!==y.height||e[51]!==h||e[52]!==J||e[53]!==te?(ne=l.jsx(dn,{size:6,children:l.jsx(Tt,{fullWidth:!0,type:"number",label:J,value:h,onChange:W,error:te,helperText:y.height,inputProps:re})}),e[50]=y.height,e[51]=h,e[52]=J,e[53]=te,e[54]=ne):ne=e[54];let ce;e[55]!==F||e[56]!==K||e[57]!==ne?(ce=l.jsx($n,{children:l.jsxs(dn,{container:!0,spacing:2,sx:D,children:[F,K,ne]})}),e[55]=F,e[56]=K,e[57]=ne,e[58]=ce):ce=e[58];let pe;e[59]!==o?(pe=o("nai.resolution.customDialog.cancel"),e[59]=o,e[60]=pe):pe=e[60];let me;e[61]!==N||e[62]!==pe?(me=l.jsx(Ue,{onClick:N,children:pe}),e[61]=N,e[62]=pe,e[63]=me):me=e[63];let ge;e[64]!==o?(ge=o("nai.resolution.customDialog.save"),e[64]=o,e[65]=ge):ge=e[65];let ye;e[66]!==R||e[67]!==ge?(ye=l.jsx(Ue,{onClick:R,variant:"contained",children:ge}),e[66]=R,e[67]=ge,e[68]=ye):ye=e[68];let he;e[69]!==me||e[70]!==ye?(he=l.jsxs(Wn,{children:[me,ye]}),e[69]=me,e[70]=ye,e[71]=he):he=e[71];let de;return e[72]!==N||e[73]!==n||e[74]!==ce||e[75]!==he||e[76]!==O?(de=l.jsxs(Fn,{open:n,onClose:N,maxWidth:"xs",fullWidth:!0,children:[O,ce,he]}),e[72]=N,e[73]=n,e[74]=ce,e[75]=he,e[76]=O,e[77]=de):de=e[77],de}function TQe(t){const e=yt.c(94),{config:n,onChange:a,disabled:i}=t,r=i===void 0?!1:i,{t:o}=ht("imageGeneration"),[s,c]=E.useState(!1),[u,d]=E.useState();let h;e[0]!==n.customResolutions?(h=le=>{if(le in uf)return uf[le];const Se=n.customResolutions.find(_e=>`custom_${_e.id}`===le);if(Se)return{width:Se.width,height:Se.height}},e[0]=n.customResolutions,e[1]=h):h=e[1];const m=h;let g;e[2]!==n.swapDimensions?(g=le=>n.swapDimensions?{width:le.height,height:le.width}:le,e[2]=n.swapDimensions,e[3]=g):g=e[3];const y=g;let v;e[4]!==n.fixed||e[5]!==n.mode||e[6]!==n.random?(v=n.mode==="fixed"?[n.fixed]:n.random,e[4]=n.fixed,e[5]=n.mode,e[6]=n.random,e[7]=v):v=e[7];const S=v;let w;e[8]!==n||e[9]!==a||e[10]!==S?(w=le=>{if(S.includes(le)){const _e=S.filter(Ie=>Ie!==le);_e.length===0?a({...n,mode:"fixed",fixed:R6[0],random:[]}):_e.length===1?a({...n,mode:"fixed",fixed:_e[0],random:[]}):a({...n,mode:"random",random:_e})}else{const _e=[...S,le];_e.length===1?a({...n,mode:"fixed",fixed:_e[0],random:[]}):a({...n,mode:"random",random:_e})}},e[8]=n,e[9]=a,e[10]=S,e[11]=w):w=e[11];const _=w;let T;e[12]!==n||e[13]!==a?(T=()=>{a({...n,swapDimensions:!n.swapDimensions})},e[12]=n,e[13]=a,e[14]=T):T=e[14];const A=T;let R;e[15]!==n||e[16]!==a?(R=le=>{const Se=Date.now().toString(),_e={...le,id:Se};a({...n,customResolutions:[...n.customResolutions,_e]})},e[15]=n,e[16]=a,e[17]=R):R=e[17];const I=R;let N;e[18]!==n||e[19]!==u||e[20]!==a?(N=le=>{if(!u)return;const Se=n.customResolutions.map(_e=>_e.id===u.id?{...le,id:u.id}:_e);a({...n,customResolutions:Se}),d(void 0)},e[18]=n,e[19]=u,e[20]=a,e[21]=N):N=e[21];const P=N;let O;e[22]!==n||e[23]!==a?(O=le=>{const Se=`custom_${le}`;a({...n,customResolutions:n.customResolutions.filter(_e=>_e.id!==le),random:n.random.filter(_e=>_e!==Se),fixed:n.fixed===Se?R6[0]:n.fixed})},e[22]=n,e[23]=a,e[24]=O):O=e[24];const D=O;let H;e[25]===Symbol.for("react.memo_cache_sentinel")?(H=()=>{d(void 0),c(!0)},e[25]=H):H=e[25];const L=H;let $;e[26]!==n.fixed||e[27]!==n.mode||e[28]!==n.random||e[29]!==n.swapDimensions||e[30]!==y||e[31]!==m||e[32]!==o?($=()=>{const le=n.mode==="fixed"?[n.fixed]:n.random;if(le.length===0)return l.jsx(xt,{severity:"warning",sx:{mt:2},children:o("nai.resolution.selectAtLeastOne")});const Se=le.map(_e=>{const Ie=m(_e);if(!Ie)return null;const ze=y(Ie);return{key:_e,...ze}}).filter(Boolean);if(le.length===1){const _e=Se[0];return _e?l.jsx(xt,{severity:"info",sx:{mt:2},children:l.jsxs(cn,{direction:"row",spacing:1,alignItems:"center",children:[l.jsxs(ie,{variant:"body2",children:[o("nai.resolution.finalResolution"),":"]}),l.jsx(mt,{label:`${_e.width}${_e.height}`,color:"primary",size:"small"}),n.swapDimensions&&l.jsxs(ie,{variant:"caption",color:"text.secondary",children:["(",o("nai.resolution.swapped"),")"]})]})}):null}return l.jsxs(xt,{severity:"info",sx:{mt:2},children:[l.jsxs(ie,{variant:"body2",gutterBottom:!0,children:[o("nai.resolution.randomPool")," (",Se.length,"):"]}),l.jsx(Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mt:1},children:Se.map(EQe)})]})},e[26]=n.fixed,e[27]=n.mode,e[28]=n.random,e[29]=n.swapDimensions,e[30]=y,e[31]=m,e[32]=o,e[33]=$):$=e[33];const M=$;let z;e[34]===Symbol.for("react.memo_cache_sentinel")?(z={display:"flex",flexWrap:"wrap",gap:1,mt:1},e[34]=z):z=e[34];let F;e[35]!==r||e[36]!==_||e[37]!==S?(F=R6.map(le=>{const Se=S.includes(le);return l.jsx(mt,{label:le,onClick:()=>!r&&_(le),color:Se?"primary":"default",variant:Se?"filled":"outlined",disabled:r,sx:{cursor:r?"default":"pointer"}},le)}),e[35]=r,e[36]=_,e[37]=S,e[38]=F):F=e[38];let G;if(e[39]!==n.customResolutions||e[40]!==r||e[41]!==D||e[42]!==_||e[43]!==S){let le;e[45]!==r||e[46]!==D||e[47]!==_||e[48]!==S?(le=Se=>{const _e=`custom_${Se.id}`,Ie=S.includes(_e);return l.jsx(mt,{label:`${Se.width}${Se.height}`,onClick:()=>!r&&_(_e),color:Ie?"primary":"default",variant:Ie?"filled":"outlined",disabled:r,onDelete:r?void 0:()=>D(Se.id),deleteIcon:l.jsx(Wa,{}),sx:{cursor:r?"default":"pointer"}},_e)},e[45]=r,e[46]=D,e[47]=_,e[48]=S,e[49]=le):le=e[49],G=n.customResolutions.map(le),e[39]=n.customResolutions,e[40]=r,e[41]=D,e[42]=_,e[43]=S,e[44]=G}else G=e[44];let ee;e[50]===Symbol.for("react.memo_cache_sentinel")?(ee=l.jsx(Vr,{}),e[50]=ee):ee=e[50];let V;e[51]!==o?(V=o("nai.resolution.addCustom"),e[51]=o,e[52]=V):V=e[52];const Y=r?"default":"pointer";let K;e[53]!==Y?(K={cursor:Y},e[53]=Y,e[54]=K):K=e[54];let J;e[55]!==r||e[56]!==V||e[57]!==K?(J=l.jsx(mt,{icon:ee,label:V,onClick:L,disabled:r,variant:"outlined",sx:K}),e[55]=r,e[56]=V,e[57]=K,e[58]=J):J=e[58];let W;e[59]!==F||e[60]!==G||e[61]!==J?(W=l.jsxs(Z,{sx:z,children:[F,G,J]}),e[59]=F,e[60]=G,e[61]=J,e[62]=W):W=e[62];let te;e[63]===Symbol.for("react.memo_cache_sentinel")?(te=l.jsx(fn,{sx:{my:2}}),e[63]=te):te=e[63];let re;e[64]!==n.mode||e[65]!==o?(re=n.mode==="random"?o("nai.resolution.randomSwapInfo"):"",e[64]=n.mode,e[65]=o,e[66]=re):re=e[66];let ne;e[67]!==n.swapDimensions||e[68]!==r||e[69]!==A?(ne=l.jsx(Ai,{checked:n.swapDimensions,onChange:A,disabled:r}),e[67]=n.swapDimensions,e[68]=r,e[69]=A,e[70]=ne):ne=e[70];let ce;e[71]===Symbol.for("react.memo_cache_sentinel")?(ce=l.jsx(JOe,{fontSize:"small"}),e[71]=ce):ce=e[71];let pe;e[72]!==o?(pe=o("nai.resolution.swapDimensions"),e[72]=o,e[73]=pe):pe=e[73];let me;e[74]!==pe?(me=l.jsxs(cn,{direction:"row",spacing:1,alignItems:"center",children:[ce,l.jsx(Z,{children:l.jsx(ie,{variant:"body2",children:pe})})]}),e[74]=pe,e[75]=me):me=e[75];let ge;e[76]!==ne||e[77]!==me?(ge=l.jsx(wn,{control:ne,label:me}),e[76]=ne,e[77]=me,e[78]=ge):ge=e[78];let ye;e[79]!==re||e[80]!==ge?(ye=l.jsx(jt,{title:re,placement:"right",arrow:!0,children:ge}),e[79]=re,e[80]=ge,e[81]=ye):ye=e[81];let he;e[82]!==M?(he=M(),e[82]=M,e[83]=he):he=e[83];let de;e[84]===Symbol.for("react.memo_cache_sentinel")?(de=()=>{c(!1),d(void 0)},e[84]=de):de=e[84];const fe=u?P:I;let oe;e[85]!==s||e[86]!==u||e[87]!==fe?(oe=l.jsx(_Qe,{open:s,onClose:de,onSave:fe,editResolution:u}),e[85]=s,e[86]=u,e[87]=fe,e[88]=oe):oe=e[88];let ue;return e[89]!==W||e[90]!==ye||e[91]!==he||e[92]!==oe?(ue=l.jsxs(Z,{children:[W,te,ye,he,oe]}),e[89]=W,e[90]=ye,e[91]=he,e[92]=oe,e[93]=ue):ue=e[93],ue}function EQe(t){return l.jsx(mt,{label:`${t.width}${t.height}`,color:"primary",size:"small",variant:"outlined"},t.key)}function AQe(t){const e=yt.c(72),{params:n,onChange:a,disabled:i}=t,r=i===void 0?!1:i,{t:o}=ht("imageGeneration");let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={p:3},e[0]=s):s=e[0];let c;e[1]!==o?(c=o("nai.naiSettings.basic.title"),e[1]=o,e[2]=c):c=e[2];let u;e[3]!==c?(u=l.jsx(ie,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:c}),e[3]=c,e[4]=u):u=e[4];let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(fn,{sx:{mb:2}}),e[5]=d):d=e[5];let h;e[6]!==o?(h=o("nai.naiSettings.basic.model"),e[6]=o,e[7]=h):h=e[7];let m;e[8]!==h?(m=l.jsx(Nr,{children:h}),e[8]=h,e[9]=m):m=e[9];const g=n.model;let y;e[10]!==a||e[11]!==n?(y=Y=>a({...n,model:Y.target.value}),e[10]=a,e[11]=n,e[12]=y):y=e[12];let v;e[13]!==o?(v=o("nai.naiSettings.basic.model"),e[13]=o,e[14]=v):v=e[14];let S;e[15]===Symbol.for("react.memo_cache_sentinel")?(S=vQe.map(RQe),e[15]=S):S=e[15];let w;e[16]!==n.model||e[17]!==v||e[18]!==y?(w=l.jsx(Xi,{value:g,onChange:y,label:v,children:S}),e[16]=n.model,e[17]=v,e[18]=y,e[19]=w):w=e[19];let _;e[20]!==r||e[21]!==w||e[22]!==m?(_=l.jsx(dn,{size:12,children:l.jsxs(ri,{fullWidth:!0,disabled:r,children:[m,w]})}),e[20]=r,e[21]=w,e[22]=m,e[23]=_):_=e[23];let T;e[24]!==o?(T=o("nai.naiSettings.basic.resolution"),e[24]=o,e[25]=T):T=e[25];let A;e[26]!==T?(A=l.jsx(ie,{variant:"body2",gutterBottom:!0,fontWeight:"medium",children:T}),e[26]=T,e[27]=A):A=e[27];let R;e[28]!==a||e[29]!==n?(R=Y=>a({...n,resolutionConfig:Y}),e[28]=a,e[29]=n,e[30]=R):R=e[30];let I;e[31]!==r||e[32]!==n.resolutionConfig||e[33]!==R?(I=l.jsx(TQe,{config:n.resolutionConfig,onChange:R,disabled:r}),e[31]=r,e[32]=n.resolutionConfig,e[33]=R,e[34]=I):I=e[34];let N;e[35]!==A||e[36]!==I?(N=l.jsxs(dn,{size:12,children:[A,I]}),e[35]=A,e[36]=I,e[37]=N):N=e[37];let P;e[38]!==o?(P=o("nai.naiSettings.basic.prompt"),e[38]=o,e[39]=P):P=e[39];const O=n.prompt;let D;e[40]!==a||e[41]!==n?(D=Y=>a({...n,prompt:Y}),e[40]=a,e[41]=n,e[42]=D):D=e[42];let H;e[43]!==o?(H=o("nai.naiSettings.basic.promptPlaceholder"),e[43]=o,e[44]=H):H=e[44];let L;e[45]!==r||e[46]!==n.prompt||e[47]!==P||e[48]!==D||e[49]!==H?(L=l.jsx(dn,{size:12,children:l.jsx(s_,{multiline:!0,rows:4,label:P,value:O,onChange:D,placeholder:H,required:!0,disabled:r})}),e[45]=r,e[46]=n.prompt,e[47]=P,e[48]=D,e[49]=H,e[50]=L):L=e[50];let $;e[51]!==o?($=o("nai.naiSettings.basic.negativePrompt"),e[51]=o,e[52]=$):$=e[52];const M=n.negative_prompt;let z;e[53]!==a||e[54]!==n?(z=Y=>a({...n,negative_prompt:Y}),e[53]=a,e[54]=n,e[55]=z):z=e[55];let F;e[56]!==o?(F=o("nai.naiSettings.basic.negativePromptPlaceholder"),e[56]=o,e[57]=F):F=e[57];let G;e[58]!==r||e[59]!==n.negative_prompt||e[60]!==$||e[61]!==z||e[62]!==F?(G=l.jsx(dn,{size:12,children:l.jsx(s_,{multiline:!0,rows:2,label:$,value:M,onChange:z,placeholder:F,disabled:r})}),e[58]=r,e[59]=n.negative_prompt,e[60]=$,e[61]=z,e[62]=F,e[63]=G):G=e[63];let ee;e[64]!==_||e[65]!==N||e[66]!==L||e[67]!==G?(ee=l.jsxs(dn,{container:!0,spacing:2,children:[_,N,L,G]}),e[64]=_,e[65]=N,e[66]=L,e[67]=G,e[68]=ee):ee=e[68];let V;return e[69]!==ee||e[70]!==u?(V=l.jsxs(Gt,{sx:s,children:[u,d,ee]}),e[69]=ee,e[70]=u,e[71]=V):V=e[71],V}function RQe(t){return l.jsx(nn,{value:t.value,children:t.label},t.value)}function kQe(t){const e=yt.c(129),{params:n,onChange:a,disabled:i}=t,r=i===void 0?!1:i,{t:o}=ht("imageGeneration");let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={p:3},e[0]=s):s=e[0];let c;e[1]!==o?(c=o("nai.naiSettings.sampling.title"),e[1]=o,e[2]=c):c=e[2];let u;e[3]!==c?(u=l.jsx(ie,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:c}),e[3]=c,e[4]=u):u=e[4];let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(fn,{sx:{mb:2}}),e[5]=d):d=e[5];let h;e[6]!==o?(h=o("nai.naiSettings.sampling.sampler"),e[6]=o,e[7]=h):h=e[7];let m;e[8]!==h?(m=l.jsx(Nr,{children:h}),e[8]=h,e[9]=m):m=e[9];const g=n.sampler;let y;e[10]!==a||e[11]!==n?(y=ze=>a({...n,sampler:ze.target.value}),e[10]=a,e[11]=n,e[12]=y):y=e[12];let v;e[13]!==o?(v=o("nai.naiSettings.sampling.sampler"),e[13]=o,e[14]=v):v=e[14];let S;e[15]===Symbol.for("react.memo_cache_sentinel")?(S=SQe.map(NQe),e[15]=S):S=e[15];let w;e[16]!==n.sampler||e[17]!==v||e[18]!==y?(w=l.jsx(Xi,{value:g,onChange:y,label:v,children:S}),e[16]=n.sampler,e[17]=v,e[18]=y,e[19]=w):w=e[19];let _;e[20]!==r||e[21]!==w||e[22]!==m?(_=l.jsx(dn,{size:12,children:l.jsxs(ri,{fullWidth:!0,disabled:r,children:[m,w]})}),e[20]=r,e[21]=w,e[22]=m,e[23]=_):_=e[23];let T;e[24]!==o?(T=o("nai.naiSettings.sampling.noiseSchedule"),e[24]=o,e[25]=T):T=e[25];let A;e[26]!==T?(A=l.jsx(Nr,{children:T}),e[26]=T,e[27]=A):A=e[27];const R=n.noise_schedule;let I;e[28]!==a||e[29]!==n?(I=ze=>a({...n,noise_schedule:ze.target.value}),e[28]=a,e[29]=n,e[30]=I):I=e[30];let N;e[31]!==o?(N=o("nai.naiSettings.sampling.noiseSchedule"),e[31]=o,e[32]=N):N=e[32];let P;e[33]===Symbol.for("react.memo_cache_sentinel")?(P=CQe.map(IQe),e[33]=P):P=e[33];let O;e[34]!==n.noise_schedule||e[35]!==I||e[36]!==N?(O=l.jsx(Xi,{value:R,onChange:I,label:N,children:P}),e[34]=n.noise_schedule,e[35]=I,e[36]=N,e[37]=O):O=e[37];let D;e[38]!==r||e[39]!==A||e[40]!==O?(D=l.jsx(dn,{size:12,children:l.jsxs(ri,{fullWidth:!0,disabled:r,children:[A,O]})}),e[38]=r,e[39]=A,e[40]=O,e[41]=D):D=e[41];let H;e[42]!==o?(H=o("nai.naiSettings.sampling.steps"),e[42]=o,e[43]=H):H=e[43];let L;e[44]!==n.steps||e[45]!==H?(L=l.jsxs(ie,{gutterBottom:!0,children:[H,": ",n.steps]}),e[44]=n.steps,e[45]=H,e[46]=L):L=e[46];let $;e[47]!==a||e[48]!==n?($=(ze,Me)=>a({...n,steps:Me}),e[47]=a,e[48]=n,e[49]=$):$=e[49];let M;e[50]===Symbol.for("react.memo_cache_sentinel")?(M=[{value:15,label:"15"},{value:28,label:"28"},{value:40,label:"40"}],e[50]=M):M=e[50];let z;e[51]!==r||e[52]!==n.steps||e[53]!==$?(z=l.jsx(ki,{value:n.steps,onChange:$,min:1,max:50,marks:M,disabled:r}),e[51]=r,e[52]=n.steps,e[53]=$,e[54]=z):z=e[54];let F;e[55]!==L||e[56]!==z?(F=l.jsxs(dn,{size:12,children:[L,z]}),e[55]=L,e[56]=z,e[57]=F):F=e[57];let G;e[58]!==o?(G=o("nai.naiSettings.sampling.guidance"),e[58]=o,e[59]=G):G=e[59];let ee;e[60]!==n.scale||e[61]!==G?(ee=l.jsxs(ie,{gutterBottom:!0,children:[G,": ",n.scale]}),e[60]=n.scale,e[61]=G,e[62]=ee):ee=e[62];let V;e[63]!==a||e[64]!==n?(V=(ze,Me)=>a({...n,scale:Me}),e[63]=a,e[64]=n,e[65]=V):V=e[65];let Y;e[66]===Symbol.for("react.memo_cache_sentinel")?(Y=[{value:0,label:"0"},{value:5,label:"5"},{value:7,label:"7"}],e[66]=Y):Y=e[66];let K;e[67]!==r||e[68]!==n.scale||e[69]!==V?(K=l.jsx(ki,{value:n.scale,onChange:V,min:0,max:10,step:.1,marks:Y,disabled:r}),e[67]=r,e[68]=n.scale,e[69]=V,e[70]=K):K=e[70];let J;e[71]!==ee||e[72]!==K?(J=l.jsxs(dn,{size:12,children:[ee,K]}),e[71]=ee,e[72]=K,e[73]=J):J=e[73];let W;e[74]!==o?(W=o("nai.naiSettings.sampling.cfgRescale"),e[74]=o,e[75]=W):W=e[75];let te;e[76]!==n.cfg_rescale||e[77]!==W?(te=l.jsxs(ie,{gutterBottom:!0,children:[W,": ",n.cfg_rescale]}),e[76]=n.cfg_rescale,e[77]=W,e[78]=te):te=e[78];let re;e[79]!==a||e[80]!==n?(re=(ze,Me)=>a({...n,cfg_rescale:Me}),e[79]=a,e[80]=n,e[81]=re):re=e[81];let ne;e[82]===Symbol.for("react.memo_cache_sentinel")?(ne=[{value:0,label:"0"},{value:.2,label:"0.2"},{value:.5,label:"0.5"}],e[82]=ne):ne=e[82];let ce;e[83]!==r||e[84]!==n.cfg_rescale||e[85]!==re?(ce=l.jsx(ki,{value:n.cfg_rescale,onChange:re,min:0,max:1,step:.05,marks:ne,disabled:r}),e[83]=r,e[84]=n.cfg_rescale,e[85]=re,e[86]=ce):ce=e[86];let pe;e[87]!==te||e[88]!==ce?(pe=l.jsxs(dn,{size:12,children:[te,ce]}),e[87]=te,e[88]=ce,e[89]=pe):pe=e[89];let me;e[90]!==o?(me=o("nai.naiSettings.sampling.uncondScale"),e[90]=o,e[91]=me):me=e[91];let ge;e[92]!==n.uncond_scale||e[93]!==me?(ge=l.jsxs(ie,{gutterBottom:!0,children:[me,": ",n.uncond_scale]}),e[92]=n.uncond_scale,e[93]=me,e[94]=ge):ge=e[94];let ye;e[95]!==a||e[96]!==n?(ye=(ze,Me)=>a({...n,uncond_scale:Me}),e[95]=a,e[96]=n,e[97]=ye):ye=e[97];let he;e[98]===Symbol.for("react.memo_cache_sentinel")?(he=[{value:0,label:"0"},{value:1,label:"1"},{value:1.5,label:"1.5"}],e[98]=he):he=e[98];let de;e[99]!==r||e[100]!==n.uncond_scale||e[101]!==ye?(de=l.jsx(ki,{value:n.uncond_scale,onChange:ye,min:0,max:1.5,step:.05,marks:he,disabled:r}),e[99]=r,e[100]=n.uncond_scale,e[101]=ye,e[102]=de):de=e[102];let fe;e[103]!==ge||e[104]!==de?(fe=l.jsxs(dn,{size:12,children:[ge,de]}),e[103]=ge,e[104]=de,e[105]=fe):fe=e[105];let oe;e[106]!==a||e[107]!==n?(oe=ze=>a({...n,variety_plus:ze.target.checked}),e[106]=a,e[107]=n,e[108]=oe):oe=e[108];let ue;e[109]!==r||e[110]!==n.variety_plus||e[111]!==oe?(ue=l.jsx(Zs,{checked:n.variety_plus,onChange:oe,disabled:r}),e[109]=r,e[110]=n.variety_plus,e[111]=oe,e[112]=ue):ue=e[112];let le;e[113]!==o?(le=o("nai.naiSettings.sampling.varietyPlus"),e[113]=o,e[114]=le):le=e[114];let Se;e[115]!==ue||e[116]!==le?(Se=l.jsx(dn,{size:12,children:l.jsx(wn,{control:ue,label:le})}),e[115]=ue,e[116]=le,e[117]=Se):Se=e[117];let _e;e[118]!==_||e[119]!==D||e[120]!==F||e[121]!==J||e[122]!==pe||e[123]!==fe||e[124]!==Se?(_e=l.jsxs(dn,{container:!0,spacing:2,children:[_,D,F,J,pe,fe,Se]}),e[118]=_,e[119]=D,e[120]=F,e[121]=J,e[122]=pe,e[123]=fe,e[124]=Se,e[125]=_e):_e=e[125];let Ie;return e[126]!==u||e[127]!==_e?(Ie=l.jsxs(Gt,{sx:s,children:[u,d,_e]}),e[126]=u,e[127]=_e,e[128]=Ie):Ie=e[128],Ie}function IQe(t){return l.jsx(nn,{value:t.value,children:t.label},t.value)}function NQe(t){return l.jsx(nn,{value:t.value,children:t.label},t.value)}function jQe(t){const e=yt.c(20),{params:n,onChange:a,disabled:i}=t,r=i===void 0?!1:i,{t:o}=ht("imageGeneration");let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={p:3},e[0]=s):s=e[0];let c;e[1]!==o?(c=o("nai.naiSettings.output.title"),e[1]=o,e[2]=c):c=e[2];let u;e[3]!==c?(u=l.jsx(ie,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:c}),e[3]=c,e[4]=u):u=e[4];let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(fn,{sx:{mb:2}}),e[5]=d):d=e[5];let h;e[6]!==o?(h=o("nai.naiSettings.output.samples"),e[6]=o,e[7]=h):h=e[7];let m;e[8]!==a||e[9]!==n?(m=S=>a({...n,n_samples:parseInt(S.target.value)}),e[8]=a,e[9]=n,e[10]=m):m=e[10];let g;e[11]===Symbol.for("react.memo_cache_sentinel")?(g={min:1,max:8},e[11]=g):g=e[11];let y;e[12]!==r||e[13]!==n.n_samples||e[14]!==h||e[15]!==m?(y=l.jsx(dn,{container:!0,spacing:2,children:l.jsx(dn,{size:12,children:l.jsx(Tt,{fullWidth:!0,type:"number",label:h,value:n.n_samples,onChange:m,inputProps:g,disabled:r})})}),e[12]=r,e[13]=n.n_samples,e[14]=h,e[15]=m,e[16]=y):y=e[16];let v;return e[17]!==u||e[18]!==y?(v=l.jsxs(Gt,{sx:s,children:[u,d,y]}),e[17]=u,e[18]=y,e[19]=v):v=e[19],v}function DQe(t){const e=yt.c(12),{selectedGroup:n,onOpenModal:a,onRemoveGroup:i,disabled:r}=t,o=r===void 0?!1:r;let s,c;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={p:3},c=l.jsx(ie,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:" "}),e[0]=s,e[1]=c):(s=e[0],c=e[1]);let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsx(fn,{sx:{mb:2}}),e[2]=u):u=e[2];let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d={display:"flex",flexDirection:"column",gap:2},e[3]=d):d=e[3];let h;e[4]!==o||e[5]!==a||e[6]!==i||e[7]!==n?(h=n?l.jsx(Z,{sx:{display:"flex",alignItems:"center",gap:1},children:l.jsx(mt,{icon:l.jsx(Ps,{}),label:n.name,onDelete:i,color:"primary",sx:{flex:1}})}):l.jsx(Ue,{variant:"outlined",startIcon:l.jsx(Ps,{}),onClick:a,disabled:o,fullWidth:!0,children:" "}),e[4]=o,e[5]=a,e[6]=i,e[7]=n,e[8]=h):h=e[8];let m;e[9]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsx(ie,{variant:"caption",color:"text.secondary",children:"     "}),e[9]=m):m=e[9];let g;return e[10]!==h?(g=l.jsxs(Gt,{sx:s,children:[c,u,l.jsxs(Z,{sx:d,children:[h,m]})]}),e[10]=h,e[11]=g):g=e[11],g}function nte(t){const e=yt.c(52),{config:n,state:a,onConfigChange:i,onStop:r,namespace:o}=t,s=o===void 0?"imageGeneration":o;let c;e[0]!==s?(c=[s],e[0]=s,e[1]=c):c=e[1];const{t:u}=ht(c);let d;e[2]!==s?(d=z=>s==="imageGeneration"?`nai.repeat.${z}`:`repeat.${z}`,e[2]=s,e[3]=d):d=e[3];const h=d;let m;e[4]!==n||e[5]!==i?(m=z=>{i({...n,enabled:z})},e[4]=n,e[5]=i,e[6]=m):m=e[6];const g=m;let y;e[7]!==n||e[8]!==i?(y=z=>{const F=parseInt(z);!isNaN(F)&&F>=-1&&F<=999&&i({...n,count:F})},e[7]=n,e[8]=i,e[9]=y):y=e[9];const v=y;let S;e[10]!==n||e[11]!==i?(S=z=>{const F=parseInt(z);!isNaN(F)&&F>=1&&F<=300&&i({...n,delaySeconds:F})},e[10]=n,e[11]=i,e[12]=S):S=e[12];const w=S;let _,T;e[13]===Symbol.for("react.memo_cache_sentinel")?(_={display:"flex",alignItems:"center",gap:1,mb:2},T=l.jsx(VOe,{fontSize:"small"}),e[13]=_,e[14]=T):(_=e[13],T=e[14]);let A;e[15]!==h||e[16]!==u?(A=u(h("title")),e[15]=h,e[16]=u,e[17]=A):A=e[17];let R;e[18]!==A?(R=l.jsxs(Z,{sx:_,children:[T,l.jsx(ie,{variant:"subtitle1",fontWeight:"bold",children:A})]}),e[18]=A,e[19]=R):R=e[19];let I;e[20]===Symbol.for("react.memo_cache_sentinel")?(I=l.jsx(fn,{sx:{mb:2}}),e[20]=I):I=e[20];let N;e[21]===Symbol.for("react.memo_cache_sentinel")?(N={display:"flex",flexDirection:"column",gap:2},e[21]=N):N=e[21];let P;e[22]!==g?(P=z=>g(z.target.checked),e[22]=g,e[23]=P):P=e[23];let O;e[24]!==n.enabled||e[25]!==a.isRunning||e[26]!==P?(O=l.jsx(Zs,{checked:n.enabled,onChange:P,disabled:a.isRunning}),e[24]=n.enabled,e[25]=a.isRunning,e[26]=P,e[27]=O):O=e[27];let D;e[28]!==h||e[29]!==u?(D=u(h("enable")),e[28]=h,e[29]=u,e[30]=D):D=e[30];let H;e[31]!==O||e[32]!==D?(H=l.jsx(wn,{control:O,label:D}),e[31]=O,e[32]=D,e[33]=H):H=e[33];let L;e[34]!==n.count||e[35]!==n.delaySeconds||e[36]!==n.enabled||e[37]!==h||e[38]!==v||e[39]!==w||e[40]!==r||e[41]!==a.currentIteration||e[42]!==a.isRunning||e[43]!==a.totalIterations||e[44]!==u?(L=n.enabled&&l.jsxs(l.Fragment,{children:[l.jsx(Tt,{fullWidth:!0,type:"number",label:u(h("count")),value:n.count,onChange:z=>v(z.target.value),disabled:a.isRunning,inputProps:{min:-1,max:999},helperText:n.count===-1?u(h("infinite")):u(h("countHelp"))}),l.jsx(Tt,{fullWidth:!0,type:"number",label:u(h("delay")),value:n.delaySeconds,onChange:z=>w(z.target.value),disabled:a.isRunning,inputProps:{min:1,max:300},helperText:u(h("delayHelp"))}),a.isRunning&&l.jsxs(Z,{children:[l.jsx(Z,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:l.jsx(mt,{label:n.count===-1?u(h("progress"),{current:a.currentIteration}):u(h("progressWithTotal"),{current:a.currentIteration,total:a.totalIterations}),color:"primary",size:"small"})}),l.jsx(Ue,{fullWidth:!0,variant:"outlined",color:"error",startIcon:l.jsx(ZOe,{}),onClick:r,children:u(h("stop"))})]})]}),e[34]=n.count,e[35]=n.delaySeconds,e[36]=n.enabled,e[37]=h,e[38]=v,e[39]=w,e[40]=r,e[41]=a.currentIteration,e[42]=a.isRunning,e[43]=a.totalIterations,e[44]=u,e[45]=L):L=e[45];let $;e[46]!==H||e[47]!==L?($=l.jsxs(Z,{sx:N,children:[H,L]}),e[46]=H,e[47]=L,e[48]=$):$=e[48];let M;return e[49]!==R||e[50]!==$?(M=l.jsxs(Z,{children:[R,I,$]}),e[49]=R,e[50]=$,e[51]=M):M=e[51],M}const OQe=t=>{const e=t.service_type==="comfyui";let n={};try{t.metadata&&typeof t.metadata=="string"&&(n=JSON.parse(t.metadata))}catch(v){console.warn("Failed to parse history metadata:",v)}const a=e?n.steps:t.nai_steps,i=e?n.cfg_scale:t.nai_scale,r=e?n.sampler:t.nai_sampler,o=e?n.seed:t.nai_seed?Number(t.nai_seed):null,s=e?n.scheduler:null,c=e?n.model:t.nai_model,u=t.actual_composite_hash??null,d=!!u;u||console.log("[History Adapter] composite_hash is null for history:",{id:t.id,service_type:t.service_type,original_path:t.original_path,actual_composite_hash:t.actual_composite_hash}),!d&&!t.original_path&&console.warn(`[History Adapter] History ${t.id} has no valid image paths:`,{id:t.id,service_type:t.service_type,generation_status:t.generation_status,hasMetadata:d,actual_composite_hash:t.actual_composite_hash,original_path:t.original_path});const h=v=>{if(!v)return{file_type:"image",mime_type:"image/png"};const S=v.toLowerCase().split(".").pop()||"";return S==="gif"?{file_type:"animated",mime_type:"image/gif"}:S==="apng"?{file_type:"animated",mime_type:"image/apng"}:["mp4","webm","mov","avi"].includes(S)?{file_type:"video",mime_type:{mp4:"video/mp4",webm:"video/webm",mov:"video/quicktime",avi:"video/x-msvideo"}[S]||"video/mp4"}:{file_type:"image",mime_type:{png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",webp:"image/webp",bmp:"image/bmp",tiff:"image/tiff",tif:"image/tiff"}[S]||"image/png"}},{file_type:m,mime_type:g}=h(t.original_path);let y=null;if(t.actual_auto_tags)try{y=typeof t.actual_auto_tags=="string"?JSON.parse(t.actual_auto_tags):t.actual_auto_tags}catch(v){console.warn("Failed to parse auto_tags:",v)}return{composite_hash:u,first_seen_date:t.created_at??null,file_id:null,file_type:m,original_file_path:t.original_path??null,file_size:t.file_size??null,mime_type:g,file_status:"active",width:d?t.actual_width??t.width??0:t.width??0,height:d?t.actual_height??t.height??0:t.height??0,thumbnail_path:"",ai_tool:e?"ComfyUI":"NovelAI",model_name:c||null,lora_models:null,steps:a||null,cfg_scale:i||null,sampler:r||null,seed:o,scheduler:s||null,prompt:t.positive_prompt||null,negative_prompt:t.negative_prompt||null,denoise_strength:null,generation_time:null,batch_size:null,batch_index:null,auto_tags:y,rating_score:null,perceptual_hash:null,dhash:null,ahash:null,color_histogram:null,duration:null,fps:null,video_codec:null,audio_codec:null,bitrate:null,thumbnail_url:d&&u?`/api/images/${u}/thumbnail`:B4(t.original_path)||null,image_url:d&&u?`/api/images/${u}/file`:B4(t.original_path)||null,groups:[],ai_metadata:{ai_tool:e?"ComfyUI":"NovelAI",model_name:c||null,lora_models:null,generation_params:{steps:a||null,cfg_scale:i||null,sampler:r||null,seed:o,scheduler:s||null,denoise_strength:null,generation_time:null,batch_size:null,batch_index:null},prompts:{prompt:t.positive_prompt||null,negative_prompt:t.negative_prompt||null}}}},TH=t=>t.map(OQe),MQe=t=>{const e=yt.c(91),{image:n,onClick:a,selected:i,selectable:r,onSelectionChange:o,onDelete:s,serviceType:c}=t,u=i===void 0?!1:i,d=r===void 0?!1:r,[h,m]=E.useState(!1),[g,y]=E.useState(!1),[v,S]=E.useState(!1),[w,_]=E.useState(!1),T=E.useRef(null);let A;e[0]===Symbol.for("react.memo_cache_sentinel")?(A=Zc(),e[0]=A):A=e[0];const R=A,I=n.file_type==="animated",N=n.file_type==="video";let P;e[1]!==n.composite_hash?(P=n.composite_hash&&!n.composite_hash.startsWith("history_"),e[1]=n.composite_hash,e[2]=P):P=e[2];const O=P,D=PQe;let H;e[3]!==O||e[4]!==n.composite_hash||e[5]!==n.image_url||e[6]!==n.thumbnail_url?(H=()=>n.image_url&&n.image_url!==n.thumbnail_url?D(n.image_url)?n.image_url:`${R}${n.image_url}`:O?`${R}/api/images/${n.composite_hash}/file`:null,e[3]=O,e[4]=n.composite_hash,e[5]=n.image_url,e[6]=n.thumbnail_url,e[7]=H):H=e[7];const L=H;let $;e[8]!==L||e[9]!==O||e[10]!==n.composite_hash||e[11]!==n.image_url||e[12]!==n.thumbnail_url||e[13]!==w||e[14]!==I||e[15]!==N?($=w?L():I||N?n.image_url?D(n.image_url)?n.image_url:`${R}${n.image_url}`:O?`${R}/api/images/${n.composite_hash}/file`:null:n.thumbnail_url?D(n.thumbnail_url)?n.thumbnail_url:`${R}${n.thumbnail_url}`:O?`${R}/api/images/${n.composite_hash}/thumbnail`:L(),e[8]=L,e[9]=O,e[10]=n.composite_hash,e[11]=n.image_url,e[12]=n.thumbnail_url,e[13]=w,e[14]=I,e[15]=N,e[16]=$):$=e[16];const M=$,z=`data:image/svg+xml,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 24 24">
        <rect width="24" height="24" fill="#1a1a1a"/>
        <path fill="#666" d="M21 5v6.59l-3-3.01-4 4.01-4-4-4 4-3-3.01V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2zm-3 6.42l3 3.01V19c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2v-6.58l3 2.99 4-4 4 4 4-3.99z"/>
      </svg>`)}`,G=`/placeholders/folder-overlay-${Math.floor(Math.random()*12)+1}.webp`;let ee;e[17]!==n.composite_hash||e[18]!==o?(ee=Fe=>{Fe.stopPropagation(),o&&n.composite_hash&&o(n.composite_hash,Fe)},e[17]=n.composite_hash,e[18]=o,e[19]=ee):ee=e[19];const V=ee;let Y;e[20]!==a?(Y=Fe=>{Fe.target.closest(".image-card-actions")||a()},e[20]=a,e[21]=Y):Y=e[21];const K=Y;let J;e[22]!==n.composite_hash||e[23]!==s?(J=Fe=>{Fe.stopPropagation(),s&&n.composite_hash&&s(n.composite_hash)},e[22]=n.composite_hash,e[23]=s,e[24]=J):J=e[24];const W=J,te=n.width&&n.height?n.width/n.height:1;let re,ne;e[25]===Symbol.for("react.memo_cache_sentinel")?(re=()=>{if(!T.current)return;const Fe=new IntersectionObserver(Ve=>{Ve.forEach(rt=>{rt.isIntersecting&&(y(!0),Fe.disconnect())})},{rootMargin:"50px"});return Fe.observe(T.current),()=>{Fe.disconnect()}},ne=[],e[25]=re,e[26]=ne):(re=e[25],ne=e[26]),E.useEffect(re,ne);let ce;e[27]===Symbol.for("react.memo_cache_sentinel")?(ce=()=>{m(!0)},e[27]=ce):ce=e[27];const pe=ce;let me;e[28]!==c?(me=()=>c?l.jsx(mt,{label:c==="comfyui"?"ComfyUI":"NovelAI",size:"small",sx:{fontSize:"0.7rem",height:"22px",fontWeight:600,bgcolor:"rgba(0, 0, 0, 0.75)",color:"white",backdropFilter:"blur(4px)"}}):null,e[28]=c,e[29]=me):me=e[29];const ge=me;let ye,he;e[30]===Symbol.for("react.memo_cache_sentinel")?(ye=()=>S(!0),he=()=>S(!1),e[30]=ye,e[31]=he):(ye=e[30],he=e[31]);const de=u?3:1,fe=u?"primary.main":"divider";let oe;e[32]===Symbol.for("react.memo_cache_sentinel")?(oe={transform:"translateY(-4px)",boxShadow:6},e[32]=oe):oe=e[32];let ue;e[33]!==de||e[34]!==fe?(ue={cursor:"pointer",transition:"all 0.2s ease-in-out",position:"relative",border:de,borderColor:fe,"&:hover":oe},e[33]=de,e[34]=fe,e[35]=ue):ue=e[35];let le;e[36]!==V||e[37]!==v||e[38]!==d||e[39]!==u?(le=d&&l.jsx(Z,{className:"image-card-actions",sx:{position:"absolute",top:8,left:8,zIndex:2,opacity:v||u?1:.3,transition:"opacity 0.2s ease-in-out"},onClick:V,children:u?l.jsx(po,{sx:{fontSize:32,color:"primary.main",bgcolor:"white",borderRadius:"50%",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"}}):l.jsx(Z,{sx:{width:32,height:32,borderRadius:"50%",border:"2px solid white",bgcolor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease-in-out","&:hover":{bgcolor:"rgba(0, 0, 0, 0.7)",transform:"scale(1.1)"}}})}),e[36]=V,e[37]=v,e[38]=d,e[39]=u,e[40]=le):le=e[40];let Se;e[41]!==u?(Se=u&&l.jsx(Z,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(33, 150, 243, 0.15)",zIndex:1,pointerEvents:"none"}}),e[41]=u,e[42]=Se):Se=e[42];let _e;e[43]!==te||e[44]!==I||e[45]!==N?(_e={position:"relative",width:"100%",...N||I?{}:{paddingTop:`${1/te*100}%`},overflow:"hidden",bgcolor:"grey.200"},e[43]=te,e[44]=I,e[45]=N,e[46]=_e):_e=e[46];let Ie;e[47]!==w||e[48]!==h||e[49]!==M?(Ie=!h&&!w&&M&&l.jsx(zc,{variant:"rectangular",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),e[47]=w,e[48]=h,e[49]=M,e[50]=Ie):Ie=e[50];let ze;e[51]!==w||e[52]!==M?(ze=(!M||w&&!M)&&l.jsxs(Z,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1},children:[l.jsx(ho,{component:"img",image:z,alt:"Processing image",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",opacity:.4}}),l.jsx(Z,{component:"img",src:G,alt:"Placeholder",sx:{position:"absolute",top:"58%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",height:"auto",maxWidth:"200px",opacity:.8,objectFit:"contain"}})]}),e[51]=w,e[52]=M,e[53]=ze):ze=e[53];let Me;e[54]!==n.original_file_path||e[55]!==h||e[56]!==M||e[57]!==I||e[58]!==N||e[59]!==g?(Me=g&&M&&(N?l.jsx(Z,{component:"video",src:M,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,onLoadedData:pe,onError:()=>{console.error(`Failed to load video: ${M}`),_(!0)},sx:{width:"100%",height:"auto",display:"block",opacity:h?1:0,transition:"opacity 0.15s ease-in-out"}}):I?l.jsx(ho,{component:"img",image:M,alt:n.original_file_path??"",loading:"lazy",decoding:"async",draggable:!1,onLoad:pe,onError:()=>{console.error(`Failed to load GIF: ${M}`),_(!0)},sx:{width:"100%",height:"auto",display:"block",opacity:h?1:0,transition:"opacity 0.15s ease-in-out"}}):l.jsx(ho,{component:"img",image:M,alt:n.original_file_path??"",loading:"lazy",decoding:"async",draggable:!1,onLoad:pe,onError:()=>{console.error(`Failed to load image: ${M}`),_(!0)},sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain",display:"block",opacity:h?1:0,transition:"opacity 0.15s ease-in-out"}})),e[54]=n.original_file_path,e[55]=h,e[56]=M,e[57]=I,e[58]=N,e[59]=g,e[60]=Me):Me=e[60];let Ze;e[61]!==_e||e[62]!==Ie||e[63]!==ze||e[64]!==Me?(Ze=l.jsxs(Z,{sx:_e,children:[Ie,ze,Me]}),e[61]=_e,e[62]=Ie,e[63]=ze,e[64]=Me,e[65]=Ze):Ze=e[65];let Ee;e[66]===Symbol.for("react.memo_cache_sentinel")?(Ee={position:"absolute",top:8,right:8,zIndex:1,display:"flex",flexDirection:"column",gap:.5,alignItems:"flex-end"},e[66]=Ee):Ee=e[66];let Ne;e[67]!==ge?(Ne=ge(),e[67]=ge,e[68]=Ne):Ne=e[68];let ve;e[69]!==W||e[70]!==v||e[71]!==s?(ve=s&&v&&l.jsx(lt,{className:"image-card-actions",onClick:W,size:"small",sx:{bgcolor:"rgba(244, 67, 54, 0.9)",color:"white",backdropFilter:"blur(4px)","&:hover":{bgcolor:"rgba(211, 47, 47, 1)"},width:32,height:32},children:l.jsx(Wa,{sx:{fontSize:"1rem"}})}),e[69]=W,e[70]=v,e[71]=s,e[72]=ve):ve=e[72];let we;e[73]!==Ne||e[74]!==ve?(we=l.jsxs(Z,{sx:Ee,children:[Ne,ve]}),e[73]=Ne,e[74]=ve,e[75]=we):we=e[75];let Oe;e[76]!==n.prompt||e[77]!==v?(Oe=n.prompt&&v&&l.jsx(Z,{sx:{position:"absolute",bottom:0,left:0,right:0,zIndex:1,bgcolor:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(4px)",p:1,maxHeight:"80px",overflow:"hidden"},children:l.jsx(ie,{variant:"caption",sx:{color:"white",fontSize:"0.7rem",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:n.prompt})}),e[76]=n.prompt,e[77]=v,e[78]=Oe):Oe=e[78];let Le;e[79]!==n.height||e[80]!==n.width?(Le=n.width&&n.height&&l.jsx(Z,{sx:{position:"absolute",bottom:8,left:8,zIndex:1},children:l.jsx(mt,{label:`${n.width}  ${n.height}`,size:"small",sx:{fontSize:"0.65rem",height:"20px",fontWeight:600,bgcolor:"rgba(0, 0, 0, 0.65)",color:"white",backdropFilter:"blur(4px)"}})}),e[79]=n.height,e[80]=n.width,e[81]=Le):Le=e[81];let We;return e[82]!==K||e[83]!==ue||e[84]!==le||e[85]!==Se||e[86]!==Ze||e[87]!==we||e[88]!==Oe||e[89]!==Le?(We=l.jsxs(ma,{ref:T,onClick:K,onMouseEnter:ye,onMouseLeave:he,sx:ue,children:[le,Se,Ze,we,Oe,Le]}),e[82]=K,e[83]=ue,e[84]=le,e[85]=Se,e[86]=Ze,e[87]=we,e[88]=Oe,e[89]=Le,e[90]=We):We=e[90],We};function PQe(t){return t&&(t.startsWith("http://")||t.startsWith("https://"))}const ate=({serviceType:t,workflowId:e,refreshKey:n})=>{const{t:a}=ht(),[i,r]=E.useState([]),[o,s]=E.useState([]),[c,u]=E.useState(!0),[d,h]=E.useState(!0),[m,g]=E.useState(1),[y,v]=E.useState(!1),[S,w]=E.useState(0),[_,T]=E.useState(new Set),[A,R]=E.useState(null),[I,N]=E.useState(!1),[P,O]=E.useState(!1),[D,H]=E.useState(!1),[L,$]=E.useState(0),M=50,z={default:3,1536:3,1200:3,900:2,600:2};E.useEffect(()=>{console.log(" [GenerationHistory] useEffect triggered - refreshKey:",n,"localRefreshKey:",L,"serviceType:",t,"workflowId:",e),(async()=>{try{console.log(" [GenerationHistory] Loading history..."),u(!0),g(1);const he=L>0||n!==void 0&&n>0;let de;e?(console.log(" [GenerationHistory] Fetching by workflow:",e,"bustCache:",he),de=await Hu.getByWorkflow(e,{limit:M,offset:0,bustCache:he})):(console.log(" [GenerationHistory] Fetching all for serviceType:",t,"bustCache:",he),de=await Hu.getAll({service_type:t,limit:M,offset:0,bustCache:he}));const fe=de.records||[];console.log(" [GenerationHistory] Fetched",fe.length,"records"),console.log(" [GenerationHistory] Record IDs:",fe.map(ue=>`${ue.id}:${ue.generation_status}`).join(", ")),h(fe.length>=M);const oe=TH(fe);r([...fe]),s([...oe]),console.log(" [GenerationHistory] State updated with new records"),console.log(" [GenerationHistory] Component should re-render now with",oe.length,"items")}catch(he){console.error(" [GenerationHistory] Failed to load generation history:",he),h(!1)}finally{u(!1)}})()},[t,e,n,L]),E.useEffect(()=>{if(m<=1)return;(async()=>{try{u(!0);let he;e?he=await Hu.getByWorkflow(e,{limit:M,offset:(m-1)*M}):he=await Hu.getAll({service_type:t,limit:M,offset:(m-1)*M});const de=he.records||[];h(de.length>=M);const fe=TH(de);r(oe=>[...oe,...de]),s(oe=>[...oe,...fe])}catch(he){console.error("Failed to load more generation history:",he),h(!1)}finally{u(!1)}})()},[m,e,t]);const F=E.useCallback(()=>{!c&&d&&g(ye=>ye+1)},[c,d]),G=()=>{console.log(" [GenerationHistory] MANUAL REFRESH CLICKED - Current localRefreshKey:",L),T(new Set),R(null),$(ye=>{const he=ye+1;return console.log(" [GenerationHistory] Setting new localRefreshKey:",he),he})},ee=async ye=>{if(confirm(a("generationHistory:deleteConfirm")))try{await Hu.delete(ye),G()}catch(he){console.error("Failed to delete history:",he),alert(a("generationHistory:deleteFailed"))}},V=ye=>{w(ye),v(!0)},Y=ye=>{w(ye)},K=()=>{const ye=new Set(i.map(he=>he.id));T(ye)},J=()=>{T(new Set),R(null)},W=(ye,he)=>{const de=i.findIndex(fe=>fe.id===ye);if(he?.shiftKey&&A!==null){const fe=Math.min(A,de),oe=Math.max(A,de),ue=new Set(_);for(let le=fe;le<=oe;le++)ue.add(i[le].id);T(ue)}else if(he?.ctrlKey||he?.metaKey){const fe=new Set(_);fe.has(ye)?fe.delete(ye):fe.add(ye),T(fe),R(de)}else{const fe=new Set(_);fe.has(ye)?fe.delete(ye):fe.add(ye),T(fe),R(de)}},te=async()=>{if(_.size!==0)try{await Promise.all(Array.from(_).map(ye=>Hu.delete(ye))),T(new Set),R(null),N(!1),G()}catch(ye){console.error("Failed to delete histories:",ye),alert(a("generationHistory:bulkDeleteFailed"))}},re=()=>{N(!0)},ne=()=>{N(!1)},ce=async()=>{H(!0);try{const ye=await Hu.cleanupFailed(!1);O(!1),G(),ye.deleted>0?alert(a("generationHistory:cleanupSuccess",{count:ye.deleted})):alert(a("generationHistory:noFailedRecords"))}catch(ye){console.error("Failed to cleanup failed records:",ye),alert(a("generationHistory:cleanupFailed"))}finally{H(!1)}},pe=()=>{O(!0)},me=()=>{O(!1)},ge=i.filter(ye=>ye.generation_status==="failed").length;return c&&o.length===0?l.jsx(Z,{sx:{width:"100%",p:2},children:l.jsx(Z,{sx:{textAlign:"center",py:8},children:l.jsx(ie,{variant:"h6",color:"text.secondary",children:a("generationHistory:loading")})})}):o.length===0?l.jsx(Z,{sx:{width:"100%",p:2},children:l.jsxs(Z,{sx:{textAlign:"center",py:8},children:[l.jsx(ie,{variant:"h6",color:"text.secondary",children:a("generationHistory:noHistory")}),l.jsx(ie,{variant:"body2",color:"text.secondary",sx:{mt:1},children:a("generationHistory:noHistoryDescription")})]})}):l.jsxs(Z,{sx:{width:"100%",p:2},children:[l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[l.jsxs(ie,{variant:"h6",sx:{fontWeight:600},children:[a("generationHistory:title")," (",o.length,")"]}),l.jsxs(Z,{sx:{display:"flex",gap:1},children:[ge>0&&l.jsxs(Ue,{variant:"outlined",size:"small",color:"warning",startIcon:l.jsx(wOe,{}),onClick:pe,sx:{textTransform:"none"},children:[a("generationHistory:cleanupFailed")," (",ge,")"]}),l.jsx(Ue,{variant:"outlined",size:"small",startIcon:l.jsx(jo,{}),onClick:G,sx:{textTransform:"none"},children:a("common:refresh")})]})]}),_.size>0&&l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:1,mb:2,p:1.5,bgcolor:"action.hover",borderRadius:1},children:[l.jsx(ie,{variant:"body2",sx:{fontWeight:600,mr:1},children:a("common:bulkActions.selectedCount",{count:_.size})}),l.jsx(Ue,{size:"small",startIcon:l.jsx(UQ,{}),onClick:K,disabled:_.size===i.length,children:a("common:buttons.selectAll")}),l.jsx(Ue,{size:"small",startIcon:l.jsx(MQ,{}),onClick:J,children:a("common:buttons.deselectAll")}),l.jsx(Z,{sx:{flex:1}}),l.jsx(Ue,{size:"small",variant:"contained",color:"error",startIcon:l.jsx(Wa,{}),onClick:re,children:a("generationHistory:deleteSelected",{count:_.size})})]}),l.jsx(YQ,{dataLength:o.length,next:F,hasMore:d,loader:l.jsx(Z,{sx:{mt:2,width:"100%"},children:l.jsx(Z,{sx:{textAlign:"center",py:2},children:l.jsx(ie,{variant:"body2",color:"text.secondary",children:a("generationHistory:loadingMore")})})}),endMessage:l.jsx(Z,{sx:{textAlign:"center",py:4,mt:2},children:l.jsx(ie,{variant:"body2",color:"text.secondary",children:a("generationHistory:allLoaded")})}),scrollThreshold:.8,style:{overflow:"visible"},children:l.jsx(F4,{breakpointCols:z,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:o.map((ye,he)=>{const de=i[he];return l.jsx(MQe,{image:ye,onClick:()=>V(he),generationStatus:de.generation_status,serviceType:de.service_type,onDelete:()=>ee(de.id),selectable:!0,selected:_.has(de.id),onSelectionChange:(fe,oe)=>W(de.id,oe)},ye.file_id?`file-${ye.file_id}-${n||0}-${L}`:`hash-${ye.composite_hash}-${he}-${n||0}-${L}`)})})}),l.jsx(p5,{open:y,onClose:()=>v(!1),image:o[S]||null,images:o,currentIndex:S,onImageChange:Y,isHistoryContext:!0,historyRecord:i[S]}),l.jsxs(Fn,{open:I,onClose:ne,maxWidth:"xs",fullWidth:!0,children:[l.jsx(Un,{children:a("generationHistory:deleteDialog.title")}),l.jsx($n,{children:l.jsxs(rc,{children:[a("generationHistory:deleteDialog.confirm",{count:_.size}),l.jsx("br",{}),a("generationHistory:deleteDialog.warning")]})}),l.jsxs(Wn,{children:[l.jsx(Ue,{onClick:ne,children:a("common:actions.cancel")}),l.jsx(Ue,{onClick:te,color:"error",variant:"contained",children:a("common:actions.delete")})]})]}),l.jsxs(Fn,{open:P,onClose:me,maxWidth:"xs",fullWidth:!0,children:[l.jsx(Un,{children:a("generationHistory:cleanupFailedTitle")}),l.jsx($n,{children:l.jsxs(rc,{children:[a("generationHistory:cleanupFailedConfirm",{count:ge}),l.jsx("br",{}),l.jsx("br",{}),a("generationHistory:cleanupFailedNote")]})}),l.jsxs(Wn,{children:[l.jsx(Ue,{onClick:me,disabled:D,children:a("common:actions.cancel")}),l.jsx(Ue,{onClick:ce,color:"warning",variant:"contained",disabled:D,children:a(D?"generationHistory:cleaning":"generationHistory:cleanup")})]})]})]})};function LQe(){const[t,e]=E.useState(n);function n(){try{const a=localStorage.getItem(wH);if(a){const i=JSON.parse(a),{prompt:r,negative_prompt:o,...s}=i;return!s.resolutionConfig&&s.resolution&&(s.resolutionConfig={...pN,fixed:s.resolution}),{..._H,...s,resolutionConfig:s.resolutionConfig||pN,prompt:"",negative_prompt:""}}}catch(a){console.error("Failed to load saved params:",a)}return{..._H}}return E.useEffect(()=>{try{const{prompt:a,negative_prompt:i,...r}=t;localStorage.setItem(wH,JSON.stringify(r))}catch(a){console.error("Failed to save params:",a)}},[t]),{params:t,setParams:e,updateParam:(a,i)=>{e(r=>({...r,[a]:i}))}}}function zQe(){const[t,e]=E.useState(null),[n,a]=E.useState(null),[i,r]=E.useState(!1);E.useEffect(()=>{try{const u=localStorage.getItem(k6);if(u){const d=parseInt(u);e(d),o(d)}}catch(u){console.error("Failed to load saved group:",u)}},[]),E.useEffect(()=>{t!==null?localStorage.setItem(k6,t.toString()):localStorage.removeItem(k6)},[t]);const o=async u=>{try{const d=await At.get(`/api/groups/${u}`);d.data.success&&a(d.data.data)}catch(d){console.error("Failed to load group info:",d),e(null),a(null)}};return{selectedGroupId:t,selectedGroup:n,groupModalOpen:i,setGroupModalOpen:r,handleGroupSelect:async u=>{e(u),await o(u),r(!1)},handleRemoveGroup:()=>{e(null),a(null)}}}function FQe({onExecute:t,onComplete:e}){const[n,a]=E.useState({enabled:!1,count:3,delaySeconds:5}),[i,r]=E.useState({isRunning:!1,currentIteration:0,totalIterations:0}),[o,s]=E.useState(null),c=E.useRef(i),u=E.useRef(n);E.useEffect(()=>{c.current=i},[i]),E.useEffect(()=>{u.current=n},[n]);const d=async g=>{const y=c.current,v=u.current;if(g>=100){console.warn("[Repeat] Maximum safe iterations reached (100)"),m();return}const w=y.totalIterations;if(w!==-1&&g>=w){console.log("[Repeat] All iterations completed",{iteration:g,totalIterations:w}),m(),e&&e();return}if(!y.isRunning){console.log("[Repeat] Stopped by user",{currentState:y});return}console.log("[Repeat] Starting iteration",{current:g+1,total:w===-1?"infinite":w,isRunning:y.isRunning}),r(_=>({..._,currentIteration:g}));try{await t(g);const _=c.current,T=g+1,A=w===-1||T<w;if(A&&_.isRunning){console.log("[Repeat] Scheduling next iteration after delay",{delaySeconds:v.delaySeconds,nextIteration:T});const R=window.setTimeout(()=>{d(T)},v.delaySeconds*1e3);s(R)}else console.log("[Repeat] Finished all iterations",{shouldContinue:A,isRunning:_.isRunning}),m(),e&&e()}catch(_){throw console.error("[Repeat] Error during iteration",{iteration:g,error:_}),m(),_}},h=()=>{n.enabled&&!i.isRunning&&(console.log("[Repeat] Initializing repeat execution",{enabled:n.enabled,isRunning:i.isRunning,count:n.count}),r({isRunning:!0,currentIteration:0,totalIterations:n.count===-1?-1:n.count}),setTimeout(()=>{console.log("[Repeat] Executing first cycle"),d(0)},100))},m=()=>{o&&(clearTimeout(o),s(null)),r({isRunning:!1,currentIteration:0,totalIterations:0})};return{repeatConfig:n,repeatState:i,setRepeatConfig:a,startRepeat:h,stopRepeat:m,isRepeatMode:n.enabled}}function l_(t){return t?t.split(",").map(a=>a.trim()).filter(a=>a.length>0).join(", "):""}function ite(t){return l_(t).length===0}let kw=null,EH=0;const BQe=6e4;async function HQe(){const t=Date.now();if(kw&&t-EH<BQe)return kw;try{return kw=(await Pc.getAllWildcards(!0)).data||[],EH=t,kw}catch(e){return console.error("Failed to load wildcards:",e),[]}}function rte(t){const e=/\(([^,)]+),\s*([\d.,\s-]+)\)/g;return t.replace(e,(n,a,i)=>{const r=i.split(",").map(s=>s.trim()).filter(s=>s.length>0&&!isNaN(parseFloat(s)));if(r.length===0)return n;const o=r[Math.floor(Math.random()*r.length)];return`(${a.trim()}:${o})`})}function ote(t){const e=/\(([^,)]+),\s*([-\d.]+)~([-\d.]+),\s*([\d.]+)\)/g;return t.replace(e,(n,a,i,r,o)=>{const s=parseFloat(i),c=parseFloat(r),u=parseFloat(o);if(isNaN(s)||isNaN(c)||isNaN(u)||u<=0||s>=c)return console.warn(`[Weight] Invalid range syntax: ${n}`),n;const d=[];for(let m=s;m<=c;m=parseFloat((m+u).toFixed(10)))d.push(parseFloat(m.toFixed(2)));if(d.length===0)return n;const h=d[Math.floor(Math.random()*d.length)];return`(${a.trim()}:${h})`})}function $Qe(t){const e=/\((\+\+[^+]+\+\+):[\d.]+\)/g;return t.replace(e,"$1")}function ste(t,e,n,a,i){const r=/\+\+([^+]+)\+\+/g;let o=t.replace(r,(s,c)=>{if(a.has(c))return console.warn(`[Wildcard] Circular reference detected: ${c}`),s;const u=e.get(c);if(!u||!u.items||u.items.length===0)return console.warn(`[Wildcard] Not found or empty: ${c}`),i.add(c),"";const d=u.items.filter(y=>y.tool===n);if(d.length===0)return console.warn(`[Wildcard] No items for '${c}' with tool '${n}'`),i.add(`${c} (${n})`),"";const h=Math.floor(Math.random()*d.length),m=d[h];a.add(c);const g=ste(m.content,e,n,a,i);return a.delete(c),g});return o=ote(o),o=rte(o),o}async function mN(t,e){if(!t)return{text:t,emptyWildcards:[]};const n=await HQe(),a=new Map;n.forEach(s=>a.set(s.name,s));let i=$Qe(t);const r=new Set;let o=i;return i.includes("++")?o=ste(i,a,e,new Set,r):(o=ote(i),o=rte(o)),o=o.replace(/\s+/g," ").trim(),o!==t&&console.log(`[Wildcard] Parsed (${e}):`,{original:t.substring(0,80),parsed:o.substring(0,80),emptyWildcards:Array.from(r)}),{text:o,emptyWildcards:Array.from(r)}}async function UQe(t,e){const n=new Set;async function a(r){if(typeof r=="string"){const o=await mN(r,e);return o.emptyWildcards.forEach(s=>n.add(s)),l_(o.text)}if(Array.isArray(r))return Promise.all(r.map(o=>a(o)));if(r&&typeof r=="object"){const o={};for(const s in r)o[s]=await a(r[s]);return o}return r}return{data:await a(t),emptyWildcards:Array.from(n)}}function GQe(t){let e;if(t.mode==="fixed")if(t.fixed in uf)e=uf[t.fixed];else if(t.fixed.startsWith("custom_")){const n=t.fixed.replace("custom_",""),a=t.customResolutions.find(i=>i.id===n);a?e={width:a.width,height:a.height}:e={width:832,height:1216}}else e={width:832,height:1216};else if(t.random.length===0)e={width:832,height:1216};else{const n=t.random[Math.floor(Math.random()*t.random.length)];if(n in uf)e=uf[n];else if(n.startsWith("custom_")){const a=n.replace("custom_",""),i=t.customResolutions.find(r=>r.id===a);i?e={width:i.width,height:i.height}:e={width:832,height:1216}}else e={width:832,height:1216}}if(t.swapDimensions)if(t.mode==="random"){if(Math.random()<.5)return{width:e.height,height:e.width}}else return{width:e.height,height:e.width};return e}function qQe(t){const{width:e,height:n,steps:a,n_samples:i,uncond_scale:r,strength:o=1}=t;let s=Math.max(e*n,65536);const c=832*1216,u=1024*1024;s>c&&s<=u&&(s=c);let h=Math.ceil(2951823174884865e-36*s+5753298233447344e-22*s*a)*1;return h=Math.max(Math.ceil(h*o),2),r!==1&&(h=Math.ceil(h*1.3)),h*i}function WQe({token:t,onLogout:e,onGenerationComplete:n}){const{t:a}=ht(["imageGeneration"]),[i,r]=E.useState(!1),[o,s]=E.useState(null),[c,u]=E.useState(null),[d,h]=E.useState(0),m=async()=>{if(t)try{const S=await At.get("/api/nai/user/data",{headers:{Authorization:`Bearer ${t}`}});u(S.data)}catch(S){console.error("[NAI] Failed to fetch user data:",S)}};E.useEffect(()=>{t&&m()},[t]);const g=async S=>(console.log(`[NAI] Starting upload completion polling for ${S.length} images...`),new Promise(T=>{let A=0,R=null;const I=async()=>{A++;try{const N=await Promise.all(S.map(async O=>{try{const D=await Hu.getById(O,!0);if(console.log(`[NAI] History ${O} response:`,{success:D.success,hasRecord:!!D.record,status:D.record?.generation_status}),!D||!D.record)return console.error(`[NAI] Invalid response for history ${O}:`,D),!1;const H=D.record.generation_status,L=H==="completed";return console.log(`[NAI] History ${O}: status="${H}", completed=${L}`),L}catch(D){return console.error(`[NAI] Failed to check history ${O}:`,D),!1}})),P=N.filter(O=>O).length;if(console.log(`[NAI] Polling ${A}/30: ${P}/${N.length} completed`),N.every(O=>O)){console.log("[NAI] All images saved! Refreshing history..."),R&&clearTimeout(R),h(O=>{const D=O+1;return console.log(`[NAI] historyRefreshKey: ${O}  ${D}`),setTimeout(()=>T(),0),D});return}if(A>=30){console.warn("[NAI] Polling timeout. Forcing refresh..."),R&&clearTimeout(R),h(O=>{const D=O+1;return setTimeout(()=>T(),0),D});return}R=setTimeout(I,500)}catch(N){if(console.error("[NAI] Completion check failed:",N),A>=30){R&&clearTimeout(R),h(P=>P+1),T();return}R=setTimeout(I,500)}};I()})),y=async(S,w)=>{r(!0),s(null);try{const _=GQe(S.resolutionConfig),T=await mN(S.prompt,"nai"),A=S.negative_prompt?await mN(S.negative_prompt,"nai"):{text:S.negative_prompt||"",emptyWildcards:[]},R=[...T.emptyWildcards,...A.emptyWildcards];if(R.length>0){const O=Array.from(new Set(R));b2(`  NAI  : ${O.join(", ")}`,{variant:"warning",autoHideDuration:5e3})}const I=l_(T.text),N=l_(A.text);if(ite(I))return b2(a("imageGeneration:nai.errors.emptyPrompt"),{variant:"error",autoHideDuration:5e3}),s(a("imageGeneration:nai.errors.emptyPrompt")),r(!1),null;console.log("[NAI Wildcard] Parsing complete:",{originalPrompt:S.prompt.substring(0,100),parsedPrompt:T.text.substring(0,100),cleanedPrompt:I.substring(0,100),originalNegative:S.negative_prompt?.substring(0,100),parsedNegative:A.text?.substring(0,100),cleanedNegative:N?.substring(0,100),wasChanged:S.prompt!==I||S.negative_prompt!==N,emptyWildcards:R}),console.log(`[NAI] Selected resolution: ${_.width}${_.height}`,{mode:S.resolutionConfig.mode,swap:S.resolutionConfig.swapDimensions});const P=await N7.generateImage(t,{...S,prompt:I,negative_prompt:N,width:_.width,height:_.height,model:S.model,cfg_rescale:S.cfg_rescale,noise_schedule:S.noise_schedule,uncond_scale:S.uncond_scale,groupId:w||void 0});return P.historyIds&&P.historyIds.length>0&&(m(),g(P.historyIds),n&&n(P.historyIds)),P}catch(_){if(_.response?.status===401)return e(),null;throw _.response?.status===402?s(a("imageGeneration:nai.generate.subscriptionRequired")):s(_.response?.data?.error||_.response?.data?.details||a("imageGeneration:nai.generate.error")),_}finally{r(!1)}},v=E.useCallback(qQe,[]);return{generating:i,error:o,userData:c,historyRefreshKey:d,setError:s,executeSingleGeneration:y,fetchUserData:m,calculateCost:v}}function VQe({token:t,onLogout:e}){const{t:n}=ht(["imageGeneration"]),{params:a,setParams:i}=LQe(),{selectedGroupId:r,selectedGroup:o,groupModalOpen:s,setGroupModalOpen:c,handleGroupSelect:u,handleRemoveGroup:d}=zQe(),{generating:h,error:m,userData:g,historyRefreshKey:y,executeSingleGeneration:v,calculateCost:S}=WQe({token:t,onLogout:e}),{repeatConfig:w,repeatState:_,setRepeatConfig:T,startRepeat:A,stopRepeat:R,isRepeatMode:I}=FQe({onExecute:async()=>{await v(a,r)}}),N=()=>{const D=a.resolutionConfig;return(D.mode==="fixed"?[D.fixed]:D.random).map(L=>{if(L in uf)return uf[L];const $=D.customResolutions.find(M=>`custom_${M.id}`===L);return $?{width:$.width,height:$.height}:null}).filter(Boolean)},P=E.useMemo(()=>{if(!g)return{minCost:0,maxCost:0,balance:0,canGenerate:!1,buttonText:""};const D=N();D.length===0&&D.push({width:832,height:1216});const L=(a.resolutionConfig.swapDimensions&&a.resolutionConfig.mode==="random"?D.flatMap(ee=>[ee,{width:ee.height,height:ee.width}]):a.resolutionConfig.swapDimensions?D.map(ee=>({width:ee.height,height:ee.width})):D).map(ee=>S({width:ee.width,height:ee.height,steps:a.steps,n_samples:a.n_samples,uncond_scale:a.uncond_scale})),$=Math.min(...L),M=Math.max(...L),z=g.anlasBalance,F=z>=$;let G;return F?$===M?G=` (: ${$} / : ${z.toLocaleString()})`:G=` (: ${$}~${M} / : ${z.toLocaleString()})`:G=" ( )",{minCost:$,maxCost:M,balance:z,canGenerate:F,buttonText:G}},[g,a.resolutionConfig,a.steps,a.n_samples,a.uncond_scale,S]),O=async D=>{if(D&&D.preventDefault(),console.log("[NAI Generate] Button clicked",{repeatConfig:w,repeatState:_,isRepeatMode:I}),I&&!_.isRunning){console.log("[NAI Repeat] Starting repeat mode"),A();return}I||(console.log("[NAI Generate] Single execution mode"),await v(a,r))};return l.jsxs(Z,{children:[l.jsxs(Z,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx(ie,{variant:"h6",children:n("imageGeneration:nai.generate.title")}),l.jsxs(Z,{sx:{display:"flex",gap:2,alignItems:"center"},children:[l.jsx(xQe,{token:t}),l.jsx(Ue,{variant:"outlined",onClick:e,children:n("imageGeneration:nai.generate.logout")})]})]}),m&&l.jsx(xt,{severity:"error",sx:{mb:2},children:m}),l.jsxs(dn,{container:!0,spacing:3,children:[l.jsx(dn,{size:{xs:12,lg:4},children:l.jsx("form",{onSubmit:O,children:l.jsxs(Z,{sx:{display:"flex",flexDirection:"column",gap:3},children:[l.jsx(Ue,{fullWidth:!0,type:"submit",variant:"contained",size:"large",disabled:h||!a.prompt||!!g&&!P.canGenerate,startIcon:h?l.jsx(Yt,{size:20}):l.jsx(vf,{}),children:P.buttonText}),l.jsx(AQe,{params:a,onChange:i,disabled:h}),l.jsx(kQe,{params:a,onChange:i,disabled:h}),l.jsx(jQe,{params:a,onChange:i,disabled:h}),l.jsx(DQe,{selectedGroup:o,onOpenModal:()=>c(!0),onRemoveGroup:d,disabled:h}),l.jsx(Gt,{sx:{p:3},children:l.jsx(nte,{config:w,state:_,onConfigChange:T,onStop:R,namespace:"imageGeneration"})}),l.jsx(Ue,{fullWidth:!0,type:"submit",variant:"contained",size:"large",disabled:h||!a.prompt||!!g&&!P.canGenerate,startIcon:h?l.jsx(Yt,{size:20}):l.jsx(vf,{}),children:h?" ...":P.buttonText}),h&&l.jsx(oc,{sx:{mt:1}})]})})}),l.jsx(dn,{size:{xs:12,lg:8},children:l.jsx(ate,{serviceType:"novelai",refreshKey:y})})]}),l.jsx(m5,{open:s,onClose:()=>c(!1),selectedImageCount:1,onAssign:u})]})}function YQe(){const t=yt.c(7),[e,n]=E.useState(null),[a,i]=E.useState(!1);let r,o;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{const m=localStorage.getItem("nai_token"),g=localStorage.getItem("nai_token_expires");m&&g&&(new Date(g)>new Date?(n(m),i(!0)):(localStorage.removeItem("nai_token"),localStorage.removeItem("nai_token_expires")))},o=[],t[0]=r,t[1]=o):(r=t[0],o=t[1]),E.useEffect(r,o);let s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=m=>{n(m),i(!0)},t[2]=s):s=t[2];const c=s;let u;t[3]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{localStorage.removeItem("nai_token"),localStorage.removeItem("nai_token_expires"),n(null),i(!1)},t[3]=u):u=t[3];const d=u;if(!a){let m;return t[4]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsx(cQe,{onLoginSuccess:c}),t[4]=m):m=t[4],m}let h;return t[5]!==e?(h=l.jsx(Z,{children:l.jsx(VQe,{token:e,onLogout:d})}),t[5]=e,t[6]=h):h=t[6],h}const KQe="http://localhost:1566/api",Ih=Ut.create({baseURL:KQe,withCredentials:!0}),Om={getAllServers:async(t=!1)=>(await Ih.get("/comfyui-servers",{params:{active:t}})).data,getServer:async t=>(await Ih.get(`/comfyui-servers/${t}`)).data,createServer:async t=>(await Ih.post("/comfyui-servers",t)).data,updateServer:async(t,e)=>(await Ih.put(`/comfyui-servers/${t}`,e)).data,deleteServer:async t=>(await Ih.delete(`/comfyui-servers/${t}`)).data,testConnection:async t=>(await Ih.get(`/comfyui-servers/${t}/test-connection`)).data,testAllConnections:async()=>(await Ih.get("/comfyui-servers/test-all-connections")).data,getServerWorkflows:async t=>(await Ih.get(`/comfyui-servers/${t}/workflows`)).data},XQe="http://localhost:1566/api",wm=Ut.create({baseURL:XQe,withCredentials:!0}),Mm={getAllLists:async()=>(await wm.get("/custom-dropdown-lists")).data,getList:async t=>(await wm.get(`/custom-dropdown-lists/${t}`)).data,getListByName:async t=>(await wm.get(`/custom-dropdown-lists/by-name/${encodeURIComponent(t)}`)).data,createList:async t=>(await wm.post("/custom-dropdown-lists",t)).data,updateList:async(t,e)=>(await wm.put(`/custom-dropdown-lists/${t}`,e)).data,deleteList:async t=>(await wm.delete(`/custom-dropdown-lists/${t}`)).data,scanComfyUIModels:async t=>(await wm.post("/custom-dropdown-lists/scan-comfyui-models",t)).data};function QQe(){const{t}=ht("imageGeneration"),[e,n]=E.useState([]),[a,i]=E.useState(!0),[r,o]=E.useState(null),[s,c]=E.useState(0),[u,d]=E.useState(!1),[h,m]=E.useState(null),[g,y]=E.useState(!1),[v,S]=E.useState(null),[w,_]=E.useState(!1),[T,A]=E.useState([]),[R,I]=E.useState(!1),[N,P]=E.useState({checkpoints:!0,unet:!1,upscale_models:!1}),[O,D]=E.useState({mergeSubfolders:!1,createBoth:!1}),[H,L]=E.useState({name:"",description:"",itemsText:""}),$=e.filter(ne=>ne.is_auto_collected),M=e.filter(ne=>!ne.is_auto_collected);E.useEffect(()=>{z()},[]);const z=async()=>{try{i(!0);const ne=await Mm.getAllLists();n(ne.data||[])}catch(ne){o(ne.message)}finally{i(!1)}},F=ne=>{ne?(m(ne),L({name:ne.name,description:ne.description||"",itemsText:ne.items.join(`
`)})):(m(null),L({name:"",description:"",itemsText:""})),d(!0)},G=()=>{d(!1),m(null),o(null)},ee=ne=>{S(ne),y(!0)},V=()=>{y(!1),S(null)},Y=async()=>{try{const ne=H.itemsText.split(`
`).map(pe=>pe.trim()).filter(pe=>pe.length>0);if(ne.length===0){o(t("customDropdown.messages.minItemError"));return}const ce={name:H.name,description:H.description||void 0,items:ne};h?await Mm.updateList(h.id,ce):await Mm.createList(ce),G(),z()}catch(ne){o(ne.response?.data?.error||ne.message)}},K=async ne=>{if(confirm(t("customDropdown.messages.deleteConfirm")))try{await Mm.deleteList(ne),z()}catch(ce){o(ce.message)}},J=()=>{A([]),_(!0)},W=()=>{_(!1),A([]),o(null)},te=async ne=>{const ce=ne.target.files;if(!ce||ce.length===0)return;o(null);const pe=[".safetensors",".ckpt",".pt",".pth",".bin"],me=["checkpoints","unet","upscale_models"],ge=new Map;for(let he=0;he<ce.length;he++){const de=ce[he],fe=de.webkitRelativePath.split("/"),oe="."+de.name.split(".").pop()?.toLowerCase();if(!pe.includes(oe)||fe.length<2)continue;const ue=fe[1];if(!me.includes(ue))continue;const le=fe.slice(2,-1).join("/"),Se=le?`${ue}/${le}`:ue;ge.has(Se)||ge.set(Se,[]);const Ie=(N[ue]??!1)&&le?`${le}/${de.name}`:de.name;ge.get(Se).push(Ie)}const ye=Array.from(ge.entries()).map(([he,de])=>({folderName:he.split("/")[0],displayName:he,files:de.sort()}));A(ye)},re=async()=>{if(T.length===0){o(t("customDropdown.messages.selectFolderError"));return}try{I(!0),o(null);const ne=await Mm.scanComfyUIModels({modelFolders:T,sourcePath:"client-selected",mergeSubfolders:O.mergeSubfolders,createBoth:O.createBoth});ne.success&&ne.data&&(W(),z(),c(0),alert(ne.data.message))}catch(ne){o(ne.response?.data?.error||ne.message)}finally{I(!1)}};return l.jsxs(Z,{children:[l.jsxs(Z,{sx:{mb:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs(ie,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[l.jsx(FOe,{})," ",t("customDropdown.title")]}),l.jsxs(Z,{sx:{display:"flex",gap:1},children:[l.jsx(Ue,{variant:"outlined",size:"small",startIcon:l.jsx(_2,{}),onClick:J,color:"secondary",children:t("customDropdown.buttons.loadComfyUI")}),s===1&&l.jsx(Ue,{variant:"outlined",size:"small",startIcon:l.jsx(Vr,{}),onClick:()=>F(),children:t("customDropdown.buttons.addList")})]})]}),r&&l.jsx(xt,{severity:"error",sx:{mb:2},onClose:()=>o(null),children:r}),l.jsxs(No,{value:s,onChange:(ne,ce)=>c(ce),sx:{mb:2,borderBottom:1,borderColor:"divider"},children:[l.jsx(Cn,{icon:l.jsx(GQ,{}),iconPosition:"start",label:l.jsx(WL,{badgeContent:$.length,color:"primary",max:999,children:l.jsx(Z,{sx:{mr:2},children:t("customDropdown.tabs.autoCollected")})})}),l.jsx(Cn,{icon:l.jsx(qOe,{}),iconPosition:"start",label:l.jsx(WL,{badgeContent:M.length,color:"secondary",max:999,children:l.jsx(Z,{sx:{mr:2},children:t("customDropdown.tabs.manual")})})})]}),a?l.jsx(Z,{display:"flex",justifyContent:"center",p:3,children:l.jsx(Yt,{size:30})}):l.jsxs(l.Fragment,{children:[s===0&&($.length===0?l.jsx(ma,{children:l.jsx(Ri,{children:l.jsx(ie,{variant:"body2",color:"text.secondary",align:"center",children:t("customDropdown.messages.noAutoCollected")})})}):l.jsx(Z,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},gap:1.5},children:$.map(ne=>l.jsxs(ma,{sx:{height:"100%",borderLeft:3,borderColor:"primary.main"},children:[l.jsx(Ri,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:l.jsxs(cn,{spacing:1,children:[l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsx(ie,{variant:"subtitle2",sx:{fontWeight:600,fontSize:"0.9rem",flex:1},children:ne.name}),l.jsxs(Z,{sx:{display:"flex",gap:.5,alignItems:"center"},children:[l.jsx(mt,{label:t("customDropdown.labels.auto"),size:"small",color:"primary",sx:{height:"18px",fontSize:"0.65rem"}}),l.jsx(mt,{label:t("customDropdown.labels.itemCount",{count:ne.items.length}),size:"small",color:"default",sx:{height:"18px",fontSize:"0.65rem"}})]})]}),ne.source_path&&l.jsxs(ie,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem",wordBreak:"break-all"},children:[" ",ne.source_path]}),ne.description&&l.jsx(ie,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:ne.description}),l.jsxs(Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5,userSelect:"text"},children:[ne.items.slice(0,3).map((ce,pe)=>l.jsx(mt,{label:ce,size:"small",variant:"outlined",sx:{height:"20px",fontSize:"0.7rem",cursor:"text"}},pe)),ne.items.length>3&&l.jsx(mt,{label:`+${ne.items.length-3}`,size:"small",variant:"outlined",sx:{height:"20px",fontSize:"0.7rem"}})]})]})}),l.jsxs(f7,{sx:{p:1,pt:0,justifyContent:"flex-end"},children:[l.jsx(jt,{title:t("customDropdown.buttons.viewList"),children:l.jsx(lt,{size:"small",onClick:()=>ee(ne),sx:{p:.5},children:l.jsx(gS,{sx:{fontSize:"1rem"}})})}),l.jsx(lt,{size:"small",color:"error",onClick:()=>K(ne.id),sx:{p:.5},children:l.jsx(Wa,{sx:{fontSize:"1rem"}})})]})]},ne.id))})),s===1&&(M.length===0?l.jsx(ma,{children:l.jsx(Ri,{children:l.jsx(ie,{variant:"body2",color:"text.secondary",align:"center",children:t("customDropdown.messages.noManual")})})}):l.jsx(Z,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},gap:1.5},children:M.map(ne=>l.jsxs(ma,{sx:{height:"100%"},children:[l.jsx(Ri,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:l.jsxs(cn,{spacing:1,children:[l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsx(ie,{variant:"subtitle2",sx:{fontWeight:600,fontSize:"0.9rem"},children:ne.name}),l.jsx(mt,{label:t("customDropdown.labels.itemCount",{count:ne.items.length}),size:"small",color:"secondary",sx:{height:"18px",fontSize:"0.7rem"}})]}),ne.description&&l.jsx(ie,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:ne.description}),l.jsxs(Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:[ne.items.slice(0,3).map((ce,pe)=>l.jsx(mt,{label:ce,size:"small",variant:"outlined",sx:{height:"20px",fontSize:"0.7rem"}},pe)),ne.items.length>3&&l.jsx(mt,{label:`+${ne.items.length-3}`,size:"small",variant:"outlined",sx:{height:"20px",fontSize:"0.7rem"}})]})]})}),l.jsxs(f7,{sx:{p:1,pt:0,justifyContent:"flex-end"},children:[l.jsx(lt,{size:"small",onClick:()=>F(ne),sx:{p:.5},children:l.jsx(id,{sx:{fontSize:"1rem"}})}),l.jsx(lt,{size:"small",color:"error",onClick:()=>K(ne.id),sx:{p:.5},children:l.jsx(Wa,{sx:{fontSize:"1rem"}})})]})]},ne.id))}))]}),l.jsxs(Fn,{open:g,onClose:V,maxWidth:"md",fullWidth:!0,children:[l.jsx(Un,{children:t("customDropdown.dialog.viewTitle")}),l.jsx($n,{children:v&&l.jsxs(Z,{sx:{display:"flex",flexDirection:"column",gap:2,pt:1},children:[l.jsx(xt,{severity:"info",sx:{fontSize:"0.85rem"},children:t("customDropdown.messages.autoCollectedReadOnly")}),l.jsx(Tt,{label:t("customDropdown.labels.listName"),fullWidth:!0,value:v.name,InputProps:{readOnly:!0}}),v.description&&l.jsx(Tt,{label:t("customDropdown.labels.description"),fullWidth:!0,multiline:!0,rows:2,value:v.description,InputProps:{readOnly:!0}}),v.source_path&&l.jsx(Tt,{label:t("customDropdown.labels.path"),fullWidth:!0,value:v.source_path,InputProps:{readOnly:!0}}),l.jsxs(Z,{children:[l.jsx(ie,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:t("customDropdown.labels.itemListCount",{count:v.items.length})}),l.jsx(Tt,{fullWidth:!0,multiline:!0,rows:15,value:v.items.join(`
`),InputProps:{readOnly:!0},sx:{"& .MuiInputBase-input":{fontFamily:"monospace",fontSize:"0.9rem"}}})]})]})}),l.jsx(Wn,{children:l.jsx(Ue,{onClick:V,variant:"contained",children:t("customDropdown.buttons.close")})})]}),l.jsxs(Fn,{open:u,onClose:G,maxWidth:"md",fullWidth:!0,children:[l.jsx(Un,{children:t(h?"customDropdown.dialog.editTitle":"customDropdown.dialog.createTitle")}),l.jsxs($n,{children:[r&&l.jsx(xt,{severity:"error",sx:{mb:2},children:r}),l.jsxs(Z,{sx:{display:"flex",flexDirection:"column",gap:2,pt:1},children:[l.jsx(Tt,{autoFocus:!0,label:t("customDropdown.labels.listNameRequired"),fullWidth:!0,value:H.name,onChange:ne=>L({...H,name:ne.target.value})}),l.jsx(Tt,{label:t("customDropdown.labels.description"),fullWidth:!0,multiline:!0,rows:2,value:H.description,onChange:ne=>L({...H,description:ne.target.value})}),l.jsx(Tt,{label:t("customDropdown.labels.itemList"),fullWidth:!0,multiline:!0,rows:10,value:H.itemsText,onChange:ne=>L({...H,itemsText:ne.target.value}),placeholder:t("customDropdown.placeholders.itemList"),helperText:t("customDropdown.helperText.itemList")})]})]}),l.jsxs(Wn,{children:[l.jsx(Ue,{onClick:G,children:t("customDropdown.buttons.cancel")}),l.jsx(Ue,{onClick:Y,variant:"contained",disabled:!H.name.trim()||!H.itemsText.trim(),children:t(h?"customDropdown.buttons.edit":"customDropdown.buttons.create")})]})]}),l.jsxs(Fn,{open:w,onClose:W,maxWidth:"md",fullWidth:!0,children:[l.jsx(Un,{children:t("customDropdown.dialog.comfyUITitle")}),l.jsxs($n,{children:[r&&l.jsx(xt,{severity:"error",sx:{mb:2},children:r}),l.jsxs(Z,{sx:{display:"flex",flexDirection:"column",gap:2,pt:1},children:[l.jsx(xt,{severity:"info",sx:{fontSize:"0.85rem"},children:t("customDropdown.messages.selectComfyUIFolder").split(`
`).map((ne,ce)=>l.jsxs("span",{children:[ce>0&&l.jsx("br",{}),ne.includes("models")?l.jsxs(l.Fragment,{children:[ne.split("models")[0],l.jsx("strong",{children:"models"}),ne.split("models")[1]]}):ne]},ce))}),l.jsxs(Ue,{variant:"contained",startIcon:l.jsx(Ps,{}),component:"label",fullWidth:!0,size:"large",children:[t("customDropdown.buttons.selectFolder"),l.jsx("input",{type:"file",hidden:!0,webkitdirectory:"",directory:"",onChange:te})]}),T.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs(xt,{severity:"success",sx:{fontSize:"0.85rem"},children:[t("customDropdown.messages.foldersDetected",{count:T.length}),l.jsxs(Z,{component:"ul",sx:{mt:1,mb:0,pl:2},children:[T.slice(0,5).map((ne,ce)=>l.jsxs("li",{children:[l.jsx("strong",{children:ne.displayName}),": ",t("customDropdown.messages.fileCount",{count:ne.files.length})]},ce)),T.length>5&&l.jsx("li",{children:t("customDropdown.messages.moreCount",{count:T.length-5})})]})]}),l.jsxs(Z,{children:[l.jsx(ie,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:t("customDropdown.labels.mergeOptions"," ")}),l.jsxs(h7,{children:[l.jsx(wn,{control:l.jsx(Zs,{checked:O.mergeSubfolders,onChange:ne=>D({...O,mergeSubfolders:ne.target.checked})}),label:l.jsxs(Z,{children:[l.jsx(ie,{variant:"body2",sx:{fontWeight:500},children:t("customDropdown.labels.mergeSubfolders","   ")}),l.jsx(ie,{variant:"caption",color:"text.secondary",children:t("customDropdown.messages.mergeSubfoldersDesc","checkpoints/SD1.5, checkpoints/SDXL  checkpoints  ")})]})}),l.jsx(wn,{control:l.jsx(Zs,{checked:O.createBoth,onChange:ne=>D({...O,createBoth:ne.target.checked}),disabled:!O.mergeSubfolders}),label:l.jsxs(Z,{children:[l.jsx(ie,{variant:"body2",sx:{fontWeight:500,color:O.mergeSubfolders?"inherit":"text.disabled"},children:t("customDropdown.labels.createBoth","     ")}),l.jsx(ie,{variant:"caption",color:"text.secondary",children:t("customDropdown.messages.createBothDesc"," +      ")})]})})]})]}),l.jsxs(Z,{children:[l.jsx(ie,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:t("customDropdown.labels.pathOptions")}),l.jsxs(h7,{children:[l.jsx(wn,{control:l.jsx(Zs,{checked:N.checkpoints,onChange:ne=>P({...N,checkpoints:ne.target.checked})}),label:l.jsxs(Z,{children:[l.jsx(ie,{variant:"body2",sx:{fontWeight:500},children:t("customDropdown.labels.checkpointsFullPath")}),l.jsx(ie,{variant:"caption",color:"text.secondary",children:t("customDropdown.messages.pathExample",{example:N.checkpoints?"Illustrious/ETC/model.safetensors":"model.safetensors"})})]})}),l.jsx(wn,{control:l.jsx(Zs,{checked:N.unet,onChange:ne=>P({...N,unet:ne.target.checked})}),label:l.jsxs(Z,{children:[l.jsx(ie,{variant:"body2",sx:{fontWeight:500},children:t("customDropdown.labels.unetFullPath")}),l.jsx(ie,{variant:"caption",color:"text.secondary",children:t("customDropdown.messages.pathExample",{example:N.unet?"subfolder/model.safetensors":"model.safetensors"})})]})}),l.jsx(wn,{control:l.jsx(Zs,{checked:N.upscale_models,onChange:ne=>P({...N,upscale_models:ne.target.checked})}),label:l.jsxs(Z,{children:[l.jsx(ie,{variant:"body2",sx:{fontWeight:500},children:t("customDropdown.labels.upscaleModelsFullPath")}),l.jsx(ie,{variant:"caption",color:"text.secondary",children:t("customDropdown.messages.pathExample",{example:N.upscale_models?"subfolder/model.pth":"model.pth"})})]})})]})]})]}),l.jsx(xt,{severity:"warning",sx:{fontSize:"0.85rem"},children:t("customDropdown.messages.scanInfo").split(`
`).map((ne,ce)=>l.jsxs("span",{children:[ce>0&&l.jsx(l.Fragment,{children:l.jsx("br",{})}),ne.includes(" ")?l.jsxs(l.Fragment,{children:[ne.split(" ")[0],l.jsx("strong",{children:ne.match(/ /)?.[0]}),ne.split(" ")[1]]}):ne.startsWith("")?l.jsx("strong",{children:ne}):ne]},ce))})]})]}),l.jsxs(Wn,{children:[l.jsx(Ue,{onClick:W,disabled:R,children:t("customDropdown.buttons.cancel")}),l.jsx(Ue,{onClick:re,variant:"contained",disabled:T.length===0||R,startIcon:R?l.jsx(Yt,{size:16}):l.jsx(_2,{}),children:t(R?"customDropdown.messages.collecting":"customDropdown.buttons.collect")})]})]})]})}function ZQe(){const{t}=ht(["workflows","servers","common"]),e=Tf(),[n,a]=E.useState([]),[i,r]=E.useState(!0),[o,s]=E.useState(null),[c,u]=E.useState([]),[d,h]=E.useState(!0),[m,g]=E.useState(null),[y,v]=E.useState(!1),[S,w]=E.useState(null),[_,T]=E.useState(null),[A,R]=E.useState({}),[I,N]=E.useState({name:"",endpoint:"",description:"",is_active:!0});E.useEffect(()=>{P(),D()},[]);const P=async()=>{try{r(!0);const G=await rp.getAllWorkflows();a(G.data||[])}catch(G){s(G.message)}finally{r(!1)}},O=async G=>{if(confirm(t("workflows:actions.confirmDelete")))try{await rp.deleteWorkflow(G),P()}catch(ee){s(ee.message)}},D=async()=>{try{h(!0);const G=await Om.getAllServers();u(G.data||[])}catch(G){g(G.message)}finally{h(!1)}},H=G=>{G?(w(G),N({name:G.name,endpoint:G.endpoint,description:G.description||"",is_active:G.is_active})):(w(null),N({name:"",endpoint:"http://127.0.0.1:8188",description:"",is_active:!0})),v(!0)},L=()=>{v(!1),w(null)},$=async()=>{try{S?await Om.updateServer(S.id,I):await Om.createServer(I),L(),D()}catch(G){g(G.message)}},M=async G=>{if(confirm(t("servers:actions.confirmDelete")))try{await Om.deleteServer(G),D()}catch(ee){g(ee.message)}},z=async G=>{T(G);try{const ee=await Om.testConnection(G);R({...A,[G]:ee.data.isConnected})}catch{R({...A,[G]:!1})}finally{T(null)}};return i||d?l.jsx(Z,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:l.jsx(Yt,{})}):l.jsxs(Z,{children:[l.jsxs(Z,{sx:{mb:3},children:[l.jsxs(ie,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[l.jsx(tD,{})," ",t("workflows:page.listTitle")]}),o&&l.jsx(xt,{severity:"error",sx:{mb:2},onClose:()=>s(null),children:o}),l.jsxs(Z,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(4, 1fr)",lg:"repeat(5, 1fr)",xl:"repeat(6, 1fr)"},gap:1.5},children:[n.map(G=>l.jsx(ma,{onClick:ee=>{ee.target.closest("button")||G.is_active&&e(`/image-generation/${G.id}/generate`)},sx:{height:"100%",minHeight:120,borderLeft:`3px solid ${G.color||"#2196f3"}`,transition:"all 0.2s ease-in-out",cursor:G.is_active?"pointer":"not-allowed",opacity:G.is_active?1:.6,"&:hover":{boxShadow:G.is_active?3:1,transform:G.is_active?"translateY(-2px)":"none"}},children:l.jsx(Ri,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:l.jsxs(cn,{spacing:1,children:[l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx(mt,{label:G.is_active?t("workflows:card.active"):t("workflows:card.inactive"),color:G.is_active?"success":"default",size:"small",sx:{height:"20px",fontSize:"0.7rem"}}),l.jsxs(Z,{sx:{display:"flex",gap:.25},onClick:ee=>ee.stopPropagation(),children:[l.jsx(lt,{size:"small",onClick:()=>e(`/image-generation/${G.id}/edit`),sx:{p:.5},children:l.jsx(id,{sx:{fontSize:"1rem"}})}),l.jsx(lt,{size:"small",onClick:()=>O(G.id),color:"error",sx:{p:.5},children:l.jsx(Wa,{sx:{fontSize:"1rem"}})})]})]}),l.jsx(ie,{variant:"body2",sx:{fontWeight:600,fontSize:"0.813rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:G.name,children:G.name}),G.description&&l.jsx(ie,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:G.description}),l.jsxs(Z,{sx:{display:"flex",gap:.5,flexWrap:"wrap",alignItems:"center"},children:[G.marked_fields&&G.marked_fields.length>0&&l.jsx(mt,{label:t("workflows:card.fieldsCount",{count:G.marked_fields.length}),size:"small",variant:"outlined",sx:{height:"18px",fontSize:"0.65rem"}}),l.jsx(ie,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.65rem"},children:new Date(G.created_date).toLocaleDateString()})]})]})})},G.id)),l.jsx(Z,{onClick:()=>e("/image-generation/new"),sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:120,border:"2px dashed",borderColor:"primary.main",borderRadius:2,cursor:"pointer",transition:"all 0.2s ease-in-out",bgcolor:G=>G.palette.mode==="dark"?"rgba(33, 150, 243, 0.05)":"rgba(33, 150, 243, 0.02)","&:hover":{bgcolor:G=>G.palette.mode==="dark"?"rgba(33, 150, 243, 0.15)":"rgba(33, 150, 243, 0.08)",borderColor:"primary.dark",transform:"scale(1.02)"}},children:l.jsx(lt,{color:"primary",sx:{width:56,height:56,bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark",transform:"rotate(90deg)"},transition:"all 0.3s ease-in-out"},children:l.jsx(Vr,{fontSize:"large"})})})]}),n.length===0&&l.jsxs(Z,{sx:{textAlign:"center",py:4},children:[l.jsx(ie,{variant:"body2",color:"text.secondary",children:t("workflows:page.noWorkflows")}),l.jsx(ie,{variant:"caption",color:"text.secondary",children:t("workflows:page.noWorkflowsDesc")})]})]}),l.jsx(fn,{sx:{my:4}}),l.jsxs(Z,{children:[l.jsxs(ie,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[l.jsx(GQ,{})," ",t("servers:page.listTitle")]}),m&&l.jsx(xt,{severity:"error",sx:{mb:2},onClose:()=>g(null),children:m}),l.jsxs(Z,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(4, 1fr)",lg:"repeat(5, 1fr)",xl:"repeat(6, 1fr)"},gap:1.5},children:[c.map(G=>l.jsx(ma,{sx:{height:"100%",minHeight:120,borderLeft:"3px solid #4caf50",transition:"all 0.2s ease-in-out","&:hover":{boxShadow:3,transform:"translateY(-2px)"}},children:l.jsx(Ri,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:l.jsxs(cn,{spacing:1,children:[l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx(mt,{label:G.is_active?t("servers:card.active"):t("servers:card.inactive"),color:G.is_active?"success":"default",size:"small",sx:{height:"20px",fontSize:"0.7rem"}}),l.jsxs(Z,{sx:{display:"flex",gap:.25},children:[l.jsx(lt,{size:"small",onClick:()=>H(G),sx:{p:.5},children:l.jsx(id,{sx:{fontSize:"1rem"}})}),l.jsx(lt,{size:"small",onClick:()=>M(G.id),color:"error",sx:{p:.5},children:l.jsx(Wa,{sx:{fontSize:"1rem"}})})]})]}),l.jsx(ie,{variant:"body2",sx:{fontWeight:600,fontSize:"0.813rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:G.name,children:G.name}),l.jsx(ie,{variant:"caption",color:"text.secondary",sx:{fontFamily:"monospace",fontSize:"0.7rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:G.endpoint,children:G.endpoint}),G.description&&l.jsx(ie,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:G.description}),A[G.id]!==void 0&&l.jsx(Z,{sx:{display:"flex",alignItems:"center",gap:.5},children:A[G.id]?l.jsxs(l.Fragment,{children:[l.jsx(po,{color:"success",sx:{fontSize:"0.875rem"}}),l.jsx(ie,{variant:"caption",color:"success.main",sx:{fontSize:"0.7rem"},children:t("servers:card.connectionSuccess")})]}):l.jsxs(l.Fragment,{children:[l.jsx(hg,{color:"error",sx:{fontSize:"0.875rem"}}),l.jsx(ie,{variant:"caption",color:"error.main",sx:{fontSize:"0.7rem"},children:t("servers:card.connectionFailed")})]})}),l.jsx(Ue,{size:"small",onClick:()=>z(G.id),disabled:_===G.id,fullWidth:!0,sx:{mt:"auto",fontSize:"0.7rem",py:.5},children:_===G.id?l.jsx(Yt,{size:14}):t("servers:card.testConnection")})]})})},G.id)),l.jsx(Z,{onClick:()=>H(),sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:120,border:"2px dashed",borderColor:"success.main",borderRadius:2,cursor:"pointer",transition:"all 0.2s ease-in-out",bgcolor:G=>G.palette.mode==="dark"?"rgba(76, 175, 80, 0.05)":"rgba(76, 175, 80, 0.02)","&:hover":{bgcolor:G=>G.palette.mode==="dark"?"rgba(76, 175, 80, 0.15)":"rgba(76, 175, 80, 0.08)",borderColor:"success.dark",transform:"scale(1.02)"}},children:l.jsx(lt,{sx:{width:56,height:56,bgcolor:"success.main",color:"white","&:hover":{bgcolor:"success.dark",transform:"rotate(90deg)"},transition:"all 0.3s ease-in-out"},children:l.jsx(Vr,{fontSize:"large"})})})]}),c.length===0&&l.jsxs(Z,{sx:{textAlign:"center",py:4},children:[l.jsx(ie,{variant:"body2",color:"text.secondary",children:t("servers:page.noServers")}),l.jsx(ie,{variant:"caption",color:"text.secondary",children:t("servers:page.noServersDesc")})]})]}),l.jsxs(Fn,{open:y,onClose:L,maxWidth:"sm",fullWidth:!0,children:[l.jsx(Un,{children:t(S?"servers:dialog.editTitle":"servers:dialog.addTitle")}),l.jsx($n,{children:l.jsxs(Z,{sx:{pt:2,display:"flex",flexDirection:"column",gap:2},children:[l.jsx(Tt,{label:t("servers:dialog.serverName"),fullWidth:!0,required:!0,value:I.name,onChange:G=>N({...I,name:G.target.value})}),l.jsx(Tt,{label:t("servers:dialog.endpointUrl"),fullWidth:!0,required:!0,placeholder:t("servers:dialog.endpointPlaceholder"),value:I.endpoint,onChange:G=>N({...I,endpoint:G.target.value})}),l.jsx(Tt,{label:t("servers:dialog.description"),fullWidth:!0,multiline:!0,rows:2,value:I.description,onChange:G=>N({...I,description:G.target.value})}),l.jsx(wn,{control:l.jsx(Ai,{checked:I.is_active,onChange:G=>N({...I,is_active:G.target.checked})}),label:t("servers:dialog.activate")})]})}),l.jsxs(Wn,{children:[l.jsx(Ue,{onClick:L,children:t("servers:dialog.cancel")}),l.jsx(Ue,{onClick:$,variant:"contained",disabled:!I.name||!I.endpoint,children:t(S?"servers:dialog.update":"servers:dialog.add")})]})]}),l.jsx(fn,{sx:{my:3}}),l.jsx(QQe,{})]})}function lte(t=[]){const{enqueueSnackbar:e}=jj(),{t:n}=ht(["wildcards","common"]),[a,i]=E.useState(null),[r,o]=E.useState(new Set),s=E.useCallback((w,_)=>{const T=w.children&&w.children.length>0,A=_.children&&_.children.length>0;return T&&!A?-1:!T&&A?1:w.name.localeCompare(_.name)},[]),c=E.useCallback(w=>{i(w)},[]),u=E.useCallback(w=>{o(_=>{const T=new Set(_);return T.has(w)?T.delete(w):T.add(w),T})},[]),d=E.useCallback(w=>w.flatMap(_=>[_.id,..._.children?d(_.children):[]]),[]),h=E.useCallback(()=>{o(new Set(d(t)))},[t,d]),m=E.useCallback(()=>{o(new Set)},[]),g=E.useCallback(async w=>{try{await navigator.clipboard.writeText(w),e(`"${w}" ${n("wildcards:actions.copiedToClipboard")||" !"}`,{variant:"success"})}catch{e(n("wildcards:errors.copyFailed")||" ",{variant:"error"})}},[e,n]),y=E.useMemo(()=>{const w=_=>_.reduce((T,A)=>T+1+(A.children?w(A.children):0),0);return w(t)},[t]),v=E.useCallback(()=>{t.length>0&&!a&&i(t[0])},[t,a]),S=E.useCallback(()=>{i(null)},[]);return{selectedNode:a,expandedIds:r,totalCount:y,handleSelect:c,handleToggle:u,handleExpandAll:h,handleCollapseAll:m,handleCopy:g,sortNodesByHierarchy:s,selectFirstNode:v,clearSelection:S,setSelectedNode:i}}function cte(t){const e=yt.c(50),{node:n,level:a,selectedId:i,expandedIds:r,onSelect:o,onToggle:s,sortChildren:c}=t,u=n.children&&n.children.length>0;let d;e[0]!==r||e[1]!==n.id?(d=r.has(n.id),e[0]=r,e[1]=n.id,e[2]=d):d=e[2];const h=d,m=i===n.id;let g;e[3]!==u||e[4]!==h||e[5]!==n||e[6]!==o||e[7]!==s?(g=()=>{o(n),u&&!h&&s(n.id)},e[3]=u,e[4]=h,e[5]=n,e[6]=o,e[7]=s,e[8]=g):g=e[8];const y=g;let v;e[9]!==u||e[10]!==n.children||e[11]!==c?(v=u&&c?[...n.children].sort(c):n.children||[],e[9]=u,e[10]=n.children,e[11]=c,e[12]=v):v=e[12];const S=v,w=1+a*2;let _;e[13]===Symbol.for("react.memo_cache_sentinel")?(_={bgcolor:"primary.dark","&:hover":{bgcolor:"primary.dark"}},e[13]=_):_=e[13];let T;e[14]!==w?(T={pl:w,py:.5,minHeight:36,"&.Mui-selected":_},e[14]=w,e[15]=T):T=e[15];let A;e[16]!==u||e[17]!==h||e[18]!==n.id||e[19]!==s?(A=u?l.jsx(lt,{size:"small",onClick:$=>{$.stopPropagation(),s(n.id)},sx:{p:.25,mr:.5},children:h?l.jsx(zi,{fontSize:"small"}):l.jsx(Vh,{fontSize:"small"})}):l.jsx(Z,{sx:{width:28}}),e[16]=u,e[17]=h,e[18]=n.id,e[19]=s,e[20]=A):A=e[20];let R;e[21]===Symbol.for("react.memo_cache_sentinel")?(R={minWidth:28},e[21]=R):R=e[21];let I;e[22]!==u||e[23]!==h?(I=l.jsx(Ao,{sx:R,children:u?h?l.jsx(Ps,{fontSize:"small",color:"warning"}):l.jsx(cl,{fontSize:"small",color:"warning"}):l.jsx(C7,{fontSize:"small",color:"info"})}),e[22]=u,e[23]=h,e[24]=I):I=e[24];const N=m?600:400;let P;e[25]!==N?(P={variant:"body2",noWrap:!0,sx:{fontWeight:N}},e[25]=N,e[26]=P):P=e[26];let O;e[27]!==n.name||e[28]!==P?(O=l.jsx(ar,{primary:n.name,primaryTypographyProps:P}),e[27]=n.name,e[28]=P,e[29]=O):O=e[29];let D;e[30]!==y||e[31]!==m||e[32]!==O||e[33]!==T||e[34]!==A||e[35]!==I?(D=l.jsxs(gp,{onClick:y,selected:m,sx:T,children:[A,I,O]}),e[30]=y,e[31]=m,e[32]=O,e[33]=T,e[34]=A,e[35]=I,e[36]=D):D=e[36];let H;e[37]!==r||e[38]!==u||e[39]!==h||e[40]!==a||e[41]!==o||e[42]!==s||e[43]!==i||e[44]!==c||e[45]!==S?(H=u&&l.jsx(Gc,{in:h,timeout:"auto",unmountOnExit:!0,children:S.map($=>l.jsx(cte,{node:$,level:a+1,selectedId:i,expandedIds:r,onSelect:o,onToggle:s,sortChildren:c},$.id))}),e[37]=r,e[38]=u,e[39]=h,e[40]=a,e[41]=o,e[42]=s,e[43]=i,e[44]=c,e[45]=S,e[46]=H):H=e[46];let L;return e[47]!==D||e[48]!==H?(L=l.jsxs(l.Fragment,{children:[D,H]}),e[47]=D,e[48]=H,e[49]=L):L=e[49],L}function ute(t){const e=yt.c(32),{data:n,selectedId:a,expandedIds:i,onSelect:r,onToggle:o,onExpandAll:s,onCollapseAll:c,sortChildren:u,emptyMessage:d}=t;let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=["wildcards","common"],e[0]=h):h=e[0];const{t:m}=ht(h),g=Fi();let y;e[1]!==g.breakpoints?(y=g.breakpoints.down("md"),e[1]=g.breakpoints,e[2]=y):y=e[2];const v=xf(y);let S;e[3]!==n||e[4]!==u?(S=u?[...n].sort(u):n,e[3]=n,e[4]=u,e[5]=S):S=e[5];const w=S,_=v?"100%":280,T=v?"auto":280,A=v?200:400,R=v?300:"70vh";let I;e[6]!==_||e[7]!==T||e[8]!==A||e[9]!==R?(I={width:_,minWidth:T,minHeight:A,maxHeight:R,display:"flex",flexDirection:"column",overflow:"hidden"},e[6]=_,e[7]=T,e[8]=A,e[9]=R,e[10]=I):I=e[10];let N;e[11]!==n.length||e[12]!==c||e[13]!==s||e[14]!==m?(N=n.length>0&&l.jsxs(Z,{sx:{display:"flex",borderBottom:1,borderColor:"divider"},children:[l.jsx(jt,{title:m("common:expandAll")||"Expand All",children:l.jsx(Z,{onClick:s,sx:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",py:1.5,cursor:"pointer",bgcolor:"action.hover",borderRight:.5,borderColor:"divider",transition:"background-color 0.2s","&:hover":{bgcolor:"action.selected"},"&:active":{bgcolor:"action.focus"}},children:l.jsx(sD,{fontSize:"small"})})}),l.jsx(jt,{title:m("common:collapseAll")||"Collapse All",children:l.jsx(Z,{onClick:c,sx:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",py:1.5,cursor:"pointer",bgcolor:"action.hover",borderLeft:.5,borderColor:"divider",transition:"background-color 0.2s","&:hover":{bgcolor:"action.selected"},"&:active":{bgcolor:"action.focus"}},children:l.jsx(oD,{fontSize:"small"})})})]}),e[11]=n.length,e[12]=c,e[13]=s,e[14]=m,e[15]=N):N=e[15];let P;e[16]===Symbol.for("react.memo_cache_sentinel")?(P={flex:1,overflow:"auto",py:0,"& .MuiListItemButton-root":{borderRadius:0}},e[16]=P):P=e[16];let O;e[17]!==d||e[18]!==i||e[19]!==r||e[20]!==o||e[21]!==a||e[22]!==u||e[23]!==w||e[24]!==m?(O=w.length>0?w.map(L=>l.jsx(cte,{node:L,level:0,selectedId:a,expandedIds:i,onSelect:r,onToggle:o,sortChildren:u},L.id)):l.jsx(Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:400,p:2},children:l.jsx(ie,{variant:"body2",color:"text.secondary",children:d||m("wildcards:page.noWildcards")})}),e[17]=d,e[18]=i,e[19]=r,e[20]=o,e[21]=a,e[22]=u,e[23]=w,e[24]=m,e[25]=O):O=e[25];let D;e[26]!==O?(D=l.jsx(Ms,{dense:!0,sx:P,children:O}),e[26]=O,e[27]=D):D=e[27];let H;return e[28]!==D||e[29]!==I||e[30]!==N?(H=l.jsxs(Gt,{variant:"outlined",sx:I,children:[N,D]}),e[28]=D,e[29]=I,e[30]=N,e[31]=H):H=e[31],H}function dte(t){const e=yt.c(22),{selectedNode:n,onCopy:a,onChildClick:i,actionButtons:r,extraInfo:o,emptyMessage:s,sortChildren:c,showAllItems:u,renderExtraContent:d}=t;let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=["wildcards","common"],e[0]=h):h=e[0];const{t:m}=ht(h),g=Fi();let y;e[1]!==g.breakpoints?(y=g.breakpoints.down("md"),e[1]=g.breakpoints,e[2]=y):y=e[2];const v=xf(y),[S,w]=E.useState("children");let _;e[3]!==n||e[4]!==c?(_=n?.children&&c?[...n.children].sort(c):n?.children||[],e[3]=n,e[4]=c,e[5]=_):_=e[5];const T=_,A=n?.items?.filter(nZe)||[],R=n?.items?.filter(tZe)||[],I=T.length>0,N=A.length>0,P=R.length>0,O=I&&(N||P)||N&&P;let D;e[6]!==I||e[7]!==N||e[8]!==P||e[9]!==n?(D=()=>{n&&(I?w("children"):N?w("comfyui"):P&&w("nai"))},e[6]=I,e[7]=N,e[8]=P,e[9]=n,e[10]=D):D=e[10];const H=n?.id;let L;e[11]!==I||e[12]!==N||e[13]!==P||e[14]!==H?(L=[H,I,N,P],e[11]=I,e[12]=N,e[13]=P,e[14]=H,e[15]=L):L=e[15],ke.useEffect(D,L);const $=Gt,M="outlined",z=v?300:400;let F;e[16]!==z?(F={flex:1,minHeight:z,display:"flex",flexDirection:"column",overflow:"hidden",p:2},e[16]=z,e[17]=F):F=e[17];const G=n?l.jsxs(l.Fragment,{children:[l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[l.jsxs(Z,{sx:{cursor:"pointer",flex:1,"&:hover":{opacity:.7}},onClick:()=>a(`++${n.name}++`),title:m("common:copy")||"Copy",children:[l.jsxs(ie,{variant:"h5",sx:{fontFamily:"monospace"},children:["++",n.name,"++"]}),n.description&&l.jsx(ie,{variant:"body2",color:"text.secondary",sx:{mt:.5},children:n.description})]}),l.jsxs(Z,{sx:{display:"flex",gap:.5},children:[l.jsx(lt,{onClick:()=>a(`++${n.name}++`),title:m("common:copy")||"Copy",children:l.jsx(ng,{})}),r]})]}),l.jsx(fn,{sx:{mb:2}}),o&&l.jsx(Z,{sx:{mb:2},children:o}),l.jsx(Z,{sx:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column"},children:d?d(n):O?l.jsxs(l.Fragment,{children:[l.jsxs(No,{value:S,onChange:(V,Y)=>w(Y),sx:{borderBottom:1,borderColor:"divider",minHeight:48,"& .MuiTabs-indicator":{height:3,borderRadius:"3px 3px 0 0"}},children:[I&&l.jsx(Cn,{value:"children",label:`${m("wildcards:detail.children")||" "} (${T.length})`,sx:{minHeight:48,fontWeight:S==="children"?600:400,"&.Mui-selected":{color:"warning.main"}}}),N&&l.jsx(Cn,{value:"comfyui",label:`ComfyUI (${A.length})`,sx:{minHeight:48,fontWeight:S==="comfyui"?600:400,"&.Mui-selected":{color:"primary.main"}}}),P&&l.jsx(Cn,{value:"nai",label:`NAI (${R.length})`,sx:{minHeight:48,fontWeight:S==="nai"?600:400,"&.Mui-selected":{color:"secondary.main"}}})]}),l.jsxs(Z,{sx:{flex:1,overflow:"auto",mt:2},children:[S==="children"&&I&&l.jsx(cn,{spacing:1,children:T.map(V=>l.jsx(ma,{variant:"outlined",sx:{cursor:"pointer",transition:"all 0.2s","&:hover":{bgcolor:"action.hover",borderColor:"primary.main"}},onClick:()=>i?.(V),children:l.jsx(Ri,{sx:{py:1.5,"&:last-child":{pb:1.5}},children:l.jsxs(cn,{direction:"row",alignItems:"center",spacing:1,sx:{width:"100%"},children:[V.children&&V.children.length>0?l.jsx(cl,{fontSize:"small",color:"warning"}):l.jsx(C7,{fontSize:"small",color:"info"}),l.jsxs(ie,{variant:"body1",sx:{flex:1,fontFamily:"monospace"},children:["++",V.name,"++"]}),V.children&&V.children.length>0&&l.jsx(mt,{label:`${V.children.length} sub`,size:"small",variant:"outlined"}),V.items&&V.items.length>0&&l.jsx(mt,{label:`${V.items.filter(eZe).length} items`,size:"small",color:"primary",variant:"outlined"}),l.jsx(lt,{size:"small",onClick:Y=>{Y.stopPropagation(),a(`++${V.name}++`)},title:m("common:copy")||"Copy",children:l.jsx(ng,{fontSize:"small"})})]})})},V.id))}),S==="comfyui"&&N&&l.jsx(Gt,{variant:"outlined",sx:{p:2,bgcolor:"background.default",maxHeight:"100%",overflow:"auto"},children:A.map((V,Y)=>l.jsx(ie,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.85em",py:.5,borderBottom:"1px solid",borderColor:"divider",cursor:"pointer",transition:"background-color 0.2s","&:hover":{bgcolor:"action.hover"},"&:last-child":{borderBottom:"none"}},onClick:()=>a(V.content),children:V.content},Y))}),S==="nai"&&P&&l.jsx(Gt,{variant:"outlined",sx:{p:2,bgcolor:"background.default",maxHeight:"100%",overflow:"auto"},children:R.map((V,Y)=>l.jsx(ie,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.85em",py:.5,borderBottom:"1px solid",borderColor:"divider",cursor:"pointer",transition:"background-color 0.2s","&:hover":{bgcolor:"action.hover"},"&:last-child":{borderBottom:"none"}},onClick:()=>a(V.content),children:V.content},Y))})]})]}):l.jsx(Z,{sx:{flex:1,overflow:"auto"},children:I?l.jsx(cn,{spacing:1,children:T.map(V=>l.jsx(ma,{variant:"outlined",sx:{cursor:"pointer",transition:"all 0.2s","&:hover":{bgcolor:"action.hover",borderColor:"primary.main"}},onClick:()=>i?.(V),children:l.jsx(Ri,{sx:{py:1.5,"&:last-child":{pb:1.5}},children:l.jsxs(cn,{direction:"row",alignItems:"center",spacing:1,sx:{width:"100%"},children:[V.children&&V.children.length>0?l.jsx(cl,{fontSize:"small",color:"warning"}):l.jsx(C7,{fontSize:"small",color:"info"}),l.jsxs(ie,{variant:"body1",sx:{flex:1,fontFamily:"monospace"},children:["++",V.name,"++"]}),V.children&&V.children.length>0&&l.jsx(mt,{label:`${V.children.length} sub`,size:"small",variant:"outlined"}),V.items&&V.items.length>0&&l.jsx(mt,{label:`${V.items.filter(JQe).length} items`,size:"small",color:"primary",variant:"outlined"}),l.jsx(lt,{size:"small",onClick:Y=>{Y.stopPropagation(),a(`++${V.name}++`)},title:m("common:copy")||"Copy",children:l.jsx(ng,{fontSize:"small"})})]})})},V.id))}):N?l.jsx(Gt,{variant:"outlined",sx:{p:2,bgcolor:"background.default",maxHeight:400,overflow:"auto"},children:A.map((V,Y)=>l.jsx(ie,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.85em",py:.5,borderBottom:"1px solid",borderColor:"divider",cursor:"pointer",transition:"background-color 0.2s","&:hover":{bgcolor:"action.hover"},"&:last-child":{borderBottom:"none"}},onClick:()=>a(V.content),children:V.content},Y))}):P?l.jsx(Gt,{variant:"outlined",sx:{p:2,bgcolor:"background.default",maxHeight:400,overflow:"auto"},children:R.map((V,Y)=>l.jsx(ie,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.85em",py:.5,borderBottom:"1px solid",borderColor:"divider",cursor:"pointer",transition:"background-color 0.2s","&:hover":{bgcolor:"action.hover"},"&:last-child":{borderBottom:"none"}},onClick:()=>a(V.content),children:V.content},Y))}):l.jsx(ie,{variant:"body2",color:"text.secondary",children:m("wildcards:autoCollect.noItems")||"No items"})})})]}):l.jsx(Z,{sx:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(ie,{variant:"body1",color:"text.secondary",children:s||m("wildcards:autoCollect.selectWildcard")||"Select a wildcard from the tree"})});let ee;return e[18]!==$||e[19]!==F||e[20]!==G?(ee=l.jsx($,{variant:M,sx:F,children:G}),e[18]=$,e[19]=F,e[20]=G,e[21]=ee):ee=e[21],ee}function JQe(t){return t.tool==="comfyui"}function eZe(t){return t.tool==="comfyui"}function tZe(t){return t.tool==="nai"}function nZe(t){return t.tool==="comfyui"}function aZe(){const{t}=ht(["wildcards","common"]),{enqueueSnackbar:e}=jj(),n=Fi(),a=xf(n.breakpoints.down("md")),[i,r]=E.useState([]),[o,s]=E.useState(!0),{selectedNode:c,expandedIds:u,totalCount:d,handleSelect:h,handleToggle:m,handleExpandAll:g,handleCollapseAll:y,handleCopy:v,sortNodesByHierarchy:S,setSelectedNode:w}=lte(i),[_,T]=E.useState(1),[A,R]=E.useState("number"),[I,N]=E.useState("filename"),[P,O]=E.useState("add.txt"),[D,H]=E.useState("filename"),[L,$]=E.useState(!1),[M,z]=E.useState(null),[F,G]=E.useState([]),[ee,V]=E.useState(null),[Y,K]=E.useState(!1),[J,W]=E.useState(!1);E.useEffect(()=>{te(),re()},[]);const te=async()=>{try{s(!0);const de=(await Pc.getWildcardsHierarchical()).data.filter(fe=>fe.is_auto_collected===1);r(de),de.length>0&&!c&&w(de[0])}catch(he){console.error("Error loading hierarchy data:",he)}finally{s(!1)}},re=async()=>{try{const he=await Pc.getLastScanLog();V(he.data)}catch(he){console.error("Error loading last scan log:",he)}},ne=async he=>{const de=he.target.files;if(!de||de.length===0)return;z(null);const fe=[],oe=new Map;if(I==="common")for(let ue=0;ue<de.length;ue++){const le=de[ue];if(le.name===P){const _e=le.webkitRelativePath.split("/").slice(0,-1).join("/");try{const ze=(await le.text()).split(`
`).map(Me=>Me.trim()).filter(Me=>Me.length>0);oe.set(_e,ze)}catch(Ie){console.error("Error reading common text file:",Ie)}}}for(let ue=0;ue<de.length;ue++){const le=de[ue],Se=le.webkitRelativePath.split("/");if(le.name.endsWith(".safetensors")){const _e=le.name.replace(".safetensors",""),Ie=Se.slice(1,-1).join("/")||Se[0],ze=Se.slice(0,-1).join("/");let Me=[];if(I==="filename"){const Ze=_e+".txt";for(let Ee=0;Ee<de.length;Ee++){const Ne=de[Ee];if(Ne.webkitRelativePath===le.webkitRelativePath.replace(le.name,Ze)){try{Me=(await Ne.text()).split(`
`).map(we=>we.trim()).filter(we=>we.length>0)}catch(ve){console.error("Error reading txt file:",ve)}break}}}else if(D==="common")if(oe.has(ze))Me=oe.get(ze);else{const Ze=_e+".txt";for(let Ee=0;Ee<de.length;Ee++){const Ne=de[Ee];if(Ne.webkitRelativePath===le.webkitRelativePath.replace(le.name,Ze)){try{Me=(await Ne.text()).split(`
`).map(we=>we.trim()).filter(we=>we.length>0)}catch(ve){console.error("Error reading txt file:",ve)}break}}}else{const Ze=_e+".txt";let Ee=!1;for(let Ne=0;Ne<de.length;Ne++){const ve=de[Ne];if(ve.webkitRelativePath===le.webkitRelativePath.replace(le.name,Ze)){try{Me=(await ve.text()).split(`
`).map(Oe=>Oe.trim()).filter(Oe=>Oe.length>0),Ee=!0}catch(we){console.error("Error reading txt file:",we)}break}}!Ee&&oe.has(ze)&&(Me=oe.get(ze))}fe.push({folderName:Ie,loraName:_e,promptLines:Me})}}G(fe)},ce=async()=>{if(F.length===0){z(t("wildcards:autoCollect.errors.folderPathRequired"));return}if(_<.1||_>2){z(t("wildcards:autoCollect.errors.invalidWeight"));return}try{$(!0),z(null);const he={loraFiles:F,loraWeight:_,duplicateHandling:A,matchingMode:I,commonTextFilename:P,matchingPriority:D},de=await Pc.scanLoraFolder(he);w(null),await te(),await re(),K(!1),G([]),alert(`${t("common:success")}! ${de.data.created} ${t("wildcards:autoCollect.scanLog.totalWildcards")}`)}catch(he){z(t("wildcards:autoCollect.errors.scanFailed",{error:he.response?.data?.error||he.message}))}finally{$(!1)}},pe=()=>{z(null),G([]),K(!0)},me=()=>{L||(K(!1),z(null),G([]))},ge=()=>{W(!0)},ye=()=>{W(!1)};return o?l.jsx(Z,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:l.jsx(Yt,{})}):l.jsxs(Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[l.jsxs(ie,{variant:"h6",children:[t("wildcards:tabs.autoCollected"),l.jsxs(ie,{component:"span",variant:"body2",color:"text.secondary",sx:{ml:1},children:["(",d," ",t("wildcards:autoCollect.filters.totalWildcards",{count:d}).split(" ").pop(),")"]})]}),l.jsxs(Z,{sx:{display:"flex",gap:1},children:[ee&&l.jsx(jt,{title:t("wildcards:buttons.openLogDialog"),children:l.jsx(lt,{size:"small",onClick:ge,color:"secondary",children:l.jsx(M4,{})})}),l.jsx(jt,{title:t("wildcards:buttons.openScanDialog"),children:l.jsx(lt,{size:"small",onClick:pe,color:"primary",children:l.jsx(_2,{})})})]})]}),i.length===0?l.jsxs(Gt,{sx:{p:4,textAlign:"center",flex:1},children:[l.jsx(ie,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:t("wildcards:autoCollect.noAutoWildcards")}),l.jsx(ie,{variant:"body2",color:"text.secondary",children:t("wildcards:autoCollect.noAutoWildcardsDesc")})]}):l.jsxs(Z,{sx:{display:"flex",flexDirection:a?"column":"row",gap:2,flex:1,minHeight:0},children:[l.jsx(ute,{data:i,selectedId:c?.id??null,expandedIds:u,onSelect:h,onToggle:m,onExpandAll:g,onCollapseAll:y,sortChildren:S}),l.jsx(dte,{selectedNode:c,onCopy:v,onChildClick:he=>{h(he),c&&m(c.id)},sortChildren:S})]}),l.jsxs(Fn,{open:Y,onClose:me,maxWidth:"md",fullWidth:!0,children:[l.jsx(Un,{children:t("wildcards:scanDialog.title")}),l.jsxs($n,{children:[M&&l.jsx(xt,{severity:"error",sx:{mb:2},onClose:()=>z(null),children:M}),l.jsxs(Z,{sx:{display:"flex",flexDirection:"column",gap:2,pt:1},children:[l.jsx(xt,{severity:"info",children:t("wildcards:scanDialog.infoMessage")}),l.jsx("input",{type:"file",id:"lora-folder-input-dialog",style:{display:"none"},webkitdirectory:"",directory:"",multiple:!0,onChange:ne}),l.jsx("label",{htmlFor:"lora-folder-input-dialog",children:l.jsx(Ue,{variant:"contained",component:"span",fullWidth:!0,size:"large",startIcon:l.jsx(Ps,{}),children:F.length>0?t("wildcards:autoCollect.filesSelected",{count:F.length}):t("wildcards:autoCollect.folderPath")})}),F.length>0&&l.jsxs(xt,{severity:"success",children:[t("wildcards:autoCollect.filesFound",{count:F.length}),l.jsxs(Z,{component:"ul",sx:{mt:1,mb:0},children:[F.slice(0,5).map((he,de)=>l.jsxs("li",{children:[l.jsx("strong",{children:he.loraName}),he.promptLines.length>0&&` (${t("wildcards:autoCollect.promptsCount",{count:he.promptLines.length})})`]},de)),F.length>5&&l.jsx("li",{children:t("wildcards:autoCollect.moreFiles",{count:F.length-5})})]})]}),l.jsx(Tt,{fullWidth:!0,type:"number",label:t("wildcards:autoCollect.loraWeight"),value:_,onChange:he=>T(parseFloat(he.target.value)),helperText:t("wildcards:autoCollect.loraWeightHelper"),inputProps:{min:.1,max:2,step:.1}}),l.jsxs(ri,{component:"fieldset",children:[l.jsx($v,{component:"legend",children:t("wildcards:autoCollect.duplicateHandling")}),l.jsxs(U1,{value:A,onChange:he=>R(he.target.value),children:[l.jsx(wn,{value:"number",control:l.jsx(Xs,{}),label:t("wildcards:autoCollect.duplicateNumber")}),l.jsx(wn,{value:"parent",control:l.jsx(Xs,{}),label:t("wildcards:autoCollect.duplicateParent")})]})]}),l.jsxs(ri,{component:"fieldset",children:[l.jsx($v,{component:"legend",children:t("wildcards:autoCollect.matchingMode")}),l.jsxs(U1,{value:I,onChange:he=>N(he.target.value),children:[l.jsx(wn,{value:"filename",control:l.jsx(Xs,{}),label:t("wildcards:autoCollect.matchingModeFilename")}),l.jsx(wn,{value:"common",control:l.jsx(Xs,{}),label:t("wildcards:autoCollect.matchingModeCommon")})]})]}),I==="common"&&l.jsxs(l.Fragment,{children:[l.jsx(Tt,{fullWidth:!0,label:t("wildcards:autoCollect.commonTextFilename"),value:P,onChange:he=>O(he.target.value),helperText:t("wildcards:autoCollect.commonTextFilenameHelper")}),l.jsxs(ri,{component:"fieldset",children:[l.jsx($v,{component:"legend",children:t("wildcards:autoCollect.matchingPriority")}),l.jsxs(U1,{value:D,onChange:he=>H(he.target.value),children:[l.jsx(wn,{value:"filename",control:l.jsx(Xs,{}),label:t("wildcards:autoCollect.priorityFilename")}),l.jsx(wn,{value:"common",control:l.jsx(Xs,{}),label:t("wildcards:autoCollect.priorityCommon")})]})]})]}),l.jsxs(xt,{severity:"warning",children:[l.jsx("strong",{children:t("wildcards:scanDialog.warningTitle")}),l.jsxs(Z,{component:"ul",sx:{mt:1,mb:0},children:[l.jsx("li",{children:t("wildcards:scanDialog.warning1")}),l.jsx("li",{children:t("wildcards:scanDialog.warning2")}),l.jsx("li",{children:t("wildcards:scanDialog.warning3")})]})]})]})]}),l.jsxs(Wn,{children:[l.jsx(Ue,{onClick:me,disabled:L,children:t("common:cancel")}),l.jsx(Ue,{onClick:ce,variant:"contained",disabled:F.length===0||L,startIcon:L?l.jsx(Yt,{size:16}):l.jsx(_2,{}),children:t(L?"wildcards:autoCollect.scanning":"wildcards:scanDialog.scanButton")})]})]}),l.jsxs(Fn,{open:J,onClose:ye,maxWidth:"sm",fullWidth:!0,children:[l.jsx(Un,{children:t("wildcards:logDialog.title")}),l.jsx($n,{children:ee&&l.jsxs(cn,{spacing:2,sx:{pt:1},children:[l.jsxs(Z,{children:[l.jsx(ie,{variant:"subtitle2",color:"text.secondary",children:t("wildcards:autoCollect.scanLog.timestamp")}),l.jsx(ie,{children:new Date(ee.timestamp).toLocaleString()})]}),l.jsxs(cn,{direction:"row",spacing:4,children:[l.jsxs(Z,{children:[l.jsx(ie,{variant:"subtitle2",color:"text.secondary",children:t("wildcards:autoCollect.scanLog.totalWildcards")}),l.jsx(ie,{variant:"h6",children:ee.totalWildcards})]}),l.jsxs(Z,{children:[l.jsx(ie,{variant:"subtitle2",color:"text.secondary",children:t("wildcards:autoCollect.scanLog.totalItems")}),l.jsx(ie,{variant:"h6",children:ee.totalItems})]})]}),l.jsx(fn,{}),l.jsx(ie,{variant:"subtitle2",children:t("wildcards:autoCollect.scanLog.details")}),l.jsx(Ms,{dense:!0,sx:{maxHeight:300,overflow:"auto"},children:ee.wildcards.map(he=>l.jsx(yf,{children:l.jsx(ar,{primary:`++${he.name}++`,secondary:`${he.folderName} (${he.itemCount} ${t("wildcards:autoCollect.scanLog.itemCount")})`})},he.id))})]})}),l.jsx(Wn,{children:l.jsx(Ue,{onClick:ye,children:t("common:close")})})]})]})}const iZe=t=>{const e=yt.c(59),{open:n,wildcard:a,childCount:i,onClose:r,onConfirm:o}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=["wildcards","common"],e[0]=s):s=e[0];const{t:c}=ht(s),[u,d]=ke.useState("moveUp"),h=i>0;let m;e[1]!==u||e[2]!==o?(m=()=>{o(u==="cascade")},e[1]=u,e[2]=o,e[3]=m):m=e[3];const g=m;if(!a)return null;let y;e[4]!==c?(y=c("wildcards:deleteConfirm.title"),e[4]=c,e[5]=y):y=e[5];let v;e[6]!==y?(v=l.jsx(Un,{children:y}),e[6]=y,e[7]=v):v=e[7];let S;e[8]===Symbol.for("react.memo_cache_sentinel")?(S={mb:2},e[8]=S):S=e[8];let w;e[9]!==c||e[10]!==a.name?(w=c("wildcards:deleteConfirm.message",{name:a.name}),e[9]=c,e[10]=a.name,e[11]=w):w=e[11];let _;e[12]!==w?(_=l.jsx(Z,{sx:S,children:l.jsx(ie,{variant:"body1",gutterBottom:!0,children:w})}),e[12]=w,e[13]=_):_=e[13];let T;e[14]===Symbol.for("react.memo_cache_sentinel")?(T={mb:2,p:2,bgcolor:"action.hover",borderRadius:1},e[14]=T):T=e[14];let A;e[15]!==c||e[16]!==a.items.length?(A=c("wildcards:deleteConfirm.wildcardInfo.itemCount",{count:a.items.length}),e[15]=c,e[16]=a.items.length,e[17]=A):A=e[17];let R;e[18]!==A?(R=l.jsx(ie,{variant:"body2",color:"text.secondary",children:A}),e[18]=A,e[19]=R):R=e[19];let I;e[20]!==i||e[21]!==h||e[22]!==c?(I=h&&l.jsx(ie,{variant:"body2",color:"text.secondary",children:c("wildcards:deleteConfirm.wildcardInfo.childCount",{count:i})}),e[20]=i,e[21]=h,e[22]=c,e[23]=I):I=e[23];let N;e[24]!==R||e[25]!==I?(N=l.jsxs(Z,{sx:T,children:[R,I]}),e[24]=R,e[25]=I,e[26]=N):N=e[26];let P;e[27]!==i||e[28]!==u||e[29]!==h||e[30]!==c?(P=h&&l.jsxs(l.Fragment,{children:[l.jsx(xt,{severity:"info",sx:{mb:2},children:c("wildcards:deleteConfirm.childrenNotice")}),l.jsxs(ri,{component:"fieldset",fullWidth:!0,children:[l.jsx(ie,{variant:"subtitle2",gutterBottom:!0,children:c("wildcards:deleteConfirm.options.title")}),l.jsxs(U1,{value:u,onChange:G=>d(G.target.value),children:[l.jsx(wn,{value:"moveUp",control:l.jsx(Xs,{}),label:l.jsxs(Z,{children:[l.jsx(ie,{variant:"body2",children:c("wildcards:deleteConfirm.options.moveUp.label")}),l.jsx(ie,{variant:"caption",color:"text.secondary",children:c("wildcards:deleteConfirm.options.moveUp.description")})]})}),l.jsx(wn,{value:"cascade",control:l.jsx(Xs,{color:"error"}),label:l.jsxs(Z,{children:[l.jsx(ie,{variant:"body2",color:"error",children:c("wildcards:deleteConfirm.options.cascade.label")}),l.jsx(ie,{variant:"caption",color:"text.secondary",children:c("wildcards:deleteConfirm.options.cascade.description",{count:i})})]})})]})]})]}),e[27]=i,e[28]=u,e[29]=h,e[30]=c,e[31]=P):P=e[31];let O;e[32]!==h||e[33]!==c?(O=!h&&l.jsx(xt,{severity:"warning",sx:{mb:2},children:c("wildcards:deleteConfirm.warning.permanent")}),e[32]=h,e[33]=c,e[34]=O):O=e[34];let D;e[35]!==N||e[36]!==P||e[37]!==O||e[38]!==_?(D=l.jsxs($n,{children:[_,N,P,O]}),e[35]=N,e[36]=P,e[37]=O,e[38]=_,e[39]=D):D=e[39];let H;e[40]!==c?(H=c("common:cancel"),e[40]=c,e[41]=H):H=e[41];let L;e[42]!==r||e[43]!==H?(L=l.jsx(Ue,{onClick:r,children:H}),e[42]=r,e[43]=H,e[44]=L):L=e[44];let $;e[45]!==c?($=c("common:delete"),e[45]=c,e[46]=$):$=e[46];let M;e[47]!==g||e[48]!==$?(M=l.jsx(Ue,{onClick:g,color:"error",variant:"contained",children:$}),e[47]=g,e[48]=$,e[49]=M):M=e[49];let z;e[50]!==L||e[51]!==M?(z=l.jsxs(Wn,{children:[L,M]}),e[50]=L,e[51]=M,e[52]=z):z=e[52];let F;return e[53]!==r||e[54]!==n||e[55]!==D||e[56]!==z||e[57]!==v?(F=l.jsxs(Fn,{open:n,onClose:r,maxWidth:"sm",fullWidth:!0,children:[v,D,z]}),e[53]=r,e[54]=n,e[55]=D,e[56]=z,e[57]=v,e[58]=F):F=e[58],F};function c_(t){const e=yt.c(13);let n,a,i,r;e[0]!==t?({children:n,value:r,index:a,...i}=t,e[0]=t,e[1]=n,e[2]=a,e[3]=i,e[4]=r):(n=e[1],a=e[2],i=e[3],r=e[4]);const o=r!==a;let s;e[5]!==n||e[6]!==a||e[7]!==r?(s=r===a&&l.jsx(Z,{sx:{pt:2},children:n}),e[5]=n,e[6]=a,e[7]=r,e[8]=s):s=e[8];let c;return e[9]!==i||e[10]!==o||e[11]!==s?(c=l.jsx("div",{role:"tabpanel",hidden:o,...i,children:s}),e[9]=i,e[10]=o,e[11]=s,e[12]=c):c=e[12],c}function rZe(){const{t}=ht(["wildcards","common"]),{enqueueSnackbar:e}=jj(),n=Fi(),a=xf(n.breakpoints.down("md")),[i,r]=E.useState([]),[o,s]=E.useState(!0),{selectedNode:c,expandedIds:u,handleSelect:d,handleToggle:h,handleExpandAll:m,handleCollapseAll:g,handleCopy:y,sortNodesByHierarchy:v,setSelectedNode:S}=lte(i),_=(oe=>{const ue=[],le=Se=>{Se.forEach(_e=>{ue.push(_e),_e.children&&_e.children.length>0&&le(_e.children)})};return le(oe),ue})(i),[T,A]=E.useState(!1),[R,I]=E.useState(null),[N,P]=E.useState(0),[O,D]=E.useState({name:"",description:"",comfyuiItems:[""],naiItems:[""],parent_id:null,include_children:!0}),[H,L]=E.useState(!1),[$,M]=E.useState("comfyui"),[z,F]=E.useState(""),[G,ee]=E.useState([]),[V,Y]=E.useState(!1),[K,J]=E.useState(!1),[W,te]=E.useState(null);E.useEffect(()=>{re()},[]);const re=async()=>{try{s(!0);const oe=await Pc.getWildcardsHierarchical(),ue=Se=>Se.filter(_e=>_e.is_auto_collected!==1).map(_e=>({..._e,children:_e.children?ue(_e.children):void 0})),le=ue(oe.data||[]);r(le)}catch(oe){e(oe.response?.data?.error||oe.message,{variant:"error"})}finally{s(!1)}},ne=oe=>{if(oe){I(oe);const ue=oe.items.filter(Se=>Se.tool==="comfyui").map(Se=>Se.content),le=oe.items.filter(Se=>Se.tool==="nai").map(Se=>Se.content);D({name:oe.name,description:oe.description||"",comfyuiItems:ue.length>0?ue:[""],naiItems:le.length>0?le:[""],parent_id:oe.parent_id??null,include_children:oe.include_children===1})}else I(null),D({name:"",description:"",comfyuiItems:[""],naiItems:[""],parent_id:c?.id??null,include_children:!0});P(0),A(!0)},ce=()=>{A(!1),I(null),P(0)},pe=async()=>{try{const oe=O.comfyuiItems.filter(Se=>Se.trim()!==""),ue=O.naiItems.filter(Se=>Se.trim()!=="");if(!O.name.trim()){e(t("wildcards:errors.nameRequired"),{variant:"error"});return}if(oe.length===0&&ue.length===0){e(t("wildcards:errors.itemsRequired"),{variant:"error"});return}const le={comfyui:oe,nai:ue};if(R&&R.id>0){const Se={name:O.name.trim(),description:O.description.trim()||void 0,items:le,parent_id:O.parent_id,include_children:O.include_children?1:0},_e=await Pc.updateWildcard(R.id,Se);_e.warning&&e(_e.warning,{variant:"warning"})}else{const Se={name:O.name.trim(),description:O.description.trim()||void 0,items:le,parent_id:O.parent_id,include_children:O.include_children?1:0},_e=await Pc.createWildcard(Se);_e.warning&&e(_e.warning,{variant:"warning"})}ce(),re(),e(t(R?"wildcards:messages.updateSuccess":"wildcards:messages.createSuccess"),{variant:"success"})}catch(oe){e(oe.response?.data?.error||oe.message,{variant:"error"})}},me=oe=>{te(oe),J(!0)},ge=async oe=>{if(W)try{await Pc.deleteWildcard(W.id,oe),c?.id===W.id&&S(null),J(!1),te(null),re(),e(t("wildcards:messages.deleteSuccess"),{variant:"success"})}catch(ue){e(ue.response?.data?.error||t("wildcards:messages.deleteFailed"),{variant:"error"})}},ye=oe=>{D(ue=>({...ue,[oe==="comfyui"?"comfyuiItems":"naiItems"]:[...oe==="comfyui"?ue.comfyuiItems:ue.naiItems,""]}))},he=(oe,ue)=>{D(le=>({...le,[oe==="comfyui"?"comfyuiItems":"naiItems"]:(oe==="comfyui"?le.comfyuiItems:le.naiItems).filter((Se,_e)=>_e!==ue)}))},de=(oe,ue,le)=>{D(Se=>({...Se,[oe==="comfyui"?"comfyuiItems":"naiItems"]:(oe==="comfyui"?Se.comfyuiItems:Se.naiItems).map((_e,Ie)=>Ie===ue?le:_e)}))},fe=async()=>{if(!z.trim()){e(t("wildcards:errors.previewTextRequired"),{variant:"error"});return}try{Y(!0);const oe=await Pc.parseWildcards({text:z,tool:$,count:5});ee(oe.data.results)}catch(oe){e(oe.response?.data?.error||oe.message,{variant:"error"})}finally{Y(!1)}};return o?l.jsx(Z,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:l.jsx(Yt,{})}):l.jsxs(Z,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[l.jsxs(Z,{sx:{mb:2,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:1},children:[l.jsx(ie,{variant:"h6",children:t("wildcards:page.title")}),l.jsxs(Z,{sx:{display:"flex",gap:1},children:[l.jsx(jt,{title:t("wildcards:actions.add"),children:l.jsx(lt,{size:"small",color:"primary",onClick:()=>ne(),children:l.jsx(Vr,{})})}),l.jsx(jt,{title:t("wildcards:actions.preview"),children:l.jsx(lt,{size:"small",onClick:()=>L(!0),children:l.jsx(ip,{})})}),l.jsx(jt,{title:t("common:refresh"),children:l.jsx(lt,{size:"small",onClick:re,children:l.jsx(jo,{})})})]})]}),l.jsxs(Z,{sx:{display:"flex",flexDirection:a?"column":"row",gap:2,flex:1,minHeight:0},children:[l.jsx(ute,{data:i,selectedId:c?.id??null,expandedIds:u,onSelect:d,onToggle:h,onExpandAll:m,onCollapseAll:g,sortChildren:v,emptyMessage:t("wildcards:page.noWildcards")}),l.jsx(dte,{selectedNode:c,onCopy:y,onChildClick:d,sortChildren:v,emptyMessage:t("wildcards:detail.selectItem")||"  ",actionButtons:c?l.jsxs(l.Fragment,{children:[l.jsx(jt,{title:t("wildcards:actions.edit"),children:l.jsx(lt,{size:"small",onClick:()=>ne(c),children:l.jsx(id,{fontSize:"small"})})}),l.jsx(jt,{title:t("wildcards:actions.delete"),children:l.jsx(lt,{size:"small",color:"error",onClick:()=>me(c),children:l.jsx(Wa,{fontSize:"small"})})})]}):void 0})]}),l.jsxs(Fn,{open:T,onClose:ce,maxWidth:"md",fullWidth:!0,children:[l.jsx(Un,{children:t(R?"wildcards:dialog.editTitle":"wildcards:dialog.createTitle")}),l.jsx($n,{children:l.jsxs(cn,{spacing:2,sx:{mt:1},children:[l.jsx(Tt,{label:t("wildcards:form.name"),value:O.name,onChange:oe=>D(ue=>({...ue,name:oe.target.value})),fullWidth:!0,helperText:t("wildcards:form.nameHelper")}),l.jsx(Tt,{label:t("wildcards:form.description"),value:O.description,onChange:oe=>D(ue=>({...ue,description:oe.target.value})),fullWidth:!0,multiline:!0,rows:2}),l.jsx(w$e,{items:_,selectedParentId:O.parent_id,onParentChange:oe=>D(ue=>({...ue,parent_id:oe})),excludeIds:R?[R.id]:[],label:t("wildcards:form.parent"),noParentLabel:t("wildcards:form.noParent"),showItemCount:!0}),l.jsx(jt,{title:t("wildcards:form.includeChildrenHelper"),arrow:!0,placement:"bottom",children:l.jsx(wn,{control:l.jsx(Zs,{checked:O.include_children,onChange:oe=>D(ue=>({...ue,include_children:oe.target.checked}))}),label:t("wildcards:form.includeChildren")})}),l.jsx(fn,{}),l.jsxs(Z,{children:[l.jsxs(No,{value:N,onChange:(oe,ue)=>P(ue),children:[l.jsx(Cn,{label:"ComfyUI"}),l.jsx(Cn,{label:"NovelAI"})]}),l.jsx(c_,{value:N,index:0,children:l.jsxs(Z,{children:[l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[l.jsx(ie,{variant:"subtitle2",children:t("wildcards:form.comfyuiItems")}),l.jsx(Ue,{size:"small",startIcon:l.jsx(Vr,{}),onClick:()=>ye("comfyui"),children:t("wildcards:actions.addItem")})]}),l.jsx(xt,{severity:"info",sx:{mb:2},children:t("wildcards:form.itemsHelper")}),l.jsx(cn,{spacing:1,children:O.comfyuiItems.map((oe,ue)=>l.jsxs(Z,{sx:{display:"flex",gap:1,alignItems:"center"},children:[l.jsxs(ie,{variant:"body2",sx:{minWidth:30},children:[ue+1,"."]}),l.jsx(Tt,{value:oe,onChange:le=>de("comfyui",ue,le.target.value),fullWidth:!0,size:"small",placeholder:t("wildcards:form.itemPlaceholder")}),l.jsx(lt,{size:"small",onClick:()=>he("comfyui",ue),disabled:O.comfyuiItems.length===1,children:l.jsx(Wa,{fontSize:"small"})})]},ue))})]})}),l.jsx(c_,{value:N,index:1,children:l.jsxs(Z,{children:[l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[l.jsx(ie,{variant:"subtitle2",children:t("wildcards:form.naiItems")}),l.jsx(Ue,{size:"small",startIcon:l.jsx(Vr,{}),onClick:()=>ye("nai"),children:t("wildcards:actions.addItem")})]}),l.jsx(xt,{severity:"info",sx:{mb:2},children:t("wildcards:form.itemsHelper")}),l.jsx(cn,{spacing:1,children:O.naiItems.map((oe,ue)=>l.jsxs(Z,{sx:{display:"flex",gap:1,alignItems:"center"},children:[l.jsxs(ie,{variant:"body2",sx:{minWidth:30},children:[ue+1,"."]}),l.jsx(Tt,{value:oe,onChange:le=>de("nai",ue,le.target.value),fullWidth:!0,size:"small",placeholder:t("wildcards:form.itemPlaceholder")}),l.jsx(lt,{size:"small",onClick:()=>he("nai",ue),disabled:O.naiItems.length===1,children:l.jsx(Wa,{fontSize:"small"})})]},ue))})]})})]})]})}),l.jsxs(Wn,{children:[l.jsx(Ue,{onClick:ce,children:t("common:cancel")}),l.jsx(Ue,{onClick:pe,variant:"contained",children:t(R?"common:save":"common:create")})]})]}),l.jsxs(Fn,{open:H,onClose:()=>L(!1),maxWidth:"md",fullWidth:!0,children:[l.jsx(Un,{children:t("wildcards:preview.title")}),l.jsx($n,{children:l.jsxs(cn,{spacing:2,sx:{mt:1},children:[l.jsxs(No,{value:$==="comfyui"?0:1,onChange:(oe,ue)=>M(ue===0?"comfyui":"nai"),children:[l.jsx(Cn,{label:"ComfyUI"}),l.jsx(Cn,{label:"NovelAI"})]}),l.jsx(Tt,{label:t("wildcards:preview.inputLabel"),value:z,onChange:oe=>F(oe.target.value),fullWidth:!0,multiline:!0,rows:3,placeholder:t("wildcards:preview.inputPlaceholder")}),l.jsx(Ue,{variant:"contained",startIcon:V?l.jsx(Yt,{size:20}):l.jsx(jo,{}),onClick:fe,disabled:V,children:t("wildcards:preview.generate")}),G.length>0&&l.jsxs(Gt,{variant:"outlined",sx:{p:2},children:[l.jsx(ie,{variant:"subtitle2",sx:{mb:2},children:t("wildcards:preview.results")}),l.jsx(cn,{spacing:1,children:G.map((oe,ue)=>l.jsxs(Z,{sx:{p:1.5,bgcolor:"action.hover",borderRadius:1},children:[l.jsx(ie,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5},children:t("wildcards:preview.result",{number:ue+1})}),l.jsx(ie,{variant:"body2",children:oe})]},ue))})]})]})}),l.jsx(Wn,{children:l.jsx(Ue,{onClick:()=>L(!1),children:t("common:close")})})]}),l.jsx(iZe,{open:K,wildcard:W,childCount:W?.children?.length||0,onClose:()=>{J(!1),te(null)},onConfirm:ge})]})}function oZe(){const t=yt.c(25);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=["wildcards","common"],t[0]=e):e=t[0];const{t:n}=ht(e),[a,i]=E.useState(0);let r;t[1]===Symbol.for("react.memo_cache_sentinel")?(r=(_,T)=>{i(T)},t[1]=r):r=t[1];const o=r;let s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s={borderBottom:1,borderColor:"divider"},t[2]=s):s=t[2];let c;t[3]!==n?(c=n("wildcards:tabs.manual"),t[3]=n,t[4]=c):c=t[4];let u;t[5]!==c?(u=l.jsx(Cn,{label:c}),t[5]=c,t[6]=u):u=t[6];let d;t[7]!==n?(d=n("wildcards:tabs.autoCollected"),t[7]=n,t[8]=d):d=t[8];let h;t[9]!==d?(h=l.jsx(Cn,{label:d}),t[9]=d,t[10]=h):h=t[10];let m;t[11]!==a||t[12]!==u||t[13]!==h?(m=l.jsxs(No,{value:a,onChange:o,sx:s,children:[u,h]}),t[11]=a,t[12]=u,t[13]=h,t[14]=m):m=t[14];let g;t[15]===Symbol.for("react.memo_cache_sentinel")?(g=l.jsx(rZe,{}),t[15]=g):g=t[15];let y;t[16]!==a?(y=l.jsx(c_,{value:a,index:0,children:g}),t[16]=a,t[17]=y):y=t[17];let v;t[18]===Symbol.for("react.memo_cache_sentinel")?(v=l.jsx(aZe,{}),t[18]=v):v=t[18];let S;t[19]!==a?(S=l.jsx(c_,{value:a,index:1,children:v}),t[19]=a,t[20]=S):S=t[20];let w;return t[21]!==S||t[22]!==m||t[23]!==y?(w=l.jsxs(Z,{children:[m,y,S]}),t[21]=S,t[22]=m,t[23]=y,t[24]=w):w=t[24],w}function I6(t){const e=yt.c(15);let n,a,i,r;e[0]!==t?({children:n,value:r,index:a,...i}=t,e[0]=t,e[1]=n,e[2]=a,e[3]=i,e[4]=r):(n=e[1],a=e[2],i=e[3],r=e[4]);const o=r!==a,s=`image-generation-tabpanel-${a}`,c=`image-generation-tab-${a}`;let u;e[5]!==n||e[6]!==a||e[7]!==r?(u=r===a&&l.jsx(Z,{sx:{pt:3},children:n}),e[5]=n,e[6]=a,e[7]=r,e[8]=u):u=e[8];let d;return e[9]!==i||e[10]!==o||e[11]!==s||e[12]!==c||e[13]!==u?(d=l.jsx("div",{role:"tabpanel",hidden:o,id:s,"aria-labelledby":c,...i,children:u}),e[9]=i,e[10]=o,e[11]=s,e[12]=c,e[13]=u,e[14]=d):d=e[14],d}function sZe(){const t=yt.c(61);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=["imageGeneration"],t[0]=e):e=t[0];const{t:n}=ht(e),[a,i]=ele();let r;t[1]!==a?(r=a.get("tab"),t[1]=a,t[2]=r):r=t[2];const o=r,[s,c]=E.useState(0);let u,d;t[3]!==o?(u=()=>{c(o==="comfyui"||o==="workflows"||o==="servers"?1:o==="wildcards"?2:0)},d=[o],t[3]=o,t[4]=u,t[5]=d):(u=t[4],d=t[5]),E.useEffect(u,d);let h;t[6]!==i?(h=(W,te)=>{c(te),te===0?i({tab:"nai"}):te===1?i({tab:"comfyui"}):te===2&&i({tab:"wildcards"})},t[6]=i,t[7]=h):h=t[7];const m=h;let g;t[8]===Symbol.for("react.memo_cache_sentinel")?(g={p:3},t[8]=g):g=t[8];let y;t[9]===Symbol.for("react.memo_cache_sentinel")?(y={mb:3},t[9]=y):y=t[9];let v;t[10]!==n?(v=n("imageGeneration:page.title"),t[10]=n,t[11]=v):v=t[11];let S;t[12]!==v?(S=l.jsx(ie,{variant:"h4",gutterBottom:!0,children:v}),t[12]=v,t[13]=S):S=t[13];let w;t[14]!==n?(w=n("imageGeneration:page.subtitle"),t[14]=n,t[15]=w):w=t[15];let _;t[16]!==w?(_=l.jsx(ie,{variant:"body2",color:"text.secondary",children:w}),t[16]=w,t[17]=_):_=t[17];let T;t[18]!==_||t[19]!==S?(T=l.jsxs(Z,{sx:y,children:[S,_]}),t[18]=_,t[19]=S,t[20]=T):T=t[20];let A;t[21]===Symbol.for("react.memo_cache_sentinel")?(A={borderBottom:1,borderColor:"divider",mb:2},t[21]=A):A=t[21];let R;t[22]!==n?(R=n("imageGeneration:tabs.ariaLabel"),t[22]=n,t[23]=R):R=t[23];let I;t[24]===Symbol.for("react.memo_cache_sentinel")?(I=l.jsx(vf,{}),t[24]=I):I=t[24];let N;t[25]!==n?(N=n("imageGeneration:tabs.novelai"),t[25]=n,t[26]=N):N=t[26];let P;t[27]!==N?(P=l.jsx(Cn,{icon:I,iconPosition:"start",label:N,id:"image-generation-tab-0","aria-controls":"image-generation-tabpanel-0"}),t[27]=N,t[28]=P):P=t[28];let O;t[29]===Symbol.for("react.memo_cache_sentinel")?(O=l.jsx(tD,{}),t[29]=O):O=t[29];let D;t[30]!==n?(D=n("imageGeneration:tabs.comfyui"),t[30]=n,t[31]=D):D=t[31];let H;t[32]!==D?(H=l.jsx(Cn,{icon:O,iconPosition:"start",label:D,id:"image-generation-tab-1","aria-controls":"image-generation-tabpanel-1"}),t[32]=D,t[33]=H):H=t[33];let L;t[34]===Symbol.for("react.memo_cache_sentinel")?(L=l.jsx(OQ,{}),t[34]=L):L=t[34];let $;t[35]!==n?($=n("imageGeneration:tabs.wildcards"),t[35]=n,t[36]=$):$=t[36];let M;t[37]!==$?(M=l.jsx(Cn,{icon:L,iconPosition:"start",label:$,id:"image-generation-tab-2","aria-controls":"image-generation-tabpanel-2"}),t[37]=$,t[38]=M):M=t[38];let z;t[39]!==s||t[40]!==m||t[41]!==R||t[42]!==P||t[43]!==H||t[44]!==M?(z=l.jsx(Z,{sx:A,children:l.jsxs(No,{value:s,onChange:m,"aria-label":R,children:[P,H,M]})}),t[39]=s,t[40]=m,t[41]=R,t[42]=P,t[43]=H,t[44]=M,t[45]=z):z=t[45];let F;t[46]===Symbol.for("react.memo_cache_sentinel")?(F=l.jsx(YQe,{}),t[46]=F):F=t[46];let G;t[47]!==s?(G=l.jsx(I6,{value:s,index:0,children:F}),t[47]=s,t[48]=G):G=t[48];let ee;t[49]===Symbol.for("react.memo_cache_sentinel")?(ee=l.jsx(ZQe,{}),t[49]=ee):ee=t[49];let V;t[50]!==s?(V=l.jsx(I6,{value:s,index:1,children:ee}),t[50]=s,t[51]=V):V=t[51];let Y;t[52]===Symbol.for("react.memo_cache_sentinel")?(Y=l.jsx(oZe,{}),t[52]=Y):Y=t[52];let K;t[53]!==s?(K=l.jsx(I6,{value:s,index:2,children:Y}),t[53]=s,t[54]=K):K=t[54];let J;return t[55]!==T||t[56]!==z||t[57]!==G||t[58]!==V||t[59]!==K?(J=l.jsxs(Z,{sx:g,children:[T,z,G,V,K]}),t[55]=T,t[56]=z,t[57]=G,t[58]=V,t[59]=K,t[60]=J):J=t[60],J}function lZe(){const t=yt.c(213),{t:e}=ht("workflows");let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n={mb:3},t[0]=n):n=t[0];let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx(zi,{}),t[1]=a):a=t[1];let i,r;t[2]===Symbol.for("react.memo_cache_sentinel")?(i={display:"flex",alignItems:"center",gap:1},r=l.jsx(Yh,{color:"info"}),t[2]=i,t[3]=r):(i=t[2],r=t[3]);let o;t[4]!==e?(o=e("markedFields.guideTitle"),t[4]=e,t[5]=o):o=t[5];let s;t[6]!==o?(s=l.jsx(sl,{expandIcon:a,children:l.jsxs(Z,{sx:i,children:[r,l.jsx(ie,{variant:"h6",children:o})]})}),t[6]=o,t[7]=s):s=t[7];let c;t[8]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx(fn,{sx:{mb:2}}),t[8]=c):c=t[8];let u;t[9]!==e?(u=e("markedFields.whatIs"),t[9]=e,t[10]=u):u=t[10];let d;t[11]!==u?(d=l.jsx(ie,{variant:"body1",gutterBottom:!0,children:l.jsx("strong",{children:u})}),t[11]=u,t[12]=d):d=t[12];let h;t[13]!==e?(h=e("markedFields.whatIsDesc"),t[13]=e,t[14]=h):h=t[14];let m;t[15]!==h?(m=l.jsx(ie,{variant:"body2",paragraph:!0,children:h}),t[15]=h,t[16]=m):m=t[16];let g;t[17]===Symbol.for("react.memo_cache_sentinel")?(g={mt:2},t[17]=g):g=t[17];let y;t[18]!==e?(y=e("markedFields.howToFind"),t[18]=e,t[19]=y):y=t[19];let v;t[20]!==y?(v=l.jsx(ie,{variant:"body1",gutterBottom:!0,sx:g,children:l.jsx("strong",{children:y})}),t[20]=y,t[21]=v):v=t[21];let S;t[22]===Symbol.for("react.memo_cache_sentinel")?(S={pl:2,"& li":{mb:1}},t[22]=S):S=t[22];let w;t[23]!==e?(w=e("markedFields.step1"),t[23]=e,t[24]=w):w=t[24];let _;t[25]!==w?(_=l.jsx("li",{children:l.jsx(ie,{variant:"body2",children:w})}),t[25]=w,t[26]=_):_=t[26];let T;t[27]!==e?(T=e("markedFields.step2"),t[27]=e,t[28]=T):T=t[28];let A;t[29]!==T?(A=l.jsx("li",{children:l.jsx(ie,{variant:"body2",children:T})}),t[29]=T,t[30]=A):A=t[30];let R;t[31]!==e?(R=e("markedFields.step3"),t[31]=e,t[32]=R):R=t[32];let I;t[33]!==R?(I=l.jsx("li",{children:l.jsx(ie,{variant:"body2",children:R})}),t[33]=R,t[34]=I):I=t[34];let N;t[35]!==_||t[36]!==A||t[37]!==I?(N=l.jsxs(Z,{component:"ol",sx:S,children:[_,A,I]}),t[35]=_,t[36]=A,t[37]=I,t[38]=N):N=t[38];let P;t[39]===Symbol.for("react.memo_cache_sentinel")?(P={mt:2},t[39]=P):P=t[39];let O;t[40]!==e?(O=e("markedFields.exampleTitle"),t[40]=e,t[41]=O):O=t[41];let D;t[42]!==O?(D=l.jsx("strong",{children:O}),t[42]=O,t[43]=D):D=t[43];let H,L;t[44]===Symbol.for("react.memo_cache_sentinel")?(H=l.jsx("br",{}),L=l.jsx("br",{}),t[44]=H,t[45]=L):(H=t[44],L=t[45]);let $;t[46]!==e?($=e("markedFields.example1Title"),t[46]=e,t[47]=$):$=t[47];let M;t[48]!==$?(M=l.jsx("strong",{children:$}),t[48]=$,t[49]=M):M=t[49];let z;t[50]===Symbol.for("react.memo_cache_sentinel")?(z={marginLeft:"20px",marginTop:"8px"},t[50]=z):z=t[50];let F;t[51]!==e?(F=e("markedFields.example1FieldId"),t[51]=e,t[52]=F):F=t[52];let G;t[53]!==F?(G=l.jsx("li",{children:l.jsx("strong",{children:F})}),t[53]=F,t[54]=G):G=t[54];let ee;t[55]!==e?(ee=e("markedFields.example1Label"),t[55]=e,t[56]=ee):ee=t[56];let V;t[57]!==ee?(V=l.jsx("li",{children:l.jsx("strong",{children:ee})}),t[57]=ee,t[58]=V):V=t[58];let Y;t[59]!==e?(Y=e("markedFields.example1Type"),t[59]=e,t[60]=Y):Y=t[60];let K;t[61]!==Y?(K=l.jsx("li",{children:l.jsx("strong",{children:Y})}),t[61]=Y,t[62]=K):K=t[62];let J;t[63]!==e?(J=e("markedFields.example1Path"),t[63]=e,t[64]=J):J=t[64];let W;t[65]!==J?(W=l.jsx("li",{children:l.jsx("strong",{children:J})}),t[65]=J,t[66]=W):W=t[66];let te;t[67]!==e?(te=e("markedFields.example1Default"),t[67]=e,t[68]=te):te=t[68];let re;t[69]!==te?(re=l.jsx("li",{children:l.jsx("strong",{children:te})}),t[69]=te,t[70]=re):re=t[70];let ne;t[71]!==G||t[72]!==V||t[73]!==K||t[74]!==W||t[75]!==re?(ne=l.jsxs("ul",{style:z,children:[G,V,K,W,re]}),t[71]=G,t[72]=V,t[73]=K,t[74]=W,t[75]=re,t[76]=ne):ne=t[76];let ce;t[77]===Symbol.for("react.memo_cache_sentinel")?(ce=l.jsx("br",{}),t[77]=ce):ce=t[77];let pe;t[78]!==e?(pe=e("markedFields.example2Title"),t[78]=e,t[79]=pe):pe=t[79];let me;t[80]!==pe?(me=l.jsx("strong",{children:pe}),t[80]=pe,t[81]=me):me=t[81];let ge;t[82]===Symbol.for("react.memo_cache_sentinel")?(ge={marginLeft:"20px",marginTop:"8px"},t[82]=ge):ge=t[82];let ye;t[83]!==e?(ye=e("markedFields.example2FieldId"),t[83]=e,t[84]=ye):ye=t[84];let he;t[85]!==ye?(he=l.jsx("li",{children:l.jsx("strong",{children:ye})}),t[85]=ye,t[86]=he):he=t[86];let de;t[87]!==e?(de=e("markedFields.example2Label"),t[87]=e,t[88]=de):de=t[88];let fe;t[89]!==de?(fe=l.jsx("li",{children:l.jsx("strong",{children:de})}),t[89]=de,t[90]=fe):fe=t[90];let oe;t[91]!==e?(oe=e("markedFields.example2Type"),t[91]=e,t[92]=oe):oe=t[92];let ue;t[93]!==oe?(ue=l.jsx("li",{children:l.jsx("strong",{children:oe})}),t[93]=oe,t[94]=ue):ue=t[94];let le;t[95]!==e?(le=e("markedFields.example2Path"),t[95]=e,t[96]=le):le=t[96];let Se;t[97]!==le?(Se=l.jsx("li",{children:l.jsx("strong",{children:le})}),t[97]=le,t[98]=Se):Se=t[98];let _e;t[99]!==e?(_e=e("markedFields.example2Default"),t[99]=e,t[100]=_e):_e=t[100];let Ie;t[101]!==_e?(Ie=l.jsx("li",{children:l.jsx("strong",{children:_e})}),t[101]=_e,t[102]=Ie):Ie=t[102];let ze;t[103]!==he||t[104]!==fe||t[105]!==ue||t[106]!==Se||t[107]!==Ie?(ze=l.jsxs("ul",{style:ge,children:[he,fe,ue,Se,Ie]}),t[103]=he,t[104]=fe,t[105]=ue,t[106]=Se,t[107]=Ie,t[108]=ze):ze=t[108];let Me;t[109]===Symbol.for("react.memo_cache_sentinel")?(Me=l.jsx("br",{}),t[109]=Me):Me=t[109];let Ze;t[110]!==e?(Ze=e("markedFields.example3Title"),t[110]=e,t[111]=Ze):Ze=t[111];let Ee;t[112]!==Ze?(Ee=l.jsx("strong",{children:Ze}),t[112]=Ze,t[113]=Ee):Ee=t[113];let Ne;t[114]===Symbol.for("react.memo_cache_sentinel")?(Ne={marginLeft:"20px",marginTop:"8px"},t[114]=Ne):Ne=t[114];let ve;t[115]!==e?(ve=e("markedFields.example3FieldId"),t[115]=e,t[116]=ve):ve=t[116];let we;t[117]!==ve?(we=l.jsx("li",{children:l.jsx("strong",{children:ve})}),t[117]=ve,t[118]=we):we=t[118];let Oe;t[119]!==e?(Oe=e("markedFields.example3Label"),t[119]=e,t[120]=Oe):Oe=t[120];let Le;t[121]!==Oe?(Le=l.jsx("li",{children:l.jsx("strong",{children:Oe})}),t[121]=Oe,t[122]=Le):Le=t[122];let We;t[123]!==e?(We=e("markedFields.example3Type"),t[123]=e,t[124]=We):We=t[124];let Fe;t[125]!==We?(Fe=l.jsx("li",{children:l.jsx("strong",{children:We})}),t[125]=We,t[126]=Fe):Fe=t[126];let Ve;t[127]!==e?(Ve=e("markedFields.example3Path"),t[127]=e,t[128]=Ve):Ve=t[128];let rt;t[129]!==Ve?(rt=l.jsx("li",{children:l.jsx("strong",{children:Ve})}),t[129]=Ve,t[130]=rt):rt=t[130];let at;t[131]!==e?(at=e("markedFields.example3Default"),t[131]=e,t[132]=at):at=t[132];let ot;t[133]!==at?(ot=l.jsx("li",{children:l.jsx("strong",{children:at})}),t[133]=at,t[134]=ot):ot=t[134];let bt;t[135]!==e?(bt=e("markedFields.example3Min"),t[135]=e,t[136]=bt):bt=t[136];let Xt;t[137]!==bt?(Xt=l.jsx("li",{children:l.jsx("strong",{children:bt})}),t[137]=bt,t[138]=Xt):Xt=t[138];let Jt;t[139]!==e?(Jt=e("markedFields.example3Max"),t[139]=e,t[140]=Jt):Jt=t[140];let vn;t[141]!==Jt?(vn=l.jsx("li",{children:l.jsx("strong",{children:Jt})}),t[141]=Jt,t[142]=vn):vn=t[142];let jn;t[143]!==we||t[144]!==Le||t[145]!==Fe||t[146]!==rt||t[147]!==ot||t[148]!==Xt||t[149]!==vn?(jn=l.jsxs("ul",{style:Ne,children:[we,Le,Fe,rt,ot,Xt,vn]}),t[143]=we,t[144]=Le,t[145]=Fe,t[146]=rt,t[147]=ot,t[148]=Xt,t[149]=vn,t[150]=jn):jn=t[150];let ea;t[151]===Symbol.for("react.memo_cache_sentinel")?(ea=l.jsx("br",{}),t[151]=ea):ea=t[151];let Kt;t[152]!==e?(Kt=e("markedFields.example4Title"),t[152]=e,t[153]=Kt):Kt=t[153];let Ht;t[154]!==Kt?(Ht=l.jsx("strong",{children:Kt}),t[154]=Kt,t[155]=Ht):Ht=t[155];let hn;t[156]===Symbol.for("react.memo_cache_sentinel")?(hn={marginLeft:"20px",marginTop:"8px"},t[156]=hn):hn=t[156];let _n;t[157]!==e?(_n=e("markedFields.example4FieldId"),t[157]=e,t[158]=_n):_n=t[158];let Tn;t[159]!==_n?(Tn=l.jsx("li",{children:l.jsx("strong",{children:_n})}),t[159]=_n,t[160]=Tn):Tn=t[160];let Wt;t[161]!==e?(Wt=e("markedFields.example4Label"),t[161]=e,t[162]=Wt):Wt=t[162];let Rn;t[163]!==Wt?(Rn=l.jsx("li",{children:l.jsx("strong",{children:Wt})}),t[163]=Wt,t[164]=Rn):Rn=t[164];let Et;t[165]!==e?(Et=e("markedFields.example4Type"),t[165]=e,t[166]=Et):Et=t[166];let Mt;t[167]!==Et?(Mt=l.jsx("li",{children:l.jsx("strong",{children:Et})}),t[167]=Et,t[168]=Mt):Mt=t[168];let rn;t[169]!==e?(rn=e("markedFields.example4Path"),t[169]=e,t[170]=rn):rn=t[170];let an;t[171]!==rn?(an=l.jsx("li",{children:l.jsx("strong",{children:rn})}),t[171]=rn,t[172]=an):an=t[172];let En;t[173]!==e?(En=e("markedFields.example4Options"),t[173]=e,t[174]=En):En=t[174];let fa;t[175]!==En?(fa=l.jsx("li",{children:l.jsx("strong",{children:En})}),t[175]=En,t[176]=fa):fa=t[176];let ya;t[177]!==Tn||t[178]!==Rn||t[179]!==Mt||t[180]!==an||t[181]!==fa?(ya=l.jsxs("ul",{style:hn,children:[Tn,Rn,Mt,an,fa]}),t[177]=Tn,t[178]=Rn,t[179]=Mt,t[180]=an,t[181]=fa,t[182]=ya):ya=t[182];let Ra;t[183]!==D||t[184]!==M||t[185]!==ne||t[186]!==me||t[187]!==ze||t[188]!==Ee||t[189]!==jn||t[190]!==Ht||t[191]!==ya?(Ra=l.jsx(xt,{severity:"success",sx:P,children:l.jsxs(ie,{variant:"body2",component:"div",children:[D,H,L,M,ne,ce,me,ze,Me,Ee,jn,ea,Ht,ya]})}),t[183]=D,t[184]=M,t[185]=ne,t[186]=me,t[187]=ze,t[188]=Ee,t[189]=jn,t[190]=Ht,t[191]=ya,t[192]=Ra):Ra=t[192];let Ka;t[193]===Symbol.for("react.memo_cache_sentinel")?(Ka={mt:2},t[193]=Ka):Ka=t[193];let Oa;t[194]!==e?(Oa=e("markedFields.tipTitle"),t[194]=e,t[195]=Oa):Oa=t[195];let xa;t[196]!==Oa?(xa=l.jsx("strong",{children:Oa}),t[196]=Oa,t[197]=xa):xa=t[197];let Ma;t[198]!==e?(Ma=e("markedFields.tipDesc"),t[198]=e,t[199]=Ma):Ma=t[199];let wr;t[200]!==xa||t[201]!==Ma?(wr=l.jsx(xt,{severity:"info",sx:Ka,children:l.jsxs(ie,{variant:"body2",children:[xa," ",Ma]})}),t[200]=xa,t[201]=Ma,t[202]=wr):wr=t[202];let Qi;t[203]!==m||t[204]!==v||t[205]!==N||t[206]!==d||t[207]!==Ra||t[208]!==wr?(Qi=l.jsxs(ol,{children:[c,d,m,v,N,Ra,wr]}),t[203]=m,t[204]=v,t[205]=N,t[206]=d,t[207]=Ra,t[208]=wr,t[209]=Qi):Qi=t[209];let Xr;return t[210]!==s||t[211]!==Qi?(Xr=l.jsx(Gt,{sx:n,children:l.jsxs(rl,{children:[s,Qi]})}),t[210]=s,t[211]=Qi,t[212]=Xr):Xr=t[212],Xr}function cZe({workflowJson:t,markedFields:e}){const{t:n}=ht(["workflows"]),[a,i]=E.useState({}),[r,o]=E.useState(!1);let s=null,c=null;try{t.trim()&&(s=JSON.parse(t))}catch{c=n("workflows:preview.parseError")}const u=g=>{if(!s)return{valid:!1,currentValue:null,error:n("workflows:preview.noJson")};try{const y=g.split(".");let v=s;for(const S of y)if(v&&typeof v=="object"&&S in v)v=v[S];else return{valid:!1,currentValue:null,error:n("workflows:preview.pathNotFound",{path:g})};return{valid:!0,currentValue:v}}catch{return{valid:!1,currentValue:null,error:n("workflows:preview.validationError")}}},d=()=>{const g={};e.forEach(y=>{g[y.id]=y.default_value||(y.type==="number"?0:"")}),i(g),o(!0)},h=()=>{if(!s)return"";try{const g=JSON.parse(JSON.stringify(s));return e.forEach(y=>{const v=a[y.id]||y.default_value;if(v==null)return;const S=y.jsonPath.split(".");let w=g;for(let T=0;T<S.length-1;T++)S[T]in w||(w[S[T]]={}),w=w[S[T]];const _=S[S.length-1];w[_]=y.type==="number"?parseFloat(v)||0:v}),JSON.stringify(g,null,2)}catch{return n("workflows:preview.substitutionError")}},m=g=>{const y=a[g.id]||g.default_value||"";switch(g.type){case"textarea":return l.jsx(Tt,{fullWidth:!0,multiline:!0,rows:4,label:g.label,value:y,onChange:v=>i({...a,[g.id]:v.target.value}),placeholder:g.placeholder,size:"small",sx:{mb:2}},g.id);case"number":return l.jsx(Tt,{fullWidth:!0,type:"number",label:g.label,value:y,onChange:v=>i({...a,[g.id]:v.target.value}),placeholder:g.placeholder,inputProps:{min:g.min,max:g.max},size:"small",sx:{mb:2}},g.id);case"select":return l.jsx(Tt,{fullWidth:!0,select:!0,label:g.label,value:y,onChange:v=>i({...a,[g.id]:v.target.value}),SelectProps:{native:!0},size:"small",sx:{mb:2},children:g.options?.map(v=>l.jsx("option",{value:v,children:v},v))},g.id);default:return l.jsx(Tt,{fullWidth:!0,label:g.label,value:y,onChange:v=>i({...a,[g.id]:v.target.value}),placeholder:g.placeholder,size:"small",sx:{mb:2}},g.id)}};return e.length===0?null:l.jsxs(Gt,{sx:{p:3,mb:3},children:[l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[l.jsx(gS,{color:"primary"}),l.jsx(ie,{variant:"h6",children:n("workflows:preview.title")})]}),l.jsx(fn,{sx:{mb:3}}),c&&l.jsx(xt,{severity:"error",sx:{mb:2},children:c}),s&&l.jsxs(Z,{sx:{mb:3},children:[l.jsx(ie,{variant:"subtitle1",gutterBottom:!0,children:n("workflows:preview.validationResults")}),l.jsx(Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:e.map(g=>{const y=u(g.jsonPath);return l.jsxs(Z,{sx:{display:"flex",flexDirection:"column",gap:.5,p:1,bgcolor:y.valid?"success.50":"error.50",borderRadius:1},children:[l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[y.valid?l.jsx(po,{color:"success",fontSize:"small"}):l.jsx(hg,{color:"error",fontSize:"small"}),l.jsxs(ie,{variant:"body2",children:[l.jsx("strong",{children:g.label})," (",g.jsonPath,")"]})]}),y.valid&&y.currentValue!==void 0&&l.jsxs(Z,{sx:{ml:4,p:1,bgcolor:"background.paper",borderRadius:.5,wordBreak:"break-word",maxWidth:"100%"},children:[l.jsx(ie,{variant:"caption",color:"text.secondary",sx:{fontWeight:600},children:n("workflows:preview.currentValue")}),l.jsx(ie,{variant:"body2",sx:{mt:.5,whiteSpace:"pre-wrap",wordBreak:"break-word",fontFamily:"monospace",fontSize:"0.8rem"},children:JSON.stringify(y.currentValue)})]}),!y.valid&&l.jsxs(ie,{variant:"caption",color:"error",sx:{ml:4},children:[" ",y.error]})]},g.id)})})]}),l.jsxs(Z,{sx:{mb:3},children:[l.jsx(ie,{variant:"subtitle1",gutterBottom:!0,children:n("workflows:preview.formTitle")}),l.jsxs(Z,{sx:{p:2,border:"1px dashed",borderColor:"divider",borderRadius:1,bgcolor:"background.default"},children:[e.map(g=>m(g)),l.jsx(Ue,{variant:"contained",fullWidth:!0,disabled:!0,children:n("workflows:preview.generateButton")})]})]}),l.jsxs(Z,{children:[l.jsx(Ue,{variant:"outlined",onClick:d,sx:{mb:2},children:n("workflows:preview.testDataButton")}),r&&l.jsxs(rl,{children:[l.jsx(sl,{expandIcon:l.jsx(zi,{}),children:l.jsx(ie,{variant:"body2",children:n("workflows:preview.viewJsonTitle")})}),l.jsx(ol,{children:l.jsx(Z,{component:"pre",sx:{p:2,borderRadius:1,overflow:"auto",maxHeight:400,fontSize:"0.75rem",fontFamily:"monospace"},children:h()})})]})]})]})}function mo(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,a;n<t.length;n++)(a=mo(t[n]))!==""&&(e+=(e&&" ")+a);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var N6={exports:{}},j6={},D6={exports:{}},O6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AH;function uZe(){if(AH)return O6;AH=1;var t=Eg();function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:e,a=t.useState,i=t.useEffect,r=t.useLayoutEffect,o=t.useDebugValue;function s(h,m){var g=m(),y=a({inst:{value:g,getSnapshot:m}}),v=y[0].inst,S=y[1];return r(function(){v.value=g,v.getSnapshot=m,c(v)&&S({inst:v})},[h,g,m]),i(function(){return c(v)&&S({inst:v}),h(function(){c(v)&&S({inst:v})})},[h]),o(g),g}function c(h){var m=h.getSnapshot;h=h.value;try{var g=m();return!n(h,g)}catch{return!0}}function u(h,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:s;return O6.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,O6}var RH;function dZe(){return RH||(RH=1,D6.exports=uZe()),D6.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kH;function fZe(){if(kH)return j6;kH=1;var t=Eg(),e=dZe();function n(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var a=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,r=t.useRef,o=t.useEffect,s=t.useMemo,c=t.useDebugValue;return j6.useSyncExternalStoreWithSelector=function(u,d,h,m,g){var y=r(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=s(function(){function w(I){if(!_){if(_=!0,T=I,I=m(I),g!==void 0&&v.hasValue){var N=v.value;if(g(N,I))return A=N}return A=I}if(N=A,a(T,I))return N;var P=m(I);return g!==void 0&&g(N,P)?(T=I,N):(T=I,A=P)}var _=!1,T,A,R=h===void 0?null:h;return[function(){return w(d())},R===null?void 0:function(){return w(R())}]},[d,h,m,g]);var S=i(u,y[0],y[1]);return o(function(){v.hasValue=!0,v.value=S},[S]),c(S),S},j6}var IH;function hZe(){return IH||(IH=1,N6.exports=fZe()),N6.exports}var pZe=hZe();const mZe=_f(pZe),gZe={},NH=t=>{let e;const n=new Set,a=(d,h)=>{const m=typeof d=="function"?d(e):d;if(!Object.is(m,e)){const g=e;e=h??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(y=>y(e,g))}},i=()=>e,c={setState:a,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(gZe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(a,i,c);return c},bZe=t=>t?NH(t):NH,{useDebugValue:yZe}=ke,{useSyncExternalStoreWithSelector:xZe}=mZe,vZe=t=>t;function fte(t,e=vZe,n){const a=xZe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return yZe(a),a}const jH=(t,e)=>{const n=bZe(t),a=(i,r=e)=>fte(n,i,r);return Object.assign(a,n),a},SZe=(t,e)=>t?jH(t,e):jH;function Kr(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[a,i]of t)if(!Object.is(i,e.get(a)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const a of t)if(!e.has(a))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const a of n)if(!Object.prototype.hasOwnProperty.call(e,a)||!Object.is(t[a],e[a]))return!1;return!0}var CZe={value:()=>{}};function j5(){for(var t=0,e=arguments.length,n={},a;t<e;++t){if(!(a=arguments[t]+"")||a in n||/[\s.]/.test(a))throw new Error("illegal type: "+a);n[a]=[]}return new l4(n)}function l4(t){this._=t}function wZe(t,e){return t.trim().split(/^|\s+/).map(function(n){var a="",i=n.indexOf(".");if(i>=0&&(a=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:a}})}l4.prototype=j5.prototype={constructor:l4,on:function(t,e){var n=this._,a=wZe(t+"",n),i,r=-1,o=a.length;if(arguments.length<2){for(;++r<o;)if((i=(t=a[r]).type)&&(i=_Ze(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<o;)if(i=(t=a[r]).type)n[i]=DH(n[i],t.name,e);else if(e==null)for(i in n)n[i]=DH(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new l4(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),a=0,i,r;a<i;++a)n[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var a=this._[t],i=0,r=a.length;i<r;++i)a[i].value.apply(e,n)}};function _Ze(t,e){for(var n=0,a=t.length,i;n<a;++n)if((i=t[n]).name===e)return i.value}function DH(t,e,n){for(var a=0,i=t.length;a<i;++a)if(t[a].name===e){t[a]=CZe,t=t.slice(0,a).concat(t.slice(a+1));break}return n!=null&&t.push({name:e,value:n}),t}var gN="http://www.w3.org/1999/xhtml";const OH={svg:"http://www.w3.org/2000/svg",xhtml:gN,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function D5(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),OH.hasOwnProperty(e)?{space:OH[e],local:t}:t}function TZe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===gN&&e.documentElement.namespaceURI===gN?e.createElement(t):e.createElementNS(n,t)}}function EZe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function hte(t){var e=D5(t);return(e.local?EZe:TZe)(e)}function AZe(){}function qD(t){return t==null?AZe:function(){return this.querySelector(t)}}function RZe(t){typeof t!="function"&&(t=qD(t));for(var e=this._groups,n=e.length,a=new Array(n),i=0;i<n;++i)for(var r=e[i],o=r.length,s=a[i]=new Array(o),c,u,d=0;d<o;++d)(c=r[d])&&(u=t.call(c,c.__data__,d,r))&&("__data__"in c&&(u.__data__=c.__data__),s[d]=u);return new ul(a,this._parents)}function kZe(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function IZe(){return[]}function pte(t){return t==null?IZe:function(){return this.querySelectorAll(t)}}function NZe(t){return function(){return kZe(t.apply(this,arguments))}}function jZe(t){typeof t=="function"?t=NZe(t):t=pte(t);for(var e=this._groups,n=e.length,a=[],i=[],r=0;r<n;++r)for(var o=e[r],s=o.length,c,u=0;u<s;++u)(c=o[u])&&(a.push(t.call(c,c.__data__,u,o)),i.push(c));return new ul(a,i)}function mte(t){return function(){return this.matches(t)}}function gte(t){return function(e){return e.matches(t)}}var DZe=Array.prototype.find;function OZe(t){return function(){return DZe.call(this.children,t)}}function MZe(){return this.firstElementChild}function PZe(t){return this.select(t==null?MZe:OZe(typeof t=="function"?t:gte(t)))}var LZe=Array.prototype.filter;function zZe(){return Array.from(this.children)}function FZe(t){return function(){return LZe.call(this.children,t)}}function BZe(t){return this.selectAll(t==null?zZe:FZe(typeof t=="function"?t:gte(t)))}function HZe(t){typeof t!="function"&&(t=mte(t));for(var e=this._groups,n=e.length,a=new Array(n),i=0;i<n;++i)for(var r=e[i],o=r.length,s=a[i]=[],c,u=0;u<o;++u)(c=r[u])&&t.call(c,c.__data__,u,r)&&s.push(c);return new ul(a,this._parents)}function bte(t){return new Array(t.length)}function $Ze(){return new ul(this._enter||this._groups.map(bte),this._parents)}function u_(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}u_.prototype={constructor:u_,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function UZe(t){return function(){return t}}function GZe(t,e,n,a,i,r){for(var o=0,s,c=e.length,u=r.length;o<u;++o)(s=e[o])?(s.__data__=r[o],a[o]=s):n[o]=new u_(t,r[o]);for(;o<c;++o)(s=e[o])&&(i[o]=s)}function qZe(t,e,n,a,i,r,o){var s,c,u=new Map,d=e.length,h=r.length,m=new Array(d),g;for(s=0;s<d;++s)(c=e[s])&&(m[s]=g=o.call(c,c.__data__,s,e)+"",u.has(g)?i[s]=c:u.set(g,c));for(s=0;s<h;++s)g=o.call(t,r[s],s,r)+"",(c=u.get(g))?(a[s]=c,c.__data__=r[s],u.delete(g)):n[s]=new u_(t,r[s]);for(s=0;s<d;++s)(c=e[s])&&u.get(m[s])===c&&(i[s]=c)}function WZe(t){return t.__data__}function VZe(t,e){if(!arguments.length)return Array.from(this,WZe);var n=e?qZe:GZe,a=this._parents,i=this._groups;typeof t!="function"&&(t=UZe(t));for(var r=i.length,o=new Array(r),s=new Array(r),c=new Array(r),u=0;u<r;++u){var d=a[u],h=i[u],m=h.length,g=YZe(t.call(d,d&&d.__data__,u,a)),y=g.length,v=s[u]=new Array(y),S=o[u]=new Array(y),w=c[u]=new Array(m);n(d,h,v,S,w,g,e);for(var _=0,T=0,A,R;_<y;++_)if(A=v[_]){for(_>=T&&(T=_+1);!(R=S[T])&&++T<y;);A._next=R||null}}return o=new ul(o,a),o._enter=s,o._exit=c,o}function YZe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function KZe(){return new ul(this._exit||this._groups.map(bte),this._parents)}function XZe(t,e,n){var a=this.enter(),i=this,r=this.exit();return typeof t=="function"?(a=t(a),a&&(a=a.selection())):a=a.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?r.remove():n(r),a&&i?a.merge(i).order():i}function QZe(t){for(var e=t.selection?t.selection():t,n=this._groups,a=e._groups,i=n.length,r=a.length,o=Math.min(i,r),s=new Array(i),c=0;c<o;++c)for(var u=n[c],d=a[c],h=u.length,m=s[c]=new Array(h),g,y=0;y<h;++y)(g=u[y]||d[y])&&(m[y]=g);for(;c<i;++c)s[c]=n[c];return new ul(s,this._parents)}function ZZe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var a=t[e],i=a.length-1,r=a[i],o;--i>=0;)(o=a[i])&&(r&&o.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(o,r),r=o);return this}function JZe(t){t||(t=eJe);function e(h,m){return h&&m?t(h.__data__,m.__data__):!h-!m}for(var n=this._groups,a=n.length,i=new Array(a),r=0;r<a;++r){for(var o=n[r],s=o.length,c=i[r]=new Array(s),u,d=0;d<s;++d)(u=o[d])&&(c[d]=u);c.sort(e)}return new ul(i,this._parents).order()}function eJe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function tJe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function nJe(){return Array.from(this)}function aJe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var a=t[e],i=0,r=a.length;i<r;++i){var o=a[i];if(o)return o}return null}function iJe(){let t=0;for(const e of this)++t;return t}function rJe(){return!this.node()}function oJe(t){for(var e=this._groups,n=0,a=e.length;n<a;++n)for(var i=e[n],r=0,o=i.length,s;r<o;++r)(s=i[r])&&t.call(s,s.__data__,r,i);return this}function sJe(t){return function(){this.removeAttribute(t)}}function lJe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function cJe(t,e){return function(){this.setAttribute(t,e)}}function uJe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function dJe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function fJe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function hJe(t,e){var n=D5(t);if(arguments.length<2){var a=this.node();return n.local?a.getAttributeNS(n.space,n.local):a.getAttribute(n)}return this.each((e==null?n.local?lJe:sJe:typeof e=="function"?n.local?fJe:dJe:n.local?uJe:cJe)(n,e))}function yte(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function pJe(t){return function(){this.style.removeProperty(t)}}function mJe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function gJe(t,e,n){return function(){var a=e.apply(this,arguments);a==null?this.style.removeProperty(t):this.style.setProperty(t,a,n)}}function bJe(t,e,n){return arguments.length>1?this.each((e==null?pJe:typeof e=="function"?gJe:mJe)(t,e,n??"")):yb(this.node(),t)}function yb(t,e){return t.style.getPropertyValue(e)||yte(t).getComputedStyle(t,null).getPropertyValue(e)}function yJe(t){return function(){delete this[t]}}function xJe(t,e){return function(){this[t]=e}}function vJe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function SJe(t,e){return arguments.length>1?this.each((e==null?yJe:typeof e=="function"?vJe:xJe)(t,e)):this.node()[t]}function xte(t){return t.trim().split(/^|\s+/)}function WD(t){return t.classList||new vte(t)}function vte(t){this._node=t,this._names=xte(t.getAttribute("class")||"")}vte.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ste(t,e){for(var n=WD(t),a=-1,i=e.length;++a<i;)n.add(e[a])}function Cte(t,e){for(var n=WD(t),a=-1,i=e.length;++a<i;)n.remove(e[a])}function CJe(t){return function(){Ste(this,t)}}function wJe(t){return function(){Cte(this,t)}}function _Je(t,e){return function(){(e.apply(this,arguments)?Ste:Cte)(this,t)}}function TJe(t,e){var n=xte(t+"");if(arguments.length<2){for(var a=WD(this.node()),i=-1,r=n.length;++i<r;)if(!a.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?_Je:e?CJe:wJe)(n,e))}function EJe(){this.textContent=""}function AJe(t){return function(){this.textContent=t}}function RJe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function kJe(t){return arguments.length?this.each(t==null?EJe:(typeof t=="function"?RJe:AJe)(t)):this.node().textContent}function IJe(){this.innerHTML=""}function NJe(t){return function(){this.innerHTML=t}}function jJe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function DJe(t){return arguments.length?this.each(t==null?IJe:(typeof t=="function"?jJe:NJe)(t)):this.node().innerHTML}function OJe(){this.nextSibling&&this.parentNode.appendChild(this)}function MJe(){return this.each(OJe)}function PJe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function LJe(){return this.each(PJe)}function zJe(t){var e=typeof t=="function"?t:hte(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function FJe(){return null}function BJe(t,e){var n=typeof t=="function"?t:hte(t),a=e==null?FJe:typeof e=="function"?e:qD(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})}function HJe(){var t=this.parentNode;t&&t.removeChild(this)}function $Je(){return this.each(HJe)}function UJe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function GJe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function qJe(t){return this.select(t?GJe:UJe)}function WJe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function VJe(t){return function(e){t.call(this,e,this.__data__)}}function YJe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",a=e.indexOf(".");return a>=0&&(n=e.slice(a+1),e=e.slice(0,a)),{type:e,name:n}})}function KJe(t){return function(){var e=this.__on;if(e){for(var n=0,a=-1,i=e.length,r;n<i;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++a]=r;++a?e.length=a:delete this.__on}}}function XJe(t,e,n){return function(){var a=this.__on,i,r=VJe(e);if(a){for(var o=0,s=a.length;o<s;++o)if((i=a[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=e;return}}this.addEventListener(t.type,r,n),i={type:t.type,name:t.name,value:e,listener:r,options:n},a?a.push(i):this.__on=[i]}}function QJe(t,e,n){var a=YJe(t+""),i,r=a.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,u=s.length,d;c<u;++c)for(i=0,d=s[c];i<r;++i)if((o=a[i]).type===d.type&&o.name===d.name)return d.value}return}for(s=e?XJe:KJe,i=0;i<r;++i)this.each(s(a[i],e,n));return this}function wte(t,e,n){var a=yte(t),i=a.CustomEvent;typeof i=="function"?i=new i(e,n):(i=a.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ZJe(t,e){return function(){return wte(this,t,e)}}function JJe(t,e){return function(){return wte(this,t,e.apply(this,arguments))}}function eet(t,e){return this.each((typeof e=="function"?JJe:ZJe)(t,e))}function*tet(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var a=t[e],i=0,r=a.length,o;i<r;++i)(o=a[i])&&(yield o)}var _te=[null];function ul(t,e){this._groups=t,this._parents=e}function IS(){return new ul([[document.documentElement]],_te)}function net(){return this}ul.prototype=IS.prototype={constructor:ul,select:RZe,selectAll:jZe,selectChild:PZe,selectChildren:BZe,filter:HZe,data:VZe,enter:$Ze,exit:KZe,join:XZe,merge:QZe,selection:net,order:ZZe,sort:JZe,call:tJe,nodes:nJe,node:aJe,size:iJe,empty:rJe,each:oJe,attr:hJe,style:bJe,property:SJe,classed:TJe,text:kJe,html:DJe,raise:MJe,lower:LJe,append:zJe,insert:BJe,remove:$Je,clone:qJe,datum:WJe,on:QJe,dispatch:eet,[Symbol.iterator]:tet};function Ql(t){return typeof t=="string"?new ul([[document.querySelector(t)]],[document.documentElement]):new ul([[t]],_te)}function aet(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Oc(t,e){if(t=aet(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var a=n.createSVGPoint();return a.x=t.clientX,a.y=t.clientY,a=a.matrixTransform(e.getScreenCTM().inverse()),[a.x,a.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const iet={passive:!1},F2={capture:!0,passive:!1};function M6(t){t.stopImmediatePropagation()}function X1(t){t.preventDefault(),t.stopImmediatePropagation()}function Tte(t){var e=t.document.documentElement,n=Ql(t).on("dragstart.drag",X1,F2);"onselectstart"in e?n.on("selectstart.drag",X1,F2):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ete(t,e){var n=t.document.documentElement,a=Ql(t).on("dragstart.drag",null);e&&(a.on("click.drag",X1,F2),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in n?a.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Iw=t=>()=>t;function bN(t,{sourceEvent:e,subject:n,target:a,identifier:i,active:r,x:o,y:s,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}bN.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function ret(t){return!t.ctrlKey&&!t.button}function oet(){return this.parentNode}function set(t,e){return e??{x:t.x,y:t.y}}function cet(){return navigator.maxTouchPoints||"ontouchstart"in this}function uet(){var t=ret,e=oet,n=set,a=cet,i={},r=j5("start","drag","end"),o=0,s,c,u,d,h=0;function m(A){A.on("mousedown.drag",g).filter(a).on("touchstart.drag",S).on("touchmove.drag",w,iet).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(A,R){if(!(d||!t.call(this,A,R))){var I=T(this,e.call(this,A,R),A,R,"mouse");I&&(Ql(A.view).on("mousemove.drag",y,F2).on("mouseup.drag",v,F2),Tte(A.view),M6(A),u=!1,s=A.clientX,c=A.clientY,I("start",A))}}function y(A){if(X1(A),!u){var R=A.clientX-s,I=A.clientY-c;u=R*R+I*I>h}i.mouse("drag",A)}function v(A){Ql(A.view).on("mousemove.drag mouseup.drag",null),Ete(A.view,u),X1(A),i.mouse("end",A)}function S(A,R){if(t.call(this,A,R)){var I=A.changedTouches,N=e.call(this,A,R),P=I.length,O,D;for(O=0;O<P;++O)(D=T(this,N,A,R,I[O].identifier,I[O]))&&(M6(A),D("start",A,I[O]))}}function w(A){var R=A.changedTouches,I=R.length,N,P;for(N=0;N<I;++N)(P=i[R[N].identifier])&&(X1(A),P("drag",A,R[N]))}function _(A){var R=A.changedTouches,I=R.length,N,P;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),N=0;N<I;++N)(P=i[R[N].identifier])&&(M6(A),P("end",A,R[N]))}function T(A,R,I,N,P,O){var D=r.copy(),H=Oc(O||I,R),L,$,M;if((M=n.call(A,new bN("beforestart",{sourceEvent:I,target:m,identifier:P,active:o,x:H[0],y:H[1],dx:0,dy:0,dispatch:D}),N))!=null)return L=M.x-H[0]||0,$=M.y-H[1]||0,function z(F,G,ee){var V=H,Y;switch(F){case"start":i[P]=z,Y=o++;break;case"end":delete i[P],--o;case"drag":H=Oc(ee||G,R),Y=o;break}D.call(F,A,new bN(F,{sourceEvent:G,subject:M,target:m,identifier:P,active:Y,x:H[0]+L,y:H[1]+$,dx:H[0]-V[0],dy:H[1]-V[1],dispatch:D}),N)}}return m.filter=function(A){return arguments.length?(t=typeof A=="function"?A:Iw(!!A),m):t},m.container=function(A){return arguments.length?(e=typeof A=="function"?A:Iw(A),m):e},m.subject=function(A){return arguments.length?(n=typeof A=="function"?A:Iw(A),m):n},m.touchable=function(A){return arguments.length?(a=typeof A=="function"?A:Iw(!!A),m):a},m.on=function(){var A=r.on.apply(r,arguments);return A===r?m:A},m.clickDistance=function(A){return arguments.length?(h=(A=+A)*A,m):Math.sqrt(h)},m}function VD(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ate(t,e){var n=Object.create(t.prototype);for(var a in e)n[a]=e[a];return n}function NS(){}var B2=.7,d_=1/B2,Q1="\\s*([+-]?\\d+)\\s*",H2="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",td="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",det=/^#([0-9a-f]{3,8})$/,fet=new RegExp(`^rgb\\(${Q1},${Q1},${Q1}\\)$`),het=new RegExp(`^rgb\\(${td},${td},${td}\\)$`),pet=new RegExp(`^rgba\\(${Q1},${Q1},${Q1},${H2}\\)$`),met=new RegExp(`^rgba\\(${td},${td},${td},${H2}\\)$`),get=new RegExp(`^hsl\\(${H2},${td},${td}\\)$`),bet=new RegExp(`^hsla\\(${H2},${td},${td},${H2}\\)$`),MH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};VD(NS,$2,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:PH,formatHex:PH,formatHex8:yet,formatHsl:xet,formatRgb:LH,toString:LH});function PH(){return this.rgb().formatHex()}function yet(){return this.rgb().formatHex8()}function xet(){return Rte(this).formatHsl()}function LH(){return this.rgb().formatRgb()}function $2(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=det.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?zH(e):n===3?new Rs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Nw(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Nw(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=fet.exec(t))?new Rs(e[1],e[2],e[3],1):(e=het.exec(t))?new Rs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=pet.exec(t))?Nw(e[1],e[2],e[3],e[4]):(e=met.exec(t))?Nw(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=get.exec(t))?HH(e[1],e[2]/100,e[3]/100,1):(e=bet.exec(t))?HH(e[1],e[2]/100,e[3]/100,e[4]):MH.hasOwnProperty(t)?zH(MH[t]):t==="transparent"?new Rs(NaN,NaN,NaN,0):null}function zH(t){return new Rs(t>>16&255,t>>8&255,t&255,1)}function Nw(t,e,n,a){return a<=0&&(t=e=n=NaN),new Rs(t,e,n,a)}function vet(t){return t instanceof NS||(t=$2(t)),t?(t=t.rgb(),new Rs(t.r,t.g,t.b,t.opacity)):new Rs}function yN(t,e,n,a){return arguments.length===1?vet(t):new Rs(t,e,n,a??1)}function Rs(t,e,n,a){this.r=+t,this.g=+e,this.b=+n,this.opacity=+a}VD(Rs,yN,Ate(NS,{brighter(t){return t=t==null?d_:Math.pow(d_,t),new Rs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?B2:Math.pow(B2,t),new Rs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rs(rg(this.r),rg(this.g),rg(this.b),f_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:FH,formatHex:FH,formatHex8:Cet,formatRgb:BH,toString:BH}));function FH(){return`#${Ym(this.r)}${Ym(this.g)}${Ym(this.b)}`}function Cet(){return`#${Ym(this.r)}${Ym(this.g)}${Ym(this.b)}${Ym((isNaN(this.opacity)?1:this.opacity)*255)}`}function BH(){const t=f_(this.opacity);return`${t===1?"rgb(":"rgba("}${rg(this.r)}, ${rg(this.g)}, ${rg(this.b)}${t===1?")":`, ${t})`}`}function f_(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function rg(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ym(t){return t=rg(t),(t<16?"0":"")+t.toString(16)}function HH(t,e,n,a){return a<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Lc(t,e,n,a)}function Rte(t){if(t instanceof Lc)return new Lc(t.h,t.s,t.l,t.opacity);if(t instanceof NS||(t=$2(t)),!t)return new Lc;if(t instanceof Lc)return t;t=t.rgb();var e=t.r/255,n=t.g/255,a=t.b/255,i=Math.min(e,n,a),r=Math.max(e,n,a),o=NaN,s=r-i,c=(r+i)/2;return s?(e===r?o=(n-a)/s+(n<a)*6:n===r?o=(a-e)/s+2:o=(e-n)/s+4,s/=c<.5?r+i:2-r-i,o*=60):s=c>0&&c<1?0:o,new Lc(o,s,c,t.opacity)}function wet(t,e,n,a){return arguments.length===1?Rte(t):new Lc(t,e,n,a??1)}function Lc(t,e,n,a){this.h=+t,this.s=+e,this.l=+n,this.opacity=+a}VD(Lc,wet,Ate(NS,{brighter(t){return t=t==null?d_:Math.pow(d_,t),new Lc(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?B2:Math.pow(B2,t),new Lc(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*e,i=2*n-a;return new Rs(P6(t>=240?t-240:t+120,i,a),P6(t,i,a),P6(t<120?t+240:t-120,i,a),this.opacity)},clamp(){return new Lc($H(this.h),jw(this.s),jw(this.l),f_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=f_(this.opacity);return`${t===1?"hsl(":"hsla("}${$H(this.h)}, ${jw(this.s)*100}%, ${jw(this.l)*100}%${t===1?")":`, ${t})`}`}}));function $H(t){return t=(t||0)%360,t<0?t+360:t}function jw(t){return Math.max(0,Math.min(1,t||0))}function P6(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const kte=t=>()=>t;function _et(t,e){return function(n){return t+n*e}}function Tet(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(a){return Math.pow(t+a*e,n)}}function Eet(t){return(t=+t)==1?Ite:function(e,n){return n-e?Tet(e,n,t):kte(isNaN(e)?n:e)}}function Ite(t,e){var n=e-t;return n?_et(t,n):kte(isNaN(t)?e:t)}const UH=(function t(e){var n=Eet(e);function a(i,r){var o=n((i=yN(i)).r,(r=yN(r)).r),s=n(i.g,r.g),c=n(i.b,r.b),u=Ite(i.opacity,r.opacity);return function(d){return i.r=o(d),i.g=s(d),i.b=c(d),i.opacity=u(d),i+""}}return a.gamma=t,a})(1);function Fh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var xN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,L6=new RegExp(xN.source,"g");function Aet(t){return function(){return t}}function Ret(t){return function(e){return t(e)+""}}function ket(t,e){var n=xN.lastIndex=L6.lastIndex=0,a,i,r,o=-1,s=[],c=[];for(t=t+"",e=e+"";(a=xN.exec(t))&&(i=L6.exec(e));)(r=i.index)>n&&(r=e.slice(n,r),s[o]?s[o]+=r:s[++o]=r),(a=a[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:Fh(a,i)})),n=L6.lastIndex;return n<e.length&&(r=e.slice(n),s[o]?s[o]+=r:s[++o]=r),s.length<2?c[0]?Ret(c[0].x):Aet(e):(e=c.length,function(u){for(var d=0,h;d<e;++d)s[(h=c[d]).i]=h.x(u);return s.join("")})}var GH=180/Math.PI,vN={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Nte(t,e,n,a,i,r){var o,s,c;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(c=t*n+e*a)&&(n-=t*c,a-=e*c),(s=Math.sqrt(n*n+a*a))&&(n/=s,a/=s,c/=s),t*a<e*n&&(t=-t,e=-e,c=-c,o=-o),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*GH,skewX:Math.atan(c)*GH,scaleX:o,scaleY:s}}var Dw;function Iet(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?vN:Nte(e.a,e.b,e.c,e.d,e.e,e.f)}function Net(t){return t==null||(Dw||(Dw=document.createElementNS("http://www.w3.org/2000/svg","g")),Dw.setAttribute("transform",t),!(t=Dw.transform.baseVal.consolidate()))?vN:(t=t.matrix,Nte(t.a,t.b,t.c,t.d,t.e,t.f))}function jte(t,e,n,a){function i(u){return u.length?u.pop()+" ":""}function r(u,d,h,m,g,y){if(u!==h||d!==m){var v=g.push("translate(",null,e,null,n);y.push({i:v-4,x:Fh(u,h)},{i:v-2,x:Fh(d,m)})}else(h||m)&&g.push("translate("+h+e+m+n)}function o(u,d,h,m){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),m.push({i:h.push(i(h)+"rotate(",null,a)-2,x:Fh(u,d)})):d&&h.push(i(h)+"rotate("+d+a)}function s(u,d,h,m){u!==d?m.push({i:h.push(i(h)+"skewX(",null,a)-2,x:Fh(u,d)}):d&&h.push(i(h)+"skewX("+d+a)}function c(u,d,h,m,g,y){if(u!==h||d!==m){var v=g.push(i(g)+"scale(",null,",",null,")");y.push({i:v-4,x:Fh(u,h)},{i:v-2,x:Fh(d,m)})}else(h!==1||m!==1)&&g.push(i(g)+"scale("+h+","+m+")")}return function(u,d){var h=[],m=[];return u=t(u),d=t(d),r(u.translateX,u.translateY,d.translateX,d.translateY,h,m),o(u.rotate,d.rotate,h,m),s(u.skewX,d.skewX,h,m),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,h,m),u=d=null,function(g){for(var y=-1,v=m.length,S;++y<v;)h[(S=m[y]).i]=S.x(g);return h.join("")}}}var jet=jte(Iet,"px, ","px)","deg)"),Det=jte(Net,", ",")",")"),Oet=1e-12;function qH(t){return((t=Math.exp(t))+1/t)/2}function Met(t){return((t=Math.exp(t))-1/t)/2}function Pet(t){return((t=Math.exp(2*t))-1)/(t+1)}const Let=(function t(e,n,a){function i(r,o){var s=r[0],c=r[1],u=r[2],d=o[0],h=o[1],m=o[2],g=d-s,y=h-c,v=g*g+y*y,S,w;if(v<Oet)w=Math.log(m/u)/e,S=function(N){return[s+N*g,c+N*y,u*Math.exp(e*N*w)]};else{var _=Math.sqrt(v),T=(m*m-u*u+a*v)/(2*u*n*_),A=(m*m-u*u-a*v)/(2*m*n*_),R=Math.log(Math.sqrt(T*T+1)-T),I=Math.log(Math.sqrt(A*A+1)-A);w=(I-R)/e,S=function(N){var P=N*w,O=qH(R),D=u/(n*_)*(O*Pet(e*P+R)-Met(R));return[s+D*g,c+D*y,u*O/qH(e*P+R)]}}return S.duration=w*1e3*e/Math.SQRT2,S}return i.rho=function(r){var o=Math.max(.001,+r),s=o*o,c=s*s;return t(o,s,c)},i})(Math.SQRT2,2,4);var xb=0,Av=0,nv=0,Dte=1e3,h_,Rv,p_=0,Cg=0,O5=0,U2=typeof performance=="object"&&performance.now?performance:Date,Ote=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function YD(){return Cg||(Ote(zet),Cg=U2.now()+O5)}function zet(){Cg=0}function m_(){this._call=this._time=this._next=null}m_.prototype=Mte.prototype={constructor:m_,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?YD():+n)+(e==null?0:+e),!this._next&&Rv!==this&&(Rv?Rv._next=this:h_=this,Rv=this),this._call=t,this._time=n,SN()},stop:function(){this._call&&(this._call=null,this._time=1/0,SN())}};function Mte(t,e,n){var a=new m_;return a.restart(t,e,n),a}function Fet(){YD(),++xb;for(var t=h_,e;t;)(e=Cg-t._time)>=0&&t._call.call(void 0,e),t=t._next;--xb}function WH(){Cg=(p_=U2.now())+O5,xb=Av=0;try{Fet()}finally{xb=0,Het(),Cg=0}}function Bet(){var t=U2.now(),e=t-p_;e>Dte&&(O5-=e,p_=t)}function Het(){for(var t,e=h_,n,a=1/0;e;)e._call?(a>e._time&&(a=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:h_=n);Rv=t,SN(a)}function SN(t){if(!xb){Av&&(Av=clearTimeout(Av));var e=t-Cg;e>24?(t<1/0&&(Av=setTimeout(WH,t-U2.now()-O5)),nv&&(nv=clearInterval(nv))):(nv||(p_=U2.now(),nv=setInterval(Bet,Dte)),xb=1,Ote(WH))}}function VH(t,e,n){var a=new m_;return e=e==null?0:+e,a.restart(i=>{a.stop(),t(i+e)},e,n),a}var $et=j5("start","end","cancel","interrupt"),Uet=[],Pte=0,YH=1,CN=2,c4=3,KH=4,wN=5,u4=6;function M5(t,e,n,a,i,r){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;Get(t,n,{name:e,index:a,group:i,on:$et,tween:Uet,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Pte})}function KD(t,e){var n=au(t,e);if(n.state>Pte)throw new Error("too late; already scheduled");return n}function fd(t,e){var n=au(t,e);if(n.state>c4)throw new Error("too late; already running");return n}function au(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Get(t,e,n){var a=t.__transition,i;a[e]=n,n.timer=Mte(r,0,n.time);function r(u){n.state=YH,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,h,m,g;if(n.state!==YH)return c();for(d in a)if(g=a[d],g.name===n.name){if(g.state===c4)return VH(o);g.state===KH?(g.state=u4,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete a[d]):+d<e&&(g.state=u4,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete a[d])}if(VH(function(){n.state===c4&&(n.state=KH,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=CN,n.on.call("start",t,t.__data__,n.index,n.group),n.state===CN){for(n.state=c4,i=new Array(m=n.tween.length),d=0,h=-1;d<m;++d)(g=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=g);i.length=h+1}}function s(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=wN,1),h=-1,m=i.length;++h<m;)i[h].call(t,d);n.state===wN&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=u4,n.timer.stop(),delete a[e];for(var u in a)return;delete t.__transition}}function d4(t,e){var n=t.__transition,a,i,r=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((a=n[o]).name!==e){r=!1;continue}i=a.state>CN&&a.state<wN,a.state=u4,a.timer.stop(),a.on.call(i?"interrupt":"cancel",t,t.__data__,a.index,a.group),delete n[o]}r&&delete t.__transition}}function qet(t){return this.each(function(){d4(this,t)})}function Wet(t,e){var n,a;return function(){var i=fd(this,t),r=i.tween;if(r!==n){a=n=r;for(var o=0,s=a.length;o<s;++o)if(a[o].name===e){a=a.slice(),a.splice(o,1);break}}i.tween=a}}function Vet(t,e,n){var a,i;if(typeof n!="function")throw new Error;return function(){var r=fd(this,t),o=r.tween;if(o!==a){i=(a=o).slice();for(var s={name:e,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===e){i[c]=s;break}c===u&&i.push(s)}r.tween=i}}function Yet(t,e){var n=this._id;if(t+="",arguments.length<2){for(var a=au(this.node(),n).tween,i=0,r=a.length,o;i<r;++i)if((o=a[i]).name===t)return o.value;return null}return this.each((e==null?Wet:Vet)(n,t,e))}function XD(t,e,n){var a=t._id;return t.each(function(){var i=fd(this,a);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return au(i,a).value[e]}}function Lte(t,e){var n;return(typeof e=="number"?Fh:e instanceof $2?UH:(n=$2(e))?(e=n,UH):ket)(t,e)}function Ket(t){return function(){this.removeAttribute(t)}}function Xet(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qet(t,e,n){var a,i=n+"",r;return function(){var o=this.getAttribute(t);return o===i?null:o===a?r:r=e(a=o,n)}}function Zet(t,e,n){var a,i=n+"",r;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===a?r:r=e(a=o,n)}}function Jet(t,e,n){var a,i,r;return function(){var o,s=n(this),c;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),c=s+"",o===c?null:o===a&&c===i?r:(i=c,r=e(a=o,s)))}}function ett(t,e,n){var a,i,r;return function(){var o,s=n(this),c;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),c=s+"",o===c?null:o===a&&c===i?r:(i=c,r=e(a=o,s)))}}function ttt(t,e){var n=D5(t),a=n==="transform"?Det:Lte;return this.attrTween(t,typeof e=="function"?(n.local?ett:Jet)(n,a,XD(this,"attr."+t,e)):e==null?(n.local?Xet:Ket)(n):(n.local?Zet:Qet)(n,a,e))}function ntt(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function att(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function itt(t,e){var n,a;function i(){var r=e.apply(this,arguments);return r!==a&&(n=(a=r)&&att(t,r)),n}return i._value=e,i}function rtt(t,e){var n,a;function i(){var r=e.apply(this,arguments);return r!==a&&(n=(a=r)&&ntt(t,r)),n}return i._value=e,i}function ott(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var a=D5(t);return this.tween(n,(a.local?itt:rtt)(a,e))}function stt(t,e){return function(){KD(this,t).delay=+e.apply(this,arguments)}}function ltt(t,e){return e=+e,function(){KD(this,t).delay=e}}function ctt(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?stt:ltt)(e,t)):au(this.node(),e).delay}function utt(t,e){return function(){fd(this,t).duration=+e.apply(this,arguments)}}function dtt(t,e){return e=+e,function(){fd(this,t).duration=e}}function ftt(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?utt:dtt)(e,t)):au(this.node(),e).duration}function htt(t,e){if(typeof e!="function")throw new Error;return function(){fd(this,t).ease=e}}function ptt(t){var e=this._id;return arguments.length?this.each(htt(e,t)):au(this.node(),e).ease}function mtt(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;fd(this,t).ease=n}}function gtt(t){if(typeof t!="function")throw new Error;return this.each(mtt(this._id,t))}function btt(t){typeof t!="function"&&(t=mte(t));for(var e=this._groups,n=e.length,a=new Array(n),i=0;i<n;++i)for(var r=e[i],o=r.length,s=a[i]=[],c,u=0;u<o;++u)(c=r[u])&&t.call(c,c.__data__,u,r)&&s.push(c);return new Cf(a,this._parents,this._name,this._id)}function ytt(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,a=e.length,i=n.length,r=Math.min(a,i),o=new Array(a),s=0;s<r;++s)for(var c=e[s],u=n[s],d=c.length,h=o[s]=new Array(d),m,g=0;g<d;++g)(m=c[g]||u[g])&&(h[g]=m);for(;s<a;++s)o[s]=e[s];return new Cf(o,this._parents,this._name,this._id)}function xtt(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function vtt(t,e,n){var a,i,r=xtt(e)?KD:fd;return function(){var o=r(this,t),s=o.on;s!==a&&(i=(a=s).copy()).on(e,n),o.on=i}}function Stt(t,e){var n=this._id;return arguments.length<2?au(this.node(),n).on.on(t):this.each(vtt(n,t,e))}function Ctt(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function wtt(){return this.on("end.remove",Ctt(this._id))}function _tt(t){var e=this._name,n=this._id;typeof t!="function"&&(t=qD(t));for(var a=this._groups,i=a.length,r=new Array(i),o=0;o<i;++o)for(var s=a[o],c=s.length,u=r[o]=new Array(c),d,h,m=0;m<c;++m)(d=s[m])&&(h=t.call(d,d.__data__,m,s))&&("__data__"in d&&(h.__data__=d.__data__),u[m]=h,M5(u[m],e,n,m,u,au(d,n)));return new Cf(r,this._parents,e,n)}function Ttt(t){var e=this._name,n=this._id;typeof t!="function"&&(t=pte(t));for(var a=this._groups,i=a.length,r=[],o=[],s=0;s<i;++s)for(var c=a[s],u=c.length,d,h=0;h<u;++h)if(d=c[h]){for(var m=t.call(d,d.__data__,h,c),g,y=au(d,n),v=0,S=m.length;v<S;++v)(g=m[v])&&M5(g,e,n,v,m,y);r.push(m),o.push(d)}return new Cf(r,o,e,n)}var Ett=IS.prototype.constructor;function Att(){return new Ett(this._groups,this._parents)}function Rtt(t,e){var n,a,i;return function(){var r=yb(this,t),o=(this.style.removeProperty(t),yb(this,t));return r===o?null:r===n&&o===a?i:i=e(n=r,a=o)}}function zte(t){return function(){this.style.removeProperty(t)}}function ktt(t,e,n){var a,i=n+"",r;return function(){var o=yb(this,t);return o===i?null:o===a?r:r=e(a=o,n)}}function Itt(t,e,n){var a,i,r;return function(){var o=yb(this,t),s=n(this),c=s+"";return s==null&&(c=s=(this.style.removeProperty(t),yb(this,t))),o===c?null:o===a&&c===i?r:(i=c,r=e(a=o,s))}}function Ntt(t,e){var n,a,i,r="style."+e,o="end."+r,s;return function(){var c=fd(this,t),u=c.on,d=c.value[r]==null?s||(s=zte(e)):void 0;(u!==n||i!==d)&&(a=(n=u).copy()).on(o,i=d),c.on=a}}function jtt(t,e,n){var a=(t+="")=="transform"?jet:Lte;return e==null?this.styleTween(t,Rtt(t,a)).on("end.style."+t,zte(t)):typeof e=="function"?this.styleTween(t,Itt(t,a,XD(this,"style."+t,e))).each(Ntt(this._id,t)):this.styleTween(t,ktt(t,a,e),n).on("end.style."+t,null)}function Dtt(t,e,n){return function(a){this.style.setProperty(t,e.call(this,a),n)}}function Ott(t,e,n){var a,i;function r(){var o=e.apply(this,arguments);return o!==i&&(a=(i=o)&&Dtt(t,o,n)),a}return r._value=e,r}function Mtt(t,e,n){var a="style."+(t+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(e==null)return this.tween(a,null);if(typeof e!="function")throw new Error;return this.tween(a,Ott(t,e,n??""))}function Ptt(t){return function(){this.textContent=t}}function Ltt(t){return function(){var e=t(this);this.textContent=e??""}}function ztt(t){return this.tween("text",typeof t=="function"?Ltt(XD(this,"text",t)):Ptt(t==null?"":t+""))}function Ftt(t){return function(e){this.textContent=t.call(this,e)}}function Btt(t){var e,n;function a(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Ftt(i)),e}return a._value=t,a}function Htt(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Btt(t))}function $tt(){for(var t=this._name,e=this._id,n=Fte(),a=this._groups,i=a.length,r=0;r<i;++r)for(var o=a[r],s=o.length,c,u=0;u<s;++u)if(c=o[u]){var d=au(c,e);M5(c,t,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Cf(a,this._parents,t,n)}function Utt(){var t,e,n=this,a=n._id,i=n.size();return new Promise(function(r,o){var s={value:o},c={value:function(){--i===0&&r()}};n.each(function(){var u=fd(this,a),d=u.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(c)),u.on=e}),i===0&&r()})}var Gtt=0;function Cf(t,e,n,a){this._groups=t,this._parents=e,this._name=n,this._id=a}function Fte(){return++Gtt}var af=IS.prototype;Cf.prototype={constructor:Cf,select:_tt,selectAll:Ttt,selectChild:af.selectChild,selectChildren:af.selectChildren,filter:btt,merge:ytt,selection:Att,transition:$tt,call:af.call,nodes:af.nodes,node:af.node,size:af.size,empty:af.empty,each:af.each,on:Stt,attr:ttt,attrTween:ott,style:jtt,styleTween:Mtt,text:ztt,textTween:Htt,remove:wtt,tween:Yet,delay:ctt,duration:ftt,ease:ptt,easeVarying:gtt,end:Utt,[Symbol.iterator]:af[Symbol.iterator]};function qtt(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Wtt={time:null,delay:0,duration:250,ease:qtt};function Vtt(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ytt(t){var e,n;t instanceof Cf?(e=t._id,t=t._name):(e=Fte(),(n=Wtt).time=YD(),t=t==null?null:t+"");for(var a=this._groups,i=a.length,r=0;r<i;++r)for(var o=a[r],s=o.length,c,u=0;u<s;++u)(c=o[u])&&M5(c,t,e,u,o,n||Vtt(c,e));return new Cf(a,this._parents,t,e)}IS.prototype.interrupt=qet;IS.prototype.transition=Ytt;const Ow=t=>()=>t;function Ktt(t,{sourceEvent:e,target:n,transform:a,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:i}})}function df(t,e,n){this.k=t,this.x=e,this.y=n}df.prototype={constructor:df,scale:function(t){return t===1?this:new df(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new df(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var pf=new df(1,0,0);df.prototype;function z6(t){t.stopImmediatePropagation()}function av(t){t.preventDefault(),t.stopImmediatePropagation()}function Xtt(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Qtt(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function XH(){return this.__zoom||pf}function Ztt(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Jtt(){return navigator.maxTouchPoints||"ontouchstart"in this}function ent(t,e,n){var a=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],r=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>a?(a+i)/2:Math.min(0,a)||Math.max(0,i),o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o))}function Bte(){var t=Xtt,e=Qtt,n=ent,a=Ztt,i=Jtt,r=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,c=Let,u=j5("start","zoom","end"),d,h,m,g=500,y=150,v=0,S=10;function w(M){M.property("__zoom",XH).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",D).filter(i).on("touchstart.zoom",H).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(M,z,F,G){var ee=M.selection?M.selection():M;ee.property("__zoom",XH),M!==ee?R(M,z,F,G):ee.interrupt().each(function(){I(this,arguments).event(G).start().zoom(null,typeof z=="function"?z.apply(this,arguments):z).end()})},w.scaleBy=function(M,z,F,G){w.scaleTo(M,function(){var ee=this.__zoom.k,V=typeof z=="function"?z.apply(this,arguments):z;return ee*V},F,G)},w.scaleTo=function(M,z,F,G){w.transform(M,function(){var ee=e.apply(this,arguments),V=this.__zoom,Y=F==null?A(ee):typeof F=="function"?F.apply(this,arguments):F,K=V.invert(Y),J=typeof z=="function"?z.apply(this,arguments):z;return n(T(_(V,J),Y,K),ee,o)},F,G)},w.translateBy=function(M,z,F,G){w.transform(M,function(){return n(this.__zoom.translate(typeof z=="function"?z.apply(this,arguments):z,typeof F=="function"?F.apply(this,arguments):F),e.apply(this,arguments),o)},null,G)},w.translateTo=function(M,z,F,G,ee){w.transform(M,function(){var V=e.apply(this,arguments),Y=this.__zoom,K=G==null?A(V):typeof G=="function"?G.apply(this,arguments):G;return n(pf.translate(K[0],K[1]).scale(Y.k).translate(typeof z=="function"?-z.apply(this,arguments):-z,typeof F=="function"?-F.apply(this,arguments):-F),V,o)},G,ee)};function _(M,z){return z=Math.max(r[0],Math.min(r[1],z)),z===M.k?M:new df(z,M.x,M.y)}function T(M,z,F){var G=z[0]-F[0]*M.k,ee=z[1]-F[1]*M.k;return G===M.x&&ee===M.y?M:new df(M.k,G,ee)}function A(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function R(M,z,F,G){M.on("start.zoom",function(){I(this,arguments).event(G).start()}).on("interrupt.zoom end.zoom",function(){I(this,arguments).event(G).end()}).tween("zoom",function(){var ee=this,V=arguments,Y=I(ee,V).event(G),K=e.apply(ee,V),J=F==null?A(K):typeof F=="function"?F.apply(ee,V):F,W=Math.max(K[1][0]-K[0][0],K[1][1]-K[0][1]),te=ee.__zoom,re=typeof z=="function"?z.apply(ee,V):z,ne=c(te.invert(J).concat(W/te.k),re.invert(J).concat(W/re.k));return function(ce){if(ce===1)ce=re;else{var pe=ne(ce),me=W/pe[2];ce=new df(me,J[0]-pe[0]*me,J[1]-pe[1]*me)}Y.zoom(null,ce)}})}function I(M,z,F){return!F&&M.__zooming||new N(M,z)}function N(M,z){this.that=M,this.args=z,this.active=0,this.sourceEvent=null,this.extent=e.apply(M,z),this.taps=0}N.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,z){return this.mouse&&M!=="mouse"&&(this.mouse[1]=z.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=z.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=z.invert(this.touch1[0])),this.that.__zoom=z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var z=Ql(this.that).datum();u.call(M,this.that,new Ktt(M,{sourceEvent:this.sourceEvent,target:w,transform:this.that.__zoom,dispatch:u}),z)}};function P(M,...z){if(!t.apply(this,arguments))return;var F=I(this,z).event(M),G=this.__zoom,ee=Math.max(r[0],Math.min(r[1],G.k*Math.pow(2,a.apply(this,arguments)))),V=Oc(M);if(F.wheel)(F.mouse[0][0]!==V[0]||F.mouse[0][1]!==V[1])&&(F.mouse[1]=G.invert(F.mouse[0]=V)),clearTimeout(F.wheel);else{if(G.k===ee)return;F.mouse=[V,G.invert(V)],d4(this),F.start()}av(M),F.wheel=setTimeout(Y,y),F.zoom("mouse",n(T(_(G,ee),F.mouse[0],F.mouse[1]),F.extent,o));function Y(){F.wheel=null,F.end()}}function O(M,...z){if(m||!t.apply(this,arguments))return;var F=M.currentTarget,G=I(this,z,!0).event(M),ee=Ql(M.view).on("mousemove.zoom",J,!0).on("mouseup.zoom",W,!0),V=Oc(M,F),Y=M.clientX,K=M.clientY;Tte(M.view),z6(M),G.mouse=[V,this.__zoom.invert(V)],d4(this),G.start();function J(te){if(av(te),!G.moved){var re=te.clientX-Y,ne=te.clientY-K;G.moved=re*re+ne*ne>v}G.event(te).zoom("mouse",n(T(G.that.__zoom,G.mouse[0]=Oc(te,F),G.mouse[1]),G.extent,o))}function W(te){ee.on("mousemove.zoom mouseup.zoom",null),Ete(te.view,G.moved),av(te),G.event(te).end()}}function D(M,...z){if(t.apply(this,arguments)){var F=this.__zoom,G=Oc(M.changedTouches?M.changedTouches[0]:M,this),ee=F.invert(G),V=F.k*(M.shiftKey?.5:2),Y=n(T(_(F,V),G,ee),e.apply(this,z),o);av(M),s>0?Ql(this).transition().duration(s).call(R,Y,G,M):Ql(this).call(w.transform,Y,G,M)}}function H(M,...z){if(t.apply(this,arguments)){var F=M.touches,G=F.length,ee=I(this,z,M.changedTouches.length===G).event(M),V,Y,K,J;for(z6(M),Y=0;Y<G;++Y)K=F[Y],J=Oc(K,this),J=[J,this.__zoom.invert(J),K.identifier],ee.touch0?!ee.touch1&&ee.touch0[2]!==J[2]&&(ee.touch1=J,ee.taps=0):(ee.touch0=J,V=!0,ee.taps=1+!!d);d&&(d=clearTimeout(d)),V&&(ee.taps<2&&(h=J[0],d=setTimeout(function(){d=null},g)),d4(this),ee.start())}}function L(M,...z){if(this.__zooming){var F=I(this,z).event(M),G=M.changedTouches,ee=G.length,V,Y,K,J;for(av(M),V=0;V<ee;++V)Y=G[V],K=Oc(Y,this),F.touch0&&F.touch0[2]===Y.identifier?F.touch0[0]=K:F.touch1&&F.touch1[2]===Y.identifier&&(F.touch1[0]=K);if(Y=F.that.__zoom,F.touch1){var W=F.touch0[0],te=F.touch0[1],re=F.touch1[0],ne=F.touch1[1],ce=(ce=re[0]-W[0])*ce+(ce=re[1]-W[1])*ce,pe=(pe=ne[0]-te[0])*pe+(pe=ne[1]-te[1])*pe;Y=_(Y,Math.sqrt(ce/pe)),K=[(W[0]+re[0])/2,(W[1]+re[1])/2],J=[(te[0]+ne[0])/2,(te[1]+ne[1])/2]}else if(F.touch0)K=F.touch0[0],J=F.touch0[1];else return;F.zoom("touch",n(T(Y,K,J),F.extent,o))}}function $(M,...z){if(this.__zooming){var F=I(this,z).event(M),G=M.changedTouches,ee=G.length,V,Y;for(z6(M),m&&clearTimeout(m),m=setTimeout(function(){m=null},g),V=0;V<ee;++V)Y=G[V],F.touch0&&F.touch0[2]===Y.identifier?delete F.touch0:F.touch1&&F.touch1[2]===Y.identifier&&delete F.touch1;if(F.touch1&&!F.touch0&&(F.touch0=F.touch1,delete F.touch1),F.touch0)F.touch0[1]=this.__zoom.invert(F.touch0[0]);else if(F.end(),F.taps===2&&(Y=Oc(Y,this),Math.hypot(h[0]-Y[0],h[1]-Y[1])<S)){var K=Ql(this).on("dblclick.zoom");K&&K.apply(this,arguments)}}}return w.wheelDelta=function(M){return arguments.length?(a=typeof M=="function"?M:Ow(+M),w):a},w.filter=function(M){return arguments.length?(t=typeof M=="function"?M:Ow(!!M),w):t},w.touchable=function(M){return arguments.length?(i=typeof M=="function"?M:Ow(!!M),w):i},w.extent=function(M){return arguments.length?(e=typeof M=="function"?M:Ow([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),w):e},w.scaleExtent=function(M){return arguments.length?(r[0]=+M[0],r[1]=+M[1],w):[r[0],r[1]]},w.translateExtent=function(M){return arguments.length?(o[0][0]=+M[0][0],o[1][0]=+M[1][0],o[0][1]=+M[0][1],o[1][1]=+M[1][1],w):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},w.constrain=function(M){return arguments.length?(n=M,w):n},w.duration=function(M){return arguments.length?(s=+M,w):s},w.interpolate=function(M){return arguments.length?(c=M,w):c},w.on=function(){var M=u.on.apply(u,arguments);return M===u?w:M},w.clickDistance=function(M){return arguments.length?(v=(M=+M)*M,w):Math.sqrt(v)},w.tapDistance=function(M){return arguments.length?(S=+M,w):S},w}const P5=E.createContext(null),tnt=P5.Provider,wf={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Hte=wf.error001();function si(t,e){const n=E.useContext(P5);if(n===null)throw new Error(Hte);return fte(n,t,e)}const Dr=()=>{const t=E.useContext(P5);if(t===null)throw new Error(Hte);return E.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},nnt=t=>t.userSelectionActive?"none":"all";function QD({position:t,children:e,className:n,style:a,...i}){const r=si(nnt),o=`${t}`.split("-");return ke.createElement("div",{className:mo(["react-flow__panel",n,...o]),style:{...a,pointerEvents:r},...i},e)}function ant({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:ke.createElement(QD,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},ke.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const int=({x:t,y:e,label:n,labelStyle:a={},labelShowBg:i=!0,labelBgStyle:r={},labelBgPadding:o=[2,4],labelBgBorderRadius:s=2,children:c,className:u,...d})=>{const h=E.useRef(null),[m,g]=E.useState({x:0,y:0,width:0,height:0}),y=mo(["react-flow__edge-textwrapper",u]);return E.useEffect(()=>{if(h.current){const v=h.current.getBBox();g({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:ke.createElement("g",{transform:`translate(${t-m.width/2} ${e-m.height/2})`,className:y,visibility:m.width?"visible":"hidden",...d},i&&ke.createElement("rect",{width:m.width+2*o[0],x:-o[0],y:-o[1],height:m.height+2*o[1],className:"react-flow__edge-textbg",style:r,rx:s,ry:s}),ke.createElement("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:h,style:a},n),c)};var rnt=E.memo(int);const ZD=t=>({width:t.offsetWidth,height:t.offsetHeight}),vb=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),JD=(t={x:0,y:0},e)=>({x:vb(t.x,e[0][0],e[1][0]),y:vb(t.y,e[0][1],e[1][1])}),QH=(t,e,n)=>t<e?vb(Math.abs(t-e),1,50)/50:t>n?-vb(Math.abs(t-n),1,50)/50:0,$te=(t,e)=>{const n=QH(t.x,35,e.width-35)*20,a=QH(t.y,35,e.height-35)*20;return[n,a]},Ute=t=>t.getRootNode?.()||window?.document,Gte=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),G2=({x:t,y:e,width:n,height:a})=>({x:t,y:e,x2:t+n,y2:e+a}),qte=({x:t,y:e,x2:n,y2:a})=>({x:t,y:e,width:n-t,height:a-e}),ZH=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),ont=(t,e)=>qte(Gte(G2(t),G2(e))),_N=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),a=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*a)},snt=t=>ec(t.width)&&ec(t.height)&&ec(t.x)&&ec(t.y),ec=t=>!isNaN(t)&&isFinite(t),Ki=Symbol.for("internals"),Wte=["Enter"," ","Escape"],lnt=(t,e)=>{},cnt=t=>"nativeEvent"in t;function TN(t){const n=(cnt(t)?t.nativeEvent:t).composedPath?.()?.[0]||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const Vte=t=>"clientX"in t,up=(t,e)=>{const n=Vte(t),a=n?t.clientX:t.touches?.[0].clientX,i=n?t.clientY:t.touches?.[0].clientY;return{x:a-(e?.left??0),y:i-(e?.top??0)}},g_=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,jS=({id:t,path:e,labelX:n,labelY:a,label:i,labelStyle:r,labelShowBg:o,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:m,interactionWidth:g=20})=>ke.createElement(ke.Fragment,null,ke.createElement("path",{id:t,style:d,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:m}),g&&ke.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),i&&ec(n)&&ec(a)?ke.createElement(rnt,{x:n,y:a,label:i,labelStyle:r,labelShowBg:o,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:u}):null);jS.displayName="BaseEdge";function iv(t,e,n){return n===void 0?n:a=>{const i=e().edges.find(r=>r.id===t);i&&n(a,{...i})}}function Yte({sourceX:t,sourceY:e,targetX:n,targetY:a}){const i=Math.abs(n-t)/2,r=n<t?n+i:n-i,o=Math.abs(a-e)/2,s=a<e?a+o:a-o;return[r,s,i,o]}function Kte({sourceX:t,sourceY:e,targetX:n,targetY:a,sourceControlX:i,sourceControlY:r,targetControlX:o,targetControlY:s}){const c=t*.125+i*.375+o*.375+n*.125,u=e*.125+r*.375+s*.375+a*.125,d=Math.abs(c-t),h=Math.abs(u-e);return[c,u,d,h]}var wg;(function(t){t.Strict="strict",t.Loose="loose"})(wg||(wg={}));var Km;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Km||(Km={}));var q2;(function(t){t.Partial="partial",t.Full="full"})(q2||(q2={}));var Gh;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Gh||(Gh={}));var W2;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(W2||(W2={}));var on;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(on||(on={}));function JH({pos:t,x1:e,y1:n,x2:a,y2:i}){return t===on.Left||t===on.Right?[.5*(e+a),n]:[e,.5*(n+i)]}function Xte({sourceX:t,sourceY:e,sourcePosition:n=on.Bottom,targetX:a,targetY:i,targetPosition:r=on.Top}){const[o,s]=JH({pos:n,x1:t,y1:e,x2:a,y2:i}),[c,u]=JH({pos:r,x1:a,y1:i,x2:t,y2:e}),[d,h,m,g]=Kte({sourceX:t,sourceY:e,targetX:a,targetY:i,sourceControlX:o,sourceControlY:s,targetControlX:c,targetControlY:u});return[`M${t},${e} C${o},${s} ${c},${u} ${a},${i}`,d,h,m,g]}const eO=E.memo(({sourceX:t,sourceY:e,targetX:n,targetY:a,sourcePosition:i=on.Bottom,targetPosition:r=on.Top,label:o,labelStyle:s,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:m,markerEnd:g,markerStart:y,interactionWidth:v})=>{const[S,w,_]=Xte({sourceX:t,sourceY:e,sourcePosition:i,targetX:n,targetY:a,targetPosition:r});return ke.createElement(jS,{path:S,labelX:w,labelY:_,label:o,labelStyle:s,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:m,markerEnd:g,markerStart:y,interactionWidth:v})});eO.displayName="SimpleBezierEdge";const e$={[on.Left]:{x:-1,y:0},[on.Right]:{x:1,y:0},[on.Top]:{x:0,y:-1},[on.Bottom]:{x:0,y:1}},unt=({source:t,sourcePosition:e=on.Bottom,target:n})=>e===on.Left||e===on.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},t$=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function dnt({source:t,sourcePosition:e=on.Bottom,target:n,targetPosition:a=on.Top,center:i,offset:r}){const o=e$[e],s=e$[a],c={x:t.x+o.x*r,y:t.y+o.y*r},u={x:n.x+s.x*r,y:n.y+s.y*r},d=unt({source:c,sourcePosition:e,target:u}),h=d.x!==0?"x":"y",m=d[h];let g=[],y,v;const S={x:0,y:0},w={x:0,y:0},[_,T,A,R]=Yte({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(o[h]*s[h]===-1){y=i.x??_,v=i.y??T;const N=[{x:y,y:c.y},{x:y,y:u.y}],P=[{x:c.x,y:v},{x:u.x,y:v}];o[h]===m?g=h==="x"?N:P:g=h==="x"?P:N}else{const N=[{x:c.x,y:u.y}],P=[{x:u.x,y:c.y}];if(h==="x"?g=o.x===m?P:N:g=o.y===m?N:P,e===a){const $=Math.abs(t[h]-n[h]);if($<=r){const M=Math.min(r-1,r-$);o[h]===m?S[h]=(c[h]>t[h]?-1:1)*M:w[h]=(u[h]>n[h]?-1:1)*M}}if(e!==a){const $=h==="x"?"y":"x",M=o[h]===s[$],z=c[$]>u[$],F=c[$]<u[$];(o[h]===1&&(!M&&z||M&&F)||o[h]!==1&&(!M&&F||M&&z))&&(g=h==="x"?N:P)}const O={x:c.x+S.x,y:c.y+S.y},D={x:u.x+w.x,y:u.y+w.y},H=Math.max(Math.abs(O.x-g[0].x),Math.abs(D.x-g[0].x)),L=Math.max(Math.abs(O.y-g[0].y),Math.abs(D.y-g[0].y));H>=L?(y=(O.x+D.x)/2,v=g[0].y):(y=g[0].x,v=(O.y+D.y)/2)}return[[t,{x:c.x+S.x,y:c.y+S.y},...g,{x:u.x+w.x,y:u.y+w.y},n],y,v,A,R]}function fnt(t,e,n,a){const i=Math.min(t$(t,e)/2,t$(e,n)/2,a),{x:r,y:o}=e;if(t.x===r&&r===n.x||t.y===o&&o===n.y)return`L${r} ${o}`;if(t.y===o){const u=t.x<n.x?-1:1,d=t.y<n.y?1:-1;return`L ${r+i*u},${o}Q ${r},${o} ${r},${o+i*d}`}const s=t.x<n.x?1:-1,c=t.y<n.y?-1:1;return`L ${r},${o+i*c}Q ${r},${o} ${r+i*s},${o}`}function EN({sourceX:t,sourceY:e,sourcePosition:n=on.Bottom,targetX:a,targetY:i,targetPosition:r=on.Top,borderRadius:o=5,centerX:s,centerY:c,offset:u=20}){const[d,h,m,g,y]=dnt({source:{x:t,y:e},sourcePosition:n,target:{x:a,y:i},targetPosition:r,center:{x:s,y:c},offset:u});return[d.reduce((S,w,_)=>{let T="";return _>0&&_<d.length-1?T=fnt(d[_-1],w,d[_+1],o):T=`${_===0?"M":"L"}${w.x} ${w.y}`,S+=T,S},""),h,m,g,y]}const L5=E.memo(({sourceX:t,sourceY:e,targetX:n,targetY:a,label:i,labelStyle:r,labelShowBg:o,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:h=on.Bottom,targetPosition:m=on.Top,markerEnd:g,markerStart:y,pathOptions:v,interactionWidth:S})=>{const[w,_,T]=EN({sourceX:t,sourceY:e,sourcePosition:h,targetX:n,targetY:a,targetPosition:m,borderRadius:v?.borderRadius,offset:v?.offset});return ke.createElement(jS,{path:w,labelX:_,labelY:T,label:i,labelStyle:r,labelShowBg:o,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:g,markerStart:y,interactionWidth:S})});L5.displayName="SmoothStepEdge";const tO=E.memo(t=>ke.createElement(L5,{...t,pathOptions:E.useMemo(()=>({borderRadius:0,offset:t.pathOptions?.offset}),[t.pathOptions?.offset])}));tO.displayName="StepEdge";function hnt({sourceX:t,sourceY:e,targetX:n,targetY:a}){const[i,r,o,s]=Yte({sourceX:t,sourceY:e,targetX:n,targetY:a});return[`M ${t},${e}L ${n},${a}`,i,r,o,s]}const nO=E.memo(({sourceX:t,sourceY:e,targetX:n,targetY:a,label:i,labelStyle:r,labelShowBg:o,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:m,interactionWidth:g})=>{const[y,v,S]=hnt({sourceX:t,sourceY:e,targetX:n,targetY:a});return ke.createElement(jS,{path:y,labelX:v,labelY:S,label:i,labelStyle:r,labelShowBg:o,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:m,interactionWidth:g})});nO.displayName="StraightEdge";function Mw(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function n$({pos:t,x1:e,y1:n,x2:a,y2:i,c:r}){switch(t){case on.Left:return[e-Mw(e-a,r),n];case on.Right:return[e+Mw(a-e,r),n];case on.Top:return[e,n-Mw(n-i,r)];case on.Bottom:return[e,n+Mw(i-n,r)]}}function Qte({sourceX:t,sourceY:e,sourcePosition:n=on.Bottom,targetX:a,targetY:i,targetPosition:r=on.Top,curvature:o=.25}){const[s,c]=n$({pos:n,x1:t,y1:e,x2:a,y2:i,c:o}),[u,d]=n$({pos:r,x1:a,y1:i,x2:t,y2:e,c:o}),[h,m,g,y]=Kte({sourceX:t,sourceY:e,targetX:a,targetY:i,sourceControlX:s,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${t},${e} C${s},${c} ${u},${d} ${a},${i}`,h,m,g,y]}const b_=E.memo(({sourceX:t,sourceY:e,targetX:n,targetY:a,sourcePosition:i=on.Bottom,targetPosition:r=on.Top,label:o,labelStyle:s,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:m,markerEnd:g,markerStart:y,pathOptions:v,interactionWidth:S})=>{const[w,_,T]=Qte({sourceX:t,sourceY:e,sourcePosition:i,targetX:n,targetY:a,targetPosition:r,curvature:v?.curvature});return ke.createElement(jS,{path:w,labelX:_,labelY:T,label:o,labelStyle:s,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:m,markerEnd:g,markerStart:y,interactionWidth:S})});b_.displayName="BezierEdge";const aO=E.createContext(null),pnt=aO.Provider;aO.Consumer;const mnt=()=>E.useContext(aO),gnt=t=>"id"in t&&"source"in t&&"target"in t,bnt=({source:t,sourceHandle:e,target:n,targetHandle:a})=>`reactflow__edge-${t}${e||""}-${n}${a||""}`,AN=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(a=>`${a}=${t[a]}`).join("&")}`,ynt=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),xnt=(t,e)=>{if(!t.source||!t.target)return e;let n;return gnt(t)?n={...t}:n={...t,id:bnt(t)},ynt(n,e)?e:e.concat(n)},RN=({x:t,y:e},[n,a,i],r,[o,s])=>{const c={x:(t-n)/i,y:(e-a)/i};return r?{x:o*Math.round(c.x/o),y:s*Math.round(c.y/s)}:c},Zte=({x:t,y:e},[n,a,i])=>({x:t*i+n,y:e*i+a}),og=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],a=(t.height??0)*e[1],i={x:t.position.x-n,y:t.position.y-a};return{...i,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-a}:i}},z5=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((a,i)=>{const{x:r,y:o}=og(i,e).positionAbsolute;return Gte(a,G2({x:r,y:o,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return qte(n)},Jte=(t,e,[n,a,i]=[0,0,1],r=!1,o=!1,s=[0,0])=>{const c={x:(e.x-n)/i,y:(e.y-a)/i,width:e.width/i,height:e.height/i},u=[];return t.forEach(d=>{const{width:h,height:m,selectable:g=!0,hidden:y=!1}=d;if(o&&!g||y)return!1;const{positionAbsolute:v}=og(d,s),S={x:v.x,y:v.y,width:h||0,height:m||0},w=_N(c,S),_=typeof h>"u"||typeof m>"u"||h===null||m===null,T=r&&w>0,A=(h||0)*(m||0);(_||T||w>=A||d.dragging)&&u.push(d)}),u},ene=(t,e)=>{const n=t.map(a=>a.id);return e.filter(a=>n.includes(a.source)||n.includes(a.target))},tne=(t,e,n,a,i,r=.1)=>{const o=e/(t.width*(1+r)),s=n/(t.height*(1+r)),c=Math.min(o,s),u=vb(c,a,i),d=t.x+t.width/2,h=t.y+t.height/2,m=e/2-d*u,g=n/2-h*u;return{x:m,y:g,zoom:u}},Nm=(t,e=0)=>t.transition().duration(e);function a$(t,e,n,a){return(e[n]||[]).reduce((i,r)=>(`${t.id}-${r.id}-${n}`!==a&&i.push({id:r.id||null,type:n,nodeId:t.id,x:(t.positionAbsolute?.x??0)+r.x+r.width/2,y:(t.positionAbsolute?.y??0)+r.y+r.height/2}),i),[])}function vnt(t,e,n,a,i,r){const{x:o,y:s}=up(t),u=e.elementsFromPoint(o,s).find(y=>y.classList.contains("react-flow__handle"));if(u){const y=u.getAttribute("data-nodeid");if(y){const v=iO(void 0,u),S=u.getAttribute("data-handleid"),w=r({nodeId:y,id:S,type:v});if(w){const _=i.find(T=>T.nodeId===y&&T.type===v&&T.id===S);return{handle:{id:S,type:v,nodeId:y,x:_?.x||n.x,y:_?.y||n.y},validHandleResult:w}}}}let d=[],h=1/0;if(i.forEach(y=>{const v=Math.sqrt((y.x-n.x)**2+(y.y-n.y)**2);if(v<=a){const S=r(y);v<=h&&(v<h?d=[{handle:y,validHandleResult:S}]:v===h&&d.push({handle:y,validHandleResult:S}),h=v)}}),!d.length)return{handle:null,validHandleResult:nne()};if(d.length===1)return d[0];const m=d.some(({validHandleResult:y})=>y.isValid),g=d.some(({handle:y})=>y.type==="target");return d.find(({handle:y,validHandleResult:v})=>g?y.type==="target":m?v.isValid:!0)||d[0]}const Snt={source:null,target:null,sourceHandle:null,targetHandle:null},nne=()=>({handleDomNode:null,isValid:!1,connection:Snt,endHandle:null});function ane(t,e,n,a,i,r,o){const s=i==="target",c=o.querySelector(`.react-flow__handle[data-id="${t?.nodeId}-${t?.id}-${t?.type}"]`),u={...nne(),handleDomNode:c};if(c){const d=iO(void 0,c),h=c.getAttribute("data-nodeid"),m=c.getAttribute("data-handleid"),g=c.classList.contains("connectable"),y=c.classList.contains("connectableend"),v={source:s?h:n,sourceHandle:s?m:a,target:s?n:h,targetHandle:s?a:m};u.connection=v,g&&y&&(e===wg.Strict?s&&d==="source"||!s&&d==="target":h!==n||m!==a)&&(u.endHandle={nodeId:h,handleId:m,type:d},u.isValid=r(v))}return u}function Cnt({nodes:t,nodeId:e,handleId:n,handleType:a}){return t.reduce((i,r)=>{if(r[Ki]){const{handleBounds:o}=r[Ki];let s=[],c=[];o&&(s=a$(r,o,"source",`${e}-${n}-${a}`),c=a$(r,o,"target",`${e}-${n}-${a}`)),i.push(...s,...c)}return i},[])}function iO(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function F6(t){t?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function wnt(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function ine({event:t,handleId:e,nodeId:n,onConnect:a,isTarget:i,getState:r,setState:o,isValidConnection:s,edgeUpdaterType:c,onReconnectEnd:u}){const d=Ute(t.target),{connectionMode:h,domNode:m,autoPanOnConnect:g,connectionRadius:y,onConnectStart:v,panBy:S,getNodes:w,cancelConnection:_}=r();let T=0,A;const{x:R,y:I}=up(t),N=d?.elementFromPoint(R,I),P=iO(c,N),O=m?.getBoundingClientRect();if(!O||!P)return;let D,H=up(t,O),L=!1,$=null,M=!1,z=null;const F=Cnt({nodes:w(),nodeId:n,handleId:e,handleType:P}),G=()=>{if(!g)return;const[Y,K]=$te(H,O);S({x:Y,y:K}),T=requestAnimationFrame(G)};o({connectionPosition:H,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:P,connectionStartHandle:{nodeId:n,handleId:e,type:P},connectionEndHandle:null}),v?.(t,{nodeId:n,handleId:e,handleType:P});function ee(Y){const{transform:K}=r();H=up(Y,O);const{handle:J,validHandleResult:W}=vnt(Y,d,RN(H,K,!1,[1,1]),y,F,te=>ane(te,h,n,e,i?"target":"source",s,d));if(A=J,L||(G(),L=!0),z=W.handleDomNode,$=W.connection,M=W.isValid,o({connectionPosition:A&&M?Zte({x:A.x,y:A.y},K):H,connectionStatus:wnt(!!A,M),connectionEndHandle:W.endHandle}),!A&&!M&&!z)return F6(D);$.source!==$.target&&z&&(F6(D),D=z,z.classList.add("connecting","react-flow__handle-connecting"),z.classList.toggle("valid",M),z.classList.toggle("react-flow__handle-valid",M))}function V(Y){(A||z)&&$&&M&&a?.($),r().onConnectEnd?.(Y),c&&u?.(Y),F6(D),_(),cancelAnimationFrame(T),L=!1,M=!1,$=null,z=null,d.removeEventListener("mousemove",ee),d.removeEventListener("mouseup",V),d.removeEventListener("touchmove",ee),d.removeEventListener("touchend",V)}d.addEventListener("mousemove",ee),d.addEventListener("mouseup",V),d.addEventListener("touchmove",ee),d.addEventListener("touchend",V)}const i$=()=>!0,_nt=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),Tnt=(t,e,n)=>a=>{const{connectionStartHandle:i,connectionEndHandle:r,connectionClickStartHandle:o}=a;return{connecting:i?.nodeId===t&&i?.handleId===e&&i?.type===n||r?.nodeId===t&&r?.handleId===e&&r?.type===n,clickConnecting:o?.nodeId===t&&o?.handleId===e&&o?.type===n}},rne=E.forwardRef(({type:t="source",position:e=on.Top,isValidConnection:n,isConnectable:a=!0,isConnectableStart:i=!0,isConnectableEnd:r=!0,id:o,onConnect:s,children:c,className:u,onMouseDown:d,onTouchStart:h,...m},g)=>{const y=o||null,v=t==="target",S=Dr(),w=mnt(),{connectOnClick:_,noPanClassName:T}=si(_nt,Kr),{connecting:A,clickConnecting:R}=si(Tnt(w,y,t),Kr);w||S.getState().onError?.("010",wf.error010());const I=O=>{const{defaultEdgeOptions:D,onConnect:H,hasDefaultEdges:L}=S.getState(),$={...D,...O};if(L){const{edges:M,setEdges:z}=S.getState();z(xnt($,M))}H?.($),s?.($)},N=O=>{if(!w)return;const D=Vte(O);i&&(D&&O.button===0||!D)&&ine({event:O,handleId:y,nodeId:w,onConnect:I,isTarget:v,getState:S.getState,setState:S.setState,isValidConnection:n||S.getState().isValidConnection||i$}),D?d?.(O):h?.(O)},P=O=>{const{onClickConnectStart:D,onClickConnectEnd:H,connectionClickStartHandle:L,connectionMode:$,isValidConnection:M}=S.getState();if(!w||!L&&!i)return;if(!L){D?.(O,{nodeId:w,handleId:y,handleType:t}),S.setState({connectionClickStartHandle:{nodeId:w,type:t,handleId:y}});return}const z=Ute(O.target),F=n||M||i$,{connection:G,isValid:ee}=ane({nodeId:w,id:y,type:t},$,L.nodeId,L.handleId||null,L.type,F,z);ee&&I(G),H?.(O),S.setState({connectionClickStartHandle:null})};return ke.createElement("div",{"data-handleid":y,"data-nodeid":w,"data-handlepos":e,"data-id":`${w}-${y}-${t}`,className:mo(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",T,u,{source:!v,target:v,connectable:a,connectablestart:i,connectableend:r,connecting:R,connectionindicator:a&&(i&&!A||r&&A)}]),onMouseDown:N,onTouchStart:N,onClick:_?P:void 0,ref:g,...m},c)});rne.displayName="Handle";var Sb=E.memo(rne);const one=({data:t,isConnectable:e,targetPosition:n=on.Top,sourcePosition:a=on.Bottom})=>ke.createElement(ke.Fragment,null,ke.createElement(Sb,{type:"target",position:n,isConnectable:e}),t?.label,ke.createElement(Sb,{type:"source",position:a,isConnectable:e}));one.displayName="DefaultNode";var kN=E.memo(one);const sne=({data:t,isConnectable:e,sourcePosition:n=on.Bottom})=>ke.createElement(ke.Fragment,null,t?.label,ke.createElement(Sb,{type:"source",position:n,isConnectable:e}));sne.displayName="InputNode";var lne=E.memo(sne);const cne=({data:t,isConnectable:e,targetPosition:n=on.Top})=>ke.createElement(ke.Fragment,null,ke.createElement(Sb,{type:"target",position:n,isConnectable:e}),t?.label);cne.displayName="OutputNode";var une=E.memo(cne);const rO=()=>null;rO.displayName="GroupNode";const Ent=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),Pw=t=>t.id;function Ant(t,e){return Kr(t.selectedNodes.map(Pw),e.selectedNodes.map(Pw))&&Kr(t.selectedEdges.map(Pw),e.selectedEdges.map(Pw))}const dne=E.memo(({onSelectionChange:t})=>{const e=Dr(),{selectedNodes:n,selectedEdges:a}=si(Ent,Ant);return E.useEffect(()=>{const i={nodes:n,edges:a};t?.(i),e.getState().onSelectionChange.forEach(r=>r(i))},[n,a,t]),null});dne.displayName="SelectionListener";const Rnt=t=>!!t.onSelectionChange;function knt({onSelectionChange:t}){const e=si(Rnt);return t||e?ke.createElement(dne,{onSelectionChange:t}):null}const Int=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function w1(t,e){E.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function Zn(t,e,n){E.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const Nnt=({nodes:t,edges:e,defaultNodes:n,defaultEdges:a,onConnect:i,onConnectStart:r,onConnectEnd:o,onClickConnectStart:s,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:h,edgesFocusable:m,edgesUpdatable:g,elevateNodesOnSelect:y,minZoom:v,maxZoom:S,nodeExtent:w,onNodesChange:_,onEdgesChange:T,elementsSelectable:A,connectionMode:R,snapGrid:I,snapToGrid:N,translateExtent:P,connectOnClick:O,defaultEdgeOptions:D,fitView:H,fitViewOptions:L,onNodesDelete:$,onEdgesDelete:M,onNodeDrag:z,onNodeDragStart:F,onNodeDragStop:G,onSelectionDrag:ee,onSelectionDragStart:V,onSelectionDragStop:Y,noPanClassName:K,nodeOrigin:J,rfId:W,autoPanOnConnect:te,autoPanOnNodeDrag:re,onError:ne,connectionRadius:ce,isValidConnection:pe,nodeDragThreshold:me})=>{const{setNodes:ge,setEdges:ye,setDefaultNodesAndEdges:he,setMinZoom:de,setMaxZoom:fe,setTranslateExtent:oe,setNodeExtent:ue,reset:le}=si(Int,Kr),Se=Dr();return E.useEffect(()=>{const _e=a?.map(Ie=>({...Ie,...D}));return he(n,_e),()=>{le()}},[]),Zn("defaultEdgeOptions",D,Se.setState),Zn("connectionMode",R,Se.setState),Zn("onConnect",i,Se.setState),Zn("onConnectStart",r,Se.setState),Zn("onConnectEnd",o,Se.setState),Zn("onClickConnectStart",s,Se.setState),Zn("onClickConnectEnd",c,Se.setState),Zn("nodesDraggable",u,Se.setState),Zn("nodesConnectable",d,Se.setState),Zn("nodesFocusable",h,Se.setState),Zn("edgesFocusable",m,Se.setState),Zn("edgesUpdatable",g,Se.setState),Zn("elementsSelectable",A,Se.setState),Zn("elevateNodesOnSelect",y,Se.setState),Zn("snapToGrid",N,Se.setState),Zn("snapGrid",I,Se.setState),Zn("onNodesChange",_,Se.setState),Zn("onEdgesChange",T,Se.setState),Zn("connectOnClick",O,Se.setState),Zn("fitViewOnInit",H,Se.setState),Zn("fitViewOnInitOptions",L,Se.setState),Zn("onNodesDelete",$,Se.setState),Zn("onEdgesDelete",M,Se.setState),Zn("onNodeDrag",z,Se.setState),Zn("onNodeDragStart",F,Se.setState),Zn("onNodeDragStop",G,Se.setState),Zn("onSelectionDrag",ee,Se.setState),Zn("onSelectionDragStart",V,Se.setState),Zn("onSelectionDragStop",Y,Se.setState),Zn("noPanClassName",K,Se.setState),Zn("nodeOrigin",J,Se.setState),Zn("rfId",W,Se.setState),Zn("autoPanOnConnect",te,Se.setState),Zn("autoPanOnNodeDrag",re,Se.setState),Zn("onError",ne,Se.setState),Zn("connectionRadius",ce,Se.setState),Zn("isValidConnection",pe,Se.setState),Zn("nodeDragThreshold",me,Se.setState),w1(t,ge),w1(e,ye),w1(v,de),w1(S,fe),w1(P,oe),w1(w,ue),null},r$={display:"none"},jnt={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},fne="react-flow__node-desc",hne="react-flow__edge-desc",Dnt="react-flow__aria-live",Ont=t=>t.ariaLiveMessage;function Mnt({rfId:t}){const e=si(Ont);return ke.createElement("div",{id:`${Dnt}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:jnt},e)}function Pnt({rfId:t,disableKeyboardA11y:e}){return ke.createElement(ke.Fragment,null,ke.createElement("div",{id:`${fne}-${t}`,style:r$},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),ke.createElement("div",{id:`${hne}-${t}`,style:r$},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&ke.createElement(Mnt,{rfId:t}))}var V2=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,a]=E.useState(!1),i=E.useRef(!1),r=E.useRef(new Set([])),[o,s]=E.useMemo(()=>{if(t!==null){const u=(Array.isArray(t)?t:[t]).filter(h=>typeof h=="string").map(h=>h.split("+")),d=u.reduce((h,m)=>h.concat(...m),[]);return[u,d]}return[[],[]]},[t]);return E.useEffect(()=>{const c=typeof document<"u"?document:null,u=e?.target||c;if(t!==null){const d=g=>{if(i.current=g.ctrlKey||g.metaKey||g.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&TN(g))return!1;const v=s$(g.code,s);r.current.add(g[v]),o$(o,r.current,!1)&&(g.preventDefault(),a(!0))},h=g=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&TN(g))return!1;const v=s$(g.code,s);o$(o,r.current,!0)?(a(!1),r.current.clear()):r.current.delete(g[v]),g.key==="Meta"&&r.current.clear(),i.current=!1},m=()=>{r.current.clear(),a(!1)};return u?.addEventListener("keydown",d),u?.addEventListener("keyup",h),window.addEventListener("blur",m),()=>{u?.removeEventListener("keydown",d),u?.removeEventListener("keyup",h),window.removeEventListener("blur",m)}}},[t,a]),n};function o$(t,e,n){return t.filter(a=>n||a.length===e.size).some(a=>a.every(i=>e.has(i)))}function s$(t,e){return e.includes(t)?"code":"key"}function pne(t,e,n,a){const i=t.parentNode||t.parentId;if(!i)return n;const r=e.get(i),o=og(r,a);return pne(r,e,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(r[Ki]?.z??0)>(n.z??0)?r[Ki]?.z??0:n.z??0},a)}function mne(t,e,n){t.forEach(a=>{const i=a.parentNode||a.parentId;if(i&&!t.has(i))throw new Error(`Parent node ${i} not found`);if(i||n?.[a.id]){const{x:r,y:o,z:s}=pne(a,t,{...a.position,z:a[Ki]?.z??0},e);a.positionAbsolute={x:r,y:o},a[Ki].z=s,n?.[a.id]&&(a[Ki].isParent=!0)}})}function B6(t,e,n,a){const i=new Map,r={},o=a?1e3:0;return t.forEach(s=>{const c=(ec(s.zIndex)?s.zIndex:0)+(s.selected?o:0),u=e.get(s.id),d={...s,positionAbsolute:{x:s.position.x,y:s.position.y}},h=s.parentNode||s.parentId;h&&(r[h]=!0);const m=u?.type&&u?.type!==s.type;Object.defineProperty(d,Ki,{enumerable:!1,value:{handleBounds:m?void 0:u?.[Ki]?.handleBounds,z:c}}),i.set(s.id,d)}),mne(i,n,r),i}function gne(t,e={}){const{getNodes:n,width:a,height:i,minZoom:r,maxZoom:o,d3Zoom:s,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:h}=t(),m=e.initial&&!u&&d;if(s&&c&&(m||!e.initial)){const y=n().filter(S=>{const w=e.includeHiddenNodes?S.width&&S.height:!S.hidden;return e.nodes?.length?w&&e.nodes.some(_=>_.id===S.id):w}),v=y.every(S=>S.width&&S.height);if(y.length>0&&v){const S=z5(y,h),{x:w,y:_,zoom:T}=tne(S,a,i,e.minZoom??r,e.maxZoom??o,e.padding??.1),A=pf.translate(w,_).scale(T);return typeof e.duration=="number"&&e.duration>0?s.transform(Nm(c,e.duration),A):s.transform(c,A),!0}}return!1}function Lnt(t,e){return t.forEach(n=>{const a=e.get(n.id);a&&e.set(a.id,{...a,[Ki]:a[Ki],selected:n.selected})}),new Map(e)}function znt(t,e){return e.map(n=>{const a=t.find(i=>i.id===n.id);return a&&(n.selected=a.selected),n})}function Lw({changedNodes:t,changedEdges:e,get:n,set:a}){const{nodeInternals:i,edges:r,onNodesChange:o,onEdgesChange:s,hasDefaultNodes:c,hasDefaultEdges:u}=n();t?.length&&(c&&a({nodeInternals:Lnt(t,i)}),o?.(t)),e?.length&&(u&&a({edges:znt(e,r)}),s?.(e))}const _1=()=>{},Fnt={zoomIn:_1,zoomOut:_1,zoomTo:_1,getZoom:()=>1,setViewport:_1,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:_1,fitBounds:_1,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},Bnt=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),Hnt=()=>{const t=Dr(),{d3Zoom:e,d3Selection:n}=si(Bnt,Kr);return E.useMemo(()=>n&&e?{zoomIn:i=>e.scaleBy(Nm(n,i?.duration),1.2),zoomOut:i=>e.scaleBy(Nm(n,i?.duration),1/1.2),zoomTo:(i,r)=>e.scaleTo(Nm(n,r?.duration),i),getZoom:()=>t.getState().transform[2],setViewport:(i,r)=>{const[o,s,c]=t.getState().transform,u=pf.translate(i.x??o,i.y??s).scale(i.zoom??c);e.transform(Nm(n,r?.duration),u)},getViewport:()=>{const[i,r,o]=t.getState().transform;return{x:i,y:r,zoom:o}},fitView:i=>gne(t.getState,i),setCenter:(i,r,o)=>{const{width:s,height:c,maxZoom:u}=t.getState(),d=typeof o?.zoom<"u"?o.zoom:u,h=s/2-i*d,m=c/2-r*d,g=pf.translate(h,m).scale(d);e.transform(Nm(n,o?.duration),g)},fitBounds:(i,r)=>{const{width:o,height:s,minZoom:c,maxZoom:u}=t.getState(),{x:d,y:h,zoom:m}=tne(i,o,s,c,u,r?.padding??.1),g=pf.translate(d,h).scale(m);e.transform(Nm(n,r?.duration),g)},project:i=>{const{transform:r,snapToGrid:o,snapGrid:s}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),RN(i,r,o,s)},screenToFlowPosition:i=>{const{transform:r,snapToGrid:o,snapGrid:s,domNode:c}=t.getState();if(!c)return i;const{x:u,y:d}=c.getBoundingClientRect(),h={x:i.x-u,y:i.y-d};return RN(h,r,o,s)},flowToScreenPosition:i=>{const{transform:r,domNode:o}=t.getState();if(!o)return i;const{x:s,y:c}=o.getBoundingClientRect(),u=Zte(i,r);return{x:u.x+s,y:u.y+c}},viewportInitialized:!0}:Fnt,[e,n])};function oO(){const t=Hnt(),e=Dr(),n=E.useCallback(()=>e.getState().getNodes().map(v=>({...v})),[]),a=E.useCallback(v=>e.getState().nodeInternals.get(v),[]),i=E.useCallback(()=>{const{edges:v=[]}=e.getState();return v.map(S=>({...S}))},[]),r=E.useCallback(v=>{const{edges:S=[]}=e.getState();return S.find(w=>w.id===v)},[]),o=E.useCallback(v=>{const{getNodes:S,setNodes:w,hasDefaultNodes:_,onNodesChange:T}=e.getState(),A=S(),R=typeof v=="function"?v(A):v;if(_)w(R);else if(T){const I=R.length===0?A.map(N=>({type:"remove",id:N.id})):R.map(N=>({item:N,type:"reset"}));T(I)}},[]),s=E.useCallback(v=>{const{edges:S=[],setEdges:w,hasDefaultEdges:_,onEdgesChange:T}=e.getState(),A=typeof v=="function"?v(S):v;if(_)w(A);else if(T){const R=A.length===0?S.map(I=>({type:"remove",id:I.id})):A.map(I=>({item:I,type:"reset"}));T(R)}},[]),c=E.useCallback(v=>{const S=Array.isArray(v)?v:[v],{getNodes:w,setNodes:_,hasDefaultNodes:T,onNodesChange:A}=e.getState();if(T){const I=[...w(),...S];_(I)}else if(A){const R=S.map(I=>({item:I,type:"add"}));A(R)}},[]),u=E.useCallback(v=>{const S=Array.isArray(v)?v:[v],{edges:w=[],setEdges:_,hasDefaultEdges:T,onEdgesChange:A}=e.getState();if(T)_([...w,...S]);else if(A){const R=S.map(I=>({item:I,type:"add"}));A(R)}},[]),d=E.useCallback(()=>{const{getNodes:v,edges:S=[],transform:w}=e.getState(),[_,T,A]=w;return{nodes:v().map(R=>({...R})),edges:S.map(R=>({...R})),viewport:{x:_,y:T,zoom:A}}},[]),h=E.useCallback(({nodes:v,edges:S})=>{const{nodeInternals:w,getNodes:_,edges:T,hasDefaultNodes:A,hasDefaultEdges:R,onNodesDelete:I,onEdgesDelete:N,onNodesChange:P,onEdgesChange:O}=e.getState(),D=(v||[]).map(z=>z.id),H=(S||[]).map(z=>z.id),L=_().reduce((z,F)=>{const G=F.parentNode||F.parentId,ee=!D.includes(F.id)&&G&&z.find(Y=>Y.id===G);return(typeof F.deletable=="boolean"?F.deletable:!0)&&(D.includes(F.id)||ee)&&z.push(F),z},[]),$=T.filter(z=>typeof z.deletable=="boolean"?z.deletable:!0),M=$.filter(z=>H.includes(z.id));if(L||M){const z=ene(L,$),F=[...M,...z],G=F.reduce((ee,V)=>(ee.includes(V.id)||ee.push(V.id),ee),[]);if((R||A)&&(R&&e.setState({edges:T.filter(ee=>!G.includes(ee.id))}),A&&(L.forEach(ee=>{w.delete(ee.id)}),e.setState({nodeInternals:new Map(w)}))),G.length>0&&(N?.(F),O&&O(G.map(ee=>({id:ee,type:"remove"})))),L.length>0&&(I?.(L),P)){const ee=L.map(V=>({id:V.id,type:"remove"}));P(ee)}}},[]),m=E.useCallback(v=>{const S=snt(v),w=S?null:e.getState().nodeInternals.get(v.id);return!S&&!w?[null,null,S]:[S?v:ZH(w),w,S]},[]),g=E.useCallback((v,S=!0,w)=>{const[_,T,A]=m(v);return _?(w||e.getState().getNodes()).filter(R=>{if(!A&&(R.id===T.id||!R.positionAbsolute))return!1;const I=ZH(R),N=_N(I,_);return S&&N>0||N>=_.width*_.height}):[]},[]),y=E.useCallback((v,S,w=!0)=>{const[_]=m(v);if(!_)return!1;const T=_N(_,S);return w&&T>0||T>=_.width*_.height},[]);return E.useMemo(()=>({...t,getNodes:n,getNode:a,getEdges:i,getEdge:r,setNodes:o,setEdges:s,addNodes:c,addEdges:u,toObject:d,deleteElements:h,getIntersectingNodes:g,isNodeIntersecting:y}),[t,n,a,i,r,o,s,c,u,d,h,g,y])}const $nt={actInsideInputWithModifier:!1};var Unt=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=Dr(),{deleteElements:a}=oO(),i=V2(t,$nt),r=V2(e);E.useEffect(()=>{if(i){const{edges:o,getNodes:s}=n.getState(),c=s().filter(d=>d.selected),u=o.filter(d=>d.selected);a({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[i]),E.useEffect(()=>{n.setState({multiSelectionActive:r})},[r])};function Gnt(t){const e=Dr();E.useEffect(()=>{let n;const a=()=>{if(!t.current)return;const i=ZD(t.current);(i.height===0||i.width===0)&&e.getState().onError?.("004",wf.error004()),e.setState({width:i.width||500,height:i.height||500})};return a(),window.addEventListener("resize",a),t.current&&(n=new ResizeObserver(()=>a()),n.observe(t.current)),()=>{window.removeEventListener("resize",a),n&&t.current&&n.unobserve(t.current)}},[])}const sO={position:"absolute",width:"100%",height:"100%",top:0,left:0},qnt=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,zw=t=>({x:t.x,y:t.y,zoom:t.k}),T1=(t,e)=>t.target.closest(`.${e}`),l$=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),c$=t=>{const e=t.ctrlKey&&g_()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},Wnt=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),Vnt=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:a,zoomOnScroll:i=!0,zoomOnPinch:r=!0,panOnScroll:o=!1,panOnScrollSpeed:s=.5,panOnScrollMode:c=Km.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:h=!0,defaultViewport:m,translateExtent:g,minZoom:y,maxZoom:v,zoomActivationKeyCode:S,preventScrolling:w=!0,children:_,noWheelClassName:T,noPanClassName:A})=>{const R=E.useRef(),I=Dr(),N=E.useRef(!1),P=E.useRef(!1),O=E.useRef(null),D=E.useRef({x:0,y:0,zoom:0}),{d3Zoom:H,d3Selection:L,d3ZoomHandler:$,userSelectionActive:M}=si(Wnt,Kr),z=V2(S),F=E.useRef(0),G=E.useRef(!1),ee=E.useRef();return Gnt(O),E.useEffect(()=>{if(O.current){const V=O.current.getBoundingClientRect(),Y=Bte().scaleExtent([y,v]).translateExtent(g),K=Ql(O.current).call(Y),J=pf.translate(m.x,m.y).scale(vb(m.zoom,y,v)),W=[[0,0],[V.width,V.height]],te=Y.constrain()(J,W,g);Y.transform(K,te),Y.wheelDelta(c$),I.setState({d3Zoom:Y,d3Selection:K,d3ZoomHandler:K.on("wheel.zoom"),transform:[te.x,te.y,te.k],domNode:O.current.closest(".react-flow")})}},[]),E.useEffect(()=>{L&&H&&(o&&!z&&!M?L.on("wheel.zoom",V=>{if(T1(V,T))return!1;V.preventDefault(),V.stopImmediatePropagation();const Y=L.property("__zoom").k||1;if(V.ctrlKey&&r){const pe=Oc(V),me=c$(V),ge=Y*Math.pow(2,me);H.scaleTo(L,ge,pe,V);return}const K=V.deltaMode===1?20:1;let J=c===Km.Vertical?0:V.deltaX*K,W=c===Km.Horizontal?0:V.deltaY*K;!g_()&&V.shiftKey&&c!==Km.Vertical&&(J=V.deltaY*K,W=0),H.translateBy(L,-(J/Y)*s,-(W/Y)*s,{internal:!0});const te=zw(L.property("__zoom")),{onViewportChangeStart:re,onViewportChange:ne,onViewportChangeEnd:ce}=I.getState();clearTimeout(ee.current),G.current||(G.current=!0,e?.(V,te),re?.(te)),G.current&&(t?.(V,te),ne?.(te),ee.current=setTimeout(()=>{n?.(V,te),ce?.(te),G.current=!1},150))},{passive:!1}):typeof $<"u"&&L.on("wheel.zoom",function(V,Y){if(!w&&V.type==="wheel"&&!V.ctrlKey||T1(V,T))return null;V.preventDefault(),$.call(this,V,Y)},{passive:!1}))},[M,o,c,L,H,$,z,r,w,T,e,t,n]),E.useEffect(()=>{H&&H.on("start",V=>{if(!V.sourceEvent||V.sourceEvent.internal)return null;F.current=V.sourceEvent?.button;const{onViewportChangeStart:Y}=I.getState(),K=zw(V.transform);N.current=!0,D.current=K,V.sourceEvent?.type==="mousedown"&&I.setState({paneDragging:!0}),Y?.(K),e?.(V.sourceEvent,K)})},[H,e]),E.useEffect(()=>{H&&(M&&!N.current?H.on("zoom",null):M||H.on("zoom",V=>{const{onViewportChange:Y}=I.getState();if(I.setState({transform:[V.transform.x,V.transform.y,V.transform.k]}),P.current=!!(a&&l$(h,F.current??0)),(t||Y)&&!V.sourceEvent?.internal){const K=zw(V.transform);Y?.(K),t?.(V.sourceEvent,K)}}))},[M,H,t,h,a]),E.useEffect(()=>{H&&H.on("end",V=>{if(!V.sourceEvent||V.sourceEvent.internal)return null;const{onViewportChangeEnd:Y}=I.getState();if(N.current=!1,I.setState({paneDragging:!1}),a&&l$(h,F.current??0)&&!P.current&&a(V.sourceEvent),P.current=!1,(n||Y)&&qnt(D.current,V.transform)){const K=zw(V.transform);D.current=K,clearTimeout(R.current),R.current=setTimeout(()=>{Y?.(K),n?.(V.sourceEvent,K)},o?150:0)}})},[H,o,h,n,a]),E.useEffect(()=>{H&&H.filter(V=>{const Y=z||i,K=r&&V.ctrlKey;if((h===!0||Array.isArray(h)&&h.includes(1))&&V.button===1&&V.type==="mousedown"&&(T1(V,"react-flow__node")||T1(V,"react-flow__edge")))return!0;if(!h&&!Y&&!o&&!u&&!r||M||!u&&V.type==="dblclick"||T1(V,T)&&V.type==="wheel"||T1(V,A)&&(V.type!=="wheel"||o&&V.type==="wheel"&&!z)||!r&&V.ctrlKey&&V.type==="wheel"||!Y&&!o&&!K&&V.type==="wheel"||!h&&(V.type==="mousedown"||V.type==="touchstart")||Array.isArray(h)&&!h.includes(V.button)&&V.type==="mousedown")return!1;const J=Array.isArray(h)&&h.includes(V.button)||!V.button||V.button<=1;return(!V.ctrlKey||V.type==="wheel")&&J})},[M,H,i,r,o,u,h,d,z]),ke.createElement("div",{className:"react-flow__renderer",ref:O,style:sO},_)},Ynt=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function Knt(){const{userSelectionActive:t,userSelectionRect:e}=si(Ynt,Kr);return t&&e?ke.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function u$(t,e){const n=e.parentNode||e.parentId,a=t.find(i=>i.id===n);if(a){const i=e.position.x+e.width-a.width,r=e.position.y+e.height-a.height;if(i>0||r>0||e.position.x<0||e.position.y<0){if(a.style={...a.style},a.style.width=a.style.width??a.width,a.style.height=a.style.height??a.height,i>0&&(a.style.width+=i),r>0&&(a.style.height+=r),e.position.x<0){const o=Math.abs(e.position.x);a.position.x=a.position.x-o,a.style.width+=o,e.position.x=0}if(e.position.y<0){const o=Math.abs(e.position.y);a.position.y=a.position.y-o,a.style.height+=o,e.position.y=0}a.width=a.style.width,a.height=a.style.height}}}function bne(t,e){if(t.some(a=>a.type==="reset"))return t.filter(a=>a.type==="reset").map(a=>a.item);const n=t.filter(a=>a.type==="add").map(a=>a.item);return e.reduce((a,i)=>{const r=t.filter(s=>s.id===i.id);if(r.length===0)return a.push(i),a;const o={...i};for(const s of r)if(s)switch(s.type){case"select":{o.selected=s.selected;break}case"position":{typeof s.position<"u"&&(o.position=s.position),typeof s.positionAbsolute<"u"&&(o.positionAbsolute=s.positionAbsolute),typeof s.dragging<"u"&&(o.dragging=s.dragging),o.expandParent&&u$(a,o);break}case"dimensions":{typeof s.dimensions<"u"&&(o.width=s.dimensions.width,o.height=s.dimensions.height),typeof s.updateStyle<"u"&&(o.style={...o.style||{},...s.dimensions}),typeof s.resizing=="boolean"&&(o.resizing=s.resizing),o.expandParent&&u$(a,o);break}case"remove":return a}return a.push(o),a},n)}function yne(t,e){return bne(t,e)}function Xnt(t,e){return bne(t,e)}const Bh=(t,e)=>({id:t,type:"select",selected:e});function z1(t,e){return t.reduce((n,a)=>{const i=e.includes(a.id);return!a.selected&&i?(a.selected=!0,n.push(Bh(a.id,!0))):a.selected&&!i&&(a.selected=!1,n.push(Bh(a.id,!1))),n},[])}const H6=(t,e)=>n=>{n.target===e.current&&t?.(n)},Qnt=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),xne=E.memo(({isSelecting:t,selectionMode:e=q2.Full,panOnDrag:n,onSelectionStart:a,onSelectionEnd:i,onPaneClick:r,onPaneContextMenu:o,onPaneScroll:s,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:h})=>{const m=E.useRef(null),g=Dr(),y=E.useRef(0),v=E.useRef(0),S=E.useRef(),{userSelectionActive:w,elementsSelectable:_,dragging:T}=si(Qnt,Kr),A=()=>{g.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,v.current=0},R=$=>{r?.($),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},I=$=>{if(Array.isArray(n)&&n?.includes(2)){$.preventDefault();return}o?.($)},N=s?$=>s($):void 0,P=$=>{const{resetSelectedElements:M,domNode:z}=g.getState();if(S.current=z?.getBoundingClientRect(),!_||!t||$.button!==0||$.target!==m.current||!S.current)return;const{x:F,y:G}=up($,S.current);M(),g.setState({userSelectionRect:{width:0,height:0,startX:F,startY:G,x:F,y:G}}),a?.($)},O=$=>{const{userSelectionRect:M,nodeInternals:z,edges:F,transform:G,onNodesChange:ee,onEdgesChange:V,nodeOrigin:Y,getNodes:K}=g.getState();if(!t||!S.current||!M)return;g.setState({userSelectionActive:!0,nodesSelectionActive:!1});const J=up($,S.current),W=M.startX??0,te=M.startY??0,re={...M,x:J.x<W?J.x:W,y:J.y<te?J.y:te,width:Math.abs(J.x-W),height:Math.abs(J.y-te)},ne=K(),ce=Jte(z,re,G,e===q2.Partial,!0,Y),pe=ene(ce,F).map(ge=>ge.id),me=ce.map(ge=>ge.id);if(y.current!==me.length){y.current=me.length;const ge=z1(ne,me);ge.length&&ee?.(ge)}if(v.current!==pe.length){v.current=pe.length;const ge=z1(F,pe);ge.length&&V?.(ge)}g.setState({userSelectionRect:re})},D=$=>{if($.button!==0)return;const{userSelectionRect:M}=g.getState();!w&&M&&$.target===m.current&&R?.($),g.setState({nodesSelectionActive:y.current>0}),A(),i?.($)},H=$=>{w&&(g.setState({nodesSelectionActive:y.current>0}),i?.($)),A()},L=_&&(t||w);return ke.createElement("div",{className:mo(["react-flow__pane",{dragging:T,selection:t}]),onClick:L?void 0:H6(R,m),onContextMenu:H6(I,m),onWheel:H6(N,m),onMouseEnter:L?void 0:c,onMouseDown:L?P:void 0,onMouseMove:L?O:u,onMouseUp:L?D:void 0,onMouseLeave:L?H:d,ref:m,style:sO},h,ke.createElement(Knt,null))});xne.displayName="Pane";function vne(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const a=e.get(n);return a?a.selected?!0:vne(a,e):!1}function d$(t,e,n){let a=t;do{if(a?.matches(e))return!0;if(a===n.current)return!1;a=a.parentElement}while(a);return!1}function Znt(t,e,n,a){return Array.from(t.values()).filter(i=>(i.selected||i.id===a)&&(!i.parentNode||i.parentId||!vne(i,t))&&(i.draggable||e&&typeof i.draggable>"u")).map(i=>({id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(i.positionAbsolute?.x??0),y:n.y-(i.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}))}function Jnt(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function Sne(t,e,n,a,i=[0,0],r){const o=Jnt(t,t.extent||a);let s=o;const c=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(c&&t.width&&t.height){const h=n.get(c),{x:m,y:g}=og(h,i).positionAbsolute;s=h&&ec(m)&&ec(g)&&ec(h.width)&&ec(h.height)?[[m+t.width*i[0],g+t.height*i[1]],[m+h.width-t.width+t.width*i[0],g+h.height-t.height+t.height*i[1]]]:s}else r?.("005",wf.error005()),s=o;else if(t.extent&&c&&t.extent!=="parent"){const h=n.get(c),{x:m,y:g}=og(h,i).positionAbsolute;s=[[t.extent[0][0]+m,t.extent[0][1]+g],[t.extent[1][0]+m,t.extent[1][1]+g]]}let u={x:0,y:0};if(c){const h=n.get(c);u=og(h,i).positionAbsolute}const d=s&&s!=="parent"?JD(e,s):e;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function $6({nodeId:t,dragItems:e,nodeInternals:n}){const a=e.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[t?a.find(i=>i.id===t):a[0],a]}const f$=(t,e,n,a)=>{const i=e.querySelectorAll(t);if(!i||!i.length)return null;const r=Array.from(i),o=e.getBoundingClientRect(),s={x:o.width*a[0],y:o.height*a[1]};return r.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-o.left-s.x)/n,y:(u.top-o.top-s.y)/n,...ZD(c)}})};function rv(t,e,n){return n===void 0?n:a=>{const i=e().nodeInternals.get(t);i&&n(a,{...i})}}function IN({id:t,store:e,unselect:n=!1,nodeRef:a}){const{addSelectedNodes:i,unselectNodesAndEdges:r,multiSelectionActive:o,nodeInternals:s,onError:c}=e.getState(),u=s.get(t);if(!u){c?.("012",wf.error012(t));return}e.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(r({nodes:[u],edges:[]}),requestAnimationFrame(()=>a?.current?.blur())):i([t])}function eat(){const t=Dr();return E.useCallback(({sourceEvent:n})=>{const{transform:a,snapGrid:i,snapToGrid:r}=t.getState(),o=n.touches?n.touches[0].clientX:n.clientX,s=n.touches?n.touches[0].clientY:n.clientY,c={x:(o-a[0])/a[2],y:(s-a[1])/a[2]};return{xSnapped:r?i[0]*Math.round(c.x/i[0]):c.x,ySnapped:r?i[1]*Math.round(c.y/i[1]):c.y,...c}},[])}function U6(t){return(e,n,a)=>t?.(e,a)}function Cne({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:a,nodeId:i,isSelectable:r,selectNodesOnDrag:o}){const s=Dr(),[c,u]=E.useState(!1),d=E.useRef([]),h=E.useRef({x:null,y:null}),m=E.useRef(0),g=E.useRef(null),y=E.useRef({x:0,y:0}),v=E.useRef(null),S=E.useRef(!1),w=E.useRef(!1),_=E.useRef(!1),T=eat();return E.useEffect(()=>{if(t?.current){const A=Ql(t.current),R=({x:P,y:O})=>{const{nodeInternals:D,onNodeDrag:H,onSelectionDrag:L,updateNodePositions:$,nodeExtent:M,snapGrid:z,snapToGrid:F,nodeOrigin:G,onError:ee}=s.getState();h.current={x:P,y:O};let V=!1,Y={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&M){const J=z5(d.current,G);Y=G2(J)}if(d.current=d.current.map(J=>{const W={x:P-J.distance.x,y:O-J.distance.y};F&&(W.x=z[0]*Math.round(W.x/z[0]),W.y=z[1]*Math.round(W.y/z[1]));const te=[[M[0][0],M[0][1]],[M[1][0],M[1][1]]];d.current.length>1&&M&&!J.extent&&(te[0][0]=J.positionAbsolute.x-Y.x+M[0][0],te[1][0]=J.positionAbsolute.x+(J.width??0)-Y.x2+M[1][0],te[0][1]=J.positionAbsolute.y-Y.y+M[0][1],te[1][1]=J.positionAbsolute.y+(J.height??0)-Y.y2+M[1][1]);const re=Sne(J,W,D,te,G,ee);return V=V||J.position.x!==re.position.x||J.position.y!==re.position.y,J.position=re.position,J.positionAbsolute=re.positionAbsolute,J}),!V)return;$(d.current,!0,!0),u(!0);const K=i?H:U6(L);if(K&&v.current){const[J,W]=$6({nodeId:i,dragItems:d.current,nodeInternals:D});K(v.current,J,W)}},I=()=>{if(!g.current)return;const[P,O]=$te(y.current,g.current);if(P!==0||O!==0){const{transform:D,panBy:H}=s.getState();h.current.x=(h.current.x??0)-P/D[2],h.current.y=(h.current.y??0)-O/D[2],H({x:P,y:O})&&R(h.current)}m.current=requestAnimationFrame(I)},N=P=>{const{nodeInternals:O,multiSelectionActive:D,nodesDraggable:H,unselectNodesAndEdges:L,onNodeDragStart:$,onSelectionDragStart:M}=s.getState();w.current=!0;const z=i?$:U6(M);(!o||!r)&&!D&&i&&(O.get(i)?.selected||L()),i&&r&&o&&IN({id:i,store:s,nodeRef:t});const F=T(P);if(h.current=F,d.current=Znt(O,H,F,i),z&&d.current){const[G,ee]=$6({nodeId:i,dragItems:d.current,nodeInternals:O});z(P.sourceEvent,G,ee)}};if(e)A.on(".drag",null);else{const P=uet().on("start",O=>{const{domNode:D,nodeDragThreshold:H}=s.getState();H===0&&N(O),_.current=!1;const L=T(O);h.current=L,g.current=D?.getBoundingClientRect()||null,y.current=up(O.sourceEvent,g.current)}).on("drag",O=>{const D=T(O),{autoPanOnNodeDrag:H,nodeDragThreshold:L}=s.getState();if(O.sourceEvent.type==="touchmove"&&O.sourceEvent.touches.length>1&&(_.current=!0),!_.current){if(!S.current&&w.current&&H&&(S.current=!0,I()),!w.current){const $=D.xSnapped-(h?.current?.x??0),M=D.ySnapped-(h?.current?.y??0);Math.sqrt($*$+M*M)>L&&N(O)}(h.current.x!==D.xSnapped||h.current.y!==D.ySnapped)&&d.current&&w.current&&(v.current=O.sourceEvent,y.current=up(O.sourceEvent,g.current),R(D))}}).on("end",O=>{if(!(!w.current||_.current)&&(u(!1),S.current=!1,w.current=!1,cancelAnimationFrame(m.current),d.current)){const{updateNodePositions:D,nodeInternals:H,onNodeDragStop:L,onSelectionDragStop:$}=s.getState(),M=i?L:U6($);if(D(d.current,!1,!1),M){const[z,F]=$6({nodeId:i,dragItems:d.current,nodeInternals:H});M(O.sourceEvent,z,F)}}}).filter(O=>{const D=O.target;return!O.button&&(!n||!d$(D,`.${n}`,t))&&(!a||d$(D,a,t))});return A.call(P),()=>{A.on(".drag",null)}}}},[t,e,n,a,r,s,i,o,T]),c}function wne(){const t=Dr();return E.useCallback(n=>{const{nodeInternals:a,nodeExtent:i,updateNodePositions:r,getNodes:o,snapToGrid:s,snapGrid:c,onError:u,nodesDraggable:d}=t.getState(),h=o().filter(_=>_.selected&&(_.draggable||d&&typeof _.draggable>"u")),m=s?c[0]:5,g=s?c[1]:5,y=n.isShiftPressed?4:1,v=n.x*m*y,S=n.y*g*y,w=h.map(_=>{if(_.positionAbsolute){const T={x:_.positionAbsolute.x+v,y:_.positionAbsolute.y+S};s&&(T.x=c[0]*Math.round(T.x/c[0]),T.y=c[1]*Math.round(T.y/c[1]));const{positionAbsolute:A,position:R}=Sne(_,T,a,i,void 0,u);_.position=R,_.positionAbsolute=A}return _});r(w,!0,!1)},[])}const Z1={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var ov=t=>{const e=({id:n,type:a,data:i,xPos:r,yPos:o,xPosOrigin:s,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:h,onMouseMove:m,onMouseLeave:g,onContextMenu:y,onDoubleClick:v,style:S,className:w,isDraggable:_,isSelectable:T,isConnectable:A,isFocusable:R,selectNodesOnDrag:I,sourcePosition:N,targetPosition:P,hidden:O,resizeObserver:D,dragHandle:H,zIndex:L,isParent:$,noDragClassName:M,noPanClassName:z,initialized:F,disableKeyboardA11y:G,ariaLabel:ee,rfId:V,hasHandleBounds:Y})=>{const K=Dr(),J=E.useRef(null),W=E.useRef(null),te=E.useRef(N),re=E.useRef(P),ne=E.useRef(a),ce=T||_||d||h||m||g,pe=wne(),me=rv(n,K.getState,h),ge=rv(n,K.getState,m),ye=rv(n,K.getState,g),he=rv(n,K.getState,y),de=rv(n,K.getState,v),fe=le=>{const{nodeDragThreshold:Se}=K.getState();if(T&&(!I||!_||Se>0)&&IN({id:n,store:K,nodeRef:J}),d){const _e=K.getState().nodeInternals.get(n);_e&&d(le,{..._e})}},oe=le=>{if(!TN(le)&&!G)if(Wte.includes(le.key)&&T){const Se=le.key==="Escape";IN({id:n,store:K,unselect:Se,nodeRef:J})}else _&&u&&Object.prototype.hasOwnProperty.call(Z1,le.key)&&(K.setState({ariaLiveMessage:`Moved selected node ${le.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~r}, y: ${~~o}`}),pe({x:Z1[le.key].x,y:Z1[le.key].y,isShiftPressed:le.shiftKey}))};E.useEffect(()=>()=>{W.current&&(D?.unobserve(W.current),W.current=null)},[]),E.useEffect(()=>{if(J.current&&!O){const le=J.current;(!F||!Y||W.current!==le)&&(W.current&&D?.unobserve(W.current),D?.observe(le),W.current=le)}},[O,F,Y]),E.useEffect(()=>{const le=ne.current!==a,Se=te.current!==N,_e=re.current!==P;J.current&&(le||Se||_e)&&(le&&(ne.current=a),Se&&(te.current=N),_e&&(re.current=P),K.getState().updateNodeDimensions([{id:n,nodeElement:J.current,forceUpdate:!0}]))},[n,a,N,P]);const ue=Cne({nodeRef:J,disabled:O||!_,noDragClassName:M,handleSelector:H,nodeId:n,isSelectable:T,selectNodesOnDrag:I});return O?null:ke.createElement("div",{className:mo(["react-flow__node",`react-flow__node-${a}`,{[z]:_},w,{selected:u,selectable:T,parent:$,dragging:ue}]),ref:J,style:{zIndex:L,transform:`translate(${s}px,${c}px)`,pointerEvents:ce?"all":"none",visibility:F?"visible":"hidden",...S},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:me,onMouseMove:ge,onMouseLeave:ye,onContextMenu:he,onClick:fe,onDoubleClick:de,onKeyDown:R?oe:void 0,tabIndex:R?0:void 0,role:R?"button":void 0,"aria-describedby":G?void 0:`${fne}-${V}`,"aria-label":ee},ke.createElement(pnt,{value:n},ke.createElement(t,{id:n,data:i,type:a,xPos:r,yPos:o,selected:u,isConnectable:A,sourcePosition:N,targetPosition:P,dragging:ue,dragHandle:H,zIndex:L})))};return e.displayName="NodeWrapper",E.memo(e)};const tat=t=>{const e=t.getNodes().filter(n=>n.selected);return{...z5(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function nat({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const a=Dr(),{width:i,height:r,x:o,y:s,transformString:c,userSelectionActive:u}=si(tat,Kr),d=wne(),h=E.useRef(null);if(E.useEffect(()=>{n||h.current?.focus({preventScroll:!0})},[n]),Cne({nodeRef:h}),u||!i||!r)return null;const m=t?y=>{const v=a.getState().getNodes().filter(S=>S.selected);t(y,v)}:void 0,g=y=>{Object.prototype.hasOwnProperty.call(Z1,y.key)&&d({x:Z1[y.key].x,y:Z1[y.key].y,isShiftPressed:y.shiftKey})};return ke.createElement("div",{className:mo(["react-flow__nodesselection","react-flow__container",e]),style:{transform:c}},ke.createElement("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:g,style:{width:i,height:r,top:s,left:o}}))}var aat=E.memo(nat);const iat=t=>t.nodesSelectionActive,_ne=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:a,onPaneMouseLeave:i,onPaneContextMenu:r,onPaneScroll:o,deleteKeyCode:s,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:h,selectionOnDrag:m,selectionMode:g,onSelectionStart:y,onSelectionEnd:v,multiSelectionKeyCode:S,panActivationKeyCode:w,zoomActivationKeyCode:_,elementsSelectable:T,zoomOnScroll:A,zoomOnPinch:R,panOnScroll:I,panOnScrollSpeed:N,panOnScrollMode:P,zoomOnDoubleClick:O,panOnDrag:D,defaultViewport:H,translateExtent:L,minZoom:$,maxZoom:M,preventScrolling:z,onSelectionContextMenu:F,noWheelClassName:G,noPanClassName:ee,disableKeyboardA11y:V})=>{const Y=si(iat),K=V2(h),J=V2(w),W=J||D,te=J||I,re=K||m&&W!==!0;return Unt({deleteKeyCode:s,multiSelectionKeyCode:S}),ke.createElement(Vnt,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:r,elementsSelectable:T,zoomOnScroll:A,zoomOnPinch:R,panOnScroll:te,panOnScrollSpeed:N,panOnScrollMode:P,zoomOnDoubleClick:O,panOnDrag:!K&&W,defaultViewport:H,translateExtent:L,minZoom:$,maxZoom:M,zoomActivationKeyCode:_,preventScrolling:z,noWheelClassName:G,noPanClassName:ee},ke.createElement(xne,{onSelectionStart:y,onSelectionEnd:v,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:a,onPaneMouseLeave:i,onPaneContextMenu:r,onPaneScroll:o,panOnDrag:W,isSelecting:!!re,selectionMode:g},t,Y&&ke.createElement(aat,{onSelectionContextMenu:F,noPanClassName:ee,disableKeyboardA11y:V})))};_ne.displayName="FlowRenderer";var rat=E.memo(_ne);function oat(t){return si(E.useCallback(n=>t?Jte(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function sat(t){const e={input:ov(t.input||lne),default:ov(t.default||kN),output:ov(t.output||une),group:ov(t.group||rO)},n={},a=Object.keys(t).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,r)=>(i[r]=ov(t[r]||kN),i),n);return{...e,...a}}const lat=({x:t,y:e,width:n,height:a,origin:i})=>!n||!a?{x:t,y:e}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:t,y:e}:{x:t-n*i[0],y:e-a*i[1]},cat=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),Tne=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:a,elementsSelectable:i,updateNodeDimensions:r,onError:o}=si(cat,Kr),s=oat(t.onlyRenderVisibleElements),c=E.useRef(),u=E.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(h=>{const m=h.map(g=>({id:g.target.getAttribute("data-id"),nodeElement:g.target,forceUpdate:!0}));r(m)});return c.current=d,d},[]);return E.useEffect(()=>()=>{c?.current?.disconnect()},[]),ke.createElement("div",{className:"react-flow__nodes",style:sO},s.map(d=>{let h=d.type||"default";t.nodeTypes[h]||(o?.("003",wf.error003(h)),h="default");const m=t.nodeTypes[h]||t.nodeTypes.default,g=!!(d.draggable||e&&typeof d.draggable>"u"),y=!!(d.selectable||i&&typeof d.selectable>"u"),v=!!(d.connectable||n&&typeof d.connectable>"u"),S=!!(d.focusable||a&&typeof d.focusable>"u"),w=t.nodeExtent?JD(d.positionAbsolute,t.nodeExtent):d.positionAbsolute,_=w?.x??0,T=w?.y??0,A=lat({x:_,y:T,width:d.width??0,height:d.height??0,origin:t.nodeOrigin});return ke.createElement(m,{key:d.id,id:d.id,className:d.className,style:d.style,type:h,data:d.data,sourcePosition:d.sourcePosition||on.Bottom,targetPosition:d.targetPosition||on.Top,hidden:d.hidden,xPos:_,yPos:T,xPosOrigin:A.x,yPosOrigin:A.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!d.selected,isDraggable:g,isSelectable:y,isConnectable:v,isFocusable:S,resizeObserver:u,dragHandle:d.dragHandle,zIndex:d[Ki]?.z??0,isParent:!!d[Ki]?.isParent,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!d.width&&!!d.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!d[Ki]?.handleBounds})}))};Tne.displayName="NodeRenderer";var uat=E.memo(Tne);const dat=(t,e,n)=>n===on.Left?t-e:n===on.Right?t+e:t,fat=(t,e,n)=>n===on.Top?t-e:n===on.Bottom?t+e:t,h$="react-flow__edgeupdater",p$=({position:t,centerX:e,centerY:n,radius:a=10,onMouseDown:i,onMouseEnter:r,onMouseOut:o,type:s})=>ke.createElement("circle",{onMouseDown:i,onMouseEnter:r,onMouseOut:o,className:mo([h$,`${h$}-${s}`]),cx:dat(e,a,t),cy:fat(n,a,t),r:a,stroke:"transparent",fill:"transparent"}),hat=()=>!0;var E1=t=>{const e=({id:n,className:a,type:i,data:r,onClick:o,onEdgeDoubleClick:s,selected:c,animated:u,label:d,labelStyle:h,labelShowBg:m,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:v,style:S,source:w,target:_,sourceX:T,sourceY:A,targetX:R,targetY:I,sourcePosition:N,targetPosition:P,elementsSelectable:O,hidden:D,sourceHandleId:H,targetHandleId:L,onContextMenu:$,onMouseEnter:M,onMouseMove:z,onMouseLeave:F,reconnectRadius:G,onReconnect:ee,onReconnectStart:V,onReconnectEnd:Y,markerEnd:K,markerStart:J,rfId:W,ariaLabel:te,isFocusable:re,isReconnectable:ne,pathOptions:ce,interactionWidth:pe,disableKeyboardA11y:me})=>{const ge=E.useRef(null),[ye,he]=E.useState(!1),[de,fe]=E.useState(!1),oe=Dr(),ue=E.useMemo(()=>`url('#${AN(J,W)}')`,[J,W]),le=E.useMemo(()=>`url('#${AN(K,W)}')`,[K,W]);if(D)return null;const Se=Fe=>{const{edges:Ve,addSelectedEdges:rt,unselectNodesAndEdges:at,multiSelectionActive:ot}=oe.getState(),bt=Ve.find(Xt=>Xt.id===n);bt&&(O&&(oe.setState({nodesSelectionActive:!1}),bt.selected&&ot?(at({nodes:[],edges:[bt]}),ge.current?.blur()):rt([n])),o&&o(Fe,bt))},_e=iv(n,oe.getState,s),Ie=iv(n,oe.getState,$),ze=iv(n,oe.getState,M),Me=iv(n,oe.getState,z),Ze=iv(n,oe.getState,F),Ee=(Fe,Ve)=>{if(Fe.button!==0)return;const{edges:rt,isValidConnection:at}=oe.getState(),ot=Ve?_:w,bt=(Ve?L:H)||null,Xt=Ve?"target":"source",Jt=at||hat,vn=Ve,jn=rt.find(Ht=>Ht.id===n);fe(!0),V?.(Fe,jn,Xt);const ea=Ht=>{fe(!1),Y?.(Ht,jn,Xt)};ine({event:Fe,handleId:bt,nodeId:ot,onConnect:Ht=>ee?.(jn,Ht),isTarget:vn,getState:oe.getState,setState:oe.setState,isValidConnection:Jt,edgeUpdaterType:Xt,onReconnectEnd:ea})},Ne=Fe=>Ee(Fe,!0),ve=Fe=>Ee(Fe,!1),we=()=>he(!0),Oe=()=>he(!1),Le=!O&&!o,We=Fe=>{if(!me&&Wte.includes(Fe.key)&&O){const{unselectNodesAndEdges:Ve,addSelectedEdges:rt,edges:at}=oe.getState();Fe.key==="Escape"?(ge.current?.blur(),Ve({edges:[at.find(bt=>bt.id===n)]})):rt([n])}};return ke.createElement("g",{className:mo(["react-flow__edge",`react-flow__edge-${i}`,a,{selected:c,animated:u,inactive:Le,updating:ye}]),onClick:Se,onDoubleClick:_e,onContextMenu:Ie,onMouseEnter:ze,onMouseMove:Me,onMouseLeave:Ze,onKeyDown:re?We:void 0,tabIndex:re?0:void 0,role:re?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":te===null?void 0:te||`Edge from ${w} to ${_}`,"aria-describedby":re?`${hne}-${W}`:void 0,ref:ge},!de&&ke.createElement(t,{id:n,source:w,target:_,selected:c,animated:u,label:d,labelStyle:h,labelShowBg:m,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:v,data:r,style:S,sourceX:T,sourceY:A,targetX:R,targetY:I,sourcePosition:N,targetPosition:P,sourceHandleId:H,targetHandleId:L,markerStart:ue,markerEnd:le,pathOptions:ce,interactionWidth:pe}),ne&&ke.createElement(ke.Fragment,null,(ne==="source"||ne===!0)&&ke.createElement(p$,{position:N,centerX:T,centerY:A,radius:G,onMouseDown:Ne,onMouseEnter:we,onMouseOut:Oe,type:"source"}),(ne==="target"||ne===!0)&&ke.createElement(p$,{position:P,centerX:R,centerY:I,radius:G,onMouseDown:ve,onMouseEnter:we,onMouseOut:Oe,type:"target"})))};return e.displayName="EdgeWrapper",E.memo(e)};function pat(t){const e={default:E1(t.default||b_),straight:E1(t.bezier||nO),step:E1(t.step||tO),smoothstep:E1(t.step||L5),simplebezier:E1(t.simplebezier||eO)},n={},a=Object.keys(t).filter(i=>!["default","bezier"].includes(i)).reduce((i,r)=>(i[r]=E1(t[r]||b_),i),n);return{...e,...a}}function m$(t,e,n=null){const a=(n?.x||0)+e.x,i=(n?.y||0)+e.y,r=n?.width||e.width,o=n?.height||e.height;switch(t){case on.Top:return{x:a+r/2,y:i};case on.Right:return{x:a+r,y:i+o/2};case on.Bottom:return{x:a+r/2,y:i+o};case on.Left:return{x:a,y:i+o/2}}}function g$(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const mat=(t,e,n,a,i,r)=>{const o=m$(n,t,e),s=m$(r,a,i);return{sourceX:o.x,sourceY:o.y,targetX:s.x,targetY:s.y}};function gat({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:a,targetWidth:i,targetHeight:r,width:o,height:s,transform:c}){const u={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+i),y2:Math.max(t.y+a,e.y+r)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=G2({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:o/c[2],height:s/c[2]}),h=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),m=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(h*m)>0}function b$(t){const e=t?.[Ki]?.handleBounds||null,n=e&&t?.width&&t?.height&&typeof t?.positionAbsolute?.x<"u"&&typeof t?.positionAbsolute?.y<"u";return[{x:t?.positionAbsolute?.x||0,y:t?.positionAbsolute?.y||0,width:t?.width||0,height:t?.height||0},e,!!n]}const bat=[{level:0,isMaxLevel:!0,edges:[]}];function yat(t,e,n=!1){let a=-1;const i=t.reduce((o,s)=>{const c=ec(s.zIndex);let u=c?s.zIndex:0;if(n){const d=e.get(s.target),h=e.get(s.source),m=s.selected||d?.selected||h?.selected,g=Math.max(h?.[Ki]?.z||0,d?.[Ki]?.z||0,1e3);u=(c?s.zIndex:0)+(m?g:0)}return o[u]?o[u].push(s):o[u]=[s],a=u>a?u:a,o},{}),r=Object.entries(i).map(([o,s])=>{const c=+o;return{edges:s,level:c,isMaxLevel:c===a}});return r.length===0?bat:r}function xat(t,e,n){const a=si(E.useCallback(i=>t?i.edges.filter(r=>{const o=e.get(r.source),s=e.get(r.target);return o?.width&&o?.height&&s?.width&&s?.height&&gat({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:s.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:s.width,targetHeight:s.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[t,e]));return yat(a,e,n)}const vat=({color:t="none",strokeWidth:e=1})=>ke.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Sat=({color:t="none",strokeWidth:e=1})=>ke.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),y$={[W2.Arrow]:vat,[W2.ArrowClosed]:Sat};function Cat(t){const e=Dr();return E.useMemo(()=>Object.prototype.hasOwnProperty.call(y$,t)?y$[t]:(e.getState().onError?.("009",wf.error009(t)),null),[t])}const wat=({id:t,type:e,color:n,width:a=12.5,height:i=12.5,markerUnits:r="strokeWidth",strokeWidth:o,orient:s="auto-start-reverse"})=>{const c=Cat(e);return c?ke.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${a}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:r,orient:s,refX:"0",refY:"0"},ke.createElement(c,{color:n,strokeWidth:o})):null},_at=({defaultColor:t,rfId:e})=>n=>{const a=[];return n.edges.reduce((i,r)=>([r.markerStart,r.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const s=AN(o,e);a.includes(s)||(i.push({id:s,color:o.color||t,...o}),a.push(s))}}),i),[]).sort((i,r)=>i.id.localeCompare(r.id))},Ene=({defaultColor:t,rfId:e})=>{const n=si(E.useCallback(_at({defaultColor:t,rfId:e}),[t,e]),(a,i)=>!(a.length!==i.length||a.some((r,o)=>r.id!==i[o].id)));return ke.createElement("defs",null,n.map(a=>ke.createElement(wat,{id:a.id,key:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,strokeWidth:a.strokeWidth,orient:a.orient})))};Ene.displayName="MarkerDefinitions";var Tat=E.memo(Ene);const Eat=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),Ane=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:a,edgeTypes:i,noPanClassName:r,onEdgeContextMenu:o,onEdgeMouseEnter:s,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:h,onReconnect:m,onReconnectStart:g,onReconnectEnd:y,reconnectRadius:v,children:S,disableKeyboardA11y:w})=>{const{edgesFocusable:_,edgesUpdatable:T,elementsSelectable:A,width:R,height:I,connectionMode:N,nodeInternals:P,onError:O}=si(Eat,Kr),D=xat(e,P,n);return R?ke.createElement(ke.Fragment,null,D.map(({level:H,edges:L,isMaxLevel:$})=>ke.createElement("svg",{key:H,style:{zIndex:H},width:R,height:I,className:"react-flow__edges react-flow__container"},$&&ke.createElement(Tat,{defaultColor:t,rfId:a}),ke.createElement("g",null,L.map(M=>{const[z,F,G]=b$(P.get(M.source)),[ee,V,Y]=b$(P.get(M.target));if(!G||!Y)return null;let K=M.type||"default";i[K]||(O?.("011",wf.error011(K)),K="default");const J=i[K]||i.default,W=N===wg.Strict?V.target:(V.target??[]).concat(V.source??[]),te=g$(F.source,M.sourceHandle),re=g$(W,M.targetHandle),ne=te?.position||on.Bottom,ce=re?.position||on.Top,pe=!!(M.focusable||_&&typeof M.focusable>"u"),me=M.reconnectable||M.updatable,ge=typeof m<"u"&&(me||T&&typeof me>"u");if(!te||!re)return O?.("008",wf.error008(te,M)),null;const{sourceX:ye,sourceY:he,targetX:de,targetY:fe}=mat(z,te,ne,ee,re,ce);return ke.createElement(J,{key:M.id,id:M.id,className:mo([M.className,r]),type:K,data:M.data,selected:!!M.selected,animated:!!M.animated,hidden:!!M.hidden,label:M.label,labelStyle:M.labelStyle,labelShowBg:M.labelShowBg,labelBgStyle:M.labelBgStyle,labelBgPadding:M.labelBgPadding,labelBgBorderRadius:M.labelBgBorderRadius,style:M.style,source:M.source,target:M.target,sourceHandleId:M.sourceHandle,targetHandleId:M.targetHandle,markerEnd:M.markerEnd,markerStart:M.markerStart,sourceX:ye,sourceY:he,targetX:de,targetY:fe,sourcePosition:ne,targetPosition:ce,elementsSelectable:A,onContextMenu:o,onMouseEnter:s,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:h,onReconnect:m,onReconnectStart:g,onReconnectEnd:y,reconnectRadius:v,rfId:a,ariaLabel:M.ariaLabel,isFocusable:pe,isReconnectable:ge,pathOptions:"pathOptions"in M?M.pathOptions:void 0,interactionWidth:M.interactionWidth,disableKeyboardA11y:w})})))),S):null};Ane.displayName="EdgeRenderer";var Aat=E.memo(Ane);const Rat=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function kat({children:t}){const e=si(Rat);return ke.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function Iat(t){const e=oO(),n=E.useRef(!1);E.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const Nat={[on.Left]:on.Right,[on.Right]:on.Left,[on.Top]:on.Bottom,[on.Bottom]:on.Top},Rne=({nodeId:t,handleType:e,style:n,type:a=Gh.Bezier,CustomComponent:i,connectionStatus:r})=>{const{fromNode:o,handleId:s,toX:c,toY:u,connectionMode:d}=si(E.useCallback(I=>({fromNode:I.nodeInternals.get(t),handleId:I.connectionHandleId,toX:(I.connectionPosition.x-I.transform[0])/I.transform[2],toY:(I.connectionPosition.y-I.transform[1])/I.transform[2],connectionMode:I.connectionMode}),[t]),Kr),h=o?.[Ki]?.handleBounds;let m=h?.[e];if(d===wg.Loose&&(m=m||h?.[e==="source"?"target":"source"]),!o||!m)return null;const g=s?m.find(I=>I.id===s):m[0],y=g?g.x+g.width/2:(o.width??0)/2,v=g?g.y+g.height/2:o.height??0,S=(o.positionAbsolute?.x??0)+y,w=(o.positionAbsolute?.y??0)+v,_=g?.position,T=_?Nat[_]:null;if(!_||!T)return null;if(i)return ke.createElement(i,{connectionLineType:a,connectionLineStyle:n,fromNode:o,fromHandle:g,fromX:S,fromY:w,toX:c,toY:u,fromPosition:_,toPosition:T,connectionStatus:r});let A="";const R={sourceX:S,sourceY:w,sourcePosition:_,targetX:c,targetY:u,targetPosition:T};return a===Gh.Bezier?[A]=Qte(R):a===Gh.Step?[A]=EN({...R,borderRadius:0}):a===Gh.SmoothStep?[A]=EN(R):a===Gh.SimpleBezier?[A]=Xte(R):A=`M${S},${w} ${c},${u}`,ke.createElement("path",{d:A,fill:"none",className:"react-flow__connection-path",style:n})};Rne.displayName="ConnectionLine";const jat=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function Dat({containerStyle:t,style:e,type:n,component:a}){const{nodeId:i,handleType:r,nodesConnectable:o,width:s,height:c,connectionStatus:u}=si(jat,Kr);return!(i&&r&&s&&o)?null:ke.createElement("svg",{style:t,width:s,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},ke.createElement("g",{className:mo(["react-flow__connection",u])},ke.createElement(Rne,{nodeId:i,handleType:r,style:e,type:n,CustomComponent:a,connectionStatus:u})))}function x$(t,e){return E.useRef(null),Dr(),E.useMemo(()=>e(t),[t])}const kne=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:a,onMoveEnd:i,onInit:r,onNodeClick:o,onEdgeClick:s,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:m,onNodeContextMenu:g,onSelectionContextMenu:y,onSelectionStart:v,onSelectionEnd:S,connectionLineType:w,connectionLineStyle:_,connectionLineComponent:T,connectionLineContainerStyle:A,selectionKeyCode:R,selectionOnDrag:I,selectionMode:N,multiSelectionKeyCode:P,panActivationKeyCode:O,zoomActivationKeyCode:D,deleteKeyCode:H,onlyRenderVisibleElements:L,elementsSelectable:$,selectNodesOnDrag:M,defaultViewport:z,translateExtent:F,minZoom:G,maxZoom:ee,preventScrolling:V,defaultMarkerColor:Y,zoomOnScroll:K,zoomOnPinch:J,panOnScroll:W,panOnScrollSpeed:te,panOnScrollMode:re,zoomOnDoubleClick:ne,panOnDrag:ce,onPaneClick:pe,onPaneMouseEnter:me,onPaneMouseMove:ge,onPaneMouseLeave:ye,onPaneScroll:he,onPaneContextMenu:de,onEdgeContextMenu:fe,onEdgeMouseEnter:oe,onEdgeMouseMove:ue,onEdgeMouseLeave:le,onReconnect:Se,onReconnectStart:_e,onReconnectEnd:Ie,reconnectRadius:ze,noDragClassName:Me,noWheelClassName:Ze,noPanClassName:Ee,elevateEdgesOnSelect:Ne,disableKeyboardA11y:ve,nodeOrigin:we,nodeExtent:Oe,rfId:Le})=>{const We=x$(t,sat),Fe=x$(e,pat);return Iat(r),ke.createElement(rat,{onPaneClick:pe,onPaneMouseEnter:me,onPaneMouseMove:ge,onPaneMouseLeave:ye,onPaneContextMenu:de,onPaneScroll:he,deleteKeyCode:H,selectionKeyCode:R,selectionOnDrag:I,selectionMode:N,onSelectionStart:v,onSelectionEnd:S,multiSelectionKeyCode:P,panActivationKeyCode:O,zoomActivationKeyCode:D,elementsSelectable:$,onMove:n,onMoveStart:a,onMoveEnd:i,zoomOnScroll:K,zoomOnPinch:J,zoomOnDoubleClick:ne,panOnScroll:W,panOnScrollSpeed:te,panOnScrollMode:re,panOnDrag:ce,defaultViewport:z,translateExtent:F,minZoom:G,maxZoom:ee,onSelectionContextMenu:y,preventScrolling:V,noDragClassName:Me,noWheelClassName:Ze,noPanClassName:Ee,disableKeyboardA11y:ve},ke.createElement(kat,null,ke.createElement(Aat,{edgeTypes:Fe,onEdgeClick:s,onEdgeDoubleClick:u,onlyRenderVisibleElements:L,onEdgeContextMenu:fe,onEdgeMouseEnter:oe,onEdgeMouseMove:ue,onEdgeMouseLeave:le,onReconnect:Se,onReconnectStart:_e,onReconnectEnd:Ie,reconnectRadius:ze,defaultMarkerColor:Y,noPanClassName:Ee,elevateEdgesOnSelect:!!Ne,disableKeyboardA11y:ve,rfId:Le},ke.createElement(Dat,{style:_,type:w,component:T,containerStyle:A})),ke.createElement("div",{className:"react-flow__edgelabel-renderer"}),ke.createElement(uat,{nodeTypes:We,onNodeClick:o,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:m,onNodeContextMenu:g,selectNodesOnDrag:M,onlyRenderVisibleElements:L,noPanClassName:Ee,noDragClassName:Me,disableKeyboardA11y:ve,nodeOrigin:we,nodeExtent:Oe,rfId:Le})))};kne.displayName="GraphView";var Oat=E.memo(kne);const NN=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Nh={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:NN,nodeExtent:NN,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:wg.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:lnt,isValidConnection:void 0},Mat=()=>SZe((t,e)=>({...Nh,setNodes:n=>{const{nodeInternals:a,nodeOrigin:i,elevateNodesOnSelect:r}=e();t({nodeInternals:B6(n,a,i,r)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:a={}}=e();t({edges:n.map(i=>({...a,...i}))})},setDefaultNodesAndEdges:(n,a)=>{const i=typeof n<"u",r=typeof a<"u",o=i?B6(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:o,edges:r?a:[],hasDefaultNodes:i,hasDefaultEdges:r})},updateNodeDimensions:n=>{const{onNodesChange:a,nodeInternals:i,fitViewOnInit:r,fitViewOnInitDone:o,fitViewOnInitOptions:s,domNode:c,nodeOrigin:u}=e(),d=c?.querySelector(".react-flow__viewport");if(!d)return;const h=window.getComputedStyle(d),{m22:m}=new window.DOMMatrixReadOnly(h.transform),g=n.reduce((v,S)=>{const w=i.get(S.id);if(w?.hidden)i.set(w.id,{...w,[Ki]:{...w[Ki],handleBounds:void 0}});else if(w){const _=ZD(S.nodeElement);!!(_.width&&_.height&&(w.width!==_.width||w.height!==_.height||S.forceUpdate))&&(i.set(w.id,{...w,[Ki]:{...w[Ki],handleBounds:{source:f$(".source",S.nodeElement,m,u),target:f$(".target",S.nodeElement,m,u)}},..._}),v.push({id:w.id,type:"dimensions",dimensions:_}))}return v},[]);mne(i,u);const y=o||r&&!o&&gne(e,{initial:!0,...s});t({nodeInternals:new Map(i),fitViewOnInitDone:y}),g?.length>0&&a?.(g)},updateNodePositions:(n,a=!0,i=!1)=>{const{triggerNodeChanges:r}=e(),o=n.map(s=>{const c={id:s.id,type:"position",dragging:i};return a&&(c.positionAbsolute=s.positionAbsolute,c.position=s.position),c});r(o)},triggerNodeChanges:n=>{const{onNodesChange:a,nodeInternals:i,hasDefaultNodes:r,nodeOrigin:o,getNodes:s,elevateNodesOnSelect:c}=e();if(n?.length){if(r){const u=yne(n,s()),d=B6(u,i,o,c);t({nodeInternals:d})}a?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:a,edges:i,getNodes:r}=e();let o,s=null;a?o=n.map(c=>Bh(c,!0)):(o=z1(r(),n),s=z1(i,[])),Lw({changedNodes:o,changedEdges:s,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:a,edges:i,getNodes:r}=e();let o,s=null;a?o=n.map(c=>Bh(c,!0)):(o=z1(i,n),s=z1(r(),[])),Lw({changedNodes:s,changedEdges:o,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:a}={})=>{const{edges:i,getNodes:r}=e(),o=n||r(),s=a||i,c=o.map(d=>(d.selected=!1,Bh(d.id,!1))),u=s.map(d=>Bh(d.id,!1));Lw({changedNodes:c,changedEdges:u,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:a,maxZoom:i}=e();a?.scaleExtent([n,i]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:a,minZoom:i}=e();a?.scaleExtent([i,n]),t({maxZoom:n})},setTranslateExtent:n=>{e().d3Zoom?.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:a}=e(),r=a().filter(s=>s.selected).map(s=>Bh(s.id,!1)),o=n.filter(s=>s.selected).map(s=>Bh(s.id,!1));Lw({changedNodes:r,changedEdges:o,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:a}=e();a.forEach(i=>{i.positionAbsolute=JD(i.position,n)}),t({nodeExtent:n,nodeInternals:new Map(a)})},panBy:n=>{const{transform:a,width:i,height:r,d3Zoom:o,d3Selection:s,translateExtent:c}=e();if(!o||!s||!n.x&&!n.y)return!1;const u=pf.translate(a[0]+n.x,a[1]+n.y).scale(a[2]),d=[[0,0],[i,r]],h=o?.constrain()(u,d,c);return o.transform(s,h),a[0]!==h.x||a[1]!==h.y||a[2]!==h.k},cancelConnection:()=>t({connectionNodeId:Nh.connectionNodeId,connectionHandleId:Nh.connectionHandleId,connectionHandleType:Nh.connectionHandleType,connectionStatus:Nh.connectionStatus,connectionStartHandle:Nh.connectionStartHandle,connectionEndHandle:Nh.connectionEndHandle}),reset:()=>t({...Nh})}),Object.is),Ine=({children:t})=>{const e=E.useRef(null);return e.current||(e.current=Mat()),ke.createElement(tnt,{value:e.current},t)};Ine.displayName="ReactFlowProvider";const Nne=({children:t})=>E.useContext(P5)?ke.createElement(ke.Fragment,null,t):ke.createElement(Ine,null,t);Nne.displayName="ReactFlowWrapper";const Pat={input:lne,default:kN,output:une,group:rO},Lat={default:b_,straight:nO,step:tO,smoothstep:L5,simplebezier:eO},zat=[0,0],Fat=[15,15],Bat={x:0,y:0,zoom:1},Hat={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},jne=E.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:a,className:i,nodeTypes:r=Pat,edgeTypes:o=Lat,onNodeClick:s,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:h,onMoveEnd:m,onConnect:g,onConnectStart:y,onConnectEnd:v,onClickConnectStart:S,onClickConnectEnd:w,onNodeMouseEnter:_,onNodeMouseMove:T,onNodeMouseLeave:A,onNodeContextMenu:R,onNodeDoubleClick:I,onNodeDragStart:N,onNodeDrag:P,onNodeDragStop:O,onNodesDelete:D,onEdgesDelete:H,onSelectionChange:L,onSelectionDragStart:$,onSelectionDrag:M,onSelectionDragStop:z,onSelectionContextMenu:F,onSelectionStart:G,onSelectionEnd:ee,connectionMode:V=wg.Strict,connectionLineType:Y=Gh.Bezier,connectionLineStyle:K,connectionLineComponent:J,connectionLineContainerStyle:W,deleteKeyCode:te="Backspace",selectionKeyCode:re="Shift",selectionOnDrag:ne=!1,selectionMode:ce=q2.Full,panActivationKeyCode:pe="Space",multiSelectionKeyCode:me=g_()?"Meta":"Control",zoomActivationKeyCode:ge=g_()?"Meta":"Control",snapToGrid:ye=!1,snapGrid:he=Fat,onlyRenderVisibleElements:de=!1,selectNodesOnDrag:fe=!0,nodesDraggable:oe,nodesConnectable:ue,nodesFocusable:le,nodeOrigin:Se=zat,edgesFocusable:_e,edgesUpdatable:Ie,elementsSelectable:ze,defaultViewport:Me=Bat,minZoom:Ze=.5,maxZoom:Ee=2,translateExtent:Ne=NN,preventScrolling:ve=!0,nodeExtent:we,defaultMarkerColor:Oe="#b1b1b7",zoomOnScroll:Le=!0,zoomOnPinch:We=!0,panOnScroll:Fe=!1,panOnScrollSpeed:Ve=.5,panOnScrollMode:rt=Km.Free,zoomOnDoubleClick:at=!0,panOnDrag:ot=!0,onPaneClick:bt,onPaneMouseEnter:Xt,onPaneMouseMove:Jt,onPaneMouseLeave:vn,onPaneScroll:jn,onPaneContextMenu:ea,children:Kt,onEdgeContextMenu:Ht,onEdgeDoubleClick:hn,onEdgeMouseEnter:_n,onEdgeMouseMove:Tn,onEdgeMouseLeave:Wt,onEdgeUpdate:Rn,onEdgeUpdateStart:Et,onEdgeUpdateEnd:Mt,onReconnect:rn,onReconnectStart:an,onReconnectEnd:En,reconnectRadius:fa=10,edgeUpdaterRadius:ya=10,onNodesChange:Ra,onEdgesChange:Ka,noDragClassName:Oa="nodrag",noWheelClassName:xa="nowheel",noPanClassName:Ma="nopan",fitView:wr=!1,fitViewOptions:Qi,connectOnClick:Xr=!0,attributionPosition:gd,proOptions:jf,defaultEdgeOptions:Fs,elevateNodesOnSelect:hc=!0,elevateEdgesOnSelect:pc=!1,disableKeyboardA11y:dl=!1,autoPanOnConnect:ou=!0,autoPanOnNodeDrag:fl=!0,connectionRadius:xi=20,isValidConnection:Bs,onError:Df,style:hl,id:Or,nodeDragThreshold:Qr,...bd},Ua)=>{const yd=Or||"1";return ke.createElement("div",{...bd,style:{...hl,...Hat},ref:Ua,className:mo(["react-flow",i]),"data-testid":"rf__wrapper",id:Or},ke.createElement(Nne,null,ke.createElement(Oat,{onInit:u,onMove:d,onMoveStart:h,onMoveEnd:m,onNodeClick:s,onEdgeClick:c,onNodeMouseEnter:_,onNodeMouseMove:T,onNodeMouseLeave:A,onNodeContextMenu:R,onNodeDoubleClick:I,nodeTypes:r,edgeTypes:o,connectionLineType:Y,connectionLineStyle:K,connectionLineComponent:J,connectionLineContainerStyle:W,selectionKeyCode:re,selectionOnDrag:ne,selectionMode:ce,deleteKeyCode:te,multiSelectionKeyCode:me,panActivationKeyCode:pe,zoomActivationKeyCode:ge,onlyRenderVisibleElements:de,selectNodesOnDrag:fe,defaultViewport:Me,translateExtent:Ne,minZoom:Ze,maxZoom:Ee,preventScrolling:ve,zoomOnScroll:Le,zoomOnPinch:We,zoomOnDoubleClick:at,panOnScroll:Fe,panOnScrollSpeed:Ve,panOnScrollMode:rt,panOnDrag:ot,onPaneClick:bt,onPaneMouseEnter:Xt,onPaneMouseMove:Jt,onPaneMouseLeave:vn,onPaneScroll:jn,onPaneContextMenu:ea,onSelectionContextMenu:F,onSelectionStart:G,onSelectionEnd:ee,onEdgeContextMenu:Ht,onEdgeDoubleClick:hn,onEdgeMouseEnter:_n,onEdgeMouseMove:Tn,onEdgeMouseLeave:Wt,onReconnect:rn??Rn,onReconnectStart:an??Et,onReconnectEnd:En??Mt,reconnectRadius:fa??ya,defaultMarkerColor:Oe,noDragClassName:Oa,noWheelClassName:xa,noPanClassName:Ma,elevateEdgesOnSelect:pc,rfId:yd,disableKeyboardA11y:dl,nodeOrigin:Se,nodeExtent:we}),ke.createElement(Nnt,{nodes:t,edges:e,defaultNodes:n,defaultEdges:a,onConnect:g,onConnectStart:y,onConnectEnd:v,onClickConnectStart:S,onClickConnectEnd:w,nodesDraggable:oe,nodesConnectable:ue,nodesFocusable:le,edgesFocusable:_e,edgesUpdatable:Ie,elementsSelectable:ze,elevateNodesOnSelect:hc,minZoom:Ze,maxZoom:Ee,nodeExtent:we,onNodesChange:Ra,onEdgesChange:Ka,snapToGrid:ye,snapGrid:he,connectionMode:V,translateExtent:Ne,connectOnClick:Xr,defaultEdgeOptions:Fs,fitView:wr,fitViewOptions:Qi,onNodesDelete:D,onEdgesDelete:H,onNodeDragStart:N,onNodeDrag:P,onNodeDragStop:O,onSelectionDrag:M,onSelectionDragStart:$,onSelectionDragStop:z,noPanClassName:Ma,nodeOrigin:Se,rfId:yd,autoPanOnConnect:ou,autoPanOnNodeDrag:fl,onError:Df,connectionRadius:xi,isValidConnection:Bs,nodeDragThreshold:Qr}),ke.createElement(knt,{onSelectionChange:L}),Kt,ke.createElement(ant,{proOptions:jf,position:gd}),ke.createElement(Pnt,{rfId:yd,disableKeyboardA11y:dl})))});jne.displayName="ReactFlow";function Dne(t){return e=>{const[n,a]=E.useState(e),i=E.useCallback(r=>a(o=>t(r,o)),[]);return[n,a,i]}}const $at=Dne(yne),Uat=Dne(Xnt),One=({id:t,x:e,y:n,width:a,height:i,style:r,color:o,strokeColor:s,strokeWidth:c,className:u,borderRadius:d,shapeRendering:h,onClick:m,selected:g})=>{const{background:y,backgroundColor:v}=r||{},S=o||y||v;return ke.createElement("rect",{className:mo(["react-flow__minimap-node",{selected:g},u]),x:e,y:n,rx:d,ry:d,width:a,height:i,fill:S,stroke:s,strokeWidth:c,shapeRendering:h,onClick:m?w=>m(w,t):void 0})};One.displayName="MiniMapNode";var Gat=E.memo(One);const qat=t=>t.nodeOrigin,Wat=t=>t.getNodes().filter(e=>!e.hidden&&e.width&&e.height),G6=t=>t instanceof Function?t:()=>t;function Vat({nodeStrokeColor:t="transparent",nodeColor:e="#e2e2e2",nodeClassName:n="",nodeBorderRadius:a=5,nodeStrokeWidth:i=2,nodeComponent:r=Gat,onClick:o}){const s=si(Wat,Kr),c=si(qat),u=G6(e),d=G6(t),h=G6(n),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return ke.createElement(ke.Fragment,null,s.map(g=>{const{x:y,y:v}=og(g,c).positionAbsolute;return ke.createElement(r,{key:g.id,x:y,y:v,width:g.width,height:g.height,style:g.style,selected:g.selected,className:h(g),color:u(g),borderRadius:a,strokeColor:d(g),strokeWidth:i,shapeRendering:m,onClick:o,id:g.id})}))}var Yat=E.memo(Vat);const Kat=200,Xat=150,Qat=t=>{const e=t.getNodes(),n={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:n,boundingRect:e.length>0?ont(z5(e,t.nodeOrigin),n):n,rfId:t.rfId}},Zat="react-flow__minimap-desc";function Mne({style:t,className:e,nodeStrokeColor:n="transparent",nodeColor:a="#e2e2e2",nodeClassName:i="",nodeBorderRadius:r=5,nodeStrokeWidth:o=2,nodeComponent:s,maskColor:c="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:d=1,position:h="bottom-right",onClick:m,onNodeClick:g,pannable:y=!1,zoomable:v=!1,ariaLabel:S="React Flow mini map",inversePan:w=!1,zoomStep:_=10,offsetScale:T=5}){const A=Dr(),R=E.useRef(null),{boundingRect:I,viewBB:N,rfId:P}=si(Qat,Kr),O=t?.width??Kat,D=t?.height??Xat,H=I.width/O,L=I.height/D,$=Math.max(H,L),M=$*O,z=$*D,F=T*$,G=I.x-(M-I.width)/2-F,ee=I.y-(z-I.height)/2-F,V=M+F*2,Y=z+F*2,K=`${Zat}-${P}`,J=E.useRef(0);J.current=$,E.useEffect(()=>{if(R.current){const re=Ql(R.current),ne=me=>{const{transform:ge,d3Selection:ye,d3Zoom:he}=A.getState();if(me.sourceEvent.type!=="wheel"||!ye||!he)return;const de=-me.sourceEvent.deltaY*(me.sourceEvent.deltaMode===1?.05:me.sourceEvent.deltaMode?1:.002)*_,fe=ge[2]*Math.pow(2,de);he.scaleTo(ye,fe)},ce=me=>{const{transform:ge,d3Selection:ye,d3Zoom:he,translateExtent:de,width:fe,height:oe}=A.getState();if(me.sourceEvent.type!=="mousemove"||!ye||!he)return;const ue=J.current*Math.max(1,ge[2])*(w?-1:1),le={x:ge[0]-me.sourceEvent.movementX*ue,y:ge[1]-me.sourceEvent.movementY*ue},Se=[[0,0],[fe,oe]],_e=pf.translate(le.x,le.y).scale(ge[2]),Ie=he.constrain()(_e,Se,de);he.transform(ye,Ie)},pe=Bte().on("zoom",y?ce:null).on("zoom.wheel",v?ne:null);return re.call(pe),()=>{re.on("zoom",null)}}},[y,v,w,_]);const W=m?re=>{const ne=Oc(re);m(re,{x:ne[0],y:ne[1]})}:void 0,te=g?(re,ne)=>{const ce=A.getState().nodeInternals.get(ne);g(re,ce)}:void 0;return ke.createElement(QD,{position:h,style:t,className:mo(["react-flow__minimap",e]),"data-testid":"rf__minimap"},ke.createElement("svg",{width:O,height:D,viewBox:`${G} ${ee} ${V} ${Y}`,role:"img","aria-labelledby":K,ref:R,onClick:W},S&&ke.createElement("title",{id:K},S),ke.createElement(Yat,{onClick:te,nodeColor:a,nodeStrokeColor:n,nodeBorderRadius:r,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:s}),ke.createElement("path",{className:"react-flow__minimap-mask",d:`M${G-F},${ee-F}h${V+F*2}v${Y+F*2}h${-V-F*2}z
        M${N.x},${N.y}h${N.width}v${N.height}h${-N.width}z`,fill:c,fillRule:"evenodd",stroke:u,strokeWidth:d,pointerEvents:"none"})))}Mne.displayName="MiniMap";var Jat=E.memo(Mne);function eit(){return ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},ke.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function tit(){return ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ke.createElement("path",{d:"M0 0h32v4.2H0z"}))}function nit(){return ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ke.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function ait(){return ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ke.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function iit(){return ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ke.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const kv=({children:t,className:e,...n})=>ke.createElement("button",{type:"button",className:mo(["react-flow__controls-button",e]),...n},t);kv.displayName="ControlButton";const rit=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),Pne=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:a=!0,fitViewOptions:i,onZoomIn:r,onZoomOut:o,onFitView:s,onInteractiveChange:c,className:u,children:d,position:h="bottom-left"})=>{const m=Dr(),[g,y]=E.useState(!1),{isInteractive:v,minZoomReached:S,maxZoomReached:w}=si(rit,Kr),{zoomIn:_,zoomOut:T,fitView:A}=oO();if(E.useEffect(()=>{y(!0)},[]),!g)return null;const R=()=>{_(),r?.()},I=()=>{T(),o?.()},N=()=>{A(i),s?.()},P=()=>{m.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),c?.(!v)};return ke.createElement(QD,{className:mo(["react-flow__controls",u]),position:h,style:t,"data-testid":"rf__controls"},e&&ke.createElement(ke.Fragment,null,ke.createElement(kv,{onClick:R,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:w},ke.createElement(eit,null)),ke.createElement(kv,{onClick:I,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:S},ke.createElement(tit,null))),n&&ke.createElement(kv,{className:"react-flow__controls-fitview",onClick:N,title:"fit view","aria-label":"fit view"},ke.createElement(nit,null)),a&&ke.createElement(kv,{className:"react-flow__controls-interactive",onClick:P,title:"toggle interactivity","aria-label":"toggle interactivity"},v?ke.createElement(iit,null):ke.createElement(ait,null)),d)};Pne.displayName="Controls";var oit=E.memo(Pne),nc;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(nc||(nc={}));function sit({color:t,dimensions:e,lineWidth:n}){return ke.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function lit({color:t,radius:e}){return ke.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const cit={[nc.Dots]:"#91919a",[nc.Lines]:"#eee",[nc.Cross]:"#e2e2e2"},uit={[nc.Dots]:1,[nc.Lines]:1,[nc.Cross]:6},dit=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function Lne({id:t,variant:e=nc.Dots,gap:n=20,size:a,lineWidth:i=1,offset:r=2,color:o,style:s,className:c}){const u=E.useRef(null),{transform:d,patternId:h}=si(dit,Kr),m=o||cit[e],g=a||uit[e],y=e===nc.Dots,v=e===nc.Cross,S=Array.isArray(n)?n:[n,n],w=[S[0]*d[2]||1,S[1]*d[2]||1],_=g*d[2],T=v?[_,_]:w,A=y?[_/r,_/r]:[T[0]/r,T[1]/r];return ke.createElement("svg",{className:mo(["react-flow__background",c]),style:{...s,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},ke.createElement("pattern",{id:h+t,x:d[0]%w[0],y:d[1]%w[1],width:w[0],height:w[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${A[0]},-${A[1]})`},y?ke.createElement(lit,{color:m,radius:_/r}):ke.createElement(sit,{dimensions:T,color:m,lineWidth:i})),ke.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${h+t})`}))}Lne.displayName="Background";var fit=E.memo(Lne);function lO(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var q6,v$;function hit(){if(v$)return q6;v$=1;function t(){this.__data__=[],this.size=0}return q6=t,q6}var W6,S$;function qb(){if(S$)return W6;S$=1;function t(e,n){return e===n||e!==e&&n!==n}return W6=t,W6}var V6,C$;function F5(){if(C$)return V6;C$=1;var t=qb();function e(n,a){for(var i=n.length;i--;)if(t(n[i][0],a))return i;return-1}return V6=e,V6}var Y6,w$;function pit(){if(w$)return Y6;w$=1;var t=F5(),e=Array.prototype,n=e.splice;function a(i){var r=this.__data__,o=t(r,i);if(o<0)return!1;var s=r.length-1;return o==s?r.pop():n.call(r,o,1),--this.size,!0}return Y6=a,Y6}var K6,_$;function mit(){if(_$)return K6;_$=1;var t=F5();function e(n){var a=this.__data__,i=t(a,n);return i<0?void 0:a[i][1]}return K6=e,K6}var X6,T$;function git(){if(T$)return X6;T$=1;var t=F5();function e(n){return t(this.__data__,n)>-1}return X6=e,X6}var Q6,E$;function bit(){if(E$)return Q6;E$=1;var t=F5();function e(n,a){var i=this.__data__,r=t(i,n);return r<0?(++this.size,i.push([n,a])):i[r][1]=a,this}return Q6=e,Q6}var Z6,A$;function B5(){if(A$)return Z6;A$=1;var t=hit(),e=pit(),n=mit(),a=git(),i=bit();function r(o){var s=-1,c=o==null?0:o.length;for(this.clear();++s<c;){var u=o[s];this.set(u[0],u[1])}}return r.prototype.clear=t,r.prototype.delete=e,r.prototype.get=n,r.prototype.has=a,r.prototype.set=i,Z6=r,Z6}var J6,R$;function yit(){if(R$)return J6;R$=1;var t=B5();function e(){this.__data__=new t,this.size=0}return J6=e,J6}var eA,k$;function xit(){if(k$)return eA;k$=1;function t(e){var n=this.__data__,a=n.delete(e);return this.size=n.size,a}return eA=t,eA}var tA,I$;function vit(){if(I$)return tA;I$=1;function t(e){return this.__data__.get(e)}return tA=t,tA}var nA,N$;function Sit(){if(N$)return nA;N$=1;function t(e){return this.__data__.has(e)}return nA=t,nA}var aA,j$;function zne(){if(j$)return aA;j$=1;var t=typeof kC=="object"&&kC&&kC.Object===Object&&kC;return aA=t,aA}var iA,D$;function iu(){if(D$)return iA;D$=1;var t=zne(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return iA=n,iA}var rA,O$;function Wb(){if(O$)return rA;O$=1;var t=iu(),e=t.Symbol;return rA=e,rA}var oA,M$;function Cit(){if(M$)return oA;M$=1;var t=Wb(),e=Object.prototype,n=e.hasOwnProperty,a=e.toString,i=t?t.toStringTag:void 0;function r(o){var s=n.call(o,i),c=o[i];try{o[i]=void 0;var u=!0}catch{}var d=a.call(o);return u&&(s?o[i]=c:delete o[i]),d}return oA=r,oA}var sA,P$;function wit(){if(P$)return sA;P$=1;var t=Object.prototype,e=t.toString;function n(a){return e.call(a)}return sA=n,sA}var lA,L$;function zg(){if(L$)return lA;L$=1;var t=Wb(),e=Cit(),n=wit(),a="[object Null]",i="[object Undefined]",r=t?t.toStringTag:void 0;function o(s){return s==null?s===void 0?i:a:r&&r in Object(s)?e(s):n(s)}return lA=o,lA}var cA,z$;function uc(){if(z$)return cA;z$=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return cA=t,cA}var uA,F$;function DS(){if(F$)return uA;F$=1;var t=zg(),e=uc(),n="[object AsyncFunction]",a="[object Function]",i="[object GeneratorFunction]",r="[object Proxy]";function o(s){if(!e(s))return!1;var c=t(s);return c==a||c==i||c==n||c==r}return uA=o,uA}var dA,B$;function _it(){if(B$)return dA;B$=1;var t=iu(),e=t["__core-js_shared__"];return dA=e,dA}var fA,H$;function Tit(){if(H$)return fA;H$=1;var t=_it(),e=(function(){var a=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function n(a){return!!e&&e in a}return fA=n,fA}var hA,$$;function Fne(){if($$)return hA;$$=1;var t=Function.prototype,e=t.toString;function n(a){if(a!=null){try{return e.call(a)}catch{}try{return a+""}catch{}}return""}return hA=n,hA}var pA,U$;function Eit(){if(U$)return pA;U$=1;var t=DS(),e=Tit(),n=uc(),a=Fne(),i=/[\\^$.*+?()[\]{}|]/g,r=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,c=o.toString,u=s.hasOwnProperty,d=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!n(m)||e(m))return!1;var g=t(m)?d:r;return g.test(a(m))}return pA=h,pA}var mA,G$;function Ait(){if(G$)return mA;G$=1;function t(e,n){return e?.[n]}return mA=t,mA}var gA,q$;function Fg(){if(q$)return gA;q$=1;var t=Eit(),e=Ait();function n(a,i){var r=e(a,i);return t(r)?r:void 0}return gA=n,gA}var bA,W$;function cO(){if(W$)return bA;W$=1;var t=Fg(),e=iu(),n=t(e,"Map");return bA=n,bA}var yA,V$;function H5(){if(V$)return yA;V$=1;var t=Fg(),e=t(Object,"create");return yA=e,yA}var xA,Y$;function Rit(){if(Y$)return xA;Y$=1;var t=H5();function e(){this.__data__=t?t(null):{},this.size=0}return xA=e,xA}var vA,K$;function kit(){if(K$)return vA;K$=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return vA=t,vA}var SA,X$;function Iit(){if(X$)return SA;X$=1;var t=H5(),e="__lodash_hash_undefined__",n=Object.prototype,a=n.hasOwnProperty;function i(r){var o=this.__data__;if(t){var s=o[r];return s===e?void 0:s}return a.call(o,r)?o[r]:void 0}return SA=i,SA}var CA,Q$;function Nit(){if(Q$)return CA;Q$=1;var t=H5(),e=Object.prototype,n=e.hasOwnProperty;function a(i){var r=this.__data__;return t?r[i]!==void 0:n.call(r,i)}return CA=a,CA}var wA,Z$;function jit(){if(Z$)return wA;Z$=1;var t=H5(),e="__lodash_hash_undefined__";function n(a,i){var r=this.__data__;return this.size+=this.has(a)?0:1,r[a]=t&&i===void 0?e:i,this}return wA=n,wA}var _A,J$;function Dit(){if(J$)return _A;J$=1;var t=Rit(),e=kit(),n=Iit(),a=Nit(),i=jit();function r(o){var s=-1,c=o==null?0:o.length;for(this.clear();++s<c;){var u=o[s];this.set(u[0],u[1])}}return r.prototype.clear=t,r.prototype.delete=e,r.prototype.get=n,r.prototype.has=a,r.prototype.set=i,_A=r,_A}var TA,eU;function Oit(){if(eU)return TA;eU=1;var t=Dit(),e=B5(),n=cO();function a(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return TA=a,TA}var EA,tU;function Mit(){if(tU)return EA;tU=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return EA=t,EA}var AA,nU;function $5(){if(nU)return AA;nU=1;var t=Mit();function e(n,a){var i=n.__data__;return t(a)?i[typeof a=="string"?"string":"hash"]:i.map}return AA=e,AA}var RA,aU;function Pit(){if(aU)return RA;aU=1;var t=$5();function e(n){var a=t(this,n).delete(n);return this.size-=a?1:0,a}return RA=e,RA}var kA,iU;function Lit(){if(iU)return kA;iU=1;var t=$5();function e(n){return t(this,n).get(n)}return kA=e,kA}var IA,rU;function zit(){if(rU)return IA;rU=1;var t=$5();function e(n){return t(this,n).has(n)}return IA=e,IA}var NA,oU;function Fit(){if(oU)return NA;oU=1;var t=$5();function e(n,a){var i=t(this,n),r=i.size;return i.set(n,a),this.size+=i.size==r?0:1,this}return NA=e,NA}var jA,sU;function uO(){if(sU)return jA;sU=1;var t=Oit(),e=Pit(),n=Lit(),a=zit(),i=Fit();function r(o){var s=-1,c=o==null?0:o.length;for(this.clear();++s<c;){var u=o[s];this.set(u[0],u[1])}}return r.prototype.clear=t,r.prototype.delete=e,r.prototype.get=n,r.prototype.has=a,r.prototype.set=i,jA=r,jA}var DA,lU;function Bit(){if(lU)return DA;lU=1;var t=B5(),e=cO(),n=uO(),a=200;function i(r,o){var s=this.__data__;if(s instanceof t){var c=s.__data__;if(!e||c.length<a-1)return c.push([r,o]),this.size=++s.size,this;s=this.__data__=new n(c)}return s.set(r,o),this.size=s.size,this}return DA=i,DA}var OA,cU;function U5(){if(cU)return OA;cU=1;var t=B5(),e=yit(),n=xit(),a=vit(),i=Sit(),r=Bit();function o(s){var c=this.__data__=new t(s);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=a,o.prototype.has=i,o.prototype.set=r,OA=o,OA}var MA,uU;function dO(){if(uU)return MA;uU=1;function t(e,n){for(var a=-1,i=e==null?0:e.length;++a<i&&n(e[a],a,e)!==!1;);return e}return MA=t,MA}var PA,dU;function Bne(){if(dU)return PA;dU=1;var t=Fg(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return PA=e,PA}var LA,fU;function G5(){if(fU)return LA;fU=1;var t=Bne();function e(n,a,i){a=="__proto__"&&t?t(n,a,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[a]=i}return LA=e,LA}var zA,hU;function q5(){if(hU)return zA;hU=1;var t=G5(),e=qb(),n=Object.prototype,a=n.hasOwnProperty;function i(r,o,s){var c=r[o];(!(a.call(r,o)&&e(c,s))||s===void 0&&!(o in r))&&t(r,o,s)}return zA=i,zA}var FA,pU;function OS(){if(pU)return FA;pU=1;var t=q5(),e=G5();function n(a,i,r,o){var s=!r;r||(r={});for(var c=-1,u=i.length;++c<u;){var d=i[c],h=o?o(r[d],a[d],d,r,a):void 0;h===void 0&&(h=a[d]),s?e(r,d,h):t(r,d,h)}return r}return FA=n,FA}var BA,mU;function Hit(){if(mU)return BA;mU=1;function t(e,n){for(var a=-1,i=Array(e);++a<e;)i[a]=n(a);return i}return BA=t,BA}var HA,gU;function hd(){if(gU)return HA;gU=1;function t(e){return e!=null&&typeof e=="object"}return HA=t,HA}var $A,bU;function $it(){if(bU)return $A;bU=1;var t=zg(),e=hd(),n="[object Arguments]";function a(i){return e(i)&&t(i)==n}return $A=a,$A}var UA,yU;function MS(){if(yU)return UA;yU=1;var t=$it(),e=hd(),n=Object.prototype,a=n.hasOwnProperty,i=n.propertyIsEnumerable,r=t((function(){return arguments})())?t:function(o){return e(o)&&a.call(o,"callee")&&!i.call(o,"callee")};return UA=r,UA}var GA,xU;function Cr(){if(xU)return GA;xU=1;var t=Array.isArray;return GA=t,GA}var Iv={exports:{}},qA,vU;function Uit(){if(vU)return qA;vU=1;function t(){return!1}return qA=t,qA}Iv.exports;var SU;function Vb(){return SU||(SU=1,(function(t,e){var n=iu(),a=Uit(),i=e&&!e.nodeType&&e,r=i&&!0&&t&&!t.nodeType&&t,o=r&&r.exports===i,s=o?n.Buffer:void 0,c=s?s.isBuffer:void 0,u=c||a;t.exports=u})(Iv,Iv.exports)),Iv.exports}var WA,CU;function W5(){if(CU)return WA;CU=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(a,i){var r=typeof a;return i=i??t,!!i&&(r=="number"||r!="symbol"&&e.test(a))&&a>-1&&a%1==0&&a<i}return WA=n,WA}var VA,wU;function fO(){if(wU)return VA;wU=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return VA=e,VA}var YA,_U;function Git(){if(_U)return YA;_U=1;var t=zg(),e=fO(),n=hd(),a="[object Arguments]",i="[object Array]",r="[object Boolean]",o="[object Date]",s="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",h="[object Object]",m="[object RegExp]",g="[object Set]",y="[object String]",v="[object WeakMap]",S="[object ArrayBuffer]",w="[object DataView]",_="[object Float32Array]",T="[object Float64Array]",A="[object Int8Array]",R="[object Int16Array]",I="[object Int32Array]",N="[object Uint8Array]",P="[object Uint8ClampedArray]",O="[object Uint16Array]",D="[object Uint32Array]",H={};H[_]=H[T]=H[A]=H[R]=H[I]=H[N]=H[P]=H[O]=H[D]=!0,H[a]=H[i]=H[S]=H[r]=H[w]=H[o]=H[s]=H[c]=H[u]=H[d]=H[h]=H[m]=H[g]=H[y]=H[v]=!1;function L($){return n($)&&e($.length)&&!!H[t($)]}return YA=L,YA}var KA,TU;function V5(){if(TU)return KA;TU=1;function t(e){return function(n){return e(n)}}return KA=t,KA}var Nv={exports:{}};Nv.exports;var EU;function hO(){return EU||(EU=1,(function(t,e){var n=zne(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,r=i&&i.exports===a,o=r&&n.process,s=(function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=s})(Nv,Nv.exports)),Nv.exports}var XA,AU;function PS(){if(AU)return XA;AU=1;var t=Git(),e=V5(),n=hO(),a=n&&n.isTypedArray,i=a?e(a):t;return XA=i,XA}var QA,RU;function Hne(){if(RU)return QA;RU=1;var t=Hit(),e=MS(),n=Cr(),a=Vb(),i=W5(),r=PS(),o=Object.prototype,s=o.hasOwnProperty;function c(u,d){var h=n(u),m=!h&&e(u),g=!h&&!m&&a(u),y=!h&&!m&&!g&&r(u),v=h||m||g||y,S=v?t(u.length,String):[],w=S.length;for(var _ in u)(d||s.call(u,_))&&!(v&&(_=="length"||g&&(_=="offset"||_=="parent")||y&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||i(_,w)))&&S.push(_);return S}return QA=c,QA}var ZA,kU;function Y5(){if(kU)return ZA;kU=1;var t=Object.prototype;function e(n){var a=n&&n.constructor,i=typeof a=="function"&&a.prototype||t;return n===i}return ZA=e,ZA}var JA,IU;function $ne(){if(IU)return JA;IU=1;function t(e,n){return function(a){return e(n(a))}}return JA=t,JA}var e8,NU;function qit(){if(NU)return e8;NU=1;var t=$ne(),e=t(Object.keys,Object);return e8=e,e8}var t8,jU;function pO(){if(jU)return t8;jU=1;var t=Y5(),e=qit(),n=Object.prototype,a=n.hasOwnProperty;function i(r){if(!t(r))return e(r);var o=[];for(var s in Object(r))a.call(r,s)&&s!="constructor"&&o.push(s);return o}return t8=i,t8}var n8,DU;function kf(){if(DU)return n8;DU=1;var t=DS(),e=fO();function n(a){return a!=null&&e(a.length)&&!t(a)}return n8=n,n8}var a8,OU;function kp(){if(OU)return a8;OU=1;var t=Hne(),e=pO(),n=kf();function a(i){return n(i)?t(i):e(i)}return a8=a,a8}var i8,MU;function Wit(){if(MU)return i8;MU=1;var t=OS(),e=kp();function n(a,i){return a&&t(i,e(i),a)}return i8=n,i8}var r8,PU;function Vit(){if(PU)return r8;PU=1;function t(e){var n=[];if(e!=null)for(var a in Object(e))n.push(a);return n}return r8=t,r8}var o8,LU;function Yit(){if(LU)return o8;LU=1;var t=uc(),e=Y5(),n=Vit(),a=Object.prototype,i=a.hasOwnProperty;function r(o){if(!t(o))return n(o);var s=e(o),c=[];for(var u in o)u=="constructor"&&(s||!i.call(o,u))||c.push(u);return c}return o8=r,o8}var s8,zU;function Bg(){if(zU)return s8;zU=1;var t=Hne(),e=Yit(),n=kf();function a(i){return n(i)?t(i,!0):e(i)}return s8=a,s8}var l8,FU;function Kit(){if(FU)return l8;FU=1;var t=OS(),e=Bg();function n(a,i){return a&&t(i,e(i),a)}return l8=n,l8}var jv={exports:{}};jv.exports;var BU;function Une(){return BU||(BU=1,(function(t,e){var n=iu(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,r=i&&i.exports===a,o=r?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var h=u.length,m=s?s(h):new u.constructor(h);return u.copy(m),m}t.exports=c})(jv,jv.exports)),jv.exports}var c8,HU;function Gne(){if(HU)return c8;HU=1;function t(e,n){var a=-1,i=e.length;for(n||(n=Array(i));++a<i;)n[a]=e[a];return n}return c8=t,c8}var u8,$U;function qne(){if($U)return u8;$U=1;function t(e,n){for(var a=-1,i=e==null?0:e.length,r=0,o=[];++a<i;){var s=e[a];n(s,a,e)&&(o[r++]=s)}return o}return u8=t,u8}var d8,UU;function Wne(){if(UU)return d8;UU=1;function t(){return[]}return d8=t,d8}var f8,GU;function mO(){if(GU)return f8;GU=1;var t=qne(),e=Wne(),n=Object.prototype,a=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,r=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(s){return a.call(o,s)}))}:e;return f8=r,f8}var h8,qU;function Xit(){if(qU)return h8;qU=1;var t=OS(),e=mO();function n(a,i){return t(a,e(a),i)}return h8=n,h8}var p8,WU;function gO(){if(WU)return p8;WU=1;function t(e,n){for(var a=-1,i=n.length,r=e.length;++a<i;)e[r+a]=n[a];return e}return p8=t,p8}var m8,VU;function K5(){if(VU)return m8;VU=1;var t=$ne(),e=t(Object.getPrototypeOf,Object);return m8=e,m8}var g8,YU;function Vne(){if(YU)return g8;YU=1;var t=gO(),e=K5(),n=mO(),a=Wne(),i=Object.getOwnPropertySymbols,r=i?function(o){for(var s=[];o;)t(s,n(o)),o=e(o);return s}:a;return g8=r,g8}var b8,KU;function Qit(){if(KU)return b8;KU=1;var t=OS(),e=Vne();function n(a,i){return t(a,e(a),i)}return b8=n,b8}var y8,XU;function Yne(){if(XU)return y8;XU=1;var t=gO(),e=Cr();function n(a,i,r){var o=i(a);return e(a)?o:t(o,r(a))}return y8=n,y8}var x8,QU;function Kne(){if(QU)return x8;QU=1;var t=Yne(),e=mO(),n=kp();function a(i){return t(i,n,e)}return x8=a,x8}var v8,ZU;function Zit(){if(ZU)return v8;ZU=1;var t=Yne(),e=Vne(),n=Bg();function a(i){return t(i,n,e)}return v8=a,v8}var S8,JU;function Jit(){if(JU)return S8;JU=1;var t=Fg(),e=iu(),n=t(e,"DataView");return S8=n,S8}var C8,eG;function ert(){if(eG)return C8;eG=1;var t=Fg(),e=iu(),n=t(e,"Promise");return C8=n,C8}var w8,tG;function Xne(){if(tG)return w8;tG=1;var t=Fg(),e=iu(),n=t(e,"Set");return w8=n,w8}var _8,nG;function trt(){if(nG)return _8;nG=1;var t=Fg(),e=iu(),n=t(e,"WeakMap");return _8=n,_8}var T8,aG;function Yb(){if(aG)return T8;aG=1;var t=Jit(),e=cO(),n=ert(),a=Xne(),i=trt(),r=zg(),o=Fne(),s="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",h="[object WeakMap]",m="[object DataView]",g=o(t),y=o(e),v=o(n),S=o(a),w=o(i),_=r;return(t&&_(new t(new ArrayBuffer(1)))!=m||e&&_(new e)!=s||n&&_(n.resolve())!=u||a&&_(new a)!=d||i&&_(new i)!=h)&&(_=function(T){var A=r(T),R=A==c?T.constructor:void 0,I=R?o(R):"";if(I)switch(I){case g:return m;case y:return s;case v:return u;case S:return d;case w:return h}return A}),T8=_,T8}var E8,iG;function nrt(){if(iG)return E8;iG=1;var t=Object.prototype,e=t.hasOwnProperty;function n(a){var i=a.length,r=new a.constructor(i);return i&&typeof a[0]=="string"&&e.call(a,"index")&&(r.index=a.index,r.input=a.input),r}return E8=n,E8}var A8,rG;function Qne(){if(rG)return A8;rG=1;var t=iu(),e=t.Uint8Array;return A8=e,A8}var R8,oG;function bO(){if(oG)return R8;oG=1;var t=Qne();function e(n){var a=new n.constructor(n.byteLength);return new t(a).set(new t(n)),a}return R8=e,R8}var k8,sG;function art(){if(sG)return k8;sG=1;var t=bO();function e(n,a){var i=a?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return k8=e,k8}var I8,lG;function irt(){if(lG)return I8;lG=1;var t=/\w*$/;function e(n){var a=new n.constructor(n.source,t.exec(n));return a.lastIndex=n.lastIndex,a}return I8=e,I8}var N8,cG;function rrt(){if(cG)return N8;cG=1;var t=Wb(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function a(i){return n?Object(n.call(i)):{}}return N8=a,N8}var j8,uG;function Zne(){if(uG)return j8;uG=1;var t=bO();function e(n,a){var i=a?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return j8=e,j8}var D8,dG;function ort(){if(dG)return D8;dG=1;var t=bO(),e=art(),n=irt(),a=rrt(),i=Zne(),r="[object Boolean]",o="[object Date]",s="[object Map]",c="[object Number]",u="[object RegExp]",d="[object Set]",h="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",y="[object DataView]",v="[object Float32Array]",S="[object Float64Array]",w="[object Int8Array]",_="[object Int16Array]",T="[object Int32Array]",A="[object Uint8Array]",R="[object Uint8ClampedArray]",I="[object Uint16Array]",N="[object Uint32Array]";function P(O,D,H){var L=O.constructor;switch(D){case g:return t(O);case r:case o:return new L(+O);case y:return e(O,H);case v:case S:case w:case _:case T:case A:case R:case I:case N:return i(O,H);case s:return new L;case c:case h:return new L(O);case u:return n(O);case d:return new L;case m:return a(O)}}return D8=P,D8}var O8,fG;function Jne(){if(fG)return O8;fG=1;var t=uc(),e=Object.create,n=(function(){function a(){}return function(i){if(!t(i))return{};if(e)return e(i);a.prototype=i;var r=new a;return a.prototype=void 0,r}})();return O8=n,O8}var M8,hG;function eae(){if(hG)return M8;hG=1;var t=Jne(),e=K5(),n=Y5();function a(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return M8=a,M8}var P8,pG;function srt(){if(pG)return P8;pG=1;var t=Yb(),e=hd(),n="[object Map]";function a(i){return e(i)&&t(i)==n}return P8=a,P8}var L8,mG;function lrt(){if(mG)return L8;mG=1;var t=srt(),e=V5(),n=hO(),a=n&&n.isMap,i=a?e(a):t;return L8=i,L8}var z8,gG;function crt(){if(gG)return z8;gG=1;var t=Yb(),e=hd(),n="[object Set]";function a(i){return e(i)&&t(i)==n}return z8=a,z8}var F8,bG;function urt(){if(bG)return F8;bG=1;var t=crt(),e=V5(),n=hO(),a=n&&n.isSet,i=a?e(a):t;return F8=i,F8}var B8,yG;function tae(){if(yG)return B8;yG=1;var t=U5(),e=dO(),n=q5(),a=Wit(),i=Kit(),r=Une(),o=Gne(),s=Xit(),c=Qit(),u=Kne(),d=Zit(),h=Yb(),m=nrt(),g=ort(),y=eae(),v=Cr(),S=Vb(),w=lrt(),_=uc(),T=urt(),A=kp(),R=Bg(),I=1,N=2,P=4,O="[object Arguments]",D="[object Array]",H="[object Boolean]",L="[object Date]",$="[object Error]",M="[object Function]",z="[object GeneratorFunction]",F="[object Map]",G="[object Number]",ee="[object Object]",V="[object RegExp]",Y="[object Set]",K="[object String]",J="[object Symbol]",W="[object WeakMap]",te="[object ArrayBuffer]",re="[object DataView]",ne="[object Float32Array]",ce="[object Float64Array]",pe="[object Int8Array]",me="[object Int16Array]",ge="[object Int32Array]",ye="[object Uint8Array]",he="[object Uint8ClampedArray]",de="[object Uint16Array]",fe="[object Uint32Array]",oe={};oe[O]=oe[D]=oe[te]=oe[re]=oe[H]=oe[L]=oe[ne]=oe[ce]=oe[pe]=oe[me]=oe[ge]=oe[F]=oe[G]=oe[ee]=oe[V]=oe[Y]=oe[K]=oe[J]=oe[ye]=oe[he]=oe[de]=oe[fe]=!0,oe[$]=oe[M]=oe[W]=!1;function ue(le,Se,_e,Ie,ze,Me){var Ze,Ee=Se&I,Ne=Se&N,ve=Se&P;if(_e&&(Ze=ze?_e(le,Ie,ze,Me):_e(le)),Ze!==void 0)return Ze;if(!_(le))return le;var we=v(le);if(we){if(Ze=m(le),!Ee)return o(le,Ze)}else{var Oe=h(le),Le=Oe==M||Oe==z;if(S(le))return r(le,Ee);if(Oe==ee||Oe==O||Le&&!ze){if(Ze=Ne||Le?{}:y(le),!Ee)return Ne?c(le,i(Ze,le)):s(le,a(Ze,le))}else{if(!oe[Oe])return ze?le:{};Ze=g(le,Oe,Ee)}}Me||(Me=new t);var We=Me.get(le);if(We)return We;Me.set(le,Ze),T(le)?le.forEach(function(rt){Ze.add(ue(rt,Se,_e,rt,le,Me))}):w(le)&&le.forEach(function(rt,at){Ze.set(at,ue(rt,Se,_e,at,le,Me))});var Fe=ve?Ne?d:u:Ne?R:A,Ve=we?void 0:Fe(le);return e(Ve||le,function(rt,at){Ve&&(at=rt,rt=le[at]),n(Ze,at,ue(rt,Se,_e,at,le,Me))}),Ze}return B8=ue,B8}var H8,xG;function drt(){if(xG)return H8;xG=1;var t=tae(),e=4;function n(a){return t(a,e)}return H8=n,H8}var $8,vG;function yO(){if(vG)return $8;vG=1;function t(e){return function(){return e}}return $8=t,$8}var U8,SG;function frt(){if(SG)return U8;SG=1;function t(e){return function(n,a,i){for(var r=-1,o=Object(n),s=i(n),c=s.length;c--;){var u=s[e?c:++r];if(a(o[u],u,o)===!1)break}return n}}return U8=t,U8}var G8,CG;function xO(){if(CG)return G8;CG=1;var t=frt(),e=t();return G8=e,G8}var q8,wG;function vO(){if(wG)return q8;wG=1;var t=xO(),e=kp();function n(a,i){return a&&t(a,i,e)}return q8=n,q8}var W8,_G;function hrt(){if(_G)return W8;_G=1;var t=kf();function e(n,a){return function(i,r){if(i==null)return i;if(!t(i))return n(i,r);for(var o=i.length,s=a?o:-1,c=Object(i);(a?s--:++s<o)&&r(c[s],s,c)!==!1;);return i}}return W8=e,W8}var V8,TG;function X5(){if(TG)return V8;TG=1;var t=vO(),e=hrt(),n=e(t);return V8=n,V8}var Y8,EG;function Hg(){if(EG)return Y8;EG=1;function t(e){return e}return Y8=t,Y8}var K8,AG;function nae(){if(AG)return K8;AG=1;var t=Hg();function e(n){return typeof n=="function"?n:t}return K8=e,K8}var X8,RG;function aae(){if(RG)return X8;RG=1;var t=dO(),e=X5(),n=nae(),a=Cr();function i(r,o){var s=a(r)?t:e;return s(r,n(o))}return X8=i,X8}var Q8,kG;function iae(){return kG||(kG=1,Q8=aae()),Q8}var Z8,IG;function prt(){if(IG)return Z8;IG=1;var t=X5();function e(n,a){var i=[];return t(n,function(r,o,s){a(r,o,s)&&i.push(r)}),i}return Z8=e,Z8}var J8,NG;function mrt(){if(NG)return J8;NG=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return J8=e,J8}var eR,jG;function grt(){if(jG)return eR;jG=1;function t(e){return this.__data__.has(e)}return eR=t,eR}var tR,DG;function rae(){if(DG)return tR;DG=1;var t=uO(),e=mrt(),n=grt();function a(i){var r=-1,o=i==null?0:i.length;for(this.__data__=new t;++r<o;)this.add(i[r])}return a.prototype.add=a.prototype.push=e,a.prototype.has=n,tR=a,tR}var nR,OG;function brt(){if(OG)return nR;OG=1;function t(e,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(e[a],a,e))return!0;return!1}return nR=t,nR}var aR,MG;function oae(){if(MG)return aR;MG=1;function t(e,n){return e.has(n)}return aR=t,aR}var iR,PG;function sae(){if(PG)return iR;PG=1;var t=rae(),e=brt(),n=oae(),a=1,i=2;function r(o,s,c,u,d,h){var m=c&a,g=o.length,y=s.length;if(g!=y&&!(m&&y>g))return!1;var v=h.get(o),S=h.get(s);if(v&&S)return v==s&&S==o;var w=-1,_=!0,T=c&i?new t:void 0;for(h.set(o,s),h.set(s,o);++w<g;){var A=o[w],R=s[w];if(u)var I=m?u(R,A,w,s,o,h):u(A,R,w,o,s,h);if(I!==void 0){if(I)continue;_=!1;break}if(T){if(!e(s,function(N,P){if(!n(T,P)&&(A===N||d(A,N,c,u,h)))return T.push(P)})){_=!1;break}}else if(!(A===R||d(A,R,c,u,h))){_=!1;break}}return h.delete(o),h.delete(s),_}return iR=r,iR}var rR,LG;function yrt(){if(LG)return rR;LG=1;function t(e){var n=-1,a=Array(e.size);return e.forEach(function(i,r){a[++n]=[r,i]}),a}return rR=t,rR}var oR,zG;function SO(){if(zG)return oR;zG=1;function t(e){var n=-1,a=Array(e.size);return e.forEach(function(i){a[++n]=i}),a}return oR=t,oR}var sR,FG;function xrt(){if(FG)return sR;FG=1;var t=Wb(),e=Qne(),n=qb(),a=sae(),i=yrt(),r=SO(),o=1,s=2,c="[object Boolean]",u="[object Date]",d="[object Error]",h="[object Map]",m="[object Number]",g="[object RegExp]",y="[object Set]",v="[object String]",S="[object Symbol]",w="[object ArrayBuffer]",_="[object DataView]",T=t?t.prototype:void 0,A=T?T.valueOf:void 0;function R(I,N,P,O,D,H,L){switch(P){case _:if(I.byteLength!=N.byteLength||I.byteOffset!=N.byteOffset)return!1;I=I.buffer,N=N.buffer;case w:return!(I.byteLength!=N.byteLength||!H(new e(I),new e(N)));case c:case u:case m:return n(+I,+N);case d:return I.name==N.name&&I.message==N.message;case g:case v:return I==N+"";case h:var $=i;case y:var M=O&o;if($||($=r),I.size!=N.size&&!M)return!1;var z=L.get(I);if(z)return z==N;O|=s,L.set(I,N);var F=a($(I),$(N),O,D,H,L);return L.delete(I),F;case S:if(A)return A.call(I)==A.call(N)}return!1}return sR=R,sR}var lR,BG;function vrt(){if(BG)return lR;BG=1;var t=Kne(),e=1,n=Object.prototype,a=n.hasOwnProperty;function i(r,o,s,c,u,d){var h=s&e,m=t(r),g=m.length,y=t(o),v=y.length;if(g!=v&&!h)return!1;for(var S=g;S--;){var w=m[S];if(!(h?w in o:a.call(o,w)))return!1}var _=d.get(r),T=d.get(o);if(_&&T)return _==o&&T==r;var A=!0;d.set(r,o),d.set(o,r);for(var R=h;++S<g;){w=m[S];var I=r[w],N=o[w];if(c)var P=h?c(N,I,w,o,r,d):c(I,N,w,r,o,d);if(!(P===void 0?I===N||u(I,N,s,c,d):P)){A=!1;break}R||(R=w=="constructor")}if(A&&!R){var O=r.constructor,D=o.constructor;O!=D&&"constructor"in r&&"constructor"in o&&!(typeof O=="function"&&O instanceof O&&typeof D=="function"&&D instanceof D)&&(A=!1)}return d.delete(r),d.delete(o),A}return lR=i,lR}var cR,HG;function Srt(){if(HG)return cR;HG=1;var t=U5(),e=sae(),n=xrt(),a=vrt(),i=Yb(),r=Cr(),o=Vb(),s=PS(),c=1,u="[object Arguments]",d="[object Array]",h="[object Object]",m=Object.prototype,g=m.hasOwnProperty;function y(v,S,w,_,T,A){var R=r(v),I=r(S),N=R?d:i(v),P=I?d:i(S);N=N==u?h:N,P=P==u?h:P;var O=N==h,D=P==h,H=N==P;if(H&&o(v)){if(!o(S))return!1;R=!0,O=!1}if(H&&!O)return A||(A=new t),R||s(v)?e(v,S,w,_,T,A):n(v,S,N,w,_,T,A);if(!(w&c)){var L=O&&g.call(v,"__wrapped__"),$=D&&g.call(S,"__wrapped__");if(L||$){var M=L?v.value():v,z=$?S.value():S;return A||(A=new t),T(M,z,w,_,A)}}return H?(A||(A=new t),a(v,S,w,_,T,A)):!1}return cR=y,cR}var uR,$G;function lae(){if($G)return uR;$G=1;var t=Srt(),e=hd();function n(a,i,r,o,s){return a===i?!0:a==null||i==null||!e(a)&&!e(i)?a!==a&&i!==i:t(a,i,r,o,n,s)}return uR=n,uR}var dR,UG;function Crt(){if(UG)return dR;UG=1;var t=U5(),e=lae(),n=1,a=2;function i(r,o,s,c){var u=s.length,d=u,h=!c;if(r==null)return!d;for(r=Object(r);u--;){var m=s[u];if(h&&m[2]?m[1]!==r[m[0]]:!(m[0]in r))return!1}for(;++u<d;){m=s[u];var g=m[0],y=r[g],v=m[1];if(h&&m[2]){if(y===void 0&&!(g in r))return!1}else{var S=new t;if(c)var w=c(y,v,g,r,o,S);if(!(w===void 0?e(v,y,n|a,c,S):w))return!1}}return!0}return dR=i,dR}var fR,GG;function cae(){if(GG)return fR;GG=1;var t=uc();function e(n){return n===n&&!t(n)}return fR=e,fR}var hR,qG;function wrt(){if(qG)return hR;qG=1;var t=cae(),e=kp();function n(a){for(var i=e(a),r=i.length;r--;){var o=i[r],s=a[o];i[r]=[o,s,t(s)]}return i}return hR=n,hR}var pR,WG;function uae(){if(WG)return pR;WG=1;function t(e,n){return function(a){return a==null?!1:a[e]===n&&(n!==void 0||e in Object(a))}}return pR=t,pR}var mR,VG;function _rt(){if(VG)return mR;VG=1;var t=Crt(),e=wrt(),n=uae();function a(i){var r=e(i);return r.length==1&&r[0][2]?n(r[0][0],r[0][1]):function(o){return o===i||t(o,i,r)}}return mR=a,mR}var gR,YG;function Kb(){if(YG)return gR;YG=1;var t=zg(),e=hd(),n="[object Symbol]";function a(i){return typeof i=="symbol"||e(i)&&t(i)==n}return gR=a,gR}var bR,KG;function CO(){if(KG)return bR;KG=1;var t=Cr(),e=Kb(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function i(r,o){if(t(r))return!1;var s=typeof r;return s=="number"||s=="symbol"||s=="boolean"||r==null||e(r)?!0:a.test(r)||!n.test(r)||o!=null&&r in Object(o)}return bR=i,bR}var yR,XG;function Trt(){if(XG)return yR;XG=1;var t=uO(),e="Expected a function";function n(a,i){if(typeof a!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var r=function(){var o=arguments,s=i?i.apply(this,o):o[0],c=r.cache;if(c.has(s))return c.get(s);var u=a.apply(this,o);return r.cache=c.set(s,u)||c,u};return r.cache=new(n.Cache||t),r}return n.Cache=t,yR=n,yR}var xR,QG;function Ert(){if(QG)return xR;QG=1;var t=Trt(),e=500;function n(a){var i=t(a,function(o){return r.size===e&&r.clear(),o}),r=i.cache;return i}return xR=n,xR}var vR,ZG;function Art(){if(ZG)return vR;ZG=1;var t=Ert(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,a=t(function(i){var r=[];return i.charCodeAt(0)===46&&r.push(""),i.replace(e,function(o,s,c,u){r.push(c?u.replace(n,"$1"):s||o)}),r});return vR=a,vR}var SR,JG;function Q5(){if(JG)return SR;JG=1;function t(e,n){for(var a=-1,i=e==null?0:e.length,r=Array(i);++a<i;)r[a]=n(e[a],a,e);return r}return SR=t,SR}var CR,eq;function Rrt(){if(eq)return CR;eq=1;var t=Wb(),e=Q5(),n=Cr(),a=Kb(),i=t?t.prototype:void 0,r=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(n(s))return e(s,o)+"";if(a(s))return r?r.call(s):"";var c=s+"";return c=="0"&&1/s==-1/0?"-0":c}return CR=o,CR}var wR,tq;function dae(){if(tq)return wR;tq=1;var t=Rrt();function e(n){return n==null?"":t(n)}return wR=e,wR}var _R,nq;function Z5(){if(nq)return _R;nq=1;var t=Cr(),e=CO(),n=Art(),a=dae();function i(r,o){return t(r)?r:e(r,o)?[r]:n(a(r))}return _R=i,_R}var TR,aq;function LS(){if(aq)return TR;aq=1;var t=Kb();function e(n){if(typeof n=="string"||t(n))return n;var a=n+"";return a=="0"&&1/n==-1/0?"-0":a}return TR=e,TR}var ER,iq;function J5(){if(iq)return ER;iq=1;var t=Z5(),e=LS();function n(a,i){i=t(i,a);for(var r=0,o=i.length;a!=null&&r<o;)a=a[e(i[r++])];return r&&r==o?a:void 0}return ER=n,ER}var AR,rq;function krt(){if(rq)return AR;rq=1;var t=J5();function e(n,a,i){var r=n==null?void 0:t(n,a);return r===void 0?i:r}return AR=e,AR}var RR,oq;function Irt(){if(oq)return RR;oq=1;function t(e,n){return e!=null&&n in Object(e)}return RR=t,RR}var kR,sq;function fae(){if(sq)return kR;sq=1;var t=Z5(),e=MS(),n=Cr(),a=W5(),i=fO(),r=LS();function o(s,c,u){c=t(c,s);for(var d=-1,h=c.length,m=!1;++d<h;){var g=r(c[d]);if(!(m=s!=null&&u(s,g)))break;s=s[g]}return m||++d!=h?m:(h=s==null?0:s.length,!!h&&i(h)&&a(g,h)&&(n(s)||e(s)))}return kR=o,kR}var IR,lq;function hae(){if(lq)return IR;lq=1;var t=Irt(),e=fae();function n(a,i){return a!=null&&e(a,i,t)}return IR=n,IR}var NR,cq;function Nrt(){if(cq)return NR;cq=1;var t=lae(),e=krt(),n=hae(),a=CO(),i=cae(),r=uae(),o=LS(),s=1,c=2;function u(d,h){return a(d)&&i(h)?r(o(d),h):function(m){var g=e(m,d);return g===void 0&&g===h?n(m,d):t(h,g,s|c)}}return NR=u,NR}var jR,uq;function pae(){if(uq)return jR;uq=1;function t(e){return function(n){return n?.[e]}}return jR=t,jR}var DR,dq;function jrt(){if(dq)return DR;dq=1;var t=J5();function e(n){return function(a){return t(a,n)}}return DR=e,DR}var OR,fq;function Drt(){if(fq)return OR;fq=1;var t=pae(),e=jrt(),n=CO(),a=LS();function i(r){return n(r)?t(a(r)):e(r)}return OR=i,OR}var MR,hq;function If(){if(hq)return MR;hq=1;var t=_rt(),e=Nrt(),n=Hg(),a=Cr(),i=Drt();function r(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?a(o)?e(o[0],o[1]):t(o):i(o)}return MR=r,MR}var PR,pq;function mae(){if(pq)return PR;pq=1;var t=qne(),e=prt(),n=If(),a=Cr();function i(r,o){var s=a(r)?t:e;return s(r,n(o,3))}return PR=i,PR}var LR,mq;function Ort(){if(mq)return LR;mq=1;var t=Object.prototype,e=t.hasOwnProperty;function n(a,i){return a!=null&&e.call(a,i)}return LR=n,LR}var zR,gq;function gae(){if(gq)return zR;gq=1;var t=Ort(),e=fae();function n(a,i){return a!=null&&e(a,i,t)}return zR=n,zR}var FR,bq;function Mrt(){if(bq)return FR;bq=1;var t=pO(),e=Yb(),n=MS(),a=Cr(),i=kf(),r=Vb(),o=Y5(),s=PS(),c="[object Map]",u="[object Set]",d=Object.prototype,h=d.hasOwnProperty;function m(g){if(g==null)return!0;if(i(g)&&(a(g)||typeof g=="string"||typeof g.splice=="function"||r(g)||s(g)||n(g)))return!g.length;var y=e(g);if(y==c||y==u)return!g.size;if(o(g))return!t(g).length;for(var v in g)if(h.call(g,v))return!1;return!0}return FR=m,FR}var BR,yq;function bae(){if(yq)return BR;yq=1;function t(e){return e===void 0}return BR=t,BR}var HR,xq;function yae(){if(xq)return HR;xq=1;var t=X5(),e=kf();function n(a,i){var r=-1,o=e(a)?Array(a.length):[];return t(a,function(s,c,u){o[++r]=i(s,c,u)}),o}return HR=n,HR}var $R,vq;function xae(){if(vq)return $R;vq=1;var t=Q5(),e=If(),n=yae(),a=Cr();function i(r,o){var s=a(r)?t:n;return s(r,e(o,3))}return $R=i,$R}var UR,Sq;function Prt(){if(Sq)return UR;Sq=1;function t(e,n,a,i){var r=-1,o=e==null?0:e.length;for(i&&o&&(a=e[++r]);++r<o;)a=n(a,e[r],r,e);return a}return UR=t,UR}var GR,Cq;function Lrt(){if(Cq)return GR;Cq=1;function t(e,n,a,i,r){return r(e,function(o,s,c){a=i?(i=!1,o):n(a,o,s,c)}),a}return GR=t,GR}var qR,wq;function vae(){if(wq)return qR;wq=1;var t=Prt(),e=X5(),n=If(),a=Lrt(),i=Cr();function r(o,s,c){var u=i(o)?t:a,d=arguments.length<3;return u(o,n(s,4),c,d,e)}return qR=r,qR}var WR,_q;function zrt(){if(_q)return WR;_q=1;var t=zg(),e=Cr(),n=hd(),a="[object String]";function i(r){return typeof r=="string"||!e(r)&&n(r)&&t(r)==a}return WR=i,WR}var VR,Tq;function Frt(){if(Tq)return VR;Tq=1;var t=pae(),e=t("length");return VR=e,VR}var YR,Eq;function Brt(){if(Eq)return YR;Eq=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",i=e+n+a,r="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+t+i+r+"]");function c(u){return s.test(u)}return YR=c,YR}var KR,Aq;function Hrt(){if(Aq)return KR;Aq=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",i=e+n+a,r="\\ufe0e\\ufe0f",o="["+t+"]",s="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+s+"|"+c+")",d="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",y=u+"?",v="["+r+"]?",S="(?:"+g+"(?:"+[d,h,m].join("|")+")"+v+y+")*",w=v+y+S,_="(?:"+[d+s+"?",s,h,m,o].join("|")+")",T=RegExp(c+"(?="+c+")|"+_+w,"g");function A(R){for(var I=T.lastIndex=0;T.test(R);)++I;return I}return KR=A,KR}var XR,Rq;function $rt(){if(Rq)return XR;Rq=1;var t=Frt(),e=Brt(),n=Hrt();function a(i){return e(i)?n(i):t(i)}return XR=a,XR}var QR,kq;function Urt(){if(kq)return QR;kq=1;var t=pO(),e=Yb(),n=kf(),a=zrt(),i=$rt(),r="[object Map]",o="[object Set]";function s(c){if(c==null)return 0;if(n(c))return a(c)?i(c):c.length;var u=e(c);return u==r||u==o?c.size:t(c).length}return QR=s,QR}var ZR,Iq;function Grt(){if(Iq)return ZR;Iq=1;var t=dO(),e=Jne(),n=vO(),a=If(),i=K5(),r=Cr(),o=Vb(),s=DS(),c=uc(),u=PS();function d(h,m,g){var y=r(h),v=y||o(h)||u(h);if(m=a(m,4),g==null){var S=h&&h.constructor;v?g=y?new S:[]:c(h)?g=s(S)?e(i(h)):{}:g={}}return(v?t:n)(h,function(w,_,T){return m(g,w,_,T)}),g}return ZR=d,ZR}var JR,Nq;function qrt(){if(Nq)return JR;Nq=1;var t=Wb(),e=MS(),n=Cr(),a=t?t.isConcatSpreadable:void 0;function i(r){return n(r)||e(r)||!!(a&&r&&r[a])}return JR=i,JR}var ek,jq;function wO(){if(jq)return ek;jq=1;var t=gO(),e=qrt();function n(a,i,r,o,s){var c=-1,u=a.length;for(r||(r=e),s||(s=[]);++c<u;){var d=a[c];i>0&&r(d)?i>1?n(d,i-1,r,o,s):t(s,d):o||(s[s.length]=d)}return s}return ek=n,ek}var tk,Dq;function Wrt(){if(Dq)return tk;Dq=1;function t(e,n,a){switch(a.length){case 0:return e.call(n);case 1:return e.call(n,a[0]);case 2:return e.call(n,a[0],a[1]);case 3:return e.call(n,a[0],a[1],a[2])}return e.apply(n,a)}return tk=t,tk}var nk,Oq;function Sae(){if(Oq)return nk;Oq=1;var t=Wrt(),e=Math.max;function n(a,i,r){return i=e(i===void 0?a.length-1:i,0),function(){for(var o=arguments,s=-1,c=e(o.length-i,0),u=Array(c);++s<c;)u[s]=o[i+s];s=-1;for(var d=Array(i+1);++s<i;)d[s]=o[s];return d[i]=r(u),t(a,this,d)}}return nk=n,nk}var ak,Mq;function Vrt(){if(Mq)return ak;Mq=1;var t=yO(),e=Bne(),n=Hg(),a=e?function(i,r){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(r),writable:!0})}:n;return ak=a,ak}var ik,Pq;function Yrt(){if(Pq)return ik;Pq=1;var t=800,e=16,n=Date.now;function a(i){var r=0,o=0;return function(){var s=n(),c=e-(s-o);if(o=s,c>0){if(++r>=t)return arguments[0]}else r=0;return i.apply(void 0,arguments)}}return ik=a,ik}var rk,Lq;function Cae(){if(Lq)return rk;Lq=1;var t=Vrt(),e=Yrt(),n=e(t);return rk=n,rk}var ok,zq;function eT(){if(zq)return ok;zq=1;var t=Hg(),e=Sae(),n=Cae();function a(i,r){return n(e(i,r,t),i+"")}return ok=a,ok}var sk,Fq;function wae(){if(Fq)return sk;Fq=1;function t(e,n,a,i){for(var r=e.length,o=a+(i?1:-1);i?o--:++o<r;)if(n(e[o],o,e))return o;return-1}return sk=t,sk}var lk,Bq;function Krt(){if(Bq)return lk;Bq=1;function t(e){return e!==e}return lk=t,lk}var ck,Hq;function Xrt(){if(Hq)return ck;Hq=1;function t(e,n,a){for(var i=a-1,r=e.length;++i<r;)if(e[i]===n)return i;return-1}return ck=t,ck}var uk,$q;function Qrt(){if($q)return uk;$q=1;var t=wae(),e=Krt(),n=Xrt();function a(i,r,o){return r===r?n(i,r,o):t(i,e,o)}return uk=a,uk}var dk,Uq;function Zrt(){if(Uq)return dk;Uq=1;var t=Qrt();function e(n,a){var i=n==null?0:n.length;return!!i&&t(n,a,0)>-1}return dk=e,dk}var fk,Gq;function Jrt(){if(Gq)return fk;Gq=1;function t(e,n,a){for(var i=-1,r=e==null?0:e.length;++i<r;)if(a(n,e[i]))return!0;return!1}return fk=t,fk}var hk,qq;function eot(){if(qq)return hk;qq=1;function t(){}return hk=t,hk}var pk,Wq;function tot(){if(Wq)return pk;Wq=1;var t=Xne(),e=eot(),n=SO(),a=1/0,i=t&&1/n(new t([,-0]))[1]==a?function(r){return new t(r)}:e;return pk=i,pk}var mk,Vq;function not(){if(Vq)return mk;Vq=1;var t=rae(),e=Zrt(),n=Jrt(),a=oae(),i=tot(),r=SO(),o=200;function s(c,u,d){var h=-1,m=e,g=c.length,y=!0,v=[],S=v;if(d)y=!1,m=n;else if(g>=o){var w=u?null:i(c);if(w)return r(w);y=!1,m=a,S=new t}else S=u?[]:v;e:for(;++h<g;){var _=c[h],T=u?u(_):_;if(_=d||_!==0?_:0,y&&T===T){for(var A=S.length;A--;)if(S[A]===T)continue e;u&&S.push(T),v.push(_)}else m(S,T,d)||(S!==v&&S.push(T),v.push(_))}return v}return mk=s,mk}var gk,Yq;function _ae(){if(Yq)return gk;Yq=1;var t=kf(),e=hd();function n(a){return e(a)&&t(a)}return gk=n,gk}var bk,Kq;function aot(){if(Kq)return bk;Kq=1;var t=wO(),e=eT(),n=not(),a=_ae(),i=e(function(r){return n(t(r,1,a,!0))});return bk=i,bk}var yk,Xq;function iot(){if(Xq)return yk;Xq=1;var t=Q5();function e(n,a){return t(a,function(i){return n[i]})}return yk=e,yk}var xk,Qq;function Tae(){if(Qq)return xk;Qq=1;var t=iot(),e=kp();function n(a){return a==null?[]:t(a,e(a))}return xk=n,xk}var vk,Zq;function dc(){if(Zq)return vk;Zq=1;var t;if(typeof lO=="function")try{t={clone:drt(),constant:yO(),each:iae(),filter:mae(),has:gae(),isArray:Cr(),isEmpty:Mrt(),isFunction:DS(),isUndefined:bae(),keys:kp(),map:xae(),reduce:vae(),size:Urt(),transform:Grt(),union:aot(),values:Tae()}}catch{}return t||(t=window._),vk=t,vk}var Sk,Jq;function _O(){if(Jq)return Sk;Jq=1;var t=dc();Sk=i;var e="\0",n="\0",a="";function i(d){this._isDirected=t.has(d,"directed")?d.directed:!0,this._isMultigraph=t.has(d,"multigraph")?d.multigraph:!1,this._isCompound=t.has(d,"compound")?d.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(d){return this._label=d,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(d){return t.isFunction(d)||(d=t.constant(d)),this._defaultNodeLabelFn=d,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return t.keys(this._nodes)},i.prototype.sources=function(){var d=this;return t.filter(this.nodes(),function(h){return t.isEmpty(d._in[h])})},i.prototype.sinks=function(){var d=this;return t.filter(this.nodes(),function(h){return t.isEmpty(d._out[h])})},i.prototype.setNodes=function(d,h){var m=arguments,g=this;return t.each(d,function(y){m.length>1?g.setNode(y,h):g.setNode(y)}),this},i.prototype.setNode=function(d,h){return t.has(this._nodes,d)?(arguments.length>1&&(this._nodes[d]=h),this):(this._nodes[d]=arguments.length>1?h:this._defaultNodeLabelFn(d),this._isCompound&&(this._parent[d]=n,this._children[d]={},this._children[n][d]=!0),this._in[d]={},this._preds[d]={},this._out[d]={},this._sucs[d]={},++this._nodeCount,this)},i.prototype.node=function(d){return this._nodes[d]},i.prototype.hasNode=function(d){return t.has(this._nodes,d)},i.prototype.removeNode=function(d){var h=this;if(t.has(this._nodes,d)){var m=function(g){h.removeEdge(h._edgeObjs[g])};delete this._nodes[d],this._isCompound&&(this._removeFromParentsChildList(d),delete this._parent[d],t.each(this.children(d),function(g){h.setParent(g)}),delete this._children[d]),t.each(t.keys(this._in[d]),m),delete this._in[d],delete this._preds[d],t.each(t.keys(this._out[d]),m),delete this._out[d],delete this._sucs[d],--this._nodeCount}return this},i.prototype.setParent=function(d,h){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(h))h=n;else{h+="";for(var m=h;!t.isUndefined(m);m=this.parent(m))if(m===d)throw new Error("Setting "+h+" as parent of "+d+" would create a cycle");this.setNode(h)}return this.setNode(d),this._removeFromParentsChildList(d),this._parent[d]=h,this._children[h][d]=!0,this},i.prototype._removeFromParentsChildList=function(d){delete this._children[this._parent[d]][d]},i.prototype.parent=function(d){if(this._isCompound){var h=this._parent[d];if(h!==n)return h}},i.prototype.children=function(d){if(t.isUndefined(d)&&(d=n),this._isCompound){var h=this._children[d];if(h)return t.keys(h)}else{if(d===n)return this.nodes();if(this.hasNode(d))return[]}},i.prototype.predecessors=function(d){var h=this._preds[d];if(h)return t.keys(h)},i.prototype.successors=function(d){var h=this._sucs[d];if(h)return t.keys(h)},i.prototype.neighbors=function(d){var h=this.predecessors(d);if(h)return t.union(h,this.successors(d))},i.prototype.isLeaf=function(d){var h;return this.isDirected()?h=this.successors(d):h=this.neighbors(d),h.length===0},i.prototype.filterNodes=function(d){var h=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});h.setGraph(this.graph());var m=this;t.each(this._nodes,function(v,S){d(S)&&h.setNode(S,v)}),t.each(this._edgeObjs,function(v){h.hasNode(v.v)&&h.hasNode(v.w)&&h.setEdge(v,m.edge(v))});var g={};function y(v){var S=m.parent(v);return S===void 0||h.hasNode(S)?(g[v]=S,S):S in g?g[S]:y(S)}return this._isCompound&&t.each(h.nodes(),function(v){h.setParent(v,y(v))}),h},i.prototype.setDefaultEdgeLabel=function(d){return t.isFunction(d)||(d=t.constant(d)),this._defaultEdgeLabelFn=d,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return t.values(this._edgeObjs)},i.prototype.setPath=function(d,h){var m=this,g=arguments;return t.reduce(d,function(y,v){return g.length>1?m.setEdge(y,v,h):m.setEdge(y,v),v}),this},i.prototype.setEdge=function(){var d,h,m,g,y=!1,v=arguments[0];typeof v=="object"&&v!==null&&"v"in v?(d=v.v,h=v.w,m=v.name,arguments.length===2&&(g=arguments[1],y=!0)):(d=v,h=arguments[1],m=arguments[3],arguments.length>2&&(g=arguments[2],y=!0)),d=""+d,h=""+h,t.isUndefined(m)||(m=""+m);var S=s(this._isDirected,d,h,m);if(t.has(this._edgeLabels,S))return y&&(this._edgeLabels[S]=g),this;if(!t.isUndefined(m)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(d),this.setNode(h),this._edgeLabels[S]=y?g:this._defaultEdgeLabelFn(d,h,m);var w=c(this._isDirected,d,h,m);return d=w.v,h=w.w,Object.freeze(w),this._edgeObjs[S]=w,r(this._preds[h],d),r(this._sucs[d],h),this._in[h][S]=w,this._out[d][S]=w,this._edgeCount++,this},i.prototype.edge=function(d,h,m){var g=arguments.length===1?u(this._isDirected,arguments[0]):s(this._isDirected,d,h,m);return this._edgeLabels[g]},i.prototype.hasEdge=function(d,h,m){var g=arguments.length===1?u(this._isDirected,arguments[0]):s(this._isDirected,d,h,m);return t.has(this._edgeLabels,g)},i.prototype.removeEdge=function(d,h,m){var g=arguments.length===1?u(this._isDirected,arguments[0]):s(this._isDirected,d,h,m),y=this._edgeObjs[g];return y&&(d=y.v,h=y.w,delete this._edgeLabels[g],delete this._edgeObjs[g],o(this._preds[h],d),o(this._sucs[d],h),delete this._in[h][g],delete this._out[d][g],this._edgeCount--),this},i.prototype.inEdges=function(d,h){var m=this._in[d];if(m){var g=t.values(m);return h?t.filter(g,function(y){return y.v===h}):g}},i.prototype.outEdges=function(d,h){var m=this._out[d];if(m){var g=t.values(m);return h?t.filter(g,function(y){return y.w===h}):g}},i.prototype.nodeEdges=function(d,h){var m=this.inEdges(d,h);if(m)return m.concat(this.outEdges(d,h))};function r(d,h){d[h]?d[h]++:d[h]=1}function o(d,h){--d[h]||delete d[h]}function s(d,h,m,g){var y=""+h,v=""+m;if(!d&&y>v){var S=y;y=v,v=S}return y+a+v+a+(t.isUndefined(g)?e:g)}function c(d,h,m,g){var y=""+h,v=""+m;if(!d&&y>v){var S=y;y=v,v=S}var w={v:y,w:v};return g&&(w.name=g),w}function u(d,h){return s(d,h.v,h.w,h.name)}return Sk}var Ck,eW;function rot(){return eW||(eW=1,Ck="2.1.8"),Ck}var wk,tW;function oot(){return tW||(tW=1,wk={Graph:_O(),version:rot()}),wk}var _k,nW;function sot(){if(nW)return _k;nW=1;var t=dc(),e=_O();_k={write:n,read:r};function n(o){var s={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:a(o),edges:i(o)};return t.isUndefined(o.graph())||(s.value=t.clone(o.graph())),s}function a(o){return t.map(o.nodes(),function(s){var c=o.node(s),u=o.parent(s),d={v:s};return t.isUndefined(c)||(d.value=c),t.isUndefined(u)||(d.parent=u),d})}function i(o){return t.map(o.edges(),function(s){var c=o.edge(s),u={v:s.v,w:s.w};return t.isUndefined(s.name)||(u.name=s.name),t.isUndefined(c)||(u.value=c),u})}function r(o){var s=new e(o.options).setGraph(o.value);return t.each(o.nodes,function(c){s.setNode(c.v,c.value),c.parent&&s.setParent(c.v,c.parent)}),t.each(o.edges,function(c){s.setEdge({v:c.v,w:c.w,name:c.name},c.value)}),s}return _k}var Tk,aW;function lot(){if(aW)return Tk;aW=1;var t=dc();Tk=e;function e(n){var a={},i=[],r;function o(s){t.has(a,s)||(a[s]=!0,r.push(s),t.each(n.successors(s),o),t.each(n.predecessors(s),o))}return t.each(n.nodes(),function(s){r=[],o(s),r.length&&i.push(r)}),i}return Tk}var Ek,iW;function Eae(){if(iW)return Ek;iW=1;var t=dc();Ek=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(n){return n.key})},e.prototype.has=function(n){return t.has(this._keyIndices,n)},e.prototype.priority=function(n){var a=this._keyIndices[n];if(a!==void 0)return this._arr[a].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(n,a){var i=this._keyIndices;if(n=String(n),!t.has(i,n)){var r=this._arr,o=r.length;return i[n]=o,r.push({key:n,priority:a}),this._decrease(o),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},e.prototype.decrease=function(n,a){var i=this._keyIndices[n];if(a>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+a);this._arr[i].priority=a,this._decrease(i)},e.prototype._heapify=function(n){var a=this._arr,i=2*n,r=i+1,o=n;i<a.length&&(o=a[i].priority<a[o].priority?i:o,r<a.length&&(o=a[r].priority<a[o].priority?r:o),o!==n&&(this._swap(n,o),this._heapify(o)))},e.prototype._decrease=function(n){for(var a=this._arr,i=a[n].priority,r;n!==0&&(r=n>>1,!(a[r].priority<i));)this._swap(n,r),n=r},e.prototype._swap=function(n,a){var i=this._arr,r=this._keyIndices,o=i[n],s=i[a];i[n]=s,i[a]=o,r[s.key]=n,r[o.key]=a},Ek}var Ak,rW;function Aae(){if(rW)return Ak;rW=1;var t=dc(),e=Eae();Ak=a;var n=t.constant(1);function a(r,o,s,c){return i(r,String(o),s||n,c||function(u){return r.outEdges(u)})}function i(r,o,s,c){var u={},d=new e,h,m,g=function(y){var v=y.v!==h?y.v:y.w,S=u[v],w=s(y),_=m.distance+w;if(w<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+y+" Weight: "+w);_<S.distance&&(S.distance=_,S.predecessor=h,d.decrease(v,_))};for(r.nodes().forEach(function(y){var v=y===o?0:Number.POSITIVE_INFINITY;u[y]={distance:v},d.add(y,v)});d.size()>0&&(h=d.removeMin(),m=u[h],m.distance!==Number.POSITIVE_INFINITY);)c(h).forEach(g);return u}return Ak}var Rk,oW;function cot(){if(oW)return Rk;oW=1;var t=Aae(),e=dc();Rk=n;function n(a,i,r){return e.transform(a.nodes(),function(o,s){o[s]=t(a,s,i,r)},{})}return Rk}var kk,sW;function Rae(){if(sW)return kk;sW=1;var t=dc();kk=e;function e(n){var a=0,i=[],r={},o=[];function s(c){var u=r[c]={onStack:!0,lowlink:a,index:a++};if(i.push(c),n.successors(c).forEach(function(m){t.has(r,m)?r[m].onStack&&(u.lowlink=Math.min(u.lowlink,r[m].index)):(s(m),u.lowlink=Math.min(u.lowlink,r[m].lowlink))}),u.lowlink===u.index){var d=[],h;do h=i.pop(),r[h].onStack=!1,d.push(h);while(c!==h);o.push(d)}}return n.nodes().forEach(function(c){t.has(r,c)||s(c)}),o}return kk}var Ik,lW;function uot(){if(lW)return Ik;lW=1;var t=dc(),e=Rae();Ik=n;function n(a){return t.filter(e(a),function(i){return i.length>1||i.length===1&&a.hasEdge(i[0],i[0])})}return Ik}var Nk,cW;function dot(){if(cW)return Nk;cW=1;var t=dc();Nk=n;var e=t.constant(1);function n(i,r,o){return a(i,r||e,o||function(s){return i.outEdges(s)})}function a(i,r,o){var s={},c=i.nodes();return c.forEach(function(u){s[u]={},s[u][u]={distance:0},c.forEach(function(d){u!==d&&(s[u][d]={distance:Number.POSITIVE_INFINITY})}),o(u).forEach(function(d){var h=d.v===u?d.w:d.v,m=r(d);s[u][h]={distance:m,predecessor:u}})}),c.forEach(function(u){var d=s[u];c.forEach(function(h){var m=s[h];c.forEach(function(g){var y=m[u],v=d[g],S=m[g],w=y.distance+v.distance;w<S.distance&&(S.distance=w,S.predecessor=v.predecessor)})})}),s}return Nk}var jk,uW;function kae(){if(uW)return jk;uW=1;var t=dc();jk=e,e.CycleException=n;function e(a){var i={},r={},o=[];function s(c){if(t.has(r,c))throw new n;t.has(i,c)||(r[c]=!0,i[c]=!0,t.each(a.predecessors(c),s),delete r[c],o.push(c))}if(t.each(a.sinks(),s),t.size(i)!==a.nodeCount())throw new n;return o}function n(){}return n.prototype=new Error,jk}var Dk,dW;function fot(){if(dW)return Dk;dW=1;var t=kae();Dk=e;function e(n){try{t(n)}catch(a){if(a instanceof t.CycleException)return!1;throw a}return!0}return Dk}var Ok,fW;function Iae(){if(fW)return Ok;fW=1;var t=dc();Ok=e;function e(a,i,r){t.isArray(i)||(i=[i]);var o=(a.isDirected()?a.successors:a.neighbors).bind(a),s=[],c={};return t.each(i,function(u){if(!a.hasNode(u))throw new Error("Graph does not have node: "+u);n(a,u,r==="post",c,o,s)}),s}function n(a,i,r,o,s,c){t.has(o,i)||(o[i]=!0,r||c.push(i),t.each(s(i),function(u){n(a,u,r,o,s,c)}),r&&c.push(i))}return Ok}var Mk,hW;function hot(){if(hW)return Mk;hW=1;var t=Iae();Mk=e;function e(n,a){return t(n,a,"post")}return Mk}var Pk,pW;function pot(){if(pW)return Pk;pW=1;var t=Iae();Pk=e;function e(n,a){return t(n,a,"pre")}return Pk}var Lk,mW;function mot(){if(mW)return Lk;mW=1;var t=dc(),e=_O(),n=Eae();Lk=a;function a(i,r){var o=new e,s={},c=new n,u;function d(m){var g=m.v===u?m.w:m.v,y=c.priority(g);if(y!==void 0){var v=r(m);v<y&&(s[g]=u,c.decrease(g,v))}}if(i.nodeCount()===0)return o;t.each(i.nodes(),function(m){c.add(m,Number.POSITIVE_INFINITY),o.setNode(m)}),c.decrease(i.nodes()[0],0);for(var h=!1;c.size()>0;){if(u=c.removeMin(),t.has(s,u))o.setEdge(u,s[u]);else{if(h)throw new Error("Input graph is not connected: "+i);h=!0}i.nodeEdges(u).forEach(d)}return o}return Lk}var zk,gW;function got(){return gW||(gW=1,zk={components:lot(),dijkstra:Aae(),dijkstraAll:cot(),findCycles:uot(),floydWarshall:dot(),isAcyclic:fot(),postorder:hot(),preorder:pot(),prim:mot(),tarjan:Rae(),topsort:kae()}),zk}var Fk,bW;function bot(){if(bW)return Fk;bW=1;var t=oot();return Fk={Graph:t.Graph,json:sot(),alg:got(),version:t.version},Fk}var Bk,yW;function Yc(){if(yW)return Bk;yW=1;var t;if(typeof lO=="function")try{t=bot()}catch{}return t||(t=window.graphlib),Bk=t,Bk}var Hk,xW;function yot(){if(xW)return Hk;xW=1;var t=tae(),e=1,n=4;function a(i){return t(i,e|n)}return Hk=a,Hk}var $k,vW;function tT(){if(vW)return $k;vW=1;var t=qb(),e=kf(),n=W5(),a=uc();function i(r,o,s){if(!a(s))return!1;var c=typeof o;return(c=="number"?e(s)&&n(o,s.length):c=="string"&&o in s)?t(s[o],r):!1}return $k=i,$k}var Uk,SW;function xot(){if(SW)return Uk;SW=1;var t=eT(),e=qb(),n=tT(),a=Bg(),i=Object.prototype,r=i.hasOwnProperty,o=t(function(s,c){s=Object(s);var u=-1,d=c.length,h=d>2?c[2]:void 0;for(h&&n(c[0],c[1],h)&&(d=1);++u<d;)for(var m=c[u],g=a(m),y=-1,v=g.length;++y<v;){var S=g[y],w=s[S];(w===void 0||e(w,i[S])&&!r.call(s,S))&&(s[S]=m[S])}return s});return Uk=o,Uk}var Gk,CW;function vot(){if(CW)return Gk;CW=1;var t=If(),e=kf(),n=kp();function a(i){return function(r,o,s){var c=Object(r);if(!e(r)){var u=t(o,3);r=n(r),o=function(h){return u(c[h],h,c)}}var d=i(r,o,s);return d>-1?c[u?r[d]:d]:void 0}}return Gk=a,Gk}var qk,wW;function Sot(){if(wW)return qk;wW=1;var t=/\s/;function e(n){for(var a=n.length;a--&&t.test(n.charAt(a)););return a}return qk=e,qk}var Wk,_W;function Cot(){if(_W)return Wk;_W=1;var t=Sot(),e=/^\s+/;function n(a){return a&&a.slice(0,t(a)+1).replace(e,"")}return Wk=n,Wk}var Vk,TW;function wot(){if(TW)return Vk;TW=1;var t=Cot(),e=uc(),n=Kb(),a=NaN,i=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function c(u){if(typeof u=="number")return u;if(n(u))return a;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var h=r.test(u);return h||o.test(u)?s(u.slice(2),h?2:8):i.test(u)?a:+u}return Vk=c,Vk}var Yk,EW;function Nae(){if(EW)return Yk;EW=1;var t=wot(),e=1/0,n=17976931348623157e292;function a(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var r=i<0?-1:1;return r*n}return i===i?i:0}return Yk=a,Yk}var Kk,AW;function _ot(){if(AW)return Kk;AW=1;var t=Nae();function e(n){var a=t(n),i=a%1;return a===a?i?a-i:a:0}return Kk=e,Kk}var Xk,RW;function Tot(){if(RW)return Xk;RW=1;var t=wae(),e=If(),n=_ot(),a=Math.max;function i(r,o,s){var c=r==null?0:r.length;if(!c)return-1;var u=s==null?0:n(s);return u<0&&(u=a(c+u,0)),t(r,e(o,3),u)}return Xk=i,Xk}var Qk,kW;function Eot(){if(kW)return Qk;kW=1;var t=vot(),e=Tot(),n=t(e);return Qk=n,Qk}var Zk,IW;function jae(){if(IW)return Zk;IW=1;var t=wO();function e(n){var a=n==null?0:n.length;return a?t(n,1):[]}return Zk=e,Zk}var Jk,NW;function Aot(){if(NW)return Jk;NW=1;var t=xO(),e=nae(),n=Bg();function a(i,r){return i==null?i:t(i,e(r),n)}return Jk=a,Jk}var e9,jW;function Rot(){if(jW)return e9;jW=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return e9=t,e9}var t9,DW;function kot(){if(DW)return t9;DW=1;var t=G5(),e=vO(),n=If();function a(i,r){var o={};return r=n(r,3),e(i,function(s,c,u){t(o,c,r(s,c,u))}),o}return t9=a,t9}var n9,OW;function TO(){if(OW)return n9;OW=1;var t=Kb();function e(n,a,i){for(var r=-1,o=n.length;++r<o;){var s=n[r],c=a(s);if(c!=null&&(u===void 0?c===c&&!t(c):i(c,u)))var u=c,d=s}return d}return n9=e,n9}var a9,MW;function Iot(){if(MW)return a9;MW=1;function t(e,n){return e>n}return a9=t,a9}var i9,PW;function Not(){if(PW)return i9;PW=1;var t=TO(),e=Iot(),n=Hg();function a(i){return i&&i.length?t(i,n,e):void 0}return i9=a,i9}var r9,LW;function Dae(){if(LW)return r9;LW=1;var t=G5(),e=qb();function n(a,i,r){(r!==void 0&&!e(a[i],r)||r===void 0&&!(i in a))&&t(a,i,r)}return r9=n,r9}var o9,zW;function jot(){if(zW)return o9;zW=1;var t=zg(),e=K5(),n=hd(),a="[object Object]",i=Function.prototype,r=Object.prototype,o=i.toString,s=r.hasOwnProperty,c=o.call(Object);function u(d){if(!n(d)||t(d)!=a)return!1;var h=e(d);if(h===null)return!0;var m=s.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==c}return o9=u,o9}var s9,FW;function Oae(){if(FW)return s9;FW=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return s9=t,s9}var l9,BW;function Dot(){if(BW)return l9;BW=1;var t=OS(),e=Bg();function n(a){return t(a,e(a))}return l9=n,l9}var c9,HW;function Oot(){if(HW)return c9;HW=1;var t=Dae(),e=Une(),n=Zne(),a=Gne(),i=eae(),r=MS(),o=Cr(),s=_ae(),c=Vb(),u=DS(),d=uc(),h=jot(),m=PS(),g=Oae(),y=Dot();function v(S,w,_,T,A,R,I){var N=g(S,_),P=g(w,_),O=I.get(P);if(O){t(S,_,O);return}var D=R?R(N,P,_+"",S,w,I):void 0,H=D===void 0;if(H){var L=o(P),$=!L&&c(P),M=!L&&!$&&m(P);D=P,L||$||M?o(N)?D=N:s(N)?D=a(N):$?(H=!1,D=e(P,!0)):M?(H=!1,D=n(P,!0)):D=[]:h(P)||r(P)?(D=N,r(N)?D=y(N):(!d(N)||u(N))&&(D=i(P))):H=!1}H&&(I.set(P,D),A(D,P,T,R,I),I.delete(P)),t(S,_,D)}return c9=v,c9}var u9,$W;function Mot(){if($W)return u9;$W=1;var t=U5(),e=Dae(),n=xO(),a=Oot(),i=uc(),r=Bg(),o=Oae();function s(c,u,d,h,m){c!==u&&n(u,function(g,y){if(m||(m=new t),i(g))a(c,u,y,d,s,h,m);else{var v=h?h(o(c,y),g,y+"",c,u,m):void 0;v===void 0&&(v=g),e(c,y,v)}},r)}return u9=s,u9}var d9,UW;function Pot(){if(UW)return d9;UW=1;var t=eT(),e=tT();function n(a){return t(function(i,r){var o=-1,s=r.length,c=s>1?r[s-1]:void 0,u=s>2?r[2]:void 0;for(c=a.length>3&&typeof c=="function"?(s--,c):void 0,u&&e(r[0],r[1],u)&&(c=s<3?void 0:c,s=1),i=Object(i);++o<s;){var d=r[o];d&&a(i,d,o,c)}return i})}return d9=n,d9}var f9,GW;function Lot(){if(GW)return f9;GW=1;var t=Mot(),e=Pot(),n=e(function(a,i,r){t(a,i,r)});return f9=n,f9}var h9,qW;function Mae(){if(qW)return h9;qW=1;function t(e,n){return e<n}return h9=t,h9}var p9,WW;function zot(){if(WW)return p9;WW=1;var t=TO(),e=Mae(),n=Hg();function a(i){return i&&i.length?t(i,n,e):void 0}return p9=a,p9}var m9,VW;function Fot(){if(VW)return m9;VW=1;var t=TO(),e=If(),n=Mae();function a(i,r){return i&&i.length?t(i,e(r,2),n):void 0}return m9=a,m9}var g9,YW;function Bot(){if(YW)return g9;YW=1;var t=iu(),e=function(){return t.Date.now()};return g9=e,g9}var b9,KW;function Hot(){if(KW)return b9;KW=1;var t=q5(),e=Z5(),n=W5(),a=uc(),i=LS();function r(o,s,c,u){if(!a(o))return o;s=e(s,o);for(var d=-1,h=s.length,m=h-1,g=o;g!=null&&++d<h;){var y=i(s[d]),v=c;if(y==="__proto__"||y==="constructor"||y==="prototype")return o;if(d!=m){var S=g[y];v=u?u(S,y,g):void 0,v===void 0&&(v=a(S)?S:n(s[d+1])?[]:{})}t(g,y,v),g=g[y]}return o}return b9=r,b9}var y9,XW;function $ot(){if(XW)return y9;XW=1;var t=J5(),e=Hot(),n=Z5();function a(i,r,o){for(var s=-1,c=r.length,u={};++s<c;){var d=r[s],h=t(i,d);o(h,d)&&e(u,n(d,i),h)}return u}return y9=a,y9}var x9,QW;function Uot(){if(QW)return x9;QW=1;var t=$ot(),e=hae();function n(a,i){return t(a,i,function(r,o){return e(a,o)})}return x9=n,x9}var v9,ZW;function Got(){if(ZW)return v9;ZW=1;var t=jae(),e=Sae(),n=Cae();function a(i){return n(e(i,void 0,t),i+"")}return v9=a,v9}var S9,JW;function qot(){if(JW)return S9;JW=1;var t=Uot(),e=Got(),n=e(function(a,i){return a==null?{}:t(a,i)});return S9=n,S9}var C9,eV;function Wot(){if(eV)return C9;eV=1;var t=Math.ceil,e=Math.max;function n(a,i,r,o){for(var s=-1,c=e(t((i-a)/(r||1)),0),u=Array(c);c--;)u[o?c:++s]=a,a+=r;return u}return C9=n,C9}var w9,tV;function Vot(){if(tV)return w9;tV=1;var t=Wot(),e=tT(),n=Nae();function a(i){return function(r,o,s){return s&&typeof s!="number"&&e(r,o,s)&&(o=s=void 0),r=n(r),o===void 0?(o=r,r=0):o=n(o),s=s===void 0?r<o?1:-1:n(s),t(r,o,s,i)}}return w9=a,w9}var _9,nV;function Yot(){if(nV)return _9;nV=1;var t=Vot(),e=t();return _9=e,_9}var T9,aV;function Kot(){if(aV)return T9;aV=1;function t(e,n){var a=e.length;for(e.sort(n);a--;)e[a]=e[a].value;return e}return T9=t,T9}var E9,iV;function Xot(){if(iV)return E9;iV=1;var t=Kb();function e(n,a){if(n!==a){var i=n!==void 0,r=n===null,o=n===n,s=t(n),c=a!==void 0,u=a===null,d=a===a,h=t(a);if(!u&&!h&&!s&&n>a||s&&c&&d&&!u&&!h||r&&c&&d||!i&&d||!o)return 1;if(!r&&!s&&!h&&n<a||h&&i&&o&&!r&&!s||u&&i&&o||!c&&o||!d)return-1}return 0}return E9=e,E9}var A9,rV;function Qot(){if(rV)return A9;rV=1;var t=Xot();function e(n,a,i){for(var r=-1,o=n.criteria,s=a.criteria,c=o.length,u=i.length;++r<c;){var d=t(o[r],s[r]);if(d){if(r>=u)return d;var h=i[r];return d*(h=="desc"?-1:1)}}return n.index-a.index}return A9=e,A9}var R9,oV;function Zot(){if(oV)return R9;oV=1;var t=Q5(),e=J5(),n=If(),a=yae(),i=Kot(),r=V5(),o=Qot(),s=Hg(),c=Cr();function u(d,h,m){h.length?h=t(h,function(v){return c(v)?function(S){return e(S,v.length===1?v[0]:v)}:v}):h=[s];var g=-1;h=t(h,r(n));var y=a(d,function(v,S,w){var _=t(h,function(T){return T(v)});return{criteria:_,index:++g,value:v}});return i(y,function(v,S){return o(v,S,m)})}return R9=u,R9}var k9,sV;function Jot(){if(sV)return k9;sV=1;var t=wO(),e=Zot(),n=eT(),a=tT(),i=n(function(r,o){if(r==null)return[];var s=o.length;return s>1&&a(r,o[0],o[1])?o=[]:s>2&&a(o[0],o[1],o[2])&&(o=[o[0]]),e(r,t(o,1),[])});return k9=i,k9}var I9,lV;function est(){if(lV)return I9;lV=1;var t=dae(),e=0;function n(a){var i=++e;return t(a)+i}return I9=n,I9}var N9,cV;function tst(){if(cV)return N9;cV=1;function t(e,n,a){for(var i=-1,r=e.length,o=n.length,s={};++i<r;){var c=i<o?n[i]:void 0;a(s,e[i],c)}return s}return N9=t,N9}var j9,uV;function nst(){if(uV)return j9;uV=1;var t=q5(),e=tst();function n(a,i){return e(a||[],i||[],t)}return j9=n,j9}var D9,dV;function Ni(){if(dV)return D9;dV=1;var t;if(typeof lO=="function")try{t={cloneDeep:yot(),constant:yO(),defaults:xot(),each:iae(),filter:mae(),find:Eot(),flatten:jae(),forEach:aae(),forIn:Aot(),has:gae(),isUndefined:bae(),last:Rot(),map:xae(),mapValues:kot(),max:Not(),merge:Lot(),min:zot(),minBy:Fot(),now:Bot(),pick:qot(),range:Yot(),reduce:vae(),sortBy:Jot(),uniqueId:est(),values:Tae(),zipObject:nst()}}catch{}return t||(t=window._),D9=t,D9}var O9,fV;function ast(){if(fV)return O9;fV=1,O9=t;function t(){var a={};a._next=a._prev=a,this._sentinel=a}t.prototype.dequeue=function(){var a=this._sentinel,i=a._prev;if(i!==a)return e(i),i},t.prototype.enqueue=function(a){var i=this._sentinel;a._prev&&a._next&&e(a),a._next=i._next,i._next._prev=a,i._next=a,a._prev=i},t.prototype.toString=function(){for(var a=[],i=this._sentinel,r=i._prev;r!==i;)a.push(JSON.stringify(r,n)),r=r._prev;return"["+a.join(", ")+"]"};function e(a){a._prev._next=a._next,a._next._prev=a._prev,delete a._next,delete a._prev}function n(a,i){if(a!=="_next"&&a!=="_prev")return i}return O9}var M9,hV;function ist(){if(hV)return M9;hV=1;var t=Ni(),e=Yc().Graph,n=ast();M9=i;var a=t.constant(1);function i(u,d){if(u.nodeCount()<=1)return[];var h=s(u,d||a),m=r(h.graph,h.buckets,h.zeroIdx);return t.flatten(t.map(m,function(g){return u.outEdges(g.v,g.w)}),!0)}function r(u,d,h){for(var m=[],g=d[d.length-1],y=d[0],v;u.nodeCount();){for(;v=y.dequeue();)o(u,d,h,v);for(;v=g.dequeue();)o(u,d,h,v);if(u.nodeCount()){for(var S=d.length-2;S>0;--S)if(v=d[S].dequeue(),v){m=m.concat(o(u,d,h,v,!0));break}}}return m}function o(u,d,h,m,g){var y=g?[]:void 0;return t.forEach(u.inEdges(m.v),function(v){var S=u.edge(v),w=u.node(v.v);g&&y.push({v:v.v,w:v.w}),w.out-=S,c(d,h,w)}),t.forEach(u.outEdges(m.v),function(v){var S=u.edge(v),w=v.w,_=u.node(w);_.in-=S,c(d,h,_)}),u.removeNode(m.v),y}function s(u,d){var h=new e,m=0,g=0;t.forEach(u.nodes(),function(S){h.setNode(S,{v:S,in:0,out:0})}),t.forEach(u.edges(),function(S){var w=h.edge(S.v,S.w)||0,_=d(S),T=w+_;h.setEdge(S.v,S.w,T),g=Math.max(g,h.node(S.v).out+=_),m=Math.max(m,h.node(S.w).in+=_)});var y=t.range(g+m+3).map(function(){return new n}),v=m+1;return t.forEach(h.nodes(),function(S){c(y,v,h.node(S))}),{graph:h,buckets:y,zeroIdx:v}}function c(u,d,h){h.out?h.in?u[h.out-h.in+d].enqueue(h):u[u.length-1].enqueue(h):u[0].enqueue(h)}return M9}var P9,pV;function rst(){if(pV)return P9;pV=1;var t=Ni(),e=ist();P9={run:n,undo:i};function n(r){var o=r.graph().acyclicer==="greedy"?e(r,s(r)):a(r);t.forEach(o,function(c){var u=r.edge(c);r.removeEdge(c),u.forwardName=c.name,u.reversed=!0,r.setEdge(c.w,c.v,u,t.uniqueId("rev"))});function s(c){return function(u){return c.edge(u).weight}}}function a(r){var o=[],s={},c={};function u(d){t.has(c,d)||(c[d]=!0,s[d]=!0,t.forEach(r.outEdges(d),function(h){t.has(s,h.w)?o.push(h):u(h.w)}),delete s[d])}return t.forEach(r.nodes(),u),o}function i(r){t.forEach(r.edges(),function(o){var s=r.edge(o);if(s.reversed){r.removeEdge(o);var c=s.forwardName;delete s.reversed,delete s.forwardName,r.setEdge(o.w,o.v,s,c)}})}return P9}var L9,mV;function Ds(){if(mV)return L9;mV=1;var t=Ni(),e=Yc().Graph;L9={addDummyNode:n,simplify:a,asNonCompoundGraph:i,successorWeights:r,predecessorWeights:o,intersectRect:s,buildLayerMatrix:c,normalizeRanks:u,removeEmptyRanks:d,addBorderNode:h,maxRank:m,partition:g,time:y,notime:v};function n(S,w,_,T){var A;do A=t.uniqueId(T);while(S.hasNode(A));return _.dummy=w,S.setNode(A,_),A}function a(S){var w=new e().setGraph(S.graph());return t.forEach(S.nodes(),function(_){w.setNode(_,S.node(_))}),t.forEach(S.edges(),function(_){var T=w.edge(_.v,_.w)||{weight:0,minlen:1},A=S.edge(_);w.setEdge(_.v,_.w,{weight:T.weight+A.weight,minlen:Math.max(T.minlen,A.minlen)})}),w}function i(S){var w=new e({multigraph:S.isMultigraph()}).setGraph(S.graph());return t.forEach(S.nodes(),function(_){S.children(_).length||w.setNode(_,S.node(_))}),t.forEach(S.edges(),function(_){w.setEdge(_,S.edge(_))}),w}function r(S){var w=t.map(S.nodes(),function(_){var T={};return t.forEach(S.outEdges(_),function(A){T[A.w]=(T[A.w]||0)+S.edge(A).weight}),T});return t.zipObject(S.nodes(),w)}function o(S){var w=t.map(S.nodes(),function(_){var T={};return t.forEach(S.inEdges(_),function(A){T[A.v]=(T[A.v]||0)+S.edge(A).weight}),T});return t.zipObject(S.nodes(),w)}function s(S,w){var _=S.x,T=S.y,A=w.x-_,R=w.y-T,I=S.width/2,N=S.height/2;if(!A&&!R)throw new Error("Not possible to find intersection inside of the rectangle");var P,O;return Math.abs(R)*I>Math.abs(A)*N?(R<0&&(N=-N),P=N*A/R,O=N):(A<0&&(I=-I),P=I,O=I*R/A),{x:_+P,y:T+O}}function c(S){var w=t.map(t.range(m(S)+1),function(){return[]});return t.forEach(S.nodes(),function(_){var T=S.node(_),A=T.rank;t.isUndefined(A)||(w[A][T.order]=_)}),w}function u(S){var w=t.min(t.map(S.nodes(),function(_){return S.node(_).rank}));t.forEach(S.nodes(),function(_){var T=S.node(_);t.has(T,"rank")&&(T.rank-=w)})}function d(S){var w=t.min(t.map(S.nodes(),function(R){return S.node(R).rank})),_=[];t.forEach(S.nodes(),function(R){var I=S.node(R).rank-w;_[I]||(_[I]=[]),_[I].push(R)});var T=0,A=S.graph().nodeRankFactor;t.forEach(_,function(R,I){t.isUndefined(R)&&I%A!==0?--T:T&&t.forEach(R,function(N){S.node(N).rank+=T})})}function h(S,w,_,T){var A={width:0,height:0};return arguments.length>=4&&(A.rank=_,A.order=T),n(S,"border",A,w)}function m(S){return t.max(t.map(S.nodes(),function(w){var _=S.node(w).rank;if(!t.isUndefined(_))return _}))}function g(S,w){var _={lhs:[],rhs:[]};return t.forEach(S,function(T){w(T)?_.lhs.push(T):_.rhs.push(T)}),_}function y(S,w){var _=t.now();try{return w()}finally{console.log(S+" time: "+(t.now()-_)+"ms")}}function v(S,w){return w()}return L9}var z9,gV;function ost(){if(gV)return z9;gV=1;var t=Ni(),e=Ds();z9={run:n,undo:i};function n(r){r.graph().dummyChains=[],t.forEach(r.edges(),function(o){a(r,o)})}function a(r,o){var s=o.v,c=r.node(s).rank,u=o.w,d=r.node(u).rank,h=o.name,m=r.edge(o),g=m.labelRank;if(d!==c+1){r.removeEdge(o);var y,v,S;for(S=0,++c;c<d;++S,++c)m.points=[],v={width:0,height:0,edgeLabel:m,edgeObj:o,rank:c},y=e.addDummyNode(r,"edge",v,"_d"),c===g&&(v.width=m.width,v.height=m.height,v.dummy="edge-label",v.labelpos=m.labelpos),r.setEdge(s,y,{weight:m.weight},h),S===0&&r.graph().dummyChains.push(y),s=y;r.setEdge(s,u,{weight:m.weight},h)}}function i(r){t.forEach(r.graph().dummyChains,function(o){var s=r.node(o),c=s.edgeLabel,u;for(r.setEdge(s.edgeObj,c);s.dummy;)u=r.successors(o)[0],r.removeNode(o),c.points.push({x:s.x,y:s.y}),s.dummy==="edge-label"&&(c.x=s.x,c.y=s.y,c.width=s.width,c.height=s.height),o=u,s=r.node(o)})}return z9}var F9,bV;function y_(){if(bV)return F9;bV=1;var t=Ni();F9={longestPath:e,slack:n};function e(a){var i={};function r(o){var s=a.node(o);if(t.has(i,o))return s.rank;i[o]=!0;var c=t.min(t.map(a.outEdges(o),function(u){return r(u.w)-a.edge(u).minlen}));return(c===Number.POSITIVE_INFINITY||c===void 0||c===null)&&(c=0),s.rank=c}t.forEach(a.sources(),r)}function n(a,i){return a.node(i.w).rank-a.node(i.v).rank-a.edge(i).minlen}return F9}var B9,yV;function Pae(){if(yV)return B9;yV=1;var t=Ni(),e=Yc().Graph,n=y_().slack;B9=a;function a(s){var c=new e({directed:!1}),u=s.nodes()[0],d=s.nodeCount();c.setNode(u,{});for(var h,m;i(c,s)<d;)h=r(c,s),m=c.hasNode(h.v)?n(s,h):-n(s,h),o(c,s,m);return c}function i(s,c){function u(d){t.forEach(c.nodeEdges(d),function(h){var m=h.v,g=d===m?h.w:m;!s.hasNode(g)&&!n(c,h)&&(s.setNode(g,{}),s.setEdge(d,g,{}),u(g))})}return t.forEach(s.nodes(),u),s.nodeCount()}function r(s,c){return t.minBy(c.edges(),function(u){if(s.hasNode(u.v)!==s.hasNode(u.w))return n(c,u)})}function o(s,c,u){t.forEach(s.nodes(),function(d){c.node(d).rank+=u})}return B9}var H9,xV;function sst(){if(xV)return H9;xV=1;var t=Ni(),e=Pae(),n=y_().slack,a=y_().longestPath,i=Yc().alg.preorder,r=Yc().alg.postorder,o=Ds().simplify;H9=s,s.initLowLimValues=h,s.initCutValues=c,s.calcCutValue=d,s.leaveEdge=g,s.enterEdge=y,s.exchangeEdges=v;function s(T){T=o(T),a(T);var A=e(T);h(A),c(A,T);for(var R,I;R=g(A);)I=y(A,T,R),v(A,T,R,I)}function c(T,A){var R=r(T,T.nodes());R=R.slice(0,R.length-1),t.forEach(R,function(I){u(T,A,I)})}function u(T,A,R){var I=T.node(R),N=I.parent;T.edge(R,N).cutvalue=d(T,A,R)}function d(T,A,R){var I=T.node(R),N=I.parent,P=!0,O=A.edge(R,N),D=0;return O||(P=!1,O=A.edge(N,R)),D=O.weight,t.forEach(A.nodeEdges(R),function(H){var L=H.v===R,$=L?H.w:H.v;if($!==N){var M=L===P,z=A.edge(H).weight;if(D+=M?z:-z,w(T,R,$)){var F=T.edge(R,$).cutvalue;D+=M?-F:F}}}),D}function h(T,A){arguments.length<2&&(A=T.nodes()[0]),m(T,{},1,A)}function m(T,A,R,I,N){var P=R,O=T.node(I);return A[I]=!0,t.forEach(T.neighbors(I),function(D){t.has(A,D)||(R=m(T,A,R,D,I))}),O.low=P,O.lim=R++,N?O.parent=N:delete O.parent,R}function g(T){return t.find(T.edges(),function(A){return T.edge(A).cutvalue<0})}function y(T,A,R){var I=R.v,N=R.w;A.hasEdge(I,N)||(I=R.w,N=R.v);var P=T.node(I),O=T.node(N),D=P,H=!1;P.lim>O.lim&&(D=O,H=!0);var L=t.filter(A.edges(),function($){return H===_(T,T.node($.v),D)&&H!==_(T,T.node($.w),D)});return t.minBy(L,function($){return n(A,$)})}function v(T,A,R,I){var N=R.v,P=R.w;T.removeEdge(N,P),T.setEdge(I.v,I.w,{}),h(T),c(T,A),S(T,A)}function S(T,A){var R=t.find(T.nodes(),function(N){return!A.node(N).parent}),I=i(T,R);I=I.slice(1),t.forEach(I,function(N){var P=T.node(N).parent,O=A.edge(N,P),D=!1;O||(O=A.edge(P,N),D=!0),A.node(N).rank=A.node(P).rank+(D?O.minlen:-O.minlen)})}function w(T,A,R){return T.hasEdge(A,R)}function _(T,A,R){return R.low<=A.lim&&A.lim<=R.lim}return H9}var $9,vV;function lst(){if(vV)return $9;vV=1;var t=y_(),e=t.longestPath,n=Pae(),a=sst();$9=i;function i(c){switch(c.graph().ranker){case"network-simplex":s(c);break;case"tight-tree":o(c);break;case"longest-path":r(c);break;default:s(c)}}var r=e;function o(c){e(c),n(c)}function s(c){a(c)}return $9}var U9,SV;function cst(){if(SV)return U9;SV=1;var t=Ni();U9=e;function e(i){var r=a(i);t.forEach(i.graph().dummyChains,function(o){for(var s=i.node(o),c=s.edgeObj,u=n(i,r,c.v,c.w),d=u.path,h=u.lca,m=0,g=d[m],y=!0;o!==c.w;){if(s=i.node(o),y){for(;(g=d[m])!==h&&i.node(g).maxRank<s.rank;)m++;g===h&&(y=!1)}if(!y){for(;m<d.length-1&&i.node(g=d[m+1]).minRank<=s.rank;)m++;g=d[m]}i.setParent(o,g),o=i.successors(o)[0]}})}function n(i,r,o,s){var c=[],u=[],d=Math.min(r[o].low,r[s].low),h=Math.max(r[o].lim,r[s].lim),m,g;m=o;do m=i.parent(m),c.push(m);while(m&&(r[m].low>d||h>r[m].lim));for(g=m,m=s;(m=i.parent(m))!==g;)u.push(m);return{path:c.concat(u.reverse()),lca:g}}function a(i){var r={},o=0;function s(c){var u=o;t.forEach(i.children(c),s),r[c]={low:u,lim:o++}}return t.forEach(i.children(),s),r}return U9}var G9,CV;function ust(){if(CV)return G9;CV=1;var t=Ni(),e=Ds();G9={run:n,cleanup:o};function n(s){var c=e.addDummyNode(s,"root",{},"_root"),u=i(s),d=t.max(t.values(u))-1,h=2*d+1;s.graph().nestingRoot=c,t.forEach(s.edges(),function(g){s.edge(g).minlen*=h});var m=r(s)+1;t.forEach(s.children(),function(g){a(s,c,h,m,d,u,g)}),s.graph().nodeRankFactor=h}function a(s,c,u,d,h,m,g){var y=s.children(g);if(!y.length){g!==c&&s.setEdge(c,g,{weight:0,minlen:u});return}var v=e.addBorderNode(s,"_bt"),S=e.addBorderNode(s,"_bb"),w=s.node(g);s.setParent(v,g),w.borderTop=v,s.setParent(S,g),w.borderBottom=S,t.forEach(y,function(_){a(s,c,u,d,h,m,_);var T=s.node(_),A=T.borderTop?T.borderTop:_,R=T.borderBottom?T.borderBottom:_,I=T.borderTop?d:2*d,N=A!==R?1:h-m[g]+1;s.setEdge(v,A,{weight:I,minlen:N,nestingEdge:!0}),s.setEdge(R,S,{weight:I,minlen:N,nestingEdge:!0})}),s.parent(g)||s.setEdge(c,v,{weight:0,minlen:h+m[g]})}function i(s){var c={};function u(d,h){var m=s.children(d);m&&m.length&&t.forEach(m,function(g){u(g,h+1)}),c[d]=h}return t.forEach(s.children(),function(d){u(d,1)}),c}function r(s){return t.reduce(s.edges(),function(c,u){return c+s.edge(u).weight},0)}function o(s){var c=s.graph();s.removeNode(c.nestingRoot),delete c.nestingRoot,t.forEach(s.edges(),function(u){var d=s.edge(u);d.nestingEdge&&s.removeEdge(u)})}return G9}var q9,wV;function dst(){if(wV)return q9;wV=1;var t=Ni(),e=Ds();q9=n;function n(i){function r(o){var s=i.children(o),c=i.node(o);if(s.length&&t.forEach(s,r),t.has(c,"minRank")){c.borderLeft=[],c.borderRight=[];for(var u=c.minRank,d=c.maxRank+1;u<d;++u)a(i,"borderLeft","_bl",o,c,u),a(i,"borderRight","_br",o,c,u)}}t.forEach(i.children(),r)}function a(i,r,o,s,c,u){var d={width:0,height:0,rank:u,borderType:r},h=c[r][u-1],m=e.addDummyNode(i,"border",d,o);c[r][u]=m,i.setParent(m,s),h&&i.setEdge(h,m,{weight:1})}return q9}var W9,_V;function fst(){if(_V)return W9;_V=1;var t=Ni();W9={adjust:e,undo:n};function e(u){var d=u.graph().rankdir.toLowerCase();(d==="lr"||d==="rl")&&a(u)}function n(u){var d=u.graph().rankdir.toLowerCase();(d==="bt"||d==="rl")&&r(u),(d==="lr"||d==="rl")&&(s(u),a(u))}function a(u){t.forEach(u.nodes(),function(d){i(u.node(d))}),t.forEach(u.edges(),function(d){i(u.edge(d))})}function i(u){var d=u.width;u.width=u.height,u.height=d}function r(u){t.forEach(u.nodes(),function(d){o(u.node(d))}),t.forEach(u.edges(),function(d){var h=u.edge(d);t.forEach(h.points,o),t.has(h,"y")&&o(h)})}function o(u){u.y=-u.y}function s(u){t.forEach(u.nodes(),function(d){c(u.node(d))}),t.forEach(u.edges(),function(d){var h=u.edge(d);t.forEach(h.points,c),t.has(h,"x")&&c(h)})}function c(u){var d=u.x;u.x=u.y,u.y=d}return W9}var V9,TV;function hst(){if(TV)return V9;TV=1;var t=Ni();V9=e;function e(n){var a={},i=t.filter(n.nodes(),function(u){return!n.children(u).length}),r=t.max(t.map(i,function(u){return n.node(u).rank})),o=t.map(t.range(r+1),function(){return[]});function s(u){if(!t.has(a,u)){a[u]=!0;var d=n.node(u);o[d.rank].push(u),t.forEach(n.successors(u),s)}}var c=t.sortBy(i,function(u){return n.node(u).rank});return t.forEach(c,s),o}return V9}var Y9,EV;function pst(){if(EV)return Y9;EV=1;var t=Ni();Y9=e;function e(a,i){for(var r=0,o=1;o<i.length;++o)r+=n(a,i[o-1],i[o]);return r}function n(a,i,r){for(var o=t.zipObject(r,t.map(r,function(m,g){return g})),s=t.flatten(t.map(i,function(m){return t.sortBy(t.map(a.outEdges(m),function(g){return{pos:o[g.w],weight:a.edge(g).weight}}),"pos")}),!0),c=1;c<r.length;)c<<=1;var u=2*c-1;c-=1;var d=t.map(new Array(u),function(){return 0}),h=0;return t.forEach(s.forEach(function(m){var g=m.pos+c;d[g]+=m.weight;for(var y=0;g>0;)g%2&&(y+=d[g+1]),g=g-1>>1,d[g]+=m.weight;h+=m.weight*y})),h}return Y9}var K9,AV;function mst(){if(AV)return K9;AV=1;var t=Ni();K9=e;function e(n,a){return t.map(a,function(i){var r=n.inEdges(i);if(r.length){var o=t.reduce(r,function(s,c){var u=n.edge(c),d=n.node(c.v);return{sum:s.sum+u.weight*d.order,weight:s.weight+u.weight}},{sum:0,weight:0});return{v:i,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:i}})}return K9}var X9,RV;function gst(){if(RV)return X9;RV=1;var t=Ni();X9=e;function e(i,r){var o={};t.forEach(i,function(c,u){var d=o[c.v]={indegree:0,in:[],out:[],vs:[c.v],i:u};t.isUndefined(c.barycenter)||(d.barycenter=c.barycenter,d.weight=c.weight)}),t.forEach(r.edges(),function(c){var u=o[c.v],d=o[c.w];!t.isUndefined(u)&&!t.isUndefined(d)&&(d.indegree++,u.out.push(o[c.w]))});var s=t.filter(o,function(c){return!c.indegree});return n(s)}function n(i){var r=[];function o(u){return function(d){d.merged||(t.isUndefined(d.barycenter)||t.isUndefined(u.barycenter)||d.barycenter>=u.barycenter)&&a(u,d)}}function s(u){return function(d){d.in.push(u),--d.indegree===0&&i.push(d)}}for(;i.length;){var c=i.pop();r.push(c),t.forEach(c.in.reverse(),o(c)),t.forEach(c.out,s(c))}return t.map(t.filter(r,function(u){return!u.merged}),function(u){return t.pick(u,["vs","i","barycenter","weight"])})}function a(i,r){var o=0,s=0;i.weight&&(o+=i.barycenter*i.weight,s+=i.weight),r.weight&&(o+=r.barycenter*r.weight,s+=r.weight),i.vs=r.vs.concat(i.vs),i.barycenter=o/s,i.weight=s,i.i=Math.min(r.i,i.i),r.merged=!0}return X9}var Q9,kV;function bst(){if(kV)return Q9;kV=1;var t=Ni(),e=Ds();Q9=n;function n(r,o){var s=e.partition(r,function(v){return t.has(v,"barycenter")}),c=s.lhs,u=t.sortBy(s.rhs,function(v){return-v.i}),d=[],h=0,m=0,g=0;c.sort(i(!!o)),g=a(d,u,g),t.forEach(c,function(v){g+=v.vs.length,d.push(v.vs),h+=v.barycenter*v.weight,m+=v.weight,g=a(d,u,g)});var y={vs:t.flatten(d,!0)};return m&&(y.barycenter=h/m,y.weight=m),y}function a(r,o,s){for(var c;o.length&&(c=t.last(o)).i<=s;)o.pop(),r.push(c.vs),s++;return s}function i(r){return function(o,s){return o.barycenter<s.barycenter?-1:o.barycenter>s.barycenter?1:r?s.i-o.i:o.i-s.i}}return Q9}var Z9,IV;function yst(){if(IV)return Z9;IV=1;var t=Ni(),e=mst(),n=gst(),a=bst();Z9=i;function i(s,c,u,d){var h=s.children(c),m=s.node(c),g=m?m.borderLeft:void 0,y=m?m.borderRight:void 0,v={};g&&(h=t.filter(h,function(R){return R!==g&&R!==y}));var S=e(s,h);t.forEach(S,function(R){if(s.children(R.v).length){var I=i(s,R.v,u,d);v[R.v]=I,t.has(I,"barycenter")&&o(R,I)}});var w=n(S,u);r(w,v);var _=a(w,d);if(g&&(_.vs=t.flatten([g,_.vs,y],!0),s.predecessors(g).length)){var T=s.node(s.predecessors(g)[0]),A=s.node(s.predecessors(y)[0]);t.has(_,"barycenter")||(_.barycenter=0,_.weight=0),_.barycenter=(_.barycenter*_.weight+T.order+A.order)/(_.weight+2),_.weight+=2}return _}function r(s,c){t.forEach(s,function(u){u.vs=t.flatten(u.vs.map(function(d){return c[d]?c[d].vs:d}),!0)})}function o(s,c){t.isUndefined(s.barycenter)?(s.barycenter=c.barycenter,s.weight=c.weight):(s.barycenter=(s.barycenter*s.weight+c.barycenter*c.weight)/(s.weight+c.weight),s.weight+=c.weight)}return Z9}var J9,NV;function xst(){if(NV)return J9;NV=1;var t=Ni(),e=Yc().Graph;J9=n;function n(i,r,o){var s=a(i),c=new e({compound:!0}).setGraph({root:s}).setDefaultNodeLabel(function(u){return i.node(u)});return t.forEach(i.nodes(),function(u){var d=i.node(u),h=i.parent(u);(d.rank===r||d.minRank<=r&&r<=d.maxRank)&&(c.setNode(u),c.setParent(u,h||s),t.forEach(i[o](u),function(m){var g=m.v===u?m.w:m.v,y=c.edge(g,u),v=t.isUndefined(y)?0:y.weight;c.setEdge(g,u,{weight:i.edge(m).weight+v})}),t.has(d,"minRank")&&c.setNode(u,{borderLeft:d.borderLeft[r],borderRight:d.borderRight[r]}))}),c}function a(i){for(var r;i.hasNode(r=t.uniqueId("_root")););return r}return J9}var eI,jV;function vst(){if(jV)return eI;jV=1;var t=Ni();eI=e;function e(n,a,i){var r={},o;t.forEach(i,function(s){for(var c=n.parent(s),u,d;c;){if(u=n.parent(c),u?(d=r[u],r[u]=c):(d=o,o=c),d&&d!==c){a.setEdge(d,c);return}c=u}})}return eI}var tI,DV;function Sst(){if(DV)return tI;DV=1;var t=Ni(),e=hst(),n=pst(),a=yst(),i=xst(),r=vst(),o=Yc().Graph,s=Ds();tI=c;function c(m){var g=s.maxRank(m),y=u(m,t.range(1,g+1),"inEdges"),v=u(m,t.range(g-1,-1,-1),"outEdges"),S=e(m);h(m,S);for(var w=Number.POSITIVE_INFINITY,_,T=0,A=0;A<4;++T,++A){d(T%2?y:v,T%4>=2),S=s.buildLayerMatrix(m);var R=n(m,S);R<w&&(A=0,_=t.cloneDeep(S),w=R)}h(m,_)}function u(m,g,y){return t.map(g,function(v){return i(m,v,y)})}function d(m,g){var y=new o;t.forEach(m,function(v){var S=v.graph().root,w=a(v,S,y,g);t.forEach(w.vs,function(_,T){v.node(_).order=T}),r(v,y,w.vs)})}function h(m,g){t.forEach(g,function(y){t.forEach(y,function(v,S){m.node(v).order=S})})}return tI}var nI,OV;function Cst(){if(OV)return nI;OV=1;var t=Ni(),e=Yc().Graph,n=Ds();nI={positionX:y,findType1Conflicts:a,findType2Conflicts:i,addConflict:o,hasConflict:s,verticalAlignment:c,horizontalCompaction:u,alignCoordinates:m,findSmallestWidthAlignment:h,balance:g};function a(w,_){var T={};function A(R,I){var N=0,P=0,O=R.length,D=t.last(I);return t.forEach(I,function(H,L){var $=r(w,H),M=$?w.node($).order:O;($||H===D)&&(t.forEach(I.slice(P,L+1),function(z){t.forEach(w.predecessors(z),function(F){var G=w.node(F),ee=G.order;(ee<N||M<ee)&&!(G.dummy&&w.node(z).dummy)&&o(T,F,z)})}),P=L+1,N=M)}),I}return t.reduce(_,A),T}function i(w,_){var T={};function A(I,N,P,O,D){var H;t.forEach(t.range(N,P),function(L){H=I[L],w.node(H).dummy&&t.forEach(w.predecessors(H),function($){var M=w.node($);M.dummy&&(M.order<O||M.order>D)&&o(T,$,H)})})}function R(I,N){var P=-1,O,D=0;return t.forEach(N,function(H,L){if(w.node(H).dummy==="border"){var $=w.predecessors(H);$.length&&(O=w.node($[0]).order,A(N,D,L,P,O),D=L,P=O)}A(N,D,N.length,O,I.length)}),N}return t.reduce(_,R),T}function r(w,_){if(w.node(_).dummy)return t.find(w.predecessors(_),function(T){return w.node(T).dummy})}function o(w,_,T){if(_>T){var A=_;_=T,T=A}var R=w[_];R||(w[_]=R={}),R[T]=!0}function s(w,_,T){if(_>T){var A=_;_=T,T=A}return t.has(w[_],T)}function c(w,_,T,A){var R={},I={},N={};return t.forEach(_,function(P){t.forEach(P,function(O,D){R[O]=O,I[O]=O,N[O]=D})}),t.forEach(_,function(P){var O=-1;t.forEach(P,function(D){var H=A(D);if(H.length){H=t.sortBy(H,function(F){return N[F]});for(var L=(H.length-1)/2,$=Math.floor(L),M=Math.ceil(L);$<=M;++$){var z=H[$];I[D]===D&&O<N[z]&&!s(T,D,z)&&(I[z]=D,I[D]=R[D]=R[z],O=N[z])}}})}),{root:R,align:I}}function u(w,_,T,A,R){var I={},N=d(w,_,T,R),P=R?"borderLeft":"borderRight";function O(L,$){for(var M=N.nodes(),z=M.pop(),F={};z;)F[z]?L(z):(F[z]=!0,M.push(z),M=M.concat($(z))),z=M.pop()}function D(L){I[L]=N.inEdges(L).reduce(function($,M){return Math.max($,I[M.v]+N.edge(M))},0)}function H(L){var $=N.outEdges(L).reduce(function(z,F){return Math.min(z,I[F.w]-N.edge(F))},Number.POSITIVE_INFINITY),M=w.node(L);$!==Number.POSITIVE_INFINITY&&M.borderType!==P&&(I[L]=Math.max(I[L],$))}return O(D,N.predecessors.bind(N)),O(H,N.successors.bind(N)),t.forEach(A,function(L){I[L]=I[T[L]]}),I}function d(w,_,T,A){var R=new e,I=w.graph(),N=v(I.nodesep,I.edgesep,A);return t.forEach(_,function(P){var O;t.forEach(P,function(D){var H=T[D];if(R.setNode(H),O){var L=T[O],$=R.edge(L,H);R.setEdge(L,H,Math.max(N(w,D,O),$||0))}O=D})}),R}function h(w,_){return t.minBy(t.values(_),function(T){var A=Number.NEGATIVE_INFINITY,R=Number.POSITIVE_INFINITY;return t.forIn(T,function(I,N){var P=S(w,N)/2;A=Math.max(I+P,A),R=Math.min(I-P,R)}),A-R})}function m(w,_){var T=t.values(_),A=t.min(T),R=t.max(T);t.forEach(["u","d"],function(I){t.forEach(["l","r"],function(N){var P=I+N,O=w[P],D;if(O!==_){var H=t.values(O);D=N==="l"?A-t.min(H):R-t.max(H),D&&(w[P]=t.mapValues(O,function(L){return L+D}))}})})}function g(w,_){return t.mapValues(w.ul,function(T,A){if(_)return w[_.toLowerCase()][A];var R=t.sortBy(t.map(w,A));return(R[1]+R[2])/2})}function y(w){var _=n.buildLayerMatrix(w),T=t.merge(a(w,_),i(w,_)),A={},R;t.forEach(["u","d"],function(N){R=N==="u"?_:t.values(_).reverse(),t.forEach(["l","r"],function(P){P==="r"&&(R=t.map(R,function(L){return t.values(L).reverse()}));var O=(N==="u"?w.predecessors:w.successors).bind(w),D=c(w,R,T,O),H=u(w,R,D.root,D.align,P==="r");P==="r"&&(H=t.mapValues(H,function(L){return-L})),A[N+P]=H})});var I=h(w,A);return m(A,I),g(A,w.graph().align)}function v(w,_,T){return function(A,R,I){var N=A.node(R),P=A.node(I),O=0,D;if(O+=N.width/2,t.has(N,"labelpos"))switch(N.labelpos.toLowerCase()){case"l":D=-N.width/2;break;case"r":D=N.width/2;break}if(D&&(O+=T?D:-D),D=0,O+=(N.dummy?_:w)/2,O+=(P.dummy?_:w)/2,O+=P.width/2,t.has(P,"labelpos"))switch(P.labelpos.toLowerCase()){case"l":D=P.width/2;break;case"r":D=-P.width/2;break}return D&&(O+=T?D:-D),D=0,O}}function S(w,_){return w.node(_).width}return nI}var aI,MV;function wst(){if(MV)return aI;MV=1;var t=Ni(),e=Ds(),n=Cst().positionX;aI=a;function a(r){r=e.asNonCompoundGraph(r),i(r),t.forEach(n(r),function(o,s){r.node(s).x=o})}function i(r){var o=e.buildLayerMatrix(r),s=r.graph().ranksep,c=0;t.forEach(o,function(u){var d=t.max(t.map(u,function(h){return r.node(h).height}));t.forEach(u,function(h){r.node(h).y=c+d/2}),c+=d+s})}return aI}var iI,PV;function _st(){if(PV)return iI;PV=1;var t=Ni(),e=rst(),n=ost(),a=lst(),i=Ds().normalizeRanks,r=cst(),o=Ds().removeEmptyRanks,s=ust(),c=dst(),u=fst(),d=Sst(),h=wst(),m=Ds(),g=Yc().Graph;iI=y;function y(te,re){var ne=re&&re.debugTiming?m.time:m.notime;ne("layout",function(){var ce=ne("  buildLayoutGraph",function(){return O(te)});ne("  runLayout",function(){v(ce,ne)}),ne("  updateInputGraph",function(){S(te,ce)})})}function v(te,re){re("    makeSpaceForEdgeLabels",function(){D(te)}),re("    removeSelfEdges",function(){V(te)}),re("    acyclic",function(){e.run(te)}),re("    nestingGraph.run",function(){s.run(te)}),re("    rank",function(){a(m.asNonCompoundGraph(te))}),re("    injectEdgeLabelProxies",function(){H(te)}),re("    removeEmptyRanks",function(){o(te)}),re("    nestingGraph.cleanup",function(){s.cleanup(te)}),re("    normalizeRanks",function(){i(te)}),re("    assignRankMinMax",function(){L(te)}),re("    removeEdgeLabelProxies",function(){$(te)}),re("    normalize.run",function(){n.run(te)}),re("    parentDummyChains",function(){r(te)}),re("    addBorderSegments",function(){c(te)}),re("    order",function(){d(te)}),re("    insertSelfEdges",function(){Y(te)}),re("    adjustCoordinateSystem",function(){u.adjust(te)}),re("    position",function(){h(te)}),re("    positionSelfEdges",function(){K(te)}),re("    removeBorderNodes",function(){ee(te)}),re("    normalize.undo",function(){n.undo(te)}),re("    fixupEdgeLabelCoords",function(){F(te)}),re("    undoCoordinateSystem",function(){u.undo(te)}),re("    translateGraph",function(){M(te)}),re("    assignNodeIntersects",function(){z(te)}),re("    reversePoints",function(){G(te)}),re("    acyclic.undo",function(){e.undo(te)})}function S(te,re){t.forEach(te.nodes(),function(ne){var ce=te.node(ne),pe=re.node(ne);ce&&(ce.x=pe.x,ce.y=pe.y,re.children(ne).length&&(ce.width=pe.width,ce.height=pe.height))}),t.forEach(te.edges(),function(ne){var ce=te.edge(ne),pe=re.edge(ne);ce.points=pe.points,t.has(pe,"x")&&(ce.x=pe.x,ce.y=pe.y)}),te.graph().width=re.graph().width,te.graph().height=re.graph().height}var w=["nodesep","edgesep","ranksep","marginx","marginy"],_={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},T=["acyclicer","ranker","rankdir","align"],A=["width","height"],R={width:0,height:0},I=["minlen","weight","width","height","labeloffset"],N={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},P=["labelpos"];function O(te){var re=new g({multigraph:!0,compound:!0}),ne=W(te.graph());return re.setGraph(t.merge({},_,J(ne,w),t.pick(ne,T))),t.forEach(te.nodes(),function(ce){var pe=W(te.node(ce));re.setNode(ce,t.defaults(J(pe,A),R)),re.setParent(ce,te.parent(ce))}),t.forEach(te.edges(),function(ce){var pe=W(te.edge(ce));re.setEdge(ce,t.merge({},N,J(pe,I),t.pick(pe,P)))}),re}function D(te){var re=te.graph();re.ranksep/=2,t.forEach(te.edges(),function(ne){var ce=te.edge(ne);ce.minlen*=2,ce.labelpos.toLowerCase()!=="c"&&(re.rankdir==="TB"||re.rankdir==="BT"?ce.width+=ce.labeloffset:ce.height+=ce.labeloffset)})}function H(te){t.forEach(te.edges(),function(re){var ne=te.edge(re);if(ne.width&&ne.height){var ce=te.node(re.v),pe=te.node(re.w),me={rank:(pe.rank-ce.rank)/2+ce.rank,e:re};m.addDummyNode(te,"edge-proxy",me,"_ep")}})}function L(te){var re=0;t.forEach(te.nodes(),function(ne){var ce=te.node(ne);ce.borderTop&&(ce.minRank=te.node(ce.borderTop).rank,ce.maxRank=te.node(ce.borderBottom).rank,re=t.max(re,ce.maxRank))}),te.graph().maxRank=re}function $(te){t.forEach(te.nodes(),function(re){var ne=te.node(re);ne.dummy==="edge-proxy"&&(te.edge(ne.e).labelRank=ne.rank,te.removeNode(re))})}function M(te){var re=Number.POSITIVE_INFINITY,ne=0,ce=Number.POSITIVE_INFINITY,pe=0,me=te.graph(),ge=me.marginx||0,ye=me.marginy||0;function he(de){var fe=de.x,oe=de.y,ue=de.width,le=de.height;re=Math.min(re,fe-ue/2),ne=Math.max(ne,fe+ue/2),ce=Math.min(ce,oe-le/2),pe=Math.max(pe,oe+le/2)}t.forEach(te.nodes(),function(de){he(te.node(de))}),t.forEach(te.edges(),function(de){var fe=te.edge(de);t.has(fe,"x")&&he(fe)}),re-=ge,ce-=ye,t.forEach(te.nodes(),function(de){var fe=te.node(de);fe.x-=re,fe.y-=ce}),t.forEach(te.edges(),function(de){var fe=te.edge(de);t.forEach(fe.points,function(oe){oe.x-=re,oe.y-=ce}),t.has(fe,"x")&&(fe.x-=re),t.has(fe,"y")&&(fe.y-=ce)}),me.width=ne-re+ge,me.height=pe-ce+ye}function z(te){t.forEach(te.edges(),function(re){var ne=te.edge(re),ce=te.node(re.v),pe=te.node(re.w),me,ge;ne.points?(me=ne.points[0],ge=ne.points[ne.points.length-1]):(ne.points=[],me=pe,ge=ce),ne.points.unshift(m.intersectRect(ce,me)),ne.points.push(m.intersectRect(pe,ge))})}function F(te){t.forEach(te.edges(),function(re){var ne=te.edge(re);if(t.has(ne,"x"))switch((ne.labelpos==="l"||ne.labelpos==="r")&&(ne.width-=ne.labeloffset),ne.labelpos){case"l":ne.x-=ne.width/2+ne.labeloffset;break;case"r":ne.x+=ne.width/2+ne.labeloffset;break}})}function G(te){t.forEach(te.edges(),function(re){var ne=te.edge(re);ne.reversed&&ne.points.reverse()})}function ee(te){t.forEach(te.nodes(),function(re){if(te.children(re).length){var ne=te.node(re),ce=te.node(ne.borderTop),pe=te.node(ne.borderBottom),me=te.node(t.last(ne.borderLeft)),ge=te.node(t.last(ne.borderRight));ne.width=Math.abs(ge.x-me.x),ne.height=Math.abs(pe.y-ce.y),ne.x=me.x+ne.width/2,ne.y=ce.y+ne.height/2}}),t.forEach(te.nodes(),function(re){te.node(re).dummy==="border"&&te.removeNode(re)})}function V(te){t.forEach(te.edges(),function(re){if(re.v===re.w){var ne=te.node(re.v);ne.selfEdges||(ne.selfEdges=[]),ne.selfEdges.push({e:re,label:te.edge(re)}),te.removeEdge(re)}})}function Y(te){var re=m.buildLayerMatrix(te);t.forEach(re,function(ne){var ce=0;t.forEach(ne,function(pe,me){var ge=te.node(pe);ge.order=me+ce,t.forEach(ge.selfEdges,function(ye){m.addDummyNode(te,"selfedge",{width:ye.label.width,height:ye.label.height,rank:ge.rank,order:me+ ++ce,e:ye.e,label:ye.label},"_se")}),delete ge.selfEdges})})}function K(te){t.forEach(te.nodes(),function(re){var ne=te.node(re);if(ne.dummy==="selfedge"){var ce=te.node(ne.e.v),pe=ce.x+ce.width/2,me=ce.y,ge=ne.x-pe,ye=ce.height/2;te.setEdge(ne.e,ne.label),te.removeNode(re),ne.label.points=[{x:pe+2*ge/3,y:me-ye},{x:pe+5*ge/6,y:me-ye},{x:pe+ge,y:me},{x:pe+5*ge/6,y:me+ye},{x:pe+2*ge/3,y:me+ye}],ne.label.x=ne.x,ne.label.y=ne.y}})}function J(te,re){return t.mapValues(t.pick(te,re),Number)}function W(te){var re={};return t.forEach(te,function(ne,ce){re[ce.toLowerCase()]=ne}),re}return iI}var rI,LV;function Tst(){if(LV)return rI;LV=1;var t=Ni(),e=Ds(),n=Yc().Graph;rI={debugOrdering:a};function a(i){var r=e.buildLayerMatrix(i),o=new n({compound:!0,multigraph:!0}).setGraph({});return t.forEach(i.nodes(),function(s){o.setNode(s,{label:s}),o.setParent(s,"layer"+i.node(s).rank)}),t.forEach(i.edges(),function(s){o.setEdge(s.v,s.w,{},s.name)}),t.forEach(r,function(s,c){var u="layer"+c;o.setNode(u,{rank:"same"}),t.reduce(s,function(d,h){return o.setEdge(d,h,{style:"invis"}),h})}),o}return rI}var oI,zV;function Est(){return zV||(zV=1,oI="0.8.5"),oI}var sI,FV;function Ast(){return FV||(FV=1,sI={graphlib:Yc(),layout:_st(),debug:Tst(),util:{time:Ds().time,notime:Ds().notime},version:Est()}),sI}var Rst=Ast();const BV=_f(Rst),jN={MODEL:{color:"#9C27B0",label:"Model"},CLIP:{color:"#FF9800",label:"CLIP"},VAE:{color:"#E91E63",label:"VAE"},CONDITIONING:{color:"#F44336",label:"Conditioning"},LATENT:{color:"#00BCD4",label:"Latent"},IMAGE:{color:"#4CAF50",label:"Image"},MASK:{color:"#FFFFFF",label:"Mask"},CONTROL_NET:{color:"#FF5722",label:"ControlNet"},UPSCALE_MODEL:{color:"#673AB7",label:"Upscale Model"},SAMPLER:{color:"#2196F3",label:"Sampler"},SIGMAS:{color:"#3F51B5",label:"Sigmas"},NOISE:{color:"#607D8B",label:"Noise"},STRING:{color:"#9E9E9E",label:"String"},INT:{color:"#795548",label:"Integer"},FLOAT:{color:"#8D6E63",label:"Float"},BOOLEAN:{color:"#FFEB3B",label:"Boolean"},UNKNOWN:{color:"#757575",label:"Unknown"}};function HV(t,e,n){const a=t.toLowerCase();if(a.includes("model"))return"MODEL";if(a.includes("clip"))return"CLIP";if(a.includes("vae"))return"VAE";if(a.includes("conditioning")||a.includes("positive")||a.includes("negative"))return"CONDITIONING";if(a.includes("latent")||a.includes("samples"))return"LATENT";if(a.includes("image")||a.includes("images"))return"IMAGE";if(a.includes("mask"))return"MASK";if(a.includes("control_net")||a.includes("controlnet"))return"CONTROL_NET";if(a.includes("upscale"))return"UPSCALE_MODEL";if(a.includes("sampler"))return"SAMPLER";if(a.includes("sigmas"))return"SIGMAS";if(a.includes("noise"))return"NOISE";if(n){const i=n.toLowerCase();if(i.includes("checkpoint")||i.includes("modelloader"))return"MODEL";if(i.includes("cliploader")||i.includes("cliptext"))return"CLIP";if(i.includes("vaeloader")||i.includes("vaedecode"))return"VAE";if(i.includes("sampler"))return"LATENT";if(i.includes("image"))return"IMAGE"}return typeof e=="string"?"STRING":typeof e=="number"?Number.isInteger(e)?"INT":"FLOAT":typeof e=="boolean"?"BOOLEAN":"UNKNOWN"}function Cb(t){const e=t.toUpperCase();return jN[e]?.color||jN.UNKNOWN.color}function EO(t){const e=t.toUpperCase();return jN[e]?.label||t}function kst(t){return t.includes("Loader")||t.includes("Load")?"#4CAF50":t.includes("Sampler")?"#2196F3":t.includes("Text")||t.includes("CLIP")?"#FF9800":t.includes("VAE")||t.includes("Decode")||t.includes("Encode")?"#9C27B0":t.includes("Save")||t.includes("Output")?"#F44336":t.includes("Latent")?"#00BCD4":t.includes("Image")?"#673AB7":"#757575"}function Ist(t){return t.includes("Loader")||t.includes("Load")?l.jsx(cl,{fontSize:"small"}):t.includes("Sampler")?l.jsx(aMe,{fontSize:"small"}):t.includes("Text")||t.includes("CLIP")?l.jsx(tMe,{fontSize:"small"}):t.includes("Save")||t.includes("Output")?l.jsx(rD,{fontSize:"small"}):t.includes("Image")||t.includes("Latent")?l.jsx(qc,{fontSize:"small"}):l.jsx(OQ,{fontSize:"small"})}function Lae(t){return t==null?"":typeof t=="string"?t.length>50?t.substring(0,50)+"...":t:typeof t=="number"?String(t):typeof t=="boolean"?t?"true":"false":Array.isArray(t)?`[${t.length} items]`:typeof t=="object"?"{...}":String(t)}function $V(t,e,n=40){if(e===1)return 50;const a=Math.min(80/(e+1),30);return n+10+(t+1)*a}const Nst=t=>{const e=yt.c(78),{data:n,selected:a,id:i,onParameterContextMenu:r}=t,[o,s]=E.useState(!0);let c;e[0]!==n.classType?(c=kst(n.classType),e[0]=n.classType,e[1]=c):c=e[1];const u=c;let d;e[2]!==n.classType?(d=Ist(n.classType),e[2]=n.classType,e[3]=d):d=e[3];const h=d;let m,g,y,v,S,w;if(e[4]!==u||e[5]!==n.classType||e[6]!==n.inputs||e[7]!==n.nodeId||e[8]!==n.outputs||e[9]!==n.title||e[10]!==n.widgets||e[11]!==o||e[12]!==h||e[13]!==i||e[14]!==r||e[15]!==a){const A=n.inputs.filter(Dst),R=n.inputs.filter(Ost);let I;e[22]!==i||e[23]!==r?(I=(ne,ce,pe)=>me=>{r&&r(i,ne,ce,pe,me)},e[22]=i,e[23]=r,e[24]=I):I=e[24];const N=I;m=Gt,g=a?8:2;const P=`2px solid ${u}`;let O;e[25]===Symbol.for("react.memo_cache_sentinel")?(O={boxShadow:6},e[25]=O):O=e[25],e[26]!==P?(y={minWidth:250,maxWidth:350,border:P,borderRadius:2,overflow:"hidden",transition:"all 0.2s ease","&:hover":O},e[26]=P,e[27]=y):y=e[27];let D;e[28]!==u?(D={bgcolor:u,color:"white",p:1,display:"flex",alignItems:"center",gap:1},e[28]=u,e[29]=D):D=e[29];let H;e[30]===Symbol.for("react.memo_cache_sentinel")?(H={flexGrow:1},e[30]=H):H=e[30];let L;e[31]===Symbol.for("react.memo_cache_sentinel")?(L={display:"block",fontSize:"0.85rem"},e[31]=L):L=e[31];let $;e[32]!==n.nodeId||e[33]!==n.title?($=l.jsxs(ie,{variant:"caption",fontWeight:"bold",sx:L,children:["#",n.nodeId," - ",n.title]}),e[32]=n.nodeId,e[33]=n.title,e[34]=$):$=e[34];let M;e[35]===Symbol.for("react.memo_cache_sentinel")?(M={display:"block",opacity:.9,fontSize:"0.7rem"},e[35]=M):M=e[35];let z;e[36]!==n.classType?(z=l.jsx(ie,{variant:"caption",sx:M,children:n.classType}),e[36]=n.classType,e[37]=z):z=e[37];let F;e[38]!==$||e[39]!==z?(F=l.jsxs(Z,{sx:H,children:[$,z]}),e[38]=$,e[39]=z,e[40]=F):F=e[40];let G;e[41]!==o?(G=()=>s(!o),e[41]=o,e[42]=G):G=e[42];let ee;e[43]===Symbol.for("react.memo_cache_sentinel")?(ee={color:"white",p:.5},e[43]=ee):ee=e[43];let V;e[44]!==o?(V=o?l.jsx(aD,{fontSize:"small"}):l.jsx(zi,{fontSize:"small"}),e[44]=o,e[45]=V):V=e[45];let Y;e[46]!==G||e[47]!==V?(Y=l.jsx(lt,{size:"small",onClick:G,sx:ee,children:V}),e[46]=G,e[47]=V,e[48]=Y):Y=e[48],e[49]!==h||e[50]!==D||e[51]!==F||e[52]!==Y?(v=l.jsxs(Z,{sx:D,children:[h,F,Y]}),e[49]=h,e[50]=D,e[51]=F,e[52]=Y,e[53]=v):v=e[53];let K;e[54]===Symbol.for("react.memo_cache_sentinel")?(K={p:1.5,bgcolor:"background.paper"},e[54]=K):K=e[54];const J=n.inputs.length>0&&l.jsxs(Z,{sx:{mb:1.5},children:[l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:.5,mb:.5},children:[l.jsx(OOe,{sx:{fontSize:"0.9rem",color:"text.secondary"}}),l.jsxs(ie,{variant:"caption",fontWeight:"600",sx:{fontSize:"0.75rem"},children:["INPUTS (",n.inputs.length,")"]})]}),l.jsxs(Z,{sx:{pl:1},children:[A.map(Mst),R.map(ne=>l.jsx(jt,{title:`${ne.name}: ${String(ne.value)} (Right-click to add to Marked Fields)`,arrow:!0,children:l.jsxs(ie,{variant:"caption",onContextMenu:N(ne.name,ne.value,ne.dataType||"text"),sx:{display:"block",fontSize:"0.75rem",mb:.3,color:"text.secondary",cursor:"context-menu","&:hover":{bgcolor:"rgba(33, 150, 243, 0.1)",borderRadius:"4px",px:.5}},children:[" ",ne.name,": ",l.jsx("span",{style:{fontWeight:500},children:Lae(ne.value)})]})},ne.name))]})]});let W;e[55]!==n.widgets?(W=n.widgets.length>0&&l.jsxs(Z,{sx:{mb:1.5},children:[l.jsx(fn,{sx:{my:1}}),l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:.5,mb:.5},children:[l.jsx(ub,{sx:{fontSize:"0.9rem",color:"text.secondary"}}),l.jsxs(ie,{variant:"caption",fontWeight:"600",sx:{fontSize:"0.75rem"},children:["WIDGETS (",n.widgets.length,")"]})]}),l.jsx(Z,{sx:{pl:1},children:n.widgets.map(Pst)})]}),e[55]=n.widgets,e[56]=W):W=e[56];let te;e[57]!==n.outputs?(te=n.outputs.length>0&&l.jsxs(Z,{children:[l.jsx(fn,{sx:{my:1}}),l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:.5,mb:.5},children:[l.jsx(UOe,{sx:{fontSize:"0.9rem",color:"text.secondary"}}),l.jsxs(ie,{variant:"caption",fontWeight:"600",sx:{fontSize:"0.75rem"},children:["OUTPUTS (",n.outputs.length,")"]})]}),l.jsx(Z,{sx:{pl:1},children:n.outputs.map(Lst)})]}),e[57]=n.outputs,e[58]=te):te=e[58];let re;e[59]!==J||e[60]!==W||e[61]!==te?(re=l.jsxs(Z,{sx:K,children:[J,W,te]}),e[59]=J,e[60]=W,e[61]=te,e[62]=re):re=e[62],e[63]!==o||e[64]!==re?(S=l.jsx(Gc,{in:o,children:re}),e[63]=o,e[64]=re,e[65]=S):S=e[65],w=A.map((ne,ce)=>{const pe=Cb(ne.dataType||"UNKNOWN"),me=$V(ce,A.length,40);return l.jsx(Sb,{type:"target",position:on.Left,id:`input-${ne.name}`,style:{background:pe,width:12,height:12,border:"2px solid white",top:`${me}%`}},`input-${ne.name}`)}),e[4]=u,e[5]=n.classType,e[6]=n.inputs,e[7]=n.nodeId,e[8]=n.outputs,e[9]=n.title,e[10]=n.widgets,e[11]=o,e[12]=h,e[13]=i,e[14]=r,e[15]=a,e[16]=m,e[17]=g,e[18]=y,e[19]=v,e[20]=S,e[21]=w}else m=e[16],g=e[17],y=e[18],v=e[19],S=e[20],w=e[21];let _;if(e[66]!==n.outputs){let A;e[68]!==n.outputs.length?(A=(R,I)=>{const N=Cb(R.dataType),P=$V(I,n.outputs.length,40);return l.jsx(Sb,{type:"source",position:on.Right,id:`output-${R.slot}`,style:{background:N,width:12,height:12,border:"2px solid white",top:`${P}%`}},`output-${R.slot}`)},e[68]=n.outputs.length,e[69]=A):A=e[69],_=n.outputs.map(A),e[66]=n.outputs,e[67]=_}else _=e[67];let T;return e[70]!==m||e[71]!==g||e[72]!==y||e[73]!==v||e[74]!==S||e[75]!==w||e[76]!==_?(T=l.jsxs(m,{elevation:g,sx:y,children:[v,S,w,_]}),e[70]=m,e[71]=g,e[72]=y,e[73]=v,e[74]=S,e[75]=w,e[76]=_,e[77]=T):T=e[77],T},jst=E.memo(Nst);function Dst(t){return t.type==="connection"}function Ost(t){return t.type==="parameter"}function Mst(t){return l.jsx(jt,{title:`From #${t.sourceNode} [${EO(t.dataType||"UNKNOWN")}]`,arrow:!0,children:l.jsxs(ie,{variant:"caption",sx:{display:"flex",alignItems:"center",gap:.5,fontSize:"0.75rem",mb:.3,color:"text.primary"},children:[l.jsx(Z,{sx:{width:8,height:8,borderRadius:"50%",bgcolor:Cb(t.dataType||"UNKNOWN"),flexShrink:0}}),l.jsx("span",{style:{fontWeight:500},children:t.name}),l.jsxs("span",{style:{opacity:.6,fontSize:"0.7rem"},children:["[from #",t.sourceNode,"]"]})]})},t.name)}function Pst(t,e){return l.jsx(jt,{title:`${t.name}: ${String(t.value)} (${t.type})`,arrow:!0,children:l.jsxs(ie,{variant:"caption",sx:{display:"block",fontSize:"0.75rem",mb:.3,color:"text.secondary"},children:[" ",t.name,": ",l.jsx("span",{style:{fontWeight:500},children:Lae(t.value)})]})},e)}function Lst(t){return l.jsxs(ie,{variant:"caption",sx:{display:"flex",alignItems:"center",gap:.5,fontSize:"0.75rem",mb:.3,color:"text.primary"},children:[l.jsx(Z,{sx:{width:8,height:8,borderRadius:"50%",bgcolor:Cb(t.dataType),flexShrink:0}}),l.jsx("span",{style:{fontWeight:500},children:t.name}),l.jsxs("span",{style:{opacity:.6,fontSize:"0.7rem"},children:["[",EO(t.dataType),"]"]})]},t.slot)}const zst=t=>{const e=yt.c(62),{onSearchChange:n,onFilterChange:a,onLayoutChange:i,onExpandAll:r,onCollapseAll:o,nodeTypes:s,layout:c}=t;let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=["workflows"],e[0]=u):u=e[0];const{t:d}=ht(u),[h,m]=E.useState("");let g;e[1]===Symbol.for("react.memo_cache_sentinel")?(g=[],e[1]=g):g=e[1];const[y,v]=E.useState(g);let S;e[2]!==n?(S=me=>{const ge=me.target.value;m(ge),n(ge)},e[2]=n,e[3]=S):S=e[3];const w=S;let _;e[4]!==a?(_=me=>{const ge=me.target.value;v(ge),a(ge)},e[4]=a,e[5]=_):_=e[5];const T=_;let A;e[6]!==c||e[7]!==i?(A=()=>{i(c==="LR"?"TB":"LR")},e[6]=c,e[7]=i,e[8]=A):A=e[8];const R=A;let I,N;e[9]===Symbol.for("react.memo_cache_sentinel")?(I={"& .MuiInputBase-root":{bgcolor:"rgba(26, 26, 26, 0.8)",color:"#ffffff"},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(64, 64, 64, 0.5)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 255, 255, 0.3)"}},N={"& .MuiInputBase-root":{bgcolor:"rgba(26, 26, 26, 0.8)",color:"#ffffff"},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(64, 64, 64, 0.5)"}},e[9]=I,e[10]=N):(I=e[9],N=e[10]);let P;e[11]===Symbol.for("react.memo_cache_sentinel")?(P={position:"absolute",top:10,right:10,zIndex:5,p:1.5,display:"flex",gap:1.5,alignItems:"center",bgcolor:"rgba(42, 42, 42, 0.95)",borderRadius:2,maxWidth:"600px",flexWrap:"wrap",border:"1px solid rgba(64, 64, 64, 0.5)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)","& .MuiTextField-root":I,"& .MuiFormControl-root":N,"& .MuiIconButton-root":{color:"rgba(255, 255, 255, 0.8)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.1)"}},"& .MuiSvgIcon-root":{color:"rgba(255, 255, 255, 0.6)"}},e[11]=P):P=e[11];let O;e[12]!==d?(O=d("workflows:graphToolbar.searchPlaceholder"),e[12]=d,e[13]=O):O=e[13];let D,H;e[14]===Symbol.for("react.memo_cache_sentinel")?(D={startAdornment:l.jsx(Wc,{fontSize:"small",sx:{mr:.5,color:"text.secondary"}})},H={minWidth:180},e[14]=D,e[15]=H):(D=e[14],H=e[15]);let L;e[16]!==w||e[17]!==h||e[18]!==O?(L=l.jsx(Tt,{size:"small",placeholder:O,value:h,onChange:w,InputProps:D,sx:H}),e[16]=w,e[17]=h,e[18]=O,e[19]=L):L=e[19];let $;e[20]===Symbol.for("react.memo_cache_sentinel")?($={minWidth:150},e[20]=$):$=e[20];let M;e[21]!==d?(M=d("workflows:graphToolbar.filterTypes"),e[21]=d,e[22]=M):M=e[22];let z;e[23]!==M?(z=l.jsx(Nr,{children:M}),e[23]=M,e[24]=z):z=e[24];let F;e[25]!==d?(F=d("workflows:graphToolbar.filterTypes"),e[25]=d,e[26]=F):F=e[26];let G;e[27]===Symbol.for("react.memo_cache_sentinel")?(G={bgcolor:"rgba(255, 255, 255, 0.1)"},e[27]=G):G=e[27];let ee;e[28]===Symbol.for("react.memo_cache_sentinel")?(ee={PaperProps:{sx:{bgcolor:"#2a2a2a",border:"1px solid rgba(64, 64, 64, 0.5)","& .MuiMenuItem-root":{color:"#ffffff","&:hover":G,"&.Mui-selected":{bgcolor:"rgba(76, 175, 80, 0.2)","&:hover":{bgcolor:"rgba(76, 175, 80, 0.3)"}}}}}},e[28]=ee):ee=e[28];let V;e[29]!==s?(V=s.map(Hst),e[29]=s,e[30]=V):V=e[30];let Y;e[31]!==T||e[32]!==y||e[33]!==F||e[34]!==V?(Y=l.jsx(Xi,{multiple:!0,value:y,onChange:T,label:F,renderValue:Bst,MenuProps:ee,children:V}),e[31]=T,e[32]=y,e[33]=F,e[34]=V,e[35]=Y):Y=e[35];let K;e[36]!==z||e[37]!==Y?(K=l.jsxs(ri,{size:"small",sx:$,children:[z,Y]}),e[36]=z,e[37]=Y,e[38]=K):K=e[38];let J;e[39]!==c||e[40]!==d?(J=d("workflows:graphToolbar.layoutSwitch",{layout:d(c==="LR"?"workflows:graphToolbar.layoutTopBottom":"workflows:graphToolbar.layoutLeftRight")}),e[39]=c,e[40]=d,e[41]=J):J=e[41];let W;e[42]!==c?(W=c==="LR"?l.jsx(qQ,{}):l.jsx(rMe,{}),e[42]=c,e[43]=W):W=e[43];let te;e[44]!==R||e[45]!==W?(te=l.jsx(lt,{size:"small",onClick:R,children:W}),e[44]=R,e[45]=W,e[46]=te):te=e[46];let re;e[47]!==J||e[48]!==te?(re=l.jsx(jt,{title:J,children:te}),e[47]=J,e[48]=te,e[49]=re):re=e[49];let ne;e[50]!==r||e[51]!==d?(ne=r&&l.jsx(jt,{title:d("workflows:graphToolbar.expandAll"),children:l.jsx(lt,{size:"small",onClick:r,children:l.jsx(sD,{})})}),e[50]=r,e[51]=d,e[52]=ne):ne=e[52];let ce;e[53]!==o||e[54]!==d?(ce=o&&l.jsx(jt,{title:d("workflows:graphToolbar.collapseAll"),children:l.jsx(lt,{size:"small",onClick:o,children:l.jsx(oD,{})})}),e[53]=o,e[54]=d,e[55]=ce):ce=e[55];let pe;return e[56]!==L||e[57]!==K||e[58]!==re||e[59]!==ne||e[60]!==ce?(pe=l.jsxs(Gt,{elevation:1,sx:P,children:[L,K,re,ne,ce]}),e[56]=L,e[57]=K,e[58]=re,e[59]=ne,e[60]=ce,e[61]=pe):pe=e[61],pe};function Fst(t){return l.jsx(mt,{label:t,size:"small",sx:{bgcolor:"rgba(76, 175, 80, 0.2)",color:"#4CAF50",border:"1px solid rgba(76, 175, 80, 0.4)"}},t)}function Bst(t){return l.jsx(Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:t.map(Fst)})}function Hst(t){return l.jsx(nn,{value:t,children:t},t)}function $st(t,e,n){const a=[],i=[],r=[],o=e._meta?.title||e.title||`Node ${t}`;if(e.inputs&&Object.entries(e.inputs).forEach(([d,h])=>{if(Array.isArray(h)&&h.length>=2){const m=String(h[0]),g=h[1],y=n[m],v=HV(d,h,y?.class_type);a.push({name:d,type:"connection",dataType:v,sourceNode:m,sourceSlot:g})}else{const m=HV(d,h,e.class_type);a.push({name:d,type:"parameter",value:h,dataType:m})}}),Ust(e.class_type).forEach((d,h)=>{i.push({name:d.name,slot:h,dataType:d.dataType})}),e.widgets_values&&Array.isArray(e.widgets_values)){const d=Gst(e.class_type);e.widgets_values.forEach((h,m)=>{const g=d[m]||`widget_${m}`,y=typeof h;r.push({name:g,value:h,type:y})})}const c=e._meta?.position?{x:e._meta.position[0],y:e._meta.position[1]}:void 0,u=e._meta?.size?{width:e._meta.size[0],height:e._meta.size[1]}:void 0;return{nodeId:t,title:o,classType:e.class_type,inputs:a,outputs:i,widgets:r,position:c,size:u,color:e._meta?.color,bgColor:e._meta?.bgcolor,rawNode:e}}function Ust(t){const e=t.toLowerCase();return e.includes("checkpointloader")?[{name:"MODEL",dataType:"MODEL"},{name:"CLIP",dataType:"CLIP"},{name:"VAE",dataType:"VAE"}]:e.includes("loraloader")?[{name:"MODEL",dataType:"MODEL"},{name:"CLIP",dataType:"CLIP"}]:e.includes("cliptextencode")?[{name:"CONDITIONING",dataType:"CONDITIONING"}]:e.includes("sampler")?[{name:"LATENT",dataType:"LATENT"}]:e.includes("vaedecode")?[{name:"IMAGE",dataType:"IMAGE"}]:e.includes("vaeencode")?[{name:"LATENT",dataType:"LATENT"}]:e.includes("emptylatent")?[{name:"LATENT",dataType:"LATENT"}]:e.includes("loadimage")?[{name:"IMAGE",dataType:"IMAGE"},{name:"MASK",dataType:"MASK"}]:e.includes("controlnet")?[{name:"CONDITIONING",dataType:"CONDITIONING"}]:[{name:"OUTPUT",dataType:"UNKNOWN"}]}function Gst(t){const e=t.toLowerCase();return e.includes("cliptextencode")?["text"]:e.includes("checkpointloader")?["ckpt_name"]:e.includes("loraloader")?["lora_name","strength_model","strength_clip"]:e.includes("ksampler")?["seed","control_after_generate","steps","cfg","sampler_name","scheduler","denoise"]:e.includes("emptylatent")?["width","height","batch_size"]:e.includes("saveimage")?["filename_prefix"]:e.includes("loadimage")?["image","upload"]:[]}function DN(t){let r=56;return t.inputs.length>0&&(r+=28,r+=t.inputs.length*24),t.widgets.length>0&&(r+=28,r+=t.widgets.length*24),t.outputs.length>0&&(r+=28,r+=t.outputs.length*24),Math.max(120,Math.min(600,r))}function qst(t){try{const e=typeof t=="string"?JSON.parse(t):t,n=[],a=[];return Object.entries(e).forEach(([i,r])=>{const o=$st(i,r,e),s=DN(o);n.push({id:i,type:"enhancedNode",position:o.position||{x:0,y:0},data:o,style:{width:250,height:s}})}),n.forEach(i=>{i.data.inputs.filter(o=>o.type==="connection").forEach(o=>{if(o.sourceNode){const s=n.find(h=>h.id===o.sourceNode),c=i.id,u=s?.data.outputs[o.sourceSlot||0],d=o.dataType||u?.dataType||"UNKNOWN";a.push({id:`${o.sourceNode}-${o.sourceSlot||0}-${c}-${o.name}`,source:o.sourceNode,target:c,sourceHandle:`output-${o.sourceSlot||0}`,targetHandle:`input-${o.name}`,label:EO(d),dataType:d,type:"smoothstep",style:{stroke:Cb(d),strokeWidth:2},labelStyle:{fontSize:10,fill:Cb(d),fontWeight:600},labelBgStyle:{fill:"#ffffff",fillOpacity:.8}})}})}),{nodes:n,edges:a}}catch(e){return console.error("Failed to parse workflow:",e),{nodes:[],edges:[]}}}function Wst(t,e,n="LR"){const a=new BV.graphlib.Graph;a.setDefaultEdgeLabel(()=>({})),a.setGraph({rankdir:n,ranksep:150,nodesep:80}),t.forEach(o=>{const s=o.style?.height||DN(o.data);a.setNode(o.id,{width:250,height:s})}),e.forEach(o=>{a.setEdge(o.source,o.target)}),BV.layout(a);const i=t.map(o=>{const s=a.node(o.id),c=o.style?.height||DN(o.data);return{...o,position:{x:s.x-125,y:s.y-c/2}}}),r=e.map(o=>({...o,markerEnd:{type:W2.ArrowClosed,width:20,height:20,color:o.style?.stroke||"#757575"}}));return{nodes:i,edges:r}}const Vst=t=>({enhancedNode:e=>l.jsx(jst,{...e,onParameterContextMenu:t})}),Yst=({workflowJson:t,onParameterRightClick:e})=>{const[n,a]=E.useState("LR"),[i,r]=E.useState(""),[o,s]=E.useState([]),[c,u]=E.useState(null),d=E.useRef(null),{nodes:h,edges:m}=E.useMemo(()=>qst(t),[t]),g=E.useMemo(()=>{const L=new Set;return h.forEach($=>{const M=$.data.classType.split(/(?=[A-Z])/).slice(0,2).join("");L.add(M)}),Array.from(L).sort()},[h]),y=E.useMemo(()=>h.filter(L=>{const $=i===""||L.data.title.toLowerCase().includes(i.toLowerCase())||L.data.classType.toLowerCase().includes(i.toLowerCase())||L.data.nodeId.includes(i),M=o.length===0||o.some(z=>L.data.classType.includes(z));return $&&M}),[h,i,o]),v=E.useMemo(()=>{const L=new Set(y.map($=>$.id));return m.filter($=>L.has($.source)&&L.has($.target))},[m,y]),{nodes:S,edges:w}=E.useMemo(()=>Wst(y,v,n),[y,v,n]),[_,T,A]=$at(S),[R,I,N]=Uat(w);E.useEffect(()=>{T(S),I(w)},[S,w,T,I]);const P=(L,$,M,z,F)=>{F.preventDefault(),F.stopPropagation();const G=h.find(Y=>Y.id===L),ee=G?.data.title||"",V=G?.data.classType||"";u({visible:!0,x:F.clientX,y:F.clientY,nodeId:L,nodeTitle:ee,classType:V,paramKey:$,paramValue:M,paramType:z}),d.current={top:F.clientY,left:F.clientX}},O=()=>{c&&e&&e(c.nodeId,c.paramKey,c.paramValue,c.paramType,c.nodeTitle,c.classType),u(null)},D=()=>{u(null),d.current=null},H=E.useMemo(()=>Vst(P),[]);return h.length===0?l.jsx(Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",p:4},children:l.jsx(ie,{variant:"body1",color:"text.secondary",children:"No workflow data to display"})}):l.jsxs(Z,{sx:{width:"100%",height:"100%",position:"relative",bgcolor:"#1a1a1a"},children:[l.jsxs(jne,{nodes:_,edges:R,onNodesChange:A,onEdgesChange:N,nodeTypes:H,fitView:!0,attributionPosition:"bottom-left",minZoom:.1,maxZoom:2,defaultEdgeOptions:{type:"smoothstep"},style:{backgroundColor:"#1a1a1a"},children:[l.jsx(fit,{variant:nc.Dots,gap:16,size:1,color:"#404040",style:{backgroundColor:"#1a1a1a"}}),l.jsx(oit,{style:{"--rf-control-button-background":"#2a2a2a","--rf-control-button-border":"1px solid #404040","--rf-control-button-color":"#ffffff"}}),l.jsx(Jat,{nodeColor:L=>Kst(L.data?.classType||""),maskColor:"rgba(255, 255, 255, 0.05)",style:{backgroundColor:"#2a2a2a",border:"1px solid #404040"}})]}),l.jsx(zst,{onSearchChange:r,onFilterChange:s,onLayoutChange:a,nodeTypes:g,layout:n}),l.jsx(Z,{sx:{position:"absolute",top:10,left:10,bgcolor:"rgba(42, 42, 42, 0.95)",p:1,borderRadius:1,border:"1px solid rgba(64, 64, 64, 0.5)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",zIndex:5},children:l.jsxs(ie,{variant:"caption",sx:{display:"block",fontSize:"0.75rem",color:"#ffffff"},children:[" Nodes: ",_.length," / ",h.length," | Edges: ",R.length," / ",m.length]})}),l.jsx(jb,{open:c?.visible||!1,onClose:D,anchorReference:"anchorPosition",anchorPosition:d.current?{top:d.current.top,left:d.current.left}:void 0,slotProps:{paper:{sx:{bgcolor:"#2a2a2a",border:"1px solid #404040",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.5)"}}},children:l.jsxs(nn,{onClick:O,children:[l.jsx(Ao,{children:l.jsx(Vr,{fontSize:"small",sx:{color:"#4caf50"}})}),l.jsx(ar,{primary:"Add to Marked Fields",sx:{color:"#ffffff"}})]})})]})};function Kst(t){return t.includes("Loader")||t.includes("Load")?"#4CAF50":t.includes("Sampler")?"#2196F3":t.includes("Text")||t.includes("CLIP")?"#FF9800":t.includes("VAE")?"#9C27B0":t.includes("Save")||t.includes("Output")?"#F44336":t.includes("Latent")?"#00BCD4":t.includes("Image")?"#673AB7":"#757575"}const Xst=t=>{const e=yt.c(41),{workflowJson:n}=t;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=["workflows"],e[0]=a):a=e[0];const{t:i}=ht(a),[r,o]=E.useState(!1);let s;e[1]!==n?(s=typeof n=="string"?n:JSON.stringify(n,null,2),e[1]=n,e[2]=s):s=e[2];const c=s;let u;e[3]!==c?(u=async()=>{try{await navigator.clipboard.writeText(c),o(!0)}catch(F){console.error("Failed to copy:",F)}},e[3]=c,e[4]=u):u=e[4];const d=u;let h;e[5]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{o(!1)},e[5]=h):h=e[5];const m=h,g=Zst;let y;e[6]===Symbol.for("react.memo_cache_sentinel")?(y={width:"100%",height:"100%",display:"flex",flexDirection:"column"},e[6]=y):y=e[6];let v;e[7]===Symbol.for("react.memo_cache_sentinel")?(v={display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,px:1},e[7]=v):v=e[7];let S;e[8]!==i?(S=i("workflows:jsonViewer.title"),e[8]=i,e[9]=S):S=e[9];let w;e[10]!==S?(w=l.jsx(ie,{variant:"subtitle2",color:"text.secondary",children:S}),e[10]=S,e[11]=w):w=e[11];let _;e[12]!==i?(_=i("workflows:jsonViewer.copyToClipboard"),e[12]=i,e[13]=_):_=e[13];let T;e[14]===Symbol.for("react.memo_cache_sentinel")?(T=l.jsx(ng,{fontSize:"small"}),e[14]=T):T=e[14];let A;e[15]!==d?(A=l.jsx(lt,{size:"small",onClick:d,children:T}),e[15]=d,e[16]=A):A=e[16];let R;e[17]!==A||e[18]!==_?(R=l.jsx(jt,{title:_,children:A}),e[17]=A,e[18]=_,e[19]=R):R=e[19];let I;e[20]!==R||e[21]!==w?(I=l.jsxs(Z,{sx:v,children:[w,R]}),e[20]=R,e[21]=w,e[22]=I):I=e[22];let N;e[23]===Symbol.for("react.memo_cache_sentinel")?(N={flex:1,overflow:"auto",bgcolor:"#282c34",color:"#abb2bf",p:2,borderRadius:1,border:"1px solid",borderColor:"divider"},e[23]=N):N=e[23];let P;e[24]!==c?(P=g(c),e[24]=c,e[25]=P):P=e[25];let O;e[26]!==P?(O=l.jsx(Gt,{elevation:0,sx:N,children:P}),e[26]=P,e[27]=O):O=e[27];let D;e[28]===Symbol.for("react.memo_cache_sentinel")?(D={vertical:"bottom",horizontal:"center"},e[28]=D):D=e[28];let H;e[29]===Symbol.for("react.memo_cache_sentinel")?(H={width:"100%"},e[29]=H):H=e[29];let L;e[30]!==i?(L=i("workflows:jsonViewer.copied"),e[30]=i,e[31]=L):L=e[31];let $;e[32]!==L?($=l.jsx(xt,{onClose:m,severity:"success",sx:H,children:L}),e[32]=L,e[33]=$):$=e[33];let M;e[34]!==r||e[35]!==$?(M=l.jsx(kg,{open:r,autoHideDuration:2e3,onClose:m,anchorOrigin:D,children:$}),e[34]=r,e[35]=$,e[36]=M):M=e[36];let z;return e[37]!==I||e[38]!==O||e[39]!==M?(z=l.jsxs(Z,{sx:y,children:[I,O,M]}),e[37]=I,e[38]=O,e[39]=M,e[40]=z):z=e[40],z};function Qst(t,e){const n=t.replace(/"([^"]+)":/g,'<span style="color: #e06c75;">"$1"</span>:').replace(/: "([^"]*)"/g,': <span style="color: #98c379;">"$1"</span>').replace(/: (\d+\.?\d*)/g,': <span style="color: #d19a66;">$1</span>').replace(/: (true|false|null)/g,': <span style="color: #56b6c2;">$1</span>').replace(/([{}\[\]])/g,'<span style="color: #abb2bf;">$1</span>');return l.jsx("div",{style:{fontFamily:'Consolas, Monaco, "Courier New", monospace',fontSize:"0.875rem",lineHeight:"1.5",padding:"2px 0"},dangerouslySetInnerHTML:{__html:n}},e)}function Zst(t){return t.split(`
`).map(Qst)}function Jst(t){return t.toLowerCase().trim().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"").replace(/^_+|_+$/g,"")}const elt={text:{label:"Text",icon:"",color:"#4caf50"},textarea:{label:"Textarea",icon:"",color:"#4caf50"},number:{label:"Number",icon:"",color:"#2196f3"},select:{label:"Select",icon:"",color:"#ff9800"},image:{label:"Image",icon:"",color:"#9c27b0"}},tlt=({field:t,index:e,onUpdate:n,onDelete:a,dragHandleProps:i,fieldErrors:r=[],isExpanded:o,onToggleExpand:s})=>{const{t:c}=ht(),[u,d]=E.useState(!1),[h,m]=E.useState([]),g=elt[t.type],y=async()=>{try{const _=await Mm.getAllLists();m(_.data||[]),d(!0)}catch(_){console.error("Failed to load custom lists:",_)}},v=_=>{n(e,{dropdown_list_name:_.name,options:_.items}),d(!1)},S=_=>{const T={label:_};if(!t.id||t.id.trim()===""){const A=Jst(_);A&&(T.id=A)}n(e,T)},w=_=>{const T=_.match(/^(\d+)\./);return T?`Node ${T[1]}`:_};return l.jsxs(ma,{sx:{mb:2,borderLeft:`4px solid ${g.color}`,borderRadius:2,overflow:"hidden",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",bgcolor:o?gi(g.color,.02):"background.paper","&:hover":{boxShadow:o?6:4,transform:"translateY(-2px)",borderLeftWidth:"6px"}},children:[l.jsxs(Z,{sx:{display:"flex",alignItems:"center",px:2,py:1.5,cursor:"pointer","&:hover":{bgcolor:_=>gi(_.palette.action.hover,.04)}},onClick:s,children:[l.jsx(Z,{...i,sx:{display:"flex",alignItems:"center",mr:1.5,cursor:"grab",opacity:.3,transition:"all 0.2s ease",color:g.color,"&:hover":{opacity:1,transform:"scale(1.1)"},"&:active":{cursor:"grabbing",transform:"scale(0.95)"}},onClick:_=>_.stopPropagation(),children:l.jsx(PQ,{fontSize:"small"})}),l.jsx(ie,{sx:{fontSize:"1.2rem",mr:1},children:g.icon}),l.jsxs(Z,{sx:{flex:1,minWidth:0},children:[l.jsxs(ie,{variant:"subtitle2",sx:{fontWeight:600},children:[t.label||c("workflows:markedFields.unnamedField"),t.required&&l.jsx(mt,{label:"Required",size:"small",color:"error",sx:{ml:1,height:20,fontSize:"0.7rem"}})]}),l.jsx(ie,{variant:"caption",color:"text.secondary",sx:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.jsonPath?`${w(t.jsonPath)}  ${t.jsonPath}`:c("workflows:markedFields.noJsonPath")}),r.length>0&&l.jsx(Z,{sx:{mt:.5},children:r.map((_,T)=>l.jsxs(ie,{variant:"caption",sx:{display:"block",color:_.severity==="error"?"error.main":"warning.main",fontSize:"0.7rem"},children:[_.severity==="error"?"":""," ",_.message]},T))})]}),l.jsx(mt,{label:g.label,size:"small",sx:{bgcolor:gi(g.color,.1),color:g.color,fontWeight:600,mr:1}}),l.jsx(lt,{size:"small",sx:{transform:o?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"},children:l.jsx(zi,{})})]}),l.jsx(Gc,{in:o,timeout:{enter:300,exit:250},unmountOnExit:!0,children:l.jsxs(Ri,{sx:{pt:2,pb:2,borderTop:"1px solid",borderColor:"divider",bgcolor:_=>gi(_.palette.background.default,.3)},children:[l.jsxs(Z,{sx:{display:"flex",gap:2,mb:2},children:[l.jsx(Tt,{label:c("workflows:fieldForm.label"),value:t.label,onChange:_=>S(_.target.value),size:"small",placeholder:c("workflows:fieldForm.labelPlaceholder"),helperText:c("workflows:fieldForm.labelHelper"),sx:{flex:2}}),l.jsxs(Tt,{select:!0,label:c("workflows:fieldForm.type"),value:t.type,onChange:_=>n(e,{type:_.target.value}),size:"small",helperText:c("workflows:fieldForm.typeHelper"),sx:{flex:1},SelectProps:{native:!0},children:[l.jsx("option",{value:"text",children:c("workflows:fieldForm.typeText")}),l.jsx("option",{value:"textarea",children:c("workflows:fieldForm.typeTextarea")}),l.jsx("option",{value:"number",children:c("workflows:fieldForm.typeNumber")}),l.jsx("option",{value:"select",children:c("workflows:fieldForm.typeSelect")}),l.jsx("option",{value:"image",children:"Image"})]})]}),l.jsxs(Z,{sx:{display:"flex",gap:2,mb:2},children:[l.jsx(Tt,{fullWidth:!0,label:c("workflows:fieldForm.jsonPath"),value:t.jsonPath,onChange:_=>n(e,{jsonPath:_.target.value}),placeholder:c("workflows:fieldForm.jsonPathPlaceholder"),size:"small",helperText:c("workflows:fieldForm.jsonPathHelper"),sx:{flex:2}}),l.jsx(Tt,{fullWidth:!0,label:c("workflows:fieldForm.defaultValue"),value:t.default_value||"",onChange:_=>n(e,{default_value:_.target.value}),size:"small",placeholder:c("workflows:fieldForm.defaultValuePlaceholder"),helperText:c("workflows:fieldForm.defaultValueHelper"),sx:{flex:1}})]}),t.type==="number"&&l.jsxs(Z,{sx:{display:"flex",gap:2,mb:2},children:[l.jsx(Tt,{label:c("workflows:fieldForm.minValue"),type:"number",value:t.min??"",onChange:_=>n(e,{min:_.target.value?parseFloat(_.target.value):void 0}),size:"small",placeholder:c("workflows:fieldForm.minPlaceholder"),sx:{flex:1}}),l.jsx(Tt,{label:c("workflows:fieldForm.maxValue"),type:"number",value:t.max??"",onChange:_=>n(e,{max:_.target.value?parseFloat(_.target.value):void 0}),size:"small",placeholder:c("workflows:fieldForm.maxPlaceholder"),sx:{flex:1}}),l.jsx(Tt,{label:c("workflows:markedFields.stepLabel"),type:"number",value:t.step??"",onChange:_=>n(e,{step:_.target.value?parseFloat(_.target.value):void 0}),size:"small",placeholder:c("workflows:markedFields.stepPlaceholder"),helperText:c("workflows:markedFields.stepHelperText"),inputProps:{step:"any",min:0},sx:{flex:1}})]}),t.type==="select"&&l.jsxs(Z,{sx:{mb:2},children:[t.dropdown_list_name&&l.jsxs(Z,{sx:{mb:1,display:"flex",alignItems:"center",gap:1},children:[l.jsx(mt,{label:` ${t.dropdown_list_name}`,size:"small",color:"primary",variant:"outlined",onDelete:()=>n(e,{dropdown_list_name:void 0}),sx:{fontWeight:500}}),l.jsx(ie,{variant:"caption",color:"text.secondary",children:c("workflows:markedFields.autoUpdated")})]}),l.jsxs(Z,{sx:{display:"flex",gap:1},children:[l.jsx(Tt,{fullWidth:!0,label:c("workflows:fieldForm.selectOptions"),value:t.options?.join(", ")||"",onChange:_=>n(e,{options:_.target.value.split(",").map(T=>T.trim()).filter(T=>T)}),size:"small",placeholder:c("workflows:fieldForm.selectOptionsPlaceholder"),helperText:t.dropdown_list_name?c("workflows:markedFields.listPreviewHelper"):c("workflows:fieldForm.selectOptionsHelper"),disabled:!!t.dropdown_list_name}),l.jsx(lt,{size:"small",onClick:y,title:c("workflows:markedFields.loadFromListTooltip"),sx:{alignSelf:"flex-start",mt:.5},children:l.jsx(_7,{})})]})]}),l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx(wn,{control:l.jsx(Ai,{checked:t.required||!1,onChange:_=>n(e,{required:_.target.checked}),size:"small"}),label:c("workflows:fieldForm.required")}),l.jsx(lt,{onClick:()=>a(e),color:"error",size:"small",children:l.jsx(Wa,{})})]})]})}),l.jsxs(Fn,{open:u,onClose:()=>d(!1),maxWidth:"sm",fullWidth:!0,children:[l.jsx(Un,{children:c("workflows:markedFields.loadFromListTitle")}),l.jsx($n,{children:h.length===0?l.jsx(ie,{variant:"body2",color:"text.secondary",align:"center",sx:{py:2},children:c("workflows:markedFields.noCustomLists")}):l.jsx(Ms,{children:h.map(_=>l.jsx(yf,{disablePadding:!0,children:l.jsx(gp,{onClick:()=>v(_),children:l.jsx(ar,{primary:_.name,secondary:`${c("workflows:markedFields.itemCount",{count:_.items.length})}${_.items.slice(0,3).join(", ")}${_.items.length>3?"...":""}`})})},_.id))})}),l.jsx(Wn,{children:l.jsx(Ue,{onClick:()=>d(!1),children:c("common:buttons.cancel")})})]})]})},nlt=t=>{const e=yt.c(24),{field:n,index:a,onUpdate:i,onDelete:r,fieldErrors:o,isExpanded:s,onToggleExpand:c}=t;let u;e[0]!==n.id?(u={id:n.id},e[0]=n.id,e[1]=u):u=e[1];const{attributes:d,listeners:h,setNodeRef:m,transform:g,transition:y,isDragging:v}=Zee(u);let S;e[2]!==g?(S=bb.Transform.toString(g),e[2]=g,e[3]=S):S=e[3];const w=v?.5:1;let _;e[4]!==S||e[5]!==w||e[6]!==y?(_={transform:S,transition:y,opacity:w},e[4]=S,e[5]=w,e[6]=y,e[7]=_):_=e[7];const T=_;let A;e[8]!==d||e[9]!==h?(A={...d,...h},e[8]=d,e[9]=h,e[10]=A):A=e[10];let R;e[11]!==n||e[12]!==o||e[13]!==a||e[14]!==s||e[15]!==r||e[16]!==c||e[17]!==i||e[18]!==A?(R=l.jsx(tlt,{field:n,index:a,onUpdate:i,onDelete:r,dragHandleProps:A,fieldErrors:o,isExpanded:s,onToggleExpand:c}),e[11]=n,e[12]=o,e[13]=a,e[14]=s,e[15]=r,e[16]=c,e[17]=i,e[18]=A,e[19]=R):R=e[19];let I;return e[20]!==m||e[21]!==T||e[22]!==R?(I=l.jsx("div",{ref:m,style:T,children:R}),e[20]=m,e[21]=T,e[22]=R,e[23]=I):I=e[23],I};function zae(t){const e=yt.c(19);let n;e[0]!==t?(n=[],t.forEach((v,S)=>{!v.id||v.id.trim()===""?n.push({fieldId:v.id,fieldIndex:S,field:"id",message:"Field ID is required",severity:"error"}):/^[a-zA-Z0-9_]+$/.test(v.id)||n.push({fieldId:v.id,fieldIndex:S,field:"id",message:"Field ID must contain only letters, numbers, and underscores",severity:"error"});const w=t.findIndex((T,A)=>A!==S&&T.id===v.id&&v.id.trim()!=="");w!==-1&&n.push({fieldId:v.id,fieldIndex:S,field:"id",message:`Duplicate Field ID: also used in field #${w+1}`,severity:"error"}),(!v.label||v.label.trim()==="")&&n.push({fieldId:v.id,fieldIndex:S,field:"label",message:"Label is required",severity:"error"}),!v.jsonPath||v.jsonPath.trim()===""?n.push({fieldId:v.id,fieldIndex:S,field:"jsonPath",message:"JSON Path is required",severity:"error"}):/^\d+\./.test(v.jsonPath)||n.push({fieldId:v.id,fieldIndex:S,field:"jsonPath",message:'JSON Path should start with a node number (e.g., "6.inputs.text")',severity:"warning"});const _=t.findIndex((T,A)=>A!==S&&T.jsonPath===v.jsonPath&&v.jsonPath.trim()!=="");_!==-1&&n.push({fieldId:v.id,fieldIndex:S,field:"jsonPath",message:`Duplicate JSON Path: also used in field #${_+1}`,severity:"warning"}),v.type==="number"&&v.min!==void 0&&v.max!==void 0&&v.min>v.max&&n.push({fieldId:v.id,fieldIndex:S,field:"min",message:"Min value must be less than or equal to Max value",severity:"error"}),v.type==="select"&&(!v.options||v.options.length===0)&&n.push({fieldId:v.id,fieldIndex:S,field:"options",message:"Select fields must have at least one option",severity:"error"})}),e[0]=t,e[1]=n):n=e[1];const a=n;let i;e[2]!==a?(i=a.filter(rlt),e[2]=a,e[3]=i):i=e[3];const r=i.length===0;let o;e[4]!==a?(o=v=>a.filter(S=>S.fieldIndex===v),e[4]=a,e[5]=o):o=e[5];const s=o;let c;e[6]!==a?(c=v=>a.filter(S=>S.severity===v),e[6]=a,e[7]=c):c=e[7];const u=c;let d;e[8]!==a?(d=a.filter(ilt),e[8]=a,e[9]=d):d=e[9];const h=d.length;let m;e[10]!==a?(m=a.filter(alt),e[10]=a,e[11]=m):m=e[11];const g=m.length;let y;return e[12]!==h||e[13]!==a||e[14]!==u||e[15]!==s||e[16]!==r||e[17]!==g?(y={errors:a,isValid:r,errorCount:h,warningCount:g,getFieldErrors:s,getErrorsByType:u},e[12]=h,e[13]=a,e[14]=u,e[15]=s,e[16]=r,e[17]=g,e[18]=y):y=e[18],y}function alt(t){return t.severity==="warning"}function ilt(t){return t.severity==="error"}function rlt(t){return t.severity==="error"}const olt=t=>{const e=yt.c(34),{fields:n,onFieldsChange:a,onUpdateField:i,onDeleteField:r}=t,{t:o}=ht(),s=zae(n);let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=new Set,e[0]=c):c=e[0];const[u,d]=E.useState(c);let h;e[1]===Symbol.for("react.memo_cache_sentinel")?(h=N=>{d(P=>{const O=new Set(P);return O.has(N)?O.delete(N):O.add(N),O})},e[1]=h):h=e[1];const m=h;let g;e[2]===Symbol.for("react.memo_cache_sentinel")?(g={activationConstraint:{distance:8}},e[2]=g):g=e[2];let y;e[3]===Symbol.for("react.memo_cache_sentinel")?(y={coordinateGetter:ZXe},e[3]=y):y=e[3];const v=Ree(uN(R5,g),uN(UD,y));let S;e[4]!==n||e[5]!==a?(S=N=>{const{active:P,over:O}=N;if(O&&P.id!==O.id){const D=n.findIndex(L=>L.id===P.id),H=n.findIndex(L=>L.id===O.id);if(D!==-1&&H!==-1){const L=N5(n,D,H);a(L)}}},e[4]=n,e[5]=a,e[6]=S):S=e[6];const w=S;if(n.length===0){let N;e[7]===Symbol.for("react.memo_cache_sentinel")?(N={textAlign:"center",py:4,color:"text.secondary"},e[7]=N):N=e[7];let P;e[8]!==o?(P=o("workflows:markedFields.noFields"),e[8]=o,e[9]=P):P=e[9];let O;return e[10]!==P?(O=l.jsx(Z,{sx:N,children:l.jsx(ie,{variant:"body2",children:P})}),e[10]=P,e[11]=O):O=e[11],O}let _;e[12]!==n?(_=n.map(slt),e[12]=n,e[13]=_):_=e[13];let T;if(e[14]!==u||e[15]!==n||e[16]!==r||e[17]!==i||e[18]!==s){let N;e[20]!==u||e[21]!==r||e[22]!==i||e[23]!==s?(N=(P,O)=>{const D=s.getFieldErrors(O),H=u.has(O);return l.jsx(nlt,{field:P,index:O,onUpdate:i,onDelete:r,fieldErrors:D,isExpanded:H,onToggleExpand:()=>m(O)},P.id)},e[20]=u,e[21]=r,e[22]=i,e[23]=s,e[24]=N):N=e[24],T=n.map(N),e[14]=u,e[15]=n,e[16]=r,e[17]=i,e[18]=s,e[19]=T}else T=e[19];let A;e[25]!==T?(A=l.jsx(Z,{children:T}),e[25]=T,e[26]=A):A=e[26];let R;e[27]!==_||e[28]!==A?(R=l.jsx(Xee,{items:_,strategy:Vee,children:A}),e[27]=_,e[28]=A,e[29]=R):R=e[29];let I;return e[30]!==w||e[31]!==v||e[32]!==R?(I=l.jsx(qee,{sensors:v,collisionDetection:jee,onDragEnd:w,children:R}),e[30]=w,e[31]=v,e[32]=R,e[33]=I):I=e[33],I};function slt(t){return t.id}function UV(){const t=Tf(),{id:e}=tj(),n=!!e,{t:a}=ht(["workflows","common"]),[i,r]=E.useState(!1),[o,s]=E.useState(!1),[c,u]=E.useState(null),[d,h]=E.useState(null),[m,g]=E.useState(""),[y,v]=E.useState(""),[S,w]=E.useState(""),[_,T]=E.useState(!0),[A,R]=E.useState("#2196f3"),[I,N]=E.useState([]),[P,O]=E.useState(0),D=zae(I),H=E.useRef(null),L=E.useCallback(W=>{H.current&&clearTimeout(H.current),H.current=setTimeout(()=>{R(W)},100)},[]),[$,M]=E.useState(null);E.useEffect(()=>{n&&z()},[e]);const z=async()=>{try{r(!0);const te=(await rp.getWorkflow(parseInt(e))).data;g(te.name),v(te.description||""),w(te.workflow_json),T(te.is_active),R(te.color||"#2196f3"),N(te.marked_fields||[])}catch(W){u(W.response?.data?.error||W.message)}finally{r(!1)}},F=W=>{if(w(W),W.trim())try{JSON.parse(W),M(null)}catch{M(a("workflows:form.invalidJson"))}else M(null)},G=W=>{const te=W.target.files?.[0];if(te){const re=new FileReader;re.onload=ne=>{const ce=ne.target?.result;F(ce)},re.readAsText(te)}},ee=()=>{const W={id:`field_${Date.now()}`,label:"",jsonPath:"",type:"text",required:!1};N([...I,W])},V=(W,te)=>{const re=[...I];re[W]={...re[W],...te},N(re)},Y=W=>{N(I.filter((te,re)=>re!==W))},K=(W,te,re,ne,ce,pe)=>{const me=`${W}.inputs.${te}`;if(I.some(oe=>oe.jsonPath===me)){u(`Parameter "${te}" from node ${W} is already in Marked Fields`),setTimeout(()=>u(null),3e3);return}let ye="text";typeof re=="number"?ye="number":typeof re=="string"&&re.length>100&&(ye="textarea");const he=ce.replace(/[^a-zA-Z0-9_]/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,""),de=`#${W}_${he}(${te.toUpperCase()})`,fe={id:`field_${Date.now()}`,label:de,jsonPath:me,type:ye,required:!1};N([...I,fe]),h(`Added "${te}" from Node ${W} to Marked Fields`),setTimeout(()=>h(null),3e3)},J=async()=>{if(!m.trim()){u(a("workflows:form.nameRequired"));return}if(!S.trim()){u(a("workflows:form.jsonRequired"));return}if($){u(a("workflows:form.validateJson"));return}try{s(!0),u(null);const W={name:m.trim(),description:y.trim()||void 0,workflow_json:S,marked_fields:I.length>0?I:void 0,is_active:_,color:A};n?(await rp.updateWorkflow(parseInt(e),W),h(a("workflows:alerts.updated"))):(await rp.createWorkflow(W),h(a("workflows:alerts.created"))),setTimeout(()=>{t("/image-generation?tab=workflows")},1500)}catch(W){u(W.response?.data?.error||W.message)}finally{s(!1)}};return i?l.jsx(Z,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:l.jsx(Yt,{})}):l.jsxs(Z,{sx:{p:3,maxWidth:1200,mx:"auto"},children:[l.jsxs(Z,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[l.jsx(lt,{onClick:()=>t("/image-generation?tab=workflows"),children:l.jsx(cb,{})}),l.jsx(ie,{variant:"h4",children:a(n?"workflows:page.editTitle":"workflows:page.createTitle")})]}),c&&l.jsx(xt,{severity:"error",sx:{mb:2},onClose:()=>u(null),children:c}),d&&l.jsx(xt,{severity:"success",sx:{mb:2},children:d}),l.jsxs(Gt,{sx:{p:3,mb:3},children:[l.jsx(ie,{variant:"h6",gutterBottom:!0,children:a("workflows:form.basicInfo")}),l.jsx(fn,{sx:{mb:2}}),l.jsx(Tt,{fullWidth:!0,label:a("workflows:form.workflowName"),value:m,onChange:W=>g(W.target.value),required:!0,sx:{mb:2}}),l.jsx(Tt,{fullWidth:!0,label:a("workflows:form.description"),value:y,onChange:W=>v(W.target.value),multiline:!0,rows:2,sx:{mb:2}}),l.jsxs(Z,{sx:{mb:2},children:[l.jsx(ie,{variant:"body2",sx:{mb:1},children:a("workflows:form.colorLabel")}),l.jsxs(Z,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[[{color:"#2196f3",label:a("workflows:colors.blue")},{color:"#f44336",label:a("workflows:colors.red")},{color:"#4caf50",label:a("workflows:colors.green")},{color:"#ff9800",label:a("workflows:colors.orange")},{color:"#9c27b0",label:a("workflows:colors.purple")},{color:"#00bcd4",label:a("workflows:colors.cyan")},{color:"#ffeb3b",label:a("workflows:colors.yellow")},{color:"#795548",label:a("workflows:colors.brown")},{color:"#607d8b",label:a("workflows:colors.gray")},{color:"#e91e63",label:a("workflows:colors.pink")}].map(W=>l.jsx(Z,{onClick:()=>R(W.color),sx:{width:40,height:40,bgcolor:W.color,borderRadius:1,cursor:"pointer",border:A===W.color?"3px solid #000":"2px solid #ddd",transition:"all 0.2s","&:hover":{transform:"scale(1.1)",boxShadow:2}},title:W.label},W.color)),l.jsx("input",{type:"color",defaultValue:A,onInput:W=>L(W.target.value),style:{width:"40px",height:"40px",border:"2px solid #ddd",borderRadius:"4px",cursor:"pointer"},title:a("workflows:form.customColorTooltip")})]})]}),l.jsx(wn,{control:l.jsx(Ai,{checked:_,onChange:W=>T(W.target.checked)}),label:a("workflows:form.activate")})]}),l.jsxs(Gt,{sx:{p:3,mb:3},children:[l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[l.jsx(ie,{variant:"h6",children:a("workflows:form.workflowJson")}),l.jsxs(Ue,{component:"label",startIcon:l.jsx(_2,{}),size:"small",children:[a("workflows:form.uploadFile"),l.jsx("input",{type:"file",accept:".json",hidden:!0,onChange:G})]})]}),l.jsx(Z,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:l.jsxs(No,{value:P,onChange:(W,te)=>O(te),children:[l.jsx(Cn,{label:"JSON Editor"}),l.jsx(Cn,{label:"Graph View",disabled:!S||!!$}),l.jsx(Cn,{label:"JSON View",disabled:!S||!!$})]})}),l.jsx(Z,{role:"tabpanel",hidden:P!==0,children:P===0&&l.jsxs(l.Fragment,{children:[l.jsx(xt,{severity:"warning",sx:{mb:2},children:l.jsxs(ie,{variant:"body2",children:[l.jsx("strong",{children:a("workflows:alerts.importantNote")})," ",a("workflows:alerts.apiFormatWarning")]})}),l.jsx(Tt,{fullWidth:!0,multiline:!0,rows:15,value:S,onChange:W=>F(W.target.value),placeholder:a("workflows:form.jsonPlaceholder"),error:!!$,helperText:$||a("workflows:form.jsonHelper"),sx:{"& .MuiInputBase-input":{fontFamily:"monospace",fontSize:"0.875rem"}}}),S&&!$&&l.jsx(Z,{sx:{mt:2},children:l.jsx(mt,{label:a("workflows:form.jsonCharCount",{count:JSON.stringify(JSON.parse(S)).length}),size:"small",color:"success"})})]})}),l.jsx(Z,{role:"tabpanel",hidden:P!==1,children:P===1&&S&&!$&&l.jsx(Z,{sx:{height:"600px",border:"1px solid",borderColor:"divider",borderRadius:1},children:l.jsx(Yst,{workflowJson:S,onParameterRightClick:K})})}),l.jsx(Z,{role:"tabpanel",hidden:P!==2,children:P===2&&S&&!$&&l.jsx(Z,{sx:{height:"600px",border:"1px solid",borderColor:"divider",borderRadius:1,overflow:"auto"},children:l.jsx(Xst,{workflowJson:S})})})]}),l.jsx(lZe,{}),l.jsxs(Gt,{sx:{p:3,mb:3},children:[l.jsxs(Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[l.jsx(ie,{variant:"h6",children:a("workflows:markedFields.sectionTitle")}),l.jsx(Ue,{startIcon:l.jsx(Vr,{}),onClick:ee,variant:"contained",size:"small",children:a("workflows:markedFields.addField")})]}),l.jsx(fn,{sx:{mb:2}}),(D.errorCount>0||D.warningCount>0)&&l.jsxs(xt,{severity:D.errorCount>0?"error":"warning",sx:{mb:2},children:[D.errorCount>0&&l.jsxs(ie,{variant:"body2",children:[D.errorCount," error",D.errorCount>1?"s":""," found"]}),D.warningCount>0&&l.jsxs(ie,{variant:"body2",children:[D.warningCount," warning",D.warningCount>1?"s":""," found"]})]}),l.jsx(olt,{fields:I,onFieldsChange:N,onUpdateField:V,onDeleteField:Y})]}),l.jsx(cZe,{workflowJson:S,markedFields:I}),l.jsxs(Z,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[l.jsx(Ue,{variant:"outlined",onClick:()=>t("/image-generation?tab=workflows"),disabled:o,children:a("workflows:actions.cancel")}),l.jsx(Ue,{variant:"contained",startIcon:o?l.jsx(Yt,{size:20}):l.jsx(rD,{}),onClick:J,disabled:o||!!$||!m.trim()||!S.trim(),children:a(o?"workflows:actions.saving":n?"workflows:actions.update":"workflows:actions.create")})]})]})}async function llt(t){if(t.startsWith("data:"))return t;try{const n=await(await fetch(`http://localhost:1566${t}`)).blob();return new Promise((a,i)=>{const r=new FileReader;r.onloadend=()=>a(r.result),r.onerror=i,r.readAsDataURL(n)})}catch(e){throw console.error("Failed to convert image to Base64:",e),e}}async function Fae(t,e){if(!t?.workflow_json||!t?.marked_fields)return{};try{const n=JSON.parse(t.workflow_json),a=JSON.parse(JSON.stringify(n));for(const i of t.marked_fields){const r=i.jsonPath.split(".");let o=a;for(let u=0;u<r.length-1;u++)r[u]in o||(o[r[u]]={}),o=o[r[u]];const s=r[r.length-1];let c=e[i.id];if(i.type==="number")o[s]=parseFloat(c)||0;else if(i.type==="image")c?o[s]=await llt(c):o[s]="";else{const u=o[s];typeof u=="string"&&typeof c=="string"&&u.includes("\\")&&c.includes("/")&&(c=c.replace(/\//g,"\\")),o[s]=c}}return a}catch(n){return console.error("Failed to build prompt data:",n),{}}}async function Bae(t,e){const n=await Fae(t,e);console.log("[ComfyUI Wildcard] Before parsing:",JSON.stringify(n).substring(0,200));const a=await UQe(n,"comfyui");return console.log("[ComfyUI Wildcard] After parsing:",JSON.stringify(a.data).substring(0,200)),console.log("[ComfyUI Wildcard] Was changed:",JSON.stringify(n)!==JSON.stringify(a.data)),console.log("[ComfyUI Wildcard] Empty wildcards:",a.emptyWildcards),a}function Hae(t){if(!t.marked_fields)return{};const e={};return t.marked_fields.forEach(n=>{e[n.id]=n.default_value||""}),e}function clt(t){function e(a){const i=[];if(a&&typeof a=="object")for(const r in a){const o=a[r];r==="text"&&typeof o=="string"?i.push(o):r==="inputs"&&o&&typeof o=="object"&&"text"in o&&typeof o.text=="string"&&i.push(o.text),typeof o=="object"&&i.push(...e(o))}return i}const n=e(t);return n.length>0&&n.every(a=>ite(a))}const ult=Object.freeze(Object.defineProperty({__proto__:null,buildPromptData:Fae,buildPromptDataWithWildcards:Bae,hasEmptyPrompts:clt,initializeFormData:Hae},Symbol.toStringTag,{value:"Module"}));function dlt(t){const[e,n]=E.useState(!0),[a,i]=E.useState(null),[r,o]=E.useState(null),[s,c]=E.useState({});return{loading:e,error:a,setError:i,workflow:r,formData:s,loadWorkflow:async()=>{if(t)try{n(!0);const g=(await rp.getWorkflow(parseInt(t))).data;o(g);const y=Hae(g);c(y)}catch(m){i(m.response?.data?.error||m.message)}finally{n(!1)}},handleFieldChange:(m,g)=>{c(y=>({...y,[m]:g}))},getPromptData:async()=>await Bae(r,s)}}function flt(){const[t,e]=E.useState([]),[n,a]=E.useState({}),[i,r]=E.useState({}),o=async()=>{try{const u=await Om.getAllServers(!0);e(u.data||[]);const d={};(u.data||[]).forEach(h=>{d[h.id]={status:"idle"}}),r(d),s(u.data||[])}catch(u){console.error("Failed to load servers:",u)}},s=async u=>{const d=await Promise.all(u.map(async m=>{try{const g=Date.now(),y=await Om.testConnection(m.id),v=Date.now()-g;return{serverId:m.id,connected:y.data?.isConnected||!1,responseTime:v}}catch{return{serverId:m.id,connected:!1,error:"Connection failed"}}})),h={};d.forEach(m=>{h[m.serverId]={connected:m.connected,responseTime:m.responseTime,error:m.error}}),a(h)};return{servers:t,serverStatus:n,generationStatus:i,setGenerationStatus:r,loadServers:o,getConnectedServers:()=>t.filter(u=>n[u.id]?.connected)}}function hlt(){const t=yt.c(7),[e,n]=E.useState(null),[a,i]=E.useState(null),[r,o]=E.useState(!1);let s,c;if(t[0]===Symbol.for("react.memo_cache_sentinel")){s=async()=>{try{const y=localStorage.getItem("workflow_selected_group_id");if(y){const v=parseInt(y);n(v),await g(v)}}catch(y){console.error("Failed to load saved group:",y)}};const g=async y=>{try{const v=await At.get(`/api/groups/${y}`);v.data.success&&i(v.data.data)}catch(v){console.error("Failed to load group info:",v),n(null),i(null)}};c=async y=>{n(y),localStorage.setItem("workflow_selected_group_id",y.toString()),await g(y),o(!1)},t[0]=s,t[1]=c}else s=t[0],c=t[1];const u=c;let d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{n(null),i(null),localStorage.removeItem("workflow_selected_group_id")},t[2]=d):d=t[2];const h=d;let m;return t[3]!==r||t[4]!==a||t[5]!==e?(m={selectedGroupId:e,selectedGroup:a,groupModalOpen:r,setGroupModalOpen:o,loadSavedGroup:s,handleGroupSelect:u,handleRemoveGroup:h},t[3]=r,t[4]=a,t[5]=e,t[6]=m):m=t[6],m}function plt({workflowId:t,workflow:e,formData:n,getPromptData:a,selectedGroupId:i,servers:r,setGenerationStatus:o,setError:s}){const{t:c}=ht(["workflows"]),[u,d]=E.useState(0),h=async g=>{if(r.find(v=>v.id===g)){if(e?.marked_fields){const v=e.marked_fields.filter(S=>S.required&&!n[S.id]);if(v.length>0){s(c("workflows:generate.missingFields",{fields:v.map(S=>S.label).join(", ")}));return}}try{o(T=>({...T,[g]:{status:"generating",progress:0}})),s(null);const v=await a();if(v.emptyWildcards&&v.emptyWildcards.length>0){const T=Array.from(new Set(v.emptyWildcards));b2(`  ComfyUI  : ${T.join(", ")}`,{variant:"warning",autoHideDuration:5e3})}const{hasEmptyPrompts:S}=await uJ(async()=>{const{hasEmptyPrompts:T}=await Promise.resolve().then(()=>ult);return{hasEmptyPrompts:T}},[],import.meta.url);if(S(v.data)){const T=c("workflows:generate.emptyPrompt");s(T),b2(T,{variant:"error",autoHideDuration:5e3}),o(A=>({...A,[g]:{status:"failed",error:T}}));return}const _=(await rp.generateImageOnServer(parseInt(t),g,v.data,i||void 0)).data.history_id;if(!_){console.error("No history_id in response"),s("Failed to start image generation");return}o(T=>({...T,[g]:{status:"generating",historyId:_}})),await m(g,_)}catch(v){throw o(S=>({...S,[g]:{status:"failed",error:v.response?.data?.error||v.message}})),v}}},m=async(g,y)=>{let S=0,w=null;return new Promise((_,T)=>{const A=async()=>{S++;try{const I=(await Hu.getById(y,!0)).record;if(console.log(`[ComfyUI] Polling attempt ${S}/150 for history ${y}: status="${I.generation_status}"`),I.generation_status==="completed"||I.generation_status==="failed"){console.log(`[ComfyUI]  Generation ${y} finished with status: ${I.generation_status}`),w&&(clearTimeout(w),w=null),o(N=>({...N,[g]:{status:I.generation_status,historyId:y,error:I.error_message}})),I.generation_status==="completed"?(console.log("[ComfyUI]  Triggering history refresh (refreshKey increment)"),d(N=>{const P=N+1;return console.log(`[ComfyUI] historyRefreshKey: ${N}  ${P}`),setTimeout(()=>_(),0),P})):(console.error("[ComfyUI]  Generation failed:",I.error_message),T(new Error(I.error_message||"Generation failed")));return}if(S>=150){console.error(`[ComfyUI] Generation ${y} timeout after ${S} attempts`),w&&clearTimeout(w),T(new Error("Generation timeout (5 minutes)"));return}w=setTimeout(A,2e3)}catch(R){if(console.error(`[ComfyUI] Failed to check status (attempt ${S}/150):`,R),S>=150){w&&clearTimeout(w),T(new Error("Status check failed after timeout"));return}w=setTimeout(A,2e3)}};A()})};return{historyRefreshKey:u,handleGenerateOnServer:h}}function mlt(t){const e=yt.c(9),{servers:n,serverStatus:a,repeatConfig:i,handleGenerateOnServer:r,handleStartServerRepeat:o,setError:s}=t;let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=["workflows"],e[0]=c):c=e[0];const{t:u}=ht(c);let d;return e[1]!==r||e[2]!==o||e[3]!==i||e[4]!==a||e[5]!==n||e[6]!==s||e[7]!==u?(d={handleGenerateOnAllServers:async()=>{console.log("[ComfyUI Generate] Button clicked",{repeatConfig:i,repeatEnabled:i.enabled});const m=n.filter(y=>a[y.id]?.connected);if(m.length===0){s(u("workflows:generate.noConnectedServers"));return}if(i.enabled){console.log("[ComfyUI Repeat] Starting independent repeat execution on all servers",{count:i.count,delaySeconds:i.delaySeconds,servers:m.map(glt)}),m.forEach(y=>{o(y.id)});return}console.log("[ComfyUI Generate] Single execution mode",{connectedServers:m.length});const g=m.map(y=>r(y.id));await Promise.all(g)}},e[1]=r,e[2]=o,e[3]=i,e[4]=a,e[5]=n,e[6]=s,e[7]=u,e[8]=d):d=e[8],d}function glt(t){return t.name}function blt({servers:t,repeatConfig:e,handleGenerateOnServer:n}){const[a,i]=E.useState({}),r=E.useRef(e),o=E.useRef(a);E.useEffect(()=>{r.current=e},[e]),E.useEffect(()=>{o.current=a},[a]);const s=d=>{const h=t.find(g=>g.id===d);if(!h)return;console.log("[Server Repeat] Starting repeat execution for server",{serverId:d,serverName:h.name,count:e.count,delaySeconds:e.delaySeconds});const m={isRunning:!0,currentIteration:0,totalIterations:e.count===-1?-1:e.count,timeoutId:null};i(g=>({...g,[d]:m})),o.current={...o.current,[d]:m},c(d,0)},c=async(d,h)=>{const m=r.current,g=o.current[d];if(!g||!g.isRunning){console.log("[Server Repeat] Stopped (state not found or not running)",{serverId:d});return}if(h>=100){console.warn("[Server Repeat] Maximum safe iterations reached (100)",{serverId:d}),u(d);return}const v=g.totalIterations;if(v!==-1&&h>=v){console.log("[Server Repeat] All iterations completed",{serverId:d,iteration:h,totalIterations:v}),u(d);return}console.log("[Server Repeat] Starting iteration",{serverId:d,current:h+1,total:v===-1?"infinite":v,isRunning:g.isRunning}),i(S=>({...S,[d]:{...S[d],currentIteration:h}}));try{await n(d),console.log("[Server Repeat] Iteration completed",{serverId:d,iteration:h+1});const S=o.current[d];if(!S||!S.isRunning){console.log("[Server Repeat] Stopped during execution",{serverId:d});return}const w=h+1;if(v===-1||w<v){console.log("[Server Repeat] Scheduling next iteration after delay",{serverId:d,delaySeconds:m.delaySeconds,nextIteration:w});const T=window.setTimeout(()=>{c(d,w)},m.delaySeconds*1e3);i(A=>({...A,[d]:{...A[d],timeoutId:T}}))}else console.log("[Server Repeat] Finished all iterations",{serverId:d}),u(d)}catch(S){console.error("[Server Repeat] Error during iteration",{serverId:d,iteration:h,error:S}),u(d)}},u=d=>{i(h=>{const m=h[d];m?.timeoutId&&clearTimeout(m.timeoutId),console.log("[Server Repeat] Stopping repeat execution",{serverId:d});const g={...h};return delete g[d],g})};return{serverRepeatStates:a,handleStartServerRepeat:s,handleStopServerRepeat:u}}function ylt(t){const e=yt.c(22),{workflow:n}=t,a=Tf();let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=["workflows"],e[0]=i):i=e[0];const{t:r}=ht(i);let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o={mb:3,display:"flex",alignItems:"center",gap:2},e[1]=o):o=e[1];let s;e[2]!==a?(s=()=>a("/image-generation?tab=workflows"),e[2]=a,e[3]=s):s=e[3];let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx(cb,{}),e[4]=c):c=e[4];let u;e[5]!==s?(u=l.jsx(lt,{onClick:s,children:c}),e[5]=s,e[6]=u):u=e[6];let d;e[7]===Symbol.for("react.memo_cache_sentinel")?(d={flex:1},e[7]=d):d=e[7];let h;e[8]!==n.name?(h=l.jsx(ie,{variant:"h4",children:n.name}),e[8]=n.name,e[9]=h):h=e[9];let m;e[10]!==n.description?(m=n.description&&l.jsx(ie,{variant:"body2",color:"text.secondary",children:n.description}),e[10]=n.description,e[11]=m):m=e[11];let g;e[12]!==h||e[13]!==m?(g=l.jsxs(Z,{sx:d,children:[h,m]}),e[12]=h,e[13]=m,e[14]=g):g=e[14];let y;e[15]!==r||e[16]!==n.is_active?(y=!n.is_active&&l.jsx(mt,{label:r("workflows:card.inactive"),color:"default"}),e[15]=r,e[16]=n.is_active,e[17]=y):y=e[17];let v;return e[18]!==y||e[19]!==u||e[20]!==g?(v=l.jsxs(Z,{sx:o,children:[u,g,y]}),e[18]=y,e[19]=u,e[20]=g,e[21]=v):v=e[21],v}function sv(t){const e=yt.c(13);let n,a,i,r;e[0]!==t?({children:n,value:r,index:a,...i}=t,e[0]=t,e[1]=n,e[2]=a,e[3]=i,e[4]=r):(n=e[1],a=e[2],i=e[3],r=e[4]);const o=r!==a;let s;e[5]!==n||e[6]!==a||e[7]!==r?(s=r===a&&l.jsx(Z,{sx:{p:2},children:n}),e[5]=n,e[6]=a,e[7]=r,e[8]=s):s=e[8];let c;return e[9]!==i||e[10]!==o||e[11]!==s?(c=l.jsx("div",{role:"tabpanel",hidden:o,...i,children:s}),e[9]=i,e[10]=o,e[11]=s,e[12]=c):c=e[12],c}function xlt({open:t,onClose:e,onSelect:n,fieldLabel:a}){const{t:i}=ht(["workflows","common"]),[r,o]=E.useState(0),[s,c]=E.useState(""),[u,d]=E.useState(null),[h,m]=E.useState([]),[g,y]=E.useState(""),[v,S]=E.useState(!1),[w,_]=E.useState(null);E.useEffect(()=>{t&&r===4&&T()},[t,r]);const T=async()=>{try{S(!0);const N=await rp.getCanvasImages();m(N.data||[]),y(N.canvasPath||"")}catch(N){_("Failed to load canvas images"),console.error(N)}finally{S(!1)}},A=N=>{const P=N.target.files?.[0];if(P){const O=new FileReader;O.onloadend=()=>{d(O.result)},O.readAsDataURL(P)}},R=N=>{n(N),e()},I=()=>{c(""),d(null),_(null),e()};return l.jsxs(Fn,{open:t,onClose:I,maxWidth:"md",fullWidth:!0,children:[l.jsxs(Un,{children:[a," - ",i("workflows:imageSelection.title")]}),l.jsxs($n,{children:[l.jsx(Z,{sx:{borderBottom:1,borderColor:"divider"},children:l.jsxs(No,{value:r,onChange:(N,P)=>o(P),children:[l.jsx(Cn,{icon:l.jsx(Wc,{}),label:i("workflows:imageSelection.tabs.dbSearch"),iconPosition:"start",disabled:!0}),l.jsx(Cn,{icon:l.jsx(eMe,{}),label:i("workflows:imageSelection.tabs.hash"),iconPosition:"start"}),l.jsx(Cn,{icon:l.jsx(bp,{}),label:i("workflows:imageSelection.tabs.upload"),iconPosition:"start"}),l.jsx(Cn,{icon:l.jsx(M4,{}),label:i("workflows:imageSelection.tabs.history"),iconPosition:"start",disabled:!0}),l.jsx(Cn,{icon:l.jsx(cl,{}),label:i("workflows:imageSelection.tabs.dedicatedFolder"),iconPosition:"start"})]})}),w&&l.jsx(xt,{severity:"error",sx:{mt:2},onClose:()=>_(null),children:w}),l.jsx(sv,{value:r,index:0,children:l.jsx(Z,{sx:{textAlign:"center",py:4},children:l.jsx(ie,{variant:"body1",color:"text.secondary",children:i("workflows:imageSelection.inPreparation")})})}),l.jsxs(sv,{value:r,index:1,children:[l.jsx(Tt,{fullWidth:!0,label:i("workflows:imageSelection.hashInputLabel"),value:s,onChange:N=>c(N.target.value),placeholder:i("workflows:imageSelection.hashInputPlaceholder"),sx:{mb:2}}),s&&l.jsx(Z,{sx:{textAlign:"center",py:2},children:l.jsx(ie,{variant:"body2",color:"text.secondary",children:i("workflows:imageSelection.hashComingSoon")})})]}),l.jsx(sv,{value:r,index:2,children:l.jsxs(Z,{children:[l.jsx("input",{accept:"image/*",style:{display:"none"},id:"image-upload-input",type:"file",onChange:A}),l.jsx("label",{htmlFor:"image-upload-input",children:l.jsx(Ue,{variant:"outlined",component:"span",fullWidth:!0,startIcon:l.jsx(bp,{}),sx:{mb:2},children:i("workflows:imageSelection.selectButton")})}),u&&l.jsxs(Z,{sx:{mt:2,textAlign:"center"},children:[l.jsx("img",{src:u,alt:"Preview",style:{maxWidth:"100%",maxHeight:"400px",objectFit:"contain"}}),l.jsxs(Z,{sx:{mt:2,display:"flex",gap:2,justifyContent:"center"},children:[l.jsx(Ue,{variant:"contained",onClick:()=>{u&&R(u)},children:i("workflows:imageSelection.useAsIs")}),l.jsx(Ue,{variant:"outlined",disabled:!0,children:i("workflows:imageSelection.editButton")})]})]})]})}),l.jsx(sv,{value:r,index:3,children:l.jsx(Z,{sx:{textAlign:"center",py:4},children:l.jsx(ie,{variant:"body1",color:"text.secondary",children:i("workflows:imageSelection.inPreparation")})})}),l.jsx(sv,{value:r,index:4,children:v?l.jsx(Z,{sx:{textAlign:"center",py:4},children:l.jsx(Yt,{})}):h.length===0?l.jsxs(Z,{sx:{textAlign:"center",py:4},children:[l.jsx(ie,{variant:"body1",color:"text.secondary",children:i("workflows:imageSelection.noImagesInFolder")}),g&&l.jsxs(ie,{variant:"body2",color:"text.secondary",sx:{mt:1},children:[g," ",i("workflows:imageSelection.addImagesPrompt")]})]}):l.jsx(dn,{container:!0,spacing:2,children:h.map((N,P)=>l.jsx(dn,{size:{xs:6,sm:4,md:3},children:l.jsx(ma,{children:l.jsxs(c9e,{onClick:()=>R(N.path),children:[l.jsx(ho,{component:"img",height:"140",image:`http://localhost:1566${N.path}`,alt:N.filename,sx:{objectFit:"cover"}}),l.jsx(Z,{sx:{p:1},children:l.jsx(ie,{variant:"caption",noWrap:!0,children:N.filename})})]})})},P))})})]}),l.jsx(Wn,{children:l.jsx(Ue,{onClick:I,children:i("common:buttons.cancel")})})]})}function vlt(t){const e=[];for(const a of t){const i=a.split("/");let r=e;for(let o=0;o<i.length;o++){const s=i[o],c=o===i.length-1,u=i.slice(0,o+1).join("/");let d=r.find(h=>h.name===s);d||(d={name:s,path:c?a:u,isFolder:!c,children:c?void 0:[]},r.push(d)),!c&&d.children&&(r=d.children)}}const n=a=>a.sort((i,r)=>i.isFolder&&!r.isFolder?-1:!i.isFolder&&r.isFolder?1:i.name.localeCompare(r.name)).map(i=>({...i,children:i.children?n(i.children):void 0}));return n(e)}function $ae(t,e){if(!e)return t;const n=e.toLowerCase(),a=[];for(const i of t)if(i.isFolder&&i.children){const r=$ae(i.children,e);r.length>0&&a.push({...i,children:r})}else i.name.toLowerCase().includes(n)&&a.push(i);return a}function Uae(t){const e=yt.c(42),{node:n,depth:a,selectedValue:i,onSelect:r,expandedFolders:o,onToggleFolder:s}=t;let c;e[0]!==o||e[1]!==n.path?(c=o.has(n.path),e[0]=o,e[1]=n.path,e[2]=c):c=e[2];const u=c,d=i===n.path;let h;e[3]!==n.isFolder||e[4]!==n.path||e[5]!==r||e[6]!==s?(h=()=>{n.isFolder?s(n.path):r(n.path)},e[3]=n.isFolder,e[4]=n.path,e[5]=r,e[6]=s,e[7]=h):h=e[7];const m=h,g=1+a*2;let y;e[8]===Symbol.for("react.memo_cache_sentinel")?(y={bgcolor:"primary.main",color:"primary.contrastText","&:hover":{bgcolor:"primary.dark"}},e[8]=y):y=e[8];let v;e[9]!==g?(v={pl:g,py:.5,borderRadius:1,"&.Mui-selected":y},e[9]=g,e[10]=v):v=e[10];let S;e[11]!==u||e[12]!==n.isFolder?(S=n.isFolder&&l.jsx(Ao,{sx:{minWidth:24},children:u?l.jsx(zi,{sx:{fontSize:"1rem"}}):l.jsx(Vh,{sx:{fontSize:"1rem"}})}),e[11]=u,e[12]=n.isFolder,e[13]=S):S=e[13];let w;e[14]===Symbol.for("react.memo_cache_sentinel")?(w={minWidth:28},e[14]=w):w=e[14];let _;e[15]!==u||e[16]!==n.isFolder?(_=l.jsx(Ao,{sx:w,children:n.isFolder?u?l.jsx(Ps,{sx:{fontSize:"1.1rem",color:"warning.main"}}):l.jsx(cl,{sx:{fontSize:"1.1rem",color:"warning.main"}}):l.jsx(MOe,{sx:{fontSize:"1rem",color:"text.secondary"}})}),e[15]=u,e[16]=n.isFolder,e[17]=_):_=e[17];const T=d?600:400;let A;e[18]!==T?(A={fontSize:"0.85rem",fontWeight:T,noWrap:!0},e[18]=T,e[19]=A):A=e[19];let R;e[20]!==n.name||e[21]!==A?(R=l.jsx(ar,{primary:n.name,primaryTypographyProps:A}),e[20]=n.name,e[21]=A,e[22]=R):R=e[22];let I;e[23]!==m||e[24]!==d||e[25]!==R||e[26]!==v||e[27]!==S||e[28]!==_?(I=l.jsxs(gp,{onClick:m,selected:d,sx:v,children:[S,_,R]}),e[23]=m,e[24]=d,e[25]=R,e[26]=v,e[27]=S,e[28]=_,e[29]=I):I=e[29];let N;e[30]!==a||e[31]!==o||e[32]!==u||e[33]!==n.children||e[34]!==n.isFolder||e[35]!==r||e[36]!==s||e[37]!==i?(N=n.isFolder&&n.children&&l.jsx(Gc,{in:u,timeout:"auto",unmountOnExit:!0,children:l.jsx(Ms,{disablePadding:!0,children:n.children.map(O=>l.jsx(Uae,{node:O,depth:a+1,selectedValue:i,onSelect:r,expandedFolders:o,onToggleFolder:s},O.path))})}),e[30]=a,e[31]=o,e[32]=u,e[33]=n.children,e[34]=n.isFolder,e[35]=r,e[36]=s,e[37]=i,e[38]=N):N=e[38];let P;return e[39]!==I||e[40]!==N?(P=l.jsxs(l.Fragment,{children:[I,N]}),e[39]=I,e[40]=N,e[41]=P):P=e[41],P}function Slt(t){const e=yt.c(77),{options:n,value:a,onChange:i,label:r,helperText:o}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=["workflows"],e[0]=s):s=e[0];const{t:c}=ht(s),[u,d]=E.useState("dropdown"),[h,m]=E.useState("");let g;e[1]===Symbol.for("react.memo_cache_sentinel")?(g=new Set,e[1]=g):g=e[1];const[y,v]=E.useState(g);let S;e[2]!==n?(S=vlt(n),e[2]=n,e[3]=S):S=e[3];const w=S;let _;e[4]!==h||e[5]!==w?(_=$ae(w,h),e[4]=h,e[5]=w,e[6]=_):_=e[6];const T=_;let A;e[7]!==y?(A=me=>{const ge=new Set(y);ge.has(me)?ge.delete(me):ge.add(me),v(ge)},e[7]=y,e[8]=A):A=e[8];const R=A;let I;e[9]!==w?(I=()=>{const me=new Set,ge=ye=>{for(const he of ye)he.isFolder&&(me.add(he.path),he.children&&ge(he.children))};ge(w),v(me)},e[9]=w,e[10]=I):I=e[10];const N=I;let P;e[11]!==n?(P=n.some(wlt),e[11]=n,e[12]=P):P=e[12];const O=P;if(u==="dropdown"){let me;e[13]===Symbol.for("react.memo_cache_sentinel")?(me={display:"flex",gap:1,alignItems:"flex-start"},e[13]=me):me=e[13];let ge;e[14]!==i?(ge=le=>i(le.target.value),e[14]=i,e[15]=ge):ge=e[15];let ye;e[16]===Symbol.for("react.memo_cache_sentinel")?(ye={native:!0},e[16]=ye):ye=e[16];let he;e[17]===Symbol.for("react.memo_cache_sentinel")?(he={flex:1},e[17]=he):he=e[17];let de;e[18]!==n?(de=n.map(Clt),e[18]=n,e[19]=de):de=e[19];let fe;e[20]!==o||e[21]!==r||e[22]!==de||e[23]!==ge||e[24]!==a?(fe=l.jsx(Tt,{fullWidth:!0,select:!0,label:r,value:a,onChange:ge,SelectProps:ye,helperText:o,sx:he,children:de}),e[20]=o,e[21]=r,e[22]=de,e[23]=ge,e[24]=a,e[25]=fe):fe=e[25];let oe;e[26]!==O||e[27]!==c?(oe=O&&l.jsx(jt,{title:c("workflows:form.switchToTree"," "),children:l.jsx(lt,{onClick:()=>d("tree"),sx:{mt:1},children:l.jsx(tD,{})})}),e[26]=O,e[27]=c,e[28]=oe):oe=e[28];let ue;return e[29]!==fe||e[30]!==oe?(ue=l.jsxs(Z,{sx:me,children:[fe,oe]}),e[29]=fe,e[30]=oe,e[31]=ue):ue=e[31],ue}let D;e[32]===Symbol.for("react.memo_cache_sentinel")?(D={display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},e[32]=D):D=e[32];let H;e[33]!==r?(H=l.jsx(ie,{variant:"subtitle2",children:r}),e[33]=r,e[34]=H):H=e[34];let L;e[35]!==c?(L=c("workflows:form.switchToDropdown"," "),e[35]=c,e[36]=L):L=e[36];let $;e[37]===Symbol.for("react.memo_cache_sentinel")?($=()=>d("dropdown"),e[37]=$):$=e[37];let M;e[38]===Symbol.for("react.memo_cache_sentinel")?(M=l.jsx(lt,{onClick:$,size:"small",children:l.jsx(qQ,{})}),e[38]=M):M=e[38];let z;e[39]!==L?(z=l.jsx(jt,{title:L,children:M}),e[39]=L,e[40]=z):z=e[40];let F;e[41]!==z||e[42]!==H?(F=l.jsxs(Z,{sx:D,children:[H,z]}),e[41]=z,e[42]=H,e[43]=F):F=e[43];let G;e[44]===Symbol.for("react.memo_cache_sentinel")?(G={p:1},e[44]=G):G=e[44];let ee;e[45]!==c?(ee=c("workflows:form.searchModel"," ..."),e[45]=c,e[46]=ee):ee=e[46];let V;e[47]!==N?(V=me=>{m(me.target.value),me.target.value&&N()},e[47]=N,e[48]=V):V=e[48];let Y,K;e[49]===Symbol.for("react.memo_cache_sentinel")?(Y={startAdornment:l.jsx(w2,{position:"start",children:l.jsx(Wc,{sx:{fontSize:"1.2rem"}})})},K={mb:1},e[49]=Y,e[50]=K):(Y=e[49],K=e[50]);let J;e[51]!==h||e[52]!==ee||e[53]!==V?(J=l.jsx(Tt,{fullWidth:!0,size:"small",placeholder:ee,value:h,onChange:V,InputProps:Y,sx:K}),e[51]=h,e[52]=ee,e[53]=V,e[54]=J):J=e[54];let W;e[55]===Symbol.for("react.memo_cache_sentinel")?(W={maxHeight:300,overflow:"auto"},e[55]=W):W=e[55];let te;e[56]!==y||e[57]!==T||e[58]!==R||e[59]!==i||e[60]!==h||e[61]!==c||e[62]!==a?(te=l.jsx(Z,{sx:W,children:T.length>0?l.jsx(Ms,{dense:!0,disablePadding:!0,children:T.map(me=>l.jsx(Uae,{node:me,depth:0,selectedValue:a,onSelect:i,expandedFolders:y,onToggleFolder:R},me.path))}):l.jsx(ie,{variant:"body2",color:"text.secondary",align:"center",sx:{py:2},children:h?c("workflows:form.noSearchResults","  "):c("workflows:form.noModels"," ")})}),e[56]=y,e[57]=T,e[58]=R,e[59]=i,e[60]=h,e[61]=c,e[62]=a,e[63]=te):te=e[63];let re;e[64]!==c||e[65]!==a?(re=a&&l.jsxs(Z,{sx:{mt:1,pt:1,borderTop:1,borderColor:"divider"},children:[l.jsxs(ie,{variant:"caption",color:"text.secondary",children:[c("workflows:form.selected",""),":"]}),l.jsx(ie,{variant:"body2",sx:{fontWeight:500,wordBreak:"break-all"},children:a})]}),e[64]=c,e[65]=a,e[66]=re):re=e[66];let ne;e[67]!==J||e[68]!==te||e[69]!==re?(ne=l.jsxs(Gt,{variant:"outlined",sx:G,children:[J,te,re]}),e[67]=J,e[68]=te,e[69]=re,e[70]=ne):ne=e[70];let ce;e[71]!==o?(ce=o&&l.jsx(ie,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:o}),e[71]=o,e[72]=ce):ce=e[72];let pe;return e[73]!==F||e[74]!==ne||e[75]!==ce?(pe=l.jsxs(Z,{children:[F,ne,ce]}),e[73]=F,e[74]=ne,e[75]=ce,e[76]=pe):pe=e[76],pe}function Clt(t){return l.jsx("option",{value:t,children:t},t)}function wlt(t){return t.includes("/")}function _lt({workflow:t,formData:e,onFieldChange:n,promptData:a}){const{t:i}=ht(["workflows"]),[r,o]=E.useState(!1),[s,c]=E.useState(null),[u,d]=E.useState({});E.useEffect(()=>{(async()=>{if(!t.marked_fields)return;const v={};for(const S of t.marked_fields)if(S.type==="select"&&S.dropdown_list_name)try{const w=await Mm.getListByName(S.dropdown_list_name);w.success&&w.data?v[S.id]=w.data.items:(console.warn(`Dropdown list "${S.dropdown_list_name}" not found, using fallback options`),v[S.id]=S.options||[])}catch(w){console.error(`Failed to load dropdown list "${S.dropdown_list_name}":`,w),v[S.id]=S.options||[]}else S.type==="select"&&(v[S.id]=S.options||[]);d(v);for(const S of t.marked_fields)if(S.type==="select"){const w=v[S.id]||S.options||[],_=e[S.id];(!_||_==="")&&w.length>0&&n(S.id,w[0])}})()},[t]);const h=y=>{c(y),o(!0)},m=y=>{s&&n(s.id,y),o(!1),c(null)},g=y=>{const v=e[y.id]||"";switch(y.type){case"textarea":return l.jsx(Z,{sx:{mb:2},children:l.jsx(s_,{multiline:!0,rows:4,label:y.label,value:v,onChange:S=>n(y.id,S),required:y.required,placeholder:y.placeholder})},y.id);case"number":return l.jsx(Tt,{fullWidth:!0,type:"number",label:y.label,value:v,onChange:S=>n(y.id,S.target.value),required:y.required,placeholder:y.placeholder,inputProps:{min:y.min,max:y.max,step:y.step||1},sx:{mb:2}},y.id);case"select":{const S=u[y.id]||y.options||[];return S.some(_=>_.includes("/"))?l.jsx(Z,{sx:{mb:2},children:l.jsx(Slt,{options:S,value:v,onChange:_=>n(y.id,_),label:y.label,helperText:y.dropdown_list_name?` ${y.dropdown_list_name}`:void 0})},y.id):l.jsx(Tt,{fullWidth:!0,select:!0,label:y.label,value:v,onChange:_=>n(y.id,_.target.value),required:y.required,SelectProps:{native:!0},sx:{mb:2},helperText:y.dropdown_list_name?` ${y.dropdown_list_name}`:void 0,children:S.map(_=>l.jsx("option",{value:_,children:_},_))},y.id)}case"image":return l.jsxs(Z,{sx:{mb:2},children:[l.jsxs(ie,{variant:"subtitle2",gutterBottom:!0,children:[y.label," ",y.required&&l.jsx("span",{style:{color:"red"},children:"*"})]}),l.jsx(Ue,{variant:"outlined",startIcon:l.jsx(qc,{}),onClick:()=>h(y),fullWidth:!0,sx:{mb:1},children:i("workflows:form.selectImage")}),v&&l.jsx(ma,{sx:{mt:1},children:l.jsx(ho,{component:"img",height:"200",image:v.startsWith("data:")?v:`http://localhost:1566${v}`,alt:y.label,sx:{objectFit:"contain"}})})]},y.id);default:return l.jsx(Z,{sx:{mb:2},children:l.jsx(s_,{label:y.label,value:v,onChange:S=>n(y.id,S),required:y.required,placeholder:y.placeholder})},y.id)}};return l.jsxs(Gt,{sx:{p:3},children:[l.jsx(ie,{variant:"h6",gutterBottom:!0,children:i("workflows:generate.settingsTitle")}),l.jsx(fn,{sx:{mb:3}}),t.marked_fields&&t.marked_fields.length>0?l.jsx(Z,{children:t.marked_fields.map(y=>g(y))}):l.jsx(xt,{severity:"info",sx:{mb:2},children:i("workflows:alerts.noConfigurableFields")}),l.jsxs(rl,{children:[l.jsx(sl,{expandIcon:l.jsx(zi,{}),children:l.jsx(ie,{variant:"body2",children:i("workflows:generate.previewTitle")})}),l.jsx(ol,{children:l.jsx(Z,{component:"pre",sx:{p:2,borderRadius:1,overflow:"auto",maxHeight:400,fontSize:"0.75rem",fontFamily:"monospace"},children:JSON.stringify(a,null,2)})})]}),s&&l.jsx(xlt,{open:r,onClose:()=>{o(!1),c(null)},onSelect:m,fieldLabel:s.label})]})}function Tlt(t){const e=yt.c(23),{selectedGroup:n,onOpenModal:a,onRemove:i}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=["workflows"],e[0]=r):r=e[0];const{t:o}=ht(r);let s;e[1]===Symbol.for("react.memo_cache_sentinel")?(s={p:3},e[1]=s):s=e[1];let c;e[2]!==o?(c=o("workflows:groupAssignment.title"),e[2]=o,e[3]=c):c=e[3];let u;e[4]!==c?(u=l.jsx(ie,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:c}),e[4]=c,e[5]=u):u=e[5];let d;e[6]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(fn,{sx:{mb:2}}),e[6]=d):d=e[6];let h;e[7]===Symbol.for("react.memo_cache_sentinel")?(h={display:"flex",flexDirection:"column",gap:2},e[7]=h):h=e[7];let m;e[8]!==a||e[9]!==i||e[10]!==n||e[11]!==o?(m=n?l.jsx(Z,{sx:{display:"flex",alignItems:"center",gap:1},children:l.jsx(mt,{icon:l.jsx(Ps,{}),label:n.name,onDelete:i,color:"primary",sx:{flex:1}})}):l.jsx(Ue,{variant:"outlined",startIcon:l.jsx(Ps,{}),onClick:a,fullWidth:!0,children:o("workflows:groupAssignment.selectGroup")}),e[8]=a,e[9]=i,e[10]=n,e[11]=o,e[12]=m):m=e[12];let g;e[13]!==o?(g=o("workflows:groupAssignment.autoAddDescription"),e[13]=o,e[14]=g):g=e[14];let y;e[15]!==g?(y=l.jsx(ie,{variant:"caption",color:"text.secondary",children:g}),e[15]=g,e[16]=y):y=e[16];let v;e[17]!==m||e[18]!==y?(v=l.jsxs(Z,{sx:h,children:[m,y]}),e[17]=m,e[18]=y,e[19]=v):v=e[19];let S;return e[20]!==v||e[21]!==u?(S=l.jsxs(Gt,{sx:s,children:[u,d,v]}),e[20]=v,e[21]=u,e[22]=S):S=e[22],S}function Elt(t){const e=yt.c(54),{servers:n,serverRepeatStates:a}=t;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=["workflows"],e[0]=i):i=e[0];const{t:r}=ht(i);if(Object.keys(a).length===0)return null;let o,s,c,u,d,h,m,g,y,v,S,w,_;if(e[1]!==a||e[2]!==r){const D=Object.values(a).reduce(klt,0);let H;e[16]!==a?(H=Object.values(a).reduce(Rlt,0),e[16]=a,e[17]=H):H=e[17],d=H,u=Object.values(a).some(Alt),h=d>0?D/d*100:0,c=Gt,e[18]===Symbol.for("react.memo_cache_sentinel")?(S={p:3},e[18]=S):S=e[18];let L;e[19]!==r?(L=r("workflows:repeatExecution.statusTitle"),e[19]=r,e[20]=L):L=e[20],e[21]!==L?(w=l.jsx(ie,{variant:"h6",gutterBottom:!0,children:L}),e[21]=L,e[22]=w):w=e[22],e[23]===Symbol.for("react.memo_cache_sentinel")?(_=l.jsx(fn,{sx:{mb:2}}),e[23]=_):_=e[23],s=Z,e[24]===Symbol.for("react.memo_cache_sentinel")?(v={mb:3},e[24]=v):v=e[24],o=ie,m="body2",g=!0,y=r("workflows:repeatExecution.overall",{completed:D,total:d>0?` / ${d}`:""}),e[1]=a,e[2]=r,e[3]=o,e[4]=s,e[5]=c,e[6]=u,e[7]=d,e[8]=h,e[9]=m,e[10]=g,e[11]=y,e[12]=v,e[13]=S,e[14]=w,e[15]=_}else o=e[3],s=e[4],c=e[5],u=e[6],d=e[7],h=e[8],m=e[9],g=e[10],y=e[11],v=e[12],S=e[13],w=e[14],_=e[15];let T;e[25]!==u||e[26]!==r?(T=u&&r("workflows:repeatExecution.withInfinite"),e[25]=u,e[26]=r,e[27]=T):T=e[27];let A;e[28]!==o||e[29]!==m||e[30]!==g||e[31]!==y||e[32]!==T?(A=l.jsxs(o,{variant:m,gutterBottom:g,children:[y,T]}),e[28]=o,e[29]=m,e[30]=g,e[31]=y,e[32]=T,e[33]=A):A=e[33];let R;e[34]!==d||e[35]!==h?(R=d>0&&l.jsx(oc,{variant:"determinate",value:h,sx:{mt:1}}),e[34]=d,e[35]=h,e[36]=R):R=e[36];let I;e[37]!==s||e[38]!==A||e[39]!==R||e[40]!==v?(I=l.jsxs(s,{sx:v,children:[A,R]}),e[37]=s,e[38]=A,e[39]=R,e[40]=v,e[41]=I):I=e[41];let N;e[42]===Symbol.for("react.memo_cache_sentinel")?(N={display:"flex",flexDirection:"column",gap:1},e[42]=N):N=e[42];let P;e[43]!==a||e[44]!==n||e[45]!==r?(P=l.jsx(Z,{sx:N,children:Object.entries(a).map(D=>{const[H,L]=D,$=parseInt(H),M=n.find(z=>z.id===$);return M?l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:1,p:1,borderRadius:1,bgcolor:"action.hover"},children:[l.jsx(ie,{variant:"body2",sx:{flex:1},children:M.name}),l.jsx(mt,{label:L.totalIterations===-1?r("workflows:repeatExecution.serverProgressInfinite",{count:L.currentIteration}):`${L.currentIteration} / ${r("workflows:repeatExecution.serverProgress",{count:L.totalIterations})}`,size:"small",color:L.isRunning?"primary":"default"})]},$):null})}),e[43]=a,e[44]=n,e[45]=r,e[46]=P):P=e[46];let O;return e[47]!==c||e[48]!==I||e[49]!==P||e[50]!==S||e[51]!==w||e[52]!==_?(O=l.jsxs(c,{sx:S,children:[w,_,I,P]}),e[47]=c,e[48]=I,e[49]=P,e[50]=S,e[51]=w,e[52]=_,e[53]=O):O=e[53],O}function Alt(t){return t.totalIterations===-1}function Rlt(t,e){return t+(e.totalIterations===-1?0:e.totalIterations)}function klt(t,e){return t+e.currentIteration}function Ilt(t){const e=yt.c(33),{workflow:n,servers:a,serverStatus:i,generationStatus:r,serverRepeatStates:o,onGenerate:s,onStartRepeat:c,onStopRepeat:u}=t;let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d=["workflows"],e[0]=d):d=e[0];const{t:h}=ht(d);let m;e[1]===Symbol.for("react.memo_cache_sentinel")?(m={p:3},e[1]=m):m=e[1];let g;e[2]!==h?(g=h("workflows:generate.serversListTitle"),e[2]=h,e[3]=g):g=e[3];let y;e[4]!==g?(y=l.jsx(ie,{variant:"h6",gutterBottom:!0,children:g}),e[4]=g,e[5]=y):y=e[5];let v;e[6]===Symbol.for("react.memo_cache_sentinel")?(v=l.jsx(fn,{sx:{mb:2}}),e[6]=v):v=e[6];let S;e[7]!==a.length||e[8]!==h?(S=a.length===0&&l.jsx(xt,{severity:"info",children:h("workflows:generate.noServers")}),e[7]=a.length,e[8]=h,e[9]=S):S=e[9];let w;if(e[10]!==r||e[11]!==s||e[12]!==c||e[13]!==u||e[14]!==o||e[15]!==i||e[16]!==a||e[17]!==h||e[18]!==n){let T;e[20]!==r||e[21]!==s||e[22]!==c||e[23]!==u||e[24]!==o||e[25]!==i||e[26]!==h||e[27]!==n?(T=A=>{const R=i[A.id],I=r[A.id],N=o[A.id];return l.jsxs(Z,{sx:{mb:2,pb:2,borderBottom:"1px solid",borderColor:"divider"},children:[l.jsxs(Z,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[R?.connected?l.jsx(po,{color:"success",fontSize:"small"}):l.jsx(hg,{color:"error",fontSize:"small"}),l.jsx(ie,{variant:"body2",fontWeight:"bold",sx:{flex:1},children:A.name}),I?.status==="generating"&&l.jsx(Yt,{size:16})]}),R?.responseTime&&l.jsx(ie,{variant:"caption",color:"text.secondary",display:"block",children:h("workflows:generate.responseTime",{time:R.responseTime})}),N&&l.jsx(Z,{sx:{mt:1,mb:1},children:l.jsx(mt,{label:N.totalIterations===-1?h("workflows:serverStatus.executingInfinite",{count:N.currentIteration}):h("workflows:serverStatus.executingProgress",{current:N.currentIteration,total:N.totalIterations}),color:"primary",size:"small"})}),l.jsxs(Z,{sx:{mt:1,display:"flex",gap:1},children:[l.jsx(Ue,{size:"small",variant:"outlined",onClick:()=>s(A.id),disabled:!R?.connected||I?.status==="generating"||N?.isRunning||!n.is_active,children:h("workflows:serverStatus.generate")}),N?.isRunning?l.jsx(Ue,{size:"small",variant:"outlined",color:"error",onClick:()=>u(A.id),children:h("workflows:serverStatus.stop")}):l.jsx(Ue,{size:"small",variant:"outlined",color:"primary",onClick:()=>c(A.id),disabled:!R?.connected||I?.status==="generating"||!n.is_active,children:h("workflows:serverStatus.startRepeat")})]}),I?.status==="generating"&&l.jsx(oc,{sx:{mt:1}}),I?.status==="failed"&&l.jsx(xt,{severity:"error",sx:{mt:1},children:I.error||h("workflows:generate.generationFailed")})]},A.id)},e[20]=r,e[21]=s,e[22]=c,e[23]=u,e[24]=o,e[25]=i,e[26]=h,e[27]=n,e[28]=T):T=e[28],w=a.map(T),e[10]=r,e[11]=s,e[12]=c,e[13]=u,e[14]=o,e[15]=i,e[16]=a,e[17]=h,e[18]=n,e[19]=w}else w=e[19];let _;return e[29]!==y||e[30]!==S||e[31]!==w?(_=l.jsxs(Gt,{sx:m,children:[y,v,S,w]}),e[29]=y,e[30]=S,e[31]=w,e[32]=_):_=e[32],_}function Nlt(){const t=yt.c(172),{id:e}=tj();let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=["workflows","common"],t[0]=n):n=t[0];const{t:a}=ht(n),{loading:i,error:r,setError:o,workflow:s,formData:c,loadWorkflow:u,handleFieldChange:d,getPromptData:h}=dlt(e);let m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m={},t[1]=m):m=t[1];const[g,y]=E.useState(m),{servers:v,serverStatus:S,generationStatus:w,setGenerationStatus:_,loadServers:T,getConnectedServers:A}=flt(),{selectedGroupId:R,selectedGroup:I,groupModalOpen:N,setGroupModalOpen:P,loadSavedGroup:O,handleGroupSelect:D,handleRemoveGroup:H}=hlt();let L;t[2]!==c||t[3]!==h||t[4]!==e||t[5]!==R||t[6]!==v||t[7]!==o||t[8]!==_||t[9]!==s?(L={workflowId:e,workflow:s,formData:c,getPromptData:h,selectedGroupId:R,servers:v,setGenerationStatus:_,setError:o},t[2]=c,t[3]=h,t[4]=e,t[5]=R,t[6]=v,t[7]=o,t[8]=_,t[9]=s,t[10]=L):L=t[10];const{historyRefreshKey:$,handleGenerateOnServer:M}=plt(L);let z;t[11]===Symbol.for("react.memo_cache_sentinel")?(z={enabled:!1,count:3,delaySeconds:5},t[11]=z):z=t[11];const[F,G]=E.useState(z);let ee;t[12]!==M||t[13]!==F||t[14]!==v?(ee={servers:v,repeatConfig:F,handleGenerateOnServer:M},t[12]=M,t[13]=F,t[14]=v,t[15]=ee):ee=t[15];const{serverRepeatStates:V,handleStartServerRepeat:Y,handleStopServerRepeat:K}=blt(ee);let J;t[16]!==M||t[17]!==Y||t[18]!==F||t[19]!==S||t[20]!==v||t[21]!==o?(J={servers:v,serverStatus:S,repeatConfig:F,handleGenerateOnServer:M,handleStartServerRepeat:Y,setError:o},t[16]=M,t[17]=Y,t[18]=F,t[19]=S,t[20]=v,t[21]=o,t[22]=J):J=t[22];const{handleGenerateOnAllServers:W}=mlt(J);let te;t[23]!==O||t[24]!==T||t[25]!==u?(te=()=>{u(),T(),O()},t[23]=O,t[24]=T,t[25]=u,t[26]=te):te=t[26];let re;t[27]!==e?(re=[e],t[27]=e,t[28]=re):re=t[28],E.useEffect(te,re);let ne;t[29]!==c||t[30]!==h||t[31]!==s?(ne=()=>{s&&c&&h().then(Ht=>{y(Ht)}).catch(Ht=>{console.error("[WorkflowGeneratePage] Failed to build prompt data:",Ht),y({})})},t[29]=c,t[30]=h,t[31]=s,t[32]=ne):ne=t[32];let ce;if(t[33]!==c||t[34]!==s?(ce=[s,c],t[33]=c,t[34]=s,t[35]=ce):ce=t[35],E.useEffect(ne,ce),i){let Ht;return t[36]===Symbol.for("react.memo_cache_sentinel")?(Ht=l.jsx(Z,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:l.jsx(Yt,{})}),t[36]=Ht):Ht=t[36],Ht}if(!s){let Ht;t[37]===Symbol.for("react.memo_cache_sentinel")?(Ht={p:3},t[37]=Ht):Ht=t[37];let hn;t[38]!==a?(hn=a("workflows:card.notFound"),t[38]=a,t[39]=hn):hn=t[39];let _n;return t[40]!==hn?(_n=l.jsx(Z,{sx:Ht,children:l.jsx(xt,{severity:"error",children:hn})}),t[40]=hn,t[41]=_n):_n=t[41],_n}let pe,me,ge,ye,he,de,fe,oe,ue,le,Se,_e,Ie,ze,Me,Ze,Ee,Ne,ve,we,Oe,Le;if(t[42]!==r||t[43]!==c||t[44]!==A||t[45]!==d||t[46]!==W||t[47]!==H||t[48]!==K||t[49]!==g||t[50]!==F||t[51]!==I||t[52]!==V||t[53]!==o||t[54]!==P||t[55]!==a||t[56]!==s){const Ht=A();he=Z,t[79]===Symbol.for("react.memo_cache_sentinel")?(we={p:3},t[79]=we):we=t[79],t[80]!==s?(Oe=l.jsx(ylt,{workflow:s}),t[80]=s,t[81]=Oe):Oe=t[81],t[82]!==r||t[83]!==o?(Le=r&&l.jsx(xt,{severity:"error",sx:{mb:2},onClose:()=>o(null),children:r}),t[82]=r,t[83]=o,t[84]=Le):Le=t[84],ye=dn,Ne=!0,ve=3,ge=dn,t[85]===Symbol.for("react.memo_cache_sentinel")?(Ee={xs:12,md:12,lg:4},t[85]=Ee):Ee=t[85],me=Z,t[86]===Symbol.for("react.memo_cache_sentinel")?(Ie={display:"flex",flexDirection:"column",gap:3},t[86]=Ie):Ie=t[86],t[87]!==c||t[88]!==d||t[89]!==g||t[90]!==s?(ze=l.jsx(_lt,{workflow:s,formData:c,onFieldChange:d,promptData:g}),t[87]=c,t[88]=d,t[89]=g,t[90]=s,t[91]=ze):ze=t[91];let hn;t[92]!==P?(hn=()=>P(!0),t[92]=P,t[93]=hn):hn=t[93],t[94]!==H||t[95]!==I||t[96]!==hn?(Me=l.jsx(Tlt,{selectedGroup:I,onOpenModal:hn,onRemove:H}),t[94]=H,t[95]=I,t[96]=hn,t[97]=Me):Me=t[97];let _n;t[98]===Symbol.for("react.memo_cache_sentinel")?(_n={p:3},t[98]=_n):_n=t[98];let Tn;t[99]!==V?(Tn=Object.keys(V),t[99]=V,t[100]=Tn):Tn=t[100];const Wt=Tn.length>0;let Rn;t[101]!==Wt?(Rn={isRunning:Wt,currentIteration:0,totalIterations:0},t[101]=Wt,t[102]=Rn):Rn=t[102];let Et;t[103]!==K||t[104]!==V?(Et=()=>{Object.keys(V).forEach(Mt=>{K(parseInt(Mt))})},t[103]=K,t[104]=V,t[105]=Et):Et=t[105],t[106]!==F||t[107]!==Rn||t[108]!==Et?(Ze=l.jsx(Gt,{sx:_n,children:l.jsx(nte,{config:F,state:Rn,onConfigChange:G,onStop:Et,namespace:"workflows"})}),t[106]=F,t[107]=Rn,t[108]=Et,t[109]=Ze):Ze=t[109],pe=Ue,de=!0,fe="contained",oe="large",t[110]===Symbol.for("react.memo_cache_sentinel")?(ue=l.jsx(ip,{}),t[110]=ue):ue=t[110],le=W,Se=Ht.length===0||!s.is_active||Object.keys(V).length>0,_e=a("workflows:generate.generateAll",{count:Ht.length}),t[42]=r,t[43]=c,t[44]=A,t[45]=d,t[46]=W,t[47]=H,t[48]=K,t[49]=g,t[50]=F,t[51]=I,t[52]=V,t[53]=o,t[54]=P,t[55]=a,t[56]=s,t[57]=pe,t[58]=me,t[59]=ge,t[60]=ye,t[61]=he,t[62]=de,t[63]=fe,t[64]=oe,t[65]=ue,t[66]=le,t[67]=Se,t[68]=_e,t[69]=Ie,t[70]=ze,t[71]=Me,t[72]=Ze,t[73]=Ee,t[74]=Ne,t[75]=ve,t[76]=we,t[77]=Oe,t[78]=Le}else pe=t[57],me=t[58],ge=t[59],ye=t[60],he=t[61],de=t[62],fe=t[63],oe=t[64],ue=t[65],le=t[66],Se=t[67],_e=t[68],Ie=t[69],ze=t[70],Me=t[71],Ze=t[72],Ee=t[73],Ne=t[74],ve=t[75],we=t[76],Oe=t[77],Le=t[78];let We;t[111]!==pe||t[112]!==de||t[113]!==fe||t[114]!==oe||t[115]!==ue||t[116]!==le||t[117]!==Se||t[118]!==_e?(We=l.jsx(pe,{fullWidth:de,variant:fe,size:oe,startIcon:ue,onClick:le,disabled:Se,children:_e}),t[111]=pe,t[112]=de,t[113]=fe,t[114]=oe,t[115]=ue,t[116]=le,t[117]=Se,t[118]=_e,t[119]=We):We=t[119];let Fe;t[120]!==V||t[121]!==v?(Fe=l.jsx(Elt,{servers:v,serverRepeatStates:V}),t[120]=V,t[121]=v,t[122]=Fe):Fe=t[122];let Ve;t[123]!==w||t[124]!==M||t[125]!==Y||t[126]!==K||t[127]!==V||t[128]!==S||t[129]!==v||t[130]!==s?(Ve=l.jsx(Ilt,{workflow:s,servers:v,serverStatus:S,generationStatus:w,serverRepeatStates:V,onGenerate:M,onStartRepeat:Y,onStopRepeat:K}),t[123]=w,t[124]=M,t[125]=Y,t[126]=K,t[127]=V,t[128]=S,t[129]=v,t[130]=s,t[131]=Ve):Ve=t[131];let rt;t[132]!==a||t[133]!==s.is_active?(rt=!s.is_active&&l.jsx(xt,{severity:"warning",children:a("workflows:alerts.inactiveWarning")}),t[132]=a,t[133]=s.is_active,t[134]=rt):rt=t[134];let at;t[135]!==me||t[136]!==Ie||t[137]!==ze||t[138]!==Me||t[139]!==Ze||t[140]!==We||t[141]!==Fe||t[142]!==Ve||t[143]!==rt?(at=l.jsxs(me,{sx:Ie,children:[ze,Me,Ze,We,Fe,Ve,rt]}),t[135]=me,t[136]=Ie,t[137]=ze,t[138]=Me,t[139]=Ze,t[140]=We,t[141]=Fe,t[142]=Ve,t[143]=rt,t[144]=at):at=t[144];let ot;t[145]!==ge||t[146]!==Ee||t[147]!==at?(ot=l.jsx(ge,{size:Ee,children:at}),t[145]=ge,t[146]=Ee,t[147]=at,t[148]=ot):ot=t[148];let bt;t[149]===Symbol.for("react.memo_cache_sentinel")?(bt={xs:12,md:12,lg:8},t[149]=bt):bt=t[149];const Xt=parseInt(e);let Jt;t[150]!==$||t[151]!==Xt?(Jt=l.jsx(dn,{size:bt,children:l.jsx(ate,{serviceType:"comfyui",workflowId:Xt,refreshKey:$})}),t[150]=$,t[151]=Xt,t[152]=Jt):Jt=t[152];let vn;t[153]!==ye||t[154]!==Ne||t[155]!==ve||t[156]!==ot||t[157]!==Jt?(vn=l.jsxs(ye,{container:Ne,spacing:ve,children:[ot,Jt]}),t[153]=ye,t[154]=Ne,t[155]=ve,t[156]=ot,t[157]=Jt,t[158]=vn):vn=t[158];let jn;t[159]!==P?(jn=()=>P(!1),t[159]=P,t[160]=jn):jn=t[160];let ea;t[161]!==N||t[162]!==D||t[163]!==jn?(ea=l.jsx(m5,{open:N,onClose:jn,selectedImageCount:1,onAssign:D}),t[161]=N,t[162]=D,t[163]=jn,t[164]=ea):ea=t[164];let Kt;return t[165]!==he||t[166]!==we||t[167]!==Oe||t[168]!==Le||t[169]!==vn||t[170]!==ea?(Kt=l.jsxs(he,{sx:we,children:[Oe,Le,vn,ea]}),t[165]=he,t[166]=we,t[167]=Oe,t[168]=Le,t[169]=vn,t[170]=ea,t[171]=Kt):Kt=t[171],Kt}function GV(t){const e=[],n=String(t||"");let a=n.indexOf(","),i=0,r=!1;for(;!r;){a===-1&&(a=n.length,r=!0);const o=n.slice(i,a).trim();(o||!r)&&e.push(o),i=a+1,a=n.indexOf(",",i)}return e}function Gae(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const jlt=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Dlt=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Olt={};function qV(t,e){return(Olt.jsx?Dlt:jlt).test(t)}const Mlt=/[ \t\n\f\r]/g;function Plt(t){return typeof t=="object"?t.type==="text"?WV(t.value):!1:WV(t)}function WV(t){return t.replace(Mlt,"")===""}let zS=class{constructor(e,n,a){this.normal=n,this.property=e,a&&(this.space=a)}};zS.prototype.normal={};zS.prototype.property={};zS.prototype.space=void 0;function qae(t,e){const n={},a={};for(const i of t)Object.assign(n,i.property),Object.assign(a,i.normal);return new zS(n,a,e)}function Y2(t){return t.toLowerCase()}let zs=class{constructor(e,n){this.attribute=n,this.property=e}};zs.prototype.attribute="";zs.prototype.booleanish=!1;zs.prototype.boolean=!1;zs.prototype.commaOrSpaceSeparated=!1;zs.prototype.commaSeparated=!1;zs.prototype.defined=!1;zs.prototype.mustUseProperty=!1;zs.prototype.number=!1;zs.prototype.overloadedBoolean=!1;zs.prototype.property="";zs.prototype.spaceSeparated=!1;zs.prototype.space=void 0;let Llt=0;const Hn=$g(),gr=$g(),ON=$g(),It=$g(),ni=$g(),J1=$g(),Vs=$g();function $g(){return 2**++Llt}const MN=Object.freeze(Object.defineProperty({__proto__:null,boolean:Hn,booleanish:gr,commaOrSpaceSeparated:Vs,commaSeparated:J1,number:It,overloadedBoolean:ON,spaceSeparated:ni},Symbol.toStringTag,{value:"Module"})),lI=Object.keys(MN);let AO=class extends zs{constructor(e,n,a,i){let r=-1;if(super(e,n),VV(this,"space",i),typeof a=="number")for(;++r<lI.length;){const o=lI[r];VV(this,lI[r],(a&MN[o])===MN[o])}}};AO.prototype.defined=!0;function VV(t,e,n){n&&(t[e]=n)}function Xb(t){const e={},n={};for(const[a,i]of Object.entries(t.properties)){const r=new AO(a,t.transform(t.attributes||{},a),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(a)&&(r.mustUseProperty=!0),e[a]=r,n[Y2(a)]=a,n[Y2(r.attribute)]=a}return new zS(e,n,t.space)}const Wae=Xb({properties:{ariaActiveDescendant:null,ariaAtomic:gr,ariaAutoComplete:null,ariaBusy:gr,ariaChecked:gr,ariaColCount:It,ariaColIndex:It,ariaColSpan:It,ariaControls:ni,ariaCurrent:null,ariaDescribedBy:ni,ariaDetails:null,ariaDisabled:gr,ariaDropEffect:ni,ariaErrorMessage:null,ariaExpanded:gr,ariaFlowTo:ni,ariaGrabbed:gr,ariaHasPopup:null,ariaHidden:gr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ni,ariaLevel:It,ariaLive:null,ariaModal:gr,ariaMultiLine:gr,ariaMultiSelectable:gr,ariaOrientation:null,ariaOwns:ni,ariaPlaceholder:null,ariaPosInSet:It,ariaPressed:gr,ariaReadOnly:gr,ariaRelevant:null,ariaRequired:gr,ariaRoleDescription:ni,ariaRowCount:It,ariaRowIndex:It,ariaRowSpan:It,ariaSelected:gr,ariaSetSize:It,ariaSort:null,ariaValueMax:It,ariaValueMin:It,ariaValueNow:It,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Vae(t,e){return e in t?t[e]:e}function Yae(t,e){return Vae(t,e.toLowerCase())}const zlt=Xb({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:J1,acceptCharset:ni,accessKey:ni,action:null,allow:null,allowFullScreen:Hn,allowPaymentRequest:Hn,allowUserMedia:Hn,alt:null,as:null,async:Hn,autoCapitalize:null,autoComplete:ni,autoFocus:Hn,autoPlay:Hn,blocking:ni,capture:null,charSet:null,checked:Hn,cite:null,className:ni,cols:It,colSpan:null,content:null,contentEditable:gr,controls:Hn,controlsList:ni,coords:It|J1,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Hn,defer:Hn,dir:null,dirName:null,disabled:Hn,download:ON,draggable:gr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Hn,formTarget:null,headers:ni,height:It,hidden:ON,high:It,href:null,hrefLang:null,htmlFor:ni,httpEquiv:ni,id:null,imageSizes:null,imageSrcSet:null,inert:Hn,inputMode:null,integrity:null,is:null,isMap:Hn,itemId:null,itemProp:ni,itemRef:ni,itemScope:Hn,itemType:ni,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Hn,low:It,manifest:null,max:null,maxLength:It,media:null,method:null,min:null,minLength:It,multiple:Hn,muted:Hn,name:null,nonce:null,noModule:Hn,noValidate:Hn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Hn,optimum:It,pattern:null,ping:ni,placeholder:null,playsInline:Hn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Hn,referrerPolicy:null,rel:ni,required:Hn,reversed:Hn,rows:It,rowSpan:It,sandbox:ni,scope:null,scoped:Hn,seamless:Hn,selected:Hn,shadowRootClonable:Hn,shadowRootDelegatesFocus:Hn,shadowRootMode:null,shape:null,size:It,sizes:null,slot:null,span:It,spellCheck:gr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:It,step:null,style:null,tabIndex:It,target:null,title:null,translate:null,type:null,typeMustMatch:Hn,useMap:null,value:gr,width:It,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ni,axis:null,background:null,bgColor:null,border:It,borderColor:null,bottomMargin:It,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Hn,declare:Hn,event:null,face:null,frame:null,frameBorder:null,hSpace:It,leftMargin:It,link:null,longDesc:null,lowSrc:null,marginHeight:It,marginWidth:It,noResize:Hn,noHref:Hn,noShade:Hn,noWrap:Hn,object:null,profile:null,prompt:null,rev:null,rightMargin:It,rules:null,scheme:null,scrolling:gr,standby:null,summary:null,text:null,topMargin:It,valueType:null,version:null,vAlign:null,vLink:null,vSpace:It,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Hn,disableRemotePlayback:Hn,prefix:null,property:null,results:It,security:null,unselectable:null},space:"html",transform:Yae}),Flt=Xb({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Vs,accentHeight:It,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:It,amplitude:It,arabicForm:null,ascent:It,attributeName:null,attributeType:null,azimuth:It,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:It,by:null,calcMode:null,capHeight:It,className:ni,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:It,diffuseConstant:It,direction:null,display:null,dur:null,divisor:It,dominantBaseline:null,download:Hn,dx:null,dy:null,edgeMode:null,editable:null,elevation:It,enableBackground:null,end:null,event:null,exponent:It,externalResourcesRequired:null,fill:null,fillOpacity:It,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:J1,g2:J1,glyphName:J1,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:It,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:It,horizOriginX:It,horizOriginY:It,id:null,ideographic:It,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:It,k:It,k1:It,k2:It,k3:It,k4:It,kernelMatrix:Vs,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:It,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:It,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:It,overlineThickness:It,paintOrder:null,panose1:null,path:null,pathLength:It,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ni,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:It,pointsAtY:It,pointsAtZ:It,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Vs,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Vs,rev:Vs,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Vs,requiredFeatures:Vs,requiredFonts:Vs,requiredFormats:Vs,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:It,specularExponent:It,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:It,strikethroughThickness:It,string:null,stroke:null,strokeDashArray:Vs,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:It,strokeOpacity:It,strokeWidth:null,style:null,surfaceScale:It,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Vs,tabIndex:It,tableValues:null,target:null,targetX:It,targetY:It,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Vs,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:It,underlineThickness:It,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:It,values:null,vAlphabetic:It,vMathematical:It,vectorEffect:null,vHanging:It,vIdeographic:It,version:null,vertAdvY:It,vertOriginX:It,vertOriginY:It,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:It,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Vae}),Kae=Xb({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Xae=Xb({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Yae}),Qae=Xb({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Blt={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Hlt=/[A-Z]/g,YV=/-[a-z]/g,$lt=/^data[-\w.:]+$/i;function RO(t,e){const n=Y2(e);let a=e,i=zs;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&$lt.test(e)){if(e.charAt(4)==="-"){const r=e.slice(5).replace(YV,Glt);a="data"+r.charAt(0).toUpperCase()+r.slice(1)}else{const r=e.slice(4);if(!YV.test(r)){let o=r.replace(Hlt,Ult);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=AO}return new i(a,e)}function Ult(t){return"-"+t.toLowerCase()}function Glt(t){return t.charAt(1).toUpperCase()}const nT=qae([Wae,zlt,Kae,Xae,Qae],"html"),Qb=qae([Wae,Flt,Kae,Xae,Qae],"svg");function KV(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function Zae(t){return t.join(" ").trim()}var A1={},cI,XV;function qlt(){if(XV)return cI;XV=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,r=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,s=/^\s+|\s+$/g,c=`
`,u="/",d="*",h="",m="comment",g="declaration";cI=function(v,S){if(typeof v!="string")throw new TypeError("First argument must be a string");if(!v)return[];S=S||{};var w=1,_=1;function T($){var M=$.match(e);M&&(w+=M.length);var z=$.lastIndexOf(c);_=~z?$.length-z:_+$.length}function A(){var $={line:w,column:_};return function(M){return M.position=new R($),P(),M}}function R($){this.start=$,this.end={line:w,column:_},this.source=S.source}R.prototype.content=v;function I($){var M=new Error(S.source+":"+w+":"+_+": "+$);if(M.reason=$,M.filename=S.source,M.line=w,M.column=_,M.source=v,!S.silent)throw M}function N($){var M=$.exec(v);if(M){var z=M[0];return T(z),v=v.slice(z.length),M}}function P(){N(n)}function O($){var M;for($=$||[];M=D();)M!==!1&&$.push(M);return $}function D(){var $=A();if(!(u!=v.charAt(0)||d!=v.charAt(1))){for(var M=2;h!=v.charAt(M)&&(d!=v.charAt(M)||u!=v.charAt(M+1));)++M;if(M+=2,h===v.charAt(M-1))return I("End of comment missing");var z=v.slice(2,M-2);return _+=2,T(z),v=v.slice(M),_+=2,$({type:m,comment:z})}}function H(){var $=A(),M=N(a);if(M){if(D(),!N(i))return I("property missing ':'");var z=N(r),F=$({type:g,property:y(M[0].replace(t,h)),value:z?y(z[0].replace(t,h)):h});return N(o),F}}function L(){var $=[];O($);for(var M;M=H();)M!==!1&&($.push(M),O($));return $}return P(),L()};function y(v){return v?v.replace(s,h):h}return cI}var QV;function Wlt(){if(QV)return A1;QV=1;var t=A1&&A1.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(A1,"__esModule",{value:!0}),A1.default=n;const e=t(qlt());function n(a,i){let r=null;if(!a||typeof a!="string")return r;const o=(0,e.default)(a),s=typeof i=="function";return o.forEach(c=>{if(c.type!=="declaration")return;const{property:u,value:d}=c;s?i(u,d,c):d&&(r=r||{},r[u]=d)}),r}return A1}var lv={},ZV;function Vlt(){if(ZV)return lv;ZV=1,Object.defineProperty(lv,"__esModule",{value:!0}),lv.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,r=function(u){return!u||n.test(u)||t.test(u)},o=function(u,d){return d.toUpperCase()},s=function(u,d){return"".concat(d,"-")},c=function(u,d){return d===void 0&&(d={}),r(u)?u:(u=u.toLowerCase(),d.reactCompat?u=u.replace(i,s):u=u.replace(a,s),u.replace(e,o))};return lv.camelCase=c,lv}var cv,JV;function Ylt(){if(JV)return cv;JV=1;var t=cv&&cv.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(Wlt()),n=Vlt();function a(i,r){var o={};return!i||typeof i!="string"||(0,e.default)(i,function(s,c){s&&c&&(o[(0,n.camelCase)(s,r)]=c)}),o}return a.default=a,cv=a,cv}var Klt=Ylt();const Xlt=_f(Klt),aT=Jae("end"),pd=Jae("start");function Jae(t){return e;function e(n){const a=n&&n.position&&n.position[t]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function eie(t){const e=pd(t),n=aT(t);if(e&&n)return{start:e,end:n}}function n2(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?eY(t.position):"start"in t||"end"in t?eY(t):"line"in t||"column"in t?PN(t):""}function PN(t){return tY(t&&t.line)+":"+tY(t&&t.column)}function eY(t){return PN(t&&t.start)+"-"+PN(t&&t.end)}function tY(t){return t&&typeof t=="number"?t:1}class Oo extends Error{constructor(e,n,a){super(),typeof n=="string"&&(a=n,n=void 0);let i="",r={},o=!1;if(n&&("line"in n&&"column"in n?r={place:n}:"start"in n&&"end"in n?r={place:n}:"type"in n?r={ancestors:[n],place:n.position}:r={...n}),typeof e=="string"?i=e:!r.cause&&e&&(o=!0,i=e.message,r.cause=e),!r.ruleId&&!r.source&&typeof a=="string"){const c=a.indexOf(":");c===-1?r.ruleId=a:(r.source=a.slice(0,c),r.ruleId=a.slice(c+1))}if(!r.place&&r.ancestors&&r.ancestors){const c=r.ancestors[r.ancestors.length-1];c&&(r.place=c.position)}const s=r.place&&"start"in r.place?r.place.start:r.place;this.ancestors=r.ancestors||void 0,this.cause=r.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=n2(r.place)||"1:1",this.place=r.place||void 0,this.reason=this.message,this.ruleId=r.ruleId||void 0,this.source=r.source||void 0,this.stack=o&&r.cause&&typeof r.cause.stack=="string"?r.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Oo.prototype.file="";Oo.prototype.name="";Oo.prototype.reason="";Oo.prototype.message="";Oo.prototype.stack="";Oo.prototype.column=void 0;Oo.prototype.line=void 0;Oo.prototype.ancestors=void 0;Oo.prototype.cause=void 0;Oo.prototype.fatal=void 0;Oo.prototype.place=void 0;Oo.prototype.ruleId=void 0;Oo.prototype.source=void 0;const kO={}.hasOwnProperty,Qlt=new Map,Zlt=/[A-Z]/g,Jlt=new Set(["table","tbody","thead","tfoot","tr"]),ect=new Set(["td","th"]),tie="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function tct(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let a;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=cct(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=lct(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:a,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Qb:nT,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},r=nie(i,t,void 0);return r&&typeof r!="string"?r:i.create(t,i.Fragment,{children:r||void 0},void 0)}function nie(t,e,n){if(e.type==="element")return nct(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return act(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return rct(t,e,n);if(e.type==="mdxjsEsm")return ict(t,e);if(e.type==="root")return oct(t,e,n);if(e.type==="text")return sct(t,e)}function nct(t,e,n){const a=t.schema;let i=a;e.tagName.toLowerCase()==="svg"&&a.space==="html"&&(i=Qb,t.schema=i),t.ancestors.push(e);const r=iie(t,e.tagName,!1),o=uct(t,e);let s=NO(t,e);return Jlt.has(e.tagName)&&(s=s.filter(function(c){return typeof c=="string"?!Plt(c):!0})),aie(t,o,r,e),IO(o,s),t.ancestors.pop(),t.schema=a,t.create(e,r,o,n)}function act(t,e){if(e.data&&e.data.estree&&t.evaluater){const a=e.data.estree.body[0];return a.type,t.evaluater.evaluateExpression(a.expression)}K2(t,e.position)}function ict(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);K2(t,e.position)}function rct(t,e,n){const a=t.schema;let i=a;e.name==="svg"&&a.space==="html"&&(i=Qb,t.schema=i),t.ancestors.push(e);const r=e.name===null?t.Fragment:iie(t,e.name,!0),o=dct(t,e),s=NO(t,e);return aie(t,o,r,e),IO(o,s),t.ancestors.pop(),t.schema=a,t.create(e,r,o,n)}function oct(t,e,n){const a={};return IO(a,NO(t,e)),t.create(e,t.Fragment,a,n)}function sct(t,e){return e.value}function aie(t,e,n,a){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=a)}function IO(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function lct(t,e,n){return a;function a(i,r,o,s){const u=Array.isArray(o.children)?n:e;return s?u(r,o,s):u(r,o)}}function cct(t,e){return n;function n(a,i,r,o){const s=Array.isArray(r.children),c=pd(a);return e(i,r,o,s,{columnNumber:c?c.column-1:void 0,fileName:t,lineNumber:c?c.line:void 0},void 0)}}function uct(t,e){const n={};let a,i;for(i in e.properties)if(i!=="children"&&kO.call(e.properties,i)){const r=fct(t,i,e.properties[i]);if(r){const[o,s]=r;t.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&ect.has(e.tagName)?a=s:n[o]=s}}if(a){const r=n.style||(n.style={});r[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return n}function dct(t,e){const n={};for(const a of e.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&t.evaluater){const r=a.data.estree.body[0];r.type;const o=r.expression;o.type;const s=o.properties[0];s.type,Object.assign(n,t.evaluater.evaluateExpression(s.argument))}else K2(t,e.position);else{const i=a.name;let r;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&t.evaluater){const s=a.value.data.estree.body[0];s.type,r=t.evaluater.evaluateExpression(s.expression)}else K2(t,e.position);else r=a.value===null?!0:a.value;n[i]=r}return n}function NO(t,e){const n=[];let a=-1;const i=t.passKeys?new Map:Qlt;for(;++a<e.children.length;){const r=e.children[a];let o;if(t.passKeys){const c=r.type==="element"?r.tagName:r.type==="mdxJsxFlowElement"||r.type==="mdxJsxTextElement"?r.name:void 0;if(c){const u=i.get(c)||0;o=c+"-"+u,i.set(c,u+1)}}const s=nie(t,r,o);s!==void 0&&n.push(s)}return n}function fct(t,e,n){const a=RO(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=a.commaSeparated?Gae(n):Zae(n)),a.property==="style"){let i=typeof n=="object"?n:hct(t,String(n));return t.stylePropertyNameCase==="css"&&(i=pct(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&a.space?Blt[a.property]||a.property:a.attribute,n]}}function hct(t,e){try{return Xlt(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const a=n,i=new Oo("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=tie+"#cannot-parse-style-attribute",i}}function iie(t,e,n){let a;if(!n)a={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let r=-1,o;for(;++r<i.length;){const s=qV(i[r])?{type:"Identifier",name:i[r]}:{type:"Literal",value:i[r]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(r&&s.type==="Literal"),optional:!1}:s}a=o}else a=qV(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(a.type==="Literal"){const i=a.value;return kO.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(a);K2(t)}function K2(t,e){const n=new Oo("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=tie+"#cannot-handle-mdx-estrees-without-createevaluater",n}function pct(t){const e={};let n;for(n in t)kO.call(t,n)&&(e[mct(n)]=t[n]);return e}function mct(t){let e=t.replace(Zlt,gct);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function gct(t){return"-"+t.toLowerCase()}const uI={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},bct={};function jO(t,e){const n=bct,a=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return rie(t,a,i)}function rie(t,e,n){if(yct(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return nY(t.children,e,n)}return Array.isArray(t)?nY(t,e,n):""}function nY(t,e,n){const a=[];let i=-1;for(;++i<t.length;)a[i]=rie(t[i],e,n);return a.join("")}function yct(t){return!!(t&&typeof t=="object")}const aY=document.createElement("i");function DO(t){const e="&"+t+";";aY.innerHTML=e;const n=aY.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function nl(t,e,n,a){const i=t.length;let r=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,a.length<1e4)o=Array.from(a),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);r<a.length;)o=a.slice(r,r+1e4),o.unshift(e,0),t.splice(...o),r+=1e4,e+=1e4}function Vl(t,e){return t.length>0?(nl(t,t.length,0,e),t):e}const iY={}.hasOwnProperty;function oie(t){const e={};let n=-1;for(;++n<t.length;)xct(e,t[n]);return e}function xct(t,e){let n;for(n in e){const i=(iY.call(t,n)?t[n]:void 0)||(t[n]={}),r=e[n];let o;if(r)for(o in r){iY.call(i,o)||(i[o]=[]);const s=r[o];vct(i[o],Array.isArray(s)?s:s?[s]:[])}}}function vct(t,e){let n=-1;const a=[];for(;++n<e.length;)(e[n].add==="after"?t:a).push(e[n]);nl(t,0,0,a)}function sie(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function $c(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Jo=Ip(/[A-Za-z]/),ko=Ip(/[\dA-Za-z]/),Sct=Ip(/[#-'*+\--9=?A-Z^-~]/);function x_(t){return t!==null&&(t<32||t===127)}const LN=Ip(/\d/),Cct=Ip(/[\dA-Fa-f]/),wct=Ip(/[!-/:-@[-`{-~]/);function mn(t){return t!==null&&t<-2}function Va(t){return t!==null&&(t<0||t===32)}function ia(t){return t===-2||t===-1||t===32}const iT=Ip(new RegExp("\\p{P}|\\p{S}","u")),_g=Ip(/\s/);function Ip(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Zb(t){const e=[];let n=-1,a=0,i=0;for(;++n<t.length;){const r=t.charCodeAt(n);let o="";if(r===37&&ko(t.charCodeAt(n+1))&&ko(t.charCodeAt(n+2)))i=2;else if(r<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(r))||(o=String.fromCharCode(r));else if(r>55295&&r<57344){const s=t.charCodeAt(n+1);r<56320&&s>56319&&s<57344?(o=String.fromCharCode(r,s),i=1):o=""}else o=String.fromCharCode(r);o&&(e.push(t.slice(a,n),encodeURIComponent(o)),a=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(a)}function pa(t,e,n,a){const i=a?a-1:Number.POSITIVE_INFINITY;let r=0;return o;function o(c){return ia(c)?(t.enter(n),s(c)):e(c)}function s(c){return ia(c)&&r++<i?(t.consume(c),s):(t.exit(n),e(c))}}const _ct={tokenize:Tct};function Tct(t){const e=t.attempt(this.parser.constructs.contentInitial,a,i);let n;return e;function a(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),pa(t,e,"linePrefix")}function i(s){return t.enter("paragraph"),r(s)}function r(s){const c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,o(s)}function o(s){if(s===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(s);return}return mn(s)?(t.consume(s),t.exit("chunkText"),r):(t.consume(s),o)}}const Ect={tokenize:Act},rY={tokenize:Rct};function Act(t){const e=this,n=[];let a=0,i,r,o;return s;function s(T){if(a<n.length){const A=n[a];return e.containerState=A[1],t.attempt(A[0].continuation,c,u)(T)}return u(T)}function c(T){if(a++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&_();const A=e.events.length;let R=A,I;for(;R--;)if(e.events[R][0]==="exit"&&e.events[R][1].type==="chunkFlow"){I=e.events[R][1].end;break}w(a);let N=A;for(;N<e.events.length;)e.events[N][1].end={...I},N++;return nl(e.events,R+1,0,e.events.slice(A)),e.events.length=N,u(T)}return s(T)}function u(T){if(a===n.length){if(!i)return m(T);if(i.currentConstruct&&i.currentConstruct.concrete)return y(T);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(rY,d,h)(T)}function d(T){return i&&_(),w(a),m(T)}function h(T){return e.parser.lazy[e.now().line]=a!==n.length,o=e.now().offset,y(T)}function m(T){return e.containerState={},t.attempt(rY,g,y)(T)}function g(T){return a++,n.push([e.currentConstruct,e.containerState]),m(T)}function y(T){if(T===null){i&&_(),w(0),t.consume(T);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:r}),v(T)}function v(T){if(T===null){S(t.exit("chunkFlow"),!0),w(0),t.consume(T);return}return mn(T)?(t.consume(T),S(t.exit("chunkFlow")),a=0,e.interrupt=void 0,s):(t.consume(T),v)}function S(T,A){const R=e.sliceStream(T);if(A&&R.push(null),T.previous=r,r&&(r.next=T),r=T,i.defineSkip(T.start),i.write(R),e.parser.lazy[T.start.line]){let I=i.events.length;for(;I--;)if(i.events[I][1].start.offset<o&&(!i.events[I][1].end||i.events[I][1].end.offset>o))return;const N=e.events.length;let P=N,O,D;for(;P--;)if(e.events[P][0]==="exit"&&e.events[P][1].type==="chunkFlow"){if(O){D=e.events[P][1].end;break}O=!0}for(w(a),I=N;I<e.events.length;)e.events[I][1].end={...D},I++;nl(e.events,P+1,0,e.events.slice(N)),e.events.length=I}}function w(T){let A=n.length;for(;A-- >T;){const R=n[A];e.containerState=R[1],R[0].exit.call(e,t)}n.length=T}function _(){i.write([null]),r=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Rct(t,e,n){return pa(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function wb(t){if(t===null||Va(t)||_g(t))return 1;if(iT(t))return 2}function rT(t,e,n){const a=[];let i=-1;for(;++i<t.length;){const r=t[i].resolveAll;r&&!a.includes(r)&&(e=r(e,n),a.push(r))}return e}const zN={name:"attention",resolveAll:kct,tokenize:Ict};function kct(t,e){let n=-1,a,i,r,o,s,c,u,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(a=n;a--;)if(t[a][0]==="exit"&&t[a][1].type==="attentionSequence"&&t[a][1]._open&&e.sliceSerialize(t[a][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[a][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[a][1].end.offset-t[a][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[a][1].end.offset-t[a][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h={...t[a][1].end},m={...t[n][1].start};oY(h,-c),oY(m,c),o={type:c>1?"strongSequence":"emphasisSequence",start:h,end:{...t[a][1].end}},s={type:c>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:m},r={type:c>1?"strongText":"emphasisText",start:{...t[a][1].end},end:{...t[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},t[a][1].end={...o.start},t[n][1].start={...s.end},u=[],t[a][1].end.offset-t[a][1].start.offset&&(u=Vl(u,[["enter",t[a][1],e],["exit",t[a][1],e]])),u=Vl(u,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",r,e]]),u=Vl(u,rT(e.parser.constructs.insideSpan.null,t.slice(a+1,n),e)),u=Vl(u,[["exit",r,e],["enter",s,e],["exit",s,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,u=Vl(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,nl(t,a-1,n-a+3,u),n=a+u.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Ict(t,e){const n=this.parser.constructs.attentionMarkers.null,a=this.previous,i=wb(a);let r;return o;function o(c){return r=c,t.enter("attentionSequence"),s(c)}function s(c){if(c===r)return t.consume(c),s;const u=t.exit("attentionSequence"),d=wb(c),h=!d||d===2&&i||n.includes(c),m=!i||i===2&&d||n.includes(a);return u._open=!!(r===42?h:h&&(i||!m)),u._close=!!(r===42?m:m&&(d||!h)),e(c)}}function oY(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Nct={name:"autolink",tokenize:jct};function jct(t,e,n){let a=0;return i;function i(g){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),r}function r(g){return Jo(g)?(t.consume(g),o):g===64?n(g):u(g)}function o(g){return g===43||g===45||g===46||ko(g)?(a=1,s(g)):u(g)}function s(g){return g===58?(t.consume(g),a=0,c):(g===43||g===45||g===46||ko(g))&&a++<32?(t.consume(g),s):(a=0,u(g))}function c(g){return g===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):g===null||g===32||g===60||x_(g)?n(g):(t.consume(g),c)}function u(g){return g===64?(t.consume(g),d):Sct(g)?(t.consume(g),u):n(g)}function d(g){return ko(g)?h(g):n(g)}function h(g){return g===46?(t.consume(g),a=0,d):g===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):m(g)}function m(g){if((g===45||ko(g))&&a++<63){const y=g===45?m:h;return t.consume(g),y}return n(g)}}const FS={partial:!0,tokenize:Dct};function Dct(t,e,n){return a;function a(r){return ia(r)?pa(t,i,"linePrefix")(r):i(r)}function i(r){return r===null||mn(r)?e(r):n(r)}}const lie={continuation:{tokenize:Mct},exit:Pct,name:"blockQuote",tokenize:Oct};function Oct(t,e,n){const a=this;return i;function i(o){if(o===62){const s=a.containerState;return s.open||(t.enter("blockQuote",{_container:!0}),s.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),r}return n(o)}function r(o){return ia(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function Mct(t,e,n){const a=this;return i;function i(o){return ia(o)?pa(t,r,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):r(o)}function r(o){return t.attempt(lie,e,n)(o)}}function Pct(t){t.exit("blockQuote")}const cie={name:"characterEscape",tokenize:Lct};function Lct(t,e,n){return a;function a(r){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(r),t.exit("escapeMarker"),i}function i(r){return wct(r)?(t.enter("characterEscapeValue"),t.consume(r),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(r)}}const uie={name:"characterReference",tokenize:zct};function zct(t,e,n){const a=this;let i=0,r,o;return s;function s(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),c}function c(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),r=31,o=ko,d(h))}function u(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),r=6,o=Cct,d):(t.enter("characterReferenceValue"),r=7,o=LN,d(h))}function d(h){if(h===59&&i){const m=t.exit("characterReferenceValue");return o===ko&&!DO(a.sliceSerialize(m))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(h)&&i++<r?(t.consume(h),d):n(h)}}const sY={partial:!0,tokenize:Bct},lY={concrete:!0,name:"codeFenced",tokenize:Fct};function Fct(t,e,n){const a=this,i={partial:!0,tokenize:R};let r=0,o=0,s;return c;function c(I){return u(I)}function u(I){const N=a.events[a.events.length-1];return r=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,s=I,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(I)}function d(I){return I===s?(o++,t.consume(I),d):o<3?n(I):(t.exit("codeFencedFenceSequence"),ia(I)?pa(t,h,"whitespace")(I):h(I))}function h(I){return I===null||mn(I)?(t.exit("codeFencedFence"),a.interrupt?e(I):t.check(sY,v,A)(I)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(I))}function m(I){return I===null||mn(I)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(I)):ia(I)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),pa(t,g,"whitespace")(I)):I===96&&I===s?n(I):(t.consume(I),m)}function g(I){return I===null||mn(I)?h(I):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),y(I))}function y(I){return I===null||mn(I)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(I)):I===96&&I===s?n(I):(t.consume(I),y)}function v(I){return t.attempt(i,A,S)(I)}function S(I){return t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),w}function w(I){return r>0&&ia(I)?pa(t,_,"linePrefix",r+1)(I):_(I)}function _(I){return I===null||mn(I)?t.check(sY,v,A)(I):(t.enter("codeFlowValue"),T(I))}function T(I){return I===null||mn(I)?(t.exit("codeFlowValue"),_(I)):(t.consume(I),T)}function A(I){return t.exit("codeFenced"),e(I)}function R(I,N,P){let O=0;return D;function D(z){return I.enter("lineEnding"),I.consume(z),I.exit("lineEnding"),H}function H(z){return I.enter("codeFencedFence"),ia(z)?pa(I,L,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):L(z)}function L(z){return z===s?(I.enter("codeFencedFenceSequence"),$(z)):P(z)}function $(z){return z===s?(O++,I.consume(z),$):O>=o?(I.exit("codeFencedFenceSequence"),ia(z)?pa(I,M,"whitespace")(z):M(z)):P(z)}function M(z){return z===null||mn(z)?(I.exit("codeFencedFence"),N(z)):P(z)}}}function Bct(t,e,n){const a=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),r)}function r(o){return a.parser.lazy[a.now().line]?n(o):e(o)}}const dI={name:"codeIndented",tokenize:$ct},Hct={partial:!0,tokenize:Uct};function $ct(t,e,n){const a=this;return i;function i(u){return t.enter("codeIndented"),pa(t,r,"linePrefix",5)(u)}function r(u){const d=a.events[a.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?c(u):mn(u)?t.attempt(Hct,o,c)(u):(t.enter("codeFlowValue"),s(u))}function s(u){return u===null||mn(u)?(t.exit("codeFlowValue"),o(u)):(t.consume(u),s)}function c(u){return t.exit("codeIndented"),e(u)}}function Uct(t,e,n){const a=this;return i;function i(o){return a.parser.lazy[a.now().line]?n(o):mn(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):pa(t,r,"linePrefix",5)(o)}function r(o){const s=a.events[a.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(o):mn(o)?i(o):n(o)}}const Gct={name:"codeText",previous:Wct,resolve:qct,tokenize:Vct};function qct(t){let e=t.length-4,n=3,a,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(a=n;++a<e;)if(t[a][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(a=n-1,e++;++a<=e;)i===void 0?a!==e&&t[a][1].type!=="lineEnding"&&(i=a):(a===e||t[a][1].type==="lineEnding")&&(t[i][1].type="codeTextData",a!==i+2&&(t[i][1].end=t[a-1][1].end,t.splice(i+2,a-i-2),e-=a-i-2,a=i+2),i=void 0);return t}function Wct(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Vct(t,e,n){let a=0,i,r;return o;function o(h){return t.enter("codeText"),t.enter("codeTextSequence"),s(h)}function s(h){return h===96?(t.consume(h),a++,s):(t.exit("codeTextSequence"),c(h))}function c(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),c):h===96?(r=t.enter("codeTextSequence"),i=0,d(h)):mn(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),c):(t.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||mn(h)?(t.exit("codeTextData"),c(h)):(t.consume(h),u)}function d(h){return h===96?(t.consume(h),i++,d):i===a?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(r.type="codeTextData",u(h))}}class Yct{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const a=n??Number.POSITIVE_INFINITY;return a<this.left.length?this.left.slice(e,a):e>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(e,n,a){const i=n||0;this.setCursor(Math.trunc(e));const r=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return a&&uv(this.left,a),r.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),uv(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),uv(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);uv(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);uv(this.left,n.reverse())}}}function uv(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function die(t){const e={};let n=-1,a,i,r,o,s,c,u;const d=new Yct(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(a=d.get(n),n&&a[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=a[1]._tokenizer.events,r=0,r<c.length&&c[r][1].type==="lineEndingBlank"&&(r+=2),r<c.length&&c[r][1].type==="content"))for(;++r<c.length&&c[r][1].type!=="content";)c[r][1].type==="chunkText"&&(c[r][1]._isInFirstContentOfListItem=!0,r++);if(a[0]==="enter")a[1].contentType&&(Object.assign(e,Kct(d,n)),n=e[n],u=!0);else if(a[1]._container){for(r=n,i=void 0;r--;)if(o=d.get(r),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=r);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(a[1].end={...d.get(i)[1].start},s=d.slice(i,n),s.unshift(a),d.splice(i,n-i+1,s))}}return nl(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function Kct(t,e){const n=t.get(e)[1],a=t.get(e)[2];let i=e-1;const r=[];let o=n._tokenizer;o||(o=a.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,c=[],u={};let d,h,m=-1,g=n,y=0,v=0;const S=[v];for(;g;){for(;t.get(++i)[1]!==g;);r.push(i),g._tokenizer||(d=a.sliceStream(g),g.next||d.push(null),h&&o.defineSkip(g.start),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=g,g=g.next}for(g=n;++m<s.length;)s[m][0]==="exit"&&s[m-1][0]==="enter"&&s[m][1].type===s[m-1][1].type&&s[m][1].start.line!==s[m][1].end.line&&(v=m+1,S.push(v),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(o.events=[],g?(g._tokenizer=void 0,g.previous=void 0):S.pop(),m=S.length;m--;){const w=s.slice(S[m],S[m+1]),_=r.pop();c.push([_,_+w.length-1]),t.splice(_,2,w)}for(c.reverse(),m=-1;++m<c.length;)u[y+c[m][0]]=y+c[m][1],y+=c[m][1]-c[m][0]-1;return u}const Xct={resolve:Zct,tokenize:Jct},Qct={partial:!0,tokenize:eut};function Zct(t){return die(t),t}function Jct(t,e){let n;return a;function a(s){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?r(s):mn(s)?t.check(Qct,o,r)(s):(t.consume(s),i)}function r(s){return t.exit("chunkContent"),t.exit("content"),e(s)}function o(s){return t.consume(s),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function eut(t,e,n){const a=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),pa(t,r,"linePrefix")}function r(o){if(o===null||mn(o))return n(o);const s=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(o):t.interrupt(a.parser.constructs.flow,n,e)(o)}}function fie(t,e,n,a,i,r,o,s,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return h;function h(w){return w===60?(t.enter(a),t.enter(i),t.enter(r),t.consume(w),t.exit(r),m):w===null||w===32||w===41||x_(w)?n(w):(t.enter(a),t.enter(o),t.enter(s),t.enter("chunkString",{contentType:"string"}),v(w))}function m(w){return w===62?(t.enter(r),t.consume(w),t.exit(r),t.exit(i),t.exit(a),e):(t.enter(s),t.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===62?(t.exit("chunkString"),t.exit(s),m(w)):w===null||w===60||mn(w)?n(w):(t.consume(w),w===92?y:g)}function y(w){return w===60||w===62||w===92?(t.consume(w),g):g(w)}function v(w){return!d&&(w===null||w===41||Va(w))?(t.exit("chunkString"),t.exit(s),t.exit(o),t.exit(a),e(w)):d<u&&w===40?(t.consume(w),d++,v):w===41?(t.consume(w),d--,v):w===null||w===32||w===40||x_(w)?n(w):(t.consume(w),w===92?S:v)}function S(w){return w===40||w===41||w===92?(t.consume(w),v):v(w)}}function hie(t,e,n,a,i,r){const o=this;let s=0,c;return u;function u(g){return t.enter(a),t.enter(i),t.consume(g),t.exit(i),t.enter(r),d}function d(g){return s>999||g===null||g===91||g===93&&!c||g===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(g):g===93?(t.exit(r),t.enter(i),t.consume(g),t.exit(i),t.exit(a),e):mn(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===null||g===91||g===93||mn(g)||s++>999?(t.exit("chunkString"),d(g)):(t.consume(g),c||(c=!ia(g)),g===92?m:h)}function m(g){return g===91||g===92||g===93?(t.consume(g),s++,h):h(g)}}function pie(t,e,n,a,i,r){let o;return s;function s(m){return m===34||m===39||m===40?(t.enter(a),t.enter(i),t.consume(m),t.exit(i),o=m===40?41:m,c):n(m)}function c(m){return m===o?(t.enter(i),t.consume(m),t.exit(i),t.exit(a),e):(t.enter(r),u(m))}function u(m){return m===o?(t.exit(r),c(o)):m===null?n(m):mn(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),pa(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===o||m===null||mn(m)?(t.exit("chunkString"),u(m)):(t.consume(m),m===92?h:d)}function h(m){return m===o||m===92?(t.consume(m),d):d(m)}}function a2(t,e){let n;return a;function a(i){return mn(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,a):ia(i)?pa(t,a,n?"linePrefix":"lineSuffix")(i):e(i)}}const tut={name:"definition",tokenize:aut},nut={partial:!0,tokenize:iut};function aut(t,e,n){const a=this;let i;return r;function r(g){return t.enter("definition"),o(g)}function o(g){return hie.call(a,t,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function s(g){return i=$c(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),c):n(g)}function c(g){return Va(g)?a2(t,u)(g):u(g)}function u(g){return fie(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function d(g){return t.attempt(nut,h,h)(g)}function h(g){return ia(g)?pa(t,m,"whitespace")(g):m(g)}function m(g){return g===null||mn(g)?(t.exit("definition"),a.parser.defined.push(i),e(g)):n(g)}}function iut(t,e,n){return a;function a(s){return Va(s)?a2(t,i)(s):n(s)}function i(s){return pie(t,r,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function r(s){return ia(s)?pa(t,o,"whitespace")(s):o(s)}function o(s){return s===null||mn(s)?e(s):n(s)}}const rut={name:"hardBreakEscape",tokenize:out};function out(t,e,n){return a;function a(r){return t.enter("hardBreakEscape"),t.consume(r),i}function i(r){return mn(r)?(t.exit("hardBreakEscape"),e(r)):n(r)}}const sut={name:"headingAtx",resolve:lut,tokenize:cut};function lut(t,e){let n=t.length-2,a=3,i,r;return t[a][1].type==="whitespace"&&(a+=2),n-2>a&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(a===n-1||n-4>a&&t[n-2][1].type==="whitespace")&&(n-=a+1===n?2:4),n>a&&(i={type:"atxHeadingText",start:t[a][1].start,end:t[n][1].end},r={type:"chunkText",start:t[a][1].start,end:t[n][1].end,contentType:"text"},nl(t,a,n-a+1,[["enter",i,e],["enter",r,e],["exit",r,e],["exit",i,e]])),t}function cut(t,e,n){let a=0;return i;function i(d){return t.enter("atxHeading"),r(d)}function r(d){return t.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&a++<6?(t.consume(d),o):d===null||Va(d)?(t.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(t.enter("atxHeadingSequence"),c(d)):d===null||mn(d)?(t.exit("atxHeading"),e(d)):ia(d)?pa(t,s,"whitespace")(d):(t.enter("atxHeadingText"),u(d))}function c(d){return d===35?(t.consume(d),c):(t.exit("atxHeadingSequence"),s(d))}function u(d){return d===null||d===35||Va(d)?(t.exit("atxHeadingText"),s(d)):(t.consume(d),u)}}const uut=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],cY=["pre","script","style","textarea"],dut={concrete:!0,name:"htmlFlow",resolveTo:put,tokenize:mut},fut={partial:!0,tokenize:but},hut={partial:!0,tokenize:gut};function put(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function mut(t,e,n){const a=this;let i,r,o,s,c;return u;function u(W){return d(W)}function d(W){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(W),h}function h(W){return W===33?(t.consume(W),m):W===47?(t.consume(W),r=!0,v):W===63?(t.consume(W),i=3,a.interrupt?e:Y):Jo(W)?(t.consume(W),o=String.fromCharCode(W),S):n(W)}function m(W){return W===45?(t.consume(W),i=2,g):W===91?(t.consume(W),i=5,s=0,y):Jo(W)?(t.consume(W),i=4,a.interrupt?e:Y):n(W)}function g(W){return W===45?(t.consume(W),a.interrupt?e:Y):n(W)}function y(W){const te="CDATA[";return W===te.charCodeAt(s++)?(t.consume(W),s===te.length?a.interrupt?e:L:y):n(W)}function v(W){return Jo(W)?(t.consume(W),o=String.fromCharCode(W),S):n(W)}function S(W){if(W===null||W===47||W===62||Va(W)){const te=W===47,re=o.toLowerCase();return!te&&!r&&cY.includes(re)?(i=1,a.interrupt?e(W):L(W)):uut.includes(o.toLowerCase())?(i=6,te?(t.consume(W),w):a.interrupt?e(W):L(W)):(i=7,a.interrupt&&!a.parser.lazy[a.now().line]?n(W):r?_(W):T(W))}return W===45||ko(W)?(t.consume(W),o+=String.fromCharCode(W),S):n(W)}function w(W){return W===62?(t.consume(W),a.interrupt?e:L):n(W)}function _(W){return ia(W)?(t.consume(W),_):D(W)}function T(W){return W===47?(t.consume(W),D):W===58||W===95||Jo(W)?(t.consume(W),A):ia(W)?(t.consume(W),T):D(W)}function A(W){return W===45||W===46||W===58||W===95||ko(W)?(t.consume(W),A):R(W)}function R(W){return W===61?(t.consume(W),I):ia(W)?(t.consume(W),R):T(W)}function I(W){return W===null||W===60||W===61||W===62||W===96?n(W):W===34||W===39?(t.consume(W),c=W,N):ia(W)?(t.consume(W),I):P(W)}function N(W){return W===c?(t.consume(W),c=null,O):W===null||mn(W)?n(W):(t.consume(W),N)}function P(W){return W===null||W===34||W===39||W===47||W===60||W===61||W===62||W===96||Va(W)?R(W):(t.consume(W),P)}function O(W){return W===47||W===62||ia(W)?T(W):n(W)}function D(W){return W===62?(t.consume(W),H):n(W)}function H(W){return W===null||mn(W)?L(W):ia(W)?(t.consume(W),H):n(W)}function L(W){return W===45&&i===2?(t.consume(W),F):W===60&&i===1?(t.consume(W),G):W===62&&i===4?(t.consume(W),K):W===63&&i===3?(t.consume(W),Y):W===93&&i===5?(t.consume(W),V):mn(W)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(fut,J,$)(W)):W===null||mn(W)?(t.exit("htmlFlowData"),$(W)):(t.consume(W),L)}function $(W){return t.check(hut,M,J)(W)}function M(W){return t.enter("lineEnding"),t.consume(W),t.exit("lineEnding"),z}function z(W){return W===null||mn(W)?$(W):(t.enter("htmlFlowData"),L(W))}function F(W){return W===45?(t.consume(W),Y):L(W)}function G(W){return W===47?(t.consume(W),o="",ee):L(W)}function ee(W){if(W===62){const te=o.toLowerCase();return cY.includes(te)?(t.consume(W),K):L(W)}return Jo(W)&&o.length<8?(t.consume(W),o+=String.fromCharCode(W),ee):L(W)}function V(W){return W===93?(t.consume(W),Y):L(W)}function Y(W){return W===62?(t.consume(W),K):W===45&&i===2?(t.consume(W),Y):L(W)}function K(W){return W===null||mn(W)?(t.exit("htmlFlowData"),J(W)):(t.consume(W),K)}function J(W){return t.exit("htmlFlow"),e(W)}}function gut(t,e,n){const a=this;return i;function i(o){return mn(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),r):n(o)}function r(o){return a.parser.lazy[a.now().line]?n(o):e(o)}}function but(t,e,n){return a;function a(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(FS,e,n)}}const yut={name:"htmlText",tokenize:xut};function xut(t,e,n){const a=this;let i,r,o;return s;function s(Y){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(Y),c}function c(Y){return Y===33?(t.consume(Y),u):Y===47?(t.consume(Y),R):Y===63?(t.consume(Y),T):Jo(Y)?(t.consume(Y),P):n(Y)}function u(Y){return Y===45?(t.consume(Y),d):Y===91?(t.consume(Y),r=0,y):Jo(Y)?(t.consume(Y),_):n(Y)}function d(Y){return Y===45?(t.consume(Y),g):n(Y)}function h(Y){return Y===null?n(Y):Y===45?(t.consume(Y),m):mn(Y)?(o=h,G(Y)):(t.consume(Y),h)}function m(Y){return Y===45?(t.consume(Y),g):h(Y)}function g(Y){return Y===62?F(Y):Y===45?m(Y):h(Y)}function y(Y){const K="CDATA[";return Y===K.charCodeAt(r++)?(t.consume(Y),r===K.length?v:y):n(Y)}function v(Y){return Y===null?n(Y):Y===93?(t.consume(Y),S):mn(Y)?(o=v,G(Y)):(t.consume(Y),v)}function S(Y){return Y===93?(t.consume(Y),w):v(Y)}function w(Y){return Y===62?F(Y):Y===93?(t.consume(Y),w):v(Y)}function _(Y){return Y===null||Y===62?F(Y):mn(Y)?(o=_,G(Y)):(t.consume(Y),_)}function T(Y){return Y===null?n(Y):Y===63?(t.consume(Y),A):mn(Y)?(o=T,G(Y)):(t.consume(Y),T)}function A(Y){return Y===62?F(Y):T(Y)}function R(Y){return Jo(Y)?(t.consume(Y),I):n(Y)}function I(Y){return Y===45||ko(Y)?(t.consume(Y),I):N(Y)}function N(Y){return mn(Y)?(o=N,G(Y)):ia(Y)?(t.consume(Y),N):F(Y)}function P(Y){return Y===45||ko(Y)?(t.consume(Y),P):Y===47||Y===62||Va(Y)?O(Y):n(Y)}function O(Y){return Y===47?(t.consume(Y),F):Y===58||Y===95||Jo(Y)?(t.consume(Y),D):mn(Y)?(o=O,G(Y)):ia(Y)?(t.consume(Y),O):F(Y)}function D(Y){return Y===45||Y===46||Y===58||Y===95||ko(Y)?(t.consume(Y),D):H(Y)}function H(Y){return Y===61?(t.consume(Y),L):mn(Y)?(o=H,G(Y)):ia(Y)?(t.consume(Y),H):O(Y)}function L(Y){return Y===null||Y===60||Y===61||Y===62||Y===96?n(Y):Y===34||Y===39?(t.consume(Y),i=Y,$):mn(Y)?(o=L,G(Y)):ia(Y)?(t.consume(Y),L):(t.consume(Y),M)}function $(Y){return Y===i?(t.consume(Y),i=void 0,z):Y===null?n(Y):mn(Y)?(o=$,G(Y)):(t.consume(Y),$)}function M(Y){return Y===null||Y===34||Y===39||Y===60||Y===61||Y===96?n(Y):Y===47||Y===62||Va(Y)?O(Y):(t.consume(Y),M)}function z(Y){return Y===47||Y===62||Va(Y)?O(Y):n(Y)}function F(Y){return Y===62?(t.consume(Y),t.exit("htmlTextData"),t.exit("htmlText"),e):n(Y)}function G(Y){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(Y),t.exit("lineEnding"),ee}function ee(Y){return ia(Y)?pa(t,V,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Y):V(Y)}function V(Y){return t.enter("htmlTextData"),o(Y)}}const OO={name:"labelEnd",resolveAll:wut,resolveTo:_ut,tokenize:Tut},vut={tokenize:Eut},Sut={tokenize:Aut},Cut={tokenize:Rut};function wut(t){let e=-1;const n=[];for(;++e<t.length;){const a=t[e][1];if(n.push(t[e]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const i=a.type==="labelImage"?4:2;a.type="data",e+=i}}return t.length!==n.length&&nl(t,0,t.length,n),t}function _ut(t,e){let n=t.length,a=0,i,r,o,s;for(;n--;)if(i=t[n][1],r){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(r=n,i.type!=="labelLink")){a=2;break}}else i.type==="labelEnd"&&(o=n);const c={type:t[r][1].type==="labelLink"?"link":"image",start:{...t[r][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[r][1].start},end:{...t[o][1].end}},d={type:"labelText",start:{...t[r+a+2][1].end},end:{...t[o-2][1].start}};return s=[["enter",c,e],["enter",u,e]],s=Vl(s,t.slice(r+1,r+a+3)),s=Vl(s,[["enter",d,e]]),s=Vl(s,rT(e.parser.constructs.insideSpan.null,t.slice(r+a+4,o-3),e)),s=Vl(s,[["exit",d,e],t[o-2],t[o-1],["exit",u,e]]),s=Vl(s,t.slice(o+1)),s=Vl(s,[["exit",c,e]]),nl(t,r,t.length,s),t}function Tut(t,e,n){const a=this;let i=a.events.length,r,o;for(;i--;)if((a.events[i][1].type==="labelImage"||a.events[i][1].type==="labelLink")&&!a.events[i][1]._balanced){r=a.events[i][1];break}return s;function s(m){return r?r._inactive?h(m):(o=a.parser.defined.includes($c(a.sliceSerialize({start:r.end,end:a.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelEnd"),c):n(m)}function c(m){return m===40?t.attempt(vut,d,o?d:h)(m):m===91?t.attempt(Sut,d,o?u:h)(m):o?d(m):h(m)}function u(m){return t.attempt(Cut,d,h)(m)}function d(m){return e(m)}function h(m){return r._balanced=!0,n(m)}}function Eut(t,e,n){return a;function a(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),i}function i(h){return Va(h)?a2(t,r)(h):r(h)}function r(h){return h===41?d(h):fie(t,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return Va(h)?a2(t,c)(h):d(h)}function s(h){return n(h)}function c(h){return h===34||h===39||h===40?pie(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return Va(h)?a2(t,d)(h):d(h)}function d(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function Aut(t,e,n){const a=this;return i;function i(s){return hie.call(a,t,r,o,"reference","referenceMarker","referenceString")(s)}function r(s){return a.parser.defined.includes($c(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?e(s):n(s)}function o(s){return n(s)}}function Rut(t,e,n){return a;function a(r){return t.enter("reference"),t.enter("referenceMarker"),t.consume(r),t.exit("referenceMarker"),i}function i(r){return r===93?(t.enter("referenceMarker"),t.consume(r),t.exit("referenceMarker"),t.exit("reference"),e):n(r)}}const kut={name:"labelStartImage",resolveAll:OO.resolveAll,tokenize:Iut};function Iut(t,e,n){const a=this;return i;function i(s){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(s),t.exit("labelImageMarker"),r}function r(s){return s===91?(t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(s):e(s)}}const Nut={name:"labelStartLink",resolveAll:OO.resolveAll,tokenize:jut};function jut(t,e,n){const a=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),r}function r(o){return o===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(o):e(o)}}const fI={name:"lineEnding",tokenize:Dut};function Dut(t,e){return n;function n(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),pa(t,e,"linePrefix")}}const f4={name:"thematicBreak",tokenize:Out};function Out(t,e,n){let a=0,i;return r;function r(u){return t.enter("thematicBreak"),o(u)}function o(u){return i=u,s(u)}function s(u){return u===i?(t.enter("thematicBreakSequence"),c(u)):a>=3&&(u===null||mn(u))?(t.exit("thematicBreak"),e(u)):n(u)}function c(u){return u===i?(t.consume(u),a++,c):(t.exit("thematicBreakSequence"),ia(u)?pa(t,s,"whitespace")(u):s(u))}}const _s={continuation:{tokenize:zut},exit:But,name:"list",tokenize:Lut},Mut={partial:!0,tokenize:Hut},Put={partial:!0,tokenize:Fut};function Lut(t,e,n){const a=this,i=a.events[a.events.length-1];let r=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(g){const y=a.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!a.containerState.marker||g===a.containerState.marker:LN(g)){if(a.containerState.type||(a.containerState.type=y,t.enter(y,{_container:!0})),y==="listUnordered")return t.enter("listItemPrefix"),g===42||g===45?t.check(f4,n,u)(g):u(g);if(!a.interrupt||g===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(g)}return n(g)}function c(g){return LN(g)&&++o<10?(t.consume(g),c):(!a.interrupt||o<2)&&(a.containerState.marker?g===a.containerState.marker:g===41||g===46)?(t.exit("listItemValue"),u(g)):n(g)}function u(g){return t.enter("listItemMarker"),t.consume(g),t.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||g,t.check(FS,a.interrupt?n:d,t.attempt(Mut,m,h))}function d(g){return a.containerState.initialBlankLine=!0,r++,m(g)}function h(g){return ia(g)?(t.enter("listItemPrefixWhitespace"),t.consume(g),t.exit("listItemPrefixWhitespace"),m):n(g)}function m(g){return a.containerState.size=r+a.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(g)}}function zut(t,e,n){const a=this;return a.containerState._closeFlow=void 0,t.check(FS,i,r);function i(s){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,pa(t,e,"listItemIndent",a.containerState.size+1)(s)}function r(s){return a.containerState.furtherBlankLines||!ia(s)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,o(s)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,t.attempt(Put,e,o)(s))}function o(s){return a.containerState._closeFlow=!0,a.interrupt=void 0,pa(t,t.attempt(_s,e,n),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function Fut(t,e,n){const a=this;return pa(t,i,"listItemIndent",a.containerState.size+1);function i(r){const o=a.events[a.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===a.containerState.size?e(r):n(r)}}function But(t){t.exit(this.containerState.type)}function Hut(t,e,n){const a=this;return pa(t,i,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(r){const o=a.events[a.events.length-1];return!ia(r)&&o&&o[1].type==="listItemPrefixWhitespace"?e(r):n(r)}}const uY={name:"setextUnderline",resolveTo:$ut,tokenize:Uut};function $ut(t,e){let n=t.length,a,i,r;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){a=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!r&&t[n][1].type==="definition"&&(r=n);const o={type:"setextHeading",start:{...t[a][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",r?(t.splice(i,0,["enter",o,e]),t.splice(r+1,0,["exit",t[a][1],e]),t[a][1].end={...t[r][1].end}):t[a][1]=o,t.push(["exit",o,e]),t}function Uut(t,e,n){const a=this;let i;return r;function r(u){let d=a.events.length,h;for(;d--;)if(a.events[d][1].type!=="lineEnding"&&a.events[d][1].type!=="linePrefix"&&a.events[d][1].type!=="content"){h=a.events[d][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||h)?(t.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return t.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===i?(t.consume(u),s):(t.exit("setextHeadingLineSequence"),ia(u)?pa(t,c,"lineSuffix")(u):c(u))}function c(u){return u===null||mn(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const Gut={tokenize:qut};function qut(t){const e=this,n=t.attempt(FS,a,t.attempt(this.parser.constructs.flowInitial,i,pa(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Xct,i)),"linePrefix")));return n;function a(r){if(r===null){t.consume(r);return}return t.enter("lineEndingBlank"),t.consume(r),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(r){if(r===null){t.consume(r);return}return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Wut={resolveAll:gie()},Vut=mie("string"),Yut=mie("text");function mie(t){return{resolveAll:gie(t==="text"?Kut:void 0),tokenize:e};function e(n){const a=this,i=this.parser.constructs[t],r=n.attempt(i,o,s);return o;function o(d){return u(d)?r(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),r(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const h=i[d];let m=-1;if(h)for(;++m<h.length;){const g=h[m];if(!g.previous||g.previous.call(a,a.previous))return!0}return!1}}}function gie(t){return e;function e(n,a){let i=-1,r;for(;++i<=n.length;)r===void 0?n[i]&&n[i][1].type==="data"&&(r=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==r+2&&(n[r][1].end=n[i-1][1].end,n.splice(r+2,i-r-2),i=r+2),r=void 0);return t?t(n,a):n}}function Kut(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const a=t[n-1][1],i=e.sliceStream(a);let r=i.length,o=-1,s=0,c;for(;r--;){const u=i[r];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(u===-2)c=!0,s++;else if(u!==-1){r++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(s=0),s){const u={type:n===t.length||c||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:r?o:a.start._bufferIndex+o,_index:a.start._index+r,line:a.end.line,column:a.end.column-s,offset:a.end.offset-s},end:{...a.end}};a.end={...u.start},a.start.offset===a.end.offset?Object.assign(a,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const Xut={42:_s,43:_s,45:_s,48:_s,49:_s,50:_s,51:_s,52:_s,53:_s,54:_s,55:_s,56:_s,57:_s,62:lie},Qut={91:tut},Zut={[-2]:dI,[-1]:dI,32:dI},Jut={35:sut,42:f4,45:[uY,f4],60:dut,61:uY,95:f4,96:lY,126:lY},edt={38:uie,92:cie},tdt={[-5]:fI,[-4]:fI,[-3]:fI,33:kut,38:uie,42:zN,60:[Nct,yut],91:Nut,92:[rut,cie],93:OO,95:zN,96:Gct},ndt={null:[zN,Wut]},adt={null:[42,95]},idt={null:[]},rdt=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:adt,contentInitial:Qut,disable:idt,document:Xut,flow:Jut,flowInitial:Zut,insideSpan:ndt,string:edt,text:tdt},Symbol.toStringTag,{value:"Module"}));function odt(t,e,n){let a={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},r=[];let o=[],s=[];const c={attempt:N(R),check:N(I),consume:_,enter:T,exit:A,interrupt:N(I,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:y,parser:t,previous:null,sliceSerialize:m,sliceStream:g,write:h};let d=e.tokenize.call(u,c);return e.resolveAll&&r.push(e),u;function h(H){return o=Vl(o,H),S(),o[o.length-1]!==null?[]:(P(e,0),u.events=rT(r,u.events,u),u.events)}function m(H,L){return ldt(g(H),L)}function g(H){return sdt(o,H)}function y(){const{_bufferIndex:H,_index:L,line:$,column:M,offset:z}=a;return{_bufferIndex:H,_index:L,line:$,column:M,offset:z}}function v(H){i[H.line]=H.column,D()}function S(){let H;for(;a._index<o.length;){const L=o[a._index];if(typeof L=="string")for(H=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===H&&a._bufferIndex<L.length;)w(L.charCodeAt(a._bufferIndex));else w(L)}}function w(H){d=d(H)}function _(H){mn(H)?(a.line++,a.column=1,a.offset+=H===-3?2:1,D()):H!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===o[a._index].length&&(a._bufferIndex=-1,a._index++)),u.previous=H}function T(H,L){const $=L||{};return $.type=H,$.start=y(),u.events.push(["enter",$,u]),s.push($),$}function A(H){const L=s.pop();return L.end=y(),u.events.push(["exit",L,u]),L}function R(H,L){P(H,L.from)}function I(H,L){L.restore()}function N(H,L){return $;function $(M,z,F){let G,ee,V,Y;return Array.isArray(M)?J(M):"tokenize"in M?J([M]):K(M);function K(ne){return ce;function ce(pe){const me=pe!==null&&ne[pe],ge=pe!==null&&ne.null,ye=[...Array.isArray(me)?me:me?[me]:[],...Array.isArray(ge)?ge:ge?[ge]:[]];return J(ye)(pe)}}function J(ne){return G=ne,ee=0,ne.length===0?F:W(ne[ee])}function W(ne){return ce;function ce(pe){return Y=O(),V=ne,ne.partial||(u.currentConstruct=ne),ne.name&&u.parser.constructs.disable.null.includes(ne.name)?re():ne.tokenize.call(L?Object.assign(Object.create(u),L):u,c,te,re)(pe)}}function te(ne){return H(V,Y),z}function re(ne){return Y.restore(),++ee<G.length?W(G[ee]):F}}}function P(H,L){H.resolveAll&&!r.includes(H)&&r.push(H),H.resolve&&nl(u.events,L,u.events.length-L,H.resolve(u.events.slice(L),u)),H.resolveTo&&(u.events=H.resolveTo(u.events,u))}function O(){const H=y(),L=u.previous,$=u.currentConstruct,M=u.events.length,z=Array.from(s);return{from:M,restore:F};function F(){a=H,u.previous=L,u.currentConstruct=$,u.events.length=M,s=z,D()}}function D(){a.line in i&&a.column<2&&(a.column=i[a.line],a.offset+=i[a.line]-1)}}function sdt(t,e){const n=e.start._index,a=e.start._bufferIndex,i=e.end._index,r=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(a,r)];else{if(o=t.slice(n,i),a>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(a):o.shift()}r>0&&o.push(t[i].slice(0,r))}return o}function ldt(t,e){let n=-1;const a=[];let i;for(;++n<t.length;){const r=t[n];let o;if(typeof r=="string")o=r;else switch(r){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(r)}i=r===-2,a.push(o)}return a.join("")}function cdt(t){const a={constructs:oie([rdt,...(t||{}).extensions||[]]),content:i(_ct),defined:[],document:i(Ect),flow:i(Gut),lazy:{},string:i(Vut),text:i(Yut)};return a;function i(r){return o;function o(s){return odt(a,r,s)}}}function udt(t){for(;!die(t););return t}const dY=/[\0\t\n\r]/g;function ddt(){let t=1,e="",n=!0,a;return i;function i(r,o,s){const c=[];let u,d,h,m,g;for(r=e+(typeof r=="string"?r.toString():new TextDecoder(o||void 0).decode(r)),h=0,e="",n&&(r.charCodeAt(0)===65279&&h++,n=void 0);h<r.length;){if(dY.lastIndex=h,u=dY.exec(r),m=u&&u.index!==void 0?u.index:r.length,g=r.charCodeAt(m),!u){e=r.slice(h);break}if(g===10&&h===m&&a)c.push(-3),a=void 0;else switch(a&&(c.push(-5),a=void 0),h<m&&(c.push(r.slice(h,m)),t+=m-h),g){case 0:{c.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,c.push(-2);t++<d;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:a=!0,t=1}h=m+1}return s&&(a&&c.push(-5),e&&c.push(e),c.push(null)),c}}const fdt=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function hdt(t){return t.replace(fdt,pdt)}function pdt(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),r=i===120||i===88;return sie(n.slice(r?2:1),r?16:10)}return DO(n)||t}const bie={}.hasOwnProperty;function mdt(t,e,n){return typeof e!="string"&&(n=e,e=void 0),gdt(n)(udt(cdt(n).document().write(ddt()(t,e,!0))))}function gdt(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:r(_e),autolinkProtocol:O,autolinkEmail:O,atxHeading:r(oe),blockQuote:r(ge),characterEscape:O,characterReference:O,codeFenced:r(ye),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:r(ye,o),codeText:r(he,o),codeTextData:O,data:O,codeFlowValue:O,definition:r(de),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:r(fe),hardBreakEscape:r(ue),hardBreakTrailing:r(ue),htmlFlow:r(le,o),htmlFlowData:O,htmlText:r(le,o),htmlTextData:O,image:r(Se),label:o,link:r(_e),listItem:r(ze),listItemValue:m,listOrdered:r(Ie,h),listUnordered:r(Ie),paragraph:r(Me),reference:W,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:r(oe),strong:r(Ze),thematicBreak:r(Ne)},exit:{atxHeading:c(),atxHeadingSequence:R,autolink:c(),autolinkEmail:me,autolinkProtocol:pe,blockQuote:c(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:re,characterReferenceMarkerNumeric:re,characterReferenceValue:ne,characterReference:ce,codeFenced:c(S),codeFencedFence:v,codeFencedFenceInfo:g,codeFencedFenceMeta:y,codeFlowValue:D,codeIndented:c(w),codeText:c(z),codeTextData:D,data:D,definition:c(),definitionDestinationString:A,definitionLabelString:_,definitionTitleString:T,emphasis:c(),hardBreakEscape:c(L),hardBreakTrailing:c(L),htmlFlow:c($),htmlFlowData:D,htmlText:c(M),htmlTextData:D,image:c(G),label:V,labelText:ee,lineEnding:H,link:c(F),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:te,resourceDestinationString:Y,resourceTitleString:K,resource:J,setextHeading:c(P),setextHeadingLineSequence:N,setextHeadingText:I,strong:c(),thematicBreak:c()}};yie(e,(t||{}).mdastExtensions||[]);const n={};return a;function a(ve){let we={type:"root",children:[]};const Oe={stack:[we],tokenStack:[],config:e,enter:s,exit:u,buffer:o,resume:d,data:n},Le=[];let We=-1;for(;++We<ve.length;)if(ve[We][1].type==="listOrdered"||ve[We][1].type==="listUnordered")if(ve[We][0]==="enter")Le.push(We);else{const Fe=Le.pop();We=i(ve,Fe,We)}for(We=-1;++We<ve.length;){const Fe=e[ve[We][0]];bie.call(Fe,ve[We][1].type)&&Fe[ve[We][1].type].call(Object.assign({sliceSerialize:ve[We][2].sliceSerialize},Oe),ve[We][1])}if(Oe.tokenStack.length>0){const Fe=Oe.tokenStack[Oe.tokenStack.length-1];(Fe[1]||fY).call(Oe,void 0,Fe[0])}for(we.position={start:jh(ve.length>0?ve[0][1].start:{line:1,column:1,offset:0}),end:jh(ve.length>0?ve[ve.length-2][1].end:{line:1,column:1,offset:0})},We=-1;++We<e.transforms.length;)we=e.transforms[We](we)||we;return we}function i(ve,we,Oe){let Le=we-1,We=-1,Fe=!1,Ve,rt,at,ot;for(;++Le<=Oe;){const bt=ve[Le];switch(bt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{bt[0]==="enter"?We++:We--,ot=void 0;break}case"lineEndingBlank":{bt[0]==="enter"&&(Ve&&!ot&&!We&&!at&&(at=Le),ot=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ot=void 0}if(!We&&bt[0]==="enter"&&bt[1].type==="listItemPrefix"||We===-1&&bt[0]==="exit"&&(bt[1].type==="listUnordered"||bt[1].type==="listOrdered")){if(Ve){let Xt=Le;for(rt=void 0;Xt--;){const Jt=ve[Xt];if(Jt[1].type==="lineEnding"||Jt[1].type==="lineEndingBlank"){if(Jt[0]==="exit")continue;rt&&(ve[rt][1].type="lineEndingBlank",Fe=!0),Jt[1].type="lineEnding",rt=Xt}else if(!(Jt[1].type==="linePrefix"||Jt[1].type==="blockQuotePrefix"||Jt[1].type==="blockQuotePrefixWhitespace"||Jt[1].type==="blockQuoteMarker"||Jt[1].type==="listItemIndent"))break}at&&(!rt||at<rt)&&(Ve._spread=!0),Ve.end=Object.assign({},rt?ve[rt][1].start:bt[1].end),ve.splice(rt||Le,0,["exit",Ve,bt[2]]),Le++,Oe++}if(bt[1].type==="listItemPrefix"){const Xt={type:"listItem",_spread:!1,start:Object.assign({},bt[1].start),end:void 0};Ve=Xt,ve.splice(Le,0,["enter",Xt,bt[2]]),Le++,Oe++,at=void 0,ot=!0}}}return ve[we][1]._spread=Fe,Oe}function r(ve,we){return Oe;function Oe(Le){s.call(this,ve(Le),Le),we&&we.call(this,Le)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(ve,we,Oe){this.stack[this.stack.length-1].children.push(ve),this.stack.push(ve),this.tokenStack.push([we,Oe||void 0]),ve.position={start:jh(we.start),end:void 0}}function c(ve){return we;function we(Oe){ve&&ve.call(this,Oe),u.call(this,Oe)}}function u(ve,we){const Oe=this.stack.pop(),Le=this.tokenStack.pop();if(Le)Le[0].type!==ve.type&&(we?we.call(this,ve,Le[0]):(Le[1]||fY).call(this,ve,Le[0]));else throw new Error("Cannot close `"+ve.type+"` ("+n2({start:ve.start,end:ve.end})+"): its not open");Oe.position.end=jh(ve.end)}function d(){return jO(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function m(ve){if(this.data.expectingFirstListItemValue){const we=this.stack[this.stack.length-2];we.start=Number.parseInt(this.sliceSerialize(ve),10),this.data.expectingFirstListItemValue=void 0}}function g(){const ve=this.resume(),we=this.stack[this.stack.length-1];we.lang=ve}function y(){const ve=this.resume(),we=this.stack[this.stack.length-1];we.meta=ve}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const ve=this.resume(),we=this.stack[this.stack.length-1];we.value=ve.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const ve=this.resume(),we=this.stack[this.stack.length-1];we.value=ve.replace(/(\r?\n|\r)$/g,"")}function _(ve){const we=this.resume(),Oe=this.stack[this.stack.length-1];Oe.label=we,Oe.identifier=$c(this.sliceSerialize(ve)).toLowerCase()}function T(){const ve=this.resume(),we=this.stack[this.stack.length-1];we.title=ve}function A(){const ve=this.resume(),we=this.stack[this.stack.length-1];we.url=ve}function R(ve){const we=this.stack[this.stack.length-1];if(!we.depth){const Oe=this.sliceSerialize(ve).length;we.depth=Oe}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function N(ve){const we=this.stack[this.stack.length-1];we.depth=this.sliceSerialize(ve).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function O(ve){const Oe=this.stack[this.stack.length-1].children;let Le=Oe[Oe.length-1];(!Le||Le.type!=="text")&&(Le=Ee(),Le.position={start:jh(ve.start),end:void 0},Oe.push(Le)),this.stack.push(Le)}function D(ve){const we=this.stack.pop();we.value+=this.sliceSerialize(ve),we.position.end=jh(ve.end)}function H(ve){const we=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Oe=we.children[we.children.length-1];Oe.position.end=jh(ve.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(we.type)&&(O.call(this,ve),D.call(this,ve))}function L(){this.data.atHardBreak=!0}function $(){const ve=this.resume(),we=this.stack[this.stack.length-1];we.value=ve}function M(){const ve=this.resume(),we=this.stack[this.stack.length-1];we.value=ve}function z(){const ve=this.resume(),we=this.stack[this.stack.length-1];we.value=ve}function F(){const ve=this.stack[this.stack.length-1];if(this.data.inReference){const we=this.data.referenceType||"shortcut";ve.type+="Reference",ve.referenceType=we,delete ve.url,delete ve.title}else delete ve.identifier,delete ve.label;this.data.referenceType=void 0}function G(){const ve=this.stack[this.stack.length-1];if(this.data.inReference){const we=this.data.referenceType||"shortcut";ve.type+="Reference",ve.referenceType=we,delete ve.url,delete ve.title}else delete ve.identifier,delete ve.label;this.data.referenceType=void 0}function ee(ve){const we=this.sliceSerialize(ve),Oe=this.stack[this.stack.length-2];Oe.label=hdt(we),Oe.identifier=$c(we).toLowerCase()}function V(){const ve=this.stack[this.stack.length-1],we=this.resume(),Oe=this.stack[this.stack.length-1];if(this.data.inReference=!0,Oe.type==="link"){const Le=ve.children;Oe.children=Le}else Oe.alt=we}function Y(){const ve=this.resume(),we=this.stack[this.stack.length-1];we.url=ve}function K(){const ve=this.resume(),we=this.stack[this.stack.length-1];we.title=ve}function J(){this.data.inReference=void 0}function W(){this.data.referenceType="collapsed"}function te(ve){const we=this.resume(),Oe=this.stack[this.stack.length-1];Oe.label=we,Oe.identifier=$c(this.sliceSerialize(ve)).toLowerCase(),this.data.referenceType="full"}function re(ve){this.data.characterReferenceType=ve.type}function ne(ve){const we=this.sliceSerialize(ve),Oe=this.data.characterReferenceType;let Le;Oe?(Le=sie(we,Oe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Le=DO(we);const We=this.stack[this.stack.length-1];We.value+=Le}function ce(ve){const we=this.stack.pop();we.position.end=jh(ve.end)}function pe(ve){D.call(this,ve);const we=this.stack[this.stack.length-1];we.url=this.sliceSerialize(ve)}function me(ve){D.call(this,ve);const we=this.stack[this.stack.length-1];we.url="mailto:"+this.sliceSerialize(ve)}function ge(){return{type:"blockquote",children:[]}}function ye(){return{type:"code",lang:null,meta:null,value:""}}function he(){return{type:"inlineCode",value:""}}function de(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function fe(){return{type:"emphasis",children:[]}}function oe(){return{type:"heading",depth:0,children:[]}}function ue(){return{type:"break"}}function le(){return{type:"html",value:""}}function Se(){return{type:"image",title:null,url:"",alt:null}}function _e(){return{type:"link",title:null,url:"",children:[]}}function Ie(ve){return{type:"list",ordered:ve.type==="listOrdered",start:null,spread:ve._spread,children:[]}}function ze(ve){return{type:"listItem",spread:ve._spread,checked:null,children:[]}}function Me(){return{type:"paragraph",children:[]}}function Ze(){return{type:"strong",children:[]}}function Ee(){return{type:"text",value:""}}function Ne(){return{type:"thematicBreak"}}}function jh(t){return{line:t.line,column:t.column,offset:t.offset}}function yie(t,e){let n=-1;for(;++n<e.length;){const a=e[n];Array.isArray(a)?yie(t,a):bdt(t,a)}}function bdt(t,e){let n;for(n in e)if(bie.call(e,n))switch(n){case"canContainEols":{const a=e[n];a&&t[n].push(...a);break}case"transforms":{const a=e[n];a&&t[n].push(...a);break}case"enter":case"exit":{const a=e[n];a&&Object.assign(t[n],a);break}}}function fY(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+n2({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+n2({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+n2({start:e.start,end:e.end})+") is still open")}function ydt(t){const e=this;e.parser=n;function n(a){return mdt(a,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function xdt(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function vdt(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Sdt(t,e){const n=e.value?e.value+`
`:"",a={};e.lang&&(a.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:a,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function Cdt(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function wdt(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function _dt(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",a=String(e.identifier).toUpperCase(),i=Zb(a.toLowerCase()),r=t.footnoteOrder.indexOf(a);let o,s=t.footnoteCounts.get(a);s===void 0?(s=0,t.footnoteOrder.push(a),o=t.footnoteOrder.length):o=r+1,s+=1,t.footnoteCounts.set(a,s);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(e,u),t.applyData(e,u)}function Tdt(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Edt(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function xie(t,e){const n=e.referenceType;let a="]";if(n==="collapsed"?a+="[]":n==="full"&&(a+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+a}];const i=t.all(e),r=i[0];r&&r.type==="text"?r.value="["+r.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=a:i.push({type:"text",value:a}),i}function Adt(t,e){const n=String(e.identifier).toUpperCase(),a=t.definitionById.get(n);if(!a)return xie(t,e);const i={src:Zb(a.url||""),alt:e.alt};a.title!==null&&a.title!==void 0&&(i.title=a.title);const r={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,r),t.applyData(e,r)}function Rdt(t,e){const n={src:Zb(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const a={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,a),t.applyData(e,a)}function kdt(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const a={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,a),t.applyData(e,a)}function Idt(t,e){const n=String(e.identifier).toUpperCase(),a=t.definitionById.get(n);if(!a)return xie(t,e);const i={href:Zb(a.url||"")};a.title!==null&&a.title!==void 0&&(i.title=a.title);const r={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Ndt(t,e){const n={href:Zb(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const a={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function jdt(t,e,n){const a=t.all(e),i=n?Ddt(n):vie(e),r={},o=[];if(typeof e.checked=="boolean"){const d=a[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},a.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),r.className=["task-list-item"]}let s=-1;for(;++s<a.length;){const d=a[s];(i||s!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const c=a[a.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:r,children:o};return t.patch(e,u),t.applyData(e,u)}function Ddt(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let a=-1;for(;!e&&++a<n.length;)e=vie(n[a])}return e}function vie(t){const e=t.spread;return e??t.children.length>1}function Odt(t,e){const n={},a=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<a.length;){const o=a[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const r={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(a,!0)};return t.patch(e,r),t.applyData(e,r)}function Mdt(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Pdt(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Ldt(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function zdt(t,e){const n=t.all(e),a=n.shift(),i=[];if(a){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([a],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},s=pd(e.children[1]),c=aT(e.children[e.children.length-1]);s&&c&&(o.position={start:s,end:c}),i.push(o)}const r={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,r),t.applyData(e,r)}function Fdt(t,e,n){const a=n?n.children:void 0,r=(a?a.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:e.children.length;let c=-1;const u=[];for(;++c<s;){const h=e.children[c],m={},g=o?o[c]:void 0;g&&(m.align=g);let y={type:"element",tagName:r,properties:m,children:[]};h&&(y.children=t.all(h),t.patch(h,y),y=t.applyData(h,y)),u.push(y)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,d),t.applyData(e,d)}function Bdt(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const hY=9,pY=32;function Hdt(t){const e=String(t),n=/\r?\n|\r/g;let a=n.exec(e),i=0;const r=[];for(;a;)r.push(mY(e.slice(i,a.index),i>0,!0),a[0]),i=a.index+a[0].length,a=n.exec(e);return r.push(mY(e.slice(i),i>0,!1)),r.join("")}function mY(t,e,n){let a=0,i=t.length;if(e){let r=t.codePointAt(a);for(;r===hY||r===pY;)a++,r=t.codePointAt(a)}if(n){let r=t.codePointAt(i-1);for(;r===hY||r===pY;)i--,r=t.codePointAt(i-1)}return i>a?t.slice(a,i):""}function $dt(t,e){const n={type:"text",value:Hdt(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Udt(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Gdt={blockquote:xdt,break:vdt,code:Sdt,delete:Cdt,emphasis:wdt,footnoteReference:_dt,heading:Tdt,html:Edt,imageReference:Adt,image:Rdt,inlineCode:kdt,linkReference:Idt,link:Ndt,listItem:jdt,list:Odt,paragraph:Mdt,root:Pdt,strong:Ldt,table:zdt,tableCell:Bdt,tableRow:Fdt,text:$dt,thematicBreak:Udt,toml:Fw,yaml:Fw,definition:Fw,footnoteDefinition:Fw};function Fw(){}const Sie=-1,oT=0,i2=1,v_=2,MO=3,PO=4,LO=5,zO=6,Cie=7,wie=8,gY=typeof self=="object"?self:globalThis,qdt=(t,e)=>{const n=(i,r)=>(t.set(r,i),i),a=i=>{if(t.has(i))return t.get(i);const[r,o]=e[i];switch(r){case oT:case Sie:return n(o,i);case i2:{const s=n([],i);for(const c of o)s.push(a(c));return s}case v_:{const s=n({},i);for(const[c,u]of o)s[a(c)]=a(u);return s}case MO:return n(new Date(o),i);case PO:{const{source:s,flags:c}=o;return n(new RegExp(s,c),i)}case LO:{const s=n(new Map,i);for(const[c,u]of o)s.set(a(c),a(u));return s}case zO:{const s=n(new Set,i);for(const c of o)s.add(a(c));return s}case Cie:{const{name:s,message:c}=o;return n(new gY[s](c),i)}case wie:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new gY[r](o),i)};return a},bY=t=>qdt(new Map,t)(0),R1="",{toString:Wdt}={},{keys:Vdt}=Object,dv=t=>{const e=typeof t;if(e!=="object"||!t)return[oT,e];const n=Wdt.call(t).slice(8,-1);switch(n){case"Array":return[i2,R1];case"Object":return[v_,R1];case"Date":return[MO,R1];case"RegExp":return[PO,R1];case"Map":return[LO,R1];case"Set":return[zO,R1];case"DataView":return[i2,n]}return n.includes("Array")?[i2,n]:n.includes("Error")?[Cie,n]:[v_,n]},Bw=([t,e])=>t===oT&&(e==="function"||e==="symbol"),Ydt=(t,e,n,a)=>{const i=(o,s)=>{const c=a.push(o)-1;return n.set(s,c),c},r=o=>{if(n.has(o))return n.get(o);let[s,c]=dv(o);switch(s){case oT:{let d=o;switch(c){case"bigint":s=wie,d=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([Sie],o)}return i([s,d],o)}case i2:{if(c){let m=o;return c==="DataView"?m=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(m=new Uint8Array(o)),i([c,[...m]],o)}const d=[],h=i([s,d],o);for(const m of o)d.push(r(m));return h}case v_:{if(c)switch(c){case"BigInt":return i([c,o.toString()],o);case"Boolean":case"Number":case"String":return i([c,o.valueOf()],o)}if(e&&"toJSON"in o)return r(o.toJSON());const d=[],h=i([s,d],o);for(const m of Vdt(o))(t||!Bw(dv(o[m])))&&d.push([r(m),r(o[m])]);return h}case MO:return i([s,o.toISOString()],o);case PO:{const{source:d,flags:h}=o;return i([s,{source:d,flags:h}],o)}case LO:{const d=[],h=i([s,d],o);for(const[m,g]of o)(t||!(Bw(dv(m))||Bw(dv(g))))&&d.push([r(m),r(g)]);return h}case zO:{const d=[],h=i([s,d],o);for(const m of o)(t||!Bw(dv(m)))&&d.push(r(m));return h}}const{message:u}=o;return i([s,{name:c,message:u}],o)};return r},yY=(t,{json:e,lossy:n}={})=>{const a=[];return Ydt(!(e||n),!!e,new Map,a)(t),a},Tg=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?bY(yY(t,e)):structuredClone(t):(t,e)=>bY(yY(t,e));function Kdt(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Xdt(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Qdt(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Kdt,a=t.options.footnoteBackLabel||Xdt,i=t.options.footnoteLabel||"Footnotes",r=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let c=-1;for(;++c<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[c]);if(!u)continue;const d=t.all(u),h=String(u.identifier).toUpperCase(),m=Zb(h.toLowerCase());let g=0;const y=[],v=t.footnoteCounts.get(h);for(;v!==void 0&&++g<=v;){y.length>0&&y.push({type:"text",value:" "});let _=typeof n=="string"?n:n(c,g);typeof _=="string"&&(_={type:"text",value:_}),y.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+m+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(c,g),className:["data-footnote-backref"]},children:Array.isArray(_)?_:[_]})}const S=d[d.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const _=S.children[S.children.length-1];_&&_.type==="text"?_.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...y)}else d.push(...y);const w={type:"element",tagName:"li",properties:{id:e+"fn-"+m},children:t.wrap(d,!0)};t.patch(u,w),s.push(w)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:r,properties:{...Tg(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(s,!0)},{type:"text",value:`
`}]}}const sT=(function(t){if(t==null)return tft;if(typeof t=="function")return lT(t);if(typeof t=="object")return Array.isArray(t)?Zdt(t):Jdt(t);if(typeof t=="string")return eft(t);throw new Error("Expected function, string, or object as test")});function Zdt(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=sT(t[n]);return lT(a);function a(...i){let r=-1;for(;++r<e.length;)if(e[r].apply(this,i))return!0;return!1}}function Jdt(t){const e=t;return lT(n);function n(a){const i=a;let r;for(r in t)if(i[r]!==e[r])return!1;return!0}}function eft(t){return lT(e);function e(n){return n&&n.type===t}}function lT(t){return e;function e(n,a,i){return!!(nft(n)&&t.call(this,n,typeof a=="number"?a:void 0,i||void 0))}}function tft(){return!0}function nft(t){return t!==null&&typeof t=="object"&&"type"in t}const _ie=[],aft=!0,FN=!1,ift="skip";function Tie(t,e,n,a){let i;typeof e=="function"&&typeof n!="function"?(a=n,n=e):i=e;const r=sT(i),o=a?-1:1;s(t,void 0,[])();function s(c,u,d){const h=c&&typeof c=="object"?c:{};if(typeof h.type=="string"){const g=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(c.type+(g?"<"+g+">":""))+")"})}return m;function m(){let g=_ie,y,v,S;if((!e||r(c,u,d[d.length-1]||void 0))&&(g=rft(n(c,d)),g[0]===FN))return g;if("children"in c&&c.children){const w=c;if(w.children&&g[0]!==ift)for(v=(a?w.children.length:-1)+o,S=d.concat(w);v>-1&&v<w.children.length;){const _=w.children[v];if(y=s(_,v,S)(),y[0]===FN)return y;v=typeof y[1]=="number"?y[1]:v+o}}return g}}}function rft(t){return Array.isArray(t)?t:typeof t=="number"?[aft,t]:t==null?_ie:[t]}function cT(t,e,n,a){let i,r,o;typeof e=="function"&&typeof n!="function"?(r=void 0,o=e,i=n):(r=e,o=n,i=a),Tie(t,r,s,i);function s(c,u){const d=u[u.length-1],h=d?d.children.indexOf(c):void 0;return o(c,h,d)}}const BN={}.hasOwnProperty,oft={};function sft(t,e){const n=e||oft,a=new Map,i=new Map,r=new Map,o={...Gdt,...n.handlers},s={all:u,applyData:cft,definitionById:a,footnoteById:i,footnoteCounts:r,footnoteOrder:[],handlers:o,one:c,options:n,patch:lft,wrap:dft};return cT(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?a:i,m=String(d.identifier).toUpperCase();h.has(m)||h.set(m,d)}}),s;function c(d,h){const m=d.type,g=s.handlers[m];if(BN.call(s.handlers,m)&&g)return g(s,d,h);if(s.options.passThrough&&s.options.passThrough.includes(m)){if("children"in d){const{children:v,...S}=d,w=Tg(S);return w.children=s.all(d),w}return Tg(d)}return(s.options.unknownHandler||uft)(s,d,h)}function u(d){const h=[];if("children"in d){const m=d.children;let g=-1;for(;++g<m.length;){const y=s.one(m[g],d);if(y){if(g&&m[g-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=xY(y.value)),!Array.isArray(y)&&y.type==="element")){const v=y.children[0];v&&v.type==="text"&&(v.value=xY(v.value))}Array.isArray(y)?h.push(...y):h.push(y)}}}return h}}function lft(t,e){t.position&&(e.position=eie(t))}function cft(t,e){let n=e;if(t&&t.data){const a=t.data.hName,i=t.data.hChildren,r=t.data.hProperties;if(typeof a=="string")if(n.type==="element")n.tagName=a;else{const o="children"in n?n.children:[n];n={type:"element",tagName:a,properties:{},children:o}}n.type==="element"&&r&&Object.assign(n.properties,Tg(r)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function uft(t,e){const n=e.data||{},a="value"in e&&!(BN.call(n,"hProperties")||BN.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function dft(t,e){const n=[];let a=-1;for(e&&n.push({type:"text",value:`
`});++a<t.length;)a&&n.push({type:"text",value:`
`}),n.push(t[a]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function xY(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function vY(t,e){const n=sft(t,e),a=n.one(t,void 0),i=Qdt(n),r=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return i&&r.children.push({type:"text",value:`
`},i),r}function fft(t,e){return t&&"run"in t?async function(n,a){const i=vY(n,{file:a,...e});await t.run(i,a)}:function(n,a){return vY(n,{file:a,...t||e})}}function SY(t){if(t)throw t}var hI,CY;function hft(){if(CY)return hI;CY=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):e.call(u)==="[object Array]"},r=function(u){if(!u||e.call(u)!=="[object Object]")return!1;var d=t.call(u,"constructor"),h=u.constructor&&u.constructor.prototype&&t.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!d&&!h)return!1;var m;for(m in u);return typeof m>"u"||t.call(u,m)},o=function(u,d){n&&d.name==="__proto__"?n(u,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):u[d.name]=d.newValue},s=function(u,d){if(d==="__proto__")if(t.call(u,d)){if(a)return a(u,d).value}else return;return u[d]};return hI=function c(){var u,d,h,m,g,y,v=arguments[0],S=1,w=arguments.length,_=!1;for(typeof v=="boolean"&&(_=v,v=arguments[1]||{},S=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});S<w;++S)if(u=arguments[S],u!=null)for(d in u)h=s(v,d),m=s(u,d),v!==m&&(_&&m&&(r(m)||(g=i(m)))?(g?(g=!1,y=h&&i(h)?h:[]):y=h&&r(h)?h:{},o(v,{name:d,newValue:c(_,y,m)})):typeof m<"u"&&o(v,{name:d,newValue:m}));return v},hI}var pft=hft();const pI=_f(pft);function HN(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function mft(){const t=[],e={run:n,use:a};return e;function n(...i){let r=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(c,...u){const d=t[++r];let h=-1;if(c){o(c);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,d?gft(d,s)(...u):o(null,...u)}}function a(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function gft(t,e){let n;return a;function a(...o){const s=t.length>o.length;let c;s&&o.push(i);try{c=t.apply(this,o)}catch(u){const d=u;if(s&&n)throw d;return i(d)}s||(c&&c.then&&typeof c.then=="function"?c.then(r,i):c instanceof Error?i(c):r(c))}function i(o,...s){n||(n=!0,e(o,...s))}function r(o){i(null,o)}}const Bu={basename:bft,dirname:yft,extname:xft,join:vft,sep:"/"};function bft(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');BS(t);let n=0,a=-1,i=t.length,r;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(r){n=i+1;break}}else a<0&&(r=!0,a=i+1);return a<0?"":t.slice(n,a)}if(e===t)return"";let o=-1,s=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(r){n=i+1;break}}else o<0&&(r=!0,o=i+1),s>-1&&(t.codePointAt(i)===e.codePointAt(s--)?s<0&&(a=i):(s=-1,a=o));return n===a?a=o:a<0&&(a=t.length),t.slice(n,a)}function yft(t){if(BS(t),t.length===0)return".";let e=-1,n=t.length,a;for(;--n;)if(t.codePointAt(n)===47){if(a){e=n;break}}else a||(a=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function xft(t){BS(t);let e=t.length,n=-1,a=0,i=-1,r=0,o;for(;e--;){const s=t.codePointAt(e);if(s===47){if(o){a=e+1;break}continue}n<0&&(o=!0,n=e+1),s===46?i<0?i=e:r!==1&&(r=1):i>-1&&(r=-1)}return i<0||n<0||r===0||r===1&&i===n-1&&i===a+1?"":t.slice(i,n)}function vft(...t){let e=-1,n;for(;++e<t.length;)BS(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Sft(n)}function Sft(t){BS(t);const e=t.codePointAt(0)===47;let n=Cft(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Cft(t,e){let n="",a=0,i=-1,r=0,o=-1,s,c;for(;++o<=t.length;){if(o<t.length)s=t.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||r===1))if(i!==o-1&&r===2){if(n.length<2||a!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",a=0):(n=n.slice(0,c),a=n.length-1-n.lastIndexOf("/")),i=o,r=0;continue}}else if(n.length>0){n="",a=0,i=o,r=0;continue}}e&&(n=n.length>0?n+"/..":"..",a=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),a=o-i-1;i=o,r=0}else s===46&&r>-1?r++:r=-1}return n}function BS(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const wft={cwd:_ft};function _ft(){return"/"}function $N(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Tft(t){if(typeof t=="string")t=new URL(t);else if(!$N(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Eft(t)}function Eft(t){if(t.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const a=e.codePointAt(n+2);if(a===70||a===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const mI=["history","path","basename","stem","extname","dirname"];class Eie{constructor(e){let n;e?$N(e)?n={path:e}:typeof e=="string"||Aft(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":wft.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<mI.length;){const r=mI[a];r in n&&n[r]!==void 0&&n[r]!==null&&(this[r]=r==="history"?[...n[r]]:n[r])}let i;for(i in n)mI.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Bu.basename(this.path):void 0}set basename(e){bI(e,"basename"),gI(e,"basename"),this.path=Bu.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Bu.dirname(this.path):void 0}set dirname(e){wY(this.basename,"dirname"),this.path=Bu.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Bu.extname(this.path):void 0}set extname(e){if(gI(e,"extname"),wY(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Bu.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){$N(e)&&(e=Tft(e)),bI(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Bu.basename(this.path,this.extname):void 0}set stem(e){bI(e,"stem"),gI(e,"stem"),this.path=Bu.join(this.dirname||"",e+(this.extname||""))}fail(e,n,a){const i=this.message(e,n,a);throw i.fatal=!0,i}info(e,n,a){const i=this.message(e,n,a);return i.fatal=void 0,i}message(e,n,a){const i=new Oo(e,n,a);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function gI(t,e){if(t&&t.includes(Bu.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Bu.sep+"`")}function bI(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function wY(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Aft(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Rft=(function(t){const a=this.constructor.prototype,i=a[t],r=function(){return i.apply(r,arguments)};return Object.setPrototypeOf(r,a),r}),kft={}.hasOwnProperty;class FO extends Rft{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=mft()}copy(){const e=new FO;let n=-1;for(;++n<this.attachers.length;){const a=this.attachers[n];e.use(...a)}return e.data(pI(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(vI("data",this.frozen),this.namespace[e]=n,this):kft.call(this.namespace,e)&&this.namespace[e]||void 0:e?(vI("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const i=n.call(e,...a);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Hw(e),a=this.parser||this.Parser;return yI("parse",a),a(String(n),n)}process(e,n){const a=this;return this.freeze(),yI("process",this.parser||this.Parser),xI("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(r,o){const s=Hw(e),c=a.parse(s);a.run(c,s,function(d,h,m){if(d||!h||!m)return u(d);const g=h,y=a.stringify(g,m);jft(y)?m.value=y:m.result=y,u(d,m)});function u(d,h){d||!h?o(d):r?r(h):n(void 0,h)}}}processSync(e){let n=!1,a;return this.freeze(),yI("processSync",this.parser||this.Parser),xI("processSync",this.compiler||this.Compiler),this.process(e,i),TY("processSync","process",n),a;function i(r,o){n=!0,SY(r),a=o}}run(e,n,a){_Y(e),this.freeze();const i=this.transformers;return!a&&typeof n=="function"&&(a=n,n=void 0),a?r(void 0,a):new Promise(r);function r(o,s){const c=Hw(n);i.run(e,c,u);function u(d,h,m){const g=h||e;d?s(d):o?o(g):a(void 0,g,m)}}}runSync(e,n){let a=!1,i;return this.run(e,n,r),TY("runSync","run",a),i;function r(o,s){SY(o),i=s,a=!0}}stringify(e,n){this.freeze();const a=Hw(n),i=this.compiler||this.Compiler;return xI("stringify",i),_Y(e),i(e,a)}use(e,...n){const a=this.attachers,i=this.namespace;if(vI("use",this.frozen),e!=null)if(typeof e=="function")c(e,n);else if(typeof e=="object")Array.isArray(e)?s(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function r(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;c(d,h)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=pI(!0,i.settings,u.settings))}function s(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];r(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let h=-1,m=-1;for(;++h<a.length;)if(a[h][0]===u){m=h;break}if(m===-1)a.push([u,...d]);else if(d.length>0){let[g,...y]=d;const v=a[m][1];HN(v)&&HN(g)&&(g=pI(!0,v,g)),a[m]=[u,g,...y]}}}}const Ift=new FO().freeze();function yI(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function xI(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function vI(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function _Y(t){if(!HN(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function TY(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Hw(t){return Nft(t)?t:new Eie(t)}function Nft(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function jft(t){return typeof t=="string"||Dft(t)}function Dft(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Oft="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",EY=[],AY={allowDangerousHtml:!0},Mft=/^(https?|ircs?|mailto|xmpp)$/i,Pft=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Lft(t){const e=zft(t),n=Fft(t);return Bft(e.runSync(e.parse(n),n),t)}function zft(t){const e=t.rehypePlugins||EY,n=t.remarkPlugins||EY,a=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...AY}:AY;return Ift().use(ydt).use(n).use(fft,a).use(e)}function Fft(t){const e=t.children||"",n=new Eie;return typeof e=="string"&&(n.value=e),n}function Bft(t,e){const n=e.allowedElements,a=e.allowElement,i=e.components,r=e.disallowedElements,o=e.skipHtml,s=e.unwrapDisallowed,c=e.urlTransform||Hft;for(const d of Pft)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Oft+d.id,void 0);return cT(t,u),tct(t,{Fragment:l.Fragment,components:i,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function u(d,h,m){if(d.type==="raw"&&m&&typeof h=="number")return o?m.children.splice(h,1):m.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let g;for(g in uI)if(Object.hasOwn(uI,g)&&Object.hasOwn(d.properties,g)){const y=d.properties[g],v=uI[g];(v===null||v.includes(d.tagName))&&(d.properties[g]=c(String(y||""),g,d))}}if(d.type==="element"){let g=n?!n.includes(d.tagName):r?r.includes(d.tagName):!1;if(!g&&a&&typeof h=="number"&&(g=!a(d,h,m)),g&&m&&typeof h=="number")return s&&d.children?m.children.splice(h,1,...d.children):m.children.splice(h,1),h}}}function Hft(t){const e=t.indexOf(":"),n=t.indexOf("?"),a=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||a!==-1&&e>a||Mft.test(t.slice(0,e))?t:""}function RY(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let a=0,i=n.indexOf(e);for(;i!==-1;)a++,i=n.indexOf(e,i+e.length);return a}function $ft(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Uft(t,e,n){const i=sT((n||{}).ignore||[]),r=Gft(e);let o=-1;for(;++o<r.length;)Tie(t,"text",s);function s(u,d){let h=-1,m;for(;++h<d.length;){const g=d[h],y=m?m.children:void 0;if(i(g,y?y.indexOf(g):void 0,m))return;m=g}if(m)return c(u,d)}function c(u,d){const h=d[d.length-1],m=r[o][0],g=r[o][1];let y=0;const S=h.children.indexOf(u);let w=!1,_=[];m.lastIndex=0;let T=m.exec(u.value);for(;T;){const A=T.index,R={index:T.index,input:T.input,stack:[...d,u]};let I=g(...T,R);if(typeof I=="string"&&(I=I.length>0?{type:"text",value:I}:void 0),I===!1?m.lastIndex=A+1:(y!==A&&_.push({type:"text",value:u.value.slice(y,A)}),Array.isArray(I)?_.push(...I):I&&_.push(I),y=A+T[0].length,w=!0),!m.global)break;T=m.exec(u.value)}return w?(y<u.value.length&&_.push({type:"text",value:u.value.slice(y)}),h.children.splice(S,1,..._)):_=[u],S+_.length}}function Gft(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let a=-1;for(;++a<n.length;){const i=n[a];e.push([qft(i[0]),Wft(i[1])])}return e}function qft(t){return typeof t=="string"?new RegExp($ft(t),"g"):t}function Wft(t){return typeof t=="function"?t:function(){return t}}const SI="phrasing",CI=["autolink","link","image","label"];function Vft(){return{transforms:[eht],enter:{literalAutolink:Kft,literalAutolinkEmail:wI,literalAutolinkHttp:wI,literalAutolinkWww:wI},exit:{literalAutolink:Jft,literalAutolinkEmail:Zft,literalAutolinkHttp:Xft,literalAutolinkWww:Qft}}}function Yft(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:SI,notInConstruct:CI},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:SI,notInConstruct:CI},{character:":",before:"[ps]",after:"\\/",inConstruct:SI,notInConstruct:CI}]}}function Kft(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function wI(t){this.config.enter.autolinkProtocol.call(this,t)}function Xft(t){this.config.exit.autolinkProtocol.call(this,t)}function Qft(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function Zft(t){this.config.exit.autolinkEmail.call(this,t)}function Jft(t){this.exit(t)}function eht(t){Uft(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,tht],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),nht]],{ignore:["link","linkReference"]})}function tht(t,e,n,a,i){let r="";if(!Aie(i)||(/^w/i.test(e)&&(n=e+n,e="",r="http://"),!aht(n)))return!1;const o=iht(n+a);if(!o[0])return!1;const s={type:"link",title:null,url:r+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function nht(t,e,n,a){return!Aie(a,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function aht(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function iht(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],a=n.indexOf(")");const i=RY(t,"(");let r=RY(t,")");for(;a!==-1&&i>r;)t+=n.slice(0,a+1),n=n.slice(a+1),a=n.indexOf(")"),r++;return[t,n]}function Aie(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||_g(n)||iT(n))&&(!e||n!==47)}Rie.peek=hht;function rht(){this.buffer()}function oht(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function sht(){this.buffer()}function lht(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function cht(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=$c(this.sliceSerialize(t)).toLowerCase(),n.label=e}function uht(t){this.exit(t)}function dht(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=$c(this.sliceSerialize(t)).toLowerCase(),n.label=e}function fht(t){this.exit(t)}function hht(){return"["}function Rie(t,e,n,a){const i=n.createTracker(a);let r=i.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return r+=i.move(n.safe(n.associationId(t),{after:"]",before:r})),s(),o(),r+=i.move("]"),r}function pht(){return{enter:{gfmFootnoteCallString:rht,gfmFootnoteCall:oht,gfmFootnoteDefinitionLabelString:sht,gfmFootnoteDefinition:lht},exit:{gfmFootnoteCallString:cht,gfmFootnoteCall:uht,gfmFootnoteDefinitionLabelString:dht,gfmFootnoteDefinition:fht}}}function mht(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:Rie},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(a,i,r,o){const s=r.createTracker(o);let c=s.move("[^");const u=r.enter("footnoteDefinition"),d=r.enter("label");return c+=s.move(r.safe(r.associationId(a),{before:c,after:"]"})),d(),c+=s.move("]:"),a.children&&a.children.length>0&&(s.shift(4),c+=s.move((e?`
`:" ")+r.indentLines(r.containerFlow(a,s.current()),e?kie:ght))),u(),c}}function ght(t,e,n){return e===0?t:kie(t,e,n)}function kie(t,e,n){return(n?"":"    ")+t}const bht=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Iie.peek=Cht;function yht(){return{canContainEols:["delete"],enter:{strikethrough:vht},exit:{strikethrough:Sht}}}function xht(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:bht}],handlers:{delete:Iie}}}function vht(t){this.enter({type:"delete",children:[]},t)}function Sht(t){this.exit(t)}function Iie(t,e,n,a){const i=n.createTracker(a),r=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),r(),o}function Cht(){return"~"}function wht(t){return t.length}function _ht(t,e){const n=e||{},a=(n.align||[]).concat(),i=n.stringLength||wht,r=[],o=[],s=[],c=[];let u=0,d=-1;for(;++d<t.length;){const v=[],S=[];let w=-1;for(t[d].length>u&&(u=t[d].length);++w<t[d].length;){const _=Tht(t[d][w]);if(n.alignDelimiters!==!1){const T=i(_);S[w]=T,(c[w]===void 0||T>c[w])&&(c[w]=T)}v.push(_)}o[d]=v,s[d]=S}let h=-1;if(typeof a=="object"&&"length"in a)for(;++h<u;)r[h]=kY(a[h]);else{const v=kY(a);for(;++h<u;)r[h]=v}h=-1;const m=[],g=[];for(;++h<u;){const v=r[h];let S="",w="";v===99?(S=":",w=":"):v===108?S=":":v===114&&(w=":");let _=n.alignDelimiters===!1?1:Math.max(1,c[h]-S.length-w.length);const T=S+"-".repeat(_)+w;n.alignDelimiters!==!1&&(_=S.length+_+w.length,_>c[h]&&(c[h]=_),g[h]=_),m[h]=T}o.splice(1,0,m),s.splice(1,0,g),d=-1;const y=[];for(;++d<o.length;){const v=o[d],S=s[d];h=-1;const w=[];for(;++h<u;){const _=v[h]||"";let T="",A="";if(n.alignDelimiters!==!1){const R=c[h]-(S[h]||0),I=r[h];I===114?T=" ".repeat(R):I===99?R%2?(T=" ".repeat(R/2+.5),A=" ".repeat(R/2-.5)):(T=" ".repeat(R/2),A=T):A=" ".repeat(R)}n.delimiterStart!==!1&&!h&&w.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&_==="")&&(n.delimiterStart!==!1||h)&&w.push(" "),n.alignDelimiters!==!1&&w.push(T),w.push(_),n.alignDelimiters!==!1&&w.push(A),n.padding!==!1&&w.push(" "),(n.delimiterEnd!==!1||h!==u-1)&&w.push("|")}y.push(n.delimiterEnd===!1?w.join("").replace(/ +$/,""):w.join(""))}return y.join(`
`)}function Tht(t){return t==null?"":String(t)}function kY(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}const IY={}.hasOwnProperty;function Nie(t,e){const n=e||{};function a(i,...r){let o=a.invalid;const s=a.handlers;if(i&&IY.call(i,t)){const c=String(i[t]);o=IY.call(s,c)?s[c]:a.unknown}if(o)return o.call(this,i,...r)}return a.handlers=n.handlers||{},a.invalid=n.invalid,a.unknown=n.unknown,a}function Eht(t,e,n,a){const i=n.enter("blockquote"),r=n.createTracker(a);r.move("> "),r.shift(2);const o=n.indentLines(n.containerFlow(t,r.current()),Aht);return i(),o}function Aht(t,e,n){return">"+(n?"":" ")+t}function Rht(t,e){return NY(t,e.inConstruct,!0)&&!NY(t,e.notInConstruct,!1)}function NY(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let a=-1;for(;++a<e.length;)if(t.includes(e[a]))return!0;return!1}function jY(t,e,n,a){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Rht(n.stack,n.unsafe[i]))return/[ \t]/.test(a.before)?"":" ";return`\\
`}function kht(t,e){const n=String(t);let a=n.indexOf(e),i=a,r=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;a!==-1;)a===i?++r>o&&(o=r):r=1,i=a+e.length,a=n.indexOf(e,i);return o}function Iht(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Nht(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function jht(t,e,n,a){const i=Nht(n),r=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(Iht(t,n)){const h=n.enter("codeIndented"),m=n.indentLines(r,Dht);return h(),m}const s=n.createTracker(a),c=i.repeat(Math.max(kht(r,i)+1,3)),u=n.enter("codeFenced");let d=s.move(c);if(t.lang){const h=n.enter(`codeFencedLang${o}`);d+=s.move(n.safe(t.lang,{before:d,after:" ",encode:["`"],...s.current()})),h()}if(t.lang&&t.meta){const h=n.enter(`codeFencedMeta${o}`);d+=s.move(" "),d+=s.move(n.safe(t.meta,{before:d,after:`
`,encode:["`"],...s.current()})),h()}return d+=s.move(`
`),r&&(d+=s.move(r+`
`)),d+=s.move(c),u(),d}function Dht(t,e,n){return(n?"":"    ")+t}function BO(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function Oht(t,e,n,a){const i=BO(n),r=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const c=n.createTracker(a);let u=c.move("[");return u+=c.move(n.safe(n.associationId(t),{before:u,after:"]",...c.current()})),u+=c.move("]: "),s(),!t.url||/[\0- \u007F]/.test(t.url)?(s=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(t.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(s=n.enter("destinationRaw"),u+=c.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...c.current()}))),s(),t.title&&(s=n.enter(`title${r}`),u+=c.move(" "+i),u+=c.move(n.safe(t.title,{before:u,after:i,...c.current()})),u+=c.move(i),s()),o(),u}function Mht(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function X2(t){return"&#x"+t.toString(16).toUpperCase()+";"}function S_(t,e,n){const a=wb(t),i=wb(e);return a===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:a===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}jie.peek=Pht;function jie(t,e,n,a){const i=Mht(n),r=n.enter("emphasis"),o=n.createTracker(a),s=o.move(i);let c=o.move(n.containerPhrasing(t,{after:i,before:s,...o.current()}));const u=c.charCodeAt(0),d=S_(a.before.charCodeAt(a.before.length-1),u,i);d.inside&&(c=X2(u)+c.slice(1));const h=c.charCodeAt(c.length-1),m=S_(a.after.charCodeAt(0),h,i);m.inside&&(c=c.slice(0,-1)+X2(h));const g=o.move(i);return r(),n.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},s+c+g}function Pht(t,e,n){return n.options.emphasis||"*"}function Lht(t,e){let n=!1;return cT(t,function(a){if("value"in a&&/\r?\n|\r/.test(a.value)||a.type==="break")return n=!0,FN}),!!((!t.depth||t.depth<3)&&jO(t)&&(e.options.setext||n))}function zht(t,e,n,a){const i=Math.max(Math.min(6,t.depth||1),1),r=n.createTracker(a);if(Lht(t,n)){const d=n.enter("headingSetext"),h=n.enter("phrasing"),m=n.containerPhrasing(t,{...r.current(),before:`
`,after:`
`});return h(),d(),m+`
`+(i===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf(`
`))+1))}const o="#".repeat(i),s=n.enter("headingAtx"),c=n.enter("phrasing");r.move(o+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...r.current()});return/^[\t ]/.test(u)&&(u=X2(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),c(),s(),u}Die.peek=Fht;function Die(t){return t.value||""}function Fht(){return"<"}Oie.peek=Bht;function Oie(t,e,n,a){const i=BO(n),r=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const c=n.createTracker(a);let u=c.move("![");return u+=c.move(n.safe(t.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),s(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(s=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(t.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(s=n.enter("destinationRaw"),u+=c.move(n.safe(t.url,{before:u,after:t.title?" ":")",...c.current()}))),s(),t.title&&(s=n.enter(`title${r}`),u+=c.move(" "+i),u+=c.move(n.safe(t.title,{before:u,after:i,...c.current()})),u+=c.move(i),s()),u+=c.move(")"),o(),u}function Bht(){return"!"}Mie.peek=Hht;function Mie(t,e,n,a){const i=t.referenceType,r=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(a);let c=s.move("![");const u=n.safe(t.alt,{before:c,after:"]",...s.current()});c+=s.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const h=n.safe(n.associationId(t),{before:c,after:"]",...s.current()});return o(),n.stack=d,r(),i==="full"||!u||u!==h?c+=s.move(h+"]"):i==="shortcut"?c=c.slice(0,-1):c+=s.move("]"),c}function Hht(){return"!"}Pie.peek=$ht;function Pie(t,e,n){let a=t.value||"",i="`",r=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(a);)i+="`";for(/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^`|`$/.test(a))&&(a=" "+a+" ");++r<n.unsafe.length;){const o=n.unsafe[r],s=n.compilePattern(o);let c;if(o.atBreak)for(;c=s.exec(a);){let u=c.index;a.charCodeAt(u)===10&&a.charCodeAt(u-1)===13&&u--,a=a.slice(0,u)+" "+a.slice(c.index+1)}}return i+a+i}function $ht(){return"`"}function Lie(t,e){const n=jO(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}zie.peek=Uht;function zie(t,e,n,a){const i=BO(n),r=i==='"'?"Quote":"Apostrophe",o=n.createTracker(a);let s,c;if(Lie(t,n)){const d=n.stack;n.stack=[],s=n.enter("autolink");let h=o.move("<");return h+=o.move(n.containerPhrasing(t,{before:h,after:">",...o.current()})),h+=o.move(">"),s(),n.stack=d,h}s=n.enter("link"),c=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(t,{before:u,after:"](",...o.current()})),u+=o.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(t.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(c=n.enter("destinationRaw"),u+=o.move(n.safe(t.url,{before:u,after:t.title?" ":")",...o.current()}))),c(),t.title&&(c=n.enter(`title${r}`),u+=o.move(" "+i),u+=o.move(n.safe(t.title,{before:u,after:i,...o.current()})),u+=o.move(i),c()),u+=o.move(")"),s(),u}function Uht(t,e,n){return Lie(t,n)?"<":"["}Fie.peek=Ght;function Fie(t,e,n,a){const i=t.referenceType,r=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(a);let c=s.move("[");const u=n.containerPhrasing(t,{before:c,after:"]",...s.current()});c+=s.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const h=n.safe(n.associationId(t),{before:c,after:"]",...s.current()});return o(),n.stack=d,r(),i==="full"||!u||u!==h?c+=s.move(h+"]"):i==="shortcut"?c=c.slice(0,-1):c+=s.move("]"),c}function Ght(){return"["}function HO(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function qht(t){const e=HO(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Wht(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Bie(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Vht(t,e,n,a){const i=n.enter("list"),r=n.bulletCurrent;let o=t.ordered?Wht(n):HO(n);const s=t.ordered?o==="."?")":".":qht(n);let c=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const d=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),Bie(n)===o&&d){let h=-1;for(;++h<t.children.length;){const m=t.children[h];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(o=s),n.bulletCurrent=o;const u=n.containerFlow(t,a);return n.bulletLastUsed=o,n.bulletCurrent=r,i(),u}function Yht(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Kht(t,e,n,a){const i=Yht(n);let r=n.bulletCurrent||HO(n);e&&e.type==="list"&&e.ordered&&(r=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+r);let o=r.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(a);s.move(r+" ".repeat(o-r.length)),s.shift(o);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,s.current()),d);return c(),u;function d(h,m,g){return m?(g?"":" ".repeat(o))+h:(g?r:r+" ".repeat(o-r.length))+h}}function Xht(t,e,n,a){const i=n.enter("paragraph"),r=n.enter("phrasing"),o=n.containerPhrasing(t,a);return r(),i(),o}const Qht=sT(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Zht(t,e,n,a){return(t.children.some(function(o){return Qht(o)})?n.containerPhrasing:n.containerFlow).call(n,t,a)}function Jht(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Hie.peek=ept;function Hie(t,e,n,a){const i=Jht(n),r=n.enter("strong"),o=n.createTracker(a),s=o.move(i+i);let c=o.move(n.containerPhrasing(t,{after:i,before:s,...o.current()}));const u=c.charCodeAt(0),d=S_(a.before.charCodeAt(a.before.length-1),u,i);d.inside&&(c=X2(u)+c.slice(1));const h=c.charCodeAt(c.length-1),m=S_(a.after.charCodeAt(0),h,i);m.inside&&(c=c.slice(0,-1)+X2(h));const g=o.move(i+i);return r(),n.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},s+c+g}function ept(t,e,n){return n.options.strong||"*"}function tpt(t,e,n,a){return n.safe(t.value,a)}function npt(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function apt(t,e,n){const a=(Bie(n)+(n.options.ruleSpaces?" ":"")).repeat(npt(n));return n.options.ruleSpaces?a.slice(0,-1):a}const $ie={blockquote:Eht,break:jY,code:jht,definition:Oht,emphasis:jie,hardBreak:jY,heading:zht,html:Die,image:Oie,imageReference:Mie,inlineCode:Pie,link:zie,linkReference:Fie,list:Vht,listItem:Kht,paragraph:Xht,root:Zht,strong:Hie,text:tpt,thematicBreak:apt};function ipt(){return{enter:{table:rpt,tableData:DY,tableHeader:DY,tableRow:spt},exit:{codeText:lpt,table:opt,tableData:_I,tableHeader:_I,tableRow:_I}}}function rpt(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function opt(t){this.exit(t),this.data.inTable=void 0}function spt(t){this.enter({type:"tableRow",children:[]},t)}function _I(t){this.exit(t)}function DY(t){this.enter({type:"tableCell",children:[]},t)}function lpt(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,cpt));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function cpt(t,e){return e==="|"?e:t}function upt(t){const e=t||{},n=e.tableCellPadding,a=e.tablePipeAlign,i=e.stringLength,r=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:m,table:o,tableCell:c,tableRow:s}};function o(g,y,v,S){return u(d(g,v,S),g.align)}function s(g,y,v,S){const w=h(g,v,S),_=u([w]);return _.slice(0,_.indexOf(`
`))}function c(g,y,v,S){const w=v.enter("tableCell"),_=v.enter("phrasing"),T=v.containerPhrasing(g,{...S,before:r,after:r});return _(),w(),T}function u(g,y){return _ht(g,{align:y,alignDelimiters:a,padding:n,stringLength:i})}function d(g,y,v){const S=g.children;let w=-1;const _=[],T=y.enter("table");for(;++w<S.length;)_[w]=h(S[w],y,v);return T(),_}function h(g,y,v){const S=g.children;let w=-1;const _=[],T=y.enter("tableRow");for(;++w<S.length;)_[w]=c(S[w],g,y,v);return T(),_}function m(g,y,v){let S=$ie.inlineCode(g,y,v);return v.stack.includes("tableCell")&&(S=S.replace(/\|/g,"\\$&")),S}}function dpt(){return{exit:{taskListCheckValueChecked:OY,taskListCheckValueUnchecked:OY,paragraph:hpt}}}function fpt(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:ppt}}}function OY(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function hpt(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const a=n.children[0];if(a&&a.type==="text"){const i=e.children;let r=-1,o;for(;++r<i.length;){const s=i[r];if(s.type==="paragraph"){o=s;break}}o===n&&(a.value=a.value.slice(1),a.value.length===0?n.children.shift():n.position&&a.position&&typeof a.position.start.offset=="number"&&(a.position.start.column++,a.position.start.offset++,n.position.start=Object.assign({},a.position.start)))}}this.exit(t)}function ppt(t,e,n,a){const i=t.children[0],r=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",s=n.createTracker(a);r&&s.move(o);let c=$ie.listItem(t,e,n,{...a,...s.current()});return r&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+o}}function mpt(){return[Vft(),pht(),yht(),ipt(),dpt()]}function gpt(t){return{extensions:[Yft(),mht(t),xht(),upt(t),fpt()]}}const bpt={tokenize:wpt,partial:!0},Uie={tokenize:_pt,partial:!0},Gie={tokenize:Tpt,partial:!0},qie={tokenize:Ept,partial:!0},ypt={tokenize:Apt,partial:!0},Wie={name:"wwwAutolink",tokenize:Spt,previous:Yie},Vie={name:"protocolAutolink",tokenize:Cpt,previous:Kie},Nf={name:"emailAutolink",tokenize:vpt,previous:Xie},md={};function xpt(){return{text:md}}let _m=48;for(;_m<123;)md[_m]=Nf,_m++,_m===58?_m=65:_m===91&&(_m=97);md[43]=Nf;md[45]=Nf;md[46]=Nf;md[95]=Nf;md[72]=[Nf,Vie];md[104]=[Nf,Vie];md[87]=[Nf,Wie];md[119]=[Nf,Wie];function vpt(t,e,n){const a=this;let i,r;return o;function o(h){return!UN(h)||!Xie.call(a,a.previous)||$O(a.events)?n(h):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),s(h))}function s(h){return UN(h)?(t.consume(h),s):h===64?(t.consume(h),c):n(h)}function c(h){return h===46?t.check(ypt,d,u)(h):h===45||h===95||ko(h)?(r=!0,t.consume(h),c):d(h)}function u(h){return t.consume(h),i=!0,c}function d(h){return r&&i&&Jo(a.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(h)):n(h)}}function Spt(t,e,n){const a=this;return i;function i(o){return o!==87&&o!==119||!Yie.call(a,a.previous)||$O(a.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(bpt,t.attempt(Uie,t.attempt(Gie,r),n),n)(o))}function r(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function Cpt(t,e,n){const a=this;let i="",r=!1;return o;function o(h){return(h===72||h===104)&&Kie.call(a,a.previous)&&!$O(a.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),t.consume(h),s):n(h)}function s(h){if(Jo(h)&&i.length<5)return i+=String.fromCodePoint(h),t.consume(h),s;if(h===58){const m=i.toLowerCase();if(m==="http"||m==="https")return t.consume(h),c}return n(h)}function c(h){return h===47?(t.consume(h),r?u:(r=!0,c)):n(h)}function u(h){return h===null||x_(h)||Va(h)||_g(h)||iT(h)?n(h):t.attempt(Uie,t.attempt(Gie,d),n)(h)}function d(h){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(h)}}function wpt(t,e,n){let a=0;return i;function i(o){return(o===87||o===119)&&a<3?(a++,t.consume(o),i):o===46&&a===3?(t.consume(o),r):n(o)}function r(o){return o===null?n(o):e(o)}}function _pt(t,e,n){let a,i,r;return o;function o(u){return u===46||u===95?t.check(qie,c,s)(u):u===null||Va(u)||_g(u)||u!==45&&iT(u)?c(u):(r=!0,t.consume(u),o)}function s(u){return u===95?a=!0:(i=a,a=void 0),t.consume(u),o}function c(u){return i||a||!r?n(u):e(u)}}function Tpt(t,e){let n=0,a=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&a<n?r(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(qie,e,r)(o):o===null||Va(o)||_g(o)?e(o):(t.consume(o),i)}function r(o){return o===41&&a++,t.consume(o),i}}function Ept(t,e,n){return a;function a(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(t.consume(s),a):s===38?(t.consume(s),r):s===93?(t.consume(s),i):s===60||s===null||Va(s)||_g(s)?e(s):n(s)}function i(s){return s===null||s===40||s===91||Va(s)||_g(s)?e(s):a(s)}function r(s){return Jo(s)?o(s):n(s)}function o(s){return s===59?(t.consume(s),a):Jo(s)?(t.consume(s),o):n(s)}}function Apt(t,e,n){return a;function a(r){return t.consume(r),i}function i(r){return ko(r)?n(r):e(r)}}function Yie(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Va(t)}function Kie(t){return!Jo(t)}function Xie(t){return!(t===47||UN(t))}function UN(t){return t===43||t===45||t===46||t===95||ko(t)}function $O(t){let e=t.length,n=!1;for(;e--;){const a=t[e][1];if((a.type==="labelLink"||a.type==="labelImage")&&!a._balanced){n=!0;break}if(a._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Rpt={tokenize:Ppt,partial:!0};function kpt(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Dpt,continuation:{tokenize:Opt},exit:Mpt}},text:{91:{name:"gfmFootnoteCall",tokenize:jpt},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Ipt,resolveTo:Npt}}}}function Ipt(t,e,n){const a=this;let i=a.events.length;const r=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let o;for(;i--;){const c=a.events[i][1];if(c.type==="labelImage"){o=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return s;function s(c){if(!o||!o._balanced)return n(c);const u=$c(a.sliceSerialize({start:o.end,end:a.now()}));return u.codePointAt(0)!==94||!r.includes(u.slice(1))?n(c):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(c),t.exit("gfmFootnoteCallLabelMarker"),e(c))}}function Npt(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const a={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const r={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},r.start),end:Object.assign({},r.end)},s=[t[n+1],t[n+2],["enter",a,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",r,e],["enter",o,e],["exit",o,e],["exit",r,e],t[t.length-2],t[t.length-1],["exit",a,e]];return t.splice(n,t.length-n+1,...s),t}function jpt(t,e,n){const a=this,i=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let r=0,o;return s;function s(h){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),c}function c(h){return h!==94?n(h):(t.enter("gfmFootnoteCallMarker"),t.consume(h),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(h){if(r>999||h===93&&!o||h===null||h===91||Va(h))return n(h);if(h===93){t.exit("chunkString");const m=t.exit("gfmFootnoteCallString");return i.includes($c(a.sliceSerialize(m)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(h)}return Va(h)||(o=!0),r++,t.consume(h),h===92?d:u}function d(h){return h===91||h===92||h===93?(t.consume(h),r++,u):u(h)}}function Dpt(t,e,n){const a=this,i=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let r,o=0,s;return c;function c(y){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(y),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(y){return y===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(y),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",d):n(y)}function d(y){if(o>999||y===93&&!s||y===null||y===91||Va(y))return n(y);if(y===93){t.exit("chunkString");const v=t.exit("gfmFootnoteDefinitionLabelString");return r=$c(a.sliceSerialize(v)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(y),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),m}return Va(y)||(s=!0),o++,t.consume(y),y===92?h:d}function h(y){return y===91||y===92||y===93?(t.consume(y),o++,d):d(y)}function m(y){return y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),i.includes(r)||i.push(r),pa(t,g,"gfmFootnoteDefinitionWhitespace")):n(y)}function g(y){return e(y)}}function Opt(t,e,n){return t.check(FS,e,t.attempt(Rpt,e,n))}function Mpt(t){t.exit("gfmFootnoteDefinition")}function Ppt(t,e,n){const a=this;return pa(t,i,"gfmFootnoteDefinitionIndent",5);function i(r){const o=a.events[a.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(r):n(r)}}function Lpt(t){let n=(t||{}).singleTilde;const a={name:"strikethrough",tokenize:r,resolveAll:i};return n==null&&(n=!0),{text:{126:a},insideSpan:{null:[a]},attentionMarkers:{null:[126]}};function i(o,s){let c=-1;for(;++c<o.length;)if(o[c][0]==="enter"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._close){let u=c;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[c][1].end.offset-o[c][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[c][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[c][1].end)},h={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[c][1].start)},m=[["enter",d,s],["enter",o[u][1],s],["exit",o[u][1],s],["enter",h,s]],g=s.parser.constructs.insideSpan.null;g&&nl(m,m.length,0,rT(g,o.slice(u+1,c),s)),nl(m,m.length,0,[["exit",h,s],["enter",o[c][1],s],["exit",o[c][1],s],["exit",d,s]]),nl(o,u-1,c-u+3,m),c=u+m.length-2;break}}for(c=-1;++c<o.length;)o[c][1].type==="strikethroughSequenceTemporary"&&(o[c][1].type="data");return o}function r(o,s,c){const u=this.previous,d=this.events;let h=0;return m;function m(y){return u===126&&d[d.length-1][1].type!=="characterEscape"?c(y):(o.enter("strikethroughSequenceTemporary"),g(y))}function g(y){const v=wb(u);if(y===126)return h>1?c(y):(o.consume(y),h++,g);if(h<2&&!n)return c(y);const S=o.exit("strikethroughSequenceTemporary"),w=wb(y);return S._open=!w||w===2&&!!v,S._close=!v||v===2&&!!w,s(y)}}}class zpt{constructor(){this.map=[]}add(e,n,a){Fpt(this,e,n,a)}consume(e){if(this.map.sort(function(r,o){return r[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const a=[];for(;n>0;)n-=1,a.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];a.push(e.slice()),e.length=0;let i=a.pop();for(;i;){for(const r of i)e.push(r);i=a.pop()}this.map.length=0}}function Fpt(t,e,n,a){let i=0;if(!(n===0&&a.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...a);return}i+=1}t.map.push([e,n,a])}}function Bpt(t,e){let n=!1;const a=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&a.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const r=a.length-1;a[r]=a[r]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return a}function Hpt(){return{flow:{null:{name:"table",tokenize:$pt,resolveAll:Upt}}}}function $pt(t,e,n){const a=this;let i=0,r=0,o;return s;function s(D){let H=a.events.length-1;for(;H>-1;){const M=a.events[H][1].type;if(M==="lineEnding"||M==="linePrefix")H--;else break}const L=H>-1?a.events[H][1].type:null,$=L==="tableHead"||L==="tableRow"?I:c;return $===I&&a.parser.lazy[a.now().line]?n(D):$(D)}function c(D){return t.enter("tableHead"),t.enter("tableRow"),u(D)}function u(D){return D===124||(o=!0,r+=1),d(D)}function d(D){return D===null?n(D):mn(D)?r>1?(r=0,a.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),g):n(D):ia(D)?pa(t,d,"whitespace")(D):(r+=1,o&&(o=!1,i+=1),D===124?(t.enter("tableCellDivider"),t.consume(D),t.exit("tableCellDivider"),o=!0,d):(t.enter("data"),h(D)))}function h(D){return D===null||D===124||Va(D)?(t.exit("data"),d(D)):(t.consume(D),D===92?m:h)}function m(D){return D===92||D===124?(t.consume(D),h):h(D)}function g(D){return a.interrupt=!1,a.parser.lazy[a.now().line]?n(D):(t.enter("tableDelimiterRow"),o=!1,ia(D)?pa(t,y,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):y(D))}function y(D){return D===45||D===58?S(D):D===124?(o=!0,t.enter("tableCellDivider"),t.consume(D),t.exit("tableCellDivider"),v):R(D)}function v(D){return ia(D)?pa(t,S,"whitespace")(D):S(D)}function S(D){return D===58?(r+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(D),t.exit("tableDelimiterMarker"),w):D===45?(r+=1,w(D)):D===null||mn(D)?A(D):R(D)}function w(D){return D===45?(t.enter("tableDelimiterFiller"),_(D)):R(D)}function _(D){return D===45?(t.consume(D),_):D===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(D),t.exit("tableDelimiterMarker"),T):(t.exit("tableDelimiterFiller"),T(D))}function T(D){return ia(D)?pa(t,A,"whitespace")(D):A(D)}function A(D){return D===124?y(D):D===null||mn(D)?!o||i!==r?R(D):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(D)):R(D)}function R(D){return n(D)}function I(D){return t.enter("tableRow"),N(D)}function N(D){return D===124?(t.enter("tableCellDivider"),t.consume(D),t.exit("tableCellDivider"),N):D===null||mn(D)?(t.exit("tableRow"),e(D)):ia(D)?pa(t,N,"whitespace")(D):(t.enter("data"),P(D))}function P(D){return D===null||D===124||Va(D)?(t.exit("data"),N(D)):(t.consume(D),D===92?O:P)}function O(D){return D===92||D===124?(t.consume(D),P):P(D)}}function Upt(t,e){let n=-1,a=!0,i=0,r=[0,0,0,0],o=[0,0,0,0],s=!1,c=0,u,d,h;const m=new zpt;for(;++n<t.length;){const g=t[n],y=g[1];g[0]==="enter"?y.type==="tableHead"?(s=!1,c!==0&&(MY(m,e,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},y.start),end:Object.assign({},y.end)},m.add(n,0,[["enter",u,e]])):y.type==="tableRow"||y.type==="tableDelimiterRow"?(a=!0,h=void 0,r=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,d={type:"tableBody",start:Object.assign({},y.start),end:Object.assign({},y.end)},m.add(n,0,[["enter",d,e]])),i=y.type==="tableDelimiterRow"?2:d?3:1):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")?(a=!1,o[2]===0&&(r[1]!==0&&(o[0]=o[1],h=$w(m,e,r,i,void 0,h),r=[0,0,0,0]),o[2]=n)):y.type==="tableCellDivider"&&(a?a=!1:(r[1]!==0&&(o[0]=o[1],h=$w(m,e,r,i,void 0,h)),r=o,o=[r[1],n,0,0])):y.type==="tableHead"?(s=!0,c=n):y.type==="tableRow"||y.type==="tableDelimiterRow"?(c=n,r[1]!==0?(o[0]=o[1],h=$w(m,e,r,i,n,h)):o[1]!==0&&(h=$w(m,e,o,i,n,h)),i=0):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")&&(o[3]=n)}for(c!==0&&MY(m,e,c,u,d),m.consume(e.events),n=-1;++n<e.events.length;){const g=e.events[n];g[0]==="enter"&&g[1].type==="table"&&(g[1]._align=Bpt(e.events,n))}return t}function $w(t,e,n,a,i,r){const o=a===1?"tableHeader":a===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(r.end=Object.assign({},D1(e.events,n[0])),t.add(n[0],0,[["exit",r,e]]));const c=D1(e.events,n[1]);if(r={type:o,start:Object.assign({},c),end:Object.assign({},c)},t.add(n[1],0,[["enter",r,e]]),n[2]!==0){const u=D1(e.events,n[2]),d=D1(e.events,n[3]),h={type:s,start:Object.assign({},u),end:Object.assign({},d)};if(t.add(n[2],0,[["enter",h,e]]),a!==2){const m=e.events[n[2]],g=e.events[n[3]];if(m[1].end=Object.assign({},g[1].end),m[1].type="chunkText",m[1].contentType="text",n[3]>n[2]+1){const y=n[2]+1,v=n[3]-n[2]-1;t.add(y,v,[])}}t.add(n[3]+1,0,[["exit",h,e]])}return i!==void 0&&(r.end=Object.assign({},D1(e.events,i)),t.add(i,0,[["exit",r,e]]),r=void 0),r}function MY(t,e,n,a,i){const r=[],o=D1(e.events,n);i&&(i.end=Object.assign({},o),r.push(["exit",i,e])),a.end=Object.assign({},o),r.push(["exit",a,e]),t.add(n+1,0,r)}function D1(t,e){const n=t[e],a=n[0]==="enter"?"start":"end";return n[1][a]}const Gpt={name:"tasklistCheck",tokenize:Wpt};function qpt(){return{text:{91:Gpt}}}function Wpt(t,e,n){const a=this;return i;function i(c){return a.previous!==null||!a._gfmTasklistFirstContentOfListItem?n(c):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(c),t.exit("taskListCheckMarker"),r)}function r(c){return Va(c)?(t.enter("taskListCheckValueUnchecked"),t.consume(c),t.exit("taskListCheckValueUnchecked"),o):c===88||c===120?(t.enter("taskListCheckValueChecked"),t.consume(c),t.exit("taskListCheckValueChecked"),o):n(c)}function o(c){return c===93?(t.enter("taskListCheckMarker"),t.consume(c),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),s):n(c)}function s(c){return mn(c)?e(c):ia(c)?t.check({tokenize:Vpt},e,n)(c):n(c)}}function Vpt(t,e,n){return pa(t,a,"whitespace");function a(i){return i===null?n(i):e(i)}}function Ypt(t){return oie([xpt(),kpt(),Lpt(t),Hpt(),qpt()])}const Kpt={};function Xpt(t){const e=this,n=t||Kpt,a=e.data(),i=a.micromarkExtensions||(a.micromarkExtensions=[]),r=a.fromMarkdownExtensions||(a.fromMarkdownExtensions=[]),o=a.toMarkdownExtensions||(a.toMarkdownExtensions=[]);i.push(Ypt(n)),r.push(mpt()),o.push(gpt(n))}const PY=/[#.]/g;function Qpt(t,e){const n=t||"",a={};let i=0,r,o;for(;i<n.length;){PY.lastIndex=i;const s=PY.exec(n),c=n.slice(i,s?s.index:n.length);c&&(r?r==="#"?a.id=c:Array.isArray(a.className)?a.className.push(c):a.className=[c]:o=c,i+=c.length),s&&(r=s[0],i++)}return{type:"element",tagName:o||e||"div",properties:a,children:[]}}function Qie(t,e,n){const a=n?tmt(n):void 0;function i(r,o,...s){let c;if(r==null){c={type:"root",children:[]};const u=o;s.unshift(u)}else{c=Qpt(r,e);const u=c.tagName.toLowerCase(),d=a?a.get(u):void 0;if(c.tagName=d||u,Zpt(o))s.unshift(o);else for(const[h,m]of Object.entries(o))Jpt(t,c.properties,h,m)}for(const u of s)GN(c.children,u);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return i}function Zpt(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const a of n){const i=e[a];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const r=i;for(const o of r)if(typeof o!="number"&&typeof o!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function Jpt(t,e,n,a){const i=RO(t,n);let r;if(a!=null){if(typeof a=="number"){if(Number.isNaN(a))return;r=a}else typeof a=="boolean"?r=a:typeof a=="string"?i.spaceSeparated?r=KV(a):i.commaSeparated?r=GV(a):i.commaOrSpaceSeparated?r=KV(GV(a).join(" ")):r=LY(i,i.property,a):Array.isArray(a)?r=[...a]:r=i.property==="style"?emt(a):String(a);if(Array.isArray(r)){const o=[];for(const s of r)o.push(LY(i,i.property,s));r=o}i.property==="className"&&Array.isArray(e.className)&&(r=e.className.concat(r)),e[i.property]=r}}function GN(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)GN(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?GN(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function LY(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||Y2(n)===Y2(e)))return!0}return n}function emt(t){const e=[];for(const[n,a]of Object.entries(t))e.push([n,a].join(": "));return e.join("; ")}function tmt(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const nmt=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],amt=Qie(nT,"div"),imt=Qie(Qb,"g",nmt);function rmt(t){const e=String(t),n=[];return{toOffset:i,toPoint:a};function a(r){if(typeof r=="number"&&r>-1&&r<=e.length){let o=0;for(;;){let s=n[o];if(s===void 0){const c=zY(e,n[o-1]);s=c===-1?e.length+1:c+1,n[o]=s}if(s>r)return{line:o+1,column:r-(o>0?n[o-1]:0)+1,offset:r};o++}}}function i(r){if(r&&typeof r.line=="number"&&typeof r.column=="number"&&!Number.isNaN(r.line)&&!Number.isNaN(r.column)){for(;n.length<r.line;){const s=n[n.length-1],c=zY(e,s),u=c===-1?e.length+1:c+1;if(s===u)break;n.push(u)}const o=(r.line>1?n[r.line-2]:0)+r.column-1;if(o<n[r.line-1])return o}}}function zY(t,e){const n=t.indexOf("\r",e),a=t.indexOf(`
`,e);return a===-1?n:n===-1||n+1===a?a:n<a?n:a}const Xm={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Zie={}.hasOwnProperty,omt=Object.prototype;function smt(t,e){const n=e||{};return UO({file:n.file||void 0,location:!1,schema:n.space==="svg"?Qb:nT,verbose:n.verbose||!1},t)}function UO(t,e){let n;switch(e.nodeName){case"#comment":{const a=e;return n={type:"comment",value:a.data},h4(t,a,n),n}case"#document":case"#document-fragment":{const a=e,i="mode"in a?a.mode==="quirks"||a.mode==="limited-quirks":!1;if(n={type:"root",children:Jie(t,e.childNodes),data:{quirksMode:i}},t.file&&t.location){const r=String(t.file),o=rmt(r),s=o.toPoint(0),c=o.toPoint(r.length);n.position={start:s,end:c}}return n}case"#documentType":{const a=e;return n={type:"doctype"},h4(t,a,n),n}case"#text":{const a=e;return n={type:"text",value:a.value},h4(t,a,n),n}default:return n=lmt(t,e),n}}function Jie(t,e){let n=-1;const a=[];for(;++n<e.length;){const i=UO(t,e[n]);a.push(i)}return a}function lmt(t,e){const n=t.schema;t.schema=e.namespaceURI===Xm.svg?Qb:nT;let a=-1;const i={};for(;++a<e.attrs.length;){const s=e.attrs[a],c=(s.prefix?s.prefix+":":"")+s.name;Zie.call(omt,c)||(i[c]=s.value)}const o=(t.schema.space==="svg"?imt:amt)(e.tagName,i,Jie(t,e.childNodes));if(h4(t,e,o),o.tagName==="template"){const s=e,c=s.sourceCodeLocation,u=c&&c.startTag&&F1(c.startTag),d=c&&c.endTag&&F1(c.endTag),h=UO(t,s.content);u&&d&&t.file&&(h.position={start:u.end,end:d.start}),o.content=h}return t.schema=n,o}function h4(t,e,n){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&t.file){const a=cmt(t,n,e.sourceCodeLocation);a&&(t.location=!0,n.position=a)}}function cmt(t,e,n){const a=F1(n);if(e.type==="element"){const i=e.children[e.children.length-1];if(a&&!n.endTag&&i&&i.position&&i.position.end&&(a.end=Object.assign({},i.position.end)),t.verbose){const r={};let o;if(n.attrs)for(o in n.attrs)Zie.call(n.attrs,o)&&(r[RO(t.schema,o).property]=F1(n.attrs[o]));n.startTag;const s=F1(n.startTag),c=n.endTag?F1(n.endTag):void 0,u={opening:s};c&&(u.closing=c),u.properties=r,e.data={position:u}}}return a}function F1(t){const e=FY({line:t.startLine,column:t.startCol,offset:t.startOffset}),n=FY({line:t.endLine,column:t.endCol,offset:t.endOffset});return e||n?{start:e,end:n}:void 0}function FY(t){return t.line&&t.column?t:void 0}class HS{constructor(e,n,a){this.property=e,this.normal=n,a&&(this.space=a)}}HS.prototype.property={};HS.prototype.normal={};HS.prototype.space=null;function ere(t,e){const n={},a={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(a,t[i].normal);return new HS(n,a,e)}function qN(t){return t.toLowerCase()}class fc{constructor(e,n){this.property=e,this.attribute=n}}fc.prototype.space=null;fc.prototype.boolean=!1;fc.prototype.booleanish=!1;fc.prototype.overloadedBoolean=!1;fc.prototype.number=!1;fc.prototype.commaSeparated=!1;fc.prototype.spaceSeparated=!1;fc.prototype.commaOrSpaceSeparated=!1;fc.prototype.mustUseProperty=!1;fc.prototype.defined=!1;let umt=0;const Ln=Ug(),br=Ug(),tre=Ug(),Nt=Ug(),ai=Ug(),eb=Ug(),Ys=Ug();function Ug(){return 2**++umt}const WN=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ln,booleanish:br,commaOrSpaceSeparated:Ys,commaSeparated:eb,number:Nt,overloadedBoolean:tre,spaceSeparated:ai},Symbol.toStringTag,{value:"Module"})),TI=Object.keys(WN);class GO extends fc{constructor(e,n,a,i){let r=-1;if(super(e,n),BY(this,"space",i),typeof a=="number")for(;++r<TI.length;){const o=TI[r];BY(this,TI[r],(a&WN[o])===WN[o])}}}GO.prototype.defined=!0;function BY(t,e,n){n&&(t[e]=n)}const dmt={}.hasOwnProperty;function Jb(t){const e={},n={};let a;for(a in t.properties)if(dmt.call(t.properties,a)){const i=t.properties[a],r=new GO(a,t.transform(t.attributes||{},a),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(a)&&(r.mustUseProperty=!0),e[a]=r,n[qN(a)]=a,n[qN(r.attribute)]=a}return new HS(e,n,t.space)}const nre=Jb({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),are=Jb({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function ire(t,e){return e in t?t[e]:e}function rre(t,e){return ire(t,e.toLowerCase())}const ore=Jb({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:rre,properties:{xmlns:null,xmlnsXLink:null}}),sre=Jb({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:br,ariaAutoComplete:null,ariaBusy:br,ariaChecked:br,ariaColCount:Nt,ariaColIndex:Nt,ariaColSpan:Nt,ariaControls:ai,ariaCurrent:null,ariaDescribedBy:ai,ariaDetails:null,ariaDisabled:br,ariaDropEffect:ai,ariaErrorMessage:null,ariaExpanded:br,ariaFlowTo:ai,ariaGrabbed:br,ariaHasPopup:null,ariaHidden:br,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ai,ariaLevel:Nt,ariaLive:null,ariaModal:br,ariaMultiLine:br,ariaMultiSelectable:br,ariaOrientation:null,ariaOwns:ai,ariaPlaceholder:null,ariaPosInSet:Nt,ariaPressed:br,ariaReadOnly:br,ariaRelevant:null,ariaRequired:br,ariaRoleDescription:ai,ariaRowCount:Nt,ariaRowIndex:Nt,ariaRowSpan:Nt,ariaSelected:br,ariaSetSize:Nt,ariaSort:null,ariaValueMax:Nt,ariaValueMin:Nt,ariaValueNow:Nt,ariaValueText:null,role:null}}),fmt=Jb({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:rre,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:eb,acceptCharset:ai,accessKey:ai,action:null,allow:null,allowFullScreen:Ln,allowPaymentRequest:Ln,allowUserMedia:Ln,alt:null,as:null,async:Ln,autoCapitalize:null,autoComplete:ai,autoFocus:Ln,autoPlay:Ln,blocking:ai,capture:null,charSet:null,checked:Ln,cite:null,className:ai,cols:Nt,colSpan:null,content:null,contentEditable:br,controls:Ln,controlsList:ai,coords:Nt|eb,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ln,defer:Ln,dir:null,dirName:null,disabled:Ln,download:tre,draggable:br,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ln,formTarget:null,headers:ai,height:Nt,hidden:Ln,high:Nt,href:null,hrefLang:null,htmlFor:ai,httpEquiv:ai,id:null,imageSizes:null,imageSrcSet:null,inert:Ln,inputMode:null,integrity:null,is:null,isMap:Ln,itemId:null,itemProp:ai,itemRef:ai,itemScope:Ln,itemType:ai,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ln,low:Nt,manifest:null,max:null,maxLength:Nt,media:null,method:null,min:null,minLength:Nt,multiple:Ln,muted:Ln,name:null,nonce:null,noModule:Ln,noValidate:Ln,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ln,optimum:Nt,pattern:null,ping:ai,placeholder:null,playsInline:Ln,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ln,referrerPolicy:null,rel:ai,required:Ln,reversed:Ln,rows:Nt,rowSpan:Nt,sandbox:ai,scope:null,scoped:Ln,seamless:Ln,selected:Ln,shadowRootClonable:Ln,shadowRootDelegatesFocus:Ln,shadowRootMode:null,shape:null,size:Nt,sizes:null,slot:null,span:Nt,spellCheck:br,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Nt,step:null,style:null,tabIndex:Nt,target:null,title:null,translate:null,type:null,typeMustMatch:Ln,useMap:null,value:br,width:Nt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ai,axis:null,background:null,bgColor:null,border:Nt,borderColor:null,bottomMargin:Nt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ln,declare:Ln,event:null,face:null,frame:null,frameBorder:null,hSpace:Nt,leftMargin:Nt,link:null,longDesc:null,lowSrc:null,marginHeight:Nt,marginWidth:Nt,noResize:Ln,noHref:Ln,noShade:Ln,noWrap:Ln,object:null,profile:null,prompt:null,rev:null,rightMargin:Nt,rules:null,scheme:null,scrolling:br,standby:null,summary:null,text:null,topMargin:Nt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Nt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ln,disableRemotePlayback:Ln,prefix:null,property:null,results:Nt,security:null,unselectable:null}}),hmt=Jb({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:ire,properties:{about:Ys,accentHeight:Nt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Nt,amplitude:Nt,arabicForm:null,ascent:Nt,attributeName:null,attributeType:null,azimuth:Nt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Nt,by:null,calcMode:null,capHeight:Nt,className:ai,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Nt,diffuseConstant:Nt,direction:null,display:null,dur:null,divisor:Nt,dominantBaseline:null,download:Ln,dx:null,dy:null,edgeMode:null,editable:null,elevation:Nt,enableBackground:null,end:null,event:null,exponent:Nt,externalResourcesRequired:null,fill:null,fillOpacity:Nt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:eb,g2:eb,glyphName:eb,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Nt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Nt,horizOriginX:Nt,horizOriginY:Nt,id:null,ideographic:Nt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Nt,k:Nt,k1:Nt,k2:Nt,k3:Nt,k4:Nt,kernelMatrix:Ys,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Nt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Nt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Nt,overlineThickness:Nt,paintOrder:null,panose1:null,path:null,pathLength:Nt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ai,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Nt,pointsAtY:Nt,pointsAtZ:Nt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ys,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ys,rev:Ys,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ys,requiredFeatures:Ys,requiredFonts:Ys,requiredFormats:Ys,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Nt,specularExponent:Nt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Nt,strikethroughThickness:Nt,string:null,stroke:null,strokeDashArray:Ys,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Nt,strokeOpacity:Nt,strokeWidth:null,style:null,surfaceScale:Nt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ys,tabIndex:Nt,tableValues:null,target:null,targetX:Nt,targetY:Nt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ys,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Nt,underlineThickness:Nt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Nt,values:null,vAlphabetic:Nt,vMathematical:Nt,vectorEffect:null,vHanging:Nt,vIdeographic:Nt,version:null,vertAdvY:Nt,vertOriginX:Nt,vertOriginY:Nt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Nt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),pmt=/^data[-\w.:]+$/i,HY=/-[a-z]/g,mmt=/[A-Z]/g;function gmt(t,e){const n=qN(e);let a=e,i=fc;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&pmt.test(e)){if(e.charAt(4)==="-"){const r=e.slice(5).replace(HY,ymt);a="data"+r.charAt(0).toUpperCase()+r.slice(1)}else{const r=e.slice(4);if(!HY.test(r)){let o=r.replace(mmt,bmt);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=GO}return new i(a,e)}function bmt(t){return"-"+t.toLowerCase()}function ymt(t){return t.charAt(1).toUpperCase()}const xmt=ere([are,nre,ore,sre,fmt],"html"),lre=ere([are,nre,ore,sre,hmt],"svg"),vmt={},Smt={}.hasOwnProperty,cre=Nie("type",{handlers:{root:wmt,element:Rmt,text:Emt,comment:Amt,doctype:Tmt}});function Cmt(t,e){const a=(e||vmt).space;return cre(t,a==="svg"?lre:xmt)}function wmt(t,e){const n={nodeName:"#document",mode:(t.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=qO(t.children,n,e),ey(t,n),n}function _mt(t,e){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=qO(t.children,n,e),ey(t,n),n}function Tmt(t){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return ey(t,e),e}function Emt(t){const e={nodeName:"#text",value:t.value,parentNode:null};return ey(t,e),e}function Amt(t){const e={nodeName:"#comment",data:t.value,parentNode:null};return ey(t,e),e}function Rmt(t,e){const n=e;let a=n;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(a=lre);const i=[];let r;if(t.properties){for(r in t.properties)if(r!=="children"&&Smt.call(t.properties,r)){const c=kmt(a,r,t.properties[r]);c&&i.push(c)}}const o=a.space,s={nodeName:t.tagName,tagName:t.tagName,attrs:i,namespaceURI:Xm[o],childNodes:[],parentNode:null};return s.childNodes=qO(t.children,s,a),ey(t,s),t.tagName==="template"&&t.content&&(s.content=_mt(t.content,a)),s}function kmt(t,e,n){const a=gmt(t,e);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&a.boolean)return;Array.isArray(n)&&(n=a.commaSeparated?Gae(n):Zae(n));const i={name:a.attribute,value:n===!0?"":String(n)};if(a.space&&a.space!=="html"&&a.space!=="svg"){const r=i.name.indexOf(":");r<0?i.prefix="":(i.name=i.name.slice(r+1),i.prefix=a.attribute.slice(0,r)),i.namespace=Xm[a.space]}return i}function qO(t,e,n){let a=-1;const i=[];if(t)for(;++a<t.length;){const r=cre(t[a],n);r.parentNode=e,i.push(r)}return i}function ey(t,e){const n=t.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,e.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const Imt=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Nmt=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Ei="";var Ce;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(Ce||(Ce={}));const ws={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function ure(t){return t>=55296&&t<=57343}function jmt(t){return t>=56320&&t<=57343}function Dmt(t,e){return(t-55296)*1024+9216+e}function dre(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function fre(t){return t>=64976&&t<=65007||Nmt.has(t)}var st;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(st||(st={}));const Omt=65536;class Mmt{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=Omt,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,n){const{line:a,col:i,offset:r}=this,o=i+n,s=r+n;return{code:e,startLine:a,endLine:a,startCol:o,endCol:o,startOffset:s,endOffset:s}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(jmt(n))return this.pos++,this._addGap(),Dmt(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,Ce.EOF;return this._err(st.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let a=0;a<e.length;a++)if((this.html.charCodeAt(this.pos+a)|32)!==e.charCodeAt(a))return!1;return!0}peek(e){const n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Ce.EOF;const a=this.html.charCodeAt(n);return a===Ce.CARRIAGE_RETURN?Ce.LINE_FEED:a}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Ce.EOF;let e=this.html.charCodeAt(this.pos);return e===Ce.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,Ce.LINE_FEED):e===Ce.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,ure(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===Ce.LINE_FEED||e===Ce.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){dre(e)?this._err(st.controlCharacterInInputStream):fre(e)&&this._err(st.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Jn;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(Jn||(Jn={}));function hre(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}const Pmt=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),Lmt=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function zmt(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=Lmt.get(t))!==null&&e!==void 0?e:t}var Gr;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Gr||(Gr={}));const Fmt=32;var tp;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(tp||(tp={}));function VN(t){return t>=Gr.ZERO&&t<=Gr.NINE}function Bmt(t){return t>=Gr.UPPER_A&&t<=Gr.UPPER_F||t>=Gr.LOWER_A&&t<=Gr.LOWER_F}function Hmt(t){return t>=Gr.UPPER_A&&t<=Gr.UPPER_Z||t>=Gr.LOWER_A&&t<=Gr.LOWER_Z||VN(t)}function $mt(t){return t===Gr.EQUALS||Hmt(t)}var Hr;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(Hr||(Hr={}));var cf;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(cf||(cf={}));class Umt{constructor(e,n,a){this.decodeTree=e,this.emitCodePoint=n,this.errors=a,this.state=Hr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=cf.Strict}startEntity(e){this.decodeMode=e,this.state=Hr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case Hr.EntityStart:return e.charCodeAt(n)===Gr.NUM?(this.state=Hr.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=Hr.NamedEntity,this.stateNamedEntity(e,n));case Hr.NumericStart:return this.stateNumericStart(e,n);case Hr.NumericDecimal:return this.stateNumericDecimal(e,n);case Hr.NumericHex:return this.stateNumericHex(e,n);case Hr.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|Fmt)===Gr.LOWER_X?(this.state=Hr.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=Hr.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,a,i){if(n!==a){const r=a-n;this.result=this.result*Math.pow(i,r)+Number.parseInt(e.substr(n,r),i),this.consumed+=r}}stateNumericHex(e,n){const a=n;for(;n<e.length;){const i=e.charCodeAt(n);if(VN(i)||Bmt(i))n+=1;else return this.addToNumericResult(e,a,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,a,n,16),-1}stateNumericDecimal(e,n){const a=n;for(;n<e.length;){const i=e.charCodeAt(n);if(VN(i))n+=1;else return this.addToNumericResult(e,a,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,a,n,10),-1}emitNumericEntity(e,n){var a;if(this.consumed<=n)return(a=this.errors)===null||a===void 0||a.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Gr.SEMI)this.consumed+=1;else if(this.decodeMode===cf.Strict)return 0;return this.emitCodePoint(zmt(this.result),this.consumed),this.errors&&(e!==Gr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:a}=this;let i=a[this.treeIndex],r=(i&tp.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const o=e.charCodeAt(n);if(this.treeIndex=Gmt(a,i,this.treeIndex+Math.max(1,r),o),this.treeIndex<0)return this.result===0||this.decodeMode===cf.Attribute&&(r===0||$mt(o))?0:this.emitNotTerminatedNamedEntity();if(i=a[this.treeIndex],r=(i&tp.VALUE_LENGTH)>>14,r!==0){if(o===Gr.SEMI)return this.emitNamedEntityData(this.treeIndex,r,this.consumed+this.excess);this.decodeMode!==cf.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:a}=this,i=(a[n]&tp.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,a){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[e]&~tp.VALUE_LENGTH:i[e+1],a),n===3&&this.emitCodePoint(i[e+2],a),a}end(){var e;switch(this.state){case Hr.NamedEntity:return this.result!==0&&(this.decodeMode!==cf.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Hr.NumericDecimal:return this.emitNumericEntity(0,2);case Hr.NumericHex:return this.emitNumericEntity(0,3);case Hr.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Hr.EntityStart:return 0}}}function Gmt(t,e,n,a){const i=(e&tp.BRANCH_LENGTH)>>7,r=e&tp.JUMP_TABLE;if(i===0)return r!==0&&a===r?n:-1;if(r){const c=a-r;return c<0||c>=i?-1:t[n+c]-1}let o=n,s=o+i-1;for(;o<=s;){const c=o+s>>>1,u=t[c];if(u<a)o=c+1;else if(u>a)s=c-1;else return t[c+i]}return-1}var St;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(St||(St={}));var sg;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(sg||(sg={}));var Yl;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(Yl||(Yl={}));var Ye;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(Ye||(Ye={}));var X;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(X||(X={}));const qmt=new Map([[Ye.A,X.A],[Ye.ADDRESS,X.ADDRESS],[Ye.ANNOTATION_XML,X.ANNOTATION_XML],[Ye.APPLET,X.APPLET],[Ye.AREA,X.AREA],[Ye.ARTICLE,X.ARTICLE],[Ye.ASIDE,X.ASIDE],[Ye.B,X.B],[Ye.BASE,X.BASE],[Ye.BASEFONT,X.BASEFONT],[Ye.BGSOUND,X.BGSOUND],[Ye.BIG,X.BIG],[Ye.BLOCKQUOTE,X.BLOCKQUOTE],[Ye.BODY,X.BODY],[Ye.BR,X.BR],[Ye.BUTTON,X.BUTTON],[Ye.CAPTION,X.CAPTION],[Ye.CENTER,X.CENTER],[Ye.CODE,X.CODE],[Ye.COL,X.COL],[Ye.COLGROUP,X.COLGROUP],[Ye.DD,X.DD],[Ye.DESC,X.DESC],[Ye.DETAILS,X.DETAILS],[Ye.DIALOG,X.DIALOG],[Ye.DIR,X.DIR],[Ye.DIV,X.DIV],[Ye.DL,X.DL],[Ye.DT,X.DT],[Ye.EM,X.EM],[Ye.EMBED,X.EMBED],[Ye.FIELDSET,X.FIELDSET],[Ye.FIGCAPTION,X.FIGCAPTION],[Ye.FIGURE,X.FIGURE],[Ye.FONT,X.FONT],[Ye.FOOTER,X.FOOTER],[Ye.FOREIGN_OBJECT,X.FOREIGN_OBJECT],[Ye.FORM,X.FORM],[Ye.FRAME,X.FRAME],[Ye.FRAMESET,X.FRAMESET],[Ye.H1,X.H1],[Ye.H2,X.H2],[Ye.H3,X.H3],[Ye.H4,X.H4],[Ye.H5,X.H5],[Ye.H6,X.H6],[Ye.HEAD,X.HEAD],[Ye.HEADER,X.HEADER],[Ye.HGROUP,X.HGROUP],[Ye.HR,X.HR],[Ye.HTML,X.HTML],[Ye.I,X.I],[Ye.IMG,X.IMG],[Ye.IMAGE,X.IMAGE],[Ye.INPUT,X.INPUT],[Ye.IFRAME,X.IFRAME],[Ye.KEYGEN,X.KEYGEN],[Ye.LABEL,X.LABEL],[Ye.LI,X.LI],[Ye.LINK,X.LINK],[Ye.LISTING,X.LISTING],[Ye.MAIN,X.MAIN],[Ye.MALIGNMARK,X.MALIGNMARK],[Ye.MARQUEE,X.MARQUEE],[Ye.MATH,X.MATH],[Ye.MENU,X.MENU],[Ye.META,X.META],[Ye.MGLYPH,X.MGLYPH],[Ye.MI,X.MI],[Ye.MO,X.MO],[Ye.MN,X.MN],[Ye.MS,X.MS],[Ye.MTEXT,X.MTEXT],[Ye.NAV,X.NAV],[Ye.NOBR,X.NOBR],[Ye.NOFRAMES,X.NOFRAMES],[Ye.NOEMBED,X.NOEMBED],[Ye.NOSCRIPT,X.NOSCRIPT],[Ye.OBJECT,X.OBJECT],[Ye.OL,X.OL],[Ye.OPTGROUP,X.OPTGROUP],[Ye.OPTION,X.OPTION],[Ye.P,X.P],[Ye.PARAM,X.PARAM],[Ye.PLAINTEXT,X.PLAINTEXT],[Ye.PRE,X.PRE],[Ye.RB,X.RB],[Ye.RP,X.RP],[Ye.RT,X.RT],[Ye.RTC,X.RTC],[Ye.RUBY,X.RUBY],[Ye.S,X.S],[Ye.SCRIPT,X.SCRIPT],[Ye.SEARCH,X.SEARCH],[Ye.SECTION,X.SECTION],[Ye.SELECT,X.SELECT],[Ye.SOURCE,X.SOURCE],[Ye.SMALL,X.SMALL],[Ye.SPAN,X.SPAN],[Ye.STRIKE,X.STRIKE],[Ye.STRONG,X.STRONG],[Ye.STYLE,X.STYLE],[Ye.SUB,X.SUB],[Ye.SUMMARY,X.SUMMARY],[Ye.SUP,X.SUP],[Ye.TABLE,X.TABLE],[Ye.TBODY,X.TBODY],[Ye.TEMPLATE,X.TEMPLATE],[Ye.TEXTAREA,X.TEXTAREA],[Ye.TFOOT,X.TFOOT],[Ye.TD,X.TD],[Ye.TH,X.TH],[Ye.THEAD,X.THEAD],[Ye.TITLE,X.TITLE],[Ye.TR,X.TR],[Ye.TRACK,X.TRACK],[Ye.TT,X.TT],[Ye.U,X.U],[Ye.UL,X.UL],[Ye.SVG,X.SVG],[Ye.VAR,X.VAR],[Ye.WBR,X.WBR],[Ye.XMP,X.XMP]]);function ty(t){var e;return(e=qmt.get(t))!==null&&e!==void 0?e:X.UNKNOWN}const _t=X,Wmt={[St.HTML]:new Set([_t.ADDRESS,_t.APPLET,_t.AREA,_t.ARTICLE,_t.ASIDE,_t.BASE,_t.BASEFONT,_t.BGSOUND,_t.BLOCKQUOTE,_t.BODY,_t.BR,_t.BUTTON,_t.CAPTION,_t.CENTER,_t.COL,_t.COLGROUP,_t.DD,_t.DETAILS,_t.DIR,_t.DIV,_t.DL,_t.DT,_t.EMBED,_t.FIELDSET,_t.FIGCAPTION,_t.FIGURE,_t.FOOTER,_t.FORM,_t.FRAME,_t.FRAMESET,_t.H1,_t.H2,_t.H3,_t.H4,_t.H5,_t.H6,_t.HEAD,_t.HEADER,_t.HGROUP,_t.HR,_t.HTML,_t.IFRAME,_t.IMG,_t.INPUT,_t.LI,_t.LINK,_t.LISTING,_t.MAIN,_t.MARQUEE,_t.MENU,_t.META,_t.NAV,_t.NOEMBED,_t.NOFRAMES,_t.NOSCRIPT,_t.OBJECT,_t.OL,_t.P,_t.PARAM,_t.PLAINTEXT,_t.PRE,_t.SCRIPT,_t.SECTION,_t.SELECT,_t.SOURCE,_t.STYLE,_t.SUMMARY,_t.TABLE,_t.TBODY,_t.TD,_t.TEMPLATE,_t.TEXTAREA,_t.TFOOT,_t.TH,_t.THEAD,_t.TITLE,_t.TR,_t.TRACK,_t.UL,_t.WBR,_t.XMP]),[St.MATHML]:new Set([_t.MI,_t.MO,_t.MN,_t.MS,_t.MTEXT,_t.ANNOTATION_XML]),[St.SVG]:new Set([_t.TITLE,_t.FOREIGN_OBJECT,_t.DESC]),[St.XLINK]:new Set,[St.XML]:new Set,[St.XMLNS]:new Set},YN=new Set([_t.H1,_t.H2,_t.H3,_t.H4,_t.H5,_t.H6]);Ye.STYLE,Ye.SCRIPT,Ye.XMP,Ye.IFRAME,Ye.NOEMBED,Ye.NOFRAMES,Ye.PLAINTEXT;var Te;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(Te||(Te={}));const rr={DATA:Te.DATA,RCDATA:Te.RCDATA,RAWTEXT:Te.RAWTEXT,SCRIPT_DATA:Te.SCRIPT_DATA,PLAINTEXT:Te.PLAINTEXT,CDATA_SECTION:Te.CDATA_SECTION};function Vmt(t){return t>=Ce.DIGIT_0&&t<=Ce.DIGIT_9}function Dv(t){return t>=Ce.LATIN_CAPITAL_A&&t<=Ce.LATIN_CAPITAL_Z}function Ymt(t){return t>=Ce.LATIN_SMALL_A&&t<=Ce.LATIN_SMALL_Z}function Mh(t){return Ymt(t)||Dv(t)}function $Y(t){return Mh(t)||Vmt(t)}function Uw(t){return t+32}function pre(t){return t===Ce.SPACE||t===Ce.LINE_FEED||t===Ce.TABULATION||t===Ce.FORM_FEED}function UY(t){return pre(t)||t===Ce.SOLIDUS||t===Ce.GREATER_THAN_SIGN}function Kmt(t){return t===Ce.NULL?st.nullCharacterReference:t>1114111?st.characterReferenceOutsideUnicodeRange:ure(t)?st.surrogateCharacterReference:fre(t)?st.noncharacterCharacterReference:dre(t)||t===Ce.CARRIAGE_RETURN?st.controlCharacterReference:null}class Xmt{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=Te.DATA,this.returnState=Te.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Mmt(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new Umt(Pmt,(a,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(a)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(st.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:a=>{this._err(st.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+a)},validateNumericCharacterReference:a=>{const i=Kmt(a);i&&this._err(i,1)}}:void 0)}_err(e,n=0){var a,i;(i=(a=this.handler).onParseError)===null||i===void 0||i.call(a,this.preprocessor.getError(e,n))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e?.())}write(e,n,a){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||a?.()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Jn.START_TAG,tagName:"",tagID:X.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Jn.END_TAG,tagName:"",tagID:X.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:Jn.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:Jn.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;const a=this.currentToken;if(hre(a,this.currentAttr.name)===null){if(a.attrs.push(this.currentAttr),a.location&&this.currentLocation){const i=(e=(n=a.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(st.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=ty(e.tagName),e.type===Jn.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(st.endTagWithAttributes),e.selfClosing&&this._err(st.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case Jn.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Jn.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Jn.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:Jn.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,n)}_emitCodePoint(e){const n=pre(e)?Jn.WHITESPACE_CHARACTER:e===Ce.NULL?Jn.NULL_CHARACTER:Jn.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(Jn.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=Te.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?cf.Attribute:cf.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===Te.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===Te.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===Te.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case Te.DATA:{this._stateData(e);break}case Te.RCDATA:{this._stateRcdata(e);break}case Te.RAWTEXT:{this._stateRawtext(e);break}case Te.SCRIPT_DATA:{this._stateScriptData(e);break}case Te.PLAINTEXT:{this._statePlaintext(e);break}case Te.TAG_OPEN:{this._stateTagOpen(e);break}case Te.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case Te.TAG_NAME:{this._stateTagName(e);break}case Te.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case Te.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case Te.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case Te.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case Te.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case Te.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case Te.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case Te.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case Te.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case Te.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case Te.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case Te.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case Te.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case Te.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case Te.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case Te.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case Te.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case Te.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case Te.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case Te.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case Te.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case Te.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case Te.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case Te.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case Te.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case Te.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case Te.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case Te.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case Te.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case Te.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case Te.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case Te.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case Te.BOGUS_COMMENT:{this._stateBogusComment(e);break}case Te.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case Te.COMMENT_START:{this._stateCommentStart(e);break}case Te.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case Te.COMMENT:{this._stateComment(e);break}case Te.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case Te.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case Te.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case Te.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case Te.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case Te.COMMENT_END:{this._stateCommentEnd(e);break}case Te.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case Te.DOCTYPE:{this._stateDoctype(e);break}case Te.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case Te.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case Te.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case Te.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case Te.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case Te.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case Te.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case Te.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case Te.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case Te.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case Te.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case Te.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case Te.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case Te.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case Te.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case Te.CDATA_SECTION:{this._stateCdataSection(e);break}case Te.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case Te.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case Te.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case Te.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case Ce.LESS_THAN_SIGN:{this.state=Te.TAG_OPEN;break}case Ce.AMPERSAND:{this._startCharacterReference();break}case Ce.NULL:{this._err(st.unexpectedNullCharacter),this._emitCodePoint(e);break}case Ce.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case Ce.AMPERSAND:{this._startCharacterReference();break}case Ce.LESS_THAN_SIGN:{this.state=Te.RCDATA_LESS_THAN_SIGN;break}case Ce.NULL:{this._err(st.unexpectedNullCharacter),this._emitChars(Ei);break}case Ce.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case Ce.LESS_THAN_SIGN:{this.state=Te.RAWTEXT_LESS_THAN_SIGN;break}case Ce.NULL:{this._err(st.unexpectedNullCharacter),this._emitChars(Ei);break}case Ce.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case Ce.LESS_THAN_SIGN:{this.state=Te.SCRIPT_DATA_LESS_THAN_SIGN;break}case Ce.NULL:{this._err(st.unexpectedNullCharacter),this._emitChars(Ei);break}case Ce.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case Ce.NULL:{this._err(st.unexpectedNullCharacter),this._emitChars(Ei);break}case Ce.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(Mh(e))this._createStartTagToken(),this.state=Te.TAG_NAME,this._stateTagName(e);else switch(e){case Ce.EXCLAMATION_MARK:{this.state=Te.MARKUP_DECLARATION_OPEN;break}case Ce.SOLIDUS:{this.state=Te.END_TAG_OPEN;break}case Ce.QUESTION_MARK:{this._err(st.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=Te.BOGUS_COMMENT,this._stateBogusComment(e);break}case Ce.EOF:{this._err(st.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(st.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=Te.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(Mh(e))this._createEndTagToken(),this.state=Te.TAG_NAME,this._stateTagName(e);else switch(e){case Ce.GREATER_THAN_SIGN:{this._err(st.missingEndTagName),this.state=Te.DATA;break}case Ce.EOF:{this._err(st.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(st.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=Te.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const n=this.currentToken;switch(e){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:{this.state=Te.BEFORE_ATTRIBUTE_NAME;break}case Ce.SOLIDUS:{this.state=Te.SELF_CLOSING_START_TAG;break}case Ce.GREATER_THAN_SIGN:{this.state=Te.DATA,this.emitCurrentTagToken();break}case Ce.NULL:{this._err(st.unexpectedNullCharacter),n.tagName+=Ei;break}case Ce.EOF:{this._err(st.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Dv(e)?Uw(e):e)}}_stateRcdataLessThanSign(e){e===Ce.SOLIDUS?this.state=Te.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=Te.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){Mh(e)?(this.state=Te.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=Te.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=Te.BEFORE_ATTRIBUTE_NAME,!1;case Ce.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=Te.SELF_CLOSING_START_TAG,!1;case Ce.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=Te.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Te.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===Ce.SOLIDUS?this.state=Te.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=Te.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){Mh(e)?(this.state=Te.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=Te.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Te.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case Ce.SOLIDUS:{this.state=Te.SCRIPT_DATA_END_TAG_OPEN;break}case Ce.EXCLAMATION_MARK:{this.state=Te.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=Te.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){Mh(e)?(this.state=Te.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=Te.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Te.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===Ce.HYPHEN_MINUS?(this.state=Te.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=Te.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===Ce.HYPHEN_MINUS?(this.state=Te.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=Te.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case Ce.HYPHEN_MINUS:{this.state=Te.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case Ce.LESS_THAN_SIGN:{this.state=Te.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case Ce.NULL:{this._err(st.unexpectedNullCharacter),this._emitChars(Ei);break}case Ce.EOF:{this._err(st.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case Ce.HYPHEN_MINUS:{this.state=Te.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case Ce.LESS_THAN_SIGN:{this.state=Te.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case Ce.NULL:{this._err(st.unexpectedNullCharacter),this.state=Te.SCRIPT_DATA_ESCAPED,this._emitChars(Ei);break}case Ce.EOF:{this._err(st.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Te.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case Ce.HYPHEN_MINUS:{this._emitChars("-");break}case Ce.LESS_THAN_SIGN:{this.state=Te.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case Ce.GREATER_THAN_SIGN:{this.state=Te.SCRIPT_DATA,this._emitChars(">");break}case Ce.NULL:{this._err(st.unexpectedNullCharacter),this.state=Te.SCRIPT_DATA_ESCAPED,this._emitChars(Ei);break}case Ce.EOF:{this._err(st.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Te.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===Ce.SOLIDUS?this.state=Te.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Mh(e)?(this._emitChars("<"),this.state=Te.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=Te.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){Mh(e)?(this.state=Te.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=Te.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Te.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(ws.SCRIPT,!1)&&UY(this.preprocessor.peek(ws.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<ws.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=Te.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=Te.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case Ce.HYPHEN_MINUS:{this.state=Te.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case Ce.LESS_THAN_SIGN:{this.state=Te.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case Ce.NULL:{this._err(st.unexpectedNullCharacter),this._emitChars(Ei);break}case Ce.EOF:{this._err(st.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case Ce.HYPHEN_MINUS:{this.state=Te.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case Ce.LESS_THAN_SIGN:{this.state=Te.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case Ce.NULL:{this._err(st.unexpectedNullCharacter),this.state=Te.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ei);break}case Ce.EOF:{this._err(st.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Te.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case Ce.HYPHEN_MINUS:{this._emitChars("-");break}case Ce.LESS_THAN_SIGN:{this.state=Te.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case Ce.GREATER_THAN_SIGN:{this.state=Te.SCRIPT_DATA,this._emitChars(">");break}case Ce.NULL:{this._err(st.unexpectedNullCharacter),this.state=Te.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ei);break}case Ce.EOF:{this._err(st.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Te.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===Ce.SOLIDUS?(this.state=Te.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=Te.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(ws.SCRIPT,!1)&&UY(this.preprocessor.peek(ws.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<ws.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=Te.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=Te.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:break;case Ce.SOLIDUS:case Ce.GREATER_THAN_SIGN:case Ce.EOF:{this.state=Te.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case Ce.EQUALS_SIGN:{this._err(st.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=Te.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=Te.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:case Ce.SOLIDUS:case Ce.GREATER_THAN_SIGN:case Ce.EOF:{this._leaveAttrName(),this.state=Te.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case Ce.EQUALS_SIGN:{this._leaveAttrName(),this.state=Te.BEFORE_ATTRIBUTE_VALUE;break}case Ce.QUOTATION_MARK:case Ce.APOSTROPHE:case Ce.LESS_THAN_SIGN:{this._err(st.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case Ce.NULL:{this._err(st.unexpectedNullCharacter),this.currentAttr.name+=Ei;break}default:this.currentAttr.name+=String.fromCodePoint(Dv(e)?Uw(e):e)}}_stateAfterAttributeName(e){switch(e){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:break;case Ce.SOLIDUS:{this.state=Te.SELF_CLOSING_START_TAG;break}case Ce.EQUALS_SIGN:{this.state=Te.BEFORE_ATTRIBUTE_VALUE;break}case Ce.GREATER_THAN_SIGN:{this.state=Te.DATA,this.emitCurrentTagToken();break}case Ce.EOF:{this._err(st.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=Te.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:break;case Ce.QUOTATION_MARK:{this.state=Te.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case Ce.APOSTROPHE:{this.state=Te.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case Ce.GREATER_THAN_SIGN:{this._err(st.missingAttributeValue),this.state=Te.DATA,this.emitCurrentTagToken();break}default:this.state=Te.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case Ce.QUOTATION_MARK:{this.state=Te.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case Ce.AMPERSAND:{this._startCharacterReference();break}case Ce.NULL:{this._err(st.unexpectedNullCharacter),this.currentAttr.value+=Ei;break}case Ce.EOF:{this._err(st.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case Ce.APOSTROPHE:{this.state=Te.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case Ce.AMPERSAND:{this._startCharacterReference();break}case Ce.NULL:{this._err(st.unexpectedNullCharacter),this.currentAttr.value+=Ei;break}case Ce.EOF:{this._err(st.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:{this._leaveAttrValue(),this.state=Te.BEFORE_ATTRIBUTE_NAME;break}case Ce.AMPERSAND:{this._startCharacterReference();break}case Ce.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=Te.DATA,this.emitCurrentTagToken();break}case Ce.NULL:{this._err(st.unexpectedNullCharacter),this.currentAttr.value+=Ei;break}case Ce.QUOTATION_MARK:case Ce.APOSTROPHE:case Ce.LESS_THAN_SIGN:case Ce.EQUALS_SIGN:case Ce.GRAVE_ACCENT:{this._err(st.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case Ce.EOF:{this._err(st.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:{this._leaveAttrValue(),this.state=Te.BEFORE_ATTRIBUTE_NAME;break}case Ce.SOLIDUS:{this._leaveAttrValue(),this.state=Te.SELF_CLOSING_START_TAG;break}case Ce.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=Te.DATA,this.emitCurrentTagToken();break}case Ce.EOF:{this._err(st.eofInTag),this._emitEOFToken();break}default:this._err(st.missingWhitespaceBetweenAttributes),this.state=Te.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case Ce.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=Te.DATA,this.emitCurrentTagToken();break}case Ce.EOF:{this._err(st.eofInTag),this._emitEOFToken();break}default:this._err(st.unexpectedSolidusInTag),this.state=Te.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const n=this.currentToken;switch(e){case Ce.GREATER_THAN_SIGN:{this.state=Te.DATA,this.emitCurrentComment(n);break}case Ce.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case Ce.NULL:{this._err(st.unexpectedNullCharacter),n.data+=Ei;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(ws.DASH_DASH,!0)?(this._createCommentToken(ws.DASH_DASH.length+1),this.state=Te.COMMENT_START):this._consumeSequenceIfMatch(ws.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(ws.DOCTYPE.length+1),this.state=Te.DOCTYPE):this._consumeSequenceIfMatch(ws.CDATA_START,!0)?this.inForeignNode?this.state=Te.CDATA_SECTION:(this._err(st.cdataInHtmlContent),this._createCommentToken(ws.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=Te.BOGUS_COMMENT):this._ensureHibernation()||(this._err(st.incorrectlyOpenedComment),this._createCommentToken(2),this.state=Te.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case Ce.HYPHEN_MINUS:{this.state=Te.COMMENT_START_DASH;break}case Ce.GREATER_THAN_SIGN:{this._err(st.abruptClosingOfEmptyComment),this.state=Te.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=Te.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const n=this.currentToken;switch(e){case Ce.HYPHEN_MINUS:{this.state=Te.COMMENT_END;break}case Ce.GREATER_THAN_SIGN:{this._err(st.abruptClosingOfEmptyComment),this.state=Te.DATA,this.emitCurrentComment(n);break}case Ce.EOF:{this._err(st.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=Te.COMMENT,this._stateComment(e)}}_stateComment(e){const n=this.currentToken;switch(e){case Ce.HYPHEN_MINUS:{this.state=Te.COMMENT_END_DASH;break}case Ce.LESS_THAN_SIGN:{n.data+="<",this.state=Te.COMMENT_LESS_THAN_SIGN;break}case Ce.NULL:{this._err(st.unexpectedNullCharacter),n.data+=Ei;break}case Ce.EOF:{this._err(st.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const n=this.currentToken;switch(e){case Ce.EXCLAMATION_MARK:{n.data+="!",this.state=Te.COMMENT_LESS_THAN_SIGN_BANG;break}case Ce.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=Te.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===Ce.HYPHEN_MINUS?this.state=Te.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=Te.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===Ce.HYPHEN_MINUS?this.state=Te.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=Te.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==Ce.GREATER_THAN_SIGN&&e!==Ce.EOF&&this._err(st.nestedComment),this.state=Te.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const n=this.currentToken;switch(e){case Ce.HYPHEN_MINUS:{this.state=Te.COMMENT_END;break}case Ce.EOF:{this._err(st.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=Te.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const n=this.currentToken;switch(e){case Ce.GREATER_THAN_SIGN:{this.state=Te.DATA,this.emitCurrentComment(n);break}case Ce.EXCLAMATION_MARK:{this.state=Te.COMMENT_END_BANG;break}case Ce.HYPHEN_MINUS:{n.data+="-";break}case Ce.EOF:{this._err(st.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=Te.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const n=this.currentToken;switch(e){case Ce.HYPHEN_MINUS:{n.data+="--!",this.state=Te.COMMENT_END_DASH;break}case Ce.GREATER_THAN_SIGN:{this._err(st.incorrectlyClosedComment),this.state=Te.DATA,this.emitCurrentComment(n);break}case Ce.EOF:{this._err(st.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=Te.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:{this.state=Te.BEFORE_DOCTYPE_NAME;break}case Ce.GREATER_THAN_SIGN:{this.state=Te.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case Ce.EOF:{this._err(st.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(st.missingWhitespaceBeforeDoctypeName),this.state=Te.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(Dv(e))this._createDoctypeToken(String.fromCharCode(Uw(e))),this.state=Te.DOCTYPE_NAME;else switch(e){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:break;case Ce.NULL:{this._err(st.unexpectedNullCharacter),this._createDoctypeToken(Ei),this.state=Te.DOCTYPE_NAME;break}case Ce.GREATER_THAN_SIGN:{this._err(st.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Te.DATA;break}case Ce.EOF:{this._err(st.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=Te.DOCTYPE_NAME}}_stateDoctypeName(e){const n=this.currentToken;switch(e){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:{this.state=Te.AFTER_DOCTYPE_NAME;break}case Ce.GREATER_THAN_SIGN:{this.state=Te.DATA,this.emitCurrentDoctype(n);break}case Ce.NULL:{this._err(st.unexpectedNullCharacter),n.name+=Ei;break}case Ce.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Dv(e)?Uw(e):e)}}_stateAfterDoctypeName(e){const n=this.currentToken;switch(e){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:break;case Ce.GREATER_THAN_SIGN:{this.state=Te.DATA,this.emitCurrentDoctype(n);break}case Ce.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(ws.PUBLIC,!1)?this.state=Te.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(ws.SYSTEM,!1)?this.state=Te.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(st.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=Te.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const n=this.currentToken;switch(e){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:{this.state=Te.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case Ce.QUOTATION_MARK:{this._err(st.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=Te.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case Ce.APOSTROPHE:{this._err(st.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=Te.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case Ce.GREATER_THAN_SIGN:{this._err(st.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=Te.DATA,this.emitCurrentDoctype(n);break}case Ce.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(st.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=Te.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:break;case Ce.QUOTATION_MARK:{n.publicId="",this.state=Te.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case Ce.APOSTROPHE:{n.publicId="",this.state=Te.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case Ce.GREATER_THAN_SIGN:{this._err(st.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=Te.DATA,this.emitCurrentDoctype(n);break}case Ce.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(st.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=Te.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case Ce.QUOTATION_MARK:{this.state=Te.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case Ce.NULL:{this._err(st.unexpectedNullCharacter),n.publicId+=Ei;break}case Ce.GREATER_THAN_SIGN:{this._err(st.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Te.DATA;break}case Ce.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case Ce.APOSTROPHE:{this.state=Te.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case Ce.NULL:{this._err(st.unexpectedNullCharacter),n.publicId+=Ei;break}case Ce.GREATER_THAN_SIGN:{this._err(st.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Te.DATA;break}case Ce.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:{this.state=Te.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case Ce.GREATER_THAN_SIGN:{this.state=Te.DATA,this.emitCurrentDoctype(n);break}case Ce.QUOTATION_MARK:{this._err(st.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=Te.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Ce.APOSTROPHE:{this._err(st.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=Te.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Ce.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(st.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Te.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const n=this.currentToken;switch(e){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:break;case Ce.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=Te.DATA;break}case Ce.QUOTATION_MARK:{n.systemId="",this.state=Te.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Ce.APOSTROPHE:{n.systemId="",this.state=Te.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Ce.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(st.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Te.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const n=this.currentToken;switch(e){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:{this.state=Te.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case Ce.QUOTATION_MARK:{this._err(st.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=Te.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Ce.APOSTROPHE:{this._err(st.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=Te.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Ce.GREATER_THAN_SIGN:{this._err(st.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Te.DATA,this.emitCurrentDoctype(n);break}case Ce.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(st.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Te.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:break;case Ce.QUOTATION_MARK:{n.systemId="",this.state=Te.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case Ce.APOSTROPHE:{n.systemId="",this.state=Te.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case Ce.GREATER_THAN_SIGN:{this._err(st.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Te.DATA,this.emitCurrentDoctype(n);break}case Ce.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(st.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Te.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case Ce.QUOTATION_MARK:{this.state=Te.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case Ce.NULL:{this._err(st.unexpectedNullCharacter),n.systemId+=Ei;break}case Ce.GREATER_THAN_SIGN:{this._err(st.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Te.DATA;break}case Ce.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case Ce.APOSTROPHE:{this.state=Te.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case Ce.NULL:{this._err(st.unexpectedNullCharacter),n.systemId+=Ei;break}case Ce.GREATER_THAN_SIGN:{this._err(st.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Te.DATA;break}case Ce.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case Ce.SPACE:case Ce.LINE_FEED:case Ce.TABULATION:case Ce.FORM_FEED:break;case Ce.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=Te.DATA;break}case Ce.EOF:{this._err(st.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(st.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=Te.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const n=this.currentToken;switch(e){case Ce.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=Te.DATA;break}case Ce.NULL:{this._err(st.unexpectedNullCharacter);break}case Ce.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case Ce.RIGHT_SQUARE_BRACKET:{this.state=Te.CDATA_SECTION_BRACKET;break}case Ce.EOF:{this._err(st.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===Ce.RIGHT_SQUARE_BRACKET?this.state=Te.CDATA_SECTION_END:(this._emitChars("]"),this.state=Te.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case Ce.GREATER_THAN_SIGN:{this.state=Te.DATA;break}case Ce.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=Te.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(Ce.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&$Y(this.preprocessor.peek(1))?Te.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){$Y(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===Ce.SEMICOLON&&this._err(st.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const mre=new Set([X.DD,X.DT,X.LI,X.OPTGROUP,X.OPTION,X.P,X.RB,X.RP,X.RT,X.RTC]),GY=new Set([...mre,X.CAPTION,X.COLGROUP,X.TBODY,X.TD,X.TFOOT,X.TH,X.THEAD,X.TR]),C_=new Set([X.APPLET,X.CAPTION,X.HTML,X.MARQUEE,X.OBJECT,X.TABLE,X.TD,X.TEMPLATE,X.TH]),Qmt=new Set([...C_,X.OL,X.UL]),Zmt=new Set([...C_,X.BUTTON]),qY=new Set([X.ANNOTATION_XML,X.MI,X.MN,X.MO,X.MS,X.MTEXT]),WY=new Set([X.DESC,X.FOREIGN_OBJECT,X.TITLE]),Jmt=new Set([X.TR,X.TEMPLATE,X.HTML]),egt=new Set([X.TBODY,X.TFOOT,X.THEAD,X.TEMPLATE,X.HTML]),tgt=new Set([X.TABLE,X.TEMPLATE,X.HTML]),ngt=new Set([X.TD,X.TH]);class agt{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,a){this.treeAdapter=n,this.handler=a,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=X.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===X.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===St.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){const a=this._indexOf(e);this.items[a]=n,a===this.stackTop&&(this.current=n)}insertAfter(e,n,a){const i=this._indexOf(e)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,a),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==St.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(e){for(;this.stackTop>=e;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){const n=this._indexOf(e);this.shortenToLength(Math.max(n,0))}popUntilPopped(e,n){const a=this._indexOfTagNames(e,n);this.shortenToLength(Math.max(a,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(YN,St.HTML)}popUntilTableCellPopped(){this.popUntilPopped(ngt,St.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let a=this.stackTop;a>=0;a--)if(e.has(this.tagIDs[a])&&this.treeAdapter.getNamespaceURI(this.items[a])===n)return a;return-1}clearBackTo(e,n){const a=this._indexOfTagNames(e,n);this.shortenToLength(a+1)}clearBackToTableContext(){this.clearBackTo(tgt,St.HTML)}clearBackToTableBodyContext(){this.clearBackTo(egt,St.HTML)}clearBackToTableRowContext(){this.clearBackTo(Jmt,St.HTML)}remove(e){const n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===X.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===X.HTML}hasInDynamicScope(e,n){for(let a=this.stackTop;a>=0;a--){const i=this.tagIDs[a];switch(this.treeAdapter.getNamespaceURI(this.items[a])){case St.HTML:{if(i===e)return!0;if(n.has(i))return!1;break}case St.SVG:{if(WY.has(i))return!1;break}case St.MATHML:{if(qY.has(i))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,C_)}hasInListItemScope(e){return this.hasInDynamicScope(e,Qmt)}hasInButtonScope(e){return this.hasInDynamicScope(e,Zmt)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case St.HTML:{if(YN.has(n))return!0;if(C_.has(n))return!1;break}case St.SVG:{if(WY.has(n))return!1;break}case St.MATHML:{if(qY.has(n))return!1;break}}}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===St.HTML)switch(this.tagIDs[n]){case e:return!0;case X.TABLE:case X.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===St.HTML)switch(this.tagIDs[e]){case X.TBODY:case X.THEAD:case X.TFOOT:return!0;case X.TABLE:case X.HTML:return!1}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===St.HTML)switch(this.tagIDs[n]){case e:return!0;case X.OPTION:case X.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&mre.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&GY.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==void 0&&this.currentTagId!==e&&GY.has(this.currentTagId);)this.pop()}}const EI=3;var qu;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(qu||(qu={}));const VY={type:qu.Marker};class igt{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){const a=[],i=n.length,r=this.treeAdapter.getTagName(e),o=this.treeAdapter.getNamespaceURI(e);for(let s=0;s<this.entries.length;s++){const c=this.entries[s];if(c.type===qu.Marker)break;const{element:u}=c;if(this.treeAdapter.getTagName(u)===r&&this.treeAdapter.getNamespaceURI(u)===o){const d=this.treeAdapter.getAttrList(u);d.length===i&&a.push({idx:s,attrs:d})}}return a}_ensureNoahArkCondition(e){if(this.entries.length<EI)return;const n=this.treeAdapter.getAttrList(e),a=this._getNoahArkConditionCandidates(e,n);if(a.length<EI)return;const i=new Map(n.map(o=>[o.name,o.value]));let r=0;for(let o=0;o<a.length;o++){const s=a[o];s.attrs.every(c=>i.get(c.name)===c.value)&&(r+=1,r>=EI&&this.entries.splice(s.idx,1))}}insertMarker(){this.entries.unshift(VY)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:qu.Element,element:e,token:n})}insertElementAfterBookmark(e,n){const a=this.entries.indexOf(this.bookmark);this.entries.splice(a,0,{type:qu.Element,element:e,token:n})}removeEntry(e){const n=this.entries.indexOf(e);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const e=this.entries.indexOf(VY);e===-1?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const n=this.entries.find(a=>a.type===qu.Marker||this.treeAdapter.getTagName(a.element)===e);return n&&n.type===qu.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===qu.Element&&n.element===e)}}const Ph={createDocument(){return{nodeName:"#document",mode:Yl.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){const a=t.childNodes.indexOf(n);t.childNodes.splice(a,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,a){const i=t.childNodes.find(r=>r.nodeName==="#documentType");if(i)i.name=e,i.publicId=n,i.systemId=a;else{const r={nodeName:"#documentType",name:e,publicId:n,systemId:a,parentNode:null};Ph.appendChild(t,r)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if(Ph.isTextNode(n)){n.value+=e;return}}Ph.appendChild(t,Ph.createTextNode(e))},insertTextBefore(t,e,n){const a=t.childNodes[t.childNodes.indexOf(n)-1];a&&Ph.isTextNode(a)?a.value+=e:Ph.insertBefore(t,Ph.createTextNode(e),n)},adoptAttributes(t,e){const n=new Set(t.attrs.map(a=>a.name));for(let a=0;a<e.length;a++)n.has(e[a].name)||t.attrs.push(e[a])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},gre="html",rgt="about:legacy-compat",ogt="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",bre=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],sgt=[...bre,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],lgt=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),yre=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],cgt=[...yre,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function YY(t,e){return e.some(n=>t.startsWith(n))}function ugt(t){return t.name===gre&&t.publicId===null&&(t.systemId===null||t.systemId===rgt)}function dgt(t){if(t.name!==gre)return Yl.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===ogt)return Yl.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),lgt.has(n))return Yl.QUIRKS;let a=e===null?sgt:bre;if(YY(n,a))return Yl.QUIRKS;if(a=e===null?yre:cgt,YY(n,a))return Yl.LIMITED_QUIRKS}return Yl.NO_QUIRKS}const KY={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},fgt="definitionurl",hgt="definitionURL",pgt=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),mgt=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:St.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:St.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:St.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:St.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:St.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:St.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:St.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:St.XML}],["xml:space",{prefix:"xml",name:"space",namespace:St.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:St.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:St.XMLNS}]]),ggt=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),bgt=new Set([X.B,X.BIG,X.BLOCKQUOTE,X.BODY,X.BR,X.CENTER,X.CODE,X.DD,X.DIV,X.DL,X.DT,X.EM,X.EMBED,X.H1,X.H2,X.H3,X.H4,X.H5,X.H6,X.HEAD,X.HR,X.I,X.IMG,X.LI,X.LISTING,X.MENU,X.META,X.NOBR,X.OL,X.P,X.PRE,X.RUBY,X.S,X.SMALL,X.SPAN,X.STRONG,X.STRIKE,X.SUB,X.SUP,X.TABLE,X.TT,X.U,X.UL,X.VAR]);function ygt(t){const e=t.tagID;return e===X.FONT&&t.attrs.some(({name:a})=>a===sg.COLOR||a===sg.SIZE||a===sg.FACE)||bgt.has(e)}function xre(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===fgt){t.attrs[e].name=hgt;break}}function vre(t){for(let e=0;e<t.attrs.length;e++){const n=pgt.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function WO(t){for(let e=0;e<t.attrs.length;e++){const n=mgt.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function xgt(t){const e=ggt.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=ty(t.tagName))}function vgt(t,e){return e===St.MATHML&&(t===X.MI||t===X.MO||t===X.MN||t===X.MS||t===X.MTEXT)}function Sgt(t,e,n){if(e===St.MATHML&&t===X.ANNOTATION_XML){for(let a=0;a<n.length;a++)if(n[a].name===sg.ENCODING){const i=n[a].value.toLowerCase();return i===KY.TEXT_HTML||i===KY.APPLICATION_XML}}return e===St.SVG&&(t===X.FOREIGN_OBJECT||t===X.DESC||t===X.TITLE)}function Cgt(t,e,n,a){return(!a||a===St.HTML)&&Sgt(t,e,n)||(!a||a===St.MATHML)&&vgt(t,e)}const wgt="hidden",_gt=8,Tgt=3;var Re;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Re||(Re={}));const Egt={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Sre=new Set([X.TABLE,X.TBODY,X.TFOOT,X.THEAD,X.TR]),XY={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Ph,onParseError:null};class QY{constructor(e,n,a=null,i=null){this.fragmentContext=a,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=Re.INITIAL,this.originalInsertionMode=Re.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...XY,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new Xmt(this.options,this),this.activeFormattingElements=new igt(this.treeAdapter),this.fragmentContextID=a?ty(this.treeAdapter.getTagName(a)):X.UNKNOWN,this._setContextModes(a??this.document,this.fragmentContextID),this.openElements=new agt(this.document,this.treeAdapter,this)}static parse(e,n){const a=new this(n);return a.tokenizer.write(e,!0),a.document}static getFragmentParser(e,n){const a={...XY,...n};e??(e=a.treeAdapter.createElement(Ye.TEMPLATE,St.HTML,[]));const i=a.treeAdapter.createElement("documentmock",St.HTML,[]),r=new this(a,i,e);return r.fragmentContextID===X.TEMPLATE&&r.tmplInsertionModeStack.unshift(Re.IN_TEMPLATE),r._initTokenizerForFragmentParsing(),r._insertFakeRootElement(),r._resetInsertionMode(),r._findFormInFragmentContext(),r}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,a){var i;if(!this.onParseError)return;const r=(i=e.location)!==null&&i!==void 0?i:Egt,o={code:n,startLine:r.startLine,startCol:r.startCol,startOffset:r.startOffset,endLine:a?r.startLine:r.endLine,endCol:a?r.startCol:r.endCol,endOffset:a?r.startOffset:r.endOffset};this.onParseError(o)}onItemPush(e,n,a){var i,r;(r=(i=this.treeAdapter).onItemPush)===null||r===void 0||r.call(i,e),a&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var a,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(i=(a=this.treeAdapter).onItemPop)===null||i===void 0||i.call(a,e,this.openElements.current),n){let r,o;this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,o=this.fragmentContextID):{current:r,currentTagId:o}=this.openElements,this._setContextModes(r,o)}}_setContextModes(e,n){const a=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===St.HTML;this.currentNotInHTML=!a,this.tokenizer.inForeignNode=!a&&e!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,St.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=Re.TEXT}switchToPlaintextParsing(){this.insertionMode=Re.TEXT,this.originalInsertionMode=Re.IN_BODY,this.tokenizer.state=rr.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===Ye.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==St.HTML))switch(this.fragmentContextID){case X.TITLE:case X.TEXTAREA:{this.tokenizer.state=rr.RCDATA;break}case X.STYLE:case X.XMP:case X.IFRAME:case X.NOEMBED:case X.NOFRAMES:case X.NOSCRIPT:{this.tokenizer.state=rr.RAWTEXT;break}case X.SCRIPT:{this.tokenizer.state=rr.SCRIPT_DATA;break}case X.PLAINTEXT:{this.tokenizer.state=rr.PLAINTEXT;break}}}_setDocumentType(e){const n=e.name||"",a=e.publicId||"",i=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,a,i),e.location){const o=this.treeAdapter.getChildNodes(this.document).find(s=>this.treeAdapter.isDocumentTypeNode(s));o&&this.treeAdapter.setNodeSourceCodeLocation(o,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){const a=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(e,a)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const a=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(a??this.document,e)}}_appendElement(e,n){const a=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(a,e.location)}_insertElement(e,n){const a=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(a,e.location),this.openElements.push(a,e.tagID)}_insertFakeElement(e,n){const a=this.treeAdapter.createElement(e,St.HTML,[]);this._attachElementToTree(a,null),this.openElements.push(a,n)}_insertTemplate(e){const n=this.treeAdapter.createElement(e.tagName,St.HTML,e.attrs),a=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,a),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(Ye.HTML,St.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,X.HTML)}_appendCommentNode(e,n){const a=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,a),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,e.location)}_insertCharacters(e){let n,a;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:a}=this._findFosterParentingLocation(),a?this.treeAdapter.insertTextBefore(n,e.chars,a):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;const i=this.treeAdapter.getChildNodes(n),r=a?i.lastIndexOf(a):i.length,o=i[r-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:c,endCol:u,endOffset:d}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:c,endCol:u,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,e.location)}_adoptNodes(e,n){for(let a=this.treeAdapter.getFirstChild(e);a;a=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(a),this.treeAdapter.appendChild(n,a)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){const a=n.location,i=this.treeAdapter.getTagName(e),r=n.type===Jn.END_TAG&&i===n.tagName?{endTag:{...a},endLine:a.endLine,endCol:a.endCol,endOffset:a.endOffset}:{endLine:a.startLine,endCol:a.startCol,endOffset:a.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,r)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,a;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,a=this.fragmentContextID):{current:n,currentTagId:a}=this.openElements,e.tagID===X.SVG&&this.treeAdapter.getTagName(n)===Ye.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===St.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===X.MGLYPH||e.tagID===X.MALIGNMARK)&&a!==void 0&&!this._isIntegrationPoint(a,n,St.HTML)}_processToken(e){switch(e.type){case Jn.CHARACTER:{this.onCharacter(e);break}case Jn.NULL_CHARACTER:{this.onNullCharacter(e);break}case Jn.COMMENT:{this.onComment(e);break}case Jn.DOCTYPE:{this.onDoctype(e);break}case Jn.START_TAG:{this._processStartTag(e);break}case Jn.END_TAG:{this.onEndTag(e);break}case Jn.EOF:{this.onEof(e);break}case Jn.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,a){const i=this.treeAdapter.getNamespaceURI(n),r=this.treeAdapter.getAttrList(n);return Cgt(e,i,r,a)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===qu.Marker||this.openElements.contains(i.element)),a=n===-1?e-1:n-1;for(let i=a;i>=0;i--){const r=this.activeFormattingElements.entries[i];this._insertElement(r.token,this.treeAdapter.getNamespaceURI(r.element)),r.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Re.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(X.P),this.openElements.popUntilTagNamePopped(X.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case X.TR:{this.insertionMode=Re.IN_ROW;return}case X.TBODY:case X.THEAD:case X.TFOOT:{this.insertionMode=Re.IN_TABLE_BODY;return}case X.CAPTION:{this.insertionMode=Re.IN_CAPTION;return}case X.COLGROUP:{this.insertionMode=Re.IN_COLUMN_GROUP;return}case X.TABLE:{this.insertionMode=Re.IN_TABLE;return}case X.BODY:{this.insertionMode=Re.IN_BODY;return}case X.FRAMESET:{this.insertionMode=Re.IN_FRAMESET;return}case X.SELECT:{this._resetInsertionModeForSelect(e);return}case X.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case X.HTML:{this.insertionMode=this.headElement?Re.AFTER_HEAD:Re.BEFORE_HEAD;return}case X.TD:case X.TH:{if(e>0){this.insertionMode=Re.IN_CELL;return}break}case X.HEAD:{if(e>0){this.insertionMode=Re.IN_HEAD;return}break}}this.insertionMode=Re.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){const a=this.openElements.tagIDs[n];if(a===X.TEMPLATE)break;if(a===X.TABLE){this.insertionMode=Re.IN_SELECT_IN_TABLE;return}}this.insertionMode=Re.IN_SELECT}_isElementCausesFosterParenting(e){return Sre.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case X.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===St.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case X.TABLE:{const a=this.treeAdapter.getParentNode(n);return a?{parent:a,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){const a=this.treeAdapter.getNamespaceURI(e);return Wmt[a].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){n1t(this,e);return}switch(this.insertionMode){case Re.INITIAL:{fv(this,e);break}case Re.BEFORE_HTML:{r2(this,e);break}case Re.BEFORE_HEAD:{o2(this,e);break}case Re.IN_HEAD:{s2(this,e);break}case Re.IN_HEAD_NO_SCRIPT:{l2(this,e);break}case Re.AFTER_HEAD:{c2(this,e);break}case Re.IN_BODY:case Re.IN_CAPTION:case Re.IN_CELL:case Re.IN_TEMPLATE:{wre(this,e);break}case Re.TEXT:case Re.IN_SELECT:case Re.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case Re.IN_TABLE:case Re.IN_TABLE_BODY:case Re.IN_ROW:{AI(this,e);break}case Re.IN_TABLE_TEXT:{kre(this,e);break}case Re.IN_COLUMN_GROUP:{w_(this,e);break}case Re.AFTER_BODY:{__(this,e);break}case Re.AFTER_AFTER_BODY:{p4(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){t1t(this,e);return}switch(this.insertionMode){case Re.INITIAL:{fv(this,e);break}case Re.BEFORE_HTML:{r2(this,e);break}case Re.BEFORE_HEAD:{o2(this,e);break}case Re.IN_HEAD:{s2(this,e);break}case Re.IN_HEAD_NO_SCRIPT:{l2(this,e);break}case Re.AFTER_HEAD:{c2(this,e);break}case Re.TEXT:{this._insertCharacters(e);break}case Re.IN_TABLE:case Re.IN_TABLE_BODY:case Re.IN_ROW:{AI(this,e);break}case Re.IN_COLUMN_GROUP:{w_(this,e);break}case Re.AFTER_BODY:{__(this,e);break}case Re.AFTER_AFTER_BODY:{p4(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){KN(this,e);return}switch(this.insertionMode){case Re.INITIAL:case Re.BEFORE_HTML:case Re.BEFORE_HEAD:case Re.IN_HEAD:case Re.IN_HEAD_NO_SCRIPT:case Re.AFTER_HEAD:case Re.IN_BODY:case Re.IN_TABLE:case Re.IN_CAPTION:case Re.IN_COLUMN_GROUP:case Re.IN_TABLE_BODY:case Re.IN_ROW:case Re.IN_CELL:case Re.IN_SELECT:case Re.IN_SELECT_IN_TABLE:case Re.IN_TEMPLATE:case Re.IN_FRAMESET:case Re.AFTER_FRAMESET:{KN(this,e);break}case Re.IN_TABLE_TEXT:{hv(this,e);break}case Re.AFTER_BODY:{Dgt(this,e);break}case Re.AFTER_AFTER_BODY:case Re.AFTER_AFTER_FRAMESET:{Ogt(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case Re.INITIAL:{Mgt(this,e);break}case Re.BEFORE_HEAD:case Re.IN_HEAD:case Re.IN_HEAD_NO_SCRIPT:case Re.AFTER_HEAD:{this._err(e,st.misplacedDoctype);break}case Re.IN_TABLE_TEXT:{hv(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,st.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?a1t(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case Re.INITIAL:{fv(this,e);break}case Re.BEFORE_HTML:{Pgt(this,e);break}case Re.BEFORE_HEAD:{zgt(this,e);break}case Re.IN_HEAD:{ru(this,e);break}case Re.IN_HEAD_NO_SCRIPT:{Hgt(this,e);break}case Re.AFTER_HEAD:{Ugt(this,e);break}case Re.IN_BODY:{Mo(this,e);break}case Re.IN_TABLE:{_b(this,e);break}case Re.IN_TABLE_TEXT:{hv(this,e);break}case Re.IN_CAPTION:{F0t(this,e);break}case Re.IN_COLUMN_GROUP:{KO(this,e);break}case Re.IN_TABLE_BODY:{fT(this,e);break}case Re.IN_ROW:{hT(this,e);break}case Re.IN_CELL:{$0t(this,e);break}case Re.IN_SELECT:{jre(this,e);break}case Re.IN_SELECT_IN_TABLE:{G0t(this,e);break}case Re.IN_TEMPLATE:{W0t(this,e);break}case Re.AFTER_BODY:{Y0t(this,e);break}case Re.IN_FRAMESET:{K0t(this,e);break}case Re.AFTER_FRAMESET:{Q0t(this,e);break}case Re.AFTER_AFTER_BODY:{J0t(this,e);break}case Re.AFTER_AFTER_FRAMESET:{e1t(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?i1t(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case Re.INITIAL:{fv(this,e);break}case Re.BEFORE_HTML:{Lgt(this,e);break}case Re.BEFORE_HEAD:{Fgt(this,e);break}case Re.IN_HEAD:{Bgt(this,e);break}case Re.IN_HEAD_NO_SCRIPT:{$gt(this,e);break}case Re.AFTER_HEAD:{Ggt(this,e);break}case Re.IN_BODY:{dT(this,e);break}case Re.TEXT:{k0t(this,e);break}case Re.IN_TABLE:{Q2(this,e);break}case Re.IN_TABLE_TEXT:{hv(this,e);break}case Re.IN_CAPTION:{B0t(this,e);break}case Re.IN_COLUMN_GROUP:{H0t(this,e);break}case Re.IN_TABLE_BODY:{XN(this,e);break}case Re.IN_ROW:{Nre(this,e);break}case Re.IN_CELL:{U0t(this,e);break}case Re.IN_SELECT:{Dre(this,e);break}case Re.IN_SELECT_IN_TABLE:{q0t(this,e);break}case Re.IN_TEMPLATE:{V0t(this,e);break}case Re.AFTER_BODY:{Mre(this,e);break}case Re.IN_FRAMESET:{X0t(this,e);break}case Re.AFTER_FRAMESET:{Z0t(this,e);break}case Re.AFTER_AFTER_BODY:{p4(this,e);break}}}onEof(e){switch(this.insertionMode){case Re.INITIAL:{fv(this,e);break}case Re.BEFORE_HTML:{r2(this,e);break}case Re.BEFORE_HEAD:{o2(this,e);break}case Re.IN_HEAD:{s2(this,e);break}case Re.IN_HEAD_NO_SCRIPT:{l2(this,e);break}case Re.AFTER_HEAD:{c2(this,e);break}case Re.IN_BODY:case Re.IN_TABLE:case Re.IN_CAPTION:case Re.IN_COLUMN_GROUP:case Re.IN_TABLE_BODY:case Re.IN_ROW:case Re.IN_CELL:case Re.IN_SELECT:case Re.IN_SELECT_IN_TABLE:{Are(this,e);break}case Re.TEXT:{I0t(this,e);break}case Re.IN_TABLE_TEXT:{hv(this,e);break}case Re.IN_TEMPLATE:{Ore(this,e);break}case Re.AFTER_BODY:case Re.IN_FRAMESET:case Re.AFTER_FRAMESET:case Re.AFTER_AFTER_BODY:case Re.AFTER_AFTER_FRAMESET:{YO(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===Ce.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case Re.IN_HEAD:case Re.IN_HEAD_NO_SCRIPT:case Re.AFTER_HEAD:case Re.TEXT:case Re.IN_COLUMN_GROUP:case Re.IN_SELECT:case Re.IN_SELECT_IN_TABLE:case Re.IN_FRAMESET:case Re.AFTER_FRAMESET:{this._insertCharacters(e);break}case Re.IN_BODY:case Re.IN_CAPTION:case Re.IN_CELL:case Re.IN_TEMPLATE:case Re.AFTER_BODY:case Re.AFTER_AFTER_BODY:case Re.AFTER_AFTER_FRAMESET:{Cre(this,e);break}case Re.IN_TABLE:case Re.IN_TABLE_BODY:case Re.IN_ROW:{AI(this,e);break}case Re.IN_TABLE_TEXT:{Rre(this,e);break}}}}function Agt(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):Ere(t,e),n}function Rgt(t,e){let n=null,a=t.openElements.stackTop;for(;a>=0;a--){const i=t.openElements.items[a];if(i===e.element)break;t._isSpecialElement(i,t.openElements.tagIDs[a])&&(n=i)}return n||(t.openElements.shortenToLength(Math.max(a,0)),t.activeFormattingElements.removeEntry(e)),n}function kgt(t,e,n){let a=e,i=t.openElements.getCommonAncestor(e);for(let r=0,o=i;o!==n;r++,o=i){i=t.openElements.getCommonAncestor(o);const s=t.activeFormattingElements.getElementEntry(o),c=s&&r>=Tgt;!s||c?(c&&t.activeFormattingElements.removeEntry(s),t.openElements.remove(o)):(o=Igt(t,s),a===e&&(t.activeFormattingElements.bookmark=s),t.treeAdapter.detachNode(a),t.treeAdapter.appendChild(o,a),a=o)}return a}function Igt(t,e){const n=t.treeAdapter.getNamespaceURI(e.element),a=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,a),e.element=a,a}function Ngt(t,e,n){const a=t.treeAdapter.getTagName(e),i=ty(a);if(t._isElementCausesFosterParenting(i))t._fosterParentElement(n);else{const r=t.treeAdapter.getNamespaceURI(e);i===X.TEMPLATE&&r===St.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function jgt(t,e,n){const a=t.treeAdapter.getNamespaceURI(n.element),{token:i}=n,r=t.treeAdapter.createElement(i.tagName,a,i.attrs);t._adoptNodes(e,r),t.treeAdapter.appendChild(e,r),t.activeFormattingElements.insertElementAfterBookmark(r,i),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,r,i.tagID)}function VO(t,e){for(let n=0;n<_gt;n++){const a=Agt(t,e);if(!a)break;const i=Rgt(t,a);if(!i)break;t.activeFormattingElements.bookmark=a;const r=kgt(t,i,a.element),o=t.openElements.getCommonAncestor(a.element);t.treeAdapter.detachNode(r),o&&Ngt(t,o,r),jgt(t,i,a)}}function KN(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function Dgt(t,e){t._appendCommentNode(e,t.openElements.items[0])}function Ogt(t,e){t._appendCommentNode(e,t.document)}function YO(t,e){if(t.stopped=!0,e.location){const n=t.fragmentContext?0:2;for(let a=t.openElements.stackTop;a>=n;a--)t._setEndLocation(t.openElements.items[a],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const a=t.openElements.items[0],i=t.treeAdapter.getNodeSourceCodeLocation(a);if(i&&!i.endTag&&(t._setEndLocation(a,e),t.openElements.stackTop>=1)){const r=t.openElements.items[1],o=t.treeAdapter.getNodeSourceCodeLocation(r);o&&!o.endTag&&t._setEndLocation(r,e)}}}}function Mgt(t,e){t._setDocumentType(e);const n=e.forceQuirks?Yl.QUIRKS:dgt(e);ugt(e)||t._err(e,st.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=Re.BEFORE_HTML}function fv(t,e){t._err(e,st.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,Yl.QUIRKS),t.insertionMode=Re.BEFORE_HTML,t._processToken(e)}function Pgt(t,e){e.tagID===X.HTML?(t._insertElement(e,St.HTML),t.insertionMode=Re.BEFORE_HEAD):r2(t,e)}function Lgt(t,e){const n=e.tagID;(n===X.HTML||n===X.HEAD||n===X.BODY||n===X.BR)&&r2(t,e)}function r2(t,e){t._insertFakeRootElement(),t.insertionMode=Re.BEFORE_HEAD,t._processToken(e)}function zgt(t,e){switch(e.tagID){case X.HTML:{Mo(t,e);break}case X.HEAD:{t._insertElement(e,St.HTML),t.headElement=t.openElements.current,t.insertionMode=Re.IN_HEAD;break}default:o2(t,e)}}function Fgt(t,e){const n=e.tagID;n===X.HEAD||n===X.BODY||n===X.HTML||n===X.BR?o2(t,e):t._err(e,st.endTagWithoutMatchingOpenElement)}function o2(t,e){t._insertFakeElement(Ye.HEAD,X.HEAD),t.headElement=t.openElements.current,t.insertionMode=Re.IN_HEAD,t._processToken(e)}function ru(t,e){switch(e.tagID){case X.HTML:{Mo(t,e);break}case X.BASE:case X.BASEFONT:case X.BGSOUND:case X.LINK:case X.META:{t._appendElement(e,St.HTML),e.ackSelfClosing=!0;break}case X.TITLE:{t._switchToTextParsing(e,rr.RCDATA);break}case X.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,rr.RAWTEXT):(t._insertElement(e,St.HTML),t.insertionMode=Re.IN_HEAD_NO_SCRIPT);break}case X.NOFRAMES:case X.STYLE:{t._switchToTextParsing(e,rr.RAWTEXT);break}case X.SCRIPT:{t._switchToTextParsing(e,rr.SCRIPT_DATA);break}case X.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=Re.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(Re.IN_TEMPLATE);break}case X.HEAD:{t._err(e,st.misplacedStartTagForHeadElement);break}default:s2(t,e)}}function Bgt(t,e){switch(e.tagID){case X.HEAD:{t.openElements.pop(),t.insertionMode=Re.AFTER_HEAD;break}case X.BODY:case X.BR:case X.HTML:{s2(t,e);break}case X.TEMPLATE:{Gg(t,e);break}default:t._err(e,st.endTagWithoutMatchingOpenElement)}}function Gg(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==X.TEMPLATE&&t._err(e,st.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(X.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,st.endTagWithoutMatchingOpenElement)}function s2(t,e){t.openElements.pop(),t.insertionMode=Re.AFTER_HEAD,t._processToken(e)}function Hgt(t,e){switch(e.tagID){case X.HTML:{Mo(t,e);break}case X.BASEFONT:case X.BGSOUND:case X.HEAD:case X.LINK:case X.META:case X.NOFRAMES:case X.STYLE:{ru(t,e);break}case X.NOSCRIPT:{t._err(e,st.nestedNoscriptInHead);break}default:l2(t,e)}}function $gt(t,e){switch(e.tagID){case X.NOSCRIPT:{t.openElements.pop(),t.insertionMode=Re.IN_HEAD;break}case X.BR:{l2(t,e);break}default:t._err(e,st.endTagWithoutMatchingOpenElement)}}function l2(t,e){const n=e.type===Jn.EOF?st.openElementsLeftAfterEof:st.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=Re.IN_HEAD,t._processToken(e)}function Ugt(t,e){switch(e.tagID){case X.HTML:{Mo(t,e);break}case X.BODY:{t._insertElement(e,St.HTML),t.framesetOk=!1,t.insertionMode=Re.IN_BODY;break}case X.FRAMESET:{t._insertElement(e,St.HTML),t.insertionMode=Re.IN_FRAMESET;break}case X.BASE:case X.BASEFONT:case X.BGSOUND:case X.LINK:case X.META:case X.NOFRAMES:case X.SCRIPT:case X.STYLE:case X.TEMPLATE:case X.TITLE:{t._err(e,st.abandonedHeadElementChild),t.openElements.push(t.headElement,X.HEAD),ru(t,e),t.openElements.remove(t.headElement);break}case X.HEAD:{t._err(e,st.misplacedStartTagForHeadElement);break}default:c2(t,e)}}function Ggt(t,e){switch(e.tagID){case X.BODY:case X.HTML:case X.BR:{c2(t,e);break}case X.TEMPLATE:{Gg(t,e);break}default:t._err(e,st.endTagWithoutMatchingOpenElement)}}function c2(t,e){t._insertFakeElement(Ye.BODY,X.BODY),t.insertionMode=Re.IN_BODY,uT(t,e)}function uT(t,e){switch(e.type){case Jn.CHARACTER:{wre(t,e);break}case Jn.WHITESPACE_CHARACTER:{Cre(t,e);break}case Jn.COMMENT:{KN(t,e);break}case Jn.START_TAG:{Mo(t,e);break}case Jn.END_TAG:{dT(t,e);break}case Jn.EOF:{Are(t,e);break}}}function Cre(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function wre(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function qgt(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function Wgt(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function Vgt(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,St.HTML),t.insertionMode=Re.IN_FRAMESET)}function Ygt(t,e){t.openElements.hasInButtonScope(X.P)&&t._closePElement(),t._insertElement(e,St.HTML)}function Kgt(t,e){t.openElements.hasInButtonScope(X.P)&&t._closePElement(),t.openElements.currentTagId!==void 0&&YN.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,St.HTML)}function Xgt(t,e){t.openElements.hasInButtonScope(X.P)&&t._closePElement(),t._insertElement(e,St.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function Qgt(t,e){const n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(X.P)&&t._closePElement(),t._insertElement(e,St.HTML),n||(t.formElement=t.openElements.current))}function Zgt(t,e){t.framesetOk=!1;const n=e.tagID;for(let a=t.openElements.stackTop;a>=0;a--){const i=t.openElements.tagIDs[a];if(n===X.LI&&i===X.LI||(n===X.DD||n===X.DT)&&(i===X.DD||i===X.DT)){t.openElements.generateImpliedEndTagsWithExclusion(i),t.openElements.popUntilTagNamePopped(i);break}if(i!==X.ADDRESS&&i!==X.DIV&&i!==X.P&&t._isSpecialElement(t.openElements.items[a],i))break}t.openElements.hasInButtonScope(X.P)&&t._closePElement(),t._insertElement(e,St.HTML)}function Jgt(t,e){t.openElements.hasInButtonScope(X.P)&&t._closePElement(),t._insertElement(e,St.HTML),t.tokenizer.state=rr.PLAINTEXT}function e0t(t,e){t.openElements.hasInScope(X.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(X.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,St.HTML),t.framesetOk=!1}function t0t(t,e){const n=t.activeFormattingElements.getElementEntryInScopeWithTagName(Ye.A);n&&(VO(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,St.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function n0t(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,St.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function a0t(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(X.NOBR)&&(VO(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,St.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function i0t(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,St.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function r0t(t,e){t.treeAdapter.getDocumentMode(t.document)!==Yl.QUIRKS&&t.openElements.hasInButtonScope(X.P)&&t._closePElement(),t._insertElement(e,St.HTML),t.framesetOk=!1,t.insertionMode=Re.IN_TABLE}function _re(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,St.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function Tre(t){const e=hre(t,sg.TYPE);return e!=null&&e.toLowerCase()===wgt}function o0t(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,St.HTML),Tre(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function s0t(t,e){t._appendElement(e,St.HTML),e.ackSelfClosing=!0}function l0t(t,e){t.openElements.hasInButtonScope(X.P)&&t._closePElement(),t._appendElement(e,St.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function c0t(t,e){e.tagName=Ye.IMG,e.tagID=X.IMG,_re(t,e)}function u0t(t,e){t._insertElement(e,St.HTML),t.skipNextNewLine=!0,t.tokenizer.state=rr.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=Re.TEXT}function d0t(t,e){t.openElements.hasInButtonScope(X.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,rr.RAWTEXT)}function f0t(t,e){t.framesetOk=!1,t._switchToTextParsing(e,rr.RAWTEXT)}function ZY(t,e){t._switchToTextParsing(e,rr.RAWTEXT)}function h0t(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,St.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===Re.IN_TABLE||t.insertionMode===Re.IN_CAPTION||t.insertionMode===Re.IN_TABLE_BODY||t.insertionMode===Re.IN_ROW||t.insertionMode===Re.IN_CELL?Re.IN_SELECT_IN_TABLE:Re.IN_SELECT}function p0t(t,e){t.openElements.currentTagId===X.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,St.HTML)}function m0t(t,e){t.openElements.hasInScope(X.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,St.HTML)}function g0t(t,e){t.openElements.hasInScope(X.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(X.RTC),t._insertElement(e,St.HTML)}function b0t(t,e){t._reconstructActiveFormattingElements(),xre(e),WO(e),e.selfClosing?t._appendElement(e,St.MATHML):t._insertElement(e,St.MATHML),e.ackSelfClosing=!0}function y0t(t,e){t._reconstructActiveFormattingElements(),vre(e),WO(e),e.selfClosing?t._appendElement(e,St.SVG):t._insertElement(e,St.SVG),e.ackSelfClosing=!0}function JY(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,St.HTML)}function Mo(t,e){switch(e.tagID){case X.I:case X.S:case X.B:case X.U:case X.EM:case X.TT:case X.BIG:case X.CODE:case X.FONT:case X.SMALL:case X.STRIKE:case X.STRONG:{n0t(t,e);break}case X.A:{t0t(t,e);break}case X.H1:case X.H2:case X.H3:case X.H4:case X.H5:case X.H6:{Kgt(t,e);break}case X.P:case X.DL:case X.OL:case X.UL:case X.DIV:case X.DIR:case X.NAV:case X.MAIN:case X.MENU:case X.ASIDE:case X.CENTER:case X.FIGURE:case X.FOOTER:case X.HEADER:case X.HGROUP:case X.DIALOG:case X.DETAILS:case X.ADDRESS:case X.ARTICLE:case X.SEARCH:case X.SECTION:case X.SUMMARY:case X.FIELDSET:case X.BLOCKQUOTE:case X.FIGCAPTION:{Ygt(t,e);break}case X.LI:case X.DD:case X.DT:{Zgt(t,e);break}case X.BR:case X.IMG:case X.WBR:case X.AREA:case X.EMBED:case X.KEYGEN:{_re(t,e);break}case X.HR:{l0t(t,e);break}case X.RB:case X.RTC:{m0t(t,e);break}case X.RT:case X.RP:{g0t(t,e);break}case X.PRE:case X.LISTING:{Xgt(t,e);break}case X.XMP:{d0t(t,e);break}case X.SVG:{y0t(t,e);break}case X.HTML:{qgt(t,e);break}case X.BASE:case X.LINK:case X.META:case X.STYLE:case X.TITLE:case X.SCRIPT:case X.BGSOUND:case X.BASEFONT:case X.TEMPLATE:{ru(t,e);break}case X.BODY:{Wgt(t,e);break}case X.FORM:{Qgt(t,e);break}case X.NOBR:{a0t(t,e);break}case X.MATH:{b0t(t,e);break}case X.TABLE:{r0t(t,e);break}case X.INPUT:{o0t(t,e);break}case X.PARAM:case X.TRACK:case X.SOURCE:{s0t(t,e);break}case X.IMAGE:{c0t(t,e);break}case X.BUTTON:{e0t(t,e);break}case X.APPLET:case X.OBJECT:case X.MARQUEE:{i0t(t,e);break}case X.IFRAME:{f0t(t,e);break}case X.SELECT:{h0t(t,e);break}case X.OPTION:case X.OPTGROUP:{p0t(t,e);break}case X.NOEMBED:case X.NOFRAMES:{ZY(t,e);break}case X.FRAMESET:{Vgt(t,e);break}case X.TEXTAREA:{u0t(t,e);break}case X.NOSCRIPT:{t.options.scriptingEnabled?ZY(t,e):JY(t,e);break}case X.PLAINTEXT:{Jgt(t,e);break}case X.COL:case X.TH:case X.TD:case X.TR:case X.HEAD:case X.FRAME:case X.TBODY:case X.TFOOT:case X.THEAD:case X.CAPTION:case X.COLGROUP:break;default:JY(t,e)}}function x0t(t,e){if(t.openElements.hasInScope(X.BODY)&&(t.insertionMode=Re.AFTER_BODY,t.options.sourceCodeLocationInfo)){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function v0t(t,e){t.openElements.hasInScope(X.BODY)&&(t.insertionMode=Re.AFTER_BODY,Mre(t,e))}function S0t(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function C0t(t){const e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(X.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(X.FORM):n&&t.openElements.remove(n))}function w0t(t){t.openElements.hasInButtonScope(X.P)||t._insertFakeElement(Ye.P,X.P),t._closePElement()}function _0t(t){t.openElements.hasInListItemScope(X.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(X.LI),t.openElements.popUntilTagNamePopped(X.LI))}function T0t(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function E0t(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function A0t(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function R0t(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(Ye.BR,X.BR),t.openElements.pop(),t.framesetOk=!1}function Ere(t,e){const n=e.tagName,a=e.tagID;for(let i=t.openElements.stackTop;i>0;i--){const r=t.openElements.items[i],o=t.openElements.tagIDs[i];if(a===o&&(a!==X.UNKNOWN||t.treeAdapter.getTagName(r)===n)){t.openElements.generateImpliedEndTagsWithExclusion(a),t.openElements.stackTop>=i&&t.openElements.shortenToLength(i);break}if(t._isSpecialElement(r,o))break}}function dT(t,e){switch(e.tagID){case X.A:case X.B:case X.I:case X.S:case X.U:case X.EM:case X.TT:case X.BIG:case X.CODE:case X.FONT:case X.NOBR:case X.SMALL:case X.STRIKE:case X.STRONG:{VO(t,e);break}case X.P:{w0t(t);break}case X.DL:case X.UL:case X.OL:case X.DIR:case X.DIV:case X.NAV:case X.PRE:case X.MAIN:case X.MENU:case X.ASIDE:case X.BUTTON:case X.CENTER:case X.FIGURE:case X.FOOTER:case X.HEADER:case X.HGROUP:case X.DIALOG:case X.ADDRESS:case X.ARTICLE:case X.DETAILS:case X.SEARCH:case X.SECTION:case X.SUMMARY:case X.LISTING:case X.FIELDSET:case X.BLOCKQUOTE:case X.FIGCAPTION:{S0t(t,e);break}case X.LI:{_0t(t);break}case X.DD:case X.DT:{T0t(t,e);break}case X.H1:case X.H2:case X.H3:case X.H4:case X.H5:case X.H6:{E0t(t);break}case X.BR:{R0t(t);break}case X.BODY:{x0t(t,e);break}case X.HTML:{v0t(t,e);break}case X.FORM:{C0t(t);break}case X.APPLET:case X.OBJECT:case X.MARQUEE:{A0t(t,e);break}case X.TEMPLATE:{Gg(t,e);break}default:Ere(t,e)}}function Are(t,e){t.tmplInsertionModeStack.length>0?Ore(t,e):YO(t,e)}function k0t(t,e){var n;e.tagID===X.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function I0t(t,e){t._err(e,st.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function AI(t,e){if(t.openElements.currentTagId!==void 0&&Sre.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=Re.IN_TABLE_TEXT,e.type){case Jn.CHARACTER:{kre(t,e);break}case Jn.WHITESPACE_CHARACTER:{Rre(t,e);break}}else $S(t,e)}function N0t(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,St.HTML),t.insertionMode=Re.IN_CAPTION}function j0t(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,St.HTML),t.insertionMode=Re.IN_COLUMN_GROUP}function D0t(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(Ye.COLGROUP,X.COLGROUP),t.insertionMode=Re.IN_COLUMN_GROUP,KO(t,e)}function O0t(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,St.HTML),t.insertionMode=Re.IN_TABLE_BODY}function M0t(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(Ye.TBODY,X.TBODY),t.insertionMode=Re.IN_TABLE_BODY,fT(t,e)}function P0t(t,e){t.openElements.hasInTableScope(X.TABLE)&&(t.openElements.popUntilTagNamePopped(X.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function L0t(t,e){Tre(e)?t._appendElement(e,St.HTML):$S(t,e),e.ackSelfClosing=!0}function z0t(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,St.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function _b(t,e){switch(e.tagID){case X.TD:case X.TH:case X.TR:{M0t(t,e);break}case X.STYLE:case X.SCRIPT:case X.TEMPLATE:{ru(t,e);break}case X.COL:{D0t(t,e);break}case X.FORM:{z0t(t,e);break}case X.TABLE:{P0t(t,e);break}case X.TBODY:case X.TFOOT:case X.THEAD:{O0t(t,e);break}case X.INPUT:{L0t(t,e);break}case X.CAPTION:{N0t(t,e);break}case X.COLGROUP:{j0t(t,e);break}default:$S(t,e)}}function Q2(t,e){switch(e.tagID){case X.TABLE:{t.openElements.hasInTableScope(X.TABLE)&&(t.openElements.popUntilTagNamePopped(X.TABLE),t._resetInsertionMode());break}case X.TEMPLATE:{Gg(t,e);break}case X.BODY:case X.CAPTION:case X.COL:case X.COLGROUP:case X.HTML:case X.TBODY:case X.TD:case X.TFOOT:case X.TH:case X.THEAD:case X.TR:break;default:$S(t,e)}}function $S(t,e){const n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,uT(t,e),t.fosterParentingEnabled=n}function Rre(t,e){t.pendingCharacterTokens.push(e)}function kre(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function hv(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)$S(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const Ire=new Set([X.CAPTION,X.COL,X.COLGROUP,X.TBODY,X.TD,X.TFOOT,X.TH,X.THEAD,X.TR]);function F0t(t,e){const n=e.tagID;Ire.has(n)?t.openElements.hasInTableScope(X.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(X.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Re.IN_TABLE,_b(t,e)):Mo(t,e)}function B0t(t,e){const n=e.tagID;switch(n){case X.CAPTION:case X.TABLE:{t.openElements.hasInTableScope(X.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(X.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Re.IN_TABLE,n===X.TABLE&&Q2(t,e));break}case X.BODY:case X.COL:case X.COLGROUP:case X.HTML:case X.TBODY:case X.TD:case X.TFOOT:case X.TH:case X.THEAD:case X.TR:break;default:dT(t,e)}}function KO(t,e){switch(e.tagID){case X.HTML:{Mo(t,e);break}case X.COL:{t._appendElement(e,St.HTML),e.ackSelfClosing=!0;break}case X.TEMPLATE:{ru(t,e);break}default:w_(t,e)}}function H0t(t,e){switch(e.tagID){case X.COLGROUP:{t.openElements.currentTagId===X.COLGROUP&&(t.openElements.pop(),t.insertionMode=Re.IN_TABLE);break}case X.TEMPLATE:{Gg(t,e);break}case X.COL:break;default:w_(t,e)}}function w_(t,e){t.openElements.currentTagId===X.COLGROUP&&(t.openElements.pop(),t.insertionMode=Re.IN_TABLE,t._processToken(e))}function fT(t,e){switch(e.tagID){case X.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,St.HTML),t.insertionMode=Re.IN_ROW;break}case X.TH:case X.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(Ye.TR,X.TR),t.insertionMode=Re.IN_ROW,hT(t,e);break}case X.CAPTION:case X.COL:case X.COLGROUP:case X.TBODY:case X.TFOOT:case X.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Re.IN_TABLE,_b(t,e));break}default:_b(t,e)}}function XN(t,e){const n=e.tagID;switch(e.tagID){case X.TBODY:case X.TFOOT:case X.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Re.IN_TABLE);break}case X.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Re.IN_TABLE,Q2(t,e));break}case X.BODY:case X.CAPTION:case X.COL:case X.COLGROUP:case X.HTML:case X.TD:case X.TH:case X.TR:break;default:Q2(t,e)}}function hT(t,e){switch(e.tagID){case X.TH:case X.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,St.HTML),t.insertionMode=Re.IN_CELL,t.activeFormattingElements.insertMarker();break}case X.CAPTION:case X.COL:case X.COLGROUP:case X.TBODY:case X.TFOOT:case X.THEAD:case X.TR:{t.openElements.hasInTableScope(X.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Re.IN_TABLE_BODY,fT(t,e));break}default:_b(t,e)}}function Nre(t,e){switch(e.tagID){case X.TR:{t.openElements.hasInTableScope(X.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Re.IN_TABLE_BODY);break}case X.TABLE:{t.openElements.hasInTableScope(X.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Re.IN_TABLE_BODY,XN(t,e));break}case X.TBODY:case X.TFOOT:case X.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(X.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Re.IN_TABLE_BODY,XN(t,e));break}case X.BODY:case X.CAPTION:case X.COL:case X.COLGROUP:case X.HTML:case X.TD:case X.TH:break;default:Q2(t,e)}}function $0t(t,e){const n=e.tagID;Ire.has(n)?(t.openElements.hasInTableScope(X.TD)||t.openElements.hasInTableScope(X.TH))&&(t._closeTableCell(),hT(t,e)):Mo(t,e)}function U0t(t,e){const n=e.tagID;switch(n){case X.TD:case X.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Re.IN_ROW);break}case X.TABLE:case X.TBODY:case X.TFOOT:case X.THEAD:case X.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),Nre(t,e));break}case X.BODY:case X.CAPTION:case X.COL:case X.COLGROUP:case X.HTML:break;default:dT(t,e)}}function jre(t,e){switch(e.tagID){case X.HTML:{Mo(t,e);break}case X.OPTION:{t.openElements.currentTagId===X.OPTION&&t.openElements.pop(),t._insertElement(e,St.HTML);break}case X.OPTGROUP:{t.openElements.currentTagId===X.OPTION&&t.openElements.pop(),t.openElements.currentTagId===X.OPTGROUP&&t.openElements.pop(),t._insertElement(e,St.HTML);break}case X.HR:{t.openElements.currentTagId===X.OPTION&&t.openElements.pop(),t.openElements.currentTagId===X.OPTGROUP&&t.openElements.pop(),t._appendElement(e,St.HTML),e.ackSelfClosing=!0;break}case X.INPUT:case X.KEYGEN:case X.TEXTAREA:case X.SELECT:{t.openElements.hasInSelectScope(X.SELECT)&&(t.openElements.popUntilTagNamePopped(X.SELECT),t._resetInsertionMode(),e.tagID!==X.SELECT&&t._processStartTag(e));break}case X.SCRIPT:case X.TEMPLATE:{ru(t,e);break}}}function Dre(t,e){switch(e.tagID){case X.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===X.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===X.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===X.OPTGROUP&&t.openElements.pop();break}case X.OPTION:{t.openElements.currentTagId===X.OPTION&&t.openElements.pop();break}case X.SELECT:{t.openElements.hasInSelectScope(X.SELECT)&&(t.openElements.popUntilTagNamePopped(X.SELECT),t._resetInsertionMode());break}case X.TEMPLATE:{Gg(t,e);break}}}function G0t(t,e){const n=e.tagID;n===X.CAPTION||n===X.TABLE||n===X.TBODY||n===X.TFOOT||n===X.THEAD||n===X.TR||n===X.TD||n===X.TH?(t.openElements.popUntilTagNamePopped(X.SELECT),t._resetInsertionMode(),t._processStartTag(e)):jre(t,e)}function q0t(t,e){const n=e.tagID;n===X.CAPTION||n===X.TABLE||n===X.TBODY||n===X.TFOOT||n===X.THEAD||n===X.TR||n===X.TD||n===X.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(X.SELECT),t._resetInsertionMode(),t.onEndTag(e)):Dre(t,e)}function W0t(t,e){switch(e.tagID){case X.BASE:case X.BASEFONT:case X.BGSOUND:case X.LINK:case X.META:case X.NOFRAMES:case X.SCRIPT:case X.STYLE:case X.TEMPLATE:case X.TITLE:{ru(t,e);break}case X.CAPTION:case X.COLGROUP:case X.TBODY:case X.TFOOT:case X.THEAD:{t.tmplInsertionModeStack[0]=Re.IN_TABLE,t.insertionMode=Re.IN_TABLE,_b(t,e);break}case X.COL:{t.tmplInsertionModeStack[0]=Re.IN_COLUMN_GROUP,t.insertionMode=Re.IN_COLUMN_GROUP,KO(t,e);break}case X.TR:{t.tmplInsertionModeStack[0]=Re.IN_TABLE_BODY,t.insertionMode=Re.IN_TABLE_BODY,fT(t,e);break}case X.TD:case X.TH:{t.tmplInsertionModeStack[0]=Re.IN_ROW,t.insertionMode=Re.IN_ROW,hT(t,e);break}default:t.tmplInsertionModeStack[0]=Re.IN_BODY,t.insertionMode=Re.IN_BODY,Mo(t,e)}}function V0t(t,e){e.tagID===X.TEMPLATE&&Gg(t,e)}function Ore(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(X.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):YO(t,e)}function Y0t(t,e){e.tagID===X.HTML?Mo(t,e):__(t,e)}function Mre(t,e){var n;if(e.tagID===X.HTML){if(t.fragmentContext||(t.insertionMode=Re.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===X.HTML){t._setEndLocation(t.openElements.items[0],e);const a=t.openElements.items[1];a&&!(!((n=t.treeAdapter.getNodeSourceCodeLocation(a))===null||n===void 0)&&n.endTag)&&t._setEndLocation(a,e)}}else __(t,e)}function __(t,e){t.insertionMode=Re.IN_BODY,uT(t,e)}function K0t(t,e){switch(e.tagID){case X.HTML:{Mo(t,e);break}case X.FRAMESET:{t._insertElement(e,St.HTML);break}case X.FRAME:{t._appendElement(e,St.HTML),e.ackSelfClosing=!0;break}case X.NOFRAMES:{ru(t,e);break}}}function X0t(t,e){e.tagID===X.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==X.FRAMESET&&(t.insertionMode=Re.AFTER_FRAMESET))}function Q0t(t,e){switch(e.tagID){case X.HTML:{Mo(t,e);break}case X.NOFRAMES:{ru(t,e);break}}}function Z0t(t,e){e.tagID===X.HTML&&(t.insertionMode=Re.AFTER_AFTER_FRAMESET)}function J0t(t,e){e.tagID===X.HTML?Mo(t,e):p4(t,e)}function p4(t,e){t.insertionMode=Re.IN_BODY,uT(t,e)}function e1t(t,e){switch(e.tagID){case X.HTML:{Mo(t,e);break}case X.NOFRAMES:{ru(t,e);break}}}function t1t(t,e){e.chars=Ei,t._insertCharacters(e)}function n1t(t,e){t._insertCharacters(e),t.framesetOk=!1}function Pre(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==St.HTML&&t.openElements.currentTagId!==void 0&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function a1t(t,e){if(ygt(e))Pre(t),t._startTagOutsideForeignContent(e);else{const n=t._getAdjustedCurrentElement(),a=t.treeAdapter.getNamespaceURI(n);a===St.MATHML?xre(e):a===St.SVG&&(xgt(e),vre(e)),WO(e),e.selfClosing?t._appendElement(e,a):t._insertElement(e,a),e.ackSelfClosing=!0}}function i1t(t,e){if(e.tagID===X.P||e.tagID===X.BR){Pre(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){const a=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(a)===St.HTML){t._endTagOutsideForeignContent(e);break}const i=t.treeAdapter.getTagName(a);if(i.toLowerCase()===e.tagName){e.tagName=i,t.openElements.shortenToLength(n);break}}}Ye.AREA,Ye.BASE,Ye.BASEFONT,Ye.BGSOUND,Ye.BR,Ye.COL,Ye.EMBED,Ye.FRAME,Ye.HR,Ye.IMG,Ye.INPUT,Ye.KEYGEN,Ye.LINK,Ye.META,Ye.PARAM,Ye.SOURCE,Ye.TRACK,Ye.WBR;const r1t=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,o1t=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),eK={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Lre(t,e){const n=g1t(t),a=Nie("type",{handlers:{root:s1t,element:l1t,text:c1t,comment:Fre,doctype:u1t,raw:f1t},unknown:h1t}),i={parser:n?new QY(eK):QY.getFragmentParser(void 0,eK),handle(s){a(s,i)},stitches:!1,options:e||{}};a(t,i),ny(i,pd());const r=n?i.parser.document:i.parser.getFragment(),o=smt(r,{file:i.options.file});return i.stitches&&cT(o,"comment",function(s,c,u){const d=s;if(d.value.stitch&&u&&c!==void 0){const h=u.children;return h[c]=d.value.stitch,c}}),o.type==="root"&&o.children.length===1&&o.children[0].type===t.type?o.children[0]:o}function zre(t,e){let n=-1;if(t)for(;++n<t.length;)e.handle(t[n])}function s1t(t,e){zre(t.children,e)}function l1t(t,e){p1t(t,e),zre(t.children,e),m1t(t,e)}function c1t(t,e){e.parser.tokenizer.state>4&&(e.parser.tokenizer.state=0);const n={type:Jn.CHARACTER,chars:t.value,location:US(t)};ny(e,pd(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function u1t(t,e){const n={type:Jn.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:US(t)};ny(e,pd(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function d1t(t,e){e.stitches=!0;const n=b1t(t);if("children"in t&&"children"in n){const a=Lre({type:"root",children:t.children},e.options);n.children=a.children}Fre({type:"comment",value:{stitch:n}},e)}function Fre(t,e){const n=t.value,a={type:Jn.COMMENT,data:n,location:US(t)};ny(e,pd(t)),e.parser.currentToken=a,e.parser._processToken(e.parser.currentToken)}function f1t(t,e){if(e.parser.tokenizer.preprocessor.html="",e.parser.tokenizer.preprocessor.pos=-1,e.parser.tokenizer.preprocessor.lastGapPos=-2,e.parser.tokenizer.preprocessor.gapStack=[],e.parser.tokenizer.preprocessor.skipNextNewLine=!1,e.parser.tokenizer.preprocessor.lastChunkWritten=!1,e.parser.tokenizer.preprocessor.endOfChunkHit=!1,e.parser.tokenizer.preprocessor.isEol=!1,Bre(e,pd(t)),e.parser.tokenizer.write(e.options.tagfilter?t.value.replace(r1t,"&lt;$1$2"):t.value,!1),e.parser.tokenizer._runParsingLoop(),e.parser.tokenizer.state===72||e.parser.tokenizer.state===78){e.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=e.parser.tokenizer._consume();e.parser.tokenizer._callState(n)}}function h1t(t,e){const n=t;if(e.options.passThrough&&e.options.passThrough.includes(n.type))d1t(n,e);else{let a="";throw o1t.has(n.type)&&(a=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+a)}}function ny(t,e){Bre(t,e);const n=t.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=t.parser.tokenizer.preprocessor.line,n.location.endCol=t.parser.tokenizer.preprocessor.col+1,n.location.endOffset=t.parser.tokenizer.preprocessor.offset+1,t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)),t.parser.tokenizer.paused=!1,t.parser.tokenizer.inLoop=!1,t.parser.tokenizer.active=!1,t.parser.tokenizer.returnState=rr.DATA,t.parser.tokenizer.charRefCode=-1,t.parser.tokenizer.consumedAfterSnapshot=-1,t.parser.tokenizer.currentLocation=null,t.parser.tokenizer.currentCharacterToken=null,t.parser.tokenizer.currentToken=null,t.parser.tokenizer.currentAttr={name:"",value:""}}function Bre(t,e){if(e&&e.offset!==void 0){const n={startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:-1,endCol:-1,endOffset:-1};t.parser.tokenizer.preprocessor.lineStartPos=-e.column+1,t.parser.tokenizer.preprocessor.droppedBufferSize=e.offset,t.parser.tokenizer.preprocessor.line=e.line,t.parser.tokenizer.currentLocation=n}}function p1t(t,e){const n=t.tagName.toLowerCase();if(e.parser.tokenizer.state===rr.PLAINTEXT)return;ny(e,pd(t));const a=e.parser.openElements.current;let i="namespaceURI"in a?a.namespaceURI:Xm.html;i===Xm.html&&n==="svg"&&(i=Xm.svg);const r=Cmt({...t,children:[]},{space:i===Xm.svg?"svg":"html"}),o={type:Jn.START_TAG,tagName:n,tagID:ty(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in r?r.attrs:[],location:US(t)};e.parser.currentToken=o,e.parser._processToken(e.parser.currentToken),e.parser.tokenizer.lastStartTagName=n}function m1t(t,e){const n=t.tagName.toLowerCase();if(!e.parser.tokenizer.inForeignNode&&Imt.includes(n)||e.parser.tokenizer.state===rr.PLAINTEXT)return;ny(e,aT(t));const a={type:Jn.END_TAG,tagName:n,tagID:ty(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:US(t)};e.parser.currentToken=a,e.parser._processToken(e.parser.currentToken),n===e.parser.tokenizer.lastStartTagName&&(e.parser.tokenizer.state===rr.RCDATA||e.parser.tokenizer.state===rr.RAWTEXT||e.parser.tokenizer.state===rr.SCRIPT_DATA)&&(e.parser.tokenizer.state=rr.DATA)}function g1t(t){const e=t.type==="root"?t.children[0]:t;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName.toLowerCase()==="html"))}function US(t){const e=pd(t)||{line:void 0,column:void 0,offset:void 0},n=aT(t)||{line:void 0,column:void 0,offset:void 0};return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function b1t(t){return"children"in t?Tg({...t,children:[]}):Tg(t)}function y1t(t){return function(e,n){return Lre(e,{...t,file:n})}}const Tm=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],tK={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...Tm,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...Tm],h2:[["className","sr-only"]],img:[...Tm,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...Tm,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...Tm],table:[...Tm],ul:[...Tm,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},Hh={}.hasOwnProperty;function x1t(t,e){let n={type:"root",children:[]};const a={schema:e?{...tK,...e}:tK,stack:[]},i=Hre(a,t);return i&&(Array.isArray(i)?i.length===1?n=i[0]:n.children=i:n=i),n}function Hre(t,e){if(e&&typeof e=="object"){const n=e;switch(typeof n.type=="string"?n.type:""){case"comment":return v1t(t,n);case"doctype":return S1t(t,n);case"element":return C1t(t,n);case"root":return w1t(t,n);case"text":return _1t(t,n)}}}function v1t(t,e){if(t.schema.allowComments){const n=typeof e.value=="string"?e.value:"",a=n.indexOf("-->"),r={type:"comment",value:a<0?n:n.slice(0,a)};return GS(r,e),r}}function S1t(t,e){if(t.schema.allowDoctypes){const n={type:"doctype"};return GS(n,e),n}}function C1t(t,e){const n=typeof e.tagName=="string"?e.tagName:"";t.stack.push(n);const a=$re(t,e.children),i=T1t(t,e.properties);t.stack.pop();let r=!1;if(n&&n!=="*"&&(!t.schema.tagNames||t.schema.tagNames.includes(n))&&(r=!0,t.schema.ancestors&&Hh.call(t.schema.ancestors,n))){const s=t.schema.ancestors[n];let c=-1;for(r=!1;++c<s.length;)t.stack.includes(s[c])&&(r=!0)}if(!r)return t.schema.strip&&!t.schema.strip.includes(n)?a:void 0;const o={type:"element",tagName:n,properties:i,children:a};return GS(o,e),o}function w1t(t,e){const a={type:"root",children:$re(t,e.children)};return GS(a,e),a}function _1t(t,e){const a={type:"text",value:typeof e.value=="string"?e.value:""};return GS(a,e),a}function $re(t,e){const n=[];if(Array.isArray(e)){const a=e;let i=-1;for(;++i<a.length;){const r=Hre(t,a[i]);r&&(Array.isArray(r)?n.push(...r):n.push(r))}}return n}function T1t(t,e){const n=t.stack[t.stack.length-1],a=t.schema.attributes,i=t.schema.required,r=a&&Hh.call(a,n)?a[n]:void 0,o=a&&Hh.call(a,"*")?a["*"]:void 0,s=e&&typeof e=="object"?e:{},c={};let u;for(u in s)if(Hh.call(s,u)){const d=s[u];let h=nK(t,aK(r,u),u,d);h==null&&(h=nK(t,aK(o,u),u,d)),h!=null&&(c[u]=h)}if(i&&Hh.call(i,n)){const d=i[n];for(u in d)Hh.call(d,u)&&!Hh.call(c,u)&&(c[u]=d[u])}return c}function nK(t,e,n,a){return e?Array.isArray(a)?E1t(t,e,n,a):Ure(t,e,n,a):void 0}function E1t(t,e,n,a){let i=-1;const r=[];for(;++i<a.length;){const o=Ure(t,e,n,a[i]);(typeof o=="number"||typeof o=="string")&&r.push(o)}return r}function Ure(t,e,n,a){if(!(typeof a!="boolean"&&typeof a!="number"&&typeof a!="string")&&A1t(t,n,a)){if(typeof e=="object"&&e.length>1){let i=!1,r=0;for(;++r<e.length;){const o=e[r];if(o&&typeof o=="object"&&"flags"in o){if(o.test(String(a))){i=!0;break}}else if(o===a){i=!0;break}}if(!i)return}return t.schema.clobber&&t.schema.clobberPrefix&&t.schema.clobber.includes(n)?t.schema.clobberPrefix+a:a}}function A1t(t,e,n){const a=t.schema.protocols&&Hh.call(t.schema.protocols,e)?t.schema.protocols[e]:void 0;if(!a||a.length===0)return!0;const i=String(n),r=i.indexOf(":"),o=i.indexOf("?"),s=i.indexOf("#"),c=i.indexOf("/");if(r<0||c>-1&&r>c||o>-1&&r>o||s>-1&&r>s)return!0;let u=-1;for(;++u<a.length;){const d=a[u];if(r===d.length&&i.slice(0,d.length)===d)return!0}return!1}function GS(t,e){const n=eie(e);e.data&&(t.data=Tg(e.data)),n&&(t.position=n)}function aK(t,e){let n,a=-1;if(t)for(;++a<t.length;){const i=t[a],r=typeof i=="string"?i:i[0];if(r===e)return i;r==="data*"&&(n=i)}if(e.length>4&&e.slice(0,4).toLowerCase()==="data")return n}function R1t(t){return function(e){return x1t(e,t)}}const k1t=()=>{const{t,i18n:e}=ht(["navigation","common"]),n=Fi(),a=xf(n.breakpoints.down("md")),[i,r]=E.useState("setup"),[o,s]=E.useState(""),[c,u]=E.useState(!1),[d,h]=E.useState(null),[m,g]=E.useState(!a),y=[{id:"setup",title:t("navigation:help.sections.setup"," "),file:"setup.md"},{id:"filters",title:t("navigation:help.sections.filters"," "),file:"filters.md"}];E.useEffect(()=>{(async()=>{u(!0),h(null);try{const _=y.find(R=>R.id===i);if(!_)throw new Error("Section not found");const T=e.language||"ko",A=await fetch(`/help/${T}/${_.file}`);if(A.ok){const R=await A.text();s(R)}else{const R=await fetch(`/help/ko/${_.file}`);if(!R.ok)throw new Error("Help content not found");const I=await R.text();s(I)}}catch(_){console.error("Failed to load help content:",_),h(t("common:errors.loadFailed","  .")),s("")}finally{u(!1)}})()},[i,e.language]);const v=w=>{r(w),a&&g(!1)},S=l.jsxs(Z,{sx:{width:280,pt:2},children:[l.jsx(ie,{variant:"h6",sx:{px:2,mb:2,fontWeight:600},children:t("navigation:help.title","")}),l.jsx(Ms,{children:y.map(w=>l.jsx(yf,{disablePadding:!0,children:l.jsx(gp,{selected:i===w.id,onClick:()=>v(w.id),children:l.jsx(ar,{primary:w.title})})},w.id))})]});return l.jsxs(Z,{sx:{display:"flex",minHeight:"calc(100vh - 64px)"},children:[!a&&l.jsx(D4,{variant:"permanent",sx:{width:280,flexShrink:0,"& .MuiDrawer-paper":{width:280,boxSizing:"border-box",position:"relative",height:"auto"}},children:S}),a&&l.jsx(D4,{variant:"temporary",open:m,onClose:()=>g(!1),ModalProps:{keepMounted:!0},children:S}),l.jsx(Z,{component:"main",sx:{flexGrow:1,p:3},children:l.jsxs(tg,{maxWidth:"lg",children:[a&&l.jsx(lt,{onClick:()=>g(!0),sx:{mb:2},"aria-label":"Open menu",children:l.jsx(FQ,{})}),c&&l.jsx(Z,{sx:{display:"flex",justifyContent:"center",py:8},children:l.jsx(Yt,{})}),d&&l.jsx(xt,{severity:"error",sx:{mb:3},children:d}),!c&&!d&&o&&l.jsx(Gt,{elevation:0,sx:{p:4,backgroundColor:n.palette.mode==="dark"?"background.paper":"background.default","& h1":{fontSize:"2rem",fontWeight:600,mb:2,mt:0},"& h2":{fontSize:"1.5rem",fontWeight:600,mb:2,mt:4,borderBottom:`1px solid ${n.palette.divider}`,pb:1},"& h3":{fontSize:"1.25rem",fontWeight:600,mb:1.5,mt:3},"& p":{mb:2,lineHeight:1.7},"& ul, & ol":{mb:2,pl:3},"& li":{mb:1},"& code":{backgroundColor:n.palette.mode==="dark"?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)",padding:"2px 6px",borderRadius:"4px",fontSize:"0.9em",fontFamily:"monospace"},"& pre":{backgroundColor:n.palette.mode==="dark"?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.02)",padding:2,borderRadius:1,overflow:"auto",mb:2},"& pre code":{backgroundColor:"transparent",padding:0},"& blockquote":{borderLeft:`4px solid ${n.palette.primary.main}`,pl:2,ml:0,fontStyle:"italic",color:n.palette.text.secondary},"& table":{width:"100%",borderCollapse:"collapse",mb:2},"& th, & td":{border:`1px solid ${n.palette.divider}`,padding:1.5,textAlign:"left"},"& th":{backgroundColor:n.palette.mode==="dark"?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.02)",fontWeight:600},"& img":{maxWidth:"100%",height:"auto",borderRadius:1,mb:2}},children:l.jsx(Lft,{remarkPlugins:[Xpt],rehypePlugins:[y1t,R1t],children:o})})]})})]})},I1t=()=>{const{t}=ht(["auth","common"]),[e,n]=E.useState(""),[a,i]=E.useState(""),[r,o]=E.useState(""),[s,c]=E.useState(!1),[u,d]=E.useState(!1),[h,m]=E.useState(null),{login:g}=LD(),y=Tf();E.useEffect(()=>{(async()=>{try{const w=await ig.getDatabaseInfo();m(w)}catch(w){console.error("Failed to load database info:",w)}})()},[]);const v=async S=>{S.preventDefault(),o(""),c(!0);try{await g(e,a),y("/")}catch(w){w instanceof Error?o(w.message||"Login failed"):o("Login failed")}finally{c(!1)}};return l.jsx(Z,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"background.default"},children:l.jsxs(tg,{maxWidth:"sm",children:[l.jsx(ma,{elevation:3,children:l.jsxs(Ri,{sx:{p:4},children:[l.jsxs(Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:3},children:[l.jsx(Z,{sx:{width:56,height:56,borderRadius:"50%",bgcolor:"primary.main",display:"flex",alignItems:"center",justifyContent:"center",mb:2},children:l.jsx(HOe,{sx:{fontSize:32,color:"white"}})}),l.jsx(ie,{variant:"h5",component:"h1",fontWeight:"bold",children:"ComfyUI Image Manager"}),l.jsx(ie,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Sign in to continue"})]}),r&&l.jsx(xt,{severity:"error",sx:{mb:2},children:r}),l.jsxs("form",{onSubmit:v,children:[l.jsx(Tt,{fullWidth:!0,label:"Username",variant:"outlined",value:e,onChange:S=>n(S.target.value),disabled:s,autoComplete:"username",autoFocus:!0,sx:{mb:2}}),l.jsx(Tt,{fullWidth:!0,label:"Password",type:"password",variant:"outlined",value:a,onChange:S=>i(S.target.value),disabled:s,autoComplete:"current-password",sx:{mb:3}}),l.jsx(Ue,{fullWidth:!0,type:"submit",variant:"contained",size:"large",disabled:s||!e||!a,sx:{py:1.5},children:s?l.jsx(Yt,{size:24}):"Sign In"}),l.jsx(Z,{sx:{mt:2,textAlign:"center"},children:l.jsxs(x7,{component:"button",type:"button",variant:"body2",onClick:()=>d(!0),sx:{display:"inline-flex",alignItems:"center",gap:.5,cursor:"pointer",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:[l.jsx(iD,{fontSize:"small"}),t("auth:recovery.link")]})})]})]})}),l.jsxs(Fn,{open:u,onClose:()=>d(!1),maxWidth:"sm",fullWidth:!0,children:[l.jsx(Un,{children:t("auth:recovery.title")}),l.jsx($n,{children:l.jsxs(xt,{severity:"info",sx:{mb:2},children:[l.jsx(ie,{variant:"body2",sx:{mb:2},children:t("auth:recovery.description")}),l.jsx(ie,{variant:"body2",component:"div",sx:{mb:1},children:l.jsx("strong",{children:t("auth:recovery.procedureTitle")})}),l.jsxs(ie,{variant:"body2",component:"ol",sx:{pl:2,mb:2},children:[l.jsx("li",{children:t("auth:recovery.step1")}),l.jsx("li",{children:t("auth:recovery.step2")}),l.jsx("li",{children:t("auth:recovery.step3")}),l.jsx("li",{children:t("auth:recovery.step4")})]}),h&&l.jsxs(Z,{sx:{bgcolor:"background.default",p:2,borderRadius:1,mt:2},children:[l.jsx(ie,{variant:"caption",sx:{display:"block",mb:1},children:l.jsx("strong",{children:t("auth:recovery.fileLabel")})}),l.jsx(ie,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.85rem",wordBreak:"break-all",bgcolor:"grey.900",color:"success.light",p:1,borderRadius:1},children:h.authDbPath})]}),l.jsx(xt,{severity:"warning",sx:{mt:2},children:l.jsxs(ie,{variant:"caption",children:[t("auth:recovery.warning")," ",t("auth:recovery.warningNote")]})})]})}),l.jsx(Wn,{children:l.jsx(Ue,{onClick:()=>d(!1),children:t("common:buttons.close")})})]})]})})},N1t=t=>{const e=yt.c(6),{children:n}=t,{isAuthenticated:a,isLoading:i,hasCredentials:r}=LD();if(i){let s;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx(Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:l.jsx(Yt,{})}),e[0]=s):s=e[0],s}if(!r){let s;return e[1]!==n?(s=l.jsx(l.Fragment,{children:n}),e[1]=n,e[2]=s):s=e[2],s}if(!a){let s;return e[3]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx(_se,{to:"/login",replace:!0}),e[3]=s):s=e[3],s}let o;return e[4]!==n?(o=l.jsx(l.Fragment,{children:n}),e[4]=n,e[5]=o):o=e[5],o},Gre=E.createContext(void 0),j1t=()=>{const t=E.useContext(Gre);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},D1t=t=>U_({palette:{mode:t,primary:{main:t==="dark"?"#90caf9":"#1976d2"},secondary:{main:t==="dark"?"#f48fb1":"#dc004e"},background:{default:t==="dark"?"#121212":"#fafafa",paper:t==="dark"?"#1e1e1e":"#ffffff"},divider:t==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.12)"},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',h4:{fontWeight:600},h6:{fontWeight:600}},shape:{borderRadius:8},components:{MuiAppBar:{styleOverrides:{root:{backgroundColor:t==="dark"?"#1e1e1e":"#1976d2",color:"#ffffff"}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"none"}}},MuiCard:{styleOverrides:{root:{border:`1px solid ${t==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.12)"}`}}},MuiButton:{styleOverrides:{root:{textTransform:"none",fontWeight:500}}},MuiChip:{styleOverrides:{root:{fontWeight:500}}}}}),O1t=t=>{const e=yt.c(17),{children:n}=t,[a,i]=E.useState(M1t);let r;e[0]!==a?(r=D1t(a),e[0]=a,e[1]=r):r=e[1];const o=r;let s;e[2]!==a?(s=()=>{const v=a==="light"?"dark":"light";i(v),localStorage.setItem("theme-mode",v)},e[2]=a,e[3]=s):s=e[3];const c=s;let u,d;e[4]!==a?(u=()=>{localStorage.setItem("theme-mode",a)},d=[a],e[4]=a,e[5]=u,e[6]=d):(u=e[5],d=e[6]),E.useEffect(u,d);let h;e[7]!==a||e[8]!==o||e[9]!==c?(h={mode:a,toggleMode:c,theme:o},e[7]=a,e[8]=o,e[9]=c,e[10]=h):h=e[10];const m=h;let g;e[11]!==n||e[12]!==o?(g=l.jsx(vAe,{theme:o,children:n}),e[11]=n,e[12]=o,e[13]=g):g=e[13];let y;return e[14]!==m||e[15]!==g?(y=l.jsx(Gre.Provider,{value:m,children:g}),e[14]=m,e[15]=g,e[16]=y):y=e[16],y};function M1t(){return localStorage.getItem("theme-mode")||"light"}const P1t=()=>{const{t}=ht("navigation"),e=sd(),n=Fi(),{mode:a,toggleMode:i}=j1t(),r=xf(n.breakpoints.down("md")),o=xf(n.breakpoints.down("lg")),[s,c]=E.useState(!1),[u,d]=E.useState(!0);E.useEffect(()=>{(async()=>{try{const w=await fo.getSettings();d(w.general.enableGallery??!0)}catch(w){console.error("Failed to load gallery setting:",w),d(!0)}})()},[]);const h=[{label:t("header.menu.home"),path:"/",icon:zQ,tooltip:t("header.tooltip.home")},{label:t("header.menu.gallery"),path:"/gallery",icon:w7,tooltip:t("header.tooltip.gallery")},{label:t("header.menu.imageGroups"),path:"/image-groups",icon:cl,tooltip:t("header.tooltip.imageGroups")},{label:t("header.menu.search"),path:"/search",icon:Wc,tooltip:t("header.tooltip.search")},{label:t("header.menu.upload"),path:"/upload",icon:bp,tooltip:t("header.tooltip.upload")},{label:t("header.menu.imageGeneration"),path:"/image-generation",icon:vf,tooltip:t("header.tooltip.imageGeneration")},{label:t("header.menu.settings"),path:"/settings",icon:ub,tooltip:t("header.tooltip.settings")},{label:t("header.menu.help"),path:"/help",icon:iD,tooltip:t("header.tooltip.help")}],m=u?h:h.filter(S=>S.path!=="/gallery"),g=()=>{c(!s)},y=()=>{c(!1)},v=()=>l.jsxs(D4,{anchor:"left",open:s,onClose:y,sx:{zIndex:S=>S.zIndex.drawer+2,"& .MuiDrawer-paper":{width:280,boxSizing:"border-box"}},ModalProps:{keepMounted:!0},children:[l.jsxs(Z,{sx:{p:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx(ie,{variant:"h6",component:"div",children:t("header.title")}),l.jsx(lt,{onClick:y,"aria-label":t("header.mobileMenu.close"),children:l.jsx(Sf,{})})]}),l.jsx(fn,{}),l.jsx(Ms,{children:m.map(S=>{const w=S.icon;return l.jsx(yf,{disablePadding:!0,children:l.jsxs(gp,{component:b4,to:S.path,selected:e.pathname===S.path,onClick:y,children:[l.jsx(Ao,{children:l.jsx(w,{})}),l.jsx(ar,{primary:S.label})]})},S.path)})}),l.jsx(fn,{}),l.jsx(Ms,{children:l.jsx(yf,{disablePadding:!0,children:l.jsxs(gp,{onClick:i,children:[l.jsx(Ao,{children:a==="dark"?l.jsx(ME,{}):l.jsx(OE,{})}),l.jsx(ar,{primary:t(a==="dark"?"header.theme.light":"header.theme.dark"),secondary:t("header.theme.toggle")})]})})})]});return l.jsxs(l.Fragment,{children:[l.jsx(V8e,{position:"static",elevation:1,children:l.jsxs(eD,{sx:{width:"100%",px:{xs:2,sm:3,md:4}},children:[r&&l.jsx(lt,{edge:"start",color:"inherit","aria-label":"menu",onClick:g,sx:{mr:2},children:l.jsx(FQ,{})}),l.jsx(ie,{variant:"h6",component:"div",sx:{flexGrow:1,fontWeight:600,fontSize:{xs:"1.1rem",sm:"1.25rem"}},children:t("header.title")}),!r&&l.jsxs(Z,{sx:{display:"flex",gap:1,alignItems:"center"},children:[m.map(S=>{const w=S.icon,_=o&&!r;return l.jsx(jt,{title:S.tooltip,arrow:!0,children:l.jsxs(Ue,{color:"inherit",component:b4,to:S.path,variant:e.pathname===S.path?"outlined":"text",sx:{color:"inherit",borderColor:e.pathname===S.path?"currentColor":"transparent",minWidth:"auto",px:_?1.5:2,"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:[l.jsx(w,{sx:{fontSize:20,mr:_?0:1}}),!_&&S.label]})},S.path)}),l.jsx(jt,{title:t("header.theme.toggle"),arrow:!0,children:l.jsx(lt,{color:"inherit",onClick:i,sx:{ml:1,"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:a==="dark"?l.jsx(ME,{}):l.jsx(OE,{})})})]}),r&&l.jsx(jt,{title:t("header.theme.toggle"),arrow:!0,children:l.jsx(lt,{color:"inherit",onClick:i,sx:{"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:a==="dark"?l.jsx(ME,{}):l.jsx(OE,{})})})]})}),l.jsx(v,{})]})},L1t=()=>{const t=yt.c(11),{t:e}=ht("navigation"),n=Fi(),a=n.palette.mode==="dark"?n.palette.grey[900]:n.palette.grey[100];let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={xs:2,sm:3,md:4},t[0]=i):i=t[0];let r;t[1]!==a?(r={backgroundColor:a,py:3,mt:"auto",borderTop:1,borderColor:"divider",width:"100%",px:i},t[1]=a,t[2]=r):r=t[2];let o;t[3]===Symbol.for("react.memo_cache_sentinel")?(o={fontSize:{xs:"0.75rem",sm:"0.875rem"}},t[3]=o):o=t[3];let s;t[4]!==e?(s=e("footer.copyright"),t[4]=e,t[5]=s):s=t[5];let c;t[6]!==s?(c=l.jsx(ie,{variant:"body2",color:"text.secondary",align:"center",sx:o,children:s}),t[6]=s,t[7]=c):c=t[7];let u;return t[8]!==r||t[9]!==c?(u=l.jsx(Z,{component:"footer",sx:r,children:c}),t[8]=r,t[9]=c,t[10]=u):u=t[10],u},z1t=t=>{const e=yt.c(18),{children:n,maxWidth:a,disablePadding:i}=t,r=a===void 0?!1:a,o=i===void 0?!1:i;let s,c;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex",flexDirection:"column",minHeight:"100vh",width:"100%"},c=l.jsx(P1t,{}),e[0]=s,e[1]=c):(s=e[0],c=e[1]);let u;e[2]!==o?(u=o?0:{xs:2,sm:3,md:4},e[2]=o,e[3]=u):u=e[3];let d;e[4]!==o?(d=o?0:{xs:2,sm:3,md:4},e[4]=o,e[5]=d):d=e[5];let h;e[6]!==u||e[7]!==d?(h={flexGrow:1,py:u,px:d,width:"100%",display:"flex",flexDirection:"column"},e[6]=u,e[7]=d,e[8]=h):h=e[8];let m;e[9]!==n||e[10]!==r?(m=r===!1?l.jsx(Z,{sx:{width:"100%",flex:1},children:n}):l.jsx(tg,{maxWidth:r,sx:{flex:1,display:"flex",flexDirection:"column",px:0},children:n}),e[9]=n,e[10]=r,e[11]=m):m=e[11];let g;e[12]!==h||e[13]!==m?(g=l.jsx(Z,{component:"main",sx:h,children:m}),e[12]=h,e[13]=m,e[14]=g):g=e[14];let y;e[15]===Symbol.for("react.memo_cache_sentinel")?(y=l.jsx(L1t,{}),e[15]=y):y=e[15];let v;return e[16]!==g?(v=l.jsxs(Z,{sx:s,children:[c,g,y]}),e[16]=g,e[17]=v):v=e[17],v},F1t=new Nfe({defaultOptions:{queries:{staleTime:6e4,gcTime:3e5,refetchOnWindowFocus:!1,retry:1}}});function B1t(){const t=yt.c(14);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsx(sfe,{}),t[0]=e):e=t[0];let n;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=l.jsx(Vo,{path:"/login",element:l.jsx(I1t,{})}),t[1]=n):n=t[1];let a;t[2]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx(Vo,{path:"/",element:l.jsx(G$e,{})}),t[2]=a):a=t[2];let i;t[3]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx(Vo,{path:"/gallery",element:l.jsx(CVe,{})}),t[3]=i):i=t[3];let r;t[4]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx(Vo,{path:"/image-groups",element:l.jsx(oYe,{})}),t[4]=r):r=t[4];let o;t[5]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(Vo,{path:"/upload",element:l.jsx(xVe,{})}),t[5]=o):o=t[5];let s;t[6]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx(Vo,{path:"/search",element:l.jsx(GVe,{})}),t[6]=s):s=t[6];let c;t[7]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx(Vo,{path:"/settings",element:l.jsx(lQe,{})}),t[7]=c):c=t[7];let u;t[8]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsx(Vo,{path:"/help",element:l.jsx(k1t,{})}),t[8]=u):u=t[8];let d;t[9]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(Vo,{path:"/image/:compositeHash",element:l.jsx(sYe,{})}),t[9]=d):d=t[9];let h;t[10]===Symbol.for("react.memo_cache_sentinel")?(h=l.jsx(Vo,{path:"/image-generation",element:l.jsx(sZe,{})}),t[10]=h):h=t[10];let m;t[11]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsx(Vo,{path:"/image-generation/new",element:l.jsx(UV,{})}),t[11]=m):m=t[11];let g;t[12]===Symbol.for("react.memo_cache_sentinel")?(g=l.jsx(Vo,{path:"/image-generation/:id/edit",element:l.jsx(UV,{})}),t[12]=g):g=t[12];let y;return t[13]===Symbol.for("react.memo_cache_sentinel")?(y=l.jsx(jfe,{client:F1t,children:l.jsxs(O1t,{children:[e,l.jsx(xhe,{maxSnack:3,autoHideDuration:3e3,children:l.jsx(Kse,{children:l.jsx(fKe,{children:l.jsxs(KM,{children:[n,l.jsx(Vo,{path:"/*",element:l.jsx(N1t,{children:l.jsx(z1t,{children:l.jsxs(KM,{children:[a,i,r,o,s,c,u,d,h,m,g,l.jsx(Vo,{path:"/image-generation/:id/generate",element:l.jsx(Nlt,{})})]})})})})]})})})})]})}),t[13]=y):y=t[13],y}Doe.createRoot(document.getElementById("root")).render(l.jsx(E.StrictMode,{children:l.jsx(B1t,{})}));
