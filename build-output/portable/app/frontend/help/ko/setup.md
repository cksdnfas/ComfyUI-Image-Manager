# ì„¤ì • ê°€ì´ë“œ

ComfyUI Image Manager í¬í„°ë¸” ë²„ì „ ì„¤ì • ê°€ì´ë“œìž…ë‹ˆë‹¤.

## ðŸ“ ë””ë ‰í† ë¦¬ êµ¬ì¡°

í”„ë¡œê·¸ëž¨ ì‹¤í–‰ í›„ ìžë™ìœ¼ë¡œ ìƒì„±ë˜ëŠ” í´ë”ë“¤:

```
comfyui-image-manager/
â”œâ”€â”€ app/                 # ì‹¤í–‰ íŒŒì¼ ë° í”„ë¡œê·¸ëž¨ íŒŒì¼
â”œâ”€â”€ python/              # Python ìŠ¤í¬ë¦½íŠ¸ ë° requirements.txt
â”œâ”€â”€ uploads/             # ì—…ë¡œë“œëœ ì´ë¯¸ì§€ (ìžë™ ìƒì„±)
â”‚   â”œâ”€â”€ images/         # ì´ë¯¸ì§€ íŒŒì¼
â”‚   â””â”€â”€ videos/         # ë™ì˜ìƒ íŒŒì¼
â”œâ”€â”€ database/            # SQLite ë°ì´í„°ë² ì´ìŠ¤ (ìžë™ ìƒì„±)
â”œâ”€â”€ models/              # AI ëª¨ë¸ ìºì‹œ (ìžë™ ìƒì„±)
â”œâ”€â”€ logs/                # ë¡œê·¸ íŒŒì¼ (ìžë™ ìƒì„±)
â””â”€â”€ temp/                # ìž„ì‹œ íŒŒì¼ (ìžë™ ìƒì„±)
```

## ðŸ”§ WD Tagger ì‚¬ìš© ì„¤ì • (ì„ íƒì‚¬í•­)

ì´ë¯¸ì§€ì—ì„œ ìžë™ìœ¼ë¡œ íƒœê·¸ë¥¼ ì¶”ì¶œí•˜ëŠ” AI ê¸°ëŠ¥ìž…ë‹ˆë‹¤. ì‚¬ìš©í•˜ë ¤ë©´ Python ì„¤ì¹˜ê°€ í•„ìš”í•©ë‹ˆë‹¤.

### 1ë‹¨ê³„: Python ì„¤ì¹˜

#### Windows
1. [Python ê³µì‹ ì‚¬ì´íŠ¸](https://www.python.org/downloads/)ì—ì„œ Python 3.8 ì´ìƒ ë‹¤ìš´ë¡œë“œ
2. ì„¤ì¹˜ í”„ë¡œê·¸ëž¨ ì‹¤í–‰
3. **ì¤‘ìš”**: "Add Python to PATH" ì²´í¬ë°•ìŠ¤ ë°˜ë“œì‹œ ì„ íƒ
4. "Install Now" í´ë¦­

#### Linux
```bash
sudo apt update
sudo apt install python3 python3-pip
```

#### macOS
```bash
# Homebrew ì‚¬ìš©
brew install python3
```

#### ì„¤ì¹˜ í™•ì¸
```bash
python --version
# ë˜ëŠ” (Linux/Mac)
python3 --version
```

Python 3.8 ì´ìƒ ë²„ì „ì´ í‘œì‹œë˜ë©´ ì •ìƒìž…ë‹ˆë‹¤.

### 2ë‹¨ê³„: Python íŒ¨í‚¤ì§€ ì„¤ì¹˜

í”„ë¡œê·¸ëž¨ í´ë”ì˜ `python` ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•˜ì—¬ í•„ìš”í•œ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.

```bash
# Windows
cd python
pip install -r requirements.txt

# Linux/Mac
cd python
pip3 install -r requirements.txt
```

**ì„¤ì¹˜ë˜ëŠ” íŒ¨í‚¤ì§€:**
- `torch` - PyTorch ë”¥ëŸ¬ë‹ í”„ë ˆìž„ì›Œí¬
- `timm` - ì´ë¯¸ì§€ ëª¨ë¸ ë¼ì´ë¸ŒëŸ¬ë¦¬
- `huggingface-hub` - AI ëª¨ë¸ ë‹¤ìš´ë¡œë“œ
- `pillow` - ì´ë¯¸ì§€ ì²˜ë¦¬
- `pandas`, `numpy` - ë°ì´í„° ì²˜ë¦¬

**ì°¸ê³ **:
- ì„¤ì¹˜ ì‹œê°„ì€ ì¸í„°ë„· ì†ë„ì— ë”°ë¼ 5~15ë¶„ ì†Œìš”
- PyTorchëŠ” ìš©ëŸ‰ì´ í¬ë¯€ë¡œ(ì•½ 500MB~1GB) ì¶©ë¶„í•œ ì €ìž¥ê³µê°„ í•„ìš”
- GPU ì‚¬ìš©ì„ ì›í•˜ë©´ [PyTorch ê³µì‹ ì‚¬ì´íŠ¸](https://pytorch.org/get-started/locally/)ì—ì„œ CUDA ë²„ì „ ì„¤ì¹˜

### 3ë‹¨ê³„: íƒœê±° í™œì„±í™”

1. **í”„ë¡œê·¸ëž¨ ì‹¤í–‰ í›„ ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì†**
2. **ì„¤ì • íŽ˜ì´ì§€ë¡œ ì´ë™** (ìƒë‹¨ ë©”ë‰´ > ì„¤ì •)
3. **íƒœê±° ì„¤ì • íƒ­ ì„ íƒ**
4. **"Python ì˜ì¡´ì„± í™•ì¸" ë²„íŠ¼ í´ë¦­**
   - ëª¨ë“  í•­ëª©ì´ âœ… í‘œì‹œë˜ë©´ ì •ìƒ
   - âŒ í‘œì‹œê°€ ìžˆìœ¼ë©´ ì•„ëž˜ ë¬¸ì œ í•´ê²° ì°¸ê³ 

5. **íƒœê±° í™œì„±í™” ì²´í¬ë°•ìŠ¤ ì„ íƒ**
6. **ëª¨ë¸ ì„ íƒ** (ê¸°ë³¸ê°’: ViT ê¶Œìž¥)
   - **ViT (Vision Transformer)**: ë¹ ë¥´ê³  ì •í™• (ê¶Œìž¥)
   - **SwinV2**: ë§¤ìš° ì •í™•í•˜ì§€ë§Œ ëŠë¦¼
   - **ConvNeXt**: ë¹ ë¥¸ ì²˜ë¦¬ ì†ë„

7. **ìž„ê³„ê°’ ì¡°ì •** (ì„ íƒì‚¬í•­)
   - **General ìž„ê³„ê°’** (ê¸°ë³¸: 0.35): ë‚®ì„ìˆ˜ë¡ ë” ë§Žì€ íƒœê·¸, ë†’ì„ìˆ˜ë¡ ì •í™•í•œ íƒœê·¸ë§Œ
   - **Character ìž„ê³„ê°’** (ê¸°ë³¸: 0.75): ë‚®ì„ìˆ˜ë¡ ë” ë§Žì€ ìºë¦­í„° ì¸ì‹

8. **ì²« ì‚¬ìš© ì‹œ ìžë™ ëª¨ë¸ ë‹¤ìš´ë¡œë“œ**
   - ì¸í„°ë„· ì—°ê²° í•„ìš”
   - ëª¨ë¸ í¬ê¸°: 600MB ~ 1GB
   - ë‹¤ìš´ë¡œë“œ ìœ„ì¹˜: `models/` í´ë”
   - í•œ ë²ˆë§Œ ë‹¤ìš´ë¡œë“œë˜ë©° ì´í›„ ìž¬ì‚¬ìš©

### íƒœê±° ì‚¬ìš© ë°©ë²•

1. **ì´ë¯¸ì§€ ì—…ë¡œë“œ** ë˜ëŠ” ê¸°ì¡´ ì´ë¯¸ì§€ ì„ íƒ
2. **ì´ë¯¸ì§€ ìƒì„¸ íŽ˜ì´ì§€ì—ì„œ "íƒœê·¸ ìƒì„±" ë²„íŠ¼ í´ë¦­**
3. **ìžë™ìœ¼ë¡œ íƒœê·¸ê°€ ì¶”ì¶œë˜ì–´ í‘œì‹œë¨**
   - Rating: ì´ë¯¸ì§€ ë“±ê¸‰ (General, Sensitive ë“±)
   - General: ì¼ë°˜ íƒœê·¸ (1girl, solo, long hair ë“±)
   - Character: ìºë¦­í„° ì´ë¦„ (í™•ì‹ ë„ ë†’ì€ ê²½ìš°ë§Œ)

4. **ì¼ê´„ íƒœê¹…**
   - ì—¬ëŸ¬ ì´ë¯¸ì§€ ì„ íƒ í›„ "ì¼ê´„ íƒœê·¸ ìƒì„±" ê°€ëŠ¥
   - ëŒ€ëŸ‰ ì´ë¯¸ì§€ ì²˜ë¦¬ ì‹œ ìœ ìš©

## âš™ï¸ ê¸°ë³¸ ì„¤ì •

### í¬íŠ¸ ë³€ê²½

ê¸°ë³¸ í¬íŠ¸ëŠ” 1566ìž…ë‹ˆë‹¤. ë‹¤ë¥¸ í”„ë¡œê·¸ëž¨ê³¼ ì¶©ëŒ ì‹œ ë³€ê²½ì´ í•„ìš”í•©ë‹ˆë‹¤.

**ë³€ê²½ ë°©ë²•:**
1. í”„ë¡œê·¸ëž¨ í´ë”ì˜ `.env` íŒŒì¼ ì—´ê¸° (ì—†ìœ¼ë©´ ìƒì„±)
2. ë‹¤ìŒ ë‚´ìš© ì¶”ê°€:
   ```env
   PORT=3000
   ```
3. í”„ë¡œê·¸ëž¨ ìž¬ì‹œìž‘

### ë°ì´í„° ì €ìž¥ ê²½ë¡œ ë³€ê²½

ê¸°ë³¸ì ìœ¼ë¡œ í”„ë¡œê·¸ëž¨ í´ë”ì— ë°ì´í„°ê°€ ì €ìž¥ë©ë‹ˆë‹¤. ë‹¤ë¥¸ ìœ„ì¹˜ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´:

1. `.env` íŒŒì¼ íŽ¸ì§‘
2. ë‹¤ìŒ ë‚´ìš© ì¶”ê°€:
   ```env
   RUNTIME_BASE_PATH=D:\MyImages
   ```
3. í”„ë¡œê·¸ëž¨ ìž¬ì‹œìž‘
4. ì§€ì •í•œ ê²½ë¡œì— ìžë™ìœ¼ë¡œ í´ë” ìƒì„±

## ðŸŒ ë„¤íŠ¸ì›Œí¬ ì ‘ì†

### ê°™ì€ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì ‘ì† (ìŠ¤ë§ˆíŠ¸í°, íƒœë¸”ë¦¿ ë“±)

1. **í”„ë¡œê·¸ëž¨ ì‹¤í–‰ í›„ ì½˜ì†” ì°½ì— í‘œì‹œë˜ëŠ” ë„¤íŠ¸ì›Œí¬ ì£¼ì†Œ í™•ì¸**
   ```
   Local:   http://localhost:1566
   Network: http://xxx.xxx.xxx.xxx:1566  â† ì´ ì£¼ì†Œ ì‚¬ìš©
   ```

2. **ë‹¤ë¥¸ ê¸°ê¸°ì—ì„œ Network ì£¼ì†Œë¡œ ì ‘ì†**
   - ê°™ì€ Wi-Fië‚˜ ê³µìœ ê¸°ì— ì—°ê²°ë˜ì–´ ìžˆì–´ì•¼ í•¨
   - ë°©í™”ë²½ì—ì„œ í¬íŠ¸ í—ˆìš© í•„ìš”

### ì™¸ë¶€ ì¸í„°ë„·ì—ì„œ ì ‘ì†

1. **ê³µìœ ê¸° í¬íŠ¸ í¬ì›Œë”© ì„¤ì •**
   - ì™¸ë¶€ í¬íŠ¸: 1566
   - ë‚´ë¶€ IP: PCì˜ ë¡œì»¬ IP
   - ë‚´ë¶€ í¬íŠ¸: 1566

2. **ì™¸ë¶€ IP í™•ì¸**
   - [ë‚´ IP ì£¼ì†Œ í™•ì¸](https://www.whatismyip.com/)
   - ì™¸ë¶€ IPê°€ ìžì£¼ ë°”ë€Œë©´ DDNS ì„œë¹„ìŠ¤ ê¶Œìž¥

3. **ë°©í™”ë²½ ì„¤ì •**
   - Windows ë°©í™”ë²½ì—ì„œ í¬íŠ¸ 1566 í—ˆìš©

## â“ ë¬¸ì œ í•´ê²°

### Python ì„¤ì¹˜ ê´€ë ¨

#### "python is not recognized" ì˜¤ë¥˜
**ì›ì¸**: Pythonì´ PATH í™˜ê²½ë³€ìˆ˜ì— ì—†ìŒ

**í•´ê²°ë°©ë²•:**
1. Python ìž¬ì„¤ì¹˜ ì‹œ "Add Python to PATH" ì²´í¬
2. ë˜ëŠ” ìˆ˜ë™ìœ¼ë¡œ í™˜ê²½ë³€ìˆ˜ ì„¤ì •:
   - Windows: ì‹œìŠ¤í…œ ì†ì„± > í™˜ê²½ ë³€ìˆ˜ > Path íŽ¸ì§‘
   - Python ì„¤ì¹˜ ê²½ë¡œ ì¶”ê°€ (ì˜ˆ: `C:\Python310\` ë° `C:\Python310\Scripts\`)

#### ê´€ë¦¬ìž ê¶Œí•œ í•„ìš” ì˜¤ë¥˜
**í•´ê²°ë°©ë²•:**
```bash
# Windows - ê´€ë¦¬ìž ê¶Œí•œìœ¼ë¡œ ëª…ë ¹ í”„ë¡¬í”„íŠ¸ ì‹¤í–‰ í›„
pip install -r requirements.txt

# Linux/Mac
sudo pip3 install -r requirements.txt
```

### Python íŒ¨í‚¤ì§€ ì„¤ì¹˜ ê´€ë ¨

#### íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì‹¤íŒ¨
```bash
# pip ì—…ê·¸ë ˆì´ë“œ í›„ ìž¬ì‹œë„
python -m pip install --upgrade pip
pip install -r requirements.txt --force-reinstall
```

#### ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ë¡œ ì„¤ì¹˜ ì‹¤íŒ¨
**í•´ê²°ë°©ë²•:**
- ì•ˆì •ì ì¸ ì¸í„°ë„· ì—°ê²° í™•ì¸
- ë°©í™”ë²½/ë³´ì•ˆ í”„ë¡œê·¸ëž¨ ì¼ì‹œ í•´ì œ
- í”„ë¡ì‹œ ì‚¬ìš© ì‹œ pip í”„ë¡ì‹œ ì„¤ì • í•„ìš”

#### ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±
**í•´ê²°ë°©ë²•:**
- ìµœì†Œ 3GB ì´ìƒ ì—¬ìœ  ê³µê°„ í™•ë³´
- PyTorchëŠ” ìš©ëŸ‰ì´ í¼

### íƒœê±° ê´€ë ¨

#### "Python ì˜ì¡´ì„±ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤" ì˜¤ë¥˜
**í™•ì¸ì‚¬í•­:**
1. Python ì„¤ì¹˜ í™•ì¸: `python --version`
2. íŒ¨í‚¤ì§€ ì„¤ì¹˜ í™•ì¸: `pip list | grep torch`
3. ì˜¬ë°”ë¥¸ ë””ë ‰í† ë¦¬ì—ì„œ ì„¤ì¹˜í–ˆëŠ”ì§€ í™•ì¸

**í•´ê²°ë°©ë²•:**
```bash
cd python
pip install -r requirements.txt --force-reinstall
```

#### ëª¨ë¸ ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨
**ì›ì¸:**
- ì¸í„°ë„· ì—°ê²° ë¬¸ì œ
- Hugging Face Hub ì ‘ê·¼ ë¶ˆê°€
- ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±

**í•´ê²°ë°©ë²•:**
1. ì¸í„°ë„· ì—°ê²° í™•ì¸
2. [Hugging Face](https://huggingface.co/) ì ‘ì† í™•ì¸
3. ë°©í™”ë²½ì—ì„œ í—ˆìš©
4. ì €ìž¥ ê³µê°„ í™•ë³´ (ìµœì†Œ 2GB)

#### íƒœê·¸ ìƒì„±ì´ ë„ˆë¬´ ëŠë¦¼
**ì›ì¸**: CPUë¡œ ì²˜ë¦¬ ì¤‘

**í•´ê²°ë°©ë²•:**
- GPU ì‚¬ìš© ì„¤ì • (NVIDIA GPU ìžˆëŠ” ê²½ìš°)
  ```bash
  pip install torch torchvision --index-url https://download.pytorch.org/whl/cu118
  ```
- ëª¨ë¸ì„ ViTë‚˜ ConvNeXtë¡œ ë³€ê²½ (SwinV2ëŠ” ëŠë¦¼)
- ì¼ê´„ ì²˜ë¦¬ ëŒ€ì‹  ê°œë³„ ì²˜ë¦¬

#### ë©”ëª¨ë¦¬ ë¶€ì¡± ì˜¤ë¥˜
**í•´ê²°ë°©ë²•:**
- ë‹¤ë¥¸ í”„ë¡œê·¸ëž¨ ì¢…ë£Œ
- ë” ê°€ë²¼ìš´ ëª¨ë¸ ì„ íƒ (ConvNeXt)
- ì¼ê´„ ì²˜ë¦¬ ì‹œ ì´ë¯¸ì§€ ê°œìˆ˜ ì¤„ì´ê¸°

### ì¼ë°˜ ë¬¸ì œ

#### í¬íŠ¸ê°€ ì´ë¯¸ ì‚¬ìš© ì¤‘
**ì˜¤ë¥˜ ë©”ì‹œì§€**: "Port 1566 is already in use"

**í•´ê²°ë°©ë²•:**
1. ë‹¤ë¥¸ í”„ë¡œê·¸ëž¨ ì¢…ë£Œ
2. ë˜ëŠ” í¬íŠ¸ ë³€ê²½ (ìœ„ì˜ "í¬íŠ¸ ë³€ê²½" ì°¸ê³ )

#### ì´ë¯¸ì§€ê°€ ì—…ë¡œë“œë˜ì§€ ì•ŠìŒ
**í™•ì¸ì‚¬í•­:**
1. ì§€ì› í˜•ì‹: JPG, PNG, WebP, GIF, MP4, MOV
2. ìµœëŒ€ í¬ê¸°: 50MB
3. ë””ìŠ¤í¬ ì—¬ìœ  ê³µê°„ í™•ì¸

#### ë°ì´í„°ë² ì´ìŠ¤ ì˜¤ë¥˜
**ê²½ê³ **: ëª¨ë“  ë°ì´í„°ê°€ ì‚­ì œë©ë‹ˆë‹¤!

```bash
# í”„ë¡œê·¸ëž¨ í´ë”ì—ì„œ ì‹¤í–‰
npm run db:reset
```

#### ë¸Œë¼ìš°ì €ê°€ ìžë™ìœ¼ë¡œ ì—´ë¦¬ì§€ ì•ŠìŒ
**í•´ê²°ë°©ë²•:**
- ìˆ˜ë™ìœ¼ë¡œ http://localhost:1566 ì ‘ì†
- ë‹¤ë¥¸ ë¸Œë¼ìš°ì € ì‹œë„ (Chrome, Firefox, Edge)

## ðŸ“Š ì„±ëŠ¥ ì°¸ê³  ì‚¬í•­

### íƒœê±° ì²˜ë¦¬ ì†ë„
- **CPU**: ì´ë¯¸ì§€ë‹¹ 2-5ì´ˆ
- **GPU (CUDA)**: ì´ë¯¸ì§€ë‹¹ 0.5-1ì´ˆ

### ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰
- **ê¸°ë³¸ í”„ë¡œê·¸ëž¨**: ì•½ 200-500MB
- **íƒœê±° ì‚¬ìš© ì‹œ (CPU)**: ì¶”ê°€ 2-4GB RAM
- **íƒœê±° ì‚¬ìš© ì‹œ (GPU)**: ì¶”ê°€ 2-4GB VRAM

### ê¶Œìž¥ ì‚¬ì–‘
- **ìµœì†Œ**: CPU 2ì½”ì–´, RAM 4GB, ì €ìž¥ê³µê°„ 5GB
- **ê¶Œìž¥**: CPU 4ì½”ì–´, RAM 8GB, ì €ìž¥ê³µê°„ 10GB
- **íƒœê±° ì‚¬ìš© ì‹œ**: RAM 16GB ê¶Œìž¥

## ðŸ“š ì¶”ê°€ ë„ì›€ë§

### ì£¼ìš” ê¸°ëŠ¥

- **ì´ë¯¸ì§€ ê´€ë¦¬**: ë“œëž˜ê·¸ ì•¤ ë“œë¡­ ì—…ë¡œë“œ, ìžë™ ì¸ë„¤ì¼, AI ë©”íƒ€ë°ì´í„° ì¶”ì¶œ
- **ìžë™ ìˆ˜ì§‘**: ê·œì¹™ ê¸°ë°˜ ìžë™ ê·¸ë£¹í•‘
- **í”„ë¡¬í”„íŠ¸ ë¶„ì„**: AI ìƒì„± ì´ë¯¸ì§€ì˜ í”„ë¡¬í”„íŠ¸ í†µê³„ ë° ë¶„ì„
- **ê³ ê¸‰ ê²€ìƒ‰**: ë³µí•© í•„í„°, íƒœê·¸ ê¸°ë°˜ ê²€ìƒ‰
- **ë™ì˜ìƒ ì§€ì›**: ìžë™ ì• ë‹ˆë©”ì´ì…˜ ì¸ë„¤ì¼ ìƒì„±

### ì§€ì›í•˜ëŠ” AI ë©”íƒ€ë°ì´í„°

- ComfyUI
- NovelAI

### ë‹¨ì¶•í‚¤

- `ì„ íƒ + Delete`: ì„ íƒí•œ ì´ë¯¸ì§€ ì‚­ì œ
- `ì„ íƒ + D`: ì„ íƒí•œ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
- `Escape`: ëª¨ë‹¬/ëŒ€í™”ìƒìž ë‹«ê¸°

## ðŸ†˜ ì¶”ê°€ ì§€ì›

ë¬¸ì œê°€ í•´ê²°ë˜ì§€ ì•Šìœ¼ë©´:

1. **ë¡œê·¸ íŒŒì¼ í™•ì¸**: `logs/` í´ë”ì˜ ìµœì‹  ë¡œê·¸ íŒŒì¼
2. **GitHub Issues**: ë¬¸ì œ ë³´ê³  ë° ì§ˆë¬¸
3. **ì½˜ì†” í™•ì¸**: ë¸Œë¼ìš°ì € ê°œë°œìž ë„êµ¬ (F12) > Console íƒ­
